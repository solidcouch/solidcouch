var Vz=Object.defineProperty;var II=t=>{throw TypeError(t)};var Kz=(t,e,n)=>e in t?Vz(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gb=(t,e,n)=>Kz(t,typeof e!="symbol"?e+"":e,n),Wb=(t,e,n)=>e.has(t)||II("Cannot "+n);var Je=(t,e,n)=>(Wb(t,e,"read from private field"),n?n.call(t):e.get(t)),Jt=(t,e,n)=>e.has(t)?II("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Mt=(t,e,n,r)=>(Wb(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),ln=(t,e,n)=>(Wb(t,e,"access private method"),n);var Fy=(t,e,n,r)=>({set _(i){Mt(t,e,i,n)},get _(){return Je(t,e,r)}});function Gz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ur(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function K$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Qb={exports:{}},zh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LI;function Wz(){if(LI)return zh;LI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return zh.Fragment=e,zh.jsx=n,zh.jsxs=n,zh}var MI;function Qz(){return MI||(MI=1,Qb.exports=Wz()),Qb.exports}var ge=Qz(),Gc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jc=typeof window>"u"||"Deno"in globalThis;function ss(){}function Zz(t,e){return typeof t=="function"?t(e):t}function zT(t){return typeof t=="number"&&t>=0&&t!==1/0}function G$(t,e){return Math.max(t+(e||0)-Date.now(),0)}function td(t,e){return typeof t=="function"?t(e):t}function Ts(t,e){return typeof t=="function"?t(e):t}function kI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==oA(s,e.options))return!1}else if(!xg(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function DI(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if($c(e.options.mutationKey)!==$c(a))return!1}else if(!xg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function oA(t,e){return((e==null?void 0:e.queryKeyHashFn)||$c)(t)}function $c(t){return JSON.stringify(t,(e,n)=>VT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function xg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!xg(t[n],e[n])):!1}function uA(t,e){if(t===e)return t;const n=NI(t)&&NI(e);if(n||VT(t)&&VT(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let f=0;f<s;f++){const h=n?f:a[f];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,l++):(o[h]=uA(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function L_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function NI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function VT(t){if(!FI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!FI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function FI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Jz(t){return new Promise(e=>{setTimeout(e,t)})}function KT(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?uA(t,e):e}function Yz(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function Xz(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var W$=Symbol();function Q$(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===W$?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Cc,sl,ld,k$,e7=(k$=class extends Gc{constructor(){super();Jt(this,Cc);Jt(this,sl);Jt(this,ld);Mt(this,ld,e=>{if(!jc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Je(this,sl)||this.setEventListener(Je(this,ld))}onUnsubscribe(){var e;this.hasListeners()||((e=Je(this,sl))==null||e.call(this),Mt(this,sl,void 0))}setEventListener(e){var n;Mt(this,ld,e),(n=Je(this,sl))==null||n.call(this),Mt(this,sl,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Je(this,Cc)!==e&&(Mt(this,Cc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Je(this,Cc)=="boolean"?Je(this,Cc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Cc=new WeakMap,sl=new WeakMap,ld=new WeakMap,k$),lA=new e7,cd,ol,fd,D$,t7=(D$=class extends Gc{constructor(){super();Jt(this,cd,!0);Jt(this,ol);Jt(this,fd);Mt(this,fd,e=>{if(!jc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Je(this,ol)||this.setEventListener(Je(this,fd))}onUnsubscribe(){var e;this.hasListeners()||((e=Je(this,ol))==null||e.call(this),Mt(this,ol,void 0))}setEventListener(e){var n;Mt(this,fd,e),(n=Je(this,ol))==null||n.call(this),Mt(this,ol,e(this.setOnline.bind(this)))}setOnline(e){Je(this,cd)!==e&&(Mt(this,cd,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Je(this,cd)}},cd=new WeakMap,ol=new WeakMap,fd=new WeakMap,D$),M_=new t7;function GT(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function n7(t){return Math.min(1e3*2**t,3e4)}function Z$(t){return(t??"online")==="online"?M_.isOnline():!0}var J$=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Zb(t){return t instanceof J$}function Y$(t){let e=!1,n=0,r=!1,i;const a=GT(),s=x=>{var E;r||(m(new J$(x)),(E=t.abort)==null||E.call(t))},o=()=>{e=!0},l=()=>{e=!1},f=()=>lA.isFocused()&&(t.networkMode==="always"||M_.isOnline())&&t.canRun(),h=()=>Z$(t.networkMode)&&t.canRun(),p=x=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,x),i==null||i(),a.resolve(x))},m=x=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,x),i==null||i(),a.reject(x))},y=()=>new Promise(x=>{var E;i=S=>{(r||f())&&x(S)},(E=t.onPause)==null||E.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),_=()=>{if(r)return;let x;const E=n===0?t.initialPromise:void 0;try{x=E??t.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(p).catch(S=>{var I;if(r)return;const b=t.retry??(jc?0:3),A=t.retryDelay??n7,k=typeof A=="function"?A(n,S):A,M=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,S);if(e||!M){m(S);return}n++,(I=t.onFail)==null||I.call(t,n,S),Jz(k).then(()=>f()?void 0:y()).then(()=>{e?m(S):_()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?_():y().then(_),a)}}function r7(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Fr=r7(),Ac,N$,X$=(N$=class{constructor(){Jt(this,Ac)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zT(this.gcTime)&&Mt(this,Ac,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(jc?1/0:5*60*1e3))}clearGcTimeout(){Je(this,Ac)&&(clearTimeout(Je(this,Ac)),Mt(this,Ac,void 0))}},Ac=new WeakMap,N$),dd,hd,as,Ni,Qg,Rc,xs,Jo,F$,i7=(F$=class extends X${constructor(e){super();Jt(this,xs);Jt(this,dd);Jt(this,hd);Jt(this,as);Jt(this,Ni);Jt(this,Qg);Jt(this,Rc);Mt(this,Rc,!1),Mt(this,Qg,e.defaultOptions),this.setOptions(e.options),this.observers=[],Mt(this,as,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Mt(this,dd,a7(this.options)),this.state=e.state??Je(this,dd),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Je(this,Ni))==null?void 0:e.promise}setOptions(e){this.options={...Je(this,Qg),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Je(this,as).remove(this)}setData(e,n){const r=KT(this.state.data,e,this.options);return ln(this,xs,Jo).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){ln(this,xs,Jo).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Je(this,Ni))==null?void 0:r.promise;return(i=Je(this,Ni))==null||i.cancel(e),n?n.then(ss).catch(ss):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Je(this,dd))}isActive(){return this.observers.some(e=>Ts(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!G$(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Je(this,Ni))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Je(this,Ni))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Je(this,as).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Je(this,Ni)&&(Je(this,Rc)?Je(this,Ni).cancel({revert:!0}):Je(this,Ni).cancelRetry()),this.scheduleGc()),Je(this,as).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ln(this,xs,Jo).call(this,{type:"invalidate"})}fetch(e,n){var l,f,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Je(this,Ni))return Je(this,Ni).continueRetry(),Je(this,Ni).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Mt(this,Rc,!0),r.signal)})},a=()=>{const p=Q$(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),Mt(this,Rc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),Mt(this,hd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=s.fetchOptions)==null?void 0:f.meta))&&ln(this,xs,Jo).call(this,{type:"fetch",meta:(h=s.fetchOptions)==null?void 0:h.meta});const o=p=>{var m,y,_,x;Zb(p)&&p.silent||ln(this,xs,Jo).call(this,{type:"error",error:p}),Zb(p)||((y=(m=Je(this,as).config).onError)==null||y.call(m,p,this),(x=(_=Je(this,as).config).onSettled)==null||x.call(_,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Mt(this,Ni,Y$({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,_,x;if(p===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){o(E);return}(y=(m=Je(this,as).config).onSuccess)==null||y.call(m,p,this),(x=(_=Je(this,as).config).onSettled)==null||x.call(_,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(p,m)=>{ln(this,xs,Jo).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{ln(this,xs,Jo).call(this,{type:"pause"})},onContinue:()=>{ln(this,xs,Jo).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Je(this,Ni).start()}},dd=new WeakMap,hd=new WeakMap,as=new WeakMap,Ni=new WeakMap,Qg=new WeakMap,Rc=new WeakMap,xs=new WeakSet,Jo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...eU(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Zb(i)&&i.revert&&Je(this,hd)?{...Je(this,hd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Fr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Je(this,as).notify({query:this,type:"updated",action:e})})},F$);function eU(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Z$(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function a7(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Js,j$,s7=(j$=class extends Gc{constructor(e={}){super();Jt(this,Js);this.config=e,Mt(this,Js,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??oA(i,n);let s=this.get(a);return s||(s=new i7({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){Je(this,Js).has(e.queryHash)||(Je(this,Js).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Je(this,Js).get(e.queryHash);n&&(e.destroy(),n===e&&Je(this,Js).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Je(this,Js).get(e)}getAll(){return[...Je(this,Js).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>kI(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>kI(e,r)):n}notify(e){Fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Js=new WeakMap,j$),Ys,ta,Oc,Xs,Xu,$$,o7=($$=class extends X${constructor(e){super();Jt(this,Xs);Jt(this,Ys);Jt(this,ta);Jt(this,Oc);this.mutationId=e.mutationId,Mt(this,ta,e.mutationCache),Mt(this,Ys,[]),this.state=e.state||tU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Je(this,Ys).includes(e)||(Je(this,Ys).push(e),this.clearGcTimeout(),Je(this,ta).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Mt(this,Ys,Je(this,Ys).filter(n=>n!==e)),this.scheduleGc(),Je(this,ta).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Je(this,Ys).length||(this.state.status==="pending"?this.scheduleGc():Je(this,ta).remove(this))}continue(){var e;return((e=Je(this,Oc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,f,h,p,m,y,_,x,E,S,b,A,k,M,I,F;Mt(this,Oc,Y$({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(B,ee)=>{ln(this,Xs,Xu).call(this,{type:"failed",failureCount:B,error:ee})},onPause:()=>{ln(this,Xs,Xu).call(this,{type:"pause"})},onContinue:()=>{ln(this,Xs,Xu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Je(this,ta).canRun(this)}));const n=this.state.status==="pending",r=!Je(this,Oc).canStart();try{if(!n){ln(this,Xs,Xu).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=Je(this,ta).config).onMutate)==null?void 0:a.call(i,e,this));const ee=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));ee!==this.state.context&&ln(this,Xs,Xu).call(this,{type:"pending",context:ee,variables:e,isPaused:r})}const B=await Je(this,Oc).start();return await((f=(l=Je(this,ta).config).onSuccess)==null?void 0:f.call(l,B,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,B,e,this.state.context)),await((y=(m=Je(this,ta).config).onSettled)==null?void 0:y.call(m,B,null,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,B,null,e,this.state.context)),ln(this,Xs,Xu).call(this,{type:"success",data:B}),B}catch(B){try{throw await((S=(E=Je(this,ta).config).onError)==null?void 0:S.call(E,B,e,this.state.context,this)),await((A=(b=this.options).onError)==null?void 0:A.call(b,B,e,this.state.context)),await((M=(k=Je(this,ta).config).onSettled)==null?void 0:M.call(k,void 0,B,this.state.variables,this.state.context,this)),await((F=(I=this.options).onSettled)==null?void 0:F.call(I,void 0,B,e,this.state.context)),B}finally{ln(this,Xs,Xu).call(this,{type:"error",error:B})}}finally{Je(this,ta).runNext(this)}}},Ys=new WeakMap,ta=new WeakMap,Oc=new WeakMap,Xs=new WeakSet,Xu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Fr.batch(()=>{Je(this,Ys).forEach(r=>{r.onMutationUpdate(e)}),Je(this,ta).notify({mutation:this,type:"updated",action:e})})},$$);function tU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Na,Zg,U$,u7=(U$=class extends Gc{constructor(e={}){super();Jt(this,Na);Jt(this,Zg);this.config=e,Mt(this,Na,new Map),Mt(this,Zg,Date.now())}build(e,n,r){const i=new o7({mutationCache:this,mutationId:++Fy(this,Zg)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=jy(e),r=Je(this,Na).get(n)??[];r.push(e),Je(this,Na).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=jy(e);if(Je(this,Na).has(n)){const i=(r=Je(this,Na).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?Je(this,Na).delete(n):Je(this,Na).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Je(this,Na).get(jy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Je(this,Na).get(jy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Fr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Je(this,Na).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>DI(n,r))}findAll(e={}){return this.getAll().filter(n=>DI(e,n))}notify(e){Fr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Fr.batch(()=>Promise.all(e.map(n=>n.continue().catch(ss))))}},Na=new WeakMap,Zg=new WeakMap,U$);function jy(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function jI(t){return{onFetch:(e,n)=>{var h,p,m,y,_;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],s=((_=e.state.data)==null?void 0:_.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const f=async()=>{let x=!1;const E=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},S=Q$(e.options,e.fetchOptions),b=async(A,k,M)=>{if(x)return Promise.reject();if(k==null&&A.pages.length)return Promise.resolve(A);const I={queryKey:e.queryKey,pageParam:k,direction:M?"backward":"forward",meta:e.options.meta};E(I);const F=await S(I),{maxPages:B}=e.options,ee=M?Xz:Yz;return{pages:ee(A.pages,F,B),pageParams:ee(A.pageParams,k,B)}};if(i&&a.length){const A=i==="backward",k=A?l7:$I,M={pages:a,pageParams:s},I=k(r,M);o=await b(M,I,A)}else{const A=t??a.length;do{const k=l===0?s[0]??r.initialPageParam:$I(r,o);if(l>0&&k==null)break;o=await b(o,k),l++}while(l<A)}return o};e.options.persister?e.fetchFn=()=>{var x,E;return(E=(x=e.options).persister)==null?void 0:E.call(x,f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=f}}}function $I(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function l7(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Nr,ul,ll,pd,gd,cl,md,yd,B$,c7=(B$=class{constructor(t={}){Jt(this,Nr);Jt(this,ul);Jt(this,ll);Jt(this,pd);Jt(this,gd);Jt(this,cl);Jt(this,md);Jt(this,yd);Mt(this,Nr,t.queryCache||new s7),Mt(this,ul,t.mutationCache||new u7),Mt(this,ll,t.defaultOptions||{}),Mt(this,pd,new Map),Mt(this,gd,new Map),Mt(this,cl,0)}mount(){Fy(this,cl)._++,Je(this,cl)===1&&(Mt(this,md,lA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Je(this,Nr).onFocus())})),Mt(this,yd,M_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Je(this,Nr).onOnline())})))}unmount(){var t,e;Fy(this,cl)._--,Je(this,cl)===0&&((t=Je(this,md))==null||t.call(this),Mt(this,md,void 0),(e=Je(this,yd))==null||e.call(this),Mt(this,yd,void 0))}isFetching(t){return Je(this,Nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Je(this,ul).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Je(this,Nr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Je(this,Nr).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(td(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Je(this,Nr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Je(this,Nr).get(r.queryHash),a=i==null?void 0:i.state.data,s=Zz(e,a);if(s!==void 0)return Je(this,Nr).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Fr.batch(()=>Je(this,Nr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Je(this,Nr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Je(this,Nr);Fr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Je(this,Nr),r={type:"active",...t};return Fr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Fr.batch(()=>Je(this,Nr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ss).catch(ss)}invalidateQueries(t={},e={}){return Fr.batch(()=>{if(Je(this,Nr).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Fr.batch(()=>Je(this,Nr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(ss)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(ss)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Je(this,Nr).build(this,e);return n.isStaleByTime(td(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ss).catch(ss)}fetchInfiniteQuery(t){return t.behavior=jI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ss).catch(ss)}ensureInfiniteQueryData(t){return t.behavior=jI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return M_.isOnline()?Je(this,ul).resumePausedMutations():Promise.resolve()}getQueryCache(){return Je(this,Nr)}getMutationCache(){return Je(this,ul)}getDefaultOptions(){return Je(this,ll)}setDefaultOptions(t){Mt(this,ll,t)}setQueryDefaults(t,e){Je(this,pd).set($c(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Je(this,pd).values()];let n={};return e.forEach(r=>{xg(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Je(this,gd).set($c(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Je(this,gd).values()];let n={};return e.forEach(r=>{xg(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Je(this,ll).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=oA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===W$&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Je(this,ll).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Je(this,Nr).clear(),Je(this,ul).clear()}},Nr=new WeakMap,ul=new WeakMap,ll=new WeakMap,pd=new WeakMap,gd=new WeakMap,cl=new WeakMap,md=new WeakMap,yd=new WeakMap,B$),ma,Dn,Jg,na,Pc,vd,fl,eo,Yg,_d,wd,Ic,Lc,dl,bd,tr,Xp,WT,QT,ZT,JT,YT,XT,eC,nU,q$,cA=(q$=class extends Gc{constructor(e,n){super();Jt(this,tr);Jt(this,ma);Jt(this,Dn);Jt(this,Jg);Jt(this,na);Jt(this,Pc);Jt(this,vd);Jt(this,fl);Jt(this,eo);Jt(this,Yg);Jt(this,_d);Jt(this,wd);Jt(this,Ic);Jt(this,Lc);Jt(this,dl);Jt(this,bd,new Set);this.options=n,Mt(this,ma,e),Mt(this,eo,null),Mt(this,fl,GT()),this.options.experimental_prefetchInRender||Je(this,fl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Je(this,Dn).addObserver(this),UI(Je(this,Dn),this.options)?ln(this,tr,Xp).call(this):this.updateResult(),ln(this,tr,JT).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return tC(Je(this,Dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return tC(Je(this,Dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ln(this,tr,YT).call(this),ln(this,tr,XT).call(this),Je(this,Dn).removeObserver(this)}setOptions(e,n){const r=this.options,i=Je(this,Dn);if(this.options=Je(this,ma).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ts(this.options.enabled,Je(this,Dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ln(this,tr,eC).call(this),Je(this,Dn).setOptions(this.options),r._defaulted&&!L_(this.options,r)&&Je(this,ma).getQueryCache().notify({type:"observerOptionsUpdated",query:Je(this,Dn),observer:this});const a=this.hasListeners();a&&BI(Je(this,Dn),i,this.options,r)&&ln(this,tr,Xp).call(this),this.updateResult(n),a&&(Je(this,Dn)!==i||Ts(this.options.enabled,Je(this,Dn))!==Ts(r.enabled,Je(this,Dn))||td(this.options.staleTime,Je(this,Dn))!==td(r.staleTime,Je(this,Dn)))&&ln(this,tr,WT).call(this);const s=ln(this,tr,QT).call(this);a&&(Je(this,Dn)!==i||Ts(this.options.enabled,Je(this,Dn))!==Ts(r.enabled,Je(this,Dn))||s!==Je(this,dl))&&ln(this,tr,ZT).call(this,s)}getOptimisticResult(e){const n=Je(this,ma).getQueryCache().build(Je(this,ma),e),r=this.createResult(n,e);return d7(this,r)&&(Mt(this,na,r),Mt(this,vd,this.options),Mt(this,Pc,Je(this,Dn).state)),r}getCurrentResult(){return Je(this,na)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){Je(this,bd).add(e)}getCurrentQuery(){return Je(this,Dn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Je(this,ma).defaultQueryOptions(e),r=Je(this,ma).getQueryCache().build(Je(this,ma),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return ln(this,tr,Xp).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Je(this,na)))}createResult(e,n){var F;const r=Je(this,Dn),i=this.options,a=Je(this,na),s=Je(this,Pc),o=Je(this,vd),f=e!==r?e.state:Je(this,Jg),{state:h}=e;let p={...h},m=!1,y;if(n._optimisticResults){const B=this.hasListeners(),ee=!B&&UI(e,n),U=B&&BI(e,r,n,i);(ee||U)&&(p={...p,...eU(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:_,errorUpdatedAt:x,status:E}=p;if(n.select&&p.data!==void 0)if(a&&p.data===(s==null?void 0:s.data)&&n.select===Je(this,Yg))y=Je(this,_d);else try{Mt(this,Yg,n.select),y=n.select(p.data),y=KT(a==null?void 0:a.data,y,n),Mt(this,_d,y),Mt(this,eo,null)}catch(B){Mt(this,eo,B)}else y=p.data;if(n.placeholderData!==void 0&&y===void 0&&E==="pending"){let B;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))B=a.data;else if(B=typeof n.placeholderData=="function"?n.placeholderData((F=Je(this,wd))==null?void 0:F.state.data,Je(this,wd)):n.placeholderData,n.select&&B!==void 0)try{B=n.select(B),Mt(this,eo,null)}catch(ee){Mt(this,eo,ee)}B!==void 0&&(E="success",y=KT(a==null?void 0:a.data,B,n),m=!0)}Je(this,eo)&&(_=Je(this,eo),y=Je(this,_d),x=Date.now(),E="error");const S=p.fetchStatus==="fetching",b=E==="pending",A=E==="error",k=b&&S,M=y!==void 0;return{status:E,fetchStatus:p.fetchStatus,isPending:b,isSuccess:E==="success",isError:A,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:p.dataUpdatedAt,error:_,errorUpdatedAt:x,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!b,isLoadingError:A&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&M,isStale:fA(e,n),refetch:this.refetch,promise:Je(this,fl)}}updateResult(e){const n=Je(this,na),r=this.createResult(Je(this,Dn),this.options);if(Mt(this,Pc,Je(this,Dn).state),Mt(this,vd,this.options),Je(this,Pc).data!==void 0&&Mt(this,wd,Je(this,Dn)),L_(r,n))return;if(this.options.experimental_prefetchInRender){const s=f=>{r.status==="error"?f.reject(r.error):r.data!==void 0&&f.resolve(r.data)},o=()=>{const f=Mt(this,fl,r.promise=GT());s(f)},l=Je(this,fl);switch(l.status){case"pending":s(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&o();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&o();break}}Mt(this,na,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!Je(this,bd).size)return!0;const l=new Set(o??Je(this,bd));return this.options.throwOnError&&l.add("error"),Object.keys(Je(this,na)).some(f=>{const h=f;return Je(this,na)[h]!==n[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),ln(this,tr,nU).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ln(this,tr,JT).call(this)}},ma=new WeakMap,Dn=new WeakMap,Jg=new WeakMap,na=new WeakMap,Pc=new WeakMap,vd=new WeakMap,fl=new WeakMap,eo=new WeakMap,Yg=new WeakMap,_d=new WeakMap,wd=new WeakMap,Ic=new WeakMap,Lc=new WeakMap,dl=new WeakMap,bd=new WeakMap,tr=new WeakSet,Xp=function(e){ln(this,tr,eC).call(this);let n=Je(this,Dn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ss)),n},WT=function(){ln(this,tr,YT).call(this);const e=td(this.options.staleTime,Je(this,Dn));if(jc||Je(this,na).isStale||!zT(e))return;const r=G$(Je(this,na).dataUpdatedAt,e)+1;Mt(this,Ic,setTimeout(()=>{Je(this,na).isStale||this.updateResult()},r))},QT=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Je(this,Dn)):this.options.refetchInterval)??!1},ZT=function(e){ln(this,tr,XT).call(this),Mt(this,dl,e),!(jc||Ts(this.options.enabled,Je(this,Dn))===!1||!zT(Je(this,dl))||Je(this,dl)===0)&&Mt(this,Lc,setInterval(()=>{(this.options.refetchIntervalInBackground||lA.isFocused())&&ln(this,tr,Xp).call(this)},Je(this,dl)))},JT=function(){ln(this,tr,WT).call(this),ln(this,tr,ZT).call(this,ln(this,tr,QT).call(this))},YT=function(){Je(this,Ic)&&(clearTimeout(Je(this,Ic)),Mt(this,Ic,void 0))},XT=function(){Je(this,Lc)&&(clearInterval(Je(this,Lc)),Mt(this,Lc,void 0))},eC=function(){const e=Je(this,ma).getQueryCache().build(Je(this,ma),this.options);if(e===Je(this,Dn))return;const n=Je(this,Dn);Mt(this,Dn,e),Mt(this,Jg,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},nU=function(e){Fr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Je(this,na))}),Je(this,ma).getQueryCache().notify({query:Je(this,Dn),type:"observerResultsUpdated"})})},q$);function f7(t,e){return Ts(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function UI(t,e){return f7(t,e)||t.state.data!==void 0&&tC(t,e,e.refetchOnMount)}function tC(t,e,n){if(Ts(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&fA(t,e)}return!1}function BI(t,e,n,r){return(t!==e||Ts(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&fA(t,n)}function fA(t,e){return Ts(e.enabled,t)!==!1&&t.isStaleByTime(td(e.staleTime,t))}function d7(t,e){return!L_(t.getCurrentResult(),e)}function qI(t,e){return t.filter(n=>!e.includes(n))}function h7(t,e,n){const r=t.slice(0);return r[e]=n,r}var Mc,Es,Sd,Fa,kc,Xg,em,Va,rU,nC,rC,iC,H$,p7=(H$=class extends Gc{constructor(e,n,r){super();Jt(this,Va);Jt(this,Mc);Jt(this,Es);Jt(this,Sd);Jt(this,Fa);Jt(this,kc);Jt(this,Xg);Jt(this,em);Mt(this,Mc,e),Mt(this,Sd,[]),Mt(this,Fa,[]),Mt(this,Es,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Je(this,Fa).forEach(e=>{e.subscribe(n=>{ln(this,Va,rC).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Je(this,Fa).forEach(e=>{e.destroy()})}setQueries(e,n,r){Mt(this,Sd,e),Fr.batch(()=>{const i=Je(this,Fa),a=ln(this,Va,nC).call(this,Je(this,Sd));a.forEach(f=>f.observer.setOptions(f.defaultedQueryOptions,r));const s=a.map(f=>f.observer),o=s.map(f=>f.getCurrentResult()),l=s.some((f,h)=>f!==i[h]);i.length===s.length&&!l||(Mt(this,Fa,s),Mt(this,Es,o),this.hasListeners()&&(qI(i,s).forEach(f=>{f.destroy()}),qI(s,i).forEach(f=>{f.subscribe(h=>{ln(this,Va,rC).call(this,f,h)})}),ln(this,Va,iC).call(this)))})}getCurrentResult(){return Je(this,Es)}getQueries(){return Je(this,Fa).map(e=>e.getCurrentQuery())}getObservers(){return Je(this,Fa)}getOptimisticResult(e,n){const r=ln(this,Va,nC).call(this,e),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>ln(this,Va,rU).call(this,a??i,n),()=>r.map((a,s)=>{const o=i[s];return a.defaultedQueryOptions.notifyOnChangeProps?o:a.observer.trackResult(o,l=>{r.forEach(f=>{f.observer.trackProp(l)})})})]}},Mc=new WeakMap,Es=new WeakMap,Sd=new WeakMap,Fa=new WeakMap,kc=new WeakMap,Xg=new WeakMap,em=new WeakMap,Va=new WeakSet,rU=function(e,n){return n?((!Je(this,kc)||Je(this,Es)!==Je(this,em)||n!==Je(this,Xg))&&(Mt(this,Xg,n),Mt(this,em,Je(this,Es)),Mt(this,kc,uA(Je(this,kc),n(e)))),Je(this,kc)):e},nC=function(e){const n=Je(this,Fa),r=new Map(n.map(p=>[p.options.queryHash,p])),i=e.map(p=>Je(this,Mc).defaultQueryOptions(p)),a=i.flatMap(p=>{const m=r.get(p.queryHash);return m!=null?[{defaultedQueryOptions:p,observer:m}]:[]}),s=new Set(a.map(p=>p.defaultedQueryOptions.queryHash)),o=i.filter(p=>!s.has(p.queryHash)),l=p=>{const m=Je(this,Mc).defaultQueryOptions(p);return Je(this,Fa).find(_=>_.options.queryHash===m.queryHash)??new cA(Je(this,Mc),m)},f=o.map(p=>({defaultedQueryOptions:p,observer:l(p)})),h=(p,m)=>i.indexOf(p.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(f).sort(h)},rC=function(e,n){const r=Je(this,Fa).indexOf(e);r!==-1&&(Mt(this,Es,h7(Je(this,Es),r,n)),ln(this,Va,iC).call(this))},iC=function(){Fr.batch(()=>{this.listeners.forEach(e=>{e(Je(this,Es))})})},H$),hl,pl,ya,Xo,iu,f_,aC,z$,g7=(z$=class extends Gc{constructor(n,r){super();Jt(this,iu);Jt(this,hl);Jt(this,pl);Jt(this,ya);Jt(this,Xo);Mt(this,hl,n),this.setOptions(r),this.bindMethods(),ln(this,iu,f_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Je(this,hl).defaultMutationOptions(n),L_(this.options,r)||Je(this,hl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Je(this,ya),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&$c(r.mutationKey)!==$c(this.options.mutationKey)?this.reset():((i=Je(this,ya))==null?void 0:i.state.status)==="pending"&&Je(this,ya).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Je(this,ya))==null||n.removeObserver(this)}onMutationUpdate(n){ln(this,iu,f_).call(this),ln(this,iu,aC).call(this,n)}getCurrentResult(){return Je(this,pl)}reset(){var n;(n=Je(this,ya))==null||n.removeObserver(this),Mt(this,ya,void 0),ln(this,iu,f_).call(this),ln(this,iu,aC).call(this)}mutate(n,r){var i;return Mt(this,Xo,r),(i=Je(this,ya))==null||i.removeObserver(this),Mt(this,ya,Je(this,hl).getMutationCache().build(Je(this,hl),this.options)),Je(this,ya).addObserver(this),Je(this,ya).execute(n)}},hl=new WeakMap,pl=new WeakMap,ya=new WeakMap,Xo=new WeakMap,iu=new WeakSet,f_=function(){var r;const n=((r=Je(this,ya))==null?void 0:r.state)??tU();Mt(this,pl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},aC=function(n){Fr.batch(()=>{var r,i,a,s,o,l,f,h;if(Je(this,Xo)&&this.hasListeners()){const p=Je(this,pl).variables,m=Je(this,pl).context;(n==null?void 0:n.type)==="success"?((i=(r=Je(this,Xo)).onSuccess)==null||i.call(r,n.data,p,m),(s=(a=Je(this,Xo)).onSettled)==null||s.call(a,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((l=(o=Je(this,Xo)).onError)==null||l.call(o,n.error,p,m),(h=(f=Je(this,Xo)).onSettled)==null||h.call(f,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(Je(this,pl))})})},z$),Jb={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function m7(){if(HI)return wn;HI=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(D){return D===null||typeof D!="object"?null:(D=p&&D[p]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,x={};function E(D,X,ce){this.props=D,this.context=X,this.refs=x,this.updater=ce||y}E.prototype.isReactComponent={},E.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function S(){}S.prototype=E.prototype;function b(D,X,ce){this.props=D,this.context=X,this.refs=x,this.updater=ce||y}var A=b.prototype=new S;A.constructor=b,_(A,E.prototype),A.isPureReactComponent=!0;var k=Array.isArray,M={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function F(D,X,ce,V,Z,he){return ce=he.ref,{$$typeof:t,type:D,key:X,ref:ce!==void 0?ce:null,props:he}}function B(D,X){return F(D.type,X,void 0,void 0,void 0,D.props)}function ee(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function U(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return X[ce]})}var J=/\/+/g;function le(D,X){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):X.toString(36)}function Y(){}function se(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(Y,Y):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function me(D,X,ce,V,Z){var he=typeof D;(he==="undefined"||he==="boolean")&&(D=null);var xe=!1;if(D===null)xe=!0;else switch(he){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(D.$$typeof){case t:case e:xe=!0;break;case h:return xe=D._init,me(xe(D._payload),X,ce,V,Z)}}if(xe)return Z=Z(D),xe=V===""?"."+le(D,0):V,k(Z)?(ce="",xe!=null&&(ce=xe.replace(J,"$&/")+"/"),me(Z,X,ce,"",function(Me){return Me})):Z!=null&&(ee(Z)&&(Z=B(Z,ce+(Z.key==null||D&&D.key===Z.key?"":(""+Z.key).replace(J,"$&/")+"/")+xe)),X.push(Z)),1;xe=0;var Ve=V===""?".":V+":";if(k(D))for(var Te=0;Te<D.length;Te++)V=D[Te],he=Ve+le(V,Te),xe+=me(V,X,ce,he,Z);else if(Te=m(D),typeof Te=="function")for(D=Te.call(D),Te=0;!(V=D.next()).done;)V=V.value,he=Ve+le(V,Te++),xe+=me(V,X,ce,he,Z);else if(he==="object"){if(typeof D.then=="function")return me(se(D),X,ce,V,Z);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ve(D,X,ce){if(D==null)return D;var V=[],Z=0;return me(D,V,"","",function(he){return X.call(ce,he,Z++)}),V}function fe(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Oe(){}return wn.Children={map:ve,forEach:function(D,X,ce){ve(D,function(){X.apply(this,arguments)},ce)},count:function(D){var X=0;return ve(D,function(){X++}),X},toArray:function(D){return ve(D,function(X){return X})||[]},only:function(D){if(!ee(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},wn.Component=E,wn.Fragment=n,wn.Profiler=i,wn.PureComponent=b,wn.StrictMode=r,wn.Suspense=l,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wn.act=function(){throw Error("act(...) is not supported in production builds of React.")},wn.cache=function(D){return function(){return D.apply(null,arguments)}},wn.cloneElement=function(D,X,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var V=_({},D.props),Z=D.key,he=void 0;if(X!=null)for(xe in X.ref!==void 0&&(he=void 0),X.key!==void 0&&(Z=""+X.key),X)!I.call(X,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&X.ref===void 0||(V[xe]=X[xe]);var xe=arguments.length-2;if(xe===1)V.children=ce;else if(1<xe){for(var Ve=Array(xe),Te=0;Te<xe;Te++)Ve[Te]=arguments[Te+2];V.children=Ve}return F(D.type,Z,void 0,void 0,he,V)},wn.createContext=function(D){return D={$$typeof:s,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:a,_context:D},D},wn.createElement=function(D,X,ce){var V,Z={},he=null;if(X!=null)for(V in X.key!==void 0&&(he=""+X.key),X)I.call(X,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(Z[V]=X[V]);var xe=arguments.length-2;if(xe===1)Z.children=ce;else if(1<xe){for(var Ve=Array(xe),Te=0;Te<xe;Te++)Ve[Te]=arguments[Te+2];Z.children=Ve}if(D&&D.defaultProps)for(V in xe=D.defaultProps,xe)Z[V]===void 0&&(Z[V]=xe[V]);return F(D,he,void 0,void 0,null,Z)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(D){return{$$typeof:o,render:D}},wn.isValidElement=ee,wn.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:fe}},wn.memo=function(D,X){return{$$typeof:f,type:D,compare:X===void 0?null:X}},wn.startTransition=function(D){var X=M.T,ce={};M.T=ce;try{var V=D(),Z=M.S;Z!==null&&Z(ce,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(Oe,ue)}catch(he){ue(he)}finally{M.T=X}},wn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wn.use=function(D){return M.H.use(D)},wn.useActionState=function(D,X,ce){return M.H.useActionState(D,X,ce)},wn.useCallback=function(D,X){return M.H.useCallback(D,X)},wn.useContext=function(D){return M.H.useContext(D)},wn.useDebugValue=function(){},wn.useDeferredValue=function(D,X){return M.H.useDeferredValue(D,X)},wn.useEffect=function(D,X){return M.H.useEffect(D,X)},wn.useId=function(){return M.H.useId()},wn.useImperativeHandle=function(D,X,ce){return M.H.useImperativeHandle(D,X,ce)},wn.useInsertionEffect=function(D,X){return M.H.useInsertionEffect(D,X)},wn.useLayoutEffect=function(D,X){return M.H.useLayoutEffect(D,X)},wn.useMemo=function(D,X){return M.H.useMemo(D,X)},wn.useOptimistic=function(D,X){return M.H.useOptimistic(D,X)},wn.useReducer=function(D,X,ce){return M.H.useReducer(D,X,ce)},wn.useRef=function(D){return M.H.useRef(D)},wn.useState=function(D){return M.H.useState(D)},wn.useSyncExternalStore=function(D,X,ce){return M.H.useSyncExternalStore(D,X,ce)},wn.useTransition=function(){return M.H.useTransition()},wn.version="19.0.0",wn}var zI;function Md(){return zI||(zI=1,Jb.exports=m7()),Jb.exports}var ae=Md();const Gt=Ur(ae),Eg=Gz({__proto__:null,default:Gt},[ae]);var iU=ae.createContext(void 0),xa=t=>{const e=ae.useContext(iU);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},y7=({client:t,children:e})=>(ae.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),ge.jsx(iU.Provider,{value:t,children:e})),aU=ae.createContext(!1),sU=()=>ae.useContext(aU);aU.Provider;function v7(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _7=ae.createContext(v7()),oU=()=>ae.useContext(_7);function uU(t,e){return typeof t=="function"?t(...e):!!t}function lU(){}var cU=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},fU=t=>{ae.useEffect(()=>{t.clearReset()},[t])},dU=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&uU(n,[t.error,r]),hU=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},pU=(t,e)=>t.isLoading&&t.isFetching&&!e,sC=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,k_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function dA({queries:t,...e},n){const r=xa(),i=sU(),a=oU(),s=ae.useMemo(()=>t.map(_=>{const x=r.defaultQueryOptions(_);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,r,i]);s.forEach(_=>{hU(_),cU(_,a)}),fU(a);const[o]=ae.useState(()=>new p7(r,s,e)),[l,f,h]=o.getOptimisticResult(s,e.combine);ae.useSyncExternalStore(ae.useCallback(_=>i?()=>{}:o.subscribe(Fr.batchCalls(_)),[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),ae.useEffect(()=>{o.setQueries(s,e,{listeners:!1})},[s,e,o]);const m=l.some((_,x)=>sC(s[x],_))?l.flatMap((_,x)=>{const E=s[x];if(E){const S=new cA(r,E);if(sC(E,_))return k_(E,S,a);pU(_,i)&&k_(E,S,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=l.find((_,x)=>{const E=s[x];return E&&dU({result:_,errorResetBoundary:a,throwOnError:E.throwOnError,query:r.getQueryCache().get(E.queryHash)})});if(y!=null&&y.error)throw y.error;return f(h())}function w7(t,e,n){var h,p,m,y,_;const r=xa(),i=sU(),a=oU(),s=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=i?"isRestoring":"optimistic",hU(s),cU(s,a),fU(a);const o=!r.getQueryState(t.queryKey),[l]=ae.useState(()=>new e(r,s)),f=l.getOptimisticResult(s);if(ae.useSyncExternalStore(ae.useCallback(x=>{const E=i?()=>{}:l.subscribe(Fr.batchCalls(x));return l.updateResult(),E},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),ae.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),sC(s,f))throw k_(s,l,a);if(dU({result:f,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw f.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,s,f),s.experimental_prefetchInRender&&!jc&&pU(f,i)){const x=o?k_(s,l,a):(_=r.getQueryCache().get(s.queryHash))==null?void 0:_.promise;x==null||x.catch(lU).finally(()=>{l.hasListeners()||l.updateResult()})}return s.notifyOnChangeProps?f:l.trackResult(f)}function tm(t,e){return w7(t,cA)}function fs(t,e){const n=xa(),[r]=ae.useState(()=>new g7(n,t));ae.useEffect(()=>{r.setOptions(t)},[r,t]);const i=ae.useSyncExternalStore(ae.useCallback(s=>r.subscribe(Fr.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=ae.useCallback((s,o)=>{r.mutate(s,o).catch(lU)},[r]);if(i.error&&uU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var Yb={exports:{}},Vh={},Xb={exports:{}},e1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VI;function b7(){return VI||(VI=1,function(t){function e(ve,fe){var ue=ve.length;ve.push(fe);e:for(;0<ue;){var Oe=ue-1>>>1,D=ve[Oe];if(0<i(D,fe))ve[Oe]=fe,ve[ue]=D,ue=Oe;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var fe=ve[0],ue=ve.pop();if(ue!==fe){ve[0]=ue;e:for(var Oe=0,D=ve.length,X=D>>>1;Oe<X;){var ce=2*(Oe+1)-1,V=ve[ce],Z=ce+1,he=ve[Z];if(0>i(V,ue))Z<D&&0>i(he,V)?(ve[Oe]=he,ve[Z]=ue,Oe=Z):(ve[Oe]=V,ve[ce]=ue,Oe=ce);else if(Z<D&&0>i(he,ue))ve[Oe]=he,ve[Z]=ue,Oe=Z;else break e}}return fe}function i(ve,fe){var ue=ve.sortIndex-fe.sortIndex;return ue!==0?ue:ve.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],f=[],h=1,p=null,m=3,y=!1,_=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function A(ve){for(var fe=n(f);fe!==null;){if(fe.callback===null)r(f);else if(fe.startTime<=ve)r(f),fe.sortIndex=fe.expirationTime,e(l,fe);else break;fe=n(f)}}function k(ve){if(x=!1,A(ve),!_)if(n(l)!==null)_=!0,se();else{var fe=n(f);fe!==null&&me(k,fe.startTime-ve)}}var M=!1,I=-1,F=5,B=-1;function ee(){return!(t.unstable_now()-B<F)}function U(){if(M){var ve=t.unstable_now();B=ve;var fe=!0;try{e:{_=!1,x&&(x=!1,S(I),I=-1),y=!0;var ue=m;try{t:{for(A(ve),p=n(l);p!==null&&!(p.expirationTime>ve&&ee());){var Oe=p.callback;if(typeof Oe=="function"){p.callback=null,m=p.priorityLevel;var D=Oe(p.expirationTime<=ve);if(ve=t.unstable_now(),typeof D=="function"){p.callback=D,A(ve),fe=!0;break t}p===n(l)&&r(l),A(ve)}else r(l);p=n(l)}if(p!==null)fe=!0;else{var X=n(f);X!==null&&me(k,X.startTime-ve),fe=!1}}break e}finally{p=null,m=ue,y=!1}fe=void 0}}finally{fe?J():M=!1}}}var J;if(typeof b=="function")J=function(){b(U)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Y=le.port2;le.port1.onmessage=U,J=function(){Y.postMessage(null)}}else J=function(){E(U,0)};function se(){M||(M=!0,J())}function me(ve,fe){I=E(function(){ve(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,se())},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ve){switch(m){case 1:case 2:case 3:var fe=3;break;default:fe=m}var ue=m;m=fe;try{return ve()}finally{m=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,fe){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var ue=m;m=ve;try{return fe()}finally{m=ue}},t.unstable_scheduleCallback=function(ve,fe,ue){var Oe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Oe+ue:Oe):ue=Oe,ve){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,ve={id:h++,callback:fe,priorityLevel:ve,startTime:ue,expirationTime:D,sortIndex:-1},ue>Oe?(ve.sortIndex=ue,e(f,ve),n(l)===null&&ve===n(f)&&(x?(S(I),I=-1):x=!0,me(k,ue-Oe))):(ve.sortIndex=D,e(l,ve),_||y||(_=!0,se())),ve},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(ve){var fe=m;return function(){var ue=m;m=fe;try{return ve.apply(this,arguments)}finally{m=ue}}}}(e1)),e1}var KI;function S7(){return KI||(KI=1,Xb.exports=b7()),Xb.exports}var t1={exports:{}},ki={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI;function x7(){if(GI)return ki;GI=1;var t=Md();function e(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,f){if(l==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ki.createPortal=function(l,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(l,f,null,h)},ki.flushSync=function(l){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=f,r.p=h,r.d.f()}},ki.preconnect=function(l,f){typeof l=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(l,f))},ki.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ki.preinit=function(l,f){if(typeof l=="string"&&f&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin),m=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(l,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&r.d.X(l,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ki.preinitModule=function(l,f){if(typeof l=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(l)},ki.preload=function(l,f){if(typeof l=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin);r.d.L(l,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ki.preloadModule=function(l,f){if(typeof l=="string")if(f){var h=o(f.as,f.crossOrigin);r.d.m(l,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(l)},ki.requestFormReset=function(l){r.d.r(l)},ki.unstable_batchedUpdates=function(l,f){return l(f)},ki.useFormState=function(l,f,h){return s.H.useFormState(l,f,h)},ki.useFormStatus=function(){return s.H.useHostTransitionStatus()},ki.version="19.0.0",ki}var WI;function hA(){if(WI)return t1.exports;WI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),t1.exports=x7(),t1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QI;function E7(){if(QI)return Vh;QI=1;var t=S7(),e=Md(),n=hA();function r(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)c+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function I(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function B(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case o:return"Portal";case h:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case E:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case _:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case S:return c=u.displayName||null,c!==null?c:B(u.type)||"Memo";case b:c=u._payload,u=u._init;try{return B(u(c))}catch{}}return null}var ee=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,J,le;function Y(u){if(J===void 0)try{throw Error()}catch(g){var c=g.stack.trim().match(/\n( *(at )?)/);J=c&&c[1]||"",le=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+u+le}var se=!1;function me(u,c){if(!u||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(c){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(vt){var pt=vt}Reflect.construct(u,[],Ct)}else{try{Ct.call()}catch(vt){pt=vt}u.call(Ct.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(Ct=u())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var P=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");P&&P.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=w.DetermineComponentFrameRoot(),de=j[0],Re=j[1];if(de&&Re){var Ke=de.split(`
`),at=Re.split(`
`);for(P=w=0;w<Ke.length&&!Ke[w].includes("DetermineComponentFrameRoot");)w++;for(;P<at.length&&!at[P].includes("DetermineComponentFrameRoot");)P++;if(w===Ke.length||P===at.length)for(w=Ke.length-1,P=at.length-1;1<=w&&0<=P&&Ke[w]!==at[P];)P--;for(;1<=w&&0<=P;w--,P--)if(Ke[w]!==at[P]){if(w!==1||P!==1)do if(w--,P--,0>P||Ke[w]!==at[P]){var _t=`
`+Ke[w].replace(" at new "," at ");return u.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",u.displayName)),_t}while(1<=w&&0<=P);break}}}finally{se=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?Y(g):""}function ve(u){switch(u.tag){case 26:case 27:case 5:return Y(u.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return u=me(u.type,!1),u;case 11:return u=me(u.type.render,!1),u;case 1:return u=me(u.type,!0),u;default:return""}}function fe(u){try{var c="";do c+=ve(u),u=u.return;while(u);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ue(u){var c=u,g=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,c.flags&4098&&(g=c.return),u=c.return;while(u)}return c.tag===3?g:null}function Oe(u){if(u.tag===13){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function D(u){if(ue(u)!==u)throw Error(r(188))}function X(u){var c=u.alternate;if(!c){if(c=ue(u),c===null)throw Error(r(188));return c!==u?null:u}for(var g=u,w=c;;){var P=g.return;if(P===null)break;var j=P.alternate;if(j===null){if(w=P.return,w!==null){g=w;continue}break}if(P.child===j.child){for(j=P.child;j;){if(j===g)return D(P),u;if(j===w)return D(P),c;j=j.sibling}throw Error(r(188))}if(g.return!==w.return)g=P,w=j;else{for(var de=!1,Re=P.child;Re;){if(Re===g){de=!0,g=P,w=j;break}if(Re===w){de=!0,w=P,g=j;break}Re=Re.sibling}if(!de){for(Re=j.child;Re;){if(Re===g){de=!0,g=j,w=P;break}if(Re===w){de=!0,w=j,g=P;break}Re=Re.sibling}if(!de)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:c}function ce(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u;for(u=u.child;u!==null;){if(c=ce(u),c!==null)return c;u=u.sibling}return null}var V=Array.isArray,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},xe=[],Ve=-1;function Te(u){return{current:u}}function Me(u){0>Ve||(u.current=xe[Ve],xe[Ve]=null,Ve--)}function Ze(u,c){Ve++,xe[Ve]=u.current,u.current=c}var ie=Te(null),z=Te(null),$=Te(null),re=Te(null);function W(u,c){switch(Ze($,c),Ze(z,u),Ze(ie,null),u=c.nodeType,u){case 9:case 11:c=(c=c.documentElement)&&(c=c.namespaceURI)?sI(c):0;break;default:if(u=u===8?c.parentNode:c,c=u.tagName,u=u.namespaceURI)u=sI(u),c=oI(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Me(ie),Ze(ie,c)}function pe(){Me(ie),Me(z),Me($)}function ye(u){u.memoizedState!==null&&Ze(re,u);var c=ie.current,g=oI(c,u.type);c!==g&&(Ze(z,u),Ze(ie,g))}function ze(u){z.current===u&&(Me(ie),Me(z)),re.current===u&&(Me(re),$h._currentValue=he)}var Ce=Object.prototype.hasOwnProperty,Fe=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,nt=t.unstable_shouldYield,gt=t.unstable_requestPaint,Ut=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,te=t.unstable_UserBlockingPriority,H=t.unstable_NormalPriority,G=t.unstable_LowPriority,K=t.unstable_IdlePriority,je=t.log,Ye=t.unstable_setDisableYieldValue,Ne=null,At=null;function Pt(u){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Ne,u,void 0,(u.current.flags&128)===128)}catch{}}function kt(u){if(typeof je=="function"&&Ye(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(Ne,u)}catch{}}var Rt=Math.clz32?Math.clz32:fn,Bt=Math.log,Er=Math.LN2;function fn(u){return u>>>=0,u===0?32:31-(Bt(u)/Er|0)|0}var dn=128,dr=4194304;function on(u){var c=u&42;if(c!==0)return c;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function un(u,c){var g=u.pendingLanes;if(g===0)return 0;var w=0,P=u.suspendedLanes,j=u.pingedLanes,de=u.warmLanes;u=u.finishedLanes!==0;var Re=g&134217727;return Re!==0?(g=Re&~P,g!==0?w=on(g):(j&=Re,j!==0?w=on(j):u||(de=Re&~de,de!==0&&(w=on(de))))):(Re=g&~P,Re!==0?w=on(Re):j!==0?w=on(j):u||(de=g&~de,de!==0&&(w=on(de)))),w===0?0:c!==0&&c!==w&&!(c&P)&&(P=w&-w,de=c&-c,P>=de||P===32&&(de&4194176)!==0)?c:w}function In(u,c){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&c)===0}function sr(u,c){switch(u){case 1:case 2:case 4:case 8:return c+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var u=dn;return dn<<=1,!(dn&4194176)&&(dn=128),u}function qe(){var u=dr;return dr<<=1,!(dr&62914560)&&(dr=4194304),u}function wt(u){for(var c=[],g=0;31>g;g++)c.push(u);return c}function xt(u,c){u.pendingLanes|=c,c!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function It(u,c,g,w,P,j){var de=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Re=u.entanglements,Ke=u.expirationTimes,at=u.hiddenUpdates;for(g=de&~g;0<g;){var _t=31-Rt(g),Ct=1<<_t;Re[_t]=0,Ke[_t]=-1;var pt=at[_t];if(pt!==null)for(at[_t]=null,_t=0;_t<pt.length;_t++){var vt=pt[_t];vt!==null&&(vt.lane&=-536870913)}g&=~Ct}w!==0&&Bn(u,w,0),j!==0&&P===0&&u.tag!==0&&(u.suspendedLanes|=j&~(de&~c))}function Bn(u,c,g){u.pendingLanes|=c,u.suspendedLanes&=~c;var w=31-Rt(c);u.entangledLanes|=c,u.entanglements[w]=u.entanglements[w]|1073741824|g&4194218}function Jn(u,c){var g=u.entangledLanes|=c;for(u=u.entanglements;g;){var w=31-Rt(g),P=1<<w;P&c|u[w]&c&&(u[w]|=c),g&=~P}}function Qe(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ae(){var u=Z.p;return u!==0?u:(u=window.event,u===void 0?32:TI(u.type))}function et(u,c){var g=Z.p;try{return Z.p=u,c()}finally{Z.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Et="__reactProps$"+ft,Lt="__reactContainer$"+ft,Vt="__reactEvents$"+ft,Yt="__reactListeners$"+ft,qt="__reactHandles$"+ft,Nt="__reactResources$"+ft,en="__reactMarker$"+ft;function Rn(u){delete u[it],delete u[Et],delete u[Vt],delete u[Yt],delete u[qt]}function Kt(u){var c=u[it];if(c)return c;for(var g=u.parentNode;g;){if(c=g[Lt]||g[it]){if(g=c.alternate,c.child!==null||g!==null&&g.child!==null)for(u=cI(u);u!==null;){if(g=u[it])return g;u=cI(u)}return c}u=g,g=u.parentNode}return null}function Qt(u){if(u=u[it]||u[Lt]){var c=u.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return u}return null}function xn(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u.stateNode;throw Error(r(33))}function En(u){var c=u[Nt];return c||(c=u[Nt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function $n(u){u[en]=!0}var Tr=new Set,Br={};function qr(u,c){Rr(u,c),Rr(u+"Capture",c)}function Rr(u,c){for(Br[u]=c,u=0;u<c.length;u++)Tr.add(c[u])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bi={},C={};function T(u){return Ce.call(C,u)?!0:Ce.call(Bi,u)?!1:Wr.test(u)?C[u]=!0:(Bi[u]=!0,!1)}function R(u,c,g){if(T(c))if(g===null)u.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(c);return;case"boolean":var w=c.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){u.removeAttribute(c);return}}u.setAttribute(c,""+g)}}function N(u,c,g){if(g===null)u.removeAttribute(c);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(c);return}u.setAttribute(c,""+g)}}function Q(u,c,g,w){if(w===null)u.removeAttribute(g);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(c,g,""+w)}}function oe(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var c=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Le(u){var c=we(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,c),w=""+u[c];if(!u.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var P=g.get,j=g.set;return Object.defineProperty(u,c,{configurable:!0,get:function(){return P.call(this)},set:function(de){w=""+de,j.call(this,de)}}),Object.defineProperty(u,c,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(de){w=""+de},stopTracking:function(){u._valueTracker=null,delete u[c]}}}}function Ee(u){u._valueTracker||(u._valueTracker=Le(u))}function Pe(u){if(!u)return!1;var c=u._valueTracker;if(!c)return!0;var g=c.getValue(),w="";return u&&(w=we(u)?u.checked?"true":"false":u.value),u=w,u!==g?(c.setValue(u),!0):!1}function ke(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function He(u){return u.replace($e,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Xe(u,c,g,w,P,j,de,Re){u.name="",de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?u.type=de:u.removeAttribute("type"),c!=null?de==="number"?(c===0&&u.value===""||u.value!=c)&&(u.value=""+oe(c)):u.value!==""+oe(c)&&(u.value=""+oe(c)):de!=="submit"&&de!=="reset"||u.removeAttribute("value"),c!=null?dt(u,de,oe(c)):g!=null?dt(u,de,oe(g)):w!=null&&u.removeAttribute("value"),P==null&&j!=null&&(u.defaultChecked=!!j),P!=null&&(u.checked=P&&typeof P!="function"&&typeof P!="symbol"),Re!=null&&typeof Re!="function"&&typeof Re!="symbol"&&typeof Re!="boolean"?u.name=""+oe(Re):u.removeAttribute("name")}function st(u,c,g,w,P,j,de,Re){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),c!=null||g!=null){if(!(j!=="submit"&&j!=="reset"||c!=null))return;g=g!=null?""+oe(g):"",c=c!=null?""+oe(c):g,Re||c===u.value||(u.value=c),u.defaultValue=c}w=w??P,w=typeof w!="function"&&typeof w!="symbol"&&!!w,u.checked=Re?u.checked:!!w,u.defaultChecked=!!w,de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"&&(u.name=de)}function dt(u,c,g){c==="number"&&ke(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,c,g,w){if(u=u.options,c){c={};for(var P=0;P<g.length;P++)c["$"+g[P]]=!0;for(g=0;g<u.length;g++)P=c.hasOwnProperty("$"+u[g].value),u[g].selected!==P&&(u[g].selected=P),P&&w&&(u[g].defaultSelected=!0)}else{for(g=""+oe(g),c=null,P=0;P<u.length;P++){if(u[P].value===g){u[P].selected=!0,w&&(u[P].defaultSelected=!0);return}c!==null||u[P].disabled||(c=u[P])}c!==null&&(c.selected=!0)}}function be(u,c,g){if(c!=null&&(c=""+oe(c),c!==u.value&&(u.value=c),g==null)){u.defaultValue!==c&&(u.defaultValue=c);return}u.defaultValue=g!=null?""+oe(g):""}function De(u,c,g,w){if(c==null){if(w!=null){if(g!=null)throw Error(r(92));if(V(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=""),c=g}g=oe(c),u.defaultValue=g,w=u.textContent,w===g&&w!==""&&w!==null&&(u.value=w)}function Ue(u,c){if(c){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=c;return}}u.textContent=c}var Ge=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,c,g){var w=c.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?w?u.setProperty(c,""):c==="float"?u.cssFloat="":u[c]="":w?u.setProperty(c,g):typeof g!="number"||g===0||Ge.has(c)?c==="float"?u.cssFloat=g:u[c]=(""+g).trim():u[c]=g+"px"}function mt(u,c,g){if(c!=null&&typeof c!="object")throw Error(r(62));if(u=u.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||c!=null&&c.hasOwnProperty(w)||(w.indexOf("--")===0?u.setProperty(w,""):w==="float"?u.cssFloat="":u[w]="");for(var P in c)w=c[P],c.hasOwnProperty(P)&&g[P]!==w&&lt(u,P,w)}else for(var j in c)c.hasOwnProperty(j)&&lt(u,j,c[j])}function Ft(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(u){return pn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Ht=null;function Un(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Mn=null,Fn=null;function Wt(u){var c=Qt(u);if(c&&(u=c.stateNode)){var g=u[Et]||null;e:switch(u=c.stateNode,c.type){case"input":if(Xe(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),c=g.name,g.type==="radio"&&c!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+He(""+c)+'"][type="radio"]'),c=0;c<g.length;c++){var w=g[c];if(w!==u&&w.form===u.form){var P=w[Et]||null;if(!P)throw Error(r(90));Xe(w,P.value,P.defaultValue,P.defaultValue,P.checked,P.defaultChecked,P.type,P.name)}}for(c=0;c<g.length;c++)w=g[c],w.form===u.form&&Pe(w)}break e;case"textarea":be(u,g.value,g.defaultValue);break e;case"select":c=g.value,c!=null&&ut(u,!!g.multiple,c,!1)}}}var Kn=!1;function hn(u,c,g){if(Kn)return u(c,g);Kn=!0;try{var w=u(c);return w}finally{if(Kn=!1,(Mn!==null||Fn!==null)&&(yy(),Mn&&(c=Mn,u=Fn,Fn=Mn=null,Wt(c),u)))for(c=0;c<u.length;c++)Wt(u[c])}}function Yn(u,c){var g=u.stateNode;if(g===null)return null;var w=g[Et]||null;if(w===null)return null;g=w[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,c,typeof g));return g}var hr=!1;if(Nn)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){hr=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{hr=!1}var or=null,yi=null,qi=null;function la(){if(qi)return qi;var u,c=yi,g=c.length,w,P="value"in or?or.value:or.textContent,j=P.length;for(u=0;u<g&&c[u]===P[u];u++);var de=g-u;for(w=1;w<=de&&c[g-w]===P[j-w];w++);return qi=P.slice(u,1<w?1-w:void 0)}function nr(u){var c=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&c===13&&(u=13)):u=c,u===10&&(u=13),32<=u||u===13?u:0}function Ii(){return!0}function hs(){return!1}function rr(u){function c(g,w,P,j,de){this._reactName=g,this._targetInst=P,this.type=w,this.nativeEvent=j,this.target=de,this.currentTarget=null;for(var Re in u)u.hasOwnProperty(Re)&&(g=u[Re],this[Re]=g?g(j):j[Re]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ii:hs,this.isPropagationStopped=hs,this}return U(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ii)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ii)},persist:function(){},isPersistent:Ii}),c}var Lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=rr(Lr),Hi=U({},Lr,{view:0,detail:0}),_u=rr(Hi),Ga,yn,Ta,ur=U({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ta&&(Ta&&u.type==="mousemove"?(Ga=u.screenX-Ta.screenX,yn=u.screenY-Ta.screenY):yn=Ga=0,Ta=u),Ga)},movementY:function(u){return"movementY"in u?u.movementY:yn}}),Li=rr(ur),ca=U({},ur,{dataTransfer:0}),lr=rr(ca),zi=U({},Hi,{relatedTarget:0}),Wa=rr(zi),Cr=U({},Lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Al=rr(Cr),ps=U({},Lr,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ca=rr(ps),th=U({},Lr,{data:0}),Vi=rr(th),ef={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Us={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(u){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(u):(u=Us[u])?!!c[u]:!1}function tf(){return Om}var nh=U({},Hi,{key:function(u){if(u.key){var c=ef[u.key]||u.key;if(c!=="Unidentified")return c}return u.type==="keypress"?(u=nr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Rm[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tf,charCode:function(u){return u.type==="keypress"?nr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?nr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),ow=rr(nh),Pm=U({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=rr(Pm),uw=U({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tf}),lw=rr(uw),ih=U({},Lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),cw=rr(ih),Im=U({},ur,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Lm=rr(Im),nf=U({},Lr,{newState:0,oldState:0}),mo=rr(nf),fw=[9,13,27,32],yo=Nn&&"CompositionEvent"in window,li=null;Nn&&"documentMode"in document&&(li=document.documentMode);var Mm=Nn&&"TextEvent"in window&&!li,ah=Nn&&(!yo||li&&8<li&&11>=li),km=" ",rf=!1;function af(u,c){switch(u){case"keyup":return fw.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var wu=!1;function Nm(u,c){switch(u){case"compositionend":return Dm(c);case"keypress":return c.which!==32?null:(rf=!0,km);case"textInput":return u=c.data,u===km&&rf?null:u;default:return null}}function dw(u,c){if(wu)return u==="compositionend"||!yo&&af(u,c)?(u=la(),qi=yi=or=null,wu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ah&&c.locale!=="ko"?null:c.data;default:return null}}var Aa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vo(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c==="input"?!!Aa[u.type]:c==="textarea"}function Fm(u,c,g,w){Mn?Fn?Fn.push(w):Fn=[w]:Mn=w,c=Sy(c,"onChange"),0<c.length&&(g=new Ka("onChange","change",null,g,w),u.push({event:g,listeners:c}))}var Ki=null,Rl=null;function bu(u){tI(u,0)}function sf(u){var c=xn(u);if(Pe(c))return u}function Su(u,c){if(u==="change")return c}var sh=!1;if(Nn){var xu;if(Nn){var oh="oninput"in document;if(!oh){var gs=document.createElement("div");gs.setAttribute("oninput","return;"),oh=typeof gs.oninput=="function"}xu=oh}else xu=!1;sh=xu&&(!document.documentMode||9<document.documentMode)}function Ol(){Ki&&(Ki.detachEvent("onpropertychange",jm),Rl=Ki=null)}function jm(u){if(u.propertyName==="value"&&sf(Rl)){var c=[];Fm(c,Rl,u,Un(u)),hn(bu,c)}}function uh(u,c,g){u==="focusin"?(Ol(),Ki=c,Rl=g,Ki.attachEvent("onpropertychange",jm)):u==="focusout"&&Ol()}function hw(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return sf(Rl)}function ms(u,c){if(u==="click")return sf(c)}function pw(u,c){if(u==="input"||u==="change")return sf(c)}function Eu(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var Gi=typeof Object.is=="function"?Object.is:Eu;function Wi(u,c){if(Gi(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var g=Object.keys(u),w=Object.keys(c);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var P=g[w];if(!Ce.call(c,P)||!Gi(u[P],c[P]))return!1}return!0}function Pl(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function lh(u,c){var g=Pl(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=c&&w>=c)return{node:g,offset:c-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Pl(g)}}function of(u,c){return u&&c?u===c?!0:u&&u.nodeType===3?!1:c&&c.nodeType===3?of(u,c.parentNode):"contains"in u?u.contains(c):u.compareDocumentPosition?!!(u.compareDocumentPosition(c)&16):!1:!1}function Il(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var c=ke(u.document);c instanceof u.HTMLIFrameElement;){try{var g=typeof c.contentWindow.location.href=="string"}catch{g=!1}if(g)u=c.contentWindow;else break;c=ke(u.document)}return c}function Ll(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c&&(c==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||c==="textarea"||u.contentEditable==="true")}function uf(u,c){var g=Il(c);c=u.focusedElem;var w=u.selectionRange;if(g!==c&&c&&c.ownerDocument&&of(c.ownerDocument.documentElement,c)){if(w!==null&&Ll(c)){if(u=w.start,g=w.end,g===void 0&&(g=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(g,c.value.length);else if(g=(u=c.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var P=c.textContent.length,j=Math.min(w.start,P);w=w.end===void 0?j:Math.min(w.end,P),!g.extend&&j>w&&(P=w,w=j,j=P),P=lh(c,j);var de=lh(c,w);P&&de&&(g.rangeCount!==1||g.anchorNode!==P.node||g.anchorOffset!==P.offset||g.focusNode!==de.node||g.focusOffset!==de.offset)&&(u=u.createRange(),u.setStart(P.node,P.offset),g.removeAllRanges(),j>w?(g.addRange(u),g.extend(de.node,de.offset)):(u.setEnd(de.node,de.offset),g.addRange(u)))}}for(u=[],g=c;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<u.length;c++)g=u[c],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Tu=Nn&&"documentMode"in document&&11>=document.documentMode,ys=null,Ml=null,Cu=null,ch=!1;function kl(u,c,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;ch||ys==null||ys!==ke(w)||(w=ys,"selectionStart"in w&&Ll(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Cu&&Wi(Cu,w)||(Cu=w,w=Sy(Ml,"onSelect"),0<w.length&&(c=new Ka("onSelect","select",null,c,g),u.push({event:c,listeners:w}),c.target=ys)))}function _o(u,c){var g={};return g[u.toLowerCase()]=c.toLowerCase(),g["Webkit"+u]="webkit"+c,g["Moz"+u]="moz"+c,g}var wo={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionrun:_o("Transition","TransitionRun"),transitionstart:_o("Transition","TransitionStart"),transitioncancel:_o("Transition","TransitionCancel"),transitionend:_o("Transition","TransitionEnd")},fh={},dh={};Nn&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete wo.animationend.animation,delete wo.animationiteration.animation,delete wo.animationstart.animation),"TransitionEvent"in window||delete wo.transitionend.transition);function bo(u){if(fh[u])return fh[u];if(!wo[u])return u;var c=wo[u],g;for(g in c)if(c.hasOwnProperty(g)&&g in dh)return fh[u]=c[g];return u}var Ra=bo("animationend"),Dl=bo("animationiteration"),$m=bo("animationstart"),lf=bo("transitionrun"),gw=bo("transitionstart"),Um=bo("transitioncancel"),Bm=bo("transitionend"),Au=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ci(u,c){Au.set(u,c),qr(c,[u])}var Qi=[],So=0,hh=0;function fa(){for(var u=So,c=hh=So=0;c<u;){var g=Qi[c];Qi[c++]=null;var w=Qi[c];Qi[c++]=null;var P=Qi[c];Qi[c++]=null;var j=Qi[c];if(Qi[c++]=null,w!==null&&P!==null){var de=w.pending;de===null?P.next=P:(P.next=de.next,de.next=P),w.pending=P}j!==0&&Hm(g,P,j)}}function Nl(u,c,g,w){Qi[So++]=u,Qi[So++]=c,Qi[So++]=g,Qi[So++]=w,hh|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function cf(u,c,g,w){return Nl(u,c,g,w),xo(u)}function da(u,c){return Nl(u,null,null,c),xo(u)}function Hm(u,c,g){u.lanes|=g;var w=u.alternate;w!==null&&(w.lanes|=g);for(var P=!1,j=u.return;j!==null;)j.childLanes|=g,w=j.alternate,w!==null&&(w.childLanes|=g),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(P=!0)),u=j,j=j.return;P&&c!==null&&u.tag===3&&(j=u.stateNode,P=31-Rt(g),j=j.hiddenUpdates,u=j[P],u===null?j[P]=[c]:u.push(c),c.lane=g|536870912)}function xo(u){if(50<Lh)throw Lh=0,yb=null,Error(r(185));for(var c=u.return;c!==null;)u=c,c=u.return;return u.tag===3?u.stateNode:null}var Qa={},ph=new WeakMap;function Zi(u,c){if(typeof u=="object"&&u!==null){var g=ph.get(u);return g!==void 0?g:(c={value:u,source:c,stack:fe(c)},ph.set(u,c),c)}return{value:u,source:c,stack:fe(c)}}var Ru=[],Eo=0,Fl=null,jl=0,Ji=[],Yi=0,To=null,Za=1,Ja="";function Co(u,c){Ru[Eo++]=jl,Ru[Eo++]=Fl,Fl=u,jl=c}function d(u,c,g){Ji[Yi++]=Za,Ji[Yi++]=Ja,Ji[Yi++]=To,To=u;var w=Za;u=Ja;var P=32-Rt(w)-1;w&=~(1<<P),g+=1;var j=32-Rt(c)+P;if(30<j){var de=P-P%5;j=(w&(1<<de)-1).toString(32),w>>=de,P-=de,Za=1<<32-Rt(c)+P|g<<P|w,Ja=j+u}else Za=1<<j|g<<P|w,Ja=u}function v(u){u.return!==null&&(Co(u,1),d(u,1,0))}function O(u){for(;u===Fl;)Fl=Ru[--Eo],Ru[Eo]=null,jl=Ru[--Eo],Ru[Eo]=null;for(;u===To;)To=Ji[--Yi],Ji[Yi]=null,Ja=Ji[--Yi],Ji[Yi]=null,Za=Ji[--Yi],Ji[Yi]=null}var q=null,ne=null,_e=!1,We=null,ot=!1,yt=Error(r(519));function bt(u){var c=Error(r(418,""));throw Ar(Zi(c,u)),yt}function jt(u){var c=u.stateNode,g=u.type,w=u.memoizedProps;switch(c[it]=u,c[Et]=w,g){case"dialog":kn("cancel",c),kn("close",c);break;case"iframe":case"object":case"embed":kn("load",c);break;case"video":case"audio":for(g=0;g<kh.length;g++)kn(kh[g],c);break;case"source":kn("error",c);break;case"img":case"image":case"link":kn("error",c),kn("load",c);break;case"details":kn("toggle",c);break;case"input":kn("invalid",c),st(c,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Ee(c);break;case"select":kn("invalid",c);break;case"textarea":kn("invalid",c),De(c,w.value,w.defaultValue,w.children),Ee(c)}g=w.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||c.textContent===""+g||w.suppressHydrationWarning===!0||aI(c.textContent,g)?(w.popover!=null&&(kn("beforetoggle",c),kn("toggle",c)),w.onScroll!=null&&kn("scroll",c),w.onScrollEnd!=null&&kn("scrollend",c),w.onClick!=null&&(c.onclick=xy),c=!0):c=!1,c||bt(u)}function nn(u){for(q=u.return;q;)switch(q.tag){case 3:case 27:ot=!0;return;case 5:case 13:ot=!1;return;default:q=q.return}}function gn(u){if(u!==q)return!1;if(!_e)return nn(u),_e=!0,!1;var c=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||kb(u.type,u.memoizedProps)),g=!g),g&&(c=!0),c&&ne&&bt(u),nn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,c=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(c===0){ne=_s(u.nextSibling);break e}c--}else g!=="$"&&g!=="$!"&&g!=="$?"||c++;u=u.nextSibling}ne=null}}else ne=q?_s(u.stateNode.nextSibling):null;return!0}function Hr(){ne=q=null,_e=!1}function Ar(u){We===null?We=[u]:We.push(u)}var fi=Error(r(460)),vi=Error(r(474)),Bs={then:function(){}};function zm(u){return u=u.status,u==="fulfilled"||u==="rejected"}function ff(){}function Vm(u,c,g){switch(g=u[g],g===void 0?u.push(c):g!==c&&(c.then(ff,ff),c=g),c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,u===fi?Error(r(483)):u;default:if(typeof c.status=="string")c.then(ff,ff);else{if(u=_r,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=c,u.status="pending",u.then(function(w){if(c.status==="pending"){var P=c;P.status="fulfilled",P.value=w}},function(w){if(c.status==="pending"){var P=c;P.status="rejected",P.reason=w}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,u===fi?Error(r(483)):u}throw Ou=c,fi}}var Ou=null;function Km(){if(Ou===null)throw Error(r(459));var u=Ou;return Ou=null,u}var Ao=null,vr=0;function Ro(u){var c=vr;return vr+=1,Ao===null&&(Ao=[]),Vm(Ao,u,c)}function $l(u,c){c=c.props.ref,u.ref=c!==void 0?c:null}function df(u,c){throw c.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(c),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u)))}function Gm(u){var c=u._init;return c(u._payload)}function hf(u){function c(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)c(ct,rt),rt=rt.sibling;return null}function w(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function P(ct,rt){return ct=Bu(ct,rt),ct.index=0,ct.sibling=null,ct}function j(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function de(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Re(ct,rt,ht,St){return rt===null||rt.tag!==6?(rt=lb(ht,ct.mode,St),rt.return=ct,rt):(rt=P(rt,ht),rt.return=ct,rt)}function Ke(ct,rt,ht,St){var zt=ht.type;return zt===l?_t(ct,rt,ht.props.children,St,ht.key):rt!==null&&(rt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===b&&Gm(zt)===rt.type)?(rt=P(rt,ht.props),$l(rt,ht),rt.return=ct,rt):(rt=dy(ht.type,ht.key,ht.props,null,ct.mode,St),$l(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,St){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=cb(ht,ct.mode,St),rt.return=ct,rt):(rt=P(rt,ht.children||[]),rt.return=ct,rt)}function _t(ct,rt,ht,St,zt){return rt===null||rt.tag!==7?(rt=Wl(ht,ct.mode,St,zt),rt.return=ct,rt):(rt=P(rt,ht),rt.return=ct,rt)}function Ct(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=lb(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case s:return ht=dy(rt.type,rt.key,rt.props,null,ct.mode,ht),$l(ht,rt),ht.return=ct,ht;case o:return rt=cb(rt,ct.mode,ht),rt.return=ct,rt;case b:var St=rt._init;return rt=St(rt._payload),Ct(ct,rt,ht)}if(V(rt)||I(rt))return rt=Wl(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return Ct(ct,Ro(rt),ht);if(rt.$$typeof===y)return Ct(ct,ly(ct,rt),ht);df(ct,rt)}return null}function pt(ct,rt,ht,St){var zt=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return zt!==null?null:Re(ct,rt,""+ht,St);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case s:return ht.key===zt?Ke(ct,rt,ht,St):null;case o:return ht.key===zt?at(ct,rt,ht,St):null;case b:return zt=ht._init,ht=zt(ht._payload),pt(ct,rt,ht,St)}if(V(ht)||I(ht))return zt!==null?null:_t(ct,rt,ht,St,null);if(typeof ht.then=="function")return pt(ct,rt,Ro(ht),St);if(ht.$$typeof===y)return pt(ct,rt,ly(ct,ht),St);df(ct,ht)}return null}function vt(ct,rt,ht,St,zt){if(typeof St=="string"&&St!==""||typeof St=="number"||typeof St=="bigint")return ct=ct.get(ht)||null,Re(rt,ct,""+St,zt);if(typeof St=="object"&&St!==null){switch(St.$$typeof){case s:return ct=ct.get(St.key===null?ht:St.key)||null,Ke(rt,ct,St,zt);case o:return ct=ct.get(St.key===null?ht:St.key)||null,at(rt,ct,St,zt);case b:var On=St._init;return St=On(St._payload),vt(ct,rt,ht,St,zt)}if(V(St)||I(St))return ct=ct.get(ht)||null,_t(rt,ct,St,zt,null);if(typeof St.then=="function")return vt(ct,rt,ht,Ro(St),zt);if(St.$$typeof===y)return vt(ct,rt,ht,ly(rt,St),zt);df(rt,St)}return null}function Zt(ct,rt,ht,St){for(var zt=null,On=null,Xt=rt,an=rt=0,pi=null;Xt!==null&&an<ht.length;an++){Xt.index>an?(pi=Xt,Xt=null):pi=Xt.sibling;var qn=pt(ct,Xt,ht[an],St);if(qn===null){Xt===null&&(Xt=pi);break}u&&Xt&&qn.alternate===null&&c(ct,Xt),rt=j(qn,rt,an),On===null?zt=qn:On.sibling=qn,On=qn,Xt=pi}if(an===ht.length)return g(ct,Xt),_e&&Co(ct,an),zt;if(Xt===null){for(;an<ht.length;an++)Xt=Ct(ct,ht[an],St),Xt!==null&&(rt=j(Xt,rt,an),On===null?zt=Xt:On.sibling=Xt,On=Xt);return _e&&Co(ct,an),zt}for(Xt=w(Xt);an<ht.length;an++)pi=vt(Xt,ct,an,ht[an],St),pi!==null&&(u&&pi.alternate!==null&&Xt.delete(pi.key===null?an:pi.key),rt=j(pi,rt,an),On===null?zt=pi:On.sibling=pi,On=pi);return u&&Xt.forEach(function(Wu){return c(ct,Wu)}),_e&&Co(ct,an),zt}function mn(ct,rt,ht,St){if(ht==null)throw Error(r(151));for(var zt=null,On=null,Xt=rt,an=rt=0,pi=null,qn=ht.next();Xt!==null&&!qn.done;an++,qn=ht.next()){Xt.index>an?(pi=Xt,Xt=null):pi=Xt.sibling;var Wu=pt(ct,Xt,qn.value,St);if(Wu===null){Xt===null&&(Xt=pi);break}u&&Xt&&Wu.alternate===null&&c(ct,Xt),rt=j(Wu,rt,an),On===null?zt=Wu:On.sibling=Wu,On=Wu,Xt=pi}if(qn.done)return g(ct,Xt),_e&&Co(ct,an),zt;if(Xt===null){for(;!qn.done;an++,qn=ht.next())qn=Ct(ct,qn.value,St),qn!==null&&(rt=j(qn,rt,an),On===null?zt=qn:On.sibling=qn,On=qn);return _e&&Co(ct,an),zt}for(Xt=w(Xt);!qn.done;an++,qn=ht.next())qn=vt(Xt,ct,an,qn.value,St),qn!==null&&(u&&qn.alternate!==null&&Xt.delete(qn.key===null?an:qn.key),rt=j(qn,rt,an),On===null?zt=qn:On.sibling=qn,On=qn);return u&&Xt.forEach(function(zz){return c(ct,zz)}),_e&&Co(ct,an),zt}function Dr(ct,rt,ht,St){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case s:e:{for(var zt=ht.key;rt!==null;){if(rt.key===zt){if(zt=ht.type,zt===l){if(rt.tag===7){g(ct,rt.sibling),St=P(rt,ht.props.children),St.return=ct,ct=St;break e}}else if(rt.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===b&&Gm(zt)===rt.type){g(ct,rt.sibling),St=P(rt,ht.props),$l(St,ht),St.return=ct,ct=St;break e}g(ct,rt);break}else c(ct,rt);rt=rt.sibling}ht.type===l?(St=Wl(ht.props.children,ct.mode,St,ht.key),St.return=ct,ct=St):(St=dy(ht.type,ht.key,ht.props,null,ct.mode,St),$l(St,ht),St.return=ct,ct=St)}return de(ct);case o:e:{for(zt=ht.key;rt!==null;){if(rt.key===zt)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),St=P(rt,ht.children||[]),St.return=ct,ct=St;break e}else{g(ct,rt);break}else c(ct,rt);rt=rt.sibling}St=cb(ht,ct.mode,St),St.return=ct,ct=St}return de(ct);case b:return zt=ht._init,ht=zt(ht._payload),Dr(ct,rt,ht,St)}if(V(ht))return Zt(ct,rt,ht,St);if(I(ht)){if(zt=I(ht),typeof zt!="function")throw Error(r(150));return ht=zt.call(ht),mn(ct,rt,ht,St)}if(typeof ht.then=="function")return Dr(ct,rt,Ro(ht),St);if(ht.$$typeof===y)return Dr(ct,rt,ly(ct,ht),St);df(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),St=P(rt,ht),St.return=ct,ct=St):(g(ct,rt),St=lb(ht,ct.mode,St),St.return=ct,ct=St),de(ct)):g(ct,rt)}return function(ct,rt,ht,St){try{vr=0;var zt=Dr(ct,rt,ht,St);return Ao=null,zt}catch(Xt){if(Xt===fi)throw Xt;var On=ts(29,Xt,null,ct.mode);return On.lanes=St,On.return=ct,On}finally{}}}var qs=hf(!0),Wm=hf(!1),pf=Te(null),Qm=Te(0);function aO(u,c){u=$o,Ze(Qm,u),Ze(pf,c),$o=u|c.baseLanes}function mw(){Ze(Qm,$o),Ze(pf,pf.current)}function yw(){$o=Qm.current,Me(pf),Me(Qm)}var Ya=Te(null),Hs=null;function Pu(u){var c=u.alternate;Ze(ii,ii.current&1),Ze(Ya,u),Hs===null&&(c===null||pf.current!==null||c.memoizedState!==null)&&(Hs=u)}function sO(u){if(u.tag===22){if(Ze(ii,ii.current),Ze(Ya,u),Hs===null){var c=u.alternate;c!==null&&c.memoizedState!==null&&(Hs=u)}}else Iu()}function Iu(){Ze(ii,ii.current),Ze(Ya,Ya.current)}function Oo(u){Me(Ya),Hs===u&&(Hs=null),Me(ii)}var ii=Te(0);function Zm(u){for(var c=u;c!==null;){if(c.tag===13){var g=c.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var I9=typeof AbortController<"u"?AbortController:function(){var u=[],c=this.signal={aborted:!1,addEventListener:function(g,w){u.push(w)}};this.abort=function(){c.aborted=!0,u.forEach(function(g){return g()})}},L9=t.unstable_scheduleCallback,M9=t.unstable_NormalPriority,ai={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vw(){return{controller:new I9,data:new Map,refCount:0}}function gh(u){u.refCount--,u.refCount===0&&L9(M9,function(){u.controller.abort()})}var mh=null,_w=0,gf=0,mf=null;function k9(u,c){if(mh===null){var g=mh=[];_w=0,gf=Tb(),mf={status:"pending",value:void 0,then:function(w){g.push(w)}}}return _w++,c.then(oO,oO),c}function oO(){if(--_w===0&&mh!==null){mf!==null&&(mf.status="fulfilled");var u=mh;mh=null,gf=0,mf=null;for(var c=0;c<u.length;c++)(0,u[c])()}}function D9(u,c){var g=[],w={status:"pending",value:null,reason:null,then:function(P){g.push(P)}};return u.then(function(){w.status="fulfilled",w.value=c;for(var P=0;P<g.length;P++)(0,g[P])(c)},function(P){for(w.status="rejected",w.reason=P,P=0;P<g.length;P++)(0,g[P])(void 0)}),w}var uO=ee.S;ee.S=function(u,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&k9(u,c),uO!==null&&uO(u,c)};var Ul=Te(null);function ww(){var u=Ul.current;return u!==null?u:_r.pooledCache}function Jm(u,c){c===null?Ze(Ul,Ul.current):Ze(Ul,c.pool)}function lO(){var u=ww();return u===null?null:{parent:ai._currentValue,pool:u}}var Lu=0,Tn=null,cr=null,Qr=null,Ym=!1,yf=!1,Bl=!1,Xm=0,yh=0,vf=null,N9=0;function zr(){throw Error(r(321))}function bw(u,c){if(c===null)return!1;for(var g=0;g<c.length&&g<u.length;g++)if(!Gi(u[g],c[g]))return!1;return!0}function Sw(u,c,g,w,P,j){return Lu=j,Tn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ee.H=u===null||u.memoizedState===null?ql:Mu,Bl=!1,j=g(w,P),Bl=!1,yf&&(j=fO(c,g,w,P)),cO(u),j}function cO(u){ee.H=zs;var c=cr!==null&&cr.next!==null;if(Lu=0,Qr=cr=Tn=null,Ym=!1,yh=0,vf=null,c)throw Error(r(300));u===null||di||(u=u.dependencies,u!==null&&uy(u)&&(di=!0))}function fO(u,c,g,w){Tn=u;var P=0;do{if(yf&&(vf=null),yh=0,yf=!1,25<=P)throw Error(r(301));if(P+=1,Qr=cr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}ee.H=Hl,j=c(g,w)}while(yf);return j}function F9(){var u=ee.H,c=u.useState()[0];return c=typeof c.then=="function"?vh(c):c,u=u.useState()[0],(cr!==null?cr.memoizedState:null)!==u&&(Tn.flags|=1024),c}function xw(){var u=Xm!==0;return Xm=0,u}function Ew(u,c,g){c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~g}function Tw(u){if(Ym){for(u=u.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}Ym=!1}Lu=0,Qr=cr=Tn=null,yf=!1,yh=Xm=0,vf=null}function ha(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?Tn.memoizedState=Qr=u:Qr=Qr.next=u,Qr}function Zr(){if(cr===null){var u=Tn.alternate;u=u!==null?u.memoizedState:null}else u=cr.next;var c=Qr===null?Tn.memoizedState:Qr.next;if(c!==null)Qr=c,cr=u;else{if(u===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));cr=u,u={memoizedState:cr.memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},Qr===null?Tn.memoizedState=Qr=u:Qr=Qr.next=u}return Qr}var ey;ey=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vh(u){var c=yh;return yh+=1,vf===null&&(vf=[]),u=Vm(vf,u,c),c=Tn,(Qr===null?c.memoizedState:Qr.next)===null&&(c=c.alternate,ee.H=c===null||c.memoizedState===null?ql:Mu),u}function ty(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return vh(u);if(u.$$typeof===y)return Mi(u)}throw Error(r(438,String(u)))}function Cw(u){var c=null,g=Tn.updateQueue;if(g!==null&&(c=g.memoCache),c==null){var w=Tn.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(c={data:w.data.map(function(P){return P.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),g===null&&(g=ey(),Tn.updateQueue=g),g.memoCache=c,g=c.data[c.index],g===void 0)for(g=c.data[c.index]=Array(u),w=0;w<u;w++)g[w]=k;return c.index++,g}function Po(u,c){return typeof c=="function"?c(u):c}function ny(u){var c=Zr();return Aw(c,cr,u)}function Aw(u,c,g){var w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=g;var P=u.baseQueue,j=w.pending;if(j!==null){if(P!==null){var de=P.next;P.next=j.next,j.next=de}c.baseQueue=P=j,w.pending=null}if(j=u.baseState,P===null)u.memoizedState=j;else{c=P.next;var Re=de=null,Ke=null,at=c,_t=!1;do{var Ct=at.lane&-536870913;if(Ct!==at.lane?(jn&Ct)===Ct:(Lu&Ct)===Ct){var pt=at.revertLane;if(pt===0)Ke!==null&&(Ke=Ke.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),Ct===gf&&(_t=!0);else if((Lu&pt)===pt){at=at.next,pt===gf&&(_t=!0);continue}else Ct={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ke===null?(Re=Ke=Ct,de=j):Ke=Ke.next=Ct,Tn.lanes|=pt,qu|=pt;Ct=at.action,Bl&&g(j,Ct),j=at.hasEagerState?at.eagerState:g(j,Ct)}else pt={lane:Ct,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ke===null?(Re=Ke=pt,de=j):Ke=Ke.next=pt,Tn.lanes|=Ct,qu|=Ct;at=at.next}while(at!==null&&at!==c);if(Ke===null?de=j:Ke.next=Re,!Gi(j,u.memoizedState)&&(di=!0,_t&&(g=mf,g!==null)))throw g;u.memoizedState=j,u.baseState=de,u.baseQueue=Ke,w.lastRenderedState=j}return P===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function Rw(u){var c=Zr(),g=c.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var w=g.dispatch,P=g.pending,j=c.memoizedState;if(P!==null){g.pending=null;var de=P=P.next;do j=u(j,de.action),de=de.next;while(de!==P);Gi(j,c.memoizedState)||(di=!0),c.memoizedState=j,c.baseQueue===null&&(c.baseState=j),g.lastRenderedState=j}return[j,w]}function dO(u,c,g){var w=Tn,P=Zr(),j=_e;if(j){if(g===void 0)throw Error(r(407));g=g()}else g=c();var de=!Gi((cr||P).memoizedState,g);if(de&&(P.memoizedState=g,di=!0),P=P.queue,Iw(gO.bind(null,w,P,u),[u]),P.getSnapshot!==c||de||Qr!==null&&Qr.memoizedState.tag&1){if(w.flags|=2048,_f(9,pO.bind(null,w,P,g,c),{destroy:void 0},null),_r===null)throw Error(r(349));j||Lu&60||hO(w,c,g)}return g}function hO(u,c,g){u.flags|=16384,u={getSnapshot:c,value:g},c=Tn.updateQueue,c===null?(c=ey(),Tn.updateQueue=c,c.stores=[u]):(g=c.stores,g===null?c.stores=[u]:g.push(u))}function pO(u,c,g,w){c.value=g,c.getSnapshot=w,mO(c)&&yO(u)}function gO(u,c,g){return g(function(){mO(c)&&yO(u)})}function mO(u){var c=u.getSnapshot;u=u.value;try{var g=c();return!Gi(u,g)}catch{return!0}}function yO(u){var c=da(u,2);c!==null&&Xi(c,u,2)}function Ow(u){var c=ha();if(typeof u=="function"){var g=u;if(u=g(),Bl){kt(!0);try{g()}finally{kt(!1)}}}return c.memoizedState=c.baseState=u,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:u},c}function vO(u,c,g,w){return u.baseState=g,Aw(u,cr,typeof w=="function"?w:Po)}function j9(u,c,g,w,P){if(ay(u))throw Error(r(485));if(u=c.action,u!==null){var j={payload:P,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(de){j.listeners.push(de)}};ee.T!==null?g(!0):j.isTransition=!1,w(j),g=c.pending,g===null?(j.next=c.pending=j,_O(c,j)):(j.next=g.next,c.pending=g.next=j)}}function _O(u,c){var g=c.action,w=c.payload,P=u.state;if(c.isTransition){var j=ee.T,de={};ee.T=de;try{var Re=g(P,w),Ke=ee.S;Ke!==null&&Ke(de,Re),wO(u,c,Re)}catch(at){Pw(u,c,at)}finally{ee.T=j}}else try{j=g(P,w),wO(u,c,j)}catch(at){Pw(u,c,at)}}function wO(u,c,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(w){bO(u,c,w)},function(w){return Pw(u,c,w)}):bO(u,c,g)}function bO(u,c,g){c.status="fulfilled",c.value=g,SO(c),u.state=g,c=u.pending,c!==null&&(g=c.next,g===c?u.pending=null:(g=g.next,c.next=g,_O(u,g)))}function Pw(u,c,g){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do c.status="rejected",c.reason=g,SO(c),c=c.next;while(c!==w)}u.action=null}function SO(u){u=u.listeners;for(var c=0;c<u.length;c++)(0,u[c])()}function xO(u,c){return c}function EO(u,c){if(_e){var g=_r.formState;if(g!==null){e:{var w=Tn;if(_e){if(ne){t:{for(var P=ne,j=ot;P.nodeType!==8;){if(!j){P=null;break t}if(P=_s(P.nextSibling),P===null){P=null;break t}}j=P.data,P=j==="F!"||j==="F"?P:null}if(P){ne=_s(P.nextSibling),w=P.data==="F!";break e}}bt(w)}w=!1}w&&(c=g[0])}}return g=ha(),g.memoizedState=g.baseState=c,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xO,lastRenderedState:c},g.queue=w,g=qO.bind(null,Tn,w),w.dispatch=g,w=Ow(!1),j=Nw.bind(null,Tn,!1,w.queue),w=ha(),P={state:c,dispatch:null,action:u,pending:null},w.queue=P,g=j9.bind(null,Tn,P,j,g),P.dispatch=g,w.memoizedState=u,[c,g,!1]}function TO(u){var c=Zr();return CO(c,cr,u)}function CO(u,c,g){c=Aw(u,c,xO)[0],u=ny(Po)[0],c=typeof c=="object"&&c!==null&&typeof c.then=="function"?vh(c):c;var w=Zr(),P=w.queue,j=P.dispatch;return g!==w.memoizedState&&(Tn.flags|=2048,_f(9,$9.bind(null,P,g),{destroy:void 0},null)),[c,j,u]}function $9(u,c){u.action=c}function AO(u){var c=Zr(),g=cr;if(g!==null)return CO(c,g,u);Zr(),c=c.memoizedState,g=Zr();var w=g.queue.dispatch;return g.memoizedState=u,[c,w,!1]}function _f(u,c,g,w){return u={tag:u,create:c,inst:g,deps:w,next:null},c=Tn.updateQueue,c===null&&(c=ey(),Tn.updateQueue=c),g=c.lastEffect,g===null?c.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,c.lastEffect=u),u}function RO(){return Zr().memoizedState}function ry(u,c,g,w){var P=ha();Tn.flags|=u,P.memoizedState=_f(1|c,g,{destroy:void 0},w===void 0?null:w)}function iy(u,c,g,w){var P=Zr();w=w===void 0?null:w;var j=P.memoizedState.inst;cr!==null&&w!==null&&bw(w,cr.memoizedState.deps)?P.memoizedState=_f(c,g,j,w):(Tn.flags|=u,P.memoizedState=_f(1|c,g,j,w))}function OO(u,c){ry(8390656,8,u,c)}function Iw(u,c){iy(2048,8,u,c)}function PO(u,c){return iy(4,2,u,c)}function IO(u,c){return iy(4,4,u,c)}function LO(u,c){if(typeof c=="function"){u=u();var g=c(u);return function(){typeof g=="function"?g():c(null)}}if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function MO(u,c,g){g=g!=null?g.concat([u]):null,iy(4,4,LO.bind(null,c,u),g)}function Lw(){}function kO(u,c){var g=Zr();c=c===void 0?null:c;var w=g.memoizedState;return c!==null&&bw(c,w[1])?w[0]:(g.memoizedState=[u,c],u)}function DO(u,c){var g=Zr();c=c===void 0?null:c;var w=g.memoizedState;if(c!==null&&bw(c,w[1]))return w[0];if(w=u(),Bl){kt(!0);try{u()}finally{kt(!1)}}return g.memoizedState=[w,c],w}function Mw(u,c,g){return g===void 0||Lu&1073741824?u.memoizedState=c:(u.memoizedState=g,u=FP(),Tn.lanes|=u,qu|=u,g)}function NO(u,c,g,w){return Gi(g,c)?g:pf.current!==null?(u=Mw(u,g,w),Gi(u,c)||(di=!0),u):Lu&42?(u=FP(),Tn.lanes|=u,qu|=u,c):(di=!0,u.memoizedState=g)}function FO(u,c,g,w,P){var j=Z.p;Z.p=j!==0&&8>j?j:8;var de=ee.T,Re={};ee.T=Re,Nw(u,!1,c,g);try{var Ke=P(),at=ee.S;if(at!==null&&at(Re,Ke),Ke!==null&&typeof Ke=="object"&&typeof Ke.then=="function"){var _t=D9(Ke,w);_h(u,c,_t,La(u))}else _h(u,c,w,La(u))}catch(Ct){_h(u,c,{then:function(){},status:"rejected",reason:Ct},La())}finally{Z.p=j,ee.T=de}}function U9(){}function kw(u,c,g,w){if(u.tag!==5)throw Error(r(476));var P=jO(u).queue;FO(u,P,c,he,g===null?U9:function(){return $O(u),g(w)})}function jO(u){var c=u.memoizedState;if(c!==null)return c;c={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:he},next:null};var g={};return c.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:g},next:null},u.memoizedState=c,u=u.alternate,u!==null&&(u.memoizedState=c),c}function $O(u){var c=jO(u).next.queue;_h(u,c,{},La())}function Dw(){return Mi($h)}function UO(){return Zr().memoizedState}function BO(){return Zr().memoizedState}function B9(u){for(var c=u.return;c!==null;){switch(c.tag){case 24:case 3:var g=La();u=Nu(g);var w=Fu(c,u,g);w!==null&&(Xi(w,c,g),Sh(w,c,g)),c={cache:vw()},u.payload=c;return}c=c.return}}function q9(u,c,g){var w=La();g={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},ay(u)?HO(c,g):(g=cf(u,c,g,w),g!==null&&(Xi(g,u,w),zO(g,c,w)))}function qO(u,c,g){var w=La();_h(u,c,g,w)}function _h(u,c,g,w){var P={lane:w,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(ay(u))HO(c,P);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=c.lastRenderedReducer,j!==null))try{var de=c.lastRenderedState,Re=j(de,g);if(P.hasEagerState=!0,P.eagerState=Re,Gi(Re,de))return Nl(u,c,P,0),_r===null&&fa(),!1}catch{}finally{}if(g=cf(u,c,P,w),g!==null)return Xi(g,u,w),zO(g,c,w),!0}return!1}function Nw(u,c,g,w){if(w={lane:2,revertLane:Tb(),action:w,hasEagerState:!1,eagerState:null,next:null},ay(u)){if(c)throw Error(r(479))}else c=cf(u,g,w,2),c!==null&&Xi(c,u,2)}function ay(u){var c=u.alternate;return u===Tn||c!==null&&c===Tn}function HO(u,c){yf=Ym=!0;var g=u.pending;g===null?c.next=c:(c.next=g.next,g.next=c),u.pending=c}function zO(u,c,g){if(g&4194176){var w=c.lanes;w&=u.pendingLanes,g|=w,c.lanes=g,Jn(u,g)}}var zs={readContext:Mi,use:ty,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useLayoutEffect:zr,useInsertionEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useSyncExternalStore:zr,useId:zr};zs.useCacheRefresh=zr,zs.useMemoCache=zr,zs.useHostTransitionStatus=zr,zs.useFormState=zr,zs.useActionState=zr,zs.useOptimistic=zr;var ql={readContext:Mi,use:ty,useCallback:function(u,c){return ha().memoizedState=[u,c===void 0?null:c],u},useContext:Mi,useEffect:OO,useImperativeHandle:function(u,c,g){g=g!=null?g.concat([u]):null,ry(4194308,4,LO.bind(null,c,u),g)},useLayoutEffect:function(u,c){return ry(4194308,4,u,c)},useInsertionEffect:function(u,c){ry(4,2,u,c)},useMemo:function(u,c){var g=ha();c=c===void 0?null:c;var w=u();if(Bl){kt(!0);try{u()}finally{kt(!1)}}return g.memoizedState=[w,c],w},useReducer:function(u,c,g){var w=ha();if(g!==void 0){var P=g(c);if(Bl){kt(!0);try{g(c)}finally{kt(!1)}}}else P=c;return w.memoizedState=w.baseState=P,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:P},w.queue=u,u=u.dispatch=q9.bind(null,Tn,u),[w.memoizedState,u]},useRef:function(u){var c=ha();return u={current:u},c.memoizedState=u},useState:function(u){u=Ow(u);var c=u.queue,g=qO.bind(null,Tn,c);return c.dispatch=g,[u.memoizedState,g]},useDebugValue:Lw,useDeferredValue:function(u,c){var g=ha();return Mw(g,u,c)},useTransition:function(){var u=Ow(!1);return u=FO.bind(null,Tn,u.queue,!0,!1),ha().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,c,g){var w=Tn,P=ha();if(_e){if(g===void 0)throw Error(r(407));g=g()}else{if(g=c(),_r===null)throw Error(r(349));jn&60||hO(w,c,g)}P.memoizedState=g;var j={value:g,getSnapshot:c};return P.queue=j,OO(gO.bind(null,w,j,u),[u]),w.flags|=2048,_f(9,pO.bind(null,w,j,g,c),{destroy:void 0},null),g},useId:function(){var u=ha(),c=_r.identifierPrefix;if(_e){var g=Ja,w=Za;g=(w&~(1<<32-Rt(w)-1)).toString(32)+g,c=":"+c+"R"+g,g=Xm++,0<g&&(c+="H"+g.toString(32)),c+=":"}else g=N9++,c=":"+c+"r"+g.toString(32)+":";return u.memoizedState=c},useCacheRefresh:function(){return ha().memoizedState=B9.bind(null,Tn)}};ql.useMemoCache=Cw,ql.useHostTransitionStatus=Dw,ql.useFormState=EO,ql.useActionState=EO,ql.useOptimistic=function(u){var c=ha();c.memoizedState=c.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=g,c=Nw.bind(null,Tn,!0,g),g.dispatch=c,[u,c]};var Mu={readContext:Mi,use:ty,useCallback:kO,useContext:Mi,useEffect:Iw,useImperativeHandle:MO,useInsertionEffect:PO,useLayoutEffect:IO,useMemo:DO,useReducer:ny,useRef:RO,useState:function(){return ny(Po)},useDebugValue:Lw,useDeferredValue:function(u,c){var g=Zr();return NO(g,cr.memoizedState,u,c)},useTransition:function(){var u=ny(Po)[0],c=Zr().memoizedState;return[typeof u=="boolean"?u:vh(u),c]},useSyncExternalStore:dO,useId:UO};Mu.useCacheRefresh=BO,Mu.useMemoCache=Cw,Mu.useHostTransitionStatus=Dw,Mu.useFormState=TO,Mu.useActionState=TO,Mu.useOptimistic=function(u,c){var g=Zr();return vO(g,cr,u,c)};var Hl={readContext:Mi,use:ty,useCallback:kO,useContext:Mi,useEffect:Iw,useImperativeHandle:MO,useInsertionEffect:PO,useLayoutEffect:IO,useMemo:DO,useReducer:Rw,useRef:RO,useState:function(){return Rw(Po)},useDebugValue:Lw,useDeferredValue:function(u,c){var g=Zr();return cr===null?Mw(g,u,c):NO(g,cr.memoizedState,u,c)},useTransition:function(){var u=Rw(Po)[0],c=Zr().memoizedState;return[typeof u=="boolean"?u:vh(u),c]},useSyncExternalStore:dO,useId:UO};Hl.useCacheRefresh=BO,Hl.useMemoCache=Cw,Hl.useHostTransitionStatus=Dw,Hl.useFormState=AO,Hl.useActionState=AO,Hl.useOptimistic=function(u,c){var g=Zr();return cr!==null?vO(g,cr,u,c):(g.baseState=u,[u,g.queue.dispatch])};function Fw(u,c,g,w){c=u.memoizedState,g=g(w,c),g=g==null?c:U({},c,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var jw={isMounted:function(u){return(u=u._reactInternals)?ue(u)===u:!1},enqueueSetState:function(u,c,g){u=u._reactInternals;var w=La(),P=Nu(w);P.payload=c,g!=null&&(P.callback=g),c=Fu(u,P,w),c!==null&&(Xi(c,u,w),Sh(c,u,w))},enqueueReplaceState:function(u,c,g){u=u._reactInternals;var w=La(),P=Nu(w);P.tag=1,P.payload=c,g!=null&&(P.callback=g),c=Fu(u,P,w),c!==null&&(Xi(c,u,w),Sh(c,u,w))},enqueueForceUpdate:function(u,c){u=u._reactInternals;var g=La(),w=Nu(g);w.tag=2,c!=null&&(w.callback=c),c=Fu(u,w,g),c!==null&&(Xi(c,u,g),Sh(c,u,g))}};function VO(u,c,g,w,P,j,de){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,j,de):c.prototype&&c.prototype.isPureReactComponent?!Wi(g,w)||!Wi(P,j):!0}function KO(u,c,g,w){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(g,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(g,w),c.state!==u&&jw.enqueueReplaceState(c,c.state,null)}function zl(u,c){var g=c;if("ref"in c){g={};for(var w in c)w!=="ref"&&(g[w]=c[w])}if(u=u.defaultProps){g===c&&(g=U({},g));for(var P in u)g[P]===void 0&&(g[P]=u[P])}return g}var sy=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function GO(u){sy(u)}function WO(u){console.error(u)}function QO(u){sy(u)}function oy(u,c){try{var g=u.onUncaughtError;g(c.value,{componentStack:c.stack})}catch(w){setTimeout(function(){throw w})}}function ZO(u,c,g){try{var w=u.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(P){setTimeout(function(){throw P})}}function $w(u,c,g){return g=Nu(g),g.tag=3,g.payload={element:null},g.callback=function(){oy(u,c)},g}function JO(u){return u=Nu(u),u.tag=3,u}function YO(u,c,g,w){var P=g.type.getDerivedStateFromError;if(typeof P=="function"){var j=w.value;u.payload=function(){return P(j)},u.callback=function(){ZO(c,g,w)}}var de=g.stateNode;de!==null&&typeof de.componentDidCatch=="function"&&(u.callback=function(){ZO(c,g,w),typeof P!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var Re=w.stack;this.componentDidCatch(w.value,{componentStack:Re!==null?Re:""})})}function H9(u,c,g,w,P){if(g.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(c=g.alternate,c!==null&&bh(c,g,P,!0),g=Ya.current,g!==null){switch(g.tag){case 13:return Hs===null?wb():g.alternate===null&&kr===0&&(kr=3),g.flags&=-257,g.flags|=65536,g.lanes=P,w===Bs?g.flags|=16384:(c=g.updateQueue,c===null?g.updateQueue=new Set([w]):c.add(w),Sb(u,w,P)),!1;case 22:return g.flags|=65536,w===Bs?g.flags|=16384:(c=g.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=c):(g=c.retryQueue,g===null?c.retryQueue=new Set([w]):g.add(w)),Sb(u,w,P)),!1}throw Error(r(435,g.tag))}return Sb(u,w,P),wb(),!1}if(_e)return c=Ya.current,c!==null?(!(c.flags&65536)&&(c.flags|=256),c.flags|=65536,c.lanes=P,w!==yt&&(u=Error(r(422),{cause:w}),Ar(Zi(u,g)))):(w!==yt&&(c=Error(r(423),{cause:w}),Ar(Zi(c,g))),u=u.current.alternate,u.flags|=65536,P&=-P,u.lanes|=P,w=Zi(w,g),P=$w(u.stateNode,w,P),eb(u,P),kr!==4&&(kr=2)),!1;var j=Error(r(520),{cause:w});if(j=Zi(j,g),Ph===null?Ph=[j]:Ph.push(j),kr!==4&&(kr=2),c===null)return!0;w=Zi(w,g),g=c;do{switch(g.tag){case 3:return g.flags|=65536,u=P&-P,g.lanes|=u,u=$w(g.stateNode,w,u),eb(g,u),!1;case 1:if(c=g.type,j=g.stateNode,(g.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Hu===null||!Hu.has(j))))return g.flags|=65536,P&=-P,g.lanes|=P,P=JO(P),YO(P,u,g,w),eb(g,P),!1}g=g.return}while(g!==null);return!1}var XO=Error(r(461)),di=!1;function _i(u,c,g,w){c.child=u===null?Wm(c,null,g,w):qs(c,u.child,g,w)}function eP(u,c,g,w,P){g=g.render;var j=c.ref;if("ref"in w){var de={};for(var Re in w)Re!=="ref"&&(de[Re]=w[Re])}else de=w;return Kl(c),w=Sw(u,c,g,de,j,P),Re=xw(),u!==null&&!di?(Ew(u,c,P),Io(u,c,P)):(_e&&Re&&v(c),c.flags|=1,_i(u,c,w,P),c.child)}function tP(u,c,g,w,P){if(u===null){var j=g.type;return typeof j=="function"&&!ub(j)&&j.defaultProps===void 0&&g.compare===null?(c.tag=15,c.type=j,nP(u,c,j,w,P)):(u=dy(g.type,null,w,c,c.mode,P),u.ref=c.ref,u.return=c,c.child=u)}if(j=u.child,!Ww(u,P)){var de=j.memoizedProps;if(g=g.compare,g=g!==null?g:Wi,g(de,w)&&u.ref===c.ref)return Io(u,c,P)}return c.flags|=1,u=Bu(j,w),u.ref=c.ref,u.return=c,c.child=u}function nP(u,c,g,w,P){if(u!==null){var j=u.memoizedProps;if(Wi(j,w)&&u.ref===c.ref)if(di=!1,c.pendingProps=w=j,Ww(u,P))u.flags&131072&&(di=!0);else return c.lanes=u.lanes,Io(u,c,P)}return Uw(u,c,g,w,P)}function rP(u,c,g){var w=c.pendingProps,P=w.children,j=(c.stateNode._pendingVisibility&2)!==0,de=u!==null?u.memoizedState:null;if(wh(u,c),w.mode==="hidden"||j){if(c.flags&128){if(w=de!==null?de.baseLanes|g:g,u!==null){for(P=c.child=u.child,j=0;P!==null;)j=j|P.lanes|P.childLanes,P=P.sibling;c.childLanes=j&~w}else c.childLanes=0,c.child=null;return iP(u,c,w,g)}if(g&536870912)c.memoizedState={baseLanes:0,cachePool:null},u!==null&&Jm(c,de!==null?de.cachePool:null),de!==null?aO(c,de):mw(),sO(c);else return c.lanes=c.childLanes=536870912,iP(u,c,de!==null?de.baseLanes|g:g,g)}else de!==null?(Jm(c,de.cachePool),aO(c,de),Iu(),c.memoizedState=null):(u!==null&&Jm(c,null),mw(),Iu());return _i(u,c,P,g),c.child}function iP(u,c,g,w){var P=ww();return P=P===null?null:{parent:ai._currentValue,pool:P},c.memoizedState={baseLanes:g,cachePool:P},u!==null&&Jm(c,null),mw(),sO(c),u!==null&&bh(u,c,w,!0),null}function wh(u,c){var g=c.ref;if(g===null)u!==null&&u.ref!==null&&(c.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(c.flags|=2097664)}}function Uw(u,c,g,w,P){return Kl(c),g=Sw(u,c,g,w,void 0,P),w=xw(),u!==null&&!di?(Ew(u,c,P),Io(u,c,P)):(_e&&w&&v(c),c.flags|=1,_i(u,c,g,P),c.child)}function aP(u,c,g,w,P,j){return Kl(c),c.updateQueue=null,g=fO(c,w,g,P),cO(u),w=xw(),u!==null&&!di?(Ew(u,c,j),Io(u,c,j)):(_e&&w&&v(c),c.flags|=1,_i(u,c,g,j),c.child)}function sP(u,c,g,w,P){if(Kl(c),c.stateNode===null){var j=Qa,de=g.contextType;typeof de=="object"&&de!==null&&(j=Mi(de)),j=new g(w,j),c.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=jw,c.stateNode=j,j._reactInternals=c,j=c.stateNode,j.props=w,j.state=c.memoizedState,j.refs={},Yw(c),de=g.contextType,j.context=typeof de=="object"&&de!==null?Mi(de):Qa,j.state=c.memoizedState,de=g.getDerivedStateFromProps,typeof de=="function"&&(Fw(c,g,de,w),j.state=c.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(de=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),de!==j.state&&jw.enqueueReplaceState(j,j.state,null),Eh(c,w,j,P),xh(),j.state=c.memoizedState),typeof j.componentDidMount=="function"&&(c.flags|=4194308),w=!0}else if(u===null){j=c.stateNode;var Re=c.memoizedProps,Ke=zl(g,Re);j.props=Ke;var at=j.context,_t=g.contextType;de=Qa,typeof _t=="object"&&_t!==null&&(de=Mi(_t));var Ct=g.getDerivedStateFromProps;_t=typeof Ct=="function"||typeof j.getSnapshotBeforeUpdate=="function",Re=c.pendingProps!==Re,_t||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Re||at!==de)&&KO(c,j,w,de),Du=!1;var pt=c.memoizedState;j.state=pt,Eh(c,w,j,P),xh(),at=c.memoizedState,Re||pt!==at||Du?(typeof Ct=="function"&&(Fw(c,g,Ct,w),at=c.memoizedState),(Ke=Du||VO(c,g,Ke,w,pt,at,de))?(_t||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(c.flags|=4194308)):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=at),j.props=w,j.state=at,j.context=de,w=Ke):(typeof j.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{j=c.stateNode,Xw(u,c),de=c.memoizedProps,_t=zl(g,de),j.props=_t,Ct=c.pendingProps,pt=j.context,at=g.contextType,Ke=Qa,typeof at=="object"&&at!==null&&(Ke=Mi(at)),Re=g.getDerivedStateFromProps,(at=typeof Re=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(de!==Ct||pt!==Ke)&&KO(c,j,w,Ke),Du=!1,pt=c.memoizedState,j.state=pt,Eh(c,w,j,P),xh();var vt=c.memoizedState;de!==Ct||pt!==vt||Du||u!==null&&u.dependencies!==null&&uy(u.dependencies)?(typeof Re=="function"&&(Fw(c,g,Re,w),vt=c.memoizedState),(_t=Du||VO(c,g,_t,w,pt,vt,Ke)||u!==null&&u.dependencies!==null&&uy(u.dependencies))?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(w,vt,Ke),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(w,vt,Ke)),typeof j.componentDidUpdate=="function"&&(c.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof j.componentDidUpdate!="function"||de===u.memoizedProps&&pt===u.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||de===u.memoizedProps&&pt===u.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=vt),j.props=w,j.state=vt,j.context=Ke,w=_t):(typeof j.componentDidUpdate!="function"||de===u.memoizedProps&&pt===u.memoizedState||(c.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||de===u.memoizedProps&&pt===u.memoizedState||(c.flags|=1024),w=!1)}return j=w,wh(u,c),w=(c.flags&128)!==0,j||w?(j=c.stateNode,g=w&&typeof g.getDerivedStateFromError!="function"?null:j.render(),c.flags|=1,u!==null&&w?(c.child=qs(c,u.child,null,P),c.child=qs(c,null,g,P)):_i(u,c,g,P),c.memoizedState=j.state,u=c.child):u=Io(u,c,P),u}function oP(u,c,g,w){return Hr(),c.flags|=256,_i(u,c,g,w),c.child}var Bw={dehydrated:null,treeContext:null,retryLane:0};function qw(u){return{baseLanes:u,cachePool:lO()}}function Hw(u,c,g){return u=u!==null?u.childLanes&~g:0,c&&(u|=ns),u}function uP(u,c,g){var w=c.pendingProps,P=!1,j=(c.flags&128)!==0,de;if((de=j)||(de=u!==null&&u.memoizedState===null?!1:(ii.current&2)!==0),de&&(P=!0,c.flags&=-129),de=(c.flags&32)!==0,c.flags&=-33,u===null){if(_e){if(P?Pu(c):Iu(),_e){var Re=ne,Ke;if(Ke=Re){e:{for(Ke=Re,Re=ot;Ke.nodeType!==8;){if(!Re){Re=null;break e}if(Ke=_s(Ke.nextSibling),Ke===null){Re=null;break e}}Re=Ke}Re!==null?(c.memoizedState={dehydrated:Re,treeContext:To!==null?{id:Za,overflow:Ja}:null,retryLane:536870912},Ke=ts(18,null,null,0),Ke.stateNode=Re,Ke.return=c,c.child=Ke,q=c,ne=null,Ke=!0):Ke=!1}Ke||bt(c)}if(Re=c.memoizedState,Re!==null&&(Re=Re.dehydrated,Re!==null))return Re.data==="$!"?c.lanes=16:c.lanes=536870912,null;Oo(c)}return Re=w.children,w=w.fallback,P?(Iu(),P=c.mode,Re=Vw({mode:"hidden",children:Re},P),w=Wl(w,P,g,null),Re.return=c,w.return=c,Re.sibling=w,c.child=Re,P=c.child,P.memoizedState=qw(g),P.childLanes=Hw(u,de,g),c.memoizedState=Bw,w):(Pu(c),zw(c,Re))}if(Ke=u.memoizedState,Ke!==null&&(Re=Ke.dehydrated,Re!==null)){if(j)c.flags&256?(Pu(c),c.flags&=-257,c=Kw(u,c,g)):c.memoizedState!==null?(Iu(),c.child=u.child,c.flags|=128,c=null):(Iu(),P=w.fallback,Re=c.mode,w=Vw({mode:"visible",children:w.children},Re),P=Wl(P,Re,g,null),P.flags|=2,w.return=c,P.return=c,w.sibling=P,c.child=w,qs(c,u.child,null,g),w=c.child,w.memoizedState=qw(g),w.childLanes=Hw(u,de,g),c.memoizedState=Bw,c=P);else if(Pu(c),Re.data==="$!"){if(de=Re.nextSibling&&Re.nextSibling.dataset,de)var at=de.dgst;de=at,w=Error(r(419)),w.stack="",w.digest=de,Ar({value:w,source:null,stack:null}),c=Kw(u,c,g)}else if(di||bh(u,c,g,!1),de=(g&u.childLanes)!==0,di||de){if(de=_r,de!==null){if(w=g&-g,w&42)w=1;else switch(w){case 2:w=1;break;case 8:w=4;break;case 32:w=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:w=64;break;case 268435456:w=134217728;break;default:w=0}if(w=w&(de.suspendedLanes|g)?0:w,w!==0&&w!==Ke.retryLane)throw Ke.retryLane=w,da(u,w),Xi(de,u,w),XO}Re.data==="$?"||wb(),c=Kw(u,c,g)}else Re.data==="$?"?(c.flags|=128,c.child=u.child,c=iz.bind(null,u),Re._reactRetry=c,c=null):(u=Ke.treeContext,ne=_s(Re.nextSibling),q=c,_e=!0,We=null,ot=!1,u!==null&&(Ji[Yi++]=Za,Ji[Yi++]=Ja,Ji[Yi++]=To,Za=u.id,Ja=u.overflow,To=c),c=zw(c,w.children),c.flags|=4096);return c}return P?(Iu(),P=w.fallback,Re=c.mode,Ke=u.child,at=Ke.sibling,w=Bu(Ke,{mode:"hidden",children:w.children}),w.subtreeFlags=Ke.subtreeFlags&31457280,at!==null?P=Bu(at,P):(P=Wl(P,Re,g,null),P.flags|=2),P.return=c,w.return=c,w.sibling=P,c.child=w,w=P,P=c.child,Re=u.child.memoizedState,Re===null?Re=qw(g):(Ke=Re.cachePool,Ke!==null?(at=ai._currentValue,Ke=Ke.parent!==at?{parent:at,pool:at}:Ke):Ke=lO(),Re={baseLanes:Re.baseLanes|g,cachePool:Ke}),P.memoizedState=Re,P.childLanes=Hw(u,de,g),c.memoizedState=Bw,w):(Pu(c),g=u.child,u=g.sibling,g=Bu(g,{mode:"visible",children:w.children}),g.return=c,g.sibling=null,u!==null&&(de=c.deletions,de===null?(c.deletions=[u],c.flags|=16):de.push(u)),c.child=g,c.memoizedState=null,g)}function zw(u,c){return c=Vw({mode:"visible",children:c},u.mode),c.return=u,u.child=c}function Vw(u,c){return kP(u,c,0,null)}function Kw(u,c,g){return qs(c,u.child,null,g),u=zw(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function lP(u,c,g){u.lanes|=c;var w=u.alternate;w!==null&&(w.lanes|=c),Zw(u.return,c,g)}function Gw(u,c,g,w,P){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:P}:(j.isBackwards=c,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=g,j.tailMode=P)}function cP(u,c,g){var w=c.pendingProps,P=w.revealOrder,j=w.tail;if(_i(u,c,w.children,g),w=ii.current,w&2)w=w&1|2,c.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&lP(u,g,c);else if(u.tag===19)lP(u,g,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}switch(Ze(ii,w),P){case"forwards":for(g=c.child,P=null;g!==null;)u=g.alternate,u!==null&&Zm(u)===null&&(P=g),g=g.sibling;g=P,g===null?(P=c.child,c.child=null):(P=g.sibling,g.sibling=null),Gw(c,!1,P,g,j);break;case"backwards":for(g=null,P=c.child,c.child=null;P!==null;){if(u=P.alternate,u!==null&&Zm(u)===null){c.child=P;break}u=P.sibling,P.sibling=g,g=P,P=u}Gw(c,!0,g,null,j);break;case"together":Gw(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Io(u,c,g){if(u!==null&&(c.dependencies=u.dependencies),qu|=c.lanes,!(g&c.childLanes))if(u!==null){if(bh(u,c,g,!1),(g&c.childLanes)===0)return null}else return null;if(u!==null&&c.child!==u.child)throw Error(r(153));if(c.child!==null){for(u=c.child,g=Bu(u,u.pendingProps),c.child=g,g.return=c;u.sibling!==null;)u=u.sibling,g=g.sibling=Bu(u,u.pendingProps),g.return=c;g.sibling=null}return c.child}function Ww(u,c){return u.lanes&c?!0:(u=u.dependencies,!!(u!==null&&uy(u)))}function z9(u,c,g){switch(c.tag){case 3:W(c,c.stateNode.containerInfo),ku(c,ai,u.memoizedState.cache),Hr();break;case 27:case 5:ye(c);break;case 4:W(c,c.stateNode.containerInfo);break;case 10:ku(c,c.type,c.memoizedProps.value);break;case 13:var w=c.memoizedState;if(w!==null)return w.dehydrated!==null?(Pu(c),c.flags|=128,null):g&c.child.childLanes?uP(u,c,g):(Pu(c),u=Io(u,c,g),u!==null?u.sibling:null);Pu(c);break;case 19:var P=(u.flags&128)!==0;if(w=(g&c.childLanes)!==0,w||(bh(u,c,g,!1),w=(g&c.childLanes)!==0),P){if(w)return cP(u,c,g);c.flags|=128}if(P=c.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Ze(ii,ii.current),w)break;return null;case 22:case 23:return c.lanes=0,rP(u,c,g);case 24:ku(c,ai,u.memoizedState.cache)}return Io(u,c,g)}function fP(u,c,g){if(u!==null)if(u.memoizedProps!==c.pendingProps)di=!0;else{if(!Ww(u,g)&&!(c.flags&128))return di=!1,z9(u,c,g);di=!!(u.flags&131072)}else di=!1,_e&&c.flags&1048576&&d(c,jl,c.index);switch(c.lanes=0,c.tag){case 16:e:{u=c.pendingProps;var w=c.elementType,P=w._init;if(w=P(w._payload),c.type=w,typeof w=="function")ub(w)?(u=zl(w,u),c.tag=1,c=sP(null,c,w,u,g)):(c.tag=0,c=Uw(null,c,w,u,g));else{if(w!=null){if(P=w.$$typeof,P===_){c.tag=11,c=eP(null,c,w,u,g);break e}else if(P===S){c.tag=14,c=tP(null,c,w,u,g);break e}}throw c=B(w)||w,Error(r(306,c,""))}}return c;case 0:return Uw(u,c,c.type,c.pendingProps,g);case 1:return w=c.type,P=zl(w,c.pendingProps),sP(u,c,w,P,g);case 3:e:{if(W(c,c.stateNode.containerInfo),u===null)throw Error(r(387));var j=c.pendingProps;P=c.memoizedState,w=P.element,Xw(u,c),Eh(c,j,null,g);var de=c.memoizedState;if(j=de.cache,ku(c,ai,j),j!==P.cache&&Jw(c,[ai],g,!0),xh(),j=de.element,P.isDehydrated)if(P={element:j,isDehydrated:!1,cache:de.cache},c.updateQueue.baseState=P,c.memoizedState=P,c.flags&256){c=oP(u,c,j,g);break e}else if(j!==w){w=Zi(Error(r(424)),c),Ar(w),c=oP(u,c,j,g);break e}else for(ne=_s(c.stateNode.containerInfo.firstChild),q=c,_e=!0,We=null,ot=!0,g=Wm(c,null,j,g),c.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Hr(),j===w){c=Io(u,c,g);break e}_i(u,c,j,g)}c=c.child}return c;case 26:return wh(u,c),u===null?(g=pI(c.type,null,c.pendingProps,null))?c.memoizedState=g:_e||(g=c.type,u=c.pendingProps,w=Ey($.current).createElement(g),w[it]=c,w[Et]=u,wi(w,g,u),$n(w),c.stateNode=w):c.memoizedState=pI(c.type,u.memoizedProps,c.pendingProps,u.memoizedState),null;case 27:return ye(c),u===null&&_e&&(w=c.stateNode=fI(c.type,c.pendingProps,$.current),q=c,ot=!0,ne=_s(w.firstChild)),w=c.pendingProps.children,u!==null||_e?_i(u,c,w,g):c.child=qs(c,null,w,g),wh(u,c),c.child;case 5:return u===null&&_e&&((P=w=ne)&&(w=wz(w,c.type,c.pendingProps,ot),w!==null?(c.stateNode=w,q=c,ne=_s(w.firstChild),ot=!1,P=!0):P=!1),P||bt(c)),ye(c),P=c.type,j=c.pendingProps,de=u!==null?u.memoizedProps:null,w=j.children,kb(P,j)?w=null:de!==null&&kb(P,de)&&(c.flags|=32),c.memoizedState!==null&&(P=Sw(u,c,F9,null,null,g),$h._currentValue=P),wh(u,c),_i(u,c,w,g),c.child;case 6:return u===null&&_e&&((u=g=ne)&&(g=bz(g,c.pendingProps,ot),g!==null?(c.stateNode=g,q=c,ne=null,u=!0):u=!1),u||bt(c)),null;case 13:return uP(u,c,g);case 4:return W(c,c.stateNode.containerInfo),w=c.pendingProps,u===null?c.child=qs(c,null,w,g):_i(u,c,w,g),c.child;case 11:return eP(u,c,c.type,c.pendingProps,g);case 7:return _i(u,c,c.pendingProps,g),c.child;case 8:return _i(u,c,c.pendingProps.children,g),c.child;case 12:return _i(u,c,c.pendingProps.children,g),c.child;case 10:return w=c.pendingProps,ku(c,c.type,w.value),_i(u,c,w.children,g),c.child;case 9:return P=c.type._context,w=c.pendingProps.children,Kl(c),P=Mi(P),w=w(P),c.flags|=1,_i(u,c,w,g),c.child;case 14:return tP(u,c,c.type,c.pendingProps,g);case 15:return nP(u,c,c.type,c.pendingProps,g);case 19:return cP(u,c,g);case 22:return rP(u,c,g);case 24:return Kl(c),w=Mi(ai),u===null?(P=ww(),P===null&&(P=_r,j=vw(),P.pooledCache=j,j.refCount++,j!==null&&(P.pooledCacheLanes|=g),P=j),c.memoizedState={parent:w,cache:P},Yw(c),ku(c,ai,P)):(u.lanes&g&&(Xw(u,c),Eh(c,null,null,g),xh()),P=u.memoizedState,j=c.memoizedState,P.parent!==w?(P={parent:w,cache:w},c.memoizedState=P,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=P),ku(c,ai,w)):(w=j.cache,ku(c,ai,w),w!==P.cache&&Jw(c,[ai],g,!0))),_i(u,c,c.pendingProps.children,g),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}var Qw=Te(null),Vl=null,Lo=null;function ku(u,c,g){Ze(Qw,c._currentValue),c._currentValue=g}function Mo(u){u._currentValue=Qw.current,Me(Qw)}function Zw(u,c,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),u===g)break;u=u.return}}function Jw(u,c,g,w){var P=u.child;for(P!==null&&(P.return=u);P!==null;){var j=P.dependencies;if(j!==null){var de=P.child;j=j.firstContext;e:for(;j!==null;){var Re=j;j=P;for(var Ke=0;Ke<c.length;Ke++)if(Re.context===c[Ke]){j.lanes|=g,Re=j.alternate,Re!==null&&(Re.lanes|=g),Zw(j.return,g,u),w||(de=null);break e}j=Re.next}}else if(P.tag===18){if(de=P.return,de===null)throw Error(r(341));de.lanes|=g,j=de.alternate,j!==null&&(j.lanes|=g),Zw(de,g,u),de=null}else de=P.child;if(de!==null)de.return=P;else for(de=P;de!==null;){if(de===u){de=null;break}if(P=de.sibling,P!==null){P.return=de.return,de=P;break}de=de.return}P=de}}function bh(u,c,g,w){u=null;for(var P=c,j=!1;P!==null;){if(!j){if(P.flags&524288)j=!0;else if(P.flags&262144)break}if(P.tag===10){var de=P.alternate;if(de===null)throw Error(r(387));if(de=de.memoizedProps,de!==null){var Re=P.type;Gi(P.pendingProps.value,de.value)||(u!==null?u.push(Re):u=[Re])}}else if(P===re.current){if(de=P.alternate,de===null)throw Error(r(387));de.memoizedState.memoizedState!==P.memoizedState.memoizedState&&(u!==null?u.push($h):u=[$h])}P=P.return}u!==null&&Jw(c,u,g,w),c.flags|=262144}function uy(u){for(u=u.firstContext;u!==null;){if(!Gi(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Kl(u){Vl=u,Lo=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Mi(u){return dP(Vl,u)}function ly(u,c){return Vl===null&&Kl(u),dP(u,c)}function dP(u,c){var g=c._currentValue;if(c={context:c,memoizedValue:g,next:null},Lo===null){if(u===null)throw Error(r(308));Lo=c,u.dependencies={lanes:0,firstContext:c},u.flags|=524288}else Lo=Lo.next=c;return g}var Du=!1;function Yw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xw(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Nu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Fu(u,c,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,Pr&2){var P=w.pending;return P===null?c.next=c:(c.next=P.next,P.next=c),w.pending=c,c=xo(u),Hm(u,null,g),c}return Nl(u,w,c,g),xo(u)}function Sh(u,c,g){if(c=c.updateQueue,c!==null&&(c=c.shared,(g&4194176)!==0)){var w=c.lanes;w&=u.pendingLanes,g|=w,c.lanes=g,Jn(u,g)}}function eb(u,c){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var P=null,j=null;if(g=g.firstBaseUpdate,g!==null){do{var de={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};j===null?P=j=de:j=j.next=de,g=g.next}while(g!==null);j===null?P=j=c:j=j.next=c}else P=j=c;g={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:j,shared:w.shared,callbacks:w.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=c:u.next=c,g.lastBaseUpdate=c}var tb=!1;function xh(){if(tb){var u=mf;if(u!==null)throw u}}function Eh(u,c,g,w){tb=!1;var P=u.updateQueue;Du=!1;var j=P.firstBaseUpdate,de=P.lastBaseUpdate,Re=P.shared.pending;if(Re!==null){P.shared.pending=null;var Ke=Re,at=Ke.next;Ke.next=null,de===null?j=at:de.next=at,de=Ke;var _t=u.alternate;_t!==null&&(_t=_t.updateQueue,Re=_t.lastBaseUpdate,Re!==de&&(Re===null?_t.firstBaseUpdate=at:Re.next=at,_t.lastBaseUpdate=Ke))}if(j!==null){var Ct=P.baseState;de=0,_t=at=Ke=null,Re=j;do{var pt=Re.lane&-536870913,vt=pt!==Re.lane;if(vt?(jn&pt)===pt:(w&pt)===pt){pt!==0&&pt===gf&&(tb=!0),_t!==null&&(_t=_t.next={lane:0,tag:Re.tag,payload:Re.payload,callback:null,next:null});e:{var Zt=u,mn=Re;pt=c;var Dr=g;switch(mn.tag){case 1:if(Zt=mn.payload,typeof Zt=="function"){Ct=Zt.call(Dr,Ct,pt);break e}Ct=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=mn.payload,pt=typeof Zt=="function"?Zt.call(Dr,Ct,pt):Zt,pt==null)break e;Ct=U({},Ct,pt);break e;case 2:Du=!0}}pt=Re.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=P.callbacks,vt===null?P.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},_t===null?(at=_t=vt,Ke=Ct):_t=_t.next=vt,de|=pt;if(Re=Re.next,Re===null){if(Re=P.shared.pending,Re===null)break;vt=Re,Re=vt.next,vt.next=null,P.lastBaseUpdate=vt,P.shared.pending=null}}while(!0);_t===null&&(Ke=Ct),P.baseState=Ke,P.firstBaseUpdate=at,P.lastBaseUpdate=_t,j===null&&(P.shared.lanes=0),qu|=de,u.lanes=de,u.memoizedState=Ct}}function hP(u,c){if(typeof u!="function")throw Error(r(191,u));u.call(c)}function pP(u,c){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)hP(g[u],c)}function Th(u,c){try{var g=c.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var P=w.next;g=P;do{if((g.tag&u)===u){w=void 0;var j=g.create,de=g.inst;w=j(),de.destroy=w}g=g.next}while(g!==P)}}catch(Re){gr(c,c.return,Re)}}function ju(u,c,g){try{var w=c.updateQueue,P=w!==null?w.lastEffect:null;if(P!==null){var j=P.next;w=j;do{if((w.tag&u)===u){var de=w.inst,Re=de.destroy;if(Re!==void 0){de.destroy=void 0,P=c;var Ke=g;try{Re()}catch(at){gr(P,Ke,at)}}}w=w.next}while(w!==j)}}catch(at){gr(c,c.return,at)}}function gP(u){var c=u.updateQueue;if(c!==null){var g=u.stateNode;try{pP(c,g)}catch(w){gr(u,u.return,w)}}}function mP(u,c,g){g.props=zl(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(w){gr(u,c,w)}}function Gl(u,c){try{var g=u.ref;if(g!==null){var w=u.stateNode;switch(u.tag){case 26:case 27:case 5:var P=w;break;default:P=w}typeof g=="function"?u.refCleanup=g(P):g.current=P}}catch(j){gr(u,c,j)}}function Oa(u,c){var g=u.ref,w=u.refCleanup;if(g!==null)if(typeof w=="function")try{w()}catch(P){gr(u,c,P)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(P){gr(u,c,P)}else g.current=null}function yP(u){var c=u.type,g=u.memoizedProps,w=u.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":g.autoFocus&&w.focus();break e;case"img":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(P){gr(u,u.return,P)}}function vP(u,c,g){try{var w=u.stateNode;gz(w,u.type,g,c),w[Et]=c}catch(P){gr(u,u.return,P)}}function _P(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function nb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||_P(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function rb(u,c,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,c?g.nodeType===8?g.parentNode.insertBefore(u,c):g.insertBefore(u,c):(g.nodeType===8?(c=g.parentNode,c.insertBefore(u,g)):(c=g,c.appendChild(u)),g=g._reactRootContainer,g!=null||c.onclick!==null||(c.onclick=xy));else if(w!==4&&w!==27&&(u=u.child,u!==null))for(rb(u,c,g),u=u.sibling;u!==null;)rb(u,c,g),u=u.sibling}function cy(u,c,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,c?g.insertBefore(u,c):g.appendChild(u);else if(w!==4&&w!==27&&(u=u.child,u!==null))for(cy(u,c,g),u=u.sibling;u!==null;)cy(u,c,g),u=u.sibling}var ko=!1,Mr=!1,ib=!1,wP=typeof WeakSet=="function"?WeakSet:Set,hi=null,bP=!1;function V9(u,c){if(u=u.containerInfo,Lb=Py,u=Il(u),Ll(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var P=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{g.nodeType,j.nodeType}catch{g=null;break e}var de=0,Re=-1,Ke=-1,at=0,_t=0,Ct=u,pt=null;t:for(;;){for(var vt;Ct!==g||P!==0&&Ct.nodeType!==3||(Re=de+P),Ct!==j||w!==0&&Ct.nodeType!==3||(Ke=de+w),Ct.nodeType===3&&(de+=Ct.nodeValue.length),(vt=Ct.firstChild)!==null;)pt=Ct,Ct=vt;for(;;){if(Ct===u)break t;if(pt===g&&++at===P&&(Re=de),pt===j&&++_t===w&&(Ke=de),(vt=Ct.nextSibling)!==null)break;Ct=pt,pt=Ct.parentNode}Ct=vt}g=Re===-1||Ke===-1?null:{start:Re,end:Ke}}else g=null}g=g||{start:0,end:0}}else g=null;for(Mb={focusedElem:u,selectionRange:g},Py=!1,hi=c;hi!==null;)if(c=hi,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,hi=u;else for(;hi!==null;){switch(c=hi,j=c.alternate,u=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,g=c,P=j.memoizedProps,j=j.memoizedState,w=g.stateNode;try{var Zt=zl(g.type,P,g.elementType===g.type);u=w.getSnapshotBeforeUpdate(Zt,j),w.__reactInternalSnapshotBeforeUpdate=u}catch(mn){gr(g,g.return,mn)}}break;case 3:if(u&1024){if(u=c.stateNode.containerInfo,g=u.nodeType,g===9)Fb(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Fb(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=c.sibling,u!==null){u.return=c.return,hi=u;break}hi=c.return}return Zt=bP,bP=!1,Zt}function SP(u,c,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:No(u,g),w&4&&Th(5,g);break;case 1:if(No(u,g),w&4)if(u=g.stateNode,c===null)try{u.componentDidMount()}catch(Re){gr(g,g.return,Re)}else{var P=zl(g.type,c.memoizedProps);c=c.memoizedState;try{u.componentDidUpdate(P,c,u.__reactInternalSnapshotBeforeUpdate)}catch(Re){gr(g,g.return,Re)}}w&64&&gP(g),w&512&&Gl(g,g.return);break;case 3:if(No(u,g),w&64&&(w=g.updateQueue,w!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{pP(w,u)}catch(Re){gr(g,g.return,Re)}}break;case 26:No(u,g),w&512&&Gl(g,g.return);break;case 27:case 5:No(u,g),c===null&&w&4&&yP(g),w&512&&Gl(g,g.return);break;case 12:No(u,g);break;case 13:No(u,g),w&4&&TP(u,g);break;case 22:if(P=g.memoizedState!==null||ko,!P){c=c!==null&&c.memoizedState!==null||Mr;var j=ko,de=Mr;ko=P,(Mr=c)&&!de?$u(u,g,(g.subtreeFlags&8772)!==0):No(u,g),ko=j,Mr=de}w&512&&(g.memoizedProps.mode==="manual"?Gl(g,g.return):Oa(g,g.return));break;default:No(u,g)}}function xP(u){var c=u.alternate;c!==null&&(u.alternate=null,xP(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&Rn(c)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Jr=null,Pa=!1;function Do(u,c,g){for(g=g.child;g!==null;)EP(u,c,g),g=g.sibling}function EP(u,c,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Ne,g)}catch{}switch(g.tag){case 26:Mr||Oa(g,c),Do(u,c,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Mr||Oa(g,c);var w=Jr,P=Pa;for(Jr=g.stateNode,Do(u,c,g),g=g.stateNode,c=g.attributes;c.length;)g.removeAttributeNode(c[0]);Rn(g),Jr=w,Pa=P;break;case 5:Mr||Oa(g,c);case 6:P=Jr;var j=Pa;if(Jr=null,Do(u,c,g),Jr=P,Pa=j,Jr!==null)if(Pa)try{u=Jr,w=g.stateNode,u.nodeType===8?u.parentNode.removeChild(w):u.removeChild(w)}catch(de){gr(g,c,de)}else try{Jr.removeChild(g.stateNode)}catch(de){gr(g,c,de)}break;case 18:Jr!==null&&(Pa?(c=Jr,g=g.stateNode,c.nodeType===8?Nb(c.parentNode,g):c.nodeType===1&&Nb(c,g),Hh(c)):Nb(Jr,g.stateNode));break;case 4:w=Jr,P=Pa,Jr=g.stateNode.containerInfo,Pa=!0,Do(u,c,g),Jr=w,Pa=P;break;case 0:case 11:case 14:case 15:Mr||ju(2,g,c),Mr||ju(4,g,c),Do(u,c,g);break;case 1:Mr||(Oa(g,c),w=g.stateNode,typeof w.componentWillUnmount=="function"&&mP(g,c,w)),Do(u,c,g);break;case 21:Do(u,c,g);break;case 22:Mr||Oa(g,c),Mr=(w=Mr)||g.memoizedState!==null,Do(u,c,g),Mr=w;break;default:Do(u,c,g)}}function TP(u,c){if(c.memoizedState===null&&(u=c.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Hh(u)}catch(g){gr(c,c.return,g)}}function K9(u){switch(u.tag){case 13:case 19:var c=u.stateNode;return c===null&&(c=u.stateNode=new wP),c;case 22:return u=u.stateNode,c=u._retryCache,c===null&&(c=u._retryCache=new wP),c;default:throw Error(r(435,u.tag))}}function ab(u,c){var g=K9(u);c.forEach(function(w){var P=az.bind(null,u,w);g.has(w)||(g.add(w),w.then(P,P))})}function Xa(u,c){var g=c.deletions;if(g!==null)for(var w=0;w<g.length;w++){var P=g[w],j=u,de=c,Re=de;e:for(;Re!==null;){switch(Re.tag){case 27:case 5:Jr=Re.stateNode,Pa=!1;break e;case 3:Jr=Re.stateNode.containerInfo,Pa=!0;break e;case 4:Jr=Re.stateNode.containerInfo,Pa=!0;break e}Re=Re.return}if(Jr===null)throw Error(r(160));EP(j,de,P),Jr=null,Pa=!1,j=P.alternate,j!==null&&(j.return=null),P.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)CP(c,u),c=c.sibling}var vs=null;function CP(u,c){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Xa(c,u),es(u),w&4&&(ju(3,u,u.return),Th(3,u),ju(5,u,u.return));break;case 1:Xa(c,u),es(u),w&512&&(Mr||g===null||Oa(g,g.return)),w&64&&ko&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var P=vs;if(Xa(c,u),es(u),w&512&&(Mr||g===null||Oa(g,g.return)),w&4){var j=g!==null?g.memoizedState:null;if(w=u.memoizedState,g===null)if(w===null)if(u.stateNode===null){e:{w=u.type,g=u.memoizedProps,P=P.ownerDocument||P;t:switch(w){case"title":j=P.getElementsByTagName("title")[0],(!j||j[en]||j[it]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=P.createElement(w),P.head.insertBefore(j,P.querySelector("head > title"))),wi(j,w,g),j[it]=u,$n(j),w=j;break e;case"link":var de=yI("link","href",P).get(w+(g.href||""));if(de){for(var Re=0;Re<de.length;Re++)if(j=de[Re],j.getAttribute("href")===(g.href==null?null:g.href)&&j.getAttribute("rel")===(g.rel==null?null:g.rel)&&j.getAttribute("title")===(g.title==null?null:g.title)&&j.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){de.splice(Re,1);break t}}j=P.createElement(w),wi(j,w,g),P.head.appendChild(j);break;case"meta":if(de=yI("meta","content",P).get(w+(g.content||""))){for(Re=0;Re<de.length;Re++)if(j=de[Re],j.getAttribute("content")===(g.content==null?null:""+g.content)&&j.getAttribute("name")===(g.name==null?null:g.name)&&j.getAttribute("property")===(g.property==null?null:g.property)&&j.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&j.getAttribute("charset")===(g.charSet==null?null:g.charSet)){de.splice(Re,1);break t}}j=P.createElement(w),wi(j,w,g),P.head.appendChild(j);break;default:throw Error(r(468,w))}j[it]=u,$n(j),w=j}u.stateNode=w}else vI(P,u.type,u.stateNode);else u.stateNode=mI(P,w,u.memoizedProps);else j!==w?(j===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):j.count--,w===null?vI(P,u.type,u.stateNode):mI(P,w,u.memoizedProps)):w===null&&u.stateNode!==null&&vP(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(w&4&&u.alternate===null){P=u.stateNode,j=u.memoizedProps;try{for(var Ke=P.firstChild;Ke;){var at=Ke.nextSibling,_t=Ke.nodeName;Ke[en]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Ke.rel.toLowerCase()==="stylesheet"||P.removeChild(Ke),Ke=at}for(var Ct=u.type,pt=P.attributes;pt.length;)P.removeAttributeNode(pt[0]);wi(P,Ct,j),P[it]=u,P[Et]=j}catch(Zt){gr(u,u.return,Zt)}}case 5:if(Xa(c,u),es(u),w&512&&(Mr||g===null||Oa(g,g.return)),u.flags&32){P=u.stateNode;try{Ue(P,"")}catch(Zt){gr(u,u.return,Zt)}}w&4&&u.stateNode!=null&&(P=u.memoizedProps,vP(u,P,g!==null?g.memoizedProps:P)),w&1024&&(ib=!0);break;case 6:if(Xa(c,u),es(u),w&4){if(u.stateNode===null)throw Error(r(162));w=u.memoizedProps,g=u.stateNode;try{g.nodeValue=w}catch(Zt){gr(u,u.return,Zt)}}break;case 3:if(Ay=null,P=vs,vs=Ty(c.containerInfo),Xa(c,u),vs=P,es(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Hh(c.containerInfo)}catch(Zt){gr(u,u.return,Zt)}ib&&(ib=!1,AP(u));break;case 4:w=vs,vs=Ty(u.stateNode.containerInfo),Xa(c,u),es(u),vs=w;break;case 12:Xa(c,u),es(u);break;case 13:Xa(c,u),es(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(pb=Ut()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,ab(u,w)));break;case 22:if(w&512&&(Mr||g===null||Oa(g,g.return)),Ke=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,_t=ko,Ct=Mr,ko=_t||Ke,Mr=Ct||at,Xa(c,u),Mr=Ct,ko=_t,es(u),c=u.stateNode,c._current=u,c._visibility&=-3,c._visibility|=c._pendingVisibility&2,w&8192&&(c._visibility=Ke?c._visibility&-2:c._visibility|1,Ke&&(c=ko||Mr,g===null||at||c||wf(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,c=u;;){if(c.tag===5||c.tag===26||c.tag===27){if(g===null){at=g=c;try{if(P=at.stateNode,Ke)j=P.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{de=at.stateNode,Re=at.memoizedProps.style;var vt=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;de.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Zt){gr(at,at.return,Zt)}}}else if(c.tag===6){if(g===null){at=c;try{at.stateNode.nodeValue=Ke?"":at.memoizedProps}catch(Zt){gr(at,at.return,Zt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===u)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;g===c&&(g=null),c=c.return}g===c&&(g=null),c.sibling.return=c.return,c=c.sibling}w&4&&(w=u.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,ab(u,g))));break;case 19:Xa(c,u),es(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,ab(u,w)));break;case 21:break;default:Xa(c,u),es(u)}}function es(u){var c=u.flags;if(c&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(_P(g)){var w=g;break e}g=g.return}throw Error(r(160))}switch(w.tag){case 27:var P=w.stateNode,j=nb(u);cy(u,j,P);break;case 5:var de=w.stateNode;w.flags&32&&(Ue(de,""),w.flags&=-33);var Re=nb(u);cy(u,Re,de);break;case 3:case 4:var Ke=w.stateNode.containerInfo,at=nb(u);rb(u,at,Ke);break;default:throw Error(r(161))}}}catch(_t){gr(u,u.return,_t)}u.flags&=-3}c&4096&&(u.flags&=-4097)}function AP(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var c=u;AP(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),u=u.sibling}}function No(u,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)SP(u,c.alternate,c),c=c.sibling}function wf(u){for(u=u.child;u!==null;){var c=u;switch(c.tag){case 0:case 11:case 14:case 15:ju(4,c,c.return),wf(c);break;case 1:Oa(c,c.return);var g=c.stateNode;typeof g.componentWillUnmount=="function"&&mP(c,c.return,g),wf(c);break;case 26:case 27:case 5:Oa(c,c.return),wf(c);break;case 22:Oa(c,c.return),c.memoizedState===null&&wf(c);break;default:wf(c)}u=u.sibling}}function $u(u,c,g){for(g=g&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var w=c.alternate,P=u,j=c,de=j.flags;switch(j.tag){case 0:case 11:case 15:$u(P,j,g),Th(4,j);break;case 1:if($u(P,j,g),w=j,P=w.stateNode,typeof P.componentDidMount=="function")try{P.componentDidMount()}catch(at){gr(w,w.return,at)}if(w=j,P=w.updateQueue,P!==null){var Re=w.stateNode;try{var Ke=P.shared.hiddenCallbacks;if(Ke!==null)for(P.shared.hiddenCallbacks=null,P=0;P<Ke.length;P++)hP(Ke[P],Re)}catch(at){gr(w,w.return,at)}}g&&de&64&&gP(j),Gl(j,j.return);break;case 26:case 27:case 5:$u(P,j,g),g&&w===null&&de&4&&yP(j),Gl(j,j.return);break;case 12:$u(P,j,g);break;case 13:$u(P,j,g),g&&de&4&&TP(P,j);break;case 22:j.memoizedState===null&&$u(P,j,g),Gl(j,j.return);break;default:$u(P,j,g)}c=c.sibling}}function sb(u,c){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(u=c.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&gh(g))}function ob(u,c){u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&gh(u))}function Uu(u,c,g,w){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)RP(u,c,g,w),c=c.sibling}function RP(u,c,g,w){var P=c.flags;switch(c.tag){case 0:case 11:case 15:Uu(u,c,g,w),P&2048&&Th(9,c);break;case 3:Uu(u,c,g,w),P&2048&&(u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&gh(u)));break;case 12:if(P&2048){Uu(u,c,g,w),u=c.stateNode;try{var j=c.memoizedProps,de=j.id,Re=j.onPostCommit;typeof Re=="function"&&Re(de,c.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ke){gr(c,c.return,Ke)}}else Uu(u,c,g,w);break;case 23:break;case 22:j=c.stateNode,c.memoizedState!==null?j._visibility&4?Uu(u,c,g,w):Ch(u,c):j._visibility&4?Uu(u,c,g,w):(j._visibility|=4,bf(u,c,g,w,(c.subtreeFlags&10256)!==0)),P&2048&&sb(c.alternate,c);break;case 24:Uu(u,c,g,w),P&2048&&ob(c.alternate,c);break;default:Uu(u,c,g,w)}}function bf(u,c,g,w,P){for(P=P&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var j=u,de=c,Re=g,Ke=w,at=de.flags;switch(de.tag){case 0:case 11:case 15:bf(j,de,Re,Ke,P),Th(8,de);break;case 23:break;case 22:var _t=de.stateNode;de.memoizedState!==null?_t._visibility&4?bf(j,de,Re,Ke,P):Ch(j,de):(_t._visibility|=4,bf(j,de,Re,Ke,P)),P&&at&2048&&sb(de.alternate,de);break;case 24:bf(j,de,Re,Ke,P),P&&at&2048&&ob(de.alternate,de);break;default:bf(j,de,Re,Ke,P)}c=c.sibling}}function Ch(u,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var g=u,w=c,P=w.flags;switch(w.tag){case 22:Ch(g,w),P&2048&&sb(w.alternate,w);break;case 24:Ch(g,w),P&2048&&ob(w.alternate,w);break;default:Ch(g,w)}c=c.sibling}}var Ah=8192;function Sf(u){if(u.subtreeFlags&Ah)for(u=u.child;u!==null;)OP(u),u=u.sibling}function OP(u){switch(u.tag){case 26:Sf(u),u.flags&Ah&&u.memoizedState!==null&&kz(vs,u.memoizedState,u.memoizedProps);break;case 5:Sf(u);break;case 3:case 4:var c=vs;vs=Ty(u.stateNode.containerInfo),Sf(u),vs=c;break;case 22:u.memoizedState===null&&(c=u.alternate,c!==null&&c.memoizedState!==null?(c=Ah,Ah=16777216,Sf(u),Ah=c):Sf(u));break;default:Sf(u)}}function PP(u){var c=u.alternate;if(c!==null&&(u=c.child,u!==null)){c.child=null;do c=u.sibling,u.sibling=null,u=c;while(u!==null)}}function Rh(u){var c=u.deletions;if(u.flags&16){if(c!==null)for(var g=0;g<c.length;g++){var w=c[g];hi=w,LP(w,u)}PP(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)IP(u),u=u.sibling}function IP(u){switch(u.tag){case 0:case 11:case 15:Rh(u),u.flags&2048&&ju(9,u,u.return);break;case 3:Rh(u);break;case 12:Rh(u);break;case 22:var c=u.stateNode;u.memoizedState!==null&&c._visibility&4&&(u.return===null||u.return.tag!==13)?(c._visibility&=-5,fy(u)):Rh(u);break;default:Rh(u)}}function fy(u){var c=u.deletions;if(u.flags&16){if(c!==null)for(var g=0;g<c.length;g++){var w=c[g];hi=w,LP(w,u)}PP(u)}for(u=u.child;u!==null;){switch(c=u,c.tag){case 0:case 11:case 15:ju(8,c,c.return),fy(c);break;case 22:g=c.stateNode,g._visibility&4&&(g._visibility&=-5,fy(c));break;default:fy(c)}u=u.sibling}}function LP(u,c){for(;hi!==null;){var g=hi;switch(g.tag){case 0:case 11:case 15:ju(8,g,c);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:gh(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,hi=w;else e:for(g=u;hi!==null;){w=hi;var P=w.sibling,j=w.return;if(xP(w),w===g){hi=null;break e}if(P!==null){P.return=j,hi=P;break e}hi=j}}}function G9(u,c,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ts(u,c,g,w){return new G9(u,c,g,w)}function ub(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Bu(u,c){var g=u.alternate;return g===null?(g=ts(u.tag,c,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=c,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,c=u.dependencies,g.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function MP(u,c){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=c,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,c=g.dependencies,u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),u}function dy(u,c,g,w,P,j){var de=0;if(w=u,typeof u=="function")ub(u)&&(de=1);else if(typeof u=="string")de=Lz(u,g,ie.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Wl(g.children,P,j,c);case f:de=8,P|=24;break;case h:return u=ts(12,g,c,P|2),u.elementType=h,u.lanes=j,u;case x:return u=ts(13,g,c,P),u.elementType=x,u.lanes=j,u;case E:return u=ts(19,g,c,P),u.elementType=E,u.lanes=j,u;case A:return kP(g,P,j,c);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:de=10;break e;case m:de=9;break e;case _:de=11;break e;case S:de=14;break e;case b:de=16,w=null;break e}de=29,g=Error(r(130,u===null?"null":typeof u,"")),w=null}return c=ts(de,g,c,P),c.elementType=u,c.type=w,c.lanes=j,c}function Wl(u,c,g,w){return u=ts(7,u,w,c),u.lanes=g,u}function kP(u,c,g,w){u=ts(22,u,w,c),u.elementType=A,u.lanes=g;var P={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=P._current;if(j===null)throw Error(r(456));if(!(P._pendingVisibility&2)){var de=da(j,2);de!==null&&(P._pendingVisibility|=2,Xi(de,j,2))}},attach:function(){var j=P._current;if(j===null)throw Error(r(456));if(P._pendingVisibility&2){var de=da(j,2);de!==null&&(P._pendingVisibility&=-3,Xi(de,j,2))}}};return u.stateNode=P,u}function lb(u,c,g){return u=ts(6,u,null,c),u.lanes=g,u}function cb(u,c,g){return c=ts(4,u.children!==null?u.children:[],u.key,c),c.lanes=g,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}function Fo(u){u.flags|=4}function DP(u,c){if(c.type!=="stylesheet"||c.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!_I(c)){if(c=Ya.current,c!==null&&((jn&4194176)===jn?Hs!==null:(jn&62914560)!==jn&&!(jn&536870912)||c!==Hs))throw Ou=Bs,vi;u.flags|=8192}}function hy(u,c){c!==null&&(u.flags|=4),u.flags&16384&&(c=u.tag!==22?qe():536870912,u.lanes|=c,Ef|=c)}function Oh(u,c){if(!_e)switch(u.tailMode){case"hidden":c=u.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Or(u){var c=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(c)for(var P=u.child;P!==null;)g|=P.lanes|P.childLanes,w|=P.subtreeFlags&31457280,w|=P.flags&31457280,P.return=u,P=P.sibling;else for(P=u.child;P!==null;)g|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=u,P=P.sibling;return u.subtreeFlags|=w,u.childLanes=g,c}function W9(u,c,g){var w=c.pendingProps;switch(O(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(c),null;case 1:return Or(c),null;case 3:return g=c.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),c.memoizedState.cache!==w&&(c.flags|=2048),Mo(ai),pe(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(gn(c)?Fo(c):u===null||u.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,We!==null&&(vb(We),We=null))),Or(c),null;case 26:return g=c.memoizedState,u===null?(Fo(c),g!==null?(Or(c),DP(c,g)):(Or(c),c.flags&=-16777217)):g?g!==u.memoizedState?(Fo(c),Or(c),DP(c,g)):(Or(c),c.flags&=-16777217):(u.memoizedProps!==w&&Fo(c),Or(c),c.flags&=-16777217),null;case 27:ze(c),g=$.current;var P=c.type;if(u!==null&&c.stateNode!=null)u.memoizedProps!==w&&Fo(c);else{if(!w){if(c.stateNode===null)throw Error(r(166));return Or(c),null}u=ie.current,gn(c)?jt(c):(u=fI(P,w,g),c.stateNode=u,Fo(c))}return Or(c),null;case 5:if(ze(c),g=c.type,u!==null&&c.stateNode!=null)u.memoizedProps!==w&&Fo(c);else{if(!w){if(c.stateNode===null)throw Error(r(166));return Or(c),null}if(u=ie.current,gn(c))jt(c);else{switch(P=Ey($.current),u){case 1:u=P.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=P.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=P.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=P.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=P.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof w.is=="string"?P.createElement("select",{is:w.is}):P.createElement("select"),w.multiple?u.multiple=!0:w.size&&(u.size=w.size);break;default:u=typeof w.is=="string"?P.createElement(g,{is:w.is}):P.createElement(g)}}u[it]=c,u[Et]=w;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)u.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=u;e:switch(wi(u,g,w),g){case"button":case"input":case"select":case"textarea":u=!!w.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fo(c)}}return Or(c),c.flags&=-16777217,null;case 6:if(u&&c.stateNode!=null)u.memoizedProps!==w&&Fo(c);else{if(typeof w!="string"&&c.stateNode===null)throw Error(r(166));if(u=$.current,gn(c)){if(u=c.stateNode,g=c.memoizedProps,w=null,P=q,P!==null)switch(P.tag){case 27:case 5:w=P.memoizedProps}u[it]=c,u=!!(u.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||aI(u.nodeValue,g)),u||bt(c)}else u=Ey(u).createTextNode(w),u[it]=c,c.stateNode=u}return Or(c),null;case 13:if(w=c.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(P=gn(c),w!==null&&w.dehydrated!==null){if(u===null){if(!P)throw Error(r(318));if(P=c.memoizedState,P=P!==null?P.dehydrated:null,!P)throw Error(r(317));P[it]=c}else Hr(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;Or(c),P=!1}else We!==null&&(vb(We),We=null),P=!0;if(!P)return c.flags&256?(Oo(c),c):(Oo(c),null)}if(Oo(c),c.flags&128)return c.lanes=g,c;if(g=w!==null,u=u!==null&&u.memoizedState!==null,g){w=c.child,P=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(P=w.alternate.memoizedState.cachePool.pool);var j=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(j=w.memoizedState.cachePool.pool),j!==P&&(w.flags|=2048)}return g!==u&&g&&(c.child.flags|=8192),hy(c,c.updateQueue),Or(c),null;case 4:return pe(),u===null&&Ob(c.stateNode.containerInfo),Or(c),null;case 10:return Mo(c.type),Or(c),null;case 19:if(Me(ii),P=c.memoizedState,P===null)return Or(c),null;if(w=(c.flags&128)!==0,j=P.rendering,j===null)if(w)Oh(P,!1);else{if(kr!==0||u!==null&&u.flags&128)for(u=c.child;u!==null;){if(j=Zm(u),j!==null){for(c.flags|=128,Oh(P,!1),u=j.updateQueue,c.updateQueue=u,hy(c,u),c.subtreeFlags=0,u=g,g=c.child;g!==null;)MP(g,u),g=g.sibling;return Ze(ii,ii.current&1|2),c.child}u=u.sibling}P.tail!==null&&Ut()>py&&(c.flags|=128,w=!0,Oh(P,!1),c.lanes=4194304)}else{if(!w)if(u=Zm(j),u!==null){if(c.flags|=128,w=!0,u=u.updateQueue,c.updateQueue=u,hy(c,u),Oh(P,!0),P.tail===null&&P.tailMode==="hidden"&&!j.alternate&&!_e)return Or(c),null}else 2*Ut()-P.renderingStartTime>py&&g!==536870912&&(c.flags|=128,w=!0,Oh(P,!1),c.lanes=4194304);P.isBackwards?(j.sibling=c.child,c.child=j):(u=P.last,u!==null?u.sibling=j:c.child=j,P.last=j)}return P.tail!==null?(c=P.tail,P.rendering=c,P.tail=c.sibling,P.renderingStartTime=Ut(),c.sibling=null,u=ii.current,Ze(ii,w?u&1|2:u&1),c):(Or(c),null);case 22:case 23:return Oo(c),yw(),w=c.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(c.flags|=8192):w&&(c.flags|=8192),w?g&536870912&&!(c.flags&128)&&(Or(c),c.subtreeFlags&6&&(c.flags|=8192)):Or(c),g=c.updateQueue,g!==null&&hy(c,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),w=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(w=c.memoizedState.cachePool.pool),w!==g&&(c.flags|=2048),u!==null&&Me(Ul),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),Mo(ai),Or(c),null;case 25:return null}throw Error(r(156,c.tag))}function Q9(u,c){switch(O(c),c.tag){case 1:return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return Mo(ai),pe(),u=c.flags,u&65536&&!(u&128)?(c.flags=u&-65537|128,c):null;case 26:case 27:case 5:return ze(c),null;case 13:if(Oo(c),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(r(340));Hr()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return Me(ii),null;case 4:return pe(),null;case 10:return Mo(c.type),null;case 22:case 23:return Oo(c),yw(),u!==null&&Me(Ul),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 24:return Mo(ai),null;case 25:return null;default:return null}}function NP(u,c){switch(O(c),c.tag){case 3:Mo(ai),pe();break;case 26:case 27:case 5:ze(c);break;case 4:pe();break;case 13:Oo(c);break;case 19:Me(ii);break;case 10:Mo(c.type);break;case 22:case 23:Oo(c),yw(),u!==null&&Me(Ul);break;case 24:Mo(ai)}}var Z9={getCacheForType:function(u){var c=Mi(ai),g=c.data.get(u);return g===void 0&&(g=u(),c.data.set(u,g)),g}},J9=typeof WeakMap=="function"?WeakMap:Map,Pr=0,_r=null,Ln=null,jn=0,wr=0,Ia=null,jo=!1,xf=!1,fb=!1,$o=0,kr=0,qu=0,Ql=0,db=0,ns=0,Ef=0,Ph=null,Vs=null,hb=!1,pb=0,py=1/0,gy=null,Hu=null,my=!1,Zl=null,Ih=0,gb=0,mb=null,Lh=0,yb=null;function La(){if(Pr&2&&jn!==0)return jn&-jn;if(ee.T!==null){var u=gf;return u!==0?u:Tb()}return Ae()}function FP(){ns===0&&(ns=!(jn&536870912)||_e?Ie():536870912);var u=Ya.current;return u!==null&&(u.flags|=32),ns}function Xi(u,c,g){(u===_r&&wr===2||u.cancelPendingCommit!==null)&&(Tf(u,0),Uo(u,jn,ns,!1)),xt(u,g),(!(Pr&2)||u!==_r)&&(u===_r&&(!(Pr&2)&&(Ql|=g),kr===4&&Uo(u,jn,ns,!1)),Ks(u))}function jP(u,c,g){if(Pr&6)throw Error(r(327));var w=!g&&(c&60)===0&&(c&u.expiredLanes)===0||In(u,c),P=w?ez(u,c):bb(u,c,!0),j=w;do{if(P===0){xf&&!w&&Uo(u,c,0,!1);break}else if(P===6)Uo(u,c,0,!jo);else{if(g=u.current.alternate,j&&!Y9(g)){P=bb(u,c,!1),j=!1;continue}if(P===2){if(j=c,u.errorRecoveryDisabledLanes&j)var de=0;else de=u.pendingLanes&-536870913,de=de!==0?de:de&536870912?536870912:0;if(de!==0){c=de;e:{var Re=u;P=Ph;var Ke=Re.current.memoizedState.isDehydrated;if(Ke&&(Tf(Re,de).flags|=256),de=bb(Re,de,!1),de!==2){if(fb&&!Ke){Re.errorRecoveryDisabledLanes|=j,Ql|=j,P=4;break e}j=Vs,Vs=P,j!==null&&vb(j)}P=de}if(j=!1,P!==2)continue}}if(P===1){Tf(u,0),Uo(u,c,0,!0);break}e:{switch(w=u,P){case 0:case 1:throw Error(r(345));case 4:if((c&4194176)===c){Uo(w,c,ns,!jo);break e}break;case 2:Vs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(w.finishedWork=g,w.finishedLanes=c,(c&62914560)===c&&(j=pb+300-Ut(),10<j)){if(Uo(w,c,ns,!jo),un(w,0)!==0)break e;w.timeoutHandle=uI($P.bind(null,w,g,Vs,gy,hb,c,ns,Ql,Ef,jo,2,-0,0),j);break e}$P(w,g,Vs,gy,hb,c,ns,Ql,Ef,jo,0,-0,0)}}break}while(!0);Ks(u)}function vb(u){Vs===null?Vs=u:Vs.push.apply(Vs,u)}function $P(u,c,g,w,P,j,de,Re,Ke,at,_t,Ct,pt){var vt=c.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(jh={stylesheets:null,count:0,unsuspend:Mz},OP(c),c=Dz(),c!==null)){u.cancelPendingCommit=c(KP.bind(null,u,g,w,P,de,Re,Ke,1,Ct,pt)),Uo(u,j,de,!at);return}KP(u,g,w,P,de,Re,Ke,_t,Ct,pt)}function Y9(u){for(var c=u;;){var g=c.tag;if((g===0||g===11||g===15)&&c.flags&16384&&(g=c.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var P=g[w],j=P.getSnapshot;P=P.value;try{if(!Gi(j(),P))return!1}catch{return!1}}if(g=c.child,c.subtreeFlags&16384&&g!==null)g.return=c,c=g;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Uo(u,c,g,w){c&=~db,c&=~Ql,u.suspendedLanes|=c,u.pingedLanes&=~c,w&&(u.warmLanes|=c),w=u.expirationTimes;for(var P=c;0<P;){var j=31-Rt(P),de=1<<j;w[j]=-1,P&=~de}g!==0&&Bn(u,g,c)}function yy(){return Pr&6?!0:(Mh(0),!1)}function _b(){if(Ln!==null){if(wr===0)var u=Ln.return;else u=Ln,Lo=Vl=null,Tw(u),Ao=null,vr=0,u=Ln;for(;u!==null;)NP(u.alternate,u),u=u.return;Ln=null}}function Tf(u,c){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,yz(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),_b(),_r=u,Ln=g=Bu(u.current,null),jn=c,wr=0,Ia=null,jo=!1,xf=In(u,c),fb=!1,Ef=ns=db=Ql=qu=kr=0,Vs=Ph=null,hb=!1,c&8&&(c|=c&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=c;0<w;){var P=31-Rt(w),j=1<<P;c|=u[P],w&=~j}return $o=c,fa(),g}function UP(u,c){Tn=null,ee.H=zs,c===fi?(c=Km(),wr=3):c===vi?(c=Km(),wr=4):wr=c===XO?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Ia=c,Ln===null&&(kr=1,oy(u,Zi(c,u.current)))}function BP(){var u=ee.H;return ee.H=zs,u===null?zs:u}function qP(){var u=ee.A;return ee.A=Z9,u}function wb(){kr=4,jo||(jn&4194176)!==jn&&Ya.current!==null||(xf=!0),!(qu&134217727)&&!(Ql&134217727)||_r===null||Uo(_r,jn,ns,!1)}function bb(u,c,g){var w=Pr;Pr|=2;var P=BP(),j=qP();(_r!==u||jn!==c)&&(gy=null,Tf(u,c)),c=!1;var de=kr;e:do try{if(wr!==0&&Ln!==null){var Re=Ln,Ke=Ia;switch(wr){case 8:_b(),de=6;break e;case 3:case 2:case 6:Ya.current===null&&(c=!0);var at=wr;if(wr=0,Ia=null,Cf(u,Re,Ke,at),g&&xf){de=0;break e}break;default:at=wr,wr=0,Ia=null,Cf(u,Re,Ke,at)}}X9(),de=kr;break}catch(_t){UP(u,_t)}while(!0);return c&&u.shellSuspendCounter++,Lo=Vl=null,Pr=w,ee.H=P,ee.A=j,Ln===null&&(_r=null,jn=0,fa()),de}function X9(){for(;Ln!==null;)HP(Ln)}function ez(u,c){var g=Pr;Pr|=2;var w=BP(),P=qP();_r!==u||jn!==c?(gy=null,py=Ut()+500,Tf(u,c)):xf=In(u,c);e:do try{if(wr!==0&&Ln!==null){c=Ln;var j=Ia;t:switch(wr){case 1:wr=0,Ia=null,Cf(u,c,j,1);break;case 2:if(zm(j)){wr=0,Ia=null,zP(c);break}c=function(){wr===2&&_r===u&&(wr=7),Ks(u)},j.then(c,c);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:zm(j)?(wr=0,Ia=null,zP(c)):(wr=0,Ia=null,Cf(u,c,j,7));break;case 5:var de=null;switch(Ln.tag){case 26:de=Ln.memoizedState;case 5:case 27:var Re=Ln;if(!de||_I(de)){wr=0,Ia=null;var Ke=Re.sibling;if(Ke!==null)Ln=Ke;else{var at=Re.return;at!==null?(Ln=at,vy(at)):Ln=null}break t}}wr=0,Ia=null,Cf(u,c,j,5);break;case 6:wr=0,Ia=null,Cf(u,c,j,6);break;case 8:_b(),kr=6;break e;default:throw Error(r(462))}}tz();break}catch(_t){UP(u,_t)}while(!0);return Lo=Vl=null,ee.H=w,ee.A=P,Pr=g,Ln!==null?0:(_r=null,jn=0,fa(),kr)}function tz(){for(;Ln!==null&&!nt();)HP(Ln)}function HP(u){var c=fP(u.alternate,u,$o);u.memoizedProps=u.pendingProps,c===null?vy(u):Ln=c}function zP(u){var c=u,g=c.alternate;switch(c.tag){case 15:case 0:c=aP(g,c,c.pendingProps,c.type,void 0,jn);break;case 11:c=aP(g,c,c.pendingProps,c.type.render,c.ref,jn);break;case 5:Tw(c);default:NP(g,c),c=Ln=MP(c,$o),c=fP(g,c,$o)}u.memoizedProps=u.pendingProps,c===null?vy(u):Ln=c}function Cf(u,c,g,w){Lo=Vl=null,Tw(c),Ao=null,vr=0;var P=c.return;try{if(H9(u,P,c,g,jn)){kr=1,oy(u,Zi(g,u.current)),Ln=null;return}}catch(j){if(P!==null)throw Ln=P,j;kr=1,oy(u,Zi(g,u.current)),Ln=null;return}c.flags&32768?(_e||w===1?u=!0:xf||jn&536870912?u=!1:(jo=u=!0,(w===2||w===3||w===6)&&(w=Ya.current,w!==null&&w.tag===13&&(w.flags|=16384))),VP(c,u)):vy(c)}function vy(u){var c=u;do{if(c.flags&32768){VP(c,jo);return}u=c.return;var g=W9(c.alternate,c,$o);if(g!==null){Ln=g;return}if(c=c.sibling,c!==null){Ln=c;return}Ln=c=u}while(c!==null);kr===0&&(kr=5)}function VP(u,c){do{var g=Q9(u.alternate,u);if(g!==null){g.flags&=32767,Ln=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!c&&(u=u.sibling,u!==null)){Ln=u;return}Ln=u=g}while(u!==null);kr=6,Ln=null}function KP(u,c,g,w,P,j,de,Re,Ke,at){var _t=ee.T,Ct=Z.p;try{Z.p=2,ee.T=null,nz(u,c,g,w,Ct,P,j,de,Re,Ke,at)}finally{ee.T=_t,Z.p=Ct}}function nz(u,c,g,w,P,j,de,Re){do Af();while(Zl!==null);if(Pr&6)throw Error(r(327));var Ke=u.finishedWork;if(w=u.finishedLanes,Ke===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ke===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ke.lanes|Ke.childLanes;if(at|=hh,It(u,w,at,j,de,Re),u===_r&&(Ln=_r=null,jn=0),!(Ke.subtreeFlags&10256)&&!(Ke.flags&10256)||my||(my=!0,gb=at,mb=g,sz(H,function(){return Af(),null})),g=(Ke.flags&15990)!==0,Ke.subtreeFlags&15990||g?(g=ee.T,ee.T=null,j=Z.p,Z.p=2,de=Pr,Pr|=4,V9(u,Ke),CP(Ke,u),uf(Mb,u.containerInfo),Py=!!Lb,Mb=Lb=null,u.current=Ke,SP(u,Ke.alternate,Ke),gt(),Pr=de,Z.p=j,ee.T=g):u.current=Ke,my?(my=!1,Zl=u,Ih=w):GP(u,at),at=u.pendingLanes,at===0&&(Hu=null),Pt(Ke.stateNode),Ks(u),c!==null)for(P=u.onRecoverableError,Ke=0;Ke<c.length;Ke++)at=c[Ke],P(at.value,{componentStack:at.stack});return Ih&3&&Af(),at=u.pendingLanes,w&4194218&&at&42?u===yb?Lh++:(Lh=0,yb=u):Lh=0,Mh(0),null}function GP(u,c){(u.pooledCacheLanes&=c)===0&&(c=u.pooledCache,c!=null&&(u.pooledCache=null,gh(c)))}function Af(){if(Zl!==null){var u=Zl,c=gb;gb=0;var g=Qe(Ih),w=ee.T,P=Z.p;try{if(Z.p=32>g?32:g,ee.T=null,Zl===null)var j=!1;else{g=mb,mb=null;var de=Zl,Re=Ih;if(Zl=null,Ih=0,Pr&6)throw Error(r(331));var Ke=Pr;if(Pr|=4,IP(de.current),RP(de,de.current,Re,g),Pr=Ke,Mh(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Ne,de)}catch{}j=!0}return j}finally{Z.p=P,ee.T=w,GP(u,c)}}return!1}function WP(u,c,g){c=Zi(g,c),c=$w(u.stateNode,c,2),u=Fu(u,c,2),u!==null&&(xt(u,2),Ks(u))}function gr(u,c,g){if(u.tag===3)WP(u,u,g);else for(;c!==null;){if(c.tag===3){WP(c,u,g);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(Hu===null||!Hu.has(w))){u=Zi(g,u),g=JO(2),w=Fu(c,g,2),w!==null&&(YO(g,w,c,u),xt(w,2),Ks(w));break}}c=c.return}}function Sb(u,c,g){var w=u.pingCache;if(w===null){w=u.pingCache=new J9;var P=new Set;w.set(c,P)}else P=w.get(c),P===void 0&&(P=new Set,w.set(c,P));P.has(g)||(fb=!0,P.add(g),u=rz.bind(null,u,c,g),c.then(u,u))}function rz(u,c,g){var w=u.pingCache;w!==null&&w.delete(c),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,_r===u&&(jn&g)===g&&(kr===4||kr===3&&(jn&62914560)===jn&&300>Ut()-pb?!(Pr&2)&&Tf(u,0):db|=g,Ef===jn&&(Ef=0)),Ks(u)}function QP(u,c){c===0&&(c=qe()),u=da(u,c),u!==null&&(xt(u,c),Ks(u))}function iz(u){var c=u.memoizedState,g=0;c!==null&&(g=c.retryLane),QP(u,g)}function az(u,c){var g=0;switch(u.tag){case 13:var w=u.stateNode,P=u.memoizedState;P!==null&&(g=P.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(c),QP(u,g)}function sz(u,c){return Fe(u,c)}var _y=null,Rf=null,xb=!1,wy=!1,Eb=!1,Jl=0;function Ks(u){u!==Rf&&u.next===null&&(Rf===null?_y=Rf=u:Rf=Rf.next=u),wy=!0,xb||(xb=!0,uz(oz))}function Mh(u,c){if(!Eb&&wy){Eb=!0;do for(var g=!1,w=_y;w!==null;){if(u!==0){var P=w.pendingLanes;if(P===0)var j=0;else{var de=w.suspendedLanes,Re=w.pingedLanes;j=(1<<31-Rt(42|u)+1)-1,j&=P&~(de&~Re),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(g=!0,YP(w,j))}else j=jn,j=un(w,w===_r?j:0),!(j&3)||In(w,j)||(g=!0,YP(w,j));w=w.next}while(g);Eb=!1}}function oz(){wy=xb=!1;var u=0;Jl!==0&&(mz()&&(u=Jl),Jl=0);for(var c=Ut(),g=null,w=_y;w!==null;){var P=w.next,j=ZP(w,c);j===0?(w.next=null,g===null?_y=P:g.next=P,P===null&&(Rf=g)):(g=w,(u!==0||j&3)&&(wy=!0)),w=P}Mh(u)}function ZP(u,c){for(var g=u.suspendedLanes,w=u.pingedLanes,P=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var de=31-Rt(j),Re=1<<de,Ke=P[de];Ke===-1?(!(Re&g)||Re&w)&&(P[de]=sr(Re,c)):Ke<=c&&(u.expiredLanes|=Re),j&=~Re}if(c=_r,g=jn,g=un(u,u===c?g:0),w=u.callbackNode,g===0||u===c&&wr===2||u.cancelPendingCommit!==null)return w!==null&&w!==null&&tt(w),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||In(u,g)){if(c=g&-g,c===u.callbackPriority)return c;switch(w!==null&&tt(w),Qe(g)){case 2:case 8:g=te;break;case 32:g=H;break;case 268435456:g=K;break;default:g=H}return w=JP.bind(null,u),g=Fe(g,w),u.callbackPriority=c,u.callbackNode=g,c}return w!==null&&w!==null&&tt(w),u.callbackPriority=2,u.callbackNode=null,2}function JP(u,c){var g=u.callbackNode;if(Af()&&u.callbackNode!==g)return null;var w=jn;return w=un(u,u===_r?w:0),w===0?null:(jP(u,w,c),ZP(u,Ut()),u.callbackNode!=null&&u.callbackNode===g?JP.bind(null,u):null)}function YP(u,c){if(Af())return null;jP(u,c,!0)}function uz(u){vz(function(){Pr&6?Fe(Be,u):u()})}function Tb(){return Jl===0&&(Jl=Ie()),Jl}function XP(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Dt(""+u)}function eI(u,c){var g=c.ownerDocument.createElement("input");return g.name=c.name,g.value=c.value,u.id&&g.setAttribute("form",u.id),c.parentNode.insertBefore(g,c),u=new FormData(u),g.parentNode.removeChild(g),u}function lz(u,c,g,w,P){if(c==="submit"&&g&&g.stateNode===P){var j=XP((P[Et]||null).action),de=w.submitter;de&&(c=(c=de[Et]||null)?XP(c.formAction):de.getAttribute("formAction"),c!==null&&(j=c,de=null));var Re=new Ka("action","action",null,w,P);u.push({event:Re,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Jl!==0){var Ke=de?eI(P,de):new FormData(P);kw(g,{pending:!0,data:Ke,method:P.method,action:j},null,Ke)}}else typeof j=="function"&&(Re.preventDefault(),Ke=de?eI(P,de):new FormData(P),kw(g,{pending:!0,data:Ke,method:P.method,action:j},j,Ke))},currentTarget:P}]})}}for(var Cb=0;Cb<qm.length;Cb++){var Ab=qm[Cb],cz=Ab.toLowerCase(),fz=Ab[0].toUpperCase()+Ab.slice(1);ci(cz,"on"+fz)}ci(Ra,"onAnimationEnd"),ci(Dl,"onAnimationIteration"),ci($m,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(lf,"onTransitionRun"),ci(gw,"onTransitionStart"),ci(Um,"onTransitionCancel"),ci(Bm,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qr("onBeforeInput",["compositionend","keypress","textInput","paste"]),qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kh));function tI(u,c){c=(c&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],P=w.event;w=w.listeners;e:{var j=void 0;if(c)for(var de=w.length-1;0<=de;de--){var Re=w[de],Ke=Re.instance,at=Re.currentTarget;if(Re=Re.listener,Ke!==j&&P.isPropagationStopped())break e;j=Re,P.currentTarget=at;try{j(P)}catch(_t){sy(_t)}P.currentTarget=null,j=Ke}else for(de=0;de<w.length;de++){if(Re=w[de],Ke=Re.instance,at=Re.currentTarget,Re=Re.listener,Ke!==j&&P.isPropagationStopped())break e;j=Re,P.currentTarget=at;try{j(P)}catch(_t){sy(_t)}P.currentTarget=null,j=Ke}}}}function kn(u,c){var g=c[Vt];g===void 0&&(g=c[Vt]=new Set);var w=u+"__bubble";g.has(w)||(nI(c,u,2,!1),g.add(w))}function Rb(u,c,g){var w=0;c&&(w|=4),nI(g,u,w,c)}var by="_reactListening"+Math.random().toString(36).slice(2);function Ob(u){if(!u[by]){u[by]=!0,Tr.forEach(function(g){g!=="selectionchange"&&(dz.has(g)||Rb(g,!1,u),Rb(g,!0,u))});var c=u.nodeType===9?u:u.ownerDocument;c===null||c[by]||(c[by]=!0,Rb("selectionchange",!1,c))}}function nI(u,c,g,w){switch(TI(c)){case 2:var P=jz;break;case 8:P=$z;break;default:P=qb}g=P.bind(null,c,g,u),P=void 0,!hr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(P=!0),w?P!==void 0?u.addEventListener(c,g,{capture:!0,passive:P}):u.addEventListener(c,g,!0):P!==void 0?u.addEventListener(c,g,{passive:P}):u.addEventListener(c,g,!1)}function Pb(u,c,g,w,P){var j=w;if(!(c&1)&&!(c&2)&&w!==null)e:for(;;){if(w===null)return;var de=w.tag;if(de===3||de===4){var Re=w.stateNode.containerInfo;if(Re===P||Re.nodeType===8&&Re.parentNode===P)break;if(de===4)for(de=w.return;de!==null;){var Ke=de.tag;if((Ke===3||Ke===4)&&(Ke=de.stateNode.containerInfo,Ke===P||Ke.nodeType===8&&Ke.parentNode===P))return;de=de.return}for(;Re!==null;){if(de=Kt(Re),de===null)return;if(Ke=de.tag,Ke===5||Ke===6||Ke===26||Ke===27){w=j=de;continue e}Re=Re.parentNode}}w=w.return}hn(function(){var at=j,_t=Un(g),Ct=[];e:{var pt=Au.get(u);if(pt!==void 0){var vt=Ka,Zt=u;switch(u){case"keypress":if(nr(g)===0)break e;case"keydown":case"keyup":vt=ow;break;case"focusin":Zt="focus",vt=Wa;break;case"focusout":Zt="blur",vt=Wa;break;case"beforeblur":case"afterblur":vt=Wa;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=Li;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=lr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=lw;break;case Ra:case Dl:case $m:vt=Al;break;case Bm:vt=cw;break;case"scroll":case"scrollend":vt=_u;break;case"wheel":vt=Lm;break;case"copy":case"cut":case"paste":vt=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=rh;break;case"toggle":case"beforetoggle":vt=mo}var mn=(c&4)!==0,Dr=!mn&&(u==="scroll"||u==="scrollend"),ct=mn?pt!==null?pt+"Capture":null:pt;mn=[];for(var rt=at,ht;rt!==null;){var St=rt;if(ht=St.stateNode,St=St.tag,St!==5&&St!==26&&St!==27||ht===null||ct===null||(St=Yn(rt,ct),St!=null&&mn.push(Dh(rt,St,ht))),Dr)break;rt=rt.return}0<mn.length&&(pt=new vt(pt,Zt,null,g,_t),Ct.push({event:pt,listeners:mn}))}}if(!(c&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==Ht&&(Zt=g.relatedTarget||g.fromElement)&&(Kt(Zt)||Zt[Lt]))break e;if((vt||pt)&&(pt=_t.window===_t?_t:(pt=_t.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Zt=g.relatedTarget||g.toElement,vt=at,Zt=Zt?Kt(Zt):null,Zt!==null&&(Dr=ue(Zt),mn=Zt.tag,Zt!==Dr||mn!==5&&mn!==27&&mn!==6)&&(Zt=null)):(vt=null,Zt=at),vt!==Zt)){if(mn=Li,St="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(mn=rh,St="onPointerLeave",ct="onPointerEnter",rt="pointer"),Dr=vt==null?pt:xn(vt),ht=Zt==null?pt:xn(Zt),pt=new mn(St,rt+"leave",vt,g,_t),pt.target=Dr,pt.relatedTarget=ht,St=null,Kt(_t)===at&&(mn=new mn(ct,rt+"enter",Zt,g,_t),mn.target=ht,mn.relatedTarget=Dr,St=mn),Dr=St,vt&&Zt)t:{for(mn=vt,ct=Zt,rt=0,ht=mn;ht;ht=Of(ht))rt++;for(ht=0,St=ct;St;St=Of(St))ht++;for(;0<rt-ht;)mn=Of(mn),rt--;for(;0<ht-rt;)ct=Of(ct),ht--;for(;rt--;){if(mn===ct||ct!==null&&mn===ct.alternate)break t;mn=Of(mn),ct=Of(ct)}mn=null}else mn=null;vt!==null&&rI(Ct,pt,vt,mn,!1),Zt!==null&&Dr!==null&&rI(Ct,Dr,Zt,mn,!0)}}e:{if(pt=at?xn(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var zt=Su;else if(vo(pt))if(sh)zt=pw;else{zt=hw;var On=uh}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&Ft(at.elementType)&&(zt=Su):zt=ms;if(zt&&(zt=zt(u,at))){Fm(Ct,zt,g,_t);break e}On&&On(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(On=at?xn(at):window,u){case"focusin":(vo(On)||On.contentEditable==="true")&&(ys=On,Ml=at,Cu=null);break;case"focusout":Cu=Ml=ys=null;break;case"mousedown":ch=!0;break;case"contextmenu":case"mouseup":case"dragend":ch=!1,kl(Ct,g,_t);break;case"selectionchange":if(Tu)break;case"keydown":case"keyup":kl(Ct,g,_t)}var Xt;if(yo)e:{switch(u){case"compositionstart":var an="onCompositionStart";break e;case"compositionend":an="onCompositionEnd";break e;case"compositionupdate":an="onCompositionUpdate";break e}an=void 0}else wu?af(u,g)&&(an="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(an="onCompositionStart");an&&(ah&&g.locale!=="ko"&&(wu||an!=="onCompositionStart"?an==="onCompositionEnd"&&wu&&(Xt=la()):(or=_t,yi="value"in or?or.value:or.textContent,wu=!0)),On=Sy(at,an),0<On.length&&(an=new Vi(an,u,null,g,_t),Ct.push({event:an,listeners:On}),Xt?an.data=Xt:(Xt=Dm(g),Xt!==null&&(an.data=Xt)))),(Xt=Mm?Nm(u,g):dw(u,g))&&(an=Sy(at,"onBeforeInput"),0<an.length&&(On=new Vi("onBeforeInput","beforeinput",null,g,_t),Ct.push({event:On,listeners:an}),On.data=Xt)),lz(Ct,u,at,g,_t)}tI(Ct,c)})}function Dh(u,c,g){return{instance:u,listener:c,currentTarget:g}}function Sy(u,c){for(var g=c+"Capture",w=[];u!==null;){var P=u,j=P.stateNode;P=P.tag,P!==5&&P!==26&&P!==27||j===null||(P=Yn(u,g),P!=null&&w.unshift(Dh(u,P,j)),P=Yn(u,c),P!=null&&w.push(Dh(u,P,j))),u=u.return}return w}function Of(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function rI(u,c,g,w,P){for(var j=c._reactName,de=[];g!==null&&g!==w;){var Re=g,Ke=Re.alternate,at=Re.stateNode;if(Re=Re.tag,Ke!==null&&Ke===w)break;Re!==5&&Re!==26&&Re!==27||at===null||(Ke=at,P?(at=Yn(g,j),at!=null&&de.unshift(Dh(g,at,Ke))):P||(at=Yn(g,j),at!=null&&de.push(Dh(g,at,Ke)))),g=g.return}de.length!==0&&u.push({event:c,listeners:de})}var hz=/\r\n?/g,pz=/\u0000|\uFFFD/g;function iI(u){return(typeof u=="string"?u:""+u).replace(hz,`
`).replace(pz,"")}function aI(u,c){return c=iI(c),iI(u)===c}function xy(){}function fr(u,c,g,w,P,j){switch(g){case"children":typeof w=="string"?c==="body"||c==="textarea"&&w===""||Ue(u,w):(typeof w=="number"||typeof w=="bigint")&&c!=="body"&&Ue(u,""+w);break;case"className":N(u,"class",w);break;case"tabIndex":N(u,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,w);break;case"style":mt(u,w,j);break;case"data":if(c!=="object"){N(u,"data",w);break}case"src":case"href":if(w===""&&(c!=="a"||g!=="href")){u.removeAttribute(g);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=Dt(""+w),u.setAttribute(g,w);break;case"action":case"formAction":if(typeof w=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(g==="formAction"?(c!=="input"&&fr(u,c,"name",P.name,P,null),fr(u,c,"formEncType",P.formEncType,P,null),fr(u,c,"formMethod",P.formMethod,P,null),fr(u,c,"formTarget",P.formTarget,P,null)):(fr(u,c,"encType",P.encType,P,null),fr(u,c,"method",P.method,P,null),fr(u,c,"target",P.target,P,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){u.removeAttribute(g);break}w=Dt(""+w),u.setAttribute(g,w);break;case"onClick":w!=null&&(u.onclick=xy);break;case"onScroll":w!=null&&kn("scroll",u);break;case"onScrollEnd":w!=null&&kn("scrollend",u);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(P.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":u.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){u.removeAttribute("xlink:href");break}g=Dt(""+w),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""+w):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":w===!0?u.setAttribute(g,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?u.setAttribute(g,w):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?u.setAttribute(g,w):u.removeAttribute(g);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?u.removeAttribute(g):u.setAttribute(g,w);break;case"popover":kn("beforetoggle",u),kn("toggle",u),R(u,"popover",w);break;case"xlinkActuate":Q(u,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":Q(u,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":Q(u,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":Q(u,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":Q(u,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":Q(u,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":Q(u,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":Q(u,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":Q(u,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":R(u,"is",w);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tt.get(g)||g,R(u,g,w))}}function Ib(u,c,g,w,P,j){switch(g){case"style":mt(u,w,j);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(g=w.__html,g!=null){if(P.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof w=="string"?Ue(u,w):(typeof w=="number"||typeof w=="bigint")&&Ue(u,""+w);break;case"onScroll":w!=null&&kn("scroll",u);break;case"onScrollEnd":w!=null&&kn("scrollend",u);break;case"onClick":w!=null&&(u.onclick=xy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(P=g.endsWith("Capture"),c=g.slice(2,P?g.length-7:void 0),j=u[Et]||null,j=j!=null?j[g]:null,typeof j=="function"&&u.removeEventListener(c,j,P),typeof w=="function")){typeof j!="function"&&j!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(c,w,P);break e}g in u?u[g]=w:w===!0?u.setAttribute(g,""):R(u,g,w)}}}function wi(u,c,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",u),kn("load",u);var w=!1,P=!1,j;for(j in g)if(g.hasOwnProperty(j)){var de=g[j];if(de!=null)switch(j){case"src":w=!0;break;case"srcSet":P=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:fr(u,c,j,de,g,null)}}P&&fr(u,c,"srcSet",g.srcSet,g,null),w&&fr(u,c,"src",g.src,g,null);return;case"input":kn("invalid",u);var Re=j=de=P=null,Ke=null,at=null;for(w in g)if(g.hasOwnProperty(w)){var _t=g[w];if(_t!=null)switch(w){case"name":P=_t;break;case"type":de=_t;break;case"checked":Ke=_t;break;case"defaultChecked":at=_t;break;case"value":j=_t;break;case"defaultValue":Re=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,c));break;default:fr(u,c,w,_t,g,null)}}st(u,j,Re,Ke,at,de,P,!1),Ee(u);return;case"select":kn("invalid",u),w=de=j=null;for(P in g)if(g.hasOwnProperty(P)&&(Re=g[P],Re!=null))switch(P){case"value":j=Re;break;case"defaultValue":de=Re;break;case"multiple":w=Re;default:fr(u,c,P,Re,g,null)}c=j,g=de,u.multiple=!!w,c!=null?ut(u,!!w,c,!1):g!=null&&ut(u,!!w,g,!0);return;case"textarea":kn("invalid",u),j=P=w=null;for(de in g)if(g.hasOwnProperty(de)&&(Re=g[de],Re!=null))switch(de){case"value":w=Re;break;case"defaultValue":P=Re;break;case"children":j=Re;break;case"dangerouslySetInnerHTML":if(Re!=null)throw Error(r(91));break;default:fr(u,c,de,Re,g,null)}De(u,w,P,j),Ee(u);return;case"option":for(Ke in g)if(g.hasOwnProperty(Ke)&&(w=g[Ke],w!=null))switch(Ke){case"selected":u.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:fr(u,c,Ke,w,g,null)}return;case"dialog":kn("cancel",u),kn("close",u);break;case"iframe":case"object":kn("load",u);break;case"video":case"audio":for(w=0;w<kh.length;w++)kn(kh[w],u);break;case"image":kn("error",u),kn("load",u);break;case"details":kn("toggle",u);break;case"embed":case"source":case"link":kn("error",u),kn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(w=g[at],w!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:fr(u,c,at,w,g,null)}return;default:if(Ft(c)){for(_t in g)g.hasOwnProperty(_t)&&(w=g[_t],w!==void 0&&Ib(u,c,_t,w,g,void 0));return}}for(Re in g)g.hasOwnProperty(Re)&&(w=g[Re],w!=null&&fr(u,c,Re,w,g,null))}function gz(u,c,g,w){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var P=null,j=null,de=null,Re=null,Ke=null,at=null,_t=null;for(vt in g){var Ct=g[vt];if(g.hasOwnProperty(vt)&&Ct!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ke=Ct;default:w.hasOwnProperty(vt)||fr(u,c,vt,null,w,Ct)}}for(var pt in w){var vt=w[pt];if(Ct=g[pt],w.hasOwnProperty(pt)&&(vt!=null||Ct!=null))switch(pt){case"type":j=vt;break;case"name":P=vt;break;case"checked":at=vt;break;case"defaultChecked":_t=vt;break;case"value":de=vt;break;case"defaultValue":Re=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,c));break;default:vt!==Ct&&fr(u,c,pt,vt,w,Ct)}}Xe(u,de,Re,Ke,at,_t,j,P);return;case"select":vt=de=Re=pt=null;for(j in g)if(Ke=g[j],g.hasOwnProperty(j)&&Ke!=null)switch(j){case"value":break;case"multiple":vt=Ke;default:w.hasOwnProperty(j)||fr(u,c,j,null,w,Ke)}for(P in w)if(j=w[P],Ke=g[P],w.hasOwnProperty(P)&&(j!=null||Ke!=null))switch(P){case"value":pt=j;break;case"defaultValue":Re=j;break;case"multiple":de=j;default:j!==Ke&&fr(u,c,P,j,w,Ke)}c=Re,g=de,w=vt,pt!=null?ut(u,!!g,pt,!1):!!w!=!!g&&(c!=null?ut(u,!!g,c,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Re in g)if(P=g[Re],g.hasOwnProperty(Re)&&P!=null&&!w.hasOwnProperty(Re))switch(Re){case"value":break;case"children":break;default:fr(u,c,Re,null,w,P)}for(de in w)if(P=w[de],j=g[de],w.hasOwnProperty(de)&&(P!=null||j!=null))switch(de){case"value":pt=P;break;case"defaultValue":vt=P;break;case"children":break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:P!==j&&fr(u,c,de,P,w,j)}be(u,pt,vt);return;case"option":for(var Zt in g)if(pt=g[Zt],g.hasOwnProperty(Zt)&&pt!=null&&!w.hasOwnProperty(Zt))switch(Zt){case"selected":u.selected=!1;break;default:fr(u,c,Zt,null,w,pt)}for(Ke in w)if(pt=w[Ke],vt=g[Ke],w.hasOwnProperty(Ke)&&pt!==vt&&(pt!=null||vt!=null))switch(Ke){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:fr(u,c,Ke,pt,w,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mn in g)pt=g[mn],g.hasOwnProperty(mn)&&pt!=null&&!w.hasOwnProperty(mn)&&fr(u,c,mn,null,w,pt);for(at in w)if(pt=w[at],vt=g[at],w.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,c));break;default:fr(u,c,at,pt,w,vt)}return;default:if(Ft(c)){for(var Dr in g)pt=g[Dr],g.hasOwnProperty(Dr)&&pt!==void 0&&!w.hasOwnProperty(Dr)&&Ib(u,c,Dr,void 0,w,pt);for(_t in w)pt=w[_t],vt=g[_t],!w.hasOwnProperty(_t)||pt===vt||pt===void 0&&vt===void 0||Ib(u,c,_t,pt,w,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!w.hasOwnProperty(ct)&&fr(u,c,ct,null,w,pt);for(Ct in w)pt=w[Ct],vt=g[Ct],!w.hasOwnProperty(Ct)||pt===vt||pt==null&&vt==null||fr(u,c,Ct,pt,w,vt)}var Lb=null,Mb=null;function Ey(u){return u.nodeType===9?u:u.ownerDocument}function sI(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oI(u,c){if(u===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&c==="foreignObject"?0:u}function kb(u,c){return u==="textarea"||u==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Db=null;function mz(){var u=window.event;return u&&u.type==="popstate"?u===Db?!1:(Db=u,!0):(Db=null,!1)}var uI=typeof setTimeout=="function"?setTimeout:void 0,yz=typeof clearTimeout=="function"?clearTimeout:void 0,lI=typeof Promise=="function"?Promise:void 0,vz=typeof queueMicrotask=="function"?queueMicrotask:typeof lI<"u"?function(u){return lI.resolve(null).then(u).catch(_z)}:uI;function _z(u){setTimeout(function(){throw u})}function Nb(u,c){var g=c,w=0;do{var P=g.nextSibling;if(u.removeChild(g),P&&P.nodeType===8)if(g=P.data,g==="/$"){if(w===0){u.removeChild(P),Hh(c);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=P}while(g);Hh(c)}function Fb(u){var c=u.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var g=c;switch(c=c.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":Fb(g),Rn(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function wz(u,c,g,w){for(;u.nodeType===1;){var P=g;if(u.nodeName.toLowerCase()!==c.toLowerCase()){if(!w&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(w){if(!u[en])switch(c){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==P.rel||u.getAttribute("href")!==(P.href==null?null:P.href)||u.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin)||u.getAttribute("title")!==(P.title==null?null:P.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(P.src==null?null:P.src)||u.getAttribute("type")!==(P.type==null?null:P.type)||u.getAttribute("crossorigin")!==(P.crossOrigin==null?null:P.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(c==="input"&&u.type==="hidden"){var j=P.name==null?null:""+P.name;if(P.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=_s(u.nextSibling),u===null)break}return null}function bz(u,c,g){if(c==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=_s(u.nextSibling),u===null))return null;return u}function _s(u){for(;u!=null;u=u.nextSibling){var c=u.nodeType;if(c===1||c===3)break;if(c===8){if(c=u.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return u}function cI(u){u=u.previousSibling;for(var c=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(c===0)return u;c--}else g==="/$"&&c++}u=u.previousSibling}return null}function fI(u,c,g){switch(c=Ey(g),u){case"html":if(u=c.documentElement,!u)throw Error(r(452));return u;case"head":if(u=c.head,!u)throw Error(r(453));return u;case"body":if(u=c.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var rs=new Map,dI=new Set;function Ty(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Bo=Z.d;Z.d={f:Sz,r:xz,D:Ez,C:Tz,L:Cz,m:Az,X:Oz,S:Rz,M:Pz};function Sz(){var u=Bo.f(),c=yy();return u||c}function xz(u){var c=Qt(u);c!==null&&c.tag===5&&c.type==="form"?$O(c):Bo.r(u)}var Pf=typeof document>"u"?null:document;function hI(u,c,g){var w=Pf;if(w&&typeof c=="string"&&c){var P=He(c);P='link[rel="'+u+'"][href="'+P+'"]',typeof g=="string"&&(P+='[crossorigin="'+g+'"]'),dI.has(P)||(dI.add(P),u={rel:u,crossOrigin:g,href:c},w.querySelector(P)===null&&(c=w.createElement("link"),wi(c,"link",u),$n(c),w.head.appendChild(c)))}}function Ez(u){Bo.D(u),hI("dns-prefetch",u,null)}function Tz(u,c){Bo.C(u,c),hI("preconnect",u,c)}function Cz(u,c,g){Bo.L(u,c,g);var w=Pf;if(w&&u&&c){var P='link[rel="preload"][as="'+He(c)+'"]';c==="image"&&g&&g.imageSrcSet?(P+='[imagesrcset="'+He(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(P+='[imagesizes="'+He(g.imageSizes)+'"]')):P+='[href="'+He(u)+'"]';var j=P;switch(c){case"style":j=If(u);break;case"script":j=Lf(u)}rs.has(j)||(u=U({rel:"preload",href:c==="image"&&g&&g.imageSrcSet?void 0:u,as:c},g),rs.set(j,u),w.querySelector(P)!==null||c==="style"&&w.querySelector(Nh(j))||c==="script"&&w.querySelector(Fh(j))||(c=w.createElement("link"),wi(c,"link",u),$n(c),w.head.appendChild(c)))}}function Az(u,c){Bo.m(u,c);var g=Pf;if(g&&u){var w=c&&typeof c.as=="string"?c.as:"script",P='link[rel="modulepreload"][as="'+He(w)+'"][href="'+He(u)+'"]',j=P;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Lf(u)}if(!rs.has(j)&&(u=U({rel:"modulepreload",href:u},c),rs.set(j,u),g.querySelector(P)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Fh(j)))return}w=g.createElement("link"),wi(w,"link",u),$n(w),g.head.appendChild(w)}}}function Rz(u,c,g){Bo.S(u,c,g);var w=Pf;if(w&&u){var P=En(w).hoistableStyles,j=If(u);c=c||"default";var de=P.get(j);if(!de){var Re={loading:0,preload:null};if(de=w.querySelector(Nh(j)))Re.loading=5;else{u=U({rel:"stylesheet",href:u,"data-precedence":c},g),(g=rs.get(j))&&jb(u,g);var Ke=de=w.createElement("link");$n(Ke),wi(Ke,"link",u),Ke._p=new Promise(function(at,_t){Ke.onload=at,Ke.onerror=_t}),Ke.addEventListener("load",function(){Re.loading|=1}),Ke.addEventListener("error",function(){Re.loading|=2}),Re.loading|=4,Cy(de,c,w)}de={type:"stylesheet",instance:de,count:1,state:Re},P.set(j,de)}}}function Oz(u,c){Bo.X(u,c);var g=Pf;if(g&&u){var w=En(g).hoistableScripts,P=Lf(u),j=w.get(P);j||(j=g.querySelector(Fh(P)),j||(u=U({src:u,async:!0},c),(c=rs.get(P))&&$b(u,c),j=g.createElement("script"),$n(j),wi(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(P,j))}}function Pz(u,c){Bo.M(u,c);var g=Pf;if(g&&u){var w=En(g).hoistableScripts,P=Lf(u),j=w.get(P);j||(j=g.querySelector(Fh(P)),j||(u=U({src:u,async:!0,type:"module"},c),(c=rs.get(P))&&$b(u,c),j=g.createElement("script"),$n(j),wi(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},w.set(P,j))}}function pI(u,c,g,w){var P=(P=$.current)?Ty(P):null;if(!P)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(c=If(g.href),g=En(P).hoistableStyles,w=g.get(c),w||(w={type:"style",instance:null,count:0,state:null},g.set(c,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=If(g.href);var j=En(P).hoistableStyles,de=j.get(u);if(de||(P=P.ownerDocument||P,de={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,de),(j=P.querySelector(Nh(u)))&&!j._p&&(de.instance=j,de.state.loading=5),rs.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},rs.set(u,g),j||Iz(P,u,g,de.state))),c&&w===null)throw Error(r(528,""));return de}if(c&&w!==null)throw Error(r(529,""));return null;case"script":return c=g.async,g=g.src,typeof g=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Lf(g),g=En(P).hoistableScripts,w=g.get(c),w||(w={type:"script",instance:null,count:0,state:null},g.set(c,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function If(u){return'href="'+He(u)+'"'}function Nh(u){return'link[rel="stylesheet"]['+u+"]"}function gI(u){return U({},u,{"data-precedence":u.precedence,precedence:null})}function Iz(u,c,g,w){u.querySelector('link[rel="preload"][as="style"]['+c+"]")?w.loading=1:(c=u.createElement("link"),w.preload=c,c.addEventListener("load",function(){return w.loading|=1}),c.addEventListener("error",function(){return w.loading|=2}),wi(c,"link",g),$n(c),u.head.appendChild(c))}function Lf(u){return'[src="'+He(u)+'"]'}function Fh(u){return"script[async]"+u}function mI(u,c,g){if(c.count++,c.instance===null)switch(c.type){case"style":var w=u.querySelector('style[data-href~="'+He(g.href)+'"]');if(w)return c.instance=w,$n(w),w;var P=U({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement("style"),$n(w),wi(w,"style",P),Cy(w,g.precedence,u),c.instance=w;case"stylesheet":P=If(g.href);var j=u.querySelector(Nh(P));if(j)return c.state.loading|=4,c.instance=j,$n(j),j;w=gI(g),(P=rs.get(P))&&jb(w,P),j=(u.ownerDocument||u).createElement("link"),$n(j);var de=j;return de._p=new Promise(function(Re,Ke){de.onload=Re,de.onerror=Ke}),wi(j,"link",w),c.state.loading|=4,Cy(j,g.precedence,u),c.instance=j;case"script":return j=Lf(g.src),(P=u.querySelector(Fh(j)))?(c.instance=P,$n(P),P):(w=g,(P=rs.get(j))&&(w=U({},g),$b(w,P)),u=u.ownerDocument||u,P=u.createElement("script"),$n(P),wi(P,"link",w),u.head.appendChild(P),c.instance=P);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&!(c.state.loading&4)&&(w=c.instance,c.state.loading|=4,Cy(w,g.precedence,u));return c.instance}function Cy(u,c,g){for(var w=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),P=w.length?w[w.length-1]:null,j=P,de=0;de<w.length;de++){var Re=w[de];if(Re.dataset.precedence===c)j=Re;else if(j!==P)break}j?j.parentNode.insertBefore(u,j.nextSibling):(c=g.nodeType===9?g.head:g,c.insertBefore(u,c.firstChild))}function jb(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.title==null&&(u.title=c.title)}function $b(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.integrity==null&&(u.integrity=c.integrity)}var Ay=null;function yI(u,c,g){if(Ay===null){var w=new Map,P=Ay=new Map;P.set(g,w)}else P=Ay,w=P.get(g),w||(w=new Map,P.set(g,w));if(w.has(u))return w;for(w.set(u,null),g=g.getElementsByTagName(u),P=0;P<g.length;P++){var j=g[P];if(!(j[en]||j[it]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var de=j.getAttribute(c)||"";de=u+de;var Re=w.get(de);Re?Re.push(j):w.set(de,[j])}}return w}function vI(u,c,g){u=u.ownerDocument||u,u.head.insertBefore(g,c==="title"?u.querySelector("head > title"):null)}function Lz(u,c,g){if(g===1||c.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return u=c.disabled,typeof c.precedence=="string"&&u==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function _I(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var jh=null;function Mz(){}function kz(u,c,g){if(jh===null)throw Error(r(475));var w=jh;if(c.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(c.state.loading&4)){if(c.instance===null){var P=If(g.href),j=u.querySelector(Nh(P));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(w.count++,w=Ry.bind(w),u.then(w,w)),c.state.loading|=4,c.instance=j,$n(j);return}j=u.ownerDocument||u,g=gI(g),(P=rs.get(P))&&jb(g,P),j=j.createElement("link"),$n(j);var de=j;de._p=new Promise(function(Re,Ke){de.onload=Re,de.onerror=Ke}),wi(j,"link",g),c.instance=j}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(c,u),(u=c.state.preload)&&!(c.state.loading&3)&&(w.count++,c=Ry.bind(w),u.addEventListener("load",c),u.addEventListener("error",c))}}function Dz(){if(jh===null)throw Error(r(475));var u=jh;return u.stylesheets&&u.count===0&&Ub(u,u.stylesheets),0<u.count?function(c){var g=setTimeout(function(){if(u.stylesheets&&Ub(u,u.stylesheets),u.unsuspend){var w=u.unsuspend;u.unsuspend=null,w()}},6e4);return u.unsuspend=c,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Ry(){if(this.count--,this.count===0){if(this.stylesheets)Ub(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Oy=null;function Ub(u,c){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Oy=new Map,c.forEach(Nz,u),Oy=null,Ry.call(u))}function Nz(u,c){if(!(c.state.loading&4)){var g=Oy.get(u);if(g)var w=g.get(null);else{g=new Map,Oy.set(u,g);for(var P=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<P.length;j++){var de=P[j];(de.nodeName==="LINK"||de.getAttribute("media")!=="not all")&&(g.set(de.dataset.precedence,de),w=de)}w&&g.set(null,w)}P=c.instance,de=P.getAttribute("data-precedence"),j=g.get(de)||w,j===w&&g.set(null,P),g.set(de,P),this.count++,w=Ry.bind(this),P.addEventListener("load",w),P.addEventListener("error",w),j?j.parentNode.insertBefore(P,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(P,u.firstChild)),c.state.loading|=4}}var $h={$$typeof:y,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Fz(u,c,g,w,P,j,de,Re){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wt(0),this.hiddenUpdates=wt(null),this.identifierPrefix=w,this.onUncaughtError=P,this.onCaughtError=j,this.onRecoverableError=de,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Re,this.incompleteTransitions=new Map}function wI(u,c,g,w,P,j,de,Re,Ke,at,_t,Ct){return u=new Fz(u,c,g,de,Re,Ke,at,Ct),c=1,j===!0&&(c|=24),j=ts(3,null,null,c),u.current=j,j.stateNode=u,c=vw(),c.refCount++,u.pooledCache=c,c.refCount++,j.memoizedState={element:w,isDehydrated:g,cache:c},Yw(j),u}function bI(u){return u?(u=Qa,u):Qa}function SI(u,c,g,w,P,j){P=bI(P),w.context===null?w.context=P:w.pendingContext=P,w=Nu(c),w.payload={element:g},j=j===void 0?null:j,j!==null&&(w.callback=j),g=Fu(u,w,c),g!==null&&(Xi(g,u,c),Sh(g,u,c))}function xI(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<c?g:c}}function Bb(u,c){xI(u,c),(u=u.alternate)&&xI(u,c)}function EI(u){if(u.tag===13){var c=da(u,67108864);c!==null&&Xi(c,u,67108864),Bb(u,67108864)}}var Py=!0;function jz(u,c,g,w){var P=ee.T;ee.T=null;var j=Z.p;try{Z.p=2,qb(u,c,g,w)}finally{Z.p=j,ee.T=P}}function $z(u,c,g,w){var P=ee.T;ee.T=null;var j=Z.p;try{Z.p=8,qb(u,c,g,w)}finally{Z.p=j,ee.T=P}}function qb(u,c,g,w){if(Py){var P=Hb(w);if(P===null)Pb(u,c,w,Iy,g),CI(u,w);else if(Bz(P,u,c,g,w))w.stopPropagation();else if(CI(u,w),c&4&&-1<Uz.indexOf(u)){for(;P!==null;){var j=Qt(P);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var de=on(j.pendingLanes);if(de!==0){var Re=j;for(Re.pendingLanes|=2,Re.entangledLanes|=2;de;){var Ke=1<<31-Rt(de);Re.entanglements[1]|=Ke,de&=~Ke}Ks(j),!(Pr&6)&&(py=Ut()+500,Mh(0))}}break;case 13:Re=da(j,2),Re!==null&&Xi(Re,j,2),yy(),Bb(j,2)}if(j=Hb(w),j===null&&Pb(u,c,w,Iy,g),j===P)break;P=j}P!==null&&w.stopPropagation()}else Pb(u,c,w,null,g)}}function Hb(u){return u=Un(u),zb(u)}var Iy=null;function zb(u){if(Iy=null,u=Kt(u),u!==null){var c=ue(u);if(c===null)u=null;else{var g=c.tag;if(g===13){if(u=Oe(c),u!==null)return u;u=null}else if(g===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;u=null}else c!==u&&(u=null)}}return Iy=u,null}function TI(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case te:return 8;case H:case G:return 32;case K:return 268435456;default:return 32}default:return 32}}var Vb=!1,zu=null,Vu=null,Ku=null,Uh=new Map,Bh=new Map,Gu=[],Uz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CI(u,c){switch(u){case"focusin":case"focusout":zu=null;break;case"dragenter":case"dragleave":Vu=null;break;case"mouseover":case"mouseout":Ku=null;break;case"pointerover":case"pointerout":Uh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bh.delete(c.pointerId)}}function qh(u,c,g,w,P,j){return u===null||u.nativeEvent!==j?(u={blockedOn:c,domEventName:g,eventSystemFlags:w,nativeEvent:j,targetContainers:[P]},c!==null&&(c=Qt(c),c!==null&&EI(c)),u):(u.eventSystemFlags|=w,c=u.targetContainers,P!==null&&c.indexOf(P)===-1&&c.push(P),u)}function Bz(u,c,g,w,P){switch(c){case"focusin":return zu=qh(zu,u,c,g,w,P),!0;case"dragenter":return Vu=qh(Vu,u,c,g,w,P),!0;case"mouseover":return Ku=qh(Ku,u,c,g,w,P),!0;case"pointerover":var j=P.pointerId;return Uh.set(j,qh(Uh.get(j)||null,u,c,g,w,P)),!0;case"gotpointercapture":return j=P.pointerId,Bh.set(j,qh(Bh.get(j)||null,u,c,g,w,P)),!0}return!1}function AI(u){var c=Kt(u.target);if(c!==null){var g=ue(c);if(g!==null){if(c=g.tag,c===13){if(c=Oe(g),c!==null){u.blockedOn=c,et(u.priority,function(){if(g.tag===13){var w=La(),P=da(g,w);P!==null&&Xi(P,g,w),Bb(g,w)}});return}}else if(c===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ly(u){if(u.blockedOn!==null)return!1;for(var c=u.targetContainers;0<c.length;){var g=Hb(u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);Ht=w,g.target.dispatchEvent(w),Ht=null}else return c=Qt(g),c!==null&&EI(c),u.blockedOn=g,!1;c.shift()}return!0}function RI(u,c,g){Ly(u)&&g.delete(c)}function qz(){Vb=!1,zu!==null&&Ly(zu)&&(zu=null),Vu!==null&&Ly(Vu)&&(Vu=null),Ku!==null&&Ly(Ku)&&(Ku=null),Uh.forEach(RI),Bh.forEach(RI)}function My(u,c){u.blockedOn===c&&(u.blockedOn=null,Vb||(Vb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qz)))}var ky=null;function OI(u){ky!==u&&(ky=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ky===u&&(ky=null);for(var c=0;c<u.length;c+=3){var g=u[c],w=u[c+1],P=u[c+2];if(typeof w!="function"){if(zb(w||g)===null)continue;break}var j=Qt(g);j!==null&&(u.splice(c,3),c-=3,kw(j,{pending:!0,data:P,method:g.method,action:w},w,P))}}))}function Hh(u){function c(Ke){return My(Ke,u)}zu!==null&&My(zu,u),Vu!==null&&My(Vu,u),Ku!==null&&My(Ku,u),Uh.forEach(c),Bh.forEach(c);for(var g=0;g<Gu.length;g++){var w=Gu[g];w.blockedOn===u&&(w.blockedOn=null)}for(;0<Gu.length&&(g=Gu[0],g.blockedOn===null);)AI(g),g.blockedOn===null&&Gu.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var P=g[w],j=g[w+1],de=P[Et]||null;if(typeof j=="function")de||OI(g);else if(de){var Re=null;if(j&&j.hasAttribute("formAction")){if(P=j,de=j[Et]||null)Re=de.formAction;else if(zb(P)!==null)continue}else Re=de.action;typeof Re=="function"?g[w+1]=Re:(g.splice(w,3),w-=3),OI(g)}}}function Kb(u){this._internalRoot=u}Dy.prototype.render=Kb.prototype.render=function(u){var c=this._internalRoot;if(c===null)throw Error(r(409));var g=c.current,w=La();SI(g,w,u,c,null,null)},Dy.prototype.unmount=Kb.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var c=u.containerInfo;u.tag===0&&Af(),SI(u.current,2,null,u,null,null),yy(),c[Lt]=null}};function Dy(u){this._internalRoot=u}Dy.prototype.unstable_scheduleHydration=function(u){if(u){var c=Ae();u={blockedOn:null,target:u,priority:c};for(var g=0;g<Gu.length&&c!==0&&c<Gu[g].priority;g++);Gu.splice(g,0,u),g===0&&AI(u)}};var PI=e.version;if(PI!=="19.0.0")throw Error(r(527,PI,"19.0.0"));Z.findDOMNode=function(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=X(c),u=u!==null?ce(u):null,u=u===null?null:u.stateNode,u};var Hz={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:ee,findFiberByHostInstance:Kt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ny=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ny.isDisabled&&Ny.supportsFiber)try{Ne=Ny.inject(Hz),At=Ny}catch{}}return Vh.createRoot=function(u,c){if(!i(u))throw Error(r(299));var g=!1,w="",P=GO,j=WO,de=QO,Re=null;return c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onUncaughtError!==void 0&&(P=c.onUncaughtError),c.onCaughtError!==void 0&&(j=c.onCaughtError),c.onRecoverableError!==void 0&&(de=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Re=c.unstable_transitionCallbacks)),c=wI(u,1,!1,null,null,g,w,P,j,de,Re,null),u[Lt]=c.current,Ob(u.nodeType===8?u.parentNode:u),new Kb(c)},Vh.hydrateRoot=function(u,c,g){if(!i(u))throw Error(r(299));var w=!1,P="",j=GO,de=WO,Re=QO,Ke=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(P=g.identifierPrefix),g.onUncaughtError!==void 0&&(j=g.onUncaughtError),g.onCaughtError!==void 0&&(de=g.onCaughtError),g.onRecoverableError!==void 0&&(Re=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ke=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),c=wI(u,1,!0,c,g??null,w,P,j,de,Re,Ke,at),c.context=bI(null),g=c.current,w=La(),P=Nu(w),P.callback=null,Fu(g,P,w),c.current.lanes=w,xt(c,w),Ks(c),u[Lt]=c.current,Ob(u),new Dy(c)},Vh.version="19.0.0",Vh}var ZI;function T7(){if(ZI)return Yb.exports;ZI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yb.exports=E7(),Yb.exports}var C7=T7(),n1={exports:{}},r1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI;function A7(){if(JI)return r1;JI=1;var t=Md();function e(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return r1.useSyncExternalStoreWithSelector=function(l,f,h,p,m){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=s(function(){function E(M){if(!S){if(S=!0,b=M,M=p(M),m!==void 0&&_.hasValue){var I=_.value;if(m(I,M))return A=I}return A=M}if(I=A,n(b,M))return I;var F=p(M);return m!==void 0&&m(I,F)?(b=M,I):(b=M,A=F)}var S=!1,b,A,k=h===void 0?null:h;return[function(){return E(f())},k===null?void 0:function(){return E(k())}]},[f,h,p,m]);var x=r(l,y[0],y[1]);return a(function(){_.hasValue=!0,_.value=x},[x]),o(x),x},r1}var YI;function R7(){return YI||(YI=1,n1.exports=A7()),n1.exports}var O7=R7();function P7(t){t()}function I7(){let t=null,e=null;return{clear(){t=null,e=null},notify(){P7(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var XI={notify(){},get:()=>[]};function L7(t,e){let n,r=XI,i=0,a=!1;function s(x){h();const E=r.subscribe(x);let S=!1;return()=>{S||(S=!0,E(),p())}}function o(){r.notify()}function l(){_.onStateChange&&_.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(l),r=I7())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=XI)}function m(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const _={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:f,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return _}var M7=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",k7=M7(),D7=()=>typeof navigator<"u"&&navigator.product==="ReactNative",N7=D7(),F7=()=>k7||N7?ae.useLayoutEffect:ae.useEffect,j7=F7(),i1=Symbol.for("react-redux-context"),a1=typeof globalThis<"u"?globalThis:{};function $7(){if(!ae.createContext)return{};const t=a1[i1]??(a1[i1]=new Map);let e=t.get(ae.createContext);return e||(e=ae.createContext(null),t.set(ae.createContext,e)),e}var vl=$7();function U7(t){const{children:e,context:n,serverState:r,store:i}=t,a=ae.useMemo(()=>{const l=L7(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=ae.useMemo(()=>i.getState(),[i]);j7(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||vl;return ae.createElement(o.Provider,{value:a},e)}var B7=U7;function pA(t=vl){return function(){return ae.useContext(t)}}var gU=pA();function mU(t=vl){const e=t===vl?gU:pA(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var q7=mU();function H7(t=vl){const e=t===vl?q7:mU(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var z7=H7(),V7=(t,e)=>t===e;function K7(t=vl){const e=t===vl?gU:pA(t),n=(r,i={})=>{const{equalityFn:a=V7}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:o,subscription:l,getServerState:f}=s;ae.useRef(!0);const h=ae.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=O7.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,f||o.getState,h,a);return ae.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var G7=K7();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wn(){return Wn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wn.apply(this,arguments)}var Xr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xr||(Xr={}));const eL="popstate";function W7(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Tg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:lo(i)}return Z7(e,n,null,t)}function _n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Q7(){return Math.random().toString(36).substr(2,8)}function tL(t,e){return{usr:t.state,key:t.key,idx:e}}function Tg(t,e,n,r){return n===void 0&&(n=null),Wn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cu(e):e,{state:n,key:e&&e.key||r||Q7()})}function lo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z7(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Xr.Pop,l=null,f=h();f==null&&(f=0,s.replaceState(Wn({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function p(){o=Xr.Pop;let E=h(),S=E==null?null:E-f;f=E,l&&l({action:o,location:x.location,delta:S})}function m(E,S){o=Xr.Push;let b=Tg(x.location,E,S);f=h()+1;let A=tL(b,f),k=x.createHref(b);try{s.pushState(A,"",k)}catch{i.location.assign(k)}a&&l&&l({action:o,location:x.location,delta:1})}function y(E,S){o=Xr.Replace;let b=Tg(x.location,E,S);f=h();let A=tL(b,f),k=x.createHref(b);s.replaceState(A,"",k),a&&l&&l({action:o,location:x.location,delta:0})}function _(E){let S=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof E=="string"?E:lo(E);return _n(S,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,S)}let x={get action(){return o},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(eL,p),l=E,()=>{i.removeEventListener(eL,p),l=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let S=_(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(E){return s.go(E)}};return x}var Ri;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ri||(Ri={}));function J7(t){return t.index===!0}function yU(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,i)=>{let a=[...e,i],s=typeof r.id=="string"?r.id:a.join("-");return _n(r.index!==!0||!r.children,"Cannot specify children on an index route"),_n(!n.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n.add(s),J7(r)?Wn({},r,{id:s}):Wn({},r,{id:s,children:r.children?yU(r.children,a,n):void 0})})}function eg(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?cu(e):e,i=wU(r.pathname||"/",n);if(i==null)return null;let a=vU(t);Y7(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=oV(a[o],cV(i));return s}function vU(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(_n(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let f=eu([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(_n(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),vU(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:aV(f,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of _U(a.path))i(a,s,l)}),e}function _U(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=_U(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Y7(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const X7=/^:\w+$/,eV=3,tV=2,nV=1,rV=10,iV=-2,nL=t=>t==="*";function aV(t,e){let n=t.split("/"),r=n.length;return n.some(nL)&&(r+=iV),e&&(r+=tV),n.filter(i=>!nL(i)).reduce((i,a)=>i+(X7.test(a)?eV:a===""?nV:rV),r)}function sV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function oV(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=uV({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},f);if(!h)return null;Object.assign(r,h.params);let p=o.route;a.push({params:r,pathname:eu([i,h.pathname]),pathnameBase:pV(eu([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=eu([i,h.pathnameBase]))}return a}function uV(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lV(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((f,h,p)=>{if(h==="*"){let m=o[p]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return f[h]=fV(o[p]||"",h),f},{}),pathname:a,pathnameBase:s,pattern:t}}function lV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cV(t){try{return decodeURI(t)}catch(e){return Cg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fV(t,e){try{return decodeURIComponent(t)}catch(n){return Cg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function wU(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Cg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cu(t):t;return{pathname:n?n.startsWith("/")?n:hV(n,e):e,search:gV(r),hash:mV(i)}}function hV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function s1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function d0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cu(t):(i=Wn({},t),_n(!i.pathname||!i.pathname.includes("?"),s1("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),s1("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),s1("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(r||s==null)o=n;else{let p=e.length-1;if(s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=dV(i,o),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(f||h)&&(l.pathname+="/"),l}const eu=t=>t.join("/").replace(/\/\/+/g,"/"),pV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class rL extends Error{}class yV{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],_n(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,s)=>r=s),this.controller=new AbortController;let i=()=>r(new rL("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((a,s)=>{let[o,l]=s;return Object.assign(a,{[o]:this.trackPromise(o,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof rL?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return _n(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:_V(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function vV(t){return t instanceof Promise&&t._tracked===!0}function _V(t){if(!vV(t))return t;if(t._error)throw t._error;return t._data}class mA{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function bU(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const SU=["post","put","patch","delete"],wV=new Set(SU),bV=["get",...SU],SV=new Set(bV),xV=new Set([301,302,303,307,308]),EV=new Set([307,308]),o1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},TV={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},iL={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CV=!xU;function AV(t){_n(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=yU(t.routes),n=null,r=new Set,i=null,a=null,s=null,o=t.hydrationData!=null,l=eg(e,t.history.location,t.basename),f=null;if(l==null){let Se=el(404,{pathname:t.history.location.pathname}),{matches:Be,route:te}=cL(e);l=Be,f={[te.id]:Se}}let h=!l.some(Se=>Se.route.loader)||t.hydrationData!=null,p,m={historyAction:t.history.action,location:t.history.location,matches:l,initialized:h,navigation:o1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},y=Xr.Pop,_=!1,x,E=!1,S=!1,b=[],A=[],k=new Map,M=0,I=-1,F=new Map,B=new Set,ee=new Map,U=new Map,J=null,le=new Map,Y=!1;function se(){return n=t.history.listen(Se=>{let{action:Be,location:te,delta:H}=Se;if(Y){Y=!1;return}Cg(J!=null&&H===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=Fe({currentLocation:m.location,nextLocation:te,historyAction:Be});if(G&&H!=null){Y=!0,t.history.go(H*-1),Ce(G,{state:"blocked",location:te,proceed(){Ce(G,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),t.history.go(H)},reset(){ze(G),fe({blockers:new Map(p.state.blockers)})}});return}return X(Be,te)}),m.initialized||X(Xr.Pop,m.location),p}function me(){n&&n(),r.clear(),x&&x.abort(),m.fetchers.forEach((Se,Be)=>z(Be)),m.blockers.forEach((Se,Be)=>ze(Be))}function ve(Se){return r.add(Se),()=>r.delete(Se)}function fe(Se){m=Wn({},m,Se),r.forEach(Be=>Be(m))}function ue(Se,Be){var te,H;let G=m.actionData!=null&&m.navigation.formMethod!=null&&Yo(m.navigation.formMethod)&&m.navigation.state==="loading"&&((te=Se.state)==null?void 0:te._isRedirect)!==!0,K;Be.actionData?Object.keys(Be.actionData).length>0?K=Be.actionData:K=null:G?K=m.actionData:K=null;let je=Be.loaderData?lL(m.loaderData,Be.loaderData,Be.matches||[],Be.errors):m.loaderData;for(let[Ne]of le)ze(Ne);let Ye=_===!0||m.navigation.formMethod!=null&&Yo(m.navigation.formMethod)&&((H=Se.state)==null?void 0:H._isRedirect)!==!0;fe(Wn({},Be,{actionData:K,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:o1,revalidation:"idle",restoreScrollPosition:Ut(Se,Be.matches||m.matches),preventScrollReset:Ye,blockers:new Map(m.blockers)})),E||y===Xr.Pop||(y===Xr.Push?t.history.push(Se,Se.state):y===Xr.Replace&&t.history.replace(Se,Se.state)),y=Xr.Pop,_=!1,E=!1,S=!1,b=[],A=[]}async function Oe(Se,Be){if(typeof Se=="number"){t.history.go(Se);return}let{path:te,submission:H,error:G}=aL(Se,Be),K=m.location,je=Tg(m.location,te,Be&&Be.state);je=Wn({},je,t.history.encodeLocation(je));let Ye=Be&&Be.replace!=null?Be.replace:void 0,Ne=Xr.Push;Ye===!0?Ne=Xr.Replace:Ye===!1||H!=null&&Yo(H.formMethod)&&H.formAction===m.location.pathname+m.location.search&&(Ne=Xr.Replace);let At=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,Pt=Fe({currentLocation:K,nextLocation:je,historyAction:Ne});if(Pt){Ce(Pt,{state:"blocked",location:je,proceed(){Ce(Pt,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Oe(Se,Be)},reset(){ze(Pt),fe({blockers:new Map(m.blockers)})}});return}return await X(Ne,je,{submission:H,pendingError:G,preventScrollReset:At,replace:Be&&Be.replace})}function D(){if(Ze(),fe({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){X(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}X(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function X(Se,Be,te){x&&x.abort(),x=null,y=Se,E=(te&&te.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),_=(te&&te.preventScrollReset)===!0;let H=te&&te.overrideNavigation,G=eg(e,Be,t.basename);if(!G){let kt=el(404,{pathname:Be.pathname}),{matches:Rt,route:Bt}=cL(e);tt(),ue(Be,{matches:Rt,loaderData:{},errors:{[Bt.id]:kt}});return}if(LV(m.location,Be)&&!(te&&te.submission&&Yo(te.submission.formMethod))){ue(Be,{matches:G});return}x=new AbortController;let K=Gh(t.history,Be,x.signal,te&&te.submission),je,Ye;if(te&&te.pendingError)Ye={[Yf(G).route.id]:te.pendingError};else if(te&&te.submission&&Yo(te.submission.formMethod)){let kt=await ce(K,Be,te.submission,G,{replace:te.replace});if(kt.shortCircuited)return;je=kt.pendingActionData,Ye=kt.pendingActionError,H=Wn({state:"loading",location:Be},te.submission),K=new Request(K.url,{signal:K.signal})}let{shortCircuited:Ne,loaderData:At,errors:Pt}=await V(K,Be,G,H,te&&te.submission,te&&te.replace,je,Ye);Ne||(x=null,ue(Be,Wn({matches:G},je?{actionData:je}:{},{loaderData:At,errors:Pt})))}async function ce(Se,Be,te,H,G){Ze();let K=Wn({state:"submitting",location:Be},te);fe({navigation:K});let je,Ye=pL(H,Be);if(!Ye.route.action)je={type:Ri.error,error:el(405,{method:Se.method,pathname:Be.pathname,routeId:Ye.route.id})};else if(je=await Kh("action",Se,Ye,H,p.basename),Se.signal.aborted)return{shortCircuited:!0};if(nd(je)){let Ne;return G.replace!=null?Ne=G.replace:Ne=je.location===m.location.pathname+m.location.search,await Te(m,je,{submission:te,replace:Ne}),{shortCircuited:!0}}if(gg(je)){let Ne=Yf(H,Ye.route.id);return G.replace!==!0&&(y=Xr.Push),{pendingActionData:{},pendingActionError:{[Ne.route.id]:je.error}}}if(xc(je))throw el(400,{type:"defer-action"});return{pendingActionData:{[Ye.route.id]:je.data}}}async function V(Se,Be,te,H,G,K,je,Ye){let Ne=H;Ne||(Ne=Wn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G));let At=G||(Ne.formMethod&&Ne.formAction&&Ne.formData&&Ne.formEncType?{formMethod:Ne.formMethod,formAction:Ne.formAction,formData:Ne.formData,formEncType:Ne.formEncType}:void 0),[Pt,kt]=sL(t.history,m,te,At,Be,S,b,A,je,Ye,ee);if(tt(un=>!(te&&te.some(In=>In.route.id===un))||Pt&&Pt.some(In=>In.route.id===un)),Pt.length===0&&kt.length===0)return ue(Be,Wn({matches:te,loaderData:{},errors:Ye||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!E){kt.forEach(In=>{let sr=m.fetchers.get(In.key),Ie={state:"loading",data:sr&&sr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(In.key,Ie)});let un=je||m.actionData;fe(Wn({navigation:Ne},un?Object.keys(un).length===0?{actionData:null}:{actionData:un}:{},kt.length>0?{fetchers:new Map(m.fetchers)}:{}))}I=++M,kt.forEach(un=>k.set(un.key,x));let{results:Rt,loaderResults:Bt,fetcherResults:Er}=await Me(m.matches,te,Pt,kt,Se);if(Se.signal.aborted)return{shortCircuited:!0};kt.forEach(un=>k.delete(un.key));let fn=fL(Rt);if(fn)return await Te(m,fn,{replace:K}),{shortCircuited:!0};let{loaderData:dn,errors:dr}=uL(m,te,Pt,Bt,Ye,kt,Er,U);U.forEach((un,In)=>{un.subscribe(sr=>{(sr||un.done)&&U.delete(In)})}),W();let on=pe(I);return Wn({loaderData:dn,errors:dr},on||kt.length>0?{fetchers:new Map(m.fetchers)}:{})}function Z(Se){return m.fetchers.get(Se)||TV}function he(Se,Be,te,H){if(CV)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");k.has(Se)&&$(Se);let G=eg(e,te,t.basename);if(!G){ie(Se,Be,el(404,{pathname:te}));return}let{path:K,submission:je}=aL(te,H,!0),Ye=pL(G,K);if(_=(H&&H.preventScrollReset)===!0,je&&Yo(je.formMethod)){xe(Se,Be,K,Ye,G,je);return}ee.set(Se,{routeId:Be,path:K,match:Ye,matches:G}),Ve(Se,Be,K,Ye,G,je)}async function xe(Se,Be,te,H,G,K){if(Ze(),ee.delete(Se),!H.route.action){let It=el(405,{method:K.formMethod,pathname:te,routeId:Be});ie(Se,Be,It);return}let je=m.fetchers.get(Se),Ye=Wn({state:"submitting"},K,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ye),fe({fetchers:new Map(m.fetchers)});let Ne=new AbortController,At=Gh(t.history,te,Ne.signal,K);k.set(Se,Ne);let Pt=await Kh("action",At,H,G,p.basename);if(At.signal.aborted){k.get(Se)===Ne&&k.delete(Se);return}if(nd(Pt)){k.delete(Se),B.add(Se);let It=Wn({state:"loading"},K,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,It),fe({fetchers:new Map(m.fetchers)}),Te(m,Pt,{isFetchActionRedirect:!0})}if(gg(Pt)){ie(Se,Be,Pt.error);return}if(xc(Pt))throw el(400,{type:"defer-action"});let kt=m.navigation.location||m.location,Rt=Gh(t.history,kt,Ne.signal),Bt=m.navigation.state!=="idle"?eg(e,m.navigation.location,t.basename):m.matches;_n(Bt,"Didn't find any matches after fetcher action");let Er=++M;F.set(Se,Er);let fn=Wn({state:"loading",data:Pt.data},K,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,fn);let[dn,dr]=sL(t.history,m,Bt,K,kt,S,b,A,{[H.route.id]:Pt.data},void 0,ee);dr.filter(It=>It.key!==Se).forEach(It=>{let Bn=It.key,Jn=m.fetchers.get(Bn),Qe={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Bn,Qe),k.set(Bn,Ne)}),fe({fetchers:new Map(m.fetchers)});let{results:on,loaderResults:un,fetcherResults:In}=await Me(m.matches,Bt,dn,dr,Rt);if(Ne.signal.aborted)return;F.delete(Se),k.delete(Se),dr.forEach(It=>k.delete(It.key));let sr=fL(on);if(sr)return Te(m,sr);let{loaderData:Ie,errors:qe}=uL(m,m.matches,dn,un,void 0,dr,In,U),wt={state:"idle",data:Pt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,wt);let xt=pe(Er);m.navigation.state==="loading"&&Er>I?(_n(y,"Expected pending action"),x&&x.abort(),ue(m.navigation.location,{matches:Bt,loaderData:Ie,errors:qe,fetchers:new Map(m.fetchers)})):(fe(Wn({errors:qe,loaderData:lL(m.loaderData,Ie,Bt,qe)},xt?{fetchers:new Map(m.fetchers)}:{})),S=!1)}async function Ve(Se,Be,te,H,G,K){let je=m.fetchers.get(Se),Ye=Wn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ye),fe({fetchers:new Map(m.fetchers)});let Ne=new AbortController,At=Gh(t.history,te,Ne.signal);k.set(Se,Ne);let Pt=await Kh("loader",At,H,G,p.basename);if(xc(Pt)&&(Pt=await AU(Pt,At.signal,!0)||Pt),k.get(Se)===Ne&&k.delete(Se),At.signal.aborted)return;if(nd(Pt)){await Te(m,Pt);return}if(gg(Pt)){let Rt=Yf(m.matches,Be);m.fetchers.delete(Se),fe({fetchers:new Map(m.fetchers),errors:{[Rt.route.id]:Pt.error}});return}_n(!xc(Pt),"Unhandled fetcher deferred data");let kt={state:"idle",data:Pt.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,kt),fe({fetchers:new Map(m.fetchers)})}async function Te(Se,Be,te){var H;let{submission:G,replace:K,isFetchActionRedirect:je}=te===void 0?{}:te;Be.revalidate&&(S=!0);let Ye=Tg(Se.location,Be.location,Wn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(_n(Ye,"Expected a location on the redirect navigation"),xU&&typeof((H=window)==null?void 0:H.location)<"u"){let Bt=t.history.createURL(Be.location).origin;if(window.location.origin!==Bt){K?window.location.replace(Be.location):window.location.assign(Be.location);return}}x=null;let Ne=K===!0?Xr.Replace:Xr.Push,{formMethod:At,formAction:Pt,formEncType:kt,formData:Rt}=Se.navigation;!G&&At&&Pt&&Rt&&kt&&(G={formMethod:At,formAction:Pt,formEncType:kt,formData:Rt}),EV.has(Be.status)&&G&&Yo(G.formMethod)?await X(Ne,Ye,{submission:Wn({},G,{formAction:Be.location}),preventScrollReset:_}):await X(Ne,Ye,{overrideNavigation:{state:"loading",location:Ye,formMethod:G?G.formMethod:void 0,formAction:G?G.formAction:void 0,formEncType:G?G.formEncType:void 0,formData:G?G.formData:void 0},preventScrollReset:_})}async function Me(Se,Be,te,H,G){let K=await Promise.all([...te.map(Ne=>Kh("loader",G,Ne,Be,p.basename)),...H.map(Ne=>Kh("loader",Gh(t.history,Ne.path,G.signal),Ne.match,Ne.matches,p.basename))]),je=K.slice(0,te.length),Ye=K.slice(te.length);return await Promise.all([dL(Se,te,je,G.signal,!1,m.loaderData),dL(Se,H.map(Ne=>Ne.match),Ye,G.signal,!0)]),{results:K,loaderResults:je,fetcherResults:Ye}}function Ze(){S=!0,b.push(...tt()),ee.forEach((Se,Be)=>{k.has(Be)&&(A.push(Be),$(Be))})}function ie(Se,Be,te){let H=Yf(m.matches,Be);z(Se),fe({errors:{[H.route.id]:te},fetchers:new Map(m.fetchers)})}function z(Se){k.has(Se)&&$(Se),ee.delete(Se),F.delete(Se),B.delete(Se),m.fetchers.delete(Se)}function $(Se){let Be=k.get(Se);_n(Be,"Expected fetch controller: "+Se),Be.abort(),k.delete(Se)}function re(Se){for(let Be of Se){let H={state:"idle",data:Z(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Be,H)}}function W(){let Se=[];for(let Be of B){let te=m.fetchers.get(Be);_n(te,"Expected fetcher: "+Be),te.state==="loading"&&(B.delete(Be),Se.push(Be))}re(Se)}function pe(Se){let Be=[];for(let[te,H]of F)if(H<Se){let G=m.fetchers.get(te);_n(G,"Expected fetcher: "+te),G.state==="loading"&&($(te),F.delete(te),Be.push(te))}return re(Be),Be.length>0}function ye(Se,Be){let te=m.blockers.get(Se)||iL;return le.get(Se)!==Be&&(le.set(Se,Be),J==null?J=Se:Se!==J&&Cg(!1,"A router only supports one blocker at a time")),te}function ze(Se){m.blockers.delete(Se),le.delete(Se),J===Se&&(J=null)}function Ce(Se,Be){let te=m.blockers.get(Se)||iL;_n(te.state==="unblocked"&&Be.state==="blocked"||te.state==="blocked"&&Be.state==="blocked"||te.state==="blocked"&&Be.state==="proceeding"||te.state==="blocked"&&Be.state==="unblocked"||te.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+te.state+" -> "+Be.state),m.blockers.set(Se,Be),fe({blockers:new Map(m.blockers)})}function Fe(Se){let{currentLocation:Be,nextLocation:te,historyAction:H}=Se;if(J==null)return;let G=le.get(J);_n(G,"Could not find a function for the active blocker");let K=m.blockers.get(J);if(!(K&&K.state==="proceeding")&&G({currentLocation:Be,nextLocation:te,historyAction:H}))return J}function tt(Se){let Be=[];return U.forEach((te,H)=>{(!Se||Se(H))&&(te.cancel(),Be.push(H),U.delete(H))}),Be}function nt(Se,Be,te){if(i=Se,s=Be,a=te||(H=>H.key),!o&&m.navigation===o1){o=!0;let H=Ut(m.location,m.matches);H!=null&&fe({restoreScrollPosition:H})}return()=>{i=null,s=null,a=null}}function gt(Se,Be){if(i&&a&&s){let te=Be.map(G=>hL(G,m.loaderData)),H=a(Se,te)||Se.key;i[H]=s()}}function Ut(Se,Be){if(i&&a&&s){let te=Be.map(K=>hL(K,m.loaderData)),H=a(Se,te)||Se.key,G=i[H];if(typeof G=="number")return G}return null}return p={get basename(){return t.basename},get state(){return m},get routes(){return e},initialize:se,subscribe:ve,enableScrollRestoration:nt,navigate:Oe,fetch:he,revalidate:D,createHref:Se=>t.history.createHref(Se),encodeLocation:Se=>t.history.encodeLocation(Se),getFetcher:Z,deleteFetcher:z,dispose:me,getBlocker:ye,deleteBlocker:ze,_internalFetchControllers:k,_internalActiveDeferreds:U},p}function RV(t){return t!=null&&"formData"in t}function aL(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:lo(t);if(!e||!RV(e))return{path:r};if(e.formMethod&&!kV(e.formMethod))return{path:r,error:el(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:CU(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},Yo(i.formMethod)))return{path:r,submission:i};let a=cu(r),s=TU(e.formData);return n&&a.search&&RU(a.search)&&s.append("index",""),a.search="?"+s,{path:lo(a),submission:i}}function OV(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function sL(t,e,n,r,i,a,s,o,l,f,h){let p=f?Object.values(f)[0]:l?Object.values(l)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),_=a||m.toString()===y.toString()||m.search!==y.search,x=f?Object.keys(f)[0]:void 0,S=OV(n,x).filter((A,k)=>{if(A.route.loader==null)return!1;if(PV(e.loaderData,e.matches[k],A)||s.some(F=>F===A.route.id))return!0;let M=e.matches[k],I=A;return oL(A,Wn({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:I.params},r,{actionResult:p,defaultShouldRevalidate:_||EU(M,I)}))}),b=[];return h&&h.forEach((A,k)=>{if(n.some(M=>M.route.id===A.routeId))o.includes(k)?b.push(Wn({key:k},A)):oL(A.match,Wn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:_}))&&b.push(Wn({key:k},A));else return}),[S,b]}function PV(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function EU(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function oL(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function Kh(t,e,n,r,i,a,s,o){i===void 0&&(i="/"),a===void 0&&(a=!1),s===void 0&&(s=!1);let l,f,h,p=new Promise((y,_)=>h=_),m=()=>h();e.signal.addEventListener("abort",m);try{let y=n.route[t];_n(y,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),f=await Promise.race([y({request:e,params:n.params,context:o}),p]),_n(f!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){l=Ri.error,f=y}finally{e.signal.removeEventListener("abort",m)}if(MV(f)){let y=f.status;if(xV.has(y)){let E=f.headers.get("Location");if(_n(E,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(E)){if(!a){let b=new URL(e.url),A=E.startsWith("//")?new URL(b.protocol+E):new URL(E);A.origin===b.origin&&(E=A.pathname+A.search+A.hash)}}else{let b=r.slice(0,r.indexOf(n)+1),A=d0(b).map(M=>M.pathnameBase),k=gA(E,A,new URL(e.url).pathname);if(_n(lo(k),"Unable to resolve redirect location: "+E),i){let M=k.pathname;k.pathname=M==="/"?i:eu([i,M])}E=lo(k)}if(a)throw f.headers.set("Location",E),f;return{type:Ri.redirect,status:y,location:E,revalidate:f.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:l||Ri.data,response:f};let _,x=f.headers.get("Content-Type");return x&&/\bapplication\/json\b/.test(x)?_=await f.json():_=await f.text(),l===Ri.error?{type:l,error:new mA(y,f.statusText,_),headers:f.headers}:{type:Ri.data,data:_,statusCode:f.status,headers:f.headers}}return l===Ri.error?{type:l,error:f}:f instanceof yV?{type:Ri.deferred,deferredData:f}:{type:Ri.data,data:f}}function Gh(t,e,n,r){let i=t.createURL(CU(e)).toString(),a={signal:n};if(r&&Yo(r.formMethod)){let{formMethod:s,formEncType:o,formData:l}=r;a.method=s.toUpperCase(),a.body=o==="application/x-www-form-urlencoded"?TU(l):l}return new Request(i,a)}function TU(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function IV(t,e,n,r,i){let a={},s=null,o,l=!1,f={};return n.forEach((h,p)=>{let m=e[p].route.id;if(_n(!nd(h),"Cannot handle redirect results in processLoaderData"),gg(h)){let y=Yf(t,m),_=h.error;r&&(_=Object.values(r)[0],r=void 0),s=s||{},s[y.route.id]==null&&(s[y.route.id]=_),a[m]=void 0,l||(l=!0,o=bU(h.error)?h.error.status:500),h.headers&&(f[m]=h.headers)}else xc(h)?(i.set(m,h.deferredData),a[m]=h.deferredData.data):a[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(o=h.statusCode),h.headers&&(f[m]=h.headers)}),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:f}}function uL(t,e,n,r,i,a,s,o){let{loaderData:l,errors:f}=IV(e,n,r,i,o);for(let h=0;h<a.length;h++){let{key:p,match:m}=a[h];_n(s!==void 0&&s[h]!==void 0,"Did not find corresponding fetcher result");let y=s[h];if(gg(y)){let _=Yf(t.matches,m.route.id);f&&f[_.route.id]||(f=Wn({},f,{[_.route.id]:y.error})),t.fetchers.delete(p)}else if(nd(y))_n(!1,"Unhandled fetcher revalidation redirect");else if(xc(y))_n(!1,"Unhandled fetcher deferred data");else{let _={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(p,_)}}return{loaderData:l,errors:f}}function lL(t,e,n,r){let i=Wn({},e);for(let a of n){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Yf(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function cL(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function el(t,e){let{pathname:n,routeId:r,method:i,type:a}=e===void 0?{}:e,s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?o="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(o="defer() is not supported in actions")):t===403?(s="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",o='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?o="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new mA(t||500,s,new Error(o),!0)}function fL(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(nd(n))return n}}function CU(t){let e=typeof t=="string"?cu(t):t;return lo(Wn({},e,{hash:""}))}function LV(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function xc(t){return t.type===Ri.deferred}function gg(t){return t.type===Ri.error}function nd(t){return(t&&t.type)===Ri.redirect}function MV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function kV(t){return SV.has(t)}function Yo(t){return wV.has(t)}async function dL(t,e,n,r,i,a){for(let s=0;s<n.length;s++){let o=n[s],l=e[s],f=t.find(p=>p.route.id===l.route.id),h=f!=null&&!EU(f,l)&&(a&&a[l.route.id])!==void 0;xc(o)&&(i||h)&&await AU(o,r,i).then(p=>{p&&(n[s]=p||n[s])})}}async function AU(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ri.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ri.error,error:i}}return{type:Ri.data,data:t.deferredData.data}}}function RU(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function hL(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function pL(t,e){let n=typeof e=="string"?cu(e).search:e.search;if(t[t.length-1].route.index&&RU(n||""))return t[t.length-1];let r=d0(t);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D_(){return D_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},D_.apply(this,arguments)}function DV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const NV=typeof Object.is=="function"?Object.is:DV,{useState:FV,useEffect:jV,useLayoutEffect:$V,useDebugValue:UV}=Eg;function BV(t,e,n){const r=e(),[{inst:i},a]=FV({inst:{value:r,getSnapshot:e}});return $V(()=>{i.value=r,i.getSnapshot=e,u1(i)&&a({inst:i})},[t,r,e]),jV(()=>(u1(i)&&a({inst:i}),t(()=>{u1(i)&&a({inst:i})})),[t]),UV(r),r}function u1(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!NV(n,r)}catch{return!0}}function qV(t,e,n){return e()}const HV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zV=!HV,VV=zV?qV:BV,KV="useSyncExternalStore"in Eg?(t=>t.useSyncExternalStore)(Eg):VV,yA=ae.createContext(null),nm=ae.createContext(null),rm=ae.createContext(null),h0=ae.createContext(null),Sl=ae.createContext({outlet:null,matches:[]}),OU=ae.createContext(null);function GV(t,e){let{relative:n}=e===void 0?{}:e;kd()||_n(!1);let{basename:r,navigator:i}=ae.useContext(rm),{hash:a,pathname:s,search:o}=_A(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:eu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function kd(){return ae.useContext(h0)!=null}function Dd(){return kd()||_n(!1),ae.useContext(h0).location}function Nd(){kd()||_n(!1);let{basename:t,navigator:e}=ae.useContext(rm),{matches:n}=ae.useContext(Sl),{pathname:r}=Dd(),i=JSON.stringify(d0(n).map(o=>o.pathnameBase)),a=ae.useRef(!1);return ae.useEffect(()=>{a.current=!0}),ae.useCallback(function(o,l){if(l===void 0&&(l={}),!a.current)return;if(typeof o=="number"){e.go(o);return}let f=gA(o,JSON.parse(i),r,l.relative==="path");t!=="/"&&(f.pathname=f.pathname==="/"?t:eu([t,f.pathname])),(l.replace?e.replace:e.push)(f,l.state,l)},[t,e,i,r])}const WV=ae.createContext(null);function QV(t){let e=ae.useContext(Sl).outlet;return e&&ae.createElement(WV.Provider,{value:t},e)}function vA(){let{matches:t}=ae.useContext(Sl),e=t[t.length-1];return e?e.params:{}}function _A(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=ae.useContext(Sl),{pathname:i}=Dd(),a=JSON.stringify(d0(r).map(s=>s.pathnameBase));return ae.useMemo(()=>gA(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function ZV(t,e){kd()||_n(!1);let{navigator:n}=ae.useContext(rm),r=ae.useContext(nm),{matches:i}=ae.useContext(Sl),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=Dd(),f;if(e){var h;let x=typeof e=="string"?cu(e):e;o==="/"||(h=x.pathname)!=null&&h.startsWith(o)||_n(!1),f=x}else f=l;let p=f.pathname||"/",m=o==="/"?p:p.slice(o.length)||"/",y=eg(t,{pathname:m}),_=eK(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:eu([o,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?o:eu([o,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r||void 0);return e&&_?ae.createElement(h0.Provider,{value:{location:D_({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Xr.Pop}},_):_}function JV(){let t=iK(),e=bU(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ae.createElement(ae.Fragment,null,ae.createElement("h2",null,"Unexpected Application Error!"),ae.createElement("h3",{style:{fontStyle:"italic"}},e),n?ae.createElement("pre",{style:i},n):null,null)}class YV extends ae.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?ae.createElement(Sl.Provider,{value:this.props.routeContext},ae.createElement(OU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XV(t){let{routeContext:e,match:n,children:r}=t,i=ae.useContext(yA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ae.createElement(Sl.Provider,{value:e},r)}function eK(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));a>=0||_n(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,s,o)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,f=n?s.route.errorElement||ae.createElement(JV,null):null,h=e.concat(r.slice(0,o+1)),p=()=>ae.createElement(XV,{match:s,routeContext:{outlet:a,matches:h}},l?f:s.route.element!==void 0?s.route.element:a);return n&&(s.route.errorElement||o===0)?ae.createElement(YV,{location:n.location,component:f,error:l,children:p(),routeContext:{outlet:null,matches:h}}):p()},null)}var gL;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(gL||(gL={}));var N_;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(N_||(N_={}));function tK(t){let e=ae.useContext(nm);return e||_n(!1),e}function nK(t){let e=ae.useContext(Sl);return e||_n(!1),e}function rK(t){let e=nK(),n=e.matches[e.matches.length-1];return n.route.id||_n(!1),n.route.id}function iK(){var t;let e=ae.useContext(OU),n=tK(N_.UseRouteError),r=rK(N_.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function aK(t){let{fallbackElement:e,router:n}=t,r=KV(n.subscribe,()=>n.state,()=>n.state),i=ae.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:s=>n.navigate(s),push:(s,o,l)=>n.navigate(s,{state:o,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(s,o,l)=>n.navigate(s,{replace:!0,state:o,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return ae.createElement(ae.Fragment,null,ae.createElement(yA.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},ae.createElement(nm.Provider,{value:r},ae.createElement(oK,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?ae.createElement(uK,null):e))),null)}function wA(t){let{to:e,replace:n,state:r,relative:i}=t;kd()||_n(!1);let a=ae.useContext(nm),s=Nd();return ae.useEffect(()=>{a&&a.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function p0(t){return QV(t.context)}function sK(t){_n(!1)}function oK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xr.Pop,navigator:a,static:s=!1}=t;kd()&&_n(!1);let o=e.replace(/^\/*/,"/"),l=ae.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof r=="string"&&(r=cu(r));let{pathname:f="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,_=ae.useMemo(()=>{let x=wU(f,o);return x==null?null:{pathname:x,search:h,hash:p,state:m,key:y}},[o,f,h,p,m,y]);return _==null?null:ae.createElement(rm.Provider,{value:l},ae.createElement(h0.Provider,{children:n,value:{location:_,navigationType:i}}))}function uK(t){let{children:e,location:n}=t,r=ae.useContext(yA),i=r&&!e?r.router.routes:oC(e);return ZV(i,n)}var mL;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(mL||(mL={}));new Promise(()=>{});function oC(t,e){e===void 0&&(e=[]);let n=[];return ae.Children.forEach(t,(r,i)=>{if(!ae.isValidElement(r))return;if(r.type===ae.Fragment){n.push.apply(n,oC(r.props.children,e));return}r.type!==sK&&_n(!1),!r.props.index||!r.props.children||_n(!1);let a=[...e,i],s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=oC(r.props.children,a)),n.push(s)}),n}function PU(t){return t.map(e=>{let n=D_({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=PU(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ag.apply(this,arguments)}function IU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function lK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function cK(t,e){return t.button===0&&(!e||e==="_self")&&!lK(t)}function uC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function fK(t,e){let n=uC(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const dK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],hK=["aria-current","caseSensitive","className","end","style","to","children"];function pK(t,e){return AV({basename:void 0,history:W7({window:void 0}),hydrationData:gK(),routes:PU(t)}).initialize()}function gK(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Ag({},e,{errors:mK(e.errors)})),e}function mK(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new mA(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const yK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cs=ae.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:f,preventScrollReset:h}=e,p=IU(e,dK),m=typeof f=="string"?f:lo(f),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),_=m,x=!1;if(yK&&y){let A=new URL(window.location.href),k=m.startsWith("//")?new URL(A.protocol+m):new URL(m);k.origin===A.origin?_=k.pathname+k.search+k.hash:x=!0}let E=GV(_,{relative:i}),S=_K(_,{replace:s,state:o,target:l,preventScrollReset:h,relative:i});function b(A){r&&r(A),A.defaultPrevented||S(A)}return ae.createElement("a",Ag({},p,{href:y?m:E,onClick:x||a?r:b,ref:n,target:l}))}),vK=ae.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,children:f}=e,h=IU(e,hK),p=_A(l,{relative:h.relative}),m=Dd(),y=ae.useContext(nm),{navigator:_}=ae.useContext(rm),x=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,E=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(E=E.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase());let b=E===x||!s&&E.startsWith(x)&&E.charAt(x.length)==="/",A=S!=null&&(S===x||!s&&S.startsWith(x)&&S.charAt(x.length)==="/"),k=b?r:void 0,M;typeof a=="function"?M=a({isActive:b,isPending:A}):M=[a,b?"active":null,A?"pending":null].filter(Boolean).join(" ");let I=typeof o=="function"?o({isActive:b,isPending:A}):o;return ae.createElement(Cs,Ag({},h,{"aria-current":k,className:M,ref:n,style:I,to:l}),typeof f=="function"?f({isActive:b,isPending:A}):f)});var yL;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(yL||(yL={}));var vL;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vL||(vL={}));function _K(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=e===void 0?{}:e,o=Nd(),l=Dd(),f=_A(t,{relative:s});return ae.useCallback(h=>{if(cK(h,n)){h.preventDefault();let p=r!==void 0?r:lo(l)===lo(f);o(t,{replace:p,state:i,preventScrollReset:a,relative:s})}},[l,o,f,r,i,n,t,a,s])}function wK(t){let e=ae.useRef(uC(t)),n=ae.useRef(!1),r=Dd(),i=ae.useMemo(()=>fK(r.search,n.current?null:e.current),[r.search]),a=Nd(),s=ae.useCallback((o,l)=>{const f=uC(typeof o=="function"?o(i):o);n.current=!0,a("?"+f,l)},[a,i]);return[i,s]}function d_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?d_=function(n){return typeof n}:d_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},d_(t)}function bK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SK(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xK(t,e,n){return SK(t.prototype,e),t}function EK(t,e){return e&&(d_(e)==="object"||typeof e=="function")?e:h_(t)}function lC(t){return lC=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},lC(t)}function h_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},cC(t,e)}function p_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LU=function(t){TK(e,t);function e(){var n,r;bK(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=EK(this,(n=lC(e)).call.apply(n,[this].concat(a))),p_(h_(r),"state",{bootstrapped:!1}),p_(h_(r),"_unsubscribe",void 0),p_(h_(r),"handlePersistorState",function(){var o=r.props.persistor,l=o.getState(),f=l.bootstrapped;f&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return xK(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(ae.PureComponent);p_(LU,"defaultProps",{children:null,loading:null});function Ai(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var CK=typeof Symbol=="function"&&Symbol.observable||"@@observable",_L=CK,l1=()=>Math.random().toString(36).substring(7).split("").join("."),AK={INIT:`@@redux/INIT${l1()}`,REPLACE:`@@redux/REPLACE${l1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${l1()}`},F_=AK;function bA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function SA(t,e,n){if(typeof t!="function")throw new Error(Ai(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ai(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ai(1));return n(SA)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function f(){s===a&&(s=new Map,a.forEach((E,S)=>{s.set(S,E)}))}function h(){if(l)throw new Error(Ai(3));return i}function p(E){if(typeof E!="function")throw new Error(Ai(4));if(l)throw new Error(Ai(5));let S=!0;f();const b=o++;return s.set(b,E),function(){if(S){if(l)throw new Error(Ai(6));S=!1,f(),s.delete(b),a=null}}}function m(E){if(!bA(E))throw new Error(Ai(7));if(typeof E.type>"u")throw new Error(Ai(8));if(typeof E.type!="string")throw new Error(Ai(17));if(l)throw new Error(Ai(9));try{l=!0,i=r(i,E)}finally{l=!1}return(a=s).forEach(b=>{b()}),E}function y(E){if(typeof E!="function")throw new Error(Ai(10));r=E,m({type:F_.REPLACE})}function _(){const E=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(Ai(11));function b(){const k=S;k.next&&k.next(h())}return b(),{unsubscribe:E(b)}},[_L](){return this}}}return m({type:F_.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:y,[_L]:_}}function RK(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:F_.INIT})>"u")throw new Error(Ai(12));if(typeof n(void 0,{type:F_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ai(13))})}function MU(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{RK(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],y=s[p],_=m(y,o);if(typeof _>"u")throw o&&o.type,new Error(Ai(14));f[p]=_,l=l||_!==y}return l=l||r.length!==Object.keys(s).length,l?f:s}}function j_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function OK(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Ai(15))};const s={getState:i.getState,dispatch:(l,...f)=>a(l,...f)},o=t.map(l=>l(s));return a=j_(...o)(i.dispatch),{...i,dispatch:a}}}function PK(t){return bA(t)&&"type"in t&&typeof t.type=="string"}var kU=Symbol.for("immer-nothing"),wL=Symbol.for("immer-draftable"),Ba=Symbol.for("immer-state");function Rs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function Uc(t){return!!t&&!!t[Ba]}function au(t){var e;return t?DU(t)||Array.isArray(t)||!!t[wL]||!!((e=t.constructor)!=null&&e[wL])||m0(t)||y0(t):!1}var IK=Object.prototype.constructor.toString();function DU(t){if(!t||typeof t!="object")return!1;const e=xd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===IK}function $_(t,e){g0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function g0(t){const e=t[Ba];return e?e.type_:Array.isArray(t)?1:m0(t)?2:y0(t)?3:0}function fC(t,e){return g0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NU(t,e,n){const r=g0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function LK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function m0(t){return t instanceof Map}function y0(t){return t instanceof Set}function vc(t){return t.copy_||t.base_}function dC(t,e){if(m0(t))return new Map(t);if(y0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=DU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ba];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(xd(t),r)}else{const r=xd(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function xA(t,e=!1){return v0(t)||Uc(t)||!au(t)||(g0(t)>1&&(t.set=t.add=t.clear=t.delete=MK),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>xA(r,!0))),t}function MK(){Rs(2)}function v0(t){return Object.isFrozen(t)}var kK={};function Bc(t){const e=kK[t];return e||Rs(0,t),e}var Rg;function FU(){return Rg}function DK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bL(t,e){e&&(Bc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hC(t){pC(t),t.drafts_.forEach(NK),t.drafts_=null}function pC(t){t===Rg&&(Rg=t.parent_)}function SL(t){return Rg=DK(Rg,t)}function NK(t){const e=t[Ba];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xL(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ba].modified_&&(hC(e),Rs(4)),au(t)&&(t=U_(e,t),e.parent_||B_(e,t)),e.patches_&&Bc("Patches").generateReplacementPatches_(n[Ba].base_,t,e.patches_,e.inversePatches_)):t=U_(e,n,[]),hC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==kU?t:void 0}function U_(t,e,n){if(v0(e))return e;const r=e[Ba];if(!r)return $_(e,(i,a)=>EL(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return B_(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),$_(a,(o,l)=>EL(t,r,i,o,l,n,s)),B_(t,i,!1),n&&t.patches_&&Bc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function EL(t,e,n,r,i,a,s){if(Uc(i)){const o=a&&e&&e.type_!==3&&!fC(e.assigned_,r)?a.concat(r):void 0,l=U_(t,i,o);if(NU(n,r,l),Uc(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(au(i)&&!v0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;U_(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&B_(t,i)}}function B_(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&xA(e,n)}function FK(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:FU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=EA;n&&(i=[r],a=Og);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var EA={get(t,e){if(e===Ba)return t;const n=vc(t);if(!fC(n,e))return jK(t,n,e);const r=n[e];return t.finalized_||!au(r)?r:r===c1(t.base_,e)?(f1(t),t.copy_[e]=mC(r,t)):r},has(t,e){return e in vc(t)},ownKeys(t){return Reflect.ownKeys(vc(t))},set(t,e,n){const r=jU(vc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=c1(vc(t),e),a=i==null?void 0:i[Ba];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(LK(n,i)&&(n!==void 0||fC(t.base_,e)))return!0;f1(t),gC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return c1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,f1(t),gC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Rs(11)},getPrototypeOf(t){return xd(t.base_)},setPrototypeOf(){Rs(12)}},Og={};$_(EA,(t,e)=>{Og[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Og.deleteProperty=function(t,e){return Og.set.call(this,t,e,void 0)};Og.set=function(t,e,n){return EA.set.call(this,t[0],e,n,t[0])};function c1(t,e){const n=t[Ba];return(n?vc(n):t)[e]}function jK(t,e,n){var i;const r=jU(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function jU(t,e){if(!(e in t))return;let n=xd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=xd(n)}}function gC(t){t.modified_||(t.modified_=!0,t.parent_&&gC(t.parent_))}function f1(t){t.copy_||(t.copy_=dC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $K=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const s=r;r=n;const o=this;return function(f=s,...h){return o.produce(f,p=>r.call(this,p,...h))}}typeof r!="function"&&Rs(6),i!==void 0&&typeof i!="function"&&Rs(7);let a;if(au(n)){const s=SL(this),o=mC(n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?hC(s):pC(s)}return bL(s,i),xL(a,s)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===kU&&(a=void 0),this.autoFreeze_&&xA(a,!0),i){const s=[],o=[];Bc("Patches").generateReplacementPatches_(n,a,s,o),i(s,o)}return a}else Rs(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(o,...l)=>this.produceWithPatches(o,f=>n(f,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){au(e)||Rs(8),Uc(e)&&(e=UK(e));const n=SL(this),r=mC(e,void 0);return r[Ba].isManual_=!0,pC(n),r}finishDraft(e,n){const r=e&&e[Ba];(!r||!r.isManual_)&&Rs(9);const{scope_:i}=r;return bL(i,n),xL(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Bc("Patches").applyPatches_;return Uc(e)?i(e,n):this.produce(e,a=>i(a,n))}};function mC(t,e){const n=m0(t)?Bc("MapSet").proxyMap_(t,e):y0(t)?Bc("MapSet").proxySet_(t,e):FK(t,e);return(e?e.scope_:FU()).drafts_.push(n),n}function UK(t){return Uc(t)||Rs(10,t),$U(t)}function $U(t){if(!au(t)||v0(t))return t;const e=t[Ba];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=dC(t,!0);return $_(n,(r,i)=>{NU(n,r,$U(i))}),e&&(e.finalized_=!1),n}var qa=new $K,UU=qa.produce;qa.produceWithPatches.bind(qa);qa.setAutoFreeze.bind(qa);qa.setUseStrictShallowCopy.bind(qa);qa.applyPatches.bind(qa);qa.createDraft.bind(qa);qa.finishDraft.bind(qa);function BU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var BK=BU(),qK=BU,HK=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?j_:j_.apply(null,arguments)},zK=t=>t&&typeof t.match=="function";function TL(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(tu(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>PK(r)&&r.type===t,n}var qU=class tg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,tg.prototype)}static get[Symbol.species](){return tg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new tg(...e[0].concat(this)):new tg(...e.concat(this))}};function CL(t){return au(t)?UU(t,()=>{}):t}function AL(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function VK(t){return typeof t=="boolean"}var KK=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new qU;return n&&(VK(n)?s.push(BK):s.push(qK(n.extraArgument))),s},GK="RTK_autoBatch",RL=t=>e=>{setTimeout(e,t)},WK=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RL(10):t.type==="callback"?t.queueNotification:RL(t.timeout),f=()=>{s=!1,a&&(a=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return o.add(h),()=>{m(),o.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[GK]),a=!i,a&&(s||(s=!0,l(f))),r.dispatch(h)}finally{i=!0}}})},QK=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new qU(t);return r&&i.push(WK(typeof r=="object"?r:void 0)),i};function ZK(t){const e=KK(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t;let o;if(typeof n=="function")o=n;else if(bA(n))o=MU(n);else throw new Error(tu(1));let l;typeof r=="function"?l=r(e):l=e();let f=j_;i&&(f=HK({trace:!1,...typeof i=="object"&&i}));const h=OK(...l),p=QK(h);let m=typeof s=="function"?s(p):p();const y=f(...m);return SA(o,a,y)}function HU(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(tu(28));if(o in e)throw new Error(tu(29));return e[o]=s,i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function JK(t){return typeof t=="function"}function YK(t,e){let[n,r,i]=HU(e),a;if(JK(t))a=()=>CL(t());else{const o=CL(t);a=()=>o}function s(o=a(),l){let f=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Uc(h)){const y=p(h,l);return y===void 0?h:y}else{if(au(h))return UU(h,m=>p(m,l));{const m=p(h,l);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},o)}return s.getInitialState=a,s}var XK=(t,e)=>zK(t)?t.match(e):t(e);function eG(...t){return e=>t.some(n=>XK(n,e))}var tG=Symbol.for("rtk-slice-createasyncthunk");function nG(t,e){return`${t}/${e}`}function rG({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[tG];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(tu(11));const o=(typeof i.reducers=="function"?i.reducers(aG()):i.reducers)||{},l=Object.keys(o),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,k){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(tu(12));if(M in f.sliceCaseReducersByType)throw new Error(tu(13));return f.sliceCaseReducersByType[M]=k,h},addMatcher(A,k){return f.sliceMatchers.push({matcher:A,reducer:k}),h},exposeAction(A,k){return f.actionCreators[A]=k,h},exposeCaseReducer(A,k){return f.sliceCaseReducersByName[A]=k,h}};l.forEach(A=>{const k=o[A],M={reducerName:A,type:nG(a,A),createNotation:typeof i.reducers=="function"};oG(k)?lG(M,k,h,e):sG(M,k,h)});function p(){const[A={},k=[],M=void 0]=typeof i.extraReducers=="function"?HU(i.extraReducers):[i.extraReducers],I={...A,...f.sliceCaseReducersByType};return YK(i.initialState,F=>{for(let B in I)F.addCase(B,I[B]);for(let B of f.sliceMatchers)F.addMatcher(B.matcher,B.reducer);for(let B of k)F.addMatcher(B.matcher,B.reducer);M&&F.addDefaultCase(M)})}const m=A=>A,y=new Map;let _;function x(A,k){return _||(_=p()),_(A,k)}function E(){return _||(_=p()),_.getInitialState()}function S(A,k=!1){function M(F){let B=F[A];return typeof B>"u"&&k&&(B=E()),B}function I(F=m){const B=AL(y,k,()=>new WeakMap);return AL(B,F,()=>{const ee={};for(const[U,J]of Object.entries(i.selectors??{}))ee[U]=iG(J,F,E,k);return ee})}return{reducerPath:A,getSelectors:I,get selectors(){return I(M)},selectSlice:M}}const b={name:a,reducer:x,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...S(s),injectInto(A,{reducerPath:k,...M}={}){const I=k??s;return A.inject({reducerPath:I,reducer:x},M),{...b,...S(I,!0)}}};return b}}function iG(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var TA=rG();function aG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function sG({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!uG(r))throw new Error(tu(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?TL(t,s):TL(t))}function oG(t){return t._reducerDefinitionType==="asyncThunk"}function uG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(tu(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),o&&r.addCase(p.pending,o),l&&r.addCase(p.rejected,l),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||$y,pending:o||$y,rejected:l||$y,settled:f||$y})}function $y(){}function tu(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const cG={},fG=TA({name:"auth",initialState:cG,reducers:{signin:(t,e)=>{t.isLoggedIn=e.payload.isLoggedIn,t.webId=e.payload.webId},setUser:(t,e)=>{t.profile=e.payload},signout:t=>{t.isLoggedIn=!1}}}),{actions:CA,reducer:dG}=fG,im=t=>t.auth,hG={},pG=TA({name:"config",initialState:hG,reducers:{setConfig:(t,e)=>{Object.assign(t,e.payload)},resetConfig:()=>({})}}),{actions:yC,reducer:gG}=pG,zU=t=>t.config,mG={},yG=TA({name:"login",initialState:mG,reducers:{setLastSelectedIssuer:(t,e)=>{t.lastSelectedIssuer=e.payload}}}),{actions:q_,reducer:vG}=yG,VU=t=>t.login.lastSelectedIssuer;var AA="persist:",KU="persist/FLUSH",RA="persist/REHYDRATE",GU="persist/PAUSE",WU="persist/PERSIST",QU="persist/PURGE",ZU="persist/REGISTER",_G=-1;function g_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?g_=function(n){return typeof n}:g_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},g_(t)}function OL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OL(n,!0).forEach(function(r){bG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SG(t,e,n,r){r.debug;var i=wG({},n);return t&&g_(t)==="object"&&Object.keys(t).forEach(function(a){a!=="_persist"&&e[a]===n[a]&&(i[a]=t[a])}),i}function xG(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,a="".concat(t.keyPrefix!==void 0?t.keyPrefix:AA).concat(t.key),s=t.storage,o;t.serialize===!1?o=function(M){return M}:typeof t.serialize=="function"?o=t.serialize:o=EG;var l=t.writeFailHandler||null,f={},h={},p=[],m=null,y=null,_=function(M){Object.keys(M).forEach(function(I){S(I)&&f[I]!==M[I]&&p.indexOf(I)===-1&&p.push(I)}),Object.keys(f).forEach(function(I){M[I]===void 0&&S(I)&&p.indexOf(I)===-1&&f[I]!==void 0&&p.push(I)}),m===null&&(m=setInterval(x,i)),f=M};function x(){if(p.length===0){m&&clearInterval(m),m=null;return}var k=p.shift(),M=r.reduce(function(I,F){return F.in(I,k,f)},f[k]);if(M!==void 0)try{h[k]=o(M)}catch(I){console.error("redux-persist/createPersistoid: error serializing state",I)}else delete h[k];p.length===0&&E()}function E(){Object.keys(h).forEach(function(k){f[k]===void 0&&delete h[k]}),y=s.setItem(a,o(h)).catch(b)}function S(k){return!(n&&n.indexOf(k)===-1&&k!=="_persist"||e&&e.indexOf(k)!==-1)}function b(k){l&&l(k)}var A=function(){for(;p.length!==0;)x();return y||Promise.resolve()};return{update:_,flush:A}}function EG(t){return JSON.stringify(t)}function TG(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:AA).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(s){return s}:typeof t.deserialize=="function"?i=t.deserialize:i=CG,r.getItem(n).then(function(a){if(a)try{var s={},o=i(a);return Object.keys(o).forEach(function(l){s[l]=e.reduceRight(function(f,h){return h.out(f,l,o)},i(o[l]))}),s}catch(l){throw l}else return})}function CG(t){return JSON.parse(t)}function AG(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:AA).concat(t.key);return e.removeItem(n,RG)}function RG(t){}function PL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PL(n,!0).forEach(function(r){OG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PG(t,e){if(t==null)return{};var n=IG(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var LG=5e3;function MG(t,e){var n=t.version!==void 0?t.version:_G;t.debug;var r=t.stateReconciler===void 0?SG:t.stateReconciler,i=t.getStoredState||TG,a=t.timeout!==void 0?t.timeout:LG,s=null,o=!1,l=!0,f=function(p){return p._persist.rehydrated&&s&&!l&&s.update(p),p};return function(h,p){var m=h||{},y=m._persist,_=PG(m,["_persist"]),x=_;if(p.type===WU){var E=!1,S=function(B,ee){E||(p.rehydrate(t.key,B,ee),E=!0)};if(a&&setTimeout(function(){!E&&S(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},a),l=!1,s||(s=xG(t)),y)return qo({},e(x,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(F){var B=t.migrate||function(ee,U){return Promise.resolve(ee)};B(F,n).then(function(ee){S(ee)},function(ee){S(void 0,ee)})},function(F){S(void 0,F)}),qo({},e(x,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===QU)return o=!0,p.result(AG(t)),qo({},e(x,p),{_persist:y});if(p.type===KU)return p.result(s&&s.flush()),qo({},e(x,p),{_persist:y});if(p.type===GU)l=!0;else if(p.type===RA){if(o)return qo({},x,{_persist:qo({},y,{rehydrated:!0})});if(p.key===t.key){var b=e(x,p),A=p.payload,k=r!==!1&&A!==void 0?r(A,h,b,t):b,M=qo({},k,{_persist:qo({},y,{rehydrated:!0})});return f(M)}}}if(!y)return e(h,p);var I=e(x,p);return I===x?h:f(qo({},I,{_persist:y}))}}function IL(t){return NG(t)||DG(t)||kG()}function kG(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function DG(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function NG(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function LL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LL(n,!0).forEach(function(r){FG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LL(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JU={registry:[],bootstrapped:!1},jG=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:JU,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case ZU:return vC({},e,{registry:[].concat(IL(e.registry),[n.key])});case RA:var r=e.registry.indexOf(n.key),i=IL(e.registry);return i.splice(r,1),vC({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function $G(t,e,n){var r=SA(jG,JU,void 0),i=function(l){r.dispatch({type:ZU,key:l})},a=function(l,f,h){var p={type:RA,payload:f,err:h,key:l};t.dispatch(p),r.dispatch(p)},s=vC({},r,{purge:function(){var l=[];return t.dispatch({type:QU,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:KU,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:GU})},persist:function(){t.dispatch({type:WU,register:i,rehydrate:a})}});return s.persist(),s}var Wh={},Uy={},By={},ML;function UG(){if(ML)return By;ML=1,By.__esModule=!0,By.default=i;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(o){return typeof o}:t=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(a){if((typeof self>"u"?"undefined":t(self))!=="object"||!(a in self))return!1;try{var s=self[a],o="redux-persist ".concat(a," test");s.setItem(o,"test"),s.getItem(o),s.removeItem(o)}catch{return!1}return!0}function i(a){var s="".concat(a,"Storage");return r(s)?self[s]:n}return By}var kL;function BG(){if(kL)return Uy;kL=1,Uy.__esModule=!0,Uy.default=n;var t=e(UG());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,t.default)(r);return{getItem:function(s){return new Promise(function(o,l){o(i.getItem(s))})},setItem:function(s,o){return new Promise(function(l,f){l(i.setItem(s,o))})},removeItem:function(s){return new Promise(function(o,l){o(i.removeItem(s))})}}}return Uy}var DL;function qG(){if(DL)return Wh;DL=1,Wh.__esModule=!0,Wh.default=void 0;var t=e(BG());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return Wh.default=n,Wh}var HG=qG();const zG=Ur(HG),qy=MU({auth:dG,login:vG,config:gG}),VG=(t,e)=>{if(eG(CA.signout)(e)){let n=qy(void 0,e);const r=t&&zU(t);r&&(n=qy(n,yC.setConfig(r)));const i=t&&VU(t);return i&&(n=qy(n,q_.setLastSelectedIssuer(i))),n}return qy(t,e)},KG={key:"root",storage:zG,whitelist:["login","config"]},GG=MG(KG,VG),YU=ZK({reducer:GG}),WG=$G(YU),QG="https://solidweb.me/solidcouch/community#us",ZG="solidcouch",JG="https://service.notifications.tired.bike",YG="https://id.notifications.tired.bike/profile/card#me",XG="simple",eW="",NL="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",FL="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var ng={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var tW=ng.exports,jL;function nW(){return jL||(jL=1,function(t,e){(function(n,r){r(e)})(tW,function(n){var r="1.9.4";function i(d){var v,O,q,ne;for(O=1,q=arguments.length;O<q;O++){ne=arguments[O];for(v in ne)d[v]=ne[v]}return d}var a=Object.create||function(){function d(){}return function(v){return d.prototype=v,new d}}();function s(d,v){var O=Array.prototype.slice;if(d.bind)return d.bind.apply(d,O.call(arguments,1));var q=O.call(arguments,2);return function(){return d.apply(v,q.length?q.concat(O.call(arguments)):arguments)}}var o=0;function l(d){return"_leaflet_id"in d||(d._leaflet_id=++o),d._leaflet_id}function f(d,v,O){var q,ne,_e,We;return We=function(){q=!1,ne&&(_e.apply(O,ne),ne=!1)},_e=function(){q?ne=arguments:(d.apply(O,arguments),setTimeout(We,v),q=!0)},_e}function h(d,v,O){var q=v[1],ne=v[0],_e=q-ne;return d===q&&O?d:((d-ne)%_e+_e)%_e+ne}function p(){return!1}function m(d,v){if(v===!1)return d;var O=Math.pow(10,v===void 0?6:v);return Math.round(d*O)/O}function y(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function _(d){return y(d).split(/\s+/)}function x(d,v){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var O in v)d.options[O]=v[O];return d.options}function E(d,v,O){var q=[];for(var ne in d)q.push(encodeURIComponent(O?ne.toUpperCase():ne)+"="+encodeURIComponent(d[ne]));return(!v||v.indexOf("?")===-1?"?":"&")+q.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function b(d,v){return d.replace(S,function(O,q){var ne=v[q];if(ne===void 0)throw new Error("No value provided for variable "+O);return typeof ne=="function"&&(ne=ne(v)),ne})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function k(d,v){for(var O=0;O<d.length;O++)if(d[O]===v)return O;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var F=0;function B(d){var v=+new Date,O=Math.max(0,16-(v-F));return F=v+O,window.setTimeout(d,O)}var ee=window.requestAnimationFrame||I("RequestAnimationFrame")||B,U=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function J(d,v,O){if(O&&ee===B)d.call(v);else return ee.call(window,s(d,v))}function le(d){d&&U.call(window,d)}var Y={__proto__:null,extend:i,create:a,bind:s,get lastId(){return o},stamp:l,throttle:f,wrapNum:h,falseFn:p,formatNum:m,trim:y,splitWords:_,setOptions:x,getParamString:E,template:b,isArray:A,indexOf:k,emptyImageUrl:M,requestFn:ee,cancelFn:U,requestAnimFrame:J,cancelAnimFrame:le};function se(){}se.extend=function(d){var v=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},O=v.__super__=this.prototype,q=a(O);q.constructor=v,v.prototype=q;for(var ne in this)Object.prototype.hasOwnProperty.call(this,ne)&&ne!=="prototype"&&ne!=="__super__"&&(v[ne]=this[ne]);return d.statics&&i(v,d.statics),d.includes&&(me(d.includes),i.apply(null,[q].concat(d.includes))),i(q,d),delete q.statics,delete q.includes,q.options&&(q.options=O.options?a(O.options):{},i(q.options,d.options)),q._initHooks=[],q.callInitHooks=function(){if(!this._initHooksCalled){O.callInitHooks&&O.callInitHooks.call(this),this._initHooksCalled=!0;for(var _e=0,We=q._initHooks.length;_e<We;_e++)q._initHooks[_e].call(this)}},v},se.include=function(d){var v=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=v,this.mergeOptions(d.options)),this},se.mergeOptions=function(d){return i(this.prototype.options,d),this},se.addInitHook=function(d){var v=Array.prototype.slice.call(arguments,1),O=typeof d=="function"?d:function(){this[d].apply(this,v)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(O),this};function me(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var v=0;v<d.length;v++)d[v]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ve={on:function(d,v,O){if(typeof d=="object")for(var q in d)this._on(q,d[q],v);else{d=_(d);for(var ne=0,_e=d.length;ne<_e;ne++)this._on(d[ne],v,O)}return this},off:function(d,v,O){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var q in d)this._off(q,d[q],v);else{d=_(d);for(var ne=arguments.length===1,_e=0,We=d.length;_e<We;_e++)ne?this._off(d[_e]):this._off(d[_e],v,O)}return this},_on:function(d,v,O,q){if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}if(this._listens(d,v,O)===!1){O===this&&(O=void 0);var ne={fn:v,ctx:O};q&&(ne.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(ne)}},_off:function(d,v,O){var q,ne,_e;if(this._events&&(q=this._events[d],!!q)){if(arguments.length===1){if(this._firingCount)for(ne=0,_e=q.length;ne<_e;ne++)q[ne].fn=p;delete this._events[d];return}if(typeof v!="function"){console.warn("wrong listener type: "+typeof v);return}var We=this._listens(d,v,O);if(We!==!1){var ot=q[We];this._firingCount&&(ot.fn=p,this._events[d]=q=q.slice()),q.splice(We,1)}}},fire:function(d,v,O){if(!this.listens(d,O))return this;var q=i({},v,{type:d,target:this,sourceTarget:v&&v.sourceTarget||this});if(this._events){var ne=this._events[d];if(ne){this._firingCount=this._firingCount+1||1;for(var _e=0,We=ne.length;_e<We;_e++){var ot=ne[_e],yt=ot.fn;ot.once&&this.off(d,yt,ot.ctx),yt.call(ot.ctx||this,q)}this._firingCount--}}return O&&this._propagateEvent(q),this},listens:function(d,v,O,q){typeof d!="string"&&console.warn('"string" type argument expected');var ne=v;typeof v!="function"&&(q=!!v,ne=void 0,O=void 0);var _e=this._events&&this._events[d];if(_e&&_e.length&&this._listens(d,ne,O)!==!1)return!0;if(q){for(var We in this._eventParents)if(this._eventParents[We].listens(d,v,O,q))return!0}return!1},_listens:function(d,v,O){if(!this._events)return!1;var q=this._events[d]||[];if(!v)return!!q.length;O===this&&(O=void 0);for(var ne=0,_e=q.length;ne<_e;ne++)if(q[ne].fn===v&&q[ne].ctx===O)return ne;return!1},once:function(d,v,O){if(typeof d=="object")for(var q in d)this._on(q,d[q],v,!0);else{d=_(d);for(var ne=0,_e=d.length;ne<_e;ne++)this._on(d[ne],v,O,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[l(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[l(d)],this},_propagateEvent:function(d){for(var v in this._eventParents)this._eventParents[v].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};ve.addEventListener=ve.on,ve.removeEventListener=ve.clearAllEventListeners=ve.off,ve.addOneTimeEventListener=ve.once,ve.fireEvent=ve.fire,ve.hasEventListeners=ve.listens;var fe=se.extend(ve);function ue(d,v,O){this.x=O?Math.round(d):d,this.y=O?Math.round(v):v}var Oe=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(d){return this.clone()._add(D(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(D(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new ue(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new ue(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(d){d=D(d);var v=d.x-this.x,O=d.y-this.y;return Math.sqrt(v*v+O*O)},equals:function(d){return d=D(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=D(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function D(d,v,O){return d instanceof ue?d:A(d)?new ue(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new ue(d.x,d.y):new ue(d,v,O)}function X(d,v){if(d)for(var O=v?[d,v]:d,q=0,ne=O.length;q<ne;q++)this.extend(O[q])}X.prototype={extend:function(d){var v,O;if(!d)return this;if(d instanceof ue||typeof d[0]=="number"||"x"in d)v=O=D(d);else if(d=ce(d),v=d.min,O=d.max,!v||!O)return this;return!this.min&&!this.max?(this.min=v.clone(),this.max=O.clone()):(this.min.x=Math.min(v.x,this.min.x),this.max.x=Math.max(O.x,this.max.x),this.min.y=Math.min(v.y,this.min.y),this.max.y=Math.max(O.y,this.max.y)),this},getCenter:function(d){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var v,O;return typeof d[0]=="number"||d instanceof ue?d=D(d):d=ce(d),d instanceof X?(v=d.min,O=d.max):v=O=d,v.x>=this.min.x&&O.x<=this.max.x&&v.y>=this.min.y&&O.y<=this.max.y},intersects:function(d){d=ce(d);var v=this.min,O=this.max,q=d.min,ne=d.max,_e=ne.x>=v.x&&q.x<=O.x,We=ne.y>=v.y&&q.y<=O.y;return _e&&We},overlaps:function(d){d=ce(d);var v=this.min,O=this.max,q=d.min,ne=d.max,_e=ne.x>v.x&&q.x<O.x,We=ne.y>v.y&&q.y<O.y;return _e&&We},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var v=this.min,O=this.max,q=Math.abs(v.x-O.x)*d,ne=Math.abs(v.y-O.y)*d;return ce(D(v.x-q,v.y-ne),D(O.x+q,O.y+ne))},equals:function(d){return d?(d=ce(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ce(d,v){return!d||d instanceof X?d:new X(d,v)}function V(d,v){if(d)for(var O=v?[d,v]:d,q=0,ne=O.length;q<ne;q++)this.extend(O[q])}V.prototype={extend:function(d){var v=this._southWest,O=this._northEast,q,ne;if(d instanceof he)q=d,ne=d;else if(d instanceof V){if(q=d._southWest,ne=d._northEast,!q||!ne)return this}else return d?this.extend(xe(d)||Z(d)):this;return!v&&!O?(this._southWest=new he(q.lat,q.lng),this._northEast=new he(ne.lat,ne.lng)):(v.lat=Math.min(q.lat,v.lat),v.lng=Math.min(q.lng,v.lng),O.lat=Math.max(ne.lat,O.lat),O.lng=Math.max(ne.lng,O.lng)),this},pad:function(d){var v=this._southWest,O=this._northEast,q=Math.abs(v.lat-O.lat)*d,ne=Math.abs(v.lng-O.lng)*d;return new V(new he(v.lat-q,v.lng-ne),new he(O.lat+q,O.lng+ne))},getCenter:function(){return new he((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new he(this.getNorth(),this.getWest())},getSouthEast:function(){return new he(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof he||"lat"in d?d=xe(d):d=Z(d);var v=this._southWest,O=this._northEast,q,ne;return d instanceof V?(q=d.getSouthWest(),ne=d.getNorthEast()):q=ne=d,q.lat>=v.lat&&ne.lat<=O.lat&&q.lng>=v.lng&&ne.lng<=O.lng},intersects:function(d){d=Z(d);var v=this._southWest,O=this._northEast,q=d.getSouthWest(),ne=d.getNorthEast(),_e=ne.lat>=v.lat&&q.lat<=O.lat,We=ne.lng>=v.lng&&q.lng<=O.lng;return _e&&We},overlaps:function(d){d=Z(d);var v=this._southWest,O=this._northEast,q=d.getSouthWest(),ne=d.getNorthEast(),_e=ne.lat>v.lat&&q.lat<O.lat,We=ne.lng>v.lng&&q.lng<O.lng;return _e&&We},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,v){return d?(d=Z(d),this._southWest.equals(d.getSouthWest(),v)&&this._northEast.equals(d.getNorthEast(),v)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Z(d,v){return d instanceof V?d:new V(d,v)}function he(d,v,O){if(isNaN(d)||isNaN(v))throw new Error("Invalid LatLng object: ("+d+", "+v+")");this.lat=+d,this.lng=+v,O!==void 0&&(this.alt=+O)}he.prototype={equals:function(d,v){if(!d)return!1;d=xe(d);var O=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return O<=(v===void 0?1e-9:v)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return Te.distance(this,xe(d))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(d){var v=180*d/40075017,O=v/Math.cos(Math.PI/180*this.lat);return Z([this.lat-v,this.lng-O],[this.lat+v,this.lng+O])},clone:function(){return new he(this.lat,this.lng,this.alt)}};function xe(d,v,O){return d instanceof he?d:A(d)&&typeof d[0]!="object"?d.length===3?new he(d[0],d[1],d[2]):d.length===2?new he(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new he(d.lat,"lng"in d?d.lng:d.lon,d.alt):v===void 0?null:new he(d,v,O)}var Ve={latLngToPoint:function(d,v){var O=this.projection.project(d),q=this.scale(v);return this.transformation._transform(O,q)},pointToLatLng:function(d,v){var O=this.scale(v),q=this.transformation.untransform(d,O);return this.projection.unproject(q)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var v=this.projection.bounds,O=this.scale(d),q=this.transformation.transform(v.min,O),ne=this.transformation.transform(v.max,O);return new X(q,ne)},infinite:!1,wrapLatLng:function(d){var v=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,O=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,q=d.alt;return new he(O,v,q)},wrapLatLngBounds:function(d){var v=d.getCenter(),O=this.wrapLatLng(v),q=v.lat-O.lat,ne=v.lng-O.lng;if(q===0&&ne===0)return d;var _e=d.getSouthWest(),We=d.getNorthEast(),ot=new he(_e.lat-q,_e.lng-ne),yt=new he(We.lat-q,We.lng-ne);return new V(ot,yt)}},Te=i({},Ve,{wrapLng:[-180,180],R:6371e3,distance:function(d,v){var O=Math.PI/180,q=d.lat*O,ne=v.lat*O,_e=Math.sin((v.lat-d.lat)*O/2),We=Math.sin((v.lng-d.lng)*O/2),ot=_e*_e+Math.cos(q)*Math.cos(ne)*We*We,yt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*yt}}),Me=6378137,Ze={R:Me,MAX_LATITUDE:85.0511287798,project:function(d){var v=Math.PI/180,O=this.MAX_LATITUDE,q=Math.max(Math.min(O,d.lat),-O),ne=Math.sin(q*v);return new ue(this.R*d.lng*v,this.R*Math.log((1+ne)/(1-ne))/2)},unproject:function(d){var v=180/Math.PI;return new he((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*v,d.x*v/this.R)},bounds:function(){var d=Me*Math.PI;return new X([-d,-d],[d,d])}()};function ie(d,v,O,q){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=v,this._c=O,this._d=q}ie.prototype={transform:function(d,v){return this._transform(d.clone(),v)},_transform:function(d,v){return v=v||1,d.x=v*(this._a*d.x+this._b),d.y=v*(this._c*d.y+this._d),d},untransform:function(d,v){return v=v||1,new ue((d.x/v-this._b)/this._a,(d.y/v-this._d)/this._c)}};function z(d,v,O,q){return new ie(d,v,O,q)}var $=i({},Te,{code:"EPSG:3857",projection:Ze,transformation:function(){var d=.5/(Math.PI*Ze.R);return z(d,.5,-d,.5)}()}),re=i({},$,{code:"EPSG:900913"});function W(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function pe(d,v){var O="",q,ne,_e,We,ot,yt;for(q=0,_e=d.length;q<_e;q++){for(ot=d[q],ne=0,We=ot.length;ne<We;ne++)yt=ot[ne],O+=(ne?"L":"M")+yt.x+" "+yt.y;O+=v?Ae.svg?"z":"x":""}return O||"M0 0"}var ye=document.documentElement.style,ze="ActiveXObject"in window,Ce=ze&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),tt=Qe("webkit"),nt=Qe("android"),gt=Qe("android 2")||Qe("android 3"),Ut=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&Qe("Google")&&Ut<537&&!("AudioNode"in window),Be=!!window.opera,te=!Fe&&Qe("chrome"),H=Qe("gecko")&&!tt&&!Be&&!ze,G=!te&&Qe("safari"),K=Qe("phantom"),je="OTransition"in ye,Ye=navigator.platform.indexOf("Win")===0,Ne=ze&&"transition"in ye,At="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,Pt="MozPerspective"in ye,kt=!window.L_DISABLE_3D&&(Ne||At||Pt)&&!je&&!K,Rt=typeof orientation<"u"||Qe("mobile"),Bt=Rt&&tt,Er=Rt&&At,fn=!window.PointerEvent&&window.MSPointerEvent,dn=!!(window.PointerEvent||fn),dr="ontouchstart"in window||!!window.TouchEvent,on=!window.L_NO_TOUCH&&(dr||dn),un=Rt&&Be,In=Rt&&H,sr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var d=!1;try{var v=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,v),window.removeEventListener("testPassiveEventSupport",p,v)}catch{}return d}(),qe=function(){return!!document.createElement("canvas").getContext}(),wt=!!(document.createElementNS&&W("svg").createSVGRect),xt=!!wt&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),It=!wt&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var v=d.firstChild;return v.style.behavior="url(#default#VML)",v&&typeof v.adj=="object"}catch{return!1}}(),Bn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Qe(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ae={ie:ze,ielt9:Ce,edge:Fe,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:te,gecko:H,safari:G,phantom:K,opera12:je,win:Ye,ie3d:Ne,webkit3d:At,gecko3d:Pt,any3d:kt,mobile:Rt,mobileWebkit:Bt,mobileWebkit3d:Er,msPointer:fn,pointer:dn,touch:on,touchNative:dr,mobileOpera:un,mobileGecko:In,retina:sr,passiveEvents:Ie,canvas:qe,svg:wt,vml:It,inlineSvg:xt,mac:Bn,linux:Jn},et=Ae.msPointer?"MSPointerDown":"pointerdown",ft=Ae.msPointer?"MSPointerMove":"pointermove",it=Ae.msPointer?"MSPointerUp":"pointerup",Et=Ae.msPointer?"MSPointerCancel":"pointercancel",Lt={touchstart:et,touchmove:ft,touchend:it,touchcancel:Et},Vt={touchstart:$n,touchmove:En,touchend:En,touchcancel:En},Yt={},qt=!1;function Nt(d,v,O){return v==="touchstart"&&xn(),Vt[v]?(O=Vt[v].bind(this,O),d.addEventListener(Lt[v],O,!1),O):(console.warn("wrong event specified:",v),p)}function en(d,v,O){if(!Lt[v]){console.warn("wrong event specified:",v);return}d.removeEventListener(Lt[v],O,!1)}function Rn(d){Yt[d.pointerId]=d}function Kt(d){Yt[d.pointerId]&&(Yt[d.pointerId]=d)}function Qt(d){delete Yt[d.pointerId]}function xn(){qt||(document.addEventListener(et,Rn,!0),document.addEventListener(ft,Kt,!0),document.addEventListener(it,Qt,!0),document.addEventListener(Et,Qt,!0),qt=!0)}function En(d,v){if(v.pointerType!==(v.MSPOINTER_TYPE_MOUSE||"mouse")){v.touches=[];for(var O in Yt)v.touches.push(Yt[O]);v.changedTouches=[v],d(v)}}function $n(d,v){v.MSPOINTER_TYPE_TOUCH&&v.pointerType===v.MSPOINTER_TYPE_TOUCH&&nr(v),En(d,v)}function Tr(d){var v={},O,q;for(q in d)O=d[q],v[q]=O&&O.bind?O.bind(d):O;return d=v,v.type="dblclick",v.detail=2,v.isTrusted=!1,v._simulated=!0,v}var Br=200;function qr(d,v){d.addEventListener("dblclick",v);var O=0,q;function ne(_e){if(_e.detail!==1){q=_e.detail;return}if(!(_e.pointerType==="mouse"||_e.sourceCapabilities&&!_e.sourceCapabilities.firesTouchEvents)){var We=hs(_e);if(!(We.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!We.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var ot=Date.now();ot-O<=Br?(q++,q===2&&v(Tr(_e))):q=1,O=ot}}}return d.addEventListener("click",ne),{dblclick:v,simDblclick:ne}}function Rr(d,v){d.removeEventListener("dblclick",v.dblclick),d.removeEventListener("click",v.simDblclick)}var Nn=st(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Wr=st(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bi=Wr==="webkitTransition"||Wr==="OTransition"?Wr+"End":"transitionend";function C(d){return typeof d=="string"?document.getElementById(d):d}function T(d,v){var O=d.style[v]||d.currentStyle&&d.currentStyle[v];if((!O||O==="auto")&&document.defaultView){var q=document.defaultView.getComputedStyle(d,null);O=q?q[v]:null}return O==="auto"?null:O}function R(d,v,O){var q=document.createElement(d);return q.className=v||"",O&&O.appendChild(q),q}function N(d){var v=d.parentNode;v&&v.removeChild(d)}function Q(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function oe(d){var v=d.parentNode;v&&v.lastChild!==d&&v.appendChild(d)}function we(d){var v=d.parentNode;v&&v.firstChild!==d&&v.insertBefore(d,v.firstChild)}function Le(d,v){if(d.classList!==void 0)return d.classList.contains(v);var O=$e(d);return O.length>0&&new RegExp("(^|\\s)"+v+"(\\s|$)").test(O)}function Ee(d,v){if(d.classList!==void 0)for(var O=_(v),q=0,ne=O.length;q<ne;q++)d.classList.add(O[q]);else if(!Le(d,v)){var _e=$e(d);ke(d,(_e?_e+" ":"")+v)}}function Pe(d,v){d.classList!==void 0?d.classList.remove(v):ke(d,y((" "+$e(d)+" ").replace(" "+v+" "," ")))}function ke(d,v){d.className.baseVal===void 0?d.className=v:d.className.baseVal=v}function $e(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function He(d,v){"opacity"in d.style?d.style.opacity=v:"filter"in d.style&&Xe(d,v)}function Xe(d,v){var O=!1,q="DXImageTransform.Microsoft.Alpha";try{O=d.filters.item(q)}catch{if(v===1)return}v=Math.round(v*100),O?(O.Enabled=v!==100,O.Opacity=v):d.style.filter+=" progid:"+q+"(opacity="+v+")"}function st(d){for(var v=document.documentElement.style,O=0;O<d.length;O++)if(d[O]in v)return d[O];return!1}function dt(d,v,O){var q=v||new ue(0,0);d.style[Nn]=(Ae.ie3d?"translate("+q.x+"px,"+q.y+"px)":"translate3d("+q.x+"px,"+q.y+"px,0)")+(O?" scale("+O+")":"")}function ut(d,v){d._leaflet_pos=v,Ae.any3d?dt(d,v):(d.style.left=v.x+"px",d.style.top=v.y+"px")}function be(d){return d._leaflet_pos||new ue(0,0)}var De,Ue,Ge;if("onselectstart"in document)De=function(){Wt(window,"selectstart",nr)},Ue=function(){hn(window,"selectstart",nr)};else{var lt=st(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var d=document.documentElement.style;Ge=d[lt],d[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ge,Ge=void 0)}}function mt(){Wt(window,"dragstart",nr)}function Ft(){hn(window,"dragstart",nr)}var Tt,pn;function Dt(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Ht(),Tt=d,pn=d.style.outlineStyle,d.style.outlineStyle="none",Wt(window,"keydown",Ht))}function Ht(){Tt&&(Tt.style.outlineStyle=pn,Tt=void 0,pn=void 0,hn(window,"keydown",Ht))}function Un(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Mn(d){var v=d.getBoundingClientRect();return{x:v.width/d.offsetWidth||1,y:v.height/d.offsetHeight||1,boundingClientRect:v}}var Fn={__proto__:null,TRANSFORM:Nn,TRANSITION:Wr,TRANSITION_END:Bi,get:C,getStyle:T,create:R,remove:N,empty:Q,toFront:oe,toBack:we,hasClass:Le,addClass:Ee,removeClass:Pe,setClass:ke,getClass:$e,setOpacity:He,testProp:st,setTransform:dt,setPosition:ut,getPosition:be,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:Ft,preventOutline:Dt,restoreOutline:Ht,getSizedParentNode:Un,getScale:Mn};function Wt(d,v,O,q){if(v&&typeof v=="object")for(var ne in v)pr(d,ne,v[ne],O);else{v=_(v);for(var _e=0,We=v.length;_e<We;_e++)pr(d,v[_e],O,q)}return this}var Kn="_leaflet_events";function hn(d,v,O,q){if(arguments.length===1)Yn(d),delete d[Kn];else if(v&&typeof v=="object")for(var ne in v)or(d,ne,v[ne],O);else if(v=_(v),arguments.length===2)Yn(d,function(ot){return k(v,ot)!==-1});else for(var _e=0,We=v.length;_e<We;_e++)or(d,v[_e],O,q);return this}function Yn(d,v){for(var O in d[Kn]){var q=O.split(/\d/)[0];(!v||v(q))&&or(d,q,null,null,O)}}var hr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pr(d,v,O,q){var ne=v+l(O)+(q?"_"+l(q):"");if(d[Kn]&&d[Kn][ne])return this;var _e=function(ot){return O.call(q||d,ot||window.event)},We=_e;!Ae.touchNative&&Ae.pointer&&v.indexOf("touch")===0?_e=Nt(d,v,_e):Ae.touch&&v==="dblclick"?_e=qr(d,_e):"addEventListener"in d?v==="touchstart"||v==="touchmove"||v==="wheel"||v==="mousewheel"?d.addEventListener(hr[v]||v,_e,Ae.passiveEvents?{passive:!1}:!1):v==="mouseenter"||v==="mouseleave"?(_e=function(ot){ot=ot||window.event,Hi(d,ot)&&We(ot)},d.addEventListener(hr[v],_e,!1)):d.addEventListener(v,We,!1):d.attachEvent("on"+v,_e),d[Kn]=d[Kn]||{},d[Kn][ne]=_e}function or(d,v,O,q,ne){ne=ne||v+l(O)+(q?"_"+l(q):"");var _e=d[Kn]&&d[Kn][ne];if(!_e)return this;!Ae.touchNative&&Ae.pointer&&v.indexOf("touch")===0?en(d,v,_e):Ae.touch&&v==="dblclick"?Rr(d,_e):"removeEventListener"in d?d.removeEventListener(hr[v]||v,_e,!1):d.detachEvent("on"+v,_e),d[Kn][ne]=null}function yi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function qi(d){return pr(d,"wheel",yi),this}function la(d){return Wt(d,"mousedown touchstart dblclick contextmenu",yi),d._leaflet_disable_click=!0,this}function nr(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function Ii(d){return nr(d),yi(d),this}function hs(d){if(d.composedPath)return d.composedPath();for(var v=[],O=d.target;O;)v.push(O),O=O.parentNode;return v}function rr(d,v){if(!v)return new ue(d.clientX,d.clientY);var O=Mn(v),q=O.boundingClientRect;return new ue((d.clientX-q.left)/O.x-v.clientLeft,(d.clientY-q.top)/O.y-v.clientTop)}var Lr=Ae.linux&&Ae.chrome?window.devicePixelRatio:Ae.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ka(d){return Ae.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Lr:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Hi(d,v){var O=v.relatedTarget;if(!O)return!0;try{for(;O&&O!==d;)O=O.parentNode}catch{return!1}return O!==d}var _u={__proto__:null,on:Wt,off:hn,stopPropagation:yi,disableScrollPropagation:qi,disableClickPropagation:la,preventDefault:nr,stop:Ii,getPropagationPath:hs,getMousePosition:rr,getWheelDelta:Ka,isExternalTarget:Hi,addListener:Wt,removeListener:hn},Ga=fe.extend({run:function(d,v,O,q){this.stop(),this._el=d,this._inProgress=!0,this._duration=O||.25,this._easeOutPower=1/Math.max(q||.5,.2),this._startPos=be(d),this._offset=v.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(d){var v=+new Date-this._startTime,O=this._duration*1e3;v<O?this._runFrame(this._easeOut(v/O),d):(this._runFrame(1),this._complete())},_runFrame:function(d,v){var O=this._startPos.add(this._offset.multiplyBy(d));v&&O._round(),ut(this._el,O),this.fire("step")},_complete:function(){le(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),yn=fe.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,v){v=x(this,v),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),v.maxBounds&&this.setMaxBounds(v.maxBounds),v.zoom!==void 0&&(this._zoom=this._limitZoom(v.zoom)),v.center&&v.zoom!==void 0&&this.setView(xe(v.center),v.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Wr&&Ae.any3d&&!Ae.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Wt(this._proxy,Bi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,v,O){if(v=v===void 0?this._zoom:this._limitZoom(v),d=this._limitCenter(xe(d),v,this.options.maxBounds),O=O||{},this._stop(),this._loaded&&!O.reset&&O!==!0){O.animate!==void 0&&(O.zoom=i({animate:O.animate},O.zoom),O.pan=i({animate:O.animate,duration:O.duration},O.pan));var q=this._zoom!==v?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,v,O.zoom):this._tryAnimatedPan(d,O.pan);if(q)return clearTimeout(this._sizeTimer),this}return this._resetView(d,v,O.pan&&O.pan.noMoveStart),this},setZoom:function(d,v){return this._loaded?this.setView(this.getCenter(),d,{zoom:v}):(this._zoom=d,this)},zoomIn:function(d,v){return d=d||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,v)},zoomOut:function(d,v){return d=d||(Ae.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,v)},setZoomAround:function(d,v,O){var q=this.getZoomScale(v),ne=this.getSize().divideBy(2),_e=d instanceof ue?d:this.latLngToContainerPoint(d),We=_e.subtract(ne).multiplyBy(1-1/q),ot=this.containerPointToLatLng(ne.add(We));return this.setView(ot,v,{zoom:O})},_getBoundsCenterZoom:function(d,v){v=v||{},d=d.getBounds?d.getBounds():Z(d);var O=D(v.paddingTopLeft||v.padding||[0,0]),q=D(v.paddingBottomRight||v.padding||[0,0]),ne=this.getBoundsZoom(d,!1,O.add(q));if(ne=typeof v.maxZoom=="number"?Math.min(v.maxZoom,ne):ne,ne===1/0)return{center:d.getCenter(),zoom:ne};var _e=q.subtract(O).divideBy(2),We=this.project(d.getSouthWest(),ne),ot=this.project(d.getNorthEast(),ne),yt=this.unproject(We.add(ot).divideBy(2).add(_e),ne);return{center:yt,zoom:ne}},fitBounds:function(d,v){if(d=Z(d),!d.isValid())throw new Error("Bounds are not valid.");var O=this._getBoundsCenterZoom(d,v);return this.setView(O.center,O.zoom,v)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,v){return this.setView(d,this._zoom,{pan:v})},panBy:function(d,v){if(d=D(d).round(),v=v||{},!d.x&&!d.y)return this.fire("moveend");if(v.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ga,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),v.noMoveStart||this.fire("movestart"),v.animate!==!1){Ee(this._mapPane,"leaflet-pan-anim");var O=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,O,v.duration||.25,v.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,v,O){if(O=O||{},O.animate===!1||!Ae.any3d)return this.setView(d,v,O);this._stop();var q=this.project(this.getCenter()),ne=this.project(d),_e=this.getSize(),We=this._zoom;d=xe(d),v=v===void 0?We:v;var ot=Math.max(_e.x,_e.y),yt=ot*this.getZoomScale(We,v),bt=ne.distanceTo(q)||1,jt=1.42,nn=jt*jt;function gn(vr){var Ro=vr?-1:1,$l=vr?yt:ot,df=yt*yt-ot*ot+Ro*nn*nn*bt*bt,Gm=2*$l*nn*bt,hf=df/Gm,qs=Math.sqrt(hf*hf+1)-hf,Wm=qs<1e-9?-18:Math.log(qs);return Wm}function Hr(vr){return(Math.exp(vr)-Math.exp(-vr))/2}function Ar(vr){return(Math.exp(vr)+Math.exp(-vr))/2}function fi(vr){return Hr(vr)/Ar(vr)}var vi=gn(0);function Bs(vr){return ot*(Ar(vi)/Ar(vi+jt*vr))}function zm(vr){return ot*(Ar(vi)*fi(vi+jt*vr)-Hr(vi))/nn}function ff(vr){return 1-Math.pow(1-vr,1.5)}var Vm=Date.now(),Ou=(gn(1)-vi)/jt,Km=O.duration?1e3*O.duration:1e3*Ou*.8;function Ao(){var vr=(Date.now()-Vm)/Km,Ro=ff(vr)*Ou;vr<=1?(this._flyToFrame=J(Ao,this),this._move(this.unproject(q.add(ne.subtract(q).multiplyBy(zm(Ro)/bt)),We),this.getScaleZoom(ot/Bs(Ro),We),{flyTo:!0})):this._move(d,v)._moveEnd(!0)}return this._moveStart(!0,O.noMoveStart),Ao.call(this),this},flyToBounds:function(d,v){var O=this._getBoundsCenterZoom(d,v);return this.flyTo(O.center,O.zoom,v)},setMaxBounds:function(d){return d=Z(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var v=this.options.minZoom;return this.options.minZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var v=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&v!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,v){this._enforcingBounds=!0;var O=this.getCenter(),q=this._limitCenter(O,this._zoom,Z(d));return O.equals(q)||this.panTo(q,v),this._enforcingBounds=!1,this},panInside:function(d,v){v=v||{};var O=D(v.paddingTopLeft||v.padding||[0,0]),q=D(v.paddingBottomRight||v.padding||[0,0]),ne=this.project(this.getCenter()),_e=this.project(d),We=this.getPixelBounds(),ot=ce([We.min.add(O),We.max.subtract(q)]),yt=ot.getSize();if(!ot.contains(_e)){this._enforcingBounds=!0;var bt=_e.subtract(ot.getCenter()),jt=ot.extend(_e).getSize().subtract(yt);ne.x+=bt.x<0?-jt.x:jt.x,ne.y+=bt.y<0?-jt.y:jt.y,this.panTo(this.unproject(ne),v),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var v=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var O=this.getSize(),q=v.divideBy(2).round(),ne=O.divideBy(2).round(),_e=q.subtract(ne);return!_e.x&&!_e.y?this:(d.animate&&d.pan?this.panBy(_e):(d.pan&&this._rawPanBy(_e),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:v,newSize:O}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var v=s(this._handleGeolocationResponse,this),O=s(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(v,O,d):navigator.geolocation.getCurrentPosition(v,O,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var v=d.code,O=d.message||(v===1?"permission denied":v===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:v,message:"Geolocation error: "+O+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var v=d.coords.latitude,O=d.coords.longitude,q=new he(v,O),ne=q.toBounds(d.coords.accuracy*2),_e=this._locateOptions;if(_e.setView){var We=this.getBoundsZoom(ne);this.setView(q,_e.maxZoom?Math.min(We,_e.maxZoom):We)}var ot={latlng:q,bounds:ne,timestamp:d.timestamp};for(var yt in d.coords)typeof d.coords[yt]=="number"&&(ot[yt]=d.coords[yt]);this.fire("locationfound",ot)}},addHandler:function(d,v){if(!v)return this;var O=this[d]=new v(this);return this._handlers.push(O),this.options[d]&&O.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(le(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)N(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,v){var O="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),q=R("div",O,v||this._mapPane);return d&&(this._panes[d]=q),q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),v=this.unproject(d.getBottomLeft()),O=this.unproject(d.getTopRight());return new V(v,O)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,v,O){d=Z(d),O=D(O||[0,0]);var q=this.getZoom()||0,ne=this.getMinZoom(),_e=this.getMaxZoom(),We=d.getNorthWest(),ot=d.getSouthEast(),yt=this.getSize().subtract(O),bt=ce(this.project(ot,q),this.project(We,q)).getSize(),jt=Ae.any3d?this.options.zoomSnap:1,nn=yt.x/bt.x,gn=yt.y/bt.y,Hr=v?Math.max(nn,gn):Math.min(nn,gn);return q=this.getScaleZoom(Hr,q),jt&&(q=Math.round(q/(jt/100))*(jt/100),q=v?Math.ceil(q/jt)*jt:Math.floor(q/jt)*jt),Math.max(ne,Math.min(_e,q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ue(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,v){var O=this._getTopLeftPoint(d,v);return new X(O,O.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,v){var O=this.options.crs;return v=v===void 0?this._zoom:v,O.scale(d)/O.scale(v)},getScaleZoom:function(d,v){var O=this.options.crs;v=v===void 0?this._zoom:v;var q=O.zoom(d*O.scale(v));return isNaN(q)?1/0:q},project:function(d,v){return v=v===void 0?this._zoom:v,this.options.crs.latLngToPoint(xe(d),v)},unproject:function(d,v){return v=v===void 0?this._zoom:v,this.options.crs.pointToLatLng(D(d),v)},layerPointToLatLng:function(d){var v=D(d).add(this.getPixelOrigin());return this.unproject(v)},latLngToLayerPoint:function(d){var v=this.project(xe(d))._round();return v._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(xe(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(Z(d))},distance:function(d,v){return this.options.crs.distance(xe(d),xe(v))},containerPointToLayerPoint:function(d){return D(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return D(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var v=this.containerPointToLayerPoint(D(d));return this.layerPointToLatLng(v)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(d)))},mouseEventToContainerPoint:function(d){return rr(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var v=this._container=C(d);if(v){if(v._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Wt(v,"scroll",this._onScroll,this),this._containerId=l(v)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ae.any3d,Ee(d,"leaflet-container"+(Ae.touch?" leaflet-touch":"")+(Ae.retina?" leaflet-retina":"")+(Ae.ielt9?" leaflet-oldie":"")+(Ae.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var v=T(d,"position");v!=="absolute"&&v!=="relative"&&v!=="fixed"&&v!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new ue(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ee(d.markerPane,"leaflet-zoom-hide"),Ee(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,v,O){ut(this._mapPane,new ue(0,0));var q=!this._loaded;this._loaded=!0,v=this._limitZoom(v),this.fire("viewprereset");var ne=this._zoom!==v;this._moveStart(ne,O)._move(d,v)._moveEnd(ne),this.fire("viewreset"),q&&this.fire("load")},_moveStart:function(d,v){return d&&this.fire("zoomstart"),v||this.fire("movestart"),this},_move:function(d,v,O,q){v===void 0&&(v=this._zoom);var ne=this._zoom!==v;return this._zoom=v,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),q?O&&O.pinch&&this.fire("zoom",O):((ne||O&&O.pinch)&&this.fire("zoom",O),this.fire("move",O)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return le(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[l(this._container)]=this;var v=d?hn:Wt;v(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&v(window,"resize",this._onResize,this),Ae.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){le(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,v){for(var O=[],q,ne=v==="mouseout"||v==="mouseover",_e=d.target||d.srcElement,We=!1;_e;){if(q=this._targets[l(_e)],q&&(v==="click"||v==="preclick")&&this._draggableMoved(q)){We=!0;break}if(q&&q.listens(v,!0)&&(ne&&!Hi(_e,d)||(O.push(q),ne))||_e===this._container)break;_e=_e.parentNode}return!O.length&&!We&&!ne&&this.listens(v,!0)&&(O=[this]),O},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var v=d.target||d.srcElement;if(!(!this._loaded||v._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(v))){var O=d.type;O==="mousedown"&&Dt(v),this._fireDOMEvent(d,O)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,v,O){if(d.type==="click"){var q=i({},d);q.type="preclick",this._fireDOMEvent(q,q.type,O)}var ne=this._findEventTargets(d,v);if(O){for(var _e=[],We=0;We<O.length;We++)O[We].listens(v,!0)&&_e.push(O[We]);ne=_e.concat(ne)}if(ne.length){v==="contextmenu"&&nr(d);var ot=ne[0],yt={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var bt=ot.getLatLng&&(!ot._radius||ot._radius<=10);yt.containerPoint=bt?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(d),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=bt?ot.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(We=0;We<ne.length;We++)if(ne[We].fire(v,yt,!0),yt.originalEvent._stopped||ne[We].options.bubblingMouseEvents===!1&&k(this._mouseEvents,v)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,v=this._handlers.length;d<v;d++)this._handlers[d].disable()},whenReady:function(d,v){return this._loaded?d.call(v||this,{target:this}):this.on("load",d,v),this},_getMapPanePos:function(){return be(this._mapPane)||new ue(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,v){var O=d&&v!==void 0?this._getNewPixelOrigin(d,v):this.getPixelOrigin();return O.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,v){var O=this.getSize()._divideBy(2);return this.project(d,v)._subtract(O)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,v,O){var q=this._getNewPixelOrigin(O,v);return this.project(d,v)._subtract(q)},_latLngBoundsToNewLayerBounds:function(d,v,O){var q=this._getNewPixelOrigin(O,v);return ce([this.project(d.getSouthWest(),v)._subtract(q),this.project(d.getNorthWest(),v)._subtract(q),this.project(d.getSouthEast(),v)._subtract(q),this.project(d.getNorthEast(),v)._subtract(q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,v,O){if(!O)return d;var q=this.project(d,v),ne=this.getSize().divideBy(2),_e=new X(q.subtract(ne),q.add(ne)),We=this._getBoundsOffset(_e,O,v);return Math.abs(We.x)<=1&&Math.abs(We.y)<=1?d:this.unproject(q.add(We),v)},_limitOffset:function(d,v){if(!v)return d;var O=this.getPixelBounds(),q=new X(O.min.add(d),O.max.add(d));return d.add(this._getBoundsOffset(q,v))},_getBoundsOffset:function(d,v,O){var q=ce(this.project(v.getNorthEast(),O),this.project(v.getSouthWest(),O)),ne=q.min.subtract(d.min),_e=q.max.subtract(d.max),We=this._rebound(ne.x,-_e.x),ot=this._rebound(ne.y,-_e.y);return new ue(We,ot)},_rebound:function(d,v){return d+v>0?Math.round(d-v)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(v))},_limitZoom:function(d){var v=this.getMinZoom(),O=this.getMaxZoom(),q=Ae.any3d?this.options.zoomSnap:1;return q&&(d=Math.round(d/q)*q),Math.max(v,Math.min(O,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,v){var O=this._getCenterOffset(d)._trunc();return(v&&v.animate)!==!0&&!this.getSize().contains(O)?!1:(this.panBy(O,v),!0)},_createAnimProxy:function(){var d=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(v){var O=Nn,q=this._proxy.style[O];dt(this._proxy,this.project(v.center,v.zoom),this.getZoomScale(v.zoom,1)),q===this._proxy.style[O]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),v=this.getZoom();dt(this._proxy,this.project(d,v),this.getZoomScale(v,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,v,O){if(this._animatingZoom)return!0;if(O=O||{},!this._zoomAnimated||O.animate===!1||this._nothingToAnimate()||Math.abs(v-this._zoom)>this.options.zoomAnimationThreshold)return!1;var q=this.getZoomScale(v),ne=this._getCenterOffset(d)._divideBy(1-1/q);return O.animate!==!0&&!this.getSize().contains(ne)?!1:(J(function(){this._moveStart(!0,O.noMoveStart||!1)._animateZoom(d,v,!0)},this),!0)},_animateZoom:function(d,v,O,q){this._mapPane&&(O&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=v,Ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:v,noUpdate:q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ta(d,v){return new yn(d,v)}var ur=se.extend({options:{position:"topright"},initialize:function(d){x(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var v=this._map;return v&&v.removeControl(this),this.options.position=d,v&&v.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var v=this._container=this.onAdd(d),O=this.getPosition(),q=d._controlCorners[O];return Ee(v,"leaflet-control"),O.indexOf("bottom")!==-1?q.insertBefore(v,q.firstChild):q.appendChild(v),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),Li=function(d){return new ur(d)};yn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},v="leaflet-",O=this._controlContainer=R("div",v+"control-container",this._container);function q(ne,_e){var We=v+ne+" "+v+_e;d[ne+_e]=R("div",We,O)}q("top","left"),q("top","right"),q("bottom","left"),q("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)N(this._controlCorners[d]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ca=ur.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,v,O,q){return O<q?-1:q<O?1:0}},initialize:function(d,v,O){x(this,O),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var q in d)this._addLayer(d[q],q);for(q in v)this._addLayer(v[q],q,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var v=0;v<this._layers.length;v++)this._layers[v].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return ur.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,v){return this._addLayer(d,v),this._map?this._update():this},addOverlay:function(d,v){return this._addLayer(d,v,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var v=this._getLayer(l(d));return v&&this._layers.splice(this._layers.indexOf(v),1),this._map?this._update():this},expand:function(){Ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(Ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",v=this._container=R("div",d),O=this.options.collapsed;v.setAttribute("aria-haspopup",!0),la(v),qi(v);var q=this._section=R("section",d+"-list");O&&(this._map.on("click",this.collapse,this),Wt(v,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ne=this._layersLink=R("a",d+"-toggle",v);ne.href="#",ne.title="Layers",ne.setAttribute("role","button"),Wt(ne,{keydown:function(_e){_e.keyCode===13&&this._expandSafely()},click:function(_e){nr(_e),this._expandSafely()}},this),O||this.expand(),this._baseLayersList=R("div",d+"-base",q),this._separator=R("div",d+"-separator",q),this._overlaysList=R("div",d+"-overlays",q),v.appendChild(q)},_getLayer:function(d){for(var v=0;v<this._layers.length;v++)if(this._layers[v]&&l(this._layers[v].layer)===d)return this._layers[v]},_addLayer:function(d,v,O){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:v,overlay:O}),this.options.sortLayers&&this._layers.sort(s(function(q,ne){return this.options.sortFunction(q.layer,ne.layer,q.name,ne.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Q(this._baseLayersList),Q(this._overlaysList),this._layerControlInputs=[];var d,v,O,q,ne=0;for(O=0;O<this._layers.length;O++)q=this._layers[O],this._addItem(q),v=v||q.overlay,d=d||!q.overlay,ne+=q.overlay?0:1;return this.options.hideSingleBase&&(d=d&&ne>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=v&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var v=this._getLayer(l(d.target)),O=v.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;O&&this._map.fire(O,v)},_createRadioElement:function(d,v){var O='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(v?' checked="checked"':"")+"/>",q=document.createElement("div");return q.innerHTML=O,q.firstChild},_addItem:function(d){var v=document.createElement("label"),O=this._map.hasLayer(d.layer),q;d.overlay?(q=document.createElement("input"),q.type="checkbox",q.className="leaflet-control-layers-selector",q.defaultChecked=O):q=this._createRadioElement("leaflet-base-layers_"+l(this),O),this._layerControlInputs.push(q),q.layerId=l(d.layer),Wt(q,"click",this._onInputClick,this);var ne=document.createElement("span");ne.innerHTML=" "+d.name;var _e=document.createElement("span");v.appendChild(_e),_e.appendChild(q),_e.appendChild(ne);var We=d.overlay?this._overlaysList:this._baseLayersList;return We.appendChild(v),this._checkDisabledLayers(),v},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,v,O,q=[],ne=[];this._handlingClick=!0;for(var _e=d.length-1;_e>=0;_e--)v=d[_e],O=this._getLayer(v.layerId).layer,v.checked?q.push(O):v.checked||ne.push(O);for(_e=0;_e<ne.length;_e++)this._map.hasLayer(ne[_e])&&this._map.removeLayer(ne[_e]);for(_e=0;_e<q.length;_e++)this._map.hasLayer(q[_e])||this._map.addLayer(q[_e]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,v,O,q=this._map.getZoom(),ne=d.length-1;ne>=0;ne--)v=d[ne],O=this._getLayer(v.layerId).layer,v.disabled=O.options.minZoom!==void 0&&q<O.options.minZoom||O.options.maxZoom!==void 0&&q>O.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Wt(d,"click",nr),this.expand();var v=this;setTimeout(function(){hn(d,"click",nr),v._preventClick=!1})}}),lr=function(d,v,O){return new ca(d,v,O)},zi=ur.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var v="leaflet-control-zoom",O=R("div",v+" leaflet-bar"),q=this.options;return this._zoomInButton=this._createButton(q.zoomInText,q.zoomInTitle,v+"-in",O,this._zoomIn),this._zoomOutButton=this._createButton(q.zoomOutText,q.zoomOutTitle,v+"-out",O,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),O},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,v,O,q,ne){var _e=R("a",O,q);return _e.innerHTML=d,_e.href="#",_e.title=v,_e.setAttribute("role","button"),_e.setAttribute("aria-label",v),la(_e),Wt(_e,"click",Ii),Wt(_e,"click",ne,this),Wt(_e,"click",this._refocusOnMap,this),_e},_updateDisabled:function(){var d=this._map,v="leaflet-disabled";Pe(this._zoomInButton,v),Pe(this._zoomOutButton,v),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(Ee(this._zoomOutButton,v),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(Ee(this._zoomInButton,v),this._zoomInButton.setAttribute("aria-disabled","true"))}});yn.mergeOptions({zoomControl:!0}),yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zi,this.addControl(this.zoomControl))});var Wa=function(d){return new zi(d)},Cr=ur.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var v="leaflet-control-scale",O=R("div",v),q=this.options;return this._addScales(q,v+"-line",O),d.on(q.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),O},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,v,O){d.metric&&(this._mScale=R("div",v,O)),d.imperial&&(this._iScale=R("div",v,O))},_update:function(){var d=this._map,v=d.getSize().y/2,O=d.distance(d.containerPointToLatLng([0,v]),d.containerPointToLatLng([this.options.maxWidth,v]));this._updateScales(O)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var v=this._getRoundNum(d),O=v<1e3?v+" m":v/1e3+" km";this._updateScale(this._mScale,O,v/d)},_updateImperial:function(d){var v=d*3.2808399,O,q,ne;v>5280?(O=v/5280,q=this._getRoundNum(O),this._updateScale(this._iScale,q+" mi",q/O)):(ne=this._getRoundNum(v),this._updateScale(this._iScale,ne+" ft",ne/v))},_updateScale:function(d,v,O){d.style.width=Math.round(this.options.maxWidth*O)+"px",d.innerHTML=v},_getRoundNum:function(d){var v=Math.pow(10,(Math.floor(d)+"").length-1),O=d/v;return O=O>=10?10:O>=5?5:O>=3?3:O>=2?2:1,v*O}}),Al=function(d){return new Cr(d)},ps='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ca=ur.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ae.inlineSvg?ps+" ":"")+"Leaflet</a>"},initialize:function(d){x(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=R("div","leaflet-control-attribution"),la(this._container);for(var v in d._layers)d._layers[v].getAttribution&&this.addAttribution(d._layers[v].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var v in this._attributions)this._attributions[v]&&d.push(v);var O=[];this.options.prefix&&O.push(this.options.prefix),d.length&&O.push(d.join(", ")),this._container.innerHTML=O.join(' <span aria-hidden="true">|</span> ')}}});yn.mergeOptions({attributionControl:!0}),yn.addInitHook(function(){this.options.attributionControl&&new Ca().addTo(this)});var th=function(d){return new Ca(d)};ur.Layers=ca,ur.Zoom=zi,ur.Scale=Cr,ur.Attribution=Ca,Li.layers=lr,Li.zoom=Wa,Li.scale=Al,Li.attribution=th;var Vi=se.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vi.addTo=function(d,v){return d.addHandler(v,this),this};var ef={Events:ve},Rm=Ae.touch?"touchstart mousedown":"mousedown",Us=fe.extend({options:{clickTolerance:3},initialize:function(d,v,O,q){x(this,q),this._element=d,this._dragStartTarget=v||d,this._preventOutline=O},enable:function(){this._enabled||(Wt(this._dragStartTarget,Rm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Us._dragging===this&&this.finishDrag(!0),hn(this._dragStartTarget,Rm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Le(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Us._dragging===this&&this.finishDrag();return}if(!(Us._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Us._dragging=this,this._preventOutline&&Dt(this._element),mt(),De(),!this._moving)){this.fire("down");var v=d.touches?d.touches[0]:d,O=Un(this._element);this._startPoint=new ue(v.clientX,v.clientY),this._startPos=be(this._element),this._parentScale=Mn(O);var q=d.type==="mousedown";Wt(document,q?"mousemove":"touchmove",this._onMove,this),Wt(document,q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var v=d.touches&&d.touches.length===1?d.touches[0]:d,O=new ue(v.clientX,v.clientY)._subtract(this._startPoint);!O.x&&!O.y||Math.abs(O.x)+Math.abs(O.y)<this.options.clickTolerance||(O.x/=this._parentScale.x,O.y/=this._parentScale.y,nr(d),this._moved||(this.fire("dragstart"),this._moved=!0,Ee(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(O),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),hn(document,"mousemove touchmove",this._onMove,this),hn(document,"mouseup touchend touchcancel",this._onUp,this),Ft(),Ue();var v=this._moved&&this._moving;this._moving=!1,Us._dragging=!1,v&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function Om(d,v,O){var q,ne=[1,4,2,8],_e,We,ot,yt,bt,jt,nn,gn;for(_e=0,jt=d.length;_e<jt;_e++)d[_e]._code=mo(d[_e],v);for(ot=0;ot<4;ot++){for(nn=ne[ot],q=[],_e=0,jt=d.length,We=jt-1;_e<jt;We=_e++)yt=d[_e],bt=d[We],yt._code&nn?bt._code&nn||(gn=nf(bt,yt,nn,v,O),gn._code=mo(gn,v),q.push(gn)):(bt._code&nn&&(gn=nf(bt,yt,nn,v,O),gn._code=mo(gn,v),q.push(gn)),q.push(yt));d=q}return d}function tf(d,v){var O,q,ne,_e,We,ot,yt,bt,jt;if(!d||d.length===0)throw new Error("latlngs not passed");li(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var nn=xe([0,0]),gn=Z(d),Hr=gn.getNorthWest().distanceTo(gn.getSouthWest())*gn.getNorthEast().distanceTo(gn.getNorthWest());Hr<1700&&(nn=nh(d));var Ar=d.length,fi=[];for(O=0;O<Ar;O++){var vi=xe(d[O]);fi.push(v.project(xe([vi.lat-nn.lat,vi.lng-nn.lng])))}for(ot=yt=bt=0,O=0,q=Ar-1;O<Ar;q=O++)ne=fi[O],_e=fi[q],We=ne.y*_e.x-_e.y*ne.x,yt+=(ne.x+_e.x)*We,bt+=(ne.y+_e.y)*We,ot+=We*3;ot===0?jt=fi[0]:jt=[yt/ot,bt/ot];var Bs=v.unproject(D(jt));return xe([Bs.lat+nn.lat,Bs.lng+nn.lng])}function nh(d){for(var v=0,O=0,q=0,ne=0;ne<d.length;ne++){var _e=xe(d[ne]);v+=_e.lat,O+=_e.lng,q++}return xe([v/q,O/q])}var ow={__proto__:null,clipPolygon:Om,polygonCenter:tf,centroid:nh};function Pm(d,v){if(!v||!d.length)return d.slice();var O=v*v;return d=cw(d,O),d=lw(d,O),d}function rh(d,v,O){return Math.sqrt(yo(d,v,O,!0))}function uw(d,v,O){return yo(d,v,O)}function lw(d,v){var O=d.length,q=typeof Uint8Array<"u"?Uint8Array:Array,ne=new q(O);ne[0]=ne[O-1]=1,ih(d,ne,v,0,O-1);var _e,We=[];for(_e=0;_e<O;_e++)ne[_e]&&We.push(d[_e]);return We}function ih(d,v,O,q,ne){var _e=0,We,ot,yt;for(ot=q+1;ot<=ne-1;ot++)yt=yo(d[ot],d[q],d[ne],!0),yt>_e&&(We=ot,_e=yt);_e>O&&(v[We]=1,ih(d,v,O,q,We),ih(d,v,O,We,ne))}function cw(d,v){for(var O=[d[0]],q=1,ne=0,_e=d.length;q<_e;q++)fw(d[q],d[ne])>v&&(O.push(d[q]),ne=q);return ne<_e-1&&O.push(d[_e-1]),O}var Im;function Lm(d,v,O,q,ne){var _e=q?Im:mo(d,O),We=mo(v,O),ot,yt,bt;for(Im=We;;){if(!(_e|We))return[d,v];if(_e&We)return!1;ot=_e||We,yt=nf(d,v,ot,O,ne),bt=mo(yt,O),ot===_e?(d=yt,_e=bt):(v=yt,We=bt)}}function nf(d,v,O,q,ne){var _e=v.x-d.x,We=v.y-d.y,ot=q.min,yt=q.max,bt,jt;return O&8?(bt=d.x+_e*(yt.y-d.y)/We,jt=yt.y):O&4?(bt=d.x+_e*(ot.y-d.y)/We,jt=ot.y):O&2?(bt=yt.x,jt=d.y+We*(yt.x-d.x)/_e):O&1&&(bt=ot.x,jt=d.y+We*(ot.x-d.x)/_e),new ue(bt,jt,ne)}function mo(d,v){var O=0;return d.x<v.min.x?O|=1:d.x>v.max.x&&(O|=2),d.y<v.min.y?O|=4:d.y>v.max.y&&(O|=8),O}function fw(d,v){var O=v.x-d.x,q=v.y-d.y;return O*O+q*q}function yo(d,v,O,q){var ne=v.x,_e=v.y,We=O.x-ne,ot=O.y-_e,yt=We*We+ot*ot,bt;return yt>0&&(bt=((d.x-ne)*We+(d.y-_e)*ot)/yt,bt>1?(ne=O.x,_e=O.y):bt>0&&(ne+=We*bt,_e+=ot*bt)),We=d.x-ne,ot=d.y-_e,q?We*We+ot*ot:new ue(ne,_e)}function li(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Mm(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),li(d)}function ah(d,v){var O,q,ne,_e,We,ot,yt,bt;if(!d||d.length===0)throw new Error("latlngs not passed");li(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var jt=xe([0,0]),nn=Z(d),gn=nn.getNorthWest().distanceTo(nn.getSouthWest())*nn.getNorthEast().distanceTo(nn.getNorthWest());gn<1700&&(jt=nh(d));var Hr=d.length,Ar=[];for(O=0;O<Hr;O++){var fi=xe(d[O]);Ar.push(v.project(xe([fi.lat-jt.lat,fi.lng-jt.lng])))}for(O=0,q=0;O<Hr-1;O++)q+=Ar[O].distanceTo(Ar[O+1])/2;if(q===0)bt=Ar[0];else for(O=0,_e=0;O<Hr-1;O++)if(We=Ar[O],ot=Ar[O+1],ne=We.distanceTo(ot),_e+=ne,_e>q){yt=(_e-q)/ne,bt=[ot.x-yt*(ot.x-We.x),ot.y-yt*(ot.y-We.y)];break}var vi=v.unproject(D(bt));return xe([vi.lat+jt.lat,vi.lng+jt.lng])}var km={__proto__:null,simplify:Pm,pointToSegmentDistance:rh,closestPointOnSegment:uw,clipSegment:Lm,_getEdgeIntersection:nf,_getBitCode:mo,_sqClosestPointOnSegment:yo,isFlat:li,_flat:Mm,polylineCenter:ah},rf={project:function(d){return new ue(d.lng,d.lat)},unproject:function(d){return new he(d.y,d.x)},bounds:new X([-180,-90],[180,90])},af={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var v=Math.PI/180,O=this.R,q=d.lat*v,ne=this.R_MINOR/O,_e=Math.sqrt(1-ne*ne),We=_e*Math.sin(q),ot=Math.tan(Math.PI/4-q/2)/Math.pow((1-We)/(1+We),_e/2);return q=-O*Math.log(Math.max(ot,1e-10)),new ue(d.lng*v*O,q)},unproject:function(d){for(var v=180/Math.PI,O=this.R,q=this.R_MINOR/O,ne=Math.sqrt(1-q*q),_e=Math.exp(-d.y/O),We=Math.PI/2-2*Math.atan(_e),ot=0,yt=.1,bt;ot<15&&Math.abs(yt)>1e-7;ot++)bt=ne*Math.sin(We),bt=Math.pow((1-bt)/(1+bt),ne/2),yt=Math.PI/2-2*Math.atan(_e*bt)-We,We+=yt;return new he(We*v,d.x*v/O)}},Dm={__proto__:null,LonLat:rf,Mercator:af,SphericalMercator:Ze},wu=i({},Te,{code:"EPSG:3395",projection:af,transformation:function(){var d=.5/(Math.PI*af.R);return z(d,.5,-d,.5)}()}),Nm=i({},Te,{code:"EPSG:4326",projection:rf,transformation:z(1/180,1,-1/180,.5)}),dw=i({},Ve,{projection:rf,transformation:z(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,v){var O=v.lng-d.lng,q=v.lat-d.lat;return Math.sqrt(O*O+q*q)},infinite:!0});Ve.Earth=Te,Ve.EPSG3395=wu,Ve.EPSG3857=$,Ve.EPSG900913=re,Ve.EPSG4326=Nm,Ve.Simple=dw;var Aa=fe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[l(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[l(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var v=d.target;if(v.hasLayer(this)){if(this._map=v,this._zoomAnimated=v._zoomAnimated,this.getEvents){var O=this.getEvents();v.on(O,this),this.once("remove",function(){v.off(O,this)},this)}this.onAdd(v),this.fire("add"),v.fire("layeradd",{layer:this})}}});yn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var v=l(d);return this._layers[v]?this:(this._layers[v]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var v=l(d);return this._layers[v]?(this._loaded&&d.onRemove(this),delete this._layers[v],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return l(d)in this._layers},eachLayer:function(d,v){for(var O in this._layers)d.call(v,this._layers[O]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var v=0,O=d.length;v<O;v++)this.addLayer(d[v])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[l(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var v=l(d);this._zoomBoundLayers[v]&&(delete this._zoomBoundLayers[v],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,v=-1/0,O=this._getZoomSpan();for(var q in this._zoomBoundLayers){var ne=this._zoomBoundLayers[q].options;d=ne.minZoom===void 0?d:Math.min(d,ne.minZoom),v=ne.maxZoom===void 0?v:Math.max(v,ne.maxZoom)}this._layersMaxZoom=v===-1/0?void 0:v,this._layersMinZoom=d===1/0?void 0:d,O!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var vo=Aa.extend({initialize:function(d,v){x(this,v),this._layers={};var O,q;if(d)for(O=0,q=d.length;O<q;O++)this.addLayer(d[O])},addLayer:function(d){var v=this.getLayerId(d);return this._layers[v]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var v=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[v]&&this._map.removeLayer(this._layers[v]),delete this._layers[v],this},hasLayer:function(d){var v=typeof d=="number"?d:this.getLayerId(d);return v in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var v=Array.prototype.slice.call(arguments,1),O,q;for(O in this._layers)q=this._layers[O],q[d]&&q[d].apply(q,v);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,v){for(var O in this._layers)d.call(v,this._layers[O]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return l(d)}}),Fm=function(d,v){return new vo(d,v)},Ki=vo.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),vo.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),vo.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new V;for(var v in this._layers){var O=this._layers[v];d.extend(O.getBounds?O.getBounds():O.getLatLng())}return d}}),Rl=function(d,v){return new Ki(d,v)},bu=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){x(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,v){var O=this._getIconUrl(d);if(!O){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var q=this._createImg(O,v&&v.tagName==="IMG"?v:null);return this._setIconStyles(q,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),q},_setIconStyles:function(d,v){var O=this.options,q=O[v+"Size"];typeof q=="number"&&(q=[q,q]);var ne=D(q),_e=D(v==="shadow"&&O.shadowAnchor||O.iconAnchor||ne&&ne.divideBy(2,!0));d.className="leaflet-marker-"+v+" "+(O.className||""),_e&&(d.style.marginLeft=-_e.x+"px",d.style.marginTop=-_e.y+"px"),ne&&(d.style.width=ne.x+"px",d.style.height=ne.y+"px")},_createImg:function(d,v){return v=v||document.createElement("img"),v.src=d,v},_getIconUrl:function(d){return Ae.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function sf(d){return new bu(d)}var Su=bu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Su.imagePath!="string"&&(Su.imagePath=this._detectIconPath()),(this.options.imagePath||Su.imagePath)+bu.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var v=function(O,q,ne){var _e=q.exec(O);return _e&&_e[ne]};return d=v(d,/^url\((['"])?(.+)\1\)$/,2),d&&v(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=R("div","leaflet-default-icon-path",document.body),v=T(d,"background-image")||T(d,"backgroundImage");if(document.body.removeChild(d),v=this._stripUrl(v),v)return v;var O=document.querySelector('link[href$="leaflet.css"]');return O?O.href.substring(0,O.href.length-11-1):""}}),sh=Vi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Us(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ee(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var v=this._marker,O=v._map,q=this._marker.options.autoPanSpeed,ne=this._marker.options.autoPanPadding,_e=be(v._icon),We=O.getPixelBounds(),ot=O.getPixelOrigin(),yt=ce(We.min._subtract(ot).add(ne),We.max._subtract(ot).subtract(ne));if(!yt.contains(_e)){var bt=D((Math.max(yt.max.x,_e.x)-yt.max.x)/(We.max.x-yt.max.x)-(Math.min(yt.min.x,_e.x)-yt.min.x)/(We.min.x-yt.min.x),(Math.max(yt.max.y,_e.y)-yt.max.y)/(We.max.y-yt.max.y)-(Math.min(yt.min.y,_e.y)-yt.min.y)/(We.min.y-yt.min.y)).multiplyBy(q);O.panBy(bt,{animate:!1}),this._draggable._newPos._add(bt),this._draggable._startPos._add(bt),ut(v._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=J(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(le(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,d)))},_onDrag:function(d){var v=this._marker,O=v._shadow,q=be(v._icon),ne=v._map.layerPointToLatLng(q);O&&ut(O,q),v._latlng=ne,d.latlng=ne,d.oldLatLng=this._oldLatLng,v.fire("move",d).fire("drag",d)},_onDragEnd:function(d){le(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),xu=Aa.extend({options:{icon:new Su,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,v){x(this,v),this._latlng=xe(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var v=this._latlng;return this._latlng=xe(d),this.update(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,v="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),O=d.icon.createIcon(this._icon),q=!1;O!==this._icon&&(this._icon&&this._removeIcon(),q=!0,d.title&&(O.title=d.title),O.tagName==="IMG"&&(O.alt=d.alt||"")),Ee(O,v),d.keyboard&&(O.tabIndex="0",O.setAttribute("role","button")),this._icon=O,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Wt(O,"focus",this._panOnFocus,this);var ne=d.icon.createShadow(this._shadow),_e=!1;ne!==this._shadow&&(this._removeShadow(),_e=!0),ne&&(Ee(ne,v),ne.alt=""),this._shadow=ne,d.opacity<1&&this._updateOpacity(),q&&this.getPane().appendChild(this._icon),this._initInteraction(),ne&&_e&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&hn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&ut(this._icon,d),this._shadow&&ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(v)},_initInteraction:function(){if(this.options.interactive&&(Ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sh)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sh(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&He(this._icon,d),this._shadow&&He(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var v=this.options.icon.options,O=v.iconSize?D(v.iconSize):D(0,0),q=v.iconAnchor?D(v.iconAnchor):D(0,0);d.panInside(this._latlng,{paddingTopLeft:q,paddingBottomRight:O.subtract(q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function oh(d,v){return new xu(d,v)}var gs=Aa.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return x(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ol=gs.extend({options:{fill:!0,radius:10},initialize:function(d,v){x(this,v),this._latlng=xe(d),this._radius=this.options.radius},setLatLng:function(d){var v=this._latlng;return this._latlng=xe(d),this.redraw(),this.fire("move",{oldLatLng:v,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var v=d&&d.radius||this._radius;return gs.prototype.setStyle.call(this,d),this.setRadius(v),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,v=this._radiusY||d,O=this._clickTolerance(),q=[d+O,v+O];this._pxBounds=new X(this._point.subtract(q),this._point.add(q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function jm(d,v){return new Ol(d,v)}var uh=Ol.extend({initialize:function(d,v,O){if(typeof v=="number"&&(v=i({},O,{radius:v})),x(this,v),this._latlng=xe(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:gs.prototype.setStyle,_project:function(){var d=this._latlng.lng,v=this._latlng.lat,O=this._map,q=O.options.crs;if(q.distance===Te.distance){var ne=Math.PI/180,_e=this._mRadius/Te.R/ne,We=O.project([v+_e,d]),ot=O.project([v-_e,d]),yt=We.add(ot).divideBy(2),bt=O.unproject(yt).lat,jt=Math.acos((Math.cos(_e*ne)-Math.sin(v*ne)*Math.sin(bt*ne))/(Math.cos(v*ne)*Math.cos(bt*ne)))/ne;(isNaN(jt)||jt===0)&&(jt=_e/Math.cos(Math.PI/180*v)),this._point=yt.subtract(O.getPixelOrigin()),this._radius=isNaN(jt)?0:yt.x-O.project([bt,d-jt]).x,this._radiusY=yt.y-We.y}else{var nn=q.unproject(q.project(this._latlng).subtract([this._mRadius,0]));this._point=O.latLngToLayerPoint(this._latlng),this._radius=this._point.x-O.latLngToLayerPoint(nn).x}this._updateBounds()}});function hw(d,v,O){return new uh(d,v,O)}var ms=gs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,v){x(this,v),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var v=1/0,O=null,q=yo,ne,_e,We=0,ot=this._parts.length;We<ot;We++)for(var yt=this._parts[We],bt=1,jt=yt.length;bt<jt;bt++){ne=yt[bt-1],_e=yt[bt];var nn=q(d,ne,_e,!0);nn<v&&(v=nn,O=q(d,ne,_e))}return O&&(O.distance=Math.sqrt(v)),O},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ah(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,v){return v=v||this._defaultShape(),d=xe(d),v.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new V,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return li(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var v=[],O=li(d),q=0,ne=d.length;q<ne;q++)O?(v[q]=xe(d[q]),this._bounds.extend(v[q])):v[q]=this._convertLatLngs(d[q]);return v},_project:function(){var d=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),v=new ue(d,d);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(v),this._rawPxBounds.max.add(v)]))},_projectLatlngs:function(d,v,O){var q=d[0]instanceof he,ne=d.length,_e,We;if(q){for(We=[],_e=0;_e<ne;_e++)We[_e]=this._map.latLngToLayerPoint(d[_e]),O.extend(We[_e]);v.push(We)}else for(_e=0;_e<ne;_e++)this._projectLatlngs(d[_e],v,O)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var v=this._parts,O,q,ne,_e,We,ot,yt;for(O=0,ne=0,_e=this._rings.length;O<_e;O++)for(yt=this._rings[O],q=0,We=yt.length;q<We-1;q++)ot=Lm(yt[q],yt[q+1],d,q,!0),ot&&(v[ne]=v[ne]||[],v[ne].push(ot[0]),(ot[1]!==yt[q+1]||q===We-2)&&(v[ne].push(ot[1]),ne++))}},_simplifyPoints:function(){for(var d=this._parts,v=this.options.smoothFactor,O=0,q=d.length;O<q;O++)d[O]=Pm(d[O],v)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,v){var O,q,ne,_e,We,ot,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(O=0,_e=this._parts.length;O<_e;O++)for(ot=this._parts[O],q=0,We=ot.length,ne=We-1;q<We;ne=q++)if(!(!v&&q===0)&&rh(d,ot[ne],ot[q])<=yt)return!0;return!1}});function pw(d,v){return new ms(d,v)}ms._flat=Mm;var Eu=ms.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var v=ms.prototype._convertLatLngs.call(this,d),O=v.length;return O>=2&&v[0]instanceof he&&v[0].equals(v[O-1])&&v.pop(),v},_setLatLngs:function(d){ms.prototype._setLatLngs.call(this,d),li(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return li(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,v=this.options.weight,O=new ue(v,v);if(d=new X(d.min.subtract(O),d.max.add(O)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var q=0,ne=this._rings.length,_e;q<ne;q++)_e=Om(this._rings[q],d,!0),_e.length&&this._parts.push(_e)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var v=!1,O,q,ne,_e,We,ot,yt,bt;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(_e=0,yt=this._parts.length;_e<yt;_e++)for(O=this._parts[_e],We=0,bt=O.length,ot=bt-1;We<bt;ot=We++)q=O[We],ne=O[ot],q.y>d.y!=ne.y>d.y&&d.x<(ne.x-q.x)*(d.y-q.y)/(ne.y-q.y)+q.x&&(v=!v);return v||ms.prototype._containsPoint.call(this,d,!0)}});function Gi(d,v){return new Eu(d,v)}var Wi=Ki.extend({initialize:function(d,v){x(this,v),this._layers={},d&&this.addData(d)},addData:function(d){var v=A(d)?d:d.features,O,q,ne;if(v){for(O=0,q=v.length;O<q;O++)ne=v[O],(ne.geometries||ne.geometry||ne.features||ne.coordinates)&&this.addData(ne);return this}var _e=this.options;if(_e.filter&&!_e.filter(d))return this;var We=Pl(d,_e);return We?(We.feature=ys(d),We.defaultOptions=We.options,this.resetStyle(We),_e.onEachFeature&&_e.onEachFeature(d,We),this.addLayer(We)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(v){this._setLayerStyle(v,d)},this)},_setLayerStyle:function(d,v){d.setStyle&&(typeof v=="function"&&(v=v(d.feature)),d.setStyle(v))}});function Pl(d,v){var O=d.type==="Feature"?d.geometry:d,q=O?O.coordinates:null,ne=[],_e=v&&v.pointToLayer,We=v&&v.coordsToLatLng||of,ot,yt,bt,jt;if(!q&&!O)return null;switch(O.type){case"Point":return ot=We(q),lh(_e,d,ot,v);case"MultiPoint":for(bt=0,jt=q.length;bt<jt;bt++)ot=We(q[bt]),ne.push(lh(_e,d,ot,v));return new Ki(ne);case"LineString":case"MultiLineString":return yt=Il(q,O.type==="LineString"?0:1,We),new ms(yt,v);case"Polygon":case"MultiPolygon":return yt=Il(q,O.type==="Polygon"?1:2,We),new Eu(yt,v);case"GeometryCollection":for(bt=0,jt=O.geometries.length;bt<jt;bt++){var nn=Pl({geometry:O.geometries[bt],type:"Feature",properties:d.properties},v);nn&&ne.push(nn)}return new Ki(ne);case"FeatureCollection":for(bt=0,jt=O.features.length;bt<jt;bt++){var gn=Pl(O.features[bt],v);gn&&ne.push(gn)}return new Ki(ne);default:throw new Error("Invalid GeoJSON object.")}}function lh(d,v,O,q){return d?d(v,O):new xu(O,q&&q.markersInheritOptions&&q)}function of(d){return new he(d[1],d[0],d[2])}function Il(d,v,O){for(var q=[],ne=0,_e=d.length,We;ne<_e;ne++)We=v?Il(d[ne],v-1,O):(O||of)(d[ne]),q.push(We);return q}function Ll(d,v){return d=xe(d),d.alt!==void 0?[m(d.lng,v),m(d.lat,v),m(d.alt,v)]:[m(d.lng,v),m(d.lat,v)]}function uf(d,v,O,q){for(var ne=[],_e=0,We=d.length;_e<We;_e++)ne.push(v?uf(d[_e],li(d[_e])?0:v-1,O,q):Ll(d[_e],q));return!v&&O&&ne.length>0&&ne.push(ne[0].slice()),ne}function Tu(d,v){return d.feature?i({},d.feature,{geometry:v}):ys(v)}function ys(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Ml={toGeoJSON:function(d){return Tu(this,{type:"Point",coordinates:Ll(this.getLatLng(),d)})}};xu.include(Ml),uh.include(Ml),Ol.include(Ml),ms.include({toGeoJSON:function(d){var v=!li(this._latlngs),O=uf(this._latlngs,v?1:0,!1,d);return Tu(this,{type:(v?"Multi":"")+"LineString",coordinates:O})}}),Eu.include({toGeoJSON:function(d){var v=!li(this._latlngs),O=v&&!li(this._latlngs[0]),q=uf(this._latlngs,O?2:v?1:0,!0,d);return v||(q=[q]),Tu(this,{type:(O?"Multi":"")+"Polygon",coordinates:q})}}),vo.include({toMultiPoint:function(d){var v=[];return this.eachLayer(function(O){v.push(O.toGeoJSON(d).geometry.coordinates)}),Tu(this,{type:"MultiPoint",coordinates:v})},toGeoJSON:function(d){var v=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(v==="MultiPoint")return this.toMultiPoint(d);var O=v==="GeometryCollection",q=[];return this.eachLayer(function(ne){if(ne.toGeoJSON){var _e=ne.toGeoJSON(d);if(O)q.push(_e.geometry);else{var We=ys(_e);We.type==="FeatureCollection"?q.push.apply(q,We.features):q.push(We)}}}),O?Tu(this,{geometries:q,type:"GeometryCollection"}):{type:"FeatureCollection",features:q}}});function Cu(d,v){return new Wi(d,v)}var ch=Cu,kl=Aa.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,v,O){this._url=d,this._bounds=Z(v),x(this,O)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&oe(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=Z(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",v=this._image=d?this._url:R("img");if(Ee(v,"leaflet-image-layer"),this._zoomAnimated&&Ee(v,"leaflet-zoom-animated"),this.options.className&&Ee(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onload=s(this.fire,this,"load"),v.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=v.src;return}v.src=this._url,v.alt=this.options.alt},_animateZoom:function(d){var v=this._map.getZoomScale(d.zoom),O=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;dt(this._image,O,v)},_reset:function(){var d=this._image,v=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),O=v.getSize();ut(d,v.min),d.style.width=O.x+"px",d.style.height=O.y+"px"},_updateOpacity:function(){He(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),_o=function(d,v,O){return new kl(d,v,O)},wo=kl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",v=this._image=d?this._url:R("video");if(Ee(v,"leaflet-image-layer"),this._zoomAnimated&&Ee(v,"leaflet-zoom-animated"),this.options.className&&Ee(v,this.options.className),v.onselectstart=p,v.onmousemove=p,v.onloadeddata=s(this.fire,this,"load"),d){for(var O=v.getElementsByTagName("source"),q=[],ne=0;ne<O.length;ne++)q.push(O[ne].src);this._url=O.length>0?q:[v.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(v.style,"objectFit")&&(v.style.objectFit="fill"),v.autoplay=!!this.options.autoplay,v.loop=!!this.options.loop,v.muted=!!this.options.muted,v.playsInline=!!this.options.playsInline;for(var _e=0;_e<this._url.length;_e++){var We=R("source");We.src=this._url[_e],v.appendChild(We)}}});function fh(d,v,O){return new wo(d,v,O)}var dh=kl.extend({_initImage:function(){var d=this._image=this._url;Ee(d,"leaflet-image-layer"),this._zoomAnimated&&Ee(d,"leaflet-zoom-animated"),this.options.className&&Ee(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function bo(d,v,O){return new dh(d,v,O)}var Ra=Aa.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,v){d&&(d instanceof he||A(d))?(this._latlng=xe(d),x(this,v)):(x(this,d),this._source=v),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&He(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&He(this._container,1),this.bringToFront(),this.options.interactive&&(Ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(He(this._container,0),this._removeTimeout=setTimeout(s(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=xe(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oe(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(d){var v=this._source;if(!v._map)return!1;if(v instanceof Ki){v=null;var O=this._source._layers;for(var q in O)if(O[q]._map){v=O[q];break}if(!v)return!1;this._source=v}if(!d)if(v.getCenter)d=v.getCenter();else if(v.getLatLng)d=v.getLatLng();else if(v.getBounds)d=v.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,v=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof v=="string")d.innerHTML=v;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(v)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),v=D(this.options.offset),O=this._getAnchor();this._zoomAnimated?ut(this._container,d.add(O)):v=v.add(d).add(O);var q=this._containerBottom=-v.y,ne=this._containerLeft=-Math.round(this._containerWidth/2)+v.x;this._container.style.bottom=q+"px",this._container.style.left=ne+"px"}},_getAnchor:function(){return[0,0]}});yn.include({_initOverlay:function(d,v,O,q){var ne=v;return ne instanceof d||(ne=new d(q).setContent(v)),O&&ne.setLatLng(O),ne}}),Aa.include({_initOverlay:function(d,v,O,q){var ne=O;return ne instanceof d?(x(ne,q),ne._source=this):(ne=v&&!q?v:new d(q,this),ne.setContent(O)),ne}});var Dl=Ra.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Ra.prototype.openOn.call(this,d)},onAdd:function(d){Ra.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof gs||this._source.on("preclick",yi))},onRemove:function(d){Ra.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof gs||this._source.off("preclick",yi))},getEvents:function(){var d=Ra.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",v=this._container=R("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),O=this._wrapper=R("div",d+"-content-wrapper",v);if(this._contentNode=R("div",d+"-content",O),la(v),qi(this._contentNode),Wt(v,"contextmenu",yi),this._tipContainer=R("div",d+"-tip-container",v),this._tip=R("div",d+"-tip",this._tipContainer),this.options.closeButton){var q=this._closeButton=R("a",d+"-close-button",v);q.setAttribute("role","button"),q.setAttribute("aria-label","Close popup"),q.href="#close",q.innerHTML='<span aria-hidden="true">&#215;</span>',Wt(q,"click",function(ne){nr(ne),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,v=d.style;v.width="",v.whiteSpace="nowrap";var O=d.offsetWidth;O=Math.min(O,this.options.maxWidth),O=Math.max(O,this.options.minWidth),v.width=O+1+"px",v.whiteSpace="",v.height="";var q=d.offsetHeight,ne=this.options.maxHeight,_e="leaflet-popup-scrolled";ne&&q>ne?(v.height=ne+"px",Ee(d,_e)):Pe(d,_e),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),O=this._getAnchor();ut(this._container,v.add(O))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,v=parseInt(T(this._container,"marginBottom"),10)||0,O=this._container.offsetHeight+v,q=this._containerWidth,ne=new ue(this._containerLeft,-O-this._containerBottom);ne._add(be(this._container));var _e=d.layerPointToContainerPoint(ne),We=D(this.options.autoPanPadding),ot=D(this.options.autoPanPaddingTopLeft||We),yt=D(this.options.autoPanPaddingBottomRight||We),bt=d.getSize(),jt=0,nn=0;_e.x+q+yt.x>bt.x&&(jt=_e.x+q-bt.x+yt.x),_e.x-jt-ot.x<0&&(jt=_e.x-ot.x),_e.y+O+yt.y>bt.y&&(nn=_e.y+O-bt.y+yt.y),_e.y-nn-ot.y<0&&(nn=_e.y-ot.y),(jt||nn)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([jt,nn]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$m=function(d,v){return new Dl(d,v)};yn.mergeOptions({closePopupOnClick:!0}),yn.include({openPopup:function(d,v,O){return this._initOverlay(Dl,d,v,O).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),Aa.include({bindPopup:function(d,v){return this._popup=this._initOverlay(Dl,this._popup,d,v),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ki||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){Ii(d);var v=d.layer||d.target;if(this._popup._source===v&&!(v instanceof gs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=v,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var lf=Ra.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Ra.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Ra.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Ra.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",v=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",v),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var v,O,q=this._map,ne=this._container,_e=q.latLngToContainerPoint(q.getCenter()),We=q.layerPointToContainerPoint(d),ot=this.options.direction,yt=ne.offsetWidth,bt=ne.offsetHeight,jt=D(this.options.offset),nn=this._getAnchor();ot==="top"?(v=yt/2,O=bt):ot==="bottom"?(v=yt/2,O=0):ot==="center"?(v=yt/2,O=bt/2):ot==="right"?(v=0,O=bt/2):ot==="left"?(v=yt,O=bt/2):We.x<_e.x?(ot="right",v=0,O=bt/2):(ot="left",v=yt+(jt.x+nn.x)*2,O=bt/2),d=d.subtract(D(v,O,!0)).add(jt).add(nn),Pe(ne,"leaflet-tooltip-right"),Pe(ne,"leaflet-tooltip-left"),Pe(ne,"leaflet-tooltip-top"),Pe(ne,"leaflet-tooltip-bottom"),Ee(ne,"leaflet-tooltip-"+ot),ut(ne,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&He(this._container,d)},_animateZoom:function(d){var v=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(v)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gw=function(d,v){return new lf(d,v)};yn.include({openTooltip:function(d,v,O){return this._initOverlay(lf,d,v,O).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),Aa.include({bindTooltip:function(d,v){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(lf,this._tooltip,d,v),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var v=d?"off":"on",O={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?O.add=this._openTooltip:(O.mouseover=this._openTooltip,O.mouseout=this.closeTooltip,O.click=this._openTooltip,this._map?this._addFocusListeners():O.add=this._addFocusListeners),this._tooltip.options.sticky&&(O.mousemove=this._moveTooltip),this[v](O),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ki||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var v=typeof d.getElement=="function"&&d.getElement();v&&(Wt(v,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Wt(v,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var v=typeof d.getElement=="function"&&d.getElement();v&&v.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var v=this;this._map.once("moveend",function(){v._openOnceFlag=!1,v._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var v=d.latlng,O,q;this._tooltip.options.sticky&&d.originalEvent&&(O=this._map.mouseEventToContainerPoint(d.originalEvent),q=this._map.containerPointToLayerPoint(O),v=this._map.layerPointToLatLng(q)),this._tooltip.setLatLng(v)}});var Um=bu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var v=d&&d.tagName==="DIV"?d:document.createElement("div"),O=this.options;if(O.html instanceof Element?(Q(v),v.appendChild(O.html)):v.innerHTML=O.html!==!1?O.html:"",O.bgPos){var q=D(O.bgPos);v.style.backgroundPosition=-q.x+"px "+-q.y+"px"}return this._setIconStyles(v,"icon"),v},createShadow:function(){return null}});function Bm(d){return new Um(d)}bu.Default=Su;var Au=Aa.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ae.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){x(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),N(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof ue?d:new ue(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var v=this.getPane().children,O=-d(-1/0,1/0),q=0,ne=v.length,_e;q<ne;q++)_e=v[q].style.zIndex,v[q]!==this._container&&_e&&(O=d(O,+_e));isFinite(O)&&(this.options.zIndex=O+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ae.ielt9){He(this._container,this.options.opacity);var d=+new Date,v=!1,O=!1;for(var q in this._tiles){var ne=this._tiles[q];if(!(!ne.current||!ne.loaded)){var _e=Math.min(1,(d-ne.loaded)/200);He(ne.el,_e),_e<1?v=!0:(ne.active?O=!0:this._onOpaqueTile(ne),ne.active=!0)}}O&&!this._noPrune&&this._pruneTiles(),v&&(le(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,v=this.options.maxZoom;if(d!==void 0){for(var O in this._levels)O=Number(O),this._levels[O].el.children.length||O===d?(this._levels[O].el.style.zIndex=v-Math.abs(d-O),this._onUpdateLevel(O)):(N(this._levels[O].el),this._removeTilesAtZoom(O),this._onRemoveLevel(O),delete this._levels[O]);var q=this._levels[d],ne=this._map;return q||(q=this._levels[d]={},q.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),q.el.style.zIndex=v,q.origin=ne.project(ne.unproject(ne.getPixelOrigin()),d).round(),q.zoom=d,this._setZoomTransform(q,ne.getCenter(),ne.getZoom()),p(q.el.offsetWidth),this._onCreateLevel(q)),this._level=q,q}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,v,O=this._map.getZoom();if(O>this.options.maxZoom||O<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)v=this._tiles[d],v.retain=v.current;for(d in this._tiles)if(v=this._tiles[d],v.current&&!v.active){var q=v.coords;this._retainParent(q.x,q.y,q.z,q.z-5)||this._retainChildren(q.x,q.y,q.z,q.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var v in this._tiles)this._tiles[v].coords.z===d&&this._removeTile(v)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)N(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,v,O,q){var ne=Math.floor(d/2),_e=Math.floor(v/2),We=O-1,ot=new ue(+ne,+_e);ot.z=+We;var yt=this._tileCoordsToKey(ot),bt=this._tiles[yt];return bt&&bt.active?(bt.retain=!0,!0):(bt&&bt.loaded&&(bt.retain=!0),We>q?this._retainParent(ne,_e,We,q):!1)},_retainChildren:function(d,v,O,q){for(var ne=2*d;ne<2*d+2;ne++)for(var _e=2*v;_e<2*v+2;_e++){var We=new ue(ne,_e);We.z=O+1;var ot=this._tileCoordsToKey(We),yt=this._tiles[ot];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);O+1<q&&this._retainChildren(ne,_e,O+1,q)}},_resetView:function(d){var v=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),v,v)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var v=this.options;return v.minNativeZoom!==void 0&&d<v.minNativeZoom?v.minNativeZoom:v.maxNativeZoom!==void 0&&v.maxNativeZoom<d?v.maxNativeZoom:d},_setView:function(d,v,O,q){var ne=Math.round(v);this.options.maxZoom!==void 0&&ne>this.options.maxZoom||this.options.minZoom!==void 0&&ne<this.options.minZoom?ne=void 0:ne=this._clampZoom(ne);var _e=this.options.updateWhenZooming&&ne!==this._tileZoom;(!q||_e)&&(this._tileZoom=ne,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ne!==void 0&&this._update(d),O||this._pruneTiles(),this._noPrune=!!O),this._setZoomTransforms(d,v)},_setZoomTransforms:function(d,v){for(var O in this._levels)this._setZoomTransform(this._levels[O],d,v)},_setZoomTransform:function(d,v,O){var q=this._map.getZoomScale(O,d.zoom),ne=d.origin.multiplyBy(q).subtract(this._map._getNewPixelOrigin(v,O)).round();Ae.any3d?dt(d.el,ne,q):ut(d.el,ne)},_resetGrid:function(){var d=this._map,v=d.options.crs,O=this._tileSize=this.getTileSize(),q=this._tileZoom,ne=this._map.getPixelWorldBounds(this._tileZoom);ne&&(this._globalTileRange=this._pxBoundsToTileRange(ne)),this._wrapX=v.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,v.wrapLng[0]],q).x/O.x),Math.ceil(d.project([0,v.wrapLng[1]],q).x/O.y)],this._wrapY=v.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([v.wrapLat[0],0],q).y/O.x),Math.ceil(d.project([v.wrapLat[1],0],q).y/O.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var v=this._map,O=v._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),q=v.getZoomScale(O,this._tileZoom),ne=v.project(d,this._tileZoom).floor(),_e=v.getSize().divideBy(q*2);return new X(ne.subtract(_e),ne.add(_e))},_update:function(d){var v=this._map;if(v){var O=this._clampZoom(v.getZoom());if(d===void 0&&(d=v.getCenter()),this._tileZoom!==void 0){var q=this._getTiledPixelBounds(d),ne=this._pxBoundsToTileRange(q),_e=ne.getCenter(),We=[],ot=this.options.keepBuffer,yt=new X(ne.getBottomLeft().subtract([ot,-ot]),ne.getTopRight().add([ot,-ot]));if(!(isFinite(ne.min.x)&&isFinite(ne.min.y)&&isFinite(ne.max.x)&&isFinite(ne.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var bt in this._tiles){var jt=this._tiles[bt].coords;(jt.z!==this._tileZoom||!yt.contains(new ue(jt.x,jt.y)))&&(this._tiles[bt].current=!1)}if(Math.abs(O-this._tileZoom)>1){this._setView(d,O);return}for(var nn=ne.min.y;nn<=ne.max.y;nn++)for(var gn=ne.min.x;gn<=ne.max.x;gn++){var Hr=new ue(gn,nn);if(Hr.z=this._tileZoom,!!this._isValidTile(Hr)){var Ar=this._tiles[this._tileCoordsToKey(Hr)];Ar?Ar.current=!0:We.push(Hr)}}if(We.sort(function(vi,Bs){return vi.distanceTo(_e)-Bs.distanceTo(_e)}),We.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var fi=document.createDocumentFragment();for(gn=0;gn<We.length;gn++)this._addTile(We[gn],fi);this._level.el.appendChild(fi)}}}},_isValidTile:function(d){var v=this._map.options.crs;if(!v.infinite){var O=this._globalTileRange;if(!v.wrapLng&&(d.x<O.min.x||d.x>O.max.x)||!v.wrapLat&&(d.y<O.min.y||d.y>O.max.y))return!1}if(!this.options.bounds)return!0;var q=this._tileCoordsToBounds(d);return Z(this.options.bounds).overlaps(q)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var v=this._map,O=this.getTileSize(),q=d.scaleBy(O),ne=q.add(O),_e=v.unproject(q,d.z),We=v.unproject(ne,d.z);return[_e,We]},_tileCoordsToBounds:function(d){var v=this._tileCoordsToNwSe(d),O=new V(v[0],v[1]);return this.options.noWrap||(O=this._map.wrapLatLngBounds(O)),O},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var v=d.split(":"),O=new ue(+v[0],+v[1]);return O.z=+v[2],O},_removeTile:function(d){var v=this._tiles[d];v&&(N(v.el),delete this._tiles[d],this.fire("tileunload",{tile:v.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){Ee(d,"leaflet-tile");var v=this.getTileSize();d.style.width=v.x+"px",d.style.height=v.y+"px",d.onselectstart=p,d.onmousemove=p,Ae.ielt9&&this.options.opacity<1&&He(d,this.options.opacity)},_addTile:function(d,v){var O=this._getTilePos(d),q=this._tileCoordsToKey(d),ne=this.createTile(this._wrapCoords(d),s(this._tileReady,this,d));this._initTile(ne),this.createTile.length<2&&J(s(this._tileReady,this,d,null,ne)),ut(ne,O),this._tiles[q]={el:ne,coords:d,current:!0},v.appendChild(ne),this.fire("tileloadstart",{tile:ne,coords:d})},_tileReady:function(d,v,O){v&&this.fire("tileerror",{error:v,tile:O,coords:d});var q=this._tileCoordsToKey(d);O=this._tiles[q],O&&(O.loaded=+new Date,this._map._fadeAnimated?(He(O.el,0),le(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(O.active=!0,this._pruneTiles()),v||(Ee(O.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:O.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ae.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var v=new ue(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return v.z=d.z,v},_pxBoundsToTileRange:function(d){var v=this.getTileSize();return new X(d.min.unscaleBy(v).floor(),d.max.unscaleBy(v).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function qm(d){return new Au(d)}var ci=Au.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,v){this._url=d,v=x(this,v),v.detectRetina&&Ae.retina&&v.maxZoom>0?(v.tileSize=Math.floor(v.tileSize/2),v.zoomReverse?(v.zoomOffset--,v.minZoom=Math.min(v.maxZoom,v.minZoom+1)):(v.zoomOffset++,v.maxZoom=Math.max(v.minZoom,v.maxZoom-1)),v.minZoom=Math.max(0,v.minZoom)):v.zoomReverse?v.minZoom=Math.min(v.maxZoom,v.minZoom):v.maxZoom=Math.max(v.minZoom,v.maxZoom),typeof v.subdomains=="string"&&(v.subdomains=v.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,v){return this._url===d&&v===void 0&&(v=!0),this._url=d,v||this.redraw(),this},createTile:function(d,v){var O=document.createElement("img");return Wt(O,"load",s(this._tileOnLoad,this,v,O)),Wt(O,"error",s(this._tileOnError,this,v,O)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(O.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(O.referrerPolicy=this.options.referrerPolicy),O.alt="",O.src=this.getTileUrl(d),O},getTileUrl:function(d){var v={r:Ae.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var O=this._globalTileRange.max.y-d.y;this.options.tms&&(v.y=O),v["-y"]=O}return b(this._url,i(v,this.options))},_tileOnLoad:function(d,v){Ae.ielt9?setTimeout(s(d,this,null,v),0):d(null,v)},_tileOnError:function(d,v,O){var q=this.options.errorTileUrl;q&&v.getAttribute("src")!==q&&(v.src=q),d(O,v)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,v=this.options.maxZoom,O=this.options.zoomReverse,q=this.options.zoomOffset;return O&&(d=v-d),d+q},_getSubdomain:function(d){var v=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[v]},_abortLoading:function(){var d,v;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(v=this._tiles[d].el,v.onload=p,v.onerror=p,!v.complete)){v.src=M;var O=this._tiles[d].coords;N(v),delete this._tiles[d],this.fire("tileabort",{tile:v,coords:O})}},_removeTile:function(d){var v=this._tiles[d];if(v)return v.el.setAttribute("src",M),Au.prototype._removeTile.call(this,d)},_tileReady:function(d,v,O){if(!(!this._map||O&&O.getAttribute("src")===M))return Au.prototype._tileReady.call(this,d,v,O)}});function Qi(d,v){return new ci(d,v)}var So=ci.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,v){this._url=d;var O=i({},this.defaultWmsParams);for(var q in v)q in this.options||(O[q]=v[q]);v=x(this,v);var ne=v.detectRetina&&Ae.retina?2:1,_e=this.getTileSize();O.width=_e.x*ne,O.height=_e.y*ne,this.wmsParams=O},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var v=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[v]=this._crs.code,ci.prototype.onAdd.call(this,d)},getTileUrl:function(d){var v=this._tileCoordsToNwSe(d),O=this._crs,q=ce(O.project(v[0]),O.project(v[1])),ne=q.min,_e=q.max,We=(this._wmsVersion>=1.3&&this._crs===Nm?[ne.y,ne.x,_e.y,_e.x]:[ne.x,ne.y,_e.x,_e.y]).join(","),ot=ci.prototype.getTileUrl.call(this,d);return ot+E(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+We},setParams:function(d,v){return i(this.wmsParams,d),v||this.redraw(),this}});function hh(d,v){return new So(d,v)}ci.WMS=So,Qi.wms=hh;var fa=Aa.extend({options:{padding:.1},initialize:function(d){x(this,d),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,v){var O=this._map.getZoomScale(v,this._zoom),q=this._map.getSize().multiplyBy(.5+this.options.padding),ne=this._map.project(this._center,v),_e=q.multiplyBy(-O).add(ne).subtract(this._map._getNewPixelOrigin(d,v));Ae.any3d?dt(this._container,_e,O):ut(this._container,_e)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,v=this._map.getSize(),O=this._map.containerPointToLayerPoint(v.multiplyBy(-d)).round();this._bounds=new X(O,O.add(v.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Nl=fa.extend({options:{tolerance:0},getEvents:function(){var d=fa.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){fa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Wt(d,"mousemove",this._onMouseMove,this),Wt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Wt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){le(this._redrawRequest),delete this._ctx,N(this._container),hn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var v in this._layers)d=this._layers[v],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var d=this._bounds,v=this._container,O=d.getSize(),q=Ae.retina?2:1;ut(v,d.min),v.width=q*O.x,v.height=q*O.y,v.style.width=O.x+"px",v.style.height=O.y+"px",Ae.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){fa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[l(d)]=d;var v=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=v),this._drawLast=v,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var v=d._order,O=v.next,q=v.prev;O?O.prev=q:this._drawLast=q,q?q.next=O:this._drawFirst=O,delete d._order,delete this._layers[l(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var v=d.options.dashArray.split(/[, ]+/),O=[],q,ne;for(ne=0;ne<v.length;ne++){if(q=Number(v[ne]),isNaN(q))return;O.push(q)}d.options._dashArray=O}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var v=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(d._pxBounds.min.subtract([v,v])),this._redrawBounds.extend(d._pxBounds.max.add([v,v]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var v=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,v.x,v.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,v=this._redrawBounds;if(this._ctx.save(),v){var O=v.getSize();this._ctx.beginPath(),this._ctx.rect(v.min.x,v.min.y,O.x,O.y),this._ctx.clip()}this._drawing=!0;for(var q=this._drawFirst;q;q=q.next)d=q.layer,(!v||d._pxBounds&&d._pxBounds.intersects(v))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,v){if(this._drawing){var O,q,ne,_e,We=d._parts,ot=We.length,yt=this._ctx;if(ot){for(yt.beginPath(),O=0;O<ot;O++){for(q=0,ne=We[O].length;q<ne;q++)_e=We[O][q],yt[q?"lineTo":"moveTo"](_e.x,_e.y);v&&yt.closePath()}this._fillStroke(yt,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var v=d._point,O=this._ctx,q=Math.max(Math.round(d._radius),1),ne=(Math.max(Math.round(d._radiusY),1)||q)/q;ne!==1&&(O.save(),O.scale(1,ne)),O.beginPath(),O.arc(v.x,v.y/ne,q,0,Math.PI*2,!1),ne!==1&&O.restore(),this._fillStroke(O,d)}},_fillStroke:function(d,v){var O=v.options;O.fill&&(d.globalAlpha=O.fillOpacity,d.fillStyle=O.fillColor||O.color,d.fill(O.fillRule||"evenodd")),O.stroke&&O.weight!==0&&(d.setLineDash&&d.setLineDash(v.options&&v.options._dashArray||[]),d.globalAlpha=O.opacity,d.lineWidth=O.weight,d.strokeStyle=O.color,d.lineCap=O.lineCap,d.lineJoin=O.lineJoin,d.stroke())},_onClick:function(d){for(var v=this._map.mouseEventToLayerPoint(d),O,q,ne=this._drawFirst;ne;ne=ne.next)O=ne.layer,O.options.interactive&&O._containsPoint(v)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(O))&&(q=O);this._fireEvent(q?[q]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var v=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,v)}},_handleMouseOut:function(d){var v=this._hoveredLayer;v&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([v],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,v){if(!this._mouseHoverThrottled){for(var O,q,ne=this._drawFirst;ne;ne=ne.next)O=ne.layer,O.options.interactive&&O._containsPoint(v)&&(q=O);q!==this._hoveredLayer&&(this._handleMouseOut(d),q&&(Ee(this._container,"leaflet-interactive"),this._fireEvent([q],d,"mouseover"),this._hoveredLayer=q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,v,O){this._map._fireDOMEvent(v,O||v.type,d)},_bringToFront:function(d){var v=d._order;if(v){var O=v.next,q=v.prev;if(O)O.prev=q;else return;q?q.next=O:O&&(this._drawFirst=O),v.prev=this._drawLast,this._drawLast.next=v,v.next=null,this._drawLast=v,this._requestRedraw(d)}},_bringToBack:function(d){var v=d._order;if(v){var O=v.next,q=v.prev;if(q)q.next=O;else return;O?O.prev=q:q&&(this._drawLast=q),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(d)}}});function cf(d){return Ae.canvas?new Nl(d):null}var da=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hm={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(fa.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var v=d._container=da("shape");Ee(v,"leaflet-vml-shape "+(this.options.className||"")),v.coordsize="1 1",d._path=da("path"),v.appendChild(d._path),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){var v=d._container;this._container.appendChild(v),d.options.interactive&&d.addInteractiveTarget(v)},_removePath:function(d){var v=d._container;N(v),d.removeInteractiveTarget(v),delete this._layers[l(d)]},_updateStyle:function(d){var v=d._stroke,O=d._fill,q=d.options,ne=d._container;ne.stroked=!!q.stroke,ne.filled=!!q.fill,q.stroke?(v||(v=d._stroke=da("stroke")),ne.appendChild(v),v.weight=q.weight+"px",v.color=q.color,v.opacity=q.opacity,q.dashArray?v.dashStyle=A(q.dashArray)?q.dashArray.join(" "):q.dashArray.replace(/( *, *)/g," "):v.dashStyle="",v.endcap=q.lineCap.replace("butt","flat"),v.joinstyle=q.lineJoin):v&&(ne.removeChild(v),d._stroke=null),q.fill?(O||(O=d._fill=da("fill")),ne.appendChild(O),O.color=q.fillColor||q.color,O.opacity=q.fillOpacity):O&&(ne.removeChild(O),d._fill=null)},_updateCircle:function(d){var v=d._point.round(),O=Math.round(d._radius),q=Math.round(d._radiusY||O);this._setPath(d,d._empty()?"M0 0":"AL "+v.x+","+v.y+" "+O+","+q+" 0,"+65535*360)},_setPath:function(d,v){d._path.v=v},_bringToFront:function(d){oe(d._container)},_bringToBack:function(d){we(d._container)}},xo=Ae.vml?da:W,Qa=fa.extend({_initContainer:function(){this._container=xo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),hn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){fa.prototype._update.call(this);var d=this._bounds,v=d.getSize(),O=this._container;(!this._svgSize||!this._svgSize.equals(v))&&(this._svgSize=v,O.setAttribute("width",v.x),O.setAttribute("height",v.y)),ut(O,d.min),O.setAttribute("viewBox",[d.min.x,d.min.y,v.x,v.y].join(" ")),this.fire("update")}},_initPath:function(d){var v=d._path=xo("path");d.options.className&&Ee(v,d.options.className),d.options.interactive&&Ee(v,"leaflet-interactive"),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){N(d._path),d.removeInteractiveTarget(d._path),delete this._layers[l(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var v=d._path,O=d.options;v&&(O.stroke?(v.setAttribute("stroke",O.color),v.setAttribute("stroke-opacity",O.opacity),v.setAttribute("stroke-width",O.weight),v.setAttribute("stroke-linecap",O.lineCap),v.setAttribute("stroke-linejoin",O.lineJoin),O.dashArray?v.setAttribute("stroke-dasharray",O.dashArray):v.removeAttribute("stroke-dasharray"),O.dashOffset?v.setAttribute("stroke-dashoffset",O.dashOffset):v.removeAttribute("stroke-dashoffset")):v.setAttribute("stroke","none"),O.fill?(v.setAttribute("fill",O.fillColor||O.color),v.setAttribute("fill-opacity",O.fillOpacity),v.setAttribute("fill-rule",O.fillRule||"evenodd")):v.setAttribute("fill","none"))},_updatePoly:function(d,v){this._setPath(d,pe(d._parts,v))},_updateCircle:function(d){var v=d._point,O=Math.max(Math.round(d._radius),1),q=Math.max(Math.round(d._radiusY),1)||O,ne="a"+O+","+q+" 0 1,0 ",_e=d._empty()?"M0 0":"M"+(v.x-O)+","+v.y+ne+O*2+",0 "+ne+-O*2+",0 ";this._setPath(d,_e)},_setPath:function(d,v){d._path.setAttribute("d",v)},_bringToFront:function(d){oe(d._path)},_bringToBack:function(d){we(d._path)}});Ae.vml&&Qa.include(Hm);function ph(d){return Ae.svg||Ae.vml?new Qa(d):null}yn.include({getRenderer:function(d){var v=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return v||(v=this._renderer=this._createRenderer()),this.hasLayer(v)||this.addLayer(v),v},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var v=this._paneRenderers[d];return v===void 0&&(v=this._createRenderer({pane:d}),this._paneRenderers[d]=v),v},_createRenderer:function(d){return this.options.preferCanvas&&cf(d)||ph(d)}});var Zi=Eu.extend({initialize:function(d,v){Eu.prototype.initialize.call(this,this._boundsToLatLngs(d),v)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=Z(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Ru(d,v){return new Zi(d,v)}Qa.create=xo,Qa.pointsToPath=pe,Wi.geometryToLayer=Pl,Wi.coordsToLatLng=of,Wi.coordsToLatLngs=Il,Wi.latLngToCoords=Ll,Wi.latLngsToCoords=uf,Wi.getFeature=Tu,Wi.asFeature=ys,yn.mergeOptions({boxZoom:!0});var Eo=Vi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Wt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){hn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(d),Wt(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),Ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var v=new X(this._point,this._startPoint),O=v.getSize();ut(this._box,v.min),this._box.style.width=O.x+"px",this._box.style.height=O.y+"px"},_finish:function(){this._moved&&(N(this._box),Pe(this._container,"leaflet-crosshair")),Ue(),Ft(),hn(document,{contextmenu:Ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var v=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(v).fire("boxzoomend",{boxZoomBounds:v})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});yn.addInitHook("addHandler","boxZoom",Eo),yn.mergeOptions({doubleClickZoom:!0});var Fl=Vi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var v=this._map,O=v.getZoom(),q=v.options.zoomDelta,ne=d.originalEvent.shiftKey?O-q:O+q;v.options.doubleClickZoom==="center"?v.setZoom(ne):v.setZoomAround(d.containerPoint,ne)}});yn.addInitHook("addHandler","doubleClickZoom",Fl),yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var jl=Vi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Us(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}Ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var v=Z(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(v.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(v.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var v=this._lastTime=+new Date,O=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(O),this._times.push(v),this._prunePositions(v)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),v=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=v.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,v){return d-(d-v)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),v=this._offsetLimit;d.x<v.min.x&&(d.x=this._viscousLimit(d.x,v.min.x)),d.y<v.min.y&&(d.y=this._viscousLimit(d.y,v.min.y)),d.x>v.max.x&&(d.x=this._viscousLimit(d.x,v.max.x)),d.y>v.max.y&&(d.y=this._viscousLimit(d.y,v.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,v=Math.round(d/2),O=this._initialWorldOffset,q=this._draggable._newPos.x,ne=(q-v+O)%d+v-O,_e=(q+v+O)%d-v-O,We=Math.abs(ne+O)<Math.abs(_e+O)?ne:_e;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=We},_onDragEnd:function(d){var v=this._map,O=v.options,q=!O.inertia||d.noInertia||this._times.length<2;if(v.fire("dragend",d),q)v.fire("moveend");else{this._prunePositions(+new Date);var ne=this._lastPos.subtract(this._positions[0]),_e=(this._lastTime-this._times[0])/1e3,We=O.easeLinearity,ot=ne.multiplyBy(We/_e),yt=ot.distanceTo([0,0]),bt=Math.min(O.inertiaMaxSpeed,yt),jt=ot.multiplyBy(bt/yt),nn=bt/(O.inertiaDeceleration*We),gn=jt.multiplyBy(-nn/2).round();!gn.x&&!gn.y?v.fire("moveend"):(gn=v._limitOffset(gn,v.options.maxBounds),J(function(){v.panBy(gn,{duration:nn,easeLinearity:We,noMoveStart:!0,animate:!0})}))}}});yn.addInitHook("addHandler","dragging",jl),yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ji=Vi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Wt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),hn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,v=document.documentElement,O=d.scrollTop||v.scrollTop,q=d.scrollLeft||v.scrollLeft;this._map._container.focus(),window.scrollTo(q,O)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var v=this._panKeys={},O=this.keyCodes,q,ne;for(q=0,ne=O.left.length;q<ne;q++)v[O.left[q]]=[-1*d,0];for(q=0,ne=O.right.length;q<ne;q++)v[O.right[q]]=[d,0];for(q=0,ne=O.down.length;q<ne;q++)v[O.down[q]]=[0,d];for(q=0,ne=O.up.length;q<ne;q++)v[O.up[q]]=[0,-1*d]},_setZoomDelta:function(d){var v=this._zoomKeys={},O=this.keyCodes,q,ne;for(q=0,ne=O.zoomIn.length;q<ne;q++)v[O.zoomIn[q]]=d;for(q=0,ne=O.zoomOut.length;q<ne;q++)v[O.zoomOut[q]]=-d},_addHooks:function(){Wt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){hn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var v=d.keyCode,O=this._map,q;if(v in this._panKeys){if(!O._panAnim||!O._panAnim._inProgress)if(q=this._panKeys[v],d.shiftKey&&(q=D(q).multiplyBy(3)),O.options.maxBounds&&(q=O._limitOffset(D(q),O.options.maxBounds)),O.options.worldCopyJump){var ne=O.wrapLatLng(O.unproject(O.project(O.getCenter()).add(q)));O.panTo(ne)}else O.panBy(q)}else if(v in this._zoomKeys)O.setZoom(O.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[v]);else if(v===27&&O._popup&&O._popup.options.closeOnEscapeKey)O.closePopup();else return;Ii(d)}}});yn.addInitHook("addHandler","keyboard",Ji),yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yi=Vi.extend({addHooks:function(){Wt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){hn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var v=Ka(d),O=this._map.options.wheelDebounceTime;this._delta+=v,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var q=Math.max(O-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),q),Ii(d)},_performZoom:function(){var d=this._map,v=d.getZoom(),O=this._map.options.zoomSnap||0;d._stop();var q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ne=4*Math.log(2/(1+Math.exp(-Math.abs(q))))/Math.LN2,_e=O?Math.ceil(ne/O)*O:ne,We=d._limitZoom(v+(this._delta>0?_e:-_e))-v;this._delta=0,this._startTime=null,We&&(d.options.scrollWheelZoom==="center"?d.setZoom(v+We):d.setZoomAround(this._lastMousePos,v+We))}});yn.addInitHook("addHandler","scrollWheelZoom",Yi);var To=600;yn.mergeOptions({tapHold:Ae.touchNative&&Ae.safari&&Ae.mobile,tapTolerance:15});var Za=Vi.extend({addHooks:function(){Wt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){hn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var v=d.touches[0];this._startPos=this._newPos=new ue(v.clientX,v.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Wt(document,"touchend",nr),Wt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",v))},this),To),Wt(document,"touchend touchcancel contextmenu",this._cancel,this),Wt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){hn(document,"touchend",nr),hn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),hn(document,"touchend touchcancel contextmenu",this._cancel,this),hn(document,"touchmove",this._onMove,this)},_onMove:function(d){var v=d.touches[0];this._newPos=new ue(v.clientX,v.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,v){var O=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:v.screenX,screenY:v.screenY,clientX:v.clientX,clientY:v.clientY});O._simulated=!0,v.target.dispatchEvent(O)}});yn.addInitHook("addHandler","tapHold",Za),yn.mergeOptions({touchZoom:Ae.touch,bounceAtZoomLimits:!0});var Ja=Vi.extend({addHooks:function(){Ee(this._map._container,"leaflet-touch-zoom"),Wt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),hn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var v=this._map;if(!(!d.touches||d.touches.length!==2||v._animatingZoom||this._zooming)){var O=v.mouseEventToContainerPoint(d.touches[0]),q=v.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),v.options.touchZoom!=="center"&&(this._pinchStartLatLng=v.containerPointToLatLng(O.add(q)._divideBy(2))),this._startDist=O.distanceTo(q),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),Wt(document,"touchmove",this._onTouchMove,this),Wt(document,"touchend touchcancel",this._onTouchEnd,this),nr(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var v=this._map,O=v.mouseEventToContainerPoint(d.touches[0]),q=v.mouseEventToContainerPoint(d.touches[1]),ne=O.distanceTo(q)/this._startDist;if(this._zoom=v.getScaleZoom(ne,this._startZoom),!v.options.bounceAtZoomLimits&&(this._zoom<v.getMinZoom()&&ne<1||this._zoom>v.getMaxZoom()&&ne>1)&&(this._zoom=v._limitZoom(this._zoom)),v.options.touchZoom==="center"){if(this._center=this._startLatLng,ne===1)return}else{var _e=O._add(q)._divideBy(2)._subtract(this._centerPoint);if(ne===1&&_e.x===0&&_e.y===0)return;this._center=v.unproject(v.project(this._pinchStartLatLng,this._zoom).subtract(_e),this._zoom)}this._moved||(v._moveStart(!0,!1),this._moved=!0),le(this._animRequest);var We=s(v._move,v,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(We,this,!0),nr(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,le(this._animRequest),hn(document,"touchmove",this._onTouchMove,this),hn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});yn.addInitHook("addHandler","touchZoom",Ja),yn.BoxZoom=Eo,yn.DoubleClickZoom=Fl,yn.Drag=jl,yn.Keyboard=Ji,yn.ScrollWheelZoom=Yi,yn.TapHold=Za,yn.TouchZoom=Ja,n.Bounds=X,n.Browser=Ae,n.CRS=Ve,n.Canvas=Nl,n.Circle=uh,n.CircleMarker=Ol,n.Class=se,n.Control=ur,n.DivIcon=Um,n.DivOverlay=Ra,n.DomEvent=_u,n.DomUtil=Fn,n.Draggable=Us,n.Evented=fe,n.FeatureGroup=Ki,n.GeoJSON=Wi,n.GridLayer=Au,n.Handler=Vi,n.Icon=bu,n.ImageOverlay=kl,n.LatLng=he,n.LatLngBounds=V,n.Layer=Aa,n.LayerGroup=vo,n.LineUtil=km,n.Map=yn,n.Marker=xu,n.Mixin=ef,n.Path=gs,n.Point=ue,n.PolyUtil=ow,n.Polygon=Eu,n.Polyline=ms,n.Popup=Dl,n.PosAnimation=Ga,n.Projection=Dm,n.Rectangle=Zi,n.Renderer=fa,n.SVG=Qa,n.SVGOverlay=dh,n.TileLayer=ci,n.Tooltip=lf,n.Transformation=ie,n.Util=Y,n.VideoOverlay=wo,n.bind=s,n.bounds=ce,n.canvas=cf,n.circle=hw,n.circleMarker=jm,n.control=Li,n.divIcon=Bm,n.extend=i,n.featureGroup=Rl,n.geoJSON=Cu,n.geoJson=ch,n.gridLayer=qm,n.icon=sf,n.imageOverlay=_o,n.latLng=xe,n.latLngBounds=Z,n.layerGroup=Fm,n.map=Ta,n.marker=oh,n.point=D,n.polygon=Gi,n.polyline=pw,n.popup=$m,n.rectangle=Ru,n.setOptions=x,n.stamp=l,n.svg=ph,n.svgOverlay=bo,n.tileLayer=Qi,n.tooltip=gw,n.transformation=z,n.version=r,n.videoOverlay=fh;var Co=window.L;n.noConflict=function(){return window.L=Co,this},window.L=n})}(ng,ng.exports)),ng.exports}var An=nW();const OA=Ur(An),rW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",iW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",aW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete An.Icon.Default.prototype._getIconUrl;An.Icon.Default.mergeOptions({iconUrl:iW,iconRetinaUrl:rW,shadowUrl:aW});const sW="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",oW=An.icon({...An.Icon.Default.prototype.options,iconUrl:NL,iconRetinaUrl:NL}),uW=t=>An.icon({...An.Icon.Default.prototype.options,iconUrl:FL,iconRetinaUrl:FL,className:t}),lW=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],cW=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:ZG,communityId:QG,emailNotificationsIdentity:YG,emailNotificationsService:JG,emailNotificationsType:XG,geoindexService:eW,oidcIssuers:lW,tileServer:sW},Symbol.toStringTag,{value:"Module"})),Fd=crypto,PA=t=>t instanceof CryptoKey,ao=new TextEncoder,Ed=new TextDecoder;function XU(...t){const e=t.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}const fW=t=>{let e=t;typeof e=="string"&&(e=ao.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},m_=t=>fW(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),dW=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Dc=t=>{let e=t;e instanceof Uint8Array&&(e=Ed.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return dW(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Pi extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Pi.code="ERR_JOSE_GENERIC";class Ss extends Pi{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Ss.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class _C extends Pi{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}_C.code="ERR_JWT_EXPIRED";class e5 extends Pi{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}e5.code="ERR_JOSE_ALG_NOT_ALLOWED";class va extends Pi{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}va.code="ERR_JOSE_NOT_SUPPORTED";class hW extends Pi{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}hW.code="ERR_JWE_DECRYPTION_FAILED";class pW extends Pi{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}pW.code="ERR_JWE_INVALID";class Ir extends Pi{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Ir.code="ERR_JWS_INVALID";class _0 extends Pi{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}_0.code="ERR_JWT_INVALID";class gW extends Pi{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}gW.code="ERR_JWK_INVALID";class IA extends Pi{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}IA.code="ERR_JWKS_INVALID";class LA extends Pi{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}LA.code="ERR_JWKS_NO_MATCHING_KEY";class t5 extends Pi{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}t5.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class n5 extends Pi{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}n5.code="ERR_JWKS_TIMEOUT";class r5 extends Pi{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}r5.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function Ho(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function Hy(t,e){return t.name===e}function d1(t){return parseInt(t.name.slice(4),10)}function mW(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function yW(t,e){if(e.length&&!e.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const r=e.pop();n+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function vW(t,e,...n){switch(e){case"HS256":case"HS384":case"HS512":{if(!Hy(t.algorithm,"HMAC"))throw Ho("HMAC");const r=parseInt(e.slice(2),10);if(d1(t.algorithm.hash)!==r)throw Ho(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Hy(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Ho("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(d1(t.algorithm.hash)!==r)throw Ho(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Hy(t.algorithm,"RSA-PSS"))throw Ho("RSA-PSS");const r=parseInt(e.slice(2),10);if(d1(t.algorithm.hash)!==r)throw Ho(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Ho("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Hy(t.algorithm,"ECDSA"))throw Ho("ECDSA");const r=mW(e);if(t.algorithm.namedCurve!==r)throw Ho(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}yW(t,n)}function i5(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const wC=(t,...e)=>i5("Key must be ",t,...e);function a5(t,e,...n){return i5(`Key for the ${t} algorithm must be `,e,...n)}const s5=t=>PA(t)?!0:(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",Pg=["CryptoKey"],o5=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function _W(t){return typeof t=="object"&&t!==null}function su(t){if(!_W(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const u5=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function jd(t){return su(t)&&typeof t.kty=="string"}function wW(t){return t.kty!=="oct"&&typeof t.d=="string"}function bW(t){return t.kty!=="oct"&&typeof t.d>"u"}function SW(t){return jd(t)&&t.kty==="oct"&&typeof t.k=="string"}function xW(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new va('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const l5=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=xW(t),r=[e,t.ext??!1,t.key_ops??n],i={...t};return delete i.alg,delete i.use,Fd.subtle.importKey("jwk",i,...r)},c5=t=>Dc(t);let Mf,kf;const f5=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",H_=async(t,e,n,r,i=!1)=>{let a=t.get(e);if(a!=null&&a[r])return a[r];const s=await l5({...n,alg:r});return i&&Object.freeze(e),a?a[r]=s:t.set(e,{[r]:s}),s},EW=(t,e)=>{if(f5(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?c5(n.k):(kf||(kf=new WeakMap),H_(kf,t,n,e))}return jd(t)?t.k?Dc(t.k):(kf||(kf=new WeakMap),H_(kf,t,t,e,!0)):t},TW=(t,e)=>{if(f5(t)){let n=t.export({format:"jwk"});return n.k?c5(n.k):(Mf||(Mf=new WeakMap),H_(Mf,t,n,e))}return jd(t)?t.k?Dc(t.k):(Mf||(Mf=new WeakMap),H_(Mf,t,t,e,!0)):t},$L={normalizePublicKey:EW,normalizePrivateKey:TW};async function d5(t,e){if(!su(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Dc(t.k);case"RSA":if(t.oth!==void 0)throw new va('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return l5({...t,alg:e});default:throw new va('Unsupported "kty" (Key Type) Parameter value')}}const Zf=t=>t==null?void 0:t[Symbol.toStringTag],bC=(t,e,n)=>{var r,i;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((i=(r=e.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},CW=(t,e,n,r)=>{if(!(e instanceof Uint8Array)){if(r&&jd(e)){if(SW(e)&&bC(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!s5(e))throw new TypeError(a5(t,e,...Pg,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${Zf(e)} instances for symmetric algorithms must be of type "secret"`)}},AW=(t,e,n,r)=>{if(r&&jd(e))switch(n){case"sign":if(wW(e)&&bC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(bW(e)&&bC(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!s5(e))throw new TypeError(a5(t,e,...Pg,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${Zf(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${Zf(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function h5(t,e,n,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?CW(e,n,r,t):AW(e,n,r,t)}h5.bind(void 0,!1);const SC=h5.bind(void 0,!0);function p5(t,e,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...e.entries()]):a=e;for(const s of r.crit){if(!a.has(s))throw new va(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new t(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&r[s]===void 0)throw new t(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const RW=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},OW=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:m_(t)};if(!PA(t))throw new TypeError(wC(t,...Pg,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:r,use:i,...a}=await Fd.subtle.exportKey("jwk",t);return a};async function PW(t){return OW(t)}function g5(t,e){const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new va(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function m5(t,e,n){if(n==="sign"&&(e=await $L.normalizePrivateKey(e,t)),n==="verify"&&(e=await $L.normalizePublicKey(e,t)),PA(e))return vW(e,t,n),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(wC(e,...Pg));return Fd.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(wC(e,...Pg,"Uint8Array","JSON Web Key"))}const IW=async(t,e,n,r)=>{const i=await m5(t,e,"verify");u5(t,i);const a=g5(t,i.algorithm);try{return await Fd.subtle.verify(a,i,n,r)}catch{return!1}};async function LW(t,e,n){if(!su(t))throw new Ir("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new Ir('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new Ir("JWS Protected Header incorrect type");if(t.payload===void 0)throw new Ir("JWS Payload missing");if(typeof t.signature!="string")throw new Ir("JWS Signature missing or incorrect type");if(t.header!==void 0&&!su(t.header))throw new Ir("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const x=Dc(t.protected);r=JSON.parse(Ed.decode(x))}catch{throw new Ir("JWS Protected Header is invalid")}if(!o5(r,t.header))throw new Ir("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},a=p5(Ir,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let s=!0;if(a.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new Ir('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=i;if(typeof o!="string"||!o)throw new Ir('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=RW("algorithms",n.algorithms);if(l&&!l.has(o))throw new e5('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof t.payload!="string")throw new Ir("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new Ir("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof e=="function"?(e=await e(r,t),f=!0,SC(o,e,"verify"),jd(e)&&(e=await d5(e,o))):SC(o,e,"verify");const h=XU(ao.encode(t.protected??""),ao.encode("."),typeof t.payload=="string"?ao.encode(t.payload):t.payload);let p;try{p=Dc(t.signature)}catch{throw new Ir("Failed to base64url decode the signature")}if(!await IW(o,e,p,h))throw new r5;let y;if(s)try{y=Dc(t.payload)}catch{throw new Ir("Failed to base64url decode the payload")}else typeof t.payload=="string"?y=ao.encode(t.payload):y=t.payload;const _={payload:y};return t.protected!==void 0&&(_.protectedHeader=r),t.header!==void 0&&(_.unprotectedHeader=t.header),f?{..._,key:e}:_}async function MW(t,e,n){if(t instanceof Uint8Array&&(t=Ed.decode(t)),typeof t!="string")throw new Ir("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:s}=t.split(".");if(s!==3)throw new Ir("Invalid Compact JWS");const o=await LW({payload:i,protected:r,signature:a},e,n),l={payload:o.payload,protectedHeader:o.protectedHeader};return typeof e=="function"?{...l,key:o.key}:l}const tl=t=>Math.floor(t.getTime()/1e3),y5=60,v5=y5*60,MA=v5*24,kW=MA*7,DW=MA*365.25,NW=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,mg=t=>{const e=NW.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*y5);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*v5);break;case"day":case"days":case"d":i=Math.round(n*MA);break;case"week":case"weeks":case"w":i=Math.round(n*kW);break;default:i=Math.round(n*DW);break}return e[1]==="-"||e[4]==="ago"?-i:i},UL=t=>t.toLowerCase().replace(/^application\//,""),FW=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,jW=(t,e,n={})=>{let r;try{r=JSON.parse(Ed.decode(e))}catch{}if(!su(r))throw new _0("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||UL(t.typ)!==UL(i)))throw new Ss('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:s,subject:o,audience:l,maxTokenAge:f}=n,h=[...a];f!==void 0&&h.push("iat"),l!==void 0&&h.push("aud"),o!==void 0&&h.push("sub"),s!==void 0&&h.push("iss");for(const _ of new Set(h.reverse()))if(!(_ in r))throw new Ss(`missing required "${_}" claim`,r,_,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(r.iss))throw new Ss('unexpected "iss" claim value',r,"iss","check_failed");if(o&&r.sub!==o)throw new Ss('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!FW(r.aud,typeof l=="string"?[l]:l))throw new Ss('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=mg(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=tl(m||new Date);if((r.iat!==void 0||f)&&typeof r.iat!="number")throw new Ss('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Ss('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+p)throw new Ss('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Ss('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-p)throw new _C('"exp" claim timestamp check failed',r,"exp","check_failed")}if(f){const _=y-r.iat,x=typeof f=="number"?f:mg(f);if(_-p>x)throw new _C('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(_<0-p)throw new Ss('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function $W(t,e,n){var s;const r=await MW(t,e,n);if((s=r.protectedHeader.crit)!=null&&s.includes("b64")&&r.protectedHeader.b64===!1)throw new _0("JWTs MUST NOT use unencoded payload");const a={payload:jW(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...a,key:r.key}:a}const UW=async(t,e,n)=>{const r=await m5(t,e,"sign");u5(t,r);const i=await Fd.subtle.sign(g5(t,r.algorithm),r,n);return new Uint8Array(i)};class BW{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Ir("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!o5(this._protectedHeader,this._unprotectedHeader))throw new Ir("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=p5(Ir,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Ir('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=r;if(typeof s!="string"||!s)throw new Ir('JWS "alg" (Algorithm) Header Parameter missing or invalid');SC(s,e,"sign");let o=this._payload;a&&(o=ao.encode(m_(o)));let l;this._protectedHeader?l=ao.encode(m_(JSON.stringify(this._protectedHeader))):l=ao.encode("");const f=XU(l,ao.encode("."),o),h=await UW(s,e,f),p={signature:m_(h),payload:""};return a&&(p.payload=Ed.decode(o)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Ed.decode(l)),p}}class qW{constructor(e){this._flattened=new BW(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){const r=await this._flattened.sign(e,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function Yl(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}class HW{constructor(e={}){if(!su(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:Yl("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:Yl("setNotBefore",tl(e))}:this._payload={...this._payload,nbf:tl(new Date)+mg(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:Yl("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:Yl("setExpirationTime",tl(e))}:this._payload={...this._payload,exp:tl(new Date)+mg(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:tl(new Date)}:e instanceof Date?this._payload={...this._payload,iat:Yl("setIssuedAt",tl(e))}:typeof e=="string"?this._payload={...this._payload,iat:Yl("setIssuedAt",tl(new Date)+mg(e))}:this._payload={...this._payload,iat:Yl("setIssuedAt",e)},this}}class zW extends HW{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){var i;const r=new qW(ao.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new _0("JWTs MUST NOT use unencoded payload");return r.sign(e,n)}}function VW(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new va('Unsupported "alg" value for a JSON Web Key Set')}}function KW(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(GW)}function GW(t){return su(t)}function _5(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class WW{constructor(e){if(this._cached=new WeakMap,!KW(e))throw new IA("JSON Web Key Set malformed");this._jwks=_5(e)}async getKey(e,n){const{alg:r,kid:i}={...e,...n==null?void 0:n.header},a=VW(r),s=this._jwks.keys.filter(f=>{let h=a===f.kty;if(h&&typeof i=="string"&&(h=i===f.kid),h&&typeof f.alg=="string"&&(h=r===f.alg),h&&typeof f.use=="string"&&(h=f.use==="sig"),h&&Array.isArray(f.key_ops)&&(h=f.key_ops.includes("verify")),h&&r==="EdDSA"&&(h=f.crv==="Ed25519"||f.crv==="Ed448"),h)switch(r){case"ES256":h=f.crv==="P-256";break;case"ES256K":h=f.crv==="secp256k1";break;case"ES384":h=f.crv==="P-384";break;case"ES512":h=f.crv==="P-521";break}return h}),{0:o,length:l}=s;if(l===0)throw new LA;if(l!==1){const f=new t5,{_cached:h}=this;throw f[Symbol.asyncIterator]=async function*(){for(const p of s)try{yield await BL(h,p,r)}catch{}},f}return BL(this._cached,o,r)}}async function BL(t,e,n){const r=t.get(e)||t.set(e,{}).get(e);if(r[n]===void 0){const i=await d5({...e,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new IA("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function qL(t){const e=new WW(t),n=async(r,i)=>e.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>_5(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const QW=async(t,e,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},e));const s=await fetch(t.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(o=>{throw a?new n5:o});if(i!==void 0&&clearTimeout(i),s.status!==200)throw new Pi("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new Pi("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function ZW(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let xC;var c_,V$;(typeof navigator>"u"||!((V$=(c_=navigator.userAgent)==null?void 0:c_.startsWith)!=null&&V$.call(c_,"Mozilla/5.0 ")))&&(xC="jose/v5.9.6");const h1=Symbol();function JW(t,e){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=e||!("jwks"in t)||!su(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,su))}class YW{constructor(e,n){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[h1])!==void 0&&(this._cache=n==null?void 0:n[h1],JW(n==null?void 0:n[h1],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=qL(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(e,n)}catch(r){if(r instanceof LA&&this.coolingDown()===!1)return await this.reload(),this._local(e,n);throw r}}async reload(){this._pendingFetch&&ZW()&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);xC&&!e.has("User-Agent")&&(e.set("User-Agent",xC),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=QW(this._url,this._timeoutDuration,this._options).then(n=>{this._local=qL(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function XW(t,e){const n=new YW(t,e),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function p1(t){const e=(t==null?void 0:t.modulusLength)??2048;if(typeof e!="number"||e<2048)throw new va("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}async function eQ(t,e){let n,r;switch(t){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:p1(e)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:p1(e)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:p1(e)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new va("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new va("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new va('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Fd.subtle.generateKey(n,!1,r)}async function tQ(t,e){return eQ(t,e)}const xi=[];for(let t=0;t<256;++t)xi.push((t+256).toString(16).slice(1));function nQ(t,e=0){return(xi[t[e+0]]+xi[t[e+1]]+xi[t[e+2]]+xi[t[e+3]]+"-"+xi[t[e+4]]+xi[t[e+5]]+"-"+xi[t[e+6]]+xi[t[e+7]]+"-"+xi[t[e+8]]+xi[t[e+9]]+"-"+xi[t[e+10]]+xi[t[e+11]]+xi[t[e+12]]+xi[t[e+13]]+xi[t[e+14]]+xi[t[e+15]]).toLowerCase()}let g1;const rQ=new Uint8Array(16);function iQ(){if(!g1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g1=crypto.getRandomValues.bind(crypto)}return g1(rQ)}const aQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HL={randomUUID:aQ};function w5(t,e,n){if(HL.randomUUID&&!e&&!t)return HL.randomUUID();t=t||{};const r=t.random||(t.rng||iQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,nQ(r)}const b5="solidClientAuthn:",z_=["ES256","RS256"],ti={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},zL=5,sQ="openid",oQ="offline_access",uQ="webid",S5=[sQ,oQ,uQ].join(" ");class lQ{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...e)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const n=await this.getProperHandler(e);if(n)return n.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function x5(t,e,n,r){let i,a;try{const{payload:s}=await $W(t,XW(new URL(e)),{issuer:n,audience:r});i=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${s}].`)}}function E5(t){try{const e=new URL(t),n=!e.searchParams.has("code")&&!e.searchParams.has("state"),r=e.hash==="";return n&&r}catch{return!1}}function T5(t){const e=new URL(t);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function cQ(t,e){return typeof t=="boolean"?!!t:!!e}class fQ{constructor(e,n){this.storageUtility=e,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=e,this.redirector=n}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:cQ(e.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:e.handleRedirect})}}class dQ{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class hQ{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(e,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class pQ{constructor(e,n){this.handlers=[new dQ(e),new hQ(n)]}async canHandle(){return!0}async handle(e,n){for(const r of this.handlers)await r.canHandle(e,n)&&await r.handle(e,n)}}function C5(){return{isLoggedIn:!1,sessionId:w5(),fetch:(...t)=>fetch(...t)}}async function A5(t,e){await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0})])}class gQ{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,n){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return A5(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function mQ({endSessionEndpoint:t,idTokenHint:e,postLogoutRedirectUri:n,state:r}){const i=new URL(t);return e!==void 0&&i.searchParams.append("id_token_hint",e),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function yQ({endSessionEndpoint:t,idTokenHint:e}){if(t!==void 0)return function({state:r,postLogoutUrl:i}){return mQ({endSessionEndpoint:t,idTokenHint:e,state:r,postLogoutRedirectUri:i})}}function vQ(t){return typeof t=="string"&&["DPoP","Bearer"].includes(t)}function R5(t){try{return new URL(t),!0}catch{return!1}}function _Q(t,e){var n;return(n=e.find(r=>t.includes(r)))!==null&&n!==void 0?n:null}function wQ(t){return t.clientId!==void 0&&!R5(t.clientId)}function bQ(t,e){return e.scopesSupported.includes("webid")&&t.clientId!==void 0&&R5(t.clientId)}function SQ(t){return typeof t=="string"&&["dynamic","static","solid-oidc"].includes(t)}async function xQ(t,e,n,r){let i;if(bQ(t,e))i={clientId:t.clientId,clientName:t.clientName,clientType:"solid-oidc"};else if(wQ(t))i={clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:"static"};else return r.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(t.sessionId,a),i}const VL=(t,e)=>fetch(t,e);let EQ=class{constructor(e,n,r,i,a){this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=VL,this.logout=async(s,o)=>{await this.logoutHandler.handle(s,(o==null?void 0:o.logoutType)==="idp"?{...o,toLogoutUrl:this.boundLogout}:o),this.fetch=VL,delete this.boundLogout},this.getSessionInfo=async s=>this.sessionInfoManager.get(s),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function O5(t,e,n){try{const[r,i,a,s,o]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUrl"),e.getForUser(t,"dpop",{errorIfNull:!0}),e.getForUser(t,"keepAlive")]);await e.deleteForUser(t,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:s==="true",keepAlive:typeof o=="string"?o==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${r}`)}}async function TQ(t,e,n,r,i,a,s,o){n!==void 0&&await t.setForUser(e,{webId:n},{secure:s}),r!==void 0&&await t.setForUser(e,{clientId:r},{secure:s}),await t.setForUser(e,{isLoggedIn:i},{secure:s})}class CQ{constructor(e,n){this.secureStorage=e,this.insecureStorage=n,this.secureStorage=e,this.insecureStorage=n}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${e}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(n))}async get(e,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(e);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${e}] is not stored`);return r}async set(e,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(e,n)}async delete(e,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${e}] is not stored`);return a||void 0}async setForUser(e,n,r){let i;try{i=await this.getUserData(e,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(e,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);delete i[n],await this.setUserData(e,i,r==null?void 0:r.secure)}async deleteAllUserData(e,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class AQ{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,n){this.map[e]=n}async delete(e){delete this.map[e]}}class EC extends Error{constructor(e){super(e)}}class rg extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class P5 extends Error{constructor(e,n,r){super(e),this.error=n,this.errorDescription=r}}function RQ(t){const e=new URL(t);return new URL(e.pathname,e.origin).toString()}async function kA(t,e,n){return new zW({htu:RQ(t),htm:e.toUpperCase(),jti:w5()}).setProtectedHeader({alg:z_[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function OQ(){const{privateKey:t,publicKey:e}=await tQ(z_[0]),n={privateKey:t,publicKey:await PW(e)};return[n.publicKey.alg]=z_,n}const I5=600;function PQ(t){return[401,403].includes(t)}async function IQ(t,e,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${e}`),a.set("DPoP",await kA(t,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function LQ(t,e,n,r){if(n!==void 0)return IQ(t,e,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${e}`),{...r,headers:i}}async function KL(t,e,n,r){return fetch(e,await LQ(e.toString(),t,r,n))}async function MQ(t,e,n){var r;const i=await t.tokenRefresher.refresh(t.sessionId,t.refreshToken,e);return n==null||n.emit(ti.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:I5),typeof i.refreshToken=="string"&&(n==null||n.emit(ti.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const m1=t=>t!==void 0?t-zL>0?t-zL:t:I5;async function kQ(t,e){var n;let r=t,i;const a=e==null?void 0:e.refreshOptions;if(a!==void 0){const s=async()=>{var o,l,f,h;try{const{accessToken:p,refreshToken:m,expiresIn:y}=await MQ(a,e.dpopKey,e.eventEmitter);r=p,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(s,m1(y)*1e3),(o=e.eventEmitter)===null||o===void 0||o.emit(ti.TIMEOUT_SET,i)}catch(p){p instanceof P5&&((l=e==null?void 0:e.eventEmitter)===null||l===void 0||l.emit(ti.ERROR,p.error,p.errorDescription),(f=e==null?void 0:e.eventEmitter)===null||f===void 0||f.emit(ti.SESSION_EXPIRED)),p instanceof rg&&p.missingFields.includes("access_token")&&((h=e==null?void 0:e.eventEmitter)===null||h===void 0||h.emit(ti.SESSION_EXPIRED))}};i=setTimeout(s,m1(e.expiresIn)*1e3),(n=e.eventEmitter)===null||n===void 0||n.emit(ti.TIMEOUT_SET,i)}else if(e!==void 0&&e.eventEmitter!==void 0){const s=setTimeout(()=>{e.eventEmitter.emit(ti.SESSION_EXPIRED)},m1(e.expiresIn)*1e3);e.eventEmitter.emit(ti.TIMEOUT_SET,s)}return async(s,o)=>{let l=await KL(r,s,o,e==null?void 0:e.dpopKey);const f=!l.ok&&!PQ(l.status);return l.ok||f||l.url!==s&&(e==null?void 0:e.dpopKey)!==void 0&&(l=await KL(r,l.url,o,e.dpopKey)),l}}const Ei=[];for(let t=0;t<256;++t)Ei.push((t+256).toString(16).slice(1));function DQ(t,e=0){return(Ei[t[e+0]]+Ei[t[e+1]]+Ei[t[e+2]]+Ei[t[e+3]]+"-"+Ei[t[e+4]]+Ei[t[e+5]]+"-"+Ei[t[e+6]]+Ei[t[e+7]]+"-"+Ei[t[e+8]]+Ei[t[e+9]]+"-"+Ei[t[e+10]]+Ei[t[e+11]]+Ei[t[e+12]]+Ei[t[e+13]]+Ei[t[e+14]]+Ei[t[e+15]]).toLowerCase()}let y1;const NQ=new Uint8Array(16);function FQ(){if(!y1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");y1=crypto.getRandomValues.bind(crypto)}return y1(NQ)}const jQ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GL={randomUUID:jQ};function $Q(t,e,n){if(GL.randomUUID&&!e&&!t)return GL.randomUUID();t=t||{};const r=t.random||(t.rng||FQ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,DQ(r)}var zy={exports:{}},WL;function $d(){if(WL)return zy.exports;WL=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,I,F){return Function.prototype.apply.call(M,I,F)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:n=function(M){return Object.getOwnPropertyNames(M)};function r(k){console&&console.warn&&console.warn(k)}var i=Number.isNaN||function(M){return M!==M};function a(){a.init.call(this)}zy.exports=a,zy.exports.once=S,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");s=k}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function l(k){return k._maxListeners===void 0?a.defaultMaxListeners:k._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(M){for(var I=[],F=1;F<arguments.length;F++)I.push(arguments[F]);var B=M==="error",ee=this._events;if(ee!==void 0)B=B&&ee.error===void 0;else if(!B)return!1;if(B){var U;if(I.length>0&&(U=I[0]),U instanceof Error)throw U;var J=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw J.context=U,J}var le=ee[M];if(le===void 0)return!1;if(typeof le=="function")e(le,this,I);else for(var Y=le.length,se=_(le,Y),F=0;F<Y;++F)e(se[F],this,I);return!0};function f(k,M,I,F){var B,ee,U;if(o(I),ee=k._events,ee===void 0?(ee=k._events=Object.create(null),k._eventsCount=0):(ee.newListener!==void 0&&(k.emit("newListener",M,I.listener?I.listener:I),ee=k._events),U=ee[M]),U===void 0)U=ee[M]=I,++k._eventsCount;else if(typeof U=="function"?U=ee[M]=F?[I,U]:[U,I]:F?U.unshift(I):U.push(I),B=l(k),B>0&&U.length>B&&!U.warned){U.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=k,J.type=M,J.count=U.length,r(J)}return k}a.prototype.addListener=function(M,I){return f(this,M,I,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,I){return f(this,M,I,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(k,M,I){var F={fired:!1,wrapFn:void 0,target:k,type:M,listener:I},B=h.bind(F);return B.listener=I,F.wrapFn=B,B}a.prototype.once=function(M,I){return o(I),this.on(M,p(this,M,I)),this},a.prototype.prependOnceListener=function(M,I){return o(I),this.prependListener(M,p(this,M,I)),this},a.prototype.removeListener=function(M,I){var F,B,ee,U,J;if(o(I),B=this._events,B===void 0)return this;if(F=B[M],F===void 0)return this;if(F===I||F.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete B[M],B.removeListener&&this.emit("removeListener",M,F.listener||I));else if(typeof F!="function"){for(ee=-1,U=F.length-1;U>=0;U--)if(F[U]===I||F[U].listener===I){J=F[U].listener,ee=U;break}if(ee<0)return this;ee===0?F.shift():x(F,ee),F.length===1&&(B[M]=F[0]),B.removeListener!==void 0&&this.emit("removeListener",M,J||I)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(M){var I,F,B;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[M]),this;if(arguments.length===0){var ee=Object.keys(F),U;for(B=0;B<ee.length;++B)U=ee[B],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=F[M],typeof I=="function")this.removeListener(M,I);else if(I!==void 0)for(B=I.length-1;B>=0;B--)this.removeListener(M,I[B]);return this};function m(k,M,I){var F=k._events;if(F===void 0)return[];var B=F[M];return B===void 0?[]:typeof B=="function"?I?[B.listener||B]:[B]:I?E(B):_(B,B.length)}a.prototype.listeners=function(M){return m(this,M,!0)},a.prototype.rawListeners=function(M){return m(this,M,!1)},a.listenerCount=function(k,M){return typeof k.listenerCount=="function"?k.listenerCount(M):y.call(k,M)},a.prototype.listenerCount=y;function y(k){var M=this._events;if(M!==void 0){var I=M[k];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function _(k,M){for(var I=new Array(M),F=0;F<M;++F)I[F]=k[F];return I}function x(k,M){for(;M+1<k.length;M++)k[M]=k[M+1];k.pop()}function E(k){for(var M=new Array(k.length),I=0;I<M.length;++I)M[I]=k[I].listener||k[I];return M}function S(k,M){return new Promise(function(I,F){function B(U){k.removeListener(M,ee),F(U)}function ee(){typeof k.removeListener=="function"&&k.removeListener("error",B),I([].slice.call(arguments))}A(k,M,ee,{once:!0}),M!=="error"&&b(k,B,{once:!0})})}function b(k,M,I){typeof k.on=="function"&&A(k,"error",M,I)}function A(k,M,I,F){if(typeof k.on=="function")F.once?k.once(M,I):k.on(M,I);else if(typeof k.addEventListener=="function")k.addEventListener(M,function B(ee){F.once&&k.removeEventListener(M,B),I(ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return zy.exports}var UQ=$d();const BQ=Ur(UQ);var y_={exports:{}},qQ=y_.exports,QL;function HQ(){return QL||(QL=1,function(t,e){(function(r,i){t.exports=i()})(qQ,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:o})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,s){if(1&s&&(a=i(a)),8&s||4&s&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),2&s&&typeof a!="string")for(var l in a)i.d(o,l,(function(f){return a[f]}).bind(null,l));return o},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),s={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,l=void 0;(r.Log=function(){function f(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f)}return f.reset=function(){l=3,o=s},f.debug=function(){if(l>=4){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.debug.apply(o,Array.from(m))}},f.info=function(){if(l>=3){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.info.apply(o,Array.from(m))}},f.warn=function(){if(l>=2){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.warn.apply(o,Array.from(m))}},f.error=function(){if(l>=1){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.error.apply(o,Array.from(m))}},a(f,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");l=p}},{key:"logger",get:function(){return o},set:function(p){if(!p.debug&&p.info&&(p.debug=p.info),!(p.debug&&p.info&&p.warn&&p.error))throw new Error("Invalid logger");o=p}}]),f}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),s={setInterval:function(f){function h(p,m){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h}(function(f,h){return setInterval(f,h)}),clearInterval:function(f){function h(p){return f.apply(this,arguments)}return h.toString=function(){return f.toString()},h}(function(f){return clearInterval(f)})},o=!1,l=null;r.Global=function(){function f(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,f)}return f._testing=function(){o=!0},f.setXMLHttpRequest=function(p){l=p},a(f,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!o&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return s}}]),f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(0),o=i(7);function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration";r.MetadataService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.JsonService;if(l(this,h),!p)throw s.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=p,this._jsonService=new m(["application/jwk-set+json"])}return h.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},h.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(s.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(s.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){s.Log.debug("MetadataService.getMetadata: json received");var _=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},_,y),m._settings.metadata})):(s.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},h.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},h.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},h.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},h.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},h.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},h.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},h.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},h.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},h.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return s.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(_){if(s.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),_[m]===void 0){if(y===!0)return void s.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw s.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return _[m]})},h.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(s.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return s.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(_){if(s.Log.debug("MetadataService.getSigningKeys: key set received",_),!_.keys)throw s.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=_.keys,m._settings.signingKeys})})},a(h,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=f))),this._metadataUrl}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),s=i(1);r.UrlUtility=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.addQueryParam=function(f,h,p){return f.indexOf("?")<0&&(f+="?"),f[f.length-1]!=="?"&&(f+="&"),f+=encodeURIComponent(h),f+="=",f+=encodeURIComponent(p)},o.parseUrlFragment=function(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global;typeof f!="string"&&(f=p.location.href);var m=f.lastIndexOf(h);m>=0&&(f=f.substr(m+1)),h==="?"&&(m=f.indexOf("#"))>=0&&(f=f.substr(0,m));for(var y,_={},x=/([^&=]+)=([^&]*)/g,E=0;y=x.exec(f);)if(_[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),E++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",f),{error:"Response exceeded expected number of parameters"};for(var S in _)return _;return{}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),s=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,s.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},s=function(){function S(b,A){for(var k=0;k<A.length;k++){var M=A[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(b,M.key,M)}}return function(b,A,k){return A&&S(b.prototype,A),k&&S(b,k),b}}(),o=i(0),l=i(23),f=i(6),h=i(24),p=i(2);function m(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",_="id_token",x="openid",E="client_secret_post";r.OidcClientSettings=function(){function S(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=b.authority,k=b.metadataUrl,M=b.metadata,I=b.signingKeys,F=b.metadataSeed,B=b.client_id,ee=b.client_secret,U=b.response_type,J=U===void 0?_:U,le=b.scope,Y=le===void 0?x:le,se=b.redirect_uri,me=b.post_logout_redirect_uri,ve=b.client_authentication,fe=ve===void 0?E:ve,ue=b.prompt,Oe=b.display,D=b.max_age,X=b.ui_locales,ce=b.acr_values,V=b.resource,Z=b.response_mode,he=b.filterProtocolClaims,xe=he===void 0||he,Ve=b.loadUserInfo,Te=Ve===void 0||Ve,Me=b.staleStateAge,Ze=Me===void 0?900:Me,ie=b.clockSkew,z=ie===void 0?300:ie,$=b.clockService,re=$===void 0?new l.ClockService:$,W=b.userInfoJwtIssuer,pe=W===void 0?"OP":W,ye=b.mergeClaims,ze=ye!==void 0&&ye,Ce=b.stateStore,Fe=Ce===void 0?new f.WebStorageStateStore:Ce,tt=b.ResponseValidatorCtor,nt=tt===void 0?h.ResponseValidator:tt,gt=b.MetadataServiceCtor,Ut=gt===void 0?p.MetadataService:gt,Se=b.extraQueryParams,Be=Se===void 0?{}:Se,te=b.extraTokenParams,H=te===void 0?{}:te;m(this,S),this._authority=A,this._metadataUrl=k,this._metadata=M,this._metadataSeed=F,this._signingKeys=I,this._client_id=B,this._client_secret=ee,this._response_type=J,this._scope=Y,this._redirect_uri=se,this._post_logout_redirect_uri=me,this._client_authentication=fe,this._prompt=ue,this._display=Oe,this._max_age=D,this._ui_locales=X,this._acr_values=ce,this._resource=V,this._response_mode=Z,this._filterProtocolClaims=!!xe,this._loadUserInfo=!!Te,this._staleStateAge=Ze,this._clockSkew=z,this._clockService=re,this._userInfoJwtIssuer=pe,this._mergeClaims=!!ze,this._stateStore=Fe,this._validator=new nt(this),this._metadataService=new Ut(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(H===void 0?"undefined":a(H))==="object"?H:{}}return S.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},s(S,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),s=i(1);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.prefix,p=h===void 0?"oidc.":h,m=f.store,y=m===void 0?s.Global.localStorage:m;o(this,l),this._store=y,this._prefix=p}return l.prototype.set=function(h,p){return a.Log.debug("WebStorageStateStore.set",h),h=this._prefix+h,this._store.setItem(h,p),Promise.resolve()},l.prototype.get=function(h){a.Log.debug("WebStorageStateStore.get",h),h=this._prefix+h;var p=this._store.getItem(h);return Promise.resolve(p)},l.prototype.remove=function(h){a.Log.debug("WebStorageStateStore.remove",h),h=this._prefix+h;var p=this._store.getItem(h);return this._store.removeItem(h),Promise.resolve(p)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var h=[],p=0;p<this._store.length;p++){var m=this._store.key(p);m.indexOf(this._prefix)===0&&h.push(m.substr(this._prefix.length))}return Promise.resolve(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),s=i(1);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;o(this,l),f&&Array.isArray(f)?this._contentTypes=f.slice():this._contentTypes=[],this._contentTypes.push("application/json"),p&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=h,this._jwtHandler=p}return l.prototype.getJson=function(h,p){var m=this;if(!h)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",h),new Promise(function(y,_){var x=new m._XMLHttpRequest;x.open("GET",h);var E=m._contentTypes,S=m._jwtHandler;x.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",x.status),x.status===200){var b=x.getResponseHeader("Content-Type");if(b){var A=E.find(function(k){if(b.startsWith(k))return!0});if(A=="application/jwt")return void S(x).then(y,_);if(A)try{return void y(JSON.parse(x.responseText))}catch(k){return a.Log.error("JsonService.getJson: Error parsing JSON response",k.message),void _(k)}}_(Error("Invalid response Content-Type: "+b+", from URL: "+h))}else _(Error(x.statusText+" ("+x.status+")"))},x.onerror=function(){a.Log.error("JsonService.getJson: network error"),_(Error("Network Error"))},p&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),x.setRequestHeader("Authorization","Bearer "+p)),x.send()})},l.prototype.postForm=function(h,p,m){var y=this;if(!h)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",h),new Promise(function(_,x){var E=new y._XMLHttpRequest;E.open("POST",h);var S=y._contentTypes;E.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",E.status),E.status!==200){if(E.status===400&&(I=E.getResponseHeader("Content-Type"))&&S.find(function(F){if(I.startsWith(F))return!0}))try{var M=JSON.parse(E.responseText);if(M&&M.error)return a.Log.error("JsonService.postForm: Error from server: ",M.error),void x(new Error(M.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void x(F)}x(Error(E.statusText+" ("+E.status+")"))}else{var I;if((I=E.getResponseHeader("Content-Type"))&&S.find(function(F){if(I.startsWith(F))return!0}))try{return void _(JSON.parse(E.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void x(F)}x(Error("Invalid response Content-Type: "+I+", from URL: "+h))}},E.onerror=function(){a.Log.error("JsonService.postForm: network error"),x(Error("Network Error"))};var b="";for(var A in p){var k=p[A];k&&(b.length>0&&(b+="&"),b+=encodeURIComponent(A),b+="=",b+=encodeURIComponent(k))}E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&E.setRequestHeader("Authorization","Basic "+btoa(m)),E.send(b)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),s=i(3),o=i(13);r.SigninRequest=function(){function l(f){var h=f.url,p=f.client_id,m=f.redirect_uri,y=f.response_type,_=f.scope,x=f.authority,E=f.data,S=f.prompt,b=f.display,A=f.max_age,k=f.ui_locales,M=f.id_token_hint,I=f.login_hint,F=f.acr_values,B=f.resource,ee=f.response_mode,U=f.request,J=f.request_uri,le=f.extraQueryParams,Y=f.request_type,se=f.client_secret,me=f.extraTokenParams,ve=f.skipUserInfo;if(function(V,Z){if(!(V instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!p)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!_)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!x)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var fe=l.isOidc(y),ue=l.isCode(y);ee||(ee=l.isCode(y)?"query":null),this.state=new o.SigninState({nonce:fe,data:E,client_id:p,authority:x,redirect_uri:m,code_verifier:ue,request_type:Y,response_mode:ee,client_secret:se,scope:_,extraTokenParams:me,skipUserInfo:ve}),h=s.UrlUtility.addQueryParam(h,"client_id",p),h=s.UrlUtility.addQueryParam(h,"redirect_uri",m),h=s.UrlUtility.addQueryParam(h,"response_type",y),h=s.UrlUtility.addQueryParam(h,"scope",_),h=s.UrlUtility.addQueryParam(h,"state",this.state.id),fe&&(h=s.UrlUtility.addQueryParam(h,"nonce",this.state.nonce)),ue&&(h=s.UrlUtility.addQueryParam(h,"code_challenge",this.state.code_challenge),h=s.UrlUtility.addQueryParam(h,"code_challenge_method","S256"));var Oe={prompt:S,display:b,max_age:A,ui_locales:k,id_token_hint:M,login_hint:I,acr_values:F,resource:B,request:U,request_uri:J,response_mode:ee};for(var D in Oe)Oe[D]&&(h=s.UrlUtility.addQueryParam(h,D,Oe[D]));for(var X in le)h=s.UrlUtility.addQueryParam(h,X,le[X]);this.url=h}return l.isOidc=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="id_token"})[0]},l.isOAuth=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="token"})[0]},l.isCode=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function f(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&f(h.prototype,p),m&&f(h,m),h}}(),s=i(0),o=function(h){return h&&h.__esModule?h:{default:h}}(i(14));function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}r.State=function(){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.id,m=h.data,y=h.created,_=h.request_type;l(this,f),this._id=p||(0,o.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=_}return f.prototype.toStorageString=function(){return s.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},f.fromStorageString=function(p){return s.Log.debug("State.fromStorageString"),new f(JSON.parse(p))},f.clearStaleState=function(p,m){var y=Date.now()/1e3-m;return p.getAllKeys().then(function(_){s.Log.debug("State.clearStaleState: got keys",_);for(var x=[],E=function(k){var M=_[k];b=p.get(M).then(function(I){var F=!1;if(I)try{var B=f.fromStorageString(I);s.Log.debug("State.clearStaleState: got item from key: ",M,B.created),B.created<=y&&(F=!0)}catch(ee){s.Log.error("State.clearStaleState: Error parsing state for key",M,ee.message),F=!0}else s.Log.debug("State.clearStaleState: no item in storage for key: ",M),F=!0;if(F)return s.Log.debug("State.clearStaleState: removed item for key: ",M),p.remove(M)}),x.push(b)},S=0;S<_.length;S++){var b;E(S)}return s.Log.debug("State.clearStaleState: waiting on promise count:",x.length),Promise.all(x)})},a(f,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function E(S,b){for(var A=0;A<b.length;A++){var k=b[A];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,k.key,k)}}return function(S,b,A){return b&&E(S.prototype,b),A&&E(S,A),S}}(),s=i(0),o=i(5),l=i(12),f=i(8),h=i(34),p=i(35),m=i(36),y=i(13),_=i(9);function x(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function E(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(this,E),S instanceof o.OidcClientSettings?this._settings=S:this._settings=new o.OidcClientSettings(S)}return E.prototype.createSigninRequest=function(){var b=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=A.response_type,M=A.scope,I=A.redirect_uri,F=A.data,B=A.state,ee=A.prompt,U=A.display,J=A.max_age,le=A.ui_locales,Y=A.id_token_hint,se=A.login_hint,me=A.acr_values,ve=A.resource,fe=A.request,ue=A.request_uri,Oe=A.response_mode,D=A.extraQueryParams,X=A.extraTokenParams,ce=A.request_type,V=A.skipUserInfo,Z=arguments[1];s.Log.debug("OidcClient.createSigninRequest");var he=this._settings.client_id;k=k||this._settings.response_type,M=M||this._settings.scope,I=I||this._settings.redirect_uri,ee=ee||this._settings.prompt,U=U||this._settings.display,J=J||this._settings.max_age,le=le||this._settings.ui_locales,me=me||this._settings.acr_values,ve=ve||this._settings.resource,Oe=Oe||this._settings.response_mode,D=D||this._settings.extraQueryParams,X=X||this._settings.extraTokenParams;var xe=this._settings.authority;return f.SigninRequest.isCode(k)&&k!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Ve){s.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Ve);var Te=new f.SigninRequest({url:Ve,client_id:he,redirect_uri:I,response_type:k,scope:M,data:F||B,authority:xe,prompt:ee,display:U,max_age:J,ui_locales:le,id_token_hint:Y,login_hint:se,acr_values:me,resource:ve,request:fe,request_uri:ue,extraQueryParams:D,extraTokenParams:X,request_type:ce,response_mode:Oe,client_secret:b._settings.client_secret,skipUserInfo:V}),Me=Te.state;return(Z=Z||b._stateStore).set(Me.id,Me.toStorageString()).then(function(){return Te})})},E.prototype.readSigninResponseState=function(b,A){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSigninResponseState");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type),I=M?"?":"#",F=new h.SigninResponse(b,I);if(!F.state)return s.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var B=k?A.remove.bind(A):A.get.bind(A);return B(F.state).then(function(ee){if(!ee)throw s.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(ee),response:F}})},E.prototype.processSigninResponse=function(b,A){var k=this;return s.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(b,A,!0).then(function(M){var I=M.state,F=M.response;return s.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),k._validator.validateSigninResponse(I,F)})},E.prototype.createSignoutRequest=function(){var b=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=A.id_token_hint,M=A.data,I=A.state,F=A.post_logout_redirect_uri,B=A.extraQueryParams,ee=A.request_type,U=arguments[1];return s.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,B=B||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(J){if(!J)throw s.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");s.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",J);var le=new p.SignoutRequest({url:J,id_token_hint:k,post_logout_redirect_uri:F,data:M||I,extraQueryParams:B,request_type:ee}),Y=le.state;return Y&&(s.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(U=U||b._stateStore).set(Y.id,Y.toStorageString())),le})},E.prototype.readSignoutResponseState=function(b,A){var k=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSignoutResponseState");var M=new m.SignoutResponse(b);if(!M.state)return s.Log.debug("OidcClient.readSignoutResponseState: No state in response"),M.error?(s.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",M.error),Promise.reject(new l.ErrorResponse(M))):Promise.resolve({state:void 0,response:M});var I=M.state;A=A||this._stateStore;var F=k?A.remove.bind(A):A.get.bind(A);return F(I).then(function(B){if(!B)throw s.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:_.State.fromStorageString(B),response:M}})},E.prototype.processSignoutResponse=function(b,A){var k=this;return s.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(b,A,!0).then(function(M){var I=M.state,F=M.response;return I?(s.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),k._validator.validateSignoutResponse(I,F)):(s.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},E.prototype.clearStaleState=function(b){return s.Log.debug("OidcClient.clearStaleState"),b=b||this._stateStore,_.State.clearStaleState(b,this.settings.staleStateAge)},a(E,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),E}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),s=i(2),o=i(0);function l(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function f(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(l(this,f),!h)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new p,this._metadataService=new m(this._settings)}return f.prototype.exchangeCode=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,_=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||_!="client_secret_basic"?(_=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(x){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),p._jsonService.postForm(x,m,y).then(function(E){return o.Log.debug("TokenClient.exchangeCode: response received"),E})})):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},f.prototype.exchangeRefreshToken=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,_=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(_=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(x){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),p._jsonService.postForm(x,m,y).then(function(E){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),E})})):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},f}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function o(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?l:f}r.ErrorResponse=function(l){function f(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.error,m=h.error_description,y=h.error_uri,_=h.state,x=h.session_state;if(s(this,f),!p)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var E=o(this,l.call(this,m||p));return E.name="ErrorResponse",E.error=p,E.error_description=m,E.error_uri=y,E.state=_,E.session_state=x,E}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(f,l),f}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,_){for(var x=0;x<_.length;x++){var E=_[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,_,x){return _&&m(y.prototype,_),x&&m(y,x),y}}(),s=i(0),o=i(9),l=i(4),f=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=_.nonce,E=_.authority,S=_.client_id,b=_.redirect_uri,A=_.code_verifier,k=_.response_mode,M=_.client_secret,I=_.scope,F=_.extraTokenParams,B=_.skipUserInfo;h(this,y);var ee=p(this,m.call(this,arguments[0]));if(x===!0?ee._nonce=(0,f.default)():x&&(ee._nonce=x),A===!0?ee._code_verifier=(0,f.default)()+(0,f.default)()+(0,f.default)():A&&(ee._code_verifier=A),ee.code_verifier){var U=l.JoseUtil.hashString(ee.code_verifier,"SHA256");ee._code_challenge=l.JoseUtil.hexToBase64Url(U)}return ee._redirect_uri=b,ee._authority=E,ee._client_id=S,ee._response_mode=k,ee._client_secret=M,ee._scope=I,ee._extraTokenParams=F,ee._skipUserInfo=B,ee}return function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}(y,m),y.prototype.toStorageString=function(){return s.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(x){return s.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(x))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(o.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?s:o)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.User=function(){function o(l){var f=l.id_token,h=l.session_state,p=l.access_token,m=l.refresh_token,y=l.token_type,_=l.scope,x=l.profile,E=l.expires_at,S=l.state;(function(A,k){if(!(A instanceof k))throw new TypeError("Cannot call a class as a function")})(this,o),this.id_token=f,this.session_state=h,this.access_token=p,this.refresh_token=m,this.token_type=y,this.scope=_,this.profile=x,this.expires_at=E,this.state=S}return o.prototype.toStorageString=function(){return s.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},o.fromStorageString=function(f){return s.Log.debug("User.fromStorageString"),new o(JSON.parse(f))},a(o,[{key:"expires_in",get:function(){if(this.expires_at){var f=parseInt(Date.now()/1e3);return this.expires_at-f}},set:function(f){var h=parseInt(f);if(typeof h=="number"&&h>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+h}}},{key:"expired",get:function(){var f=this.expires_in;if(f!==void 0)return f<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),s=i(46);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=f.accessTokenExpiringNotificationTime,p=h===void 0?60:h,m=f.accessTokenExpiringTimer,y=m===void 0?new s.Timer("Access token expiring"):m,_=f.accessTokenExpiredTimer,x=_===void 0?new s.Timer("Access token expired"):_;o(this,l),this._accessTokenExpiringNotificationTime=p,this._accessTokenExpiring=y,this._accessTokenExpired=x}return l.prototype.load=function(h){if(h.access_token&&h.expires_in!==void 0){var p=h.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",p),p>0){var m=p-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=p+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(h){this._accessTokenExpiring.addHandler(h)},l.prototype.removeAccessTokenExpiring=function(h){this._accessTokenExpiring.removeHandler(h)},l.prototype.addAccessTokenExpired=function(h){this._accessTokenExpired.addHandler(h)},l.prototype.removeAccessTokenExpired=function(h){this._accessTokenExpired.removeHandler(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function s(o){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._name=o,this._callbacks=[]}return s.prototype.addHandler=function(l){this._callbacks.push(l)},s.prototype.removeHandler=function(l){var f=this._callbacks.findIndex(function(h){return h===l});f>=0&&this._callbacks.splice(f,1)},s.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var f;(f=this._callbacks)[l].apply(f,arguments)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(0),o=i(19),l=i(1);function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function h(p){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.CheckSessionIFrame,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(f(this,h),!p)throw s.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=p,this._CheckSessionIFrameCtor=y,this._timer=_,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(x){x?m._start(x):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(E){var S={session_state:E.session_state};E.sub&&E.sid&&(S.profile={sub:E.sub,sid:E.sid}),m._start(S)}).catch(function(E){s.Log.error("SessionMonitor ctor: error from querySessionStatus:",E.message)})}).catch(function(x){s.Log.error("SessionMonitor ctor: error from getUser:",x.message)}))}return h.prototype._start=function(m){var y=this,_=m.session_state;_&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,s.Log.debug("SessionMonitor._start: session_state:",_,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,s.Log.debug("SessionMonitor._start: session_state:",_,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(_):this._metadataService.getCheckSessionIframe().then(function(x){if(x){s.Log.debug("SessionMonitor._start: Initializing check session iframe");var E=y._client_id,S=y._checkSessionInterval,b=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),E,x,S,b),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(_)})}else s.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(x){s.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",x.message)}))},h.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(s.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(_){var x={session_state:_.session_state};_.sub&&_.sid&&(x.profile={sub:_.sub,sid:_.sid}),m._start(x)}).catch(function(_){s.Log.error("SessionMonitor: error from querySessionStatus:",_.message)})},1e3)},h.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var _=!0;y?y.sub===m._sub?(_=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):s.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):s.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),_&&(m._sub?(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(s.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(h,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function o(l,f,h,p){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];s(this,o),this._callback=l,this._client_id=f,this._url=h,this._interval=p||2e3,this._stopOnError=m;var y=h.indexOf("/",h.indexOf("//")+2);this._frame_origin=h.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=h}return o.prototype.load=function(){var f=this;return new Promise(function(h){f._frame.onload=function(){h()},window.document.body.appendChild(f._frame),f._boundMessageEvent=f._message.bind(f),window.addEventListener("message",f._boundMessageEvent,!1)})},o.prototype._message=function(f){f.origin===this._frame_origin&&f.source===this._frame.contentWindow&&(f.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):f.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+f.data+" message from check session op iframe"))},o.prototype.start=function(f){var h=this;if(this._session_state!==f){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=f;var p=function(){h._frame.contentWindow.postMessage(h._client_id+" "+h._session_state,h._frame_origin)};p(),this._timer=window.setInterval(p,this._interval)}},o.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),s=i(2),o=i(1);function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var f="access_token",h="refresh_token";r.TokenRevocationClient=function(){function p(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(l(this,p),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new _(this._settings)}return p.prototype.revoke=function(y,_){var x=this,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(E!==f&&E!=h)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(S){if(S){a.Log.debug("TokenRevocationClient.revoke: Revoking "+E);var b=x._settings.client_id,A=x._settings.client_secret;return x._revoke(S,b,A,y,E)}if(_)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},p.prototype._revoke=function(y,_,x,E,S){var b=this;return new Promise(function(A,k){var M=new b._XMLHttpRequestCtor;M.open("POST",y),M.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",M.status),M.status===200?A():k(Error(M.statusText+" ("+M.status+")"))},M.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),k("Network Error")};var I="client_id="+encodeURIComponent(_);x&&(I+="&client_secret="+encodeURIComponent(x)),I+="&token_type_hint="+encodeURIComponent(S),I+="&token="+encodeURIComponent(E),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.send(I)})},p}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.CordovaPopupWindow=function(){function o(l){var f=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(h,p){f._resolve=h,f._reject=p}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,s.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return o.prototype._isInAppBrowserInstalled=function(f){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(h){return f.hasOwnProperty(h)})},o.prototype.navigate=function(f){if(f&&f.url){if(!window.cordova)return this._error("cordova is undefined");var h=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(h)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(f.url,this.target,this.features),this._popup?(s.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},o.prototype._loadStartCallback=function(f){f.url.indexOf(this.redirect_uri)===0&&this._success({url:f.url})},o.prototype._exitCallback=function(f){this._error(f)},o.prototype._success=function(f){this._cleanup(),s.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(f)},o.prototype._error=function(f){this._cleanup(),s.Log.error(f),this._reject(new Error(f))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._popup&&(s.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(o,[{key:"promise",get:function(){return this._promise}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),s=i(10),o=i(5),l=i(6),f=i(37),h=i(38),p=i(16),m=i(2),y=i(48),_=i(49),x=i(19),E=i(20),S=i(18),b=i(1),A=i(15),k=i(50);r.default={Version:k.Version,Log:a.Log,OidcClient:s.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:f.InMemoryWebStorage,UserManager:h.UserManager,AccessTokenEvents:p.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:_.CordovaIFrameNavigator,CheckSessionIFrame:x.CheckSessionIFrame,TokenRevocationClient:E.TokenRevocationClient,SessionMonitor:S.SessionMonitor,Global:b.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},s=i(0),o=i(2),l=i(25),f=i(11),h=i(12),p=i(4);function m(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function _(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.MetadataService,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f.TokenClient;if(m(this,_),!x)throw s.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=x,this._metadataService=new E(this._settings),this._userInfoService=new S(this._settings),this._joseUtil=b,this._tokenClient=new A(this._settings)}return _.prototype.validateSigninResponse=function(E,S){var b=this;return s.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(E,S).then(function(A){return s.Log.debug("ResponseValidator.validateSigninResponse: state processed"),b._validateTokens(E,A).then(function(k){return s.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),b._processClaims(E,k).then(function(M){return s.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),M})})})},_.prototype.validateSignoutResponse=function(E,S){return E.id!==S.state?(s.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(s.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),S.state=E.data,S.error?(s.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",S.error),Promise.reject(new h.ErrorResponse(S))):Promise.resolve(S))},_.prototype._processSigninParams=function(E,S){if(E.id!==S.state)return s.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!E.client_id)return s.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!E.authority)return s.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==E.authority)return s.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=E.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==E.client_id)return s.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=E.client_id;return s.Log.debug("ResponseValidator._processSigninParams: state validated"),S.state=E.data,S.error?(s.Log.warn("ResponseValidator._processSigninParams: Response was error",S.error),Promise.reject(new h.ErrorResponse(S))):E.nonce&&!S.id_token?(s.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!E.nonce&&S.id_token?(s.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):E.code_verifier&&!S.code?(s.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!E.code_verifier&&S.code?(s.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(S.scope||(S.scope=E.scope),Promise.resolve(S))},_.prototype._processClaims=function(E,S){var b=this;if(S.isOpenIdConnect){if(s.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),S.profile=this._filterProtocolClaims(S.profile),E.skipUserInfo!==!0&&this._settings.loadUserInfo&&S.access_token)return s.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(S.access_token).then(function(A){return s.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==S.profile.sub?(s.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(S.profile=b._mergeClaims(S.profile,A),s.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",S.profile),S)});s.Log.debug("ResponseValidator._processClaims: not loading user info")}else s.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(S)},_.prototype._mergeClaims=function(E,S){var b=Object.assign({},E);for(var A in S){var k=S[A];Array.isArray(k)||(k=[k]);for(var M=0;M<k.length;M++){var I=k[M];b[A]?Array.isArray(b[A])?b[A].indexOf(I)<0&&b[A].push(I):b[A]!==I&&((I===void 0?"undefined":a(I))==="object"&&this._settings.mergeClaims?b[A]=this._mergeClaims(b[A],I):b[A]=[b[A],I]):b[A]=I}}return b},_.prototype._filterProtocolClaims=function(E){s.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",E);var S=Object.assign({},E);return this._settings._filterProtocolClaims?(y.forEach(function(b){delete S[b]}),s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",S)):s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),S},_.prototype._validateTokens=function(E,S){return S.code?(s.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(E,S)):S.id_token?S.access_token?(s.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(E,S)):(s.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(E,S)):(s.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(S))},_.prototype._processCode=function(E,S){var b=this,A={client_id:E.client_id,client_secret:E.client_secret,code:S.code,redirect_uri:E.redirect_uri,code_verifier:E.code_verifier};return E.extraTokenParams&&a(E.extraTokenParams)==="object"&&Object.assign(A,E.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(k){for(var M in k)S[M]=k[M];return S.id_token?(s.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),b._validateIdTokenAttributes(E,S)):(s.Log.debug("ResponseValidator._processCode: token response successful, returning response"),S)})},_.prototype._validateIdTokenAttributes=function(E,S){var b=this;return this._metadataService.getIssuer().then(function(A){var k=E.client_id,M=b._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",M),b._settings.getEpochTime().then(function(I){return b._joseUtil.validateJwtAttributes(S.id_token,A,k,M,I).then(function(F){return E.nonce&&E.nonce!==F.nonce?(s.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(S.profile=F,S):(s.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},_.prototype._validateIdTokenAndAccessToken=function(E,S){var b=this;return this._validateIdToken(E,S).then(function(A){return b._validateAccessToken(A)})},_.prototype._getSigningKeyForJwt=function(E){var S=this;return this._metadataService.getSigningKeys().then(function(b){var A=E.header.kid;if(!b)return s.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var k=void 0;if(A)k=b.filter(function(M){return M.kid===A})[0];else{if((b=S._filterByAlg(b,E.header.alg)).length>1)return s.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));k=b[0]}return Promise.resolve(k)})},_.prototype._getSigningKeyForJwtWithSingleRetry=function(E){var S=this;return this._getSigningKeyForJwt(E).then(function(b){return b?Promise.resolve(b):(S._metadataService.resetSigningKeys(),S._getSigningKeyForJwt(E))})},_.prototype._validateIdToken=function(E,S){var b=this;if(!E.nonce)return s.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(S.id_token);return A&&A.header&&A.payload?E.nonce!==A.payload.nonce?(s.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(k){return s.Log.debug("ResponseValidator._validateIdToken: Received issuer"),b._getSigningKeyForJwtWithSingleRetry(A).then(function(M){if(!M)return s.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=E.client_id,F=b._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),b._joseUtil.validateJwt(S.id_token,M,k,I,F).then(function(){return s.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(S.profile=A.payload,S):(s.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(s.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},_.prototype._filterByAlg=function(E,S){var b=null;if(S.startsWith("RS"))b="RSA";else if(S.startsWith("PS"))b="PS";else{if(!S.startsWith("ES"))return s.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",S),[];b="EC"}return s.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",b),E=E.filter(function(A){return A.kty===b}),s.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",b,E.length),E},_.prototype._validateAccessToken=function(E){if(!E.profile)return s.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!E.profile.at_hash)return s.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!E.id_token)return s.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var S=this._joseUtil.parseJwt(E.id_token);if(!S||!S.header)return s.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",S),Promise.reject(new Error("Failed to parse id_token"));var b=S.header.alg;if(!b||b.length!==5)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",b),Promise.reject(new Error("Unsupported alg: "+b));var A=b.substr(2,3);if(!A)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",b,A),Promise.reject(new Error("Unsupported alg: "+b));if((A=parseInt(A))!==256&&A!==384&&A!==512)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",b,A),Promise.reject(new Error("Unsupported alg: "+b));var k="sha"+A,M=this._joseUtil.hashString(E.access_token,k);if(!M)return s.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",k),Promise.reject(new Error("Failed to validate at_hash"));var I=M.substr(0,M.length/2),F=this._joseUtil.hexToBase64Url(I);return F!==E.profile.at_hash?(s.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,E.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(s.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(E))},_}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),s=i(2),o=i(0),l=i(4);function f(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(f(this,h),!p)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=_}return h.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(_){return o.Log.debug("UserInfoService.getClaims: received userinfo url",_),y._jsonService.getJson(_,m).then(function(x){return o.Log.debug("UserInfoService.getClaims: claims received",x),x})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},h.prototype._getClaimsFromJwt=function(m){var y=this;try{var _=this._joseUtil.parseJwt(m.responseText);if(!_||!_.header||!_.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",_),Promise.reject(new Error("Failed to parse id_token"));var x=_.header.kid,E=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":E=this._metadataService.getIssuer();break;case"ANY":E=Promise.resolve(_.payload.iss);break;default:E=Promise.resolve(this._settings.userInfoJwtIssuer)}return E.then(function(S){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+S),y._metadataService.getSigningKeys().then(function(b){if(!b)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(x)A=b.filter(function(I){return I.kid===x})[0];else{if((b=y._filterByAlg(b,_.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=b[0]}if(!A)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var k=y._settings.client_id,M=y._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",M),y._joseUtil.validateJwt(m.responseText,A,S,k,M,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),_.payload})})})}catch(S){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",S.message),void reject(S)}},h.prototype._filterByAlg=function(m,y){var _=null;if(y.startsWith("RS"))_="RSA";else if(y.startsWith("PS"))_="PS";else{if(!y.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];_="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",_),m=m.filter(function(x){return x.kty===_}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",_,m.length),m},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var s,o,l,f,h,p,m,y,_,x,E,S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},b={userAgent:!1},A={},k=k||(s=Math,l=(o={}).lib={},f=l.Base=function(){function C(){}return{extend:function(R){C.prototype=this;var N=new C;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=l.WordArray=f.extend({init:function(T,R){T=this.words=T||[],this.sigBytes=R??4*T.length},toString:function(T){return(T||m).stringify(this)},concat:function(T){var R=this.words,N=T.words,Q=this.sigBytes,oe=T.sigBytes;if(this.clamp(),Q%4)for(var we=0;we<oe;we++){var Le=N[we>>>2]>>>24-we%4*8&255;R[Q+we>>>2]|=Le<<24-(Q+we)%4*8}else for(we=0;we<oe;we+=4)R[Q+we>>>2]=N[we>>>2];return this.sigBytes+=oe,this},clamp:function(){var T=this.words,R=this.sigBytes;T[R>>>2]&=4294967295<<32-R%4*8,T.length=s.ceil(R/4)},clone:function(){var T=f.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var R=[],N=0;N<T;N+=4)R.push(4294967296*s.random()|0);return new h.init(R,T)}}),p=o.enc={},m=p.Hex={stringify:function(T){for(var R=T.words,N=T.sigBytes,Q=[],oe=0;oe<N;oe++){var we=R[oe>>>2]>>>24-oe%4*8&255;Q.push((we>>>4).toString(16)),Q.push((15&we).toString(16))}return Q.join("")},parse:function(T){for(var R=T.length,N=[],Q=0;Q<R;Q+=2)N[Q>>>3]|=parseInt(T.substr(Q,2),16)<<24-Q%8*4;return new h.init(N,R/2)}},y=p.Latin1={stringify:function(T){for(var R=T.words,N=T.sigBytes,Q=[],oe=0;oe<N;oe++){var we=R[oe>>>2]>>>24-oe%4*8&255;Q.push(String.fromCharCode(we))}return Q.join("")},parse:function(T){for(var R=T.length,N=[],Q=0;Q<R;Q++)N[Q>>>2]|=(255&T.charCodeAt(Q))<<24-Q%4*8;return new h.init(N,R)}},_=p.Utf8={stringify:function(T){try{return decodeURIComponent(escape(y.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return y.parse(unescape(encodeURIComponent(T)))}},x=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=_.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var R=this._data,N=R.words,Q=R.sigBytes,oe=this.blockSize,we=Q/(4*oe),Le=(we=T?s.ceil(we):s.max((0|we)-this._minBufferSize,0))*oe,Ee=s.min(4*Le,Q);if(Le){for(var Pe=0;Pe<Le;Pe+=oe)this._doProcessBlock(N,Pe);var ke=N.splice(0,Le);R.sigBytes-=Ee}return new h.init(ke,Ee)},clone:function(){var T=f.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),l.Hasher=x.extend({cfg:f.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(R,N){return new T.init(N).finalize(R)}},_createHmacHelper:function(T){return function(R,N){return new E.HMAC.init(T,N).finalize(R)}}}),E=o.algo={},o);(function(C){var T,R=(T=k).lib,N=R.Base,Q=R.WordArray;(T=T.x64={}).Word=N.extend({init:function(we,Le){this.high=we,this.low=Le}}),T.WordArray=N.extend({init:function(we,Le){we=this.words=we||[],this.sigBytes=Le??8*we.length},toX32:function(){for(var we=this.words,Le=we.length,Ee=[],Pe=0;Pe<Le;Pe++){var ke=we[Pe];Ee.push(ke.high),Ee.push(ke.low)}return Q.create(Ee,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Le=we.words=this.words.slice(0),Ee=Le.length,Pe=0;Pe<Ee;Pe++)Le[Pe]=Le[Pe].clone();return we}})})(),function(){var C=k,T=C.lib.WordArray;C.enc.Base64={stringify:function(N){var Q=N.words,oe=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Le=0;Le<oe;Le+=3)for(var Ee=(Q[Le>>>2]>>>24-Le%4*8&255)<<16|(Q[Le+1>>>2]>>>24-(Le+1)%4*8&255)<<8|Q[Le+2>>>2]>>>24-(Le+2)%4*8&255,Pe=0;4>Pe&&Le+.75*Pe<oe;Pe++)N.push(we.charAt(Ee>>>6*(3-Pe)&63));if(Q=we.charAt(64))for(;N.length%4;)N.push(Q);return N.join("")},parse:function(N){var Q=N.length,oe=this._map;(we=oe.charAt(64))&&(we=N.indexOf(we))!=-1&&(Q=we);for(var we=[],Le=0,Ee=0;Ee<Q;Ee++)if(Ee%4){var Pe=oe.indexOf(N.charAt(Ee-1))<<Ee%4*2,ke=oe.indexOf(N.charAt(Ee))>>>6-Ee%4*2;we[Le>>>2]|=(Pe|ke)<<24-Le%4*8,Le++}return T.create(we,Le)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(C){for(var T=k,R=(Q=T.lib).WordArray,N=Q.Hasher,Q=T.algo,oe=[],we=[],Le=function(dt){return 4294967296*(dt-(0|dt))|0},Ee=2,Pe=0;64>Pe;){var ke;e:{ke=Ee;for(var $e=C.sqrt(ke),He=2;He<=$e;He++)if(!(ke%He)){ke=!1;break e}ke=!0}ke&&(8>Pe&&(oe[Pe]=Le(C.pow(Ee,.5))),we[Pe]=Le(C.pow(Ee,1/3)),Pe++),Ee++}var Xe=[];Q=Q.SHA256=N.extend({_doReset:function(){this._hash=new R.init(oe.slice(0))},_doProcessBlock:function(dt,ut){for(var be=this._hash.words,De=be[0],Ue=be[1],Ge=be[2],lt=be[3],mt=be[4],Ft=be[5],Tt=be[6],pn=be[7],Dt=0;64>Dt;Dt++){if(16>Dt)Xe[Dt]=0|dt[ut+Dt];else{var Ht=Xe[Dt-15],Un=Xe[Dt-2];Xe[Dt]=((Ht<<25|Ht>>>7)^(Ht<<14|Ht>>>18)^Ht>>>3)+Xe[Dt-7]+((Un<<15|Un>>>17)^(Un<<13|Un>>>19)^Un>>>10)+Xe[Dt-16]}Ht=pn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&Ft^~mt&Tt)+we[Dt]+Xe[Dt],Un=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ge^Ue&Ge),pn=Tt,Tt=Ft,Ft=mt,mt=lt+Ht|0,lt=Ge,Ge=Ue,Ue=De,De=Ht+Un|0}be[0]=be[0]+De|0,be[1]=be[1]+Ue|0,be[2]=be[2]+Ge|0,be[3]=be[3]+lt|0,be[4]=be[4]+mt|0,be[5]=be[5]+Ft|0,be[6]=be[6]+Tt|0,be[7]=be[7]+pn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,be=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=C.floor(be/4294967296),ut[15+(De+64>>>9<<4)]=be,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),T.SHA256=N._createHelper(Q),T.HmacSHA256=N._createHmacHelper(Q)}(Math),function(){function C(){return N.create.apply(N,arguments)}for(var T=k,R=T.lib.Hasher,N=(oe=T.x64).Word,Q=oe.WordArray,oe=T.algo,we=[C(1116352408,3609767458),C(1899447441,602891725),C(3049323471,3964484399),C(3921009573,2173295548),C(961987163,4081628472),C(1508970993,3053834265),C(2453635748,2937671579),C(2870763221,3664609560),C(3624381080,2734883394),C(310598401,1164996542),C(607225278,1323610764),C(1426881987,3590304994),C(1925078388,4068182383),C(2162078206,991336113),C(2614888103,633803317),C(3248222580,3479774868),C(3835390401,2666613458),C(4022224774,944711139),C(264347078,2341262773),C(604807628,2007800933),C(770255983,1495990901),C(1249150122,1856431235),C(1555081692,3175218132),C(1996064986,2198950837),C(2554220882,3999719339),C(2821834349,766784016),C(2952996808,2566594879),C(3210313671,3203337956),C(3336571891,1034457026),C(3584528711,2466948901),C(113926993,3758326383),C(338241895,168717936),C(666307205,1188179964),C(773529912,1546045734),C(1294757372,1522805485),C(1396182291,2643833823),C(1695183700,2343527390),C(1986661051,1014477480),C(2177026350,1206759142),C(2456956037,344077627),C(2730485921,1290863460),C(2820302411,3158454273),C(3259730800,3505952657),C(3345764771,106217008),C(3516065817,3606008344),C(3600352804,1432725776),C(4094571909,1467031594),C(275423344,851169720),C(430227734,3100823752),C(506948616,1363258195),C(659060556,3750685593),C(883997877,3785050280),C(958139571,3318307427),C(1322822218,3812723403),C(1537002063,2003034995),C(1747873779,3602036899),C(1955562222,1575990012),C(2024104815,1125592928),C(2227730452,2716904306),C(2361852424,442776044),C(2428436474,593698344),C(2756734187,3733110249),C(3204031479,2999351573),C(3329325298,3815920427),C(3391569614,3928383900),C(3515267271,566280711),C(3940187606,3454069534),C(4118630271,4000239992),C(116418474,1914138554),C(174292421,2731055270),C(289380356,3203993006),C(460393269,320620315),C(685471733,587496836),C(852142971,1086792851),C(1017036298,365543100),C(1126000580,2618297676),C(1288033470,3409855158),C(1501505948,4234509866),C(1607167915,987167468),C(1816402316,1246189591)],Le=[],Ee=0;80>Ee;Ee++)Le[Ee]=C();oe=oe.SHA512=R.extend({_doReset:function(){this._hash=new Q.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(ke,$e){for(var He=(Ue=this._hash.words)[0],Xe=Ue[1],st=Ue[2],dt=Ue[3],ut=Ue[4],be=Ue[5],De=Ue[6],Ue=Ue[7],Ge=He.high,lt=He.low,mt=Xe.high,Ft=Xe.low,Tt=st.high,pn=st.low,Dt=dt.high,Ht=dt.low,Un=ut.high,Mn=ut.low,Fn=be.high,Wt=be.low,Kn=De.high,hn=De.low,Yn=Ue.high,hr=Ue.low,pr=Ge,or=lt,yi=mt,qi=Ft,la=Tt,nr=pn,Ii=Dt,hs=Ht,rr=Un,Lr=Mn,Ka=Fn,Hi=Wt,_u=Kn,Ga=hn,yn=Yn,Ta=hr,ur=0;80>ur;ur++){var Li=Le[ur];if(16>ur)var ca=Li.high=0|ke[$e+2*ur],lr=Li.low=0|ke[$e+2*ur+1];else{ca=((lr=(ca=Le[ur-15]).high)>>>1|(zi=ca.low)<<31)^(lr>>>8|zi<<24)^lr>>>7;var zi=(zi>>>1|lr<<31)^(zi>>>8|lr<<24)^(zi>>>7|lr<<25),Wa=((lr=(Wa=Le[ur-2]).high)>>>19|(Cr=Wa.low)<<13)^(lr<<3|Cr>>>29)^lr>>>6,Cr=(Cr>>>19|lr<<13)^(Cr<<3|lr>>>29)^(Cr>>>6|lr<<26),Al=(lr=Le[ur-7]).high,ps=(Ca=Le[ur-16]).high,Ca=Ca.low;ca=(ca=(ca=ca+Al+((lr=zi+lr.low)>>>0<zi>>>0?1:0))+Wa+((lr=lr+Cr)>>>0<Cr>>>0?1:0))+ps+((lr=lr+Ca)>>>0<Ca>>>0?1:0),Li.high=ca,Li.low=lr}Al=rr&Ka^~rr&_u,Ca=Lr&Hi^~Lr&Ga,Li=pr&yi^pr&la^yi&la;var th=or&qi^or&nr^qi&nr,Vi=(zi=(pr>>>28|or<<4)^(pr<<30|or>>>2)^(pr<<25|or>>>7),Wa=(or>>>28|pr<<4)^(or<<30|pr>>>2)^(or<<25|pr>>>7),(Cr=we[ur]).high),ef=Cr.low;ps=yn+((rr>>>14|Lr<<18)^(rr>>>18|Lr<<14)^(rr<<23|Lr>>>9))+((Cr=Ta+((Lr>>>14|rr<<18)^(Lr>>>18|rr<<14)^(Lr<<23|rr>>>9)))>>>0<Ta>>>0?1:0),yn=_u,Ta=Ga,_u=Ka,Ga=Hi,Ka=rr,Hi=Lr,rr=Ii+(ps=(ps=(ps=ps+Al+((Cr=Cr+Ca)>>>0<Ca>>>0?1:0))+Vi+((Cr=Cr+ef)>>>0<ef>>>0?1:0))+ca+((Cr=Cr+lr)>>>0<lr>>>0?1:0))+((Lr=hs+Cr|0)>>>0<hs>>>0?1:0)|0,Ii=la,hs=nr,la=yi,nr=qi,yi=pr,qi=or,pr=ps+(Li=zi+Li+((lr=Wa+th)>>>0<Wa>>>0?1:0))+((or=Cr+lr|0)>>>0<Cr>>>0?1:0)|0}lt=He.low=lt+or,He.high=Ge+pr+(lt>>>0<or>>>0?1:0),Ft=Xe.low=Ft+qi,Xe.high=mt+yi+(Ft>>>0<qi>>>0?1:0),pn=st.low=pn+nr,st.high=Tt+la+(pn>>>0<nr>>>0?1:0),Ht=dt.low=Ht+hs,dt.high=Dt+Ii+(Ht>>>0<hs>>>0?1:0),Mn=ut.low=Mn+Lr,ut.high=Un+rr+(Mn>>>0<Lr>>>0?1:0),Wt=be.low=Wt+Hi,be.high=Fn+Ka+(Wt>>>0<Hi>>>0?1:0),hn=De.low=hn+Ga,De.high=Kn+_u+(hn>>>0<Ga>>>0?1:0),hr=Ue.low=hr+Ta,Ue.high=Yn+yn+(hr>>>0<Ta>>>0?1:0)},_doFinalize:function(){var ke=this._data,$e=ke.words,He=8*this._nDataBytes,Xe=8*ke.sigBytes;return $e[Xe>>>5]|=128<<24-Xe%32,$e[30+(Xe+128>>>10<<5)]=Math.floor(He/4294967296),$e[31+(Xe+128>>>10<<5)]=He,ke.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var ke=R.clone.call(this);return ke._hash=this._hash.clone(),ke},blockSize:32}),T.SHA512=R._createHelper(oe),T.HmacSHA512=R._createHmacHelper(oe)}(),function(){var C=k,T=(Q=C.x64).Word,R=Q.WordArray,N=(Q=C.algo).SHA512,Q=Q.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new T.init(3418070365,3238371032),new T.init(1654270250,914150663),new T.init(2438529370,812702999),new T.init(355462360,4144912697),new T.init(1731405415,4290775857),new T.init(2394180231,1750603025),new T.init(3675008525,1694076839),new T.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});C.SHA384=N._createHelper(Q),C.HmacSHA384=N._createHmacHelper(Q)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var M,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(C){var T,R,N="";for(T=0;T+3<=C.length;T+=3)R=parseInt(C.substring(T,T+3),16),N+=I.charAt(R>>6)+I.charAt(63&R);for(T+1==C.length?(R=parseInt(C.substring(T,T+1),16),N+=I.charAt(R<<2)):T+2==C.length&&(R=parseInt(C.substring(T,T+2),16),N+=I.charAt(R>>2)+I.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function B(C){var T,R,N,Q="",oe=0;for(T=0;T<C.length&&C.charAt(T)!="=";++T)(N=I.indexOf(C.charAt(T)))<0||(oe==0?(Q+=me(N>>2),R=3&N,oe=1):oe==1?(Q+=me(R<<2|N>>4),R=15&N,oe=2):oe==2?(Q+=me(R),Q+=me(N>>2),R=3&N,oe=3):(Q+=me(R<<2|N>>4),Q+=me(15&N),oe=0));return oe==1&&(Q+=me(R<<2)),Q}function ee(C){var T,R=B(C),N=new Array;for(T=0;2*T<R.length;++T)N[T]=parseInt(R.substring(2*T,2*T+2),16);return N}function U(C,T,R){C!=null&&(typeof C=="number"?this.fromNumber(C,T,R):T==null&&typeof C!="string"?this.fromString(C,256):this.fromString(C,T))}function J(){return new U(null)}b.appName=="Microsoft Internet Explorer"?(U.prototype.am=function(T,R,N,Q,oe,we){for(var Le=32767&R,Ee=R>>15;--we>=0;){var Pe=32767&this[T],ke=this[T++]>>15,$e=Ee*Pe+ke*Le;oe=((Pe=Le*Pe+((32767&$e)<<15)+N[Q]+(1073741823&oe))>>>30)+($e>>>15)+Ee*ke+(oe>>>30),N[Q++]=1073741823&Pe}return oe},M=30):b.appName!="Netscape"?(U.prototype.am=function(T,R,N,Q,oe,we){for(;--we>=0;){var Le=R*this[T++]+N[Q]+oe;oe=Math.floor(Le/67108864),N[Q++]=67108863&Le}return oe},M=26):(U.prototype.am=function(T,R,N,Q,oe,we){for(var Le=16383&R,Ee=R>>14;--we>=0;){var Pe=16383&this[T],ke=this[T++]>>14,$e=Ee*Pe+ke*Le;oe=((Pe=Le*Pe+((16383&$e)<<14)+N[Q]+oe)>>28)+($e>>14)+Ee*ke,N[Q++]=268435455&Pe}return oe},M=28),U.prototype.DB=M,U.prototype.DM=(1<<M)-1,U.prototype.DV=1<<M,U.prototype.FV=Math.pow(2,52),U.prototype.F1=52-M,U.prototype.F2=2*M-52;var le,Y,se=new Array;for(le=48,Y=0;Y<=9;++Y)se[le++]=Y;for(le=97,Y=10;Y<36;++Y)se[le++]=Y;for(le=65,Y=10;Y<36;++Y)se[le++]=Y;function me(C){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(C)}function ve(C,T){var R=se[C.charCodeAt(T)];return R??-1}function fe(C){var T=J();return T.fromInt(C),T}function ue(C){var T,R=1;return(T=C>>>16)!=0&&(C=T,R+=16),(T=C>>8)!=0&&(C=T,R+=8),(T=C>>4)!=0&&(C=T,R+=4),(T=C>>2)!=0&&(C=T,R+=2),(T=C>>1)!=0&&(C=T,R+=1),R}function Oe(C){this.m=C}function D(C){this.m=C,this.mp=C.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<C.DB-15)-1,this.mt2=2*C.t}function X(C,T){return C&T}function ce(C,T){return C|T}function V(C,T){return C^T}function Z(C,T){return C&~T}function he(C){if(C==0)return-1;var T=0;return!(65535&C)&&(C>>=16,T+=16),!(255&C)&&(C>>=8,T+=8),!(15&C)&&(C>>=4,T+=4),!(3&C)&&(C>>=2,T+=2),!(1&C)&&++T,T}function xe(C){for(var T=0;C!=0;)C&=C-1,++T;return T}function Ve(){}function Te(C){return C}function Me(C){this.r2=J(),this.q3=J(),U.ONE.dlShiftTo(2*C.t,this.r2),this.mu=this.r2.divide(C),this.m=C}Oe.prototype.convert=function(T){return T.s<0||T.compareTo(this.m)>=0?T.mod(this.m):T},Oe.prototype.revert=function(T){return T},Oe.prototype.reduce=function(T){T.divRemTo(this.m,null,T)},Oe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Oe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},D.prototype.convert=function(T){var R=J();return T.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),T.s<0&&R.compareTo(U.ZERO)>0&&this.m.subTo(R,R),R},D.prototype.revert=function(T){var R=J();return T.copyTo(R),this.reduce(R),R},D.prototype.reduce=function(T){for(;T.t<=this.mt2;)T[T.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&T[R],Q=N*this.mpl+((N*this.mph+(T[R]>>15)*this.mpl&this.um)<<15)&T.DM;for(T[N=R+this.m.t]+=this.m.am(0,Q,T,R,0,this.m.t);T[N]>=T.DV;)T[N]-=T.DV,T[++N]++}T.clamp(),T.drShiftTo(this.m.t,T),T.compareTo(this.m)>=0&&T.subTo(this.m,T)},D.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},D.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},U.prototype.copyTo=function(T){for(var R=this.t-1;R>=0;--R)T[R]=this[R];T.t=this.t,T.s=this.s},U.prototype.fromInt=function(T){this.t=1,this.s=T<0?-1:0,T>0?this[0]=T:T<-1?this[0]=T+this.DV:this.t=0},U.prototype.fromString=function(T,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(T,R);N=2}this.t=0,this.s=0;for(var Q=T.length,oe=!1,we=0;--Q>=0;){var Le=N==8?255&T[Q]:ve(T,Q);Le<0?T.charAt(Q)=="-"&&(oe=!0):(oe=!1,we==0?this[this.t++]=Le:we+N>this.DB?(this[this.t-1]|=(Le&(1<<this.DB-we)-1)<<we,this[this.t++]=Le>>this.DB-we):this[this.t-1]|=Le<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&T[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),oe&&U.ZERO.subTo(this,this)},U.prototype.clamp=function(){for(var T=this.s&this.DM;this.t>0&&this[this.t-1]==T;)--this.t},U.prototype.dlShiftTo=function(T,R){var N;for(N=this.t-1;N>=0;--N)R[N+T]=this[N];for(N=T-1;N>=0;--N)R[N]=0;R.t=this.t+T,R.s=this.s},U.prototype.drShiftTo=function(T,R){for(var N=T;N<this.t;++N)R[N-T]=this[N];R.t=Math.max(this.t-T,0),R.s=this.s},U.prototype.lShiftTo=function(T,R){var N,Q=T%this.DB,oe=this.DB-Q,we=(1<<oe)-1,Le=Math.floor(T/this.DB),Ee=this.s<<Q&this.DM;for(N=this.t-1;N>=0;--N)R[N+Le+1]=this[N]>>oe|Ee,Ee=(this[N]&we)<<Q;for(N=Le-1;N>=0;--N)R[N]=0;R[Le]=Ee,R.t=this.t+Le+1,R.s=this.s,R.clamp()},U.prototype.rShiftTo=function(T,R){R.s=this.s;var N=Math.floor(T/this.DB);if(N>=this.t)R.t=0;else{var Q=T%this.DB,oe=this.DB-Q,we=(1<<Q)-1;R[0]=this[N]>>Q;for(var Le=N+1;Le<this.t;++Le)R[Le-N-1]|=(this[Le]&we)<<oe,R[Le-N]=this[Le]>>Q;Q>0&&(R[this.t-N-1]|=(this.s&we)<<oe),R.t=this.t-N,R.clamp()}},U.prototype.subTo=function(T,R){for(var N=0,Q=0,oe=Math.min(T.t,this.t);N<oe;)Q+=this[N]-T[N],R[N++]=Q&this.DM,Q>>=this.DB;if(T.t<this.t){for(Q-=T.s;N<this.t;)Q+=this[N],R[N++]=Q&this.DM,Q>>=this.DB;Q+=this.s}else{for(Q+=this.s;N<T.t;)Q-=T[N],R[N++]=Q&this.DM,Q>>=this.DB;Q-=T.s}R.s=Q<0?-1:0,Q<-1?R[N++]=this.DV+Q:Q>0&&(R[N++]=Q),R.t=N,R.clamp()},U.prototype.multiplyTo=function(T,R){var N=this.abs(),Q=T.abs(),oe=N.t;for(R.t=oe+Q.t;--oe>=0;)R[oe]=0;for(oe=0;oe<Q.t;++oe)R[oe+N.t]=N.am(0,Q[oe],R,oe,0,N.t);R.s=0,R.clamp(),this.s!=T.s&&U.ZERO.subTo(R,R)},U.prototype.squareTo=function(T){for(var R=this.abs(),N=T.t=2*R.t;--N>=0;)T[N]=0;for(N=0;N<R.t-1;++N){var Q=R.am(N,R[N],T,2*N,0,1);(T[N+R.t]+=R.am(N+1,2*R[N],T,2*N+1,Q,R.t-N-1))>=R.DV&&(T[N+R.t]-=R.DV,T[N+R.t+1]=1)}T.t>0&&(T[T.t-1]+=R.am(N,R[N],T,2*N,0,1)),T.s=0,T.clamp()},U.prototype.divRemTo=function(T,R,N){var Q=T.abs();if(!(Q.t<=0)){var oe=this.abs();if(oe.t<Q.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=J());var we=J(),Le=this.s,Ee=T.s,Pe=this.DB-ue(Q[Q.t-1]);Pe>0?(Q.lShiftTo(Pe,we),oe.lShiftTo(Pe,N)):(Q.copyTo(we),oe.copyTo(N));var ke=we.t,$e=we[ke-1];if($e!=0){var He=$e*(1<<this.F1)+(ke>1?we[ke-2]>>this.F2:0),Xe=this.FV/He,st=(1<<this.F1)/He,dt=1<<this.F2,ut=N.t,be=ut-ke,De=R??J();for(we.dlShiftTo(be,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),U.ONE.dlShiftTo(ke,De),De.subTo(we,we);we.t<ke;)we[we.t++]=0;for(;--be>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Xe+(N[ut-1]+dt)*st);if((N[ut]+=we.am(0,Ue,N,be,0,ke))<Ue)for(we.dlShiftTo(be,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(ke,R),Le!=Ee&&U.ZERO.subTo(R,R)),N.t=ke,N.clamp(),Pe>0&&N.rShiftTo(Pe,N),Le<0&&U.ZERO.subTo(N,N)}}},U.prototype.invDigit=function(){if(this.t<1)return 0;var T=this[0];if(!(1&T))return 0;var R=3&T;return(R=(R=(R=(R=R*(2-(15&T)*R)&15)*(2-(255&T)*R)&255)*(2-((65535&T)*R&65535))&65535)*(2-T*R%this.DV)%this.DV)>0?this.DV-R:-R},U.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},U.prototype.exp=function(T,R){if(T>4294967295||T<1)return U.ONE;var N=J(),Q=J(),oe=R.convert(this),we=ue(T)-1;for(oe.copyTo(N);--we>=0;)if(R.sqrTo(N,Q),(T&1<<we)>0)R.mulTo(Q,oe,N);else{var Le=N;N=Q,Q=Le}return R.revert(N)},U.prototype.toString=function(T){if(this.s<0)return"-"+this.negate().toString(T);var R;if(T==16)R=4;else if(T==8)R=3;else if(T==2)R=1;else if(T==32)R=5;else{if(T!=4)return this.toRadix(T);R=2}var N,Q=(1<<R)-1,oe=!1,we="",Le=this.t,Ee=this.DB-Le*this.DB%R;if(Le-- >0)for(Ee<this.DB&&(N=this[Le]>>Ee)>0&&(oe=!0,we=me(N));Le>=0;)Ee<R?(N=(this[Le]&(1<<Ee)-1)<<R-Ee,N|=this[--Le]>>(Ee+=this.DB-R)):(N=this[Le]>>(Ee-=R)&Q,Ee<=0&&(Ee+=this.DB,--Le)),N>0&&(oe=!0),oe&&(we+=me(N));return oe?we:"0"},U.prototype.negate=function(){var T=J();return U.ZERO.subTo(this,T),T},U.prototype.abs=function(){return this.s<0?this.negate():this},U.prototype.compareTo=function(T){var R=this.s-T.s;if(R!=0)return R;var N=this.t;if((R=N-T.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-T[N])!=0)return R;return 0},U.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ue(this[this.t-1]^this.s&this.DM)},U.prototype.mod=function(T){var R=J();return this.abs().divRemTo(T,null,R),this.s<0&&R.compareTo(U.ZERO)>0&&T.subTo(R,R),R},U.prototype.modPowInt=function(T,R){var N;return N=T<256||R.isEven()?new Oe(R):new D(R),this.exp(T,N)},U.ZERO=fe(0),U.ONE=fe(1),Ve.prototype.convert=Te,Ve.prototype.revert=Te,Ve.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N)},Ve.prototype.sqrTo=function(T,R){T.squareTo(R)},Me.prototype.convert=function(T){if(T.s<0||T.t>2*this.m.t)return T.mod(this.m);if(T.compareTo(this.m)<0)return T;var R=J();return T.copyTo(R),this.reduce(R),R},Me.prototype.revert=function(T){return T},Me.prototype.reduce=function(T){for(T.drShiftTo(this.m.t-1,this.r2),T.t>this.m.t+1&&(T.t=this.m.t+1,T.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);T.compareTo(this.r2)<0;)T.dAddOffset(1,this.m.t+1);for(T.subTo(this.r2,T);T.compareTo(this.m)>=0;)T.subTo(this.m,T)},Me.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Me.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)};var Ze=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ie=(1<<26)/Ze[Ze.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){this.i=0,this.j=0,this.S=new Array}U.prototype.chunkSize=function(T){return Math.floor(Math.LN2*this.DB/Math.log(T))},U.prototype.toRadix=function(T){if(T==null&&(T=10),this.signum()==0||T<2||T>36)return"0";var R=this.chunkSize(T),N=Math.pow(T,R),Q=fe(N),oe=J(),we=J(),Le="";for(this.divRemTo(Q,oe,we);oe.signum()>0;)Le=(N+we.intValue()).toString(T).substr(1)+Le,oe.divRemTo(Q,oe,we);return we.intValue().toString(T)+Le},U.prototype.fromRadix=function(T,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),Q=Math.pow(R,N),oe=!1,we=0,Le=0,Ee=0;Ee<T.length;++Ee){var Pe=ve(T,Ee);Pe<0?T.charAt(Ee)=="-"&&this.signum()==0&&(oe=!0):(Le=R*Le+Pe,++we>=N&&(this.dMultiply(Q),this.dAddOffset(Le,0),we=0,Le=0))}we>0&&(this.dMultiply(Math.pow(R,we)),this.dAddOffset(Le,0)),oe&&U.ZERO.subTo(this,this)},U.prototype.fromNumber=function(T,R,N){if(typeof R=="number")if(T<2)this.fromInt(1);else for(this.fromNumber(T,N),this.testBit(T-1)||this.bitwiseTo(U.ONE.shiftLeft(T-1),ce,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>T&&this.subTo(U.ONE.shiftLeft(T-1),this);else{var Q=new Array,oe=7&T;Q.length=1+(T>>3),R.nextBytes(Q),oe>0?Q[0]&=(1<<oe)-1:Q[0]=0,this.fromString(Q,256)}},U.prototype.bitwiseTo=function(T,R,N){var Q,oe,we=Math.min(T.t,this.t);for(Q=0;Q<we;++Q)N[Q]=R(this[Q],T[Q]);if(T.t<this.t){for(oe=T.s&this.DM,Q=we;Q<this.t;++Q)N[Q]=R(this[Q],oe);N.t=this.t}else{for(oe=this.s&this.DM,Q=we;Q<T.t;++Q)N[Q]=R(oe,T[Q]);N.t=T.t}N.s=R(this.s,T.s),N.clamp()},U.prototype.changeBit=function(T,R){var N=U.ONE.shiftLeft(T);return this.bitwiseTo(N,R,N),N},U.prototype.addTo=function(T,R){for(var N=0,Q=0,oe=Math.min(T.t,this.t);N<oe;)Q+=this[N]+T[N],R[N++]=Q&this.DM,Q>>=this.DB;if(T.t<this.t){for(Q+=T.s;N<this.t;)Q+=this[N],R[N++]=Q&this.DM,Q>>=this.DB;Q+=this.s}else{for(Q+=this.s;N<T.t;)Q+=T[N],R[N++]=Q&this.DM,Q>>=this.DB;Q+=T.s}R.s=Q<0?-1:0,Q>0?R[N++]=Q:Q<-1&&(R[N++]=this.DV+Q),R.t=N,R.clamp()},U.prototype.dMultiply=function(T){this[this.t]=this.am(0,T-1,this,0,0,this.t),++this.t,this.clamp()},U.prototype.dAddOffset=function(T,R){if(T!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=T;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},U.prototype.multiplyLowerTo=function(T,R,N){var Q,oe=Math.min(this.t+T.t,R);for(N.s=0,N.t=oe;oe>0;)N[--oe]=0;for(Q=N.t-this.t;oe<Q;++oe)N[oe+this.t]=this.am(0,T[oe],N,oe,0,this.t);for(Q=Math.min(T.t,R);oe<Q;++oe)this.am(0,T[oe],N,oe,0,R-oe);N.clamp()},U.prototype.multiplyUpperTo=function(T,R,N){--R;var Q=N.t=this.t+T.t-R;for(N.s=0;--Q>=0;)N[Q]=0;for(Q=Math.max(R-this.t,0);Q<T.t;++Q)N[this.t+Q-R]=this.am(R-Q,T[Q],N,0,0,this.t+Q-R);N.clamp(),N.drShiftTo(1,N)},U.prototype.modInt=function(T){if(T<=0)return 0;var R=this.DV%T,N=this.s<0?T-1:0;if(this.t>0)if(R==0)N=this[0]%T;else for(var Q=this.t-1;Q>=0;--Q)N=(R*N+this[Q])%T;return N},U.prototype.millerRabin=function(T){var R=this.subtract(U.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var Q=R.shiftRight(N);(T=T+1>>1)>Ze.length&&(T=Ze.length);for(var oe=J(),we=0;we<T;++we){oe.fromInt(Ze[Math.floor(Math.random()*Ze.length)]);var Le=oe.modPow(Q,this);if(Le.compareTo(U.ONE)!=0&&Le.compareTo(R)!=0){for(var Ee=1;Ee++<N&&Le.compareTo(R)!=0;)if((Le=Le.modPowInt(2,this)).compareTo(U.ONE)==0)return!1;if(Le.compareTo(R)!=0)return!1}}return!0},U.prototype.clone=function(){var T=J();return this.copyTo(T),T},U.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},U.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},U.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},U.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},U.prototype.toByteArray=function(){var T=this.t,R=new Array;R[0]=this.s;var N,Q=this.DB-T*this.DB%8,oe=0;if(T-- >0)for(Q<this.DB&&(N=this[T]>>Q)!=(this.s&this.DM)>>Q&&(R[oe++]=N|this.s<<this.DB-Q);T>=0;)Q<8?(N=(this[T]&(1<<Q)-1)<<8-Q,N|=this[--T]>>(Q+=this.DB-8)):(N=this[T]>>(Q-=8)&255,Q<=0&&(Q+=this.DB,--T)),128&N&&(N|=-256),oe==0&&(128&this.s)!=(128&N)&&++oe,(oe>0||N!=this.s)&&(R[oe++]=N);return R},U.prototype.equals=function(T){return this.compareTo(T)==0},U.prototype.min=function(T){return this.compareTo(T)<0?this:T},U.prototype.max=function(T){return this.compareTo(T)>0?this:T},U.prototype.and=function(T){var R=J();return this.bitwiseTo(T,X,R),R},U.prototype.or=function(T){var R=J();return this.bitwiseTo(T,ce,R),R},U.prototype.xor=function(T){var R=J();return this.bitwiseTo(T,V,R),R},U.prototype.andNot=function(T){var R=J();return this.bitwiseTo(T,Z,R),R},U.prototype.not=function(){for(var T=J(),R=0;R<this.t;++R)T[R]=this.DM&~this[R];return T.t=this.t,T.s=~this.s,T},U.prototype.shiftLeft=function(T){var R=J();return T<0?this.rShiftTo(-T,R):this.lShiftTo(T,R),R},U.prototype.shiftRight=function(T){var R=J();return T<0?this.lShiftTo(-T,R):this.rShiftTo(T,R),R},U.prototype.getLowestSetBit=function(){for(var T=0;T<this.t;++T)if(this[T]!=0)return T*this.DB+he(this[T]);return this.s<0?this.t*this.DB:-1},U.prototype.bitCount=function(){for(var T=0,R=this.s&this.DM,N=0;N<this.t;++N)T+=xe(this[N]^R);return T},U.prototype.testBit=function(T){var R=Math.floor(T/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<T%this.DB)!=0},U.prototype.setBit=function(T){return this.changeBit(T,ce)},U.prototype.clearBit=function(T){return this.changeBit(T,Z)},U.prototype.flipBit=function(T){return this.changeBit(T,V)},U.prototype.add=function(T){var R=J();return this.addTo(T,R),R},U.prototype.subtract=function(T){var R=J();return this.subTo(T,R),R},U.prototype.multiply=function(T){var R=J();return this.multiplyTo(T,R),R},U.prototype.divide=function(T){var R=J();return this.divRemTo(T,R,null),R},U.prototype.remainder=function(T){var R=J();return this.divRemTo(T,null,R),R},U.prototype.divideAndRemainder=function(T){var R=J(),N=J();return this.divRemTo(T,R,N),new Array(R,N)},U.prototype.modPow=function(T,R){var N,Q,oe=T.bitLength(),we=fe(1);if(oe<=0)return we;N=oe<18?1:oe<48?3:oe<144?4:oe<768?5:6,Q=oe<8?new Oe(R):R.isEven()?new Me(R):new D(R);var Le=new Array,Ee=3,Pe=N-1,ke=(1<<N)-1;if(Le[1]=Q.convert(this),N>1){var $e=J();for(Q.sqrTo(Le[1],$e);Ee<=ke;)Le[Ee]=J(),Q.mulTo($e,Le[Ee-2],Le[Ee]),Ee+=2}var He,Xe,st=T.t-1,dt=!0,ut=J();for(oe=ue(T[st])-1;st>=0;){for(oe>=Pe?He=T[st]>>oe-Pe&ke:(He=(T[st]&(1<<oe+1)-1)<<Pe-oe,st>0&&(He|=T[st-1]>>this.DB+oe-Pe)),Ee=N;!(1&He);)He>>=1,--Ee;if((oe-=Ee)<0&&(oe+=this.DB,--st),dt)Le[He].copyTo(we),dt=!1;else{for(;Ee>1;)Q.sqrTo(we,ut),Q.sqrTo(ut,we),Ee-=2;Ee>0?Q.sqrTo(we,ut):(Xe=we,we=ut,ut=Xe),Q.mulTo(ut,Le[He],we)}for(;st>=0&&!(T[st]&1<<oe);)Q.sqrTo(we,ut),Xe=we,we=ut,ut=Xe,--oe<0&&(oe=this.DB-1,--st)}return Q.revert(we)},U.prototype.modInverse=function(T){var R=T.isEven();if(this.isEven()&&R||T.signum()==0)return U.ZERO;for(var N=T.clone(),Q=this.clone(),oe=fe(1),we=fe(0),Le=fe(0),Ee=fe(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(oe.isEven()&&we.isEven()||(oe.addTo(this,oe),we.subTo(T,we)),oe.rShiftTo(1,oe)):we.isEven()||we.subTo(T,we),we.rShiftTo(1,we);for(;Q.isEven();)Q.rShiftTo(1,Q),R?(Le.isEven()&&Ee.isEven()||(Le.addTo(this,Le),Ee.subTo(T,Ee)),Le.rShiftTo(1,Le)):Ee.isEven()||Ee.subTo(T,Ee),Ee.rShiftTo(1,Ee);N.compareTo(Q)>=0?(N.subTo(Q,N),R&&oe.subTo(Le,oe),we.subTo(Ee,we)):(Q.subTo(N,Q),R&&Le.subTo(oe,Le),Ee.subTo(we,Ee))}return Q.compareTo(U.ONE)!=0?U.ZERO:Ee.compareTo(T)>=0?Ee.subtract(T):Ee.signum()<0?(Ee.addTo(T,Ee),Ee.signum()<0?Ee.add(T):Ee):Ee},U.prototype.pow=function(T){return this.exp(T,new Ve)},U.prototype.gcd=function(T){var R=this.s<0?this.negate():this.clone(),N=T.s<0?T.negate():T.clone();if(R.compareTo(N)<0){var Q=R;R=N,N=Q}var oe=R.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return R;for(oe<we&&(we=oe),we>0&&(R.rShiftTo(we,R),N.rShiftTo(we,N));R.signum()>0;)(oe=R.getLowestSetBit())>0&&R.rShiftTo(oe,R),(oe=N.getLowestSetBit())>0&&N.rShiftTo(oe,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},U.prototype.isProbablePrime=function(T){var R,N=this.abs();if(N.t==1&&N[0]<=Ze[Ze.length-1]){for(R=0;R<Ze.length;++R)if(N[0]==Ze[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Ze.length;){for(var Q=Ze[R],oe=R+1;oe<Ze.length&&Q<ie;)Q*=Ze[oe++];for(Q=N.modInt(Q);R<oe;)if(Q%Ze[R++]==0)return!1}return N.millerRabin(T)},U.prototype.square=function(){var T=J();return this.squareTo(T),T},z.prototype.init=function(T){var R,N,Q;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+T[R%T.length]&255,Q=this.S[R],this.S[R]=this.S[N],this.S[N]=Q;this.i=0,this.j=0},z.prototype.next=function(){var T;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,T=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=T,this.S[T+this.S[this.i]&255]};var $,re,W;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function pe(){(function(T){re[W++]^=255&T,re[W++]^=T>>8&255,re[W++]^=T>>16&255,re[W++]^=T>>24&255,W>=256&&(W-=256)})(new Date().getTime())}if(re==null){var ye;if(re=new Array,W=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var ze=A.crypto||A.msCrypto;if(ze.getRandomValues){var Ce=new Uint8Array(32);for(ze.getRandomValues(Ce),ye=0;ye<32;++ye)re[W++]=Ce[ye]}else if(b.appName=="Netscape"&&b.appVersion<"5"){var Fe=A.crypto.random(32);for(ye=0;ye<Fe.length;++ye)re[W++]=255&Fe.charCodeAt(ye)}}for(;W<256;)ye=Math.floor(65536*Math.random()),re[W++]=ye>>>8,re[W++]=255&ye;W=0,pe()}function tt(){if($==null){for(pe(),($=function(){return new z}()).init(re),W=0;W<re.length;++W)re[W]=0;W=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(C,T){return new U(C,T)}function Ut(C,T,R){for(var N="",Q=0;N.length<T;)N+=R(String.fromCharCode.apply(String,C.concat([(4278190080&Q)>>24,(16711680&Q)>>16,(65280&Q)>>8,255&Q]))),Q+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(C,T){this.x=T,this.q=C}function te(C,T,R,N){this.curve=C,this.x=T,this.y=R,this.z=N??U.ONE,this.zinv=null}function H(C,T,R){this.q=C,this.a=this.fromBigInteger(T),this.b=this.fromBigInteger(R),this.infinity=new te(this,null,null)}nt.prototype.nextBytes=function(T){var R;for(R=0;R<T.length;++R)T[R]=tt()},Se.prototype.doPublic=function(T){return T.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(T,R){if(this.isPublic=!0,this.isPrivate=!1,typeof T!="string")this.n=T,this.e=R;else{if(!(T!=null&&R!=null&&T.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(T,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(T){var R=function(we,Le){if(Le<we.length+11)throw"Message too long for RSA";for(var Ee=new Array,Pe=we.length-1;Pe>=0&&Le>0;){var ke=we.charCodeAt(Pe--);ke<128?Ee[--Le]=ke:ke>127&&ke<2048?(Ee[--Le]=63&ke|128,Ee[--Le]=ke>>6|192):(Ee[--Le]=63&ke|128,Ee[--Le]=ke>>6&63|128,Ee[--Le]=ke>>12|224)}Ee[--Le]=0;for(var $e=new nt,He=new Array;Le>2;){for(He[0]=0;He[0]==0;)$e.nextBytes(He);Ee[--Le]=He[0]}return Ee[--Le]=2,Ee[--Le]=0,new U(Ee)}(T,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var Q=N.toString(16);return 1&Q.length?"0"+Q:Q},Se.prototype.encryptOAEP=function(T,R,N){var Q=function(Ee,Pe,ke,$e){var He=K.crypto.MessageDigest,Xe=K.crypto.Util,st=null;if(ke||(ke="sha1"),typeof ke=="string"&&(st=He.getCanonicalAlgName(ke),$e=He.getHashLength(st),ke=function(Tt){return un(Xe.hashHex(In(Tt),st))}),Ee.length+2*$e+2>Pe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Pe-Ee.length-2*$e-2;dt+=1)ut+="\0";var be=ke("")+ut+""+Ee,De=new Array($e);new nt().nextBytes(De);var Ue=Ut(De,be.length,ke),Ge=[];for(dt=0;dt<be.length;dt+=1)Ge[dt]=be.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=Ut(Ge,De.length,ke),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new U(mt.concat(Ge))}(T,this.n.bitLength()+7>>3,R,N);if(Q==null)return null;var oe=this.doPublic(Q);if(oe==null)return null;var we=oe.toString(16);return 1&we.length?"0"+we:we},Se.prototype.type="RSA",Be.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.x.equals(T.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(T){return new Be(this.q,this.x.add(T.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(T){return new Be(this.q,this.x.subtract(T.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger().modInverse(this.q)).mod(this.q))},te.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},te.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},te.prototype.equals=function(T){return T==this||(this.isInfinity()?T.isInfinity():T.isInfinity()?this.isInfinity():!!T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(U.ZERO)&&T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(U.ZERO))},te.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(U.ZERO)&&!this.y.toBigInteger().equals(U.ZERO)},te.prototype.negate=function(){return new te(this.curve,this.x,this.y.negate(),this.z)},te.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;var R=T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q),N=T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q);if(U.ZERO.equals(N))return U.ZERO.equals(R)?this.twice():this.curve.getInfinity();var Q=new U("3"),oe=this.x.toBigInteger(),we=this.y.toBigInteger(),Le=(T.x.toBigInteger(),T.y.toBigInteger(),N.square()),Ee=Le.multiply(N),Pe=oe.multiply(Le),ke=R.square().multiply(this.z),$e=ke.subtract(Pe.shiftLeft(1)).multiply(T.z).subtract(Ee).multiply(N).mod(this.curve.q),He=Pe.multiply(Q).multiply(R).subtract(we.multiply(Ee)).subtract(ke.multiply(R)).multiply(T.z).add(R.multiply(Ee)).mod(this.curve.q),Xe=Ee.multiply(this.z).multiply(T.z).mod(this.curve.q);return new te(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(He),Xe)},te.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=new U("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),Q=N.multiply(this.z),oe=Q.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Le=R.square().multiply(T);U.ZERO.equals(we)||(Le=Le.add(this.z.square().multiply(we)));var Ee=(Le=Le.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(oe)).shiftLeft(1).multiply(Q).mod(this.curve.q),Pe=Le.multiply(T).multiply(R).subtract(oe.shiftLeft(1)).shiftLeft(2).multiply(oe).subtract(Le.square().multiply(Le)).mod(this.curve.q),ke=Q.square().multiply(Q).shiftLeft(3).mod(this.curve.q);return new te(this.curve,this.curve.fromBigInteger(Ee),this.curve.fromBigInteger(Pe),ke)},te.prototype.multiply=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var R,N=T,Q=N.multiply(new U("3")),oe=this.negate(),we=this,Le=this.curve.q.subtract(T),Ee=Le.multiply(new U("3")),Pe=new te(this.curve,this.x,this.y),ke=Pe.negate();for(R=Q.bitLength()-2;R>0;--R){we=we.twice();var $e=Q.testBit(R);$e!=N.testBit(R)&&(we=we.add($e?this:oe))}for(R=Ee.bitLength()-2;R>0;--R){Pe=Pe.twice();var He=Ee.testBit(R);He!=Le.testBit(R)&&(Pe=Pe.add(He?Pe:ke))}return we},te.prototype.multiplyTwo=function(T,R,N){var Q;Q=T.bitLength()>N.bitLength()?T.bitLength()-1:N.bitLength()-1;for(var oe=this.curve.getInfinity(),we=this.add(R);Q>=0;)oe=oe.twice(),T.testBit(Q)?oe=N.testBit(Q)?oe.add(we):oe.add(this):N.testBit(Q)&&(oe=oe.add(R)),--Q;return oe},H.prototype.getQ=function(){return this.q},H.prototype.getA=function(){return this.a},H.prototype.getB=function(){return this.b},H.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.a.equals(T.a)&&this.b.equals(T.b)},H.prototype.getInfinity=function(){return this.infinity},H.prototype.fromBigInteger=function(T){return new Be(this.q,T)},H.prototype.decodePointHex=function(T){switch(parseInt(T.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(T.length-2)/2,N=T.substr(2,R),Q=T.substr(R+2,R);return new te(this,this.fromBigInteger(new U(N,16)),this.fromBigInteger(new U(Q,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},te.prototype.getEncoded=function(C){var T=function(we,Le){var Ee=we.toByteArrayUnsigned();if(Le<Ee.length)Ee=Ee.slice(Ee.length-Le);else for(;Le>Ee.length;)Ee.unshift(0);return Ee},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),Q=T(R,32);return C?N.isEven()?Q.unshift(2):Q.unshift(3):(Q.unshift(4),Q=Q.concat(T(N,32))),Q},te.decodeFrom=function(C,T){T[0];var R=T.length-1,N=T.slice(1,1+R/2),Q=T.slice(1+R/2,1+R);N.unshift(0),Q.unshift(0);var oe=new U(N),we=new U(Q);return new te(C,C.fromBigInteger(oe),C.fromBigInteger(we))},te.decodeFromHex=function(C,T){T.substr(0,2);var R=T.length-2,N=T.substr(2,R/2),Q=T.substr(2+R/2,R/2),oe=new U(N,16),we=new U(Q,16);return new te(C,C.fromBigInteger(oe),C.fromBigInteger(we))},te.prototype.add2D=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;if(this.x.equals(C.x))return this.y.equals(C.y)?this.twice():this.curve.getInfinity();var T=C.x.subtract(this.x),R=C.y.subtract(this.y).divide(T),N=R.square().subtract(this.x).subtract(C.x),Q=R.multiply(this.x.subtract(N)).subtract(this.y);return new te(this.curve,N,Q)},te.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=this.curve.fromBigInteger(U.valueOf(2)),T=this.curve.fromBigInteger(U.valueOf(3)),R=this.x.square().multiply(T).add(this.curve.a).divide(this.y.multiply(C)),N=R.square().subtract(this.x.multiply(C)),Q=R.multiply(this.x.subtract(N)).subtract(this.y);return new te(this.curve,N,Q)},te.prototype.multiply2D=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var T,R=C,N=R.multiply(new U("3")),Q=this.negate(),oe=this;for(T=N.bitLength()-2;T>0;--T){oe=oe.twice();var we=N.testBit(T);we!=R.testBit(T)&&(oe=oe.add2D(we?this:Q))}return oe},te.prototype.isOnCurve=function(){var C=this.getX().toBigInteger(),T=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),Q=this.curve.getQ(),oe=T.multiply(T).mod(Q),we=C.multiply(C).multiply(C).add(R.multiply(C)).add(N).mod(Q);return oe.equals(we)},te.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},te.prototype.validate=function(){var C=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var T=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(T.compareTo(U.ONE)<0||T.compareTo(C.subtract(U.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(U.ONE)<0||R.compareTo(C.subtract(U.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(C).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var G=function(){var C=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),T=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Le,Ee){return Le?R[Le]:String.fromCharCode(parseInt(Ee,16))}var Q=new String(""),oe=Object.hasOwnProperty;return function(we,Le){var Ee,Pe,ke=we.match(C),$e=ke[0],He=!1;$e==="{"?Ee={}:$e==="["?Ee=[]:(Ee=[],He=!0);for(var Xe=[Ee],st=1-He,dt=ke.length;st<dt;++st){var ut;switch(($e=ke[st]).charCodeAt(0)){default:(ut=Xe[0])[Pe||ut.length]=+$e,Pe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(T,N)),ut=Xe[0],!Pe){if(!(ut instanceof Array)){Pe=$e||Q;break}Pe=ut.length}ut[Pe]=$e,Pe=void 0;break;case 91:ut=Xe[0],Xe.unshift(ut[Pe||ut.length]=[]),Pe=void 0;break;case 93:Xe.shift();break;case 102:(ut=Xe[0])[Pe||ut.length]=!1,Pe=void 0;break;case 110:(ut=Xe[0])[Pe||ut.length]=null,Pe=void 0;break;case 116:(ut=Xe[0])[Pe||ut.length]=!0,Pe=void 0;break;case 123:ut=Xe[0],Xe.unshift(ut[Pe||ut.length]={}),Pe=void 0;break;case 125:Xe.shift()}}if(He){if(Xe.length!==1)throw new Error;Ee=Ee[0]}else if(Xe.length)throw new Error;return Le&&(Ee=function be(De,Ue){var Ge=De[Ue];if(Ge&&(Ge===void 0?"undefined":S(Ge))==="object"){var lt=null;for(var mt in Ge)if(oe.call(Ge,mt)&&Ge!==De){var Ft=be(Ge,mt);Ft!==void 0?Ge[mt]=Ft:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ge[lt[Tt]]}return Le.call(De,Ue,Ge)}({"":Ee},"")),Ee}}();K!==void 0&&K||(r.KJUR=K={}),K.asn1!==void 0&&K.asn1||(K.asn1={}),K.asn1.ASN1Util=new function(){this.integerToByteHex=function(C){var T=C.toString(16);return T.length%2==1&&(T="0"+T),T},this.bigIntToMinTwosComplementsHex=function(C){var T=C.toString(16);if(T.substr(0,1)!="-")T.length%2==1?T="0"+T:T.match(/^[0-7]/)||(T="00"+T);else{var R=T.substr(1).length;R%2==1?R+=1:T.match(/^[0-7]/)||(R+=2);for(var N="",Q=0;Q<R;Q++)N+="f";T=new U(N,16).xor(C).add(U.ONE).toString(16).replace(/^-/,"")}return T},this.getPEMStringFromHex=function(C,T){return wt(C,T)},this.newObject=function(C){var T=K.asn1,R=T.ASN1Object,N=T.DERBoolean,Q=T.DERInteger,oe=T.DERBitString,we=T.DEROctetString,Le=T.DERNull,Ee=T.DERObjectIdentifier,Pe=T.DEREnumerated,ke=T.DERUTF8String,$e=T.DERNumericString,He=T.DERPrintableString,Xe=T.DERTeletexString,st=T.DERIA5String,dt=T.DERUTCTime,ut=T.DERGeneralizedTime,be=T.DERVisibleString,De=T.DERBMPString,Ue=T.DERSequence,Ge=T.DERSet,lt=T.DERTaggedObject,mt=T.ASN1Util.newObject;if(C instanceof T.ASN1Object)return C;var Ft=Object.keys(C);if(Ft.length!=1)throw new Error("key of param shall be only one.");var Tt=Ft[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(C[Tt]);if(Tt=="int")return new Q(C[Tt]);if(Tt=="bitstr")return new oe(C[Tt]);if(Tt=="octstr")return new we(C[Tt]);if(Tt=="null")return new Le(C[Tt]);if(Tt=="oid")return new Ee(C[Tt]);if(Tt=="enum")return new Pe(C[Tt]);if(Tt=="utf8str")return new ke(C[Tt]);if(Tt=="numstr")return new $e(C[Tt]);if(Tt=="prnstr")return new He(C[Tt]);if(Tt=="telstr")return new Xe(C[Tt]);if(Tt=="ia5str")return new st(C[Tt]);if(Tt=="utctime")return new dt(C[Tt]);if(Tt=="gentime")return new ut(C[Tt]);if(Tt=="visstr")return new be(C[Tt]);if(Tt=="bmpstr")return new De(C[Tt]);if(Tt=="asn1")return new R(C[Tt]);if(Tt=="seq"){for(var pn=C[Tt],Dt=[],Ht=0;Ht<pn.length;Ht++){var Un=mt(pn[Ht]);Dt.push(Un)}return new Ue({array:Dt})}if(Tt=="set"){for(pn=C[Tt],Dt=[],Ht=0;Ht<pn.length;Ht++)Un=mt(pn[Ht]),Dt.push(Un);return new Ge({array:Dt})}if(Tt=="tag"){var Mn=C[Tt];if(Object.prototype.toString.call(Mn)==="[object Array]"&&Mn.length==3){var Fn=mt(Mn[2]);return new lt({tag:Mn[0],explicit:Mn[1],obj:Fn})}return new lt(Mn)}},this.jsonToASN1HEX=function(C){return this.newObject(C).getEncodedHex()}},K.asn1.ASN1Util.oidHexToInt=function(C){for(var T="",R=parseInt(C.substr(0,2),16),N=(T=Math.floor(R/40)+"."+R%40,""),Q=2;Q<C.length;Q+=2){var oe=("00000000"+parseInt(C.substr(Q,2),16).toString(2)).slice(-8);N+=oe.substr(1,7),oe.substr(0,1)=="0"&&(T=T+"."+new U(N,2).toString(10),N="")}return T},K.asn1.ASN1Util.oidIntToHex=function(C){var T=function(Ee){var Pe=Ee.toString(16);return Pe.length==1&&(Pe="0"+Pe),Pe},R=function(Ee){var Pe="",ke=new U(Ee,10).toString(2),$e=7-ke.length%7;$e==7&&($e=0);for(var He="",Xe=0;Xe<$e;Xe++)He+="0";for(ke=He+ke,Xe=0;Xe<ke.length-1;Xe+=7){var st=ke.substr(Xe,7);Xe!=ke.length-7&&(st="1"+st),Pe+=T(parseInt(st,2))}return Pe};if(!C.match(/^[0-9.]+$/))throw"malformed oid string: "+C;var N="",Q=C.split("."),oe=40*parseInt(Q[0])+parseInt(Q[1]);N+=T(oe),Q.splice(0,2);for(var we=0;we<Q.length;we++)N+=R(Q[we]);return N},K.asn1.ASN1Object=function(C){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var T=this.hV.length/2,R=T.toString(16);if(R.length%2==1&&(R="0"+R),T<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+T.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(T){this.params=T},C!=null&&C.tlv!=null&&(this.hTLV=C.tlv,this.isModified=!1)},K.asn1.DERAbstractString=function(C){K.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=dr(this.s).toLowerCase()},this.setStringHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"?this.setString(C):C.str!==void 0?this.setString(C.str):C.hex!==void 0&&this.setStringHex(C.hex))},qt(K.asn1.DERAbstractString,K.asn1.ASN1Object),K.asn1.DERAbstractTime=function(C){K.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(T){var R=T.getTime()+6e4*T.getTimezoneOffset();return new Date(R)},this.formatDate=function(T,R,N){var Q=this.zeroPadding,oe=this.localDateToUTC(T),we=String(oe.getFullYear());R=="utc"&&(we=we.substr(2,2));var Le=we+Q(String(oe.getMonth()+1),2)+Q(String(oe.getDate()),2)+Q(String(oe.getHours()),2)+Q(String(oe.getMinutes()),2)+Q(String(oe.getSeconds()),2);if(N===!0){var Ee=oe.getMilliseconds();if(Ee!=0){var Pe=Q(String(Ee),3);Le=Le+"."+(Pe=Pe.replace(/[0]+$/,""))}}return Le+"Z"},this.zeroPadding=function(T,R){return T.length>=R?T:new Array(R-T.length+1).join("0")+T},this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=Rt(T)},this.setByDateValue=function(T,R,N,Q,oe,we){var Le=new Date(Date.UTC(T,R-1,N,Q,oe,we,0));this.setByDate(Le)},this.getFreshValueHex=function(){return this.hV}},qt(K.asn1.DERAbstractTime,K.asn1.ASN1Object),K.asn1.DERAbstractStructured=function(C){K.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array=T},this.appendASN1Object=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array.push(T)},this.asn1Array=new Array,C!==void 0&&C.array!==void 0&&(this.asn1Array=C.array)},qt(K.asn1.DERAbstractStructured,K.asn1.ASN1Object),K.asn1.DERBoolean=function(C){K.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=C==0?"010100":"0101ff"},qt(K.asn1.DERBoolean,K.asn1.ASN1Object),K.asn1.DERInteger=function(C){K.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=K.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new U(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.bigint!==void 0?this.setByBigInteger(C.bigint):C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},qt(K.asn1.DERInteger,K.asn1.ASN1Object),K.asn1.DERBitString=function(C){if(C!==void 0&&C.obj!==void 0){var T=K.asn1.ASN1Util.newObject(C.obj);C.hex="00"+T.getEncodedHex()}K.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var Q="0"+R;this.hTLV=null,this.isModified=!0,this.hV=Q+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var Q=0;Q<=N;Q++)R+="0";var oe="";for(Q=0;Q<R.length-1;Q+=8){var we=R.substr(Q,8),Le=parseInt(we,2).toString(16);Le.length==1&&(Le="0"+Le),oe+=Le}this.hTLV=null,this.isModified=!0,this.hV="0"+N+oe},this.setByBooleanArray=function(R){for(var N="",Q=0;Q<R.length;Q++)R[Q]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),Q=0;Q<R;Q++)N[Q]=!1;return N},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"&&C.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(C):C.hex!==void 0?this.setHexValueIncludingUnusedBits(C.hex):C.bin!==void 0?this.setByBinaryString(C.bin):C.array!==void 0&&this.setByBooleanArray(C.array))},qt(K.asn1.DERBitString,K.asn1.ASN1Object),K.asn1.DEROctetString=function(C){if(C!==void 0&&C.obj!==void 0){var T=K.asn1.ASN1Util.newObject(C.obj);C.hex=T.getEncodedHex()}K.asn1.DEROctetString.superclass.constructor.call(this,C),this.hT="04"},qt(K.asn1.DEROctetString,K.asn1.DERAbstractString),K.asn1.DERNull=function(){K.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},qt(K.asn1.DERNull,K.asn1.ASN1Object),K.asn1.DERObjectIdentifier=function(C){K.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.setValueOidString=function(T){var R=function(Q){var oe=function(He){var Xe=He.toString(16);return Xe.length==1&&(Xe="0"+Xe),Xe},we=function(He){var Xe="",st=parseInt(He,10).toString(2),dt=7-st.length%7;dt==7&&(dt=0);for(var ut="",be=0;be<dt;be++)ut+="0";for(st=ut+st,be=0;be<st.length-1;be+=7){var De=st.substr(be,7);be!=st.length-7&&(De="1"+De),Xe+=oe(parseInt(De,2))}return Xe};try{if(!Q.match(/^[0-9.]+$/))return null;var Le="",Ee=Q.split("."),Pe=40*parseInt(Ee[0],10)+parseInt(Ee[1],10);Le+=oe(Pe),Ee.splice(0,2);for(var ke=0;ke<Ee.length;ke++)Le+=we(Ee[ke]);return Le}catch{return null}}(T);if(R==null)throw new Error("malformed oid string: "+T);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(T){var R=K.asn1.x509.OID.name2oid(T);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+T);this.setValueOidString(R)},this.setValueNameOrOid=function(T){T.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(T):this.setValueName(T)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(T){typeof T=="string"?this.setValueNameOrOid(T):T.oid!==void 0?this.setValueNameOrOid(T.oid):T.name!==void 0?this.setValueNameOrOid(T.name):T.hex!==void 0&&this.setValueHex(T.hex)},C!==void 0&&this.setByParam(C)},qt(K.asn1.DERObjectIdentifier,K.asn1.ASN1Object),K.asn1.DEREnumerated=function(C){K.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=K.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new U(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},qt(K.asn1.DEREnumerated,K.asn1.ASN1Object),K.asn1.DERUTF8String=function(C){K.asn1.DERUTF8String.superclass.constructor.call(this,C),this.hT="0c"},qt(K.asn1.DERUTF8String,K.asn1.DERAbstractString),K.asn1.DERNumericString=function(C){K.asn1.DERNumericString.superclass.constructor.call(this,C),this.hT="12"},qt(K.asn1.DERNumericString,K.asn1.DERAbstractString),K.asn1.DERPrintableString=function(C){K.asn1.DERPrintableString.superclass.constructor.call(this,C),this.hT="13"},qt(K.asn1.DERPrintableString,K.asn1.DERAbstractString),K.asn1.DERTeletexString=function(C){K.asn1.DERTeletexString.superclass.constructor.call(this,C),this.hT="14"},qt(K.asn1.DERTeletexString,K.asn1.DERAbstractString),K.asn1.DERIA5String=function(C){K.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="16"},qt(K.asn1.DERIA5String,K.asn1.DERAbstractString),K.asn1.DERVisibleString=function(C){K.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="1a"},qt(K.asn1.DERVisibleString,K.asn1.DERAbstractString),K.asn1.DERBMPString=function(C){K.asn1.DERBMPString.superclass.constructor.call(this,C),this.hT="1e"},qt(K.asn1.DERBMPString,K.asn1.DERAbstractString),K.asn1.DERUTCTime=function(C){K.asn1.DERUTCTime.superclass.constructor.call(this,C),this.hT="17",this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{12}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date))},qt(K.asn1.DERUTCTime,K.asn1.DERAbstractTime),K.asn1.DERGeneralizedTime=function(C){K.asn1.DERGeneralizedTime.superclass.constructor.call(this,C),this.hT="18",this.withMillis=!1,this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Rt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{14}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date),C.millis===!0&&(this.withMillis=!0))},qt(K.asn1.DERGeneralizedTime,K.asn1.DERAbstractTime),K.asn1.DERSequence=function(C){K.asn1.DERSequence.superclass.constructor.call(this,C),this.hT="30",this.getFreshValueHex=function(){for(var T="",R=0;R<this.asn1Array.length;R++)T+=this.asn1Array[R].getEncodedHex();return this.hV=T,this.hV}},qt(K.asn1.DERSequence,K.asn1.DERAbstractStructured),K.asn1.DERSet=function(C){K.asn1.DERSet.superclass.constructor.call(this,C),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var T=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];T.push(N.getEncodedHex())}return this.sortFlag==1&&T.sort(),this.hV=T.join(""),this.hV},C!==void 0&&C.sortflag!==void 0&&C.sortflag==0&&(this.sortFlag=!1)},qt(K.asn1.DERSet,K.asn1.DERAbstractStructured),K.asn1.DERTaggedObject=function(C){K.asn1.DERTaggedObject.superclass.constructor.call(this);var T=K.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,Q){this.hT=N,this.isExplicit=R,this.asn1Object=Q,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=Q.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof T.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):S(R.obj)=="object"&&(this.asn1Object=T.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},C!=null&&this.setByParam(C)},qt(K.asn1.DERTaggedObject,K.asn1.ASN1Object);var K,je,Ye,Ne=new function(){};function At(C){for(var T=new Array,R=0;R<C.length;R++)T[R]=C.charCodeAt(R);return T}function Pt(C){for(var T="",R=0;R<C.length;R++)T+=String.fromCharCode(C[R]);return T}function kt(C){for(var T="",R=0;R<C.length;R++){var N=C[R].toString(16);N.length==1&&(N="0"+N),T+=N}return T}function Rt(C){return kt(At(C))}function Bt(C){return C=(C=(C=C.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Er(C){return C.length%4==2?C+="==":C.length%4==3&&(C+="="),C=(C=C.replace(/-/g,"+")).replace(/_/g,"/")}function fn(C){return C.length%2==1&&(C="0"+C),Bt(F(C))}function dn(C){return B(Er(C))}function dr(C){return Jn(Et(C))}function on(C){return decodeURIComponent(Qe(C))}function un(C){for(var T="",R=0;R<C.length-1;R+=2)T+=String.fromCharCode(parseInt(C.substr(R,2),16));return T}function In(C){for(var T="",R=0;R<C.length;R++)T+=("0"+C.charCodeAt(R).toString(16)).slice(-2);return T}function sr(C){return F(C)}function Ie(C){var T=sr(C).replace(/(.{64})/g,`$1\r
`);return T=T.replace(/\r\n$/,"")}function qe(C){return B(C.replace(/[^0-9A-Za-z\/+=]*/g,""))}function wt(C,T){return"-----BEGIN "+T+`-----\r
`+Ie(C)+`\r
-----END `+T+`-----\r
`}function xt(C,T){if(C.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+T;return qe(C=T!==void 0?(C=C.replace(new RegExp("^[^]*-----BEGIN "+T+"-----"),"")).replace(new RegExp("-----END "+T+"-----[^]*$"),""):(C=C.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function It(C){var T,R,N,Q,oe,we,Le,Ee,Pe,ke,$e;if($e=C.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Ee=$e[1],T=parseInt(Ee),Ee.length===2&&(50<=T&&T<100?T=1900+T:0<=T&&T<50&&(T=2e3+T)),R=parseInt($e[2])-1,N=parseInt($e[3]),Q=parseInt($e[4]),oe=parseInt($e[5]),we=parseInt($e[6]),Le=0,(Pe=$e[7])!==""&&(ke=(Pe.substr(1)+"00").substr(0,3),Le=parseInt(ke)),Date.UTC(T,R,N,Q,oe,we,Le);throw"unsupported zulu format: "+C}function Bn(C){return~~(It(C)/1e3)}function Jn(C){return C.replace(/%/g,"")}function Qe(C){return C.replace(/(..)/g,"%$1")}function Ae(C){var T="malformed IPv6 address";if(!C.match(/^[0-9A-Fa-f:]+$/))throw T;var R=(C=C.toLowerCase()).split(":").length-1;if(R<2)throw T;var N=":".repeat(7-R+2),Q=(C=C.replace("::",N)).split(":");if(Q.length!=8)throw T;for(var oe=0;oe<8;oe++)Q[oe]=("0000"+Q[oe]).slice(-4);return Q.join("")}function et(C){if(!C.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var T=(C=C.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)T[R]=T[R].replace(/^0+/,""),T[R]==""&&(T[R]="0");var N=(C=":"+T.join(":")+":").match(/:(0:){2,}/g);if(N===null)return C.slice(1,-1);var Q="";for(R=0;R<N.length;R++)N[R].length>Q.length&&(Q=N[R]);return(C=C.replace(Q,"::")).slice(1,-1)}function ft(C){var T="malformed hex value";if(!C.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw T;if(C.length!=8)return C.length==32?et(C):C;try{return parseInt(C.substr(0,2),16)+"."+parseInt(C.substr(2,2),16)+"."+parseInt(C.substr(4,2),16)+"."+parseInt(C.substr(6,2),16)}catch{throw T}}function it(C){return C.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),Q=parseInt(R.substr(2),16);if(N==0&Q<128)return String.fromCharCode(Q);if(N<8){var oe=128|63&Q;return on((192|(7&N)<<3|(192&Q)>>6).toString(16)+oe.toString(16))}oe=128|(15&N)<<2|(192&Q)>>6;var we=128|63&Q;return on((224|(240&N)>>4).toString(16)+oe.toString(16)+we.toString(16))}).join("")}function Et(C){for(var T=encodeURIComponent(C),R="",N=0;N<T.length;N++)T[N]=="%"?(R+=T.substr(N,3),N+=2):R=R+"%"+Rt(T[N]);return R}function Lt(C){return!(C.length%2!=0||!C.match(/^[0-9a-f]+$/)&&!C.match(/^[0-9A-F]+$/))}function Vt(C){return C.length%2==1?"0"+C:C.substr(0,1)>"7"?"00"+C:C}Ne.getLblen=function(C,T){if(C.substr(T+2,1)!="8")return 1;var R=parseInt(C.substr(T+3,1));return R==0?-1:0<R&&R<10?R+1:-2},Ne.getL=function(C,T){var R=Ne.getLblen(C,T);return R<1?"":C.substr(T+2,2*R)},Ne.getVblen=function(C,T){var R;return(R=Ne.getL(C,T))==""?-1:(R.substr(0,1)==="8"?new U(R.substr(2),16):new U(R,16)).intValue()},Ne.getVidx=function(C,T){var R=Ne.getLblen(C,T);return R<0?R:T+2*(R+1)},Ne.getV=function(C,T){var R=Ne.getVidx(C,T),N=Ne.getVblen(C,T);return C.substr(R,2*N)},Ne.getTLV=function(C,T){return C.substr(T,2)+Ne.getL(C,T)+Ne.getV(C,T)},Ne.getTLVblen=function(C,T){return 2+2*Ne.getLblen(C,T)+2*Ne.getVblen(C,T)},Ne.getNextSiblingIdx=function(C,T){return Ne.getVidx(C,T)+2*Ne.getVblen(C,T)},Ne.getChildIdx=function(C,T){var R,N,Q,oe=Ne,we=[];R=oe.getVidx(C,T),N=2*oe.getVblen(C,T),C.substr(T,2)=="03"&&(R+=2,N-=2),Q=0;for(var Le=R;Q<=N;){var Ee=oe.getTLVblen(C,Le);if((Q+=Ee)<=N&&we.push(Le),Le+=Ee,Q>=N)break}return we},Ne.getNthChildIdx=function(C,T,R){return Ne.getChildIdx(C,T)[R]},Ne.getIdxbyList=function(C,T,R,N){var Q,oe,we=Ne;return R.length==0?N!==void 0&&C.substr(T,2)!==N?-1:T:(Q=R.shift())>=(oe=we.getChildIdx(C,T)).length?-1:we.getIdxbyList(C,oe[Q],R,N)},Ne.getIdxbyListEx=function(C,T,R,N){var Q,oe,we=Ne;if(R.length==0)return N!==void 0&&C.substr(T,2)!==N?-1:T;Q=R.shift(),oe=we.getChildIdx(C,T);for(var Le=0,Ee=0;Ee<oe.length;Ee++){var Pe=C.substr(oe[Ee],2);if(typeof Q=="number"&&!we.isContextTag(Pe)&&Le==Q||typeof Q=="string"&&we.isContextTag(Pe,Q))return we.getIdxbyListEx(C,oe[Ee],R,N);we.isContextTag(Pe)||Le++}return-1},Ne.getTLVbyList=function(C,T,R,N){var Q=Ne,oe=Q.getIdxbyList(C,T,R,N);return oe==-1||oe>=C.length?null:Q.getTLV(C,oe)},Ne.getTLVbyListEx=function(C,T,R,N){var Q=Ne,oe=Q.getIdxbyListEx(C,T,R,N);return oe==-1?null:Q.getTLV(C,oe)},Ne.getVbyList=function(C,T,R,N,Q){var oe,we,Le=Ne;return(oe=Le.getIdxbyList(C,T,R,N))==-1||oe>=C.length?null:(we=Le.getV(C,oe),Q===!0&&(we=we.substr(2)),we)},Ne.getVbyListEx=function(C,T,R,N,Q){var oe,we,Le=Ne;return(oe=Le.getIdxbyListEx(C,T,R,N))==-1?null:(we=Le.getV(C,oe),C.substr(oe,2)=="03"&&Q!==!1&&(we=we.substr(2)),we)},Ne.getInt=function(C,T,R){R==null&&(R=-1);try{var N=C.substr(T,2);if(N!="02"&&N!="03")return R;var Q=Ne.getV(C,T);return N=="02"?parseInt(Q,16):function(we){try{var Le=we.substr(0,2);if(Le=="00")return parseInt(we.substr(2),16);var Ee=parseInt(Le,16),Pe=we.substr(2),ke=parseInt(Pe,16).toString(2);return ke=="0"&&(ke="00000000"),ke=ke.slice(0,0-Ee),parseInt(ke,2)}catch{return-1}}(Q)}catch{return R}},Ne.getOID=function(C,T,R){R==null&&(R=null);try{return C.substr(T,2)!="06"?R:function(Q){if(!Lt(Q))return null;try{var oe=[],we=Q.substr(0,2),Le=parseInt(we,16);oe[0]=new String(Math.floor(Le/40)),oe[1]=new String(Le%40);for(var Ee=Q.substr(2),Pe=[],ke=0;ke<Ee.length/2;ke++)Pe.push(parseInt(Ee.substr(2*ke,2),16));var $e=[],He="";for(ke=0;ke<Pe.length;ke++)128&Pe[ke]?He+=Yt((127&Pe[ke]).toString(2),7):(He+=Yt((127&Pe[ke]).toString(2),7),$e.push(new String(parseInt(He,2))),He="");var Xe=oe.join(".");return $e.length>0&&(Xe=Xe+"."+$e.join(".")),Xe}catch{return null}}(Ne.getV(C,T))}catch{return R}},Ne.getOIDName=function(C,T,R){R==null&&(R=null);try{var N=Ne.getOID(C,T,R);if(N==R)return R;var Q=K.asn1.x509.OID.oid2name(N);return Q==""?N:Q}catch{return R}},Ne.getString=function(C,T,R){R==null&&(R=null);try{return un(Ne.getV(C,T))}catch{return R}},Ne.hextooidstr=function(C){var T=function(He,Xe){return He.length>=Xe?He:new Array(Xe-He.length+1).join("0")+He},R=[],N=C.substr(0,2),Q=parseInt(N,16);R[0]=new String(Math.floor(Q/40)),R[1]=new String(Q%40);for(var oe=C.substr(2),we=[],Le=0;Le<oe.length/2;Le++)we.push(parseInt(oe.substr(2*Le,2),16));var Ee=[],Pe="";for(Le=0;Le<we.length;Le++)128&we[Le]?Pe+=T((127&we[Le]).toString(2),7):(Pe+=T((127&we[Le]).toString(2),7),Ee.push(new String(parseInt(Pe,2))),Pe="");var ke=R.join(".");return Ee.length>0&&(ke=ke+"."+Ee.join(".")),ke},Ne.dump=function(C,T,R,N){var Q=Ne,oe=Q.getV,we=Q.dump,Le=Q.getChildIdx,Ee=C;C instanceof K.asn1.ASN1Object&&(Ee=C.getEncodedHex());var Pe=function(Tt,pn){return Tt.length<=2*pn?Tt:Tt.substr(0,pn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-pn,pn)};T===void 0&&(T={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var ke,$e=T.ommit_long_octet;if((ke=Ee.substr(R,2))=="01")return(He=oe(Ee,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(ke=="02")return N+"INTEGER "+Pe(He=oe(Ee,R),$e)+`
`;if(ke=="03"){var He=oe(Ee,R);if(Q.isASN1HEX(He.substr(2))){var Xe=N+`BITSTRING, encapsulates
`;return Xe+=we(He.substr(2),T,0,N+"  ")}return N+"BITSTRING "+Pe(He,$e)+`
`}if(ke=="04")return He=oe(Ee,R),Q.isASN1HEX(He)?(Xe=N+`OCTETSTRING, encapsulates
`,Xe+=we(He,T,0,N+"  ")):N+"OCTETSTRING "+Pe(He,$e)+`
`;if(ke=="05")return N+`NULL
`;if(ke=="06"){var st=oe(Ee,R),dt=K.asn1.ASN1Util.oidHexToInt(st),ut=K.asn1.x509.OID.oid2name(dt),be=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(ke=="0a")return N+"ENUMERATED "+parseInt(oe(Ee,R))+`
`;if(ke=="0c")return N+"UTF8String '"+on(oe(Ee,R))+`'
`;if(ke=="13")return N+"PrintableString '"+on(oe(Ee,R))+`'
`;if(ke=="14")return N+"TeletexString '"+on(oe(Ee,R))+`'
`;if(ke=="16")return N+"IA5String '"+on(oe(Ee,R))+`'
`;if(ke=="17")return N+"UTCTime "+on(oe(Ee,R))+`
`;if(ke=="18")return N+"GeneralizedTime "+on(oe(Ee,R))+`
`;if(ke=="1a")return N+"VisualString '"+on(oe(Ee,R))+`'
`;if(ke=="1e")return N+"BMPString '"+it(oe(Ee,R))+`'
`;if(ke=="30"){if(Ee.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Xe=N+`SEQUENCE
`;var De=T;if(((lt=Le(Ee,R)).length==2||lt.length==3)&&Ee.substr(lt[0],2)=="06"&&Ee.substr(lt[lt.length-1],2)=="04"){ut=Q.oidname(oe(Ee,lt[0]));var Ue=JSON.parse(JSON.stringify(T));Ue.x509ExtName=ut,De=Ue}for(var Ge=0;Ge<lt.length;Ge++)Xe+=we(Ee,De,lt[Ge],N+"  ");return Xe}if(ke=="31"){Xe=N+`SET
`;var lt=Le(Ee,R);for(Ge=0;Ge<lt.length;Ge++)Xe+=we(Ee,T,lt[Ge],N+"  ");return Xe}if(128&(ke=parseInt(ke,16))){var mt=31&ke;if(32&ke){for(Xe=N+"["+mt+`]
`,lt=Le(Ee,R),Ge=0;Ge<lt.length;Ge++)Xe+=we(Ee,T,lt[Ge],N+"  ");return Xe}if(He=oe(Ee,R),Ne.isASN1HEX(He)){var Xe=N+"["+mt+`]
`;return Xe+=we(He,T,0,N+"  ")}return(He.substr(0,8)=="68747470"||T.x509ExtName==="subjectAltName"&&mt==2)&&(He=on(He)),Xe=N+"["+mt+"] "+He+`
`}return N+"UNKNOWN("+ke+") "+oe(Ee,R)+`
`},Ne.isContextTag=function(C,T){var R,N;C=C.toLowerCase();try{R=parseInt(C,16)}catch{return-1}if(T===void 0)return(192&R)==128;try{return T.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(T.substr(1,T.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},Ne.isASN1HEX=function(C){var T=Ne;if(C.length%2==1)return!1;var R=T.getVblen(C,0),N=C.substr(0,2),Q=T.getL(C,0);return C.length-N.length-Q.length==2*R},Ne.checkStrictDER=function(C,T,R,N,Q){var oe=Ne;if(R===void 0){if(typeof C!="string")throw new Error("not hex string");if(C=C.toLowerCase(),!K.lang.String.isHex(C))throw new Error("not hex string");R=C.length,Q=(N=C.length/2)<128?1:Math.ceil(N.toString(16))+1}if(oe.getL(C,T).length>2*Q)throw new Error("L of TLV too long: idx="+T);var we=oe.getVblen(C,T);if(we>N)throw new Error("value of L too long than hex: idx="+T);var Le=oe.getTLV(C,T),Ee=Le.length-2-oe.getL(C,T).length;if(Ee!==2*we)throw new Error("V string length and L's value not the same:"+Ee+"/"+2*we);if(T===0&&C.length!=Le.length)throw new Error("total length and TLV length unmatch:"+C.length+"!="+Le.length);var Pe=C.substr(T,2);if(Pe==="02"){var ke=oe.getVidx(C,T);if(C.substr(ke,2)=="00"&&C.charCodeAt(ke+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Pe,16)){for(var $e=oe.getVblen(C,T),He=0,Xe=oe.getChildIdx(C,T),st=0;st<Xe.length;st++)He+=oe.getTLV(C,Xe[st]).length,oe.checkStrictDER(C,Xe[st],R,N,Q);if(2*$e!=He)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+He)}},Ne.oidname=function(C){var T=K.asn1;K.lang.String.isHex(C)&&(C=T.ASN1Util.oidHexToInt(C));var R=T.x509.OID.oid2name(C);return R===""&&(R=C),R},K!==void 0&&K||(r.KJUR=K={}),K.lang!==void 0&&K.lang||(K.lang={}),K.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(T){return Bt(a.from(T,"utf8").toString("base64"))},r.b64utoutf8=Ye=function(T){return a.from(Er(T),"base64").toString("utf8")}):(r.utf8tob64u=je=function(T){return fn(Jn(Et(T)))},r.b64utoutf8=Ye=function(T){return decodeURIComponent(Qe(dn(T)))}),K.lang.String.isInteger=function(C){return!!C.match(/^[0-9]+$/)||!!C.match(/^-[0-9]+$/)},K.lang.String.isHex=function(C){return Lt(C)},K.lang.String.isBase64=function(C){return!(!(C=C.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||C.length%4!=0)},K.lang.String.isBase64URL=function(C){return!C.match(/[+/=]/)&&(C=Er(C),K.lang.String.isBase64(C))},K.lang.String.isIntegerArray=function(C){return!!(C=C.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},K.lang.String.isPrintable=function(C){return C.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},K.lang.String.isIA5=function(C){return C.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},K.lang.String.isMail=function(C){return C.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Yt=function(T,R,N){return N==null&&(N="0"),T.length>=R?T:new Array(R-T.length+1).join(N)+T};function qt(C,T){var R=function(){};R.prototype=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.superclass=T.prototype,T.prototype.constructor==Object.prototype.constructor&&(T.prototype.constructor=T)}K!==void 0&&K||(r.KJUR=K={}),K.crypto!==void 0&&K.crypto||(K.crypto={}),K.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:k.algo.MD5,sha1:k.algo.SHA1,sha224:k.algo.SHA224,sha256:k.algo.SHA256,sha384:k.algo.SHA384,sha512:k.algo.SHA512,ripemd160:k.algo.RIPEMD160},this.getDigestInfoHex=function(C,T){if(this.DIGESTINFOHEAD[T]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+T;return this.DIGESTINFOHEAD[T]+C},this.getPaddedDigestInfoHex=function(C,T,R){var N=this.getDigestInfoHex(C,T),Q=R/4;if(N.length+22>Q)throw"key is too short for SigAlg: keylen="+R+","+T;for(var oe="0001",we="00"+N,Le="",Ee=Q-oe.length-we.length,Pe=0;Pe<Ee;Pe+=2)Le+="ff";return oe+Le+we},this.hashString=function(C,T){return new K.crypto.MessageDigest({alg:T}).digestString(C)},this.hashHex=function(C,T){return new K.crypto.MessageDigest({alg:T}).digestHex(C)},this.sha1=function(C){return this.hashString(C,"sha1")},this.sha256=function(C){return this.hashString(C,"sha256")},this.sha256Hex=function(C){return this.hashHex(C,"sha256")},this.sha512=function(C){return this.hashString(C,"sha512")},this.sha512Hex=function(C){return this.hashHex(C,"sha512")},this.isKey=function(C){return C instanceof Se||C instanceof K.crypto.DSA||C instanceof K.crypto.ECDSA}},K.crypto.Util.md5=function(C){return new K.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(C)},K.crypto.Util.ripemd160=function(C){return new K.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(C)},K.crypto.Util.SECURERANDOMGEN=new nt,K.crypto.Util.getRandomHexOfNbytes=function(C){var T=new Array(C);return K.crypto.Util.SECURERANDOMGEN.nextBytes(T),kt(T)},K.crypto.Util.getRandomBigIntegerOfNbytes=function(C){return new U(K.crypto.Util.getRandomHexOfNbytes(C),16)},K.crypto.Util.getRandomHexOfNbits=function(C){var T=C%8,R=new Array((C-T)/8+1);return K.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<T&255^255)&R[0],kt(R)},K.crypto.Util.getRandomBigIntegerOfNbits=function(C){return new U(K.crypto.Util.getRandomHexOfNbits(C),16)},K.crypto.Util.getRandomBigIntegerZeroToMax=function(C){for(var T=C.bitLength();;){var R=K.crypto.Util.getRandomBigIntegerOfNbits(T);if(C.compareTo(R)!=-1)return R}},K.crypto.Util.getRandomBigIntegerMinToMax=function(C,T){var R=C.compareTo(T);if(R==1)throw"biMin is greater than biMax";if(R==0)return C;var N=T.subtract(C);return K.crypto.Util.getRandomBigIntegerZeroToMax(N).add(C)},K.crypto.MessageDigest=function(C){this.setAlgAndProvider=function(T,R){if((T=K.crypto.MessageDigest.getCanonicalAlgName(T))!==null&&R===void 0&&(R=K.crypto.Util.DEFAULTPROVIDER[T]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(T)!=-1&&R=="cryptojs"){try{this.md=K.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[T].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var Q=k.enc.Hex.parse(N);this.md.update(Q)},this.digest=function(){return this.md.finalize().toString(k.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(T)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var Q=sjcl.codec.hex.toBits(N);this.md.update(Q)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},C!==void 0&&C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=K.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},K.crypto.MessageDigest.getCanonicalAlgName=function(C){return typeof C=="string"&&(C=(C=C.toLowerCase()).replace(/-/,"")),C},K.crypto.MessageDigest.getHashLength=function(C){var T=K.crypto.MessageDigest,R=T.getCanonicalAlgName(C);if(T.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+C;return T.HASHLENGTH[R]},K.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},K.crypto.Mac=function(C){this.setAlgAndProvider=function(T,R){if((T=T.toLowerCase())==null&&(T="hmacsha1"),(T=T.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+T;R===void 0&&(R=K.crypto.Util.DEFAULTPROVIDER[T]),this.algProv=T+"/"+R;var N=T.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var Q=K.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=k.algo.HMAC.create(Q,this.pass)}catch(oe){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+oe}this.updateString=function(oe){this.mac.update(oe)},this.updateHex=function(oe){var we=k.enc.Hex.parse(oe);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(k.enc.Hex)},this.doFinalString=function(oe){return this.updateString(oe),this.doFinal()},this.doFinalHex=function(oe){return this.updateHex(oe),this.doFinal()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(T){if(typeof T=="string"){var R=T;return T.length%2!=1&&T.match(/^[0-9A-Fa-f]+$/)||(R=In(T)),void(this.pass=k.enc.Hex.parse(R))}if((T===void 0?"undefined":S(T))!="object")throw"KJUR.crypto.Mac unsupported password type: "+T;if(R=null,T.hex!==void 0){if(T.hex.length%2!=0||!T.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+T.hex;R=T.hex}if(T.utf8!==void 0&&(R=dr(T.utf8)),T.rstr!==void 0&&(R=In(T.rstr)),T.b64!==void 0&&(R=B(T.b64)),T.b64u!==void 0&&(R=dn(T.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+T;this.pass=k.enc.Hex.parse(R)},C!==void 0&&(C.pass!==void 0&&this.setPassword(C.pass),C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=K.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},K.crypto.Signature=function(C){var T=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var Q="",oe=N/4-R.length,we=0;we<oe;we++)Q+="0";return Q+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new K.crypto.MessageDigest({alg:this.mdAlgName})}catch(Q){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+Q)}this.init=function(Q,oe){var we=null;try{we=oe===void 0?Nt.getKey(Q):Nt.getKey(Q,oe)}catch(Le){throw"init failed:"+Le}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(Q){this.md.updateString(Q)},this.updateHex=function(Q){this.md.updateHex(Q)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&K.crypto.ECDSA!==void 0&&(this.prvKey=new K.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof K.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof K.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(Q){return this.updateString(Q),this.sign()},this.signHex=function(Q){return this.updateHex(Q),this.sign()},this.verify=function(Q){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&K.crypto.ECDSA!==void 0&&(this.pubKey=new K.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,Q,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,Q);if(K.crypto.ECDSA!==void 0&&this.pubKey instanceof K.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Q);if(K.crypto.DSA!==void 0&&this.pubKey instanceof K.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Q);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=C,C!==void 0&&(C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0?this.provName=K.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=C.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),C.psssaltlen!==void 0&&(this.pssSaltLen=C.psssaltlen),C.prvkeypem!==void 0)){if(C.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{T=Nt.getKey(C.prvkeypem),this.init(T)}catch(R){throw"fatal error to load pem private key: "+R}}},K.crypto.Cipher=function(C){},K.crypto.Cipher.encrypt=function(C,T,R){if(T instanceof Se&&T.isPublic){var N=K.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.encrypt(C);if(N==="RSAOAEP")return T.encryptOAEP(C,"sha1");var Q=N.match(/^RSAOAEP(\d+)$/);if(Q!==null)return T.encryptOAEP(C,"sha"+Q[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},K.crypto.Cipher.decrypt=function(C,T,R){if(T instanceof Se&&T.isPrivate){var N=K.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.decrypt(C);if(N==="RSAOAEP")return T.decryptOAEP(C,"sha1");var Q=N.match(/^RSAOAEP(\d+)$/);if(Q!==null)return T.decryptOAEP(C,"sha"+Q[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},K.crypto.Cipher.getAlgByKeyAndName=function(C,T){if(C instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(T)!=-1)return T;if(T==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+T}throw"getAlgByKeyAndName: not supported algorithm name: "+T},K.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},K!==void 0&&K||(r.KJUR=K={}),K.crypto!==void 0&&K.crypto||(K.crypto={}),K.crypto.ECDSA=function(C){var T=Error,R=U,N=te,Q=K.crypto.ECDSA,oe=K.crypto.ECParameterDB,we=Q.getName,Le=Ne,Ee=Le.getVbyListEx,Pe=Le.isASN1HEX,ke=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),ke).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=oe.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var He=this.ecparams.keylen/4;if($e.length!==2+2*He)throw"malformed public key hex length";var Xe={};return Xe.x=$e.substr(2,He),Xe.y=$e.substr(2+He),Xe},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,He=this.getBigRandom($e),Xe=this.ecparams.G.multiply(He),st=Xe.getX().toBigInteger(),dt=Xe.getY().toBigInteger(),ut=this.ecparams.keylen/4,be=("0000000000"+He.toString(16)).slice(-ut),De="04"+("0000000000"+st.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(be),this.setPublicKeyHex(De),{ecprvhex:be,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,He){var Xe=new R(He,16),st=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(st),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(st);while(be.compareTo(R.ZERO)<=0);var De=ut.modInverse(st).multiply(dt.add(Xe.multiply(be))).mod(st);return Q.biRSSigToASN1Sig(be,De)},this.sign=function($e,He){var Xe=He,st=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(st),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(st);while(be.compareTo(U.ZERO)<=0);var De=ut.modInverse(st).multiply(dt.add(Xe.multiply(be))).mod(st);return this.serializeSig(be,De)},this.verifyWithMessageHash=function($e,He){return this.verifyHex($e,He,this.pubKeyHex)},this.verifyHex=function($e,He,Xe){try{var st,dt,ut=Q.parseSigHex(He);st=ut.r,dt=ut.s;var be=N.decodeFromHex(this.ecparams.curve,Xe),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,st,dt,be)}catch{return!1}},this.verify=function($e,He,Xe){var st,dt,ut;if(Bitcoin.Util.isArray(He)){var be=this.parseSig(He);st=be.r,dt=be.s}else{if((He===void 0?"undefined":S(He))!=="object"||!He.r||!He.s)throw"Invalid value for signature";st=He.r,dt=He.s}if(Xe instanceof te)ut=Xe;else{if(!Bitcoin.Util.isArray(Xe))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Xe)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,st,dt,ut)},this.verifyRaw=function($e,He,Xe,st){var dt=this.ecparams.n,ut=this.ecparams.G;if(He.compareTo(R.ONE)<0||He.compareTo(dt)>=0||Xe.compareTo(R.ONE)<0||Xe.compareTo(dt)>=0)return!1;var be=Xe.modInverse(dt),De=$e.multiply(be).mod(dt),Ue=He.multiply(be).mod(dt);return ut.multiply(De).add(st.multiply(Ue)).getX().toBigInteger().mod(dt).equals(He)},this.serializeSig=function($e,He){var Xe=$e.toByteArraySigned(),st=He.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Xe.length),(dt=dt.concat(Xe)).push(2),dt.push(st.length),(dt=dt.concat(st)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var He;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[He=2]!=2)throw new Error("First element in signature must be a DERInteger");var Xe=$e.slice(He+2,He+2+$e[He+1]);if($e[He+=2+$e[He+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var st=$e.slice(He+2,He+2+$e[He+1]);return He+=2+$e[He+1],{r:R.fromByteArrayUnsigned(Xe),s:R.fromByteArrayUnsigned(st)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var He=$e[0]-27;if(He<0||He>7)throw"Invalid signature type";var Xe=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Xe),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Xe),i:He}},this.readPKCS5PrvKeyHex=function($e){if(Pe($e)===!1)throw new Error("not ASN.1 hex string");var He,Xe,st;try{He=Ee($e,0,["[0]",0],"06"),Xe=Ee($e,0,[1],"04");try{st=Ee($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(He),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var He,Xe,st;try{Ee($e,0,[1,0],"06"),He=Ee($e,0,[1,1],"06"),Xe=Ee($e,0,[2,0,1],"04");try{st=Ee($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new T("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(He),this.curveName===void 0)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var He,Xe;try{Ee($e,0,[0,0],"06"),He=Ee($e,0,[0,1],"06"),Xe=Ee($e,0,[1],"03")}catch{throw new T("malformed PKCS#8 ECC public key")}if(this.curveName=we(He),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Xe)},this.readCertPubKeyHex=function($e,He){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var Xe,st;try{Xe=Ee($e,0,[0,5,0,1],"06"),st=Ee($e,0,[0,5,1],"03")}catch{throw new T("malformed X.509 certificate ECC public key")}if(this.curveName=we(Xe),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},C!==void 0&&C.curve!==void 0&&(this.curveName=C.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),C!==void 0&&(C.prv!==void 0&&this.setPrivateKeyHex(C.prv),C.pub!==void 0&&this.setPublicKeyHex(C.pub))},K.crypto.ECDSA.parseSigHex=function(C){var T=K.crypto.ECDSA.parseSigHexInHexRS(C);return{r:new U(T.r,16),s:new U(T.s,16)}},K.crypto.ECDSA.parseSigHexInHexRS=function(C){var T=Ne,R=T.getChildIdx,N=T.getV;if(T.checkStrictDER(C,0),C.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var Q=R(C,0);if(Q.length!=2)throw new Error("signature shall have two elements");var oe=Q[0],we=Q[1];if(C.substr(oe,2)!="02")throw new Error("1st item not ASN.1 integer");if(C.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(C,oe),s:N(C,we)}},K.crypto.ECDSA.asn1SigToConcatSig=function(C){var T=K.crypto.ECDSA.parseSigHexInHexRS(C),R=T.r,N=T.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},K.crypto.ECDSA.concatSigToASN1Sig=function(C){if(C.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var T=C.substr(0,C.length/2),R=C.substr(C.length/2);return K.crypto.ECDSA.hexRSSigToASN1Sig(T,R)},K.crypto.ECDSA.hexRSSigToASN1Sig=function(C,T){var R=new U(C,16),N=new U(T,16);return K.crypto.ECDSA.biRSSigToASN1Sig(R,N)},K.crypto.ECDSA.biRSSigToASN1Sig=function(C,T){var R=K.asn1,N=new R.DERInteger({bigint:C}),Q=new R.DERInteger({bigint:T});return new R.DERSequence({array:[N,Q]}).getEncodedHex()},K.crypto.ECDSA.getName=function(C){return C==="2b8104001f"?"secp192k1":C==="2a8648ce3d030107"?"secp256r1":C==="2b8104000a"?"secp256k1":C==="2b81040021"?"secp224r1":C==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(C)!==-1?"secp256r1":"|secp256k1|".indexOf(C)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(C)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(C)!==-1?"secp384r1":null},K!==void 0&&K||(r.KJUR=K={}),K.crypto!==void 0&&K.crypto||(K.crypto={}),K.crypto.ECParameterDB=new function(){var C={},T={};function R(N){return new U(N,16)}this.getByName=function(N){var Q=N;if(T[Q]!==void 0&&(Q=T[N]),C[Q]!==void 0)return C[Q];throw"unregistered EC curve name: "+Q},this.regist=function(N,Q,oe,we,Le,Ee,Pe,ke,$e,He,Xe,st){C[N]={};var dt=R(oe),ut=R(we),be=R(Le),De=R(Ee),Ue=R(Pe),Ge=new H(dt,ut,be),lt=Ge.decodePointHex("04"+ke+$e);C[N].name=N,C[N].keylen=Q,C[N].curve=Ge,C[N].G=lt,C[N].n=De,C[N].h=Ue,C[N].oid=Xe,C[N].info=st;for(var mt=0;mt<He.length;mt++)T[He[mt]]=N}},K.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),K.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),K.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),K.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),K.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),K.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),K.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),K.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),K.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),K.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Nt=function(){var C=function(Pe,ke,$e){return T(k.AES,Pe,ke,$e)},T=function(Pe,ke,$e,He){var Xe=k.enc.Hex.parse(ke),st=k.enc.Hex.parse($e),dt=k.enc.Hex.parse(He),ut={};ut.key=st,ut.iv=dt,ut.ciphertext=Xe;var be=Pe.decrypt(ut,st,{iv:dt});return k.enc.Hex.stringify(be)},R=function(Pe,ke,$e){return N(k.AES,Pe,ke,$e)},N=function(Pe,ke,$e,He){var Xe=k.enc.Hex.parse(ke),st=k.enc.Hex.parse($e),dt=k.enc.Hex.parse(He),ut=Pe.encrypt(Xe,st,{iv:dt}),be=k.enc.Hex.parse(ut.toString());return k.enc.Base64.stringify(be)},Q={"AES-256-CBC":{proc:C,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:C,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:C,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Pe,ke,$e){return T(k.TripleDES,Pe,ke,$e)},eproc:function(Pe,ke,$e){return N(k.TripleDES,Pe,ke,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Pe,ke,$e){return T(k.DES,Pe,ke,$e)},eproc:function(Pe,ke,$e){return N(k.DES,Pe,ke,$e)},keylen:8,ivlen:8}},oe=function(Pe){var ke={},$e=Pe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(ke.cipher=$e[1],ke.ivsalt=$e[2]);var He=Pe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));He&&(ke.type=He[1]);var Xe=-1,st=0;Pe.indexOf(`\r
\r
`)!=-1&&(Xe=Pe.indexOf(`\r
\r
`),st=2),Pe.indexOf(`

`)!=-1&&(Xe=Pe.indexOf(`

`),st=1);var dt=Pe.indexOf("-----END");if(Xe!=-1&&dt!=-1){var ut=Pe.substring(Xe+2*st,dt-st);ut=ut.replace(/\s+/g,""),ke.data=ut}return ke},we=function(Pe,ke,$e){for(var He=$e.substring(0,16),Xe=k.enc.Hex.parse(He),st=k.enc.Utf8.parse(ke),dt=Q[Pe].keylen+Q[Pe].ivlen,ut="",be=null;;){var De=k.algo.MD5.create();if(be!=null&&De.update(be),De.update(st),De.update(Xe),be=De.finalize(),(ut+=k.enc.Hex.stringify(be)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*Q[Pe].keylen),Ue.ivhex=ut.substr(2*Q[Pe].keylen,2*Q[Pe].ivlen),Ue},Le=function(Pe,ke,$e,He){var Xe=k.enc.Base64.parse(Pe),st=k.enc.Hex.stringify(Xe);return(0,Q[ke].proc)(st,$e,He)};return{version:"1.0.0",parsePKCS5PEM:function(Pe){return oe(Pe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Pe,ke,$e){return we(Pe,ke,$e)},decryptKeyB64:function(Pe,ke,$e,He){return Le(Pe,ke,$e,He)},getDecryptedKeyHex:function(Pe,ke){var $e=oe(Pe),He=$e.cipher,Xe=$e.ivsalt,st=$e.data,dt=we(He,ke,Xe).keyhex;return Le(st,He,dt,Xe)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Pe,ke,$e,He,Xe){var st="";if(He!==void 0&&He!=null||(He="AES-256-CBC"),Q[He]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+He);Xe!==void 0&&Xe!=null||(Xe=function(be){var De=k.lib.WordArray.random(be);return k.enc.Hex.stringify(De)}(Q[He].ivlen).toUpperCase());var dt=function(be,De,Ue,Ge){return(0,Q[De].eproc)(be,Ue,Ge)}(ke,He,we(He,$e,Xe).keyhex,Xe);return st="-----BEGIN "+Pe+` PRIVATE KEY-----\r
`,st+=`Proc-Type: 4,ENCRYPTED\r
`,st+="DEK-Info: "+He+","+Xe+`\r
`,st+=`\r
`,st+=dt.replace(/(.{64})/g,`$1\r
`),st+=`\r
-----END `+Pe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Pe){var ke=Ne,$e=ke.getChildIdx,He=ke.getV,Xe={},st=$e(Pe,0);if(st.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+st.length);Xe.ciphertext=He(Pe,st[1]);var dt=$e(Pe,st[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(He(Pe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Pe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var be=$e(Pe,ut[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(He(Pe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Xe.encryptionSchemeAlg="TripleDES",Xe.encryptionSchemeIV=He(Pe,be[1]);var De=$e(Pe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(He(Pe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Pe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Xe.pbkdf2Salt=He(Pe,Ue[0]);var Ge=He(Pe,Ue[1]);try{Xe.pbkdf2Iter=parseInt(Ge,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ge)}return Xe},getPBKDF2KeyHexFromParam:function(Pe,ke){var $e=k.enc.Hex.parse(Pe.pbkdf2Salt),He=Pe.pbkdf2Iter,Xe=k.PBKDF2(ke,$e,{keySize:6,iterations:He});return k.enc.Hex.stringify(Xe)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Pe,ke){var $e=xt(Pe,"ENCRYPTED PRIVATE KEY"),He=this.parseHexOfEncryptedPKCS8($e),Xe=Nt.getPBKDF2KeyHexFromParam(He,ke),st={};st.ciphertext=k.enc.Hex.parse(He.ciphertext);var dt=k.enc.Hex.parse(Xe),ut=k.enc.Hex.parse(He.encryptionSchemeIV),be=k.TripleDES.decrypt(st,dt,{iv:ut});return k.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Pe,ke){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Pe,ke);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Pe){var ke=Ne,$e=ke.getChildIdx,He=ke.getV,Xe={algparam:null};if(Pe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var st=$e(Pe,0);if(st.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Pe.substr(st[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Pe,st[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Pe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Xe.algoid=He(Pe,dt[0]),Pe.substr(dt[1],2)=="06"&&(Xe.algparam=He(Pe,dt[1])),Pe.substr(st[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Xe.keyidx=ke.getVidx(Pe,st[2]),Xe},getKeyFromPlainPrivatePKCS8PEM:function(Pe){var ke=xt(Pe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(ke)},getKeyFromPlainPrivatePKCS8Hex:function(Pe){var ke,$e=this.parsePlainPrivatePKCS8Hex(Pe);if($e.algoid=="2a864886f70d010101")ke=new Se;else if($e.algoid=="2a8648ce380401")ke=new K.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");ke=new K.crypto.ECDSA}return ke.readPKCS8PrvKeyHex(Pe),ke},_getKeyFromPublicPKCS8Hex:function(Pe){var ke,$e=Ne.getVbyList(Pe,0,[0,0],"06");if($e==="2a864886f70d010101")ke=new Se;else if($e==="2a8648ce380401")ke=new K.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");ke=new K.crypto.ECDSA}return ke.readPKCS8PubKeyHex(Pe),ke},parsePublicRawRSAKeyHex:function(Pe){var ke=Ne,$e=ke.getChildIdx,He=ke.getV,Xe={};if(Pe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var st=$e(Pe,0);if(st.length!=2)throw new Error("malformed RSA key(code:002)");if(Pe.substr(st[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Xe.n=He(Pe,st[0]),Pe.substr(st[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Xe.e=He(Pe,st[1]),Xe},parsePublicPKCS8Hex:function(Pe){var ke=Ne,$e=ke.getChildIdx,He=ke.getV,Xe={algparam:null},st=$e(Pe,0);if(st.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+st.length);var dt=st[0];if(Pe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Pe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Pe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Xe.algoid=He(Pe,ut[0]),Pe.substr(ut[1],2)=="06"?Xe.algparam=He(Pe,ut[1]):Pe.substr(ut[1],2)=="30"&&(Xe.algparam={},Xe.algparam.p=ke.getVbyList(Pe,ut[1],[0],"02"),Xe.algparam.q=ke.getVbyList(Pe,ut[1],[1],"02"),Xe.algparam.g=ke.getVbyList(Pe,ut[1],[2],"02")),Pe.substr(st[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Xe.key=He(Pe,st[1]).substr(2),Xe}}}();Nt.getKey=function(C,T,R){var N=(ut=Ne).getChildIdx,Q=(ut.getV,ut.getVbyList),oe=K.crypto,we=oe.ECDSA,Le=oe.DSA,Ee=Se,Pe=xt,ke=Nt;if(Ee!==void 0&&C instanceof Ee||we!==void 0&&C instanceof we||Le!==void 0&&C instanceof Le)return C;if(C.curve!==void 0&&C.xy!==void 0&&C.d===void 0)return new we({pub:C.xy,curve:C.curve});if(C.curve!==void 0&&C.d!==void 0)return new we({prv:C.d,curve:C.curve});if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(Ht=new Ee).setPublic(C.n,C.e),Ht;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.co!==void 0&&C.qi===void 0)return(Ht=new Ee).setPrivateEx(C.n,C.e,C.d,C.p,C.q,C.dp,C.dq,C.co),Ht;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p===void 0)return(Ht=new Ee).setPrivate(C.n,C.e,C.d),Ht;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x===void 0)return(Ht=new Le).setPublic(C.p,C.q,C.g,C.y),Ht;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x!==void 0)return(Ht=new Le).setPrivate(C.p,C.q,C.g,C.y,C.x),Ht;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(Ht=new Ee).setPublic(dn(C.n),dn(C.e)),Ht;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.qi!==void 0)return(Ht=new Ee).setPrivateEx(dn(C.n),dn(C.e),dn(C.d),dn(C.p),dn(C.q),dn(C.dp),dn(C.dq),dn(C.qi)),Ht;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0)return(Ht=new Ee).setPrivate(dn(C.n),dn(C.e),dn(C.d)),Ht;if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d===void 0){var $e=(Dt=new we({curve:C.crv})).ecparams.keylen/4,He="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);return Dt.setPublicKeyHex(He),Dt}if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d!==void 0){$e=(Dt=new we({curve:C.crv})).ecparams.keylen/4,He="04"+("0000000000"+dn(C.x)).slice(-$e)+("0000000000"+dn(C.y)).slice(-$e);var Xe=("0000000000"+dn(C.d)).slice(-$e);return Dt.setPublicKeyHex(He),Dt.setPrivateKeyHex(Xe),Dt}if(R==="pkcs5prv"){var st,dt=C,ut=Ne;if((st=N(dt,0)).length===9)(Ht=new Ee).readPKCS5PrvKeyHex(dt);else if(st.length===6)(Ht=new Le).readPKCS5PrvKeyHex(dt);else{if(!(st.length>2&&dt.substr(st[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Ht=new we).readPKCS5PrvKeyHex(dt)}return Ht}if(R==="pkcs8prv")return Ht=ke.getKeyFromPlainPrivatePKCS8Hex(C);if(R==="pkcs8pub")return ke._getKeyFromPublicPKCS8Hex(C);if(R==="x509pub")return Qt.getPublicKeyFromCertHex(C);if(C.indexOf("-END CERTIFICATE-",0)!=-1||C.indexOf("-END X509 CERTIFICATE-",0)!=-1||C.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Qt.getPublicKeyFromCertPEM(C);if(C.indexOf("-END PUBLIC KEY-")!=-1){var be=xt(C,"PUBLIC KEY");return ke._getKeyFromPublicPKCS8Hex(be)}if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var De=Pe(C,"RSA PRIVATE KEY");return ke.getKey(De,null,"pkcs5prv")}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var Ue=Q(Fn=Pe(C,"DSA PRIVATE KEY"),0,[1],"02"),Ge=Q(Fn,0,[2],"02"),lt=Q(Fn,0,[3],"02"),mt=Q(Fn,0,[4],"02"),Ft=Q(Fn,0,[5],"02");return(Ht=new Le).setPrivate(new U(Ue,16),new U(Ge,16),new U(lt,16),new U(mt,16),new U(Ft,16)),Ht}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1)return De=Pe(C,"EC PRIVATE KEY"),ke.getKey(De,null,"pkcs5prv");if(C.indexOf("-END PRIVATE KEY-")!=-1)return ke.getKeyFromPlainPrivatePKCS8PEM(C);if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Tt=ke.getDecryptedKeyHex(C,T),pn=new Se;return pn.readPKCS5PrvKeyHex(Tt),pn}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Dt,Ht=Q(Fn=ke.getDecryptedKeyHex(C,T),0,[1],"04"),Un=Q(Fn,0,[2,0],"06"),Mn=Q(Fn,0,[3,0],"03").substr(2);if(K.crypto.OID.oidhex2name[Un]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+Un);return(Dt=new we({curve:K.crypto.OID.oidhex2name[Un]})).setPublicKeyHex(Mn),Dt.setPrivateKeyHex(Ht),Dt.isPublic=!1,Dt}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Fn;return Ue=Q(Fn=ke.getDecryptedKeyHex(C,T),0,[1],"02"),Ge=Q(Fn,0,[2],"02"),lt=Q(Fn,0,[3],"02"),mt=Q(Fn,0,[4],"02"),Ft=Q(Fn,0,[5],"02"),(Ht=new Le).setPrivate(new U(Ue,16),new U(Ge,16),new U(lt,16),new U(mt,16),new U(Ft,16)),Ht}if(C.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return ke.getKeyFromEncryptedPKCS8PEM(C,T);throw new Error("not supported argument")},Nt.generateKeypair=function(C,T){if(C=="RSA"){var R=T;(we=new Se).generate(R,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new Se,Q=we.n.toString(16),oe=we.e.toString(16);return N.setPublic(Q,oe),N.isPrivate=!1,N.isPublic=!0,(Le={}).prvKeyObj=we,Le.pubKeyObj=N,Le}if(C=="EC"){var we,Le,Ee=T,Pe=new K.crypto.ECDSA({curve:Ee}).generateKeyPairHex();return(we=new K.crypto.ECDSA({curve:Ee})).setPublicKeyHex(Pe.ecpubhex),we.setPrivateKeyHex(Pe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new K.crypto.ECDSA({curve:Ee})).setPublicKeyHex(Pe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Le={}).prvKeyObj=we,Le.pubKeyObj=N,Le}throw new Error("unknown algorithm: "+C)},Nt.getPEM=function(C,T,R,N,Q,oe){var we=K,Le=we.asn1,Ee=Le.DERObjectIdentifier,Pe=Le.DERInteger,ke=Le.ASN1Util.newObject,$e=Le.x509.SubjectPublicKeyInfo,He=we.crypto,Xe=He.DSA,st=He.ECDSA,dt=Se;function ut(Dt){return ke({seq:[{int:0},{int:{bigint:Dt.n}},{int:Dt.e},{int:{bigint:Dt.d}},{int:{bigint:Dt.p}},{int:{bigint:Dt.q}},{int:{bigint:Dt.dmp1}},{int:{bigint:Dt.dmq1}},{int:{bigint:Dt.coeff}}]})}function be(Dt){return ke({seq:[{int:1},{octstr:{hex:Dt.prvKeyHex}},{tag:["a0",!0,{oid:{name:Dt.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Dt.pubKeyHex}}]}]})}function De(Dt){return ke({seq:[{int:0},{int:{bigint:Dt.p}},{int:{bigint:Dt.q}},{int:{bigint:Dt.g}},{int:{bigint:Dt.y}},{int:{bigint:Dt.x}}]})}if((dt!==void 0&&C instanceof dt||Xe!==void 0&&C instanceof Xe||st!==void 0&&C instanceof st)&&C.isPublic==1&&(T===void 0||T=="PKCS8PUB"))return wt(mt=new $e(C).getEncodedHex(),"PUBLIC KEY");if(T=="PKCS1PRV"&&dt!==void 0&&C instanceof dt&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=ut(C).getEncodedHex(),"RSA PRIVATE KEY");if(T=="PKCS1PRV"&&st!==void 0&&C instanceof st&&(R===void 0||R==null)&&C.isPrivate==1){var Ue=new Ee({name:C.curveName}).getEncodedHex(),Ge=be(C).getEncodedHex(),lt="";return lt+=wt(Ue,"EC PARAMETERS"),lt+=wt(Ge,"EC PRIVATE KEY")}if(T=="PKCS1PRV"&&Xe!==void 0&&C instanceof Xe&&(R===void 0||R==null)&&C.isPrivate==1)return wt(mt=De(C).getEncodedHex(),"DSA PRIVATE KEY");if(T=="PKCS5PRV"&&dt!==void 0&&C instanceof dt&&R!==void 0&&R!=null&&C.isPrivate==1){var mt=ut(C).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,oe)}if(T=="PKCS5PRV"&&st!==void 0&&C instanceof st&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=be(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,oe);if(T=="PKCS5PRV"&&Xe!==void 0&&C instanceof Xe&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=De(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,oe);var Ft=function(Ht,Un){var Mn=Tt(Ht,Un);return new ke({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Mn.pbkdf2Salt}},{int:Mn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Mn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Mn.ciphertext}}]}).getEncodedHex()},Tt=function(Ht,Un){var Mn=k.lib.WordArray.random(8),Fn=k.lib.WordArray.random(8),Wt=k.PBKDF2(Un,Mn,{keySize:6,iterations:100}),Kn=k.enc.Hex.parse(Ht),hn=k.TripleDES.encrypt(Kn,Wt,{iv:Fn})+"",Yn={};return Yn.ciphertext=hn,Yn.pbkdf2Salt=k.enc.Hex.stringify(Mn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=k.enc.Hex.stringify(Fn),Yn};if(T=="PKCS8PRV"&&dt!=null&&C instanceof dt&&C.isPrivate==1){var pn=ut(C).getEncodedHex();return mt=ke({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ge=Ft(mt,R),"ENCRYPTED PRIVATE KEY")}if(T=="PKCS8PRV"&&st!==void 0&&C instanceof st&&C.isPrivate==1)return pn=new ke({seq:[{int:1},{octstr:{hex:C.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+C.pubKeyHex}}]}]}).getEncodedHex(),mt=ke({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:C.curveName}}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ge=Ft(mt,R),"ENCRYPTED PRIVATE KEY");if(T=="PKCS8PRV"&&Xe!==void 0&&C instanceof Xe&&C.isPrivate==1)return pn=new Pe({bigint:C.x}).getEncodedHex(),mt=ke({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:C.p}},{int:{bigint:C.q}},{int:{bigint:C.g}}]}]},{octstr:{hex:pn}}]}).getEncodedHex(),R===void 0||R==null?wt(mt,"PRIVATE KEY"):wt(Ge=Ft(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Nt.getKeyFromCSRPEM=function(C){var T=xt(C,"CERTIFICATE REQUEST");return Nt.getKeyFromCSRHex(T)},Nt.getKeyFromCSRHex=function(C){var T=Nt.parseCSRHex(C);return Nt.getKey(T.p8pubkeyhex,null,"pkcs8pub")},Nt.parseCSRHex=function(C){var T=Ne,R=T.getChildIdx,N=T.getTLV,Q={},oe=C;if(oe.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=R(oe,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(oe.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Le=R(oe,we[0]);if(Le.length<3)throw new Error("malformed CSR(code:004)");return Q.p8pubkeyhex=N(oe,Le[2]),Q},Nt.getKeyID=function(C){var T=Nt,R=Ne;typeof C=="string"&&C.indexOf("BEGIN ")!=-1&&(C=T.getKey(C));var N=xt(T.getPEM(C)),Q=R.getIdxbyList(N,0,[1]),oe=R.getV(N,Q).substring(2);return K.crypto.Util.hashHex(oe,"sha1")},Nt.getJWKFromKey=function(C){var T={};if(C instanceof Se&&C.isPrivate)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T.d=fn(C.d.toString(16)),T.p=fn(C.p.toString(16)),T.q=fn(C.q.toString(16)),T.dp=fn(C.dmp1.toString(16)),T.dq=fn(C.dmq1.toString(16)),T.qi=fn(C.coeff.toString(16)),T;if(C instanceof Se&&C.isPublic)return T.kty="RSA",T.n=fn(C.n.toString(16)),T.e=fn(C.e.toString(16)),T;if(C instanceof K.crypto.ECDSA&&C.isPrivate){if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=C.getPublicKeyXYHex();return T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T.d=fn(C.prvKeyHex),T}if(C instanceof K.crypto.ECDSA&&C.isPublic){var N;if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=C.getPublicKeyXYHex(),T.kty="EC",T.crv=N,T.x=fn(R.x),T.y=fn(R.y),T}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(C){return Ne.getChildIdx(C,0)},Se.getHexValueArrayOfChildrenFromHex=function(C){var T,R=Ne.getV,N=R(C,(T=Se.getPosArrayOfChildrenFromHex(C))[0]),Q=R(C,T[1]),oe=R(C,T[2]),we=R(C,T[3]),Le=R(C,T[4]),Ee=R(C,T[5]),Pe=R(C,T[6]),ke=R(C,T[7]),$e=R(C,T[8]);return(T=new Array).push(N,Q,oe,we,Le,Ee,Pe,ke,$e),T},Se.prototype.readPrivateKeyFromPEMString=function(C){var T=xt(C),R=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(C){var T=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8])},Se.prototype.readPKCS8PrvKeyHex=function(C){var T,R,N,Q,oe,we,Le,Ee,Pe=Ne,ke=Pe.getVbyListEx;if(Pe.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");try{T=ke(C,0,[2,0,1],"02"),R=ke(C,0,[2,0,2],"02"),N=ke(C,0,[2,0,3],"02"),Q=ke(C,0,[2,0,4],"02"),oe=ke(C,0,[2,0,5],"02"),we=ke(C,0,[2,0,6],"02"),Le=ke(C,0,[2,0,7],"02"),Ee=ke(C,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(T,R,N,Q,oe,we,Le,Ee)},Se.prototype.readPKCS5PubKeyHex=function(C){var T=Ne,R=T.getV;if(T.isASN1HEX(C)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=T.getChildIdx(C,0);if(N.length!==2||C.substr(N[0],2)!=="02"||C.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var Q=R(C,N[0]),oe=R(C,N[1]);this.setPublic(Q,oe)},Se.prototype.readPKCS8PubKeyHex=function(C){var T=Ne;if(T.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");if(T.getTLVbyListEx(C,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=T.getTLVbyListEx(C,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(C,T){var R,N;(R=new Qt).readCertHex(C),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function en(C,T){for(var R="",N=T/4-C.length,Q=0;Q<N;Q++)R+="0";return R+C}function Rn(C,T,R){for(var N="",Q=0;N.length<T;)N+=un(R(In(C+String.fromCharCode.apply(String,[(4278190080&Q)>>24,(16711680&Q)>>16,(65280&Q)>>8,255&Q])))),Q+=1;return N}function Kt(C){for(var T in K.crypto.Util.DIGESTINFOHEAD){var R=K.crypto.Util.DIGESTINFOHEAD[T],N=R.length;if(C.substring(0,N)==R)return[T,C.substring(N)]}return[]}function Qt(C){var T,R=Ne,N=R.getChildIdx,Q=R.getV,oe=R.getTLV,we=R.getVbyList,Le=R.getVbyListEx,Ee=R.getTLVbyList,Pe=R.getTLVbyListEx,ke=R.getIdxbyList,$e=R.getIdxbyListEx,He=R.getVidx,Xe=R.getInt,st=R.oidname,dt=R.hextooidstr,ut=xt;try{T=K.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=Ee(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var De=Ee(be,0,[0]),Ue=Xe(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Le(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Pe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var De in T)if(be===T[De])return De;return st(Le(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Ee(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Ee(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return ke(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return ke(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return Nt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=Ee(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ge=Ee(this.hex,0,[0],"30"),lt=new K.crypto.Signature({alg:De});return lt.init(be),lt.updateHex(Ge),lt.verify(Ue)},this.parseExt=function(be){var De,Ue,Ge;if(be===void 0){if(Ge=this.hex,this.version!==3)return-1;De=ke(Ge,0,[0,7,0],"30"),Ue=N(Ge,De)}else{Ge=xt(be);var lt=ke(Ge,0,[0,3,0,0],"06");if(Q(Ge,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=ke(Ge,0,[0,3,0,1,0],"30"),Ue=N(Ge,De),this.hex=Ge}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var Ft={critical:!1},Tt=0;N(Ge,Ue[mt]).length===3&&(Ft.critical=!0,Tt=1),Ft.oid=R.hextooidstr(we(Ge,Ue[mt],[0],"06"));var pn=ke(Ge,Ue[mt],[1+Tt]);Ft.vidx=He(Ge,pn),this.aExtInfo.push(Ft)}},this.getExtInfo=function(be){var De=this.aExtInfo,Ue=be;if(be.match(/^[0-9.]+$/)||(Ue=K.asn1.x509.OID.name2oid(be)),Ue!==""){for(var Ge=0;Ge<De.length;Ge++)if(De[Ge].oid===Ue)return De[Ge]}},this.getExtBasicConstraints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"basicConstraints"};if(De&&(Ge.critical=!0),be==="3000")return Ge;if(be==="30030101ff")return Ge.cA=!0,Ge;if(be.substr(0,12)==="30060101ff02"){var lt=Q(be,10),mt=parseInt(lt,16);return Ge.cA=!0,Ge.pathLen=mt,Ge}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"keyUsage"};return De&&(Ge.critical=!0),Ge.names=this.getExtKeyUsageString(be).split(","),Ge},this.getExtKeyUsageBin=function(be){if(be===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";be=oe(this.hex,De.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var Ue="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(Ue=Ue.slice(-8)),be.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(be){for(var De=this.getExtKeyUsageBin(be),Ue=new Array,Ge=0;Ge<De.length;Ge++)De.substr(Ge,1)=="1"&&Ue.push(Qt.KEYUSAGE_NAME[Ge]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"subjectKeyIdentifier"};De&&(Ge.critical=!0);var lt=Q(be,0);return Ge.kid={hex:lt},Ge},this.getExtAuthorityKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"authorityKeyIdentifier"};De&&(Ge.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=be.substr(lt[mt],2);if(Ft==="80"&&(Ge.kid={hex:Q(be,lt[mt])}),Ft==="a1"){var Tt=oe(be,lt[mt]),pn=this.getGeneralNames(Tt);Ge.issuer=pn[0].dn}Ft==="82"&&(Ge.sn={hex:Q(be,lt[mt])})}return Ge},this.getExtExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"extKeyUsage",array:[]};De&&(Ge.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++)Ge.array.push(st(Q(be,lt[mt])));return Ge},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var De=new Array,Ue=oe(this.hex,be.vidx);if(Ue==="")return De;for(var Ge=N(Ue,0),lt=0;lt<Ge.length;lt++)De.push(st(Q(Ue,Ge[lt])));return De},this.getExtSubjectAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"subjectAltName",array:[]};return De&&(Ge.critical=!0),Ge.array=this.getGeneralNames(be),Ge},this.getExtIssuerAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"issuerAltName",array:[]};return De&&(Ge.critical=!0),Ge.array=this.getGeneralNames(be),Ge},this.getGeneralNames=function(be){for(var De=N(be,0),Ue=[],Ge=0;Ge<De.length;Ge++){var lt=this.getGeneralName(oe(be,De[Ge]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(be){var De=be.substr(0,2),Ue=Q(be,0),Ge=un(Ue);return De=="81"?{rfc822:Ge}:De=="82"?{dns:Ge}:De=="86"?{uri:Ge}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var be,De,Ue,Ge=this.getExtInfo("subjectAltName");if(Ge===void 0)return Ge;for(var lt=new Array,mt=oe(this.hex,Ge.vidx),Ft=N(mt,0),Tt=0;Tt<Ft.length;Tt++)Ue=mt.substr(Ft[Tt],2),be=Q(mt,Ft[Tt]),Ue==="81"&&(De=on(be),lt.push(["MAIL",De])),Ue==="82"&&(De=on(be),lt.push(["DNS",De])),Ue==="84"&&(De=Qt.hex2dn(be,0),lt.push(["DN",De])),Ue==="86"&&(De=on(be),lt.push(["URI",De])),Ue==="87"&&(De=ft(be),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"cRLDistributionPoints",array:[]};De&&(Ge.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=oe(be,lt[mt]);Ge.array.push(this.getDistributionPoint(Ft))}return Ge},this.getDistributionPoint=function(be){for(var De={},Ue=N(be,0),Ge=0;Ge<Ue.length;Ge++){var lt=be.substr(Ue[Ge],2),mt=oe(be,Ue[Ge]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(be){for(var De={},Ue=N(be,0),Ge=0;Ge<Ue.length;Ge++){var lt=be.substr(Ue[Ge],2),mt=oe(be,Ue[Ge]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var De=new Array,Ue=N(this.hex,be.vidx),Ge=0;Ge<Ue.length;Ge++)try{var lt=on(we(this.hex,Ue[Ge],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,be.vidx),Ge=0;Ge<Ue.length;Ge++){var lt=we(this.hex,Ue[Ge],[0],"06"),mt=we(this.hex,Ue[Ge],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(on(mt)),lt==="2b06010505073002"&&De.caissuer.push(on(mt))}return De},this.getExtAuthorityInfoAccess=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"authorityInfoAccess",array:[]};De&&(Ge.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=Le(be,lt[mt],[0],"06"),Tt=on(we(be,lt[mt],[1],"86"));if(Ft=="2b06010505073001")Ge.array.push({ocsp:Tt});else{if(Ft!="2b06010505073002")throw new Error("unknown method: "+Ft);Ge.array.push({caissuer:Tt})}}return Ge},this.getExtCertificatePolicies=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"certificatePolicies",array:[]};De&&(Ge.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var Ft=oe(be,lt[mt]),Tt=this.getPolicyInformation(Ft);Ge.array.push(Tt)}return Ge},this.getPolicyInformation=function(be){var De={},Ue=we(be,0,[0],"06");De.policyoid=st(Ue);var Ge=$e(be,0,[1],"30");if(Ge!=-1){De.array=[];for(var lt=N(be,Ge),mt=0;mt<lt.length;mt++){var Ft=oe(be,lt[mt]),Tt=this.getPolicyQualifierInfo(Ft);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(be){var De={},Ue=we(be,0,[0],"06");if(Ue==="2b06010505070201"){var Ge=Le(be,0,[1],"16");De.cps=un(Ge)}else if(Ue==="2b06010505070202"){var lt=Ee(be,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(be){for(var De={},Ue=N(be,0),Ge=0;Ge<Ue.length;Ge++){var lt=oe(be,Ue[Ge]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(be){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],De.str=un(Q(be,0)),De},this.getExtCRLNumber=function(be,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),be.substr(0,2)=="02")return Ue.num={hex:Q(be,0)},Ue;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),be.substr(0,2)=="0a")return Ue.code=parseInt(Q(be,0),16),Ue;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ge=Q(be,0);return Ue.hex=Ge,Ue},this.getExtOcspNoCheck=function(be,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;be=oe(this.hex,Ue.vidx),De=Ue.critical}var Ge={extname:"adobeTimeStamp"};De&&(Ge.critical=!0);var lt=N(be,0);if(lt.length>1){var mt=oe(be,lt[1]),Ft=this.getGeneralName(mt);Ft.uri!=null&&(Ge.uri=Ft.uri)}if(lt.length>2){var Tt=oe(be,lt[2]);Tt=="0101ff"&&(Ge.reqauth=!0),Tt=="010100"&&(Ge.reqauth=!1)}return Ge},this.getX500NameRule=function(be){for(var De=null,Ue=[],Ge=0;Ge<be.length;Ge++)for(var lt=be[Ge],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ge=0;Ge<Ue.length;Ge++){var Ft=Ue[Ge],Tt=Ft.ds,pn=Ft.value,Dt=Ft.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(Dt!="CN")return"mixed";if(K.lang.String.isMail(pn))continue;return"mixed"}if(Dt=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(be){var De=this.getX500NameArray(be);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(be){for(var De=[],Ue=N(be,0),Ge=0;Ge<Ue.length;Ge++)De.push(this.getRDN(oe(be,Ue[Ge])));return De},this.getRDN=function(be){for(var De=[],Ue=N(be,0),Ge=0;Ge<Ue.length;Ge++)De.push(this.getAttrTypeAndValue(oe(be,Ue[Ge])));return De},this.getAttrTypeAndValue=function(be){var De={type:null,value:null,ds:null},Ue=N(be,0),Ge=we(be,Ue[0],[],"06"),lt=we(be,Ue[1],[]),mt=K.asn1.ASN1Util.oidHexToInt(Ge);return De.type=K.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[be.substr(Ue[1],2)],De.ds!="bmp"?De.value=on(lt):De.value=it(lt),De},this.readCertPEM=function(be){this.readCertHex(ut(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{ke(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=wt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(be=Pe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(be,0),Ge=0;Ge<Ue.length;Ge++){var lt=oe(be,Ue[Ge]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(be){var De=N(be,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+be);var Ue=dt(we(be,0,[0],"06")),Ge=!1;De==3&&Ee(be,0,[1])=="0101ff"&&(Ge=!0);var lt=Ee(be,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ge):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ge):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ge):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ge):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ge):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ge):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ge):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ge):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ge):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ge):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ge):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ge):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ge):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ge):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ge)),mt!=null)return mt;var Ft={extname:Ue,extn:lt};return Ge&&(Ft.critical=!0),Ft},this.findExt=function(be,De){for(var Ue=0;Ue<be.length;Ue++)if(be[Ue].extname==De)return be[Ue];return null},this.updateExtCDPFullURI=function(be,De){var Ue=this.findExt(be,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ge=Ue.array,lt=0;lt<Ge.length;lt++)if(Ge[lt].dpname!=null&&Ge[lt].dpname.full!=null)for(var mt=Ge[lt].dpname.full,Ft=0;Ft<mt.length;Ft++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ge=Ue.array,lt=0;lt<Ge.length;lt++)Ge[lt].ocsp!=null&&(Ge[lt].ocsp=De)},this.updateExtAIACAIssuer=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ge=Ue.array,lt=0;lt<Ge.length;lt++)Ge[lt].caissuer!=null&&(Ge[lt].caissuer=De)},this.dnarraytostr=function(be){return"/"+be.map(function(De){return function(Ge){return Ge.map(function(lt){return function(Ft){return Ft.type+"="+Ft.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,De,Ue,Ge=function(Wt){return JSON.stringify(Wt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var hr=hn[Yn];if(Kn+="    policy oid: "+hr.policyoid+`
`,hr.array!==void 0)for(var pr=0;pr<hr.array.length;pr++){var or=hr.array[pr];or.cps!==void 0&&(Kn+="    cps: "+or.cps+`
`)}}return Kn},mt=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var hr=hn[Yn];try{hr.dpname.full[0].uri!==void 0&&(Kn+="    "+hr.dpname.full[0].uri+`
`)}catch{}try{hr.dname.full[0].dn.hex!==void 0&&(Kn+="    "+Qt.hex2dn(hr.dpname.full[0].dn.hex)+`
`)}catch{}}return Kn},Ft=function(Wt){for(var Kn="",hn=Wt.array,Yn=0;Yn<hn.length;Yn++){var hr=hn[Yn];hr.caissuer!==void 0&&(Kn+="    caissuer: "+hr.caissuer+`
`),hr.ocsp!==void 0&&(Kn+="    ocsp: "+hr.ocsp+`
`)}return Kn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(be+="    n="+Vt(De.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Vt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Ue.length;Tt++){var pn=Ue[Tt],Dt=K.asn1.x509.OID.oid2name(pn.oid);Dt===""&&(Dt=pn.oid);var Ht="";if(pn.critical===!0&&(Ht="CRITICAL"),be+="  "+Dt+" "+Ht+`:
`,Dt==="basicConstraints"){var Un=this.getExtBasicConstraints();Un.cA===void 0?be+=`    {}
`:(be+="    cA=true",Un.pathLen!==void 0&&(be+=", pathLen="+Un.pathLen),be+=`
`)}else if(Dt==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(Dt==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Dt==="authorityKeyIdentifier"){var Mn=this.getExtAuthorityKeyIdentifier();Mn.kid!==void 0&&(be+="    kid="+Mn.kid.hex+`
`)}else Dt==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Dt==="subjectAltName"?be+="    "+Ge(this.getExtSubjectAltName())+`
`:Dt==="cRLDistributionPoints"?be+=mt(this.getExtCRLDistributionPoints()):Dt==="authorityInfoAccess"?be+=Ft(this.getExtAuthorityInfoAccess()):Dt==="certificatePolicies"&&(be+=lt(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof C=="string"&&(C.indexOf("-----BEGIN")!=-1?this.readCertPEM(C):K.lang.String.isHex(C)&&this.readCertHex(C))}Se.prototype.sign=function(C,T){var R=function(Q){return K.crypto.Util.hashString(Q,T)}(C);return this.signWithMessageHash(R,T)},Se.prototype.signWithMessageHash=function(C,T){var R=gt(K.crypto.Util.getPaddedDigestInfoHex(C,T,this.n.bitLength()),16);return en(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(C,T,R){var N=function(oe){return K.crypto.Util.hashHex(oe,T)}(In(C));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,T,R)},Se.prototype.signWithMessageHashPSS=function(C,T,R){var N,Q=un(C),oe=Q.length,we=this.n.bitLength()-1,Le=Math.ceil(we/8),Ee=function(be){return K.crypto.Util.hashHex(be,T)};if(R===-1||R===void 0)R=oe;else if(R===-2)R=Le-oe-2;else if(R<-2)throw new Error("invalid salt length");if(Le<oe+R+2)throw new Error("data too long");var Pe="";R>0&&(Pe=new Array(R),new nt().nextBytes(Pe),Pe=String.fromCharCode.apply(String,Pe));var ke=un(Ee(In("\0\0\0\0\0\0\0\0"+Q+Pe))),$e=[];for(N=0;N<Le-R-oe-2;N+=1)$e[N]=0;var He=String.fromCharCode.apply(String,$e)+""+Pe,Xe=Rn(ke,He.length,Ee),st=[];for(N=0;N<He.length;N+=1)st[N]=He.charCodeAt(N)^Xe.charCodeAt(N);var dt=65280>>8*Le-we&255;for(st[0]&=~dt,N=0;N<oe;N++)st.push(ke.charCodeAt(N));return st.push(188),en(this.doPrivate(new U(st)).toString(16),this.n.bitLength())},Se.prototype.verify=function(C,T){if((T=T.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(T,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var Q=this.doPublic(R).toString(16);if(Q.length+3!=N/4)return!1;var oe=Kt(Q.replace(/^1f+00/,""));if(oe.length==0)return!1;var we=oe[0];return oe[1]==function(Ee){return K.crypto.Util.hashString(Ee,we)}(C)},Se.prototype.verifyWithMessageHash=function(C,T){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(T,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Kt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==C)},Se.prototype.verifyPSS=function(C,T,R,N){var Q=function(we){return K.crypto.Util.hashHex(we,R)}(In(C));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(Q,T,R,N)},Se.prototype.verifyWithMessageHashPSS=function(C,T,R,N){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var Q,oe=new U(T,16),we=function(Ue){return K.crypto.Util.hashHex(Ue,R)},Le=un(C),Ee=Le.length,Pe=this.n.bitLength()-1,ke=Math.ceil(Pe/8);if(N===-1||N===void 0)N=Ee;else if(N===-2)N=ke-Ee-2;else if(N<-2)throw new Error("invalid salt length");if(ke<Ee+N+2)throw new Error("data too long");var $e=this.doPublic(oe).toByteArray();for(Q=0;Q<$e.length;Q+=1)$e[Q]&=255;for(;$e.length<ke;)$e.unshift(0);if($e[ke-1]!==188)throw new Error("encoded message does not end in 0xbc");var He=($e=String.fromCharCode.apply(String,$e)).substr(0,ke-Ee-1),Xe=$e.substr(He.length,Ee),st=65280>>8*ke-Pe&255;if(He.charCodeAt(0)&st)throw new Error("bits beyond keysize not zero");var dt=Rn(Xe,He.length,we),ut=[];for(Q=0;Q<He.length;Q+=1)ut[Q]=He.charCodeAt(Q)^dt.charCodeAt(Q);ut[0]&=~st;var be=ke-Ee-N-2;for(Q=0;Q<be;Q+=1)if(ut[Q]!==0)throw new Error("leftmost octets not zero");if(ut[be]!==1)throw new Error("0x01 marker not found");return Xe===un(we(In("\0\0\0\0\0\0\0\0"+Le+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Qt.hex2dn=function(C,T){T===void 0&&(T=0);var R=new Qt;return Ne.getTLV(C,T),R.getX500Name(C).str},Qt.hex2rdn=function(C,T){if(T===void 0&&(T=0),C.substr(T,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=Ne.getChildIdx(C,T),Q=0;Q<N.length;Q++)R.push(Qt.hex2attrTypeValue(C,N[Q]));return(R=R.map(function(oe){return oe.replace("+","\\+")})).join("+")},Qt.hex2attrTypeValue=function(C,T){var R=Ne,N=R.getV;if(T===void 0&&(T=0),C.substr(T,2)!=="30")throw new Error("malformed attribute type and value");var Q=R.getChildIdx(C,T);Q.length!==2||C.substr(Q[0],2);var oe=N(C,Q[0]),we=K.asn1.ASN1Util.oidHexToInt(oe);return K.asn1.x509.OID.oid2atype(we)+"="+un(N(C,Q[1]))},Qt.getPublicKeyFromCertHex=function(C){var T=new Qt;return T.readCertHex(C),T.getPublicKey()},Qt.getPublicKeyFromCertPEM=function(C){var T=new Qt;return T.readCertPEM(C),T.getPublicKey()},Qt.getPublicKeyInfoPropOfCertPEM=function(C){var T,R,N=Ne.getVbyList,Q={};return Q.algparam=null,(T=new Qt).readCertPEM(C),R=T.getPublicKeyHex(),Q.keyhex=N(R,0,[1],"03").substr(2),Q.algoid=N(R,0,[0,0],"06"),Q.algoid==="2a8648ce3d0201"&&(Q.algparam=N(R,0,[0,1],"06")),Q},Qt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],K!==void 0&&K||(r.KJUR=K={}),K.jws!==void 0&&K.jws||(K.jws={}),K.jws.JWS=function(){var C=K.jws.JWS.isSafeJSONString;this.parseJWS=function(T,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=T.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var Q=N[1],oe=N[2],we=N[3],Le=Q+"."+oe;if(this.parsedJWS={},this.parsedJWS.headB64U=Q,this.parsedJWS.payloadB64U=oe,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Le,!R){var Ee=dn(we),Pe=gt(Ee,16);this.parsedJWS.sigvalH=Ee,this.parsedJWS.sigvalBI=Pe}var ke=Ye(Q),$e=Ye(oe);if(this.parsedJWS.headS=ke,this.parsedJWS.payloadS=$e,!C(ke,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+ke}}},K.jws.JWS.sign=function(C,T,R,N,Q){var oe,we,Le,Ee=K,Pe=Ee.jws.JWS,ke=Pe.readSafeJSONString,$e=Pe.isSafeJSONString,He=Ee.crypto,Xe=(He.ECDSA,He.Mac),st=He.Signature,dt=JSON;if(typeof T!="string"&&(T===void 0?"undefined":S(T))!="object")throw"spHeader must be JSON string or object: "+T;if((T===void 0?"undefined":S(T))=="object"&&(we=T,oe=dt.stringify(we)),typeof T=="string"){if(!$e(oe=T))throw"JWS Head is not safe JSON string: "+oe;we=ke(oe)}if(Le=R,(R===void 0?"undefined":S(R))=="object"&&(Le=dt.stringify(R)),C!=""&&C!=null||we.alg===void 0||(C=we.alg),C!=""&&C!=null&&we.alg===void 0&&(we.alg=C,oe=dt.stringify(we)),C!==we.alg)throw"alg and sHeader.alg doesn't match: "+C+"!="+we.alg;var ut=null;if(Pe.jwsalg2sigalg[C]===void 0)throw"unsupported alg name: "+C;ut=Pe.jwsalg2sigalg[C];var be=je(oe)+"."+je(Le),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Xe({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(be),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new st({alg:ut})).init(N,Q),lt.updateString(be);var Ge=lt.sign();De=K.crypto.ECDSA.asn1SigToConcatSig(Ge)}else{var lt;ut!="none"&&((lt=new st({alg:ut})).init(N,Q),lt.updateString(be),De=lt.sign())}return be+"."+fn(De)},K.jws.JWS.verify=function(C,T,R){var N,Q=K,oe=Q.jws.JWS,we=oe.readSafeJSONString,Le=Q.crypto,Ee=Le.ECDSA,Pe=Le.Mac,ke=Le.Signature;S(Se)!==void 0&&(N=Se);var $e=C.split(".");if($e.length!==3)return!1;var He=$e[0]+"."+$e[1],Xe=dn($e[2]),st=we(Ye($e[0])),dt=null,ut=null;if(st.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=st.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&T===null)throw"key shall be specified to verify.";if(typeof T=="string"&&T.indexOf("-----BEGIN ")!=-1&&(T=Nt.getKey(T)),!(ut!="RS"&&ut!="PS"||T instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(T instanceof Ee))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(oe.jwsalg2sigalg[st.alg]===void 0)throw"unsupported alg name: "+dt;if((be=oe.jwsalg2sigalg[dt])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(T===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Pe({alg:be,pass:T});return De.updateString(He),Xe==De.doFinal()}if(be.indexOf("withECDSA")!=-1){var Ue,Ge=null;try{Ge=Ee.concatSigToASN1Sig(Xe)}catch{return!1}return(Ue=new ke({alg:be})).init(T),Ue.updateString(He),Ue.verify(Ge)}return(Ue=new ke({alg:be})).init(T),Ue.updateString(He),Ue.verify(Xe)},K.jws.JWS.parse=function(C){var T,R,N,Q=C.split("."),oe={};if(Q.length!=2&&Q.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return T=Q[0],R=Q[1],Q.length==3&&(N=Q[2]),oe.headerObj=K.jws.JWS.readSafeJSONString(Ye(T)),oe.payloadObj=K.jws.JWS.readSafeJSONString(Ye(R)),oe.headerPP=JSON.stringify(oe.headerObj,null,"  "),oe.payloadObj==null?oe.payloadPP=Ye(R):oe.payloadPP=JSON.stringify(oe.payloadObj,null,"  "),N!==void 0&&(oe.sigHex=dn(N)),oe},K.jws.JWS.verifyJWT=function(C,T,R){var N=K.jws,Q=N.JWS,oe=Q.readSafeJSONString,we=Q.inArray,Le=Q.includedArray,Ee=C.split("."),Pe=Ee[0],ke=Ee[1],$e=(dn(Ee[2]),oe(Ye(Pe))),He=oe(Ye(ke));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!we($e.alg,R.alg)||He.iss!==void 0&&S(R.iss)==="object"&&!we(He.iss,R.iss)||He.sub!==void 0&&S(R.sub)==="object"&&!we(He.sub,R.sub))return!1;if(He.aud!==void 0&&S(R.aud)==="object"){if(typeof He.aud=="string"){if(!we(He.aud,R.aud))return!1}else if(S(He.aud)=="object"&&!Le(He.aud,R.aud))return!1}var Xe=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Xe=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(He.exp!==void 0&&typeof He.exp=="number"&&He.exp+R.gracePeriod<Xe)&&!(He.nbf!==void 0&&typeof He.nbf=="number"&&Xe<He.nbf-R.gracePeriod)&&!(He.iat!==void 0&&typeof He.iat=="number"&&Xe<He.iat-R.gracePeriod)&&(He.jti===void 0||R.jti===void 0||He.jti===R.jti)&&!!Q.verify(C,T,R.alg)},K.jws.JWS.includedArray=function(C,T){var R=K.jws.JWS.inArray;if(C===null||(C===void 0?"undefined":S(C))!=="object"||typeof C.length!="number")return!1;for(var N=0;N<C.length;N++)if(!R(C[N],T))return!1;return!0},K.jws.JWS.inArray=function(C,T){if(T===null||(T===void 0?"undefined":S(T))!=="object"||typeof T.length!="number")return!1;for(var R=0;R<T.length;R++)if(T[R]==C)return!0;return!1},K.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},K.jws.JWS.isSafeJSONString=function(C,T,R){var N=null;try{return((N=G(C))===void 0?"undefined":S(N))!="object"||N.constructor===Array?0:(T&&(T[R]=N),1)}catch{return 0}},K.jws.JWS.readSafeJSONString=function(C){var T=null;try{return((T=G(C))===void 0?"undefined":S(T))!="object"||T.constructor===Array?null:T}catch{return null}},K.jws.JWS.getEncodedSignatureValueFromJWS=function(C){var T=C.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(T==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return T[1]},K.jws.JWS.getJWKthumbprint=function(C){if(C.kty!=="RSA"&&C.kty!=="EC"&&C.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var T="{";if(C.kty==="RSA"){if(typeof C.n!="string"||typeof C.e!="string")throw"wrong n and e value for RSA key";T+='"e":"'+C.e+'",',T+='"kty":"'+C.kty+'",',T+='"n":"'+C.n+'"}'}else if(C.kty==="EC"){if(typeof C.crv!="string"||typeof C.x!="string"||typeof C.y!="string")throw"wrong crv, x and y value for EC key";T+='"crv":"'+C.crv+'",',T+='"kty":"'+C.kty+'",',T+='"x":"'+C.x+'",',T+='"y":"'+C.y+'"}'}else if(C.kty==="oct"){if(typeof C.k!="string")throw"wrong k value for oct(symmetric) key";T+='"kty":"'+C.kty+'",',T+='"k":"'+C.k+'"}'}var R=In(T);return fn(K.crypto.Util.hashHex(R,"sha256"))},K.jws.IntDate={},K.jws.IntDate.get=function(C){var T=K.jws.IntDate,R=T.getNow,N=T.getZulu;if(C=="now")return R();if(C=="now + 1hour")return R()+3600;if(C=="now + 1day")return R()+86400;if(C=="now + 1month")return R()+2592e3;if(C=="now + 1year")return R()+31536e3;if(C.match(/Z$/))return N(C);if(C.match(/^[0-9]+$/))return parseInt(C);throw"unsupported format: "+C},K.jws.IntDate.getZulu=function(C){return Bn(C)},K.jws.IntDate.getNow=function(){return~~(new Date/1e3)},K.jws.IntDate.intDate2UTCString=function(C){return new Date(1e3*C).toUTCString()},K.jws.IntDate.intDate2Zulu=function(C){var T=new Date(1e3*C);return("0000"+T.getUTCFullYear()).slice(-4)+("00"+(T.getUTCMonth()+1)).slice(-2)+("00"+T.getUTCDate()).slice(-2)+("00"+T.getUTCHours()).slice(-2)+("00"+T.getUTCMinutes()).slice(-2)+("00"+T.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=pe,r.BigInteger=U,r.RSAKey=Se;var xn=K.crypto.EDSA;r.EDSA=xn;var En=K.crypto.DSA;r.DSA=En;var $n=K.crypto.Signature;r.Signature=$n;var Tr=K.crypto.MessageDigest;r.MessageDigest=Tr;var Br=K.crypto.Mac;r.Mac=Br;var qr=K.crypto.Cipher;r.Cipher=qr,r.KEYUTIL=Nt,r.ASN1HEX=Ne,r.X509=Qt,r.CryptoJS=k,r.b64tohex=B,r.b64toBA=ee,r.stoBA=At,r.BAtos=Pt,r.BAtohex=kt,r.stohex=Rt,r.stob64=function(T){return F(Rt(T))},r.stob64u=function(T){return Bt(F(Rt(T)))},r.b64utos=function(T){return Pt(ee(Er(T)))},r.b64tob64u=Bt,r.b64utob64=Er,r.hex2b64=F,r.hextob64u=fn,r.b64utohex=dn,r.utf8tob64u=je,r.b64utoutf8=Ye,r.utf8tob64=function(T){return F(Jn(Et(T)))},r.b64toutf8=function(T){return decodeURIComponent(Qe(B(T)))},r.utf8tohex=dr,r.hextoutf8=on,r.hextorstr=un,r.rstrtohex=In,r.hextob64=sr,r.hextob64nl=Ie,r.b64nltohex=qe,r.hextopem=wt,r.pemtohex=xt,r.hextoArrayBuffer=function(T){if(T.length%2!=0)throw"input is not even length";if(T.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(T.length/2),N=new DataView(R),Q=0;Q<T.length/2;Q++)N.setUint8(Q,parseInt(T.substr(2*Q,2),16));return R},r.ArrayBuffertohex=function(T){for(var R="",N=new DataView(T),Q=0;Q<T.byteLength;Q++)R+=("00"+N.getUint8(Q).toString(16)).slice(-2);return R},r.zulutomsec=It,r.zulutosec=Bn,r.zulutodate=function(T){return new Date(It(T))},r.datetozulu=function(T,R,N){var Q,oe=T.getUTCFullYear();if(R){if(oe<1950||2049<oe)throw"not proper year for UTCTime: "+oe;Q=(""+oe).slice(-2)}else Q=("000"+oe).slice(-4);if(Q+=("0"+(T.getUTCMonth()+1)).slice(-2),Q+=("0"+T.getUTCDate()).slice(-2),Q+=("0"+T.getUTCHours()).slice(-2),Q+=("0"+T.getUTCMinutes()).slice(-2),Q+=("0"+T.getUTCSeconds()).slice(-2),N){var we=T.getUTCMilliseconds();we!==0&&(Q+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return Q+="Z"},r.uricmptohex=Jn,r.hextouricmp=Qe,r.ipv6tohex=Ae,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(T){var R="malformed IP address";if(!(T=T.toLowerCase(T)).match(/^[0-9.]+$/)){if(T.match(/^[0-9a-f:]+$/)&&T.indexOf(":")!==-1)return Ae(T);throw R}var N=T.split(".");if(N.length!==4)throw R;var Q="";try{for(var oe=0;oe<4;oe++)Q+=("0"+parseInt(N[oe]).toString(16)).slice(-2);return Q}catch{throw R}},r.encodeURIComponentAll=Et,r.newline_toUnix=function(T){return T=T.replace(/\r\n/gm,`
`)},r.newline_toDos=function(T){return T=(T=T.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Vt,r.intarystrtohex=function(T){T=(T=(T=T.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return T.split(/,/).map(function(R,N,Q){var oe=parseInt(R);if(oe<0||255<oe)throw"integer not in range 0-255";return("00"+oe.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(T,R){var N=T.length;T.length>R.length&&(N=R.length);for(var Q=0;Q<N;Q++)if(T.charCodeAt(Q)!=R.charCodeAt(Q))return Q;return T.length!=R.length?N:-1},r.KJUR=K;var Rr=K.crypto;r.crypto=Rr;var Nn=K.asn1;r.asn1=Nn;var Wr=K.jws;r.jws=Wr;var Bi=K.lang;r.lang=Bi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=i(30),o=i(31),l=i(32);function f(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(ie,z){if(f()<z)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(ie=new Uint8Array(z)).__proto__=p.prototype:(ie===null&&(ie=new p(z)),ie.length=z),ie}function p(ie,z,$){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(ie,z,$);if(typeof ie=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return _(this,ie)}return m(this,ie,z,$)}function m(ie,z,$,re){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function(pe,ye,ze,Ce){if(ye.byteLength,ze<0||ye.byteLength<ze)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<ze+(Ce||0))throw new RangeError("'length' is out of bounds");return ye=ze===void 0&&Ce===void 0?new Uint8Array(ye):Ce===void 0?new Uint8Array(ye,ze):new Uint8Array(ye,ze,Ce),p.TYPED_ARRAY_SUPPORT?(pe=ye).__proto__=p.prototype:pe=x(pe,ye),pe}(ie,z,$,re):typeof z=="string"?function(pe,ye,ze){if(typeof ze=="string"&&ze!==""||(ze="utf8"),!p.isEncoding(ze))throw new TypeError('"encoding" must be a valid string encoding');var Ce=0|S(ye,ze),Fe=(pe=h(pe,Ce)).write(ye,ze);return Fe!==Ce&&(pe=pe.slice(0,Fe)),pe}(ie,z,$):function(pe,ye){if(p.isBuffer(ye)){var ze=0|E(ye.length);return(pe=h(pe,ze)).length===0||ye.copy(pe,0,0,ze),pe}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Fe){return Fe!=Fe}(ye.length)?h(pe,0):x(pe,ye);if(ye.type==="Buffer"&&l(ye.data))return x(pe,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(ie,z)}function y(ie){if(typeof ie!="number")throw new TypeError('"size" argument must be a number');if(ie<0)throw new RangeError('"size" argument must not be negative')}function _(ie,z){if(y(z),ie=h(ie,z<0?0:0|E(z)),!p.TYPED_ARRAY_SUPPORT)for(var $=0;$<z;++$)ie[$]=0;return ie}function x(ie,z){var $=z.length<0?0:0|E(z.length);ie=h(ie,$);for(var re=0;re<$;re+=1)ie[re]=255&z[re];return ie}function E(ie){if(ie>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|ie}function S(ie,z){if(p.isBuffer(ie))return ie.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(ie)||ie instanceof ArrayBuffer))return ie.byteLength;typeof ie!="string"&&(ie=""+ie);var $=ie.length;if($===0)return 0;for(var re=!1;;)switch(z){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Te(ie).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Me(ie).length;default:if(re)return Te(ie).length;z=(""+z).toLowerCase(),re=!0}}function b(ie,z,$){var re=!1;if((z===void 0||z<0)&&(z=0),z>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(z>>>=0))return"";for(ie||(ie="utf8");;)switch(ie){case"hex":return fe(this,z,$);case"utf8":case"utf-8":return Y(this,z,$);case"ascii":return me(this,z,$);case"latin1":case"binary":return ve(this,z,$);case"base64":return le(this,z,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,z,$);default:if(re)throw new TypeError("Unknown encoding: "+ie);ie=(ie+"").toLowerCase(),re=!0}}function A(ie,z,$){var re=ie[z];ie[z]=ie[$],ie[$]=re}function k(ie,z,$,re,W){if(ie.length===0)return-1;if(typeof $=="string"?(re=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=W?0:ie.length-1),$<0&&($=ie.length+$),$>=ie.length){if(W)return-1;$=ie.length-1}else if($<0){if(!W)return-1;$=0}if(typeof z=="string"&&(z=p.from(z,re)),p.isBuffer(z))return z.length===0?-1:M(ie,z,$,re,W);if(typeof z=="number")return z&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(ie,z,$):Uint8Array.prototype.lastIndexOf.call(ie,z,$):M(ie,[z],$,re,W);throw new TypeError("val must be string, number or Buffer")}function M(ie,z,$,re,W){var pe,ye=1,ze=ie.length,Ce=z.length;if(re!==void 0&&((re=String(re).toLowerCase())==="ucs2"||re==="ucs-2"||re==="utf16le"||re==="utf-16le")){if(ie.length<2||z.length<2)return-1;ye=2,ze/=2,Ce/=2,$/=2}function Fe(Ut,Se){return ye===1?Ut[Se]:Ut.readUInt16BE(Se*ye)}if(W){var tt=-1;for(pe=$;pe<ze;pe++)if(Fe(ie,pe)===Fe(z,tt===-1?0:pe-tt)){if(tt===-1&&(tt=pe),pe-tt+1===Ce)return tt*ye}else tt!==-1&&(pe-=pe-tt),tt=-1}else for($+Ce>ze&&($=ze-Ce),pe=$;pe>=0;pe--){for(var nt=!0,gt=0;gt<Ce;gt++)if(Fe(ie,pe+gt)!==Fe(z,gt)){nt=!1;break}if(nt)return pe}return-1}function I(ie,z,$,re){$=Number($)||0;var W=ie.length-$;re?(re=Number(re))>W&&(re=W):re=W;var pe=z.length;if(pe%2!=0)throw new TypeError("Invalid hex string");re>pe/2&&(re=pe/2);for(var ye=0;ye<re;++ye){var ze=parseInt(z.substr(2*ye,2),16);if(isNaN(ze))return ye;ie[$+ye]=ze}return ye}function F(ie,z,$,re){return Ze(Te(z,ie.length-$),ie,$,re)}function B(ie,z,$,re){return Ze(function(pe){for(var ye=[],ze=0;ze<pe.length;++ze)ye.push(255&pe.charCodeAt(ze));return ye}(z),ie,$,re)}function ee(ie,z,$,re){return B(ie,z,$,re)}function U(ie,z,$,re){return Ze(Me(z),ie,$,re)}function J(ie,z,$,re){return Ze(function(pe,ye){for(var ze,Ce,Fe,tt=[],nt=0;nt<pe.length&&!((ye-=2)<0);++nt)Ce=(ze=pe.charCodeAt(nt))>>8,Fe=ze%256,tt.push(Fe),tt.push(Ce);return tt}(z,ie.length-$),ie,$,re)}function le(ie,z,$){return z===0&&$===ie.length?s.fromByteArray(ie):s.fromByteArray(ie.slice(z,$))}function Y(ie,z,$){$=Math.min(ie.length,$);for(var re=[],W=z;W<$;){var pe,ye,ze,Ce,Fe=ie[W],tt=null,nt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(W+nt<=$)switch(nt){case 1:Fe<128&&(tt=Fe);break;case 2:(192&(pe=ie[W+1]))==128&&(Ce=(31&Fe)<<6|63&pe)>127&&(tt=Ce);break;case 3:pe=ie[W+1],ye=ie[W+2],(192&pe)==128&&(192&ye)==128&&(Ce=(15&Fe)<<12|(63&pe)<<6|63&ye)>2047&&(Ce<55296||Ce>57343)&&(tt=Ce);break;case 4:pe=ie[W+1],ye=ie[W+2],ze=ie[W+3],(192&pe)==128&&(192&ye)==128&&(192&ze)==128&&(Ce=(15&Fe)<<18|(63&pe)<<12|(63&ye)<<6|63&ze)>65535&&Ce<1114112&&(tt=Ce)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,re.push(tt>>>10&1023|55296),tt=56320|1023&tt),re.push(tt),W+=nt}return function(Ut){var Se=Ut.length;if(Se<=se)return String.fromCharCode.apply(String,Ut);for(var Be="",te=0;te<Se;)Be+=String.fromCharCode.apply(String,Ut.slice(te,te+=se));return Be}(re)}r.Buffer=p,r.SlowBuffer=function(z){return+z!=z&&(z=0),p.alloc(+z)},r.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=f(),p.poolSize=8192,p._augment=function(ie){return ie.__proto__=p.prototype,ie},p.from=function(ie,z,$){return m(null,ie,z,$)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(ie,z,$){return function(W,pe,ye,ze){return y(pe),pe<=0?h(W,pe):ye!==void 0?typeof ze=="string"?h(W,pe).fill(ye,ze):h(W,pe).fill(ye):h(W,pe)}(null,ie,z,$)},p.allocUnsafe=function(ie){return _(null,ie)},p.allocUnsafeSlow=function(ie){return _(null,ie)},p.isBuffer=function(z){return!(z==null||!z._isBuffer)},p.compare=function(z,$){if(!p.isBuffer(z)||!p.isBuffer($))throw new TypeError("Arguments must be Buffers");if(z===$)return 0;for(var re=z.length,W=$.length,pe=0,ye=Math.min(re,W);pe<ye;++pe)if(z[pe]!==$[pe]){re=z[pe],W=$[pe];break}return re<W?-1:W<re?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,$){if(!l(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);var re;if($===void 0)for($=0,re=0;re<z.length;++re)$+=z[re].length;var W=p.allocUnsafe($),pe=0;for(re=0;re<z.length;++re){var ye=z[re];if(!p.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(W,pe),pe+=ye.length}return W},p.byteLength=S,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<z;$+=2)A(this,$,$+1);return this},p.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<z;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},p.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<z;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},p.prototype.toString=function(){var z=0|this.length;return z===0?"":arguments.length===0?Y(this,0,z):b.apply(this,arguments)},p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||p.compare(this,z)===0},p.prototype.inspect=function(){var z="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(z+=" ... ")),"<Buffer "+z+">"},p.prototype.compare=function(z,$,re,W,pe){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),re===void 0&&(re=z?z.length:0),W===void 0&&(W=0),pe===void 0&&(pe=this.length),$<0||re>z.length||W<0||pe>this.length)throw new RangeError("out of range index");if(W>=pe&&$>=re)return 0;if(W>=pe)return-1;if($>=re)return 1;if(this===z)return 0;for(var ye=(pe>>>=0)-(W>>>=0),ze=(re>>>=0)-($>>>=0),Ce=Math.min(ye,ze),Fe=this.slice(W,pe),tt=z.slice($,re),nt=0;nt<Ce;++nt)if(Fe[nt]!==tt[nt]){ye=Fe[nt],ze=tt[nt];break}return ye<ze?-1:ze<ye?1:0},p.prototype.includes=function(z,$,re){return this.indexOf(z,$,re)!==-1},p.prototype.indexOf=function(z,$,re){return k(this,z,$,re,!0)},p.prototype.lastIndexOf=function(z,$,re){return k(this,z,$,re,!1)},p.prototype.write=function(z,$,re,W){if($===void 0)W="utf8",re=this.length,$=0;else if(re===void 0&&typeof $=="string")W=$,re=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(re)?(re|=0,W===void 0&&(W="utf8")):(W=re,re=void 0)}var pe=this.length-$;if((re===void 0||re>pe)&&(re=pe),z.length>0&&(re<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var ye=!1;;)switch(W){case"hex":return I(this,z,$,re);case"utf8":case"utf-8":return F(this,z,$,re);case"ascii":return B(this,z,$,re);case"latin1":case"binary":return ee(this,z,$,re);case"base64":return U(this,z,$,re);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,z,$,re);default:if(ye)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ye=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function me(ie,z,$){var re="";$=Math.min(ie.length,$);for(var W=z;W<$;++W)re+=String.fromCharCode(127&ie[W]);return re}function ve(ie,z,$){var re="";$=Math.min(ie.length,$);for(var W=z;W<$;++W)re+=String.fromCharCode(ie[W]);return re}function fe(ie,z,$){var re=ie.length;(!z||z<0)&&(z=0),(!$||$<0||$>re)&&($=re);for(var W="",pe=z;pe<$;++pe)W+=Ve(ie[pe]);return W}function ue(ie,z,$){for(var re=ie.slice(z,$),W="",pe=0;pe<re.length;pe+=2)W+=String.fromCharCode(re[pe]+256*re[pe+1]);return W}function Oe(ie,z,$){if(ie%1!=0||ie<0)throw new RangeError("offset is not uint");if(ie+z>$)throw new RangeError("Trying to access beyond buffer length")}function D(ie,z,$,re,W,pe){if(!p.isBuffer(ie))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>W||z<pe)throw new RangeError('"value" argument is out of bounds');if($+re>ie.length)throw new RangeError("Index out of range")}function X(ie,z,$,re){z<0&&(z=65535+z+1);for(var W=0,pe=Math.min(ie.length-$,2);W<pe;++W)ie[$+W]=(z&255<<8*(re?W:1-W))>>>8*(re?W:1-W)}function ce(ie,z,$,re){z<0&&(z=4294967295+z+1);for(var W=0,pe=Math.min(ie.length-$,4);W<pe;++W)ie[$+W]=z>>>8*(re?W:3-W)&255}function V(ie,z,$,re,W,pe){if($+re>ie.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function Z(ie,z,$,re,W){return W||V(ie,0,$,4),o.write(ie,z,$,re,23,4),$+4}function he(ie,z,$,re,W){return W||V(ie,0,$,8),o.write(ie,z,$,re,52,8),$+8}p.prototype.slice=function(z,$){var re,W=this.length;if((z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),($=$===void 0?W:~~$)<0?($+=W)<0&&($=0):$>W&&($=W),$<z&&($=z),p.TYPED_ARRAY_SUPPORT)(re=this.subarray(z,$)).__proto__=p.prototype;else{var pe=$-z;re=new p(pe,void 0);for(var ye=0;ye<pe;++ye)re[ye]=this[ye+z]}return re},p.prototype.readUIntLE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=this[z],pe=1,ye=0;++ye<$&&(pe*=256);)W+=this[z+ye]*pe;return W},p.prototype.readUIntBE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=this[z+--$],pe=1;$>0&&(pe*=256);)W+=this[z+--$]*pe;return W},p.prototype.readUInt8=function(z,$){return $||Oe(z,1,this.length),this[z]},p.prototype.readUInt16LE=function(z,$){return $||Oe(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUInt16BE=function(z,$){return $||Oe(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUInt32LE=function(z,$){return $||Oe(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},p.prototype.readUInt32BE=function(z,$){return $||Oe(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readIntLE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=this[z],pe=1,ye=0;++ye<$&&(pe*=256);)W+=this[z+ye]*pe;return W>=(pe*=128)&&(W-=Math.pow(2,8*$)),W},p.prototype.readIntBE=function(z,$,re){z|=0,$|=0,re||Oe(z,$,this.length);for(var W=$,pe=1,ye=this[z+--W];W>0&&(pe*=256);)ye+=this[z+--W]*pe;return ye>=(pe*=128)&&(ye-=Math.pow(2,8*$)),ye},p.prototype.readInt8=function(z,$){return $||Oe(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},p.prototype.readInt16LE=function(z,$){$||Oe(z,2,this.length);var re=this[z]|this[z+1]<<8;return 32768&re?4294901760|re:re},p.prototype.readInt16BE=function(z,$){$||Oe(z,2,this.length);var re=this[z+1]|this[z]<<8;return 32768&re?4294901760|re:re},p.prototype.readInt32LE=function(z,$){return $||Oe(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,$){return $||Oe(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readFloatLE=function(z,$){return $||Oe(z,4,this.length),o.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,$){return $||Oe(z,4,this.length),o.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,$){return $||Oe(z,8,this.length),o.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,$){return $||Oe(z,8,this.length),o.read(this,z,!1,52,8)},p.prototype.writeUIntLE=function(z,$,re,W){z=+z,$|=0,re|=0,W||D(this,z,$,re,Math.pow(2,8*re)-1,0);var pe=1,ye=0;for(this[$]=255&z;++ye<re&&(pe*=256);)this[$+ye]=z/pe&255;return $+re},p.prototype.writeUIntBE=function(z,$,re,W){z=+z,$|=0,re|=0,W||D(this,z,$,re,Math.pow(2,8*re)-1,0);var pe=re-1,ye=1;for(this[$+pe]=255&z;--pe>=0&&(ye*=256);)this[$+pe]=z/ye&255;return $+re},p.prototype.writeUInt8=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,1,255,0),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[$]=255&z,$+1},p.prototype.writeUInt16LE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):X(this,z,$,!0),$+2},p.prototype.writeUInt16BE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):X(this,z,$,!1),$+2},p.prototype.writeUInt32LE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$+3]=z>>>24,this[$+2]=z>>>16,this[$+1]=z>>>8,this[$]=255&z):ce(this,z,$,!0),$+4},p.prototype.writeUInt32BE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):ce(this,z,$,!1),$+4},p.prototype.writeIntLE=function(z,$,re,W){if(z=+z,$|=0,!W){var pe=Math.pow(2,8*re-1);D(this,z,$,re,pe-1,-pe)}var ye=0,ze=1,Ce=0;for(this[$]=255&z;++ye<re&&(ze*=256);)z<0&&Ce===0&&this[$+ye-1]!==0&&(Ce=1),this[$+ye]=(z/ze>>0)-Ce&255;return $+re},p.prototype.writeIntBE=function(z,$,re,W){if(z=+z,$|=0,!W){var pe=Math.pow(2,8*re-1);D(this,z,$,re,pe-1,-pe)}var ye=re-1,ze=1,Ce=0;for(this[$+ye]=255&z;--ye>=0&&(ze*=256);)z<0&&Ce===0&&this[$+ye+1]!==0&&(Ce=1),this[$+ye]=(z/ze>>0)-Ce&255;return $+re},p.prototype.writeInt8=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,1,127,-128),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[$]=255&z,$+1},p.prototype.writeInt16LE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):X(this,z,$,!0),$+2},p.prototype.writeInt16BE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):X(this,z,$,!1),$+2},p.prototype.writeInt32LE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8,this[$+2]=z>>>16,this[$+3]=z>>>24):ce(this,z,$,!0),$+4},p.prototype.writeInt32BE=function(z,$,re){return z=+z,$|=0,re||D(this,z,$,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):ce(this,z,$,!1),$+4},p.prototype.writeFloatLE=function(z,$,re){return Z(this,z,$,!0,re)},p.prototype.writeFloatBE=function(z,$,re){return Z(this,z,$,!1,re)},p.prototype.writeDoubleLE=function(z,$,re){return he(this,z,$,!0,re)},p.prototype.writeDoubleBE=function(z,$,re){return he(this,z,$,!1,re)},p.prototype.copy=function(z,$,re,W){if(re||(re=0),W||W===0||(W=this.length),$>=z.length&&($=z.length),$||($=0),W>0&&W<re&&(W=re),W===re||z.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(re<0||re>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),z.length-$<W-re&&(W=z.length-$+re);var pe,ye=W-re;if(this===z&&re<$&&$<W)for(pe=ye-1;pe>=0;--pe)z[pe+$]=this[pe+re];else if(ye<1e3||!p.TYPED_ARRAY_SUPPORT)for(pe=0;pe<ye;++pe)z[pe+$]=this[pe+re];else Uint8Array.prototype.set.call(z,this.subarray(re,re+ye),$);return ye},p.prototype.fill=function(z,$,re,W){if(typeof z=="string"){if(typeof $=="string"?(W=$,$=0,re=this.length):typeof re=="string"&&(W=re,re=this.length),z.length===1){var pe=z.charCodeAt(0);pe<256&&(z=pe)}if(W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!p.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else typeof z=="number"&&(z&=255);if($<0||this.length<$||this.length<re)throw new RangeError("Out of range index");if(re<=$)return this;var ye;if($>>>=0,re=re===void 0?this.length:re>>>0,z||(z=0),typeof z=="number")for(ye=$;ye<re;++ye)this[ye]=z;else{var ze=p.isBuffer(z)?z:Te(new p(z,W).toString()),Ce=ze.length;for(ye=0;ye<re-$;++ye)this[ye+$]=ze[ye%Ce]}return this};var xe=/[^+\/0-9A-Za-z-_]/g;function Ve(ie){return ie<16?"0"+ie.toString(16):ie.toString(16)}function Te(ie,z){var $;z=z||1/0;for(var re=ie.length,W=null,pe=[],ye=0;ye<re;++ye){if(($=ie.charCodeAt(ye))>55295&&$<57344){if(!W){if($>56319){(z-=3)>-1&&pe.push(239,191,189);continue}if(ye+1===re){(z-=3)>-1&&pe.push(239,191,189);continue}W=$;continue}if($<56320){(z-=3)>-1&&pe.push(239,191,189),W=$;continue}$=65536+(W-55296<<10|$-56320)}else W&&(z-=3)>-1&&pe.push(239,191,189);if(W=null,$<128){if((z-=1)<0)break;pe.push($)}else if($<2048){if((z-=2)<0)break;pe.push($>>6|192,63&$|128)}else if($<65536){if((z-=3)<0)break;pe.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;pe.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return pe}function Me(ie){return s.toByteArray(function($){if(($=function(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")}($).replace(xe,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(ie))}function Ze(ie,z,$,re){for(var W=0;W<re&&!(W+$>=z.length||W>=ie.length);++W)z[W+$]=ie[W];return W}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(_){var x=p(_),E=x[0],S=x[1];return 3*(E+S)/4-S},r.toByteArray=function(_){var x,E,S=p(_),b=S[0],A=S[1],k=new o(function(B,ee,U){return 3*(ee+U)/4-U}(0,b,A)),M=0,I=A>0?b-4:b;for(E=0;E<I;E+=4)x=s[_.charCodeAt(E)]<<18|s[_.charCodeAt(E+1)]<<12|s[_.charCodeAt(E+2)]<<6|s[_.charCodeAt(E+3)],k[M++]=x>>16&255,k[M++]=x>>8&255,k[M++]=255&x;return A===2&&(x=s[_.charCodeAt(E)]<<2|s[_.charCodeAt(E+1)]>>4,k[M++]=255&x),A===1&&(x=s[_.charCodeAt(E)]<<10|s[_.charCodeAt(E+1)]<<4|s[_.charCodeAt(E+2)]>>2,k[M++]=x>>8&255,k[M++]=255&x),k},r.fromByteArray=function(_){for(var x,E=_.length,S=E%3,b=[],A=16383,k=0,M=E-S;k<M;k+=A)b.push(m(_,k,k+A>M?M:k+A));return S===1?(x=_[E-1],b.push(a[x>>2]+a[x<<4&63]+"==")):S===2&&(x=(_[E-2]<<8)+_[E-1],b.push(a[x>>10]+a[x>>4&63]+a[x<<2&63]+"=")),b.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,h=l.length;f<h;++f)a[f]=l[f],s[l.charCodeAt(f)]=f;function p(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");return x===-1&&(x=_),[x,x===_?0:4-x%4]}function m(y,_,x){for(var E,S,b=[],A=_;A<x;A+=3)E=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),b.push(a[(S=E)>>18&63]+a[S>>12&63]+a[S>>6&63]+a[63&S]);return b.join("")}s[45]=62,s[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,s,o,l){var f,h,p=8*l-o-1,m=(1<<p)-1,y=m>>1,_=-7,x=s?l-1:0,E=s?-1:1,S=i[a+x];for(x+=E,f=S&(1<<-_)-1,S>>=-_,_+=p;_>0;f=256*f+i[a+x],x+=E,_-=8);for(h=f&(1<<-_)-1,f>>=-_,_+=o;_>0;h=256*h+i[a+x],x+=E,_-=8);if(f===0)f=1-y;else{if(f===m)return h?NaN:1/0*(S?-1:1);h+=Math.pow(2,o),f-=y}return(S?-1:1)*h*Math.pow(2,f-o)},r.write=function(i,a,s,o,l,f){var h,p,m,y=8*f-l-1,_=(1<<y)-1,x=_>>1,E=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=o?0:f-1,b=o?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(p=isNaN(a)?1:0,h=_):(h=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-h))<1&&(h--,m*=2),(a+=h+x>=1?E/m:E*Math.pow(2,1-x))*m>=2&&(h++,m/=2),h+x>=_?(p=0,h=_):h+x>=1?(p=(a*m-1)*Math.pow(2,l),h+=x):(p=a*Math.pow(2,x-1)*Math.pow(2,l),h=0));l>=8;i[s+S]=255&p,S+=b,p/=256,l-=8);for(h=h<<l|p,y+=l;y>0;i[s+S]=255&h,S+=b,h/=256,y-=8);i[s+S-b]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(o){var l=o.jws,f=o.KeyUtil,h=o.X509,p=o.crypto,m=o.hextob64u,y=o.b64tohex,_=o.AllowedSigningAlgs;return function(){function x(){(function(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")})(this,x)}return x.parseJwt=function(S){a.Log.debug("JoseUtil.parseJwt");try{var b=l.JWS.parse(S);return{header:b.headerObj,payload:b.payloadObj}}catch(A){a.Log.error(A)}},x.validateJwt=function(S,b,A,k,M,I,F){a.Log.debug("JoseUtil.validateJwt");try{if(b.kty==="RSA")if(b.e&&b.n)b=f.getKey(b);else{if(!b.x5c||!b.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",b),Promise.reject(new Error("RSA key missing key material"));var B=y(b.x5c[0]);b=h.getPublicKeyFromCertHex(B)}else{if(b.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",b&&b.kty),Promise.reject(new Error(b.kty));if(!(b.crv&&b.x&&b.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",b),Promise.reject(new Error("EC key missing key material"));b=f.getKey(b)}return x._validateJwt(S,b,A,k,M,I,F)}catch(ee){return a.Log.error(ee&&ee.message||ee),Promise.reject("JWT validation failed")}},x.validateJwtAttributes=function(S,b,A,k,M,I){k||(k=0),M||(M=parseInt(Date.now()/1e3));var F=x.parseJwt(S).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==b)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===A||Array.isArray(F.aud)&&F.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!I){var B=M+k,ee=M-k;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(B<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&B<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<ee)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},x._validateJwt=function(S,b,A,k,M,I,F){return x.validateJwtAttributes(S,A,k,M,I,F).then(function(B){try{return l.JWS.verify(S,b,_)?B:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(ee){return a.Log.error(ee&&ee.message||ee),Promise.reject(new Error("signature validation failed"))}})},x.hashString=function(S,b){try{return p.Util.hashString(S,b)}catch(A){a.Log.error(A)}},x.hexToBase64Url=function(S){try{return m(S)}catch(b){a.Log.error(b)}},x}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}(),s=i(3);function o(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(f){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";o(this,l);var p=s.UrlUtility.parseUrlFragment(f,h);this.error=p.error,this.error_description=p.error_description,this.error_uri=p.error_uri,this.code=p.code,this.state=p.state,this.id_token=p.id_token,this.session_state=p.session_state,this.access_token=p.access_token,this.token_type=p.token_type,this.scope=p.scope,this.profile=void 0,this.expires_in=p.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var p=parseInt(h);if(typeof p=="number"&&p>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+p}}},{key:"expired",get:function(){var h=this.expires_in;if(h!==void 0)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),s=i(3),o=i(9);r.SignoutRequest=function l(f){var h=f.url,p=f.id_token_hint,m=f.post_logout_redirect_uri,y=f.data,_=f.extraQueryParams,x=f.request_type;if(function(b,A){if(!(b instanceof A))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var E in p&&(h=s.UrlUtility.addQueryParam(h,"id_token_hint",p)),m&&(h=s.UrlUtility.addQueryParam(h,"post_logout_redirect_uri",m),y&&(this.state=new o.State({data:y,request_type:x}),h=s.UrlUtility.addQueryParam(h,"state",this.state.id))),_)h=s.UrlUtility.addQueryParam(h,E,_[E]);this.url=h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function s(o){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s);var l=a.UrlUtility.parseUrlFragment(o,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.InMemoryWebStorage=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._data={}}return o.prototype.getItem=function(f){return s.Log.debug("InMemoryWebStorage.getItem",f),this._data[f]},o.prototype.setItem=function(f,h){s.Log.debug("InMemoryWebStorage.setItem",f),this._data[f]=h},o.prototype.removeItem=function(f){s.Log.debug("InMemoryWebStorage.removeItem",f),delete this._data[f]},o.prototype.key=function(f){return Object.getOwnPropertyNames(this._data)[f]},a(o,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(k,M){for(var I=0;I<M.length;I++){var F=M[I];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(k,F.key,F)}}return function(k,M,I){return M&&A(k.prototype,M),I&&A(k,I),k}}(),s=i(0),o=i(10),l=i(39),f=i(15),h=i(45),p=i(47),m=i(18),y=i(8),_=i(20),x=i(11),E=i(4);function S(A,k){if(!(A instanceof k))throw new TypeError("Cannot call a class as a function")}function b(A,k){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?A:k}r.UserManager=function(A){function k(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.TokenRevocationClient,ee=arguments.length>4&&arguments[4]!==void 0?arguments[4]:x.TokenClient,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:E.JoseUtil;S(this,k),M instanceof l.UserManagerSettings||(M=new l.UserManagerSettings(M));var J=b(this,A.call(this,M));return J._events=new h.UserManagerEvents(M),J._silentRenewService=new I(J),J.settings.automaticSilentRenew&&(s.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),J.startSilentRenew()),J.settings.monitorSession&&(s.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),J._sessionMonitor=new F(J)),J._tokenRevocationClient=new B(J._settings),J._tokenClient=new ee(J._settings),J._joseUtil=U,J}return function(I,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);I.prototype=Object.create(F&&F.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(I,F):I.__proto__=F)}(k,A),k.prototype.getUser=function(){var I=this;return this._loadUser().then(function(F){return F?(s.Log.info("UserManager.getUser: user loaded"),I._events.load(F,!1),F):(s.Log.info("UserManager.getUser: user not found in storage"),null)})},k.prototype.removeUser=function(){var I=this;return this.storeUser(null).then(function(){s.Log.info("UserManager.removeUser: user removed from storage"),I._events.unload()})},k.prototype.signinRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:r";var F={useReplaceToNavigate:I.useReplaceToNavigate};return this._signinStart(I,this._redirectNavigator,F).then(function(){s.Log.info("UserManager.signinRedirect: successful")})},k.prototype.signinRedirectCallback=function(I){return this._signinEnd(I||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?s.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):s.Log.info("UserManager.signinRedirectCallback: no sub"),F})},k.prototype.signinPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="si:p";var F=I.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(I.redirect_uri=F,I.display="popup",this._signin(I,this._popupNavigator,{startUrl:F,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(B){return B&&(B.profile&&B.profile.sub?s.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",B.profile.sub):s.Log.info("UserManager.signinPopup: no sub")),B})):(s.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},k.prototype.signinPopupCallback=function(I){return this._signinCallback(I,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?s.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):s.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){s.Log.error(F.message)})},k.prototype.signinSilent=function(){var I=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(B){return B&&B.refresh_token?(F.refresh_token=B.refresh_token,I._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||I.settings.includeIdTokenInSilentRenew&&B&&B.id_token,B&&I._settings.validateSubOnSilentRenew&&(s.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",B.profile.sub),F.current_sub=B.profile.sub),I._signinSilentIframe(F))})},k.prototype._useRefreshToken=function(){var I=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(B){return B?B.access_token?I._loadUser().then(function(ee){if(ee){var U=Promise.resolve();return B.id_token&&(U=I._validateIdTokenFromTokenRefreshToken(ee.profile,B.id_token)),U.then(function(){return s.Log.debug("UserManager._useRefreshToken: refresh token response success"),ee.id_token=B.id_token||ee.id_token,ee.access_token=B.access_token,ee.refresh_token=B.refresh_token||ee.refresh_token,ee.expires_in=B.expires_in,I.storeUser(ee).then(function(){return I._events.load(ee),ee})})}return null}):(s.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(s.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},k.prototype._validateIdTokenFromTokenRefreshToken=function(I,F){var B=this;return this._metadataService.getIssuer().then(function(ee){return B.settings.getEpochTime().then(function(U){return B._joseUtil.validateJwtAttributes(F,ee,B._settings.client_id,B._settings.clockSkew,U).then(function(J){return J?J.sub!==I.sub?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):J.auth_time&&J.auth_time!==I.auth_time?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):J.azp&&J.azp!==I.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!J.azp&&I.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},k.prototype._signinSilentIframe=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=I.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(I.redirect_uri=F,I.prompt=I.prompt||"none",this._signin(I,this._iframeNavigator,{startUrl:F,silentRequestTimeout:I.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(B){return B&&(B.profile&&B.profile.sub?s.Log.info("UserManager.signinSilent: successful, signed in sub: ",B.profile.sub):s.Log.info("UserManager.signinSilent: no sub")),B})):(s.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},k.prototype.signinSilentCallback=function(I){return this._signinCallback(I,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?s.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):s.Log.info("UserManager.signinSilentCallback: no sub")),F})},k.prototype.signinCallback=function(I){var F=this;return this.readSigninResponseState(I).then(function(B){var ee=B.state;return B.response,ee.request_type==="si:r"?F.signinRedirectCallback(I):ee.request_type==="si:p"?F.signinPopupCallback(I):ee.request_type==="si:s"?F.signinSilentCallback(I):Promise.reject(new Error("invalid response_type in state"))})},k.prototype.signoutCallback=function(I,F){var B=this;return this.readSignoutResponseState(I).then(function(ee){var U=ee.state,J=ee.response;return U?U.request_type==="so:r"?B.signoutRedirectCallback(I):U.request_type==="so:p"?B.signoutPopupCallback(I,F):Promise.reject(new Error("invalid response_type in state")):J})},k.prototype.querySessionStatus=function(){var I=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var B=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return B?(F.redirect_uri=B,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:B,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(ee){return I.processSigninResponse(ee.url).then(function(U){if(s.Log.debug("UserManager.querySessionStatus: got signin response"),U.session_state&&U.profile.sub)return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",U.profile.sub),{session_state:U.session_state,sub:U.profile.sub,sid:U.profile.sid};s.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(U){if(U.session_state&&I.settings.monitorAnonymousSession&&(U.message=="login_required"||U.message=="consent_required"||U.message=="interaction_required"||U.message=="account_selection_required"))return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:U.session_state};throw U})})):(s.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},k.prototype._signin=function(I,F){var B=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(I,F,ee).then(function(U){return B._signinEnd(U.url,I)})},k.prototype._signinStart=function(I,F){var B=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(ee).then(function(U){return s.Log.debug("UserManager._signinStart: got navigator window handle"),B.createSigninRequest(I).then(function(J){return s.Log.debug("UserManager._signinStart: got signin request"),ee.url=J.url,ee.id=J.state.id,U.navigate(ee)}).catch(function(J){throw U.close&&(s.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),U.close()),J})})},k.prototype._signinEnd=function(I){var F=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(I).then(function(ee){s.Log.debug("UserManager._signinEnd: got signin response");var U=new f.User(ee);if(B.current_sub){if(B.current_sub!==U.profile.sub)return s.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",U.profile.sub),Promise.reject(new Error("login_required"));s.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(U).then(function(){return s.Log.debug("UserManager._signinEnd: user stored"),F._events.load(U),U})})},k.prototype._signinCallback=function(I,F){s.Log.debug("UserManager._signinCallback");var B=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(I,void 0,B)},k.prototype.signoutRedirect=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:r";var F=I.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(I.post_logout_redirect_uri=F);var B={useReplaceToNavigate:I.useReplaceToNavigate};return this._signoutStart(I,this._redirectNavigator,B).then(function(){s.Log.info("UserManager.signoutRedirect: successful")})},k.prototype.signoutRedirectCallback=function(I){return this._signoutEnd(I||this._redirectNavigator.url).then(function(F){return s.Log.info("UserManager.signoutRedirectCallback: successful"),F})},k.prototype.signoutPopup=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(I=Object.assign({},I)).request_type="so:p";var F=I.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return I.post_logout_redirect_uri=F,I.display="popup",I.post_logout_redirect_uri&&(I.state=I.state||{}),this._signout(I,this._popupNavigator,{startUrl:F,popupWindowFeatures:I.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:I.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){s.Log.info("UserManager.signoutPopup: successful")})},k.prototype.signoutPopupCallback=function(I,F){return F===void 0&&typeof I=="boolean"&&(F=I,I=null),this._popupNavigator.callback(I,F,"?").then(function(){s.Log.info("UserManager.signoutPopupCallback: successful")})},k.prototype._signout=function(I,F){var B=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(I,F,ee).then(function(U){return B._signoutEnd(U.url)})},k.prototype._signoutStart=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,B=arguments[1],ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B.prepare(ee).then(function(U){return s.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(J){return s.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(J):Promise.resolve()).then(function(){var le=I.id_token_hint||J&&J.id_token;return le&&(s.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),I.id_token_hint=le),F.removeUser().then(function(){return s.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(I).then(function(Y){return s.Log.debug("UserManager._signoutStart: got signout request"),ee.url=Y.url,Y.state&&(ee.id=Y.state.id),U.navigate(ee)})})})}).catch(function(J){throw U.close&&(s.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),U.close()),J})})},k.prototype._signoutEnd=function(I){return this.processSignoutResponse(I).then(function(F){return s.Log.debug("UserManager._signoutEnd: got signout response"),F})},k.prototype.revokeAccessToken=function(){var I=this;return this._loadUser().then(function(F){return I._revokeInternal(F,!0).then(function(B){if(B)return s.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,I.storeUser(F).then(function(){s.Log.debug("UserManager.revokeAccessToken: user stored"),I._events.load(F)})})}).then(function(){s.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},k.prototype._revokeInternal=function(I,F){var B=this;if(I){var ee=I.access_token,U=I.refresh_token;return this._revokeAccessTokenInternal(ee,F).then(function(J){return B._revokeRefreshTokenInternal(U,F).then(function(le){return J||le||s.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),J||le})})}return Promise.resolve(!1)},k.prototype._revokeAccessTokenInternal=function(I,F){return!I||I.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(I,F).then(function(){return!0})},k.prototype._revokeRefreshTokenInternal=function(I,F){return I?this._tokenRevocationClient.revoke(I,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},k.prototype.startSilentRenew=function(){this._silentRenewService.start()},k.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},k.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(I){return I?(s.Log.debug("UserManager._loadUser: user storageString loaded"),f.User.fromStorageString(I)):(s.Log.debug("UserManager._loadUser: no user storageString"),null)})},k.prototype.storeUser=function(I){if(I){s.Log.debug("UserManager.storeUser: storing user");var F=I.toStorageString();return this._userStore.set(this._userStoreKey,F)}return s.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(k,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),k}(o.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function x(E,S){for(var b=0;b<S.length;b++){var A=S[b];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,S,b){return S&&x(E.prototype,S),b&&x(E,b),E}}(),s=(i(0),i(5)),o=i(40),l=i(41),f=i(43),h=i(6),p=i(1),m=i(8);function y(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function _(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?x:E}r.UserManagerSettings=function(x){function E(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=S.popup_redirect_uri,A=S.popup_post_logout_redirect_uri,k=S.popupWindowFeatures,M=S.popupWindowTarget,I=S.silent_redirect_uri,F=S.silentRequestTimeout,B=S.automaticSilentRenew,ee=B!==void 0&&B,U=S.validateSubOnSilentRenew,J=U!==void 0&&U,le=S.includeIdTokenInSilentRenew,Y=le===void 0||le,se=S.monitorSession,me=se===void 0||se,ve=S.monitorAnonymousSession,fe=ve!==void 0&&ve,ue=S.checkSessionInterval,Oe=ue===void 0?2e3:ue,D=S.stopCheckSessionOnError,X=D===void 0||D,ce=S.query_status_response_type,V=S.revokeAccessTokenOnSignout,Z=V!==void 0&&V,he=S.accessTokenExpiringNotificationTime,xe=he===void 0?60:he,Ve=S.redirectNavigator,Te=Ve===void 0?new o.RedirectNavigator:Ve,Me=S.popupNavigator,Ze=Me===void 0?new l.PopupNavigator:Me,ie=S.iframeNavigator,z=ie===void 0?new f.IFrameNavigator:ie,$=S.userStore,re=$===void 0?new h.WebStorageStateStore({store:p.Global.sessionStorage}):$;y(this,E);var W=_(this,x.call(this,arguments[0]));return W._popup_redirect_uri=b,W._popup_post_logout_redirect_uri=A,W._popupWindowFeatures=k,W._popupWindowTarget=M,W._silent_redirect_uri=I,W._silentRequestTimeout=F,W._automaticSilentRenew=ee,W._validateSubOnSilentRenew=J,W._includeIdTokenInSilentRenew=Y,W._accessTokenExpiringNotificationTime=xe,W._monitorSession=me,W._monitorAnonymousSession=fe,W._checkSessionInterval=Oe,W._stopCheckSessionOnError=X,ce?W._query_status_response_type=ce:arguments[0]&&arguments[0].response_type?W._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=Z,W._redirectNavigator=Te,W._popupNavigator=Ze,W._iframeNavigator=z,W._userStore=re,W}return function(b,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);b.prototype=Object.create(A&&A.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(b,A):b.__proto__=A)}(E,x),a(E,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),E}(s.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.RedirectNavigator=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(){return Promise.resolve(this)},o.prototype.navigate=function(f){return f&&f.url?(f.useReplaceToNavigate?window.location.replace(f.url):window.location=f.url,Promise.resolve()):(s.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(o,[{key:"url",get:function(){return window.location.href}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),s=i(42);r.PopupNavigator=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(f){var h=new s.PopupWindow(f);return Promise.resolve(h)},o.prototype.callback=function(f,h,p){a.Log.debug("PopupNavigator.callback");try{return s.PopupWindow.notifyOpener(f,h,p),Promise.resolve()}catch(m){return Promise.reject(m)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(f,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}return function(f,h,p){return h&&l(f.prototype,h),p&&l(f,p),f}}(),s=i(0),o=i(3);r.PopupWindow=function(){function l(f){var h=this;(function(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,_){h._resolve=y,h._reject=_});var p=f.popupWindowTarget||"_blank",m=f.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",p,m),this._popup&&(s.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(h){return this._popup?h&&h.url?(s.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=h.id,this._id&&(window["popupCallback_"+h.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=h.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(h){s.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(h)},l.prototype._error=function(h){s.Log.error("PopupWindow.error: ",h),this._cleanup(),this._reject(new Error(h))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(h){s.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!h&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(h,p){this._cleanup(p),h?(s.Log.debug("PopupWindow.callback success"),this._success({url:h})):(s.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(h,p,m){if(window.opener){if(h=h||window.location.href){var y=o.UrlUtility.parseUrlFragment(h,m);if(y.state){var _="popupCallback_"+y.state,x=window.opener[_];x?(s.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),x(h,p)):s.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else s.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else s.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),s=i(44);r.IFrameNavigator=function(){function o(){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(f){var h=new s.IFrameWindow(f);return Promise.resolve(h)},o.prototype.callback=function(f){a.Log.debug("IFrameNavigator.callback");try{return s.IFrameWindow.notifyParent(f),Promise.resolve()}catch(h){return Promise.reject(h)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function o(l,f){for(var h=0;h<f.length;h++){var p=f[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,h){return f&&o(l.prototype,f),h&&o(l,h),l}}(),s=i(0);r.IFrameWindow=function(){function o(l){var f=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(h,p){f._resolve=h,f._reject=p}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return o.prototype.navigate=function(f){if(f&&f.url){var h=f.silentRequestTimeout||1e4;s.Log.debug("IFrameWindow.navigate: Using timeout of:",h),this._timer=window.setTimeout(this._timeout.bind(this),h),this._frame.src=f.url}else this._error("No url provided");return this.promise},o.prototype._success=function(f){this._cleanup(),s.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(f)},o.prototype._error=function(f){this._cleanup(),s.Log.error(f),this._reject(new Error(f))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._frame&&(s.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},o.prototype._timeout=function(){s.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},o.prototype._message=function(f){if(s.Log.debug("IFrameWindow.message"),this._timer&&f.origin===this._origin&&f.source===this._frame.contentWindow&&typeof f.data=="string"&&(f.data.startsWith("http://")||f.data.startsWith("https://"))){var h=f.data;h?this._success({url:h}):this._error("Invalid response from frame")}},o.notifyParent=function(f){s.Log.debug("IFrameWindow.notifyParent"),(f=f||window.location.href)&&(s.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(f,location.protocol+"//"+location.host))},a(o,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),s=i(16),o=i(17);r.UserManagerEvents=function(l){function f(h){(function(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")})(this,f);var p=function(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?y:_}(this,l.call(this,h));return p._userLoaded=new o.Event("User loaded"),p._userUnloaded=new o.Event("User unloaded"),p._silentRenewError=new o.Event("Silent renew error"),p._userSignedIn=new o.Event("User signed in"),p._userSignedOut=new o.Event("User signed out"),p._userSessionChanged=new o.Event("User session changed"),p}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(f,l),f.prototype.load=function(p){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,p),m&&this._userLoaded.raise(p)},f.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},f.prototype.addUserLoaded=function(p){this._userLoaded.addHandler(p)},f.prototype.removeUserLoaded=function(p){this._userLoaded.removeHandler(p)},f.prototype.addUserUnloaded=function(p){this._userUnloaded.addHandler(p)},f.prototype.removeUserUnloaded=function(p){this._userUnloaded.removeHandler(p)},f.prototype.addSilentRenewError=function(p){this._silentRenewError.addHandler(p)},f.prototype.removeSilentRenewError=function(p){this._silentRenewError.removeHandler(p)},f.prototype._raiseSilentRenewError=function(p){a.Log.debug("UserManagerEvents._raiseSilentRenewError",p.message),this._silentRenewError.raise(p)},f.prototype.addUserSignedIn=function(p){this._userSignedIn.addHandler(p)},f.prototype.removeUserSignedIn=function(p){this._userSignedIn.removeHandler(p)},f.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},f.prototype.addUserSignedOut=function(p){this._userSignedOut.addHandler(p)},f.prototype.removeUserSignedOut=function(p){this._userSignedOut.removeHandler(p)},f.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},f.prototype.addUserSessionChanged=function(p){this._userSessionChanged.addHandler(p)},f.prototype.removeUserSessionChanged=function(p){this._userSessionChanged.removeHandler(p)},f.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},f}(s.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function p(m,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,_){return y&&p(m.prototype,y),_&&p(m,_),m}}(),s=i(0),o=i(1),l=i(17);function f(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}r.Timer=function(p){function m(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.timer,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;f(this,m);var E=h(this,p.call(this,y));return E._timer=_,E._nowFunc=x||function(){return Date.now()/1e3},E}return function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}(m,p),m.prototype.init=function(_){_<=0&&(_=1),_=parseInt(_);var x=this.now+_;if(this.expiration===x&&this._timerHandle)s.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),s.Log.debug("Timer.init timer "+this._name+" for duration:",_),this._expiration=x;var E=5;_<E&&(E=_),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*E)}},m.prototype.cancel=function(){this._timerHandle&&(s.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var _=this._expiration-this.now;s.Log.debug("Timer.callback; "+this._name+" timer expires in:",_),this._expiration<=this.now&&(this.cancel(),p.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function s(o){(function(f,h){if(!(f instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._userManager=o}return s.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},s.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},s.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(f){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(f){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",f.message),l._userManager.events._raiseSilentRenewError(f)})},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function s(){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(l){var f=new a.CordovaPopupWindow(l);return Promise.resolve(f)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function s(){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var f=new a.CordovaPopupWindow(l);return Promise.resolve(f)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(y_)),y_.exports}var TC=HQ();function zQ(t,e){var n,r,i,a;throw t.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=t.error_description)!==null&&r!==void 0?r:""}`):t.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${(i=t.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${t.error} - ${(a=t.error_description)!==null&&a!==void 0?a:""}`)}function VQ(t,e){if(t.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(t.redirect_uris===void 0||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}async function KQ(t,e){var n;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=_Q(e.idTokenSigningAlgValuesSupported,z_),i={client_name:t.clientName,application_type:"web",redirect_uris:[(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},s=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(s.ok){const o=await s.json();return VQ(o,t),{clientId:o.client_id,clientSecret:o.client_secret,idTokenSignedResponseAlg:o.id_token_signed_response_alg,clientType:"dynamic"}}throw s.status===400&&zQ(await s.json(),t),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}function GQ(t){return t.error!==void 0&&typeof t.error=="string"}function ZL(t){return t.error_description!==void 0&&typeof t.error_description=="string"}function WQ(t){return t.error_uri!==void 0&&typeof t.error_uri=="string"}function QQ(t){return t.access_token!==void 0&&typeof t.access_token=="string"}function ZQ(t){return t.id_token!==void 0&&typeof t.id_token=="string"}function JQ(t){return t.refresh_token!==void 0&&typeof t.refresh_token=="string"}function YQ(t){return t.token_type!==void 0&&typeof t.token_type=="string"}function XQ(t){return t.expires_in===void 0||typeof t.expires_in=="number"}function eZ(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}function L5(t,e){if(GQ(t))throw new P5(`Token endpoint returned error [${t.error}]${ZL(t)?`: ${t.error_description}`:""}${WQ(t)?` (see ${t.error_uri})`:""}`,t.error,ZL(t)?t.error_description:void 0);if(!QQ(t))throw new rg(["access_token"]);if(!ZQ(t))throw new rg(["id_token"]);if(!YQ(t))throw new rg(["token_type"]);if(!XQ(t))throw new rg(["expires_in"]);if(!e&&t.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${t.token_type}].`);return t}async function tZ(t,e,n,r){eZ(t,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await OQ(),i.DPoP=await kA(t.tokenEndpoint,"POST",a)),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const s={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:e.clientId},o={method:"POST",headers:i,body:new URLSearchParams(s).toString()},f=await(await fetch(t.tokenEndpoint,o)).json(),h=L5(f,r),{webId:p,clientId:m}=await x5(h.id_token,t.jwksUri,t.issuer,e.clientId);return{accessToken:h.access_token,idToken:h.id_token,refreshToken:JQ(h)?h.refresh_token:void 0,webId:p,clientId:m,dpopKey:a,expiresIn:h.expires_in}}const nZ=t=>{try{return new URL(t),!0}catch{return!1}};async function rZ(t,e,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:t,scope:S5};let a={};r!==void 0&&(a={DPoP:await kA(e.tokenEndpoint,"POST",r)});let s={};n.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:nZ(n.clientId)&&(i.client_id=n.clientId);const o=await fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...s,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await o.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const f=L5(l,r!==void 0),{webId:h}=await x5(f.id_token,e.jwksUri,e.issuer,n.clientId);return{accessToken:f.access_token,idToken:f.id_token,refreshToken:typeof f.refresh_token=="string"?f.refresh_token:void 0,webId:h,dpopKey:r,expiresIn:f.expires_in}}function iZ(t){const e=T5(t);return e.hash="",t.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function aZ(){await new TC.OidcClient({response_mode:"query"}).clearStaleState(new TC.WebStorageStateStore({}));const e=window.localStorage,n=[];for(let r=0;r<=e.length;r+=1){const i=e.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>e.removeItem(r))}class sZ extends CQ{constructor(e,n){super(e,n)}}class oZ extends EQ{constructor(){super(...arguments),this.login=async(e,n)=>{var r,i;await this.sessionInfoManager.clear(e.sessionId);const a=(r=e.redirectUrl)!==null&&r!==void 0?r:iZ(window.location.href);if(!E5(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:a,clientName:(i=e.clientName)!==null&&i!==void 0?i:e.clientId,eventEmitter:n})},this.validateCurrentSession=async e=>{const n=await this.sessionInfoManager.get(e);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(e,n)=>{try{const r=await this.redirectHandler.handle(e,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(e),n.emit(ti.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(e){const n=T5(e).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function JL(t){return typeof t.oidcIssuer=="string"}function YL(t){return typeof t.redirectUrl=="string"}class uZ{constructor(e,n,r,i){this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(e){return JL(e)&&YL(e)}async handle(e){if(!JL(e))throw new EC(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!YL(e))throw new EC(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const n=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await xQ(e,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class lZ extends fQ{async handle(e){var n;const r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:S5,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=e.prompt)!==null&&n!==void 0?n:"consent"},i=new TC.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const cZ=".well-known/openid-configuration",XL={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function fZ(t){const e={};return Object.keys(t).forEach(n=>{XL[n]&&(e[XL[n].toKey]=t[n])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class DA{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let n;const r=new URL(cZ,e.endsWith("/")?e:`${e}/`).href,i=await fetch(r);try{n=fZ(await i.json())}catch(a){throw new EC(`[${e.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(DA.getLocalStorageKey(e),JSON.stringify(n)),n}}async function dZ(t,e){await A5(t,e),await aZ()}class hZ extends gQ{async get(e){const[n,r,i,a,s,o,l,f]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof s=="string"&&!E5(s)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(f!==void 0&&!vQ(f))throw new Error(`Tokens of type [${f}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&o===void 0))return{sessionId:e,webId:r,isLoggedIn:n==="true",redirectUrl:s,refreshToken:o,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:f??"DPoP"}}async clear(e){return dZ(e,this.storageUtility)}}class pZ{async canHandle(e){try{return new URL(e),!0}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e){return C5()}}class gZ{constructor(e,n,r,i,a){this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(e){try{const n=new URL(e);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const r=new URL(e),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:s,codeVerifier:o,redirectUrl:l,dpop:f}=await O5(a,this.storageUtility,this.issuerConfigFetcher),h=r.searchParams.get("iss");if(typeof h=="string"&&h!==s.issuer)throw new Error(`The value of the iss parameter (${h}) does not match the issuer identifier of the authorization server (${s.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(o===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:a},s),m=Date.now(),y=await tZ(s,p,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:o,redirectUrl:l},f);window.localStorage.removeItem(`oidc.${i}`);let _;y.refreshToken!==void 0&&(_={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const x=await kQ(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:_,eventEmitter:n,expiresIn:y.expiresIn});await TQ(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const E=await this.sessionInfoManager.get(a);if(!E)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(E,{fetch:x,getLogoutUrl:yQ({idTokenHint:y.idToken,endSessionEndpoint:s.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class mZ extends lQ{constructor(e){super(e)}}class yZ{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,n){this.storage.setItem(e,n)}async delete(e){this.storage.removeItem(e)}}class vZ{redirect(e,n){n&&n.handleRedirect?n.handleRedirect(e):n&&n.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class _Z{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,n){const[r,i,a,s]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]);if(r&&SQ(s))return{clientId:r,clientSecret:i,clientName:a,clientType:s};try{const o=await KQ(e,n),l={clientId:o.clientId,clientType:"dynamic"};return o.clientSecret&&(l.clientSecret=o.clientSecret),o.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=o.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,l,{secure:!1}),o}catch(o){throw new Error(`Client registration failed: [${o}]`)}}}class wZ{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(n!==void 0){const r=new URL(e),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ti.ERROR,i,a)}return C5()}}class bZ{constructor(e,n,r){this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(e,n,r,i){const a=await O5(e,this.storageUtility,this.issuerConfigFetcher),s=await this.clientRegistrar.getClient({sessionId:e},a.issuerConfig);if(n===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const o=await rZ(n,a.issuerConfig,s,r);return o.refreshToken!==void 0&&(i==null||i.emit(ti.NEW_REFRESH_TOKEN,o.refreshToken)),o}}function eM(t){const e=new AQ,n=t.secureStorage||e,r=t.insecureStorage||new yZ,i=new sZ(n,r),a=new DA(i),s=new _Z(i),o=new hZ(i),l=new bZ(i,a,s),f=new vZ,h=new uZ(i,new lZ(i,f),a,s),p=new mZ([new wZ,new gZ(i,o,a,s,l),new pZ]);return new oZ(h,p,new pQ(o,f),o,a)}const v1=`${b5}currentSession`,CC=`${b5}currentUrl`;async function SZ(t,e,n){var r;const i=await e.validateCurrentSession(t);return i!==null?(window.localStorage.setItem(CC,window.location.href),await e.login({sessionId:t,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function xZ(t){return!!(t!=null&&t.isLoggedIn)}class EZ{constructor(e={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(v1),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ti.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,s=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const o=await this.clientAuthentication.handleIncomingRedirect(s,this.events);if(xZ(o)){this.setSessionInfo(o);const l=window.localStorage.getItem(CC);l===null?this.events.emit(ti.LOGIN):(window.localStorage.removeItem(CC),this.events.emit(ti.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(v1);if(l!==null&&await SZ(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,o},this.events=new BQ,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=eM({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=eM({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:n??$Q(),isLoggedIn:!1},this.events.on(ti.LOGIN,()=>window.localStorage.setItem(v1,this.info.sessionId)),this.events.on(ti.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ti.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(ti.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let _1;function am(){return typeof _1>"u"&&(_1=new EZ),_1}const yr=(...t)=>am().fetch(...t),TZ=(...t)=>am().login(...t),CZ=(...t)=>am().logout(...t),AZ=(...t)=>am().handleIncomingRedirect(...t);function M5(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=M5(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function gl(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=M5(t))&&(r&&(r+=" "),r+=e);return r}const Ig=t=>typeof t=="number"&&!isNaN(t),Nc=t=>typeof t=="string",ja=t=>typeof t=="function",v_=t=>Nc(t)||ja(t)?t:null,AC=t=>ae.isValidElement(t)||Nc(t)||ja(t)||Ig(t);function RZ(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function w0(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=t;return function(s){let{children:o,position:l,preventExitTransition:f,done:h,nodeRef:p,isIn:m,playToast:y}=s;const _=r?`${e}--${l}`:e,x=r?`${n}--${l}`:n,E=ae.useRef(0);return ae.useLayoutEffect(()=>{const S=p.current,b=_.split(" "),A=k=>{k.target===p.current&&(y(),S.removeEventListener("animationend",A),S.removeEventListener("animationcancel",A),E.current===0&&k.type!=="animationcancel"&&S.classList.remove(...b))};S.classList.add(...b),S.addEventListener("animationend",A),S.addEventListener("animationcancel",A)},[]),ae.useEffect(()=>{const S=p.current,b=()=>{S.removeEventListener("animationend",b),i?RZ(S,h,a):h()};m||(f?b():(E.current=1,S.className+=` ${x}`,S.addEventListener("animationend",b)))},[m]),Gt.createElement(Gt.Fragment,null,o)}}function tM(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const aa=new Map;let Lg=[];const RC=new Set,OZ=t=>RC.forEach(e=>e(t)),k5=()=>aa.size>0;function D5(t,e){var n;if(e)return!((n=aa.get(e))==null||!n.isToastActive(t));let r=!1;return aa.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function N5(t,e){AC(t)&&(k5()||Lg.push({content:t,options:e}),aa.forEach(n=>{n.buildToast(t,e)}))}function nM(t,e){aa.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function PZ(t){const{subscribe:e,getSnapshot:n,setProps:r}=ae.useRef(function(a){const s=a.containerId||1;return{subscribe(o){const l=function(h,p,m){let y=1,_=0,x=[],E=[],S=[],b=p;const A=new Map,k=new Set,M=()=>{S=Array.from(A.values()),k.forEach(B=>B())},I=B=>{E=B==null?[]:E.filter(ee=>ee!==B),M()},F=B=>{const{toastId:ee,onOpen:U,updateId:J,children:le}=B.props,Y=J==null;B.staleId&&A.delete(B.staleId),A.set(ee,B),E=[...E,B.props.toastId].filter(se=>se!==B.staleId),M(),m(tM(B,Y?"added":"updated")),Y&&ja(U)&&U(ae.isValidElement(le)&&le.props)};return{id:h,props:b,observe:B=>(k.add(B),()=>k.delete(B)),toggle:(B,ee)=>{A.forEach(U=>{ee!=null&&ee!==U.props.toastId||ja(U.toggle)&&U.toggle(B)})},removeToast:I,toasts:A,clearQueue:()=>{_-=x.length,x=[]},buildToast:(B,ee)=>{if((ce=>{let{containerId:V,toastId:Z,updateId:he}=ce;const xe=V?V!==h:h!==1,Ve=A.has(Z)&&he==null;return xe||Ve})(ee))return;const{toastId:U,updateId:J,data:le,staleId:Y,delay:se}=ee,me=()=>{I(U)},ve=J==null;ve&&_++;const fe={...b,style:b.toastStyle,key:y++,...Object.fromEntries(Object.entries(ee).filter(ce=>{let[V,Z]=ce;return Z!=null})),toastId:U,updateId:J,data:le,closeToast:me,isIn:!1,className:v_(ee.className||b.toastClassName),bodyClassName:v_(ee.bodyClassName||b.bodyClassName),progressClassName:v_(ee.progressClassName||b.progressClassName),autoClose:!ee.isLoading&&(ue=ee.autoClose,Oe=b.autoClose,ue===!1||Ig(ue)&&ue>0?ue:Oe),deleteToast(){const ce=A.get(U),{onClose:V,children:Z}=ce.props;ja(V)&&V(ae.isValidElement(Z)&&Z.props),m(tM(ce,"removed")),A.delete(U),_--,_<0&&(_=0),x.length>0?F(x.shift()):M()}};var ue,Oe;fe.closeButton=b.closeButton,ee.closeButton===!1||AC(ee.closeButton)?fe.closeButton=ee.closeButton:ee.closeButton===!0&&(fe.closeButton=!AC(b.closeButton)||b.closeButton);let D=B;ae.isValidElement(B)&&!Nc(B.type)?D=ae.cloneElement(B,{closeToast:me,toastProps:fe,data:le}):ja(B)&&(D=B({closeToast:me,toastProps:fe,data:le}));const X={content:D,props:fe,staleId:Y};b.limit&&b.limit>0&&_>b.limit&&ve?x.push(X):Ig(se)?setTimeout(()=>{F(X)},se):F(X)},setProps(B){b=B},setToggle:(B,ee)=>{A.get(B).toggle=ee},isToastActive:B=>E.some(ee=>ee===B),getSnapshot:()=>b.newestOnTop?S.reverse():S}}(s,a,OZ);aa.set(s,l);const f=l.observe(o);return Lg.forEach(h=>N5(h.content,h.options)),Lg=[],()=>{f(),aa.delete(s)}},setProps(o){var l;(l=aa.get(s))==null||l.setProps(o)},getSnapshot(){var o;return(o=aa.get(s))==null?void 0:o.getSnapshot()}}}(t)).current;r(t);const i=ae.useSyncExternalStore(e,n,n);return{getToastToRender:function(a){if(!i)return[];const s=new Map;return i.forEach(o=>{const{position:l}=o.props;s.has(l)||s.set(l,[]),s.get(l).push(o)}),Array.from(s,o=>a(o[0],o[1]))},isToastActive:D5,count:i==null?void 0:i.length}}function IZ(t){const[e,n]=ae.useState(!1),[r,i]=ae.useState(!1),a=ae.useRef(null),s=ae.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:f,onClick:h,closeOnClick:p}=t;var m,y;function _(){n(!0)}function x(){n(!1)}function E(A){const k=a.current;s.canDrag&&k&&(s.didMove=!0,e&&x(),s.delta=t.draggableDirection==="x"?A.clientX-s.start:A.clientY-s.start,s.start!==A.clientX&&(s.canCloseOnClick=!1),k.style.transform=`translate3d(${t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,k.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function S(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",S);const A=a.current;if(s.canDrag&&s.didMove&&A){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=aa.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),ae.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||x(),window.addEventListener("focus",_),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",x)}},[t.pauseOnFocusLoss]);const b={onPointerDown:function(A){if(t.draggable===!0||t.draggable===A.pointerType){s.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",S);const k=a.current;s.canCloseOnClick=!0,s.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(s.start=A.clientX,s.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(s.start=A.clientY,s.removalDistance=k.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(A){const{top:k,bottom:M,left:I,right:F}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=I&&A.clientX<=F&&A.clientY>=k&&A.clientY<=M?x():_()}};return o&&l&&(b.onMouseEnter=x,t.stacked||(b.onMouseLeave=_)),p&&(b.onClick=A=>{h&&h(A),s.canCloseOnClick&&f()}),{playToast:_,pauseToast:x,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:b}}function LZ(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:a,className:s,style:o,controlledProgress:l,progress:f,rtl:h,isIn:p,theme:m}=t;const y=a||l&&f===0,_={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(_.transform=`scaleX(${f})`);const x=gl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),E=ja(s)?s({rtl:h,type:i,defaultClassName:x}):gl(x,s),S={[l&&f>=1?"onTransitionEnd":"onAnimationEnd"]:l&&f<1?null:()=>{p&&r()}};return Gt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Gt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Gt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:E,style:_,...S}))}let MZ=1;const F5=()=>""+MZ++;function kZ(t){return t&&(Nc(t.toastId)||Ig(t.toastId))?t.toastId:F5()}function yg(t,e){return N5(t,e),e.toastId}function V_(t,e){return{...e,type:e&&e.type||t,toastId:kZ(e)}}function Vy(t){return(e,n)=>yg(e,V_(t,n))}function br(t,e){return yg(t,V_("default",e))}br.loading=(t,e)=>yg(t,V_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),br.promise=function(t,e,n){let r,{pending:i,error:a,success:s}=e;i&&(r=Nc(i)?br.loading(i,n):br.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,m)=>{if(p==null)return void br.dismiss(r);const y={type:h,...o,...n,data:m},_=Nc(p)?{render:p}:p;return r?br.update(r,{...y,..._}):br(_.render,{...y,..._}),m},f=ja(t)?t():t;return f.then(h=>l("success",s,h)).catch(h=>l("error",a,h)),f},br.success=Vy("success"),br.info=Vy("info"),br.error=Vy("error"),br.warning=Vy("warning"),br.warn=br.warning,br.dark=(t,e)=>yg(t,V_("default",{theme:"dark",...e})),br.dismiss=function(t){(function(e){var n;if(k5()){if(e==null||Nc(n=e)||Ig(n))aa.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=aa.get(e.containerId);r?r.removeToast(e.id):aa.forEach(i=>{i.removeToast(e.id)})}}else Lg=Lg.filter(r=>e!=null&&r.options.toastId!==e)})(t)},br.clearWaitingQueue=function(t){t===void 0&&(t={}),aa.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},br.isActive=D5,br.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var a;let{containerId:s}=i;return(a=aa.get(s||1))==null?void 0:a.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:F5()};a.toastId!==t&&(a.staleId=t);const s=a.render||i;delete a.render,yg(s,a)}},br.done=t=>{br.update(t,{progress:1})},br.onChange=function(t){return RC.add(t),()=>{RC.delete(t)}},br.play=t=>nM(!0,t),br.pause=t=>nM(!1,t);const DZ=typeof window<"u"?ae.useLayoutEffect:ae.useEffect,Ky=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Gt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},w1={info:function(t){return Gt.createElement(Ky,{...t},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Gt.createElement(Ky,{...t},Gt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Gt.createElement(Ky,{...t},Gt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Gt.createElement(Ky,{...t},Gt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Gt.createElement("div",{className:"Toastify__spinner"})}},NZ=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=IZ(t),{closeButton:s,children:o,autoClose:l,onClick:f,type:h,hideProgressBar:p,closeToast:m,transition:y,position:_,className:x,style:E,bodyClassName:S,bodyStyle:b,progressClassName:A,progressStyle:k,updateId:M,role:I,progress:F,rtl:B,toastId:ee,deleteToast:U,isIn:J,isLoading:le,closeOnClick:Y,theme:se}=t,me=gl("Toastify__toast",`Toastify__toast-theme--${se}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":B},{"Toastify__toast--close-on-click":Y}),ve=ja(x)?x({rtl:B,position:_,type:h,defaultClassName:me}):gl(me,x),fe=function(X){let{theme:ce,type:V,isLoading:Z,icon:he}=X,xe=null;const Ve={theme:ce,type:V};return he===!1||(ja(he)?xe=he({...Ve,isLoading:Z}):ae.isValidElement(he)?xe=ae.cloneElement(he,Ve):Z?xe=w1.spinner():(Te=>Te in w1)(V)&&(xe=w1[V](Ve))),xe}(t),ue=!!F||!l,Oe={closeToast:m,type:h,theme:se};let D=null;return s===!1||(D=ja(s)?s(Oe):ae.isValidElement(s)?ae.cloneElement(s,Oe):function(X){let{closeToast:ce,theme:V,ariaLabel:Z="close"}=X;return Gt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${V}`,type:"button",onClick:he=>{he.stopPropagation(),ce(he)},"aria-label":Z},Gt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Gt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Oe)),Gt.createElement(y,{isIn:J,done:U,position:_,preventExitTransition:n,nodeRef:r,playToast:a},Gt.createElement("div",{id:ee,onClick:f,"data-in":J,className:ve,...i,style:E,ref:r},Gt.createElement("div",{...J&&{role:I},className:ja(S)?S({type:h}):gl("Toastify__toast-body",S),style:b},fe!=null&&Gt.createElement("div",{className:gl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!le})},fe),Gt.createElement("div",null,o)),D,Gt.createElement(LZ,{...M&&!ue?{key:`pb-${M}`}:{},rtl:B,theme:se,delay:l,isRunning:e,isIn:J,closeToast:m,hide:p,type:h,style:k,className:A,controlledProgress:ue,progress:F||0})))},b0=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},FZ=w0(b0("bounce",!0)),jZ=w0(b0("slide",!0));w0(b0("zoom"));w0(b0("flip"));const $Z={position:"top-right",transition:FZ,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function UZ(t){let e={...$Z,...t};const n=t.stacked,[r,i]=ae.useState(!0),a=ae.useRef(null),{getToastToRender:s,isToastActive:o,count:l}=PZ(e),{className:f,style:h,rtl:p,containerId:m}=e;function y(x){const E=gl("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":p});return ja(f)?f({position:x,rtl:p,defaultClassName:E}):gl(E,v_(f))}function _(){n&&(i(!0),br.play())}return DZ(()=>{if(n){var x;const E=a.current.querySelectorAll('[data-in="true"]'),S=12,b=(x=e.position)==null?void 0:x.includes("top");let A=0,k=0;Array.from(E).reverse().forEach((M,I)=>{const F=M;F.classList.add("Toastify__toast--stacked"),I>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=b?"top":"bot");const B=A*(r?.2:1)+(r?0:S*I);F.style.setProperty("--y",`${b?B:-1*B}px`),F.style.setProperty("--g",`${S}`),F.style.setProperty("--s",""+(1-(r?k:0))),A+=F.offsetHeight,k+=.025})}},[r,l,n]),Gt.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),br.pause())},onMouseLeave:_},s((x,E)=>{const S=E.length?{...h}:{...h,pointerEvents:"none"};return Gt.createElement("div",{className:y(x),style:S,key:`container-${x}`},E.map(b=>{let{content:A,props:k}=b;return Gt.createElement(NZ,{...k,stacked:n,collapseAll:_,isIn:o(k.toastId,k.containerId),style:k.style,key:`toast-${k.key}`},A)}))}))}const sm=z7,Wc=G7,Qh="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Zh="http://www.w3.org/2001/XMLSchema#",b1="http://www.w3.org/2000/10/swap/",Fi={xsd:{decimal:`${Zh}decimal`,boolean:`${Zh}boolean`,double:`${Zh}double`,integer:`${Zh}integer`,string:`${Zh}string`},rdf:{type:`${Qh}type`,nil:`${Qh}nil`,first:`${Qh}first`,rest:`${Qh}rest`,langString:`${Qh}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${b1}reify#forSome`,forAll:`${b1}reify#forAll`},log:{implies:`${b1}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var S1,rM;function BZ(){if(rM)return S1;rM=1;let t;return S1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Sc):e=>(t||(t=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),S1}var qZ=BZ();const j5=Ur(qZ),{xsd:Gy}=Fi,HZ=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,iM={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},zZ=/[\x00-\x20<>\\"\{\}\|\^\`]/,VZ={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},KZ=/$0^/;let NA=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in VZ)&&this[n]instanceof RegExp&&(this[n]=KZ)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this._comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let p="",m="",y="",_=null,x=0,E=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){E=!0;break}}else{this._n3Mode&&(x=1,p="^");break}case"<":if(_=this._unescapedIri.exec(r))p="IRI",m=_[1];else if(_=this._iri.exec(r)){if(m=this._unescape(_[1]),m===null||zZ.test(m))return s(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",x=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",x=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",x=2);break;case"_":((_=this._blank.exec(r))||n&&(_=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(r))m=_[1];else if({value:m,matchLength:x}=this._parseLiteral(r),m===null)return s(this);(_!==null||x!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(r))m=_[1];else if({value:m,matchLength:x}=this._parseLiteral(r),m===null)return s(this);(_!==null||x!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(r))&&(p="var",m=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(r))?(p="langcode",m=_[1]):(_=this._keyword.exec(r))&&(p=_[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",x=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(r)||n&&(_=this._number.exec(`${r} `)))&&(p="literal",m=_[0],y=typeof _[1]=="string"?Gy.double:typeof _[2]=="string"?Gy.decimal:Gy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(r))?p=_[0].toUpperCase():E=!0;break;case"f":case"t":(_=this._boolean.exec(r))?(p="literal",m=_[0],y=Gy.boolean):E=!0;break;case"a":(_=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):E=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(x=1,m="="):(x=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(x=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",x=2):(p=h,x=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",x=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(r))?(p="prefix",m=_[1]||""):((_=this._prefixed.exec(r))||n&&(_=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=_[1]||"",m=this._unescape(_[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const S=x||_[0].length,b=a(p,m,y,f,S);this.previousToken=b,this._previousMarker=p,r=r.substr(S,r.length)}function a(o,l,f,h,p){const m=r?i-r.length:i,y=m+p,_={type:o,value:l,prefix:f,line:h,start:m,end:y};return e(null,_),_}function s(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(HZ,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in iM?iM[o]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const s=e.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")j5(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}};function GZ(t){return!!t&&t.termType==="NamedNode"}function WZ(t){return!!t&&t.termType==="BlankNode"}function QZ(t){return!!t&&t.termType==="Literal"}function ZZ(t){return!!t&&t.termType==="Variable"}function Td(t){return!!t&&t.termType==="DefaultGraph"}function JZ(t){return Td(t.graph)}function YZ(t,e){return $5({"":t.value||t},e)("")}function $5(t,e){const n=Object.create(null);for(const i in t)r(i,t[i]);e=e||_l;function r(i,a){if(typeof a=="string"){const s=Object.create(null);n[i]=o=>s[o]||(s[o]=e.namedNode(a+o))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const U5=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:JZ,isBlankNode:WZ,isDefaultGraph:Td,isLiteral:QZ,isNamedNode:GZ,isVariable:ZZ,prefix:YZ,prefixes:$5},Symbol.toStringTag,{value:"Module"})),{rdf:XZ,xsd:wc}=Fi;let om,eJ=0;const _l={namedNode:tJ,blankNode:nJ,variable:iJ,literal:rJ,defaultGraph:aJ,quad:aM,triple:aM};let ho=class B5{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof B5?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Vr=class extends ho{get termType(){return"NamedNode"}},rd=class q5 extends ho{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new Vr(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?wc.string:XZ.langString}equals(e){return e instanceof q5?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},FA=class extends ho{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},jA=class extends ho{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},$A=class extends ho{constructor(){return super(""),om||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};om=new $A;function Ec(t,e,n){if(e=e||_l,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===_l)return new rd(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Ec(t[0],e,!0),Ec(t[1],e,!0),Ec(t[2],e,!0),t[3]&&Ec(t[3],e,!0))}function ra(t,e){if(typeof t=="string")return t;if(t instanceof ho&&t.termType!=="Quad")return t.id;if(!t)return om.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==wc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[ra(t.subject,!0),ra(t.predicate,!0),ra(t.object,!0)];return Td(t.graph)||n.push(ra(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let As=class extends ho{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||om}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function tJ(t){return new Vr(t)}function nJ(t){return new FA(t||`n3-${eJ++}`)}function rJ(t,e){if(typeof e=="string")return new rd(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=wc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?wc.integer:wc.double:(n=wc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===wc.string?new rd(`"${t}"`):new rd(`"${t}"^^${n}`)}function iJ(t){return new jA(t)}function aJ(){return om}function aM(t,e,n,r){return new As(t,e,n,r)}let sM=0,Ud=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&H5(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new NA({lineMode:l,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){sM=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=x1}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return r+e.substring(s)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${sM++}_`,this._prefixCallback=r||x1,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(s,o)=>{s?a=s:o&&i.push(o)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),a)throw a;return i}this._callback=n,this._lexer.tokenize(e,(i,a)=>{i!==null?(this._callback(i),this._callback=x1):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function x1(){}function H5(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(Fi.rdf.first),t.RDF_REST=n(Fi.rdf.rest),t.RDF_NIL=n(Fi.rdf.nil),t.N3_FORALL=n(Fi.r.forAll),t.N3_FORSOME=n(Fi.r.forSome),t.ABBREVIATIONS={a:n(Fi.rdf.type),"=":n(Fi.owl.sameAs),">":n(Fi.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}H5(Ud.prototype,_l);const Jh=_l.defaultGraph(),{rdf:sJ,xsd:Df}=Fi,oM=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,uM=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,oJ={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let Yh=class extends ho{equals(e){return e===this}},S0=class{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Jh,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${cM(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return Jh.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Jh.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),oM.test(n)&&(n=n.replace(uM,lM));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(oM.test(n)&&(n=n.replace(uM,lM)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Df.string)return`"${n}"`}else switch(e.datatype.value){case Df.string:return`"${n}"`;case Df.boolean:if(n==="true"||n==="false")return n;break;case Df.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Df.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Df.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===sJ.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Td(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,Jh,i):this._writeQuad(e,n,r,i||Jh,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=cM(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new Yh("[]");case 1:if(i=r[0],!(i.object instanceof Yh))return new Yh(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new Yh(`${s}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new Yh(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function lM(t){let e=oJ[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function cM(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var E1={exports:{}},T1={exports:{}},C1={},Xh={},fM;function uJ(){if(fM)return Xh;fM=1,Xh.byteLength=o,Xh.toByteArray=f,Xh.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=_);var E=x===_?0:4-x%4;return[x,E]}function o(y){var _=s(y),x=_[0],E=_[1];return(x+E)*3/4-E}function l(y,_,x){return(_+x)*3/4-x}function f(y){var _,x=s(y),E=x[0],S=x[1],b=new n(l(y,E,S)),A=0,k=S>0?E-4:E,M;for(M=0;M<k;M+=4)_=e[y.charCodeAt(M)]<<18|e[y.charCodeAt(M+1)]<<12|e[y.charCodeAt(M+2)]<<6|e[y.charCodeAt(M+3)],b[A++]=_>>16&255,b[A++]=_>>8&255,b[A++]=_&255;return S===2&&(_=e[y.charCodeAt(M)]<<2|e[y.charCodeAt(M+1)]>>4,b[A++]=_&255),S===1&&(_=e[y.charCodeAt(M)]<<10|e[y.charCodeAt(M+1)]<<4|e[y.charCodeAt(M+2)]>>2,b[A++]=_>>8&255,b[A++]=_&255),b}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,_,x){for(var E,S=[],b=_;b<x;b+=3)E=(y[b]<<16&16711680)+(y[b+1]<<8&65280)+(y[b+2]&255),S.push(h(E));return S.join("")}function m(y){for(var _,x=y.length,E=x%3,S=[],b=16383,A=0,k=x-E;A<k;A+=b)S.push(p(y,A,A+b>k?k:A+b));return E===1?(_=y[x-1],S.push(t[_>>2]+t[_<<4&63]+"==")):E===2&&(_=(y[x-2]<<8)+y[x-1],S.push(t[_>>10]+t[_>>4&63]+t[_<<2&63]+"=")),S.join("")}return Xh}var Wy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var dM;function lJ(){return dM||(dM=1,Wy.read=function(t,e,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,f=l>>1,h=-7,p=n?i-1:0,m=n?-1:1,y=t[e+p];for(p+=m,a=y&(1<<-h)-1,y>>=-h,h+=o;h>0;a=a*256+t[e+p],p+=m,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=r;h>0;s=s*256+t[e+p],p+=m,h-=8);if(a===0)a=1-f;else{if(a===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-f}return(y?-1:1)*s*Math.pow(2,a-r)},Wy.write=function(t,e,n,r,i,a){var s,o,l,f=a*8-i-1,h=(1<<f)-1,p=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,_=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+p>=1?e+=m/l:e+=m*Math.pow(2,1-p),e*l>=2&&(s++,l/=2),s+p>=h?(o=0,s=h):s+p>=1?(o=(e*l-1)*Math.pow(2,i),s=s+p):(o=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+y]=o&255,y+=_,o/=256,i-=8);for(s=s<<i|o,f+=i;f>0;t[n+y]=s&255,y+=_,s/=256,f-=8);t[n+y-_]|=x*128}),Wy}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hM;function fu(){return hM||(hM=1,function(t){const e=uJ(),n=lJ(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const te=new Uint8Array(1),H={foo:function(){return 42}};return Object.setPrototypeOf(H,Uint8Array.prototype),Object.setPrototypeOf(te,H),te.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(te){if(te>i)throw new RangeError('The value "'+te+'" is invalid for option "size"');const H=new Uint8Array(te);return Object.setPrototypeOf(H,o.prototype),H}function o(te,H,G){if(typeof te=="number"){if(typeof H=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(te)}return l(te,H,G)}o.poolSize=8192;function l(te,H,G){if(typeof te=="string")return m(te,H);if(ArrayBuffer.isView(te))return _(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(nt(te,ArrayBuffer)||te&&nt(te.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(te,SharedArrayBuffer)||te&&nt(te.buffer,SharedArrayBuffer)))return x(te,H,G);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const K=te.valueOf&&te.valueOf();if(K!=null&&K!==te)return o.from(K,H,G);const je=E(te);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return o.from(te[Symbol.toPrimitive]("string"),H,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}o.from=function(te,H,G){return l(te,H,G)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function h(te,H,G){return f(te),te<=0?s(te):H!==void 0?typeof G=="string"?s(te).fill(H,G):s(te).fill(H):s(te)}o.alloc=function(te,H,G){return h(te,H,G)};function p(te){return f(te),s(te<0?0:S(te)|0)}o.allocUnsafe=function(te){return p(te)},o.allocUnsafeSlow=function(te){return p(te)};function m(te,H){if((typeof H!="string"||H==="")&&(H="utf8"),!o.isEncoding(H))throw new TypeError("Unknown encoding: "+H);const G=A(te,H)|0;let K=s(G);const je=K.write(te,H);return je!==G&&(K=K.slice(0,je)),K}function y(te){const H=te.length<0?0:S(te.length)|0,G=s(H);for(let K=0;K<H;K+=1)G[K]=te[K]&255;return G}function _(te){if(nt(te,Uint8Array)){const H=new Uint8Array(te);return x(H.buffer,H.byteOffset,H.byteLength)}return y(te)}function x(te,H,G){if(H<0||te.byteLength<H)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<H+(G||0))throw new RangeError('"length" is outside of buffer bounds');let K;return H===void 0&&G===void 0?K=new Uint8Array(te):G===void 0?K=new Uint8Array(te,H):K=new Uint8Array(te,H,G),Object.setPrototypeOf(K,o.prototype),K}function E(te){if(o.isBuffer(te)){const H=S(te.length)|0,G=s(H);return G.length===0||te.copy(G,0,0,H),G}if(te.length!==void 0)return typeof te.length!="number"||gt(te.length)?s(0):y(te);if(te.type==="Buffer"&&Array.isArray(te.data))return y(te.data)}function S(te){if(te>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return te|0}function b(te){return+te!=te&&(te=0),o.alloc(+te)}o.isBuffer=function(H){return H!=null&&H._isBuffer===!0&&H!==o.prototype},o.compare=function(H,G){if(nt(H,Uint8Array)&&(H=o.from(H,H.offset,H.byteLength)),nt(G,Uint8Array)&&(G=o.from(G,G.offset,G.byteLength)),!o.isBuffer(H)||!o.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(H===G)return 0;let K=H.length,je=G.length;for(let Ye=0,Ne=Math.min(K,je);Ye<Ne;++Ye)if(H[Ye]!==G[Ye]){K=H[Ye],je=G[Ye];break}return K<je?-1:je<K?1:0},o.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(H,G){if(!Array.isArray(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return o.alloc(0);let K;if(G===void 0)for(G=0,K=0;K<H.length;++K)G+=H[K].length;const je=o.allocUnsafe(G);let Ye=0;for(K=0;K<H.length;++K){let Ne=H[K];if(nt(Ne,Uint8Array))Ye+Ne.length>je.length?(o.isBuffer(Ne)||(Ne=o.from(Ne)),Ne.copy(je,Ye)):Uint8Array.prototype.set.call(je,Ne,Ye);else if(o.isBuffer(Ne))Ne.copy(je,Ye);else throw new TypeError('"list" argument must be an Array of Buffers');Ye+=Ne.length}return je};function A(te,H){if(o.isBuffer(te))return te.length;if(ArrayBuffer.isView(te)||nt(te,ArrayBuffer))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const G=te.length,K=arguments.length>2&&arguments[2]===!0;if(!K&&G===0)return 0;let je=!1;for(;;)switch(H){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return ye(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return Fe(te).length;default:if(je)return K?-1:ye(te).length;H=(""+H).toLowerCase(),je=!0}}o.byteLength=A;function k(te,H,G){let K=!1;if((H===void 0||H<0)&&(H=0),H>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,H>>>=0,G<=H))return"";for(te||(te="utf8");;)switch(te){case"hex":return Oe(this,H,G);case"utf8":case"utf-8":return se(this,H,G);case"ascii":return fe(this,H,G);case"latin1":case"binary":return ue(this,H,G);case"base64":return Y(this,H,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,H,G);default:if(K)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),K=!0}}o.prototype._isBuffer=!0;function M(te,H,G){const K=te[H];te[H]=te[G],te[G]=K}o.prototype.swap16=function(){const H=this.length;if(H%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<H;G+=2)M(this,G,G+1);return this},o.prototype.swap32=function(){const H=this.length;if(H%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<H;G+=4)M(this,G,G+3),M(this,G+1,G+2);return this},o.prototype.swap64=function(){const H=this.length;if(H%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<H;G+=8)M(this,G,G+7),M(this,G+1,G+6),M(this,G+2,G+5),M(this,G+3,G+4);return this},o.prototype.toString=function(){const H=this.length;return H===0?"":arguments.length===0?se(this,0,H):k.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(H){if(!o.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H?!0:o.compare(this,H)===0},o.prototype.inspect=function(){let H="";const G=t.INSPECT_MAX_BYTES;return H=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(H+=" ... "),"<Buffer "+H+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(H,G,K,je,Ye){if(nt(H,Uint8Array)&&(H=o.from(H,H.offset,H.byteLength)),!o.isBuffer(H))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof H);if(G===void 0&&(G=0),K===void 0&&(K=H?H.length:0),je===void 0&&(je=0),Ye===void 0&&(Ye=this.length),G<0||K>H.length||je<0||Ye>this.length)throw new RangeError("out of range index");if(je>=Ye&&G>=K)return 0;if(je>=Ye)return-1;if(G>=K)return 1;if(G>>>=0,K>>>=0,je>>>=0,Ye>>>=0,this===H)return 0;let Ne=Ye-je,At=K-G;const Pt=Math.min(Ne,At),kt=this.slice(je,Ye),Rt=H.slice(G,K);for(let Bt=0;Bt<Pt;++Bt)if(kt[Bt]!==Rt[Bt]){Ne=kt[Bt],At=Rt[Bt];break}return Ne<At?-1:At<Ne?1:0};function I(te,H,G,K,je){if(te.length===0)return-1;if(typeof G=="string"?(K=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,gt(G)&&(G=je?0:te.length-1),G<0&&(G=te.length+G),G>=te.length){if(je)return-1;G=te.length-1}else if(G<0)if(je)G=0;else return-1;if(typeof H=="string"&&(H=o.from(H,K)),o.isBuffer(H))return H.length===0?-1:F(te,H,G,K,je);if(typeof H=="number")return H=H&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(te,H,G):Uint8Array.prototype.lastIndexOf.call(te,H,G):F(te,[H],G,K,je);throw new TypeError("val must be string, number or Buffer")}function F(te,H,G,K,je){let Ye=1,Ne=te.length,At=H.length;if(K!==void 0&&(K=String(K).toLowerCase(),K==="ucs2"||K==="ucs-2"||K==="utf16le"||K==="utf-16le")){if(te.length<2||H.length<2)return-1;Ye=2,Ne/=2,At/=2,G/=2}function Pt(Rt,Bt){return Ye===1?Rt[Bt]:Rt.readUInt16BE(Bt*Ye)}let kt;if(je){let Rt=-1;for(kt=G;kt<Ne;kt++)if(Pt(te,kt)===Pt(H,Rt===-1?0:kt-Rt)){if(Rt===-1&&(Rt=kt),kt-Rt+1===At)return Rt*Ye}else Rt!==-1&&(kt-=kt-Rt),Rt=-1}else for(G+At>Ne&&(G=Ne-At),kt=G;kt>=0;kt--){let Rt=!0;for(let Bt=0;Bt<At;Bt++)if(Pt(te,kt+Bt)!==Pt(H,Bt)){Rt=!1;break}if(Rt)return kt}return-1}o.prototype.includes=function(H,G,K){return this.indexOf(H,G,K)!==-1},o.prototype.indexOf=function(H,G,K){return I(this,H,G,K,!0)},o.prototype.lastIndexOf=function(H,G,K){return I(this,H,G,K,!1)};function B(te,H,G,K){G=Number(G)||0;const je=te.length-G;K?(K=Number(K),K>je&&(K=je)):K=je;const Ye=H.length;K>Ye/2&&(K=Ye/2);let Ne;for(Ne=0;Ne<K;++Ne){const At=parseInt(H.substr(Ne*2,2),16);if(gt(At))return Ne;te[G+Ne]=At}return Ne}function ee(te,H,G,K){return tt(ye(H,te.length-G),te,G,K)}function U(te,H,G,K){return tt(ze(H),te,G,K)}function J(te,H,G,K){return tt(Fe(H),te,G,K)}function le(te,H,G,K){return tt(Ce(H,te.length-G),te,G,K)}o.prototype.write=function(H,G,K,je){if(G===void 0)je="utf8",K=this.length,G=0;else if(K===void 0&&typeof G=="string")je=G,K=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(K)?(K=K>>>0,je===void 0&&(je="utf8")):(je=K,K=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ye=this.length-G;if((K===void 0||K>Ye)&&(K=Ye),H.length>0&&(K<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let Ne=!1;for(;;)switch(je){case"hex":return B(this,H,G,K);case"utf8":case"utf-8":return ee(this,H,G,K);case"ascii":case"latin1":case"binary":return U(this,H,G,K);case"base64":return J(this,H,G,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,H,G,K);default:if(Ne)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),Ne=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(te,H,G){return H===0&&G===te.length?e.fromByteArray(te):e.fromByteArray(te.slice(H,G))}function se(te,H,G){G=Math.min(te.length,G);const K=[];let je=H;for(;je<G;){const Ye=te[je];let Ne=null,At=Ye>239?4:Ye>223?3:Ye>191?2:1;if(je+At<=G){let Pt,kt,Rt,Bt;switch(At){case 1:Ye<128&&(Ne=Ye);break;case 2:Pt=te[je+1],(Pt&192)===128&&(Bt=(Ye&31)<<6|Pt&63,Bt>127&&(Ne=Bt));break;case 3:Pt=te[je+1],kt=te[je+2],(Pt&192)===128&&(kt&192)===128&&(Bt=(Ye&15)<<12|(Pt&63)<<6|kt&63,Bt>2047&&(Bt<55296||Bt>57343)&&(Ne=Bt));break;case 4:Pt=te[je+1],kt=te[je+2],Rt=te[je+3],(Pt&192)===128&&(kt&192)===128&&(Rt&192)===128&&(Bt=(Ye&15)<<18|(Pt&63)<<12|(kt&63)<<6|Rt&63,Bt>65535&&Bt<1114112&&(Ne=Bt))}}Ne===null?(Ne=65533,At=1):Ne>65535&&(Ne-=65536,K.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),K.push(Ne),je+=At}return ve(K)}const me=4096;function ve(te){const H=te.length;if(H<=me)return String.fromCharCode.apply(String,te);let G="",K=0;for(;K<H;)G+=String.fromCharCode.apply(String,te.slice(K,K+=me));return G}function fe(te,H,G){let K="";G=Math.min(te.length,G);for(let je=H;je<G;++je)K+=String.fromCharCode(te[je]&127);return K}function ue(te,H,G){let K="";G=Math.min(te.length,G);for(let je=H;je<G;++je)K+=String.fromCharCode(te[je]);return K}function Oe(te,H,G){const K=te.length;(!H||H<0)&&(H=0),(!G||G<0||G>K)&&(G=K);let je="";for(let Ye=H;Ye<G;++Ye)je+=Ut[te[Ye]];return je}function D(te,H,G){const K=te.slice(H,G);let je="";for(let Ye=0;Ye<K.length-1;Ye+=2)je+=String.fromCharCode(K[Ye]+K[Ye+1]*256);return je}o.prototype.slice=function(H,G){const K=this.length;H=~~H,G=G===void 0?K:~~G,H<0?(H+=K,H<0&&(H=0)):H>K&&(H=K),G<0?(G+=K,G<0&&(G=0)):G>K&&(G=K),G<H&&(G=H);const je=this.subarray(H,G);return Object.setPrototypeOf(je,o.prototype),je};function X(te,H,G){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+H>G)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(H,G,K){H=H>>>0,G=G>>>0,K||X(H,G,this.length);let je=this[H],Ye=1,Ne=0;for(;++Ne<G&&(Ye*=256);)je+=this[H+Ne]*Ye;return je},o.prototype.readUintBE=o.prototype.readUIntBE=function(H,G,K){H=H>>>0,G=G>>>0,K||X(H,G,this.length);let je=this[H+--G],Ye=1;for(;G>0&&(Ye*=256);)je+=this[H+--G]*Ye;return je},o.prototype.readUint8=o.prototype.readUInt8=function(H,G){return H=H>>>0,G||X(H,1,this.length),this[H]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(H,G){return H=H>>>0,G||X(H,2,this.length),this[H]|this[H+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(H,G){return H=H>>>0,G||X(H,2,this.length),this[H]<<8|this[H+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(H,G){return H=H>>>0,G||X(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+this[H+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(H,G){return H=H>>>0,G||X(H,4,this.length),this[H]*16777216+(this[H+1]<<16|this[H+2]<<8|this[H+3])},o.prototype.readBigUInt64LE=Se(function(H){H=H>>>0,$(H,"offset");const G=this[H],K=this[H+7];(G===void 0||K===void 0)&&re(H,this.length-8);const je=G+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24,Ye=this[++H]+this[++H]*2**8+this[++H]*2**16+K*2**24;return BigInt(je)+(BigInt(Ye)<<BigInt(32))}),o.prototype.readBigUInt64BE=Se(function(H){H=H>>>0,$(H,"offset");const G=this[H],K=this[H+7];(G===void 0||K===void 0)&&re(H,this.length-8);const je=G*2**24+this[++H]*2**16+this[++H]*2**8+this[++H],Ye=this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+K;return(BigInt(je)<<BigInt(32))+BigInt(Ye)}),o.prototype.readIntLE=function(H,G,K){H=H>>>0,G=G>>>0,K||X(H,G,this.length);let je=this[H],Ye=1,Ne=0;for(;++Ne<G&&(Ye*=256);)je+=this[H+Ne]*Ye;return Ye*=128,je>=Ye&&(je-=Math.pow(2,8*G)),je},o.prototype.readIntBE=function(H,G,K){H=H>>>0,G=G>>>0,K||X(H,G,this.length);let je=G,Ye=1,Ne=this[H+--je];for(;je>0&&(Ye*=256);)Ne+=this[H+--je]*Ye;return Ye*=128,Ne>=Ye&&(Ne-=Math.pow(2,8*G)),Ne},o.prototype.readInt8=function(H,G){return H=H>>>0,G||X(H,1,this.length),this[H]&128?(255-this[H]+1)*-1:this[H]},o.prototype.readInt16LE=function(H,G){H=H>>>0,G||X(H,2,this.length);const K=this[H]|this[H+1]<<8;return K&32768?K|4294901760:K},o.prototype.readInt16BE=function(H,G){H=H>>>0,G||X(H,2,this.length);const K=this[H+1]|this[H]<<8;return K&32768?K|4294901760:K},o.prototype.readInt32LE=function(H,G){return H=H>>>0,G||X(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},o.prototype.readInt32BE=function(H,G){return H=H>>>0,G||X(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},o.prototype.readBigInt64LE=Se(function(H){H=H>>>0,$(H,"offset");const G=this[H],K=this[H+7];(G===void 0||K===void 0)&&re(H,this.length-8);const je=this[H+4]+this[H+5]*2**8+this[H+6]*2**16+(K<<24);return(BigInt(je)<<BigInt(32))+BigInt(G+this[++H]*2**8+this[++H]*2**16+this[++H]*2**24)}),o.prototype.readBigInt64BE=Se(function(H){H=H>>>0,$(H,"offset");const G=this[H],K=this[H+7];(G===void 0||K===void 0)&&re(H,this.length-8);const je=(G<<24)+this[++H]*2**16+this[++H]*2**8+this[++H];return(BigInt(je)<<BigInt(32))+BigInt(this[++H]*2**24+this[++H]*2**16+this[++H]*2**8+K)}),o.prototype.readFloatLE=function(H,G){return H=H>>>0,G||X(H,4,this.length),n.read(this,H,!0,23,4)},o.prototype.readFloatBE=function(H,G){return H=H>>>0,G||X(H,4,this.length),n.read(this,H,!1,23,4)},o.prototype.readDoubleLE=function(H,G){return H=H>>>0,G||X(H,8,this.length),n.read(this,H,!0,52,8)},o.prototype.readDoubleBE=function(H,G){return H=H>>>0,G||X(H,8,this.length),n.read(this,H,!1,52,8)};function ce(te,H,G,K,je,Ye){if(!o.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>je||H<Ye)throw new RangeError('"value" argument is out of bounds');if(G+K>te.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(H,G,K,je){if(H=+H,G=G>>>0,K=K>>>0,!je){const At=Math.pow(2,8*K)-1;ce(this,H,G,K,At,0)}let Ye=1,Ne=0;for(this[G]=H&255;++Ne<K&&(Ye*=256);)this[G+Ne]=H/Ye&255;return G+K},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(H,G,K,je){if(H=+H,G=G>>>0,K=K>>>0,!je){const At=Math.pow(2,8*K)-1;ce(this,H,G,K,At,0)}let Ye=K-1,Ne=1;for(this[G+Ye]=H&255;--Ye>=0&&(Ne*=256);)this[G+Ye]=H/Ne&255;return G+K},o.prototype.writeUint8=o.prototype.writeUInt8=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,1,255,0),this[G]=H&255,G+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,2,65535,0),this[G]=H&255,this[G+1]=H>>>8,G+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,2,65535,0),this[G]=H>>>8,this[G+1]=H&255,G+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,4,4294967295,0),this[G+3]=H>>>24,this[G+2]=H>>>16,this[G+1]=H>>>8,this[G]=H&255,G+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,4,4294967295,0),this[G]=H>>>24,this[G+1]=H>>>16,this[G+2]=H>>>8,this[G+3]=H&255,G+4};function V(te,H,G,K,je){z(H,K,je,te,G,7);let Ye=Number(H&BigInt(4294967295));te[G++]=Ye,Ye=Ye>>8,te[G++]=Ye,Ye=Ye>>8,te[G++]=Ye,Ye=Ye>>8,te[G++]=Ye;let Ne=Number(H>>BigInt(32)&BigInt(4294967295));return te[G++]=Ne,Ne=Ne>>8,te[G++]=Ne,Ne=Ne>>8,te[G++]=Ne,Ne=Ne>>8,te[G++]=Ne,G}function Z(te,H,G,K,je){z(H,K,je,te,G,7);let Ye=Number(H&BigInt(4294967295));te[G+7]=Ye,Ye=Ye>>8,te[G+6]=Ye,Ye=Ye>>8,te[G+5]=Ye,Ye=Ye>>8,te[G+4]=Ye;let Ne=Number(H>>BigInt(32)&BigInt(4294967295));return te[G+3]=Ne,Ne=Ne>>8,te[G+2]=Ne,Ne=Ne>>8,te[G+1]=Ne,Ne=Ne>>8,te[G]=Ne,G+8}o.prototype.writeBigUInt64LE=Se(function(H,G=0){return V(this,H,G,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Se(function(H,G=0){return Z(this,H,G,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(H,G,K,je){if(H=+H,G=G>>>0,!je){const Pt=Math.pow(2,8*K-1);ce(this,H,G,K,Pt-1,-Pt)}let Ye=0,Ne=1,At=0;for(this[G]=H&255;++Ye<K&&(Ne*=256);)H<0&&At===0&&this[G+Ye-1]!==0&&(At=1),this[G+Ye]=(H/Ne>>0)-At&255;return G+K},o.prototype.writeIntBE=function(H,G,K,je){if(H=+H,G=G>>>0,!je){const Pt=Math.pow(2,8*K-1);ce(this,H,G,K,Pt-1,-Pt)}let Ye=K-1,Ne=1,At=0;for(this[G+Ye]=H&255;--Ye>=0&&(Ne*=256);)H<0&&At===0&&this[G+Ye+1]!==0&&(At=1),this[G+Ye]=(H/Ne>>0)-At&255;return G+K},o.prototype.writeInt8=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,1,127,-128),H<0&&(H=255+H+1),this[G]=H&255,G+1},o.prototype.writeInt16LE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,2,32767,-32768),this[G]=H&255,this[G+1]=H>>>8,G+2},o.prototype.writeInt16BE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,2,32767,-32768),this[G]=H>>>8,this[G+1]=H&255,G+2},o.prototype.writeInt32LE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,4,2147483647,-2147483648),this[G]=H&255,this[G+1]=H>>>8,this[G+2]=H>>>16,this[G+3]=H>>>24,G+4},o.prototype.writeInt32BE=function(H,G,K){return H=+H,G=G>>>0,K||ce(this,H,G,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),this[G]=H>>>24,this[G+1]=H>>>16,this[G+2]=H>>>8,this[G+3]=H&255,G+4},o.prototype.writeBigInt64LE=Se(function(H,G=0){return V(this,H,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Se(function(H,G=0){return Z(this,H,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function he(te,H,G,K,je,Ye){if(G+K>te.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function xe(te,H,G,K,je){return H=+H,G=G>>>0,je||he(te,H,G,4),n.write(te,H,G,K,23,4),G+4}o.prototype.writeFloatLE=function(H,G,K){return xe(this,H,G,!0,K)},o.prototype.writeFloatBE=function(H,G,K){return xe(this,H,G,!1,K)};function Ve(te,H,G,K,je){return H=+H,G=G>>>0,je||he(te,H,G,8),n.write(te,H,G,K,52,8),G+8}o.prototype.writeDoubleLE=function(H,G,K){return Ve(this,H,G,!0,K)},o.prototype.writeDoubleBE=function(H,G,K){return Ve(this,H,G,!1,K)},o.prototype.copy=function(H,G,K,je){if(!o.isBuffer(H))throw new TypeError("argument should be a Buffer");if(K||(K=0),!je&&je!==0&&(je=this.length),G>=H.length&&(G=H.length),G||(G=0),je>0&&je<K&&(je=K),je===K||H.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),H.length-G<je-K&&(je=H.length-G+K);const Ye=je-K;return this===H&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(G,K,je):Uint8Array.prototype.set.call(H,this.subarray(K,je),G),Ye},o.prototype.fill=function(H,G,K,je){if(typeof H=="string"){if(typeof G=="string"?(je=G,G=0,K=this.length):typeof K=="string"&&(je=K,K=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(H.length===1){const Ne=H.charCodeAt(0);(je==="utf8"&&Ne<128||je==="latin1")&&(H=Ne)}}else typeof H=="number"?H=H&255:typeof H=="boolean"&&(H=Number(H));if(G<0||this.length<G||this.length<K)throw new RangeError("Out of range index");if(K<=G)return this;G=G>>>0,K=K===void 0?this.length:K>>>0,H||(H=0);let Ye;if(typeof H=="number")for(Ye=G;Ye<K;++Ye)this[Ye]=H;else{const Ne=o.isBuffer(H)?H:o.from(H,je),At=Ne.length;if(At===0)throw new TypeError('The value "'+H+'" is invalid for argument "value"');for(Ye=0;Ye<K-G;++Ye)this[Ye+G]=Ne[Ye%At]}return this};const Te={};function Me(te,H,G){Te[te]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:H.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,this.stack,delete this.name}get code(){return te}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}Me("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Me("ERR_INVALID_ARG_TYPE",function(te,H){return`The "${te}" argument must be of type number. Received type ${typeof H}`},TypeError),Me("ERR_OUT_OF_RANGE",function(te,H,G){let K=`The value of "${te}" is out of range.`,je=G;return Number.isInteger(G)&&Math.abs(G)>2**32?je=Ze(String(G)):typeof G=="bigint"&&(je=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(je=Ze(je)),je+="n"),K+=` It must be ${H}. Received ${je}`,K},RangeError);function Ze(te){let H="",G=te.length;const K=te[0]==="-"?1:0;for(;G>=K+4;G-=3)H=`_${te.slice(G-3,G)}${H}`;return`${te.slice(0,G)}${H}`}function ie(te,H,G){$(H,"offset"),(te[H]===void 0||te[H+G]===void 0)&&re(H,te.length-(G+1))}function z(te,H,G,K,je,Ye){if(te>G||te<H){const Ne=typeof H=="bigint"?"n":"";let At;throw H===0||H===BigInt(0)?At=`>= 0${Ne} and < 2${Ne} ** ${(Ye+1)*8}${Ne}`:At=`>= -(2${Ne} ** ${(Ye+1)*8-1}${Ne}) and < 2 ** ${(Ye+1)*8-1}${Ne}`,new Te.ERR_OUT_OF_RANGE("value",At,te)}ie(K,je,Ye)}function $(te,H){if(typeof te!="number")throw new Te.ERR_INVALID_ARG_TYPE(H,"number",te)}function re(te,H,G){throw Math.floor(te)!==te?($(te,G),new Te.ERR_OUT_OF_RANGE("offset","an integer",te)):H<0?new Te.ERR_BUFFER_OUT_OF_BOUNDS:new Te.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${H}`,te)}const W=/[^+/0-9A-Za-z-_]/g;function pe(te){if(te=te.split("=")[0],te=te.trim().replace(W,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function ye(te,H){H=H||1/0;let G;const K=te.length;let je=null;const Ye=[];for(let Ne=0;Ne<K;++Ne){if(G=te.charCodeAt(Ne),G>55295&&G<57344){if(!je){if(G>56319){(H-=3)>-1&&Ye.push(239,191,189);continue}else if(Ne+1===K){(H-=3)>-1&&Ye.push(239,191,189);continue}je=G;continue}if(G<56320){(H-=3)>-1&&Ye.push(239,191,189),je=G;continue}G=(je-55296<<10|G-56320)+65536}else je&&(H-=3)>-1&&Ye.push(239,191,189);if(je=null,G<128){if((H-=1)<0)break;Ye.push(G)}else if(G<2048){if((H-=2)<0)break;Ye.push(G>>6|192,G&63|128)}else if(G<65536){if((H-=3)<0)break;Ye.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((H-=4)<0)break;Ye.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return Ye}function ze(te){const H=[];for(let G=0;G<te.length;++G)H.push(te.charCodeAt(G)&255);return H}function Ce(te,H){let G,K,je;const Ye=[];for(let Ne=0;Ne<te.length&&!((H-=2)<0);++Ne)G=te.charCodeAt(Ne),K=G>>8,je=G%256,Ye.push(je),Ye.push(K);return Ye}function Fe(te){return e.toByteArray(pe(te))}function tt(te,H,G,K){let je;for(je=0;je<K&&!(je+G>=H.length||je>=te.length);++je)H[je+G]=te[je];return je}function nt(te,H){return te instanceof H||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===H.name}function gt(te){return te!==te}const Ut=function(){const te="0123456789abcdef",H=new Array(256);for(let G=0;G<16;++G){const K=G*16;for(let je=0;je<16;++je)H[K+je]=te[G]+te[je]}return H}();function Se(te){return typeof BigInt>"u"?Be:te}function Be(){throw new Error("BigInt not supported")}}(C1)),C1}var A1,pM;function jr(){return pM||(pM=1,A1={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array}),A1}var R1={exports:{}},ep={exports:{}},gM;function Mg(){if(gM)return ep.exports;gM=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return ep.exports=t,ep.exports.AbortSignal=e,ep.exports.default=t,ep.exports}var mM;function oa(){return mM||(mM=1,function(t){const e=fu(),{kResistStopPropagation:n,SymbolDispose:r}=jr(),i=globalThis.AbortSignal||Mg().AbortSignal,a=globalThis.AbortController||Mg().AbortController,s=Object.getPrototypeOf(async function(){}).constructor,o=globalThis.Blob||e.Blob,l=typeof o<"u"?function(y){return y instanceof o}:function(y){return!1},f=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},h=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class p extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let _="";for(let x=0;x<y.length;x++)_+=`    ${y[x].stack}
`;super(_),this.name="AggregateError",this.errors=y}}t.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(..._){y||(y=!0,m.apply(this,_))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((x,E)=>{m=x,y=E}),resolve:m,reject:y}},promisify(m){return new Promise((y,_)=>{m((x,...E)=>x?_(x):y(...E))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[_,x]){const E=y.shift();return x==="f"?E.toFixed(6):x==="j"?JSON.stringify(E):x==="s"&&typeof E=="object"?`${E.constructor!==Object?E.constructor.name:""} {}`.trim():E.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof s},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:l,deprecate(m,y){return m},addAbortListener:$d().addAbortListener||function(y,_){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);f(y,"signal"),h(_,"listener");let x;return y.aborted?queueMicrotask(()=>_()):(y.addEventListener("abort",_,{__proto__:null,once:!0,[n]:!0}),x=()=>{y.removeEventListener("abort",_)}),{__proto__:null,[r](){var E;(E=x)===null||E===void 0||E()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const _=new a,x=()=>_.abort();return y.forEach(E=>{f(E,"signals"),E.addEventListener("abort",x,{once:!0})}),_.signal.addEventListener("abort",()=>{y.forEach(E=>E.removeEventListener("abort",x))},{once:!0}),_.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(R1)),R1.exports}var Qy={},O1,yM;function Ea(){if(yM)return O1;yM=1;const{format:t,inspect:e,AggregateError:n}=oa(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",l={};function f(E,S){if(!E)throw new l.ERR_INTERNAL_ASSERTION(S)}function h(E){let S="",b=E.length;const A=E[0]==="-"?1:0;for(;b>=A+4;b-=3)S=`_${E.slice(b-3,b)}${S}`;return`${E.slice(0,b)}${S}`}function p(E,S,b){if(typeof S=="function")return f(S.length<=b.length,`Code: ${E}; The provided arguments length (${b.length}) does not match the required ones (${S.length}).`),S(...b);const A=(S.match(/%[dfijoOs]/g)||[]).length;return f(A===b.length,`Code: ${E}; The provided arguments length (${b.length}) does not match the required ones (${A}).`),b.length===0?S:t(S,...b)}function m(E,S,b){b||(b=Error);class A extends b{constructor(...M){super(p(E,S,M))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:b.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=E,A.prototype[i]=!0,l[E]=A}function y(E){const S=o+E.name;return Object.defineProperty(E,"name",{value:S}),E}function _(E,S){if(E&&S&&E!==S){if(Array.isArray(S.errors))return S.errors.push(E),S;const b=new r([S,E],S.message);return b.code=S.code,b}return E||S}class x extends Error{constructor(S="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",b);super(S,b),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(E,S,b)=>{f(typeof E=="string","'name' must be a string"),Array.isArray(S)||(S=[S]);let A="The ";E.endsWith(" argument")?A+=`${E} `:A+=`"${E}" ${E.includes(".")?"property":"argument"} `,A+="must be ";const k=[],M=[],I=[];for(const B of S)f(typeof B=="string","All expected entries have to be of type string"),a.includes(B)?k.push(B.toLowerCase()):s.test(B)?M.push(B):(f(B!=="object",'The value "object" should be written as "Object"'),I.push(B));if(M.length>0){const B=k.indexOf("object");B!==-1&&(k.splice(k,B,1),M.push("Object"))}if(k.length>0){switch(k.length){case 1:A+=`of type ${k[0]}`;break;case 2:A+=`one of type ${k[0]} or ${k[1]}`;break;default:{const B=k.pop();A+=`one of type ${k.join(", ")}, or ${B}`}}(M.length>0||I.length>0)&&(A+=" or ")}if(M.length>0){switch(M.length){case 1:A+=`an instance of ${M[0]}`;break;case 2:A+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const B=M.pop();A+=`an instance of ${M.join(", ")}, or ${B}`}}I.length>0&&(A+=" or ")}switch(I.length){case 0:break;case 1:I[0].toLowerCase()!==I[0]&&(A+="an "),A+=`${I[0]}`;break;case 2:A+=`one of ${I[0]} or ${I[1]}`;break;default:{const B=I.pop();A+=`one of ${I.join(", ")}, or ${B}`}}if(b==null)A+=`. Received ${b}`;else if(typeof b=="function"&&b.name)A+=`. Received function ${b.name}`;else if(typeof b=="object"){var F;if((F=b.constructor)!==null&&F!==void 0&&F.name)A+=`. Received an instance of ${b.constructor.name}`;else{const B=e(b,{depth:-1});A+=`. Received ${B}`}}else{let B=e(b,{colors:!1});B.length>25&&(B=`${B.slice(0,25)}...`),A+=`. Received type ${typeof b} (${B})`}return A},TypeError),m("ERR_INVALID_ARG_VALUE",(E,S,b="is invalid")=>{let A=e(S);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${b}. Received ${A}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(E,S,b)=>{var A;const k=b!=null&&(A=b.constructor)!==null&&A!==void 0&&A.name?`instance of ${b.constructor.name}`:`type ${typeof b}`;return`Expected ${E} to be returned from the "${S}" function but got ${k}.`},TypeError),m("ERR_MISSING_ARGS",(...E)=>{f(E.length>0,"At least one arg needs to be specified");let S;const b=E.length;switch(E=(Array.isArray(E)?E:[E]).map(A=>`"${A}"`).join(" or "),b){case 1:S+=`The ${E[0]} argument`;break;case 2:S+=`The ${E[0]} and ${E[1]} arguments`;break;default:{const A=E.pop();S+=`The ${E.join(", ")}, and ${A} arguments`}break}return`${S} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(E,S,b)=>{f(S,'Missing "range" argument');let A;return Number.isInteger(b)&&Math.abs(b)>2**32?A=h(String(b)):typeof b=="bigint"?(A=String(b),(b>2n**32n||b<-(2n**32n))&&(A=h(A)),A+="n"):A=e(b),`The value of "${E}" is out of range. It must be ${S}. Received ${A}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),O1={AbortError:x,aggregateTwoErrors:y(_),hideStackFrames:y,codes:l},O1}var P1,vM;function um(){if(vM)return P1;vM=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:o,NumberParseInt:l,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=jr(),{hideStackFrames:_,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:S,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:A}}=Ea(),{normalizeEncoding:k}=oa(),{isAsyncFunction:M,isArrayBufferView:I}=oa().types,F={};function B(Ce){return Ce===(Ce|0)}function ee(Ce){return Ce===Ce>>>0}const U=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function le(Ce,Fe,tt){if(typeof Ce>"u"&&(Ce=tt),typeof Ce=="string"){if(h(U,Ce)===null)throw new S(Fe,Ce,J);Ce=l(Ce,8)}return me(Ce,Fe),Ce}const Y=_((Ce,Fe,tt=o,nt=s)=>{if(typeof Ce!="number")throw new E(Fe,"number",Ce);if(!i(Ce))throw new b(Fe,"an integer",Ce);if(Ce<tt||Ce>nt)throw new b(Fe,`>= ${tt} && <= ${nt}`,Ce)}),se=_((Ce,Fe,tt=-2147483648,nt=2147483647)=>{if(typeof Ce!="number")throw new E(Fe,"number",Ce);if(!i(Ce))throw new b(Fe,"an integer",Ce);if(Ce<tt||Ce>nt)throw new b(Fe,`>= ${tt} && <= ${nt}`,Ce)}),me=_((Ce,Fe,tt=!1)=>{if(typeof Ce!="number")throw new E(Fe,"number",Ce);if(!i(Ce))throw new b(Fe,"an integer",Ce);const nt=tt?1:0,gt=4294967295;if(Ce<nt||Ce>gt)throw new b(Fe,`>= ${nt} && <= ${gt}`,Ce)});function ve(Ce,Fe){if(typeof Ce!="string")throw new E(Fe,"string",Ce)}function fe(Ce,Fe,tt=void 0,nt){if(typeof Ce!="number")throw new E(Fe,"number",Ce);if(tt!=null&&Ce<tt||nt!=null&&Ce>nt||(tt!=null||nt!=null)&&a(Ce))throw new b(Fe,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Ce)}const ue=_((Ce,Fe,tt)=>{if(!e(tt,Ce)){const gt="must be one of: "+n(r(tt,Ut=>typeof Ut=="string"?`'${Ut}'`:p(Ut)),", ");throw new S(Fe,Ce,gt)}});function Oe(Ce,Fe){if(typeof Ce!="boolean")throw new E(Fe,"boolean",Ce)}function D(Ce,Fe,tt){return Ce==null||!f(Ce,Fe)?tt:Ce[Fe]}const X=_((Ce,Fe,tt=null)=>{const nt=D(tt,"allowArray",!1),gt=D(tt,"allowFunction",!1);if(!D(tt,"nullable",!1)&&Ce===null||!nt&&t(Ce)||typeof Ce!="object"&&(!gt||typeof Ce!="function"))throw new E(Fe,"Object",Ce)}),ce=_((Ce,Fe)=>{if(Ce!=null&&typeof Ce!="object"&&typeof Ce!="function")throw new E(Fe,"a dictionary",Ce)}),V=_((Ce,Fe,tt=0)=>{if(!t(Ce))throw new E(Fe,"Array",Ce);if(Ce.length<tt){const nt=`must be longer than ${tt}`;throw new S(Fe,Ce,nt)}});function Z(Ce,Fe){V(Ce,Fe);for(let tt=0;tt<Ce.length;tt++)ve(Ce[tt],`${Fe}[${tt}]`)}function he(Ce,Fe){V(Ce,Fe);for(let tt=0;tt<Ce.length;tt++)Oe(Ce[tt],`${Fe}[${tt}]`)}function xe(Ce,Fe){V(Ce,Fe);for(let tt=0;tt<Ce.length;tt++){const nt=Ce[tt],gt=`${Fe}[${tt}]`;if(nt==null)throw new E(gt,"AbortSignal",nt);ie(nt,gt)}}function Ve(Ce,Fe="signal"){if(ve(Ce,Fe),F[Ce]===void 0)throw F[m(Ce)]!==void 0?new A(Ce+" (signals must use all capital letters)"):new A(Ce)}const Te=_((Ce,Fe="buffer")=>{if(!I(Ce))throw new E(Fe,["Buffer","TypedArray","DataView"],Ce)});function Me(Ce,Fe){const tt=k(Fe),nt=Ce.length;if(tt==="hex"&&nt%2!==0)throw new S("encoding",Fe,`is invalid for data of length ${nt}`)}function Ze(Ce,Fe="Port",tt=!0){if(typeof Ce!="number"&&typeof Ce!="string"||typeof Ce=="string"&&y(Ce).length===0||+Ce!==+Ce>>>0||Ce>65535||Ce===0&&!tt)throw new x(Fe,Ce,tt);return Ce|0}const ie=_((Ce,Fe)=>{if(Ce!==void 0&&(Ce===null||typeof Ce!="object"||!("aborted"in Ce)))throw new E(Fe,"AbortSignal",Ce)}),z=_((Ce,Fe)=>{if(typeof Ce!="function")throw new E(Fe,"Function",Ce)}),$=_((Ce,Fe)=>{if(typeof Ce!="function"||M(Ce))throw new E(Fe,"Function",Ce)}),re=_((Ce,Fe)=>{if(Ce!==void 0)throw new E(Fe,"undefined",Ce)});function W(Ce,Fe,tt){if(!e(tt,Ce))throw new E(Fe,`('${n(tt,"|")}')`,Ce)}const pe=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Ce,Fe){if(typeof Ce>"u"||!h(pe,Ce))throw new S(Fe,Ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ze(Ce){if(typeof Ce=="string")return ye(Ce,"hints"),Ce;if(t(Ce)){const Fe=Ce.length;let tt="";if(Fe===0)return tt;for(let nt=0;nt<Fe;nt++){const gt=Ce[nt];ye(gt,"hints"),tt+=gt,nt!==Fe-1&&(tt+=", ")}return tt}throw new S("hints",Ce,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return P1={isInt32:B,isUint32:ee,parseFileMode:le,validateArray:V,validateStringArray:Z,validateBooleanArray:he,validateAbortSignalArray:xe,validateBoolean:Oe,validateBuffer:Te,validateDictionary:ce,validateEncoding:Me,validateFunction:z,validateInt32:se,validateInteger:Y,validateNumber:fe,validateObject:X,validateOneOf:ue,validatePlainFunction:$,validatePort:Ze,validateSignalName:Ve,validateString:ve,validateUint32:me,validateUndefined:re,validateUnion:W,validateAbortSignal:ie,validateLinkHeaderValue:ze},P1}var Zy={exports:{}},I1={exports:{}},_M;function Qc(){if(_M)return I1.exports;_M=1;var t=I1.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(x){if(e===setTimeout)return setTimeout(x,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(x,0);try{return e(x,0)}catch{try{return e.call(null,x,0)}catch{return e.call(this,x,0)}}}function s(x){if(n===clearTimeout)return clearTimeout(x);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(x);try{return n(x)}catch{try{return n.call(null,x)}catch{return n.call(this,x)}}}var o=[],l=!1,f,h=-1;function p(){!l||!f||(l=!1,f.length?o=f.concat(o):h=-1,o.length&&m())}function m(){if(!l){var x=a(p);l=!0;for(var E=o.length;E;){for(f=o,o=[];++h<E;)f&&f[h].run();h=-1,E=o.length}f=null,l=!1,s(x)}}t.nextTick=function(x){var E=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)E[S-1]=arguments[S];o.push(new y(x,E)),o.length===1&&!l&&a(m)};function y(x,E){this.fun=x,this.array=E}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function _(){}return t.on=_,t.addListener=_,t.once=_,t.off=_,t.removeListener=_,t.removeAllListeners=_,t.emit=_,t.prependListener=_,t.prependOnceListener=_,t.listeners=function(x){return[]},t.binding=function(x){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(x){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},I1.exports}var L1,wM;function du(){if(wM)return L1;wM=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=jr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),s=n("nodejs.stream.writable"),o=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),f=n("nodejs.webstream.controllerErrorFunction");function h(D,X=!1){var ce;return!!(D&&typeof D.pipe=="function"&&typeof D.on=="function"&&(!X||typeof D.pause=="function"&&typeof D.resume=="function")&&(!D._writableState||((ce=D._readableState)===null||ce===void 0?void 0:ce.readable)!==!1)&&(!D._writableState||D._readableState))}function p(D){var X;return!!(D&&typeof D.write=="function"&&typeof D.on=="function"&&(!D._readableState||((X=D._writableState)===null||X===void 0?void 0:X.writable)!==!1))}function m(D){return!!(D&&typeof D.pipe=="function"&&D._readableState&&typeof D.on=="function"&&typeof D.write=="function")}function y(D){return D&&(D._readableState||D._writableState||typeof D.write=="function"&&typeof D.on=="function"||typeof D.pipe=="function"&&typeof D.on=="function")}function _(D){return!!(D&&!y(D)&&typeof D.pipeThrough=="function"&&typeof D.getReader=="function"&&typeof D.cancel=="function")}function x(D){return!!(D&&!y(D)&&typeof D.getWriter=="function"&&typeof D.abort=="function")}function E(D){return!!(D&&!y(D)&&typeof D.readable=="object"&&typeof D.writable=="object")}function S(D){return _(D)||x(D)||E(D)}function b(D,X){return D==null?!1:X===!0?typeof D[t]=="function":X===!1?typeof D[e]=="function":typeof D[t]=="function"||typeof D[e]=="function"}function A(D){if(!y(D))return null;const X=D._writableState,ce=D._readableState,V=X||ce;return!!(D.destroyed||D[r]||V!=null&&V.destroyed)}function k(D){if(!p(D))return null;if(D.writableEnded===!0)return!0;const X=D._writableState;return X!=null&&X.errored?!1:typeof(X==null?void 0:X.ended)!="boolean"?null:X.ended}function M(D,X){if(!p(D))return null;if(D.writableFinished===!0)return!0;const ce=D._writableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.finished)!="boolean"?null:!!(ce.finished||X===!1&&ce.ended===!0&&ce.length===0)}function I(D){if(!h(D))return null;if(D.readableEnded===!0)return!0;const X=D._readableState;return!X||X.errored?!1:typeof(X==null?void 0:X.ended)!="boolean"?null:X.ended}function F(D,X){if(!h(D))return null;const ce=D._readableState;return ce!=null&&ce.errored?!1:typeof(ce==null?void 0:ce.endEmitted)!="boolean"?null:!!(ce.endEmitted||X===!1&&ce.ended===!0&&ce.length===0)}function B(D){return D&&D[a]!=null?D[a]:typeof(D==null?void 0:D.readable)!="boolean"?null:A(D)?!1:h(D)&&D.readable&&!F(D)}function ee(D){return D&&D[s]!=null?D[s]:typeof(D==null?void 0:D.writable)!="boolean"?null:A(D)?!1:p(D)&&D.writable&&!k(D)}function U(D,X){return y(D)?A(D)?!0:!((X==null?void 0:X.readable)!==!1&&B(D)||(X==null?void 0:X.writable)!==!1&&ee(D)):null}function J(D){var X,ce;return y(D)?D.writableErrored?D.writableErrored:(X=(ce=D._writableState)===null||ce===void 0?void 0:ce.errored)!==null&&X!==void 0?X:null:null}function le(D){var X,ce;return y(D)?D.readableErrored?D.readableErrored:(X=(ce=D._readableState)===null||ce===void 0?void 0:ce.errored)!==null&&X!==void 0?X:null:null}function Y(D){if(!y(D))return null;if(typeof D.closed=="boolean")return D.closed;const X=D._writableState,ce=D._readableState;return typeof(X==null?void 0:X.closed)=="boolean"||typeof(ce==null?void 0:ce.closed)=="boolean"?(X==null?void 0:X.closed)||(ce==null?void 0:ce.closed):typeof D._closed=="boolean"&&se(D)?D._closed:null}function se(D){return typeof D._closed=="boolean"&&typeof D._defaultKeepAlive=="boolean"&&typeof D._removedConnection=="boolean"&&typeof D._removedContLen=="boolean"}function me(D){return typeof D._sent100=="boolean"&&se(D)}function ve(D){var X;return typeof D._consuming=="boolean"&&typeof D._dumped=="boolean"&&((X=D.req)===null||X===void 0?void 0:X.upgradeOrConnect)===void 0}function fe(D){if(!y(D))return null;const X=D._writableState,ce=D._readableState,V=X||ce;return!V&&me(D)||!!(V&&V.autoDestroy&&V.emitClose&&V.closed===!1)}function ue(D){var X;return!!(D&&((X=D[o])!==null&&X!==void 0?X:D.readableDidRead||D.readableAborted))}function Oe(D){var X,ce,V,Z,he,xe,Ve,Te,Me,Ze;return!!(D&&((X=(ce=(V=(Z=(he=(xe=D[i])!==null&&xe!==void 0?xe:D.readableErrored)!==null&&he!==void 0?he:D.writableErrored)!==null&&Z!==void 0?Z:(Ve=D._readableState)===null||Ve===void 0?void 0:Ve.errorEmitted)!==null&&V!==void 0?V:(Te=D._writableState)===null||Te===void 0?void 0:Te.errorEmitted)!==null&&ce!==void 0?ce:(Me=D._readableState)===null||Me===void 0?void 0:Me.errored)!==null&&X!==void 0?X:!((Ze=D._writableState)===null||Ze===void 0)&&Ze.errored))}return L1={isDestroyed:A,kIsDestroyed:r,isDisturbed:ue,kIsDisturbed:o,isErrored:Oe,kIsErrored:i,isReadable:B,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:f,kIsWritable:s,isClosed:Y,isDuplexNodeStream:m,isFinished:U,isIterable:b,isReadableNodeStream:h,isReadableStream:_,isReadableEnded:I,isReadableFinished:F,isReadableErrored:le,isNodeStream:y,isWebStream:S,isWritable:ee,isWritableNodeStream:p,isWritableStream:x,isWritableEnded:k,isWritableFinished:M,isWritableErrored:J,isServerRequest:ve,isServerResponse:me,willEmitClose:fe,isTransformStream:E},L1}var bM;function xl(){if(bM)return Zy.exports;bM=1;const t=Qc(),{AbortError:e,codes:n}=Ea(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:s}=oa(),{validateAbortSignal:o,validateFunction:l,validateObject:f,validateBoolean:h}=um(),{Promise:p,PromisePrototypeThen:m,SymbolDispose:y}=jr(),{isClosed:_,isReadable:x,isReadableNodeStream:E,isReadableStream:S,isReadableFinished:b,isReadableErrored:A,isWritable:k,isWritableNodeStream:M,isWritableStream:I,isWritableFinished:F,isWritableErrored:B,isNodeStream:ee,willEmitClose:U,kIsClosedPromise:J}=du();let le;function Y(ue){return ue.setHeader&&typeof ue.abort=="function"}const se=()=>{};function me(ue,Oe,D){var X,ce;if(arguments.length===2?(D=Oe,Oe=a):Oe==null?Oe=a:f(Oe,"options"),l(D,"callback"),o(Oe.signal,"options.signal"),D=s(D),S(ue)||I(ue))return ve(ue,Oe,D);if(!ee(ue))throw new r("stream",["ReadableStream","WritableStream","Stream"],ue);const V=(X=Oe.readable)!==null&&X!==void 0?X:E(ue),Z=(ce=Oe.writable)!==null&&ce!==void 0?ce:M(ue),he=ue._writableState,xe=ue._readableState,Ve=()=>{ue.writable||Ze()};let Te=U(ue)&&E(ue)===V&&M(ue)===Z,Me=F(ue,!1);const Ze=()=>{Me=!0,ue.destroyed&&(Te=!1),!(Te&&(!ue.readable||V))&&(!V||ie)&&D.call(ue)};let ie=b(ue,!1);const z=()=>{ie=!0,ue.destroyed&&(Te=!1),!(Te&&(!ue.writable||Z))&&(!Z||Me)&&D.call(ue)},$=Ce=>{D.call(ue,Ce)};let re=_(ue);const W=()=>{re=!0;const Ce=B(ue)||A(ue);if(Ce&&typeof Ce!="boolean")return D.call(ue,Ce);if(V&&!ie&&E(ue,!0)&&!b(ue,!1))return D.call(ue,new i);if(Z&&!Me&&!F(ue,!1))return D.call(ue,new i);D.call(ue)},pe=()=>{re=!0;const Ce=B(ue)||A(ue);if(Ce&&typeof Ce!="boolean")return D.call(ue,Ce);D.call(ue)},ye=()=>{ue.req.on("finish",Ze)};Y(ue)?(ue.on("complete",Ze),Te||ue.on("abort",W),ue.req?ye():ue.on("request",ye)):Z&&!he&&(ue.on("end",Ve),ue.on("close",Ve)),!Te&&typeof ue.aborted=="boolean"&&ue.on("aborted",W),ue.on("end",z),ue.on("finish",Ze),Oe.error!==!1&&ue.on("error",$),ue.on("close",W),re?t.nextTick(W):he!=null&&he.errorEmitted||xe!=null&&xe.errorEmitted?Te||t.nextTick(pe):(!V&&(!Te||x(ue))&&(Me||k(ue)===!1)||!Z&&(!Te||k(ue))&&(ie||x(ue)===!1)||xe&&ue.req&&ue.aborted)&&t.nextTick(pe);const ze=()=>{D=se,ue.removeListener("aborted",W),ue.removeListener("complete",Ze),ue.removeListener("abort",W),ue.removeListener("request",ye),ue.req&&ue.req.removeListener("finish",Ze),ue.removeListener("end",Ve),ue.removeListener("close",Ve),ue.removeListener("finish",Ze),ue.removeListener("end",z),ue.removeListener("error",$),ue.removeListener("close",W)};if(Oe.signal&&!re){const Ce=()=>{const Fe=D;ze(),Fe.call(ue,new e(void 0,{cause:Oe.signal.reason}))};if(Oe.signal.aborted)t.nextTick(Ce);else{le=le||oa().addAbortListener;const Fe=le(Oe.signal,Ce),tt=D;D=s((...nt)=>{Fe[y](),tt.apply(ue,nt)})}}return ze}function ve(ue,Oe,D){let X=!1,ce=se;if(Oe.signal)if(ce=()=>{X=!0,D.call(ue,new e(void 0,{cause:Oe.signal.reason}))},Oe.signal.aborted)t.nextTick(ce);else{le=le||oa().addAbortListener;const Z=le(Oe.signal,ce),he=D;D=s((...xe)=>{Z[y](),he.apply(ue,xe)})}const V=(...Z)=>{X||t.nextTick(()=>D.apply(ue,Z))};return m(ue[J].promise,V,V),se}function fe(ue,Oe){var D;let X=!1;return Oe===null&&(Oe=a),(D=Oe)!==null&&D!==void 0&&D.cleanup&&(h(Oe.cleanup,"cleanup"),X=Oe.cleanup),new p((ce,V)=>{const Z=me(ue,Oe,he=>{X&&Z(),he?V(he):ce()})})}return Zy.exports=me,Zy.exports.finished=fe,Zy.exports}var M1,SM;function Bd(){if(SM)return M1;SM=1;const t=Qc(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Ea(),{Symbol:i}=jr(),{kIsDestroyed:a,isDestroyed:s,isFinished:o,isServerRequest:l}=du(),f=i("kDestroy"),h=i("kConstruct");function p(U,J,le){U&&(U.stack,J&&!J.errored&&(J.errored=U),le&&!le.errored&&(le.errored=U))}function m(U,J){const le=this._readableState,Y=this._writableState,se=Y||le;return Y!=null&&Y.destroyed||le!=null&&le.destroyed?(typeof J=="function"&&J(),this):(p(U,Y,le),Y&&(Y.destroyed=!0),le&&(le.destroyed=!0),se.constructed?y(this,U,J):this.once(f,function(me){y(this,e(me,U),J)}),this)}function y(U,J,le){let Y=!1;function se(me){if(Y)return;Y=!0;const ve=U._readableState,fe=U._writableState;p(me,fe,ve),fe&&(fe.closed=!0),ve&&(ve.closed=!0),typeof le=="function"&&le(me),me?t.nextTick(_,U,me):t.nextTick(x,U)}try{U._destroy(J||null,se)}catch(me){se(me)}}function _(U,J){E(U,J),x(U)}function x(U){const J=U._readableState,le=U._writableState;le&&(le.closeEmitted=!0),J&&(J.closeEmitted=!0),(le!=null&&le.emitClose||J!=null&&J.emitClose)&&U.emit("close")}function E(U,J){const le=U._readableState,Y=U._writableState;Y!=null&&Y.errorEmitted||le!=null&&le.errorEmitted||(Y&&(Y.errorEmitted=!0),le&&(le.errorEmitted=!0),U.emit("error",J))}function S(){const U=this._readableState,J=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),J&&(J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1)}function b(U,J,le){const Y=U._readableState,se=U._writableState;if(se!=null&&se.destroyed||Y!=null&&Y.destroyed)return this;Y!=null&&Y.autoDestroy||se!=null&&se.autoDestroy?U.destroy(J):J&&(J.stack,se&&!se.errored&&(se.errored=J),Y&&!Y.errored&&(Y.errored=J),le?t.nextTick(E,U,J):E(U,J))}function A(U,J){if(typeof U._construct!="function")return;const le=U._readableState,Y=U._writableState;le&&(le.constructed=!1),Y&&(Y.constructed=!1),U.once(h,J),!(U.listenerCount(h)>1)&&t.nextTick(k,U)}function k(U){let J=!1;function le(Y){if(J){b(U,Y??new n);return}J=!0;const se=U._readableState,me=U._writableState,ve=me||se;se&&(se.constructed=!0),me&&(me.constructed=!0),ve.destroyed?U.emit(f,Y):Y?b(U,Y,!0):t.nextTick(M,U)}try{U._construct(Y=>{t.nextTick(le,Y)})}catch(Y){t.nextTick(le,Y)}}function M(U){U.emit(h)}function I(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function F(U){U.emit("close")}function B(U,J){U.emit("error",J),t.nextTick(F,U)}function ee(U,J){!U||s(U)||(!J&&!o(U)&&(J=new r),l(U)?(U.socket=null,U.destroy(J)):I(U)?U.abort():I(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(J):typeof U.close=="function"?U.close():J?t.nextTick(B,U,J):t.nextTick(F,U),U.destroyed||(U[a]=!0))}return M1={construct:A,destroyer:ee,destroy:m,undestroy:S,errorOrDestroy:b},M1}var k1,xM;function UA(){if(xM)return k1;xM=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=jr(),{EventEmitter:n}=$d();function r(a){n.call(this,a)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(a,s){const o=this;function l(x){a.writable&&a.write(x)===!1&&o.pause&&o.pause()}o.on("data",l);function f(){o.readable&&o.resume&&o.resume()}a.on("drain",f),!a._isStdio&&(!s||s.end!==!1)&&(o.on("end",p),o.on("close",m));let h=!1;function p(){h||(h=!0,a.end())}function m(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function y(x){_(),n.listenerCount(this,"error")===0&&this.emit("error",x)}i(o,"error",y),i(a,"error",y);function _(){o.removeListener("data",l),a.removeListener("drain",f),o.removeListener("end",p),o.removeListener("close",m),o.removeListener("error",y),a.removeListener("error",y),o.removeListener("end",_),o.removeListener("close",_),a.removeListener("close",_)}return o.on("end",_),o.on("close",_),a.on("close",_),a.emit("pipe",o),a};function i(a,s,o){if(typeof a.prependListener=="function")return a.prependListener(s,o);!a._events||!a._events[s]?a.on(s,o):t(a._events[s])?a._events[s].unshift(o):a._events[s]=[o,a._events[s]]}return k1={Stream:r,prependListener:i},k1}var D1={exports:{}},EM;function x0(){return EM||(EM=1,function(t){const{SymbolDispose:e}=jr(),{AbortError:n,codes:r}=Ea(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=du(),o=xl(),{ERR_INVALID_ARG_TYPE:l}=r;let f;const h=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new l(m,"AbortSignal",p)};t.exports.addAbortSignal=function(m,y){if(h(m,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[s](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{f=f||oa().addAbortListener;const _=f(p,y);o(m,_[e])}return m}}(D1)),D1.exports}var N1,TM;function cJ(){if(TM)return N1;TM=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=jr(),{Buffer:i}=fu(),{inspect:a}=oa();return N1=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(o){const l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let l=this.head,f=""+l.data;for(;(l=l.next)!==null;)f+=o+l.data;return f}concat(o){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(o>>>0);let f=this.head,h=0;for(;f;)n(l,f.data,h),h+=f.data.length,f=f.next;return l}consume(o,l){const f=this.head.data;if(o<f.length){const h=f.slice(0,o);return this.head.data=f.slice(o),h}return o===f.length?this.shift():l?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let l="",f=this.head,h=0;do{const p=f.data;if(o>p.length)l+=p,o-=p.length;else{o===p.length?(l+=p,++h,f.next?this.head=f.next:this.head=this.tail=null):(l+=t(p,0,o),this.head=f,f.data=t(p,o));break}++h}while((f=f.next)!==null);return this.length-=h,l}_getBuffer(o){const l=i.allocUnsafe(o),f=o;let h=this.head,p=0;do{const m=h.data;if(o>m.length)n(l,m,f-o),o-=m.length;else{o===m.length?(n(l,m,f-o),++p,h.next?this.head=h.next:this.head=this.tail=null):(n(l,new r(m.buffer,m.byteOffset,o),f-o),this.head=h,h.data=m.slice(o));break}++p}while((h=h.next)!==null);return this.length-=p,l}[Symbol.for("nodejs.util.inspect.custom")](o,l){return a(this,{...l,depth:0,customInspect:!1})}},N1}var F1,CM;function E0(){if(CM)return F1;CM=1;const{MathFloor:t,NumberIsInteger:e}=jr(),{validateInteger:n}=um(),{ERR_INVALID_ARG_VALUE:r}=Ea().codes;let i=16*1024,a=16;function s(h,p,m){return h.highWaterMark!=null?h.highWaterMark:p?h[m]:null}function o(h){return h?a:i}function l(h,p){n(p,"value",0),h?a=p:i=p}function f(h,p,m,y){const _=s(p,y,m);if(_!=null){if(!e(_)||_<0){const x=y?`options.${m}`:"options.highWaterMark";throw new r(x,_)}return t(_)}return o(h.objectMode)}return F1={getHighWaterMark:f,getDefaultHighWaterMark:o,setDefaultHighWaterMark:l},F1}var j1={},Jy={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var AM;function fJ(){return AM||(AM=1,function(t,e){var n=fu(),r=n.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a);function a(s,o,l){return r(s,o,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var f=r(s);return o!==void 0?typeof l=="string"?f.fill(o,l):f.fill(o):f.fill(0),f},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}(Jy,Jy.exports)),Jy.exports}var RM;function dJ(){if(RM)return j1;RM=1;var t=fJ().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(S){if(!S)return"utf8";for(var b;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(b)return;S=(""+S).toLowerCase(),b=!0}}function r(S){var b=n(S);if(typeof b!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return b||S}j1.StringDecoder=i;function i(S){this.encoding=r(S);var b;switch(this.encoding){case"utf16le":this.text=p,this.end=m,b=4;break;case"utf8":this.fillLast=l,b=4;break;case"base64":this.text=y,this.end=_,b=3;break;default:this.write=x,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(b)}i.prototype.write=function(S){if(S.length===0)return"";var b,A;if(this.lastNeed){if(b=this.fillLast(S),b===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<S.length?b?b+this.text(S,A):this.text(S,A):b||""},i.prototype.end=h,i.prototype.text=f,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function a(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function s(S,b,A){var k=b.length-1;if(k<A)return 0;var M=a(b[k]);return M>=0?(M>0&&(S.lastNeed=M-1),M):--k<A||M===-2?0:(M=a(b[k]),M>=0?(M>0&&(S.lastNeed=M-2),M):--k<A||M===-2?0:(M=a(b[k]),M>=0?(M>0&&(M===2?M=0:S.lastNeed=M-3),M):0))}function o(S,b,A){if((b[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&b.length>1){if((b[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&b.length>2&&(b[2]&192)!==128)return S.lastNeed=2,"�"}}function l(S){var b=this.lastTotal-this.lastNeed,A=o(this,S);if(A!==void 0)return A;if(this.lastNeed<=S.length)return S.copy(this.lastChar,b,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,b,0,S.length),this.lastNeed-=S.length}function f(S,b){var A=s(this,S,b);if(!this.lastNeed)return S.toString("utf8",b);this.lastTotal=A;var k=S.length-(A-this.lastNeed);return S.copy(this.lastChar,0,k),S.toString("utf8",b,k)}function h(S){var b=S&&S.length?this.write(S):"";return this.lastNeed?b+"�":b}function p(S,b){if((S.length-b)%2===0){var A=S.toString("utf16le",b);if(A){var k=A.charCodeAt(A.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",b,S.length-1)}function m(S){var b=S&&S.length?this.write(S):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return b+this.lastChar.toString("utf16le",0,A)}return b}function y(S,b){var A=(S.length-b)%3;return A===0?S.toString("base64",b):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",b,S.length-A))}function _(S){var b=S&&S.length?this.write(S):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function x(S){return S.toString(this.encoding)}function E(S){return S&&S.length?this.write(S):""}return j1}var $1,OM;function z5(){if(OM)return $1;OM=1;const t=Qc(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=jr(),{Buffer:i}=fu(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:s}=Ea().codes;function o(l,f,h){let p;if(typeof f=="string"||f instanceof i)return new l({objectMode:!0,...h,read(){this.push(f),this.push(null)}});let m;if(f&&f[n])m=!0,p=f[n]();else if(f&&f[r])m=!1,p=f[r]();else throw new a("iterable",["Iterable"],f);const y=new l({objectMode:!0,highWaterMark:1,...h});let _=!1;y._read=function(){_||(_=!0,E())},y._destroy=function(S,b){e(x(S),()=>t.nextTick(b,S),A=>t.nextTick(b,A||S))};async function x(S){const b=S!=null,A=typeof p.throw=="function";if(b&&A){const{value:k,done:M}=await p.throw(S);if(await k,M)return}if(typeof p.return=="function"){const{value:k}=await p.return();await k}}async function E(){for(;;){try{const{value:S,done:b}=m?await p.next():p.next();if(b)y.push(null);else{const A=S&&typeof S.then=="function"?await S:S;if(A===null)throw _=!1,new s;if(y.push(A))continue;_=!1}}catch(S){y.destroy(S)}break}}return y}return $1=o,$1}var U1,PM;function T0(){if(PM)return U1;PM=1;const t=Qc(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:s,ObjectSetPrototypeOf:o,Promise:l,SafeSet:f,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:m}=jr();U1=nt,nt.ReadableState=tt;const{EventEmitter:y}=$d(),{Stream:_,prependListener:x}=UA(),{Buffer:E}=fu(),{addAbortSignal:S}=x0(),b=xl();let A=oa().debuglog("stream",Ie=>{A=Ie});const k=cJ(),M=Bd(),{getHighWaterMark:I,getDefaultHighWaterMark:F}=E0(),{aggregateTwoErrors:B,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:le,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Y},AbortError:se}=Ea(),{validateObject:me}=um(),ve=m("kPaused"),{StringDecoder:fe}=dJ(),ue=z5();o(nt.prototype,_.prototype),o(nt,_);const Oe=()=>{},{errorOrDestroy:D}=M,X=1,ce=2,V=4,Z=8,he=16,xe=32,Ve=64,Te=128,Me=256,Ze=512,ie=1024,z=2048,$=4096,re=8192,W=16384,pe=32768,ye=65536,ze=1<<17,Ce=1<<18;function Fe(Ie){return{enumerable:!1,get(){return(this.state&Ie)!==0},set(qe){qe?this.state|=Ie:this.state&=~Ie}}}a(tt.prototype,{objectMode:Fe(X),ended:Fe(ce),endEmitted:Fe(V),reading:Fe(Z),constructed:Fe(he),sync:Fe(xe),needReadable:Fe(Ve),emittedReadable:Fe(Te),readableListening:Fe(Me),resumeScheduled:Fe(Ze),errorEmitted:Fe(ie),emitClose:Fe(z),autoDestroy:Fe($),destroyed:Fe(re),closed:Fe(W),closeEmitted:Fe(pe),multiAwaitDrain:Fe(ye),readingMore:Fe(ze),dataEmitted:Fe(Ce)});function tt(Ie,qe,wt){typeof wt!="boolean"&&(wt=qe instanceof ou()),this.state=z|$|he|xe,Ie&&Ie.objectMode&&(this.state|=X),wt&&Ie&&Ie.readableObjectMode&&(this.state|=X),this.highWaterMark=Ie?I(this,Ie,"readableHighWaterMark",wt):F(!1),this.buffer=new k,this.length=0,this.pipes=[],this.flowing=null,this[ve]=null,Ie&&Ie.emitClose===!1&&(this.state&=~z),Ie&&Ie.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Ie&&Ie.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Ie&&Ie.encoding&&(this.decoder=new fe(Ie.encoding),this.encoding=Ie.encoding)}function nt(Ie){if(!(this instanceof nt))return new nt(Ie);const qe=this instanceof ou();this._readableState=new tt(Ie,this,qe),Ie&&(typeof Ie.read=="function"&&(this._read=Ie.read),typeof Ie.destroy=="function"&&(this._destroy=Ie.destroy),typeof Ie.construct=="function"&&(this._construct=Ie.construct),Ie.signal&&!qe&&S(Ie.signal,this)),_.call(this,Ie),M.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=M.destroy,nt.prototype._undestroy=M.undestroy,nt.prototype._destroy=function(Ie,qe){qe(Ie)},nt.prototype[y.captureRejectionSymbol]=function(Ie){this.destroy(Ie)},nt.prototype[h]=function(){let Ie;return this.destroyed||(Ie=this.readableEnded?null:new se,this.destroy(Ie)),new l((qe,wt)=>b(this,xt=>xt&&xt!==Ie?wt(xt):qe(null)))},nt.prototype.push=function(Ie,qe){return gt(this,Ie,qe,!1)},nt.prototype.unshift=function(Ie,qe){return gt(this,Ie,qe,!0)};function gt(Ie,qe,wt,xt){A("readableAddChunk",qe);const It=Ie._readableState;let Bn;if(It.state&X||(typeof qe=="string"?(wt=wt||It.defaultEncoding,It.encoding!==wt&&(xt&&It.encoding?qe=E.from(qe,wt).toString(It.encoding):(qe=E.from(qe,wt),wt=""))):qe instanceof E?wt="":_._isUint8Array(qe)?(qe=_._uint8ArrayToBuffer(qe),wt=""):qe!=null&&(Bn=new ee("chunk",["string","Buffer","Uint8Array"],qe))),Bn)D(Ie,Bn);else if(qe===null)It.state&=~Z,H(Ie,It);else if(It.state&X||qe&&qe.length>0)if(xt)if(It.state&V)D(Ie,new Y);else{if(It.destroyed||It.errored)return!1;Ut(Ie,It,qe,!0)}else if(It.ended)D(Ie,new le);else{if(It.destroyed||It.errored)return!1;It.state&=~Z,It.decoder&&!wt?(qe=It.decoder.write(qe),It.objectMode||qe.length!==0?Ut(Ie,It,qe,!1):je(Ie,It)):Ut(Ie,It,qe,!1)}else xt||(It.state&=~Z,je(Ie,It));return!It.ended&&(It.length<It.highWaterMark||It.length===0)}function Ut(Ie,qe,wt,xt){qe.flowing&&qe.length===0&&!qe.sync&&Ie.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Ie.emit("data",wt)):(qe.length+=qe.objectMode?1:wt.length,xt?qe.buffer.unshift(wt):qe.buffer.push(wt),qe.state&Ve&&G(Ie)),je(Ie,qe)}nt.prototype.isPaused=function(){const Ie=this._readableState;return Ie[ve]===!0||Ie.flowing===!1},nt.prototype.setEncoding=function(Ie){const qe=new fe(Ie);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const wt=this._readableState.buffer;let xt="";for(const It of wt)xt+=qe.write(It);return wt.clear(),xt!==""&&wt.push(xt),this._readableState.length=xt.length,this};const Se=1073741824;function Be(Ie){if(Ie>Se)throw new J("size","<= 1GiB",Ie);return Ie--,Ie|=Ie>>>1,Ie|=Ie>>>2,Ie|=Ie>>>4,Ie|=Ie>>>8,Ie|=Ie>>>16,Ie++,Ie}function te(Ie,qe){return Ie<=0||qe.length===0&&qe.ended?0:qe.state&X?1:r(Ie)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Ie<=qe.length?Ie:qe.ended?qe.length:0}nt.prototype.read=function(Ie){A("read",Ie),Ie===void 0?Ie=NaN:n(Ie)||(Ie=i(Ie,10));const qe=this._readableState,wt=Ie;if(Ie>qe.highWaterMark&&(qe.highWaterMark=Be(Ie)),Ie!==0&&(qe.state&=~Te),Ie===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?dr(this):G(this),null;if(Ie=te(Ie,qe),Ie===0&&qe.ended)return qe.length===0&&dr(this),null;let xt=(qe.state&Ve)!==0;if(A("need readable",xt),(qe.length===0||qe.length-Ie<qe.highWaterMark)&&(xt=!0,A("length less than watermark",xt)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)xt=!1,A("reading, ended or constructing",xt);else if(xt){A("do read"),qe.state|=Z|xe,qe.length===0&&(qe.state|=Ve);try{this._read(qe.highWaterMark)}catch(Bn){D(this,Bn)}qe.state&=~xe,qe.reading||(Ie=te(wt,qe))}let It;return Ie>0?It=dn(Ie,qe):It=null,It===null?(qe.needReadable=qe.length<=qe.highWaterMark,Ie=0):(qe.length-=Ie,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),wt!==Ie&&qe.ended&&dr(this)),It!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",It)),It};function H(Ie,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const wt=qe.decoder.end();wt&&wt.length&&(qe.buffer.push(wt),qe.length+=qe.objectMode?1:wt.length)}qe.ended=!0,qe.sync?G(Ie):(qe.needReadable=!1,qe.emittedReadable=!0,K(Ie))}}function G(Ie){const qe=Ie._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,t.nextTick(K,Ie))}function K(Ie){const qe=Ie._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Ie.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,Bt(Ie)}function je(Ie,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,t.nextTick(Ye,Ie,qe))}function Ye(Ie,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const wt=qe.length;if(A("maybeReadMore read 0"),Ie.read(0),wt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Ie){throw new U("_read()")},nt.prototype.pipe=function(Ie,qe){const wt=this,xt=this._readableState;xt.pipes.length===1&&(xt.multiAwaitDrain||(xt.multiAwaitDrain=!0,xt.awaitDrainWriters=new f(xt.awaitDrainWriters?[xt.awaitDrainWriters]:[]))),xt.pipes.push(Ie),A("pipe count=%d opts=%j",xt.pipes.length,qe);const Bn=(!qe||qe.end!==!1)&&Ie!==t.stdout&&Ie!==t.stderr?Qe:qt;xt.endEmitted?t.nextTick(Bn):wt.once("end",Bn),Ie.on("unpipe",Jn);function Jn(Nt,en){A("onunpipe"),Nt===wt&&en&&en.hasUnpiped===!1&&(en.hasUnpiped=!0,ft())}function Qe(){A("onend"),Ie.end()}let Ae,et=!1;function ft(){A("cleanup"),Ie.removeListener("close",Vt),Ie.removeListener("finish",Yt),Ae&&Ie.removeListener("drain",Ae),Ie.removeListener("error",Lt),Ie.removeListener("unpipe",Jn),wt.removeListener("end",Qe),wt.removeListener("end",qt),wt.removeListener("data",Et),et=!0,Ae&&xt.awaitDrainWriters&&(!Ie._writableState||Ie._writableState.needDrain)&&Ae()}function it(){et||(xt.pipes.length===1&&xt.pipes[0]===Ie?(A("false write response, pause",0),xt.awaitDrainWriters=Ie,xt.multiAwaitDrain=!1):xt.pipes.length>1&&xt.pipes.includes(Ie)&&(A("false write response, pause",xt.awaitDrainWriters.size),xt.awaitDrainWriters.add(Ie)),wt.pause()),Ae||(Ae=Ne(wt,Ie),Ie.on("drain",Ae))}wt.on("data",Et);function Et(Nt){A("ondata");const en=Ie.write(Nt);A("dest.write",en),en===!1&&it()}function Lt(Nt){if(A("onerror",Nt),qt(),Ie.removeListener("error",Lt),Ie.listenerCount("error")===0){const en=Ie._writableState||Ie._readableState;en&&!en.errorEmitted?D(Ie,Nt):Ie.emit("error",Nt)}}x(Ie,"error",Lt);function Vt(){Ie.removeListener("finish",Yt),qt()}Ie.once("close",Vt);function Yt(){A("onfinish"),Ie.removeListener("close",Vt),qt()}Ie.once("finish",Yt);function qt(){A("unpipe"),wt.unpipe(Ie)}return Ie.emit("pipe",wt),Ie.writableNeedDrain===!0?it():xt.flowing||(A("pipe resume"),wt.resume()),Ie};function Ne(Ie,qe){return function(){const xt=Ie._readableState;xt.awaitDrainWriters===qe?(A("pipeOnDrain",1),xt.awaitDrainWriters=null):xt.multiAwaitDrain&&(A("pipeOnDrain",xt.awaitDrainWriters.size),xt.awaitDrainWriters.delete(qe)),(!xt.awaitDrainWriters||xt.awaitDrainWriters.size===0)&&Ie.listenerCount("data")&&Ie.resume()}}nt.prototype.unpipe=function(Ie){const qe=this._readableState,wt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Ie){const It=qe.pipes;qe.pipes=[],this.pause();for(let Bn=0;Bn<It.length;Bn++)It[Bn].emit("unpipe",this,{hasUnpiped:!1});return this}const xt=e(qe.pipes,Ie);return xt===-1?this:(qe.pipes.splice(xt,1),qe.pipes.length===0&&this.pause(),Ie.emit("unpipe",this,wt),this)},nt.prototype.on=function(Ie,qe){const wt=_.prototype.on.call(this,Ie,qe),xt=this._readableState;return Ie==="data"?(xt.readableListening=this.listenerCount("readable")>0,xt.flowing!==!1&&this.resume()):Ie==="readable"&&!xt.endEmitted&&!xt.readableListening&&(xt.readableListening=xt.needReadable=!0,xt.flowing=!1,xt.emittedReadable=!1,A("on readable",xt.length,xt.reading),xt.length?G(this):xt.reading||t.nextTick(Pt,this)),wt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Ie,qe){const wt=_.prototype.removeListener.call(this,Ie,qe);return Ie==="readable"&&t.nextTick(At,this),wt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Ie){const qe=_.prototype.removeAllListeners.apply(this,arguments);return(Ie==="readable"||Ie===void 0)&&t.nextTick(At,this),qe};function At(Ie){const qe=Ie._readableState;qe.readableListening=Ie.listenerCount("readable")>0,qe.resumeScheduled&&qe[ve]===!1?qe.flowing=!0:Ie.listenerCount("data")>0?Ie.resume():qe.readableListening||(qe.flowing=null)}function Pt(Ie){A("readable nexttick read 0"),Ie.read(0)}nt.prototype.resume=function(){const Ie=this._readableState;return Ie.flowing||(A("resume"),Ie.flowing=!Ie.readableListening,kt(this,Ie)),Ie[ve]=!1,this};function kt(Ie,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,t.nextTick(Rt,Ie,qe))}function Rt(Ie,qe){A("resume",qe.reading),qe.reading||Ie.read(0),qe.resumeScheduled=!1,Ie.emit("resume"),Bt(Ie),qe.flowing&&!qe.reading&&Ie.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ve]=!0,this};function Bt(Ie){const qe=Ie._readableState;for(A("flow",qe.flowing);qe.flowing&&Ie.read()!==null;);}nt.prototype.wrap=function(Ie){let qe=!1;Ie.on("data",xt=>{!this.push(xt)&&Ie.pause&&(qe=!0,Ie.pause())}),Ie.on("end",()=>{this.push(null)}),Ie.on("error",xt=>{D(this,xt)}),Ie.on("close",()=>{this.destroy()}),Ie.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Ie.resume&&(qe=!1,Ie.resume())};const wt=s(Ie);for(let xt=1;xt<wt.length;xt++){const It=wt[xt];this[It]===void 0&&typeof Ie[It]=="function"&&(this[It]=Ie[It].bind(Ie))}return this},nt.prototype[p]=function(){return Er(this)},nt.prototype.iterator=function(Ie){return Ie!==void 0&&me(Ie,"options"),Er(this,Ie)};function Er(Ie,qe){typeof Ie.read!="function"&&(Ie=nt.wrap(Ie,{objectMode:!0}));const wt=fn(Ie,qe);return wt.stream=Ie,wt}async function*fn(Ie,qe){let wt=Oe;function xt(Jn){this===Ie?(wt(),wt=Oe):wt=Jn}Ie.on("readable",xt);let It;const Bn=b(Ie,{writable:!1},Jn=>{It=Jn?B(It,Jn):null,wt(),wt=Oe});try{for(;;){const Jn=Ie.destroyed?null:Ie.read();if(Jn!==null)yield Jn;else{if(It)throw It;if(It===null)return;await new l(xt)}}}catch(Jn){throw It=B(It,Jn),It}finally{(It||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(It===void 0||Ie._readableState.autoDestroy)?M.destroyer(Ie,null):(Ie.off("readable",xt),Bn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Ie=this._readableState;return!!Ie&&Ie.readable!==!1&&!Ie.destroyed&&!Ie.errorEmitted&&!Ie.endEmitted},set(Ie){this._readableState&&(this._readableState.readable=!!Ie)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ie){this._readableState&&(this._readableState.flowing=Ie)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Ie){this._readableState&&(this._readableState.destroyed=Ie)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ve]!==!1},set(Ie){this[ve]=!!Ie}}}),nt._fromList=dn;function dn(Ie,qe){if(qe.length===0)return null;let wt;return qe.objectMode?wt=qe.buffer.shift():!Ie||Ie>=qe.length?(qe.decoder?wt=qe.buffer.join(""):qe.buffer.length===1?wt=qe.buffer.first():wt=qe.buffer.concat(qe.length),qe.buffer.clear()):wt=qe.buffer.consume(Ie,qe.decoder),wt}function dr(Ie){const qe=Ie._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,t.nextTick(on,qe,Ie))}function on(Ie,qe){if(A("endReadableNT",Ie.endEmitted,Ie.length),!Ie.errored&&!Ie.closeEmitted&&!Ie.endEmitted&&Ie.length===0){if(Ie.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)t.nextTick(un,qe);else if(Ie.autoDestroy){const wt=qe._writableState;(!wt||wt.autoDestroy&&(wt.finished||wt.writable===!1))&&qe.destroy()}}}function un(Ie){Ie.writable&&!Ie.writableEnded&&!Ie.destroyed&&Ie.end()}nt.from=function(Ie,qe){return ue(nt,Ie,qe)};let In;function sr(){return In===void 0&&(In={}),In}return nt.fromWeb=function(Ie,qe){return sr().newStreamReadableFromReadableStream(Ie,qe)},nt.toWeb=function(Ie,qe){return sr().newReadableStreamFromStreamReadable(Ie,qe)},nt.wrap=function(Ie,qe){var wt,xt;return new nt({objectMode:(wt=(xt=Ie.readableObjectMode)!==null&&xt!==void 0?xt:Ie.objectMode)!==null&&wt!==void 0?wt:!0,...qe,destroy(It,Bn){M.destroyer(Ie,It),Bn(It)}}).wrap(Ie)},U1}var B1,IM;function BA(){if(IM)return B1;IM=1;const t=Qc(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:f}=jr();B1=me,me.WritableState=Y;const{EventEmitter:h}=$d(),p=UA().Stream,{Buffer:m}=fu(),y=Bd(),{addAbortSignal:_}=x0(),{getHighWaterMark:x,getDefaultHighWaterMark:E}=E0(),{ERR_INVALID_ARG_TYPE:S,ERR_METHOD_NOT_IMPLEMENTED:b,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:k,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:B,ERR_UNKNOWN_ENCODING:ee}=Ea().codes,{errorOrDestroy:U}=y;s(me.prototype,p.prototype),s(me,p);function J(){}const le=l("kOnFinished");function Y($,re,W){typeof W!="boolean"&&(W=re instanceof ou()),this.objectMode=!!($&&$.objectMode),W&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?x(this,$,"writableHighWaterMark",W):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const pe=!!($&&$.decodeStrings===!1);this.decodeStrings=!pe,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=D.bind(void 0,re),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,se(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[le]=[]}function se($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}Y.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(Y.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function me($){const re=this instanceof ou();if(!re&&!r(me,this))return new me($);this._writableState=new Y($,this,re),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&_($.signal,this)),p.call(this,$),y.construct(this,()=>{const W=this._writableState;W.writing||Z(this,W),Te(this,W)})}i(me,f,{__proto__:null,value:function($){return r(this,$)?!0:this!==me?!1:$&&$._writableState instanceof Y}}),me.prototype.pipe=function(){U(this,new k)};function ve($,re,W,pe){const ye=$._writableState;if(typeof W=="function")pe=W,W=ye.defaultEncoding;else{if(!W)W=ye.defaultEncoding;else if(W!=="buffer"&&!m.isEncoding(W))throw new ee(W);typeof pe!="function"&&(pe=J)}if(re===null)throw new F;if(!ye.objectMode)if(typeof re=="string")ye.decodeStrings!==!1&&(re=m.from(re,W),W="buffer");else if(re instanceof m)W="buffer";else if(p._isUint8Array(re))re=p._uint8ArrayToBuffer(re),W="buffer";else throw new S("chunk",["string","Buffer","Uint8Array"],re);let ze;return ye.ending?ze=new B:ye.destroyed&&(ze=new M("write")),ze?(t.nextTick(pe,ze),U($,ze,!0),ze):(ye.pendingcb++,fe($,ye,re,W,pe))}me.prototype.write=function($,re,W){return ve(this,$,re,W)===!0},me.prototype.cork=function(){this._writableState.corked++},me.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||Z(this,$))},me.prototype.setDefaultEncoding=function(re){if(typeof re=="string"&&(re=o(re)),!m.isEncoding(re))throw new ee(re);return this._writableState.defaultEncoding=re,this};function fe($,re,W,pe,ye){const ze=re.objectMode?1:W.length;re.length+=ze;const Ce=re.length<re.highWaterMark;return Ce||(re.needDrain=!0),re.writing||re.corked||re.errored||!re.constructed?(re.buffered.push({chunk:W,encoding:pe,callback:ye}),re.allBuffers&&pe!=="buffer"&&(re.allBuffers=!1),re.allNoop&&ye!==J&&(re.allNoop=!1)):(re.writelen=ze,re.writecb=ye,re.writing=!0,re.sync=!0,$._write(W,pe,re.onwrite),re.sync=!1),Ce&&!re.errored&&!re.destroyed}function ue($,re,W,pe,ye,ze,Ce){re.writelen=pe,re.writecb=Ce,re.writing=!0,re.sync=!0,re.destroyed?re.onwrite(new M("write")):W?$._writev(ye,re.onwrite):$._write(ye,ze,re.onwrite),re.sync=!1}function Oe($,re,W,pe){--re.pendingcb,pe(W),V(re),U($,W)}function D($,re){const W=$._writableState,pe=W.sync,ye=W.writecb;if(typeof ye!="function"){U($,new A);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,re?(re.stack,W.errored||(W.errored=re),$._readableState&&!$._readableState.errored&&($._readableState.errored=re),pe?t.nextTick(Oe,$,W,re,ye):Oe($,W,re,ye)):(W.buffered.length>W.bufferedIndex&&Z($,W),pe?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===ye?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:ye,stream:$,state:W},t.nextTick(X,W.afterWriteTickInfo)):ce($,W,1,ye))}function X({stream:$,state:re,count:W,cb:pe}){return re.afterWriteTickInfo=null,ce($,re,W,pe)}function ce($,re,W,pe){for(!re.ending&&!$.destroyed&&re.length===0&&re.needDrain&&(re.needDrain=!1,$.emit("drain"));W-- >0;)re.pendingcb--,pe();re.destroyed&&V(re),Te($,re)}function V($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var re;const{chunk:ze,callback:Ce}=$.buffered[ye],Fe=$.objectMode?1:ze.length;$.length-=Fe,Ce((re=$.errored)!==null&&re!==void 0?re:new M("write"))}const W=$[le].splice(0);for(let ye=0;ye<W.length;ye++){var pe;W[ye]((pe=$.errored)!==null&&pe!==void 0?pe:new M("end"))}se($)}function Z($,re){if(re.corked||re.bufferProcessing||re.destroyed||!re.constructed)return;const{buffered:W,bufferedIndex:pe,objectMode:ye}=re,ze=W.length-pe;if(!ze)return;let Ce=pe;if(re.bufferProcessing=!0,ze>1&&$._writev){re.pendingcb-=ze-1;const Fe=re.allNoop?J:nt=>{for(let gt=Ce;gt<W.length;++gt)W[gt].callback(nt)},tt=re.allNoop&&Ce===0?W:e(W,Ce);tt.allBuffers=re.allBuffers,ue($,re,!0,re.length,tt,"",Fe),se(re)}else{do{const{chunk:Fe,encoding:tt,callback:nt}=W[Ce];W[Ce++]=null;const gt=ye?1:Fe.length;ue($,re,!1,gt,Fe,tt,nt)}while(Ce<W.length&&!re.writing);Ce===W.length?se(re):Ce>256?(W.splice(0,Ce),re.bufferedIndex=0):re.bufferedIndex=Ce}re.bufferProcessing=!1}me.prototype._write=function($,re,W){if(this._writev)this._writev([{chunk:$,encoding:re}],W);else throw new b("_write()")},me.prototype._writev=null,me.prototype.end=function($,re,W){const pe=this._writableState;typeof $=="function"?(W=$,$=null,re=null):typeof re=="function"&&(W=re,re=null);let ye;if($!=null){const ze=ve(this,$,re);ze instanceof n&&(ye=ze)}return pe.corked&&(pe.corked=1,this.uncork()),ye||(!pe.errored&&!pe.ending?(pe.ending=!0,Te(this,pe,!0),pe.ended=!0):pe.finished?ye=new I("end"):pe.destroyed&&(ye=new M("end"))),typeof W=="function"&&(ye||pe.finished?t.nextTick(W,ye):pe[le].push(W)),this};function he($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function xe($,re){let W=!1;function pe(ye){if(W){U($,ye??A());return}if(W=!0,re.pendingcb--,ye){const ze=re[le].splice(0);for(let Ce=0;Ce<ze.length;Ce++)ze[Ce](ye);U($,ye,re.sync)}else he(re)&&(re.prefinished=!0,$.emit("prefinish"),re.pendingcb++,t.nextTick(Me,$,re))}re.sync=!0,re.pendingcb++;try{$._final(pe)}catch(ye){pe(ye)}re.sync=!1}function Ve($,re){!re.prefinished&&!re.finalCalled&&(typeof $._final=="function"&&!re.destroyed?(re.finalCalled=!0,xe($,re)):(re.prefinished=!0,$.emit("prefinish")))}function Te($,re,W){he(re)&&(Ve($,re),re.pendingcb===0&&(W?(re.pendingcb++,t.nextTick((pe,ye)=>{he(ye)?Me(pe,ye):ye.pendingcb--},$,re)):he(re)&&(re.pendingcb++,Me($,re))))}function Me($,re){re.pendingcb--,re.finished=!0;const W=re[le].splice(0);for(let pe=0;pe<W.length;pe++)W[pe]();if($.emit("finish"),re.autoDestroy){const pe=$._readableState;(!pe||pe.autoDestroy&&(pe.endEmitted||pe.readable===!1))&&$.destroy()}}a(me.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Ze=y.destroy;me.prototype.destroy=function($,re){const W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[le].length)&&t.nextTick(V,W),Ze.call(this,$,re),this},me.prototype._undestroy=y.undestroy,me.prototype._destroy=function($,re){re($)},me.prototype[h.captureRejectionSymbol]=function($){this.destroy($)};let ie;function z(){return ie===void 0&&(ie={}),ie}return me.fromWeb=function($,re){return z().newStreamWritableFromWritableStream($,re)},me.toWeb=function($){return z().newWritableStreamFromStreamWritable($)},B1}var q1,LM;function hJ(){if(LM)return q1;LM=1;const t=Qc(),e=fu(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:s,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:f,isWritableStream:h}=du(),p=xl(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:_}}=Ea(),{destroyer:x}=Bd(),E=ou(),S=T0(),b=BA(),{createDeferredPromise:A}=oa(),k=z5(),M=globalThis.Blob||e.Blob,I=typeof M<"u"?function(Y){return Y instanceof M}:function(Y){return!1},F=globalThis.AbortController||Mg().AbortController,{FunctionPrototypeCall:B}=jr();class ee extends E{constructor(Y){super(Y),(Y==null?void 0:Y.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(Y==null?void 0:Y.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}q1=function le(Y,se){if(l(Y))return Y;if(s(Y))return J({readable:Y});if(o(Y))return J({writable:Y});if(a(Y))return J({writable:!1,readable:!1});if(f(Y))return J({readable:S.fromWeb(Y)});if(h(Y))return J({writable:b.fromWeb(Y)});if(typeof Y=="function"){const{value:ve,write:fe,final:ue,destroy:Oe}=U(Y);if(i(ve))return k(ee,ve,{objectMode:!0,write:fe,final:ue,destroy:Oe});const D=ve==null?void 0:ve.then;if(typeof D=="function"){let X;const ce=B(D,ve,V=>{if(V!=null)throw new _("nully","body",V)},V=>{x(X,V)});return X=new ee({objectMode:!0,readable:!1,write:fe,final(V){ue(async()=>{try{await ce,t.nextTick(V,null)}catch(Z){t.nextTick(V,Z)}})},destroy:Oe})}throw new _("Iterable, AsyncIterable or AsyncFunction",se,ve)}if(I(Y))return le(Y.arrayBuffer());if(i(Y))return k(ee,Y,{objectMode:!0,writable:!1});if(f(Y==null?void 0:Y.readable)&&h(Y==null?void 0:Y.writable))return ee.fromWeb(Y);if(typeof(Y==null?void 0:Y.writable)=="object"||typeof(Y==null?void 0:Y.readable)=="object"){const ve=Y!=null&&Y.readable?s(Y==null?void 0:Y.readable)?Y==null?void 0:Y.readable:le(Y.readable):void 0,fe=Y!=null&&Y.writable?o(Y==null?void 0:Y.writable)?Y==null?void 0:Y.writable:le(Y.writable):void 0;return J({readable:ve,writable:fe})}const me=Y==null?void 0:Y.then;if(typeof me=="function"){let ve;return B(me,Y,fe=>{fe!=null&&ve.push(fe),ve.push(null)},fe=>{x(ve,fe)}),ve=new ee({objectMode:!0,writable:!1,read(){}})}throw new y(se,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],Y)};function U(le){let{promise:Y,resolve:se}=A();const me=new F,ve=me.signal;return{value:le(async function*(){for(;;){const ue=Y;Y=null;const{chunk:Oe,done:D,cb:X}=await ue;if(t.nextTick(X),D)return;if(ve.aborted)throw new m(void 0,{cause:ve.reason});({promise:Y,resolve:se}=A()),yield Oe}}(),{signal:ve}),write(ue,Oe,D){const X=se;se=null,X({chunk:ue,done:!1,cb:D})},final(ue){const Oe=se;se=null,Oe({done:!0,cb:ue})},destroy(ue,Oe){me.abort(),Oe(ue)}}}function J(le){const Y=le.readable&&typeof le.readable.read!="function"?S.wrap(le.readable):le.readable,se=le.writable;let me=!!n(Y),ve=!!r(se),fe,ue,Oe,D,X;function ce(V){const Z=D;D=null,Z?Z(V):V&&X.destroy(V)}return X=new ee({readableObjectMode:!!(Y!=null&&Y.readableObjectMode),writableObjectMode:!!(se!=null&&se.writableObjectMode),readable:me,writable:ve}),ve&&(p(se,V=>{ve=!1,V&&x(Y,V),ce(V)}),X._write=function(V,Z,he){se.write(V,Z)?he():fe=he},X._final=function(V){se.end(),ue=V},se.on("drain",function(){if(fe){const V=fe;fe=null,V()}}),se.on("finish",function(){if(ue){const V=ue;ue=null,V()}})),me&&(p(Y,V=>{me=!1,V&&x(Y,V),ce(V)}),Y.on("readable",function(){if(Oe){const V=Oe;Oe=null,V()}}),Y.on("end",function(){X.push(null)}),X._read=function(){for(;;){const V=Y.read();if(V===null){Oe=X._read;return}if(!X.push(V))return}}),X._destroy=function(V,Z){!V&&D!==null&&(V=new m),Oe=null,fe=null,ue=null,D===null?Z(V):(D=Z,x(se,V),x(Y,V))},X}return q1}var H1,MM;function ou(){if(MM)return H1;MM=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=jr();H1=s;const i=T0(),a=BA();r(s.prototype,i.prototype),r(s,i);{const h=n(a.prototype);for(let p=0;p<h.length;p++){const m=h[p];s.prototype[m]||(s.prototype[m]=a.prototype[m])}}function s(h){if(!(this instanceof s))return new s(h);i.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let o;function l(){return o===void 0&&(o={}),o}s.fromWeb=function(h,p){return l().newStreamDuplexFromReadableWritablePair(h,p)},s.toWeb=function(h){return l().newReadableWritablePairFromDuplex(h)};let f;return s.from=function(h){return f||(f=hJ()),f(h,"body")},H1}var z1,kM;function V5(){if(kM)return z1;kM=1;const{ObjectSetPrototypeOf:t,Symbol:e}=jr();z1=s;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Ea().codes,r=ou(),{getHighWaterMark:i}=E0();t(s.prototype,r.prototype),t(s,r);const a=e("kCallback");function s(f){if(!(this instanceof s))return new s(f);const h=f?i(this,f,"readableHighWaterMark",!0):null;h===0&&(f={...f,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:f.writableHighWaterMark||0}),r.call(this,f),this._readableState.sync=!1,this[a]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function o(f){typeof this._flush=="function"&&!this.destroyed?this._flush((h,p)=>{if(h){f?f(h):this.destroy(h);return}p!=null&&this.push(p),this.push(null),f&&f()}):(this.push(null),f&&f())}function l(){this._final!==o&&o.call(this)}return s.prototype._final=o,s.prototype._transform=function(f,h,p){throw new n("_transform()")},s.prototype._write=function(f,h,p){const m=this._readableState,y=this._writableState,_=m.length;this._transform(f,h,(x,E)=>{if(x){p(x);return}E!=null&&this.push(E),y.ended||_===m.length||m.length<m.highWaterMark?p():this[a]=p})},s.prototype._read=function(){if(this[a]){const f=this[a];this[a]=null,f()}},z1}var V1,DM;function K5(){if(DM)return V1;DM=1;const{ObjectSetPrototypeOf:t}=jr();V1=n;const e=V5();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},V1}var K1,NM;function qA(){if(NM)return K1;NM=1;const t=Qc(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=jr(),a=xl(),{once:s}=oa(),o=Bd(),l=ou(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:_},AbortError:x}=Ea(),{validateFunction:E,validateAbortSignal:S}=um(),{isIterable:b,isReadable:A,isReadableNodeStream:k,isNodeStream:M,isTransformStream:I,isWebStream:F,isReadableStream:B,isReadableFinished:ee}=du(),U=globalThis.AbortController||Mg().AbortController;let J,le,Y;function se(V,Z,he){let xe=!1;V.on("close",()=>{xe=!0});const Ve=a(V,{readable:Z,writable:he},Te=>{xe=!Te});return{destroy:Te=>{xe||(xe=!0,o.destroyer(V,Te||new y("pipe")))},cleanup:Ve}}function me(V){return E(V[V.length-1],"streams[stream.length - 1]"),V.pop()}function ve(V){if(b(V))return V;if(k(V))return fe(V);throw new h("val",["Readable","Iterable","AsyncIterable"],V)}async function*fe(V){le||(le=T0()),yield*le.prototype[r].call(V)}async function ue(V,Z,he,{end:xe}){let Ve,Te=null;const Me=z=>{if(z&&(Ve=z),Te){const $=Te;Te=null,$()}},Ze=()=>new n((z,$)=>{Ve?$(Ve):Te=()=>{Ve?$(Ve):z()}});Z.on("drain",Me);const ie=a(Z,{readable:!1},Me);try{Z.writableNeedDrain&&await Ze();for await(const z of V)Z.write(z)||await Ze();xe&&(Z.end(),await Ze()),he()}catch(z){he(Ve!==z?f(Ve,z):z)}finally{ie(),Z.off("drain",Me)}}async function Oe(V,Z,he,{end:xe}){I(Z)&&(Z=Z.writable);const Ve=Z.getWriter();try{for await(const Te of V)await Ve.ready,Ve.write(Te).catch(()=>{});await Ve.ready,xe&&await Ve.close(),he()}catch(Te){try{await Ve.abort(Te),he(Te)}catch(Me){he(Me)}}}function D(...V){return X(V,s(me(V)))}function X(V,Z,he){if(V.length===1&&e(V[0])&&(V=V[0]),V.length<2)throw new m("streams");const xe=new U,Ve=xe.signal,Te=he==null?void 0:he.signal,Me=[];S(Te,"options.signal");function Ze(){ye(new x)}Y=Y||oa().addAbortListener;let ie;Te&&(ie=Y(Te,Ze));let z,$;const re=[];let W=0;function pe(nt){ye(nt,--W===0)}function ye(nt,gt){var Ut;if(nt&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z=nt),!(!z&&!gt)){for(;re.length;)re.shift()(z);(Ut=ie)===null||Ut===void 0||Ut[i](),xe.abort(),gt&&(z||Me.forEach(Se=>Se()),t.nextTick(Z,z,$))}}let ze;for(let nt=0;nt<V.length;nt++){const gt=V[nt],Ut=nt<V.length-1,Se=nt>0,Be=Ut||(he==null?void 0:he.end)!==!1,te=nt===V.length-1;if(M(gt)){let H=function(G){G&&G.name!=="AbortError"&&G.code!=="ERR_STREAM_PREMATURE_CLOSE"&&pe(G)};var tt=H;if(Be){const{destroy:G,cleanup:K}=se(gt,Ut,Se);re.push(G),A(gt)&&te&&Me.push(K)}gt.on("error",H),A(gt)&&te&&Me.push(()=>{gt.removeListener("error",H)})}if(nt===0)if(typeof gt=="function"){if(ze=gt({signal:Ve}),!b(ze))throw new p("Iterable, AsyncIterable or Stream","source",ze)}else b(gt)||k(gt)||I(gt)?ze=gt:ze=l.from(gt);else if(typeof gt=="function"){if(I(ze)){var Ce;ze=ve((Ce=ze)===null||Ce===void 0?void 0:Ce.readable)}else ze=ve(ze);if(ze=gt(ze,{signal:Ve}),Ut){if(!b(ze,!0))throw new p("AsyncIterable",`transform[${nt-1}]`,ze)}else{var Fe;J||(J=K5());const H=new J({objectMode:!0}),G=(Fe=ze)===null||Fe===void 0?void 0:Fe.then;if(typeof G=="function")W++,G.call(ze,Ye=>{$=Ye,Ye!=null&&H.write(Ye),Be&&H.end(),t.nextTick(pe)},Ye=>{H.destroy(Ye),t.nextTick(pe,Ye)});else if(b(ze,!0))W++,ue(ze,H,pe,{end:Be});else if(B(ze)||I(ze)){const Ye=ze.readable||ze;W++,ue(Ye,H,pe,{end:Be})}else throw new p("AsyncIterable or Promise","destination",ze);ze=H;const{destroy:K,cleanup:je}=se(ze,!1,!0);re.push(K),te&&Me.push(je)}}else if(M(gt)){if(k(ze)){W+=2;const H=ce(ze,gt,pe,{end:Be});A(gt)&&te&&Me.push(H)}else if(I(ze)||B(ze)){const H=ze.readable||ze;W++,ue(H,gt,pe,{end:Be})}else if(b(ze))W++,ue(ze,gt,pe,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ze);ze=gt}else if(F(gt)){if(k(ze))W++,Oe(ve(ze),gt,pe,{end:Be});else if(B(ze)||b(ze))W++,Oe(ze,gt,pe,{end:Be});else if(I(ze))W++,Oe(ze.readable,gt,pe,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],ze);ze=gt}else ze=l.from(gt)}return(Ve!=null&&Ve.aborted||Te!=null&&Te.aborted)&&t.nextTick(Ze),ze}function ce(V,Z,he,{end:xe}){let Ve=!1;if(Z.on("close",()=>{Ve||he(new _)}),V.pipe(Z,{end:!1}),xe){let Me=function(){Ve=!0,Z.end()};var Te=Me;ee(V)?t.nextTick(Me):V.once("end",Me)}else he();return a(V,{readable:!0,writable:!1},Me=>{const Ze=V._readableState;Me&&Me.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ze&&Ze.ended&&!Ze.errored&&!Ze.errorEmitted?V.once("end",he).once("error",he):he(Me)}),a(Z,{readable:!1,writable:!0},he)}return K1={pipelineImpl:X,pipeline:D},K1}var G1,FM;function G5(){if(FM)return G1;FM=1;const{pipeline:t}=qA(),e=ou(),{destroyer:n}=Bd(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:s,isTransformStream:o,isWritableStream:l,isReadableStream:f}=du(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=Ea(),y=xl();return G1=function(...x){if(x.length===0)throw new m("streams");if(x.length===1)return e.from(x[0]);const E=[...x];if(typeof x[0]=="function"&&(x[0]=e.from(x[0])),typeof x[x.length-1]=="function"){const J=x.length-1;x[J]=e.from(x[J])}for(let J=0;J<x.length;++J)if(!(!r(x[J])&&!s(x[J]))){if(J<x.length-1&&!(i(x[J])||f(x[J])||o(x[J])))throw new p(`streams[${J}]`,E[J],"must be readable");if(J>0&&!(a(x[J])||l(x[J])||o(x[J])))throw new p(`streams[${J}]`,E[J],"must be writable")}let S,b,A,k,M;function I(J){const le=k;k=null,le?le(J):J?M.destroy(J):!U&&!ee&&M.destroy()}const F=x[0],B=t(x,I),ee=!!(a(F)||l(F)||o(F)),U=!!(i(B)||f(B)||o(B));if(M=new e({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(B!=null&&B.readableObjectMode),writable:ee,readable:U}),ee){if(r(F))M._write=function(le,Y,se){F.write(le,Y)?se():S=se},M._final=function(le){F.end(),b=le},F.on("drain",function(){if(S){const le=S;S=null,le()}});else if(s(F)){const Y=(o(F)?F.writable:F).getWriter();M._write=async function(se,me,ve){try{await Y.ready,Y.write(se).catch(()=>{}),ve()}catch(fe){ve(fe)}},M._final=async function(se){try{await Y.ready,Y.close().catch(()=>{}),b=se}catch(me){se(me)}}}const J=o(B)?B.readable:B;y(J,()=>{if(b){const le=b;b=null,le()}})}if(U){if(r(B))B.on("readable",function(){if(A){const J=A;A=null,J()}}),B.on("end",function(){M.push(null)}),M._read=function(){for(;;){const J=B.read();if(J===null){A=M._read;return}if(!M.push(J))return}};else if(s(B)){const le=(o(B)?B.readable:B).getReader();M._read=async function(){for(;;)try{const{value:Y,done:se}=await le.read();if(!M.push(Y))return;if(se){M.push(null);return}}catch{return}}}}return M._destroy=function(J,le){!J&&k!==null&&(J=new h),A=null,S=null,b=null,k===null?le(J):(k=le,r(B)&&n(B,J))},M},G1}var jM;function pJ(){if(jM)return Qy;jM=1;const t=globalThis.AbortController||Mg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Ea(),{validateAbortSignal:s,validateInteger:o,validateObject:l}=um(),f=jr().Symbol("kWeak"),h=jr().Symbol("kResistStopPropagation"),{finished:p}=xl(),m=G5(),{addAbortSignalNoValidate:y}=x0(),{isWritable:_,isNodeStream:x}=du(),{deprecate:E}=oa(),{ArrayPrototypePush:S,Boolean:b,MathFloor:A,Number:k,NumberIsNaN:M,Promise:I,PromiseReject:F,PromiseResolve:B,PromisePrototypeThen:ee,Symbol:U}=jr(),J=U("kEmpty"),le=U("kEof");function Y(Te,Me){if(Me!=null&&l(Me,"options"),(Me==null?void 0:Me.signal)!=null&&s(Me.signal,"options.signal"),x(Te)&&!_(Te))throw new e("stream",Te,"must be writable");const Ze=m(this,Te);return Me!=null&&Me.signal&&y(Me.signal,Ze),Ze}function se(Te,Me){if(typeof Te!="function")throw new n("fn",["Function","AsyncFunction"],Te);Me!=null&&l(Me,"options"),(Me==null?void 0:Me.signal)!=null&&s(Me.signal,"options.signal");let Ze=1;(Me==null?void 0:Me.concurrency)!=null&&(Ze=A(Me.concurrency));let ie=Ze-1;return(Me==null?void 0:Me.highWaterMark)!=null&&(ie=A(Me.highWaterMark)),o(Ze,"options.concurrency",1),o(ie,"options.highWaterMark",0),ie+=Ze,(async function*(){const $=oa().AbortSignalAny([Me==null?void 0:Me.signal].filter(b)),re=this,W=[],pe={signal:$};let ye,ze,Ce=!1,Fe=0;function tt(){Ce=!0,nt()}function nt(){Fe-=1,gt()}function gt(){ze&&!Ce&&Fe<Ze&&W.length<ie&&(ze(),ze=null)}async function Ut(){try{for await(let Se of re){if(Ce)return;if($.aborted)throw new a;try{if(Se=Te(Se,pe),Se===J)continue;Se=B(Se)}catch(Be){Se=F(Be)}Fe+=1,ee(Se,nt,tt),W.push(Se),ye&&(ye(),ye=null),!Ce&&(W.length>=ie||Fe>=Ze)&&await new I(Be=>{ze=Be})}W.push(le)}catch(Se){const Be=F(Se);ee(Be,nt,tt),W.push(Be)}finally{Ce=!0,ye&&(ye(),ye=null)}}Ut();try{for(;;){for(;W.length>0;){const Se=await W[0];if(Se===le)return;if($.aborted)throw new a;Se!==J&&(yield Se),W.shift(),gt()}await new I(Se=>{ye=Se})}}finally{Ce=!0,ze&&(ze(),ze=null)}}).call(this)}function me(Te=void 0){return Te!=null&&l(Te,"options"),(Te==null?void 0:Te.signal)!=null&&s(Te.signal,"options.signal"),(async function*(){let Ze=0;for await(const z of this){var ie;if(Te!=null&&(ie=Te.signal)!==null&&ie!==void 0&&ie.aborted)throw new a({cause:Te.signal.reason});yield[Ze++,z]}}).call(this)}async function ve(Te,Me=void 0){for await(const Ze of D.call(this,Te,Me))return!0;return!1}async function fe(Te,Me=void 0){if(typeof Te!="function")throw new n("fn",["Function","AsyncFunction"],Te);return!await ve.call(this,async(...Ze)=>!await Te(...Ze),Me)}async function ue(Te,Me){for await(const Ze of D.call(this,Te,Me))return Ze}async function Oe(Te,Me){if(typeof Te!="function")throw new n("fn",["Function","AsyncFunction"],Te);async function Ze(ie,z){return await Te(ie,z),J}for await(const ie of se.call(this,Ze,Me));}function D(Te,Me){if(typeof Te!="function")throw new n("fn",["Function","AsyncFunction"],Te);async function Ze(ie,z){return await Te(ie,z)?ie:J}return se.call(this,Ze,Me)}class X extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function ce(Te,Me,Ze){var ie;if(typeof Te!="function")throw new n("reducer",["Function","AsyncFunction"],Te);Ze!=null&&l(Ze,"options"),(Ze==null?void 0:Ze.signal)!=null&&s(Ze.signal,"options.signal");let z=arguments.length>1;if(Ze!=null&&(ie=Ze.signal)!==null&&ie!==void 0&&ie.aborted){const ye=new a(void 0,{cause:Ze.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(ye)),ye}const $=new t,re=$.signal;if(Ze!=null&&Ze.signal){const ye={once:!0,[f]:this,[h]:!0};Ze.signal.addEventListener("abort",()=>$.abort(),ye)}let W=!1;try{for await(const ye of this){var pe;if(W=!0,Ze!=null&&(pe=Ze.signal)!==null&&pe!==void 0&&pe.aborted)throw new a;z?Me=await Te(Me,ye,{signal:re}):(Me=ye,z=!0)}if(!W&&!z)throw new X}finally{$.abort()}return Me}async function V(Te){Te!=null&&l(Te,"options"),(Te==null?void 0:Te.signal)!=null&&s(Te.signal,"options.signal");const Me=[];for await(const ie of this){var Ze;if(Te!=null&&(Ze=Te.signal)!==null&&Ze!==void 0&&Ze.aborted)throw new a(void 0,{cause:Te.signal.reason});S(Me,ie)}return Me}function Z(Te,Me){const Ze=se.call(this,Te,Me);return(async function*(){for await(const z of Ze)yield*z}).call(this)}function he(Te){if(Te=k(Te),M(Te))return 0;if(Te<0)throw new i("number",">= 0",Te);return Te}function xe(Te,Me=void 0){return Me!=null&&l(Me,"options"),(Me==null?void 0:Me.signal)!=null&&s(Me.signal,"options.signal"),Te=he(Te),(async function*(){var ie;if(Me!=null&&(ie=Me.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(const $ of this){var z;if(Me!=null&&(z=Me.signal)!==null&&z!==void 0&&z.aborted)throw new a;Te--<=0&&(yield $)}}).call(this)}function Ve(Te,Me=void 0){return Me!=null&&l(Me,"options"),(Me==null?void 0:Me.signal)!=null&&s(Me.signal,"options.signal"),Te=he(Te),(async function*(){var ie;if(Me!=null&&(ie=Me.signal)!==null&&ie!==void 0&&ie.aborted)throw new a;for await(const $ of this){var z;if(Me!=null&&(z=Me.signal)!==null&&z!==void 0&&z.aborted)throw new a;if(Te-- >0&&(yield $),Te<=0)return}}).call(this)}return Qy.streamReturningOperators={asIndexedPairs:E(me,"readable.asIndexedPairs will be removed in a future version."),drop:xe,filter:D,flatMap:Z,map:se,take:Ve,compose:Y},Qy.promiseReturningOperators={every:fe,forEach:Oe,reduce:ce,toArray:V,some:ve,find:ue},Qy}var W1,$M;function W5(){if($M)return W1;$M=1;const{ArrayPrototypePop:t,Promise:e}=jr(),{isIterable:n,isNodeStream:r,isWebStream:i}=du(),{pipelineImpl:a}=qA(),{finished:s}=xl();Q5();function o(...l){return new e((f,h)=>{let p,m;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const _=t(l);p=_.signal,m=_.end}a(l,(_,x)=>{_?h(_):f(x)},{signal:p,end:m})})}return W1={finished:s,pipeline:o},W1}var UM;function Q5(){if(UM)return T1.exports;UM=1;const{Buffer:t}=fu(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=jr(),{promisify:{custom:i}}=oa(),{streamReturningOperators:a,promiseReturningOperators:s}=pJ(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=Ea(),l=G5(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:h}=E0(),{pipeline:p}=qA(),{destroyer:m}=Bd(),y=xl(),_=W5(),x=du(),E=T1.exports=UA().Stream;E.isDestroyed=x.isDestroyed,E.isDisturbed=x.isDisturbed,E.isErrored=x.isErrored,E.isReadable=x.isReadable,E.isWritable=x.isWritable,E.Readable=T0();for(const A of n(a)){let M=function(...I){if(new.target)throw o();return E.Readable.from(r(k,this,I))};var b=M;const k=a[A];e(M,"name",{__proto__:null,value:k.name}),e(M,"length",{__proto__:null,value:k.length}),e(E.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(s)){let M=function(...F){if(new.target)throw o();return r(k,this,F)};var b=M;const k=s[A];e(M,"name",{__proto__:null,value:k.name}),e(M,"length",{__proto__:null,value:k.length}),e(E.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}E.Writable=BA(),E.Duplex=ou(),E.Transform=V5(),E.PassThrough=K5(),E.pipeline=p;const{addAbortSignal:S}=x0();return E.addAbortSignal=S,E.finished=y,E.destroy=m,E.compose=l,E.setDefaultHighWaterMark=f,E.getDefaultHighWaterMark=h,e(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return _}}),e(p,i,{__proto__:null,enumerable:!0,get(){return _.pipeline}}),e(y,i,{__proto__:null,enumerable:!0,get(){return _.finished}}),E.Stream=E,E._isUint8Array=function(k){return k instanceof Uint8Array},E._uint8ArrayToBuffer=function(k){return t.from(k.buffer,k.byteOffset,k.byteLength)},T1.exports}var BM;function Z5(){return BM||(BM=1,function(t){const e=Q5(),n=W5(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(E1)),E1.exports}var qd=Z5();let co=class{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||_l,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,i=e.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Ec(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(Td(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ra(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Td(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:ra(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,n,r,i){const a=e[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,s,o,l){let f,h,p;const m=this._entities,y=this._termFromId(l,this._factory),_={subject:null,predicate:null,object:null};n&&((f=e,e={})[n]=f[n]);for(const x in e)if(h=e[x]){_[a]=this._termFromId(m[x],this._factory),r&&((f=h,h={})[r]=f[r]);for(const E in h)if(p=h[E]){_[s]=this._termFromId(m[E],this._factory);const S=i?i in p?[i]:[]:Object.keys(p);for(let b=0;b<S.length;b++)_[o]=this._termFromId(m[S[b]],this._factory),yield this._factory.quad(_.subject,_.predicate,_.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,s,o;if((a=e[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(e,n,r,i){let a=0,s,o,l;n&&((s=e,e={})[n]=s[n]);for(const f in e)if(o=e[f]){r&&((s=o,o={})[r]=s[r]);for(const h in o)(l=o[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){if(!gJ(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ra(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const s=this._addToIndex(a.subjects,e,n,r);return this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,s}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ra(i);const a=this._graphs;let s,o,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[e])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,n,r),this._removeFromIndex(s.predicates,n,r,e),this._removeFromIndex(s.objects,r,e,n),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new qd.Readable({objectMode:!0});return a._read=()=>{for(const s of this.readQuads(e,n,r,i))a.push(s);a.push(null)},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l,f;if(!(e&&!(o=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const h in a)(s=a[h])&&(o?f?yield*this._findInIndex(s.objects,f,o,l,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(s.predicates,l,f,null,"predicate","object","subject",h):f?yield*this._findInIndex(s.objects,f,null,null,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new mJ(this,e,n,r,i)}countQuads(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s=0,o,l,f,h;if(e&&!(l=this._termToNumericId(e))||n&&!(f=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(o=a[p])&&(e?r?s+=this._countInIndex(o.objects,h,l,f):s+=this._countInIndex(o.subjects,l,f,h):n?s+=this._countInIndex(o.predicates,f,h,l):s+=this._countInIndex(o.objects,h,l,f));return s}forEach(e,n,r,i,a){this.some(s=>(e(s),!1),n,r,i,a)}every(e,n,r,i,a){let s=!1;const o=!this.some(l=>(s=!0,!e(l)),n,r,i,a);return s&&o}some(e,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(e(s))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,e):this._loopByKey1(s.subjects,o,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,e):this._loopByKey0(s.subjects,o,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){i=i&&ra(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,e):this._loopByKey1(s.objects,o,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(s=>(e(s.graph),!0),n,r,i,a)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,Fi.rdf.rest,Fi.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{const l=[];let f=!1,h,p;const m=o.graph;let y=o.subject;for(;y&&!f;){const _=this.getQuads(null,null,y,null),x=this.getQuads(y,null,null,null);let E,S=null,b=null,A=null;for(let k=0;k<x.length&&!f;k++)E=x[k],E.graph.equals(m)?h?f=i(y,"has non-list arcs out"):E.predicate.value===Fi.rdf.first?S?f=i(y,"has multiple rdf:first arcs"):s.push(S=E):E.predicate.value===Fi.rdf.rest?b?f=i(y,"has multiple rdf:rest arcs"):s.push(b=E):_.length?f=i(y,"can't be subject and object"):(h=E,p="subject"):f=i(y,"not confined to single graph");for(let k=0;k<_.length&&!f;++k)E=_[k],h?f=i(y,"can't have coreferences"):E.predicate.value===Fi.rdf.rest?A?f=i(y,"has incoming rdf:rest arcs"):A=E:(h=E,p="object");S?l.unshift(S.object):f=i(y,"has no list head"),y=A&&A.subject}f?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(s),r}*[Symbol.iterator](){yield*this.readQuads()}};function gJ(t){return typeof t=="string"||t instanceof String}let mJ=class J5 extends qd.Readable{constructor(e,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new co({factory:e._factory});for(const o of e.readQuads(a,i,r,n))s.addQuad(o)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new J5(this.filtered,e,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class Y5 extends qd.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new Ud(e);let r,i;n.parse({on:(a,s)=>{switch(a){case"data":r=s;break;case"end":i=s;break}}},(a,s)=>{a&&this.emit("error",a)||s&&this.push(s)},(a,s)=>{this.emit("prefix",a,s)}),this._transform=(a,s,o)=>{r(a),o()},this._flush=a=>{i(),a()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class X5 extends qd.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new S0({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const yJ={Lexer:NA,Parser:Ud,Writer:S0,Store:co,StreamParser:Y5,StreamWriter:X5,Util:U5,DataFactory:_l,Term:ho,NamedNode:Vr,Literal:rd,BlankNode:FA,Variable:jA,DefaultGraph:$A,Quad:As,Triple:As,termFromId:Ec,termToId:ra},vJ=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:FA,DataFactory:_l,DefaultGraph:$A,Lexer:NA,Literal:rd,NamedNode:Vr,Parser:Ud,Quad:As,Store:co,StreamParser:Y5,StreamWriter:X5,Term:ho,Triple:As,Util:U5,Variable:jA,Writer:S0,default:yJ,termFromId:Ec,termToId:ra},Symbol.toStringTag,{value:"Module"}));var Nf={},Q1,qM;function _J(){if(qM)return Q1;qM=1;function t(e,n){return Object.prototype.hasOwnProperty.call(e,n)}return Q1=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if(typeof e!="string"||e.length===0)return a;var s=/\+/g;e=e.split(n);var o=1e3;i&&typeof i.maxKeys=="number"&&(o=i.maxKeys);var l=e.length;o>0&&l>o&&(l=o);for(var f=0;f<l;++f){var h=e[f].replace(s,"%20"),p=h.indexOf(r),m,y,_,x;p>=0?(m=h.substr(0,p),y=h.substr(p+1)):(m=h,y=""),_=decodeURIComponent(m),x=decodeURIComponent(y),t(a,_)?Array.isArray(a[_])?a[_].push(x):a[_]=[a[_],x]:a[_]=x}return a},Q1}var Z1,HM;function wJ(){if(HM)return Z1;HM=1;var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};return Z1=function(e,n,r,i){return n=n||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(a){var s=encodeURIComponent(t(a))+r;return Array.isArray(e[a])?e[a].map(function(o){return s+encodeURIComponent(t(o))}).join(n):s+encodeURIComponent(t(e[a]))}).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""},Z1}var zM;function eB(){return zM||(zM=1,Nf.decode=Nf.parse=_J(),Nf.encode=Nf.stringify=wJ()),Nf}var Xl={},ig={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */var bJ=ig.exports,VM;function SJ(){return VM||(VM=1,function(t,e){(function(n){var r=e&&!e.nodeType&&e,i=!t.nodeType&&t,a=typeof Sc=="object"&&Sc;(a.global===a||a.window===a||a.self===a)&&(n=a);var s,o=2147483647,l=36,f=1,h=26,p=38,m=700,y=72,_=128,x="-",E=/^xn--/,S=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,A={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=l-f,M=Math.floor,I=String.fromCharCode,F;function B(D){throw RangeError(A[D])}function ee(D,X){for(var ce=D.length,V=[];ce--;)V[ce]=X(D[ce]);return V}function U(D,X){var ce=D.split("@"),V="";ce.length>1&&(V=ce[0]+"@",D=ce[1]),D=D.replace(b,".");var Z=D.split("."),he=ee(Z,X).join(".");return V+he}function J(D){for(var X=[],ce=0,V=D.length,Z,he;ce<V;)Z=D.charCodeAt(ce++),Z>=55296&&Z<=56319&&ce<V?(he=D.charCodeAt(ce++),(he&64512)==56320?X.push(((Z&1023)<<10)+(he&1023)+65536):(X.push(Z),ce--)):X.push(Z);return X}function le(D){return ee(D,function(X){var ce="";return X>65535&&(X-=65536,ce+=I(X>>>10&1023|55296),X=56320|X&1023),ce+=I(X),ce}).join("")}function Y(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:l}function se(D,X){return D+22+75*(D<26)-((X!=0)<<5)}function me(D,X,ce){var V=0;for(D=ce?M(D/m):D>>1,D+=M(D/X);D>k*h>>1;V+=l)D=M(D/k);return M(V+(k+1)*D/(D+p))}function ve(D){var X=[],ce=D.length,V,Z=0,he=_,xe=y,Ve,Te,Me,Ze,ie,z,$,re,W;for(Ve=D.lastIndexOf(x),Ve<0&&(Ve=0),Te=0;Te<Ve;++Te)D.charCodeAt(Te)>=128&&B("not-basic"),X.push(D.charCodeAt(Te));for(Me=Ve>0?Ve+1:0;Me<ce;){for(Ze=Z,ie=1,z=l;Me>=ce&&B("invalid-input"),$=Y(D.charCodeAt(Me++)),($>=l||$>M((o-Z)/ie))&&B("overflow"),Z+=$*ie,re=z<=xe?f:z>=xe+h?h:z-xe,!($<re);z+=l)W=l-re,ie>M(o/W)&&B("overflow"),ie*=W;V=X.length+1,xe=me(Z-Ze,V,Ze==0),M(Z/V)>o-he&&B("overflow"),he+=M(Z/V),Z%=V,X.splice(Z++,0,he)}return le(X)}function fe(D){var X,ce,V,Z,he,xe,Ve,Te,Me,Ze,ie,z=[],$,re,W,pe;for(D=J(D),$=D.length,X=_,ce=0,he=y,xe=0;xe<$;++xe)ie=D[xe],ie<128&&z.push(I(ie));for(V=Z=z.length,Z&&z.push(x);V<$;){for(Ve=o,xe=0;xe<$;++xe)ie=D[xe],ie>=X&&ie<Ve&&(Ve=ie);for(re=V+1,Ve-X>M((o-ce)/re)&&B("overflow"),ce+=(Ve-X)*re,X=Ve,xe=0;xe<$;++xe)if(ie=D[xe],ie<X&&++ce>o&&B("overflow"),ie==X){for(Te=ce,Me=l;Ze=Me<=he?f:Me>=he+h?h:Me-he,!(Te<Ze);Me+=l)pe=Te-Ze,W=l-Ze,z.push(I(se(Ze+pe%W,0))),Te=M(pe/W);z.push(I(se(Te,0))),he=me(ce,re,V==Z),ce=0,++V}++ce,++X}return z.join("")}function ue(D){return U(D,function(X){return E.test(X)?ve(X.slice(4).toLowerCase()):X})}function Oe(D){return U(D,function(X){return S.test(X)?"xn--"+fe(X):X})}if(s={version:"1.3.2",ucs2:{decode:J,encode:le},decode:ve,encode:fe,toASCII:Oe,toUnicode:ue},r&&i)if(t.exports==r)i.exports=s;else for(F in s)s.hasOwnProperty(F)&&(r[F]=s[F]);else n.punycode=s})(bJ)}(ig,ig.exports)),ig.exports}var J1,KM;function xJ(){return KM||(KM=1,J1={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}}),J1}var GM;function EJ(){if(GM)return Xl;GM=1;var t=SJ(),e=xJ();Xl.parse=b,Xl.resolve=k,Xl.resolveObject=M,Xl.format=A,Xl.Url=n;function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var r=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],o=["{","}","|","\\","^","`"].concat(s),l=["'"].concat(o),f=["%","/","?",";","#"].concat(l),h=["/","?","#"],p=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=eB();function b(I,F,B){if(I&&e.isObject(I)&&I instanceof n)return I;var ee=new n;return ee.parse(I,F,B),ee}n.prototype.parse=function(I,F,B){if(!e.isString(I))throw new TypeError("Parameter 'url' must be a string, not "+typeof I);var ee=I.indexOf("?"),U=ee!==-1&&ee<I.indexOf("#")?"?":"#",J=I.split(U),le=/\\/g;J[0]=J[0].replace(le,"/"),I=J.join(U);var Y=I;if(Y=Y.trim(),!B&&I.split("#").length===1){var se=a.exec(Y);if(se)return this.path=Y,this.href=Y,this.pathname=se[1],se[2]?(this.search=se[2],F?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):F&&(this.search="",this.query={}),this}var me=r.exec(Y);if(me){me=me[0];var ve=me.toLowerCase();this.protocol=ve,Y=Y.substr(me.length)}if(B||me||Y.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe=Y.substr(0,2)==="//";fe&&!(me&&x[me])&&(Y=Y.substr(2),this.slashes=!0)}if(!x[me]&&(fe||me&&!E[me])){for(var ue=-1,Oe=0;Oe<h.length;Oe++){var D=Y.indexOf(h[Oe]);D!==-1&&(ue===-1||D<ue)&&(ue=D)}var X,ce;ue===-1?ce=Y.lastIndexOf("@"):ce=Y.lastIndexOf("@",ue),ce!==-1&&(X=Y.slice(0,ce),Y=Y.slice(ce+1),this.auth=decodeURIComponent(X)),ue=-1;for(var Oe=0;Oe<f.length;Oe++){var D=Y.indexOf(f[Oe]);D!==-1&&(ue===-1||D<ue)&&(ue=D)}ue===-1&&(ue=Y.length),this.host=Y.slice(0,ue),Y=Y.slice(ue),this.parseHost(),this.hostname=this.hostname||"";var V=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!V)for(var Z=this.hostname.split(/\./),Oe=0,he=Z.length;Oe<he;Oe++){var xe=Z[Oe];if(xe&&!xe.match(m)){for(var Ve="",Te=0,Me=xe.length;Te<Me;Te++)xe.charCodeAt(Te)>127?Ve+="x":Ve+=xe[Te];if(!Ve.match(m)){var Ze=Z.slice(0,Oe),ie=Z.slice(Oe+1),z=xe.match(y);z&&(Ze.push(z[1]),ie.unshift(z[2])),ie.length&&(Y="/"+ie.join(".")+Y),this.hostname=Ze.join(".");break}}}this.hostname.length>p?this.hostname="":this.hostname=this.hostname.toLowerCase(),V||(this.hostname=t.toASCII(this.hostname));var $=this.port?":"+this.port:"",re=this.hostname||"";this.host=re+$,this.href+=this.host,V&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Y[0]!=="/"&&(Y="/"+Y))}if(!_[ve])for(var Oe=0,he=l.length;Oe<he;Oe++){var W=l[Oe];if(Y.indexOf(W)!==-1){var pe=encodeURIComponent(W);pe===W&&(pe=escape(W)),Y=Y.split(W).join(pe)}}var ye=Y.indexOf("#");ye!==-1&&(this.hash=Y.substr(ye),Y=Y.slice(0,ye));var ze=Y.indexOf("?");if(ze!==-1?(this.search=Y.substr(ze),this.query=Y.substr(ze+1),F&&(this.query=S.parse(this.query)),Y=Y.slice(0,ze)):F&&(this.search="",this.query={}),Y&&(this.pathname=Y),E[ve]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var $=this.pathname||"",Ce=this.search||"";this.path=$+Ce}return this.href=this.format(),this};function A(I){return e.isString(I)&&(I=b(I)),I instanceof n?I.format():n.prototype.format.call(I)}n.prototype.format=function(){var I=this.auth||"";I&&(I=encodeURIComponent(I),I=I.replace(/%3A/i,":"),I+="@");var F=this.protocol||"",B=this.pathname||"",ee=this.hash||"",U=!1,J="";this.host?U=I+this.host:this.hostname&&(U=I+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(U+=":"+this.port)),this.query&&e.isObject(this.query)&&Object.keys(this.query).length&&(J=S.stringify(this.query));var le=this.search||J&&"?"+J||"";return F&&F.substr(-1)!==":"&&(F+=":"),this.slashes||(!F||E[F])&&U!==!1?(U="//"+(U||""),B&&B.charAt(0)!=="/"&&(B="/"+B)):U||(U=""),ee&&ee.charAt(0)!=="#"&&(ee="#"+ee),le&&le.charAt(0)!=="?"&&(le="?"+le),B=B.replace(/[?#]/g,function(Y){return encodeURIComponent(Y)}),le=le.replace("#","%23"),F+U+B+le+ee};function k(I,F){return b(I,!1,!0).resolve(F)}n.prototype.resolve=function(I){return this.resolveObject(b(I,!1,!0)).format()};function M(I,F){return I?b(I,!1,!0).resolveObject(F):F}return n.prototype.resolveObject=function(I){if(e.isString(I)){var F=new n;F.parse(I,!1,!0),I=F}for(var B=new n,ee=Object.keys(this),U=0;U<ee.length;U++){var J=ee[U];B[J]=this[J]}if(B.hash=I.hash,I.href==="")return B.href=B.format(),B;if(I.slashes&&!I.protocol){for(var le=Object.keys(I),Y=0;Y<le.length;Y++){var se=le[Y];se!=="protocol"&&(B[se]=I[se])}return E[B.protocol]&&B.hostname&&!B.pathname&&(B.path=B.pathname="/"),B.href=B.format(),B}if(I.protocol&&I.protocol!==B.protocol){if(!E[I.protocol]){for(var me=Object.keys(I),ve=0;ve<me.length;ve++){var fe=me[ve];B[fe]=I[fe]}return B.href=B.format(),B}if(B.protocol=I.protocol,!I.host&&!x[I.protocol]){for(var he=(I.pathname||"").split("/");he.length&&!(I.host=he.shift()););I.host||(I.host=""),I.hostname||(I.hostname=""),he[0]!==""&&he.unshift(""),he.length<2&&he.unshift(""),B.pathname=he.join("/")}else B.pathname=I.pathname;if(B.search=I.search,B.query=I.query,B.host=I.host||"",B.auth=I.auth,B.hostname=I.hostname||I.host,B.port=I.port,B.pathname||B.search){var ue=B.pathname||"",Oe=B.search||"";B.path=ue+Oe}return B.slashes=B.slashes||I.slashes,B.href=B.format(),B}var D=B.pathname&&B.pathname.charAt(0)==="/",X=I.host||I.pathname&&I.pathname.charAt(0)==="/",ce=X||D||B.host&&I.pathname,V=ce,Z=B.pathname&&B.pathname.split("/")||[],he=I.pathname&&I.pathname.split("/")||[],xe=B.protocol&&!E[B.protocol];if(xe&&(B.hostname="",B.port=null,B.host&&(Z[0]===""?Z[0]=B.host:Z.unshift(B.host)),B.host="",I.protocol&&(I.hostname=null,I.port=null,I.host&&(he[0]===""?he[0]=I.host:he.unshift(I.host)),I.host=null),ce=ce&&(he[0]===""||Z[0]==="")),X)B.host=I.host||I.host===""?I.host:B.host,B.hostname=I.hostname||I.hostname===""?I.hostname:B.hostname,B.search=I.search,B.query=I.query,Z=he;else if(he.length)Z||(Z=[]),Z.pop(),Z=Z.concat(he),B.search=I.search,B.query=I.query;else if(!e.isNullOrUndefined(I.search)){if(xe){B.hostname=B.host=Z.shift();var Ve=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;Ve&&(B.auth=Ve.shift(),B.host=B.hostname=Ve.shift())}return B.search=I.search,B.query=I.query,(!e.isNull(B.pathname)||!e.isNull(B.search))&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.href=B.format(),B}if(!Z.length)return B.pathname=null,B.search?B.path="/"+B.search:B.path=null,B.href=B.format(),B;for(var Te=Z.slice(-1)[0],Me=(B.host||I.host||Z.length>1)&&(Te==="."||Te==="..")||Te==="",Ze=0,ie=Z.length;ie>=0;ie--)Te=Z[ie],Te==="."?Z.splice(ie,1):Te===".."?(Z.splice(ie,1),Ze++):Ze&&(Z.splice(ie,1),Ze--);if(!ce&&!V)for(;Ze--;Ze)Z.unshift("..");ce&&Z[0]!==""&&(!Z[0]||Z[0].charAt(0)!=="/")&&Z.unshift(""),Me&&Z.join("/").substr(-1)!=="/"&&Z.push("");var z=Z[0]===""||Z[0]&&Z[0].charAt(0)==="/";if(xe){B.hostname=B.host=z?"":Z.length?Z.shift():"";var Ve=B.host&&B.host.indexOf("@")>0?B.host.split("@"):!1;Ve&&(B.auth=Ve.shift(),B.host=B.hostname=Ve.shift())}return ce=ce||B.host&&Z.length,ce&&!z&&Z.unshift(""),Z.length?B.pathname=Z.join("/"):(B.pathname=null,B.path=null),(!e.isNull(B.pathname)||!e.isNull(B.search))&&(B.path=(B.pathname?B.pathname:"")+(B.search?B.search:"")),B.auth=I.auth||B.auth,B.slashes=B.slashes||I.slashes,B.href=B.format(),B},n.prototype.parseHost=function(){var I=this.host,F=i.exec(I);F&&(F=F[0],F!==":"&&(this.port=F.substr(1)),I=I.substr(0,I.length-F.length)),I&&(this.hostname=I)},Xl}var Y1,WM;function TJ(){if(WM)return Y1;WM=1,Y1=e;var t=Object.prototype.hasOwnProperty;function e(){for(var n={},r=0;r<arguments.length;r++){var i=arguments[r];for(var a in i)t.call(i,a)&&(n[a]=i[a])}return n}return Y1}var X1,QM;function CJ(){if(QM)return X1;QM=1;var t={GITHUB_STATE:"/home/runner/work/_temp/_runner_file_commands/save_state_eb2aef11-c3f4-462e-be30-b67404c42160",npm_package_devDependencies__types_node:"^22.10.2",npm_package_dependencies_redux_persist:"^6.0.0",npm_package_dependencies_parse_link_header:"^2.0.0",npm_package_dependencies__reduxjs_toolkit:"^2.5.0",npm_package_scripts_cy_dev_open:"cypress open",STATS_TRP:"true",DEPLOYMENT_BASEPATH:"/opt/runner",DOTNET_NOLOGO:"1",USER:"runner",npm_package_dependencies_react_toastify:"^10.0.5",npm_config_version_commit_hooks:"true",npm_config_user_agent:"yarn/1.22.22 npm/? node/v20.18.1 linux x64",CI:"true",npm_package_dependencies_rdf_namespaces:"^1.10.1",npm_package_dependencies__types_he:"^1.2.3",npm_config_bin_links:"true",RUNNER_ENVIRONMENT:"github-hosted",GITHUB_ENV:"/home/runner/work/_temp/_runner_file_commands/set_env_eb2aef11-c3f4-462e-be30-b67404c42160",PIPX_HOME:"/opt/pipx",npm_node_execpath:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",npm_package_noticeText:'"NOTICE\\n\\nThis repository is licensed under the MIT License.\\n\\nHowever, please note that the logos, trademarks, and designs included in this repository\\nare not covered by this license. They are the property of their respective owners and may\\nnot be used without permission.\\n\\nThis codebase was originally developed as part of the Open Hospitality Network (OHN) and has been subsequently relicensed to SolidCouch under the current license (MIT). Any remaining files that are still licensed under OHN retain their original license (MIT), and these files are clearly marked with the original OHN license.\\n"',npm_package_devDependencies_vite:"^6.0.5",npm_package_scripts_cy_dev_app:"BROWSER=none VITE_COMMUNITY=http://localhost:4000/test-community/community#us VITE_EMAIL_NOTIFICATIONS_SERVICE=http://localhost:3005 VITE_ENABLE_DEV_CLIENT_ID=true VITE_EMAIL_NOTIFICATIONS_IDENTITY=http://localhost:4000/mailbot/profile/card#me VITE_EMAIL_NOTIFICATIONS_TYPE=simple VITE_GEOINDEX= yarn build --watch",npm_config_init_version:"1.0.0",JAVA_HOME_8_X64:"/usr/lib/jvm/temurin-8-jdk-amd64",SHLVL:"1",npm_package_packageManager:"yarn@1.22.22+sha512.a6b2f7906b721bba3d67d4aff083df04dad64c399707841b7acf00f6b133b7ac24255f2652fa22ae3534329dc6180534e98d17432037ff6fd140556e2bb3137e",npm_package_devDependencies_eslint_import_resolver_typescript:"^3.5.5",npm_package_dependencies_react_hook_form:"^7.43.0",npm_package_dependencies_ngeohash:"^0.6.3",HOME:"/home/runner",npm_package_devDependencies__typescript_eslint_parser:"^5.60.0",npm_package_devDependencies__eslint_js:"^9.17.0",npm_package_dependencies_url:"^0.11.0",npm_package_browserslist_production_0:">0.2%",RUNNER_TEMP:"/home/runner/work/_temp",GITHUB_EVENT_PATH:"/home/runner/work/_temp/_github_workflow/event.json",npm_package_devDependencies_eslint_config_prettier:"^9.1.0",npm_package_devDependencies__types_shexj:"^2.1.7",npm_package_dependencies__hookform_resolvers:"^3.3.4",npm_package_dependencies__comunica_actor_query_result_serialize_tree:"^2.6.7",npm_package_browserslist_production_1:"not dead",JAVA_HOME_11_X64:"/usr/lib/jvm/temurin-11-jdk-amd64",PIPX_BIN_DIR:"/opt/pipx_bin",GITHUB_REPOSITORY_OWNER:"solidcouch",npm_package_resolutions_react_leaflet_markercluster_react_leaflet:"^5.0.0",npm_package_dependencies_react_leaflet:"^5.0.0",npm_package_browserslist_production_2:"not op_mini all",npm_config_init_license:"MIT",GRADLE_HOME:"/usr/share/gradle-8.11.1",ANDROID_NDK_LATEST_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",JAVA_HOME_21_X64:"/usr/lib/jvm/temurin-21-jdk-amd64",STATS_RDCL:"true",GITHUB_RETENTION_DAYS:"90",YARN_WRAP_OUTPUT:"false",npm_config_version_tag_prefix:"v",GITHUB_REPOSITORY_OWNER_ID:"175321759",POWERSHELL_DISTRIBUTION_CHANNEL:"GitHub-Actions-ubuntu22",AZURE_EXTENSION_DIR:"/opt/az/azcliextensions",GITHUB_HEAD_REF:"",npm_package_dependencies_react_icons:"^5.4.0",npm_package_dependencies_leaflet:"^1.9.4",npm_package_dependencies_immer:"^10.0.2",SYSTEMD_EXEC_PID:"599",npm_package_devDependencies_eslint_plugin_react_hooks:"^5.1.0",npm_package_dependencies_dayjs:"^1.11.8",npm_package_dependencies_ajv_errors:"^3.0.0",GITHUB_GRAPHQL_URL:"https://api.github.com/graphql",npm_package_description:"A decentralized hospitality exchange community app built with Solid Protocol.",npm_package_devDependencies_typescript:"^5.7.2",npm_package_devDependencies__types_n3:"^1.10.4",npm_package_dependencies_react_router_dom:"^6.8.0",npm_package_scripts_knip:"knip",npm_package_scripts_cy_dev_css:"community-solid-server -p 4000 -c ./cypress/css-config-no-log.json",NVM_DIR:"/home/runner/.nvm",npm_package_readmeFilename:"README.md",npm_package_devDependencies__types_react_dom:"^19.0.2",npm_package_devDependencies__types_leaflet_locatecontrol:"^0.74.6",npm_package_scripts_build_ldo:"ldo build --input src/shapes --output src/ldo",DOTNET_SKIP_FIRST_TIME_EXPERIENCE:"1",GOROOT_1_21_X64:"/opt/hostedtoolcache/go/1.21.13/x64",JAVA_HOME_17_X64:"/usr/lib/jvm/temurin-17-jdk-amd64",ImageVersion:"20241215.1.0",VITE_EMAIL_NOTIFICATIONS_TYPE:"simple",npm_package_devDependencies_vite_plugin_checker:"^0.8.0",npm_package_devDependencies_sass_embedded:"^1.83.0",npm_package_devDependencies_prettier:"^3.4.2",npm_package_devDependencies__vitejs_plugin_react_swc:"^3.7.2",npm_package_scripts_dev:"vite",RUNNER_OS:"Linux",GITHUB_API_URL:"https://api.github.com",GOROOT_1_22_X64:"/opt/hostedtoolcache/go/1.22.10/x64",SWIFT_PATH:"/usr/share/swift/usr/bin",npm_package_devDependencies_eslint_plugin_import:"^2.31.0",npm_package_dependencies_normalize_css:"^8.0.1",npm_package_type:"module",RUNNER_USER:"runner",STATS_V3PS:"true",CHROMEWEBDRIVER:"/usr/local/share/chromedriver-linux64",GOROOT_1_23_X64:"/opt/hostedtoolcache/go/1.23.4/x64",JOURNAL_STREAM:"8:1943",GITHUB_WORKFLOW:"Build & deploy to gh-pages",_:"/usr/local/bin/yarn",npm_package_private:"true",npm_package_scripts_cy_dev:'concurrently --kill-others "yarn cy:dev:app" "yarn preview" "yarn cy:dev:css" "yarn cy:dev:open"',npm_package_scripts_lint:"eslint . && prettier . --check",npm_config_registry:"https://registry.yarnpkg.com",ACTIONS_RUNNER_ACTION_ARCHIVE_CACHE:"/opt/actionarchivecache",STATS_D:"true",GITHUB_RUN_ID:"12498223034",STATS_VMFE:"true",npm_package_devDependencies_cypress_vite:"^1.5.0",npm_package_devDependencies__types_lodash:"^4.14.191",GITHUB_REF_TYPE:"branch",BOOTSTRAP_HASKELL_NONINTERACTIVE:"1",GITHUB_WORKFLOW_SHA:"35a739dcca0d7a32c82230f4a30135fa46f65aef",GITHUB_BASE_REF:"",ImageOS:"ubuntu22",npm_package_devDependencies_vite_bundle_visualizer:"^1.2.1",npm_package_devDependencies_eslint_plugin_react_refresh:"^0.4.16",npm_package_dependencies_cross_fetch:"^4.0.0",npm_package_dependencies__types_ngeohash:"^0.6.8",npm_config_ignore_scripts:"",GITHUB_WORKFLOW_REF:"solidcouch/solidcouch/.github/workflows/deploy.yml@refs/heads/main",PERFLOG_LOCATION_SETTING:"RUNNER_PERFLOG",GITHUB_ACTION_REPOSITORY:"",npm_package_devDependencies__solid_community_server:"^7.1.3",npm_package_browserslist_development_0:"last 1 chrome version",PATH:"/tmp/yarn--1735176436552-0.44837000455834164:/home/runner/work/solidcouch/solidcouch/node_modules/.bin:/home/runner/.config/yarn/link/node_modules/.bin:/opt/hostedtoolcache/node/20.18.1/x64/libexec/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.18.1/x64/lib/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.18.1/x64/bin/node_modules/npm/bin/node-gyp-bin:/opt/hostedtoolcache/node/20.18.1/x64/bin:/snap/bin:/home/runner/.local/bin:/opt/pipx_bin:/home/runner/.cargo/bin:/home/runner/.config/composer/vendor/bin:/usr/local/.ghcup/bin:/home/runner/.dotnet/tools:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin",NODE:"/opt/hostedtoolcache/node/20.18.1/x64/bin/node",ANT_HOME:"/usr/share/ant",DOTNET_MULTILEVEL_LOOKUP:"0",RUNNER_TRACKING_ID:"github_2721441f-d77a-45c7-8d54-cfcf67846de1",INVOCATION_ID:"517226ace7ec4c3ebff28f6833dfb337",RUNNER_TOOL_CACHE:"/opt/hostedtoolcache",npm_package_devDependencies_typescript_eslint:"^8.18.1",npm_package_dependencies_rdflib:"^2.2.32",npm_package_browserslist_development_1:"last 1 firefox version",npm_package_name:"solidcouch",GITHUB_ACTION:"__run_2",GITHUB_RUN_NUMBER:"86",GITHUB_TRIGGERING_ACTOR:"mrkvon",RUNNER_ARCH:"X64",XDG_RUNTIME_DIR:"/run/user/1001",AGENT_TOOLSDIRECTORY:"/opt/hostedtoolcache",npm_package_dependencies_react_redux:"^9.2.0",npm_package_dependencies__ldhop_react:"^0.0.1-alpha.16",npm_package_browserslist_development_2:"last 1 safari version",npm_package_scripts_analyze:"vite-bundle-visualizer",npm_package_devDependencies__types_react_modal:"^3.13.1",npm_package_dependencies_n3:"^1.16.3",npm_package_dependencies__rdfjs_types:"^1.1.2",LANG:"C.UTF-8",VCPKG_INSTALLATION_ROOT:"/usr/local/share/vcpkg",npm_package_devDependencies_eslint:"^9.17.0",npm_package_devDependencies_chai_subset:"^1.6.0",npm_package_dependencies_react_dom:"^19.0.0",npm_package_dependencies_leaflet_locatecontrol:"^0.82.0",CONDA:"/usr/share/miniconda",VITE_COMMUNITY_CONTAINER:"solidcouch",RUNNER_NAME:"GitHub Actions 12",XDG_CONFIG_HOME:"/home/runner/.config",STATS_VMD:"true",VITE_BASE_URL:"https://app.solidcouch.org",GITHUB_REF_NAME:"main",GITHUB_REPOSITORY:"solidcouch/solidcouch",STATS_D_D:"true",npm_lifecycle_script:"tsc -b && vite build",npm_package_dependencies_ts_node:"^10.9.2",npm_package_dependencies_react_markdown:"^9.0.1",STATS_UE:"true",VITE_EMAIL_NOTIFICATIONS_SERVICE:"https://service.notifications.tired.bike",ANDROID_NDK_ROOT:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_ACTION_REF:"",DEBIAN_FRONTEND:"noninteractive",npm_package_devDependencies_concurrently:"^8.0.1",npm_config_version_git_message:"v%s",GITHUB_REPOSITORY_ID:"595730304",GITHUB_ACTIONS:"true",STATS_PIP:"false",npm_lifecycle_event:"build",npm_package_devDependencies__types_react:"^19.0.2",npm_package_dependencies_ajv:"^8.13.0",npm_package_dependencies__szhsin_react_menu:"^3.4.0",npm_package_dependencies__ldo_ldo:"^0.0.1-alpha.23",npm_package_version:"0.1.0",GITHUB_REF_PROTECTED:"false",npm_config_argv:'{"remain":[],"cooked":["run","build"],"original":["build"]}',npm_package_devDependencies__types_parse_link_header:"^2.0.1",npm_package_dependencies_uuid:"^9.0.0",npm_package_dependencies_he:"^1.2.0",npm_package_dependencies_dotenv_cli:"^7.4.2",npm_package_scripts_build:"tsc -b && vite build",GITHUB_WORKSPACE:"/home/runner/work/solidcouch/solidcouch",ACCEPT_EULA:"Y",GITHUB_JOB:"build",RUNNER_PERFLOG:"/home/runner/perflog",npm_package_devDependencies_cypress:"^13.17.0",npm_package_dependencies_lodash:"^4.17.21",GITHUB_SHA:"35a739dcca0d7a32c82230f4a30135fa46f65aef",GITHUB_RUN_ATTEMPT:"1",STATS_D_TC:"true",npm_package_dependencies__tanstack_react_query:"^5.59.0",npm_config_version_git_tag:"true",npm_config_version_git_sign:"",GITHUB_REF:"refs/heads/main",GITHUB_ACTOR:"mrkvon",ANDROID_SDK_ROOT:"/usr/local/lib/android/sdk",npm_package_devDependencies_start_server_and_test:"^2.0.0",npm_package_devDependencies_globals:"^15.14.0",npm_package_dependencies_classnames:"^2.3.2",npm_package_license:"MIT",npm_config_strict_ssl:"true",LEIN_HOME:"/usr/local/lib/lein",npm_package_dependencies_react_select:"^5.9.0",npm_package_scripts_format:"prettier --write .",GITHUB_PATH:"/home/runner/work/_temp/_runner_file_commands/add_path_eb2aef11-c3f4-462e-be30-b67404c42160",JAVA_HOME:"/usr/lib/jvm/temurin-11-jdk-amd64",PWD:"/home/runner/work/solidcouch/solidcouch",GITHUB_ACTOR_ID:"7449720",RUNNER_WORKSPACE:"/home/runner/work/solidcouch",npm_execpath:"/usr/local/lib/node_modules/yarn/bin/yarn.js",npm_package_devDependencies__types_jsonld:"^1.5.13",npm_package_dependencies_react_leaflet_markercluster:"^4.2.1",HOMEBREW_CLEANUP_PERIODIC_FULL_DAYS:"3650",GITHUB_EVENT_NAME:"push",HOMEBREW_NO_AUTO_UPDATE:"1",ANDROID_HOME:"/usr/local/lib/android/sdk",GITHUB_SERVER_URL:"https://github.com",GECKOWEBDRIVER:"/usr/local/share/gecko_driver",LEIN_JAR:"/usr/local/lib/lein/self-installs/leiningen-2.11.2-standalone.jar",GHCUP_INSTALL_BASE_PREFIX:"/usr/local",GITHUB_OUTPUT:"/home/runner/work/_temp/_runner_file_commands/set_output_eb2aef11-c3f4-462e-be30-b67404c42160",npm_package_devDependencies__ldo_cli:"^0.0.1-alpha.23",npm_package_dependencies_react_modal:"^3.16.3",npm_package_dependencies__inrupt_solid_client_authn_browser:"^2.3.0",VITE_COMMUNITY:"https://solidweb.me/solidcouch/community#us",EDGEWEBDRIVER:"/usr/local/share/edge_driver",STATS_EXT:"true",npm_package_dependencies_util:"^0.12.5",npm_package_dependencies__comunica_query_sparql:"^2.6.7",npm_config_save_prefix:"^",npm_config_ignore_optional:"",ANDROID_NDK:"/usr/local/lib/android/sdk/ndk/27.2.12479018",SGX_AESM_ADDR:"1",CHROME_BIN:"/usr/bin/google-chrome",npm_package_dependencies_source_map_explorer:"^2.5.3",npm_package_dependencies__comunica_query_sparql_link_traversal:"^0.1.0",npm_package_scripts_preview:"vite preview",SELENIUM_JAR_PATH:"/usr/share/java/selenium-server.jar",STATS_EXTP:"https://provjobdprod.z13.web.core.windows.net/settings/provjobdsettings-latest/provjobd.data",VITE_EMAIL_NOTIFICATIONS_IDENTITY:"https://id.notifications.tired.bike/profile/card#me",npm_package_devDependencies_utility_types:"^3.10.0",npm_package_devDependencies_knip:"^5.41.1",npm_package_dependencies_web_vitals:"^2.1.0",npm_package_dependencies__ldhop_core:"^0.0.1-alpha.16",INIT_CWD:"/home/runner/work/solidcouch/solidcouch",VITE_GEOINDEX:"",ANDROID_NDK_HOME:"/usr/local/lib/android/sdk/ndk/27.2.12479018",GITHUB_STEP_SUMMARY:"/home/runner/work/_temp/_runner_file_commands/step_summary_eb2aef11-c3f4-462e-be30-b67404c42160",npm_package_resolutions_react_leaflet_markercluster__react_leaflet_core:"^3.0.0",npm_package_devDependencies__types_leaflet:"^1.9.15",npm_package_devDependencies__types_chai_subset:"^1.3.5",npm_package_dependencies_react:"^19.0.0",npm_package_dependencies__react_leaflet_core:"^3.0.0",npm_package_scripts_postbuild_ldo:"yarn format",NODE_ENV:"production",VITE_COMMUNITY_NAME:"SolidCouch",VITE_COMMUNITY_ABOUT:"SolidCouch is a decentralized hospitality exchange built with Solid Protocol. Soon, you can also start a community! This is a testing community running the latest SolidCouch software. It may change or disappear.",VITE_COMMUNITY_LOGO:"/favicon.ico",VITE_COMMUNITY_NAME_UNSAFE:"SolidCouch",VITE_COMMUNITY_HOMEPAGE:"undefined"},e=eB(),n=EJ(),r=TJ();const i=parseInt(t.PARSE_LINK_HEADER_MAXLEN)||2e3,a=t.PARSE_LINK_HEADER_THROW_ON_MAXLEN_EXCEEDED!=null;function s(p){return p&&p.rel}function o(p,m){function y(_){p[_]=r(m,{rel:_})}return m.rel.split(/\s+/).forEach(y),p}function l(p,m){var y=m.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return y&&(p[y[1]]=y[2]),p}function f(p){try{var m=p.match(/<?([^>]*)>(.*)/),y=m[1],_=m[2].split(";"),x=n.parse(y),E=e.parse(x.query);_.shift();var S=_.reduce(l,{});return S=r(E,S),S.url=y,S}catch{return null}}function h(p){if(!p)return!1;if(p.length>i){if(a)throw new Error("Input string too long, it should be under "+i+" characters.");return!1}return!0}return X1=function(p){return h(p)?p.split(/,\s*</).map(f).filter(s).reduce(o,{}):null},X1}var AJ=CJ();const RJ=Ur(AJ);var OJ="http://www.w3.org/ns/auth/acl#Access",PJ="http://www.w3.org/ns/auth/acl#Append",IJ="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",LJ="http://www.w3.org/ns/auth/acl#Authorization",MJ="http://www.w3.org/ns/auth/acl#Control",kJ="http://www.w3.org/ns/auth/acl#Origin",DJ="http://www.w3.org/ns/auth/acl#Read",NJ="http://www.w3.org/ns/auth/acl#Write",FJ="http://www.w3.org/ns/auth/acl#accessControl",jJ="http://www.w3.org/ns/auth/acl#accessTo",$J="http://www.w3.org/ns/auth/acl#accessToClass",UJ="http://www.w3.org/ns/auth/acl#agent",BJ="http://www.w3.org/ns/auth/acl#agentClass",qJ="http://www.w3.org/ns/auth/acl#agentGroup",HJ="http://www.w3.org/ns/auth/acl#default",zJ="http://www.w3.org/ns/auth/acl#defaultForNew",VJ="http://www.w3.org/ns/auth/acl#delegates",KJ="http://www.w3.org/ns/auth/acl#mode",GJ="http://www.w3.org/ns/auth/acl#origin",WJ="http://www.w3.org/ns/auth/acl#owner",QJ=Object.freeze({Access:OJ,Append:PJ,AuthenticatedAgent:IJ,Authorization:LJ,Control:MJ,Origin:kJ,Read:DJ,Write:NJ,accessControl:FJ,accessTo:jJ,accessToClass:$J,agent:UJ,agentClass:BJ,agentGroup:qJ,default__workaround:HJ,defaultForNew:zJ,delegates:VJ,mode:KJ,origin:GJ,owner:WJ}),ZJ="http://www.w3.org/ns/activitystreams#actor",JJ="http://www.w3.org/ns/activitystreams#attributedTo",YJ="http://www.w3.org/ns/activitystreams#attachment",XJ="http://www.w3.org/ns/activitystreams#attachments",eY="http://www.w3.org/ns/activitystreams#author",tY="http://www.w3.org/ns/activitystreams#bcc",nY="http://www.w3.org/ns/activitystreams#bto",rY="http://www.w3.org/ns/activitystreams#cc",iY="http://www.w3.org/ns/activitystreams#context",aY="http://www.w3.org/ns/activitystreams#generator",sY="http://www.w3.org/ns/activitystreams#icon",oY="http://www.w3.org/ns/activitystreams#image",uY="http://www.w3.org/ns/activitystreams#inReplyTo",lY="http://www.w3.org/ns/activitystreams#items",cY="http://www.w3.org/ns/activitystreams#location",fY="http://www.w3.org/ns/activitystreams#object",dY="http://www.w3.org/ns/activitystreams#oneOf",hY="http://www.w3.org/ns/activitystreams#anyOf",pY="http://www.w3.org/ns/activitystreams#preview",gY="http://www.w3.org/ns/activitystreams#provider",mY="http://www.w3.org/ns/activitystreams#replies",yY="http://www.w3.org/ns/activitystreams#result",vY="http://www.w3.org/ns/activitystreams#audience",_Y="http://www.w3.org/ns/activitystreams#tag",wY="http://www.w3.org/ns/activitystreams#tags",bY="http://www.w3.org/ns/activitystreams#target",SY="http://www.w3.org/ns/activitystreams#origin",xY="http://www.w3.org/ns/activitystreams#instrument",EY="http://www.w3.org/ns/activitystreams#to",TY="http://www.w3.org/ns/activitystreams#url",CY="http://www.w3.org/ns/activitystreams#relationship",AY="http://www.w3.org/ns/activitystreams#describes",RY="http://www.w3.org/ns/activitystreams#formerType",OY="http://www.w3.org/ns/activitystreams#accuracy",PY="http://www.w3.org/ns/activitystreams#altitude",IY="http://www.w3.org/ns/activitystreams#content",LY="http://www.w3.org/ns/activitystreams#name",MY="http://www.w3.org/ns/activitystreams#downstreamDuplicates",kY="http://www.w3.org/ns/activitystreams#duration",DY="http://www.w3.org/ns/activitystreams#endTime",NY="http://www.w3.org/ns/activitystreams#height",FY="http://www.w3.org/ns/activitystreams#href",jY="http://www.w3.org/ns/activitystreams#hreflang",$Y="http://www.w3.org/ns/activitystreams#id",UY="http://www.w3.org/ns/activitystreams#latitude",BY="http://www.w3.org/ns/activitystreams#longitude",qY="http://www.w3.org/ns/activitystreams#mediaType",HY="http://www.w3.org/ns/activitystreams#objectType",zY="http://www.w3.org/ns/activitystreams#published",VY="http://www.w3.org/ns/activitystreams#radius",KY="http://www.w3.org/ns/activitystreams#rating",GY="http://www.w3.org/ns/activitystreams#rel",WY="http://www.w3.org/ns/activitystreams#startIndex",QY="http://www.w3.org/ns/activitystreams#startTime",ZY="http://www.w3.org/ns/activitystreams#summary",JY="http://www.w3.org/ns/activitystreams#totalItems",YY="http://www.w3.org/ns/activitystreams#units",XY="http://www.w3.org/ns/activitystreams#updated",eX="http://www.w3.org/ns/activitystreams#upstreamDuplicates",tX="http://www.w3.org/ns/activitystreams#verb",nX="http://www.w3.org/ns/activitystreams#width",rX="http://www.w3.org/ns/activitystreams#deleted",iX="http://www.w3.org/ns/activitystreams#Accept",aX="http://www.w3.org/ns/activitystreams#Activity",sX="http://www.w3.org/ns/activitystreams#Block",oX="http://www.w3.org/ns/activitystreams#IntransitiveActivity",uX="http://www.w3.org/ns/activitystreams#Add",lX="http://www.w3.org/ns/activitystreams#Announce",cX="http://www.w3.org/ns/activitystreams#Application",fX="http://www.w3.org/ns/activitystreams#Arrive",dX="http://www.w3.org/ns/activitystreams#Article",hX="http://www.w3.org/ns/activitystreams#Audio",pX="http://www.w3.org/ns/activitystreams#Collection",gX="http://www.w3.org/ns/activitystreams#CollectionPage",mX="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",yX="http://www.w3.org/ns/activitystreams#Relationship",vX="http://www.w3.org/ns/activitystreams#Create",_X="http://www.w3.org/ns/activitystreams#Delete",wX="http://www.w3.org/ns/activitystreams#Dislike",bX="http://www.w3.org/ns/activitystreams#Document",SX="http://www.w3.org/ns/activitystreams#Event",xX="http://www.w3.org/ns/activitystreams#Flag",EX="http://www.w3.org/ns/activitystreams#Follow",TX="http://www.w3.org/ns/activitystreams#Group",CX="http://www.w3.org/ns/activitystreams#Ignore",AX="http://www.w3.org/ns/activitystreams#Image",RX="http://www.w3.org/ns/activitystreams#Invite",OX="http://www.w3.org/ns/activitystreams#Join",PX="http://www.w3.org/ns/activitystreams#Leave",IX="http://www.w3.org/ns/activitystreams#Like",LX="http://www.w3.org/ns/activitystreams#View",MX="http://www.w3.org/ns/activitystreams#Listen",kX="http://www.w3.org/ns/activitystreams#Read",DX="http://www.w3.org/ns/activitystreams#Move",NX="http://www.w3.org/ns/activitystreams#Travel",FX="http://www.w3.org/ns/activitystreams#Link",jX="http://www.w3.org/ns/activitystreams#Mention",$X="http://www.w3.org/ns/activitystreams#Note",UX="http://www.w3.org/ns/activitystreams#Object",BX="http://www.w3.org/ns/activitystreams#Offer",qX="http://www.w3.org/ns/activitystreams#OrderedCollection",HX="http://www.w3.org/ns/activitystreams#OrderedItems",zX="http://www.w3.org/ns/activitystreams#Page",VX="http://www.w3.org/ns/activitystreams#Person",KX="http://www.w3.org/ns/activitystreams#Organization",GX="http://www.w3.org/ns/activitystreams#Profile",WX="http://www.w3.org/ns/activitystreams#Place",QX="http://www.w3.org/ns/activitystreams#Question",ZX="http://www.w3.org/ns/activitystreams#Reject",JX="http://www.w3.org/ns/activitystreams#Remove",YX="http://www.w3.org/ns/activitystreams#Service",XX="http://www.w3.org/ns/activitystreams#TentativeAccept",eee="http://www.w3.org/ns/activitystreams#TentativeReject",tee="http://www.w3.org/ns/activitystreams#Tombstone",nee="http://www.w3.org/ns/activitystreams#Undo",ree="http://www.w3.org/ns/activitystreams#Update",iee="http://www.w3.org/ns/activitystreams#Video",aee=Object.freeze({actor:ZJ,attributedTo:JJ,attachment:YJ,attachments:XJ,author:eY,bcc:tY,bto:nY,cc:rY,context:iY,generator:aY,icon:sY,image:oY,inReplyTo:uY,items:lY,location:cY,object:fY,oneOf:dY,anyOf:hY,preview:pY,provider:gY,replies:mY,result:yY,audience:vY,tag:_Y,tags:wY,target:bY,origin:SY,instrument:xY,to:EY,url:TY,relationship:CY,describes:AY,formerType:RY,accuracy:OY,altitude:PY,content:IY,name:LY,downstreamDuplicates:MY,duration:kY,endTime:DY,height:NY,href:FY,hreflang:jY,id:$Y,latitude:UY,longitude:BY,mediaType:qY,objectType:HY,published:zY,radius:VY,rating:KY,rel:GY,startIndex:WY,startTime:QY,summary:ZY,totalItems:JY,units:YY,updated:XY,upstreamDuplicates:eX,verb:tX,width:nX,deleted:rX,Accept:iX,Activity:aX,Block:sX,IntransitiveActivity:oX,Add:uX,Announce:lX,Application:cX,Arrive:fX,Article:dX,Audio:hX,Collection:pX,CollectionPage:gX,OrderedCollectionPage:mX,Relationship:yX,Create:vX,Delete:_X,Dislike:wX,Document:bX,Event:SX,Flag:xX,Follow:EX,Group:TX,Ignore:CX,Image:AX,Invite:RX,Join:OX,Leave:PX,Like:IX,View:LX,Listen:MX,Read:kX,Move:DX,Travel:NX,Link:FX,Mention:jX,Note:$X,Object__workaround:UX,Offer:BX,OrderedCollection:qX,OrderedItems:HX,Page:zX,Person:VX,Organization:KX,Profile:GX,Place:WX,Question:QX,Reject:ZX,Remove:JX,Service:YX,TentativeAccept:XX,TentativeReject:eee,Tombstone:tee,Undo:nee,Update:ree,Video:iee}),see="http://purl.org/dc/terms/AgentClass",oee="http://purl.org/dc/terms/BibliographicResource",uee="http://purl.org/dc/terms/Box",lee="http://purl.org/dc/terms/FileFormat",cee="http://purl.org/dc/terms/Frequency",fee="http://purl.org/dc/terms/ISO3166",dee="http://purl.org/dc/terms/Jurisdiction",hee="http://purl.org/dc/terms/LicenseDocument",pee="http://purl.org/dc/terms/LinguisticSystem",gee="http://purl.org/dc/terms/Location",mee="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",yee="http://purl.org/dc/terms/MediaType",vee="http://purl.org/dc/terms/MediaTypeOrExtent",_ee="http://purl.org/dc/terms/MethodOfAccrual",wee="http://purl.org/dc/terms/MethodOfInstruction",bee="http://purl.org/dc/terms/Period",See="http://purl.org/dc/terms/PeriodOfTime",xee="http://purl.org/dc/terms/PhysicalMedium",Eee="http://purl.org/dc/terms/PhysicalResource",Tee="http://purl.org/dc/terms/Point",Cee="http://purl.org/dc/terms/Policy",Aee="http://purl.org/dc/terms/ProvenanceStatement",Ree="http://purl.org/dc/terms/RFC1766",Oee="http://purl.org/dc/terms/RFC3066",Pee="http://purl.org/dc/terms/RFC4646",Iee="http://purl.org/dc/terms/RFC5646",Lee="http://purl.org/dc/terms/RightsStatement",Mee="http://purl.org/dc/terms/SizeOrDuration",kee="http://purl.org/dc/terms/Standard",Dee="http://purl.org/dc/terms/URI",Nee="http://purl.org/dc/terms/W3CDTF",Fee="http://purl.org/dc/terms/abstract",jee="http://purl.org/dc/terms/accessRights",$ee="http://purl.org/dc/terms/accrualMethod",Uee="http://purl.org/dc/terms/accrualPeriodicity",Bee="http://purl.org/dc/terms/accrualPolicy",qee="http://purl.org/dc/terms/alternative",Hee="http://purl.org/dc/terms/audience",zee="http://purl.org/dc/terms/available",Vee="http://purl.org/dc/terms/bibliographicCitation",Kee="http://purl.org/dc/terms/conformsTo",Gee="http://purl.org/dc/terms/contributor",Wee="http://purl.org/dc/terms/coverage",Qee="http://purl.org/dc/terms/created",Zee="http://purl.org/dc/terms/creator",Jee="http://purl.org/dc/terms/date",Yee="http://purl.org/dc/terms/dateAccepted",Xee="http://purl.org/dc/terms/dateCopyrighted",ete="http://purl.org/dc/terms/dateSubmitted",tte="http://purl.org/dc/terms/description",nte="http://purl.org/dc/terms/educationLevel",rte="http://purl.org/dc/terms/extent",ite="http://purl.org/dc/terms/format",ate="http://purl.org/dc/terms/hasFormat",ste="http://purl.org/dc/terms/hasPart",ote="http://purl.org/dc/terms/hasVersion",ute="http://purl.org/dc/terms/identifier",lte="http://purl.org/dc/terms/instructionalMethod",cte="http://purl.org/dc/terms/isFormatOf",fte="http://purl.org/dc/terms/isPartOf",dte="http://purl.org/dc/terms/isReferencedBy",hte="http://purl.org/dc/terms/isReplacedBy",pte="http://purl.org/dc/terms/isRequiredBy",gte="http://purl.org/dc/terms/isVersionOf",mte="http://purl.org/dc/terms/issued",yte="http://purl.org/dc/terms/language",vte="http://purl.org/dc/terms/license",_te="http://purl.org/dc/terms/mediator",wte="http://purl.org/dc/terms/medium",bte="http://purl.org/dc/terms/modified",Ste="http://purl.org/dc/terms/provenance",xte="http://purl.org/dc/terms/publisher",Ete="http://purl.org/dc/terms/references",Tte="http://purl.org/dc/terms/relation",Cte="http://purl.org/dc/terms/replaces",Ate="http://purl.org/dc/terms/requires",Rte="http://purl.org/dc/terms/rights",Ote="http://purl.org/dc/terms/rightsHolder",Pte="http://purl.org/dc/terms/source",Ite="http://purl.org/dc/terms/spatial",Lte="http://purl.org/dc/terms/subject",Mte="http://purl.org/dc/terms/tableOfContents",kte="http://purl.org/dc/terms/temporal",Dte="http://purl.org/dc/terms/title",Nte="http://purl.org/dc/terms/type",Fte="http://purl.org/dc/terms/valid",jte=Object.freeze({AgentClass:see,BibliographicResource:oee,Box:uee,FileFormat:lee,Frequency:cee,ISO3166:fee,Jurisdiction:dee,LicenseDocument:hee,LinguisticSystem:pee,Location:gee,LocationPeriodOrJurisdiction:mee,MediaType:yee,MediaTypeOrExtent:vee,MethodOfAccrual:_ee,MethodOfInstruction:wee,Period:bee,PeriodOfTime:See,PhysicalMedium:xee,PhysicalResource:Eee,Point:Tee,Policy:Cee,ProvenanceStatement:Aee,RFC1766:Ree,RFC3066:Oee,RFC4646:Pee,RFC5646:Iee,RightsStatement:Lee,SizeOrDuration:Mee,Standard:kee,URI:Dee,W3CDTF:Nee,abstract:Fee,accessRights:jee,accrualMethod:$ee,accrualPeriodicity:Uee,accrualPolicy:Bee,alternative:qee,audience:Hee,available:zee,bibliographicCitation:Vee,conformsTo:Kee,contributor:Gee,coverage:Wee,created:Qee,creator:Zee,date:Jee,dateAccepted:Yee,dateCopyrighted:Xee,dateSubmitted:ete,description:tte,educationLevel:nte,extent:rte,format:ite,hasFormat:ate,hasPart:ste,hasVersion:ote,identifier:ute,instructionalMethod:lte,isFormatOf:cte,isPartOf:fte,isReferencedBy:dte,isReplacedBy:hte,isRequiredBy:pte,isVersionOf:gte,issued:mte,language:yte,license:vte,mediator:_te,medium:wte,modified:bte,provenance:Ste,publisher:xte,references:Ete,relation:Tte,replaces:Cte,requires:Ate,rights:Rte,rightsHolder:Ote,source:Pte,spatial:Ite,subject:Lte,tableOfContents:Mte,temporal:kte,title:Dte,type:Nte,valid:Fte}),$te="http://xmlns.com/foaf/0.1/Person",Ute="http://xmlns.com/foaf/0.1/Document",Bte="http://xmlns.com/foaf/0.1/Organization",qte="http://xmlns.com/foaf/0.1/Group",Hte="http://xmlns.com/foaf/0.1/Agent",zte="http://xmlns.com/foaf/0.1/Project",Vte="http://xmlns.com/foaf/0.1/Image",Kte="http://xmlns.com/foaf/0.1/PersonalProfileDocument",Gte="http://xmlns.com/foaf/0.1/OnlineAccount",Wte="http://xmlns.com/foaf/0.1/OnlineGamingAccount",Qte="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Zte="http://xmlns.com/foaf/0.1/OnlineChatAccount",Jte="http://xmlns.com/foaf/0.1/mbox",Yte="http://xmlns.com/foaf/0.1/mbox_sha1sum",Xte="http://xmlns.com/foaf/0.1/gender",ene="http://xmlns.com/foaf/0.1/geekcode",tne="http://xmlns.com/foaf/0.1/dnaChecksum",nne="http://xmlns.com/foaf/0.1/sha1",rne="http://xmlns.com/foaf/0.1/based_near",ine="http://xmlns.com/foaf/0.1/title",ane="http://xmlns.com/foaf/0.1/nick",sne="http://xmlns.com/foaf/0.1/jabberID",one="http://xmlns.com/foaf/0.1/aimChatID",une="http://xmlns.com/foaf/0.1/icqChatID",lne="http://xmlns.com/foaf/0.1/yahooChatID",cne="http://xmlns.com/foaf/0.1/msnChatID",fne="http://xmlns.com/foaf/0.1/name",dne="http://xmlns.com/foaf/0.1/firstName",hne="http://xmlns.com/foaf/0.1/givenname",pne="http://xmlns.com/foaf/0.1/surname",gne="http://xmlns.com/foaf/0.1/family_name",mne="http://xmlns.com/foaf/0.1/phone",yne="http://xmlns.com/foaf/0.1/homepage",vne="http://xmlns.com/foaf/0.1/weblog",_ne="http://xmlns.com/foaf/0.1/tipjar",wne="http://xmlns.com/foaf/0.1/plan",bne="http://xmlns.com/foaf/0.1/made",Sne="http://xmlns.com/foaf/0.1/maker",xne="http://xmlns.com/foaf/0.1/img",Ene="http://xmlns.com/foaf/0.1/depiction",Tne="http://xmlns.com/foaf/0.1/depicts",Cne="http://xmlns.com/foaf/0.1/thumbnail",Ane="http://xmlns.com/foaf/0.1/myersBriggs",Rne="http://xmlns.com/foaf/0.1/workplaceHomepage",One="http://xmlns.com/foaf/0.1/workInfoHomepage",Pne="http://xmlns.com/foaf/0.1/schoolHomepage",Ine="http://xmlns.com/foaf/0.1/knows",Lne="http://xmlns.com/foaf/0.1/interest",Mne="http://xmlns.com/foaf/0.1/topic_interest",kne="http://xmlns.com/foaf/0.1/publications",Dne="http://xmlns.com/foaf/0.1/currentProject",Nne="http://xmlns.com/foaf/0.1/pastProject",Fne="http://xmlns.com/foaf/0.1/fundedBy",jne="http://xmlns.com/foaf/0.1/logo",$ne="http://xmlns.com/foaf/0.1/topic",Une="http://xmlns.com/foaf/0.1/primaryTopic",Bne="http://xmlns.com/foaf/0.1/page",qne="http://xmlns.com/foaf/0.1/theme",Hne="http://xmlns.com/foaf/0.1/holdsAccount",zne="http://xmlns.com/foaf/0.1/accountServiceHomepage",Vne="http://xmlns.com/foaf/0.1/accountName",Kne="http://xmlns.com/foaf/0.1/member",Gne="http://xmlns.com/foaf/0.1/membershipClass",Wne=Object.freeze({Person:$te,Document:Ute,Organization:Bte,Group:qte,Agent:Hte,Project:zte,Image:Vte,PersonalProfileDocument:Kte,OnlineAccount:Gte,OnlineGamingAccount:Wte,OnlineEcommerceAccount:Qte,OnlineChatAccount:Zte,mbox:Jte,mbox_sha1sum:Yte,gender:Xte,geekcode:ene,dnaChecksum:tne,sha1:nne,based_near:rne,title:ine,nick:ane,jabberID:sne,aimChatID:one,icqChatID:une,yahooChatID:lne,msnChatID:cne,name:fne,firstName:dne,givenname:hne,surname:pne,family_name:gne,phone:mne,homepage:yne,weblog:vne,tipjar:_ne,plan:wne,made:bne,maker:Sne,img:xne,depiction:Ene,depicts:Tne,thumbnail:Cne,myersBriggs:Ane,workplaceHomepage:Rne,workInfoHomepage:One,schoolHomepage:Pne,knows:Ine,interest:Lne,topic_interest:Mne,publications:kne,currentProject:Dne,pastProject:Nne,fundedBy:Fne,logo:jne,topic:$ne,primaryTopic:Une,page:Bne,theme:qne,holdsAccount:Hne,accountServiceHomepage:zne,accountName:Vne,member:Kne,membershipClass:Gne}),Qne="http://www.w3.org/ns/ldp#Resource",Zne="http://www.w3.org/ns/ldp#RDFSource",Jne="http://www.w3.org/ns/ldp#NonRDFSource",Yne="http://www.w3.org/ns/ldp#Container",Xne="http://www.w3.org/ns/ldp#BasicContainer",ere="http://www.w3.org/ns/ldp#DirectContainer",tre="http://www.w3.org/ns/ldp#IndirectContainer",nre="http://www.w3.org/ns/ldp#hasMemberRelation",rre="http://www.w3.org/ns/ldp#isMemberOfRelation",ire="http://www.w3.org/ns/ldp#membershipResource",are="http://www.w3.org/ns/ldp#insertedContentRelation",sre="http://www.w3.org/ns/ldp#member",ore="http://www.w3.org/ns/ldp#contains",ure="http://www.w3.org/ns/ldp#constrainedBy",lre="http://www.w3.org/ns/ldp#pageSortCriteria",cre="http://www.w3.org/ns/ldp#PageSortCriterion",fre="http://www.w3.org/ns/ldp#pageSortPredicate",dre="http://www.w3.org/ns/ldp#pageSortOrder",hre="http://www.w3.org/ns/ldp#pageSortCollation",pre="http://www.w3.org/ns/ldp#Page",gre="http://www.w3.org/ns/ldp#pageSequence",mre="http://www.w3.org/ns/ldp#inbox",yre=Object.freeze({Resource:Qne,RDFSource:Zne,NonRDFSource:Jne,Container:Yne,BasicContainer:Xne,DirectContainer:ere,IndirectContainer:tre,hasMemberRelation:nre,isMemberOfRelation:rre,membershipResource:ire,insertedContentRelation:are,member:sre,contains:ore,constrainedBy:ure,pageSortCriteria:lre,PageSortCriterion:cre,pageSortPredicate:fre,pageSortOrder:dre,pageSortCollation:hre,Page:pre,pageSequence:gre,inbox:mre}),vre="http://www.w3.org/ns/pim/meeting#Meeting",_re="http://www.w3.org/ns/pim/meeting#VideoCallPage",wre="http://www.w3.org/ns/pim/meeting#actionItems",bre="http://www.w3.org/ns/pim/meeting#agenda",Sre="http://www.w3.org/ns/pim/meeting#attendeeGroup",xre="http://www.w3.org/ns/pim/meeting#chat",Ere="http://www.w3.org/ns/pim/meeting#nextMeeting",Tre="http://www.w3.org/ns/pim/meeting#previousMeeting",Cre="http://www.w3.org/ns/pim/meeting#sharedNotes",Are="http://www.w3.org/ns/pim/meeting#toolList",Rre="http://www.w3.org/ns/pim/meeting#trip",Ore="http://www.w3.org/ns/pim/meeting#videoCallPage",Pre=Object.freeze({Meeting:vre,VideoCallPage:_re,actionItems:wre,agenda:bre,attendeeGroup:Sre,chat:xre,nextMeeting:Ere,previousMeeting:Tre,sharedNotes:Cre,toolList:Are,trip:Rre,videoCallPage:Ore}),Ire="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Lre="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Mre="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",kre="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Dre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Nre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Fre="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",jre="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",$re="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Ure="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Bre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",qre="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",Hre="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",zre="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",Vre="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",Kre="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",Gre="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Wre="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",Qre="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Zre="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",Jre="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Yre=Object.freeze({HTML:Ire,langString:Lre,PlainLiteral:Mre,type:kre,Property:Dre,Statement:Nre,subject:Fre,predicate:jre,object:$re,Bag:Ure,Seq:Bre,Alt:qre,value:Hre,List:zre,first:Vre,rest:Kre,XMLLiteral:Gre,JSON__workaround:Wre,CompoundLiteral:Qre,language:Zre,direction:Jre}),Xre="http://www.w3.org/2000/01/rdf-schema#Resource",eie="http://www.w3.org/2000/01/rdf-schema#Class",tie="http://www.w3.org/2000/01/rdf-schema#subClassOf",nie="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",rie="http://www.w3.org/2000/01/rdf-schema#comment",iie="http://www.w3.org/2000/01/rdf-schema#label",aie="http://www.w3.org/2000/01/rdf-schema#domain",sie="http://www.w3.org/2000/01/rdf-schema#range",oie="http://www.w3.org/2000/01/rdf-schema#seeAlso",uie="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",lie="http://www.w3.org/2000/01/rdf-schema#Literal",cie="http://www.w3.org/2000/01/rdf-schema#Container",fie="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",die="http://www.w3.org/2000/01/rdf-schema#member",hie="http://www.w3.org/2000/01/rdf-schema#Datatype",pie=Object.freeze({Resource:Xre,Class:eie,subClassOf:tie,subPropertyOf:nie,comment:rie,label:iie,domain:aie,range:sie,seeAlso:oie,isDefinedBy:uie,Literal:lie,Container:cie,ContainerMembershipProperty:fie,member:die,Datatype:hie}),gie="http://rdfs.org/sioc/ns#Community",mie="http://rdfs.org/sioc/ns#Container",yie="http://rdfs.org/sioc/ns#Forum",vie="http://rdfs.org/sioc/ns#Item",_ie="http://rdfs.org/sioc/ns#Post",wie="http://rdfs.org/sioc/ns#Role",bie="http://rdfs.org/sioc/ns#Space",Sie="http://rdfs.org/sioc/ns#Site",xie="http://rdfs.org/sioc/ns#Thread",Eie="http://rdfs.org/sioc/ns#UserAccount",Tie="http://rdfs.org/sioc/ns#Usergroup",Cie="http://rdfs.org/sioc/ns#about",Aie="http://rdfs.org/sioc/ns#account_of",Rie="http://rdfs.org/sioc/ns#addressed_to",Oie="http://rdfs.org/sioc/ns#administrator_of",Pie="http://rdfs.org/sioc/ns#attachment",Iie="http://rdfs.org/sioc/ns#avatar",Lie="http://rdfs.org/sioc/ns#container_of",Mie="http://rdfs.org/sioc/ns#content",kie="http://rdfs.org/sioc/ns#creator_of",Die="http://rdfs.org/sioc/ns#delivered_at",Nie="http://rdfs.org/sioc/ns#discussion_of",Fie="http://rdfs.org/sioc/ns#email",jie="http://rdfs.org/sioc/ns#email_sha1",$ie="http://rdfs.org/sioc/ns#embeds_knowledge",Uie="http://rdfs.org/sioc/ns#feed",Bie="http://rdfs.org/sioc/ns#follows",qie="http://rdfs.org/sioc/ns#function_of",Hie="http://rdfs.org/sioc/ns#generator",zie="http://rdfs.org/sioc/ns#has_administrator",Vie="http://rdfs.org/sioc/ns#has_container",Kie="http://rdfs.org/sioc/ns#has_creator",Gie="http://rdfs.org/sioc/ns#has_discussion",Wie="http://rdfs.org/sioc/ns#has_function",Qie="http://rdfs.org/sioc/ns#has_host",Zie="http://rdfs.org/sioc/ns#has_member",Jie="http://rdfs.org/sioc/ns#has_moderator",Yie="http://rdfs.org/sioc/ns#has_modifier",Xie="http://rdfs.org/sioc/ns#has_owner",eae="http://rdfs.org/sioc/ns#has_parent",tae="http://rdfs.org/sioc/ns#has_reply",nae="http://rdfs.org/sioc/ns#has_scope",rae="http://rdfs.org/sioc/ns#has_space",iae="http://rdfs.org/sioc/ns#has_subscriber",aae="http://rdfs.org/sioc/ns#has_usergroup",sae="http://rdfs.org/sioc/ns#host_of",oae="http://rdfs.org/sioc/ns#id",uae="http://rdfs.org/sioc/ns#ip_address",lae="http://rdfs.org/sioc/ns#last_activity_date",cae="http://rdfs.org/sioc/ns#last_item_date",fae="http://rdfs.org/sioc/ns#last_reply_date",dae="http://rdfs.org/sioc/ns#latest_version",hae="http://rdfs.org/sioc/ns#likes",pae="http://rdfs.org/sioc/ns#link",gae="http://rdfs.org/sioc/ns#links_to",mae="http://rdfs.org/sioc/ns#member_of",yae="http://rdfs.org/sioc/ns#mentions",vae="http://rdfs.org/sioc/ns#moderator_of",_ae="http://rdfs.org/sioc/ns#modifier_of",wae="http://rdfs.org/sioc/ns#name",bae="http://rdfs.org/sioc/ns#next_by_date",Sae="http://rdfs.org/sioc/ns#next_version",xae="http://rdfs.org/sioc/ns#note",Eae="http://rdfs.org/sioc/ns#num_authors",Tae="http://rdfs.org/sioc/ns#num_items",Cae="http://rdfs.org/sioc/ns#num_replies",Aae="http://rdfs.org/sioc/ns#num_threads",Rae="http://rdfs.org/sioc/ns#num_views",Oae="http://rdfs.org/sioc/ns#owner_of",Pae="http://rdfs.org/sioc/ns#parent_of",Iae="http://rdfs.org/sioc/ns#previous_by_date",Lae="http://rdfs.org/sioc/ns#previous_version",Mae="http://rdfs.org/sioc/ns#read_at",kae="http://rdfs.org/sioc/ns#related_to",Dae="http://rdfs.org/sioc/ns#reply_of",Nae="http://rdfs.org/sioc/ns#respond_to",Fae="http://rdfs.org/sioc/ns#scope_of",jae="http://rdfs.org/sioc/ns#shared_by",$ae="http://rdfs.org/sioc/ns#space_of",Uae="http://rdfs.org/sioc/ns#subscriber_of",Bae="http://rdfs.org/sioc/ns#topic",qae="http://rdfs.org/sioc/ns#usergroup_of",Hae=Object.freeze({Community:gie,Container:mie,Forum:yie,Item:vie,Post:_ie,Role:wie,Space:bie,Site:Sie,Thread:xie,UserAccount:Eie,Usergroup:Tie,about:Cie,account_of:Aie,addressed_to:Rie,administrator_of:Oie,attachment:Pie,avatar:Iie,container_of:Lie,content:Mie,creator_of:kie,delivered_at:Die,discussion_of:Nie,email:Fie,email_sha1:jie,embeds_knowledge:$ie,feed:Uie,follows:Bie,function_of:qie,generator:Hie,has_administrator:zie,has_container:Vie,has_creator:Kie,has_discussion:Gie,has_function:Wie,has_host:Qie,has_member:Zie,has_moderator:Jie,has_modifier:Yie,has_owner:Xie,has_parent:eae,has_reply:tae,has_scope:nae,has_space:rae,has_subscriber:iae,has_usergroup:aae,host_of:sae,id:oae,ip_address:uae,last_activity_date:lae,last_item_date:cae,last_reply_date:fae,latest_version:dae,likes:hae,link:pae,links_to:gae,member_of:mae,mentions:yae,moderator_of:vae,modifier_of:_ae,name:wae,next_by_date:bae,next_version:Sae,note:xae,num_authors:Eae,num_items:Tae,num_replies:Cae,num_threads:Aae,num_views:Rae,owner_of:Oae,parent_of:Pae,previous_by_date:Iae,previous_version:Lae,read_at:Mae,related_to:kae,reply_of:Dae,respond_to:Nae,scope_of:Fae,shared_by:jae,space_of:$ae,subscriber_of:Uae,topic:Bae,usergroup_of:qae}),zae="http://www.w3.org/ns/solid/terms#Account",Vae="http://www.w3.org/ns/solid/terms#Inbox",Kae="http://www.w3.org/ns/solid/terms#InsertDeletePatch",Gae="http://www.w3.org/ns/solid/terms#ListedDocument",Wae="http://www.w3.org/ns/solid/terms#Notification",Qae="http://www.w3.org/ns/solid/terms#Patch",Zae="http://www.w3.org/ns/solid/terms#Timeline",Jae="http://www.w3.org/ns/solid/terms#TypeIndex",Yae="http://www.w3.org/ns/solid/terms#TypeRegistration",Xae="http://www.w3.org/ns/solid/terms#UnlistedDocument",ese="http://www.w3.org/ns/solid/terms#account",tse="http://www.w3.org/ns/solid/terms#deletes",nse="http://www.w3.org/ns/solid/terms#forClass",rse="http://www.w3.org/ns/solid/terms#inbox",ise="http://www.w3.org/ns/solid/terms#inserts",ase="http://www.w3.org/ns/solid/terms#instance",sse="http://www.w3.org/ns/solid/terms#instanceContainer",ose="http://www.w3.org/ns/solid/terms#loginEndpoint",use="http://www.w3.org/ns/solid/terms#logoutEndpoint",lse="http://www.w3.org/ns/solid/terms#notification",cse="http://www.w3.org/ns/solid/terms#oidcIssuer",fse="http://www.w3.org/ns/solid/terms#owner",dse="http://www.w3.org/ns/solid/terms#patches",hse="http://www.w3.org/ns/solid/terms#privateTypeIndex",pse="http://www.w3.org/ns/solid/terms#publicTypeIndex",gse="http://www.w3.org/ns/solid/terms#read",mse="http://www.w3.org/ns/solid/terms#storageQuota",yse="http://www.w3.org/ns/solid/terms#storageUsage",vse="http://www.w3.org/ns/solid/terms#typeIndex",_se="http://www.w3.org/ns/solid/terms#timeline",wse="http://www.w3.org/ns/solid/terms#where",bse=Object.freeze({Account:zae,Inbox:Vae,InsertDeletePatch:Kae,ListedDocument:Gae,Notification:Wae,Patch:Qae,Timeline:Zae,TypeIndex:Jae,TypeRegistration:Yae,UnlistedDocument:Xae,account:ese,deletes:tse,forClass:nse,inbox:rse,inserts:ise,instance:ase,instanceContainer:sse,loginEndpoint:ose,logoutEndpoint:use,notification:lse,oidcIssuer:cse,owner:fse,patches:dse,privateTypeIndex:hse,publicTypeIndex:pse,read:gse,storageQuota:mse,storageUsage:yse,typeIndex:vse,timeline:_se,where:wse}),Sse="http://www.w3.org/ns/pim/space#ControlledStorage",xse="http://www.w3.org/ns/pim/space#PersonalStorage",Ese="http://www.w3.org/ns/pim/space#PublicStorage",Tse="http://www.w3.org/ns/pim/space#Storage",Cse="http://www.w3.org/ns/pim/space#Workspace",Ase="http://www.w3.org/ns/pim/space#masterWorkspace",Rse="http://www.w3.org/ns/pim/space#preferencesFile",Ose="http://www.w3.org/ns/pim/space#storage",Pse="http://www.w3.org/ns/pim/space#uriPrefix",Ise="http://www.w3.org/ns/pim/space#workspace",Lse=Object.freeze({ControlledStorage:Sse,PersonalStorage:xse,PublicStorage:Ese,Storage:Tse,Workspace:Cse,masterWorkspace:Ase,preferencesFile:Rse,storage:Ose,uriPrefix:Pse,workspace:Ise}),Mse="http://www.w3.org/2006/vcard/ns#Acquaintance",kse="http://www.w3.org/2006/vcard/ns#Agent",Dse="http://www.w3.org/2006/vcard/ns#BBS",Nse="http://www.w3.org/2006/vcard/ns#Car",Fse="http://www.w3.org/2006/vcard/ns#Cell",jse="http://www.w3.org/2006/vcard/ns#Child",$se="http://www.w3.org/2006/vcard/ns#Colleague",Use="http://www.w3.org/2006/vcard/ns#Contact",Bse="http://www.w3.org/2006/vcard/ns#Coresident",qse="http://www.w3.org/2006/vcard/ns#Coworker",Hse="http://www.w3.org/2006/vcard/ns#Crush",zse="http://www.w3.org/2006/vcard/ns#Date",Vse="http://www.w3.org/2006/vcard/ns#Dom",Kse="http://www.w3.org/2006/vcard/ns#Emergency",Gse="http://www.w3.org/2006/vcard/ns#Fax",Wse="http://www.w3.org/2006/vcard/ns#Female",Qse="http://www.w3.org/2006/vcard/ns#Friend",Zse="http://www.w3.org/2006/vcard/ns#Home",Jse="http://www.w3.org/2006/vcard/ns#ISDN",Yse="http://www.w3.org/2006/vcard/ns#Internet",Xse="http://www.w3.org/2006/vcard/ns#Intl",eoe="http://www.w3.org/2006/vcard/ns#Kin",toe="http://www.w3.org/2006/vcard/ns#Label",noe="http://www.w3.org/2006/vcard/ns#Male",roe="http://www.w3.org/2006/vcard/ns#Me",ioe="http://www.w3.org/2006/vcard/ns#Met",aoe="http://www.w3.org/2006/vcard/ns#Modem",soe="http://www.w3.org/2006/vcard/ns#Msg",ooe="http://www.w3.org/2006/vcard/ns#Muse",uoe="http://www.w3.org/2006/vcard/ns#Neighbor",loe="http://www.w3.org/2006/vcard/ns#None",coe="http://www.w3.org/2006/vcard/ns#Other",foe="http://www.w3.org/2006/vcard/ns#PCS",doe="http://www.w3.org/2006/vcard/ns#Pager",hoe="http://www.w3.org/2006/vcard/ns#Parcel",poe="http://www.w3.org/2006/vcard/ns#Parent",goe="http://www.w3.org/2006/vcard/ns#Postal",moe="http://www.w3.org/2006/vcard/ns#Pref",yoe="http://www.w3.org/2006/vcard/ns#Sibling",voe="http://www.w3.org/2006/vcard/ns#Spouse",_oe="http://www.w3.org/2006/vcard/ns#Sweetheart",woe="http://www.w3.org/2006/vcard/ns#Tel",boe="http://www.w3.org/2006/vcard/ns#Text",Soe="http://www.w3.org/2006/vcard/ns#TextPhone",xoe="http://www.w3.org/2006/vcard/ns#Unknown",Eoe="http://www.w3.org/2006/vcard/ns#Video",Toe="http://www.w3.org/2006/vcard/ns#Voice",Coe="http://www.w3.org/2006/vcard/ns#Work",Aoe="http://www.w3.org/2006/vcard/ns#X400",Roe="http://www.w3.org/2006/vcard/ns#adr",Ooe="http://www.w3.org/2006/vcard/ns#agent",Poe="http://www.w3.org/2006/vcard/ns#anniversary",Ioe="http://www.w3.org/2006/vcard/ns#bday",Loe="http://www.w3.org/2006/vcard/ns#category",Moe="http://www.w3.org/2006/vcard/ns#class",koe="http://www.w3.org/2006/vcard/ns#email",Doe="http://www.w3.org/2006/vcard/ns#geo",Noe="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Foe="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",joe="http://www.w3.org/2006/vcard/ns#hasCalendarLink",$oe="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Uoe="http://www.w3.org/2006/vcard/ns#hasCategory",Boe="http://www.w3.org/2006/vcard/ns#hasCountryName",qoe="http://www.w3.org/2006/vcard/ns#hasFN",Hoe="http://www.w3.org/2006/vcard/ns#hasFamilyName",zoe="http://www.w3.org/2006/vcard/ns#hasGender",Voe="http://www.w3.org/2006/vcard/ns#hasGivenName",Koe="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",Goe="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",Woe="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Qoe="http://www.w3.org/2006/vcard/ns#hasLanguage",Zoe="http://www.w3.org/2006/vcard/ns#hasLocality",Joe="http://www.w3.org/2006/vcard/ns#hasNickname",Yoe="http://www.w3.org/2006/vcard/ns#hasNote",Xoe="http://www.w3.org/2006/vcard/ns#hasOrganizationName",eue="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",tue="http://www.w3.org/2006/vcard/ns#hasPostalCode",nue="http://www.w3.org/2006/vcard/ns#hasRegion",rue="http://www.w3.org/2006/vcard/ns#hasRelated",iue="http://www.w3.org/2006/vcard/ns#hasRole",aue="http://www.w3.org/2006/vcard/ns#hasSource",sue="http://www.w3.org/2006/vcard/ns#hasStreetAddress",oue="http://www.w3.org/2006/vcard/ns#hasTitle",uue="http://www.w3.org/2006/vcard/ns#hasUID",lue="http://www.w3.org/2006/vcard/ns#hasValue",cue="http://www.w3.org/2006/vcard/ns#label",fue="http://www.w3.org/2006/vcard/ns#language",due="http://www.w3.org/2006/vcard/ns#latitude",hue="http://www.w3.org/2006/vcard/ns#longitude",pue="http://www.w3.org/2006/vcard/ns#mailer",gue="http://www.w3.org/2006/vcard/ns#note",mue="http://www.w3.org/2006/vcard/ns#org",yue="http://www.w3.org/2006/vcard/ns#prodid",vue="http://www.w3.org/2006/vcard/ns#rev",_ue="http://www.w3.org/2006/vcard/ns#role",wue="http://www.w3.org/2006/vcard/ns#title",bue="http://www.w3.org/2006/vcard/ns#tz",Sue="http://www.w3.org/2006/vcard/ns#value",xue="http://www.w3.org/2006/vcard/ns#Address",Eue="http://www.w3.org/2006/vcard/ns#Email",Tue="http://www.w3.org/2006/vcard/ns#Group",Cue="http://www.w3.org/2006/vcard/ns#Individual",Aue="http://www.w3.org/2006/vcard/ns#Name",Rue="http://www.w3.org/2006/vcard/ns#VCard",Oue="http://www.w3.org/2006/vcard/ns#fn",Pue="http://www.w3.org/2006/vcard/ns#hasAddress",Iue="http://www.w3.org/2006/vcard/ns#hasEmail",Lue="http://www.w3.org/2006/vcard/ns#hasGeo",Mue="http://www.w3.org/2006/vcard/ns#hasKey",kue="http://www.w3.org/2006/vcard/ns#hasLogo",Due="http://www.w3.org/2006/vcard/ns#hasName",Nue="http://www.w3.org/2006/vcard/ns#hasPhoto",Fue="http://www.w3.org/2006/vcard/ns#hasSound",jue="http://www.w3.org/2006/vcard/ns#hasTelephone",$ue="http://www.w3.org/2006/vcard/ns#hasURL",Uue="http://www.w3.org/2006/vcard/ns#key",Bue="http://www.w3.org/2006/vcard/ns#logo",que="http://www.w3.org/2006/vcard/ns#n",Hue="http://www.w3.org/2006/vcard/ns#nickname",zue="http://www.w3.org/2006/vcard/ns#photo",Vue="http://www.w3.org/2006/vcard/ns#sound",Kue="http://www.w3.org/2006/vcard/ns#tel",Gue="http://www.w3.org/2006/vcard/ns#url",Wue="http://www.w3.org/2006/vcard/ns#Location",Que="http://www.w3.org/2006/vcard/ns#hasMember",Zue="http://www.w3.org/2006/vcard/ns#locality",Jue="http://www.w3.org/2006/vcard/ns#region",Yue="http://www.w3.org/2006/vcard/ns#Organization",Xue="http://www.w3.org/2006/vcard/ns#Gender",ele="http://www.w3.org/2006/vcard/ns#Kind",tle="http://www.w3.org/2006/vcard/ns#Type",nle="http://www.w3.org/2006/vcard/ns#TelephoneType",rle="http://www.w3.org/2006/vcard/ns#RelatedType",ile=Object.freeze({Acquaintance:Mse,Agent:kse,BBS:Dse,Car:Nse,Cell:Fse,Child:jse,Colleague:$se,Contact:Use,Coresident:Bse,Coworker:qse,Crush:Hse,Date__workaround:zse,Dom:Vse,Emergency:Kse,Fax:Gse,Female:Wse,Friend:Qse,Home:Zse,ISDN:Jse,Internet:Yse,Intl__workaround:Xse,Kin:eoe,Label:toe,Male:noe,Me:roe,Met:ioe,Modem:aoe,Msg:soe,Muse:ooe,Neighbor:uoe,None:loe,Other:coe,PCS:foe,Pager:doe,Parcel:hoe,Parent:poe,Postal:goe,Pref:moe,Sibling:yoe,Spouse:voe,Sweetheart:_oe,Tel:woe,Text:boe,TextPhone:Soe,Unknown:xoe,Video:Eoe,Voice:Toe,Work:Coe,X400:Aoe,adr:Roe,agent:Ooe,anniversary:Poe,bday:Ioe,category:Loe,class__workaround:Moe,email:koe,geo:Doe,hasAdditionalName:Noe,hasCalendarBusy:Foe,hasCalendarLink:joe,hasCalendarRequest:$oe,hasCategory:Uoe,hasCountryName:Boe,hasFN:qoe,hasFamilyName:Hoe,hasGender:zoe,hasGivenName:Voe,hasHonorificPrefix:Koe,hasHonorificSuffix:Goe,hasInstantMessage:Woe,hasLanguage:Qoe,hasLocality:Zoe,hasNickname:Joe,hasNote:Yoe,hasOrganizationName:Xoe,hasOrganizationUnit:eue,hasPostalCode:tue,hasRegion:nue,hasRelated:rue,hasRole:iue,hasSource:aue,hasStreetAddress:sue,hasTitle:oue,hasUID:uue,hasValue:lue,label:cue,language:fue,latitude:due,longitude:hue,mailer:pue,note:gue,org:mue,prodid:yue,rev:vue,role:_ue,title:wue,tz:bue,value:Sue,Address:xue,Email:Eue,Group:Tue,Individual:Cue,Name:Aue,VCard:Rue,fn:Oue,hasAddress:Pue,hasEmail:Iue,hasGeo:Lue,hasKey:Mue,hasLogo:kue,hasName:Due,hasPhoto:Nue,hasSound:Fue,hasTelephone:jue,hasURL:$ue,key:Uue,logo:Bue,n:que,nickname:Hue,photo:zue,sound:Vue,tel:Kue,url:Gue,Location:Wue,hasMember:Que,locality:Zue,region:Jue,Organization:Yue,Gender:Xue,Kind:ele,Type:tle,TelephoneType:nle,RelatedType:rle}),ale="http://www.w3.org/2005/01/wf/flow#ActionItem",sle="http://www.w3.org/2005/01/wf/flow#Change",ole="http://www.w3.org/2005/01/wf/flow#Closed",ule="http://www.w3.org/2005/01/wf/flow#Creation",lle="http://www.w3.org/2005/01/wf/flow#Message",cle="http://www.w3.org/2005/01/wf/flow#NonTerminalState",fle="http://www.w3.org/2005/01/wf/flow#Open",dle="http://www.w3.org/2005/01/wf/flow#Product",hle="http://www.w3.org/2005/01/wf/flow#Task",ple="http://www.w3.org/2005/01/wf/flow#TerminalState",gle="http://www.w3.org/2005/01/wf/flow#Tracker",mle="http://www.w3.org/2005/01/wf/flow#Transition",yle="http://www.w3.org/2005/01/wf/flow#affects",vle="http://www.w3.org/2005/01/wf/flow#allowedTransitions",_le="http://www.w3.org/2005/01/wf/flow#asigneeClass",wle="http://www.w3.org/2005/01/wf/flow#assignee",ble="http://www.w3.org/2005/01/wf/flow#attachment",Sle="http://www.w3.org/2005/01/wf/flow#creates",xle="http://www.w3.org/2005/01/wf/flow#dateDue",Ele="http://www.w3.org/2005/01/wf/flow#deliverable",Tle="http://www.w3.org/2005/01/wf/flow#dependent",Cle="http://www.w3.org/2005/01/wf/flow#description",Ale="http://www.w3.org/2005/01/wf/flow#final",Rle="http://www.w3.org/2005/01/wf/flow#goalDescription",Ole="http://www.w3.org/2005/01/wf/flow#initialState",Ple="http://www.w3.org/2005/01/wf/flow#issue",Ile="http://www.w3.org/2005/01/wf/flow#issueCategory",Lle="http://www.w3.org/2005/01/wf/flow#issueClass",Mle="http://www.w3.org/2005/01/wf/flow#message",kle="http://www.w3.org/2005/01/wf/flow#modifiedBy",Dle="http://www.w3.org/2005/01/wf/flow#recipent",Nle="http://www.w3.org/2005/01/wf/flow#requires",Fle="http://www.w3.org/2005/01/wf/flow#screenShot",jle="http://www.w3.org/2005/01/wf/flow#sender",$le="http://www.w3.org/2005/01/wf/flow#source",Ule="http://www.w3.org/2005/01/wf/flow#stateStore",Ble="http://www.w3.org/2005/01/wf/flow#subscriber",qle="http://www.w3.org/2005/01/wf/flow#successCriteria",Hle="http://www.w3.org/2005/01/wf/flow#task",zle="http://www.w3.org/2005/01/wf/flow#terminalOutput",Vle="http://www.w3.org/2005/01/wf/flow#testData",Kle="http://www.w3.org/2005/01/wf/flow#tracker",Gle="http://www.w3.org/2005/01/wf/flow#transactionStore",Wle=Object.freeze({ActionItem:ale,Change:sle,Closed:ole,Creation:ule,Message:lle,NonTerminalState:cle,Open:fle,Product:dle,Task:hle,TerminalState:ple,Tracker:gle,Transition:mle,affects:yle,allowedTransitions:vle,asigneeClass:_le,assignee:wle,attachment:ble,creates:Sle,dateDue:xle,deliverable:Ele,dependent:Tle,description:Cle,final:Ale,goalDescription:Rle,initialState:Ole,issue:Ple,issueCategory:Ile,issueClass:Lle,message:Mle,modifiedBy:kle,recipent:Dle,requires:Nle,screenShot:Fle,sender:jle,source:$le,stateStore:Ule,subscriber:Ble,successCriteria:qle,task:Hle,terminalOutput:zle,testData:Vle,tracker:Kle,transactionStore:Gle}),Sn=QJ,ZM=aee,C0=jte,wl=Wne,ml=yre,Qle=Pre,lm=Yre,HA=pie,Cd=Hae,Hn=bse,cm=Lse,tB=ile,Zle=Wle;const Jle=async(t,e)=>{const n=await globalThis.fetch(t,{method:"GET"});return await yr(n.url,e)},Yle=async t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e(r.result)},r.onerror=i=>n(i)}),ri=t=>{const e=new URL(t);if(e.hash="",e.search="",e.pathname.length===0||e.pathname==="/")return e.toString();const n=e.pathname.split("/").slice(0,-1);return n.push(""),e.pathname=n.join("/"),e.toString()},nB=t=>{const e=ri(t);return e===t?rB(e):e},Xle=t=>ece(t,nB),rB=t=>{const e=new URL(t);if(e.pathname.length===0||e.pathname==="/")return t;const n=e.pathname.split("/").slice(0,-2);return n.push(""),e.pathname=n.join("/"),e.toString()},uu=async(t,e)=>{try{return await yr(t,e)}catch{return await Jle(t,e)}},Hd=t=>{const e=new URL(t);return e.hash="",e.toString()},JM=t=>{const e=new URL(t);return e.protocol="https",e.toString()},ece=(t,e)=>{const n=new Set;let r=t;for(;!n.has(r);)n.add(r),r=e(r);return n.delete(t),Array.from(n)},El=async t=>{var a;const n=(await yr(t,{method:"HEAD"})).headers.get("link"),r=RJ(n),i=(a=r==null?void 0:r.acl)==null?void 0:a.url;if(!i)throw new Error(`We could not find WAC link for ${t}`);return new URL(i,t).toString()},tce=(t,e)=>{const r=new Ud({baseIRI:t}).parse(e),i=new co(r),a=i.getSubjects(lm.type,Sn.Authorization,null),s={[Sn.Read]:"Read",[Sn.Write]:"Write",[Sn.Append]:"Append",[Sn.Control]:"Control"};return a.map(o=>{const l=i.getObjects(o,Sn.mode,null).map(y=>s[y.value]),f=i.getObjects(o,Sn.agent,null).map(y=>y.value),h=i.getObjects(o,Sn.agentClass,null).map(y=>y.value),p=i.getObjects(o,Sn.agentGroup,null).map(y=>y.value),m=i.getObjects(o,Sn.default__workaround,null).map(y=>y.value);return{url:o.value,accesses:l,agents:f,agentClasses:h,agentGroups:p,defaults:m}})},nce=(t,...e)=>{const n={};for(const r of e)for(const i of r)n[i[t]]=i;return Object.values(n)},zA=(t="")=>{const e=t&&Hd(t),n=ae.useMemo(()=>["file",e],[e]);return tm({queryKey:n,queryFn:()=>rce(e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},rce=async t=>{const e=await yr(t);if(e.ok)return URL.createObjectURL(await e.blob());if(e.status===404)return"";throw new Error(`Fetching ${t} not successful`)},ice=async(t,e)=>{const r=(await yr(t,{method:"POST",body:e})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},ace=async t=>{await yr(t,{method:"DELETE"})},sce=()=>{const t=xa();return fs({mutationFn:async({uri:n,data:r})=>await ice(n,r),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Hd(r.uri)]})}})},oce=()=>{const t=xa();return fs({mutationFn:async({uri:n})=>await ace(n),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:["file",Hd(r.uri)]})}})};var eS={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var YM;function uce(){return YM||(YM=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var r=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var s=typeof a;if(s==="string"||s==="number")r.push(a);else if(Array.isArray(a)){if(a.length){var o=n.apply(null,a);o&&r.push(o)}}else if(s==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){r.push(a.toString());continue}for(var l in a)e.call(a,l)&&a[l]&&r.push(l)}}}return r.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(eS)),eS.exports}var lce=uce();const mi=Ur(lce);var iB={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XM=Gt.createContext&&Gt.createContext(iB),cce=["attr","size","title"];function fce(t,e){if(t==null)return{};var n=dce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}function ek(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(n),!0).forEach(function(r){hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hce(t,e,n){return e=pce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pce(t){var e=gce(t,"string");return typeof e=="symbol"?e:e+""}function gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aB(t){return t&&t.map((e,n)=>Gt.createElement(e.tag,G_({key:n},e.attr),aB(e.child)))}function po(t){return e=>Gt.createElement(mce,K_({attr:G_({},t.attr)},e),aB(t.child))}function mce(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=fce(t,cce),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Gt.createElement("svg",K_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:G_(G_({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Gt.createElement("title",null,a),t.children)};return XM!==void 0?Gt.createElement(XM.Consumer,null,n=>e(n)):e(iB)}function yce(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function sB(t){return po({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(t)}function tk(t){return po({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function oB(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function vce(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(t)}function _ce(t){return po({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function wce(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function uB(t){return po({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function bce(t){return po({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function Sce(t){return po({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(t)}const xce="_photo_cmh6k_1",Ece="_square_cmh6k_6",tS={photo:xce,square:Ece},A0=({photo:t,size:e=1,square:n,className:r})=>{const{data:i}=zA(t);return i?ge.jsx("img",{className:mi(tS.photo,n&&tS.square,r),src:i,alt:"",style:{width:`${e*2}rem`,height:`${e*2}rem`}}):ge.jsx(bce,{className:mi(tS.photo,r),size:e*32})},Tce="_button_1j0b6_1",Cce="_primary_1j0b6_9",Ace="_secondary_1j0b6_18",Rce="_tertiary_1j0b6_26",Oce="_danger_1j0b6_31",sa={button:Tce,primary:Cce,secondary:Ace,tertiary:Rce,danger:Oce},Kr=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>ge.jsx("button",{className:mi(i,sa.button,t&&sa.primary,r&&sa.danger,e&&sa.secondary,n&&sa.tertiary),...a}),Fc=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>ge.jsx(Cs,{className:mi(i,sa.button,t&&sa.primary,r&&sa.danger,e&&sa.secondary,n&&sa.tertiary),...a}),Pce=t=>ge.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:ge.jsx(oB,{})}),Ice=({primary:t,secondary:e,tertiary:n,danger:r,className:i,children:a,...s})=>ge.jsx("a",{className:mi(i,sa.button,t&&sa.primary,r&&sa.danger,e&&sa.secondary,n&&sa.tertiary),...s,children:a}),Lce="_logoContainer_14htv_1",Mce="_logo_14htv_1",kce="_focusedLogo_14htv_10",Dce="_unfocusedLogo_14htv_13",tp={logoContainer:Lce,logo:Mce,focusedLogo:kce,unfocusedLogo:Dce},lB=({logo:t,focusedLogo:e,name:n,className:r})=>!t&&!n?null:ge.jsxs("div",{className:tp.logoContainer,children:[t&&ge.jsx("img",{src:t,className:mi(tp.logo,e?tp.unfocusedLogo:null,r),alt:n?`logo of ${n}`:""}),e&&ge.jsx("img",{src:e,className:mi(tp.logo,tp.focusedLogo,r),alt:n?`focused logo of ${n}`:""}),n?ge.jsx("span",{children:n}):null]}),Nce=()=>{const t=sm(),e=async()=>{await CZ(),t(CA.signout())};return ge.jsx("button",{onClick:e,children:"sign out"})},Vn=()=>{const t=Wc(zU);return ae.useMemo(()=>({...cW,...t}),[t])},Fce=()=>{const t=sm(),e=Vn();ae.useEffect(()=>{window.updateAppConfig=n=>{t(yC.setConfig(n))},window.resetAppConfig=()=>{t(yC.resetConfig())}},[t]),ae.useEffect(()=>{window.appConfig=e},[e])},jce={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},$ce={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Uce={schema:$ce,shape:"https://example.com/HospexCommunity",context:jce};var Bce=fu();const np="http://www.w3.org/1999/02/22-rdf-syntax-ns#",rp="http://www.w3.org/2001/XMLSchema#",nS="http://www.w3.org/2000/10/swap/",ji={xsd:{decimal:`${rp}decimal`,boolean:`${rp}boolean`,double:`${rp}double`,integer:`${rp}integer`,string:`${rp}string`},rdf:{type:`${np}type`,nil:`${np}nil`,first:`${np}first`,rest:`${np}rest`,langString:`${np}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${nS}reify#forSome`,forAll:`${nS}reify#forAll`},log:{implies:`${nS}log#implies`}},{xsd:Yy}=ji,qce=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,nk={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Hce=/[\x00-\x20<>\\"\{\}\|\^\`]/,zce={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Vce=/$0^/;class Kce{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in zce)&&this[n]instanceof RegExp&&(this[n]=Vce)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this.comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const f=this._line,h=r[0];let p="",m="",y="",_=null,x=0,E=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){E=!0;break}}else{this._n3Mode&&(x=1,p="^");break}case"<":if(_=this._unescapedIri.exec(r))p="IRI",m=_[1];else if(_=this._iri.exec(r)){if(m=this._unescape(_[1]),m===null||Hce.test(m))return s(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",x=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",x=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",x=2);break;case"_":((_=this._blank.exec(r))||n&&(_=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=_[1]);break;case'"':if(_=this._simpleQuotedString.exec(r))m=_[1];else if({value:m,matchLength:x}=this._parseLiteral(r),m===null)return s(this);(_!==null||x!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(_=this._simpleApostropheString.exec(r))m=_[1];else if({value:m,matchLength:x}=this._parseLiteral(r),m===null)return s(this);(_!==null||x!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(_=this._variable.exec(r))&&(p="var",m=_[0]);break;case"@":this._previousMarker==="literal"&&(_=this._langcode.exec(r))?(p="langcode",m=_[1]):(_=this._keyword.exec(r))&&(p=_[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",x=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(_=this._number.exec(r)||n&&(_=this._number.exec(`${r} `)))&&(p="literal",m=_[0],y=typeof _[1]=="string"?Yy.double:typeof _[2]=="string"?Yy.decimal:Yy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(_=this._sparqlKeyword.exec(r))?p=_[0].toUpperCase():E=!0;break;case"f":case"t":(_=this._boolean.exec(r))?(p="literal",m=_[0],y=Yy.boolean):E=!0;break;case"a":(_=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):E=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(x=1,m="="):(x=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(x=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",x=2):(p=h,x=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",x=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(_=this._prefix.exec(r))?(p="prefix",m=_[1]||""):((_=this._prefixed.exec(r))||n&&(_=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=_[1]||"",m=this._unescape(_[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const S=x||_[0].length,b=a(p,m,y,f,S);this.previousToken=b,this._previousMarker=p,r=r.substr(S,r.length)}function a(o,l,f,h,p){const m=r?i-r.length:i,y=m+p,_={type:o,value:l,prefix:f,line:h,start:m,end:y};return e(null,_),_}function s(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(qce,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in nk?nk[o]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const s=e.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")j5(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Bce.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:Gce,xsd:bc}=ji;let zd,Wce=0;const bl={namedNode:fB,blankNode:dB,variable:pB,literal:hB,defaultGraph:Yce,quad:OC,triple:OC,fromTerm:sg,fromQuad:gB};class ks{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof ks?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let to=class extends ks{get termType(){return"NamedNode"}},__=class cB extends ks{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new to(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?bc.string:Gce.langString}equals(e){return e instanceof cB?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Qce=class extends ks{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Zce=class extends ks{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Jce=class extends ks{constructor(){return super(""),zd||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};zd=new Jce;function ag(t,e,n){if(e=e||bl,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===bl)return new __(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(ag(t[0],e,!0),ag(t[1],e,!0),ag(t[2],e,!0),t[3]&&ag(t[3],e,!0))}function Xf(t,e){if(typeof t=="string")return t;if(t instanceof ks&&t.termType!=="Quad")return t.id;if(!t)return zd.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==bc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[Xf(t.subject,!0),Xf(t.predicate,!0),Xf(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(Xf(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Qs=class extends ks{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||zd}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function fB(t){return new to(t)}function dB(t){return new Qce(t||`n3-${Wce++}`)}function hB(t,e){if(typeof e=="string")return new __(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=bc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?bc.integer:bc.double:(n=bc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===bc.string?new __(`"${t}"`):new __(`"${t}"^^${n}`)}function pB(t){return new Zce(t)}function Yce(){return zd}function OC(t,e,n,r){return new Qs(t,e,n,r)}function sg(t){if(t instanceof ks)return t;switch(t.termType){case"NamedNode":return fB(t.value);case"BlankNode":return dB(t.value);case"Variable":return pB(t.value);case"DefaultGraph":return zd;case"Literal":return hB(t.value,t.language||t.datatype);case"Quad":return gB(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function gB(t){if(t instanceof Qs)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return OC(sg(t.subject),sg(t.predicate),sg(t.object),sg(t.graph))}let rk=0;class mB{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&yB(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new Kce({lineMode:l,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){rk=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=Xy}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return r+e.substring(s)}parse(e,n,r){let i,a,s;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,s=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${rk++}_`,this._prefixCallback=a||Xy,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let f;if(this._callback=(h,p)=>{h?f=h:p&&l.push(p)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),f)throw f;return l}let o=(l,f)=>{l!==null?(this._callback(l),this._callback=Xy):this._readCallback&&(this._readCallback=this._readCallback(f))};s&&(this._lexer.comments=!0,o=(l,f)=>{l!==null?(this._callback(l),this._callback=Xy):this._readCallback&&(f.type==="comment"?s(f.value):this._readCallback=this._readCallback(f))}),this._callback=i,this._lexer.tokenize(e,o)}}function Xy(){}function yB(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(ji.rdf.first),t.RDF_REST=n(ji.rdf.rest),t.RDF_NIL=n(ji.rdf.nil),t.N3_FORALL=n(ji.r.forAll),t.N3_FORSOME=n(ji.r.forSome),t.ABBREVIATIONS={a:n(ji.rdf.type),"=":n(ji.owl.sameAs),">":n(ji.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}yB(mB.prototype,bl);function PC(t){return!!t&&t.termType==="DefaultGraph"}const ip=bl.defaultGraph(),{rdf:Xce,xsd:Ff}=ji,ik=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,ak=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,efe={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class ap extends ks{equals(e){return e===this}}class vB{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ip,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${ok(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return ip.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ip.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){let n="";for(const r of e)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),ik.test(n)&&(n=n.replace(ak,sk));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(ik.test(n)&&(n=n.replace(ak,sk)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Ff.string)return`"${n}"`}else switch(e.datatype.value){case Ff.string:return`"${n}"`;case Ff.boolean:if(n==="true"||n==="false")return n;break;case Ff.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Ff.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Ff.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===Xce.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${PC(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,ip,i):this._writeQuad(e,n,r,i||ip,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=ok(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new ap("[]");case 1:if(i=r[0],!(i.object instanceof ap))return new ap(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new ap(`${s}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new ap(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function sk(t){let e=efe[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function ok(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const rS=Symbol("iter");function vg(t,e,n=4){if(n===0)return Object.assign(t,e);for(const r in e)t[r]=vg(t[r]||Object.create(null),e[r],n-1);return t}function _B(t,e,n=4){let r=!1;for(const i in t)if(i in e){const a=n===0?null:_B(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function wB(t,e,n=4){let r=!1;for(const i in t)if(!(i in e))r=r||Object.create(null),r[i]=n===0?null:vg({},t[i],n-1);else if(n!==0){const a=wB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class tfe{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||bl}_termFromId(e){if(e[0]==="."){const n=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return ag(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(PC(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Xf(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${PC(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:Xf(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class ga{constructor(e,n){this._size=0,this._graphs=Object.create(null),!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||bl,this._entityIndex=n.entityIndex||new tfe({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,n,r,i){const a=e[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,s,o,l){let f,h,p;const m=this._entities,y=this._termFromId(m[l]),_={subject:null,predicate:null,object:null};n&&((f=e,e={})[n]=f[n]);for(const x in e)if(h=e[x]){_[a]=this._termFromId(m[x]),r&&((f=h,h={})[r]=f[r]);for(const E in h)if(p=h[E]){_[s]=this._termFromId(m[E]);const S=i?i in p?[i]:[]:Object.keys(p);for(let b=0;b<S.length;b++)_[o]=this._termFromId(m[S[b]]),yield this._factory.quad(_.subject,_.predicate,_.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,s,o;if((a=e[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(e,n,r,i){let a=0,s,o,l;n&&((s=e,e={})[n]=s[n]);for(const f in e)if(o=e[f]){r&&((s=o,o={})[r]=s[r]);for(const h in o)(l=o[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,e,n,r)?(this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,!0):!1}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||({subject:e,predicate:n,object:r,graph:i}=e),i=i?this._termToNumericId(i):1;const a=this._graphs;let s,o,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[e])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,n,r),this._removeFromIndex(s.predicates,n,r,e),this._removeFromIndex(s.objects,r,e,n),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new qd.Readable({objectMode:!0}),s=this.readQuads(e,n,r,i);return a._read=o=>{for(;--o>=0;){const{done:l,value:f}=s.next();if(l){a.push(null);return}a.push(f)}},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){const a=this._getGraphs(i);let s,o,l,f;if(!(e&&!(o=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const h in a)(s=a[h])&&(o?f?yield*this._findInIndex(s.objects,f,o,l,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(s.predicates,l,f,null,"predicate","object","subject",h):f?yield*this._findInIndex(s.objects,f,null,null,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new nl(this,e,n,r,i,{entityIndex:this._entityIndex})}countQuads(e,n,r,i){const a=this._getGraphs(i);let s=0,o,l,f,h;if(e&&!(l=this._termToNumericId(e))||n&&!(f=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(o=a[p])&&(e?r?s+=this._countInIndex(o.objects,h,l,f):s+=this._countInIndex(o.subjects,l,f,h):n?s+=this._countInIndex(o.predicates,f,h,l):s+=this._countInIndex(o.objects,h,l,f));return s}forEach(e,n,r,i,a){this.some(s=>(e(s,this),!1),n,r,i,a)}every(e,n,r,i,a){return!this.some(s=>!e(s,this),n,r,i,a)}some(e,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(e(s))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,e):this._loopByKey1(s.subjects,o,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,e):this._loopByKey0(s.subjects,o,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,e):this._loopByKey1(s.objects,o,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(s=>(e(s.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,ji.rdf.rest,ji.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{const l=[];let f=!1,h,p;const m=o.graph;let y=o.subject;for(;y&&!f;){const _=this.getQuads(null,null,y,null),x=this.getQuads(y,null,null,null);let E,S=null,b=null,A=null;for(let k=0;k<x.length&&!f;k++)E=x[k],E.graph.equals(m)?h?f=i(y,"has non-list arcs out"):E.predicate.value===ji.rdf.first?S?f=i(y,"has multiple rdf:first arcs"):s.push(S=E):E.predicate.value===ji.rdf.rest?b?f=i(y,"has multiple rdf:rest arcs"):s.push(b=E):_.length?f=i(y,"can't be subject and object"):(h=E,p="subject"):f=i(y,"not confined to single graph");for(let k=0;k<_.length&&!f;++k)E=_[k],h?f=i(y,"can't have coreferences"):E.predicate.value===ji.rdf.rest?A?f=i(y,"has incoming rdf:rest arcs"):A=E:(h=E,p="object");S?l.unshift(S.object):f=i(y,"has no list head"),y=A&&A.subject}f?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(s),r}addAll(e){if(e instanceof nl&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof ga&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=vg(this._graphs,e._graphs),this._size=null);else for(const n of e)this.add(n);return this}contains(e){if(e instanceof nl&&(e=e.filtered),e===this)return!0;if(!(e instanceof ga)||this._entityIndex!==e._entityIndex)return e.every(f=>this.has(f));const n=this._graphs,r=e._graphs;let i,a,s,o,l;for(const f in r){if(!(i=n[f]))return!1;i=i.subjects;for(const h in a=r[f].subjects){if(!(s=i[h]))return!1;for(const p in o=a[h]){if(!(l=s[p]))return!1;for(const m in o[p])if(!(m in l))return!1}}}return!0}deleteMatches(e,n,r,i){for(const a of this.match(e,n,r,i))this.removeQuad(a);return this}difference(e){if(e&&e instanceof nl&&(e=e.filtered),e===this)return new ga({entityIndex:this._entityIndex});if(e instanceof ga&&e._entityIndex===this._entityIndex){const n=new ga({entityIndex:this._entityIndex}),r=wB(this._graphs,e._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!e.has(n))}equals(e){return e instanceof nl&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const n=new ga({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&n.add(r);return n}intersection(e){if(e instanceof nl&&(e=e.filtered),e===this){const n=new ga({entityIndex:this._entityIndex});return n._graphs=vg(Object.create(null),this._graphs),n._size=this._size,n}else if(e instanceof ga&&this._entityIndex===e._entityIndex){const n=new ga({entityIndex:this._entityIndex}),r=_B(e._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>e.has(n))}map(e){const n=new ga({entityIndex:this._entityIndex});for(const r of this)n.add(e(r,this));return n}reduce(e,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=e(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new vB().quadsToString(this)}union(e){const n=new ga({entityIndex:this._entityIndex});return n._graphs=vg(Object.create(null),this._graphs),n._size=this._size,n.addAll(e),n}*[Symbol.iterator](){yield*this.readQuads()}}function Ws(t,e,n=0){const r=e[n];if(r&&!(r in t))return!1;let i=!1;for(const a in r?{[r]:t[r]}:t){const s=n===2?null:Ws(t[a],e,n+1);s!==!1&&(i=i||Object.create(null),i[a]=s)}return i}class nl extends qd.Readable{constructor(e,n,r,i,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a,options:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new ga({factory:e._factory,entityIndex:this.options.entityIndex});let o,l,f;if(a&&!(o=s._termToNumericId(a))||i&&!(l=s._termToNumericId(i))||r&&!(f=s._termToNumericId(r)))return s;const h=e._getGraphs(n);for(const p in h){let m,y,_;!o&&l?(y=Ws(h[p].predicates,[l,f,o]))&&(m=Ws(h[p].subjects,[o,l,f]),_=Ws(h[p].objects,[f,o,l])):f?(_=Ws(h[p].objects,[f,o,l]))&&(m=Ws(h[p].subjects,[o,l,f]),y=Ws(h[p].predicates,[l,f,o])):(m=Ws(h[p].subjects,[o,l,f]))&&(y=Ws(h[p].predicates,[l,f,o]),_=Ws(h[p].objects,[f,o,l])),m&&(s._graphs[p]={subjects:m,predicates:y,objects:_})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[rS]&&(this[rS]=this[Symbol.iterator]());const n=this[rS];for(;--e>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,n,r,i){return this.filtered.deleteMatches(e,n,r,i)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,n,r,i,a){return this.filtered.every(e,n,r,i,a)}filter(e){return this.filtered.filter(e)}forEach(e,n,r,i,a){return this.filtered.forEach(e,n,r,i,a)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,n,r,i,a){return this.filtered.some(e,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,n){return this.filtered.reduce(e,n)}toString(){return new vB().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new nl(this.filtered,e,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function uk(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var VA=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(h){try{f(r.next(h))}catch(p){s(p)}}function l(h){try{f(r.throw(h))}catch(p){s(p)}}function f(h){h.done?a(h.value):i(h.value).then(o,l)}f((r=r.apply(t,e||[])).next())})};const nfe=t=>(e,n)=>VA(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(e,{method:"GET"});return yield t(r.url,n)}),rfe=t=>(e,n)=>VA(void 0,void 0,void 0,function*(){try{return yield t(e,n)}catch{return yield nfe(t)(e,n)}}),IC=t=>{const e=new URL(t);return e.hash="",e.toString()},bB=(t,e)=>VA(void 0,void 0,void 0,function*(){let n=[],r="",i=-1,a=!1,s;try{const o=IC(t);return s=yield rfe(e)(o),a=s.ok,i=s.status,r=yield s.text(),n=ife(r,{baseIRI:o}),{data:n,rawData:r,hash:uk(r),ok:a,statusCode:i,response:s}}catch{return a=!1,{data:n,rawData:r,hash:uk(r),ok:a,statusCode:i,response:s}}}),ife=(t,e)=>{const n=new mB(e),r=bl.namedNode(e.baseIRI);return n.parse(t).map(({subject:a,predicate:s,object:o})=>bl.quad(a,s,o,r))},w_=t=>JSON.stringify(t.toJSON()),ec=["subject","predicate","object","graph"],SB={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let Qu=class extends to{constructor(e){super(SB.variable+"/"+e),this.variable=e}static getVar(e){return e.value.split("/").pop()}};const bn=Object.fromEntries(Object.entries(SB).map(([t,e])=>[t,new to(e)]));class afe{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let e="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);e+=r.concat(" ")+" ==> "+i.concat(" ")}),e}}add(e){var n,r,i;this.list.add(e),Object.values(e.from).forEach(a=>{a.forEach(s=>{var o,l,f;(o=(l=this.provides)[f=s.value])!==null&&o!==void 0||(l[f]=new Set),this.provides[s.value].add(e)})}),Object.values(e.to).forEach(a=>{a.forEach(s=>{var o,l,f;(o=(l=this.providersOf)[f=s.value])!==null&&o!==void 0||(l[f]=new Set),this.providersOf[s.value].add(e)})}),e.quad&&((n=(r=this.byQuad)[i=w_(e.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[w_(e.quad)].add(e))}remove(e){this.list.delete(e),Object.values(e.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(e)})}),Object.values(e.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(e)})}),e.quad&&this.byQuad[w_(e.quad)].delete(e)}}class lk{constructor(e,n,r=new ga){this.moves=new afe,this.store=r,this.query=e,Object.entries(n).forEach(([i,a])=>{a.forEach(s=>{const o=new to(s);this.moves.add({from:{},to:{[i]:new Set([o])},step:-1}),this.addVariable(i,o)})})}getMissingResources(){return this.getResources("missing")}removeVariable(e,n){var r;if(this.store.removeQuad(new Qs(n,bn.variable,new Qu(e),bn.meta)),n.termType==="NamedNode"){const s=new to(IC(n.value));this.store.removeQuad(new Qs(n,bn.resource,s,bn.meta)),this.store.removeQuads(this.store.getQuads(s,bn.status,null,bn.meta)),this.removeResource(s.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(s=>{var o;return Array.from((o=s.from[e])!==null&&o!==void 0?o:[]).some(l=>l.equals(n))});for(const s of a){const o=s.to;this.moves.remove(s);for(const l in o)o[l].forEach(f=>{var h;Array.from((h=this.moves.providersOf[f.value])!==null&&h!==void 0?h:new Set).filter(m=>{var y;return Array.from((y=m.to[l])!==null&&y!==void 0?y:[]).some(_=>_.equals(f))}).length===0&&this.removeVariable(l,f)})}}addResource(e,n,r="success"){const i=new to(e),a=this.store.getQuads(null,null,null,i),[s,o]=sfe(n,a);s.forEach(p=>this.addQuad(p)),o.forEach(p=>this.removeQuad(p));const l=new Qs(i,bn.status,bn.missing,bn.meta),f=new Qs(i,bn.status,bn.added,bn.meta),h=new Qs(i,bn.status,bn.failed,bn.meta);this.store.removeQuads([l,f,h]),r==="success"&&this.store.addQuad(f),r==="error"&&this.store.addQuad(h)}addQuad(e){this.store.addQuad(e);const n=Object.fromEntries(ec.map(a=>[a,this.store.getObjects(e[a],bn.variable,bn.meta)])),r=(a,s)=>{const o=a[s],l=e[s];return!!(!o||o.startsWith("?")&&n[s].some(f=>f.equals(new Qu(o.slice(1))))||o===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>ec.every(s=>r(a,s))).map(([a,s])=>[+a,s]);for(const[a,s]of i){const o={};for(const f of ec){const h=s[f];h!=null&&h.startsWith("?")&&(o[h.slice(1)]=new Set([e[f]]))}const l={[s.target.slice(1)]:new Set([e[s.pick]])};this.moves.add({step:a,from:o,to:l,quad:e}),this.addVariable(s.target.slice(1),e[s.pick])}}removeResource(e){this.store.getQuads(null,null,null,new to(e)).forEach(r=>this.removeQuad(r))}removeQuad(e){var n;this.store.removeQuad(e),((n=this.moves.byQuad[w_(e)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const s in a)a[s].forEach(o=>{Array.from(this.moves.providersOf[o.value]).filter(f=>{var h;return Array.from((h=f.to[s])!==null&&h!==void 0?h:[]).some(p=>p.equals(o))}).length===0&&this.removeVariable(s,o)})})}hopFromVariable(e,n){const r=`?${e}`;this.query.map((a,s)=>[a,s]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&ec.some(s=>a[s]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,s])=>{var o;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:s}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(h,p)=>{let m=new Set;const y=h[p];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new to(y));else if(y.slice(1)===e)m.add(n);else{const _=this.store.getSubjects(bn.variable,new Qu(y.slice(1)),bn.meta);m=new Set(_)}return m},f=Object.fromEntries(ec.map(h=>[h,l(a,h)]));for(const h of f.subject)for(const p of f.predicate)for(const m of f.object)for(const y of f.graph){const _=this.store.getQuads(h,p,m,y);for(const x of _){const E=a.target.slice(1),S=x[a.pick],b={};for(const k of ec)!((o=a[k])===null||o===void 0)&&o.startsWith("?")&&(b[a[k].slice(1)]=new Set([h]));const A={[E]:new Set([S])};this.moves.add({from:b,to:A,step:s,quad:x}),this.addVariable(E,S)}}}})}addVariable(e,n){if(this.store.has(new Qs(n,bn.variable,new Qu(e),bn.meta)))return;this.store.addQuads([new Qs(n,bn.variable,new Qu(e),bn.meta)]);let r;n.termType==="NamedNode"&&(r=new to(IC(n.value)),this.store.addQuads([new Qs(n,bn.resource,r,bn.meta)]));const i=`?${e}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),s=this.query.some(l=>typeof l!="function"&&l.type==="match"&&ec.some(f=>l[f]===i));r&&(a||s)&&this.store.match(r,bn.status,null,bn.meta).size===0&&this.store.addQuad(r,bn.status,bn.missing,bn.meta),this.hopFromVariable(e,n)}getVariable(e){return this.store.getSubjects(bn.variable,new Qu(e),bn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,bn.variable,null,bn.meta).reduce((e,n)=>{var r,i;return(r=e[i=Qu.getVar(n.object)])!==null&&r!==void 0||(e[i]=new Set),e[Qu.getVar(n.object)].add(n.subject.value),e},{})}getResources(e){if(!e)return this.store.getObjects(null,bn.resource,bn.meta).map(r=>r.value);const n=e==="missing"?bn.missing:e==="failed"?bn.failed:bn.added;return this.store.getSubjects(bn.status,n,bn.meta).map(r=>r.value)}}const sfe=(t,e)=>{if(e.length===0)return[t,[]];if(t.length===0)return[[],e];const n=t.filter(i=>!e.some(a=>i.equals(a))),r=e.filter(i=>!t.some(a=>i.equals(a)));return[n,r]};var iS,ck;function ofe(){if(ck)return iS;ck=1;function t(){this.__data__=[],this.size=0}return iS=t,iS}var aS,fk;function fm(){if(fk)return aS;fk=1;function t(e,n){return e===n||e!==e&&n!==n}return aS=t,aS}var sS,dk;function R0(){if(dk)return sS;dk=1;var t=fm();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return sS=e,sS}var oS,hk;function ufe(){if(hk)return oS;hk=1;var t=R0(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return oS=r,oS}var uS,pk;function lfe(){if(pk)return uS;pk=1;var t=R0();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return uS=e,uS}var lS,gk;function cfe(){if(gk)return lS;gk=1;var t=R0();function e(n){return t(this.__data__,n)>-1}return lS=e,lS}var cS,mk;function ffe(){if(mk)return cS;mk=1;var t=R0();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return cS=e,cS}var fS,yk;function O0(){if(yk)return fS;yk=1;var t=ofe(),e=ufe(),n=lfe(),r=cfe(),i=ffe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,fS=a,fS}var dS,vk;function dfe(){if(vk)return dS;vk=1;var t=O0();function e(){this.__data__=new t,this.size=0}return dS=e,dS}var hS,_k;function hfe(){if(_k)return hS;_k=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return hS=t,hS}var pS,wk;function pfe(){if(wk)return pS;wk=1;function t(e){return this.__data__.get(e)}return pS=t,pS}var gS,bk;function gfe(){if(bk)return gS;bk=1;function t(e){return this.__data__.has(e)}return gS=t,gS}var mS,Sk;function xB(){if(Sk)return mS;Sk=1;var t=typeof Sc=="object"&&Sc&&Sc.Object===Object&&Sc;return mS=t,mS}var yS,xk;function Ds(){if(xk)return yS;xk=1;var t=xB(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return yS=n,yS}var vS,Ek;function Vd(){if(Ek)return vS;Ek=1;var t=Ds(),e=t.Symbol;return vS=e,vS}var _S,Tk;function mfe(){if(Tk)return _S;Tk=1;var t=Vd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(o?s[i]=l:delete s[i]),h}return _S=a,_S}var wS,Ck;function yfe(){if(Ck)return wS;Ck=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return wS=n,wS}var bS,Ak;function Kd(){if(Ak)return bS;Ak=1;var t=Vd(),e=mfe(),n=yfe(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?e(o):n(o)}return bS=s,bS}var SS,Rk;function Ns(){if(Rk)return SS;Rk=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return SS=t,SS}var xS,Ok;function KA(){if(Ok)return xS;Ok=1;var t=Kd(),e=Ns(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==a}return xS=s,xS}var ES,Pk;function vfe(){if(Pk)return ES;Pk=1;var t=Ds(),e=t["__core-js_shared__"];return ES=e,ES}var TS,Ik;function _fe(){if(Ik)return TS;Ik=1;var t=vfe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return TS=n,TS}var CS,Lk;function EB(){if(Lk)return CS;Lk=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return CS=n,CS}var AS,Mk;function wfe(){if(Mk)return AS;Mk=1;var t=KA(),e=_fe(),n=Ns(),r=EB(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,f=o.hasOwnProperty,h=RegExp("^"+l.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||e(m))return!1;var y=t(m)?h:a;return y.test(r(m))}return AS=p,AS}var RS,kk;function bfe(){if(kk)return RS;kk=1;function t(e,n){return e==null?void 0:e[n]}return RS=t,RS}var OS,Dk;function Zc(){if(Dk)return OS;Dk=1;var t=wfe(),e=bfe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return OS=n,OS}var PS,Nk;function GA(){if(Nk)return PS;Nk=1;var t=Zc(),e=Ds(),n=t(e,"Map");return PS=n,PS}var IS,Fk;function P0(){if(Fk)return IS;Fk=1;var t=Zc(),e=t(Object,"create");return IS=e,IS}var LS,jk;function Sfe(){if(jk)return LS;jk=1;var t=P0();function e(){this.__data__=t?t(null):{},this.size=0}return LS=e,LS}var MS,$k;function xfe(){if($k)return MS;$k=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return MS=t,MS}var kS,Uk;function Efe(){if(Uk)return kS;Uk=1;var t=P0(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return r.call(s,a)?s[a]:void 0}return kS=i,kS}var DS,Bk;function Tfe(){if(Bk)return DS;Bk=1;var t=P0(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return DS=r,DS}var NS,qk;function Cfe(){if(qk)return NS;qk=1;var t=P0(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return NS=n,NS}var FS,Hk;function Afe(){if(Hk)return FS;Hk=1;var t=Sfe(),e=xfe(),n=Efe(),r=Tfe(),i=Cfe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,FS=a,FS}var jS,zk;function Rfe(){if(zk)return jS;zk=1;var t=Afe(),e=O0(),n=GA();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return jS=r,jS}var $S,Vk;function Ofe(){if(Vk)return $S;Vk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return $S=t,$S}var US,Kk;function I0(){if(Kk)return US;Kk=1;var t=Ofe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return US=e,US}var BS,Gk;function Pfe(){if(Gk)return BS;Gk=1;var t=I0();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return BS=e,BS}var qS,Wk;function Ife(){if(Wk)return qS;Wk=1;var t=I0();function e(n){return t(this,n).get(n)}return qS=e,qS}var HS,Qk;function Lfe(){if(Qk)return HS;Qk=1;var t=I0();function e(n){return t(this,n).has(n)}return HS=e,HS}var zS,Zk;function Mfe(){if(Zk)return zS;Zk=1;var t=I0();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return zS=e,zS}var VS,Jk;function WA(){if(Jk)return VS;Jk=1;var t=Rfe(),e=Pfe(),n=Ife(),r=Lfe(),i=Mfe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var f=s[o];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,VS=a,VS}var KS,Yk;function kfe(){if(Yk)return KS;Yk=1;var t=O0(),e=GA(),n=WA(),r=200;function i(a,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(a,s),this.size=o.size,this}return KS=i,KS}var GS,Xk;function L0(){if(Xk)return GS;Xk=1;var t=O0(),e=dfe(),n=hfe(),r=pfe(),i=gfe(),a=kfe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,GS=s,GS}var WS,eD;function Dfe(){if(eD)return WS;eD=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return WS=e,WS}var QS,tD;function Nfe(){if(tD)return QS;tD=1;function t(e){return this.__data__.has(e)}return QS=t,QS}var ZS,nD;function Ffe(){if(nD)return ZS;nD=1;var t=WA(),e=Dfe(),n=Nfe();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,ZS=r,ZS}var JS,rD;function jfe(){if(rD)return JS;rD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return JS=t,JS}var YS,iD;function $fe(){if(iD)return YS;iD=1;function t(e,n){return e.has(n)}return YS=t,YS}var XS,aD;function TB(){if(aD)return XS;aD=1;var t=Ffe(),e=jfe(),n=$fe(),r=1,i=2;function a(s,o,l,f,h,p){var m=l&r,y=s.length,_=o.length;if(y!=_&&!(m&&_>y))return!1;var x=p.get(s),E=p.get(o);if(x&&E)return x==o&&E==s;var S=-1,b=!0,A=l&i?new t:void 0;for(p.set(s,o),p.set(o,s);++S<y;){var k=s[S],M=o[S];if(f)var I=m?f(M,k,S,o,s,p):f(k,M,S,s,o,p);if(I!==void 0){if(I)continue;b=!1;break}if(A){if(!e(o,function(F,B){if(!n(A,B)&&(k===F||h(k,F,l,f,p)))return A.push(B)})){b=!1;break}}else if(!(k===M||h(k,M,l,f,p))){b=!1;break}}return p.delete(s),p.delete(o),b}return XS=a,XS}var ex,sD;function CB(){if(sD)return ex;sD=1;var t=Ds(),e=t.Uint8Array;return ex=e,ex}var tx,oD;function Ufe(){if(oD)return tx;oD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return tx=t,tx}var nx,uD;function Bfe(){if(uD)return nx;uD=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return nx=t,nx}var rx,lD;function qfe(){if(lD)return rx;lD=1;var t=Vd(),e=CB(),n=fm(),r=TB(),i=Ufe(),a=Bfe(),s=1,o=2,l="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",_="[object Set]",x="[object String]",E="[object Symbol]",S="[object ArrayBuffer]",b="[object DataView]",A=t?t.prototype:void 0,k=A?A.valueOf:void 0;function M(I,F,B,ee,U,J,le){switch(B){case b:if(I.byteLength!=F.byteLength||I.byteOffset!=F.byteOffset)return!1;I=I.buffer,F=F.buffer;case S:return!(I.byteLength!=F.byteLength||!J(new e(I),new e(F)));case l:case f:case m:return n(+I,+F);case h:return I.name==F.name&&I.message==F.message;case y:case x:return I==F+"";case p:var Y=i;case _:var se=ee&s;if(Y||(Y=a),I.size!=F.size&&!se)return!1;var me=le.get(I);if(me)return me==F;ee|=o,le.set(I,F);var ve=r(Y(I),Y(F),ee,U,J,le);return le.delete(I),ve;case E:if(k)return k.call(I)==k.call(F)}return!1}return rx=M,rx}var ix,cD;function QA(){if(cD)return ix;cD=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return ix=t,ix}var ax,fD;function Fs(){if(fD)return ax;fD=1;var t=Array.isArray;return ax=t,ax}var sx,dD;function AB(){if(dD)return sx;dD=1;var t=QA(),e=Fs();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return sx=n,sx}var ox,hD;function Hfe(){if(hD)return ox;hD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var o=e[r];n(o,r,e)&&(s[a++]=o)}return s}return ox=t,ox}var ux,pD;function RB(){if(pD)return ux;pD=1;function t(){return[]}return ux=t,ux}var lx,gD;function ZA(){if(gD)return lx;gD=1;var t=Hfe(),e=RB(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return r.call(s,o)}))}:e;return lx=a,lx}var cx,mD;function zfe(){if(mD)return cx;mD=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return cx=t,cx}var fx,yD;function hu(){if(yD)return fx;yD=1;function t(e){return e!=null&&typeof e=="object"}return fx=t,fx}var dx,vD;function Vfe(){if(vD)return dx;vD=1;var t=Kd(),e=hu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return dx=r,dx}var hx,_D;function M0(){if(_D)return hx;_D=1;var t=Vfe(),e=hu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return hx=a,hx}var og={exports:{}},px,wD;function Kfe(){if(wD)return px;wD=1;function t(){return!1}return px=t,px}og.exports;var bD;function k0(){return bD||(bD=1,function(t,e){var n=Ds(),r=Kfe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,f=l||r;t.exports=f}(og,og.exports)),og.exports}var gx,SD;function JA(){if(SD)return gx;SD=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return gx=n,gx}var mx,xD;function YA(){if(xD)return mx;xD=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return mx=e,mx}var yx,ED;function Gfe(){if(ED)return yx;ED=1;var t=Kd(),e=YA(),n=hu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",_="[object String]",x="[object WeakMap]",E="[object ArrayBuffer]",S="[object DataView]",b="[object Float32Array]",A="[object Float64Array]",k="[object Int8Array]",M="[object Int16Array]",I="[object Int32Array]",F="[object Uint8Array]",B="[object Uint8ClampedArray]",ee="[object Uint16Array]",U="[object Uint32Array]",J={};J[b]=J[A]=J[k]=J[M]=J[I]=J[F]=J[B]=J[ee]=J[U]=!0,J[r]=J[i]=J[E]=J[a]=J[S]=J[s]=J[o]=J[l]=J[f]=J[h]=J[p]=J[m]=J[y]=J[_]=J[x]=!1;function le(Y){return n(Y)&&e(Y.length)&&!!J[t(Y)]}return yx=le,yx}var vx,TD;function XA(){if(TD)return vx;TD=1;function t(e){return function(n){return e(n)}}return vx=t,vx}var ug={exports:{}};ug.exports;var CD;function eR(){return CD||(CD=1,function(t,e){var n=xB(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(ug,ug.exports)),ug.exports}var _x,AD;function tR(){if(AD)return _x;AD=1;var t=Gfe(),e=XA(),n=eR(),r=n&&n.isTypedArray,i=r?e(r):t;return _x=i,_x}var wx,RD;function OB(){if(RD)return wx;RD=1;var t=zfe(),e=M0(),n=Fs(),r=k0(),i=JA(),a=tR(),s=Object.prototype,o=s.hasOwnProperty;function l(f,h){var p=n(f),m=!p&&e(f),y=!p&&!m&&r(f),_=!p&&!m&&!y&&a(f),x=p||m||y||_,E=x?t(f.length,String):[],S=E.length;for(var b in f)(h||o.call(f,b))&&!(x&&(b=="length"||y&&(b=="offset"||b=="parent")||_&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||i(b,S)))&&E.push(b);return E}return wx=l,wx}var bx,OD;function nR(){if(OD)return bx;OD=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return bx=e,bx}var Sx,PD;function PB(){if(PD)return Sx;PD=1;function t(e,n){return function(r){return e(n(r))}}return Sx=t,Sx}var xx,ID;function Wfe(){if(ID)return xx;ID=1;var t=PB(),e=t(Object.keys,Object);return xx=e,xx}var Ex,LD;function Qfe(){if(LD)return Ex;LD=1;var t=nR(),e=Wfe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return Ex=i,Ex}var Tx,MD;function D0(){if(MD)return Tx;MD=1;var t=KA(),e=YA();function n(r){return r!=null&&e(r.length)&&!t(r)}return Tx=n,Tx}var Cx,kD;function dm(){if(kD)return Cx;kD=1;var t=OB(),e=Qfe(),n=D0();function r(i){return n(i)?t(i):e(i)}return Cx=r,Cx}var Ax,DD;function IB(){if(DD)return Ax;DD=1;var t=AB(),e=ZA(),n=dm();function r(i){return t(i,n,e)}return Ax=r,Ax}var Rx,ND;function Zfe(){if(ND)return Rx;ND=1;var t=IB(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o,l,f,h){var p=o&e,m=t(a),y=m.length,_=t(s),x=_.length;if(y!=x&&!p)return!1;for(var E=y;E--;){var S=m[E];if(!(p?S in s:r.call(s,S)))return!1}var b=h.get(a),A=h.get(s);if(b&&A)return b==s&&A==a;var k=!0;h.set(a,s),h.set(s,a);for(var M=p;++E<y;){S=m[E];var I=a[S],F=s[S];if(l)var B=p?l(F,I,S,s,a,h):l(I,F,S,a,s,h);if(!(B===void 0?I===F||f(I,F,o,l,h):B)){k=!1;break}M||(M=S=="constructor")}if(k&&!M){var ee=a.constructor,U=s.constructor;ee!=U&&"constructor"in a&&"constructor"in s&&!(typeof ee=="function"&&ee instanceof ee&&typeof U=="function"&&U instanceof U)&&(k=!1)}return h.delete(a),h.delete(s),k}return Rx=i,Rx}var Ox,FD;function Jfe(){if(FD)return Ox;FD=1;var t=Zc(),e=Ds(),n=t(e,"DataView");return Ox=n,Ox}var Px,jD;function Yfe(){if(jD)return Px;jD=1;var t=Zc(),e=Ds(),n=t(e,"Promise");return Px=n,Px}var Ix,$D;function Xfe(){if($D)return Ix;$D=1;var t=Zc(),e=Ds(),n=t(e,"Set");return Ix=n,Ix}var Lx,UD;function ede(){if(UD)return Lx;UD=1;var t=Zc(),e=Ds(),n=t(e,"WeakMap");return Lx=n,Lx}var Mx,BD;function N0(){if(BD)return Mx;BD=1;var t=Jfe(),e=GA(),n=Yfe(),r=Xfe(),i=ede(),a=Kd(),s=EB(),o="[object Map]",l="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=s(t),_=s(e),x=s(n),E=s(r),S=s(i),b=a;return(t&&b(new t(new ArrayBuffer(1)))!=m||e&&b(new e)!=o||n&&b(n.resolve())!=f||r&&b(new r)!=h||i&&b(new i)!=p)&&(b=function(A){var k=a(A),M=k==l?A.constructor:void 0,I=M?s(M):"";if(I)switch(I){case y:return m;case _:return o;case x:return f;case E:return h;case S:return p}return k}),Mx=b,Mx}var kx,qD;function tde(){if(qD)return kx;qD=1;var t=L0(),e=TB(),n=qfe(),r=Zfe(),i=N0(),a=Fs(),s=k0(),o=tR(),l=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function _(x,E,S,b,A,k){var M=a(x),I=a(E),F=M?h:i(x),B=I?h:i(E);F=F==f?p:F,B=B==f?p:B;var ee=F==p,U=B==p,J=F==B;if(J&&s(x)){if(!s(E))return!1;M=!0,ee=!1}if(J&&!ee)return k||(k=new t),M||o(x)?e(x,E,S,b,A,k):n(x,E,F,S,b,A,k);if(!(S&l)){var le=ee&&y.call(x,"__wrapped__"),Y=U&&y.call(E,"__wrapped__");if(le||Y){var se=le?x.value():x,me=Y?E.value():E;return k||(k=new t),A(se,me,S,b,k)}}return J?(k||(k=new t),r(x,E,S,b,A,k)):!1}return kx=_,kx}var Dx,HD;function rR(){if(HD)return Dx;HD=1;var t=tde(),e=hu();function n(r,i,a,s,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,o)}return Dx=n,Dx}var Nx,zD;function nde(){if(zD)return Nx;zD=1;var t=rR();function e(n,r){return t(n,r)}return Nx=e,Nx}var rde=nde();const LB=Ur(rde);var Fx,VD;function MB(){if(VD)return Fx;VD=1;var t=Zc(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return Fx=e,Fx}var jx,KD;function F0(){if(KD)return jx;KD=1;var t=MB();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return jx=e,jx}var $x,GD;function ide(){if(GD)return $x;GD=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),l=o.length;l--;){var f=o[e?l:++a];if(r(s[f],f,s)===!1)break}return n}}return $x=t,$x}var Ux,WD;function kB(){if(WD)return Ux;WD=1;var t=ide(),e=t();return Ux=e,Ux}var Bx,QD;function ade(){if(QD)return Bx;QD=1;var t=kB(),e=dm();function n(r,i){return r&&t(r,i,e)}return Bx=n,Bx}var qx,ZD;function sde(){if(ZD)return qx;ZD=1;var t=L0(),e=rR(),n=1,r=2;function i(a,s,o,l){var f=o.length,h=f,p=!l;if(a==null)return!h;for(a=Object(a);f--;){var m=o[f];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++f<h;){m=o[f];var y=m[0],_=a[y],x=m[1];if(p&&m[2]){if(_===void 0&&!(y in a))return!1}else{var E=new t;if(l)var S=l(_,x,y,a,s,E);if(!(S===void 0?e(x,_,n|r,l,E):S))return!1}}return!0}return qx=i,qx}var Hx,JD;function DB(){if(JD)return Hx;JD=1;var t=Ns();function e(n){return n===n&&!t(n)}return Hx=e,Hx}var zx,YD;function ode(){if(YD)return zx;YD=1;var t=DB(),e=dm();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],o=r[s];i[a]=[s,o,t(o)]}return i}return zx=n,zx}var Vx,XD;function NB(){if(XD)return Vx;XD=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return Vx=t,Vx}var Kx,eN;function ude(){if(eN)return Kx;eN=1;var t=sde(),e=ode(),n=NB();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return Kx=r,Kx}var Gx,tN;function hm(){if(tN)return Gx;tN=1;var t=Kd(),e=hu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Gx=r,Gx}var Wx,nN;function iR(){if(nN)return Wx;nN=1;var t=Fs(),e=hm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return Wx=i,Wx}var Qx,rN;function lde(){if(rN)return Qx;rN=1;var t=WA(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var f=r.apply(this,s);return a.cache=l.set(o,f)||l,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,Qx=n,Qx}var Zx,iN;function cde(){if(iN)return Zx;iN=1;var t=lde(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return Zx=n,Zx}var Jx,aN;function fde(){if(aN)return Jx;aN=1;var t=cde(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,f){a.push(l?f.replace(n,"$1"):o||s)}),a});return Jx=r,Jx}var Yx,sN;function FB(){if(sN)return Yx;sN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return Yx=t,Yx}var Xx,oN;function dde(){if(oN)return Xx;oN=1;var t=Vd(),e=FB(),n=Fs(),r=hm(),i=1/0,a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var f=l+"";return f=="0"&&1/l==-i?"-0":f}return Xx=o,Xx}var eE,uN;function hde(){if(uN)return eE;uN=1;var t=dde();function e(n){return n==null?"":t(n)}return eE=e,eE}var tE,lN;function j0(){if(lN)return tE;lN=1;var t=Fs(),e=iR(),n=fde(),r=hde();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return tE=i,tE}var nE,cN;function pm(){if(cN)return nE;cN=1;var t=hm(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return nE=n,nE}var rE,fN;function aR(){if(fN)return rE;fN=1;var t=j0(),e=pm();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return rE=n,rE}var iE,dN;function pde(){if(dN)return iE;dN=1;var t=aR();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return iE=e,iE}var aE,hN;function gde(){if(hN)return aE;hN=1;function t(e,n){return e!=null&&n in Object(e)}return aE=t,aE}var sE,pN;function mde(){if(pN)return sE;pN=1;var t=j0(),e=M0(),n=Fs(),r=JA(),i=YA(),a=pm();function s(o,l,f){l=t(l,o);for(var h=-1,p=l.length,m=!1;++h<p;){var y=a(l[h]);if(!(m=o!=null&&f(o,y)))break;o=o[y]}return m||++h!=p?m:(p=o==null?0:o.length,!!p&&i(p)&&r(y,p)&&(n(o)||e(o)))}return sE=s,sE}var oE,gN;function yde(){if(gN)return oE;gN=1;var t=gde(),e=mde();function n(r,i){return r!=null&&e(r,i,t)}return oE=n,oE}var uE,mN;function vde(){if(mN)return uE;mN=1;var t=rR(),e=pde(),n=yde(),r=iR(),i=DB(),a=NB(),s=pm(),o=1,l=2;function f(h,p){return r(h)&&i(p)?a(s(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?n(m,h):t(p,y,o|l)}}return uE=f,uE}var lE,yN;function sR(){if(yN)return lE;yN=1;function t(e){return e}return lE=t,lE}var cE,vN;function _de(){if(vN)return cE;vN=1;function t(e){return function(n){return n==null?void 0:n[e]}}return cE=t,cE}var fE,_N;function wde(){if(_N)return fE;_N=1;var t=aR();function e(n){return function(r){return t(r,n)}}return fE=e,fE}var dE,wN;function bde(){if(wN)return dE;wN=1;var t=_de(),e=wde(),n=iR(),r=pm();function i(a){return n(a)?t(r(a)):e(a)}return dE=i,dE}var hE,bN;function oR(){if(bN)return hE;bN=1;var t=ude(),e=vde(),n=sR(),r=Fs(),i=bde();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return hE=a,hE}var pE,SN;function Sde(){if(SN)return pE;SN=1;var t=F0(),e=ade(),n=oR();function r(i,a){var s={};return a=n(a,3),e(i,function(o,l,f){t(s,l,a(o,l,f))}),s}return pE=r,pE}var xde=Sde();const xN=Ur(xde);var Ede=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const Tde=()=>({}),Cde=(t,e)=>{if(t.length!==e.length)return!1;const n=new Set(t);return e.every(r=>n.has(r))},wa=({query:t,variables:e,fetch:n,getQueryKey:r=s=>["rdfDocument",s],staleTime:i=1/0,getAdditionalData:a=Tde})=>{const s=ae.useMemo(()=>xN(e,F=>new Set(F)),[e]),[o,l]=ae.useState([]),[f,h]=ae.useState({}),[p,m]=ae.useState(new co),[y,_]=ae.useState([]),[x,E]=ae.useState(!1),S=ae.useCallback(F=>{var B;return Object.assign(Object.assign({},(B=a(F))!==null&&B!==void 0?B:{}),{data:Object.fromEntries(F.map((ee,U)=>[o[U],ee==null?void 0:ee.data])),pending:F.some(ee=>ee.isPending)})},[a,o]),b=dA({queries:o.map(F=>({queryKey:r(F),queryFn:()=>bB(F,n),staleTime:i})),combine:S}),A=ae.useRef(new lk(t,s)),k=ae.useRef(b.data);ae.useEffect(()=>{A.current=new lk(t,s);const F=A.current.getMissingResources();l(F),m(A.current.store),k.current={}},[t,s]),ae.useEffect(()=>{if(!b)return;for(const U in b.data){const J=b.data[U];if(!J)continue;const le=k.current[U];(le==null?void 0:le.hash)!==J.hash&&A.current.addResource(U,J.data,J.ok?"success":"error")}const F=A.current.getMissingResources();E(F.length>0),l(U=>{const J=[];for(const le of F)U.includes(le)||J.push(le);return J.length===0?U:J.concat(U)});const B=xN(A.current.getAllVariables(),U=>Array.from(U));h(U=>LB(B,U)?U:B),m(A.current.store);const ee=[...A.current.store];_(U=>Cde(U,ee)?U:ee),k.current=b.data},[b]);const M=b,I=Ede(M,["data","pending"]);return ae.useMemo(()=>Object.assign({store:p,quads:y,variables:f,qas:A.current,isLoading:b==null?void 0:b.pending,isMissing:x},I),[x,y,p,f,I,b==null?void 0:b.pending])};var sp={},op={},ev={},tc={},up={},tv={},lp={},gE={},mE={},bi={},cp={},fp={},EN;function jB(){if(EN)return fp;EN=1,Object.defineProperty(fp,"__esModule",{value:!0}),fp.BlankNode=void 0;let t=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return fp.BlankNode=t,fp}var dp={},hp={},TN;function $B(){if(TN)return hp;TN=1,Object.defineProperty(hp,"__esModule",{value:!0}),hp.DefaultGraph=void 0;let t=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return hp.DefaultGraph=t,t.INSTANCE=new t,hp}var pp={},gp={},CN;function uR(){if(CN)return gp;CN=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.NamedNode=void 0;let t=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return gp.NamedNode=t,gp}var AN;function UB(){if(AN)return pp;AN=1,Object.defineProperty(pp,"__esModule",{value:!0}),pp.Literal=void 0;const t=uR();let e=class LC{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=LC.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=LC.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return pp.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),pp}var mp={},RN;function BB(){if(RN)return mp;RN=1,Object.defineProperty(mp,"__esModule",{value:!0}),mp.Quad=void 0;let t=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return mp.Quad=t,mp}var yp={},ON;function qB(){if(ON)return yp;ON=1,Object.defineProperty(yp,"__esModule",{value:!0}),yp.Variable=void 0;let t=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return yp.Variable=t,yp}var PN;function Ade(){if(PN)return dp;PN=1,Object.defineProperty(dp,"__esModule",{value:!0}),dp.DataFactory=void 0;const t=jB(),e=$B(),n=UB(),r=uR(),i=BB(),a=qB();let s=0,o=class{constructor(f){this.blankNodeCounter=0,f=f||{},this.blankNodePrefix=f.blankNodePrefix||`df_${s++}_`}namedNode(f){return new r.NamedNode(f)}blankNode(f){return new t.BlankNode(f||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(f,h){return new n.Literal(f,h)}variable(f){return new a.Variable(f)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(f,h,p,m){return new i.Quad(f,h,p,m||this.defaultGraph())}fromTerm(f){switch(f.termType){case"NamedNode":return this.namedNode(f.value);case"BlankNode":return this.blankNode(f.value);case"Literal":return f.language?this.literal(f.value,f.language):f.datatype.equals(n.Literal.XSD_STRING)?this.literal(f.value):this.literal(f.value,this.fromTerm(f.datatype));case"Variable":return this.variable(f.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(f.subject),this.fromTerm(f.predicate),this.fromTerm(f.object),this.fromTerm(f.graph))}}fromQuad(f){return this.fromTerm(f)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return dp.DataFactory=o,dp}var IN;function Rde(){return IN||(IN=1,function(t){var e=cp.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=cp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(jB(),t),n(Ade(),t),n($B(),t),n(UB(),t),n(uR(),t),n(BB(),t),n(qB(),t)}(cp)),cp}var LN;function Ode(){if(LN)return bi;LN=1,Object.defineProperty(bi,"__esModule",{value:!0}),bi.stringQuadToQuad=bi.quadToStringQuad=bi.stringToTerm=bi.getLiteralLanguage=bi.getLiteralType=bi.getLiteralValue=bi.termToString=void 0;const t=Rde(),e=new t.DataFactory;function n(f){if(f)switch(f.termType){case"NamedNode":return f.value;case"BlankNode":return"_:"+f.value;case"Literal":const h=f;return'"'+h.value+'"'+(h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+h.datatype.value:"")+(h.language?"@"+h.language:"");case"Quad":return`<<${n(f.subject)} ${n(f.predicate)} ${n(f.object)}${f.graph.termType==="DefaultGraph"?"":" "+n(f.graph)}>>`;case"Variable":return"?"+f.value;case"DefaultGraph":return f.value}}bi.termToString=n;function r(f){const h=/^"([^]*)"/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]}bi.getLiteralValue=r;function i(f){const h=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]||(h[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}bi.getLiteralType=i;function a(f){const h=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(f);if(!h)throw new Error(f+" is not a literal");return h[1]?h[1].toLowerCase():""}bi.getLiteralLanguage=a;function s(f,h){if(h=h||e,!f||!f.length)return h.defaultGraph();switch(f[0]){case"_":return h.blankNode(f.substr(2));case"?":if(!h.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return h.variable(f.substr(1));case'"':const p=a(f),m=h.namedNode(i(f));return h.literal(r(f),p||m);case"<":default:if(f[0]==="<"&&f.length>4&&f[1]==="<"&&f[f.length-1]===">"&&f[f.length-2]===">"){const y=f.slice(2,-2).trim();let _=[],x=0,E=0,S=!1;for(let b=0;b<y.length;b++){const A=y[b];if(A==="<"&&x++,A===">"){if(x===0)throw new Error("Found closing tag without opening tag in "+f);x--}if(A==='"'){let k=!1,M=b;for(;M-- >0&&y[M]==="\\";)k=!k;k||(S=!S)}if(A===" "&&!S&&x===0){for(_.push(y.slice(E,b));y[b+1]===" ";)b+=1;E=b+1}}if(x!==0)throw new Error("Found opening tag without closing tag in "+f);if(_.push(y.slice(E,y.length)),_.length!==3&&_.length!==4)throw new Error("Nested quad syntax error "+f);return _=_.map(b=>b.startsWith("<")&&!b.includes(" ")?b.slice(1,-1):b),h.quad(s(_[0]),s(_[1]),s(_[2]),_[3]?s(_[3]):void 0)}return h.namedNode(f)}}bi.stringToTerm=s;function o(f){return{subject:n(f.subject),predicate:n(f.predicate),object:n(f.object),graph:n(f.graph)}}bi.quadToStringQuad=o;function l(f,h){return h=h||e,h.quad(s(f.subject,h),s(f.predicate,h),s(f.object,h),s(f.graph,h))}return bi.stringQuadToQuad=l,bi}var MN;function Pde(){return MN||(MN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Ode();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(mE)),mE}var kN;function Ide(){return kN||(kN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=Pde();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(E){return s(E)}t.subjectNodeToString=n;function r(E){return s(E)}t.predicateNodeToString=r;function i(E){return s(E)}t.objectNodeToString=i;function a(E){return s(E)}t.grpahNodeToString=a;function s(E){return(0,e.termToString)(E)}t.nodeToString=s;function o(E){return JSON.stringify((0,e.quadToStringQuad)(E))}t.quadToString=o;function l(E){return JSON.stringify({subject:E[0]?n(E[0]):void 0,predicate:E[1]?r(E[1]):void 0,object:E[2]?i(E[2]):void 0,graph:E[3]?a(E[3]):void 0})}t.quadMatchToString=l;function f(E){return y(E,t.SubjectTermTypes)}t.stringToSubjectNode=f;function h(E){return y(E,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(E){return y(E,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(E){return y(E,t.GraphTermTypes)}t.stringToGraphNode=m;function y(E,S){const b=(0,e.stringToTerm)(E);if(S&&!S.has(b.termType))throw new Error(`Expected term to be one of term type: [${Array.from(S).reduce((A,k)=>`${A}${k}, `,"")}], but got ${b.termType}.`);return b}t.stringToNode=y;function _(E){try{return(0,e.stringQuadToQuad)(JSON.parse(E))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=_;function x(E){try{const S=JSON.parse(E);return[S.subject!=null?f(S.subject):void 0,S.predicate!=null?h(S.predicate):void 0,S.object!=null?p(S.object):void 0,S.graph!=null?m(S.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=x}(gE)),gE}var vp={},yE,DN;function Lde(){if(DN)return yE;DN=1;class t{constructor(n){this.value=n||"b"+ ++t.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="BlankNode",t.nextId=0,yE=t,yE}var vE,NN;function HB(){if(NN)return vE;NN=1;class t{equals(n){return!!n&&n.termType===this.termType}}return t.prototype.termType="DefaultGraph",t.prototype.value="",vE=t,vE}var _E,FN;function Mde(){if(FN)return _E;FN=1;function t(e){if(!e)return null;if(e.termType==="BlankNode")return this.blankNode(e.value);if(e.termType==="DefaultGraph")return this.defaultGraph();if(e.termType==="Literal")return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if(e.termType==="NamedNode")return this.namedNode(e.value);if(e.termType==="Quad"){const n=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),i=this.fromTerm(e.object),a=this.fromTerm(e.graph);return this.quad(n,r,i,a)}if(e.termType==="Variable")return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}return _E=t,_E}var wE,jN;function zB(){if(jN)return wE;jN=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="NamedNode",wE=t,wE}var bE,$N;function kde(){if($N)return bE;$N=1;const t=zB();class e{constructor(r,i,a){this.value=r,this.datatype=e.stringDatatype,this.language="",i?(this.language=i,this.datatype=e.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return e.prototype.termType="Literal",e.langStringDatatype=new t("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.stringDatatype=new t("http://www.w3.org/2001/XMLSchema#string"),bE=e,bE}var SE,UN;function Dde(){if(UN)return SE;UN=1;const t=HB();class e{constructor(r,i,a,s){this.subject=r,this.predicate=i,this.object=a,s?this.graph=s:this.graph=new t}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return e.prototype.termType="Quad",e.prototype.value="",SE=e,SE}var xE,BN;function Nde(){if(BN)return xE;BN=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="Variable",xE=t,xE}var EE,qN;function Fde(){if(qN)return EE;qN=1;const t=Lde(),e=HB(),n=Mde(),r=kde(),i=zB(),a=Dde(),s=Nde();function o(S){return new i(S)}function l(S){return new t(S)}function f(S,b){return typeof b=="string"?b.indexOf(":")===-1?new r(S,b):new r(S,null,E.namedNode(b)):new r(S,null,b)}function h(S){return new s(S)}function p(){return E.defaultGraphInstance}function m(S,b,A){return E.quad(S,b,A)}function y(S,b,A,k){return new a(S,b,A,k||E.defaultGraphInstance)}function _(S){return n.call(E,S)}function x(S){return n.call(E,S)}const E={namedNode:o,blankNode:l,literal:f,variable:h,defaultGraph:p,triple:m,quad:y,fromTerm:_,fromQuad:x,defaultGraphInstance:new e};return EE=E,EE}var TE,HN;function $i(){return HN||(HN=1,TE=Fde()),TE}var nc={};const VB=K$(vJ);var zN;function KB(){if(zN)return nc;zN=1,Object.defineProperty(nc,"__esModule",{value:!0}),nc.datasetToJsonLd=nc.datasetToString=void 0;const t=VB;function e(r,i){const a=new t.Writer(i),s=[];for(const o of r)s.push(o);return a.quadsToString(s)}nc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return nc.datasetToJsonLd=n,nc}var VN;function jde(){if(VN)return vp;VN=1,Object.defineProperty(vp,"__esModule",{value:!0}),vp.changesToSparqlUpdate=void 0;const t=$i(),e=KB();async function n(r){let i="";if(r.removed){const a=r.removed.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return vp.changesToSparqlUpdate=n,vp}var _p={},KN;function $de(){if(KN)return _p;KN=1,Object.defineProperty(_p,"__esModule",{value:!0}),_p.serializedToQuads=void 0;const t=VB;async function e(n,r){if(r&&r.format==="application/json-ld")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return _p.serializedToQuads=e,_p}var GN;function gm(){return GN||(GN=1,function(t){var e=lp.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=lp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ide(),t),n(jde(),t),n(KB(),t),n($de(),t)}(lp)),lp}var WN;function GB(){if(WN)return tv;WN=1,Object.defineProperty(tv,"__esModule",{value:!0});const t=gm(),e=Z5();let n=class MC{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new MC(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,s,o){const l=this.match(i,a,s,o);for(const f of l)this.dataset.delete(f);return this}difference(i){const a=this.createBlankDataset();for(const s of this)i.has(s)||a.add(s);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const s of this)i(s,this)&&a.add(s);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,s)=>{i.on("data",o=>{this.add(o)}).on("end",()=>{a(this)}).on("error",o=>s(o))})}intersection(i){const a=this.createBlankDataset(),s=this.size<i.size?this:i,o=this.size<i.size?i:this;for(const l of s)o.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const s of this)a.add(i(s,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const s=this[Symbol.iterator]();let o=s.next(),l=a;for(;!o.done;)l=i(l,o.value,this),o=s.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new e.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,t.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const s of this)a.add(s);for(const s of i)a.add(s);return a}match(i,a,s,o){return new MC(this.dataset.match(i,a,s,o),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return tv.default=n,tv}var QN;function WB(){if(QN)return up;QN=1;var t=up.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(up,"__esModule",{value:!0});const e=t(GB());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new e.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return up.default=n,up}var CE,ZN;function Ude(){if(ZN)return CE;ZN=1;function t(s){return typeof s=="string"||s instanceof String}const e="http://www.w3.org/2001/XMLSchema#string";function n(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let o,l,f,h;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==e?`^^${s.datatype.value}`:""}`;case"Quad":return o=i(n(s.subject)),l=i(n(s.predicate)),f=i(n(s.object)),h=s.graph.termType==="DefaultGraph"?"":` ${n(s.graph)}`,`<<${o} ${l} ${f}${h}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(s){return s.replace(r,(o,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(o){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,o)for(const l of o)this.add(l)}get size(){let o=this._size;if(o!==null)return o;o=0;const l=this._graphs;let f,h;for(const p in l)for(const m in f=l[p].subjects)for(const y in h=f[m])o+=Object.keys(h[y]).length;return this._size=o,this._size}add(o){let l=n(o.subject),f=n(o.predicate),h=n(o.object);const p=n(o.graph);let m=this._graphs[p];m||(m=this._graphs[p]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,_=this._entities;return l=y[l]||(y[_[++this._id]=l]=this._id),f=y[f]||(y[_[++this._id]=f]=this._id),h=y[h]||(y[_[++this._id]=h]=this._id),this._addToIndex(m.subjects,l,f,h),this._addToIndex(m.predicates,f,h,l),this._addToIndex(m.objects,h,l,f),this._setQuad(l,f,h,p,o),this._size=null,this}delete(o){let l=n(o.subject),f=n(o.predicate),h=n(o.object);const p=n(o.graph),m=this._ids,y=this._graphs;let _,x,E;if(!(l=m[l])||!(f=m[f])||!(h=m[h])||!(_=y[p])||!(x=_.subjects[l])||!(E=x[f])||!(h in E))return this;this._removeFromIndex(_.subjects,l,f,h),this._removeFromIndex(_.predicates,f,h,l),this._removeFromIndex(_.objects,h,l,f),this._size!==null&&this._size--,this._deleteQuad(l,f,h,p);for(l in _.subjects)return this;return delete y[p],this}has(o){const l=n(o.subject),f=n(o.predicate),h=n(o.object),p=n(o.graph),m=this._graphs[p];if(!m)return!1;const y=this._ids;let _,x,E;return t(l)&&!(_=y[l])||t(f)&&!(x=y[f])||t(h)&&!(E=y[h])?!1:this._countInIndex(m.objects,E,_,x)===1}match(o,l,f,h){return this._createDataset(this._match(o,l,f,h))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(o,l,f,h){const p=o[l]||(o[l]={}),m=p[f]||(p[f]={}),y=h in m;return y||(m[h]=null),!y}_removeFromIndex(o,l,f,h){const p=o[l],m=p[f];delete m[h];for(const y in m)return;delete p[f];for(const y in p)return;delete o[l]}_findInIndex(o,l,f,h,p,m,y,_,x,E){let S,b,A;l&&((S=o,o={})[l]=S[l]);for(const k in o)if(b=o[k],b){f&&((S=b,b={})[f]=S[f]);for(const M in b)if(A=b[M],A){const I=h?h in A?[h]:[]:Object.keys(A);for(let F=0;F<I.length;F++){const B={[p]:k,[m]:M,[y]:I[F]},ee=this._getQuad(B.subject,B.predicate,B.object,_);if(E)E.push(ee);else if(x(ee))return!0}}}return E}_countInIndex(o,l,f,h){let p=0,m,y,_;l&&((m=o,o={})[l]=m[l]);for(const x in o)if(y=o[x],y){f&&((m=y,y={})[f]=m[f]);for(const E in y)_=y[E],_&&(h?h in _&&p++:p+=Object.keys(_).length)}return p}_getGraphs(o){return t(o)?{[o]:this._graphs[o]}:this._graphs}_match(o,l,f,h){o=o&&n(o),l=l&&n(l),f=f&&n(f),h=h&&n(h);const p=[],m=this._getGraphs(h),y=this._ids;let _,x,E,S;if(t(o)&&!(x=y[o])||t(l)&&!(E=y[l])||t(f)&&!(S=y[f]))return p;for(const b in m)_=m[b],_&&(x?S?this._findInIndex(_.objects,S,x,E,"object","subject","predicate",b,null,p):this._findInIndex(_.subjects,x,E,null,"subject","predicate","object",b,null,p):E?this._findInIndex(_.predicates,E,S,null,"predicate","object","subject",b,null,p):S?this._findInIndex(_.objects,S,null,null,"object","subject","predicate",b,null,p):this._findInIndex(_.subjects,null,null,null,"subject","predicate","object",b,null,p));return p}_getQuad(o,l,f,h){return this._quads.get(this._toId(o,l,f,h))}_setQuad(o,l,f,h,p){this._quads.set(this._toId(o,l,f,h),p)}_deleteQuad(o,l,f,h){this._quads.delete(this._toId(o,l,f,h))}_createDataset(o){return new this.constructor(o)}_toId(o,l,f,h){return`${o}:${l}:${f}:${h}`}}return CE=a,CE}var AE,JN;function Bde(){if(JN)return AE;JN=1;const t=$i(),e=Ude();function n(r){return new e(r)}return AE=Object.assign({dataset:n},t),AE}var YN;function QB(){if(YN)return tc;YN=1;var t=tc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(tc,"__esModule",{value:!0}),tc.createExtendedDatasetFactory=void 0;const e=t(WB()),n=Bde();function r(){const a={dataset:s=>(0,n.dataset)(Array.isArray(s)?s:s==null?void 0:s.toArray())};return new e.default(a)}tc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return tc.default=i,tc}var nv={},XN;function ZB(){if(XN)return nv;XN=1,Object.defineProperty(nv,"__esModule",{value:!0});const t=gm();async function e(n,r,i){const a=await(0,t.serializedToQuads)(r,i);return n.dataset(a)}return nv.default=e,nv}var wp={},e3;function qde(){if(e3)return wp;e3=1;var t=wp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wp,"__esModule",{value:!0});const e=t(ZB()),n=QB();async function r(i,a){const s=(0,n.createExtendedDatasetFactory)();return(0,e.default)(s,i,a)}return wp.default=r,wp}var t3;function Jc(){return t3||(t3=1,function(t){var e=ev.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createDatasetFactory=t.createDataset=void 0;var n=QB();Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return e(n).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=ZB();Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return e(r).default}});var i=qde();Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return e(i).default}});var a=GB();Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return e(a).default}});var s=WB();Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return e(s).default}})}(ev)),ev}var rc={},bp={},Sp={},zo={},xp={},Ep={},n3;function lR(){if(n3)return Ep;n3=1,Object.defineProperty(Ep,"__esModule",{value:!0}),Ep.SubscribableDataset=void 0;const t=$d(),e=gm(),n=Jc();let r=class extends n.ExtendedDataset{constructor(a,s,o){super(o||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=s,this.eventEmitter=new t.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const s of a)super.add(s);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(s=>{super.delete(s)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,s,o,l){const f=super.match(a,s,o,l);for(const h of f)super.delete(h);return this.triggerSubscriptionForQuads({removed:f}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const s={},o=l=>{const f=a[l];f==null||f.forEach(h=>{const p=h;[[null,null,null,null],[p.subject,null,null,null],[p.subject,p.predicate,null,null],[p.subject,null,p.object,null],[null,p.predicate,null,null],[null,p.predicate,p.object,null],[null,null,p.object,null],[p.subject,p.predicate,p.object,null],[null,null,null,p.graph],[p.subject,null,null,p.graph],[p.subject,p.predicate,null,p.graph],[p.subject,null,p.object,p.graph],[null,p.predicate,null,p.graph],[null,p.predicate,p.object,p.graph],[null,null,p.object,p.graph],[p.subject,p.predicate,p.object,p.graph]].forEach(y=>{var x;const _=(0,e.quadMatchToString)(y);this.eventEmitter.listenerCount(_)>0&&(s[_]||(s[_]={}),s[_][l]||(s[_][l]=this.datasetFactory.dataset()),(x=s[_][l])==null||x.add(h))})})};o("added"),o("removed"),Object.entries(s).forEach(([l,f])=>{this.eventEmitter.emit(l,f)})}addListener(a,s){return this.on(a,s)}emit(a,s){return this.eventEmitter.emit((0,e.quadMatchToString)(a),s)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,e.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,e.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,e.quadMatchToString)(a))}off(a,s){this.removeListener(a,s)}on(a,s){var l;const o=(0,e.quadMatchToString)(a);return this.listenerHashMap.has(s)||this.listenerHashMap.set(s,new Set),(l=this.listenerHashMap.get(s))==null||l.add(o),this.eventEmitter.on(o,s),this}once(a,s){return this.eventEmitter.once((0,e.quadMatchToString)(a),s),this}prependListener(a,s){return this.eventEmitter.prependListener((0,e.quadMatchToString)(a),s),this}prependOnceListener(a,s){return this.eventEmitter.prependOnceListener((0,e.quadMatchToString)(a),s),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,e.quadMatchToString)(a)),this}removeListener(a,s){return this.eventEmitter.removeListener((0,e.quadMatchToString)(a),s),this}removeListenerFromAllEvents(a){const s=this.listenerHashMap.get(a);return s&&s.forEach(o=>{this.eventEmitter.off(o,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,e.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Ep.SubscribableDataset=r,Ep}var r3;function JB(){if(r3)return xp;r3=1,Object.defineProperty(xp,"__esModule",{value:!0}),xp.SubscribableDatasetFactory=void 0;const t=lR();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new t.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return xp.SubscribableDatasetFactory=e,xp}var Tp={},Cp={},Ap={},i3;function YB(){if(i3)return Ap;i3=1,Object.defineProperty(Ap,"__esModule",{value:!0}),Ap.mergeDatasetChanges=void 0;function t(e,n){var r,i,a,s;if(n.added){e.added?e.added.addAll(n.added):e.added=n.added;const o=(r=e.removed)==null?void 0:r.intersection(n.added);o&&o.size>0&&(e.removed=(i=e.removed)==null?void 0:i.difference(o))}if(n.removed){e.removed?e.removed.addAll(n.removed):e.removed=n.removed;const o=(a=e.added)==null?void 0:a.intersection(n.removed);o&&o.size>0&&(e.added=(s=e.added)==null?void 0:s.difference(o))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}return Ap.mergeDatasetChanges=t,Ap}var Rp={},a3;function XB(){if(a3)return Rp;a3=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.updateDatasetInBulk=void 0;function t(e,n){e.bulk?e.bulk(n):(n.added&&e.addAll(n.added),n.removed&&n.removed.forEach(r=>{e.delete(r)}))}return Rp.updateDatasetInBulk=t,Rp}var s3;function e8(){if(s3)return Cp;s3=1,Object.defineProperty(Cp,"__esModule",{value:!0}),Cp.TransactionDataset=void 0;const t=YB(),e=lR(),n=XB();let r=class extends e.SubscribableDataset{constructor(a,s,o){super(s,o,s.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,s,o,l){this.checkIfTransactionCommitted();const f=this.match(a,s,o,l);for(const h of f)this.delete(h);return this}match(a,s,o,l){let f=this.parentDataset.match(a,s,o,l);return this.datasetChanges.removed&&(f=f.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(f=f.union(this.datasetChanges.added.match(a,s,o,l))),f}get size(){var a,s;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((s=this.datasetChanges.removed)==null?void 0:s.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var s,o;return!((s=this.datasetChanges.removed)!=null&&s.has(a))&&(((o=this.datasetChanges.added)==null?void 0:o.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let s=a.next();const o=this.parentDataset[Symbol.iterator]();let l=o.next();return{next:()=>{if(!s||!s.done){const f=s;return s=a.next(),f}for(;!l.done;){const f=l;if(l=o.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(f.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(f.value)))return f}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,t.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,s;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(s=this.datasetChanges.removed)==null?void 0:s.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return Cp.TransactionDataset=r,Cp}var o3;function t8(){if(o3)return Tp;o3=1,Object.defineProperty(Tp,"__esModule",{value:!0}),Tp.TransactionDatasetFactory=void 0;const t=e8();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new t.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Tp.TransactionDatasetFactory=e,Tp}var u3;function n8(){if(u3)return zo;u3=1,Object.defineProperty(zo,"__esModule",{value:!0}),zo.createSubscribableDataset=zo.createSubscribableDatasetFactory=zo.createTransactionDatasetFactory=void 0;const t=Jc(),e=JB(),n=t8(),r={dataset:o=>(0,t.createDataset)(o)};function i(){return new n.TransactionDatasetFactory(r)}zo.createTransactionDatasetFactory=i;function a(){return new e.SubscribableDatasetFactory(r,i())}zo.createSubscribableDatasetFactory=a;function s(o){return a().dataset(o)}return zo.createSubscribableDataset=s,zo}var Op={},l3;function Hde(){if(l3)return Op;l3=1,Object.defineProperty(Op,"__esModule",{value:!0}),Op.createWrapperSubscribableDatasetFromSerializedInput=void 0;const t=Jc(),e=n8();async function n(r,i){const a=(0,e.createSubscribableDatasetFactory)();return(0,t.createDatasetFromSerializedInput)(a,r,i)}return Op.createWrapperSubscribableDatasetFromSerializedInput=n,Op}var RE={},c3;function zde(){return c3||(c3=1,Object.defineProperty(RE,"__esModule",{value:!0})),RE}var f3;function mm(){return f3||(f3=1,function(t){var e=Sp.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,l)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),n=Sp.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializedToSubscribableDataset=void 0,n(n8(),t);var r=Hde();Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(e8(),t),n(t8(),t),n(lR(),t),n(JB(),t),n(zde(),t),n(YB(),t),n(XB(),t)}(Sp)),Sp}var jf={},Pp={},Ip={},Lp={},d3;function r8(){if(d3)return Lp;d3=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.ContextUtil=void 0;const t={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let e=class{constructor(r){this.context=r,this.iriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="string"?this.iriToKeyMap[this.keyIdToIri(a)]=i:typeof a=="object"&&a["@id"]&&(this.iriToKeyMap[this.keyIdToIri(a["@id"])]=i)})}keyToIri(r){if(this.context[r]){if(typeof this.context[r]=="string")return this.keyIdToIri(this.context[r]);if(this.context[r]&&this.context[r]["@id"])return this.keyIdToIri(this.context[r]["@id"])}else return r;return r}keyIdToIri(r){return t[r]?t[r]:r}iriToKey(r){return this.iriToKeyMap[r]?this.iriToKeyMap[r]:r}getType(r){return typeof this.context[r]=="object"&&this.context[r]["@type"]?this.context[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@container"]&&this.context[r]["@container"]==="@set")}isLangString(r){return!!(this.context[r]&&typeof this.context[r]=="object"&&this.context[r]["@type"]&&this.context[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Lp.ContextUtil=e,Lp}var Mp={},h3;function i8(){if(h3)return Mp;h3=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.JsonldDatasetProxyBuilder=void 0;const t=$i();let e=class kC{constructor(r){this.proxyContext=r}write(...r){return new kC(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new kC(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,t.namedNode)(r["@id"]):(0,t.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([s,o])=>{a[s]=o}),a}};return Mp.JsonldDatasetProxyBuilder=e,Mp}var kp={},Dp={},ic={},p3;function $0(){if(p3)return ic;p3=1,Object.defineProperty(ic,"__esModule",{value:!0}),ic.nodeToJsonldRepresentation=ic.literalToJsonldRepresentation=void 0;function t(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}ic.literalToJsonldRepresentation=t;function e(n,r){if(n.termType==="Literal")return t(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return ic.nodeToJsonldRepresentation=e,ic}var ac={},sc={},Vo={},oc={},si={},g3;function go(){return g3||(g3=1,Object.defineProperty(si,"__esModule",{value:!0}),si._writeGraphs=si._proxyContext=si._getUnderlyingArrayTarget=si._getUnderlyingDataset=si._getNodeAtIndex=si._isSubjectOriented=si._getUnderlyingMatch=si._getUnderlyingNode=void 0,si._getUnderlyingNode=Symbol("_getUnderlyingNode"),si._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),si._isSubjectOriented=Symbol("_isSubjectOriented"),si._getNodeAtIndex=Symbol("_getNodeAtIndex"),si._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),si._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),si._proxyContext=Symbol("_proxyContext"),si._writeGraphs=Symbol("_writeGraphs")),si}var m3;function cR(){if(m3)return oc;m3=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.getNodeFromRawValue=oc.getNodeFromRawObject=void 0;const t=$i(),e=go();function n(i,a){return i[e._getUnderlyingNode]?i[e._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,t.namedNode)(a.keyToIri(i["@id"])):i["@id"]:(0,t.blankNode)()}oc.getNodeFromRawObject=n;function r(i,a,s){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const o=s.contextUtil.getType(i);return o==="@id"?(0,t.namedNode)(a.toString()):(0,t.literal)(a.toString(),o)}else return n(a,s.contextUtil)}return oc.getNodeFromRawValue=r,oc}var uc={},y3;function Gd(){if(y3)return uc;y3=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.getSubjectProxyFromObject=uc.isSubjectProxy=void 0;const t=go();function e(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[t._writeGraphs]!="object"||typeof i[t._getUnderlyingDataset]!="object"||typeof i[t._getUnderlyingNode]!="object"||typeof i[t._proxyContext]!="object")}uc.isSubjectProxy=e;function n(r){const i=r;if(!e(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return uc.getSubjectProxyFromObject=n,uc}var lc={},v3;function U0(){if(v3)return lc;v3=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.NodeSet=lc.nodeToString=void 0;function t(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}lc.nodeToString=t;let e=class{constructor(){this.set=new Set,this.map={}}add(r){const i=t(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(t(r))}delete(r){const i=t(r);return delete this.map[i],this.set.delete(t(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return lc.NodeSet=e,lc}var oi={},_3;function Wd(){if(_3)return oi;_3=1,Object.defineProperty(oi,"__esModule",{value:!0}),oi.literalLanguageToLanguageKey=oi.languageKeyToLiteralLanguage=oi.getLanguageKeyForWriteOperation=oi.filterQuadsByLanguageOrdering=oi.quadsToLanguageQuadMap=oi.isLanguageLiteral=oi.languageDeleteMatch=oi.languageMatch=void 0;const t=Jc();function e(f,h,p,m){const y=o(m);return f.match(h,p).filter(_=>r(_.object)&&_.object.language===y)}oi.languageMatch=e;function n(f,h,p,m){e(f,h,p,m).forEach(_=>{f.delete(_)})}oi.languageDeleteMatch=n;function r(f){return f.termType==="Literal"&&(f.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||f.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}oi.isLanguageLiteral=r;function i(f){const h={};return f.forEach(p=>{const m=p.object;if(r(m)){const y=l(m.language);h[y]||(h[y]=(0,t.createDataset)()),h[y].add(p)}}),h}oi.quadsToLanguageQuadMap=i;function a(f,h){const p=i(f),m=new Set(h),y=new Set(Object.keys(p));for(const _ of h){if(y.has(_))return p[_];if(_==="@other"){for(const x of y)if(!m.has(x))return p[x]}}return(0,t.createDataset)()}oi.filterQuadsByLanguageOrdering=a;function s(f){return f.find(h=>h!=="@other")}oi.getLanguageKeyForWriteOperation=s;function o(f){return f==="@none"?"":f}oi.languageKeyToLiteralLanguage=o;function l(f){return f===""?"@none":f}return oi.literalLanguageToLanguageKey=l,oi}var w3;function fR(){if(w3)return Vo;w3=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.addObjectToDataset=Vo.addRawObjectToDatasetRecursive=Vo.addRawValueToDatasetRecursive=void 0;const t=$i(),e=cR(),n=Gd(),r=U0(),i=Wd();function a(l,f,h,p,m,y){const{dataset:_,contextUtil:x}=y,E=(0,t.namedNode)(x.keyToIri(f)),S=(0,e.getNodeFromRawValue)(f,h,y);if(S==null)_.deleteMatches(l,E);else if(S.termType==="Literal"){let b=S;if(x.isLangString(f)){const A=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!A)return;b=(0,t.literal)(S.value,(0,i.languageKeyToLiteralLanguage)(A))}y.writeGraphs.forEach(A=>{y.dataset.add((0,t.quad)(l,E,b,A))})}else if(y.writeGraphs.forEach(b=>{_.add((0,t.quad)(l,E,S,b))}),!(0,n.isSubjectProxy)(h)){const b=typeof h=="object"?{...h,"@id":S}:{"@id":S};s(b,p,m,y)}}Vo.addRawValueToDatasetRecursive=a;function s(l,f,h,p){if((0,n.isSubjectProxy)(l))return l;const{dataset:m}=p,y=(0,e.getNodeFromRawObject)(l,p.contextUtil);return f.has(y)||(f.add(y),Object.entries(l).forEach(([_,x])=>{if(_==="@id")return;const E=(0,t.namedNode)(p.contextUtil.keyToIri(_));if(h)if(p.contextUtil.isLangString(_)){const S=(0,i.getLanguageKeyForWriteOperation)(p.languageOrdering);S&&(0,i.languageDeleteMatch)(m,y,E,S)}else m.deleteMatches(y,E);Array.isArray(x)?x.forEach(S=>{a(y,_,S,f,!0,p)}):a(y,_,x,f,!0,p)})),p.createSubjectProxy(y)}Vo.addRawObjectToDatasetRecursive=s;function o(l,f,h){return s(l,new r.NodeSet,f,h)}return Vo.addObjectToDataset=o,Vo}var b3;function dR(){if(b3)return sc;b3=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.modifyArray=sc.checkArrayModification=void 0;const t=$i(),e=mm(),n=Jc(),r=fR(),i=cR(),a=U0();function s(l,f,h){if(l[2])for(const p of f){if(p===void 0)return;if(typeof p!="object")throw new Error(`Cannot add a literal "${p}"(${typeof p}) to a subject-oriented collection.`);const m=new e.TransactionDataset(h.dataset,(0,n.createDatasetFactory)(),(0,e.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(p,!1,h.duplicate({writeGraphs:[(0,t.defaultGraph)()]})),!(m.match((0,i.getNodeFromRawObject)(p,h.contextUtil),l[0][1],l[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(l[0][0])}, ${(0,a.nodeToString)(l[0][1])}, ${(0,a.nodeToString)(l[0][2])}, ${(0,a.nodeToString)(l[0][3])})`)}else if(!l[0][0]||!l[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}sc.checkArrayModification=s;function o(l,f){const{target:h,toAdd:p,quadsToDelete:m,modifyCoreArray:y,key:_}=l,{dataset:x,contextUtil:E}=f;if(s(h,p||[],f),m){const A=x.match(...h[0]).toArray();m(A).forEach(M=>{h[2]?x.deleteMatches(M.subject,void 0,void 0):x.delete(M)})}const S=p==null?void 0:p.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,f):A).filter(A=>A!=null);!h[2]&&h[0][0]&&h[0][1]&&S&&(0,r.addObjectToDataset)({"@id":h[0][0],[E.iriToKey(h[0][1].value)]:S},!1,f);const b=S?S.map(A=>(0,i.getNodeFromRawValue)(_,A,f)).filter(A=>A!=null):[];return y(h[1],b)}return sc.modifyArray=o,sc}var S3;function a8(){if(S3)return ac;S3=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.arrayMethodsBuilders=ac.methodNames=void 0;const t=$0(),e=dR();return ac.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),ac.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,s,o)=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:l=>{const f=[...l],h=new Set(l.copyWithin(a,s,o));return f.filter(p=>!h.has(p))},modifyCoreArray:l=>(l.copyWithin(a,s,o),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,s,o)=>(0,e.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:l=>l.slice(s,o),modifyCoreArray:(l,f)=>(l.fill(f[0],s,o),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const s=a.pop();return s?(0,t.nodeToJsonldRepresentation)(s,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(s,o)=>(s.push(...o),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const s=a.shift();return s?(0,t.nodeToJsonldRepresentation)(s,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((s,o)=>a((0,t.nodeToJsonldRepresentation)(s,i),(0,t.nodeToJsonldRepresentation)(o,i))):n&&n[1].sort((s,o)=>{const l=(0,t.nodeToJsonldRepresentation)(s,i),f=(0,t.nodeToJsonldRepresentation)(o,i);return l>f?1:f>l?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,s,...o)=>(0,e.modifyArray)({target:n,key:r,toAdd:o,quadsToDelete:l=>l.splice(a,s),modifyCoreArray:(l,f)=>l.splice(a,s||0,...f).map(p=>(0,t.nodeToJsonldRepresentation)(p,i))},i),unshift:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(s,o)=>(s.unshift(...o),i.createArrayProxy(n[0],n[2]).length)},i)},ac}var x3;function s8(){if(x3)return Dp;x3=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.createArrayHandler=void 0;const t=$i(),e=$0(),n=a8(),r=go(),i=dR(),a=U0(),s=Wd();function o(h,p){let m=p.dataset.match(...h[0]);h[3]&&(m=(0,s.filterQuadsByLanguageOrdering)(m,p.languageOrdering));const y=new a.NodeSet;m.toArray().forEach(x=>{h[2]?y.add(x.subject):y.add(x.object)});const _=[];h[1].forEach(x=>{y.has(x)&&(_.push(x),y.delete(x))}),y.toArray().forEach(x=>{_.push(x)}),h[1]=_}function l(h,p){return h[1].map(m=>(0,e.nodeToJsonldRepresentation)(m,p))}function f(h){return{get(p,m,...y){switch(m){case r._getUnderlyingDataset:return h.dataset;case r._getUnderlyingMatch:return p[0];case r._isSubjectOriented:return p[2];case r._getUnderlyingArrayTarget:return p;case r._proxyContext:return h;case r._getNodeAtIndex:return x=>(o(p,h),p[1][x])}o(p,h);const _=l(p,h);return n.methodNames.has(m)?n.arrayMethodsBuilders[m](p,m,h):Reflect.get(_,m,...y)},getOwnPropertyDescriptor(p,m,...y){o(p,h);const _=l(p,h);return Reflect.getOwnPropertyDescriptor(_,m,...y)},ownKeys(p,...m){o(p,h);const y=l(p,h);return Reflect.ownKeys(y,...m)},getPrototypeOf(p,...m){o(p,h);const y=l(p,h);return Reflect.getPrototypeOf(y,...m)},has(p,...m){o(p,h);const y=l(p,h);return Reflect.has(y,...m)},set(p,m,y,..._){if(m===r._proxyContext)return h=y,!0;if(o(p,h),typeof m!="symbol"&&!isNaN(parseInt(m))){const x=parseInt(m);return(0,i.modifyArray)({target:p,key:m,toAdd:[y],quadsToDelete(E){return E[x]?[E[x]]:[]},modifyCoreArray(E,S){return E[x]=S[0],!0}},h)}return Reflect.set(p[1],m,..._)},deleteProperty(p,m){const{dataset:y}=h;if(typeof m!="symbol"&&!isNaN(parseInt(m))){const _=y.match(...p[0]).toArray()[parseInt(m)];if(!_)return!0;const x=p[2]?_.subject:_.object;if(x.termType==="Literal"){const E=p[0][0],S=p[0][1];return E&&S&&y.delete((0,t.quad)(E,S,x)),!0}else if(x.termType==="NamedNode"||x.termType==="BlankNode")return y.deleteMatches(x,void 0,void 0),y.deleteMatches(void 0,void 0,x),!0}return!0}}}return Dp.createArrayHandler=f,Dp}var Np={},Fp={},E3;function o8(){if(E3)return Fp;E3=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.deleteValueFromDataset=void 0;const t=$i();function e(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const s=n["@id"],o=(0,t.namedNode)(i.contextUtil.keyToIri(r));if(r==="@id")a.push(n["@id"]);else{const l=i.dataset.match(s,o);if(l.size===0)return!0;a.push(...l.toArray().map(f=>f.object))}return a.forEach(l=>{if(l.termType==="Literal")return i.dataset.delete((0,t.quad)(s,o,l)),!0;if(l.termType==="NamedNode")return i.dataset.deleteMatches(l,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,l),!0}),!0}return Fp.deleteValueFromDataset=e,Fp}var jp={},T3;function u8(){if(T3)return jp;T3=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.getValueForKey=void 0;const t=$i(),e=$0(),n=Wd();function r(i,a,s){const{contextUtil:o,dataset:l}=s;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:o.iriToKey(i["@id"].value);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const f=i["@id"],h=(0,t.namedNode)(o.keyToIri(a));if(o.isArray(a))return s.createArrayProxy([f,h,null,null],!1,void 0,o.isLangString(a));let p=l.match(f,h);if(o.isLangString(a)&&(p=(0,n.filterQuadsByLanguageOrdering)(p,s.languageOrdering)),p.size!==0)return p.size===1?(0,e.nodeToJsonldRepresentation)(p.toArray()[0].object,s):s.createArrayProxy([f,h,null,null])}return jp.getValueForKey=r,jp}var C3;function l8(){if(C3)return Np;C3=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.createSubjectHandler=void 0;const t=$i(),e=fR(),n=o8(),r=go(),i=u8();function a(s){let o=s;return{get(l,f){switch(f){case r._getUnderlyingDataset:return o.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return o;case r._writeGraphs:return o.writeGraphs;case"@context":return o.contextUtil.context}return(0,i.getValueForKey)(l,f,o)},getOwnPropertyDescriptor(l,f){return{value:(0,i.getValueForKey)(l,f,o),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const f=l["@id"],h=o.dataset.match(f),p=new Set(["@id"]);return h.toArray().forEach(m=>{p.add(o.contextUtil.iriToKey(m.predicate.value))}),Array.from(p)},set:(l,f,h)=>{if(f===r._proxyContext)return o=h,!0;if(f==="@id"&&typeof h=="string"){const p=o.dataset.match(l["@id"]).toArray(),m=p.map(x=>(0,t.quad)((0,t.namedNode)(h),x.predicate,x.object,x.graph));p.forEach(x=>o.dataset.delete(x)),o.dataset.addAll(m);const y=o.dataset.match(void 0,void 0,l["@id"]).toArray(),_=y.map(x=>(0,t.quad)(x.subject,x.predicate,(0,t.namedNode)(h),x.graph));y.forEach(x=>o.dataset.delete(x)),o.dataset.addAll(_),l["@id"]=(0,t.namedNode)(h)}return(0,e.addObjectToDataset)({"@id":l["@id"],[f]:h},!0,o),!0},deleteProperty(l,f){return(0,n.deleteValueFromDataset)(l,f,o)}}}return Np.createSubjectHandler=a,Np}var A3;function f8(){if(A3)return kp;A3=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.ProxyContext=void 0;const t=s8(),e=l8(),n=go();let r=class c8{constructor(a){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=a.dataset,this.contextUtil=a.contextUtil,this.writeGraphs=a.writeGraphs,this.languageOrdering=a.languageOrdering,this.state=a.state||{},a.prefilledArrayTargets&&a.prefilledArrayTargets.forEach(s=>{this.createArrayProxy(s[0],s[2],s)})}createSubjectProxy(a){if(!this.subjectMap.has(a.value)){const s=new Proxy({"@id":a},this.createSubjectHandler());this.subjectMap.set(a.value,s)}return this.subjectMap.get(a.value)}createSubjectHandler(){return(0,e.createSubjectHandler)(this)}getArrayKey(...a){var s,o,l,f;return`${((s=a[0])==null?void 0:s.value)||"undefined"}|${((o=a[1])==null?void 0:o.value)||"undefined"}|${((l=a[2])==null?void 0:l.value)||"undefined"}|${((f=a[3])==null?void 0:f.value)||"undefined"}`}createArrayProxy(a,s=!1,o,l){const f=this.getArrayKey(...a);if(!this.arrayMap.has(f)){const h=new Proxy(o||[a,[],s,l],this.createArrayHandler());this.arrayMap.set(f,h)}return this.arrayMap.get(f)}createArrayHandler(){return(0,t.createArrayHandler)(this)}duplicate(a){const s=[];this.arrayMap.forEach(l=>{s.push(l[n._getUnderlyingArrayTarget])});const o={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:s,...a};return new c8(o)}};return kp.ProxyContext=r,kp}var R3;function O3(){if(R3)return Ip;R3=1,Object.defineProperty(Ip,"__esModule",{value:!0}),Ip.jsonldDatasetProxy=void 0;const t=$i(),e=r8(),n=i8(),r=f8();function i(a,s){const o=new e.ContextUtil(s),l=new r.ProxyContext({dataset:a,contextUtil:o,writeGraphs:[(0,t.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return Ip.jsonldDatasetProxy=i,Ip}var $p={},Up={},cc={},Bp={},P3;function d8(){if(P3)return Bp;P3=1,Object.defineProperty(Bp,"__esModule",{value:!0}),Bp.isArrayProxy=void 0;const t=go();function e(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[t._getUnderlyingDataset]!="object"||typeof r[t._getUnderlyingMatch]!="object"||typeof r[t._getNodeAtIndex]!="function"||typeof r[t._getUnderlyingArrayTarget]!="object")}return Bp.isArrayProxy=e,Bp}var I3;function h8(){if(I3)return cc;I3=1,Object.defineProperty(cc,"__esModule",{value:!0}),cc.getProxyFromObject=cc.isProxy=void 0;const t=d8(),e=Gd();function n(i){return(0,e.isSubjectProxy)(i)||(0,t.isArrayProxy)(i)}cc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return cc.getProxyFromObject=r,cc}var L3;function hR(){if(L3)return Up;L3=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.createInteractOptions=void 0;const t=Gd(),e=go(),n=h8();function r(i,a){return{using(...s){const o=[];return s.forEach(l=>{const f=(0,n.getProxyFromObject)(l),h=f[e._proxyContext];f[e._proxyContext]=f[e._proxyContext].duplicate({[i]:a}),o.push(()=>{f[e._proxyContext]=h})}),function(){o.forEach(f=>f())}},usingCopy(...s){return s.map(o=>{const l=(0,t.getSubjectProxyFromObject)(o);return l[e._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[e._getUnderlyingNode])})}}}return Up.createInteractOptions=r,Up}var M3;function Vde(){if(M3)return $p;M3=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.write=void 0;const t=hR();function e(...n){return(0,t.createInteractOptions)("writeGraphs",n)}return $p.write=e,$p}var qp={},k3;function Kde(){if(k3)return qp;k3=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.graphOf=void 0;const t=$i(),e=Gd(),n=go();function r(i,a,s){const o=(0,e.getSubjectProxyFromObject)(i),l=o[n._proxyContext],f=o[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(a));let p;if(s==null)p=null;else if(typeof s=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[s])throw new Error(`Index ${s} does not exist.`);(0,e.isSubjectProxy)(y[s])&&(p=y[s][1]),p=y[n._getNodeAtIndex](s)}else p=(0,e.getSubjectProxyFromObject)(s)[n._getUnderlyingNode];return o[n._getUnderlyingDataset].match(f,h,p).toArray().map(y=>y.graph)}return qp.graphOf=r,qp}var Hp={},D3;function Gde(){if(D3)return Hp;D3=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.setLanguagePreferences=void 0;const t=hR();function e(...n){return(0,t.createInteractOptions)("languageOrdering",n)}return Hp.setLanguagePreferences=e,Hp}var zp={},$f={},rv={},N3;function p8(){if(N3)return rv;N3=1;var t;Object.defineProperty(rv,"__esModule",{value:!0});const e=$i(),n=Wd();class r{constructor(a,s,o,l){this[t]="LanguageSet",this.subject=a,this.predicate=s,this.languageKey=o,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,e.literal)(a):(0,e.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(s=>{this.proxyContext.dataset.add((0,e.quad)(this.subject,this.predicate,(0,e.literal)(a,this.languageKey),s))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const s=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),s}forEach(a,s){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,s||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const s of a)yield[s.object.value,s.object.value]}*keys(){const a=this.matchThis();for(const s of a)yield s.object.value}*values(){const a=this.matchThis();for(const s of a)yield s.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const s of a)yield s.object.value}}return rv.default=r,t=Symbol.toStringTag,rv}var F3;function g8(){if(F3)return $f;F3=1;var t=$f.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty($f,"__esModule",{value:!0}),$f.createLanguageMapProxy=void 0;const e=$i(),n=Wd(),r=t(p8());function i(a,s,o,l){const f={},h=p=>{Object.keys(p).forEach(_=>delete p[_]);const m=o.dataset.match(a,s),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([_,x])=>{const E=x.toArray().map(S=>S.object.value);l?p[_]=new Set(E):p[_]=E[0]})};return h(f),new Proxy(f,{get:(p,m)=>(h(p),typeof m!="string"?Reflect.get(p,m):l?new r.default(a,s,m,o):Reflect.get(p,m)),set:(p,m,y)=>{const _=(0,n.languageKeyToLiteralLanguage)(m);return l||(0,n.languageDeleteMatch)(o.dataset,a,s,_),o.writeGraphs.forEach(x=>{o.dataset.add((0,e.quad)(a,s,(0,e.literal)(y,_),x))}),Reflect.set(p,m,y)},deleteProperty:(p,m)=>((0,n.languageDeleteMatch)(o.dataset,a,s,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(p,m))})}return $f.createLanguageMapProxy=i,$f}var j3;function Wde(){if(j3)return zp;j3=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.languagesOf=void 0;const t=$i(),e=Gd(),n=go(),r=g8();function i(a,s){const o=(0,e.getSubjectProxyFromObject)(a),l=o[n._proxyContext],f=o[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(s));return(0,r.createLanguageMapProxy)(f,h,l,l.contextUtil.isArray(s))}return zp.languagesOf=i,zp}var OE={},$3;function Qde(){return $3||($3=1,Object.defineProperty(OE,"__esModule",{value:!0})),OE}var PE={},U3;function Zde(){return U3||(U3=1,Object.defineProperty(PE,"__esModule",{value:!0})),PE}var IE={},B3;function Jde(){return B3||(B3=1,Object.defineProperty(IE,"__esModule",{value:!0})),IE}var LE={},q3;function Yde(){return q3||(q3=1,Object.defineProperty(LE,"__esModule",{value:!0})),LE}var H3;function kg(){return H3||(H3=1,function(t){var e=Pp.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,l)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),n=Pp.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0});const r=O3();t.default=r.jsonldDatasetProxy,n(go(),t),n(r8(),t),n(f8(),t),n(i8(),t),n(O3(),t),n(Vde(),t),n(Kde(),t),n(Gde(),t),n(Wde(),t),n(g8(),t),n(p8(),t),n(Qde(),t),n(Wd(),t),n(s8(),t),n(a8(),t),n(Zde(),t),n(dR(),t),n(d8(),t),n(l8(),t),n(Jde(),t),n(u8(),t),n(o8(),t),n(Gd(),t),n(fR(),t),n($0(),t),n(Yde(),t),n(cR(),t),n(U0(),t),n(h8(),t),n(hR(),t)}(Pp)),Pp}var Vp={},Ma={},z3;function m8(){if(z3)return Ma;z3=1,Object.defineProperty(Ma,"__esModule",{value:!0}),Ma.getTransactionalDatasetFromLdo=Ma.isTransactionalDataset=Ma.canDatasetStartTransaction=Ma.normalizeNodeNames=Ma.normalizeNodeName=void 0;const t=$i(),e=kg();function n(o){return typeof o=="string"?(0,t.namedNode)(o):o}Ma.normalizeNodeName=n;function r(o){return o.map(l=>n(l))}Ma.normalizeNodeNames=r;function i(o){return typeof o.startTransaction=="function"}Ma.canDatasetStartTransaction=i;function a(o){return typeof o.commit=="function"}Ma.isTransactionalDataset=a;function s(o){const l=(0,e.getProxyFromObject)(o),f=l[e._getUnderlyingDataset];if(!a(f)||!l[e._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[f,l]}return Ma.getTransactionalDatasetFromLdo=s,Ma}var V3;function pR(){if(V3)return Vp;V3=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.LdoBuilder=void 0;const t=m8();let e=class DC{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,t.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new DC(this.jsonldDatasetProxyBuilder.write(...(0,t.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new DC(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return Vp.LdoBuilder=e,Vp}var Uf={},K3;function y8(){if(K3)return Uf;K3=1;var t=Uf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Uf,"__esModule",{value:!0}),Uf.LdoTransactionDataset=void 0;const e=mm(),n=pR(),r=t(kg());let i=class extends e.TransactionDataset{usingType(s){const o=(0,r.default)(this,s.context);return new n.LdoBuilder(o,s)}};return Uf.LdoTransactionDataset=i,Uf}var G3;function v8(){if(G3)return jf;G3=1;var t=jf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(jf,"__esModule",{value:!0}),jf.LdoDataset=void 0;const e=t(kg()),n=mm(),r=pR(),i=y8();let a=class extends n.SubscribableDataset{usingType(o){const l=(0,e.default)(this,o.context);return new r.LdoBuilder(l,o)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return jf.LdoDataset=a,jf}var W3;function Xde(){if(W3)return bp;W3=1,Object.defineProperty(bp,"__esModule",{value:!0}),bp.LdoDatasetFactory=void 0;const t=mm(),e=v8();let n=class extends t.SubscribableDatasetFactory{dataset(i){return new e.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return bp.LdoDatasetFactory=n,bp}var Q3;function _8(){if(Q3)return rc;Q3=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.createLdoDataset=rc.createLdoDatasetFactory=void 0;const t=Jc(),e=Xde(),n=mm();function r(){const a={dataset:s=>(0,t.createDataset)(s)};return new e.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}rc.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return rc.createLdoDataset=i,rc}var Z3;function ehe(){if(Z3)return op;Z3=1,Object.defineProperty(op,"__esModule",{value:!0}),op.parseRdf=void 0;const t=Jc(),e=_8();async function n(r,i){const a=(0,e.createLdoDatasetFactory)();return typeof r=="string"?await(0,t.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,e.createLdoDataset)(r):await(0,t.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/json-ld"})}return op.parseRdf=n,op}var ME={},J3;function the(){return J3||(J3=1,Object.defineProperty(ME,"__esModule",{value:!0})),ME}var ir={},Y3;function nhe(){if(Y3)return ir;Y3=1,Object.defineProperty(ir,"__esModule",{value:!0}),ir.toNTriples=ir.toJsonLd=ir.toTurtle=ir.serialize=ir.toSparqlUpdate=ir.getDataset=ir.transactionChanges=ir.commitTransaction=ir.startTransaction=ir.write=ir.setLanguagePreferences=ir.languagesOf=ir.graphOf=void 0;const t=kg(),e=gm(),n=m8(),r=kg();ir.graphOf=r.graphOf,ir.languagesOf=r.languagesOf,ir.setLanguagePreferences=r.setLanguagePreferences;function i(..._){return(0,t.write)(...(0,n.normalizeNodeNames)(_))}ir.write=i;function a(_){const x=(0,t.getProxyFromObject)(_),E=x[t._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(E))throw new Error("Object is not transactable.");x[t._proxyContext]=x[t._proxyContext].duplicate({dataset:E.startTransaction(),state:{parentDataset:E}})}ir.startTransaction=a;function s(_){const[x,E]=(0,n.getTransactionalDatasetFromLdo)(_);x.commit(),E[t._proxyContext]=E[t._proxyContext].duplicate({dataset:E[t._proxyContext].state.parentDataset})}ir.commitTransaction=s;function o(_){const[x]=(0,n.getTransactionalDatasetFromLdo)(_);return x.getChanges()}ir.transactionChanges=o;function l(_){return(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset]}ir.getDataset=l;async function f(_){const[x]=(0,n.getTransactionalDatasetFromLdo)(_),E=x.getChanges();return(0,e.changesToSparqlUpdate)(E)}ir.toSparqlUpdate=f;async function h(_,x){const E=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(E,x)}ir.serialize=h;async function p(_){const x=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(x,{})}ir.toTurtle=p;async function m(_){throw new Error("Not Implemented")}ir.toJsonLd=m;async function y(_){const x=(0,t.getProxyFromObject)(_)[t._getUnderlyingDataset];return(0,e.datasetToString)(x,{format:"N-Triples"})}return ir.toNTriples=y,ir}var X3;function rhe(){return X3||(X3=1,function(t){var e=sp.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=sp.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(ehe(),t),n(the(),t),n(nhe(),t),n(v8(),t),n(y8(),t),n(pR(),t),n(_8(),t)}(sp)),sp}var Zn=rhe();const il={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},Tl={Accommodation:il.hospex+"Accommodation",PersonalHospexDocument:il.hospex+"PersonalHospexDocument",offers:il.hospex+"offers",offeredBy:il.hospex+"offeredBy",storage:il.hospex+"storage"},lg={...Object.fromEntries(Object.entries(ZM).map(([t,e])=>[t,JM(e)])),subject:JM(ZM.object.replace("object","subject"))},al={participation:il.wf+"participation",participant:il.wf+"participant",...Zle},ihe={LongChat:il.meeting+"LongChat",...Qle},w8=[{type:"match",subject:"?community",predicate:Cd.has_usergroup,pick:"object",target:"?group"}],b8=[...w8,{type:"match",subject:"?group",predicate:tB.hasMember,pick:"object",target:"?person"}],B0={type:"match",subject:"?person",predicate:ml.inbox,pick:"object",target:"?inbox"},Qd=[{type:"match",subject:"?person",predicate:HA.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],S8=[...Qd,{type:"match",subject:"?person",predicate:Hn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],x8=[...S8,{type:"match",subject:"?person",predicate:cm.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Hn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},B0],E8=[{type:"match",subject:"?publicTypeIndex",predicate:C0.references,pick:"object",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Hn.forClass,object:Tl.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:Hn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:Cd.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],T8=[...S8,...E8],ahe=[...x8,...E8,{type:"match",subject:"?person",predicate:cm.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},B0,{type:"match",subject:"?person",predicate:Cd.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:Cd.name,pick:"object",target:"?communityName"}],C8=[...T8,{type:"match",subject:"?person",predicate:Tl.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],she=[...b8,...C8],ohe=[{type:"match",subject:"?offer",predicate:Tl.offeredBy,pick:"object",target:"?person"}],uhe=[...Qd,{type:"match",subject:"?person",predicate:wl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:HA.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],lhe=[...Qd,B0,{type:"match",subject:"?inbox",predicate:ml.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:lm.type,object:lg.Invite,pick:"subject",target:"?inviteNotification"}],che=[...Qd,B0,{type:"match",subject:"?inbox",predicate:ml.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:lm.type,object:lg.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:lg.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:lg.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:lg.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],A8=[...Qd,{type:"match",subject:"?person",predicate:cm.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Hn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",subject:"?privateTypeIndex",predicate:C0.references,pick:"object",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Hn.forClass,object:ihe.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:Hn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:al.participation,pick:"object",target:"?participation"}],fhe=[...A8,{type:"match",subject:"?participation",predicate:C0.references,pick:"object",target:"?otherChat"}],dhe=[...A8,{type:"match",subject:"?participation",predicate:al.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:al.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:al.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:al.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:al.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:C0.references,pick:"object",target:"?otherChat"}],R8=[{type:"match",subject:"?chatContainer",predicate:ml.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:ml.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:ml.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:ml.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:al.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:al.message,pick:"object",target:"?message"}],W_=t=>t.termType==="NamedNode"?new Vr(ri(t.value)):void 0,hhe=[...dhe,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:W_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:W_},...R8],phe=[...fhe,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:W_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:W_},...R8],ghe=(t,e)=>{const{variables:n}=wa(ae.useMemo(()=>({query:b8,variables:{community:[e]},fetch:yr}),[e]));return(n.person??[]).includes(t)},pu=t=>{const{store:e,variables:n,isLoading:r}=wa({query:w8,variables:ae.useMemo(()=>({community:[t]}),[t]),fetch:yr}),i=ae.useMemo(()=>Zn.createLdoDataset(e.getQuads(null,null,null,null)).usingType(Uce).fromSubject(t),[t,e,n]),a=ae.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"name"),f=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]),s=ae.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"note"),f=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]),o=ae.useMemo(()=>{var p,m;const l=Zn.languagesOf(i,"about"),f=[...((p=l.en)==null?void 0:p.values())??[]][0],h=[...((m=l["@none"])==null?void 0:m.values())??[]][0];return f||h},[i]);return ae.useMemo(()=>{var l;return{community:t,logo:((l=i.logo)==null?void 0:l.map(({"@id":f})=>f))??[],name:a,about:o,pun:s,groups:n.group??[],isLoading:r}},[o,i.logo,t,r,a,s,n.group])},gu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},Resource:"http://www.w3.org/ns/ldp#Resource"},mu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/TypeRegistration",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/TypeRegistration",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},O8={schema:mu,shape:"https://example.com/SolidProfile",context:gu},mhe={schema:mu,shape:"https://example.com/FoafProfile",context:gu},q0={schema:mu,shape:"https://example.com/HospexProfile",context:gu},H0={schema:mu,shape:"https://example.com/Accommodation",context:gu},P8={schema:mu,shape:"https://example.com/PublicTypeIndex",context:gu},I8={schema:mu,shape:"https://example.com/PrivateTypeIndex",context:gu},Ad={schema:mu,shape:"https://example.com/ChatShape",context:gu},L8={schema:mu,shape:"https://example.com/MessageActivity",context:gu},M8={schema:mu,shape:"https://example.com/ContactInvitationActivity",context:gu};var eF=gm();const yhe=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}},tF=t=>JSON.parse(JSON.stringify(t,yhe()));async function NC(t){const e=Zn.transactionChanges(t),n=[`_:mutate a <${Hn.InsertDeletePatch}>`];if(e.added){const i=await eF.datasetToString(e.added,{format:"N3"});n.push(`<${Hn.inserts}> { ${i} }`)}if(e.removed){const i=await eF.datasetToString(e.removed,{format:"N3"});n.push(`<${Hn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}var kE,nF;function k8(){if(nF)return kE;nF=1;var t=F0(),e=fm();function n(r,i,a){(a!==void 0&&!e(r[i],a)||a===void 0&&!(i in r))&&t(r,i,a)}return kE=n,kE}var cg={exports:{}};cg.exports;var rF;function D8(){return rF||(rF=1,function(t,e){var n=Ds(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(f,h){if(h)return f.slice();var p=f.length,m=o?o(p):new f.constructor(p);return f.copy(m),m}t.exports=l}(cg,cg.exports)),cg.exports}var DE,iF;function gR(){if(iF)return DE;iF=1;var t=CB();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return DE=e,DE}var NE,aF;function N8(){if(aF)return NE;aF=1;var t=gR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return NE=e,NE}var FE,sF;function F8(){if(sF)return FE;sF=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return FE=t,FE}var jE,oF;function vhe(){if(oF)return jE;oF=1;var t=Ns(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return jE=n,jE}var $E,uF;function mR(){if(uF)return $E;uF=1;var t=PB(),e=t(Object.getPrototypeOf,Object);return $E=e,$E}var UE,lF;function j8(){if(lF)return UE;lF=1;var t=vhe(),e=mR(),n=nR();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return UE=r,UE}var BE,cF;function _he(){if(cF)return BE;cF=1;var t=D0(),e=hu();function n(r){return e(r)&&t(r)}return BE=n,BE}var qE,fF;function $8(){if(fF)return qE;fF=1;var t=Kd(),e=mR(),n=hu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=o.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==l}return qE=f,qE}var HE,dF;function U8(){if(dF)return HE;dF=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return HE=t,HE}var zE,hF;function B8(){if(hF)return zE;hF=1;var t=F0(),e=fm(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return zE=i,zE}var VE,pF;function Zd(){if(pF)return VE;pF=1;var t=B8(),e=F0();function n(r,i,a,s){var o=!a;a||(a={});for(var l=-1,f=i.length;++l<f;){var h=i[l],p=s?s(a[h],r[h],h,a,r):void 0;p===void 0&&(p=r[h]),o?e(a,h,p):t(a,h,p)}return a}return VE=n,VE}var KE,gF;function whe(){if(gF)return KE;gF=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return KE=t,KE}var GE,mF;function bhe(){if(mF)return GE;mF=1;var t=Ns(),e=nR(),n=whe(),r=Object.prototype,i=r.hasOwnProperty;function a(s){if(!t(s))return n(s);var o=e(s),l=[];for(var f in s)f=="constructor"&&(o||!i.call(s,f))||l.push(f);return l}return GE=a,GE}var WE,yF;function ym(){if(yF)return WE;yF=1;var t=OB(),e=bhe(),n=D0();function r(i){return n(i)?t(i,!0):e(i)}return WE=r,WE}var QE,vF;function She(){if(vF)return QE;vF=1;var t=Zd(),e=ym();function n(r){return t(r,e(r))}return QE=n,QE}var ZE,_F;function xhe(){if(_F)return ZE;_F=1;var t=k8(),e=D8(),n=N8(),r=F8(),i=j8(),a=M0(),s=Fs(),o=_he(),l=k0(),f=KA(),h=Ns(),p=$8(),m=tR(),y=U8(),_=She();function x(E,S,b,A,k,M,I){var F=y(E,b),B=y(S,b),ee=I.get(B);if(ee){t(E,b,ee);return}var U=M?M(F,B,b+"",E,S,I):void 0,J=U===void 0;if(J){var le=s(B),Y=!le&&l(B),se=!le&&!Y&&m(B);U=B,le||Y||se?s(F)?U=F:o(F)?U=r(F):Y?(J=!1,U=e(B,!0)):se?(J=!1,U=n(B,!0)):U=[]:p(B)||a(B)?(U=F,a(F)?U=_(F):(!h(F)||f(F))&&(U=i(B))):J=!1}J&&(I.set(B,U),k(U,B,A,M,I),I.delete(B)),t(E,b,U)}return ZE=x,ZE}var JE,wF;function Ehe(){if(wF)return JE;wF=1;var t=L0(),e=k8(),n=kB(),r=xhe(),i=Ns(),a=ym(),s=U8();function o(l,f,h,p,m){l!==f&&n(f,function(y,_){if(m||(m=new t),i(y))r(l,f,_,h,o,p,m);else{var x=p?p(s(l,_),y,_+"",l,f,m):void 0;x===void 0&&(x=y),e(l,_,x)}},a)}return JE=o,JE}var YE,bF;function The(){if(bF)return YE;bF=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return YE=t,YE}var XE,SF;function q8(){if(SF)return XE;SF=1;var t=The(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),f=Array(l);++o<l;)f[o]=s[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=s[o];return h[i]=a(f),t(r,this,h)}}return XE=n,XE}var e2,xF;function Che(){if(xF)return e2;xF=1;function t(e){return function(){return e}}return e2=t,e2}var t2,EF;function Ahe(){if(EF)return t2;EF=1;var t=Che(),e=MB(),n=sR(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return t2=r,t2}var n2,TF;function Rhe(){if(TF)return n2;TF=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return n2=r,n2}var r2,CF;function H8(){if(CF)return r2;CF=1;var t=Ahe(),e=Rhe(),n=e(t);return r2=n,r2}var i2,AF;function Ohe(){if(AF)return i2;AF=1;var t=sR(),e=q8(),n=H8();function r(i,a){return n(e(i,a,t),i+"")}return i2=r,i2}var a2,RF;function Phe(){if(RF)return a2;RF=1;var t=fm(),e=D0(),n=JA(),r=Ns();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return a2=i,a2}var s2,OF;function Ihe(){if(OF)return s2;OF=1;var t=Ohe(),e=Phe();function n(r){return t(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,f=o>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,f&&e(a[0],a[1],f)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var h=a[s];h&&r(i,h,s,l)}return i})}return s2=n,s2}var o2,PF;function Lhe(){if(PF)return o2;PF=1;var t=Ehe(),e=Ihe(),n=e(function(r,i,a){t(r,i,a)});return o2=n,o2}var Mhe=Lhe();const qc=Ur(Mhe);class vm extends Error{constructor(n,r){super(n);Gb(this,"status");Gb(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,vm.prototype)}}var u2,IF;function z8(){if(IF)return u2;IF=1;var t=hm();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],l=r(o);if(l!=null&&(f===void 0?l===l&&!t(l):i(l,f)))var f=l,h=o}return h}return u2=e,u2}var l2,LF;function khe(){if(LF)return l2;LF=1;function t(e,n){return e>n}return l2=t,l2}var c2,MF;function Dhe(){if(MF)return c2;MF=1;var t=z8(),e=khe(),n=oR();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return c2=r,c2}var Nhe=Dhe();const Fhe=Ur(Nhe),jhe=(t,e)=>yr(t,{cache:"no-store",...e}),V8=t=>bB(t,jhe),$he=t=>{const e=ae.useMemo(()=>({queries:t.map(r=>Hd(r)).map(r=>({queryKey:["rdfDocument",r],queryFn:()=>V8(r)}))}),[t]);return dA(e)},Uhe=()=>{const t=xa();return fs({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await uu(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:Jd(t)})},Ls=t=>{const e=xa();return fs({mutationFn:async({uri:r,data:i,language:a="en",method:s="PUT",throwOnHttpError:o=!1})=>{const l=Zn.createLdoDataset();if(Array.isArray(i))i.forEach(y=>{const _=l.usingType(t).fromSubject(y["@id"]);Zn.setLanguagePreferences(a).using(_),qc(_,y)});else{const y=l.usingType(t).fromSubject(i["@id"]);Zn.setLanguagePreferences(a).using(y),qc(y,i)}const f=await Zn.toTurtle(l.usingType(t).fromSubject("")),h={"content-type":"text/turtle"};s==="PUT"&&(h["If-None-Match"]="*");const p=await uu(r,{method:s,body:f,headers:h});if(o&&!p.ok)throw new vm(p.statusText,p);return p.headers.get("location")},onSuccess:Jd(e)})},js=()=>{const t=xa();return fs({mutationFn:async({uri:n,patch:r})=>{const i=await uu(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:Jd(t,n=>n.status===201)})},lu=t=>{const e=xa();return fs({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:s="en"})=>{const o=await uu(n);let l="";o.ok&&(l=await o.text());const h=(await Zn.parseRdf(l,{baseIRI:n})).usingType(t);let p="";if(r){const m=h.fromSubject(r);Zn.setLanguagePreferences(s).using(m),Zn.startTransaction(m),a(m),p=await NC(m)}else if(i){const m=h.matchSubject(i.predicate,i.object,i.graph);Zn.setLanguagePreferences(s).using(m),Zn.startTransaction(m),a(m),p=await NC(m)}return await uu(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:Jd(e,n=>n.status===201)})},Bhe=t=>{const e=xa();return fs({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const s=await uu(n);let o="";s.ok&&(o=await s.text());const f=(await Zn.parseRdf(o,{baseIRI:n})).usingType(t),h=r(f);Zn.setLanguagePreferences(a).using(h),Zn.startTransaction(h),i(h);const p=await NC(h);return await uu(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:Jd(e,n=>n.status===201)})},z0=()=>{const t=xa();return fs({mutationFn:async({uri:n})=>{await uu(n,{method:"DELETE"})},onSuccess:Jd(t)})},qhe=(t,e)=>{const n=Xle(t),r=e.getQueryCache().getAll().filter(a=>a.queryKey[0]==="rdfDocument"&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return Fhe(r,a=>a.length)},Jd=(t,e=()=>!0)=>(n,r)=>{const i=Hd(r.uri);if(t.invalidateQueries({queryKey:["rdfDocument",i]}),t.invalidateQueries({queryKey:["rdfDocument",nB(i)]}),e(n)){const a=qhe(i,t);a&&t.invalidateQueries({queryKey:["rdfDocument",a]})}},Ms=(t,e)=>{const n=wa(ae.useMemo(()=>({query:T8,variables:{person:t?[t]:[],community:[e]},fetch:yr}),[e,t])),{variables:r,isLoading:i}=n,a=wa(ae.useMemo(()=>({query:x8,variables:{person:t?[t]:[]},fetch:yr}),[t])),s=ae.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(S=>new co(n.quads).getQuads(null,null,null,new Vr(S))).map(S=>Zn.createLdoDataset(S).usingType(q0).fromSubject(t)),[n.quads,r.hospexDocumentForCommunity,t]),o=ae.useMemo(()=>{const{quads:_}=a;return Zn.createLdoDataset(_).usingType(mhe).fromSubject(t)},[a,t]),l=ae.useMemo(()=>qc({},tF(o),...s.map(_=>tF(_))),[o,s]),f=ae.useMemo(()=>s.map(_=>Zn.languagesOf(_,"note")),[s]),[h]=ae.useMemo(()=>f.map(_=>{var x;return((x=_==null?void 0:_.en)==null?void 0:x.values().next().value)??""}),[f]),p=ae.useMemo(()=>{var _,x;return{id:t,name:l.name??"",photo:(_=l.hasPhoto)==null?void 0:_["@id"],about:h,interests:((x=l.topicInterest)==null?void 0:x.map(E=>E["@id"]))??[]}},[h,l.hasPhoto,l.name,l.topicInterest,t]),m=ae.useMemo(()=>{var _,x;return s.length>0?{id:t,name:s[0].name??"",photo:(_=s[0].hasPhoto)==null?void 0:_["@id"],about:(x=s[0].note)==null?void 0:x[0]}:void 0},[s,t]),y=ae.useMemo(()=>new co(n.quads).getQuads(new Vr(t),new Vr(wl.topic_interest),null,null).map(_=>({id:_.object.id,document:_.graph.id})),[n,t]);return ae.useMemo(()=>{var _;return[p,i,(_=r.hospexDocumentForCommunity)==null?void 0:_[0],y,m]},[m,y,i,p,r.hospexDocumentForCommunity])},K8=t=>{const{quads:e,isFetched:n}=wa(ae.useMemo(()=>({query:Qd,variables:{person:[t]},fetch:yr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[t]));return ae.useMemo(()=>[Zn.createLdoDataset(e).usingType(O8).fromSubject(t),{isFetched:n}],[n,t,e])},Hhe=()=>{const t=lu(q0);return ae.useCallback(async({personId:e,hospexDocument:n,data:r,language:i="en"})=>{await t.mutateAsync({uri:n,subject:e,language:i,transform:a=>{r.name&&(a.name=r.name),r.about&&(a.note=[r.about]),r.photo&&(a.hasPhoto={"@id":r.photo})}})},[t])},zhe=()=>{const t=js();return ae.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${e}> <${wl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])},Vhe=()=>{const t=js();return ae.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.deletes}> { <${e}> <${wl.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])};var f2,kF;function Khe(){if(kF)return f2;kF=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return f2=t,f2}var d2,DF;function Ghe(){if(DF)return d2;DF=1;var t=Zd(),e=dm();function n(r,i){return r&&t(i,e(i),r)}return d2=n,d2}var h2,NF;function Whe(){if(NF)return h2;NF=1;var t=Zd(),e=ym();function n(r,i){return r&&t(i,e(i),r)}return h2=n,h2}var p2,FF;function Qhe(){if(FF)return p2;FF=1;var t=Zd(),e=ZA();function n(r,i){return t(r,e(r),i)}return p2=n,p2}var g2,jF;function G8(){if(jF)return g2;jF=1;var t=QA(),e=mR(),n=ZA(),r=RB(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return g2=a,g2}var m2,$F;function Zhe(){if($F)return m2;$F=1;var t=Zd(),e=G8();function n(r,i){return t(r,e(r),i)}return m2=n,m2}var y2,UF;function W8(){if(UF)return y2;UF=1;var t=AB(),e=G8(),n=ym();function r(i){return t(i,n,e)}return y2=r,y2}var v2,BF;function Jhe(){if(BF)return v2;BF=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return v2=n,v2}var _2,qF;function Yhe(){if(qF)return _2;qF=1;var t=gR();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return _2=e,_2}var w2,HF;function Xhe(){if(HF)return w2;HF=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return w2=e,w2}var b2,zF;function epe(){if(zF)return b2;zF=1;var t=Vd(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return b2=r,b2}var S2,VF;function tpe(){if(VF)return S2;VF=1;var t=gR(),e=Yhe(),n=Xhe(),r=epe(),i=N8(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",f="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",_="[object DataView]",x="[object Float32Array]",E="[object Float64Array]",S="[object Int8Array]",b="[object Int16Array]",A="[object Int32Array]",k="[object Uint8Array]",M="[object Uint8ClampedArray]",I="[object Uint16Array]",F="[object Uint32Array]";function B(ee,U,J){var le=ee.constructor;switch(U){case y:return t(ee);case a:case s:return new le(+ee);case _:return e(ee,J);case x:case E:case S:case b:case A:case k:case M:case I:case F:return i(ee,J);case o:return new le;case l:case p:return new le(ee);case f:return n(ee);case h:return new le;case m:return r(ee)}}return S2=B,S2}var x2,KF;function npe(){if(KF)return x2;KF=1;var t=N0(),e=hu(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return x2=r,x2}var E2,GF;function rpe(){if(GF)return E2;GF=1;var t=npe(),e=XA(),n=eR(),r=n&&n.isMap,i=r?e(r):t;return E2=i,E2}var T2,WF;function ipe(){if(WF)return T2;WF=1;var t=N0(),e=hu(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return T2=r,T2}var C2,QF;function ape(){if(QF)return C2;QF=1;var t=ipe(),e=XA(),n=eR(),r=n&&n.isSet,i=r?e(r):t;return C2=i,C2}var A2,ZF;function Q8(){if(ZF)return A2;ZF=1;var t=L0(),e=Khe(),n=B8(),r=Ghe(),i=Whe(),a=D8(),s=F8(),o=Qhe(),l=Zhe(),f=IB(),h=W8(),p=N0(),m=Jhe(),y=tpe(),_=j8(),x=Fs(),E=k0(),S=rpe(),b=Ns(),A=ape(),k=dm(),M=ym(),I=1,F=2,B=4,ee="[object Arguments]",U="[object Array]",J="[object Boolean]",le="[object Date]",Y="[object Error]",se="[object Function]",me="[object GeneratorFunction]",ve="[object Map]",fe="[object Number]",ue="[object Object]",Oe="[object RegExp]",D="[object Set]",X="[object String]",ce="[object Symbol]",V="[object WeakMap]",Z="[object ArrayBuffer]",he="[object DataView]",xe="[object Float32Array]",Ve="[object Float64Array]",Te="[object Int8Array]",Me="[object Int16Array]",Ze="[object Int32Array]",ie="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",re="[object Uint32Array]",W={};W[ee]=W[U]=W[Z]=W[he]=W[J]=W[le]=W[xe]=W[Ve]=W[Te]=W[Me]=W[Ze]=W[ve]=W[fe]=W[ue]=W[Oe]=W[D]=W[X]=W[ce]=W[ie]=W[z]=W[$]=W[re]=!0,W[Y]=W[se]=W[V]=!1;function pe(ye,ze,Ce,Fe,tt,nt){var gt,Ut=ze&I,Se=ze&F,Be=ze&B;if(Ce&&(gt=tt?Ce(ye,Fe,tt,nt):Ce(ye)),gt!==void 0)return gt;if(!b(ye))return ye;var te=x(ye);if(te){if(gt=m(ye),!Ut)return s(ye,gt)}else{var H=p(ye),G=H==se||H==me;if(E(ye))return a(ye,Ut);if(H==ue||H==ee||G&&!tt){if(gt=Se||G?{}:_(ye),!Ut)return Se?l(ye,i(gt,ye)):o(ye,r(gt,ye))}else{if(!W[H])return tt?ye:{};gt=y(ye,H,Ut)}}nt||(nt=new t);var K=nt.get(ye);if(K)return K;nt.set(ye,gt),A(ye)?ye.forEach(function(Ne){gt.add(pe(Ne,ze,Ce,Ne,ye,nt))}):S(ye)&&ye.forEach(function(Ne,At){gt.set(At,pe(Ne,ze,Ce,At,ye,nt))});var je=Be?Se?h:f:Se?M:k,Ye=te?void 0:je(ye);return e(Ye||ye,function(Ne,At){Ye&&(At=Ne,Ne=ye[At]),n(gt,At,pe(Ne,ze,Ce,At,ye,nt))}),gt}return A2=pe,A2}var R2,JF;function spe(){if(JF)return R2;JF=1;var t=Q8(),e=1,n=4;function r(i){return t(i,e|n)}return R2=r,R2}var ope=spe();const upe=Ur(ope),lpe=t=>{const{quads:e,variables:n}=wa(ae.useMemo(()=>({query:phe,variables:{person:[t]},staleTime:3e4,fetch:yr}),[t])),r=ae.useMemo(()=>{const i=Zn.createLdoDataset(e).usingType(Ad);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var h,p,m;const s=a["@id"],o=((h=a.participation)==null?void 0:h.flatMap(y=>{var _;return((_=y.references)==null?void 0:_.flatMap(x=>x["@id"]??[]).filter(x=>!!x))??[]}))??[],l=((p=a.participation)==null?void 0:p.map(y=>y.participant["@id"]))??[],f=[a,...(((m=a.participation)==null?void 0:m.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(_=>({id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"]})).sort((_,x)=>_.createdAt-x.createdAt));return{id:s,related:o,participants:l,messages:f}}).sort((a,s)=>{var o,l;return(((o=[...s.messages].pop())==null?void 0:o.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[e,n.chat]);return ae.useMemo(()=>({data:r}),[r])},V0=t=>{const{quads:e,variables:n,isLoading:r}=wa(ae.useMemo(()=>({query:che,variables:{person:t?[t]:[]},fetch:yr,staleTime:3e4}),[t])),i=ae.useMemo(()=>(n.longChatNotification??[]).map(a=>{var o,l,f,h;const s=Zn.createLdoDataset(e).usingType(L8).fromSubject(a);return{id:s.object["@id"]??"",message:s.object.content,createdAt:new Date(((o=s.object)==null?void 0:o.created)??s.updated).getTime(),from:((l=s.object.maker)==null?void 0:l["@id"])??((f=s.actor)==null?void 0:f["@id"]),chat:s.target["@id"]??"",otherChats:(h=s.target.participation)==null?void 0:h.flatMap(p=>{var m;return((m=p.references)==null?void 0:m.flatMap(y=>y["@id"]??[]))??[]}),notification:s["@id"],status:"unread"}}),[e,n.longChatNotification]);return ae.useMemo(()=>({isLoading:r,data:i}),[r,i])},cpe=t=>{const{data:e}=lpe(t),{data:n}=V0(t);return{data:ae.useMemo(()=>{const i=upe(e);n.forEach(a=>{const s=i.find(o=>{var l;return o.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(o.id))});if(s){s.status="unread";const o=s.messages.findIndex(l=>l.id===a.id);o>-1?s.messages[o]=a:s.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((s,o)=>((s==null?void 0:s.createdAt)??0)-((o==null?void 0:o.createdAt)??0));return i.sort((a,s)=>{var o,l;return(((o=[...s.messages].pop())==null?void 0:o.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,e])}};function Gr(){return Gr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gr.apply(this,arguments)}function Hc(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var O2={exports:{}},P2,YF;function fpe(){if(YF)return P2;YF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P2=t,P2}var I2,XF;function dpe(){if(XF)return I2;XF=1;var t=fpe();function e(){}function n(){}return n.resetWarningCache=e,I2=function(){function r(s,o,l,f,h,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},I2}var ej;function Z8(){return ej||(ej=1,O2.exports=dpe()()),O2.exports}var Dg=hA(),J8=function(e){return!!e&&e[0]==="o"},tj=Dg.unstable_batchedUpdates||function(t){return t()},Bf=function(e,n,r){return r===void 0&&(r=1e-4),Math.abs(e-n)<r},Ng=function(e,n){return e===!0||!!(e&&e[n])},cs=function(e,n){return typeof e=="function"?e(n):e},Y8="_szhsinMenu",hpe=function(e){return e[Y8]},ppe=function(e,n){return Object.defineProperty(n,Y8,{value:e})},K0=function(e,n){return n&&Object.keys(n).forEach(function(r){var i=e[r],a=n[r];typeof a=="function"&&i?e[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:e[r]=a}),e},gpe=function(e){if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};var n=e.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},L2=function(e){for(;e;){if(e=e.parentNode,!e||e===document.body)return;var n=getComputedStyle(e),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return e}};function X8(t,e){return{"aria-disabled":t||void 0,tabIndex:e?0:-1}}function nj(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var Rd=function(e){var n=e.block,r=e.element,i=e.modifiers,a=e.className;return ae.useMemo(function(){var s=r?n+"__"+r:n,o=s;i&&Object.keys(i).forEach(function(f){var h=i[f];h&&(o+=" "+s+"--"+(h===!0?f:f+"-"+h))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(o+=" "+l)),o},[n,r,i,a])},mpe="szh-menu-container",_g="szh-menu",ype="szh-menu-button",vpe="arrow",_pe="item",wpe="divider",eq=ae.createContext(),tq=ae.createContext({}),rj=ae.createContext({}),nq=ae.createContext({}),bpe=ae.createContext({}),rq=ae.createContext({}),iq=ae.createContext({}),Os=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),gi=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Fg=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),wg=Object.freeze({FIRST:"first",LAST:"last"}),Spe=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),xpe=["className","isOpen","disabled","children"],Epe=ppe("MenuButton",ae.forwardRef(function(e,n){var r=e.className,i=e.isOpen,a=e.disabled,s=e.children,o=Hc(e,xpe),l=ae.useMemo(function(){return{open:i}},[i]);return ge.jsx("button",Gr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},o,{ref:n,className:Rd({block:ype,modifiers:l,className:r}),children:s}))})),Tpe=function(e){var n=e.className,r=e.containerRef,i=e.containerProps,a=e.children,s=e.isOpen,o=e.skipOpen,l=e.theming,f=e.transition,h=e.onClose,p=Ng(f,"item"),m=function(x){var E=x.key;switch(E){case Os.ESC:cs(h,{key:E,reason:Fg.CANCEL});break}},y=function(x){s&&!x.currentTarget.contains(x.relatedTarget||document.activeElement)&&(cs(h,{reason:Fg.BLUR}),o&&(o.current=!0,setTimeout(function(){return o.current=!1},300)))};return ge.jsx("div",Gr({},K0({onKeyDown:m,onBlur:y},i),{className:Rd({block:mpe,modifiers:ae.useMemo(function(){return{theme:l,itemTransition:p}},[l,p]),className:n}),style:Gr({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},Cpe=function(e,n){var r=ae.useState(),i=r[0],a=r[1],s=ae.useRef({items:[],hoverIndex:-1,sorted:!1}),o=s.current,l=ae.useCallback(function(h,p){var m=o.items;if(!h)o.items=[];else if(p)m.push(h);else{var y=m.indexOf(h);y>-1&&(m.splice(y,1),h.contains(document.activeElement)&&(n.current.focus(),a()))}o.hoverIndex=-1,o.sorted=!1},[o,n]),f=ae.useCallback(function(h,p,m){var y=o.items,_=o.hoverIndex,x=function(){if(!o.sorted){var A=e.current.querySelectorAll(".szh-menu__item");y.sort(function(k,M){return nj(A,k)-nj(A,M)}),o.sorted=!0}},E=-1,S=void 0;switch(h){case gi.RESET:break;case gi.SET:S=p;break;case gi.UNSET:S=function(A){return A===p?void 0:A};break;case gi.FIRST:x(),E=0,S=y[E];break;case gi.LAST:x(),E=y.length-1,S=y[E];break;case gi.SET_INDEX:x(),E=m,S=y[E];break;case gi.INCREASE:x(),E=_,E<0&&(E=y.indexOf(p)),E++,E>=y.length&&(E=0),S=y[E];break;case gi.DECREASE:x(),E=_,E<0&&(E=y.indexOf(p)),E--,E<0&&(E=y.length-1),S=y[E];break}S||(E=-1),a(S),o.hoverIndex=E},[e,o]);return{hoverItem:i,dispatch:f,updateItems:l}},Ape=function(e,n,r,i){var a=n.current.getBoundingClientRect(),s=e.current.getBoundingClientRect(),o=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=gpe(i),f=function(E){return E+s.left-o.left-l.left},h=function(E){return E+s.left+a.width-o.right+l.right},p=function(E){return E+s.top-o.top-l.top},m=function(E){return E+s.top+a.height-o.bottom+l.bottom},y=function(E){var S=f(E);if(S<0)E-=S;else{var b=h(E);b>0&&(E-=b,S=f(E),S<0&&(E-=S))}return E},_=function(E){var S=p(E);if(S<0)E-=S;else{var b=m(E);b>0&&(E-=b,S=p(E),S<0&&(E-=S))}return E};return{menuRect:a,containerRect:s,getLeftOverflow:f,getRightOverflow:h,getTopOverflow:p,getBottomOverflow:m,confineHorizontally:y,confineVertically:_}},Rpe=function(e){var n=e.arrowRef,r=e.menuY,i=e.anchorRect,a=e.containerRect,s=e.menuRect,o=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return o=Math.max(l,o),o=Math.min(o,s.height-l),o},Ope=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeLeftorRightY,s=e.placeLeftX,o=e.placeRightX,l=e.getLeftOverflow,f=e.getRightOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,_=e.direction,x=e.position,E=_,S=a;x!=="initial"&&(S=p(S),x==="anchor"&&(S=Math.min(S,n.bottom-r.top),S=Math.max(S,n.top-r.top-i.height)));var b,A,k;E==="left"?(b=s,x!=="initial"&&(A=l(b),A<0&&(k=f(o),(k<=0||-A>k)&&(b=o,E="right")))):(b=o,x!=="initial"&&(k=f(b),k>0&&(A=l(s),(A>=0||-A<k)&&(b=s,E="left")))),x==="auto"&&(b=h(b));var M=y?Rpe({menuY:S,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:M,x:b,y:S,computedDirection:E}},Ppe=function(e){var n=e.arrowRef,r=e.menuX,i=e.anchorRect,a=e.containerRect,s=e.menuRect,o=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return o=Math.max(l,o),o=Math.min(o,s.width-l),o},Ipe=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeToporBottomX,s=e.placeTopY,o=e.placeBottomY,l=e.getTopOverflow,f=e.getBottomOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,_=e.direction,x=e.position,E=_==="top"?"top":"bottom",S=a;x!=="initial"&&(S=h(S),x==="anchor"&&(S=Math.min(S,n.right-r.left),S=Math.max(S,n.left-r.left-i.width)));var b,A,k;E==="top"?(b=s,x!=="initial"&&(A=l(b),A<0&&(k=f(o),(k<=0||-A>k)&&(b=o,E="bottom")))):(b=o,x!=="initial"&&(k=f(b),k>0&&(A=l(s),(A>=0||-A<k)&&(b=s,E="top")))),x==="auto"&&(b=p(b));var M=y?Ppe({menuX:S,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:M,x:S,y:b,computedDirection:E}},Lpe=function(e){var n=e.arrow,r=e.align,i=e.direction,a=e.offsetX,s=e.offsetY,o=e.position,l=e.anchorRect,f=e.arrowRef,h=e.positionHelpers,p=h.menuRect,m=h.containerRect,y=a,_=s;n&&(i==="left"||i==="right"?y+=f.current.offsetWidth:_+=f.current.offsetHeight);var x=l.left-m.left-p.width-y,E=l.right-m.left+y,S=l.top-m.top-p.height-_,b=l.bottom-m.top+_,A,k;r==="end"?(A=l.right-m.left-p.width,k=l.bottom-m.top-p.height):r==="center"?(A=l.left-m.left-(p.width-l.width)/2,k=l.top-m.top-(p.height-l.height)/2):(A=l.left-m.left,k=l.top-m.top),A+=y,k+=_;var M=Gr({},h,{anchorRect:l,placeLeftX:x,placeRightX:E,placeLeftorRightY:k,placeTopY:S,placeBottomY:b,placeToporBottomX:A,arrowRef:f,arrow:n,direction:i,position:o});switch(i){case"left":case"right":return Ope(M);case"top":case"bottom":default:return Ipe(M)}},b_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ae.useLayoutEffect:ae.useEffect;function ij(t,e){typeof t=="function"?t(e):t.current=e}var yR=function(e,n){return ae.useMemo(function(){return e?n?function(r){ij(e,r),ij(n,r)}:e:n},[e,n])},Mpe=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],kpe=function(e){var n=e.ariaLabel,r=e.menuClassName,i=e.menuStyle,a=e.arrowClassName,s=e.arrowStyle,o=e.anchorPoint,l=e.anchorRef,f=e.containerRef,h=e.containerProps,p=e.focusProps,m=e.externalRef,y=e.parentScrollingRef,_=e.arrow,x=e.align,E=x===void 0?"start":x,S=e.direction,b=S===void 0?"bottom":S,A=e.position,k=A===void 0?"auto":A,M=e.overflow,I=M===void 0?"visible":M,F=e.setDownOverflow,B=e.repositionFlag,ee=e.captureFocus,U=ee===void 0?!0:ee,J=e.state,le=e.endTransition,Y=e.isDisabled,se=e.menuItemFocus,me=e.offsetX,ve=me===void 0?0:me,fe=e.offsetY,ue=fe===void 0?0:fe,Oe=e.children,D=e.onClose,X=Hc(e,Mpe),ce=ae.useState({x:0,y:0}),V=ce[0],Z=ce[1],he=ae.useState({}),xe=he[0],Ve=he[1],Te=ae.useState(),Me=Te[0],Ze=Te[1],ie=ae.useState(b),z=ie[0],$=ie[1],re=ae.useState(0),W=re[0],pe=re[1],ye=ae.useReducer(function(it){return it+1},1),ze=ye[0],Ce=ye[1],Fe=ae.useContext(rq),tt=Fe.transition,nt=Fe.boundingBoxRef,gt=Fe.boundingBoxPadding,Ut=Fe.rootMenuRef,Se=Fe.rootAnchorRef,Be=Fe.scrollNodesRef,te=Fe.reposition,H=Fe.viewScroll,G=ae.useContext(rj).reposSubmenu||B,K=ae.useRef(null),je=ae.useRef(),Ye=ae.useRef(),Ne=ae.useRef(!1),At=ae.useRef({width:0,height:0}),Pt=ae.useRef(function(){}),kt=Cpe(K,je),Rt=kt.hoverItem,Bt=kt.dispatch,Er=kt.updateItems,fn=J8(J),dn=Ng(tt,"open"),dr=Ng(tt,"close"),on=Be.current,un=function(Et){switch(Et.key){case Os.HOME:Bt(gi.FIRST);break;case Os.END:Bt(gi.LAST);break;case Os.UP:Bt(gi.DECREASE,Rt);break;case Os.DOWN:Bt(gi.INCREASE,Rt);break;case Os.SPACE:Et.target&&Et.target.className.indexOf(_g)!==-1&&Et.preventDefault();return;default:return}Et.preventDefault(),Et.stopPropagation()},In=function(){J==="closing"&&Ze(),cs(le)},sr=ae.useCallback(function(it){var Et,Lt=l?(Et=l.current)==null?void 0:Et.getBoundingClientRect():o?{left:o.x,right:o.x,top:o.y,bottom:o.y,width:0,height:0}:null;if(Lt){on.menu||(on.menu=(nt?nt.current:L2(Ut.current))||window);var Vt=Ape(f,K,on.menu,gt),Yt=Lpe({arrow:_,align:E,direction:b,offsetX:ve,offsetY:ue,position:k,anchorRect:Lt,arrowRef:Ye,positionHelpers:Vt}),qt=Yt.arrowX,Nt=Yt.arrowY,en=Yt.x,Rn=Yt.y,Kt=Yt.computedDirection,Qt=Vt.menuRect,xn=Qt.height;if(!it&&I!=="visible"){var En=Vt.getTopOverflow,$n=Vt.getBottomOverflow,Tr,Br,qr=At.current.height,Rr=$n(Rn);if(Rr>0||Bf(Rr,0)&&Bf(xn,qr))Tr=xn-Rr,Br=Rr;else{var Nn=En(Rn);(Nn<0||Bf(Nn,0)&&Bf(xn,qr))&&(Tr=xn+Nn,Br=0-Nn,Tr>=0&&(Rn-=Nn))}Tr>=0?(xn=Tr,Ze({height:Tr,overflowAmt:Br})):Ze()}_&&Ve({x:qt,y:Nt}),Z({x:en,y:Rn}),$(Kt),At.current={width:Qt.width,height:xn}}},[_,E,gt,b,ve,ue,k,I,o,l,f,nt,Ut,on]);b_(function(){fn&&(sr(),Ne.current&&Ce()),Ne.current=fn,Pt.current=sr},[fn,sr,G]),b_(function(){Me&&!F&&(K.current.scrollTop=0)},[Me,F]),b_(function(){return Er},[Er]),ae.useEffect(function(){var it=on.menu;if(!(!fn||!it)){if(it=it.addEventListener?it:window,!on.anchors){on.anchors=[];for(var Et=L2(Se&&Se.current);Et&&Et!==it;)on.anchors.push(Et),Et=L2(Et)}var Lt=H;if(on.anchors.length&&Lt==="initial"&&(Lt="auto"),Lt!=="initial"){var Vt=function(){Lt==="auto"?tj(function(){return sr(!0)}):cs(D,{reason:Fg.SCROLL})},Yt=on.anchors.concat(H!=="initial"?it:[]);return Yt.forEach(function(qt){return qt.addEventListener("scroll",Vt)}),function(){return Yt.forEach(function(qt){return qt.removeEventListener("scroll",Vt)})}}}},[Se,on,fn,D,H,sr]);var Ie=!!Me&&Me.overflowAmt>0;ae.useEffect(function(){if(!(Ie||!fn||!y)){var it=function(){return tj(sr)},Et=y.current;return Et.addEventListener("scroll",it),function(){return Et.removeEventListener("scroll",it)}}},[fn,Ie,y,sr]),ae.useEffect(function(){if(!(typeof ResizeObserver!="function"||te==="initial")){var it=new ResizeObserver(function(Lt){var Vt=Lt[0],Yt=Vt.borderBoxSize,qt=Vt.target,Nt,en;if(Yt){var Rn=Yt[0]||Yt,Kt=Rn.inlineSize,Qt=Rn.blockSize;Nt=Kt,en=Qt}else{var xn=qt.getBoundingClientRect();Nt=xn.width,en=xn.height}Nt===0||en===0||Bf(Nt,At.current.width,1)&&Bf(en,At.current.height,1)||Dg.flushSync(function(){Pt.current(),Ce()})}),Et=K.current;return it.observe(Et,{box:"border-box"}),function(){return it.unobserve(Et)}}},[te]),ae.useEffect(function(){if(!fn){Bt(gi.RESET),dr||Ze();return}var it=se||{},Et=it.position,Lt=it.alwaysUpdate,Vt=function(){Et===wg.FIRST?Bt(gi.FIRST):Et===wg.LAST?Bt(gi.LAST):Et>=-1&&Bt(gi.SET_INDEX,void 0,Et)};if(Lt)Vt();else if(U){var Yt=setTimeout(function(){K.current.contains(document.activeElement)||(je.current.focus(),Vt())},dn?170:100);return function(){return clearTimeout(Yt)}}},[fn,dn,dr,U,se,Bt]);var qe=W>0,wt=ae.useMemo(function(){return{isParentOpen:fn,isSubmenuOpen:qe,setOpenSubmenuCount:pe,dispatch:Bt,updateItems:Er}},[fn,qe,Bt,Er]),xt,It;Me&&(F?It=Me.overflowAmt:xt=Me.height);var Bn=ae.useMemo(function(){return{reposSubmenu:ze,overflow:I,overflowAmt:It,parentMenuRef:K,parentDir:z}},[ze,I,It,z]),Jn=xt>=0?{maxHeight:xt,overflow:I}:void 0,Qe=ae.useMemo(function(){return{state:J,dir:z}},[J,z]),Ae=ae.useMemo(function(){return{dir:z}},[z]),et=Rd({block:_g,element:vpe,modifiers:Ae,className:a}),ft=ge.jsxs("ul",Gr({role:"menu","aria-label":n},X8(Y),K0({onKeyDown:un,onAnimationEnd:In},X),{ref:yR(m,K),className:Rd({block:_g,modifiers:Qe,className:r}),style:Gr({},i,Jn,{margin:0,display:J==="closed"?"none":void 0,position:"absolute",left:V.x,top:V.y}),children:[ge.jsx("div",Gr({tabIndex:-1,style:{position:"absolute",left:0,top:0}},p,{ref:je})),_&&ge.jsx("div",{className:et,style:Gr({},s,{position:"absolute",left:xe.x,top:xe.y}),ref:Ye}),ge.jsx(rj.Provider,{value:Bn,children:ge.jsx(tq.Provider,{value:wt,children:ge.jsx(eq.Provider,{value:Rt,children:Oe})})})]}));return h?ge.jsx(Tpe,Gr({},h,{isOpen:fn,children:ft})):ft},Dpe=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],Npe=ae.forwardRef(function(e,n){var r=e["aria-label"],i=e.className,a=e.containerProps,s=e.initialMounted,o=e.unmountOnClose,l=e.transition,f=e.transitionTimeout,h=e.boundingBoxRef,p=e.boundingBoxPadding,m=e.reposition,y=m===void 0?"auto":m,_=e.submenuOpenDelay,x=_===void 0?300:_,E=e.submenuCloseDelay,S=E===void 0?150:E,b=e.skipOpen,A=e.viewScroll,k=A===void 0?"initial":A,M=e.portal,I=e.theming,F=e.onItemClick,B=Hc(e,Dpe),ee=ae.useRef(null),U=ae.useRef({}),J=B.anchorRef,le=B.state,Y=B.onClose,se=ae.useMemo(function(){return{initialMounted:s,unmountOnClose:o,transition:l,transitionTimeout:f,boundingBoxRef:h,boundingBoxPadding:p,rootMenuRef:ee,rootAnchorRef:J,scrollNodesRef:U,reposition:y,viewScroll:k}},[s,o,l,f,J,h,p,y,k]),me=ae.useMemo(function(){return{submenuOpenDelay:x,submenuCloseDelay:S}},[x,S]),ve=ae.useMemo(function(){return{handleClick:function(Oe,D){Oe.stopPropagation||cs(F,Oe);var X=Oe.keepOpen;X===void 0&&(X=D&&Oe.key===Os.SPACE),X||cs(Y,{value:Oe.value,key:Oe.key,reason:Fg.CLICK})},handleClose:function(Oe){cs(Y,{key:Oe,reason:Fg.CLICK})}}},[F,Y]);if(!le)return null;var fe=ge.jsx(rq.Provider,{value:se,children:ge.jsx(iq.Provider,{value:me,children:ge.jsx(nq.Provider,{value:ve,children:ge.jsx(kpe,Gr({},B,{ariaLabel:r||"Menu",externalRef:n,containerRef:ee,containerProps:{className:i,containerRef:ee,containerProps:a,skipOpen:b,theming:I,transition:l,onClose:Y}}))})})});return M===!0&&typeof document<"u"?Dg.createPortal(fe,document.body):M?M.target?Dg.createPortal(fe,M.target):M.stablePosition?null:fe:fe}),M2=0,k2=1,iv=2,D2=3,N2=4,Fpe=5,jpe=6,aq=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],F2=function(e){return e?jpe:Fpe},aj=function(e,n,r,i,a){clearTimeout(i.current),n(e),r.current=e,a&&a({state:aq[e]})},$pe=function(e){var n=e===void 0?{}:e,r=n.enter,i=r===void 0?!0:r,a=n.exit,s=a===void 0?!0:a,o=n.preEnter,l=n.preExit,f=n.timeout,h=n.initialEntered,p=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,_=ae.useState(h?iv:F2(p)),x=_[0],E=_[1],S=ae.useRef(x),b=ae.useRef(),A,k;typeof f=="object"?(A=f.enter,k=f.exit):A=k=f;var M=ae.useCallback(function(){var F;switch(S.current){case k2:case M2:F=iv;break;case N2:case D2:F=F2(m);break}F!==void 0&&aj(F,E,S,b,y)},[y,m]),I=ae.useCallback(function(F){var B=function U(J){switch(aj(J,E,S,b,y),J){case k2:A>=0&&(b.current=setTimeout(M,A));break;case N2:k>=0&&(b.current=setTimeout(M,k));break;case M2:case D2:b.current=setTimeout(function(){return U(J+1)},0);break}},ee=S.current<=iv;typeof F!="boolean"&&(F=!ee),F?ee||B(i?o?M2:k2:iv):ee&&B(s?l?D2:N2:F2(m))},[M,y,i,s,o,l,A,k,m]);return ae.useEffect(function(){return function(){return clearTimeout(b.current)}},[]),[aq[x],I,M]},Upe=function(e){var n=e===void 0?{}:e,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,s=n.transition,o=n.transitionTimeout,l=o===void 0?500:o,f=$pe({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:Ng(s,"open"),exit:Ng(s,"close")}),h=f[0],p=f[1],m=f[2];return[{state:Spe[h],endTransition:m},p]},Bpe=function(e){var n=Upe(e),r=n[0],i=n[1],a=ae.useState(),s=a[0],o=a[1],l=function(h,p){o({position:h,alwaysUpdate:p}),i(!0)};return[Gr({menuItemFocus:s},r),i,l]},qpe=function(e,n){var r=ae.useRef(n);ae.useEffect(function(){r.current!==n&&cs(e,{open:n}),r.current=n},[e,n])},Hpe=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],zpe=ae.forwardRef(function(e,n){var r=e["aria-label"],i=e.menuButton,a=e.instanceRef,s=e.onMenuChange,o=Hc(e,Hpe),l=Bpe(o),f=l[0],h=l[1],p=l[2],m=J8(f.state),y=ae.useRef(!1),_=ae.useRef(null),x=ae.useCallback(function(M){h(!1),M.key&&_.current.focus()},[h]),E=function(I){y.current||p(I.detail===0?wg.FIRST:void 0)},S=function(I){switch(I.key){case Os.UP:p(wg.LAST);break;case Os.DOWN:p(wg.FIRST);break;default:return}I.preventDefault()},b=cs(i,{open:m});if(!b||!b.type)throw new Error("Menu requires a menuButton prop.");var A=Gr({ref:yR(b.ref,_)},K0({onClick:E,onKeyDown:S},b.props));hpe(b.type)==="MenuButton"&&(A.isOpen=m);var k=ae.cloneElement(b,A);return qpe(s,m),ae.useImperativeHandle(a,function(){return{openMenu:p,closeMenu:function(){return h(!1)}}}),ge.jsxs(ae.Fragment,{children:[k,ge.jsx(Npe,Gr({},o,f,{"aria-label":r||(typeof b.props.children=="string"?b.props.children:"Menu"),anchorRef:_,ref:n,onClose:x,skipOpen:y}))]})}),Vpe=function(e,n){var r=ae.memo(n),i=ae.forwardRef(function(a,s){var o=ae.useRef(null);return ge.jsx(r,Gr({},a,{itemRef:o,externalRef:s,isHovering:ae.useContext(eq)===o.current}))});return i.displayName="WithHovering("+e+")",i},Kpe=function(e,n,r){b_(function(){if(!e){var i=n.current;return r(i,!0),function(){r(i)}}},[e,n,r])},Gpe=function(e,n,r,i){var a=ae.useContext(iq),s=a.submenuCloseDelay,o=ae.useContext(tq),l=o.isParentOpen,f=o.isSubmenuOpen,h=o.dispatch,p=o.updateItems,m=ae.useRef(0),y=function(){!r&&!i&&h(gi.SET,e.current)},_=function(){!i&&h(gi.UNSET,e.current)},x=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&_()},E=function(){f?m.current||(m.current=setTimeout(function(){m.current=0,y()},s)):y()},S=function(A,k){m.current&&(clearTimeout(m.current),m.current=0),!k&&_()};return Kpe(i,e,p),ae.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),ae.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:x,onPointerMove:E,onPointerLeave:S}},Wpe=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],Qpe=["setHover"],qf=Vpe("MenuItem",function(e){var n=e.className,r=e.value,i=e.href,a=e.type,s=e.checked,o=e.disabled,l=e.children,f=e.onClick,h=e.isHovering,p=e.itemRef,m=e.externalRef,y=Hc(e,Wpe),_=!!o,x=Gpe(p,p,h,_),E=x.setHover,S=Hc(x,Qpe),b=ae.useContext(nq),A=ae.useContext(bpe),k=a==="radio",M=a==="checkbox",I=!!i&&!_&&!k&&!M,F=k?A.value===r:M?!!s:!1,B=function(se){if(_){se.stopPropagation(),se.preventDefault();return}var me={value:r,syntheticEvent:se};se.key!==void 0&&(me.key=se.key),M&&(me.checked=!F),k&&(me.name=A.name),cs(f,me),k&&cs(A.onRadioChange,me),b.handleClick(me,M||k)},ee=function(se){if(h)switch(se.key){case Os.ENTER:case Os.SPACE:I?p.current.click():B(se);break}},U=ae.useMemo(function(){return{type:a,disabled:_,hover:h,checked:F,anchor:I}},[a,_,h,F,I]),J=K0(Gr({},S,{onPointerDown:E,onKeyDown:ee,onClick:B}),y),le=Gr({role:k?"menuitemradio":M?"menuitemcheckbox":"menuitem","aria-checked":k||M?F:void 0},X8(_,h),J,{ref:yR(m,p),className:Rd({block:_g,element:_pe,modifiers:U,className:n}),children:ae.useMemo(function(){return cs(l,U)},[l,U])});return I?ge.jsx("li",{role:"presentation",children:ge.jsx("a",Gr({href:i},le))}):ge.jsx("li",Gr({},le))}),Zpe=["className"],Jpe=ae.memo(ae.forwardRef(function(e,n){var r=e.className,i=Hc(e,Zpe);return ge.jsx("li",Gr({role:"separator"},i,{ref:n,className:Rd({block:_g,element:wpe,className:r})}))}));const Ype="_header_tgn8o_1",Xpe="_logoContainer_tgn8o_7",ege="_logo_tgn8o_7",tge="_spacer_tgn8o_16",av={header:Ype,logoContainer:Xpe,logo:ege,spacer:tge},nge=()=>{const{communityId:t}=Vn(),e=Wc(im),[n]=Ms(e.webId??"",t),{data:r}=V0(e.webId??""),i=pu(t);return ge.jsxs("nav",{className:av.header,children:[ge.jsx(Cs,{className:av.logoContainer,to:"/","data-cy":"header-logo-link",children:ge.jsx(lB,{logo:i.logo[0],focusedLogo:i.logo[1],name:i.name||(i.isLoading?"...":"Home"),className:av.logo})}),ge.jsx("div",{className:av.spacer}),e.isLoggedIn===!0&&ge.jsxs(zpe,{menuButton:ge.jsx(Epe,{"data-cy":"menu-button",children:ge.jsx(A0,{photo:n.photo})}),children:[ge.jsx(qf,{children:ge.jsx(Cs,{to:"profile",children:(n==null?void 0:n.name)||"profile"})}),ge.jsx(qf,{children:ge.jsx(Cs,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:"edit profile"})}),ge.jsx(qf,{children:ge.jsxs(Cs,{to:"messages",children:["messages",r!=null&&r.length?` (${r.length} new)`:null]})}),ge.jsx(qf,{children:ge.jsx(Cs,{to:`profile/${encodeURIComponent(e.webId)}/contacts`,children:"contacts"})}),ge.jsx(qf,{children:ge.jsx(Cs,{to:"host/offers",children:"my hosting"})}),ge.jsx(Jpe,{}),ge.jsx(qf,{children:ge.jsx(Nce,{})})]}),e.isLoggedIn===void 0&&ge.jsx(ge.Fragment,{children:"..."})]})},rge=(t,e="en")=>tm({queryKey:["wikidataSearch",t,e],queryFn:()=>ige(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),ige=async(t,e)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(t)}&language=${e}&limit=20&continue=0&format=json&uselang=${e}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>qc({aliases:[],photos:[]},{...a,id:i})),sq=(t,e="en")=>tm({queryKey:["wikidataEntity",t,e],queryFn:()=>age(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),age=async(t,e)=>{var _,x,E;const n=((_=t.match(sge))==null?void 0:_[2])??"";if(!n)return{};const i=await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${e}&format=json&origin=*`)).json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const s=((x=a.labels[e])==null?void 0:x.value)??"",o=((E=a.descriptions[e])==null?void 0:E.value)??"",l=(a.claims.P18??[]).map(S=>S.mainsnak.datavalue.value)[0],f=(a.claims.P154??[]).map(S=>S.mainsnak.datavalue.value)[0],h=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,p=f&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(f)}?width=300`,m=(a.claims.P856??[]).map(S=>S.mainsnak.datavalue.value)[0],y=(a.aliases[e]??[]).map(({value:S})=>S);return{id:n,label:s,aliases:y,description:o,officialWebsite:m,image:p||h}},sge=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,oge="_list_9haan_1",uge="_item_9haan_6",lge="_highlighted_9haan_12",jg={list:oge,item:uge,highlighted:lge},cge=({ids:t,highlighted:e})=>t.length===0?null:ge.jsx("ul",{className:jg.list,"data-cy":"interests-list",children:t.map(n=>ge.jsx("li",{children:ge.jsx(fge,{id:n,highlighted:e&&e.includes(n)})},n))}),fge=({id:t,highlighted:e})=>{const{data:n}=sq(t),r={id:t,label:t.split("/").pop(),description:t},i=qc({},r,n);return ge.jsx("span",{className:mi(jg.item,e&&jg.highlighted),title:i.description,children:i.label})},ba=({children:t})=>ge.jsx(ge.Fragment,{children:t}),dge=()=>{const{communityId:t}=Vn(),e=pu(t),r=hge()&&e.logo.length>=2?e.logo[0]:e.logo[1];return ge.jsxs(ge.Fragment,{children:[ge.jsx("title",{children:e.name}),r&&ge.jsx("link",{rel:"icon",href:r}),ge.jsx("meta",{name:"description",content:e.about})]})},hge=()=>{const[t,e]=ae.useState(document.hasFocus());return ae.useEffect(()=>{const n=()=>{e(!0)},r=()=>{e(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),t},Ui=()=>Wc(im),pge=()=>{const t=Nd();ae.useEffect(()=>{am().events.on(ti.SESSION_RESTORED,n=>{t(new URL(n).pathname,{replace:!0})})},[])},gge="_box_1dqn9_7",mge="_row_1dqn9_18",yge="_header_1dqn9_18",vge="_content_1dqn9_26",_ge="_footer_1dqn9_29",Od={box:gge,row:mge,header:yge,content:vge,footer:_ge},wge=({children:t,page:e})=>ge.jsx("div",{className:mi(Od.box,e&&Od.page),children:t}),bge=({children:t})=>ge.jsx("div",{className:mi(Od.row,Od.header),children:t}),Sge=({children:t})=>ge.jsx("div",{className:mi(Od.row,Od.content),children:t}),xge=()=>{Fce(),pge();const t=sm(),e=Ui();return ae.useEffect(()=>{(async()=>{const n=await AZ({restorePreviousSession:!0});n&&t(CA.signin(n))})()},[t]),ge.jsxs(wge,{children:[ge.jsx(dge,{}),ge.jsx(UZ,{transition:jZ}),ge.jsx(bge,{children:ge.jsx(nge,{})}),ge.jsx(Sge,{children:e.isLoggedIn===void 0?ge.jsx(ge.Fragment,{children:"Loading..."}):ge.jsx(p0,{})})]})};function Ege(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Tge=/[ \t\n\f\r]/g;function Cge(t){return typeof t=="object"?t.type==="text"?sj(t.value):!1:sj(t)}function sj(t){return t.replace(Tge,"")===""}class _m{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}_m.prototype.property={};_m.prototype.normal={};_m.prototype.space=null;function oq(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new _m(n,r,e)}function FC(t){return t.toLowerCase()}class ds{constructor(e,n){this.property=e,this.attribute=n}}ds.prototype.space=null;ds.prototype.boolean=!1;ds.prototype.booleanish=!1;ds.prototype.overloadedBoolean=!1;ds.prototype.number=!1;ds.prototype.commaSeparated=!1;ds.prototype.spaceSeparated=!1;ds.prototype.commaOrSpaceSeparated=!1;ds.prototype.mustUseProperty=!1;ds.prototype.defined=!1;let Age=0;const vn=Yc(),Yr=Yc(),uq=Yc(),Ot=Yc(),Sr=Yc(),id=Yc(),Da=Yc();function Yc(){return 2**++Age}const jC=Object.freeze(Object.defineProperty({__proto__:null,boolean:vn,booleanish:Yr,commaOrSpaceSeparated:Da,commaSeparated:id,number:Ot,overloadedBoolean:uq,spaceSeparated:Sr},Symbol.toStringTag,{value:"Module"})),j2=Object.keys(jC);class vR extends ds{constructor(e,n,r,i){let a=-1;if(super(e,n),oj(this,"space",i),typeof r=="number")for(;++a<j2.length;){const s=j2[a];oj(this,j2[a],(r&jC[s])===jC[s])}}}vR.prototype.defined=!0;function oj(t,e,n){n&&(t[e]=n)}const Rge={}.hasOwnProperty;function Yd(t){const e={},n={};let r;for(r in t.properties)if(Rge.call(t.properties,r)){const i=t.properties[r],a=new vR(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[FC(r)]=r,n[FC(a.attribute)]=r}return new _m(e,n,t.space)}const lq=Yd({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),cq=Yd({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function fq(t,e){return e in t?t[e]:e}function dq(t,e){return fq(t,e.toLowerCase())}const hq=Yd({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:dq,properties:{xmlns:null,xmlnsXLink:null}}),pq=Yd({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:Ot,ariaColIndex:Ot,ariaColSpan:Ot,ariaControls:Sr,ariaCurrent:null,ariaDescribedBy:Sr,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:Sr,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:Sr,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Sr,ariaLevel:Ot,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:Sr,ariaPlaceholder:null,ariaPosInSet:Ot,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:Sr,ariaRowCount:Ot,ariaRowIndex:Ot,ariaRowSpan:Ot,ariaSelected:Yr,ariaSetSize:Ot,ariaSort:null,ariaValueMax:Ot,ariaValueMin:Ot,ariaValueNow:Ot,ariaValueText:null,role:null}}),Oge=Yd({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:dq,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:id,acceptCharset:Sr,accessKey:Sr,action:null,allow:null,allowFullScreen:vn,allowPaymentRequest:vn,allowUserMedia:vn,alt:null,as:null,async:vn,autoCapitalize:null,autoComplete:Sr,autoFocus:vn,autoPlay:vn,blocking:Sr,capture:vn,charSet:null,checked:vn,cite:null,className:Sr,cols:Ot,colSpan:null,content:null,contentEditable:Yr,controls:vn,controlsList:Sr,coords:Ot|id,crossOrigin:null,data:null,dateTime:null,decoding:null,default:vn,defer:vn,dir:null,dirName:null,disabled:vn,download:uq,draggable:Yr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:vn,formTarget:null,headers:Sr,height:Ot,hidden:vn,high:Ot,href:null,hrefLang:null,htmlFor:Sr,httpEquiv:Sr,id:null,imageSizes:null,imageSrcSet:null,inert:vn,inputMode:null,integrity:null,is:null,isMap:vn,itemId:null,itemProp:Sr,itemRef:Sr,itemScope:vn,itemType:Sr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:vn,low:Ot,manifest:null,max:null,maxLength:Ot,media:null,method:null,min:null,minLength:Ot,multiple:vn,muted:vn,name:null,nonce:null,noModule:vn,noValidate:vn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:vn,optimum:Ot,pattern:null,ping:Sr,placeholder:null,playsInline:vn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:vn,referrerPolicy:null,rel:Sr,required:vn,reversed:vn,rows:Ot,rowSpan:Ot,sandbox:Sr,scope:null,scoped:vn,seamless:vn,selected:vn,shadowRootDelegatesFocus:vn,shadowRootMode:null,shape:null,size:Ot,sizes:null,slot:null,span:Ot,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ot,step:null,style:null,tabIndex:Ot,target:null,title:null,translate:null,type:null,typeMustMatch:vn,useMap:null,value:Yr,width:Ot,wrap:null,align:null,aLink:null,archive:Sr,axis:null,background:null,bgColor:null,border:Ot,borderColor:null,bottomMargin:Ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:vn,declare:vn,event:null,face:null,frame:null,frameBorder:null,hSpace:Ot,leftMargin:Ot,link:null,longDesc:null,lowSrc:null,marginHeight:Ot,marginWidth:Ot,noResize:vn,noHref:vn,noShade:vn,noWrap:vn,object:null,profile:null,prompt:null,rev:null,rightMargin:Ot,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:Ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:vn,disableRemotePlayback:vn,prefix:null,property:null,results:Ot,security:null,unselectable:null}}),Pge=Yd({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:fq,properties:{about:Da,accentHeight:Ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ot,amplitude:Ot,arabicForm:null,ascent:Ot,attributeName:null,attributeType:null,azimuth:Ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ot,by:null,calcMode:null,capHeight:Ot,className:Sr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ot,diffuseConstant:Ot,direction:null,display:null,dur:null,divisor:Ot,dominantBaseline:null,download:vn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ot,enableBackground:null,end:null,event:null,exponent:Ot,externalResourcesRequired:null,fill:null,fillOpacity:Ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:id,g2:id,glyphName:id,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ot,horizOriginX:Ot,horizOriginY:Ot,id:null,ideographic:Ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ot,k:Ot,k1:Ot,k2:Ot,k3:Ot,k4:Ot,kernelMatrix:Da,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ot,overlineThickness:Ot,paintOrder:null,panose1:null,path:null,pathLength:Ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Sr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ot,pointsAtY:Ot,pointsAtZ:Ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Da,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Da,rev:Da,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Da,requiredFeatures:Da,requiredFonts:Da,requiredFormats:Da,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ot,specularExponent:Ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ot,strikethroughThickness:Ot,string:null,stroke:null,strokeDashArray:Da,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ot,strokeOpacity:Ot,strokeWidth:null,style:null,surfaceScale:Ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Da,tabIndex:Ot,tableValues:null,target:null,targetX:Ot,targetY:Ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Da,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ot,underlineThickness:Ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ot,values:null,vAlphabetic:Ot,vMathematical:Ot,vectorEffect:null,vHanging:Ot,vIdeographic:Ot,version:null,vertAdvY:Ot,vertOriginX:Ot,vertOriginY:Ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Ige=/^data[-\w.:]+$/i,uj=/-[a-z]/g,Lge=/[A-Z]/g;function Mge(t,e){const n=FC(e);let r=e,i=ds;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Ige.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(uj,Dge);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!uj.test(a)){let s=a.replace(Lge,kge);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=vR}return new i(r,e)}function kge(t){return"-"+t.toLowerCase()}function Dge(t){return t.charAt(1).toUpperCase()}const Nge={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fge=oq([cq,lq,hq,pq,Oge],"html"),gq=oq([cq,lq,hq,pq,Pge],"svg");function jge(t){return t.join(" ").trim()}var sv={exports:{}},$2,lj;function $ge(){if(lj)return $2;lj=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,f="/",h="*",p="",m="comment",y="declaration";$2=function(x,E){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];E=E||{};var S=1,b=1;function A(Y){var se=Y.match(e);se&&(S+=se.length);var me=Y.lastIndexOf(l);b=~me?Y.length-me:b+Y.length}function k(){var Y={line:S,column:b};return function(se){return se.position=new M(Y),B(),se}}function M(Y){this.start=Y,this.end={line:S,column:b},this.source=E.source}M.prototype.content=x;function I(Y){var se=new Error(E.source+":"+S+":"+b+": "+Y);if(se.reason=Y,se.filename=E.source,se.line=S,se.column=b,se.source=x,!E.silent)throw se}function F(Y){var se=Y.exec(x);if(se){var me=se[0];return A(me),x=x.slice(me.length),se}}function B(){F(n)}function ee(Y){var se;for(Y=Y||[];se=U();)se!==!1&&Y.push(se);return Y}function U(){var Y=k();if(!(f!=x.charAt(0)||h!=x.charAt(1))){for(var se=2;p!=x.charAt(se)&&(h!=x.charAt(se)||f!=x.charAt(se+1));)++se;if(se+=2,p===x.charAt(se-1))return I("End of comment missing");var me=x.slice(2,se-2);return b+=2,A(me),x=x.slice(se),b+=2,Y({type:m,comment:me})}}function J(){var Y=k(),se=F(r);if(se){if(U(),!F(i))return I("property missing ':'");var me=F(a),ve=Y({type:y,property:_(se[0].replace(t,p)),value:me?_(me[0].replace(t,p)):p});return F(s),ve}}function le(){var Y=[];ee(Y);for(var se;se=J();)se!==!1&&(Y.push(se),ee(Y));return Y}return B(),le()};function _(x){return x?x.replace(o,p):p}return $2}var cj;function Uge(){if(cj)return sv.exports;cj=1;var t=$ge();function e(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,s=t(n),o=typeof r=="function",l,f,h=0,p=s.length;h<p;h++)a=s[h],l=a.property,f=a.value,o?r(l,f,a):f&&(i||(i={}),i[l]=f);return i}return sv.exports=e,sv.exports.default=e,sv.exports}var Bge=Uge();const qge=Ur(Bge),mq=yq("end"),_R=yq("start");function yq(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Hge(t){const e=_R(t),n=mq(t);if(e&&n)return{start:e,end:n}}function bg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?fj(t.position):"start"in t||"end"in t?fj(t):"line"in t||"column"in t?$C(t):""}function $C(t){return dj(t&&t.line)+":"+dj(t&&t.column)}function fj(t){return $C(t&&t.start)+"-"+$C(t&&t.end)}function dj(t){return t&&typeof t=="number"?t:1}class ua extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=bg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ua.prototype.file="";ua.prototype.name="";ua.prototype.reason="";ua.prototype.message="";ua.prototype.stack="";ua.prototype.column=void 0;ua.prototype.line=void 0;ua.prototype.ancestors=void 0;ua.prototype.cause=void 0;ua.prototype.fatal=void 0;ua.prototype.place=void 0;ua.prototype.ruleId=void 0;ua.prototype.source=void 0;const wR={}.hasOwnProperty,zge=new Map,Vge=/[A-Z]/g,Kge=/-([a-z])/g,Gge=new Set(["table","tbody","thead","tfoot","tr"]),Wge=new Set(["td","th"]);function Qge(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Jge(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Zge(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?gq:Fge,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=vq(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function vq(t,e,n){if(e.type==="element"||e.type==="root"){const r=t.schema;let i=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=gq,t.schema=i),t.ancestors.push(e);let a=Yge(t,e);const s=Xge(t,t.ancestors);let o=t.Fragment;if(t.ancestors.pop(),e.type==="element")if(a&&Gge.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Cge(l):!0})),wR.call(t.components,e.tagName)){const l=e.tagName;o=t.components[l],typeof o!="string"&&o!==t.Fragment&&t.passNode&&(s.node=e)}else o=e.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(s.children=l)}return t.schema=r,t.create(e,o,s,n)}if(e.type==="text")return e.value}function Zge(t,e,n){return r;function r(i,a,s,o){const f=Array.isArray(s.children)?n:e;return o?f(a,s,o):f(a,s)}}function Jge(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=_R(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function Yge(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:zge;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;s=a.tagName+"-"+l,i.set(a.tagName,l+1)}const o=vq(t,a,s);o!==void 0&&n.push(o)}return n}function Xge(t,e){const n=e[e.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&wR.call(n.properties,i)){const s=eme(t,e,i,n.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&Wge.has(n.tagName)?a=l:r[o]=l}}if(a){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function eme(t,e,n,r){const i=Mge(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Ege(r):jge(r)),i.property==="style"){let a=typeof r=="object"?r:tme(t,e,String(r));return t.stylePropertyNameCase==="css"&&(a=nme(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?Nge[i.property]||i.property:i.attribute,r]}}function tme(t,e,n){const r={};try{qge(n,i)}catch(a){if(!t.ignoreInvalidStyle){const s=a,o=new ua("Cannot parse `style` attribute",{ancestors:e,cause:s,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw o.file=t.filePath||void 0,o.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",o}}return r;function i(a,s){let o=a;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(Kge,ime)),r[o]=s}}function nme(t){const e={};let n;for(n in t)wR.call(t,n)&&(e[rme(n)]=t[n]);return e}function rme(t){let e=t.replace(Vge,ame);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function ime(t,e){return e.toUpperCase()}function ame(t){return"-"+t.toLowerCase()}const U2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},sme={};function ome(t,e){const n=sme,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return _q(t,r,i)}function _q(t,e,n){if(ume(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return hj(t.children,e,n)}return Array.isArray(t)?hj(t,e,n):""}function hj(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=_q(t[i],e,n);return r.join("")}function ume(t){return!!(t&&typeof t=="object")}const pj=document.createElement("i");function bR(t){const e="&"+t+";";pj.innerHTML=e;const n=pj.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function fo(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function ls(t,e){return t.length>0?(fo(t,t.length,0,e),t):e}const gj={}.hasOwnProperty;function lme(t){const e={};let n=-1;for(;++n<t.length;)cme(e,t[n]);return e}function cme(t,e){let n;for(n in e){const i=(gj.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){gj.call(i,s)||(i[s]=[]);const o=a[s];fme(i[s],Array.isArray(o)?o:o?[o]:[])}}}function fme(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);fo(t,0,0,r)}function wq(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function ad(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dme=Cl(new RegExp("\\p{P}","u")),io=Cl(/[A-Za-z]/),$a=Cl(/[\dA-Za-z]/),hme=Cl(/[#-'*+\--9=?A-Z^-~]/);function UC(t){return t!==null&&(t<32||t===127)}const BC=Cl(/\d/),pme=Cl(/[\dA-Fa-f]/),bq=Cl(/[!-/:-@[-`{-~]/);function cn(t){return t!==null&&t<-2}function _a(t){return t!==null&&(t<0||t===32)}function Qn(t){return t===-2||t===-1||t===32}function gme(t){return bq(t)||dme(t)}const mme=Cl(/\s/);function Cl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Xd(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&$a(t.charCodeAt(n+1))&&$a(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s="�"}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function xr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Qn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Qn(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const yme={tokenize:vme};function vme(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),xr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return cn(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const _me={tokenize:wme},mj={tokenize:bme};function wme(t){const e=this,n=[];let r=0,i,a,s;return o;function o(A){if(r<n.length){const k=n[r];return e.containerState=k[1],t.attempt(k[0].continuation,l,f)(A)}return f(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&b();const k=e.events.length;let M=k,I;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){I=e.events[M][1].end;break}S(r);let F=k;for(;F<e.events.length;)e.events[F][1].end=Object.assign({},I),F++;return fo(e.events,M+1,0,e.events.slice(k)),e.events.length=F,f(A)}return o(A)}function f(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return _(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(mj,h,p)(A)}function h(A){return i&&b(),S(r),m(A)}function p(A){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,_(A)}function m(A){return e.containerState={},t.attempt(mj,y,_)(A)}function y(A){return r++,n.push([e.currentConstruct,e.containerState]),m(A)}function _(A){if(A===null){i&&b(),S(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),x(A)}function x(A){if(A===null){E(t.exit("chunkFlow"),!0),S(0),t.consume(A);return}return cn(A)?(t.consume(A),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(A),x)}function E(A,k){const M=e.sliceStream(A);if(k&&M.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(M),e.parser.lazy[A.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<s&&(!i.events[I][1].end||i.events[I][1].end.offset>s))return;const F=e.events.length;let B=F,ee,U;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(ee){U=e.events[B][1].end;break}ee=!0}for(S(r),I=F;I<e.events.length;)e.events[I][1].end=Object.assign({},U),I++;fo(e.events,B+1,0,e.events.slice(F)),e.events.length=I}}function S(A){let k=n.length;for(;k-- >A;){const M=n[k];e.containerState=M[1],M[0].exit.call(e,t)}n.length=A}function b(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function bme(t,e,n){return xr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function yj(t){if(t===null||_a(t)||mme(t))return 1;if(gme(t))return 2}function SR(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const qC={name:"attention",tokenize:xme,resolveAll:Sme};function Sme(t,e){let n=-1,r,i,a,s,o,l,f,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);vj(p,-l),vj(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},o.end),f=[],t[r][1].end.offset-t[r][1].start.offset&&(f=ls(f,[["enter",t[r][1],e],["exit",t[r][1],e]])),f=ls(f,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),f=ls(f,SR(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),f=ls(f,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,f=ls(f,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,fo(t,r-1,n-r+3,f),n=r+f.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function xme(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=yj(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const f=t.exit("attentionSequence"),h=yj(l),p=!h||h===2&&i||n.includes(l),m=!i||i===2&&h||n.includes(r);return f._open=!!(a===42?p:p&&(i||!m)),f._close=!!(a===42?m:m&&(h||!p)),e(l)}}function vj(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Eme={name:"autolink",tokenize:Tme};function Tme(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return io(y)?(t.consume(y),s):f(y)}function s(y){return y===43||y===45||y===46||$a(y)?(r=1,o(y)):f(y)}function o(y){return y===58?(t.consume(y),r=0,l):(y===43||y===45||y===46||$a(y))&&r++<32?(t.consume(y),o):(r=0,f(y))}function l(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||UC(y)?n(y):(t.consume(y),l)}function f(y){return y===64?(t.consume(y),h):hme(y)?(t.consume(y),f):n(y)}function h(y){return $a(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||$a(y))&&r++<63){const _=y===45?m:p;return t.consume(y),_}return n(y)}}const G0={tokenize:Cme,partial:!0};function Cme(t,e,n){return r;function r(a){return Qn(a)?xr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||cn(a)?e(a):n(a)}}const Sq={name:"blockQuote",tokenize:Ame,continuation:{tokenize:Rme},exit:Ome};function Ame(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Qn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Rme(t,e,n){const r=this;return i;function i(s){return Qn(s)?xr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(Sq,e,n)(s)}}function Ome(t){t.exit("blockQuote")}const xq={name:"characterEscape",tokenize:Pme};function Pme(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return bq(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const Eq={name:"characterReference",tokenize:Ime};function Ime(t,e,n){const r=this;let i=0,a,s;return o;function o(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),l}function l(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),f):(t.enter("characterReferenceValue"),a=31,s=$a,h(p))}function f(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=pme,h):(t.enter("characterReferenceValue"),a=7,s=BC,h(p))}function h(p){if(p===59&&i){const m=t.exit("characterReferenceValue");return s===$a&&!bR(r.sliceSerialize(m))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),h):n(p)}}const _j={tokenize:Mme,partial:!0},wj={name:"codeFenced",tokenize:Lme,concrete:!0};function Lme(t,e,n){const r=this,i={tokenize:M,partial:!0};let a=0,s=0,o;return l;function l(I){return f(I)}function f(I){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,o=I,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(I)}function h(I){return I===o?(s++,t.consume(I),h):s<3?n(I):(t.exit("codeFencedFenceSequence"),Qn(I)?xr(t,p,"whitespace")(I):p(I))}function p(I){return I===null||cn(I)?(t.exit("codeFencedFence"),r.interrupt?e(I):t.check(_j,x,k)(I)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(I))}function m(I){return I===null||cn(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(I)):Qn(I)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),xr(t,y,"whitespace")(I)):I===96&&I===o?n(I):(t.consume(I),m)}function y(I){return I===null||cn(I)?p(I):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(I))}function _(I){return I===null||cn(I)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(I)):I===96&&I===o?n(I):(t.consume(I),_)}function x(I){return t.attempt(i,k,E)(I)}function E(I){return t.enter("lineEnding"),t.consume(I),t.exit("lineEnding"),S}function S(I){return a>0&&Qn(I)?xr(t,b,"linePrefix",a+1)(I):b(I)}function b(I){return I===null||cn(I)?t.check(_j,x,k)(I):(t.enter("codeFlowValue"),A(I))}function A(I){return I===null||cn(I)?(t.exit("codeFlowValue"),b(I)):(t.consume(I),A)}function k(I){return t.exit("codeFenced"),e(I)}function M(I,F,B){let ee=0;return U;function U(me){return I.enter("lineEnding"),I.consume(me),I.exit("lineEnding"),J}function J(me){return I.enter("codeFencedFence"),Qn(me)?xr(I,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):le(me)}function le(me){return me===o?(I.enter("codeFencedFenceSequence"),Y(me)):B(me)}function Y(me){return me===o?(ee++,I.consume(me),Y):ee>=s?(I.exit("codeFencedFenceSequence"),Qn(me)?xr(I,se,"whitespace")(me):se(me)):B(me)}function se(me){return me===null||cn(me)?(I.exit("codeFencedFence"),F(me)):B(me)}}}function Mme(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const B2={name:"codeIndented",tokenize:Dme},kme={tokenize:Nme,partial:!0};function Dme(t,e,n){const r=this;return i;function i(f){return t.enter("codeIndented"),xr(t,a,"linePrefix",5)(f)}function a(f){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(f):n(f)}function s(f){return f===null?l(f):cn(f)?t.attempt(kme,s,l)(f):(t.enter("codeFlowValue"),o(f))}function o(f){return f===null||cn(f)?(t.exit("codeFlowValue"),s(f)):(t.consume(f),o)}function l(f){return t.exit("codeIndented"),e(f)}}function Nme(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):cn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):xr(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):cn(s)?i(s):n(s)}}const Fme={name:"codeText",tokenize:Ume,resolve:jme,previous:$me};function jme(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function $me(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ume(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),o(p)}function o(p){return p===96?(t.consume(p),r++,o):(t.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),l):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):cn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),l):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||cn(p)?(t.exit("codeTextData"),l(p)):(t.consume(p),f)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",f(p))}}function Tq(t){const e={};let n=-1,r,i,a,s,o,l,f;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Bme(t,n)),n=e[n],f=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=t[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},t[i][1].start),o=t.slice(i,n),o.unshift(r),fo(t,i,n-i+1,o))}}return!f}function Bme(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],f={};let h,p,m=-1,y=n,_=0,x=0;const E=[x];for(;y;){for(;t[++i][1]!==y;);a.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(x=m+1,E.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),m=E.length;m--;){const S=o.slice(E[m],E[m+1]),b=a.pop();l.unshift([b,b+S.length-1]),fo(t,b,2,S)}for(m=-1;++m<l.length;)f[_+l[m][0]]=_+l[m][1],_+=l[m][1]-l[m][0]-1;return f}const qme={tokenize:Vme,resolve:zme},Hme={tokenize:Kme,partial:!0};function zme(t){return Tq(t),t}function Vme(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):cn(o)?t.check(Hme,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Kme(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),xr(t,a,"linePrefix")}function a(s){if(s===null||cn(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function Cq(t,e,n,r,i,a,s,o,l){const f=l||Number.POSITIVE_INFINITY;let h=0;return p;function p(S){return S===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(S),t.exit(a),m):S===null||S===32||S===41||UC(S)?n(S):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),x(S))}function m(S){return S===62?(t.enter(a),t.consume(S),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===62?(t.exit("chunkString"),t.exit(o),m(S)):S===null||S===60||cn(S)?n(S):(t.consume(S),S===92?_:y)}function _(S){return S===60||S===62||S===92?(t.consume(S),y):y(S)}function x(S){return!h&&(S===null||S===41||_a(S))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(S)):h<f&&S===40?(t.consume(S),h++,x):S===41?(t.consume(S),h--,x):S===null||S===32||S===40||UC(S)?n(S):(t.consume(S),S===92?E:x)}function E(S){return S===40||S===41||S===92?(t.consume(S),x):x(S)}}function Aq(t,e,n,r,i,a){const s=this;let o=0,l;return f;function f(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),h}function h(y){return o>999||y===null||y===91||y===93&&!l||y===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):cn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||cn(y)||o++>999?(t.exit("chunkString"),h(y)):(t.consume(y),l||(l=!Qn(y)),y===92?m:p)}function m(y){return y===91||y===92||y===93?(t.consume(y),o++,p):p(y)}}function Rq(t,e,n,r,i,a){let s;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),s=m===40?41:m,l):n(m)}function l(m){return m===s?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),f(m))}function f(m){return m===s?(t.exit(a),l(s)):m===null?n(m):cn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),xr(t,f,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===s||m===null||cn(m)?(t.exit("chunkString"),f(m)):(t.consume(m),m===92?p:h)}function p(m){return m===s||m===92?(t.consume(m),h):h(m)}}function Sg(t,e){let n;return r;function r(i){return cn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Qn(i)?xr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const Gme={name:"definition",tokenize:Qme},Wme={tokenize:Zme,partial:!0};function Qme(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),s(y)}function s(y){return Aq.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return i=ad(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),l):n(y)}function l(y){return _a(y)?Sg(t,f)(y):f(y)}function f(y){return Cq(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(Wme,p,p)(y)}function p(y){return Qn(y)?xr(t,m,"whitespace")(y):m(y)}function m(y){return y===null||cn(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function Zme(t,e,n){return r;function r(o){return _a(o)?Sg(t,i)(o):n(o)}function i(o){return Rq(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Qn(o)?xr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||cn(o)?e(o):n(o)}}const Jme={name:"hardBreakEscape",tokenize:Yme};function Yme(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return cn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const Xme={name:"headingAtx",tokenize:tye,resolve:eye};function eye(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},fo(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function tye(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||_a(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||cn(h)?(t.exit("atxHeading"),e(h)):Qn(h)?xr(t,o,"whitespace")(h):(t.enter("atxHeadingText"),f(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function f(h){return h===null||h===35||_a(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),f)}}const nye=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bj=["pre","script","style","textarea"],rye={name:"htmlFlow",tokenize:oye,resolveTo:sye,concrete:!0},iye={tokenize:lye,partial:!0},aye={tokenize:uye,partial:!0};function sye(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function oye(t,e,n){const r=this;let i,a,s,o,l;return f;function f(V){return h(V)}function h(V){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(V),p}function p(V){return V===33?(t.consume(V),m):V===47?(t.consume(V),a=!0,x):V===63?(t.consume(V),i=3,r.interrupt?e:D):io(V)?(t.consume(V),s=String.fromCharCode(V),E):n(V)}function m(V){return V===45?(t.consume(V),i=2,y):V===91?(t.consume(V),i=5,o=0,_):io(V)?(t.consume(V),i=4,r.interrupt?e:D):n(V)}function y(V){return V===45?(t.consume(V),r.interrupt?e:D):n(V)}function _(V){const Z="CDATA[";return V===Z.charCodeAt(o++)?(t.consume(V),o===Z.length?r.interrupt?e:le:_):n(V)}function x(V){return io(V)?(t.consume(V),s=String.fromCharCode(V),E):n(V)}function E(V){if(V===null||V===47||V===62||_a(V)){const Z=V===47,he=s.toLowerCase();return!Z&&!a&&bj.includes(he)?(i=1,r.interrupt?e(V):le(V)):nye.includes(s.toLowerCase())?(i=6,Z?(t.consume(V),S):r.interrupt?e(V):le(V)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(V):a?b(V):A(V))}return V===45||$a(V)?(t.consume(V),s+=String.fromCharCode(V),E):n(V)}function S(V){return V===62?(t.consume(V),r.interrupt?e:le):n(V)}function b(V){return Qn(V)?(t.consume(V),b):U(V)}function A(V){return V===47?(t.consume(V),U):V===58||V===95||io(V)?(t.consume(V),k):Qn(V)?(t.consume(V),A):U(V)}function k(V){return V===45||V===46||V===58||V===95||$a(V)?(t.consume(V),k):M(V)}function M(V){return V===61?(t.consume(V),I):Qn(V)?(t.consume(V),M):A(V)}function I(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),l=V,F):Qn(V)?(t.consume(V),I):B(V)}function F(V){return V===l?(t.consume(V),l=null,ee):V===null||cn(V)?n(V):(t.consume(V),F)}function B(V){return V===null||V===34||V===39||V===47||V===60||V===61||V===62||V===96||_a(V)?M(V):(t.consume(V),B)}function ee(V){return V===47||V===62||Qn(V)?A(V):n(V)}function U(V){return V===62?(t.consume(V),J):n(V)}function J(V){return V===null||cn(V)?le(V):Qn(V)?(t.consume(V),J):n(V)}function le(V){return V===45&&i===2?(t.consume(V),ve):V===60&&i===1?(t.consume(V),fe):V===62&&i===4?(t.consume(V),X):V===63&&i===3?(t.consume(V),D):V===93&&i===5?(t.consume(V),Oe):cn(V)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(iye,ce,Y)(V)):V===null||cn(V)?(t.exit("htmlFlowData"),Y(V)):(t.consume(V),le)}function Y(V){return t.check(aye,se,ce)(V)}function se(V){return t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),me}function me(V){return V===null||cn(V)?Y(V):(t.enter("htmlFlowData"),le(V))}function ve(V){return V===45?(t.consume(V),D):le(V)}function fe(V){return V===47?(t.consume(V),s="",ue):le(V)}function ue(V){if(V===62){const Z=s.toLowerCase();return bj.includes(Z)?(t.consume(V),X):le(V)}return io(V)&&s.length<8?(t.consume(V),s+=String.fromCharCode(V),ue):le(V)}function Oe(V){return V===93?(t.consume(V),D):le(V)}function D(V){return V===62?(t.consume(V),X):V===45&&i===2?(t.consume(V),D):le(V)}function X(V){return V===null||cn(V)?(t.exit("htmlFlowData"),ce(V)):(t.consume(V),X)}function ce(V){return t.exit("htmlFlow"),e(V)}}function uye(t,e,n){const r=this;return i;function i(s){return cn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function lye(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(G0,e,n)}}const cye={name:"htmlText",tokenize:fye};function fye(t,e,n){const r=this;let i,a,s;return o;function o(D){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(D),l}function l(D){return D===33?(t.consume(D),f):D===47?(t.consume(D),M):D===63?(t.consume(D),A):io(D)?(t.consume(D),B):n(D)}function f(D){return D===45?(t.consume(D),h):D===91?(t.consume(D),a=0,_):io(D)?(t.consume(D),b):n(D)}function h(D){return D===45?(t.consume(D),y):n(D)}function p(D){return D===null?n(D):D===45?(t.consume(D),m):cn(D)?(s=p,fe(D)):(t.consume(D),p)}function m(D){return D===45?(t.consume(D),y):p(D)}function y(D){return D===62?ve(D):D===45?m(D):p(D)}function _(D){const X="CDATA[";return D===X.charCodeAt(a++)?(t.consume(D),a===X.length?x:_):n(D)}function x(D){return D===null?n(D):D===93?(t.consume(D),E):cn(D)?(s=x,fe(D)):(t.consume(D),x)}function E(D){return D===93?(t.consume(D),S):x(D)}function S(D){return D===62?ve(D):D===93?(t.consume(D),S):x(D)}function b(D){return D===null||D===62?ve(D):cn(D)?(s=b,fe(D)):(t.consume(D),b)}function A(D){return D===null?n(D):D===63?(t.consume(D),k):cn(D)?(s=A,fe(D)):(t.consume(D),A)}function k(D){return D===62?ve(D):A(D)}function M(D){return io(D)?(t.consume(D),I):n(D)}function I(D){return D===45||$a(D)?(t.consume(D),I):F(D)}function F(D){return cn(D)?(s=F,fe(D)):Qn(D)?(t.consume(D),F):ve(D)}function B(D){return D===45||$a(D)?(t.consume(D),B):D===47||D===62||_a(D)?ee(D):n(D)}function ee(D){return D===47?(t.consume(D),ve):D===58||D===95||io(D)?(t.consume(D),U):cn(D)?(s=ee,fe(D)):Qn(D)?(t.consume(D),ee):ve(D)}function U(D){return D===45||D===46||D===58||D===95||$a(D)?(t.consume(D),U):J(D)}function J(D){return D===61?(t.consume(D),le):cn(D)?(s=J,fe(D)):Qn(D)?(t.consume(D),J):ee(D)}function le(D){return D===null||D===60||D===61||D===62||D===96?n(D):D===34||D===39?(t.consume(D),i=D,Y):cn(D)?(s=le,fe(D)):Qn(D)?(t.consume(D),le):(t.consume(D),se)}function Y(D){return D===i?(t.consume(D),i=void 0,me):D===null?n(D):cn(D)?(s=Y,fe(D)):(t.consume(D),Y)}function se(D){return D===null||D===34||D===39||D===60||D===61||D===96?n(D):D===47||D===62||_a(D)?ee(D):(t.consume(D),se)}function me(D){return D===47||D===62||_a(D)?ee(D):n(D)}function ve(D){return D===62?(t.consume(D),t.exit("htmlTextData"),t.exit("htmlText"),e):n(D)}function fe(D){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),ue}function ue(D){return Qn(D)?xr(t,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):Oe(D)}function Oe(D){return t.enter("htmlTextData"),s(D)}}const xR={name:"labelEnd",tokenize:yye,resolveTo:mye,resolveAll:gye},dye={tokenize:vye},hye={tokenize:_ye},pye={tokenize:wye};function gye(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function mye(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},f={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[s][1].end)},h={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return o=[["enter",l,e],["enter",f,e]],o=ls(o,t.slice(a+1,a+r+3)),o=ls(o,[["enter",h,e]]),o=ls(o,SR(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=ls(o,[["exit",h,e],t[s-2],t[s-1],["exit",f,e]]),o=ls(o,t.slice(s+1)),o=ls(o,[["exit",l,e]]),fo(t,a,t.length,o),t}function yye(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(m){return a?a._inactive?p(m):(s=r.parser.defined.includes(ad(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(dye,h,s?h:p)(m):m===91?t.attempt(hye,h,s?f:p)(m):s?h(m):p(m)}function f(m){return t.attempt(pye,h,p)(m)}function h(m){return e(m)}function p(m){return a._balanced=!0,n(m)}}function vye(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return _a(p)?Sg(t,a)(p):a(p)}function a(p){return p===41?h(p):Cq(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return _a(p)?Sg(t,l)(p):h(p)}function o(p){return n(p)}function l(p){return p===34||p===39||p===40?Rq(t,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function f(p){return _a(p)?Sg(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function _ye(t,e,n){const r=this;return i;function i(o){return Aq.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(ad(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function wye(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const bye={name:"labelStartImage",tokenize:Sye,resolveAll:xR.resolveAll};function Sye(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const xye={name:"labelStartLink",tokenize:Eye,resolveAll:xR.resolveAll};function Eye(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const q2={name:"lineEnding",tokenize:Tye};function Tye(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),xr(t,e,"linePrefix")}}const S_={name:"thematicBreak",tokenize:Cye};function Cye(t,e,n){let r=0,i;return a;function a(f){return t.enter("thematicBreak"),s(f)}function s(f){return i=f,o(f)}function o(f){return f===i?(t.enter("thematicBreakSequence"),l(f)):r>=3&&(f===null||cn(f))?(t.exit("thematicBreak"),e(f)):n(f)}function l(f){return f===i?(t.consume(f),r++,l):(t.exit("thematicBreakSequence"),Qn(f)?xr(t,o,"whitespace")(f):o(f))}}const pa={name:"list",tokenize:Oye,continuation:{tokenize:Pye},exit:Lye},Aye={tokenize:Mye,partial:!0},Rye={tokenize:Iye,partial:!0};function Oye(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(y){const _=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:BC(y)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(S_,n,f)(y):f(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(y)}return n(y)}function l(y){return BC(y)&&++s<10?(t.consume(y),l):(!r.interrupt||s<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),f(y)):n(y)}function f(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(G0,r.interrupt?n:h,t.attempt(Aye,m,p))}function h(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function p(y){return Qn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function Pye(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(G0,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xr(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Qn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Rye,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,xr(t,t.attempt(pa,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Iye(t,e,n){const r=this;return xr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function Lye(t){t.exit(this.containerState.type)}function Mye(t,e,n){const r=this;return xr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Qn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const Sj={name:"setextUnderline",tokenize:Dye,resolveTo:kye};function kye(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function Dye(t,e,n){const r=this;let i;return a;function a(f){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=f,s(f)):n(f)}function s(f){return t.enter("setextHeadingLineSequence"),o(f)}function o(f){return f===i?(t.consume(f),o):(t.exit("setextHeadingLineSequence"),Qn(f)?xr(t,l,"lineSuffix")(f):l(f))}function l(f){return f===null||cn(f)?(t.exit("setextHeadingLine"),e(f)):n(f)}}const Nye={tokenize:Fye};function Fye(t){const e=this,n=t.attempt(G0,r,t.attempt(this.parser.constructs.flowInitial,i,xr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(qme,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const jye={resolveAll:Pq()},$ye=Oq("string"),Uye=Oq("text");function Oq(t){return{tokenize:e,resolveAll:Pq(t==="text"?Bye:void 0)};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(h){return f(h)?a(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return f(h)?(n.exit("data"),a(h)):(n.consume(h),l)}function f(h){if(h===null)return!0;const p=i[h];let m=-1;if(p)for(;++m<p.length;){const y=p[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Pq(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function Bye(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const f=i[a];if(typeof f=="string"){for(s=f.length;f.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(f===-2)l=!0,o++;else if(f!==-1){a++;break}}if(o){const f={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},f.start),r.start.offset===r.end.offset?Object.assign(r,f):(t.splice(n,0,["enter",f,e],["exit",f,e]),n+=2)}n++}return t}function qye(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:b,enter:A,exit:k,attempt:F(M),check:F(I),interrupt:F(I,{interrupt:!0})},f={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:y,sliceSerialize:m,now:_,defineSkip:x,write:p};let h=e.tokenize.call(f,l);return e.resolveAll&&a.push(e),f;function p(J){return s=ls(s,J),E(),s[s.length-1]!==null?[]:(B(e,0),f.events=SR(a,f.events,f),f.events)}function m(J,le){return zye(y(J),le)}function y(J){return Hye(s,J)}function _(){const{line:J,column:le,offset:Y,_index:se,_bufferIndex:me}=r;return{line:J,column:le,offset:Y,_index:se,_bufferIndex:me}}function x(J){i[J.line]=J.column,U()}function E(){let J;for(;r._index<s.length;){const le=s[r._index];if(typeof le=="string")for(J=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===J&&r._bufferIndex<le.length;)S(le.charCodeAt(r._bufferIndex));else S(le)}}function S(J){h=h(J)}function b(J){cn(J)?(r.line++,r.column=1,r.offset+=J===-3?2:1,U()):J!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=J}function A(J,le){const Y=le||{};return Y.type=J,Y.start=_(),f.events.push(["enter",Y,f]),o.push(Y),Y}function k(J){const le=o.pop();return le.end=_(),f.events.push(["exit",le,f]),le}function M(J,le){B(J,le.from)}function I(J,le){le.restore()}function F(J,le){return Y;function Y(se,me,ve){let fe,ue,Oe,D;return Array.isArray(se)?ce(se):"tokenize"in se?ce([se]):X(se);function X(xe){return Ve;function Ve(Te){const Me=Te!==null&&xe[Te],Ze=Te!==null&&xe.null,ie=[...Array.isArray(Me)?Me:Me?[Me]:[],...Array.isArray(Ze)?Ze:Ze?[Ze]:[]];return ce(ie)(Te)}}function ce(xe){return fe=xe,ue=0,xe.length===0?ve:V(xe[ue])}function V(xe){return Ve;function Ve(Te){return D=ee(),Oe=xe,xe.partial||(f.currentConstruct=xe),xe.name&&f.parser.constructs.disable.null.includes(xe.name)?he():xe.tokenize.call(le?Object.assign(Object.create(f),le):f,l,Z,he)(Te)}}function Z(xe){return J(Oe,D),me}function he(xe){return D.restore(),++ue<fe.length?V(fe[ue]):ve}}}function B(J,le){J.resolveAll&&!a.includes(J)&&a.push(J),J.resolve&&fo(f.events,le,f.events.length-le,J.resolve(f.events.slice(le),f)),J.resolveTo&&(f.events=J.resolveTo(f.events,f))}function ee(){const J=_(),le=f.previous,Y=f.currentConstruct,se=f.events.length,me=Array.from(o);return{restore:ve,from:se};function ve(){r=J,f.previous=le,f.currentConstruct=Y,f.events.length=se,o=me,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function Hye(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function zye(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const Vye={42:pa,43:pa,45:pa,48:pa,49:pa,50:pa,51:pa,52:pa,53:pa,54:pa,55:pa,56:pa,57:pa,62:Sq},Kye={91:Gme},Gye={[-2]:B2,[-1]:B2,32:B2},Wye={35:Xme,42:S_,45:[Sj,S_],60:rye,61:Sj,95:S_,96:wj,126:wj},Qye={38:Eq,92:xq},Zye={[-5]:q2,[-4]:q2,[-3]:q2,33:bye,38:Eq,42:qC,60:[Eme,cye],91:xye,92:[Jme,xq],93:xR,95:qC,96:Fme},Jye={null:[qC,jye]},Yye={null:[42,95]},Xye={null:[]},eve=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Yye,contentInitial:Kye,disable:Xye,document:Vye,flow:Wye,flowInitial:Gye,insideSpan:Jye,string:Qye,text:Zye},Symbol.toStringTag,{value:"Module"}));function tve(t){const n=lme([eve,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(yme),document:i(_me),flow:i(Nye),string:i($ye),text:i(Uye)};return r;function i(a){return s;function s(o){return qye(r,a,o)}}}function nve(t){for(;!Tq(t););return t}const xj=/[\0\t\n\r]/g;function rve(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let f,h,p,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(xj.lastIndex=p,f=xj.exec(a),m=f&&f.index!==void 0?f.index:a.length,y=a.charCodeAt(m),!f){e=a.slice(p);break}if(y===10&&p===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<m&&(l.push(a.slice(p,m)),t+=m-p),y){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}p=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const ive=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function ave(t){return t.replace(ive,sve)}function sve(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return wq(n.slice(a?2:1),a?16:10)}return bR(n)||t}const Iq={}.hasOwnProperty;function ove(t,e,n){return typeof e!="string"&&(n=e,e=void 0),uve(n)(nve(tve(n).document().write(rve()(t,e,!0))))}function uve(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ze),autolinkProtocol:ee,autolinkEmail:ee,atxHeading:a(re),blockQuote:a(Me),characterEscape:ee,characterReference:ee,codeFenced:a(Ze),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Ze,s),codeText:a(ie,s),codeTextData:ee,data:ee,codeFlowValue:ee,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a($),hardBreakEscape:a(W),hardBreakTrailing:a(W),htmlFlow:a(pe,s),htmlFlowData:ee,htmlText:a(pe,s),htmlTextData:ee,image:a(ye),label:s,link:a(ze),listItem:a(Fe),listItemValue:m,listOrdered:a(Ce,p),listUnordered:a(Ce),paragraph:a(tt),reference:V,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(re),strong:a(nt),thematicBreak:a(Ut)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:Te,autolinkProtocol:Ve,blockQuote:l(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:he,characterReferenceMarkerNumeric:he,characterReferenceValue:xe,codeFenced:l(E),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:_,codeFlowValue:U,codeIndented:l(S),codeText:l(me),codeTextData:U,data:U,definition:l(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(le),hardBreakTrailing:l(le),htmlFlow:l(Y),htmlFlowData:U,htmlText:l(se),htmlTextData:U,image:l(fe),label:Oe,labelText:ue,lineEnding:J,link:l(ve),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Z,resourceDestinationString:D,resourceTitleString:X,resource:ce,setextHeading:l(B),setextHeadingLineSequence:F,setextHeadingText:I,strong:l(),thematicBreak:l()}};Lq(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const te={stack:[Be],tokenStack:[],config:e,enter:o,exit:f,buffer:s,resume:h,data:n},H=[];let G=-1;for(;++G<Se.length;)if(Se[G][1].type==="listOrdered"||Se[G][1].type==="listUnordered")if(Se[G][0]==="enter")H.push(G);else{const K=H.pop();G=i(Se,K,G)}for(G=-1;++G<Se.length;){const K=e[Se[G][0]];Iq.call(K,Se[G][1].type)&&K[Se[G][1].type].call(Object.assign({sliceSerialize:Se[G][2].sliceSerialize},te),Se[G][1])}if(te.tokenStack.length>0){const K=te.tokenStack[te.tokenStack.length-1];(K[1]||Ej).call(te,void 0,K[0])}for(Be.position={start:Zu(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:Zu(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},G=-1;++G<e.transforms.length;)Be=e.transforms[G](Be)||Be;return Be}function i(Se,Be,te){let H=Be-1,G=-1,K=!1,je,Ye,Ne,At;for(;++H<=te;){const Pt=Se[H];switch(Pt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Pt[0]==="enter"?G++:G--,At=void 0;break}case"lineEndingBlank":{Pt[0]==="enter"&&(je&&!At&&!G&&!Ne&&(Ne=H),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!G&&Pt[0]==="enter"&&Pt[1].type==="listItemPrefix"||G===-1&&Pt[0]==="exit"&&(Pt[1].type==="listUnordered"||Pt[1].type==="listOrdered")){if(je){let kt=H;for(Ye=void 0;kt--;){const Rt=Se[kt];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Ye&&(Se[Ye][1].type="lineEndingBlank",K=!0),Rt[1].type="lineEnding",Ye=kt}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}Ne&&(!Ye||Ne<Ye)&&(je._spread=!0),je.end=Object.assign({},Ye?Se[Ye][1].start:Pt[1].end),Se.splice(Ye||H,0,["exit",je,Pt[2]]),H++,te++}if(Pt[1].type==="listItemPrefix"){const kt={type:"listItem",_spread:!1,start:Object.assign({},Pt[1].start),end:void 0};je=kt,Se.splice(H,0,["enter",kt,Pt[2]]),H++,te++,Ne=void 0,At=!0}}}return Se[Be][1]._spread=K,te}function a(Se,Be){return te;function te(H){o.call(this,Se(H),H),Be&&Be.call(this,H)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Se,Be,te){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,te]),Se.position={start:Zu(Be.start),end:void 0}}function l(Se){return Be;function Be(te){Se&&Se.call(this,te),f.call(this,te)}}function f(Se,Be){const te=this.stack.pop(),H=this.tokenStack.pop();if(H)H[0].type!==Se.type&&(Be?Be.call(this,Se,H[0]):(H[1]||Ej).call(this,Se,H[0]));else throw new Error("Cannot close `"+Se.type+"` ("+bg({start:Se.start,end:Se.end})+"): it’s not open");te.position.end=Zu(Se.end)}function h(){return ome(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function _(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function S(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function b(Se){const Be=this.resume(),te=this.stack[this.stack.length-1];te.label=Be,te.identifier=ad(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function M(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const te=this.sliceSerialize(Se).length;Be.depth=te}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function F(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function ee(Se){const te=this.stack[this.stack.length-1].children;let H=te[te.length-1];(!H||H.type!=="text")&&(H=gt(),H.position={start:Zu(Se.start),end:void 0},te.push(H)),this.stack.push(H)}function U(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=Zu(Se.end)}function J(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const te=Be.children[Be.children.length-1];te.position.end=Zu(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Be.type)&&(ee.call(this,Se),U.call(this,Se))}function le(){this.data.atHardBreak=!0}function Y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function se(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function me(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function ve(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function fe(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ue(Se){const Be=this.sliceSerialize(Se),te=this.stack[this.stack.length-2];te.label=ave(Be),te.identifier=ad(Be).toLowerCase()}function Oe(){const Se=this.stack[this.stack.length-1],Be=this.resume(),te=this.stack[this.stack.length-1];if(this.data.inReference=!0,te.type==="link"){const H=Se.children;te.children=H}else te.alt=Be}function D(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function X(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function ce(){this.data.inReference=void 0}function V(){this.data.referenceType="collapsed"}function Z(Se){const Be=this.resume(),te=this.stack[this.stack.length-1];te.label=Be,te.identifier=ad(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function he(Se){this.data.characterReferenceType=Se.type}function xe(Se){const Be=this.sliceSerialize(Se),te=this.data.characterReferenceType;let H;te?(H=wq(Be,te==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):H=bR(Be);const G=this.stack.pop();G.value+=H,G.position.end=Zu(Se.end)}function Ve(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Te(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Me(){return{type:"blockquote",children:[]}}function Ze(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function re(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function pe(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function Ce(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Fe(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function Ut(){return{type:"thematicBreak"}}}function Zu(t){return{line:t.line,column:t.column,offset:t.offset}}function Lq(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?Lq(t,r):lve(t,r)}}function lve(t,e){let n;for(n in e)if(Iq.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function Ej(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+bg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+bg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+bg({start:e.start,end:e.end})+") is still open")}function cve(t){const e=this;e.parser=n;function n(r){return ove(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function fve(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function dve(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function hve(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function pve(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function gve(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function mve(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Xd(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const f={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,f),t.applyData(e,f)}function yve(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function vve(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function Mq(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function _ve(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Mq(t,e);const i={src:Xd(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function wve(t,e){const n={src:Xd(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function bve(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function Sve(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return Mq(t,e);const i={href:Xd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function xve(t,e){const n={href:Xd(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Eve(t,e,n){const r=t.all(e),i=n?Tve(n):kq(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,f),t.applyData(e,f)}function Tve(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=kq(n[r])}return e}function kq(t){const e=t.spread;return e??t.children.length>1}function Cve(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Ave(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Rve(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function Ove(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Pve(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=_R(e.children[1]),l=mq(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function Ive(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const f=[];for(;++l<o;){const p=e.children[l],m={},y=s?s[l]:void 0;y&&(m.align=y);let _={type:"element",tagName:a,properties:m,children:[]};p&&(_.children=t.all(p),t.patch(p,_),_=t.applyData(p,_)),f.push(_)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(f,!0)};return t.patch(e,h),t.applyData(e,h)}function Lve(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Tj=9,Cj=32;function Mve(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(Aj(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(Aj(e.slice(i),i>0,!1)),a.join("")}function Aj(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===Tj||a===Cj;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===Tj||a===Cj;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function kve(t,e){const n={type:"text",value:Mve(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Dve(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const Nve={blockquote:fve,break:dve,code:hve,delete:pve,emphasis:gve,footnoteReference:mve,heading:yve,html:vve,imageReference:_ve,image:wve,inlineCode:bve,linkReference:Sve,link:xve,listItem:Eve,list:Cve,paragraph:Ave,root:Rve,strong:Ove,table:Pve,tableCell:Lve,tableRow:Ive,text:kve,thematicBreak:Dve,toml:ov,yaml:ov,definition:ov,footnoteDefinition:ov};function ov(){}const Dq=-1,W0=0,Q_=1,Z_=2,ER=3,TR=4,CR=5,AR=6,Nq=7,Fq=8,Rj=typeof self=="object"?self:globalThis,Fve=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case W0:case Dq:return n(s,i);case Q_:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Z_:{const o=n({},i);for(const[l,f]of s)o[r(l)]=r(f);return o}case ER:return n(new Date(s),i);case TR:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case CR:{const o=n(new Map,i);for(const[l,f]of s)o.set(r(l),r(f));return o}case AR:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case Nq:{const{name:o,message:l}=s;return n(new Rj[o](l),i)}case Fq:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new Rj[a](s),i)};return r},Oj=t=>Fve(new Map,t)(0),Hf="",{toString:jve}={},{keys:$ve}=Object,Kp=t=>{const e=typeof t;if(e!=="object"||!t)return[W0,e];const n=jve.call(t).slice(8,-1);switch(n){case"Array":return[Q_,Hf];case"Object":return[Z_,Hf];case"Date":return[ER,Hf];case"RegExp":return[TR,Hf];case"Map":return[CR,Hf];case"Set":return[AR,Hf]}return n.includes("Array")?[Q_,n]:n.includes("Error")?[Nq,n]:[Z_,n]},uv=([t,e])=>t===W0&&(e==="function"||e==="symbol"),Uve=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Kp(s);switch(o){case W0:{let h=s;switch(l){case"bigint":o=Fq,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([Dq],s)}return i([o,h],s)}case Q_:{if(l)return i([l,[...s]],s);const h=[],p=i([o,h],s);for(const m of s)h.push(a(m));return p}case Z_:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],p=i([o,h],s);for(const m of $ve(s))(t||!uv(Kp(s[m])))&&h.push([a(m),a(s[m])]);return p}case ER:return i([o,s.toISOString()],s);case TR:{const{source:h,flags:p}=s;return i([o,{source:h,flags:p}],s)}case CR:{const h=[],p=i([o,h],s);for(const[m,y]of s)(t||!(uv(Kp(m))||uv(Kp(y))))&&h.push([a(m),a(y)]);return p}case AR:{const h=[],p=i([o,h],s);for(const m of s)(t||!uv(Kp(m)))&&h.push(a(m));return p}}const{message:f}=s;return i([o,{name:l,message:f}],s)};return a},Pj=(t,{json:e,lossy:n}={})=>{const r=[];return Uve(!(e||n),!!e,new Map,r)(t),r},J_=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?Oj(Pj(t,e)):structuredClone(t):(t,e)=>Oj(Pj(t,e));function Bve(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function qve(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Hve(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Bve,r=t.options.footnoteBackLabel||qve,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const f=t.footnoteById.get(t.footnoteOrder[l]);if(!f)continue;const h=t.all(f),p=String(f.identifier).toUpperCase(),m=Xd(p.toLowerCase());let y=0;const _=[],x=t.footnoteCounts.get(p);for(;x!==void 0&&++y<=x;){_.length>0&&_.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,y);typeof b=="string"&&(b={type:"text",value:b}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const b=E.children[E.children.length-1];b&&b.type==="text"?b.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(..._)}else h.push(..._);const S={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(f,S),o.push(S)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...J_(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const jq=function(t){if(t==null)return Gve;if(typeof t=="function")return Q0(t);if(typeof t=="object")return Array.isArray(t)?zve(t):Vve(t);if(typeof t=="string")return Kve(t);throw new Error("Expected function, string, or object as test")};function zve(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=jq(t[n]);return Q0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function Vve(t){const e=t;return Q0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function Kve(t){return Q0(e);function e(n){return n&&n.type===t}}function Q0(t){return e;function e(n,r,i){return!!(Wve(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Gve(){return!0}function Wve(t){return t!==null&&typeof t=="object"&&"type"in t}const $q=[],Qve=!0,Ij=!1,Zve="skip";function Jve(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=jq(i),s=r?-1:1;o(t,void 0,[])();function o(l,f,h){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=$q,_,x,E;if((!e||a(l,f,h[h.length-1]||void 0))&&(y=Yve(n(l,h)),y[0]===Ij))return y;if("children"in l&&l.children){const S=l;if(S.children&&y[0]!==Zve)for(x=(r?S.children.length:-1)+s,E=h.concat(S);x>-1&&x<S.children.length;){const b=S.children[x];if(_=o(b,x,E)(),_[0]===Ij)return _;x=typeof _[1]=="number"?_[1]:x+s}}return y}}}function Yve(t){return Array.isArray(t)?t:typeof t=="number"?[Qve,t]:t==null?$q:[t]}function Uq(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),Jve(t,a,o,i);function o(l,f){const h=f[f.length-1],p=h?h.children.indexOf(l):void 0;return s(l,p,h)}}const HC={}.hasOwnProperty,Xve={};function e_e(t,e){const n=e||Xve,r=new Map,i=new Map,a=new Map,s={...Nve,...n.handlers},o={all:f,applyData:n_e,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:t_e,wrap:i_e};return Uq(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();p.has(m)||p.set(m,h)}}),o;function l(h,p){const m=h.type,y=o.handlers[m];if(HC.call(o.handlers,m)&&y)return y(o,h,p);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in h){const{children:x,...E}=h,S=J_(E);return S.children=o.all(h),S}return J_(h)}return(o.options.unknownHandler||r_e)(o,h,p)}function f(h){const p=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const _=o.one(m[y],h);if(_){if(y&&m[y-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=Lj(_.value)),!Array.isArray(_)&&_.type==="element")){const x=_.children[0];x&&x.type==="text"&&(x.value=Lj(x.value))}Array.isArray(_)?p.push(..._):p.push(_)}}}return p}}function t_e(t,e){t.position&&(e.position=Hge(t))}function n_e(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,J_(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function r_e(t,e){const n=e.data||{},r="value"in e&&!(HC.call(n,"hProperties")||HC.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function i_e(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function Lj(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function Mj(t,e){const n=e_e(t,e),r=n.one(t,void 0),i=Hve(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function a_e(t,e){return t&&"run"in t?async function(n,r){const i=Mj(n,e);await t.run(i,r)}:function(n){return Mj(n,e||t)}}function kj(t){if(t)throw t}var H2,Dj;function s_e(){if(Dj)return H2;Dj=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):e.call(f)==="[object Array]"},a=function(f){if(!f||e.call(f)!=="[object Object]")return!1;var h=t.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&t.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!h&&!p)return!1;var m;for(m in f);return typeof m>"u"||t.call(f,m)},s=function(f,h){n&&h.name==="__proto__"?n(f,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):f[h.name]=h.newValue},o=function(f,h){if(h==="__proto__")if(t.call(f,h)){if(r)return r(f,h).value}else return;return f[h]};return H2=function l(){var f,h,p,m,y,_,x=arguments[0],E=1,S=arguments.length,b=!1;for(typeof x=="boolean"&&(b=x,x=arguments[1]||{},E=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});E<S;++E)if(f=arguments[E],f!=null)for(h in f)p=o(x,h),m=o(f,h),x!==m&&(b&&m&&(a(m)||(y=i(m)))?(y?(y=!1,_=p&&i(p)?p:[]):_=p&&a(p)?p:{},s(x,{name:h,newValue:l(b,_,m)})):typeof m<"u"&&s(x,{name:h,newValue:m}));return x},H2}var o_e=s_e();const z2=Ur(o_e);function zC(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function u_e(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...f){const h=t[++a];let p=-1;if(l){s(l);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,h?l_e(h,o)(...f):s(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function l_e(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(f){const h=f;if(o&&n)throw h;return i(h)}o||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const Zs={basename:c_e,dirname:f_e,extname:d_e,join:h_e,sep:"/"};function c_e(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');wm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function f_e(t){if(wm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function d_e(t){wm(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function h_e(...t){let e=-1,n;for(;++e<t.length;)wm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":p_e(n)}function p_e(t){wm(t);const e=t.codePointAt(0)===47;let n=g_e(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function g_e(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function wm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const m_e={cwd:y_e};function y_e(){return"/"}function VC(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function v_e(t){if(typeof t=="string")t=new URL(t);else if(!VC(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return __e(t)}function __e(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const V2=["history","path","basename","stem","extname","dirname"];class Bq{constructor(e){let n;e?VC(e)?n={path:e}:typeof e=="string"||w_e(e)?n={value:e}:n=e:n={},this.cwd=m_e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<V2.length;){const a=V2[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)V2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Zs.basename(this.path):void 0}set basename(e){G2(e,"basename"),K2(e,"basename"),this.path=Zs.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Zs.dirname(this.path):void 0}set dirname(e){Nj(this.basename,"dirname"),this.path=Zs.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Zs.extname(this.path):void 0}set extname(e){if(K2(e,"extname"),Nj(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zs.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){VC(e)&&(e=v_e(e)),G2(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Zs.basename(this.path,this.extname):void 0}set stem(e){G2(e,"stem"),K2(e,"stem"),this.path=Zs.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ua(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function K2(t,e){if(t&&t.includes(Zs.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Zs.sep+"`")}function G2(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Nj(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function w_e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const b_e=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const s=Object.getOwnPropertyNames(i);for(const o of s){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(a,o,l)}return a},S_e={}.hasOwnProperty;class RR extends b_e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=u_e()}copy(){const e=new RR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(z2(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Z2("data",this.frozen),this.namespace[e]=n,this):S_e.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Z2("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=lv(e),r=this.parser||this.Parser;return W2("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),W2("process",this.parser||this.Parser),Q2("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=lv(e),l=r.parse(o);r.run(l,o,function(h,p,m){if(h||!p||!m)return f(h);const y=p,_=r.stringify(y,m);T_e(_)?m.value=_:m.result=_,f(h,m)});function f(h,p){h||!p?s(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),W2("processSync",this.parser||this.Parser),Q2("processSync",this.compiler||this.Compiler),this.process(e,i),jj("processSync","process",n),r;function i(a,s){n=!0,kj(a),r=s}}run(e,n,r){Fj(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=lv(n);i.run(e,l,f);function f(h,p,m){const y=p||e;h?o(h):s?s(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),jj("runSync","run",r),i;function a(s,o){kj(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=lv(n),i=this.compiler||this.Compiler;return Q2("stringify",i),Fj(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Z2("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(f){if(typeof f=="function")l(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[h,...p]=f;l(h,p)}else s(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function s(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(f.plugins),f.settings&&(i.settings=z2(!0,i.settings,f.settings))}function o(f){let h=-1;if(f!=null)if(Array.isArray(f))for(;++h<f.length;){const p=f[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function l(f,h){let p=-1,m=-1;for(;++p<r.length;)if(r[p][0]===f){m=p;break}if(m===-1)r.push([f,...h]);else if(h.length>0){let[y,..._]=h;const x=r[m][1];zC(x)&&zC(y)&&(y=z2(!0,x,y)),r[m]=[f,y,..._]}}}}const x_e=new RR().freeze();function W2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Q2(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Z2(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Fj(t){if(!zC(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function jj(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function lv(t){return E_e(t)?t:new Bq(t)}function E_e(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function T_e(t){return typeof t=="string"||C_e(t)}function C_e(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const A_e="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",$j=[],Uj={allowDangerousHtml:!0},R_e=/^(https?|ircs?|mailto|xmpp)$/i,O_e=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function P_e(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,a=t.components,s=t.disallowedElements,o=t.rehypePlugins||$j,l=t.remarkPlugins||$j,f=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Uj}:Uj,h=t.skipHtml,p=t.unwrapDisallowed,m=t.urlTransform||I_e,y=x_e().use(cve).use(l).use(a_e,f).use(o),_=new Bq;typeof r=="string"&&(_.value=r);for(const b of O_e)Object.hasOwn(t,b.from)&&(""+b.from+(b.to?"use `"+b.to+"` instead":"remove it")+A_e+b.id,void 0);const x=y.parse(_);let E=y.runSync(x,_);return i&&(E={type:"element",tagName:"div",properties:{className:i},children:E.type==="root"?E.children:[E]}),Uq(E,S),Qge(E,{Fragment:ge.Fragment,components:a,ignoreInvalidStyle:!0,jsx:ge.jsx,jsxs:ge.jsxs,passKeys:!0,passNode:!0});function S(b,A,k){if(b.type==="raw"&&k&&typeof A=="number")return h?k.children.splice(A,1):k.children[A]={type:"text",value:b.value},A;if(b.type==="element"){let M;for(M in U2)if(Object.hasOwn(U2,M)&&Object.hasOwn(b.properties,M)){const I=b.properties[M],F=U2[M];(F===null||F.includes(b.tagName))&&(b.properties[M]=m(String(I||""),M,b))}}if(b.type==="element"){let M=e?!e.includes(b.tagName):s?s.includes(b.tagName):!1;if(!M&&n&&typeof A=="number"&&(M=!n(b,A,k)),M&&k&&typeof A=="number")return p&&b.children?k.children.splice(A,1,...b.children):k.children.splice(A,1),A}}}function I_e(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||R_e.test(t.slice(0,e))?t:""}const L_e="_text_e0nft_1",M_e={text:L_e},k_e=`# About

WIP`,D_e=()=>ge.jsx(P_e,{className:M_e.text,children:k_e}),N_e=()=>{const t=Wc(im),e=Nd();ae.useEffect(()=>{if(t.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(t.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&e(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[t.isLoggedIn,e])},$g=(t,e)=>{const n=ghe(t,e),r=qq(t,e);return ae.useMemo(()=>({isMember:n,...r}),[r,n])},qq=(t,e)=>{const{isLoading:n,variables:r,store:i}=wa({query:ahe,variables:ae.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:yr}),a=r.publicTypeIndex??[],s=r.privateTypeIndex??[],o=r.inbox??[],l=r.hospexDocumentForCommunity??[],f=ae.useMemo(()=>(r.hospexDocument??[]).map(_=>{var S;const x=i.getObjects(t,Cd.member_of,_).map(({value:b})=>{var A;return{uri:b,name:(A=i.getObjects(b,Cd.name,null)[0])==null?void 0:A.value}}),E=i.getObjects(t,Tl.storage,_);return{hospexDocument:_,communities:x,storage:(S=E[0])==null?void 0:S.value}}),[i,t,r]),h=l.length>0?!0:n?void 0:!1,p=a.length>0?!0:n?void 0:!1,m=s.length>0?!0:n?void 0:!1,y=o.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:p,isPrivateTypeIndex:m,isInbox:y,personalHospexDocuments:l,publicTypeIndexes:a,privateTypeIndexes:s,inboxes:o,allHospex:f}},F_e=(t,e)=>{const n=ae.useCallback(async()=>{if(!e)return"mailer not set up";const s=await yr(`${e}/status`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},[e]),{isLoading:r,data:i}=tm({queryKey:["mailerIntegration"],queryFn:n});if(i==="mailer not set up")return!0;if(r||!i)return;const a=i.integrations.filter(s=>s.object===t);return a.length===0?!1:a.some(s=>s.verified)?!0:"unverified"},j_e=(t,e)=>{const n=ae.useCallback(async()=>{if(!e)return"mailer not set up";const a=await yr(`${e}/status/${encodeURIComponent(t)}`);if(a.status===403)return{emailVerified:!1};if(!a.ok)throw new Error("Network response was not ok");return a.json()},[e,t]),{isLoading:r,data:i}=tm({queryKey:["simpleMailerIntegration"],queryFn:n});if(i==="mailer not set up")return!0;if(!(r||!i))return i.emailVerified};var J2,Bj;function $_e(){if(Bj)return J2;Bj=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return J2=t,J2}var Y2,qj;function U_e(){if(qj)return Y2;qj=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return Y2=t,Y2}var X2,Hj;function B_e(){if(Hj)return X2;Hj=1;var t=aR(),e=U_e();function n(r,i){return i.length<2?r:t(r,e(i,0,-1))}return X2=n,X2}var eT,zj;function q_e(){if(zj)return eT;zj=1;var t=j0(),e=$_e(),n=B_e(),r=pm();function i(a,s){return s=t(s,a),a=n(a,s),a==null||delete a[r(e(s))]}return eT=i,eT}var tT,Vj;function H_e(){if(Vj)return tT;Vj=1;var t=$8();function e(n){return t(n)?void 0:n}return tT=e,tT}var nT,Kj;function z_e(){if(Kj)return nT;Kj=1;var t=Vd(),e=M0(),n=Fs(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return nT=i,nT}var rT,Gj;function V_e(){if(Gj)return rT;Gj=1;var t=QA(),e=z_e();function n(r,i,a,s,o){var l=-1,f=r.length;for(a||(a=e),o||(o=[]);++l<f;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,s,o):t(o,h):s||(o[o.length]=h)}return o}return rT=n,rT}var iT,Wj;function K_e(){if(Wj)return iT;Wj=1;var t=V_e();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return iT=e,iT}var aT,Qj;function G_e(){if(Qj)return aT;Qj=1;var t=K_e(),e=q8(),n=H8();function r(i){return n(e(i,void 0,t),i+"")}return aT=r,aT}var sT,Zj;function W_e(){if(Zj)return sT;Zj=1;var t=FB(),e=Q8(),n=q_e(),r=j0(),i=Zd(),a=H_e(),s=G_e(),o=W8(),l=1,f=2,h=4,p=s(function(m,y){var _={};if(m==null)return _;var x=!1;y=t(y,function(S){return S=r(S,m),x||(x=S.length>1),S}),i(m,o(m),_),x&&(_=e(_,l|f|h,a));for(var E=y.length;E--;)n(_,y[E]);return _});return sT=p,sT}var Q_e=W_e();const Hq=Ur(Q_e),Z_e=()=>{const t=js();return ae.useCallback(async({person:e,group:n})=>{const r=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${n}> <${tB.hasMember}> <${e}>. } .`;await t.mutateAsync({uri:n,patch:r})},[t])},J_e={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},Y_e={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Xc={schema:Y_e,shape:"https://example.com/Authorization",context:J_e};let cv;const X_e=new Uint8Array(16);function e0e(){if(!cv&&(cv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cv(X_e)}const Ti=[];for(let t=0;t<256;++t)Ti.push((t+256).toString(16).slice(1));function t0e(t,e=0){return(Ti[t[e+0]]+Ti[t[e+1]]+Ti[t[e+2]]+Ti[t[e+3]]+"-"+Ti[t[e+4]]+Ti[t[e+5]]+"-"+Ti[t[e+6]]+Ti[t[e+7]]+"-"+Ti[t[e+8]]+Ti[t[e+9]]+"-"+Ti[t[e+10]]+Ti[t[e+11]]+Ti[t[e+12]]+Ti[t[e+13]]+Ti[t[e+14]]+Ti[t[e+15]]).toLowerCase()}const n0e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jj={randomUUID:n0e};function yl(t,e,n){if(Jj.randomUUID&&!e&&!t)return Jj.randomUUID();t=t||{};const r=t.random||(t.rng||e0e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,t0e(r)}const r0e=()=>{const{communityId:t}=Vn(),e=i0e(),n=o0e(),r=u0e(),i=s0e(),a=a0e(),s=zq(),o=l0e(),l=c0e(),{webId:f}=Ui();return ae.useCallback(async(h,{person:p,publicTypeIndex:m,privateTypeIndex:y,hospexDocument:_,inbox:x,email:E})=>{h.includes("createHospexProfile")&&await i({uri:_,webId:p,communityId:t}),h.includes("addToHospexProfile")&&await a({uri:_,webId:p}),h.includes("createPrivateTypeIndex")&&await e({webId:p,privateTypeIndex:y}),h.includes("createPublicTypeIndex")&&await n({webId:p,publicTypeIndex:m}),h.includes("createInbox")&&await r({webId:p,inbox:x}),(h.includes("createHospexProfile")||h.includes("createPublicTypeIndex"))&&await s({index:m,type:Tl.PersonalHospexDocument,location:_}),h.includes("integrateEmailNotifications")&&await o({email:E,inbox:x,webId:f}),h.includes("integrateSimpleEmailNotifications")&&await l({email:E,webId:f,hospexDocument:_})},[a,t,i,r,e,n,o,l,s,f])},zq=(t=!1)=>{const e=lu(I8),n=lu(P8),r=t?e:n;return ae.useCallback(async({index:i,type:a,location:s})=>{const o=l=>{var m;let f=((m=l.references)==null?void 0:m.findIndex(y=>y.forClass.some(_=>_["@id"]===a)))??-1;f===-1&&(l.references??(l.references=[]),f=l.references.push({"@id":i+"#"+yl(),type:{"@id":"TypeRegistration"},forClass:[{"@id":a}]})-1);const h=s.endsWith("/"),p=l.references[f];h?(p.instanceContainer??(p.instanceContainer=[]),p.instanceContainer.push({"@id":s})):(p.instance??(p.instance=[]),p.instance.push({"@id":s}))};await r.mutateAsync({uri:i,subject:i,transform:o})},[r])},i0e=()=>{const t=Ls(I8),e=js();return ae.useCallback(async({webId:n,privateTypeIndex:r})=>{await t.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${Hn.InsertDeletePatch}>; <${Hn.inserts}> { <${n}> <${Hn.privateTypeIndex}> <${r}>. }.`;await e.mutateAsync({uri:n,patch:i})},[t,e])},a0e=()=>{const{communityId:t}=Vn(),e=lu(q0),n=Kq(),r=Vq(),i=pu(t);return ae.useCallback(async({uri:a,webId:s})=>{await e.mutateAsync({uri:a,subject:s,transform:o=>{o.memberOf??(o.memberOf=[]),o.memberOf.push({"@id":t}),o.storage2??(o.storage2={"@id":ri(a)}),o["@id"]??(o["@id"]=s)}});try{await n({webId:s,uri:ri(a)},{throwOnHttpError:!0})}catch{await r(ri(a),[{operation:"add",access:["Read"],agentGroups:i.groups,default:!0}])}},[i.groups,t,n,r,e])},Vq=()=>{const t=js();return ae.useCallback(async(e,n)=>{const r=await El(e),a=await(await uu(r)).text(),s=tce(r,a),o=new S0({format:"N-Triples"});for(const f of n){f.agents??(f.agents=[]),f.agentGroups??(f.agentGroups=[]);const h=s.find(_=>{const x=new Set(f.access),E=new Set(_.accesses);return x.size===E.size&&[...x].every(S=>E.has(S))&&f.default?_.defaults.includes(e):_.defaults.length===0}),p=_=>{const x=new URL(_);return x.hash=yl(),x.toString()},m=(h==null?void 0:h.url)??p(r),y=new Vr(m);o.addQuads(f.agentGroups.map(_=>new As(y,new Vr(Sn.agentGroup),new Vr(_)))),o.addQuads(f.agents.map(_=>new As(y,new Vr(Sn.agent),new Vr(_)))),h||(o.addQuads([new As(y,new Vr(lm.type),new Vr(Sn.Authorization)),new As(y,new Vr(Sn.accessTo),new Vr(e)),...f.access.map(_=>new As(y,new Vr(Sn.mode),new Vr(Sn[_])))]),f.default&&o.addQuads([new As(y,new Vr(Sn.default__workaround),new Vr(e))]))}const l=await new Promise((f,h)=>{o.end((p,m)=>{p?h(p):f(m)})});await t.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${l}
          } .`})},[t])},Kq=()=>{const{communityId:t}=Vn(),e=Ls(Xc),n=pu(t);return ae.useCallback(async({uri:r,webId:i},a={})=>{const s=ri(r),o=await El(s);await e.mutateAsync({uri:o,data:[{"@id":o+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":s}],default:{"@id":s},agent:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":o+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":s}],default:{"@id":s},agentGroup:n.groups.map(l=>({"@id":l})),mode:[{"@id":Sn.Read}]}],...a})},[n.groups,e])},s0e=()=>{const t=Ls(q0),e=Kq();return ae.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=ri(n);await t.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await e({uri:n,webId:r})},[e,t])},o0e=()=>{const t=Ls(P8),e=Ls(Xc),n=js();return ae.useCallback(async({webId:r,publicTypeIndex:i})=>{await t.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await El(i);await e.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":wl.Agent}],accessTo:[{"@id":i}],mode:[{"@id":Sn.Read}]}]});const s=`_:mutate a <${Hn.InsertDeletePatch}>; <${Hn.inserts}> { <${r}> <${Hn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:s})},[e,t,n])},u0e=()=>{const t=Uhe(),e=Ls(Xc),n=js();return ae.useCallback(async({webId:r,inbox:i})=>{await t.mutateAsync({uri:i});const a=await El(i);await e.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":Sn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":Sn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${Hn.InsertDeletePatch}>; <${Hn.inserts}> { <${r}> <${ml.inbox}> <${i}>. }.`})},[e,t,n])},l0e=()=>{const{emailNotificationsService:t,emailNotificationsIdentity:e}=Vn(),n=async o=>{if(!(await yr(`${t}/inbox`,{method:"post",headers:{"content-type":"application/ld+json"},body:JSON.stringify(o)})).ok)throw new Error("not ok!")},r=xa(),{mutate:i}=fs({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:["mailerIntegration"]})}}),a=ae.useCallback(({webId:o,inbox:l,email:f})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:o,object:l,target:f})},[i]),s=lu(Xc);return ae.useCallback(async({email:o,inbox:l,webId:f})=>{const h=await El(l);await s.mutateAsync({uri:h,subject:h+"#read",transform:p=>{p["@id"]=h+"#read",p.type={"@id":"Authorization"},p.agent=[{"@id":e}],p.accessTo=[{"@id":l}],p.default={"@id":l},p.mode=[{"@id":Sn.Read}]}}),await a({email:o,inbox:l,webId:f})},[e,a,s])},c0e=()=>{const{emailNotificationsService:t}=Vn(),e=async s=>{if(!(await yr(`${t}/init`,{method:"post",headers:{"content-type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},n=xa(),r=f0e(),{mutate:i}=fs({mutationFn:e,onSuccess:()=>{n.invalidateQueries({queryKey:["simpleMailerIntegration"]})}}),a=ae.useCallback(({email:s})=>{i({email:s})},[i]);return ae.useCallback(async({email:s,webId:o,hospexDocument:l})=>{await r({hospexDocument:l,webId:o,email:s}),await a({email:s})},[a,r])},f0e=()=>{const{emailNotificationsIdentity:t}=Vn(),e=lu(Xc),n=js(),r=Vq();return ae.useCallback(async({hospexDocument:a,webId:s,email:o})=>{const l=ri(a);await r(ri(a),[{operation:"add",access:["Read"],agents:[t],default:!0}]);const f=l+"emailSettings-"+yl(),h=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${s}> <${wl.mbox}> "${o}". } .`;await n.mutateAsync({uri:f,patch:h});const p=await El(f);await e.mutateAsync({uri:p,subject:p+"#owner",transform:y=>{y["@id"]=p+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":s}],y.accessTo=[{"@id":f}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]}}),await e.mutateAsync({uri:p,subject:p+"#readWriteMailer",transform:y=>{y["@id"]=p+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":t}],y.accessTo=[{"@id":f}],y.mode=[{"@id":Sn.Read},{"@id":Sn.Write}]}});const m=`_:mutate a <${Hn.InsertDeletePatch}>;
        <${Hn.inserts}> { <${s}> <${cm.preferencesFile}> <${f}>. } .`;await n.mutateAsync({uri:a,patch:m})},[t,r,e,n])};var oT,Yj;function d0e(){if(Yj)return oT;Yj=1;function t(e,n){return e<n}return oT=t,oT}var uT,Xj;function h0e(){if(Xj)return uT;Xj=1;var t=z8(),e=oR(),n=d0e();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return uT=r,uT}var p0e=h0e();const g0e=Ur(p0e),m0e=t=>{var a;const[e,n]=K8(t),[r]=y0e(t),i=((a=e==null?void 0:e.storage)==null?void 0:a.map(s=>s["@id"]))??[];if(n.isFetched)return i[0]??r},y0e=t=>{const[e,n]=ae.useState([ri(t)]),[r,i]=ae.useState(),a=$he(e),s=ae.useMemo(()=>a.map(l=>{var f,h;return(h=(f=l.data)==null?void 0:f.response)==null?void 0:h.headers.get("Link")}),[a]);ae.useEffect(()=>{const l=s.findIndex(f=>f==null?void 0:f.includes(cm.Storage));l>-1?i(e[l]):a.every(f=>f.isSuccess||f.isError)&&n(f=>{const h=g0e(f,p=>p.length);if(h){const p=rB(h);if(!f.includes(p))return[...f,p]}return f})},[s,e,a]);const o=!a.every(l=>l.isSuccess||l.isError)||a.length<e.length;return[r,o]},v0e="_taskList_d3s7e_1",_0e="_storageOptions_d3s7e_7",w0e="_option_d3s7e_10",fv={taskList:v0e,storageOptions:_0e,option:w0e},b0e=({isMember:t,isPublicTypeIndex:e,isPrivateTypeIndex:n,isHospexProfile:r,isInbox:i,isEmailNotifications:a,isSimpleEmailNotifications:s,personalHospexDocuments:o,publicTypeIndexes:l,privateTypeIndexes:f,inboxes:h,isNotificationsInitialized:p,onNotificationsInitialized:m,onNotificationsInitializedTryAgain:y,allHospex:_})=>{const{communityContainer:x,communityId:E}=Vn(),S=Ui(),b=r0e(),A=m0e(S.webId??""),k=pu(E),M=Z_e(),[I,F]=ae.useState(!1),[B,ee]=ae.useState(""),[U,J]=ae.useState(""),[le,Y]=ae.useState(),se=`${A}hospex/${x}/card`,me=async ve=>{if(ve.preventDefault(),F(!0),!e||!n||!r||!i||!a||!s){const fe=[];if(e||fe.push("createPublicTypeIndex"),n||fe.push("createPrivateTypeIndex"),r||(_.length===0?fe.push("createHospexProfile"):typeof le=="boolean"&&(le?fe.push("addToHospexProfile"):fe.push("createHospexProfile"))),i||fe.push("createInbox"),a||fe.push("integrateEmailNotifications"),s||fe.push("integrateSimpleEmailNotifications"),!S.webId)throw new Error("not signed in");if(e&&!l[0])throw new Error("existing public type index not found");if(n&&!f[0])throw new Error("existing private type index not found");const ue={person:S.webId,publicTypeIndex:e?l[0]:`${A}settings/publicTypeIndex.ttl`,privateTypeIndex:n?f[0]:`${A}settings/privateTypeIndex.ttl`,inbox:i?h[0]:`${A}inbox/`,hospexDocument:r?o[0]:_.length>0?U:se,email:B};await b(fe,ue),m()}t||await M({person:S.webId,group:k.groups[0]}),F(!1)};return I?ge.jsx(ba,{children:"Preparing your Pod..."}):A?ge.jsxs("div",{children:[ge.jsxs("header",{children:["Welcome to ",k.name||"SolidCouch","!"]}),ge.jsx("div",{children:"We would like to set up your Pod:"}),ge.jsxs("form",{onSubmit:me,children:[ge.jsxs("ul",{className:fv.taskList,children:[!t&&ge.jsxs("li",{children:["Join community ",k.name||E]}),!e&&ge.jsxs("li",{children:["Create public type index"," ",A+"settings/publicTypeIndex.ttl"]}),!n&&ge.jsxs("li",{children:["Create private type index"," ",A+"settings/privateTypeIndex.ttl"]}),!i&&ge.jsxs("li",{children:["Create inbox ",A+"inbox/"]}),!r&&_.length===0&&ge.jsxs("li",{children:["Setup hospex document and storage ",se]}),!r&&_.length>0&&ge.jsxs("li",{children:[ge.jsx("legend",{children:"Setup hospex document and storage"}),ge.jsxs("fieldset",{className:fv.storageOptions,children:[ge.jsx("legend",{children:"You already seem to be a member of some hospitality exchange (hospex) communities. Would you like to:"}),ge.jsxs("div",{className:fv.option,children:[ge.jsx("input",{required:!0,type:"radio",id:"new-hospex-document",name:"hospexDocument",value:se,checked:se===U,onChange:ve=>{J(ve.target.value),Y(!1)}})," ",ge.jsxs("label",{htmlFor:"new-hospex-document",children:["Set up new data for this community (",new URL(ri(se)).pathname,")"]})]}),ge.jsxs("div",{children:[ge.jsxs("legend",{children:["Or use data (profile, hosting offers, etc.) from one of your existing communities?"," ",ge.jsx("i",{children:"(Recommended for similar communities)"})]}),_.map(({hospexDocument:ve,communities:fe},ue)=>ge.jsxs("div",{className:fv.option,children:[ge.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${ue}`,name:"hospexDocument",value:ve,checked:ve===U,onChange:()=>{J(ve),Y(!0)}})," ",ge.jsxs("label",{htmlFor:`hospexDocument-${ue}`,children:[fe.map(Oe=>Oe.name??Oe.uri).join(", ")," (",new URL(ri(ve)).pathname,")"]})]},ve))]})]})]}),(!a||a==="unverified")&&ge.jsxs("li",{children:[!a&&ge.jsxs("div",{children:["Setup email notifications"," ",ge.jsx("input",{type:"email",placeholder:"Your email",value:B,onChange:ve=>ee(ve.target.value)})]}),a==="unverified"&&ge.jsx("div",{children:"Please verify your email"})]}),!s&&ge.jsx("li",{children:p?ge.jsxs("div",{children:[ge.jsx("div",{children:"Please verify your email. It may take a few minutes — check your inbox and Spam folder."}),ge.jsxs("div",{children:["Email didn't arrive?"," ",ge.jsx(Kr,{secondary:!0,onClick:y,children:"Try again"})]})]}):ge.jsxs("div",{children:["Setup simple email notifications"," ",ge.jsx("input",{required:!0,type:"email",placeholder:"Your email",value:B,onChange:ve=>ee(ve.target.value)})]})})]}),ge.jsx(Kr,{primary:!0,type:"submit",children:"Continue!"})]})]}):ge.jsx(ba,{children:"Searching your storage..."})},S0e=()=>{const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=Vn(),r=Wc(im),[i,a]=ae.useState(!1),s=$g(r.webId??"",t??""),o=Hq(s,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments"]),l=j_e(r.webId,n==="simple"?e:""),f=F_e(s.inboxes[0],n==="solid"?e:"");if(Object.values(s).every(m=>m)&&l===!0&&f===!0)return ge.jsx(p0,{});const p=Object.entries(o).filter(([,m])=>m===void 0).map(([m])=>m);return l===void 0&&p.push("isSimpleEmailNotifications"),f===void 0&&p.push("isEmailNotifications"),Object.values(s).some(m=>m===void 0)||l===void 0||f===void 0?ge.jsxs(ba,{children:["Checking ",p.join(", ")]}):ge.jsx(b0e,{...s,isSimpleEmailNotifications:l,isEmailNotifications:f,onNotificationsInitialized:()=>a(!0),onNotificationsInitializedTryAgain:()=>a(!1),isNotificationsInitialized:i})};var dv={exports:{}},Ju={},hv={exports:{}},is={},pv={exports:{}},e4;function Gq(){return e4||(e4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(p,m){return m.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function s(p){var m=p.offsetWidth<=0&&p.offsetHeight<=0;if(m&&!p.innerHTML)return!0;try{var y=window.getComputedStyle(p),_=y.getPropertyValue("display");return m?_!==r&&a(p,y):_===n}catch{return console.warn("Failed to inspect element style"),!1}}function o(p){for(var m=p,y=p.getRootNode&&p.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),s(m))return!1;m=m.parentNode}return!0}function l(p,m){var y=p.nodeName.toLowerCase(),_=i.test(y)&&!p.disabled||y==="a"&&p.href||m;return _&&o(p)}function f(p){var m=p.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&l(p,!y)}function h(p){var m=[].slice.call(p.querySelectorAll("*"),0).reduce(function(y,_){return y.concat(_.shadowRoot?h(_.shadowRoot):[_])},[]);return m.filter(f)}t.exports=e.default}(pv,pv.exports)),pv.exports}var t4;function x0e(){if(t4)return is;t4=1,Object.defineProperty(is,"__esModule",{value:!0}),is.resetState=s,is.log=o,is.handleBlur=l,is.handleFocus=f,is.markForFocusLater=h,is.returnFocus=p,is.popWithoutFocus=m,is.setupScopedFocus=y,is.teardownScopedFocus=_;var t=Gq(),e=n(t);function n(x){return x&&x.__esModule?x:{default:x}}var r=[],i=null,a=!1;function s(){r=[]}function o(){}function l(){a=!0}function f(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var x=(0,e.default)(i)[0]||i;x.focus()}},0)}}function h(){r.push(document.activeElement)}function p(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=null;try{r.length!==0&&(E=r.pop(),E.focus({preventScroll:x}));return}catch{console.warn(["You tried to return focus to",E,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(x){i=x,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",f))}function _(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",f))}return is}var gv={exports:{}},n4;function E0e(){return n4||(n4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Gq(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return o.activeElement.shadowRoot?a(o.activeElement.shadowRoot):o.activeElement}function s(o,l){var f=(0,r.default)(o);if(!f.length){l.preventDefault();return}var h=void 0,p=l.shiftKey,m=f[0],y=f[f.length-1],_=a();if(o===_){if(!p)return;h=y}if(y===_&&!p&&(h=m),m===_&&p&&(h=y),h){l.preventDefault(),h.focus();return}var x=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=x!=null&&x[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var S=f.indexOf(_);if(S>-1&&(S+=p?-1:1),h=f[S],typeof h>"u"){l.preventDefault(),h=p?y:m,h.focus();return}l.preventDefault(),h.focus()}}t.exports=e.default}(gv,gv.exports)),gv.exports}var ws={},lT,r4;function T0e(){if(r4)return lT;r4=1;var t=function(){};return lT=t,lT}var Gs={},cT={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var i4;function C0e(){return i4||(i4=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(cT)),cT.exports}var a4;function OR(){if(a4)return Gs;a4=1,Object.defineProperty(Gs,"__esModule",{value:!0}),Gs.canUseDOM=Gs.SafeNodeList=Gs.SafeHTMLCollection=void 0;var t=C0e(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return Gs.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},Gs.SafeNodeList=r.canUseDOM?window.NodeList:{},Gs.canUseDOM=r.canUseDOM,Gs.default=i,Gs}var s4;function Wq(){if(s4)return ws;s4=1,Object.defineProperty(ws,"__esModule",{value:!0}),ws.resetState=a,ws.log=s,ws.assertNodeList=o,ws.setElement=l,ws.validateElement=f,ws.hide=h,ws.show=p,ws.documentNotReadyOrSSRTesting=m;var t=T0e(),e=r(t),n=OR();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function s(){}function o(y,_){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+_+".")}function l(y){var _=y;if(typeof _=="string"&&n.canUseDOM){var x=document.querySelectorAll(_);o(x,_),_=x}return i=_||i,i}function f(y){var _=y||i;return _?Array.isArray(_)||_ instanceof HTMLCollection||_ instanceof NodeList?_:[_]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(y){var _=!0,x=!1,E=void 0;try{for(var S=f(y)[Symbol.iterator](),b;!(_=(b=S.next()).done);_=!0){var A=b.value;A.setAttribute("aria-hidden","true")}}catch(k){x=!0,E=k}finally{try{!_&&S.return&&S.return()}finally{if(x)throw E}}}function p(y){var _=!0,x=!1,E=void 0;try{for(var S=f(y)[Symbol.iterator](),b;!(_=(b=S.next()).done);_=!0){var A=b.value;A.removeAttribute("aria-hidden")}}catch(k){x=!0,E=k}finally{try{!_&&S.return&&S.return()}finally{if(x)throw E}}}function m(){i=null}return ws}var fc={},o4;function A0e(){if(o4)return fc;o4=1,Object.defineProperty(fc,"__esModule",{value:!0}),fc.resetState=r,fc.log=i;var t={},e={};function n(f,h){f.classList.remove(h)}function r(){var f=document.getElementsByTagName("html")[0];for(var h in t)n(f,t[h]);var p=document.body;for(var m in e)n(p,e[m]);t={},e={}}function i(){}var a=function(h,p){return h[p]||(h[p]=0),h[p]+=1,p},s=function(h,p){return h[p]&&(h[p]-=1),p},o=function(h,p,m){m.forEach(function(y){a(p,y),h.add(y)})},l=function(h,p,m){m.forEach(function(y){s(p,y),p[y]===0&&h.remove(y)})};return fc.add=function(h,p){return o(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},fc.remove=function(h,p){return l(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},fc}var zf={},u4;function Qq(){if(u4)return zf;u4=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.log=r,zf.resetState=i;function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function a(){var s=this;t(this,a),this.register=function(o){s.openInstances.indexOf(o)===-1&&(s.openInstances.push(o),s.emit("register"))},this.deregister=function(o){var l=s.openInstances.indexOf(o);l!==-1&&(s.openInstances.splice(l,1),s.emit("deregister"))},this.subscribe=function(o){s.subscribers.push(o)},this.emit=function(o){s.subscribers.forEach(function(l){return l(o,s.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new e}return zf.default=n,zf}var Gp={},l4;function R0e(){if(l4)return Gp;l4=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.resetState=s,Gp.log=o;var t=Qq(),e=n(t);function n(h){return h&&h.__esModule?h:{default:h}}var r=void 0,i=void 0,a=[];function s(){for(var h=[r,i],p=0;p<h.length;p++){var m=h[p];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function o(){console.log("bodyTrap ----------"),console.log(a.length);for(var h=[r,i],p=0;p<h.length;p++){var m=h[p],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function f(h,p){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=p,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(f),Gp}var c4;function O0e(){return c4||(c4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(se){for(var me=1;me<arguments.length;me++){var ve=arguments[me];for(var fe in ve)Object.prototype.hasOwnProperty.call(ve,fe)&&(se[fe]=ve[fe])}return se},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},i=function(){function se(me,ve){for(var fe=0;fe<ve.length;fe++){var ue=ve[fe];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(me,ue.key,ue)}}return function(me,ve,fe){return ve&&se(me.prototype,ve),fe&&se(me,fe),me}}(),a=Md(),s=Z8(),o=M(s),l=x0e(),f=k(l),h=E0e(),p=M(h),m=Wq(),y=k(m),_=A0e(),x=k(_),E=OR(),S=M(E),b=Qq(),A=M(b);R0e();function k(se){if(se&&se.__esModule)return se;var me={};if(se!=null)for(var ve in se)Object.prototype.hasOwnProperty.call(se,ve)&&(me[ve]=se[ve]);return me.default=se,me}function M(se){return se&&se.__esModule?se:{default:se}}function I(se,me){if(!(se instanceof me))throw new TypeError("Cannot call a class as a function")}function F(se,me){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:se}function B(se,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);se.prototype=Object.create(me&&me.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(se,me):se.__proto__=me)}var ee={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(me){return me.code==="Tab"||me.keyCode===9},J=function(me){return me.code==="Escape"||me.keyCode===27},le=0,Y=function(se){B(me,se);function me(ve){I(this,me);var fe=F(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,ve));return fe.setOverlayRef=function(ue){fe.overlay=ue,fe.props.overlayRef&&fe.props.overlayRef(ue)},fe.setContentRef=function(ue){fe.content=ue,fe.props.contentRef&&fe.props.contentRef(ue)},fe.afterClose=function(){var ue=fe.props,Oe=ue.appElement,D=ue.ariaHideApp,X=ue.htmlOpenClassName,ce=ue.bodyOpenClassName,V=ue.parentSelector,Z=V&&V().ownerDocument||document;ce&&x.remove(Z.body,ce),X&&x.remove(Z.getElementsByTagName("html")[0],X),D&&le>0&&(le-=1,le===0&&y.show(Oe)),fe.props.shouldFocusAfterRender&&(fe.props.shouldReturnFocusAfterClose?(f.returnFocus(fe.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),fe.props.onAfterClose&&fe.props.onAfterClose(),A.default.deregister(fe)},fe.open=function(){fe.beforeOpen(),fe.state.afterOpen&&fe.state.beforeClose?(clearTimeout(fe.closeTimer),fe.setState({beforeClose:!1})):(fe.props.shouldFocusAfterRender&&(f.setupScopedFocus(fe.node),f.markForFocusLater()),fe.setState({isOpen:!0},function(){fe.openAnimationFrame=requestAnimationFrame(function(){fe.setState({afterOpen:!0}),fe.props.isOpen&&fe.props.onAfterOpen&&fe.props.onAfterOpen({overlayEl:fe.overlay,contentEl:fe.content})})}))},fe.close=function(){fe.props.closeTimeoutMS>0?fe.closeWithTimeout():fe.closeWithoutTimeout()},fe.focusContent=function(){return fe.content&&!fe.contentHasFocus()&&fe.content.focus({preventScroll:!0})},fe.closeWithTimeout=function(){var ue=Date.now()+fe.props.closeTimeoutMS;fe.setState({beforeClose:!0,closesAt:ue},function(){fe.closeTimer=setTimeout(fe.closeWithoutTimeout,fe.state.closesAt-Date.now())})},fe.closeWithoutTimeout=function(){fe.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},fe.afterClose)},fe.handleKeyDown=function(ue){U(ue)&&(0,p.default)(fe.content,ue),fe.props.shouldCloseOnEsc&&J(ue)&&(ue.stopPropagation(),fe.requestClose(ue))},fe.handleOverlayOnClick=function(ue){fe.shouldClose===null&&(fe.shouldClose=!0),fe.shouldClose&&fe.props.shouldCloseOnOverlayClick&&(fe.ownerHandlesClose()?fe.requestClose(ue):fe.focusContent()),fe.shouldClose=null},fe.handleContentOnMouseUp=function(){fe.shouldClose=!1},fe.handleOverlayOnMouseDown=function(ue){!fe.props.shouldCloseOnOverlayClick&&ue.target==fe.overlay&&ue.preventDefault()},fe.handleContentOnClick=function(){fe.shouldClose=!1},fe.handleContentOnMouseDown=function(){fe.shouldClose=!1},fe.requestClose=function(ue){return fe.ownerHandlesClose()&&fe.props.onRequestClose(ue)},fe.ownerHandlesClose=function(){return fe.props.onRequestClose},fe.shouldBeClosed=function(){return!fe.state.isOpen&&!fe.state.beforeClose},fe.contentHasFocus=function(){return document.activeElement===fe.content||fe.content.contains(document.activeElement)},fe.buildClassName=function(ue,Oe){var D=(typeof Oe>"u"?"undefined":r(Oe))==="object"?Oe:{base:ee[ue],afterOpen:ee[ue]+"--after-open",beforeClose:ee[ue]+"--before-close"},X=D.base;return fe.state.afterOpen&&(X=X+" "+D.afterOpen),fe.state.beforeClose&&(X=X+" "+D.beforeClose),typeof Oe=="string"&&Oe?X+" "+Oe:X},fe.attributesFromObject=function(ue,Oe){return Object.keys(Oe).reduce(function(D,X){return D[ue+"-"+X]=Oe[X],D},{})},fe.state={afterOpen:!1,beforeClose:!1},fe.shouldClose=null,fe.moveFromContentToOverlay=null,fe}return i(me,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(fe,ue){this.props.isOpen&&!fe.isOpen?this.open():!this.props.isOpen&&fe.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ue.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var fe=this.props,ue=fe.appElement,Oe=fe.ariaHideApp,D=fe.htmlOpenClassName,X=fe.bodyOpenClassName,ce=fe.parentSelector,V=ce&&ce().ownerDocument||document;X&&x.add(V.body,X),D&&x.add(V.getElementsByTagName("html")[0],D),Oe&&(le+=1,y.hide(ue)),A.default.register(this)}},{key:"render",value:function(){var fe=this.props,ue=fe.id,Oe=fe.className,D=fe.overlayClassName,X=fe.defaultStyles,ce=fe.children,V=Oe?{}:X.content,Z=D?{}:X.overlay;if(this.shouldBeClosed())return null;var he={ref:this.setOverlayRef,className:this.buildClassName("overlay",D),style:n({},Z,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},xe=n({id:ue,ref:this.setContentRef,style:n({},V,this.props.style.content),className:this.buildClassName("content",Oe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ve=this.props.contentElement(xe,ce);return this.props.overlayElement(he,Ve)}}]),me}(a.Component);Y.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},Y.propTypes={isOpen:o.default.bool.isRequired,defaultStyles:o.default.shape({content:o.default.object,overlay:o.default.object}),style:o.default.shape({content:o.default.object,overlay:o.default.object}),className:o.default.oneOfType([o.default.string,o.default.object]),overlayClassName:o.default.oneOfType([o.default.string,o.default.object]),parentSelector:o.default.func,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,ariaHideApp:o.default.bool,appElement:o.default.oneOfType([o.default.instanceOf(S.default),o.default.instanceOf(E.SafeHTMLCollection),o.default.instanceOf(E.SafeNodeList),o.default.arrayOf(o.default.instanceOf(S.default))]),onAfterOpen:o.default.func,onAfterClose:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,role:o.default.string,contentLabel:o.default.string,aria:o.default.object,data:o.default.object,children:o.default.node,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func,testId:o.default.string},e.default=Y,t.exports=e.default}(hv,hv.exports)),hv.exports}function Zq(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Jq(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function Yq(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Zq.__suppressDeprecationWarning=!0;Jq.__suppressDeprecationWarning=!0;Yq.__suppressDeprecationWarning=!0;function P0e(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=Zq,e.componentWillReceiveProps=Jq),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=Yq;var o=e.componentDidUpdate;e.componentDidUpdate=function(f,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;o.call(this,f,h,m)}}return t}const I0e=Object.freeze(Object.defineProperty({__proto__:null,polyfill:P0e},Symbol.toStringTag,{value:"Module"})),L0e=K$(I0e);var f4;function M0e(){if(f4)return Ju;f4=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.bodyOpenClassName=Ju.portalClassName=void 0;var t=Object.assign||function(J){for(var le=1;le<arguments.length;le++){var Y=arguments[le];for(var se in Y)Object.prototype.hasOwnProperty.call(Y,se)&&(J[se]=Y[se])}return J},e=function(){function J(le,Y){for(var se=0;se<Y.length;se++){var me=Y[se];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(le,me.key,me)}}return function(le,Y,se){return Y&&J(le.prototype,Y),se&&J(le,se),le}}(),n=Md(),r=E(n),i=hA(),a=E(i),s=Z8(),o=E(s),l=O0e(),f=E(l),h=Wq(),p=x(h),m=OR(),y=E(m),_=L0e;function x(J){if(J&&J.__esModule)return J;var le={};if(J!=null)for(var Y in J)Object.prototype.hasOwnProperty.call(J,Y)&&(le[Y]=J[Y]);return le.default=J,le}function E(J){return J&&J.__esModule?J:{default:J}}function S(J,le){if(!(J instanceof le))throw new TypeError("Cannot call a class as a function")}function b(J,le){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:J}function A(J,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);J.prototype=Object.create(le&&le.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(J,le):J.__proto__=le)}var k=Ju.portalClassName="ReactModalPortal",M=Ju.bodyOpenClassName="ReactModal__Body--open",I=m.canUseDOM&&a.default.createPortal!==void 0,F=function(le){return document.createElement(le)},B=function(){return I?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function ee(J){return J()}var U=function(J){A(le,J);function le(){var Y,se,me,ve;S(this,le);for(var fe=arguments.length,ue=Array(fe),Oe=0;Oe<fe;Oe++)ue[Oe]=arguments[Oe];return ve=(se=(me=b(this,(Y=le.__proto__||Object.getPrototypeOf(le)).call.apply(Y,[this].concat(ue))),me),me.removePortal=function(){!I&&a.default.unmountComponentAtNode(me.node);var D=ee(me.props.parentSelector);D&&D.contains(me.node)?D.removeChild(me.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},me.portalRef=function(D){me.portal=D},me.renderPortal=function(D){var X=B(),ce=X(me,r.default.createElement(f.default,t({defaultStyles:le.defaultStyles},D)),me.node);me.portalRef(ce)},se),b(me,ve)}return e(le,[{key:"componentDidMount",value:function(){if(m.canUseDOM){I||(this.node=F("div")),this.node.className=this.props.portalClassName;var se=ee(this.props.parentSelector);se.appendChild(this.node),!I&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(se){var me=ee(se.parentSelector),ve=ee(this.props.parentSelector);return{prevParent:me,nextParent:ve}}},{key:"componentDidUpdate",value:function(se,me,ve){if(m.canUseDOM){var fe=this.props,ue=fe.isOpen,Oe=fe.portalClassName;se.portalClassName!==Oe&&(this.node.className=Oe);var D=ve.prevParent,X=ve.nextParent;X!==D&&(D.removeChild(this.node),X.appendChild(this.node)),!(!se.isOpen&&!ue)&&!I&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var se=this.portal.state,me=Date.now(),ve=se.isOpen&&this.props.closeTimeoutMS&&(se.closesAt||me+this.props.closeTimeoutMS);ve?(se.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,ve-me)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!I)return null;!this.node&&I&&(this.node=F("div"));var se=B();return se(r.default.createElement(f.default,t({ref:this.portalRef,defaultStyles:le.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(se){p.setElement(se)}}]),le}(n.Component);return U.propTypes={isOpen:o.default.bool.isRequired,style:o.default.shape({content:o.default.object,overlay:o.default.object}),portalClassName:o.default.string,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,className:o.default.oneOfType([o.default.string,o.default.shape({base:o.default.string.isRequired,afterOpen:o.default.string.isRequired,beforeClose:o.default.string.isRequired})]),overlayClassName:o.default.oneOfType([o.default.string,o.default.shape({base:o.default.string.isRequired,afterOpen:o.default.string.isRequired,beforeClose:o.default.string.isRequired})]),appElement:o.default.oneOfType([o.default.instanceOf(y.default),o.default.instanceOf(m.SafeHTMLCollection),o.default.instanceOf(m.SafeNodeList),o.default.arrayOf(o.default.instanceOf(y.default))]),onAfterOpen:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,ariaHideApp:o.default.bool,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,parentSelector:o.default.func,aria:o.default.object,data:o.default.object,role:o.default.string,contentLabel:o.default.string,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func},U.defaultProps={isOpen:!1,portalClassName:k,bodyOpenClassName:M,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(le,Y){return r.default.createElement("div",le,Y)},contentElement:function(le,Y){return r.default.createElement("div",le,Y)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,_.polyfill)(U),Ju.default=U,Ju}var d4;function k0e(){return d4||(d4=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=M0e(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,t.exports=e.default}(dv,dv.exports)),dv.exports}var D0e=k0e();const bm=Ur(D0e),N0e="_container_1o5u3_1",F0e="_content_1o5u3_18",j0e="_podOptions_1o5u3_18",$0e="_tabs_1o5u3_18",U0e="_tabContent_1o5u3_38",B0e="_footer_1o5u3_41",q0e="_email_1o5u3_41",dc={container:N0e,content:F0e,podOptions:j0e,tabs:$0e,tabContent:U0e,footer:B0e,email:q0e},fT=({issuer:t,registration:e,children:n})=>{const r=sm();return ge.jsx(Ice,{secondary:!0,href:e,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(q_.setLastSelectedIssuer(t))},"data-cy":"pod-provider-signup-link",children:n??new URL(t).hostname})},H0e=()=>{const{oidcIssuers:t,communityId:e}=Vn(),r=pu(e).name||"SolidCouch";return ae.useMemo(()=>[{id:"show-options",label:"Show me some providers!",content:ge.jsxs(ge.Fragment,{children:["Here are some Pod providers that work with ",r,":",ge.jsx("ul",{children:t.filter(a=>a.registration).map(a=>ge.jsx("li",{children:ge.jsx(fT,{...a})},a.issuer))})]})},{id:"choose-for-me",label:"Choose for me!",content:ge.jsxs(ge.Fragment,{children:[ge.jsx(fT,{...t.find(a=>a.recommended),children:"Get a Pod at solidcommunity.net 😉"}),ge.jsx("br",{}),"It is managed by the Solid community folks, and will be migrated to a"," ",ge.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer",children:"modern and open-source Solid server"}),"."]})},{id:"more-control",label:"I want more control",content:ge.jsxs(ge.Fragment,{children:[ge.jsxs("p",{children:["You can ",ge.jsx("b",{children:"host your Pod"}),". This will give you full control over your data. However, it's more complicated to set up, and requires maintenance. We recommend"," ",ge.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer",children:"Community Solid Server"}),"."]}),ge.jsx("p",{children:ge.jsxs("i",{children:["Read more about"," ",ge.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer",children:"running your own Solid server"}),"."]})}),ge.jsx("hr",{}),ge.jsxs("p",{children:["If you own a ",ge.jsx("b",{children:"domain name"}),", you can have your"," ",ge.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer",children:"WebID"})," ","on your domain. This gives you more control over your Solid identity."]}),ge.jsxs("p",{children:["Choose option ",ge.jsx("i",{children:'"Use my existing WebID to access my Pod"'})," with one of these providers:"]}),ge.jsx("ul",{children:t.filter(({server:a,registration:s})=>s&&a==="CSS").map(a=>ge.jsx("li",{children:ge.jsx(fT,{...a})},a.issuer))}),ge.jsx("p",{children:"To complete the process, you must prove that the WebID on your domain belongs to you. Afterwards, the WebID must point to your Profile Document. (This may need more explanation.)"}),ge.jsx("p",{children:"Or use your domain to host your own Solid Pod."})]})}],[r,t])},z0e=()=>{var f;const[t,e]=ae.useState(!1),[n,r]=ae.useState(),{communityId:i}=Vn(),s=pu(i).name||"SolidCouch",o=h=>{r(h.target.value)},l=H0e();return ge.jsxs(ge.Fragment,{children:[ge.jsx(Kr,{primary:!0,onClick:()=>e(!0),children:"Join"}),ge.jsx(bm,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>e(!1),children:ge.jsxs("div",{className:dc.container,children:[ge.jsxs("div",{className:dc.content,children:["To join ",s,", you need a"," ",ge.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer",children:"Solid Pod"}),".",ge.jsxs("div",{className:dc.podOptions,children:[ge.jsx("div",{className:dc.tabs,children:l.map(h=>ge.jsxs(ae.Fragment,{children:[ge.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:o}),ge.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),ge.jsx("div",{className:dc.tabContent,children:ge.jsx("p",{children:(f=l.find(h=>h.id===n))==null?void 0:f.content})})]})]}),ge.jsxs("div",{className:dc.footer,children:["Do you have troubles joining?"," ",ge.jsx("a",{href:"https://matrix.to/#/#ohn:matrix.org",target:"_blank",rel:"noopener noreferrer",children:"Ask for help in our project spaces"})," ","or write us email to"," ",ge.jsx("i",{className:dc.email,children:'"support at solidcouch dot org"'})]})]})})]})},V0e=async t=>{const{data:e}=await V8(t);return Zn.createLdoDataset(e).usingType(O8).fromSubject(t).oidcIssuer.flatMap(r=>r["@id"]??[])},K0e=async t=>{try{const e=await V0e(t);if(e.length===0)throw new Error("OIDC issuer not found");return e[0]}catch{return t}},G0e=(t,e)=>{var r;const n=new URL(t);return(r=e.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},Xq=t=>{const e=t.trim();return e.startsWith("http")?e:`https://${e}`},W0e=(t,e)=>{const n=Xq(t);return G0e(n,e)??n},Q0e=async(t,e)=>{const n=Xq(t),r=await K0e(n);return W0e(r,e)??r};var Sm=t=>t.type==="checkbox",ed=t=>t instanceof Date,ia=t=>t==null;const eH=t=>typeof t=="object";var ui=t=>!ia(t)&&!Array.isArray(t)&&eH(t)&&!ed(t),tH=t=>ui(t)&&t.target?Sm(t.target)?t.target.checked:t.target.value:t,Z0e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,nH=(t,e)=>t.has(Z0e(e)),xm=t=>Array.isArray(t)?t.filter(Boolean):[],ei=t=>t===void 0,$t=(t,e,n)=>{if(!e||!ui(t))return n;const r=xm(e.split(/[,[\].]+?/)).reduce((i,a)=>ia(i)?i:i[a],t);return ei(r)||r===t?ei(t[e])?n:t[e]:r};const Y_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ps={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ko={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},J0e=Gt.createContext(null),PR=()=>Gt.useContext(J0e);var rH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Ps.all&&(e._proxyFormState[s]=!r||Ps.all),n&&(n[s]=!0),t[s]}});return i},os=t=>ui(t)&&!Object.keys(t).length,iH=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return os(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!r||Ps.all))},x_=t=>Array.isArray(t)?t:[t],aH=(t,e,n)=>n&&e?t===e:!t||!e||t===e||x_(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function IR(t){const e=Gt.useRef(t);e.current=t,Gt.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Y0e(t){const e=PR(),{control:n=e.control,disabled:r,name:i,exact:a}=t,[s,o]=Gt.useState(n._formState),l=Gt.useRef(!0),f=Gt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Gt.useRef(i);return h.current=i,IR({disabled:r,next:p=>l.current&&aH(h.current,p.name,a)&&iH(p,f.current,n._updateFormState)&&o({...n._formState,...p}),subject:n._subjects.state}),Gt.useEffect(()=>{l.current=!0;const p=n._proxyFormState.isDirty&&n._getDirty();return p!==n._formState.isDirty&&n._subjects.state.next({isDirty:p}),f.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),rH(s,n,f.current,!1)}var so=t=>typeof t=="string",sH=(t,e,n,r,i)=>so(t)?(r&&e.watch.add(t),$t(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),$t(n,a))):(r&&(e.watchAll=!0),n),X0e=t=>{const e=t.constructor&&t.constructor.prototype;return ui(e)&&e.hasOwnProperty("isPrototypeOf")},LR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rl(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(LR&&(t instanceof Blob||t instanceof FileList))&&(n||ui(t)))if(e=n?[]:{},!Array.isArray(t)&&!X0e(t))e=t;else for(const r in t)e[r]=rl(t[r]);else return t;return e}function ewe(t){const e=PR(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:s}=t,o=Gt.useRef(r);o.current=r,IR({disabled:a,subject:n._subjects.watch,next:h=>{aH(o.current,h.name,s)&&f(rl(sH(o.current,n._names,h.values||n._formValues,!1,i)))}});const[l,f]=Gt.useState(n._getWatch(r,i));return Gt.useEffect(()=>n._removeUnmounted()),l}function twe(t){const e=PR(),{name:n,control:r=e.control,shouldUnregister:i}=t,a=nH(r._names.array,n),s=ewe({control:r,name:n,defaultValue:$t(r._formValues,n,$t(r._defaultValues,n,t.defaultValue)),exact:!0}),o=Y0e({control:r,name:n}),l=Gt.useRef(r.register(n,{...t.rules,value:s}));return Gt.useEffect(()=>{const f=(h,p)=>{const m=$t(r._fields,h);m&&(m._f.mount=p)};return f(n,!0),()=>{const h=r._options.shouldUnregister||i;(a?h&&!r._stateFlags.action:h)?r.unregister(n):f(n,!1)}},[n,r,a,i]),{field:{name:n,value:s,onChange:Gt.useCallback(f=>l.current.onChange({target:{value:tH(f),name:n},type:Y_.CHANGE}),[n]),onBlur:Gt.useCallback(()=>l.current.onBlur({target:{value:$t(r._formValues,n),name:n},type:Y_.BLUR}),[n,r]),ref:f=>{const h=$t(r._fields,n);h&&f&&(h._f.ref={focus:()=>f.focus(),select:()=>f.select(),setCustomValidity:p=>f.setCustomValidity(p),reportValidity:()=>f.reportValidity()})}},formState:o,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$t(o.errors,n)},isDirty:{enumerable:!0,get:()=>!!$t(o.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$t(o.touchedFields,n)},error:{enumerable:!0,get:()=>$t(o.errors,n)}})}}const nwe=t=>t.render(twe(t));var oH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},MR=t=>/^\w*$/.test(t),uH=t=>xm(t.replace(/["|']|\]/g,"").split(/\.|\[/));function mr(t,e,n){let r=-1;const i=MR(e)?[e]:uH(e),a=i.length,s=a-1;for(;++r<a;){const o=i[r];let l=n;if(r!==s){const f=t[o];l=ui(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}t[o]=l,t=t[o]}return t}const KC=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=$t(t,r);if(i){const{_f:a,...s}=i;if(a&&e(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else ui(s)&&KC(s,e)}}};var h4=t=>({isOnSubmit:!t||t===Ps.onSubmit,isOnBlur:t===Ps.onBlur,isOnChange:t===Ps.onChange,isOnAll:t===Ps.all,isOnTouch:t===Ps.onTouched}),p4=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),rwe=(t,e,n)=>{const r=xm($t(t,n));return mr(r,"root",e[n]),mr(t,n,r),t},sd=t=>typeof t=="boolean",kR=t=>t.type==="file",od=t=>typeof t=="function",X_=t=>{if(!LR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},E_=t=>so(t)||Gt.isValidElement(t),DR=t=>t.type==="radio",e0=t=>t instanceof RegExp;const g4={value:!1,isValid:!1},m4={value:!0,isValid:!0};var lH=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ei(t[0].attributes.value)?ei(t[0].value)||t[0].value===""?m4:{value:t[0].value,isValid:!0}:m4:g4}return g4};const y4={isValid:!1,value:null};var cH=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,y4):y4;function v4(t,e,n="validate"){if(E_(t)||Array.isArray(t)&&t.every(E_)||sd(t)&&!t)return{type:n,message:E_(t)?t:"",ref:e}}var Vf=t=>ui(t)&&!e0(t)?t:{value:t,message:""},_4=async(t,e,n,r,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:f,min:h,max:p,pattern:m,validate:y,name:_,valueAsNumber:x,mount:E,disabled:S}=t._f,b=$t(e,_);if(!E||S)return{};const A=s?s[0]:a,k=le=>{r&&A.reportValidity&&(A.setCustomValidity(sd(le)?"":le||""),A.reportValidity())},M={},I=DR(a),F=Sm(a),B=I||F,ee=(x||kR(a))&&ei(a.value)&&ei(b)||X_(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,U=oH.bind(null,_,n,M),J=(le,Y,se,me=Ko.maxLength,ve=Ko.minLength)=>{const fe=le?Y:se;M[_]={type:le?me:ve,message:fe,ref:a,...U(le?me:ve,fe)}};if(i?!Array.isArray(b)||!b.length:o&&(!B&&(ee||ia(b))||sd(b)&&!b||F&&!lH(s).isValid||I&&!cH(s).isValid)){const{value:le,message:Y}=E_(o)?{value:!!o,message:o}:Vf(o);if(le&&(M[_]={type:Ko.required,message:Y,ref:A,...U(Ko.required,Y)},!n))return k(Y),M}if(!ee&&(!ia(h)||!ia(p))){let le,Y;const se=Vf(p),me=Vf(h);if(!ia(b)&&!isNaN(b)){const ve=a.valueAsNumber||b&&+b;ia(se.value)||(le=ve>se.value),ia(me.value)||(Y=ve<me.value)}else{const ve=a.valueAsDate||new Date(b),fe=D=>new Date(new Date().toDateString()+" "+D),ue=a.type=="time",Oe=a.type=="week";so(se.value)&&b&&(le=ue?fe(b)>fe(se.value):Oe?b>se.value:ve>new Date(se.value)),so(me.value)&&b&&(Y=ue?fe(b)<fe(me.value):Oe?b<me.value:ve<new Date(me.value))}if((le||Y)&&(J(!!le,se.message,me.message,Ko.max,Ko.min),!n))return k(M[_].message),M}if((l||f)&&!ee&&(so(b)||i&&Array.isArray(b))){const le=Vf(l),Y=Vf(f),se=!ia(le.value)&&b.length>le.value,me=!ia(Y.value)&&b.length<Y.value;if((se||me)&&(J(se,le.message,Y.message),!n))return k(M[_].message),M}if(m&&!ee&&so(b)){const{value:le,message:Y}=Vf(m);if(e0(le)&&!b.match(le)&&(M[_]={type:Ko.pattern,message:Y,ref:a,...U(Ko.pattern,Y)},!n))return k(Y),M}if(y){if(od(y)){const le=await y(b,e),Y=v4(le,A);if(Y&&(M[_]={...Y,...U(Ko.validate,Y.message)},!n))return k(Y.message),M}else if(ui(y)){let le={};for(const Y in y){if(!os(le)&&!n)break;const se=v4(await y[Y](b,e),A,Y);se&&(le={...se,...U(Y,se.message)},k(se.message),n&&(M[_]=le))}if(!os(le)&&(M[_]={ref:A,...le},!n))return M}}return k(!0),M};function iwe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ei(t)?r++:t[e[r++]];return t}function awe(t){for(const e in t)if(!ei(t[e]))return!1;return!0}function Ci(t,e){const n=Array.isArray(e)?e:MR(e)?[e]:uH(e),r=n.length===1?t:iwe(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(ui(r)&&os(r)||Array.isArray(r)&&awe(r))&&Ci(t,n.slice(0,-1)),t}function dT(){let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}}var t0=t=>ia(t)||!eH(t);function Tc(t,e){if(t0(t)||t0(e))return t===e;if(ed(t)&&ed(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(ed(a)&&ed(s)||ui(a)&&ui(s)||Array.isArray(a)&&Array.isArray(s)?!Tc(a,s):a!==s)return!1}}return!0}var fH=t=>t.type==="select-multiple",swe=t=>DR(t)||Sm(t),hT=t=>X_(t)&&t.isConnected,dH=t=>{for(const e in t)if(od(t[e]))return!0;return!1};function n0(t,e={}){const n=Array.isArray(t);if(ui(t)||n)for(const r in t)Array.isArray(t[r])||ui(t[r])&&!dH(t[r])?(e[r]=Array.isArray(t[r])?[]:{},n0(t[r],e[r])):ia(t[r])||(e[r]=!0);return e}function hH(t,e,n){const r=Array.isArray(t);if(ui(t)||r)for(const i in t)Array.isArray(t[i])||ui(t[i])&&!dH(t[i])?ei(e)||t0(n[i])?n[i]=Array.isArray(t[i])?n0(t[i],[]):{...n0(t[i])}:hH(t[i],ia(e)?{}:e[i],n[i]):Tc(t[i],e[i])?delete n[i]:n[i]=!0;return n}var pT=(t,e)=>hH(t,e,n0(e)),pH=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ei(t)?t:e?t===""?NaN:t&&+t:n&&so(t)?new Date(t):r?r(t):t;function gT(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return kR(e)?e.files:DR(e)?cH(t.refs).value:fH(e)?[...e.selectedOptions].map(({value:n})=>n):Sm(e)?lH(t.refs).value:pH(ei(e.value)?t.ref.value:e.value,t)}var owe=(t,e,n,r)=>{const i={};for(const a of t){const s=$t(e,a);s&&mr(i,a,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Wp=t=>ei(t)?t:e0(t)?t.source:ui(t)?e0(t.value)?t.value.source:t.value:t,uwe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function w4(t,e,n){const r=$t(t,n);if(r||MR(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=$t(e,a),o=$t(t,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:n}}var lwe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,cwe=(t,e)=>!xm($t(t,e)).length&&Ci(t,e);const fwe={mode:Ps.onSubmit,reValidateMode:Ps.onChange,shouldFocusError:!0};function dwe(t={},e){let n={...fwe,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},s=ui(n.defaultValues)||ui(n.values)?rl(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:rl(s),l={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:dT(),array:dT(),state:dT()},_=h4(n.mode),x=h4(n.reValidateMode),E=n.criteriaMode===Ps.all,S=W=>pe=>{clearTimeout(p),p=window.setTimeout(W,pe)},b=async W=>{if(m.isValid||W){const pe=n.resolver?os((await ee()).errors):await J(a,!0);pe!==i.isValid&&y.state.next({isValid:pe})}},A=W=>m.isValidating&&y.state.next({isValidating:W}),k=(W,pe=[],ye,ze,Ce=!0,Fe=!0)=>{if(ze&&ye){if(l.action=!0,Fe&&Array.isArray($t(a,W))){const tt=ye($t(a,W),ze.argA,ze.argB);Ce&&mr(a,W,tt)}if(Fe&&Array.isArray($t(i.errors,W))){const tt=ye($t(i.errors,W),ze.argA,ze.argB);Ce&&mr(i.errors,W,tt),cwe(i.errors,W)}if(m.touchedFields&&Fe&&Array.isArray($t(i.touchedFields,W))){const tt=ye($t(i.touchedFields,W),ze.argA,ze.argB);Ce&&mr(i.touchedFields,W,tt)}m.dirtyFields&&(i.dirtyFields=pT(s,o)),y.state.next({name:W,isDirty:Y(W,pe),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else mr(o,W,pe)},M=(W,pe)=>{mr(i.errors,W,pe),y.state.next({errors:i.errors})},I=(W,pe,ye,ze)=>{const Ce=$t(a,W);if(Ce){const Fe=$t(o,W,ei(ye)?$t(s,W):ye);ei(Fe)||ze&&ze.defaultChecked||pe?mr(o,W,pe?Fe:gT(Ce._f)):ve(W,Fe),l.mount&&b()}},F=(W,pe,ye,ze,Ce)=>{let Fe=!1,tt=!1;const nt={name:W};if(!ye||ze){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=Y(),Fe=tt!==nt.isDirty);const gt=Tc($t(s,W),pe);tt=$t(i.dirtyFields,W),gt?Ci(i.dirtyFields,W):mr(i.dirtyFields,W,!0),nt.dirtyFields=i.dirtyFields,Fe=Fe||m.dirtyFields&&tt!==!gt}if(ye){const gt=$t(i.touchedFields,W);gt||(mr(i.touchedFields,W,ye),nt.touchedFields=i.touchedFields,Fe=Fe||m.touchedFields&&gt!==ye)}return Fe&&Ce&&y.state.next(nt),Fe?nt:{}},B=(W,pe,ye,ze)=>{const Ce=$t(i.errors,W),Fe=m.isValid&&sd(pe)&&i.isValid!==pe;if(t.delayError&&ye?(h=S(()=>M(W,ye)),h(t.delayError)):(clearTimeout(p),h=null,ye?mr(i.errors,W,ye):Ci(i.errors,W)),(ye?!Tc(Ce,ye):Ce)||!os(ze)||Fe){const tt={...ze,...Fe&&sd(pe)?{isValid:pe}:{},errors:i.errors,name:W};i={...i,...tt},y.state.next(tt)}A(!1)},ee=async W=>await n.resolver(o,n.context,owe(W||f.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),U=async W=>{const{errors:pe}=await ee();if(W)for(const ye of W){const ze=$t(pe,ye);ze?mr(i.errors,ye,ze):Ci(i.errors,ye)}else i.errors=pe;return pe},J=async(W,pe,ye={valid:!0})=>{for(const ze in W){const Ce=W[ze];if(Ce){const{_f:Fe,...tt}=Ce;if(Fe){const nt=f.array.has(Fe.name),gt=await _4(Ce,o,E,n.shouldUseNativeValidation,nt);if(gt[Fe.name]&&(ye.valid=!1,pe))break;!pe&&($t(gt,Fe.name)?nt?rwe(i.errors,gt,Fe.name):mr(i.errors,Fe.name,gt[Fe.name]):Ci(i.errors,Fe.name))}tt&&await J(tt,pe,ye)}}return ye.valid},le=()=>{for(const W of f.unMount){const pe=$t(a,W);pe&&(pe._f.refs?pe._f.refs.every(ye=>!hT(ye)):!hT(pe._f.ref))&&xe(W)}f.unMount=new Set},Y=(W,pe)=>(W&&pe&&mr(o,W,pe),!Tc(X(),s)),se=(W,pe,ye)=>sH(W,f,{...l.mount?o:ei(pe)?s:so(W)?{[W]:pe}:pe},ye,pe),me=W=>xm($t(l.mount?o:s,W,t.shouldUnregister?$t(s,W,[]):[])),ve=(W,pe,ye={})=>{const ze=$t(a,W);let Ce=pe;if(ze){const Fe=ze._f;Fe&&(!Fe.disabled&&mr(o,W,pH(pe,Fe)),Ce=X_(Fe.ref)&&ia(pe)?"":pe,fH(Fe.ref)?[...Fe.ref.options].forEach(tt=>tt.selected=Ce.includes(tt.value)):Fe.refs?Sm(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Ce)?!!Ce.find(nt=>nt===tt.value):Ce===tt.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!Ce):Fe.refs.forEach(tt=>tt.checked=tt.value===Ce):kR(Fe.ref)?Fe.ref.value="":(Fe.ref.value=Ce,Fe.ref.type||y.watch.next({name:W})))}(ye.shouldDirty||ye.shouldTouch)&&F(W,Ce,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&D(W)},fe=(W,pe,ye)=>{for(const ze in pe){const Ce=pe[ze],Fe=`${W}.${ze}`,tt=$t(a,Fe);(f.array.has(W)||!t0(Ce)||tt&&!tt._f)&&!ed(Ce)?fe(Fe,Ce,ye):ve(Fe,Ce,ye)}},ue=(W,pe,ye={})=>{const ze=$t(a,W),Ce=f.array.has(W),Fe=rl(pe);mr(o,W,Fe),Ce?(y.array.next({name:W,values:o}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:W,dirtyFields:pT(s,o),isDirty:Y(W,Fe)})):ze&&!ze._f&&!ia(Fe)?fe(W,Fe,ye):ve(W,Fe,ye),p4(W,f)&&y.state.next({}),y.watch.next({name:W}),!l.mount&&e()},Oe=async W=>{const pe=W.target;let ye=pe.name;const ze=$t(a,ye),Ce=()=>pe.type?gT(ze._f):tH(W);if(ze){let Fe,tt;const nt=Ce(),gt=W.type===Y_.BLUR||W.type===Y_.FOCUS_OUT,Ut=!uwe(ze._f)&&!n.resolver&&!$t(i.errors,ye)&&!ze._f.deps||lwe(gt,$t(i.touchedFields,ye),i.isSubmitted,x,_),Se=p4(ye,f,gt);mr(o,ye,nt),gt?(ze._f.onBlur&&ze._f.onBlur(W),h&&h(0)):ze._f.onChange&&ze._f.onChange(W);const Be=F(ye,nt,gt,!1),te=!os(Be)||Se;if(!gt&&y.watch.next({name:ye,type:W.type}),Ut)return m.isValid&&b(),te&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:H}=await ee([ye]),G=w4(i.errors,a,ye),K=w4(H,a,G.name||ye);Fe=K.error,ye=K.name,tt=os(H)}else Fe=(await _4(ze,o,E,n.shouldUseNativeValidation))[ye],Fe?tt=!1:m.isValid&&(tt=await J(a,!0));ze._f.deps&&D(ze._f.deps),B(ye,tt,Fe,Be)}},D=async(W,pe={})=>{let ye,ze;const Ce=x_(W);if(A(!0),n.resolver){const Fe=await U(ei(W)?W:Ce);ye=os(Fe),ze=W?!Ce.some(tt=>$t(Fe,tt)):ye}else W?(ze=(await Promise.all(Ce.map(async Fe=>{const tt=$t(a,Fe);return await J(tt&&tt._f?{[Fe]:tt}:tt)}))).every(Boolean),!(!ze&&!i.isValid)&&b()):ze=ye=await J(a);return y.state.next({...!so(W)||m.isValid&&ye!==i.isValid?{}:{name:W},...n.resolver||!W?{isValid:ye}:{},errors:i.errors,isValidating:!1}),pe.shouldFocus&&!ze&&KC(a,Fe=>Fe&&$t(i.errors,Fe),W?Ce:f.mount),ze},X=W=>{const pe={...s,...l.mount?o:{}};return ei(W)?pe:so(W)?$t(pe,W):W.map(ye=>$t(pe,ye))},ce=(W,pe)=>({invalid:!!$t((pe||i).errors,W),isDirty:!!$t((pe||i).dirtyFields,W),isTouched:!!$t((pe||i).touchedFields,W),error:$t((pe||i).errors,W)}),V=W=>{W&&x_(W).forEach(pe=>Ci(i.errors,pe)),y.state.next({errors:W?i.errors:{}})},Z=(W,pe,ye)=>{const ze=($t(a,W,{_f:{}})._f||{}).ref;mr(i.errors,W,{...pe,ref:ze}),y.state.next({name:W,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&ze&&ze.focus&&ze.focus()},he=(W,pe)=>od(W)?y.watch.subscribe({next:ye=>W(se(void 0,pe),ye)}):se(W,pe,!0),xe=(W,pe={})=>{for(const ye of W?x_(W):f.mount)f.mount.delete(ye),f.array.delete(ye),$t(a,ye)&&(pe.keepValue||(Ci(a,ye),Ci(o,ye)),!pe.keepError&&Ci(i.errors,ye),!pe.keepDirty&&Ci(i.dirtyFields,ye),!pe.keepTouched&&Ci(i.touchedFields,ye),!n.shouldUnregister&&!pe.keepDefaultValue&&Ci(s,ye));y.watch.next({}),y.state.next({...i,...pe.keepDirty?{isDirty:Y()}:{}}),!pe.keepIsValid&&b()},Ve=(W,pe={})=>{let ye=$t(a,W);const ze=sd(pe.disabled);return mr(a,W,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:W}},name:W,mount:!0,...pe}}),f.mount.add(W),ye?ze&&mr(o,W,pe.disabled?void 0:$t(o,W,gT(ye._f))):I(W,!0,pe.value),{...ze?{disabled:pe.disabled}:{},...n.shouldUseNativeValidation?{required:!!pe.required,min:Wp(pe.min),max:Wp(pe.max),minLength:Wp(pe.minLength),maxLength:Wp(pe.maxLength),pattern:Wp(pe.pattern)}:{},name:W,onChange:Oe,onBlur:Oe,ref:Ce=>{if(Ce){Ve(W,pe),ye=$t(a,W);const Fe=ei(Ce.value)&&Ce.querySelectorAll&&Ce.querySelectorAll("input,select,textarea")[0]||Ce,tt=swe(Fe),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Fe):Fe===ye._f.ref)return;mr(a,W,{_f:{...ye._f,...tt?{refs:[...nt.filter(hT),Fe,...Array.isArray($t(s,W))?[{}]:[]],ref:{type:Fe.type,name:W}}:{ref:Fe}}}),I(W,!1,void 0,Fe)}else ye=$t(a,W,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||pe.shouldUnregister)&&!(nH(f.array,W)&&l.action)&&f.unMount.add(W)}}},Te=()=>n.shouldFocusError&&KC(a,W=>W&&$t(i.errors,W),f.mount),Me=(W,pe)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let ze=rl(o);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Ce,values:Fe}=await ee();i.errors=Ce,ze=Fe}else await J(a);Ci(i.errors,"root"),os(i.errors)?(y.state.next({errors:{}}),await W(ze,ye)):(pe&&await pe({...i.errors},ye),Te()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:os(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Ze=(W,pe={})=>{$t(a,W)&&(ei(pe.defaultValue)?ue(W,$t(s,W)):(ue(W,pe.defaultValue),mr(s,W,pe.defaultValue)),pe.keepTouched||Ci(i.touchedFields,W),pe.keepDirty||(Ci(i.dirtyFields,W),i.isDirty=pe.defaultValue?Y(W,$t(s,W)):Y()),pe.keepError||(Ci(i.errors,W),m.isValid&&b()),y.state.next({...i}))},ie=(W,pe={})=>{const ye=W||s,ze=rl(ye),Ce=W&&!os(W)?ze:s;if(pe.keepDefaultValues||(s=ye),!pe.keepValues){if(pe.keepDirtyValues||r)for(const Fe of f.mount)$t(i.dirtyFields,Fe)?mr(Ce,Fe,$t(o,Fe)):ue(Fe,$t(Ce,Fe));else{if(LR&&ei(W))for(const Fe of f.mount){const tt=$t(a,Fe);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(X_(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}o=t.shouldUnregister?pe.keepDefaultValues?rl(s):{}:ze,y.array.next({values:Ce}),y.watch.next({values:Ce})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!m.isValid||!!pe.keepIsValid,l.watch=!!t.shouldUnregister,y.state.next({submitCount:pe.keepSubmitCount?i.submitCount:0,isDirty:pe.keepDirty||pe.keepDirtyValues?i.isDirty:!!(pe.keepDefaultValues&&!Tc(W,s)),isSubmitted:pe.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:pe.keepDirty||pe.keepDirtyValues?i.dirtyFields:pe.keepDefaultValues&&W?pT(s,W):{},touchedFields:pe.keepTouched?i.touchedFields:{},errors:pe.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=(W,pe)=>ie(od(W)?W(o):W,pe),$=(W,pe={})=>{const ye=$t(a,W),ze=ye&&ye._f;if(ze){const Ce=ze.refs?ze.refs[0]:ze.ref;Ce.focus&&(Ce.focus(),pe.shouldSelect&&Ce.select())}},re=W=>{i={...i,...W}};return od(n.defaultValues)&&n.defaultValues().then(W=>{z(W,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Ve,unregister:xe,getFieldState:ce,_executeSchema:ee,_focusError:Te,_getWatch:se,_getDirty:Y,_updateValid:b,_removeUnmounted:le,_updateFieldArray:k,_getFieldArray:me,_reset:ie,_updateFormState:re,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return o},get _stateFlags(){return l},set _stateFlags(W){l=W},get _defaultValues(){return s},get _names(){return f},set _names(W){f=W},get _formState(){return i},set _formState(W){i=W},get _options(){return n},set _options(W){n={...n,...W}}},trigger:D,register:Ve,handleSubmit:Me,watch:he,setValue:ue,getValues:X,reset:z,resetField:Ze,clearErrors:V,unregister:xe,setError:Z,setFocus:$,getFieldState:ce}}function Em(t={}){const e=Gt.useRef(),[n,r]=Gt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:od(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...dwe(t,()=>r(a=>({...a}))),formState:n});const i=e.current.control;return i._options=t,IR({subject:i._subjects.state,next:a=>{iH(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Gt.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Gt.useEffect(()=>{t.values&&!Tc(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Gt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=rH(n,i),e.current}const hwe="_providers_kq9gh_1",pwe="_webIdForm_kq9gh_6",b4={providers:hwe,webIdForm:pwe};bm.setAppElement("#root");const gwe=()=>{const{oidcIssuers:t,communityId:e}=Vn(),[n,r]=ae.useState(!1),[i,a]=ae.useState(!1),s=Wc(VU),o=t.some(_=>_.issuer===s),{register:l,handleSubmit:f}=Em({defaultValues:{webIdOrIssuer:o?"":s}}),h=sm(),p=pu(e),m=async _=>{const x=s??"";h(q_.setLastSelectedIssuer(_));try{await TZ({oidcIssuer:_,redirectUrl:new URL("/",window.location.href).toString(),clientName:p.name||"SolidCouch",clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(E){h(q_.setLastSelectedIssuer(x)),E instanceof TypeError?alert(`We didn't succeed with redirecting to the issuer at ${_}.
Have you provided correct webId or OIDCIssuer? Or is it down?

Reason: ${E.message}

Error: ${E.toString()}`):alert(`Something went wrong.
Error: ${E}`)}},y=f(async({webIdOrIssuer:_})=>{try{const x=await Q0e(_,t);await m(x)}catch(x){alert(`Something went wrong.
Error: ${x}`)}});return ge.jsxs(ge.Fragment,{children:[ge.jsx(Kr,{secondary:!0,onClick:()=>r(!0),children:"Sign in"}),ge.jsx(bm,{isOpen:n,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>r(!1),children:ge.jsxs("div",{className:b4.providers,children:["Select your Solid identity provider",s&&ge.jsx(Kr,{primary:!0,onClick:()=>m(s),"data-cy":"pod-provider-button",children:s.split("/").slice(2).filter(_=>_).join("/")}),t.filter(_=>_.issuer!==s).filter(_=>_.featured||i).map(({issuer:_})=>ge.jsx(Kr,{secondary:!0,onClick:()=>m(_),children:new URL(_).hostname},_)),!i&&ge.jsx(Kr,{tertiary:!0,onClick:()=>a(!0),children:"more"}),"or write your own Solid identity provider, or your webId",ge.jsxs("form",{className:b4.webIdForm,onSubmit:y,children:[ge.jsx("input",{type:"text",placeholder:"Your webId or provider",...l("webIdOrIssuer",{required:"required"})}),ge.jsx(Kr,{primary:!0,type:"submit",children:"Continue"})]})]})})]})},mwe="_wrapper_1kkei_1",ywe="_mainDescription_1kkei_10",vwe="_pun_1kkei_16",_we="_actions_1kkei_20",wwe="_logo_1kkei_30",bwe="_spacer_1kkei_35",Swe="_footer_1kkei_38",xwe="_footerInfo_1kkei_41",Ewe="_attribution_1kkei_47",Go={wrapper:mwe,mainDescription:ywe,pun:vwe,actions:_we,logo:wwe,spacer:bwe,footer:Swe,footerInfo:xwe,attribution:Ewe},Twe=()=>{const{communityId:t}=Vn(),e=pu(t),n=ae.useMemo(()=>ge.jsx(lB,{className:Go.logo,logo:e.logo[0],focusedLogo:e.logo[1]}),[e.logo]),r=ae.useMemo(()=>e.pun?ge.jsx("section",{className:Go.pun,children:e.pun}):void 0,[e.pun]),i=ae.useMemo(()=>e.about?ge.jsx("section",{className:Go.mainDescription,children:e.about}):null,[e.about]),a=r?ge.jsxs(ge.Fragment,{children:[r,n,i]}):ge.jsxs(ge.Fragment,{children:[i,n]});return ge.jsxs("div",{className:Go.wrapper,children:[a,ge.jsxs("section",{className:Go.actions,children:[ge.jsx(z0e,{}),ge.jsx(gwe,{})]}),ge.jsx("div",{className:Go.spacer}),ge.jsxs("footer",{className:Go.footer,children:[ge.jsx("div",{className:Go.footerInfo,children:"WIP"}),ge.jsxs("div",{className:Go.attribution,children:["Powered by ",ge.jsx("a",{href:"https://github.com/solidcouch",children:"SolidCouch"})]})]})]})},Cwe=()=>{N_e();const t=Wc(im);return t.isLoggedIn===void 0?ge.jsx(ba,{children:"Authenticating..."}):t.isLoggedIn===!1?ge.jsx(Twe,{}):ge.jsx(S0e,{})},Awe="_container_1ml33_1",Rwe={container:Awe},NR=({webId:t,link:e})=>{const{communityId:n}=Vn(),[r]=Ms(t,n),i=ge.jsxs("div",{className:Rwe.container,children:[ge.jsx(A0,{photo:r.photo,size:1}),r==null?void 0:r.name]});return e?ge.jsx(Cs,{to:`/profile/${encodeURIComponent(t)}`,children:i}):i},gH=t=>{const{quads:e,variables:n,isLoading:r}=wa(ae.useMemo(()=>({query:uhe,variables:{person:[t]},fetch}),[t])),i=ae.useMemo(()=>{const o=new co(e);return(n.otherPerson??[]).map(l=>{const f=Hd(l),h=o.getObjects(l,HA.seeAlso,f),p=o.getQuads(l,wl.knows,t,f),m=h.flatMap(y=>o.getQuads(l,wl.knows,t,y));return{webId:l,status:p.length+m.length>0?"confirmed":"request_sent"}})},[t,e,n.otherPerson]),[a,s]=Owe(t);return ae.useMemo(()=>[i.concat(a),{isLoading:r},s],[r,i,s,a])},Owe=t=>{const{quads:e,variables:n,isLoading:r}=wa(ae.useMemo(()=>({query:lhe,variables:{person:[t]},fetch}),[t])),i=ae.useMemo(()=>{const a=n.inviteNotification??[],s=Zn.createLdoDataset(e).usingType(M8);return a.map(o=>s.fromSubject(o)).filter(o=>{var l,f,h,p,m,y,_,x;return((f=(l=o.object)==null?void 0:l.subject)==null?void 0:f["@id"])===((h=o.actor)==null?void 0:h["@id"])&&((m=(p=o.object)==null?void 0:p.object)==null?void 0:m["@id"])===((y=o.target)==null?void 0:y["@id"])&&((x=(_=o.object)==null?void 0:_.relationship)==null?void 0:x["@id"])==="knows"}).map(o=>{var l;return{webId:(l=o.actor)==null?void 0:l["@id"],status:"request_received",notification:o["@id"],invitation:o.content2}})},[e,n.inviteNotification]);return ae.useMemo(()=>[i,{isLoading:r}],[i,r])},Pwe=()=>{const t=mH(),e=yH(),n=Iwe();return ae.useCallback(async({me:r,other:i,hospexContainer:a,inbox:s,message:o})=>{await t({me:r,other:i}),await n({inbox:s,me:r,other:i,message:o}),await e({person:i,hospexContainer:a})},[t,n,e])},Iwe=()=>{const t=Ls(M8);return ae.useCallback(async({inbox:e,me:n,other:r,message:i})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[t])},Lwe=()=>{const t=z0();return ae.useCallback(async({notification:e})=>{await t.mutateAsync({uri:e})},[t])},Mwe=()=>{const t=z0(),e=mH(),n=yH();return ae.useCallback(async({me:r,other:i,notification:a,hospexContainer:s})=>{await e({me:r,other:i}),await t.mutateAsync({uri:a}),await n({person:i,hospexContainer:s})},[e,t,n])},mH=()=>{const t=js();return ae.useCallback(async({me:e,other:n})=>{await t.mutateAsync({uri:e,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${e}> foaf:knows <${n}>.
          } .`})},[t])},yH=()=>{const t=Bhe(Xc);return ae.useCallback(async({person:e,hospexContainer:n})=>{const r=await El(n);await t.mutateAsync({uri:r,match:i=>{const s=i.matchSubject(lm.type,Sn.Authorization).find(o=>{var l;return o.accessTo.length===1&&o.accessTo[0]["@id"]===n&&((l=o.mode)==null?void 0:l.length)===1&&o.mode[0]["@id"]==="Read"});if(!s)throw new Error("subject not found");return s},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":e})}})},[t])},kwe="_contact_mjk3e_1",Dwe="_status_mjk3e_10",Nwe="_contactList_mjk3e_14",fg={contact:kwe,status:Dwe,contactList:Nwe},Fwe=({webId:t})=>{const e=Ui(),[n]=gH(e.webId);if(!n)return ge.jsx(ba,{children:"loading..."});const r=n.find(i=>i.webId===t);return r?r.status==="confirmed"?ge.jsx(ge.Fragment,{children:"Contact exists"}):r.status==="request_sent"?ge.jsx(ge.Fragment,{children:"Contact request sent"}):r.status==="request_received"?ge.jsx(vH,{contact:r}):null:ge.jsx(jwe,{webId:t})},vH=({contact:t,children:e})=>{const{communityId:n}=Vn(),[r,i]=ae.useState(!1),a=Ui(),s=Mwe(),o=Lwe(),l=$g(a.webId,n),f=async()=>{if(!a.webId)throw new Error("unauthenticated");const p=ri(l.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not set up (too soon?)");await s({me:a.webId,other:t.webId,notification:t.notification,hospexContainer:p}),i(!1)},h=async()=>{if(!a.webId)throw new Error("unauthenticated");await o({notification:t.notification}),i(!1)};return ge.jsxs(ge.Fragment,{children:[ge.jsx(Kr,{primary:!0,onClick:()=>i(!0),children:e??"See contact invitation"}),ge.jsxs(bm,{isOpen:r,onRequestClose:()=>i(!1),children:[ge.jsx("div",{children:t.invitation}),ge.jsx(Kr,{primary:!0,onClick:f,disabled:l.personalHospexDocuments.length===0,children:"Accept"}),ge.jsx(Kr,{secondary:!0,onClick:h,children:"Ignore"})]})]})},jwe=({webId:t})=>{const{communityId:e}=Vn(),[n,r]=ae.useState(!1),i=Ui(),a=Pwe(),s=$g(i.webId,e),o=$g(t,e),l=async({invitation:h})=>{if(!i.webId)throw new Error("unauthenticated");const p=ri(s.personalHospexDocuments[0]);if(!p)throw new Error("hospex container not found (too soon?)");const m=ri(o.inboxes[0]);if(!m)throw new Error("inbox not found (too soon?)");await a({me:i.webId,other:t,message:h,hospexContainer:p,inbox:m}),r(!1)},f=async()=>{r(!1)};return ge.jsxs(ge.Fragment,{children:[ge.jsx(Kr,{secondary:!0,onClick:()=>{r(!0)},disabled:s.personalHospexDocuments.length===0||o.inboxes.length===0,children:"Add to my contacts"}),ge.jsx(bm,{isOpen:n,onRequestClose:()=>r(!1),children:ge.jsx($we,{onSubmit:l,onCancel:f})})]})},$we=({onSubmit:t,onCancel:e})=>{const{register:n,handleSubmit:r}=Em({defaultValues:{invitation:"Hi! I'd like to add you as a contact!"}}),i=r(async a=>{await t(a)});return ge.jsxs("div",{children:[ge.jsx("h1",{children:"Add person as a contact"}),ge.jsx("div",{children:"Please invite only people you know personally."}),ge.jsxs("form",{onSubmit:i,onReset:e,children:[ge.jsx("textarea",{...n("invitation")}),ge.jsx(Kr,{primary:!0,type:"submit",children:"Send contact invitation"}),ge.jsx(Kr,{secondary:!0,type:"reset",children:"Cancel"})]})]})},Uwe=()=>{const t=vA().id,e=Ui(),[n]=gH(t);return e.webId?n?ge.jsxs("div",{children:[ge.jsxs("h1",{children:["Contacts of ",ge.jsx(NR,{webId:t,link:!0})]}),ge.jsx("ul",{className:fg.contactList,"data-cy":"contact-list",children:n.filter(r=>t===e.webId||r.status==="confirmed").map(r=>ge.jsx("li",{children:ge.jsx(Bwe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):ge.jsx(ba,{children:"fetching contacts"}):ge.jsx(ba,{children:"authenticating"})},Bwe=({contact:t})=>ge.jsxs("div",{className:fg.contact,"data-cy":"contact",children:[ge.jsx(NR,{webId:t.webId,link:!0}),ge.jsx("span",{className:fg.spacer}),t.status==="request_sent"&&ge.jsx("span",{className:fg.status,children:"pending"}),t.status==="request_received"&&ge.jsxs(ge.Fragment,{children:[ge.jsx(vH,{contact:t,children:"process"}),ge.jsx("span",{className:fg.status,children:"pending"})]})]}),oo=async(t,{success:e,error:n,pending:r},i)=>(br.promise(t,{success:e,error:n??{render:({data:a})=>ge.jsxs(ge.Fragment,{children:["Something went wrong",ge.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await t);var mT,S4;function qwe(){if(S4)return mT;S4=1;var t=Ds(),e=function(){return t.Date.now()};return mT=e,mT}var yT,x4;function Hwe(){if(x4)return yT;x4=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return yT=e,yT}var vT,E4;function zwe(){if(E4)return vT;E4=1;var t=Hwe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return vT=n,vT}var _T,T4;function Vwe(){if(T4)return _T;T4=1;var t=zwe(),e=Ns(),n=hm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=a.test(f);return p||s.test(f)?o(f.slice(2),p?2:8):i.test(f)?r:+f}return _T=l,_T}var wT,C4;function Kwe(){if(C4)return wT;C4=1;var t=Ns(),e=qwe(),n=Vwe(),r="Expected a function",i=Math.max,a=Math.min;function s(o,l,f){var h,p,m,y,_,x,E=0,S=!1,b=!1,A=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(f)&&(S=!!f.leading,b="maxWait"in f,m=b?i(n(f.maxWait)||0,l):m,A="trailing"in f?!!f.trailing:A);function k(Y){var se=h,me=p;return h=p=void 0,E=Y,y=o.apply(me,se),y}function M(Y){return E=Y,_=setTimeout(B,l),S?k(Y):y}function I(Y){var se=Y-x,me=Y-E,ve=l-se;return b?a(ve,m-me):ve}function F(Y){var se=Y-x,me=Y-E;return x===void 0||se>=l||se<0||b&&me>=m}function B(){var Y=e();if(F(Y))return ee(Y);_=setTimeout(B,I(Y))}function ee(Y){return _=void 0,A&&h?k(Y):(h=p=void 0,y)}function U(){_!==void 0&&clearTimeout(_),E=0,h=x=p=_=void 0}function J(){return _===void 0?y:ee(e())}function le(){var Y=e(),se=F(Y);if(h=arguments,p=this,x=Y,se){if(_===void 0)return M(x);if(b)return clearTimeout(_),_=setTimeout(B,l),k(x)}return _===void 0&&(_=setTimeout(B,l)),y}return le.cancel=U,le.flush=J,le}return wT=s,wT}var Gwe=Kwe();const Wwe=Ur(Gwe);function zc(t){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(t)}function Qwe(t,e){if(zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _H(t){var e=Qwe(t,"string");return zc(e)==="symbol"?e:String(e)}function dg(t,e,n){return e=_H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){dg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zwe(t){if(Array.isArray(t))return t}function Jwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){f=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wH(t,e){if(t){if(typeof t=="string")return GC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(t,e)}}function Ywe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nu(t,e){return Zwe(t)||Jwe(t,e)||wH(t,e)||Ywe()}function Xwe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function yu(t,e){if(t==null)return{};var n=Xwe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var ebe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function tbe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,s=a===void 0?null:a,o=t.inputValue,l=t.menuIsOpen,f=t.onChange,h=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,y=t.value,_=yu(t,ebe),x=ae.useState(o!==void 0?o:n),E=nu(x,2),S=E[0],b=E[1],A=ae.useState(l!==void 0?l:i),k=nu(A,2),M=k[0],I=k[1],F=ae.useState(y!==void 0?y:s),B=nu(F,2),ee=B[0],U=B[1],J=ae.useCallback(function(ue,Oe){typeof f=="function"&&f(ue,Oe),U(ue)},[f]),le=ae.useCallback(function(ue,Oe){var D;typeof h=="function"&&(D=h(ue,Oe)),b(D!==void 0?D:ue)},[h]),Y=ae.useCallback(function(){typeof m=="function"&&m(),I(!0)},[m]),se=ae.useCallback(function(){typeof p=="function"&&p(),I(!1)},[p]),me=o!==void 0?o:S,ve=l!==void 0?l:M,fe=y!==void 0?y:ee;return rn(rn({},_),{},{inputValue:me,menuIsOpen:ve,onChange:J,onInputChange:le,onMenuClose:se,onMenuOpen:Y,value:fe})}function sn(){return sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}function nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_H(r.key),r)}}function rbe(t,e,n){return R4(t.prototype,e),R4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function ibe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function abe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sbe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function obe(t,e){if(e&&(zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(t)}function ube(t){var e=abe();return function(){var r=r0(t),i;if(e){var a=r0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return obe(this,i)}}function lbe(t){if(Array.isArray(t))return GC(t)}function cbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FR(t){return lbe(t)||cbe(t)||wH(t)||fbe()}function dbe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function hbe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var pbe=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(hbe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=dbe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Di="-ms-",i0="-moz-",Gn="-webkit-",bH="comm",jR="rule",$R="decl",gbe="@import",SH="@keyframes",mbe=Math.abs,Z0=String.fromCharCode,ybe=Object.assign;function vbe(t,e){return Oi(t,0)^45?(((e<<2^Oi(t,0))<<2^Oi(t,1))<<2^Oi(t,2))<<2^Oi(t,3):0}function xH(t){return t.trim()}function _be(t,e){return(t=e.exec(t))?t[0]:t}function er(t,e,n){return t.replace(e,n)}function QC(t,e){return t.indexOf(e)}function Oi(t,e){return t.charCodeAt(e)|0}function Ug(t,e,n){return t.slice(e,n)}function no(t){return t.length}function UR(t){return t.length}function mv(t,e){return e.push(t),t}function wbe(t,e){return t.map(e).join("")}var J0=1,Pd=1,EH=0,Sa=0,ni=0,eh="";function Y0(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:J0,column:Pd,length:s,return:""}}function Qp(t,e){return ybe(Y0("",null,null,"",null,null,0),t,{length:-t.length},e)}function bbe(){return ni}function Sbe(){return ni=Sa>0?Oi(eh,--Sa):0,Pd--,ni===10&&(Pd=1,J0--),ni}function Ua(){return ni=Sa<EH?Oi(eh,Sa++):0,Pd++,ni===10&&(Pd=1,J0++),ni}function uo(){return Oi(eh,Sa)}function T_(){return Sa}function Tm(t,e){return Ug(eh,t,e)}function Bg(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TH(t){return J0=Pd=1,EH=no(eh=t),Sa=0,[]}function CH(t){return eh="",t}function C_(t){return xH(Tm(Sa-1,ZC(t===91?t+2:t===40?t+1:t)))}function xbe(t){for(;(ni=uo())&&ni<33;)Ua();return Bg(t)>2||Bg(ni)>3?"":" "}function Ebe(t,e){for(;--e&&Ua()&&!(ni<48||ni>102||ni>57&&ni<65||ni>70&&ni<97););return Tm(t,T_()+(e<6&&uo()==32&&Ua()==32))}function ZC(t){for(;Ua();)switch(ni){case t:return Sa;case 34:case 39:t!==34&&t!==39&&ZC(ni);break;case 40:t===41&&ZC(t);break;case 92:Ua();break}return Sa}function Tbe(t,e){for(;Ua()&&t+ni!==57;)if(t+ni===84&&uo()===47)break;return"/*"+Tm(e,Sa-1)+"*"+Z0(t===47?t:Ua())}function Cbe(t){for(;!Bg(uo());)Ua();return Tm(t,Sa)}function Abe(t){return CH(A_("",null,null,null,[""],t=TH(t),0,[0],t))}function A_(t,e,n,r,i,a,s,o,l){for(var f=0,h=0,p=s,m=0,y=0,_=0,x=1,E=1,S=1,b=0,A="",k=i,M=a,I=r,F=A;E;)switch(_=b,b=Ua()){case 40:if(_!=108&&Oi(F,p-1)==58){QC(F+=er(C_(b),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:F+=C_(b);break;case 9:case 10:case 13:case 32:F+=xbe(_);break;case 92:F+=Ebe(T_()-1,7);continue;case 47:switch(uo()){case 42:case 47:mv(Rbe(Tbe(Ua(),T_()),e,n),l);break;default:F+="/"}break;case 123*x:o[f++]=no(F)*S;case 125*x:case 59:case 0:switch(b){case 0:case 125:E=0;case 59+h:y>0&&no(F)-p&&mv(y>32?P4(F+";",r,n,p-1):P4(er(F," ","")+";",r,n,p-2),l);break;case 59:F+=";";default:if(mv(I=O4(F,e,n,f,h,i,o,A,k=[],M=[],p),a),b===123)if(h===0)A_(F,e,I,I,k,a,p,o,M);else switch(m===99&&Oi(F,3)===110?100:m){case 100:case 109:case 115:A_(t,I,I,r&&mv(O4(t,I,I,0,0,i,o,A,i,k=[],p),M),i,M,p,o,r?k:M);break;default:A_(F,I,I,I,[""],M,0,o,M)}}f=h=y=0,x=S=1,A=F="",p=s;break;case 58:p=1+no(F),y=_;default:if(x<1){if(b==123)--x;else if(b==125&&x++==0&&Sbe()==125)continue}switch(F+=Z0(b),b*x){case 38:S=h>0?1:(F+="\f",-1);break;case 44:o[f++]=(no(F)-1)*S,S=1;break;case 64:uo()===45&&(F+=C_(Ua())),m=uo(),h=p=no(A=F+=Cbe(T_())),b++;break;case 45:_===45&&no(F)==2&&(x=0)}}return a}function O4(t,e,n,r,i,a,s,o,l,f,h){for(var p=i-1,m=i===0?a:[""],y=UR(m),_=0,x=0,E=0;_<r;++_)for(var S=0,b=Ug(t,p+1,p=mbe(x=s[_])),A=t;S<y;++S)(A=xH(x>0?m[S]+" "+b:er(b,/&\f/g,m[S])))&&(l[E++]=A);return Y0(t,e,n,i===0?jR:o,l,f,h)}function Rbe(t,e,n){return Y0(t,e,n,bH,Z0(bbe()),Ug(t,2,-2),0)}function P4(t,e,n,r){return Y0(t,e,n,$R,Ug(t,0,r),Ug(t,r+1,-1),r)}function ud(t,e){for(var n="",r=UR(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Obe(t,e,n,r){switch(t.type){case gbe:case $R:return t.return=t.return||t.value;case bH:return"";case SH:return t.return=t.value+"{"+ud(t.children,r)+"}";case jR:t.value=t.props.join(",")}return no(n=ud(t.children,r))?t.return=t.value+"{"+n+"}":""}function Pbe(t){var e=UR(t);return function(n,r,i,a){for(var s="",o=0;o<e;o++)s+=t[o](n,r,i,a)||"";return s}}function Ibe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Lbe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var Mbe=function(e,n,r){for(var i=0,a=0;i=a,a=uo(),i===38&&a===12&&(n[r]=1),!Bg(a);)Ua();return Tm(e,Sa)},kbe=function(e,n){var r=-1,i=44;do switch(Bg(i)){case 0:i===38&&uo()===12&&(n[r]=1),e[r]+=Mbe(Sa-1,n,r);break;case 2:e[r]+=C_(i);break;case 4:if(i===44){e[++r]=uo()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Z0(i)}while(i=Ua());return e},Dbe=function(e,n){return CH(kbe(TH(e),n))},I4=new WeakMap,Nbe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!I4.get(r))&&!i){I4.set(e,!0);for(var a=[],s=Dbe(n,a),o=r.props,l=0,f=0;l<s.length;l++)for(var h=0;h<o.length;h++,f++)e.props[f]=a[l]?s[l].replace(/&\f/g,o[h]):o[h]+" "+s[l]}}},Fbe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function AH(t,e){switch(vbe(t,e)){case 5103:return Gn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+t+i0+t+Di+t+t;case 6828:case 4268:return Gn+t+Di+t+t;case 6165:return Gn+t+Di+"flex-"+t+t;case 5187:return Gn+t+er(t,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+Di+"flex-$1$2")+t;case 5443:return Gn+t+Di+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Gn+t+Di+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Gn+t+Di+er(t,"shrink","negative")+t;case 5292:return Gn+t+Di+er(t,"basis","preferred-size")+t;case 6060:return Gn+"box-"+er(t,"-grow","")+Gn+t+Di+er(t,"grow","positive")+t;case 4554:return Gn+er(t,/([^-])(transform)/g,"$1"+Gn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+Di+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Gn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(no(t)-1-e>6)switch(Oi(t,e+1)){case 109:if(Oi(t,e+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+i0+(Oi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~QC(t,"stretch")?AH(er(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Oi(t,e+1)!==115)break;case 6444:switch(Oi(t,no(t)-3-(~QC(t,"!important")&&10))){case 107:return er(t,":",":"+Gn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(Oi(t,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+Di+"$2box$3")+t}break;case 5936:switch(Oi(t,e+11)){case 114:return Gn+t+Di+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Gn+t+Di+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Gn+t+Di+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Gn+t+Di+t+t}return t}var jbe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case $R:e.return=AH(e.value,e.length);break;case SH:return ud([Qp(e,{value:er(e.value,"@","@"+Gn)})],i);case jR:if(e.length)return wbe(e.props,function(a){switch(_be(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ud([Qp(e,{props:[er(a,/:(read-\w+)/,":"+i0+"$1")]})],i);case"::placeholder":return ud([Qp(e,{props:[er(a,/:(plac\w+)/,":"+Gn+"input-$1")]}),Qp(e,{props:[er(a,/:(plac\w+)/,":"+i0+"$1")]}),Qp(e,{props:[er(a,/:(plac\w+)/,Di+"input-$1")]})],i)}return""})}},$be=[jbe],Ube=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var E=x.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||$be,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var E=x.getAttribute("data-emotion").split(" "),S=1;S<E.length;S++)a[E[S]]=!0;o.push(x)});var l,f=[Nbe,Fbe];{var h,p=[Obe,Ibe(function(x){h.insert(x)})],m=Pbe(f.concat(i,p)),y=function(E){return ud(Abe(E),m)};l=function(E,S,b,A){h=b,y(E?E+"{"+S.styles+"}":S.styles),A&&(_.inserted[S.name]=!0)}}var _={key:n,sheet:new pbe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return _.sheet.hydrate(o),_},bT={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function Bbe(){if(L4)return Xn;L4=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,x=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function A(M){if(typeof M=="object"&&M!==null){var I=M.$$typeof;switch(I){case e:switch(M=M.type,M){case l:case f:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case o:case h:case _:case y:case s:return M;default:return I}}case n:return I}}}function k(M){return A(M)===f}return Xn.AsyncMode=l,Xn.ConcurrentMode=f,Xn.ContextConsumer=o,Xn.ContextProvider=s,Xn.Element=e,Xn.ForwardRef=h,Xn.Fragment=r,Xn.Lazy=_,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=p,Xn.isAsyncMode=function(M){return k(M)||A(M)===l},Xn.isConcurrentMode=k,Xn.isContextConsumer=function(M){return A(M)===o},Xn.isContextProvider=function(M){return A(M)===s},Xn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Xn.isForwardRef=function(M){return A(M)===h},Xn.isFragment=function(M){return A(M)===r},Xn.isLazy=function(M){return A(M)===_},Xn.isMemo=function(M){return A(M)===y},Xn.isPortal=function(M){return A(M)===n},Xn.isProfiler=function(M){return A(M)===a},Xn.isStrictMode=function(M){return A(M)===i},Xn.isSuspense=function(M){return A(M)===p},Xn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===a||M===i||M===p||M===m||typeof M=="object"&&M!==null&&(M.$$typeof===_||M.$$typeof===y||M.$$typeof===s||M.$$typeof===o||M.$$typeof===h||M.$$typeof===E||M.$$typeof===S||M.$$typeof===b||M.$$typeof===x)},Xn.typeOf=A,Xn}var M4;function qbe(){return M4||(M4=1,bT.exports=Bbe()),bT.exports}var ST,k4;function Hbe(){if(k4)return ST;k4=1;var t=qbe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function s(_){return t.isMemo(_)?i:a[_.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(_,x,E){if(typeof x!="string"){if(m){var S=p(x);S&&S!==m&&y(_,S,E)}var b=l(x);f&&(b=b.concat(f(x)));for(var A=s(_),k=s(x),M=0;M<b.length;++M){var I=b[M];if(!n[I]&&!(E&&E[I])&&!(k&&k[I])&&!(A&&A[I])){var F=h(x,I);try{o(_,I,F)}catch{}}}}return _}return ST=y,ST}Hbe();var zbe=!0;function Vbe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var RH=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||zbe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},Kbe=function(e,n,r){RH(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function Gbe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Wbe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Qbe=/[A-Z]|^ms/g,Zbe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OH=function(e){return e.charCodeAt(1)===45},D4=function(e){return e!=null&&typeof e!="boolean"},xT=Lbe(function(t){return OH(t)?t:t.replace(Qbe,"-$&").toLowerCase()}),N4=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Zbe,function(r,i,a){return ro={name:i,styles:a,next:ro},i})}return Wbe[e]!==1&&!OH(e)&&typeof n=="number"&&n!==0?n+"px":n};function qg(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return ro={name:n.name,styles:n.styles,next:ro},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)ro={name:r.name,styles:r.styles,next:ro},r=r.next;var i=n.styles+";";return i}return Jbe(t,e,n)}case"function":{if(t!==void 0){var a=ro,s=n(t);return ro=a,qg(t,e,s)}break}}return n}function Jbe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=qg(t,e,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object")D4(s)&&(r+=xT(a)+":"+N4(a,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&e==null)for(var o=0;o<s.length;o++)D4(s[o])&&(r+=xT(a)+":"+N4(a,s[o])+";");else{var l=qg(t,e,s);switch(a){case"animation":case"animationName":{r+=xT(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var F4=/label:\s*([^\s;\n{]+)\s*(;|$)/g,ro,PH=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";ro=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,a+=qg(r,n,s)):a+=s[0];for(var o=1;o<e.length;o++)a+=qg(r,n,e[o]),i&&(a+=s[o]);F4.lastIndex=0;for(var l="",f;(f=F4.exec(a))!==null;)l+="-"+f[1];var h=Gbe(a)+l;return{name:h,styles:a,next:ro}},Ybe=function(e){return e()},Xbe=Eg.useInsertionEffect?Eg.useInsertionEffect:!1,e1e=Xbe||Ybe,BR={}.hasOwnProperty,IH=ae.createContext(typeof HTMLElement<"u"?Ube({key:"css"}):null);IH.Provider;var t1e=function(e){return ae.forwardRef(function(n,r){var i=ae.useContext(IH);return e(n,i,r)})},n1e=ae.createContext({}),JC="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",r1e=function(e,n){var r={};for(var i in n)BR.call(n,i)&&(r[i]=n[i]);return r[JC]=e,r},i1e=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return RH(n,r,i),e1e(function(){return Kbe(n,r,i)}),null},a1e=t1e(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[JC],a=[r],s="";typeof t.className=="string"?s=Vbe(e.registered,a,t.className):t.className!=null&&(s=t.className+" ");var o=PH(a,void 0,ae.useContext(n1e));s+=e.key+"-"+o.name;var l={};for(var f in t)BR.call(t,f)&&f!=="css"&&f!==JC&&(l[f]=t[f]);return l.ref=n,l.className=s,ae.createElement(ae.Fragment,null,ae.createElement(i1e,{cache:e,serialized:o,isStringTag:typeof i=="string"}),ae.createElement(i,l))}),tn=function(e,n){var r=arguments;if(n==null||!BR.call(n,"css"))return ae.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=a1e,a[1]=r1e(e,n);for(var s=2;s<i;s++)a[s]=r[s];return ae.createElement.apply(null,a)};function qR(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return PH(e)}var s1e=function(){var e=qR.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function o1e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function u1e(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const l1e=["top","right","bottom","left"];l1e.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function ru(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function LH(t){return ru(t).getComputedStyle(t)}function MH(t){return t instanceof ru(t).Node}function kH(t){return MH(t)?(t.nodeName||"").toLowerCase():""}let yv;function c1e(){if(yv)return yv;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(yv=t.brands.map(e=>e.brand+"/"+e.version).join(" "),yv):navigator.userAgent}function HR(t){return t instanceof ru(t).HTMLElement}function R_(t){return t instanceof ru(t).Element}function j4(t){return typeof ShadowRoot>"u"?!1:t instanceof ru(t).ShadowRoot||t instanceof ShadowRoot}function DH(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=LH(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function f1e(){return/^((?!chrome|android).)*safari/i.test(c1e())}function d1e(t){return["html","body","#document"].includes(kH(t))}const a0=Math.round;function h1e(t){const e=LH(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=HR(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=a0(n)!==a||a0(r)!==s;return o&&(n=a,r=s),{width:n,height:r,fallback:o}}function NH(t){return R_(t)?t:t.contextElement}const FH={x:1,y:1};function $4(t){const e=NH(t);if(!HR(e))return FH;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:a}=h1e(e);let s=(a?a0(n.width):n.width)/r,o=(a?a0(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}function U4(t,e,n,r){var i,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=NH(t);let l=FH;e&&(l=$4(t));const f=o?ru(o):window,h=f1e()&&n;let p=(s.left+(h&&((i=f.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,m=(s.top+(h&&((a=f.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=s.width/l.x,_=s.height/l.y;if(o){const x=ru(o),E=r;let S=x.frameElement;for(;S&&r&&E!==x;){const b=$4(S),A=S.getBoundingClientRect(),k=getComputedStyle(S);A.x+=(S.clientLeft+parseFloat(k.paddingLeft))*b.x,A.y+=(S.clientTop+parseFloat(k.paddingTop))*b.y,p*=b.x,m*=b.y,y*=b.x,_*=b.y,p+=A.x,m+=A.y,S=ru(S).frameElement}}return u1e({width:y,height:_,x:p,y:m})}function p1e(t){return((MH(t)?t.ownerDocument:t.document)||window.document).documentElement}function g1e(t){if(kH(t)==="html")return t;const e=t.assignedSlot||t.parentNode||j4(t)&&t.host||p1e(t);return j4(e)?e.host:e}function jH(t){const e=g1e(t);return d1e(e)?e.ownerDocument.body:HR(e)&&DH(e)?e:jH(e)}function O_(t,e){var n;e===void 0&&(e=[]);const r=jH(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=ru(r);return i?e.concat(a,a.visualViewport||[],DH(r)?r:[]):e.concat(r,O_(r))}function m1e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:o=!1}=r,l=i&&!o,f=l||a?[...R_(t)?O_(t):t.contextElement?O_(t.contextElement):[],...O_(e)]:[];f.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let h,p=null;s&&(p=new ResizeObserver(()=>{n()}),R_(t)&&!o&&p.observe(t),R_(t)||!t.contextElement||o||p.observe(t.contextElement),p.observe(e));let m=o?U4(t):null;return o&&function y(){const _=U4(t);!m||_.x===m.x&&_.y===m.y&&_.width===m.width&&_.height===m.height||n(),m=_,h=requestAnimationFrame(y)}(),n(),()=>{var y;f.forEach(_=>{l&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),(y=p)==null||y.disconnect(),p=null,o&&cancelAnimationFrame(h)}}var YC=ae.useLayoutEffect,y1e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],s0=function(){};function v1e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function _1e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&a.push("".concat(v1e(t,s)));return a.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var B4=function(e){return R1e(e)?e.filter(Boolean):zc(e)==="object"&&e!==null?[e]:[]},$H=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=yu(e,y1e);return rn({},n)},$r=function(e,n,r){var i=e.cx,a=e.getStyles,s=e.getClassNames,o=e.className;return{css:a(n,e),className:i(r??{},s(n,e),o)}};function X0(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function w1e(t){return X0(t)?window.innerHeight:t.clientHeight}function UH(t){return X0(t)?window.pageYOffset:t.scrollTop}function o0(t,e){if(X0(t)){window.scrollTo(0,e);return}t.scrollTop=e}function b1e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function S1e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function vv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s0,i=UH(t),a=e-i,s=10,o=0;function l(){o+=s;var f=S1e(o,i,a,n);o0(t,f),o<n?window.requestAnimationFrame(l):r(t)}l()}function q4(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?o0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&o0(t,Math.max(e.offsetTop-i,0))}function x1e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function H4(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function E1e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var BH=!1,T1e={get passive(){return BH=!0}},_v=typeof window<"u"?window:{};_v.addEventListener&&_v.removeEventListener&&(_v.addEventListener("p",s0,T1e),_v.removeEventListener("p",s0,!1));var C1e=BH;function A1e(t){return t!=null}function R1e(t){return Array.isArray(t)}function wv(t,e,n){return t?e:n}var O1e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(s){var o=nu(s,1),l=o[0];return!r.includes(l)});return a.reduce(function(s,o){var l=nu(o,2),f=l[0],h=l[1];return s[f]=h,s},{})},P1e=["children","innerProps"],I1e=["children","innerProps"];function L1e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,s=t.isFixedPosition,o=t.controlHeight,l=b1e(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var h=l.getBoundingClientRect(),p=h.height,m=n.getBoundingClientRect(),y=m.bottom,_=m.height,x=m.top,E=n.offsetParent.getBoundingClientRect(),S=E.top,b=s?window.innerHeight:w1e(l),A=UH(l),k=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),I=S-M,F=b-x,B=I+A,ee=p-A-x,U=y-b+A+k,J=A+x-M,le=160;switch(i){case"auto":case"bottom":if(F>=_)return{placement:"bottom",maxHeight:e};if(ee>=_&&!s)return a&&vv(l,U,le),{placement:"bottom",maxHeight:e};if(!s&&ee>=r||s&&F>=r){a&&vv(l,U,le);var Y=s?F-k:ee-k;return{placement:"bottom",maxHeight:Y}}if(i==="auto"||s){var se=e,me=s?I:B;return me>=r&&(se=Math.min(me-k-o,e)),{placement:"top",maxHeight:se}}if(i==="bottom")return a&&o0(l,U),{placement:"bottom",maxHeight:e};break;case"top":if(I>=_)return{placement:"top",maxHeight:e};if(B>=_&&!s)return a&&vv(l,J,le),{placement:"top",maxHeight:e};if(!s&&B>=r||s&&I>=r){var ve=e;return(!s&&B>=r||s&&I>=r)&&(ve=s?I-M:B-M),a&&vv(l,J,le),{placement:"top",maxHeight:ve}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function M1e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var qH=function(e){return e==="auto"?"bottom":e},k1e=function(e,n){var r,i=e.placement,a=e.theme,s=a.borderRadius,o=a.spacing,l=a.colors;return rn((r={label:"menu"},dg(r,M1e(i),"100%"),dg(r,"position","absolute"),dg(r,"width","100%"),dg(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},HH=ae.createContext(null),D1e=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,f=ae.useContext(HH)||{},h=f.setPortalPlacement,p=ae.useRef(null),m=ae.useState(i),y=nu(m,2),_=y[0],x=y[1],E=ae.useState(null),S=nu(E,2),b=S[0],A=S[1],k=l.spacing.controlHeight;return YC(function(){var M=p.current;if(M){var I=s==="fixed",F=o&&!I,B=L1e({maxHeight:i,menuEl:M,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:I,controlHeight:k});x(B.maxHeight),A(B.placement),h==null||h(B.placement)}},[i,a,s,o,r,h,k]),n({ref:p,placerProps:rn(rn({},e),{},{placement:b||qH(a),maxHeight:_})})},N1e=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return tn("div",sn({},$r(e,"menu",{menu:!0}),{ref:r},i),n)},F1e=N1e,j1e=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return rn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},$1e=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return tn("div",sn({},$r(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},zH=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return rn({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},U1e=zH,B1e=zH,q1e=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=yu(e,P1e);return tn("div",sn({},$r(rn(rn({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},H1e=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=yu(e,I1e);return tn("div",sn({},$r(rn(rn({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},z1e=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},V1e=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,s=e.menuPlacement,o=e.menuPosition,l=ae.useRef(null),f=ae.useRef(null),h=ae.useState(qH(s)),p=nu(h,2),m=p[0],y=p[1],_=ae.useMemo(function(){return{setPortalPlacement:y}},[]),x=ae.useState(null),E=nu(x,2),S=E[0],b=E[1],A=ae.useCallback(function(){if(i){var F=x1e(i),B=o==="fixed"?0:window.pageYOffset,ee=F[m]+B;(ee!==(S==null?void 0:S.offset)||F.left!==(S==null?void 0:S.rect.left)||F.width!==(S==null?void 0:S.rect.width))&&b({offset:ee,rect:F})}},[i,o,m,S==null?void 0:S.offset,S==null?void 0:S.rect.left,S==null?void 0:S.rect.width]);YC(function(){A()},[A]);var k=ae.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&l.current&&(f.current=m1e(i,l.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);YC(function(){k()},[k]);var M=ae.useCallback(function(F){l.current=F,k()},[k]);if(!n&&o!=="fixed"||!S)return null;var I=tn("div",sn({ref:M},$r(rn(rn({},e),{},{offset:S.offset,position:o,rect:S.rect}),"menuPortal",{"menu-portal":!0}),a),r);return tn(HH.Provider,{value:_},n?Dg.createPortal(I,n):I)},K1e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},G1e=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return tn("div",sn({},$r(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},W1e=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return rn({alignItems:"center",display:i&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},Q1e=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return tn("div",sn({},$r(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},Z1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},J1e=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"indicatorsContainer",{indicators:!0}),r),n)},z4,Y1e=["size"],X1e=["innerProps","isRtl","size"],eSe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},VH=function(e){var n=e.size,r=yu(e,Y1e);return tn("svg",sn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:eSe},r))},zR=function(e){return tn(VH,sn({size:20},e),tn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},KH=function(e){return tn(VH,sn({size:20},e),tn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},GH=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return rn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2,":hover":{color:r?s.neutral80:s.neutral40}})},tSe=GH,nSe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||tn(KH,null))},rSe=GH,iSe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||tn(zR,null))},aSe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return rn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:a*2,marginTop:a*2})},sSe=function(e){var n=e.innerProps;return tn("span",sn({},n,$r(e,"indicatorSeparator",{"indicator-separator":!0})))},oSe=s1e(z4||(z4=o1e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),uSe=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,s=a.colors,o=a.spacing.baseUnit;return rn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2})},ET=function(e){var n=e.delay,r=e.offset;return tn("span",{css:qR({animation:"".concat(oSe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},lSe=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,s=yu(e,X1e);return tn("div",sn({},$r(rn(rn({},s),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),tn(ET,{delay:0,offset:r}),tn(ET,{delay:160,offset:!0}),tn(ET,{delay:320,offset:!r}))},cSe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,s=a.colors,o=a.borderRadius,l=a.spacing;return rn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},fSe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,s=e.innerProps,o=e.menuIsOpen;return tn("div",sn({ref:a},$r(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),s,{"aria-disabled":r||void 0}),n)},dSe=fSe,hSe=["data"],pSe=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},gSe=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,s=e.Heading,o=e.headingProps,l=e.innerProps,f=e.label,h=e.theme,p=e.selectProps;return tn("div",sn({},$r(e,"group",{group:!0}),l),tn(s,sn({},o,{selectProps:p,theme:h,getStyles:i,getClassNames:a,cx:r}),f),tn("div",null,n))},mSe=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return rn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},ySe=function(e){var n=$H(e);n.data;var r=yu(n,hSe);return tn("div",sn({},$r(e,"groupHeading",{"group-heading":!0}),r))},vSe=gSe,_Se=["innerRef","isDisabled","isHidden","inputClassName"],wSe=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,s=a.spacing,o=a.colors;return rn(rn({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},bSe),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:o.neutral80})},WH={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},bSe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},WH)},SSe=function(e){return rn({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},WH)},xSe=function(e){var n=e.cx,r=e.value,i=$H(e),a=i.innerRef,s=i.isDisabled,o=i.isHidden,l=i.inputClassName,f=yu(i,_Se);return tn("div",sn({},$r(e,"input",{"input-container":!0}),{"data-value":r||""}),tn("input",sn({className:n({input:!0},l),ref:a,style:SSe(o),disabled:s},f)))},ESe=xSe,TSe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors;return rn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},CSe=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return rn({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},ASe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors,o=e.isFocused;return rn({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:o?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},QH=function(e){var n=e.children,r=e.innerProps;return tn("div",r,n)},RSe=QH,OSe=QH;function PSe(t){var e=t.children,n=t.innerProps;return tn("div",sn({role:"button"},n),e||tn(zR,{size:14}))}var ISe=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,s=e.isDisabled,o=e.removeProps,l=e.selectProps,f=r.Container,h=r.Label,p=r.Remove;return tn(f,{data:i,innerProps:rn(rn({},$r(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:l},tn(h,{data:i,innerProps:rn({},$r(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),tn(p,{data:i,innerProps:rn(rn({},$r(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:l}))},LSe=ISe,MSe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.theme,o=s.spacing,l=s.colors;return rn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},kSe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.innerRef,o=e.innerProps;return tn("div",sn({},$r(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:s,"aria-disabled":r},o),n)},DSe=kSe,NSe=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return rn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},FSe=function(e){var n=e.children,r=e.innerProps;return tn("div",sn({},$r(e,"placeholder",{placeholder:!0}),r),n)},jSe=FSe,$Se=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,s=i.colors;return rn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},USe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return tn("div",sn({},$r(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},BSe=USe,qSe={ClearIndicator:iSe,Control:dSe,DropdownIndicator:nSe,DownChevron:KH,CrossIcon:zR,Group:vSe,GroupHeading:ySe,IndicatorsContainer:J1e,IndicatorSeparator:sSe,Input:ESe,LoadingIndicator:lSe,Menu:F1e,MenuList:$1e,MenuPortal:V1e,LoadingMessage:H1e,NoOptionsMessage:q1e,MultiValue:LSe,MultiValueContainer:RSe,MultiValueLabel:OSe,MultiValueRemove:PSe,Option:DSe,Placeholder:jSe,SelectContainer:G1e,SingleValue:BSe,ValueContainer:Q1e},HSe=function(e){return rn(rn({},qSe),e.components)},V4=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function zSe(t,e){return!!(t===e||V4(t)&&V4(e))}function VSe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!zSe(t[n],e[n]))return!1;return!0}function KSe(t,e){e===void 0&&(e=VSe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var GSe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},WSe=function(e){return tn("span",sn({css:GSe},e))},K4=WSe,QSe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,s=a===void 0?"":a,o=e.selectValue,l=e.isDisabled,f=e.isSelected,h=e.isAppleDevice,p=function(x,E){return x&&x.length?"".concat(x.indexOf(E)+1," of ").concat(x.length):""};if(n==="value"&&o)return"value ".concat(s," focused, ").concat(p(o,r),".");if(n==="menu"&&h){var m=l?" disabled":"",y="".concat(f?" selected":"").concat(m);return"".concat(s).concat(y,", ").concat(p(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},ZSe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,s=e.isFocused,o=e.selectValue,l=e.selectProps,f=e.id,h=e.isAppleDevice,p=l.ariaLiveMessages,m=l.getOptionLabel,y=l.inputValue,_=l.isMulti,x=l.isOptionDisabled,E=l.isSearchable,S=l.menuIsOpen,b=l.options,A=l.screenReaderStatus,k=l.tabSelectsValue,M=l.isLoading,I=l["aria-label"],F=l["aria-live"],B=ae.useMemo(function(){return rn(rn({},QSe),p||{})},[p]),ee=ae.useMemo(function(){var me="";if(n&&B.onChange){var ve=n.option,fe=n.options,ue=n.removedValue,Oe=n.removedValues,D=n.value,X=function(Te){return Array.isArray(Te)?null:Te},ce=ue||ve||X(D),V=ce?m(ce):"",Z=fe||Oe||void 0,he=Z?Z.map(m):[],xe=rn({isDisabled:ce&&x(ce,o),label:V,labels:he},n);me=B.onChange(xe)}return me},[n,B,x,o,m]),U=ae.useMemo(function(){var me="",ve=r||i,fe=!!(r&&o&&o.includes(r));if(ve&&B.onFocus){var ue={focused:ve,label:m(ve),isDisabled:x(ve,o),isSelected:fe,options:a,context:ve===r?"menu":"value",selectValue:o,isAppleDevice:h};me=B.onFocus(ue)}return me},[r,i,m,x,B,a,o,h]),J=ae.useMemo(function(){var me="";if(S&&b.length&&!M&&B.onFilter){var ve=A({count:a.length});me=B.onFilter({inputValue:y,resultsMessage:ve})}return me},[a,y,S,B,b,A,M]),le=(n==null?void 0:n.action)==="initial-input-focus",Y=ae.useMemo(function(){var me="";if(B.guidance){var ve=i?"value":S?"menu":"input";me=B.guidance({"aria-label":I,context:ve,isDisabled:r&&x(r,o),isMulti:_,isSearchable:E,tabSelectsValue:k,isInitialFocus:le})}return me},[I,r,i,_,x,E,S,B,o,k,le]),se=tn(ae.Fragment,null,tn("span",{id:"aria-selection"},ee),tn("span",{id:"aria-focused"},U),tn("span",{id:"aria-results"},J),tn("span",{id:"aria-guidance"},Y));return tn(ae.Fragment,null,tn(K4,{id:f},le&&se),tn(K4,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!le&&se))},JSe=ZSe,XC=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],YSe=new RegExp("["+XC.map(function(t){return t.letters}).join("")+"]","g"),ZH={};for(var TT=0;TT<XC.length;TT++)for(var CT=XC[TT],AT=0;AT<CT.letters.length;AT++)ZH[CT.letters[AT]]=CT.base;var JH=function(e){return e.replace(YSe,function(n){return ZH[n]})},XSe=KSe(JH),G4=function(e){return e.replace(/^\s+|\s+$/g,"")},exe=function(e){return"".concat(e.label," ").concat(e.value)},txe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=rn({ignoreCase:!0,ignoreAccents:!0,stringify:exe,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,s=i.ignoreAccents,o=i.stringify,l=i.trim,f=i.matchFrom,h=l?G4(r):r,p=l?G4(o(n)):o(n);return a&&(h=h.toLowerCase(),p=p.toLowerCase()),s&&(h=XSe(h),p=JH(p)),f==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},nxe=["innerRef"];function rxe(t){var e=t.innerRef,n=yu(t,nxe),r=O1e(n,"onExited","in","enter","exit","appear");return tn("input",sn({ref:e},r,{css:qR({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var ixe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function axe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,s=ae.useRef(!1),o=ae.useRef(!1),l=ae.useRef(0),f=ae.useRef(null),h=ae.useCallback(function(E,S){if(f.current!==null){var b=f.current,A=b.scrollTop,k=b.scrollHeight,M=b.clientHeight,I=f.current,F=S>0,B=k-M-A,ee=!1;B>S&&s.current&&(r&&r(E),s.current=!1),F&&o.current&&(a&&a(E),o.current=!1),F&&S>B?(n&&!s.current&&n(E),I.scrollTop=k,ee=!0,s.current=!0):!F&&-S>A&&(i&&!o.current&&i(E),I.scrollTop=0,ee=!0,o.current=!0),ee&&ixe(E)}},[n,r,i,a]),p=ae.useCallback(function(E){h(E,E.deltaY)},[h]),m=ae.useCallback(function(E){l.current=E.changedTouches[0].clientY},[]),y=ae.useCallback(function(E){var S=l.current-E.changedTouches[0].clientY;h(E,S)},[h]),_=ae.useCallback(function(E){if(E){var S=C1e?{passive:!1}:!1;E.addEventListener("wheel",p,S),E.addEventListener("touchstart",m,S),E.addEventListener("touchmove",y,S)}},[y,m,p]),x=ae.useCallback(function(E){E&&(E.removeEventListener("wheel",p,!1),E.removeEventListener("touchstart",m,!1),E.removeEventListener("touchmove",y,!1))},[y,m,p]);return ae.useEffect(function(){if(e){var E=f.current;return _(E),function(){x(E)}}},[e,_,x]),function(E){f.current=E}}var W4=["boxSizing","height","overflow","paddingRight","position"],Q4={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Z4(t){t.cancelable&&t.preventDefault()}function J4(t){t.stopPropagation()}function Y4(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function X4(){return"ontouchstart"in window||navigator.maxTouchPoints}var e6=!!(typeof window<"u"&&window.document&&window.document.createElement),Zp=0,Kf={capture:!1,passive:!1};function sxe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=ae.useRef({}),a=ae.useRef(null),s=ae.useCallback(function(l){if(e6){var f=document.body,h=f&&f.style;if(r&&W4.forEach(function(_){var x=h&&h[_];i.current[_]=x}),r&&Zp<1){var p=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+p||0;Object.keys(Q4).forEach(function(_){var x=Q4[_];h&&(h[_]=x)}),h&&(h.paddingRight="".concat(y,"px"))}f&&X4()&&(f.addEventListener("touchmove",Z4,Kf),l&&(l.addEventListener("touchstart",Y4,Kf),l.addEventListener("touchmove",J4,Kf))),Zp+=1}},[r]),o=ae.useCallback(function(l){if(e6){var f=document.body,h=f&&f.style;Zp=Math.max(Zp-1,0),r&&Zp<1&&W4.forEach(function(p){var m=i.current[p];h&&(h[p]=m)}),f&&X4()&&(f.removeEventListener("touchmove",Z4,Kf),l&&(l.removeEventListener("touchstart",Y4,Kf),l.removeEventListener("touchmove",J4,Kf)))}},[r]);return ae.useEffect(function(){if(e){var l=a.current;return s(l),function(){o(l)}}},[e,s,o]),function(l){a.current=l}}var oxe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},uxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function lxe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,s=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,f=axe({isEnabled:i,onBottomArrive:a,onBottomLeave:s,onTopArrive:o,onTopLeave:l}),h=sxe({isEnabled:n}),p=function(y){f(y),h(y)};return tn(ae.Fragment,null,n&&tn("div",{onClick:oxe,css:uxe}),e(p))}var cxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},fxe=function(e){var n=e.name,r=e.onFocus;return tn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:cxe,value:"",onChange:function(){}})},dxe=fxe;function VR(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function hxe(){return VR(/^iPhone/i)}function YH(){return VR(/^Mac/i)}function pxe(){return VR(/^iPad/i)||YH()&&navigator.maxTouchPoints>1}function gxe(){return hxe()||pxe()}function mxe(){return YH()||gxe()}var yxe=function(e){return e.label},vxe=function(e){return e.label},_xe=function(e){return e.value},wxe=function(e){return!!e.isDisabled},bxe={clearIndicator:rSe,container:K1e,control:cSe,dropdownIndicator:tSe,group:pSe,groupHeading:mSe,indicatorsContainer:Z1e,indicatorSeparator:aSe,input:wSe,loadingIndicator:uSe,loadingMessage:B1e,menu:k1e,menuList:j1e,menuPortal:z1e,multiValue:TSe,multiValueLabel:CSe,multiValueRemove:ASe,noOptionsMessage:U1e,option:MSe,placeholder:NSe,singleValue:$Se,valueContainer:W1e},Sxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},xxe=4,XH=4,Exe=38,Txe=XH*2,Cxe={baseUnit:XH,controlHeight:Exe,menuGutter:Txe},RT={borderRadius:xxe,colors:Sxe,spacing:Cxe},Axe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:H4(),captureMenuScroll:!H4(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:txe(),formatGroupLabel:yxe,getOptionLabel:vxe,getOptionValue:_xe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:wxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!E1e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function t6(t,e,n,r){var i=n9(t,e,n),a=r9(t,e,n),s=t9(t,e),o=u0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:s,value:o,index:r}}function P_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,o){return t6(t,s,e,o)}).filter(function(s){return r6(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=t6(t,n,e,r);return r6(t,a)?a:void 0}).filter(A1e)}function e9(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,FR(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function n6(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,FR(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function Rxe(t,e){return e9(P_(t,e))}function r6(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,s=e.label,o=e.value;return(!a9(t)||!a)&&i9(t,{label:s,value:o,data:i},r)}function Oxe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function Pxe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var OT=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},t9=function(e,n){return e.getOptionLabel(n)},u0=function(e,n){return e.getOptionValue(n)};function n9(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function r9(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=u0(t,e);return n.some(function(i){return u0(t,i)===r})}function i9(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var a9=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},Ixe=1,s9=function(t){ibe(n,t);var e=ube(n);function n(r){var i;if(nbe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=mxe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,f){var h=i.props,p=h.onChange,m=h.name;f.name=m,i.ariaOnChange(l,f),p(l,f)},i.setValue=function(l,f,h){var p=i.props,m=p.closeMenuOnSelect,y=p.isMulti,_=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:_}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:f,option:h})},i.selectOption=function(l){var f=i.props,h=f.blurInputOnSelect,p=f.isMulti,m=f.name,y=i.state.selectValue,_=p&&i.isOptionSelected(l,y),x=i.isOptionDisabled(l,y);if(_){var E=i.getOptionValue(l);i.setValue(y.filter(function(S){return i.getOptionValue(S)!==E}),"deselect-option",l)}else if(!x)p?i.setValue([].concat(FR(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}h&&i.blurInput()},i.removeValue=function(l){var f=i.props.isMulti,h=i.state.selectValue,p=i.getOptionValue(l),m=h.filter(function(_){return i.getOptionValue(_)!==p}),y=wv(f,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(wv(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,f=i.state.selectValue,h=f[f.length-1],p=f.slice(0,f.length-1),m=wv(l,p,p[0]||null);h&&i.onChange(m,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(l){return OT(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return n6(P_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,f=new Array(l),h=0;h<l;h++)f[h]=arguments[h];return _1e.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(l){return t9(i.props,l)},i.getOptionValue=function(l){return u0(i.props,l)},i.getStyles=function(l,f){var h=i.props.unstyled,p=bxe[l](f,h);p.boxSizing="border-box";var m=i.props.styles[l];return m?m(p,f):p},i.getClassNames=function(l,f){var h,p;return(h=(p=i.props.classNames)[l])===null||h===void 0?void 0:h.call(p,f)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return HSe(i.props)},i.buildCategorizedOptions=function(){return P_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return e9(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,f){i.setState({ariaSelection:rn({value:l},f)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var f=i.props,h=f.isMulti,p=f.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&X0(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var f=l.touches,h=f&&f.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var f=l.touches,h=f&&f.item(0);if(h){var p=Math.abs(h.clientX-i.initialTouchX),m=Math.abs(h.clientY-i.initialTouchY),y=5;i.userIsDragging=p>y||m>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var f=i.props.inputValue,h=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var f=i.getFocusableOptions(),h=f.indexOf(l);i.setState({focusedOption:l,focusedOptionId:h>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return a9(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var f=i.props,h=f.isMulti,p=f.backspaceRemovesValue,m=f.escapeClearsValue,y=f.inputValue,_=f.isClearable,x=f.isDisabled,E=f.menuIsOpen,S=f.onKeyDown,b=f.tabSelectsValue,A=f.openMenuOnFocus,k=i.state,M=k.focusedOption,I=k.focusedValue,F=k.selectValue;if(!x&&!(typeof S=="function"&&(S(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!h||y)return;i.focusValue("previous");break;case"ArrowRight":if(!h||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(I)i.removeValue(I);else{if(!p)return;h?i.popValue():_&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!E||!b||!M||A&&i.isOptionSelected(M,F))return;i.selectOption(M);break;case"Enter":if(l.keyCode===229)break;if(E){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":E?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):_&&m&&i.clearValue();break;case" ":if(y)return;if(!E){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":E?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":E?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!E)return;i.focusOption("pageup");break;case"PageDown":if(!E)return;i.focusOption("pagedown");break;case"Home":if(!E)return;i.focusOption("first");break;case"End":if(!E)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++Ixe),i.state.selectValue=B4(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=s[o],i.state.focusedOptionId=OT(a,s[o])}return i}return rbe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&q4(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isDisabled,o=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(q4(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,s=this.state,o=s.selectValue,l=s.isFocused,f=this.buildFocusableOptions(),h=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(o[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[h],focusedOptionId:this.getFocusedOptionId(f[h])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,s=a.selectValue,o=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(o);o||(l=-1);var f=s.length-1,h=-1;if(s.length){switch(i){case"previous":l===0?h=0:l===-1?h=f:h=l-1;break;case"next":l>-1&&l<f&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:s[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,s=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,f=o.indexOf(s);s||(f=-1),i==="up"?l=f>0?f-1:o.length-1:i==="down"?l=(f+1)%o.length:i==="pageup"?(l=f-a,l<0&&(l=0)):i==="pagedown"?(l=f+a,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(RT):rn(rn({},RT),this.props.theme):RT}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,s=this.getStyles,o=this.getClassNames,l=this.getValue,f=this.selectOption,h=this.setValue,p=this.props,m=p.isMulti,y=p.isRtl,_=p.options,x=this.hasValue();return{clearValue:i,cx:a,getStyles:s,getClassNames:o,getValue:l,hasValue:x,isMulti:m,isRtl:y,options:_,selectOption:f,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,s=i.isMulti;return a===void 0?s:a}},{key:"isOptionDisabled",value:function(i,a){return n9(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return r9(this.props,i,a)}},{key:"filterOption",value:function(i,a){return i9(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:s,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,s=i.isSearchable,o=i.inputId,l=i.inputValue,f=i.tabIndex,h=i.form,p=i.menuIsOpen,m=i.required,y=this.getComponents(),_=y.Input,x=this.state,E=x.inputIsHidden,S=x.ariaSelection,b=this.commonProps,A=o||this.getElementId("input"),k=rn(rn(rn({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(S==null?void 0:S.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?ae.createElement(_,sn({},b,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:E,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:h,type:"text",value:l},k)):ae.createElement(rxe,sn({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:s0,onFocus:this.onInputFocus,disabled:a,tabIndex:f,inputMode:"none",form:h,value:""},k))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),s=a.MultiValue,o=a.MultiValueContainer,l=a.MultiValueLabel,f=a.MultiValueRemove,h=a.SingleValue,p=a.Placeholder,m=this.commonProps,y=this.props,_=y.controlShouldRenderValue,x=y.isDisabled,E=y.isMulti,S=y.inputValue,b=y.placeholder,A=this.state,k=A.selectValue,M=A.focusedValue,I=A.isFocused;if(!this.hasValue()||!_)return S?null:ae.createElement(p,sn({},m,{key:"placeholder",isDisabled:x,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),b);if(E)return k.map(function(B,ee){var U=B===M,J="".concat(i.getOptionLabel(B),"-").concat(i.getOptionValue(B));return ae.createElement(s,sn({},m,{components:{Container:o,Label:l,Remove:f},isFocused:U,isDisabled:x,key:J,index:ee,removeProps:{onClick:function(){return i.removeValue(B)},onTouchEnd:function(){return i.removeValue(B)},onMouseDown:function(Y){Y.preventDefault()}},data:B}),i.formatOptionLabel(B,"value"))});if(S)return null;var F=k[0];return ae.createElement(h,sn({},m,{data:F,isDisabled:x}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,f=o.isLoading,h=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||f)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ae.createElement(a,sn({},s,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,f=o.isLoading,h=this.state.isFocused;if(!a||!f)return null;var p={"aria-hidden":"true"};return ae.createElement(a,sn({},s,{innerProps:p,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,s=i.IndicatorSeparator;if(!a||!s)return null;var o=this.commonProps,l=this.props.isDisabled,f=this.state.isFocused;return ae.createElement(s,sn({},o,{isDisabled:l,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var s=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ae.createElement(a,sn({},s,{innerProps:f,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),s=a.Group,o=a.GroupHeading,l=a.Menu,f=a.MenuList,h=a.MenuPortal,p=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,_=this.commonProps,x=this.state.focusedOption,E=this.props,S=E.captureMenuScroll,b=E.inputValue,A=E.isLoading,k=E.loadingMessage,M=E.minMenuHeight,I=E.maxMenuHeight,F=E.menuIsOpen,B=E.menuPlacement,ee=E.menuPosition,U=E.menuPortalTarget,J=E.menuShouldBlockScroll,le=E.menuShouldScrollIntoView,Y=E.noOptionsMessage,se=E.onMenuScrollToTop,me=E.onMenuScrollToBottom;if(!F)return null;var ve=function(V,Z){var he=V.type,xe=V.data,Ve=V.isDisabled,Te=V.isSelected,Me=V.label,Ze=V.value,ie=x===xe,z=Ve?void 0:function(){return i.onOptionHover(xe)},$=Ve?void 0:function(){return i.selectOption(xe)},re="".concat(i.getElementId("option"),"-").concat(Z),W={id:re,onClick:$,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Te};return ae.createElement(y,sn({},_,{innerProps:W,data:xe,isDisabled:Ve,isSelected:Te,key:re,label:Me,type:he,value:Ze,isFocused:ie,innerRef:ie?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(V.data,"menu"))},fe;if(this.hasOptions())fe=this.getCategorizedOptions().map(function(ce){if(ce.type==="group"){var V=ce.data,Z=ce.options,he=ce.index,xe="".concat(i.getElementId("group"),"-").concat(he),Ve="".concat(xe,"-heading");return ae.createElement(s,sn({},_,{key:xe,data:V,options:Z,Heading:o,headingProps:{id:Ve,data:ce.data},label:i.formatGroupLabel(ce.data)}),ce.options.map(function(Te){return ve(Te,"".concat(he,"-").concat(Te.index))}))}else if(ce.type==="option")return ve(ce,"".concat(ce.index))});else if(A){var ue=k({inputValue:b});if(ue===null)return null;fe=ae.createElement(p,_,ue)}else{var Oe=Y({inputValue:b});if(Oe===null)return null;fe=ae.createElement(m,_,Oe)}var D={minMenuHeight:M,maxMenuHeight:I,menuPlacement:B,menuPosition:ee,menuShouldScrollIntoView:le},X=ae.createElement(D1e,sn({},_,D),function(ce){var V=ce.ref,Z=ce.placerProps,he=Z.placement,xe=Z.maxHeight;return ae.createElement(l,sn({},_,D,{innerRef:V,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:he}),ae.createElement(lxe,{captureEnabled:S,onTopArrive:se,onBottomArrive:me,lockEnabled:J},function(Ve){return ae.createElement(f,sn({},_,{innerRef:function(Me){i.getMenuListRef(Me),Ve(Me)},innerProps:{role:"listbox","aria-multiselectable":_.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:xe,focusedOption:x}),fe)}))});return U||ee==="fixed"?ae.createElement(h,sn({},_,{appendTo:U,controlElement:this.controlRef,menuPlacement:B,menuPosition:ee}),X):X}},{key:"renderFormField",value:function(){var i=this,a=this.props,s=a.delimiter,o=a.isDisabled,l=a.isMulti,f=a.name,h=a.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!o)return ae.createElement(dxe,{name:f,onFocus:this.onValueInputFocus});if(!(!f||o))if(l)if(s){var m=p.map(function(x){return i.getOptionValue(x)}).join(s);return ae.createElement("input",{name:f,type:"hidden",value:m})}else{var y=p.length>0?p.map(function(x,E){return ae.createElement("input",{key:"i-".concat(E),name:f,type:"hidden",value:i.getOptionValue(x)})}):ae.createElement("input",{name:f,type:"hidden",value:""});return ae.createElement("div",null,y)}else{var _=p[0]?this.getOptionValue(p[0]):"";return ae.createElement("input",{name:f,type:"hidden",value:_})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,s=a.ariaSelection,o=a.focusedOption,l=a.focusedValue,f=a.isFocused,h=a.selectValue,p=this.getFocusableOptions();return ae.createElement(JSe,sn({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:o,focusedValue:l,isFocused:f,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,s=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,f=this.props,h=f.className,p=f.id,m=f.isDisabled,y=f.menuIsOpen,_=this.state.isFocused,x=this.commonProps=this.getCommonProps();return ae.createElement(o,sn({},x,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:_}),this.renderLiveRegion(),ae.createElement(a,sn({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:_,menuIsOpen:y}),ae.createElement(l,sn({},x,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),ae.createElement(s,sn({},x,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var s=a.prevProps,o=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,f=a.ariaSelection,h=a.isFocused,p=a.prevWasFocused,m=a.instancePrefix,y=i.options,_=i.value,x=i.menuIsOpen,E=i.inputValue,S=i.isMulti,b=B4(_),A={};if(s&&(_!==s.value||y!==s.options||x!==s.menuIsOpen||E!==s.inputValue)){var k=x?Rxe(i,b):[],M=x?n6(P_(i,b),"".concat(m,"-option")):[],I=o?Oxe(a,b):null,F=Pxe(a,k),B=OT(M,F);A={selectValue:b,focusedOption:F,focusedOptionId:B,focusableOptionsWithIds:M,focusedValue:I,clearFocusValueOnUpdate:!1}}var ee=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},U=f,J=h&&p;return h&&!J&&(U={value:wv(S,b,b[0]||null),options:b,action:"initial-input-focus"},J=!p),(f==null?void 0:f.action)==="initial-input-focus"&&(U=null),rn(rn(rn({},A),ee),{},{prevProps:i,ariaSelection:U,prevWasFocused:J})}}]),n}(ae.Component);s9.defaultProps=Axe;var Lxe=ae.forwardRef(function(t,e){var n=tbe(t);return ae.createElement(s9,sn({ref:e},n))}),Mxe=Lxe;const kxe=({webId:t})=>{const{communityId:e}=Vn(),[,n,,r]=Ms(t,e),[i,a]=ae.useState(""),{data:s,...o}=rge(i),l=Vhe(),f=zhe(),h=async({id:_,document:x})=>{await oo(l({interest:_,document:x,person:t}),{pending:"Removing interest",success:"Interest removed"})},p=ae.useMemo(()=>Wwe(a,500),[]),m=ae.useCallback(_=>p(_),[p]),y=async _=>{_&&await oo(f({interest:_.id,person:t,document:t}),{pending:`Adding ${_.label} to interests`,success:`${_.label} added to interests`})};return n||n===void 0?ge.jsx(ba,{children:"loading interests"}):ge.jsxs("div",{children:[ge.jsx("ul",{className:jg.list,"data-cy":"interests-list-edit",children:r.map(({id:_,document:x})=>ge.jsx("li",{children:ge.jsx(Dxe,{id:_,onRemove:()=>h({id:_,document:x})})},_+x))}),ge.jsx(Mxe,{options:s,filterOption:()=>!0,formatOptionLabel:_=>ge.jsxs("div",{title:_.description,children:[_.label,_.aliases.length>0&&` (${_.aliases.join(", ")})`,ge.jsx("br",{}),_.description]}),isLoading:o.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:m,onChange:y,className:"cy-select-interests"})]})},Dxe=({id:t,onRemove:e})=>{const{data:n}=sq(t),r={id:t,label:t.split("/").pop(),description:t},i=qc({},r,n);return ge.jsxs("span",{title:i.description,className:jg.item,"data-cy":"edit-interest",children:[i.label," ",ge.jsx("button",{onClick:e,children:ge.jsx(uB,{})})]})},Nxe="_container_6bk5k_1",Fxe="_uploadButton_6bk5k_17",o9={container:Nxe,uploadButton:Fxe},jxe=()=>{const{communityId:t}=Vn(),e=Ui(),n=Nd(),[,,r,,i]=Ms(e.webId,t),a=Hhe(),s=oce(),o=sce(),l=async f=>{var y;if(!e.webId)throw new Error("Not signed in (should not happen)");if(!r)throw new Error("Hospex document not found");const h=(y=f.photo)==null?void 0:y[0];let p;const m=i==null?void 0:i.photo;h&&(p=await o.mutateAsync({uri:ri(r),data:h})),await a({hospexDocument:r,personId:e.webId,data:{...f,photo:p},language:"en"}),h&&m&&await s.mutateAsync({uri:m}),n("..")};if(!e.webId)throw new Error("Not signed in (should not happen)");return i?ge.jsxs("div",{className:o9.container,children:[ge.jsx($xe,{initialData:i,onSubmit:f=>oo(l(f),{pending:"Updating profile",success:"Profile updated"})}),ge.jsx("label",{children:"Interests"}),ge.jsx(kxe,{webId:e.webId})]}):ge.jsx(ba,{children:"Fetching profile"})},$xe=({initialData:t,onSubmit:e})=>{const{register:n,handleSubmit:r,watch:i,setValue:a}=Em({defaultValues:Hq(t,"photo")});ae.useEffect(()=>{typeof t.name=="string"&&a("name",t.name)},[t.name,a]),ae.useEffect(()=>{typeof t.about=="string"&&a("about",t.about)},[t.about,a]);const{data:s}=zA(t.photo),o=r(async p=>{await e(p)}),[l,f]=ae.useState();ae.useEffect(()=>{const p=i(async(m,{name:y})=>{var _;if(y==="photo"){const x=(_=m.photo)==null?void 0:_[0];x&&f(await Yle(x))}});return()=>p.unsubscribe()},[i]);const h=l||s;return ge.jsxs("form",{onSubmit:o,children:[ge.jsx("label",{htmlFor:"name",children:"Name"}),ge.jsx("input",{id:"name",type:"text",...n("name"),placeholder:"Name"}),ge.jsx("label",{htmlFor:"photo",children:"Photo"}),ge.jsxs("label",{tabIndex:0,htmlFor:"photo",className:o9.uploadButton,style:h?{backgroundImage:`url(${h})`}:void 0,children:[ge.jsx(yce,{}),ge.jsx("input",{id:"photo",type:"file",...n("photo"),accept:"image/*"})]}),ge.jsx("label",{htmlFor:"about",children:"About me"}),ge.jsx("textarea",{id:"about",...n("about")}),ge.jsx(Kr,{primary:!0,children:"Save changes"})]})},Uxe="_container_14k79_1",Bxe={container:Uxe},qxe=()=>{const t=Ui(),{data:e}=V0(t.webId);return ge.jsxs("div",{className:Bxe.container,children:[ge.jsxs(Fc,{to:"travel",secondary:!0,children:[ge.jsx(_ce,{size:24})," travel"]}),ge.jsxs(Fc,{to:"host",secondary:!0,children:[ge.jsx(sB,{size:24})," host"]}),ge.jsxs(Fc,{to:"messages",secondary:!0,children:[ge.jsx(Sce,{size:24})," messages",e!=null&&e.length?` (${e.length} new)`:null]})]})},Hxe="_container_u0fgb_1",PT={container:Hxe},u9=({tabs:t,children:e})=>ge.jsxs("div",{className:PT.container,children:[e,ge.jsx("nav",{className:PT.navigation,children:t.map(({link:n,label:r})=>ge.jsx(vK,{className:({isActive:i})=>i?PT.active:void 0,to:n,children:r},n))})]}),zxe=()=>ge.jsx(u9,{tabs:[],children:ge.jsx(p0,{})}),Vxe=()=>ge.jsx(wA,{to:"offers",replace:!0}),Kxe=()=>ge.jsx(ge.Fragment,{children:"InvitePeople"});var I_={exports:{}},Gxe=I_.exports,i6;function Wxe(){return i6||(i6=1,function(t,e){(function(n,r){t.exports=r()})(Gxe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",f="day",h="week",p="month",m="quarter",y="year",_="date",x="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,S=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Y){var se=["th","st","nd","rd"],me=Y%100;return"["+Y+(se[(me-20)%10]||se[me]||se[0])+"]"}},A=function(Y,se,me){var ve=String(Y);return!ve||ve.length>=se?Y:""+Array(se+1-ve.length).join(me)+Y},k={s:A,z:function(Y){var se=-Y.utcOffset(),me=Math.abs(se),ve=Math.floor(me/60),fe=me%60;return(se<=0?"+":"-")+A(ve,2,"0")+":"+A(fe,2,"0")},m:function Y(se,me){if(se.date()<me.date())return-Y(me,se);var ve=12*(me.year()-se.year())+(me.month()-se.month()),fe=se.clone().add(ve,p),ue=me-fe<0,Oe=se.clone().add(ve+(ue?-1:1),p);return+(-(ve+(me-fe)/(ue?fe-Oe:Oe-fe))||0)},a:function(Y){return Y<0?Math.ceil(Y)||0:Math.floor(Y)},p:function(Y){return{M:p,y,w:h,d:f,D:_,h:l,m:o,s,ms:a,Q:m}[Y]||String(Y||"").toLowerCase().replace(/s$/,"")},u:function(Y){return Y===void 0}},M="en",I={};I[M]=b;var F=function(Y){return Y instanceof J},B=function Y(se,me,ve){var fe;if(!se)return M;if(typeof se=="string"){var ue=se.toLowerCase();I[ue]&&(fe=ue),me&&(I[ue]=me,fe=ue);var Oe=se.split("-");if(!fe&&Oe.length>1)return Y(Oe[0])}else{var D=se.name;I[D]=se,fe=D}return!ve&&fe&&(M=fe),fe||!ve&&M},ee=function(Y,se){if(F(Y))return Y.clone();var me=typeof se=="object"?se:{};return me.date=Y,me.args=arguments,new J(me)},U=k;U.l=B,U.i=F,U.w=function(Y,se){return ee(Y,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var J=function(){function Y(me){this.$L=B(me.locale,null,!0),this.parse(me)}var se=Y.prototype;return se.parse=function(me){this.$d=function(ve){var fe=ve.date,ue=ve.utc;if(fe===null)return new Date(NaN);if(U.u(fe))return new Date;if(fe instanceof Date)return new Date(fe);if(typeof fe=="string"&&!/Z$/i.test(fe)){var Oe=fe.match(E);if(Oe){var D=Oe[2]-1||0,X=(Oe[7]||"0").substring(0,3);return ue?new Date(Date.UTC(Oe[1],D,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,X)):new Date(Oe[1],D,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,X)}}return new Date(fe)}(me),this.$x=me.x||{},this.init()},se.init=function(){var me=this.$d;this.$y=me.getFullYear(),this.$M=me.getMonth(),this.$D=me.getDate(),this.$W=me.getDay(),this.$H=me.getHours(),this.$m=me.getMinutes(),this.$s=me.getSeconds(),this.$ms=me.getMilliseconds()},se.$utils=function(){return U},se.isValid=function(){return this.$d.toString()!==x},se.isSame=function(me,ve){var fe=ee(me);return this.startOf(ve)<=fe&&fe<=this.endOf(ve)},se.isAfter=function(me,ve){return ee(me)<this.startOf(ve)},se.isBefore=function(me,ve){return this.endOf(ve)<ee(me)},se.$g=function(me,ve,fe){return U.u(me)?this[ve]:this.set(fe,me)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(me,ve){var fe=this,ue=!!U.u(ve)||ve,Oe=U.p(me),D=function(Te,Me){var Ze=U.w(fe.$u?Date.UTC(fe.$y,Me,Te):new Date(fe.$y,Me,Te),fe);return ue?Ze:Ze.endOf(f)},X=function(Te,Me){return U.w(fe.toDate()[Te].apply(fe.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(Me)),fe)},ce=this.$W,V=this.$M,Z=this.$D,he="set"+(this.$u?"UTC":"");switch(Oe){case y:return ue?D(1,0):D(31,11);case p:return ue?D(1,V):D(0,V+1);case h:var xe=this.$locale().weekStart||0,Ve=(ce<xe?ce+7:ce)-xe;return D(ue?Z-Ve:Z+(6-Ve),V);case f:case _:return X(he+"Hours",0);case l:return X(he+"Minutes",1);case o:return X(he+"Seconds",2);case s:return X(he+"Milliseconds",3);default:return this.clone()}},se.endOf=function(me){return this.startOf(me,!1)},se.$set=function(me,ve){var fe,ue=U.p(me),Oe="set"+(this.$u?"UTC":""),D=(fe={},fe[f]=Oe+"Date",fe[_]=Oe+"Date",fe[p]=Oe+"Month",fe[y]=Oe+"FullYear",fe[l]=Oe+"Hours",fe[o]=Oe+"Minutes",fe[s]=Oe+"Seconds",fe[a]=Oe+"Milliseconds",fe)[ue],X=ue===f?this.$D+(ve-this.$W):ve;if(ue===p||ue===y){var ce=this.clone().set(_,1);ce.$d[D](X),ce.init(),this.$d=ce.set(_,Math.min(this.$D,ce.daysInMonth())).$d}else D&&this.$d[D](X);return this.init(),this},se.set=function(me,ve){return this.clone().$set(me,ve)},se.get=function(me){return this[U.p(me)]()},se.add=function(me,ve){var fe,ue=this;me=Number(me);var Oe=U.p(ve),D=function(V){var Z=ee(ue);return U.w(Z.date(Z.date()+Math.round(V*me)),ue)};if(Oe===p)return this.set(p,this.$M+me);if(Oe===y)return this.set(y,this.$y+me);if(Oe===f)return D(1);if(Oe===h)return D(7);var X=(fe={},fe[o]=r,fe[l]=i,fe[s]=n,fe)[Oe]||1,ce=this.$d.getTime()+me*X;return U.w(ce,this)},se.subtract=function(me,ve){return this.add(-1*me,ve)},se.format=function(me){var ve=this,fe=this.$locale();if(!this.isValid())return fe.invalidDate||x;var ue=me||"YYYY-MM-DDTHH:mm:ssZ",Oe=U.z(this),D=this.$H,X=this.$m,ce=this.$M,V=fe.weekdays,Z=fe.months,he=function(Me,Ze,ie,z){return Me&&(Me[Ze]||Me(ve,ue))||ie[Ze].slice(0,z)},xe=function(Me){return U.s(D%12||12,Me,"0")},Ve=fe.meridiem||function(Me,Ze,ie){var z=Me<12?"AM":"PM";return ie?z.toLowerCase():z},Te={YY:String(this.$y).slice(-2),YYYY:U.s(this.$y,4,"0"),M:ce+1,MM:U.s(ce+1,2,"0"),MMM:he(fe.monthsShort,ce,Z,3),MMMM:he(Z,ce),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:he(fe.weekdaysMin,this.$W,V,2),ddd:he(fe.weekdaysShort,this.$W,V,3),dddd:V[this.$W],H:String(D),HH:U.s(D,2,"0"),h:xe(1),hh:xe(2),a:Ve(D,X,!0),A:Ve(D,X,!1),m:String(X),mm:U.s(X,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:Oe};return ue.replace(S,function(Me,Ze){return Ze||Te[Me]||Oe.replace(":","")})},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(me,ve,fe){var ue,Oe=U.p(ve),D=ee(me),X=(D.utcOffset()-this.utcOffset())*r,ce=this-D,V=U.m(this,D);return V=(ue={},ue[y]=V/12,ue[p]=V,ue[m]=V/3,ue[h]=(ce-X)/6048e5,ue[f]=(ce-X)/864e5,ue[l]=ce/i,ue[o]=ce/r,ue[s]=ce/n,ue)[Oe]||ce,fe?V:U.a(V)},se.daysInMonth=function(){return this.endOf(p).$D},se.$locale=function(){return I[this.$L]},se.locale=function(me,ve){if(!me)return this.$L;var fe=this.clone(),ue=B(me,ve,!0);return ue&&(fe.$L=ue),fe},se.clone=function(){return U.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},Y}(),le=J.prototype;return ee.prototype=le,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",f],["$M",p],["$y",y],["$D",_]].forEach(function(Y){le[Y[1]]=function(se){return this.$g(se,Y[0],Y[1])}}),ee.extend=function(Y,se){return Y.$i||(Y(se,J,ee),Y.$i=!0),ee},ee.locale=B,ee.isDayjs=F,ee.unix=function(Y){return ee(1e3*Y)},ee.en=I[M],ee.Ls=I,ee.p={},ee})}(I_)),I_.exports}var Qxe=Wxe();const a6=Ur(Qxe),Zxe=()=>{const t=lu(Ad);return ae.useCallback(async({senderId:e,message:n,chat:r})=>{const a=`${ri(r)}${a6().format("YYYY/MM/DD")}/chat.ttl`,s=`${a}#msg-${yl()}`,o=new Date().toISOString();return await t.mutateAsync({uri:ri(r)+a6().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message??(l.message=[]),l.message.push({"@id":s,created:o,content:n,maker:{"@id":e}})}}),{messageId:s,todayChat:a,createdAt:o}},[t])},Jxe=()=>{const t=Ls(L8);return ae.useCallback(async({inbox:e,senderId:n,messageId:r,chatId:i,updated:a,content:s})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:s,maker:{"@id":n}},target:{"@id":i},updated:a}})},[t])},Yxe=()=>{const t=Ls(Ad),e=Ls(Xc),n=zq(!0);return ae.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:s,privateTypeIndex:o})=>{const l=`${s}messages/${yl()}/`,f=`${l}index.ttl`,h=`${f}#this`,p=new Date().toISOString();await t.mutateAsync({uri:f,data:{"@id":h,type:{"@id":"LongChat"},author:{"@id":r},created2:p,title:"Hospex chat channel",participation:[{"@id":`${f}#${yl()}`,dtstart:p,participant:{"@id":r}},{"@id":`${f}#${yl()}`,dtstart:p,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const m=await El(l);return await e.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Sn.Read},{"@id":Sn.Write},{"@id":Sn.Control}]},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Sn.Read}]}]}),await n({index:o,type:"LongChat",location:h}),{chatContainer:l,chatFile:f,chatId:h}},[e,t,n])},Xxe=()=>{const t=lu(Ad),e=z0();return ae.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await t.mutateAsync({uri:r,subject:r,transform:s=>{var l,f,h;if(!s.participation)throw new Error("no participation");if(s.participation&&s.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const o=(l=s.participation)==null?void 0:l.find(p=>{var m;return((m=p.participant)==null?void 0:m["@id"])===a});if(!o)throw new Error("other person's participation not found");if(((f=o.references)==null?void 0:f.length)===1&&o.references[0]["@id"]===i)throw new Error("already updated");if(o.references&&((h=o.references)==null?void 0:h.length)>0)throw new Error("participation already references some other chat");o.references=[{"@id":i}]}})}catch(s){if(!(s instanceof Error&&s.message==="already updated"))throw s}await e.mutateAsync({uri:n})},[e,t])},eEe=({me:t,userId:e})=>{const{quads:n,variables:r,isLoading:i}=wa(ae.useMemo(()=>({query:hhe,variables:{person:[t],otherPerson:[e]},fetch:yr,staleTime:3e4}),[t,e])),a=ae.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Ad);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>p.fromSubject(y)).filter(y=>{var _;return((_=y.participation)==null?void 0:_.length)&&y.participation.length<=2}).flatMap(y=>{var _;return(_=y==null?void 0:y.message)==null?void 0:_.flatMap(x=>{var E;return{id:x["@id"],message:x.content,createdAt:new Date(x.created).getTime(),from:x.maker["@id"],chat:y["@id"],test:(E=y.participation)==null?void 0:E.map(S=>S.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),s=ae.useMemo(()=>{const p=Zn.createLdoDataset(n).usingType(Ad);return(r.chatWithOtherPerson??[]).map(y=>p.fromSubject(y)).filter(y=>{var _;return((_=y.participation)==null?void 0:_.length)&&y.participation.length<=2}).flatMap(y=>{var _,x;return y["@id"]?{myChat:y["@id"],otherChats:(x=(_=y.participation)==null?void 0:_[0].references)==null?void 0:x.flatMap(E=>E["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:o,...l}=V0(t),f=ae.useMemo(()=>o.filter(p=>p.from===e),[o,e]);return[ae.useMemo(()=>{const p=[...a];return f.forEach(m=>{const y=a.findIndex(_=>_.id===m.id);y>-1?p[y]=m:p.push(m)}),p.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,f]),{isLoading:i},l,s]},tEe=({from:t,to:e,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:t.id,name:t.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:e.id,name:e.name}}),nEe=t=>async({data:e})=>{if(!(await yr(new URL("notification",t),{method:"POST",body:JSON.stringify(tEe(e)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},rEe=({from:t,to:e,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=Vn();n??(n=i);const[s]=Ms(t,n),[o]=Ms(e,n),{mutateAsync:l}=fs({mutationFn:nEe(a)});return ae.useCallback(async f=>{await l({type:r,data:{...f,from:s,to:o}})},[s,l,o,r])};var l9=Symbol.for("immer-nothing"),s6=Symbol.for("immer-draftable"),Ha=Symbol.for("immer-state");function Is(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Id=Object.getPrototypeOf;function Ld(t){return!!t&&!!t[Ha]}function Vc(t){var e;return t?c9(t)||Array.isArray(t)||!!t[s6]||!!((e=t.constructor)!=null&&e[s6])||tw(t)||nw(t):!1}var iEe=Object.prototype.constructor.toString();function c9(t){if(!t||typeof t!="object")return!1;const e=Id(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===iEe}function Hg(t,e){ew(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function ew(t){const e=t[Ha];return e?e.type_:Array.isArray(t)?1:tw(t)?2:nw(t)?3:0}function eA(t,e){return ew(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function f9(t,e,n){const r=ew(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function aEe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function tw(t){return t instanceof Map}function nw(t){return t instanceof Set}function _c(t){return t.copy_||t.base_}function tA(t,e){if(tw(t))return new Map(t);if(nw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&c9(t))return Id(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Ha];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],s=n[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[a]})}return Object.create(Id(t),n)}function KR(t,e=!1){return rw(t)||Ld(t)||!Vc(t)||(ew(t)>1&&(t.set=t.add=t.clear=t.delete=sEe),Object.freeze(t),e&&Hg(t,(n,r)=>KR(r,!0))),t}function sEe(){Is(2)}function rw(t){return Object.isFrozen(t)}var oEe={};function Kc(t){const e=oEe[t];return e||Is(0,t),e}var zg;function d9(){return zg}function uEe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function o6(t,e){e&&(Kc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nA(t){rA(t),t.drafts_.forEach(lEe),t.drafts_=null}function rA(t){t===zg&&(zg=t.parent_)}function u6(t){return zg=uEe(zg,t)}function lEe(t){const e=t[Ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function l6(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ha].modified_&&(nA(e),Is(4)),Vc(t)&&(t=l0(e,t),e.parent_||c0(e,t)),e.patches_&&Kc("Patches").generateReplacementPatches_(n[Ha].base_,t,e.patches_,e.inversePatches_)):t=l0(e,n,[]),nA(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==l9?t:void 0}function l0(t,e,n){if(rw(e))return e;const r=e[Ha];if(!r)return Hg(e,(i,a)=>c6(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return c0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),Hg(a,(o,l)=>c6(t,r,i,o,l,n,s)),c0(t,i,!1),n&&t.patches_&&Kc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function c6(t,e,n,r,i,a,s){if(Ld(i)){const o=a&&e&&e.type_!==3&&!eA(e.assigned_,r)?a.concat(r):void 0,l=l0(t,i,o);if(f9(n,r,l),Ld(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Vc(i)&&!rw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;l0(t,i),(!e||!e.scope_.parent_)&&c0(t,i)}}function c0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KR(e,n)}function cEe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:d9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=GR;n&&(i=[r],a=Vg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var GR={get(t,e){if(e===Ha)return t;const n=_c(t);if(!eA(n,e))return fEe(t,n,e);const r=n[e];return t.finalized_||!Vc(r)?r:r===IT(t.base_,e)?(LT(t),t.copy_[e]=aA(r,t)):r},has(t,e){return e in _c(t)},ownKeys(t){return Reflect.ownKeys(_c(t))},set(t,e,n){const r=h9(_c(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=IT(_c(t),e),a=i==null?void 0:i[Ha];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(aEe(n,i)&&(n!==void 0||eA(t.base_,e)))return!0;LT(t),iA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return IT(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,LT(t),iA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=_c(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Is(11)},getPrototypeOf(t){return Id(t.base_)},setPrototypeOf(){Is(12)}},Vg={};Hg(GR,(t,e)=>{Vg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Vg.deleteProperty=function(t,e){return Vg.set.call(this,t,e,void 0)};Vg.set=function(t,e,n){return GR.set.call(this,t[0],e,n,t[0])};function IT(t,e){const n=t[Ha];return(n?_c(n):t)[e]}function fEe(t,e,n){var i;const r=h9(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function h9(t,e){if(!(e in t))return;let n=Id(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Id(n)}}function iA(t){t.modified_||(t.modified_=!0,t.parent_&&iA(t.parent_))}function LT(t){t.copy_||(t.copy_=tA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var dEe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...f){return s.produce(l,h=>n.call(this,h,...f))}}typeof n!="function"&&Is(6),r!==void 0&&typeof r!="function"&&Is(7);let i;if(Vc(e)){const a=u6(this),s=aA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?nA(a):rA(a)}return o6(a,r),l6(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===l9&&(i=void 0),this.autoFreeze_&&KR(i,!0),r){const a=[],s=[];Kc("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else Is(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Vc(t)||Is(8),Ld(t)&&(t=hEe(t));const e=u6(this),n=aA(t,void 0);return n[Ha].isManual_=!0,rA(e),n}finishDraft(t,e){const n=t&&t[Ha];(!n||!n.isManual_)&&Is(9);const{scope_:r}=n;return o6(r,e),l6(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Kc("Patches").applyPatches_;return Ld(t)?r(t,e):this.produce(t,i=>r(i,e))}};function aA(t,e){const n=tw(t)?Kc("MapSet").proxyMap_(t,e):nw(t)?Kc("MapSet").proxySet_(t,e):cEe(t,e);return(e?e.scope_:d9()).drafts_.push(n),n}function hEe(t){return Ld(t)||Is(10,t),p9(t)}function p9(t){if(!Vc(t)||rw(t))return t;const e=t[Ha];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=tA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=tA(t,!0);return Hg(n,(r,i)=>{f9(n,r,p9(i))}),e&&(e.finalized_=!1),n}var za=new dEe,MT=za.produce;za.produceWithPatches.bind(za);za.setAutoFreeze.bind(za);za.setUseStrictShallowCopy.bind(za);za.applyPatches.bind(za);za.createDraft.bind(za);za.finishDraft.bind(za);const pEe="_messages_nfyb6_1",gEe="_message_nfyb6_1",mEe="_fromMe_nfyb6_12",yEe="_unread_nfyb6_17",vEe="_time_nfyb6_20",_Ee="_messageForm_nfyb6_24",Gf={messages:pEe,message:gEe,fromMe:mEe,unread:yEe,time:vEe,messageForm:_Ee},wEe=()=>{var se,me;const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=Vn(),r=vA().id,i=Ui(),[a,s]=ae.useState(!1),[o,l,f,h]=eEe({me:i.webId??"",userId:r}),{privateTypeIndexes:p,personalHospexDocuments:m}=$g(i.webId??"",t),[y]=K8(r),_=(se=y==null?void 0:y.inbox)==null?void 0:se["@id"],x=Zxe(),E=Jxe(),S=Yxe(),b=rEe({from:i.webId,to:r,type:"message"}),A=Xxe(),[k,M]=ae.useState({}),I=ae.useRef(new Set);ae.useEffect(()=>{(async()=>{var ve;if(o&&i.webId&&((ve=h[0])!=null&&ve.myChat)){for(const fe of o)if(fe.notification&&!(fe.id in k)&&!I.current.has(fe.id)){I.current.add(fe.id),M(MT(ue=>{ue[fe.id]="processing"}));try{await A({notificationId:fe.notification,chat:h[0].myChat,otherChat:fe.chat,otherPerson:r}),M(MT(ue=>{ue[fe.id]="processed"}))}catch{M(MT(ue=>{ue[fe.id]="errored"}))}}}})()},[i.webId,h,o,k,r,A]);const F=(me=o.filter(ve=>ve.notification).find(ve=>!!ve.chat))==null?void 0:me.chat,{register:B,handleSubmit:ee,reset:U}=Em(),J=ee(async ve=>{var D,X,ce;if(!i.webId)throw new Error("No authenticated user available");if(s(!0),!_)throw new Error("Inbox of the other person not found (probably too soon)");let fe=(D=h[0])==null?void 0:D.myChat;if(!fe){if(!m[0])throw new Error("Hospex not set up (should not happen)");if(!p[0])throw new Error("Private type index not set up (should not happen)");({chatId:fe}=await S({me:i.webId,otherPerson:r,hospexContainer:ri(m[0]),otherChat:((ce=(X=h[0])==null?void 0:X.otherChats)==null?void 0:ce[0])??F??void 0,privateTypeIndex:p[0]}))}const{messageId:ue,createdAt:Oe}=await oo(x({senderId:i.webId,message:ve.message,chat:fe}),{pending:"Creating message",success:"Message was created"});await oo(E({inbox:_,senderId:i.webId,messageId:ue,chatId:fe,updated:Oe,content:ve.message}),{pending:"Sending Solid notification",success:"Solid notification was sent"}),U({message:""}),s(!1),e&&n==="simple"&&await oo(b({messageId:ue,message:ve.message}),{pending:"Sending email notification",success:"Email notification was sent"})}),le=a||!_,Y=!l.isLoading&&!f.isLoading&&!h.some(ve=>!!ve.myChat);return ge.jsxs("div",{children:[ge.jsx("pre",{children:(l.isLoading||f.isLoading)&&"Loading"}),"Messages with ",ge.jsx(NR,{webId:r,link:!0}),ge.jsx("div",{className:Gf.messages,children:(o==null?void 0:o.map(({id:ve,message:fe,from:ue,createdAt:Oe,status:D})=>ge.jsxs("div",{className:mi(Gf.message,ue===i.webId&&Gf.fromMe,D==="unread"&&Gf.unread),"data-cy":"message","data-cy-message-from":ue===i.webId?"me":"other",children:[fe," ",ge.jsx("span",{className:Gf.time,title:new Date(Oe).toLocaleString(),children:new Date(Oe).toLocaleTimeString()})]},ve)))??ge.jsx("div",{children:ge.jsx(ba,{children:"Loading previous messages"})})}),Y&&ge.jsx(ge.Fragment,{children:"This is a start of your conversation"}),ge.jsx("form",{onSubmit:J,className:Gf.messageForm,children:ge.jsxs("fieldset",{disabled:le,children:[ge.jsx("textarea",{...B("message",{required:!0})}),ge.jsx(Kr,{primary:!0,type:"submit",disabled:le,children:"Send"})]})})]})},bEe=()=>ge.jsx(ge.Fragment,{children:"MyGuests"}),SEe=()=>ge.jsx(ge.Fragment,{children:"MyHosts"});/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const hc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.add(n)})},pc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.remove(n)})},g9=An.Marker.extend({initialize(t,e){An.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const n=this._getIconSVG(t,e);this._locationIcon=An.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const n=t.radius,r=t.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+e+'" /></svg>',w:a,h:a}},setStyle(t){An.setOptions(this,t),this.createIcon()}}),xEe=g9.extend({initialize(t,e,n){An.setOptions(this,n),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const n=t.radius,r=t.width+t.weight,i=(n+t.depth+t.weight)*2,a=`M0,0 l${t.width/2},${t.depth} l-${r},0 z`,s=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${s}"><path d="`+a+'" style="'+e+'" /></svg>',w:r,h:i}}}),EEe=An.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:g9,compassClass:xEe,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const n=An.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);n.title=e.strings.title,n.href="#",n.setAttribute("role","button");const r=An.DomUtil.create(e.iconElementTag,e.icon,n);if(e.strings.text!==void 0){const i=An.DomUtil.create(e.textElementTag,"leaflet-locate-text",n);i.textContent=e.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",e.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?An.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=An.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=An.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=An.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=An.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new An.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,An.DomEvent.on(this._link,"click",function(r){An.DomEvent.stopPropagation(r),An.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",An.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,n=function(){An.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?An.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&An.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),An.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const s=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(s):this._circle=An.circle(e,t,s).addTo(this._layer)}let n,r;if(this.options.metric?(n=t.toFixed(0),r=this.options.strings.metersUnit):(n=(t*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const s=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(s)):this._marker=new this.options.markerClass(e,s).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?An.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(e),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,An.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(pc(this._container,"active following"),hc(this._container,"requesting"),pc(this._icon,this.options.icon),hc(this._icon,this.options.iconLoading)):t=="active"?(pc(this._container,"requesting following"),hc(this._container,"active"),pc(this._icon,this.options.iconLoading),hc(this._icon,this.options.icon)):t=="following"&&(pc(this._container,"requesting"),hc(this._container,"active following"),pc(this._icon,this.options.iconLoading),hc(this._icon,this.options.icon))},_cleanClasses(){An.DomUtil.removeClass(this._container,"requesting"),An.DomUtil.removeClass(this._container,"active"),An.DomUtil.removeClass(this._container,"following"),pc(this._icon,this.options.iconLoading),hc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function TEe(t,e){const n=ae.useRef(e);ae.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const CEe=1;function AEe(t){return Object.freeze({__version:CEe,map:t})}function REe(t,e){return Object.freeze({...t,...e})}const WR=ae.createContext(null);function iw(){const t=ae.use(WR);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function m9(t){function e(n,r){const{instance:i,context:a}=t(n).current;ae.useImperativeHandle(r,()=>i);const{children:s}=n;return s==null?null:Gt.createElement(WR,{value:a},s)}return ae.forwardRef(e)}function y9(t){function e(n,r){const{instance:i}=t(n).current;return ae.useImperativeHandle(r,()=>i),null}return ae.forwardRef(e)}function OEe(t){return function(n){const r=iw(),i=t(n,r),{instance:a}=i.current,s=ae.useRef(n.position),{position:o}=n;return ae.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),ae.useEffect(function(){o!=null&&o!==s.current&&(a.setPosition(o),s.current=o)},[a,o]),i}}function v9(t,e){const n=ae.useRef(void 0);ae.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function QR(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function ZR(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function aw(t,e){return e==null?function(r,i){const a=ae.useRef(void 0);return a.current||(a.current=t(r,i)),a}:function(r,i){const a=ae.useRef(void 0);a.current||(a.current=t(r,i));const s=ae.useRef(r),{instance:o}=a.current;return ae.useEffect(function(){s.current!==r&&(e(o,r,s.current),s.current=r)},[o,r,e]),a}}function _9(t,e){ae.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function w9(t){return function(n){const r=iw(),i=t(QR(n,r),r);return TEe(r.map,n.attribution),v9(i.current,n.eventHandlers),_9(i.current,r),i}}function PEe(t,e){const n=ae.useRef(void 0);ae.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function IEe(t){return function(n){const r=iw(),i=t(QR(n,r),r);return v9(i.current,n.eventHandlers),_9(i.current,r),PEe(i.current,n),i}}function LEe(t){function e(i,a){return ZR(t(i),a)}const n=aw(e),r=OEe(n);return y9(r)}function MEe(t,e){const n=aw(t,e),r=w9(n);return m9(r)}function kEe(t,e){const n=aw(t,e),r=IEe(n);return m9(r)}function DEe(t,e){const n=aw(t,e),r=w9(n);return y9(r)}function NEe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const b9=LEe(t=>new EEe(t));function JR(){return iw().map}function kT(t,e){const n=JR();return ae.useEffect(function(){return n.on(t,e),function(){n.off(t,e)}},[n,t,e]),n}function FEe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:s,style:o,whenReady:l,zoom:f,...h},p){const[m]=ae.useState({className:i,id:a,style:o}),[y,_]=ae.useState(null),x=ae.useRef(void 0);ae.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const E=ae.useCallback(b=>{if(b!==null&&!x.current){const A=new An.Map(b,h);x.current=A,n!=null&&f!=null?A.setView(n,f):t!=null&&A.fitBounds(t,e),l!=null&&A.whenReady(l),_(AEe(A))}},[]);ae.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const S=y?Gt.createElement(WR,{value:y},r):s??null;return Gt.createElement("div",{...m,ref:E},S)}const YR=ae.forwardRef(FEe),XR=MEe(function({position:e,...n},r){const i=new An.Marker(e,n);return ZR(i,REe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),eO=DEe(function({url:e,...n},r){const i=new An.TileLayer(e,QR(n,r));return ZR(i,r)},function(e,n,r){NEe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),jEe="_mapContainer_fuu1s_1",$Ee="_description_fuu1s_7",sA={mapContainer:jEe,description:$Ee},f6=t=>(t%360-180*3)%360+180,bv=t=>{const e=t.getBounds();return{n:e.getNorth(),s:e.getSouth(),e:e.getEast(),w:e.getWest()}},S9=({onChange:t,onUpdate:e})=>{const n=JR(),r=ae.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=bv(n);t==null||t({lat:s,long:o},l)},[n,t]),i=ae.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=f6(o),f={lat:s,long:l};if(Math.abs(l-o)>1){n.setView([s,l],n.getZoom(),{animate:!1});const p=bv(n);t==null||t(f,p)}const h=bv(n);e==null||e(f,h)},[n,t,e]),a=ae.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=f6(o),f={lat:s,long:l};Math.abs(l-o)>1&&n.setView([s,l],n.getZoom(),{animate:!1});const h=bv(n);e==null||e(f,h)},[n,e]);return kT("load",a),kT("move",r),kT("moveend",i),ae.useEffect(()=>{n&&a()},[a,n]),null},UEe=({value:t,onChange:e,isInitial:n})=>{const r=ae.useMemo(()=>[t.lat,t.long],[t.lat,t.long]),{tileServer:i}=Vn();return ge.jsxs(YR,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:mi(sA.mapContainer,"accommodation-map-container-edit"),children:[ge.jsx(eO,{url:i}),ge.jsx(b9,{strings:{title:"Select my location"},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),ge.jsx(XR,{position:r}),ge.jsx(S9,{onChange:e})]})},BEe="_container_yzk6k_1",qEe="_header_yzk6k_10",HEe="_accommodation_yzk6k_17",zEe="_accommodationForm_yzk6k_27",VEe="_errorMessage_yzk6k_34",KEe="_inputError_yzk6k_39",GEe="_actions_yzk6k_45",WEe="_addAccommodationButton_yzk6k_54",us={container:BEe,header:qEe,accommodation:HEe,accommodationForm:zEe,errorMessage:VEe,inputError:KEe,actions:GEe,addAccommodationButton:WEe};var d6=function(t,e,n){if(t&&"reportValidity"in t){var r=$t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},x9=function(t,e){var n=function(i){var a=e.fields[i];a&&a.ref&&"reportValidity"in a.ref?d6(a.ref,i,t):a.refs&&a.refs.forEach(function(s){return d6(s,i,t)})};for(var r in e.fields)n(r)},QEe=function(t,e){e.shouldUseNativeValidation&&x9(t,e);var n={};for(var r in t){var i=$t(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(ZEe(e.names||Object.keys(t),r)){var s=Object.assign({},$t(n,r));mr(s,"root",a),mr(n,r,s)}else mr(n,r,a)}return n},ZEe=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},Sv={exports:{}},DT={},Wo={},gc={},NT={},FT={},jT={},h6;function Kg(){return h6||(h6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(b){if(super(),!t.IDENTIFIER.test(b))throw new Error("CodeGen: name must be a valid identifier");this.str=b}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(b){super(),this._items=typeof b=="string"?[b]:b}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const b=this._items[0];return b===""||b==='""'}get str(){var b;return(b=this._str)!==null&&b!==void 0?b:this._str=this._items.reduce((A,k)=>`${A}${k}`,"")}get names(){var b;return(b=this._names)!==null&&b!==void 0?b:this._names=this._items.reduce((A,k)=>(k instanceof n&&(A[k.str]=(A[k.str]||0)+1),A),{})}}t._Code=r,t.nil=new r("");function i(S,...b){const A=[S[0]];let k=0;for(;k<b.length;)o(A,b[k]),A.push(S[++k]);return new r(A)}t._=i;const a=new r("+");function s(S,...b){const A=[y(S[0])];let k=0;for(;k<b.length;)A.push(a),o(A,b[k]),A.push(a,y(S[++k]));return l(A),new r(A)}t.str=s;function o(S,b){b instanceof r?S.push(...b._items):b instanceof n?S.push(b):S.push(p(b))}t.addCodeArg=o;function l(S){let b=1;for(;b<S.length-1;){if(S[b]===a){const A=f(S[b-1],S[b+1]);if(A!==void 0){S.splice(b-1,3,A);continue}S[b++]="+"}b++}}function f(S,b){if(b==='""')return S;if(S==='""')return b;if(typeof S=="string")return b instanceof n||S[S.length-1]!=='"'?void 0:typeof b!="string"?`${S.slice(0,-1)}${b}"`:b[0]==='"'?S.slice(0,-1)+b.slice(1):void 0;if(typeof b=="string"&&b[0]==='"'&&!(S instanceof n))return`"${S}${b.slice(1)}`}function h(S,b){return b.emptyStr()?S:S.emptyStr()?b:s`${S}${b}`}t.strConcat=h;function p(S){return typeof S=="number"||typeof S=="boolean"||S===null?S:y(Array.isArray(S)?S.join(","):S)}function m(S){return new r(y(S))}t.stringify=m;function y(S){return JSON.stringify(S).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function _(S){return typeof S=="string"&&t.IDENTIFIER.test(S)?new r(`.${S}`):i`[${S}]`}t.getProperty=_;function x(S){if(typeof S=="string"&&t.IDENTIFIER.test(S))return new r(`${S}`);throw new Error(`CodeGen: invalid export name: ${S}, use explicit $id name mapping`)}t.getEsmExportName=x;function E(S){return new r(S.toString())}t.regexpCode=E}(jT)),jT}var $T={},p6;function g6(){return p6||(p6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Kg();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:f,parent:h}={}){this._names={},this._prefixes=f,this._parent=h}toName(f){return f instanceof e.Name?f:this.name(f)}name(f){return new e.Name(this._newName(f))}_newName(f){const h=this._names[f]||this._nameGroup(f);return`${f}${h.index++}`}_nameGroup(f){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}t.Scope=i;class a extends e.Name{constructor(f,h){super(h),this.prefix=f}setValue(f,{property:h,itemIndex:p}){this.value=f,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=a;const s=(0,e._)`\n`;class o extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?s:e.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(f),{prefix:y}=m,_=(p=h.key)!==null&&p!==void 0?p:h.ref;let x=this._values[y];if(x){const b=x.get(_);if(b)return b}else x=this._values[y]=new Map;x.set(_,m);const E=this._scope[y]||(this._scope[y]=[]),S=E.length;return E[S]=h.ref,m.setValue(h,{property:y,itemIndex:S}),m}getValue(f,h){const p=this._values[f];if(p)return p.get(h)}scopeRefs(f,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${f}${p.scopePath}`})}scopeCode(f=this._values,h,p){return this._reduceValues(f,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},h,p)}_reduceValues(f,h,p={},m){let y=e.nil;for(const _ in f){const x=f[_];if(!x)continue;const E=p[_]=p[_]||new Map;x.forEach(S=>{if(E.has(S))return;E.set(S,r.Started);let b=h(S);if(b){const A=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${A} ${S} = ${b};${this.opts._n}`}else if(b=m==null?void 0:m(S))y=(0,e._)`${y}${b}${this.opts._n}`;else throw new n(S);E.set(S,r.Completed)})}return y}}t.ValueScope=o}($T)),$T}var m6;function Pn(){return m6||(m6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Kg(),n=g6();var r=Kg();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=g6();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(Z,he){return this}}class s extends a{constructor(Z,he,xe){super(),this.varKind=Z,this.name=he,this.rhs=xe}render({es5:Z,_n:he}){const xe=Z?n.varKinds.var:this.varKind,Ve=this.rhs===void 0?"":` = ${this.rhs}`;return`${xe} ${this.name}${Ve};`+he}optimizeNames(Z,he){if(Z[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,Z,he)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends a{constructor(Z,he,xe){super(),this.lhs=Z,this.rhs=he,this.sideEffects=xe}render({_n:Z}){return`${this.lhs} = ${this.rhs};`+Z}optimizeNames(Z,he){if(!(this.lhs instanceof e.Name&&!Z[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,Z,he),this}get names(){const Z=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Y(Z,this.rhs)}}class l extends o{constructor(Z,he,xe,Ve){super(Z,xe,Ve),this.op=he}render({_n:Z}){return`${this.lhs} ${this.op}= ${this.rhs};`+Z}}class f extends a{constructor(Z){super(),this.label=Z,this.names={}}render({_n:Z}){return`${this.label}:`+Z}}class h extends a{constructor(Z){super(),this.label=Z,this.names={}}render({_n:Z}){return`break${this.label?` ${this.label}`:""};`+Z}}class p extends a{constructor(Z){super(),this.error=Z}render({_n:Z}){return`throw ${this.error};`+Z}get names(){return this.error.names}}class m extends a{constructor(Z){super(),this.code=Z}render({_n:Z}){return`${this.code};`+Z}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Z,he){return this.code=se(this.code,Z,he),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends a{constructor(Z=[]){super(),this.nodes=Z}render(Z){return this.nodes.reduce((he,xe)=>he+xe.render(Z),"")}optimizeNodes(){const{nodes:Z}=this;let he=Z.length;for(;he--;){const xe=Z[he].optimizeNodes();Array.isArray(xe)?Z.splice(he,1,...xe):xe?Z[he]=xe:Z.splice(he,1)}return Z.length>0?this:void 0}optimizeNames(Z,he){const{nodes:xe}=this;let Ve=xe.length;for(;Ve--;){const Te=xe[Ve];Te.optimizeNames(Z,he)||(me(Z,Te.names),xe.splice(Ve,1))}return xe.length>0?this:void 0}get names(){return this.nodes.reduce((Z,he)=>le(Z,he.names),{})}}class _ extends y{render(Z){return"{"+Z._n+super.render(Z)+"}"+Z._n}}class x extends y{}class E extends _{}E.kind="else";class S extends _{constructor(Z,he){super(he),this.condition=Z}render(Z){let he=`if(${this.condition})`+super.render(Z);return this.else&&(he+="else "+this.else.render(Z)),he}optimizeNodes(){super.optimizeNodes();const Z=this.condition;if(Z===!0)return this.nodes;let he=this.else;if(he){const xe=he.optimizeNodes();he=this.else=Array.isArray(xe)?new E(xe):xe}if(he)return Z===!1?he instanceof S?he:he.nodes:this.nodes.length?this:new S(ve(Z),he instanceof S?[he]:he.nodes);if(!(Z===!1||!this.nodes.length))return this}optimizeNames(Z,he){var xe;if(this.else=(xe=this.else)===null||xe===void 0?void 0:xe.optimizeNames(Z,he),!!(super.optimizeNames(Z,he)||this.else))return this.condition=se(this.condition,Z,he),this}get names(){const Z=super.names;return Y(Z,this.condition),this.else&&le(Z,this.else.names),Z}}S.kind="if";class b extends _{}b.kind="for";class A extends b{constructor(Z){super(),this.iteration=Z}render(Z){return`for(${this.iteration})`+super.render(Z)}optimizeNames(Z,he){if(super.optimizeNames(Z,he))return this.iteration=se(this.iteration,Z,he),this}get names(){return le(super.names,this.iteration.names)}}class k extends b{constructor(Z,he,xe,Ve){super(),this.varKind=Z,this.name=he,this.from=xe,this.to=Ve}render(Z){const he=Z.es5?n.varKinds.var:this.varKind,{name:xe,from:Ve,to:Te}=this;return`for(${he} ${xe}=${Ve}; ${xe}<${Te}; ${xe}++)`+super.render(Z)}get names(){const Z=Y(super.names,this.from);return Y(Z,this.to)}}class M extends b{constructor(Z,he,xe,Ve){super(),this.loop=Z,this.varKind=he,this.name=xe,this.iterable=Ve}render(Z){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Z)}optimizeNames(Z,he){if(super.optimizeNames(Z,he))return this.iterable=se(this.iterable,Z,he),this}get names(){return le(super.names,this.iterable.names)}}class I extends _{constructor(Z,he,xe){super(),this.name=Z,this.args=he,this.async=xe}render(Z){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Z)}}I.kind="func";class F extends y{render(Z){return"return "+super.render(Z)}}F.kind="return";class B extends _{render(Z){let he="try"+super.render(Z);return this.catch&&(he+=this.catch.render(Z)),this.finally&&(he+=this.finally.render(Z)),he}optimizeNodes(){var Z,he;return super.optimizeNodes(),(Z=this.catch)===null||Z===void 0||Z.optimizeNodes(),(he=this.finally)===null||he===void 0||he.optimizeNodes(),this}optimizeNames(Z,he){var xe,Ve;return super.optimizeNames(Z,he),(xe=this.catch)===null||xe===void 0||xe.optimizeNames(Z,he),(Ve=this.finally)===null||Ve===void 0||Ve.optimizeNames(Z,he),this}get names(){const Z=super.names;return this.catch&&le(Z,this.catch.names),this.finally&&le(Z,this.finally.names),Z}}class ee extends _{constructor(Z){super(),this.error=Z}render(Z){return`catch(${this.error})`+super.render(Z)}}ee.kind="catch";class U extends _{render(Z){return"finally"+super.render(Z)}}U.kind="finally";class J{constructor(Z,he={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...he,_n:he.lines?`
`:""},this._extScope=Z,this._scope=new n.Scope({parent:Z}),this._nodes=[new x]}toString(){return this._root.render(this.opts)}name(Z){return this._scope.name(Z)}scopeName(Z){return this._extScope.name(Z)}scopeValue(Z,he){const xe=this._extScope.value(Z,he);return(this._values[xe.prefix]||(this._values[xe.prefix]=new Set)).add(xe),xe}getScopeValue(Z,he){return this._extScope.getValue(Z,he)}scopeRefs(Z){return this._extScope.scopeRefs(Z,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Z,he,xe,Ve){const Te=this._scope.toName(he);return xe!==void 0&&Ve&&(this._constants[Te.str]=xe),this._leafNode(new s(Z,Te,xe)),Te}const(Z,he,xe){return this._def(n.varKinds.const,Z,he,xe)}let(Z,he,xe){return this._def(n.varKinds.let,Z,he,xe)}var(Z,he,xe){return this._def(n.varKinds.var,Z,he,xe)}assign(Z,he,xe){return this._leafNode(new o(Z,he,xe))}add(Z,he){return this._leafNode(new l(Z,t.operators.ADD,he))}code(Z){return typeof Z=="function"?Z():Z!==e.nil&&this._leafNode(new m(Z)),this}object(...Z){const he=["{"];for(const[xe,Ve]of Z)he.length>1&&he.push(","),he.push(xe),(xe!==Ve||this.opts.es5)&&(he.push(":"),(0,e.addCodeArg)(he,Ve));return he.push("}"),new e._Code(he)}if(Z,he,xe){if(this._blockNode(new S(Z)),he&&xe)this.code(he).else().code(xe).endIf();else if(he)this.code(he).endIf();else if(xe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Z){return this._elseNode(new S(Z))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(S,E)}_for(Z,he){return this._blockNode(Z),he&&this.code(he).endFor(),this}for(Z,he){return this._for(new A(Z),he)}forRange(Z,he,xe,Ve,Te=this.opts.es5?n.varKinds.var:n.varKinds.let){const Me=this._scope.toName(Z);return this._for(new k(Te,Me,he,xe),()=>Ve(Me))}forOf(Z,he,xe,Ve=n.varKinds.const){const Te=this._scope.toName(Z);if(this.opts.es5){const Me=he instanceof e.Name?he:this.var("_arr",he);return this.forRange("_i",0,(0,e._)`${Me}.length`,Ze=>{this.var(Te,(0,e._)`${Me}[${Ze}]`),xe(Te)})}return this._for(new M("of",Ve,Te,he),()=>xe(Te))}forIn(Z,he,xe,Ve=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(Z,(0,e._)`Object.keys(${he})`,xe);const Te=this._scope.toName(Z);return this._for(new M("in",Ve,Te,he),()=>xe(Te))}endFor(){return this._endBlockNode(b)}label(Z){return this._leafNode(new f(Z))}break(Z){return this._leafNode(new h(Z))}return(Z){const he=new F;if(this._blockNode(he),this.code(Z),he.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(Z,he,xe){if(!he&&!xe)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ve=new B;if(this._blockNode(Ve),this.code(Z),he){const Te=this.name("e");this._currNode=Ve.catch=new ee(Te),he(Te)}return xe&&(this._currNode=Ve.finally=new U,this.code(xe)),this._endBlockNode(ee,U)}throw(Z){return this._leafNode(new p(Z))}block(Z,he){return this._blockStarts.push(this._nodes.length),Z&&this.code(Z).endBlock(he),this}endBlock(Z){const he=this._blockStarts.pop();if(he===void 0)throw new Error("CodeGen: not in self-balancing block");const xe=this._nodes.length-he;if(xe<0||Z!==void 0&&xe!==Z)throw new Error(`CodeGen: wrong number of nodes: ${xe} vs ${Z} expected`);return this._nodes.length=he,this}func(Z,he=e.nil,xe,Ve){return this._blockNode(new I(Z,he,xe)),Ve&&this.code(Ve).endFunc(),this}endFunc(){return this._endBlockNode(I)}optimize(Z=1){for(;Z-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Z){return this._currNode.nodes.push(Z),this}_blockNode(Z){this._currNode.nodes.push(Z),this._nodes.push(Z)}_endBlockNode(Z,he){const xe=this._currNode;if(xe instanceof Z||he&&xe instanceof he)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${he?`${Z.kind}/${he.kind}`:Z.kind}"`)}_elseNode(Z){const he=this._currNode;if(!(he instanceof S))throw new Error('CodeGen: "else" without "if"');return this._currNode=he.else=Z,this}get _root(){return this._nodes[0]}get _currNode(){const Z=this._nodes;return Z[Z.length-1]}set _currNode(Z){const he=this._nodes;he[he.length-1]=Z}}t.CodeGen=J;function le(V,Z){for(const he in Z)V[he]=(V[he]||0)+(Z[he]||0);return V}function Y(V,Z){return Z instanceof e._CodeOrName?le(V,Z.names):V}function se(V,Z,he){if(V instanceof e.Name)return xe(V);if(!Ve(V))return V;return new e._Code(V._items.reduce((Te,Me)=>(Me instanceof e.Name&&(Me=xe(Me)),Me instanceof e._Code?Te.push(...Me._items):Te.push(Me),Te),[]));function xe(Te){const Me=he[Te.str];return Me===void 0||Z[Te.str]!==1?Te:(delete Z[Te.str],Me)}function Ve(Te){return Te instanceof e._Code&&Te._items.some(Me=>Me instanceof e.Name&&Z[Me.str]===1&&he[Me.str]!==void 0)}}function me(V,Z){for(const he in Z)V[he]=(V[he]||0)-(Z[he]||0)}function ve(V){return typeof V=="boolean"||typeof V=="number"||V===null?!V:(0,e._)`!${ce(V)}`}t.not=ve;const fe=X(t.operators.AND);function ue(...V){return V.reduce(fe)}t.and=ue;const Oe=X(t.operators.OR);function D(...V){return V.reduce(Oe)}t.or=D;function X(V){return(Z,he)=>Z===e.nil?he:he===e.nil?Z:(0,e._)`${ce(Z)} ${V} ${ce(he)}`}function ce(V){return V instanceof e.Name?V:(0,e._)`(${V})`}}(FT)),FT}var Cn={},y6;function zn(){if(y6)return Cn;y6=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.checkStrictMode=Cn.getErrorPath=Cn.Type=Cn.useFunc=Cn.setEvaluated=Cn.evaluatedPropsToName=Cn.mergeEvaluated=Cn.eachItem=Cn.unescapeJsonPointer=Cn.escapeJsonPointer=Cn.escapeFragment=Cn.unescapeFragment=Cn.schemaRefOrVal=Cn.schemaHasRulesButRef=Cn.schemaHasRules=Cn.checkUnknownRules=Cn.alwaysValidSchema=Cn.toHash=void 0;const t=Pn(),e=Kg();function n(M){const I={};for(const F of M)I[F]=!0;return I}Cn.toHash=n;function r(M,I){return typeof I=="boolean"?I:Object.keys(I).length===0?!0:(i(M,I),!a(I,M.self.RULES.all))}Cn.alwaysValidSchema=r;function i(M,I=M.schema){const{opts:F,self:B}=M;if(!F.strictSchema||typeof I=="boolean")return;const ee=B.RULES.keywords;for(const U in I)ee[U]||k(M,`unknown keyword: "${U}"`)}Cn.checkUnknownRules=i;function a(M,I){if(typeof M=="boolean")return!M;for(const F in M)if(I[F])return!0;return!1}Cn.schemaHasRules=a;function s(M,I){if(typeof M=="boolean")return!M;for(const F in M)if(F!=="$ref"&&I.all[F])return!0;return!1}Cn.schemaHasRulesButRef=s;function o({topSchemaRef:M,schemaPath:I},F,B,ee){if(!ee){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,t._)`${F}`}return(0,t._)`${M}${I}${(0,t.getProperty)(B)}`}Cn.schemaRefOrVal=o;function l(M){return p(decodeURIComponent(M))}Cn.unescapeFragment=l;function f(M){return encodeURIComponent(h(M))}Cn.escapeFragment=f;function h(M){return typeof M=="number"?`${M}`:M.replace(/~/g,"~0").replace(/\//g,"~1")}Cn.escapeJsonPointer=h;function p(M){return M.replace(/~1/g,"/").replace(/~0/g,"~")}Cn.unescapeJsonPointer=p;function m(M,I){if(Array.isArray(M))for(const F of M)I(F);else I(M)}Cn.eachItem=m;function y({mergeNames:M,mergeToName:I,mergeValues:F,resultToName:B}){return(ee,U,J,le)=>{const Y=J===void 0?U:J instanceof t.Name?(U instanceof t.Name?M(ee,U,J):I(ee,U,J),J):U instanceof t.Name?(I(ee,J,U),U):F(U,J);return le===t.Name&&!(Y instanceof t.Name)?B(ee,Y):Y}}Cn.mergeEvaluated={props:y({mergeNames:(M,I,F)=>M.if((0,t._)`${F} !== true && ${I} !== undefined`,()=>{M.if((0,t._)`${I} === true`,()=>M.assign(F,!0),()=>M.assign(F,(0,t._)`${F} || {}`).code((0,t._)`Object.assign(${F}, ${I})`))}),mergeToName:(M,I,F)=>M.if((0,t._)`${F} !== true`,()=>{I===!0?M.assign(F,!0):(M.assign(F,(0,t._)`${F} || {}`),x(M,F,I))}),mergeValues:(M,I)=>M===!0?!0:{...M,...I},resultToName:_}),items:y({mergeNames:(M,I,F)=>M.if((0,t._)`${F} !== true && ${I} !== undefined`,()=>M.assign(F,(0,t._)`${I} === true ? true : ${F} > ${I} ? ${F} : ${I}`)),mergeToName:(M,I,F)=>M.if((0,t._)`${F} !== true`,()=>M.assign(F,I===!0?!0:(0,t._)`${F} > ${I} ? ${F} : ${I}`)),mergeValues:(M,I)=>M===!0?!0:Math.max(M,I),resultToName:(M,I)=>M.var("items",I)})};function _(M,I){if(I===!0)return M.var("props",!0);const F=M.var("props",(0,t._)`{}`);return I!==void 0&&x(M,F,I),F}Cn.evaluatedPropsToName=_;function x(M,I,F){Object.keys(F).forEach(B=>M.assign((0,t._)`${I}${(0,t.getProperty)(B)}`,!0))}Cn.setEvaluated=x;const E={};function S(M,I){return M.scopeValue("func",{ref:I,code:E[I.code]||(E[I.code]=new e._Code(I.code))})}Cn.useFunc=S;var b;(function(M){M[M.Num=0]="Num",M[M.Str=1]="Str"})(b||(Cn.Type=b={}));function A(M,I,F){if(M instanceof t.Name){const B=I===b.Num;return F?B?(0,t._)`"[" + ${M} + "]"`:(0,t._)`"['" + ${M} + "']"`:B?(0,t._)`"/" + ${M}`:(0,t._)`"/" + ${M}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,t.getProperty)(M).toString():"/"+h(M)}Cn.getErrorPath=A;function k(M,I,F=M.opts.strictSchema){if(F){if(I=`strict mode: ${I}`,F===!0)throw new Error(I);M.self.logger.warn(I)}}return Cn.checkStrictMode=k,Cn}var xv={},v6;function vu(){if(v6)return xv;v6=1,Object.defineProperty(xv,"__esModule",{value:!0});const t=Pn(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return xv.default=e,xv}var _6;function Cm(){return _6||(_6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Pn(),n=zn(),r=vu();t.keywordError={message:({keyword:E})=>(0,e.str)`must pass "${E}" keyword validation`},t.keyword$DataError={message:({keyword:E,schemaType:S})=>S?(0,e.str)`"${E}" keyword must be ${S} ($data)`:(0,e.str)`"${E}" keyword is invalid ($data)`};function i(E,S=t.keywordError,b,A){const{it:k}=E,{gen:M,compositeRule:I,allErrors:F}=k,B=p(E,S,b);A??(I||F)?l(M,B):f(k,(0,e._)`[${B}]`)}t.reportError=i;function a(E,S=t.keywordError,b){const{it:A}=E,{gen:k,compositeRule:M,allErrors:I}=A,F=p(E,S,b);l(k,F),M||I||f(A,r.default.vErrors)}t.reportExtraError=a;function s(E,S){E.assign(r.default.errors,S),E.if((0,e._)`${r.default.vErrors} !== null`,()=>E.if(S,()=>E.assign((0,e._)`${r.default.vErrors}.length`,S),()=>E.assign(r.default.vErrors,null)))}t.resetErrorsCount=s;function o({gen:E,keyword:S,schemaValue:b,data:A,errsCount:k,it:M}){if(k===void 0)throw new Error("ajv implementation error");const I=E.name("err");E.forRange("i",k,r.default.errors,F=>{E.const(I,(0,e._)`${r.default.vErrors}[${F}]`),E.if((0,e._)`${I}.instancePath === undefined`,()=>E.assign((0,e._)`${I}.instancePath`,(0,e.strConcat)(r.default.instancePath,M.errorPath))),E.assign((0,e._)`${I}.schemaPath`,(0,e.str)`${M.errSchemaPath}/${S}`),M.opts.verbose&&(E.assign((0,e._)`${I}.schema`,b),E.assign((0,e._)`${I}.data`,A))})}t.extendErrors=o;function l(E,S){const b=E.const("err",S);E.if((0,e._)`${r.default.vErrors} === null`,()=>E.assign(r.default.vErrors,(0,e._)`[${b}]`),(0,e._)`${r.default.vErrors}.push(${b})`),E.code((0,e._)`${r.default.errors}++`)}function f(E,S){const{gen:b,validateName:A,schemaEnv:k}=E;k.$async?b.throw((0,e._)`new ${E.ValidationError}(${S})`):(b.assign((0,e._)`${A}.errors`,S),b.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(E,S,b){const{createErrors:A}=E.it;return A===!1?(0,e._)`{}`:m(E,S,b)}function m(E,S,b={}){const{gen:A,it:k}=E,M=[y(k,b),_(E,b)];return x(E,S,M),A.object(...M)}function y({errorPath:E},{instancePath:S}){const b=S?(0,e.str)`${E}${(0,n.getErrorPath)(S,n.Type.Str)}`:E;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,b)]}function _({keyword:E,it:{errSchemaPath:S}},{schemaPath:b,parentSchema:A}){let k=A?S:(0,e.str)`${S}/${E}`;return b&&(k=(0,e.str)`${k}${(0,n.getErrorPath)(b,n.Type.Str)}`),[h.schemaPath,k]}function x(E,{params:S,message:b},A){const{keyword:k,data:M,schemaValue:I,it:F}=E,{opts:B,propertyName:ee,topSchemaRef:U,schemaPath:J}=F;A.push([h.keyword,k],[h.params,typeof S=="function"?S(E):S||(0,e._)`{}`]),B.messages&&A.push([h.message,typeof b=="function"?b(E):b]),B.verbose&&A.push([h.schema,I],[h.parentSchema,(0,e._)`${U}${J}`],[r.default.data,M]),ee&&A.push([h.propertyName,ee])}}(NT)),NT}var w6;function JEe(){if(w6)return gc;w6=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.boolOrEmptySchema=gc.topBoolOrEmptySchema=void 0;const t=Cm(),e=Pn(),n=vu(),r={message:"boolean schema is false"};function i(o){const{gen:l,schema:f,validateName:h}=o;f===!1?s(o,!1):typeof f=="object"&&f.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${h}.errors`,null),l.return(!0))}gc.topBoolOrEmptySchema=i;function a(o,l){const{gen:f,schema:h}=o;h===!1?(f.var(l,!1),s(o)):f.var(l,!0)}gc.boolOrEmptySchema=a;function s(o,l){const{gen:f,data:h}=o,p={gen:f,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(p,r,void 0,l)}return gc}var Si={},mc={},b6;function E9(){if(b6)return mc;b6=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.getRules=mc.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}mc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return mc.getRules=r,mc}var Qo={},S6;function T9(){if(S6)return Qo;S6=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.shouldUseRule=Qo.shouldUseGroup=Qo.schemaHasRulesForType=void 0;function t({schema:r,self:i},a){const s=i.RULES.types[a];return s&&s!==!0&&e(r,s)}Qo.schemaHasRulesForType=t;function e(r,i){return i.rules.some(a=>n(r,a))}Qo.shouldUseGroup=e;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(s=>r[s]!==void 0))}return Qo.shouldUseRule=n,Qo}var x6;function f0(){if(x6)return Si;x6=1,Object.defineProperty(Si,"__esModule",{value:!0}),Si.reportTypeError=Si.checkDataTypes=Si.checkDataType=Si.coerceAndCheckDataType=Si.getJSONTypes=Si.getSchemaTypes=Si.DataType=void 0;const t=E9(),e=T9(),n=Cm(),r=Pn(),i=zn();var a;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(a||(Si.DataType=a={}));function s(b){const A=o(b.type);if(A.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&A.push("null")}return A}Si.getSchemaTypes=s;function o(b){const A=Array.isArray(b)?b:b?[b]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}Si.getJSONTypes=o;function l(b,A){const{gen:k,data:M,opts:I}=b,F=h(A,I.coerceTypes),B=A.length>0&&!(F.length===0&&A.length===1&&(0,e.schemaHasRulesForType)(b,A[0]));if(B){const ee=_(A,M,I.strictNumbers,a.Wrong);k.if(ee,()=>{F.length?p(b,A,F):E(b)})}return B}Si.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function h(b,A){return A?b.filter(k=>f.has(k)||A==="array"&&k==="array"):[]}function p(b,A,k){const{gen:M,data:I,opts:F}=b,B=M.let("dataType",(0,r._)`typeof ${I}`),ee=M.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&M.if((0,r._)`${B} == 'object' && Array.isArray(${I}) && ${I}.length == 1`,()=>M.assign(I,(0,r._)`${I}[0]`).assign(B,(0,r._)`typeof ${I}`).if(_(A,I,F.strictNumbers),()=>M.assign(ee,I))),M.if((0,r._)`${ee} !== undefined`);for(const J of k)(f.has(J)||J==="array"&&F.coerceTypes==="array")&&U(J);M.else(),E(b),M.endIf(),M.if((0,r._)`${ee} !== undefined`,()=>{M.assign(I,ee),m(b,ee)});function U(J){switch(J){case"string":M.elseIf((0,r._)`${B} == "number" || ${B} == "boolean"`).assign(ee,(0,r._)`"" + ${I}`).elseIf((0,r._)`${I} === null`).assign(ee,(0,r._)`""`);return;case"number":M.elseIf((0,r._)`${B} == "boolean" || ${I} === null
              || (${B} == "string" && ${I} && ${I} == +${I})`).assign(ee,(0,r._)`+${I}`);return;case"integer":M.elseIf((0,r._)`${B} === "boolean" || ${I} === null
              || (${B} === "string" && ${I} && ${I} == +${I} && !(${I} % 1))`).assign(ee,(0,r._)`+${I}`);return;case"boolean":M.elseIf((0,r._)`${I} === "false" || ${I} === 0 || ${I} === null`).assign(ee,!1).elseIf((0,r._)`${I} === "true" || ${I} === 1`).assign(ee,!0);return;case"null":M.elseIf((0,r._)`${I} === "" || ${I} === 0 || ${I} === false`),M.assign(ee,null);return;case"array":M.elseIf((0,r._)`${B} === "string" || ${B} === "number"
              || ${B} === "boolean" || ${I} === null`).assign(ee,(0,r._)`[${I}]`)}}}function m({gen:b,parentData:A,parentDataProperty:k},M){b.if((0,r._)`${A} !== undefined`,()=>b.assign((0,r._)`${A}[${k}]`,M))}function y(b,A,k,M=a.Correct){const I=M===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(b){case"null":return(0,r._)`${A} ${I} null`;case"array":F=(0,r._)`Array.isArray(${A})`;break;case"object":F=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":F=B((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":F=B();break;default:return(0,r._)`typeof ${A} ${I} ${b}`}return M===a.Correct?F:(0,r.not)(F);function B(ee=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,ee,k?(0,r._)`isFinite(${A})`:r.nil)}}Si.checkDataType=y;function _(b,A,k,M){if(b.length===1)return y(b[0],A,k,M);let I;const F=(0,i.toHash)(b);if(F.array&&F.object){const B=(0,r._)`typeof ${A} != "object"`;I=F.null?B:(0,r._)`!${A} || ${B}`,delete F.null,delete F.array,delete F.object}else I=r.nil;F.number&&delete F.integer;for(const B in F)I=(0,r.and)(I,y(B,A,k,M));return I}Si.checkDataTypes=_;const x={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:A})=>typeof b=="string"?(0,r._)`{type: ${b}}`:(0,r._)`{type: ${A}}`};function E(b){const A=S(b);(0,n.reportError)(A,x)}Si.reportTypeError=E;function S(b){const{gen:A,data:k,schema:M}=b,I=(0,i.schemaRefOrVal)(b,M,"type");return{gen:A,keyword:"type",data:k,schema:M.type,schemaCode:I,schemaValue:I,parentSchema:M,params:{},it:b}}return Si}var Jp={},E6;function YEe(){if(E6)return Jp;E6=1,Object.defineProperty(Jp,"__esModule",{value:!0}),Jp.assignDefaults=void 0;const t=Pn(),e=zn();function n(i,a){const{properties:s,items:o}=i.schema;if(a==="object"&&s)for(const l in s)r(i,l,s[l].default);else a==="array"&&Array.isArray(o)&&o.forEach((l,f)=>r(i,f,l.default))}Jp.assignDefaults=n;function r(i,a,s){const{gen:o,compositeRule:l,data:f,opts:h}=i;if(s===void 0)return;const p=(0,t._)`${f}${(0,t.getProperty)(a)}`;if(l){(0,e.checkStrictMode)(i,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;h.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),o.if(m,(0,t._)`${p} = ${(0,t.stringify)(s)}`)}return Jp}var bs={},ar={},T6;function $s(){if(T6)return ar;T6=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.validateUnion=ar.validateArray=ar.usePattern=ar.callValidateCode=ar.schemaProperties=ar.allSchemaProperties=ar.noPropertyInData=ar.propertyInData=ar.isOwnProperty=ar.hasPropFunc=ar.reportMissingProp=ar.checkMissingProp=ar.checkReportMissingProp=void 0;const t=Pn(),e=zn(),n=vu(),r=zn();function i(b,A){const{gen:k,data:M,it:I}=b;k.if(h(k,M,A,I.opts.ownProperties),()=>{b.setParams({missingProperty:(0,t._)`${A}`},!0),b.error()})}ar.checkReportMissingProp=i;function a({gen:b,data:A,it:{opts:k}},M,I){return(0,t.or)(...M.map(F=>(0,t.and)(h(b,A,F,k.ownProperties),(0,t._)`${I} = ${F}`)))}ar.checkMissingProp=a;function s(b,A){b.setParams({missingProperty:A},!0),b.error()}ar.reportMissingProp=s;function o(b){return b.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ar.hasPropFunc=o;function l(b,A,k){return(0,t._)`${o(b)}.call(${A}, ${k})`}ar.isOwnProperty=l;function f(b,A,k,M){const I=(0,t._)`${A}${(0,t.getProperty)(k)} !== undefined`;return M?(0,t._)`${I} && ${l(b,A,k)}`:I}ar.propertyInData=f;function h(b,A,k,M){const I=(0,t._)`${A}${(0,t.getProperty)(k)} === undefined`;return M?(0,t.or)(I,(0,t.not)(l(b,A,k))):I}ar.noPropertyInData=h;function p(b){return b?Object.keys(b).filter(A=>A!=="__proto__"):[]}ar.allSchemaProperties=p;function m(b,A){return p(A).filter(k=>!(0,e.alwaysValidSchema)(b,A[k]))}ar.schemaProperties=m;function y({schemaCode:b,data:A,it:{gen:k,topSchemaRef:M,schemaPath:I,errorPath:F},it:B},ee,U,J){const le=J?(0,t._)`${b}, ${A}, ${M}${I}`:A,Y=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,F)],[n.default.parentData,B.parentData],[n.default.parentDataProperty,B.parentDataProperty],[n.default.rootData,n.default.rootData]];B.opts.dynamicRef&&Y.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const se=(0,t._)`${le}, ${k.object(...Y)}`;return U!==t.nil?(0,t._)`${ee}.call(${U}, ${se})`:(0,t._)`${ee}(${se})`}ar.callValidateCode=y;const _=(0,t._)`new RegExp`;function x({gen:b,it:{opts:A}},k){const M=A.unicodeRegExp?"u":"",{regExp:I}=A.code,F=I(k,M);return b.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,t._)`${I.code==="new RegExp"?_:(0,r.useFunc)(b,I)}(${k}, ${M})`})}ar.usePattern=x;function E(b){const{gen:A,data:k,keyword:M,it:I}=b,F=A.name("valid");if(I.allErrors){const ee=A.let("valid",!0);return B(()=>A.assign(ee,!1)),ee}return A.var(F,!0),B(()=>A.break()),F;function B(ee){const U=A.const("len",(0,t._)`${k}.length`);A.forRange("i",0,U,J=>{b.subschema({keyword:M,dataProp:J,dataPropType:e.Type.Num},F),A.if((0,t.not)(F),ee)})}}ar.validateArray=E;function S(b){const{gen:A,schema:k,keyword:M,it:I}=b;if(!Array.isArray(k))throw new Error("ajv implementation error");if(k.some(U=>(0,e.alwaysValidSchema)(I,U))&&!I.opts.unevaluated)return;const B=A.let("valid",!1),ee=A.name("_valid");A.block(()=>k.forEach((U,J)=>{const le=b.subschema({keyword:M,schemaProp:J,compositeRule:!0},ee);A.assign(B,(0,t._)`${B} || ${ee}`),b.mergeValidEvaluated(le,ee)||A.if((0,t.not)(B))})),b.result(B,()=>b.reset(),()=>b.error(!0))}return ar.validateUnion=S,ar}var C6;function XEe(){if(C6)return bs;C6=1,Object.defineProperty(bs,"__esModule",{value:!0}),bs.validateKeywordUsage=bs.validSchemaType=bs.funcKeywordCode=bs.macroKeywordCode=void 0;const t=Pn(),e=vu(),n=$s(),r=Cm();function i(m,y){const{gen:_,keyword:x,schema:E,parentSchema:S,it:b}=m,A=y.macro.call(b.self,E,S,b),k=f(_,x,A);b.opts.validateSchema!==!1&&b.self.validateSchema(A,!0);const M=_.name("valid");m.subschema({schema:A,schemaPath:t.nil,errSchemaPath:`${b.errSchemaPath}/${x}`,topSchemaRef:k,compositeRule:!0},M),m.pass(M,()=>m.error(!0))}bs.macroKeywordCode=i;function a(m,y){var _;const{gen:x,keyword:E,schema:S,parentSchema:b,$data:A,it:k}=m;l(k,y);const M=!A&&y.compile?y.compile.call(k.self,S,b,k):y.validate,I=f(x,E,M),F=x.let("valid");m.block$data(F,B),m.ok((_=y.valid)!==null&&_!==void 0?_:F);function B(){if(y.errors===!1)J(),y.modifying&&s(m),le(()=>m.error());else{const Y=y.async?ee():U();y.modifying&&s(m),le(()=>o(m,Y))}}function ee(){const Y=x.let("ruleErrs",null);return x.try(()=>J((0,t._)`await `),se=>x.assign(F,!1).if((0,t._)`${se} instanceof ${k.ValidationError}`,()=>x.assign(Y,(0,t._)`${se}.errors`),()=>x.throw(se))),Y}function U(){const Y=(0,t._)`${I}.errors`;return x.assign(Y,null),J(t.nil),Y}function J(Y=y.async?(0,t._)`await `:t.nil){const se=k.opts.passContext?e.default.this:e.default.self,me=!("compile"in y&&!A||y.schema===!1);x.assign(F,(0,t._)`${Y}${(0,n.callValidateCode)(m,I,se,me)}`,y.modifying)}function le(Y){var se;x.if((0,t.not)((se=y.valid)!==null&&se!==void 0?se:F),Y)}}bs.funcKeywordCode=a;function s(m){const{gen:y,data:_,it:x}=m;y.if(x.parentData,()=>y.assign(_,(0,t._)`${x.parentData}[${x.parentDataProperty}]`))}function o(m,y){const{gen:_}=m;_.if((0,t._)`Array.isArray(${y})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${y} : ${e.default.vErrors}.concat(${y})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function f(m,y,_){if(_===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function h(m,y,_=!1){return!y.length||y.some(x=>x==="array"?Array.isArray(m):x==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==x||_&&typeof m>"u")}bs.validSchemaType=h;function p({schema:m,opts:y,self:_,errSchemaPath:x},E,S){if(Array.isArray(E.keyword)?!E.keyword.includes(S):E.keyword!==S)throw new Error("ajv implementation error");const b=E.dependencies;if(b!=null&&b.some(A=>!Object.prototype.hasOwnProperty.call(m,A)))throw new Error(`parent schema must have dependencies of ${S}: ${b.join(",")}`);if(E.validateSchema&&!E.validateSchema(m[S])){const k=`keyword "${S}" value is invalid at path "${x}": `+_.errorsText(E.validateSchema.errors);if(y.validateSchema==="log")_.logger.error(k);else throw new Error(k)}}return bs.validateKeywordUsage=p,bs}var Zo={},A6;function e2e(){if(A6)return Zo;A6=1,Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.extendSubschemaMode=Zo.extendSubschemaData=Zo.getSubschema=void 0;const t=Pn(),e=zn();function n(a,{keyword:s,schemaProp:o,schema:l,schemaPath:f,errSchemaPath:h,topSchemaRef:p}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return o===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[o],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,e.escapeFragment)(o)}`}}if(l!==void 0){if(f===void 0||h===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:p,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}Zo.getSubschema=n;function r(a,s,{dataProp:o,dataPropType:l,data:f,dataTypes:h,propertyName:p}){if(f!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(o!==void 0){const{errorPath:_,dataPathArr:x,opts:E}=s,S=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(o)}`,!0);y(S),a.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(o,l,E.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${o}`,a.dataPathArr=[...x,a.parentDataProperty]}if(f!==void 0){const _=f instanceof t.Name?f:m.let("data",f,!0);y(_),p!==void 0&&(a.propertyName=p)}h&&(a.dataTypes=h);function y(_){a.data=_,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,_]}}Zo.extendSubschemaData=r;function i(a,{jtdDiscriminator:s,jtdMetadata:o,compositeRule:l,createErrors:f,allErrors:h}){l!==void 0&&(a.compositeRule=l),f!==void 0&&(a.createErrors=f),h!==void 0&&(a.allErrors=h),a.jtdDiscriminator=s,a.jtdMetadata=o}return Zo.extendSubschemaMode=i,Zo}var ea={},UT,R6;function C9(){return R6||(R6=1,UT=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}),UT}var BT={exports:{}},O6;function t2e(){if(O6)return BT.exports;O6=1;var t=BT.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var s=typeof a=="function"?a:a.pre||function(){},o=a.post||function(){};e(i,s,o,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,a,s,o,l,f,h,p,m){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,o,l,f,h,p,m);for(var y in s){var _=s[y];if(Array.isArray(_)){if(y in t.arrayKeywords)for(var x=0;x<_.length;x++)e(r,i,a,_[x],o+"/"+y+"/"+x,l,o,y,s,x)}else if(y in t.propsKeywords){if(_&&typeof _=="object")for(var E in _)e(r,i,a,_[E],o+"/"+y+"/"+n(E),l,o,y,s,E)}else(y in t.keywords||r.allKeys&&!(y in t.skipKeywords))&&e(r,i,a,_,o+"/"+y,l,o,y,s)}a(s,o,l,f,h,p,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return BT.exports}var P6;function sw(){if(P6)return ea;P6=1,Object.defineProperty(ea,"__esModule",{value:!0}),ea.getSchemaRefs=ea.resolveUrl=ea.normalizeId=ea._getFullPath=ea.getFullPath=ea.inlineRef=void 0;const t=zn(),e=C9(),n=t2e(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(x,E=!0){return typeof x=="boolean"?!0:E===!0?!s(x):E?o(x)<=E:!1}ea.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(x){for(const E in x){if(a.has(E))return!0;const S=x[E];if(Array.isArray(S)&&S.some(s)||typeof S=="object"&&s(S))return!0}return!1}function o(x){let E=0;for(const S in x){if(S==="$ref")return 1/0;if(E++,!r.has(S)&&(typeof x[S]=="object"&&(0,t.eachItem)(x[S],b=>E+=o(b)),E===1/0))return 1/0}return E}function l(x,E="",S){S!==!1&&(E=p(E));const b=x.parse(E);return f(x,b)}ea.getFullPath=l;function f(x,E){return x.serialize(E).split("#")[0]+"#"}ea._getFullPath=f;const h=/#\/?$/;function p(x){return x?x.replace(h,""):""}ea.normalizeId=p;function m(x,E,S){return S=p(S),x.resolve(E,S)}ea.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function _(x,E){if(typeof x=="boolean")return{};const{schemaId:S,uriResolver:b}=this.opts,A=p(x[S]||E),k={"":A},M=l(b,A,!1),I={},F=new Set;return n(x,{allKeys:!0},(U,J,le,Y)=>{if(Y===void 0)return;const se=M+J;let me=k[Y];typeof U[S]=="string"&&(me=ve.call(this,U[S])),fe.call(this,U.$anchor),fe.call(this,U.$dynamicAnchor),k[J]=me;function ve(ue){const Oe=this.opts.uriResolver.resolve;if(ue=p(me?Oe(me,ue):ue),F.has(ue))throw ee(ue);F.add(ue);let D=this.refs[ue];return typeof D=="string"&&(D=this.refs[D]),typeof D=="object"?B(U,D.schema,ue):ue!==p(se)&&(ue[0]==="#"?(B(U,I[ue],ue),I[ue]=U):this.refs[ue]=se),ue}function fe(ue){if(typeof ue=="string"){if(!y.test(ue))throw new Error(`invalid anchor "${ue}"`);ve.call(this,`#${ue}`)}}}),I;function B(U,J,le){if(J!==void 0&&!e(U,J))throw ee(le)}function ee(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return ea.getSchemaRefs=_,ea}var I6;function Am(){if(I6)return Wo;I6=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.getData=Wo.KeywordCxt=Wo.validateFunctionCode=void 0;const t=JEe(),e=f0(),n=T9(),r=f0(),i=YEe(),a=XEe(),s=e2e(),o=Pn(),l=vu(),f=sw(),h=zn(),p=Cm();function m(ie){if(M(ie)&&(F(ie),k(ie))){E(ie);return}y(ie,()=>(0,t.topBoolOrEmptySchema)(ie))}Wo.validateFunctionCode=m;function y({gen:ie,validateName:z,schema:$,schemaEnv:re,opts:W},pe){W.code.es5?ie.func(z,(0,o._)`${l.default.data}, ${l.default.valCxt}`,re.$async,()=>{ie.code((0,o._)`"use strict"; ${b($,W)}`),x(ie,W),ie.code(pe)}):ie.func(z,(0,o._)`${l.default.data}, ${_(W)}`,re.$async,()=>ie.code(b($,W)).code(pe))}function _(ie){return(0,o._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${ie.dynamicRef?(0,o._)`, ${l.default.dynamicAnchors}={}`:o.nil}}={}`}function x(ie,z){ie.if(l.default.valCxt,()=>{ie.var(l.default.instancePath,(0,o._)`${l.default.valCxt}.${l.default.instancePath}`),ie.var(l.default.parentData,(0,o._)`${l.default.valCxt}.${l.default.parentData}`),ie.var(l.default.parentDataProperty,(0,o._)`${l.default.valCxt}.${l.default.parentDataProperty}`),ie.var(l.default.rootData,(0,o._)`${l.default.valCxt}.${l.default.rootData}`),z.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,o._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{ie.var(l.default.instancePath,(0,o._)`""`),ie.var(l.default.parentData,(0,o._)`undefined`),ie.var(l.default.parentDataProperty,(0,o._)`undefined`),ie.var(l.default.rootData,l.default.data),z.dynamicRef&&ie.var(l.default.dynamicAnchors,(0,o._)`{}`)})}function E(ie){const{schema:z,opts:$,gen:re}=ie;y(ie,()=>{$.$comment&&z.$comment&&Y(ie),U(ie),re.let(l.default.vErrors,null),re.let(l.default.errors,0),$.unevaluated&&S(ie),B(ie),se(ie)})}function S(ie){const{gen:z,validateName:$}=ie;ie.evaluated=z.const("evaluated",(0,o._)`${$}.evaluated`),z.if((0,o._)`${ie.evaluated}.dynamicProps`,()=>z.assign((0,o._)`${ie.evaluated}.props`,(0,o._)`undefined`)),z.if((0,o._)`${ie.evaluated}.dynamicItems`,()=>z.assign((0,o._)`${ie.evaluated}.items`,(0,o._)`undefined`))}function b(ie,z){const $=typeof ie=="object"&&ie[z.schemaId];return $&&(z.code.source||z.code.process)?(0,o._)`/*# sourceURL=${$} */`:o.nil}function A(ie,z){if(M(ie)&&(F(ie),k(ie))){I(ie,z);return}(0,t.boolOrEmptySchema)(ie,z)}function k({schema:ie,self:z}){if(typeof ie=="boolean")return!ie;for(const $ in ie)if(z.RULES.all[$])return!0;return!1}function M(ie){return typeof ie.schema!="boolean"}function I(ie,z){const{schema:$,gen:re,opts:W}=ie;W.$comment&&$.$comment&&Y(ie),J(ie),le(ie);const pe=re.const("_errs",l.default.errors);B(ie,pe),re.var(z,(0,o._)`${pe} === ${l.default.errors}`)}function F(ie){(0,h.checkUnknownRules)(ie),ee(ie)}function B(ie,z){if(ie.opts.jtd)return ve(ie,[],!1,z);const $=(0,e.getSchemaTypes)(ie.schema),re=(0,e.coerceAndCheckDataType)(ie,$);ve(ie,$,!re,z)}function ee(ie){const{schema:z,errSchemaPath:$,opts:re,self:W}=ie;z.$ref&&re.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(z,W.RULES)&&W.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function U(ie){const{schema:z,opts:$}=ie;z.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,h.checkStrictMode)(ie,"default is ignored in the schema root")}function J(ie){const z=ie.schema[ie.opts.schemaId];z&&(ie.baseId=(0,f.resolveUrl)(ie.opts.uriResolver,ie.baseId,z))}function le(ie){if(ie.schema.$async&&!ie.schemaEnv.$async)throw new Error("async schema in sync schema")}function Y({gen:ie,schemaEnv:z,schema:$,errSchemaPath:re,opts:W}){const pe=$.$comment;if(W.$comment===!0)ie.code((0,o._)`${l.default.self}.logger.log(${pe})`);else if(typeof W.$comment=="function"){const ye=(0,o.str)`${re}/$comment`,ze=ie.scopeValue("root",{ref:z.root});ie.code((0,o._)`${l.default.self}.opts.$comment(${pe}, ${ye}, ${ze}.schema)`)}}function se(ie){const{gen:z,schemaEnv:$,validateName:re,ValidationError:W,opts:pe}=ie;$.$async?z.if((0,o._)`${l.default.errors} === 0`,()=>z.return(l.default.data),()=>z.throw((0,o._)`new ${W}(${l.default.vErrors})`)):(z.assign((0,o._)`${re}.errors`,l.default.vErrors),pe.unevaluated&&me(ie),z.return((0,o._)`${l.default.errors} === 0`))}function me({gen:ie,evaluated:z,props:$,items:re}){$ instanceof o.Name&&ie.assign((0,o._)`${z}.props`,$),re instanceof o.Name&&ie.assign((0,o._)`${z}.items`,re)}function ve(ie,z,$,re){const{gen:W,schema:pe,data:ye,allErrors:ze,opts:Ce,self:Fe}=ie,{RULES:tt}=Fe;if(pe.$ref&&(Ce.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(pe,tt))){W.block(()=>Ve(ie,"$ref",tt.all.$ref.definition));return}Ce.jtd||ue(ie,z),W.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(pe,gt)&&(gt.type?(W.if((0,r.checkDataType)(gt.type,ye,Ce.strictNumbers)),fe(ie,gt),z.length===1&&z[0]===gt.type&&$&&(W.else(),(0,r.reportTypeError)(ie)),W.endIf()):fe(ie,gt),ze||W.if((0,o._)`${l.default.errors} === ${re||0}`))}}function fe(ie,z){const{gen:$,schema:re,opts:{useDefaults:W}}=ie;W&&(0,i.assignDefaults)(ie,z.type),$.block(()=>{for(const pe of z.rules)(0,n.shouldUseRule)(re,pe)&&Ve(ie,pe.keyword,pe.definition,z.type)})}function ue(ie,z){ie.schemaEnv.meta||!ie.opts.strictTypes||(Oe(ie,z),ie.opts.allowUnionTypes||D(ie,z),X(ie,ie.dataTypes))}function Oe(ie,z){if(z.length){if(!ie.dataTypes.length){ie.dataTypes=z;return}z.forEach($=>{V(ie.dataTypes,$)||he(ie,`type "${$}" not allowed by context "${ie.dataTypes.join(",")}"`)}),Z(ie,z)}}function D(ie,z){z.length>1&&!(z.length===2&&z.includes("null"))&&he(ie,"use allowUnionTypes to allow union type keyword")}function X(ie,z){const $=ie.self.RULES.all;for(const re in $){const W=$[re];if(typeof W=="object"&&(0,n.shouldUseRule)(ie.schema,W)){const{type:pe}=W.definition;pe.length&&!pe.some(ye=>ce(z,ye))&&he(ie,`missing type "${pe.join(",")}" for keyword "${re}"`)}}}function ce(ie,z){return ie.includes(z)||z==="number"&&ie.includes("integer")}function V(ie,z){return ie.includes(z)||z==="integer"&&ie.includes("number")}function Z(ie,z){const $=[];for(const re of ie.dataTypes)V(z,re)?$.push(re):z.includes("integer")&&re==="number"&&$.push("integer");ie.dataTypes=$}function he(ie,z){const $=ie.schemaEnv.baseId+ie.errSchemaPath;z+=` at "${$}" (strictTypes)`,(0,h.checkStrictMode)(ie,z,ie.opts.strictTypes)}class xe{constructor(z,$,re){if((0,a.validateKeywordUsage)(z,$,re),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=re,this.data=z.data,this.schema=z.schema[re],this.$data=$.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(z,this.schema,re,this.$data),this.schemaType=$.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=$,this.$data)this.schemaCode=z.gen.const("vSchema",Ze(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${re} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=z.gen.const("_errs",l.default.errors))}result(z,$,re){this.failResult((0,o.not)(z),$,re)}failResult(z,$,re){this.gen.if(z),re?re():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,$){this.failResult((0,o.not)(z),void 0,$)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:$}=this;this.fail((0,o._)`${$} !== undefined && (${(0,o.or)(this.invalid$data(),z)})`)}error(z,$,re){if($){this.setParams($),this._error(z,re),this.setParams({});return}this._error(z,re)}_error(z,$){(z?p.reportExtraError:p.reportError)(this,this.def.error,$)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,$){$?Object.assign(this.params,z):this.params=z}block$data(z,$,re=o.nil){this.gen.block(()=>{this.check$data(z,re),$()})}check$data(z=o.nil,$=o.nil){if(!this.$data)return;const{gen:re,schemaCode:W,schemaType:pe,def:ye}=this;re.if((0,o.or)((0,o._)`${W} === undefined`,$)),z!==o.nil&&re.assign(z,!0),(pe.length||ye.validateSchema)&&(re.elseIf(this.invalid$data()),this.$dataError(),z!==o.nil&&re.assign(z,!1)),re.else()}invalid$data(){const{gen:z,schemaCode:$,schemaType:re,def:W,it:pe}=this;return(0,o.or)(ye(),ze());function ye(){if(re.length){if(!($ instanceof o.Name))throw new Error("ajv implementation error");const Ce=Array.isArray(re)?re:[re];return(0,o._)`${(0,r.checkDataTypes)(Ce,$,pe.opts.strictNumbers,r.DataType.Wrong)}`}return o.nil}function ze(){if(W.validateSchema){const Ce=z.scopeValue("validate$data",{ref:W.validateSchema});return(0,o._)`!${Ce}(${$})`}return o.nil}}subschema(z,$){const re=(0,s.getSubschema)(this.it,z);(0,s.extendSubschemaData)(re,this.it,z),(0,s.extendSubschemaMode)(re,z);const W={...this.it,...re,items:void 0,props:void 0};return A(W,$),W}mergeEvaluated(z,$){const{it:re,gen:W}=this;re.opts.unevaluated&&(re.props!==!0&&z.props!==void 0&&(re.props=h.mergeEvaluated.props(W,z.props,re.props,$)),re.items!==!0&&z.items!==void 0&&(re.items=h.mergeEvaluated.items(W,z.items,re.items,$)))}mergeValidEvaluated(z,$){const{it:re,gen:W}=this;if(re.opts.unevaluated&&(re.props!==!0||re.items!==!0))return W.if($,()=>this.mergeEvaluated(z,o.Name)),!0}}Wo.KeywordCxt=xe;function Ve(ie,z,$,re){const W=new xe(ie,$,z);"code"in $?$.code(W,re):W.$data&&$.validate?(0,a.funcKeywordCode)(W,$):"macro"in $?(0,a.macroKeywordCode)(W,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(W,$)}const Te=/^\/(?:[^~]|~0|~1)*$/,Me=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ze(ie,{dataLevel:z,dataNames:$,dataPathArr:re}){let W,pe;if(ie==="")return l.default.rootData;if(ie[0]==="/"){if(!Te.test(ie))throw new Error(`Invalid JSON-pointer: ${ie}`);W=ie,pe=l.default.rootData}else{const Fe=Me.exec(ie);if(!Fe)throw new Error(`Invalid JSON-pointer: ${ie}`);const tt=+Fe[1];if(W=Fe[2],W==="#"){if(tt>=z)throw new Error(Ce("property/index",tt));return re[z-tt]}if(tt>z)throw new Error(Ce("data",tt));if(pe=$[z-tt],!W)return pe}let ye=pe;const ze=W.split("/");for(const Fe of ze)Fe&&(pe=(0,o._)`${pe}${(0,o.getProperty)((0,h.unescapeJsonPointer)(Fe))}`,ye=(0,o._)`${ye} && ${pe}`);return ye;function Ce(Fe,tt){return`Cannot access ${Fe} ${tt} levels up, current level is ${z}`}}return Wo.getData=Ze,Wo}var Ev={},L6;function tO(){if(L6)return Ev;L6=1,Object.defineProperty(Ev,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Ev.default=t,Ev}var Tv={},M6;function nO(){if(M6)return Tv;M6=1,Object.defineProperty(Tv,"__esModule",{value:!0});const t=sw();class e extends Error{constructor(r,i,a,s){super(s||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,a),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return Tv.default=e,Tv}var ka={},k6;function rO(){if(k6)return ka;k6=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.resolveSchema=ka.getCompilingSchema=ka.resolveRef=ka.compileSchema=ka.SchemaEnv=void 0;const t=Pn(),e=tO(),n=vu(),r=sw(),i=zn(),a=Am();class s{constructor(S){var b;this.refs={},this.dynamicAnchors={};let A;typeof S.schema=="object"&&(A=S.schema),this.schema=S.schema,this.schemaId=S.schemaId,this.root=S.root||this,this.baseId=(b=S.baseId)!==null&&b!==void 0?b:(0,r.normalizeId)(A==null?void 0:A[S.schemaId||"$id"]),this.schemaPath=S.schemaPath,this.localRefs=S.localRefs,this.meta=S.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}ka.SchemaEnv=s;function o(E){const S=h.call(this,E);if(S)return S;const b=(0,r.getFullPath)(this.opts.uriResolver,E.root.baseId),{es5:A,lines:k}=this.opts.code,{ownProperties:M}=this.opts,I=new t.CodeGen(this.scope,{es5:A,lines:k,ownProperties:M});let F;E.$async&&(F=I.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const B=I.scopeName("validate");E.validateName=B;const ee={gen:I,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:I.scopeValue("schema",this.opts.code.source===!0?{ref:E.schema,code:(0,t.stringify)(E.schema)}:{ref:E.schema}),validateName:B,ValidationError:F,schema:E.schema,schemaEnv:E,rootId:b,baseId:E.baseId||b,schemaPath:t.nil,errSchemaPath:E.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(E),(0,a.validateFunctionCode)(ee),I.optimize(this.opts.code.optimize);const J=I.toString();U=`${I.scopeRefs(n.default.scope)}return ${J}`,this.opts.code.process&&(U=this.opts.code.process(U,E));const Y=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(B,{ref:Y}),Y.errors=null,Y.schema=E.schema,Y.schemaEnv=E,E.$async&&(Y.$async=!0),this.opts.code.source===!0&&(Y.source={validateName:B,validateCode:J,scopeValues:I._values}),this.opts.unevaluated){const{props:se,items:me}=ee;Y.evaluated={props:se instanceof t.Name?void 0:se,items:me instanceof t.Name?void 0:me,dynamicProps:se instanceof t.Name,dynamicItems:me instanceof t.Name},Y.source&&(Y.source.evaluated=(0,t.stringify)(Y.evaluated))}return E.validate=Y,E}catch(J){throw delete E.validate,delete E.validateName,U&&this.logger.error("Error compiling schema, function code:",U),J}finally{this._compilations.delete(E)}}ka.compileSchema=o;function l(E,S,b){var A;b=(0,r.resolveUrl)(this.opts.uriResolver,S,b);const k=E.refs[b];if(k)return k;let M=m.call(this,E,b);if(M===void 0){const I=(A=E.localRefs)===null||A===void 0?void 0:A[b],{schemaId:F}=this.opts;I&&(M=new s({schema:I,schemaId:F,root:E,baseId:S}))}if(M!==void 0)return E.refs[b]=f.call(this,M)}ka.resolveRef=l;function f(E){return(0,r.inlineRef)(E.schema,this.opts.inlineRefs)?E.schema:E.validate?E:o.call(this,E)}function h(E){for(const S of this._compilations)if(p(S,E))return S}ka.getCompilingSchema=h;function p(E,S){return E.schema===S.schema&&E.root===S.root&&E.baseId===S.baseId}function m(E,S){let b;for(;typeof(b=this.refs[S])=="string";)S=b;return b||this.schemas[S]||y.call(this,E,S)}function y(E,S){const b=this.opts.uriResolver.parse(S),A=(0,r._getFullPath)(this.opts.uriResolver,b);let k=(0,r.getFullPath)(this.opts.uriResolver,E.baseId,void 0);if(Object.keys(E.schema).length>0&&A===k)return x.call(this,b,E);const M=(0,r.normalizeId)(A),I=this.refs[M]||this.schemas[M];if(typeof I=="string"){const F=y.call(this,E,I);return typeof(F==null?void 0:F.schema)!="object"?void 0:x.call(this,b,F)}if(typeof(I==null?void 0:I.schema)=="object"){if(I.validate||o.call(this,I),M===(0,r.normalizeId)(S)){const{schema:F}=I,{schemaId:B}=this.opts,ee=F[B];return ee&&(k=(0,r.resolveUrl)(this.opts.uriResolver,k,ee)),new s({schema:F,schemaId:B,root:E,baseId:k})}return x.call(this,b,I)}}ka.resolveSchema=y;const _=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function x(E,{baseId:S,schema:b,root:A}){var k;if(((k=E.fragment)===null||k===void 0?void 0:k[0])!=="/")return;for(const F of E.fragment.slice(1).split("/")){if(typeof b=="boolean")return;const B=b[(0,i.unescapeFragment)(F)];if(B===void 0)return;b=B;const ee=typeof b=="object"&&b[this.opts.schemaId];!_.has(F)&&ee&&(S=(0,r.resolveUrl)(this.opts.uriResolver,S,ee))}let M;if(typeof b!="boolean"&&b.$ref&&!(0,i.schemaHasRulesButRef)(b,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,S,b.$ref);M=y.call(this,A,F)}const{schemaId:I}=this.opts;if(M=M||new s({schema:b,schemaId:I,root:A,baseId:S}),M.schema!==M.root.schema)return M}return ka}const n2e="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",r2e="Meta-schema for $data reference (JSON AnySchema extension proposal)",i2e="object",a2e=["$data"],s2e={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},o2e=!1,u2e={$id:n2e,description:r2e,type:i2e,required:a2e,properties:s2e,additionalProperties:o2e};var Cv={},hg={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var l2e=hg.exports,D6;function c2e(){return D6||(D6=1,function(t,e){(function(n,r){r(e)})(l2e,function(n){function r(){for(var Qe=arguments.length,Ae=Array(Qe),et=0;et<Qe;et++)Ae[et]=arguments[et];if(Ae.length>1){Ae[0]=Ae[0].slice(0,-1);for(var ft=Ae.length-1,it=1;it<ft;++it)Ae[it]=Ae[it].slice(1,-1);return Ae[ft]=Ae[ft].slice(1),Ae.join("")}else return Ae[0]}function i(Qe){return"(?:"+Qe+")"}function a(Qe){return Qe===void 0?"undefined":Qe===null?"null":Object.prototype.toString.call(Qe).split(" ").pop().split("]").shift().toLowerCase()}function s(Qe){return Qe.toUpperCase()}function o(Qe){return Qe!=null?Qe instanceof Array?Qe:typeof Qe.length!="number"||Qe.split||Qe.setInterval||Qe.call?[Qe]:Array.prototype.slice.call(Qe):[]}function l(Qe,Ae){var et=Qe;if(Ae)for(var ft in Ae)et[ft]=Ae[ft];return et}function f(Qe){var Ae="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Et="[\\:\\/\\?\\#\\[\\]\\@]",Lt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Vt=r(Et,Lt),Yt=Qe?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",qt=Qe?"[\\uE000-\\uF8FF]":"[]",Nt=r(Ae,et,"[\\-\\.\\_\\~]",Yt);i(Ae+r(Ae,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(Nt,Lt,"[\\:]"))+"*");var en=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Rn=i(en+"\\."+en+"\\."+en+"\\."+en),Kt=i(ft+"{1,4}"),Qt=i(i(Kt+"\\:"+Kt)+"|"+Rn),xn=i(i(Kt+"\\:")+"{6}"+Qt),En=i("\\:\\:"+i(Kt+"\\:")+"{5}"+Qt),$n=i(i(Kt)+"?\\:\\:"+i(Kt+"\\:")+"{4}"+Qt),Tr=i(i(i(Kt+"\\:")+"{0,1}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{3}"+Qt),Br=i(i(i(Kt+"\\:")+"{0,2}"+Kt)+"?\\:\\:"+i(Kt+"\\:")+"{2}"+Qt),qr=i(i(i(Kt+"\\:")+"{0,3}"+Kt)+"?\\:\\:"+Kt+"\\:"+Qt),Rr=i(i(i(Kt+"\\:")+"{0,4}"+Kt)+"?\\:\\:"+Qt),Nn=i(i(i(Kt+"\\:")+"{0,5}"+Kt)+"?\\:\\:"+Kt),Wr=i(i(i(Kt+"\\:")+"{0,6}"+Kt)+"?\\:\\:"),Bi=i([xn,En,$n,Tr,Br,qr,Rr,Nn,Wr].join("|")),C=i(i(Nt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(Nt,Lt,"[\\:]")+"+"),i(i(it+"|"+r(Nt,Lt))+"*");var T=i(it+"|"+r(Nt,Lt,"[\\:\\@]"));return i(i(it+"|"+r(Nt,Lt,"[\\@]"))+"+"),i(i(T+"|"+r("[\\/\\?]",qt))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ae,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",Nt,Lt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",Nt,Lt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",Nt,Lt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",Nt,Lt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",Nt,Lt,"[\\:\\@\\/\\?]",qt),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",Nt,Lt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",Nt,Lt),"g"),UNRESERVED:new RegExp(Nt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",Nt,Vt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Rn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Bi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+C+")")+"?\\]?$")}}var h=f(!1),p=f(!0),m=function(){function Qe(Ae,et){var ft=[],it=!0,Et=!1,Lt=void 0;try{for(var Vt=Ae[Symbol.iterator](),Yt;!(it=(Yt=Vt.next()).done)&&(ft.push(Yt.value),!(et&&ft.length===et));it=!0);}catch(qt){Et=!0,Lt=qt}finally{try{!it&&Vt.return&&Vt.return()}finally{if(Et)throw Lt}}return ft}return function(Ae,et){if(Array.isArray(Ae))return Ae;if(Symbol.iterator in Object(Ae))return Qe(Ae,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(Qe){if(Array.isArray(Qe)){for(var Ae=0,et=Array(Qe.length);Ae<Qe.length;Ae++)et[Ae]=Qe[Ae];return et}else return Array.from(Qe)},_=2147483647,x=36,E=1,S=26,b=38,A=700,k=72,M=128,I="-",F=/^xn--/,B=/[^\0-\x7E]/,ee=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-E,le=Math.floor,Y=String.fromCharCode;function se(Qe){throw new RangeError(U[Qe])}function me(Qe,Ae){for(var et=[],ft=Qe.length;ft--;)et[ft]=Ae(Qe[ft]);return et}function ve(Qe,Ae){var et=Qe.split("@"),ft="";et.length>1&&(ft=et[0]+"@",Qe=et[1]),Qe=Qe.replace(ee,".");var it=Qe.split("."),Et=me(it,Ae).join(".");return ft+Et}function fe(Qe){for(var Ae=[],et=0,ft=Qe.length;et<ft;){var it=Qe.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Et=Qe.charCodeAt(et++);(Et&64512)==56320?Ae.push(((it&1023)<<10)+(Et&1023)+65536):(Ae.push(it),et--)}else Ae.push(it)}return Ae}var ue=function(Ae){return String.fromCodePoint.apply(String,y(Ae))},Oe=function(Ae){return Ae-48<10?Ae-22:Ae-65<26?Ae-65:Ae-97<26?Ae-97:x},D=function(Ae,et){return Ae+22+75*(Ae<26)-((et!=0)<<5)},X=function(Ae,et,ft){var it=0;for(Ae=ft?le(Ae/A):Ae>>1,Ae+=le(Ae/et);Ae>J*S>>1;it+=x)Ae=le(Ae/J);return le(it+(J+1)*Ae/(Ae+b))},ce=function(Ae){var et=[],ft=Ae.length,it=0,Et=M,Lt=k,Vt=Ae.lastIndexOf(I);Vt<0&&(Vt=0);for(var Yt=0;Yt<Vt;++Yt)Ae.charCodeAt(Yt)>=128&&se("not-basic"),et.push(Ae.charCodeAt(Yt));for(var qt=Vt>0?Vt+1:0;qt<ft;){for(var Nt=it,en=1,Rn=x;;Rn+=x){qt>=ft&&se("invalid-input");var Kt=Oe(Ae.charCodeAt(qt++));(Kt>=x||Kt>le((_-it)/en))&&se("overflow"),it+=Kt*en;var Qt=Rn<=Lt?E:Rn>=Lt+S?S:Rn-Lt;if(Kt<Qt)break;var xn=x-Qt;en>le(_/xn)&&se("overflow"),en*=xn}var En=et.length+1;Lt=X(it-Nt,En,Nt==0),le(it/En)>_-Et&&se("overflow"),Et+=le(it/En),it%=En,et.splice(it++,0,Et)}return String.fromCodePoint.apply(String,et)},V=function(Ae){var et=[];Ae=fe(Ae);var ft=Ae.length,it=M,Et=0,Lt=k,Vt=!0,Yt=!1,qt=void 0;try{for(var Nt=Ae[Symbol.iterator](),en;!(Vt=(en=Nt.next()).done);Vt=!0){var Rn=en.value;Rn<128&&et.push(Y(Rn))}}catch(Pe){Yt=!0,qt=Pe}finally{try{!Vt&&Nt.return&&Nt.return()}finally{if(Yt)throw qt}}var Kt=et.length,Qt=Kt;for(Kt&&et.push(I);Qt<ft;){var xn=_,En=!0,$n=!1,Tr=void 0;try{for(var Br=Ae[Symbol.iterator](),qr;!(En=(qr=Br.next()).done);En=!0){var Rr=qr.value;Rr>=it&&Rr<xn&&(xn=Rr)}}catch(Pe){$n=!0,Tr=Pe}finally{try{!En&&Br.return&&Br.return()}finally{if($n)throw Tr}}var Nn=Qt+1;xn-it>le((_-Et)/Nn)&&se("overflow"),Et+=(xn-it)*Nn,it=xn;var Wr=!0,Bi=!1,C=void 0;try{for(var T=Ae[Symbol.iterator](),R;!(Wr=(R=T.next()).done);Wr=!0){var N=R.value;if(N<it&&++Et>_&&se("overflow"),N==it){for(var Q=Et,oe=x;;oe+=x){var we=oe<=Lt?E:oe>=Lt+S?S:oe-Lt;if(Q<we)break;var Le=Q-we,Ee=x-we;et.push(Y(D(we+Le%Ee,0))),Q=le(Le/Ee)}et.push(Y(D(Q,0))),Lt=X(Et,Nn,Qt==Kt),Et=0,++Qt}}}catch(Pe){Bi=!0,C=Pe}finally{try{!Wr&&T.return&&T.return()}finally{if(Bi)throw C}}++Et,++it}return et.join("")},Z=function(Ae){return ve(Ae,function(et){return F.test(et)?ce(et.slice(4).toLowerCase()):et})},he=function(Ae){return ve(Ae,function(et){return B.test(et)?"xn--"+V(et):et})},xe={version:"2.1.0",ucs2:{decode:fe,encode:ue},decode:ce,encode:V,toASCII:he,toUnicode:Z},Ve={};function Te(Qe){var Ae=Qe.charCodeAt(0),et=void 0;return Ae<16?et="%0"+Ae.toString(16).toUpperCase():Ae<128?et="%"+Ae.toString(16).toUpperCase():Ae<2048?et="%"+(Ae>>6|192).toString(16).toUpperCase()+"%"+(Ae&63|128).toString(16).toUpperCase():et="%"+(Ae>>12|224).toString(16).toUpperCase()+"%"+(Ae>>6&63|128).toString(16).toUpperCase()+"%"+(Ae&63|128).toString(16).toUpperCase(),et}function Me(Qe){for(var Ae="",et=0,ft=Qe.length;et<ft;){var it=parseInt(Qe.substr(et+1,2),16);if(it<128)Ae+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Et=parseInt(Qe.substr(et+4,2),16);Ae+=String.fromCharCode((it&31)<<6|Et&63)}else Ae+=Qe.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var Lt=parseInt(Qe.substr(et+4,2),16),Vt=parseInt(Qe.substr(et+7,2),16);Ae+=String.fromCharCode((it&15)<<12|(Lt&63)<<6|Vt&63)}else Ae+=Qe.substr(et,9);et+=9}else Ae+=Qe.substr(et,3),et+=3}return Ae}function Ze(Qe,Ae){function et(ft){var it=Me(ft);return it.match(Ae.UNRESERVED)?it:ft}return Qe.scheme&&(Qe.scheme=String(Qe.scheme).replace(Ae.PCT_ENCODED,et).toLowerCase().replace(Ae.NOT_SCHEME,"")),Qe.userinfo!==void 0&&(Qe.userinfo=String(Qe.userinfo).replace(Ae.PCT_ENCODED,et).replace(Ae.NOT_USERINFO,Te).replace(Ae.PCT_ENCODED,s)),Qe.host!==void 0&&(Qe.host=String(Qe.host).replace(Ae.PCT_ENCODED,et).toLowerCase().replace(Ae.NOT_HOST,Te).replace(Ae.PCT_ENCODED,s)),Qe.path!==void 0&&(Qe.path=String(Qe.path).replace(Ae.PCT_ENCODED,et).replace(Qe.scheme?Ae.NOT_PATH:Ae.NOT_PATH_NOSCHEME,Te).replace(Ae.PCT_ENCODED,s)),Qe.query!==void 0&&(Qe.query=String(Qe.query).replace(Ae.PCT_ENCODED,et).replace(Ae.NOT_QUERY,Te).replace(Ae.PCT_ENCODED,s)),Qe.fragment!==void 0&&(Qe.fragment=String(Qe.fragment).replace(Ae.PCT_ENCODED,et).replace(Ae.NOT_FRAGMENT,Te).replace(Ae.PCT_ENCODED,s)),Qe}function ie(Qe){return Qe.replace(/^0*(.*)/,"$1")||"0"}function z(Qe,Ae){var et=Qe.match(Ae.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(ie).join("."):Qe}function $(Qe,Ae){var et=Qe.match(Ae.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Et=ft[2];if(it){for(var Lt=it.toLowerCase().split("::").reverse(),Vt=m(Lt,2),Yt=Vt[0],qt=Vt[1],Nt=qt?qt.split(":").map(ie):[],en=Yt.split(":").map(ie),Rn=Ae.IPV4ADDRESS.test(en[en.length-1]),Kt=Rn?7:8,Qt=en.length-Kt,xn=Array(Kt),En=0;En<Kt;++En)xn[En]=Nt[En]||en[Qt+En]||"";Rn&&(xn[Kt-1]=z(xn[Kt-1],Ae));var $n=xn.reduce(function(Nn,Wr,Bi){if(!Wr||Wr==="0"){var C=Nn[Nn.length-1];C&&C.index+C.length===Bi?C.length++:Nn.push({index:Bi,length:1})}return Nn},[]),Tr=$n.sort(function(Nn,Wr){return Wr.length-Nn.length})[0],Br=void 0;if(Tr&&Tr.length>1){var qr=xn.slice(0,Tr.index),Rr=xn.slice(Tr.index+Tr.length);Br=qr.join(":")+"::"+Rr.join(":")}else Br=xn.join(":");return Et&&(Br+="%"+Et),Br}else return Qe}var re=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W="".match(/(){0}/)[1]===void 0;function pe(Qe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ae.iri!==!1?p:h;Ae.reference==="suffix"&&(Qe=(Ae.scheme?Ae.scheme+":":"")+"//"+Qe);var it=Qe.match(re);if(it){W?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=Qe.indexOf("@")!==-1?it[3]:void 0,et.host=Qe.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=Qe.indexOf("?")!==-1?it[7]:void 0,et.fragment=Qe.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=Qe.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(z(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ae.reference&&Ae.reference!=="suffix"&&Ae.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ae.reference+" reference.");var Et=Ve[(Ae.scheme||et.scheme||"").toLowerCase()];if(!Ae.unicodeSupport&&(!Et||!Et.unicodeSupport)){if(et.host&&(Ae.domainHost||Et&&Et.domainHost))try{et.host=xe.toASCII(et.host.replace(ft.PCT_ENCODED,Me).toLowerCase())}catch(Lt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Lt}Ze(et,h)}else Ze(et,ft);Et&&Et.parse&&Et.parse(et,Ae)}else et.error=et.error||"URI can not be parsed.";return et}function ye(Qe,Ae){var et=Ae.iri!==!1?p:h,ft=[];return Qe.userinfo!==void 0&&(ft.push(Qe.userinfo),ft.push("@")),Qe.host!==void 0&&ft.push($(z(String(Qe.host),et),et).replace(et.IPV6ADDRESS,function(it,Et,Lt){return"["+Et+(Lt?"%25"+Lt:"")+"]"})),(typeof Qe.port=="number"||typeof Qe.port=="string")&&(ft.push(":"),ft.push(String(Qe.port))),ft.length?ft.join(""):void 0}var ze=/^\.\.?\//,Ce=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(Qe){for(var Ae=[];Qe.length;)if(Qe.match(ze))Qe=Qe.replace(ze,"");else if(Qe.match(Ce))Qe=Qe.replace(Ce,"/");else if(Qe.match(Fe))Qe=Qe.replace(Fe,"/"),Ae.pop();else if(Qe==="."||Qe==="..")Qe="";else{var et=Qe.match(tt);if(et){var ft=et[0];Qe=Qe.slice(ft.length),Ae.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ae.join("")}function gt(Qe){var Ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ae.iri?p:h,ft=[],it=Ve[(Ae.scheme||Qe.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(Qe,Ae),Qe.host&&!et.IPV6ADDRESS.test(Qe.host)){if(Ae.domainHost||it&&it.domainHost)try{Qe.host=Ae.iri?xe.toUnicode(Qe.host):xe.toASCII(Qe.host.replace(et.PCT_ENCODED,Me).toLowerCase())}catch(Vt){Qe.error=Qe.error||"Host's domain name can not be converted to "+(Ae.iri?"Unicode":"ASCII")+" via punycode: "+Vt}}Ze(Qe,et),Ae.reference!=="suffix"&&Qe.scheme&&(ft.push(Qe.scheme),ft.push(":"));var Et=ye(Qe,Ae);if(Et!==void 0&&(Ae.reference!=="suffix"&&ft.push("//"),ft.push(Et),Qe.path&&Qe.path.charAt(0)!=="/"&&ft.push("/")),Qe.path!==void 0){var Lt=Qe.path;!Ae.absolutePath&&(!it||!it.absolutePath)&&(Lt=nt(Lt)),Et===void 0&&(Lt=Lt.replace(/^\/\//,"/%2F")),ft.push(Lt)}return Qe.query!==void 0&&(ft.push("?"),ft.push(Qe.query)),Qe.fragment!==void 0&&(ft.push("#"),ft.push(Qe.fragment)),ft.join("")}function Ut(Qe,Ae){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(Qe=pe(gt(Qe,et),et),Ae=pe(gt(Ae,et),et)),et=et||{},!et.tolerant&&Ae.scheme?(it.scheme=Ae.scheme,it.userinfo=Ae.userinfo,it.host=Ae.host,it.port=Ae.port,it.path=nt(Ae.path||""),it.query=Ae.query):(Ae.userinfo!==void 0||Ae.host!==void 0||Ae.port!==void 0?(it.userinfo=Ae.userinfo,it.host=Ae.host,it.port=Ae.port,it.path=nt(Ae.path||""),it.query=Ae.query):(Ae.path?(Ae.path.charAt(0)==="/"?it.path=nt(Ae.path):((Qe.userinfo!==void 0||Qe.host!==void 0||Qe.port!==void 0)&&!Qe.path?it.path="/"+Ae.path:Qe.path?it.path=Qe.path.slice(0,Qe.path.lastIndexOf("/")+1)+Ae.path:it.path=Ae.path,it.path=nt(it.path)),it.query=Ae.query):(it.path=Qe.path,Ae.query!==void 0?it.query=Ae.query:it.query=Qe.query),it.userinfo=Qe.userinfo,it.host=Qe.host,it.port=Qe.port),it.scheme=Qe.scheme),it.fragment=Ae.fragment,it}function Se(Qe,Ae,et){var ft=l({scheme:"null"},et);return gt(Ut(pe(Qe,ft),pe(Ae,ft),ft,!0),ft)}function Be(Qe,Ae){return typeof Qe=="string"?Qe=gt(pe(Qe,Ae),Ae):a(Qe)==="object"&&(Qe=pe(gt(Qe,Ae),Ae)),Qe}function te(Qe,Ae,et){return typeof Qe=="string"?Qe=gt(pe(Qe,et),et):a(Qe)==="object"&&(Qe=gt(Qe,et)),typeof Ae=="string"?Ae=gt(pe(Ae,et),et):a(Ae)==="object"&&(Ae=gt(Ae,et)),Qe===Ae}function H(Qe,Ae){return Qe&&Qe.toString().replace(!Ae||!Ae.iri?h.ESCAPE:p.ESCAPE,Te)}function G(Qe,Ae){return Qe&&Qe.toString().replace(!Ae||!Ae.iri?h.PCT_ENCODED:p.PCT_ENCODED,Me)}var K={scheme:"http",domainHost:!0,parse:function(Ae,et){return Ae.host||(Ae.error=Ae.error||"HTTP URIs must have a host."),Ae},serialize:function(Ae,et){var ft=String(Ae.scheme).toLowerCase()==="https";return(Ae.port===(ft?443:80)||Ae.port==="")&&(Ae.port=void 0),Ae.path||(Ae.path="/"),Ae}},je={scheme:"https",domainHost:K.domainHost,parse:K.parse,serialize:K.serialize};function Ye(Qe){return typeof Qe.secure=="boolean"?Qe.secure:String(Qe.scheme).toLowerCase()==="wss"}var Ne={scheme:"ws",domainHost:!0,parse:function(Ae,et){var ft=Ae;return ft.secure=Ye(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ae,et){if((Ae.port===(Ye(Ae)?443:80)||Ae.port==="")&&(Ae.port=void 0),typeof Ae.secure=="boolean"&&(Ae.scheme=Ae.secure?"wss":"ws",Ae.secure=void 0),Ae.resourceName){var ft=Ae.resourceName.split("?"),it=m(ft,2),Et=it[0],Lt=it[1];Ae.path=Et&&Et!=="/"?Et:void 0,Ae.query=Lt,Ae.resourceName=void 0}return Ae.fragment=void 0,Ae}},At={scheme:"wss",domainHost:Ne.domainHost,parse:Ne.parse,serialize:Ne.serialize},Pt={},kt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Rt="[0-9A-Fa-f]",Bt=i(i("%[EFef]"+Rt+"%"+Rt+Rt+"%"+Rt+Rt)+"|"+i("%[89A-Fa-f]"+Rt+"%"+Rt+Rt)+"|"+i("%"+Rt+Rt)),Er="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",fn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",dn=r(fn,'[\\"\\\\]'),dr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",on=new RegExp(kt,"g"),un=new RegExp(Bt,"g"),In=new RegExp(r("[^]",Er,"[\\.]",'[\\"]',dn),"g"),sr=new RegExp(r("[^]",kt,dr),"g"),Ie=sr;function qe(Qe){var Ae=Me(Qe);return Ae.match(on)?Ae:Qe}var wt={scheme:"mailto",parse:function(Ae,et){var ft=Ae,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Et=!1,Lt={},Vt=ft.query.split("&"),Yt=0,qt=Vt.length;Yt<qt;++Yt){var Nt=Vt[Yt].split("=");switch(Nt[0]){case"to":for(var en=Nt[1].split(","),Rn=0,Kt=en.length;Rn<Kt;++Rn)it.push(en[Rn]);break;case"subject":ft.subject=G(Nt[1],et);break;case"body":ft.body=G(Nt[1],et);break;default:Et=!0,Lt[G(Nt[0],et)]=G(Nt[1],et);break}}Et&&(ft.headers=Lt)}ft.query=void 0;for(var Qt=0,xn=it.length;Qt<xn;++Qt){var En=it[Qt].split("@");if(En[0]=G(En[0]),et.unicodeSupport)En[1]=G(En[1],et).toLowerCase();else try{En[1]=xe.toASCII(G(En[1],et).toLowerCase())}catch($n){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+$n}it[Qt]=En.join("@")}return ft},serialize:function(Ae,et){var ft=Ae,it=o(Ae.to);if(it){for(var Et=0,Lt=it.length;Et<Lt;++Et){var Vt=String(it[Et]),Yt=Vt.lastIndexOf("@"),qt=Vt.slice(0,Yt).replace(un,qe).replace(un,s).replace(In,Te),Nt=Vt.slice(Yt+1);try{Nt=et.iri?xe.toUnicode(Nt):xe.toASCII(G(Nt,et).toLowerCase())}catch(Qt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Qt}it[Et]=qt+"@"+Nt}ft.path=it.join(",")}var en=Ae.headers=Ae.headers||{};Ae.subject&&(en.subject=Ae.subject),Ae.body&&(en.body=Ae.body);var Rn=[];for(var Kt in en)en[Kt]!==Pt[Kt]&&Rn.push(Kt.replace(un,qe).replace(un,s).replace(sr,Te)+"="+en[Kt].replace(un,qe).replace(un,s).replace(Ie,Te));return Rn.length&&(ft.query=Rn.join("&")),ft}},xt=/^([^\:]+)\:(.*)/,It={scheme:"urn",parse:function(Ae,et){var ft=Ae.path&&Ae.path.match(xt),it=Ae;if(ft){var Et=et.scheme||it.scheme||"urn",Lt=ft[1].toLowerCase(),Vt=ft[2],Yt=Et+":"+(et.nid||Lt),qt=Ve[Yt];it.nid=Lt,it.nss=Vt,it.path=void 0,qt&&(it=qt.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ae,et){var ft=et.scheme||Ae.scheme||"urn",it=Ae.nid,Et=ft+":"+(et.nid||it),Lt=Ve[Et];Lt&&(Ae=Lt.serialize(Ae,et));var Vt=Ae,Yt=Ae.nss;return Vt.path=(it||et.nid)+":"+Yt,Vt}},Bn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ae,et){var ft=Ae;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(Bn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ae,et){var ft=Ae;return ft.nss=(Ae.uuid||"").toLowerCase(),ft}};Ve[K.scheme]=K,Ve[je.scheme]=je,Ve[Ne.scheme]=Ne,Ve[At.scheme]=At,Ve[wt.scheme]=wt,Ve[It.scheme]=It,Ve[Jn.scheme]=Jn,n.SCHEMES=Ve,n.pctEncChar=Te,n.pctDecChars=Me,n.parse=pe,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=Ut,n.resolve=Se,n.normalize=Be,n.equal=te,n.escapeComponent=H,n.unescapeComponent=G,Object.defineProperty(n,"__esModule",{value:!0})})}(hg,hg.exports)),hg.exports}var N6;function f2e(){if(N6)return Cv;N6=1,Object.defineProperty(Cv,"__esModule",{value:!0});const t=c2e();return t.code='require("ajv/dist/runtime/uri").default',Cv.default=t,Cv}var F6;function d2e(){return F6||(F6=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Am();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=Pn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=tO(),i=nO(),a=E9(),s=rO(),o=Pn(),l=sw(),f=f0(),h=zn(),p=u2e,m=f2e(),y=(D,X)=>new RegExp(D,X);y.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},S={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},b=200;function A(D){var X,ce,V,Z,he,xe,Ve,Te,Me,Ze,ie,z,$,re,W,pe,ye,ze,Ce,Fe,tt,nt,gt,Ut,Se;const Be=D.strict,te=(X=D.code)===null||X===void 0?void 0:X.optimize,H=te===!0||te===void 0?1:te||0,G=(V=(ce=D.code)===null||ce===void 0?void 0:ce.regExp)!==null&&V!==void 0?V:y,K=(Z=D.uriResolver)!==null&&Z!==void 0?Z:m.default;return{strictSchema:(xe=(he=D.strictSchema)!==null&&he!==void 0?he:Be)!==null&&xe!==void 0?xe:!0,strictNumbers:(Te=(Ve=D.strictNumbers)!==null&&Ve!==void 0?Ve:Be)!==null&&Te!==void 0?Te:!0,strictTypes:(Ze=(Me=D.strictTypes)!==null&&Me!==void 0?Me:Be)!==null&&Ze!==void 0?Ze:"log",strictTuples:(z=(ie=D.strictTuples)!==null&&ie!==void 0?ie:Be)!==null&&z!==void 0?z:"log",strictRequired:(re=($=D.strictRequired)!==null&&$!==void 0?$:Be)!==null&&re!==void 0?re:!1,code:D.code?{...D.code,optimize:H,regExp:G}:{optimize:H,regExp:G},loopRequired:(W=D.loopRequired)!==null&&W!==void 0?W:b,loopEnum:(pe=D.loopEnum)!==null&&pe!==void 0?pe:b,meta:(ye=D.meta)!==null&&ye!==void 0?ye:!0,messages:(ze=D.messages)!==null&&ze!==void 0?ze:!0,inlineRefs:(Ce=D.inlineRefs)!==null&&Ce!==void 0?Ce:!0,schemaId:(Fe=D.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(tt=D.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=D.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=D.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(Ut=D.unicodeRegExp)!==null&&Ut!==void 0?Ut:!0,int32range:(Se=D.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:K}}class k{constructor(X={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,X=this.opts={...X,...A(X)};const{es5:ce,lines:V}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:x,es5:ce,lines:V}),this.logger=le(X.logger);const Z=X.validateFormats;X.validateFormats=!1,this.RULES=(0,a.getRules)(),M.call(this,E,X,"NOT SUPPORTED"),M.call(this,S,X,"DEPRECATED","warn"),this._metaOpts=U.call(this),X.formats&&B.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),X.keywords&&ee.call(this,X.keywords),typeof X.meta=="object"&&this.addMetaSchema(X.meta),F.call(this),X.validateFormats=Z}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:X,meta:ce,schemaId:V}=this.opts;let Z=p;V==="id"&&(Z={...p},Z.id=Z.$id,delete Z.$id),ce&&X&&this.addMetaSchema(Z,Z[V],!1)}defaultMeta(){const{meta:X,schemaId:ce}=this.opts;return this.opts.defaultMeta=typeof X=="object"?X[ce]||X:void 0}validate(X,ce){let V;if(typeof X=="string"){if(V=this.getSchema(X),!V)throw new Error(`no schema with key or ref "${X}"`)}else V=this.compile(X);const Z=V(ce);return"$async"in V||(this.errors=V.errors),Z}compile(X,ce){const V=this._addSchema(X,ce);return V.validate||this._compileSchemaEnv(V)}compileAsync(X,ce){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:V}=this.opts;return Z.call(this,X,ce);async function Z(Ze,ie){await he.call(this,Ze.$schema);const z=this._addSchema(Ze,ie);return z.validate||xe.call(this,z)}async function he(Ze){Ze&&!this.getSchema(Ze)&&await Z.call(this,{$ref:Ze},!0)}async function xe(Ze){try{return this._compileSchemaEnv(Ze)}catch(ie){if(!(ie instanceof i.default))throw ie;return Ve.call(this,ie),await Te.call(this,ie.missingSchema),xe.call(this,Ze)}}function Ve({missingSchema:Ze,missingRef:ie}){if(this.refs[Ze])throw new Error(`AnySchema ${Ze} is loaded but ${ie} cannot be resolved`)}async function Te(Ze){const ie=await Me.call(this,Ze);this.refs[Ze]||await he.call(this,ie.$schema),this.refs[Ze]||this.addSchema(ie,Ze,ce)}async function Me(Ze){const ie=this._loading[Ze];if(ie)return ie;try{return await(this._loading[Ze]=V(Ze))}finally{delete this._loading[Ze]}}}addSchema(X,ce,V,Z=this.opts.validateSchema){if(Array.isArray(X)){for(const xe of X)this.addSchema(xe,void 0,V,Z);return this}let he;if(typeof X=="object"){const{schemaId:xe}=this.opts;if(he=X[xe],he!==void 0&&typeof he!="string")throw new Error(`schema ${xe} must be string`)}return ce=(0,l.normalizeId)(ce||he),this._checkUnique(ce),this.schemas[ce]=this._addSchema(X,V,ce,Z,!0),this}addMetaSchema(X,ce,V=this.opts.validateSchema){return this.addSchema(X,ce,!0,V),this}validateSchema(X,ce){if(typeof X=="boolean")return!0;let V;if(V=X.$schema,V!==void 0&&typeof V!="string")throw new Error("$schema must be a string");if(V=V||this.opts.defaultMeta||this.defaultMeta(),!V)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Z=this.validate(V,X);if(!Z&&ce){const he="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(he);else throw new Error(he)}return Z}getSchema(X){let ce;for(;typeof(ce=I.call(this,X))=="string";)X=ce;if(ce===void 0){const{schemaId:V}=this.opts,Z=new s.SchemaEnv({schema:{},schemaId:V});if(ce=s.resolveSchema.call(this,Z,X),!ce)return;this.refs[X]=ce}return ce.validate||this._compileSchemaEnv(ce)}removeSchema(X){if(X instanceof RegExp)return this._removeAllSchemas(this.schemas,X),this._removeAllSchemas(this.refs,X),this;switch(typeof X){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ce=I.call(this,X);return typeof ce=="object"&&this._cache.delete(ce.schema),delete this.schemas[X],delete this.refs[X],this}case"object":{const ce=X;this._cache.delete(ce);let V=X[this.opts.schemaId];return V&&(V=(0,l.normalizeId)(V),delete this.schemas[V],delete this.refs[V]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(X){for(const ce of X)this.addKeyword(ce);return this}addKeyword(X,ce){let V;if(typeof X=="string")V=X,typeof ce=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ce.keyword=V);else if(typeof X=="object"&&ce===void 0){if(ce=X,V=ce.keyword,Array.isArray(V)&&!V.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(se.call(this,V,ce),!ce)return(0,h.eachItem)(V,he=>me.call(this,he)),this;fe.call(this,ce);const Z={...ce,type:(0,f.getJSONTypes)(ce.type),schemaType:(0,f.getJSONTypes)(ce.schemaType)};return(0,h.eachItem)(V,Z.type.length===0?he=>me.call(this,he,Z):he=>Z.type.forEach(xe=>me.call(this,he,Z,xe))),this}getKeyword(X){const ce=this.RULES.all[X];return typeof ce=="object"?ce.definition:!!ce}removeKeyword(X){const{RULES:ce}=this;delete ce.keywords[X],delete ce.all[X];for(const V of ce.rules){const Z=V.rules.findIndex(he=>he.keyword===X);Z>=0&&V.rules.splice(Z,1)}return this}addFormat(X,ce){return typeof ce=="string"&&(ce=new RegExp(ce)),this.formats[X]=ce,this}errorsText(X=this.errors,{separator:ce=", ",dataVar:V="data"}={}){return!X||X.length===0?"No errors":X.map(Z=>`${V}${Z.instancePath} ${Z.message}`).reduce((Z,he)=>Z+ce+he)}$dataMetaSchema(X,ce){const V=this.RULES.all;X=JSON.parse(JSON.stringify(X));for(const Z of ce){const he=Z.split("/").slice(1);let xe=X;for(const Ve of he)xe=xe[Ve];for(const Ve in V){const Te=V[Ve];if(typeof Te!="object")continue;const{$data:Me}=Te.definition,Ze=xe[Ve];Me&&Ze&&(xe[Ve]=Oe(Ze))}}return X}_removeAllSchemas(X,ce){for(const V in X){const Z=X[V];(!ce||ce.test(V))&&(typeof Z=="string"?delete X[V]:Z&&!Z.meta&&(this._cache.delete(Z.schema),delete X[V]))}}_addSchema(X,ce,V,Z=this.opts.validateSchema,he=this.opts.addUsedSchema){let xe;const{schemaId:Ve}=this.opts;if(typeof X=="object")xe=X[Ve];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof X!="boolean")throw new Error("schema must be object or boolean")}let Te=this._cache.get(X);if(Te!==void 0)return Te;V=(0,l.normalizeId)(xe||V);const Me=l.getSchemaRefs.call(this,X,V);return Te=new s.SchemaEnv({schema:X,schemaId:Ve,meta:ce,baseId:V,localRefs:Me}),this._cache.set(Te.schema,Te),he&&!V.startsWith("#")&&(V&&this._checkUnique(V),this.refs[V]=Te),Z&&this.validateSchema(X,!0),Te}_checkUnique(X){if(this.schemas[X]||this.refs[X])throw new Error(`schema with key or id "${X}" already exists`)}_compileSchemaEnv(X){if(X.meta?this._compileMetaSchema(X):s.compileSchema.call(this,X),!X.validate)throw new Error("ajv implementation error");return X.validate}_compileMetaSchema(X){const ce=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,X)}finally{this.opts=ce}}}k.ValidationError=r.default,k.MissingRefError=i.default,t.default=k;function M(D,X,ce,V="error"){for(const Z in D){const he=Z;he in X&&this.logger[V](`${ce}: option ${Z}. ${D[he]}`)}}function I(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function F(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const X in D)this.addSchema(D[X],X)}function B(){for(const D in this.opts.formats){const X=this.opts.formats[D];X&&this.addFormat(D,X)}}function ee(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const X in D){const ce=D[X];ce.keyword||(ce.keyword=X),this.addKeyword(ce)}}function U(){const D={...this.opts};for(const X of _)delete D[X];return D}const J={log(){},warn(){},error(){}};function le(D){if(D===!1)return J;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function se(D,X){const{RULES:ce}=this;if((0,h.eachItem)(D,V=>{if(ce.keywords[V])throw new Error(`Keyword ${V} is already defined`);if(!Y.test(V))throw new Error(`Keyword ${V} has invalid name`)}),!!X&&X.$data&&!("code"in X||"validate"in X))throw new Error('$data keyword must have "code" or "validate" function')}function me(D,X,ce){var V;const Z=X==null?void 0:X.post;if(ce&&Z)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:he}=this;let xe=Z?he.post:he.rules.find(({type:Te})=>Te===ce);if(xe||(xe={type:ce,rules:[]},he.rules.push(xe)),he.keywords[D]=!0,!X)return;const Ve={keyword:D,definition:{...X,type:(0,f.getJSONTypes)(X.type),schemaType:(0,f.getJSONTypes)(X.schemaType)}};X.before?ve.call(this,xe,Ve,X.before):xe.rules.push(Ve),he.all[D]=Ve,(V=X.implements)===null||V===void 0||V.forEach(Te=>this.addKeyword(Te))}function ve(D,X,ce){const V=D.rules.findIndex(Z=>Z.keyword===ce);V>=0?D.rules.splice(V,0,X):(D.rules.push(X),this.logger.warn(`rule ${ce} is not defined`))}function fe(D){let{metaSchema:X}=D;X!==void 0&&(D.$data&&this.opts.$data&&(X=Oe(X)),D.validateSchema=this.compile(X,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(D){return{anyOf:[D,ue]}}}(DT)),DT}var Av={},Rv={},Ov={},j6;function h2e(){if(j6)return Ov;j6=1,Object.defineProperty(Ov,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ov.default=t,Ov}var Yu={},$6;function p2e(){if($6)return Yu;$6=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.callRef=Yu.getValidate=void 0;const t=nO(),e=$s(),n=Pn(),r=vu(),i=rO(),a=zn(),s={keyword:"$ref",schemaType:"string",code(f){const{gen:h,schema:p,it:m}=f,{baseId:y,schemaEnv:_,validateName:x,opts:E,self:S}=m,{root:b}=_;if((p==="#"||p==="#/")&&y===b.baseId)return k();const A=i.resolveRef.call(S,b,y,p);if(A===void 0)throw new t.default(m.opts.uriResolver,y,p);if(A instanceof i.SchemaEnv)return M(A);return I(A);function k(){if(_===b)return l(f,x,_,_.$async);const F=h.scopeValue("root",{ref:b});return l(f,(0,n._)`${F}.validate`,b,b.$async)}function M(F){const B=o(f,F);l(f,B,F,F.$async)}function I(F){const B=h.scopeValue("schema",E.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),ee=h.name("valid"),U=f.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:B,errSchemaPath:p},ee);f.mergeEvaluated(U),f.ok(ee)}}};function o(f,h){const{gen:p}=f;return h.validate?p.scopeValue("validate",{ref:h.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:h})}.validate`}Yu.getValidate=o;function l(f,h,p,m){const{gen:y,it:_}=f,{allErrors:x,schemaEnv:E,opts:S}=_,b=S.passContext?r.default.this:n.nil;m?A():k();function A(){if(!E.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,e.callValidateCode)(f,h,b)}`),I(h),x||y.assign(F,!0)},B=>{y.if((0,n._)`!(${B} instanceof ${_.ValidationError})`,()=>y.throw(B)),M(B),x||y.assign(F,!1)}),f.ok(F)}function k(){f.result((0,e.callValidateCode)(f,h,b),()=>I(h),()=>M(h))}function M(F){const B=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${B} : ${r.default.vErrors}.concat(${B})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function I(F){var B;if(!_.opts.unevaluated)return;const ee=(B=p==null?void 0:p.validate)===null||B===void 0?void 0:B.evaluated;if(_.props!==!0)if(ee&&!ee.dynamicProps)ee.props!==void 0&&(_.props=a.mergeEvaluated.props(y,ee.props,_.props));else{const U=y.var("props",(0,n._)`${F}.evaluated.props`);_.props=a.mergeEvaluated.props(y,U,_.props,n.Name)}if(_.items!==!0)if(ee&&!ee.dynamicItems)ee.items!==void 0&&(_.items=a.mergeEvaluated.items(y,ee.items,_.items));else{const U=y.var("items",(0,n._)`${F}.evaluated.items`);_.items=a.mergeEvaluated.items(y,U,_.items,n.Name)}}}return Yu.callRef=l,Yu.default=s,Yu}var U6;function g2e(){if(U6)return Rv;U6=1,Object.defineProperty(Rv,"__esModule",{value:!0});const t=h2e(),e=p2e(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Rv.default=n,Rv}var Pv={},Iv={},B6;function m2e(){if(B6)return Iv;B6=1,Object.defineProperty(Iv,"__esModule",{value:!0});const t=Pn(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:s,data:o,schemaCode:l}=a;a.fail$data((0,t._)`${o} ${n[s].fail} ${l} || isNaN(${o})`)}};return Iv.default=i,Iv}var Lv={},q6;function y2e(){if(q6)return Lv;q6=1,Object.defineProperty(Lv,"__esModule",{value:!0});const t=Pn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:s,it:o}=r,l=o.opts.multipleOfPrecision,f=i.let("res"),h=l?(0,t._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${l}`:(0,t._)`${f} !== parseInt(${f})`;r.fail$data((0,t._)`(${s} === 0 || (${f} = ${a}/${s}, ${h}))`)}};return Lv.default=n,Lv}var Mv={},kv={},H6;function v2e(){if(H6)return kv;H6=1,Object.defineProperty(kv,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,a;for(;i<n;)r++,a=e.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=e.charCodeAt(i),(a&64512)===56320&&i++);return r}return kv.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',kv}var z6;function _2e(){if(z6)return Mv;z6=1,Object.defineProperty(Mv,"__esModule",{value:!0});const t=Pn(),e=zn(),n=v2e(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:s}){const o=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},code(a){const{keyword:s,data:o,schemaCode:l,it:f}=a,h=s==="maxLength"?t.operators.GT:t.operators.LT,p=f.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(a.gen,n.default)}(${o})`;a.fail$data((0,t._)`${p} ${h} ${l}`)}};return Mv.default=i,Mv}var Dv={},V6;function w2e(){if(V6)return Dv;V6=1,Object.defineProperty(Dv,"__esModule",{value:!0});const t=$s(),e=Pn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:a,$data:s,schema:o,schemaCode:l,it:f}=i,h=f.opts.unicodeRegExp?"u":"",p=s?(0,e._)`(new RegExp(${l}, ${h}))`:(0,t.usePattern)(i,o);i.fail$data((0,e._)`!${p}.test(${a})`)}};return Dv.default=r,Dv}var Nv={},K6;function b2e(){if(K6)return Nv;K6=1,Object.defineProperty(Nv,"__esModule",{value:!0});const t=Pn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:s}=r,o=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${a}).length ${o} ${s}`)}};return Nv.default=n,Nv}var Fv={},G6;function S2e(){if(G6)return Fv;G6=1,Object.defineProperty(Fv,"__esModule",{value:!0});const t=$s(),e=Pn(),n=zn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){const{gen:s,schema:o,schemaCode:l,data:f,$data:h,it:p}=a,{opts:m}=p;if(!h&&o.length===0)return;const y=o.length>=m.loopRequired;if(p.allErrors?_():x(),m.strictRequired){const b=a.parentSchema.properties,{definedProperties:A}=a.it;for(const k of o)if((b==null?void 0:b[k])===void 0&&!A.has(k)){const M=p.schemaEnv.baseId+p.errSchemaPath,I=`required property "${k}" is not defined at "${M}" (strictRequired)`;(0,n.checkStrictMode)(p,I,p.opts.strictRequired)}}function _(){if(y||h)a.block$data(e.nil,E);else for(const b of o)(0,t.checkReportMissingProp)(a,b)}function x(){const b=s.let("missing");if(y||h){const A=s.let("valid",!0);a.block$data(A,()=>S(b,A)),a.ok(A)}else s.if((0,t.checkMissingProp)(a,o,b)),(0,t.reportMissingProp)(a,b),s.else()}function E(){s.forOf("prop",l,b=>{a.setParams({missingProperty:b}),s.if((0,t.noPropertyInData)(s,f,b,m.ownProperties),()=>a.error())})}function S(b,A){a.setParams({missingProperty:b}),s.forOf(b,l,()=>{s.assign(A,(0,t.propertyInData)(s,f,b,m.ownProperties)),s.if((0,e.not)(A),()=>{a.error(),s.break()})},e.nil)}}};return Fv.default=i,Fv}var jv={},W6;function x2e(){if(W6)return jv;W6=1,Object.defineProperty(jv,"__esModule",{value:!0});const t=Pn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:s}=r,o=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${a}.length ${o} ${s}`)}};return jv.default=n,jv}var $v={},Uv={},Q6;function iO(){if(Q6)return Uv;Q6=1,Object.defineProperty(Uv,"__esModule",{value:!0});const t=C9();return t.code='require("ajv/dist/runtime/equal").default',Uv.default=t,Uv}var Z6;function E2e(){if(Z6)return $v;Z6=1,Object.defineProperty($v,"__esModule",{value:!0});const t=f0(),e=Pn(),n=zn(),r=iO(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${s} are identical)`,params:({params:{i:s,j:o}})=>(0,e._)`{i: ${s}, j: ${o}}`},code(s){const{gen:o,data:l,$data:f,schema:h,parentSchema:p,schemaCode:m,it:y}=s;if(!f&&!h)return;const _=o.let("valid"),x=p.items?(0,t.getSchemaTypes)(p.items):[];s.block$data(_,E,(0,e._)`${m} === false`),s.ok(_);function E(){const k=o.let("i",(0,e._)`${l}.length`),M=o.let("j");s.setParams({i:k,j:M}),o.assign(_,!0),o.if((0,e._)`${k} > 1`,()=>(S()?b:A)(k,M))}function S(){return x.length>0&&!x.some(k=>k==="object"||k==="array")}function b(k,M){const I=o.name("item"),F=(0,t.checkDataTypes)(x,I,y.opts.strictNumbers,t.DataType.Wrong),B=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${k}--;`,()=>{o.let(I,(0,e._)`${l}[${k}]`),o.if(F,(0,e._)`continue`),x.length>1&&o.if((0,e._)`typeof ${I} == "string"`,(0,e._)`${I} += "_"`),o.if((0,e._)`typeof ${B}[${I}] == "number"`,()=>{o.assign(M,(0,e._)`${B}[${I}]`),s.error(),o.assign(_,!1).break()}).code((0,e._)`${B}[${I}] = ${k}`)})}function A(k,M){const I=(0,n.useFunc)(o,r.default),F=o.name("outer");o.label(F).for((0,e._)`;${k}--;`,()=>o.for((0,e._)`${M} = ${k}; ${M}--;`,()=>o.if((0,e._)`${I}(${l}[${k}], ${l}[${M}])`,()=>{s.error(),o.assign(_,!1).break(F)})))}}};return $v.default=a,$v}var Bv={},J6;function T2e(){if(J6)return Bv;J6=1,Object.defineProperty(Bv,"__esModule",{value:!0});const t=Pn(),e=zn(),n=iO(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},code(a){const{gen:s,data:o,$data:l,schemaCode:f,schema:h}=a;l||h&&typeof h=="object"?a.fail$data((0,t._)`!${(0,e.useFunc)(s,n.default)}(${o}, ${f})`):a.fail((0,t._)`${h} !== ${o}`)}};return Bv.default=i,Bv}var qv={},Y6;function C2e(){if(Y6)return qv;Y6=1,Object.defineProperty(qv,"__esModule",{value:!0});const t=Pn(),e=zn(),n=iO(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},code(a){const{gen:s,data:o,$data:l,schema:f,schemaCode:h,it:p}=a;if(!l&&f.length===0)throw new Error("enum must have non-empty array");const m=f.length>=p.opts.loopEnum;let y;const _=()=>y??(y=(0,e.useFunc)(s,n.default));let x;if(m||l)x=s.let("valid"),a.block$data(x,E);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const b=s.const("vSchema",h);x=(0,t.or)(...f.map((A,k)=>S(b,k)))}a.pass(x);function E(){s.assign(x,!1),s.forOf("v",h,b=>s.if((0,t._)`${_()}(${o}, ${b})`,()=>s.assign(x,!0).break()))}function S(b,A){const k=f[A];return typeof k=="object"&&k!==null?(0,t._)`${_()}(${o}, ${b}[${A}])`:(0,t._)`${o} === ${k}`}}};return qv.default=i,qv}var X6;function A2e(){if(X6)return Pv;X6=1,Object.defineProperty(Pv,"__esModule",{value:!0});const t=m2e(),e=y2e(),n=_2e(),r=w2e(),i=b2e(),a=S2e(),s=x2e(),o=E2e(),l=T2e(),f=C2e(),h=[t.default,e.default,n.default,r.default,i.default,a.default,s.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,f.default];return Pv.default=h,Pv}var Hv={},Wf={},e$;function A9(){if(e$)return Wf;e$=1,Object.defineProperty(Wf,"__esModule",{value:!0}),Wf.validateAdditionalItems=void 0;const t=Pn(),e=zn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{parentSchema:s,it:o}=a,{items:l}=s;if(!Array.isArray(l)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,s){const{gen:o,schema:l,data:f,keyword:h,it:p}=a;p.items=!0;const m=o.const("len",(0,t._)`${f}.length`);if(l===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(p,l)){const _=o.var("valid",(0,t._)`${m} <= ${s.length}`);o.if((0,t.not)(_),()=>y(_)),a.ok(_)}function y(_){o.forRange("i",s.length,m,x=>{a.subschema({keyword:h,dataProp:x,dataPropType:e.Type.Num},_),p.allErrors||o.if((0,t.not)(_),()=>o.break())})}}return Wf.validateAdditionalItems=i,Wf.default=r,Wf}var zv={},Qf={},t$;function R9(){if(t$)return Qf;t$=1,Object.defineProperty(Qf,"__esModule",{value:!0}),Qf.validateTuple=void 0;const t=Pn(),e=zn(),n=$s(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:o}=a;if(Array.isArray(s))return i(a,"additionalItems",s);o.items=!0,!(0,e.alwaysValidSchema)(o,s)&&a.ok((0,n.validateArray)(a))}};function i(a,s,o=a.schema){const{gen:l,parentSchema:f,data:h,keyword:p,it:m}=a;x(f),m.opts.unevaluated&&o.length&&m.items!==!0&&(m.items=e.mergeEvaluated.items(l,o.length,m.items));const y=l.name("valid"),_=l.const("len",(0,t._)`${h}.length`);o.forEach((E,S)=>{(0,e.alwaysValidSchema)(m,E)||(l.if((0,t._)`${_} > ${S}`,()=>a.subschema({keyword:p,schemaProp:S,dataProp:S},y)),a.ok(y))});function x(E){const{opts:S,errSchemaPath:b}=m,A=o.length,k=A===E.minItems&&(A===E.maxItems||E[s]===!1);if(S.strictTuples&&!k){const M=`"${p}" is ${A}-tuple, but minItems or maxItems/${s} are not specified or different at path "${b}"`;(0,e.checkStrictMode)(m,M,S.strictTuples)}}}return Qf.validateTuple=i,Qf.default=r,Qf}var n$;function R2e(){if(n$)return zv;n$=1,Object.defineProperty(zv,"__esModule",{value:!0});const t=R9(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return zv.default=e,zv}var Vv={},r$;function O2e(){if(r$)return Vv;r$=1,Object.defineProperty(Vv,"__esModule",{value:!0});const t=Pn(),e=zn(),n=$s(),r=A9(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{schema:o,parentSchema:l,it:f}=s,{prefixItems:h}=l;f.items=!0,!(0,e.alwaysValidSchema)(f,o)&&(h?(0,r.validateAdditionalItems)(s,h):s.ok((0,n.validateArray)(s)))}};return Vv.default=a,Vv}var Kv={},i$;function P2e(){if(i$)return Kv;i$=1,Object.defineProperty(Kv,"__esModule",{value:!0});const t=Pn(),e=zn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:s,parentSchema:o,data:l,it:f}=i;let h,p;const{minContains:m,maxContains:y}=o;f.opts.next?(h=m===void 0?1:m,p=y):h=1;const _=a.const("len",(0,t._)`${l}.length`);if(i.setParams({min:h,max:p}),p===void 0&&h===0){(0,e.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&h>p){(0,e.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(f,s)){let A=(0,t._)`${_} >= ${h}`;p!==void 0&&(A=(0,t._)`${A} && ${_} <= ${p}`),i.pass(A);return}f.items=!0;const x=a.name("valid");p===void 0&&h===1?S(x,()=>a.if(x,()=>a.break())):h===0?(a.let(x,!0),p!==void 0&&a.if((0,t._)`${l}.length > 0`,E)):(a.let(x,!1),E()),i.result(x,()=>i.reset());function E(){const A=a.name("_valid"),k=a.let("count",0);S(A,()=>a.if(A,()=>b(k)))}function S(A,k){a.forRange("i",0,_,M=>{i.subschema({keyword:"contains",dataProp:M,dataPropType:e.Type.Num,compositeRule:!0},A),k()})}function b(A){a.code((0,t._)`${A}++`),p===void 0?a.if((0,t._)`${A} >= ${h}`,()=>a.assign(x,!0).break()):(a.if((0,t._)`${A} > ${p}`,()=>a.assign(x,!1).break()),h===1?a.assign(x,!0):a.if((0,t._)`${A} >= ${h}`,()=>a.assign(x,!0)))}}};return Kv.default=r,Kv}var qT={},a$;function I2e(){return a$||(a$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Pn(),n=zn(),r=$s();t.error={message:({params:{property:l,depsCount:f,deps:h}})=>{const p=f===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:h,missingProperty:p}})=>(0,e._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${f},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[f,h]=a(l);s(l,f),o(l,h)}};function a({schema:l}){const f={},h={};for(const p in l){if(p==="__proto__")continue;const m=Array.isArray(l[p])?f:h;m[p]=l[p]}return[f,h]}function s(l,f=l.schema){const{gen:h,data:p,it:m}=l;if(Object.keys(f).length===0)return;const y=h.let("missing");for(const _ in f){const x=f[_];if(x.length===0)continue;const E=(0,r.propertyInData)(h,p,_,m.opts.ownProperties);l.setParams({property:_,depsCount:x.length,deps:x.join(", ")}),m.allErrors?h.if(E,()=>{for(const S of x)(0,r.checkReportMissingProp)(l,S)}):(h.if((0,e._)`${E} && (${(0,r.checkMissingProp)(l,x,y)})`),(0,r.reportMissingProp)(l,y),h.else())}}t.validatePropertyDeps=s;function o(l,f=l.schema){const{gen:h,data:p,keyword:m,it:y}=l,_=h.name("valid");for(const x in f)(0,n.alwaysValidSchema)(y,f[x])||(h.if((0,r.propertyInData)(h,p,x,y.opts.ownProperties),()=>{const E=l.subschema({keyword:m,schemaProp:x},_);l.mergeValidEvaluated(E,_)},()=>h.var(_,!0)),l.ok(_))}t.validateSchemaDeps=o,t.default=i}(qT)),qT}var Gv={},s$;function L2e(){if(s$)return Gv;s$=1,Object.defineProperty(Gv,"__esModule",{value:!0});const t=Pn(),e=zn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:s,data:o,it:l}=i;if((0,e.alwaysValidSchema)(l,s))return;const f=a.name("valid");a.forIn("key",o,h=>{i.setParams({propertyName:h}),i.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},f),a.if((0,t.not)(f),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(f)}};return Gv.default=r,Gv}var Wv={},o$;function O9(){if(o$)return Wv;o$=1,Object.defineProperty(Wv,"__esModule",{value:!0});const t=$s(),e=Pn(),n=vu(),r=zn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,e._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:o,schema:l,parentSchema:f,data:h,errsCount:p,it:m}=s;if(!p)throw new Error("ajv implementation error");const{allErrors:y,opts:_}=m;if(m.props=!0,_.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const x=(0,t.allSchemaProperties)(f.properties),E=(0,t.allSchemaProperties)(f.patternProperties);S(),s.ok((0,e._)`${p} === ${n.default.errors}`);function S(){o.forIn("key",h,I=>{!x.length&&!E.length?k(I):o.if(b(I),()=>k(I))})}function b(I){let F;if(x.length>8){const B=(0,r.schemaRefOrVal)(m,f.properties,"properties");F=(0,t.isOwnProperty)(o,B,I)}else x.length?F=(0,e.or)(...x.map(B=>(0,e._)`${I} === ${B}`)):F=e.nil;return E.length&&(F=(0,e.or)(F,...E.map(B=>(0,e._)`${(0,t.usePattern)(s,B)}.test(${I})`))),(0,e.not)(F)}function A(I){o.code((0,e._)`delete ${h}[${I}]`)}function k(I){if(_.removeAdditional==="all"||_.removeAdditional&&l===!1){A(I);return}if(l===!1){s.setParams({additionalProperty:I}),s.error(),y||o.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const F=o.name("valid");_.removeAdditional==="failing"?(M(I,F,!1),o.if((0,e.not)(F),()=>{s.reset(),A(I)})):(M(I,F),y||o.if((0,e.not)(F),()=>o.break()))}}function M(I,F,B){const ee={keyword:"additionalProperties",dataProp:I,dataPropType:r.Type.Str};B===!1&&Object.assign(ee,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(ee,F)}}};return Wv.default=a,Wv}var Qv={},u$;function M2e(){if(u$)return Qv;u$=1,Object.defineProperty(Qv,"__esModule",{value:!0});const t=Am(),e=$s(),n=zn(),r=O9(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:o,parentSchema:l,data:f,it:h}=a;h.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(h,r.default,"additionalProperties"));const p=(0,e.allSchemaProperties)(o);for(const E of p)h.definedProperties.add(E);h.opts.unevaluated&&p.length&&h.props!==!0&&(h.props=n.mergeEvaluated.props(s,(0,n.toHash)(p),h.props));const m=p.filter(E=>!(0,n.alwaysValidSchema)(h,o[E]));if(m.length===0)return;const y=s.name("valid");for(const E of m)_(E)?x(E):(s.if((0,e.propertyInData)(s,f,E,h.opts.ownProperties)),x(E),h.allErrors||s.else().var(y,!0),s.endIf()),a.it.definedProperties.add(E),a.ok(y);function _(E){return h.opts.useDefaults&&!h.compositeRule&&o[E].default!==void 0}function x(E){a.subschema({keyword:"properties",schemaProp:E,dataProp:E},y)}}};return Qv.default=i,Qv}var Zv={},l$;function k2e(){if(l$)return Zv;l$=1,Object.defineProperty(Zv,"__esModule",{value:!0});const t=$s(),e=Pn(),n=zn(),r=zn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:o,data:l,parentSchema:f,it:h}=a,{opts:p}=h,m=(0,t.allSchemaProperties)(o),y=m.filter(k=>(0,n.alwaysValidSchema)(h,o[k]));if(m.length===0||y.length===m.length&&(!h.opts.unevaluated||h.props===!0))return;const _=p.strictSchema&&!p.allowMatchingProperties&&f.properties,x=s.name("valid");h.props!==!0&&!(h.props instanceof e.Name)&&(h.props=(0,r.evaluatedPropsToName)(s,h.props));const{props:E}=h;S();function S(){for(const k of m)_&&b(k),h.allErrors?A(k):(s.var(x,!0),A(k),s.if(x))}function b(k){for(const M in _)new RegExp(k).test(M)&&(0,n.checkStrictMode)(h,`property ${M} matches pattern ${k} (use allowMatchingProperties)`)}function A(k){s.forIn("key",l,M=>{s.if((0,e._)`${(0,t.usePattern)(a,k)}.test(${M})`,()=>{const I=y.includes(k);I||a.subschema({keyword:"patternProperties",schemaProp:k,dataProp:M,dataPropType:r.Type.Str},x),h.opts.unevaluated&&E!==!0?s.assign((0,e._)`${E}[${M}]`,!0):!I&&!h.allErrors&&s.if((0,e.not)(x),()=>s.break())})})}}};return Zv.default=i,Zv}var Jv={},c$;function D2e(){if(c$)return Jv;c$=1,Object.defineProperty(Jv,"__esModule",{value:!0});const t=zn(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,t.alwaysValidSchema)(a,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return Jv.default=e,Jv}var Yv={},f$;function N2e(){if(f$)return Yv;f$=1,Object.defineProperty(Yv,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:$s().validateUnion,error:{message:"must match a schema in anyOf"}};return Yv.default=e,Yv}var Xv={},d$;function F2e(){if(d$)return Xv;d$=1,Object.defineProperty(Xv,"__esModule",{value:!0});const t=Pn(),e=zn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:s,parentSchema:o,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;const f=s,h=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");i.setParams({passing:p}),a.block(y),i.result(h,()=>i.reset(),()=>i.error(!0));function y(){f.forEach((_,x)=>{let E;(0,e.alwaysValidSchema)(l,_)?a.var(m,!0):E=i.subschema({keyword:"oneOf",schemaProp:x,compositeRule:!0},m),x>0&&a.if((0,t._)`${m} && ${h}`).assign(h,!1).assign(p,(0,t._)`[${p}, ${x}]`).else(),a.if(m,()=>{a.assign(h,!0),a.assign(p,x),E&&i.mergeEvaluated(E,t.Name)})})}}};return Xv.default=r,Xv}var e_={},h$;function j2e(){if(h$)return e_;h$=1,Object.defineProperty(e_,"__esModule",{value:!0});const t=zn(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((o,l)=>{if((0,t.alwaysValidSchema)(a,o))return;const f=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(f)})}};return e_.default=e,e_}var t_={},p$;function $2e(){if(p$)return t_;p$=1,Object.defineProperty(t_,"__esModule",{value:!0});const t=Pn(),e=zn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:s,parentSchema:o,it:l}=a;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const f=i(l,"then"),h=i(l,"else");if(!f&&!h)return;const p=s.let("valid",!0),m=s.name("_valid");if(y(),a.reset(),f&&h){const x=s.let("ifClause");a.setParams({ifClause:x}),s.if(m,_("then",x),_("else",x))}else f?s.if(m,_("then")):s.if((0,t.not)(m),_("else"));a.pass(p,()=>a.error(!0));function y(){const x=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(x)}function _(x,E){return()=>{const S=a.subschema({keyword:x},m);s.assign(p,m),a.mergeValidEvaluated(S,p),E?s.assign(E,(0,t._)`${x}`):a.setParams({ifClause:x})}}}};function i(a,s){const o=a.schema[s];return o!==void 0&&!(0,e.alwaysValidSchema)(a,o)}return t_.default=r,t_}var n_={},g$;function U2e(){if(g$)return n_;g$=1,Object.defineProperty(n_,"__esModule",{value:!0});const t=zn(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return n_.default=e,n_}var m$;function B2e(){if(m$)return Hv;m$=1,Object.defineProperty(Hv,"__esModule",{value:!0});const t=A9(),e=R2e(),n=R9(),r=O2e(),i=P2e(),a=I2e(),s=L2e(),o=O9(),l=M2e(),f=k2e(),h=D2e(),p=N2e(),m=F2e(),y=j2e(),_=$2e(),x=U2e();function E(S=!1){const b=[h.default,p.default,m.default,y.default,_.default,x.default,s.default,o.default,a.default,l.default,f.default];return S?b.push(e.default,r.default):b.push(t.default,n.default),b.push(i.default),b}return Hv.default=E,Hv}var r_={},i_={},y$;function q2e(){if(y$)return i_;y$=1,Object.defineProperty(i_,"__esModule",{value:!0});const t=Pn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:a,data:s,$data:o,schema:l,schemaCode:f,it:h}=r,{opts:p,errSchemaPath:m,schemaEnv:y,self:_}=h;if(!p.validateFormats)return;o?x():E();function x(){const S=a.scopeValue("formats",{ref:_.formats,code:p.code.formats}),b=a.const("fDef",(0,t._)`${S}[${f}]`),A=a.let("fType"),k=a.let("format");a.if((0,t._)`typeof ${b} == "object" && !(${b} instanceof RegExp)`,()=>a.assign(A,(0,t._)`${b}.type || "string"`).assign(k,(0,t._)`${b}.validate`),()=>a.assign(A,(0,t._)`"string"`).assign(k,b)),r.fail$data((0,t.or)(M(),I()));function M(){return p.strictSchema===!1?t.nil:(0,t._)`${f} && !${k}`}function I(){const F=y.$async?(0,t._)`(${b}.async ? await ${k}(${s}) : ${k}(${s}))`:(0,t._)`${k}(${s})`,B=(0,t._)`(typeof ${k} == "function" ? ${F} : ${k}.test(${s}))`;return(0,t._)`${k} && ${k} !== true && ${A} === ${i} && !${B}`}}function E(){const S=_.formats[l];if(!S){M();return}if(S===!0)return;const[b,A,k]=I(S);b===i&&r.pass(F());function M(){if(p.strictSchema===!1){_.logger.warn(B());return}throw new Error(B());function B(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function I(B){const ee=B instanceof RegExp?(0,t.regexpCode)(B):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(l)}`:void 0,U=a.scopeValue("formats",{key:l,ref:B,code:ee});return typeof B=="object"&&!(B instanceof RegExp)?[B.type||"string",B.validate,(0,t._)`${U}.validate`]:["string",B,U]}function F(){if(typeof S=="object"&&!(S instanceof RegExp)&&S.async){if(!y.$async)throw new Error("async format in sync schema");return(0,t._)`await ${k}(${s})`}return typeof A=="function"?(0,t._)`${k}(${s})`:(0,t._)`${k}.test(${s})`}}}};return i_.default=n,i_}var v$;function H2e(){if(v$)return r_;v$=1,Object.defineProperty(r_,"__esModule",{value:!0});const e=[q2e().default];return r_.default=e,r_}var yc={},_$;function z2e(){return _$||(_$=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.contentVocabulary=yc.metadataVocabulary=void 0,yc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],yc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),yc}var w$;function V2e(){if(w$)return Av;w$=1,Object.defineProperty(Av,"__esModule",{value:!0});const t=g2e(),e=A2e(),n=B2e(),r=H2e(),i=z2e(),a=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return Av.default=a,Av}var a_={},Yp={},b$;function K2e(){if(b$)return Yp;b$=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(Yp.DiscrError=t={})),Yp}var S$;function G2e(){if(S$)return a_;S$=1,Object.defineProperty(a_,"__esModule",{value:!0});const t=Pn(),e=K2e(),n=rO(),r=zn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:o}})=>s===e.DiscrError.Tag?`tag "${o}" must be string`:`value of tag "${o}" must be in oneOf`,params:({params:{discrError:s,tag:o,tagName:l}})=>(0,t._)`{error: ${s}, tag: ${l}, tagValue: ${o}}`},code(s){const{gen:o,data:l,schema:f,parentSchema:h,it:p}=s,{oneOf:m}=h;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=f.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const _=o.let("valid",!1),x=o.const("tag",(0,t._)`${l}${(0,t.getProperty)(y)}`);o.if((0,t._)`typeof ${x} == "string"`,()=>E(),()=>s.error(!1,{discrError:e.DiscrError.Tag,tag:x,tagName:y})),s.ok(_);function E(){const A=b();o.if(!1);for(const k in A)o.elseIf((0,t._)`${x} === ${k}`),o.assign(_,S(A[k]));o.else(),s.error(!1,{discrError:e.DiscrError.Mapping,tag:x,tagName:y}),o.endIf()}function S(A){const k=o.name("valid"),M=s.subschema({keyword:"oneOf",schemaProp:A},k);return s.mergeEvaluated(M,t.Name),k}function b(){var A;const k={},M=F(h);let I=!0;for(let U=0;U<m.length;U++){let J=m[U];J!=null&&J.$ref&&!(0,r.schemaHasRulesButRef)(J,p.self.RULES)&&(J=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,J==null?void 0:J.$ref),J instanceof n.SchemaEnv&&(J=J.schema));const le=(A=J==null?void 0:J.properties)===null||A===void 0?void 0:A[y];if(typeof le!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);I=I&&(M||F(J)),B(le,U)}if(!I)throw new Error(`discriminator: "${y}" must be required`);return k;function F({required:U}){return Array.isArray(U)&&U.includes(y)}function B(U,J){if(U.const)ee(U.const,J);else if(U.enum)for(const le of U.enum)ee(le,J);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function ee(U,J){if(typeof U!="string"||U in k)throw new Error(`discriminator: "${y}" values must be unique strings`);k[U]=J}}}};return a_.default=a,a_}const W2e="http://json-schema.org/draft-07/schema#",Q2e="http://json-schema.org/draft-07/schema#",Z2e="Core schema meta-schema",J2e={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Y2e=["object","boolean"],X2e={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},eTe={$schema:W2e,$id:Q2e,title:Z2e,definitions:J2e,type:Y2e,properties:X2e,default:!0};var x$;function P9(){return x$||(x$=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=d2e(),r=V2e(),i=G2e(),a=eTe,s=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(a,s):a;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var f=Am();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var h=Pn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=tO();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=nO();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(Sv,Sv.exports)),Sv.exports}var tTe=P9();const nTe=Ur(tTe);var s_={exports:{}},E$;function rTe(){return E$||(E$=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=P9(),r=Pn(),i=Kg(),a=Am(),s=Cm(),o=vu(),l="errorMessage",f=new n.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function _(E){return{keyword:l,schemaType:["string","object"],post:!0,code(S){const{gen:b,data:A,schema:k,schemaValue:M,it:I}=S;if(I.createErrors===!1)return;const F=k,B=r.strConcat(o.default.instancePath,I.errorPath);b.if(n._`${o.default.errors} > 0`,()=>{if(typeof F=="object"){const[V,Z]=U(F);Z&&J(Z),V&&le(V),Y(ee(F))}const ce=typeof F=="string"?F:F._;ce&&se(ce),E.keepErrors||me()});function ee({properties:ce,items:V}){const Z={};if(ce){Z.props={};for(const he in ce)Z.props[he]=[]}if(V){Z.items={};for(let he=0;he<V.length;he++)Z.items[he]=[]}return Z}function U(ce){let V,Z;for(const he in ce){if(he==="properties"||he==="items")continue;const xe=ce[he];if(typeof xe=="object"){V||(V={});const Ve=V[he]={};for(const Te in xe)Ve[Te]=[]}else Z||(Z={}),Z[he]=[]}return[V,Z]}function J(ce){const V=b.const("emErrors",n.stringify(ce)),Z=b.const("templates",Oe(ce,k));b.forOf("err",o.default.vErrors,Te=>b.if(ve(Te,V),()=>b.code(n._`${V}[${Te}.keyword].push(${Te})`).assign(n._`${Te}.${f}`,!0)));const{singleError:he}=E;if(he){const Te=b.let("message",n._`""`),Me=b.let("paramsErrors",n._`[]`);xe(Ze=>{b.if(Te,()=>b.code(n._`${Te} += ${typeof he=="string"?he:";"}`)),b.code(n._`${Te} += ${Ve(Ze)}`),b.assign(Me,n._`${Me}.concat(${V}[${Ze}])`)}),s.reportError(S,{message:Te,params:n._`{errors: ${Me}}`})}else xe(Te=>s.reportError(S,{message:Ve(Te),params:n._`{errors: ${V}[${Te}]}`}));function xe(Te){b.forIn("key",V,Me=>b.if(n._`${V}[${Me}].length`,()=>Te(Me)))}function Ve(Te){return n._`${Te} in ${Z} ? ${Z}[${Te}]() : ${M}[${Te}]`}}function le(ce){const V=b.const("emErrors",n.stringify(ce)),Z=[];for(const Me in ce)Z.push([Me,Oe(ce[Me],k[Me])]);const he=b.const("templates",b.object(...Z)),xe=b.scopeValue("obj",{ref:h,code:n.stringify(h)}),Ve=b.let("emPropParams"),Te=b.let("emParamsErrors");b.forOf("err",o.default.vErrors,Me=>b.if(ve(Me,V),()=>{b.assign(Ve,n._`${xe}[${Me}.keyword]`),b.assign(Te,n._`${V}[${Me}.keyword][${Me}.params[${Ve}]]`),b.if(Te,()=>b.code(n._`${Te}.push(${Me})`).assign(n._`${Me}.${f}`,!0))})),b.forIn("key",V,Me=>b.forIn("keyProp",n._`${V}[${Me}]`,Ze=>{b.assign(Te,n._`${V}[${Me}][${Ze}]`),b.if(n._`${Te}.length`,()=>{const ie=b.const("tmpl",n._`${he}[${Me}] && ${he}[${Me}][${Ze}]`);s.reportError(S,{message:n._`${ie} ? ${ie}() : ${M}[${Me}][${Ze}]`,params:n._`{errors: ${Te}}`})})}))}function Y(ce){const{props:V,items:Z}=ce;if(!V&&!Z)return;const he=n._`typeof ${A} == "object"`,xe=n._`Array.isArray(${A})`,Ve=b.let("emErrors");let Te,Me;const Ze=b.let("templates");V&&Z?(Te=b.let("emChildKwd"),b.if(he),b.if(xe,()=>{ie(Z,k.items),b.assign(Te,n.str`items`)},()=>{ie(V,k.properties),b.assign(Te,n.str`properties`)}),Me=n._`[${Te}]`):Z?(b.if(xe),ie(Z,k.items),Me=n._`.items`):V&&(b.if(r.and(he,r.not(xe))),ie(V,k.properties),Me=n._`.properties`),b.forOf("err",o.default.vErrors,z=>fe(z,Ve,$=>b.code(n._`${Ve}[${$}].push(${z})`).assign(n._`${z}.${f}`,!0))),b.forIn("key",Ve,z=>b.if(n._`${Ve}[${z}].length`,()=>{s.reportError(S,{message:n._`${z} in ${Ze} ? ${Ze}[${z}]() : ${M}${Me}[${z}]`,params:n._`{errors: ${Ve}[${z}]}`}),b.assign(n._`${o.default.vErrors}[${o.default.errors}-1].instancePath`,n._`${B} + "/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),b.endIf();function ie(z,$){b.assign(Ve,n.stringify(z)),b.assign(Ze,Oe(z,$))}}function se(ce){const V=b.const("emErrs",n._`[]`);b.forOf("err",o.default.vErrors,Z=>b.if(ue(Z),()=>b.code(n._`${V}.push(${Z})`).assign(n._`${Z}.${f}`,!0))),b.if(n._`${V}.length`,()=>s.reportError(S,{message:D(ce),params:n._`{errors: ${V}}`}))}function me(){const ce=b.const("emErrs",n._`[]`);b.forOf("err",o.default.vErrors,V=>b.if(n._`!${V}.${f}`,()=>b.code(n._`${ce}.push(${V})`))),b.assign(o.default.vErrors,ce).assign(o.default.errors,n._`${ce}.length`)}function ve(ce,V){return r.and(n._`${ce}.keyword !== ${l}`,n._`!${ce}.${f}`,n._`${ce}.instancePath === ${B}`,n._`${ce}.keyword in ${V}`,n._`${ce}.schemaPath.indexOf(${I.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${ce}.schemaPath.slice(${I.errSchemaPath.length}))`)}function fe(ce,V,Z){b.if(r.and(n._`${ce}.keyword !== ${l}`,n._`!${ce}.${f}`,n._`${ce}.instancePath.indexOf(${B}) === 0`),()=>{const he=b.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),xe=b.const("emMatches",n._`${he}.exec(${ce}.instancePath.slice(${B}.length))`),Ve=b.const("emChild",n._`${xe} && ${xe}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);b.if(n._`${Ve} !== undefined && ${Ve} in ${V}`,()=>Z(Ve))})}function ue(ce){return r.and(n._`${ce}.keyword !== ${l}`,n._`!${ce}.${f}`,r.or(n._`${ce}.instancePath === ${B}`,r.and(n._`${ce}.instancePath.indexOf(${B}) === 0`,n._`${ce}.instancePath[${B}.length] === "/"`)),n._`${ce}.schemaPath.indexOf(${I.errSchemaPath}) === 0`,n._`${ce}.schemaPath[${I.errSchemaPath}.length] === "/"`)}function Oe(ce,V){const Z=[];for(const he in ce){const xe=V[he];p.test(xe)&&Z.push([he,X(xe)])}return b.object(...Z)}function D(ce){return p.test(ce)?new i._Code(i.safeStringify(ce).replace(m,(V,Z)=>`" + JSON.stringify(${a.getData(Z,I)}) + "`).replace(y,"")):n.stringify(ce)}function X(ce){return n._`function(){return ${D(ce)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const x=(E,S={})=>{if(!E.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(E.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return E.addKeyword(_(S))};e.default=x,t.exports=x,t.exports.default=x}(s_,s_.exports)),s_.exports}var iTe=rTe();const aTe=Ur(iTe);var sTe=function(t,e){return t.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),t.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),e){var a=n[i].types,s=a&&a[r.keyword];n[i]=oH(i,e,n,r.keyword,s?[].concat(s,r.message||""):r.message)}return n},{})},oTe=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{var s=new nTe(Object.assign({},{allErrors:!0,validateSchema:!0},e));aTe(s);var o=s.compile(Object.assign({$async:n&&n.mode==="async"},t)),l=o(r);return a.shouldUseNativeValidation&&x9({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:QEe(sTe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(f){return Promise.reject(f)}}};const uTe={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"string",minLength:1}}},T$=({initialData:t,onSubmit:e,onCancel:n})=>{const{handleSubmit:r,register:i,control:a,formState:{errors:s}}=Em({defaultValues:qc({location:{lat:0,long:0}},t),resolver:oTe(uTe)}),o=r(l=>{e(l)});return ge.jsxs("form",{onSubmit:o,onReset:n,className:mi(us.accommodationForm,us.accommodation),"data-cy":"accommodation-form",children:[ge.jsxs("label",{children:["Hosting location (click ",ge.jsx(vce,{})," or drag & zoom map)",ge.jsx("br",{}),ge.jsx(tk,{})," For safety, share only approximate location"," ",ge.jsx(tk,{})]}),ge.jsx(nwe,{control:a,name:"location",render:({field:l})=>ge.jsx("div",{className:mi(s.location&&us.inputError),children:ge.jsx(UEe,{value:l.value,onChange:l.onChange,isInitial:!t})})}),s.location&&ge.jsx("div",{className:us.errorMessage,children:"Please move map to your hosting location"}),ge.jsx("label",{htmlFor:"description",children:"About your hosting"}),ge.jsx("textarea",{className:mi(s.description&&us.inputError),id:"description",placeholder:"Tell others about your place and hosting",...i("description")}),s.description&&ge.jsx("div",{className:us.errorMessage,children:"This field is required"}),ge.jsxs("div",{className:us.actions,children:[ge.jsx(Kr,{type:"reset",secondary:!0,children:"Cancel"}),ge.jsx(Kr,{type:"submit",primary:!0,children:"Submit"})]})]})},lTe=({location:t})=>{const e=JR();return ae.useEffect(()=>{e.flyTo(t)},[t,e]),null},cTe=t=>{const{tileServer:e}=Vn(),n=ae.useMemo(()=>[t.location.lat,t.location.long],[t.location.lat,t.location.long]);return ge.jsxs(ge.Fragment,{children:[ge.jsxs(YR,{className:sA.mapContainer,attributionControl:!1,zoom:12,center:n,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[ge.jsx(eO,{url:e}),ge.jsx(XR,{position:n}),ge.jsx(lTe,{location:n})]}),ge.jsxs("div",{className:sA.description,children:[t.description," ",ge.jsx("a",{href:t.id,target:"_blank",rel:"noopener noreferrer",children:ge.jsx(oB,{})})]})]})},fTe=()=>{const t=Ls(H0),e=js();return ae.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const s=yl(),o=a+s,l=`${o}#accommodation`;return await t.mutateAsync({uri:o,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[r.description],location:{"@id":`${o}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}}}),await e.mutateAsync({uri:i,patch:`
          _:mutate a <${Hn.InsertDeletePatch}>;
            <${Hn.inserts}> { <${n}> <${Tl.offers}> <${l}>. }.
        `}),{uri:l}},[t,e])},dTe=()=>{const t=js(),e=z0();return ae.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await t.mutateAsync({uri:i,patch:`
          _:mutate a <${Hn.InsertDeletePatch}>;
            <${Hn.deletes}> { <${r}> <${Tl.offers}> <${n}>. }.
        `}),await e.mutateAsync({uri:n})},[e,t])};var HT,C$;function hTe(){if(C$)return HT;C$=1;for(var t="0123456789bcdefghjkmnpqrstuvwxyz",e={},n=0;n<t.length;n++)e[t.charAt(n)]=n;var r="auto",i=-90,a=90,s=-180,o=180,l=[0,5,7,8,11,12,13,15,16,17,18],f=function(ee,U,J){if(J===r){if(typeof ee=="number"||typeof U=="number")throw new Error("string notation required for auto precision.");var le=ee.split(".")[1].length,Y=U.split(".")[1].length,se=Math.max(le,Y);J=l[se]}else J===void 0&&(J=9);for(var me=[],ve=0,fe=0,ue=0,Oe=a,D=i,X=o,ce=s,V;me.length<J;)if(fe%2===0?(V=(X+ce)/2,U>V?(ue=(ue<<1)+1,ce=V):(ue=(ue<<1)+0,X=V)):(V=(Oe+D)/2,ee>V?(ue=(ue<<1)+1,D=V):(ue=(ue<<1)+0,Oe=V)),ve++,fe++,ve===5){var Z=t[ue];me.push(Z),ve=0,ue=0}return me.join("")},h=function(ee,U,J){J=J||52;for(var le=0,Y=a,se=i,me=o,ve=s,fe,ue=0;le<J;)ue*=2,le%2===0?(fe=(me+ve)/2,U>fe?(ue+=1,ve=fe):me=fe):(fe=(Y+se)/2,ee>fe?(ue+=1,se=fe):Y=fe),le++;return ue},p=function(ee){for(var U=!0,J=a,le=i,Y=o,se=s,me,ve=0,fe=0,ue=ee.length;fe<ue;fe++){var Oe=ee[fe].toLowerCase();ve=e[Oe];for(var D=4;D>=0;D--){var X=ve>>D&1;U?(me=(Y+se)/2,X===1?se=me:Y=me):(me=(J+le)/2,X===1?le=me:J=me),U=!U}}return[le,se,J,Y]},m=function(ee,U){U=U||52;for(var J=a,le=i,Y=o,se=s,me=0,ve=0,fe=U/2,ue=0;ue<fe;ue++)ve=y(ee,(fe-ue)*2-1),me=y(ee,(fe-ue)*2-2),me===0?J=(J+le)/2:le=(J+le)/2,ve===0?Y=(Y+se)/2:se=(Y+se)/2;return[le,se,J,Y]};function y(ee,U){return ee/Math.pow(2,U)&1}var _=function(ee){var U=p(ee),J=(U[0]+U[2])/2,le=(U[1]+U[3])/2,Y=U[2]-J,se=U[3]-le;return{latitude:J,longitude:le,error:{latitude:Y,longitude:se}}},x=function(ee,U){var J=m(ee,U),le=(J[0]+J[2])/2,Y=(J[1]+J[3])/2,se=J[2]-le,me=J[3]-Y;return{latitude:le,longitude:Y,error:{latitude:se,longitude:me}}},E=function(ee,U){var J=_(ee),le=J.latitude+U[0]*J.error.latitude*2,Y=J.longitude+U[1]*J.error.longitude*2;return Y=I(Y),le=F(le),f(le,Y,ee.length)},S=function(ee,U,J){J=J||52;var le=x(ee,J),Y=le.latitude+U[0]*le.error.latitude*2,se=le.longitude+U[1]*le.error.longitude*2;return se=I(se),Y=F(Y),h(Y,se,J)},b=function(ee){var U=ee.length,J=_(ee),le=J.latitude,Y=J.longitude,se=J.error.latitude*2,me=J.error.longitude*2,ve,fe,ue=[Oe(1,0),Oe(1,1),Oe(0,1),Oe(-1,1),Oe(-1,0),Oe(-1,-1),Oe(0,-1),Oe(1,-1)];function Oe(D,X){return ve=le+D*se,fe=Y+X*me,fe=I(fe),ve=F(ve),f(ve,fe,U)}return ue},A=function(ee,U){U=U||52;var J=x(ee,U),le=J.latitude,Y=J.longitude,se=J.error.latitude*2,me=J.error.longitude*2,ve,fe,ue=[Oe(1,0),Oe(1,1),Oe(0,1),Oe(-1,1),Oe(-1,0),Oe(-1,-1),Oe(0,-1),Oe(1,-1)];function Oe(D,X){return ve=le+D*se,fe=Y+X*me,fe=I(fe),ve=F(ve),h(ve,fe,U)}return ue},k=function(ee,U,J,le,Y){Y=Y||9;for(var se=f(ee,U,Y),me=f(J,le,Y),ve=_(se),fe=ve.error.latitude*2,ue=ve.error.longitude*2,Oe=p(se),D=p(me),X=Math.round((D[0]-Oe[0])/fe),ce=Math.round((D[1]-Oe[1])/ue),V=[],Z=0;Z<=X;Z++)for(var he=0;he<=ce;he++)V.push(E(se,[Z,he]));return V},M=function(ee,U,J,le,Y){Y=Y||52;for(var se=h(ee,U,Y),me=h(J,le,Y),ve=x(se,Y),fe=ve.error.latitude*2,ue=ve.error.longitude*2,Oe=m(se,Y),D=m(me,Y),X=Math.round((D[0]-Oe[0])/fe),ce=Math.round((D[1]-Oe[1])/ue),V=[],Z=0;Z<=X;Z++)for(var he=0;he<=ce;he++)V.push(S(se,[Z,he],Y));return V};function I(ee){return ee>o?s+ee%o:ee<s?o+ee%o:ee}function F(ee){return ee>a?a:ee<i?i:ee}var B={ENCODE_AUTO:r,encode:f,encode_uint64:h,encode_int:h,decode:_,decode_int:x,decode_uint64:x,decode_bbox:p,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:E,neighbor_int:S,neighbors:b,neighbors_int:A,bboxes:k,bboxes_int:M};return HT=B,HT}var pTe=hTe();const Gg=Ur(pTe),gTe=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Document",id:e}}),mTe=t=>async e=>{const n=await yr(new URL("/inbox",t),{method:"POST",body:JSON.stringify(gTe(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new vm("Geoindex responded with error",n);return{...e,status:n.status}},A$=(t="")=>{const e=[];for(let n=1;n<=t.length;n++)e.push(t.substring(0,n));return e},yTe=()=>{const{geoindexService:t}=Vn(),e=xa(),{mutateAsync:n}=fs({mutationFn:mTe(t),onSuccess:async({previousLocation:a,currentLocation:s})=>{const o=[];if(a){const l=Gg.encode(a.lat,a.long,10);o.push(...A$(l))}if(s){const l=Gg.encode(s.lat,s.long,10);o.push(...A$(l))}await Promise.allSettled(o.map(l=>e.invalidateQueries({queryKey:["geoindex",l]})))}}),r=!!t,i=ae.useCallback(async a=>await n(a),[n]);return ae.useMemo(()=>[r,i],[r,i])},vTe=(t,e,n="en")=>{const{variables:r,quads:i,isLoading:a}=wa({query:C8,variables:ae.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:yr});return ae.useMemo(()=>{const s=Zn.createLdoDataset(i);return[(r.offer??[]).map(f=>s.usingType(H0).fromSubject(f)).filter(f=>{var h,p;return((h=f==null?void 0:f.location)==null?void 0:h.lat)!==void 0&&((p=f==null?void 0:f.location)==null?void 0:p.long)!==void 0}).map(f=>{var _,x;const h=f&&Zn.languagesOf(f,"description"),p=((_=h==null?void 0:h[n])==null?void 0:_.values().next().value)??"",m=[f.location.lat].flat()[0]??0,y=[f.location.long].flat()[0]??0;return{id:f["@id"]??"",description:p,location:{lat:m,long:y},offeredBy:((x=f.offeredBy)==null?void 0:x["@id"])??""}}),a]},[a,n,i,r.offer])},_Te={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},wTe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},bTe={schema:wTe,shape:"https://example.com/Accommodation",context:_Te},STe=()=>{const t=lu(bTe);return ae.useCallback(async({data:{id:e,...n},language:r="en"})=>{await t.mutateAsync({uri:e,subject:e,language:r,transform:i=>{n.description&&(i.description=[n.description]),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[t])},xTe=()=>{const{communityId:t}=Vn(),e=Ui(),[n,r]=ae.useState(),{personalHospexDocuments:i}=qq(e.webId??"",t),[a]=vTe(e.webId??"",t),s=fTe(),o=STe(),l=dTe(),[f,h]=yTe(),p=ae.useCallback(async({uri:x,type:E,previousLocation:S,currentLocation:b})=>{f&&e.webId&&await oo(h({type:E,actor:e.webId,object:x,previousLocation:S,currentLocation:b}),{pending:"Notifying indexing service",success:{render:({data:A})=>{switch(A.status){case 201:return ge.jsx(ge.Fragment,{children:"Accommodation added to indexing service"});case 200:return ge.jsx(ge.Fragment,{children:"Accommodation updated in indexing service"});case 204:return ge.jsx(ge.Fragment,{children:"Accommodation removed from indexing service"});default:return ge.jsx(ge.Fragment,{children:"Unexpected status code from indexing service"})}}}})},[e.webId,f,h]);if(typeof e.webId!="string")return null;if(!a)return ge.jsx(ba,{children:"Loading..."});const m=async x=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");const{uri:E}=await oo(s({personId:e.webId,data:x,hospexDocument:i[0],hospexContainer:ri(i[0])}),{pending:"Creating accommodation",success:"Accommodation created"});r(void 0),await p({type:"Create",uri:E,currentLocation:x.location})},y=async(x,E)=>{await oo(o({data:x}),{pending:"Updating accommodation",success:"Accommodation updated"}),r(void 0),await p({type:"Update",uri:x.id,currentLocation:x.location,previousLocation:E.location})},_=async({id:x,location:E})=>{if(!(e.webId&&(i!=null&&i[0])))throw new Error("missing variables");globalThis.confirm("Do you really want to delete the accommodation?")&&(await oo(l({id:x,personId:e.webId,hospexDocument:i[0]}),{pending:"Deleting accommodation",success:"Accommodation deleted"}),await p({type:"Delete",uri:x,previousLocation:E}))};return ge.jsxs("div",{className:us.container,children:[ge.jsxs("h1",{className:us.header,children:[ge.jsx(sB,{size:32})," My Accommodation Offers"]}),ge.jsx("ul",{style:{display:"contents"},children:a.map(x=>n===x.id?ge.jsx(T$,{onSubmit:E=>y(E,x),onCancel:()=>{r(void 0)},initialData:x},x.id):ge.jsxs("li",{className:us.accommodation,"data-cy":"offer-accommodation-item",children:[ge.jsx(cTe,{...x}),ge.jsxs("div",{className:us.actions,children:[ge.jsx(Kr,{secondary:!0,onClick:()=>{r(x.id)},children:"Edit"}),ge.jsx(Kr,{danger:!0,onClick:()=>_(x),children:"Delete"})]})]},x.id))}),n==="new"?ge.jsx(T$,{onSubmit:m,onCancel:()=>r(void 0)}):ge.jsx(Kr,{primary:!0,onClick:()=>r("new"),className:us.addAccommodationButton,children:"Add Accommodation"})]})},ETe=()=>ge.jsx(ge.Fragment,{children:"MyTravelPlans"}),TTe=()=>ge.jsx("div",{children:"404"}),CTe=t=>{const{data:e}=zA(t.src);return e?ge.jsx("img",{...t,src:e,alt:t.alt??"","data-src":t.src}):null},ATe="_container_16bhv_1",RTe="_name_16bhv_7",OTe="_about_16bhv_14",PTe="_photo_16bhv_17",o_={container:ATe,name:RTe,about:OTe,photo:PTe},ITe=()=>{const{communityId:t}=Vn(),e=vA().id,n=Ui(),r=e&&n.webId?e===n.webId:void 0,[i]=Ms(e,t),[a]=Ms(n.webId,t);return ge.jsxs("div",{className:o_.container,children:[ge.jsx(CTe,{className:o_.photo,src:i.photo,alt:`Profile photo of ${i.name}`,"data-cy":"profile-photo"}),ge.jsxs("header",{className:o_.name,"data-cy":"profile-name",children:[i.name," ",ge.jsx(Pce,{href:e})]}),ge.jsx("section",{className:o_.about,"data-cy":"profile-about",children:i.about}),r&&ge.jsxs(Fc,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[ge.jsx(wce,{})," edit profile"]}),r===!1&&ge.jsx(Fc,{secondary:!0,to:`/messages/${encodeURIComponent(e)}`,children:"Write a message"}),ge.jsx(Fc,{tertiary:!0,to:"contacts",children:"contacts"}),r===!1&&ge.jsx(Fwe,{webId:e}),ge.jsx("section",{children:i.interests?ge.jsx(cge,{ids:i.interests,highlighted:r?[]:a.interests??[]}):ge.jsx(ba,{children:"loading interests..."})})]})},LTe=()=>{const t=Ui();return t.webId?ge.jsx(wA,{to:encodeURIComponent(t.webId),replace:!0}):ge.jsx(ba,{children:"authenticating"})},MTe="_bar_1x3gh_1",kTe="_animate_1x3gh_17",DTe="_progress_1x3gh_1",R$={bar:MTe,animate:kTe,progress:DTe},NTe=({animate:t=!1})=>ge.jsx("div",{className:mi(R$.bar,t&&R$.animate)}),FTe=async({geohash:t,geoindex:e})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${t}"`)}`,e).toString(),r=await yr(n);if(!r.ok)throw new vm("geoindex returned invalid response",r);const i=await r.text(),s=new Ud({format:r.headers.get("content-type")??void 0}).parse(i),o=new co(s);return o.getSubjects("https://example.com/ns#geohash",`"${t}"`,null).map(f=>{const h=o.getObjects(f,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),p=Gg.decode(h);return{uri:f.value,geohash:h,location:p}})},jTe=(t,e)=>{const{geoindexService:n}=Vn(),[r,i]=ae.useState(0),[a,s]=ae.useState(0),o=!n||r>a,l=ae.useMemo(()=>e?Gg.bboxes(e.s,e.w,e.n,e.e,1):[],[e]),f=ae.useMemo(()=>l.map(S=>({queryKey:["geoindex",S],queryFn:()=>FTe({geohash:S,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),h=dA({queries:f,combine:S=>({isError:S.some(b=>b.isError),isPending:S.some(b=>b.isPending),isSuccess:S.every(b=>b.isSuccess),errors:S.filter(b=>b.error).map(b=>b.error),data:S.filter(b=>b.data).flatMap(b=>b.data)})});ae.useEffect(()=>{h.isError&&i(Date.now())},[h.isError]),ae.useEffect(()=>{h.isSuccess&&s(Date.now())},[h.isSuccess]);const p=ae.useMemo(()=>o?{query:she,variables:{community:[t]},fetch:yr,store:new co}:{query:[],variables:{},fetch:yr},[t,o]),{quads:m,isMissing:y}=wa(p),_=ae.useMemo(()=>[Zn.createLdoDataset(m).usingType(H0).matchObject(null,Tl.offers).filter(A=>A.location).map(A=>{var k,M,I;return{id:A["@id"]??"",description:((k=A.description)==null?void 0:k[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((M=A.offeredBy)==null?void 0:M["@id"])??"",name:((I=A.offeredBy)==null?void 0:I.name)??""}}}),y],[y,m]),x=ae.useMemo(()=>[h.data.map(({uri:S,location:b})=>({id:S,location:{lat:b.latitude,long:b.longitude},offeredBy:{id:"",name:""}})),h.isPending],[h.data,h.isPending]);return ae.useMemo(()=>[nce("id",x[0],_[0]),x[1]||_[1]],[x,_])};var pg={exports:{}},$Te=pg.exports,O$;function UTe(){return O$||(O$=1,function(t,e){(function(n,r){r(e)})($Te,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=a,o=this._zoom;if(a.__parent)for(;s.__parent._zoom>=o;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,s):this._animationAddLayerNonAnimated(a,s)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,s){if(!L.Util.isArray(a))return this.addLayer(a);var o=this._featureGroup,l=this._nonPointGroup,f=this.options.chunkedLoading,h=this.options.chunkInterval,p=this.options.chunkProgress,m=a.length,y=0,_=!0,x;if(this._map){var E=new Date().getTime(),S=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(f&&y%200===0){var k=new Date().getTime()-A;if(k>h)break}if(x=a[y],x instanceof L.LayerGroup){_&&(a=a.slice(),_=!1),this._extractNonGroupLayers(x,a),m=a.length;continue}if(!x.getLatLng){l.addLayer(x),s||this.fire("layeradd",{layer:x});continue}if(!this.hasLayer(x)&&(this._addLayer(x,this._maxZoom),s||this.fire("layeradd",{layer:x}),x.__parent&&x.__parent.getChildCount()===2)){var M=x.__parent.getAllChildMarkers(),I=M[0]===x?M[1]:M[0];o.removeLayer(I)}}p&&p(y,m,new Date().getTime()-E),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(S,this.options.chunkDelay)},this);S()}else for(var b=this._needsClustering;y<m;y++){if(x=a[y],x instanceof L.LayerGroup){_&&(a=a.slice(),_=!1),this._extractNonGroupLayers(x,a),m=a.length;continue}if(!x.getLatLng){l.addLayer(x);continue}this.hasLayer(x)||b.push(x)}return this},removeLayers:function(a){var s,o,l=a.length,f=this._featureGroup,h=this._nonPointGroup,p=!0;if(!this._map){for(s=0;s<l;s++){if(o=a[s],o instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}this._arraySplice(this._needsClustering,o),h.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=l;for(s=0;s<y;s++){if(o=m[s],o instanceof L.LayerGroup){this._extractNonGroupLayers(o,m),y=m.length;continue}this._unspiderfyLayer(o)}}for(s=0;s<l;s++){if(o=a[s],o instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}if(!o.__parent){h.removeLayer(o),this.fire("layerremove",{layer:o});continue}this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),f.hasLayer(o)&&(f.removeLayer(o),o.clusterShow&&o.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)a.extend(this._needsClustering[s].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,s){var o=this._needsClustering.slice(),l=this._needsRemoving,f,h,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),h=o.length-1;h>=0;h--){for(f=!0,p=l.length-1;p>=0;p--)if(l[p].layer===o[h]){f=!1;break}f&&a.call(s,o[h])}this._nonPointGroup.eachLayer(a,s)},getLayers:function(){var a=[];return this.eachLayer(function(s){a.push(s)}),a},getLayer:function(a){var s=null;return a=parseInt(a,10),this.eachLayer(function(o){L.stamp(o)===a&&(s=o)}),s},hasLayer:function(a){if(!a)return!1;var s,o=this._needsClustering;for(s=o.length-1;s>=0;s--)if(o[s]===a)return!0;for(o=this._needsRemoving,s=o.length-1;s>=0;s--)if(o[s].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,s){var o=this._map;typeof s!="function"&&(s=function(){});var l=function(){(o.hasLayer(a)||o.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),o.hasLayer(a)?s():a.__parent._icon&&(this.once("spiderfied",s,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?s():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var s,o,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,s=0,o=this._needsRemoving.length;s<o;s++)l=this._needsRemoving[s],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(s=0,o=this._needsRemoving.length;s<o;s++)l=this._needsRemoving[s],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),o=this._needsClustering,this._needsClustering=[],this.addLayers(o,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var s=a;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(a,s){for(var o=a.length-1;o>=0;o--)if(a[o]===s)return a.splice(o,1),!0},_removeFromGridUnclustered:function(a,s){for(var o=this._map,l=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());s>=f&&l[s].removeObject(a,o.project(a.getLatLng(),s));s--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var s=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),s&&a.target.openPopup()}},_moveChild:function(a,s,o){a._latlng=s,this.removeLayer(a),a._latlng=o,this.addLayer(a)},_childMarkerDragEnd:function(a){var s=a.target.__dragStart;delete a.target.__dragStart,s&&this._moveChild(a.target,s,a.target._latlng)},_removeLayer:function(a,s,o){var l=this._gridClusters,f=this._gridUnclustered,h=this._featureGroup,p=this._map,m=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,_=y._markers,x;for(this._arraySplice(_,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)s&&y._childCount<=1?(x=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,p.project(y._cLatLng,y._zoom)),f[y._zoom].addObject(x,p.project(x.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(x),x.__parent=y.__parent,y._icon&&(h.removeLayer(y),o||h.addLayer(x))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,s){for(;s;){if(a===s)return!0;s=s.parentNode}return!1},fire:function(a,s,o){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,s,o)},listens:function(a,s){return L.FeatureGroup.prototype.listens.call(this,a,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,s)},_defaultIconCreateFunction:function(a){var s=a.getChildCount(),o=" marker-cluster-";return s<10?o+="small":s<100?o+="medium":o+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+o,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,s=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(s||l||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var s=a.layer,o=s;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;o._childClusters.length===1;)o=o._childClusters[0];o._zoom===this._maxZoom&&o._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,f=this._map;(a||o||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,l=o;typeof o!="function"&&(l=function(){return o}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var f=a;f>=s;f--)this._gridClusters[f]=new L.DistanceGrid(l(f)),this._gridUnclustered[f]=new L.DistanceGrid(l(f));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(a,s){var o=this._gridClusters,l=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),h,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);s>=f;s--){h=this._map.project(a.getLatLng(),s);var m=o[s].getNearObject(h);if(m){m._addChild(a),a.__parent=m;return}if(m=l[s].getNearObject(h),m){var y=m.__parent;y&&this._removeLayer(m,!1);var _=new this._markerCluster(this,s,m,a);o[s].addObject(_,this._map.project(_._cLatLng,s)),m.__parent=_,a.__parent=_;var x=_;for(p=s-1;p>y._zoom;p--)x=new this._markerCluster(this,p,x),o[p].addObject(x,this._map.project(m.getLatLng(),p));y._addChild(x),this._removeFromGridUnclustered(m,s);return}l[s].addObject(a,h)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var s=this._maxLat;return s!==void 0&&(a.getNorth()>=s&&(a._northEast.lat=1/0),a.getSouth()<=-s&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,s){if(s===a)this._featureGroup.addLayer(a);else if(s._childCount===2){s._addToMap();var o=s.getAllChildMarkers();this._featureGroup.removeLayer(o[0]),this._featureGroup.removeLayer(o[1])}else s._updateIcon()},_extractNonGroupLayers:function(a,s){var o=a.getLayers(),l=0,f;for(s=s||[];l<o.length;l++){if(f=o[l],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,s);continue}s.push(f)}return s},_overrideMarkerIcon:function(a){var s=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,s){this._animationAddLayerNonAnimated(a,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,s){var o=this._getExpandedVisibleBounds(),l=this._featureGroup,f=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(o,a,f,function(p){var m=p._latlng,y=p._markers,_;for(o.contains(m)||(m=null),p._isSingleParent()&&a+1===s?(l.removeLayer(p),p._recursivelyAddChildrenToMap(null,s,o)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,s,o)),h=y.length-1;h>=0;h--)_=y[h],o.contains(_._latlng)||l.removeLayer(_)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(o,s),l.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(o,a,s,function(p){p._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(o,a,f,function(p){l.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,s){this._animationZoomOutSingle(this._topClusterLevel,a-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,s){var o=this,l=this._featureGroup;l.addLayer(a),s!==a&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(s.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),o._animationEnd()})):(this._forceLayout(),o._animationStart(),o._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,s,o){var l=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,f,s+1,o);var h=this;this._forceLayout(),a._recursivelyBecomeVisible(l,o),this._enqueue(function(){if(a._childCount===1){var p=a._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else a._recursively(l,o,f,function(m){m._recursivelyRemoveChildrenFromMap(l,f,s+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,s,o,l){L.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,o&&this._addChild(o),l&&this._addChild(l)},getAllChildMarkers:function(a,s){a=a||[];for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o].getAllChildMarkers(a,s);for(var l=this._markers.length-1;l>=0;l--)s&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var s=this._childClusters.slice(),o=this._group._map,l=o.getBoundsZoom(this._bounds),f=this._zoom+1,h=o.getZoom(),p;s.length>0&&l>f;){f++;var m=[];for(p=0;p<s.length;p++)m=m.concat(s[p]._childClusters);s=m}l>f?this._group._map.setView(this._latlng,f):l<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(s||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(s||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,s=this._childClusters,o=0,l=0,f=this._childCount,h,p,m,y;if(f!==0){for(this._resetBounds(),h=0;h<a.length;h++)m=a[h]._latlng,this._bounds.extend(m),o+=m.lat,l+=m.lng;for(h=0;h<s.length;h++)p=s[h],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),m=p._wLatLng,y=p._childCount,o+=m.lat*y,l+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(o/f,l/f),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,s,o){this._recursively(a,this._group._map.getMinZoom(),o-1,function(l){var f=l._markers,h,p;for(h=f.length-1;h>=0;h--)p=f[h],p._icon&&(p._setPos(s),p.clusterHide())},function(l){var f=l._childClusters,h,p;for(h=f.length-1;h>=0;h--)p=f[h],p._icon&&(p._setPos(s),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,s,o,l){this._recursively(a,l,s,function(f){f._recursivelyAnimateChildrenIn(a,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),o),f._isSingleParent()&&o-1===l?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(a,s,o)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(a,s){this._recursively(a,this._group._map.getMinZoom(),s,null,function(o){o.clusterShow()})},_recursivelyAddChildrenToMap:function(a,s,o){this._recursively(o,this._group._map.getMinZoom()-1,s,function(l){if(s!==l._zoom)for(var f=l._markers.length-1;f>=0;f--){var h=l._markers[f];o.contains(h._latlng)&&(a&&(h._backupLatlng=h.getLatLng(),h.setLatLng(a),h.clusterHide&&h.clusterHide()),l._group._featureGroup.addLayer(h))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var s=this._markers.length-1;s>=0;s--){var o=this._markers[s];o._backupLatlng&&(o.setLatLng(o._backupLatlng),delete o._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,s,o,l){var f,h;this._recursively(a,s-1,o-1,function(p){for(h=p._markers.length-1;h>=0;h--)f=p._markers[h],(!l||!l.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(p){for(h=p._childClusters.length-1;h>=0;h--)f=p._childClusters[h],(!l||!l.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(a,s,o,l,f){var h=this._childClusters,p=this._zoom,m,y;if(s<=p&&(l&&l(this),f&&p===o&&f(this)),p<s||p<o)for(m=h.length-1;m>=0;m--)y=h[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,s,o,l,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,s){var o=this._getCoord(s.x),l=this._getCoord(s.y),f=this._grid,h=f[l]=f[l]||{},p=h[o]=h[o]||[],m=L.Util.stamp(a);this._objectPoint[m]=s,p.push(a)},updateObject:function(a,s){this.removeObject(a),this.addObject(a,s)},removeObject:function(a,s){var o=this._getCoord(s.x),l=this._getCoord(s.y),f=this._grid,h=f[l]=f[l]||{},p=h[o]=h[o]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=p.length;m<y;m++)if(p[m]===a)return p.splice(m,1),y===1&&delete h[o],!0},eachObject:function(a,s){var o,l,f,h,p,m,y,_=this._grid;for(o in _){p=_[o];for(l in p)for(m=p[l],f=0,h=m.length;f<h;f++)y=a.call(s,m[f]),y&&(f--,h--)}},getNearObject:function(a){var s=this._getCoord(a.x),o=this._getCoord(a.y),l,f,h,p,m,y,_,x,E=this._objectPoint,S=this._sqCellSize,b=null;for(l=o-1;l<=o+1;l++)if(p=this._grid[l],p){for(f=s-1;f<=s+1;f++)if(m=p[f],m)for(h=0,y=m.length;h<y;h++)_=m[h],x=this._sqDist(E[L.Util.stamp(_)],a),(x<S||x<=S&&b===null)&&(S=x,b=_)}return b},_getCoord:function(a){var s=Math.floor(a/this._cellSize);return isFinite(s)?s:a},_sqDist:function(a,s){var o=s.x-a.x,l=s.y-a.y;return o*o+l*l}},function(){L.QuickHull={getDistant:function(a,s){var o=s[1].lat-s[0].lat,l=s[0].lng-s[1].lng;return l*(a.lat-s[0].lat)+o*(a.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(a,s){var o=0,l=null,f=[],h,p,m;for(h=s.length-1;h>=0;h--){if(p=s[h],m=this.getDistant(p,a),m>0)f.push(p);else continue;m>o&&(o=m,l=p)}return{maxPoint:l,newPoints:f}},buildConvexHull:function(a,s){var o=[],l=this.findMostDistantPointFromBaseLine(a,s);return l.maxPoint?(o=o.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),o=o.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),o):[a[0]]},getConvexHull:function(a){var s=!1,o=!1,l=!1,f=!1,h=null,p=null,m=null,y=null,_=null,x=null,E;for(E=a.length-1;E>=0;E--){var S=a[E];(s===!1||S.lat>s)&&(h=S,s=S.lat),(o===!1||S.lat<o)&&(p=S,o=S.lat),(l===!1||S.lng>l)&&(m=S,l=S.lng),(f===!1||S.lng<f)&&(y=S,f=S.lng)}o!==s?(x=p,_=h):(x=y,_=m);var b=[].concat(this.buildConvexHull([x,_],a),this.buildConvexHull([_,x],a));return b}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),s=[],o,l;for(l=a.length-1;l>=0;l--)o=a[l].getLatLng(),s.push(o);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),s=this._group,o=s._map,l=o.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(a.length,l):(l.y+=10,f=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,f)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,s){var o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=o/this._2PI,f=this._2PI/a,h=[],p,m;for(l=Math.max(l,35),h.length=a,p=0;p<a;p++)m=this._circleStartAngle+p*f,h[p]=new L.Point(s.x+l*Math.cos(m),s.y+l*Math.sin(m))._round();return h},_generatePointsSpiral:function(a,s){var o=this._group.options.spiderfyDistanceMultiplier,l=o*this._spiralLengthStart,f=o*this._spiralFootSeparation,h=o*this._spiralLengthFactor*this._2PI,p=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(s.x+l*Math.cos(p),s.y+l*Math.sin(p))._round()),p+=f/l+y*5e-4,l+=h/p;return m},_noanimationUnspiderfy:function(){var a=this._group,s=a._map,o=a._featureGroup,l=this.getAllChildMarkers(null,!0),f,h;for(a._ignoreMove=!0,this.setOpacity(1),h=l.length-1;h>=0;h--)f=l[h],o.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(s.removeLayer(f._spiderLeg),delete f._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,s){var o=this._group,l=o._map,f=o._featureGroup,h=this._group.options.spiderLegPolylineOptions,p,m,y,_;for(o._ignoreMove=!0,p=0;p<a.length;p++)_=l.layerPointToLatLng(s[p]),m=a[p],y=new L.Polyline([this._latlng,_],h),l.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(_),m.setZIndexOffset&&m.setZIndexOffset(1e6),f.addLayer(m);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,s){var o=this,l=this._group,f=l._map,h=l._featureGroup,p=this._latlng,m=f.latLngToLayerPoint(p),y=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),x=_.opacity,E,S,b,A,k,M;for(x===void 0&&(x=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=x,l._ignoreMove=!0,E=0;E<a.length;E++)S=a[E],M=f.layerPointToLatLng(s[E]),b=new L.Polyline([p,M],_),f.addLayer(b),S._spiderLeg=b,y&&(A=b._path,k=A.getTotalLength()+.1,A.style.strokeDasharray=k,A.style.strokeDashoffset=k),S.setZIndexOffset&&S.setZIndexOffset(1e6),S.clusterHide&&S.clusterHide(),h.addLayer(S),S._setPos&&S._setPos(m);for(l._forceLayout(),l._animationStart(),E=a.length-1;E>=0;E--)M=f.layerPointToLatLng(s[E]),S=a[E],S._preSpiderfyLatlng=S._latlng,S.setLatLng(M),S.clusterShow&&S.clusterShow(),y&&(b=S._spiderLeg,A=b._path,A.style.strokeDashoffset=0,b.setStyle({opacity:x}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:o,markers:a})},200)},_animationUnspiderfy:function(a){var s=this,o=this._group,l=o._map,f=o._featureGroup,h=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,_,x,E,S,b;for(o._ignoreMove=!0,o._animationStart(),this.setOpacity(1),_=p.length-1;_>=0;_--)y=p[_],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,b=!0,y._setPos&&(y._setPos(h),b=!1),y.clusterHide&&(y.clusterHide(),b=!1),b&&f.removeLayer(y),m&&(x=y._spiderLeg,E=x._path,S=E.getTotalLength()+.1,E.style.strokeDashoffset=S,x.setStyle({opacity:0})));o._ignoreMove=!1,setTimeout(function(){var A=0;for(_=p.length-1;_>=0;_--)y=p[_],y._spiderLeg&&A++;for(_=p.length-1;_>=0;_--)y=p[_],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&f.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);o._animationEnd(),o.fire("unspiderfied",{cluster:s,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var s,o;for(s in a)for(o=a[s].__parent;o;)o._iconNeedsUpdate=!0,o=o.__parent},_refreshSingleMarkerModeMarkers:function(a){var s,o;for(s in a)o=a[s],this.hasLayer(o)&&o.setIcon(this._overrideMarkerIcon(o))}}),L.Marker.include({refreshIconOptions:function(a,s){var o=this.options.icon;return L.setOptions(o,a),this.setIcon(o),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(pg,pg.exports)),pg.exports}UTe();function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}var BTe=["children"];function P$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(n),!0).forEach(function(r){qTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qTe(t,e,n){return(e=HTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HTe(t){var e=zTe(t,"string");return Wg(e)=="symbol"?e:e+""}function zTe(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L$(t,e){return WTe(t)||GTe(t,e)||KTe(t,e)||VTe()}function VTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KTe(t,e){if(t){if(typeof t=="string")return M$(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M$(t,e):void 0}}function M$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function GTe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,f=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){f=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return o}}function WTe(t){if(Array.isArray(t))return t}function QTe(t,e){if(t==null)return{};var n,r,i=ZTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ZTe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}OA.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(e){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(e)}});OA.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function JTe(t,e){t.children;var n=QTe(t,BTe),r={},i={};Object.entries(n).forEach(function(s){var o=L$(s,2),l=o[0],f=o[1];return l.startsWith("on")?i[l]=f:r[l]=f});var a=new OA.MarkerClusterGroup(r);return Object.entries(i).forEach(function(s){var o=L$(s,2),l=o[0],f=o[1],h="cluster".concat(l.substring(2).toLowerCase());a.on(h,f)}),{instance:a,context:I$(I$({},e),{},{layerContainer:a})}}var YTe=kEe(JTe);const XTe=({accommodationId:t})=>{var f;const{communityId:e}=Vn(),{quads:n,variables:r,isLoading:i}=wa(ae.useMemo(()=>({query:ohe,variables:{offer:[t]},fetch:yr}),[t])),[a,,,,s]=Ms(((f=r.person)==null?void 0:f[0])??"",e),o=ae.useMemo(()=>Zn.createLdoDataset(n).usingType(H0).fromSubject(t),[t,n]),l=ae.useMemo(()=>{var y,_,x;if(!o)return;const h=(y=o==null?void 0:o.location)==null?void 0:y.lat,p=(_=o==null?void 0:o.location)==null?void 0:_.long;return{id:o["@id"]??"",description:((x=o.description)==null?void 0:x[0])??"",location:{lat:h,long:p},offeredBy:a??s??{}}},[s,o,a]);return ae.useMemo(()=>[l,{isLoading:i}],[l,i])},eCe="_container_5yist_1",tCe="_person_5yist_6",nCe="_name_5yist_11",rCe="_accommodation_5yist_14",u_={container:eCe,person:tCe,name:nCe,accommodation:rCe},iCe=({accommodationId:t})=>{const{webId:e}=Ui(),[n]=XTe({accommodationId:t}),r=e&&(n==null?void 0:n.offeredBy)&&e!==n.offeredBy.id;return ge.jsxs("div",{className:u_.container,children:[n?ge.jsxs(ge.Fragment,{children:[ge.jsx("div",{className:u_.person,children:ge.jsxs(Cs,{to:`/profile/${encodeURIComponent(n.offeredBy.id)}`,style:{display:"contents"},children:[ge.jsx(A0,{...n.offeredBy,size:1.5,square:!0}),ge.jsx("span",{className:u_.name,"data-cy":"accommodation-info-name",children:n.offeredBy.name})]})}),ge.jsx("div",{className:u_.accommodation,"data-cy":"accommodation-info-description",children:n.description})]}):"loading...",r?ge.jsx(Fc,{primary:!0,to:`/messages/${encodeURIComponent(n.offeredBy.id)}`,children:"Write a message"}):null]})},aCe="_container_1w304_1",sCe="_offerOverlay_1w304_18",oCe="_closeButton_1w304_28",uCe="_mapContainer_1w304_34",l_={container:aCe,offerOverlay:sCe,closeButton:oCe,mapContainer:uCe},lCe=()=>{const{communityId:t,tileServer:e}=Vn(),[n,r]=wK(),i=n.get("hosting"),[a,s]=ae.useState(),[o,l]=jTe(t,a),f=p=>{r({hosting:p})},h=ae.useCallback((p,m)=>s(y=>LB(y,m)?y:m),[]);return ge.jsxs(ge.Fragment,{children:[l&&ge.jsx(NTe,{}),ge.jsxs("div",{className:l_.container,children:[i&&ge.jsxs("div",{className:l_.offerOverlay,children:[ge.jsx("button",{onClick:()=>{r({})},className:l_.closeButton,"aria-label":"Close hosting preview",children:ge.jsx(uB,{})}),ge.jsx(iCe,{accommodationId:i})]}),ge.jsxs(YR,{className:l_.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[ge.jsx(eO,{url:e}),ge.jsx(b9,{strings:{title:"My location"},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),ge.jsx(YTe,{maxClusterRadius:20,children:o?o.map(p=>{var m,y;return ge.jsx(XR,{position:[p.location.lat,p.location.long],eventHandlers:{click:()=>{f(p.id)}},icon:p.id===i?oW:uW("geohash-"+Gg.encode(p.location.lat,p.location.long,10)),alt:`Accommodation offer from ${((m=p.offeredBy)==null?void 0:m.name)||((y=p.offeredBy)==null?void 0:y.id)}`},p.id)}):null}),ge.jsx(S9,{onUpdate:h})]})]})]})},cCe=({webId:t,className:e})=>{const{communityId:n}=Vn(),[r]=Ms(t,n);return ge.jsx(A0,{photo:r.photo,square:!0,size:1.25,className:e})},fCe="_threadList_1f8i9_1",dCe="_thread_1f8i9_1",hCe="_unread_1f8i9_14",pCe="_content_1f8i9_14",gCe="_avatar_1f8i9_17",Jf={threadList:fCe,thread:dCe,unread:hCe,content:pCe,avatar:gCe},mCe=()=>{const t=Ui(),{data:e}=cpe(t.webId??"");return e?ge.jsxs("div",{children:[ge.jsx("h1",{children:"Conversations"}),ge.jsx("ul",{className:Jf.threadList,children:e.map(n=>{const r=n.participants.find(i=>i!==t.webId);return ge.jsx("li",{"data-cy":"thread-list-item",children:ge.jsx(Cs,{to:`/messages/${encodeURIComponent(r??"")}`,children:ge.jsx(yCe,{thread:n})})},n.id)})})]}):ge.jsx(ba,{children:"Loading..."})},yCe=({thread:t})=>{const{communityId:e}=Vn(),n=Ui(),r=t.participants.find(s=>s!==n.webId),[i]=Ms(r??"",e),a=t.messages[t.messages.length-1];return ge.jsxs("div",{className:mi(Jf.thread,t.status&&Jf.unread),"data-cy":t.status&&"thread-unread",children:[ge.jsx(cCe,{webId:r??"",className:Jf.avatar}),ge.jsxs("div",{children:[ge.jsx("div",{className:Jf.name,title:i.id,children:i.name}),ge.jsx("div",{className:Jf.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},vCe=()=>ge.jsx(u9,{tabs:[],children:ge.jsx(p0,{})}),_Ce=()=>ge.jsx(wA,{to:"search",replace:!0}),wCe=pK([{path:"/",element:ge.jsx(xge,{}),children:[{path:"/",element:ge.jsx(Cwe,{}),children:[{index:!0,element:ge.jsx(qxe,{})},{path:"profile",children:[{index:!0,element:ge.jsx(LTe,{})},{path:"edit",element:ge.jsx(jxe,{})},{path:":id",element:ge.jsx(ITe,{})},{path:":id/contacts",element:ge.jsx(Uwe,{})}]},{path:"messages",children:[{index:!0,element:ge.jsx(mCe,{})},{path:":id",element:ge.jsx(wEe,{})}]},{path:"host",element:ge.jsx(zxe,{}),children:[{index:!0,element:ge.jsx(Vxe,{})},{path:"offers",element:ge.jsx(xTe,{})},{path:"invite",element:ge.jsx(Kxe,{})},{path:"guests",element:ge.jsx(bEe,{})}]},{path:"travel",element:ge.jsx(vCe,{}),children:[{index:!0,element:ge.jsx(_Ce,{})},{path:"search",element:ge.jsx(lCe,{})},{path:"plans",element:ge.jsx(ETe,{})},{path:"hosts",element:ge.jsx(SEe,{})}]}]},{path:"about",element:ge.jsx(D_e,{})},{path:"*",element:ge.jsx(TTe,{})}]}]),bCe=new c7({defaultOptions:{queries:{retry:1}}}),SCe=C7.createRoot(document.getElementById("root"));SCe.render(ge.jsx(Gt.StrictMode,{children:ge.jsx(B7,{store:YU,children:ge.jsx(LU,{loading:null,persistor:WG,children:ge.jsx(y7,{client:bCe,children:ge.jsx(aK,{router:wCe})})})})}));
