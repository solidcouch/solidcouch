var pQ=Object.defineProperty;var _D=e=>{throw TypeError(e)};var gQ=(e,t,n)=>t in e?pQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var TS=(e,t,n)=>gQ(e,typeof t!="symbol"?t+"":t,n),AS=(e,t,n)=>t.has(e)||_D("Cannot "+n);var Qe=(e,t,n)=>(AS(e,t,"read from private field"),n?n.call(e):t.get(e)),Yt=(e,t,n)=>t.has(e)?_D("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),kt=(e,t,n,r)=>(AS(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cn=(e,t,n)=>(AS(e,t,"access private method"),n);var Uv=(e,t,n,r)=>({set _(i){kt(e,t,i,n)},get _(){return Qe(e,t,r)}});function mQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dB(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var RS={exports:{}},Yp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD;function yQ(){if(wD)return Yp;wD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Yp.Fragment=t,Yp.jsx=n,Yp.jsxs=n,Yp}var bD;function vQ(){return bD||(bD=1,RS.exports=yQ()),RS.exports}var B=vQ(),Df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Sf=typeof window>"u"||"Deno"in globalThis;function vo(){}function _Q(e,t){return typeof e=="function"?e(t):e}function UA(e){return typeof e=="number"&&e>=0&&e!==1/0}function hB(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gd(e,t){return typeof e=="function"?e(t):e}function $o(e,t){return typeof e=="function"?e(t):e}function SD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==dP(o,t.options))return!1}else if(!Lm(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function xD(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(xf(t.options.mutationKey)!==xf(a))return!1}else if(!Lm(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function dP(e,t){return((t==null?void 0:t.queryKeyHashFn)||xf)(e)}function xf(e){return JSON.stringify(e,(t,n)=>BA(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Lm(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Lm(e[n],t[n])):!1}function hP(e,t){if(e===t)return e;const n=ED(e)&&ED(t);if(n||BA(e)&&BA(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,l++):(s[d]=hP(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&l++)}return i===o&&l===i?e:s}return t}function z0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function ED(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function BA(e){if(!CD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!CD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function CD(e){return Object.prototype.toString.call(e)==="[object Object]"}function wQ(e){return new Promise(t=>{setTimeout(t,e)})}function qA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?hP(e,t):t}function bQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function SQ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var pB=Symbol();function gB(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===pB?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var cf,Ml,oh,eB,xQ=(eB=class extends Df{constructor(){super();Yt(this,cf);Yt(this,Ml);Yt(this,oh);kt(this,oh,t=>{if(!Sf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,Ml)||this.setEventListener(Qe(this,oh))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,Ml))==null||t.call(this),kt(this,Ml,void 0))}setEventListener(t){var n;kt(this,oh,t),(n=Qe(this,Ml))==null||n.call(this),kt(this,Ml,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Qe(this,cf)!==t&&(kt(this,cf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Qe(this,cf)=="boolean"?Qe(this,cf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},cf=new WeakMap,Ml=new WeakMap,oh=new WeakMap,eB),pP=new xQ,sh,Dl,uh,tB,EQ=(tB=class extends Df{constructor(){super();Yt(this,sh,!0);Yt(this,Dl);Yt(this,uh);kt(this,uh,t=>{if(!Sf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,Dl)||this.setEventListener(Qe(this,uh))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,Dl))==null||t.call(this),kt(this,Dl,void 0))}setEventListener(t){var n;kt(this,uh,t),(n=Qe(this,Dl))==null||n.call(this),kt(this,Dl,t(this.setOnline.bind(this)))}setOnline(t){Qe(this,sh)!==t&&(kt(this,sh,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Qe(this,sh)}},sh=new WeakMap,Dl=new WeakMap,uh=new WeakMap,tB),H0=new EQ;function zA(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function CQ(e){return Math.min(1e3*2**e,3e4)}function mB(e){return(e??"online")==="online"?H0.isOnline():!0}var yB=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function PS(e){return e instanceof yB}function vB(e){let t=!1,n=0,r=!1,i;const a=zA(),o=_=>{var S;r||(g(new yB(_)),(S=e.abort)==null||S.call(e))},s=()=>{t=!0},l=()=>{t=!1},c=()=>pP.isFocused()&&(e.networkMode==="always"||H0.isOnline())&&e.canRun(),d=()=>mB(e.networkMode)&&e.canRun(),h=_=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,_),i==null||i(),a.resolve(_))},g=_=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,_),i==null||i(),a.reject(_))},y=()=>new Promise(_=>{var S;i=b=>{(r||c())&&_(b)},(S=e.onPause)==null||S.call(e)}).then(()=>{var _;i=void 0,r||(_=e.onContinue)==null||_.call(e)}),v=()=>{if(r)return;let _;const S=n===0?e.initialPromise:void 0;try{_=S??e.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(h).catch(b=>{var D;if(r)return;const x=e.retry??(Sf?0:3),A=e.retryDelay??CQ,P=typeof A=="function"?A(n,b):A,O=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!O){g(b);return}n++,(D=e.onFail)==null||D.call(e,n,b),wQ(P).then(()=>c()?void 0:y()).then(()=>{t?g(b):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():y().then(v),a)}}function TQ(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Hr=TQ(),ff,nB,_B=(nB=class{constructor(){Yt(this,ff)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),UA(this.gcTime)&&kt(this,ff,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Sf?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,ff)&&(clearTimeout(Qe(this,ff)),kt(this,ff,void 0))}},ff=new WeakMap,nB),lh,ch,yo,Ki,ry,df,Fo,vu,rB,AQ=(rB=class extends _B{constructor(t){super();Yt(this,Fo);Yt(this,lh);Yt(this,ch);Yt(this,yo);Yt(this,Ki);Yt(this,ry);Yt(this,df);kt(this,df,!1),kt(this,ry,t.defaultOptions),this.setOptions(t.options),this.observers=[],kt(this,yo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kt(this,lh,RQ(this.options)),this.state=t.state??Qe(this,lh),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Qe(this,Ki))==null?void 0:t.promise}setOptions(t){this.options={...Qe(this,ry),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,yo).remove(this)}setData(t,n){const r=qA(this.state.data,t,this.options);return cn(this,Fo,vu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){cn(this,Fo,vu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Qe(this,Ki))==null?void 0:r.promise;return(i=Qe(this,Ki))==null||i.cancel(t),n?n.then(vo).catch(vo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,lh))}isActive(){return this.observers.some(t=>$o(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!hB(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Ki))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Ki))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Qe(this,yo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Qe(this,Ki)&&(Qe(this,df)?Qe(this,Ki).cancel({revert:!0}):Qe(this,Ki).cancelRetry()),this.scheduleGc()),Qe(this,yo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,Fo,vu).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Ki))return Qe(this,Ki).continueRetry(),Qe(this,Ki).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(kt(this,df,!0),r.signal)})},a=()=>{const h=gB(this.options,n),g={queryKey:this.queryKey,meta:this.meta};return i(g),kt(this,df,!1),this.options.persister?this.options.persister(h,g,this):h(g)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),kt(this,ch,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&cn(this,Fo,vu).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const s=h=>{var g,y,v,_;PS(h)&&h.silent||cn(this,Fo,vu).call(this,{type:"error",error:h}),PS(h)||((y=(g=Qe(this,yo).config).onError)==null||y.call(g,h,this),(_=(v=Qe(this,yo).config).onSettled)==null||_.call(v,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return kt(this,Ki,vB({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var g,y,v,_;if(h===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){s(S);return}(y=(g=Qe(this,yo).config).onSuccess)==null||y.call(g,h,this),(_=(v=Qe(this,yo).config).onSettled)==null||_.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(h,g)=>{cn(this,Fo,vu).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{cn(this,Fo,vu).call(this,{type:"pause"})},onContinue:()=>{cn(this,Fo,vu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Qe(this,Ki).start()}},lh=new WeakMap,ch=new WeakMap,yo=new WeakMap,Ki=new WeakMap,ry=new WeakMap,df=new WeakMap,Fo=new WeakSet,vu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...wB(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return PS(i)&&i.revert&&Qe(this,ch)?{...Qe(this,ch),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Hr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,yo).notify({query:this,type:"updated",action:t})})},rB);function wB(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mB(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function RQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var gs,iB,PQ=(iB=class extends Df{constructor(t={}){super();Yt(this,gs);this.config=t,kt(this,gs,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??dP(i,n);let o=this.get(a);return o||(o=new AQ({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Qe(this,gs).has(t.queryHash)||(Qe(this,gs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Qe(this,gs).get(t.queryHash);n&&(t.destroy(),n===t&&Qe(this,gs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Qe(this,gs).get(t)}getAll(){return[...Qe(this,gs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>SD(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>SD(t,r)):n}notify(t){Hr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Hr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},gs=new WeakMap,iB),ms,la,hf,ys,xl,aB,OQ=(aB=class extends _B{constructor(t){super();Yt(this,ys);Yt(this,ms);Yt(this,la);Yt(this,hf);this.mutationId=t.mutationId,kt(this,la,t.mutationCache),kt(this,ms,[]),this.state=t.state||bB(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Qe(this,ms).includes(t)||(Qe(this,ms).push(t),this.clearGcTimeout(),Qe(this,la).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kt(this,ms,Qe(this,ms).filter(n=>n!==t)),this.scheduleGc(),Qe(this,la).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Qe(this,ms).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,la).remove(this))}continue(){var t;return((t=Qe(this,hf))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,s,l,c,d,h,g,y,v,_,S,b,x,A,P,O,D,F;kt(this,hf,vB({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,X)=>{cn(this,ys,xl).call(this,{type:"failed",failureCount:Q,error:X})},onPause:()=>{cn(this,ys,xl).call(this,{type:"pause"})},onContinue:()=>{cn(this,ys,xl).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,la).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,hf).canStart();try{if(!n){cn(this,ys,xl).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=Qe(this,la).config).onMutate)==null?void 0:a.call(i,t,this));const X=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,t));X!==this.state.context&&cn(this,ys,xl).call(this,{type:"pending",context:X,variables:t,isPaused:r})}const Q=await Qe(this,hf).start();return await((c=(l=Qe(this,la).config).onSuccess)==null?void 0:c.call(l,Q,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,Q,t,this.state.context)),await((y=(g=Qe(this,la).config).onSettled)==null?void 0:y.call(g,Q,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,Q,null,t,this.state.context)),cn(this,ys,xl).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((b=(S=Qe(this,la).config).onError)==null?void 0:b.call(S,Q,t,this.state.context,this)),await((A=(x=this.options).onError)==null?void 0:A.call(x,Q,t,this.state.context)),await((O=(P=Qe(this,la).config).onSettled)==null?void 0:O.call(P,void 0,Q,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,Q,t,this.state.context)),Q}finally{cn(this,ys,xl).call(this,{type:"error",error:Q})}}finally{Qe(this,la).runNext(this)}}},ms=new WeakMap,la=new WeakMap,hf=new WeakMap,ys=new WeakSet,xl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Hr.batch(()=>{Qe(this,ms).forEach(r=>{r.onMutationUpdate(t)}),Qe(this,la).notify({mutation:this,type:"updated",action:t})})},aB);function bB(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ha,iy,oB,LQ=(oB=class extends Df{constructor(t={}){super();Yt(this,Ha);Yt(this,iy);this.config=t,kt(this,Ha,new Map),kt(this,iy,Date.now())}build(t,n,r){const i=new OQ({mutationCache:this,mutationId:++Uv(this,iy)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Bv(t),r=Qe(this,Ha).get(n)??[];r.push(t),Qe(this,Ha).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Bv(t);if(Qe(this,Ha).has(n)){const i=(r=Qe(this,Ha).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?Qe(this,Ha).delete(n):Qe(this,Ha).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Qe(this,Ha).get(Bv(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Qe(this,Ha).get(Bv(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Hr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Qe(this,Ha).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xD(n,r))}findAll(t={}){return this.getAll().filter(n=>xD(t,n))}notify(t){Hr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Hr.batch(()=>Promise.all(t.map(n=>n.continue().catch(vo))))}},Ha=new WeakMap,iy=new WeakMap,oB);function Bv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function TD(e){return{onFetch:(t,n)=>{var d,h,g,y,v;const r=t.options,i=(g=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:g.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const S=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},b=gB(t.options,t.fetchOptions),x=async(A,P,O)=>{if(_)return Promise.reject();if(P==null&&A.pages.length)return Promise.resolve(A);const D={queryKey:t.queryKey,pageParam:P,direction:O?"backward":"forward",meta:t.options.meta};S(D);const F=await b(D),{maxPages:Q}=t.options,X=O?SQ:bQ;return{pages:X(A.pages,F,Q),pageParams:X(A.pageParams,P,Q)}};if(i&&a.length){const A=i==="backward",P=A?IQ:AD,O={pages:a,pageParams:o},D=P(r,O);s=await x(O,D,A)}else{const A=e??a.length;do{const P=l===0?o[0]??r.initialPageParam:AD(r,s);if(l>0&&P==null)break;s=await x(s,P),l++}while(l<A)}return s};t.options.persister?t.fetchFn=()=>{var _,S;return(S=(_=t.options).persister)==null?void 0:S.call(_,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function AD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function IQ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var zr,kl,Nl,fh,dh,Fl,hh,ph,sB,MQ=(sB=class{constructor(e={}){Yt(this,zr);Yt(this,kl);Yt(this,Nl);Yt(this,fh);Yt(this,dh);Yt(this,Fl);Yt(this,hh);Yt(this,ph);kt(this,zr,e.queryCache||new PQ),kt(this,kl,e.mutationCache||new LQ),kt(this,Nl,e.defaultOptions||{}),kt(this,fh,new Map),kt(this,dh,new Map),kt(this,Fl,0)}mount(){Uv(this,Fl)._++,Qe(this,Fl)===1&&(kt(this,hh,pP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,zr).onFocus())})),kt(this,ph,H0.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,zr).onOnline())})))}unmount(){var e,t;Uv(this,Fl)._--,Qe(this,Fl)===0&&((e=Qe(this,hh))==null||e.call(this),kt(this,hh,void 0),(t=Qe(this,ph))==null||t.call(this),kt(this,ph,void 0))}isFetching(e){return Qe(this,zr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Qe(this,kl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,zr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Qe(this,zr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Gd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Qe(this,zr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Qe(this,zr).get(r.queryHash),a=i==null?void 0:i.state.data,o=_Q(t,a);if(o!==void 0)return Qe(this,zr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Hr.batch(()=>Qe(this,zr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,zr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Qe(this,zr);Hr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Qe(this,zr),r={type:"active",...e};return Hr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Hr.batch(()=>Qe(this,zr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(vo).catch(vo)}invalidateQueries(e={},t={}){return Hr.batch(()=>{if(Qe(this,zr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Hr.batch(()=>Qe(this,zr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(vo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(vo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Qe(this,zr).build(this,t);return n.isStaleByTime(Gd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(vo).catch(vo)}fetchInfiniteQuery(e){return e.behavior=TD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(vo).catch(vo)}ensureInfiniteQueryData(e){return e.behavior=TD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return H0.isOnline()?Qe(this,kl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,zr)}getMutationCache(){return Qe(this,kl)}getDefaultOptions(){return Qe(this,Nl)}setDefaultOptions(e){kt(this,Nl,e)}setQueryDefaults(e,t){Qe(this,fh).set(xf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Qe(this,fh).values()];let n={};return t.forEach(r=>{Lm(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Qe(this,dh).set(xf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Qe(this,dh).values()];let n={};return t.forEach(r=>{Lm(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Qe(this,Nl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=dP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===pB&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Qe(this,Nl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Qe(this,zr).clear(),Qe(this,kl).clear()}},zr=new WeakMap,kl=new WeakMap,Nl=new WeakMap,fh=new WeakMap,dh=new WeakMap,Fl=new WeakMap,hh=new WeakMap,ph=new WeakMap,sB),Ca,jn,ay,ca,pf,gh,jl,vs,oy,mh,yh,gf,mf,$l,vh,nr,sm,HA,VA,KA,GA,WA,QA,ZA,SB,uB,gP=(uB=class extends Df{constructor(t,n){super();Yt(this,nr);Yt(this,Ca);Yt(this,jn);Yt(this,ay);Yt(this,ca);Yt(this,pf);Yt(this,gh);Yt(this,jl);Yt(this,vs);Yt(this,oy);Yt(this,mh);Yt(this,yh);Yt(this,gf);Yt(this,mf);Yt(this,$l);Yt(this,vh,new Set);this.options=n,kt(this,Ca,t),kt(this,vs,null),kt(this,jl,zA()),this.options.experimental_prefetchInRender||Qe(this,jl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,jn).addObserver(this),RD(Qe(this,jn),this.options)?cn(this,nr,sm).call(this):this.updateResult(),cn(this,nr,GA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return JA(Qe(this,jn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return JA(Qe(this,jn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,cn(this,nr,WA).call(this),cn(this,nr,QA).call(this),Qe(this,jn).removeObserver(this)}setOptions(t,n){const r=this.options,i=Qe(this,jn);if(this.options=Qe(this,Ca).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $o(this.options.enabled,Qe(this,jn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");cn(this,nr,ZA).call(this),Qe(this,jn).setOptions(this.options),r._defaulted&&!z0(this.options,r)&&Qe(this,Ca).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,jn),observer:this});const a=this.hasListeners();a&&PD(Qe(this,jn),i,this.options,r)&&cn(this,nr,sm).call(this),this.updateResult(n),a&&(Qe(this,jn)!==i||$o(this.options.enabled,Qe(this,jn))!==$o(r.enabled,Qe(this,jn))||Gd(this.options.staleTime,Qe(this,jn))!==Gd(r.staleTime,Qe(this,jn)))&&cn(this,nr,HA).call(this);const o=cn(this,nr,VA).call(this);a&&(Qe(this,jn)!==i||$o(this.options.enabled,Qe(this,jn))!==$o(r.enabled,Qe(this,jn))||o!==Qe(this,$l))&&cn(this,nr,KA).call(this,o)}getOptimisticResult(t){const n=Qe(this,Ca).getQueryCache().build(Qe(this,Ca),t),r=this.createResult(n,t);return kQ(this,r)&&(kt(this,ca,r),kt(this,gh,this.options),kt(this,pf,Qe(this,jn).state)),r}getCurrentResult(){return Qe(this,ca)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){Qe(this,vh).add(t)}getCurrentQuery(){return Qe(this,jn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Qe(this,Ca).defaultQueryOptions(t),r=Qe(this,Ca).getQueryCache().build(Qe(this,Ca),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return cn(this,nr,sm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,ca)))}createResult(t,n){var F;const r=Qe(this,jn),i=this.options,a=Qe(this,ca),o=Qe(this,pf),s=Qe(this,gh),c=t!==r?t.state:Qe(this,ay),{state:d}=t;let h={...d},g=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),X=!Q&&RD(t,n),U=Q&&PD(t,r,n,i);(X||U)&&(h={...h,...wB(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:S}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===Qe(this,oy))y=Qe(this,mh);else try{kt(this,oy,n.select),y=n.select(h.data),y=qA(a==null?void 0:a.data,y,n),kt(this,mh,y),kt(this,vs,null)}catch(Q){kt(this,vs,Q)}else y=h.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((F=Qe(this,yh))==null?void 0:F.state.data,Qe(this,yh)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),kt(this,vs,null)}catch(X){kt(this,vs,X)}Q!==void 0&&(S="success",y=qA(a==null?void 0:a.data,Q,n),g=!0)}Qe(this,vs)&&(v=Qe(this,vs),y=Qe(this,mh),_=Date.now(),S="error");const b=h.fetchStatus==="fetching",x=S==="pending",A=S==="error",P=x&&b,O=y!==void 0;return{status:S,fetchStatus:h.fetchStatus,isPending:x,isSuccess:S==="success",isError:A,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:A&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:A&&O,isStale:mP(t,n),refetch:this.refetch,promise:Qe(this,jl)}}updateResult(t){const n=Qe(this,ca),r=this.createResult(Qe(this,jn),this.options);if(kt(this,pf,Qe(this,jn).state),kt(this,gh,this.options),Qe(this,pf).data!==void 0&&kt(this,yh,Qe(this,jn)),z0(r,n))return;if(this.options.experimental_prefetchInRender){const o=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},s=()=>{const c=kt(this,jl,r.promise=zA());o(c)},l=Qe(this,jl);switch(l.status){case"pending":o(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&s();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&s();break}}kt(this,ca,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!Qe(this,vh).size)return!0;const l=new Set(s??Qe(this,vh));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,ca)).some(c=>{const d=c;return Qe(this,ca)[d]!==n[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),cn(this,nr,SB).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&cn(this,nr,GA).call(this)}},Ca=new WeakMap,jn=new WeakMap,ay=new WeakMap,ca=new WeakMap,pf=new WeakMap,gh=new WeakMap,jl=new WeakMap,vs=new WeakMap,oy=new WeakMap,mh=new WeakMap,yh=new WeakMap,gf=new WeakMap,mf=new WeakMap,$l=new WeakMap,vh=new WeakMap,nr=new WeakSet,sm=function(t){cn(this,nr,ZA).call(this);let n=Qe(this,jn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(vo)),n},HA=function(){cn(this,nr,WA).call(this);const t=Gd(this.options.staleTime,Qe(this,jn));if(Sf||Qe(this,ca).isStale||!UA(t))return;const r=hB(Qe(this,ca).dataUpdatedAt,t)+1;kt(this,gf,setTimeout(()=>{Qe(this,ca).isStale||this.updateResult()},r))},VA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,jn)):this.options.refetchInterval)??!1},KA=function(t){cn(this,nr,QA).call(this),kt(this,$l,t),!(Sf||$o(this.options.enabled,Qe(this,jn))===!1||!UA(Qe(this,$l))||Qe(this,$l)===0)&&kt(this,mf,setInterval(()=>{(this.options.refetchIntervalInBackground||pP.isFocused())&&cn(this,nr,sm).call(this)},Qe(this,$l)))},GA=function(){cn(this,nr,HA).call(this),cn(this,nr,KA).call(this,cn(this,nr,VA).call(this))},WA=function(){Qe(this,gf)&&(clearTimeout(Qe(this,gf)),kt(this,gf,void 0))},QA=function(){Qe(this,mf)&&(clearInterval(Qe(this,mf)),kt(this,mf,void 0))},ZA=function(){const t=Qe(this,Ca).getQueryCache().build(Qe(this,Ca),this.options);if(t===Qe(this,jn))return;const n=Qe(this,jn);kt(this,jn,t),kt(this,ay,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},SB=function(t){Hr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Qe(this,ca))}),Qe(this,Ca).getQueryCache().notify({query:Qe(this,jn),type:"observerResultsUpdated"})})},uB);function DQ(e,t){return $o(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function RD(e,t){return DQ(e,t)||e.state.data!==void 0&&JA(e,t,t.refetchOnMount)}function JA(e,t,n){if($o(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&mP(e,t)}return!1}function PD(e,t,n,r){return(e!==t||$o(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&mP(e,n)}function mP(e,t){return $o(t.enabled,e)!==!1&&e.isStaleByTime(Gd(t.staleTime,e))}function kQ(e,t){return!z0(e.getCurrentResult(),t)}function OD(e,t){return e.filter(n=>!t.includes(n))}function NQ(e,t,n){const r=e.slice(0);return r[t]=n,r}var yf,jo,_h,Va,vf,sy,uy,no,xB,YA,XA,eR,lB,FQ=(lB=class extends Df{constructor(t,n,r){super();Yt(this,no);Yt(this,yf);Yt(this,jo);Yt(this,_h);Yt(this,Va);Yt(this,vf);Yt(this,sy);Yt(this,uy);kt(this,yf,t),kt(this,_h,[]),kt(this,Va,[]),kt(this,jo,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,Va).forEach(t=>{t.subscribe(n=>{cn(this,no,XA).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,Va).forEach(t=>{t.destroy()})}setQueries(t,n,r){kt(this,_h,t),Hr.batch(()=>{const i=Qe(this,Va),a=cn(this,no,YA).call(this,Qe(this,_h));a.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const o=a.map(c=>c.observer),s=o.map(c=>c.getCurrentResult()),l=o.some((c,d)=>c!==i[d]);i.length===o.length&&!l||(kt(this,Va,o),kt(this,jo,s),this.hasListeners()&&(OD(i,o).forEach(c=>{c.destroy()}),OD(o,i).forEach(c=>{c.subscribe(d=>{cn(this,no,XA).call(this,c,d)})}),cn(this,no,eR).call(this)))})}getCurrentResult(){return Qe(this,jo)}getQueries(){return Qe(this,Va).map(t=>t.getCurrentQuery())}getObservers(){return Qe(this,Va)}getOptimisticResult(t,n){const r=cn(this,no,YA).call(this,t),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>cn(this,no,xB).call(this,a??i,n),()=>r.map((a,o)=>{const s=i[o];return a.defaultedQueryOptions.notifyOnChangeProps?s:a.observer.trackResult(s,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},yf=new WeakMap,jo=new WeakMap,_h=new WeakMap,Va=new WeakMap,vf=new WeakMap,sy=new WeakMap,uy=new WeakMap,no=new WeakSet,xB=function(t,n){return n?((!Qe(this,vf)||Qe(this,jo)!==Qe(this,uy)||n!==Qe(this,sy))&&(kt(this,sy,n),kt(this,uy,Qe(this,jo)),kt(this,vf,hP(Qe(this,vf),n(t)))),Qe(this,vf)):t},YA=function(t){const n=Qe(this,Va),r=new Map(n.map(h=>[h.options.queryHash,h])),i=t.map(h=>Qe(this,yf).defaultQueryOptions(h)),a=i.flatMap(h=>{const g=r.get(h.queryHash);return g!=null?[{defaultedQueryOptions:h,observer:g}]:[]}),o=new Set(a.map(h=>h.defaultedQueryOptions.queryHash)),s=i.filter(h=>!o.has(h.queryHash)),l=h=>{const g=Qe(this,yf).defaultQueryOptions(h);return Qe(this,Va).find(v=>v.options.queryHash===g.queryHash)??new gP(Qe(this,yf),g)},c=s.map(h=>({defaultedQueryOptions:h,observer:l(h)})),d=(h,g)=>i.indexOf(h.defaultedQueryOptions)-i.indexOf(g.defaultedQueryOptions);return a.concat(c).sort(d)},XA=function(t,n){const r=Qe(this,Va).indexOf(t);r!==-1&&(kt(this,jo,NQ(Qe(this,jo),r,n)),cn(this,no,eR).call(this))},eR=function(){Hr.batch(()=>{this.listeners.forEach(t=>{t(Qe(this,jo))})})},lB),Ul,Bl,Ta,bu,Au,_0,tR,cB,jQ=(cB=class extends Df{constructor(n,r){super();Yt(this,Au);Yt(this,Ul);Yt(this,Bl);Yt(this,Ta);Yt(this,bu);kt(this,Ul,n),this.setOptions(r),this.bindMethods(),cn(this,Au,_0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,Ul).defaultMutationOptions(n),z0(this.options,r)||Qe(this,Ul).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,Ta),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xf(r.mutationKey)!==xf(this.options.mutationKey)?this.reset():((i=Qe(this,Ta))==null?void 0:i.state.status)==="pending"&&Qe(this,Ta).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,Ta))==null||n.removeObserver(this)}onMutationUpdate(n){cn(this,Au,_0).call(this),cn(this,Au,tR).call(this,n)}getCurrentResult(){return Qe(this,Bl)}reset(){var n;(n=Qe(this,Ta))==null||n.removeObserver(this),kt(this,Ta,void 0),cn(this,Au,_0).call(this),cn(this,Au,tR).call(this)}mutate(n,r){var i;return kt(this,bu,r),(i=Qe(this,Ta))==null||i.removeObserver(this),kt(this,Ta,Qe(this,Ul).getMutationCache().build(Qe(this,Ul),this.options)),Qe(this,Ta).addObserver(this),Qe(this,Ta).execute(n)}},Ul=new WeakMap,Bl=new WeakMap,Ta=new WeakMap,bu=new WeakMap,Au=new WeakSet,_0=function(){var r;const n=((r=Qe(this,Ta))==null?void 0:r.state)??bB();kt(this,Bl,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},tR=function(n){Hr.batch(()=>{var r,i,a,o,s,l,c,d;if(Qe(this,bu)&&this.hasListeners()){const h=Qe(this,Bl).variables,g=Qe(this,Bl).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,bu)).onSuccess)==null||i.call(r,n.data,h,g),(o=(a=Qe(this,bu)).onSettled)==null||o.call(a,n.data,null,h,g)):(n==null?void 0:n.type)==="error"&&((l=(s=Qe(this,bu)).onError)==null||l.call(s,n.error,h,g),(d=(c=Qe(this,bu)).onSettled)==null||d.call(c,void 0,n.error,h,g))}this.listeners.forEach(h=>{h(Qe(this,Bl))})})},cB),OS={exports:{}},bn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD;function $Q(){if(LD)return bn;LD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function g(k){return k===null||typeof k!="object"?null:(k=h&&k[h]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function S(k,ie,me){this.props=k,this.context=ie,this.refs=_,this.updater=me||y}S.prototype.isReactComponent={},S.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function b(){}b.prototype=S.prototype;function x(k,ie,me){this.props=k,this.context=ie,this.refs=_,this.updater=me||y}var A=x.prototype=new b;A.constructor=x,v(A,S.prototype),A.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(k,ie,me,K,ee,ge){return me=ge.ref,{$$typeof:e,type:k,key:ie,ref:me!==void 0?me:null,props:ge}}function Q(k,ie){return F(k.type,ie,void 0,void 0,void 0,k.props)}function X(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function U(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(me){return ie[me]})}var Y=/\/+/g;function ce(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):ie.toString(36)}function te(){}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function pe(k,ie,me,K,ee){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(ge){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case e:case t:Ae=!0;break;case d:return Ae=k._init,pe(Ae(k._payload),ie,me,K,ee)}}if(Ae)return ee=ee(k),Ae=K===""?"."+ce(k,0):K,P(ee)?(me="",Ae!=null&&(me=Ae.replace(Y,"$&/")+"/"),pe(ee,ie,me,"",function(Ne){return Ne})):ee!=null&&(X(ee)&&(ee=Q(ee,me+(ee.key==null||k&&k.key===ee.key?"":(""+ee.key).replace(Y,"$&/")+"/")+Ae)),ie.push(ee)),1;Ae=0;var Ze=K===""?".":K+":";if(P(k))for(var Pe=0;Pe<k.length;Pe++)K=k[Pe],ge=Ze+ce(K,Pe),Ae+=pe(K,ie,me,ge,ee);else if(Pe=g(k),typeof Pe=="function")for(k=Pe.call(k),Pe=0;!(K=k.next()).done;)K=K.value,ge=Ze+ce(K,Pe++),Ae+=pe(K,ie,me,ge,ee);else if(ge==="object"){if(typeof k.then=="function")return pe(se(k),ie,me,K,ee);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function _e(k,ie,me){if(k==null)return k;var K=[],ee=0;return pe(k,K,"","",function(ge){return ie.call(me,ge,ee++)}),K}function de(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(me){(k._status===0||k._status===-1)&&(k._status=1,k._result=me)},function(me){(k._status===0||k._status===-1)&&(k._status=2,k._result=me)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Re(){}return bn.Children={map:_e,forEach:function(k,ie,me){_e(k,function(){ie.apply(this,arguments)},me)},count:function(k){var ie=0;return _e(k,function(){ie++}),ie},toArray:function(k){return _e(k,function(ie){return ie})||[]},only:function(k){if(!X(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},bn.Component=S,bn.Fragment=n,bn.Profiler=i,bn.PureComponent=x,bn.StrictMode=r,bn.Suspense=l,bn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,bn.act=function(){throw Error("act(...) is not supported in production builds of React.")},bn.cache=function(k){return function(){return k.apply(null,arguments)}},bn.cloneElement=function(k,ie,me){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=v({},k.props),ee=k.key,ge=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(ge=void 0),ie.key!==void 0&&(ee=""+ie.key),ie)!D.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(K[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)K.children=me;else if(1<Ae){for(var Ze=Array(Ae),Pe=0;Pe<Ae;Pe++)Ze[Pe]=arguments[Pe+2];K.children=Ze}return F(k.type,ee,void 0,void 0,ge,K)},bn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},bn.createElement=function(k,ie,me){var K,ee={},ge=null;if(ie!=null)for(K in ie.key!==void 0&&(ge=""+ie.key),ie)D.call(ie,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=ie[K]);var Ae=arguments.length-2;if(Ae===1)ee.children=me;else if(1<Ae){for(var Ze=Array(Ae),Pe=0;Pe<Ae;Pe++)Ze[Pe]=arguments[Pe+2];ee.children=Ze}if(k&&k.defaultProps)for(K in Ae=k.defaultProps,Ae)ee[K]===void 0&&(ee[K]=Ae[K]);return F(k,ge,void 0,void 0,null,ee)},bn.createRef=function(){return{current:null}},bn.forwardRef=function(k){return{$$typeof:s,render:k}},bn.isValidElement=X,bn.lazy=function(k){return{$$typeof:d,_payload:{_status:-1,_result:k},_init:de}},bn.memo=function(k,ie){return{$$typeof:c,type:k,compare:ie===void 0?null:ie}},bn.startTransition=function(k){var ie=O.T,me={};O.T=me;try{var K=k(),ee=O.S;ee!==null&&ee(me,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Re,ue)}catch(ge){ue(ge)}finally{O.T=ie}},bn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},bn.use=function(k){return O.H.use(k)},bn.useActionState=function(k,ie,me){return O.H.useActionState(k,ie,me)},bn.useCallback=function(k,ie){return O.H.useCallback(k,ie)},bn.useContext=function(k){return O.H.useContext(k)},bn.useDebugValue=function(){},bn.useDeferredValue=function(k,ie){return O.H.useDeferredValue(k,ie)},bn.useEffect=function(k,ie){return O.H.useEffect(k,ie)},bn.useId=function(){return O.H.useId()},bn.useImperativeHandle=function(k,ie,me){return O.H.useImperativeHandle(k,ie,me)},bn.useInsertionEffect=function(k,ie){return O.H.useInsertionEffect(k,ie)},bn.useLayoutEffect=function(k,ie){return O.H.useLayoutEffect(k,ie)},bn.useMemo=function(k,ie){return O.H.useMemo(k,ie)},bn.useOptimistic=function(k,ie){return O.H.useOptimistic(k,ie)},bn.useReducer=function(k,ie,me){return O.H.useReducer(k,ie,me)},bn.useRef=function(k){return O.H.useRef(k)},bn.useState=function(k){return O.H.useState(k)},bn.useSyncExternalStore=function(k,ie,me){return O.H.useSyncExternalStore(k,ie,me)},bn.useTransition=function(){return O.H.useTransition()},bn.version="19.0.0",bn}var ID;function Dh(){return ID||(ID=1,OS.exports=$Q()),OS.exports}var V=Dh();const Pt=Lr(V),wh=mQ({__proto__:null,default:Pt},[V]);var EB=V.createContext(void 0),Ei=e=>{const t=V.useContext(EB);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UQ=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),B.jsx(EB.Provider,{value:e,children:t})),CB=V.createContext(!1),TB=()=>V.useContext(CB);CB.Provider;function BQ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var qQ=V.createContext(BQ()),AB=()=>V.useContext(qQ);function RB(e,t){return typeof e=="function"?e(...t):!!e}function PB(){}var OB=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},LB=e=>{V.useEffect(()=>{e.clearReset()},[e])},IB=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&RB(n,[e.error,r]),MB=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},DB=(e,t)=>e.isLoading&&e.isFetching&&!t,nR=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,V0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Im({queries:e,...t},n){const r=Ei(),i=TB(),a=AB(),o=V.useMemo(()=>e.map(v=>{const _=r.defaultQueryOptions(v);return _._optimisticResults=i?"isRestoring":"optimistic",_}),[e,r,i]);o.forEach(v=>{MB(v),OB(v,a)}),LB(a);const[s]=V.useState(()=>new FQ(r,o,t)),[l,c,d]=s.getOptimisticResult(o,t.combine);V.useSyncExternalStore(V.useCallback(v=>i?()=>{}:s.subscribe(Hr.batchCalls(v)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),V.useEffect(()=>{s.setQueries(o,t,{listeners:!1})},[o,t,s]);const g=l.some((v,_)=>nR(o[_],v))?l.flatMap((v,_)=>{const S=o[_];if(S){const b=new gP(r,S);if(nR(S,v))return V0(S,b,a);DB(v,i)&&V0(S,b,a)}return[]}):[];if(g.length>0)throw Promise.all(g);const y=l.find((v,_)=>{const S=o[_];return S&&IB({result:v,errorResetBoundary:a,throwOnError:S.throwOnError,query:r.getQueryCache().get(S.queryHash)})});if(y!=null&&y.error)throw y.error;return c(d())}function zQ(e,t,n){var d,h,g,y,v;const r=Ei(),i=TB(),a=AB(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",MB(o),OB(o,a),LB(a);const s=!r.getQueryState(e.queryKey),[l]=V.useState(()=>new t(r,o)),c=l.getOptimisticResult(o);if(V.useSyncExternalStore(V.useCallback(_=>{const S=i?()=>{}:l.subscribe(Hr.batchCalls(_));return l.updateResult(),S},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),V.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),nR(o,c))throw V0(o,l,a);if(IB({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((y=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||y.call(g,o,c),o.experimental_prefetchInRender&&!Sf&&DB(c,i)){const _=s?V0(o,l,a):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;_==null||_.catch(PB).finally(()=>{l.hasListeners()||l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function ly(e,t){return zQ(e,gP)}function La(e,t){const n=Ei(),[r]=V.useState(()=>new jQ(n,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const i=V.useSyncExternalStore(V.useCallback(o=>r.subscribe(Hr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=V.useCallback((o,s)=>{r.mutate(o,s).catch(PB)},[r]);if(i.error&&RB(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var LS={exports:{}},Xp={},IS={exports:{}},MS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MD;function HQ(){return MD||(MD=1,function(e){function t(_e,de){var ue=_e.length;_e.push(de);e:for(;0<ue;){var Re=ue-1>>>1,k=_e[Re];if(0<i(k,de))_e[Re]=de,_e[ue]=k,ue=Re;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var de=_e[0],ue=_e.pop();if(ue!==de){_e[0]=ue;e:for(var Re=0,k=_e.length,ie=k>>>1;Re<ie;){var me=2*(Re+1)-1,K=_e[me],ee=me+1,ge=_e[ee];if(0>i(K,ue))ee<k&&0>i(ge,K)?(_e[Re]=ge,_e[ee]=ue,Re=ee):(_e[Re]=K,_e[me]=ue,Re=me);else if(ee<k&&0>i(ge,ue))_e[Re]=ge,_e[ee]=ue,Re=ee;else break e}}return de}function i(_e,de){var ue=_e.sortIndex-de.sortIndex;return ue!==0?ue:_e.id-de.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,g=3,y=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function A(_e){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=_e)r(c),de.sortIndex=de.expirationTime,t(l,de);else break;de=n(c)}}function P(_e){if(_=!1,A(_e),!v)if(n(l)!==null)v=!0,se();else{var de=n(c);de!==null&&pe(P,de.startTime-_e)}}var O=!1,D=-1,F=5,Q=-1;function X(){return!(e.unstable_now()-Q<F)}function U(){if(O){var _e=e.unstable_now();Q=_e;var de=!0;try{e:{v=!1,_&&(_=!1,b(D),D=-1),y=!0;var ue=g;try{t:{for(A(_e),h=n(l);h!==null&&!(h.expirationTime>_e&&X());){var Re=h.callback;if(typeof Re=="function"){h.callback=null,g=h.priorityLevel;var k=Re(h.expirationTime<=_e);if(_e=e.unstable_now(),typeof k=="function"){h.callback=k,A(_e),de=!0;break t}h===n(l)&&r(l),A(_e)}else r(l);h=n(l)}if(h!==null)de=!0;else{var ie=n(c);ie!==null&&pe(P,ie.startTime-_e),de=!1}}break e}finally{h=null,g=ue,y=!1}de=void 0}}finally{de?Y():O=!1}}}var Y;if(typeof x=="function")Y=function(){x(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=U,Y=function(){te.postMessage(null)}}else Y=function(){S(U,0)};function se(){O||(O=!0,Y())}function pe(_e,de){D=S(function(){_e(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_e){_e.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,se())},e.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<_e?Math.floor(1e3/_e):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_e){switch(g){case 1:case 2:case 3:var de=3;break;default:de=g}var ue=g;g=de;try{return _e()}finally{g=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_e,de){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ue=g;g=_e;try{return de()}finally{g=ue}},e.unstable_scheduleCallback=function(_e,de,ue){var Re=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Re+ue:Re):ue=Re,_e){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ue+k,_e={id:d++,callback:de,priorityLevel:_e,startTime:ue,expirationTime:k,sortIndex:-1},ue>Re?(_e.sortIndex=ue,t(c,_e),n(l)===null&&_e===n(c)&&(_?(b(D),D=-1):_=!0,pe(P,ue-Re))):(_e.sortIndex=k,t(l,_e),v||y||(v=!0,se())),_e},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(_e){var de=g;return function(){var ue=g;g=de;try{return _e.apply(this,arguments)}finally{g=ue}}}}(MS)),MS}var DD;function VQ(){return DD||(DD=1,IS.exports=HQ()),IS.exports}var DS={exports:{}},Hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kD;function KQ(){if(kD)return Hi;kD=1;var e=Dh();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hi.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(l,c,null,d)},Hi.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Hi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Hi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Hi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin),g=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Hi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Hi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Hi.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Hi.requestFormReset=function(l){r.d.r(l)},Hi.unstable_batchedUpdates=function(l,c){return l(c)},Hi.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Hi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hi.version="19.0.0",Hi}var ND;function yP(){if(ND)return DS.exports;ND=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),DS.exports=KQ(),DS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD;function GQ(){if(FD)return Xp;FD=1;var e=VQ(),t=Dh(),n=yP();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=O&&u[O]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case s:return"Portal";case d:return"Profiler";case c:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case g:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case b:return f=u.displayName||null,f!==null?f:Q(u.type)||"Memo";case x:f=u._payload,u=u._init;try{return Q(u(f))}catch{}}return null}var X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,Y,ce;function te(u){if(Y===void 0)try{throw Error()}catch(m){var f=m.stack.trim().match(/\n( *(at )?)/);Y=f&&f[1]||"",ce=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Y+u+ce}var se=!1;function pe(u,f){if(!u||se)return"";se=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(f){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(vt){var pt=vt}Reflect.construct(u,[],At)}else{try{At.call()}catch(vt){pt=vt}u.call(At.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(At=u())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=E.DetermineComponentFrameRoot(),fe=j[0],Te=j[1];if(fe&&Te){var Ve=fe.split(`
`),at=Te.split(`
`);for(M=E=0;E<Ve.length&&!Ve[E].includes("DetermineComponentFrameRoot");)E++;for(;M<at.length&&!at[M].includes("DetermineComponentFrameRoot");)M++;if(E===Ve.length||M===at.length)for(E=Ve.length-1,M=at.length-1;1<=E&&0<=M&&Ve[E]!==at[M];)M--;for(;1<=E&&0<=M;E--,M--)if(Ve[E]!==at[M]){if(E!==1||M!==1)do if(E--,M--,0>M||Ve[E]!==at[M]){var wt=`
`+Ve[E].replace(" at new "," at ");return u.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",u.displayName)),wt}while(1<=E&&0<=M);break}}}finally{se=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?te(m):""}function _e(u){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return u=pe(u.type,!1),u;case 11:return u=pe(u.type.render,!1),u;case 1:return u=pe(u.type,!0),u;default:return""}}function de(u){try{var f="";do f+=_e(u),u=u.return;while(u);return f}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function ue(u){var f=u,m=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(m=f.return),u=f.return;while(u)}return f.tag===3?m:null}function Re(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function k(u){if(ue(u)!==u)throw Error(r(188))}function ie(u){var f=u.alternate;if(!f){if(f=ue(u),f===null)throw Error(r(188));return f!==u?null:u}for(var m=u,E=f;;){var M=m.return;if(M===null)break;var j=M.alternate;if(j===null){if(E=M.return,E!==null){m=E;continue}break}if(M.child===j.child){for(j=M.child;j;){if(j===m)return k(M),u;if(j===E)return k(M),f;j=j.sibling}throw Error(r(188))}if(m.return!==E.return)m=M,E=j;else{for(var fe=!1,Te=M.child;Te;){if(Te===m){fe=!0,m=M,E=j;break}if(Te===E){fe=!0,E=M,m=j;break}Te=Te.sibling}if(!fe){for(Te=j.child;Te;){if(Te===m){fe=!0,m=j,E=M;break}if(Te===E){fe=!0,E=j,m=M;break}Te=Te.sibling}if(!fe)throw Error(r(189))}}if(m.alternate!==E)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:f}function me(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=me(u),f!==null)return f;u=u.sibling}return null}var K=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ae=[],Ze=-1;function Pe(u){return{current:u}}function Ne(u){0>Ze||(u.current=Ae[Ze],Ae[Ze]=null,Ze--)}function Ye(u,f){Ze++,Ae[Ze]=u.current,u.current=f}var oe=Pe(null),H=Pe(null),$=Pe(null),ae=Pe(null);function Z(u,f){switch(Ye($,f),Ye(H,u),Ye(oe,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?WM(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=WM(u),f=QM(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Ne(oe),Ye(oe,f)}function he(){Ne(oe),Ne(H),Ne($)}function ye(u){u.memoizedState!==null&&Ye(ae,u);var f=oe.current,m=QM(f,u.type);f!==m&&(Ye(H,u),Ye(oe,m))}function He(u){H.current===u&&(Ne(oe),Ne(H)),ae.current===u&&(Ne(ae),Gp._currentValue=ge)}var Ee=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,nt=e.unstable_shouldYield,gt=e.unstable_requestPaint,qt=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,Be=e.unstable_ImmediatePriority,ne=e.unstable_UserBlockingPriority,z=e.unstable_NormalPriority,W=e.unstable_LowPriority,G=e.unstable_IdlePriority,je=e.log,Je=e.unstable_setDisableYieldValue,ke=null,Rt=null;function It(u){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Nt(u){if(typeof je=="function"&&Je(u),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(ke,u)}catch{}}var Ot=Math.clz32?Math.clz32:dn,zt=Math.log,Ar=Math.LN2;function dn(u){return u>>>=0,u===0?32:31-(zt(u)/Ar|0)|0}var hn=128,gr=4194304;function un(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ln(u,f){var m=u.pendingLanes;if(m===0)return 0;var E=0,M=u.suspendedLanes,j=u.pingedLanes,fe=u.warmLanes;u=u.finishedLanes!==0;var Te=m&134217727;return Te!==0?(m=Te&~M,m!==0?E=un(m):(j&=Te,j!==0?E=un(j):u||(fe=Te&~fe,fe!==0&&(E=un(fe))))):(Te=m&~M,Te!==0?E=un(Te):j!==0?E=un(j):u||(fe=m&~fe,fe!==0&&(E=un(fe)))),E===0?0:f!==0&&f!==E&&!(f&M)&&(M=E&-E,fe=f&-f,M>=fe||M===32&&(fe&4194176)!==0)?f:E}function In(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function lr(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var u=hn;return hn<<=1,!(hn&4194176)&&(hn=128),u}function qe(){var u=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),u}function bt(u){for(var f=[],m=0;31>m;m++)f.push(u);return f}function Et(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Mt(u,f,m,E,M,j){var fe=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var Te=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(m=fe&~m;0<m;){var wt=31-Ot(m),At=1<<wt;Te[wt]=0,Ve[wt]=-1;var pt=at[wt];if(pt!==null)for(at[wt]=null,wt=0;wt<pt.length;wt++){var vt=pt[wt];vt!==null&&(vt.lane&=-536870913)}m&=~At}E!==0&&Hn(u,E,0),j!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=j&~(fe&~f))}function Hn(u,f,m){u.pendingLanes|=f,u.suspendedLanes&=~f;var E=31-Ot(f);u.entangledLanes|=f,u.entanglements[E]=u.entanglements[E]|1073741824|m&4194218}function Jn(u,f){var m=u.entangledLanes|=f;for(u=u.entanglements;m;){var E=31-Ot(m),M=1<<E;M&f|u[E]&f&&(u[E]|=f),m&=~M}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ce(){var u=ee.p;return u!==0?u:(u=window.event,u===void 0?32:hD(u.type))}function et(u,f){var m=ee.p;try{return ee.p=u,f()}finally{ee.p=m}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Ct="__reactProps$"+ft,Dt="__reactContainer$"+ft,Gt="__reactEvents$"+ft,Xt="__reactListeners$"+ft,Ht="__reactHandles$"+ft,jt="__reactResources$"+ft,tn="__reactMarker$"+ft;function Pn(u){delete u[it],delete u[Ct],delete u[Gt],delete u[Xt],delete u[Ht]}function Wt(u){var f=u[it];if(f)return f;for(var m=u.parentNode;m;){if(f=m[Dt]||m[it]){if(m=f.alternate,f.child!==null||m!==null&&m.child!==null)for(u=YM(u);u!==null;){if(m=u[it])return m;u=YM(u)}return f}u=m,m=u.parentNode}return null}function Zt(u){if(u=u[it]||u[Dt]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function En(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function Cn(u){var f=u[jt];return f||(f=u[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function qn(u){u[tn]=!0}var Rr=new Set,Qr={};function Zr(u,f){Ir(u,f),Ir(u+"Capture",f)}function Ir(u,f){for(Qr[u]=f,u=0;u<f.length;u++)Rr.add(f[u])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ti=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},T={};function C(u){return Ee.call(T,u)?!0:Ee.call(Qi,u)?!1:ti.test(u)?T[u]=!0:(Qi[u]=!0,!1)}function R(u,f,m){if(C(f))if(m===null)u.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var E=f.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+m)}}function N(u,f,m){if(m===null)u.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+m)}}function J(u,f,m,E){if(E===null)u.removeAttribute(m);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(f,m,""+E)}}function le(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ie(u){var f=we(u)?"checked":"value",m=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),E=""+u[f];if(!u.hasOwnProperty(f)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var M=m.get,j=m.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return M.call(this)},set:function(fe){E=""+fe,j.call(this,fe)}}),Object.defineProperty(u,f,{enumerable:m.enumerable}),{getValue:function(){return E},setValue:function(fe){E=""+fe},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function xe(u){u._valueTracker||(u._valueTracker=Ie(u))}function Oe(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var m=f.getValue(),E="";return u&&(E=we(u)?u.checked?"true":"false":u.value),u=E,u!==m?(f.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Xe(u,f,m,E,M,j,fe,Te){u.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?u.type=fe:u.removeAttribute("type"),f!=null?fe==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+le(f)):u.value!==""+le(f)&&(u.value=""+le(f)):fe!=="submit"&&fe!=="reset"||u.removeAttribute("value"),f!=null?dt(u,fe,le(f)):m!=null?dt(u,fe,le(m)):E!=null&&u.removeAttribute("value"),M==null&&j!=null&&(u.defaultChecked=!!j),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&typeof Te!="boolean"?u.name=""+le(Te):u.removeAttribute("name")}function ot(u,f,m,E,M,j,fe,Te){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),f!=null||m!=null){if(!(j!=="submit"&&j!=="reset"||f!=null))return;m=m!=null?""+le(m):"",f=f!=null?""+le(f):m,Te||f===u.value||(u.value=f),u.defaultValue=f}E=E??M,E=typeof E!="function"&&typeof E!="symbol"&&!!E,u.checked=Te?u.checked:!!E,u.defaultChecked=!!E,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(u.name=fe)}function dt(u,f,m){f==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function ut(u,f,m,E){if(u=u.options,f){f={};for(var M=0;M<m.length;M++)f["$"+m[M]]=!0;for(m=0;m<u.length;m++)M=f.hasOwnProperty("$"+u[m].value),u[m].selected!==M&&(u[m].selected=M),M&&E&&(u[m].defaultSelected=!0)}else{for(m=""+le(m),f=null,M=0;M<u.length;M++){if(u[M].value===m){u[M].selected=!0,E&&(u[M].defaultSelected=!0);return}f!==null||u[M].disabled||(f=u[M])}f!==null&&(f.selected=!0)}}function be(u,f,m){if(f!=null&&(f=""+le(f),f!==u.value&&(u.value=f),m==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=m!=null?""+le(m):""}function De(u,f,m,E){if(f==null){if(E!=null){if(m!=null)throw Error(r(92));if(K(E)){if(1<E.length)throw Error(r(93));E=E[0]}m=E}m==null&&(m=""),f=m}m=le(f),u.defaultValue=m,E=u.textContent,E===m&&E!==""&&E!==null&&(u.value=E)}function Ue(u,f){if(f){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=f;return}}u.textContent=f}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,f,m){var E=f.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?E?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":E?u.setProperty(f,m):typeof m!="number"||m===0||Ke.has(f)?f==="float"?u.cssFloat=m:u[f]=(""+m).trim():u[f]=m+"px"}function mt(u,f,m){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,m!=null){for(var E in m)!m.hasOwnProperty(E)||f!=null&&f.hasOwnProperty(E)||(E.indexOf("--")===0?u.setProperty(E,""):E==="float"?u.cssFloat="":u[E]="");for(var M in f)E=f[M],f.hasOwnProperty(M)&&m[M]!==E&&lt(u,M,E)}else for(var j in f)f.hasOwnProperty(j)&&lt(u,j,f[j])}function $t(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return gn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Vt=null;function zn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Nn=null,Un=null;function Qt(u){var f=Zt(u);if(f&&(u=f.stateNode)){var m=u[Ct]||null;e:switch(u=f.stateNode,f.type){case"input":if(Xe(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),f=m.name,m.type==="radio"&&f!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ze(""+f)+'"][type="radio"]'),f=0;f<m.length;f++){var E=m[f];if(E!==u&&E.form===u.form){var M=E[Ct]||null;if(!M)throw Error(r(90));Xe(E,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<m.length;f++)E=m[f],E.form===u.form&&Oe(E)}break e;case"textarea":be(u,m.value,m.defaultValue);break e;case"select":f=m.value,f!=null&&ut(u,!!m.multiple,f,!1)}}}var Gn=!1;function pn(u,f,m){if(Gn)return u(f,m);Gn=!0;try{var E=u(f);return E}finally{if(Gn=!1,(Nn!==null||Un!==null)&&(wv(),Nn&&(f=Nn,u=Un,Un=Nn=null,Qt(f),u)))for(f=0;f<u.length;f++)Qt(u[f])}}function Yn(u,f){var m=u.stateNode;if(m===null)return null;var E=m[Ct]||null;if(E===null)return null;m=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,f,typeof m));return m}var mr=!1;if($n)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){mr=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{mr=!1}var cr=null,Ci=null,Zi=null;function va(){if(Zi)return Zi;var u,f=Ci,m=f.length,E,M="value"in cr?cr.value:cr.textContent,j=M.length;for(u=0;u<m&&f[u]===M[u];u++);var fe=m-u;for(E=1;E<=fe&&f[m-E]===M[j-E];E++);return Zi=M.slice(u,1<E?1-E:void 0)}function ir(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Bi(){return!0}function Ao(){return!1}function ar(u){function f(m,E,M,j,fe){this._reactName=m,this._targetInst=M,this.type=E,this.nativeEvent=j,this.target=fe,this.currentTarget=null;for(var Te in u)u.hasOwnProperty(Te)&&(m=u[Te],this[Te]=m?m(j):j[Te]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Bi:Ao,this.isPropagationStopped=Ao,this}return U(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),f}var $r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=ar($r),Ji=U({},$r,{view:0,detail:0}),zu=ar(Ji),io,vn,Ma,fr=U({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ma&&(Ma&&u.type==="mousemove"?(io=u.screenX-Ma.screenX,vn=u.screenY-Ma.screenY):vn=io=0,Ma=u),io)},movementY:function(u){return"movementY"in u?u.movementY:vn}}),qi=ar(fr),_a=U({},fr,{dataTransfer:0}),dr=ar(_a),Yi=U({},Ji,{relatedTarget:0}),ao=ar(Yi),Pr=U({},$r,{animationName:0,elapsedTime:0,pseudoElement:0}),sc=ar(Pr),Ro=U({},$r,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Da=ar(Ro),lp=U({},$r,{data:0}),Xi=ar(lp),Vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ly={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},is={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=is[u])?!!f[u]:!1}function Kf(){return Iy}var cp=U({},Ji,{key:function(u){if(u.key){var f=Vf[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=ir(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Ly[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kf,charCode:function(u){return u.type==="keypress"?ir(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ir(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ub=ar(cp),My=U({},fr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fp=ar(My),Bb=U({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kf}),qb=ar(Bb),dp=U({},$r,{propertyName:0,elapsedTime:0,pseudoElement:0}),zb=ar(dp),Dy=U({},fr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),ky=ar(Dy),Gf=U({},$r,{newState:0,oldState:0}),Fs=ar(Gf),Hb=[9,13,27,32],js=$n&&"CompositionEvent"in window,mi=null;$n&&"documentMode"in document&&(mi=document.documentMode);var Ny=$n&&"TextEvent"in window&&!mi,hp=$n&&(!js||mi&&8<mi&&11>=mi),Fy=" ",Wf=!1;function Qf(u,f){switch(u){case"keyup":return Hb.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jy(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Hu=!1;function $y(u,f){switch(u){case"compositionend":return jy(f);case"keypress":return f.which!==32?null:(Wf=!0,Fy);case"textInput":return u=f.data,u===Fy&&Wf?null:u;default:return null}}function Vb(u,f){if(Hu)return u==="compositionend"||!js&&Qf(u,f)?(u=va(),Zi=Ci=cr=null,Hu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return hp&&f.locale!=="ko"?null:f.data;default:return null}}var ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $s(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!ka[u.type]:f==="textarea"}function Uy(u,f,m,E){Nn?Un?Un.push(E):Un=[E]:Nn=E,f=Cv(f,"onChange"),0<f.length&&(m=new ro("onChange","change",null,m,E),u.push({event:m,listeners:f}))}var ea=null,uc=null;function Vu(u){zM(u,0)}function Zf(u){var f=En(u);if(Oe(f))return u}function Ku(u,f){if(u==="change")return f}var pp=!1;if($n){var Gu;if($n){var gp="oninput"in document;if(!gp){var Po=document.createElement("div");Po.setAttribute("oninput","return;"),gp=typeof Po.oninput=="function"}Gu=gp}else Gu=!1;pp=Gu&&(!document.documentMode||9<document.documentMode)}function lc(){ea&&(ea.detachEvent("onpropertychange",By),uc=ea=null)}function By(u){if(u.propertyName==="value"&&Zf(uc)){var f=[];Uy(f,uc,u,zn(u)),pn(Vu,f)}}function mp(u,f,m){u==="focusin"?(lc(),ea=f,uc=m,ea.attachEvent("onpropertychange",By)):u==="focusout"&&lc()}function Kb(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Zf(uc)}function Oo(u,f){if(u==="click")return Zf(f)}function Gb(u,f){if(u==="input"||u==="change")return Zf(f)}function Wu(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ta=typeof Object.is=="function"?Object.is:Wu;function na(u,f){if(ta(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var m=Object.keys(u),E=Object.keys(f);if(m.length!==E.length)return!1;for(E=0;E<m.length;E++){var M=m[E];if(!Ee.call(f,M)||!ta(u[M],f[M]))return!1}return!0}function cc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function yp(u,f){var m=cc(u);u=0;for(var E;m;){if(m.nodeType===3){if(E=u+m.textContent.length,u<=f&&E>=f)return{node:m,offset:f-u};u=E}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=cc(m)}}function Jf(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?Jf(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function fc(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Me(u.document);f instanceof u.HTMLIFrameElement;){try{var m=typeof f.contentWindow.location.href=="string"}catch{m=!1}if(m)u=f.contentWindow;else break;f=Me(u.document)}return f}function dc(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Yf(u,f){var m=fc(f);f=u.focusedElem;var E=u.selectionRange;if(m!==f&&f&&f.ownerDocument&&Jf(f.ownerDocument.documentElement,f)){if(E!==null&&dc(f)){if(u=E.start,m=E.end,m===void 0&&(m=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(m,f.value.length);else if(m=(u=f.ownerDocument||document)&&u.defaultView||window,m.getSelection){m=m.getSelection();var M=f.textContent.length,j=Math.min(E.start,M);E=E.end===void 0?j:Math.min(E.end,M),!m.extend&&j>E&&(M=E,E=j,j=M),M=yp(f,j);var fe=yp(f,E);M&&fe&&(m.rangeCount!==1||m.anchorNode!==M.node||m.anchorOffset!==M.offset||m.focusNode!==fe.node||m.focusOffset!==fe.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),m.removeAllRanges(),j>E?(m.addRange(u),m.extend(fe.node,fe.offset)):(u.setEnd(fe.node,fe.offset),m.addRange(u)))}}for(u=[],m=f;m=m.parentNode;)m.nodeType===1&&u.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)m=u[f],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var Qu=$n&&"documentMode"in document&&11>=document.documentMode,Lo=null,hc=null,Zu=null,vp=!1;function pc(u,f,m){var E=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;vp||Lo==null||Lo!==Me(E)||(E=Lo,"selectionStart"in E&&dc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Zu&&na(Zu,E)||(Zu=E,E=Cv(hc,"onSelect"),0<E.length&&(f=new ro("onSelect","select",null,f,m),u.push({event:f,listeners:E}),f.target=Lo)))}function Us(u,f){var m={};return m[u.toLowerCase()]=f.toLowerCase(),m["Webkit"+u]="webkit"+f,m["Moz"+u]="moz"+f,m}var Bs={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},_p={},wp={};$n&&(wp=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function qs(u){if(_p[u])return _p[u];if(!Bs[u])return u;var f=Bs[u],m;for(m in f)if(f.hasOwnProperty(m)&&m in wp)return _p[u]=f[m];return u}var Na=qs("animationend"),gc=qs("animationiteration"),qy=qs("animationstart"),Xf=qs("transitionrun"),Wb=qs("transitionstart"),zy=qs("transitioncancel"),Hy=qs("transitionend"),Ju=new Map,Vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function yi(u,f){Ju.set(u,f),Zr(f,[u])}var ra=[],zs=0,bp=0;function wa(){for(var u=zs,f=bp=zs=0;f<u;){var m=ra[f];ra[f++]=null;var E=ra[f];ra[f++]=null;var M=ra[f];ra[f++]=null;var j=ra[f];if(ra[f++]=null,E!==null&&M!==null){var fe=E.pending;fe===null?M.next=M:(M.next=fe.next,fe.next=M),E.pending=M}j!==0&&Ky(m,M,j)}}function mc(u,f,m,E){ra[zs++]=u,ra[zs++]=f,ra[zs++]=m,ra[zs++]=E,bp|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function ed(u,f,m,E){return mc(u,f,m,E),Hs(u)}function ba(u,f){return mc(u,null,null,f),Hs(u)}function Ky(u,f,m){u.lanes|=m;var E=u.alternate;E!==null&&(E.lanes|=m);for(var M=!1,j=u.return;j!==null;)j.childLanes|=m,E=j.alternate,E!==null&&(E.childLanes|=m),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(M=!0)),u=j,j=j.return;M&&f!==null&&u.tag===3&&(j=u.stateNode,M=31-Ot(m),j=j.hiddenUpdates,u=j[M],u===null?j[M]=[f]:u.push(f),f.lane=m|536870912)}function Hs(u){if(50<Up)throw Up=0,Z1=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var oo={},Sp=new WeakMap;function ia(u,f){if(typeof u=="object"&&u!==null){var m=Sp.get(u);return m!==void 0?m:(f={value:u,source:f,stack:de(f)},Sp.set(u,f),f)}return{value:u,source:f,stack:de(f)}}var Yu=[],Vs=0,yc=null,vc=0,aa=[],oa=0,Ks=null,so=1,uo="";function Gs(u,f){Yu[Vs++]=vc,Yu[Vs++]=yc,yc=u,vc=f}function p(u,f,m){aa[oa++]=so,aa[oa++]=uo,aa[oa++]=Ks,Ks=u;var E=so;u=uo;var M=32-Ot(E)-1;E&=~(1<<M),m+=1;var j=32-Ot(f)+M;if(30<j){var fe=M-M%5;j=(E&(1<<fe)-1).toString(32),E>>=fe,M-=fe,so=1<<32-Ot(f)+M|m<<M|E,uo=j+u}else so=1<<j|m<<M|E,uo=u}function w(u){u.return!==null&&(Gs(u,1),p(u,1,0))}function I(u){for(;u===yc;)yc=Yu[--Vs],Yu[Vs]=null,vc=Yu[--Vs],Yu[Vs]=null;for(;u===Ks;)Ks=aa[--oa],aa[oa]=null,uo=aa[--oa],aa[oa]=null,so=aa[--oa],aa[oa]=null}var q=null,re=null,ve=!1,Ge=null,st=!1,yt=Error(r(519));function St(u){var f=Error(r(418,""));throw Or(ia(f,u)),yt}function Ut(u){var f=u.stateNode,m=u.type,E=u.memoizedProps;switch(f[it]=u,f[Ct]=E,m){case"dialog":Fn("cancel",f),Fn("close",f);break;case"iframe":case"object":case"embed":Fn("load",f);break;case"video":case"audio":for(m=0;m<qp.length;m++)Fn(qp[m],f);break;case"source":Fn("error",f);break;case"img":case"image":case"link":Fn("error",f),Fn("load",f);break;case"details":Fn("toggle",f);break;case"input":Fn("invalid",f),ot(f,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),xe(f);break;case"select":Fn("invalid",f);break;case"textarea":Fn("invalid",f),De(f,E.value,E.defaultValue,E.children),xe(f)}m=E.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||f.textContent===""+m||E.suppressHydrationWarning===!0||GM(f.textContent,m)?(E.popover!=null&&(Fn("beforetoggle",f),Fn("toggle",f)),E.onScroll!=null&&Fn("scroll",f),E.onScrollEnd!=null&&Fn("scrollend",f),E.onClick!=null&&(f.onclick=Tv),f=!0):f=!1,f||St(u)}function rn(u){for(q=u.return;q;)switch(q.tag){case 3:case 27:st=!0;return;case 5:case 13:st=!1;return;default:q=q.return}}function mn(u){if(u!==q)return!1;if(!ve)return rn(u),ve=!0,!1;var f=!1,m;if((m=u.tag!==3&&u.tag!==27)&&((m=u.tag===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||hS(u.type,u.memoizedProps)),m=!m),m&&(f=!0),f&&re&&St(u),rn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(m=u.data,m==="/$"){if(f===0){re=Mo(u.nextSibling);break e}f--}else m!=="$"&&m!=="$!"&&m!=="$?"||f++;u=u.nextSibling}re=null}}else re=q?Mo(u.stateNode.nextSibling):null;return!0}function Jr(){re=q=null,ve=!1}function Or(u){Ge===null?Ge=[u]:Ge.push(u)}var vi=Error(r(460)),Ti=Error(r(474)),as={then:function(){}};function Gy(u){return u=u.status,u==="fulfilled"||u==="rejected"}function td(){}function Wy(u,f,m){switch(m=u[m],m===void 0?u.push(f):m!==f&&(f.then(td,td),f=m),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===vi?Error(r(483)):u;default:if(typeof f.status=="string")f.then(td,td);else{if(u=br,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(E){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=E}},function(E){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=E}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===vi?Error(r(483)):u}throw Xu=f,vi}}var Xu=null;function Qy(){if(Xu===null)throw Error(r(459));var u=Xu;return Xu=null,u}var Ws=null,wr=0;function Qs(u){var f=wr;return wr+=1,Ws===null&&(Ws=[]),Wy(Ws,u,f)}function _c(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function nd(u,f){throw f.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function Zy(u){var f=u._init;return f(u._payload)}function rd(u){function f(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function m(ct,rt){if(!u)return null;for(;rt!==null;)f(ct,rt),rt=rt.sibling;return null}function E(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function M(ct,rt){return ct=fl(ct,rt),ct.index=0,ct.sibling=null,ct}function j(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function fe(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Te(ct,rt,ht,xt){return rt===null||rt.tag!==6?(rt=q1(ht,ct.mode,xt),rt.return=ct,rt):(rt=M(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,xt){var Kt=ht.type;return Kt===l?wt(ct,rt,ht.props.children,xt,ht.key):rt!==null&&(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&Zy(Kt)===rt.type)?(rt=M(rt,ht.props),_c(rt,ht),rt.return=ct,rt):(rt=gv(ht.type,ht.key,ht.props,null,ct.mode,xt),_c(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,xt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=z1(ht,ct.mode,xt),rt.return=ct,rt):(rt=M(rt,ht.children||[]),rt.return=ct,rt)}function wt(ct,rt,ht,xt,Kt){return rt===null||rt.tag!==7?(rt=Rc(ht,ct.mode,xt,Kt),rt.return=ct,rt):(rt=M(rt,ht),rt.return=ct,rt)}function At(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=q1(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return ht=gv(rt.type,rt.key,rt.props,null,ct.mode,ht),_c(ht,rt),ht.return=ct,ht;case s:return rt=z1(rt,ct.mode,ht),rt.return=ct,rt;case x:var xt=rt._init;return rt=xt(rt._payload),At(ct,rt,ht)}if(K(rt)||D(rt))return rt=Rc(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return At(ct,Qs(rt),ht);if(rt.$$typeof===y)return At(ct,dv(ct,rt),ht);nd(ct,rt)}return null}function pt(ct,rt,ht,xt){var Kt=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Kt!==null?null:Te(ct,rt,""+ht,xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:return ht.key===Kt?Ve(ct,rt,ht,xt):null;case s:return ht.key===Kt?at(ct,rt,ht,xt):null;case x:return Kt=ht._init,ht=Kt(ht._payload),pt(ct,rt,ht,xt)}if(K(ht)||D(ht))return Kt!==null?null:wt(ct,rt,ht,xt,null);if(typeof ht.then=="function")return pt(ct,rt,Qs(ht),xt);if(ht.$$typeof===y)return pt(ct,rt,dv(ct,ht),xt);nd(ct,ht)}return null}function vt(ct,rt,ht,xt,Kt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return ct=ct.get(ht)||null,Te(rt,ct,""+xt,Kt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:return ct=ct.get(xt.key===null?ht:xt.key)||null,Ve(rt,ct,xt,Kt);case s:return ct=ct.get(xt.key===null?ht:xt.key)||null,at(rt,ct,xt,Kt);case x:var On=xt._init;return xt=On(xt._payload),vt(ct,rt,ht,xt,Kt)}if(K(xt)||D(xt))return ct=ct.get(ht)||null,wt(rt,ct,xt,Kt,null);if(typeof xt.then=="function")return vt(ct,rt,ht,Qs(xt),Kt);if(xt.$$typeof===y)return vt(ct,rt,ht,dv(rt,xt),Kt);nd(rt,xt)}return null}function Jt(ct,rt,ht,xt){for(var Kt=null,On=null,en=rt,on=rt=0,bi=null;en!==null&&on<ht.length;on++){en.index>on?(bi=en,en=null):bi=en.sibling;var Vn=pt(ct,en,ht[on],xt);if(Vn===null){en===null&&(en=bi);break}u&&en&&Vn.alternate===null&&f(ct,en),rt=j(Vn,rt,on),On===null?Kt=Vn:On.sibling=Vn,On=Vn,en=bi}if(on===ht.length)return m(ct,en),ve&&Gs(ct,on),Kt;if(en===null){for(;on<ht.length;on++)en=At(ct,ht[on],xt),en!==null&&(rt=j(en,rt,on),On===null?Kt=en:On.sibling=en,On=en);return ve&&Gs(ct,on),Kt}for(en=E(en);on<ht.length;on++)bi=vt(en,ct,on,ht[on],xt),bi!==null&&(u&&bi.alternate!==null&&en.delete(bi.key===null?on:bi.key),rt=j(bi,rt,on),On===null?Kt=bi:On.sibling=bi,On=bi);return u&&en.forEach(function(vl){return f(ct,vl)}),ve&&Gs(ct,on),Kt}function yn(ct,rt,ht,xt){if(ht==null)throw Error(r(151));for(var Kt=null,On=null,en=rt,on=rt=0,bi=null,Vn=ht.next();en!==null&&!Vn.done;on++,Vn=ht.next()){en.index>on?(bi=en,en=null):bi=en.sibling;var vl=pt(ct,en,Vn.value,xt);if(vl===null){en===null&&(en=bi);break}u&&en&&vl.alternate===null&&f(ct,en),rt=j(vl,rt,on),On===null?Kt=vl:On.sibling=vl,On=vl,en=bi}if(Vn.done)return m(ct,en),ve&&Gs(ct,on),Kt;if(en===null){for(;!Vn.done;on++,Vn=ht.next())Vn=At(ct,Vn.value,xt),Vn!==null&&(rt=j(Vn,rt,on),On===null?Kt=Vn:On.sibling=Vn,On=Vn);return ve&&Gs(ct,on),Kt}for(en=E(en);!Vn.done;on++,Vn=ht.next())Vn=vt(en,ct,on,Vn.value,xt),Vn!==null&&(u&&Vn.alternate!==null&&en.delete(Vn.key===null?on:Vn.key),rt=j(Vn,rt,on),On===null?Kt=Vn:On.sibling=Vn,On=Vn);return u&&en.forEach(function(hQ){return f(ct,hQ)}),ve&&Gs(ct,on),Kt}function qr(ct,rt,ht,xt){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:e:{for(var Kt=ht.key;rt!==null;){if(rt.key===Kt){if(Kt=ht.type,Kt===l){if(rt.tag===7){m(ct,rt.sibling),xt=M(rt,ht.props.children),xt.return=ct,ct=xt;break e}}else if(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&Zy(Kt)===rt.type){m(ct,rt.sibling),xt=M(rt,ht.props),_c(xt,ht),xt.return=ct,ct=xt;break e}m(ct,rt);break}else f(ct,rt);rt=rt.sibling}ht.type===l?(xt=Rc(ht.props.children,ct.mode,xt,ht.key),xt.return=ct,ct=xt):(xt=gv(ht.type,ht.key,ht.props,null,ct.mode,xt),_c(xt,ht),xt.return=ct,ct=xt)}return fe(ct);case s:e:{for(Kt=ht.key;rt!==null;){if(rt.key===Kt)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){m(ct,rt.sibling),xt=M(rt,ht.children||[]),xt.return=ct,ct=xt;break e}else{m(ct,rt);break}else f(ct,rt);rt=rt.sibling}xt=z1(ht,ct.mode,xt),xt.return=ct,ct=xt}return fe(ct);case x:return Kt=ht._init,ht=Kt(ht._payload),qr(ct,rt,ht,xt)}if(K(ht))return Jt(ct,rt,ht,xt);if(D(ht)){if(Kt=D(ht),typeof Kt!="function")throw Error(r(150));return ht=Kt.call(ht),yn(ct,rt,ht,xt)}if(typeof ht.then=="function")return qr(ct,rt,Qs(ht),xt);if(ht.$$typeof===y)return qr(ct,rt,dv(ct,ht),xt);nd(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(m(ct,rt.sibling),xt=M(rt,ht),xt.return=ct,ct=xt):(m(ct,rt),xt=q1(ht,ct.mode,xt),xt.return=ct,ct=xt),fe(ct)):m(ct,rt)}return function(ct,rt,ht,xt){try{wr=0;var Kt=qr(ct,rt,ht,xt);return Ws=null,Kt}catch(en){if(en===vi)throw en;var On=ho(29,en,null,ct.mode);return On.lanes=xt,On.return=ct,On}finally{}}}var os=rd(!0),Jy=rd(!1),id=Pe(null),Yy=Pe(0);function GL(u,f){u=ou,Ye(Yy,u),Ye(id,f),ou=u|f.baseLanes}function Qb(){Ye(Yy,ou),Ye(id,id.current)}function Zb(){ou=Yy.current,Ne(id),Ne(Yy)}var lo=Pe(null),ss=null;function el(u){var f=u.alternate;Ye(ci,ci.current&1),Ye(lo,u),ss===null&&(f===null||id.current!==null||f.memoizedState!==null)&&(ss=u)}function WL(u){if(u.tag===22){if(Ye(ci,ci.current),Ye(lo,u),ss===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(ss=u)}}else tl()}function tl(){Ye(ci,ci.current),Ye(lo,lo.current)}function Zs(u){Ne(lo),ss===u&&(ss=null),Ne(ci)}var ci=Pe(0);function Xy(u){for(var f=u;f!==null;){if(f.tag===13){var m=f.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var eW=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(m,E){u.push(E)}};this.abort=function(){f.aborted=!0,u.forEach(function(m){return m()})}},tW=e.unstable_scheduleCallback,nW=e.unstable_NormalPriority,fi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jb(){return{controller:new eW,data:new Map,refCount:0}}function xp(u){u.refCount--,u.refCount===0&&tW(nW,function(){u.controller.abort()})}var Ep=null,Yb=0,ad=0,od=null;function rW(u,f){if(Ep===null){var m=Ep=[];Yb=0,ad=iS(),od={status:"pending",value:void 0,then:function(E){m.push(E)}}}return Yb++,f.then(QL,QL),f}function QL(){if(--Yb===0&&Ep!==null){od!==null&&(od.status="fulfilled");var u=Ep;Ep=null,ad=0,od=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function iW(u,f){var m=[],E={status:"pending",value:null,reason:null,then:function(M){m.push(M)}};return u.then(function(){E.status="fulfilled",E.value=f;for(var M=0;M<m.length;M++)(0,m[M])(f)},function(M){for(E.status="rejected",E.reason=M,M=0;M<m.length;M++)(0,m[M])(void 0)}),E}var ZL=X.S;X.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&rW(u,f),ZL!==null&&ZL(u,f)};var wc=Pe(null);function Xb(){var u=wc.current;return u!==null?u:br.pooledCache}function ev(u,f){f===null?Ye(wc,wc.current):Ye(wc,f.pool)}function JL(){var u=Xb();return u===null?null:{parent:fi._currentValue,pool:u}}var nl=0,Tn=null,hr=null,ni=null,tv=!1,sd=!1,bc=!1,nv=0,Cp=0,ud=null,aW=0;function Yr(){throw Error(r(321))}function e1(u,f){if(f===null)return!1;for(var m=0;m<f.length&&m<u.length;m++)if(!ta(u[m],f[m]))return!1;return!0}function t1(u,f,m,E,M,j){return nl=j,Tn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=u===null||u.memoizedState===null?Sc:rl,bc=!1,j=m(E,M),bc=!1,sd&&(j=XL(f,m,E,M)),YL(u),j}function YL(u){X.H=us;var f=hr!==null&&hr.next!==null;if(nl=0,ni=hr=Tn=null,tv=!1,Cp=0,ud=null,f)throw Error(r(300));u===null||_i||(u=u.dependencies,u!==null&&fv(u)&&(_i=!0))}function XL(u,f,m,E){Tn=u;var M=0;do{if(sd&&(ud=null),Cp=0,sd=!1,25<=M)throw Error(r(301));if(M+=1,ni=hr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}X.H=xc,j=f(m,E)}while(sd);return j}function oW(){var u=X.H,f=u.useState()[0];return f=typeof f.then=="function"?Tp(f):f,u=u.useState()[0],(hr!==null?hr.memoizedState:null)!==u&&(Tn.flags|=1024),f}function n1(){var u=nv!==0;return nv=0,u}function r1(u,f,m){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~m}function i1(u){if(tv){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}tv=!1}nl=0,ni=hr=Tn=null,sd=!1,Cp=nv=0,ud=null}function Sa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ni===null?Tn.memoizedState=ni=u:ni=ni.next=u,ni}function ri(){if(hr===null){var u=Tn.alternate;u=u!==null?u.memoizedState:null}else u=hr.next;var f=ni===null?Tn.memoizedState:ni.next;if(f!==null)ni=f,hr=u;else{if(u===null)throw Tn.alternate===null?Error(r(467)):Error(r(310));hr=u,u={memoizedState:hr.memoizedState,baseState:hr.baseState,baseQueue:hr.baseQueue,queue:hr.queue,next:null},ni===null?Tn.memoizedState=ni=u:ni=ni.next=u}return ni}var rv;rv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Tp(u){var f=Cp;return Cp+=1,ud===null&&(ud=[]),u=Wy(ud,u,f),f=Tn,(ni===null?f.memoizedState:ni.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?Sc:rl),u}function iv(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Tp(u);if(u.$$typeof===y)return zi(u)}throw Error(r(438,String(u)))}function a1(u){var f=null,m=Tn.updateQueue;if(m!==null&&(f=m.memoCache),f==null){var E=Tn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(f={data:E.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),m===null&&(m=rv(),Tn.updateQueue=m),m.memoCache=f,m=f.data[f.index],m===void 0)for(m=f.data[f.index]=Array(u),E=0;E<u;E++)m[E]=P;return f.index++,m}function Js(u,f){return typeof f=="function"?f(u):f}function av(u){var f=ri();return o1(f,hr,u)}function o1(u,f,m){var E=u.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=m;var M=u.baseQueue,j=E.pending;if(j!==null){if(M!==null){var fe=M.next;M.next=j.next,j.next=fe}f.baseQueue=M=j,E.pending=null}if(j=u.baseState,M===null)u.memoizedState=j;else{f=M.next;var Te=fe=null,Ve=null,at=f,wt=!1;do{var At=at.lane&-536870913;if(At!==at.lane?(Bn&At)===At:(nl&At)===At){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),At===ad&&(wt=!0);else if((nl&pt)===pt){at=at.next,pt===ad&&(wt=!0);continue}else At={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Te=Ve=At,fe=j):Ve=Ve.next=At,Tn.lanes|=pt,dl|=pt;At=at.action,bc&&m(j,At),j=at.hasEagerState?at.eagerState:m(j,At)}else pt={lane:At,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Te=Ve=pt,fe=j):Ve=Ve.next=pt,Tn.lanes|=At,dl|=At;at=at.next}while(at!==null&&at!==f);if(Ve===null?fe=j:Ve.next=Te,!ta(j,u.memoizedState)&&(_i=!0,wt&&(m=od,m!==null)))throw m;u.memoizedState=j,u.baseState=fe,u.baseQueue=Ve,E.lastRenderedState=j}return M===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function s1(u){var f=ri(),m=f.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var E=m.dispatch,M=m.pending,j=f.memoizedState;if(M!==null){m.pending=null;var fe=M=M.next;do j=u(j,fe.action),fe=fe.next;while(fe!==M);ta(j,f.memoizedState)||(_i=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),m.lastRenderedState=j}return[j,E]}function eI(u,f,m){var E=Tn,M=ri(),j=ve;if(j){if(m===void 0)throw Error(r(407));m=m()}else m=f();var fe=!ta((hr||M).memoizedState,m);if(fe&&(M.memoizedState=m,_i=!0),M=M.queue,c1(rI.bind(null,E,M,u),[u]),M.getSnapshot!==f||fe||ni!==null&&ni.memoizedState.tag&1){if(E.flags|=2048,ld(9,nI.bind(null,E,M,m,f),{destroy:void 0},null),br===null)throw Error(r(349));j||nl&60||tI(E,f,m)}return m}function tI(u,f,m){u.flags|=16384,u={getSnapshot:f,value:m},f=Tn.updateQueue,f===null?(f=rv(),Tn.updateQueue=f,f.stores=[u]):(m=f.stores,m===null?f.stores=[u]:m.push(u))}function nI(u,f,m,E){f.value=m,f.getSnapshot=E,iI(f)&&aI(u)}function rI(u,f,m){return m(function(){iI(f)&&aI(u)})}function iI(u){var f=u.getSnapshot;u=u.value;try{var m=f();return!ta(u,m)}catch{return!0}}function aI(u){var f=ba(u,2);f!==null&&sa(f,u,2)}function u1(u){var f=Sa();if(typeof u=="function"){var m=u;if(u=m(),bc){Nt(!0);try{m()}finally{Nt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:u},f}function oI(u,f,m,E){return u.baseState=m,o1(u,hr,typeof E=="function"?E:Js)}function sW(u,f,m,E,M){if(uv(u))throw Error(r(485));if(u=f.action,u!==null){var j={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){j.listeners.push(fe)}};X.T!==null?m(!0):j.isTransition=!1,E(j),m=f.pending,m===null?(j.next=f.pending=j,sI(f,j)):(j.next=m.next,f.pending=m.next=j)}}function sI(u,f){var m=f.action,E=f.payload,M=u.state;if(f.isTransition){var j=X.T,fe={};X.T=fe;try{var Te=m(M,E),Ve=X.S;Ve!==null&&Ve(fe,Te),uI(u,f,Te)}catch(at){l1(u,f,at)}finally{X.T=j}}else try{j=m(M,E),uI(u,f,j)}catch(at){l1(u,f,at)}}function uI(u,f,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(E){lI(u,f,E)},function(E){return l1(u,f,E)}):lI(u,f,m)}function lI(u,f,m){f.status="fulfilled",f.value=m,cI(f),u.state=m,f=u.pending,f!==null&&(m=f.next,m===f?u.pending=null:(m=m.next,f.next=m,sI(u,m)))}function l1(u,f,m){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do f.status="rejected",f.reason=m,cI(f),f=f.next;while(f!==E)}u.action=null}function cI(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function fI(u,f){return f}function dI(u,f){if(ve){var m=br.formState;if(m!==null){e:{var E=Tn;if(ve){if(re){t:{for(var M=re,j=st;M.nodeType!==8;){if(!j){M=null;break t}if(M=Mo(M.nextSibling),M===null){M=null;break t}}j=M.data,M=j==="F!"||j==="F"?M:null}if(M){re=Mo(M.nextSibling),E=M.data==="F!";break e}}St(E)}E=!1}E&&(f=m[0])}}return m=Sa(),m.memoizedState=m.baseState=f,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fI,lastRenderedState:f},m.queue=E,m=OI.bind(null,Tn,E),E.dispatch=m,E=u1(!1),j=g1.bind(null,Tn,!1,E.queue),E=Sa(),M={state:f,dispatch:null,action:u,pending:null},E.queue=M,m=sW.bind(null,Tn,M,j,m),M.dispatch=m,E.memoizedState=u,[f,m,!1]}function hI(u){var f=ri();return pI(f,hr,u)}function pI(u,f,m){f=o1(u,f,fI)[0],u=av(Js)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Tp(f):f;var E=ri(),M=E.queue,j=M.dispatch;return m!==E.memoizedState&&(Tn.flags|=2048,ld(9,uW.bind(null,M,m),{destroy:void 0},null)),[f,j,u]}function uW(u,f){u.action=f}function gI(u){var f=ri(),m=hr;if(m!==null)return pI(f,m,u);ri(),f=f.memoizedState,m=ri();var E=m.queue.dispatch;return m.memoizedState=u,[f,E,!1]}function ld(u,f,m,E){return u={tag:u,create:f,inst:m,deps:E,next:null},f=Tn.updateQueue,f===null&&(f=rv(),Tn.updateQueue=f),m=f.lastEffect,m===null?f.lastEffect=u.next=u:(E=m.next,m.next=u,u.next=E,f.lastEffect=u),u}function mI(){return ri().memoizedState}function ov(u,f,m,E){var M=Sa();Tn.flags|=u,M.memoizedState=ld(1|f,m,{destroy:void 0},E===void 0?null:E)}function sv(u,f,m,E){var M=ri();E=E===void 0?null:E;var j=M.memoizedState.inst;hr!==null&&E!==null&&e1(E,hr.memoizedState.deps)?M.memoizedState=ld(f,m,j,E):(Tn.flags|=u,M.memoizedState=ld(1|f,m,j,E))}function yI(u,f){ov(8390656,8,u,f)}function c1(u,f){sv(2048,8,u,f)}function vI(u,f){return sv(4,2,u,f)}function _I(u,f){return sv(4,4,u,f)}function wI(u,f){if(typeof f=="function"){u=u();var m=f(u);return function(){typeof m=="function"?m():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function bI(u,f,m){m=m!=null?m.concat([u]):null,sv(4,4,wI.bind(null,f,u),m)}function f1(){}function SI(u,f){var m=ri();f=f===void 0?null:f;var E=m.memoizedState;return f!==null&&e1(f,E[1])?E[0]:(m.memoizedState=[u,f],u)}function xI(u,f){var m=ri();f=f===void 0?null:f;var E=m.memoizedState;if(f!==null&&e1(f,E[1]))return E[0];if(E=u(),bc){Nt(!0);try{u()}finally{Nt(!1)}}return m.memoizedState=[E,f],E}function d1(u,f,m){return m===void 0||nl&1073741824?u.memoizedState=f:(u.memoizedState=m,u=CM(),Tn.lanes|=u,dl|=u,m)}function EI(u,f,m,E){return ta(m,f)?m:id.current!==null?(u=d1(u,m,E),ta(u,f)||(_i=!0),u):nl&42?(u=CM(),Tn.lanes|=u,dl|=u,f):(_i=!0,u.memoizedState=m)}function CI(u,f,m,E,M){var j=ee.p;ee.p=j!==0&&8>j?j:8;var fe=X.T,Te={};X.T=Te,g1(u,!1,f,m);try{var Ve=M(),at=X.S;if(at!==null&&at(Te,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var wt=iW(Ve,E);Ap(u,f,wt,Ua(u))}else Ap(u,f,E,Ua(u))}catch(At){Ap(u,f,{then:function(){},status:"rejected",reason:At},Ua())}finally{ee.p=j,X.T=fe}}function lW(){}function h1(u,f,m,E){if(u.tag!==5)throw Error(r(476));var M=TI(u).queue;CI(u,M,f,ge,m===null?lW:function(){return AI(u),m(E)})}function TI(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:ge},next:null};var m={};return f.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:m},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function AI(u){var f=TI(u).next.queue;Ap(u,f,{},Ua())}function p1(){return zi(Gp)}function RI(){return ri().memoizedState}function PI(){return ri().memoizedState}function cW(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var m=Ua();u=ol(m);var E=sl(f,u,m);E!==null&&(sa(E,f,m),Op(E,f,m)),f={cache:Jb()},u.payload=f;return}f=f.return}}function fW(u,f,m){var E=Ua();m={lane:E,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},uv(u)?LI(f,m):(m=ed(u,f,m,E),m!==null&&(sa(m,u,E),II(m,f,E)))}function OI(u,f,m){var E=Ua();Ap(u,f,m,E)}function Ap(u,f,m,E){var M={lane:E,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(uv(u))LI(f,M);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var fe=f.lastRenderedState,Te=j(fe,m);if(M.hasEagerState=!0,M.eagerState=Te,ta(Te,fe))return mc(u,f,M,0),br===null&&wa(),!1}catch{}finally{}if(m=ed(u,f,M,E),m!==null)return sa(m,u,E),II(m,f,E),!0}return!1}function g1(u,f,m,E){if(E={lane:2,revertLane:iS(),action:E,hasEagerState:!1,eagerState:null,next:null},uv(u)){if(f)throw Error(r(479))}else f=ed(u,m,E,2),f!==null&&sa(f,u,2)}function uv(u){var f=u.alternate;return u===Tn||f!==null&&f===Tn}function LI(u,f){sd=tv=!0;var m=u.pending;m===null?f.next=f:(f.next=m.next,m.next=f),u.pending=f}function II(u,f,m){if(m&4194176){var E=f.lanes;E&=u.pendingLanes,m|=E,f.lanes=m,Jn(u,m)}}var us={readContext:zi,use:iv,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useLayoutEffect:Yr,useInsertionEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useSyncExternalStore:Yr,useId:Yr};us.useCacheRefresh=Yr,us.useMemoCache=Yr,us.useHostTransitionStatus=Yr,us.useFormState=Yr,us.useActionState=Yr,us.useOptimistic=Yr;var Sc={readContext:zi,use:iv,useCallback:function(u,f){return Sa().memoizedState=[u,f===void 0?null:f],u},useContext:zi,useEffect:yI,useImperativeHandle:function(u,f,m){m=m!=null?m.concat([u]):null,ov(4194308,4,wI.bind(null,f,u),m)},useLayoutEffect:function(u,f){return ov(4194308,4,u,f)},useInsertionEffect:function(u,f){ov(4,2,u,f)},useMemo:function(u,f){var m=Sa();f=f===void 0?null:f;var E=u();if(bc){Nt(!0);try{u()}finally{Nt(!1)}}return m.memoizedState=[E,f],E},useReducer:function(u,f,m){var E=Sa();if(m!==void 0){var M=m(f);if(bc){Nt(!0);try{m(f)}finally{Nt(!1)}}}else M=f;return E.memoizedState=E.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},E.queue=u,u=u.dispatch=fW.bind(null,Tn,u),[E.memoizedState,u]},useRef:function(u){var f=Sa();return u={current:u},f.memoizedState=u},useState:function(u){u=u1(u);var f=u.queue,m=OI.bind(null,Tn,f);return f.dispatch=m,[u.memoizedState,m]},useDebugValue:f1,useDeferredValue:function(u,f){var m=Sa();return d1(m,u,f)},useTransition:function(){var u=u1(!1);return u=CI.bind(null,Tn,u.queue,!0,!1),Sa().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,m){var E=Tn,M=Sa();if(ve){if(m===void 0)throw Error(r(407));m=m()}else{if(m=f(),br===null)throw Error(r(349));Bn&60||tI(E,f,m)}M.memoizedState=m;var j={value:m,getSnapshot:f};return M.queue=j,yI(rI.bind(null,E,j,u),[u]),E.flags|=2048,ld(9,nI.bind(null,E,j,m,f),{destroy:void 0},null),m},useId:function(){var u=Sa(),f=br.identifierPrefix;if(ve){var m=uo,E=so;m=(E&~(1<<32-Ot(E)-1)).toString(32)+m,f=":"+f+"R"+m,m=nv++,0<m&&(f+="H"+m.toString(32)),f+=":"}else m=aW++,f=":"+f+"r"+m.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return Sa().memoizedState=cW.bind(null,Tn)}};Sc.useMemoCache=a1,Sc.useHostTransitionStatus=p1,Sc.useFormState=dI,Sc.useActionState=dI,Sc.useOptimistic=function(u){var f=Sa();f.memoizedState=f.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=m,f=g1.bind(null,Tn,!0,m),m.dispatch=f,[u,f]};var rl={readContext:zi,use:iv,useCallback:SI,useContext:zi,useEffect:c1,useImperativeHandle:bI,useInsertionEffect:vI,useLayoutEffect:_I,useMemo:xI,useReducer:av,useRef:mI,useState:function(){return av(Js)},useDebugValue:f1,useDeferredValue:function(u,f){var m=ri();return EI(m,hr.memoizedState,u,f)},useTransition:function(){var u=av(Js)[0],f=ri().memoizedState;return[typeof u=="boolean"?u:Tp(u),f]},useSyncExternalStore:eI,useId:RI};rl.useCacheRefresh=PI,rl.useMemoCache=a1,rl.useHostTransitionStatus=p1,rl.useFormState=hI,rl.useActionState=hI,rl.useOptimistic=function(u,f){var m=ri();return oI(m,hr,u,f)};var xc={readContext:zi,use:iv,useCallback:SI,useContext:zi,useEffect:c1,useImperativeHandle:bI,useInsertionEffect:vI,useLayoutEffect:_I,useMemo:xI,useReducer:s1,useRef:mI,useState:function(){return s1(Js)},useDebugValue:f1,useDeferredValue:function(u,f){var m=ri();return hr===null?d1(m,u,f):EI(m,hr.memoizedState,u,f)},useTransition:function(){var u=s1(Js)[0],f=ri().memoizedState;return[typeof u=="boolean"?u:Tp(u),f]},useSyncExternalStore:eI,useId:RI};xc.useCacheRefresh=PI,xc.useMemoCache=a1,xc.useHostTransitionStatus=p1,xc.useFormState=gI,xc.useActionState=gI,xc.useOptimistic=function(u,f){var m=ri();return hr!==null?oI(m,hr,u,f):(m.baseState=u,[u,m.queue.dispatch])};function m1(u,f,m,E){f=u.memoizedState,m=m(E,f),m=m==null?f:U({},f,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var y1={isMounted:function(u){return(u=u._reactInternals)?ue(u)===u:!1},enqueueSetState:function(u,f,m){u=u._reactInternals;var E=Ua(),M=ol(E);M.payload=f,m!=null&&(M.callback=m),f=sl(u,M,E),f!==null&&(sa(f,u,E),Op(f,u,E))},enqueueReplaceState:function(u,f,m){u=u._reactInternals;var E=Ua(),M=ol(E);M.tag=1,M.payload=f,m!=null&&(M.callback=m),f=sl(u,M,E),f!==null&&(sa(f,u,E),Op(f,u,E))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var m=Ua(),E=ol(m);E.tag=2,f!=null&&(E.callback=f),f=sl(u,E,m),f!==null&&(sa(f,u,m),Op(f,u,m))}};function MI(u,f,m,E,M,j,fe){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,j,fe):f.prototype&&f.prototype.isPureReactComponent?!na(m,E)||!na(M,j):!0}function DI(u,f,m,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(m,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(m,E),f.state!==u&&y1.enqueueReplaceState(f,f.state,null)}function Ec(u,f){var m=f;if("ref"in f){m={};for(var E in f)E!=="ref"&&(m[E]=f[E])}if(u=u.defaultProps){m===f&&(m=U({},m));for(var M in u)m[M]===void 0&&(m[M]=u[M])}return m}var lv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function kI(u){lv(u)}function NI(u){console.error(u)}function FI(u){lv(u)}function cv(u,f){try{var m=u.onUncaughtError;m(f.value,{componentStack:f.stack})}catch(E){setTimeout(function(){throw E})}}function jI(u,f,m){try{var E=u.onCaughtError;E(m.value,{componentStack:m.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function v1(u,f,m){return m=ol(m),m.tag=3,m.payload={element:null},m.callback=function(){cv(u,f)},m}function $I(u){return u=ol(u),u.tag=3,u}function UI(u,f,m,E){var M=m.type.getDerivedStateFromError;if(typeof M=="function"){var j=E.value;u.payload=function(){return M(j)},u.callback=function(){jI(f,m,E)}}var fe=m.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(u.callback=function(){jI(f,m,E),typeof M!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var Te=E.stack;this.componentDidCatch(E.value,{componentStack:Te!==null?Te:""})})}function dW(u,f,m,E,M){if(m.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(f=m.alternate,f!==null&&Pp(f,m,M,!0),m=lo.current,m!==null){switch(m.tag){case 13:return ss===null?X1():m.alternate===null&&Br===0&&(Br=3),m.flags&=-257,m.flags|=65536,m.lanes=M,E===as?m.flags|=16384:(f=m.updateQueue,f===null?m.updateQueue=new Set([E]):f.add(E),tS(u,E,M)),!1;case 22:return m.flags|=65536,E===as?m.flags|=16384:(f=m.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([E])},m.updateQueue=f):(m=f.retryQueue,m===null?f.retryQueue=new Set([E]):m.add(E)),tS(u,E,M)),!1}throw Error(r(435,m.tag))}return tS(u,E,M),X1(),!1}if(ve)return f=lo.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=M,E!==yt&&(u=Error(r(422),{cause:E}),Or(ia(u,m)))):(E!==yt&&(f=Error(r(423),{cause:E}),Or(ia(f,m))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,E=ia(E,m),M=v1(u.stateNode,E,M),M1(u,M),Br!==4&&(Br=2)),!1;var j=Error(r(520),{cause:E});if(j=ia(j,m),jp===null?jp=[j]:jp.push(j),Br!==4&&(Br=2),f===null)return!0;E=ia(E,m),m=f;do{switch(m.tag){case 3:return m.flags|=65536,u=M&-M,m.lanes|=u,u=v1(m.stateNode,E,u),M1(m,u),!1;case 1:if(f=m.type,j=m.stateNode,(m.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(hl===null||!hl.has(j))))return m.flags|=65536,M&=-M,m.lanes|=M,M=$I(M),UI(M,u,m,E),M1(m,M),!1}m=m.return}while(m!==null);return!1}var BI=Error(r(461)),_i=!1;function Ai(u,f,m,E){f.child=u===null?Jy(f,null,m,E):os(f,u.child,m,E)}function qI(u,f,m,E,M){m=m.render;var j=f.ref;if("ref"in E){var fe={};for(var Te in E)Te!=="ref"&&(fe[Te]=E[Te])}else fe=E;return Tc(f),E=t1(u,f,m,fe,j,M),Te=n1(),u!==null&&!_i?(r1(u,f,M),Ys(u,f,M)):(ve&&Te&&w(f),f.flags|=1,Ai(u,f,E,M),f.child)}function zI(u,f,m,E,M){if(u===null){var j=m.type;return typeof j=="function"&&!B1(j)&&j.defaultProps===void 0&&m.compare===null?(f.tag=15,f.type=j,HI(u,f,j,E,M)):(u=gv(m.type,null,E,f,f.mode,M),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,!A1(u,M)){var fe=j.memoizedProps;if(m=m.compare,m=m!==null?m:na,m(fe,E)&&u.ref===f.ref)return Ys(u,f,M)}return f.flags|=1,u=fl(j,E),u.ref=f.ref,u.return=f,f.child=u}function HI(u,f,m,E,M){if(u!==null){var j=u.memoizedProps;if(na(j,E)&&u.ref===f.ref)if(_i=!1,f.pendingProps=E=j,A1(u,M))u.flags&131072&&(_i=!0);else return f.lanes=u.lanes,Ys(u,f,M)}return _1(u,f,m,E,M)}function VI(u,f,m){var E=f.pendingProps,M=E.children,j=(f.stateNode._pendingVisibility&2)!==0,fe=u!==null?u.memoizedState:null;if(Rp(u,f),E.mode==="hidden"||j){if(f.flags&128){if(E=fe!==null?fe.baseLanes|m:m,u!==null){for(M=f.child=u.child,j=0;M!==null;)j=j|M.lanes|M.childLanes,M=M.sibling;f.childLanes=j&~E}else f.childLanes=0,f.child=null;return KI(u,f,E,m)}if(m&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&ev(f,fe!==null?fe.cachePool:null),fe!==null?GL(f,fe):Qb(),WL(f);else return f.lanes=f.childLanes=536870912,KI(u,f,fe!==null?fe.baseLanes|m:m,m)}else fe!==null?(ev(f,fe.cachePool),GL(f,fe),tl(),f.memoizedState=null):(u!==null&&ev(f,null),Qb(),tl());return Ai(u,f,M,m),f.child}function KI(u,f,m,E){var M=Xb();return M=M===null?null:{parent:fi._currentValue,pool:M},f.memoizedState={baseLanes:m,cachePool:M},u!==null&&ev(f,null),Qb(),WL(f),u!==null&&Pp(u,f,E,!0),null}function Rp(u,f){var m=f.ref;if(m===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(f.flags|=2097664)}}function _1(u,f,m,E,M){return Tc(f),m=t1(u,f,m,E,void 0,M),E=n1(),u!==null&&!_i?(r1(u,f,M),Ys(u,f,M)):(ve&&E&&w(f),f.flags|=1,Ai(u,f,m,M),f.child)}function GI(u,f,m,E,M,j){return Tc(f),f.updateQueue=null,m=XL(f,E,m,M),YL(u),E=n1(),u!==null&&!_i?(r1(u,f,j),Ys(u,f,j)):(ve&&E&&w(f),f.flags|=1,Ai(u,f,m,j),f.child)}function WI(u,f,m,E,M){if(Tc(f),f.stateNode===null){var j=oo,fe=m.contextType;typeof fe=="object"&&fe!==null&&(j=zi(fe)),j=new m(E,j),f.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=y1,f.stateNode=j,j._reactInternals=f,j=f.stateNode,j.props=E,j.state=f.memoizedState,j.refs={},L1(f),fe=m.contextType,j.context=typeof fe=="object"&&fe!==null?zi(fe):oo,j.state=f.memoizedState,fe=m.getDerivedStateFromProps,typeof fe=="function"&&(m1(f,m,fe,E),j.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(fe=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),fe!==j.state&&y1.enqueueReplaceState(j,j.state,null),Ip(f,E,j,M),Lp(),j.state=f.memoizedState),typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!0}else if(u===null){j=f.stateNode;var Te=f.memoizedProps,Ve=Ec(m,Te);j.props=Ve;var at=j.context,wt=m.contextType;fe=oo,typeof wt=="object"&&wt!==null&&(fe=zi(wt));var At=m.getDerivedStateFromProps;wt=typeof At=="function"||typeof j.getSnapshotBeforeUpdate=="function",Te=f.pendingProps!==Te,wt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Te||at!==fe)&&DI(f,j,E,fe),al=!1;var pt=f.memoizedState;j.state=pt,Ip(f,E,j,M),Lp(),at=f.memoizedState,Te||pt!==at||al?(typeof At=="function"&&(m1(f,m,At,E),at=f.memoizedState),(Ve=al||MI(f,m,Ve,E,pt,at,fe))?(wt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=at),j.props=E,j.state=at,j.context=fe,E=Ve):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{j=f.stateNode,I1(u,f),fe=f.memoizedProps,wt=Ec(m,fe),j.props=wt,At=f.pendingProps,pt=j.context,at=m.contextType,Ve=oo,typeof at=="object"&&at!==null&&(Ve=zi(at)),Te=m.getDerivedStateFromProps,(at=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(fe!==At||pt!==Ve)&&DI(f,j,E,Ve),al=!1,pt=f.memoizedState,j.state=pt,Ip(f,E,j,M),Lp();var vt=f.memoizedState;fe!==At||pt!==vt||al||u!==null&&u.dependencies!==null&&fv(u.dependencies)?(typeof Te=="function"&&(m1(f,m,Te,E),vt=f.memoizedState),(wt=al||MI(f,m,wt,E,pt,vt,Ve)||u!==null&&u.dependencies!==null&&fv(u.dependencies))?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(E,vt,Ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(E,vt,Ve)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=vt),j.props=E,j.state=vt,j.context=Ve,E=wt):(typeof j.componentDidUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),E=!1)}return j=E,Rp(u,f),E=(f.flags&128)!==0,j||E?(j=f.stateNode,m=E&&typeof m.getDerivedStateFromError!="function"?null:j.render(),f.flags|=1,u!==null&&E?(f.child=os(f,u.child,null,M),f.child=os(f,null,m,M)):Ai(u,f,m,M),f.memoizedState=j.state,u=f.child):u=Ys(u,f,M),u}function QI(u,f,m,E){return Jr(),f.flags|=256,Ai(u,f,m,E),f.child}var w1={dehydrated:null,treeContext:null,retryLane:0};function b1(u){return{baseLanes:u,cachePool:JL()}}function S1(u,f,m){return u=u!==null?u.childLanes&~m:0,f&&(u|=po),u}function ZI(u,f,m){var E=f.pendingProps,M=!1,j=(f.flags&128)!==0,fe;if((fe=j)||(fe=u!==null&&u.memoizedState===null?!1:(ci.current&2)!==0),fe&&(M=!0,f.flags&=-129),fe=(f.flags&32)!==0,f.flags&=-33,u===null){if(ve){if(M?el(f):tl(),ve){var Te=re,Ve;if(Ve=Te){e:{for(Ve=Te,Te=st;Ve.nodeType!==8;){if(!Te){Te=null;break e}if(Ve=Mo(Ve.nextSibling),Ve===null){Te=null;break e}}Te=Ve}Te!==null?(f.memoizedState={dehydrated:Te,treeContext:Ks!==null?{id:so,overflow:uo}:null,retryLane:536870912},Ve=ho(18,null,null,0),Ve.stateNode=Te,Ve.return=f,f.child=Ve,q=f,re=null,Ve=!0):Ve=!1}Ve||St(f)}if(Te=f.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null))return Te.data==="$!"?f.lanes=16:f.lanes=536870912,null;Zs(f)}return Te=E.children,E=E.fallback,M?(tl(),M=f.mode,Te=E1({mode:"hidden",children:Te},M),E=Rc(E,M,m,null),Te.return=f,E.return=f,Te.sibling=E,f.child=Te,M=f.child,M.memoizedState=b1(m),M.childLanes=S1(u,fe,m),f.memoizedState=w1,E):(el(f),x1(f,Te))}if(Ve=u.memoizedState,Ve!==null&&(Te=Ve.dehydrated,Te!==null)){if(j)f.flags&256?(el(f),f.flags&=-257,f=C1(u,f,m)):f.memoizedState!==null?(tl(),f.child=u.child,f.flags|=128,f=null):(tl(),M=E.fallback,Te=f.mode,E=E1({mode:"visible",children:E.children},Te),M=Rc(M,Te,m,null),M.flags|=2,E.return=f,M.return=f,E.sibling=M,f.child=E,os(f,u.child,null,m),E=f.child,E.memoizedState=b1(m),E.childLanes=S1(u,fe,m),f.memoizedState=w1,f=M);else if(el(f),Te.data==="$!"){if(fe=Te.nextSibling&&Te.nextSibling.dataset,fe)var at=fe.dgst;fe=at,E=Error(r(419)),E.stack="",E.digest=fe,Or({value:E,source:null,stack:null}),f=C1(u,f,m)}else if(_i||Pp(u,f,m,!1),fe=(m&u.childLanes)!==0,_i||fe){if(fe=br,fe!==null){if(E=m&-m,E&42)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=E&(fe.suspendedLanes|m)?0:E,E!==0&&E!==Ve.retryLane)throw Ve.retryLane=E,ba(u,E),sa(fe,u,E),BI}Te.data==="$?"||X1(),f=C1(u,f,m)}else Te.data==="$?"?(f.flags|=128,f.child=u.child,f=AW.bind(null,u),Te._reactRetry=f,f=null):(u=Ve.treeContext,re=Mo(Te.nextSibling),q=f,ve=!0,Ge=null,st=!1,u!==null&&(aa[oa++]=so,aa[oa++]=uo,aa[oa++]=Ks,so=u.id,uo=u.overflow,Ks=f),f=x1(f,E.children),f.flags|=4096);return f}return M?(tl(),M=E.fallback,Te=f.mode,Ve=u.child,at=Ve.sibling,E=fl(Ve,{mode:"hidden",children:E.children}),E.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?M=fl(at,M):(M=Rc(M,Te,m,null),M.flags|=2),M.return=f,E.return=f,E.sibling=M,f.child=E,E=M,M=f.child,Te=u.child.memoizedState,Te===null?Te=b1(m):(Ve=Te.cachePool,Ve!==null?(at=fi._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=JL(),Te={baseLanes:Te.baseLanes|m,cachePool:Ve}),M.memoizedState=Te,M.childLanes=S1(u,fe,m),f.memoizedState=w1,E):(el(f),m=u.child,u=m.sibling,m=fl(m,{mode:"visible",children:E.children}),m.return=f,m.sibling=null,u!==null&&(fe=f.deletions,fe===null?(f.deletions=[u],f.flags|=16):fe.push(u)),f.child=m,f.memoizedState=null,m)}function x1(u,f){return f=E1({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function E1(u,f){return SM(u,f,0,null)}function C1(u,f,m){return os(f,u.child,null,m),u=x1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function JI(u,f,m){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),P1(u.return,f,m)}function T1(u,f,m,E,M){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:m,tailMode:M}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=E,j.tail=m,j.tailMode=M)}function YI(u,f,m){var E=f.pendingProps,M=E.revealOrder,j=E.tail;if(Ai(u,f,E.children,m),E=ci.current,E&2)E=E&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&JI(u,m,f);else if(u.tag===19)JI(u,m,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(Ye(ci,E),M){case"forwards":for(m=f.child,M=null;m!==null;)u=m.alternate,u!==null&&Xy(u)===null&&(M=m),m=m.sibling;m=M,m===null?(M=f.child,f.child=null):(M=m.sibling,m.sibling=null),T1(f,!1,M,m,j);break;case"backwards":for(m=null,M=f.child,f.child=null;M!==null;){if(u=M.alternate,u!==null&&Xy(u)===null){f.child=M;break}u=M.sibling,M.sibling=m,m=M,M=u}T1(f,!0,m,null,j);break;case"together":T1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Ys(u,f,m){if(u!==null&&(f.dependencies=u.dependencies),dl|=f.lanes,!(m&f.childLanes))if(u!==null){if(Pp(u,f,m,!1),(m&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,m=fl(u,u.pendingProps),f.child=m,m.return=f;u.sibling!==null;)u=u.sibling,m=m.sibling=fl(u,u.pendingProps),m.return=f;m.sibling=null}return f.child}function A1(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&fv(u)))}function hW(u,f,m){switch(f.tag){case 3:Z(f,f.stateNode.containerInfo),il(f,fi,u.memoizedState.cache),Jr();break;case 27:case 5:ye(f);break;case 4:Z(f,f.stateNode.containerInfo);break;case 10:il(f,f.type,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(el(f),f.flags|=128,null):m&f.child.childLanes?ZI(u,f,m):(el(f),u=Ys(u,f,m),u!==null?u.sibling:null);el(f);break;case 19:var M=(u.flags&128)!==0;if(E=(m&f.childLanes)!==0,E||(Pp(u,f,m,!1),E=(m&f.childLanes)!==0),M){if(E)return YI(u,f,m);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Ye(ci,ci.current),E)break;return null;case 22:case 23:return f.lanes=0,VI(u,f,m);case 24:il(f,fi,u.memoizedState.cache)}return Ys(u,f,m)}function XI(u,f,m){if(u!==null)if(u.memoizedProps!==f.pendingProps)_i=!0;else{if(!A1(u,m)&&!(f.flags&128))return _i=!1,hW(u,f,m);_i=!!(u.flags&131072)}else _i=!1,ve&&f.flags&1048576&&p(f,vc,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var E=f.elementType,M=E._init;if(E=M(E._payload),f.type=E,typeof E=="function")B1(E)?(u=Ec(E,u),f.tag=1,f=WI(null,f,E,u,m)):(f.tag=0,f=_1(null,f,E,u,m));else{if(E!=null){if(M=E.$$typeof,M===v){f.tag=11,f=qI(null,f,E,u,m);break e}else if(M===b){f.tag=14,f=zI(null,f,E,u,m);break e}}throw f=Q(E)||E,Error(r(306,f,""))}}return f;case 0:return _1(u,f,f.type,f.pendingProps,m);case 1:return E=f.type,M=Ec(E,f.pendingProps),WI(u,f,E,M,m);case 3:e:{if(Z(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var j=f.pendingProps;M=f.memoizedState,E=M.element,I1(u,f),Ip(f,j,null,m);var fe=f.memoizedState;if(j=fe.cache,il(f,fi,j),j!==M.cache&&O1(f,[fi],m,!0),Lp(),j=fe.element,M.isDehydrated)if(M={element:j,isDehydrated:!1,cache:fe.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=QI(u,f,j,m);break e}else if(j!==E){E=ia(Error(r(424)),f),Or(E),f=QI(u,f,j,m);break e}else for(re=Mo(f.stateNode.containerInfo.firstChild),q=f,ve=!0,Ge=null,st=!0,m=Jy(f,null,j,m),f.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Jr(),j===E){f=Ys(u,f,m);break e}Ai(u,f,j,m)}f=f.child}return f;case 26:return Rp(u,f),u===null?(m=nD(f.type,null,f.pendingProps,null))?f.memoizedState=m:ve||(m=f.type,u=f.pendingProps,E=Av($.current).createElement(m),E[it]=f,E[Ct]=u,Ri(E,m,u),qn(E),f.stateNode=E):f.memoizedState=nD(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ye(f),u===null&&ve&&(E=f.stateNode=XM(f.type,f.pendingProps,$.current),q=f,st=!0,re=Mo(E.firstChild)),E=f.pendingProps.children,u!==null||ve?Ai(u,f,E,m):f.child=os(f,null,E,m),Rp(u,f),f.child;case 5:return u===null&&ve&&((M=E=re)&&(E=zW(E,f.type,f.pendingProps,st),E!==null?(f.stateNode=E,q=f,re=Mo(E.firstChild),st=!1,M=!0):M=!1),M||St(f)),ye(f),M=f.type,j=f.pendingProps,fe=u!==null?u.memoizedProps:null,E=j.children,hS(M,j)?E=null:fe!==null&&hS(M,fe)&&(f.flags|=32),f.memoizedState!==null&&(M=t1(u,f,oW,null,null,m),Gp._currentValue=M),Rp(u,f),Ai(u,f,E,m),f.child;case 6:return u===null&&ve&&((u=m=re)&&(m=HW(m,f.pendingProps,st),m!==null?(f.stateNode=m,q=f,re=null,u=!0):u=!1),u||St(f)),null;case 13:return ZI(u,f,m);case 4:return Z(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=os(f,null,E,m):Ai(u,f,E,m),f.child;case 11:return qI(u,f,f.type,f.pendingProps,m);case 7:return Ai(u,f,f.pendingProps,m),f.child;case 8:return Ai(u,f,f.pendingProps.children,m),f.child;case 12:return Ai(u,f,f.pendingProps.children,m),f.child;case 10:return E=f.pendingProps,il(f,f.type,E.value),Ai(u,f,E.children,m),f.child;case 9:return M=f.type._context,E=f.pendingProps.children,Tc(f),M=zi(M),E=E(M),f.flags|=1,Ai(u,f,E,m),f.child;case 14:return zI(u,f,f.type,f.pendingProps,m);case 15:return HI(u,f,f.type,f.pendingProps,m);case 19:return YI(u,f,m);case 22:return VI(u,f,m);case 24:return Tc(f),E=zi(fi),u===null?(M=Xb(),M===null&&(M=br,j=Jb(),M.pooledCache=j,j.refCount++,j!==null&&(M.pooledCacheLanes|=m),M=j),f.memoizedState={parent:E,cache:M},L1(f),il(f,fi,M)):(u.lanes&m&&(I1(u,f),Ip(f,null,null,m),Lp()),M=u.memoizedState,j=f.memoizedState,M.parent!==E?(M={parent:E,cache:E},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),il(f,fi,E)):(E=j.cache,il(f,fi,E),E!==M.cache&&O1(f,[fi],m,!0))),Ai(u,f,f.pendingProps.children,m),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var R1=Pe(null),Cc=null,Xs=null;function il(u,f,m){Ye(R1,f._currentValue),f._currentValue=m}function eu(u){u._currentValue=R1.current,Ne(R1)}function P1(u,f,m){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===m)break;u=u.return}}function O1(u,f,m,E){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var j=M.dependencies;if(j!==null){var fe=M.child;j=j.firstContext;e:for(;j!==null;){var Te=j;j=M;for(var Ve=0;Ve<f.length;Ve++)if(Te.context===f[Ve]){j.lanes|=m,Te=j.alternate,Te!==null&&(Te.lanes|=m),P1(j.return,m,u),E||(fe=null);break e}j=Te.next}}else if(M.tag===18){if(fe=M.return,fe===null)throw Error(r(341));fe.lanes|=m,j=fe.alternate,j!==null&&(j.lanes|=m),P1(fe,m,u),fe=null}else fe=M.child;if(fe!==null)fe.return=M;else for(fe=M;fe!==null;){if(fe===u){fe=null;break}if(M=fe.sibling,M!==null){M.return=fe.return,fe=M;break}fe=fe.return}M=fe}}function Pp(u,f,m,E){u=null;for(var M=f,j=!1;M!==null;){if(!j){if(M.flags&524288)j=!0;else if(M.flags&262144)break}if(M.tag===10){var fe=M.alternate;if(fe===null)throw Error(r(387));if(fe=fe.memoizedProps,fe!==null){var Te=M.type;ta(M.pendingProps.value,fe.value)||(u!==null?u.push(Te):u=[Te])}}else if(M===ae.current){if(fe=M.alternate,fe===null)throw Error(r(387));fe.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Gp):u=[Gp])}M=M.return}u!==null&&O1(f,u,m,E),f.flags|=262144}function fv(u){for(u=u.firstContext;u!==null;){if(!ta(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Tc(u){Cc=u,Xs=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function zi(u){return eM(Cc,u)}function dv(u,f){return Cc===null&&Tc(u),eM(u,f)}function eM(u,f){var m=f._currentValue;if(f={context:f,memoizedValue:m,next:null},Xs===null){if(u===null)throw Error(r(308));Xs=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Xs=Xs.next=f;return m}var al=!1;function L1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function I1(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function ol(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function sl(u,f,m){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,Dr&2){var M=E.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),E.pending=f,f=Hs(u),Ky(u,null,m),f}return mc(u,E,f,m),Hs(u)}function Op(u,f,m){if(f=f.updateQueue,f!==null&&(f=f.shared,(m&4194176)!==0)){var E=f.lanes;E&=u.pendingLanes,m|=E,f.lanes=m,Jn(u,m)}}function M1(u,f){var m=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,m===E)){var M=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var fe={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};j===null?M=j=fe:j=j.next=fe,m=m.next}while(m!==null);j===null?M=j=f:j=j.next=f}else M=j=f;m={baseState:E.baseState,firstBaseUpdate:M,lastBaseUpdate:j,shared:E.shared,callbacks:E.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=f}var D1=!1;function Lp(){if(D1){var u=od;if(u!==null)throw u}}function Ip(u,f,m,E){D1=!1;var M=u.updateQueue;al=!1;var j=M.firstBaseUpdate,fe=M.lastBaseUpdate,Te=M.shared.pending;if(Te!==null){M.shared.pending=null;var Ve=Te,at=Ve.next;Ve.next=null,fe===null?j=at:fe.next=at,fe=Ve;var wt=u.alternate;wt!==null&&(wt=wt.updateQueue,Te=wt.lastBaseUpdate,Te!==fe&&(Te===null?wt.firstBaseUpdate=at:Te.next=at,wt.lastBaseUpdate=Ve))}if(j!==null){var At=M.baseState;fe=0,wt=at=Ve=null,Te=j;do{var pt=Te.lane&-536870913,vt=pt!==Te.lane;if(vt?(Bn&pt)===pt:(E&pt)===pt){pt!==0&&pt===ad&&(D1=!0),wt!==null&&(wt=wt.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var Jt=u,yn=Te;pt=f;var qr=m;switch(yn.tag){case 1:if(Jt=yn.payload,typeof Jt=="function"){At=Jt.call(qr,At,pt);break e}At=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=yn.payload,pt=typeof Jt=="function"?Jt.call(qr,At,pt):Jt,pt==null)break e;At=U({},At,pt);break e;case 2:al=!0}}pt=Te.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=M.callbacks,vt===null?M.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},wt===null?(at=wt=vt,Ve=At):wt=wt.next=vt,fe|=pt;if(Te=Te.next,Te===null){if(Te=M.shared.pending,Te===null)break;vt=Te,Te=vt.next,vt.next=null,M.lastBaseUpdate=vt,M.shared.pending=null}}while(!0);wt===null&&(Ve=At),M.baseState=Ve,M.firstBaseUpdate=at,M.lastBaseUpdate=wt,j===null&&(M.shared.lanes=0),dl|=fe,u.lanes=fe,u.memoizedState=At}}function tM(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function nM(u,f){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)tM(m[u],f)}function Mp(u,f){try{var m=f.updateQueue,E=m!==null?m.lastEffect:null;if(E!==null){var M=E.next;m=M;do{if((m.tag&u)===u){E=void 0;var j=m.create,fe=m.inst;E=j(),fe.destroy=E}m=m.next}while(m!==M)}}catch(Te){vr(f,f.return,Te)}}function ul(u,f,m){try{var E=f.updateQueue,M=E!==null?E.lastEffect:null;if(M!==null){var j=M.next;E=j;do{if((E.tag&u)===u){var fe=E.inst,Te=fe.destroy;if(Te!==void 0){fe.destroy=void 0,M=f;var Ve=m;try{Te()}catch(at){vr(M,Ve,at)}}}E=E.next}while(E!==j)}}catch(at){vr(f,f.return,at)}}function rM(u){var f=u.updateQueue;if(f!==null){var m=u.stateNode;try{nM(f,m)}catch(E){vr(u,u.return,E)}}}function iM(u,f,m){m.props=Ec(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(E){vr(u,f,E)}}function Ac(u,f){try{var m=u.ref;if(m!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var M=E;break;default:M=E}typeof m=="function"?u.refCleanup=m(M):m.current=M}}catch(j){vr(u,f,j)}}function Fa(u,f){var m=u.ref,E=u.refCleanup;if(m!==null)if(typeof E=="function")try{E()}catch(M){vr(u,f,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(M){vr(u,f,M)}else m.current=null}function aM(u){var f=u.type,m=u.memoizedProps,E=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":m.autoFocus&&E.focus();break e;case"img":m.src?E.src=m.src:m.srcSet&&(E.srcset=m.srcSet)}}catch(M){vr(u,u.return,M)}}function oM(u,f,m){try{var E=u.stateNode;jW(E,u.type,m,f),E[Ct]=f}catch(M){vr(u,u.return,M)}}function sM(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function k1(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||sM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function N1(u,f,m){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?m.nodeType===8?m.parentNode.insertBefore(u,f):m.insertBefore(u,f):(m.nodeType===8?(f=m.parentNode,f.insertBefore(u,m)):(f=m,f.appendChild(u)),m=m._reactRootContainer,m!=null||f.onclick!==null||(f.onclick=Tv));else if(E!==4&&E!==27&&(u=u.child,u!==null))for(N1(u,f,m),u=u.sibling;u!==null;)N1(u,f,m),u=u.sibling}function hv(u,f,m){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?m.insertBefore(u,f):m.appendChild(u);else if(E!==4&&E!==27&&(u=u.child,u!==null))for(hv(u,f,m),u=u.sibling;u!==null;)hv(u,f,m),u=u.sibling}var tu=!1,Ur=!1,F1=!1,uM=typeof WeakSet=="function"?WeakSet:Set,wi=null,lM=!1;function pW(u,f){if(u=u.containerInfo,fS=Mv,u=fc(u),dc(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var E=m.getSelection&&m.getSelection();if(E&&E.rangeCount!==0){m=E.anchorNode;var M=E.anchorOffset,j=E.focusNode;E=E.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var fe=0,Te=-1,Ve=-1,at=0,wt=0,At=u,pt=null;t:for(;;){for(var vt;At!==m||M!==0&&At.nodeType!==3||(Te=fe+M),At!==j||E!==0&&At.nodeType!==3||(Ve=fe+E),At.nodeType===3&&(fe+=At.nodeValue.length),(vt=At.firstChild)!==null;)pt=At,At=vt;for(;;){if(At===u)break t;if(pt===m&&++at===M&&(Te=fe),pt===j&&++wt===E&&(Ve=fe),(vt=At.nextSibling)!==null)break;At=pt,pt=At.parentNode}At=vt}m=Te===-1||Ve===-1?null:{start:Te,end:Ve}}else m=null}m=m||{start:0,end:0}}else m=null;for(dS={focusedElem:u,selectionRange:m},Mv=!1,wi=f;wi!==null;)if(f=wi,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,wi=u;else for(;wi!==null;){switch(f=wi,j=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,m=f,M=j.memoizedProps,j=j.memoizedState,E=m.stateNode;try{var Jt=Ec(m.type,M,m.elementType===m.type);u=E.getSnapshotBeforeUpdate(Jt,j),E.__reactInternalSnapshotBeforeUpdate=u}catch(yn){vr(m,m.return,yn)}}break;case 3:if(u&1024){if(u=f.stateNode.containerInfo,m=u.nodeType,m===9)mS(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":mS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,wi=u;break}wi=f.return}return Jt=lM,lM=!1,Jt}function cM(u,f,m){var E=m.flags;switch(m.tag){case 0:case 11:case 15:ru(u,m),E&4&&Mp(5,m);break;case 1:if(ru(u,m),E&4)if(u=m.stateNode,f===null)try{u.componentDidMount()}catch(Te){vr(m,m.return,Te)}else{var M=Ec(m.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(M,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Te){vr(m,m.return,Te)}}E&64&&rM(m),E&512&&Ac(m,m.return);break;case 3:if(ru(u,m),E&64&&(E=m.updateQueue,E!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{nM(E,u)}catch(Te){vr(m,m.return,Te)}}break;case 26:ru(u,m),E&512&&Ac(m,m.return);break;case 27:case 5:ru(u,m),f===null&&E&4&&aM(m),E&512&&Ac(m,m.return);break;case 12:ru(u,m);break;case 13:ru(u,m),E&4&&hM(u,m);break;case 22:if(M=m.memoizedState!==null||tu,!M){f=f!==null&&f.memoizedState!==null||Ur;var j=tu,fe=Ur;tu=M,(Ur=f)&&!fe?ll(u,m,(m.subtreeFlags&8772)!==0):ru(u,m),tu=j,Ur=fe}E&512&&(m.memoizedProps.mode==="manual"?Ac(m,m.return):Fa(m,m.return));break;default:ru(u,m)}}function fM(u){var f=u.alternate;f!==null&&(u.alternate=null,fM(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Pn(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ii=null,ja=!1;function nu(u,f,m){for(m=m.child;m!==null;)dM(u,f,m),m=m.sibling}function dM(u,f,m){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ke,m)}catch{}switch(m.tag){case 26:Ur||Fa(m,f),nu(u,f,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Ur||Fa(m,f);var E=ii,M=ja;for(ii=m.stateNode,nu(u,f,m),m=m.stateNode,f=m.attributes;f.length;)m.removeAttributeNode(f[0]);Pn(m),ii=E,ja=M;break;case 5:Ur||Fa(m,f);case 6:M=ii;var j=ja;if(ii=null,nu(u,f,m),ii=M,ja=j,ii!==null)if(ja)try{u=ii,E=m.stateNode,u.nodeType===8?u.parentNode.removeChild(E):u.removeChild(E)}catch(fe){vr(m,f,fe)}else try{ii.removeChild(m.stateNode)}catch(fe){vr(m,f,fe)}break;case 18:ii!==null&&(ja?(f=ii,m=m.stateNode,f.nodeType===8?gS(f.parentNode,m):f.nodeType===1&&gS(f,m),Jp(f)):gS(ii,m.stateNode));break;case 4:E=ii,M=ja,ii=m.stateNode.containerInfo,ja=!0,nu(u,f,m),ii=E,ja=M;break;case 0:case 11:case 14:case 15:Ur||ul(2,m,f),Ur||ul(4,m,f),nu(u,f,m);break;case 1:Ur||(Fa(m,f),E=m.stateNode,typeof E.componentWillUnmount=="function"&&iM(m,f,E)),nu(u,f,m);break;case 21:nu(u,f,m);break;case 22:Ur||Fa(m,f),Ur=(E=Ur)||m.memoizedState!==null,nu(u,f,m),Ur=E;break;default:nu(u,f,m)}}function hM(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Jp(u)}catch(m){vr(f,f.return,m)}}function gW(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new uM),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new uM),f;default:throw Error(r(435,u.tag))}}function j1(u,f){var m=gW(u);f.forEach(function(E){var M=RW.bind(null,u,E);m.has(E)||(m.add(E),E.then(M,M))})}function co(u,f){var m=f.deletions;if(m!==null)for(var E=0;E<m.length;E++){var M=m[E],j=u,fe=f,Te=fe;e:for(;Te!==null;){switch(Te.tag){case 27:case 5:ii=Te.stateNode,ja=!1;break e;case 3:ii=Te.stateNode.containerInfo,ja=!0;break e;case 4:ii=Te.stateNode.containerInfo,ja=!0;break e}Te=Te.return}if(ii===null)throw Error(r(160));dM(j,fe,M),ii=null,ja=!1,j=M.alternate,j!==null&&(j.return=null),M.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)pM(f,u),f=f.sibling}var Io=null;function pM(u,f){var m=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:co(f,u),fo(u),E&4&&(ul(3,u,u.return),Mp(3,u),ul(5,u,u.return));break;case 1:co(f,u),fo(u),E&512&&(Ur||m===null||Fa(m,m.return)),E&64&&tu&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?E:m.concat(E))));break;case 26:var M=Io;if(co(f,u),fo(u),E&512&&(Ur||m===null||Fa(m,m.return)),E&4){var j=m!==null?m.memoizedState:null;if(E=u.memoizedState,m===null)if(E===null)if(u.stateNode===null){e:{E=u.type,m=u.memoizedProps,M=M.ownerDocument||M;t:switch(E){case"title":j=M.getElementsByTagName("title")[0],(!j||j[tn]||j[it]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=M.createElement(E),M.head.insertBefore(j,M.querySelector("head > title"))),Ri(j,E,m),j[it]=u,qn(j),E=j;break e;case"link":var fe=aD("link","href",M).get(E+(m.href||""));if(fe){for(var Te=0;Te<fe.length;Te++)if(j=fe[Te],j.getAttribute("href")===(m.href==null?null:m.href)&&j.getAttribute("rel")===(m.rel==null?null:m.rel)&&j.getAttribute("title")===(m.title==null?null:m.title)&&j.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){fe.splice(Te,1);break t}}j=M.createElement(E),Ri(j,E,m),M.head.appendChild(j);break;case"meta":if(fe=aD("meta","content",M).get(E+(m.content||""))){for(Te=0;Te<fe.length;Te++)if(j=fe[Te],j.getAttribute("content")===(m.content==null?null:""+m.content)&&j.getAttribute("name")===(m.name==null?null:m.name)&&j.getAttribute("property")===(m.property==null?null:m.property)&&j.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&j.getAttribute("charset")===(m.charSet==null?null:m.charSet)){fe.splice(Te,1);break t}}j=M.createElement(E),Ri(j,E,m),M.head.appendChild(j);break;default:throw Error(r(468,E))}j[it]=u,qn(j),E=j}u.stateNode=E}else oD(M,u.type,u.stateNode);else u.stateNode=iD(M,E,u.memoizedProps);else j!==E?(j===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):j.count--,E===null?oD(M,u.type,u.stateNode):iD(M,E,u.memoizedProps)):E===null&&u.stateNode!==null&&oM(u,u.memoizedProps,m.memoizedProps)}break;case 27:if(E&4&&u.alternate===null){M=u.stateNode,j=u.memoizedProps;try{for(var Ve=M.firstChild;Ve;){var at=Ve.nextSibling,wt=Ve.nodeName;Ve[tn]||wt==="HEAD"||wt==="BODY"||wt==="SCRIPT"||wt==="STYLE"||wt==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||M.removeChild(Ve),Ve=at}for(var At=u.type,pt=M.attributes;pt.length;)M.removeAttributeNode(pt[0]);Ri(M,At,j),M[it]=u,M[Ct]=j}catch(Jt){vr(u,u.return,Jt)}}case 5:if(co(f,u),fo(u),E&512&&(Ur||m===null||Fa(m,m.return)),u.flags&32){M=u.stateNode;try{Ue(M,"")}catch(Jt){vr(u,u.return,Jt)}}E&4&&u.stateNode!=null&&(M=u.memoizedProps,oM(u,M,m!==null?m.memoizedProps:M)),E&1024&&(F1=!0);break;case 6:if(co(f,u),fo(u),E&4){if(u.stateNode===null)throw Error(r(162));E=u.memoizedProps,m=u.stateNode;try{m.nodeValue=E}catch(Jt){vr(u,u.return,Jt)}}break;case 3:if(Ov=null,M=Io,Io=Rv(f.containerInfo),co(f,u),Io=M,fo(u),E&4&&m!==null&&m.memoizedState.isDehydrated)try{Jp(f.containerInfo)}catch(Jt){vr(u,u.return,Jt)}F1&&(F1=!1,gM(u));break;case 4:E=Io,Io=Rv(u.stateNode.containerInfo),co(f,u),fo(u),Io=E;break;case 12:co(f,u),fo(u);break;case 13:co(f,u),fo(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(G1=qt()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,j1(u,E)));break;case 22:if(E&512&&(Ur||m===null||Fa(m,m.return)),Ve=u.memoizedState!==null,at=m!==null&&m.memoizedState!==null,wt=tu,At=Ur,tu=wt||Ve,Ur=At||at,co(f,u),Ur=At,tu=wt,fo(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,E&8192&&(f._visibility=Ve?f._visibility&-2:f._visibility|1,Ve&&(f=tu||Ur,m===null||at||f||cd(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(m=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(m===null){at=m=f;try{if(M=at.stateNode,Ve)j=M.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{fe=at.stateNode,Te=at.memoizedProps.style;var vt=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;fe.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Jt){vr(at,at.return,Jt)}}}else if(f.tag===6){if(m===null){at=f;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Jt){vr(at,at.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}E&4&&(E=u.updateQueue,E!==null&&(m=E.retryQueue,m!==null&&(E.retryQueue=null,j1(u,m))));break;case 19:co(f,u),fo(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,j1(u,E)));break;case 21:break;default:co(f,u),fo(u)}}function fo(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var m=u.return;m!==null;){if(sM(m)){var E=m;break e}m=m.return}throw Error(r(160))}switch(E.tag){case 27:var M=E.stateNode,j=k1(u);hv(u,j,M);break;case 5:var fe=E.stateNode;E.flags&32&&(Ue(fe,""),E.flags&=-33);var Te=k1(u);hv(u,Te,fe);break;case 3:case 4:var Ve=E.stateNode.containerInfo,at=k1(u);N1(u,at,Ve);break;default:throw Error(r(161))}}}catch(wt){vr(u,u.return,wt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function gM(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;gM(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function ru(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)cM(u,f.alternate,f),f=f.sibling}function cd(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:ul(4,f,f.return),cd(f);break;case 1:Fa(f,f.return);var m=f.stateNode;typeof m.componentWillUnmount=="function"&&iM(f,f.return,m),cd(f);break;case 26:case 27:case 5:Fa(f,f.return),cd(f);break;case 22:Fa(f,f.return),f.memoizedState===null&&cd(f);break;default:cd(f)}u=u.sibling}}function ll(u,f,m){for(m=m&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var E=f.alternate,M=u,j=f,fe=j.flags;switch(j.tag){case 0:case 11:case 15:ll(M,j,m),Mp(4,j);break;case 1:if(ll(M,j,m),E=j,M=E.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(at){vr(E,E.return,at)}if(E=j,M=E.updateQueue,M!==null){var Te=E.stateNode;try{var Ve=M.shared.hiddenCallbacks;if(Ve!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ve.length;M++)tM(Ve[M],Te)}catch(at){vr(E,E.return,at)}}m&&fe&64&&rM(j),Ac(j,j.return);break;case 26:case 27:case 5:ll(M,j,m),m&&E===null&&fe&4&&aM(j),Ac(j,j.return);break;case 12:ll(M,j,m);break;case 13:ll(M,j,m),m&&fe&4&&hM(M,j);break;case 22:j.memoizedState===null&&ll(M,j,m),Ac(j,j.return);break;default:ll(M,j,m)}f=f.sibling}}function $1(u,f){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&xp(m))}function U1(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&xp(u))}function cl(u,f,m,E){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)mM(u,f,m,E),f=f.sibling}function mM(u,f,m,E){var M=f.flags;switch(f.tag){case 0:case 11:case 15:cl(u,f,m,E),M&2048&&Mp(9,f);break;case 3:cl(u,f,m,E),M&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&xp(u)));break;case 12:if(M&2048){cl(u,f,m,E),u=f.stateNode;try{var j=f.memoizedProps,fe=j.id,Te=j.onPostCommit;typeof Te=="function"&&Te(fe,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){vr(f,f.return,Ve)}}else cl(u,f,m,E);break;case 23:break;case 22:j=f.stateNode,f.memoizedState!==null?j._visibility&4?cl(u,f,m,E):Dp(u,f):j._visibility&4?cl(u,f,m,E):(j._visibility|=4,fd(u,f,m,E,(f.subtreeFlags&10256)!==0)),M&2048&&$1(f.alternate,f);break;case 24:cl(u,f,m,E),M&2048&&U1(f.alternate,f);break;default:cl(u,f,m,E)}}function fd(u,f,m,E,M){for(M=M&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var j=u,fe=f,Te=m,Ve=E,at=fe.flags;switch(fe.tag){case 0:case 11:case 15:fd(j,fe,Te,Ve,M),Mp(8,fe);break;case 23:break;case 22:var wt=fe.stateNode;fe.memoizedState!==null?wt._visibility&4?fd(j,fe,Te,Ve,M):Dp(j,fe):(wt._visibility|=4,fd(j,fe,Te,Ve,M)),M&&at&2048&&$1(fe.alternate,fe);break;case 24:fd(j,fe,Te,Ve,M),M&&at&2048&&U1(fe.alternate,fe);break;default:fd(j,fe,Te,Ve,M)}f=f.sibling}}function Dp(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var m=u,E=f,M=E.flags;switch(E.tag){case 22:Dp(m,E),M&2048&&$1(E.alternate,E);break;case 24:Dp(m,E),M&2048&&U1(E.alternate,E);break;default:Dp(m,E)}f=f.sibling}}var kp=8192;function dd(u){if(u.subtreeFlags&kp)for(u=u.child;u!==null;)yM(u),u=u.sibling}function yM(u){switch(u.tag){case 26:dd(u),u.flags&kp&&u.memoizedState!==null&&rQ(Io,u.memoizedState,u.memoizedProps);break;case 5:dd(u);break;case 3:case 4:var f=Io;Io=Rv(u.stateNode.containerInfo),dd(u),Io=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=kp,kp=16777216,dd(u),kp=f):dd(u));break;default:dd(u)}}function vM(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Np(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var m=0;m<f.length;m++){var E=f[m];wi=E,wM(E,u)}vM(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)_M(u),u=u.sibling}function _M(u){switch(u.tag){case 0:case 11:case 15:Np(u),u.flags&2048&&ul(9,u,u.return);break;case 3:Np(u);break;case 12:Np(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,pv(u)):Np(u);break;default:Np(u)}}function pv(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var m=0;m<f.length;m++){var E=f[m];wi=E,wM(E,u)}vM(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:ul(8,f,f.return),pv(f);break;case 22:m=f.stateNode,m._visibility&4&&(m._visibility&=-5,pv(f));break;default:pv(f)}u=u.sibling}}function wM(u,f){for(;wi!==null;){var m=wi;switch(m.tag){case 0:case 11:case 15:ul(8,m,f);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var E=m.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:xp(m.memoizedState.cache)}if(E=m.child,E!==null)E.return=m,wi=E;else e:for(m=u;wi!==null;){E=wi;var M=E.sibling,j=E.return;if(fM(E),E===m){wi=null;break e}if(M!==null){M.return=j,wi=M;break e}wi=j}}}function mW(u,f,m,E){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(u,f,m,E){return new mW(u,f,m,E)}function B1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function fl(u,f){var m=u.alternate;return m===null?(m=ho(u.tag,f,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=f,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&31457280,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,f=u.dependencies,m.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function bM(u,f){u.flags&=31457282;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,f=m.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function gv(u,f,m,E,M,j){var fe=0;if(E=u,typeof u=="function")B1(u)&&(fe=1);else if(typeof u=="string")fe=tQ(u,m,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Rc(m.children,M,j,f);case c:fe=8,M|=24;break;case d:return u=ho(12,m,f,M|2),u.elementType=d,u.lanes=j,u;case _:return u=ho(13,m,f,M),u.elementType=_,u.lanes=j,u;case S:return u=ho(19,m,f,M),u.elementType=S,u.lanes=j,u;case A:return SM(m,M,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case h:case y:fe=10;break e;case g:fe=9;break e;case v:fe=11;break e;case b:fe=14;break e;case x:fe=16,E=null;break e}fe=29,m=Error(r(130,u===null?"null":typeof u,"")),E=null}return f=ho(fe,m,f,M),f.elementType=u,f.type=E,f.lanes=j,f}function Rc(u,f,m,E){return u=ho(7,u,E,f),u.lanes=m,u}function SM(u,f,m,E){u=ho(22,u,E,f),u.elementType=A,u.lanes=m;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=M._current;if(j===null)throw Error(r(456));if(!(M._pendingVisibility&2)){var fe=ba(j,2);fe!==null&&(M._pendingVisibility|=2,sa(fe,j,2))}},attach:function(){var j=M._current;if(j===null)throw Error(r(456));if(M._pendingVisibility&2){var fe=ba(j,2);fe!==null&&(M._pendingVisibility&=-3,sa(fe,j,2))}}};return u.stateNode=M,u}function q1(u,f,m){return u=ho(6,u,null,f),u.lanes=m,u}function z1(u,f,m){return f=ho(4,u.children!==null?u.children:[],u.key,f),f.lanes=m,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function iu(u){u.flags|=4}function xM(u,f){if(f.type!=="stylesheet"||f.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!sD(f)){if(f=lo.current,f!==null&&((Bn&4194176)===Bn?ss!==null:(Bn&62914560)!==Bn&&!(Bn&536870912)||f!==ss))throw Xu=as,Ti;u.flags|=8192}}function mv(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?qe():536870912,u.lanes|=f,pd|=f)}function Fp(u,f){if(!ve)switch(u.tailMode){case"hidden":f=u.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var E=null;m!==null;)m.alternate!==null&&(E=m),m=m.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Mr(u){var f=u.alternate!==null&&u.alternate.child===u.child,m=0,E=0;if(f)for(var M=u.child;M!==null;)m|=M.lanes|M.childLanes,E|=M.subtreeFlags&31457280,E|=M.flags&31457280,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)m|=M.lanes|M.childLanes,E|=M.subtreeFlags,E|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=E,u.childLanes=m,f}function yW(u,f,m){var E=f.pendingProps;switch(I(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(f),null;case 1:return Mr(f),null;case 3:return m=f.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),eu(fi),he(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(mn(f)?iu(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ge!==null&&(J1(Ge),Ge=null))),Mr(f),null;case 26:return m=f.memoizedState,u===null?(iu(f),m!==null?(Mr(f),xM(f,m)):(Mr(f),f.flags&=-16777217)):m?m!==u.memoizedState?(iu(f),Mr(f),xM(f,m)):(Mr(f),f.flags&=-16777217):(u.memoizedProps!==E&&iu(f),Mr(f),f.flags&=-16777217),null;case 27:He(f),m=$.current;var M=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==E&&iu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Mr(f),null}u=oe.current,mn(f)?Ut(f):(u=XM(M,E,m),f.stateNode=u,iu(f))}return Mr(f),null;case 5:if(He(f),m=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==E&&iu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Mr(f),null}if(u=oe.current,mn(f))Ut(f);else{switch(M=Av($.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof E.is=="string"?M.createElement("select",{is:E.is}):M.createElement("select"),E.multiple?u.multiple=!0:E.size&&(u.size=E.size);break;default:u=typeof E.is=="string"?M.createElement(m,{is:E.is}):M.createElement(m)}}u[it]=f,u[Ct]=E;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=u;e:switch(Ri(u,m,E),m){case"button":case"input":case"select":case"textarea":u=!!E.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&iu(f)}}return Mr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==E&&iu(f);else{if(typeof E!="string"&&f.stateNode===null)throw Error(r(166));if(u=$.current,mn(f)){if(u=f.stateNode,m=f.memoizedProps,E=null,M=q,M!==null)switch(M.tag){case 27:case 5:E=M.memoizedProps}u[it]=f,u=!!(u.nodeValue===m||E!==null&&E.suppressHydrationWarning===!0||GM(u.nodeValue,m)),u||St(f)}else u=Av(u).createTextNode(E),u[it]=f,f.stateNode=u}return Mr(f),null;case 13:if(E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=mn(f),E!==null&&E.dehydrated!==null){if(u===null){if(!M)throw Error(r(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[it]=f}else Jr(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Mr(f),M=!1}else Ge!==null&&(J1(Ge),Ge=null),M=!0;if(!M)return f.flags&256?(Zs(f),f):(Zs(f),null)}if(Zs(f),f.flags&128)return f.lanes=m,f;if(m=E!==null,u=u!==null&&u.memoizedState!==null,m){E=f.child,M=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(M=E.alternate.memoizedState.cachePool.pool);var j=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(j=E.memoizedState.cachePool.pool),j!==M&&(E.flags|=2048)}return m!==u&&m&&(f.child.flags|=8192),mv(f,f.updateQueue),Mr(f),null;case 4:return he(),u===null&&uS(f.stateNode.containerInfo),Mr(f),null;case 10:return eu(f.type),Mr(f),null;case 19:if(Ne(ci),M=f.memoizedState,M===null)return Mr(f),null;if(E=(f.flags&128)!==0,j=M.rendering,j===null)if(E)Fp(M,!1);else{if(Br!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=Xy(u),j!==null){for(f.flags|=128,Fp(M,!1),u=j.updateQueue,f.updateQueue=u,mv(f,u),f.subtreeFlags=0,u=m,m=f.child;m!==null;)bM(m,u),m=m.sibling;return Ye(ci,ci.current&1|2),f.child}u=u.sibling}M.tail!==null&&qt()>yv&&(f.flags|=128,E=!0,Fp(M,!1),f.lanes=4194304)}else{if(!E)if(u=Xy(j),u!==null){if(f.flags|=128,E=!0,u=u.updateQueue,f.updateQueue=u,mv(f,u),Fp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!j.alternate&&!ve)return Mr(f),null}else 2*qt()-M.renderingStartTime>yv&&m!==536870912&&(f.flags|=128,E=!0,Fp(M,!1),f.lanes=4194304);M.isBackwards?(j.sibling=f.child,f.child=j):(u=M.last,u!==null?u.sibling=j:f.child=j,M.last=j)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=qt(),f.sibling=null,u=ci.current,Ye(ci,E?u&1|2:u&1),f):(Mr(f),null);case 22:case 23:return Zs(f),Zb(),E=f.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(f.flags|=8192):E&&(f.flags|=8192),E?m&536870912&&!(f.flags&128)&&(Mr(f),f.subtreeFlags&6&&(f.flags|=8192)):Mr(f),m=f.updateQueue,m!==null&&mv(f,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==m&&(f.flags|=2048),u!==null&&Ne(wc),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),f.memoizedState.cache!==m&&(f.flags|=2048),eu(fi),Mr(f),null;case 25:return null}throw Error(r(156,f.tag))}function vW(u,f){switch(I(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return eu(fi),he(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 13:if(Zs(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Jr()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ne(ci),null;case 4:return he(),null;case 10:return eu(f.type),null;case 22:case 23:return Zs(f),Zb(),u!==null&&Ne(wc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return eu(fi),null;case 25:return null;default:return null}}function EM(u,f){switch(I(f),f.tag){case 3:eu(fi),he();break;case 26:case 27:case 5:He(f);break;case 4:he();break;case 13:Zs(f);break;case 19:Ne(ci);break;case 10:eu(f.type);break;case 22:case 23:Zs(f),Zb(),u!==null&&Ne(wc);break;case 24:eu(fi)}}var _W={getCacheForType:function(u){var f=zi(fi),m=f.data.get(u);return m===void 0&&(m=u(),f.data.set(u,m)),m}},wW=typeof WeakMap=="function"?WeakMap:Map,Dr=0,br=null,Mn=null,Bn=0,Sr=0,$a=null,au=!1,hd=!1,H1=!1,ou=0,Br=0,dl=0,Pc=0,V1=0,po=0,pd=0,jp=null,ls=null,K1=!1,G1=0,yv=1/0,vv=null,hl=null,_v=!1,Oc=null,$p=0,W1=0,Q1=null,Up=0,Z1=null;function Ua(){if(Dr&2&&Bn!==0)return Bn&-Bn;if(X.T!==null){var u=ad;return u!==0?u:iS()}return Ce()}function CM(){po===0&&(po=!(Bn&536870912)||ve?Le():536870912);var u=lo.current;return u!==null&&(u.flags|=32),po}function sa(u,f,m){(u===br&&Sr===2||u.cancelPendingCommit!==null)&&(gd(u,0),su(u,Bn,po,!1)),Et(u,m),(!(Dr&2)||u!==br)&&(u===br&&(!(Dr&2)&&(Pc|=m),Br===4&&su(u,Bn,po,!1)),cs(u))}function TM(u,f,m){if(Dr&6)throw Error(r(327));var E=!m&&(f&60)===0&&(f&u.expiredLanes)===0||In(u,f),M=E?xW(u,f):eS(u,f,!0),j=E;do{if(M===0){hd&&!E&&su(u,f,0,!1);break}else if(M===6)su(u,f,0,!au);else{if(m=u.current.alternate,j&&!bW(m)){M=eS(u,f,!1),j=!1;continue}if(M===2){if(j=f,u.errorRecoveryDisabledLanes&j)var fe=0;else fe=u.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){f=fe;e:{var Te=u;M=jp;var Ve=Te.current.memoizedState.isDehydrated;if(Ve&&(gd(Te,fe).flags|=256),fe=eS(Te,fe,!1),fe!==2){if(H1&&!Ve){Te.errorRecoveryDisabledLanes|=j,Pc|=j,M=4;break e}j=ls,ls=M,j!==null&&J1(j)}M=fe}if(j=!1,M!==2)continue}}if(M===1){gd(u,0),su(u,f,0,!0);break}e:{switch(E=u,M){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){su(E,f,po,!au);break e}break;case 2:ls=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=m,E.finishedLanes=f,(f&62914560)===f&&(j=G1+300-qt(),10<j)){if(su(E,f,po,!au),ln(E,0)!==0)break e;E.timeoutHandle=ZM(AM.bind(null,E,m,ls,vv,K1,f,po,Pc,pd,au,2,-0,0),j);break e}AM(E,m,ls,vv,K1,f,po,Pc,pd,au,0,-0,0)}}break}while(!0);cs(u)}function J1(u){ls===null?ls=u:ls.push.apply(ls,u)}function AM(u,f,m,E,M,j,fe,Te,Ve,at,wt,At,pt){var vt=f.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Kp={stylesheets:null,count:0,unsuspend:nQ},yM(f),f=iQ(),f!==null)){u.cancelPendingCommit=f(DM.bind(null,u,m,E,M,fe,Te,Ve,1,At,pt)),su(u,j,fe,!at);return}DM(u,m,E,M,fe,Te,Ve,wt,At,pt)}function bW(u){for(var f=u;;){var m=f.tag;if((m===0||m===11||m===15)&&f.flags&16384&&(m=f.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var E=0;E<m.length;E++){var M=m[E],j=M.getSnapshot;M=M.value;try{if(!ta(j(),M))return!1}catch{return!1}}if(m=f.child,f.subtreeFlags&16384&&m!==null)m.return=f,f=m;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function su(u,f,m,E){f&=~V1,f&=~Pc,u.suspendedLanes|=f,u.pingedLanes&=~f,E&&(u.warmLanes|=f),E=u.expirationTimes;for(var M=f;0<M;){var j=31-Ot(M),fe=1<<j;E[j]=-1,M&=~fe}m!==0&&Hn(u,m,f)}function wv(){return Dr&6?!0:(Bp(0),!1)}function Y1(){if(Mn!==null){if(Sr===0)var u=Mn.return;else u=Mn,Xs=Cc=null,i1(u),Ws=null,wr=0,u=Mn;for(;u!==null;)EM(u.alternate,u),u=u.return;Mn=null}}function gd(u,f){u.finishedWork=null,u.finishedLanes=0;var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,UW(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),Y1(),br=u,Mn=m=fl(u.current,null),Bn=f,Sr=0,$a=null,au=!1,hd=In(u,f),H1=!1,pd=po=V1=Pc=dl=Br=0,ls=jp=null,K1=!1,f&8&&(f|=f&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=f;0<E;){var M=31-Ot(E),j=1<<M;f|=u[M],E&=~j}return ou=f,wa(),m}function RM(u,f){Tn=null,X.H=us,f===vi?(f=Qy(),Sr=3):f===Ti?(f=Qy(),Sr=4):Sr=f===BI?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,$a=f,Mn===null&&(Br=1,cv(u,ia(f,u.current)))}function PM(){var u=X.H;return X.H=us,u===null?us:u}function OM(){var u=X.A;return X.A=_W,u}function X1(){Br=4,au||(Bn&4194176)!==Bn&&lo.current!==null||(hd=!0),!(dl&134217727)&&!(Pc&134217727)||br===null||su(br,Bn,po,!1)}function eS(u,f,m){var E=Dr;Dr|=2;var M=PM(),j=OM();(br!==u||Bn!==f)&&(vv=null,gd(u,f)),f=!1;var fe=Br;e:do try{if(Sr!==0&&Mn!==null){var Te=Mn,Ve=$a;switch(Sr){case 8:Y1(),fe=6;break e;case 3:case 2:case 6:lo.current===null&&(f=!0);var at=Sr;if(Sr=0,$a=null,md(u,Te,Ve,at),m&&hd){fe=0;break e}break;default:at=Sr,Sr=0,$a=null,md(u,Te,Ve,at)}}SW(),fe=Br;break}catch(wt){RM(u,wt)}while(!0);return f&&u.shellSuspendCounter++,Xs=Cc=null,Dr=E,X.H=M,X.A=j,Mn===null&&(br=null,Bn=0,wa()),fe}function SW(){for(;Mn!==null;)LM(Mn)}function xW(u,f){var m=Dr;Dr|=2;var E=PM(),M=OM();br!==u||Bn!==f?(vv=null,yv=qt()+500,gd(u,f)):hd=In(u,f);e:do try{if(Sr!==0&&Mn!==null){f=Mn;var j=$a;t:switch(Sr){case 1:Sr=0,$a=null,md(u,f,j,1);break;case 2:if(Gy(j)){Sr=0,$a=null,IM(f);break}f=function(){Sr===2&&br===u&&(Sr=7),cs(u)},j.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:Gy(j)?(Sr=0,$a=null,IM(f)):(Sr=0,$a=null,md(u,f,j,7));break;case 5:var fe=null;switch(Mn.tag){case 26:fe=Mn.memoizedState;case 5:case 27:var Te=Mn;if(!fe||sD(fe)){Sr=0,$a=null;var Ve=Te.sibling;if(Ve!==null)Mn=Ve;else{var at=Te.return;at!==null?(Mn=at,bv(at)):Mn=null}break t}}Sr=0,$a=null,md(u,f,j,5);break;case 6:Sr=0,$a=null,md(u,f,j,6);break;case 8:Y1(),Br=6;break e;default:throw Error(r(462))}}EW();break}catch(wt){RM(u,wt)}while(!0);return Xs=Cc=null,X.H=E,X.A=M,Dr=m,Mn!==null?0:(br=null,Bn=0,wa(),Br)}function EW(){for(;Mn!==null&&!nt();)LM(Mn)}function LM(u){var f=XI(u.alternate,u,ou);u.memoizedProps=u.pendingProps,f===null?bv(u):Mn=f}function IM(u){var f=u,m=f.alternate;switch(f.tag){case 15:case 0:f=GI(m,f,f.pendingProps,f.type,void 0,Bn);break;case 11:f=GI(m,f,f.pendingProps,f.type.render,f.ref,Bn);break;case 5:i1(f);default:EM(m,f),f=Mn=bM(f,ou),f=XI(m,f,ou)}u.memoizedProps=u.pendingProps,f===null?bv(u):Mn=f}function md(u,f,m,E){Xs=Cc=null,i1(f),Ws=null,wr=0;var M=f.return;try{if(dW(u,M,f,m,Bn)){Br=1,cv(u,ia(m,u.current)),Mn=null;return}}catch(j){if(M!==null)throw Mn=M,j;Br=1,cv(u,ia(m,u.current)),Mn=null;return}f.flags&32768?(ve||E===1?u=!0:hd||Bn&536870912?u=!1:(au=u=!0,(E===2||E===3||E===6)&&(E=lo.current,E!==null&&E.tag===13&&(E.flags|=16384))),MM(f,u)):bv(f)}function bv(u){var f=u;do{if(f.flags&32768){MM(f,au);return}u=f.return;var m=yW(f.alternate,f,ou);if(m!==null){Mn=m;return}if(f=f.sibling,f!==null){Mn=f;return}Mn=f=u}while(f!==null);Br===0&&(Br=5)}function MM(u,f){do{var m=vW(u.alternate,u);if(m!==null){m.flags&=32767,Mn=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!f&&(u=u.sibling,u!==null)){Mn=u;return}Mn=u=m}while(u!==null);Br=6,Mn=null}function DM(u,f,m,E,M,j,fe,Te,Ve,at){var wt=X.T,At=ee.p;try{ee.p=2,X.T=null,CW(u,f,m,E,At,M,j,fe,Te,Ve,at)}finally{X.T=wt,ee.p=At}}function CW(u,f,m,E,M,j,fe,Te){do yd();while(Oc!==null);if(Dr&6)throw Error(r(327));var Ve=u.finishedWork;if(E=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=bp,Mt(u,E,at,j,fe,Te),u===br&&(Mn=br=null,Bn=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||_v||(_v=!0,W1=at,Q1=m,PW(z,function(){return yd(),null})),m=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||m?(m=X.T,X.T=null,j=ee.p,ee.p=2,fe=Dr,Dr|=4,pW(u,Ve),pM(Ve,u),Yf(dS,u.containerInfo),Mv=!!fS,dS=fS=null,u.current=Ve,cM(u,Ve.alternate,Ve),gt(),Dr=fe,ee.p=j,X.T=m):u.current=Ve,_v?(_v=!1,Oc=u,$p=E):kM(u,at),at=u.pendingLanes,at===0&&(hl=null),It(Ve.stateNode),cs(u),f!==null)for(M=u.onRecoverableError,Ve=0;Ve<f.length;Ve++)at=f[Ve],M(at.value,{componentStack:at.stack});return $p&3&&yd(),at=u.pendingLanes,E&4194218&&at&42?u===Z1?Up++:(Up=0,Z1=u):Up=0,Bp(0),null}function kM(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,xp(f)))}function yd(){if(Oc!==null){var u=Oc,f=W1;W1=0;var m=We($p),E=X.T,M=ee.p;try{if(ee.p=32>m?32:m,X.T=null,Oc===null)var j=!1;else{m=Q1,Q1=null;var fe=Oc,Te=$p;if(Oc=null,$p=0,Dr&6)throw Error(r(331));var Ve=Dr;if(Dr|=4,_M(fe.current),mM(fe,fe.current,Te,m),Dr=Ve,Bp(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ke,fe)}catch{}j=!0}return j}finally{ee.p=M,X.T=E,kM(u,f)}}return!1}function NM(u,f,m){f=ia(m,f),f=v1(u.stateNode,f,2),u=sl(u,f,2),u!==null&&(Et(u,2),cs(u))}function vr(u,f,m){if(u.tag===3)NM(u,u,m);else for(;f!==null;){if(f.tag===3){NM(f,u,m);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(hl===null||!hl.has(E))){u=ia(m,u),m=$I(2),E=sl(f,m,2),E!==null&&(UI(m,E,f,u),Et(E,2),cs(E));break}}f=f.return}}function tS(u,f,m){var E=u.pingCache;if(E===null){E=u.pingCache=new wW;var M=new Set;E.set(f,M)}else M=E.get(f),M===void 0&&(M=new Set,E.set(f,M));M.has(m)||(H1=!0,M.add(m),u=TW.bind(null,u,f,m),f.then(u,u))}function TW(u,f,m){var E=u.pingCache;E!==null&&E.delete(f),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,br===u&&(Bn&m)===m&&(Br===4||Br===3&&(Bn&62914560)===Bn&&300>qt()-G1?!(Dr&2)&&gd(u,0):V1|=m,pd===Bn&&(pd=0)),cs(u)}function FM(u,f){f===0&&(f=qe()),u=ba(u,f),u!==null&&(Et(u,f),cs(u))}function AW(u){var f=u.memoizedState,m=0;f!==null&&(m=f.retryLane),FM(u,m)}function RW(u,f){var m=0;switch(u.tag){case 13:var E=u.stateNode,M=u.memoizedState;M!==null&&(m=M.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(f),FM(u,m)}function PW(u,f){return Fe(u,f)}var Sv=null,vd=null,nS=!1,xv=!1,rS=!1,Lc=0;function cs(u){u!==vd&&u.next===null&&(vd===null?Sv=vd=u:vd=vd.next=u),xv=!0,nS||(nS=!0,LW(OW))}function Bp(u,f){if(!rS&&xv){rS=!0;do for(var m=!1,E=Sv;E!==null;){if(u!==0){var M=E.pendingLanes;if(M===0)var j=0;else{var fe=E.suspendedLanes,Te=E.pingedLanes;j=(1<<31-Ot(42|u)+1)-1,j&=M&~(fe&~Te),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(m=!0,UM(E,j))}else j=Bn,j=ln(E,E===br?j:0),!(j&3)||In(E,j)||(m=!0,UM(E,j));E=E.next}while(m);rS=!1}}function OW(){xv=nS=!1;var u=0;Lc!==0&&($W()&&(u=Lc),Lc=0);for(var f=qt(),m=null,E=Sv;E!==null;){var M=E.next,j=jM(E,f);j===0?(E.next=null,m===null?Sv=M:m.next=M,M===null&&(vd=m)):(m=E,(u!==0||j&3)&&(xv=!0)),E=M}Bp(u)}function jM(u,f){for(var m=u.suspendedLanes,E=u.pingedLanes,M=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var fe=31-Ot(j),Te=1<<fe,Ve=M[fe];Ve===-1?(!(Te&m)||Te&E)&&(M[fe]=lr(Te,f)):Ve<=f&&(u.expiredLanes|=Te),j&=~Te}if(f=br,m=Bn,m=ln(u,u===f?m:0),E=u.callbackNode,m===0||u===f&&Sr===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&tt(E),u.callbackNode=null,u.callbackPriority=0;if(!(m&3)||In(u,m)){if(f=m&-m,f===u.callbackPriority)return f;switch(E!==null&&tt(E),We(m)){case 2:case 8:m=ne;break;case 32:m=z;break;case 268435456:m=G;break;default:m=z}return E=$M.bind(null,u),m=Fe(m,E),u.callbackPriority=f,u.callbackNode=m,f}return E!==null&&E!==null&&tt(E),u.callbackPriority=2,u.callbackNode=null,2}function $M(u,f){var m=u.callbackNode;if(yd()&&u.callbackNode!==m)return null;var E=Bn;return E=ln(u,u===br?E:0),E===0?null:(TM(u,E,f),jM(u,qt()),u.callbackNode!=null&&u.callbackNode===m?$M.bind(null,u):null)}function UM(u,f){if(yd())return null;TM(u,f,!0)}function LW(u){BW(function(){Dr&6?Fe(Be,u):u()})}function iS(){return Lc===0&&(Lc=Le()),Lc}function BM(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function qM(u,f){var m=f.ownerDocument.createElement("input");return m.name=f.name,m.value=f.value,u.id&&m.setAttribute("form",u.id),f.parentNode.insertBefore(m,f),u=new FormData(u),m.parentNode.removeChild(m),u}function IW(u,f,m,E,M){if(f==="submit"&&m&&m.stateNode===M){var j=BM((M[Ct]||null).action),fe=E.submitter;fe&&(f=(f=fe[Ct]||null)?BM(f.formAction):fe.getAttribute("formAction"),f!==null&&(j=f,fe=null));var Te=new ro("action","action",null,E,M);u.push({event:Te,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Lc!==0){var Ve=fe?qM(M,fe):new FormData(M);h1(m,{pending:!0,data:Ve,method:M.method,action:j},null,Ve)}}else typeof j=="function"&&(Te.preventDefault(),Ve=fe?qM(M,fe):new FormData(M),h1(m,{pending:!0,data:Ve,method:M.method,action:j},j,Ve))},currentTarget:M}]})}}for(var aS=0;aS<Vy.length;aS++){var oS=Vy[aS],MW=oS.toLowerCase(),DW=oS[0].toUpperCase()+oS.slice(1);yi(MW,"on"+DW)}yi(Na,"onAnimationEnd"),yi(gc,"onAnimationIteration"),yi(qy,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(Xf,"onTransitionRun"),yi(Wb,"onTransitionStart"),yi(zy,"onTransitionCancel"),yi(Hy,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qp));function zM(u,f){f=(f&4)!==0;for(var m=0;m<u.length;m++){var E=u[m],M=E.event;E=E.listeners;e:{var j=void 0;if(f)for(var fe=E.length-1;0<=fe;fe--){var Te=E[fe],Ve=Te.instance,at=Te.currentTarget;if(Te=Te.listener,Ve!==j&&M.isPropagationStopped())break e;j=Te,M.currentTarget=at;try{j(M)}catch(wt){lv(wt)}M.currentTarget=null,j=Ve}else for(fe=0;fe<E.length;fe++){if(Te=E[fe],Ve=Te.instance,at=Te.currentTarget,Te=Te.listener,Ve!==j&&M.isPropagationStopped())break e;j=Te,M.currentTarget=at;try{j(M)}catch(wt){lv(wt)}M.currentTarget=null,j=Ve}}}}function Fn(u,f){var m=f[Gt];m===void 0&&(m=f[Gt]=new Set);var E=u+"__bubble";m.has(E)||(HM(f,u,2,!1),m.add(E))}function sS(u,f,m){var E=0;f&&(E|=4),HM(m,u,E,f)}var Ev="_reactListening"+Math.random().toString(36).slice(2);function uS(u){if(!u[Ev]){u[Ev]=!0,Rr.forEach(function(m){m!=="selectionchange"&&(kW.has(m)||sS(m,!1,u),sS(m,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Ev]||(f[Ev]=!0,sS("selectionchange",!1,f))}}function HM(u,f,m,E){switch(hD(f)){case 2:var M=sQ;break;case 8:M=uQ;break;default:M=bS}m=M.bind(null,f,m,u),M=void 0,!mr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),E?M!==void 0?u.addEventListener(f,m,{capture:!0,passive:M}):u.addEventListener(f,m,!0):M!==void 0?u.addEventListener(f,m,{passive:M}):u.addEventListener(f,m,!1)}function lS(u,f,m,E,M){var j=E;if(!(f&1)&&!(f&2)&&E!==null)e:for(;;){if(E===null)return;var fe=E.tag;if(fe===3||fe===4){var Te=E.stateNode.containerInfo;if(Te===M||Te.nodeType===8&&Te.parentNode===M)break;if(fe===4)for(fe=E.return;fe!==null;){var Ve=fe.tag;if((Ve===3||Ve===4)&&(Ve=fe.stateNode.containerInfo,Ve===M||Ve.nodeType===8&&Ve.parentNode===M))return;fe=fe.return}for(;Te!==null;){if(fe=Wt(Te),fe===null)return;if(Ve=fe.tag,Ve===5||Ve===6||Ve===26||Ve===27){E=j=fe;continue e}Te=Te.parentNode}}E=E.return}pn(function(){var at=j,wt=zn(m),At=[];e:{var pt=Ju.get(u);if(pt!==void 0){var vt=ro,Jt=u;switch(u){case"keypress":if(ir(m)===0)break e;case"keydown":case"keyup":vt=Ub;break;case"focusin":Jt="focus",vt=ao;break;case"focusout":Jt="blur",vt=ao;break;case"beforeblur":case"afterblur":vt=ao;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=dr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=qb;break;case Na:case gc:case qy:vt=sc;break;case Hy:vt=zb;break;case"scroll":case"scrollend":vt=zu;break;case"wheel":vt=ky;break;case"copy":case"cut":case"paste":vt=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=fp;break;case"toggle":case"beforetoggle":vt=Fs}var yn=(f&4)!==0,qr=!yn&&(u==="scroll"||u==="scrollend"),ct=yn?pt!==null?pt+"Capture":null:pt;yn=[];for(var rt=at,ht;rt!==null;){var xt=rt;if(ht=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||ht===null||ct===null||(xt=Yn(rt,ct),xt!=null&&yn.push(zp(rt,xt,ht))),qr)break;rt=rt.return}0<yn.length&&(pt=new vt(pt,Jt,null,m,wt),At.push({event:pt,listeners:yn}))}}if(!(f&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&m!==Vt&&(Jt=m.relatedTarget||m.fromElement)&&(Wt(Jt)||Jt[Dt]))break e;if((vt||pt)&&(pt=wt.window===wt?wt:(pt=wt.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Jt=m.relatedTarget||m.toElement,vt=at,Jt=Jt?Wt(Jt):null,Jt!==null&&(qr=ue(Jt),yn=Jt.tag,Jt!==qr||yn!==5&&yn!==27&&yn!==6)&&(Jt=null)):(vt=null,Jt=at),vt!==Jt)){if(yn=qi,xt="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(yn=fp,xt="onPointerLeave",ct="onPointerEnter",rt="pointer"),qr=vt==null?pt:En(vt),ht=Jt==null?pt:En(Jt),pt=new yn(xt,rt+"leave",vt,m,wt),pt.target=qr,pt.relatedTarget=ht,xt=null,Wt(wt)===at&&(yn=new yn(ct,rt+"enter",Jt,m,wt),yn.target=ht,yn.relatedTarget=qr,xt=yn),qr=xt,vt&&Jt)t:{for(yn=vt,ct=Jt,rt=0,ht=yn;ht;ht=_d(ht))rt++;for(ht=0,xt=ct;xt;xt=_d(xt))ht++;for(;0<rt-ht;)yn=_d(yn),rt--;for(;0<ht-rt;)ct=_d(ct),ht--;for(;rt--;){if(yn===ct||ct!==null&&yn===ct.alternate)break t;yn=_d(yn),ct=_d(ct)}yn=null}else yn=null;vt!==null&&VM(At,pt,vt,yn,!1),Jt!==null&&qr!==null&&VM(At,qr,Jt,yn,!0)}}e:{if(pt=at?En(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Kt=Ku;else if($s(pt))if(pp)Kt=Gb;else{Kt=Kb;var On=mp}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&$t(at.elementType)&&(Kt=Ku):Kt=Oo;if(Kt&&(Kt=Kt(u,at))){Uy(At,Kt,m,wt);break e}On&&On(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(On=at?En(at):window,u){case"focusin":($s(On)||On.contentEditable==="true")&&(Lo=On,hc=at,Zu=null);break;case"focusout":Zu=hc=Lo=null;break;case"mousedown":vp=!0;break;case"contextmenu":case"mouseup":case"dragend":vp=!1,pc(At,m,wt);break;case"selectionchange":if(Qu)break;case"keydown":case"keyup":pc(At,m,wt)}var en;if(js)e:{switch(u){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else Hu?Qf(u,m)&&(on="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(on="onCompositionStart");on&&(hp&&m.locale!=="ko"&&(Hu||on!=="onCompositionStart"?on==="onCompositionEnd"&&Hu&&(en=va()):(cr=wt,Ci="value"in cr?cr.value:cr.textContent,Hu=!0)),On=Cv(at,on),0<On.length&&(on=new Xi(on,u,null,m,wt),At.push({event:on,listeners:On}),en?on.data=en:(en=jy(m),en!==null&&(on.data=en)))),(en=Ny?$y(u,m):Vb(u,m))&&(on=Cv(at,"onBeforeInput"),0<on.length&&(On=new Xi("onBeforeInput","beforeinput",null,m,wt),At.push({event:On,listeners:on}),On.data=en)),IW(At,u,at,m,wt)}zM(At,f)})}function zp(u,f,m){return{instance:u,listener:f,currentTarget:m}}function Cv(u,f){for(var m=f+"Capture",E=[];u!==null;){var M=u,j=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||j===null||(M=Yn(u,m),M!=null&&E.unshift(zp(u,M,j)),M=Yn(u,f),M!=null&&E.push(zp(u,M,j))),u=u.return}return E}function _d(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function VM(u,f,m,E,M){for(var j=f._reactName,fe=[];m!==null&&m!==E;){var Te=m,Ve=Te.alternate,at=Te.stateNode;if(Te=Te.tag,Ve!==null&&Ve===E)break;Te!==5&&Te!==26&&Te!==27||at===null||(Ve=at,M?(at=Yn(m,j),at!=null&&fe.unshift(zp(m,at,Ve))):M||(at=Yn(m,j),at!=null&&fe.push(zp(m,at,Ve)))),m=m.return}fe.length!==0&&u.push({event:f,listeners:fe})}var NW=/\r\n?/g,FW=/\u0000|\uFFFD/g;function KM(u){return(typeof u=="string"?u:""+u).replace(NW,`
`).replace(FW,"")}function GM(u,f){return f=KM(f),KM(u)===f}function Tv(){}function pr(u,f,m,E,M,j){switch(m){case"children":typeof E=="string"?f==="body"||f==="textarea"&&E===""||Ue(u,E):(typeof E=="number"||typeof E=="bigint")&&f!=="body"&&Ue(u,""+E);break;case"className":N(u,"class",E);break;case"tabIndex":N(u,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,m,E);break;case"style":mt(u,E,j);break;case"data":if(f!=="object"){N(u,"data",E);break}case"src":case"href":if(E===""&&(f!=="a"||m!=="href")){u.removeAttribute(m);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(m);break}E=Ft(""+E),u.setAttribute(m,E);break;case"action":case"formAction":if(typeof E=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(m==="formAction"?(f!=="input"&&pr(u,f,"name",M.name,M,null),pr(u,f,"formEncType",M.formEncType,M,null),pr(u,f,"formMethod",M.formMethod,M,null),pr(u,f,"formTarget",M.formTarget,M,null)):(pr(u,f,"encType",M.encType,M,null),pr(u,f,"method",M.method,M,null),pr(u,f,"target",M.target,M,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(m);break}E=Ft(""+E),u.setAttribute(m,E);break;case"onClick":E!=null&&(u.onclick=Tv);break;case"onScroll":E!=null&&Fn("scroll",u);break;case"onScrollEnd":E!=null&&Fn("scrollend",u);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(m=E.__html,m!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":u.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){u.removeAttribute("xlink:href");break}m=Ft(""+E),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(m,""+E):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":E===!0?u.setAttribute(m,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(m,E):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?u.setAttribute(m,E):u.removeAttribute(m);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?u.removeAttribute(m):u.setAttribute(m,E);break;case"popover":Fn("beforetoggle",u),Fn("toggle",u),R(u,"popover",E);break;case"xlinkActuate":J(u,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":J(u,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":J(u,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":J(u,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":J(u,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":J(u,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":J(u,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":J(u,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":J(u,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":R(u,"is",E);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Tt.get(m)||m,R(u,m,E))}}function cS(u,f,m,E,M,j){switch(m){case"style":mt(u,E,j);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(m=E.__html,m!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof E=="string"?Ue(u,E):(typeof E=="number"||typeof E=="bigint")&&Ue(u,""+E);break;case"onScroll":E!=null&&Fn("scroll",u);break;case"onScrollEnd":E!=null&&Fn("scrollend",u);break;case"onClick":E!=null&&(u.onclick=Tv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qr.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(M=m.endsWith("Capture"),f=m.slice(2,M?m.length-7:void 0),j=u[Ct]||null,j=j!=null?j[m]:null,typeof j=="function"&&u.removeEventListener(f,j,M),typeof E=="function")){typeof j!="function"&&j!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(f,E,M);break e}m in u?u[m]=E:E===!0?u.setAttribute(m,""):R(u,m,E)}}}function Ri(u,f,m){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fn("error",u),Fn("load",u);var E=!1,M=!1,j;for(j in m)if(m.hasOwnProperty(j)){var fe=m[j];if(fe!=null)switch(j){case"src":E=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:pr(u,f,j,fe,m,null)}}M&&pr(u,f,"srcSet",m.srcSet,m,null),E&&pr(u,f,"src",m.src,m,null);return;case"input":Fn("invalid",u);var Te=j=fe=M=null,Ve=null,at=null;for(E in m)if(m.hasOwnProperty(E)){var wt=m[E];if(wt!=null)switch(E){case"name":M=wt;break;case"type":fe=wt;break;case"checked":Ve=wt;break;case"defaultChecked":at=wt;break;case"value":j=wt;break;case"defaultValue":Te=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(r(137,f));break;default:pr(u,f,E,wt,m,null)}}ot(u,j,Te,Ve,at,fe,M,!1),xe(u);return;case"select":Fn("invalid",u),E=fe=j=null;for(M in m)if(m.hasOwnProperty(M)&&(Te=m[M],Te!=null))switch(M){case"value":j=Te;break;case"defaultValue":fe=Te;break;case"multiple":E=Te;default:pr(u,f,M,Te,m,null)}f=j,m=fe,u.multiple=!!E,f!=null?ut(u,!!E,f,!1):m!=null&&ut(u,!!E,m,!0);return;case"textarea":Fn("invalid",u),j=M=E=null;for(fe in m)if(m.hasOwnProperty(fe)&&(Te=m[fe],Te!=null))switch(fe){case"value":E=Te;break;case"defaultValue":M=Te;break;case"children":j=Te;break;case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(91));break;default:pr(u,f,fe,Te,m,null)}De(u,E,M,j),xe(u);return;case"option":for(Ve in m)if(m.hasOwnProperty(Ve)&&(E=m[Ve],E!=null))switch(Ve){case"selected":u.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:pr(u,f,Ve,E,m,null)}return;case"dialog":Fn("cancel",u),Fn("close",u);break;case"iframe":case"object":Fn("load",u);break;case"video":case"audio":for(E=0;E<qp.length;E++)Fn(qp[E],u);break;case"image":Fn("error",u),Fn("load",u);break;case"details":Fn("toggle",u);break;case"embed":case"source":case"link":Fn("error",u),Fn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in m)if(m.hasOwnProperty(at)&&(E=m[at],E!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:pr(u,f,at,E,m,null)}return;default:if($t(f)){for(wt in m)m.hasOwnProperty(wt)&&(E=m[wt],E!==void 0&&cS(u,f,wt,E,m,void 0));return}}for(Te in m)m.hasOwnProperty(Te)&&(E=m[Te],E!=null&&pr(u,f,Te,E,m,null))}function jW(u,f,m,E){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,j=null,fe=null,Te=null,Ve=null,at=null,wt=null;for(vt in m){var At=m[vt];if(m.hasOwnProperty(vt)&&At!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=At;default:E.hasOwnProperty(vt)||pr(u,f,vt,null,E,At)}}for(var pt in E){var vt=E[pt];if(At=m[pt],E.hasOwnProperty(pt)&&(vt!=null||At!=null))switch(pt){case"type":j=vt;break;case"name":M=vt;break;case"checked":at=vt;break;case"defaultChecked":wt=vt;break;case"value":fe=vt;break;case"defaultValue":Te=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,f));break;default:vt!==At&&pr(u,f,pt,vt,E,At)}}Xe(u,fe,Te,Ve,at,wt,j,M);return;case"select":vt=fe=Te=pt=null;for(j in m)if(Ve=m[j],m.hasOwnProperty(j)&&Ve!=null)switch(j){case"value":break;case"multiple":vt=Ve;default:E.hasOwnProperty(j)||pr(u,f,j,null,E,Ve)}for(M in E)if(j=E[M],Ve=m[M],E.hasOwnProperty(M)&&(j!=null||Ve!=null))switch(M){case"value":pt=j;break;case"defaultValue":Te=j;break;case"multiple":fe=j;default:j!==Ve&&pr(u,f,M,j,E,Ve)}f=Te,m=fe,E=vt,pt!=null?ut(u,!!m,pt,!1):!!E!=!!m&&(f!=null?ut(u,!!m,f,!0):ut(u,!!m,m?[]:"",!1));return;case"textarea":vt=pt=null;for(Te in m)if(M=m[Te],m.hasOwnProperty(Te)&&M!=null&&!E.hasOwnProperty(Te))switch(Te){case"value":break;case"children":break;default:pr(u,f,Te,null,E,M)}for(fe in E)if(M=E[fe],j=m[fe],E.hasOwnProperty(fe)&&(M!=null||j!=null))switch(fe){case"value":pt=M;break;case"defaultValue":vt=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==j&&pr(u,f,fe,M,E,j)}be(u,pt,vt);return;case"option":for(var Jt in m)if(pt=m[Jt],m.hasOwnProperty(Jt)&&pt!=null&&!E.hasOwnProperty(Jt))switch(Jt){case"selected":u.selected=!1;break;default:pr(u,f,Jt,null,E,pt)}for(Ve in E)if(pt=E[Ve],vt=m[Ve],E.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:pr(u,f,Ve,pt,E,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in m)pt=m[yn],m.hasOwnProperty(yn)&&pt!=null&&!E.hasOwnProperty(yn)&&pr(u,f,yn,null,E,pt);for(at in E)if(pt=E[at],vt=m[at],E.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,f));break;default:pr(u,f,at,pt,E,vt)}return;default:if($t(f)){for(var qr in m)pt=m[qr],m.hasOwnProperty(qr)&&pt!==void 0&&!E.hasOwnProperty(qr)&&cS(u,f,qr,void 0,E,pt);for(wt in E)pt=E[wt],vt=m[wt],!E.hasOwnProperty(wt)||pt===vt||pt===void 0&&vt===void 0||cS(u,f,wt,pt,E,vt);return}}for(var ct in m)pt=m[ct],m.hasOwnProperty(ct)&&pt!=null&&!E.hasOwnProperty(ct)&&pr(u,f,ct,null,E,pt);for(At in E)pt=E[At],vt=m[At],!E.hasOwnProperty(At)||pt===vt||pt==null&&vt==null||pr(u,f,At,pt,E,vt)}var fS=null,dS=null;function Av(u){return u.nodeType===9?u:u.ownerDocument}function WM(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QM(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function hS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var pS=null;function $W(){var u=window.event;return u&&u.type==="popstate"?u===pS?!1:(pS=u,!0):(pS=null,!1)}var ZM=typeof setTimeout=="function"?setTimeout:void 0,UW=typeof clearTimeout=="function"?clearTimeout:void 0,JM=typeof Promise=="function"?Promise:void 0,BW=typeof queueMicrotask=="function"?queueMicrotask:typeof JM<"u"?function(u){return JM.resolve(null).then(u).catch(qW)}:ZM;function qW(u){setTimeout(function(){throw u})}function gS(u,f){var m=f,E=0;do{var M=m.nextSibling;if(u.removeChild(m),M&&M.nodeType===8)if(m=M.data,m==="/$"){if(E===0){u.removeChild(M),Jp(f);return}E--}else m!=="$"&&m!=="$?"&&m!=="$!"||E++;m=M}while(m);Jp(f)}function mS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var m=f;switch(f=f.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":mS(m),Pn(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function zW(u,f,m,E){for(;u.nodeType===1;){var M=m;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!E&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(E){if(!u[tn])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==M.rel||u.getAttribute("href")!==(M.href==null?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var j=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=Mo(u.nextSibling),u===null)break}return null}function HW(u,f,m){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=Mo(u.nextSibling),u===null))return null;return u}function Mo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function YM(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"){if(f===0)return u;f--}else m==="/$"&&f++}u=u.previousSibling}return null}function XM(u,f,m){switch(f=Av(m),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var go=new Map,eD=new Set;function Rv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var uu=ee.d;ee.d={f:VW,r:KW,D:GW,C:WW,L:QW,m:ZW,X:YW,S:JW,M:XW};function VW(){var u=uu.f(),f=wv();return u||f}function KW(u){var f=Zt(u);f!==null&&f.tag===5&&f.type==="form"?AI(f):uu.r(u)}var wd=typeof document>"u"?null:document;function tD(u,f,m){var E=wd;if(E&&typeof f=="string"&&f){var M=ze(f);M='link[rel="'+u+'"][href="'+M+'"]',typeof m=="string"&&(M+='[crossorigin="'+m+'"]'),eD.has(M)||(eD.add(M),u={rel:u,crossOrigin:m,href:f},E.querySelector(M)===null&&(f=E.createElement("link"),Ri(f,"link",u),qn(f),E.head.appendChild(f)))}}function GW(u){uu.D(u),tD("dns-prefetch",u,null)}function WW(u,f){uu.C(u,f),tD("preconnect",u,f)}function QW(u,f,m){uu.L(u,f,m);var E=wd;if(E&&u&&f){var M='link[rel="preload"][as="'+ze(f)+'"]';f==="image"&&m&&m.imageSrcSet?(M+='[imagesrcset="'+ze(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(M+='[imagesizes="'+ze(m.imageSizes)+'"]')):M+='[href="'+ze(u)+'"]';var j=M;switch(f){case"style":j=bd(u);break;case"script":j=Sd(u)}go.has(j)||(u=U({rel:"preload",href:f==="image"&&m&&m.imageSrcSet?void 0:u,as:f},m),go.set(j,u),E.querySelector(M)!==null||f==="style"&&E.querySelector(Hp(j))||f==="script"&&E.querySelector(Vp(j))||(f=E.createElement("link"),Ri(f,"link",u),qn(f),E.head.appendChild(f)))}}function ZW(u,f){uu.m(u,f);var m=wd;if(m&&u){var E=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+ze(E)+'"][href="'+ze(u)+'"]',j=M;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Sd(u)}if(!go.has(j)&&(u=U({rel:"modulepreload",href:u},f),go.set(j,u),m.querySelector(M)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Vp(j)))return}E=m.createElement("link"),Ri(E,"link",u),qn(E),m.head.appendChild(E)}}}function JW(u,f,m){uu.S(u,f,m);var E=wd;if(E&&u){var M=Cn(E).hoistableStyles,j=bd(u);f=f||"default";var fe=M.get(j);if(!fe){var Te={loading:0,preload:null};if(fe=E.querySelector(Hp(j)))Te.loading=5;else{u=U({rel:"stylesheet",href:u,"data-precedence":f},m),(m=go.get(j))&&yS(u,m);var Ve=fe=E.createElement("link");qn(Ve),Ri(Ve,"link",u),Ve._p=new Promise(function(at,wt){Ve.onload=at,Ve.onerror=wt}),Ve.addEventListener("load",function(){Te.loading|=1}),Ve.addEventListener("error",function(){Te.loading|=2}),Te.loading|=4,Pv(fe,f,E)}fe={type:"stylesheet",instance:fe,count:1,state:Te},M.set(j,fe)}}}function YW(u,f){uu.X(u,f);var m=wd;if(m&&u){var E=Cn(m).hoistableScripts,M=Sd(u),j=E.get(M);j||(j=m.querySelector(Vp(M)),j||(u=U({src:u,async:!0},f),(f=go.get(M))&&vS(u,f),j=m.createElement("script"),qn(j),Ri(j,"link",u),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function XW(u,f){uu.M(u,f);var m=wd;if(m&&u){var E=Cn(m).hoistableScripts,M=Sd(u),j=E.get(M);j||(j=m.querySelector(Vp(M)),j||(u=U({src:u,async:!0,type:"module"},f),(f=go.get(M))&&vS(u,f),j=m.createElement("script"),qn(j),Ri(j,"link",u),m.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function nD(u,f,m,E){var M=(M=$.current)?Rv(M):null;if(!M)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(f=bd(m.href),m=Cn(M).hoistableStyles,E=m.get(f),E||(E={type:"style",instance:null,count:0,state:null},m.set(f,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=bd(m.href);var j=Cn(M).hoistableStyles,fe=j.get(u);if(fe||(M=M.ownerDocument||M,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,fe),(j=M.querySelector(Hp(u)))&&!j._p&&(fe.instance=j,fe.state.loading=5),go.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},go.set(u,m),j||eQ(M,u,m,fe.state))),f&&E===null)throw Error(r(528,""));return fe}if(f&&E!==null)throw Error(r(529,""));return null;case"script":return f=m.async,m=m.src,typeof m=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Sd(m),m=Cn(M).hoistableScripts,E=m.get(f),E||(E={type:"script",instance:null,count:0,state:null},m.set(f,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function bd(u){return'href="'+ze(u)+'"'}function Hp(u){return'link[rel="stylesheet"]['+u+"]"}function rD(u){return U({},u,{"data-precedence":u.precedence,precedence:null})}function eQ(u,f,m,E){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?E.loading=1:(f=u.createElement("link"),E.preload=f,f.addEventListener("load",function(){return E.loading|=1}),f.addEventListener("error",function(){return E.loading|=2}),Ri(f,"link",m),qn(f),u.head.appendChild(f))}function Sd(u){return'[src="'+ze(u)+'"]'}function Vp(u){return"script[async]"+u}function iD(u,f,m){if(f.count++,f.instance===null)switch(f.type){case"style":var E=u.querySelector('style[data-href~="'+ze(m.href)+'"]');if(E)return f.instance=E,qn(E),E;var M=U({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return E=(u.ownerDocument||u).createElement("style"),qn(E),Ri(E,"style",M),Pv(E,m.precedence,u),f.instance=E;case"stylesheet":M=bd(m.href);var j=u.querySelector(Hp(M));if(j)return f.state.loading|=4,f.instance=j,qn(j),j;E=rD(m),(M=go.get(M))&&yS(E,M),j=(u.ownerDocument||u).createElement("link"),qn(j);var fe=j;return fe._p=new Promise(function(Te,Ve){fe.onload=Te,fe.onerror=Ve}),Ri(j,"link",E),f.state.loading|=4,Pv(j,m.precedence,u),f.instance=j;case"script":return j=Sd(m.src),(M=u.querySelector(Vp(j)))?(f.instance=M,qn(M),M):(E=m,(M=go.get(j))&&(E=U({},m),vS(E,M)),u=u.ownerDocument||u,M=u.createElement("script"),qn(M),Ri(M,"link",E),u.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(E=f.instance,f.state.loading|=4,Pv(E,m.precedence,u));return f.instance}function Pv(u,f,m){for(var E=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=E.length?E[E.length-1]:null,j=M,fe=0;fe<E.length;fe++){var Te=E[fe];if(Te.dataset.precedence===f)j=Te;else if(j!==M)break}j?j.parentNode.insertBefore(u,j.nextSibling):(f=m.nodeType===9?m.head:m,f.insertBefore(u,f.firstChild))}function yS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function vS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Ov=null;function aD(u,f,m){if(Ov===null){var E=new Map,M=Ov=new Map;M.set(m,E)}else M=Ov,E=M.get(m),E||(E=new Map,M.set(m,E));if(E.has(u))return E;for(E.set(u,null),m=m.getElementsByTagName(u),M=0;M<m.length;M++){var j=m[M];if(!(j[tn]||j[it]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=j.getAttribute(f)||"";fe=u+fe;var Te=E.get(fe);Te?Te.push(j):E.set(fe,[j])}}return E}function oD(u,f,m){u=u.ownerDocument||u,u.head.insertBefore(m,f==="title"?u.querySelector("head > title"):null)}function tQ(u,f,m){if(m===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function sD(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Kp=null;function nQ(){}function rQ(u,f,m){if(Kp===null)throw Error(r(475));var E=Kp;if(f.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var M=bd(m.href),j=u.querySelector(Hp(M));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(E.count++,E=Lv.bind(E),u.then(E,E)),f.state.loading|=4,f.instance=j,qn(j);return}j=u.ownerDocument||u,m=rD(m),(M=go.get(M))&&yS(m,M),j=j.createElement("link"),qn(j);var fe=j;fe._p=new Promise(function(Te,Ve){fe.onload=Te,fe.onerror=Ve}),Ri(j,"link",m),f.instance=j}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(f,u),(u=f.state.preload)&&!(f.state.loading&3)&&(E.count++,f=Lv.bind(E),u.addEventListener("load",f),u.addEventListener("error",f))}}function iQ(){if(Kp===null)throw Error(r(475));var u=Kp;return u.stylesheets&&u.count===0&&_S(u,u.stylesheets),0<u.count?function(f){var m=setTimeout(function(){if(u.stylesheets&&_S(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(m)}}:null}function Lv(){if(this.count--,this.count===0){if(this.stylesheets)_S(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Iv=null;function _S(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Iv=new Map,f.forEach(aQ,u),Iv=null,Lv.call(u))}function aQ(u,f){if(!(f.state.loading&4)){var m=Iv.get(u);if(m)var E=m.get(null);else{m=new Map,Iv.set(u,m);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<M.length;j++){var fe=M[j];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(m.set(fe.dataset.precedence,fe),E=fe)}E&&m.set(null,E)}M=f.instance,fe=M.getAttribute("data-precedence"),j=m.get(fe)||E,j===E&&m.set(null,M),m.set(fe,M),this.count++,E=Lv.bind(this),M.addEventListener("load",E),M.addEventListener("error",E),j?j.parentNode.insertBefore(M,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),f.state.loading|=4}}var Gp={$$typeof:y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function oQ(u,f,m,E,M,j,fe,Te){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=E,this.onUncaughtError=M,this.onCaughtError=j,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function uD(u,f,m,E,M,j,fe,Te,Ve,at,wt,At){return u=new oQ(u,f,m,fe,Te,Ve,at,At),f=1,j===!0&&(f|=24),j=ho(3,null,null,f),u.current=j,j.stateNode=u,f=Jb(),f.refCount++,u.pooledCache=f,f.refCount++,j.memoizedState={element:E,isDehydrated:m,cache:f},L1(j),u}function lD(u){return u?(u=oo,u):oo}function cD(u,f,m,E,M,j){M=lD(M),E.context===null?E.context=M:E.pendingContext=M,E=ol(f),E.payload={element:m},j=j===void 0?null:j,j!==null&&(E.callback=j),m=sl(u,E,f),m!==null&&(sa(m,u,f),Op(m,u,f))}function fD(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<f?m:f}}function wS(u,f){fD(u,f),(u=u.alternate)&&fD(u,f)}function dD(u){if(u.tag===13){var f=ba(u,67108864);f!==null&&sa(f,u,67108864),wS(u,67108864)}}var Mv=!0;function sQ(u,f,m,E){var M=X.T;X.T=null;var j=ee.p;try{ee.p=2,bS(u,f,m,E)}finally{ee.p=j,X.T=M}}function uQ(u,f,m,E){var M=X.T;X.T=null;var j=ee.p;try{ee.p=8,bS(u,f,m,E)}finally{ee.p=j,X.T=M}}function bS(u,f,m,E){if(Mv){var M=SS(E);if(M===null)lS(u,f,E,Dv,m),pD(u,E);else if(cQ(M,u,f,m,E))E.stopPropagation();else if(pD(u,E),f&4&&-1<lQ.indexOf(u)){for(;M!==null;){var j=Zt(M);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var fe=un(j.pendingLanes);if(fe!==0){var Te=j;for(Te.pendingLanes|=2,Te.entangledLanes|=2;fe;){var Ve=1<<31-Ot(fe);Te.entanglements[1]|=Ve,fe&=~Ve}cs(j),!(Dr&6)&&(yv=qt()+500,Bp(0))}}break;case 13:Te=ba(j,2),Te!==null&&sa(Te,j,2),wv(),wS(j,2)}if(j=SS(E),j===null&&lS(u,f,E,Dv,m),j===M)break;M=j}M!==null&&E.stopPropagation()}else lS(u,f,E,null,m)}}function SS(u){return u=zn(u),xS(u)}var Dv=null;function xS(u){if(Dv=null,u=Wt(u),u!==null){var f=ue(u);if(f===null)u=null;else{var m=f.tag;if(m===13){if(u=Re(f),u!==null)return u;u=null}else if(m===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Dv=u,null}function hD(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case ne:return 8;case z:case W:return 32;case G:return 268435456;default:return 32}default:return 32}}var ES=!1,pl=null,gl=null,ml=null,Wp=new Map,Qp=new Map,yl=[],lQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pD(u,f){switch(u){case"focusin":case"focusout":pl=null;break;case"dragenter":case"dragleave":gl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Wp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qp.delete(f.pointerId)}}function Zp(u,f,m,E,M,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:m,eventSystemFlags:E,nativeEvent:j,targetContainers:[M]},f!==null&&(f=Zt(f),f!==null&&dD(f)),u):(u.eventSystemFlags|=E,f=u.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),u)}function cQ(u,f,m,E,M){switch(f){case"focusin":return pl=Zp(pl,u,f,m,E,M),!0;case"dragenter":return gl=Zp(gl,u,f,m,E,M),!0;case"mouseover":return ml=Zp(ml,u,f,m,E,M),!0;case"pointerover":var j=M.pointerId;return Wp.set(j,Zp(Wp.get(j)||null,u,f,m,E,M)),!0;case"gotpointercapture":return j=M.pointerId,Qp.set(j,Zp(Qp.get(j)||null,u,f,m,E,M)),!0}return!1}function gD(u){var f=Wt(u.target);if(f!==null){var m=ue(f);if(m!==null){if(f=m.tag,f===13){if(f=Re(m),f!==null){u.blockedOn=f,et(u.priority,function(){if(m.tag===13){var E=Ua(),M=ba(m,E);M!==null&&sa(M,m,E),wS(m,E)}});return}}else if(f===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function kv(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var m=SS(u.nativeEvent);if(m===null){m=u.nativeEvent;var E=new m.constructor(m.type,m);Vt=E,m.target.dispatchEvent(E),Vt=null}else return f=Zt(m),f!==null&&dD(f),u.blockedOn=m,!1;f.shift()}return!0}function mD(u,f,m){kv(u)&&m.delete(f)}function fQ(){ES=!1,pl!==null&&kv(pl)&&(pl=null),gl!==null&&kv(gl)&&(gl=null),ml!==null&&kv(ml)&&(ml=null),Wp.forEach(mD),Qp.forEach(mD)}function Nv(u,f){u.blockedOn===f&&(u.blockedOn=null,ES||(ES=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fQ)))}var Fv=null;function yD(u){Fv!==u&&(Fv=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Fv===u&&(Fv=null);for(var f=0;f<u.length;f+=3){var m=u[f],E=u[f+1],M=u[f+2];if(typeof E!="function"){if(xS(E||m)===null)continue;break}var j=Zt(m);j!==null&&(u.splice(f,3),f-=3,h1(j,{pending:!0,data:M,method:m.method,action:E},E,M))}}))}function Jp(u){function f(Ve){return Nv(Ve,u)}pl!==null&&Nv(pl,u),gl!==null&&Nv(gl,u),ml!==null&&Nv(ml,u),Wp.forEach(f),Qp.forEach(f);for(var m=0;m<yl.length;m++){var E=yl[m];E.blockedOn===u&&(E.blockedOn=null)}for(;0<yl.length&&(m=yl[0],m.blockedOn===null);)gD(m),m.blockedOn===null&&yl.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(E=0;E<m.length;E+=3){var M=m[E],j=m[E+1],fe=M[Ct]||null;if(typeof j=="function")fe||yD(m);else if(fe){var Te=null;if(j&&j.hasAttribute("formAction")){if(M=j,fe=j[Ct]||null)Te=fe.formAction;else if(xS(M)!==null)continue}else Te=fe.action;typeof Te=="function"?m[E+1]=Te:(m.splice(E,3),E-=3),yD(m)}}}function CS(u){this._internalRoot=u}jv.prototype.render=CS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var m=f.current,E=Ua();cD(m,E,u,f,null,null)},jv.prototype.unmount=CS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&yd(),cD(u.current,2,null,u,null,null),wv(),f[Dt]=null}};function jv(u){this._internalRoot=u}jv.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ce();u={blockedOn:null,target:u,priority:f};for(var m=0;m<yl.length&&f!==0&&f<yl[m].priority;m++);yl.splice(m,0,u),m===0&&gD(u)}};var vD=t.version;if(vD!=="19.0.0")throw Error(r(527,vD,"19.0.0"));ee.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ie(f),u=u!==null?me(u):null,u=u===null?null:u.stateNode,u};var dQ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:Wt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$v.isDisabled&&$v.supportsFiber)try{ke=$v.inject(dQ),Rt=$v}catch{}}return Xp.createRoot=function(u,f){if(!i(u))throw Error(r(299));var m=!1,E="",M=kI,j=NI,fe=FI,Te=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(fe=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Te=f.unstable_transitionCallbacks)),f=uD(u,1,!1,null,null,m,E,M,j,fe,Te,null),u[Dt]=f.current,uS(u.nodeType===8?u.parentNode:u),new CS(f)},Xp.hydrateRoot=function(u,f,m){if(!i(u))throw Error(r(299));var E=!1,M="",j=kI,fe=NI,Te=FI,Ve=null,at=null;return m!=null&&(m.unstable_strictMode===!0&&(E=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onUncaughtError!==void 0&&(j=m.onUncaughtError),m.onCaughtError!==void 0&&(fe=m.onCaughtError),m.onRecoverableError!==void 0&&(Te=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(Ve=m.unstable_transitionCallbacks),m.formState!==void 0&&(at=m.formState)),f=uD(u,1,!0,f,m??null,E,M,j,fe,Te,Ve,at),f.context=lD(null),m=f.current,E=Ua(),M=ol(E),M.callback=null,sl(m,M,E),f.current.lanes=E,Et(f,E),cs(f),u[Dt]=f.current,uS(u),new jv(f)},Xp.version="19.0.0",Xp}var jD;function WQ(){if(jD)return LS.exports;jD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),LS.exports=GQ(),LS.exports}var QQ=WQ(),kS={exports:{}},NS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function ZQ(){if($D)return NS;$D=1;var e=Dh();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return NS.useSyncExternalStoreWithSelector=function(l,c,d,h,g){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function S(O){if(!b){if(b=!0,x=O,O=h(O),g!==void 0&&v.hasValue){var D=v.value;if(g(D,O))return A=D}return A=O}if(D=A,n(x,O))return D;var F=h(O);return g!==void 0&&g(D,F)?(x=O,D):(x=O,A=F)}var b=!1,x,A,P=d===void 0?null:d;return[function(){return S(c())},P===null?void 0:function(){return S(P())}]},[c,d,h,g]);var _=r(l,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=_},[_]),s(_),_},NS}var UD;function JQ(){return UD||(UD=1,kS.exports=ZQ()),kS.exports}var YQ=JQ();function XQ(e){e()}function eZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){XQ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var BD={notify(){},get:()=>[]};function tZ(e,t){let n,r=BD,i=0,a=!1;function o(_){d();const S=r.subscribe(_);let b=!1;return()=>{b||(b=!0,S(),h())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=eZ())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=BD)}function g(){a||(a=!0,d())}function y(){a&&(a=!1,h())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return v}var nZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rZ=nZ(),iZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aZ=iZ(),oZ=()=>rZ||aZ?V.useLayoutEffect:V.useEffect,sZ=oZ(),FS=Symbol.for("react-redux-context"),jS=typeof globalThis<"u"?globalThis:{};function uZ(){if(!V.createContext)return{};const e=jS[FS]??(jS[FS]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var Vl=uZ();function lZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=V.useMemo(()=>{const l=tZ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=V.useMemo(()=>i.getState(),[i]);sZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Vl;return V.createElement(s.Provider,{value:a},t)}var cZ=lZ;function vP(e=Vl){return function(){return V.useContext(e)}}var kB=vP();function NB(e=Vl){const t=e===Vl?kB:vP(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var fZ=NB();function dZ(e=Vl){const t=e===Vl?fZ:NB(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var hZ=dZ(),pZ=(e,t)=>e===t;function gZ(e=Vl){const t=e===Vl?kB:vP(e),n=(r,i={})=>{const{equalityFn:a=pZ}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:s,subscription:l,getServerState:c}=o;V.useRef(!0);const d=V.useCallback({[r.name](g){return r(g)}}[r.name],[r]),h=YQ.useSyncExternalStoreWithSelector(l.addNestedSub,s.getState,c||s.getState,d,a);return V.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var mZ=gZ();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}var oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oi||(oi={}));const qD="popstate";function yZ(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Mm("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ps(i)}return _Z(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function vZ(){return Math.random().toString(36).substr(2,8)}function zD(e,t){return{usr:e.state,key:e.key,idx:t}}function Mm(e,t,n,r){return n===void 0&&(n=null),Qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Du(t):t,{state:n,key:t&&t.key||r||vZ()})}function Ps(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Du(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function _Z(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=oi.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Qn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){s=oi.Pop;let S=d(),b=S==null?null:S-c;c=S,l&&l({action:s,location:_.location,delta:b})}function g(S,b){s=oi.Push;let x=Mm(_.location,S,b);c=d()+1;let A=zD(x,c),P=_.createHref(x);try{o.pushState(A,"",P)}catch{i.location.assign(P)}a&&l&&l({action:s,location:_.location,delta:1})}function y(S,b){s=oi.Replace;let x=Mm(_.location,S,b);c=d();let A=zD(x,c),P=_.createHref(x);o.replaceState(A,"",P),a&&l&&l({action:s,location:_.location,delta:0})}function v(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:Ps(S);return wn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let _={get action(){return s},get location(){return e(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(qD,h),l=S,()=>{i.removeEventListener(qD,h),l=null}},createHref(S){return t(i,S)},createURL:v,encodeLocation(S){let b=v(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:y,go(S){return o.go(S)}};return _}var Ni;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ni||(Ni={}));function wZ(e){return e.index===!0}function FB(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,i)=>{let a=[...t,i],o=typeof r.id=="string"?r.id:a.join("-");return wn(r.index!==!0||!r.children,"Cannot specify children on an index route"),wn(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),wZ(r)?Qn({},r,{id:o}):Qn({},r,{id:o,children:r.children?FB(r.children,a,n):void 0})})}function um(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?Du(t):t,i=UB(r.pathname||"/",n);if(i==null)return null;let a=jB(e);bZ(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=OZ(a[s],MZ(i));return o}function jB(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=xu([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jB(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:RZ(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of $B(a.path))i(a,o,l)}),t}function $B(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=$B(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function bZ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:PZ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SZ=/^:\w+$/,xZ=3,EZ=2,CZ=1,TZ=10,AZ=-2,HD=e=>e==="*";function RZ(e,t){let n=e.split("/"),r=n.length;return n.some(HD)&&(r+=AZ),t&&(r+=EZ),n.filter(i=>!HD(i)).reduce((i,a)=>i+(SZ.test(a)?xZ:a===""?CZ:TZ),r)}function PZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function OZ(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=LZ({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=s.route;a.push({params:r,pathname:xu([i,d.pathname]),pathnameBase:FZ(xu([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=xu([i,d.pathnameBase]))}return a}function LZ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=IZ(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let g=s[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}return c[d]=DZ(s[h]||"",d),c},{}),pathname:a,pathnameBase:o,pattern:e}}function IZ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Dm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function MZ(e){try{return decodeURI(e)}catch(t){return Dm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function DZ(e,t){try{return decodeURIComponent(e)}catch(n){return Dm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function UB(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Dm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kZ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Du(e):e;return{pathname:n?n.startsWith("/")?n:NZ(n,t):t,search:jZ(r),hash:$Z(i)}}function NZ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $S(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _P(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Du(e):(i=Qn({},e),wn(!i.pathname||!i.pathname.includes("?"),$S("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),$S("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),$S("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let h=t.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}s=h>=0?t[h]:"/"}let l=kZ(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const xu=e=>e.join("/").replace(/\/\/+/g,"/"),FZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$Z=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class VD extends Error{}class UZ{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],wn(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let i=()=>r(new VD("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((a,o)=>{let[s,l]=o;return Object.assign(a,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){return this.controller.signal.aborted&&r instanceof VD?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{t.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return wn(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:qZ(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function BZ(e){return e instanceof Promise&&e._tracked===!0}function qZ(e){if(!BZ(e))return e;if(e._error)throw e._error;return e._data}class wP{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function BB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const qB=["post","put","patch","delete"],zZ=new Set(qB),HZ=["get",...qB],VZ=new Set(HZ),KZ=new Set([301,302,303,307,308]),GZ=new Set([307,308]),US={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},WZ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},KD={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},zB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QZ=!zB;function ZZ(e){wn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=FB(e.routes),n=null,r=new Set,i=null,a=null,o=null,s=e.hydrationData!=null,l=um(t,e.history.location,e.basename),c=null;if(l==null){let Se=El(404,{pathname:e.history.location.pathname}),{matches:Be,route:ne}=YD(t);l=Be,c={[ne.id]:Se}}let d=!l.some(Se=>Se.route.loader)||e.hydrationData!=null,h,g={historyAction:e.history.action,location:e.history.location,matches:l,initialized:d,navigation:US,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map,blockers:new Map},y=oi.Pop,v=!1,_,S=!1,b=!1,x=[],A=[],P=new Map,O=0,D=-1,F=new Map,Q=new Set,X=new Map,U=new Map,Y=null,ce=new Map,te=!1;function se(){return n=e.history.listen(Se=>{let{action:Be,location:ne,delta:z}=Se;if(te){te=!1;return}Dm(Y!=null&&z===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Fe({currentLocation:g.location,nextLocation:ne,historyAction:Be});if(W&&z!=null){te=!0,e.history.go(z*-1),Ee(W,{state:"blocked",location:ne,proceed(){Ee(W,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),e.history.go(z)},reset(){He(W),de({blockers:new Map(h.state.blockers)})}});return}return ie(Be,ne)}),g.initialized||ie(oi.Pop,g.location),h}function pe(){n&&n(),r.clear(),_&&_.abort(),g.fetchers.forEach((Se,Be)=>H(Be)),g.blockers.forEach((Se,Be)=>He(Be))}function _e(Se){return r.add(Se),()=>r.delete(Se)}function de(Se){g=Qn({},g,Se),r.forEach(Be=>Be(g))}function ue(Se,Be){var ne,z;let W=g.actionData!=null&&g.navigation.formMethod!=null&&wu(g.navigation.formMethod)&&g.navigation.state==="loading"&&((ne=Se.state)==null?void 0:ne._isRedirect)!==!0,G;Be.actionData?Object.keys(Be.actionData).length>0?G=Be.actionData:G=null:W?G=g.actionData:G=null;let je=Be.loaderData?JD(g.loaderData,Be.loaderData,Be.matches||[],Be.errors):g.loaderData;for(let[ke]of ce)He(ke);let Je=v===!0||g.navigation.formMethod!=null&&wu(g.navigation.formMethod)&&((z=Se.state)==null?void 0:z._isRedirect)!==!0;de(Qn({},Be,{actionData:G,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:US,revalidation:"idle",restoreScrollPosition:qt(Se,Be.matches||g.matches),preventScrollReset:Je,blockers:new Map(g.blockers)})),S||y===oi.Pop||(y===oi.Push?e.history.push(Se,Se.state):y===oi.Replace&&e.history.replace(Se,Se.state)),y=oi.Pop,v=!1,S=!1,b=!1,x=[],A=[]}async function Re(Se,Be){if(typeof Se=="number"){e.history.go(Se);return}let{path:ne,submission:z,error:W}=GD(Se,Be),G=g.location,je=Mm(g.location,ne,Be&&Be.state);je=Qn({},je,e.history.encodeLocation(je));let Je=Be&&Be.replace!=null?Be.replace:void 0,ke=oi.Push;Je===!0?ke=oi.Replace:Je===!1||z!=null&&wu(z.formMethod)&&z.formAction===g.location.pathname+g.location.search&&(ke=oi.Replace);let Rt=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,It=Fe({currentLocation:G,nextLocation:je,historyAction:ke});if(It){Ee(It,{state:"blocked",location:je,proceed(){Ee(It,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Re(Se,Be)},reset(){He(It),de({blockers:new Map(g.blockers)})}});return}return await ie(ke,je,{submission:z,pendingError:W,preventScrollReset:Rt,replace:Be&&Be.replace})}function k(){if(Ye(),de({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){ie(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}ie(y||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function ie(Se,Be,ne){_&&_.abort(),_=null,y=Se,S=(ne&&ne.startUninterruptedRevalidation)===!0,gt(g.location,g.matches),v=(ne&&ne.preventScrollReset)===!0;let z=ne&&ne.overrideNavigation,W=um(t,Be,e.basename);if(!W){let Nt=El(404,{pathname:Be.pathname}),{matches:Ot,route:zt}=YD(t);tt(),ue(Be,{matches:Ot,loaderData:{},errors:{[zt.id]:Nt}});return}if(tJ(g.location,Be)&&!(ne&&ne.submission&&wu(ne.submission.formMethod))){ue(Be,{matches:W});return}_=new AbortController;let G=tg(e.history,Be,_.signal,ne&&ne.submission),je,Je;if(ne&&ne.pendingError)Je={[Hd(W).route.id]:ne.pendingError};else if(ne&&ne.submission&&wu(ne.submission.formMethod)){let Nt=await me(G,Be,ne.submission,W,{replace:ne.replace});if(Nt.shortCircuited)return;je=Nt.pendingActionData,Je=Nt.pendingActionError,z=Qn({state:"loading",location:Be},ne.submission),G=new Request(G.url,{signal:G.signal})}let{shortCircuited:ke,loaderData:Rt,errors:It}=await K(G,Be,W,z,ne&&ne.submission,ne&&ne.replace,je,Je);ke||(_=null,ue(Be,Qn({matches:W},je?{actionData:je}:{},{loaderData:Rt,errors:It})))}async function me(Se,Be,ne,z,W){Ye();let G=Qn({state:"submitting",location:Be},ne);de({navigation:G});let je,Je=nk(z,Be);if(!Je.route.action)je={type:Ni.error,error:El(405,{method:Se.method,pathname:Be.pathname,routeId:Je.route.id})};else if(je=await eg("action",Se,Je,z,h.basename),Se.signal.aborted)return{shortCircuited:!0};if(Wd(je)){let ke;return W.replace!=null?ke=W.replace:ke=je.location===g.location.pathname+g.location.search,await Pe(g,je,{submission:ne,replace:ke}),{shortCircuited:!0}}if(Sm(je)){let ke=Hd(z,Je.route.id);return W.replace!==!0&&(y=oi.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(sf(je))throw El(400,{type:"defer-action"});return{pendingActionData:{[Je.route.id]:je.data}}}async function K(Se,Be,ne,z,W,G,je,Je){let ke=z;ke||(ke=Qn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},W));let Rt=W||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[It,Nt]=WD(e.history,g,ne,Rt,Be,b,x,A,je,Je,X);if(tt(ln=>!(ne&&ne.some(In=>In.route.id===ln))||It&&It.some(In=>In.route.id===ln)),It.length===0&&Nt.length===0)return ue(Be,Qn({matches:ne,loaderData:{},errors:Je||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!S){Nt.forEach(In=>{let lr=g.fetchers.get(In.key),Le={state:"loading",data:lr&&lr.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(In.key,Le)});let ln=je||g.actionData;de(Qn({navigation:ke},ln?Object.keys(ln).length===0?{actionData:null}:{actionData:ln}:{},Nt.length>0?{fetchers:new Map(g.fetchers)}:{}))}D=++O,Nt.forEach(ln=>P.set(ln.key,_));let{results:Ot,loaderResults:zt,fetcherResults:Ar}=await Ne(g.matches,ne,It,Nt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Nt.forEach(ln=>P.delete(ln.key));let dn=XD(Ot);if(dn)return await Pe(g,dn,{replace:G}),{shortCircuited:!0};let{loaderData:hn,errors:gr}=ZD(g,ne,It,zt,Je,Nt,Ar,U);U.forEach((ln,In)=>{ln.subscribe(lr=>{(lr||ln.done)&&U.delete(In)})}),Z();let un=he(D);return Qn({loaderData:hn,errors:gr},un||Nt.length>0?{fetchers:new Map(g.fetchers)}:{})}function ee(Se){return g.fetchers.get(Se)||WZ}function ge(Se,Be,ne,z){if(QZ)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(Se)&&$(Se);let W=um(t,ne,e.basename);if(!W){oe(Se,Be,El(404,{pathname:ne}));return}let{path:G,submission:je}=GD(ne,z,!0),Je=nk(W,G);if(v=(z&&z.preventScrollReset)===!0,je&&wu(je.formMethod)){Ae(Se,Be,G,Je,W,je);return}X.set(Se,{routeId:Be,path:G,match:Je,matches:W}),Ze(Se,Be,G,Je,W,je)}async function Ae(Se,Be,ne,z,W,G){if(Ye(),X.delete(Se),!z.route.action){let Mt=El(405,{method:G.formMethod,pathname:ne,routeId:Be});oe(Se,Be,Mt);return}let je=g.fetchers.get(Se),Je=Qn({state:"submitting"},G,{data:je&&je.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(Se,Je),de({fetchers:new Map(g.fetchers)});let ke=new AbortController,Rt=tg(e.history,ne,ke.signal,G);P.set(Se,ke);let It=await eg("action",Rt,z,W,h.basename);if(Rt.signal.aborted){P.get(Se)===ke&&P.delete(Se);return}if(Wd(It)){P.delete(Se),Q.add(Se);let Mt=Qn({state:"loading"},G,{data:void 0," _hasFetcherDoneAnything ":!0});return g.fetchers.set(Se,Mt),de({fetchers:new Map(g.fetchers)}),Pe(g,It,{isFetchActionRedirect:!0})}if(Sm(It)){oe(Se,Be,It.error);return}if(sf(It))throw El(400,{type:"defer-action"});let Nt=g.navigation.location||g.location,Ot=tg(e.history,Nt,ke.signal),zt=g.navigation.state!=="idle"?um(t,g.navigation.location,e.basename):g.matches;wn(zt,"Didn't find any matches after fetcher action");let Ar=++O;F.set(Se,Ar);let dn=Qn({state:"loading",data:It.data},G,{" _hasFetcherDoneAnything ":!0});g.fetchers.set(Se,dn);let[hn,gr]=WD(e.history,g,zt,G,Nt,b,x,A,{[z.route.id]:It.data},void 0,X);gr.filter(Mt=>Mt.key!==Se).forEach(Mt=>{let Hn=Mt.key,Jn=g.fetchers.get(Hn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Hn,We),P.set(Hn,ke)}),de({fetchers:new Map(g.fetchers)});let{results:un,loaderResults:ln,fetcherResults:In}=await Ne(g.matches,zt,hn,gr,Ot);if(ke.signal.aborted)return;F.delete(Se),P.delete(Se),gr.forEach(Mt=>P.delete(Mt.key));let lr=XD(un);if(lr)return Pe(g,lr);let{loaderData:Le,errors:qe}=ZD(g,g.matches,hn,ln,void 0,gr,In,U),bt={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Se,bt);let Et=he(Ar);g.navigation.state==="loading"&&Ar>D?(wn(y,"Expected pending action"),_&&_.abort(),ue(g.navigation.location,{matches:zt,loaderData:Le,errors:qe,fetchers:new Map(g.fetchers)})):(de(Qn({errors:qe,loaderData:JD(g.loaderData,Le,zt,qe)},Et?{fetchers:new Map(g.fetchers)}:{})),b=!1)}async function Ze(Se,Be,ne,z,W,G){let je=g.fetchers.get(Se),Je=Qn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G,{data:je&&je.data," _hasFetcherDoneAnything ":!0});g.fetchers.set(Se,Je),de({fetchers:new Map(g.fetchers)});let ke=new AbortController,Rt=tg(e.history,ne,ke.signal);P.set(Se,ke);let It=await eg("loader",Rt,z,W,h.basename);if(sf(It)&&(It=await GB(It,Rt.signal,!0)||It),P.get(Se)===ke&&P.delete(Se),Rt.signal.aborted)return;if(Wd(It)){await Pe(g,It);return}if(Sm(It)){let Ot=Hd(g.matches,Be);g.fetchers.delete(Se),de({fetchers:new Map(g.fetchers),errors:{[Ot.route.id]:It.error}});return}wn(!sf(It),"Unhandled fetcher deferred data");let Nt={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Se,Nt),de({fetchers:new Map(g.fetchers)})}async function Pe(Se,Be,ne){var z;let{submission:W,replace:G,isFetchActionRedirect:je}=ne===void 0?{}:ne;Be.revalidate&&(b=!0);let Je=Mm(Se.location,Be.location,Qn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(wn(Je,"Expected a location on the redirect navigation"),zB&&typeof((z=window)==null?void 0:z.location)<"u"){let zt=e.history.createURL(Be.location).origin;if(window.location.origin!==zt){G?window.location.replace(Be.location):window.location.assign(Be.location);return}}_=null;let ke=G===!0?oi.Replace:oi.Push,{formMethod:Rt,formAction:It,formEncType:Nt,formData:Ot}=Se.navigation;!W&&Rt&&It&&Ot&&Nt&&(W={formMethod:Rt,formAction:It,formEncType:Nt,formData:Ot}),GZ.has(Be.status)&&W&&wu(W.formMethod)?await ie(ke,Je,{submission:Qn({},W,{formAction:Be.location}),preventScrollReset:v}):await ie(ke,Je,{overrideNavigation:{state:"loading",location:Je,formMethod:W?W.formMethod:void 0,formAction:W?W.formAction:void 0,formEncType:W?W.formEncType:void 0,formData:W?W.formData:void 0},preventScrollReset:v})}async function Ne(Se,Be,ne,z,W){let G=await Promise.all([...ne.map(ke=>eg("loader",W,ke,Be,h.basename)),...z.map(ke=>eg("loader",tg(e.history,ke.path,W.signal),ke.match,ke.matches,h.basename))]),je=G.slice(0,ne.length),Je=G.slice(ne.length);return await Promise.all([ek(Se,ne,je,W.signal,!1,g.loaderData),ek(Se,z.map(ke=>ke.match),Je,W.signal,!0)]),{results:G,loaderResults:je,fetcherResults:Je}}function Ye(){b=!0,x.push(...tt()),X.forEach((Se,Be)=>{P.has(Be)&&(A.push(Be),$(Be))})}function oe(Se,Be,ne){let z=Hd(g.matches,Be);H(Se),de({errors:{[z.route.id]:ne},fetchers:new Map(g.fetchers)})}function H(Se){P.has(Se)&&$(Se),X.delete(Se),F.delete(Se),Q.delete(Se),g.fetchers.delete(Se)}function $(Se){let Be=P.get(Se);wn(Be,"Expected fetch controller: "+Se),Be.abort(),P.delete(Se)}function ae(Se){for(let Be of Se){let z={state:"idle",data:ee(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};g.fetchers.set(Be,z)}}function Z(){let Se=[];for(let Be of Q){let ne=g.fetchers.get(Be);wn(ne,"Expected fetcher: "+Be),ne.state==="loading"&&(Q.delete(Be),Se.push(Be))}ae(Se)}function he(Se){let Be=[];for(let[ne,z]of F)if(z<Se){let W=g.fetchers.get(ne);wn(W,"Expected fetcher: "+ne),W.state==="loading"&&($(ne),F.delete(ne),Be.push(ne))}return ae(Be),Be.length>0}function ye(Se,Be){let ne=g.blockers.get(Se)||KD;return ce.get(Se)!==Be&&(ce.set(Se,Be),Y==null?Y=Se:Se!==Y&&Dm(!1,"A router only supports one blocker at a time")),ne}function He(Se){g.blockers.delete(Se),ce.delete(Se),Y===Se&&(Y=null)}function Ee(Se,Be){let ne=g.blockers.get(Se)||KD;wn(ne.state==="unblocked"&&Be.state==="blocked"||ne.state==="blocked"&&Be.state==="blocked"||ne.state==="blocked"&&Be.state==="proceeding"||ne.state==="blocked"&&Be.state==="unblocked"||ne.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+ne.state+" -> "+Be.state),g.blockers.set(Se,Be),de({blockers:new Map(g.blockers)})}function Fe(Se){let{currentLocation:Be,nextLocation:ne,historyAction:z}=Se;if(Y==null)return;let W=ce.get(Y);wn(W,"Could not find a function for the active blocker");let G=g.blockers.get(Y);if(!(G&&G.state==="proceeding")&&W({currentLocation:Be,nextLocation:ne,historyAction:z}))return Y}function tt(Se){let Be=[];return U.forEach((ne,z)=>{(!Se||Se(z))&&(ne.cancel(),Be.push(z),U.delete(z))}),Be}function nt(Se,Be,ne){if(i=Se,o=Be,a=ne||(z=>z.key),!s&&g.navigation===US){s=!0;let z=qt(g.location,g.matches);z!=null&&de({restoreScrollPosition:z})}return()=>{i=null,o=null,a=null}}function gt(Se,Be){if(i&&a&&o){let ne=Be.map(W=>tk(W,g.loaderData)),z=a(Se,ne)||Se.key;i[z]=o()}}function qt(Se,Be){if(i&&a&&o){let ne=Be.map(G=>tk(G,g.loaderData)),z=a(Se,ne)||Se.key,W=i[z];if(typeof W=="number")return W}return null}return h={get basename(){return e.basename},get state(){return g},get routes(){return t},initialize:se,subscribe:_e,enableScrollRestoration:nt,navigate:Re,fetch:ge,revalidate:k,createHref:Se=>e.history.createHref(Se),encodeLocation:Se=>e.history.encodeLocation(Se),getFetcher:ee,deleteFetcher:H,dispose:pe,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:P,_internalActiveDeferreds:U},h}function JZ(e){return e!=null&&"formData"in e}function GD(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Ps(e);if(!t||!JZ(t))return{path:r};if(t.formMethod&&!rJ(t.formMethod))return{path:r,error:El(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:KB(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},wu(i.formMethod)))return{path:r,submission:i};let a=Du(r),o=VB(t.formData);return n&&a.search&&WB(a.search)&&o.append("index",""),a.search="?"+o,{path:Ps(a),submission:i}}function YZ(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function WD(e,t,n,r,i,a,o,s,l,c,d){let h=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,g=e.createURL(t.location),y=e.createURL(i),v=a||g.toString()===y.toString()||g.search!==y.search,_=c?Object.keys(c)[0]:void 0,b=YZ(n,_).filter((A,P)=>{if(A.route.loader==null)return!1;if(XZ(t.loaderData,t.matches[P],A)||o.some(F=>F===A.route.id))return!0;let O=t.matches[P],D=A;return QD(A,Qn({currentUrl:g,currentParams:O.params,nextUrl:y,nextParams:D.params},r,{actionResult:h,defaultShouldRevalidate:v||HB(O,D)}))}),x=[];return d&&d.forEach((A,P)=>{if(n.some(O=>O.route.id===A.routeId))s.includes(P)?x.push(Qn({key:P},A)):QD(A.match,Qn({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:v}))&&x.push(Qn({key:P},A));else return}),[b,x]}function XZ(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function HB(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function QD(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function eg(e,t,n,r,i,a,o,s){i===void 0&&(i="/"),a===void 0&&(a=!1),o===void 0&&(o=!1);let l,c,d,h=new Promise((y,v)=>d=v),g=()=>d();t.signal.addEventListener("abort",g);try{let y=n.route[e];wn(y,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),c=await Promise.race([y({request:t,params:n.params,context:s}),h]),wn(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=Ni.error,c=y}finally{t.signal.removeEventListener("abort",g)}if(nJ(c)){let y=c.status;if(KZ.has(y)){let S=c.headers.get("Location");if(wn(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!a){let x=new URL(t.url),A=S.startsWith("//")?new URL(x.protocol+S):new URL(S);A.origin===x.origin&&(S=A.pathname+A.search+A.hash)}}else{let x=r.slice(0,r.indexOf(n)+1),A=kw(x).map(O=>O.pathnameBase),P=_P(S,A,new URL(t.url).pathname);if(wn(Ps(P),"Unable to resolve redirect location: "+S),i){let O=P.pathname;P.pathname=O==="/"?i:xu([i,O])}S=Ps(P)}if(a)throw c.headers.set("Location",S),c;return{type:Ni.redirect,status:y,location:S,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||Ni.data,response:c};let v,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await c.json():v=await c.text(),l===Ni.error?{type:l,error:new wP(y,c.statusText,v),headers:c.headers}:{type:Ni.data,data:v,statusCode:c.status,headers:c.headers}}return l===Ni.error?{type:l,error:c}:c instanceof UZ?{type:Ni.deferred,deferredData:c}:{type:Ni.data,data:c}}function tg(e,t,n,r){let i=e.createURL(KB(t)).toString(),a={signal:n};if(r&&wu(r.formMethod)){let{formMethod:o,formEncType:s,formData:l}=r;a.method=o.toUpperCase(),a.body=s==="application/x-www-form-urlencoded"?VB(l):l}return new Request(i,a)}function VB(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function eJ(e,t,n,r,i){let a={},o=null,s,l=!1,c={};return n.forEach((d,h)=>{let g=t[h].route.id;if(wn(!Wd(d),"Cannot handle redirect results in processLoaderData"),Sm(d)){let y=Hd(e,g),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),a[g]=void 0,l||(l=!0,s=BB(d.error)?d.error.status:500),d.headers&&(c[g]=d.headers)}else sf(d)?(i.set(g,d.deferredData),a[g]=d.deferredData.data):a[g]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(c[g]=d.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function ZD(e,t,n,r,i,a,o,s){let{loaderData:l,errors:c}=eJ(t,n,r,i,s);for(let d=0;d<a.length;d++){let{key:h,match:g}=a[d];wn(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let y=o[d];if(Sm(y)){let v=Hd(e.matches,g.route.id);c&&c[v.route.id]||(c=Qn({},c,{[v.route.id]:y.error})),e.fetchers.delete(h)}else if(Wd(y))wn(!1,"Unhandled fetcher revalidation redirect");else if(sf(y))wn(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,v)}}return{loaderData:l,errors:c}}function JD(e,t,n,r){let i=Qn({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Hd(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function YD(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function El(e,t){let{pathname:n,routeId:r,method:i,type:a}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(s="defer() is not supported in actions")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new wP(e||500,o,new Error(s),!0)}function XD(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Wd(n))return n}}function KB(e){let t=typeof e=="string"?Du(e):e;return Ps(Qn({},t,{hash:""}))}function tJ(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function sf(e){return e.type===Ni.deferred}function Sm(e){return e.type===Ni.error}function Wd(e){return(e&&e.type)===Ni.redirect}function nJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function rJ(e){return VZ.has(e)}function wu(e){return zZ.has(e)}async function ek(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o],c=e.find(h=>h.route.id===l.route.id),d=c!=null&&!HB(c,l)&&(a&&a[l.route.id])!==void 0;sf(s)&&(i||d)&&await GB(s,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function GB(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ni.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ni.error,error:i}}return{type:Ni.data,data:e.deferredData.data}}}function WB(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function tk(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function nk(e,t){let n=typeof t=="string"?Du(t).search:t.search;if(e[e.length-1].route.index&&WB(n||""))return e[e.length-1];let r=kw(e);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K0.apply(this,arguments)}function iJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const aJ=typeof Object.is=="function"?Object.is:iJ,{useState:oJ,useEffect:sJ,useLayoutEffect:uJ,useDebugValue:lJ}=wh;function cJ(e,t,n){const r=t(),[{inst:i},a]=oJ({inst:{value:r,getSnapshot:t}});return uJ(()=>{i.value=r,i.getSnapshot=t,BS(i)&&a({inst:i})},[e,r,t]),sJ(()=>(BS(i)&&a({inst:i}),e(()=>{BS(i)&&a({inst:i})})),[e]),lJ(r),r}function BS(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!aJ(n,r)}catch{return!0}}function fJ(e,t,n){return t()}const dJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hJ=!dJ,pJ=hJ?fJ:cJ,gJ="useSyncExternalStore"in wh?(e=>e.useSyncExternalStore)(wh):pJ,bP=V.createContext(null),cy=V.createContext(null),fy=V.createContext(null),Nw=V.createContext(null),Xl=V.createContext({outlet:null,matches:[]}),QB=V.createContext(null);function mJ(e,t){let{relative:n}=t===void 0?{}:t;kh()||wn(!1);let{basename:r,navigator:i}=V.useContext(fy),{hash:a,pathname:o,search:s}=xP(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xu([r,o])),i.createHref({pathname:l,search:s,hash:a})}function kh(){return V.useContext(Nw)!=null}function Nh(){return kh()||wn(!1),V.useContext(Nw).location}function Fh(){kh()||wn(!1);let{basename:e,navigator:t}=V.useContext(fy),{matches:n}=V.useContext(Xl),{pathname:r}=Nh(),i=JSON.stringify(kw(n).map(s=>s.pathnameBase)),a=V.useRef(!1);return V.useEffect(()=>{a.current=!0}),V.useCallback(function(s,l){if(l===void 0&&(l={}),!a.current)return;if(typeof s=="number"){t.go(s);return}let c=_P(s,JSON.parse(i),r,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:xu([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,i,r])}const yJ=V.createContext(null);function vJ(e){let t=V.useContext(Xl).outlet;return t&&V.createElement(yJ.Provider,{value:e},t)}function SP(){let{matches:e}=V.useContext(Xl),t=e[e.length-1];return t?t.params:{}}function xP(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=V.useContext(Xl),{pathname:i}=Nh(),a=JSON.stringify(kw(r).map(o=>o.pathnameBase));return V.useMemo(()=>_P(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function _J(e,t){kh()||wn(!1);let{navigator:n}=V.useContext(fy),r=V.useContext(cy),{matches:i}=V.useContext(Xl),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=Nh(),c;if(t){var d;let _=typeof t=="string"?Du(t):t;s==="/"||(d=_.pathname)!=null&&d.startsWith(s)||wn(!1),c=_}else c=l;let h=c.pathname||"/",g=s==="/"?h:h.slice(s.length)||"/",y=um(e,{pathname:g}),v=xJ(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:xu([s,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?s:xu([s,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return t&&v?V.createElement(Nw.Provider,{value:{location:K0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:oi.Pop}},v):v}function wJ(){let e=AJ(),t=BB(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,null)}class bJ extends V.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(Xl.Provider,{value:this.props.routeContext},V.createElement(QB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SJ(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(bP);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Xl.Provider,{value:t},r)}function xJ(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||wn(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,s)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||V.createElement(wJ,null):null,d=t.concat(r.slice(0,s+1)),h=()=>V.createElement(SJ,{match:o,routeContext:{outlet:a,matches:d}},l?c:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||s===0)?V.createElement(bJ,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var rk;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(rk||(rk={}));var G0;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(G0||(G0={}));function EJ(e){let t=V.useContext(cy);return t||wn(!1),t}function CJ(e){let t=V.useContext(Xl);return t||wn(!1),t}function TJ(e){let t=CJ(),n=t.matches[t.matches.length-1];return n.route.id||wn(!1),n.route.id}function AJ(){var e;let t=V.useContext(QB),n=EJ(G0.UseRouteError),r=TJ(G0.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function RJ(e){let{fallbackElement:t,router:n}=e,r=gJ(n.subscribe,()=>n.state,()=>n.state),i=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,s,l)=>n.navigate(o,{state:s,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,s,l)=>n.navigate(o,{replace:!0,state:s,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return V.createElement(V.Fragment,null,V.createElement(bP.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},V.createElement(cy.Provider,{value:r},V.createElement(OJ,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?V.createElement(LJ,null):t))),null)}function EP(e){let{to:t,replace:n,state:r,relative:i}=e;kh()||wn(!1);let a=V.useContext(cy),o=Fh();return V.useEffect(()=>{a&&a.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Fw(e){return vJ(e.context)}function PJ(e){wn(!1)}function OJ(e){let{basename:t="/",children:n=null,location:r,navigationType:i=oi.Pop,navigator:a,static:o=!1}=e;kh()&&wn(!1);let s=t.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=Du(r));let{pathname:c="/",search:d="",hash:h="",state:g=null,key:y="default"}=r,v=V.useMemo(()=>{let _=UB(c,s);return _==null?null:{pathname:_,search:d,hash:h,state:g,key:y}},[s,c,d,h,g,y]);return v==null?null:V.createElement(fy.Provider,{value:l},V.createElement(Nw.Provider,{children:n,value:{location:v,navigationType:i}}))}function LJ(e){let{children:t,location:n}=e,r=V.useContext(bP),i=r&&!t?r.router.routes:rR(t);return _J(i,n)}var ik;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(ik||(ik={}));new Promise(()=>{});function rR(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;if(r.type===V.Fragment){n.push.apply(n,rR(r.props.children,t));return}r.type!==PJ&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a=[...t,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=rR(r.props.children,a)),n.push(o)}),n}function ZB(e){return e.map(t=>{let n=K0({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=ZB(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},km.apply(this,arguments)}function JB(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function IJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function MJ(e,t){return e.button===0&&(!t||t==="_self")&&!IJ(e)}function iR(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function DJ(e,t){let n=iR(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const kJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],NJ=["aria-current","caseSensitive","className","end","style","to","children"];function FJ(e,t){return ZZ({basename:void 0,history:yZ({window:void 0}),hydrationData:jJ(),routes:ZB(e)}).initialize()}function jJ(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=km({},t,{errors:$J(t.errors)})),t}function $J(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new wP(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const UJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bo=V.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d}=t,h=JB(t,kJ),g=typeof c=="string"?c:Ps(c),y=/^[a-z+]+:\/\//i.test(g)||g.startsWith("//"),v=g,_=!1;if(UJ&&y){let A=new URL(window.location.href),P=g.startsWith("//")?new URL(A.protocol+g):new URL(g);P.origin===A.origin?v=P.pathname+P.search+P.hash:_=!0}let S=mJ(v,{relative:i}),b=qJ(v,{replace:o,state:s,target:l,preventScrollReset:d,relative:i});function x(A){r&&r(A),A.defaultPrevented||b(A)}return V.createElement("a",km({},h,{href:y?g:S,onClick:_||a?r:x,ref:n,target:l}))}),BJ=V.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,children:c}=t,d=JB(t,NJ),h=xP(l,{relative:d.relative}),g=Nh(),y=V.useContext(cy),{navigator:v}=V.useContext(fy),_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,S=g.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase());let x=S===_||!o&&S.startsWith(_)&&S.charAt(_.length)==="/",A=b!=null&&(b===_||!o&&b.startsWith(_)&&b.charAt(_.length)==="/"),P=x?r:void 0,O;typeof a=="function"?O=a({isActive:x,isPending:A}):O=[a,x?"active":null,A?"pending":null].filter(Boolean).join(" ");let D=typeof s=="function"?s({isActive:x,isPending:A}):s;return V.createElement(Bo,km({},d,{"aria-current":P,className:O,ref:n,style:D,to:l}),typeof c=="function"?c({isActive:x,isPending:A}):c)});var ak;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ak||(ak={}));var ok;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ok||(ok={}));function qJ(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=t===void 0?{}:t,s=Fh(),l=Nh(),c=xP(e,{relative:o});return V.useCallback(d=>{if(MJ(d,n)){d.preventDefault();let h=r!==void 0?r:Ps(l)===Ps(c);s(e,{replace:h,state:i,preventScrollReset:a,relative:o})}},[l,s,c,r,i,n,e,a,o])}function zJ(e){let t=V.useRef(iR(e)),n=V.useRef(!1),r=Nh(),i=V.useMemo(()=>DJ(r.search,n.current?null:t.current),[r.search]),a=Fh(),o=V.useCallback((s,l)=>{const c=iR(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}function w0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?w0=function(n){return typeof n}:w0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},w0(e)}function HJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KJ(e,t,n){return VJ(e.prototype,t),e}function GJ(e,t){return t&&(w0(t)==="object"||typeof t=="function")?t:b0(e)}function aR(e){return aR=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},aR(e)}function b0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oR(e,t)}function oR(e,t){return oR=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},oR(e,t)}function S0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YB=function(e){WJ(t,e);function t(){var n,r;HJ(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=GJ(this,(n=aR(t)).call.apply(n,[this].concat(a))),S0(b0(r),"state",{bootstrapped:!1}),S0(b0(r),"_unsubscribe",void 0),S0(b0(r),"handlePersistorState",function(){var s=r.props.persistor,l=s.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return KJ(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(V.PureComponent);S0(YB,"defaultProps",{children:null,loading:null});const QJ="modulepreload",ZJ=function(e){return"/"+e},sk={},uk=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=ZJ(l),l in sk)return;sk[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":QJ,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((g,y)=>{h.addEventListener("load",g),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},JJ=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},ec=hZ,Fr=mZ,XB="https://solidweb.me/solidcouch/community#us",eq="solidcouch",YJ="https://service.notifications.tired.bike",XJ="https://id.notifications.tired.bike/profile/card#me",tq="simple",nq="",rq="",iq="SolidCouch",lk="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",ck="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var lm={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var eY=lm.exports,fk;function tY(){return fk||(fk=1,function(e,t){(function(n,r){r(t)})(eY,function(n){var r="1.9.4";function i(p){var w,I,q,re;for(I=1,q=arguments.length;I<q;I++){re=arguments[I];for(w in re)p[w]=re[w]}return p}var a=Object.create||function(){function p(){}return function(w){return p.prototype=w,new p}}();function o(p,w){var I=Array.prototype.slice;if(p.bind)return p.bind.apply(p,I.call(arguments,1));var q=I.call(arguments,2);return function(){return p.apply(w,q.length?q.concat(I.call(arguments)):arguments)}}var s=0;function l(p){return"_leaflet_id"in p||(p._leaflet_id=++s),p._leaflet_id}function c(p,w,I){var q,re,ve,Ge;return Ge=function(){q=!1,re&&(ve.apply(I,re),re=!1)},ve=function(){q?re=arguments:(p.apply(I,arguments),setTimeout(Ge,w),q=!0)},ve}function d(p,w,I){var q=w[1],re=w[0],ve=q-re;return p===q&&I?p:((p-re)%ve+ve)%ve+re}function h(){return!1}function g(p,w){if(w===!1)return p;var I=Math.pow(10,w===void 0?6:w);return Math.round(p*I)/I}function y(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function v(p){return y(p).split(/\s+/)}function _(p,w){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?a(p.options):{});for(var I in w)p.options[I]=w[I];return p.options}function S(p,w,I){var q=[];for(var re in p)q.push(encodeURIComponent(I?re.toUpperCase():re)+"="+encodeURIComponent(p[re]));return(!w||w.indexOf("?")===-1?"?":"&")+q.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function x(p,w){return p.replace(b,function(I,q){var re=w[q];if(re===void 0)throw new Error("No value provided for variable "+I);return typeof re=="function"&&(re=re(w)),re})}var A=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function P(p,w){for(var I=0;I<p.length;I++)if(p[I]===w)return I;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var F=0;function Q(p){var w=+new Date,I=Math.max(0,16-(w-F));return F=w+I,window.setTimeout(p,I)}var X=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,U=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function Y(p,w,I){if(I&&X===Q)p.call(w);else return X.call(window,o(p,w))}function ce(p){p&&U.call(window,p)}var te={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:c,wrapNum:d,falseFn:h,formatNum:g,trim:y,splitWords:v,setOptions:_,getParamString:S,template:x,isArray:A,indexOf:P,emptyImageUrl:O,requestFn:X,cancelFn:U,requestAnimFrame:Y,cancelAnimFrame:ce};function se(){}se.extend=function(p){var w=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=w.__super__=this.prototype,q=a(I);q.constructor=w,w.prototype=q;for(var re in this)Object.prototype.hasOwnProperty.call(this,re)&&re!=="prototype"&&re!=="__super__"&&(w[re]=this[re]);return p.statics&&i(w,p.statics),p.includes&&(pe(p.includes),i.apply(null,[q].concat(p.includes))),i(q,p),delete q.statics,delete q.includes,q.options&&(q.options=I.options?a(I.options):{},i(q.options,p.options)),q._initHooks=[],q.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=q._initHooks.length;ve<Ge;ve++)q._initHooks[ve].call(this)}},w},se.include=function(p){var w=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=w,this.mergeOptions(p.options)),this},se.mergeOptions=function(p){return i(this.prototype.options,p),this},se.addInitHook=function(p){var w=Array.prototype.slice.call(arguments,1),I=typeof p=="function"?p:function(){this[p].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function pe(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=A(p)?p:[p];for(var w=0;w<p.length;w++)p[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(p,w,I){if(typeof p=="object")for(var q in p)this._on(q,p[q],w);else{p=v(p);for(var re=0,ve=p.length;re<ve;re++)this._on(p[re],w,I)}return this},off:function(p,w,I){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var q in p)this._off(q,p[q],w);else{p=v(p);for(var re=arguments.length===1,ve=0,Ge=p.length;ve<Ge;ve++)re?this._off(p[ve]):this._off(p[ve],w,I)}return this},_on:function(p,w,I,q){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(p,w,I)===!1){I===this&&(I=void 0);var re={fn:w,ctx:I};q&&(re.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(re)}},_off:function(p,w,I){var q,re,ve;if(this._events&&(q=this._events[p],!!q)){if(arguments.length===1){if(this._firingCount)for(re=0,ve=q.length;re<ve;re++)q[re].fn=h;delete this._events[p];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var Ge=this._listens(p,w,I);if(Ge!==!1){var st=q[Ge];this._firingCount&&(st.fn=h,this._events[p]=q=q.slice()),q.splice(Ge,1)}}},fire:function(p,w,I){if(!this.listens(p,I))return this;var q=i({},w,{type:p,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var re=this._events[p];if(re){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=re.length;ve<Ge;ve++){var st=re[ve],yt=st.fn;st.once&&this.off(p,yt,st.ctx),yt.call(st.ctx||this,q)}this._firingCount--}}return I&&this._propagateEvent(q),this},listens:function(p,w,I,q){typeof p!="string"&&console.warn('"string" type argument expected');var re=w;typeof w!="function"&&(q=!!w,re=void 0,I=void 0);var ve=this._events&&this._events[p];if(ve&&ve.length&&this._listens(p,re,I)!==!1)return!0;if(q){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(p,w,I,q))return!0}return!1},_listens:function(p,w,I){if(!this._events)return!1;var q=this._events[p]||[];if(!w)return!!q.length;I===this&&(I=void 0);for(var re=0,ve=q.length;re<ve;re++)if(q[re].fn===w&&q[re].ctx===I)return re;return!1},once:function(p,w,I){if(typeof p=="object")for(var q in p)this._on(q,p[q],w,!0);else{p=v(p);for(var re=0,ve=p.length;re<ve;re++)this._on(p[re],w,I,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[l(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[l(p)],this},_propagateEvent:function(p){for(var w in this._eventParents)this._eventParents[w].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var de=se.extend(_e);function ue(p,w,I){this.x=I?Math.round(p):p,this.y=I?Math.round(w):w}var Re=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(p){return this.clone()._add(k(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(k(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new ue(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new ue(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Re(this.x),this.y=Re(this.y),this},distanceTo:function(p){p=k(p);var w=p.x-this.x,I=p.y-this.y;return Math.sqrt(w*w+I*I)},equals:function(p){return p=k(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=k(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function k(p,w,I){return p instanceof ue?p:A(p)?new ue(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new ue(p.x,p.y):new ue(p,w,I)}function ie(p,w){if(p)for(var I=w?[p,w]:p,q=0,re=I.length;q<re;q++)this.extend(I[q])}ie.prototype={extend:function(p){var w,I;if(!p)return this;if(p instanceof ue||typeof p[0]=="number"||"x"in p)w=I=k(p);else if(p=me(p),w=p.min,I=p.max,!w||!I)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=I.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(p){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var w,I;return typeof p[0]=="number"||p instanceof ue?p=k(p):p=me(p),p instanceof ie?(w=p.min,I=p.max):w=I=p,w.x>=this.min.x&&I.x<=this.max.x&&w.y>=this.min.y&&I.y<=this.max.y},intersects:function(p){p=me(p);var w=this.min,I=this.max,q=p.min,re=p.max,ve=re.x>=w.x&&q.x<=I.x,Ge=re.y>=w.y&&q.y<=I.y;return ve&&Ge},overlaps:function(p){p=me(p);var w=this.min,I=this.max,q=p.min,re=p.max,ve=re.x>w.x&&q.x<I.x,Ge=re.y>w.y&&q.y<I.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var w=this.min,I=this.max,q=Math.abs(w.x-I.x)*p,re=Math.abs(w.y-I.y)*p;return me(k(w.x-q,w.y-re),k(I.x+q,I.y+re))},equals:function(p){return p?(p=me(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function me(p,w){return!p||p instanceof ie?p:new ie(p,w)}function K(p,w){if(p)for(var I=w?[p,w]:p,q=0,re=I.length;q<re;q++)this.extend(I[q])}K.prototype={extend:function(p){var w=this._southWest,I=this._northEast,q,re;if(p instanceof ge)q=p,re=p;else if(p instanceof K){if(q=p._southWest,re=p._northEast,!q||!re)return this}else return p?this.extend(Ae(p)||ee(p)):this;return!w&&!I?(this._southWest=new ge(q.lat,q.lng),this._northEast=new ge(re.lat,re.lng)):(w.lat=Math.min(q.lat,w.lat),w.lng=Math.min(q.lng,w.lng),I.lat=Math.max(re.lat,I.lat),I.lng=Math.max(re.lng,I.lng)),this},pad:function(p){var w=this._southWest,I=this._northEast,q=Math.abs(w.lat-I.lat)*p,re=Math.abs(w.lng-I.lng)*p;return new K(new ge(w.lat-q,w.lng-re),new ge(I.lat+q,I.lng+re))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof ge||"lat"in p?p=Ae(p):p=ee(p);var w=this._southWest,I=this._northEast,q,re;return p instanceof K?(q=p.getSouthWest(),re=p.getNorthEast()):q=re=p,q.lat>=w.lat&&re.lat<=I.lat&&q.lng>=w.lng&&re.lng<=I.lng},intersects:function(p){p=ee(p);var w=this._southWest,I=this._northEast,q=p.getSouthWest(),re=p.getNorthEast(),ve=re.lat>=w.lat&&q.lat<=I.lat,Ge=re.lng>=w.lng&&q.lng<=I.lng;return ve&&Ge},overlaps:function(p){p=ee(p);var w=this._southWest,I=this._northEast,q=p.getSouthWest(),re=p.getNorthEast(),ve=re.lat>w.lat&&q.lat<I.lat,Ge=re.lng>w.lng&&q.lng<I.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,w){return p?(p=ee(p),this._southWest.equals(p.getSouthWest(),w)&&this._northEast.equals(p.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(p,w){return p instanceof K?p:new K(p,w)}function ge(p,w,I){if(isNaN(p)||isNaN(w))throw new Error("Invalid LatLng object: ("+p+", "+w+")");this.lat=+p,this.lng=+w,I!==void 0&&(this.alt=+I)}ge.prototype={equals:function(p,w){if(!p)return!1;p=Ae(p);var I=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return I<=(w===void 0?1e-9:w)},toString:function(p){return"LatLng("+g(this.lat,p)+", "+g(this.lng,p)+")"},distanceTo:function(p){return Pe.distance(this,Ae(p))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(p){var w=180*p/40075017,I=w/Math.cos(Math.PI/180*this.lat);return ee([this.lat-w,this.lng-I],[this.lat+w,this.lng+I])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function Ae(p,w,I){return p instanceof ge?p:A(p)&&typeof p[0]!="object"?p.length===3?new ge(p[0],p[1],p[2]):p.length===2?new ge(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new ge(p.lat,"lng"in p?p.lng:p.lon,p.alt):w===void 0?null:new ge(p,w,I)}var Ze={latLngToPoint:function(p,w){var I=this.projection.project(p),q=this.scale(w);return this.transformation._transform(I,q)},pointToLatLng:function(p,w){var I=this.scale(w),q=this.transformation.untransform(p,I);return this.projection.unproject(q)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var w=this.projection.bounds,I=this.scale(p),q=this.transformation.transform(w.min,I),re=this.transformation.transform(w.max,I);return new ie(q,re)},infinite:!1,wrapLatLng:function(p){var w=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,I=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,q=p.alt;return new ge(I,w,q)},wrapLatLngBounds:function(p){var w=p.getCenter(),I=this.wrapLatLng(w),q=w.lat-I.lat,re=w.lng-I.lng;if(q===0&&re===0)return p;var ve=p.getSouthWest(),Ge=p.getNorthEast(),st=new ge(ve.lat-q,ve.lng-re),yt=new ge(Ge.lat-q,Ge.lng-re);return new K(st,yt)}},Pe=i({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(p,w){var I=Math.PI/180,q=p.lat*I,re=w.lat*I,ve=Math.sin((w.lat-p.lat)*I/2),Ge=Math.sin((w.lng-p.lng)*I/2),st=ve*ve+Math.cos(q)*Math.cos(re)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(st),Math.sqrt(1-st));return this.R*yt}}),Ne=6378137,Ye={R:Ne,MAX_LATITUDE:85.0511287798,project:function(p){var w=Math.PI/180,I=this.MAX_LATITUDE,q=Math.max(Math.min(I,p.lat),-I),re=Math.sin(q*w);return new ue(this.R*p.lng*w,this.R*Math.log((1+re)/(1-re))/2)},unproject:function(p){var w=180/Math.PI;return new ge((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*w,p.x*w/this.R)},bounds:function(){var p=Ne*Math.PI;return new ie([-p,-p],[p,p])}()};function oe(p,w,I,q){if(A(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=w,this._c=I,this._d=q}oe.prototype={transform:function(p,w){return this._transform(p.clone(),w)},_transform:function(p,w){return w=w||1,p.x=w*(this._a*p.x+this._b),p.y=w*(this._c*p.y+this._d),p},untransform:function(p,w){return w=w||1,new ue((p.x/w-this._b)/this._a,(p.y/w-this._d)/this._c)}};function H(p,w,I,q){return new oe(p,w,I,q)}var $=i({},Pe,{code:"EPSG:3857",projection:Ye,transformation:function(){var p=.5/(Math.PI*Ye.R);return H(p,.5,-p,.5)}()}),ae=i({},$,{code:"EPSG:900913"});function Z(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function he(p,w){var I="",q,re,ve,Ge,st,yt;for(q=0,ve=p.length;q<ve;q++){for(st=p[q],re=0,Ge=st.length;re<Ge;re++)yt=st[re],I+=(re?"L":"M")+yt.x+" "+yt.y;I+=w?Ce.svg?"z":"x":""}return I||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Ee=He&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),qt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&qt<537&&!("AudioNode"in window),Be=!!window.opera,ne=!Fe&&We("chrome"),z=We("gecko")&&!tt&&!Be&&!He,W=!ne&&We("safari"),G=We("phantom"),je="OTransition"in ye,Je=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,Rt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,It="MozPerspective"in ye,Nt=!window.L_DISABLE_3D&&(ke||Rt||It)&&!je&&!G,Ot=typeof orientation<"u"||We("mobile"),zt=Ot&&tt,Ar=Ot&&Rt,dn=!window.PointerEvent&&window.MSPointerEvent,hn=!!(window.PointerEvent||dn),gr="ontouchstart"in window||!!window.TouchEvent,un=!window.L_NO_TOUCH&&(gr||hn),ln=Ot&&Be,In=Ot&&z,lr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Le=function(){var p=!1;try{var w=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",h,w),window.removeEventListener("testPassiveEventSupport",h,w)}catch{}return p}(),qe=function(){return!!document.createElement("canvas").getContext}(),bt=!!(document.createElementNS&&Z("svg").createSVGRect),Et=!!bt&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mt=!bt&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var w=p.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Hn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var Ce={ie:He,ielt9:Ee,edge:Fe,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:ne,gecko:z,safari:W,phantom:G,opera12:je,win:Je,ie3d:ke,webkit3d:Rt,gecko3d:It,any3d:Nt,mobile:Ot,mobileWebkit:zt,mobileWebkit3d:Ar,msPointer:dn,pointer:hn,touch:un,touchNative:gr,mobileOpera:ln,mobileGecko:In,retina:lr,passiveEvents:Le,canvas:qe,svg:bt,vml:Mt,inlineSvg:Et,mac:Hn,linux:Jn},et=Ce.msPointer?"MSPointerDown":"pointerdown",ft=Ce.msPointer?"MSPointerMove":"pointermove",it=Ce.msPointer?"MSPointerUp":"pointerup",Ct=Ce.msPointer?"MSPointerCancel":"pointercancel",Dt={touchstart:et,touchmove:ft,touchend:it,touchcancel:Ct},Gt={touchstart:qn,touchmove:Cn,touchend:Cn,touchcancel:Cn},Xt={},Ht=!1;function jt(p,w,I){return w==="touchstart"&&En(),Gt[w]?(I=Gt[w].bind(this,I),p.addEventListener(Dt[w],I,!1),I):(console.warn("wrong event specified:",w),h)}function tn(p,w,I){if(!Dt[w]){console.warn("wrong event specified:",w);return}p.removeEventListener(Dt[w],I,!1)}function Pn(p){Xt[p.pointerId]=p}function Wt(p){Xt[p.pointerId]&&(Xt[p.pointerId]=p)}function Zt(p){delete Xt[p.pointerId]}function En(){Ht||(document.addEventListener(et,Pn,!0),document.addEventListener(ft,Wt,!0),document.addEventListener(it,Zt,!0),document.addEventListener(Ct,Zt,!0),Ht=!0)}function Cn(p,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var I in Xt)w.touches.push(Xt[I]);w.changedTouches=[w],p(w)}}function qn(p,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&ir(w),Cn(p,w)}function Rr(p){var w={},I,q;for(q in p)I=p[q],w[q]=I&&I.bind?I.bind(p):I;return p=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var Qr=200;function Zr(p,w){p.addEventListener("dblclick",w);var I=0,q;function re(ve){if(ve.detail!==1){q=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=Ao(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var st=Date.now();st-I<=Qr?(q++,q===2&&w(Rr(ve))):q=1,I=st}}}return p.addEventListener("click",re),{dblclick:w,simDblclick:re}}function Ir(p,w){p.removeEventListener("dblclick",w.dblclick),p.removeEventListener("click",w.simDblclick)}var $n=ot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ti=ot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qi=ti==="webkitTransition"||ti==="OTransition"?ti+"End":"transitionend";function T(p){return typeof p=="string"?document.getElementById(p):p}function C(p,w){var I=p.style[w]||p.currentStyle&&p.currentStyle[w];if((!I||I==="auto")&&document.defaultView){var q=document.defaultView.getComputedStyle(p,null);I=q?q[w]:null}return I==="auto"?null:I}function R(p,w,I){var q=document.createElement(p);return q.className=w||"",I&&I.appendChild(q),q}function N(p){var w=p.parentNode;w&&w.removeChild(p)}function J(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function le(p){var w=p.parentNode;w&&w.lastChild!==p&&w.appendChild(p)}function we(p){var w=p.parentNode;w&&w.firstChild!==p&&w.insertBefore(p,w.firstChild)}function Ie(p,w){if(p.classList!==void 0)return p.classList.contains(w);var I=$e(p);return I.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(I)}function xe(p,w){if(p.classList!==void 0)for(var I=v(w),q=0,re=I.length;q<re;q++)p.classList.add(I[q]);else if(!Ie(p,w)){var ve=$e(p);Me(p,(ve?ve+" ":"")+w)}}function Oe(p,w){p.classList!==void 0?p.classList.remove(w):Me(p,y((" "+$e(p)+" ").replace(" "+w+" "," ")))}function Me(p,w){p.className.baseVal===void 0?p.className=w:p.className.baseVal=w}function $e(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function ze(p,w){"opacity"in p.style?p.style.opacity=w:"filter"in p.style&&Xe(p,w)}function Xe(p,w){var I=!1,q="DXImageTransform.Microsoft.Alpha";try{I=p.filters.item(q)}catch{if(w===1)return}w=Math.round(w*100),I?(I.Enabled=w!==100,I.Opacity=w):p.style.filter+=" progid:"+q+"(opacity="+w+")"}function ot(p){for(var w=document.documentElement.style,I=0;I<p.length;I++)if(p[I]in w)return p[I];return!1}function dt(p,w,I){var q=w||new ue(0,0);p.style[$n]=(Ce.ie3d?"translate("+q.x+"px,"+q.y+"px)":"translate3d("+q.x+"px,"+q.y+"px,0)")+(I?" scale("+I+")":"")}function ut(p,w){p._leaflet_pos=w,Ce.any3d?dt(p,w):(p.style.left=w.x+"px",p.style.top=w.y+"px")}function be(p){return p._leaflet_pos||new ue(0,0)}var De,Ue,Ke;if("onselectstart"in document)De=function(){Qt(window,"selectstart",ir)},Ue=function(){pn(window,"selectstart",ir)};else{var lt=ot(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var p=document.documentElement.style;Ke=p[lt],p[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Qt(window,"dragstart",ir)}function $t(){pn(window,"dragstart",ir)}var Tt,gn;function Ft(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Vt(),Tt=p,gn=p.style.outlineStyle,p.style.outlineStyle="none",Qt(window,"keydown",Vt))}function Vt(){Tt&&(Tt.style.outlineStyle=gn,Tt=void 0,gn=void 0,pn(window,"keydown",Vt))}function zn(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Nn(p){var w=p.getBoundingClientRect();return{x:w.width/p.offsetWidth||1,y:w.height/p.offsetHeight||1,boundingClientRect:w}}var Un={__proto__:null,TRANSFORM:$n,TRANSITION:ti,TRANSITION_END:Qi,get:T,getStyle:C,create:R,remove:N,empty:J,toFront:le,toBack:we,hasClass:Ie,addClass:xe,removeClass:Oe,setClass:Me,getClass:$e,setOpacity:ze,testProp:ot,setTransform:dt,setPosition:ut,getPosition:be,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:$t,preventOutline:Ft,restoreOutline:Vt,getSizedParentNode:zn,getScale:Nn};function Qt(p,w,I,q){if(w&&typeof w=="object")for(var re in w)yr(p,re,w[re],I);else{w=v(w);for(var ve=0,Ge=w.length;ve<Ge;ve++)yr(p,w[ve],I,q)}return this}var Gn="_leaflet_events";function pn(p,w,I,q){if(arguments.length===1)Yn(p),delete p[Gn];else if(w&&typeof w=="object")for(var re in w)cr(p,re,w[re],I);else if(w=v(w),arguments.length===2)Yn(p,function(st){return P(w,st)!==-1});else for(var ve=0,Ge=w.length;ve<Ge;ve++)cr(p,w[ve],I,q);return this}function Yn(p,w){for(var I in p[Gn]){var q=I.split(/\d/)[0];(!w||w(q))&&cr(p,q,null,null,I)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yr(p,w,I,q){var re=w+l(I)+(q?"_"+l(q):"");if(p[Gn]&&p[Gn][re])return this;var ve=function(st){return I.call(q||p,st||window.event)},Ge=ve;!Ce.touchNative&&Ce.pointer&&w.indexOf("touch")===0?ve=jt(p,w,ve):Ce.touch&&w==="dblclick"?ve=Zr(p,ve):"addEventListener"in p?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?p.addEventListener(mr[w]||w,ve,Ce.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ve=function(st){st=st||window.event,Ji(p,st)&&Ge(st)},p.addEventListener(mr[w],ve,!1)):p.addEventListener(w,Ge,!1):p.attachEvent("on"+w,ve),p[Gn]=p[Gn]||{},p[Gn][re]=ve}function cr(p,w,I,q,re){re=re||w+l(I)+(q?"_"+l(q):"");var ve=p[Gn]&&p[Gn][re];if(!ve)return this;!Ce.touchNative&&Ce.pointer&&w.indexOf("touch")===0?tn(p,w,ve):Ce.touch&&w==="dblclick"?Ir(p,ve):"removeEventListener"in p?p.removeEventListener(mr[w]||w,ve,!1):p.detachEvent("on"+w,ve),p[Gn][re]=null}function Ci(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Zi(p){return yr(p,"wheel",Ci),this}function va(p){return Qt(p,"mousedown touchstart dblclick contextmenu",Ci),p._leaflet_disable_click=!0,this}function ir(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Bi(p){return ir(p),Ci(p),this}function Ao(p){if(p.composedPath)return p.composedPath();for(var w=[],I=p.target;I;)w.push(I),I=I.parentNode;return w}function ar(p,w){if(!w)return new ue(p.clientX,p.clientY);var I=Nn(w),q=I.boundingClientRect;return new ue((p.clientX-q.left)/I.x-w.clientLeft,(p.clientY-q.top)/I.y-w.clientTop)}var $r=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ro(p){return Ce.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/$r:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function Ji(p,w){var I=w.relatedTarget;if(!I)return!0;try{for(;I&&I!==p;)I=I.parentNode}catch{return!1}return I!==p}var zu={__proto__:null,on:Qt,off:pn,stopPropagation:Ci,disableScrollPropagation:Zi,disableClickPropagation:va,preventDefault:ir,stop:Bi,getPropagationPath:Ao,getMousePosition:ar,getWheelDelta:ro,isExternalTarget:Ji,addListener:Qt,removeListener:pn},io=de.extend({run:function(p,w,I,q){this.stop(),this._el=p,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(q||.5,.2),this._startPos=be(p),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Y(this._animate,this),this._step()},_step:function(p){var w=+new Date-this._startTime,I=this._duration*1e3;w<I?this._runFrame(this._easeOut(w/I),p):(this._runFrame(1),this._complete())},_runFrame:function(p,w){var I=this._startPos.add(this._offset.multiplyBy(p));w&&I._round(),ut(this._el,I),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),vn=de.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,w){w=_(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(Ae(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ti&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Qi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,w,I){if(w=w===void 0?this._zoom:this._limitZoom(w),p=this._limitCenter(Ae(p),w,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=i({animate:I.animate},I.zoom),I.pan=i({animate:I.animate,duration:I.duration},I.pan));var q=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,w,I.zoom):this._tryAnimatedPan(p,I.pan);if(q)return clearTimeout(this._sizeTimer),this}return this._resetView(p,w,I.pan&&I.pan.noMoveStart),this},setZoom:function(p,w){return this._loaded?this.setView(this.getCenter(),p,{zoom:w}):(this._zoom=p,this)},zoomIn:function(p,w){return p=p||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,w)},zoomOut:function(p,w){return p=p||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,w)},setZoomAround:function(p,w,I){var q=this.getZoomScale(w),re=this.getSize().divideBy(2),ve=p instanceof ue?p:this.latLngToContainerPoint(p),Ge=ve.subtract(re).multiplyBy(1-1/q),st=this.containerPointToLatLng(re.add(Ge));return this.setView(st,w,{zoom:I})},_getBoundsCenterZoom:function(p,w){w=w||{},p=p.getBounds?p.getBounds():ee(p);var I=k(w.paddingTopLeft||w.padding||[0,0]),q=k(w.paddingBottomRight||w.padding||[0,0]),re=this.getBoundsZoom(p,!1,I.add(q));if(re=typeof w.maxZoom=="number"?Math.min(w.maxZoom,re):re,re===1/0)return{center:p.getCenter(),zoom:re};var ve=q.subtract(I).divideBy(2),Ge=this.project(p.getSouthWest(),re),st=this.project(p.getNorthEast(),re),yt=this.unproject(Ge.add(st).divideBy(2).add(ve),re);return{center:yt,zoom:re}},fitBounds:function(p,w){if(p=ee(p),!p.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(p,w);return this.setView(I.center,I.zoom,w)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,w){return this.setView(p,this._zoom,{pan:w})},panBy:function(p,w){if(p=k(p).round(),w=w||{},!p.x&&!p.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new io,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,I,w.duration||.25,w.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,w,I){if(I=I||{},I.animate===!1||!Ce.any3d)return this.setView(p,w,I);this._stop();var q=this.project(this.getCenter()),re=this.project(p),ve=this.getSize(),Ge=this._zoom;p=Ae(p),w=w===void 0?Ge:w;var st=Math.max(ve.x,ve.y),yt=st*this.getZoomScale(Ge,w),St=re.distanceTo(q)||1,Ut=1.42,rn=Ut*Ut;function mn(wr){var Qs=wr?-1:1,_c=wr?yt:st,nd=yt*yt-st*st+Qs*rn*rn*St*St,Zy=2*_c*rn*St,rd=nd/Zy,os=Math.sqrt(rd*rd+1)-rd,Jy=os<1e-9?-18:Math.log(os);return Jy}function Jr(wr){return(Math.exp(wr)-Math.exp(-wr))/2}function Or(wr){return(Math.exp(wr)+Math.exp(-wr))/2}function vi(wr){return Jr(wr)/Or(wr)}var Ti=mn(0);function as(wr){return st*(Or(Ti)/Or(Ti+Ut*wr))}function Gy(wr){return st*(Or(Ti)*vi(Ti+Ut*wr)-Jr(Ti))/rn}function td(wr){return 1-Math.pow(1-wr,1.5)}var Wy=Date.now(),Xu=(mn(1)-Ti)/Ut,Qy=I.duration?1e3*I.duration:1e3*Xu*.8;function Ws(){var wr=(Date.now()-Wy)/Qy,Qs=td(wr)*Xu;wr<=1?(this._flyToFrame=Y(Ws,this),this._move(this.unproject(q.add(re.subtract(q).multiplyBy(Gy(Qs)/St)),Ge),this.getScaleZoom(st/as(Qs),Ge),{flyTo:!0})):this._move(p,w)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),Ws.call(this),this},flyToBounds:function(p,w){var I=this._getBoundsCenterZoom(p,w);return this.flyTo(I.center,I.zoom,w)},setMaxBounds:function(p){return p=ee(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var w=this.options.minZoom;return this.options.minZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var w=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,w){this._enforcingBounds=!0;var I=this.getCenter(),q=this._limitCenter(I,this._zoom,ee(p));return I.equals(q)||this.panTo(q,w),this._enforcingBounds=!1,this},panInside:function(p,w){w=w||{};var I=k(w.paddingTopLeft||w.padding||[0,0]),q=k(w.paddingBottomRight||w.padding||[0,0]),re=this.project(this.getCenter()),ve=this.project(p),Ge=this.getPixelBounds(),st=me([Ge.min.add(I),Ge.max.subtract(q)]),yt=st.getSize();if(!st.contains(ve)){this._enforcingBounds=!0;var St=ve.subtract(st.getCenter()),Ut=st.extend(ve).getSize().subtract(yt);re.x+=St.x<0?-Ut.x:Ut.x,re.y+=St.y<0?-Ut.y:Ut.y,this.panTo(this.unproject(re),w),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),q=w.divideBy(2).round(),re=I.divideBy(2).round(),ve=q.subtract(re);return!ve.x&&!ve.y?this:(p.animate&&p.pan?this.panBy(ve):(p.pan&&this._rawPanBy(ve),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),I=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,I,p):navigator.geolocation.getCurrentPosition(w,I,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var w=p.code,I=p.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var w=p.coords.latitude,I=p.coords.longitude,q=new ge(w,I),re=q.toBounds(p.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(re);this.setView(q,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var st={latlng:q,bounds:re,timestamp:p.timestamp};for(var yt in p.coords)typeof p.coords[yt]=="number"&&(st[yt]=p.coords[yt]);this.fire("locationfound",st)}},addHandler:function(p,w){if(!w)return this;var I=this[p]=new w(this);return this._handlers.push(I),this.options[p]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)N(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,w){var I="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),q=R("div",I,w||this._mapPane);return p&&(this._panes[p]=q),q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),w=this.unproject(p.getBottomLeft()),I=this.unproject(p.getTopRight());return new K(w,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,w,I){p=ee(p),I=k(I||[0,0]);var q=this.getZoom()||0,re=this.getMinZoom(),ve=this.getMaxZoom(),Ge=p.getNorthWest(),st=p.getSouthEast(),yt=this.getSize().subtract(I),St=me(this.project(st,q),this.project(Ge,q)).getSize(),Ut=Ce.any3d?this.options.zoomSnap:1,rn=yt.x/St.x,mn=yt.y/St.y,Jr=w?Math.max(rn,mn):Math.min(rn,mn);return q=this.getScaleZoom(Jr,q),Ut&&(q=Math.round(q/(Ut/100))*(Ut/100),q=w?Math.ceil(q/Ut)*Ut:Math.floor(q/Ut)*Ut),Math.max(re,Math.min(ve,q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ue(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,w){var I=this._getTopLeftPoint(p,w);return new ie(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,w){var I=this.options.crs;return w=w===void 0?this._zoom:w,I.scale(p)/I.scale(w)},getScaleZoom:function(p,w){var I=this.options.crs;w=w===void 0?this._zoom:w;var q=I.zoom(p*I.scale(w));return isNaN(q)?1/0:q},project:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(Ae(p),w)},unproject:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(k(p),w)},layerPointToLatLng:function(p){var w=k(p).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(p){var w=this.project(Ae(p))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(Ae(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(ee(p))},distance:function(p,w){return this.options.crs.distance(Ae(p),Ae(w))},containerPointToLayerPoint:function(p){return k(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return k(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var w=this.containerPointToLayerPoint(k(p));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(p)))},mouseEventToContainerPoint:function(p){return ar(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var w=this._container=T(p);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(w,"scroll",this._onScroll,this),this._containerId=l(w)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,xe(p,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=C(p,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new ue(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(p.markerPane,"leaflet-zoom-hide"),xe(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,w,I){ut(this._mapPane,new ue(0,0));var q=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var re=this._zoom!==w;this._moveStart(re,I)._move(p,w)._moveEnd(re),this.fire("viewreset"),q&&this.fire("load")},_moveStart:function(p,w){return p&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(p,w,I,q){w===void 0&&(w=this._zoom);var re=this._zoom!==w;return this._zoom=w,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),q?I&&I.pinch&&this.fire("zoom",I):((re||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){ut(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[l(this._container)]=this;var w=p?pn:Qt;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=Y(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,w){for(var I=[],q,re=w==="mouseout"||w==="mouseover",ve=p.target||p.srcElement,Ge=!1;ve;){if(q=this._targets[l(ve)],q&&(w==="click"||w==="preclick")&&this._draggableMoved(q)){Ge=!0;break}if(q&&q.listens(w,!0)&&(re&&!Ji(ve,p)||(I.push(q),re))||ve===this._container)break;ve=ve.parentNode}return!I.length&&!Ge&&!re&&this.listens(w,!0)&&(I=[this]),I},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var w=p.target||p.srcElement;if(!(!this._loaded||w._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(w))){var I=p.type;I==="mousedown"&&Ft(w),this._fireDOMEvent(p,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,w,I){if(p.type==="click"){var q=i({},p);q.type="preclick",this._fireDOMEvent(q,q.type,I)}var re=this._findEventTargets(p,w);if(I){for(var ve=[],Ge=0;Ge<I.length;Ge++)I[Ge].listens(w,!0)&&ve.push(I[Ge]);re=ve.concat(re)}if(re.length){w==="contextmenu"&&ir(p);var st=re[0],yt={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var St=st.getLatLng&&(!st._radius||st._radius<=10);yt.containerPoint=St?this.latLngToContainerPoint(st.getLatLng()):this.mouseEventToContainerPoint(p),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=St?st.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<re.length;Ge++)if(re[Ge].fire(w,yt,!0),yt.originalEvent._stopped||re[Ge].options.bubblingMouseEvents===!1&&P(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,w=this._handlers.length;p<w;p++)this._handlers[p].disable()},whenReady:function(p,w){return this._loaded?p.call(w||this,{target:this}):this.on("load",p,w),this},_getMapPanePos:function(){return be(this._mapPane)||new ue(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,w){var I=p&&w!==void 0?this._getNewPixelOrigin(p,w):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,w){var I=this.getSize()._divideBy(2);return this.project(p,w)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,w,I){var q=this._getNewPixelOrigin(I,w);return this.project(p,w)._subtract(q)},_latLngBoundsToNewLayerBounds:function(p,w,I){var q=this._getNewPixelOrigin(I,w);return me([this.project(p.getSouthWest(),w)._subtract(q),this.project(p.getNorthWest(),w)._subtract(q),this.project(p.getSouthEast(),w)._subtract(q),this.project(p.getNorthEast(),w)._subtract(q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,w,I){if(!I)return p;var q=this.project(p,w),re=this.getSize().divideBy(2),ve=new ie(q.subtract(re),q.add(re)),Ge=this._getBoundsOffset(ve,I,w);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?p:this.unproject(q.add(Ge),w)},_limitOffset:function(p,w){if(!w)return p;var I=this.getPixelBounds(),q=new ie(I.min.add(p),I.max.add(p));return p.add(this._getBoundsOffset(q,w))},_getBoundsOffset:function(p,w,I){var q=me(this.project(w.getNorthEast(),I),this.project(w.getSouthWest(),I)),re=q.min.subtract(p.min),ve=q.max.subtract(p.max),Ge=this._rebound(re.x,-ve.x),st=this._rebound(re.y,-ve.y);return new ue(Ge,st)},_rebound:function(p,w){return p+w>0?Math.round(p-w)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(w))},_limitZoom:function(p){var w=this.getMinZoom(),I=this.getMaxZoom(),q=Ce.any3d?this.options.zoomSnap:1;return q&&(p=Math.round(p/q)*q),Math.max(w,Math.min(I,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,w){var I=this._getCenterOffset(p)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,w),!0)},_createAnimProxy:function(){var p=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(w){var I=$n,q=this._proxy.style[I];dt(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),q===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),w=this.getZoom();dt(this._proxy,this.project(p,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,w,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var q=this.getZoomScale(w),re=this._getCenterOffset(p)._divideBy(1-1/q);return I.animate!==!0&&!this.getSize().contains(re)?!1:(Y(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(p,w,!0)},this),!0)},_animateZoom:function(p,w,I,q){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=w,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:w,noUpdate:q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ma(p,w){return new vn(p,w)}var fr=se.extend({options:{position:"topright"},initialize:function(p){_(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var w=this._map;return w&&w.removeControl(this),this.options.position=p,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var w=this._container=this.onAdd(p),I=this.getPosition(),q=p._controlCorners[I];return xe(w,"leaflet-control"),I.indexOf("bottom")!==-1?q.insertBefore(w,q.firstChild):q.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),qi=function(p){return new fr(p)};vn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},w="leaflet-",I=this._controlContainer=R("div",w+"control-container",this._container);function q(re,ve){var Ge=w+re+" "+w+ve;p[re+ve]=R("div",Ge,I)}q("top","left"),q("top","right"),q("bottom","left"),q("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)N(this._controlCorners[p]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _a=fr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,w,I,q){return I<q?-1:q<I?1:0}},initialize:function(p,w,I){_(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var q in p)this._addLayer(p[q],q);for(q in w)this._addLayer(w[q],q,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return fr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,w){return this._addLayer(p,w),this._map?this._update():this},addOverlay:function(p,w){return this._addLayer(p,w,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var w=this._getLayer(l(p));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",w=this._container=R("div",p),I=this.options.collapsed;w.setAttribute("aria-haspopup",!0),va(w),Zi(w);var q=this._section=R("section",p+"-list");I&&(this._map.on("click",this.collapse,this),Qt(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var re=this._layersLink=R("a",p+"-toggle",w);re.href="#",re.title="Layers",re.setAttribute("role","button"),Qt(re,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){ir(ve),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=R("div",p+"-base",q),this._separator=R("div",p+"-separator",q),this._overlaysList=R("div",p+"-overlays",q),w.appendChild(q)},_getLayer:function(p){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&l(this._layers[w].layer)===p)return this._layers[w]},_addLayer:function(p,w,I){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:w,overlay:I}),this.options.sortLayers&&this._layers.sort(o(function(q,re){return this.options.sortFunction(q.layer,re.layer,q.name,re.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;J(this._baseLayersList),J(this._overlaysList),this._layerControlInputs=[];var p,w,I,q,re=0;for(I=0;I<this._layers.length;I++)q=this._layers[I],this._addItem(q),w=w||q.overlay,p=p||!q.overlay,re+=q.overlay?0:1;return this.options.hideSingleBase&&(p=p&&re>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=w&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var w=this._getLayer(l(p.target)),I=w.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;I&&this._map.fire(I,w)},_createRadioElement:function(p,w){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(w?' checked="checked"':"")+"/>",q=document.createElement("div");return q.innerHTML=I,q.firstChild},_addItem:function(p){var w=document.createElement("label"),I=this._map.hasLayer(p.layer),q;p.overlay?(q=document.createElement("input"),q.type="checkbox",q.className="leaflet-control-layers-selector",q.defaultChecked=I):q=this._createRadioElement("leaflet-base-layers_"+l(this),I),this._layerControlInputs.push(q),q.layerId=l(p.layer),Qt(q,"click",this._onInputClick,this);var re=document.createElement("span");re.innerHTML=" "+p.name;var ve=document.createElement("span");w.appendChild(ve),ve.appendChild(q),ve.appendChild(re);var Ge=p.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,w,I,q=[],re=[];this._handlingClick=!0;for(var ve=p.length-1;ve>=0;ve--)w=p[ve],I=this._getLayer(w.layerId).layer,w.checked?q.push(I):w.checked||re.push(I);for(ve=0;ve<re.length;ve++)this._map.hasLayer(re[ve])&&this._map.removeLayer(re[ve]);for(ve=0;ve<q.length;ve++)this._map.hasLayer(q[ve])||this._map.addLayer(q[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,w,I,q=this._map.getZoom(),re=p.length-1;re>=0;re--)w=p[re],I=this._getLayer(w.layerId).layer,w.disabled=I.options.minZoom!==void 0&&q<I.options.minZoom||I.options.maxZoom!==void 0&&q>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Qt(p,"click",ir),this.expand();var w=this;setTimeout(function(){pn(p,"click",ir),w._preventClick=!1})}}),dr=function(p,w,I){return new _a(p,w,I)},Yi=fr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var w="leaflet-control-zoom",I=R("div",w+" leaflet-bar"),q=this.options;return this._zoomInButton=this._createButton(q.zoomInText,q.zoomInTitle,w+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(q.zoomOutText,q.zoomOutTitle,w+"-out",I,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,w,I,q,re){var ve=R("a",I,q);return ve.innerHTML=p,ve.href="#",ve.title=w,ve.setAttribute("role","button"),ve.setAttribute("aria-label",w),va(ve),Qt(ve,"click",Bi),Qt(ve,"click",re,this),Qt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var p=this._map,w="leaflet-disabled";Oe(this._zoomInButton,w),Oe(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(xe(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(xe(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});vn.mergeOptions({zoomControl:!0}),vn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yi,this.addControl(this.zoomControl))});var ao=function(p){return new Yi(p)},Pr=fr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var w="leaflet-control-scale",I=R("div",w),q=this.options;return this._addScales(q,w+"-line",I),p.on(q.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),I},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,w,I){p.metric&&(this._mScale=R("div",w,I)),p.imperial&&(this._iScale=R("div",w,I))},_update:function(){var p=this._map,w=p.getSize().y/2,I=p.distance(p.containerPointToLatLng([0,w]),p.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(I)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var w=this._getRoundNum(p),I=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,I,w/p)},_updateImperial:function(p){var w=p*3.2808399,I,q,re;w>5280?(I=w/5280,q=this._getRoundNum(I),this._updateScale(this._iScale,q+" mi",q/I)):(re=this._getRoundNum(w),this._updateScale(this._iScale,re+" ft",re/w))},_updateScale:function(p,w,I){p.style.width=Math.round(this.options.maxWidth*I)+"px",p.innerHTML=w},_getRoundNum:function(p){var w=Math.pow(10,(Math.floor(p)+"").length-1),I=p/w;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,w*I}}),sc=function(p){return new Pr(p)},Ro='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Da=fr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Ro+" ":"")+"Leaflet</a>"},initialize:function(p){_(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=R("div","leaflet-control-attribution"),va(this._container);for(var w in p._layers)p._layers[w].getAttribution&&this.addAttribution(p._layers[w].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var w in this._attributions)this._attributions[w]&&p.push(w);var I=[];this.options.prefix&&I.push(this.options.prefix),p.length&&I.push(p.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});vn.mergeOptions({attributionControl:!0}),vn.addInitHook(function(){this.options.attributionControl&&new Da().addTo(this)});var lp=function(p){return new Da(p)};fr.Layers=_a,fr.Zoom=Yi,fr.Scale=Pr,fr.Attribution=Da,qi.layers=dr,qi.zoom=ao,qi.scale=sc,qi.attribution=lp;var Xi=se.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Xi.addTo=function(p,w){return p.addHandler(w,this),this};var Vf={Events:_e},Ly=Ce.touch?"touchstart mousedown":"mousedown",is=de.extend({options:{clickTolerance:3},initialize:function(p,w,I,q){_(this,q),this._element=p,this._dragStartTarget=w||p,this._preventOutline=I},enable:function(){this._enabled||(Qt(this._dragStartTarget,Ly,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(is._dragging===this&&this.finishDrag(!0),pn(this._dragStartTarget,Ly,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){is._dragging===this&&this.finishDrag();return}if(!(is._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(is._dragging=this,this._preventOutline&&Ft(this._element),mt(),De(),!this._moving)){this.fire("down");var w=p.touches?p.touches[0]:p,I=zn(this._element);this._startPoint=new ue(w.clientX,w.clientY),this._startPos=be(this._element),this._parentScale=Nn(I);var q=p.type==="mousedown";Qt(document,q?"mousemove":"touchmove",this._onMove,this),Qt(document,q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var w=p.touches&&p.touches.length===1?p.touches[0]:p,I=new ue(w.clientX,w.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,ir(p),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),ut(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pn(document,"mousemove touchmove",this._onMove,this),pn(document,"mouseup touchend touchcancel",this._onUp,this),$t(),Ue();var w=this._moved&&this._moving;this._moving=!1,is._dragging=!1,w&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Iy(p,w,I){var q,re=[1,4,2,8],ve,Ge,st,yt,St,Ut,rn,mn;for(ve=0,Ut=p.length;ve<Ut;ve++)p[ve]._code=Fs(p[ve],w);for(st=0;st<4;st++){for(rn=re[st],q=[],ve=0,Ut=p.length,Ge=Ut-1;ve<Ut;Ge=ve++)yt=p[ve],St=p[Ge],yt._code&rn?St._code&rn||(mn=Gf(St,yt,rn,w,I),mn._code=Fs(mn,w),q.push(mn)):(St._code&rn&&(mn=Gf(St,yt,rn,w,I),mn._code=Fs(mn,w),q.push(mn)),q.push(yt));p=q}return p}function Kf(p,w){var I,q,re,ve,Ge,st,yt,St,Ut;if(!p||p.length===0)throw new Error("latlngs not passed");mi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var rn=Ae([0,0]),mn=ee(p),Jr=mn.getNorthWest().distanceTo(mn.getSouthWest())*mn.getNorthEast().distanceTo(mn.getNorthWest());Jr<1700&&(rn=cp(p));var Or=p.length,vi=[];for(I=0;I<Or;I++){var Ti=Ae(p[I]);vi.push(w.project(Ae([Ti.lat-rn.lat,Ti.lng-rn.lng])))}for(st=yt=St=0,I=0,q=Or-1;I<Or;q=I++)re=vi[I],ve=vi[q],Ge=re.y*ve.x-ve.y*re.x,yt+=(re.x+ve.x)*Ge,St+=(re.y+ve.y)*Ge,st+=Ge*3;st===0?Ut=vi[0]:Ut=[yt/st,St/st];var as=w.unproject(k(Ut));return Ae([as.lat+rn.lat,as.lng+rn.lng])}function cp(p){for(var w=0,I=0,q=0,re=0;re<p.length;re++){var ve=Ae(p[re]);w+=ve.lat,I+=ve.lng,q++}return Ae([w/q,I/q])}var Ub={__proto__:null,clipPolygon:Iy,polygonCenter:Kf,centroid:cp};function My(p,w){if(!w||!p.length)return p.slice();var I=w*w;return p=zb(p,I),p=qb(p,I),p}function fp(p,w,I){return Math.sqrt(js(p,w,I,!0))}function Bb(p,w,I){return js(p,w,I)}function qb(p,w){var I=p.length,q=typeof Uint8Array<"u"?Uint8Array:Array,re=new q(I);re[0]=re[I-1]=1,dp(p,re,w,0,I-1);var ve,Ge=[];for(ve=0;ve<I;ve++)re[ve]&&Ge.push(p[ve]);return Ge}function dp(p,w,I,q,re){var ve=0,Ge,st,yt;for(st=q+1;st<=re-1;st++)yt=js(p[st],p[q],p[re],!0),yt>ve&&(Ge=st,ve=yt);ve>I&&(w[Ge]=1,dp(p,w,I,q,Ge),dp(p,w,I,Ge,re))}function zb(p,w){for(var I=[p[0]],q=1,re=0,ve=p.length;q<ve;q++)Hb(p[q],p[re])>w&&(I.push(p[q]),re=q);return re<ve-1&&I.push(p[ve-1]),I}var Dy;function ky(p,w,I,q,re){var ve=q?Dy:Fs(p,I),Ge=Fs(w,I),st,yt,St;for(Dy=Ge;;){if(!(ve|Ge))return[p,w];if(ve&Ge)return!1;st=ve||Ge,yt=Gf(p,w,st,I,re),St=Fs(yt,I),st===ve?(p=yt,ve=St):(w=yt,Ge=St)}}function Gf(p,w,I,q,re){var ve=w.x-p.x,Ge=w.y-p.y,st=q.min,yt=q.max,St,Ut;return I&8?(St=p.x+ve*(yt.y-p.y)/Ge,Ut=yt.y):I&4?(St=p.x+ve*(st.y-p.y)/Ge,Ut=st.y):I&2?(St=yt.x,Ut=p.y+Ge*(yt.x-p.x)/ve):I&1&&(St=st.x,Ut=p.y+Ge*(st.x-p.x)/ve),new ue(St,Ut,re)}function Fs(p,w){var I=0;return p.x<w.min.x?I|=1:p.x>w.max.x&&(I|=2),p.y<w.min.y?I|=4:p.y>w.max.y&&(I|=8),I}function Hb(p,w){var I=w.x-p.x,q=w.y-p.y;return I*I+q*q}function js(p,w,I,q){var re=w.x,ve=w.y,Ge=I.x-re,st=I.y-ve,yt=Ge*Ge+st*st,St;return yt>0&&(St=((p.x-re)*Ge+(p.y-ve)*st)/yt,St>1?(re=I.x,ve=I.y):St>0&&(re+=Ge*St,ve+=st*St)),Ge=p.x-re,st=p.y-ve,q?Ge*Ge+st*st:new ue(re,ve)}function mi(p){return!A(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Ny(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mi(p)}function hp(p,w){var I,q,re,ve,Ge,st,yt,St;if(!p||p.length===0)throw new Error("latlngs not passed");mi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Ut=Ae([0,0]),rn=ee(p),mn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());mn<1700&&(Ut=cp(p));var Jr=p.length,Or=[];for(I=0;I<Jr;I++){var vi=Ae(p[I]);Or.push(w.project(Ae([vi.lat-Ut.lat,vi.lng-Ut.lng])))}for(I=0,q=0;I<Jr-1;I++)q+=Or[I].distanceTo(Or[I+1])/2;if(q===0)St=Or[0];else for(I=0,ve=0;I<Jr-1;I++)if(Ge=Or[I],st=Or[I+1],re=Ge.distanceTo(st),ve+=re,ve>q){yt=(ve-q)/re,St=[st.x-yt*(st.x-Ge.x),st.y-yt*(st.y-Ge.y)];break}var Ti=w.unproject(k(St));return Ae([Ti.lat+Ut.lat,Ti.lng+Ut.lng])}var Fy={__proto__:null,simplify:My,pointToSegmentDistance:fp,closestPointOnSegment:Bb,clipSegment:ky,_getEdgeIntersection:Gf,_getBitCode:Fs,_sqClosestPointOnSegment:js,isFlat:mi,_flat:Ny,polylineCenter:hp},Wf={project:function(p){return new ue(p.lng,p.lat)},unproject:function(p){return new ge(p.y,p.x)},bounds:new ie([-180,-90],[180,90])},Qf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var w=Math.PI/180,I=this.R,q=p.lat*w,re=this.R_MINOR/I,ve=Math.sqrt(1-re*re),Ge=ve*Math.sin(q),st=Math.tan(Math.PI/4-q/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return q=-I*Math.log(Math.max(st,1e-10)),new ue(p.lng*w*I,q)},unproject:function(p){for(var w=180/Math.PI,I=this.R,q=this.R_MINOR/I,re=Math.sqrt(1-q*q),ve=Math.exp(-p.y/I),Ge=Math.PI/2-2*Math.atan(ve),st=0,yt=.1,St;st<15&&Math.abs(yt)>1e-7;st++)St=re*Math.sin(Ge),St=Math.pow((1-St)/(1+St),re/2),yt=Math.PI/2-2*Math.atan(ve*St)-Ge,Ge+=yt;return new ge(Ge*w,p.x*w/I)}},jy={__proto__:null,LonLat:Wf,Mercator:Qf,SphericalMercator:Ye},Hu=i({},Pe,{code:"EPSG:3395",projection:Qf,transformation:function(){var p=.5/(Math.PI*Qf.R);return H(p,.5,-p,.5)}()}),$y=i({},Pe,{code:"EPSG:4326",projection:Wf,transformation:H(1/180,1,-1/180,.5)}),Vb=i({},Ze,{projection:Wf,transformation:H(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,w){var I=w.lng-p.lng,q=w.lat-p.lat;return Math.sqrt(I*I+q*q)},infinite:!0});Ze.Earth=Pe,Ze.EPSG3395=Hu,Ze.EPSG3857=$,Ze.EPSG900913=ae,Ze.EPSG4326=$y,Ze.Simple=Vb;var ka=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[l(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[l(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var w=p.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var I=this.getEvents();w.on(I,this),this.once("remove",function(){w.off(I,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});vn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var w=l(p);return this._layers[w]?this:(this._layers[w]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var w=l(p);return this._layers[w]?(this._loaded&&p.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return l(p)in this._layers},eachLayer:function(p,w){for(var I in this._layers)p.call(w,this._layers[I]);return this},_addLayers:function(p){p=p?A(p)?p:[p]:[];for(var w=0,I=p.length;w<I;w++)this.addLayer(p[w])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[l(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var w=l(p);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,w=-1/0,I=this._getZoomSpan();for(var q in this._zoomBoundLayers){var re=this._zoomBoundLayers[q].options;p=re.minZoom===void 0?p:Math.min(p,re.minZoom),w=re.maxZoom===void 0?w:Math.max(w,re.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=p===1/0?void 0:p,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $s=ka.extend({initialize:function(p,w){_(this,w),this._layers={};var I,q;if(p)for(I=0,q=p.length;I<q;I++)this.addLayer(p[I])},addLayer:function(p){var w=this.getLayerId(p);return this._layers[w]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var w=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(p){var w=typeof p=="number"?p:this.getLayerId(p);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var w=Array.prototype.slice.call(arguments,1),I,q;for(I in this._layers)q=this._layers[I],q[p]&&q[p].apply(q,w);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,w){for(var I in this._layers)p.call(w,this._layers[I]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return l(p)}}),Uy=function(p,w){return new $s(p,w)},ea=$s.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),$s.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),$s.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new K;for(var w in this._layers){var I=this._layers[w];p.extend(I.getBounds?I.getBounds():I.getLatLng())}return p}}),uc=function(p,w){return new ea(p,w)},Vu=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){_(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,w){var I=this._getIconUrl(p);if(!I){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var q=this._createImg(I,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(q,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),q},_setIconStyles:function(p,w){var I=this.options,q=I[w+"Size"];typeof q=="number"&&(q=[q,q]);var re=k(q),ve=k(w==="shadow"&&I.shadowAnchor||I.iconAnchor||re&&re.divideBy(2,!0));p.className="leaflet-marker-"+w+" "+(I.className||""),ve&&(p.style.marginLeft=-ve.x+"px",p.style.marginTop=-ve.y+"px"),re&&(p.style.width=re.x+"px",p.style.height=re.y+"px")},_createImg:function(p,w){return w=w||document.createElement("img"),w.src=p,w},_getIconUrl:function(p){return Ce.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Zf(p){return new Vu(p)}var Ku=Vu.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Ku.imagePath!="string"&&(Ku.imagePath=this._detectIconPath()),(this.options.imagePath||Ku.imagePath)+Vu.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var w=function(I,q,re){var ve=q.exec(I);return ve&&ve[re]};return p=w(p,/^url\((['"])?(.+)\1\)$/,2),p&&w(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=R("div","leaflet-default-icon-path",document.body),w=C(p,"background-image")||C(p,"backgroundImage");if(document.body.removeChild(p),w=this._stripUrl(w),w)return w;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),pp=Xi.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new is(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var w=this._marker,I=w._map,q=this._marker.options.autoPanSpeed,re=this._marker.options.autoPanPadding,ve=be(w._icon),Ge=I.getPixelBounds(),st=I.getPixelOrigin(),yt=me(Ge.min._subtract(st).add(re),Ge.max._subtract(st).subtract(re));if(!yt.contains(ve)){var St=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(q);I.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),ut(w._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=Y(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=Y(this._adjustPan.bind(this,p)))},_onDrag:function(p){var w=this._marker,I=w._shadow,q=be(w._icon),re=w._map.layerPointToLatLng(q);I&&ut(I,q),w._latlng=re,p.latlng=re,p.oldLatLng=this._oldLatLng,w.fire("move",p).fire("drag",p)},_onDragEnd:function(p){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Gu=ka.extend({options:{icon:new Ku,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,w){_(this,w),this._latlng=Ae(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var w=this._latlng;return this._latlng=Ae(p),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=p.icon.createIcon(this._icon),q=!1;I!==this._icon&&(this._icon&&this._removeIcon(),q=!0,p.title&&(I.title=p.title),I.tagName==="IMG"&&(I.alt=p.alt||"")),xe(I,w),p.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(I,"focus",this._panOnFocus,this);var re=p.icon.createShadow(this._shadow),ve=!1;re!==this._shadow&&(this._removeShadow(),ve=!0),re&&(xe(re,w),re.alt=""),this._shadow=re,p.opacity<1&&this._updateOpacity(),q&&this.getPane().appendChild(this._icon),this._initInteraction(),re&&ve&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&ut(this._icon,p),this._shadow&&ut(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pp)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pp(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&ze(this._icon,p),this._shadow&&ze(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var w=this.options.icon.options,I=w.iconSize?k(w.iconSize):k(0,0),q=w.iconAnchor?k(w.iconAnchor):k(0,0);p.panInside(this._latlng,{paddingTopLeft:q,paddingBottomRight:I.subtract(q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function gp(p,w){return new Gu(p,w)}var Po=ka.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return _(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),lc=Po.extend({options:{fill:!0,radius:10},initialize:function(p,w){_(this,w),this._latlng=Ae(p),this._radius=this.options.radius},setLatLng:function(p){var w=this._latlng;return this._latlng=Ae(p),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var w=p&&p.radius||this._radius;return Po.prototype.setStyle.call(this,p),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,w=this._radiusY||p,I=this._clickTolerance(),q=[p+I,w+I];this._pxBounds=new ie(this._point.subtract(q),this._point.add(q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function By(p,w){return new lc(p,w)}var mp=lc.extend({initialize:function(p,w,I){if(typeof w=="number"&&(w=i({},I,{radius:w})),_(this,w),this._latlng=Ae(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:Po.prototype.setStyle,_project:function(){var p=this._latlng.lng,w=this._latlng.lat,I=this._map,q=I.options.crs;if(q.distance===Pe.distance){var re=Math.PI/180,ve=this._mRadius/Pe.R/re,Ge=I.project([w+ve,p]),st=I.project([w-ve,p]),yt=Ge.add(st).divideBy(2),St=I.unproject(yt).lat,Ut=Math.acos((Math.cos(ve*re)-Math.sin(w*re)*Math.sin(St*re))/(Math.cos(w*re)*Math.cos(St*re)))/re;(isNaN(Ut)||Ut===0)&&(Ut=ve/Math.cos(Math.PI/180*w)),this._point=yt.subtract(I.getPixelOrigin()),this._radius=isNaN(Ut)?0:yt.x-I.project([St,p-Ut]).x,this._radiusY=yt.y-Ge.y}else{var rn=q.unproject(q.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(rn).x}this._updateBounds()}});function Kb(p,w,I){return new mp(p,w,I)}var Oo=Po.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,w){_(this,w),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var w=1/0,I=null,q=js,re,ve,Ge=0,st=this._parts.length;Ge<st;Ge++)for(var yt=this._parts[Ge],St=1,Ut=yt.length;St<Ut;St++){re=yt[St-1],ve=yt[St];var rn=q(p,re,ve,!0);rn<w&&(w=rn,I=q(p,re,ve))}return I&&(I.distance=Math.sqrt(w)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return hp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,w){return w=w||this._defaultShape(),p=Ae(p),w.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new K,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return mi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var w=[],I=mi(p),q=0,re=p.length;q<re;q++)I?(w[q]=Ae(p[q]),this._bounds.extend(w[q])):w[q]=this._convertLatLngs(p[q]);return w},_project:function(){var p=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),w=new ue(p,p);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(p,w,I){var q=p[0]instanceof ge,re=p.length,ve,Ge;if(q){for(Ge=[],ve=0;ve<re;ve++)Ge[ve]=this._map.latLngToLayerPoint(p[ve]),I.extend(Ge[ve]);w.push(Ge)}else for(ve=0;ve<re;ve++)this._projectLatlngs(p[ve],w,I)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,I,q,re,ve,Ge,st,yt;for(I=0,re=0,ve=this._rings.length;I<ve;I++)for(yt=this._rings[I],q=0,Ge=yt.length;q<Ge-1;q++)st=ky(yt[q],yt[q+1],p,q,!0),st&&(w[re]=w[re]||[],w[re].push(st[0]),(st[1]!==yt[q+1]||q===Ge-2)&&(w[re].push(st[1]),re++))}},_simplifyPoints:function(){for(var p=this._parts,w=this.options.smoothFactor,I=0,q=p.length;I<q;I++)p[I]=My(p[I],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,w){var I,q,re,ve,Ge,st,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(I=0,ve=this._parts.length;I<ve;I++)for(st=this._parts[I],q=0,Ge=st.length,re=Ge-1;q<Ge;re=q++)if(!(!w&&q===0)&&fp(p,st[re],st[q])<=yt)return!0;return!1}});function Gb(p,w){return new Oo(p,w)}Oo._flat=Ny;var Wu=Oo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Kf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var w=Oo.prototype._convertLatLngs.call(this,p),I=w.length;return I>=2&&w[0]instanceof ge&&w[0].equals(w[I-1])&&w.pop(),w},_setLatLngs:function(p){Oo.prototype._setLatLngs.call(this,p),mi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,w=this.options.weight,I=new ue(w,w);if(p=new ie(p.min.subtract(I),p.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var q=0,re=this._rings.length,ve;q<re;q++)ve=Iy(this._rings[q],p,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var w=!1,I,q,re,ve,Ge,st,yt,St;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(I=this._parts[ve],Ge=0,St=I.length,st=St-1;Ge<St;st=Ge++)q=I[Ge],re=I[st],q.y>p.y!=re.y>p.y&&p.x<(re.x-q.x)*(p.y-q.y)/(re.y-q.y)+q.x&&(w=!w);return w||Oo.prototype._containsPoint.call(this,p,!0)}});function ta(p,w){return new Wu(p,w)}var na=ea.extend({initialize:function(p,w){_(this,w),this._layers={},p&&this.addData(p)},addData:function(p){var w=A(p)?p:p.features,I,q,re;if(w){for(I=0,q=w.length;I<q;I++)re=w[I],(re.geometries||re.geometry||re.features||re.coordinates)&&this.addData(re);return this}var ve=this.options;if(ve.filter&&!ve.filter(p))return this;var Ge=cc(p,ve);return Ge?(Ge.feature=Lo(p),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(p,Ge),this.addLayer(Ge)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(w){this._setLayerStyle(w,p)},this)},_setLayerStyle:function(p,w){p.setStyle&&(typeof w=="function"&&(w=w(p.feature)),p.setStyle(w))}});function cc(p,w){var I=p.type==="Feature"?p.geometry:p,q=I?I.coordinates:null,re=[],ve=w&&w.pointToLayer,Ge=w&&w.coordsToLatLng||Jf,st,yt,St,Ut;if(!q&&!I)return null;switch(I.type){case"Point":return st=Ge(q),yp(ve,p,st,w);case"MultiPoint":for(St=0,Ut=q.length;St<Ut;St++)st=Ge(q[St]),re.push(yp(ve,p,st,w));return new ea(re);case"LineString":case"MultiLineString":return yt=fc(q,I.type==="LineString"?0:1,Ge),new Oo(yt,w);case"Polygon":case"MultiPolygon":return yt=fc(q,I.type==="Polygon"?1:2,Ge),new Wu(yt,w);case"GeometryCollection":for(St=0,Ut=I.geometries.length;St<Ut;St++){var rn=cc({geometry:I.geometries[St],type:"Feature",properties:p.properties},w);rn&&re.push(rn)}return new ea(re);case"FeatureCollection":for(St=0,Ut=I.features.length;St<Ut;St++){var mn=cc(I.features[St],w);mn&&re.push(mn)}return new ea(re);default:throw new Error("Invalid GeoJSON object.")}}function yp(p,w,I,q){return p?p(w,I):new Gu(I,q&&q.markersInheritOptions&&q)}function Jf(p){return new ge(p[1],p[0],p[2])}function fc(p,w,I){for(var q=[],re=0,ve=p.length,Ge;re<ve;re++)Ge=w?fc(p[re],w-1,I):(I||Jf)(p[re]),q.push(Ge);return q}function dc(p,w){return p=Ae(p),p.alt!==void 0?[g(p.lng,w),g(p.lat,w),g(p.alt,w)]:[g(p.lng,w),g(p.lat,w)]}function Yf(p,w,I,q){for(var re=[],ve=0,Ge=p.length;ve<Ge;ve++)re.push(w?Yf(p[ve],mi(p[ve])?0:w-1,I,q):dc(p[ve],q));return!w&&I&&re.length>0&&re.push(re[0].slice()),re}function Qu(p,w){return p.feature?i({},p.feature,{geometry:w}):Lo(w)}function Lo(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var hc={toGeoJSON:function(p){return Qu(this,{type:"Point",coordinates:dc(this.getLatLng(),p)})}};Gu.include(hc),mp.include(hc),lc.include(hc),Oo.include({toGeoJSON:function(p){var w=!mi(this._latlngs),I=Yf(this._latlngs,w?1:0,!1,p);return Qu(this,{type:(w?"Multi":"")+"LineString",coordinates:I})}}),Wu.include({toGeoJSON:function(p){var w=!mi(this._latlngs),I=w&&!mi(this._latlngs[0]),q=Yf(this._latlngs,I?2:w?1:0,!0,p);return w||(q=[q]),Qu(this,{type:(I?"Multi":"")+"Polygon",coordinates:q})}}),$s.include({toMultiPoint:function(p){var w=[];return this.eachLayer(function(I){w.push(I.toGeoJSON(p).geometry.coordinates)}),Qu(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(p){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(p);var I=w==="GeometryCollection",q=[];return this.eachLayer(function(re){if(re.toGeoJSON){var ve=re.toGeoJSON(p);if(I)q.push(ve.geometry);else{var Ge=Lo(ve);Ge.type==="FeatureCollection"?q.push.apply(q,Ge.features):q.push(Ge)}}}),I?Qu(this,{geometries:q,type:"GeometryCollection"}):{type:"FeatureCollection",features:q}}});function Zu(p,w){return new na(p,w)}var vp=Zu,pc=ka.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,w,I){this._url=p,this._bounds=ee(w),_(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=ee(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",w=this._image=p?this._url:R("img");if(xe(w,"leaflet-image-layer"),this._zoomAnimated&&xe(w,"leaflet-zoom-animated"),this.options.className&&xe(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(p){var w=this._map.getZoomScale(p.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;dt(this._image,I,w)},_reset:function(){var p=this._image,w=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=w.getSize();ut(p,w.min),p.style.width=I.x+"px",p.style.height=I.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Us=function(p,w,I){return new pc(p,w,I)},Bs=pc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",w=this._image=p?this._url:R("video");if(xe(w,"leaflet-image-layer"),this._zoomAnimated&&xe(w,"leaflet-zoom-animated"),this.options.className&&xe(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onloadeddata=o(this.fire,this,"load"),p){for(var I=w.getElementsByTagName("source"),q=[],re=0;re<I.length;re++)q.push(I[re].src);this._url=I.length>0?q:[w.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=R("source");Ge.src=this._url[ve],w.appendChild(Ge)}}});function _p(p,w,I){return new Bs(p,w,I)}var wp=pc.extend({_initImage:function(){var p=this._image=this._url;xe(p,"leaflet-image-layer"),this._zoomAnimated&&xe(p,"leaflet-zoom-animated"),this.options.className&&xe(p,this.options.className),p.onselectstart=h,p.onmousemove=h}});function qs(p,w,I){return new wp(p,w,I)}var Na=ka.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,w){p&&(p instanceof ge||A(p))?(this._latlng=Ae(p),_(this,w)):(_(this,p),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(o(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=Ae(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(p){var w=this._source;if(!w._map)return!1;if(w instanceof ea){w=null;var I=this._source._layers;for(var q in I)if(I[q]._map){w=I[q];break}if(!w)return!1;this._source=w}if(!p)if(w.getCenter)p=w.getCenter();else if(w.getLatLng)p=w.getLatLng();else if(w.getBounds)p=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")p.innerHTML=w;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),w=k(this.options.offset),I=this._getAnchor();this._zoomAnimated?ut(this._container,p.add(I)):w=w.add(p).add(I);var q=this._containerBottom=-w.y,re=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=q+"px",this._container.style.left=re+"px"}},_getAnchor:function(){return[0,0]}});vn.include({_initOverlay:function(p,w,I,q){var re=w;return re instanceof p||(re=new p(q).setContent(w)),I&&re.setLatLng(I),re}}),ka.include({_initOverlay:function(p,w,I,q){var re=I;return re instanceof p?(_(re,q),re._source=this):(re=w&&!q?w:new p(q,this),re.setContent(I)),re}});var gc=Na.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Na.prototype.openOn.call(this,p)},onAdd:function(p){Na.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Po||this._source.on("preclick",Ci))},onRemove:function(p){Na.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Po||this._source.off("preclick",Ci))},getEvents:function(){var p=Na.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",w=this._container=R("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=R("div",p+"-content-wrapper",w);if(this._contentNode=R("div",p+"-content",I),va(w),Zi(this._contentNode),Qt(w,"contextmenu",Ci),this._tipContainer=R("div",p+"-tip-container",w),this._tip=R("div",p+"-tip",this._tipContainer),this.options.closeButton){var q=this._closeButton=R("a",p+"-close-button",w);q.setAttribute("role","button"),q.setAttribute("aria-label","Close popup"),q.href="#close",q.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(q,"click",function(re){ir(re),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,w=p.style;w.width="",w.whiteSpace="nowrap";var I=p.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),w.width=I+1+"px",w.whiteSpace="",w.height="";var q=p.offsetHeight,re=this.options.maxHeight,ve="leaflet-popup-scrolled";re&&q>re?(w.height=re+"px",xe(p,ve)):Oe(p,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),I=this._getAnchor();ut(this._container,w.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,w=parseInt(C(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+w,q=this._containerWidth,re=new ue(this._containerLeft,-I-this._containerBottom);re._add(be(this._container));var ve=p.layerPointToContainerPoint(re),Ge=k(this.options.autoPanPadding),st=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),St=p.getSize(),Ut=0,rn=0;ve.x+q+yt.x>St.x&&(Ut=ve.x+q-St.x+yt.x),ve.x-Ut-st.x<0&&(Ut=ve.x-st.x),ve.y+I+yt.y>St.y&&(rn=ve.y+I-St.y+yt.y),ve.y-rn-st.y<0&&(rn=ve.y-st.y),(Ut||rn)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([Ut,rn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),qy=function(p,w){return new gc(p,w)};vn.mergeOptions({closePopupOnClick:!0}),vn.include({openPopup:function(p,w,I){return this._initOverlay(gc,p,w,I).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),ka.include({bindPopup:function(p,w){return this._popup=this._initOverlay(gc,this._popup,p,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof ea||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Bi(p);var w=p.layer||p.target;if(this._popup._source===w&&!(w instanceof Po)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=w,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Xf=Na.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Na.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Na.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Na.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",w=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var w,I,q=this._map,re=this._container,ve=q.latLngToContainerPoint(q.getCenter()),Ge=q.layerPointToContainerPoint(p),st=this.options.direction,yt=re.offsetWidth,St=re.offsetHeight,Ut=k(this.options.offset),rn=this._getAnchor();st==="top"?(w=yt/2,I=St):st==="bottom"?(w=yt/2,I=0):st==="center"?(w=yt/2,I=St/2):st==="right"?(w=0,I=St/2):st==="left"?(w=yt,I=St/2):Ge.x<ve.x?(st="right",w=0,I=St/2):(st="left",w=yt+(Ut.x+rn.x)*2,I=St/2),p=p.subtract(k(w,I,!0)).add(Ut).add(rn),Oe(re,"leaflet-tooltip-right"),Oe(re,"leaflet-tooltip-left"),Oe(re,"leaflet-tooltip-top"),Oe(re,"leaflet-tooltip-bottom"),xe(re,"leaflet-tooltip-"+st),ut(re,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&ze(this._container,p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(w)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Wb=function(p,w){return new Xf(p,w)};vn.include({openTooltip:function(p,w,I){return this._initOverlay(Xf,p,w,I).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),ka.include({bindTooltip:function(p,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Xf,this._tooltip,p,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var w=p?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[w](I),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof ea||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&(Qt(w,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Qt(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var w=p.latlng,I,q;this._tooltip.options.sticky&&p.originalEvent&&(I=this._map.mouseEventToContainerPoint(p.originalEvent),q=this._map.containerPointToLayerPoint(I),w=this._map.layerPointToLatLng(q)),this._tooltip.setLatLng(w)}});var zy=Vu.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var w=p&&p.tagName==="DIV"?p:document.createElement("div"),I=this.options;if(I.html instanceof Element?(J(w),w.appendChild(I.html)):w.innerHTML=I.html!==!1?I.html:"",I.bgPos){var q=k(I.bgPos);w.style.backgroundPosition=-q.x+"px "+-q.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function Hy(p){return new zy(p)}Vu.Default=Ku;var Ju=ka.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){_(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),N(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof ue?p:new ue(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var w=this.getPane().children,I=-p(-1/0,1/0),q=0,re=w.length,ve;q<re;q++)ve=w[q].style.zIndex,w[q]!==this._container&&ve&&(I=p(I,+ve));isFinite(I)&&(this.options.zIndex=I+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){ze(this._container,this.options.opacity);var p=+new Date,w=!1,I=!1;for(var q in this._tiles){var re=this._tiles[q];if(!(!re.current||!re.loaded)){var ve=Math.min(1,(p-re.loaded)/200);ze(re.el,ve),ve<1?w=!0:(re.active?I=!0:this._onOpaqueTile(re),re.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),w&&(ce(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,w=this.options.maxZoom;if(p!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===p?(this._levels[I].el.style.zIndex=w-Math.abs(p-I),this._onUpdateLevel(I)):(N(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var q=this._levels[p],re=this._map;return q||(q=this._levels[p]={},q.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),q.el.style.zIndex=w,q.origin=re.project(re.unproject(re.getPixelOrigin()),p).round(),q.zoom=p,this._setZoomTransform(q,re.getCenter(),re.getZoom()),h(q.el.offsetWidth),this._onCreateLevel(q)),this._level=q,q}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var p,w,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)w=this._tiles[p],w.retain=w.current;for(p in this._tiles)if(w=this._tiles[p],w.current&&!w.active){var q=w.coords;this._retainParent(q.x,q.y,q.z,q.z-5)||this._retainChildren(q.x,q.y,q.z,q.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var w in this._tiles)this._tiles[w].coords.z===p&&this._removeTile(w)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)N(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,w,I,q){var re=Math.floor(p/2),ve=Math.floor(w/2),Ge=I-1,st=new ue(+re,+ve);st.z=+Ge;var yt=this._tileCoordsToKey(st),St=this._tiles[yt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),Ge>q?this._retainParent(re,ve,Ge,q):!1)},_retainChildren:function(p,w,I,q){for(var re=2*p;re<2*p+2;re++)for(var ve=2*w;ve<2*w+2;ve++){var Ge=new ue(re,ve);Ge.z=I+1;var st=this._tileCoordsToKey(Ge),yt=this._tiles[st];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);I+1<q&&this._retainChildren(re,ve,I+1,q)}},_resetView:function(p){var w=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var w=this.options;return w.minNativeZoom!==void 0&&p<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<p?w.maxNativeZoom:p},_setView:function(p,w,I,q){var re=Math.round(w);this.options.maxZoom!==void 0&&re>this.options.maxZoom||this.options.minZoom!==void 0&&re<this.options.minZoom?re=void 0:re=this._clampZoom(re);var ve=this.options.updateWhenZooming&&re!==this._tileZoom;(!q||ve)&&(this._tileZoom=re,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),re!==void 0&&this._update(p),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(p,w)},_setZoomTransforms:function(p,w){for(var I in this._levels)this._setZoomTransform(this._levels[I],p,w)},_setZoomTransform:function(p,w,I){var q=this._map.getZoomScale(I,p.zoom),re=p.origin.multiplyBy(q).subtract(this._map._getNewPixelOrigin(w,I)).round();Ce.any3d?dt(p.el,re,q):ut(p.el,re)},_resetGrid:function(){var p=this._map,w=p.options.crs,I=this._tileSize=this.getTileSize(),q=this._tileZoom,re=this._map.getPixelWorldBounds(this._tileZoom);re&&(this._globalTileRange=this._pxBoundsToTileRange(re)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,w.wrapLng[0]],q).x/I.x),Math.ceil(p.project([0,w.wrapLng[1]],q).x/I.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([w.wrapLat[0],0],q).y/I.x),Math.ceil(p.project([w.wrapLat[1],0],q).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var w=this._map,I=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),q=w.getZoomScale(I,this._tileZoom),re=w.project(p,this._tileZoom).floor(),ve=w.getSize().divideBy(q*2);return new ie(re.subtract(ve),re.add(ve))},_update:function(p){var w=this._map;if(w){var I=this._clampZoom(w.getZoom());if(p===void 0&&(p=w.getCenter()),this._tileZoom!==void 0){var q=this._getTiledPixelBounds(p),re=this._pxBoundsToTileRange(q),ve=re.getCenter(),Ge=[],st=this.options.keepBuffer,yt=new ie(re.getBottomLeft().subtract([st,-st]),re.getTopRight().add([st,-st]));if(!(isFinite(re.min.x)&&isFinite(re.min.y)&&isFinite(re.max.x)&&isFinite(re.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Ut=this._tiles[St].coords;(Ut.z!==this._tileZoom||!yt.contains(new ue(Ut.x,Ut.y)))&&(this._tiles[St].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(p,I);return}for(var rn=re.min.y;rn<=re.max.y;rn++)for(var mn=re.min.x;mn<=re.max.x;mn++){var Jr=new ue(mn,rn);if(Jr.z=this._tileZoom,!!this._isValidTile(Jr)){var Or=this._tiles[this._tileCoordsToKey(Jr)];Or?Or.current=!0:Ge.push(Jr)}}if(Ge.sort(function(Ti,as){return Ti.distanceTo(ve)-as.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var vi=document.createDocumentFragment();for(mn=0;mn<Ge.length;mn++)this._addTile(Ge[mn],vi);this._level.el.appendChild(vi)}}}},_isValidTile:function(p){var w=this._map.options.crs;if(!w.infinite){var I=this._globalTileRange;if(!w.wrapLng&&(p.x<I.min.x||p.x>I.max.x)||!w.wrapLat&&(p.y<I.min.y||p.y>I.max.y))return!1}if(!this.options.bounds)return!0;var q=this._tileCoordsToBounds(p);return ee(this.options.bounds).overlaps(q)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var w=this._map,I=this.getTileSize(),q=p.scaleBy(I),re=q.add(I),ve=w.unproject(q,p.z),Ge=w.unproject(re,p.z);return[ve,Ge]},_tileCoordsToBounds:function(p){var w=this._tileCoordsToNwSe(p),I=new K(w[0],w[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var w=p.split(":"),I=new ue(+w[0],+w[1]);return I.z=+w[2],I},_removeTile:function(p){var w=this._tiles[p];w&&(N(w.el),delete this._tiles[p],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){xe(p,"leaflet-tile");var w=this.getTileSize();p.style.width=w.x+"px",p.style.height=w.y+"px",p.onselectstart=h,p.onmousemove=h,Ce.ielt9&&this.options.opacity<1&&ze(p,this.options.opacity)},_addTile:function(p,w){var I=this._getTilePos(p),q=this._tileCoordsToKey(p),re=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(re),this.createTile.length<2&&Y(o(this._tileReady,this,p,null,re)),ut(re,I),this._tiles[q]={el:re,coords:p,current:!0},w.appendChild(re),this.fire("tileloadstart",{tile:re,coords:p})},_tileReady:function(p,w,I){w&&this.fire("tileerror",{error:w,tile:I,coords:p});var q=this._tileCoordsToKey(p);I=this._tiles[q],I&&(I.loaded=+new Date,this._map._fadeAnimated?(ze(I.el,0),ce(this._fadeFrame),this._fadeFrame=Y(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),w||(xe(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?Y(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var w=new ue(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return w.z=p.z,w},_pxBoundsToTileRange:function(p){var w=this.getTileSize();return new ie(p.min.unscaleBy(w).floor(),p.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function Vy(p){return new Ju(p)}var yi=Ju.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,w){this._url=p,w=_(this,w),w.detectRetina&&Ce.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,w){return this._url===p&&w===void 0&&(w=!0),this._url=p,w||this.redraw(),this},createTile:function(p,w){var I=document.createElement("img");return Qt(I,"load",o(this._tileOnLoad,this,w,I)),Qt(I,"error",o(this._tileOnError,this,w,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(p),I},getTileUrl:function(p){var w={r:Ce.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-p.y;this.options.tms&&(w.y=I),w["-y"]=I}return x(this._url,i(w,this.options))},_tileOnLoad:function(p,w){Ce.ielt9?setTimeout(o(p,this,null,w),0):p(null,w)},_tileOnError:function(p,w,I){var q=this.options.errorTileUrl;q&&w.getAttribute("src")!==q&&(w.src=q),p(I,w)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,w=this.options.maxZoom,I=this.options.zoomReverse,q=this.options.zoomOffset;return I&&(p=w-p),p+q},_getSubdomain:function(p){var w=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var p,w;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(w=this._tiles[p].el,w.onload=h,w.onerror=h,!w.complete)){w.src=O;var I=this._tiles[p].coords;N(w),delete this._tiles[p],this.fire("tileabort",{tile:w,coords:I})}},_removeTile:function(p){var w=this._tiles[p];if(w)return w.el.setAttribute("src",O),Ju.prototype._removeTile.call(this,p)},_tileReady:function(p,w,I){if(!(!this._map||I&&I.getAttribute("src")===O))return Ju.prototype._tileReady.call(this,p,w,I)}});function ra(p,w){return new yi(p,w)}var zs=yi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,w){this._url=p;var I=i({},this.defaultWmsParams);for(var q in w)q in this.options||(I[q]=w[q]);w=_(this,w);var re=w.detectRetina&&Ce.retina?2:1,ve=this.getTileSize();I.width=ve.x*re,I.height=ve.y*re,this.wmsParams=I},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,yi.prototype.onAdd.call(this,p)},getTileUrl:function(p){var w=this._tileCoordsToNwSe(p),I=this._crs,q=me(I.project(w[0]),I.project(w[1])),re=q.min,ve=q.max,Ge=(this._wmsVersion>=1.3&&this._crs===$y?[re.y,re.x,ve.y,ve.x]:[re.x,re.y,ve.x,ve.y]).join(","),st=yi.prototype.getTileUrl.call(this,p);return st+S(this.wmsParams,st,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(p,w){return i(this.wmsParams,p),w||this.redraw(),this}});function bp(p,w){return new zs(p,w)}yi.WMS=zs,ra.wms=bp;var wa=ka.extend({options:{padding:.1},initialize:function(p){_(this,p),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,w){var I=this._map.getZoomScale(w,this._zoom),q=this._map.getSize().multiplyBy(.5+this.options.padding),re=this._map.project(this._center,w),ve=q.multiplyBy(-I).add(re).subtract(this._map._getNewPixelOrigin(p,w));Ce.any3d?dt(this._container,ve,I):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,w=this._map.getSize(),I=this._map.containerPointToLayerPoint(w.multiplyBy(-p)).round();this._bounds=new ie(I,I.add(w.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),mc=wa.extend({options:{tolerance:0},getEvents:function(){var p=wa.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){wa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Qt(p,"mousemove",this._onMouseMove,this),Qt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,N(this._container),pn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var w in this._layers)p=this._layers[w],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wa.prototype._update.call(this);var p=this._bounds,w=this._container,I=p.getSize(),q=Ce.retina?2:1;ut(w,p.min),w.width=q*I.x,w.height=q*I.y,w.style.width=I.x+"px",w.style.height=I.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){wa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[l(p)]=p;var w=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var w=p._order,I=w.next,q=w.prev;I?I.prev=q:this._drawLast=q,q?q.next=I:this._drawFirst=I,delete p._order,delete this._layers[l(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var w=p.options.dashArray.split(/[, ]+/),I=[],q,re;for(re=0;re<w.length;re++){if(q=Number(w[re]),isNaN(q))return;I.push(q)}p.options._dashArray=I}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||Y(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var w=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(p._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(p._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var w=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,w=this._redrawBounds;if(this._ctx.save(),w){var I=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var q=this._drawFirst;q;q=q.next)p=q.layer,(!w||p._pxBounds&&p._pxBounds.intersects(w))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,w){if(this._drawing){var I,q,re,ve,Ge=p._parts,st=Ge.length,yt=this._ctx;if(st){for(yt.beginPath(),I=0;I<st;I++){for(q=0,re=Ge[I].length;q<re;q++)ve=Ge[I][q],yt[q?"lineTo":"moveTo"](ve.x,ve.y);w&&yt.closePath()}this._fillStroke(yt,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var w=p._point,I=this._ctx,q=Math.max(Math.round(p._radius),1),re=(Math.max(Math.round(p._radiusY),1)||q)/q;re!==1&&(I.save(),I.scale(1,re)),I.beginPath(),I.arc(w.x,w.y/re,q,0,Math.PI*2,!1),re!==1&&I.restore(),this._fillStroke(I,p)}},_fillStroke:function(p,w){var I=w.options;I.fill&&(p.globalAlpha=I.fillOpacity,p.fillStyle=I.fillColor||I.color,p.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(p.setLineDash&&p.setLineDash(w.options&&w.options._dashArray||[]),p.globalAlpha=I.opacity,p.lineWidth=I.weight,p.strokeStyle=I.color,p.lineCap=I.lineCap,p.lineJoin=I.lineJoin,p.stroke())},_onClick:function(p){for(var w=this._map.mouseEventToLayerPoint(p),I,q,re=this._drawFirst;re;re=re.next)I=re.layer,I.options.interactive&&I._containsPoint(w)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(I))&&(q=I);this._fireEvent(q?[q]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,w)}},_handleMouseOut:function(p){var w=this._hoveredLayer;w&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([w],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,w){if(!this._mouseHoverThrottled){for(var I,q,re=this._drawFirst;re;re=re.next)I=re.layer,I.options.interactive&&I._containsPoint(w)&&(q=I);q!==this._hoveredLayer&&(this._handleMouseOut(p),q&&(xe(this._container,"leaflet-interactive"),this._fireEvent([q],p,"mouseover"),this._hoveredLayer=q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,w,I){this._map._fireDOMEvent(w,I||w.type,p)},_bringToFront:function(p){var w=p._order;if(w){var I=w.next,q=w.prev;if(I)I.prev=q;else return;q?q.next=I:I&&(this._drawFirst=I),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(p)}},_bringToBack:function(p){var w=p._order;if(w){var I=w.next,q=w.prev;if(q)q.next=I;else return;I?I.prev=q:q&&(this._drawLast=q),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(p)}}});function ed(p){return Ce.canvas?new mc(p):null}var ba=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ky={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(wa.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var w=p._container=ba("shape");xe(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",p._path=ba("path"),w.appendChild(p._path),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){var w=p._container;this._container.appendChild(w),p.options.interactive&&p.addInteractiveTarget(w)},_removePath:function(p){var w=p._container;N(w),p.removeInteractiveTarget(w),delete this._layers[l(p)]},_updateStyle:function(p){var w=p._stroke,I=p._fill,q=p.options,re=p._container;re.stroked=!!q.stroke,re.filled=!!q.fill,q.stroke?(w||(w=p._stroke=ba("stroke")),re.appendChild(w),w.weight=q.weight+"px",w.color=q.color,w.opacity=q.opacity,q.dashArray?w.dashStyle=A(q.dashArray)?q.dashArray.join(" "):q.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=q.lineCap.replace("butt","flat"),w.joinstyle=q.lineJoin):w&&(re.removeChild(w),p._stroke=null),q.fill?(I||(I=p._fill=ba("fill")),re.appendChild(I),I.color=q.fillColor||q.color,I.opacity=q.fillOpacity):I&&(re.removeChild(I),p._fill=null)},_updateCircle:function(p){var w=p._point.round(),I=Math.round(p._radius),q=Math.round(p._radiusY||I);this._setPath(p,p._empty()?"M0 0":"AL "+w.x+","+w.y+" "+I+","+q+" 0,"+65535*360)},_setPath:function(p,w){p._path.v=w},_bringToFront:function(p){le(p._container)},_bringToBack:function(p){we(p._container)}},Hs=Ce.vml?ba:Z,oo=wa.extend({_initContainer:function(){this._container=Hs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),pn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){wa.prototype._update.call(this);var p=this._bounds,w=p.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,I.setAttribute("width",w.x),I.setAttribute("height",w.y)),ut(I,p.min),I.setAttribute("viewBox",[p.min.x,p.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(p){var w=p._path=Hs("path");p.options.className&&xe(w,p.options.className),p.options.interactive&&xe(w,"leaflet-interactive"),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){N(p._path),p.removeInteractiveTarget(p._path),delete this._layers[l(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var w=p._path,I=p.options;w&&(I.stroke?(w.setAttribute("stroke",I.color),w.setAttribute("stroke-opacity",I.opacity),w.setAttribute("stroke-width",I.weight),w.setAttribute("stroke-linecap",I.lineCap),w.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?w.setAttribute("stroke-dasharray",I.dashArray):w.removeAttribute("stroke-dasharray"),I.dashOffset?w.setAttribute("stroke-dashoffset",I.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),I.fill?(w.setAttribute("fill",I.fillColor||I.color),w.setAttribute("fill-opacity",I.fillOpacity),w.setAttribute("fill-rule",I.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(p,w){this._setPath(p,he(p._parts,w))},_updateCircle:function(p){var w=p._point,I=Math.max(Math.round(p._radius),1),q=Math.max(Math.round(p._radiusY),1)||I,re="a"+I+","+q+" 0 1,0 ",ve=p._empty()?"M0 0":"M"+(w.x-I)+","+w.y+re+I*2+",0 "+re+-I*2+",0 ";this._setPath(p,ve)},_setPath:function(p,w){p._path.setAttribute("d",w)},_bringToFront:function(p){le(p._path)},_bringToBack:function(p){we(p._path)}});Ce.vml&&oo.include(Ky);function Sp(p){return Ce.svg||Ce.vml?new oo(p):null}vn.include({getRenderer:function(p){var w=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var w=this._paneRenderers[p];return w===void 0&&(w=this._createRenderer({pane:p}),this._paneRenderers[p]=w),w},_createRenderer:function(p){return this.options.preferCanvas&&ed(p)||Sp(p)}});var ia=Wu.extend({initialize:function(p,w){Wu.prototype.initialize.call(this,this._boundsToLatLngs(p),w)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=ee(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function Yu(p,w){return new ia(p,w)}oo.create=Hs,oo.pointsToPath=he,na.geometryToLayer=cc,na.coordsToLatLng=Jf,na.coordsToLatLngs=fc,na.latLngToCoords=dc,na.latLngsToCoords=Yf,na.getFeature=Qu,na.asFeature=Lo,vn.mergeOptions({boxZoom:!0});var Vs=Xi.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(p),Qt(document,{contextmenu:Bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var w=new ie(this._point,this._startPoint),I=w.getSize();ut(this._box,w.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(N(this._box),Oe(this._container,"leaflet-crosshair")),Ue(),$t(),pn(document,{contextmenu:Bi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vn.addInitHook("addHandler","boxZoom",Vs),vn.mergeOptions({doubleClickZoom:!0});var yc=Xi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var w=this._map,I=w.getZoom(),q=w.options.zoomDelta,re=p.originalEvent.shiftKey?I-q:I+q;w.options.doubleClickZoom==="center"?w.setZoom(re):w.setZoomAround(p.containerPoint,re)}});vn.addInitHook("addHandler","doubleClickZoom",yc),vn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vc=Xi.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new is(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=ee(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var w=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(w),this._prunePositions(w)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,w){return p-(p-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;p.x<w.min.x&&(p.x=this._viscousLimit(p.x,w.min.x)),p.y<w.min.y&&(p.y=this._viscousLimit(p.y,w.min.y)),p.x>w.max.x&&(p.x=this._viscousLimit(p.x,w.max.x)),p.y>w.max.y&&(p.y=this._viscousLimit(p.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,w=Math.round(p/2),I=this._initialWorldOffset,q=this._draggable._newPos.x,re=(q-w+I)%p+w-I,ve=(q+w+I)%p-w-I,Ge=Math.abs(re+I)<Math.abs(ve+I)?re:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(p){var w=this._map,I=w.options,q=!I.inertia||p.noInertia||this._times.length<2;if(w.fire("dragend",p),q)w.fire("moveend");else{this._prunePositions(+new Date);var re=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=I.easeLinearity,st=re.multiplyBy(Ge/ve),yt=st.distanceTo([0,0]),St=Math.min(I.inertiaMaxSpeed,yt),Ut=st.multiplyBy(St/yt),rn=St/(I.inertiaDeceleration*Ge),mn=Ut.multiplyBy(-rn/2).round();!mn.x&&!mn.y?w.fire("moveend"):(mn=w._limitOffset(mn,w.options.maxBounds),Y(function(){w.panBy(mn,{duration:rn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});vn.addInitHook("addHandler","dragging",vc),vn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var aa=Xi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Qt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,w=document.documentElement,I=p.scrollTop||w.scrollTop,q=p.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(q,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var w=this._panKeys={},I=this.keyCodes,q,re;for(q=0,re=I.left.length;q<re;q++)w[I.left[q]]=[-1*p,0];for(q=0,re=I.right.length;q<re;q++)w[I.right[q]]=[p,0];for(q=0,re=I.down.length;q<re;q++)w[I.down[q]]=[0,p];for(q=0,re=I.up.length;q<re;q++)w[I.up[q]]=[0,-1*p]},_setZoomDelta:function(p){var w=this._zoomKeys={},I=this.keyCodes,q,re;for(q=0,re=I.zoomIn.length;q<re;q++)w[I.zoomIn[q]]=p;for(q=0,re=I.zoomOut.length;q<re;q++)w[I.zoomOut[q]]=-p},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var w=p.keyCode,I=this._map,q;if(w in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(q=this._panKeys[w],p.shiftKey&&(q=k(q).multiplyBy(3)),I.options.maxBounds&&(q=I._limitOffset(k(q),I.options.maxBounds)),I.options.worldCopyJump){var re=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(q)));I.panTo(re)}else I.panBy(q)}else if(w in this._zoomKeys)I.setZoom(I.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;Bi(p)}}});vn.addInitHook("addHandler","keyboard",aa),vn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var oa=Xi.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var w=ro(p),I=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var q=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),q),Bi(p)},_performZoom:function(){var p=this._map,w=p.getZoom(),I=this._map.options.zoomSnap||0;p._stop();var q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),re=4*Math.log(2/(1+Math.exp(-Math.abs(q))))/Math.LN2,ve=I?Math.ceil(re/I)*I:re,Ge=p._limitZoom(w+(this._delta>0?ve:-ve))-w;this._delta=0,this._startTime=null,Ge&&(p.options.scrollWheelZoom==="center"?p.setZoom(w+Ge):p.setZoomAround(this._lastMousePos,w+Ge))}});vn.addInitHook("addHandler","scrollWheelZoom",oa);var Ks=600;vn.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var so=Xi.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var w=p.touches[0];this._startPos=this._newPos=new ue(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",ir),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Ks),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){pn(document,"touchend",ir),pn(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),pn(document,"touchend touchcancel contextmenu",this._cancel,this),pn(document,"touchmove",this._onMove,this)},_onMove:function(p){var w=p.touches[0];this._newPos=new ue(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,w){var I=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});I._simulated=!0,w.target.dispatchEvent(I)}});vn.addInitHook("addHandler","tapHold",so),vn.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var uo=Xi.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),pn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var w=this._map;if(!(!p.touches||p.touches.length!==2||w._animatingZoom||this._zooming)){var I=w.mouseEventToContainerPoint(p.touches[0]),q=w.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(I.add(q)._divideBy(2))),this._startDist=I.distanceTo(q),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),ir(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var w=this._map,I=w.mouseEventToContainerPoint(p.touches[0]),q=w.mouseEventToContainerPoint(p.touches[1]),re=I.distanceTo(q)/this._startDist;if(this._zoom=w.getScaleZoom(re,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&re<1||this._zoom>w.getMaxZoom()&&re>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,re===1)return}else{var ve=I._add(q)._divideBy(2)._subtract(this._centerPoint);if(re===1&&ve.x===0&&ve.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var Ge=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Y(Ge,this,!0),ir(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),pn(document,"touchmove",this._onTouchMove,this),pn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vn.addInitHook("addHandler","touchZoom",uo),vn.BoxZoom=Vs,vn.DoubleClickZoom=yc,vn.Drag=vc,vn.Keyboard=aa,vn.ScrollWheelZoom=oa,vn.TapHold=so,vn.TouchZoom=uo,n.Bounds=ie,n.Browser=Ce,n.CRS=Ze,n.Canvas=mc,n.Circle=mp,n.CircleMarker=lc,n.Class=se,n.Control=fr,n.DivIcon=zy,n.DivOverlay=Na,n.DomEvent=zu,n.DomUtil=Un,n.Draggable=is,n.Evented=de,n.FeatureGroup=ea,n.GeoJSON=na,n.GridLayer=Ju,n.Handler=Xi,n.Icon=Vu,n.ImageOverlay=pc,n.LatLng=ge,n.LatLngBounds=K,n.Layer=ka,n.LayerGroup=$s,n.LineUtil=Fy,n.Map=vn,n.Marker=Gu,n.Mixin=Vf,n.Path=Po,n.Point=ue,n.PolyUtil=Ub,n.Polygon=Wu,n.Polyline=Oo,n.Popup=gc,n.PosAnimation=io,n.Projection=jy,n.Rectangle=ia,n.Renderer=wa,n.SVG=oo,n.SVGOverlay=wp,n.TileLayer=yi,n.Tooltip=Xf,n.Transformation=oe,n.Util=te,n.VideoOverlay=Bs,n.bind=o,n.bounds=me,n.canvas=ed,n.circle=Kb,n.circleMarker=By,n.control=qi,n.divIcon=Hy,n.extend=i,n.featureGroup=uc,n.geoJSON=Zu,n.geoJson=vp,n.gridLayer=Vy,n.icon=Zf,n.imageOverlay=Us,n.latLng=Ae,n.latLngBounds=ee,n.layerGroup=Uy,n.map=Ma,n.marker=gp,n.point=k,n.polygon=ta,n.polyline=Gb,n.popup=qy,n.rectangle=Yu,n.setOptions=_,n.stamp=l,n.svg=Sp,n.svgOverlay=qs,n.tileLayer=ra,n.tooltip=Wb,n.transformation=H,n.version=r,n.videoOverlay=_p;var Gs=window.L;n.noConflict=function(){return window.L=Gs,this},window.L=n})}(lm,lm.exports)),lm.exports}var Rn=tY();const CP=Lr(Rn),nY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",rY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Rn.Icon.Default.prototype._getIconUrl;Rn.Icon.Default.mergeOptions({iconUrl:rY,iconRetinaUrl:nY,shadowUrl:iY});const aq="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",aY=Rn.icon({...Rn.Icon.Default.prototype.options,iconUrl:lk,iconRetinaUrl:lk}),oY=e=>Rn.icon({...Rn.Icon.Default.prototype.options,iconUrl:ck,iconRetinaUrl:ck,className:e}),W0=["en","cs"],jh="en",oq=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],sY=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:eq,communityId:XB,darkModeLogoStyle:rq,defaultCommunityName:iq,defaultLocale:jh,emailNotificationsIdentity:XJ,emailNotificationsService:YJ,emailNotificationsType:tq,geoindexService:nq,locales:W0,oidcIssuers:oq,tileServer:aq},Symbol.toStringTag,{value:"Module"}));function ki(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var uY=typeof Symbol=="function"&&Symbol.observable||"@@observable",dk=uY,qS=()=>Math.random().toString(36).substring(7).split("").join("."),lY={INIT:`@@redux/INIT${qS()}`,REPLACE:`@@redux/REPLACE${qS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qS()}`},Q0=lY;function TP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function AP(e,t,n){if(typeof e!="function")throw new Error(ki(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ki(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ki(1));return n(AP)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((S,b)=>{o.set(b,S)}))}function d(){if(l)throw new Error(ki(3));return i}function h(S){if(typeof S!="function")throw new Error(ki(4));if(l)throw new Error(ki(5));let b=!0;c();const x=s++;return o.set(x,S),function(){if(b){if(l)throw new Error(ki(6));b=!1,c(),o.delete(x),a=null}}}function g(S){if(!TP(S))throw new Error(ki(7));if(typeof S.type>"u")throw new Error(ki(8));if(typeof S.type!="string")throw new Error(ki(17));if(l)throw new Error(ki(9));try{l=!0,i=r(i,S)}finally{l=!1}return(a=o).forEach(x=>{x()}),S}function y(S){if(typeof S!="function")throw new Error(ki(10));r=S,g({type:Q0.REPLACE})}function v(){const S=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(ki(11));function x(){const P=b;P.next&&P.next(d())}return x(),{unsubscribe:S(x)}},[dk](){return this}}}return g({type:Q0.INIT}),{dispatch:g,subscribe:h,getState:d,replaceReducer:y,[dk]:v}}function cY(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Q0.INIT})>"u")throw new Error(ki(12));if(typeof n(void 0,{type:Q0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ki(13))})}function sq(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{cY(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],g=n[h],y=o[h],v=g(y,s);if(typeof v>"u")throw s&&s.type,new Error(ki(14));c[h]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Z0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function fY(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ki(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=Z0(...s)(i.dispatch),{...i,dispatch:a}}}function dY(e){return TP(e)&&"type"in e&&typeof e.type=="string"}var uq=Symbol.for("immer-nothing"),hk=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function qo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var bh=Object.getPrototypeOf;function Ef(e){return!!e&&!!e[Ya]}function Ru(e){var t;return e?lq(e)||Array.isArray(e)||!!e[hk]||!!((t=e.constructor)!=null&&t[hk])||$w(e)||Uw(e):!1}var hY=Object.prototype.constructor.toString();function lq(e){if(!e||typeof e!="object")return!1;const t=bh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===hY}function J0(e,t){jw(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function jw(e){const t=e[Ya];return t?t.type_:Array.isArray(e)?1:$w(e)?2:Uw(e)?3:0}function sR(e,t){return jw(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cq(e,t,n){const r=jw(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function pY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $w(e){return e instanceof Map}function Uw(e){return e instanceof Set}function ef(e){return e.copy_||e.base_}function uR(e,t){if($w(e))return new Map(e);if(Uw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=lq(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ya];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(bh(e),r)}else{const r=bh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function RP(e,t=!1){return Bw(e)||Ef(e)||!Ru(e)||(jw(e)>1&&(e.set=e.add=e.clear=e.delete=gY),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>RP(r,!0))),e}function gY(){qo(2)}function Bw(e){return Object.isFrozen(e)}var mY={};function Cf(e){const t=mY[e];return t||qo(0,e),t}var Nm;function fq(){return Nm}function yY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pk(e,t){t&&(Cf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lR(e){cR(e),e.drafts_.forEach(vY),e.drafts_=null}function cR(e){e===Nm&&(Nm=e.parent_)}function gk(e){return Nm=yY(Nm,e)}function vY(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ya].modified_&&(lR(t),qo(4)),Ru(e)&&(e=Y0(t,e),t.parent_||X0(t,e)),t.patches_&&Cf("Patches").generateReplacementPatches_(n[Ya].base_,e,t.patches_,t.inversePatches_)):e=Y0(t,n,[]),lR(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uq?e:void 0}function Y0(e,t,n){if(Bw(t))return t;const r=t[Ya];if(!r)return J0(t,(i,a)=>yk(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return X0(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),J0(a,(s,l)=>yk(e,r,i,s,l,n,o)),X0(e,i,!1),n&&e.patches_&&Cf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function yk(e,t,n,r,i,a,o){if(Ef(i)){const s=a&&t&&t.type_!==3&&!sR(t.assigned_,r)?a.concat(r):void 0,l=Y0(e,i,s);if(cq(n,r,l),Ef(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Ru(i)&&!Bw(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Y0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&X0(e,i)}}function X0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&RP(t,n)}function _Y(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:fq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=PP;n&&(i=[r],a=Fm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var PP={get(e,t){if(t===Ya)return e;const n=ef(e);if(!sR(n,t))return wY(e,n,t);const r=n[t];return e.finalized_||!Ru(r)?r:r===zS(e.base_,t)?(HS(e),e.copy_[t]=dR(r,e)):r},has(e,t){return t in ef(e)},ownKeys(e){return Reflect.ownKeys(ef(e))},set(e,t,n){const r=dq(ef(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=zS(ef(e),t),a=i==null?void 0:i[Ya];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(pY(n,i)&&(n!==void 0||sR(e.base_,t)))return!0;HS(e),fR(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zS(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,HS(e),fR(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ef(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){qo(11)},getPrototypeOf(e){return bh(e.base_)},setPrototypeOf(){qo(12)}},Fm={};J0(PP,(e,t)=>{Fm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Fm.deleteProperty=function(e,t){return Fm.set.call(this,e,t,void 0)};Fm.set=function(e,t,n){return PP.set.call(this,e[0],t,n,e[0])};function zS(e,t){const n=e[Ya];return(n?ef(n):e)[t]}function wY(e,t,n){var i;const r=dq(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function dq(e,t){if(!(t in e))return;let n=bh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=bh(n)}}function fR(e){e.modified_||(e.modified_=!0,e.parent_&&fR(e.parent_))}function HS(e){e.copy_||(e.copy_=uR(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var bY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const s=this;return function(c=o,...d){return s.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&qo(6),i!==void 0&&typeof i!="function"&&qo(7);let a;if(Ru(n)){const o=gk(this),s=dR(n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?lR(o):cR(o)}return pk(o,i),mk(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===uq&&(a=void 0),this.autoFreeze_&&RP(a,!0),i){const o=[],s=[];Cf("Patches").generateReplacementPatches_(n,a,o,s),i(o,s)}return a}else qo(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(s,...l)=>this.produceWithPatches(s,c=>n(c,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ru(t)||qo(8),Ef(t)&&(t=SY(t));const n=gk(this),r=dR(t,void 0);return r[Ya].isManual_=!0,cR(n),r}finishDraft(t,n){const r=t&&t[Ya];(!r||!r.isManual_)&&qo(9);const{scope_:i}=r;return pk(i,n),mk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Cf("Patches").applyPatches_;return Ef(t)?i(t,n):this.produce(t,a=>i(a,n))}};function dR(e,t){const n=$w(e)?Cf("MapSet").proxyMap_(e,t):Uw(e)?Cf("MapSet").proxySet_(e,t):_Y(e,t);return(t?t.scope_:fq()).drafts_.push(n),n}function SY(e){return Ef(e)||qo(10,e),hq(e)}function hq(e){if(!Ru(e)||Bw(e))return e;const t=e[Ya];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uR(e,t.scope_.immer_.useStrictShallowCopy_)}else n=uR(e,!0);return J0(n,(r,i)=>{cq(n,r,hq(i))}),t&&(t.finalized_=!1),n}var Xa=new bY,pq=Xa.produce;Xa.produceWithPatches.bind(Xa);Xa.setAutoFreeze.bind(Xa);Xa.setUseStrictShallowCopy.bind(Xa);Xa.applyPatches.bind(Xa);Xa.createDraft.bind(Xa);Xa.finishDraft.bind(Xa);function gq(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var xY=gq(),EY=gq,CY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Z0:Z0.apply(null,arguments)},TY=e=>e&&typeof e.match=="function";function vk(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Eu(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>dY(r)&&r.type===e,n}var mq=class cm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,cm.prototype)}static get[Symbol.species](){return cm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new cm(...t[0].concat(this)):new cm(...t.concat(this))}};function _k(e){return Ru(e)?pq(e,()=>{}):e}function wk(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function AY(e){return typeof e=="boolean"}var RY=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new mq;return n&&(AY(n)?o.push(xY):o.push(EY(n.extraArgument))),o},PY="RTK_autoBatch",bk=e=>t=>{setTimeout(t,e)},OY=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bk(10):e.type==="callback"?e.queueNotification:bk(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),g=r.subscribe(h);return s.add(d),()=>{g(),s.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[PY]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},LY=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new mq(e);return r&&i.push(OY(typeof r=="object"?r:void 0)),i};function IY(e){const t=RY(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e;let s;if(typeof n=="function")s=n;else if(TP(n))s=sq(n);else throw new Error(Eu(1));let l;typeof r=="function"?l=r(t):l=t();let c=Z0;i&&(c=CY({trace:!1,...typeof i=="object"&&i}));const d=fY(...l),h=LY(d);let g=typeof o=="function"?o(h):h();const y=c(...g);return AP(s,a,y)}function yq(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Eu(28));if(s in t)throw new Error(Eu(29));return t[s]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function MY(e){return typeof e=="function"}function DY(e,t){let[n,r,i]=yq(t),a;if(MY(e))a=()=>_k(e());else{const s=_k(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(Ef(d)){const y=h(d,l);return y===void 0?d:y}else{if(Ru(d))return pq(d,g=>h(g,l));{const g=h(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},s)}return o.getInitialState=a,o}var kY=(e,t)=>TY(e)?e.match(t):e(t);function NY(...e){return t=>e.some(n=>kY(n,t))}var FY=Symbol.for("rtk-slice-createasyncthunk");function jY(e,t){return`${e}/${t}`}function $Y({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[FY];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Eu(11));const s=(typeof i.reducers=="function"?i.reducers(BY()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(A,P){const O=typeof A=="string"?A:A.type;if(!O)throw new Error(Eu(12));if(O in c.sliceCaseReducersByType)throw new Error(Eu(13));return c.sliceCaseReducersByType[O]=P,d},addMatcher(A,P){return c.sliceMatchers.push({matcher:A,reducer:P}),d},exposeAction(A,P){return c.actionCreators[A]=P,d},exposeCaseReducer(A,P){return c.sliceCaseReducersByName[A]=P,d}};l.forEach(A=>{const P=s[A],O={reducerName:A,type:jY(a,A),createNotation:typeof i.reducers=="function"};zY(P)?VY(O,P,d,t):qY(O,P,d)});function h(){const[A={},P=[],O=void 0]=typeof i.extraReducers=="function"?yq(i.extraReducers):[i.extraReducers],D={...A,...c.sliceCaseReducersByType};return DY(i.initialState,F=>{for(let Q in D)F.addCase(Q,D[Q]);for(let Q of c.sliceMatchers)F.addMatcher(Q.matcher,Q.reducer);for(let Q of P)F.addMatcher(Q.matcher,Q.reducer);O&&F.addDefaultCase(O)})}const g=A=>A,y=new Map;let v;function _(A,P){return v||(v=h()),v(A,P)}function S(){return v||(v=h()),v.getInitialState()}function b(A,P=!1){function O(F){let Q=F[A];return typeof Q>"u"&&P&&(Q=S()),Q}function D(F=g){const Q=wk(y,P,()=>new WeakMap);return wk(Q,F,()=>{const X={};for(const[U,Y]of Object.entries(i.selectors??{}))X[U]=UY(Y,F,S,P);return X})}return{reducerPath:A,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const x={name:a,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...b(o),injectInto(A,{reducerPath:P,...O}={}){const D=P??o;return A.inject({reducerPath:D,reducer:_},O),{...x,...b(D,!0)}}};return x}}function UY(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var qw=$Y();function BY(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function qY({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!HY(r))throw new Error(Eu(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?vk(e,o):vk(e))}function zY(e){return e._reducerDefinitionType==="asyncThunk"}function HY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function VY({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Eu(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,h=i(e,a,d);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(t,{fulfilled:o||qv,pending:s||qv,rejected:l||qv,settled:c||qv})}function qv(){}function Eu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const vq=()=>{var n;const e=((n=globalThis.navigator.languages)==null?void 0:n[0])??globalThis.navigator.language;return W0.find(r=>r===e)??W0.find(r=>e.startsWith(r))??jh},KY={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",locale:vq()},GY=qw({name:"ui",initialState:KY,reducers:{toggleTheme:e=>{e.theme=e.theme==="dark"?"light":"dark"},changeLocale:(e,t)=>{e.locale=t.payload??vq()}}}),{actions:OP,reducer:WY}=GY,LP=e=>e.ui.theme,Eo=e=>e.ui.locale;var VS={},KS={},Sk;function QY(){return Sk||(Sk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorMessages=e.ErrorType=void 0;var t;(function(n){n.MalformedUnicode="MALFORMED_UNICODE",n.MalformedHexadecimal="MALFORMED_HEXADECIMAL",n.CodePointLimit="CODE_POINT_LIMIT",n.OctalDeprecation="OCTAL_DEPRECATION",n.EndOfString="END_OF_STRING"})(t=e.ErrorType||(e.ErrorType={})),e.errorMessages=new Map([[t.MalformedUnicode,"malformed Unicode character escape sequence"],[t.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[t.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[t.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[t.EndOfString,"malformed escape sequence at end of string"]])}(KS)),KS}var xk;function ZY(){return xk||(xk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unraw=e.errorMessages=e.ErrorType=void 0;const t=QY();Object.defineProperty(e,"ErrorType",{enumerable:!0,get:function(){return t.ErrorType}}),Object.defineProperty(e,"errorMessages",{enumerable:!0,get:function(){return t.errorMessages}});function n(y){return!y.match(/[^a-f0-9]/i)?parseInt(y,16):NaN}function r(y,v,_){const S=n(y);if(Number.isNaN(S)||_!==void 0&&_!==y.length)throw new SyntaxError(t.errorMessages.get(v));return S}function i(y){const v=r(y,t.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(v)}function a(y,v){const _=r(y,t.ErrorType.MalformedUnicode,4);if(v!==void 0){const S=r(v,t.ErrorType.MalformedUnicode,4);return String.fromCharCode(_,S)}return String.fromCharCode(_)}function o(y){return y.charAt(0)==="{"&&y.charAt(y.length-1)==="}"}function s(y){if(!o(y))throw new SyntaxError(t.errorMessages.get(t.ErrorType.MalformedUnicode));const v=y.slice(1,-1),_=r(v,t.ErrorType.MalformedUnicode);try{return String.fromCodePoint(_)}catch(S){throw S instanceof RangeError?new SyntaxError(t.errorMessages.get(t.ErrorType.CodePointLimit)):S}}function l(y,v=!1){if(v)throw new SyntaxError(t.errorMessages.get(t.ErrorType.OctalDeprecation));const _=parseInt(y,8);return String.fromCharCode(_)}const c=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function d(y){return c.get(y)||y}const h=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function g(y,v=!1){return y.replace(h,function(_,S,b,x,A,P,O,D,F){if(S!==void 0)return"\\";if(b!==void 0)return i(b);if(x!==void 0)return s(x);if(A!==void 0)return a(A,P);if(O!==void 0)return a(O);if(D==="0")return"\0";if(D!==void 0)return l(D,!v);if(F!==void 0)return d(F);throw new SyntaxError(t.errorMessages.get(t.ErrorType.EndOfString))})}e.unraw=g,e.default=g}(VS)),VS}var JY=ZY();const ql=e=>typeof e=="string",YY=e=>typeof e=="function",Ek=new Map,_q="en";function IP(e){return[...Array.isArray(e)?e:[e],_q]}function MP(e,t,n){const r=IP(e);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return ew(()=>tw("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(ql(t)?new Date(t):t)}function XY(e,t,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return MP(e,t,r)}function hR(e,t,n){const r=IP(e);return ew(()=>tw("number",r,n),()=>new Intl.NumberFormat(r,n)).format(t)}function Ck(e,t,n,{offset:r=0,...i}){const a=IP(e),o=t?ew(()=>tw("plural-ordinal",a),()=>new Intl.PluralRules(a,{type:"ordinal"})):ew(()=>tw("plural-cardinal",a),()=>new Intl.PluralRules(a,{type:"cardinal"}));return i[n]??i[o.select(n-r)]??i.other}function ew(e,t){const n=e();let r=Ek.get(n);return r||(r=t(),Ek.set(n,r)),r}function tw(e,t,n){const r=t.join("-");return`${e}-${r}-${JSON.stringify(n)}`}const wq=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,bq="%__lingui_octothorpe__%",eX=(e,t,n={})=>{const r=t||e,i=o=>typeof o=="object"?o:n[o],a=(o,s)=>{const l=Object.keys(n).length?i("number"):void 0,c=hR(r,o,l);return s.replace(new RegExp(bq,"g"),c)};return{plural:(o,s)=>{const{offset:l=0}=s,c=Ck(r,!1,o,s);return a(o-l,c)},selectordinal:(o,s)=>{const{offset:l=0}=s,c=Ck(r,!0,o,s);return a(o-l,c)},select:tX,number:(o,s)=>hR(r,o,i(s)||{style:s}),date:(o,s)=>MP(r,o,i(s)||s),time:(o,s)=>XY(r,o,i(s)||s)}},tX=(e,t)=>t[e]??t.other;function nX(e,t,n){return(r={},i)=>{const a=eX(t,n,i),o=(l,c=!1)=>Array.isArray(l)?l.reduce((d,h)=>{if(h==="#"&&c)return d+bq;if(ql(h))return d+h;const[g,y,v]=h;let _={};y==="plural"||y==="selectordinal"||y==="select"?Object.entries(v).forEach(([b,x])=>{_[b]=o(x,y==="plural"||y==="selectordinal")}):_=v;let S;if(y){const b=a[y];S=b(r[g],_)}else S=r[g];return S==null?d:d+S},""):l,s=o(e);return ql(s)&&wq.test(s)?JY.unraw(s):ql(s)?s:s?String(s):""}}var rX=Object.defineProperty,iX=(e,t,n)=>t in e?rX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aX=(e,t,n)=>(iX(e,t+"",n),n);let oX=class{constructor(){aX(this,"_events",{})}on(t,n){var r;return(r=this._events)[t]??(r[t]=[]),this._events[t].push(n),()=>this.removeListener(t,n)}removeListener(t,n){const r=this._getListeners(t);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(t,...n){const r=this._getListeners(t);r&&r.map(i=>i.apply(this,n))}_getListeners(t){const n=this._events[t];return Array.isArray(n)?n:!1}};var sX=Object.defineProperty,uX=(e,t,n)=>t in e?sX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ic=(e,t,n)=>(uX(e,typeof t!="symbol"?t+"":t,n),n);class lX extends oX{constructor(t){super(),Ic(this,"_locale",""),Ic(this,"_locales"),Ic(this,"_localeData",{}),Ic(this,"_messages",{}),Ic(this,"_missing"),Ic(this,"_messageCompiler"),Ic(this,"t",this._.bind(this)),t.missing!=null&&(this._missing=t.missing),t.messages!=null&&this.load(t.messages),t.localeData!=null&&this.loadLocaleData(t.localeData),(typeof t.locale=="string"||t.locales)&&this.activate(t.locale??_q,t.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(t,n){const r=this._localeData[t];r?Object.assign(r,n):this._localeData[t]=n}setMessagesCompiler(t){return this._messageCompiler=t,this}loadLocaleData(t,n){typeof t=="string"?this._loadLocaleData(t,n):Object.keys(t).forEach(r=>this._loadLocaleData(r,t[r])),this.emit("change")}_load(t,n){const r=this._messages[t];r?Object.assign(r,n):this._messages[t]=n}load(t,n){typeof t=="string"&&typeof n=="object"?this._load(t,n):Object.entries(t).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:t,locales:n,messages:r}){this._locale=t,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(t,n){this._locale=t,this._locales=n,this.emit("change")}_(t,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r==null?void 0:r.message;t||(t=""),ql(t)||(n=t.values||n,i=t.message,t=t.id);const a=this.messages[t],o=a===void 0,s=this._missing;if(s&&o)return YY(s)?s(this._locale,t):s;o&&this.emit("missing",{id:t,locale:this._locale});let l=a||i||t;return ql(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),ql(l)&&wq.test(l)?JSON.parse(`"${l}"`):ql(l)?l:nX(l,this._locale,this._locales)(n,r==null?void 0:r.formats)}date(t,n){return MP(this._locales||this._locale,t,n)}number(t,n){return hR(this._locales||this._locale,t,n)}}function cX(e={}){return new lX(e)}const pR=cX(),fX=/<([a-zA-Z0-9]+)>([\s\S]*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,dX={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function Sq(e,t={}){const n=hX(0,"$lingui$"),r=e.split(fX);if(r.length===1)return e;const i=[],a=r.shift();a&&i.push(a);for(const[o,s,l]of xq(r)){let c=typeof o<"u"?t[o]:void 0;(!c||dX[c.type]&&s)&&(console.error(c?`${c.type} is a void element tag therefore it must have no children`:`Can't use element at index '${o}' as it is not declared in the original translation`),c=Pt.createElement(Pt.Fragment)),Array.isArray(c)&&(c=Pt.createElement(Pt.Fragment,{},c)),i.push(Pt.cloneElement(c,{key:n()},s?Sq(s,t):c.props.children)),l&&i.push(l)}return i.length===1?i[0]:i}function xq(e){if(!e.length)return[];const[t,n,r,i]=e.slice(0,4);return[[t||r,n||"",i]].concat(xq(e.slice(4,e.length)))}const hX=(e=0,t="")=>()=>`${t}_${e++}`;function pX(e){const{render:t,component:n,id:r,message:i,formats:a,lingui:{i18n:o,defaultComponent:s}}=e,l={...e.values},c={...e.components};Object.keys(l).forEach(_=>{const S=Object.keys(c).length;typeof l[_]=="string"||typeof l[_]=="number"||(c[S]=Pt.createElement(Pt.Fragment,null,l[_]),l[_]=`<${S}/>`)});const d=o&&typeof o._=="function"?o._(r,l,{message:i,formats:a}):r,h=d?Sq(d,c):null;if(t===null||n===null)return h;const g=s||gX,y={id:r,message:i,translation:h,children:h};if(t&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&typeof t!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(n&&typeof n!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),Pt.createElement(g,y,h);if(typeof t=="function")return t(y);const v=n||g;return Pt.createElement(v,y,h)}const gX=({children:e})=>Pt.createElement(Pt.Fragment,null,e),Eq=Pt.createContext(null),Cq=e=>Pt.useContext(Eq);function Wr(){return Cq()}const mX=({i18n:e,defaultComponent:t,children:n})=>{const r=Pt.useRef(e.locale),i=Pt.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[a,o]=Pt.useState(i());return Pt.useEffect(()=>{const s=()=>{r.current=e.locale,o(i())},l=e.on("change",s);return r.current!==e.locale&&s(),l},[e,i]),r.current?Pt.createElement(Eq.Provider,{value:a},n):null};function _t(e){const t=Cq();return Pt.createElement(pX,{...e,lingui:t})}const yX=({children:e})=>{const t=Fr(Eo),n=ec();return V.useEffect(()=>{t?vX(t):n(OP.changeLocale())},[n,t]),B.jsx(mX,{i18n:pR,children:e})};async function vX(e){const{messages:t}=await JJ(Object.assign({"../locales/cs.ts":()=>uk(()=>import("./cs-CFizdz_J.js"),[]),"../locales/en.ts":()=>uk(()=>import("./en-DfxC8Ja5.js"),[])}),`../locales/${e}.ts`,3);pR.load(e,t),pR.activate(e)}const _X={},wX=qw({name:"auth",initialState:_X,reducers:{signin:(e,t)=>{e.isLoggedIn=t.payload.isLoggedIn,e.webId=t.payload.webId},setUser:(e,t)=>{e.profile=t.payload},signout:e=>{e.isLoggedIn=!1}}}),{actions:DP,reducer:bX}=wX,$h=e=>e.auth,SX={},xX=qw({name:"config",initialState:SX,reducers:{setConfig:(e,t)=>{Object.assign(e,t.payload)},resetConfig:()=>({})}}),{actions:gR,reducer:EX}=xX,Tq=e=>e.config,CX={},TX=qw({name:"login",initialState:CX,reducers:{setLastSelectedIssuer:(e,t)=>{e.lastSelectedIssuer=t.payload}}}),{actions:nw,reducer:AX}=TX,Aq=e=>e.login.lastSelectedIssuer;var kP="persist:",NP="persist/FLUSH",zw="persist/REHYDRATE",FP="persist/PAUSE",jP="persist/PERSIST",$P="persist/PURGE",UP="persist/REGISTER",RX=-1;function x0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x0=function(n){return typeof n}:x0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},x0(e)}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(n,!0).forEach(function(r){OX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LX(e,t,n,r){r.debug;var i=PX({},n);return e&&x0(e)==="object"&&Object.keys(e).forEach(function(a){a!=="_persist"&&t[a]===n[a]&&(i[a]=e[a])}),i}function IX(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,a="".concat(e.keyPrefix!==void 0?e.keyPrefix:kP).concat(e.key),o=e.storage,s;e.serialize===!1?s=function(O){return O}:typeof e.serialize=="function"?s=e.serialize:s=MX;var l=e.writeFailHandler||null,c={},d={},h=[],g=null,y=null,v=function(O){Object.keys(O).forEach(function(D){b(D)&&c[D]!==O[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(c).forEach(function(D){O[D]===void 0&&b(D)&&h.indexOf(D)===-1&&c[D]!==void 0&&h.push(D)}),g===null&&(g=setInterval(_,i)),c=O};function _(){if(h.length===0){g&&clearInterval(g),g=null;return}var P=h.shift(),O=r.reduce(function(D,F){return F.in(D,P,c)},c[P]);if(O!==void 0)try{d[P]=s(O)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete d[P];h.length===0&&S()}function S(){Object.keys(d).forEach(function(P){c[P]===void 0&&delete d[P]}),y=o.setItem(a,s(d)).catch(x)}function b(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function x(P){l&&l(P)}var A=function(){for(;h.length!==0;)_();return y||Promise.resolve()};return{update:v,flush:A}}function MX(e){return JSON.stringify(e)}function DX(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:kP).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(o){return o}:typeof e.deserialize=="function"?i=e.deserialize:i=kX,r.getItem(n).then(function(a){if(a)try{var o={},s=i(a);return Object.keys(s).forEach(function(l){o[l]=t.reduceRight(function(c,d){return d.out(c,l,s)},i(s[l]))}),o}catch(l){throw l}else return})}function kX(e){return JSON.parse(e)}function NX(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:kP).concat(e.key);return t.removeItem(n,FX)}function FX(e){}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(n,!0).forEach(function(r){jX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $X(e,t){if(e==null)return{};var n=UX(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function UX(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var BX=5e3;function qX(e,t){var n=e.version!==void 0?e.version:RX;e.debug;var r=e.stateReconciler===void 0?LX:e.stateReconciler,i=e.getStoredState||DX,a=e.timeout!==void 0?e.timeout:BX,o=null,s=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var g=d||{},y=g._persist,v=$X(g,["_persist"]),_=v;if(h.type===jP){var S=!1,b=function(Q,X){S||(h.rehydrate(e.key,Q,X),S=!0)};if(a&&setTimeout(function(){!S&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},a),l=!1,o||(o=IX(e)),y)return lu({},t(_,h),{_persist:y});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then(function(F){var Q=e.migrate||function(X,U){return Promise.resolve(X)};Q(F,n).then(function(X){b(X)},function(X){b(void 0,X)})},function(F){b(void 0,F)}),lu({},t(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===$P)return s=!0,h.result(NX(e)),lu({},t(_,h),{_persist:y});if(h.type===NP)return h.result(o&&o.flush()),lu({},t(_,h),{_persist:y});if(h.type===FP)l=!0;else if(h.type===zw){if(s)return lu({},_,{_persist:lu({},y,{rehydrated:!0})});if(h.key===e.key){var x=t(_,h),A=h.payload,P=r!==!1&&A!==void 0?r(A,d,x,e):x,O=lu({},P,{_persist:lu({},y,{rehydrated:!0})});return c(O)}}}if(!y)return t(d,h);var D=t(_,h);return D===_?d:c(lu({},D,{_persist:y}))}}function Rk(e){return VX(e)||HX(e)||zX()}function zX(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function HX(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function VX(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(n,!0).forEach(function(r){KX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rq={registry:[],bootstrapped:!1},GX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rq,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case UP:return mR({},t,{registry:[].concat(Rk(t.registry),[n.key])});case zw:var r=t.registry.indexOf(n.key),i=Rk(t.registry);return i.splice(r,1),mR({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function WX(e,t,n){var r=AP(GX,Rq,void 0),i=function(l){r.dispatch({type:UP,key:l})},a=function(l,c,d){var h={type:zw,payload:c,err:d,key:l};e.dispatch(h),r.dispatch(h)},o=mR({},r,{purge:function(){var l=[];return e.dispatch({type:$P,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:NP,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){e.dispatch({type:FP})},persist:function(){e.dispatch({type:jP,register:i,rehydrate:a})}});return o.persist(),o}var ng={},zv={},Hv={},Ok;function QX(){if(Ok)return Hv;Ok=1,Hv.__esModule=!0,Hv.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(a)}function t(){}var n={getItem:t,setItem:t,removeItem:t};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var o=self[a],s="redux-persist ".concat(a," test");o.setItem(s,"test"),o.getItem(s),o.removeItem(s)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:n}return Hv}var Lk;function ZX(){if(Lk)return zv;Lk=1,zv.__esModule=!0,zv.default=n;var e=t(QX());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,e.default)(r);return{getItem:function(o){return new Promise(function(s,l){s(i.getItem(o))})},setItem:function(o,s){return new Promise(function(l,c){l(i.setItem(o,s))})},removeItem:function(o){return new Promise(function(s,l){s(i.removeItem(o))})}}}return zv}var Ik;function JX(){if(Ik)return ng;Ik=1,ng.__esModule=!0,ng.default=void 0;var e=t(ZX());function t(r){return r&&r.__esModule?r:{default:r}}var n=(0,e.default)("local");return ng.default=n,ng}var YX=JX();const XX=Lr(YX),Vv=sq({auth:bX,login:AX,config:EX,ui:WY}),eee=(e,t)=>{if(NY(DP.signout)(t)){let n=Vv(void 0,t);const r=e&&Tq(e);r&&(n=Vv(n,gR.setConfig(r)));const i=e&&Aq(e);return i&&(n=Vv(n,nw.setLastSelectedIssuer(i))),n}return Vv(e,t)},tee={key:"root",storage:XX,whitelist:["login","config","ui"]},nee=qX(tee,eee),Pq=IY({reducer:nee,middleware:e=>e({serializableCheck:{ignoredActions:[NP,zw,FP,jP,$P,UP]}})}),ree=WX(Pq),Uh=crypto,BP=e=>e instanceof CryptoKey,xs=new TextEncoder,Sh=new TextDecoder;function Oq(...e){const t=e.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const iee=e=>{let t=e;typeof t=="string"&&(t=xs.encode(t));const n=32768,r=[];for(let i=0;i<t.length;i+=n)r.push(String.fromCharCode.apply(null,t.subarray(i,i+n)));return btoa(r.join(""))},E0=e=>iee(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),aee=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},_f=e=>{let t=e;t instanceof Uint8Array&&(t=Sh.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return aee(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ji extends Error{constructor(t,n){var r;super(t,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}ji.code="ERR_JOSE_GENERIC";class No extends ji{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}No.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class yR extends ji{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}yR.code="ERR_JWT_EXPIRED";class Lq extends ji{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Lq.code="ERR_JOSE_ALG_NOT_ALLOWED";class Aa extends ji{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Aa.code="ERR_JOSE_NOT_SUPPORTED";class oee extends ji{constructor(t="decryption operation failed",n){super(t,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}oee.code="ERR_JWE_DECRYPTION_FAILED";class see extends ji{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}see.code="ERR_JWE_INVALID";class kr extends ji{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}kr.code="ERR_JWS_INVALID";class Hw extends ji{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}Hw.code="ERR_JWT_INVALID";class uee extends ji{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}uee.code="ERR_JWK_INVALID";class qP extends ji{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}qP.code="ERR_JWKS_INVALID";class zP extends ji{constructor(t="no applicable key found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}zP.code="ERR_JWKS_NO_MATCHING_KEY";class Iq extends ji{constructor(t="multiple matching keys found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Iq.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class Mq extends ji{constructor(t="request timed out",n){super(t,n),this.code="ERR_JWKS_TIMEOUT"}}Mq.code="ERR_JWKS_TIMEOUT";class Dq extends ji{constructor(t="signature verification failed",n){super(t,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}Dq.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function cu(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Kv(e,t){return e.name===t}function GS(e){return parseInt(e.name.slice(4),10)}function lee(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function cee(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function fee(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!Kv(e.algorithm,"HMAC"))throw cu("HMAC");const r=parseInt(t.slice(2),10);if(GS(e.algorithm.hash)!==r)throw cu(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Kv(e.algorithm,"RSASSA-PKCS1-v1_5"))throw cu("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(GS(e.algorithm.hash)!==r)throw cu(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Kv(e.algorithm,"RSA-PSS"))throw cu("RSA-PSS");const r=parseInt(t.slice(2),10);if(GS(e.algorithm.hash)!==r)throw cu(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw cu("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!Kv(e.algorithm,"ECDSA"))throw cu("ECDSA");const r=lee(t);if(e.algorithm.namedCurve!==r)throw cu(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}cee(e,n)}function kq(e,t,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();e+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const vR=(e,...t)=>kq("Key must be ",e,...t);function Nq(e,t,...n){return kq(`Key for the ${e} algorithm must be `,t,...n)}const Fq=e=>BP(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",jm=["CryptoKey"],jq=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function dee(e){return typeof e=="object"&&e!==null}function Pu(e){if(!dee(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const $q=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Bh(e){return Pu(e)&&typeof e.kty=="string"}function hee(e){return e.kty!=="oct"&&typeof e.d=="string"}function pee(e){return e.kty!=="oct"&&typeof e.d>"u"}function gee(e){return Bh(e)&&e.kty==="oct"&&typeof e.k=="string"}function mee(e){let t,n;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Aa('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const Uq=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=mee(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,Uh.subtle.importKey("jwk",i,...r)},Bq=e=>_f(e);let xd,Ed;const qq=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",rw=async(e,t,n,r,i=!1)=>{let a=e.get(t);if(a!=null&&a[r])return a[r];const o=await Uq({...n,alg:r});return i&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},yee=(e,t)=>{if(qq(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?Bq(n.k):(Ed||(Ed=new WeakMap),rw(Ed,e,n,t))}return Bh(e)?e.k?_f(e.k):(Ed||(Ed=new WeakMap),rw(Ed,e,e,t,!0)):e},vee=(e,t)=>{if(qq(e)){let n=e.export({format:"jwk"});return n.k?Bq(n.k):(xd||(xd=new WeakMap),rw(xd,e,n,t))}return Bh(e)?e.k?_f(e.k):(xd||(xd=new WeakMap),rw(xd,e,e,t,!0)):e},Mk={normalizePublicKey:yee,normalizePrivateKey:vee};async function zq(e,t){if(!Pu(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return _f(e.k);case"RSA":if(e.oth!==void 0)throw new Aa('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return Uq({...e,alg:t});default:throw new Aa('Unsupported "kty" (Key Type) Parameter value')}}const qd=e=>e==null?void 0:e[Symbol.toStringTag],_R=(e,t,n)=>{var r,i;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((i=(r=t.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},_ee=(e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&Bh(t)){if(gee(t)&&_R(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Fq(t))throw new TypeError(Nq(e,t,...jm,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${qd(t)} instances for symmetric algorithms must be of type "secret"`)}},wee=(e,t,n,r)=>{if(r&&Bh(t))switch(n){case"sign":if(hee(t)&&_R(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(pee(t)&&_R(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Fq(t))throw new TypeError(Nq(e,t,...jm,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${qd(t)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${qd(t)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${qd(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${qd(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${qd(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function Hq(e,t,n,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?_ee(t,n,r,e):wee(t,n,r,e)}Hq.bind(void 0,!1);const wR=Hq.bind(void 0,!0);function Vq(e,t,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...t.entries()]):a=t;for(const o of r.crit){if(!a.has(o))throw new Aa(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const bee=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},See=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:E0(e)};if(!BP(e))throw new TypeError(vR(e,...jm,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...a}=await Uh.subtle.exportKey("jwk",e);return a};async function xee(e){return See(e)}function Kq(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Aa(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function Gq(e,t,n){if(n==="sign"&&(t=await Mk.normalizePrivateKey(t,e)),n==="verify"&&(t=await Mk.normalizePublicKey(t,e)),BP(t))return fee(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(vR(t,...jm));return Uh.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(vR(t,...jm,"Uint8Array","JSON Web Key"))}const Eee=async(e,t,n,r)=>{const i=await Gq(e,t,"verify");$q(e,i);const a=Kq(e,i.algorithm);try{return await Uh.subtle.verify(a,i,n,r)}catch{return!1}};async function Cee(e,t,n){if(!Pu(e))throw new kr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new kr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new kr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new kr("JWS Payload missing");if(typeof e.signature!="string")throw new kr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Pu(e.header))throw new kr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const _=_f(e.protected);r=JSON.parse(Sh.decode(_))}catch{throw new kr("JWS Protected Header is invalid")}if(!jq(r,e.header))throw new kr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header},a=Vq(kr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new kr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new kr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=bee("algorithms",n.algorithms);if(l&&!l.has(s))throw new Lq('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof e.payload!="string")throw new kr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new kr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof t=="function"?(t=await t(r,e),c=!0,wR(s,t,"verify"),Bh(t)&&(t=await zq(t,s))):wR(s,t,"verify");const d=Oq(xs.encode(e.protected??""),xs.encode("."),typeof e.payload=="string"?xs.encode(e.payload):e.payload);let h;try{h=_f(e.signature)}catch{throw new kr("Failed to base64url decode the signature")}if(!await Eee(s,t,h,d))throw new Dq;let y;if(o)try{y=_f(e.payload)}catch{throw new kr("Failed to base64url decode the payload")}else typeof e.payload=="string"?y=xs.encode(e.payload):y=e.payload;const v={payload:y};return e.protected!==void 0&&(v.protectedHeader=r),e.header!==void 0&&(v.unprotectedHeader=e.header),c?{...v,key:t}:v}async function Tee(e,t,n){if(e instanceof Uint8Array&&(e=Sh.decode(e)),typeof e!="string")throw new kr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=e.split(".");if(o!==3)throw new kr("Invalid Compact JWS");const s=await Cee({payload:i,protected:r,signature:a},t,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const Cl=e=>Math.floor(e.getTime()/1e3),Wq=60,Qq=Wq*60,HP=Qq*24,Aee=HP*7,Ree=HP*365.25,Pee=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,xm=e=>{const t=Pee.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),r=t[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*Wq);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*Qq);break;case"day":case"days":case"d":i=Math.round(n*HP);break;case"week":case"weeks":case"w":i=Math.round(n*Aee);break;default:i=Math.round(n*Ree);break}return t[1]==="-"||t[4]==="ago"?-i:i},Dk=e=>e.toLowerCase().replace(/^application\//,""),Oee=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,Lee=(e,t,n={})=>{let r;try{r=JSON.parse(Sh.decode(t))}catch{}if(!Pu(r))throw new Hw("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof e.typ!="string"||Dk(e.typ)!==Dk(i)))throw new No('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:l,maxTokenAge:c}=n,d=[...a];c!==void 0&&d.push("iat"),l!==void 0&&d.push("aud"),s!==void 0&&d.push("sub"),o!==void 0&&d.push("iss");for(const v of new Set(d.reverse()))if(!(v in r))throw new No(`missing required "${v}" claim`,r,v,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new No('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new No('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!Oee(r.aud,typeof l=="string"?[l]:l))throw new No('unexpected "aud" claim value',r,"aud","check_failed");let h;switch(typeof n.clockTolerance){case"string":h=xm(n.clockTolerance);break;case"number":h=n.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=n,y=Cl(g||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new No('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new No('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+h)throw new No('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new No('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-h)throw new yR('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){const v=y-r.iat,_=typeof c=="number"?c:xm(c);if(v-h>_)throw new yR('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(v<0-h)throw new No('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function Iee(e,t,n){var o;const r=await Tee(e,t,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new Hw("JWTs MUST NOT use unencoded payload");const a={payload:Lee(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof t=="function"?{...a,key:r.key}:a}const Mee=async(e,t,n)=>{const r=await Gq(e,t,"sign");$q(e,r);const i=await Uh.subtle.sign(Kq(e,r.algorithm),r,n);return new Uint8Array(i)};class Dee{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new kr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!jq(this._protectedHeader,this._unprotectedHeader))throw new kr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=Vq(kr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new kr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new kr('JWS "alg" (Algorithm) Header Parameter missing or invalid');wR(o,t,"sign");let s=this._payload;a&&(s=xs.encode(E0(s)));let l;this._protectedHeader?l=xs.encode(E0(JSON.stringify(this._protectedHeader))):l=xs.encode("");const c=Oq(l,xs.encode("."),s),d=await Mee(o,t,c),h={signature:E0(d),payload:""};return a&&(h.payload=Sh.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=Sh.decode(l)),h}}class kee{constructor(t){this._flattened=new Dee(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,n){const r=await this._flattened.sign(t,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function Mc(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Nee{constructor(t={}){if(!Pu(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:Mc("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:Mc("setNotBefore",Cl(t))}:this._payload={...this._payload,nbf:Cl(new Date)+xm(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:Mc("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:Mc("setExpirationTime",Cl(t))}:this._payload={...this._payload,exp:Cl(new Date)+xm(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Cl(new Date)}:t instanceof Date?this._payload={...this._payload,iat:Mc("setIssuedAt",Cl(t))}:typeof t=="string"?this._payload={...this._payload,iat:Mc("setIssuedAt",Cl(new Date)+xm(t))}:this._payload={...this._payload,iat:Mc("setIssuedAt",t)},this}}class Fee extends Nee{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,n){var i;const r=new kee(xs.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Hw("JWTs MUST NOT use unencoded payload");return r.sign(t,n)}}function jee(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Aa('Unsupported "alg" value for a JSON Web Key Set')}}function $ee(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(Uee)}function Uee(e){return Pu(e)}function Zq(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class Bee{constructor(t){if(this._cached=new WeakMap,!$ee(t))throw new qP("JSON Web Key Set malformed");this._jwks=Zq(t)}async getKey(t,n){const{alg:r,kid:i}={...t,...n==null?void 0:n.header},a=jee(r),o=this._jwks.keys.filter(c=>{let d=a===c.kty;if(d&&typeof i=="string"&&(d=i===c.kid),d&&typeof c.alg=="string"&&(d=r===c.alg),d&&typeof c.use=="string"&&(d=c.use==="sig"),d&&Array.isArray(c.key_ops)&&(d=c.key_ops.includes("verify")),d&&r==="EdDSA"&&(d=c.crv==="Ed25519"||c.crv==="Ed448"),d)switch(r){case"ES256":d=c.crv==="P-256";break;case"ES256K":d=c.crv==="secp256k1";break;case"ES384":d=c.crv==="P-384";break;case"ES512":d=c.crv==="P-521";break}return d}),{0:s,length:l}=o;if(l===0)throw new zP;if(l!==1){const c=new Iq,{_cached:d}=this;throw c[Symbol.asyncIterator]=async function*(){for(const h of o)try{yield await kk(d,h,r)}catch{}},c}return kk(this._cached,s,r)}}async function kk(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(r[n]===void 0){const i=await zq({...t,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new qP("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function Nk(e){const t=new Bee(e),n=async(r,i)=>t.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>Zq(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const qee=async(e,t,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},t));const o=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw a?new Mq:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new ji("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new ji("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function zee(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let bR;var v0,fB;(typeof navigator>"u"||!((fB=(v0=navigator.userAgent)==null?void 0:v0.startsWith)!=null&&fB.call(v0,"Mozilla/5.0 ")))&&(bR="jose/v5.9.6");const WS=Symbol();function Hee(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!Pu(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,Pu))}class Vee{constructor(t,n){if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[WS])!==void 0&&(this._cache=n==null?void 0:n[WS],Hee(n==null?void 0:n[WS],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Nk(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(t,n)}catch(r){if(r instanceof zP&&this.coolingDown()===!1)return await this.reload(),this._local(t,n);throw r}}async reload(){this._pendingFetch&&zee()&&(this._pendingFetch=void 0);const t=new Headers(this._options.headers);bR&&!t.has("User-Agent")&&(t.set("User-Agent",bR),this._options.headers=Object.fromEntries(t.entries())),this._pendingFetch||(this._pendingFetch=qee(this._url,this._timeoutDuration,this._options).then(n=>{this._local=Nk(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function Kee(e,t){const n=new Vee(e,t),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function QS(e){const t=(e==null?void 0:e.modulusLength)??2048;if(typeof t!="number"||t<2048)throw new Aa("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function Gee(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:QS(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:QS(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:QS(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new Aa("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new Aa("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Uh.subtle.generateKey(n,!1,r)}async function Wee(e,t){return Gee(e,t)}const Li=[];for(let e=0;e<256;++e)Li.push((e+256).toString(16).slice(1));function Qee(e,t=0){return(Li[e[t+0]]+Li[e[t+1]]+Li[e[t+2]]+Li[e[t+3]]+"-"+Li[e[t+4]]+Li[e[t+5]]+"-"+Li[e[t+6]]+Li[e[t+7]]+"-"+Li[e[t+8]]+Li[e[t+9]]+"-"+Li[e[t+10]]+Li[e[t+11]]+Li[e[t+12]]+Li[e[t+13]]+Li[e[t+14]]+Li[e[t+15]]).toLowerCase()}let ZS;const Zee=new Uint8Array(16);function Jee(){if(!ZS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ZS=crypto.getRandomValues.bind(crypto)}return ZS(Zee)}const Yee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fk={randomUUID:Yee};function Jq(e,t,n){if(Fk.randomUUID&&!t&&!e)return Fk.randomUUID();e=e||{};const r=e.random||(e.rng||Jee)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Qee(r)}const Yq="solidClientAuthn:",iw=["ES256","RS256"],ui={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},jk=5,Xee="openid",ete="offline_access",tte="webid",Xq=[Xee,ete,tte].join(" ");class nte{constructor(t){this.handleables=t,this.handleables=t}async getProperHandler(t){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...t)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...t){return await this.getProperHandler(t)!==null}async handle(...t){const n=await this.getProperHandler(t);if(n)return n.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function e9(e,t,n,r){let i,a;try{const{payload:o}=await Iee(e,Kee(new URL(t)),{issuer:n,audience:r});i=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${o}].`)}}function t9(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=t.hash==="";return n&&r}catch{return!1}}function n9(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function rte(e,t){return typeof e=="boolean"?!!e:!!t}class ite{constructor(t,n){this.storageUtility=t,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=t,this.redirector=n}async canHandle(t){return this.parametersGuard(t)}async handleRedirect({oidcLoginOptions:t,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(t))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:r,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:(!!t.dpop).toString(),keepAlive:rte(t.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:t.handleRedirect})}}class ate{constructor(t){this.sessionInfoManager=t,this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}}class ote{constructor(t){this.redirector=t,this.redirector=t}async canHandle(t,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(t,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class ste{constructor(t,n){this.handlers=[new ate(t),new ote(n)]}async canHandle(){return!0}async handle(t,n){for(const r of this.handlers)await r.canHandle(t,n)&&await r.handle(t,n)}}function r9(){return{isLoggedIn:!1,sessionId:Jq(),fetch:(...e)=>fetch(...e)}}async function i9(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class ute{constructor(t){this.storageUtility=t,this.storageUtility=t}update(t,n){throw new Error("Not Implemented")}get(t){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(t){return i9(t,this.storageUtility)}async register(t){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function lte({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return t!==void 0&&i.searchParams.append("id_token_hint",t),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function cte({endSessionEndpoint:e,idTokenHint:t}){if(e!==void 0)return function({state:r,postLogoutUrl:i}){return lte({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:i})}}function fte(e){return typeof e=="string"&&["DPoP","Bearer"].includes(e)}function a9(e){try{return new URL(e),!0}catch{return!1}}function dte(e,t){var n;return(n=t.find(r=>e.includes(r)))!==null&&n!==void 0?n:null}function hte(e){return e.clientId!==void 0&&!a9(e.clientId)}function pte(e,t){return t.scopesSupported.includes("webid")&&e.clientId!==void 0&&a9(e.clientId)}function gte(e){return typeof e=="string"&&["dynamic","static","solid-oidc"].includes(e)}async function mte(e,t,n,r){let i;if(pte(e,t))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else if(hte(e))i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"};else return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(e.sessionId,a),i}const $k=(e,t)=>fetch(e,t);let yte=class{constructor(t,n,r,i,a){this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=$k,this.logout=async(o,s)=>{await this.logoutHandler.handle(o,(s==null?void 0:s.logoutType)==="idp"?{...s,toLogoutUrl:this.boundLogout}:s),this.fetch=$k,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function o9(e,t,n){try{const[r,i,a,o,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${r}`)}}async function vte(e,t,n,r,i,a,o,s){n!==void 0&&await e.setForUser(t,{webId:n},{secure:o}),r!==void 0&&await e.setForUser(t,{clientId:r},{secure:o}),await e.setForUser(t,{isLoggedIn:i},{secure:o})}class _te{constructor(t,n){this.secureStorage=t,this.insecureStorage=n,this.secureStorage=t,this.insecureStorage=n}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${t}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n))}async get(t,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(t);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${t}] is not stored`);return r}async set(t,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(t,n)}async delete(t,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${t}] is not stored`);return a||void 0}async setForUser(t,n,r){let i;try{i=await this.getUserData(t,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(t,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);delete i[n],await this.setUserData(t,i,r==null?void 0:r.secure)}async deleteAllUserData(t,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}}class wte{constructor(){this.map={}}async get(t){return this.map[t]||void 0}async set(t,n){this.map[t]=n}async delete(t){delete this.map[t]}}class SR extends Error{constructor(t){super(t)}}class fm extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class s9 extends Error{constructor(t,n,r){super(t),this.error=n,this.errorDescription=r}}function bte(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function VP(e,t,n){return new Fee({htu:bte(e),htm:t.toUpperCase(),jti:Jq()}).setProtectedHeader({alg:iw[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function Ste(){const{privateKey:e,publicKey:t}=await Wee(iw[0]),n={privateKey:e,publicKey:await xee(t)};return[n.publicKey.alg]=iw,n}const u9=600;function xte(e){return[401,403].includes(e)}async function Ete(e,t,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${t}`),a.set("DPoP",await VP(e,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function Cte(e,t,n,r){if(n!==void 0)return Ete(e,t,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${t}`),{...r,headers:i}}async function Uk(e,t,n,r){return fetch(t,await Cte(t.toString(),e,r,n))}async function Tte(e,t,n){var r;const i=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return n==null||n.emit(ui.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:u9),typeof i.refreshToken=="string"&&(n==null||n.emit(ui.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const JS=e=>e!==void 0?e-jk>0?e-jk:e:u9;async function Ate(e,t){var n;let r=e,i;const a=t==null?void 0:t.refreshOptions;if(a!==void 0){const o=async()=>{var s,l,c,d;try{const{accessToken:h,refreshToken:g,expiresIn:y}=await Tte(a,t.dpopKey,t.eventEmitter);r=h,g!==void 0&&(a.refreshToken=g),clearTimeout(i),i=setTimeout(o,JS(y)*1e3),(s=t.eventEmitter)===null||s===void 0||s.emit(ui.TIMEOUT_SET,i)}catch(h){h instanceof s9&&((l=t==null?void 0:t.eventEmitter)===null||l===void 0||l.emit(ui.ERROR,h.error,h.errorDescription),(c=t==null?void 0:t.eventEmitter)===null||c===void 0||c.emit(ui.SESSION_EXPIRED)),h instanceof fm&&h.missingFields.includes("access_token")&&((d=t==null?void 0:t.eventEmitter)===null||d===void 0||d.emit(ui.SESSION_EXPIRED))}};i=setTimeout(o,JS(t.expiresIn)*1e3),(n=t.eventEmitter)===null||n===void 0||n.emit(ui.TIMEOUT_SET,i)}else if(t!==void 0&&t.eventEmitter!==void 0){const o=setTimeout(()=>{t.eventEmitter.emit(ui.SESSION_EXPIRED)},JS(t.expiresIn)*1e3);t.eventEmitter.emit(ui.TIMEOUT_SET,o)}return async(o,s)=>{let l=await Uk(r,o,s,t==null?void 0:t.dpopKey);const c=!l.ok&&!xte(l.status);return l.ok||c||l.url!==o&&(t==null?void 0:t.dpopKey)!==void 0&&(l=await Uk(r,l.url,s,t.dpopKey)),l}}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function Rte(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}let YS;const Pte=new Uint8Array(16);function Ote(){if(!YS){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");YS=crypto.getRandomValues.bind(crypto)}return YS(Pte)}const Lte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bk={randomUUID:Lte};function Ite(e,t,n){if(Bk.randomUUID&&!t&&!e)return Bk.randomUUID();e=e||{};const r=e.random||(e.rng||Ote)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Rte(r)}var Gv={exports:{}},qk;function qh(){if(qk)return Gv.exports;qk=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(O,D,F){return Function.prototype.apply.call(O,D,F)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(O){return O!==O};function a(){a.init.call(this)}Gv.exports=a,Gv.exports.once=b,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");o=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function l(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(O){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var Q=O==="error",X=this._events;if(X!==void 0)Q=Q&&X.error===void 0;else if(!Q)return!1;if(Q){var U;if(D.length>0&&(U=D[0]),U instanceof Error)throw U;var Y=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw Y.context=U,Y}var ce=X[O];if(ce===void 0)return!1;if(typeof ce=="function")t(ce,this,D);else for(var te=ce.length,se=v(ce,te),F=0;F<te;++F)t(se[F],this,D);return!0};function c(P,O,D,F){var Q,X,U;if(s(D),X=P._events,X===void 0?(X=P._events=Object.create(null),P._eventsCount=0):(X.newListener!==void 0&&(P.emit("newListener",O,D.listener?D.listener:D),X=P._events),U=X[O]),U===void 0)U=X[O]=D,++P._eventsCount;else if(typeof U=="function"?U=X[O]=F?[D,U]:[U,D]:F?U.unshift(D):U.push(D),Q=l(P),Q>0&&U.length>Q&&!U.warned){U.warned=!0;var Y=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");Y.name="MaxListenersExceededWarning",Y.emitter=P,Y.type=O,Y.count=U.length,r(Y)}return P}a.prototype.addListener=function(O,D){return c(this,O,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(O,D){return c(this,O,D,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(P,O,D){var F={fired:!1,wrapFn:void 0,target:P,type:O,listener:D},Q=d.bind(F);return Q.listener=D,F.wrapFn=Q,Q}a.prototype.once=function(O,D){return s(D),this.on(O,h(this,O,D)),this},a.prototype.prependOnceListener=function(O,D){return s(D),this.prependListener(O,h(this,O,D)),this},a.prototype.removeListener=function(O,D){var F,Q,X,U,Y;if(s(D),Q=this._events,Q===void 0)return this;if(F=Q[O],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[O],Q.removeListener&&this.emit("removeListener",O,F.listener||D));else if(typeof F!="function"){for(X=-1,U=F.length-1;U>=0;U--)if(F[U]===D||F[U].listener===D){Y=F[U].listener,X=U;break}if(X<0)return this;X===0?F.shift():_(F,X),F.length===1&&(Q[O]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",O,Y||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(O){var D,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var X=Object.keys(F),U;for(Q=0;Q<X.length;++Q)U=X[Q],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[O],typeof D=="function")this.removeListener(O,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(O,D[Q]);return this};function g(P,O,D){var F=P._events;if(F===void 0)return[];var Q=F[O];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?S(Q):v(Q,Q.length)}a.prototype.listeners=function(O){return g(this,O,!0)},a.prototype.rawListeners=function(O){return g(this,O,!1)},a.listenerCount=function(P,O){return typeof P.listenerCount=="function"?P.listenerCount(O):y.call(P,O)},a.prototype.listenerCount=y;function y(P){var O=this._events;if(O!==void 0){var D=O[P];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(P,O){for(var D=new Array(O),F=0;F<O;++F)D[F]=P[F];return D}function _(P,O){for(;O+1<P.length;O++)P[O]=P[O+1];P.pop()}function S(P){for(var O=new Array(P.length),D=0;D<O.length;++D)O[D]=P[D].listener||P[D];return O}function b(P,O){return new Promise(function(D,F){function Q(U){P.removeListener(O,X),F(U)}function X(){typeof P.removeListener=="function"&&P.removeListener("error",Q),D([].slice.call(arguments))}A(P,O,X,{once:!0}),O!=="error"&&x(P,Q,{once:!0})})}function x(P,O,D){typeof P.on=="function"&&A(P,"error",O,D)}function A(P,O,D,F){if(typeof P.on=="function")F.once?P.once(O,D):P.on(O,D);else if(typeof P.addEventListener=="function")P.addEventListener(O,function Q(X){F.once&&P.removeEventListener(O,Q),D(X)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return Gv.exports}var Mte=qh();const Dte=Lr(Mte);var C0={exports:{}},kte=C0.exports,zk;function Nte(){return zk||(zk=1,function(e,t){(function(r,i){e.exports=i()})(kte,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(c){return a[c]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,g){return h&&c(d.prototype,h),g&&c(d,g),d}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=function(){function c(){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,s=o},c.debug=function(){if(l>=4){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.debug.apply(s,Array.from(g))}},c.info=function(){if(l>=3){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.info.apply(s,Array.from(g))}},c.warn=function(){if(l>=2){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.warn.apply(s,Array.from(g))}},c.error=function(){if(l>=1){for(var h=arguments.length,g=Array(h),y=0;y<h;y++)g[y]=arguments[y];s.error.apply(s,Array.from(g))}},a(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(h){if(!(0<=h&&h<=4))throw new Error("Invalid log level");l=h}},{key:"logger",get:function(){return s},set:function(h){if(!h.debug&&h.info&&(h.debug=h.info),!(h.debug&&h.info&&h.warn&&h.error))throw new Error("Invalid logger");s=h}}]),c}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,g){return h&&c(d.prototype,h),g&&c(d,g),d}}(),o={setInterval:function(c){function d(h,g){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c,d){return setInterval(c,d)}),clearInterval:function(c){function d(h){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c){return clearInterval(c)})},s=!1,l=null;r.Global=function(){function c(){(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){s=!0},c.setXMLHttpRequest=function(h){l=h},a(c,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function d(h,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,g,y){return g&&d(h.prototype,g),y&&d(h,y),h}}(),o=i(0),s=i(7);function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";r.MetadataService=function(){function d(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,d),!h)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=h,this._jsonService=new g(["application/jwk-set+json"])}return d.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},d.prototype.getMetadata=function(){var g=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){o.Log.debug("MetadataService.getMetadata: json received");var v=g._settings.metadataSeed||{};return g._settings.metadata=Object.assign({},v,y),g._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},d.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},d.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},d.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},d.prototype.getTokenEndpoint=function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",g)},d.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},d.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},d.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},d.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},d.prototype._getMetadataProperty=function(g){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+g),this.getMetadata().then(function(v){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),v[g]===void 0){if(y===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+g);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+g),new Error("Metadata does not contain property "+g)}return v[g]})},d.prototype.getSigningKeys=function(){var g=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),g._jsonService.getJson(y).then(function(v){if(o.Log.debug("MetadataService.getSigningKeys: key set received",v),!v.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return g._settings.signingKeys=v.keys,g._settings.signingKeys})})},a(d,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),o=i(1);r.UrlUtility=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(c,d,h){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(d),c+="=",c+=encodeURIComponent(h)},s.parseUrlFragment=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof c!="string"&&(c=h.location.href);var g=c.lastIndexOf(d);g>=0&&(c=c.substr(g+1)),d==="?"&&(g=c.indexOf("#"))>=0&&(c=c.substr(0,g));for(var y,v={},_=/([^&=]+)=([^&]*)/g,S=0;y=_.exec(c);)if(v[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),S++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var b in v)return v;return{}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),o=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(x,A){for(var P=0;P<A.length;P++){var O=A[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,A,P){return A&&b(x.prototype,A),P&&b(x,P),x}}(),s=i(0),l=i(23),c=i(6),d=i(24),h=i(2);function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",v="id_token",_="openid",S="client_secret_post";r.OidcClientSettings=function(){function b(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=x.authority,P=x.metadataUrl,O=x.metadata,D=x.signingKeys,F=x.metadataSeed,Q=x.client_id,X=x.client_secret,U=x.response_type,Y=U===void 0?v:U,ce=x.scope,te=ce===void 0?_:ce,se=x.redirect_uri,pe=x.post_logout_redirect_uri,_e=x.client_authentication,de=_e===void 0?S:_e,ue=x.prompt,Re=x.display,k=x.max_age,ie=x.ui_locales,me=x.acr_values,K=x.resource,ee=x.response_mode,ge=x.filterProtocolClaims,Ae=ge===void 0||ge,Ze=x.loadUserInfo,Pe=Ze===void 0||Ze,Ne=x.staleStateAge,Ye=Ne===void 0?900:Ne,oe=x.clockSkew,H=oe===void 0?300:oe,$=x.clockService,ae=$===void 0?new l.ClockService:$,Z=x.userInfoJwtIssuer,he=Z===void 0?"OP":Z,ye=x.mergeClaims,He=ye!==void 0&&ye,Ee=x.stateStore,Fe=Ee===void 0?new c.WebStorageStateStore:Ee,tt=x.ResponseValidatorCtor,nt=tt===void 0?d.ResponseValidator:tt,gt=x.MetadataServiceCtor,qt=gt===void 0?h.MetadataService:gt,Se=x.extraQueryParams,Be=Se===void 0?{}:Se,ne=x.extraTokenParams,z=ne===void 0?{}:ne;g(this,b),this._authority=A,this._metadataUrl=P,this._metadata=O,this._metadataSeed=F,this._signingKeys=D,this._client_id=Q,this._client_secret=X,this._response_type=Y,this._scope=te,this._redirect_uri=se,this._post_logout_redirect_uri=pe,this._client_authentication=de,this._prompt=ue,this._display=Re,this._max_age=k,this._ui_locales=ie,this._acr_values=me,this._resource=K,this._response_mode=ee,this._filterProtocolClaims=!!Ae,this._loadUserInfo=!!Pe,this._staleStateAge=Ye,this._clockSkew=H,this._clockService=ae,this._userInfoJwtIssuer=he,this._mergeClaims=!!He,this._stateStore=Fe,this._validator=new nt(this),this._metadataService=new qt(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(z===void 0?"undefined":a(z))==="object"?z:{}}return b.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(b,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),b}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.prefix,h=d===void 0?"oidc.":d,g=c.store,y=g===void 0?o.Global.localStorage:g;s(this,l),this._store=y,this._prefix=h}return l.prototype.set=function(d,h){return a.Log.debug("WebStorageStateStore.set",d),d=this._prefix+d,this._store.setItem(d,h),Promise.resolve()},l.prototype.get=function(d){a.Log.debug("WebStorageStateStore.get",d),d=this._prefix+d;var h=this._store.getItem(d);return Promise.resolve(h)},l.prototype.remove=function(d){a.Log.debug("WebStorageStateStore.remove",d),d=this._prefix+d;var h=this._store.getItem(d);return this._store.removeItem(d),Promise.resolve(h)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var d=[],h=0;h<this._store.length;h++){var g=this._store.key(h);g.indexOf(this._prefix)===0&&d.push(g.substr(this._prefix.length))}return Promise.resolve(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),h&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=d,this._jwtHandler=h}return l.prototype.getJson=function(d,h){var g=this;if(!d)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",d),new Promise(function(y,v){var _=new g._XMLHttpRequest;_.open("GET",d);var S=g._contentTypes,b=g._jwtHandler;_.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",_.status),_.status===200){var x=_.getResponseHeader("Content-Type");if(x){var A=S.find(function(P){if(x.startsWith(P))return!0});if(A=="application/jwt")return void b(_).then(y,v);if(A)try{return void y(JSON.parse(_.responseText))}catch(P){return a.Log.error("JsonService.getJson: Error parsing JSON response",P.message),void v(P)}}v(Error("Invalid response Content-Type: "+x+", from URL: "+d))}else v(Error(_.statusText+" ("+_.status+")"))},_.onerror=function(){a.Log.error("JsonService.getJson: network error"),v(Error("Network Error"))},h&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),_.setRequestHeader("Authorization","Bearer "+h)),_.send()})},l.prototype.postForm=function(d,h,g){var y=this;if(!d)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",d),new Promise(function(v,_){var S=new y._XMLHttpRequest;S.open("POST",d);var b=y._contentTypes;S.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(D=S.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{var O=JSON.parse(S.responseText);if(O&&O.error)return a.Log.error("JsonService.postForm: Error from server: ",O.error),void _(new Error(O.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error(S.statusText+" ("+S.status+")"))}else{var D;if((D=S.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{return void v(JSON.parse(S.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error("Invalid response Content-Type: "+D+", from URL: "+d))}},S.onerror=function(){a.Log.error("JsonService.postForm: network error"),_(Error("Network Error"))};var x="";for(var A in h){var P=h[A];P&&(x.length>0&&(x+="&"),x+=encodeURIComponent(A),x+="=",x+=encodeURIComponent(P))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(g)),S.send(x)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),o=i(3),s=i(13);r.SigninRequest=function(){function l(c){var d=c.url,h=c.client_id,g=c.redirect_uri,y=c.response_type,v=c.scope,_=c.authority,S=c.data,b=c.prompt,x=c.display,A=c.max_age,P=c.ui_locales,O=c.id_token_hint,D=c.login_hint,F=c.acr_values,Q=c.resource,X=c.response_mode,U=c.request,Y=c.request_uri,ce=c.extraQueryParams,te=c.request_type,se=c.client_secret,pe=c.extraTokenParams,_e=c.skipUserInfo;if(function(K,ee){if(!(K instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!h)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!g)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!v)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!_)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var de=l.isOidc(y),ue=l.isCode(y);X||(X=l.isCode(y)?"query":null),this.state=new s.SigninState({nonce:de,data:S,client_id:h,authority:_,redirect_uri:g,code_verifier:ue,request_type:te,response_mode:X,client_secret:se,scope:v,extraTokenParams:pe,skipUserInfo:_e}),d=o.UrlUtility.addQueryParam(d,"client_id",h),d=o.UrlUtility.addQueryParam(d,"redirect_uri",g),d=o.UrlUtility.addQueryParam(d,"response_type",y),d=o.UrlUtility.addQueryParam(d,"scope",v),d=o.UrlUtility.addQueryParam(d,"state",this.state.id),de&&(d=o.UrlUtility.addQueryParam(d,"nonce",this.state.nonce)),ue&&(d=o.UrlUtility.addQueryParam(d,"code_challenge",this.state.code_challenge),d=o.UrlUtility.addQueryParam(d,"code_challenge_method","S256"));var Re={prompt:b,display:x,max_age:A,ui_locales:P,id_token_hint:O,login_hint:D,acr_values:F,resource:Q,request:U,request_uri:Y,response_mode:X};for(var k in Re)Re[k]&&(d=o.UrlUtility.addQueryParam(d,k,Re[k]));for(var ie in ce)d=o.UrlUtility.addQueryParam(d,ie,ce[ie]);this.url=d}return l.isOidc=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="id_token"})[0]},l.isOAuth=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="token"})[0]},l.isCode=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function c(d,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,g){return h&&c(d.prototype,h),g&&c(d,g),d}}(),o=i(0),s=function(d){return d&&d.__esModule?d:{default:d}}(i(14));function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.State=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.id,g=d.data,y=d.created,v=d.request_type;l(this,c),this._id=h||(0,s.default)(),this._data=g,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=v}return c.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(h){return o.Log.debug("State.fromStorageString"),new c(JSON.parse(h))},c.clearStaleState=function(h,g){var y=Date.now()/1e3-g;return h.getAllKeys().then(function(v){o.Log.debug("State.clearStaleState: got keys",v);for(var _=[],S=function(P){var O=v[P];x=h.get(O).then(function(D){var F=!1;if(D)try{var Q=c.fromStorageString(D);o.Log.debug("State.clearStaleState: got item from key: ",O,Q.created),Q.created<=y&&(F=!0)}catch(X){o.Log.error("State.clearStaleState: Error parsing state for key",O,X.message),F=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",O),F=!0;if(F)return o.Log.debug("State.clearStaleState: removed item for key: ",O),h.remove(O)}),_.push(x)},b=0;b<v.length;b++){var x;S(b)}return o.Log.debug("State.clearStaleState: waiting on promise count:",_.length),Promise.all(_)})},a(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function S(b,x){for(var A=0;A<x.length;A++){var P=x[A];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,x,A){return x&&S(b.prototype,x),A&&S(b,A),b}}(),o=i(0),s=i(5),l=i(12),c=i(8),d=i(34),h=i(35),g=i(36),y=i(13),v=i(9);function _(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function S(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,S),b instanceof s.OidcClientSettings?this._settings=b:this._settings=new s.OidcClientSettings(b)}return S.prototype.createSigninRequest=function(){var x=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=A.response_type,O=A.scope,D=A.redirect_uri,F=A.data,Q=A.state,X=A.prompt,U=A.display,Y=A.max_age,ce=A.ui_locales,te=A.id_token_hint,se=A.login_hint,pe=A.acr_values,_e=A.resource,de=A.request,ue=A.request_uri,Re=A.response_mode,k=A.extraQueryParams,ie=A.extraTokenParams,me=A.request_type,K=A.skipUserInfo,ee=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var ge=this._settings.client_id;P=P||this._settings.response_type,O=O||this._settings.scope,D=D||this._settings.redirect_uri,X=X||this._settings.prompt,U=U||this._settings.display,Y=Y||this._settings.max_age,ce=ce||this._settings.ui_locales,pe=pe||this._settings.acr_values,_e=_e||this._settings.resource,Re=Re||this._settings.response_mode,k=k||this._settings.extraQueryParams,ie=ie||this._settings.extraTokenParams;var Ae=this._settings.authority;return c.SigninRequest.isCode(P)&&P!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Ze){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Ze);var Pe=new c.SigninRequest({url:Ze,client_id:ge,redirect_uri:D,response_type:P,scope:O,data:F||Q,authority:Ae,prompt:X,display:U,max_age:Y,ui_locales:ce,id_token_hint:te,login_hint:se,acr_values:pe,resource:_e,request:de,request_uri:ue,extraQueryParams:k,extraTokenParams:ie,request_type:me,response_mode:Re,client_secret:x._settings.client_secret,skipUserInfo:K}),Ne=Pe.state;return(ee=ee||x._stateStore).set(Ne.id,Ne.toStorageString()).then(function(){return Pe})})},S.prototype.readSigninResponseState=function(x,A){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var O=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),D=O?"?":"#",F=new d.SigninResponse(x,D);if(!F.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var Q=P?A.remove.bind(A):A.get.bind(A);return Q(F.state).then(function(X){if(!X)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(X),response:F}})},S.prototype.processSigninResponse=function(x,A){var P=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(x,A,!0).then(function(O){var D=O.state,F=O.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),P._validator.validateSigninResponse(D,F)})},S.prototype.createSignoutRequest=function(){var x=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=A.id_token_hint,O=A.data,D=A.state,F=A.post_logout_redirect_uri,Q=A.extraQueryParams,X=A.request_type,U=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(Y){if(!Y)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",Y);var ce=new h.SignoutRequest({url:Y,id_token_hint:P,post_logout_redirect_uri:F,data:O||D,extraQueryParams:Q,request_type:X}),te=ce.state;return te&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(U=U||x._stateStore).set(te.id,te.toStorageString())),ce})},S.prototype.readSignoutResponseState=function(x,A){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var O=new g.SignoutResponse(x);if(!O.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),O.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",O.error),Promise.reject(new l.ErrorResponse(O))):Promise.resolve({state:void 0,response:O});var D=O.state;A=A||this._stateStore;var F=P?A.remove.bind(A):A.get.bind(A);return F(D).then(function(Q){if(!Q)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.State.fromStorageString(Q),response:O}})},S.prototype.processSignoutResponse=function(x,A){var P=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(x,A,!0).then(function(O){var D=O.state,F=O.response;return D?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),P._validator.validateSignoutResponse(D,F)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},S.prototype.clearStaleState=function(x){return o.Log.debug("OidcClient.clearStaleState"),x=x||this._stateStore,v.State.clearStaleState(x,this.settings.staleStateAge)},a(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),o=i(2),s=i(0);function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,c),!d)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new h,this._metadataService=new g(this._settings)}return c.prototype.exchangeCode=function(){var h=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(g=Object.assign({},g)).grant_type=g.grant_type||"authorization_code",g.client_id=g.client_id||this._settings.client_id,g.client_secret=g.client_secret||this._settings.client_secret,g.redirect_uri=g.redirect_uri||this._settings.redirect_uri;var y=void 0,v=g._client_authentication||this._settings._client_authentication;return delete g._client_authentication,g.code?g.redirect_uri?g.code_verifier?g.client_id?g.client_secret||v!="client_secret_basic"?(v=="client_secret_basic"&&(y=g.client_id+":"+g.client_secret,delete g.client_id,delete g.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),h._jsonService.postForm(_,g,y).then(function(S){return s.Log.debug("TokenClient.exchangeCode: response received"),S})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var h=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(g=Object.assign({},g)).grant_type=g.grant_type||"refresh_token",g.client_id=g.client_id||this._settings.client_id,g.client_secret=g.client_secret||this._settings.client_secret;var y=void 0,v=g._client_authentication||this._settings._client_authentication;return delete g._client_authentication,g.refresh_token?g.client_id?(v=="client_secret_basic"&&(y=g.client_id+":"+g.client_secret,delete g.client_id,delete g.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),h._jsonService.postForm(_,g,y).then(function(S){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function s(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}r.ErrorResponse=function(l){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.error,g=d.error_description,y=d.error_uri,v=d.state,_=d.session_state;if(o(this,c),!h)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var S=s(this,l.call(this,g||h));return S.name="ErrorResponse",S.error=h,S.error_description=g,S.error_uri=y,S.state=v,S.session_state=_,S}return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}(c,l),c}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function g(y,v){for(var _=0;_<v.length;_++){var S=v[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,v,_){return v&&g(y.prototype,v),_&&g(y,_),y}}(),o=i(0),s=i(9),l=i(4),c=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?g:y}r.SigninState=function(g){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=v.nonce,S=v.authority,b=v.client_id,x=v.redirect_uri,A=v.code_verifier,P=v.response_mode,O=v.client_secret,D=v.scope,F=v.extraTokenParams,Q=v.skipUserInfo;d(this,y);var X=h(this,g.call(this,arguments[0]));if(_===!0?X._nonce=(0,c.default)():_&&(X._nonce=_),A===!0?X._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():A&&(X._code_verifier=A),X.code_verifier){var U=l.JoseUtil.hashString(X.code_verifier,"SHA256");X._code_challenge=l.JoseUtil.hexToBase64Url(U)}return X._redirect_uri=x,X._authority=S,X._client_id=b,X._response_mode=P,X._client_secret=O,X._scope=D,X._extraTokenParams=F,X._skipUserInfo=Q,X}return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}(y,g),y.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(_){return o.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(_))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.User=function(){function s(l){var c=l.id_token,d=l.session_state,h=l.access_token,g=l.refresh_token,y=l.token_type,v=l.scope,_=l.profile,S=l.expires_at,b=l.state;(function(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=c,this.session_state=d,this.access_token=h,this.refresh_token=g,this.token_type=y,this.scope=v,this.profile=_,this.expires_at=S,this.state=b}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(c){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(c))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var d=parseInt(c);if(typeof d=="number"&&d>0){var h=parseInt(Date.now()/1e3);this.expires_at=h+d}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),o=i(46);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.accessTokenExpiringNotificationTime,h=d===void 0?60:d,g=c.accessTokenExpiringTimer,y=g===void 0?new o.Timer("Access token expiring"):g,v=c.accessTokenExpiredTimer,_=v===void 0?new o.Timer("Access token expired"):v;s(this,l),this._accessTokenExpiringNotificationTime=h,this._accessTokenExpiring=y,this._accessTokenExpired=_}return l.prototype.load=function(d){if(d.access_token&&d.expires_in!==void 0){var h=d.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",h),h>0){var g=h-this._accessTokenExpiringNotificationTime;g<=0&&(g=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",g),this._accessTokenExpiring.init(g)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=h+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(d){this._accessTokenExpiring.addHandler(d)},l.prototype.removeAccessTokenExpiring=function(d){this._accessTokenExpiring.removeHandler(d)},l.prototype.addAccessTokenExpired=function(d){this._accessTokenExpired.addHandler(d)},l.prototype.removeAccessTokenExpired=function(d){this._accessTokenExpired.removeHandler(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(d){return d===l});c>=0&&this._callbacks.splice(c,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function d(h,g){for(var y=0;y<g.length;y++){var v=g[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,g,y){return g&&d(h.prototype,g),y&&d(h,y),h}}(),o=i(0),s=i(19),l=i(1);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function d(h){var g=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,d),!h)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=h,this._CheckSessionIFrameCtor=y,this._timer=v,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(_){_?g._start(_):g._settings.monitorAnonymousSession&&g._userManager.querySessionStatus().then(function(S){var b={session_state:S.session_state};S.sub&&S.sid&&(b.profile={sub:S.sub,sid:S.sid}),g._start(b)}).catch(function(S){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(_){o.Log.error("SessionMonitor ctor: error from getUser:",_.message)}))}return d.prototype._start=function(g){var y=this,v=g.session_state;v&&(g.profile?(this._sub=g.profile.sub,this._sid=g.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",v,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",v,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(v):this._metadataService.getCheckSessionIframe().then(function(_){if(_){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=y._client_id,b=y._checkSessionInterval,x=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),S,_,b,x),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(v)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(_){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",_.message)}))},d.prototype._stop=function(){var g=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){g._timer.clearInterval(y),g._userManager.querySessionStatus().then(function(v){var _={session_state:v.session_state};v.sub&&v.sid&&(_.profile={sub:v.sub,sid:v.sid}),g._start(_)}).catch(function(v){o.Log.error("SessionMonitor: error from querySessionStatus:",v.message)})},1e3)},d.prototype._callback=function(){var g=this;this._userManager.querySessionStatus().then(function(y){var v=!0;y?y.sub===g._sub?(v=!1,g._checkSessionIFrame.start(y.session_state),y.sid===g._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),g._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),v&&(g._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),g._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),g._userManager.events._raiseUserSignedIn()))}).catch(function(y){g._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),g._userManager.events._raiseUserSignedOut())})},a(d,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(l,c,d,h){var g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=l,this._client_id=c,this._url=d,this._interval=h||2e3,this._stopOnError=g;var y=d.indexOf("/",d.indexOf("//")+2);this._frame_origin=d.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=d}return s.prototype.load=function(){var c=this;return new Promise(function(d){c._frame.onload=function(){d()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},s.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},s.prototype.start=function(c){var d=this;if(this._session_state!==c){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var h=function(){d._frame.contentWindow.postMessage(d._client_id+" "+d._session_state,d._frame_origin)};h(),this._timer=window.setInterval(h,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),o=i(2),s=i(1);function l(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}var c="access_token",d="refresh_token";r.TokenRevocationClient=function(){function h(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,h),!g)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=g,this._XMLHttpRequestCtor=y,this._metadataService=new v(this._settings)}return h.prototype.revoke=function(y,v){var _=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==c&&S!=d)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(b){if(b){a.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var x=_._settings.client_id,A=_._settings.client_secret;return _._revoke(b,x,A,y,S)}if(v)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},h.prototype._revoke=function(y,v,_,S,b){var x=this;return new Promise(function(A,P){var O=new x._XMLHttpRequestCtor;O.open("POST",y),O.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",O.status),O.status===200?A():P(Error(O.statusText+" ("+O.status+")"))},O.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),P("Network Error")};var D="client_id="+encodeURIComponent(v);_&&(D+="&client_secret="+encodeURIComponent(_)),D+="&token_type_hint="+encodeURIComponent(b),D+="&token="+encodeURIComponent(S),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.send(D)})},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.CordovaPopupWindow=function(){function s(l){var c=this;(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(d){return c.hasOwnProperty(d)})},s.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var d=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(d)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},s.prototype._exitCallback=function(c){this._error(c)},s.prototype._success=function(c){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=i(10),s=i(5),l=i(6),c=i(37),d=i(38),h=i(16),g=i(2),y=i(48),v=i(49),_=i(19),S=i(20),b=i(18),x=i(1),A=i(15),P=i(50);r.default={Version:P.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:d.UserManager,AccessTokenEvents:h.AccessTokenEvents,MetadataService:g.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:v.CordovaIFrameNavigator,CheckSessionIFrame:_.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:b.SessionMonitor,Global:x.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=i(0),s=i(2),l=i(25),c=i(11),d=i(12),h=i(4);function g(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function v(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(g(this,v),!_)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=_,this._metadataService=new S(this._settings),this._userInfoService=new b(this._settings),this._joseUtil=x,this._tokenClient=new A(this._settings)}return v.prototype.validateSigninResponse=function(S,b){var x=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,b).then(function(A){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),x._validateTokens(S,A).then(function(P){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),x._processClaims(S,P).then(function(O){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),O})})})},v.prototype.validateSignoutResponse=function(S,b){return S.id!==b.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),b.state=S.data,b.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",b.error),Promise.reject(new d.ErrorResponse(b))):Promise.resolve(b))},v.prototype._processSigninParams=function(S,b){if(S.id!==b.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),b.state=S.data,b.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",b.error),Promise.reject(new d.ErrorResponse(b))):S.nonce&&!b.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&b.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!b.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&b.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(b.scope||(b.scope=S.scope),Promise.resolve(b))},v.prototype._processClaims=function(S,b){var x=this;if(b.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),b.profile=this._filterProtocolClaims(b.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&b.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(b.access_token).then(function(A){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==b.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(b.profile=x._mergeClaims(b.profile,A),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",b.profile),b)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(b)},v.prototype._mergeClaims=function(S,b){var x=Object.assign({},S);for(var A in b){var P=b[A];Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var D=P[O];x[A]?Array.isArray(x[A])?x[A].indexOf(D)<0&&x[A].push(D):x[A]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?x[A]=this._mergeClaims(x[A],D):x[A]=[x[A],D]):x[A]=D}}return x},v.prototype._filterProtocolClaims=function(S){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var b=Object.assign({},S);return this._settings._filterProtocolClaims?(y.forEach(function(x){delete b[x]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",b)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),b},v.prototype._validateTokens=function(S,b){return b.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,b)):b.id_token?b.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,b)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,b)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(b))},v.prototype._processCode=function(S,b){var x=this,A={client_id:S.client_id,client_secret:S.client_secret,code:b.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&a(S.extraTokenParams)==="object"&&Object.assign(A,S.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(P){for(var O in P)b[O]=P[O];return b.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),x._validateIdTokenAttributes(S,b)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),b)})},v.prototype._validateIdTokenAttributes=function(S,b){var x=this;return this._metadataService.getIssuer().then(function(A){var P=S.client_id,O=x._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",O),x._settings.getEpochTime().then(function(D){return x._joseUtil.validateJwtAttributes(b.id_token,A,P,O,D).then(function(F){return S.nonce&&S.nonce!==F.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(b.profile=F,b):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},v.prototype._validateIdTokenAndAccessToken=function(S,b){var x=this;return this._validateIdToken(S,b).then(function(A){return x._validateAccessToken(A)})},v.prototype._getSigningKeyForJwt=function(S){var b=this;return this._metadataService.getSigningKeys().then(function(x){var A=S.header.kid;if(!x)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var P=void 0;if(A)P=x.filter(function(O){return O.kid===A})[0];else{if((x=b._filterByAlg(x,S.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=x[0]}return Promise.resolve(P)})},v.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var b=this;return this._getSigningKeyForJwt(S).then(function(x){return x?Promise.resolve(x):(b._metadataService.resetSigningKeys(),b._getSigningKeyForJwt(S))})},v.prototype._validateIdToken=function(S,b){var x=this;if(!S.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(b.id_token);return A&&A.header&&A.payload?S.nonce!==A.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(P){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),x._getSigningKeyForJwtWithSingleRetry(A).then(function(O){if(!O)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=S.client_id,F=x._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),x._joseUtil.validateJwt(b.id_token,O,P,D,F).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(b.profile=A.payload,b):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},v.prototype._filterByAlg=function(S,b){var x=null;if(b.startsWith("RS"))x="RSA";else if(b.startsWith("PS"))x="PS";else{if(!b.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",b),[];x="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",x),S=S.filter(function(A){return A.kty===x}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",x,S.length),S},v.prototype._validateAccessToken=function(S){if(!S.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var b=this._joseUtil.parseJwt(S.id_token);if(!b||!b.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",b),Promise.reject(new Error("Failed to parse id_token"));var x=b.header.alg;if(!x||x.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x),Promise.reject(new Error("Unsupported alg: "+x));var A=x.substr(2,3);if(!A)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,A),Promise.reject(new Error("Unsupported alg: "+x));if((A=parseInt(A))!==256&&A!==384&&A!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,A),Promise.reject(new Error("Unsupported alg: "+x));var P="sha"+A,O=this._joseUtil.hashString(S.access_token,P);if(!O)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",P),Promise.reject(new Error("Failed to validate at_hash"));var D=O.substr(0,O.length/2),F=this._joseUtil.hexToBase64Url(D);return F!==S.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},v}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),o=i(2),s=i(0),l=i(4);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function d(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,d),!h)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new g(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=v}return d.prototype.getClaims=function(g){var y=this;return g?this._metadataService.getUserInfoEndpoint().then(function(v){return s.Log.debug("UserInfoService.getClaims: received userinfo url",v),y._jsonService.getJson(v,g).then(function(_){return s.Log.debug("UserInfoService.getClaims: claims received",_),_})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},d.prototype._getClaimsFromJwt=function(g){var y=this;try{var v=this._joseUtil.parseJwt(g.responseText);if(!v||!v.header||!v.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",v),Promise.reject(new Error("Failed to parse id_token"));var _=v.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(v.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(b){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+b),y._metadataService.getSigningKeys().then(function(x){if(!x)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(_)A=x.filter(function(D){return D.kid===_})[0];else{if((x=y._filterByAlg(x,v.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=x[0]}if(!A)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var P=y._settings.client_id,O=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",O),y._joseUtil.validateJwt(g.responseText,A,b,P,O,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),v.payload})})})}catch(b){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",b.message),void reject(b)}},d.prototype._filterByAlg=function(g,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];v="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",v),g=g.filter(function(_){return _.kty===v}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",v,g.length),g},d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,l,c,d,h,g,y,v,_,S,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},x={userAgent:!1},A={},P=P||(o=Math,l=(s={}).lib={},c=l.Base=function(){function T(){}return{extend:function(R){T.prototype=this;var N=new T;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=l.WordArray=c.extend({init:function(C,R){C=this.words=C||[],this.sigBytes=R??4*C.length},toString:function(C){return(C||g).stringify(this)},concat:function(C){var R=this.words,N=C.words,J=this.sigBytes,le=C.sigBytes;if(this.clamp(),J%4)for(var we=0;we<le;we++){var Ie=N[we>>>2]>>>24-we%4*8&255;R[J+we>>>2]|=Ie<<24-(J+we)%4*8}else for(we=0;we<le;we+=4)R[J+we>>>2]=N[we>>>2];return this.sigBytes+=le,this},clamp:function(){var C=this.words,R=this.sigBytes;C[R>>>2]&=4294967295<<32-R%4*8,C.length=o.ceil(R/4)},clone:function(){var C=c.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var R=[],N=0;N<C;N+=4)R.push(4294967296*o.random()|0);return new d.init(R,C)}}),h=s.enc={},g=h.Hex={stringify:function(C){for(var R=C.words,N=C.sigBytes,J=[],le=0;le<N;le++){var we=R[le>>>2]>>>24-le%4*8&255;J.push((we>>>4).toString(16)),J.push((15&we).toString(16))}return J.join("")},parse:function(C){for(var R=C.length,N=[],J=0;J<R;J+=2)N[J>>>3]|=parseInt(C.substr(J,2),16)<<24-J%8*4;return new d.init(N,R/2)}},y=h.Latin1={stringify:function(C){for(var R=C.words,N=C.sigBytes,J=[],le=0;le<N;le++){var we=R[le>>>2]>>>24-le%4*8&255;J.push(String.fromCharCode(we))}return J.join("")},parse:function(C){for(var R=C.length,N=[],J=0;J<R;J++)N[J>>>2]|=(255&C.charCodeAt(J))<<24-J%4*8;return new d.init(N,R)}},v=h.Utf8={stringify:function(C){try{return decodeURIComponent(escape(y.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return y.parse(unescape(encodeURIComponent(C)))}},_=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=v.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var R=this._data,N=R.words,J=R.sigBytes,le=this.blockSize,we=J/(4*le),Ie=(we=C?o.ceil(we):o.max((0|we)-this._minBufferSize,0))*le,xe=o.min(4*Ie,J);if(Ie){for(var Oe=0;Oe<Ie;Oe+=le)this._doProcessBlock(N,Oe);var Me=N.splice(0,Ie);R.sigBytes-=xe}return new d.init(Me,xe)},clone:function(){var C=c.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),l.Hasher=_.extend({cfg:c.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(R,N){return new C.init(N).finalize(R)}},_createHmacHelper:function(C){return function(R,N){return new S.HMAC.init(C,N).finalize(R)}}}),S=s.algo={},s);(function(T){var C,R=(C=P).lib,N=R.Base,J=R.WordArray;(C=C.x64={}).Word=N.extend({init:function(we,Ie){this.high=we,this.low=Ie}}),C.WordArray=N.extend({init:function(we,Ie){we=this.words=we||[],this.sigBytes=Ie??8*we.length},toX32:function(){for(var we=this.words,Ie=we.length,xe=[],Oe=0;Oe<Ie;Oe++){var Me=we[Oe];xe.push(Me.high),xe.push(Me.low)}return J.create(xe,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Ie=we.words=this.words.slice(0),xe=Ie.length,Oe=0;Oe<xe;Oe++)Ie[Oe]=Ie[Oe].clone();return we}})})(),function(){var T=P,C=T.lib.WordArray;T.enc.Base64={stringify:function(N){var J=N.words,le=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Ie=0;Ie<le;Ie+=3)for(var xe=(J[Ie>>>2]>>>24-Ie%4*8&255)<<16|(J[Ie+1>>>2]>>>24-(Ie+1)%4*8&255)<<8|J[Ie+2>>>2]>>>24-(Ie+2)%4*8&255,Oe=0;4>Oe&&Ie+.75*Oe<le;Oe++)N.push(we.charAt(xe>>>6*(3-Oe)&63));if(J=we.charAt(64))for(;N.length%4;)N.push(J);return N.join("")},parse:function(N){var J=N.length,le=this._map;(we=le.charAt(64))&&(we=N.indexOf(we))!=-1&&(J=we);for(var we=[],Ie=0,xe=0;xe<J;xe++)if(xe%4){var Oe=le.indexOf(N.charAt(xe-1))<<xe%4*2,Me=le.indexOf(N.charAt(xe))>>>6-xe%4*2;we[Ie>>>2]|=(Oe|Me)<<24-Ie%4*8,Ie++}return C.create(we,Ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(T){for(var C=P,R=(J=C.lib).WordArray,N=J.Hasher,J=C.algo,le=[],we=[],Ie=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Oe=0;64>Oe;){var Me;e:{Me=xe;for(var $e=T.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Oe&&(le[Oe]=Ie(T.pow(xe,.5))),we[Oe]=Ie(T.pow(xe,1/3)),Oe++),xe++}var Xe=[];J=J.SHA256=N.extend({_doReset:function(){this._hash=new R.init(le.slice(0))},_doProcessBlock:function(dt,ut){for(var be=this._hash.words,De=be[0],Ue=be[1],Ke=be[2],lt=be[3],mt=be[4],$t=be[5],Tt=be[6],gn=be[7],Ft=0;64>Ft;Ft++){if(16>Ft)Xe[Ft]=0|dt[ut+Ft];else{var Vt=Xe[Ft-15],zn=Xe[Ft-2];Xe[Ft]=((Vt<<25|Vt>>>7)^(Vt<<14|Vt>>>18)^Vt>>>3)+Xe[Ft-7]+((zn<<15|zn>>>17)^(zn<<13|zn>>>19)^zn>>>10)+Xe[Ft-16]}Vt=gn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&$t^~mt&Tt)+we[Ft]+Xe[Ft],zn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ke^Ue&Ke),gn=Tt,Tt=$t,$t=mt,mt=lt+Vt|0,lt=Ke,Ke=Ue,Ue=De,De=Vt+zn|0}be[0]=be[0]+De|0,be[1]=be[1]+Ue|0,be[2]=be[2]+Ke|0,be[3]=be[3]+lt|0,be[4]=be[4]+mt|0,be[5]=be[5]+$t|0,be[6]=be[6]+Tt|0,be[7]=be[7]+gn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,be=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=T.floor(be/4294967296),ut[15+(De+64>>>9<<4)]=be,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),C.SHA256=N._createHelper(J),C.HmacSHA256=N._createHmacHelper(J)}(Math),function(){function T(){return N.create.apply(N,arguments)}for(var C=P,R=C.lib.Hasher,N=(le=C.x64).Word,J=le.WordArray,le=C.algo,we=[T(1116352408,3609767458),T(1899447441,602891725),T(3049323471,3964484399),T(3921009573,2173295548),T(961987163,4081628472),T(1508970993,3053834265),T(2453635748,2937671579),T(2870763221,3664609560),T(3624381080,2734883394),T(310598401,1164996542),T(607225278,1323610764),T(1426881987,3590304994),T(1925078388,4068182383),T(2162078206,991336113),T(2614888103,633803317),T(3248222580,3479774868),T(3835390401,2666613458),T(4022224774,944711139),T(264347078,2341262773),T(604807628,2007800933),T(770255983,1495990901),T(1249150122,1856431235),T(1555081692,3175218132),T(1996064986,2198950837),T(2554220882,3999719339),T(2821834349,766784016),T(2952996808,2566594879),T(3210313671,3203337956),T(3336571891,1034457026),T(3584528711,2466948901),T(113926993,3758326383),T(338241895,168717936),T(666307205,1188179964),T(773529912,1546045734),T(1294757372,1522805485),T(1396182291,2643833823),T(1695183700,2343527390),T(1986661051,1014477480),T(2177026350,1206759142),T(2456956037,344077627),T(2730485921,1290863460),T(2820302411,3158454273),T(3259730800,3505952657),T(3345764771,106217008),T(3516065817,3606008344),T(3600352804,1432725776),T(4094571909,1467031594),T(275423344,851169720),T(430227734,3100823752),T(506948616,1363258195),T(659060556,3750685593),T(883997877,3785050280),T(958139571,3318307427),T(1322822218,3812723403),T(1537002063,2003034995),T(1747873779,3602036899),T(1955562222,1575990012),T(2024104815,1125592928),T(2227730452,2716904306),T(2361852424,442776044),T(2428436474,593698344),T(2756734187,3733110249),T(3204031479,2999351573),T(3329325298,3815920427),T(3391569614,3928383900),T(3515267271,566280711),T(3940187606,3454069534),T(4118630271,4000239992),T(116418474,1914138554),T(174292421,2731055270),T(289380356,3203993006),T(460393269,320620315),T(685471733,587496836),T(852142971,1086792851),T(1017036298,365543100),T(1126000580,2618297676),T(1288033470,3409855158),T(1501505948,4234509866),T(1607167915,987167468),T(1816402316,1246189591)],Ie=[],xe=0;80>xe;xe++)Ie[xe]=T();le=le.SHA512=R.extend({_doReset:function(){this._hash=new J.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Ue=this._hash.words)[0],Xe=Ue[1],ot=Ue[2],dt=Ue[3],ut=Ue[4],be=Ue[5],De=Ue[6],Ue=Ue[7],Ke=ze.high,lt=ze.low,mt=Xe.high,$t=Xe.low,Tt=ot.high,gn=ot.low,Ft=dt.high,Vt=dt.low,zn=ut.high,Nn=ut.low,Un=be.high,Qt=be.low,Gn=De.high,pn=De.low,Yn=Ue.high,mr=Ue.low,yr=Ke,cr=lt,Ci=mt,Zi=$t,va=Tt,ir=gn,Bi=Ft,Ao=Vt,ar=zn,$r=Nn,ro=Un,Ji=Qt,zu=Gn,io=pn,vn=Yn,Ma=mr,fr=0;80>fr;fr++){var qi=Ie[fr];if(16>fr)var _a=qi.high=0|Me[$e+2*fr],dr=qi.low=0|Me[$e+2*fr+1];else{_a=((dr=(_a=Ie[fr-15]).high)>>>1|(Yi=_a.low)<<31)^(dr>>>8|Yi<<24)^dr>>>7;var Yi=(Yi>>>1|dr<<31)^(Yi>>>8|dr<<24)^(Yi>>>7|dr<<25),ao=((dr=(ao=Ie[fr-2]).high)>>>19|(Pr=ao.low)<<13)^(dr<<3|Pr>>>29)^dr>>>6,Pr=(Pr>>>19|dr<<13)^(Pr<<3|dr>>>29)^(Pr>>>6|dr<<26),sc=(dr=Ie[fr-7]).high,Ro=(Da=Ie[fr-16]).high,Da=Da.low;_a=(_a=(_a=_a+sc+((dr=Yi+dr.low)>>>0<Yi>>>0?1:0))+ao+((dr=dr+Pr)>>>0<Pr>>>0?1:0))+Ro+((dr=dr+Da)>>>0<Da>>>0?1:0),qi.high=_a,qi.low=dr}sc=ar&ro^~ar&zu,Da=$r&Ji^~$r&io,qi=yr&Ci^yr&va^Ci&va;var lp=cr&Zi^cr&ir^Zi&ir,Xi=(Yi=(yr>>>28|cr<<4)^(yr<<30|cr>>>2)^(yr<<25|cr>>>7),ao=(cr>>>28|yr<<4)^(cr<<30|yr>>>2)^(cr<<25|yr>>>7),(Pr=we[fr]).high),Vf=Pr.low;Ro=vn+((ar>>>14|$r<<18)^(ar>>>18|$r<<14)^(ar<<23|$r>>>9))+((Pr=Ma+(($r>>>14|ar<<18)^($r>>>18|ar<<14)^($r<<23|ar>>>9)))>>>0<Ma>>>0?1:0),vn=zu,Ma=io,zu=ro,io=Ji,ro=ar,Ji=$r,ar=Bi+(Ro=(Ro=(Ro=Ro+sc+((Pr=Pr+Da)>>>0<Da>>>0?1:0))+Xi+((Pr=Pr+Vf)>>>0<Vf>>>0?1:0))+_a+((Pr=Pr+dr)>>>0<dr>>>0?1:0))+(($r=Ao+Pr|0)>>>0<Ao>>>0?1:0)|0,Bi=va,Ao=ir,va=Ci,ir=Zi,Ci=yr,Zi=cr,yr=Ro+(qi=Yi+qi+((dr=ao+lp)>>>0<ao>>>0?1:0))+((cr=Pr+dr|0)>>>0<Pr>>>0?1:0)|0}lt=ze.low=lt+cr,ze.high=Ke+yr+(lt>>>0<cr>>>0?1:0),$t=Xe.low=$t+Zi,Xe.high=mt+Ci+($t>>>0<Zi>>>0?1:0),gn=ot.low=gn+ir,ot.high=Tt+va+(gn>>>0<ir>>>0?1:0),Vt=dt.low=Vt+Ao,dt.high=Ft+Bi+(Vt>>>0<Ao>>>0?1:0),Nn=ut.low=Nn+$r,ut.high=zn+ar+(Nn>>>0<$r>>>0?1:0),Qt=be.low=Qt+Ji,be.high=Un+ro+(Qt>>>0<Ji>>>0?1:0),pn=De.low=pn+io,De.high=Gn+zu+(pn>>>0<io>>>0?1:0),mr=Ue.low=mr+Ma,Ue.high=Yn+vn+(mr>>>0<Ma>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Xe=8*Me.sigBytes;return $e[Xe>>>5]|=128<<24-Xe%32,$e[30+(Xe+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Xe+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=R.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),C.SHA512=R._createHelper(le),C.HmacSHA512=R._createHmacHelper(le)}(),function(){var T=P,C=(J=T.x64).Word,R=J.WordArray,N=(J=T.algo).SHA512,J=J.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});T.SHA384=N._createHelper(J),T.HmacSHA384=N._createHmacHelper(J)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var O,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(T){var C,R,N="";for(C=0;C+3<=T.length;C+=3)R=parseInt(T.substring(C,C+3),16),N+=D.charAt(R>>6)+D.charAt(63&R);for(C+1==T.length?(R=parseInt(T.substring(C,C+1),16),N+=D.charAt(R<<2)):C+2==T.length&&(R=parseInt(T.substring(C,C+2),16),N+=D.charAt(R>>2)+D.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(T){var C,R,N,J="",le=0;for(C=0;C<T.length&&T.charAt(C)!="=";++C)(N=D.indexOf(T.charAt(C)))<0||(le==0?(J+=pe(N>>2),R=3&N,le=1):le==1?(J+=pe(R<<2|N>>4),R=15&N,le=2):le==2?(J+=pe(R),J+=pe(N>>2),R=3&N,le=3):(J+=pe(R<<2|N>>4),J+=pe(15&N),le=0));return le==1&&(J+=pe(R<<2)),J}function X(T){var C,R=Q(T),N=new Array;for(C=0;2*C<R.length;++C)N[C]=parseInt(R.substring(2*C,2*C+2),16);return N}function U(T,C,R){T!=null&&(typeof T=="number"?this.fromNumber(T,C,R):C==null&&typeof T!="string"?this.fromString(T,256):this.fromString(T,C))}function Y(){return new U(null)}x.appName=="Microsoft Internet Explorer"?(U.prototype.am=function(C,R,N,J,le,we){for(var Ie=32767&R,xe=R>>15;--we>=0;){var Oe=32767&this[C],Me=this[C++]>>15,$e=xe*Oe+Me*Ie;le=((Oe=Ie*Oe+((32767&$e)<<15)+N[J]+(1073741823&le))>>>30)+($e>>>15)+xe*Me+(le>>>30),N[J++]=1073741823&Oe}return le},O=30):x.appName!="Netscape"?(U.prototype.am=function(C,R,N,J,le,we){for(;--we>=0;){var Ie=R*this[C++]+N[J]+le;le=Math.floor(Ie/67108864),N[J++]=67108863&Ie}return le},O=26):(U.prototype.am=function(C,R,N,J,le,we){for(var Ie=16383&R,xe=R>>14;--we>=0;){var Oe=16383&this[C],Me=this[C++]>>14,$e=xe*Oe+Me*Ie;le=((Oe=Ie*Oe+((16383&$e)<<14)+N[J]+le)>>28)+($e>>14)+xe*Me,N[J++]=268435455&Oe}return le},O=28),U.prototype.DB=O,U.prototype.DM=(1<<O)-1,U.prototype.DV=1<<O,U.prototype.FV=Math.pow(2,52),U.prototype.F1=52-O,U.prototype.F2=2*O-52;var ce,te,se=new Array;for(ce=48,te=0;te<=9;++te)se[ce++]=te;for(ce=97,te=10;te<36;++te)se[ce++]=te;for(ce=65,te=10;te<36;++te)se[ce++]=te;function pe(T){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(T)}function _e(T,C){var R=se[T.charCodeAt(C)];return R??-1}function de(T){var C=Y();return C.fromInt(T),C}function ue(T){var C,R=1;return(C=T>>>16)!=0&&(T=C,R+=16),(C=T>>8)!=0&&(T=C,R+=8),(C=T>>4)!=0&&(T=C,R+=4),(C=T>>2)!=0&&(T=C,R+=2),(C=T>>1)!=0&&(T=C,R+=1),R}function Re(T){this.m=T}function k(T){this.m=T,this.mp=T.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<T.DB-15)-1,this.mt2=2*T.t}function ie(T,C){return T&C}function me(T,C){return T|C}function K(T,C){return T^C}function ee(T,C){return T&~C}function ge(T){if(T==0)return-1;var C=0;return!(65535&T)&&(T>>=16,C+=16),!(255&T)&&(T>>=8,C+=8),!(15&T)&&(T>>=4,C+=4),!(3&T)&&(T>>=2,C+=2),!(1&T)&&++C,C}function Ae(T){for(var C=0;T!=0;)T&=T-1,++C;return C}function Ze(){}function Pe(T){return T}function Ne(T){this.r2=Y(),this.q3=Y(),U.ONE.dlShiftTo(2*T.t,this.r2),this.mu=this.r2.divide(T),this.m=T}Re.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},Re.prototype.revert=function(C){return C},Re.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},Re.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N),this.reduce(N)},Re.prototype.sqrTo=function(C,R){C.squareTo(R),this.reduce(R)},k.prototype.convert=function(C){var R=Y();return C.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),C.s<0&&R.compareTo(U.ZERO)>0&&this.m.subTo(R,R),R},k.prototype.revert=function(C){var R=Y();return C.copyTo(R),this.reduce(R),R},k.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&C[R],J=N*this.mpl+((N*this.mph+(C[R]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[N=R+this.m.t]+=this.m.am(0,J,C,R,0,this.m.t);C[N]>=C.DV;)C[N]-=C.DV,C[++N]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},k.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N),this.reduce(N)},k.prototype.sqrTo=function(C,R){C.squareTo(R),this.reduce(R)},U.prototype.copyTo=function(C){for(var R=this.t-1;R>=0;--R)C[R]=this[R];C.t=this.t,C.s=this.s},U.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},U.prototype.fromString=function(C,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(C,R);N=2}this.t=0,this.s=0;for(var J=C.length,le=!1,we=0;--J>=0;){var Ie=N==8?255&C[J]:_e(C,J);Ie<0?C.charAt(J)=="-"&&(le=!0):(le=!1,we==0?this[this.t++]=Ie:we+N>this.DB?(this[this.t-1]|=(Ie&(1<<this.DB-we)-1)<<we,this[this.t++]=Ie>>this.DB-we):this[this.t-1]|=Ie<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&C[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),le&&U.ZERO.subTo(this,this)},U.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},U.prototype.dlShiftTo=function(C,R){var N;for(N=this.t-1;N>=0;--N)R[N+C]=this[N];for(N=C-1;N>=0;--N)R[N]=0;R.t=this.t+C,R.s=this.s},U.prototype.drShiftTo=function(C,R){for(var N=C;N<this.t;++N)R[N-C]=this[N];R.t=Math.max(this.t-C,0),R.s=this.s},U.prototype.lShiftTo=function(C,R){var N,J=C%this.DB,le=this.DB-J,we=(1<<le)-1,Ie=Math.floor(C/this.DB),xe=this.s<<J&this.DM;for(N=this.t-1;N>=0;--N)R[N+Ie+1]=this[N]>>le|xe,xe=(this[N]&we)<<J;for(N=Ie-1;N>=0;--N)R[N]=0;R[Ie]=xe,R.t=this.t+Ie+1,R.s=this.s,R.clamp()},U.prototype.rShiftTo=function(C,R){R.s=this.s;var N=Math.floor(C/this.DB);if(N>=this.t)R.t=0;else{var J=C%this.DB,le=this.DB-J,we=(1<<J)-1;R[0]=this[N]>>J;for(var Ie=N+1;Ie<this.t;++Ie)R[Ie-N-1]|=(this[Ie]&we)<<le,R[Ie-N]=this[Ie]>>J;J>0&&(R[this.t-N-1]|=(this.s&we)<<le),R.t=this.t-N,R.clamp()}},U.prototype.subTo=function(C,R){for(var N=0,J=0,le=Math.min(C.t,this.t);N<le;)J+=this[N]-C[N],R[N++]=J&this.DM,J>>=this.DB;if(C.t<this.t){for(J-=C.s;N<this.t;)J+=this[N],R[N++]=J&this.DM,J>>=this.DB;J+=this.s}else{for(J+=this.s;N<C.t;)J-=C[N],R[N++]=J&this.DM,J>>=this.DB;J-=C.s}R.s=J<0?-1:0,J<-1?R[N++]=this.DV+J:J>0&&(R[N++]=J),R.t=N,R.clamp()},U.prototype.multiplyTo=function(C,R){var N=this.abs(),J=C.abs(),le=N.t;for(R.t=le+J.t;--le>=0;)R[le]=0;for(le=0;le<J.t;++le)R[le+N.t]=N.am(0,J[le],R,le,0,N.t);R.s=0,R.clamp(),this.s!=C.s&&U.ZERO.subTo(R,R)},U.prototype.squareTo=function(C){for(var R=this.abs(),N=C.t=2*R.t;--N>=0;)C[N]=0;for(N=0;N<R.t-1;++N){var J=R.am(N,R[N],C,2*N,0,1);(C[N+R.t]+=R.am(N+1,2*R[N],C,2*N+1,J,R.t-N-1))>=R.DV&&(C[N+R.t]-=R.DV,C[N+R.t+1]=1)}C.t>0&&(C[C.t-1]+=R.am(N,R[N],C,2*N,0,1)),C.s=0,C.clamp()},U.prototype.divRemTo=function(C,R,N){var J=C.abs();if(!(J.t<=0)){var le=this.abs();if(le.t<J.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=Y());var we=Y(),Ie=this.s,xe=C.s,Oe=this.DB-ue(J[J.t-1]);Oe>0?(J.lShiftTo(Oe,we),le.lShiftTo(Oe,N)):(J.copyTo(we),le.copyTo(N));var Me=we.t,$e=we[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?we[Me-2]>>this.F2:0),Xe=this.FV/ze,ot=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,be=ut-Me,De=R??Y();for(we.dlShiftTo(be,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),U.ONE.dlShiftTo(Me,De),De.subTo(we,we);we.t<Me;)we[we.t++]=0;for(;--be>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Xe+(N[ut-1]+dt)*ot);if((N[ut]+=we.am(0,Ue,N,be,0,Me))<Ue)for(we.dlShiftTo(be,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(Me,R),Ie!=xe&&U.ZERO.subTo(R,R)),N.t=Me,N.clamp(),Oe>0&&N.rShiftTo(Oe,N),Ie<0&&U.ZERO.subTo(N,N)}}},U.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var R=3&C;return(R=(R=(R=(R=R*(2-(15&C)*R)&15)*(2-(255&C)*R)&255)*(2-((65535&C)*R&65535))&65535)*(2-C*R%this.DV)%this.DV)>0?this.DV-R:-R},U.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},U.prototype.exp=function(C,R){if(C>4294967295||C<1)return U.ONE;var N=Y(),J=Y(),le=R.convert(this),we=ue(C)-1;for(le.copyTo(N);--we>=0;)if(R.sqrTo(N,J),(C&1<<we)>0)R.mulTo(J,le,N);else{var Ie=N;N=J,J=Ie}return R.revert(N)},U.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var R;if(C==16)R=4;else if(C==8)R=3;else if(C==2)R=1;else if(C==32)R=5;else{if(C!=4)return this.toRadix(C);R=2}var N,J=(1<<R)-1,le=!1,we="",Ie=this.t,xe=this.DB-Ie*this.DB%R;if(Ie-- >0)for(xe<this.DB&&(N=this[Ie]>>xe)>0&&(le=!0,we=pe(N));Ie>=0;)xe<R?(N=(this[Ie]&(1<<xe)-1)<<R-xe,N|=this[--Ie]>>(xe+=this.DB-R)):(N=this[Ie]>>(xe-=R)&J,xe<=0&&(xe+=this.DB,--Ie)),N>0&&(le=!0),le&&(we+=pe(N));return le?we:"0"},U.prototype.negate=function(){var C=Y();return U.ZERO.subTo(this,C),C},U.prototype.abs=function(){return this.s<0?this.negate():this},U.prototype.compareTo=function(C){var R=this.s-C.s;if(R!=0)return R;var N=this.t;if((R=N-C.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-C[N])!=0)return R;return 0},U.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ue(this[this.t-1]^this.s&this.DM)},U.prototype.mod=function(C){var R=Y();return this.abs().divRemTo(C,null,R),this.s<0&&R.compareTo(U.ZERO)>0&&C.subTo(R,R),R},U.prototype.modPowInt=function(C,R){var N;return N=C<256||R.isEven()?new Re(R):new k(R),this.exp(C,N)},U.ZERO=de(0),U.ONE=de(1),Ze.prototype.convert=Pe,Ze.prototype.revert=Pe,Ze.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N)},Ze.prototype.sqrTo=function(C,R){C.squareTo(R)},Ne.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var R=Y();return C.copyTo(R),this.reduce(R),R},Ne.prototype.revert=function(C){return C},Ne.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},Ne.prototype.mulTo=function(C,R,N){C.multiplyTo(R,N),this.reduce(N)},Ne.prototype.sqrTo=function(C,R){C.squareTo(R),this.reduce(R)};var Ye=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],oe=(1<<26)/Ye[Ye.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function H(){this.i=0,this.j=0,this.S=new Array}U.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},U.prototype.toRadix=function(C){if(C==null&&(C=10),this.signum()==0||C<2||C>36)return"0";var R=this.chunkSize(C),N=Math.pow(C,R),J=de(N),le=Y(),we=Y(),Ie="";for(this.divRemTo(J,le,we);le.signum()>0;)Ie=(N+we.intValue()).toString(C).substr(1)+Ie,le.divRemTo(J,le,we);return we.intValue().toString(C)+Ie},U.prototype.fromRadix=function(C,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),J=Math.pow(R,N),le=!1,we=0,Ie=0,xe=0;xe<C.length;++xe){var Oe=_e(C,xe);Oe<0?C.charAt(xe)=="-"&&this.signum()==0&&(le=!0):(Ie=R*Ie+Oe,++we>=N&&(this.dMultiply(J),this.dAddOffset(Ie,0),we=0,Ie=0))}we>0&&(this.dMultiply(Math.pow(R,we)),this.dAddOffset(Ie,0)),le&&U.ZERO.subTo(this,this)},U.prototype.fromNumber=function(C,R,N){if(typeof R=="number")if(C<2)this.fromInt(1);else for(this.fromNumber(C,N),this.testBit(C-1)||this.bitwiseTo(U.ONE.shiftLeft(C-1),me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(U.ONE.shiftLeft(C-1),this);else{var J=new Array,le=7&C;J.length=1+(C>>3),R.nextBytes(J),le>0?J[0]&=(1<<le)-1:J[0]=0,this.fromString(J,256)}},U.prototype.bitwiseTo=function(C,R,N){var J,le,we=Math.min(C.t,this.t);for(J=0;J<we;++J)N[J]=R(this[J],C[J]);if(C.t<this.t){for(le=C.s&this.DM,J=we;J<this.t;++J)N[J]=R(this[J],le);N.t=this.t}else{for(le=this.s&this.DM,J=we;J<C.t;++J)N[J]=R(le,C[J]);N.t=C.t}N.s=R(this.s,C.s),N.clamp()},U.prototype.changeBit=function(C,R){var N=U.ONE.shiftLeft(C);return this.bitwiseTo(N,R,N),N},U.prototype.addTo=function(C,R){for(var N=0,J=0,le=Math.min(C.t,this.t);N<le;)J+=this[N]+C[N],R[N++]=J&this.DM,J>>=this.DB;if(C.t<this.t){for(J+=C.s;N<this.t;)J+=this[N],R[N++]=J&this.DM,J>>=this.DB;J+=this.s}else{for(J+=this.s;N<C.t;)J+=C[N],R[N++]=J&this.DM,J>>=this.DB;J+=C.s}R.s=J<0?-1:0,J>0?R[N++]=J:J<-1&&(R[N++]=this.DV+J),R.t=N,R.clamp()},U.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},U.prototype.dAddOffset=function(C,R){if(C!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=C;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},U.prototype.multiplyLowerTo=function(C,R,N){var J,le=Math.min(this.t+C.t,R);for(N.s=0,N.t=le;le>0;)N[--le]=0;for(J=N.t-this.t;le<J;++le)N[le+this.t]=this.am(0,C[le],N,le,0,this.t);for(J=Math.min(C.t,R);le<J;++le)this.am(0,C[le],N,le,0,R-le);N.clamp()},U.prototype.multiplyUpperTo=function(C,R,N){--R;var J=N.t=this.t+C.t-R;for(N.s=0;--J>=0;)N[J]=0;for(J=Math.max(R-this.t,0);J<C.t;++J)N[this.t+J-R]=this.am(R-J,C[J],N,0,0,this.t+J-R);N.clamp(),N.drShiftTo(1,N)},U.prototype.modInt=function(C){if(C<=0)return 0;var R=this.DV%C,N=this.s<0?C-1:0;if(this.t>0)if(R==0)N=this[0]%C;else for(var J=this.t-1;J>=0;--J)N=(R*N+this[J])%C;return N},U.prototype.millerRabin=function(C){var R=this.subtract(U.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var J=R.shiftRight(N);(C=C+1>>1)>Ye.length&&(C=Ye.length);for(var le=Y(),we=0;we<C;++we){le.fromInt(Ye[Math.floor(Math.random()*Ye.length)]);var Ie=le.modPow(J,this);if(Ie.compareTo(U.ONE)!=0&&Ie.compareTo(R)!=0){for(var xe=1;xe++<N&&Ie.compareTo(R)!=0;)if((Ie=Ie.modPowInt(2,this)).compareTo(U.ONE)==0)return!1;if(Ie.compareTo(R)!=0)return!1}}return!0},U.prototype.clone=function(){var C=Y();return this.copyTo(C),C},U.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},U.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},U.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},U.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},U.prototype.toByteArray=function(){var C=this.t,R=new Array;R[0]=this.s;var N,J=this.DB-C*this.DB%8,le=0;if(C-- >0)for(J<this.DB&&(N=this[C]>>J)!=(this.s&this.DM)>>J&&(R[le++]=N|this.s<<this.DB-J);C>=0;)J<8?(N=(this[C]&(1<<J)-1)<<8-J,N|=this[--C]>>(J+=this.DB-8)):(N=this[C]>>(J-=8)&255,J<=0&&(J+=this.DB,--C)),128&N&&(N|=-256),le==0&&(128&this.s)!=(128&N)&&++le,(le>0||N!=this.s)&&(R[le++]=N);return R},U.prototype.equals=function(C){return this.compareTo(C)==0},U.prototype.min=function(C){return this.compareTo(C)<0?this:C},U.prototype.max=function(C){return this.compareTo(C)>0?this:C},U.prototype.and=function(C){var R=Y();return this.bitwiseTo(C,ie,R),R},U.prototype.or=function(C){var R=Y();return this.bitwiseTo(C,me,R),R},U.prototype.xor=function(C){var R=Y();return this.bitwiseTo(C,K,R),R},U.prototype.andNot=function(C){var R=Y();return this.bitwiseTo(C,ee,R),R},U.prototype.not=function(){for(var C=Y(),R=0;R<this.t;++R)C[R]=this.DM&~this[R];return C.t=this.t,C.s=~this.s,C},U.prototype.shiftLeft=function(C){var R=Y();return C<0?this.rShiftTo(-C,R):this.lShiftTo(C,R),R},U.prototype.shiftRight=function(C){var R=Y();return C<0?this.lShiftTo(-C,R):this.rShiftTo(C,R),R},U.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(this[C]!=0)return C*this.DB+ge(this[C]);return this.s<0?this.t*this.DB:-1},U.prototype.bitCount=function(){for(var C=0,R=this.s&this.DM,N=0;N<this.t;++N)C+=Ae(this[N]^R);return C},U.prototype.testBit=function(C){var R=Math.floor(C/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<C%this.DB)!=0},U.prototype.setBit=function(C){return this.changeBit(C,me)},U.prototype.clearBit=function(C){return this.changeBit(C,ee)},U.prototype.flipBit=function(C){return this.changeBit(C,K)},U.prototype.add=function(C){var R=Y();return this.addTo(C,R),R},U.prototype.subtract=function(C){var R=Y();return this.subTo(C,R),R},U.prototype.multiply=function(C){var R=Y();return this.multiplyTo(C,R),R},U.prototype.divide=function(C){var R=Y();return this.divRemTo(C,R,null),R},U.prototype.remainder=function(C){var R=Y();return this.divRemTo(C,null,R),R},U.prototype.divideAndRemainder=function(C){var R=Y(),N=Y();return this.divRemTo(C,R,N),new Array(R,N)},U.prototype.modPow=function(C,R){var N,J,le=C.bitLength(),we=de(1);if(le<=0)return we;N=le<18?1:le<48?3:le<144?4:le<768?5:6,J=le<8?new Re(R):R.isEven()?new Ne(R):new k(R);var Ie=new Array,xe=3,Oe=N-1,Me=(1<<N)-1;if(Ie[1]=J.convert(this),N>1){var $e=Y();for(J.sqrTo(Ie[1],$e);xe<=Me;)Ie[xe]=Y(),J.mulTo($e,Ie[xe-2],Ie[xe]),xe+=2}var ze,Xe,ot=C.t-1,dt=!0,ut=Y();for(le=ue(C[ot])-1;ot>=0;){for(le>=Oe?ze=C[ot]>>le-Oe&Me:(ze=(C[ot]&(1<<le+1)-1)<<Oe-le,ot>0&&(ze|=C[ot-1]>>this.DB+le-Oe)),xe=N;!(1&ze);)ze>>=1,--xe;if((le-=xe)<0&&(le+=this.DB,--ot),dt)Ie[ze].copyTo(we),dt=!1;else{for(;xe>1;)J.sqrTo(we,ut),J.sqrTo(ut,we),xe-=2;xe>0?J.sqrTo(we,ut):(Xe=we,we=ut,ut=Xe),J.mulTo(ut,Ie[ze],we)}for(;ot>=0&&!(C[ot]&1<<le);)J.sqrTo(we,ut),Xe=we,we=ut,ut=Xe,--le<0&&(le=this.DB-1,--ot)}return J.revert(we)},U.prototype.modInverse=function(C){var R=C.isEven();if(this.isEven()&&R||C.signum()==0)return U.ZERO;for(var N=C.clone(),J=this.clone(),le=de(1),we=de(0),Ie=de(0),xe=de(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(le.isEven()&&we.isEven()||(le.addTo(this,le),we.subTo(C,we)),le.rShiftTo(1,le)):we.isEven()||we.subTo(C,we),we.rShiftTo(1,we);for(;J.isEven();)J.rShiftTo(1,J),R?(Ie.isEven()&&xe.isEven()||(Ie.addTo(this,Ie),xe.subTo(C,xe)),Ie.rShiftTo(1,Ie)):xe.isEven()||xe.subTo(C,xe),xe.rShiftTo(1,xe);N.compareTo(J)>=0?(N.subTo(J,N),R&&le.subTo(Ie,le),we.subTo(xe,we)):(J.subTo(N,J),R&&Ie.subTo(le,Ie),xe.subTo(we,xe))}return J.compareTo(U.ONE)!=0?U.ZERO:xe.compareTo(C)>=0?xe.subtract(C):xe.signum()<0?(xe.addTo(C,xe),xe.signum()<0?xe.add(C):xe):xe},U.prototype.pow=function(C){return this.exp(C,new Ze)},U.prototype.gcd=function(C){var R=this.s<0?this.negate():this.clone(),N=C.s<0?C.negate():C.clone();if(R.compareTo(N)<0){var J=R;R=N,N=J}var le=R.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return R;for(le<we&&(we=le),we>0&&(R.rShiftTo(we,R),N.rShiftTo(we,N));R.signum()>0;)(le=R.getLowestSetBit())>0&&R.rShiftTo(le,R),(le=N.getLowestSetBit())>0&&N.rShiftTo(le,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},U.prototype.isProbablePrime=function(C){var R,N=this.abs();if(N.t==1&&N[0]<=Ye[Ye.length-1]){for(R=0;R<Ye.length;++R)if(N[0]==Ye[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Ye.length;){for(var J=Ye[R],le=R+1;le<Ye.length&&J<oe;)J*=Ye[le++];for(J=N.modInt(J);R<le;)if(J%Ye[R++]==0)return!1}return N.millerRabin(C)},U.prototype.square=function(){var C=Y();return this.squareTo(C),C},H.prototype.init=function(C){var R,N,J;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+C[R%C.length]&255,J=this.S[R],this.S[R]=this.S[N],this.S[N]=J;this.i=0,this.j=0},H.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]};var $,ae,Z;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(C){ae[Z++]^=255&C,ae[Z++]^=C>>8&255,ae[Z++]^=C>>16&255,ae[Z++]^=C>>24&255,Z>=256&&(Z-=256)})(new Date().getTime())}if(ae==null){var ye;if(ae=new Array,Z=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var He=A.crypto||A.msCrypto;if(He.getRandomValues){var Ee=new Uint8Array(32);for(He.getRandomValues(Ee),ye=0;ye<32;++ye)ae[Z++]=Ee[ye]}else if(x.appName=="Netscape"&&x.appVersion<"5"){var Fe=A.crypto.random(32);for(ye=0;ye<Fe.length;++ye)ae[Z++]=255&Fe.charCodeAt(ye)}}for(;Z<256;)ye=Math.floor(65536*Math.random()),ae[Z++]=ye>>>8,ae[Z++]=255&ye;Z=0,he()}function tt(){if($==null){for(he(),($=function(){return new H}()).init(ae),Z=0;Z<ae.length;++Z)ae[Z]=0;Z=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(T,C){return new U(T,C)}function qt(T,C,R){for(var N="",J=0;N.length<C;)N+=R(String.fromCharCode.apply(String,T.concat([(4278190080&J)>>24,(16711680&J)>>16,(65280&J)>>8,255&J]))),J+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(T,C){this.x=C,this.q=T}function ne(T,C,R,N){this.curve=T,this.x=C,this.y=R,this.z=N??U.ONE,this.zinv=null}function z(T,C,R){this.q=T,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(R),this.infinity=new ne(this,null,null)}nt.prototype.nextBytes=function(C){var R;for(R=0;R<C.length;++R)C[R]=tt()},Se.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(C,R){if(this.isPublic=!0,this.isPrivate=!1,typeof C!="string")this.n=C,this.e=R;else{if(!(C!=null&&R!=null&&C.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(C,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(C){var R=function(we,Ie){if(Ie<we.length+11)throw"Message too long for RSA";for(var xe=new Array,Oe=we.length-1;Oe>=0&&Ie>0;){var Me=we.charCodeAt(Oe--);Me<128?xe[--Ie]=Me:Me>127&&Me<2048?(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6|192):(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6&63|128,xe[--Ie]=Me>>12|224)}xe[--Ie]=0;for(var $e=new nt,ze=new Array;Ie>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Ie]=ze[0]}return xe[--Ie]=2,xe[--Ie]=0,new U(xe)}(C,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var J=N.toString(16);return 1&J.length?"0"+J:J},Se.prototype.encryptOAEP=function(C,R,N){var J=function(xe,Oe,Me,$e){var ze=G.crypto.MessageDigest,Xe=G.crypto.Util,ot=null;if(Me||(Me="sha1"),typeof Me=="string"&&(ot=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(ot),Me=function(Tt){return ln(Xe.hashHex(In(Tt),ot))}),xe.length+2*$e+2>Oe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Oe-xe.length-2*$e-2;dt+=1)ut+="\0";var be=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Ue=qt(De,be.length,Me),Ke=[];for(dt=0;dt<be.length;dt+=1)Ke[dt]=be.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=qt(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new U(mt.concat(Ke))}(C,this.n.bitLength()+7>>3,R,N);if(J==null)return null;var le=this.doPublic(J);if(le==null)return null;var we=le.toString(16);return 1&we.length?"0"+we:we},Se.prototype.type="RSA",Be.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(C){return new Be(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(C){return new Be(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(C){return new Be(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(C){return new Be(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},ne.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ne.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ne.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO))},ne.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(U.ZERO)&&!this.y.toBigInteger().equals(U.ZERO)},ne.prototype.negate=function(){return new ne(this.curve,this.x,this.y.negate(),this.z)},ne.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var R=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),N=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(U.ZERO.equals(N))return U.ZERO.equals(R)?this.twice():this.curve.getInfinity();var J=new U("3"),le=this.x.toBigInteger(),we=this.y.toBigInteger(),Ie=(C.x.toBigInteger(),C.y.toBigInteger(),N.square()),xe=Ie.multiply(N),Oe=le.multiply(Ie),Me=R.square().multiply(this.z),$e=Me.subtract(Oe.shiftLeft(1)).multiply(C.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Oe.multiply(J).multiply(R).subtract(we.multiply(xe)).subtract(Me.multiply(R)).multiply(C.z).add(R.multiply(xe)).mod(this.curve.q),Xe=xe.multiply(this.z).multiply(C.z).mod(this.curve.q);return new ne(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Xe)},ne.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=new U("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),J=N.multiply(this.z),le=J.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Ie=R.square().multiply(C);U.ZERO.equals(we)||(Ie=Ie.add(this.z.square().multiply(we)));var xe=(Ie=Ie.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(le)).shiftLeft(1).multiply(J).mod(this.curve.q),Oe=Ie.multiply(C).multiply(R).subtract(le.shiftLeft(1)).shiftLeft(2).multiply(le).subtract(Ie.square().multiply(Ie)).mod(this.curve.q),Me=J.square().multiply(J).shiftLeft(3).mod(this.curve.q);return new ne(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Oe),Me)},ne.prototype.multiply=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var R,N=C,J=N.multiply(new U("3")),le=this.negate(),we=this,Ie=this.curve.q.subtract(C),xe=Ie.multiply(new U("3")),Oe=new ne(this.curve,this.x,this.y),Me=Oe.negate();for(R=J.bitLength()-2;R>0;--R){we=we.twice();var $e=J.testBit(R);$e!=N.testBit(R)&&(we=we.add($e?this:le))}for(R=xe.bitLength()-2;R>0;--R){Oe=Oe.twice();var ze=xe.testBit(R);ze!=Ie.testBit(R)&&(Oe=Oe.add(ze?Oe:Me))}return we},ne.prototype.multiplyTwo=function(C,R,N){var J;J=C.bitLength()>N.bitLength()?C.bitLength()-1:N.bitLength()-1;for(var le=this.curve.getInfinity(),we=this.add(R);J>=0;)le=le.twice(),C.testBit(J)?le=N.testBit(J)?le.add(we):le.add(this):N.testBit(J)&&(le=le.add(R)),--J;return le},z.prototype.getQ=function(){return this.q},z.prototype.getA=function(){return this.a},z.prototype.getB=function(){return this.b},z.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},z.prototype.getInfinity=function(){return this.infinity},z.prototype.fromBigInteger=function(C){return new Be(this.q,C)},z.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(C.length-2)/2,N=C.substr(2,R),J=C.substr(R+2,R);return new ne(this,this.fromBigInteger(new U(N,16)),this.fromBigInteger(new U(J,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ne.prototype.getEncoded=function(T){var C=function(we,Ie){var xe=we.toByteArrayUnsigned();if(Ie<xe.length)xe=xe.slice(xe.length-Ie);else for(;Ie>xe.length;)xe.unshift(0);return xe},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),J=C(R,32);return T?N.isEven()?J.unshift(2):J.unshift(3):(J.unshift(4),J=J.concat(C(N,32))),J},ne.decodeFrom=function(T,C){C[0];var R=C.length-1,N=C.slice(1,1+R/2),J=C.slice(1+R/2,1+R);N.unshift(0),J.unshift(0);var le=new U(N),we=new U(J);return new ne(T,T.fromBigInteger(le),T.fromBigInteger(we))},ne.decodeFromHex=function(T,C){C.substr(0,2);var R=C.length-2,N=C.substr(2,R/2),J=C.substr(2+R/2,R/2),le=new U(N,16),we=new U(J,16);return new ne(T,T.fromBigInteger(le),T.fromBigInteger(we))},ne.prototype.add2D=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.x.equals(T.x))return this.y.equals(T.y)?this.twice():this.curve.getInfinity();var C=T.x.subtract(this.x),R=T.y.subtract(this.y).divide(C),N=R.square().subtract(this.x).subtract(T.x),J=R.multiply(this.x.subtract(N)).subtract(this.y);return new ne(this.curve,N,J)},ne.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=this.curve.fromBigInteger(U.valueOf(2)),C=this.curve.fromBigInteger(U.valueOf(3)),R=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(T)),N=R.square().subtract(this.x.multiply(T)),J=R.multiply(this.x.subtract(N)).subtract(this.y);return new ne(this.curve,N,J)},ne.prototype.multiply2D=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var C,R=T,N=R.multiply(new U("3")),J=this.negate(),le=this;for(C=N.bitLength()-2;C>0;--C){le=le.twice();var we=N.testBit(C);we!=R.testBit(C)&&(le=le.add2D(we?this:J))}return le},ne.prototype.isOnCurve=function(){var T=this.getX().toBigInteger(),C=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),J=this.curve.getQ(),le=C.multiply(C).mod(J),we=T.multiply(T).multiply(T).add(R.multiply(T)).add(N).mod(J);return le.equals(we)},ne.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ne.prototype.validate=function(){var T=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(C.compareTo(U.ONE)<0||C.compareTo(T.subtract(U.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(U.ONE)<0||R.compareTo(T.subtract(U.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(T).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var W=function(){var T=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Ie,xe){return Ie?R[Ie]:String.fromCharCode(parseInt(xe,16))}var J=new String(""),le=Object.hasOwnProperty;return function(we,Ie){var xe,Oe,Me=we.match(T),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Xe=[xe],ot=1-ze,dt=Me.length;ot<dt;++ot){var ut;switch(($e=Me[ot]).charCodeAt(0)){default:(ut=Xe[0])[Oe||ut.length]=+$e,Oe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(C,N)),ut=Xe[0],!Oe){if(!(ut instanceof Array)){Oe=$e||J;break}Oe=ut.length}ut[Oe]=$e,Oe=void 0;break;case 91:ut=Xe[0],Xe.unshift(ut[Oe||ut.length]=[]),Oe=void 0;break;case 93:Xe.shift();break;case 102:(ut=Xe[0])[Oe||ut.length]=!1,Oe=void 0;break;case 110:(ut=Xe[0])[Oe||ut.length]=null,Oe=void 0;break;case 116:(ut=Xe[0])[Oe||ut.length]=!0,Oe=void 0;break;case 123:ut=Xe[0],Xe.unshift(ut[Oe||ut.length]={}),Oe=void 0;break;case 125:Xe.shift()}}if(ze){if(Xe.length!==1)throw new Error;xe=xe[0]}else if(Xe.length)throw new Error;return Ie&&(xe=function be(De,Ue){var Ke=De[Ue];if(Ke&&(Ke===void 0?"undefined":b(Ke))==="object"){var lt=null;for(var mt in Ke)if(le.call(Ke,mt)&&Ke!==De){var $t=be(Ke,mt);$t!==void 0?Ke[mt]=$t:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ke[lt[Tt]]}return Ie.call(De,Ue,Ke)}({"":xe},"")),xe}}();G!==void 0&&G||(r.KJUR=G={}),G.asn1!==void 0&&G.asn1||(G.asn1={}),G.asn1.ASN1Util=new function(){this.integerToByteHex=function(T){var C=T.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(T){var C=T.toString(16);if(C.substr(0,1)!="-")C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var R=C.substr(1).length;R%2==1?R+=1:C.match(/^[0-7]/)||(R+=2);for(var N="",J=0;J<R;J++)N+="f";C=new U(N,16).xor(T).add(U.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(T,C){return bt(T,C)},this.newObject=function(T){var C=G.asn1,R=C.ASN1Object,N=C.DERBoolean,J=C.DERInteger,le=C.DERBitString,we=C.DEROctetString,Ie=C.DERNull,xe=C.DERObjectIdentifier,Oe=C.DEREnumerated,Me=C.DERUTF8String,$e=C.DERNumericString,ze=C.DERPrintableString,Xe=C.DERTeletexString,ot=C.DERIA5String,dt=C.DERUTCTime,ut=C.DERGeneralizedTime,be=C.DERVisibleString,De=C.DERBMPString,Ue=C.DERSequence,Ke=C.DERSet,lt=C.DERTaggedObject,mt=C.ASN1Util.newObject;if(T instanceof C.ASN1Object)return T;var $t=Object.keys(T);if($t.length!=1)throw new Error("key of param shall be only one.");var Tt=$t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(T[Tt]);if(Tt=="int")return new J(T[Tt]);if(Tt=="bitstr")return new le(T[Tt]);if(Tt=="octstr")return new we(T[Tt]);if(Tt=="null")return new Ie(T[Tt]);if(Tt=="oid")return new xe(T[Tt]);if(Tt=="enum")return new Oe(T[Tt]);if(Tt=="utf8str")return new Me(T[Tt]);if(Tt=="numstr")return new $e(T[Tt]);if(Tt=="prnstr")return new ze(T[Tt]);if(Tt=="telstr")return new Xe(T[Tt]);if(Tt=="ia5str")return new ot(T[Tt]);if(Tt=="utctime")return new dt(T[Tt]);if(Tt=="gentime")return new ut(T[Tt]);if(Tt=="visstr")return new be(T[Tt]);if(Tt=="bmpstr")return new De(T[Tt]);if(Tt=="asn1")return new R(T[Tt]);if(Tt=="seq"){for(var gn=T[Tt],Ft=[],Vt=0;Vt<gn.length;Vt++){var zn=mt(gn[Vt]);Ft.push(zn)}return new Ue({array:Ft})}if(Tt=="set"){for(gn=T[Tt],Ft=[],Vt=0;Vt<gn.length;Vt++)zn=mt(gn[Vt]),Ft.push(zn);return new Ke({array:Ft})}if(Tt=="tag"){var Nn=T[Tt];if(Object.prototype.toString.call(Nn)==="[object Array]"&&Nn.length==3){var Un=mt(Nn[2]);return new lt({tag:Nn[0],explicit:Nn[1],obj:Un})}return new lt(Nn)}},this.jsonToASN1HEX=function(T){return this.newObject(T).getEncodedHex()}},G.asn1.ASN1Util.oidHexToInt=function(T){for(var C="",R=parseInt(T.substr(0,2),16),N=(C=Math.floor(R/40)+"."+R%40,""),J=2;J<T.length;J+=2){var le=("00000000"+parseInt(T.substr(J,2),16).toString(2)).slice(-8);N+=le.substr(1,7),le.substr(0,1)=="0"&&(C=C+"."+new U(N,2).toString(10),N="")}return C},G.asn1.ASN1Util.oidIntToHex=function(T){var C=function(xe){var Oe=xe.toString(16);return Oe.length==1&&(Oe="0"+Oe),Oe},R=function(xe){var Oe="",Me=new U(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Xe=0;Xe<$e;Xe++)ze+="0";for(Me=ze+Me,Xe=0;Xe<Me.length-1;Xe+=7){var ot=Me.substr(Xe,7);Xe!=Me.length-7&&(ot="1"+ot),Oe+=C(parseInt(ot,2))}return Oe};if(!T.match(/^[0-9.]+$/))throw"malformed oid string: "+T;var N="",J=T.split("."),le=40*parseInt(J[0])+parseInt(J[1]);N+=C(le),J.splice(0,2);for(var we=0;we<J.length;we++)N+=R(J[we]);return N},G.asn1.ASN1Object=function(T){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,R=C.toString(16);if(R.length%2==1&&(R="0"+R),C<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},T!=null&&T.tlv!=null&&(this.hTLV=T.tlv,this.isModified=!1)},G.asn1.DERAbstractString=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=gr(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"?this.setString(T):T.str!==void 0?this.setString(T.str):T.hex!==void 0&&this.setStringHex(T.hex))},Ht(G.asn1.DERAbstractString,G.asn1.ASN1Object),G.asn1.DERAbstractTime=function(T){G.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var R=C.getTime()+6e4*C.getTimezoneOffset();return new Date(R)},this.formatDate=function(C,R,N){var J=this.zeroPadding,le=this.localDateToUTC(C),we=String(le.getFullYear());R=="utc"&&(we=we.substr(2,2));var Ie=we+J(String(le.getMonth()+1),2)+J(String(le.getDate()),2)+J(String(le.getHours()),2)+J(String(le.getMinutes()),2)+J(String(le.getSeconds()),2);if(N===!0){var xe=le.getMilliseconds();if(xe!=0){var Oe=J(String(xe),3);Ie=Ie+"."+(Oe=Oe.replace(/[0]+$/,""))}}return Ie+"Z"},this.zeroPadding=function(C,R){return C.length>=R?C:new Array(R-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Ot(C)},this.setByDateValue=function(C,R,N,J,le,we){var Ie=new Date(Date.UTC(C,R-1,N,J,le,we,0));this.setByDate(Ie)},this.getFreshValueHex=function(){return this.hV}},Ht(G.asn1.DERAbstractTime,G.asn1.ASN1Object),G.asn1.DERAbstractStructured=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,T!==void 0&&T.array!==void 0&&(this.asn1Array=T.array)},Ht(G.asn1.DERAbstractStructured,G.asn1.ASN1Object),G.asn1.DERBoolean=function(T){G.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=T==0?"010100":"0101ff"},Ht(G.asn1.DERBoolean,G.asn1.ASN1Object),G.asn1.DERInteger=function(T){G.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var R=new U(String(C),10);this.setByBigInteger(R)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.bigint!==void 0?this.setByBigInteger(T.bigint):T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DERInteger,G.asn1.ASN1Object),G.asn1.DERBitString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex="00"+C.getEncodedHex()}G.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var J="0"+R;this.hTLV=null,this.isModified=!0,this.hV=J+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var J=0;J<=N;J++)R+="0";var le="";for(J=0;J<R.length-1;J+=8){var we=R.substr(J,8),Ie=parseInt(we,2).toString(16);Ie.length==1&&(Ie="0"+Ie),le+=Ie}this.hTLV=null,this.isModified=!0,this.hV="0"+N+le},this.setByBooleanArray=function(R){for(var N="",J=0;J<R.length;J++)R[J]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),J=0;J<R;J++)N[J]=!1;return N},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"&&T.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(T):T.hex!==void 0?this.setHexValueIncludingUnusedBits(T.hex):T.bin!==void 0?this.setByBinaryString(T.bin):T.array!==void 0&&this.setByBooleanArray(T.array))},Ht(G.asn1.DERBitString,G.asn1.ASN1Object),G.asn1.DEROctetString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex=C.getEncodedHex()}G.asn1.DEROctetString.superclass.constructor.call(this,T),this.hT="04"},Ht(G.asn1.DEROctetString,G.asn1.DERAbstractString),G.asn1.DERNull=function(){G.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ht(G.asn1.DERNull,G.asn1.ASN1Object),G.asn1.DERObjectIdentifier=function(T){G.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var R=function(J){var le=function(ze){var Xe=ze.toString(16);return Xe.length==1&&(Xe="0"+Xe),Xe},we=function(ze){var Xe="",ot=parseInt(ze,10).toString(2),dt=7-ot.length%7;dt==7&&(dt=0);for(var ut="",be=0;be<dt;be++)ut+="0";for(ot=ut+ot,be=0;be<ot.length-1;be+=7){var De=ot.substr(be,7);be!=ot.length-7&&(De="1"+De),Xe+=le(parseInt(De,2))}return Xe};try{if(!J.match(/^[0-9.]+$/))return null;var Ie="",xe=J.split("."),Oe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Ie+=le(Oe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Ie+=we(xe[Me]);return Ie}catch{return null}}(C);if(R==null)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(C){var R=G.asn1.x509.OID.name2oid(C);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(R)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){typeof C=="string"?this.setValueNameOrOid(C):C.oid!==void 0?this.setValueNameOrOid(C.oid):C.name!==void 0?this.setValueNameOrOid(C.name):C.hex!==void 0&&this.setValueHex(C.hex)},T!==void 0&&this.setByParam(T)},Ht(G.asn1.DERObjectIdentifier,G.asn1.ASN1Object),G.asn1.DEREnumerated=function(T){G.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var R=new U(String(C),10);this.setByBigInteger(R)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DEREnumerated,G.asn1.ASN1Object),G.asn1.DERUTF8String=function(T){G.asn1.DERUTF8String.superclass.constructor.call(this,T),this.hT="0c"},Ht(G.asn1.DERUTF8String,G.asn1.DERAbstractString),G.asn1.DERNumericString=function(T){G.asn1.DERNumericString.superclass.constructor.call(this,T),this.hT="12"},Ht(G.asn1.DERNumericString,G.asn1.DERAbstractString),G.asn1.DERPrintableString=function(T){G.asn1.DERPrintableString.superclass.constructor.call(this,T),this.hT="13"},Ht(G.asn1.DERPrintableString,G.asn1.DERAbstractString),G.asn1.DERTeletexString=function(T){G.asn1.DERTeletexString.superclass.constructor.call(this,T),this.hT="14"},Ht(G.asn1.DERTeletexString,G.asn1.DERAbstractString),G.asn1.DERIA5String=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="16"},Ht(G.asn1.DERIA5String,G.asn1.DERAbstractString),G.asn1.DERVisibleString=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="1a"},Ht(G.asn1.DERVisibleString,G.asn1.DERAbstractString),G.asn1.DERBMPString=function(T){G.asn1.DERBMPString.superclass.constructor.call(this,T),this.hT="1e"},Ht(G.asn1.DERBMPString,G.asn1.DERAbstractString),G.asn1.DERUTCTime=function(T){G.asn1.DERUTCTime.superclass.constructor.call(this,T),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Ot(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ot(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{12}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date))},Ht(G.asn1.DERUTCTime,G.asn1.DERAbstractTime),G.asn1.DERGeneralizedTime=function(T){G.asn1.DERGeneralizedTime.superclass.constructor.call(this,T),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ot(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ot(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{14}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date),T.millis===!0&&(this.withMillis=!0))},Ht(G.asn1.DERGeneralizedTime,G.asn1.DERAbstractTime),G.asn1.DERSequence=function(T){G.asn1.DERSequence.superclass.constructor.call(this,T),this.hT="30",this.getFreshValueHex=function(){for(var C="",R=0;R<this.asn1Array.length;R++)C+=this.asn1Array[R].getEncodedHex();return this.hV=C,this.hV}},Ht(G.asn1.DERSequence,G.asn1.DERAbstractStructured),G.asn1.DERSet=function(T){G.asn1.DERSet.superclass.constructor.call(this,T),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];C.push(N.getEncodedHex())}return this.sortFlag==1&&C.sort(),this.hV=C.join(""),this.hV},T!==void 0&&T.sortflag!==void 0&&T.sortflag==0&&(this.sortFlag=!1)},Ht(G.asn1.DERSet,G.asn1.DERAbstractStructured),G.asn1.DERTaggedObject=function(T){G.asn1.DERTaggedObject.superclass.constructor.call(this);var C=G.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,J){this.hT=N,this.isExplicit=R,this.asn1Object=J,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=J.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof C.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):b(R.obj)=="object"&&(this.asn1Object=C.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},T!=null&&this.setByParam(T)},Ht(G.asn1.DERTaggedObject,G.asn1.ASN1Object);var G,je,Je,ke=new function(){};function Rt(T){for(var C=new Array,R=0;R<T.length;R++)C[R]=T.charCodeAt(R);return C}function It(T){for(var C="",R=0;R<T.length;R++)C+=String.fromCharCode(T[R]);return C}function Nt(T){for(var C="",R=0;R<T.length;R++){var N=T[R].toString(16);N.length==1&&(N="0"+N),C+=N}return C}function Ot(T){return Nt(Rt(T))}function zt(T){return T=(T=(T=T.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ar(T){return T.length%4==2?T+="==":T.length%4==3&&(T+="="),T=(T=T.replace(/-/g,"+")).replace(/_/g,"/")}function dn(T){return T.length%2==1&&(T="0"+T),zt(F(T))}function hn(T){return Q(Ar(T))}function gr(T){return Jn(Ct(T))}function un(T){return decodeURIComponent(We(T))}function ln(T){for(var C="",R=0;R<T.length-1;R+=2)C+=String.fromCharCode(parseInt(T.substr(R,2),16));return C}function In(T){for(var C="",R=0;R<T.length;R++)C+=("0"+T.charCodeAt(R).toString(16)).slice(-2);return C}function lr(T){return F(T)}function Le(T){var C=lr(T).replace(/(.{64})/g,`$1\r
`);return C=C.replace(/\r\n$/,"")}function qe(T){return Q(T.replace(/[^0-9A-Za-z\/+=]*/g,""))}function bt(T,C){return"-----BEGIN "+C+`-----\r
`+Le(T)+`\r
-----END `+C+`-----\r
`}function Et(T,C){if(T.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+C;return qe(T=C!==void 0?(T=T.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(T=T.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Mt(T){var C,R,N,J,le,we,Ie,xe,Oe,Me,$e;if($e=T.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],C=parseInt(xe),xe.length===2&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),R=parseInt($e[2])-1,N=parseInt($e[3]),J=parseInt($e[4]),le=parseInt($e[5]),we=parseInt($e[6]),Ie=0,(Oe=$e[7])!==""&&(Me=(Oe.substr(1)+"00").substr(0,3),Ie=parseInt(Me)),Date.UTC(C,R,N,J,le,we,Ie);throw"unsupported zulu format: "+T}function Hn(T){return~~(Mt(T)/1e3)}function Jn(T){return T.replace(/%/g,"")}function We(T){return T.replace(/(..)/g,"%$1")}function Ce(T){var C="malformed IPv6 address";if(!T.match(/^[0-9A-Fa-f:]+$/))throw C;var R=(T=T.toLowerCase()).split(":").length-1;if(R<2)throw C;var N=":".repeat(7-R+2),J=(T=T.replace("::",N)).split(":");if(J.length!=8)throw C;for(var le=0;le<8;le++)J[le]=("0000"+J[le]).slice(-4);return J.join("")}function et(T){if(!T.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(T=T.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)C[R]=C[R].replace(/^0+/,""),C[R]==""&&(C[R]="0");var N=(T=":"+C.join(":")+":").match(/:(0:){2,}/g);if(N===null)return T.slice(1,-1);var J="";for(R=0;R<N.length;R++)N[R].length>J.length&&(J=N[R]);return(T=T.replace(J,"::")).slice(1,-1)}function ft(T){var C="malformed hex value";if(!T.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(T.length!=8)return T.length==32?et(T):T;try{return parseInt(T.substr(0,2),16)+"."+parseInt(T.substr(2,2),16)+"."+parseInt(T.substr(4,2),16)+"."+parseInt(T.substr(6,2),16)}catch{throw C}}function it(T){return T.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),J=parseInt(R.substr(2),16);if(N==0&J<128)return String.fromCharCode(J);if(N<8){var le=128|63&J;return un((192|(7&N)<<3|(192&J)>>6).toString(16)+le.toString(16))}le=128|(15&N)<<2|(192&J)>>6;var we=128|63&J;return un((224|(240&N)>>4).toString(16)+le.toString(16)+we.toString(16))}).join("")}function Ct(T){for(var C=encodeURIComponent(T),R="",N=0;N<C.length;N++)C[N]=="%"?(R+=C.substr(N,3),N+=2):R=R+"%"+Ot(C[N]);return R}function Dt(T){return!(T.length%2!=0||!T.match(/^[0-9a-f]+$/)&&!T.match(/^[0-9A-F]+$/))}function Gt(T){return T.length%2==1?"0"+T:T.substr(0,1)>"7"?"00"+T:T}ke.getLblen=function(T,C){if(T.substr(C+2,1)!="8")return 1;var R=parseInt(T.substr(C+3,1));return R==0?-1:0<R&&R<10?R+1:-2},ke.getL=function(T,C){var R=ke.getLblen(T,C);return R<1?"":T.substr(C+2,2*R)},ke.getVblen=function(T,C){var R;return(R=ke.getL(T,C))==""?-1:(R.substr(0,1)==="8"?new U(R.substr(2),16):new U(R,16)).intValue()},ke.getVidx=function(T,C){var R=ke.getLblen(T,C);return R<0?R:C+2*(R+1)},ke.getV=function(T,C){var R=ke.getVidx(T,C),N=ke.getVblen(T,C);return T.substr(R,2*N)},ke.getTLV=function(T,C){return T.substr(C,2)+ke.getL(T,C)+ke.getV(T,C)},ke.getTLVblen=function(T,C){return 2+2*ke.getLblen(T,C)+2*ke.getVblen(T,C)},ke.getNextSiblingIdx=function(T,C){return ke.getVidx(T,C)+2*ke.getVblen(T,C)},ke.getChildIdx=function(T,C){var R,N,J,le=ke,we=[];R=le.getVidx(T,C),N=2*le.getVblen(T,C),T.substr(C,2)=="03"&&(R+=2,N-=2),J=0;for(var Ie=R;J<=N;){var xe=le.getTLVblen(T,Ie);if((J+=xe)<=N&&we.push(Ie),Ie+=xe,J>=N)break}return we},ke.getNthChildIdx=function(T,C,R){return ke.getChildIdx(T,C)[R]},ke.getIdxbyList=function(T,C,R,N){var J,le,we=ke;return R.length==0?N!==void 0&&T.substr(C,2)!==N?-1:C:(J=R.shift())>=(le=we.getChildIdx(T,C)).length?-1:we.getIdxbyList(T,le[J],R,N)},ke.getIdxbyListEx=function(T,C,R,N){var J,le,we=ke;if(R.length==0)return N!==void 0&&T.substr(C,2)!==N?-1:C;J=R.shift(),le=we.getChildIdx(T,C);for(var Ie=0,xe=0;xe<le.length;xe++){var Oe=T.substr(le[xe],2);if(typeof J=="number"&&!we.isContextTag(Oe)&&Ie==J||typeof J=="string"&&we.isContextTag(Oe,J))return we.getIdxbyListEx(T,le[xe],R,N);we.isContextTag(Oe)||Ie++}return-1},ke.getTLVbyList=function(T,C,R,N){var J=ke,le=J.getIdxbyList(T,C,R,N);return le==-1||le>=T.length?null:J.getTLV(T,le)},ke.getTLVbyListEx=function(T,C,R,N){var J=ke,le=J.getIdxbyListEx(T,C,R,N);return le==-1?null:J.getTLV(T,le)},ke.getVbyList=function(T,C,R,N,J){var le,we,Ie=ke;return(le=Ie.getIdxbyList(T,C,R,N))==-1||le>=T.length?null:(we=Ie.getV(T,le),J===!0&&(we=we.substr(2)),we)},ke.getVbyListEx=function(T,C,R,N,J){var le,we,Ie=ke;return(le=Ie.getIdxbyListEx(T,C,R,N))==-1?null:(we=Ie.getV(T,le),T.substr(le,2)=="03"&&J!==!1&&(we=we.substr(2)),we)},ke.getInt=function(T,C,R){R==null&&(R=-1);try{var N=T.substr(C,2);if(N!="02"&&N!="03")return R;var J=ke.getV(T,C);return N=="02"?parseInt(J,16):function(we){try{var Ie=we.substr(0,2);if(Ie=="00")return parseInt(we.substr(2),16);var xe=parseInt(Ie,16),Oe=we.substr(2),Me=parseInt(Oe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(J)}catch{return R}},ke.getOID=function(T,C,R){R==null&&(R=null);try{return T.substr(C,2)!="06"?R:function(J){if(!Dt(J))return null;try{var le=[],we=J.substr(0,2),Ie=parseInt(we,16);le[0]=new String(Math.floor(Ie/40)),le[1]=new String(Ie%40);for(var xe=J.substr(2),Oe=[],Me=0;Me<xe.length/2;Me++)Oe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Oe.length;Me++)128&Oe[Me]?ze+=Xt((127&Oe[Me]).toString(2),7):(ze+=Xt((127&Oe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Xe=le.join(".");return $e.length>0&&(Xe=Xe+"."+$e.join(".")),Xe}catch{return null}}(ke.getV(T,C))}catch{return R}},ke.getOIDName=function(T,C,R){R==null&&(R=null);try{var N=ke.getOID(T,C,R);if(N==R)return R;var J=G.asn1.x509.OID.oid2name(N);return J==""?N:J}catch{return R}},ke.getString=function(T,C,R){R==null&&(R=null);try{return ln(ke.getV(T,C))}catch{return R}},ke.hextooidstr=function(T){var C=function(ze,Xe){return ze.length>=Xe?ze:new Array(Xe-ze.length+1).join("0")+ze},R=[],N=T.substr(0,2),J=parseInt(N,16);R[0]=new String(Math.floor(J/40)),R[1]=new String(J%40);for(var le=T.substr(2),we=[],Ie=0;Ie<le.length/2;Ie++)we.push(parseInt(le.substr(2*Ie,2),16));var xe=[],Oe="";for(Ie=0;Ie<we.length;Ie++)128&we[Ie]?Oe+=C((127&we[Ie]).toString(2),7):(Oe+=C((127&we[Ie]).toString(2),7),xe.push(new String(parseInt(Oe,2))),Oe="");var Me=R.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(T,C,R,N){var J=ke,le=J.getV,we=J.dump,Ie=J.getChildIdx,xe=T;T instanceof G.asn1.ASN1Object&&(xe=T.getEncodedHex());var Oe=function(Tt,gn){return Tt.length<=2*gn?Tt:Tt.substr(0,gn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-gn,gn)};C===void 0&&(C={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var Me,$e=C.ommit_long_octet;if((Me=xe.substr(R,2))=="01")return(ze=le(xe,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Oe(ze=le(xe,R),$e)+`
`;if(Me=="03"){var ze=le(xe,R);if(J.isASN1HEX(ze.substr(2))){var Xe=N+`BITSTRING, encapsulates
`;return Xe+=we(ze.substr(2),C,0,N+"  ")}return N+"BITSTRING "+Oe(ze,$e)+`
`}if(Me=="04")return ze=le(xe,R),J.isASN1HEX(ze)?(Xe=N+`OCTETSTRING, encapsulates
`,Xe+=we(ze,C,0,N+"  ")):N+"OCTETSTRING "+Oe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var ot=le(xe,R),dt=G.asn1.ASN1Util.oidHexToInt(ot),ut=G.asn1.x509.OID.oid2name(dt),be=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(le(xe,R))+`
`;if(Me=="0c")return N+"UTF8String '"+un(le(xe,R))+`'
`;if(Me=="13")return N+"PrintableString '"+un(le(xe,R))+`'
`;if(Me=="14")return N+"TeletexString '"+un(le(xe,R))+`'
`;if(Me=="16")return N+"IA5String '"+un(le(xe,R))+`'
`;if(Me=="17")return N+"UTCTime "+un(le(xe,R))+`
`;if(Me=="18")return N+"GeneralizedTime "+un(le(xe,R))+`
`;if(Me=="1a")return N+"VisualString '"+un(le(xe,R))+`'
`;if(Me=="1e")return N+"BMPString '"+it(le(xe,R))+`'
`;if(Me=="30"){if(xe.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Xe=N+`SEQUENCE
`;var De=C;if(((lt=Ie(xe,R)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=J.oidname(le(xe,lt[0]));var Ue=JSON.parse(JSON.stringify(C));Ue.x509ExtName=ut,De=Ue}for(var Ke=0;Ke<lt.length;Ke++)Xe+=we(xe,De,lt[Ke],N+"  ");return Xe}if(Me=="31"){Xe=N+`SET
`;var lt=Ie(xe,R);for(Ke=0;Ke<lt.length;Ke++)Xe+=we(xe,C,lt[Ke],N+"  ");return Xe}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Xe=N+"["+mt+`]
`,lt=Ie(xe,R),Ke=0;Ke<lt.length;Ke++)Xe+=we(xe,C,lt[Ke],N+"  ");return Xe}if(ze=le(xe,R),ke.isASN1HEX(ze)){var Xe=N+"["+mt+`]
`;return Xe+=we(ze,C,0,N+"  ")}return(ze.substr(0,8)=="68747470"||C.x509ExtName==="subjectAltName"&&mt==2)&&(ze=un(ze)),Xe=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+le(xe,R)+`
`},ke.isContextTag=function(T,C){var R,N;T=T.toLowerCase();try{R=parseInt(T,16)}catch{return-1}if(C===void 0)return(192&R)==128;try{return C.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(C.substr(1,C.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},ke.isASN1HEX=function(T){var C=ke;if(T.length%2==1)return!1;var R=C.getVblen(T,0),N=T.substr(0,2),J=C.getL(T,0);return T.length-N.length-J.length==2*R},ke.checkStrictDER=function(T,C,R,N,J){var le=ke;if(R===void 0){if(typeof T!="string")throw new Error("not hex string");if(T=T.toLowerCase(),!G.lang.String.isHex(T))throw new Error("not hex string");R=T.length,J=(N=T.length/2)<128?1:Math.ceil(N.toString(16))+1}if(le.getL(T,C).length>2*J)throw new Error("L of TLV too long: idx="+C);var we=le.getVblen(T,C);if(we>N)throw new Error("value of L too long than hex: idx="+C);var Ie=le.getTLV(T,C),xe=Ie.length-2-le.getL(T,C).length;if(xe!==2*we)throw new Error("V string length and L's value not the same:"+xe+"/"+2*we);if(C===0&&T.length!=Ie.length)throw new Error("total length and TLV length unmatch:"+T.length+"!="+Ie.length);var Oe=T.substr(C,2);if(Oe==="02"){var Me=le.getVidx(T,C);if(T.substr(Me,2)=="00"&&T.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Oe,16)){for(var $e=le.getVblen(T,C),ze=0,Xe=le.getChildIdx(T,C),ot=0;ot<Xe.length;ot++)ze+=le.getTLV(T,Xe[ot]).length,le.checkStrictDER(T,Xe[ot],R,N,J);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(T){var C=G.asn1;G.lang.String.isHex(T)&&(T=C.ASN1Util.oidHexToInt(T));var R=C.x509.OID.oid2name(T);return R===""&&(R=T),R},G!==void 0&&G||(r.KJUR=G={}),G.lang!==void 0&&G.lang||(G.lang={}),G.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(C){return zt(a.from(C,"utf8").toString("base64"))},r.b64utoutf8=Je=function(C){return a.from(Ar(C),"base64").toString("utf8")}):(r.utf8tob64u=je=function(C){return dn(Jn(Ct(C)))},r.b64utoutf8=Je=function(C){return decodeURIComponent(We(hn(C)))}),G.lang.String.isInteger=function(T){return!!T.match(/^[0-9]+$/)||!!T.match(/^-[0-9]+$/)},G.lang.String.isHex=function(T){return Dt(T)},G.lang.String.isBase64=function(T){return!(!(T=T.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||T.length%4!=0)},G.lang.String.isBase64URL=function(T){return!T.match(/[+/=]/)&&(T=Ar(T),G.lang.String.isBase64(T))},G.lang.String.isIntegerArray=function(T){return!!(T=T.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},G.lang.String.isPrintable=function(T){return T.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},G.lang.String.isIA5=function(T){return T.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},G.lang.String.isMail=function(T){return T.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Xt=function(C,R,N){return N==null&&(N="0"),C.length>=R?C:new Array(R-C.length+1).join(N)+C};function Ht(T,C){var R=function(){};R.prototype=C.prototype,T.prototype=new R,T.prototype.constructor=T,T.superclass=C.prototype,C.prototype.constructor==Object.prototype.constructor&&(C.prototype.constructor=C)}G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:P.algo.MD5,sha1:P.algo.SHA1,sha224:P.algo.SHA224,sha256:P.algo.SHA256,sha384:P.algo.SHA384,sha512:P.algo.SHA512,ripemd160:P.algo.RIPEMD160},this.getDigestInfoHex=function(T,C){if(this.DIGESTINFOHEAD[C]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+T},this.getPaddedDigestInfoHex=function(T,C,R){var N=this.getDigestInfoHex(T,C),J=R/4;if(N.length+22>J)throw"key is too short for SigAlg: keylen="+R+","+C;for(var le="0001",we="00"+N,Ie="",xe=J-le.length-we.length,Oe=0;Oe<xe;Oe+=2)Ie+="ff";return le+Ie+we},this.hashString=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestString(T)},this.hashHex=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestHex(T)},this.sha1=function(T){return this.hashString(T,"sha1")},this.sha256=function(T){return this.hashString(T,"sha256")},this.sha256Hex=function(T){return this.hashHex(T,"sha256")},this.sha512=function(T){return this.hashString(T,"sha512")},this.sha512Hex=function(T){return this.hashHex(T,"sha512")},this.isKey=function(T){return T instanceof Se||T instanceof G.crypto.DSA||T instanceof G.crypto.ECDSA}},G.crypto.Util.md5=function(T){return new G.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(T)},G.crypto.Util.ripemd160=function(T){return new G.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(T)},G.crypto.Util.SECURERANDOMGEN=new nt,G.crypto.Util.getRandomHexOfNbytes=function(T){var C=new Array(T);return G.crypto.Util.SECURERANDOMGEN.nextBytes(C),Nt(C)},G.crypto.Util.getRandomBigIntegerOfNbytes=function(T){return new U(G.crypto.Util.getRandomHexOfNbytes(T),16)},G.crypto.Util.getRandomHexOfNbits=function(T){var C=T%8,R=new Array((T-C)/8+1);return G.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<C&255^255)&R[0],Nt(R)},G.crypto.Util.getRandomBigIntegerOfNbits=function(T){return new U(G.crypto.Util.getRandomHexOfNbits(T),16)},G.crypto.Util.getRandomBigIntegerZeroToMax=function(T){for(var C=T.bitLength();;){var R=G.crypto.Util.getRandomBigIntegerOfNbits(C);if(T.compareTo(R)!=-1)return R}},G.crypto.Util.getRandomBigIntegerMinToMax=function(T,C){var R=T.compareTo(C);if(R==1)throw"biMin is greater than biMax";if(R==0)return T;var N=C.subtract(T);return G.crypto.Util.getRandomBigIntegerZeroToMax(N).add(T)},G.crypto.MessageDigest=function(T){this.setAlgAndProvider=function(C,R){if((C=G.crypto.MessageDigest.getCanonicalAlgName(C))!==null&&R===void 0&&(R=G.crypto.Util.DEFAULTPROVIDER[C]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)!=-1&&R=="cryptojs"){try{this.md=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var J=P.enc.Hex.parse(N);this.md.update(J)},this.digest=function(){return this.md.finalize().toString(P.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(C)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var J=sjcl.codec.hex.toBits(N);this.md.update(J)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},T!==void 0&&T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},G.crypto.MessageDigest.getCanonicalAlgName=function(T){return typeof T=="string"&&(T=(T=T.toLowerCase()).replace(/-/,"")),T},G.crypto.MessageDigest.getHashLength=function(T){var C=G.crypto.MessageDigest,R=C.getCanonicalAlgName(T);if(C.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+T;return C.HASHLENGTH[R]},G.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},G.crypto.Mac=function(T){this.setAlgAndProvider=function(C,R){if((C=C.toLowerCase())==null&&(C="hmacsha1"),(C=C.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+C;R===void 0&&(R=G.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+R;var N=C.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var J=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=P.algo.HMAC.create(J,this.pass)}catch(le){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+le}this.updateString=function(le){this.mac.update(le)},this.updateHex=function(le){var we=P.enc.Hex.parse(le);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(P.enc.Hex)},this.doFinalString=function(le){return this.updateString(le),this.doFinal()},this.doFinalHex=function(le){return this.updateHex(le),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if(typeof C=="string"){var R=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(R=In(C)),void(this.pass=P.enc.Hex.parse(R))}if((C===void 0?"undefined":b(C))!="object")throw"KJUR.crypto.Mac unsupported password type: "+C;if(R=null,C.hex!==void 0){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;R=C.hex}if(C.utf8!==void 0&&(R=gr(C.utf8)),C.rstr!==void 0&&(R=In(C.rstr)),C.b64!==void 0&&(R=Q(C.b64)),C.b64u!==void 0&&(R=hn(C.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=P.enc.Hex.parse(R)},T!==void 0&&(T.pass!==void 0&&this.setPassword(T.pass),T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},G.crypto.Signature=function(T){var C=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var J="",le=N/4-R.length,we=0;we<le;we++)J+="0";return J+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new G.crypto.MessageDigest({alg:this.mdAlgName})}catch(J){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+J)}this.init=function(J,le){var we=null;try{we=le===void 0?jt.getKey(J):jt.getKey(J,le)}catch(Ie){throw"init failed:"+Ie}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(J){this.md.updateString(J)},this.updateHex=function(J){this.md.updateHex(J)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.prvKey=new G.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof G.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof G.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(J){return this.updateString(J),this.sign()},this.signHex=function(J){return this.updateHex(J),this.sign()},this.verify=function(J){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.pubKey=new G.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,J,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,J);if(G.crypto.ECDSA!==void 0&&this.pubKey instanceof G.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,J);if(G.crypto.DSA!==void 0&&this.pubKey instanceof G.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,J);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=T,T!==void 0&&(T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0?this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=T.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),T.psssaltlen!==void 0&&(this.pssSaltLen=T.psssaltlen),T.prvkeypem!==void 0)){if(T.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{C=jt.getKey(T.prvkeypem),this.init(C)}catch(R){throw"fatal error to load pem private key: "+R}}},G.crypto.Cipher=function(T){},G.crypto.Cipher.encrypt=function(T,C,R){if(C instanceof Se&&C.isPublic){var N=G.crypto.Cipher.getAlgByKeyAndName(C,R);if(N==="RSA")return C.encrypt(T);if(N==="RSAOAEP")return C.encryptOAEP(T,"sha1");var J=N.match(/^RSAOAEP(\d+)$/);if(J!==null)return C.encryptOAEP(T,"sha"+J[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},G.crypto.Cipher.decrypt=function(T,C,R){if(C instanceof Se&&C.isPrivate){var N=G.crypto.Cipher.getAlgByKeyAndName(C,R);if(N==="RSA")return C.decrypt(T);if(N==="RSAOAEP")return C.decryptOAEP(T,"sha1");var J=N.match(/^RSAOAEP(\d+)$/);if(J!==null)return C.decryptOAEP(T,"sha"+J[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},G.crypto.Cipher.getAlgByKeyAndName=function(T,C){if(T instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C)!=-1)return C;if(C==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},G.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECDSA=function(T){var C=Error,R=U,N=ne,J=G.crypto.ECDSA,le=G.crypto.ECParameterDB,we=J.getName,Ie=ke,xe=Ie.getVbyListEx,Oe=Ie.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),Me).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=le.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Xe={};return Xe.x=$e.substr(2,ze),Xe.y=$e.substr(2+ze),Xe},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Xe=this.ecparams.G.multiply(ze),ot=Xe.getX().toBigInteger(),dt=Xe.getY().toBigInteger(),ut=this.ecparams.keylen/4,be=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+ot.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(be),this.setPublicKeyHex(De),{ecprvhex:be,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Xe=new R(ze,16),ot=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(R.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Xe.multiply(be))).mod(ot);return J.biRSSigToASN1Sig(be,De)},this.sign=function($e,ze){var Xe=ze,ot=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(U.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Xe.multiply(be))).mod(ot);return this.serializeSig(be,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Xe){try{var ot,dt,ut=J.parseSigHex(ze);ot=ut.r,dt=ut.s;var be=N.decodeFromHex(this.ecparams.curve,Xe),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,ot,dt,be)}catch{return!1}},this.verify=function($e,ze,Xe){var ot,dt,ut;if(Bitcoin.Util.isArray(ze)){var be=this.parseSig(ze);ot=be.r,dt=be.s}else{if((ze===void 0?"undefined":b(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";ot=ze.r,dt=ze.s}if(Xe instanceof ne)ut=Xe;else{if(!Bitcoin.Util.isArray(Xe))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Xe)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,ot,dt,ut)},this.verifyRaw=function($e,ze,Xe,ot){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(R.ONE)<0||ze.compareTo(dt)>=0||Xe.compareTo(R.ONE)<0||Xe.compareTo(dt)>=0)return!1;var be=Xe.modInverse(dt),De=$e.multiply(be).mod(dt),Ue=ze.multiply(be).mod(dt);return ut.multiply(De).add(ot.multiply(Ue)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Xe=$e.toByteArraySigned(),ot=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Xe.length),(dt=dt.concat(Xe)).push(2),dt.push(ot.length),(dt=dt.concat(ot)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Xe=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ot=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:R.fromByteArrayUnsigned(Xe),s:R.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Xe=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Xe),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Xe),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Oe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Xe,ot;try{ze=xe($e,0,["[0]",0],"06"),Xe=xe($e,0,[1],"04");try{ot=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var ze,Xe,ot;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Xe=xe($e,0,[2,0,1],"04");try{ot=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Xe),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var ze,Xe;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Xe=xe($e,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=we(ze),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Xe)},this.readCertPubKeyHex=function($e,ze){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var Xe,ot;try{Xe=xe($e,0,[0,5,0,1],"06"),ot=xe($e,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=we(Xe),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},T!==void 0&&T.curve!==void 0&&(this.curveName=T.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),T!==void 0&&(T.prv!==void 0&&this.setPrivateKeyHex(T.prv),T.pub!==void 0&&this.setPublicKeyHex(T.pub))},G.crypto.ECDSA.parseSigHex=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T);return{r:new U(C.r,16),s:new U(C.s,16)}},G.crypto.ECDSA.parseSigHexInHexRS=function(T){var C=ke,R=C.getChildIdx,N=C.getV;if(C.checkStrictDER(T,0),T.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var J=R(T,0);if(J.length!=2)throw new Error("signature shall have two elements");var le=J[0],we=J[1];if(T.substr(le,2)!="02")throw new Error("1st item not ASN.1 integer");if(T.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(T,le),s:N(T,we)}},G.crypto.ECDSA.asn1SigToConcatSig=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T),R=C.r,N=C.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},G.crypto.ECDSA.concatSigToASN1Sig=function(T){if(T.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=T.substr(0,T.length/2),R=T.substr(T.length/2);return G.crypto.ECDSA.hexRSSigToASN1Sig(C,R)},G.crypto.ECDSA.hexRSSigToASN1Sig=function(T,C){var R=new U(T,16),N=new U(C,16);return G.crypto.ECDSA.biRSSigToASN1Sig(R,N)},G.crypto.ECDSA.biRSSigToASN1Sig=function(T,C){var R=G.asn1,N=new R.DERInteger({bigint:T}),J=new R.DERInteger({bigint:C});return new R.DERSequence({array:[N,J]}).getEncodedHex()},G.crypto.ECDSA.getName=function(T){return T==="2b8104001f"?"secp192k1":T==="2a8648ce3d030107"?"secp256r1":T==="2b8104000a"?"secp256k1":T==="2b81040021"?"secp224r1":T==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(T)!==-1?"secp256r1":"|secp256k1|".indexOf(T)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(T)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(T)!==-1?"secp384r1":null},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECParameterDB=new function(){var T={},C={};function R(N){return new U(N,16)}this.getByName=function(N){var J=N;if(C[J]!==void 0&&(J=C[N]),T[J]!==void 0)return T[J];throw"unregistered EC curve name: "+J},this.regist=function(N,J,le,we,Ie,xe,Oe,Me,$e,ze,Xe,ot){T[N]={};var dt=R(le),ut=R(we),be=R(Ie),De=R(xe),Ue=R(Oe),Ke=new z(dt,ut,be),lt=Ke.decodePointHex("04"+Me+$e);T[N].name=N,T[N].keylen=J,T[N].curve=Ke,T[N].G=lt,T[N].n=De,T[N].h=Ue,T[N].oid=Xe,T[N].info=ot;for(var mt=0;mt<ze.length;mt++)C[ze[mt]]=N}},G.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),G.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),G.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),G.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),G.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),G.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),G.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),G.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var jt=function(){var T=function(Oe,Me,$e){return C(P.AES,Oe,Me,$e)},C=function(Oe,Me,$e,ze){var Xe=P.enc.Hex.parse(Me),ot=P.enc.Hex.parse($e),dt=P.enc.Hex.parse(ze),ut={};ut.key=ot,ut.iv=dt,ut.ciphertext=Xe;var be=Oe.decrypt(ut,ot,{iv:dt});return P.enc.Hex.stringify(be)},R=function(Oe,Me,$e){return N(P.AES,Oe,Me,$e)},N=function(Oe,Me,$e,ze){var Xe=P.enc.Hex.parse(Me),ot=P.enc.Hex.parse($e),dt=P.enc.Hex.parse(ze),ut=Oe.encrypt(Xe,ot,{iv:dt}),be=P.enc.Hex.parse(ut.toString());return P.enc.Base64.stringify(be)},J={"AES-256-CBC":{proc:T,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:T,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:T,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Oe,Me,$e){return C(P.TripleDES,Oe,Me,$e)},eproc:function(Oe,Me,$e){return N(P.TripleDES,Oe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Oe,Me,$e){return C(P.DES,Oe,Me,$e)},eproc:function(Oe,Me,$e){return N(P.DES,Oe,Me,$e)},keylen:8,ivlen:8}},le=function(Oe){var Me={},$e=Oe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Oe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Xe=-1,ot=0;Oe.indexOf(`\r
\r
`)!=-1&&(Xe=Oe.indexOf(`\r
\r
`),ot=2),Oe.indexOf(`

`)!=-1&&(Xe=Oe.indexOf(`

`),ot=1);var dt=Oe.indexOf("-----END");if(Xe!=-1&&dt!=-1){var ut=Oe.substring(Xe+2*ot,dt-ot);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},we=function(Oe,Me,$e){for(var ze=$e.substring(0,16),Xe=P.enc.Hex.parse(ze),ot=P.enc.Utf8.parse(Me),dt=J[Oe].keylen+J[Oe].ivlen,ut="",be=null;;){var De=P.algo.MD5.create();if(be!=null&&De.update(be),De.update(ot),De.update(Xe),be=De.finalize(),(ut+=P.enc.Hex.stringify(be)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*J[Oe].keylen),Ue.ivhex=ut.substr(2*J[Oe].keylen,2*J[Oe].ivlen),Ue},Ie=function(Oe,Me,$e,ze){var Xe=P.enc.Base64.parse(Oe),ot=P.enc.Hex.stringify(Xe);return(0,J[Me].proc)(ot,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Oe){return le(Oe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Oe,Me,$e){return we(Oe,Me,$e)},decryptKeyB64:function(Oe,Me,$e,ze){return Ie(Oe,Me,$e,ze)},getDecryptedKeyHex:function(Oe,Me){var $e=le(Oe),ze=$e.cipher,Xe=$e.ivsalt,ot=$e.data,dt=we(ze,Me,Xe).keyhex;return Ie(ot,ze,dt,Xe)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Oe,Me,$e,ze,Xe){var ot="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),J[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Xe!==void 0&&Xe!=null||(Xe=function(be){var De=P.lib.WordArray.random(be);return P.enc.Hex.stringify(De)}(J[ze].ivlen).toUpperCase());var dt=function(be,De,Ue,Ke){return(0,J[De].eproc)(be,Ue,Ke)}(Me,ze,we(ze,$e,Xe).keyhex,Xe);return ot="-----BEGIN "+Oe+` PRIVATE KEY-----\r
`,ot+=`Proc-Type: 4,ENCRYPTED\r
`,ot+="DEK-Info: "+ze+","+Xe+`\r
`,ot+=`\r
`,ot+=dt.replace(/(.{64})/g,`$1\r
`),ot+=`\r
-----END `+Oe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={},ot=$e(Oe,0);if(ot.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ot.length);Xe.ciphertext=ze(Oe,ot[1]);var dt=$e(Oe,ot[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Oe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Oe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var be=$e(Oe,ut[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(ze(Oe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Xe.encryptionSchemeAlg="TripleDES",Xe.encryptionSchemeIV=ze(Oe,be[1]);var De=$e(Oe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Oe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Oe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Xe.pbkdf2Salt=ze(Oe,Ue[0]);var Ke=ze(Oe,Ue[1]);try{Xe.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Xe},getPBKDF2KeyHexFromParam:function(Oe,Me){var $e=P.enc.Hex.parse(Oe.pbkdf2Salt),ze=Oe.pbkdf2Iter,Xe=P.PBKDF2(Me,$e,{keySize:6,iterations:ze});return P.enc.Hex.stringify(Xe)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Oe,Me){var $e=Et(Oe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Xe=jt.getPBKDF2KeyHexFromParam(ze,Me),ot={};ot.ciphertext=P.enc.Hex.parse(ze.ciphertext);var dt=P.enc.Hex.parse(Xe),ut=P.enc.Hex.parse(ze.encryptionSchemeIV),be=P.TripleDES.decrypt(ot,dt,{iv:ut});return P.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Oe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Oe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={algparam:null};if(Oe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ot=$e(Oe,0);if(ot.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Oe.substr(ot[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Oe,ot[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Oe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Xe.algoid=ze(Oe,dt[0]),Oe.substr(dt[1],2)=="06"&&(Xe.algparam=ze(Oe,dt[1])),Oe.substr(ot[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Xe.keyidx=Me.getVidx(Oe,ot[2]),Xe},getKeyFromPlainPrivatePKCS8PEM:function(Oe){var Me=Et(Oe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Oe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Oe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new G.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new G.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Oe),Me},_getKeyFromPublicPKCS8Hex:function(Oe){var Me,$e=ke.getVbyList(Oe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new G.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new G.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Oe),Me},parsePublicRawRSAKeyHex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={};if(Oe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ot=$e(Oe,0);if(ot.length!=2)throw new Error("malformed RSA key(code:002)");if(Oe.substr(ot[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Xe.n=ze(Oe,ot[0]),Oe.substr(ot[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Xe.e=ze(Oe,ot[1]),Xe},parsePublicPKCS8Hex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Xe={algparam:null},ot=$e(Oe,0);if(ot.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ot.length);var dt=ot[0];if(Oe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Oe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Oe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Xe.algoid=ze(Oe,ut[0]),Oe.substr(ut[1],2)=="06"?Xe.algparam=ze(Oe,ut[1]):Oe.substr(ut[1],2)=="30"&&(Xe.algparam={},Xe.algparam.p=Me.getVbyList(Oe,ut[1],[0],"02"),Xe.algparam.q=Me.getVbyList(Oe,ut[1],[1],"02"),Xe.algparam.g=Me.getVbyList(Oe,ut[1],[2],"02")),Oe.substr(ot[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Xe.key=ze(Oe,ot[1]).substr(2),Xe}}}();jt.getKey=function(T,C,R){var N=(ut=ke).getChildIdx,J=(ut.getV,ut.getVbyList),le=G.crypto,we=le.ECDSA,Ie=le.DSA,xe=Se,Oe=Et,Me=jt;if(xe!==void 0&&T instanceof xe||we!==void 0&&T instanceof we||Ie!==void 0&&T instanceof Ie)return T;if(T.curve!==void 0&&T.xy!==void 0&&T.d===void 0)return new we({pub:T.xy,curve:T.curve});if(T.curve!==void 0&&T.d!==void 0)return new we({prv:T.d,curve:T.curve});if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new xe).setPublic(T.n,T.e),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.co!==void 0&&T.qi===void 0)return(Vt=new xe).setPrivateEx(T.n,T.e,T.d,T.p,T.q,T.dp,T.dq,T.co),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p===void 0)return(Vt=new xe).setPrivate(T.n,T.e,T.d),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x===void 0)return(Vt=new Ie).setPublic(T.p,T.q,T.g,T.y),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x!==void 0)return(Vt=new Ie).setPrivate(T.p,T.q,T.g,T.y,T.x),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new xe).setPublic(hn(T.n),hn(T.e)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.qi!==void 0)return(Vt=new xe).setPrivateEx(hn(T.n),hn(T.e),hn(T.d),hn(T.p),hn(T.q),hn(T.dp),hn(T.dq),hn(T.qi)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0)return(Vt=new xe).setPrivate(hn(T.n),hn(T.e),hn(T.d)),Vt;if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d===void 0){var $e=(Ft=new we({curve:T.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(T.x)).slice(-$e)+("0000000000"+hn(T.y)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft}if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d!==void 0){$e=(Ft=new we({curve:T.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(T.x)).slice(-$e)+("0000000000"+hn(T.y)).slice(-$e);var Xe=("0000000000"+hn(T.d)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft.setPrivateKeyHex(Xe),Ft}if(R==="pkcs5prv"){var ot,dt=T,ut=ke;if((ot=N(dt,0)).length===9)(Vt=new xe).readPKCS5PrvKeyHex(dt);else if(ot.length===6)(Vt=new Ie).readPKCS5PrvKeyHex(dt);else{if(!(ot.length>2&&dt.substr(ot[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Vt=new we).readPKCS5PrvKeyHex(dt)}return Vt}if(R==="pkcs8prv")return Vt=Me.getKeyFromPlainPrivatePKCS8Hex(T);if(R==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(T);if(R==="x509pub")return Zt.getPublicKeyFromCertHex(T);if(T.indexOf("-END CERTIFICATE-",0)!=-1||T.indexOf("-END X509 CERTIFICATE-",0)!=-1||T.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Zt.getPublicKeyFromCertPEM(T);if(T.indexOf("-END PUBLIC KEY-")!=-1){var be=Et(T,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(be)}if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var De=Oe(T,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var Ue=J(Un=Oe(T,"DSA PRIVATE KEY"),0,[1],"02"),Ke=J(Un,0,[2],"02"),lt=J(Un,0,[3],"02"),mt=J(Un,0,[4],"02"),$t=J(Un,0,[5],"02");return(Vt=new Ie).setPrivate(new U(Ue,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1)return De=Oe(T,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(T.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(T);if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Tt=Me.getDecryptedKeyHex(T,C),gn=new Se;return gn.readPKCS5PrvKeyHex(Tt),gn}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Ft,Vt=J(Un=Me.getDecryptedKeyHex(T,C),0,[1],"04"),zn=J(Un,0,[2,0],"06"),Nn=J(Un,0,[3,0],"03").substr(2);if(G.crypto.OID.oidhex2name[zn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+zn);return(Ft=new we({curve:G.crypto.OID.oidhex2name[zn]})).setPublicKeyHex(Nn),Ft.setPrivateKeyHex(Vt),Ft.isPublic=!1,Ft}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Un;return Ue=J(Un=Me.getDecryptedKeyHex(T,C),0,[1],"02"),Ke=J(Un,0,[2],"02"),lt=J(Un,0,[3],"02"),mt=J(Un,0,[4],"02"),$t=J(Un,0,[5],"02"),(Vt=new Ie).setPrivate(new U(Ue,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(T.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(T,C);throw new Error("not supported argument")},jt.generateKeypair=function(T,C){if(T=="RSA"){var R=C;(we=new Se).generate(R,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new Se,J=we.n.toString(16),le=we.e.toString(16);return N.setPublic(J,le),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}if(T=="EC"){var we,Ie,xe=C,Oe=new G.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(we=new G.crypto.ECDSA({curve:xe})).setPublicKeyHex(Oe.ecpubhex),we.setPrivateKeyHex(Oe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new G.crypto.ECDSA({curve:xe})).setPublicKeyHex(Oe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}throw new Error("unknown algorithm: "+T)},jt.getPEM=function(T,C,R,N,J,le){var we=G,Ie=we.asn1,xe=Ie.DERObjectIdentifier,Oe=Ie.DERInteger,Me=Ie.ASN1Util.newObject,$e=Ie.x509.SubjectPublicKeyInfo,ze=we.crypto,Xe=ze.DSA,ot=ze.ECDSA,dt=Se;function ut(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.n}},{int:Ft.e},{int:{bigint:Ft.d}},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.dmp1}},{int:{bigint:Ft.dmq1}},{int:{bigint:Ft.coeff}}]})}function be(Ft){return Me({seq:[{int:1},{octstr:{hex:Ft.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ft.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ft.pubKeyHex}}]}]})}function De(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.g}},{int:{bigint:Ft.y}},{int:{bigint:Ft.x}}]})}if((dt!==void 0&&T instanceof dt||Xe!==void 0&&T instanceof Xe||ot!==void 0&&T instanceof ot)&&T.isPublic==1&&(C===void 0||C=="PKCS8PUB"))return bt(mt=new $e(T).getEncodedHex(),"PUBLIC KEY");if(C=="PKCS1PRV"&&dt!==void 0&&T instanceof dt&&(R===void 0||R==null)&&T.isPrivate==1)return bt(mt=ut(T).getEncodedHex(),"RSA PRIVATE KEY");if(C=="PKCS1PRV"&&ot!==void 0&&T instanceof ot&&(R===void 0||R==null)&&T.isPrivate==1){var Ue=new xe({name:T.curveName}).getEncodedHex(),Ke=be(T).getEncodedHex(),lt="";return lt+=bt(Ue,"EC PARAMETERS"),lt+=bt(Ke,"EC PRIVATE KEY")}if(C=="PKCS1PRV"&&Xe!==void 0&&T instanceof Xe&&(R===void 0||R==null)&&T.isPrivate==1)return bt(mt=De(T).getEncodedHex(),"DSA PRIVATE KEY");if(C=="PKCS5PRV"&&dt!==void 0&&T instanceof dt&&R!==void 0&&R!=null&&T.isPrivate==1){var mt=ut(T).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,le)}if(C=="PKCS5PRV"&&ot!==void 0&&T instanceof ot&&R!==void 0&&R!=null&&T.isPrivate==1)return mt=be(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,le);if(C=="PKCS5PRV"&&Xe!==void 0&&T instanceof Xe&&R!==void 0&&R!=null&&T.isPrivate==1)return mt=De(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,le);var $t=function(Vt,zn){var Nn=Tt(Vt,zn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Nn.pbkdf2Salt}},{int:Nn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Nn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Nn.ciphertext}}]}).getEncodedHex()},Tt=function(Vt,zn){var Nn=P.lib.WordArray.random(8),Un=P.lib.WordArray.random(8),Qt=P.PBKDF2(zn,Nn,{keySize:6,iterations:100}),Gn=P.enc.Hex.parse(Vt),pn=P.TripleDES.encrypt(Gn,Qt,{iv:Un})+"",Yn={};return Yn.ciphertext=pn,Yn.pbkdf2Salt=P.enc.Hex.stringify(Nn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=P.enc.Hex.stringify(Un),Yn};if(C=="PKCS8PRV"&&dt!=null&&T instanceof dt&&T.isPrivate==1){var gn=ut(T).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY")}if(C=="PKCS8PRV"&&ot!==void 0&&T instanceof ot&&T.isPrivate==1)return gn=new Me({seq:[{int:1},{octstr:{hex:T.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+T.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:T.curveName}}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY");if(C=="PKCS8PRV"&&Xe!==void 0&&T instanceof Xe&&T.isPrivate==1)return gn=new Oe({bigint:T.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:T.p}},{int:{bigint:T.q}},{int:{bigint:T.g}}]}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},jt.getKeyFromCSRPEM=function(T){var C=Et(T,"CERTIFICATE REQUEST");return jt.getKeyFromCSRHex(C)},jt.getKeyFromCSRHex=function(T){var C=jt.parseCSRHex(T);return jt.getKey(C.p8pubkeyhex,null,"pkcs8pub")},jt.parseCSRHex=function(T){var C=ke,R=C.getChildIdx,N=C.getTLV,J={},le=T;if(le.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=R(le,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(le.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Ie=R(le,we[0]);if(Ie.length<3)throw new Error("malformed CSR(code:004)");return J.p8pubkeyhex=N(le,Ie[2]),J},jt.getKeyID=function(T){var C=jt,R=ke;typeof T=="string"&&T.indexOf("BEGIN ")!=-1&&(T=C.getKey(T));var N=Et(C.getPEM(T)),J=R.getIdxbyList(N,0,[1]),le=R.getV(N,J).substring(2);return G.crypto.Util.hashHex(le,"sha1")},jt.getJWKFromKey=function(T){var C={};if(T instanceof Se&&T.isPrivate)return C.kty="RSA",C.n=dn(T.n.toString(16)),C.e=dn(T.e.toString(16)),C.d=dn(T.d.toString(16)),C.p=dn(T.p.toString(16)),C.q=dn(T.q.toString(16)),C.dp=dn(T.dmp1.toString(16)),C.dq=dn(T.dmq1.toString(16)),C.qi=dn(T.coeff.toString(16)),C;if(T instanceof Se&&T.isPublic)return C.kty="RSA",C.n=dn(T.n.toString(16)),C.e=dn(T.e.toString(16)),C;if(T instanceof G.crypto.ECDSA&&T.isPrivate){if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=T.getPublicKeyXYHex();return C.kty="EC",C.crv=N,C.x=dn(R.x),C.y=dn(R.y),C.d=dn(T.prvKeyHex),C}if(T instanceof G.crypto.ECDSA&&T.isPublic){var N;if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=T.getPublicKeyXYHex(),C.kty="EC",C.crv=N,C.x=dn(R.x),C.y=dn(R.y),C}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(T){return ke.getChildIdx(T,0)},Se.getHexValueArrayOfChildrenFromHex=function(T){var C,R=ke.getV,N=R(T,(C=Se.getPosArrayOfChildrenFromHex(T))[0]),J=R(T,C[1]),le=R(T,C[2]),we=R(T,C[3]),Ie=R(T,C[4]),xe=R(T,C[5]),Oe=R(T,C[6]),Me=R(T,C[7]),$e=R(T,C[8]);return(C=new Array).push(N,J,le,we,Ie,xe,Oe,Me,$e),C},Se.prototype.readPrivateKeyFromPEMString=function(T){var C=Et(T),R=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(T){var C=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},Se.prototype.readPKCS8PrvKeyHex=function(T){var C,R,N,J,le,we,Ie,xe,Oe=ke,Me=Oe.getVbyListEx;if(Oe.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");try{C=Me(T,0,[2,0,1],"02"),R=Me(T,0,[2,0,2],"02"),N=Me(T,0,[2,0,3],"02"),J=Me(T,0,[2,0,4],"02"),le=Me(T,0,[2,0,5],"02"),we=Me(T,0,[2,0,6],"02"),Ie=Me(T,0,[2,0,7],"02"),xe=Me(T,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,R,N,J,le,we,Ie,xe)},Se.prototype.readPKCS5PubKeyHex=function(T){var C=ke,R=C.getV;if(C.isASN1HEX(T)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=C.getChildIdx(T,0);if(N.length!==2||T.substr(N[0],2)!=="02"||T.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var J=R(T,N[0]),le=R(T,N[1]);this.setPublic(J,le)},Se.prototype.readPKCS8PubKeyHex=function(T){var C=ke;if(C.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");if(C.getTLVbyListEx(T,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=C.getTLVbyListEx(T,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(T,C){var R,N;(R=new Zt).readCertHex(T),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function tn(T,C){for(var R="",N=C/4-T.length,J=0;J<N;J++)R+="0";return R+T}function Pn(T,C,R){for(var N="",J=0;N.length<C;)N+=ln(R(In(T+String.fromCharCode.apply(String,[(4278190080&J)>>24,(16711680&J)>>16,(65280&J)>>8,255&J])))),J+=1;return N}function Wt(T){for(var C in G.crypto.Util.DIGESTINFOHEAD){var R=G.crypto.Util.DIGESTINFOHEAD[C],N=R.length;if(T.substring(0,N)==R)return[C,T.substring(N)]}return[]}function Zt(T){var C,R=ke,N=R.getChildIdx,J=R.getV,le=R.getTLV,we=R.getVbyList,Ie=R.getVbyListEx,xe=R.getTLVbyList,Oe=R.getTLVbyListEx,Me=R.getIdxbyList,$e=R.getIdxbyListEx,ze=R.getVidx,Xe=R.getInt,ot=R.oidname,dt=R.hextooidstr,ut=Et;try{C=G.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=xe(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var De=xe(be,0,[0]),Ue=Xe(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Ie(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Oe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var De in C)if(be===C[De])return De;return ot(Ie(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return Me(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return jt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new G.crypto.Signature({alg:De});return lt.init(be),lt.updateHex(Ke),lt.verify(Ue)},this.parseExt=function(be){var De,Ue,Ke;if(be===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Ue=N(Ke,De)}else{Ke=Et(be);var lt=Me(Ke,0,[0,3,0,0],"06");if(J(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Ue=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var $t={critical:!1},Tt=0;N(Ke,Ue[mt]).length===3&&($t.critical=!0,Tt=1),$t.oid=R.hextooidstr(we(Ke,Ue[mt],[0],"06"));var gn=Me(Ke,Ue[mt],[1+Tt]);$t.vidx=ze(Ke,gn),this.aExtInfo.push($t)}},this.getExtInfo=function(be){var De=this.aExtInfo,Ue=be;if(be.match(/^[0-9.]+$/)||(Ue=G.asn1.x509.OID.name2oid(be)),Ue!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Ue)return De[Ke]}},this.getExtBasicConstraints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),be==="3000")return Ke;if(be==="30030101ff")return Ke.cA=!0,Ke;if(be.substr(0,12)==="30060101ff02"){var lt=J(be,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(be).split(","),Ke},this.getExtKeyUsageBin=function(be){if(be===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";be=le(this.hex,De.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var Ue="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(Ue=Ue.slice(-8)),be.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(be){for(var De=this.getExtKeyUsageBin(be),Ue=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Ue.push(Zt.KEYUSAGE_NAME[Ke]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=J(be,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=be.substr(lt[mt],2);if($t==="80"&&(Ke.kid={hex:J(be,lt[mt])}),$t==="a1"){var Tt=le(be,lt[mt]),gn=this.getGeneralNames(Tt);Ke.issuer=gn[0].dn}$t==="82"&&(Ke.sn={hex:J(be,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++)Ke.array.push(ot(J(be,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var De=new Array,Ue=le(this.hex,be.vidx);if(Ue==="")return De;for(var Ke=N(Ue,0),lt=0;lt<Ke.length;lt++)De.push(ot(J(Ue,Ke[lt])));return De},this.getExtSubjectAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getExtIssuerAltName=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getGeneralNames=function(be){for(var De=N(be,0),Ue=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(le(be,De[Ke]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(be){var De=be.substr(0,2),Ue=J(be,0),Ke=ln(Ue);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var be,De,Ue,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=le(this.hex,Ke.vidx),$t=N(mt,0),Tt=0;Tt<$t.length;Tt++)Ue=mt.substr($t[Tt],2),be=J(mt,$t[Tt]),Ue==="81"&&(De=un(be),lt.push(["MAIL",De])),Ue==="82"&&(De=un(be),lt.push(["DNS",De])),Ue==="84"&&(De=Zt.hex2dn(be,0),lt.push(["DN",De])),Ue==="86"&&(De=un(be),lt.push(["URI",De])),Ue==="87"&&(De=ft(be),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]);Ke.array.push(this.getDistributionPoint($t))}return Ke},this.getDistributionPoint=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=le(be,Ue[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=be.substr(Ue[Ke],2),mt=le(be,Ue[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var De=new Array,Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++)try{var lt=un(we(this.hex,Ue[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,be.vidx),Ke=0;Ke<Ue.length;Ke++){var lt=we(this.hex,Ue[Ke],[0],"06"),mt=we(this.hex,Ue[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(un(mt)),lt==="2b06010505073002"&&De.caissuer.push(un(mt))}return De},this.getExtAuthorityInfoAccess=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=Ie(be,lt[mt],[0],"06"),Tt=un(we(be,lt[mt],[1],"86"));if($t=="2b06010505073001")Ke.array.push({ocsp:Tt});else{if($t!="2b06010505073002")throw new Error("unknown method: "+$t);Ke.array.push({caissuer:Tt})}}return Ke},this.getExtCertificatePolicies=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]),Tt=this.getPolicyInformation($t);Ke.array.push(Tt)}return Ke},this.getPolicyInformation=function(be){var De={},Ue=we(be,0,[0],"06");De.policyoid=ot(Ue);var Ke=$e(be,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(be,Ke),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]),Tt=this.getPolicyQualifierInfo($t);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(be){var De={},Ue=we(be,0,[0],"06");if(Ue==="2b06010505070201"){var Ke=Ie(be,0,[1],"16");De.cps=ln(Ke)}else if(Ue==="2b06010505070202"){var lt=xe(be,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(be){for(var De={},Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=le(be,Ue[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(be){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],De.str=ln(J(be,0)),De},this.getExtCRLNumber=function(be,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),be.substr(0,2)=="02")return Ue.num={hex:J(be,0)},Ue;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),be.substr(0,2)=="0a")return Ue.code=parseInt(J(be,0),16),Ue;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ke=J(be,0);return Ue.hex=Ke,Ue},this.getExtOcspNoCheck=function(be,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(be,De){if(be===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;be=le(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(be,0);if(lt.length>1){var mt=le(be,lt[1]),$t=this.getGeneralName(mt);$t.uri!=null&&(Ke.uri=$t.uri)}if(lt.length>2){var Tt=le(be,lt[2]);Tt=="0101ff"&&(Ke.reqauth=!0),Tt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(be){for(var De=null,Ue=[],Ke=0;Ke<be.length;Ke++)for(var lt=be[Ke],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ke=0;Ke<Ue.length;Ke++){var $t=Ue[Ke],Tt=$t.ds,gn=$t.value,Ft=$t.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(Ft!="CN")return"mixed";if(G.lang.String.isMail(gn))continue;return"mixed"}if(Ft=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(be){var De=this.getX500NameArray(be);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getRDN(le(be,Ue[Ke])));return De},this.getRDN=function(be){for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getAttrTypeAndValue(le(be,Ue[Ke])));return De},this.getAttrTypeAndValue=function(be){var De={type:null,value:null,ds:null},Ue=N(be,0),Ke=we(be,Ue[0],[],"06"),lt=we(be,Ue[1],[]),mt=G.asn1.ASN1Util.oidHexToInt(Ke);return De.type=G.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[be.substr(Ue[1],2)],De.ds!="bmp"?De.value=un(lt):De.value=it(lt),De},this.readCertPEM=function(be){this.readCertHex(ut(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=bt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(be=Oe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(be,0),Ke=0;Ke<Ue.length;Ke++){var lt=le(be,Ue[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(be){var De=N(be,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+be);var Ue=dt(we(be,0,[0],"06")),Ke=!1;De==3&&xe(be,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(be,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var $t={extname:Ue,extn:lt};return Ke&&($t.critical=!0),$t},this.findExt=function(be,De){for(var Ue=0;Ue<be.length;Ue++)if(be[Ue].extname==De)return be[Ue];return null},this.updateExtCDPFullURI=function(be,De){var Ue=this.findExt(be,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,$t=0;$t<mt.length;$t++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(be,De){var Ue=this.findExt(be,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(be){return"/"+be.map(function(De){return function(Ke){return Ke.map(function(lt){return function($t){return $t.type+"="+$t.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,De,Ue,Ke=function(Qt){return JSON.stringify(Qt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];if(Gn+="    policy oid: "+mr.policyoid+`
`,mr.array!==void 0)for(var yr=0;yr<mr.array.length;yr++){var cr=mr.array[yr];cr.cps!==void 0&&(Gn+="    cps: "+cr.cps+`
`)}}return Gn},mt=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];try{mr.dpname.full[0].uri!==void 0&&(Gn+="    "+mr.dpname.full[0].uri+`
`)}catch{}try{mr.dname.full[0].dn.hex!==void 0&&(Gn+="    "+Zt.hex2dn(mr.dpname.full[0].dn.hex)+`
`)}catch{}}return Gn},$t=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];mr.caissuer!==void 0&&(Gn+="    caissuer: "+mr.caissuer+`
`),mr.ocsp!==void 0&&(Gn+="    ocsp: "+mr.ocsp+`
`)}return Gn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(be+="    n="+Gt(De.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Gt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Ue.length;Tt++){var gn=Ue[Tt],Ft=G.asn1.x509.OID.oid2name(gn.oid);Ft===""&&(Ft=gn.oid);var Vt="";if(gn.critical===!0&&(Vt="CRITICAL"),be+="  "+Ft+" "+Vt+`:
`,Ft==="basicConstraints"){var zn=this.getExtBasicConstraints();zn.cA===void 0?be+=`    {}
`:(be+="    cA=true",zn.pathLen!==void 0&&(be+=", pathLen="+zn.pathLen),be+=`
`)}else if(Ft==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(Ft==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ft==="authorityKeyIdentifier"){var Nn=this.getExtAuthorityKeyIdentifier();Nn.kid!==void 0&&(be+="    kid="+Nn.kid.hex+`
`)}else Ft==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ft==="subjectAltName"?be+="    "+Ke(this.getExtSubjectAltName())+`
`:Ft==="cRLDistributionPoints"?be+=mt(this.getExtCRLDistributionPoints()):Ft==="authorityInfoAccess"?be+=$t(this.getExtAuthorityInfoAccess()):Ft==="certificatePolicies"&&(be+=lt(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof T=="string"&&(T.indexOf("-----BEGIN")!=-1?this.readCertPEM(T):G.lang.String.isHex(T)&&this.readCertHex(T))}Se.prototype.sign=function(T,C){var R=function(J){return G.crypto.Util.hashString(J,C)}(T);return this.signWithMessageHash(R,C)},Se.prototype.signWithMessageHash=function(T,C){var R=gt(G.crypto.Util.getPaddedDigestInfoHex(T,C,this.n.bitLength()),16);return tn(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(T,C,R){var N=function(le){return G.crypto.Util.hashHex(le,C)}(In(T));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,C,R)},Se.prototype.signWithMessageHashPSS=function(T,C,R){var N,J=ln(T),le=J.length,we=this.n.bitLength()-1,Ie=Math.ceil(we/8),xe=function(be){return G.crypto.Util.hashHex(be,C)};if(R===-1||R===void 0)R=le;else if(R===-2)R=Ie-le-2;else if(R<-2)throw new Error("invalid salt length");if(Ie<le+R+2)throw new Error("data too long");var Oe="";R>0&&(Oe=new Array(R),new nt().nextBytes(Oe),Oe=String.fromCharCode.apply(String,Oe));var Me=ln(xe(In("\0\0\0\0\0\0\0\0"+J+Oe))),$e=[];for(N=0;N<Ie-R-le-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Oe,Xe=Pn(Me,ze.length,xe),ot=[];for(N=0;N<ze.length;N+=1)ot[N]=ze.charCodeAt(N)^Xe.charCodeAt(N);var dt=65280>>8*Ie-we&255;for(ot[0]&=~dt,N=0;N<le;N++)ot.push(Me.charCodeAt(N));return ot.push(188),tn(this.doPrivate(new U(ot)).toString(16),this.n.bitLength())},Se.prototype.verify=function(T,C){if((C=C.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(C,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var J=this.doPublic(R).toString(16);if(J.length+3!=N/4)return!1;var le=Wt(J.replace(/^1f+00/,""));if(le.length==0)return!1;var we=le[0];return le[1]==function(xe){return G.crypto.Util.hashString(xe,we)}(T)},Se.prototype.verifyWithMessageHash=function(T,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(C,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Wt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==T)},Se.prototype.verifyPSS=function(T,C,R,N){var J=function(we){return G.crypto.Util.hashHex(we,R)}(In(T));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(J,C,R,N)},Se.prototype.verifyWithMessageHashPSS=function(T,C,R,N){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var J,le=new U(C,16),we=function(Ue){return G.crypto.Util.hashHex(Ue,R)},Ie=ln(T),xe=Ie.length,Oe=this.n.bitLength()-1,Me=Math.ceil(Oe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(le).toByteArray();for(J=0;J<$e.length;J+=1)$e[J]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Xe=$e.substr(ze.length,xe),ot=65280>>8*Me-Oe&255;if(ze.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var dt=Pn(Xe,ze.length,we),ut=[];for(J=0;J<ze.length;J+=1)ut[J]=ze.charCodeAt(J)^dt.charCodeAt(J);ut[0]&=~ot;var be=Me-xe-N-2;for(J=0;J<be;J+=1)if(ut[J]!==0)throw new Error("leftmost octets not zero");if(ut[be]!==1)throw new Error("0x01 marker not found");return Xe===ln(we(In("\0\0\0\0\0\0\0\0"+Ie+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Zt.hex2dn=function(T,C){C===void 0&&(C=0);var R=new Zt;return ke.getTLV(T,C),R.getX500Name(T).str},Zt.hex2rdn=function(T,C){if(C===void 0&&(C=0),T.substr(C,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=ke.getChildIdx(T,C),J=0;J<N.length;J++)R.push(Zt.hex2attrTypeValue(T,N[J]));return(R=R.map(function(le){return le.replace("+","\\+")})).join("+")},Zt.hex2attrTypeValue=function(T,C){var R=ke,N=R.getV;if(C===void 0&&(C=0),T.substr(C,2)!=="30")throw new Error("malformed attribute type and value");var J=R.getChildIdx(T,C);J.length!==2||T.substr(J[0],2);var le=N(T,J[0]),we=G.asn1.ASN1Util.oidHexToInt(le);return G.asn1.x509.OID.oid2atype(we)+"="+ln(N(T,J[1]))},Zt.getPublicKeyFromCertHex=function(T){var C=new Zt;return C.readCertHex(T),C.getPublicKey()},Zt.getPublicKeyFromCertPEM=function(T){var C=new Zt;return C.readCertPEM(T),C.getPublicKey()},Zt.getPublicKeyInfoPropOfCertPEM=function(T){var C,R,N=ke.getVbyList,J={};return J.algparam=null,(C=new Zt).readCertPEM(T),R=C.getPublicKeyHex(),J.keyhex=N(R,0,[1],"03").substr(2),J.algoid=N(R,0,[0,0],"06"),J.algoid==="2a8648ce3d0201"&&(J.algparam=N(R,0,[0,1],"06")),J},Zt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],G!==void 0&&G||(r.KJUR=G={}),G.jws!==void 0&&G.jws||(G.jws={}),G.jws.JWS=function(){var T=G.jws.JWS.isSafeJSONString;this.parseJWS=function(C,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var J=N[1],le=N[2],we=N[3],Ie=J+"."+le;if(this.parsedJWS={},this.parsedJWS.headB64U=J,this.parsedJWS.payloadB64U=le,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Ie,!R){var xe=hn(we),Oe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Oe}var Me=Je(J),$e=Je(le);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!T(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},G.jws.JWS.sign=function(T,C,R,N,J){var le,we,Ie,xe=G,Oe=xe.jws.JWS,Me=Oe.readSafeJSONString,$e=Oe.isSafeJSONString,ze=xe.crypto,Xe=(ze.ECDSA,ze.Mac),ot=ze.Signature,dt=JSON;if(typeof C!="string"&&(C===void 0?"undefined":b(C))!="object")throw"spHeader must be JSON string or object: "+C;if((C===void 0?"undefined":b(C))=="object"&&(we=C,le=dt.stringify(we)),typeof C=="string"){if(!$e(le=C))throw"JWS Head is not safe JSON string: "+le;we=Me(le)}if(Ie=R,(R===void 0?"undefined":b(R))=="object"&&(Ie=dt.stringify(R)),T!=""&&T!=null||we.alg===void 0||(T=we.alg),T!=""&&T!=null&&we.alg===void 0&&(we.alg=T,le=dt.stringify(we)),T!==we.alg)throw"alg and sHeader.alg doesn't match: "+T+"!="+we.alg;var ut=null;if(Oe.jwsalg2sigalg[T]===void 0)throw"unsupported alg name: "+T;ut=Oe.jwsalg2sigalg[T];var be=je(le)+"."+je(Ie),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Xe({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(be),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new ot({alg:ut})).init(N,J),lt.updateString(be);var Ke=lt.sign();De=G.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new ot({alg:ut})).init(N,J),lt.updateString(be),De=lt.sign())}return be+"."+dn(De)},G.jws.JWS.verify=function(T,C,R){var N,J=G,le=J.jws.JWS,we=le.readSafeJSONString,Ie=J.crypto,xe=Ie.ECDSA,Oe=Ie.Mac,Me=Ie.Signature;b(Se)!==void 0&&(N=Se);var $e=T.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Xe=hn($e[2]),ot=we(Je($e[0])),dt=null,ut=null;if(ot.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=ot.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&C===null)throw"key shall be specified to verify.";if(typeof C=="string"&&C.indexOf("-----BEGIN ")!=-1&&(C=jt.getKey(C)),!(ut!="RS"&&ut!="PS"||C instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(C instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(le.jwsalg2sigalg[ot.alg]===void 0)throw"unsupported alg name: "+dt;if((be=le.jwsalg2sigalg[dt])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(C===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Oe({alg:be,pass:C});return De.updateString(ze),Xe==De.doFinal()}if(be.indexOf("withECDSA")!=-1){var Ue,Ke=null;try{Ke=xe.concatSigToASN1Sig(Xe)}catch{return!1}return(Ue=new Me({alg:be})).init(C),Ue.updateString(ze),Ue.verify(Ke)}return(Ue=new Me({alg:be})).init(C),Ue.updateString(ze),Ue.verify(Xe)},G.jws.JWS.parse=function(T){var C,R,N,J=T.split("."),le={};if(J.length!=2&&J.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return C=J[0],R=J[1],J.length==3&&(N=J[2]),le.headerObj=G.jws.JWS.readSafeJSONString(Je(C)),le.payloadObj=G.jws.JWS.readSafeJSONString(Je(R)),le.headerPP=JSON.stringify(le.headerObj,null,"  "),le.payloadObj==null?le.payloadPP=Je(R):le.payloadPP=JSON.stringify(le.payloadObj,null,"  "),N!==void 0&&(le.sigHex=hn(N)),le},G.jws.JWS.verifyJWT=function(T,C,R){var N=G.jws,J=N.JWS,le=J.readSafeJSONString,we=J.inArray,Ie=J.includedArray,xe=T.split("."),Oe=xe[0],Me=xe[1],$e=(hn(xe[2]),le(Je(Oe))),ze=le(Je(Me));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!we($e.alg,R.alg)||ze.iss!==void 0&&b(R.iss)==="object"&&!we(ze.iss,R.iss)||ze.sub!==void 0&&b(R.sub)==="object"&&!we(ze.sub,R.sub))return!1;if(ze.aud!==void 0&&b(R.aud)==="object"){if(typeof ze.aud=="string"){if(!we(ze.aud,R.aud))return!1}else if(b(ze.aud)=="object"&&!Ie(ze.aud,R.aud))return!1}var Xe=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Xe=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+R.gracePeriod<Xe)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Xe<ze.nbf-R.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Xe<ze.iat-R.gracePeriod)&&(ze.jti===void 0||R.jti===void 0||ze.jti===R.jti)&&!!J.verify(T,C,R.alg)},G.jws.JWS.includedArray=function(T,C){var R=G.jws.JWS.inArray;if(T===null||(T===void 0?"undefined":b(T))!=="object"||typeof T.length!="number")return!1;for(var N=0;N<T.length;N++)if(!R(T[N],C))return!1;return!0},G.jws.JWS.inArray=function(T,C){if(C===null||(C===void 0?"undefined":b(C))!=="object"||typeof C.length!="number")return!1;for(var R=0;R<C.length;R++)if(C[R]==T)return!0;return!1},G.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},G.jws.JWS.isSafeJSONString=function(T,C,R){var N=null;try{return((N=W(T))===void 0?"undefined":b(N))!="object"||N.constructor===Array?0:(C&&(C[R]=N),1)}catch{return 0}},G.jws.JWS.readSafeJSONString=function(T){var C=null;try{return((C=W(T))===void 0?"undefined":b(C))!="object"||C.constructor===Array?null:C}catch{return null}},G.jws.JWS.getEncodedSignatureValueFromJWS=function(T){var C=T.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(C==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},G.jws.JWS.getJWKthumbprint=function(T){if(T.kty!=="RSA"&&T.kty!=="EC"&&T.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var C="{";if(T.kty==="RSA"){if(typeof T.n!="string"||typeof T.e!="string")throw"wrong n and e value for RSA key";C+='"e":"'+T.e+'",',C+='"kty":"'+T.kty+'",',C+='"n":"'+T.n+'"}'}else if(T.kty==="EC"){if(typeof T.crv!="string"||typeof T.x!="string"||typeof T.y!="string")throw"wrong crv, x and y value for EC key";C+='"crv":"'+T.crv+'",',C+='"kty":"'+T.kty+'",',C+='"x":"'+T.x+'",',C+='"y":"'+T.y+'"}'}else if(T.kty==="oct"){if(typeof T.k!="string")throw"wrong k value for oct(symmetric) key";C+='"kty":"'+T.kty+'",',C+='"k":"'+T.k+'"}'}var R=In(C);return dn(G.crypto.Util.hashHex(R,"sha256"))},G.jws.IntDate={},G.jws.IntDate.get=function(T){var C=G.jws.IntDate,R=C.getNow,N=C.getZulu;if(T=="now")return R();if(T=="now + 1hour")return R()+3600;if(T=="now + 1day")return R()+86400;if(T=="now + 1month")return R()+2592e3;if(T=="now + 1year")return R()+31536e3;if(T.match(/Z$/))return N(T);if(T.match(/^[0-9]+$/))return parseInt(T);throw"unsupported format: "+T},G.jws.IntDate.getZulu=function(T){return Hn(T)},G.jws.IntDate.getNow=function(){return~~(new Date/1e3)},G.jws.IntDate.intDate2UTCString=function(T){return new Date(1e3*T).toUTCString()},G.jws.IntDate.intDate2Zulu=function(T){var C=new Date(1e3*T);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=he,r.BigInteger=U,r.RSAKey=Se;var En=G.crypto.EDSA;r.EDSA=En;var Cn=G.crypto.DSA;r.DSA=Cn;var qn=G.crypto.Signature;r.Signature=qn;var Rr=G.crypto.MessageDigest;r.MessageDigest=Rr;var Qr=G.crypto.Mac;r.Mac=Qr;var Zr=G.crypto.Cipher;r.Cipher=Zr,r.KEYUTIL=jt,r.ASN1HEX=ke,r.X509=Zt,r.CryptoJS=P,r.b64tohex=Q,r.b64toBA=X,r.stoBA=Rt,r.BAtos=It,r.BAtohex=Nt,r.stohex=Ot,r.stob64=function(C){return F(Ot(C))},r.stob64u=function(C){return zt(F(Ot(C)))},r.b64utos=function(C){return It(X(Ar(C)))},r.b64tob64u=zt,r.b64utob64=Ar,r.hex2b64=F,r.hextob64u=dn,r.b64utohex=hn,r.utf8tob64u=je,r.b64utoutf8=Je,r.utf8tob64=function(C){return F(Jn(Ct(C)))},r.b64toutf8=function(C){return decodeURIComponent(We(Q(C)))},r.utf8tohex=gr,r.hextoutf8=un,r.hextorstr=ln,r.rstrtohex=In,r.hextob64=lr,r.hextob64nl=Le,r.b64nltohex=qe,r.hextopem=bt,r.pemtohex=Et,r.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(C.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(C.length/2),N=new DataView(R),J=0;J<C.length/2;J++)N.setUint8(J,parseInt(C.substr(2*J,2),16));return R},r.ArrayBuffertohex=function(C){for(var R="",N=new DataView(C),J=0;J<C.byteLength;J++)R+=("00"+N.getUint8(J).toString(16)).slice(-2);return R},r.zulutomsec=Mt,r.zulutosec=Hn,r.zulutodate=function(C){return new Date(Mt(C))},r.datetozulu=function(C,R,N){var J,le=C.getUTCFullYear();if(R){if(le<1950||2049<le)throw"not proper year for UTCTime: "+le;J=(""+le).slice(-2)}else J=("000"+le).slice(-4);if(J+=("0"+(C.getUTCMonth()+1)).slice(-2),J+=("0"+C.getUTCDate()).slice(-2),J+=("0"+C.getUTCHours()).slice(-2),J+=("0"+C.getUTCMinutes()).slice(-2),J+=("0"+C.getUTCSeconds()).slice(-2),N){var we=C.getUTCMilliseconds();we!==0&&(J+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return J+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ce,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(C){var R="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&C.indexOf(":")!==-1)return Ce(C);throw R}var N=C.split(".");if(N.length!==4)throw R;var J="";try{for(var le=0;le<4;le++)J+=("0"+parseInt(N[le]).toString(16)).slice(-2);return J}catch{throw R}},r.encodeURIComponentAll=Ct,r.newline_toUnix=function(C){return C=C.replace(/\r\n/gm,`
`)},r.newline_toDos=function(C){return C=(C=C.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Gt,r.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(R,N,J){var le=parseInt(R);if(le<0||255<le)throw"integer not in range 0-255";return("00"+le.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(C,R){var N=C.length;C.length>R.length&&(N=R.length);for(var J=0;J<N;J++)if(C.charCodeAt(J)!=R.charCodeAt(J))return J;return C.length!=R.length?N:-1},r.KJUR=G;var Ir=G.crypto;r.crypto=Ir;var $n=G.asn1;r.asn1=$n;var ti=G.jws;r.jws=ti;var Qi=G.lang;r.lang=Qi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=i(30),s=i(31),l=i(32);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(oe,H){if(c()<H)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(oe=new Uint8Array(H)).__proto__=h.prototype:(oe===null&&(oe=new h(H)),oe.length=H),oe}function h(oe,H,$){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(oe,H,$);if(typeof oe=="number"){if(typeof H=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,oe)}return g(this,oe,H,$)}function g(oe,H,$,ae){if(typeof H=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&H instanceof ArrayBuffer?function(he,ye,He,Ee){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Ee||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Ee===void 0?new Uint8Array(ye):Ee===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Ee),h.TYPED_ARRAY_SUPPORT?(he=ye).__proto__=h.prototype:he=_(he,ye),he}(oe,H,$,ae):typeof H=="string"?function(he,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!h.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Ee=0|b(ye,He),Fe=(he=d(he,Ee)).write(ye,He);return Fe!==Ee&&(he=he.slice(0,Fe)),he}(oe,H,$):function(he,ye){if(h.isBuffer(ye)){var He=0|S(ye.length);return(he=d(he,He)).length===0||ye.copy(he,0,0,He),he}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Fe){return Fe!=Fe}(ye.length)?d(he,0):_(he,ye);if(ye.type==="Buffer"&&l(ye.data))return _(he,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(oe,H)}function y(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be a number');if(oe<0)throw new RangeError('"size" argument must not be negative')}function v(oe,H){if(y(H),oe=d(oe,H<0?0:0|S(H)),!h.TYPED_ARRAY_SUPPORT)for(var $=0;$<H;++$)oe[$]=0;return oe}function _(oe,H){var $=H.length<0?0:0|S(H.length);oe=d(oe,$);for(var ae=0;ae<$;ae+=1)oe[ae]=255&H[ae];return oe}function S(oe){if(oe>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|oe}function b(oe,H){if(h.isBuffer(oe))return oe.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(oe)||oe instanceof ArrayBuffer))return oe.byteLength;typeof oe!="string"&&(oe=""+oe);var $=oe.length;if($===0)return 0;for(var ae=!1;;)switch(H){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Pe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Ne(oe).length;default:if(ae)return Pe(oe).length;H=(""+H).toLowerCase(),ae=!0}}function x(oe,H,$){var ae=!1;if((H===void 0||H<0)&&(H=0),H>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(H>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return de(this,H,$);case"utf8":case"utf-8":return te(this,H,$);case"ascii":return pe(this,H,$);case"latin1":case"binary":return _e(this,H,$);case"base64":return ce(this,H,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,H,$);default:if(ae)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),ae=!0}}function A(oe,H,$){var ae=oe[H];oe[H]=oe[$],oe[$]=ae}function P(oe,H,$,ae,Z){if(oe.length===0)return-1;if(typeof $=="string"?(ae=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=Z?0:oe.length-1),$<0&&($=oe.length+$),$>=oe.length){if(Z)return-1;$=oe.length-1}else if($<0){if(!Z)return-1;$=0}if(typeof H=="string"&&(H=h.from(H,ae)),h.isBuffer(H))return H.length===0?-1:O(oe,H,$,ae,Z);if(typeof H=="number")return H&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(oe,H,$):Uint8Array.prototype.lastIndexOf.call(oe,H,$):O(oe,[H],$,ae,Z);throw new TypeError("val must be string, number or Buffer")}function O(oe,H,$,ae,Z){var he,ye=1,He=oe.length,Ee=H.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(oe.length<2||H.length<2)return-1;ye=2,He/=2,Ee/=2,$/=2}function Fe(qt,Se){return ye===1?qt[Se]:qt.readUInt16BE(Se*ye)}if(Z){var tt=-1;for(he=$;he<He;he++)if(Fe(oe,he)===Fe(H,tt===-1?0:he-tt)){if(tt===-1&&(tt=he),he-tt+1===Ee)return tt*ye}else tt!==-1&&(he-=he-tt),tt=-1}else for($+Ee>He&&($=He-Ee),he=$;he>=0;he--){for(var nt=!0,gt=0;gt<Ee;gt++)if(Fe(oe,he+gt)!==Fe(H,gt)){nt=!1;break}if(nt)return he}return-1}function D(oe,H,$,ae){$=Number($)||0;var Z=oe.length-$;ae?(ae=Number(ae))>Z&&(ae=Z):ae=Z;var he=H.length;if(he%2!=0)throw new TypeError("Invalid hex string");ae>he/2&&(ae=he/2);for(var ye=0;ye<ae;++ye){var He=parseInt(H.substr(2*ye,2),16);if(isNaN(He))return ye;oe[$+ye]=He}return ye}function F(oe,H,$,ae){return Ye(Pe(H,oe.length-$),oe,$,ae)}function Q(oe,H,$,ae){return Ye(function(he){for(var ye=[],He=0;He<he.length;++He)ye.push(255&he.charCodeAt(He));return ye}(H),oe,$,ae)}function X(oe,H,$,ae){return Q(oe,H,$,ae)}function U(oe,H,$,ae){return Ye(Ne(H),oe,$,ae)}function Y(oe,H,$,ae){return Ye(function(he,ye){for(var He,Ee,Fe,tt=[],nt=0;nt<he.length&&!((ye-=2)<0);++nt)Ee=(He=he.charCodeAt(nt))>>8,Fe=He%256,tt.push(Fe),tt.push(Ee);return tt}(H,oe.length-$),oe,$,ae)}function ce(oe,H,$){return H===0&&$===oe.length?o.fromByteArray(oe):o.fromByteArray(oe.slice(H,$))}function te(oe,H,$){$=Math.min(oe.length,$);for(var ae=[],Z=H;Z<$;){var he,ye,He,Ee,Fe=oe[Z],tt=null,nt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(Z+nt<=$)switch(nt){case 1:Fe<128&&(tt=Fe);break;case 2:(192&(he=oe[Z+1]))==128&&(Ee=(31&Fe)<<6|63&he)>127&&(tt=Ee);break;case 3:he=oe[Z+1],ye=oe[Z+2],(192&he)==128&&(192&ye)==128&&(Ee=(15&Fe)<<12|(63&he)<<6|63&ye)>2047&&(Ee<55296||Ee>57343)&&(tt=Ee);break;case 4:he=oe[Z+1],ye=oe[Z+2],He=oe[Z+3],(192&he)==128&&(192&ye)==128&&(192&He)==128&&(Ee=(15&Fe)<<18|(63&he)<<12|(63&ye)<<6|63&He)>65535&&Ee<1114112&&(tt=Ee)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,ae.push(tt>>>10&1023|55296),tt=56320|1023&tt),ae.push(tt),Z+=nt}return function(qt){var Se=qt.length;if(Se<=se)return String.fromCharCode.apply(String,qt);for(var Be="",ne=0;ne<Se;)Be+=String.fromCharCode.apply(String,qt.slice(ne,ne+=se));return Be}(ae)}r.Buffer=h,r.SlowBuffer=function(H){return+H!=H&&(H=0),h.alloc(+H)},r.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42&&typeof H.subarray=="function"&&H.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),h.poolSize=8192,h._augment=function(oe){return oe.__proto__=h.prototype,oe},h.from=function(oe,H,$){return g(null,oe,H,$)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(oe,H,$){return function(Z,he,ye,He){return y(he),he<=0?d(Z,he):ye!==void 0?typeof He=="string"?d(Z,he).fill(ye,He):d(Z,he).fill(ye):d(Z,he)}(null,oe,H,$)},h.allocUnsafe=function(oe){return v(null,oe)},h.allocUnsafeSlow=function(oe){return v(null,oe)},h.isBuffer=function(H){return!(H==null||!H._isBuffer)},h.compare=function(H,$){if(!h.isBuffer(H)||!h.isBuffer($))throw new TypeError("Arguments must be Buffers");if(H===$)return 0;for(var ae=H.length,Z=$.length,he=0,ye=Math.min(ae,Z);he<ye;++he)if(H[he]!==$[he]){ae=H[he],Z=$[he];break}return ae<Z?-1:Z<ae?1:0},h.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(H,$){if(!l(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return h.alloc(0);var ae;if($===void 0)for($=0,ae=0;ae<H.length;++ae)$+=H[ae].length;var Z=h.allocUnsafe($),he=0;for(ae=0;ae<H.length;++ae){var ye=H[ae];if(!h.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(Z,he),he+=ye.length}return Z},h.byteLength=b,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<H;$+=2)A(this,$,$+1);return this},h.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<H;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},h.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<H;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},h.prototype.toString=function(){var H=0|this.length;return H===0?"":arguments.length===0?te(this,0,H):x.apply(this,arguments)},h.prototype.equals=function(H){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||h.compare(this,H)===0},h.prototype.inspect=function(){var H="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(H=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(H+=" ... ")),"<Buffer "+H+">"},h.prototype.compare=function(H,$,ae,Z,he){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),ae===void 0&&(ae=H?H.length:0),Z===void 0&&(Z=0),he===void 0&&(he=this.length),$<0||ae>H.length||Z<0||he>this.length)throw new RangeError("out of range index");if(Z>=he&&$>=ae)return 0;if(Z>=he)return-1;if($>=ae)return 1;if(this===H)return 0;for(var ye=(he>>>=0)-(Z>>>=0),He=(ae>>>=0)-($>>>=0),Ee=Math.min(ye,He),Fe=this.slice(Z,he),tt=H.slice($,ae),nt=0;nt<Ee;++nt)if(Fe[nt]!==tt[nt]){ye=Fe[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},h.prototype.includes=function(H,$,ae){return this.indexOf(H,$,ae)!==-1},h.prototype.indexOf=function(H,$,ae){return P(this,H,$,ae,!0)},h.prototype.lastIndexOf=function(H,$,ae){return P(this,H,$,ae,!1)},h.prototype.write=function(H,$,ae,Z){if($===void 0)Z="utf8",ae=this.length,$=0;else if(ae===void 0&&typeof $=="string")Z=$,ae=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(ae)?(ae|=0,Z===void 0&&(Z="utf8")):(Z=ae,ae=void 0)}var he=this.length-$;if((ae===void 0||ae>he)&&(ae=he),H.length>0&&(ae<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ye=!1;;)switch(Z){case"hex":return D(this,H,$,ae);case"utf8":case"utf-8":return F(this,H,$,ae);case"ascii":return Q(this,H,$,ae);case"latin1":case"binary":return X(this,H,$,ae);case"base64":return U(this,H,$,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,H,$,ae);default:if(ye)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ye=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function pe(oe,H,$){var ae="";$=Math.min(oe.length,$);for(var Z=H;Z<$;++Z)ae+=String.fromCharCode(127&oe[Z]);return ae}function _e(oe,H,$){var ae="";$=Math.min(oe.length,$);for(var Z=H;Z<$;++Z)ae+=String.fromCharCode(oe[Z]);return ae}function de(oe,H,$){var ae=oe.length;(!H||H<0)&&(H=0),(!$||$<0||$>ae)&&($=ae);for(var Z="",he=H;he<$;++he)Z+=Ze(oe[he]);return Z}function ue(oe,H,$){for(var ae=oe.slice(H,$),Z="",he=0;he<ae.length;he+=2)Z+=String.fromCharCode(ae[he]+256*ae[he+1]);return Z}function Re(oe,H,$){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+H>$)throw new RangeError("Trying to access beyond buffer length")}function k(oe,H,$,ae,Z,he){if(!h.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>Z||H<he)throw new RangeError('"value" argument is out of bounds');if($+ae>oe.length)throw new RangeError("Index out of range")}function ie(oe,H,$,ae){H<0&&(H=65535+H+1);for(var Z=0,he=Math.min(oe.length-$,2);Z<he;++Z)oe[$+Z]=(H&255<<8*(ae?Z:1-Z))>>>8*(ae?Z:1-Z)}function me(oe,H,$,ae){H<0&&(H=4294967295+H+1);for(var Z=0,he=Math.min(oe.length-$,4);Z<he;++Z)oe[$+Z]=H>>>8*(ae?Z:3-Z)&255}function K(oe,H,$,ae,Z,he){if($+ae>oe.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function ee(oe,H,$,ae,Z){return Z||K(oe,0,$,4),s.write(oe,H,$,ae,23,4),$+4}function ge(oe,H,$,ae,Z){return Z||K(oe,0,$,8),s.write(oe,H,$,ae,52,8),$+8}h.prototype.slice=function(H,$){var ae,Z=this.length;if((H=~~H)<0?(H+=Z)<0&&(H=0):H>Z&&(H=Z),($=$===void 0?Z:~~$)<0?($+=Z)<0&&($=0):$>Z&&($=Z),$<H&&($=H),h.TYPED_ARRAY_SUPPORT)(ae=this.subarray(H,$)).__proto__=h.prototype;else{var he=$-H;ae=new h(he,void 0);for(var ye=0;ye<he;++ye)ae[ye]=this[ye+H]}return ae},h.prototype.readUIntLE=function(H,$,ae){H|=0,$|=0,ae||Re(H,$,this.length);for(var Z=this[H],he=1,ye=0;++ye<$&&(he*=256);)Z+=this[H+ye]*he;return Z},h.prototype.readUIntBE=function(H,$,ae){H|=0,$|=0,ae||Re(H,$,this.length);for(var Z=this[H+--$],he=1;$>0&&(he*=256);)Z+=this[H+--$]*he;return Z},h.prototype.readUInt8=function(H,$){return $||Re(H,1,this.length),this[H]},h.prototype.readUInt16LE=function(H,$){return $||Re(H,2,this.length),this[H]|this[H+1]<<8},h.prototype.readUInt16BE=function(H,$){return $||Re(H,2,this.length),this[H]<<8|this[H+1]},h.prototype.readUInt32LE=function(H,$){return $||Re(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},h.prototype.readUInt32BE=function(H,$){return $||Re(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},h.prototype.readIntLE=function(H,$,ae){H|=0,$|=0,ae||Re(H,$,this.length);for(var Z=this[H],he=1,ye=0;++ye<$&&(he*=256);)Z+=this[H+ye]*he;return Z>=(he*=128)&&(Z-=Math.pow(2,8*$)),Z},h.prototype.readIntBE=function(H,$,ae){H|=0,$|=0,ae||Re(H,$,this.length);for(var Z=$,he=1,ye=this[H+--Z];Z>0&&(he*=256);)ye+=this[H+--Z]*he;return ye>=(he*=128)&&(ye-=Math.pow(2,8*$)),ye},h.prototype.readInt8=function(H,$){return $||Re(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},h.prototype.readInt16LE=function(H,$){$||Re(H,2,this.length);var ae=this[H]|this[H+1]<<8;return 32768&ae?4294901760|ae:ae},h.prototype.readInt16BE=function(H,$){$||Re(H,2,this.length);var ae=this[H+1]|this[H]<<8;return 32768&ae?4294901760|ae:ae},h.prototype.readInt32LE=function(H,$){return $||Re(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},h.prototype.readInt32BE=function(H,$){return $||Re(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},h.prototype.readFloatLE=function(H,$){return $||Re(H,4,this.length),s.read(this,H,!0,23,4)},h.prototype.readFloatBE=function(H,$){return $||Re(H,4,this.length),s.read(this,H,!1,23,4)},h.prototype.readDoubleLE=function(H,$){return $||Re(H,8,this.length),s.read(this,H,!0,52,8)},h.prototype.readDoubleBE=function(H,$){return $||Re(H,8,this.length),s.read(this,H,!1,52,8)},h.prototype.writeUIntLE=function(H,$,ae,Z){H=+H,$|=0,ae|=0,Z||k(this,H,$,ae,Math.pow(2,8*ae)-1,0);var he=1,ye=0;for(this[$]=255&H;++ye<ae&&(he*=256);)this[$+ye]=H/he&255;return $+ae},h.prototype.writeUIntBE=function(H,$,ae,Z){H=+H,$|=0,ae|=0,Z||k(this,H,$,ae,Math.pow(2,8*ae)-1,0);var he=ae-1,ye=1;for(this[$+he]=255&H;--he>=0&&(ye*=256);)this[$+he]=H/ye&255;return $+ae},h.prototype.writeUInt8=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,1,255,0),h.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),this[$]=255&H,$+1},h.prototype.writeUInt16LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[$]=255&H,this[$+1]=H>>>8):ie(this,H,$,!0),$+2},h.prototype.writeUInt16BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>8,this[$+1]=255&H):ie(this,H,$,!1),$+2},h.prototype.writeUInt32LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[$+3]=H>>>24,this[$+2]=H>>>16,this[$+1]=H>>>8,this[$]=255&H):me(this,H,$,!0),$+4},h.prototype.writeUInt32BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>24,this[$+1]=H>>>16,this[$+2]=H>>>8,this[$+3]=255&H):me(this,H,$,!1),$+4},h.prototype.writeIntLE=function(H,$,ae,Z){if(H=+H,$|=0,!Z){var he=Math.pow(2,8*ae-1);k(this,H,$,ae,he-1,-he)}var ye=0,He=1,Ee=0;for(this[$]=255&H;++ye<ae&&(He*=256);)H<0&&Ee===0&&this[$+ye-1]!==0&&(Ee=1),this[$+ye]=(H/He>>0)-Ee&255;return $+ae},h.prototype.writeIntBE=function(H,$,ae,Z){if(H=+H,$|=0,!Z){var he=Math.pow(2,8*ae-1);k(this,H,$,ae,he-1,-he)}var ye=ae-1,He=1,Ee=0;for(this[$+ye]=255&H;--ye>=0&&(He*=256);)H<0&&Ee===0&&this[$+ye+1]!==0&&(Ee=1),this[$+ye]=(H/He>>0)-Ee&255;return $+ae},h.prototype.writeInt8=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,1,127,-128),h.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),H<0&&(H=255+H+1),this[$]=255&H,$+1},h.prototype.writeInt16LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[$]=255&H,this[$+1]=H>>>8):ie(this,H,$,!0),$+2},h.prototype.writeInt16BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>8,this[$+1]=255&H):ie(this,H,$,!1),$+2},h.prototype.writeInt32LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[$]=255&H,this[$+1]=H>>>8,this[$+2]=H>>>16,this[$+3]=H>>>24):me(this,H,$,!0),$+4},h.prototype.writeInt32BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>24,this[$+1]=H>>>16,this[$+2]=H>>>8,this[$+3]=255&H):me(this,H,$,!1),$+4},h.prototype.writeFloatLE=function(H,$,ae){return ee(this,H,$,!0,ae)},h.prototype.writeFloatBE=function(H,$,ae){return ee(this,H,$,!1,ae)},h.prototype.writeDoubleLE=function(H,$,ae){return ge(this,H,$,!0,ae)},h.prototype.writeDoubleBE=function(H,$,ae){return ge(this,H,$,!1,ae)},h.prototype.copy=function(H,$,ae,Z){if(ae||(ae=0),Z||Z===0||(Z=this.length),$>=H.length&&($=H.length),$||($=0),Z>0&&Z<ae&&(Z=ae),Z===ae||H.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),H.length-$<Z-ae&&(Z=H.length-$+ae);var he,ye=Z-ae;if(this===H&&ae<$&&$<Z)for(he=ye-1;he>=0;--he)H[he+$]=this[he+ae];else if(ye<1e3||!h.TYPED_ARRAY_SUPPORT)for(he=0;he<ye;++he)H[he+$]=this[he+ae];else Uint8Array.prototype.set.call(H,this.subarray(ae,ae+ye),$);return ye},h.prototype.fill=function(H,$,ae,Z){if(typeof H=="string"){if(typeof $=="string"?(Z=$,$=0,ae=this.length):typeof ae=="string"&&(Z=ae,ae=this.length),H.length===1){var he=H.charCodeAt(0);he<256&&(H=he)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!h.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof H=="number"&&(H&=255);if($<0||this.length<$||this.length<ae)throw new RangeError("Out of range index");if(ae<=$)return this;var ye;if($>>>=0,ae=ae===void 0?this.length:ae>>>0,H||(H=0),typeof H=="number")for(ye=$;ye<ae;++ye)this[ye]=H;else{var He=h.isBuffer(H)?H:Pe(new h(H,Z).toString()),Ee=He.length;for(ye=0;ye<ae-$;++ye)this[ye+$]=He[ye%Ee]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g;function Ze(oe){return oe<16?"0"+oe.toString(16):oe.toString(16)}function Pe(oe,H){var $;H=H||1/0;for(var ae=oe.length,Z=null,he=[],ye=0;ye<ae;++ye){if(($=oe.charCodeAt(ye))>55295&&$<57344){if(!Z){if($>56319){(H-=3)>-1&&he.push(239,191,189);continue}if(ye+1===ae){(H-=3)>-1&&he.push(239,191,189);continue}Z=$;continue}if($<56320){(H-=3)>-1&&he.push(239,191,189),Z=$;continue}$=65536+(Z-55296<<10|$-56320)}else Z&&(H-=3)>-1&&he.push(239,191,189);if(Z=null,$<128){if((H-=1)<0)break;he.push($)}else if($<2048){if((H-=2)<0)break;he.push($>>6|192,63&$|128)}else if($<65536){if((H-=3)<0)break;he.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;he.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return he}function Ne(oe){return o.toByteArray(function($){if(($=function(Z){return Z.trim?Z.trim():Z.replace(/^\s+|\s+$/g,"")}($).replace(Ae,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(oe))}function Ye(oe,H,$,ae){for(var Z=0;Z<ae&&!(Z+$>=H.length||Z>=oe.length);++Z)H[Z+$]=oe[Z];return Z}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(v){var _=h(v),S=_[0],b=_[1];return 3*(S+b)/4-b},r.toByteArray=function(v){var _,S,b=h(v),x=b[0],A=b[1],P=new s(function(Q,X,U){return 3*(X+U)/4-U}(0,x,A)),O=0,D=A>0?x-4:x;for(S=0;S<D;S+=4)_=o[v.charCodeAt(S)]<<18|o[v.charCodeAt(S+1)]<<12|o[v.charCodeAt(S+2)]<<6|o[v.charCodeAt(S+3)],P[O++]=_>>16&255,P[O++]=_>>8&255,P[O++]=255&_;return A===2&&(_=o[v.charCodeAt(S)]<<2|o[v.charCodeAt(S+1)]>>4,P[O++]=255&_),A===1&&(_=o[v.charCodeAt(S)]<<10|o[v.charCodeAt(S+1)]<<4|o[v.charCodeAt(S+2)]>>2,P[O++]=_>>8&255,P[O++]=255&_),P},r.fromByteArray=function(v){for(var _,S=v.length,b=S%3,x=[],A=16383,P=0,O=S-b;P<O;P+=A)x.push(g(v,P,P+A>O?O:P+A));return b===1?(_=v[S-1],x.push(a[_>>2]+a[_<<4&63]+"==")):b===2&&(_=(v[S-2]<<8)+v[S-1],x.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),x.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)a[c]=l[c],o[l.charCodeAt(c)]=c;function h(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");return _===-1&&(_=v),[_,_===v?0:4-_%4]}function g(y,v,_){for(var S,b,x=[],A=v;A<_;A+=3)S=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),x.push(a[(b=S)>>18&63]+a[b>>12&63]+a[b>>6&63]+a[63&b]);return x.join("")}o[45]=62,o[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,o,s,l){var c,d,h=8*l-s-1,g=(1<<h)-1,y=g>>1,v=-7,_=o?l-1:0,S=o?-1:1,b=i[a+_];for(_+=S,c=b&(1<<-v)-1,b>>=-v,v+=h;v>0;c=256*c+i[a+_],_+=S,v-=8);for(d=c&(1<<-v)-1,c>>=-v,v+=s;v>0;d=256*d+i[a+_],_+=S,v-=8);if(c===0)c=1-y;else{if(c===g)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,s),c-=y}return(b?-1:1)*d*Math.pow(2,c-s)},r.write=function(i,a,o,s,l,c){var d,h,g,y=8*c-l-1,v=(1<<y)-1,_=v>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:c-1,x=s?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=v):(d=Math.floor(Math.log(a)/Math.LN2),a*(g=Math.pow(2,-d))<1&&(d--,g*=2),(a+=d+_>=1?S/g:S*Math.pow(2,1-_))*g>=2&&(d++,g/=2),d+_>=v?(h=0,d=v):d+_>=1?(h=(a*g-1)*Math.pow(2,l),d+=_):(h=a*Math.pow(2,_-1)*Math.pow(2,l),d=0));l>=8;i[o+b]=255&h,b+=x,h/=256,l-=8);for(d=d<<l|h,y+=l;y>0;i[o+b]=255&d,b+=x,d/=256,y-=8);i[o+b-x]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,c=s.KeyUtil,d=s.X509,h=s.crypto,g=s.hextob64u,y=s.b64tohex,v=s.AllowedSigningAlgs;return function(){function _(){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,_)}return _.parseJwt=function(b){a.Log.debug("JoseUtil.parseJwt");try{var x=l.JWS.parse(b);return{header:x.headerObj,payload:x.payloadObj}}catch(A){a.Log.error(A)}},_.validateJwt=function(b,x,A,P,O,D,F){a.Log.debug("JoseUtil.validateJwt");try{if(x.kty==="RSA")if(x.e&&x.n)x=c.getKey(x);else{if(!x.x5c||!x.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",x),Promise.reject(new Error("RSA key missing key material"));var Q=y(x.x5c[0]);x=d.getPublicKeyFromCertHex(Q)}else{if(x.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",x&&x.kty),Promise.reject(new Error(x.kty));if(!(x.crv&&x.x&&x.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",x),Promise.reject(new Error("EC key missing key material"));x=c.getKey(x)}return _._validateJwt(b,x,A,P,O,D,F)}catch(X){return a.Log.error(X&&X.message||X),Promise.reject("JWT validation failed")}},_.validateJwtAttributes=function(b,x,A,P,O,D){P||(P=0),O||(O=parseInt(Date.now()/1e3));var F=_.parseJwt(b).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==x)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===A||Array.isArray(F.aud)&&F.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!D){var Q=O+P,X=O-P;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&Q<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<X)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},_._validateJwt=function(b,x,A,P,O,D,F){return _.validateJwtAttributes(b,A,P,O,D,F).then(function(Q){try{return l.JWS.verify(b,x,v)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(X){return a.Log.error(X&&X.message||X),Promise.reject(new Error("signature validation failed"))}})},_.hashString=function(b,x){try{return h.Util.hashString(b,x)}catch(A){a.Log.error(A)}},_.hexToBase64Url=function(b){try{return g(b)}catch(x){a.Log.error(x)}},_}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(3);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var h=o.UrlUtility.parseUrlFragment(c,d);this.error=h.error,this.error_description=h.error_description,this.error_uri=h.error_uri,this.code=h.code,this.state=h.state,this.id_token=h.id_token,this.session_state=h.session_state,this.access_token=h.access_token,this.token_type=h.token_type,this.scope=h.scope,this.profile=void 0,this.expires_in=h.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var h=parseInt(d);if(typeof h=="number"&&h>0){var g=parseInt(Date.now()/1e3);this.expires_at=g+h}}},{key:"expired",get:function(){var d=this.expires_in;if(d!==void 0)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),o=i(3),s=i(9);r.SignoutRequest=function l(c){var d=c.url,h=c.id_token_hint,g=c.post_logout_redirect_uri,y=c.data,v=c.extraQueryParams,_=c.request_type;if(function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in h&&(d=o.UrlUtility.addQueryParam(d,"id_token_hint",h)),g&&(d=o.UrlUtility.addQueryParam(d,"post_logout_redirect_uri",g),y&&(this.state=new s.State({data:y,request_type:_}),d=o.UrlUtility.addQueryParam(d,"state",this.state.id))),v)d=o.UrlUtility.addQueryParam(d,S,v[S]);this.url=d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function o(s){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o);var l=a.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.InMemoryWebStorage=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(c){return o.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},s.prototype.setItem=function(c,d){o.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=d},s.prototype.removeItem=function(c){o.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},s.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(P,O){for(var D=0;D<O.length;D++){var F=O[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,O,D){return O&&A(P.prototype,O),D&&A(P,D),P}}(),o=i(0),s=i(10),l=i(39),c=i(15),d=i(45),h=i(47),g=i(18),y=i(8),v=i(20),_=i(11),S=i(4);function b(A,P){if(!(A instanceof P))throw new TypeError("Cannot call a class as a function")}function x(A,P){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?A:P}r.UserManager=function(A){function P(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.TokenRevocationClient,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.TokenClient,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;b(this,P),O instanceof l.UserManagerSettings||(O=new l.UserManagerSettings(O));var Y=x(this,A.call(this,O));return Y._events=new d.UserManagerEvents(O),Y._silentRenewService=new D(Y),Y.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),Y.startSilentRenew()),Y.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),Y._sessionMonitor=new F(Y)),Y._tokenRevocationClient=new Q(Y._settings),Y._tokenClient=new X(Y._settings),Y._joseUtil=U,Y}return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}(P,A),P.prototype.getUser=function(){var D=this;return this._loadUser().then(function(F){return F?(o.Log.info("UserManager.getUser: user loaded"),D._events.load(F,!1),F):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},P.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},P.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var F={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,F).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},P.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),F})},P.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var F=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),Q})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},P.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){o.Log.error(F.message)})},P.prototype.signinSilent=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(F.refresh_token=Q.refresh_token,D._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),F.current_sub=Q.profile.sub),D._signinSilentIframe(F))})},P.prototype._useRefreshToken=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(X){if(X){var U=Promise.resolve();return Q.id_token&&(U=D._validateIdTokenFromTokenRefreshToken(X.profile,Q.id_token)),U.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),X.id_token=Q.id_token||X.id_token,X.access_token=Q.access_token,X.refresh_token=Q.refresh_token||X.refresh_token,X.expires_in=Q.expires_in,D.storeUser(X).then(function(){return D._events.load(X),X})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},P.prototype._validateIdTokenFromTokenRefreshToken=function(D,F){var Q=this;return this._metadataService.getIssuer().then(function(X){return Q.settings.getEpochTime().then(function(U){return Q._joseUtil.validateJwtAttributes(F,X,Q._settings.client_id,Q._settings.clockSkew,U).then(function(Y){return Y?Y.sub!==D.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):Y.auth_time&&Y.auth_time!==D.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):Y.azp&&Y.azp!==D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!Y.azp&&D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},P.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:F,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),Q})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),F})},P.prototype.signinCallback=function(D){var F=this;return this.readSigninResponseState(D).then(function(Q){var X=Q.state;return Q.response,X.request_type==="si:r"?F.signinRedirectCallback(D):X.request_type==="si:p"?F.signinPopupCallback(D):X.request_type==="si:s"?F.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},P.prototype.signoutCallback=function(D,F){var Q=this;return this.readSignoutResponseState(D).then(function(X){var U=X.state,Y=X.response;return U?U.request_type==="so:r"?Q.signoutRedirectCallback(D):U.request_type==="so:p"?Q.signoutPopupCallback(D,F):Promise.reject(new Error("invalid response_type in state")):Y})},P.prototype.querySessionStatus=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var Q=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(F.redirect_uri=Q,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(X){return D.processSigninResponse(X.url).then(function(U){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),U.session_state&&U.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",U.profile.sub),{session_state:U.session_state,sub:U.profile.sub,sid:U.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(U){if(U.session_state&&D.settings.monitorAnonymousSession&&(U.message=="login_required"||U.message=="consent_required"||U.message=="interaction_required"||U.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:U.session_state};throw U})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype._signin=function(D,F){var Q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,F,X).then(function(U){return Q._signinEnd(U.url,D)})},P.prototype._signinStart=function(D,F){var Q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(X).then(function(U){return o.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(Y){return o.Log.debug("UserManager._signinStart: got signin request"),X.url=Y.url,X.id=Y.state.id,U.navigate(X)}).catch(function(Y){throw U.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),U.close()),Y})})},P.prototype._signinEnd=function(D){var F=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(X){o.Log.debug("UserManager._signinEnd: got signin response");var U=new c.User(X);if(Q.current_sub){if(Q.current_sub!==U.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",U.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(U).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),F._events.load(U),U})})},P.prototype._signinCallback=function(D,F){o.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(D,void 0,Q)},P.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var F=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(D.post_logout_redirect_uri=F);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},P.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(F){return o.Log.info("UserManager.signoutRedirectCallback: successful"),F})},P.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var F=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=F,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},P.prototype.signoutPopupCallback=function(D,F){return F===void 0&&typeof D=="boolean"&&(F=D,D=null),this._popupNavigator.callback(D,F,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},P.prototype._signout=function(D,F){var Q=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,F,X).then(function(U){return Q._signoutEnd(U.url)})},P.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,Q=arguments[1],X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(X).then(function(U){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(Y){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(Y):Promise.resolve()).then(function(){var ce=D.id_token_hint||Y&&Y.id_token;return ce&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=ce),F.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(D).then(function(te){return o.Log.debug("UserManager._signoutStart: got signout request"),X.url=te.url,te.state&&(X.id=te.state.id),U.navigate(X)})})})}).catch(function(Y){throw U.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),U.close()),Y})})},P.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(F){return o.Log.debug("UserManager._signoutEnd: got signout response"),F})},P.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(F){return D._revokeInternal(F,!0).then(function(Q){if(Q)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,D.storeUser(F).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(F)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},P.prototype._revokeInternal=function(D,F){var Q=this;if(D){var X=D.access_token,U=D.refresh_token;return this._revokeAccessTokenInternal(X,F).then(function(Y){return Q._revokeRefreshTokenInternal(U,F).then(function(ce){return Y||ce||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),Y||ce})})}return Promise.resolve(!1)},P.prototype._revokeAccessTokenInternal=function(D,F){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,F).then(function(){return!0})},P.prototype._revokeRefreshTokenInternal=function(D,F){return D?this._tokenRevocationClient.revoke(D,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},P.prototype.startSilentRenew=function(){this._silentRenewService.start()},P.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},P.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(o.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(D)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},P.prototype.storeUser=function(D){if(D){o.Log.debug("UserManager.storeUser: storing user");var F=D.toStorageString();return this._userStore.set(this._userStoreKey,F)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(P,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),P}(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function _(S,b){for(var x=0;x<b.length;x++){var A=b[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(S,A.key,A)}}return function(S,b,x){return b&&_(S.prototype,b),x&&_(S,x),S}}(),o=(i(0),i(5)),s=i(40),l=i(41),c=i(43),d=i(6),h=i(1),g=i(8);function y(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function v(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?_:S}r.UserManagerSettings=function(_){function S(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=b.popup_redirect_uri,A=b.popup_post_logout_redirect_uri,P=b.popupWindowFeatures,O=b.popupWindowTarget,D=b.silent_redirect_uri,F=b.silentRequestTimeout,Q=b.automaticSilentRenew,X=Q!==void 0&&Q,U=b.validateSubOnSilentRenew,Y=U!==void 0&&U,ce=b.includeIdTokenInSilentRenew,te=ce===void 0||ce,se=b.monitorSession,pe=se===void 0||se,_e=b.monitorAnonymousSession,de=_e!==void 0&&_e,ue=b.checkSessionInterval,Re=ue===void 0?2e3:ue,k=b.stopCheckSessionOnError,ie=k===void 0||k,me=b.query_status_response_type,K=b.revokeAccessTokenOnSignout,ee=K!==void 0&&K,ge=b.accessTokenExpiringNotificationTime,Ae=ge===void 0?60:ge,Ze=b.redirectNavigator,Pe=Ze===void 0?new s.RedirectNavigator:Ze,Ne=b.popupNavigator,Ye=Ne===void 0?new l.PopupNavigator:Ne,oe=b.iframeNavigator,H=oe===void 0?new c.IFrameNavigator:oe,$=b.userStore,ae=$===void 0?new d.WebStorageStateStore({store:h.Global.sessionStorage}):$;y(this,S);var Z=v(this,_.call(this,arguments[0]));return Z._popup_redirect_uri=x,Z._popup_post_logout_redirect_uri=A,Z._popupWindowFeatures=P,Z._popupWindowTarget=O,Z._silent_redirect_uri=D,Z._silentRequestTimeout=F,Z._automaticSilentRenew=X,Z._validateSubOnSilentRenew=Y,Z._includeIdTokenInSilentRenew=te,Z._accessTokenExpiringNotificationTime=Ae,Z._monitorSession=pe,Z._monitorAnonymousSession=de,Z._checkSessionInterval=Re,Z._stopCheckSessionOnError=ie,me?Z._query_status_response_type=me:arguments[0]&&arguments[0].response_type?Z._query_status_response_type=g.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":Z._query_status_response_type="id_token",Z._revokeAccessTokenOnSignout=ee,Z._redirectNavigator=Pe,Z._popupNavigator=Ye,Z._iframeNavigator=H,Z._userStore=ae,Z}return function(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}(S,_),a(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(o.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.RedirectNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),o=i(42);r.PopupNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.PopupWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c,d,h){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(c,d,h),Promise.resolve()}catch(g){return Promise.reject(g)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var g=d[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(0),s=i(3);r.PopupWindow=function(){function l(c){var d=this;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,v){d._resolve=y,d._reject=v});var h=c.popupWindowTarget||"_blank",g=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",h,g),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(d){return this._popup?d&&d.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=d.id,this._id&&(window["popupCallback_"+d.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=d.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(d){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(d)},l.prototype._error=function(d){o.Log.error("PopupWindow.error: ",d),this._cleanup(),this._reject(new Error(d))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(d){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!d&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(d,h){this._cleanup(h),d?(o.Log.debug("PopupWindow.callback success"),this._success({url:d})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(d,h,g){if(window.opener){if(d=d||window.location.href){var y=s.UrlUtility.parseUrlFragment(d,g);if(y.state){var v="popupCallback_"+y.state,_=window.opener[v];_?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),_(d,h)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),o=i(44);r.IFrameNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.IFrameWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(c),Promise.resolve()}catch(d){return Promise.reject(d)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.IFrameWindow=function(){function s(l){var c=this;(function(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(c){if(c&&c.url){var d=c.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",d),this._timer=window.setTimeout(this._timeout.bind(this),d),this._frame.src=c.url}else this._error("No url provided");return this.promise},s.prototype._success=function(c){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(c){if(o.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var d=c.data;d?this._success({url:d}):this._error("Invalid response from frame")}},s.notifyParent=function(c){o.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),o=i(16),s=i(17);r.UserManagerEvents=function(l){function c(d){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c);var h=function(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}(this,l.call(this,d));return h._userLoaded=new s.Event("User loaded"),h._userUnloaded=new s.Event("User unloaded"),h._silentRenewError=new s.Event("Silent renew error"),h._userSignedIn=new s.Event("User signed in"),h._userSignedOut=new s.Event("User signed out"),h._userSessionChanged=new s.Event("User session changed"),h}return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}(c,l),c.prototype.load=function(h){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,h),g&&this._userLoaded.raise(h)},c.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(h){this._userLoaded.addHandler(h)},c.prototype.removeUserLoaded=function(h){this._userLoaded.removeHandler(h)},c.prototype.addUserUnloaded=function(h){this._userUnloaded.addHandler(h)},c.prototype.removeUserUnloaded=function(h){this._userUnloaded.removeHandler(h)},c.prototype.addSilentRenewError=function(h){this._silentRenewError.addHandler(h)},c.prototype.removeSilentRenewError=function(h){this._silentRenewError.removeHandler(h)},c.prototype._raiseSilentRenewError=function(h){a.Log.debug("UserManagerEvents._raiseSilentRenewError",h.message),this._silentRenewError.raise(h)},c.prototype.addUserSignedIn=function(h){this._userSignedIn.addHandler(h)},c.prototype.removeUserSignedIn=function(h){this._userSignedIn.removeHandler(h)},c.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(h){this._userSignedOut.addHandler(h)},c.prototype.removeUserSignedOut=function(h){this._userSignedOut.removeHandler(h)},c.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(h){this._userSessionChanged.addHandler(h)},c.prototype.removeUserSessionChanged=function(h){this._userSessionChanged.removeHandler(h)},c.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(o.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function h(g,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,v){return y&&h(g.prototype,y),v&&h(g,v),g}}(),o=i(0),s=i(1),l=i(17);function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function d(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?h:g}r.Timer=function(h){function g(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,g);var S=d(this,h.call(this,y));return S._timer=v,S._nowFunc=_||function(){return Date.now()/1e3},S}return function(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}(g,h),g.prototype.init=function(v){v<=0&&(v=1),v=parseInt(v);var _=this.now+v;if(this.expiration===_&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",v),this._expiration=_;var S=5;v<S&&(S=v),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},g.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},g.prototype._callback=function(){var v=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",v),this._expiration<=this.now&&(this.cancel(),h.prototype.raise.call(this))},a(g,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),g}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(C0)),C0.exports}var xR=Nte();function Fte(e,t){var n,r,i,a;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=e.error_description)!==null&&r!==void 0?r:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(i=e.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(a=e.error_description)!==null&&a!==void 0?a:""}`)}function jte(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function $te(e,t){var n;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=dte(t.idTokenSigningAlgValuesSupported,iw),i={client_name:e.clientName,application_type:"web",redirect_uris:[(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(o.ok){const s=await o.json();return jte(s,e),{clientId:s.client_id,clientSecret:s.client_secret,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&Fte(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function Ute(e){return e.error!==void 0&&typeof e.error=="string"}function Hk(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function Bte(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function qte(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function zte(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function Hte(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function Vte(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function Kte(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function Gte(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function l9(e,t){if(Ute(e))throw new s9(`Token endpoint returned error [${e.error}]${Hk(e)?`: ${e.error_description}`:""}${Bte(e)?` (see ${e.error_uri})`:""}`,e.error,Hk(e)?e.error_description:void 0);if(!qte(e))throw new fm(["access_token"]);if(!zte(e))throw new fm(["id_token"]);if(!Vte(e))throw new fm(["token_type"]);if(!Kte(e))throw new fm(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function Wte(e,t,n,r){Gte(e,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await Ste(),i.DPoP=await VP(e.tokenEndpoint,"POST",a)),t.clientSecret&&(i.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},c=await(await fetch(e.tokenEndpoint,s)).json(),d=l9(c,r),{webId:h,clientId:g}=await e9(d.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:d.access_token,idToken:d.id_token,refreshToken:Hte(d)?d.refresh_token:void 0,webId:h,clientId:g,dpopKey:a,expiresIn:d.expires_in}}const Qte=e=>{try{return new URL(e),!0}catch{return!1}};async function Zte(e,t,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:e,scope:Xq};let a={};r!==void 0&&(a={DPoP:await VP(t.tokenEndpoint,"POST",r)});let o={};n.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:Qte(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=l9(l,r!==void 0),{webId:d}=await e9(c.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:d,dpopKey:r,expiresIn:c.expires_in}}function Jte(e){const t=n9(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function Yte(){await new xR.OidcClient({response_mode:"query"}).clearStaleState(new xR.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let r=0;r<=t.length;r+=1){const i=t.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>t.removeItem(r))}class Xte extends _te{constructor(t,n){super(t,n)}}class ene extends yte{constructor(){super(...arguments),this.login=async(t,n)=>{var r,i;await this.sessionInfoManager.clear(t.sessionId);const a=(r=t.redirectUrl)!==null&&r!==void 0?r:Jte(window.location.href);if(!t9(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...t,redirectUrl:a,clientName:(i=t.clientName)!==null&&i!==void 0?i:t.clientId,eventEmitter:n})},this.validateCurrentSession=async t=>{const n=await this.sessionInfoManager.get(t);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(t,n)=>{try{const r=await this.redirectHandler.handle(t,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(t),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(t),n.emit(ui.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(t){const n=n9(t).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function Vk(e){return typeof e.oidcIssuer=="string"}function Kk(e){return typeof e.redirectUrl=="string"}class tne{constructor(t,n,r,i){this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(t){return Vk(t)&&Kk(t)}async handle(t){if(!Vk(t))throw new SR(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!Kk(t))throw new SR(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const n=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer),r=await mte(t,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:t.tokenType.toLowerCase()==="dpop",...t,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class nne extends ite{async handle(t){var n;const r={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl,response_type:"code",scope:Xq,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=t.prompt)!==null&&n!==void 0?n:"consent"},i=new xR.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:t,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const rne=".well-known/openid-configuration",Gk={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function ine(e){const t={};return Object.keys(e).forEach(n=>{Gk[n]&&(t[Gk[n].toKey]=e[n])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}class KP{constructor(t){this.storageUtility=t,this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let n;const r=new URL(rne,t.endsWith("/")?t:`${t}/`).href,i=await fetch(r);try{n=ine(await i.json())}catch(a){throw new SR(`[${t.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(KP.getLocalStorageKey(t),JSON.stringify(n)),n}}async function ane(e,t){await i9(e,t),await Yte()}class one extends ute{async get(t){const[n,r,i,a,o,s,l,c]=await Promise.all([this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(t,"webId",{secure:!0}),this.storageUtility.getForUser(t,"clientId",{secure:!1}),this.storageUtility.getForUser(t,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(t,"refreshToken",{secure:!0}),this.storageUtility.getForUser(t,"issuer",{secure:!1}),this.storageUtility.getForUser(t,"tokenType",{secure:!1})]);if(typeof o=="string"&&!t9(o)){await Promise.all([this.storageUtility.deleteAllUserData(t,{secure:!1}),this.storageUtility.deleteAllUserData(t,{secure:!0})]);return}if(c!==void 0&&!fte(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:t,webId:r,isLoggedIn:n==="true",redirectUrl:o,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:c??"DPoP"}}async clear(t){return ane(t,this.storageUtility)}}class sne{async canHandle(t){try{return new URL(t),!0}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t){return r9()}}class une{constructor(t,n,r,i,a){this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(t){try{const n=new URL(t);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(!await this.canHandle(t))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:l,dpop:c}=await o9(a,this.storageUtility,this.issuerConfigFetcher),d=r.searchParams.get("iss");if(typeof d=="string"&&d!==o.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const h=await this.clientRegistrar.getClient({sessionId:a},o),g=Date.now(),y=await Wte(o,h,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let v;y.refreshToken!==void 0&&(v={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const _=await Ate(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:v,eventEmitter:n,expiresIn:y.expiresIn});await vte(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const S=await this.sessionInfoManager.get(a);if(!S)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(S,{fetch:_,getLogoutUrl:cte({idTokenHint:y.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?g+y.expiresIn*1e3:void 0})}}class lne extends nte{constructor(t){super(t)}}class cne{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,n){this.storage.setItem(t,n)}async delete(t){this.storage.removeItem(t)}}class fne{redirect(t,n){n&&n.handleRedirect?n.handleRedirect(t):n&&n.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}}class dne{constructor(t){this.storageUtility=t,this.storageUtility=t}async getClient(t,n){const[r,i,a,o]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientType",{secure:!1})]);if(r&&gte(o))return{clientId:r,clientSecret:i,clientName:a,clientType:o};try{const s=await $te(t,n),l={clientId:s.clientId,clientType:"dynamic"};return s.clientSecret&&(l.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(t.sessionId,l,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class hne{async canHandle(t){try{return new URL(t).searchParams.has("error")}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(n!==void 0){const r=new URL(t),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ui.ERROR,i,a)}return r9()}}class pne{constructor(t,n,r){this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(t,n,r,i){const a=await o9(t,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);if(n===void 0)throw new Error(`Session [${t}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${t}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await Zte(n,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(i==null||i.emit(ui.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function Wk(e){const t=new wte,n=e.secureStorage||t,r=e.insecureStorage||new cne,i=new Xte(n,r),a=new KP(i),o=new dne(i),s=new one(i),l=new pne(i,a,o),c=new fne,d=new tne(i,new nne(i,c),a,o),h=new lne([new hne,new une(i,s,a,o,l),new sne]);return new ene(d,h,new ste(s,c),s,a)}const XS=`${Yq}currentSession`,ER=`${Yq}currentUrl`;async function gne(e,t,n){var r;const i=await t.validateCurrentSession(e);return i!==null?(window.localStorage.setItem(ER,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function mne(e){return!!(e!=null&&e.isLoggedIn)}class yne{constructor(t={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(XS),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ui.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,o=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const s=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(mne(s)){this.setSessionInfo(s);const l=window.localStorage.getItem(ER);l===null?this.events.emit(ui.LOGIN):(window.localStorage.removeItem(ER),this.events.emit(ui.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(XS);if(l!==null&&await gne(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,s},this.events=new Dte,t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=Wk({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=Wk({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId,clientAppId:t.sessionInfo.clientAppId}:this.info={sessionId:n??Ite(),isLoggedIn:!1},this.events.on(ui.LOGIN,()=>window.localStorage.setItem(XS,this.info.sessionId)),this.events.on(ui.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ui.ERROR,()=>this.internalLogout(!1))}setSessionInfo(t){this.info.isLoggedIn=t.isLoggedIn,this.info.webId=t.webId,this.info.sessionId=t.sessionId,this.info.clientAppId=t.clientAppId,this.info.expirationDate=t.expirationDate,this.events.on(ui.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let ex;function dy(){return typeof ex>"u"&&(ex=new yne),ex}const rr=(...e)=>dy().fetch(...e),vne=(...e)=>dy().login(...e),_ne=(...e)=>dy().logout(...e),wne=(...e)=>dy().handleIncomingRedirect(...e);var tx,Qk;function bne(){if(Qk)return tx;Qk=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(v){return v.replace(t,"")}function c(v){return n.test(v)}function d(v,_){for(;c(v[_]);)_++;return _}function h(v){return a.test(v)||!o.test(v)}function g(v,_){return Object.keys(v).length===Object.keys(_).length&&Object.keys(v).every(S=>S in _&&v[S]===_[S])}class y{constructor(_){this.refs=[],_&&this.parse(_)}rel(_){for(var S=[],b=_.toLowerCase(),x=0;x<this.refs.length;x++)typeof this.refs[x].rel=="string"&&this.refs[x].rel.toLowerCase()===b&&S.push(this.refs[x]);return S}get(_,S){_=_.toLowerCase(),S=S.toLowerCase();for(var b=[],x=0;x<this.refs.length;x++)typeof this.refs[x][_]=="string"&&this.refs[x][_].toLowerCase()===S&&b.push(this.refs[x]);return b}set(_){return this.refs.push(_),this}setUnique(_){return this.refs.some(S=>g(S,_))||this.refs.push(_),this}has(_,S){_=_.toLowerCase(),S=S.toLowerCase();for(var b=0;b<this.refs.length;b++)if(typeof this.refs[b][_]=="string"&&this.refs[b][_].toLowerCase()===S)return!0;return!1}parse(_,A){A=A||0,_=A?_.slice(A):_,_=l(_).replace(r,"");for(var b=s.IDLE,x=_.length,A=0,P=null;A<x;)if(b===s.IDLE){if(c(_[A])){A++;continue}else if(_[A]==="<"){P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P));var O=_.indexOf(">",A);if(O===-1)throw new Error("Expected end of URI delimiter at offset "+A);P={uri:_.slice(A+1,O)},A=O,b=s.URI}else throw new Error('Unexpected character "'+_[A]+'" at offset '+A);A++}else if(b===s.URI)if(c(_[A])){A++;continue}else if(_[A]===";")b=s.ATTR,A++;else if(_[A]===",")b=s.IDLE,A++;else throw new Error('Unexpected character "'+_[A]+'" at offset '+A);else if(b===s.ATTR){if(_[A]===";"||c(_[A])){A++;continue}var O=_.indexOf("=",A);O===-1&&(O=_.indexOf(";",A)),O===-1&&(O=_.length);var D=l(_.slice(A,O)).toLowerCase(),F="";if(A=O+1,A=d(_,A),_[A]==='"')for(A++;A<x;){if(_[A]==='"'){A++;break}_[A]==="\\"&&A++,F+=_[A],A++}else{for(var O=A+1;!i.test(_[O])&&O<x;)O++;F=_.slice(A,O),A=O}switch(P[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?P[D]=y.parseExtendedValue(F):(F=D==="type"?F.toLowerCase():F,P[D]!=null?Array.isArray(P[D])?P[D].push(F):P[D]=[P[D],F]:P[D]=F)),_[A]){case",":b=s.IDLE;break;case";":b=s.ATTR;break}A++}else throw new Error('Unknown parser state "'+b+'"');return P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P)),P=null,this}toString(){for(var _=[],S="",b=null,x=0;x<this.refs.length;x++)b=this.refs[x],S=Object.keys(this.refs[x]).reduce(function(A,P){return P==="uri"?A:A+"; "+y.formatAttribute(P,b[P])},"<"+b.uri+">"),_.push(S);return _.join(", ")}}return y.isCompatibleEncoding=function(v){return e.test(v)},y.parse=function(v,_){return new y().parse(v,_)},y.isSingleOccurenceAttr=function(v){return v==="rel"||v==="type"||v==="media"||v==="title"||v==="title*"},y.isTokenAttr=function(v){return v==="rel"||v==="type"||v==="anchor"},y.escapeQuotes=function(v){return v.replace(/"/g,'\\"')},y.expandRelations=function(v){var _=v.rel.split(" ");return _.map(function(S){var b=Object.assign({},v);return b.rel=S,b})},y.parseExtendedValue=function(v){var _=/([^']+)?(?:'([^']*)')?(.+)/.exec(v);return{language:_[2].toLowerCase(),encoding:y.isCompatibleEncoding(_[1])?null:_[1].toLowerCase(),value:y.isCompatibleEncoding(_[1])?decodeURIComponent(_[3]):_[3]}},y.formatExtendedAttribute=function(v,_){var S=(_.encoding||"utf-8").toUpperCase(),b=_.language||"en",x="";return Buffer.isBuffer(_.value)&&y.isCompatibleEncoding(S)?x=_.value.toString(S):Buffer.isBuffer(_.value)?x=_.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):x=encodeURIComponent(_.value),v+"="+S+"'"+b+"'"+x},y.formatAttribute=function(v,_){return Array.isArray(_)?_.map(S=>y.formatAttribute(v,S)).join("; "):v[v.length-1]==="*"||typeof _!="string"?y.formatExtendedAttribute(v,_):(y.isTokenAttr(v)?_=h(_)?'"'+y.escapeQuotes(_)+'"':y.escapeQuotes(_):h(_)&&(_=encodeURIComponent(_),_=_.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),_='"'+_+'"'),v+"="+_)},tx=y,tx}var Sne=bne();const c9=Lr(Sne),rg="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ig="http://www.w3.org/2001/XMLSchema#",nx="http://www.w3.org/2000/10/swap/",Gi={xsd:{decimal:`${ig}decimal`,boolean:`${ig}boolean`,double:`${ig}double`,integer:`${ig}integer`,string:`${ig}string`},rdf:{type:`${rg}type`,nil:`${rg}nil`,first:`${rg}first`,rest:`${rg}rest`,langString:`${rg}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${nx}reify#forSome`,forAll:`${nx}reify#forAll`},log:{implies:`${nx}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var rx,Zk;function xne(){if(Zk)return rx;Zk=1;let e;return rx=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:om):t=>(e||(e=Promise.resolve())).then(t).catch(n=>setTimeout(()=>{throw n},0)),rx}var Ene=xne();const f9=Lr(Ene),{xsd:Wv}=Gi,Cne=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Jk={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Tne=/[\x00-\x20<>\\"\{\}\|\^\`]/,Ane={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Rne=/$0^/;let GP=class{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in Ane)&&this[n]instanceof RegExp&&(this[n]=Rne)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this._comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",g="",y="",v=null,_=0,S=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",g=v[1];else if(v=this._iri.exec(r)){if(g=this._unescape(v[1]),g===null||Tne.test(g))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,g=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",g=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",g=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",g=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",g=v[0],y=typeof v[1]=="string"?Wv.double:typeof v[2]=="string"?Wv.decimal:Wv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",g=v[0],y=Wv.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",g="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,g="="):(_=2,g=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",g=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",g=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const b=_||v[0].length,x=a(h,g,y,c,b);this.previousToken=x,this._previousMarker=h,r=r.substr(b,r.length)}function a(s,l,c,d,h){const g=r?i-r.length:i,y=g+h,v={type:s,value:l,prefix:c,line:d,start:g,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(Cne,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in Jk?Jk[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")f9(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}};function Pne(e){return!!e&&e.termType==="NamedNode"}function One(e){return!!e&&e.termType==="BlankNode"}function Lne(e){return!!e&&e.termType==="Literal"}function Ine(e){return!!e&&e.termType==="Variable"}function xh(e){return!!e&&e.termType==="DefaultGraph"}function Mne(e){return xh(e.graph)}function Dne(e,t){return d9({"":e.value||e},t)("")}function d9(e,t){const n=Object.create(null);for(const i in e)r(i,e[i]);t=t||Kl;function r(i,a){if(typeof a=="string"){const o=Object.create(null);n[i]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const h9=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:Mne,isBlankNode:One,isDefaultGraph:xh,isLiteral:Lne,isNamedNode:Pne,isVariable:Ine,prefix:Dne,prefixes:d9},Symbol.toStringTag,{value:"Module"})),{rdf:kne,xsd:rf}=Gi;let hy,Nne=0;const Kl={namedNode:Fne,blankNode:jne,variable:Une,literal:$ne,defaultGraph:Bne,quad:Yk,triple:Yk};let Ms=class p9{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof p9?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Xr=class extends Ms{get termType(){return"NamedNode"}},Qd=class g9 extends Ms{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new Xr(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?rf.string:kne.langString}equals(t){return t instanceof g9?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},WP=class extends Ms{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},QP=class extends Ms{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},ZP=class extends Ms{constructor(){return super(""),hy||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};hy=new ZP;function uf(e,t,n){if(t=t||Kl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Kl)return new Qd(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(uf(e[0],t,!0),uf(e[1],t,!0),uf(e[2],t,!0),e[3]&&uf(e[3],t,!0))}function fa(e,t){if(typeof e=="string")return e;if(e instanceof Ms&&e.termType!=="Quad")return e.id;if(!e)return hy.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==rf.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[fa(e.subject,!0),fa(e.predicate,!0),fa(e.object,!0)];return xh(e.graph)||n.push(fa(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Uo=class extends Ms{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||hy}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function Fne(e){return new Xr(e)}function jne(e){return new WP(e||`n3-${Nne++}`)}function $ne(e,t){if(typeof t=="string")return new Qd(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=rf.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?rf.integer:rf.double:(n=rf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===rf.string?new Qd(`"${e}"`):new Qd(`"${e}"^^${n}`)}function Une(e){return new QP(e)}function Bne(){return hy}function Yk(e,t,n,r){return new Uo(e,t,n,r)}let Xk=0,zh=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&m9(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new GP({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){Xk=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=ix}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Xk++}_`,this._prefixCallback=r||ix,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(o,s)=>{o?a=o:s&&i.push(s)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),a)throw a;return i}this._callback=n,this._lexer.tokenize(t,(i,a)=>{i!==null?(this._callback(i),this._callback=ix):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function ix(){}function m9(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Gi.rdf.first),e.RDF_REST=n(Gi.rdf.rest),e.RDF_NIL=n(Gi.rdf.nil),e.N3_FORALL=n(Gi.r.forAll),e.N3_FORSOME=n(Gi.r.forSome),e.ABBREVIATIONS={a:n(Gi.rdf.type),"=":n(Gi.owl.sameAs),">":n(Gi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}m9(zh.prototype,Kl);const ag=Kl.defaultGraph(),{rdf:qne,xsd:Cd}=Gi,eN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,tN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,zne={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let og=class extends Ms{equals(t){return t===this}},Vw=class{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=ag,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${rN(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return ag.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(ag.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){return t.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),eN.test(n)&&(n=n.replace(tN,nN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(eN.test(n)&&(n=n.replace(tN,nN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Cd.string)return`"${n}"`}else switch(t.datatype.value){case Cd.string:return`"${n}"`;case Cd.boolean:if(n==="true"||n==="false")return n;break;case Cd.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Cd.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Cd.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===qne.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${xh(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,ag,i):this._writeQuad(t,n,r,i||ag,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=rN(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new og("[]");case 1:if(i=r[0],!(i.object instanceof og))return new og(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new og(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new og(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function nN(e){let t=zne[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function rN(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var ax={exports:{}},ox={exports:{}},sx={},sg={},iN;function Hne(){if(iN)return sg;iN=1,sg.byteLength=s,sg.toByteArray=c,sg.fromByteArray=g;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");_===-1&&(_=v);var S=_===v?0:4-_%4;return[_,S]}function s(y){var v=o(y),_=v[0],S=v[1];return(_+S)*3/4-S}function l(y,v,_){return(v+_)*3/4-_}function c(y){var v,_=o(y),S=_[0],b=_[1],x=new n(l(y,S,b)),A=0,P=b>0?S-4:S,O;for(O=0;O<P;O+=4)v=t[y.charCodeAt(O)]<<18|t[y.charCodeAt(O+1)]<<12|t[y.charCodeAt(O+2)]<<6|t[y.charCodeAt(O+3)],x[A++]=v>>16&255,x[A++]=v>>8&255,x[A++]=v&255;return b===2&&(v=t[y.charCodeAt(O)]<<2|t[y.charCodeAt(O+1)]>>4,x[A++]=v&255),b===1&&(v=t[y.charCodeAt(O)]<<10|t[y.charCodeAt(O+1)]<<4|t[y.charCodeAt(O+2)]>>2,x[A++]=v>>8&255,x[A++]=v&255),x}function d(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function h(y,v,_){for(var S,b=[],x=v;x<_;x+=3)S=(y[x]<<16&16711680)+(y[x+1]<<8&65280)+(y[x+2]&255),b.push(d(S));return b.join("")}function g(y){for(var v,_=y.length,S=_%3,b=[],x=16383,A=0,P=_-S;A<P;A+=x)b.push(h(y,A,A+x>P?P:A+x));return S===1?(v=y[_-1],b.push(e[v>>2]+e[v<<4&63]+"==")):S===2&&(v=(y[_-2]<<8)+y[_-1],b.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),b.join("")}return sg}var Qv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var aN;function Vne(){return aN||(aN=1,Qv.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,c=l>>1,d=-7,h=n?i-1:0,g=n?-1:1,y=e[t+h];for(h+=g,a=y&(1<<-d)-1,y>>=-d,d+=s;d>0;a=a*256+e[t+h],h+=g,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=r;d>0;o=o*256+e[t+h],h+=g,d-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(y?-1:1)*o*Math.pow(2,a-r)},Qv.write=function(e,t,n,r,i,a){var o,s,l,c=a*8-i-1,d=(1<<c)-1,h=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,v=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=g/l:t+=g*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=d?(s=0,o=d):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o=o+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+y]=s&255,y+=v,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+y]=o&255,y+=v,o/=256,c-=8);e[n+y-v]|=_*128}),Qv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oN;function ku(){return oN||(oN=1,function(e){const t=Hne(),n=Vne(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const ne=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(ne,z),ne.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(ne){if(ne>i)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const z=new Uint8Array(ne);return Object.setPrototypeOf(z,s.prototype),z}function s(ne,z,W){if(typeof ne=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ne)}return l(ne,z,W)}s.poolSize=8192;function l(ne,z,W){if(typeof ne=="string")return g(ne,z);if(ArrayBuffer.isView(ne))return v(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(nt(ne,ArrayBuffer)||ne&&nt(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(ne,SharedArrayBuffer)||ne&&nt(ne.buffer,SharedArrayBuffer)))return _(ne,z,W);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=ne.valueOf&&ne.valueOf();if(G!=null&&G!==ne)return s.from(G,z,W);const je=S(ne);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return s.from(ne[Symbol.toPrimitive]("string"),z,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}s.from=function(ne,z,W){return l(ne,z,W)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function d(ne,z,W){return c(ne),ne<=0?o(ne):z!==void 0?typeof W=="string"?o(ne).fill(z,W):o(ne).fill(z):o(ne)}s.alloc=function(ne,z,W){return d(ne,z,W)};function h(ne){return c(ne),o(ne<0?0:b(ne)|0)}s.allocUnsafe=function(ne){return h(ne)},s.allocUnsafeSlow=function(ne){return h(ne)};function g(ne,z){if((typeof z!="string"||z==="")&&(z="utf8"),!s.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const W=A(ne,z)|0;let G=o(W);const je=G.write(ne,z);return je!==W&&(G=G.slice(0,je)),G}function y(ne){const z=ne.length<0?0:b(ne.length)|0,W=o(z);for(let G=0;G<z;G+=1)W[G]=ne[G]&255;return W}function v(ne){if(nt(ne,Uint8Array)){const z=new Uint8Array(ne);return _(z.buffer,z.byteOffset,z.byteLength)}return y(ne)}function _(ne,z,W){if(z<0||ne.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<z+(W||0))throw new RangeError('"length" is outside of buffer bounds');let G;return z===void 0&&W===void 0?G=new Uint8Array(ne):W===void 0?G=new Uint8Array(ne,z):G=new Uint8Array(ne,z,W),Object.setPrototypeOf(G,s.prototype),G}function S(ne){if(s.isBuffer(ne)){const z=b(ne.length)|0,W=o(z);return W.length===0||ne.copy(W,0,0,z),W}if(ne.length!==void 0)return typeof ne.length!="number"||gt(ne.length)?o(0):y(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return y(ne.data)}function b(ne){if(ne>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ne|0}function x(ne){return+ne!=ne&&(ne=0),s.alloc(+ne)}s.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==s.prototype},s.compare=function(z,W){if(nt(z,Uint8Array)&&(z=s.from(z,z.offset,z.byteLength)),nt(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),!s.isBuffer(z)||!s.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===W)return 0;let G=z.length,je=W.length;for(let Je=0,ke=Math.min(G,je);Je<ke;++Je)if(z[Je]!==W[Je]){G=z[Je],je=W[Je];break}return G<je?-1:je<G?1:0},s.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(z,W){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return s.alloc(0);let G;if(W===void 0)for(W=0,G=0;G<z.length;++G)W+=z[G].length;const je=s.allocUnsafe(W);let Je=0;for(G=0;G<z.length;++G){let ke=z[G];if(nt(ke,Uint8Array))Je+ke.length>je.length?(s.isBuffer(ke)||(ke=s.from(ke)),ke.copy(je,Je)):Uint8Array.prototype.set.call(je,ke,Je);else if(s.isBuffer(ke))ke.copy(je,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=ke.length}return je};function A(ne,z){if(s.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||nt(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const W=ne.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&W===0)return 0;let je=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return ye(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return Fe(ne).length;default:if(je)return G?-1:ye(ne).length;z=(""+z).toLowerCase(),je=!0}}s.byteLength=A;function P(ne,z,W){let G=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,z>>>=0,W<=z))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return Re(this,z,W);case"utf8":case"utf-8":return se(this,z,W);case"ascii":return de(this,z,W);case"latin1":case"binary":return ue(this,z,W);case"base64":return te(this,z,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,z,W);default:if(G)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),G=!0}}s.prototype._isBuffer=!0;function O(ne,z,W){const G=ne[z];ne[z]=ne[W],ne[W]=G}s.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<z;W+=2)O(this,W,W+1);return this},s.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<z;W+=4)O(this,W,W+3),O(this,W+1,W+2);return this},s.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<z;W+=8)O(this,W,W+7),O(this,W+1,W+6),O(this,W+2,W+5),O(this,W+3,W+4);return this},s.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?se(this,0,z):P.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(z){if(!s.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:s.compare(this,z)===0},s.prototype.inspect=function(){let z="";const W=e.INSPECT_MAX_BYTES;return z=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(z+=" ... "),"<Buffer "+z+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(z,W,G,je,Je){if(nt(z,Uint8Array)&&(z=s.from(z,z.offset,z.byteLength)),!s.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(W===void 0&&(W=0),G===void 0&&(G=z?z.length:0),je===void 0&&(je=0),Je===void 0&&(Je=this.length),W<0||G>z.length||je<0||Je>this.length)throw new RangeError("out of range index");if(je>=Je&&W>=G)return 0;if(je>=Je)return-1;if(W>=G)return 1;if(W>>>=0,G>>>=0,je>>>=0,Je>>>=0,this===z)return 0;let ke=Je-je,Rt=G-W;const It=Math.min(ke,Rt),Nt=this.slice(je,Je),Ot=z.slice(W,G);for(let zt=0;zt<It;++zt)if(Nt[zt]!==Ot[zt]){ke=Nt[zt],Rt=Ot[zt];break}return ke<Rt?-1:Rt<ke?1:0};function D(ne,z,W,G,je){if(ne.length===0)return-1;if(typeof W=="string"?(G=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,gt(W)&&(W=je?0:ne.length-1),W<0&&(W=ne.length+W),W>=ne.length){if(je)return-1;W=ne.length-1}else if(W<0)if(je)W=0;else return-1;if(typeof z=="string"&&(z=s.from(z,G)),s.isBuffer(z))return z.length===0?-1:F(ne,z,W,G,je);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(ne,z,W):Uint8Array.prototype.lastIndexOf.call(ne,z,W):F(ne,[z],W,G,je);throw new TypeError("val must be string, number or Buffer")}function F(ne,z,W,G,je){let Je=1,ke=ne.length,Rt=z.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(ne.length<2||z.length<2)return-1;Je=2,ke/=2,Rt/=2,W/=2}function It(Ot,zt){return Je===1?Ot[zt]:Ot.readUInt16BE(zt*Je)}let Nt;if(je){let Ot=-1;for(Nt=W;Nt<ke;Nt++)if(It(ne,Nt)===It(z,Ot===-1?0:Nt-Ot)){if(Ot===-1&&(Ot=Nt),Nt-Ot+1===Rt)return Ot*Je}else Ot!==-1&&(Nt-=Nt-Ot),Ot=-1}else for(W+Rt>ke&&(W=ke-Rt),Nt=W;Nt>=0;Nt--){let Ot=!0;for(let zt=0;zt<Rt;zt++)if(It(ne,Nt+zt)!==It(z,zt)){Ot=!1;break}if(Ot)return Nt}return-1}s.prototype.includes=function(z,W,G){return this.indexOf(z,W,G)!==-1},s.prototype.indexOf=function(z,W,G){return D(this,z,W,G,!0)},s.prototype.lastIndexOf=function(z,W,G){return D(this,z,W,G,!1)};function Q(ne,z,W,G){W=Number(W)||0;const je=ne.length-W;G?(G=Number(G),G>je&&(G=je)):G=je;const Je=z.length;G>Je/2&&(G=Je/2);let ke;for(ke=0;ke<G;++ke){const Rt=parseInt(z.substr(ke*2,2),16);if(gt(Rt))return ke;ne[W+ke]=Rt}return ke}function X(ne,z,W,G){return tt(ye(z,ne.length-W),ne,W,G)}function U(ne,z,W,G){return tt(He(z),ne,W,G)}function Y(ne,z,W,G){return tt(Fe(z),ne,W,G)}function ce(ne,z,W,G){return tt(Ee(z,ne.length-W),ne,W,G)}s.prototype.write=function(z,W,G,je){if(W===void 0)je="utf8",G=this.length,W=0;else if(G===void 0&&typeof W=="string")je=W,G=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(G)?(G=G>>>0,je===void 0&&(je="utf8")):(je=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Je=this.length-W;if((G===void 0||G>Je)&&(G=Je),z.length>0&&(G<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Q(this,z,W,G);case"utf8":case"utf-8":return X(this,z,W,G);case"ascii":case"latin1":case"binary":return U(this,z,W,G);case"base64":return Y(this,z,W,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,z,W,G);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(ne,z,W){return z===0&&W===ne.length?t.fromByteArray(ne):t.fromByteArray(ne.slice(z,W))}function se(ne,z,W){W=Math.min(ne.length,W);const G=[];let je=z;for(;je<W;){const Je=ne[je];let ke=null,Rt=Je>239?4:Je>223?3:Je>191?2:1;if(je+Rt<=W){let It,Nt,Ot,zt;switch(Rt){case 1:Je<128&&(ke=Je);break;case 2:It=ne[je+1],(It&192)===128&&(zt=(Je&31)<<6|It&63,zt>127&&(ke=zt));break;case 3:It=ne[je+1],Nt=ne[je+2],(It&192)===128&&(Nt&192)===128&&(zt=(Je&15)<<12|(It&63)<<6|Nt&63,zt>2047&&(zt<55296||zt>57343)&&(ke=zt));break;case 4:It=ne[je+1],Nt=ne[je+2],Ot=ne[je+3],(It&192)===128&&(Nt&192)===128&&(Ot&192)===128&&(zt=(Je&15)<<18|(It&63)<<12|(Nt&63)<<6|Ot&63,zt>65535&&zt<1114112&&(ke=zt))}}ke===null?(ke=65533,Rt=1):ke>65535&&(ke-=65536,G.push(ke>>>10&1023|55296),ke=56320|ke&1023),G.push(ke),je+=Rt}return _e(G)}const pe=4096;function _e(ne){const z=ne.length;if(z<=pe)return String.fromCharCode.apply(String,ne);let W="",G=0;for(;G<z;)W+=String.fromCharCode.apply(String,ne.slice(G,G+=pe));return W}function de(ne,z,W){let G="";W=Math.min(ne.length,W);for(let je=z;je<W;++je)G+=String.fromCharCode(ne[je]&127);return G}function ue(ne,z,W){let G="";W=Math.min(ne.length,W);for(let je=z;je<W;++je)G+=String.fromCharCode(ne[je]);return G}function Re(ne,z,W){const G=ne.length;(!z||z<0)&&(z=0),(!W||W<0||W>G)&&(W=G);let je="";for(let Je=z;Je<W;++Je)je+=qt[ne[Je]];return je}function k(ne,z,W){const G=ne.slice(z,W);let je="";for(let Je=0;Je<G.length-1;Je+=2)je+=String.fromCharCode(G[Je]+G[Je+1]*256);return je}s.prototype.slice=function(z,W){const G=this.length;z=~~z,W=W===void 0?G:~~W,z<0?(z+=G,z<0&&(z=0)):z>G&&(z=G),W<0?(W+=G,W<0&&(W=0)):W>G&&(W=G),W<z&&(W=z);const je=this.subarray(z,W);return Object.setPrototypeOf(je,s.prototype),je};function ie(ne,z,W){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+z>W)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=this[z],Je=1,ke=0;for(;++ke<W&&(Je*=256);)je+=this[z+ke]*Je;return je},s.prototype.readUintBE=s.prototype.readUIntBE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=this[z+--W],Je=1;for(;W>0&&(Je*=256);)je+=this[z+--W]*Je;return je},s.prototype.readUint8=s.prototype.readUInt8=function(z,W){return z=z>>>0,W||ie(z,1,this.length),this[z]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(z,W){return z=z>>>0,W||ie(z,2,this.length),this[z]|this[z+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(z,W){return z=z>>>0,W||ie(z,2,this.length),this[z]<<8|this[z+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},s.prototype.readBigUInt64LE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=W+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,Je=this[++z]+this[++z]*2**8+this[++z]*2**16+G*2**24;return BigInt(je)+(BigInt(Je)<<BigInt(32))}),s.prototype.readBigUInt64BE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=W*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],Je=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+G;return(BigInt(je)<<BigInt(32))+BigInt(Je)}),s.prototype.readIntLE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=this[z],Je=1,ke=0;for(;++ke<W&&(Je*=256);)je+=this[z+ke]*Je;return Je*=128,je>=Je&&(je-=Math.pow(2,8*W)),je},s.prototype.readIntBE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=W,Je=1,ke=this[z+--je];for(;je>0&&(Je*=256);)ke+=this[z+--je]*Je;return Je*=128,ke>=Je&&(ke-=Math.pow(2,8*W)),ke},s.prototype.readInt8=function(z,W){return z=z>>>0,W||ie(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},s.prototype.readInt16LE=function(z,W){z=z>>>0,W||ie(z,2,this.length);const G=this[z]|this[z+1]<<8;return G&32768?G|4294901760:G},s.prototype.readInt16BE=function(z,W){z=z>>>0,W||ie(z,2,this.length);const G=this[z+1]|this[z]<<8;return G&32768?G|4294901760:G},s.prototype.readInt32LE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},s.prototype.readInt32BE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},s.prototype.readBigInt64LE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(G<<24);return(BigInt(je)<<BigInt(32))+BigInt(W+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),s.prototype.readBigInt64BE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=(W<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(je)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+G)}),s.prototype.readFloatLE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),n.read(this,z,!0,23,4)},s.prototype.readFloatBE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),n.read(this,z,!1,23,4)},s.prototype.readDoubleLE=function(z,W){return z=z>>>0,W||ie(z,8,this.length),n.read(this,z,!0,52,8)},s.prototype.readDoubleBE=function(z,W){return z=z>>>0,W||ie(z,8,this.length),n.read(this,z,!1,52,8)};function me(ne,z,W,G,je,Je){if(!s.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>je||z<Je)throw new RangeError('"value" argument is out of bounds');if(W+G>ne.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(z,W,G,je){if(z=+z,W=W>>>0,G=G>>>0,!je){const Rt=Math.pow(2,8*G)-1;me(this,z,W,G,Rt,0)}let Je=1,ke=0;for(this[W]=z&255;++ke<G&&(Je*=256);)this[W+ke]=z/Je&255;return W+G},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(z,W,G,je){if(z=+z,W=W>>>0,G=G>>>0,!je){const Rt=Math.pow(2,8*G)-1;me(this,z,W,G,Rt,0)}let Je=G-1,ke=1;for(this[W+Je]=z&255;--Je>=0&&(ke*=256);)this[W+Je]=z/ke&255;return W+G},s.prototype.writeUint8=s.prototype.writeUInt8=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,1,255,0),this[W]=z&255,W+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,65535,0),this[W]=z&255,this[W+1]=z>>>8,W+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,65535,0),this[W]=z>>>8,this[W+1]=z&255,W+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,4294967295,0),this[W+3]=z>>>24,this[W+2]=z>>>16,this[W+1]=z>>>8,this[W]=z&255,W+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,4294967295,0),this[W]=z>>>24,this[W+1]=z>>>16,this[W+2]=z>>>8,this[W+3]=z&255,W+4};function K(ne,z,W,G,je){H(z,G,je,ne,W,7);let Je=Number(z&BigInt(4294967295));ne[W++]=Je,Je=Je>>8,ne[W++]=Je,Je=Je>>8,ne[W++]=Je,Je=Je>>8,ne[W++]=Je;let ke=Number(z>>BigInt(32)&BigInt(4294967295));return ne[W++]=ke,ke=ke>>8,ne[W++]=ke,ke=ke>>8,ne[W++]=ke,ke=ke>>8,ne[W++]=ke,W}function ee(ne,z,W,G,je){H(z,G,je,ne,W,7);let Je=Number(z&BigInt(4294967295));ne[W+7]=Je,Je=Je>>8,ne[W+6]=Je,Je=Je>>8,ne[W+5]=Je,Je=Je>>8,ne[W+4]=Je;let ke=Number(z>>BigInt(32)&BigInt(4294967295));return ne[W+3]=ke,ke=ke>>8,ne[W+2]=ke,ke=ke>>8,ne[W+1]=ke,ke=ke>>8,ne[W]=ke,W+8}s.prototype.writeBigUInt64LE=Se(function(z,W=0){return K(this,z,W,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Se(function(z,W=0){return ee(this,z,W,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(z,W,G,je){if(z=+z,W=W>>>0,!je){const It=Math.pow(2,8*G-1);me(this,z,W,G,It-1,-It)}let Je=0,ke=1,Rt=0;for(this[W]=z&255;++Je<G&&(ke*=256);)z<0&&Rt===0&&this[W+Je-1]!==0&&(Rt=1),this[W+Je]=(z/ke>>0)-Rt&255;return W+G},s.prototype.writeIntBE=function(z,W,G,je){if(z=+z,W=W>>>0,!je){const It=Math.pow(2,8*G-1);me(this,z,W,G,It-1,-It)}let Je=G-1,ke=1,Rt=0;for(this[W+Je]=z&255;--Je>=0&&(ke*=256);)z<0&&Rt===0&&this[W+Je+1]!==0&&(Rt=1),this[W+Je]=(z/ke>>0)-Rt&255;return W+G},s.prototype.writeInt8=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,1,127,-128),z<0&&(z=255+z+1),this[W]=z&255,W+1},s.prototype.writeInt16LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,32767,-32768),this[W]=z&255,this[W+1]=z>>>8,W+2},s.prototype.writeInt16BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,32767,-32768),this[W]=z>>>8,this[W+1]=z&255,W+2},s.prototype.writeInt32LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,2147483647,-2147483648),this[W]=z&255,this[W+1]=z>>>8,this[W+2]=z>>>16,this[W+3]=z>>>24,W+4},s.prototype.writeInt32BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[W]=z>>>24,this[W+1]=z>>>16,this[W+2]=z>>>8,this[W+3]=z&255,W+4},s.prototype.writeBigInt64LE=Se(function(z,W=0){return K(this,z,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Se(function(z,W=0){return ee(this,z,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(ne,z,W,G,je,Je){if(W+G>ne.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Ae(ne,z,W,G,je){return z=+z,W=W>>>0,je||ge(ne,z,W,4),n.write(ne,z,W,G,23,4),W+4}s.prototype.writeFloatLE=function(z,W,G){return Ae(this,z,W,!0,G)},s.prototype.writeFloatBE=function(z,W,G){return Ae(this,z,W,!1,G)};function Ze(ne,z,W,G,je){return z=+z,W=W>>>0,je||ge(ne,z,W,8),n.write(ne,z,W,G,52,8),W+8}s.prototype.writeDoubleLE=function(z,W,G){return Ze(this,z,W,!0,G)},s.prototype.writeDoubleBE=function(z,W,G){return Ze(this,z,W,!1,G)},s.prototype.copy=function(z,W,G,je){if(!s.isBuffer(z))throw new TypeError("argument should be a Buffer");if(G||(G=0),!je&&je!==0&&(je=this.length),W>=z.length&&(W=z.length),W||(W=0),je>0&&je<G&&(je=G),je===G||z.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),z.length-W<je-G&&(je=z.length-W+G);const Je=je-G;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,G,je):Uint8Array.prototype.set.call(z,this.subarray(G,je),W),Je},s.prototype.fill=function(z,W,G,je){if(typeof z=="string"){if(typeof W=="string"?(je=W,W=0,G=this.length):typeof G=="string"&&(je=G,G=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!s.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(z.length===1){const ke=z.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(z=ke)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(W<0||this.length<W||this.length<G)throw new RangeError("Out of range index");if(G<=W)return this;W=W>>>0,G=G===void 0?this.length:G>>>0,z||(z=0);let Je;if(typeof z=="number")for(Je=W;Je<G;++Je)this[Je]=z;else{const ke=s.isBuffer(z)?z:s.from(z,je),Rt=ke.length;if(Rt===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(Je=0;Je<G-W;++Je)this[Je+W]=ke[Je%Rt]}return this};const Pe={};function Ne(ne,z,W){Pe[ne]=class extends W{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(ne,z){return`The "${ne}" argument must be of type number. Received type ${typeof z}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(ne,z,W){let G=`The value of "${ne}" is out of range.`,je=W;return Number.isInteger(W)&&Math.abs(W)>2**32?je=Ye(String(W)):typeof W=="bigint"&&(je=String(W),(W>BigInt(2)**BigInt(32)||W<-(BigInt(2)**BigInt(32)))&&(je=Ye(je)),je+="n"),G+=` It must be ${z}. Received ${je}`,G},RangeError);function Ye(ne){let z="",W=ne.length;const G=ne[0]==="-"?1:0;for(;W>=G+4;W-=3)z=`_${ne.slice(W-3,W)}${z}`;return`${ne.slice(0,W)}${z}`}function oe(ne,z,W){$(z,"offset"),(ne[z]===void 0||ne[z+W]===void 0)&&ae(z,ne.length-(W+1))}function H(ne,z,W,G,je,Je){if(ne>W||ne<z){const ke=typeof z=="bigint"?"n":"";let Rt;throw z===0||z===BigInt(0)?Rt=`>= 0${ke} and < 2${ke} ** ${(Je+1)*8}${ke}`:Rt=`>= -(2${ke} ** ${(Je+1)*8-1}${ke}) and < 2 ** ${(Je+1)*8-1}${ke}`,new Pe.ERR_OUT_OF_RANGE("value",Rt,ne)}oe(G,je,Je)}function $(ne,z){if(typeof ne!="number")throw new Pe.ERR_INVALID_ARG_TYPE(z,"number",ne)}function ae(ne,z,W){throw Math.floor(ne)!==ne?($(ne,W),new Pe.ERR_OUT_OF_RANGE("offset","an integer",ne)):z<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,ne)}const Z=/[^+/0-9A-Za-z-_]/g;function he(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(Z,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function ye(ne,z){z=z||1/0;let W;const G=ne.length;let je=null;const Je=[];for(let ke=0;ke<G;++ke){if(W=ne.charCodeAt(ke),W>55295&&W<57344){if(!je){if(W>56319){(z-=3)>-1&&Je.push(239,191,189);continue}else if(ke+1===G){(z-=3)>-1&&Je.push(239,191,189);continue}je=W;continue}if(W<56320){(z-=3)>-1&&Je.push(239,191,189),je=W;continue}W=(je-55296<<10|W-56320)+65536}else je&&(z-=3)>-1&&Je.push(239,191,189);if(je=null,W<128){if((z-=1)<0)break;Je.push(W)}else if(W<2048){if((z-=2)<0)break;Je.push(W>>6|192,W&63|128)}else if(W<65536){if((z-=3)<0)break;Je.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((z-=4)<0)break;Je.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return Je}function He(ne){const z=[];for(let W=0;W<ne.length;++W)z.push(ne.charCodeAt(W)&255);return z}function Ee(ne,z){let W,G,je;const Je=[];for(let ke=0;ke<ne.length&&!((z-=2)<0);++ke)W=ne.charCodeAt(ke),G=W>>8,je=W%256,Je.push(je),Je.push(G);return Je}function Fe(ne){return t.toByteArray(he(ne))}function tt(ne,z,W,G){let je;for(je=0;je<G&&!(je+W>=z.length||je>=ne.length);++je)z[je+W]=ne[je];return je}function nt(ne,z){return ne instanceof z||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===z.name}function gt(ne){return ne!==ne}const qt=function(){const ne="0123456789abcdef",z=new Array(256);for(let W=0;W<16;++W){const G=W*16;for(let je=0;je<16;++je)z[G+je]=ne[W]+ne[je]}return z}();function Se(ne){return typeof BigInt>"u"?Be:ne}function Be(){throw new Error("BigInt not supported")}}(sx)),sx}var ux,sN;function Vr(){return sN||(sN=1,ux={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean,Uint8Array}),ux}var lx={exports:{}},ug={exports:{}},uN;function $m(){if(uN)return ug.exports;uN=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return ug.exports=e,ug.exports.AbortSignal=t,ug.exports.default=e,ug.exports}var lN;function ga(){return lN||(lN=1,function(e){const t=ku(),{kResistStopPropagation:n,SymbolDispose:r}=Vr(),i=globalThis.AbortSignal||$m().AbortSignal,a=globalThis.AbortController||$m().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||t.Blob,l=typeof s<"u"?function(y){return y instanceof s}:function(y){return!1},c=(g,y)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",g)},d=(g,y)=>{if(typeof g!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",g)};class h extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let v="";for(let _=0;_<y.length;_++)v+=`    ${y[_].stack}
`;super(v),this.name="AggregateError",this.errors=y}}e.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(g){let y=!1;return function(...v){y||(y=!0,g.apply(this,v))}},createDeferredPromise:function(){let g,y;return{promise:new Promise((_,S)=>{g=_,y=S}),resolve:g,reject:y}},promisify(g){return new Promise((y,v)=>{g((_,...S)=>_?v(_):y(...S))})},debuglog(){return function(){}},format(g,...y){return g.replace(/%([sdifj])/g,function(...[v,_]){const S=y.shift();return _==="f"?S.toFixed(6):_==="j"?JSON.stringify(S):_==="s"&&typeof S=="object"?`${S.constructor!==Object?S.constructor.name:""} {}`.trim():S.toString()})},inspect(g){switch(typeof g){case"string":if(g.includes("'"))if(g.includes('"')){if(!g.includes("`")&&!g.includes("${"))return`\`${g}\``}else return`"${g}"`;return`'${g}'`;case"number":return isNaN(g)?"NaN":Object.is(g,-0)?String(g):g;case"bigint":return`${String(g)}n`;case"boolean":case"undefined":return String(g);case"object":return"{}"}},types:{isAsyncFunction(g){return g instanceof o},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:l,deprecate(g,y){return g},addAbortListener:qh().addAbortListener||function(y,v){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);c(y,"signal"),d(v,"listener");let _;return y.aborted?queueMicrotask(()=>v()):(y.addEventListener("abort",v,{__proto__:null,once:!0,[n]:!0}),_=()=>{y.removeEventListener("abort",v)}),{__proto__:null,[r](){var S;(S=_)===null||S===void 0||S()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const v=new a,_=()=>v.abort();return y.forEach(S=>{c(S,"signals"),S.addEventListener("abort",_,{once:!0})}),v.signal.addEventListener("abort",()=>{y.forEach(S=>S.removeEventListener("abort",_))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(lx)),lx.exports}var Zv={},cx,cN;function Ia(){if(cN)return cx;cN=1;const{format:e,inspect:t,AggregateError:n}=ga(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(S,b){if(!S)throw new l.ERR_INTERNAL_ASSERTION(b)}function d(S){let b="",x=S.length;const A=S[0]==="-"?1:0;for(;x>=A+4;x-=3)b=`_${S.slice(x-3,x)}${b}`;return`${S.slice(0,x)}${b}`}function h(S,b,x){if(typeof b=="function")return c(b.length<=x.length,`Code: ${S}; The provided arguments length (${x.length}) does not match the required ones (${b.length}).`),b(...x);const A=(b.match(/%[dfijoOs]/g)||[]).length;return c(A===x.length,`Code: ${S}; The provided arguments length (${x.length}) does not match the required ones (${A}).`),x.length===0?b:e(b,...x)}function g(S,b,x){x||(x=Error);class A extends x{constructor(...O){super(h(S,b,O))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=S,A.prototype[i]=!0,l[S]=A}function y(S){const b=s+S.name;return Object.defineProperty(S,"name",{value:b}),S}function v(S,b){if(S&&b&&S!==b){if(Array.isArray(b.errors))return b.errors.push(S),b;const x=new r([b,S],b.message);return x.code=b.code,x}return S||b}class _ extends Error{constructor(b="The operation was aborted",x=void 0){if(x!==void 0&&typeof x!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",x);super(b,x),this.code="ABORT_ERR",this.name="AbortError"}}return g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(S,b,x)=>{c(typeof S=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let A="The ";S.endsWith(" argument")?A+=`${S} `:A+=`"${S}" ${S.includes(".")?"property":"argument"} `,A+="must be ";const P=[],O=[],D=[];for(const Q of b)c(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?P.push(Q.toLowerCase()):o.test(Q)?O.push(Q):(c(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(O.length>0){const Q=P.indexOf("object");Q!==-1&&(P.splice(P,Q,1),O.push("Object"))}if(P.length>0){switch(P.length){case 1:A+=`of type ${P[0]}`;break;case 2:A+=`one of type ${P[0]} or ${P[1]}`;break;default:{const Q=P.pop();A+=`one of type ${P.join(", ")}, or ${Q}`}}(O.length>0||D.length>0)&&(A+=" or ")}if(O.length>0){switch(O.length){case 1:A+=`an instance of ${O[0]}`;break;case 2:A+=`an instance of ${O[0]} or ${O[1]}`;break;default:{const Q=O.pop();A+=`an instance of ${O.join(", ")}, or ${Q}`}}D.length>0&&(A+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(A+="an "),A+=`${D[0]}`;break;case 2:A+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();A+=`one of ${D.join(", ")}, or ${Q}`}}if(x==null)A+=`. Received ${x}`;else if(typeof x=="function"&&x.name)A+=`. Received function ${x.name}`;else if(typeof x=="object"){var F;if((F=x.constructor)!==null&&F!==void 0&&F.name)A+=`. Received an instance of ${x.constructor.name}`;else{const Q=t(x,{depth:-1});A+=`. Received ${Q}`}}else{let Q=t(x,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),A+=`. Received type ${typeof x} (${Q})`}return A},TypeError),g("ERR_INVALID_ARG_VALUE",(S,b,x="is invalid")=>{let A=t(b);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${x}. Received ${A}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(S,b,x)=>{var A;const P=x!=null&&(A=x.constructor)!==null&&A!==void 0&&A.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${S} to be returned from the "${b}" function but got ${P}.`},TypeError),g("ERR_MISSING_ARGS",(...S)=>{c(S.length>0,"At least one arg needs to be specified");let b;const x=S.length;switch(S=(Array.isArray(S)?S:[S]).map(A=>`"${A}"`).join(" or "),x){case 1:b+=`The ${S[0]} argument`;break;case 2:b+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const A=S.pop();b+=`The ${S.join(", ")}, and ${A} arguments`}break}return`${b} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(S,b,x)=>{c(b,'Missing "range" argument');let A;return Number.isInteger(x)&&Math.abs(x)>2**32?A=d(String(x)):typeof x=="bigint"?(A=String(x),(x>2n**32n||x<-(2n**32n))&&(A=d(A)),A+="n"):A=t(x),`The value of "${S}" is out of range. It must be ${b}. Received ${A}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),cx={AbortError:_,aggregateTwoErrors:y(v),hideStackFrames:y,codes:l},cx}var fx,fN;function py(){if(fN)return fx;fN=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:d,String:h,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=Vr(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:A}}=Ia(),{normalizeEncoding:P}=ga(),{isAsyncFunction:O,isArrayBufferView:D}=ga().types,F={};function Q(Ee){return Ee===(Ee|0)}function X(Ee){return Ee===Ee>>>0}const U=/^[0-7]+$/,Y="must be a 32-bit unsigned integer or an octal string";function ce(Ee,Fe,tt){if(typeof Ee>"u"&&(Ee=tt),typeof Ee=="string"){if(d(U,Ee)===null)throw new b(Fe,Ee,Y);Ee=l(Ee,8)}return pe(Ee,Fe),Ee}const te=v((Ee,Fe,tt=s,nt=o)=>{if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(!i(Ee))throw new x(Fe,"an integer",Ee);if(Ee<tt||Ee>nt)throw new x(Fe,`>= ${tt} && <= ${nt}`,Ee)}),se=v((Ee,Fe,tt=-2147483648,nt=2147483647)=>{if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(!i(Ee))throw new x(Fe,"an integer",Ee);if(Ee<tt||Ee>nt)throw new x(Fe,`>= ${tt} && <= ${nt}`,Ee)}),pe=v((Ee,Fe,tt=!1)=>{if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(!i(Ee))throw new x(Fe,"an integer",Ee);const nt=tt?1:0,gt=4294967295;if(Ee<nt||Ee>gt)throw new x(Fe,`>= ${nt} && <= ${gt}`,Ee)});function _e(Ee,Fe){if(typeof Ee!="string")throw new S(Fe,"string",Ee)}function de(Ee,Fe,tt=void 0,nt){if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(tt!=null&&Ee<tt||nt!=null&&Ee>nt||(tt!=null||nt!=null)&&a(Ee))throw new x(Fe,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Ee)}const ue=v((Ee,Fe,tt)=>{if(!t(tt,Ee)){const gt="must be one of: "+n(r(tt,qt=>typeof qt=="string"?`'${qt}'`:h(qt)),", ");throw new b(Fe,Ee,gt)}});function Re(Ee,Fe){if(typeof Ee!="boolean")throw new S(Fe,"boolean",Ee)}function k(Ee,Fe,tt){return Ee==null||!c(Ee,Fe)?tt:Ee[Fe]}const ie=v((Ee,Fe,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Ee===null||!nt&&e(Ee)||typeof Ee!="object"&&(!gt||typeof Ee!="function"))throw new S(Fe,"Object",Ee)}),me=v((Ee,Fe)=>{if(Ee!=null&&typeof Ee!="object"&&typeof Ee!="function")throw new S(Fe,"a dictionary",Ee)}),K=v((Ee,Fe,tt=0)=>{if(!e(Ee))throw new S(Fe,"Array",Ee);if(Ee.length<tt){const nt=`must be longer than ${tt}`;throw new b(Fe,Ee,nt)}});function ee(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++)_e(Ee[tt],`${Fe}[${tt}]`)}function ge(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++)Re(Ee[tt],`${Fe}[${tt}]`)}function Ae(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++){const nt=Ee[tt],gt=`${Fe}[${tt}]`;if(nt==null)throw new S(gt,"AbortSignal",nt);oe(nt,gt)}}function Ze(Ee,Fe="signal"){if(_e(Ee,Fe),F[Ee]===void 0)throw F[g(Ee)]!==void 0?new A(Ee+" (signals must use all capital letters)"):new A(Ee)}const Pe=v((Ee,Fe="buffer")=>{if(!D(Ee))throw new S(Fe,["Buffer","TypedArray","DataView"],Ee)});function Ne(Ee,Fe){const tt=P(Fe),nt=Ee.length;if(tt==="hex"&&nt%2!==0)throw new b("encoding",Fe,`is invalid for data of length ${nt}`)}function Ye(Ee,Fe="Port",tt=!0){if(typeof Ee!="number"&&typeof Ee!="string"||typeof Ee=="string"&&y(Ee).length===0||+Ee!==+Ee>>>0||Ee>65535||Ee===0&&!tt)throw new _(Fe,Ee,tt);return Ee|0}const oe=v((Ee,Fe)=>{if(Ee!==void 0&&(Ee===null||typeof Ee!="object"||!("aborted"in Ee)))throw new S(Fe,"AbortSignal",Ee)}),H=v((Ee,Fe)=>{if(typeof Ee!="function")throw new S(Fe,"Function",Ee)}),$=v((Ee,Fe)=>{if(typeof Ee!="function"||O(Ee))throw new S(Fe,"Function",Ee)}),ae=v((Ee,Fe)=>{if(Ee!==void 0)throw new S(Fe,"undefined",Ee)});function Z(Ee,Fe,tt){if(!t(tt,Ee))throw new S(Fe,`('${n(tt,"|")}')`,Ee)}const he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Ee,Fe){if(typeof Ee>"u"||!d(he,Ee))throw new b(Fe,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Ee){if(typeof Ee=="string")return ye(Ee,"hints"),Ee;if(e(Ee)){const Fe=Ee.length;let tt="";if(Fe===0)return tt;for(let nt=0;nt<Fe;nt++){const gt=Ee[nt];ye(gt,"hints"),tt+=gt,nt!==Fe-1&&(tt+=", ")}return tt}throw new b("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return fx={isInt32:Q,isUint32:X,parseFileMode:ce,validateArray:K,validateStringArray:ee,validateBooleanArray:ge,validateAbortSignalArray:Ae,validateBoolean:Re,validateBuffer:Pe,validateDictionary:me,validateEncoding:Ne,validateFunction:H,validateInt32:se,validateInteger:te,validateNumber:de,validateObject:ie,validateOneOf:ue,validatePlainFunction:$,validatePort:Ye,validateSignalName:Ze,validateString:_e,validateUint32:pe,validateUndefined:ae,validateUnion:Z,validateAbortSignal:oe,validateLinkHeaderValue:He},fx}var Jv={exports:{}},dx={exports:{}},dN;function kf(){if(dN)return dx.exports;dN=1;var e=dx.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(_){if(t===setTimeout)return setTimeout(_,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function o(_){if(n===clearTimeout)return clearTimeout(_);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(_);try{return n(_)}catch{try{return n.call(null,_)}catch{return n.call(this,_)}}}var s=[],l=!1,c,d=-1;function h(){!l||!c||(l=!1,c.length?s=c.concat(s):d=-1,s.length&&g())}function g(){if(!l){var _=a(h);l=!0;for(var S=s.length;S;){for(c=s,s=[];++d<S;)c&&c[d].run();d=-1,S=s.length}c=null,l=!1,o(_)}}e.nextTick=function(_){var S=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)S[b-1]=arguments[b];s.push(new y(_,S)),s.length===1&&!l&&a(g)};function y(_,S){this.fun=_,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}return e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},dx.exports}var hx,hN;function Nu(){if(hN)return hx;hN=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=Vr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function d(k,ie=!1){var me;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ie||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((me=k._readableState)===null||me===void 0?void 0:me.readable)!==!1)&&(!k._writableState||k._readableState))}function h(k){var ie;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ie=k._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function g(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function v(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function _(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function S(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function b(k){return v(k)||_(k)||S(k)}function x(k,ie){return k==null?!1:ie===!0?typeof k[e]=="function":ie===!1?typeof k[t]=="function":typeof k[e]=="function"||typeof k[t]=="function"}function A(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,K=ie||me;return!!(k.destroyed||k[r]||K!=null&&K.destroyed)}function P(k){if(!h(k))return null;if(k.writableEnded===!0)return!0;const ie=k._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function O(k,ie){if(!h(k))return null;if(k.writableFinished===!0)return!0;const me=k._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.finished)!="boolean"?null:!!(me.finished||ie===!1&&me.ended===!0&&me.length===0)}function D(k){if(!d(k))return null;if(k.readableEnded===!0)return!0;const ie=k._readableState;return!ie||ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function F(k,ie){if(!d(k))return null;const me=k._readableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.endEmitted)!="boolean"?null:!!(me.endEmitted||ie===!1&&me.ended===!0&&me.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:A(k)?!1:d(k)&&k.readable&&!F(k)}function X(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.writable)!="boolean"?null:A(k)?!1:h(k)&&k.writable&&!P(k)}function U(k,ie){return y(k)?A(k)?!0:!((ie==null?void 0:ie.readable)!==!1&&Q(k)||(ie==null?void 0:ie.writable)!==!1&&X(k)):null}function Y(k){var ie,me;return y(k)?k.writableErrored?k.writableErrored:(ie=(me=k._writableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function ce(k){var ie,me;return y(k)?k.readableErrored?k.readableErrored:(ie=(me=k._readableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function te(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ie=k._writableState,me=k._readableState;return typeof(ie==null?void 0:ie.closed)=="boolean"||typeof(me==null?void 0:me.closed)=="boolean"?(ie==null?void 0:ie.closed)||(me==null?void 0:me.closed):typeof k._closed=="boolean"&&se(k)?k._closed:null}function se(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function pe(k){return typeof k._sent100=="boolean"&&se(k)}function _e(k){var ie;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ie=k.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function de(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,K=ie||me;return!K&&pe(k)||!!(K&&K.autoDestroy&&K.emitClose&&K.closed===!1)}function ue(k){var ie;return!!(k&&((ie=k[s])!==null&&ie!==void 0?ie:k.readableDidRead||k.readableAborted))}function Re(k){var ie,me,K,ee,ge,Ae,Ze,Pe,Ne,Ye;return!!(k&&((ie=(me=(K=(ee=(ge=(Ae=k[i])!==null&&Ae!==void 0?Ae:k.readableErrored)!==null&&ge!==void 0?ge:k.writableErrored)!==null&&ee!==void 0?ee:(Ze=k._readableState)===null||Ze===void 0?void 0:Ze.errorEmitted)!==null&&K!==void 0?K:(Pe=k._writableState)===null||Pe===void 0?void 0:Pe.errorEmitted)!==null&&me!==void 0?me:(Ne=k._readableState)===null||Ne===void 0?void 0:Ne.errored)!==null&&ie!==void 0?ie:!((Ye=k._writableState)===null||Ye===void 0)&&Ye.errored))}return hx={isDestroyed:A,kIsDestroyed:r,isDisturbed:ue,kIsDisturbed:s,isErrored:Re,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:o,isClosed:te,isDuplexNodeStream:g,isFinished:U,isIterable:x,isReadableNodeStream:d,isReadableStream:v,isReadableEnded:D,isReadableFinished:F,isReadableErrored:ce,isNodeStream:y,isWebStream:b,isWritable:X,isWritableNodeStream:h,isWritableStream:_,isWritableEnded:P,isWritableFinished:O,isWritableErrored:Y,isServerRequest:_e,isServerResponse:pe,willEmitClose:de,isTransformStream:S},hx}var pN;function tc(){if(pN)return Jv.exports;pN=1;const e=kf(),{AbortError:t,codes:n}=Ia(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=ga(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:d}=py(),{Promise:h,PromisePrototypeThen:g,SymbolDispose:y}=Vr(),{isClosed:v,isReadable:_,isReadableNodeStream:S,isReadableStream:b,isReadableFinished:x,isReadableErrored:A,isWritable:P,isWritableNodeStream:O,isWritableStream:D,isWritableFinished:F,isWritableErrored:Q,isNodeStream:X,willEmitClose:U,kIsClosedPromise:Y}=Nu();let ce;function te(ue){return ue.setHeader&&typeof ue.abort=="function"}const se=()=>{};function pe(ue,Re,k){var ie,me;if(arguments.length===2?(k=Re,Re=a):Re==null?Re=a:c(Re,"options"),l(k,"callback"),s(Re.signal,"options.signal"),k=o(k),b(ue)||D(ue))return _e(ue,Re,k);if(!X(ue))throw new r("stream",["ReadableStream","WritableStream","Stream"],ue);const K=(ie=Re.readable)!==null&&ie!==void 0?ie:S(ue),ee=(me=Re.writable)!==null&&me!==void 0?me:O(ue),ge=ue._writableState,Ae=ue._readableState,Ze=()=>{ue.writable||Ye()};let Pe=U(ue)&&S(ue)===K&&O(ue)===ee,Ne=F(ue,!1);const Ye=()=>{Ne=!0,ue.destroyed&&(Pe=!1),!(Pe&&(!ue.readable||K))&&(!K||oe)&&k.call(ue)};let oe=x(ue,!1);const H=()=>{oe=!0,ue.destroyed&&(Pe=!1),!(Pe&&(!ue.writable||ee))&&(!ee||Ne)&&k.call(ue)},$=Ee=>{k.call(ue,Ee)};let ae=v(ue);const Z=()=>{ae=!0;const Ee=Q(ue)||A(ue);if(Ee&&typeof Ee!="boolean")return k.call(ue,Ee);if(K&&!oe&&S(ue,!0)&&!x(ue,!1))return k.call(ue,new i);if(ee&&!Ne&&!F(ue,!1))return k.call(ue,new i);k.call(ue)},he=()=>{ae=!0;const Ee=Q(ue)||A(ue);if(Ee&&typeof Ee!="boolean")return k.call(ue,Ee);k.call(ue)},ye=()=>{ue.req.on("finish",Ye)};te(ue)?(ue.on("complete",Ye),Pe||ue.on("abort",Z),ue.req?ye():ue.on("request",ye)):ee&&!ge&&(ue.on("end",Ze),ue.on("close",Ze)),!Pe&&typeof ue.aborted=="boolean"&&ue.on("aborted",Z),ue.on("end",H),ue.on("finish",Ye),Re.error!==!1&&ue.on("error",$),ue.on("close",Z),ae?e.nextTick(Z):ge!=null&&ge.errorEmitted||Ae!=null&&Ae.errorEmitted?Pe||e.nextTick(he):(!K&&(!Pe||_(ue))&&(Ne||P(ue)===!1)||!ee&&(!Pe||P(ue))&&(oe||_(ue)===!1)||Ae&&ue.req&&ue.aborted)&&e.nextTick(he);const He=()=>{k=se,ue.removeListener("aborted",Z),ue.removeListener("complete",Ye),ue.removeListener("abort",Z),ue.removeListener("request",ye),ue.req&&ue.req.removeListener("finish",Ye),ue.removeListener("end",Ze),ue.removeListener("close",Ze),ue.removeListener("finish",Ye),ue.removeListener("end",H),ue.removeListener("error",$),ue.removeListener("close",Z)};if(Re.signal&&!ae){const Ee=()=>{const Fe=k;He(),Fe.call(ue,new t(void 0,{cause:Re.signal.reason}))};if(Re.signal.aborted)e.nextTick(Ee);else{ce=ce||ga().addAbortListener;const Fe=ce(Re.signal,Ee),tt=k;k=o((...nt)=>{Fe[y](),tt.apply(ue,nt)})}}return He}function _e(ue,Re,k){let ie=!1,me=se;if(Re.signal)if(me=()=>{ie=!0,k.call(ue,new t(void 0,{cause:Re.signal.reason}))},Re.signal.aborted)e.nextTick(me);else{ce=ce||ga().addAbortListener;const ee=ce(Re.signal,me),ge=k;k=o((...Ae)=>{ee[y](),ge.apply(ue,Ae)})}const K=(...ee)=>{ie||e.nextTick(()=>k.apply(ue,ee))};return g(ue[Y].promise,K,K),se}function de(ue,Re){var k;let ie=!1;return Re===null&&(Re=a),(k=Re)!==null&&k!==void 0&&k.cleanup&&(d(Re.cleanup,"cleanup"),ie=Re.cleanup),new h((me,K)=>{const ee=pe(ue,Re,ge=>{ie&&ee(),ge?K(ge):me()})})}return Jv.exports=pe,Jv.exports.finished=de,Jv.exports}var px,gN;function Hh(){if(gN)return px;gN=1;const e=kf(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Ia(),{Symbol:i}=Vr(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=Nu(),c=i("kDestroy"),d=i("kConstruct");function h(U,Y,ce){U&&(U.stack,Y&&!Y.errored&&(Y.errored=U),ce&&!ce.errored&&(ce.errored=U))}function g(U,Y){const ce=this._readableState,te=this._writableState,se=te||ce;return te!=null&&te.destroyed||ce!=null&&ce.destroyed?(typeof Y=="function"&&Y(),this):(h(U,te,ce),te&&(te.destroyed=!0),ce&&(ce.destroyed=!0),se.constructed?y(this,U,Y):this.once(c,function(pe){y(this,t(pe,U),Y)}),this)}function y(U,Y,ce){let te=!1;function se(pe){if(te)return;te=!0;const _e=U._readableState,de=U._writableState;h(pe,de,_e),de&&(de.closed=!0),_e&&(_e.closed=!0),typeof ce=="function"&&ce(pe),pe?e.nextTick(v,U,pe):e.nextTick(_,U)}try{U._destroy(Y||null,se)}catch(pe){se(pe)}}function v(U,Y){S(U,Y),_(U)}function _(U){const Y=U._readableState,ce=U._writableState;ce&&(ce.closeEmitted=!0),Y&&(Y.closeEmitted=!0),(ce!=null&&ce.emitClose||Y!=null&&Y.emitClose)&&U.emit("close")}function S(U,Y){const ce=U._readableState,te=U._writableState;te!=null&&te.errorEmitted||ce!=null&&ce.errorEmitted||(te&&(te.errorEmitted=!0),ce&&(ce.errorEmitted=!0),U.emit("error",Y))}function b(){const U=this._readableState,Y=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),Y&&(Y.constructed=!0,Y.destroyed=!1,Y.closed=!1,Y.closeEmitted=!1,Y.errored=null,Y.errorEmitted=!1,Y.finalCalled=!1,Y.prefinished=!1,Y.ended=Y.writable===!1,Y.ending=Y.writable===!1,Y.finished=Y.writable===!1)}function x(U,Y,ce){const te=U._readableState,se=U._writableState;if(se!=null&&se.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||se!=null&&se.autoDestroy?U.destroy(Y):Y&&(Y.stack,se&&!se.errored&&(se.errored=Y),te&&!te.errored&&(te.errored=Y),ce?e.nextTick(S,U,Y):S(U,Y))}function A(U,Y){if(typeof U._construct!="function")return;const ce=U._readableState,te=U._writableState;ce&&(ce.constructed=!1),te&&(te.constructed=!1),U.once(d,Y),!(U.listenerCount(d)>1)&&e.nextTick(P,U)}function P(U){let Y=!1;function ce(te){if(Y){x(U,te??new n);return}Y=!0;const se=U._readableState,pe=U._writableState,_e=pe||se;se&&(se.constructed=!0),pe&&(pe.constructed=!0),_e.destroyed?U.emit(c,te):te?x(U,te,!0):e.nextTick(O,U)}try{U._construct(te=>{e.nextTick(ce,te)})}catch(te){e.nextTick(ce,te)}}function O(U){U.emit(d)}function D(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function F(U){U.emit("close")}function Q(U,Y){U.emit("error",Y),e.nextTick(F,U)}function X(U,Y){!U||o(U)||(!Y&&!s(U)&&(Y=new r),l(U)?(U.socket=null,U.destroy(Y)):D(U)?U.abort():D(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(Y):typeof U.close=="function"?U.close():Y?e.nextTick(Q,U,Y):e.nextTick(F,U),U.destroyed||(U[a]=!0))}return px={construct:A,destroyer:X,destroy:g,undestroy:b,errorOrDestroy:x},px}var gx,mN;function JP(){if(mN)return gx;mN=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Vr(),{EventEmitter:n}=qh();function r(a){n.call(this,a)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(a,o){const s=this;function l(_){a.writable&&a.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}a.on("drain",c),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",h),s.on("close",g));let d=!1;function h(){d||(d=!0,a.end())}function g(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function y(_){v(),n.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",y),i(a,"error",y);function v(){s.removeListener("data",l),a.removeListener("drain",c),s.removeListener("end",h),s.removeListener("close",g),s.removeListener("error",y),a.removeListener("error",y),s.removeListener("end",v),s.removeListener("close",v),a.removeListener("close",v)}return s.on("end",v),s.on("close",v),a.on("close",v),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return gx={Stream:r,prependListener:i},gx}var mx={exports:{}},yN;function Kw(){return yN||(yN=1,function(e){const{SymbolDispose:t}=Vr(),{AbortError:n,codes:r}=Ia(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=Nu(),s=tc(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const d=(h,g)=>{if(typeof h!="object"||!("aborted"in h))throw new l(g,"AbortSignal",h)};e.exports.addAbortSignal=function(g,y){if(d(g,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return e.exports.addAbortSignalNoValidate(g,y)},e.exports.addAbortSignalNoValidate=function(h,g){if(typeof h!="object"||!("aborted"in h))return g;const y=i(g)?()=>{g.destroy(new n(void 0,{cause:h.reason}))}:()=>{g[o](new n(void 0,{cause:h.reason}))};if(h.aborted)y();else{c=c||ga().addAbortListener;const v=c(h,y);s(g,v[t])}return g}}(mx)),mx.exports}var yx,vN;function Kne(){if(vN)return yx;vN=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=Vr(),{Buffer:i}=ku(),{inspect:a}=ga();return yx=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,d=0;for(;c;)n(l,c.data,d),d+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const d=c.slice(0,s);return this.head.data=c.slice(s),d}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,d=0;do{const h=c.data;if(s>h.length)l+=h,s-=h.length;else{s===h.length?(l+=h,++d,c.next?this.head=c.next:this.head=this.tail=null):(l+=e(h,0,s),this.head=c,c.data=e(h,s));break}++d}while((c=c.next)!==null);return this.length-=d,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let d=this.head,h=0;do{const g=d.data;if(s>g.length)n(l,g,c-s),s-=g.length;else{s===g.length?(n(l,g,c-s),++h,d.next?this.head=d.next:this.head=this.tail=null):(n(l,new r(g.buffer,g.byteOffset,s),c-s),this.head=d,d.data=g.slice(s));break}++h}while((d=d.next)!==null);return this.length-=h,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},yx}var vx,_N;function Gw(){if(_N)return vx;_N=1;const{MathFloor:e,NumberIsInteger:t}=Vr(),{validateInteger:n}=py(),{ERR_INVALID_ARG_VALUE:r}=Ia().codes;let i=16*1024,a=16;function o(d,h,g){return d.highWaterMark!=null?d.highWaterMark:h?d[g]:null}function s(d){return d?a:i}function l(d,h){n(h,"value",0),d?a=h:i=h}function c(d,h,g,y){const v=o(h,y,g);if(v!=null){if(!t(v)||v<0){const _=y?`options.${g}`:"options.highWaterMark";throw new r(_,v)}return e(v)}return s(d.objectMode)}return vx={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},vx}var _x={},Yv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var wN;function Gne(){return wN||(wN=1,function(e,t){var n=ku(),r=n.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(Yv,Yv.exports)),Yv.exports}var bN;function Wne(){if(bN)return _x;bN=1;var e=Gne().Buffer,t=e.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(b){if(!b)return"utf8";for(var x;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(x)return;b=(""+b).toLowerCase(),x=!0}}function r(b){var x=n(b);if(typeof x!="string"&&(e.isEncoding===t||!t(b)))throw new Error("Unknown encoding: "+b);return x||b}_x.StringDecoder=i;function i(b){this.encoding=r(b);var x;switch(this.encoding){case"utf16le":this.text=h,this.end=g,x=4;break;case"utf8":this.fillLast=l,x=4;break;case"base64":this.text=y,this.end=v,x=3;break;default:this.write=_,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(x)}i.prototype.write=function(b){if(b.length===0)return"";var x,A;if(this.lastNeed){if(x=this.fillLast(b),x===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<b.length?x?x+this.text(b,A):this.text(b,A):x||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function a(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,x,A){var P=x.length-1;if(P<A)return 0;var O=a(x[P]);return O>=0?(O>0&&(b.lastNeed=O-1),O):--P<A||O===-2?0:(O=a(x[P]),O>=0?(O>0&&(b.lastNeed=O-2),O):--P<A||O===-2?0:(O=a(x[P]),O>=0?(O>0&&(O===2?O=0:b.lastNeed=O-3),O):0))}function s(b,x,A){if((x[0]&192)!==128)return b.lastNeed=0,"�";if(b.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return b.lastNeed=1,"�";if(b.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return b.lastNeed=2,"�"}}function l(b){var x=this.lastTotal-this.lastNeed,A=s(this,b);if(A!==void 0)return A;if(this.lastNeed<=b.length)return b.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,x,0,b.length),this.lastNeed-=b.length}function c(b,x){var A=o(this,b,x);if(!this.lastNeed)return b.toString("utf8",x);this.lastTotal=A;var P=b.length-(A-this.lastNeed);return b.copy(this.lastChar,0,P),b.toString("utf8",x,P)}function d(b){var x=b&&b.length?this.write(b):"";return this.lastNeed?x+"�":x}function h(b,x){if((b.length-x)%2===0){var A=b.toString("utf16le",x);if(A){var P=A.charCodeAt(A.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",x,b.length-1)}function g(b){var x=b&&b.length?this.write(b):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,A)}return x}function y(b,x){var A=(b.length-x)%3;return A===0?b.toString("base64",x):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",x,b.length-A))}function v(b){var x=b&&b.length?this.write(b):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function _(b){return b.toString(this.encoding)}function S(b){return b&&b.length?this.write(b):""}return _x}var wx,SN;function y9(){if(SN)return wx;SN=1;const e=kf(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=Vr(),{Buffer:i}=ku(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Ia().codes;function s(l,c,d){let h;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...d,read(){this.push(c),this.push(null)}});let g;if(c&&c[n])g=!0,h=c[n]();else if(c&&c[r])g=!1,h=c[r]();else throw new a("iterable",["Iterable"],c);const y=new l({objectMode:!0,highWaterMark:1,...d});let v=!1;y._read=function(){v||(v=!0,S())},y._destroy=function(b,x){t(_(b),()=>e.nextTick(x,b),A=>e.nextTick(x,A||b))};async function _(b){const x=b!=null,A=typeof h.throw=="function";if(x&&A){const{value:P,done:O}=await h.throw(b);if(await P,O)return}if(typeof h.return=="function"){const{value:P}=await h.return();await P}}async function S(){for(;;){try{const{value:b,done:x}=g?await h.next():h.next();if(x)y.push(null);else{const A=b&&typeof b.then=="function"?await b:b;if(A===null)throw v=!1,new o;if(y.push(A))continue;v=!1}}catch(b){y.destroy(b)}break}}return y}return wx=s,wx}var bx,xN;function Ww(){if(xN)return bx;xN=1;const e=kf(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:h,Symbol:g}=Vr();bx=nt,nt.ReadableState=tt;const{EventEmitter:y}=qh(),{Stream:v,prependListener:_}=JP(),{Buffer:S}=ku(),{addAbortSignal:b}=Kw(),x=tc();let A=ga().debuglog("stream",Le=>{A=Le});const P=Kne(),O=Hh(),{getHighWaterMark:D,getDefaultHighWaterMark:F}=Gw(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:X,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_OUT_OF_RANGE:Y,ERR_STREAM_PUSH_AFTER_EOF:ce,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te},AbortError:se}=Ia(),{validateObject:pe}=py(),_e=g("kPaused"),{StringDecoder:de}=Wne(),ue=y9();s(nt.prototype,v.prototype),s(nt,v);const Re=()=>{},{errorOrDestroy:k}=O,ie=1,me=2,K=4,ee=8,ge=16,Ae=32,Ze=64,Pe=128,Ne=256,Ye=512,oe=1024,H=2048,$=4096,ae=8192,Z=16384,he=32768,ye=65536,He=1<<17,Ee=1<<18;function Fe(Le){return{enumerable:!1,get(){return(this.state&Le)!==0},set(qe){qe?this.state|=Le:this.state&=~Le}}}a(tt.prototype,{objectMode:Fe(ie),ended:Fe(me),endEmitted:Fe(K),reading:Fe(ee),constructed:Fe(ge),sync:Fe(Ae),needReadable:Fe(Ze),emittedReadable:Fe(Pe),readableListening:Fe(Ne),resumeScheduled:Fe(Ye),errorEmitted:Fe(oe),emitClose:Fe(H),autoDestroy:Fe($),destroyed:Fe(ae),closed:Fe(Z),closeEmitted:Fe(he),multiAwaitDrain:Fe(ye),readingMore:Fe(He),dataEmitted:Fe(Ee)});function tt(Le,qe,bt){typeof bt!="boolean"&&(bt=qe instanceof Ou()),this.state=H|$|ge|Ae,Le&&Le.objectMode&&(this.state|=ie),bt&&Le&&Le.readableObjectMode&&(this.state|=ie),this.highWaterMark=Le?D(this,Le,"readableHighWaterMark",bt):F(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[_e]=null,Le&&Le.emitClose===!1&&(this.state&=~H),Le&&Le.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Le&&Le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Le&&Le.encoding&&(this.decoder=new de(Le.encoding),this.encoding=Le.encoding)}function nt(Le){if(!(this instanceof nt))return new nt(Le);const qe=this instanceof Ou();this._readableState=new tt(Le,this,qe),Le&&(typeof Le.read=="function"&&(this._read=Le.read),typeof Le.destroy=="function"&&(this._destroy=Le.destroy),typeof Le.construct=="function"&&(this._construct=Le.construct),Le.signal&&!qe&&b(Le.signal,this)),v.call(this,Le),O.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=O.destroy,nt.prototype._undestroy=O.undestroy,nt.prototype._destroy=function(Le,qe){qe(Le)},nt.prototype[y.captureRejectionSymbol]=function(Le){this.destroy(Le)},nt.prototype[d]=function(){let Le;return this.destroyed||(Le=this.readableEnded?null:new se,this.destroy(Le)),new l((qe,bt)=>x(this,Et=>Et&&Et!==Le?bt(Et):qe(null)))},nt.prototype.push=function(Le,qe){return gt(this,Le,qe,!1)},nt.prototype.unshift=function(Le,qe){return gt(this,Le,qe,!0)};function gt(Le,qe,bt,Et){A("readableAddChunk",qe);const Mt=Le._readableState;let Hn;if(Mt.state&ie||(typeof qe=="string"?(bt=bt||Mt.defaultEncoding,Mt.encoding!==bt&&(Et&&Mt.encoding?qe=S.from(qe,bt).toString(Mt.encoding):(qe=S.from(qe,bt),bt=""))):qe instanceof S?bt="":v._isUint8Array(qe)?(qe=v._uint8ArrayToBuffer(qe),bt=""):qe!=null&&(Hn=new X("chunk",["string","Buffer","Uint8Array"],qe))),Hn)k(Le,Hn);else if(qe===null)Mt.state&=~ee,z(Le,Mt);else if(Mt.state&ie||qe&&qe.length>0)if(Et)if(Mt.state&K)k(Le,new te);else{if(Mt.destroyed||Mt.errored)return!1;qt(Le,Mt,qe,!0)}else if(Mt.ended)k(Le,new ce);else{if(Mt.destroyed||Mt.errored)return!1;Mt.state&=~ee,Mt.decoder&&!bt?(qe=Mt.decoder.write(qe),Mt.objectMode||qe.length!==0?qt(Le,Mt,qe,!1):je(Le,Mt)):qt(Le,Mt,qe,!1)}else Et||(Mt.state&=~ee,je(Le,Mt));return!Mt.ended&&(Mt.length<Mt.highWaterMark||Mt.length===0)}function qt(Le,qe,bt,Et){qe.flowing&&qe.length===0&&!qe.sync&&Le.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Le.emit("data",bt)):(qe.length+=qe.objectMode?1:bt.length,Et?qe.buffer.unshift(bt):qe.buffer.push(bt),qe.state&Ze&&W(Le)),je(Le,qe)}nt.prototype.isPaused=function(){const Le=this._readableState;return Le[_e]===!0||Le.flowing===!1},nt.prototype.setEncoding=function(Le){const qe=new de(Le);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const bt=this._readableState.buffer;let Et="";for(const Mt of bt)Et+=qe.write(Mt);return bt.clear(),Et!==""&&bt.push(Et),this._readableState.length=Et.length,this};const Se=1073741824;function Be(Le){if(Le>Se)throw new Y("size","<= 1GiB",Le);return Le--,Le|=Le>>>1,Le|=Le>>>2,Le|=Le>>>4,Le|=Le>>>8,Le|=Le>>>16,Le++,Le}function ne(Le,qe){return Le<=0||qe.length===0&&qe.ended?0:qe.state&ie?1:r(Le)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Le<=qe.length?Le:qe.ended?qe.length:0}nt.prototype.read=function(Le){A("read",Le),Le===void 0?Le=NaN:n(Le)||(Le=i(Le,10));const qe=this._readableState,bt=Le;if(Le>qe.highWaterMark&&(qe.highWaterMark=Be(Le)),Le!==0&&(qe.state&=~Pe),Le===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?gr(this):W(this),null;if(Le=ne(Le,qe),Le===0&&qe.ended)return qe.length===0&&gr(this),null;let Et=(qe.state&Ze)!==0;if(A("need readable",Et),(qe.length===0||qe.length-Le<qe.highWaterMark)&&(Et=!0,A("length less than watermark",Et)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)Et=!1,A("reading, ended or constructing",Et);else if(Et){A("do read"),qe.state|=ee|Ae,qe.length===0&&(qe.state|=Ze);try{this._read(qe.highWaterMark)}catch(Hn){k(this,Hn)}qe.state&=~Ae,qe.reading||(Le=ne(bt,qe))}let Mt;return Le>0?Mt=hn(Le,qe):Mt=null,Mt===null?(qe.needReadable=qe.length<=qe.highWaterMark,Le=0):(qe.length-=Le,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),bt!==Le&&qe.ended&&gr(this)),Mt!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",Mt)),Mt};function z(Le,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const bt=qe.decoder.end();bt&&bt.length&&(qe.buffer.push(bt),qe.length+=qe.objectMode?1:bt.length)}qe.ended=!0,qe.sync?W(Le):(qe.needReadable=!1,qe.emittedReadable=!0,G(Le))}}function W(Le){const qe=Le._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,e.nextTick(G,Le))}function G(Le){const qe=Le._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Le.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,zt(Le)}function je(Le,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,e.nextTick(Je,Le,qe))}function Je(Le,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const bt=qe.length;if(A("maybeReadMore read 0"),Le.read(0),bt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Le){throw new U("_read()")},nt.prototype.pipe=function(Le,qe){const bt=this,Et=this._readableState;Et.pipes.length===1&&(Et.multiAwaitDrain||(Et.multiAwaitDrain=!0,Et.awaitDrainWriters=new c(Et.awaitDrainWriters?[Et.awaitDrainWriters]:[]))),Et.pipes.push(Le),A("pipe count=%d opts=%j",Et.pipes.length,qe);const Hn=(!qe||qe.end!==!1)&&Le!==e.stdout&&Le!==e.stderr?We:Ht;Et.endEmitted?e.nextTick(Hn):bt.once("end",Hn),Le.on("unpipe",Jn);function Jn(jt,tn){A("onunpipe"),jt===bt&&tn&&tn.hasUnpiped===!1&&(tn.hasUnpiped=!0,ft())}function We(){A("onend"),Le.end()}let Ce,et=!1;function ft(){A("cleanup"),Le.removeListener("close",Gt),Le.removeListener("finish",Xt),Ce&&Le.removeListener("drain",Ce),Le.removeListener("error",Dt),Le.removeListener("unpipe",Jn),bt.removeListener("end",We),bt.removeListener("end",Ht),bt.removeListener("data",Ct),et=!0,Ce&&Et.awaitDrainWriters&&(!Le._writableState||Le._writableState.needDrain)&&Ce()}function it(){et||(Et.pipes.length===1&&Et.pipes[0]===Le?(A("false write response, pause",0),Et.awaitDrainWriters=Le,Et.multiAwaitDrain=!1):Et.pipes.length>1&&Et.pipes.includes(Le)&&(A("false write response, pause",Et.awaitDrainWriters.size),Et.awaitDrainWriters.add(Le)),bt.pause()),Ce||(Ce=ke(bt,Le),Le.on("drain",Ce))}bt.on("data",Ct);function Ct(jt){A("ondata");const tn=Le.write(jt);A("dest.write",tn),tn===!1&&it()}function Dt(jt){if(A("onerror",jt),Ht(),Le.removeListener("error",Dt),Le.listenerCount("error")===0){const tn=Le._writableState||Le._readableState;tn&&!tn.errorEmitted?k(Le,jt):Le.emit("error",jt)}}_(Le,"error",Dt);function Gt(){Le.removeListener("finish",Xt),Ht()}Le.once("close",Gt);function Xt(){A("onfinish"),Le.removeListener("close",Gt),Ht()}Le.once("finish",Xt);function Ht(){A("unpipe"),bt.unpipe(Le)}return Le.emit("pipe",bt),Le.writableNeedDrain===!0?it():Et.flowing||(A("pipe resume"),bt.resume()),Le};function ke(Le,qe){return function(){const Et=Le._readableState;Et.awaitDrainWriters===qe?(A("pipeOnDrain",1),Et.awaitDrainWriters=null):Et.multiAwaitDrain&&(A("pipeOnDrain",Et.awaitDrainWriters.size),Et.awaitDrainWriters.delete(qe)),(!Et.awaitDrainWriters||Et.awaitDrainWriters.size===0)&&Le.listenerCount("data")&&Le.resume()}}nt.prototype.unpipe=function(Le){const qe=this._readableState,bt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Le){const Mt=qe.pipes;qe.pipes=[],this.pause();for(let Hn=0;Hn<Mt.length;Hn++)Mt[Hn].emit("unpipe",this,{hasUnpiped:!1});return this}const Et=t(qe.pipes,Le);return Et===-1?this:(qe.pipes.splice(Et,1),qe.pipes.length===0&&this.pause(),Le.emit("unpipe",this,bt),this)},nt.prototype.on=function(Le,qe){const bt=v.prototype.on.call(this,Le,qe),Et=this._readableState;return Le==="data"?(Et.readableListening=this.listenerCount("readable")>0,Et.flowing!==!1&&this.resume()):Le==="readable"&&!Et.endEmitted&&!Et.readableListening&&(Et.readableListening=Et.needReadable=!0,Et.flowing=!1,Et.emittedReadable=!1,A("on readable",Et.length,Et.reading),Et.length?W(this):Et.reading||e.nextTick(It,this)),bt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Le,qe){const bt=v.prototype.removeListener.call(this,Le,qe);return Le==="readable"&&e.nextTick(Rt,this),bt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Le){const qe=v.prototype.removeAllListeners.apply(this,arguments);return(Le==="readable"||Le===void 0)&&e.nextTick(Rt,this),qe};function Rt(Le){const qe=Le._readableState;qe.readableListening=Le.listenerCount("readable")>0,qe.resumeScheduled&&qe[_e]===!1?qe.flowing=!0:Le.listenerCount("data")>0?Le.resume():qe.readableListening||(qe.flowing=null)}function It(Le){A("readable nexttick read 0"),Le.read(0)}nt.prototype.resume=function(){const Le=this._readableState;return Le.flowing||(A("resume"),Le.flowing=!Le.readableListening,Nt(this,Le)),Le[_e]=!1,this};function Nt(Le,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,e.nextTick(Ot,Le,qe))}function Ot(Le,qe){A("resume",qe.reading),qe.reading||Le.read(0),qe.resumeScheduled=!1,Le.emit("resume"),zt(Le),qe.flowing&&!qe.reading&&Le.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_e]=!0,this};function zt(Le){const qe=Le._readableState;for(A("flow",qe.flowing);qe.flowing&&Le.read()!==null;);}nt.prototype.wrap=function(Le){let qe=!1;Le.on("data",Et=>{!this.push(Et)&&Le.pause&&(qe=!0,Le.pause())}),Le.on("end",()=>{this.push(null)}),Le.on("error",Et=>{k(this,Et)}),Le.on("close",()=>{this.destroy()}),Le.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Le.resume&&(qe=!1,Le.resume())};const bt=o(Le);for(let Et=1;Et<bt.length;Et++){const Mt=bt[Et];this[Mt]===void 0&&typeof Le[Mt]=="function"&&(this[Mt]=Le[Mt].bind(Le))}return this},nt.prototype[h]=function(){return Ar(this)},nt.prototype.iterator=function(Le){return Le!==void 0&&pe(Le,"options"),Ar(this,Le)};function Ar(Le,qe){typeof Le.read!="function"&&(Le=nt.wrap(Le,{objectMode:!0}));const bt=dn(Le,qe);return bt.stream=Le,bt}async function*dn(Le,qe){let bt=Re;function Et(Jn){this===Le?(bt(),bt=Re):bt=Jn}Le.on("readable",Et);let Mt;const Hn=x(Le,{writable:!1},Jn=>{Mt=Jn?Q(Mt,Jn):null,bt(),bt=Re});try{for(;;){const Jn=Le.destroyed?null:Le.read();if(Jn!==null)yield Jn;else{if(Mt)throw Mt;if(Mt===null)return;await new l(Et)}}}catch(Jn){throw Mt=Q(Mt,Jn),Mt}finally{(Mt||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(Mt===void 0||Le._readableState.autoDestroy)?O.destroyer(Le,null):(Le.off("readable",Et),Hn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Le=this._readableState;return!!Le&&Le.readable!==!1&&!Le.destroyed&&!Le.errorEmitted&&!Le.endEmitted},set(Le){this._readableState&&(this._readableState.readable=!!Le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Le){this._readableState&&(this._readableState.flowing=Le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Le){this._readableState&&(this._readableState.destroyed=Le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_e]!==!1},set(Le){this[_e]=!!Le}}}),nt._fromList=hn;function hn(Le,qe){if(qe.length===0)return null;let bt;return qe.objectMode?bt=qe.buffer.shift():!Le||Le>=qe.length?(qe.decoder?bt=qe.buffer.join(""):qe.buffer.length===1?bt=qe.buffer.first():bt=qe.buffer.concat(qe.length),qe.buffer.clear()):bt=qe.buffer.consume(Le,qe.decoder),bt}function gr(Le){const qe=Le._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,e.nextTick(un,qe,Le))}function un(Le,qe){if(A("endReadableNT",Le.endEmitted,Le.length),!Le.errored&&!Le.closeEmitted&&!Le.endEmitted&&Le.length===0){if(Le.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)e.nextTick(ln,qe);else if(Le.autoDestroy){const bt=qe._writableState;(!bt||bt.autoDestroy&&(bt.finished||bt.writable===!1))&&qe.destroy()}}}function ln(Le){Le.writable&&!Le.writableEnded&&!Le.destroyed&&Le.end()}nt.from=function(Le,qe){return ue(nt,Le,qe)};let In;function lr(){return In===void 0&&(In={}),In}return nt.fromWeb=function(Le,qe){return lr().newStreamReadableFromReadableStream(Le,qe)},nt.toWeb=function(Le,qe){return lr().newReadableStreamFromStreamReadable(Le,qe)},nt.wrap=function(Le,qe){var bt,Et;return new nt({objectMode:(bt=(Et=Le.readableObjectMode)!==null&&Et!==void 0?Et:Le.objectMode)!==null&&bt!==void 0?bt:!0,...qe,destroy(Mt,Hn){O.destroyer(Le,Mt),Hn(Mt)}}).wrap(Le)},bx}var Sx,EN;function YP(){if(EN)return Sx;EN=1;const e=kf(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=Vr();Sx=pe,pe.WritableState=te;const{EventEmitter:d}=qh(),h=JP().Stream,{Buffer:g}=ku(),y=Hh(),{addAbortSignal:v}=Kw(),{getHighWaterMark:_,getDefaultHighWaterMark:S}=Gw(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:X}=Ia().codes,{errorOrDestroy:U}=y;o(pe.prototype,h.prototype),o(pe,h);function Y(){}const ce=l("kOnFinished");function te($,ae,Z){typeof Z!="boolean"&&(Z=ae instanceof Ou()),this.objectMode=!!($&&$.objectMode),Z&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?_(this,$,"writableHighWaterMark",Z):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!($&&$.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,se(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ce]=[]}function se($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}te.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe($){const ae=this instanceof Ou();if(!ae&&!r(pe,this))return new pe($);this._writableState=new te($,this,ae),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&v($.signal,this)),h.call(this,$),y.construct(this,()=>{const Z=this._writableState;Z.writing||ee(this,Z),Pe(this,Z)})}i(pe,c,{__proto__:null,value:function($){return r(this,$)?!0:this!==pe?!1:$&&$._writableState instanceof te}}),pe.prototype.pipe=function(){U(this,new P)};function _e($,ae,Z,he){const ye=$._writableState;if(typeof Z=="function")he=Z,Z=ye.defaultEncoding;else{if(!Z)Z=ye.defaultEncoding;else if(Z!=="buffer"&&!g.isEncoding(Z))throw new X(Z);typeof he!="function"&&(he=Y)}if(ae===null)throw new F;if(!ye.objectMode)if(typeof ae=="string")ye.decodeStrings!==!1&&(ae=g.from(ae,Z),Z="buffer");else if(ae instanceof g)Z="buffer";else if(h._isUint8Array(ae))ae=h._uint8ArrayToBuffer(ae),Z="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],ae);let He;return ye.ending?He=new Q:ye.destroyed&&(He=new O("write")),He?(e.nextTick(he,He),U($,He,!0),He):(ye.pendingcb++,de($,ye,ae,Z,he))}pe.prototype.write=function($,ae,Z){return _e(this,$,ae,Z)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||ee(this,$))},pe.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=s(ae)),!g.isEncoding(ae))throw new X(ae);return this._writableState.defaultEncoding=ae,this};function de($,ae,Z,he,ye){const He=ae.objectMode?1:Z.length;ae.length+=He;const Ee=ae.length<ae.highWaterMark;return Ee||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:Z,encoding:he,callback:ye}),ae.allBuffers&&he!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&ye!==Y&&(ae.allNoop=!1)):(ae.writelen=He,ae.writecb=ye,ae.writing=!0,ae.sync=!0,$._write(Z,he,ae.onwrite),ae.sync=!1),Ee&&!ae.errored&&!ae.destroyed}function ue($,ae,Z,he,ye,He,Ee){ae.writelen=he,ae.writecb=Ee,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new O("write")):Z?$._writev(ye,ae.onwrite):$._write(ye,He,ae.onwrite),ae.sync=!1}function Re($,ae,Z,he){--ae.pendingcb,he(Z),K(ae),U($,Z)}function k($,ae){const Z=$._writableState,he=Z.sync,ye=Z.writecb;if(typeof ye!="function"){U($,new A);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,ae?(ae.stack,Z.errored||(Z.errored=ae),$._readableState&&!$._readableState.errored&&($._readableState.errored=ae),he?e.nextTick(Re,$,Z,ae,ye):Re($,Z,ae,ye)):(Z.buffered.length>Z.bufferedIndex&&ee($,Z),he?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===ye?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:ye,stream:$,state:Z},e.nextTick(ie,Z.afterWriteTickInfo)):me($,Z,1,ye))}function ie({stream:$,state:ae,count:Z,cb:he}){return ae.afterWriteTickInfo=null,me($,ae,Z,he)}function me($,ae,Z,he){for(!ae.ending&&!$.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"));Z-- >0;)ae.pendingcb--,he();ae.destroyed&&K(ae),Pe($,ae)}function K($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var ae;const{chunk:He,callback:Ee}=$.buffered[ye],Fe=$.objectMode?1:He.length;$.length-=Fe,Ee((ae=$.errored)!==null&&ae!==void 0?ae:new O("write"))}const Z=$[ce].splice(0);for(let ye=0;ye<Z.length;ye++){var he;Z[ye]((he=$.errored)!==null&&he!==void 0?he:new O("end"))}se($)}function ee($,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:Z,bufferedIndex:he,objectMode:ye}=ae,He=Z.length-he;if(!He)return;let Ee=he;if(ae.bufferProcessing=!0,He>1&&$._writev){ae.pendingcb-=He-1;const Fe=ae.allNoop?Y:nt=>{for(let gt=Ee;gt<Z.length;++gt)Z[gt].callback(nt)},tt=ae.allNoop&&Ee===0?Z:t(Z,Ee);tt.allBuffers=ae.allBuffers,ue($,ae,!0,ae.length,tt,"",Fe),se(ae)}else{do{const{chunk:Fe,encoding:tt,callback:nt}=Z[Ee];Z[Ee++]=null;const gt=ye?1:Fe.length;ue($,ae,!1,gt,Fe,tt,nt)}while(Ee<Z.length&&!ae.writing);Ee===Z.length?se(ae):Ee>256?(Z.splice(0,Ee),ae.bufferedIndex=0):ae.bufferedIndex=Ee}ae.bufferProcessing=!1}pe.prototype._write=function($,ae,Z){if(this._writev)this._writev([{chunk:$,encoding:ae}],Z);else throw new x("_write()")},pe.prototype._writev=null,pe.prototype.end=function($,ae,Z){const he=this._writableState;typeof $=="function"?(Z=$,$=null,ae=null):typeof ae=="function"&&(Z=ae,ae=null);let ye;if($!=null){const He=_e(this,$,ae);He instanceof n&&(ye=He)}return he.corked&&(he.corked=1,this.uncork()),ye||(!he.errored&&!he.ending?(he.ending=!0,Pe(this,he,!0),he.ended=!0):he.finished?ye=new D("end"):he.destroyed&&(ye=new O("end"))),typeof Z=="function"&&(ye||he.finished?e.nextTick(Z,ye):he[ce].push(Z)),this};function ge($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Ae($,ae){let Z=!1;function he(ye){if(Z){U($,ye??A());return}if(Z=!0,ae.pendingcb--,ye){const He=ae[ce].splice(0);for(let Ee=0;Ee<He.length;Ee++)He[Ee](ye);U($,ye,ae.sync)}else ge(ae)&&(ae.prefinished=!0,$.emit("prefinish"),ae.pendingcb++,e.nextTick(Ne,$,ae))}ae.sync=!0,ae.pendingcb++;try{$._final(he)}catch(ye){he(ye)}ae.sync=!1}function Ze($,ae){!ae.prefinished&&!ae.finalCalled&&(typeof $._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,Ae($,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function Pe($,ae,Z){ge(ae)&&(Ze($,ae),ae.pendingcb===0&&(Z?(ae.pendingcb++,e.nextTick((he,ye)=>{ge(ye)?Ne(he,ye):ye.pendingcb--},$,ae)):ge(ae)&&(ae.pendingcb++,Ne($,ae))))}function Ne($,ae){ae.pendingcb--,ae.finished=!0;const Z=ae[ce].splice(0);for(let he=0;he<Z.length;he++)Z[he]();if($.emit("finish"),ae.autoDestroy){const he=$._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&$.destroy()}}a(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Ye=y.destroy;pe.prototype.destroy=function($,ae){const Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[ce].length)&&e.nextTick(K,Z),Ye.call(this,$,ae),this},pe.prototype._undestroy=y.undestroy,pe.prototype._destroy=function($,ae){ae($)},pe.prototype[d.captureRejectionSymbol]=function($){this.destroy($)};let oe;function H(){return oe===void 0&&(oe={}),oe}return pe.fromWeb=function($,ae){return H().newStreamWritableFromWritableStream($,ae)},pe.toWeb=function($){return H().newWritableStreamFromStreamWritable($)},Sx}var xx,CN;function Qne(){if(CN)return xx;CN=1;const e=kf(),t=ku(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:d}=Nu(),h=tc(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=Ia(),{destroyer:_}=Hh(),S=Ou(),b=Ww(),x=YP(),{createDeferredPromise:A}=ga(),P=y9(),O=globalThis.Blob||t.Blob,D=typeof O<"u"?function(te){return te instanceof O}:function(te){return!1},F=globalThis.AbortController||$m().AbortController,{FunctionPrototypeCall:Q}=Vr();class X extends S{constructor(te){super(te),(te==null?void 0:te.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(te==null?void 0:te.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}xx=function ce(te,se){if(l(te))return te;if(o(te))return Y({readable:te});if(s(te))return Y({writable:te});if(a(te))return Y({writable:!1,readable:!1});if(c(te))return Y({readable:b.fromWeb(te)});if(d(te))return Y({writable:x.fromWeb(te)});if(typeof te=="function"){const{value:_e,write:de,final:ue,destroy:Re}=U(te);if(i(_e))return P(X,_e,{objectMode:!0,write:de,final:ue,destroy:Re});const k=_e==null?void 0:_e.then;if(typeof k=="function"){let ie;const me=Q(k,_e,K=>{if(K!=null)throw new v("nully","body",K)},K=>{_(ie,K)});return ie=new X({objectMode:!0,readable:!1,write:de,final(K){ue(async()=>{try{await me,e.nextTick(K,null)}catch(ee){e.nextTick(K,ee)}})},destroy:Re})}throw new v("Iterable, AsyncIterable or AsyncFunction",se,_e)}if(D(te))return ce(te.arrayBuffer());if(i(te))return P(X,te,{objectMode:!0,writable:!1});if(c(te==null?void 0:te.readable)&&d(te==null?void 0:te.writable))return X.fromWeb(te);if(typeof(te==null?void 0:te.writable)=="object"||typeof(te==null?void 0:te.readable)=="object"){const _e=te!=null&&te.readable?o(te==null?void 0:te.readable)?te==null?void 0:te.readable:ce(te.readable):void 0,de=te!=null&&te.writable?s(te==null?void 0:te.writable)?te==null?void 0:te.writable:ce(te.writable):void 0;return Y({readable:_e,writable:de})}const pe=te==null?void 0:te.then;if(typeof pe=="function"){let _e;return Q(pe,te,de=>{de!=null&&_e.push(de),_e.push(null)},de=>{_(_e,de)}),_e=new X({objectMode:!0,writable:!1,read(){}})}throw new y(se,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],te)};function U(ce){let{promise:te,resolve:se}=A();const pe=new F,_e=pe.signal;return{value:ce(async function*(){for(;;){const ue=te;te=null;const{chunk:Re,done:k,cb:ie}=await ue;if(e.nextTick(ie),k)return;if(_e.aborted)throw new g(void 0,{cause:_e.reason});({promise:te,resolve:se}=A()),yield Re}}(),{signal:_e}),write(ue,Re,k){const ie=se;se=null,ie({chunk:ue,done:!1,cb:k})},final(ue){const Re=se;se=null,Re({done:!0,cb:ue})},destroy(ue,Re){pe.abort(),Re(ue)}}}function Y(ce){const te=ce.readable&&typeof ce.readable.read!="function"?b.wrap(ce.readable):ce.readable,se=ce.writable;let pe=!!n(te),_e=!!r(se),de,ue,Re,k,ie;function me(K){const ee=k;k=null,ee?ee(K):K&&ie.destroy(K)}return ie=new X({readableObjectMode:!!(te!=null&&te.readableObjectMode),writableObjectMode:!!(se!=null&&se.writableObjectMode),readable:pe,writable:_e}),_e&&(h(se,K=>{_e=!1,K&&_(te,K),me(K)}),ie._write=function(K,ee,ge){se.write(K,ee)?ge():de=ge},ie._final=function(K){se.end(),ue=K},se.on("drain",function(){if(de){const K=de;de=null,K()}}),se.on("finish",function(){if(ue){const K=ue;ue=null,K()}})),pe&&(h(te,K=>{pe=!1,K&&_(te,K),me(K)}),te.on("readable",function(){if(Re){const K=Re;Re=null,K()}}),te.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){const K=te.read();if(K===null){Re=ie._read;return}if(!ie.push(K))return}}),ie._destroy=function(K,ee){!K&&k!==null&&(K=new g),Re=null,de=null,ue=null,k===null?ee(K):(k=ee,_(se,K),_(te,K))},ie}return xx}var Ex,TN;function Ou(){if(TN)return Ex;TN=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=Vr();Ex=o;const i=Ww(),a=YP();r(o.prototype,i.prototype),r(o,i);{const d=n(a.prototype);for(let h=0;h<d.length;h++){const g=d[h];o.prototype[g]||(o.prototype[g]=a.prototype[g])}}function o(d){if(!(this instanceof o))return new o(d);i.call(this,d),a.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(d,h){return l().newStreamDuplexFromReadableWritablePair(d,h)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=Qne()),c(d,"body")},Ex}var Cx,AN;function v9(){if(AN)return Cx;AN=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Vr();Cx=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Ia().codes,r=Ou(),{getHighWaterMark:i}=Gw();e(o.prototype,r.prototype),e(o,r);const a=t("kCallback");function o(c){if(!(this instanceof o))return new o(c);const d=c?i(this,c,"readableHighWaterMark",!0):null;d===0&&(c={...c,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((d,h)=>{if(d){c?c(d):this.destroy(d);return}h!=null&&this.push(h),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(c,d,h){throw new n("_transform()")},o.prototype._write=function(c,d,h){const g=this._readableState,y=this._writableState,v=g.length;this._transform(c,d,(_,S)=>{if(_){h(_);return}S!=null&&this.push(S),y.ended||v===g.length||g.length<g.highWaterMark?h():this[a]=h})},o.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},Cx}var Tx,RN;function _9(){if(RN)return Tx;RN=1;const{ObjectSetPrototypeOf:e}=Vr();Tx=n;const t=v9();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},Tx}var Ax,PN;function XP(){if(PN)return Ax;PN=1;const e=kf(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Vr(),a=tc(),{once:o}=ga(),s=Hh(),l=Ou(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:_}=Ia(),{validateFunction:S,validateAbortSignal:b}=py(),{isIterable:x,isReadable:A,isReadableNodeStream:P,isNodeStream:O,isTransformStream:D,isWebStream:F,isReadableStream:Q,isReadableFinished:X}=Nu(),U=globalThis.AbortController||$m().AbortController;let Y,ce,te;function se(K,ee,ge){let Ae=!1;K.on("close",()=>{Ae=!0});const Ze=a(K,{readable:ee,writable:ge},Pe=>{Ae=!Pe});return{destroy:Pe=>{Ae||(Ae=!0,s.destroyer(K,Pe||new y("pipe")))},cleanup:Ze}}function pe(K){return S(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function _e(K){if(x(K))return K;if(P(K))return de(K);throw new d("val",["Readable","Iterable","AsyncIterable"],K)}async function*de(K){ce||(ce=Ww()),yield*ce.prototype[r].call(K)}async function ue(K,ee,ge,{end:Ae}){let Ze,Pe=null;const Ne=H=>{if(H&&(Ze=H),Pe){const $=Pe;Pe=null,$()}},Ye=()=>new n((H,$)=>{Ze?$(Ze):Pe=()=>{Ze?$(Ze):H()}});ee.on("drain",Ne);const oe=a(ee,{readable:!1},Ne);try{ee.writableNeedDrain&&await Ye();for await(const H of K)ee.write(H)||await Ye();Ae&&(ee.end(),await Ye()),ge()}catch(H){ge(Ze!==H?c(Ze,H):H)}finally{oe(),ee.off("drain",Ne)}}async function Re(K,ee,ge,{end:Ae}){D(ee)&&(ee=ee.writable);const Ze=ee.getWriter();try{for await(const Pe of K)await Ze.ready,Ze.write(Pe).catch(()=>{});await Ze.ready,Ae&&await Ze.close(),ge()}catch(Pe){try{await Ze.abort(Pe),ge(Pe)}catch(Ne){ge(Ne)}}}function k(...K){return ie(K,o(pe(K)))}function ie(K,ee,ge){if(K.length===1&&t(K[0])&&(K=K[0]),K.length<2)throw new g("streams");const Ae=new U,Ze=Ae.signal,Pe=ge==null?void 0:ge.signal,Ne=[];b(Pe,"options.signal");function Ye(){ye(new _)}te=te||ga().addAbortListener;let oe;Pe&&(oe=te(Pe,Ye));let H,$;const ae=[];let Z=0;function he(nt){ye(nt,--Z===0)}function ye(nt,gt){var qt;if(nt&&(!H||H.code==="ERR_STREAM_PREMATURE_CLOSE")&&(H=nt),!(!H&&!gt)){for(;ae.length;)ae.shift()(H);(qt=oe)===null||qt===void 0||qt[i](),Ae.abort(),gt&&(H||Ne.forEach(Se=>Se()),e.nextTick(ee,H,$))}}let He;for(let nt=0;nt<K.length;nt++){const gt=K[nt],qt=nt<K.length-1,Se=nt>0,Be=qt||(ge==null?void 0:ge.end)!==!1,ne=nt===K.length-1;if(O(gt)){let z=function(W){W&&W.name!=="AbortError"&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(W)};var tt=z;if(Be){const{destroy:W,cleanup:G}=se(gt,qt,Se);ae.push(W),A(gt)&&ne&&Ne.push(G)}gt.on("error",z),A(gt)&&ne&&Ne.push(()=>{gt.removeListener("error",z)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Ze}),!x(He))throw new h("Iterable, AsyncIterable or Stream","source",He)}else x(gt)||P(gt)||D(gt)?He=gt:He=l.from(gt);else if(typeof gt=="function"){if(D(He)){var Ee;He=_e((Ee=He)===null||Ee===void 0?void 0:Ee.readable)}else He=_e(He);if(He=gt(He,{signal:Ze}),qt){if(!x(He,!0))throw new h("AsyncIterable",`transform[${nt-1}]`,He)}else{var Fe;Y||(Y=_9());const z=new Y({objectMode:!0}),W=(Fe=He)===null||Fe===void 0?void 0:Fe.then;if(typeof W=="function")Z++,W.call(He,Je=>{$=Je,Je!=null&&z.write(Je),Be&&z.end(),e.nextTick(he)},Je=>{z.destroy(Je),e.nextTick(he,Je)});else if(x(He,!0))Z++,ue(He,z,he,{end:Be});else if(Q(He)||D(He)){const Je=He.readable||He;Z++,ue(Je,z,he,{end:Be})}else throw new h("AsyncIterable or Promise","destination",He);He=z;const{destroy:G,cleanup:je}=se(He,!1,!0);ae.push(G),ne&&Ne.push(je)}}else if(O(gt)){if(P(He)){Z+=2;const z=me(He,gt,he,{end:Be});A(gt)&&ne&&Ne.push(z)}else if(D(He)||Q(He)){const z=He.readable||He;Z++,ue(z,gt,he,{end:Be})}else if(x(He))Z++,ue(He,gt,he,{end:Be});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(F(gt)){if(P(He))Z++,Re(_e(He),gt,he,{end:Be});else if(Q(He)||x(He))Z++,Re(He,gt,he,{end:Be});else if(D(He))Z++,Re(He.readable,gt,he,{end:Be});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=l.from(gt)}return(Ze!=null&&Ze.aborted||Pe!=null&&Pe.aborted)&&e.nextTick(Ye),He}function me(K,ee,ge,{end:Ae}){let Ze=!1;if(ee.on("close",()=>{Ze||ge(new v)}),K.pipe(ee,{end:!1}),Ae){let Ne=function(){Ze=!0,ee.end()};var Pe=Ne;X(K)?e.nextTick(Ne):K.once("end",Ne)}else ge();return a(K,{readable:!0,writable:!1},Ne=>{const Ye=K._readableState;Ne&&Ne.code==="ERR_STREAM_PREMATURE_CLOSE"&&Ye&&Ye.ended&&!Ye.errored&&!Ye.errorEmitted?K.once("end",ge).once("error",ge):ge(Ne)}),a(ee,{readable:!1,writable:!0},ge)}return Ax={pipelineImpl:ie,pipeline:k},Ax}var Rx,ON;function w9(){if(ON)return Rx;ON=1;const{pipeline:e}=XP(),t=Ou(),{destroyer:n}=Hh(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:c}=Nu(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:g}}=Ia(),y=tc();return Rx=function(..._){if(_.length===0)throw new g("streams");if(_.length===1)return t.from(_[0]);const S=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const Y=_.length-1;_[Y]=t.from(_[Y])}for(let Y=0;Y<_.length;++Y)if(!(!r(_[Y])&&!o(_[Y]))){if(Y<_.length-1&&!(i(_[Y])||c(_[Y])||s(_[Y])))throw new h(`streams[${Y}]`,S[Y],"must be readable");if(Y>0&&!(a(_[Y])||l(_[Y])||s(_[Y])))throw new h(`streams[${Y}]`,S[Y],"must be writable")}let b,x,A,P,O;function D(Y){const ce=P;P=null,ce?ce(Y):Y?O.destroy(Y):!U&&!X&&O.destroy()}const F=_[0],Q=e(_,D),X=!!(a(F)||l(F)||s(F)),U=!!(i(Q)||c(Q)||s(Q));if(O=new t({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:X,readable:U}),X){if(r(F))O._write=function(ce,te,se){F.write(ce,te)?se():b=se},O._final=function(ce){F.end(),x=ce},F.on("drain",function(){if(b){const ce=b;b=null,ce()}});else if(o(F)){const te=(s(F)?F.writable:F).getWriter();O._write=async function(se,pe,_e){try{await te.ready,te.write(se).catch(()=>{}),_e()}catch(de){_e(de)}},O._final=async function(se){try{await te.ready,te.close().catch(()=>{}),x=se}catch(pe){se(pe)}}}const Y=s(Q)?Q.readable:Q;y(Y,()=>{if(x){const ce=x;x=null,ce()}})}if(U){if(r(Q))Q.on("readable",function(){if(A){const Y=A;A=null,Y()}}),Q.on("end",function(){O.push(null)}),O._read=function(){for(;;){const Y=Q.read();if(Y===null){A=O._read;return}if(!O.push(Y))return}};else if(o(Q)){const ce=(s(Q)?Q.readable:Q).getReader();O._read=async function(){for(;;)try{const{value:te,done:se}=await ce.read();if(!O.push(te))return;if(se){O.push(null);return}}catch{return}}}}return O._destroy=function(Y,ce){!Y&&P!==null&&(Y=new d),A=null,b=null,x=null,P===null?ce(Y):(P=ce,r(Q)&&n(Q,Y))},O},Rx}var LN;function Zne(){if(LN)return Zv;LN=1;const e=globalThis.AbortController||$m().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Ia(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=py(),c=Vr().Symbol("kWeak"),d=Vr().Symbol("kResistStopPropagation"),{finished:h}=tc(),g=w9(),{addAbortSignalNoValidate:y}=Kw(),{isWritable:v,isNodeStream:_}=Nu(),{deprecate:S}=ga(),{ArrayPrototypePush:b,Boolean:x,MathFloor:A,Number:P,NumberIsNaN:O,Promise:D,PromiseReject:F,PromiseResolve:Q,PromisePrototypeThen:X,Symbol:U}=Vr(),Y=U("kEmpty"),ce=U("kEof");function te(Pe,Ne){if(Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),_(Pe)&&!v(Pe))throw new t("stream",Pe,"must be writable");const Ye=g(this,Pe);return Ne!=null&&Ne.signal&&y(Ne.signal,Ye),Ye}function se(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal");let Ye=1;(Ne==null?void 0:Ne.concurrency)!=null&&(Ye=A(Ne.concurrency));let oe=Ye-1;return(Ne==null?void 0:Ne.highWaterMark)!=null&&(oe=A(Ne.highWaterMark)),s(Ye,"options.concurrency",1),s(oe,"options.highWaterMark",0),oe+=Ye,(async function*(){const $=ga().AbortSignalAny([Ne==null?void 0:Ne.signal].filter(x)),ae=this,Z=[],he={signal:$};let ye,He,Ee=!1,Fe=0;function tt(){Ee=!0,nt()}function nt(){Fe-=1,gt()}function gt(){He&&!Ee&&Fe<Ye&&Z.length<oe&&(He(),He=null)}async function qt(){try{for await(let Se of ae){if(Ee)return;if($.aborted)throw new a;try{if(Se=Pe(Se,he),Se===Y)continue;Se=Q(Se)}catch(Be){Se=F(Be)}Fe+=1,X(Se,nt,tt),Z.push(Se),ye&&(ye(),ye=null),!Ee&&(Z.length>=oe||Fe>=Ye)&&await new D(Be=>{He=Be})}Z.push(ce)}catch(Se){const Be=F(Se);X(Be,nt,tt),Z.push(Be)}finally{Ee=!0,ye&&(ye(),ye=null)}}qt();try{for(;;){for(;Z.length>0;){const Se=await Z[0];if(Se===ce)return;if($.aborted)throw new a;Se!==Y&&(yield Se),Z.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Ee=!0,He&&(He(),He=null)}}).call(this)}function pe(Pe=void 0){return Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&o(Pe.signal,"options.signal"),(async function*(){let Ye=0;for await(const H of this){var oe;if(Pe!=null&&(oe=Pe.signal)!==null&&oe!==void 0&&oe.aborted)throw new a({cause:Pe.signal.reason});yield[Ye++,H]}}).call(this)}async function _e(Pe,Ne=void 0){for await(const Ye of k.call(this,Pe,Ne))return!0;return!1}async function de(Pe,Ne=void 0){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);return!await _e.call(this,async(...Ye)=>!await Pe(...Ye),Ne)}async function ue(Pe,Ne){for await(const Ye of k.call(this,Pe,Ne))return Ye}async function Re(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Ye(oe,H){return await Pe(oe,H),Y}for await(const oe of se.call(this,Ye,Ne));}function k(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Ye(oe,H){return await Pe(oe,H)?oe:Y}return se.call(this,Ye,Ne)}class ie extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function me(Pe,Ne,Ye){var oe;if(typeof Pe!="function")throw new n("reducer",["Function","AsyncFunction"],Pe);Ye!=null&&l(Ye,"options"),(Ye==null?void 0:Ye.signal)!=null&&o(Ye.signal,"options.signal");let H=arguments.length>1;if(Ye!=null&&(oe=Ye.signal)!==null&&oe!==void 0&&oe.aborted){const ye=new a(void 0,{cause:Ye.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(ye)),ye}const $=new e,ae=$.signal;if(Ye!=null&&Ye.signal){const ye={once:!0,[c]:this,[d]:!0};Ye.signal.addEventListener("abort",()=>$.abort(),ye)}let Z=!1;try{for await(const ye of this){var he;if(Z=!0,Ye!=null&&(he=Ye.signal)!==null&&he!==void 0&&he.aborted)throw new a;H?Ne=await Pe(Ne,ye,{signal:ae}):(Ne=ye,H=!0)}if(!Z&&!H)throw new ie}finally{$.abort()}return Ne}async function K(Pe){Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&o(Pe.signal,"options.signal");const Ne=[];for await(const oe of this){var Ye;if(Pe!=null&&(Ye=Pe.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new a(void 0,{cause:Pe.signal.reason});b(Ne,oe)}return Ne}function ee(Pe,Ne){const Ye=se.call(this,Pe,Ne);return(async function*(){for await(const H of Ye)yield*H}).call(this)}function ge(Pe){if(Pe=P(Pe),O(Pe))return 0;if(Pe<0)throw new i("number",">= 0",Pe);return Pe}function Ae(Pe,Ne=void 0){return Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),Pe=ge(Pe),(async function*(){var oe;if(Ne!=null&&(oe=Ne.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var H;if(Ne!=null&&(H=Ne.signal)!==null&&H!==void 0&&H.aborted)throw new a;Pe--<=0&&(yield $)}}).call(this)}function Ze(Pe,Ne=void 0){return Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),Pe=ge(Pe),(async function*(){var oe;if(Ne!=null&&(oe=Ne.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var H;if(Ne!=null&&(H=Ne.signal)!==null&&H!==void 0&&H.aborted)throw new a;if(Pe-- >0&&(yield $),Pe<=0)return}}).call(this)}return Zv.streamReturningOperators={asIndexedPairs:S(pe,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:k,flatMap:ee,map:se,take:Ze,compose:te},Zv.promiseReturningOperators={every:de,forEach:Re,reduce:me,toArray:K,some:_e,find:ue},Zv}var Px,IN;function b9(){if(IN)return Px;IN=1;const{ArrayPrototypePop:e,Promise:t}=Vr(),{isIterable:n,isNodeStream:r,isWebStream:i}=Nu(),{pipelineImpl:a}=XP(),{finished:o}=tc();S9();function s(...l){return new t((c,d)=>{let h,g;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const v=e(l);h=v.signal,g=v.end}a(l,(v,_)=>{v?d(v):c(_)},{signal:h,end:g})})}return Px={finished:o,pipeline:s},Px}var MN;function S9(){if(MN)return ox.exports;MN=1;const{Buffer:e}=ku(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=Vr(),{promisify:{custom:i}}=ga(),{streamReturningOperators:a,promiseReturningOperators:o}=Zne(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Ia(),l=w9(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:d}=Gw(),{pipeline:h}=XP(),{destroyer:g}=Hh(),y=tc(),v=b9(),_=Nu(),S=ox.exports=JP().Stream;S.isDestroyed=_.isDestroyed,S.isDisturbed=_.isDisturbed,S.isErrored=_.isErrored,S.isReadable=_.isReadable,S.isWritable=_.isWritable,S.Readable=Ww();for(const A of n(a)){let O=function(...D){if(new.target)throw s();return S.Readable.from(r(P,this,D))};var x=O;const P=a[A];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(S.Readable.prototype,A,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(o)){let O=function(...F){if(new.target)throw s();return r(P,this,F)};var x=O;const P=o[A];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(S.Readable.prototype,A,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}S.Writable=YP(),S.Duplex=Ou(),S.Transform=v9(),S.PassThrough=_9(),S.pipeline=h;const{addAbortSignal:b}=Kw();return S.addAbortSignal=b,S.finished=y,S.destroy=g,S.compose=l,S.setDefaultHighWaterMark=c,S.getDefaultHighWaterMark=d,t(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),t(h,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),t(y,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),S.Stream=S,S._isUint8Array=function(P){return P instanceof Uint8Array},S._uint8ArrayToBuffer=function(P){return e.from(P.buffer,P.byteOffset,P.byteLength)},ox.exports}var DN;function x9(){return DN||(DN=1,function(e){const t=S9(),n=b9(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(ax)),ax.exports}var Vh=x9();let Os=class{constructor(t,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Kl,t&&this.addQuads(t)}_termFromId(t,n){if(t[0]==="."){const r=this._entities,i=t.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return uf(t,n)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(xh(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[fa(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${xh(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:fa(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const g=this._entities,y=this._termFromId(l,this._factory),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(g[_],this._factory),r&&((c=d,d={})[r]=c[r]);for(const S in d)if(h=d[S]){v[o]=this._termFromId(g[S],this._factory);const b=i?i in h?[i]:[]:Object.keys(h);for(let x=0;x<b.length;x++)v[s]=this._termFromId(g[b[x]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){if(!Jne(t))return this._graphs;const n={};return n[t]=this._graphs[t],n}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=fa(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(a.subjects,t,n,r);return this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,o}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=fa(i);const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Vh.Readable({objectMode:!0});return a._read=()=>{for(const o of this.readQuads(t,n,r,i))a.push(o);a.push(null)},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){i=i&&fa(i);const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new Yne(this,t,n,r,i)}countQuads(t,n,r,i){i=i&&fa(i);const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o),!1),n,r,i,a)}every(t,n,r,i,a){let o=!1;const s=!this.some(l=>(o=!0,!t(l)),n,r,i,a);return o&&s}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){i=i&&fa(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){i=i&&fa(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){i=i&&fa(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,a)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Gi.rdf.rest,Gi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const g=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let S,b=null,x=null,A=null;for(let P=0;P<_.length&&!c;P++)S=_[P],S.graph.equals(g)?d?c=i(y,"has non-list arcs out"):S.predicate.value===Gi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):o.push(b=S):S.predicate.value===Gi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):o.push(x=S):v.length?c=i(y,"can't be subject and object"):(d=S,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)S=v[P],d?c=i(y,"can't have coreferences"):S.predicate.value===Gi.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=S:(d=S,h="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=A&&A.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function Jne(e){return typeof e=="string"||e instanceof String}let Yne=class E9 extends Vh.Readable{constructor(t,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new Os({factory:t._factory});for(const s of t.readQuads(a,i,r,n))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const t of this)this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new E9(this.filtered,t,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class C9 extends Vh.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new zh(t);let r,i;n.parse({on:(a,o)=>{switch(a){case"data":r=o;break;case"end":i=o;break}}},(a,o)=>{a&&this.emit("error",a)||o&&this.push(o)},(a,o)=>{this.emit("prefix",a,o)}),this._transform=(a,o,s)=>{r(a),s()},this._flush=a=>{i(),a()}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),this}}class T9 extends Vh.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new Vw({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},t);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),t.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const Xne={Lexer:GP,Parser:zh,Writer:Vw,Store:Os,StreamParser:C9,StreamWriter:T9,Util:h9,DataFactory:Kl,Term:Ms,NamedNode:Xr,Literal:Qd,BlankNode:WP,Variable:QP,DefaultGraph:ZP,Quad:Uo,Triple:Uo,termFromId:uf,termToId:fa},ere=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:WP,DataFactory:Kl,DefaultGraph:ZP,Lexer:GP,Literal:Qd,NamedNode:Xr,Parser:zh,Quad:Uo,Store:Os,StreamParser:C9,StreamWriter:T9,Term:Ms,Triple:Uo,Util:h9,Variable:QP,Writer:Vw,default:Xne,termFromId:uf,termToId:fa},Symbol.toStringTag,{value:"Module"}));var tre="http://www.w3.org/ns/auth/acl#Access",nre="http://www.w3.org/ns/auth/acl#Append",rre="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",ire="http://www.w3.org/ns/auth/acl#Authorization",are="http://www.w3.org/ns/auth/acl#Control",ore="http://www.w3.org/ns/auth/acl#Origin",sre="http://www.w3.org/ns/auth/acl#Read",ure="http://www.w3.org/ns/auth/acl#Write",lre="http://www.w3.org/ns/auth/acl#accessControl",cre="http://www.w3.org/ns/auth/acl#accessTo",fre="http://www.w3.org/ns/auth/acl#accessToClass",dre="http://www.w3.org/ns/auth/acl#agent",hre="http://www.w3.org/ns/auth/acl#agentClass",pre="http://www.w3.org/ns/auth/acl#agentGroup",gre="http://www.w3.org/ns/auth/acl#default",mre="http://www.w3.org/ns/auth/acl#defaultForNew",yre="http://www.w3.org/ns/auth/acl#delegates",vre="http://www.w3.org/ns/auth/acl#mode",_re="http://www.w3.org/ns/auth/acl#origin",wre="http://www.w3.org/ns/auth/acl#owner",bre=Object.freeze({Access:tre,Append:nre,AuthenticatedAgent:rre,Authorization:ire,Control:are,Origin:ore,Read:sre,Write:ure,accessControl:lre,accessTo:cre,accessToClass:fre,agent:dre,agentClass:hre,agentGroup:pre,default__workaround:gre,defaultForNew:mre,delegates:yre,mode:vre,origin:_re,owner:wre}),Sre="http://www.w3.org/ns/activitystreams#actor",xre="http://www.w3.org/ns/activitystreams#attributedTo",Ere="http://www.w3.org/ns/activitystreams#attachment",Cre="http://www.w3.org/ns/activitystreams#attachments",Tre="http://www.w3.org/ns/activitystreams#author",Are="http://www.w3.org/ns/activitystreams#bcc",Rre="http://www.w3.org/ns/activitystreams#bto",Pre="http://www.w3.org/ns/activitystreams#cc",Ore="http://www.w3.org/ns/activitystreams#context",Lre="http://www.w3.org/ns/activitystreams#generator",Ire="http://www.w3.org/ns/activitystreams#icon",Mre="http://www.w3.org/ns/activitystreams#image",Dre="http://www.w3.org/ns/activitystreams#inReplyTo",kre="http://www.w3.org/ns/activitystreams#items",Nre="http://www.w3.org/ns/activitystreams#location",Fre="http://www.w3.org/ns/activitystreams#object",jre="http://www.w3.org/ns/activitystreams#oneOf",$re="http://www.w3.org/ns/activitystreams#anyOf",Ure="http://www.w3.org/ns/activitystreams#preview",Bre="http://www.w3.org/ns/activitystreams#provider",qre="http://www.w3.org/ns/activitystreams#replies",zre="http://www.w3.org/ns/activitystreams#result",Hre="http://www.w3.org/ns/activitystreams#audience",Vre="http://www.w3.org/ns/activitystreams#tag",Kre="http://www.w3.org/ns/activitystreams#tags",Gre="http://www.w3.org/ns/activitystreams#target",Wre="http://www.w3.org/ns/activitystreams#origin",Qre="http://www.w3.org/ns/activitystreams#instrument",Zre="http://www.w3.org/ns/activitystreams#to",Jre="http://www.w3.org/ns/activitystreams#url",Yre="http://www.w3.org/ns/activitystreams#relationship",Xre="http://www.w3.org/ns/activitystreams#describes",eie="http://www.w3.org/ns/activitystreams#formerType",tie="http://www.w3.org/ns/activitystreams#accuracy",nie="http://www.w3.org/ns/activitystreams#altitude",rie="http://www.w3.org/ns/activitystreams#content",iie="http://www.w3.org/ns/activitystreams#name",aie="http://www.w3.org/ns/activitystreams#downstreamDuplicates",oie="http://www.w3.org/ns/activitystreams#duration",sie="http://www.w3.org/ns/activitystreams#endTime",uie="http://www.w3.org/ns/activitystreams#height",lie="http://www.w3.org/ns/activitystreams#href",cie="http://www.w3.org/ns/activitystreams#hreflang",fie="http://www.w3.org/ns/activitystreams#id",die="http://www.w3.org/ns/activitystreams#latitude",hie="http://www.w3.org/ns/activitystreams#longitude",pie="http://www.w3.org/ns/activitystreams#mediaType",gie="http://www.w3.org/ns/activitystreams#objectType",mie="http://www.w3.org/ns/activitystreams#published",yie="http://www.w3.org/ns/activitystreams#radius",vie="http://www.w3.org/ns/activitystreams#rating",_ie="http://www.w3.org/ns/activitystreams#rel",wie="http://www.w3.org/ns/activitystreams#startIndex",bie="http://www.w3.org/ns/activitystreams#startTime",Sie="http://www.w3.org/ns/activitystreams#summary",xie="http://www.w3.org/ns/activitystreams#totalItems",Eie="http://www.w3.org/ns/activitystreams#units",Cie="http://www.w3.org/ns/activitystreams#updated",Tie="http://www.w3.org/ns/activitystreams#upstreamDuplicates",Aie="http://www.w3.org/ns/activitystreams#verb",Rie="http://www.w3.org/ns/activitystreams#width",Pie="http://www.w3.org/ns/activitystreams#deleted",Oie="http://www.w3.org/ns/activitystreams#Accept",Lie="http://www.w3.org/ns/activitystreams#Activity",Iie="http://www.w3.org/ns/activitystreams#Block",Mie="http://www.w3.org/ns/activitystreams#IntransitiveActivity",Die="http://www.w3.org/ns/activitystreams#Add",kie="http://www.w3.org/ns/activitystreams#Announce",Nie="http://www.w3.org/ns/activitystreams#Application",Fie="http://www.w3.org/ns/activitystreams#Arrive",jie="http://www.w3.org/ns/activitystreams#Article",$ie="http://www.w3.org/ns/activitystreams#Audio",Uie="http://www.w3.org/ns/activitystreams#Collection",Bie="http://www.w3.org/ns/activitystreams#CollectionPage",qie="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",zie="http://www.w3.org/ns/activitystreams#Relationship",Hie="http://www.w3.org/ns/activitystreams#Create",Vie="http://www.w3.org/ns/activitystreams#Delete",Kie="http://www.w3.org/ns/activitystreams#Dislike",Gie="http://www.w3.org/ns/activitystreams#Document",Wie="http://www.w3.org/ns/activitystreams#Event",Qie="http://www.w3.org/ns/activitystreams#Flag",Zie="http://www.w3.org/ns/activitystreams#Follow",Jie="http://www.w3.org/ns/activitystreams#Group",Yie="http://www.w3.org/ns/activitystreams#Ignore",Xie="http://www.w3.org/ns/activitystreams#Image",eae="http://www.w3.org/ns/activitystreams#Invite",tae="http://www.w3.org/ns/activitystreams#Join",nae="http://www.w3.org/ns/activitystreams#Leave",rae="http://www.w3.org/ns/activitystreams#Like",iae="http://www.w3.org/ns/activitystreams#View",aae="http://www.w3.org/ns/activitystreams#Listen",oae="http://www.w3.org/ns/activitystreams#Read",sae="http://www.w3.org/ns/activitystreams#Move",uae="http://www.w3.org/ns/activitystreams#Travel",lae="http://www.w3.org/ns/activitystreams#Link",cae="http://www.w3.org/ns/activitystreams#Mention",fae="http://www.w3.org/ns/activitystreams#Note",dae="http://www.w3.org/ns/activitystreams#Object",hae="http://www.w3.org/ns/activitystreams#Offer",pae="http://www.w3.org/ns/activitystreams#OrderedCollection",gae="http://www.w3.org/ns/activitystreams#OrderedItems",mae="http://www.w3.org/ns/activitystreams#Page",yae="http://www.w3.org/ns/activitystreams#Person",vae="http://www.w3.org/ns/activitystreams#Organization",_ae="http://www.w3.org/ns/activitystreams#Profile",wae="http://www.w3.org/ns/activitystreams#Place",bae="http://www.w3.org/ns/activitystreams#Question",Sae="http://www.w3.org/ns/activitystreams#Reject",xae="http://www.w3.org/ns/activitystreams#Remove",Eae="http://www.w3.org/ns/activitystreams#Service",Cae="http://www.w3.org/ns/activitystreams#TentativeAccept",Tae="http://www.w3.org/ns/activitystreams#TentativeReject",Aae="http://www.w3.org/ns/activitystreams#Tombstone",Rae="http://www.w3.org/ns/activitystreams#Undo",Pae="http://www.w3.org/ns/activitystreams#Update",Oae="http://www.w3.org/ns/activitystreams#Video",Lae=Object.freeze({actor:Sre,attributedTo:xre,attachment:Ere,attachments:Cre,author:Tre,bcc:Are,bto:Rre,cc:Pre,context:Ore,generator:Lre,icon:Ire,image:Mre,inReplyTo:Dre,items:kre,location:Nre,object:Fre,oneOf:jre,anyOf:$re,preview:Ure,provider:Bre,replies:qre,result:zre,audience:Hre,tag:Vre,tags:Kre,target:Gre,origin:Wre,instrument:Qre,to:Zre,url:Jre,relationship:Yre,describes:Xre,formerType:eie,accuracy:tie,altitude:nie,content:rie,name:iie,downstreamDuplicates:aie,duration:oie,endTime:sie,height:uie,href:lie,hreflang:cie,id:fie,latitude:die,longitude:hie,mediaType:pie,objectType:gie,published:mie,radius:yie,rating:vie,rel:_ie,startIndex:wie,startTime:bie,summary:Sie,totalItems:xie,units:Eie,updated:Cie,upstreamDuplicates:Tie,verb:Aie,width:Rie,deleted:Pie,Accept:Oie,Activity:Lie,Block:Iie,IntransitiveActivity:Mie,Add:Die,Announce:kie,Application:Nie,Arrive:Fie,Article:jie,Audio:$ie,Collection:Uie,CollectionPage:Bie,OrderedCollectionPage:qie,Relationship:zie,Create:Hie,Delete:Vie,Dislike:Kie,Document:Gie,Event:Wie,Flag:Qie,Follow:Zie,Group:Jie,Ignore:Yie,Image:Xie,Invite:eae,Join:tae,Leave:nae,Like:rae,View:iae,Listen:aae,Read:oae,Move:sae,Travel:uae,Link:lae,Mention:cae,Note:fae,Object__workaround:dae,Offer:hae,OrderedCollection:pae,OrderedItems:gae,Page:mae,Person:yae,Organization:vae,Profile:_ae,Place:wae,Question:bae,Reject:Sae,Remove:xae,Service:Eae,TentativeAccept:Cae,TentativeReject:Tae,Tombstone:Aae,Undo:Rae,Update:Pae,Video:Oae}),Iae="http://purl.org/dc/terms/AgentClass",Mae="http://purl.org/dc/terms/BibliographicResource",Dae="http://purl.org/dc/terms/Box",kae="http://purl.org/dc/terms/FileFormat",Nae="http://purl.org/dc/terms/Frequency",Fae="http://purl.org/dc/terms/ISO3166",jae="http://purl.org/dc/terms/Jurisdiction",$ae="http://purl.org/dc/terms/LicenseDocument",Uae="http://purl.org/dc/terms/LinguisticSystem",Bae="http://purl.org/dc/terms/Location",qae="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",zae="http://purl.org/dc/terms/MediaType",Hae="http://purl.org/dc/terms/MediaTypeOrExtent",Vae="http://purl.org/dc/terms/MethodOfAccrual",Kae="http://purl.org/dc/terms/MethodOfInstruction",Gae="http://purl.org/dc/terms/Period",Wae="http://purl.org/dc/terms/PeriodOfTime",Qae="http://purl.org/dc/terms/PhysicalMedium",Zae="http://purl.org/dc/terms/PhysicalResource",Jae="http://purl.org/dc/terms/Point",Yae="http://purl.org/dc/terms/Policy",Xae="http://purl.org/dc/terms/ProvenanceStatement",eoe="http://purl.org/dc/terms/RFC1766",toe="http://purl.org/dc/terms/RFC3066",noe="http://purl.org/dc/terms/RFC4646",roe="http://purl.org/dc/terms/RFC5646",ioe="http://purl.org/dc/terms/RightsStatement",aoe="http://purl.org/dc/terms/SizeOrDuration",ooe="http://purl.org/dc/terms/Standard",soe="http://purl.org/dc/terms/URI",uoe="http://purl.org/dc/terms/W3CDTF",loe="http://purl.org/dc/terms/abstract",coe="http://purl.org/dc/terms/accessRights",foe="http://purl.org/dc/terms/accrualMethod",doe="http://purl.org/dc/terms/accrualPeriodicity",hoe="http://purl.org/dc/terms/accrualPolicy",poe="http://purl.org/dc/terms/alternative",goe="http://purl.org/dc/terms/audience",moe="http://purl.org/dc/terms/available",yoe="http://purl.org/dc/terms/bibliographicCitation",voe="http://purl.org/dc/terms/conformsTo",_oe="http://purl.org/dc/terms/contributor",woe="http://purl.org/dc/terms/coverage",boe="http://purl.org/dc/terms/created",Soe="http://purl.org/dc/terms/creator",xoe="http://purl.org/dc/terms/date",Eoe="http://purl.org/dc/terms/dateAccepted",Coe="http://purl.org/dc/terms/dateCopyrighted",Toe="http://purl.org/dc/terms/dateSubmitted",Aoe="http://purl.org/dc/terms/description",Roe="http://purl.org/dc/terms/educationLevel",Poe="http://purl.org/dc/terms/extent",Ooe="http://purl.org/dc/terms/format",Loe="http://purl.org/dc/terms/hasFormat",Ioe="http://purl.org/dc/terms/hasPart",Moe="http://purl.org/dc/terms/hasVersion",Doe="http://purl.org/dc/terms/identifier",koe="http://purl.org/dc/terms/instructionalMethod",Noe="http://purl.org/dc/terms/isFormatOf",Foe="http://purl.org/dc/terms/isPartOf",joe="http://purl.org/dc/terms/isReferencedBy",$oe="http://purl.org/dc/terms/isReplacedBy",Uoe="http://purl.org/dc/terms/isRequiredBy",Boe="http://purl.org/dc/terms/isVersionOf",qoe="http://purl.org/dc/terms/issued",zoe="http://purl.org/dc/terms/language",Hoe="http://purl.org/dc/terms/license",Voe="http://purl.org/dc/terms/mediator",Koe="http://purl.org/dc/terms/medium",Goe="http://purl.org/dc/terms/modified",Woe="http://purl.org/dc/terms/provenance",Qoe="http://purl.org/dc/terms/publisher",Zoe="http://purl.org/dc/terms/references",Joe="http://purl.org/dc/terms/relation",Yoe="http://purl.org/dc/terms/replaces",Xoe="http://purl.org/dc/terms/requires",ese="http://purl.org/dc/terms/rights",tse="http://purl.org/dc/terms/rightsHolder",nse="http://purl.org/dc/terms/source",rse="http://purl.org/dc/terms/spatial",ise="http://purl.org/dc/terms/subject",ase="http://purl.org/dc/terms/tableOfContents",ose="http://purl.org/dc/terms/temporal",sse="http://purl.org/dc/terms/title",use="http://purl.org/dc/terms/type",lse="http://purl.org/dc/terms/valid",cse=Object.freeze({AgentClass:Iae,BibliographicResource:Mae,Box:Dae,FileFormat:kae,Frequency:Nae,ISO3166:Fae,Jurisdiction:jae,LicenseDocument:$ae,LinguisticSystem:Uae,Location:Bae,LocationPeriodOrJurisdiction:qae,MediaType:zae,MediaTypeOrExtent:Hae,MethodOfAccrual:Vae,MethodOfInstruction:Kae,Period:Gae,PeriodOfTime:Wae,PhysicalMedium:Qae,PhysicalResource:Zae,Point:Jae,Policy:Yae,ProvenanceStatement:Xae,RFC1766:eoe,RFC3066:toe,RFC4646:noe,RFC5646:roe,RightsStatement:ioe,SizeOrDuration:aoe,Standard:ooe,URI:soe,W3CDTF:uoe,abstract:loe,accessRights:coe,accrualMethod:foe,accrualPeriodicity:doe,accrualPolicy:hoe,alternative:poe,audience:goe,available:moe,bibliographicCitation:yoe,conformsTo:voe,contributor:_oe,coverage:woe,created:boe,creator:Soe,date:xoe,dateAccepted:Eoe,dateCopyrighted:Coe,dateSubmitted:Toe,description:Aoe,educationLevel:Roe,extent:Poe,format:Ooe,hasFormat:Loe,hasPart:Ioe,hasVersion:Moe,identifier:Doe,instructionalMethod:koe,isFormatOf:Noe,isPartOf:Foe,isReferencedBy:joe,isReplacedBy:$oe,isRequiredBy:Uoe,isVersionOf:Boe,issued:qoe,language:zoe,license:Hoe,mediator:Voe,medium:Koe,modified:Goe,provenance:Woe,publisher:Qoe,references:Zoe,relation:Joe,replaces:Yoe,requires:Xoe,rights:ese,rightsHolder:tse,source:nse,spatial:rse,subject:ise,tableOfContents:ase,temporal:ose,title:sse,type:use,valid:lse}),fse="http://xmlns.com/foaf/0.1/Person",dse="http://xmlns.com/foaf/0.1/Document",hse="http://xmlns.com/foaf/0.1/Organization",pse="http://xmlns.com/foaf/0.1/Group",gse="http://xmlns.com/foaf/0.1/Agent",mse="http://xmlns.com/foaf/0.1/Project",yse="http://xmlns.com/foaf/0.1/Image",vse="http://xmlns.com/foaf/0.1/PersonalProfileDocument",_se="http://xmlns.com/foaf/0.1/OnlineAccount",wse="http://xmlns.com/foaf/0.1/OnlineGamingAccount",bse="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Sse="http://xmlns.com/foaf/0.1/OnlineChatAccount",xse="http://xmlns.com/foaf/0.1/mbox",Ese="http://xmlns.com/foaf/0.1/mbox_sha1sum",Cse="http://xmlns.com/foaf/0.1/gender",Tse="http://xmlns.com/foaf/0.1/geekcode",Ase="http://xmlns.com/foaf/0.1/dnaChecksum",Rse="http://xmlns.com/foaf/0.1/sha1",Pse="http://xmlns.com/foaf/0.1/based_near",Ose="http://xmlns.com/foaf/0.1/title",Lse="http://xmlns.com/foaf/0.1/nick",Ise="http://xmlns.com/foaf/0.1/jabberID",Mse="http://xmlns.com/foaf/0.1/aimChatID",Dse="http://xmlns.com/foaf/0.1/icqChatID",kse="http://xmlns.com/foaf/0.1/yahooChatID",Nse="http://xmlns.com/foaf/0.1/msnChatID",Fse="http://xmlns.com/foaf/0.1/name",jse="http://xmlns.com/foaf/0.1/firstName",$se="http://xmlns.com/foaf/0.1/givenname",Use="http://xmlns.com/foaf/0.1/surname",Bse="http://xmlns.com/foaf/0.1/family_name",qse="http://xmlns.com/foaf/0.1/phone",zse="http://xmlns.com/foaf/0.1/homepage",Hse="http://xmlns.com/foaf/0.1/weblog",Vse="http://xmlns.com/foaf/0.1/tipjar",Kse="http://xmlns.com/foaf/0.1/plan",Gse="http://xmlns.com/foaf/0.1/made",Wse="http://xmlns.com/foaf/0.1/maker",Qse="http://xmlns.com/foaf/0.1/img",Zse="http://xmlns.com/foaf/0.1/depiction",Jse="http://xmlns.com/foaf/0.1/depicts",Yse="http://xmlns.com/foaf/0.1/thumbnail",Xse="http://xmlns.com/foaf/0.1/myersBriggs",eue="http://xmlns.com/foaf/0.1/workplaceHomepage",tue="http://xmlns.com/foaf/0.1/workInfoHomepage",nue="http://xmlns.com/foaf/0.1/schoolHomepage",rue="http://xmlns.com/foaf/0.1/knows",iue="http://xmlns.com/foaf/0.1/interest",aue="http://xmlns.com/foaf/0.1/topic_interest",oue="http://xmlns.com/foaf/0.1/publications",sue="http://xmlns.com/foaf/0.1/currentProject",uue="http://xmlns.com/foaf/0.1/pastProject",lue="http://xmlns.com/foaf/0.1/fundedBy",cue="http://xmlns.com/foaf/0.1/logo",fue="http://xmlns.com/foaf/0.1/topic",due="http://xmlns.com/foaf/0.1/primaryTopic",hue="http://xmlns.com/foaf/0.1/page",pue="http://xmlns.com/foaf/0.1/theme",gue="http://xmlns.com/foaf/0.1/holdsAccount",mue="http://xmlns.com/foaf/0.1/accountServiceHomepage",yue="http://xmlns.com/foaf/0.1/accountName",vue="http://xmlns.com/foaf/0.1/member",_ue="http://xmlns.com/foaf/0.1/membershipClass",wue=Object.freeze({Person:fse,Document:dse,Organization:hse,Group:pse,Agent:gse,Project:mse,Image:yse,PersonalProfileDocument:vse,OnlineAccount:_se,OnlineGamingAccount:wse,OnlineEcommerceAccount:bse,OnlineChatAccount:Sse,mbox:xse,mbox_sha1sum:Ese,gender:Cse,geekcode:Tse,dnaChecksum:Ase,sha1:Rse,based_near:Pse,title:Ose,nick:Lse,jabberID:Ise,aimChatID:Mse,icqChatID:Dse,yahooChatID:kse,msnChatID:Nse,name:Fse,firstName:jse,givenname:$se,surname:Use,family_name:Bse,phone:qse,homepage:zse,weblog:Hse,tipjar:Vse,plan:Kse,made:Gse,maker:Wse,img:Qse,depiction:Zse,depicts:Jse,thumbnail:Yse,myersBriggs:Xse,workplaceHomepage:eue,workInfoHomepage:tue,schoolHomepage:nue,knows:rue,interest:iue,topic_interest:aue,publications:oue,currentProject:sue,pastProject:uue,fundedBy:lue,logo:cue,topic:fue,primaryTopic:due,page:hue,theme:pue,holdsAccount:gue,accountServiceHomepage:mue,accountName:yue,member:vue,membershipClass:_ue}),bue="http://www.w3.org/ns/ldp#Resource",Sue="http://www.w3.org/ns/ldp#RDFSource",xue="http://www.w3.org/ns/ldp#NonRDFSource",Eue="http://www.w3.org/ns/ldp#Container",Cue="http://www.w3.org/ns/ldp#BasicContainer",Tue="http://www.w3.org/ns/ldp#DirectContainer",Aue="http://www.w3.org/ns/ldp#IndirectContainer",Rue="http://www.w3.org/ns/ldp#hasMemberRelation",Pue="http://www.w3.org/ns/ldp#isMemberOfRelation",Oue="http://www.w3.org/ns/ldp#membershipResource",Lue="http://www.w3.org/ns/ldp#insertedContentRelation",Iue="http://www.w3.org/ns/ldp#member",Mue="http://www.w3.org/ns/ldp#contains",Due="http://www.w3.org/ns/ldp#constrainedBy",kue="http://www.w3.org/ns/ldp#pageSortCriteria",Nue="http://www.w3.org/ns/ldp#PageSortCriterion",Fue="http://www.w3.org/ns/ldp#pageSortPredicate",jue="http://www.w3.org/ns/ldp#pageSortOrder",$ue="http://www.w3.org/ns/ldp#pageSortCollation",Uue="http://www.w3.org/ns/ldp#Page",Bue="http://www.w3.org/ns/ldp#pageSequence",que="http://www.w3.org/ns/ldp#inbox",zue=Object.freeze({Resource:bue,RDFSource:Sue,NonRDFSource:xue,Container:Eue,BasicContainer:Cue,DirectContainer:Tue,IndirectContainer:Aue,hasMemberRelation:Rue,isMemberOfRelation:Pue,membershipResource:Oue,insertedContentRelation:Lue,member:Iue,contains:Mue,constrainedBy:Due,pageSortCriteria:kue,PageSortCriterion:Nue,pageSortPredicate:Fue,pageSortOrder:jue,pageSortCollation:$ue,Page:Uue,pageSequence:Bue,inbox:que}),Hue="http://www.w3.org/ns/pim/meeting#Meeting",Vue="http://www.w3.org/ns/pim/meeting#VideoCallPage",Kue="http://www.w3.org/ns/pim/meeting#actionItems",Gue="http://www.w3.org/ns/pim/meeting#agenda",Wue="http://www.w3.org/ns/pim/meeting#attendeeGroup",Que="http://www.w3.org/ns/pim/meeting#chat",Zue="http://www.w3.org/ns/pim/meeting#nextMeeting",Jue="http://www.w3.org/ns/pim/meeting#previousMeeting",Yue="http://www.w3.org/ns/pim/meeting#sharedNotes",Xue="http://www.w3.org/ns/pim/meeting#toolList",ele="http://www.w3.org/ns/pim/meeting#trip",tle="http://www.w3.org/ns/pim/meeting#videoCallPage",nle=Object.freeze({Meeting:Hue,VideoCallPage:Vue,actionItems:Kue,agenda:Gue,attendeeGroup:Wue,chat:Que,nextMeeting:Zue,previousMeeting:Jue,sharedNotes:Yue,toolList:Xue,trip:ele,videoCallPage:tle}),rle="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",ile="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",ale="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",ole="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",sle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",ule="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",lle="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",cle="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",fle="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",dle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",hle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",ple="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",gle="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",mle="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",yle="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",vle="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",_le="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",wle="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",ble="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Sle="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",xle="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Ele=Object.freeze({HTML:rle,langString:ile,PlainLiteral:ale,type:ole,Property:sle,Statement:ule,subject:lle,predicate:cle,object:fle,Bag:dle,Seq:hle,Alt:ple,value:gle,List:mle,first:yle,rest:vle,XMLLiteral:_le,JSON__workaround:wle,CompoundLiteral:ble,language:Sle,direction:xle}),Cle="http://www.w3.org/2000/01/rdf-schema#Resource",Tle="http://www.w3.org/2000/01/rdf-schema#Class",Ale="http://www.w3.org/2000/01/rdf-schema#subClassOf",Rle="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",Ple="http://www.w3.org/2000/01/rdf-schema#comment",Ole="http://www.w3.org/2000/01/rdf-schema#label",Lle="http://www.w3.org/2000/01/rdf-schema#domain",Ile="http://www.w3.org/2000/01/rdf-schema#range",Mle="http://www.w3.org/2000/01/rdf-schema#seeAlso",Dle="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",kle="http://www.w3.org/2000/01/rdf-schema#Literal",Nle="http://www.w3.org/2000/01/rdf-schema#Container",Fle="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",jle="http://www.w3.org/2000/01/rdf-schema#member",$le="http://www.w3.org/2000/01/rdf-schema#Datatype",Ule=Object.freeze({Resource:Cle,Class:Tle,subClassOf:Ale,subPropertyOf:Rle,comment:Ple,label:Ole,domain:Lle,range:Ile,seeAlso:Mle,isDefinedBy:Dle,Literal:kle,Container:Nle,ContainerMembershipProperty:Fle,member:jle,Datatype:$le}),Ble="http://rdfs.org/sioc/ns#Community",qle="http://rdfs.org/sioc/ns#Container",zle="http://rdfs.org/sioc/ns#Forum",Hle="http://rdfs.org/sioc/ns#Item",Vle="http://rdfs.org/sioc/ns#Post",Kle="http://rdfs.org/sioc/ns#Role",Gle="http://rdfs.org/sioc/ns#Space",Wle="http://rdfs.org/sioc/ns#Site",Qle="http://rdfs.org/sioc/ns#Thread",Zle="http://rdfs.org/sioc/ns#UserAccount",Jle="http://rdfs.org/sioc/ns#Usergroup",Yle="http://rdfs.org/sioc/ns#about",Xle="http://rdfs.org/sioc/ns#account_of",ece="http://rdfs.org/sioc/ns#addressed_to",tce="http://rdfs.org/sioc/ns#administrator_of",nce="http://rdfs.org/sioc/ns#attachment",rce="http://rdfs.org/sioc/ns#avatar",ice="http://rdfs.org/sioc/ns#container_of",ace="http://rdfs.org/sioc/ns#content",oce="http://rdfs.org/sioc/ns#creator_of",sce="http://rdfs.org/sioc/ns#delivered_at",uce="http://rdfs.org/sioc/ns#discussion_of",lce="http://rdfs.org/sioc/ns#email",cce="http://rdfs.org/sioc/ns#email_sha1",fce="http://rdfs.org/sioc/ns#embeds_knowledge",dce="http://rdfs.org/sioc/ns#feed",hce="http://rdfs.org/sioc/ns#follows",pce="http://rdfs.org/sioc/ns#function_of",gce="http://rdfs.org/sioc/ns#generator",mce="http://rdfs.org/sioc/ns#has_administrator",yce="http://rdfs.org/sioc/ns#has_container",vce="http://rdfs.org/sioc/ns#has_creator",_ce="http://rdfs.org/sioc/ns#has_discussion",wce="http://rdfs.org/sioc/ns#has_function",bce="http://rdfs.org/sioc/ns#has_host",Sce="http://rdfs.org/sioc/ns#has_member",xce="http://rdfs.org/sioc/ns#has_moderator",Ece="http://rdfs.org/sioc/ns#has_modifier",Cce="http://rdfs.org/sioc/ns#has_owner",Tce="http://rdfs.org/sioc/ns#has_parent",Ace="http://rdfs.org/sioc/ns#has_reply",Rce="http://rdfs.org/sioc/ns#has_scope",Pce="http://rdfs.org/sioc/ns#has_space",Oce="http://rdfs.org/sioc/ns#has_subscriber",Lce="http://rdfs.org/sioc/ns#has_usergroup",Ice="http://rdfs.org/sioc/ns#host_of",Mce="http://rdfs.org/sioc/ns#id",Dce="http://rdfs.org/sioc/ns#ip_address",kce="http://rdfs.org/sioc/ns#last_activity_date",Nce="http://rdfs.org/sioc/ns#last_item_date",Fce="http://rdfs.org/sioc/ns#last_reply_date",jce="http://rdfs.org/sioc/ns#latest_version",$ce="http://rdfs.org/sioc/ns#likes",Uce="http://rdfs.org/sioc/ns#link",Bce="http://rdfs.org/sioc/ns#links_to",qce="http://rdfs.org/sioc/ns#member_of",zce="http://rdfs.org/sioc/ns#mentions",Hce="http://rdfs.org/sioc/ns#moderator_of",Vce="http://rdfs.org/sioc/ns#modifier_of",Kce="http://rdfs.org/sioc/ns#name",Gce="http://rdfs.org/sioc/ns#next_by_date",Wce="http://rdfs.org/sioc/ns#next_version",Qce="http://rdfs.org/sioc/ns#note",Zce="http://rdfs.org/sioc/ns#num_authors",Jce="http://rdfs.org/sioc/ns#num_items",Yce="http://rdfs.org/sioc/ns#num_replies",Xce="http://rdfs.org/sioc/ns#num_threads",efe="http://rdfs.org/sioc/ns#num_views",tfe="http://rdfs.org/sioc/ns#owner_of",nfe="http://rdfs.org/sioc/ns#parent_of",rfe="http://rdfs.org/sioc/ns#previous_by_date",ife="http://rdfs.org/sioc/ns#previous_version",afe="http://rdfs.org/sioc/ns#read_at",ofe="http://rdfs.org/sioc/ns#related_to",sfe="http://rdfs.org/sioc/ns#reply_of",ufe="http://rdfs.org/sioc/ns#respond_to",lfe="http://rdfs.org/sioc/ns#scope_of",cfe="http://rdfs.org/sioc/ns#shared_by",ffe="http://rdfs.org/sioc/ns#space_of",dfe="http://rdfs.org/sioc/ns#subscriber_of",hfe="http://rdfs.org/sioc/ns#topic",pfe="http://rdfs.org/sioc/ns#usergroup_of",gfe=Object.freeze({Community:Ble,Container:qle,Forum:zle,Item:Hle,Post:Vle,Role:Kle,Space:Gle,Site:Wle,Thread:Qle,UserAccount:Zle,Usergroup:Jle,about:Yle,account_of:Xle,addressed_to:ece,administrator_of:tce,attachment:nce,avatar:rce,container_of:ice,content:ace,creator_of:oce,delivered_at:sce,discussion_of:uce,email:lce,email_sha1:cce,embeds_knowledge:fce,feed:dce,follows:hce,function_of:pce,generator:gce,has_administrator:mce,has_container:yce,has_creator:vce,has_discussion:_ce,has_function:wce,has_host:bce,has_member:Sce,has_moderator:xce,has_modifier:Ece,has_owner:Cce,has_parent:Tce,has_reply:Ace,has_scope:Rce,has_space:Pce,has_subscriber:Oce,has_usergroup:Lce,host_of:Ice,id:Mce,ip_address:Dce,last_activity_date:kce,last_item_date:Nce,last_reply_date:Fce,latest_version:jce,likes:$ce,link:Uce,links_to:Bce,member_of:qce,mentions:zce,moderator_of:Hce,modifier_of:Vce,name:Kce,next_by_date:Gce,next_version:Wce,note:Qce,num_authors:Zce,num_items:Jce,num_replies:Yce,num_threads:Xce,num_views:efe,owner_of:tfe,parent_of:nfe,previous_by_date:rfe,previous_version:ife,read_at:afe,related_to:ofe,reply_of:sfe,respond_to:ufe,scope_of:lfe,shared_by:cfe,space_of:ffe,subscriber_of:dfe,topic:hfe,usergroup_of:pfe}),mfe="http://www.w3.org/ns/solid/terms#Account",yfe="http://www.w3.org/ns/solid/terms#Inbox",vfe="http://www.w3.org/ns/solid/terms#InsertDeletePatch",_fe="http://www.w3.org/ns/solid/terms#ListedDocument",wfe="http://www.w3.org/ns/solid/terms#Notification",bfe="http://www.w3.org/ns/solid/terms#Patch",Sfe="http://www.w3.org/ns/solid/terms#Timeline",xfe="http://www.w3.org/ns/solid/terms#TypeIndex",Efe="http://www.w3.org/ns/solid/terms#TypeRegistration",Cfe="http://www.w3.org/ns/solid/terms#UnlistedDocument",Tfe="http://www.w3.org/ns/solid/terms#account",Afe="http://www.w3.org/ns/solid/terms#deletes",Rfe="http://www.w3.org/ns/solid/terms#forClass",Pfe="http://www.w3.org/ns/solid/terms#inbox",Ofe="http://www.w3.org/ns/solid/terms#inserts",Lfe="http://www.w3.org/ns/solid/terms#instance",Ife="http://www.w3.org/ns/solid/terms#instanceContainer",Mfe="http://www.w3.org/ns/solid/terms#loginEndpoint",Dfe="http://www.w3.org/ns/solid/terms#logoutEndpoint",kfe="http://www.w3.org/ns/solid/terms#notification",Nfe="http://www.w3.org/ns/solid/terms#oidcIssuer",Ffe="http://www.w3.org/ns/solid/terms#owner",jfe="http://www.w3.org/ns/solid/terms#patches",$fe="http://www.w3.org/ns/solid/terms#privateTypeIndex",Ufe="http://www.w3.org/ns/solid/terms#publicTypeIndex",Bfe="http://www.w3.org/ns/solid/terms#read",qfe="http://www.w3.org/ns/solid/terms#storageQuota",zfe="http://www.w3.org/ns/solid/terms#storageUsage",Hfe="http://www.w3.org/ns/solid/terms#typeIndex",Vfe="http://www.w3.org/ns/solid/terms#timeline",Kfe="http://www.w3.org/ns/solid/terms#where",Gfe=Object.freeze({Account:mfe,Inbox:yfe,InsertDeletePatch:vfe,ListedDocument:_fe,Notification:wfe,Patch:bfe,Timeline:Sfe,TypeIndex:xfe,TypeRegistration:Efe,UnlistedDocument:Cfe,account:Tfe,deletes:Afe,forClass:Rfe,inbox:Pfe,inserts:Ofe,instance:Lfe,instanceContainer:Ife,loginEndpoint:Mfe,logoutEndpoint:Dfe,notification:kfe,oidcIssuer:Nfe,owner:Ffe,patches:jfe,privateTypeIndex:$fe,publicTypeIndex:Ufe,read:Bfe,storageQuota:qfe,storageUsage:zfe,typeIndex:Hfe,timeline:Vfe,where:Kfe}),Wfe="http://www.w3.org/ns/pim/space#ControlledStorage",Qfe="http://www.w3.org/ns/pim/space#PersonalStorage",Zfe="http://www.w3.org/ns/pim/space#PublicStorage",Jfe="http://www.w3.org/ns/pim/space#Storage",Yfe="http://www.w3.org/ns/pim/space#Workspace",Xfe="http://www.w3.org/ns/pim/space#masterWorkspace",ede="http://www.w3.org/ns/pim/space#preferencesFile",tde="http://www.w3.org/ns/pim/space#storage",nde="http://www.w3.org/ns/pim/space#uriPrefix",rde="http://www.w3.org/ns/pim/space#workspace",ide=Object.freeze({ControlledStorage:Wfe,PersonalStorage:Qfe,PublicStorage:Zfe,Storage:Jfe,Workspace:Yfe,masterWorkspace:Xfe,preferencesFile:ede,storage:tde,uriPrefix:nde,workspace:rde}),ade="http://www.w3.org/2006/vcard/ns#Acquaintance",ode="http://www.w3.org/2006/vcard/ns#Agent",sde="http://www.w3.org/2006/vcard/ns#BBS",ude="http://www.w3.org/2006/vcard/ns#Car",lde="http://www.w3.org/2006/vcard/ns#Cell",cde="http://www.w3.org/2006/vcard/ns#Child",fde="http://www.w3.org/2006/vcard/ns#Colleague",dde="http://www.w3.org/2006/vcard/ns#Contact",hde="http://www.w3.org/2006/vcard/ns#Coresident",pde="http://www.w3.org/2006/vcard/ns#Coworker",gde="http://www.w3.org/2006/vcard/ns#Crush",mde="http://www.w3.org/2006/vcard/ns#Date",yde="http://www.w3.org/2006/vcard/ns#Dom",vde="http://www.w3.org/2006/vcard/ns#Emergency",_de="http://www.w3.org/2006/vcard/ns#Fax",wde="http://www.w3.org/2006/vcard/ns#Female",bde="http://www.w3.org/2006/vcard/ns#Friend",Sde="http://www.w3.org/2006/vcard/ns#Home",xde="http://www.w3.org/2006/vcard/ns#ISDN",Ede="http://www.w3.org/2006/vcard/ns#Internet",Cde="http://www.w3.org/2006/vcard/ns#Intl",Tde="http://www.w3.org/2006/vcard/ns#Kin",Ade="http://www.w3.org/2006/vcard/ns#Label",Rde="http://www.w3.org/2006/vcard/ns#Male",Pde="http://www.w3.org/2006/vcard/ns#Me",Ode="http://www.w3.org/2006/vcard/ns#Met",Lde="http://www.w3.org/2006/vcard/ns#Modem",Ide="http://www.w3.org/2006/vcard/ns#Msg",Mde="http://www.w3.org/2006/vcard/ns#Muse",Dde="http://www.w3.org/2006/vcard/ns#Neighbor",kde="http://www.w3.org/2006/vcard/ns#None",Nde="http://www.w3.org/2006/vcard/ns#Other",Fde="http://www.w3.org/2006/vcard/ns#PCS",jde="http://www.w3.org/2006/vcard/ns#Pager",$de="http://www.w3.org/2006/vcard/ns#Parcel",Ude="http://www.w3.org/2006/vcard/ns#Parent",Bde="http://www.w3.org/2006/vcard/ns#Postal",qde="http://www.w3.org/2006/vcard/ns#Pref",zde="http://www.w3.org/2006/vcard/ns#Sibling",Hde="http://www.w3.org/2006/vcard/ns#Spouse",Vde="http://www.w3.org/2006/vcard/ns#Sweetheart",Kde="http://www.w3.org/2006/vcard/ns#Tel",Gde="http://www.w3.org/2006/vcard/ns#Text",Wde="http://www.w3.org/2006/vcard/ns#TextPhone",Qde="http://www.w3.org/2006/vcard/ns#Unknown",Zde="http://www.w3.org/2006/vcard/ns#Video",Jde="http://www.w3.org/2006/vcard/ns#Voice",Yde="http://www.w3.org/2006/vcard/ns#Work",Xde="http://www.w3.org/2006/vcard/ns#X400",ehe="http://www.w3.org/2006/vcard/ns#adr",the="http://www.w3.org/2006/vcard/ns#agent",nhe="http://www.w3.org/2006/vcard/ns#anniversary",rhe="http://www.w3.org/2006/vcard/ns#bday",ihe="http://www.w3.org/2006/vcard/ns#category",ahe="http://www.w3.org/2006/vcard/ns#class",ohe="http://www.w3.org/2006/vcard/ns#email",she="http://www.w3.org/2006/vcard/ns#geo",uhe="http://www.w3.org/2006/vcard/ns#hasAdditionalName",lhe="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",che="http://www.w3.org/2006/vcard/ns#hasCalendarLink",fhe="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",dhe="http://www.w3.org/2006/vcard/ns#hasCategory",hhe="http://www.w3.org/2006/vcard/ns#hasCountryName",phe="http://www.w3.org/2006/vcard/ns#hasFN",ghe="http://www.w3.org/2006/vcard/ns#hasFamilyName",mhe="http://www.w3.org/2006/vcard/ns#hasGender",yhe="http://www.w3.org/2006/vcard/ns#hasGivenName",vhe="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",_he="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",whe="http://www.w3.org/2006/vcard/ns#hasInstantMessage",bhe="http://www.w3.org/2006/vcard/ns#hasLanguage",She="http://www.w3.org/2006/vcard/ns#hasLocality",xhe="http://www.w3.org/2006/vcard/ns#hasNickname",Ehe="http://www.w3.org/2006/vcard/ns#hasNote",Che="http://www.w3.org/2006/vcard/ns#hasOrganizationName",The="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Ahe="http://www.w3.org/2006/vcard/ns#hasPostalCode",Rhe="http://www.w3.org/2006/vcard/ns#hasRegion",Phe="http://www.w3.org/2006/vcard/ns#hasRelated",Ohe="http://www.w3.org/2006/vcard/ns#hasRole",Lhe="http://www.w3.org/2006/vcard/ns#hasSource",Ihe="http://www.w3.org/2006/vcard/ns#hasStreetAddress",Mhe="http://www.w3.org/2006/vcard/ns#hasTitle",Dhe="http://www.w3.org/2006/vcard/ns#hasUID",khe="http://www.w3.org/2006/vcard/ns#hasValue",Nhe="http://www.w3.org/2006/vcard/ns#label",Fhe="http://www.w3.org/2006/vcard/ns#language",jhe="http://www.w3.org/2006/vcard/ns#latitude",$he="http://www.w3.org/2006/vcard/ns#longitude",Uhe="http://www.w3.org/2006/vcard/ns#mailer",Bhe="http://www.w3.org/2006/vcard/ns#note",qhe="http://www.w3.org/2006/vcard/ns#org",zhe="http://www.w3.org/2006/vcard/ns#prodid",Hhe="http://www.w3.org/2006/vcard/ns#rev",Vhe="http://www.w3.org/2006/vcard/ns#role",Khe="http://www.w3.org/2006/vcard/ns#title",Ghe="http://www.w3.org/2006/vcard/ns#tz",Whe="http://www.w3.org/2006/vcard/ns#value",Qhe="http://www.w3.org/2006/vcard/ns#Address",Zhe="http://www.w3.org/2006/vcard/ns#Email",Jhe="http://www.w3.org/2006/vcard/ns#Group",Yhe="http://www.w3.org/2006/vcard/ns#Individual",Xhe="http://www.w3.org/2006/vcard/ns#Name",epe="http://www.w3.org/2006/vcard/ns#VCard",tpe="http://www.w3.org/2006/vcard/ns#fn",npe="http://www.w3.org/2006/vcard/ns#hasAddress",rpe="http://www.w3.org/2006/vcard/ns#hasEmail",ipe="http://www.w3.org/2006/vcard/ns#hasGeo",ape="http://www.w3.org/2006/vcard/ns#hasKey",ope="http://www.w3.org/2006/vcard/ns#hasLogo",spe="http://www.w3.org/2006/vcard/ns#hasName",upe="http://www.w3.org/2006/vcard/ns#hasPhoto",lpe="http://www.w3.org/2006/vcard/ns#hasSound",cpe="http://www.w3.org/2006/vcard/ns#hasTelephone",fpe="http://www.w3.org/2006/vcard/ns#hasURL",dpe="http://www.w3.org/2006/vcard/ns#key",hpe="http://www.w3.org/2006/vcard/ns#logo",ppe="http://www.w3.org/2006/vcard/ns#n",gpe="http://www.w3.org/2006/vcard/ns#nickname",mpe="http://www.w3.org/2006/vcard/ns#photo",ype="http://www.w3.org/2006/vcard/ns#sound",vpe="http://www.w3.org/2006/vcard/ns#tel",_pe="http://www.w3.org/2006/vcard/ns#url",wpe="http://www.w3.org/2006/vcard/ns#Location",bpe="http://www.w3.org/2006/vcard/ns#hasMember",Spe="http://www.w3.org/2006/vcard/ns#locality",xpe="http://www.w3.org/2006/vcard/ns#region",Epe="http://www.w3.org/2006/vcard/ns#Organization",Cpe="http://www.w3.org/2006/vcard/ns#Gender",Tpe="http://www.w3.org/2006/vcard/ns#Kind",Ape="http://www.w3.org/2006/vcard/ns#Type",Rpe="http://www.w3.org/2006/vcard/ns#TelephoneType",Ppe="http://www.w3.org/2006/vcard/ns#RelatedType",Ope=Object.freeze({Acquaintance:ade,Agent:ode,BBS:sde,Car:ude,Cell:lde,Child:cde,Colleague:fde,Contact:dde,Coresident:hde,Coworker:pde,Crush:gde,Date__workaround:mde,Dom:yde,Emergency:vde,Fax:_de,Female:wde,Friend:bde,Home:Sde,ISDN:xde,Internet:Ede,Intl__workaround:Cde,Kin:Tde,Label:Ade,Male:Rde,Me:Pde,Met:Ode,Modem:Lde,Msg:Ide,Muse:Mde,Neighbor:Dde,None:kde,Other:Nde,PCS:Fde,Pager:jde,Parcel:$de,Parent:Ude,Postal:Bde,Pref:qde,Sibling:zde,Spouse:Hde,Sweetheart:Vde,Tel:Kde,Text:Gde,TextPhone:Wde,Unknown:Qde,Video:Zde,Voice:Jde,Work:Yde,X400:Xde,adr:ehe,agent:the,anniversary:nhe,bday:rhe,category:ihe,class__workaround:ahe,email:ohe,geo:she,hasAdditionalName:uhe,hasCalendarBusy:lhe,hasCalendarLink:che,hasCalendarRequest:fhe,hasCategory:dhe,hasCountryName:hhe,hasFN:phe,hasFamilyName:ghe,hasGender:mhe,hasGivenName:yhe,hasHonorificPrefix:vhe,hasHonorificSuffix:_he,hasInstantMessage:whe,hasLanguage:bhe,hasLocality:She,hasNickname:xhe,hasNote:Ehe,hasOrganizationName:Che,hasOrganizationUnit:The,hasPostalCode:Ahe,hasRegion:Rhe,hasRelated:Phe,hasRole:Ohe,hasSource:Lhe,hasStreetAddress:Ihe,hasTitle:Mhe,hasUID:Dhe,hasValue:khe,label:Nhe,language:Fhe,latitude:jhe,longitude:$he,mailer:Uhe,note:Bhe,org:qhe,prodid:zhe,rev:Hhe,role:Vhe,title:Khe,tz:Ghe,value:Whe,Address:Qhe,Email:Zhe,Group:Jhe,Individual:Yhe,Name:Xhe,VCard:epe,fn:tpe,hasAddress:npe,hasEmail:rpe,hasGeo:ipe,hasKey:ape,hasLogo:ope,hasName:spe,hasPhoto:upe,hasSound:lpe,hasTelephone:cpe,hasURL:fpe,key:dpe,logo:hpe,n:ppe,nickname:gpe,photo:mpe,sound:ype,tel:vpe,url:_pe,Location:wpe,hasMember:bpe,locality:Spe,region:xpe,Organization:Epe,Gender:Cpe,Kind:Tpe,Type:Ape,TelephoneType:Rpe,RelatedType:Ppe}),Lpe="http://www.w3.org/2005/01/wf/flow#ActionItem",Ipe="http://www.w3.org/2005/01/wf/flow#Change",Mpe="http://www.w3.org/2005/01/wf/flow#Closed",Dpe="http://www.w3.org/2005/01/wf/flow#Creation",kpe="http://www.w3.org/2005/01/wf/flow#Message",Npe="http://www.w3.org/2005/01/wf/flow#NonTerminalState",Fpe="http://www.w3.org/2005/01/wf/flow#Open",jpe="http://www.w3.org/2005/01/wf/flow#Product",$pe="http://www.w3.org/2005/01/wf/flow#Task",Upe="http://www.w3.org/2005/01/wf/flow#TerminalState",Bpe="http://www.w3.org/2005/01/wf/flow#Tracker",qpe="http://www.w3.org/2005/01/wf/flow#Transition",zpe="http://www.w3.org/2005/01/wf/flow#affects",Hpe="http://www.w3.org/2005/01/wf/flow#allowedTransitions",Vpe="http://www.w3.org/2005/01/wf/flow#asigneeClass",Kpe="http://www.w3.org/2005/01/wf/flow#assignee",Gpe="http://www.w3.org/2005/01/wf/flow#attachment",Wpe="http://www.w3.org/2005/01/wf/flow#creates",Qpe="http://www.w3.org/2005/01/wf/flow#dateDue",Zpe="http://www.w3.org/2005/01/wf/flow#deliverable",Jpe="http://www.w3.org/2005/01/wf/flow#dependent",Ype="http://www.w3.org/2005/01/wf/flow#description",Xpe="http://www.w3.org/2005/01/wf/flow#final",ege="http://www.w3.org/2005/01/wf/flow#goalDescription",tge="http://www.w3.org/2005/01/wf/flow#initialState",nge="http://www.w3.org/2005/01/wf/flow#issue",rge="http://www.w3.org/2005/01/wf/flow#issueCategory",ige="http://www.w3.org/2005/01/wf/flow#issueClass",age="http://www.w3.org/2005/01/wf/flow#message",oge="http://www.w3.org/2005/01/wf/flow#modifiedBy",sge="http://www.w3.org/2005/01/wf/flow#recipent",uge="http://www.w3.org/2005/01/wf/flow#requires",lge="http://www.w3.org/2005/01/wf/flow#screenShot",cge="http://www.w3.org/2005/01/wf/flow#sender",fge="http://www.w3.org/2005/01/wf/flow#source",dge="http://www.w3.org/2005/01/wf/flow#stateStore",hge="http://www.w3.org/2005/01/wf/flow#subscriber",pge="http://www.w3.org/2005/01/wf/flow#successCriteria",gge="http://www.w3.org/2005/01/wf/flow#task",mge="http://www.w3.org/2005/01/wf/flow#terminalOutput",yge="http://www.w3.org/2005/01/wf/flow#testData",vge="http://www.w3.org/2005/01/wf/flow#tracker",_ge="http://www.w3.org/2005/01/wf/flow#transactionStore",wge=Object.freeze({ActionItem:Lpe,Change:Ipe,Closed:Mpe,Creation:Dpe,Message:kpe,NonTerminalState:Npe,Open:Fpe,Product:jpe,Task:$pe,TerminalState:Upe,Tracker:Bpe,Transition:qpe,affects:zpe,allowedTransitions:Hpe,asigneeClass:Vpe,assignee:Kpe,attachment:Gpe,creates:Wpe,dateDue:Qpe,deliverable:Zpe,dependent:Jpe,description:Ype,final:Xpe,goalDescription:ege,initialState:tge,issue:nge,issueCategory:rge,issueClass:ige,message:age,modifiedBy:oge,recipent:sge,requires:uge,screenShot:lge,sender:cge,source:fge,stateStore:dge,subscriber:hge,successCriteria:pge,task:gge,terminalOutput:mge,testData:yge,tracker:vge,transactionStore:_ge}),xn=bre,kN=Lae,A9=cse,Gl=wue,Su=zue,bge=nle,Nf=Ele,eO=Ule,Eh=gfe,kn=Gfe,Kh=ide,R9=Ope,Sge=wge,Es=function(e){return e.Read="Read",e.Write="Write",e.Append="Append",e.Control="Control",e}({}),Kr=function(e){return e.simpleMailerIntegration="simpleMailerIntegration",e.mailerIntegration="mailerIntegration",e.rdfDocument="rdfDocument",e.file="file",e.geoindex="geoindex",e.wikidataSearch="wikidataSearch",e.wikidataEntity="wikidataEntity",e}({});const xge=async(e,t)=>{const n=await globalThis.fetch(e,{method:"GET"});return await rr(n.url,t)},Ege=async e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=i=>n(i)}),xi=e=>{const t=new URL(e);if(t.hash="",t.search="",t.pathname.length===0||t.pathname==="/")return t.toString();const n=t.pathname.split("/").slice(0,-1);return n.push(""),t.pathname=n.join("/"),t.toString()},P9=e=>{const t=xi(e);return t===e?O9(t):t},Cge=e=>Tge(e,P9),O9=e=>{const t=new URL(e);if(t.pathname.length===0||t.pathname==="/")return e;const n=t.pathname.split("/").slice(0,-2);return n.push(""),t.pathname=n.join("/"),t.toString()},Ko=async(e,t)=>{try{return await rr(e,t)}catch{return await xge(e,t)}},nc=e=>{const t=new URL(e);return t.hash="",t.toString()},NN=e=>{const t=new URL(e);return t.protocol="https",t.toString()},Tge=(e,t)=>{const n=new Set;let r=e;for(;!n.has(r);)n.add(r),r=t(r);return n.delete(e),Array.from(n)},rc=async e=>{var a;const n=(await rr(e,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${e} does not have any Link headers`);const i=(a=c9.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${e}`);return new URL(i,e).toString()},L9=(e,t)=>{const r=new zh({baseIRI:e}).parse(t),i=new Os(r),a=i.getSubjects(Nf.type,xn.Authorization,null),o={[xn.Read]:Es.Read,[xn.Write]:Es.Write,[xn.Append]:Es.Append,[xn.Control]:Es.Control};return a.map(s=>{const l=i.getObjects(s,xn.mode,null).map(y=>o[y.value]).filter(y=>typeof y<"u"),c=i.getObjects(s,xn.agent,null).map(y=>y.value),d=i.getObjects(s,xn.agentClass,null).map(y=>y.value),h=i.getObjects(s,xn.agentGroup,null).map(y=>y.value),g=i.getObjects(s,xn.default__workaround,null).map(y=>y.value);return{url:s.value,modes:l,agents:c,agentClasses:d,agentGroups:h,defaults:g}})},Age=(e,...t)=>{const n={};for(const r of t)for(const i of r)n[i[e]]=i;return Object.values(n)},Rge=e=>{const t={};return e&&e.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const a=i[1],o=i[2].split(/\s+/);t[a]=new Set(o)}}),t};function Zd(e,t){t=xi(t);try{const n=new URL(e).href,r=new URL(t).href;return n.startsWith(r)?n.substring(r.length)||"./":e}catch{return e}}const I9=e=>(t,n)=>{const r=e.indexOf(t),i=e.indexOf(n);return r!==-1&&i!==-1?r-i:r!==-1?-1:i!==-1?1:0},tO=(e="")=>{const t=e&&nc(e),n=V.useMemo(()=>[Kr.file,t],[t]);return ly({queryKey:n,queryFn:()=>Pge(t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},Pge=async e=>{const t=await rr(e);if(t.ok)return URL.createObjectURL(await t.blob());if(t.status===404)return"";throw new Error(`Fetching ${e} not successful`)},Oge=async(e,t)=>{const r=(await rr(e,{method:"POST",body:t})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},Lge=async e=>{await rr(e,{method:"DELETE"})},Ige=()=>{const e=Ei();return La({mutationFn:async({uri:n,data:r})=>await Oge(n,r),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Kr.file,nc(r.uri)]})}})},Mge=()=>{const e=Ei();return La({mutationFn:async({uri:n})=>await Lge(n),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Kr.file,nc(r.uri)]})}})};function M9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=M9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Tr(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=M9(e))&&(r&&(r+=" "),r+=t);return r}var D9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FN=Pt.createContext&&Pt.createContext(D9),Dge=["attr","size","title"];function kge(e,t){if(e==null)return{};var n=Nge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aw.apply(this,arguments)}function jN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ow(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(n),!0).forEach(function(r){Fge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fge(e,t,n){return t=jge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jge(e){var t=$ge(e,"string");return typeof t=="symbol"?t:t+""}function $ge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k9(e){return e&&e.map((t,n)=>Pt.createElement(t.tag,ow({key:n},t.attr),k9(t.child)))}function $i(e){return t=>Pt.createElement(Uge,aw({attr:ow({},e.attr)},t),k9(e.child))}function Uge(e){var t=n=>{var{attr:r,size:i,title:a}=e,o=kge(e,Dge),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Pt.createElement("svg",aw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:ow(ow({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Pt.createElement("title",null,a),e.children)};return FN!==void 0?Pt.createElement(FN.Consumer,null,n=>t(n)):t(D9)}function Bge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function gy(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function qge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(e)}function zge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function N9(e){return $i({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(e)}function $N(e){return $i({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function F9(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function Hge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function Vge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function Kge(e){return $i({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function Gge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function j9(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function Wge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function sw(e){return $i({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function Qge(e){return $i({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function Zge(e){return $i({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(e)}const Jge="_photo_cmh6k_1",Yge="_square_cmh6k_6",Ox={photo:Jge,square:Yge},Qw=({photo:e,size:t=1,square:n,className:r})=>{const{data:i}=tO(e);return i?B.jsx("img",{className:Tr(Ox.photo,n&&Ox.square,r),src:i,alt:"",style:{width:`${t*2}rem`,height:`${t*2}rem`}}):B.jsx(Qge,{className:Tr(Ox.photo,r),size:t*32})},Xge="_button_14nfq_1",eme="_primary_14nfq_15",tme="_secondary_14nfq_24",nme="_tertiary_14nfq_32",rme="_danger_14nfq_37",ha={button:Xge,primary:eme,secondary:tme,tertiary:nme,danger:rme},tr=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>B.jsx("button",{className:Tr(i,ha.button,e&&ha.primary,r&&ha.danger,t&&ha.secondary,n&&ha.tertiary),...a}),wf=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>B.jsx(Bo,{className:Tr(i,ha.button,e&&ha.primary,r&&ha.danger,t&&ha.secondary,n&&ha.tertiary),...a}),$9=({icon:e=F9,...t})=>B.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:B.jsx(e,{})}),ime=({primary:e,secondary:t,tertiary:n,danger:r,className:i,children:a,...o})=>B.jsx("a",{className:Tr(i,ha.button,e&&ha.primary,r&&ha.danger,t&&ha.secondary,n&&ha.tertiary),...o,children:a}),ame={...sY,communityId:XB,communityContainer:eq,emailNotificationsType:tq,oidcIssuers:oq,geoindexService:nq,tileServer:aq,darkModeLogoStyle:rq,defaultCommunityName:iq},Dn=()=>{const e=Fr(Tq);return V.useMemo(()=>({...ame,...e}),[e])},ome=()=>{const e=ec(),t=Dn();V.useEffect(()=>{window.updateAppConfig=n=>{e(gR.setConfig(n))},window.resetAppConfig=()=>{e(gR.resetConfig())}},[e]),V.useEffect(()=>{window.appConfig=t},[t])},sme="_logoContainer_16cvy_1",ume="_logo_16cvy_1",lme="_focusedLogo_16cvy_10",cme="_unfocusedLogo_16cvy_13",fme="_darkInvert_16cvy_20",Dc={logoContainer:sme,logo:ume,focusedLogo:lme,unfocusedLogo:cme,darkInvert:fme},U9=({logo:e,focusedLogo:t,name:n,className:r})=>{const{darkModeLogoStyle:i}=Dn(),{i18n:a,_:o}=Wr();return!e&&!n?null:B.jsxs("div",{className:Dc.logoContainer,children:[e&&B.jsx("img",{src:e,className:Tr(Dc.logo,i==="invert"&&Dc.darkInvert,t?Dc.unfocusedLogo:null,r),alt:n?a._({id:"2ZJVX8",values:{name:n}}):""}),t&&B.jsx("img",{src:t,className:Tr(Dc.logo,i&&Dc.darkInvert,Dc.focusedLogo,r),alt:n?a._({id:"LShGrM",values:{name:n}}):""}),n?B.jsx("span",{children:n}):null]})},dme={switch:"_switch_1g69w_1"},hme=()=>{const e=Fr(LP),t=ec(),{i18n:n,_:r}=Wr(),i=()=>{t(OP.toggleTheme())};return B.jsx("button",{className:dme.switch,onClick:i,"aria-label":e==="dark"?n._({id:"e0IFR+"}):n._({id:"yNR1Vx"}),children:e==="dark"?B.jsx(Wge,{}):B.jsx(Gge,{})})},pme={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},gme={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},mme={schema:pme,shape:"https://example.com/HospexCommunity",context:gme};var yme=ku();const lg="http://www.w3.org/1999/02/22-rdf-syntax-ns#",cg="http://www.w3.org/2001/XMLSchema#",Lx="http://www.w3.org/2000/10/swap/",Wi={xsd:{decimal:`${cg}decimal`,boolean:`${cg}boolean`,double:`${cg}double`,integer:`${cg}integer`,string:`${cg}string`},rdf:{type:`${lg}type`,nil:`${lg}nil`,first:`${lg}first`,rest:`${lg}rest`,langString:`${lg}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${Lx}reify#forSome`,forAll:`${Lx}reify#forAll`},log:{implies:`${Lx}log#implies`}},{xsd:Xv}=Wi,vme=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,UN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},_me=/[\x00-\x20<>\\"\{\}\|\^\`]/,wme={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},bme=/$0^/;class Sme{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in wme)&&this[n]instanceof RegExp&&(this[n]=bme)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",g="",y="",v=null,_=0,S=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",g=v[1];else if(v=this._iri.exec(r)){if(g=this._unescape(v[1]),g===null||_me.test(g))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,g=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",g=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))g=v[1];else if({value:g,matchLength:_}=this._parseLiteral(r),g===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",g=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",g=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",g=v[0],y=typeof v[1]=="string"?Xv.double:typeof v[2]=="string"?Xv.decimal:Xv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",g=v[0],y=Xv.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",g="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,g="="):(_=2,g=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",g=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",g=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const b=_||v[0].length,x=a(h,g,y,c,b);this.previousToken=x,this._previousMarker=h,r=r.substr(b,r.length)}function a(s,l,c,d,h){const g=r?i-r.length:i,y=g+h,v={type:s,value:l,prefix:c,line:d,start:g,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(vme,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in UN?UN[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")f9(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=yme.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}const{rdf:xme,xsd:af}=Wi;let Gh,Eme=0;const Wl={namedNode:q9,blankNode:z9,variable:V9,literal:H9,defaultGraph:Rme,quad:CR,triple:CR,fromTerm:hm,fromQuad:K9};class Yo{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Yo?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let _s=class extends Yo{get termType(){return"NamedNode"}},T0=class B9 extends Yo{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new _s(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?af.string:xme.langString}equals(t){return t instanceof B9?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Cme=class extends Yo{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Tme=class extends Yo{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Ame=class extends Yo{constructor(){return super(""),Gh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Gh=new Ame;function dm(e,t,n){if(t=t||Wl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Wl)return new T0(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(dm(e[0],t,!0),dm(e[1],t,!0),dm(e[2],t,!0),e[3]&&dm(e[3],t,!0))}function Vd(e,t){if(typeof e=="string")return e;if(e instanceof Yo&&e.termType!=="Quad")return e.id;if(!e)return Gh.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==af.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[Vd(e.subject,!0),Vd(e.predicate,!0),Vd(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&n.push(Vd(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let hs=class extends Yo{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||Gh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function q9(e){return new _s(e)}function z9(e){return new Cme(e||`n3-${Eme++}`)}function H9(e,t){if(typeof t=="string")return new T0(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=af.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?af.integer:af.double:(n=af.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===af.string?new T0(`"${e}"`):new T0(`"${e}"^^${n}`)}function V9(e){return new Tme(e)}function Rme(){return Gh}function CR(e,t,n,r){return new hs(e,t,n,r)}function hm(e){if(e instanceof Yo)return e;switch(e.termType){case"NamedNode":return q9(e.value);case"BlankNode":return z9(e.value);case"Variable":return V9(e.value);case"DefaultGraph":return Gh;case"Literal":return H9(e.value,e.language||e.datatype);case"Quad":return K9(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function K9(e){if(e instanceof hs)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return CR(hm(e.subject),hm(e.predicate),hm(e.object),hm(e.graph))}let BN=0;class G9{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&W9(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new Sme({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){BN=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=e_}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){let i,a,o;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,o=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${BN++}_`,this._prefixCallback=a||e_,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(d,h)=>{d?c=d:h&&l.push(h)},this._lexer.tokenize(t).every(d=>this._readCallback=this._readCallback(d)),c)throw c;return l}let s=(l,c)=>{l!==null?(this._callback(l),this._callback=e_):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,s=(l,c)=>{l!==null?(this._callback(l),this._callback=e_):this._readCallback&&(c.type==="comment"?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(t,s)}}function e_(){}function W9(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Wi.rdf.first),e.RDF_REST=n(Wi.rdf.rest),e.RDF_NIL=n(Wi.rdf.nil),e.N3_FORALL=n(Wi.r.forAll),e.N3_FORSOME=n(Wi.r.forSome),e.ABBREVIATIONS={a:n(Wi.rdf.type),"=":n(Wi.owl.sameAs),">":n(Wi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}W9(G9.prototype,Wl);function TR(e){return!!e&&e.termType==="DefaultGraph"}const fg=Wl.defaultGraph(),{rdf:Pme,xsd:Td}=Wi,qN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,zN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Ome={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class dg extends Yo{equals(t){return t===this}}class Q9{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=fg,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${VN(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return fg.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(fg.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let n="";for(const r of t)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),qN.test(n)&&(n=n.replace(zN,HN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(qN.test(n)&&(n=n.replace(zN,HN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Td.string)return`"${n}"`}else switch(t.datatype.value){case Td.string:return`"${n}"`;case Td.boolean:if(n==="true"||n==="false")return n;break;case Td.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Td.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Td.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Pme.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${TR(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,fg,i):this._writeQuad(t,n,r,i||fg,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=VN(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new dg("[]");case 1:if(i=r[0],!(i.object instanceof dg))return new dg(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new dg(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new dg(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function HN(e){let t=Ome[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function VN(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const Ix=Symbol("iter");function Em(e,t,n=4){if(n===0)return Object.assign(e,t);for(const r in t)e[r]=Em(e[r]||Object.create(null),t[r],n-1);return e}function Z9(e,t,n=4){let r=!1;for(const i in e)if(i in t){const a=n===0?null:Z9(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function J9(e,t,n=4){let r=!1;for(const i in e)if(!(i in t))r=r||Object.create(null),r[i]=n===0?null:Em({},e[i],n-1);else if(n!==0){const a=J9(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class Lme{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Wl}_termFromId(t){if(t[0]==="."){const n=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return dm(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(TR(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Vd(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${TR(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Vd(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class Ea{constructor(t,n){this._size=0,this._graphs=Object.create(null),!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Wl,this._entityIndex=n.entityIndex||new Lme({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const g=this._entities,y=this._termFromId(g[l]),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(g[_]),r&&((c=d,d={})[r]=c[r]);for(const S in d)if(h=d[S]){v[o]=this._termFromId(g[S]);const b=i?i in h?[i]:[]:Object.keys(h);for(let x=0;x<b.length;x++)v[s]=this._termFromId(g[b[x]]),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,t,n,r)?(this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,!0):!1}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||({subject:t,predicate:n,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Vh.Readable({objectMode:!0}),o=this.readQuads(t,n,r,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:c}=o.next();if(l){a.push(null);return}a.push(c)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new Al(this,t,n,r,i,{entityIndex:this._entityIndex})}countQuads(t,n,r,i){const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o,this),!1),n,r,i,a)}every(t,n,r,i,a){return!this.some(o=>!t(o,this),n,r,i,a)}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Wi.rdf.rest,Wi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const g=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let S,b=null,x=null,A=null;for(let P=0;P<_.length&&!c;P++)S=_[P],S.graph.equals(g)?d?c=i(y,"has non-list arcs out"):S.predicate.value===Wi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):o.push(b=S):S.predicate.value===Wi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):o.push(x=S):v.length?c=i(y,"can't be subject and object"):(d=S,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)S=v[P],d?c=i(y,"can't have coreferences"):S.predicate.value===Wi.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=S:(d=S,h="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=A&&A.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}addAll(t){if(t instanceof Al&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Ea&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=Em(this._graphs,t._graphs),this._size=null);else for(const n of t)this.add(n);return this}contains(t){if(t instanceof Al&&(t=t.filtered),t===this)return!0;if(!(t instanceof Ea)||this._entityIndex!==t._entityIndex)return t.every(c=>this.has(c));const n=this._graphs,r=t._graphs;let i,a,o,s,l;for(const c in r){if(!(i=n[c]))return!1;i=i.subjects;for(const d in a=r[c].subjects){if(!(o=i[d]))return!1;for(const h in s=a[d]){if(!(l=o[h]))return!1;for(const g in s[h])if(!(g in l))return!1}}}return!0}deleteMatches(t,n,r,i){for(const a of this.match(t,n,r,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof Al&&(t=t.filtered),t===this)return new Ea({entityIndex:this._entityIndex});if(t instanceof Ea&&t._entityIndex===this._entityIndex){const n=new Ea({entityIndex:this._entityIndex}),r=J9(this._graphs,t._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!t.has(n))}equals(t){return t instanceof Al&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const n=new Ea({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&n.add(r);return n}intersection(t){if(t instanceof Al&&(t=t.filtered),t===this){const n=new Ea({entityIndex:this._entityIndex});return n._graphs=Em(Object.create(null),this._graphs),n._size=this._size,n}else if(t instanceof Ea&&this._entityIndex===t._entityIndex){const n=new Ea({entityIndex:this._entityIndex}),r=Z9(t._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>t.has(n))}map(t){const n=new Ea({entityIndex:this._entityIndex});for(const r of this)n.add(t(r,this));return n}reduce(t,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new Q9().quadsToString(this)}union(t){const n=new Ea({entityIndex:this._entityIndex});return n._graphs=Em(Object.create(null),this._graphs),n._size=this._size,n.addAll(t),n}*[Symbol.iterator](){yield*this.readQuads()}}function ds(e,t,n=0){const r=t[n];if(r&&!(r in e))return!1;let i=!1;for(const a in r?{[r]:e[r]}:e){const o=n===2?null:ds(e[a],t,n+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class Al extends Vh.Readable{constructor(t,n,r,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new Ea({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,c;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||r&&!(c=o._termToNumericId(r)))return o;const d=t._getGraphs(n);for(const h in d){let g,y,v;!s&&l?(y=ds(d[h].predicates,[l,c,s]))&&(g=ds(d[h].subjects,[s,l,c]),v=ds(d[h].objects,[c,s,l])):c?(v=ds(d[h].objects,[c,s,l]))&&(g=ds(d[h].subjects,[s,l,c]),y=ds(d[h].predicates,[l,c,s])):(g=ds(d[h].subjects,[s,l,c]))&&(y=ds(d[h].predicates,[l,c,s]),v=ds(d[h].objects,[c,s,l])),g&&(o._graphs[h]={subjects:g,predicates:y,objects:v})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[Ix]&&(this[Ix]=this[Symbol.iterator]());const n=this[Ix];for(;--t>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,n,r,i){return this.filtered.deleteMatches(t,n,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,n,r,i,a){return this.filtered.every(t,n,r,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,n,r,i,a){return this.filtered.forEach(t,n,r,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,n,r,i,a){return this.filtered.some(t,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,n){return this.filtered.reduce(t,n)}toString(){return new Q9().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new Al(this.filtered,t,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function KN(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var nO=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const Ime=e=>(t,n)=>nO(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(t,{method:"GET"});return yield e(r.url,n)}),Mme=e=>(t,n)=>nO(void 0,void 0,void 0,function*(){try{return yield e(t,n)}catch{return yield Ime(e)(t,n)}}),AR=e=>{const t=new URL(e);return t.hash="",t.toString()},Dme=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],rO=(e,t)=>nO(void 0,void 0,void 0,function*(){var n;let r=[],i="",a=-1,o=!1,s;try{const l=AR(e);return s=yield Mme(t)(l,{headers:{accept:Dme.join(",")}}),o=s.ok,a=s.status,i=yield s.text(),r=kme(i,{baseIRI:l,format:(n=s.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:KN(i),ok:o,statusCode:a,response:s}}catch{return o=!1,{data:r,rawData:i,hash:KN(i),ok:o,statusCode:a,response:s}}}),kme=(e,t)=>{const n=new G9(t),r=Wl.namedNode(t.baseIRI);return n.parse(e).map(({subject:a,predicate:o,object:s})=>Wl.quad(a,o,s,r))},A0=e=>JSON.stringify(e.toJSON()),kc=["subject","predicate","object","graph"],Y9={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let _l=class extends _s{constructor(t){super(Y9.variable+"/"+t),this.variable=t}static getVar(t){return t.value.split("/").pop()}};const Sn=Object.fromEntries(Object.entries(Y9).map(([e,t])=>[e,new _s(t)]));class Nme{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let t="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);t+=r.concat(" ")+" ==> "+i.concat(" ")}),t}}add(t){var n,r,i;this.list.add(t),Object.values(t.from).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.provides)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.provides[o.value].add(t)})}),Object.values(t.to).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.providersOf)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.providersOf[o.value].add(t)})}),t.quad&&((n=(r=this.byQuad)[i=A0(t.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[A0(t.quad)].add(t))}remove(t){this.list.delete(t),Object.values(t.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(t)})}),Object.values(t.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(t)})}),t.quad&&this.byQuad[A0(t.quad)].delete(t)}}class GN{constructor(t,n,r=new Ea){this.moves=new Nme,this.store=r,this.query=t,Object.entries(n).forEach(([i,a])=>{a.forEach(o=>{const s=new _s(o);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(t,n){var r;if(this.store.removeQuad(new hs(n,Sn.variable,new _l(t),Sn.meta)),n.termType==="NamedNode"){const o=new _s(AR(n.value));this.store.removeQuad(new hs(n,Sn.resource,o,Sn.meta)),this.store.removeQuads(this.store.getQuads(o,Sn.status,null,Sn.meta)),this.removeResource(o.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(o=>{var s;return Array.from((s=o.from[t])!==null&&s!==void 0?s:[]).some(l=>l.equals(n))});for(const o of a){const s=o.to;this.moves.remove(o);for(const l in s)s[l].forEach(c=>{var d;Array.from((d=this.moves.providersOf[c.value])!==null&&d!==void 0?d:new Set).filter(g=>{var y;return Array.from((y=g.to[l])!==null&&y!==void 0?y:[]).some(v=>v.equals(c))}).length===0&&this.removeVariable(l,c)})}}addResource(t,n,r="success"){const i=new _s(t),a=this.store.getQuads(null,null,null,i),[o,s]=Fme(n,a);o.forEach(h=>this.addQuad(h)),s.forEach(h=>this.removeQuad(h));const l=new hs(i,Sn.status,Sn.missing,Sn.meta),c=new hs(i,Sn.status,Sn.added,Sn.meta),d=new hs(i,Sn.status,Sn.failed,Sn.meta);this.store.removeQuads([l,c,d]),r==="success"&&this.store.addQuad(c),r==="error"&&this.store.addQuad(d)}addQuad(t){this.store.addQuad(t);const n=Object.fromEntries(kc.map(a=>[a,this.store.getObjects(t[a],Sn.variable,Sn.meta)])),r=(a,o)=>{const s=a[o],l=t[o];return!!(!s||s.startsWith("?")&&n[o].some(c=>c.equals(new _l(s.slice(1))))||s===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>kc.every(o=>r(a,o))).map(([a,o])=>[+a,o]);for(const[a,o]of i){const s={};for(const c of kc){const d=o[c];d!=null&&d.startsWith("?")&&(s[d.slice(1)]=new Set([t[c]]))}const l={[o.target.slice(1)]:new Set([t[o.pick]])};this.moves.add({step:a,from:s,to:l,quad:t}),this.addVariable(o.target.slice(1),t[o.pick])}}removeResource(t){this.store.getQuads(null,null,null,new _s(t)).forEach(r=>this.removeQuad(r))}removeQuad(t){var n;this.store.removeQuad(t),((n=this.moves.byQuad[A0(t)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const o in a)a[o].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(c=>{var d;return Array.from((d=c.to[o])!==null&&d!==void 0?d:[]).some(h=>h.equals(s))}).length===0&&this.removeVariable(o,s)})})}hopFromVariable(t,n){const r=`?${t}`;this.query.map((a,o)=>[a,o]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&kc.some(o=>a[o]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,o])=>{var s;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:o}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(d,h)=>{let g=new Set;const y=d[h];if(!y)g.add(null);else if(!y.startsWith("?"))g.add(new _s(y));else if(y.slice(1)===t)g.add(n);else{const v=this.store.getSubjects(Sn.variable,new _l(y.slice(1)),Sn.meta);g=new Set(v)}return g},c=Object.fromEntries(kc.map(d=>[d,l(a,d)]));for(const d of c.subject)for(const h of c.predicate)for(const g of c.object)for(const y of c.graph){const v=this.store.getQuads(d,h,g,y);for(const _ of v){const S=a.target.slice(1),b=_[a.pick],x={};for(const P of kc)!((s=a[P])===null||s===void 0)&&s.startsWith("?")&&(x[a[P].slice(1)]=new Set([_[P]]));const A={[S]:new Set([b])};this.moves.add({from:x,to:A,step:o,quad:_}),this.addVariable(S,b)}}}})}addVariable(t,n){if(this.store.has(new hs(n,Sn.variable,new _l(t),Sn.meta)))return;this.store.addQuads([new hs(n,Sn.variable,new _l(t),Sn.meta)]);let r;n.termType==="NamedNode"&&(r=new _s(AR(n.value)),this.store.addQuads([new hs(n,Sn.resource,r,Sn.meta)]));const i=`?${t}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),o=this.query.some(l=>typeof l!="function"&&l.type==="match"&&kc.some(c=>l[c]===i));r&&(a||o)&&this.store.match(r,Sn.status,null,Sn.meta).size===0&&this.store.addQuad(r,Sn.status,Sn.missing,Sn.meta),this.hopFromVariable(t,n)}getVariable(t){return this.store.getSubjects(Sn.variable,new _l(t),Sn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,Sn.variable,null,Sn.meta).reduce((t,n)=>{var r,i;return(r=t[i=_l.getVar(n.object)])!==null&&r!==void 0||(t[i]=new Set),t[_l.getVar(n.object)].add(n.subject.value),t},{})}getResources(t){if(!t)return this.store.getObjects(null,Sn.resource,Sn.meta).map(r=>r.value);const n=t==="missing"?Sn.missing:t==="failed"?Sn.failed:Sn.added;return this.store.getSubjects(Sn.status,n,Sn.meta).map(r=>r.value)}}const Fme=(e,t)=>{if(t.length===0)return[e,[]];if(e.length===0)return[[],t];const n=e.filter(i=>!t.some(a=>i.equals(a))),r=t.filter(i=>!e.some(a=>i.equals(a)));return[n,r]};var Mx,WN;function jme(){if(WN)return Mx;WN=1;function e(){this.__data__=[],this.size=0}return Mx=e,Mx}var Dx,QN;function my(){if(QN)return Dx;QN=1;function e(t,n){return t===n||t!==t&&n!==n}return Dx=e,Dx}var kx,ZN;function Zw(){if(ZN)return kx;ZN=1;var e=my();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return kx=t,kx}var Nx,JN;function $me(){if(JN)return Nx;JN=1;var e=Zw(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return Nx=r,Nx}var Fx,YN;function Ume(){if(YN)return Fx;YN=1;var e=Zw();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Fx=t,Fx}var jx,XN;function Bme(){if(XN)return jx;XN=1;var e=Zw();function t(n){return e(this.__data__,n)>-1}return jx=t,jx}var $x,e3;function qme(){if(e3)return $x;e3=1;var e=Zw();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return $x=t,$x}var Ux,t3;function Jw(){if(t3)return Ux;t3=1;var e=jme(),t=$me(),n=Ume(),r=Bme(),i=qme();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Ux=a,Ux}var Bx,n3;function zme(){if(n3)return Bx;n3=1;var e=Jw();function t(){this.__data__=new e,this.size=0}return Bx=t,Bx}var qx,r3;function Hme(){if(r3)return qx;r3=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return qx=e,qx}var zx,i3;function Vme(){if(i3)return zx;i3=1;function e(t){return this.__data__.get(t)}return zx=e,zx}var Hx,a3;function Kme(){if(a3)return Hx;a3=1;function e(t){return this.__data__.has(t)}return Hx=e,Hx}var Vx,o3;function X9(){if(o3)return Vx;o3=1;var e=typeof om=="object"&&om&&om.Object===Object&&om;return Vx=e,Vx}var Kx,s3;function Xo(){if(s3)return Kx;s3=1;var e=X9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Kx=n,Kx}var Gx,u3;function Wh(){if(u3)return Gx;u3=1;var e=Xo(),t=e.Symbol;return Gx=t,Gx}var Wx,l3;function Gme(){if(l3)return Wx;l3=1;var e=Wh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=r.call(o);return c&&(s?o[i]=l:delete o[i]),d}return Wx=a,Wx}var Qx,c3;function Wme(){if(c3)return Qx;c3=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Qx=n,Qx}var Zx,f3;function Qh(){if(f3)return Zx;f3=1;var e=Wh(),t=Gme(),n=Wme(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return Zx=o,Zx}var Jx,d3;function Co(){if(d3)return Jx;d3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Jx=e,Jx}var Yx,h3;function iO(){if(h3)return Yx;h3=1;var e=Qh(),t=Co(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return Yx=o,Yx}var Xx,p3;function Qme(){if(p3)return Xx;p3=1;var e=Xo(),t=e["__core-js_shared__"];return Xx=t,Xx}var eE,g3;function Zme(){if(g3)return eE;g3=1;var e=Qme(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return eE=n,eE}var tE,m3;function ez(){if(m3)return tE;m3=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return tE=n,tE}var nE,y3;function Jme(){if(y3)return nE;y3=1;var e=iO(),t=Zme(),n=Co(),r=ez(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!n(g)||t(g))return!1;var y=e(g)?d:a;return y.test(r(g))}return nE=h,nE}var rE,v3;function Yme(){if(v3)return rE;v3=1;function e(t,n){return t==null?void 0:t[n]}return rE=e,rE}var iE,_3;function Ff(){if(_3)return iE;_3=1;var e=Jme(),t=Yme();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return iE=n,iE}var aE,w3;function aO(){if(w3)return aE;w3=1;var e=Ff(),t=Xo(),n=e(t,"Map");return aE=n,aE}var oE,b3;function Yw(){if(b3)return oE;b3=1;var e=Ff(),t=e(Object,"create");return oE=t,oE}var sE,S3;function Xme(){if(S3)return sE;S3=1;var e=Yw();function t(){this.__data__=e?e(null):{},this.size=0}return sE=t,sE}var uE,x3;function eye(){if(x3)return uE;x3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return uE=e,uE}var lE,E3;function tye(){if(E3)return lE;E3=1;var e=Yw(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return lE=i,lE}var cE,C3;function nye(){if(C3)return cE;C3=1;var e=Yw(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return cE=r,cE}var fE,T3;function rye(){if(T3)return fE;T3=1;var e=Yw(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return fE=n,fE}var dE,A3;function iye(){if(A3)return dE;A3=1;var e=Xme(),t=eye(),n=tye(),r=nye(),i=rye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,dE=a,dE}var hE,R3;function aye(){if(R3)return hE;R3=1;var e=iye(),t=Jw(),n=aO();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return hE=r,hE}var pE,P3;function oye(){if(P3)return pE;P3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return pE=e,pE}var gE,O3;function Xw(){if(O3)return gE;O3=1;var e=oye();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return gE=t,gE}var mE,L3;function sye(){if(L3)return mE;L3=1;var e=Xw();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return mE=t,mE}var yE,I3;function uye(){if(I3)return yE;I3=1;var e=Xw();function t(n){return e(this,n).get(n)}return yE=t,yE}var vE,M3;function lye(){if(M3)return vE;M3=1;var e=Xw();function t(n){return e(this,n).has(n)}return vE=t,vE}var _E,D3;function cye(){if(D3)return _E;D3=1;var e=Xw();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return _E=t,_E}var wE,k3;function oO(){if(k3)return wE;k3=1;var e=aye(),t=sye(),n=uye(),r=lye(),i=cye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,wE=a,wE}var bE,N3;function fye(){if(N3)return bE;N3=1;var e=Jw(),t=aO(),n=oO(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return bE=i,bE}var SE,F3;function eb(){if(F3)return SE;F3=1;var e=Jw(),t=zme(),n=Hme(),r=Vme(),i=Kme(),a=fye();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,SE=o,SE}var xE,j3;function dye(){if(j3)return xE;j3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return xE=t,xE}var EE,$3;function hye(){if($3)return EE;$3=1;function e(t){return this.__data__.has(t)}return EE=e,EE}var CE,U3;function pye(){if(U3)return CE;U3=1;var e=oO(),t=dye(),n=hye();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,CE=r,CE}var TE,B3;function gye(){if(B3)return TE;B3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return TE=e,TE}var AE,q3;function mye(){if(q3)return AE;q3=1;function e(t,n){return t.has(n)}return AE=e,AE}var RE,z3;function tz(){if(z3)return RE;z3=1;var e=pye(),t=gye(),n=mye(),r=1,i=2;function a(o,s,l,c,d,h){var g=l&r,y=o.length,v=s.length;if(y!=v&&!(g&&v>y))return!1;var _=h.get(o),S=h.get(s);if(_&&S)return _==s&&S==o;var b=-1,x=!0,A=l&i?new e:void 0;for(h.set(o,s),h.set(s,o);++b<y;){var P=o[b],O=s[b];if(c)var D=g?c(O,P,b,s,o,h):c(P,O,b,o,s,h);if(D!==void 0){if(D)continue;x=!1;break}if(A){if(!t(s,function(F,Q){if(!n(A,Q)&&(P===F||d(P,F,l,c,h)))return A.push(Q)})){x=!1;break}}else if(!(P===O||d(P,O,l,c,h))){x=!1;break}}return h.delete(o),h.delete(s),x}return RE=a,RE}var PE,H3;function nz(){if(H3)return PE;H3=1;var e=Xo(),t=e.Uint8Array;return PE=t,PE}var OE,V3;function yye(){if(V3)return OE;V3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return OE=e,OE}var LE,K3;function vye(){if(K3)return LE;K3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return LE=e,LE}var IE,G3;function _ye(){if(G3)return IE;G3=1;var e=Wh(),t=nz(),n=my(),r=tz(),i=yye(),a=vye(),o=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",g="[object Number]",y="[object RegExp]",v="[object Set]",_="[object String]",S="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",A=e?e.prototype:void 0,P=A?A.valueOf:void 0;function O(D,F,Q,X,U,Y,ce){switch(Q){case x:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case b:return!(D.byteLength!=F.byteLength||!Y(new t(D),new t(F)));case l:case c:case g:return n(+D,+F);case d:return D.name==F.name&&D.message==F.message;case y:case _:return D==F+"";case h:var te=i;case v:var se=X&o;if(te||(te=a),D.size!=F.size&&!se)return!1;var pe=ce.get(D);if(pe)return pe==F;X|=s,ce.set(D,F);var _e=r(te(D),te(F),X,U,Y,ce);return ce.delete(D),_e;case S:if(P)return P.call(D)==P.call(F)}return!1}return IE=O,IE}var ME,W3;function sO(){if(W3)return ME;W3=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return ME=e,ME}var DE,Q3;function es(){if(Q3)return DE;Q3=1;var e=Array.isArray;return DE=e,DE}var kE,Z3;function rz(){if(Z3)return kE;Z3=1;var e=sO(),t=es();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return kE=n,kE}var NE,J3;function iz(){if(J3)return NE;J3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return NE=e,NE}var FE,Y3;function az(){if(Y3)return FE;Y3=1;function e(){return[]}return FE=e,FE}var jE,X3;function uO(){if(X3)return jE;X3=1;var e=iz(),t=az(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return jE=a,jE}var $E,eF;function oz(){if(eF)return $E;eF=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return $E=e,$E}var UE,tF;function Fu(){if(tF)return UE;tF=1;function e(t){return t!=null&&typeof t=="object"}return UE=e,UE}var BE,nF;function wye(){if(nF)return BE;nF=1;var e=Qh(),t=Fu(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return BE=r,BE}var qE,rF;function tb(){if(rF)return qE;rF=1;var e=wye(),t=Fu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return qE=a,qE}var pm={exports:{}},zE,iF;function bye(){if(iF)return zE;iF=1;function e(){return!1}return zE=e,zE}pm.exports;var aF;function nb(){return aF||(aF=1,function(e,t){var n=Xo(),r=bye(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c}(pm,pm.exports)),pm.exports}var HE,oF;function rb(){if(oF)return HE;oF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return HE=n,HE}var VE,sF;function lO(){if(sF)return VE;sF=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return VE=t,VE}var KE,uF;function Sye(){if(uF)return KE;uF=1;var e=Qh(),t=lO(),n=Fu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",v="[object String]",_="[object WeakMap]",S="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",A="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",Q="[object Uint8ClampedArray]",X="[object Uint16Array]",U="[object Uint32Array]",Y={};Y[x]=Y[A]=Y[P]=Y[O]=Y[D]=Y[F]=Y[Q]=Y[X]=Y[U]=!0,Y[r]=Y[i]=Y[S]=Y[a]=Y[b]=Y[o]=Y[s]=Y[l]=Y[c]=Y[d]=Y[h]=Y[g]=Y[y]=Y[v]=Y[_]=!1;function ce(te){return n(te)&&t(te.length)&&!!Y[e(te)]}return KE=ce,KE}var GE,lF;function cO(){if(lF)return GE;lF=1;function e(t){return function(n){return t(n)}}return GE=e,GE}var gm={exports:{}};gm.exports;var cF;function fO(){return cF||(cF=1,function(e,t){var n=X9(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(gm,gm.exports)),gm.exports}var WE,fF;function dO(){if(fF)return WE;fF=1;var e=Sye(),t=cO(),n=fO(),r=n&&n.isTypedArray,i=r?t(r):e;return WE=i,WE}var QE,dF;function sz(){if(dF)return QE;dF=1;var e=oz(),t=tb(),n=es(),r=nb(),i=rb(),a=dO(),o=Object.prototype,s=o.hasOwnProperty;function l(c,d){var h=n(c),g=!h&&t(c),y=!h&&!g&&r(c),v=!h&&!g&&!y&&a(c),_=h||g||y||v,S=_?e(c.length,String):[],b=S.length;for(var x in c)(d||s.call(c,x))&&!(_&&(x=="length"||y&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&S.push(x);return S}return QE=l,QE}var ZE,hF;function hO(){if(hF)return ZE;hF=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return ZE=t,ZE}var JE,pF;function uz(){if(pF)return JE;pF=1;function e(t,n){return function(r){return t(n(r))}}return JE=e,JE}var YE,gF;function xye(){if(gF)return YE;gF=1;var e=uz(),t=e(Object.keys,Object);return YE=t,YE}var XE,mF;function Eye(){if(mF)return XE;mF=1;var e=hO(),t=xye(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return XE=i,XE}var e2,yF;function ib(){if(yF)return e2;yF=1;var e=iO(),t=lO();function n(r){return r!=null&&t(r.length)&&!e(r)}return e2=n,e2}var t2,vF;function yy(){if(vF)return t2;vF=1;var e=sz(),t=Eye(),n=ib();function r(i){return n(i)?e(i):t(i)}return t2=r,t2}var n2,_F;function lz(){if(_F)return n2;_F=1;var e=rz(),t=uO(),n=yy();function r(i){return e(i,n,t)}return n2=r,n2}var r2,wF;function Cye(){if(wF)return r2;wF=1;var e=lz(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,d){var h=s&t,g=e(a),y=g.length,v=e(o),_=v.length;if(y!=_&&!h)return!1;for(var S=y;S--;){var b=g[S];if(!(h?b in o:r.call(o,b)))return!1}var x=d.get(a),A=d.get(o);if(x&&A)return x==o&&A==a;var P=!0;d.set(a,o),d.set(o,a);for(var O=h;++S<y;){b=g[S];var D=a[b],F=o[b];if(l)var Q=h?l(F,D,b,o,a,d):l(D,F,b,a,o,d);if(!(Q===void 0?D===F||c(D,F,s,l,d):Q)){P=!1;break}O||(O=b=="constructor")}if(P&&!O){var X=a.constructor,U=o.constructor;X!=U&&"constructor"in a&&"constructor"in o&&!(typeof X=="function"&&X instanceof X&&typeof U=="function"&&U instanceof U)&&(P=!1)}return d.delete(a),d.delete(o),P}return r2=i,r2}var i2,bF;function Tye(){if(bF)return i2;bF=1;var e=Ff(),t=Xo(),n=e(t,"DataView");return i2=n,i2}var a2,SF;function Aye(){if(SF)return a2;SF=1;var e=Ff(),t=Xo(),n=e(t,"Promise");return a2=n,a2}var o2,xF;function Rye(){if(xF)return o2;xF=1;var e=Ff(),t=Xo(),n=e(t,"Set");return o2=n,o2}var s2,EF;function Pye(){if(EF)return s2;EF=1;var e=Ff(),t=Xo(),n=e(t,"WeakMap");return s2=n,s2}var u2,CF;function ab(){if(CF)return u2;CF=1;var e=Tye(),t=aO(),n=Aye(),r=Rye(),i=Pye(),a=Qh(),o=ez(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",g="[object DataView]",y=o(e),v=o(t),_=o(n),S=o(r),b=o(i),x=a;return(e&&x(new e(new ArrayBuffer(1)))!=g||t&&x(new t)!=s||n&&x(n.resolve())!=c||r&&x(new r)!=d||i&&x(new i)!=h)&&(x=function(A){var P=a(A),O=P==l?A.constructor:void 0,D=O?o(O):"";if(D)switch(D){case y:return g;case v:return s;case _:return c;case S:return d;case b:return h}return P}),u2=x,u2}var l2,TF;function Oye(){if(TF)return l2;TF=1;var e=eb(),t=tz(),n=_ye(),r=Cye(),i=ab(),a=es(),o=nb(),s=dO(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function v(_,S,b,x,A,P){var O=a(_),D=a(S),F=O?d:i(_),Q=D?d:i(S);F=F==c?h:F,Q=Q==c?h:Q;var X=F==h,U=Q==h,Y=F==Q;if(Y&&o(_)){if(!o(S))return!1;O=!0,X=!1}if(Y&&!X)return P||(P=new e),O||s(_)?t(_,S,b,x,A,P):n(_,S,F,b,x,A,P);if(!(b&l)){var ce=X&&y.call(_,"__wrapped__"),te=U&&y.call(S,"__wrapped__");if(ce||te){var se=ce?_.value():_,pe=te?S.value():S;return P||(P=new e),A(se,pe,b,x,P)}}return Y?(P||(P=new e),r(_,S,b,x,A,P)):!1}return l2=v,l2}var c2,AF;function pO(){if(AF)return c2;AF=1;var e=Oye(),t=Fu();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return c2=n,c2}var f2,RF;function Lye(){if(RF)return f2;RF=1;var e=pO();function t(n,r){return e(n,r)}return f2=t,f2}var Iye=Lye();const cz=Lr(Iye);var d2,PF;function fz(){if(PF)return d2;PF=1;var e=Ff(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return d2=t,d2}var h2,OF;function ob(){if(OF)return h2;OF=1;var e=fz();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return h2=t,h2}var p2,LF;function Mye(){if(LF)return p2;LF=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++a];if(r(o[c],c,o)===!1)break}return n}}return p2=e,p2}var g2,IF;function dz(){if(IF)return g2;IF=1;var e=Mye(),t=e();return g2=t,g2}var m2,MF;function Dye(){if(MF)return m2;MF=1;var e=dz(),t=yy();function n(r,i){return r&&e(r,i,t)}return m2=n,m2}var y2,DF;function kye(){if(DF)return y2;DF=1;var e=eb(),t=pO(),n=1,r=2;function i(a,o,s,l){var c=s.length,d=c,h=!l;if(a==null)return!d;for(a=Object(a);c--;){var g=s[c];if(h&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++c<d;){g=s[c];var y=g[0],v=a[y],_=g[1];if(h&&g[2]){if(v===void 0&&!(y in a))return!1}else{var S=new e;if(l)var b=l(v,_,y,a,o,S);if(!(b===void 0?t(_,v,n|r,l,S):b))return!1}}return!0}return y2=i,y2}var v2,kF;function hz(){if(kF)return v2;kF=1;var e=Co();function t(n){return n===n&&!e(n)}return v2=t,v2}var _2,NF;function Nye(){if(NF)return _2;NF=1;var e=hz(),t=yy();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,e(s)]}return i}return _2=n,_2}var w2,FF;function pz(){if(FF)return w2;FF=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return w2=e,w2}var b2,jF;function Fye(){if(jF)return b2;jF=1;var e=kye(),t=Nye(),n=pz();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return b2=r,b2}var S2,$F;function vy(){if($F)return S2;$F=1;var e=Qh(),t=Fu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return S2=r,S2}var x2,UF;function gO(){if(UF)return x2;UF=1;var e=es(),t=vy(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return x2=i,x2}var E2,BF;function jye(){if(BF)return E2;BF=1;var e=oO(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,E2=n,E2}var C2,qF;function $ye(){if(qF)return C2;qF=1;var e=jye(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return C2=n,C2}var T2,zF;function Uye(){if(zF)return T2;zF=1;var e=$ye(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return T2=r,T2}var A2,HF;function sb(){if(HF)return A2;HF=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return A2=e,A2}var R2,VF;function Bye(){if(VF)return R2;VF=1;var e=Wh(),t=sb(),n=es(),r=vy(),i=1/0,a=e?e.prototype:void 0,o=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return R2=s,R2}var P2,KF;function qye(){if(KF)return P2;KF=1;var e=Bye();function t(n){return n==null?"":e(n)}return P2=t,P2}var O2,GF;function Zh(){if(GF)return O2;GF=1;var e=es(),t=gO(),n=Uye(),r=qye();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return O2=i,O2}var L2,WF;function Jh(){if(WF)return L2;WF=1;var e=vy(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return L2=n,L2}var I2,QF;function ub(){if(QF)return I2;QF=1;var e=Zh(),t=Jh();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return I2=n,I2}var M2,ZF;function zye(){if(ZF)return M2;ZF=1;var e=ub();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return M2=t,M2}var D2,JF;function Hye(){if(JF)return D2;JF=1;function e(t,n){return t!=null&&n in Object(t)}return D2=e,D2}var k2,YF;function Vye(){if(YF)return k2;YF=1;var e=Zh(),t=tb(),n=es(),r=rb(),i=lO(),a=Jh();function o(s,l,c){l=e(l,s);for(var d=-1,h=l.length,g=!1;++d<h;){var y=a(l[d]);if(!(g=s!=null&&c(s,y)))break;s=s[y]}return g||++d!=h?g:(h=s==null?0:s.length,!!h&&i(h)&&r(y,h)&&(n(s)||t(s)))}return k2=o,k2}var N2,XF;function gz(){if(XF)return N2;XF=1;var e=Hye(),t=Vye();function n(r,i){return r!=null&&t(r,i,e)}return N2=n,N2}var F2,ej;function Kye(){if(ej)return F2;ej=1;var e=pO(),t=zye(),n=gz(),r=gO(),i=hz(),a=pz(),o=Jh(),s=1,l=2;function c(d,h){return r(d)&&i(h)?a(o(d),h):function(g){var y=t(g,d);return y===void 0&&y===h?n(g,d):e(h,y,s|l)}}return F2=c,F2}var j2,tj;function mO(){if(tj)return j2;tj=1;function e(t){return t}return j2=e,j2}var $2,nj;function mz(){if(nj)return $2;nj=1;function e(t){return function(n){return n==null?void 0:n[t]}}return $2=e,$2}var U2,rj;function Gye(){if(rj)return U2;rj=1;var e=ub();function t(n){return function(r){return e(r,n)}}return U2=t,U2}var B2,ij;function Wye(){if(ij)return B2;ij=1;var e=mz(),t=Gye(),n=gO(),r=Jh();function i(a){return n(a)?e(r(a)):t(a)}return B2=i,B2}var q2,aj;function yO(){if(aj)return q2;aj=1;var e=Fye(),t=Kye(),n=mO(),r=es(),i=Wye();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return q2=a,q2}var z2,oj;function Qye(){if(oj)return z2;oj=1;var e=ob(),t=Dye(),n=yO();function r(i,a){var o={};return a=n(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return z2=r,z2}var Zye=Qye();const sj=Lr(Zye);var Jye=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yye=()=>({}),Xye=(e,t)=>{if(e.length!==t.length)return!1;const n=new Set(e);return t.every(r=>n.has(r))},ma=({query:e,variables:t,fetch:n,getQueryKey:r=o=>["rdfDocument",o],staleTime:i=1/0,getAdditionalData:a=Yye})=>{const o=V.useMemo(()=>sj(t,F=>new Set(F)),[t]),[s,l]=V.useState([]),[c,d]=V.useState({}),[h,g]=V.useState(new Os),[y,v]=V.useState([]),[_,S]=V.useState(!1),b=V.useCallback(F=>{var Q;return Object.assign(Object.assign({},(Q=a(F))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(F.map((X,U)=>[s[U],X==null?void 0:X.data])),pending:F.some(X=>X.isPending)})},[a,s]),x=Im({queries:s.map(F=>({queryKey:r(F),queryFn:()=>rO(F,n),staleTime:i})),combine:b}),A=V.useRef(new GN(e,o)),P=V.useRef(x.data);V.useEffect(()=>{A.current=new GN(e,o);const F=A.current.getMissingResources();l(F),g(A.current.store),P.current={}},[e,o]),V.useEffect(()=>{if(!x)return;for(const U in x.data){const Y=x.data[U];if(!Y)continue;const ce=P.current[U];(ce==null?void 0:ce.hash)!==Y.hash&&A.current.addResource(U,Y.data,Y.ok?"success":"error")}const F=A.current.getMissingResources();S(F.length>0),l(U=>{const Y=[];for(const ce of F)U.includes(ce)||Y.push(ce);return Y.length===0?U:Y.concat(U)});const Q=sj(A.current.getAllVariables(),U=>Array.from(U));d(U=>cz(Q,U)?U:Q),g(A.current.store);const X=[...A.current.store];v(U=>Xye(U,X)?U:X),P.current=x.data},[x]);const O=x,D=Jye(O,["data","pending"]);return V.useMemo(()=>Object.assign({store:h,quads:y,variables:c,qas:A.current,isLoading:x==null?void 0:x.pending,isMissing:_},D),[_,y,h,c,D,x==null?void 0:x.pending])};var hg={},pg={},t_={},Nc={},gg={},n_={},mg={},H2={},V2={},Pi={},yg={},vg={},uj;function yz(){if(uj)return vg;uj=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.BlankNode=void 0;let e=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return vg.BlankNode=e,vg}var _g={},wg={},lj;function vz(){if(lj)return wg;lj=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return wg.DefaultGraph=e,e.INSTANCE=new e,wg}var bg={},Sg={},cj;function vO(){if(cj)return Sg;cj=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.NamedNode=void 0;let e=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return Sg.NamedNode=e,Sg}var fj;function _z(){if(fj)return bg;fj=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.Literal=void 0;const e=vO();let t=class RR{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=RR.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=RR.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return bg.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),bg}var xg={},dj;function wz(){if(dj)return xg;dj=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.Quad=void 0;let e=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return xg.Quad=e,xg}var Eg={},hj;function bz(){if(hj)return Eg;hj=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.Variable=void 0;let e=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return Eg.Variable=e,Eg}var pj;function eve(){if(pj)return _g;pj=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.DataFactory=void 0;const e=yz(),t=vz(),n=_z(),r=vO(),i=wz(),a=bz();let o=0,s=class{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${o++}_`}namedNode(c){return new r.NamedNode(c)}blankNode(c){return new e.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,d){return new n.Literal(c,d)}variable(c){return new a.Variable(c)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(c,d,h,g){return new i.Quad(c,d,h,g||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(n.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return _g.DataFactory=s,_g}var gj;function tve(){return gj||(gj=1,function(e){var t=yg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=yg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(yz(),e),n(eve(),e),n(vz(),e),n(_z(),e),n(vO(),e),n(wz(),e),n(bz(),e)}(yg)),yg}var mj;function nve(){if(mj)return Pi;mj=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.stringQuadToQuad=Pi.quadToStringQuad=Pi.stringToTerm=Pi.getLiteralLanguage=Pi.getLiteralType=Pi.getLiteralValue=Pi.termToString=void 0;const e=tve(),t=new e.DataFactory;function n(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"");case"Quad":return`<<${n(c.subject)} ${n(c.predicate)} ${n(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+n(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}Pi.termToString=n;function r(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}Pi.getLiteralValue=r;function i(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Pi.getLiteralType=i;function a(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]?d[1].toLowerCase():""}Pi.getLiteralLanguage=a;function o(c,d){if(d=d||t,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const h=a(c),g=d.namedNode(i(c));return d.literal(r(c),h||g);case"<":default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const y=c.slice(2,-2).trim();let v=[],_=0,S=0,b=!1;for(let x=0;x<y.length;x++){const A=y[x];if(A==="<"&&_++,A===">"){if(_===0)throw new Error("Found closing tag without opening tag in "+c);_--}if(A==='"'){let P=!1,O=x;for(;O-- >0&&y[O]==="\\";)P=!P;P||(b=!b)}if(A===" "&&!b&&_===0){for(v.push(y.slice(S,x));y[x+1]===" ";)x+=1;S=x+1}}if(_!==0)throw new Error("Found opening tag without closing tag in "+c);if(v.push(y.slice(S,y.length)),v.length!==3&&v.length!==4)throw new Error("Nested quad syntax error "+c);return v=v.map(x=>x.startsWith("<")&&!x.includes(" ")?x.slice(1,-1):x),d.quad(o(v[0]),o(v[1]),o(v[2]),v[3]?o(v[3]):void 0)}return d.namedNode(c)}}Pi.stringToTerm=o;function s(c){return{subject:n(c.subject),predicate:n(c.predicate),object:n(c.object),graph:n(c.graph)}}Pi.quadToStringQuad=s;function l(c,d){return d=d||t,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return Pi.stringQuadToQuad=l,Pi}var yj;function rve(){return yj||(yj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=nve();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(V2)),V2}var vj;function ive(){return vj||(vj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToQuadMatch=e.stringToQuad=e.stringToNode=e.stringToGraphNode=e.stringToObjectNode=e.stringToPredicateNode=e.stringToSubjectNode=e.quadMatchToString=e.quadToString=e.nodeToString=e.grpahNodeToString=e.objectNodeToString=e.predicateNodeToString=e.subjectNodeToString=e.AnyTermTypes=e.GraphTermTypes=e.ObjectTermTypes=e.PredicateTermTypes=e.SubjectTermTypes=void 0;const t=rve();e.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),e.PredicateTermTypes=new Set(["NamedNode"]),e.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),e.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),e.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}e.subjectNodeToString=n;function r(S){return o(S)}e.predicateNodeToString=r;function i(S){return o(S)}e.objectNodeToString=i;function a(S){return o(S)}e.grpahNodeToString=a;function o(S){return(0,t.termToString)(S)}e.nodeToString=o;function s(S){return JSON.stringify((0,t.quadToStringQuad)(S))}e.quadToString=s;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}e.quadMatchToString=l;function c(S){return y(S,e.SubjectTermTypes)}e.stringToSubjectNode=c;function d(S){return y(S,e.PredicateTermTypes)}e.stringToPredicateNode=d;function h(S){return y(S,e.ObjectTermTypes)}e.stringToObjectNode=h;function g(S){return y(S,e.GraphTermTypes)}e.stringToGraphNode=g;function y(S,b){const x=(0,t.stringToTerm)(S);if(b&&!b.has(x.termType))throw new Error(`Expected term to be one of term type: [${Array.from(b).reduce((A,P)=>`${A}${P}, `,"")}], but got ${x.termType}.`);return x}e.stringToNode=y;function v(S){try{return(0,t.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}e.stringToQuad=v;function _(S){try{const b=JSON.parse(S);return[b.subject!=null?c(b.subject):void 0,b.predicate!=null?d(b.predicate):void 0,b.object!=null?h(b.object):void 0,b.graph!=null?g(b.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}e.stringToQuadMatch=_}(H2)),H2}var Cg={},K2,_j;function ave(){if(_j)return K2;_j=1;class e{constructor(n){this.value=n||"b"+ ++e.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,K2=e,K2}var G2,wj;function Sz(){if(wj)return G2;wj=1;class e{equals(n){return!!n&&n.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",G2=e,G2}var W2,bj;function ove(){if(bj)return W2;bj=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const n=this.fromTerm(t.subject),r=this.fromTerm(t.predicate),i=this.fromTerm(t.object),a=this.fromTerm(t.graph);return this.quad(n,r,i,a)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return W2=e,W2}var Q2,Sj;function xz(){if(Sj)return Q2;Sj=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="NamedNode",Q2=e,Q2}var Z2,xj;function sve(){if(xj)return Z2;xj=1;const e=xz();class t{constructor(r,i,a){this.value=r,this.datatype=t.stringDatatype,this.language="",i?(this.language=i,this.datatype=t.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),Z2=t,Z2}var J2,Ej;function uve(){if(Ej)return J2;Ej=1;const e=Sz();class t{constructor(r,i,a,o){this.subject=r,this.predicate=i,this.object=a,o?this.graph=o:this.graph=new e}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",J2=t,J2}var Y2,Cj;function lve(){if(Cj)return Y2;Cj=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="Variable",Y2=e,Y2}var X2,Tj;function cve(){if(Tj)return X2;Tj=1;const e=ave(),t=Sz(),n=ove(),r=sve(),i=xz(),a=uve(),o=lve();function s(b){return new i(b)}function l(b){return new e(b)}function c(b,x){return typeof x=="string"?x.indexOf(":")===-1?new r(b,x):new r(b,null,S.namedNode(x)):new r(b,null,x)}function d(b){return new o(b)}function h(){return S.defaultGraphInstance}function g(b,x,A){return S.quad(b,x,A)}function y(b,x,A,P){return new a(b,x,A,P||S.defaultGraphInstance)}function v(b){return n.call(S,b)}function _(b){return n.call(S,b)}const S={namedNode:s,blankNode:l,literal:c,variable:d,defaultGraph:h,triple:g,quad:y,fromTerm:v,fromQuad:_,defaultGraphInstance:new t};return X2=S,X2}var eC,Aj;function Ui(){return Aj||(Aj=1,eC=cve()),eC}var Fc={};const Ez=dB(ere);var Rj;function Cz(){if(Rj)return Fc;Rj=1,Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.datasetToJsonLd=Fc.datasetToString=void 0;const e=Ez;function t(r,i){const a=new e.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}Fc.datasetToString=t;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return Fc.datasetToJsonLd=n,Fc}var Pj;function fve(){if(Pj)return Cg;Pj=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.changesToSparqlUpdate=void 0;const e=Ui(),t=Cz();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Cg.changesToSparqlUpdate=n,Cg}var Tg={},Oj;function dve(){if(Oj)return Tg;Oj=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.serializedToQuads=void 0;const e=Ez;async function t(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new e.Parser(r).parse(n)}return Tg.serializedToQuads=t,Tg}var Lj;function _y(){return Lj||(Lj=1,function(e){var t=mg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=mg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(ive(),e),n(fve(),e),n(Cz(),e),n(dve(),e)}(mg)),mg}var Ij;function Tz(){if(Ij)return n_;Ij=1,Object.defineProperty(n_,"__esModule",{value:!0});const e=_y(),t=x9();let n=class PR{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new PR(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,o,s){const l=this.match(i,a,o,s);for(const c of l)this.dataset.delete(c);return this}difference(i){const a=this.createBlankDataset();for(const o of this)i.has(o)||a.add(o);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const o of this)i(o,this)&&a.add(o);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,o)=>{i.on("data",s=>{this.add(s)}).on("end",()=>{a(this)}).on("error",s=>o(s))})}intersection(i){const a=this.createBlankDataset(),o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const o of this)a.add(i(o,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const o=this[Symbol.iterator]();let s=o.next(),l=a;for(;!s.done;)l=i(l,s.value,this),s=o.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new t.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,e.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const o of this)a.add(o);for(const o of i)a.add(o);return a}match(i,a,o,s){return new PR(this.dataset.match(i,a,o,s),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return n_.default=n,n_}var Mj;function Az(){if(Mj)return gg;Mj=1;var e=gg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(gg,"__esModule",{value:!0});const t=e(Tz());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new t.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return gg.default=n,gg}var tC,Dj;function hve(){if(Dj)return tC;Dj=1;function e(o){return typeof o=="string"||o instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function n(o){if(typeof o=="string")return o;if(!o)return"";if(typeof o.id<"u"&&o.termType!=="Quad")return o.id;let s,l,c,d;switch(o.termType){case"NamedNode":return o.value;case"BlankNode":return`_:${o.value}`;case"Variable":return`?${o.value}`;case"DefaultGraph":return"";case"Literal":return o.language?`"${o.value}"@${o.language}`:`"${o.value}"${o.datatype&&o.datatype.value!==t?`^^${o.datatype.value}`:""}`;case"Quad":return s=i(n(o.subject)),l=i(n(o.predicate)),c=i(n(o.object)),d=o.graph.termType==="DefaultGraph"?"":` ${n(o.graph)}`,`<<${s} ${l} ${c}${d}>>`;default:throw new Error(`Unexpected termType: ${o.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(o){return o.replace(r,(s,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const l of s)this.add(l)}get size(){let s=this._size;if(s!==null)return s;s=0;const l=this._graphs;let c,d;for(const h in l)for(const g in c=l[h].subjects)for(const y in d=c[g])s+=Object.keys(d[y]).length;return this._size=s,this._size}add(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph);let g=this._graphs[h];g||(g=this._graphs[h]={subjects:{},predicates:{},objects:{}},Object.freeze(g));const y=this._ids,v=this._entities;return l=y[l]||(y[v[++this._id]=l]=this._id),c=y[c]||(y[v[++this._id]=c]=this._id),d=y[d]||(y[v[++this._id]=d]=this._id),this._addToIndex(g.subjects,l,c,d),this._addToIndex(g.predicates,c,d,l),this._addToIndex(g.objects,d,l,c),this._setQuad(l,c,d,h,s),this._size=null,this}delete(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph),g=this._ids,y=this._graphs;let v,_,S;if(!(l=g[l])||!(c=g[c])||!(d=g[d])||!(v=y[h])||!(_=v.subjects[l])||!(S=_[c])||!(d in S))return this;this._removeFromIndex(v.subjects,l,c,d),this._removeFromIndex(v.predicates,c,d,l),this._removeFromIndex(v.objects,d,l,c),this._size!==null&&this._size--,this._deleteQuad(l,c,d,h);for(l in v.subjects)return this;return delete y[h],this}has(s){const l=n(s.subject),c=n(s.predicate),d=n(s.object),h=n(s.graph),g=this._graphs[h];if(!g)return!1;const y=this._ids;let v,_,S;return e(l)&&!(v=y[l])||e(c)&&!(_=y[c])||e(d)&&!(S=y[d])?!1:this._countInIndex(g.objects,S,v,_)===1}match(s,l,c,d){return this._createDataset(this._match(s,l,c,d))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,l,c,d){const h=s[l]||(s[l]={}),g=h[c]||(h[c]={}),y=d in g;return y||(g[d]=null),!y}_removeFromIndex(s,l,c,d){const h=s[l],g=h[c];delete g[d];for(const y in g)return;delete h[c];for(const y in h)return;delete s[l]}_findInIndex(s,l,c,d,h,g,y,v,_,S){let b,x,A;l&&((b=s,s={})[l]=b[l]);for(const P in s)if(x=s[P],x){c&&((b=x,x={})[c]=b[c]);for(const O in x)if(A=x[O],A){const D=d?d in A?[d]:[]:Object.keys(A);for(let F=0;F<D.length;F++){const Q={[h]:P,[g]:O,[y]:D[F]},X=this._getQuad(Q.subject,Q.predicate,Q.object,v);if(S)S.push(X);else if(_(X))return!0}}}return S}_countInIndex(s,l,c,d){let h=0,g,y,v;l&&((g=s,s={})[l]=g[l]);for(const _ in s)if(y=s[_],y){c&&((g=y,y={})[c]=g[c]);for(const S in y)v=y[S],v&&(d?d in v&&h++:h+=Object.keys(v).length)}return h}_getGraphs(s){return e(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,l,c,d){s=s&&n(s),l=l&&n(l),c=c&&n(c),d=d&&n(d);const h=[],g=this._getGraphs(d),y=this._ids;let v,_,S,b;if(e(s)&&!(_=y[s])||e(l)&&!(S=y[l])||e(c)&&!(b=y[c]))return h;for(const x in g)v=g[x],v&&(_?b?this._findInIndex(v.objects,b,_,S,"object","subject","predicate",x,null,h):this._findInIndex(v.subjects,_,S,null,"subject","predicate","object",x,null,h):S?this._findInIndex(v.predicates,S,b,null,"predicate","object","subject",x,null,h):b?this._findInIndex(v.objects,b,null,null,"object","subject","predicate",x,null,h):this._findInIndex(v.subjects,null,null,null,"subject","predicate","object",x,null,h));return h}_getQuad(s,l,c,d){return this._quads.get(this._toId(s,l,c,d))}_setQuad(s,l,c,d,h){this._quads.set(this._toId(s,l,c,d),h)}_deleteQuad(s,l,c,d){this._quads.delete(this._toId(s,l,c,d))}_createDataset(s){return new this.constructor(s)}_toId(s,l,c,d){return`${s}:${l}:${c}:${d}`}}return tC=a,tC}var nC,kj;function pve(){if(kj)return nC;kj=1;const e=Ui(),t=hve();function n(r){return new t(r)}return nC=Object.assign({dataset:n},e),nC}var Nj;function Rz(){if(Nj)return Nc;Nj=1;var e=Nc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.createExtendedDatasetFactory=void 0;const t=e(Az()),n=pve();function r(){const a={dataset:o=>(0,n.dataset)(Array.isArray(o)?o:o==null?void 0:o.toArray())};return new t.default(a)}Nc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return Nc.default=i,Nc}var r_={},Fj;function Pz(){if(Fj)return r_;Fj=1,Object.defineProperty(r_,"__esModule",{value:!0});const e=_y();async function t(n,r,i){const a=await(0,e.serializedToQuads)(r,i);return n.dataset(a)}return r_.default=t,r_}var Ag={},jj;function gve(){if(jj)return Ag;jj=1;var e=Ag.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ag,"__esModule",{value:!0});const t=e(Pz()),n=Rz();async function r(i,a){const o=(0,n.createExtendedDatasetFactory)();return(0,t.default)(o,i,a)}return Ag.default=r,Ag}var $j;function jf(){return $j||($j=1,function(e){var t=t_.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedDatasetFactory=e.ExtendedDataset=e.serializedToDataset=e.createDatasetFromSerializedInput=e.createDatasetFactory=e.createDataset=void 0;var n=Rz();Object.defineProperty(e,"createDataset",{enumerable:!0,get:function(){return t(n).default}}),Object.defineProperty(e,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=Pz();Object.defineProperty(e,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return t(r).default}});var i=gve();Object.defineProperty(e,"serializedToDataset",{enumerable:!0,get:function(){return t(i).default}});var a=Tz();Object.defineProperty(e,"ExtendedDataset",{enumerable:!0,get:function(){return t(a).default}});var o=Az();Object.defineProperty(e,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return t(o).default}})}(t_)),t_}var jc={},Rg={},Pg={},fu={},Og={},Lg={},Uj;function _O(){if(Uj)return Lg;Uj=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.SubscribableDataset=void 0;const e=qh(),t=_y(),n=jf();let r=class extends n.ExtendedDataset{constructor(a,o,s){super(s||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=o,this.eventEmitter=new e.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const o of a)super.add(o);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(o=>{super.delete(o)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,o,s,l){const c=super.match(a,o,s,l);for(const d of c)super.delete(d);return this.triggerSubscriptionForQuads({removed:c}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const o={},s=l=>{const c=a[l];c==null||c.forEach(d=>{const h=d;[[null,null,null,null],[h.subject,null,null,null],[h.subject,h.predicate,null,null],[h.subject,null,h.object,null],[null,h.predicate,null,null],[null,h.predicate,h.object,null],[null,null,h.object,null],[h.subject,h.predicate,h.object,null],[null,null,null,h.graph],[h.subject,null,null,h.graph],[h.subject,h.predicate,null,h.graph],[h.subject,null,h.object,h.graph],[null,h.predicate,null,h.graph],[null,h.predicate,h.object,h.graph],[null,null,h.object,h.graph],[h.subject,h.predicate,h.object,h.graph]].forEach(y=>{var _;const v=(0,t.quadMatchToString)(y);this.eventEmitter.listenerCount(v)>0&&(o[v]||(o[v]={}),o[v][l]||(o[v][l]=this.datasetFactory.dataset()),(_=o[v][l])==null||_.add(d))})})};s("added"),s("removed"),Object.entries(o).forEach(([l,c])=>{this.eventEmitter.emit(l,c)})}addListener(a,o){return this.on(a,o)}emit(a,o){return this.eventEmitter.emit((0,t.quadMatchToString)(a),o)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,t.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,t.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,t.quadMatchToString)(a))}off(a,o){this.removeListener(a,o)}on(a,o){var l;const s=(0,t.quadMatchToString)(a);return this.listenerHashMap.has(o)||this.listenerHashMap.set(o,new Set),(l=this.listenerHashMap.get(o))==null||l.add(s),this.eventEmitter.on(s,o),this}once(a,o){return this.eventEmitter.once((0,t.quadMatchToString)(a),o),this}prependListener(a,o){return this.eventEmitter.prependListener((0,t.quadMatchToString)(a),o),this}prependOnceListener(a,o){return this.eventEmitter.prependOnceListener((0,t.quadMatchToString)(a),o),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,t.quadMatchToString)(a)),this}removeListener(a,o){return this.eventEmitter.removeListener((0,t.quadMatchToString)(a),o),this}removeListenerFromAllEvents(a){const o=this.listenerHashMap.get(a);return o&&o.forEach(s=>{this.eventEmitter.off(s,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,t.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Lg.SubscribableDataset=r,Lg}var Bj;function Oz(){if(Bj)return Og;Bj=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.SubscribableDatasetFactory=void 0;const e=_O();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new e.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Og.SubscribableDatasetFactory=t,Og}var Ig={},Mg={},Dg={},qj;function Lz(){if(qj)return Dg;qj=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.mergeDatasetChanges=void 0;function e(t,n){var r,i,a,o;if(n.added){t.added?t.added.addAll(n.added):t.added=n.added;const s=(r=t.removed)==null?void 0:r.intersection(n.added);s&&s.size>0&&(t.removed=(i=t.removed)==null?void 0:i.difference(s))}if(n.removed){t.removed?t.removed.addAll(n.removed):t.removed=n.removed;const s=(a=t.added)==null?void 0:a.intersection(n.removed);s&&s.size>0&&(t.added=(o=t.added)==null?void 0:o.difference(s))}t.added&&t.added.size===0&&(t.added=void 0),t.removed&&t.removed.size===0&&(t.removed=void 0)}return Dg.mergeDatasetChanges=e,Dg}var kg={},zj;function Iz(){if(zj)return kg;zj=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.updateDatasetInBulk=void 0;function e(t,n){t.bulk?t.bulk(n):(n.added&&t.addAll(n.added),n.removed&&n.removed.forEach(r=>{t.delete(r)}))}return kg.updateDatasetInBulk=e,kg}var Hj;function Mz(){if(Hj)return Mg;Hj=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.TransactionDataset=void 0;const e=Lz(),t=_O(),n=Iz();let r=class extends t.SubscribableDataset{constructor(a,o,s){super(o,s,o.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,o,s,l){this.checkIfTransactionCommitted();const c=this.match(a,o,s,l);for(const d of c)this.delete(d);return this}match(a,o,s,l){let c=this.parentDataset.match(a,o,s,l);return this.datasetChanges.removed&&(c=c.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(c=c.union(this.datasetChanges.added.match(a,o,s,l))),c}get size(){var a,o;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var o,s;return!((o=this.datasetChanges.removed)!=null&&o.has(a))&&(((s=this.datasetChanges.added)==null?void 0:s.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let o=a.next();const s=this.parentDataset[Symbol.iterator]();let l=s.next();return{next:()=>{if(!o||!o.done){const c=o;return o=a.next(),c}for(;!l.done;){const c=l;if(l=s.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(c.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(c.value)))return c}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,e.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,o;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return Mg.TransactionDataset=r,Mg}var Vj;function Dz(){if(Vj)return Ig;Vj=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.TransactionDatasetFactory=void 0;const e=Mz();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new e.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Ig.TransactionDatasetFactory=t,Ig}var Kj;function kz(){if(Kj)return fu;Kj=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.createSubscribableDataset=fu.createSubscribableDatasetFactory=fu.createTransactionDatasetFactory=void 0;const e=jf(),t=Oz(),n=Dz(),r={dataset:s=>(0,e.createDataset)(s)};function i(){return new n.TransactionDatasetFactory(r)}fu.createTransactionDatasetFactory=i;function a(){return new t.SubscribableDatasetFactory(r,i())}fu.createSubscribableDatasetFactory=a;function o(s){return a().dataset(s)}return fu.createSubscribableDataset=o,fu}var Ng={},Gj;function mve(){if(Gj)return Ng;Gj=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.createWrapperSubscribableDatasetFromSerializedInput=void 0;const e=jf(),t=kz();async function n(r,i){const a=(0,t.createSubscribableDatasetFactory)();return(0,e.createDatasetFromSerializedInput)(a,r,i)}return Ng.createWrapperSubscribableDatasetFromSerializedInput=n,Ng}var rC={},Wj;function yve(){return Wj||(Wj=1,Object.defineProperty(rC,"__esModule",{value:!0})),rC}var Qj;function wy(){return Qj||(Qj=1,function(e){var t=Pg.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Pg.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.serializedToSubscribableDataset=void 0,n(kz(),e);var r=mve();Object.defineProperty(e,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(Mz(),e),n(Dz(),e),n(_O(),e),n(Oz(),e),n(yve(),e),n(Lz(),e),n(Iz(),e)}(Pg)),Pg}var Ad={},Fg={},jg={},$g={},Zj;function Nz(){if(Zj)return $g;Zj=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.ContextUtil=void 0;const e={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let t=class{constructor(r){this.context=r,this.iriToKeyMap={},this.iriToKeyMap=this.createIriToKeyMap(r),this.typeNameToIriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="object"&&a!==null&&a["@id"]&&a["@context"]&&(this.typeNameToIriToKeyMap[i]=this.createIriToKeyMap(a["@context"]))})}createIriToKeyMap(r){const i={};return Object.entries(r).forEach(([a,o])=>{if(typeof o=="string")i[this.keyIdToIri(o)]=a;else if(typeof o=="object"&&o!==null&&o["@id"]){const s=this.keyIdToIri(o["@id"]);i[s]=a}}),i}getRelevantContext(r,i){var a,o,s;for(const l of i){const c=this.iriToKey(l.value,[]);if(typeof this.context[c]=="object"&&((a=this.context[c])!=null&&a["@context"])&&((o=this.context[c])!=null&&o["@context"][r]))return(s=this.context[c])==null?void 0:s["@context"]}return this.context}keyIdToIri(r){return e[r]?e[r]:r}keyToIri(r,i){const a=this.getRelevantContext(r,i);if(a[r]){if(typeof a[r]=="string")return this.keyIdToIri(a[r]);if(a[r]&&a[r]["@id"])return this.keyIdToIri(a[r]["@id"])}else return r;return r}iriToKey(r,i){var o;let a=this.iriToKeyMap;for(const s of i){const l=this.iriToKey(s.value,[]);a=(o=this.typeNameToIriToKeyMap[l])!=null&&o[r]?this.typeNameToIriToKeyMap[l]:this.iriToKeyMap}return a[r]?a[r]:r}getDataType(r,i){const a=this.getRelevantContext(r,i);return typeof a[r]=="object"&&a[r]["@type"]?a[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&(a[r]["@container"]==="@set"||a[r]["@isCollection"]))}isLangString(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&a[r]["@type"]&&a[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return $g.ContextUtil=t,$g}var Ug={},Jj;function Fz(){if(Jj)return Ug;Jj=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.JsonldDatasetProxyBuilder=void 0;const e=Ui();let t=class OR{constructor(r){this.proxyContext=r}write(...r){return new OR(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new OR(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,e.namedNode)(r["@id"]):(0,e.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([o,s])=>{a[o]=s}),a}};return Ug.JsonldDatasetProxyBuilder=t,Ug}var Bg={},qg={},$c={},Yj;function lb(){if(Yj)return $c;Yj=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.nodeToJsonldRepresentation=$c.literalToJsonldRepresentation=void 0;function e(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}$c.literalToJsonldRepresentation=e;function t(n,r){if(n.termType==="Literal")return e(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return $c.nodeToJsonldRepresentation=t,$c}var Uc={},Bc={},du={},qc={},di={},Xj;function Ds(){return Xj||(Xj=1,Object.defineProperty(di,"__esModule",{value:!0}),di._writeGraphs=di._proxyContext=di._getUnderlyingArrayTarget=di._getUnderlyingDataset=di._getNodeAtIndex=di._isSubjectOriented=di._getUnderlyingMatch=di._getUnderlyingNode=void 0,di._getUnderlyingNode=Symbol("_getUnderlyingNode"),di._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),di._isSubjectOriented=Symbol("_isSubjectOriented"),di._getNodeAtIndex=Symbol("_getNodeAtIndex"),di._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),di._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),di._proxyContext=Symbol("_proxyContext"),di._writeGraphs=Symbol("_writeGraphs")),di}var e4;function wO(){if(e4)return qc;e4=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.getNodeFromRawValue=qc.getNodeFromRawObject=void 0;const e=Ui(),t=Ds();function n(i,a){return i[t._getUnderlyingNode]?i[t._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,e.namedNode)(a.keyToIri(i["@id"],[])):i["@id"]:(0,e.blankNode)()}qc.getNodeFromRawObject=n;function r(i,a,o,s){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const l=s.contextUtil.getDataType(i,o);return l==="@id"?(0,e.namedNode)(a.toString()):(0,e.literal)(a.toString(),l)}else return n(a,s.contextUtil)}return qc.getNodeFromRawValue=r,qc}var zc={},t4;function Yh(){if(t4)return zc;t4=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.getSubjectProxyFromObject=zc.isSubjectProxy=void 0;const e=Ds();function t(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[e._writeGraphs]!="object"||typeof i[e._getUnderlyingDataset]!="object"||typeof i[e._getUnderlyingNode]!="object"||typeof i[e._proxyContext]!="object")}zc.isSubjectProxy=t;function n(r){const i=r;if(!t(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return zc.getSubjectProxyFromObject=n,zc}var Hc={},n4;function cb(){if(n4)return Hc;n4=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.NodeSet=Hc.nodeToString=void 0;function e(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}Hc.nodeToString=e;let t=class{constructor(){this.set=new Set,this.map={}}add(r){const i=e(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(e(r))}delete(r){const i=e(r);return delete this.map[i],this.set.delete(e(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return Hc.NodeSet=t,Hc}var hi={},r4;function Xh(){if(r4)return hi;r4=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.literalLanguageToLanguageKey=hi.languageKeyToLiteralLanguage=hi.getLanguageKeyForWriteOperation=hi.filterQuadsByLanguageOrdering=hi.quadsToLanguageQuadMap=hi.isLanguageLiteral=hi.languageDeleteMatch=hi.languageMatch=void 0;const e=jf();function t(c,d,h,g){const y=s(g);return c.match(d,h).filter(v=>r(v.object)&&v.object.language===y)}hi.languageMatch=t;function n(c,d,h,g){t(c,d,h,g).forEach(v=>{c.delete(v)})}hi.languageDeleteMatch=n;function r(c){return c.termType==="Literal"&&(c.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||c.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}hi.isLanguageLiteral=r;function i(c){const d={};return c.forEach(h=>{const g=h.object;if(r(g)){const y=l(g.language);d[y]||(d[y]=(0,e.createDataset)()),d[y].add(h)}}),d}hi.quadsToLanguageQuadMap=i;function a(c,d){const h=i(c),g=new Set(d),y=new Set(Object.keys(h));for(const v of d){if(y.has(v))return h[v];if(v==="@other"){for(const _ of y)if(!g.has(_))return h[_]}}return(0,e.createDataset)()}hi.filterQuadsByLanguageOrdering=a;function o(c){return c.find(d=>d!=="@other")}hi.getLanguageKeyForWriteOperation=o;function s(c){return c==="@none"?"":c}hi.languageKeyToLiteralLanguage=s;function l(c){return c===""?"@none":c}return hi.literalLanguageToLanguageKey=l,hi}var i4;function bO(){if(i4)return du;i4=1,Object.defineProperty(du,"__esModule",{value:!0}),du.addObjectToDataset=du.addRawObjectToDatasetRecursive=du.addRawValueToDatasetRecursive=void 0;const e=Ui(),t=wO(),n=Yh(),r=cb(),i=Xh();function a(l,c,d,h,g,y){const{dataset:v,contextUtil:_}=y,S=y.getRdfType(l),b=(0,e.namedNode)(_.keyToIri(c,S)),x=(0,t.getNodeFromRawValue)(c,d,S,y);if(x==null)v.deleteMatches(l,b);else if(x.termType==="Literal"){let A=x;if(_.isLangString(c,S)){const P=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!P)return;A=(0,e.literal)(x.value,(0,i.languageKeyToLiteralLanguage)(P))}y.writeGraphs.forEach(P=>{y.dataset.add((0,e.quad)(l,b,A,P))})}else if(y.writeGraphs.forEach(A=>{v.add((0,e.quad)(l,b,x,A))}),!(0,n.isSubjectProxy)(d)){const A=typeof d=="object"?{...d,"@id":x}:{"@id":x};o(A,h,g,y)}}du.addRawValueToDatasetRecursive=a;function o(l,c,d,h){if((0,n.isSubjectProxy)(l))return l;const{dataset:g}=h,y=(0,t.getNodeFromRawObject)(l,h.contextUtil),v=h.getRdfType(y);return c.has(y)||(c.add(y),Object.entries(l).forEach(([_,S])=>{if(_==="@id")return;const b=(0,e.namedNode)(h.contextUtil.keyToIri(_,v));if(d)if(h.contextUtil.isLangString(_,v)){const x=(0,i.getLanguageKeyForWriteOperation)(h.languageOrdering);x&&(0,i.languageDeleteMatch)(g,y,b,x)}else g.deleteMatches(y,b);Array.isArray(S)?S.forEach(x=>{a(y,_,x,c,!0,h)}):a(y,_,S,c,!0,h)})),h.createSubjectProxy(y)}du.addRawObjectToDatasetRecursive=o;function s(l,c,d){return o(l,new r.NodeSet,c,d)}return du.addObjectToDataset=s,du}var a4;function SO(){if(a4)return Bc;a4=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.modifyArray=Bc.checkArrayModification=void 0;const e=Ui(),t=wy(),n=jf(),r=bO(),i=wO(),a=cb();function o(l,c,d){if(l[2])for(const h of c){if(h===void 0)return;if(typeof h!="object")throw new Error(`Cannot add a literal "${h}"(${typeof h}) to a subject-oriented collection.`);const g=new t.TransactionDataset(d.dataset,(0,n.createDatasetFactory)(),(0,t.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(h,!1,d.duplicate({writeGraphs:[(0,e.defaultGraph)()]})),!(g.match((0,i.getNodeFromRawObject)(h,d.contextUtil),l[0][1],l[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(l[0][0])}, ${(0,a.nodeToString)(l[0][1])}, ${(0,a.nodeToString)(l[0][2])}, ${(0,a.nodeToString)(l[0][3])})`)}else if(!l[0][0]||!l[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}Bc.checkArrayModification=o;function s(l,c){const{target:d,toAdd:h,quadsToDelete:g,modifyCoreArray:y,key:v}=l,{dataset:_,contextUtil:S}=c;if(o(d,h||[],c),g){const A=_.match(...d[0]).toArray();g(A).forEach(O=>{d[2]?_.deleteMatches(O.subject,void 0,void 0):_.delete(O)})}const b=h==null?void 0:h.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,c):A).filter(A=>A!=null);!d[2]&&d[0][0]&&d[0][1]&&b&&(0,r.addObjectToDataset)({"@id":d[0][0],[S.iriToKey(d[0][1].value,c.getRdfType(d[0][0]))]:b},!1,c);const x=b?b.map(A=>(0,i.getNodeFromRawValue)(v,A,d[0][0]?c.getRdfType(d[0][0]):[],c)).filter(A=>A!=null):[];return y(d[1],x)}return Bc.modifyArray=s,Bc}var o4;function jz(){if(o4)return Uc;o4=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.arrayMethodsBuilders=Uc.methodNames=void 0;const e=lb(),t=SO();return Uc.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),Uc.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,o,s)=>(0,t.modifyArray)({target:n,key:r,quadsToDelete:l=>{const c=[...l],d=new Set(l.copyWithin(a,o,s));return c.filter(h=>!d.has(h))},modifyCoreArray:l=>(l.copyWithin(a,o,s),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,o,s)=>(0,t.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:l=>l.slice(o,s),modifyCoreArray:(l,c)=>(l.fill(c[0],o,s),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,t.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const o=a.pop();return o?(0,e.nodeToJsonldRepresentation)(o,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,t.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.push(...s),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,t.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const o=a.shift();return o?(0,e.nodeToJsonldRepresentation)(o,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((o,s)=>a((0,e.nodeToJsonldRepresentation)(o,i),(0,e.nodeToJsonldRepresentation)(s,i))):n&&n[1].sort((o,s)=>{const l=(0,e.nodeToJsonldRepresentation)(o,i),c=(0,e.nodeToJsonldRepresentation)(s,i);return l>c?1:c>l?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,o,...s)=>(0,t.modifyArray)({target:n,key:r,toAdd:s,quadsToDelete:l=>l.splice(a,o),modifyCoreArray:(l,c)=>l.splice(a,o||0,...c).map(h=>(0,e.nodeToJsonldRepresentation)(h,i))},i),unshift:(n,r,i)=>(...a)=>(0,t.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(o,s)=>(o.unshift(...s),i.createArrayProxy(n[0],n[2]).length)},i)},Uc}var s4;function $z(){if(s4)return qg;s4=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.createArrayHandler=void 0;const e=Ui(),t=lb(),n=jz(),r=Ds(),i=SO(),a=cb(),o=Xh();function s(d,h){let g=h.dataset.match(...d[0]);d[3]&&(g=(0,o.filterQuadsByLanguageOrdering)(g,h.languageOrdering));const y=new a.NodeSet;g.toArray().forEach(_=>{d[2]?y.add(_.subject):y.add(_.object)});const v=[];d[1].forEach(_=>{y.has(_)&&(v.push(_),y.delete(_))}),y.toArray().forEach(_=>{v.push(_)}),d[1]=v}function l(d,h){return d[1].map(g=>(0,t.nodeToJsonldRepresentation)(g,h))}function c(d){return{get(h,g,...y){switch(g){case r._getUnderlyingDataset:return d.dataset;case r._getUnderlyingMatch:return h[0];case r._isSubjectOriented:return h[2];case r._getUnderlyingArrayTarget:return h;case r._proxyContext:return d;case r._getNodeAtIndex:return _=>(s(h,d),h[1][_])}s(h,d);const v=l(h,d);return n.methodNames.has(g)?n.arrayMethodsBuilders[g](h,g,d):Reflect.get(v,g,...y)},getOwnPropertyDescriptor(h,g,...y){s(h,d);const v=l(h,d);return Reflect.getOwnPropertyDescriptor(v,g,...y)},ownKeys(h,...g){s(h,d);const y=l(h,d);return Reflect.ownKeys(y,...g)},getPrototypeOf(h,...g){s(h,d);const y=l(h,d);return Reflect.getPrototypeOf(y,...g)},has(h,...g){s(h,d);const y=l(h,d);return Reflect.has(y,...g)},set(h,g,y,...v){if(g===r._proxyContext)return d=y,!0;if(s(h,d),typeof g!="symbol"&&!isNaN(parseInt(g))){const _=parseInt(g);return(0,i.modifyArray)({target:h,key:g,toAdd:[y],quadsToDelete(S){return S[_]?[S[_]]:[]},modifyCoreArray(S,b){return S[_]=b[0],!0}},d)}return Reflect.set(h[1],g,...v)},deleteProperty(h,g){const{dataset:y}=d;if(typeof g!="symbol"&&!isNaN(parseInt(g))){const v=y.match(...h[0]).toArray()[parseInt(g)];if(!v)return!0;const _=h[2]?v.subject:v.object;if(_.termType==="Literal"){const S=h[0][0],b=h[0][1];return S&&b&&y.delete((0,e.quad)(S,b,_)),!0}else if(_.termType==="NamedNode"||_.termType==="BlankNode")return y.deleteMatches(_,void 0,void 0),y.deleteMatches(void 0,void 0,_),!0}return!0}}}return qg.createArrayHandler=c,qg}var zg={},Hg={},u4;function Uz(){if(u4)return Hg;u4=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.deleteValueFromDataset=void 0;const e=Ui();function t(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const o=n["@id"],s=(0,e.namedNode)(i.contextUtil.keyToIri(r,i.getRdfType(o)));if(r==="@id")a.push(n["@id"]);else{const l=i.dataset.match(o,s);if(l.size===0)return!0;a.push(...l.toArray().map(c=>c.object))}return a.forEach(l=>{if(l.termType==="Literal")return i.dataset.delete((0,e.quad)(o,s,l)),!0;if(l.termType==="NamedNode")return i.dataset.deleteMatches(l,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,l),!0}),!0}return Hg.deleteValueFromDataset=t,Hg}var Vg={},l4;function Bz(){if(l4)return Vg;l4=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.getValueForKey=void 0;const e=Ui(),t=lb(),n=Xh();function r(i,a,o){const{contextUtil:s,dataset:l}=o;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:s.iriToKey(i["@id"].value,[]);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const c=i["@id"],d=o.getRdfType(c),h=(0,e.namedNode)(s.keyToIri(a,d));if(s.isArray(a,d))return o.createArrayProxy([c,h,null,null],!1,void 0,s.isLangString(a,d));let g=l.match(c,h);if(s.isLangString(a,d)&&(g=(0,n.filterQuadsByLanguageOrdering)(g,o.languageOrdering)),g.size!==0)return g.size===1?(0,t.nodeToJsonldRepresentation)(g.toArray()[0].object,o):o.createArrayProxy([c,h,null,null])}return Vg.getValueForKey=r,Vg}var c4;function qz(){if(c4)return zg;c4=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.createSubjectHandler=void 0;const e=Ui(),t=bO(),n=Uz(),r=Ds(),i=Bz();function a(o){let s=o;return{get(l,c){switch(c){case r._getUnderlyingDataset:return s.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return s;case r._writeGraphs:return s.writeGraphs;case"@context":return s.contextUtil.context}return(0,i.getValueForKey)(l,c,s)},getOwnPropertyDescriptor(l,c){return{value:(0,i.getValueForKey)(l,c,s),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const c=l["@id"],d=s.dataset.match(c),h=new Set(["@id"]);return d.toArray().forEach(g=>{h.add(s.contextUtil.iriToKey(g.predicate.value,s.getRdfType(c)))}),Array.from(h)},set:(l,c,d)=>{if(c===r._proxyContext)return s=d,!0;if(c==="@id"&&typeof d=="string"){const h=s.dataset.match(l["@id"]).toArray(),g=h.map(_=>(0,e.quad)((0,e.namedNode)(d),_.predicate,_.object,_.graph));h.forEach(_=>s.dataset.delete(_)),s.dataset.addAll(g);const y=s.dataset.match(void 0,void 0,l["@id"]).toArray(),v=y.map(_=>(0,e.quad)(_.subject,_.predicate,(0,e.namedNode)(d),_.graph));y.forEach(_=>s.dataset.delete(_)),s.dataset.addAll(v),l["@id"]=(0,e.namedNode)(d)}return(0,t.addObjectToDataset)({"@id":l["@id"],[c]:d},!0,s),!0},deleteProperty(l,c){return(0,n.deleteValueFromDataset)(l,c,s)}}}return zg.createSubjectHandler=a,zg}var f4;function Hz(){if(f4)return Bg;f4=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.ProxyContext=void 0;const e=$z(),t=qz(),n=Ds(),i=(0,Ui().namedNode)("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");let a=class zz{constructor(s){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=s.dataset,this.contextUtil=s.contextUtil,this.writeGraphs=s.writeGraphs,this.languageOrdering=s.languageOrdering,this.state=s.state||{},s.prefilledArrayTargets&&s.prefilledArrayTargets.forEach(l=>{this.createArrayProxy(l[0],l[2],l)})}createSubjectProxy(s){if(!this.subjectMap.has(s.value)){const l=new Proxy({"@id":s},this.createSubjectHandler());this.subjectMap.set(s.value,l)}return this.subjectMap.get(s.value)}createSubjectHandler(){return(0,t.createSubjectHandler)(this)}getArrayKey(...s){var l,c,d,h;return`${((l=s[0])==null?void 0:l.value)||"undefined"}|${((c=s[1])==null?void 0:c.value)||"undefined"}|${((d=s[2])==null?void 0:d.value)||"undefined"}|${((h=s[3])==null?void 0:h.value)||"undefined"}`}createArrayProxy(s,l=!1,c,d){const h=this.getArrayKey(...s);if(!this.arrayMap.has(h)){const g=new Proxy(c||[s,[],l,d],this.createArrayHandler());this.arrayMap.set(h,g)}return this.arrayMap.get(h)}createArrayHandler(){return(0,e.createArrayHandler)(this)}duplicate(s){const l=[];this.arrayMap.forEach(d=>{l.push(d[n._getUnderlyingArrayTarget])});const c={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:l,...s};return new zz(c)}getRdfType(s){return this.dataset.match(s,i).toArray().map(l=>l.object).filter(l=>l.termType==="NamedNode")}};return Bg.ProxyContext=a,Bg}var d4;function h4(){if(d4)return jg;d4=1,Object.defineProperty(jg,"__esModule",{value:!0}),jg.jsonldDatasetProxy=void 0;const e=Ui(),t=Nz(),n=Fz(),r=Hz();function i(a,o){const s=new t.ContextUtil(o),l=new r.ProxyContext({dataset:a,contextUtil:s,writeGraphs:[(0,e.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return jg.jsonldDatasetProxy=i,jg}var Kg={},Gg={},Vc={},Wg={},p4;function Vz(){if(p4)return Wg;p4=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.isArrayProxy=void 0;const e=Ds();function t(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[e._getUnderlyingDataset]!="object"||typeof r[e._getUnderlyingMatch]!="object"||typeof r[e._getNodeAtIndex]!="function"||typeof r[e._getUnderlyingArrayTarget]!="object")}return Wg.isArrayProxy=t,Wg}var g4;function Kz(){if(g4)return Vc;g4=1,Object.defineProperty(Vc,"__esModule",{value:!0}),Vc.getProxyFromObject=Vc.isProxy=void 0;const e=Vz(),t=Yh();function n(i){return(0,t.isSubjectProxy)(i)||(0,e.isArrayProxy)(i)}Vc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return Vc.getProxyFromObject=r,Vc}var m4;function xO(){if(m4)return Gg;m4=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.createInteractOptions=void 0;const e=Yh(),t=Ds(),n=Kz();function r(i,a){return{using(...o){const s=[];return o.forEach(l=>{const c=(0,n.getProxyFromObject)(l),d=c[t._proxyContext];c[t._proxyContext]=c[t._proxyContext].duplicate({[i]:a}),s.push(()=>{c[t._proxyContext]=d})}),function(){s.forEach(c=>c())}},usingCopy(...o){return o.map(s=>{const l=(0,e.getSubjectProxyFromObject)(s);return l[t._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[t._getUnderlyingNode])})}}}return Gg.createInteractOptions=r,Gg}var y4;function vve(){if(y4)return Kg;y4=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.write=void 0;const e=xO();function t(...n){return(0,e.createInteractOptions)("writeGraphs",n)}return Kg.write=t,Kg}var Qg={},v4;function _ve(){if(v4)return Qg;v4=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.graphOf=void 0;const e=Ui(),t=Yh(),n=Ds();function r(i,a,o){const s=(0,t.getSubjectProxyFromObject)(i),l=s[n._proxyContext],c=s[n._getUnderlyingNode],d=(0,e.namedNode)(l.contextUtil.keyToIri(a,l.getRdfType(c)));let h;if(o==null)h=null;else if(typeof o=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[o])throw new Error(`Index ${o} does not exist.`);(0,t.isSubjectProxy)(y[o])&&(h=y[o][1]),h=y[n._getNodeAtIndex](o)}else h=(0,t.getSubjectProxyFromObject)(o)[n._getUnderlyingNode];return s[n._getUnderlyingDataset].match(c,d,h).toArray().map(y=>y.graph)}return Qg.graphOf=r,Qg}var Zg={},_4;function wve(){if(_4)return Zg;_4=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.setLanguagePreferences=void 0;const e=xO();function t(...n){return(0,e.createInteractOptions)("languageOrdering",n)}return Zg.setLanguagePreferences=t,Zg}var iC={},w4;function bve(){return w4||(w4=1,Object.defineProperty(iC,"__esModule",{value:!0})),iC}var Jg={},Rd={},i_={},b4;function Gz(){if(b4)return i_;b4=1;var e;Object.defineProperty(i_,"__esModule",{value:!0});const t=Ui(),n=Xh();class r{constructor(a,o,s,l){this[e]="LanguageSet",this.subject=a,this.predicate=o,this.languageKey=s,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,t.literal)(a):(0,t.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(o=>{this.proxyContext.dataset.add((0,t.quad)(this.subject,this.predicate,(0,t.literal)(a,this.languageKey),o))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const o=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),o}forEach(a,o){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,o||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const o of a)yield[o.object.value,o.object.value]}*keys(){const a=this.matchThis();for(const o of a)yield o.object.value}*values(){const a=this.matchThis();for(const o of a)yield o.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const o of a)yield o.object.value}}return i_.default=r,e=Symbol.toStringTag,i_}var S4;function Wz(){if(S4)return Rd;S4=1;var e=Rd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.createLanguageMapProxy=void 0;const t=Ui(),n=Xh(),r=e(Gz());function i(a,o,s,l){const c={},d=h=>{Object.keys(h).forEach(v=>delete h[v]);const g=s.dataset.match(a,o),y=(0,n.quadsToLanguageQuadMap)(g);Object.entries(y).forEach(([v,_])=>{const S=_.toArray().map(b=>b.object.value);l?h[v]=new Set(S):h[v]=S[0]})};return d(c),new Proxy(c,{get:(h,g)=>(d(h),typeof g!="string"?Reflect.get(h,g):l?new r.default(a,o,g,s):Reflect.get(h,g)),set:(h,g,y)=>{const v=(0,n.languageKeyToLiteralLanguage)(g);return l||(0,n.languageDeleteMatch)(s.dataset,a,o,v),s.writeGraphs.forEach(_=>{s.dataset.add((0,t.quad)(a,o,(0,t.literal)(y,v),_))}),Reflect.set(h,g,y)},deleteProperty:(h,g)=>((0,n.languageDeleteMatch)(s.dataset,a,o,(0,n.languageKeyToLiteralLanguage)(g)),Reflect.deleteProperty(h,g))})}return Rd.createLanguageMapProxy=i,Rd}var x4;function Sve(){if(x4)return Jg;x4=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.languagesOf=void 0;const e=Ui(),t=Yh(),n=Ds(),r=Wz();function i(a,o){const s=(0,t.getSubjectProxyFromObject)(a),l=s[n._proxyContext],c=s[n._getUnderlyingNode],d=l.getRdfType(c),h=(0,e.namedNode)(l.contextUtil.keyToIri(o,d));return(0,r.createLanguageMapProxy)(c,h,l,l.contextUtil.isArray(o,d))}return Jg.languagesOf=i,Jg}var aC={},E4;function xve(){return E4||(E4=1,Object.defineProperty(aC,"__esModule",{value:!0})),aC}var oC={},C4;function Eve(){return C4||(C4=1,Object.defineProperty(oC,"__esModule",{value:!0})),oC}var sC={},T4;function Cve(){return T4||(T4=1,Object.defineProperty(sC,"__esModule",{value:!0})),sC}var uC={},A4;function Tve(){return A4||(A4=1,Object.defineProperty(uC,"__esModule",{value:!0})),uC}var R4;function Um(){return R4||(R4=1,function(e){var t=Fg.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Fg.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0});const r=h4();e.default=r.jsonldDatasetProxy,n(Ds(),e),n(Nz(),e),n(Hz(),e),n(Fz(),e),n(h4(),e),n(vve(),e),n(_ve(),e),n(wve(),e),n(bve(),e),n(Sve(),e),n(Wz(),e),n(Gz(),e),n(xve(),e),n(Xh(),e),n($z(),e),n(jz(),e),n(Eve(),e),n(SO(),e),n(Vz(),e),n(qz(),e),n(Cve(),e),n(Bz(),e),n(Uz(),e),n(Yh(),e),n(bO(),e),n(lb(),e),n(Tve(),e),n(wO(),e),n(cb(),e),n(Kz(),e),n(xO(),e)}(Fg)),Fg}var Yg={},Ba={},P4;function Qz(){if(P4)return Ba;P4=1,Object.defineProperty(Ba,"__esModule",{value:!0}),Ba.getTransactionalDatasetFromLdo=Ba.isTransactionalDataset=Ba.canDatasetStartTransaction=Ba.normalizeNodeNames=Ba.normalizeNodeName=void 0;const e=Ui(),t=Um();function n(s){return typeof s=="string"?(0,e.namedNode)(s):s}Ba.normalizeNodeName=n;function r(s){return s.map(l=>n(l))}Ba.normalizeNodeNames=r;function i(s){return typeof s.startTransaction=="function"}Ba.canDatasetStartTransaction=i;function a(s){return typeof s.commit=="function"}Ba.isTransactionalDataset=a;function o(s){const l=(0,t.getProxyFromObject)(s),c=l[t._getUnderlyingDataset];if(!a(c)||!l[t._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[c,l]}return Ba.getTransactionalDatasetFromLdo=o,Ba}var O4;function EO(){if(O4)return Yg;O4=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.LdoBuilder=void 0;const e=Qz();let t=class LR{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,e.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new LR(this.jsonldDatasetProxyBuilder.write(...(0,e.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new LR(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return Yg.LdoBuilder=t,Yg}var Pd={},L4;function Zz(){if(L4)return Pd;L4=1;var e=Pd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.LdoTransactionDataset=void 0;const t=wy(),n=EO(),r=e(Um());let i=class extends t.TransactionDataset{usingType(o){const s=(0,r.default)(this,o.context);return new n.LdoBuilder(s,o)}};return Pd.LdoTransactionDataset=i,Pd}var I4;function Jz(){if(I4)return Ad;I4=1;var e=Ad.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.LdoDataset=void 0;const t=e(Um()),n=wy(),r=EO(),i=Zz();let a=class extends n.SubscribableDataset{usingType(s){const l=(0,t.default)(this,s.context);return new r.LdoBuilder(l,s)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return Ad.LdoDataset=a,Ad}var M4;function Ave(){if(M4)return Rg;M4=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.LdoDatasetFactory=void 0;const e=wy(),t=Jz();let n=class extends e.SubscribableDatasetFactory{dataset(i){return new t.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return Rg.LdoDatasetFactory=n,Rg}var D4;function Yz(){if(D4)return jc;D4=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.createLdoDataset=jc.createLdoDatasetFactory=void 0;const e=jf(),t=Ave(),n=wy();function r(){const a={dataset:o=>(0,e.createDataset)(o)};return new t.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}jc.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return jc.createLdoDataset=i,jc}var k4;function Rve(){if(k4)return pg;k4=1,Object.defineProperty(pg,"__esModule",{value:!0}),pg.parseRdf=void 0;const e=jf(),t=Yz();async function n(r,i){const a=(0,t.createLdoDatasetFactory)();return typeof r=="string"?await(0,e.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,t.createLdoDataset)(r):await(0,e.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/ld+json"})}return pg.parseRdf=n,pg}var lC={},N4;function Pve(){return N4||(N4=1,Object.defineProperty(lC,"__esModule",{value:!0})),lC}var or={},F4;function Ove(){if(F4)return or;F4=1,Object.defineProperty(or,"__esModule",{value:!0}),or.toNTriples=or.toJsonLd=or.toTurtle=or.serialize=or.toSparqlUpdate=or.getDataset=or.transactionChanges=or.commitTransaction=or.startTransaction=or.write=or.setLanguagePreferences=or.languagesOf=or.graphOf=void 0;const e=Um(),t=_y(),n=Qz(),r=Um();or.graphOf=r.graphOf,or.languagesOf=r.languagesOf,or.setLanguagePreferences=r.setLanguagePreferences;function i(...v){return(0,e.write)(...(0,n.normalizeNodeNames)(v))}or.write=i;function a(v){const _=(0,e.getProxyFromObject)(v),S=_[e._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(S))throw new Error("Object is not transactable.");_[e._proxyContext]=_[e._proxyContext].duplicate({dataset:S.startTransaction(),state:{parentDataset:S}})}or.startTransaction=a;function o(v){const[_,S]=(0,n.getTransactionalDatasetFromLdo)(v);_.commit(),S[e._proxyContext]=S[e._proxyContext].duplicate({dataset:S[e._proxyContext].state.parentDataset})}or.commitTransaction=o;function s(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v);return _.getChanges()}or.transactionChanges=s;function l(v){return(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset]}or.getDataset=l;async function c(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v),S=_.getChanges();return(0,t.changesToSparqlUpdate)(S)}or.toSparqlUpdate=c;async function d(v,_){const S=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(S,_)}or.serialize=d;async function h(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{})}or.toTurtle=h;async function g(v){throw new Error("Not Implemented")}or.toJsonLd=g;async function y(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{format:"N-Triples"})}return or.toNTriples=y,or}var cC={},j4;function Lve(){return j4||(j4=1,Object.defineProperty(cC,"__esModule",{value:!0})),cC}var $4;function Ive(){return $4||($4=1,function(e){var t=hg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=hg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Rve(),e),n(Pve(),e),n(Ove(),e),n(Jz(),e),n(Zz(),e),n(EO(),e),n(Yz(),e),n(Lve(),e)}(hg)),hg}var ur=Ive();const Pl={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},ic={Accommodation:Pl.hospex+"Accommodation",PersonalHospexDocument:Pl.hospex+"PersonalHospexDocument",offers:Pl.hospex+"offers",offeredBy:Pl.hospex+"offeredBy",storage:Pl.hospex+"storage"},mm={...Object.fromEntries(Object.entries(kN).map(([e,t])=>[e,NN(t)])),subject:NN(kN.object.replace("object","subject"))},Ol={participation:Pl.wf+"participation",participant:Pl.wf+"participant",...Sge},Xz={LongChat:Pl.meeting+"LongChat",...bge},eH=[{type:"match",subject:"?community",predicate:Eh.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:Su.inbox,pick:"object",target:"?inbox"}],tH=[...eH,{type:"match",subject:"?group",predicate:R9.hasMember,pick:"object",target:"?person"}],fb={type:"match",subject:"?person",predicate:Su.inbox,pick:"object",target:"?inbox"},ep=[{type:"match",subject:"?person",predicate:eO.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],nH=[...ep,{type:"match",subject:"?person",predicate:kn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],rH=[...nH,{type:"match",subject:"?person",predicate:Kh.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:kn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},fb],iH=[{type:"match",predicate:Nf.type,object:kn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:kn.forClass,object:ic.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:kn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:Eh.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],CO=[...nH,...iH],Mve=[...rH,...iH,{type:"match",subject:"?person",predicate:Kh.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},fb,{type:"match",subject:"?person",predicate:Eh.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:Eh.name,pick:"object",target:"?communityName"}],Dve=[...CO,{type:"match",subject:"?person",predicate:Kh.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],aH=[...CO,{type:"match",subject:"?person",predicate:ic.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],kve=[...tH,...aH],Nve=[{type:"match",subject:"?offer",predicate:ic.offeredBy,pick:"object",target:"?person"}],Fve=[...ep,{type:"match",subject:"?person",predicate:Gl.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:eO.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],jve=[...ep,fb,{type:"match",subject:"?inbox",predicate:Su.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Nf.type,object:mm.Invite,pick:"subject",target:"?inviteNotification"}],$ve=[...ep,fb,{type:"match",subject:"?inbox",predicate:Su.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Nf.type,object:mm.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:mm.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:mm.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:mm.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],oH=[...ep,{type:"match",subject:"?person",predicate:Kh.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:kn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:Nf.type,object:kn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:kn.forClass,object:Xz.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:kn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:Ol.participation,pick:"object",target:"?participation"}],Uve=[...oH,{type:"match",subject:"?participation",predicate:A9.references,pick:"object",target:"?otherChat"}],Bve=[...oH,{type:"match",subject:"?participation",predicate:Ol.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:Ol.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:Ol.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:Ol.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:Ol.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:A9.references,pick:"object",target:"?otherChat"}],sH=[{type:"match",subject:"?chatContainer",predicate:Su.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:Su.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:Su.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:Su.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:Ol.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:Ol.message,pick:"object",target:"?message"}],uw=e=>e.termType==="NamedNode"?new Xr(xi(e.value)):void 0,qve=[...Bve,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:uw},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:uw},...sH],zve=[...Uve,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:uw},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:uw},...sH],Hve=(e,t)=>{const{variables:n,isLoading:r}=ma(V.useMemo(()=>({query:tH,variables:{community:[t]},fetch:rr}),[t]));if(!r)return(n.person??[]).includes(e)},ju=(e,...t)=>{t.length===0&&(t=[...t,jh]);const{store:n,variables:r,isLoading:i}=ma({query:eH,variables:V.useMemo(()=>({community:[e]}),[e]),fetch:rr}),a=V.useMemo(()=>ur.createLdoDataset(n.getQuads(null,null,null,null)).usingType(mme).fromSubject(e),[e,n,r]),o=fC(a,"name",...t),s=fC(a,"note",...t),l=fC(a,"about",...t);return V.useMemo(()=>{var c,d;return{community:e,logo:((c=a.logo)==null?void 0:c.map(({"@id":h})=>h))??[],name:o,about:l,pun:s,groups:r.group??[],isLoading:i,inbox:(d=r.inbox)==null?void 0:d[0]}},[l,a.logo,e,i,o,s,r.group,r.inbox])},fC=(e,t,...n)=>{const r=V.useMemo(()=>[...n,"@none"],[n]);return V.useMemo(()=>{const a=ur.languagesOf(e,t);for(const o of r){const s=a[o];if(typeof s=="string")return s;if((s==null?void 0:s.toString())==="[object LanguageSet]"){const l=[...s][0];if(typeof l=="string")return l}}},[r,t,e])},Vve="_select_103rf_1",Kve={select:Vve},Gve=()=>{const e=Fr(Eo),t=ec();return B.jsx("select",{className:Kve.select,value:e,onChange:n=>{t(OP.changeLocale(n.target.value))},children:W0.map(n=>B.jsx("option",{value:n,children:n},n))})},Wve="_header_1hug1_1",Qve="_logoContainer_1hug1_12",Zve="_logo_1hug1_12",Jve="_spacer_1hug1_21",a_={header:Wve,logoContainer:Qve,logo:Zve,spacer:Jve},Yve=()=>{const e=ec(),t=async()=>{await _ne(),e(DP.signout())};return B.jsx("button",{onClick:t,children:B.jsx(_t,{id:"ydgdD7"})})},$u={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Uu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},Resource:"http://www.w3.org/ns/ldp#Resource"},uH={schema:$u,shape:"https://example.com/SolidProfile",context:Uu},Xve={schema:$u,shape:"https://example.com/FoafProfile",context:Uu},db={schema:$u,shape:"https://example.com/HospexProfile",context:Uu},hb={schema:$u,shape:"https://example.com/Accommodation",context:Uu},e_e={schema:$u,shape:"https://example.com/PublicTypeIndex",context:Uu},t_e={schema:$u,shape:"https://example.com/PrivateTypeIndex",context:Uu},Ch={schema:$u,shape:"https://example.com/ChatShape",context:Uu},lH={schema:$u,shape:"https://example.com/MessageActivity",context:Uu},cH={schema:$u,shape:"https://example.com/ContactInvitationActivity",context:Uu};var U4=_y();const n_e=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},B4=e=>JSON.parse(JSON.stringify(e,n_e()));async function IR(e){const t=ur.transactionChanges(e),n=[`_:mutate a <${kn.InsertDeletePatch}>`];if(t.added){const i=await U4.datasetToString(t.added,{format:"N3"});n.push(`<${kn.inserts}> { ${i} }`)}if(t.removed){const i=await U4.datasetToString(t.removed,{format:"N3"});n.push(`<${kn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}const TO=(e,t)=>{const n=ur.languagesOf(e,t);return r_e(n)},r_e=e=>{const t={};for(const n in e)t[n]=[...e[n]][0];return t},AO=(e,t,n)=>{const r=ur.languagesOf(t,n);e&&Object.entries(e).forEach(([i,a])=>{var o,s;(o=r[i])==null||o.clear(),a.trim()&&((s=r[i])==null||s.add(a.trim()))})};var dC,q4;function fH(){if(q4)return dC;q4=1;var e=ob(),t=my();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return dC=n,dC}var ym={exports:{}};ym.exports;var z4;function dH(){return z4||(z4=1,function(e,t){var n=Xo(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,g=s?s(h):new c.constructor(h);return c.copy(g),g}e.exports=l}(ym,ym.exports)),ym.exports}var hC,H4;function RO(){if(H4)return hC;H4=1;var e=nz();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return hC=t,hC}var pC,V4;function hH(){if(V4)return pC;V4=1;var e=RO();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return pC=t,pC}var gC,K4;function pH(){if(K4)return gC;K4=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return gC=e,gC}var mC,G4;function i_e(){if(G4)return mC;G4=1;var e=Co(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return mC=n,mC}var yC,W4;function PO(){if(W4)return yC;W4=1;var e=uz(),t=e(Object.getPrototypeOf,Object);return yC=t,yC}var vC,Q4;function gH(){if(Q4)return vC;Q4=1;var e=i_e(),t=PO(),n=hO();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return vC=r,vC}var _C,Z4;function mH(){if(Z4)return _C;Z4=1;var e=ib(),t=Fu();function n(r){return t(r)&&e(r)}return _C=n,_C}var wC,J4;function yH(){if(J4)return wC;J4=1;var e=Qh(),t=PO(),n=Fu(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var h=t(d);if(h===null)return!0;var g=s.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==l}return wC=c,wC}var bC,Y4;function vH(){if(Y4)return bC;Y4=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return bC=e,bC}var SC,X4;function OO(){if(X4)return SC;X4=1;var e=ob(),t=my(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var l=a[o];(!(r.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return SC=i,SC}var xC,e6;function tp(){if(e6)return xC;e6=1;var e=OO(),t=ob();function n(r,i,a,o){var s=!a;a||(a={});for(var l=-1,c=i.length;++l<c;){var d=i[l],h=o?o(a[d],r[d],d,a,r):void 0;h===void 0&&(h=r[d]),s?t(a,d,h):e(a,d,h)}return a}return xC=n,xC}var EC,t6;function a_e(){if(t6)return EC;t6=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return EC=e,EC}var CC,n6;function o_e(){if(n6)return CC;n6=1;var e=Co(),t=hO(),n=a_e(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!e(o))return n(o);var s=t(o),l=[];for(var c in o)c=="constructor"&&(s||!i.call(o,c))||l.push(c);return l}return CC=a,CC}var TC,r6;function by(){if(r6)return TC;r6=1;var e=sz(),t=o_e(),n=ib();function r(i){return n(i)?e(i,!0):t(i)}return TC=r,TC}var AC,i6;function s_e(){if(i6)return AC;i6=1;var e=tp(),t=by();function n(r){return e(r,t(r))}return AC=n,AC}var RC,a6;function u_e(){if(a6)return RC;a6=1;var e=fH(),t=dH(),n=hH(),r=pH(),i=gH(),a=tb(),o=es(),s=mH(),l=nb(),c=iO(),d=Co(),h=yH(),g=dO(),y=vH(),v=s_e();function _(S,b,x,A,P,O,D){var F=y(S,x),Q=y(b,x),X=D.get(Q);if(X){e(S,x,X);return}var U=O?O(F,Q,x+"",S,b,D):void 0,Y=U===void 0;if(Y){var ce=o(Q),te=!ce&&l(Q),se=!ce&&!te&&g(Q);U=Q,ce||te||se?o(F)?U=F:s(F)?U=r(F):te?(Y=!1,U=t(Q,!0)):se?(Y=!1,U=n(Q,!0)):U=[]:h(Q)||a(Q)?(U=F,a(F)?U=v(F):(!d(F)||c(F))&&(U=i(Q))):Y=!1}Y&&(D.set(Q,U),P(U,Q,A,O,D),D.delete(Q)),e(S,x,U)}return RC=_,RC}var PC,o6;function l_e(){if(o6)return PC;o6=1;var e=eb(),t=fH(),n=dz(),r=u_e(),i=Co(),a=by(),o=vH();function s(l,c,d,h,g){l!==c&&n(c,function(y,v){if(g||(g=new e),i(y))r(l,c,v,d,s,h,g);else{var _=h?h(o(l,v),y,v+"",l,c,g):void 0;_===void 0&&(_=y),t(l,v,_)}},a)}return PC=s,PC}var OC,s6;function _H(){if(s6)return OC;s6=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return OC=e,OC}var LC,u6;function wH(){if(u6)return LC;u6=1;var e=_H(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(c),e(r,this,d)}}return LC=n,LC}var IC,l6;function c_e(){if(l6)return IC;l6=1;function e(t){return function(){return t}}return IC=e,IC}var MC,c6;function f_e(){if(c6)return MC;c6=1;var e=c_e(),t=fz(),n=mO(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return MC=r,MC}var DC,f6;function d_e(){if(f6)return DC;f6=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return DC=r,DC}var kC,d6;function bH(){if(d6)return kC;d6=1;var e=f_e(),t=d_e(),n=t(e);return kC=n,kC}var NC,h6;function SH(){if(h6)return NC;h6=1;var e=mO(),t=wH(),n=bH();function r(i,a){return n(t(i,a,e),i+"")}return NC=r,NC}var FC,p6;function h_e(){if(p6)return FC;p6=1;var e=my(),t=ib(),n=rb(),r=Co();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return FC=i,FC}var jC,g6;function p_e(){if(g6)return jC;g6=1;var e=SH(),t=h_e();function n(r){return e(function(i,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,c=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&t(a[0],a[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++o<s;){var d=a[o];d&&r(i,d,o,l)}return i})}return jC=n,jC}var $C,m6;function g_e(){if(m6)return $C;m6=1;var e=l_e(),t=p_e(),n=t(function(r,i,a){e(r,i,a)});return $C=n,$C}var m_e=g_e();const Tf=Lr(m_e);class Go extends Error{constructor(n,r){super(n);TS(this,"status");TS(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Go.prototype)}}var UC,y6;function xH(){if(y6)return UC;y6=1;var e=vy();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return UC=t,UC}var BC,v6;function y_e(){if(v6)return BC;v6=1;function e(t,n){return t>n}return BC=e,BC}var qC,_6;function v_e(){if(_6)return qC;_6=1;var e=xH(),t=y_e(),n=yO();function r(i,a){return i&&i.length?e(i,n(a,2),t):void 0}return qC=r,qC}var __e=v_e();const w_e=Lr(__e),b_e=(e,t)=>rr(e,{cache:"no-store",...t}),EH=e=>rO(e,b_e),S_e=e=>{const t=V.useMemo(()=>({queries:e.map(r=>nc(r)).map(r=>({queryKey:[Kr.rdfDocument,r],queryFn:()=>EH(r)}))}),[e]);return Im(t)},x_e=()=>{const e=Ei();return La({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await Ko(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:np(e)})},Wo=e=>{const t=Ei();return La({mutationFn:async({uri:r,data:i,transform:a,language:o="en",method:s="PUT",throwOnHttpError:l=!1})=>{const c=ur.createLdoDataset();if(Array.isArray(i))i.forEach(v=>{const _=c.usingType(e).fromSubject(v["@id"]);ur.setLanguagePreferences(o).using(_),Tf(_,v),a==null||a(_)});else{const v=c.usingType(e).fromSubject(i["@id"]);ur.setLanguagePreferences(o).using(v),Tf(v,i),a==null||a(v)}const d=await ur.toTurtle(c.usingType(e).fromSubject("")),h={"content-type":"text/turtle"};s==="PUT"&&(h["If-None-Match"]="*");const g=await Ko(r,{method:s,body:d,headers:h});if(l&&!g.ok)throw new Go(g.statusText,g);return g.headers.get("location")},onSuccess:np(t)})},ts=()=>{const e=Ei();return La({mutationFn:async({uri:n,patch:r})=>{const i=await Ko(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:np(e,n=>n.status===201)})},$f=e=>{const t=Ei();return La({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:o="en"})=>{const s=await Ko(n);let l="";s.ok&&(l=await s.text());const d=(await ur.parseRdf(l,{baseIRI:n})).usingType(e);let h="";if(r){const g=d.fromSubject(r);ur.setLanguagePreferences(o).using(g),ur.startTransaction(g),a(g),h=await IR(g)}else if(i){const g=d.matchSubject(i.predicate,i.object,i.graph);ur.setLanguagePreferences(o).using(g),ur.startTransaction(g),a(g),h=await IR(g)}return await Ko(n,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}})},onSuccess:np(t,n=>n.status===201)})},E_e=e=>{const t=Ei();return La({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const o=await Ko(n);let s="";o.ok&&(s=await o.text());const c=(await ur.parseRdf(s,{baseIRI:n})).usingType(e),d=r(c);ur.setLanguagePreferences(a).using(d),ur.startTransaction(d),i(d);const h=await IR(d);return await Ko(n,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}})},onSuccess:np(t,n=>n.status===201)})},pb=()=>{const e=Ei();return La({mutationFn:async({uri:n})=>{await Ko(n,{method:"DELETE"})},onSuccess:np(e)})},C_e=(e,t)=>{const n=Cge(e),r=t.getQueryCache().getAll().filter(a=>a.queryKey[0]===Kr.rdfDocument&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return w_e(r,a=>a.length)},np=(e,t=()=>!0)=>(n,r)=>{const i=nc(r.uri);if(e.invalidateQueries({queryKey:[Kr.rdfDocument,i]}),e.invalidateQueries({queryKey:[Kr.rdfDocument,P9(i)]}),t(n)){const a=C_e(i,e);a&&e.invalidateQueries({queryKey:[Kr.rdfDocument,a]})}},Qo=(e,t)=>{const n=ma(V.useMemo(()=>({query:CO,variables:{person:e?[e]:[],community:[t]},fetch:rr}),[t,e])),{variables:r,isLoading:i}=n,a=ma(V.useMemo(()=>({query:rH,variables:{person:e?[e]:[]},fetch:rr}),[e])),o=V.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(S=>new Os(n.quads).getQuads(null,null,null,new Xr(S))).map(S=>ur.createLdoDataset(S).usingType(db).fromSubject(e)),[n.quads,r.hospexDocumentForCommunity,e]),s=V.useMemo(()=>{const{quads:y}=a;return ur.createLdoDataset(y).usingType(Xve).fromSubject(e)},[a,e]),l=V.useMemo(()=>Tf({},B4(s),...o.map(y=>B4(y))),[s,o]),c=V.useMemo(()=>o[0]?TO(o[0],"note"):{},[o]),d=V.useMemo(()=>{var y,v;return{id:e,name:l.name??"",photo:(y=l.hasPhoto)==null?void 0:y["@id"],about:c,interests:((v=l.topicInterest)==null?void 0:v.map(_=>_["@id"]))??[]}},[c,l.hasPhoto,l.name,l.topicInterest,e]),h=V.useMemo(()=>{var y,v,_;return o.length>0?{id:e,name:((y=o[0])==null?void 0:y.name)??"",photo:(_=(v=o[0])==null?void 0:v.hasPhoto)==null?void 0:_["@id"],about:c}:void 0},[c,o,e]),g=V.useMemo(()=>new Os(n.quads).getQuads(new Xr(e),new Xr(Gl.topic_interest),null,null).map(y=>({id:y.object.id,document:y.graph.id})),[n,e]);return V.useMemo(()=>{var y;return[d,i,(y=r.hospexDocumentForCommunity)==null?void 0:y[0],g,h]},[h,g,i,d,r.hospexDocumentForCommunity])},CH=e=>{const{quads:t,isFetched:n}=ma(V.useMemo(()=>({query:ep,variables:{person:[e]},fetch:rr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[e]));return V.useMemo(()=>[ur.createLdoDataset(t).usingType(uH).fromSubject(e),{isFetched:n}],[n,e,t])},T_e=()=>{const e=$f(db);return V.useCallback(async({personId:t,hospexDocument:n,data:r})=>{await e.mutateAsync({uri:n,subject:t,language:"en",transform:i=>{r.name&&(i.name=r.name),r.about&&AO(r.about,i,"note"),r.photo&&(i.hasPhoto={"@id":r.photo})}})},[e])},A_e=()=>{const e=ts();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${kn.InsertDeletePatch}>;
        <${kn.inserts}> { <${t}> <${Gl.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])},R_e=()=>{const e=ts();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${kn.InsertDeletePatch}>;
        <${kn.deletes}> { <${t}> <${Gl.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])};var zC,w6;function P_e(){if(w6)return zC;w6=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return zC=e,zC}var HC,b6;function O_e(){if(b6)return HC;b6=1;var e=tp(),t=yy();function n(r,i){return r&&e(i,t(i),r)}return HC=n,HC}var VC,S6;function L_e(){if(S6)return VC;S6=1;var e=tp(),t=by();function n(r,i){return r&&e(i,t(i),r)}return VC=n,VC}var KC,x6;function I_e(){if(x6)return KC;x6=1;var e=tp(),t=uO();function n(r,i){return e(r,t(r),i)}return KC=n,KC}var GC,E6;function TH(){if(E6)return GC;E6=1;var e=sO(),t=PO(),n=uO(),r=az(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,n(o)),o=t(o);return s}:r;return GC=a,GC}var WC,C6;function M_e(){if(C6)return WC;C6=1;var e=tp(),t=TH();function n(r,i){return e(r,t(r),i)}return WC=n,WC}var QC,T6;function AH(){if(T6)return QC;T6=1;var e=rz(),t=TH(),n=by();function r(i){return e(i,n,t)}return QC=r,QC}var ZC,A6;function D_e(){if(A6)return ZC;A6=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return ZC=n,ZC}var JC,R6;function k_e(){if(R6)return JC;R6=1;var e=RO();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return JC=t,JC}var YC,P6;function N_e(){if(P6)return YC;P6=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return YC=t,YC}var XC,O6;function F_e(){if(O6)return XC;O6=1;var e=Wh(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return XC=r,XC}var eT,L6;function j_e(){if(L6)return eT;L6=1;var e=RO(),t=k_e(),n=N_e(),r=F_e(),i=hH(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";function Q(X,U,Y){var ce=X.constructor;switch(U){case y:return e(X);case a:case o:return new ce(+X);case v:return t(X,Y);case _:case S:case b:case x:case A:case P:case O:case D:case F:return i(X,Y);case s:return new ce;case l:case h:return new ce(X);case c:return n(X);case d:return new ce;case g:return r(X)}}return eT=Q,eT}var tT,I6;function $_e(){if(I6)return tT;I6=1;var e=ab(),t=Fu(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return tT=r,tT}var nT,M6;function U_e(){if(M6)return nT;M6=1;var e=$_e(),t=cO(),n=fO(),r=n&&n.isMap,i=r?t(r):e;return nT=i,nT}var rT,D6;function B_e(){if(D6)return rT;D6=1;var e=ab(),t=Fu(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return rT=r,rT}var iT,k6;function q_e(){if(k6)return iT;k6=1;var e=B_e(),t=cO(),n=fO(),r=n&&n.isSet,i=r?t(r):e;return iT=i,iT}var aT,N6;function RH(){if(N6)return aT;N6=1;var e=eb(),t=P_e(),n=OO(),r=O_e(),i=L_e(),a=dH(),o=pH(),s=I_e(),l=M_e(),c=lz(),d=AH(),h=ab(),g=D_e(),y=j_e(),v=gH(),_=es(),S=nb(),b=U_e(),x=Co(),A=q_e(),P=yy(),O=by(),D=1,F=2,Q=4,X="[object Arguments]",U="[object Array]",Y="[object Boolean]",ce="[object Date]",te="[object Error]",se="[object Function]",pe="[object GeneratorFunction]",_e="[object Map]",de="[object Number]",ue="[object Object]",Re="[object RegExp]",k="[object Set]",ie="[object String]",me="[object Symbol]",K="[object WeakMap]",ee="[object ArrayBuffer]",ge="[object DataView]",Ae="[object Float32Array]",Ze="[object Float64Array]",Pe="[object Int8Array]",Ne="[object Int16Array]",Ye="[object Int32Array]",oe="[object Uint8Array]",H="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",Z={};Z[X]=Z[U]=Z[ee]=Z[ge]=Z[Y]=Z[ce]=Z[Ae]=Z[Ze]=Z[Pe]=Z[Ne]=Z[Ye]=Z[_e]=Z[de]=Z[ue]=Z[Re]=Z[k]=Z[ie]=Z[me]=Z[oe]=Z[H]=Z[$]=Z[ae]=!0,Z[te]=Z[se]=Z[K]=!1;function he(ye,He,Ee,Fe,tt,nt){var gt,qt=He&D,Se=He&F,Be=He&Q;if(Ee&&(gt=tt?Ee(ye,Fe,tt,nt):Ee(ye)),gt!==void 0)return gt;if(!x(ye))return ye;var ne=_(ye);if(ne){if(gt=g(ye),!qt)return o(ye,gt)}else{var z=h(ye),W=z==se||z==pe;if(S(ye))return a(ye,qt);if(z==ue||z==X||W&&!tt){if(gt=Se||W?{}:v(ye),!qt)return Se?l(ye,i(gt,ye)):s(ye,r(gt,ye))}else{if(!Z[z])return tt?ye:{};gt=y(ye,z,qt)}}nt||(nt=new e);var G=nt.get(ye);if(G)return G;nt.set(ye,gt),A(ye)?ye.forEach(function(ke){gt.add(he(ke,He,Ee,ke,ye,nt))}):b(ye)&&ye.forEach(function(ke,Rt){gt.set(Rt,he(ke,He,Ee,Rt,ye,nt))});var je=Be?Se?d:c:Se?O:P,Je=ne?void 0:je(ye);return t(Je||ye,function(ke,Rt){Je&&(Rt=ke,ke=ye[Rt]),n(gt,Rt,he(ke,He,Ee,Rt,ye,nt))}),gt}return aT=he,aT}var oT,F6;function z_e(){if(F6)return oT;F6=1;var e=RH(),t=1,n=4;function r(i){return e(i,t|n)}return oT=r,oT}var H_e=z_e();const V_e=Lr(H_e),K_e=e=>{const{quads:t,variables:n}=ma(V.useMemo(()=>({query:zve,variables:{person:[e]},staleTime:3e4,fetch:rr}),[e])),r=V.useMemo(()=>{const i=ur.createLdoDataset(t).usingType(Ch);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var d,h,g;const o=a["@id"],s=((d=a.participation)==null?void 0:d.flatMap(y=>{var v;return((v=y.references)==null?void 0:v.flatMap(_=>_["@id"]??[]).filter(_=>!!_))??[]}))??[],l=((h=a.participation)==null?void 0:h.map(y=>y.participant["@id"]))??[],c=[a,...(((g=a.participation)==null?void 0:g.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(v=>({id:v["@id"],message:v.content,createdAt:new Date(v.created).getTime(),from:v.maker["@id"],chat:y["@id"]})).sort((v,_)=>v.createdAt-_.createdAt));return{id:o,related:s,participants:l,messages:c}}).sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[t,n.chat]);return V.useMemo(()=>({data:r}),[r])},gb=e=>{const{quads:t,variables:n,isLoading:r}=ma(V.useMemo(()=>({query:$ve,variables:{person:e?[e]:[]},fetch:rr,staleTime:3e4}),[e])),i=V.useMemo(()=>(n.longChatNotification??[]).map(a=>{var s,l,c,d;const o=ur.createLdoDataset(t).usingType(lH).fromSubject(a);return{id:o.object["@id"]??"",message:o.object.content,createdAt:new Date(((s=o.object)==null?void 0:s.created)??o.updated).getTime(),from:((l=o.object.maker)==null?void 0:l["@id"])??((c=o.actor)==null?void 0:c["@id"]),chat:o.target["@id"]??"",otherChats:(d=o.target.participation)==null?void 0:d.flatMap(h=>{var g;return((g=h.references)==null?void 0:g.flatMap(y=>y["@id"]??[]))??[]}),notification:o["@id"],status:"unread"}}),[t,n.longChatNotification]);return V.useMemo(()=>({isLoading:r,data:i}),[r,i])},G_e=e=>{const{data:t}=K_e(e),{data:n}=gb(e);return{data:V.useMemo(()=>{const i=V_e(t);n.forEach(a=>{const o=i.find(s=>{var l;return s.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(s.id))});if(o){o.status="unread";const s=o.messages.findIndex(l=>l.id===a.id);s>-1?o.messages[s]=a:o.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((o,s)=>((o==null?void 0:o.createdAt)??0)-((s==null?void 0:s.createdAt)??0));return i.sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,t])}};function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function Af(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var sT={exports:{}},uT,j6;function W_e(){if(j6)return uT;j6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uT=e,uT}var lT,$6;function Q_e(){if($6)return lT;$6=1;var e=W_e();function t(){}function n(){}return n.resetWarningCache=t,lT=function(){function r(o,s,l,c,d,h){if(h!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},lT}var U6;function PH(){return U6||(U6=1,sT.exports=Q_e()()),sT.exports}var Ql=yP();const Z_e=Lr(Ql);var OH=function(t){return!!t&&t[0]==="o"},B6=Ql.unstable_batchedUpdates||function(e){return e()},Od=function(t,n,r){return r===void 0&&(r=1e-4),Math.abs(t-n)<r},Bm=function(t,n){return t===!0||!!(t&&t[n])},So=function(t,n){return typeof t=="function"?t(n):t},LH="_szhsinMenu",J_e=function(t){return t[LH]},Y_e=function(t,n){return Object.defineProperty(n,LH,{value:t})},mb=function(t,n){return n&&Object.keys(n).forEach(function(r){var i=t[r],a=n[r];typeof a=="function"&&i?t[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:t[r]=a}),t},X_e=function(t){if(typeof t!="string")return{top:0,right:0,bottom:0,left:0};var n=t.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},cT=function(t){for(;t;){if(t=t.parentNode,!t||t===document.body)return;var n=getComputedStyle(t),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return t}};function IH(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function q6(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Th=function(t){var n=t.block,r=t.element,i=t.modifiers,a=t.className;return V.useMemo(function(){var o=r?n+"__"+r:n,s=o;i&&Object.keys(i).forEach(function(c){var d=i[c];d&&(s+=" "+o+"--"+(d===!0?c:c+"-"+d))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(s+=" "+l)),s},[n,r,i,a])},e0e="szh-menu-container",Cm="szh-menu",t0e="szh-menu-button",n0e="arrow",r0e="item",i0e="divider",MH=V.createContext(),DH=V.createContext({}),z6=V.createContext({}),kH=V.createContext({}),a0e=V.createContext({}),NH=V.createContext({}),FH=V.createContext({}),zo=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Si=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),qm=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Tm=Object.freeze({FIRST:"first",LAST:"last"}),o0e=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),s0e=["className","isOpen","disabled","children"],u0e=Y_e("MenuButton",V.forwardRef(function(t,n){var r=t.className,i=t.isOpen,a=t.disabled,o=t.children,s=Af(t,s0e),l=V.useMemo(function(){return{open:i}},[i]);return B.jsx("button",ei({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},s,{ref:n,className:Th({block:t0e,modifiers:l,className:r}),children:o}))})),l0e=function(t){var n=t.className,r=t.containerRef,i=t.containerProps,a=t.children,o=t.isOpen,s=t.skipOpen,l=t.theming,c=t.transition,d=t.onClose,h=Bm(c,"item"),g=function(_){var S=_.key;switch(S){case zo.ESC:So(d,{key:S,reason:qm.CANCEL});break}},y=function(_){o&&!_.currentTarget.contains(_.relatedTarget||document.activeElement)&&(So(d,{reason:qm.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return B.jsx("div",ei({},mb({onKeyDown:g,onBlur:y},i),{className:Th({block:e0e,modifiers:V.useMemo(function(){return{theme:l,itemTransition:h}},[l,h]),className:n}),style:ei({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},c0e=function(t,n){var r=V.useState(),i=r[0],a=r[1],o=V.useRef({items:[],hoverIndex:-1,sorted:!1}),s=o.current,l=V.useCallback(function(d,h){var g=s.items;if(!d)s.items=[];else if(h)g.push(d);else{var y=g.indexOf(d);y>-1&&(g.splice(y,1),d.contains(document.activeElement)&&(n.current.focus(),a()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),c=V.useCallback(function(d,h,g){var y=s.items,v=s.hoverIndex,_=function(){if(!s.sorted){var A=t.current.querySelectorAll(".szh-menu__item");y.sort(function(P,O){return q6(A,P)-q6(A,O)}),s.sorted=!0}},S=-1,b=void 0;switch(d){case Si.RESET:break;case Si.SET:b=h;break;case Si.UNSET:b=function(A){return A===h?void 0:A};break;case Si.FIRST:_(),S=0,b=y[S];break;case Si.LAST:_(),S=y.length-1,b=y[S];break;case Si.SET_INDEX:_(),S=g,b=y[S];break;case Si.INCREASE:_(),S=v,S<0&&(S=y.indexOf(h)),S++,S>=y.length&&(S=0),b=y[S];break;case Si.DECREASE:_(),S=v,S<0&&(S=y.indexOf(h)),S--,S<0&&(S=y.length-1),b=y[S];break}b||(S=-1),a(b),s.hoverIndex=S},[t,s]);return{hoverItem:i,dispatch:c,updateItems:l}},f0e=function(t,n,r,i){var a=n.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=X_e(i),c=function(S){return S+o.left-s.left-l.left},d=function(S){return S+o.left+a.width-s.right+l.right},h=function(S){return S+o.top-s.top-l.top},g=function(S){return S+o.top+a.height-s.bottom+l.bottom},y=function(S){var b=c(S);if(b<0)S-=b;else{var x=d(S);x>0&&(S-=x,b=c(S),b<0&&(S-=b))}return S},v=function(S){var b=h(S);if(b<0)S-=b;else{var x=g(S);x>0&&(S-=x,b=h(S),b<0&&(S-=b))}return S};return{menuRect:a,containerRect:o,getLeftOverflow:c,getRightOverflow:d,getTopOverflow:h,getBottomOverflow:g,confineHorizontally:y,confineVertically:v}},d0e=function(t){var n=t.arrowRef,r=t.menuY,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return s=Math.max(l,s),s=Math.min(s,o.height-l),s},h0e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeLeftorRightY,o=t.placeLeftX,s=t.placeRightX,l=t.getLeftOverflow,c=t.getRightOverflow,d=t.confineHorizontally,h=t.confineVertically,g=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,S=v,b=a;_!=="initial"&&(b=h(b),_==="anchor"&&(b=Math.min(b,n.bottom-r.top),b=Math.max(b,n.top-r.top-i.height)));var x,A,P;S==="left"?(x=o,_!=="initial"&&(A=l(x),A<0&&(P=c(s),(P<=0||-A>P)&&(x=s,S="right")))):(x=s,_!=="initial"&&(P=c(x),P>0&&(A=l(o),(A>=0||-A<P)&&(x=o,S="left")))),_==="auto"&&(x=d(x));var O=y?d0e({menuY:b,arrowRef:g,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:O,x,y:b,computedDirection:S}},p0e=function(t){var n=t.arrowRef,r=t.menuX,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return s=Math.max(l,s),s=Math.min(s,o.width-l),s},g0e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeToporBottomX,o=t.placeTopY,s=t.placeBottomY,l=t.getTopOverflow,c=t.getBottomOverflow,d=t.confineHorizontally,h=t.confineVertically,g=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,S=v==="top"?"top":"bottom",b=a;_!=="initial"&&(b=d(b),_==="anchor"&&(b=Math.min(b,n.right-r.left),b=Math.max(b,n.left-r.left-i.width)));var x,A,P;S==="top"?(x=o,_!=="initial"&&(A=l(x),A<0&&(P=c(s),(P<=0||-A>P)&&(x=s,S="bottom")))):(x=s,_!=="initial"&&(P=c(x),P>0&&(A=l(o),(A>=0||-A<P)&&(x=o,S="top")))),_==="auto"&&(x=h(x));var O=y?p0e({menuX:b,arrowRef:g,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:O,x:b,y:x,computedDirection:S}},m0e=function(t){var n=t.arrow,r=t.align,i=t.direction,a=t.offsetX,o=t.offsetY,s=t.position,l=t.anchorRect,c=t.arrowRef,d=t.positionHelpers,h=d.menuRect,g=d.containerRect,y=a,v=o;n&&(i==="left"||i==="right"?y+=c.current.offsetWidth:v+=c.current.offsetHeight);var _=l.left-g.left-h.width-y,S=l.right-g.left+y,b=l.top-g.top-h.height-v,x=l.bottom-g.top+v,A,P;r==="end"?(A=l.right-g.left-h.width,P=l.bottom-g.top-h.height):r==="center"?(A=l.left-g.left-(h.width-l.width)/2,P=l.top-g.top-(h.height-l.height)/2):(A=l.left-g.left,P=l.top-g.top),A+=y,P+=v;var O=ei({},d,{anchorRect:l,placeLeftX:_,placeRightX:S,placeLeftorRightY:P,placeTopY:b,placeBottomY:x,placeToporBottomX:A,arrowRef:c,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return h0e(O);case"top":case"bottom":default:return g0e(O)}},R0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?V.useLayoutEffect:V.useEffect;function H6(e,t){typeof e=="function"?e(t):e.current=t}var LO=function(t,n){return V.useMemo(function(){return t?n?function(r){H6(t,r),H6(n,r)}:t:n},[t,n])},y0e=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],v0e=function(t){var n=t.ariaLabel,r=t.menuClassName,i=t.menuStyle,a=t.arrowClassName,o=t.arrowStyle,s=t.anchorPoint,l=t.anchorRef,c=t.containerRef,d=t.containerProps,h=t.focusProps,g=t.externalRef,y=t.parentScrollingRef,v=t.arrow,_=t.align,S=_===void 0?"start":_,b=t.direction,x=b===void 0?"bottom":b,A=t.position,P=A===void 0?"auto":A,O=t.overflow,D=O===void 0?"visible":O,F=t.setDownOverflow,Q=t.repositionFlag,X=t.captureFocus,U=X===void 0?!0:X,Y=t.state,ce=t.endTransition,te=t.isDisabled,se=t.menuItemFocus,pe=t.offsetX,_e=pe===void 0?0:pe,de=t.offsetY,ue=de===void 0?0:de,Re=t.children,k=t.onClose,ie=Af(t,y0e),me=V.useState({x:0,y:0}),K=me[0],ee=me[1],ge=V.useState({}),Ae=ge[0],Ze=ge[1],Pe=V.useState(),Ne=Pe[0],Ye=Pe[1],oe=V.useState(x),H=oe[0],$=oe[1],ae=V.useState(0),Z=ae[0],he=ae[1],ye=V.useReducer(function(it){return it+1},1),He=ye[0],Ee=ye[1],Fe=V.useContext(NH),tt=Fe.transition,nt=Fe.boundingBoxRef,gt=Fe.boundingBoxPadding,qt=Fe.rootMenuRef,Se=Fe.rootAnchorRef,Be=Fe.scrollNodesRef,ne=Fe.reposition,z=Fe.viewScroll,W=V.useContext(z6).reposSubmenu||Q,G=V.useRef(null),je=V.useRef(),Je=V.useRef(),ke=V.useRef(!1),Rt=V.useRef({width:0,height:0}),It=V.useRef(function(){}),Nt=c0e(G,je),Ot=Nt.hoverItem,zt=Nt.dispatch,Ar=Nt.updateItems,dn=OH(Y),hn=Bm(tt,"open"),gr=Bm(tt,"close"),un=Be.current,ln=function(Ct){switch(Ct.key){case zo.HOME:zt(Si.FIRST);break;case zo.END:zt(Si.LAST);break;case zo.UP:zt(Si.DECREASE,Ot);break;case zo.DOWN:zt(Si.INCREASE,Ot);break;case zo.SPACE:Ct.target&&Ct.target.className.indexOf(Cm)!==-1&&Ct.preventDefault();return;default:return}Ct.preventDefault(),Ct.stopPropagation()},In=function(){Y==="closing"&&Ye(),So(ce)},lr=V.useCallback(function(it){var Ct,Dt=l?(Ct=l.current)==null?void 0:Ct.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(Dt){un.menu||(un.menu=(nt?nt.current:cT(qt.current))||window);var Gt=f0e(c,G,un.menu,gt),Xt=m0e({arrow:v,align:S,direction:x,offsetX:_e,offsetY:ue,position:P,anchorRect:Dt,arrowRef:Je,positionHelpers:Gt}),Ht=Xt.arrowX,jt=Xt.arrowY,tn=Xt.x,Pn=Xt.y,Wt=Xt.computedDirection,Zt=Gt.menuRect,En=Zt.height;if(!it&&D!=="visible"){var Cn=Gt.getTopOverflow,qn=Gt.getBottomOverflow,Rr,Qr,Zr=Rt.current.height,Ir=qn(Pn);if(Ir>0||Od(Ir,0)&&Od(En,Zr))Rr=En-Ir,Qr=Ir;else{var $n=Cn(Pn);($n<0||Od($n,0)&&Od(En,Zr))&&(Rr=En+$n,Qr=0-$n,Rr>=0&&(Pn-=$n))}Rr>=0?(En=Rr,Ye({height:Rr,overflowAmt:Qr})):Ye()}v&&Ze({x:Ht,y:jt}),ee({x:tn,y:Pn}),$(Wt),Rt.current={width:Zt.width,height:En}}},[v,S,gt,x,_e,ue,P,D,s,l,c,nt,qt,un]);R0(function(){dn&&(lr(),ke.current&&Ee()),ke.current=dn,It.current=lr},[dn,lr,W]),R0(function(){Ne&&!F&&(G.current.scrollTop=0)},[Ne,F]),R0(function(){return Ar},[Ar]),V.useEffect(function(){var it=un.menu;if(!(!dn||!it)){if(it=it.addEventListener?it:window,!un.anchors){un.anchors=[];for(var Ct=cT(Se&&Se.current);Ct&&Ct!==it;)un.anchors.push(Ct),Ct=cT(Ct)}var Dt=z;if(un.anchors.length&&Dt==="initial"&&(Dt="auto"),Dt!=="initial"){var Gt=function(){Dt==="auto"?B6(function(){return lr(!0)}):So(k,{reason:qm.SCROLL})},Xt=un.anchors.concat(z!=="initial"?it:[]);return Xt.forEach(function(Ht){return Ht.addEventListener("scroll",Gt)}),function(){return Xt.forEach(function(Ht){return Ht.removeEventListener("scroll",Gt)})}}}},[Se,un,dn,k,z,lr]);var Le=!!Ne&&Ne.overflowAmt>0;V.useEffect(function(){if(!(Le||!dn||!y)){var it=function(){return B6(lr)},Ct=y.current;return Ct.addEventListener("scroll",it),function(){return Ct.removeEventListener("scroll",it)}}},[dn,Le,y,lr]),V.useEffect(function(){if(!(typeof ResizeObserver!="function"||ne==="initial")){var it=new ResizeObserver(function(Dt){var Gt=Dt[0],Xt=Gt.borderBoxSize,Ht=Gt.target,jt,tn;if(Xt){var Pn=Xt[0]||Xt,Wt=Pn.inlineSize,Zt=Pn.blockSize;jt=Wt,tn=Zt}else{var En=Ht.getBoundingClientRect();jt=En.width,tn=En.height}jt===0||tn===0||Od(jt,Rt.current.width,1)&&Od(tn,Rt.current.height,1)||Ql.flushSync(function(){It.current(),Ee()})}),Ct=G.current;return it.observe(Ct,{box:"border-box"}),function(){return it.unobserve(Ct)}}},[ne]),V.useEffect(function(){if(!dn){zt(Si.RESET),gr||Ye();return}var it=se||{},Ct=it.position,Dt=it.alwaysUpdate,Gt=function(){Ct===Tm.FIRST?zt(Si.FIRST):Ct===Tm.LAST?zt(Si.LAST):Ct>=-1&&zt(Si.SET_INDEX,void 0,Ct)};if(Dt)Gt();else if(U){var Xt=setTimeout(function(){G.current.contains(document.activeElement)||(je.current.focus(),Gt())},hn?170:100);return function(){return clearTimeout(Xt)}}},[dn,hn,gr,U,se,zt]);var qe=Z>0,bt=V.useMemo(function(){return{isParentOpen:dn,isSubmenuOpen:qe,setOpenSubmenuCount:he,dispatch:zt,updateItems:Ar}},[dn,qe,zt,Ar]),Et,Mt;Ne&&(F?Mt=Ne.overflowAmt:Et=Ne.height);var Hn=V.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:Mt,parentMenuRef:G,parentDir:H}},[He,D,Mt,H]),Jn=Et>=0?{maxHeight:Et,overflow:D}:void 0,We=V.useMemo(function(){return{state:Y,dir:H}},[Y,H]),Ce=V.useMemo(function(){return{dir:H}},[H]),et=Th({block:Cm,element:n0e,modifiers:Ce,className:a}),ft=B.jsxs("ul",ei({role:"menu","aria-label":n},IH(te),mb({onKeyDown:ln,onAnimationEnd:In},ie),{ref:LO(g,G),className:Th({block:Cm,modifiers:We,className:r}),style:ei({},i,Jn,{margin:0,display:Y==="closed"?"none":void 0,position:"absolute",left:K.x,top:K.y}),children:[B.jsx("div",ei({tabIndex:-1,style:{position:"absolute",left:0,top:0}},h,{ref:je})),v&&B.jsx("div",{className:et,style:ei({},o,{position:"absolute",left:Ae.x,top:Ae.y}),ref:Je}),B.jsx(z6.Provider,{value:Hn,children:B.jsx(DH.Provider,{value:bt,children:B.jsx(MH.Provider,{value:Ot,children:Re})})})]}));return d?B.jsx(l0e,ei({},d,{isOpen:dn,children:ft})):ft},_0e=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],w0e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.className,a=t.containerProps,o=t.initialMounted,s=t.unmountOnClose,l=t.transition,c=t.transitionTimeout,d=t.boundingBoxRef,h=t.boundingBoxPadding,g=t.reposition,y=g===void 0?"auto":g,v=t.submenuOpenDelay,_=v===void 0?300:v,S=t.submenuCloseDelay,b=S===void 0?150:S,x=t.skipOpen,A=t.viewScroll,P=A===void 0?"initial":A,O=t.portal,D=t.theming,F=t.onItemClick,Q=Af(t,_0e),X=V.useRef(null),U=V.useRef({}),Y=Q.anchorRef,ce=Q.state,te=Q.onClose,se=V.useMemo(function(){return{initialMounted:o,unmountOnClose:s,transition:l,transitionTimeout:c,boundingBoxRef:d,boundingBoxPadding:h,rootMenuRef:X,rootAnchorRef:Y,scrollNodesRef:U,reposition:y,viewScroll:P}},[o,s,l,c,Y,d,h,y,P]),pe=V.useMemo(function(){return{submenuOpenDelay:_,submenuCloseDelay:b}},[_,b]),_e=V.useMemo(function(){return{handleClick:function(Re,k){Re.stopPropagation||So(F,Re);var ie=Re.keepOpen;ie===void 0&&(ie=k&&Re.key===zo.SPACE),ie||So(te,{value:Re.value,key:Re.key,reason:qm.CLICK})},handleClose:function(Re){So(te,{key:Re,reason:qm.CLICK})}}},[F,te]);if(!ce)return null;var de=B.jsx(NH.Provider,{value:se,children:B.jsx(FH.Provider,{value:pe,children:B.jsx(kH.Provider,{value:_e,children:B.jsx(v0e,ei({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:X,containerProps:{className:i,containerRef:X,containerProps:a,skipOpen:x,theming:D,transition:l,onClose:te}}))})})});return O===!0&&typeof document<"u"?Ql.createPortal(de,document.body):O?O.target?Ql.createPortal(de,O.target):O.stablePosition?null:de:de}),fT=0,dT=1,o_=2,hT=3,pT=4,b0e=5,S0e=6,jH=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],gT=function(t){return t?S0e:b0e},V6=function(t,n,r,i,a){clearTimeout(i.current),n(t),r.current=t,a&&a({state:jH[t]})},x0e=function(t){var n=t===void 0?{}:t,r=n.enter,i=r===void 0?!0:r,a=n.exit,o=a===void 0?!0:a,s=n.preEnter,l=n.preExit,c=n.timeout,d=n.initialEntered,h=n.mountOnEnter,g=n.unmountOnExit,y=n.onChange,v=V.useState(d?o_:gT(h)),_=v[0],S=v[1],b=V.useRef(_),x=V.useRef(),A,P;typeof c=="object"?(A=c.enter,P=c.exit):A=P=c;var O=V.useCallback(function(){var F;switch(b.current){case dT:case fT:F=o_;break;case pT:case hT:F=gT(g);break}F!==void 0&&V6(F,S,b,x,y)},[y,g]),D=V.useCallback(function(F){var Q=function U(Y){switch(V6(Y,S,b,x,y),Y){case dT:A>=0&&(x.current=setTimeout(O,A));break;case pT:P>=0&&(x.current=setTimeout(O,P));break;case fT:case hT:x.current=setTimeout(function(){return U(Y+1)},0);break}},X=b.current<=o_;typeof F!="boolean"&&(F=!X),F?X||Q(i?s?fT:dT:o_):X&&Q(o?l?hT:pT:gT(g))},[O,y,i,o,s,l,A,P,g]);return V.useEffect(function(){return function(){return clearTimeout(x.current)}},[]),[jH[_],D,O]},E0e=function(t){var n=t===void 0?{}:t,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,o=n.transition,s=n.transitionTimeout,l=s===void 0?500:s,c=x0e({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:Bm(o,"open"),exit:Bm(o,"close")}),d=c[0],h=c[1],g=c[2];return[{state:o0e[d],endTransition:g},h]},C0e=function(t){var n=E0e(t),r=n[0],i=n[1],a=V.useState(),o=a[0],s=a[1],l=function(d,h){s({position:d,alwaysUpdate:h}),i(!0)};return[ei({menuItemFocus:o},r),i,l]},T0e=function(t,n){var r=V.useRef(n);V.useEffect(function(){r.current!==n&&So(t,{open:n}),r.current=n},[t,n])},A0e=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],R0e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.menuButton,a=t.instanceRef,o=t.onMenuChange,s=Af(t,A0e),l=C0e(s),c=l[0],d=l[1],h=l[2],g=OH(c.state),y=V.useRef(!1),v=V.useRef(null),_=V.useCallback(function(O){d(!1),O.key&&v.current.focus()},[d]),S=function(D){y.current||h(D.detail===0?Tm.FIRST:void 0)},b=function(D){switch(D.key){case zo.UP:h(Tm.LAST);break;case zo.DOWN:h(Tm.FIRST);break;default:return}D.preventDefault()},x=So(i,{open:g});if(!x||!x.type)throw new Error("Menu requires a menuButton prop.");var A=ei({ref:LO(x.ref,v)},mb({onClick:S,onKeyDown:b},x.props));J_e(x.type)==="MenuButton"&&(A.isOpen=g);var P=V.cloneElement(x,A);return T0e(o,g),V.useImperativeHandle(a,function(){return{openMenu:h,closeMenu:function(){return d(!1)}}}),B.jsxs(V.Fragment,{children:[P,B.jsx(w0e,ei({},s,c,{"aria-label":r||(typeof x.props.children=="string"?x.props.children:"Menu"),anchorRef:v,ref:n,onClose:_,skipOpen:y}))]})}),P0e=function(t,n){var r=V.memo(n),i=V.forwardRef(function(a,o){var s=V.useRef(null);return B.jsx(r,ei({},a,{itemRef:s,externalRef:o,isHovering:V.useContext(MH)===s.current}))});return i.displayName="WithHovering("+t+")",i},O0e=function(t,n,r){R0(function(){if(!t){var i=n.current;return r(i,!0),function(){r(i)}}},[t,n,r])},L0e=function(t,n,r,i){var a=V.useContext(FH),o=a.submenuCloseDelay,s=V.useContext(DH),l=s.isParentOpen,c=s.isSubmenuOpen,d=s.dispatch,h=s.updateItems,g=V.useRef(0),y=function(){!r&&!i&&d(Si.SET,t.current)},v=function(){!i&&d(Si.UNSET,t.current)},_=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&v()},S=function(){c?g.current||(g.current=setTimeout(function(){g.current=0,y()},o)):y()},b=function(A,P){g.current&&(clearTimeout(g.current),g.current=0),!P&&v()};return O0e(i,t,h),V.useEffect(function(){return function(){return clearTimeout(g.current)}},[]),V.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:_,onPointerMove:S,onPointerLeave:b}},I0e=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],M0e=["setHover"],Ld=P0e("MenuItem",function(t){var n=t.className,r=t.value,i=t.href,a=t.type,o=t.checked,s=t.disabled,l=t.children,c=t.onClick,d=t.isHovering,h=t.itemRef,g=t.externalRef,y=Af(t,I0e),v=!!s,_=L0e(h,h,d,v),S=_.setHover,b=Af(_,M0e),x=V.useContext(kH),A=V.useContext(a0e),P=a==="radio",O=a==="checkbox",D=!!i&&!v&&!P&&!O,F=P?A.value===r:O?!!o:!1,Q=function(se){if(v){se.stopPropagation(),se.preventDefault();return}var pe={value:r,syntheticEvent:se};se.key!==void 0&&(pe.key=se.key),O&&(pe.checked=!F),P&&(pe.name=A.name),So(c,pe),P&&So(A.onRadioChange,pe),x.handleClick(pe,O||P)},X=function(se){if(d)switch(se.key){case zo.ENTER:case zo.SPACE:D?h.current.click():Q(se);break}},U=V.useMemo(function(){return{type:a,disabled:v,hover:d,checked:F,anchor:D}},[a,v,d,F,D]),Y=mb(ei({},b,{onPointerDown:S,onKeyDown:X,onClick:Q}),y),ce=ei({role:P?"menuitemradio":O?"menuitemcheckbox":"menuitem","aria-checked":P||O?F:void 0},IH(v,d),Y,{ref:LO(g,h),className:Th({block:Cm,element:r0e,modifiers:U,className:n}),children:V.useMemo(function(){return So(l,U)},[l,U])});return D?B.jsx("li",{role:"presentation",children:B.jsx("a",ei({href:i},ce))}):B.jsx("li",ei({},ce))}),D0e=["className"],k0e=V.memo(V.forwardRef(function(t,n){var r=t.className,i=Af(t,D0e);return B.jsx("li",ei({role:"separator"},i,{ref:n,className:Th({block:Cm,element:i0e,className:r})}))}));const N0e=()=>{const{communityId:e}=Dn(),t=Fr($h),[n]=Qo(t.webId??"",e),{data:r}=gb(t.webId??""),i=Fr(LP),a=r.length;return B.jsxs(R0e,{menuButton:B.jsx(u0e,{"data-cy":"menu-button",children:B.jsx(Qw,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[B.jsx(Ld,{children:B.jsx(Bo,{to:"profile",children:(n==null?void 0:n.name)||B.jsx(_t,{id:"bbvfbr"})})}),B.jsx(Ld,{children:B.jsx(Bo,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:B.jsx(_t,{id:"HecDqj"})})}),B.jsx(Ld,{children:B.jsxs(Bo,{to:"messages",children:[B.jsx(_t,{id:"gHFvtg"}),a?B.jsxs(B.Fragment,{children:[" ",B.jsx(_t,{id:"GbJuzd",values:{messageCount:a}})]}):null]})}),B.jsx(Ld,{children:B.jsx(Bo,{to:`profile/${encodeURIComponent(t.webId)}/contacts`,children:B.jsx(_t,{id:"2LDW9H"})})}),B.jsx(Ld,{children:B.jsx(Bo,{to:"host/offers",children:B.jsx(_t,{id:"BJjAHC"})})}),B.jsx(k0e,{}),B.jsx(Ld,{children:B.jsx(Yve,{})})]})},F0e=()=>{const{communityId:e}=Dn(),t=Fr($h),n=Fr(Eo),r=ju(e,n,jh);return B.jsxs("nav",{className:a_.header,children:[B.jsx(Bo,{className:a_.logoContainer,to:"/","data-cy":"header-logo-link",children:B.jsx(U9,{logo:r.logo[0],focusedLogo:r.logo[1],name:r.name||(r.isLoading?"...":"Home"),className:a_.logo})}),B.jsx("div",{className:a_.spacer}),B.jsx(Gve,{}),B.jsx(hme,{}),t.isLoggedIn===!0&&B.jsx(N0e,{}),t.isLoggedIn===void 0&&B.jsx(B.Fragment,{children:"..."})]})},j0e=(e,t="en")=>ly({queryKey:[Kr.wikidataSearch,e,t],queryFn:()=>$0e(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),$0e=async(e,t)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(e)}&language=${t}&limit=20&continue=0&format=json&uselang=${t}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Tf({aliases:[],photos:[]},{...a,uri:i})),U0e=(e,t="en")=>ly({queryKey:[Kr.wikidataEntity,e,t],queryFn:()=>B0e(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),B0e=async(e,t)=>{var v,_,S;const n=((v=e.match(q0e))==null?void 0:v[2])??"";if(!n)return{};const r=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${t}&format=json&origin=*`);if(!r.ok)throw new Go("Fetching interest failed",r);const i=await r.json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const o=(_=a.labels[t])==null?void 0:_.value,s=(S=a.descriptions[t])==null?void 0:S.value,l=(a.claims.P18??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],c=(a.claims.P154??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],d=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,h=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,g=(a.claims.P856??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],y=(a.aliases[t]??[]).map(({value:b})=>b);return{id:n,uri:e,label:o,aliases:y,description:s,officialWebsite:g,image:h||d}},q0e=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;function K6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $H(...e){return t=>{let n=!1;const r=e.map(i=>{const a=K6(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():K6(e[i],null)}}}}function Pa(...e){return V.useCallback($H(...e),e)}var Ah=V.forwardRef((e,t)=>{const{children:n,...r}=e,i=V.Children.toArray(n),a=i.find(H0e);if(a){const o=a.props.children,s=i.map(l=>l===a?V.Children.count(o)>1?V.Children.only(null):V.isValidElement(o)?o.props.children:null:l);return B.jsx(MR,{...r,ref:t,children:V.isValidElement(o)?V.cloneElement(o,void 0,s):null})}return B.jsx(MR,{...r,ref:t,children:n})});Ah.displayName="Slot";var MR=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const i=K0e(n),a=V0e(r,n.props);return n.type!==V.Fragment&&(a.ref=t?$H(t,i):i),V.cloneElement(n,a)}return V.Children.count(n)>1?V.Children.only(null):null});MR.displayName="SlotClone";var z0e=({children:e})=>B.jsx(B.Fragment,{children:e});function H0e(e){return V.isValidElement(e)&&e.type===z0e}function V0e(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function K0e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var G0e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jr=G0e.reduce((e,t)=>{const n=V.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?Ah:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function W0e(e,t){e&&Ql.flushSync(()=>e.dispatchEvent(t))}function Q0e(e,t){const n=V.createContext(t),r=a=>{const{children:o,...s}=a,l=V.useMemo(()=>s,Object.values(s));return B.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(a){const o=V.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Uf(e,t=[]){let n=[];function r(a,o){const s=V.createContext(o),l=n.length;n=[...n,o];const c=h=>{var b;const{scope:g,children:y,...v}=h,_=((b=g==null?void 0:g[e])==null?void 0:b[l])||s,S=V.useMemo(()=>v,Object.values(v));return B.jsx(_.Provider,{value:S,children:y})};c.displayName=a+"Provider";function d(h,g){var _;const y=((_=g==null?void 0:g[e])==null?void 0:_[l])||s,v=V.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(o=>V.createContext(o));return function(s){const l=(s==null?void 0:s[e])||a;return V.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,Z0e(i,...t)]}function Z0e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...s,...h}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function J0e(e){const t=e+"CollectionProvider",[n,r]=Uf(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:_}=y,S=Pt.useRef(null),b=Pt.useRef(new Map).current;return B.jsx(i,{scope:v,itemMap:b,collectionRef:S,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=Pt.forwardRef((y,v)=>{const{scope:_,children:S}=y,b=a(s,_),x=Pa(v,b.collectionRef);return B.jsx(Ah,{ref:x,children:S})});l.displayName=s;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=Pt.forwardRef((y,v)=>{const{scope:_,children:S,...b}=y,x=Pt.useRef(null),A=Pa(v,x),P=a(c,_);return Pt.useEffect(()=>(P.itemMap.set(x,{ref:x,...b}),()=>void P.itemMap.delete(x))),B.jsx(Ah,{[d]:"",ref:A,children:S})});h.displayName=c;function g(y){const v=a(e+"CollectionConsumer",y);return Pt.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const b=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((P,O)=>b.indexOf(P.ref.current)-b.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},g,r]}function Nr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Lu(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Bf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Y0e({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,s=Lu(n),l=V.useCallback(c=>{if(a){const h=typeof c=="function"?c(e):c;h!==e&&s(h)}else i(c)},[a,e,i,s]);return[o,l]}function Y0e({defaultProp:e,onChange:t}){const n=V.useState(e),[r]=n,i=V.useRef(r),a=Lu(t);return V.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var Rf=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{};function X0e(e,t){return V.useReducer((n,r)=>t[n][r]??n,e)}var qf=e=>{const{present:t,children:n}=e,r=ewe(t),i=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),a=Pa(r.ref,twe(i));return typeof n=="function"||r.isPresent?V.cloneElement(i,{ref:a}):null};qf.displayName="Presence";function ewe(e){const[t,n]=V.useState(),r=V.useRef({}),i=V.useRef(e),a=V.useRef("none"),o=e?"mounted":"unmounted",[s,l]=X0e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const c=s_(r.current);a.current=s==="mounted"?c:"none"},[s]),Rf(()=>{const c=r.current,d=i.current;if(d!==e){const g=a.current,y=s_(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Rf(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=y=>{const _=s_(r.current).includes(y.animationName);if(y.target===t&&_&&(l("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},g=y=>{y.target===t&&(a.current=s_(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:V.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function s_(e){return(e==null?void 0:e.animationName)||"none"}function twe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var nwe=wh.useId||(()=>{}),rwe=0;function Jd(e){const[t,n]=V.useState(nwe());return Rf(()=>{e||n(r=>r??String(rwe++))},[e]),e||(t?`radix-${t}`:"")}var iwe=V.createContext(void 0);function IO(e){const t=V.useContext(iwe);return e||t||"ltr"}function awe(e,t=globalThis==null?void 0:globalThis.document){const n=Lu(e);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var owe="DismissableLayer",DR="dismissableLayer.update",swe="dismissableLayer.pointerDownOutside",uwe="dismissableLayer.focusOutside",G6,UH=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),MO=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=V.useContext(UH),[d,h]=V.useState(null),g=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=V.useState({}),v=Pa(t,F=>h(F)),_=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(S),x=d?_.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,P=x>=b,O=fwe(F=>{const Q=F.target,X=[...c.branches].some(U=>U.contains(Q));!P||X||(i==null||i(F),o==null||o(F),F.defaultPrevented||s==null||s())},g),D=dwe(F=>{const Q=F.target;[...c.branches].some(U=>U.contains(Q))||(a==null||a(F),o==null||o(F),F.defaultPrevented||s==null||s())},g);return awe(F=>{x===c.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&s&&(F.preventDefault(),s()))},g),V.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(G6=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),W6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=G6)}},[d,g,n,c]),V.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),W6())},[d,c]),V.useEffect(()=>{const F=()=>y({});return document.addEventListener(DR,F),()=>document.removeEventListener(DR,F)},[]),B.jsx(jr.div,{...l,ref:v,style:{pointerEvents:A?P?"auto":"none":void 0,...e.style},onFocusCapture:Nr(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Nr(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Nr(e.onPointerDownCapture,O.onPointerDownCapture)})});MO.displayName=owe;var lwe="DismissableLayerBranch",cwe=V.forwardRef((e,t)=>{const n=V.useContext(UH),r=V.useRef(null),i=Pa(t,r);return V.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),B.jsx(jr.div,{...e,ref:i})});cwe.displayName=lwe;function fwe(e,t=globalThis==null?void 0:globalThis.document){const n=Lu(e),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){BH(swe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function dwe(e,t=globalThis==null?void 0:globalThis.document){const n=Lu(e),r=V.useRef(!1);return V.useEffect(()=>{const i=a=>{a.target&&!r.current&&BH(uwe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function W6(){const e=new CustomEvent(DR);document.dispatchEvent(e)}function BH(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?W0e(i,a):i.dispatchEvent(a)}var mT="focusScope.autoFocusOnMount",yT="focusScope.autoFocusOnUnmount",Q6={bubbles:!1,cancelable:!0},hwe="FocusScope",DO=V.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=V.useState(null),c=Lu(i),d=Lu(a),h=V.useRef(null),g=Pa(t,_=>l(_)),y=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let _=function(A){if(y.paused||!s)return;const P=A.target;s.contains(P)?h.current=P:Tl(h.current,{select:!0})},S=function(A){if(y.paused||!s)return;const P=A.relatedTarget;P!==null&&(s.contains(P)||Tl(h.current,{select:!0}))},b=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&Tl(s)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const x=new MutationObserver(b);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),x.disconnect()}}},[r,s,y.paused]),V.useEffect(()=>{if(s){J6.add(y);const _=document.activeElement;if(!s.contains(_)){const b=new CustomEvent(mT,Q6);s.addEventListener(mT,c),s.dispatchEvent(b),b.defaultPrevented||(pwe(_we(qH(s)),{select:!0}),document.activeElement===_&&Tl(s))}return()=>{s.removeEventListener(mT,c),setTimeout(()=>{const b=new CustomEvent(yT,Q6);s.addEventListener(yT,d),s.dispatchEvent(b),b.defaultPrevented||Tl(_??document.body,{select:!0}),s.removeEventListener(yT,d),J6.remove(y)},0)}}},[s,c,d,y]);const v=V.useCallback(_=>{if(!n&&!r||y.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(S&&b){const x=_.currentTarget,[A,P]=gwe(x);A&&P?!_.shiftKey&&b===P?(_.preventDefault(),n&&Tl(A,{select:!0})):_.shiftKey&&b===A&&(_.preventDefault(),n&&Tl(P,{select:!0})):b===x&&_.preventDefault()}},[n,r,y.paused]);return B.jsx(jr.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});DO.displayName=hwe;function pwe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Tl(r,{select:t}),document.activeElement!==n)return}function gwe(e){const t=qH(e),n=Z6(t,e),r=Z6(t.reverse(),e);return[n,r]}function qH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Z6(e,t){for(const n of e)if(!mwe(n,{upTo:t}))return n}function mwe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ywe(e){return e instanceof HTMLInputElement&&"select"in e}function Tl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ywe(e)&&t&&e.select()}}var J6=vwe();function vwe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Y6(e,t),e.unshift(t)},remove(t){var n;e=Y6(e,t),(n=e[0])==null||n.resume()}}}function Y6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function _we(e){return e.filter(t=>t.tagName!=="A")}var wwe="Portal",kO=V.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,a]=V.useState(!1);Rf(()=>a(!0),[]);const o=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?Z_e.createPortal(B.jsx(jr.div,{...r,ref:t}),o):null});kO.displayName=wwe;var vT=0;function zH(){V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??X6()),document.body.insertAdjacentElement("beforeend",e[1]??X6()),vT++,()=>{vT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),vT--}},[])}function X6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ll=function(){return Ll=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ll.apply(this,arguments)};function bwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Swe(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var P0="right-scroll-bar-position",O0="width-before-scroll-bar",xwe="with-scroll-bars-hidden",Ewe="--removed-body-scroll-bar-size";function _T(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Cwe(e,t){var n=V.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Twe=typeof window<"u"?V.useLayoutEffect:V.useEffect,e$=new WeakMap;function Awe(e,t){var n=Cwe(null,function(r){return e.forEach(function(i){return _T(i,r)})});return Twe(function(){var r=e$.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||_T(s,null)}),a.forEach(function(s){i.has(s)||_T(s,o)})}e$.set(n,e)},[e]),n}var lw=function(){return lw=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},lw.apply(this,arguments)};function Rwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Pwe(e){return e}function Owe(e,t){t===void 0&&(t=Pwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function Lwe(e){e===void 0&&(e={});var t=Owe(null);return t.options=lw({async:!0,ssr:!1},e),t}var HH=function(e){var t=e.sideCar,n=Rwe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,lw({},n))};HH.isSideCarExport=!0;function Iwe(e,t){return e.useMedium(t),HH}var VH=Lwe(),wT=function(){},yb=V.forwardRef(function(e,t){var n=V.useRef(null),r=V.useState({onScrollCapture:wT,onWheelCapture:wT,onTouchMoveCapture:wT}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,g=e.sideCar,y=e.noIsolation,v=e.inert,_=e.allowPinchZoom,S=e.as,b=S===void 0?"div":S,x=e.gapMode,A=bwe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=g,O=Awe([n,t]),D=Ll(Ll({},A),i);return V.createElement(V.Fragment,null,d&&V.createElement(P,{sideCar:VH,removeScrollBar:c,shards:h,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:x}),o?V.cloneElement(V.Children.only(s),Ll(Ll({},D),{ref:O})):V.createElement(b,Ll({},D,{className:l,ref:O}),s))});yb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yb.classNames={fullWidth:O0,zeroRight:P0};var Mwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Dwe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Mwe();return t&&e.setAttribute("nonce",t),e}function kwe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nwe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Fwe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Dwe())&&(kwe(t,n),Nwe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jwe=function(){var e=Fwe();return function(t,n){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},KH=function(){var e=jwe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},$we={left:0,top:0,right:0,gap:0},bT=function(e){return parseInt(e||"",10)||0},Uwe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[bT(n),bT(r),bT(i)]},Bwe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $we;var t=Uwe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},qwe=KH(),Yd="data-scroll-locked",zwe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(xwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Yd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(P0,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(O0,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(P0," .").concat(P0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(O0," .").concat(O0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yd,`] {
    `).concat(Ewe,": ").concat(s,`px;
  }
`)},t$=function(){var e=parseInt(document.body.getAttribute(Yd)||"0",10);return isFinite(e)?e:0},Hwe=function(){V.useEffect(function(){return document.body.setAttribute(Yd,(t$()+1).toString()),function(){var e=t$()-1;e<=0?document.body.removeAttribute(Yd):document.body.setAttribute(Yd,e.toString())}},[])},Vwe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Hwe();var a=V.useMemo(function(){return Bwe(i)},[i]);return V.createElement(qwe,{styles:zwe(a,!t,i,n?"":"!important")})},kR=!1;if(typeof window<"u")try{var u_=Object.defineProperty({},"passive",{get:function(){return kR=!0,!0}});window.addEventListener("test",u_,u_),window.removeEventListener("test",u_,u_)}catch{kR=!1}var Id=kR?{passive:!1}:!1,Kwe=function(e){return e.tagName==="TEXTAREA"},GH=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kwe(e)&&n[t]==="visible")},Gwe=function(e){return GH(e,"overflowY")},Wwe=function(e){return GH(e,"overflowX")},n$=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=WH(e,r);if(i){var a=QH(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Qwe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Zwe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},WH=function(e,t){return e==="v"?Gwe(t):Wwe(t)},QH=function(e,t){return e==="v"?Qwe(t):Zwe(t)},Jwe=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ywe=function(e,t,n,r,i){var a=Jwe(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),c=!1,d=o>0,h=0,g=0;do{var y=QH(e,s),v=y[0],_=y[1],S=y[2],b=_-S-a*v;(v||b)&&WH(e,s)&&(h+=b,g+=v),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(g)<1||!i))&&(c=!0),c},l_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},r$=function(e){return[e.deltaX,e.deltaY]},i$=function(e){return e&&"current"in e?e.current:e},Xwe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ebe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tbe=0,Md=[];function nbe(e){var t=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(tbe++)[0],a=V.useState(KH)[0],o=V.useRef(e);V.useEffect(function(){o.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Swe([e.lockRef.current],(e.shards||[]).map(i$)).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=V.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var b=l_(_),x=n.current,A="deltaX"in _?_.deltaX:x[0]-b[0],P="deltaY"in _?_.deltaY:x[1]-b[1],O,D=_.target,F=Math.abs(A)>Math.abs(P)?"h":"v";if("touches"in _&&F==="h"&&D.type==="range")return!1;var Q=n$(F,D);if(!Q)return!0;if(Q?O=F:(O=F==="v"?"h":"v",Q=n$(F,D)),!Q)return!1;if(!r.current&&"changedTouches"in _&&(A||P)&&(r.current=O),!O)return!0;var X=r.current||O;return Ywe(X,S,_,X==="h"?A:P,!0)},[]),l=V.useCallback(function(_){var S=_;if(!(!Md.length||Md[Md.length-1]!==a)){var b="deltaY"in S?r$(S):l_(S),x=t.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&Xwe(O.delta,b)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var A=(o.current.shards||[]).map(i$).filter(Boolean).filter(function(O){return O.contains(S.target)}),P=A.length>0?s(S,A[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),c=V.useCallback(function(_,S,b,x){var A={name:_,delta:S,target:b,should:x,shadowParent:rbe(b)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(P){return P!==A})},1)},[]),d=V.useCallback(function(_){n.current=l_(_),r.current=void 0},[]),h=V.useCallback(function(_){c(_.type,r$(_),_.target,s(_,e.lockRef.current))},[]),g=V.useCallback(function(_){c(_.type,l_(_),_.target,s(_,e.lockRef.current))},[]);V.useEffect(function(){return Md.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Id),document.addEventListener("touchmove",l,Id),document.addEventListener("touchstart",d,Id),function(){Md=Md.filter(function(_){return _!==a}),document.removeEventListener("wheel",l,Id),document.removeEventListener("touchmove",l,Id),document.removeEventListener("touchstart",d,Id)}},[]);var y=e.removeScrollBar,v=e.inert;return V.createElement(V.Fragment,null,v?V.createElement(a,{styles:ebe(i)}):null,y?V.createElement(Vwe,{gapMode:e.gapMode}):null)}function rbe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ibe=Iwe(VH,nbe);var NO=V.forwardRef(function(e,t){return V.createElement(yb,Ll({},e,{ref:t,sideCar:ibe}))});NO.classNames=yb.classNames;var abe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Dd=new WeakMap,c_=new WeakMap,f_={},ST=0,ZH=function(e){return e&&(e.host||ZH(e.parentNode))},obe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=ZH(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},sbe=function(e,t,n,r){var i=obe(t,Array.isArray(e)?e:[e]);f_[n]||(f_[n]=new WeakMap);var a=f_[n],o=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(g){if(s.has(g))d(g);else try{var y=g.getAttribute(r),v=y!==null&&y!=="false",_=(Dd.get(g)||0)+1,S=(a.get(g)||0)+1;Dd.set(g,_),a.set(g,S),o.push(g),_===1&&v&&c_.set(g,!0),S===1&&g.setAttribute(n,"true"),v||g.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return d(t),s.clear(),ST++,function(){o.forEach(function(h){var g=Dd.get(h)-1,y=a.get(h)-1;Dd.set(h,g),a.set(h,y),g||(c_.has(h)||h.removeAttribute(r),c_.delete(h)),y||h.removeAttribute(n)}),ST--,ST||(Dd=new WeakMap,Dd=new WeakMap,c_=new WeakMap,f_={})}},JH=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=abe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),sbe(r,i,n,"aria-hidden")):function(){return null}},FO="Dialog",[YH,O3e]=Uf(FO),[ube,ns]=YH(FO),XH=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=V.useRef(null),l=V.useRef(null),[c=!1,d]=Bf({prop:r,defaultProp:i,onChange:a});return B.jsx(ube,{scope:t,triggerRef:s,contentRef:l,contentId:Jd(),titleId:Jd(),descriptionId:Jd(),open:c,onOpenChange:d,onOpenToggle:V.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};XH.displayName=FO;var e7="DialogTrigger",t7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ns(e7,n),a=Pa(t,i.triggerRef);return B.jsx(jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":UO(i.open),...r,ref:a,onClick:Nr(e.onClick,i.onOpenToggle)})});t7.displayName=e7;var jO="DialogPortal",[lbe,n7]=YH(jO,{forceMount:void 0}),r7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=ns(jO,t);return B.jsx(lbe,{scope:t,forceMount:n,children:V.Children.map(r,o=>B.jsx(qf,{present:n||a.open,children:B.jsx(kO,{asChild:!0,container:i,children:o})}))})};r7.displayName=jO;var cw="DialogOverlay",i7=V.forwardRef((e,t)=>{const n=n7(cw,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=ns(cw,e.__scopeDialog);return a.modal?B.jsx(qf,{present:r||a.open,children:B.jsx(cbe,{...i,ref:t})}):null});i7.displayName=cw;var cbe=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ns(cw,n);return B.jsx(NO,{as:Ah,allowPinchZoom:!0,shards:[i.contentRef],children:B.jsx(jr.div,{"data-state":UO(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pf="DialogContent",a7=V.forwardRef((e,t)=>{const n=n7(Pf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=ns(Pf,e.__scopeDialog);return B.jsx(qf,{present:r||a.open,children:a.modal?B.jsx(fbe,{...i,ref:t}):B.jsx(dbe,{...i,ref:t})})});a7.displayName=Pf;var fbe=V.forwardRef((e,t)=>{const n=ns(Pf,e.__scopeDialog),r=V.useRef(null),i=Pa(t,n.contentRef,r);return V.useEffect(()=>{const a=r.current;if(a)return JH(a)},[]),B.jsx(o7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Nr(e.onFocusOutside,a=>a.preventDefault())})}),dbe=V.forwardRef((e,t)=>{const n=ns(Pf,e.__scopeDialog),r=V.useRef(!1),i=V.useRef(!1);return B.jsx(o7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),o7=V.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=ns(Pf,n),l=V.useRef(null),c=Pa(t,l);return zH(),B.jsxs(B.Fragment,{children:[B.jsx(DO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:B.jsx(MO,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":UO(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),B.jsxs(B.Fragment,{children:[B.jsx(pbe,{titleId:s.titleId}),B.jsx(mbe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),$O="DialogTitle",s7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ns($O,n);return B.jsx(jr.h2,{id:i.titleId,...r,ref:t})});s7.displayName=$O;var u7="DialogDescription",hbe=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ns(u7,n);return B.jsx(jr.p,{id:i.descriptionId,...r,ref:t})});hbe.displayName=u7;var l7="DialogClose",c7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ns(l7,n);return B.jsx(jr.button,{type:"button",...r,ref:t,onClick:Nr(e.onClick,()=>i.onOpenChange(!1))})});c7.displayName=l7;function UO(e){return e?"open":"closed"}var f7="DialogTitleWarning",[L3e,d7]=Q0e(f7,{contentName:Pf,titleName:$O,docsSlug:"dialog"}),pbe=({titleId:e})=>{const t=d7(f7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return V.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},gbe="DialogDescriptionWarning",mbe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${d7(gbe).contentName}}.`;return V.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ybe=XH,vbe=t7,_be=r7,wbe=i7,bbe=a7,Sbe=s7,xbe=c7;function Ebe(e){const[t,n]=V.useState(void 0);return Rf(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Cbe=["top","right","bottom","left"],Zl=Math.min,Ga=Math.max,fw=Math.round,d_=Math.floor,As=e=>({x:e,y:e}),Tbe={left:"right",right:"left",bottom:"top",top:"bottom"},Abe={start:"end",end:"start"};function NR(e,t,n){return Ga(e,Zl(t,n))}function Iu(e,t){return typeof e=="function"?e(t):e}function Mu(e){return e.split("-")[0]}function rp(e){return e.split("-")[1]}function BO(e){return e==="x"?"y":"x"}function qO(e){return e==="y"?"height":"width"}function Jl(e){return["top","bottom"].includes(Mu(e))?"y":"x"}function zO(e){return BO(Jl(e))}function Rbe(e,t,n){n===void 0&&(n=!1);const r=rp(e),i=zO(e),a=qO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=dw(o)),[o,dw(o)]}function Pbe(e){const t=dw(e);return[FR(e),t,FR(t)]}function FR(e){return e.replace(/start|end/g,t=>Abe[t])}function Obe(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function Lbe(e,t,n,r){const i=rp(e);let a=Obe(Mu(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(FR)))),a}function dw(e){return e.replace(/left|right|bottom|top/g,t=>Tbe[t])}function Ibe(e){return{top:0,right:0,bottom:0,left:0,...e}}function h7(e){return typeof e!="number"?Ibe(e):{top:e,right:e,bottom:e,left:e}}function hw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function a$(e,t,n){let{reference:r,floating:i}=e;const a=Jl(t),o=zO(t),s=qO(o),l=Mu(t),c=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[s]/2-i[s]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(rp(t)){case"start":y[o]-=g*(n&&c?-1:1);break;case"end":y[o]+=g*(n&&c?-1:1);break}return y}const Mbe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=a$(c,r,l),g=r,y={},v=0;for(let _=0;_<s.length;_++){const{name:S,fn:b}=s[_],{x,y:A,data:P,reset:O}=await b({x:d,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:c,platform:o,elements:{reference:e,floating:t}});d=x??d,h=A??h,y={...y,[S]:{...y[S],...P}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:d,y:h}=a$(c,g,l)),_=-1)}return{x:d,y:h,placement:g,strategy:i,middlewareData:y}};async function zm(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:y=0}=Iu(t,e),v=h7(y),S=s[g?h==="floating"?"reference":"floating":h],b=hw(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),P=await(a.isElement==null?void 0:a.isElement(A))?await(a.getScale==null?void 0:a.getScale(A))||{x:1,y:1}:{x:1,y:1},O=hw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:A,strategy:l}):x);return{top:(b.top-O.top+v.top)/P.y,bottom:(O.bottom-b.bottom+v.bottom)/P.y,left:(b.left-O.left+v.left)/P.x,right:(O.right-b.right+v.right)/P.x}}const Dbe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Iu(e,t)||{};if(c==null)return{};const h=h7(d),g={x:n,y:r},y=zO(i),v=qO(y),_=await o.getDimensions(c),S=y==="y",b=S?"top":"left",x=S?"bottom":"right",A=S?"clientHeight":"clientWidth",P=a.reference[v]+a.reference[y]-g[y]-a.floating[v],O=g[y]-a.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let F=D?D[A]:0;(!F||!await(o.isElement==null?void 0:o.isElement(D)))&&(F=s.floating[A]||a.floating[v]);const Q=P/2-O/2,X=F/2-_[v]/2-1,U=Zl(h[b],X),Y=Zl(h[x],X),ce=U,te=F-_[v]-Y,se=F/2-_[v]/2+Q,pe=NR(ce,se,te),_e=!l.arrow&&rp(i)!=null&&se!==pe&&a.reference[v]/2-(se<ce?U:Y)-_[v]/2<0,de=_e?se<ce?se-ce:se-te:0;return{[y]:g[y]+de,data:{[y]:pe,centerOffset:se-pe-de,..._e&&{alignmentOffset:de}},reset:_e}}}),kbe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...S}=Iu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Mu(i),x=Jl(s),A=Mu(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=g||(A||!_?[dw(s)]:Pbe(s)),D=v!=="none";!g&&D&&O.push(...Lbe(s,_,v,P));const F=[s,...O],Q=await zm(t,S),X=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&X.push(Q[b]),h){const se=Rbe(i,o,P);X.push(Q[se[0]],Q[se[1]])}if(U=[...U,{placement:i,overflows:X}],!X.every(se=>se<=0)){var Y,ce;const se=(((Y=a.flip)==null?void 0:Y.index)||0)+1,pe=F[se];if(pe)return{data:{index:se,overflows:U},reset:{placement:pe}};let _e=(ce=U.filter(de=>de.overflows[0]<=0).sort((de,ue)=>de.overflows[1]-ue.overflows[1])[0])==null?void 0:ce.placement;if(!_e)switch(y){case"bestFit":{var te;const de=(te=U.filter(ue=>{if(D){const Re=Jl(ue.placement);return Re===x||Re==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(Re=>Re>0).reduce((Re,k)=>Re+k,0)]).sort((ue,Re)=>ue[1]-Re[1])[0])==null?void 0:te[0];de&&(_e=de);break}case"initialPlacement":_e=s;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function o$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function s$(e){return Cbe.some(t=>e[t]>=0)}const Nbe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Iu(e,t);switch(r){case"referenceHidden":{const a=await zm(t,{...i,elementContext:"reference"}),o=o$(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:s$(o)}}}case"escaped":{const a=await zm(t,{...i,altBoundary:!0}),o=o$(a,n.floating);return{data:{escapedOffsets:o,escaped:s$(o)}}}default:return{}}}}};async function Fbe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Mu(n),s=rp(n),l=Jl(n)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,h=Iu(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof v=="number"&&(y=s==="end"?v*-1:v),l?{x:y*d,y:g*c}:{x:g*c,y:y*d}}const jbe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await Fbe(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},$be=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...l}=Iu(e,t),c={x:n,y:r},d=await zm(t,l),h=Jl(Mu(i)),g=BO(h);let y=c[g],v=c[h];if(a){const S=g==="y"?"top":"left",b=g==="y"?"bottom":"right",x=y+d[S],A=y-d[b];y=NR(x,y,A)}if(o){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=v+d[S],A=v-d[b];v=NR(x,v,A)}const _=s.fn({...t,[g]:y,[h]:v});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[g]:a,[h]:o}}}}}},Ube=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Iu(e,t),d={x:n,y:r},h=Jl(i),g=BO(h);let y=d[g],v=d[h];const _=Iu(s,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const A=g==="y"?"height":"width",P=a.reference[g]-a.floating[A]+S.mainAxis,O=a.reference[g]+a.reference[A]-S.mainAxis;y<P?y=P:y>O&&(y=O)}if(c){var b,x;const A=g==="y"?"width":"height",P=["top","left"].includes(Mu(i)),O=a.reference[h]-a.floating[A]+(P&&((b=o.offset)==null?void 0:b[h])||0)+(P?0:S.crossAxis),D=a.reference[h]+a.reference[A]+(P?0:((x=o.offset)==null?void 0:x[h])||0)-(P?S.crossAxis:0);v<O?v=O:v>D&&(v=D)}return{[g]:y,[h]:v}}}},Bbe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Iu(e,t),d=await zm(t,c),h=Mu(i),g=rp(i),y=Jl(i)==="y",{width:v,height:_}=a.floating;let S,b;h==="top"||h==="bottom"?(S=h,b=g===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=h,S=g==="end"?"top":"bottom");const x=_-d.top-d.bottom,A=v-d.left-d.right,P=Zl(_-d[S],x),O=Zl(v-d[b],A),D=!t.middlewareData.shift;let F=P,Q=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Q=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=x),D&&!g){const U=Ga(d.left,0),Y=Ga(d.right,0),ce=Ga(d.top,0),te=Ga(d.bottom,0);y?Q=v-2*(U!==0||Y!==0?U+Y:Ga(d.left,d.right)):F=_-2*(ce!==0||te!==0?ce+te:Ga(d.top,d.bottom))}await l({...t,availableWidth:Q,availableHeight:F});const X=await o.getDimensions(s.floating);return v!==X.width||_!==X.height?{reset:{rects:!0}}:{}}}};function vb(){return typeof window<"u"}function ip(e){return p7(e)?(e.nodeName||"").toLowerCase():"#document"}function Za(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(p7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function p7(e){return vb()?e instanceof Node||e instanceof Za(e).Node:!1}function Zo(e){return vb()?e instanceof Element||e instanceof Za(e).Element:!1}function Ls(e){return vb()?e instanceof HTMLElement||e instanceof Za(e).HTMLElement:!1}function u$(e){return!vb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Za(e).ShadowRoot}function Sy(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Jo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function qbe(e){return["table","td","th"].includes(ip(e))}function _b(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function HO(e){const t=VO(),n=Zo(e)?Jo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function zbe(e){let t=Yl(e);for(;Ls(t)&&!Rh(t);){if(HO(t))return t;if(_b(t))return null;t=Yl(t)}return null}function VO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Rh(e){return["html","body","#document"].includes(ip(e))}function Jo(e){return Za(e).getComputedStyle(e)}function wb(e){return Zo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Yl(e){if(ip(e)==="html")return e;const t=e.assignedSlot||e.parentNode||u$(e)&&e.host||ks(e);return u$(t)?t.host:t}function g7(e){const t=Yl(e);return Rh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ls(t)&&Sy(t)?t:g7(t)}function Hm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=g7(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Za(i);if(a){const s=jR(o);return t.concat(o,o.visualViewport||[],Sy(i)?i:[],s&&n?Hm(s):[])}return t.concat(i,Hm(i,[],n))}function jR(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function m7(e){const t=Jo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ls(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=fw(n)!==a||fw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function KO(e){return Zo(e)?e:e.contextElement}function Xd(e){const t=KO(e);if(!Ls(t))return As(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=m7(t);let o=(a?fw(n.width):n.width)/r,s=(a?fw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const Hbe=As(0);function y7(e){const t=Za(e);return!VO()||!t.visualViewport?Hbe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Vbe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Za(e)?!1:t}function Of(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=KO(e);let o=As(1);t&&(r?Zo(r)&&(o=Xd(r)):o=Xd(e));const s=Vbe(a,n,r)?y7(a):As(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const g=Za(a),y=r&&Zo(r)?Za(r):r;let v=g,_=jR(v);for(;_&&r&&y!==v;){const S=Xd(_),b=_.getBoundingClientRect(),x=Jo(_),A=b.left+(_.clientLeft+parseFloat(x.paddingLeft))*S.x,P=b.top+(_.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=A,c+=P,v=Za(_),_=jR(v)}}return hw({width:d,height:h,x:l,y:c})}function GO(e,t){const n=wb(e).scrollLeft;return t?t.left+n:Of(ks(e)).left+n}function v7(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:GO(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function Kbe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=ks(r),s=t?_b(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=As(1);const d=As(0),h=Ls(r);if((h||!h&&!a)&&((ip(r)!=="body"||Sy(o))&&(l=wb(r)),Ls(r))){const y=Of(r);c=Xd(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=o&&!h&&!a?v7(o,l,!0):As(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+g.x,y:n.y*c.y-l.scrollTop*c.y+d.y+g.y}}function Gbe(e){return Array.from(e.getClientRects())}function Wbe(e){const t=ks(e),n=wb(e),r=e.ownerDocument.body,i=Ga(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ga(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+GO(e);const s=-n.scrollTop;return Jo(r).direction==="rtl"&&(o+=Ga(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function Qbe(e,t){const n=Za(e),r=ks(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=VO();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function Zbe(e,t){const n=Of(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Ls(e)?Xd(e):As(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function l$(e,t,n){let r;if(t==="viewport")r=Qbe(e,n);else if(t==="document")r=Wbe(ks(e));else if(Zo(t))r=Zbe(t,n);else{const i=y7(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return hw(r)}function _7(e,t){const n=Yl(e);return n===t||!Zo(n)||Rh(n)?!1:Jo(n).position==="fixed"||_7(n,t)}function Jbe(e,t){const n=t.get(e);if(n)return n;let r=Hm(e,[],!1).filter(s=>Zo(s)&&ip(s)!=="body"),i=null;const a=Jo(e).position==="fixed";let o=a?Yl(e):e;for(;Zo(o)&&!Rh(o);){const s=Jo(o),l=HO(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Sy(o)&&!l&&_7(e,o))?r=r.filter(d=>d!==o):i=s,o=Yl(o)}return t.set(e,r),r}function Ybe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?_b(t)?[]:Jbe(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const h=l$(t,d,i);return c.top=Ga(h.top,c.top),c.right=Zl(h.right,c.right),c.bottom=Zl(h.bottom,c.bottom),c.left=Ga(h.left,c.left),c},l$(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xbe(e){const{width:t,height:n}=m7(e);return{width:t,height:n}}function e1e(e,t,n){const r=Ls(t),i=ks(t),a=n==="fixed",o=Of(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=As(0);if(r||!r&&!a)if((ip(t)!=="body"||Sy(i))&&(s=wb(t)),r){const g=Of(t,!0,a,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else i&&(l.x=GO(i));const c=i&&!r&&!a?v7(i,s):As(0),d=o.left+s.scrollLeft-l.x-c.x,h=o.top+s.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function xT(e){return Jo(e).position==="static"}function c$(e,t){if(!Ls(e)||Jo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ks(e)===n&&(n=n.ownerDocument.body),n}function w7(e,t){const n=Za(e);if(_b(e))return n;if(!Ls(e)){let i=Yl(e);for(;i&&!Rh(i);){if(Zo(i)&&!xT(i))return i;i=Yl(i)}return n}let r=c$(e,t);for(;r&&qbe(r)&&xT(r);)r=c$(r,t);return r&&Rh(r)&&xT(r)&&!HO(r)?n:r||zbe(e)||n}const t1e=async function(e){const t=this.getOffsetParent||w7,n=this.getDimensions,r=await n(e.floating);return{reference:e1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function n1e(e){return Jo(e).direction==="rtl"}const r1e={convertOffsetParentRelativeRectToViewportRelativeRect:Kbe,getDocumentElement:ks,getClippingRect:Ybe,getOffsetParent:w7,getElementRects:t1e,getClientRects:Gbe,getDimensions:Xbe,getScale:Xd,isElement:Zo,isRTL:n1e};function b7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function i1e(e,t){let n=null,r;const i=ks(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:h,width:g,height:y}=c;if(s||t(),!g||!y)return;const v=d_(h),_=d_(i.clientWidth-(d+g)),S=d_(i.clientHeight-(h+y)),b=d_(d),A={rootMargin:-v+"px "+-_+"px "+-S+"px "+-b+"px",threshold:Ga(0,Zl(1,l))||1};let P=!0;function O(D){const F=D[0].intersectionRatio;if(F!==l){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!b7(c,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,A)}n.observe(e)}return o(!0),a}function a1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=KO(e),d=i||a?[...c?Hm(c):[],...Hm(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const h=c&&s?i1e(c,n):null;let g=-1,y=null;o&&(y=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let v,_=l?Of(e):null;l&&S();function S(){const b=Of(e);_&&!b7(_,b)&&n(),_=b,v=requestAnimationFrame(S)}return n(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(b=y)==null||b.disconnect(),y=null,l&&cancelAnimationFrame(v)}}const o1e=jbe,s1e=$be,u1e=kbe,l1e=Bbe,c1e=Nbe,f$=Dbe,f1e=Ube,d1e=(e,t,n)=>{const r=new Map,i={platform:r1e,...n},a={...i.platform,_c:r};return Mbe(e,t,{...i,platform:a})};var L0=typeof document<"u"?V.useLayoutEffect:V.useEffect;function pw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pw(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!pw(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function S7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function d$(e,t){const n=S7(e);return Math.round(t*n)/n}function ET(e){const t=V.useRef(e);return L0(()=>{t.current=e}),t}function h1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,h]=V.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=V.useState(r);pw(g,r)||y(r);const[v,_]=V.useState(null),[S,b]=V.useState(null),x=V.useCallback(ue=>{ue!==D.current&&(D.current=ue,_(ue))},[]),A=V.useCallback(ue=>{ue!==F.current&&(F.current=ue,b(ue))},[]),P=a||v,O=o||S,D=V.useRef(null),F=V.useRef(null),Q=V.useRef(d),X=l!=null,U=ET(l),Y=ET(i),ce=ET(c),te=V.useCallback(()=>{if(!D.current||!F.current)return;const ue={placement:t,strategy:n,middleware:g};Y.current&&(ue.platform=Y.current),d1e(D.current,F.current,ue).then(Re=>{const k={...Re,isPositioned:ce.current!==!1};se.current&&!pw(Q.current,k)&&(Q.current=k,Ql.flushSync(()=>{h(k)}))})},[g,t,n,Y,ce]);L0(()=>{c===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,h(ue=>({...ue,isPositioned:!1})))},[c]);const se=V.useRef(!1);L0(()=>(se.current=!0,()=>{se.current=!1}),[]),L0(()=>{if(P&&(D.current=P),O&&(F.current=O),P&&O){if(U.current)return U.current(P,O,te);te()}},[P,O,te,U,X]);const pe=V.useMemo(()=>({reference:D,floating:F,setReference:x,setFloating:A}),[x,A]),_e=V.useMemo(()=>({reference:P,floating:O}),[P,O]),de=V.useMemo(()=>{const ue={position:n,left:0,top:0};if(!_e.floating)return ue;const Re=d$(_e.floating,d.x),k=d$(_e.floating,d.y);return s?{...ue,transform:"translate("+Re+"px, "+k+"px)",...S7(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Re,top:k}},[n,s,_e.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:te,refs:pe,elements:_e,floatingStyles:de}),[d,te,pe,_e,de])}const p1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?f$({element:r.current,padding:i}).fn(n):{}:r?f$({element:r,padding:i}).fn(n):{}}}},g1e=(e,t)=>({...o1e(e),options:[e,t]}),m1e=(e,t)=>({...s1e(e),options:[e,t]}),y1e=(e,t)=>({...f1e(e),options:[e,t]}),v1e=(e,t)=>({...u1e(e),options:[e,t]}),_1e=(e,t)=>({...l1e(e),options:[e,t]}),w1e=(e,t)=>({...c1e(e),options:[e,t]}),b1e=(e,t)=>({...p1e(e),options:[e,t]});var S1e="Arrow",x7=V.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return B.jsx(jr.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});x7.displayName=S1e;var x1e=x7,WO="Popper",[E7,C7]=Uf(WO),[E1e,T7]=E7(WO),A7=e=>{const{__scopePopper:t,children:n}=e,[r,i]=V.useState(null);return B.jsx(E1e,{scope:t,anchor:r,onAnchorChange:i,children:n})};A7.displayName=WO;var R7="PopperAnchor",P7=V.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=T7(R7,n),o=V.useRef(null),s=Pa(t,o);return V.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:B.jsx(jr.div,{...i,ref:s})});P7.displayName=R7;var QO="PopperContent",[C1e,T1e]=E7(QO),O7=V.forwardRef((e,t)=>{var Ze,Pe,Ne,Ye,oe,H;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,..._}=e,S=T7(QO,n),[b,x]=V.useState(null),A=Pa(t,$=>x($)),[P,O]=V.useState(null),D=Ebe(P),F=(D==null?void 0:D.width)??0,Q=(D==null?void 0:D.height)??0,X=r+(a!=="center"?"-"+a:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(c)?c:[c],ce=Y.length>0,te={padding:U,boundary:Y.filter(R1e),altBoundary:ce},{refs:se,floatingStyles:pe,placement:_e,isPositioned:de,middlewareData:ue}=h1e({strategy:"fixed",placement:X,whileElementsMounted:(...$)=>a1e(...$,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[g1e({mainAxis:i+Q,alignmentAxis:o}),l&&m1e({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?y1e():void 0,...te}),l&&v1e({...te}),_1e({...te,apply:({elements:$,rects:ae,availableWidth:Z,availableHeight:he})=>{const{width:ye,height:He}=ae.reference,Ee=$.floating.style;Ee.setProperty("--radix-popper-available-width",`${Z}px`),Ee.setProperty("--radix-popper-available-height",`${he}px`),Ee.setProperty("--radix-popper-anchor-width",`${ye}px`),Ee.setProperty("--radix-popper-anchor-height",`${He}px`)}}),P&&b1e({element:P,padding:s}),P1e({arrowWidth:F,arrowHeight:Q}),g&&w1e({strategy:"referenceHidden",...te})]}),[Re,k]=M7(_e),ie=Lu(v);Rf(()=>{de&&(ie==null||ie())},[de,ie]);const me=(Ze=ue.arrow)==null?void 0:Ze.x,K=(Pe=ue.arrow)==null?void 0:Pe.y,ee=((Ne=ue.arrow)==null?void 0:Ne.centerOffset)!==0,[ge,Ae]=V.useState();return Rf(()=>{b&&Ae(window.getComputedStyle(b).zIndex)},[b]),B.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:de?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Ye=ue.transformOrigin)==null?void 0:Ye.x,(oe=ue.transformOrigin)==null?void 0:oe.y].join(" "),...((H=ue.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:B.jsx(C1e,{scope:n,placedSide:Re,onArrowChange:O,arrowX:me,arrowY:K,shouldHideArrow:ee,children:B.jsx(jr.div,{"data-side":Re,"data-align":k,..._,ref:A,style:{..._.style,animation:de?void 0:"none"}})})})});O7.displayName=QO;var L7="PopperArrow",A1e={top:"bottom",right:"left",bottom:"top",left:"right"},I7=V.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=T1e(L7,r),o=A1e[a.placedSide];return B.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:B.jsx(x1e,{...i,ref:n,style:{...i.style,display:"block"}})})});I7.displayName=L7;function R1e(e){return e!==null}var P1e=e=>({name:"transformOrigin",options:e,fn(t){var S,b,x;const{placement:n,rects:r,middlewareData:i}=t,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=M7(n),h={start:"0%",center:"50%",end:"100%"}[d],g=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,y=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${g}px`,_=`${-l}px`):c==="top"?(v=o?h:`${g}px`,_=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${y}px`):c==="left"&&(v=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:v,y:_}}}});function M7(e){const[t,n="center"]=e.split("-");return[t,n]}var O1e=A7,D7=P7,L1e=O7,I1e=I7,CT="rovingFocusGroup.onEntryFocus",M1e={bubbles:!1,cancelable:!0},bb="RovingFocusGroup",[$R,k7,D1e]=J0e(bb),[k1e,Sb]=Uf(bb,[D1e]),[N1e,F1e]=k1e(bb),N7=V.forwardRef((e,t)=>B.jsx($R.Provider,{scope:e.__scopeRovingFocusGroup,children:B.jsx($R.Slot,{scope:e.__scopeRovingFocusGroup,children:B.jsx(j1e,{...e,ref:t})})}));N7.displayName=bb;var j1e=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,g=V.useRef(null),y=Pa(t,g),v=IO(a),[_=null,S]=Bf({prop:o,defaultProp:s,onChange:l}),[b,x]=V.useState(!1),A=Lu(c),P=k7(n),O=V.useRef(!1),[D,F]=V.useState(0);return V.useEffect(()=>{const Q=g.current;if(Q)return Q.addEventListener(CT,A),()=>Q.removeEventListener(CT,A)},[A]),B.jsx(N1e,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:_,onItemFocus:V.useCallback(Q=>S(Q),[S]),onItemShiftTab:V.useCallback(()=>x(!0),[]),onFocusableItemAdd:V.useCallback(()=>F(Q=>Q+1),[]),onFocusableItemRemove:V.useCallback(()=>F(Q=>Q-1),[]),children:B.jsx(jr.div,{tabIndex:b||D===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:Nr(e.onMouseDown,()=>{O.current=!0}),onFocus:Nr(e.onFocus,Q=>{const X=!O.current;if(Q.target===Q.currentTarget&&X&&!b){const U=new CustomEvent(CT,M1e);if(Q.currentTarget.dispatchEvent(U),!U.defaultPrevented){const Y=P().filter(_e=>_e.focusable),ce=Y.find(_e=>_e.active),te=Y.find(_e=>_e.id===_),pe=[ce,te,...Y].filter(Boolean).map(_e=>_e.ref.current);$7(pe,d)}}O.current=!1}),onBlur:Nr(e.onBlur,()=>x(!1))})})}),F7="RovingFocusGroupItem",j7=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,s=Jd(),l=a||s,c=F1e(F7,n),d=c.currentTabStopId===l,h=k7(n),{onFocusableItemAdd:g,onFocusableItemRemove:y}=c;return V.useEffect(()=>{if(r)return g(),()=>y()},[r,g,y]),B.jsx($R.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:B.jsx(jr.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:Nr(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Nr(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Nr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=B1e(v,c.orientation,c.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(x=>x.focusable).map(x=>x.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const x=b.indexOf(v.currentTarget);b=c.loop?q1e(b,x+1):b.slice(x+1)}setTimeout(()=>$7(b))}})})})});j7.displayName=F7;var $1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function U1e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function B1e(e,t,n){const r=U1e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return $1e[r]}function $7(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function q1e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var U7=N7,B7=j7,ZO="Popover",[q7,I3e]=Uf(ZO,[C7]),xy=C7(),[z1e,ac]=q7(ZO),z7=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=xy(t),l=V.useRef(null),[c,d]=V.useState(!1),[h=!1,g]=Bf({prop:r,defaultProp:i,onChange:a});return B.jsx(O1e,{...s,children:B.jsx(z1e,{scope:t,contentId:Jd(),triggerRef:l,open:h,onOpenChange:g,onOpenToggle:V.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:c,onCustomAnchorAdd:V.useCallback(()=>d(!0),[]),onCustomAnchorRemove:V.useCallback(()=>d(!1),[]),modal:o,children:n})})};z7.displayName=ZO;var H7="PopoverAnchor",H1e=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ac(H7,n),a=xy(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return V.useEffect(()=>(o(),()=>s()),[o,s]),B.jsx(D7,{...a,...r,ref:t})});H1e.displayName=H7;var V7="PopoverTrigger",K7=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ac(V7,n),a=xy(n),o=Pa(t,i.triggerRef),s=B.jsx(jr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X7(i.open),...r,ref:o,onClick:Nr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:B.jsx(D7,{asChild:!0,...a,children:s})});K7.displayName=V7;var JO="PopoverPortal",[V1e,K1e]=q7(JO,{forceMount:void 0}),G7=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=ac(JO,t);return B.jsx(V1e,{scope:t,forceMount:n,children:B.jsx(qf,{present:n||a.open,children:B.jsx(kO,{asChild:!0,container:i,children:r})})})};G7.displayName=JO;var Ph="PopoverContent",W7=V.forwardRef((e,t)=>{const n=K1e(Ph,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=ac(Ph,e.__scopePopover);return B.jsx(qf,{present:r||a.open,children:a.modal?B.jsx(G1e,{...i,ref:t}):B.jsx(W1e,{...i,ref:t})})});W7.displayName=Ph;var G1e=V.forwardRef((e,t)=>{const n=ac(Ph,e.__scopePopover),r=V.useRef(null),i=Pa(t,r),a=V.useRef(!1);return V.useEffect(()=>{const o=r.current;if(o)return JH(o)},[]),B.jsx(NO,{as:Ah,allowPinchZoom:!0,children:B.jsx(Q7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Nr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),W1e=V.forwardRef((e,t)=>{const n=ac(Ph,e.__scopePopover),r=V.useRef(!1),i=V.useRef(!1);return B.jsx(Q7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Q7=V.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=e,g=ac(Ph,n),y=xy(n);return zH(),B.jsx(DO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:B.jsx(MO,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1),children:B.jsx(L1e,{"data-state":X7(g.open),role:"dialog",id:g.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Z7="PopoverClose",J7=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=ac(Z7,n);return B.jsx(jr.button,{type:"button",...r,ref:t,onClick:Nr(e.onClick,()=>i.onOpenChange(!1))})});J7.displayName=Z7;var Q1e="PopoverArrow",Y7=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=xy(n);return B.jsx(I1e,{...i,...r,ref:t})});Y7.displayName=Q1e;function X7(e){return e?"open":"closed"}var Z1e=z7,J1e=K7,Y1e=G7,X1e=W7,eSe=J7,tSe=Y7,YO="Tabs",[nSe,M3e]=Uf(YO,[Sb]),eV=Sb(),[rSe,XO]=nSe(YO),tV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=IO(s),[h,g]=Bf({prop:r,onChange:i,defaultProp:a});return B.jsx(rSe,{scope:n,baseId:Jd(),value:h,onValueChange:g,orientation:o,dir:d,activationMode:l,children:B.jsx(jr.div,{dir:d,"data-orientation":o,...c,ref:t})})});tV.displayName=YO;var nV="TabsList",rV=V.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=XO(nV,n),o=eV(n);return B.jsx(U7,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:B.jsx(jr.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});rV.displayName=nV;var iV="TabsTrigger",aV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=XO(iV,n),s=eV(n),l=uV(o.baseId,r),c=lV(o.baseId,r),d=r===o.value;return B.jsx(B7,{asChild:!0,...s,focusable:!i,active:d,children:B.jsx(jr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Nr(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Nr(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Nr(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});aV.displayName=iV;var oV="TabsContent",sV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=XO(oV,n),l=uV(s.baseId,r),c=lV(s.baseId,r),d=r===s.value,h=V.useRef(d);return V.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),B.jsx(qf,{present:i||d,children:({present:g})=>B.jsx(jr.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:g&&a})})});sV.displayName=oV;function uV(e,t){return`${e}-trigger-${t}`}function lV(e,t){return`${e}-content-${t}`}var eL=tV,tL=rV,nL=aV,rL=sV,iSe="Toggle",cV=V.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...a}=e,[o=!1,s]=Bf({prop:n,onChange:i,defaultProp:r});return B.jsx(jr.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Nr(e.onClick,()=>{e.disabled||s(!o)})})});cV.displayName=iSe;var ap="ToggleGroup",[fV,D3e]=Uf(ap,[Sb]),dV=Sb(),iL=Pt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return B.jsx(aSe,{...i,ref:t})}if(n==="multiple"){const i=r;return B.jsx(oSe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ap}\``)});iL.displayName=ap;var[hV,pV]=fV(ap),aSe=Pt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,s]=Bf({prop:n,defaultProp:r,onChange:i});return B.jsx(hV,{scope:e.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:s,onItemDeactivate:Pt.useCallback(()=>s(""),[s]),children:B.jsx(gV,{...a,ref:t})})}),oSe=Pt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o=[],s]=Bf({prop:n,defaultProp:r,onChange:i}),l=Pt.useCallback(d=>s((h=[])=>[...h,d]),[s]),c=Pt.useCallback(d=>s((h=[])=>h.filter(g=>g!==d)),[s]);return B.jsx(hV,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:B.jsx(gV,{...a,ref:t})})});iL.displayName=ap;var[sSe,uSe]=fV(ap),gV=Pt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:s=!0,...l}=e,c=dV(n),d=IO(o),h={role:"group",dir:d,...l};return B.jsx(sSe,{scope:n,rovingFocus:i,disabled:r,children:i?B.jsx(U7,{asChild:!0,...c,orientation:a,dir:d,loop:s,children:B.jsx(jr.div,{...h,ref:t})}):B.jsx(jr.div,{...h,ref:t})})}),gw="ToggleGroupItem",mV=Pt.forwardRef((e,t)=>{const n=pV(gw,e.__scopeToggleGroup),r=uSe(gw,e.__scopeToggleGroup),i=dV(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,s={...e,pressed:a,disabled:o},l=Pt.useRef(null);return r.rovingFocus?B.jsx(B7,{asChild:!0,...i,focusable:!o,active:a,ref:l,children:B.jsx(h$,{...s,ref:t})}):B.jsx(h$,{...s,ref:t})});mV.displayName=gw;var h$=Pt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=pV(gw,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=a.type==="single"?o:void 0;return B.jsx(cV,{...s,...i,ref:t,onPressedChange:l=>{l?a.onItemActivate(r):a.onItemDeactivate(r)}})}),lSe=iL,cSe=mV;function fSe(e){return $i({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 4.583v14.833h.865V4.583zm1.788 0v14.833h2.653V4.583zm3.518 0v14.832H7.96V4.583zm3.547 0v14.834h.866V4.583zm1.789 0v14.833h.865V4.583zm1.759 0v14.834h2.653V4.583zm3.518 0v14.834h.923V4.583zm1.788 0v14.833h2.653V4.583zm3.64 0v14.834h.865V4.583zm1.788 0v14.834H24V4.583Z"},child:[]}]})(e)}const dSe="_item_12uco_1",hSe="_highlighted_12uco_8",pSe="_popover_12uco_22",gSe="_arrow_12uco_33",mSe="_close_12uco_36",ySe="_detail_12uco_41",vSe="_image_12uco_47",_Se="_headerContainer_12uco_52",wSe="_header_12uco_52",bSe="_website_12uco_62",SSe="_aliases_12uco_67",Ka={item:dSe,highlighted:hSe,popover:pSe,arrow:gSe,close:mSe,detail:ySe,image:vSe,headerContainer:_Se,header:wSe,website:bSe,aliases:SSe},yV=({uri:e,highlighted:t,onRemove:n,locale:r,className:i,...a})=>{const{i18n:o,_:s}=Wr(),{data:l}=U0e(e,r),c={uri:e,label:e.split("/").pop(),description:"",aliases:[]},d=Tf({},c,l);return B.jsxs(Z1e,{children:[B.jsxs("span",{...a,className:Tr(Ka.item,t&&Ka.highlighted,i),children:[B.jsx(J1e,{asChild:!0,children:B.jsxs("button",{className:Ka.trigger,title:d.description,children:[d.label," "]})}),n&&B.jsx("button",{className:Ka.remove,onClick:n,children:B.jsx(sw,{})})]}),B.jsx(Y1e,{children:B.jsxs(X1e,{sideOffset:5,className:Ka.popover,children:[B.jsx(eSe,{className:Ka.close,"aria-label":o._({id:"yz7wBu"}),children:B.jsx(sw,{})}),B.jsx(xSe,{topic:d}),B.jsx(tSe,{className:Ka.arrow})]})})]})},xSe=({topic:e})=>B.jsxs("div",{className:Ka.detail,children:[e.image&&B.jsx("img",{src:e.image,alt:"",className:Ka.image}),B.jsxs("header",{className:Ka.headerContainer,children:[B.jsxs("h3",{className:Ka.header,children:[e.label,B.jsx($9,{href:e.uri,icon:e.id?fSe:void 0})]}),e.aliases.length>0&&B.jsx("div",{className:Ka.aliases,children:e.aliases.join(", ")}),e.officialWebsite&&B.jsxs("a",{href:e.officialWebsite,target:"_blank",rel:"noopener noreferrer",className:Ka.website,children:[B.jsx(Hge,{}),e.officialWebsite]})]}),B.jsx("section",{children:e.description})]}),ESe="_list_kiy6t_1",CSe="_select_kiy6t_7",TSe="_control_kiy6t_7",ASe="_input_kiy6t_12",RSe="_menu_kiy6t_15",PSe="_separator_kiy6t_20",OSe="_option_kiy6t_24",LSe="_focused_kiy6t_24",_u={list:ESe,select:CSe,control:TSe,input:ASe,menu:RSe,separator:PSe,option:OSe,focused:LSe},ISe=({ids:e,highlighted:t})=>{const n=Fr(Eo);return e.length===0?null:B.jsx("ul",{className:_u.list,"data-cy":"interests-list",children:e.map(r=>B.jsx("li",{children:B.jsx(yV,{uri:r,highlighted:t&&t.includes(r),locale:n})},r))})},xo=({children:e})=>B.jsx(B.Fragment,{children:e}),MSe=()=>{const{communityId:e}=Dn(),t=Fr(Eo),n=ju(e,t,jh),i=DSe()&&n.logo.length>=2?n.logo[0]:n.logo[1];return B.jsxs(B.Fragment,{children:[B.jsx("title",{children:n.name}),i&&B.jsx("link",{rel:"icon",href:i}),B.jsx("meta",{name:"description",content:n.about})]})},DSe=()=>{const[e,t]=V.useState(document.hasFocus());return V.useEffect(()=>{const n=()=>{t(!0)},r=()=>{t(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),e},gi=()=>Fr($h),kSe=()=>{const e=Fh();V.useEffect(()=>{dy().events.on(ui.SESSION_RESTORED,n=>{e(new URL(n).pathname,{replace:!0})})},[])},NSe=()=>{const e=Fr(LP);V.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",e)},[e])},FSe="_box_1g1fk_7",jSe="_row_1g1fk_18",$Se="_header_1g1fk_18",USe="_content_1g1fk_26",BSe="_footer_1g1fk_30",Oh={box:FSe,row:jSe,header:$Se,content:USe,footer:BSe},qSe=({children:e,page:t})=>B.jsx("div",{className:Tr(Oh.box,t&&Oh.page),children:e}),zSe=({children:e})=>B.jsx("div",{className:Tr(Oh.row,Oh.header),children:e}),HSe=({children:e})=>B.jsx("div",{className:Tr(Oh.row,Oh.content),children:e});function vV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=vV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zl(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=vV(e))&&(r&&(r+=" "),r+=t);return r}const Vm=e=>typeof e=="number"&&!isNaN(e),bf=e=>typeof e=="string",Wa=e=>typeof e=="function",I0=e=>bf(e)||Wa(e)?e:null,UR=e=>V.isValidElement(e)||bf(e)||Wa(e)||Vm(e);function VSe(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function xb(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(o){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:g,playToast:y}=o;const v=r?`${t}--${l}`:t,_=r?`${n}--${l}`:n,S=V.useRef(0);return V.useLayoutEffect(()=>{const b=h.current,x=v.split(" "),A=P=>{P.target===h.current&&(y(),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),S.current===0&&P.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),V.useEffect(()=>{const b=h.current,x=()=>{b.removeEventListener("animationend",x),i?VSe(b,d,a):d()};g||(c?x():(S.current=1,b.className+=` ${_}`,b.addEventListener("animationend",x)))},[g]),Pt.createElement(Pt.Fragment,null,s)}}function p$(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const pa=new Map;let Km=[];const BR=new Set,KSe=e=>BR.forEach(t=>t(e)),_V=()=>pa.size>0;function wV(e,t){var n;if(t)return!((n=pa.get(t))==null||!n.isToastActive(e));let r=!1;return pa.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function bV(e,t){UR(e)&&(_V()||Km.push({content:e,options:t}),pa.forEach(n=>{n.buildToast(e,t)}))}function g$(e,t){pa.forEach(n=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===n.id&&n.toggle(e,t==null?void 0:t.id):n.toggle(e,t==null?void 0:t.id)})}function GSe(e){const{subscribe:t,getSnapshot:n,setProps:r}=V.useRef(function(a){const o=a.containerId||1;return{subscribe(s){const l=function(d,h,g){let y=1,v=0,_=[],S=[],b=[],x=h;const A=new Map,P=new Set,O=()=>{b=Array.from(A.values()),P.forEach(Q=>Q())},D=Q=>{S=Q==null?[]:S.filter(X=>X!==Q),O()},F=Q=>{const{toastId:X,onOpen:U,updateId:Y,children:ce}=Q.props,te=Y==null;Q.staleId&&A.delete(Q.staleId),A.set(X,Q),S=[...S,Q.props.toastId].filter(se=>se!==Q.staleId),O(),g(p$(Q,te?"added":"updated")),te&&Wa(U)&&U(V.isValidElement(ce)&&ce.props)};return{id:d,props:x,observe:Q=>(P.add(Q),()=>P.delete(Q)),toggle:(Q,X)=>{A.forEach(U=>{X!=null&&X!==U.props.toastId||Wa(U.toggle)&&U.toggle(Q)})},removeToast:D,toasts:A,clearQueue:()=>{v-=_.length,_=[]},buildToast:(Q,X)=>{if((me=>{let{containerId:K,toastId:ee,updateId:ge}=me;const Ae=K?K!==d:d!==1,Ze=A.has(ee)&&ge==null;return Ae||Ze})(X))return;const{toastId:U,updateId:Y,data:ce,staleId:te,delay:se}=X,pe=()=>{D(U)},_e=Y==null;_e&&v++;const de={...x,style:x.toastStyle,key:y++,...Object.fromEntries(Object.entries(X).filter(me=>{let[K,ee]=me;return ee!=null})),toastId:U,updateId:Y,data:ce,closeToast:pe,isIn:!1,className:I0(X.className||x.toastClassName),bodyClassName:I0(X.bodyClassName||x.bodyClassName),progressClassName:I0(X.progressClassName||x.progressClassName),autoClose:!X.isLoading&&(ue=X.autoClose,Re=x.autoClose,ue===!1||Vm(ue)&&ue>0?ue:Re),deleteToast(){const me=A.get(U),{onClose:K,children:ee}=me.props;Wa(K)&&K(V.isValidElement(ee)&&ee.props),g(p$(me,"removed")),A.delete(U),v--,v<0&&(v=0),_.length>0?F(_.shift()):O()}};var ue,Re;de.closeButton=x.closeButton,X.closeButton===!1||UR(X.closeButton)?de.closeButton=X.closeButton:X.closeButton===!0&&(de.closeButton=!UR(x.closeButton)||x.closeButton);let k=Q;V.isValidElement(Q)&&!bf(Q.type)?k=V.cloneElement(Q,{closeToast:pe,toastProps:de,data:ce}):Wa(Q)&&(k=Q({closeToast:pe,toastProps:de,data:ce}));const ie={content:k,props:de,staleId:te};x.limit&&x.limit>0&&v>x.limit&&_e?_.push(ie):Vm(se)?setTimeout(()=>{F(ie)},se):F(ie)},setProps(Q){x=Q},setToggle:(Q,X)=>{A.get(Q).toggle=X},isToastActive:Q=>S.some(X=>X===Q),getSnapshot:()=>x.newestOnTop?b.reverse():b}}(o,a,KSe);pa.set(o,l);const c=l.observe(s);return Km.forEach(d=>bV(d.content,d.options)),Km=[],()=>{c(),pa.delete(o)}},setProps(s){var l;(l=pa.get(o))==null||l.setProps(s)},getSnapshot(){var s;return(s=pa.get(o))==null?void 0:s.getSnapshot()}}}(e)).current;r(e);const i=V.useSyncExternalStore(t,n,n);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return i.forEach(s=>{const{position:l}=s.props;o.has(l)||o.set(l,[]),o.get(l).push(s)}),Array.from(o,s=>a(s[0],s[1]))},isToastActive:wV,count:i==null?void 0:i.length}}function WSe(e){const[t,n]=V.useState(!1),[r,i]=V.useState(!1),a=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=e;var g,y;function v(){n(!0)}function _(){n(!1)}function S(A){const P=a.current;o.canDrag&&P&&(o.didMove=!0,t&&_(),o.delta=e.draggableDirection==="x"?A.clientX-o.start:A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",b);const A=a.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=pa.get((g={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||y.setToggle(g.id,g.fn),V.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",_)}},[e.pauseOnFocusLoss]);const x={onPointerDown:function(A){if(e.draggable===!0||e.draggable===A.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",b);const P=a.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(A){const{top:P,bottom:O,left:D,right:F}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&e.pauseOnHover&&A.clientX>=D&&A.clientX<=F&&A.clientY>=P&&A.clientY<=O?_():v()}};return s&&l&&(x.onMouseEnter=_,e.stacked||(x.onMouseLeave=v)),h&&(x.onClick=A=>{d&&d(A),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:x}}function QSe(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:s,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:g}=e;const y=a||l&&c===0,v={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const _=zl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=Wa(o)?o({rtl:d,type:i,defaultClassName:_}):zl(_,o),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return Pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),Pt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:v,...b}))}let ZSe=1;const SV=()=>""+ZSe++;function JSe(e){return e&&(bf(e.toastId)||Vm(e.toastId))?e.toastId:SV()}function Am(e,t){return bV(e,t),t.toastId}function mw(e,t){return{...t,type:t&&t.type||e,toastId:JSe(t)}}function h_(e){return(t,n)=>Am(t,mw(e,n))}function xr(e,t){return Am(e,mw("default",t))}xr.loading=(e,t)=>Am(e,mw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),xr.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=bf(i)?xr.loading(i,n):xr.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,g)=>{if(h==null)return void xr.dismiss(r);const y={type:d,...s,...n,data:g},v=bf(h)?{render:h}:h;return r?xr.update(r,{...y,...v}):xr(v.render,{...y,...v}),g},c=Wa(e)?e():e;return c.then(d=>l("success",o,d)).catch(d=>l("error",a,d)),c},xr.success=h_("success"),xr.info=h_("info"),xr.error=h_("error"),xr.warning=h_("warning"),xr.warn=xr.warning,xr.dark=(e,t)=>Am(e,mw("default",{theme:"dark",...t})),xr.dismiss=function(e){(function(t){var n;if(_V()){if(t==null||bf(n=t)||Vm(n))pa.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=pa.get(t.containerId);r?r.removeToast(t.id):pa.forEach(i=>{i.removeToast(t.id)})}}else Km=Km.filter(r=>t!=null&&r.options.toastId!==t)})(e)},xr.clearWaitingQueue=function(e){e===void 0&&(e={}),pa.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},xr.isActive=wV,xr.update=function(e,t){t===void 0&&(t={});const n=((r,i)=>{var a;let{containerId:o}=i;return(a=pa.get(o||1))==null?void 0:a.toasts.get(r)})(e,t);if(n){const{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:SV()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,Am(o,a)}},xr.done=e=>{xr.update(e,{progress:1})},xr.onChange=function(e){return BR.add(e),()=>{BR.delete(e)}},xr.play=e=>g$(!0,e),xr.pause=e=>g$(!1,e);const YSe=typeof window<"u"?V.useLayoutEffect:V.useEffect,p_=e=>{let{theme:t,type:n,isLoading:r,...i}=e;return Pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},TT={info:function(e){return Pt.createElement(p_,{...e},Pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Pt.createElement(p_,{...e},Pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Pt.createElement(p_,{...e},Pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Pt.createElement(p_,{...e},Pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pt.createElement("div",{className:"Toastify__spinner"})}},XSe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=WSe(e),{closeButton:o,children:s,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:g,transition:y,position:v,className:_,style:S,bodyClassName:b,bodyStyle:x,progressClassName:A,progressStyle:P,updateId:O,role:D,progress:F,rtl:Q,toastId:X,deleteToast:U,isIn:Y,isLoading:ce,closeOnClick:te,theme:se}=e,pe=zl("Toastify__toast",`Toastify__toast-theme--${se}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),_e=Wa(_)?_({rtl:Q,position:v,type:d,defaultClassName:pe}):zl(pe,_),de=function(ie){let{theme:me,type:K,isLoading:ee,icon:ge}=ie,Ae=null;const Ze={theme:me,type:K};return ge===!1||(Wa(ge)?Ae=ge({...Ze,isLoading:ee}):V.isValidElement(ge)?Ae=V.cloneElement(ge,Ze):ee?Ae=TT.spinner():(Pe=>Pe in TT)(K)&&(Ae=TT[K](Ze))),Ae}(e),ue=!!F||!l,Re={closeToast:g,type:d,theme:se};let k=null;return o===!1||(k=Wa(o)?o(Re):V.isValidElement(o)?V.cloneElement(o,Re):function(ie){let{closeToast:me,theme:K,ariaLabel:ee="close"}=ie;return Pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${K}`,type:"button",onClick:ge=>{ge.stopPropagation(),me(ge)},"aria-label":ee},Pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Re)),Pt.createElement(y,{isIn:Y,done:U,position:v,preventExitTransition:n,nodeRef:r,playToast:a},Pt.createElement("div",{id:X,onClick:c,"data-in":Y,className:_e,...i,style:S,ref:r},Pt.createElement("div",{...Y&&{role:D},className:Wa(b)?b({type:d}):zl("Toastify__toast-body",b),style:x},de!=null&&Pt.createElement("div",{className:zl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ce})},de),Pt.createElement("div",null,s)),k,Pt.createElement(QSe,{...O&&!ue?{key:`pb-${O}`}:{},rtl:Q,theme:se,delay:l,isRunning:t,isIn:Y,closeToast:g,hide:h,type:d,style:P,className:A,controlledProgress:ue,progress:F||0})))},Eb=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},exe=xb(Eb("bounce",!0)),txe=xb(Eb("slide",!0));xb(Eb("zoom"));xb(Eb("flip"));const nxe={position:"top-right",transition:exe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function rxe(e){let t={...nxe,...e};const n=e.stacked,[r,i]=V.useState(!0),a=V.useRef(null),{getToastToRender:o,isToastActive:s,count:l}=GSe(t),{className:c,style:d,rtl:h,containerId:g}=t;function y(_){const S=zl("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":h});return Wa(c)?c({position:_,rtl:h,defaultClassName:S}):zl(S,I0(c))}function v(){n&&(i(!0),xr.play())}return YSe(()=>{if(n){var _;const S=a.current.querySelectorAll('[data-in="true"]'),b=12,x=(_=t.position)==null?void 0:_.includes("top");let A=0,P=0;Array.from(S).reverse().forEach((O,D)=>{const F=O;F.classList.add("Toastify__toast--stacked"),D>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=x?"top":"bot");const Q=A*(r?.2:1)+(r?0:b*D);F.style.setProperty("--y",`${x?Q:-1*Q}px`),F.style.setProperty("--g",`${b}`),F.style.setProperty("--s",""+(1-(r?P:0))),A+=F.offsetHeight,P+=.025})}},[r,l,n]),Pt.createElement("div",{ref:a,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),xr.pause())},onMouseLeave:v},o((_,S)=>{const b=S.length?{...d}:{...d,pointerEvents:"none"};return Pt.createElement("div",{className:y(_),style:b,key:`container-${_}`},S.map(x=>{let{content:A,props:P}=x;return Pt.createElement(XSe,{...P,stacked:n,collapseAll:v,isIn:s(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},A)}))}))}const ixe=()=>{ome(),kSe();const e=ec(),t=gi();return NSe(),V.useEffect(()=>{(async()=>{const n=await wne({restorePreviousSession:!0});n&&e(DP.signin(n))})()},[e]),B.jsxs(qSe,{children:[B.jsx(MSe,{}),B.jsx(rxe,{transition:txe}),B.jsx(zSe,{children:B.jsx(F0e,{})}),B.jsx(HSe,{children:t.isLoggedIn===void 0?B.jsx(_t,{id:"Z3FXyt"}):B.jsx(Fw,{})})]})};function axe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const oxe=/[ \t\n\f\r]/g;function sxe(e){return typeof e=="object"?e.type==="text"?m$(e.value):!1:m$(e)}function m$(e){return e.replace(oxe,"")===""}class Ey{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}Ey.prototype.property={};Ey.prototype.normal={};Ey.prototype.space=null;function xV(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new Ey(n,r,t)}function qR(e){return e.toLowerCase()}class To{constructor(t,n){this.property=t,this.attribute=n}}To.prototype.space=null;To.prototype.boolean=!1;To.prototype.booleanish=!1;To.prototype.overloadedBoolean=!1;To.prototype.number=!1;To.prototype.commaSeparated=!1;To.prototype.spaceSeparated=!1;To.prototype.commaOrSpaceSeparated=!1;To.prototype.mustUseProperty=!1;To.prototype.defined=!1;let uxe=0;const _n=zf(),ai=zf(),EV=zf(),Lt=zf(),Er=zf(),eh=zf(),za=zf();function zf(){return 2**++uxe}const zR=Object.freeze(Object.defineProperty({__proto__:null,boolean:_n,booleanish:ai,commaOrSpaceSeparated:za,commaSeparated:eh,number:Lt,overloadedBoolean:EV,spaceSeparated:Er},Symbol.toStringTag,{value:"Module"})),AT=Object.keys(zR);class aL extends To{constructor(t,n,r,i){let a=-1;if(super(t,n),y$(this,"space",i),typeof r=="number")for(;++a<AT.length;){const o=AT[a];y$(this,AT[a],(r&zR[o])===zR[o])}}}aL.prototype.defined=!0;function y$(e,t,n){n&&(e[t]=n)}const lxe={}.hasOwnProperty;function op(e){const t={},n={};let r;for(r in e.properties)if(lxe.call(e.properties,r)){const i=e.properties[r],a=new aL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[qR(r)]=r,n[qR(a.attribute)]=r}return new Ey(t,n,e.space)}const CV=op({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),TV=op({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function AV(e,t){return t in e?e[t]:t}function RV(e,t){return AV(e,t.toLowerCase())}const PV=op({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:RV,properties:{xmlns:null,xmlnsXLink:null}}),OV=op({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ai,ariaAutoComplete:null,ariaBusy:ai,ariaChecked:ai,ariaColCount:Lt,ariaColIndex:Lt,ariaColSpan:Lt,ariaControls:Er,ariaCurrent:null,ariaDescribedBy:Er,ariaDetails:null,ariaDisabled:ai,ariaDropEffect:Er,ariaErrorMessage:null,ariaExpanded:ai,ariaFlowTo:Er,ariaGrabbed:ai,ariaHasPopup:null,ariaHidden:ai,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Er,ariaLevel:Lt,ariaLive:null,ariaModal:ai,ariaMultiLine:ai,ariaMultiSelectable:ai,ariaOrientation:null,ariaOwns:Er,ariaPlaceholder:null,ariaPosInSet:Lt,ariaPressed:ai,ariaReadOnly:ai,ariaRelevant:null,ariaRequired:ai,ariaRoleDescription:Er,ariaRowCount:Lt,ariaRowIndex:Lt,ariaRowSpan:Lt,ariaSelected:ai,ariaSetSize:Lt,ariaSort:null,ariaValueMax:Lt,ariaValueMin:Lt,ariaValueNow:Lt,ariaValueText:null,role:null}}),cxe=op({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:RV,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:eh,acceptCharset:Er,accessKey:Er,action:null,allow:null,allowFullScreen:_n,allowPaymentRequest:_n,allowUserMedia:_n,alt:null,as:null,async:_n,autoCapitalize:null,autoComplete:Er,autoFocus:_n,autoPlay:_n,blocking:Er,capture:_n,charSet:null,checked:_n,cite:null,className:Er,cols:Lt,colSpan:null,content:null,contentEditable:ai,controls:_n,controlsList:Er,coords:Lt|eh,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_n,defer:_n,dir:null,dirName:null,disabled:_n,download:EV,draggable:ai,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_n,formTarget:null,headers:Er,height:Lt,hidden:_n,high:Lt,href:null,hrefLang:null,htmlFor:Er,httpEquiv:Er,id:null,imageSizes:null,imageSrcSet:null,inert:_n,inputMode:null,integrity:null,is:null,isMap:_n,itemId:null,itemProp:Er,itemRef:Er,itemScope:_n,itemType:Er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_n,low:Lt,manifest:null,max:null,maxLength:Lt,media:null,method:null,min:null,minLength:Lt,multiple:_n,muted:_n,name:null,nonce:null,noModule:_n,noValidate:_n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_n,optimum:Lt,pattern:null,ping:Er,placeholder:null,playsInline:_n,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_n,referrerPolicy:null,rel:Er,required:_n,reversed:_n,rows:Lt,rowSpan:Lt,sandbox:Er,scope:null,scoped:_n,seamless:_n,selected:_n,shadowRootDelegatesFocus:_n,shadowRootMode:null,shape:null,size:Lt,sizes:null,slot:null,span:Lt,spellCheck:ai,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Lt,step:null,style:null,tabIndex:Lt,target:null,title:null,translate:null,type:null,typeMustMatch:_n,useMap:null,value:ai,width:Lt,wrap:null,align:null,aLink:null,archive:Er,axis:null,background:null,bgColor:null,border:Lt,borderColor:null,bottomMargin:Lt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_n,declare:_n,event:null,face:null,frame:null,frameBorder:null,hSpace:Lt,leftMargin:Lt,link:null,longDesc:null,lowSrc:null,marginHeight:Lt,marginWidth:Lt,noResize:_n,noHref:_n,noShade:_n,noWrap:_n,object:null,profile:null,prompt:null,rev:null,rightMargin:Lt,rules:null,scheme:null,scrolling:ai,standby:null,summary:null,text:null,topMargin:Lt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Lt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_n,disableRemotePlayback:_n,prefix:null,property:null,results:Lt,security:null,unselectable:null}}),fxe=op({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:AV,properties:{about:za,accentHeight:Lt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Lt,amplitude:Lt,arabicForm:null,ascent:Lt,attributeName:null,attributeType:null,azimuth:Lt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Lt,by:null,calcMode:null,capHeight:Lt,className:Er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Lt,diffuseConstant:Lt,direction:null,display:null,dur:null,divisor:Lt,dominantBaseline:null,download:_n,dx:null,dy:null,edgeMode:null,editable:null,elevation:Lt,enableBackground:null,end:null,event:null,exponent:Lt,externalResourcesRequired:null,fill:null,fillOpacity:Lt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:eh,g2:eh,glyphName:eh,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Lt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Lt,horizOriginX:Lt,horizOriginY:Lt,id:null,ideographic:Lt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Lt,k:Lt,k1:Lt,k2:Lt,k3:Lt,k4:Lt,kernelMatrix:za,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Lt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Lt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Lt,overlineThickness:Lt,paintOrder:null,panose1:null,path:null,pathLength:Lt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Lt,pointsAtY:Lt,pointsAtZ:Lt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:za,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:za,rev:za,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:za,requiredFeatures:za,requiredFonts:za,requiredFormats:za,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Lt,specularExponent:Lt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Lt,strikethroughThickness:Lt,string:null,stroke:null,strokeDashArray:za,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Lt,strokeOpacity:Lt,strokeWidth:null,style:null,surfaceScale:Lt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:za,tabIndex:Lt,tableValues:null,target:null,targetX:Lt,targetY:Lt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:za,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Lt,underlineThickness:Lt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Lt,values:null,vAlphabetic:Lt,vMathematical:Lt,vectorEffect:null,vHanging:Lt,vIdeographic:Lt,version:null,vertAdvY:Lt,vertOriginX:Lt,vertOriginY:Lt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Lt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),dxe=/^data[-\w.:]+$/i,v$=/-[a-z]/g,hxe=/[A-Z]/g;function pxe(e,t){const n=qR(t);let r=t,i=To;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&dxe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(v$,mxe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!v$.test(a)){let o=a.replace(hxe,gxe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=aL}return new i(r,t)}function gxe(e){return"-"+e.toLowerCase()}function mxe(e){return e.charAt(1).toUpperCase()}const yxe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},vxe=xV([TV,CV,PV,OV,cxe],"html"),LV=xV([TV,CV,PV,OV,fxe],"svg");function _xe(e){return e.join(" ").trim()}var g_={exports:{}},RT,_$;function wxe(){if(_$)return RT;_$=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",h="",g="comment",y="declaration";RT=function(_,S){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];S=S||{};var b=1,x=1;function A(te){var se=te.match(t);se&&(b+=se.length);var pe=te.lastIndexOf(l);x=~pe?te.length-pe:x+te.length}function P(){var te={line:b,column:x};return function(se){return se.position=new O(te),Q(),se}}function O(te){this.start=te,this.end={line:b,column:x},this.source=S.source}O.prototype.content=_;function D(te){var se=new Error(S.source+":"+b+":"+x+": "+te);if(se.reason=te,se.filename=S.source,se.line=b,se.column=x,se.source=_,!S.silent)throw se}function F(te){var se=te.exec(_);if(se){var pe=se[0];return A(pe),_=_.slice(pe.length),se}}function Q(){F(n)}function X(te){var se;for(te=te||[];se=U();)se!==!1&&te.push(se);return te}function U(){var te=P();if(!(c!=_.charAt(0)||d!=_.charAt(1))){for(var se=2;h!=_.charAt(se)&&(d!=_.charAt(se)||c!=_.charAt(se+1));)++se;if(se+=2,h===_.charAt(se-1))return D("End of comment missing");var pe=_.slice(2,se-2);return x+=2,A(pe),_=_.slice(se),x+=2,te({type:g,comment:pe})}}function Y(){var te=P(),se=F(r);if(se){if(U(),!F(i))return D("property missing ':'");var pe=F(a),_e=te({type:y,property:v(se[0].replace(e,h)),value:pe?v(pe[0].replace(e,h)):h});return F(o),_e}}function ce(){var te=[];X(te);for(var se;se=Y();)se!==!1&&(te.push(se),X(te));return te}return Q(),ce()};function v(_){return _?_.replace(s,h):h}return RT}var w$;function bxe(){if(w$)return g_.exports;w$=1;var e=wxe();function t(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,o=e(n),s=typeof r=="function",l,c,d=0,h=o.length;d<h;d++)a=o[d],l=a.property,c=a.value,s?r(l,c,a):c&&(i||(i={}),i[l]=c);return i}return g_.exports=t,g_.exports.default=t,g_.exports}var Sxe=bxe();const xxe=Lr(Sxe),IV=MV("end"),oL=MV("start");function MV(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Exe(e){const t=oL(e),n=IV(e);if(t&&n)return{start:t,end:n}}function Rm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?b$(e.position):"start"in e||"end"in e?b$(e):"line"in e||"column"in e?HR(e):""}function HR(e){return S$(e&&e.line)+":"+S$(e&&e.column)}function b$(e){return HR(e&&e.start)+"-"+HR(e&&e.end)}function S$(e){return e&&typeof e=="number"?e:1}class ya extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Rm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ya.prototype.file="";ya.prototype.name="";ya.prototype.reason="";ya.prototype.message="";ya.prototype.stack="";ya.prototype.column=void 0;ya.prototype.line=void 0;ya.prototype.ancestors=void 0;ya.prototype.cause=void 0;ya.prototype.fatal=void 0;ya.prototype.place=void 0;ya.prototype.ruleId=void 0;ya.prototype.source=void 0;const sL={}.hasOwnProperty,Cxe=new Map,Txe=/[A-Z]/g,Axe=/-([a-z])/g,Rxe=new Set(["table","tbody","thead","tfoot","tr"]),Pxe=new Set(["td","th"]);function Oxe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Ixe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Lxe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?LV:vxe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=DV(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function DV(e,t,n){if(t.type==="element"||t.type==="root"){const r=e.schema;let i=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=LV,e.schema=i),e.ancestors.push(t);let a=Mxe(e,t);const o=Dxe(e,e.ancestors);let s=e.Fragment;if(e.ancestors.pop(),t.type==="element")if(a&&Rxe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!sxe(l):!0})),sL.call(e.components,t.tagName)){const l=t.tagName;s=e.components[l],typeof s!="string"&&s!==e.Fragment&&e.passNode&&(o.node=t)}else s=t.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(o.children=l)}return e.schema=r,e.create(t,s,o,n)}if(t.type==="text")return t.value}function Lxe(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function Ixe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=oL(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Mxe(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Cxe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;o=a.tagName+"-"+l,i.set(a.tagName,l+1)}const s=DV(e,a,o);s!==void 0&&n.push(s)}return n}function Dxe(e,t){const n=t[t.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&sL.call(n.properties,i)){const o=kxe(e,t,i,n.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Pxe.has(n.tagName)?a=l:r[s]=l}}if(a){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function kxe(e,t,n,r){const i=pxe(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?axe(r):_xe(r)),i.property==="style"){let a=typeof r=="object"?r:Nxe(e,t,String(r));return e.stylePropertyNameCase==="css"&&(a=Fxe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?yxe[i.property]||i.property:i.attribute,r]}}function Nxe(e,t,n){const r={};try{xxe(n,i)}catch(a){if(!e.ignoreInvalidStyle){const o=a,s=new ya("Cannot parse `style` attribute",{ancestors:t,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=e.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Axe,$xe)),r[s]=o}}function Fxe(e){const t={};let n;for(n in e)sL.call(e,n)&&(t[jxe(n)]=e[n]);return t}function jxe(e){let t=e.replace(Txe,Uxe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function $xe(e,t){return t.toUpperCase()}function Uxe(e){return"-"+e.toLowerCase()}const PT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Bxe={};function qxe(e,t){const n=Bxe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return kV(e,r,i)}function kV(e,t,n){if(zxe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return x$(e.children,t,n)}return Array.isArray(e)?x$(e,t,n):""}function x$(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=kV(e[i],t,n);return r.join("")}function zxe(e){return!!(e&&typeof e=="object")}const E$=document.createElement("i");function uL(e){const t="&"+e+";";E$.innerHTML=t;const n=E$.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Is(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function bo(e,t){return e.length>0?(Is(e,e.length,0,t),e):t}const C$={}.hasOwnProperty;function Hxe(e){const t={};let n=-1;for(;++n<e.length;)Vxe(t,e[n]);return t}function Vxe(e,t){let n;for(n in t){const i=(C$.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){C$.call(i,o)||(i[o]=[]);const s=a[o];Kxe(i[o],Array.isArray(s)?s:s?[s]:[])}}}function Kxe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Is(e,0,0,r)}function NV(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function th(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gxe=oc(new RegExp("\\p{P}","u")),Ss=oc(/[A-Za-z]/),Qa=oc(/[\dA-Za-z]/),Wxe=oc(/[#-'*+\--9=?A-Z^-~]/);function VR(e){return e!==null&&(e<32||e===127)}const KR=oc(/\d/),Qxe=oc(/[\dA-Fa-f]/),FV=oc(/[!-/:-@[-`{-~]/);function fn(e){return e!==null&&e<-2}function Ra(e){return e!==null&&(e<0||e===32)}function Zn(e){return e===-2||e===-1||e===32}function Zxe(e){return FV(e)||Gxe(e)}const Jxe=oc(/\s/);function oc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sp(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Qa(e.charCodeAt(n+1))&&Qa(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Cr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Zn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Zn(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const Yxe={tokenize:Xxe};function Xxe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Cr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return fn(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const eEe={tokenize:tEe},T$={tokenize:nEe};function tEe(e){const t=this,n=[];let r=0,i,a,o;return s;function s(A){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,c)(A)}return c(A)}function l(A){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const P=t.events.length;let O=P,D;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){D=t.events[O][1].end;break}b(r);let F=P;for(;F<t.events.length;)t.events[F][1].end=Object.assign({},D),F++;return Is(t.events,O+1,0,t.events.slice(P)),t.events.length=F,c(A)}return s(A)}function c(A){if(r===n.length){if(!i)return g(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(T$,d,h)(A)}function d(A){return i&&x(),b(r),g(A)}function h(A){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(A)}function g(A){return t.containerState={},e.attempt(T$,y,v)(A)}function y(A){return r++,n.push([t.currentConstruct,t.containerState]),g(A)}function v(A){if(A===null){i&&x(),b(0),e.consume(A);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),_(A)}function _(A){if(A===null){S(e.exit("chunkFlow"),!0),b(0),e.consume(A);return}return fn(A)?(e.consume(A),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(A),_)}function S(A,P){const O=t.sliceStream(A);if(P&&O.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(O),t.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const F=t.events.length;let Q=F,X,U;for(;Q--;)if(t.events[Q][0]==="exit"&&t.events[Q][1].type==="chunkFlow"){if(X){U=t.events[Q][1].end;break}X=!0}for(b(r),D=F;D<t.events.length;)t.events[D][1].end=Object.assign({},U),D++;Is(t.events,Q+1,0,t.events.slice(F)),t.events.length=D}}function b(A){let P=n.length;for(;P-- >A;){const O=n[P];t.containerState=O[1],O[0].exit.call(t,e)}n.length=A}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function nEe(e,t,n){return Cr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function A$(e){if(e===null||Ra(e)||Jxe(e))return 1;if(Zxe(e))return 2}function lL(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const GR={name:"attention",tokenize:iEe,resolveAll:rEe};function rEe(e,t){let n=-1,r,i,a,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),g=Object.assign({},e[n][1].start);R$(h,-l),R$(g,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:g},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=bo(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=bo(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=bo(c,lL(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=bo(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=bo(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Is(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function iEe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=A$(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=A$(l),h=!d||d===2&&i||n.includes(l),g=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?h:h&&(i||!g)),c._close=!!(a===42?g:g&&(d||!h)),t(l)}}function R$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const aEe={name:"autolink",tokenize:oEe};function oEe(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(y){return Ss(y)?(e.consume(y),o):c(y)}function o(y){return y===43||y===45||y===46||Qa(y)?(r=1,s(y)):c(y)}function s(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||Qa(y))&&r++<32?(e.consume(y),s):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||VR(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),d):Wxe(y)?(e.consume(y),c):n(y)}function d(y){return Qa(y)?h(y):n(y)}function h(y){return y===46?(e.consume(y),r=0,d):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||Qa(y))&&r++<63){const v=y===45?g:h;return e.consume(y),v}return n(y)}}const Cb={tokenize:sEe,partial:!0};function sEe(e,t,n){return r;function r(a){return Zn(a)?Cr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||fn(a)?t(a):n(a)}}const jV={name:"blockQuote",tokenize:uEe,continuation:{tokenize:lEe},exit:cEe};function uEe(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Zn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function lEe(e,t,n){const r=this;return i;function i(o){return Zn(o)?Cr(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(jV,t,n)(o)}}function cEe(e){e.exit("blockQuote")}const $V={name:"characterEscape",tokenize:fEe};function fEe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return FV(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const UV={name:"characterReference",tokenize:dEe};function dEe(e,t,n){const r=this;let i=0,a,o;return s;function s(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Qa,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=Qxe,d):(e.enter("characterReferenceValue"),a=7,o=KR,d(h))}function d(h){if(h===59&&i){const g=e.exit("characterReferenceValue");return o===Qa&&!uL(r.sliceSerialize(g))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),d):n(h)}}const P$={tokenize:pEe,partial:!0},O$={name:"codeFenced",tokenize:hEe,concrete:!0};function hEe(e,t,n){const r=this,i={tokenize:O,partial:!0};let a=0,o=0,s;return l;function l(D){return c(D)}function c(D){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,s=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(D)}function d(D){return D===s?(o++,e.consume(D),d):o<3?n(D):(e.exit("codeFencedFenceSequence"),Zn(D)?Cr(e,h,"whitespace")(D):h(D))}function h(D){return D===null||fn(D)?(e.exit("codeFencedFence"),r.interrupt?t(D):e.check(P$,_,P)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(D))}function g(D){return D===null||fn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(D)):Zn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Cr(e,y,"whitespace")(D)):D===96&&D===s?n(D):(e.consume(D),g)}function y(D){return D===null||fn(D)?h(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||fn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(D)):D===96&&D===s?n(D):(e.consume(D),v)}function _(D){return e.attempt(i,P,S)(D)}function S(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),b}function b(D){return a>0&&Zn(D)?Cr(e,x,"linePrefix",a+1)(D):x(D)}function x(D){return D===null||fn(D)?e.check(P$,_,P)(D):(e.enter("codeFlowValue"),A(D))}function A(D){return D===null||fn(D)?(e.exit("codeFlowValue"),x(D)):(e.consume(D),A)}function P(D){return e.exit("codeFenced"),t(D)}function O(D,F,Q){let X=0;return U;function U(pe){return D.enter("lineEnding"),D.consume(pe),D.exit("lineEnding"),Y}function Y(pe){return D.enter("codeFencedFence"),Zn(pe)?Cr(D,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):ce(pe)}function ce(pe){return pe===s?(D.enter("codeFencedFenceSequence"),te(pe)):Q(pe)}function te(pe){return pe===s?(X++,D.consume(pe),te):X>=o?(D.exit("codeFencedFenceSequence"),Zn(pe)?Cr(D,se,"whitespace")(pe):se(pe)):Q(pe)}function se(pe){return pe===null||fn(pe)?(D.exit("codeFencedFence"),F(pe)):Q(pe)}}}function pEe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const OT={name:"codeIndented",tokenize:mEe},gEe={tokenize:yEe,partial:!0};function mEe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Cr(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fn(c)?e.attempt(gEe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||fn(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function yEe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Cr(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):fn(o)?i(o):n(o)}}const vEe={name:"codeText",tokenize:bEe,resolve:_Ee,previous:wEe};function _Ee(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function wEe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function bEe(e,t,n){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),s(h)}function s(h){return h===96?(e.consume(h),r++,s):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,d(h)):fn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||fn(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",c(h))}}function BV(e){const t={};let n=-1,r,i,a,o,s,l,c;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,SEe(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=e[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),s=e.slice(i,n),s.unshift(r),Is(e,i,n-i+1,s))}}return!c}function SEe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],c={};let d,h,g=-1,y=n,v=0,_=0;const S=[_];for(;y;){for(;e[++i][1]!==y;);a.push(i),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(_=g+1,S.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),g=S.length;g--;){const b=s.slice(S[g],S[g+1]),x=a.pop();l.unshift([x,x+b.length-1]),Is(e,x,2,b)}for(g=-1;++g<l.length;)c[v+l[g][0]]=v+l[g][1],v+=l[g][1]-l[g][0]-1;return c}const xEe={tokenize:TEe,resolve:CEe},EEe={tokenize:AEe,partial:!0};function CEe(e){return BV(e),e}function TEe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):fn(s)?e.check(EEe,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function AEe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Cr(e,a,"linePrefix")}function a(o){if(o===null||fn(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function qV(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),g):b===null||b===32||b===41||VR(b)?n(b):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),_(b))}function g(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===62?(e.exit("chunkString"),e.exit(s),g(b)):b===null||b===60||fn(b)?n(b):(e.consume(b),b===92?v:y)}function v(b){return b===60||b===62||b===92?(e.consume(b),y):y(b)}function _(b){return!d&&(b===null||b===41||Ra(b))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(b)):d<c&&b===40?(e.consume(b),d++,_):b===41?(e.consume(b),d--,_):b===null||b===32||b===40||VR(b)?n(b):(e.consume(b),b===92?S:_)}function S(b){return b===40||b===41||b===92?(e.consume(b),_):_(b)}}function zV(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(a),d}function d(y){return s>999||y===null||y===91||y===93&&!l||y===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(a),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):fn(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||fn(y)||s++>999?(e.exit("chunkString"),d(y)):(e.consume(y),l||(l=!Zn(y)),y===92?g:h)}function g(y){return y===91||y===92||y===93?(e.consume(y),s++,h):h(y)}}function HV(e,t,n,r,i,a){let o;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),o=g===40?41:g,l):n(g)}function l(g){return g===o?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(a),c(g))}function c(g){return g===o?(e.exit(a),l(o)):g===null?n(g):fn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Cr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===o||g===null||fn(g)?(e.exit("chunkString"),c(g)):(e.consume(g),g===92?h:d)}function h(g){return g===o||g===92?(e.consume(g),d):d(g)}}function Pm(e,t){let n;return r;function r(i){return fn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Zn(i)?Cr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const REe={name:"definition",tokenize:OEe},PEe={tokenize:LEe,partial:!0};function OEe(e,t,n){const r=this;let i;return a;function a(y){return e.enter("definition"),o(y)}function o(y){return zV.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=th(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Ra(y)?Pm(e,c)(y):c(y)}function c(y){return qV(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return e.attempt(PEe,h,h)(y)}function h(y){return Zn(y)?Cr(e,g,"whitespace")(y):g(y)}function g(y){return y===null||fn(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function LEe(e,t,n){return r;function r(s){return Ra(s)?Pm(e,i)(s):n(s)}function i(s){return HV(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Zn(s)?Cr(e,o,"whitespace")(s):o(s)}function o(s){return s===null||fn(s)?t(s):n(s)}}const IEe={name:"hardBreakEscape",tokenize:MEe};function MEe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return fn(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const DEe={name:"headingAtx",tokenize:NEe,resolve:kEe};function kEe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Is(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function NEe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Ra(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||fn(d)?(e.exit("atxHeading"),t(d)):Zn(d)?Cr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Ra(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const FEe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],L$=["pre","script","style","textarea"],jEe={name:"htmlFlow",tokenize:qEe,resolveTo:BEe,concrete:!0},$Ee={tokenize:HEe,partial:!0},UEe={tokenize:zEe,partial:!0};function BEe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function qEe(e,t,n){const r=this;let i,a,o,s,l;return c;function c(K){return d(K)}function d(K){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(K),h}function h(K){return K===33?(e.consume(K),g):K===47?(e.consume(K),a=!0,_):K===63?(e.consume(K),i=3,r.interrupt?t:k):Ss(K)?(e.consume(K),o=String.fromCharCode(K),S):n(K)}function g(K){return K===45?(e.consume(K),i=2,y):K===91?(e.consume(K),i=5,s=0,v):Ss(K)?(e.consume(K),i=4,r.interrupt?t:k):n(K)}function y(K){return K===45?(e.consume(K),r.interrupt?t:k):n(K)}function v(K){const ee="CDATA[";return K===ee.charCodeAt(s++)?(e.consume(K),s===ee.length?r.interrupt?t:ce:v):n(K)}function _(K){return Ss(K)?(e.consume(K),o=String.fromCharCode(K),S):n(K)}function S(K){if(K===null||K===47||K===62||Ra(K)){const ee=K===47,ge=o.toLowerCase();return!ee&&!a&&L$.includes(ge)?(i=1,r.interrupt?t(K):ce(K)):FEe.includes(o.toLowerCase())?(i=6,ee?(e.consume(K),b):r.interrupt?t(K):ce(K)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(K):a?x(K):A(K))}return K===45||Qa(K)?(e.consume(K),o+=String.fromCharCode(K),S):n(K)}function b(K){return K===62?(e.consume(K),r.interrupt?t:ce):n(K)}function x(K){return Zn(K)?(e.consume(K),x):U(K)}function A(K){return K===47?(e.consume(K),U):K===58||K===95||Ss(K)?(e.consume(K),P):Zn(K)?(e.consume(K),A):U(K)}function P(K){return K===45||K===46||K===58||K===95||Qa(K)?(e.consume(K),P):O(K)}function O(K){return K===61?(e.consume(K),D):Zn(K)?(e.consume(K),O):A(K)}function D(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(e.consume(K),l=K,F):Zn(K)?(e.consume(K),D):Q(K)}function F(K){return K===l?(e.consume(K),l=null,X):K===null||fn(K)?n(K):(e.consume(K),F)}function Q(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||Ra(K)?O(K):(e.consume(K),Q)}function X(K){return K===47||K===62||Zn(K)?A(K):n(K)}function U(K){return K===62?(e.consume(K),Y):n(K)}function Y(K){return K===null||fn(K)?ce(K):Zn(K)?(e.consume(K),Y):n(K)}function ce(K){return K===45&&i===2?(e.consume(K),_e):K===60&&i===1?(e.consume(K),de):K===62&&i===4?(e.consume(K),ie):K===63&&i===3?(e.consume(K),k):K===93&&i===5?(e.consume(K),Re):fn(K)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check($Ee,me,te)(K)):K===null||fn(K)?(e.exit("htmlFlowData"),te(K)):(e.consume(K),ce)}function te(K){return e.check(UEe,se,me)(K)}function se(K){return e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),pe}function pe(K){return K===null||fn(K)?te(K):(e.enter("htmlFlowData"),ce(K))}function _e(K){return K===45?(e.consume(K),k):ce(K)}function de(K){return K===47?(e.consume(K),o="",ue):ce(K)}function ue(K){if(K===62){const ee=o.toLowerCase();return L$.includes(ee)?(e.consume(K),ie):ce(K)}return Ss(K)&&o.length<8?(e.consume(K),o+=String.fromCharCode(K),ue):ce(K)}function Re(K){return K===93?(e.consume(K),k):ce(K)}function k(K){return K===62?(e.consume(K),ie):K===45&&i===2?(e.consume(K),k):ce(K)}function ie(K){return K===null||fn(K)?(e.exit("htmlFlowData"),me(K)):(e.consume(K),ie)}function me(K){return e.exit("htmlFlow"),t(K)}}function zEe(e,t,n){const r=this;return i;function i(o){return fn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function HEe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Cb,t,n)}}const VEe={name:"htmlText",tokenize:KEe};function KEe(e,t,n){const r=this;let i,a,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),O):k===63?(e.consume(k),A):Ss(k)?(e.consume(k),Q):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),a=0,v):Ss(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),y):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),g):fn(k)?(o=h,de(k)):(e.consume(k),h)}function g(k){return k===45?(e.consume(k),y):h(k)}function y(k){return k===62?_e(k):k===45?g(k):h(k)}function v(k){const ie="CDATA[";return k===ie.charCodeAt(a++)?(e.consume(k),a===ie.length?_:v):n(k)}function _(k){return k===null?n(k):k===93?(e.consume(k),S):fn(k)?(o=_,de(k)):(e.consume(k),_)}function S(k){return k===93?(e.consume(k),b):_(k)}function b(k){return k===62?_e(k):k===93?(e.consume(k),b):_(k)}function x(k){return k===null||k===62?_e(k):fn(k)?(o=x,de(k)):(e.consume(k),x)}function A(k){return k===null?n(k):k===63?(e.consume(k),P):fn(k)?(o=A,de(k)):(e.consume(k),A)}function P(k){return k===62?_e(k):A(k)}function O(k){return Ss(k)?(e.consume(k),D):n(k)}function D(k){return k===45||Qa(k)?(e.consume(k),D):F(k)}function F(k){return fn(k)?(o=F,de(k)):Zn(k)?(e.consume(k),F):_e(k)}function Q(k){return k===45||Qa(k)?(e.consume(k),Q):k===47||k===62||Ra(k)?X(k):n(k)}function X(k){return k===47?(e.consume(k),_e):k===58||k===95||Ss(k)?(e.consume(k),U):fn(k)?(o=X,de(k)):Zn(k)?(e.consume(k),X):_e(k)}function U(k){return k===45||k===46||k===58||k===95||Qa(k)?(e.consume(k),U):Y(k)}function Y(k){return k===61?(e.consume(k),ce):fn(k)?(o=Y,de(k)):Zn(k)?(e.consume(k),Y):X(k)}function ce(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,te):fn(k)?(o=ce,de(k)):Zn(k)?(e.consume(k),ce):(e.consume(k),se)}function te(k){return k===i?(e.consume(k),i=void 0,pe):k===null?n(k):fn(k)?(o=te,de(k)):(e.consume(k),te)}function se(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ra(k)?X(k):(e.consume(k),se)}function pe(k){return k===47||k===62||Ra(k)?X(k):n(k)}function _e(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function de(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ue}function ue(k){return Zn(k)?Cr(e,Re,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Re(k)}function Re(k){return e.enter("htmlTextData"),o(k)}}const cL={name:"labelEnd",tokenize:YEe,resolveTo:JEe,resolveAll:ZEe},GEe={tokenize:XEe},WEe={tokenize:e2e},QEe={tokenize:t2e};function ZEe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function JEe(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",c,t]],s=bo(s,e.slice(a+1,a+r+3)),s=bo(s,[["enter",d,t]]),s=bo(s,lL(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=bo(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=bo(s,e.slice(o+1)),s=bo(s,[["exit",l,t]]),Is(e,a,e.length,s),e}function YEe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(g){return a?a._inactive?h(g):(o=r.parser.defined.includes(th(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(GEe,d,o?d:h)(g):g===91?e.attempt(WEe,d,o?c:h)(g):o?d(g):h(g)}function c(g){return e.attempt(QEe,d,h)(g)}function d(g){return t(g)}function h(g){return a._balanced=!0,n(g)}}function XEe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Ra(h)?Pm(e,a)(h):a(h)}function a(h){return h===41?d(h):qV(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Ra(h)?Pm(e,l)(h):d(h)}function s(h){return n(h)}function l(h){return h===34||h===39||h===40?HV(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Ra(h)?Pm(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function e2e(e,t,n){const r=this;return i;function i(s){return zV.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(th(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function t2e(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const n2e={name:"labelStartImage",tokenize:r2e,resolveAll:cL.resolveAll};function r2e(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const i2e={name:"labelStartLink",tokenize:a2e,resolveAll:cL.resolveAll};function a2e(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const LT={name:"lineEnding",tokenize:o2e};function o2e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Cr(e,t,"linePrefix")}}const M0={name:"thematicBreak",tokenize:s2e};function s2e(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fn(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Zn(c)?Cr(e,s,"whitespace")(c):s(c))}}const xa={name:"list",tokenize:c2e,continuation:{tokenize:f2e},exit:h2e},u2e={tokenize:p2e,partial:!0},l2e={tokenize:d2e,partial:!0};function c2e(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:KR(y)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(M0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return KR(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Cb,r.interrupt?n:d,e.attempt(u2e,g,h))}function d(y){return r.containerState.initialBlankLine=!0,a++,g(y)}function h(y){return Zn(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function f2e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cb,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Cr(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Zn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(l2e,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Cr(e,e.attempt(xa,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function d2e(e,t,n){const r=this;return Cr(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function h2e(e){e.exit(this.containerState.type)}function p2e(e,t,n){const r=this;return Cr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Zn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const I$={name:"setextUnderline",tokenize:m2e,resolveTo:g2e};function g2e(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function m2e(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Zn(c)?Cr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fn(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const y2e={tokenize:v2e};function v2e(e){const t=this,n=e.attempt(Cb,r,e.attempt(this.parser.constructs.flowInitial,i,Cr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(xEe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const _2e={resolveAll:KV()},w2e=VV("string"),b2e=VV("text");function VV(e){return{tokenize:t,resolveAll:KV(e==="text"?S2e:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let g=-1;if(h)for(;++g<h.length;){const y=h[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function KV(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function S2e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function x2e(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const l={consume:x,enter:A,exit:P,attempt:F(O),check:F(D),interrupt:F(D,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:y,sliceSerialize:g,now:v,defineSkip:_,write:h};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function h(Y){return o=bo(o,Y),S(),o[o.length-1]!==null?[]:(Q(t,0),c.events=lL(a,c.events,c),c.events)}function g(Y,ce){return C2e(y(Y),ce)}function y(Y){return E2e(o,Y)}function v(){const{line:Y,column:ce,offset:te,_index:se,_bufferIndex:pe}=r;return{line:Y,column:ce,offset:te,_index:se,_bufferIndex:pe}}function _(Y){i[Y.line]=Y.column,U()}function S(){let Y;for(;r._index<o.length;){const ce=o[r._index];if(typeof ce=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<ce.length;)b(ce.charCodeAt(r._bufferIndex));else b(ce)}}function b(Y){d=d(Y)}function x(Y){fn(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,U()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=Y}function A(Y,ce){const te=ce||{};return te.type=Y,te.start=v(),c.events.push(["enter",te,c]),s.push(te),te}function P(Y){const ce=s.pop();return ce.end=v(),c.events.push(["exit",ce,c]),ce}function O(Y,ce){Q(Y,ce.from)}function D(Y,ce){ce.restore()}function F(Y,ce){return te;function te(se,pe,_e){let de,ue,Re,k;return Array.isArray(se)?me(se):"tokenize"in se?me([se]):ie(se);function ie(Ae){return Ze;function Ze(Pe){const Ne=Pe!==null&&Ae[Pe],Ye=Pe!==null&&Ae.null,oe=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Ye)?Ye:Ye?[Ye]:[]];return me(oe)(Pe)}}function me(Ae){return de=Ae,ue=0,Ae.length===0?_e:K(Ae[ue])}function K(Ae){return Ze;function Ze(Pe){return k=X(),Re=Ae,Ae.partial||(c.currentConstruct=Ae),Ae.name&&c.parser.constructs.disable.null.includes(Ae.name)?ge():Ae.tokenize.call(ce?Object.assign(Object.create(c),ce):c,l,ee,ge)(Pe)}}function ee(Ae){return Y(Re,k),pe}function ge(Ae){return k.restore(),++ue<de.length?K(de[ue]):_e}}}function Q(Y,ce){Y.resolveAll&&!a.includes(Y)&&a.push(Y),Y.resolve&&Is(c.events,ce,c.events.length-ce,Y.resolve(c.events.slice(ce),c)),Y.resolveTo&&(c.events=Y.resolveTo(c.events,c))}function X(){const Y=v(),ce=c.previous,te=c.currentConstruct,se=c.events.length,pe=Array.from(s);return{restore:_e,from:se};function _e(){r=Y,c.previous=ce,c.currentConstruct=te,c.events.length=se,s=pe,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function E2e(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function C2e(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const T2e={42:xa,43:xa,45:xa,48:xa,49:xa,50:xa,51:xa,52:xa,53:xa,54:xa,55:xa,56:xa,57:xa,62:jV},A2e={91:REe},R2e={[-2]:OT,[-1]:OT,32:OT},P2e={35:DEe,42:M0,45:[I$,M0],60:jEe,61:I$,95:M0,96:O$,126:O$},O2e={38:UV,92:$V},L2e={[-5]:LT,[-4]:LT,[-3]:LT,33:n2e,38:UV,42:GR,60:[aEe,VEe],91:i2e,92:[IEe,$V],93:cL,95:GR,96:vEe},I2e={null:[GR,_2e]},M2e={null:[42,95]},D2e={null:[]},k2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:M2e,contentInitial:A2e,disable:D2e,document:T2e,flow:P2e,flowInitial:R2e,insideSpan:I2e,string:O2e,text:L2e},Symbol.toStringTag,{value:"Module"}));function N2e(e){const n=Hxe([k2e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(Yxe),document:i(eEe),flow:i(y2e),string:i(w2e),text:i(b2e)};return r;function i(a){return o;function o(s){return x2e(r,a,s)}}}function F2e(e){for(;!BV(e););return e}const M$=/[\0\t\n\r]/g;function j2e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,d,h,g,y;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(M$.lastIndex=h,c=M$.exec(a),g=c&&c.index!==void 0?c.index:a.length,y=a.charCodeAt(g),!c){t=a.slice(h);break}if(y===10&&h===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<g&&(l.push(a.slice(h,g)),e+=g-h),y){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=g+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const $2e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function U2e(e){return e.replace($2e,B2e)}function B2e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return NV(n.slice(a?2:1),a?16:10)}return uL(n)||e}const GV={}.hasOwnProperty;function q2e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),z2e(n)(F2e(N2e(n).document().write(j2e()(e,t,!0))))}function z2e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:X,autolinkEmail:X,atxHeading:a(ae),blockQuote:a(Ne),characterEscape:X,characterReference:X,codeFenced:a(Ye),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Ye,o),codeText:a(oe,o),codeTextData:X,data:X,codeFlowValue:X,definition:a(H),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a($),hardBreakEscape:a(Z),hardBreakTrailing:a(Z),htmlFlow:a(he,o),htmlFlowData:X,htmlText:a(he,o),htmlTextData:X,image:a(ye),label:o,link:a(He),listItem:a(Fe),listItemValue:g,listOrdered:a(Ee,h),listUnordered:a(Ee),paragraph:a(tt),reference:K,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(nt),thematicBreak:a(qt)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Pe,autolinkProtocol:Ze,blockQuote:l(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:Ae,codeFenced:l(S),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:U,codeIndented:l(b),codeText:l(pe),codeTextData:U,data:U,definition:l(),definitionDestinationString:P,definitionLabelString:x,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(ce),hardBreakTrailing:l(ce),htmlFlow:l(te),htmlFlowData:U,htmlText:l(se),htmlTextData:U,image:l(de),label:Re,labelText:ue,lineEnding:Y,link:l(_e),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:k,resourceTitleString:ie,resource:me,setextHeading:l(Q),setextHeadingLineSequence:F,setextHeadingText:D,strong:l(),thematicBreak:l()}};WV(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const ne={stack:[Be],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},z=[];let W=-1;for(;++W<Se.length;)if(Se[W][1].type==="listOrdered"||Se[W][1].type==="listUnordered")if(Se[W][0]==="enter")z.push(W);else{const G=z.pop();W=i(Se,G,W)}for(W=-1;++W<Se.length;){const G=t[Se[W][0]];GV.call(G,Se[W][1].type)&&G[Se[W][1].type].call(Object.assign({sliceSerialize:Se[W][2].sliceSerialize},ne),Se[W][1])}if(ne.tokenStack.length>0){const G=ne.tokenStack[ne.tokenStack.length-1];(G[1]||D$).call(ne,void 0,G[0])}for(Be.position={start:wl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:wl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<t.transforms.length;)Be=t.transforms[W](Be)||Be;return Be}function i(Se,Be,ne){let z=Be-1,W=-1,G=!1,je,Je,ke,Rt;for(;++z<=ne;){const It=Se[z];switch(It[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{It[0]==="enter"?W++:W--,Rt=void 0;break}case"lineEndingBlank":{It[0]==="enter"&&(je&&!Rt&&!W&&!ke&&(ke=z),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!W&&It[0]==="enter"&&It[1].type==="listItemPrefix"||W===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(je){let Nt=z;for(Je=void 0;Nt--;){const Ot=Se[Nt];if(Ot[1].type==="lineEnding"||Ot[1].type==="lineEndingBlank"){if(Ot[0]==="exit")continue;Je&&(Se[Je][1].type="lineEndingBlank",G=!0),Ot[1].type="lineEnding",Je=Nt}else if(!(Ot[1].type==="linePrefix"||Ot[1].type==="blockQuotePrefix"||Ot[1].type==="blockQuotePrefixWhitespace"||Ot[1].type==="blockQuoteMarker"||Ot[1].type==="listItemIndent"))break}ke&&(!Je||ke<Je)&&(je._spread=!0),je.end=Object.assign({},Je?Se[Je][1].start:It[1].end),Se.splice(Je||z,0,["exit",je,It[2]]),z++,ne++}if(It[1].type==="listItemPrefix"){const Nt={type:"listItem",_spread:!1,start:Object.assign({},It[1].start),end:void 0};je=Nt,Se.splice(z,0,["enter",Nt,It[2]]),z++,ne++,ke=void 0,Rt=!0}}}return Se[Be][1]._spread=G,ne}function a(Se,Be){return ne;function ne(z){s.call(this,Se(z),z),Be&&Be.call(this,z)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Se,Be,ne){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,ne]),Se.position={start:wl(Be.start),end:void 0}}function l(Se){return Be;function Be(ne){Se&&Se.call(this,ne),c.call(this,ne)}}function c(Se,Be){const ne=this.stack.pop(),z=this.tokenStack.pop();if(z)z[0].type!==Se.type&&(Be?Be.call(this,Se,z[0]):(z[1]||D$).call(this,Se,z[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Rm({start:Se.start,end:Se.end})+"): it’s not open");ne.position.end=wl(Se.end)}function d(){return qxe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function g(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function v(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function x(Se){const Be=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Be,ne.identifier=th(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function P(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function O(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const ne=this.sliceSerialize(Se).length;Be.depth=ne}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function X(Se){const ne=this.stack[this.stack.length-1].children;let z=ne[ne.length-1];(!z||z.type!=="text")&&(z=gt(),z.position={start:wl(Se.start),end:void 0},ne.push(z)),this.stack.push(z)}function U(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=wl(Se.end)}function Y(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=Be.children[Be.children.length-1];ne.position.end=wl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Be.type)&&(X.call(this,Se),U.call(this,Se))}function ce(){this.data.atHardBreak=!0}function te(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function se(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function pe(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function _e(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function de(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ue(Se){const Be=this.sliceSerialize(Se),ne=this.stack[this.stack.length-2];ne.label=U2e(Be),ne.identifier=th(Be).toLowerCase()}function Re(){const Se=this.stack[this.stack.length-1],Be=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const z=Se.children;ne.children=z}else ne.alt=Be}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function ie(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function me(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function ee(Se){const Be=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Be,ne.identifier=th(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function ge(Se){this.data.characterReferenceType=Se.type}function Ae(Se){const Be=this.sliceSerialize(Se),ne=this.data.characterReferenceType;let z;ne?(z=NV(Be,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):z=uL(Be);const W=this.stack.pop();W.value+=z,W.position.end=wl(Se.end)}function Ze(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Pe(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Ne(){return{type:"blockquote",children:[]}}function Ye(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function he(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Ee(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Fe(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function wl(e){return{line:e.line,column:e.column,offset:e.offset}}function WV(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?WV(e,r):H2e(e,r)}}function H2e(e,t){let n;for(n in t)if(GV.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function D$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Rm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Rm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Rm({start:t.start,end:t.end})+") is still open")}function V2e(e){const t=this;t.parser=n;function n(r){return q2e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function K2e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function G2e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function W2e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Q2e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Z2e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function J2e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sp(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function Y2e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function X2e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function QV(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function eCe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return QV(e,t);const i={src:sp(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function tCe(e,t){const n={src:sp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function nCe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function rCe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return QV(e,t);const i={href:sp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function iCe(e,t){const n={href:sp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function aCe(e,t,n){const r=e.all(t),i=n?oCe(n):ZV(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function oCe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=ZV(n[r])}return t}function ZV(e){const t=e.spread;return t??e.children.length>1}function sCe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function uCe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lCe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function cCe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function fCe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=oL(t.children[1]),l=IV(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function dCe(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const h=t.children[l],g={},y=o?o[l]:void 0;y&&(g.align=y);let v={type:"element",tagName:a,properties:g,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function hCe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const k$=9,N$=32;function pCe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(F$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(F$(t.slice(i),i>0,!1)),a.join("")}function F$(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===k$||a===N$;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===k$||a===N$;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function gCe(e,t){const n={type:"text",value:pCe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function mCe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const yCe={blockquote:K2e,break:G2e,code:W2e,delete:Q2e,emphasis:Z2e,footnoteReference:J2e,heading:Y2e,html:X2e,imageReference:eCe,image:tCe,inlineCode:nCe,linkReference:rCe,link:iCe,listItem:aCe,list:sCe,paragraph:uCe,root:lCe,strong:cCe,table:fCe,tableCell:hCe,tableRow:dCe,text:gCe,thematicBreak:mCe,toml:m_,yaml:m_,definition:m_,footnoteDefinition:m_};function m_(){}const JV=-1,Tb=0,yw=1,vw=2,fL=3,dL=4,hL=5,pL=6,YV=7,XV=8,j$=typeof self=="object"?self:globalThis,vCe=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Tb:case JV:return n(o,i);case yw:{const s=n([],i);for(const l of o)s.push(r(l));return s}case vw:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case fL:return n(new Date(o),i);case dL:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case hL:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case pL:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case YV:{const{name:s,message:l}=o;return n(new j$[s](l),i)}case XV:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new j$[a](o),i)};return r},$$=e=>vCe(new Map,e)(0),kd="",{toString:_Ce}={},{keys:wCe}=Object,Xg=e=>{const t=typeof e;if(t!=="object"||!e)return[Tb,t];const n=_Ce.call(e).slice(8,-1);switch(n){case"Array":return[yw,kd];case"Object":return[vw,kd];case"Date":return[fL,kd];case"RegExp":return[dL,kd];case"Map":return[hL,kd];case"Set":return[pL,kd]}return n.includes("Array")?[yw,n]:n.includes("Error")?[YV,n]:[vw,n]},y_=([e,t])=>e===Tb&&(t==="function"||t==="symbol"),bCe=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=Xg(o);switch(s){case Tb:{let d=o;switch(l){case"bigint":s=XV,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([JV],o)}return i([s,d],o)}case yw:{if(l)return i([l,[...o]],o);const d=[],h=i([s,d],o);for(const g of o)d.push(a(g));return h}case vw:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],h=i([s,d],o);for(const g of wCe(o))(e||!y_(Xg(o[g])))&&d.push([a(g),a(o[g])]);return h}case fL:return i([s,o.toISOString()],o);case dL:{const{source:d,flags:h}=o;return i([s,{source:d,flags:h}],o)}case hL:{const d=[],h=i([s,d],o);for(const[g,y]of o)(e||!(y_(Xg(g))||y_(Xg(y))))&&d.push([a(g),a(y)]);return h}case pL:{const d=[],h=i([s,d],o);for(const g of o)(e||!y_(Xg(g)))&&d.push(a(g));return h}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},U$=(e,{json:t,lossy:n}={})=>{const r=[];return bCe(!(t||n),!!t,new Map,r)(e),r},_w=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?$$(U$(e,t)):structuredClone(e):(e,t)=>$$(U$(e,t));function SCe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function xCe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ECe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||SCe,r=e.options.footnoteBackLabel||xCe,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),g=sp(h.toLowerCase());let y=0;const v=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++y<=_;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,y);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const S=d[d.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const x=S.children[S.children.length-1];x&&x.type==="text"?x.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...v)}else d.push(...v);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(c,b),s.push(b)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{..._w(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const eK=function(e){if(e==null)return RCe;if(typeof e=="function")return Ab(e);if(typeof e=="object")return Array.isArray(e)?CCe(e):TCe(e);if(typeof e=="string")return ACe(e);throw new Error("Expected function, string, or object as test")};function CCe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=eK(e[n]);return Ab(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function TCe(e){const t=e;return Ab(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function ACe(e){return Ab(t);function t(n){return n&&n.type===e}}function Ab(e){return t;function t(n,r,i){return!!(PCe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function RCe(){return!0}function PCe(e){return e!==null&&typeof e=="object"&&"type"in e}const tK=[],OCe=!0,B$=!1,LCe="skip";function ICe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=eK(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=tK,v,_,S;if((!t||a(l,c,d[d.length-1]||void 0))&&(y=MCe(n(l,d)),y[0]===B$))return y;if("children"in l&&l.children){const b=l;if(b.children&&y[0]!==LCe)for(_=(r?b.children.length:-1)+o,S=d.concat(b);_>-1&&_<b.children.length;){const x=b.children[_];if(v=s(x,_,S)(),v[0]===B$)return v;_=typeof v[1]=="number"?v[1]:_+o}}return y}}}function MCe(e){return Array.isArray(e)?e:typeof e=="number"?[OCe,e]:e==null?tK:[e]}function nK(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),ICe(e,a,s,i);function s(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const WR={}.hasOwnProperty,DCe={};function kCe(e,t){const n=t||DCe,r=new Map,i=new Map,a=new Map,o={...yCe,...n.handlers},s={all:c,applyData:FCe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:NCe,wrap:$Ce};return nK(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();h.has(g)||h.set(g,d)}}),s;function l(d,h){const g=d.type,y=s.handlers[g];if(WR.call(s.handlers,g)&&y)return y(s,d,h);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in d){const{children:_,...S}=d,b=_w(S);return b.children=s.all(d),b}return _w(d)}return(s.options.unknownHandler||jCe)(s,d,h)}function c(d){const h=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const v=s.one(g[y],d);if(v){if(y&&g[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=q$(v.value)),!Array.isArray(v)&&v.type==="element")){const _=v.children[0];_&&_.type==="text"&&(_.value=q$(_.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function NCe(e,t){e.position&&(t.position=Exe(e))}function FCe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,_w(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function jCe(e,t){const n=t.data||{},r="value"in t&&!(WR.call(n,"hProperties")||WR.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function $Ce(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function q$(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function z$(e,t){const n=kCe(e,t),r=n.one(e,void 0),i=ECe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function UCe(e,t){return e&&"run"in e?async function(n,r){const i=z$(n,t);await e.run(i,r)}:function(n){return z$(n,t||e)}}function H$(e){if(e)throw e}var IT,V$;function BCe(){if(V$)return IT;V$=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!h)return!1;var g;for(g in c);return typeof g>"u"||e.call(c,g)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return IT=function l(){var c,d,h,g,y,v,_=arguments[0],S=1,b=arguments.length,x=!1;for(typeof _=="boolean"&&(x=_,_=arguments[1]||{},S=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});S<b;++S)if(c=arguments[S],c!=null)for(d in c)h=s(_,d),g=s(c,d),_!==g&&(x&&g&&(a(g)||(y=i(g)))?(y?(y=!1,v=h&&i(h)?h:[]):v=h&&a(h)?h:{},o(_,{name:d,newValue:l(x,v,g)})):typeof g<"u"&&o(_,{name:d,newValue:g}));return _},IT}var qCe=BCe();const MT=Lr(qCe);function QR(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zCe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?HCe(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function HCe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const ps={basename:VCe,dirname:KCe,extname:GCe,join:WCe,sep:"/"};function VCe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Cy(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function KCe(e){if(Cy(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function GCe(e){Cy(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function WCe(...e){let t=-1,n;for(;++t<e.length;)Cy(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":QCe(n)}function QCe(e){Cy(e);const t=e.codePointAt(0)===47;let n=ZCe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function ZCe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Cy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const JCe={cwd:YCe};function YCe(){return"/"}function ZR(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function XCe(e){if(typeof e=="string")e=new URL(e);else if(!ZR(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return eTe(e)}function eTe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const DT=["history","path","basename","stem","extname","dirname"];class rK{constructor(t){let n;t?ZR(t)?n={path:t}:typeof t=="string"||tTe(t)?n={value:t}:n=t:n={},this.cwd=JCe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<DT.length;){const a=DT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)DT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ps.basename(this.path):void 0}set basename(t){NT(t,"basename"),kT(t,"basename"),this.path=ps.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ps.dirname(this.path):void 0}set dirname(t){K$(this.basename,"dirname"),this.path=ps.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ps.extname(this.path):void 0}set extname(t){if(kT(t,"extname"),K$(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ps.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ZR(t)&&(t=XCe(t)),NT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ps.basename(this.path,this.extname):void 0}set stem(t){NT(t,"stem"),kT(t,"stem"),this.path=ps.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new ya(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function kT(e,t){if(e&&e.includes(ps.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ps.sep+"`")}function NT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function K$(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function tTe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const nTe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(a,s,l)}return a},rTe={}.hasOwnProperty;class gL extends nTe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zCe()}copy(){const t=new gL;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(MT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?($T("data",this.frozen),this.namespace[t]=n,this):rTe.call(this.namespace,t)&&this.namespace[t]||void 0:t?($T("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=v_(t),r=this.parser||this.Parser;return FT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),FT("process",this.parser||this.Parser),jT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=v_(t),l=r.parse(s);r.run(l,s,function(d,h,g){if(d||!h||!g)return c(d);const y=h,v=r.stringify(y,g);oTe(v)?g.value=v:g.result=v,c(d,g)});function c(d,h){d||!h?o(d):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),FT("processSync",this.parser||this.Parser),jT("processSync",this.compiler||this.Compiler),this.process(t,i),W$("processSync","process",n),r;function i(a,o){n=!0,H$(a),r=o}}run(t,n,r){G$(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=v_(n);i.run(t,l,c);function c(d,h,g){const y=h||t;d?s(d):o?o(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),W$("runSync","run",r),i;function a(o,s){H$(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=v_(n),i=this.compiler||this.Compiler;return jT("stringify",i),G$(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if($T("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=MT(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,g=-1;for(;++h<r.length;)if(r[h][0]===c){g=h;break}if(g===-1)r.push([c,...d]);else if(d.length>0){let[y,...v]=d;const _=r[g][1];QR(_)&&QR(y)&&(y=MT(!0,_,y)),r[g]=[c,y,...v]}}}}const iTe=new gL().freeze();function FT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function jT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function $T(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function G$(e){if(!QR(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function W$(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function v_(e){return aTe(e)?e:new rK(e)}function aTe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function oTe(e){return typeof e=="string"||sTe(e)}function sTe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const uTe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Q$=[],Z$={allowDangerousHtml:!0},lTe=/^(https?|ircs?|mailto|xmpp)$/i,cTe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function fTe(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,o=e.disallowedElements,s=e.rehypePlugins||Q$,l=e.remarkPlugins||Q$,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Z$}:Z$,d=e.skipHtml,h=e.unwrapDisallowed,g=e.urlTransform||dTe,y=iTe().use(V2e).use(l).use(UCe,c).use(s),v=new rK;typeof r=="string"&&(v.value=r);for(const x of cTe)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+uTe+x.id,void 0);const _=y.parse(v);let S=y.runSync(_,v);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),nK(S,b),Oxe(S,{Fragment:B.Fragment,components:a,ignoreInvalidStyle:!0,jsx:B.jsx,jsxs:B.jsxs,passKeys:!0,passNode:!0});function b(x,A,P){if(x.type==="raw"&&P&&typeof A=="number")return d?P.children.splice(A,1):P.children[A]={type:"text",value:x.value},A;if(x.type==="element"){let O;for(O in PT)if(Object.hasOwn(PT,O)&&Object.hasOwn(x.properties,O)){const D=x.properties[O],F=PT[O];(F===null||F.includes(x.tagName))&&(x.properties[O]=g(String(D||""),O,x))}}if(x.type==="element"){let O=t?!t.includes(x.tagName):o?o.includes(x.tagName):!1;if(!O&&n&&typeof A=="number"&&(O=!n(x,A,P)),O&&P&&typeof A=="number")return h&&x.children?P.children.splice(A,1,...x.children):P.children.splice(A,1),A}}}function dTe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||lTe.test(e.slice(0,t))?e:""}const hTe="_text_e0nft_1",pTe={text:hTe},gTe=`# About

WIP`,mTe=()=>B.jsx(fTe,{className:pTe.text,children:gTe}),yTe=()=>{const e=Fr($h),t=Fh();V.useEffect(()=>{if(e.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(e.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&t(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[e.isLoggedIn,t])},vTe="_spin_pafwh_9",_Te={spin:vTe},iK=({className:e,...t})=>B.jsx(qge,{className:Tr(_Te.spin,e),...t}),Gm=(e,t)=>{const n=Hve(e,t),r=aK(e,t);return V.useMemo(()=>({isMember:n,...r}),[r,n])},aK=(e,t)=>{const{isLoading:n,variables:r,store:i}=ma({query:Mve,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:rr}),a=r.publicTypeIndex??[],o=r.privateTypeIndex??[],s=r.inbox??[],l=r.hospexDocumentForCommunity??[],c=V.useMemo(()=>(r.hospexDocument??[]).map(v=>{var b;const _=i.getObjects(e,Eh.member_of,v).map(({value:x})=>{var A;return{uri:x,name:((A=i.getObjects(x,Eh.name,null)[0])==null?void 0:A.value)??""}}),S=i.getObjects(e,ic.storage,v);return{hospexDocument:v,communities:_,storage:(b=S[0])==null?void 0:b.value}}),[i,e,r]),d=l.length>0?!0:n?void 0:!1,h=a.length>0?!0:n?void 0:!1,g=o.length>0?!0:n?void 0:!1,y=s.length>0?!0:n?void 0:!1;return{isHospexProfile:d,isPublicTypeIndex:h,isPrivateTypeIndex:g,isInbox:y,personalHospexDocuments:l,publicTypeIndexes:a,privateTypeIndexes:o,inboxes:s,allHospex:c}},wTe=(e,t)=>{const n=V.useCallback(async()=>{if(!t)return"mailer not set up";const o=await rr(`${t}/status`);if(!o.ok)throw new Error("Network response was not ok");return o.json()},[t]),{isLoading:r,data:i}=ly({queryKey:[Kr.mailerIntegration],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const a=i.integrations.filter(o=>o.object===e);return a.length===0?!1:a.some(o=>o.verified)?!0:"unverified"},bTe=async(e,t)=>{if(!t)return"mailer not set up";const n=await rr(`${t}/status/${encodeURIComponent(e)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},oK=(e,t)=>ly({queryKey:[Kr.simpleMailerIntegration],queryFn:()=>bTe(e,t)}),STe=(e,t)=>{const{isLoading:n,data:r}=oK(e,t);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var UT,J$;function xTe(){if(J$)return UT;J$=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return UT=e,UT}var BT,Y$;function ETe(){if(Y$)return BT;Y$=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return BT=e,BT}var qT,X$;function CTe(){if(X$)return qT;X$=1;var e=ub(),t=ETe();function n(r,i){return i.length<2?r:e(r,t(i,0,-1))}return qT=n,qT}var zT,e5;function TTe(){if(e5)return zT;e5=1;var e=Zh(),t=xTe(),n=CTe(),r=Jh();function i(a,o){return o=e(o,a),a=n(a,o),a==null||delete a[r(t(o))]}return zT=i,zT}var HT,t5;function ATe(){if(t5)return HT;t5=1;var e=yH();function t(n){return e(n)?void 0:n}return HT=t,HT}var VT,n5;function RTe(){if(n5)return VT;n5=1;var e=Wh(),t=tb(),n=es(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return VT=i,VT}var KT,r5;function PTe(){if(r5)return KT;r5=1;var e=sO(),t=RTe();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=t),s||(s=[]);++l<c;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,o,s):e(s,d):o||(s[s.length]=d)}return s}return KT=n,KT}var GT,i5;function OTe(){if(i5)return GT;i5=1;var e=PTe();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return GT=t,GT}var WT,a5;function sK(){if(a5)return WT;a5=1;var e=OTe(),t=wH(),n=bH();function r(i){return n(t(i,void 0,e),i+"")}return WT=r,WT}var QT,o5;function LTe(){if(o5)return QT;o5=1;var e=sb(),t=RH(),n=TTe(),r=Zh(),i=tp(),a=ATe(),o=sK(),s=AH(),l=1,c=2,d=4,h=o(function(g,y){var v={};if(g==null)return v;var _=!1;y=e(y,function(b){return b=r(b,g),_||(_=b.length>1),b}),i(g,s(g),v),_&&(v=t(v,l|c|d,a));for(var S=y.length;S--;)n(v,y[S]);return v});return QT=h,QT}var ITe=LTe();const uK=Lr(ITe);var ZT,s5;function MTe(){if(s5)return ZT;s5=1;function e(t,n){return t<n}return ZT=e,ZT}var JT,u5;function DTe(){if(u5)return JT;u5=1;var e=xH(),t=yO(),n=MTe();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return JT=r,JT}var kTe=DTe();const NTe=Lr(kTe),lK=e=>{var a;const[t,n]=CH(e),[r]=FTe(e),i=((a=t==null?void 0:t.storage)==null?void 0:a.map(o=>o["@id"]))??[];if(n.isFetched)return i[0]??r},FTe=e=>{const[t,n]=V.useState([xi(e)]),[r,i]=V.useState(),a=S_e(t),o=V.useMemo(()=>a.map(l=>{var c,d;return(d=(c=l.data)==null?void 0:c.response)==null?void 0:d.headers.get("Link")}),[a]);V.useEffect(()=>{const l=o.findIndex(c=>c==null?void 0:c.includes(Kh.Storage));l>-1?i(t[l]):a.every(c=>c.isSuccess||c.isError)&&n(c=>{const d=NTe(c,h=>h.length);if(d){const h=O9(d);if(!c.includes(h))return[...c,h]}return c})},[o,t,a]);const s=!a.every(l=>l.isSuccess||l.isError)||a.length<t.length;return[r,s]};var YT,l5;function jTe(){if(l5)return YT;l5=1;var e=OO(),t=Zh(),n=rb(),r=Co(),i=Jh();function a(o,s,l,c){if(!r(o))return o;s=t(s,o);for(var d=-1,h=s.length,g=h-1,y=o;y!=null&&++d<h;){var v=i(s[d]),_=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(d!=g){var S=y[v];_=c?c(S,v,y):void 0,_===void 0&&(_=r(S)?S:n(s[d+1])?[]:{})}e(y,v,_),y=y[v]}return o}return YT=a,YT}var XT,c5;function $Te(){if(c5)return XT;c5=1;var e=ub(),t=jTe(),n=Zh();function r(i,a,o){for(var s=-1,l=a.length,c={};++s<l;){var d=a[s],h=e(i,d);o(h,d)&&t(c,n(d,i),h)}return c}return XT=r,XT}var eA,f5;function UTe(){if(f5)return eA;f5=1;var e=$Te(),t=gz();function n(r,i){return e(r,i,function(a,o){return t(r,o)})}return eA=n,eA}var tA,d5;function BTe(){if(d5)return tA;d5=1;var e=UTe(),t=sK(),n=t(function(r,i){return r==null?{}:e(r,i)});return tA=n,tA}var qTe=BTe();const zTe=Lr(qTe),HTe="_container_9yuh8_1",VTe="_list_9yuh8_8",KTe="_trigger_9yuh8_13",GTe="_connect_9yuh8_32",WTe="_content_9yuh8_44",QTe="_taskList_9yuh8_54",ZTe="_storageOptions_9yuh8_60",JTe="_option_9yuh8_63",Il={container:HTe,list:VTe,trigger:KTe,connect:GTe,content:WTe,taskList:QTe,storageOptions:ZTe,option:JTe},YTe={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},XTe={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},Hf={schema:YTe,shape:"https://example.com/Authorization",context:XTe};let __;const eAe=new Uint8Array(16);function tAe(){if(!__&&(__=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!__))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return __(eAe)}const Mi=[];for(let e=0;e<256;++e)Mi.push((e+256).toString(16).slice(1));function nAe(e,t=0){return(Mi[e[t+0]]+Mi[e[t+1]]+Mi[e[t+2]]+Mi[e[t+3]]+"-"+Mi[e[t+4]]+Mi[e[t+5]]+"-"+Mi[e[t+6]]+Mi[e[t+7]]+"-"+Mi[e[t+8]]+Mi[e[t+9]]+"-"+Mi[e[t+10]]+Mi[e[t+11]]+Mi[e[t+12]]+Mi[e[t+13]]+Mi[e[t+14]]+Mi[e[t+15]]).toLowerCase()}const rAe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),h5={randomUUID:rAe};function Hl(e,t,n){if(h5.randomUUID&&!t&&!e)return h5.randomUUID();e=e||{};const r=e.random||(e.rng||tAe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,nAe(r)}const iAe=async({index:e,type:t,location:n})=>{const i=n.endsWith("/")?kn.instanceContainer:kn.instance,a=await Ko(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${t}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new Go("Updating type registration failed.",a);const o=Hl(),s=await Ko(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${o}>
          a solid:TypeRegistration;
          solid:forClass <${t}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new Go("Saving type registration failed.",s)},cK=()=>{const e=Ei();return La({mutationFn:iAe,onSuccess:(t,{index:n})=>{e.invalidateQueries({queryKey:[Kr.rdfDocument,n]})}}).mutateAsync},aAe=()=>{const e=Wo(t_e),t=ts();return V.useCallback(async({webId:n,privateTypeIndex:r})=>{await e.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${kn.InsertDeletePatch}>; <${kn.inserts}> { <${n}> <${kn.privateTypeIndex}> <${r}>. }.`;await t.mutateAsync({uri:n,patch:i})},[e,t])},oAe=()=>{const{communityId:e}=Dn(),t=$f(db),n=dK(),r=fK(),i=ju(e);return V.useCallback(async({uri:a,webId:o})=>{await t.mutateAsync({uri:a,subject:o,transform:s=>{s.memberOf??(s.memberOf=[]),s.memberOf.push({"@id":e}),s.storage2??(s.storage2={"@id":xi(a)}),s["@id"]??(s["@id"]=o)}});try{await n({webId:o,uri:xi(a)},{throwOnHttpError:!0})}catch{await r(xi(a),[{operation:"add",access:[Es.Read],agentGroups:i.groups,default:!0}])}},[i.groups,e,n,r,t])},fK=()=>{const e=ts();return V.useCallback(async(t,n)=>{const r=await rc(t),a=await(await Ko(r)).text(),o=L9(r,a),s=new Vw({format:"N-Triples"});for(const c of n){c.agents??(c.agents=[]),c.agentGroups??(c.agentGroups=[]);const d=o.find(v=>{const _=new Set(c.access),S=new Set(v.modes);return _.size===S.size&&Array.from(_).every(b=>S.has(b))&&c.default?v.defaults.includes(t):v.defaults.length===0}),h=v=>{const _=new URL(v);return _.hash=Hl(),_.toString()},g=(d==null?void 0:d.url)??h(r),y=new Xr(g);s.addQuads(c.agentGroups.map(v=>new Uo(y,new Xr(xn.agentGroup),new Xr(v)))),s.addQuads(c.agents.map(v=>new Uo(y,new Xr(xn.agent),new Xr(v)))),d||(s.addQuads([new Uo(y,new Xr(Nf.type),new Xr(xn.Authorization)),new Uo(y,new Xr(xn.accessTo),new Xr(t)),...c.access.map(v=>new Uo(y,new Xr(xn.mode),new Xr(xn[v])))]),c.default&&s.addQuads([new Uo(y,new Xr(xn.default__workaround),new Xr(t))]))}const l=await new Promise((c,d)=>{s.end((h,g)=>{h?d(h):c(g)})});await e.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${l}
          } .`})},[e])},dK=()=>{const{communityId:e}=Dn(),t=Wo(Hf),n=ju(e);return V.useCallback(async({uri:r,webId:i},a={})=>{const o=xi(r),s=await rc(o);await t.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agent:[{"@id":i}],mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":o}],default:{"@id":o},agentGroup:n.groups.map(l=>({"@id":l})),mode:[{"@id":xn.Read}]}],...a})},[n.groups,t])},sAe=()=>{const e=Wo(db),t=dK();return V.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=xi(n);await e.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await t({uri:n,webId:r})},[t,e])},uAe=()=>{const e=Wo(e_e),t=Wo(Hf),n=ts();return V.useCallback(async({webId:r,publicTypeIndex:i})=>{await e.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await rc(i);await t.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":Gl.Agent}],accessTo:[{"@id":i}],mode:[{"@id":xn.Read}]}]});const o=`_:mutate a <${kn.InsertDeletePatch}>; <${kn.inserts}> { <${r}> <${kn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:o})},[t,e,n])},lAe=()=>{const e=x_e(),t=Wo(Hf),n=ts();return V.useCallback(async({webId:r,inbox:i})=>{await e.mutateAsync({uri:i});const a=await rc(i);await t.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":xn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":xn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${kn.InsertDeletePatch}>; <${kn.inserts}> { <${r}> <${Su.inbox}> <${i}>. }.`})},[t,e,n])},cAe=()=>{const{emailNotificationsService:e,emailNotificationsIdentity:t}=Dn(),n=async s=>{if(!(await rr(`${e}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=Ei(),{mutate:i}=La({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:[Kr.mailerIntegration]})}}),a=V.useCallback(({webId:s,inbox:l,email:c})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:l,target:c})},[i]),o=$f(Hf);return V.useCallback(async({email:s,inbox:l,webId:c})=>{const d=await rc(l);await o.mutateAsync({uri:d,subject:d+"#read",transform:h=>{h["@id"]=d+"#read",h.type={"@id":"Authorization"},h.agent=[{"@id":t}],h.accessTo=[{"@id":l}],h.default={"@id":l},h.mode=[{"@id":xn.Read}]}}),a({email:s,inbox:l,webId:c})},[t,a,o])},fAe=()=>{const{emailNotificationsService:e}=Dn(),t=async i=>{const a=await rr(`${e}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new Go("Sending verification email failed",a)},n=Ei();return La({mutationFn:t,onSuccess:()=>{n.invalidateQueries({queryKey:[Kr.simpleMailerIntegration]})}})},dAe=()=>{const{emailNotificationsIdentity:e}=Dn(),t=$f(Hf),n=ts(),r=fK();return V.useCallback(async({hospexDocument:a,webId:o,email:s})=>{const l=xi(a);await r(l,[{operation:"add",access:[Es.Read],agents:[e],default:!0}]);const c=l+"emailSettings-"+Hl(),d=`_:mutate a <${kn.InsertDeletePatch}>;
        <${kn.inserts}> { <${o}> <${Gl.mbox}> "${s}". } .`;await n.mutateAsync({uri:c,patch:d});const h=await rc(c);await t.mutateAsync({uri:h,subject:h+"#owner",transform:y=>{y["@id"]=h+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":o}],y.accessTo=[{"@id":c}],y.mode=[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]}}),await t.mutateAsync({uri:h,subject:h+"#readWriteMailer",transform:y=>{y["@id"]=h+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":e}],y.accessTo=[{"@id":c}],y.mode=[{"@id":xn.Read},{"@id":xn.Write}]}});const g=`_:mutate a <${kn.InsertDeletePatch}>;
        <${kn.inserts}> { <${o}> <${Kh.preferencesFile}> <${c}>. } .`;await n.mutateAsync({uri:a,patch:g})},[e,r,t,n])};var Ty=e=>e.type==="checkbox",Kd=e=>e instanceof Date,da=e=>e==null;const hK=e=>typeof e=="object";var pi=e=>!da(e)&&!Array.isArray(e)&&hK(e)&&!Kd(e),pK=e=>pi(e)&&e.target?Ty(e.target)?e.target.checked:e.target.value:e,hAe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,gK=(e,t)=>e.has(hAe(t)),Ay=e=>Array.isArray(e)?e.filter(Boolean):[],si=e=>e===void 0,Bt=(e,t,n)=>{if(!t||!pi(e))return n;const r=Ay(t.split(/[,[\].]+?/)).reduce((i,a)=>da(i)?i:i[a],e);return si(r)||r===e?si(e[t])?n:e[t]:r};const ww={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ho={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},pAe=Pt.createContext(null),mL=()=>Pt.useContext(pAe);var mK=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ho.all&&(t._proxyFormState[o]=!r||Ho.all),n&&(n[o]=!0),e[o]}});return i},_o=e=>pi(e)&&!Object.keys(e).length,yK=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return _o(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Ho.all))},D0=e=>Array.isArray(e)?e:[e],vK=(e,t,n)=>n&&t?e===t:!e||!t||e===t||D0(e).some(r=>r&&(r.startsWith(t)||t.startsWith(r)));function yL(e){const t=Pt.useRef(e);t.current=e,Pt.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function gAe(e){const t=mL(),{control:n=t.control,disabled:r,name:i,exact:a}=e,[o,s]=Pt.useState(n._formState),l=Pt.useRef(!0),c=Pt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Pt.useRef(i);return d.current=i,yL({disabled:r,next:h=>l.current&&vK(d.current,h.name,a)&&yK(h,c.current,n._updateFormState)&&s({...n._formState,...h}),subject:n._subjects.state}),Pt.useEffect(()=>{l.current=!0;const h=n._proxyFormState.isDirty&&n._getDirty();return h!==n._formState.isDirty&&n._subjects.state.next({isDirty:h}),c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),mK(o,n,c.current,!1)}var Cs=e=>typeof e=="string",_K=(e,t,n,r,i)=>Cs(e)?(r&&t.watch.add(e),Bt(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Bt(n,a))):(r&&(t.watchAll=!0),n),mAe=e=>{const t=e.constructor&&e.constructor.prototype;return pi(t)&&t.hasOwnProperty("isPrototypeOf")},vL=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rl(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(vL&&(e instanceof Blob||e instanceof FileList))&&(n||pi(e)))if(t=n?[]:{},!Array.isArray(e)&&!mAe(e))t=e;else for(const r in e)t[r]=Rl(e[r]);else return e;return t}function yAe(e){const t=mL(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e,s=Pt.useRef(r);s.current=r,yL({disabled:a,subject:n._subjects.watch,next:d=>{vK(s.current,d.name,o)&&c(Rl(_K(s.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=Pt.useState(n._getWatch(r,i));return Pt.useEffect(()=>n._removeUnmounted()),l}function vAe(e){const t=mL(),{name:n,control:r=t.control,shouldUnregister:i}=e,a=gK(r._names.array,n),o=yAe({control:r,name:n,defaultValue:Bt(r._formValues,n,Bt(r._defaultValues,n,e.defaultValue)),exact:!0}),s=gAe({control:r,name:n}),l=Pt.useRef(r.register(n,{...e.rules,value:o}));return Pt.useEffect(()=>{const c=(d,h)=>{const g=Bt(r._fields,d);g&&(g._f.mount=h)};return c(n,!0),()=>{const d=r._options.shouldUnregister||i;(a?d&&!r._stateFlags.action:d)?r.unregister(n):c(n,!1)}},[n,r,a,i]),{field:{name:n,value:o,onChange:Pt.useCallback(c=>l.current.onChange({target:{value:pK(c),name:n},type:ww.CHANGE}),[n]),onBlur:Pt.useCallback(()=>l.current.onBlur({target:{value:Bt(r._formValues,n),name:n},type:ww.BLUR}),[n,r]),ref:c=>{const d=Bt(r._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Bt(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!Bt(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Bt(s.touchedFields,n)},error:{enumerable:!0,get:()=>Bt(s.errors,n)}})}}const bw=e=>e.render(vAe(e));var wK=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},_L=e=>/^\w*$/.test(e),bK=e=>Ay(e.replace(/["|']|\]/g,"").split(/\.|\[/));function _r(e,t,n){let r=-1;const i=_L(t)?[t]:bK(t),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let l=n;if(r!==o){const c=e[s];l=pi(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=l,e=e[s]}return e}const JR=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=Bt(e,r);if(i){const{_f:a,...o}=i;if(a&&t(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else pi(o)&&JR(o,t)}}};var p5=e=>({isOnSubmit:!e||e===Ho.onSubmit,isOnBlur:e===Ho.onBlur,isOnChange:e===Ho.onChange,isOnAll:e===Ho.all,isOnTouch:e===Ho.onTouched}),g5=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),_Ae=(e,t,n)=>{const r=Ay(Bt(e,n));return _r(r,"root",t[n]),_r(e,n,r),e},nh=e=>typeof e=="boolean",wL=e=>e.type==="file",rh=e=>typeof e=="function",Sw=e=>{if(!vL)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},k0=e=>Cs(e)||Pt.isValidElement(e),bL=e=>e.type==="radio",xw=e=>e instanceof RegExp;const m5={value:!1,isValid:!1},y5={value:!0,isValid:!0};var SK=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!si(e[0].attributes.value)?si(e[0].value)||e[0].value===""?y5:{value:e[0].value,isValid:!0}:y5:m5}return m5};const v5={isValid:!1,value:null};var xK=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,v5):v5;function _5(e,t,n="validate"){if(k0(e)||Array.isArray(e)&&e.every(k0)||nh(e)&&!e)return{type:n,message:k0(e)?e:"",ref:t}}var Nd=e=>pi(e)&&!xw(e)?e:{value:e,message:""},w5=async(e,t,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:d,max:h,pattern:g,validate:y,name:v,valueAsNumber:_,mount:S,disabled:b}=e._f,x=Bt(t,v);if(!S||b)return{};const A=o?o[0]:a,P=ce=>{r&&A.reportValidity&&(A.setCustomValidity(nh(ce)?"":ce||""),A.reportValidity())},O={},D=bL(a),F=Ty(a),Q=D||F,X=(_||wL(a))&&si(a.value)&&si(x)||Sw(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,U=wK.bind(null,v,n,O),Y=(ce,te,se,pe=hu.maxLength,_e=hu.minLength)=>{const de=ce?te:se;O[v]={type:ce?pe:_e,message:de,ref:a,...U(ce?pe:_e,de)}};if(i?!Array.isArray(x)||!x.length:s&&(!Q&&(X||da(x))||nh(x)&&!x||F&&!SK(o).isValid||D&&!xK(o).isValid)){const{value:ce,message:te}=k0(s)?{value:!!s,message:s}:Nd(s);if(ce&&(O[v]={type:hu.required,message:te,ref:A,...U(hu.required,te)},!n))return P(te),O}if(!X&&(!da(d)||!da(h))){let ce,te;const se=Nd(h),pe=Nd(d);if(!da(x)&&!isNaN(x)){const _e=a.valueAsNumber||x&&+x;da(se.value)||(ce=_e>se.value),da(pe.value)||(te=_e<pe.value)}else{const _e=a.valueAsDate||new Date(x),de=k=>new Date(new Date().toDateString()+" "+k),ue=a.type=="time",Re=a.type=="week";Cs(se.value)&&x&&(ce=ue?de(x)>de(se.value):Re?x>se.value:_e>new Date(se.value)),Cs(pe.value)&&x&&(te=ue?de(x)<de(pe.value):Re?x<pe.value:_e<new Date(pe.value))}if((ce||te)&&(Y(!!ce,se.message,pe.message,hu.max,hu.min),!n))return P(O[v].message),O}if((l||c)&&!X&&(Cs(x)||i&&Array.isArray(x))){const ce=Nd(l),te=Nd(c),se=!da(ce.value)&&x.length>ce.value,pe=!da(te.value)&&x.length<te.value;if((se||pe)&&(Y(se,ce.message,te.message),!n))return P(O[v].message),O}if(g&&!X&&Cs(x)){const{value:ce,message:te}=Nd(g);if(xw(ce)&&!x.match(ce)&&(O[v]={type:hu.pattern,message:te,ref:a,...U(hu.pattern,te)},!n))return P(te),O}if(y){if(rh(y)){const ce=await y(x,t),te=_5(ce,A);if(te&&(O[v]={...te,...U(hu.validate,te.message)},!n))return P(te.message),O}else if(pi(y)){let ce={};for(const te in y){if(!_o(ce)&&!n)break;const se=_5(await y[te](x,t),A,te);se&&(ce={...se,...U(te,se.message)},P(se.message),n&&(O[v]=ce))}if(!_o(ce)&&(O[v]={ref:A,...ce},!n))return O}}return P(!0),O};function wAe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=si(e)?r++:e[t[r++]];return e}function bAe(e){for(const t in e)if(!si(e[t]))return!1;return!0}function Di(e,t){const n=Array.isArray(t)?t:_L(t)?[t]:bK(t),r=n.length===1?e:wAe(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(pi(r)&&_o(r)||Array.isArray(r)&&bAe(r))&&Di(e,n.slice(0,-1)),e}function nA(){let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}}var Ew=e=>da(e)||!hK(e);function lf(e,t){if(Ew(e)||Ew(t))return e===t;if(Kd(e)&&Kd(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Kd(a)&&Kd(o)||pi(a)&&pi(o)||Array.isArray(a)&&Array.isArray(o)?!lf(a,o):a!==o)return!1}}return!0}var EK=e=>e.type==="select-multiple",SAe=e=>bL(e)||Ty(e),rA=e=>Sw(e)&&e.isConnected,CK=e=>{for(const t in e)if(rh(e[t]))return!0;return!1};function Cw(e,t={}){const n=Array.isArray(e);if(pi(e)||n)for(const r in e)Array.isArray(e[r])||pi(e[r])&&!CK(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Cw(e[r],t[r])):da(e[r])||(t[r]=!0);return t}function TK(e,t,n){const r=Array.isArray(e);if(pi(e)||r)for(const i in e)Array.isArray(e[i])||pi(e[i])&&!CK(e[i])?si(t)||Ew(n[i])?n[i]=Array.isArray(e[i])?Cw(e[i],[]):{...Cw(e[i])}:TK(e[i],da(t)?{}:t[i],n[i]):lf(e[i],t[i])?delete n[i]:n[i]=!0;return n}var iA=(e,t)=>TK(e,t,Cw(t)),AK=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>si(e)?e:t?e===""?NaN:e&&+e:n&&Cs(e)?new Date(e):r?r(e):e;function aA(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return wL(t)?t.files:bL(t)?xK(e.refs).value:EK(t)?[...t.selectedOptions].map(({value:n})=>n):Ty(t)?SK(e.refs).value:AK(si(t.value)?e.ref.value:t.value,e)}var xAe=(e,t,n,r)=>{const i={};for(const a of e){const o=Bt(t,a);o&&_r(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},em=e=>si(e)?e:xw(e)?e.source:pi(e)?xw(e.value)?e.value.source:e.value:e,EAe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function b5(e,t,n){const r=Bt(e,n);if(r||_L(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Bt(t,a),s=Bt(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var CAe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,TAe=(e,t)=>!Ay(Bt(e,t)).length&&Di(e,t);const AAe={mode:Ho.onSubmit,reValidateMode:Ho.onChange,shouldFocusError:!0};function RAe(e={},t){let n={...AAe,...e};const r=e.resetOptions&&e.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=pi(n.defaultValues)||pi(n.values)?Rl(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:Rl(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const g={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:nA(),array:nA(),state:nA()},v=p5(n.mode),_=p5(n.reValidateMode),S=n.criteriaMode===Ho.all,b=Z=>he=>{clearTimeout(h),h=window.setTimeout(Z,he)},x=async Z=>{if(g.isValid||Z){const he=n.resolver?_o((await X()).errors):await Y(a,!0);he!==i.isValid&&y.state.next({isValid:he})}},A=Z=>g.isValidating&&y.state.next({isValidating:Z}),P=(Z,he=[],ye,He,Ee=!0,Fe=!0)=>{if(He&&ye){if(l.action=!0,Fe&&Array.isArray(Bt(a,Z))){const tt=ye(Bt(a,Z),He.argA,He.argB);Ee&&_r(a,Z,tt)}if(Fe&&Array.isArray(Bt(i.errors,Z))){const tt=ye(Bt(i.errors,Z),He.argA,He.argB);Ee&&_r(i.errors,Z,tt),TAe(i.errors,Z)}if(g.touchedFields&&Fe&&Array.isArray(Bt(i.touchedFields,Z))){const tt=ye(Bt(i.touchedFields,Z),He.argA,He.argB);Ee&&_r(i.touchedFields,Z,tt)}g.dirtyFields&&(i.dirtyFields=iA(o,s)),y.state.next({name:Z,isDirty:te(Z,he),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else _r(s,Z,he)},O=(Z,he)=>{_r(i.errors,Z,he),y.state.next({errors:i.errors})},D=(Z,he,ye,He)=>{const Ee=Bt(a,Z);if(Ee){const Fe=Bt(s,Z,si(ye)?Bt(o,Z):ye);si(Fe)||He&&He.defaultChecked||he?_r(s,Z,he?Fe:aA(Ee._f)):_e(Z,Fe),l.mount&&x()}},F=(Z,he,ye,He,Ee)=>{let Fe=!1,tt=!1;const nt={name:Z};if(!ye||He){g.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=te(),Fe=tt!==nt.isDirty);const gt=lf(Bt(o,Z),he);tt=Bt(i.dirtyFields,Z),gt?Di(i.dirtyFields,Z):_r(i.dirtyFields,Z,!0),nt.dirtyFields=i.dirtyFields,Fe=Fe||g.dirtyFields&&tt!==!gt}if(ye){const gt=Bt(i.touchedFields,Z);gt||(_r(i.touchedFields,Z,ye),nt.touchedFields=i.touchedFields,Fe=Fe||g.touchedFields&&gt!==ye)}return Fe&&Ee&&y.state.next(nt),Fe?nt:{}},Q=(Z,he,ye,He)=>{const Ee=Bt(i.errors,Z),Fe=g.isValid&&nh(he)&&i.isValid!==he;if(e.delayError&&ye?(d=b(()=>O(Z,ye)),d(e.delayError)):(clearTimeout(h),d=null,ye?_r(i.errors,Z,ye):Di(i.errors,Z)),(ye?!lf(Ee,ye):Ee)||!_o(He)||Fe){const tt={...He,...Fe&&nh(he)?{isValid:he}:{},errors:i.errors,name:Z};i={...i,...tt},y.state.next(tt)}A(!1)},X=async Z=>await n.resolver(s,n.context,xAe(Z||c.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),U=async Z=>{const{errors:he}=await X();if(Z)for(const ye of Z){const He=Bt(he,ye);He?_r(i.errors,ye,He):Di(i.errors,ye)}else i.errors=he;return he},Y=async(Z,he,ye={valid:!0})=>{for(const He in Z){const Ee=Z[He];if(Ee){const{_f:Fe,...tt}=Ee;if(Fe){const nt=c.array.has(Fe.name),gt=await w5(Ee,s,S,n.shouldUseNativeValidation,nt);if(gt[Fe.name]&&(ye.valid=!1,he))break;!he&&(Bt(gt,Fe.name)?nt?_Ae(i.errors,gt,Fe.name):_r(i.errors,Fe.name,gt[Fe.name]):Di(i.errors,Fe.name))}tt&&await Y(tt,he,ye)}}return ye.valid},ce=()=>{for(const Z of c.unMount){const he=Bt(a,Z);he&&(he._f.refs?he._f.refs.every(ye=>!rA(ye)):!rA(he._f.ref))&&Ae(Z)}c.unMount=new Set},te=(Z,he)=>(Z&&he&&_r(s,Z,he),!lf(ie(),o)),se=(Z,he,ye)=>_K(Z,c,{...l.mount?s:si(he)?o:Cs(Z)?{[Z]:he}:he},ye,he),pe=Z=>Ay(Bt(l.mount?s:o,Z,e.shouldUnregister?Bt(o,Z,[]):[])),_e=(Z,he,ye={})=>{const He=Bt(a,Z);let Ee=he;if(He){const Fe=He._f;Fe&&(!Fe.disabled&&_r(s,Z,AK(he,Fe)),Ee=Sw(Fe.ref)&&da(he)?"":he,EK(Fe.ref)?[...Fe.ref.options].forEach(tt=>tt.selected=Ee.includes(tt.value)):Fe.refs?Ty(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Ee)?!!Ee.find(nt=>nt===tt.value):Ee===tt.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!Ee):Fe.refs.forEach(tt=>tt.checked=tt.value===Ee):wL(Fe.ref)?Fe.ref.value="":(Fe.ref.value=Ee,Fe.ref.type||y.watch.next({name:Z})))}(ye.shouldDirty||ye.shouldTouch)&&F(Z,Ee,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(Z)},de=(Z,he,ye)=>{for(const He in he){const Ee=he[He],Fe=`${Z}.${He}`,tt=Bt(a,Fe);(c.array.has(Z)||!Ew(Ee)||tt&&!tt._f)&&!Kd(Ee)?de(Fe,Ee,ye):_e(Fe,Ee,ye)}},ue=(Z,he,ye={})=>{const He=Bt(a,Z),Ee=c.array.has(Z),Fe=Rl(he);_r(s,Z,Fe),Ee?(y.array.next({name:Z,values:s}),(g.isDirty||g.dirtyFields)&&ye.shouldDirty&&y.state.next({name:Z,dirtyFields:iA(o,s),isDirty:te(Z,Fe)})):He&&!He._f&&!da(Fe)?de(Z,Fe,ye):_e(Z,Fe,ye),g5(Z,c)&&y.state.next({}),y.watch.next({name:Z}),!l.mount&&t()},Re=async Z=>{const he=Z.target;let ye=he.name;const He=Bt(a,ye),Ee=()=>he.type?aA(He._f):pK(Z);if(He){let Fe,tt;const nt=Ee(),gt=Z.type===ww.BLUR||Z.type===ww.FOCUS_OUT,qt=!EAe(He._f)&&!n.resolver&&!Bt(i.errors,ye)&&!He._f.deps||CAe(gt,Bt(i.touchedFields,ye),i.isSubmitted,_,v),Se=g5(ye,c,gt);_r(s,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(Z),d&&d(0)):He._f.onChange&&He._f.onChange(Z);const Be=F(ye,nt,gt,!1),ne=!_o(Be)||Se;if(!gt&&y.watch.next({name:ye,type:Z.type}),qt)return g.isValid&&x(),ne&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:z}=await X([ye]),W=b5(i.errors,a,ye),G=b5(z,a,W.name||ye);Fe=G.error,ye=G.name,tt=_o(z)}else Fe=(await w5(He,s,S,n.shouldUseNativeValidation))[ye],Fe?tt=!1:g.isValid&&(tt=await Y(a,!0));He._f.deps&&k(He._f.deps),Q(ye,tt,Fe,Be)}},k=async(Z,he={})=>{let ye,He;const Ee=D0(Z);if(A(!0),n.resolver){const Fe=await U(si(Z)?Z:Ee);ye=_o(Fe),He=Z?!Ee.some(tt=>Bt(Fe,tt)):ye}else Z?(He=(await Promise.all(Ee.map(async Fe=>{const tt=Bt(a,Fe);return await Y(tt&&tt._f?{[Fe]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&x()):He=ye=await Y(a);return y.state.next({...!Cs(Z)||g.isValid&&ye!==i.isValid?{}:{name:Z},...n.resolver||!Z?{isValid:ye}:{},errors:i.errors,isValidating:!1}),he.shouldFocus&&!He&&JR(a,Fe=>Fe&&Bt(i.errors,Fe),Z?Ee:c.mount),He},ie=Z=>{const he={...o,...l.mount?s:{}};return si(Z)?he:Cs(Z)?Bt(he,Z):Z.map(ye=>Bt(he,ye))},me=(Z,he)=>({invalid:!!Bt((he||i).errors,Z),isDirty:!!Bt((he||i).dirtyFields,Z),isTouched:!!Bt((he||i).touchedFields,Z),error:Bt((he||i).errors,Z)}),K=Z=>{Z&&D0(Z).forEach(he=>Di(i.errors,he)),y.state.next({errors:Z?i.errors:{}})},ee=(Z,he,ye)=>{const He=(Bt(a,Z,{_f:{}})._f||{}).ref;_r(i.errors,Z,{...he,ref:He}),y.state.next({name:Z,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},ge=(Z,he)=>rh(Z)?y.watch.subscribe({next:ye=>Z(se(void 0,he),ye)}):se(Z,he,!0),Ae=(Z,he={})=>{for(const ye of Z?D0(Z):c.mount)c.mount.delete(ye),c.array.delete(ye),Bt(a,ye)&&(he.keepValue||(Di(a,ye),Di(s,ye)),!he.keepError&&Di(i.errors,ye),!he.keepDirty&&Di(i.dirtyFields,ye),!he.keepTouched&&Di(i.touchedFields,ye),!n.shouldUnregister&&!he.keepDefaultValue&&Di(o,ye));y.watch.next({}),y.state.next({...i,...he.keepDirty?{isDirty:te()}:{}}),!he.keepIsValid&&x()},Ze=(Z,he={})=>{let ye=Bt(a,Z);const He=nh(he.disabled);return _r(a,Z,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:Z}},name:Z,mount:!0,...he}}),c.mount.add(Z),ye?He&&_r(s,Z,he.disabled?void 0:Bt(s,Z,aA(ye._f))):D(Z,!0,he.value),{...He?{disabled:he.disabled}:{},...n.shouldUseNativeValidation?{required:!!he.required,min:em(he.min),max:em(he.max),minLength:em(he.minLength),maxLength:em(he.maxLength),pattern:em(he.pattern)}:{},name:Z,onChange:Re,onBlur:Re,ref:Ee=>{if(Ee){Ze(Z,he),ye=Bt(a,Z);const Fe=si(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,tt=SAe(Fe),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Fe):Fe===ye._f.ref)return;_r(a,Z,{_f:{...ye._f,...tt?{refs:[...nt.filter(rA),Fe,...Array.isArray(Bt(o,Z))?[{}]:[]],ref:{type:Fe.type,name:Z}}:{ref:Fe}}}),D(Z,!1,void 0,Fe)}else ye=Bt(a,Z,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||he.shouldUnregister)&&!(gK(c.array,Z)&&l.action)&&c.unMount.add(Z)}}},Pe=()=>n.shouldFocusError&&JR(a,Z=>Z&&Bt(i.errors,Z),c.mount),Ne=(Z,he)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=Rl(s);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Ee,values:Fe}=await X();i.errors=Ee,He=Fe}else await Y(a);Di(i.errors,"root"),_o(i.errors)?(y.state.next({errors:{}}),await Z(He,ye)):(he&&await he({...i.errors},ye),Pe()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_o(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Ye=(Z,he={})=>{Bt(a,Z)&&(si(he.defaultValue)?ue(Z,Bt(o,Z)):(ue(Z,he.defaultValue),_r(o,Z,he.defaultValue)),he.keepTouched||Di(i.touchedFields,Z),he.keepDirty||(Di(i.dirtyFields,Z),i.isDirty=he.defaultValue?te(Z,Bt(o,Z)):te()),he.keepError||(Di(i.errors,Z),g.isValid&&x()),y.state.next({...i}))},oe=(Z,he={})=>{const ye=Z||o,He=Rl(ye),Ee=Z&&!_o(Z)?He:o;if(he.keepDefaultValues||(o=ye),!he.keepValues){if(he.keepDirtyValues||r)for(const Fe of c.mount)Bt(i.dirtyFields,Fe)?_r(Ee,Fe,Bt(s,Fe)):ue(Fe,Bt(Ee,Fe));else{if(vL&&si(Z))for(const Fe of c.mount){const tt=Bt(a,Fe);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(Sw(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}s=e.shouldUnregister?he.keepDefaultValues?Rl(o):{}:He,y.array.next({values:Ee}),y.watch.next({values:Ee})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!g.isValid||!!he.keepIsValid,l.watch=!!e.shouldUnregister,y.state.next({submitCount:he.keepSubmitCount?i.submitCount:0,isDirty:he.keepDirty||he.keepDirtyValues?i.isDirty:!!(he.keepDefaultValues&&!lf(Z,o)),isSubmitted:he.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:he.keepDirty||he.keepDirtyValues?i.dirtyFields:he.keepDefaultValues&&Z?iA(o,Z):{},touchedFields:he.keepTouched?i.touchedFields:{},errors:he.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},H=(Z,he)=>oe(rh(Z)?Z(s):Z,he),$=(Z,he={})=>{const ye=Bt(a,Z),He=ye&&ye._f;if(He){const Ee=He.refs?He.refs[0]:He.ref;Ee.focus&&(Ee.focus(),he.shouldSelect&&Ee.select())}},ae=Z=>{i={...i,...Z}};return rh(n.defaultValues)&&n.defaultValues().then(Z=>{H(Z,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Ze,unregister:Ae,getFieldState:me,_executeSchema:X,_focusError:Pe,_getWatch:se,_getDirty:te,_updateValid:x,_removeUnmounted:ce,_updateFieldArray:P,_getFieldArray:pe,_reset:oe,_updateFormState:ae,_subjects:y,_proxyFormState:g,get _fields(){return a},get _formValues(){return s},get _stateFlags(){return l},set _stateFlags(Z){l=Z},get _defaultValues(){return o},get _names(){return c},set _names(Z){c=Z},get _formState(){return i},set _formState(Z){i=Z},get _options(){return n},set _options(Z){n={...n,...Z}}},trigger:k,register:Ze,handleSubmit:Ne,watch:ge,setValue:ue,getValues:ie,reset:H,resetField:Ye,clearErrors:K,unregister:Ae,setError:ee,setFocus:$,getFieldState:me}}function Ns(e={}){const t=Pt.useRef(),[n,r]=Pt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:rh(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...RAe(e,()=>r(a=>({...a}))),formState:n});const i=t.current.control;return i._options=e,yL({subject:i._subjects.state,next:a=>{yK(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Pt.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Pt.useEffect(()=>{e.values&&!lf(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),Pt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=mK(n,i),t.current}const Om=({value:e,...t})=>{const[n,r]=V.useState(!1);return n?B.jsxs(B.Fragment,{children:[B.jsx("input",{...t})," ",B.jsx("button",{type:"button",onClick:()=>{r(!1)},children:B.jsx(gy,{})})]}):B.jsxs(B.Fragment,{children:[e," ",B.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:B.jsx(j9,{})})]})},PAe=({onSuccess:e,isPublicTypeIndex:t,isPrivateTypeIndex:n,isInbox:r,webId:i,storage:a})=>{const{i18n:o,_:s}=Wr(),l=uAe(),c=aAe(),d=lAe(),{watch:h,register:g,handleSubmit:y}=Ns({defaultValues:{publicTypeIndex:new URL("./settings/publicTypeIndex.ttl",a).toString(),privateTypeIndex:new URL("./settings/privateTypeIndex.ttl",a).toString(),inbox:new URL("./inbox/",a).toString()}}),v=y(async({publicTypeIndex:_,privateTypeIndex:S,inbox:b})=>{if(t===void 0||n===void 0||r===void 0)throw new Error(o._({id:"XCH5Qf"}));t===!1&&await l({publicTypeIndex:_,webId:i}),n===!1&&await c({privateTypeIndex:S,webId:i}),r===!1&&await d({inbox:b,webId:i}),e()});return B.jsxs("form",{onSubmit:v,children:[B.jsx("div",{children:t?B.jsx(_t,{id:"AywWH9"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"/qBoT3"})," ",B.jsx(Om,{value:Zd(h("publicTypeIndex"),a),...g("publicTypeIndex",{required:!0}),type:"url"})]})}),B.jsx("div",{children:n?B.jsx(_t,{id:"ei1Uj7"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"47l1wN"})," ",B.jsx(Om,{value:Zd(h("privateTypeIndex"),a),...g("privateTypeIndex",{required:!0}),type:"url"})]})}),B.jsx("div",{children:r?B.jsx(_t,{id:"d/3T+G"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"17JZAf"})," ",B.jsx(Om,{value:Zd(h("inbox"),a),...g("inbox",{required:!0}),type:"url"})]})}),B.jsx(tr,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:B.jsx(_t,{id:"xGVfLh"})})]})},OAe=()=>{const e=ts();return V.useCallback(async({person:t,group:n})=>{const r=`_:mutate a <${kn.InsertDeletePatch}>;
        <${kn.inserts}> { <${n}> <${R9.hasMember}> <${t}>. } .`;await e.mutateAsync({uri:n,patch:r})},[e])},LAe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Group",id:t}}),IAe=async({inbox:e,...t})=>{const n=await rr(e,{method:"POST",body:JSON.stringify(LAe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Go("Community inbox responded with error",n);const r=n.headers.get("location");return{...t,status:n.status,group:r}},MAe=()=>{const e=Ei(),{mutateAsync:t}=La({mutationFn:IAe,onSuccess:async n=>{n.group&&await e.invalidateQueries({queryKey:[Kr.rdfDocument,nc(n.group)]})}});return t},DAe=({onSuccess:e,isMember:t,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:a,communityId:o}=Dn(),s=gi(),{i18n:l,_:c}=Wr(),d=lK(s.webId??""),h=ju(o),g=OAe(),y=MAe(),v=sAe(),_=oAe(),S=cK(),b=d&&`${d}hospex/${a}/card`,{handleSubmit:x,register:A,watch:P,setValue:O}=Ns({defaultValues:{newHospexDocument:b}});V.useEffect(()=>{d&&O("newHospexDocument",`${d}hospex/${a}/card`)},[a,O,d]);const D=P("newHospexDocument");if(!d||!D)return B.jsx(B.Fragment,{children:"..."});const F=x(async({hospexDocument:X,newHospexDocument:U})=>{if(!i)throw new Error(l._({id:"MPWsQ5"}));if(n||(r.length===0||X==="new"?(await v({uri:U,webId:s.webId,communityId:o}),await S({index:i,type:ic.PersonalHospexDocument,location:U})):await _({uri:X,webId:s.webId})),!t)if(h.inbox)await y({actor:s.webId,object:h.community,type:"Join",inbox:h.inbox});else{if(!h.groups[0])throw new Error(l._({id:"FTXS9n"}));await g({person:s.webId,group:h.groups[0]})}e()}),Q=h.name||o;return B.jsxs("form",{onSubmit:F,children:[t?B.jsx("li",{children:B.jsx(_t,{id:"CDTRqk",values:{communityLabel:Q}})}):B.jsx("li",{children:B.jsx(_t,{id:"kH9S1u",values:{communityLabel:Q}})}),!n&&r.length===0&&B.jsxs("li",{children:[B.jsx(_t,{id:"V7MiWJ"})," ",B.jsx(Om,{value:Zd(D,d),...A("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&B.jsxs("li",{children:[B.jsx("legend",{children:B.jsx(_t,{id:"kJXPN2"})}),B.jsxs("fieldset",{className:Il.storageOptions,children:[B.jsx("legend",{children:B.jsx(_t,{id:"kpCcav"})}),B.jsxs("div",{className:Il.option,children:[B.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...A("hospexDocument",{required:!0})})," ",B.jsxs("label",{htmlFor:"new-hospex-document",children:[B.jsx(_t,{id:"rX1tOl"}),B.jsx(Om,{...A("newHospexDocument",{required:!0}),value:Zd(P("newHospexDocument"),d)})]})]}),B.jsxs("div",{children:[B.jsx("legend",{children:B.jsx(_t,{id:"Monbkf",components:{0:B.jsx("i",{})}})}),r.map(({hospexDocument:X,communities:U},Y)=>B.jsxs("div",{className:Il.option,children:[B.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${Y}`,value:X,...A("hospexDocument")})," ",B.jsxs("label",{htmlFor:`hospexDocument-${Y}`,children:[U.map(ce=>ce.name??ce.uri).join(", ")," (",Zd(X,d),")"]})]},X))]})]})]}),B.jsx(tr,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:B.jsx(_t,{id:"xGVfLh"})})]})};var oA,S5;function kAe(){if(S5)return oA;S5=1;var e=iz(),t=sb(),n=mz(),r=oz(),i=mH(),a=Math.max;function o(s){if(!(s&&s.length))return[];var l=0;return s=e(s,function(c){if(i(c))return l=a(c.length,l),!0}),r(l,function(c){return t(s,n(c))})}return oA=o,oA}var sA,x5;function NAe(){if(x5)return sA;x5=1;var e=_H(),t=sb(),n=kAe();function r(i,a){if(!(i&&i.length))return[];var o=n(i);return a==null?o:t(o,function(s){return e(a,void 0,s)})}return sA=r,sA}var uA,E5;function FAe(){if(E5)return uA;E5=1;var e=SH(),t=NAe(),n=e(function(r){var i=r.length,a=i>1?r[i-1]:void 0;return a=typeof a=="function"?(r.pop(),a):void 0,t(r,a)});return uA=n,uA}var jAe=FAe();const $Ae=Lr(jAe),C5=async e=>{e=nc(e);const t=await rO(e,rr);if(!t.ok)throw t.response?new Go(t.response.statusText,t.response):new Error("unexpected");return t},UAe=e=>{const t=Im({queries:e.map(a=>({queryKey:[Kr.rdfDocument,a],queryFn:async()=>C5(a),enabled:!!a}))}),n=t.map(({data:a},o)=>{var _,S;const s=e[o],l=(_=a==null?void 0:a.response)==null?void 0:_.headers,c=l==null?void 0:l.get("link"),d=c?c9.parse(c):void 0,h=(S=d==null?void 0:d.rel("acl")[0])==null?void 0:S.uri,g=h&&s?new URL(h,s).toString():void 0,y=l==null?void 0:l.get("wac-allow"),v=y?Rge(y):void 0;return{resource:s,aclUri:g,effectivePermissions:v}}),r=Im({queries:n.map(({aclUri:a,effectivePermissions:o})=>{var s;return{queryKey:[Kr.rdfDocument,a],queryFn:async()=>C5(a??""),enabled:!!a&&((s=o==null?void 0:o.user)==null?void 0:s.has("control"))}})}),i=r.map(({data:a,isError:o},s)=>{var c;const l=(c=n[s])==null?void 0:c.aclUri;return l&&typeof(a==null?void 0:a.rawData)=="string"&&!o?L9(l,a.rawData):void 0});return{isLoading:t.some(a=>a.isLoading)||r.some(a=>a.isLoading),results:n.map((a,o)=>({effectivePermissions:a.effectivePermissions,acls:[{uri:a.aclUri,accesses:i[o]}]}))}},BAe=()=>{const e=gi(),{communityId:t}=Dn(),{variables:n,isLoading:r}=ma({query:Dve,variables:V.useMemo(()=>({person:e.webId?[e.webId]:void 0,community:[t]}),[e.webId,t]),fetch:rr}),i=n.hospexPreferencesFile,{results:a}=UAe(i??[]);return{results:$Ae(i??[],a,(s,l)=>({url:s,permissions:l})),isLoading:r}},qAe=({onSuccess:e,isEmailNotifications:t,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?B.jsx(zAe,{onSuccess:e,isEmailNotifications:n,hospexDocument:r}):t!=="unset"?B.jsx(HAe,{onSuccess:e,isEmailNotifications:t,inbox:i}):B.jsx(VAe,{onSuccess:e}),zAe=({onSuccess:e,isEmailNotifications:t,hospexDocument:n})=>{const{handleSubmit:r,register:i}=Ns(),[a,o]=V.useState(!1),[s,l]=V.useState(!1),[c,d]=V.useState(),[h,g]=V.useState(0),y=dAe(),v=fAe(),{webId:_}=gi(),{i18n:S,_:b}=Wr(),{emailNotificationsIdentity:x,emailNotificationsService:A}=Dn(),{results:P}=BAe(),O=P.some(U=>{var Y,ce;return U.url&&((ce=(Y=U.permissions.acls[0])==null?void 0:Y.accesses)==null?void 0:ce.some(te=>te.agents.includes(x)&&(te.modes.includes(Es.Write)||te.modes.includes(Es.Append))&&te.modes.includes(Es.Read)))}),D=oK(_,A);V.useEffect(()=>{if(h>0){const U=setTimeout(()=>g(h-1),1e3);return()=>clearTimeout(U)}},[h]);const F=r(async({email:U})=>{l(!0);try{if(!n)throw new Error(S._({id:"35KTBT"}));t||(O||await y({hospexDocument:n,webId:_,email:U}),await v.mutateAsync({email:U}),o(!0),g(60),d(U))}finally{l(!1)}}),Q=Ei(),X=()=>{Q.invalidateQueries({queryKey:[Kr.simpleMailerIntegration]})};return t?B.jsxs("div",{children:[B.jsx(gy,{}),B.jsx(_t,{id:"VM9oSF"}),B.jsx(tr,{primary:!0,onClick:e,children:B.jsx(_t,{id:"8BwQeU"})})]}):B.jsxs("form",{onSubmit:F,children:[!t&&B.jsxs("div",{children:[B.jsxs("div",{children:[B.jsx(_t,{id:"42aUkb"})," ",B.jsx("input",{required:!0,placeholder:S._({id:"ocwjau"}),...i("email"),type:"email",disabled:a}),B.jsx(tr,{type:"submit",secondary:!0,disabled:s||h>0,children:h>0?B.jsx(_t,{id:"uliB7J",values:{countdown:h}}):B.jsx(_t,{id:"vp9yIB"})})]}),a&&!s&&B.jsx("div",{children:B.jsx(_t,{id:"MYOoIS",values:{sentToEmail:c},components:{0:B.jsx("br",{})}})})]}),B.jsxs(tr,{type:"button",primary:!0,disabled:!a||D.isRefetching,onClick:X,children:[B.jsx(_t,{id:"8BwQeU"})," ",D.isRefetching&&B.jsx(iK,{})]})]})},HAe=({onSuccess:e,isEmailNotifications:t,inbox:n})=>{const{i18n:r,_:i}=Wr(),a=cAe(),{handleSubmit:o,register:s}=Ns(),{webId:l}=gi(),c=Ei(),d=()=>{c.invalidateQueries({queryKey:[Kr.mailerIntegration]})},h=o(({email:g})=>{if(!n)throw new Error(r._({id:"fo1jSY"}));a({email:g,webId:l,inbox:n})});return t===!0?B.jsxs("div",{children:[B.jsx(gy,{}),B.jsx(_t,{id:"VM9oSF"}),B.jsx(tr,{primary:!0,onClick:e,children:B.jsx(_t,{id:"8BwQeU"})})]}):B.jsxs("form",{onSubmit:h,children:[!t&&B.jsxs("div",{children:[B.jsx(_t,{id:"lYCAyX"})," ",B.jsx("input",{type:"email",placeholder:r._({id:"z8F4/3"}),...s("email"),required:!0}),B.jsx(tr,{type:"submit",primary:!0,children:B.jsx(_t,{id:"vp9yIB"})})]}),t==="unverified"&&B.jsxs("div",{children:[B.jsx(_t,{id:"F132R+"}),B.jsx(tr,{type:"button",primary:!0,onClick:d,children:B.jsx(_t,{id:"8BwQeU"})})]})]})},VAe=({onSuccess:e})=>B.jsxs("div",{children:[B.jsx(gy,{})," ",B.jsx(_t,{id:"heRuNl"}),B.jsx("div",{children:B.jsx(tr,{primary:!0,onClick:e,children:B.jsx(_t,{id:"8BwQeU"})})})]});var Kc=function(e){return e.isMember="isMember",e.isHospexProfile="isHospexProfile",e.isPublicTypeIndex="isPublicTypeIndex",e.isPrivateTypeIndex="isPrivateTypeIndex",e.isInbox="isInbox",e.isSimpleEmailNotifications="isSimpleEmailNotifications",e.isEmailNotifications="isEmailNotifications",e}({});const KAe=[[Kc.isPublicTypeIndex,Kc.isPrivateTypeIndex,Kc.isInbox],[Kc.isMember,Kc.isHospexProfile],[Kc.isEmailNotifications,Kc.isSimpleEmailNotifications]],GAe=e=>{const t=KAe.map(o=>zTe(e,o)).map(o=>Object.values(o).every(s=>s)),n=gi(),r=lK(n.webId),i=Dn(),a=V.useMemo(()=>{var o;return[{title:B.jsx(_t,{id:"FQjzSF"}),content:r&&n.webId?B.jsx(PAe,{onSuccess:()=>e.onStepChange(1),isPublicTypeIndex:e.isPublicTypeIndex,isPrivateTypeIndex:e.isPrivateTypeIndex,isInbox:e.isInbox,storage:r,webId:n.webId}):null},{title:B.jsx(_t,{id:"BLFgtR"}),content:B.jsx(DAe,{onSuccess:()=>e.onStepChange(2),isMember:e.isMember,isHospexProfile:e.isHospexProfile,allHospex:e.allHospex,publicTypeIndex:e.publicTypeIndexes[0]})},{title:B.jsx(_t,{id:"sCXkJv"}),content:B.jsx(qAe,{isEmailNotifications:e.isEmailNotifications,isSimpleEmailNotifications:e.isSimpleEmailNotifications,hospexDocument:(o=e.allHospex.find(s=>s.communities.some(l=>l.uri===i.communityId)))==null?void 0:o.hospexDocument,inbox:e.inboxes[0],onSuccess:()=>{}})}]},[n.webId,i.communityId,e,r]);return r?B.jsxs("div",{className:Il.container,children:[B.jsx("h1",{children:B.jsx(_t,{id:"RDjuBN"})}),B.jsxs(eL,{value:String(e.step),onValueChange:o=>e.onStepChange(+o),children:[B.jsx(tL,{className:Il.list,loop:!1,children:a.map((o,s)=>B.jsx(nL,{className:Tr(Il.trigger,s<a.length-1&&Il.connect),value:String(s),disabled:!t.slice(0,s).every(l=>!!l),children:s+1},s))}),a.map((o,s)=>B.jsxs(rL,{value:String(s),className:Il.content,children:[B.jsx("h2",{children:o.title}),o.content]},s))]})]}):B.jsx(B.Fragment,{children:"..."})},WAe="_checkingContainer_ormma_1",T5={checkingContainer:WAe},QAe=()=>{const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=Dn(),r=Fr($h),[i,a]=V.useState(0),o=Gm(r.webId??"",e??""),s=uK(o,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","inboxes","allHospex"]),l=STe(r.webId,n==="simple"?t:""),c=wTe(o.inboxes[0]??"",n==="solid"?t:"");if(Object.values(o).every(g=>g)&&(c===!0||c==="unset")&&(l===!0||l==="unset"))return B.jsx(Fw,{});const h=Object.entries(s).filter(([,g])=>g===void 0).map(([g])=>g);return l===void 0&&h.push("isSimpleEmailNotifications"),c===void 0&&h.push("isEmailNotifications"),Object.values(o).some(g=>g===void 0)||l===void 0||c===void 0?B.jsx(ZAe,{...s,isEmailNotifications:c,isSimpleEmailNotifications:l}):B.jsx(GAe,{...o,isSimpleEmailNotifications:l,isEmailNotifications:c,step:i,onStepChange:a})},ZAe=e=>{const t=Object.entries(e).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:JAe(n),value:r}));return B.jsxs("div",{className:T5.checkingContainer,children:[B.jsx("h2",{children:B.jsx(_t,{id:"ciEJp2"})}),B.jsx("p",{children:B.jsx(_t,{id:"iIICHU"})}),B.jsx("ul",{className:T5.checklist,children:t.map(n=>B.jsxs("li",{children:[n.value===!0?B.jsx(gy,{}):n.value===!1?B.jsx(sw,{}):n.value==="unverified"?B.jsx(zge,{}):B.jsx(iK,{})," ",n.label]},n.key))})]})},JAe=e=>e.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());var w_={exports:{}},bl={},b_={exports:{}},mo={},S_={exports:{}},A5;function RK(){return A5||(A5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(h,g){return g.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var g=h.offsetWidth<=0&&h.offsetHeight<=0;if(g&&!h.innerHTML)return!0;try{var y=window.getComputedStyle(h),v=y.getPropertyValue("display");return g?v!==r&&a(h,y):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(h){for(var g=h,y=h.getRootNode&&h.getRootNode();g&&g!==document.body;){if(y&&g===y&&(g=y.host.parentNode),o(g))return!1;g=g.parentNode}return!0}function l(h,g){var y=h.nodeName.toLowerCase(),v=i.test(y)&&!h.disabled||y==="a"&&h.href||g;return v&&s(h)}function c(h){var g=h.getAttribute("tabindex");g===null&&(g=void 0);var y=isNaN(g);return(y||g>=0)&&l(h,!y)}function d(h){var g=[].slice.call(h.querySelectorAll("*"),0).reduce(function(y,v){return y.concat(v.shadowRoot?d(v.shadowRoot):[v])},[]);return g.filter(c)}e.exports=t.default}(S_,S_.exports)),S_.exports}var R5;function YAe(){if(R5)return mo;R5=1,Object.defineProperty(mo,"__esModule",{value:!0}),mo.resetState=o,mo.log=s,mo.handleBlur=l,mo.handleFocus=c,mo.markForFocusLater=d,mo.returnFocus=h,mo.popWithoutFocus=g,mo.setupScopedFocus=y,mo.teardownScopedFocus=v;var e=RK(),t=n(e);function n(_){return _&&_.__esModule?_:{default:_}}var r=[],i=null,a=!1;function o(){r=[]}function s(){}function l(){a=!0}function c(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var _=(0,t.default)(i)[0]||i;_.focus()}},0)}}function d(){r.push(document.activeElement)}function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=null;try{r.length!==0&&(S=r.pop(),S.focus({preventScroll:_}));return}catch{console.warn(["You tried to return focus to",S,"but it is not in the DOM anymore"].join(" "))}}function g(){r.length>0&&r.pop()}function y(_){i=_,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function v(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return mo}var x_={exports:{}},P5;function XAe(){return P5||(P5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=RK(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?a(s.activeElement.shadowRoot):s.activeElement}function o(s,l){var c=(0,r.default)(s);if(!c.length){l.preventDefault();return}var d=void 0,h=l.shiftKey,g=c[0],y=c[c.length-1],v=a();if(s===v){if(!h)return;d=y}if(y===v&&!h&&(d=g),g===v&&h&&(d=y),d){l.preventDefault(),d.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var b=c.indexOf(v);if(b>-1&&(b+=h?-1:1),d=c[b],typeof d>"u"){l.preventDefault(),d=h?y:g,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default}(x_,x_.exports)),x_.exports}var Do={},lA,O5;function eRe(){if(O5)return lA;O5=1;var e=function(){};return lA=e,lA}var fs={},cA={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var L5;function tRe(){return L5||(L5=1,function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()}(cA)),cA.exports}var I5;function SL(){if(I5)return fs;I5=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.canUseDOM=fs.SafeNodeList=fs.SafeHTMLCollection=void 0;var e=tRe(),t=n(e);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default,i=r.canUseDOM?window.HTMLElement:{};return fs.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},fs.SafeNodeList=r.canUseDOM?window.NodeList:{},fs.canUseDOM=r.canUseDOM,fs.default=i,fs}var M5;function PK(){if(M5)return Do;M5=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.resetState=a,Do.log=o,Do.assertNodeList=s,Do.setElement=l,Do.validateElement=c,Do.hide=d,Do.show=h,Do.documentNotReadyOrSSRTesting=g;var e=eRe(),t=r(e),n=SL();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function o(){}function s(y,v){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function l(y){var v=y;if(typeof v=="string"&&n.canUseDOM){var _=document.querySelectorAll(v);s(_,v),v=_}return i=v||i,i}function c(y){var v=y||i;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function d(y){var v=!0,_=!1,S=void 0;try{for(var b=c(y)[Symbol.iterator](),x;!(v=(x=b.next()).done);v=!0){var A=x.value;A.setAttribute("aria-hidden","true")}}catch(P){_=!0,S=P}finally{try{!v&&b.return&&b.return()}finally{if(_)throw S}}}function h(y){var v=!0,_=!1,S=void 0;try{for(var b=c(y)[Symbol.iterator](),x;!(v=(x=b.next()).done);v=!0){var A=x.value;A.removeAttribute("aria-hidden")}}catch(P){_=!0,S=P}finally{try{!v&&b.return&&b.return()}finally{if(_)throw S}}}function g(){i=null}return Do}var Gc={},D5;function nRe(){if(D5)return Gc;D5=1,Object.defineProperty(Gc,"__esModule",{value:!0}),Gc.resetState=r,Gc.log=i;var e={},t={};function n(c,d){c.classList.remove(d)}function r(){var c=document.getElementsByTagName("html")[0];for(var d in e)n(c,e[d]);var h=document.body;for(var g in t)n(h,t[g]);e={},t={}}function i(){}var a=function(d,h){return d[h]||(d[h]=0),d[h]+=1,h},o=function(d,h){return d[h]&&(d[h]-=1),h},s=function(d,h,g){g.forEach(function(y){a(h,y),d.add(y)})},l=function(d,h,g){g.forEach(function(y){o(h,y),h[y]===0&&d.remove(y)})};return Gc.add=function(d,h){return s(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Gc.remove=function(d,h){return l(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Gc}var Fd={},k5;function OK(){if(k5)return Fd;k5=1,Object.defineProperty(Fd,"__esModule",{value:!0}),Fd.log=r,Fd.resetState=i;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var t=function a(){var o=this;e(this,a),this.register=function(s){o.openInstances.indexOf(s)===-1&&(o.openInstances.push(s),o.emit("register"))},this.deregister=function(s){var l=o.openInstances.indexOf(s);l!==-1&&(o.openInstances.splice(l,1),o.emit("deregister"))},this.subscribe=function(s){o.subscribers.push(s)},this.emit=function(s){o.subscribers.forEach(function(l){return l(s,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new t}return Fd.default=n,Fd}var tm={},N5;function rRe(){if(N5)return tm;N5=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.resetState=o,tm.log=s;var e=OK(),t=n(e);function n(d){return d&&d.__esModule?d:{default:d}}var r=void 0,i=void 0,a=[];function o(){for(var d=[r,i],h=0;h<d.length;h++){var g=d[h];g&&g.parentNode&&g.parentNode.removeChild(g)}r=i=null,a=[]}function s(){console.log("bodyTrap ----------"),console.log(a.length);for(var d=[r,i],h=0;h<d.length;h++){var g=d[h],y=g||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function c(d,h){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=h,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return t.default.subscribe(c),tm}var F5;function iRe(){return F5||(F5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(se){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var de in _e)Object.prototype.hasOwnProperty.call(_e,de)&&(se[de]=_e[de])}return se},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},i=function(){function se(pe,_e){for(var de=0;de<_e.length;de++){var ue=_e[de];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(pe,ue.key,ue)}}return function(pe,_e,de){return _e&&se(pe.prototype,_e),de&&se(pe,de),pe}}(),a=Dh(),o=PH(),s=O(o),l=YAe(),c=P(l),d=XAe(),h=O(d),g=PK(),y=P(g),v=nRe(),_=P(v),S=SL(),b=O(S),x=OK(),A=O(x);rRe();function P(se){if(se&&se.__esModule)return se;var pe={};if(se!=null)for(var _e in se)Object.prototype.hasOwnProperty.call(se,_e)&&(pe[_e]=se[_e]);return pe.default=se,pe}function O(se){return se&&se.__esModule?se:{default:se}}function D(se,pe){if(!(se instanceof pe))throw new TypeError("Cannot call a class as a function")}function F(se,pe){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:se}function Q(se,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);se.prototype=Object.create(pe&&pe.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(se,pe):se.__proto__=pe)}var X={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(pe){return pe.code==="Tab"||pe.keyCode===9},Y=function(pe){return pe.code==="Escape"||pe.keyCode===27},ce=0,te=function(se){Q(pe,se);function pe(_e){D(this,pe);var de=F(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,_e));return de.setOverlayRef=function(ue){de.overlay=ue,de.props.overlayRef&&de.props.overlayRef(ue)},de.setContentRef=function(ue){de.content=ue,de.props.contentRef&&de.props.contentRef(ue)},de.afterClose=function(){var ue=de.props,Re=ue.appElement,k=ue.ariaHideApp,ie=ue.htmlOpenClassName,me=ue.bodyOpenClassName,K=ue.parentSelector,ee=K&&K().ownerDocument||document;me&&_.remove(ee.body,me),ie&&_.remove(ee.getElementsByTagName("html")[0],ie),k&&ce>0&&(ce-=1,ce===0&&y.show(Re)),de.props.shouldFocusAfterRender&&(de.props.shouldReturnFocusAfterClose?(c.returnFocus(de.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),de.props.onAfterClose&&de.props.onAfterClose(),A.default.deregister(de)},de.open=function(){de.beforeOpen(),de.state.afterOpen&&de.state.beforeClose?(clearTimeout(de.closeTimer),de.setState({beforeClose:!1})):(de.props.shouldFocusAfterRender&&(c.setupScopedFocus(de.node),c.markForFocusLater()),de.setState({isOpen:!0},function(){de.openAnimationFrame=requestAnimationFrame(function(){de.setState({afterOpen:!0}),de.props.isOpen&&de.props.onAfterOpen&&de.props.onAfterOpen({overlayEl:de.overlay,contentEl:de.content})})}))},de.close=function(){de.props.closeTimeoutMS>0?de.closeWithTimeout():de.closeWithoutTimeout()},de.focusContent=function(){return de.content&&!de.contentHasFocus()&&de.content.focus({preventScroll:!0})},de.closeWithTimeout=function(){var ue=Date.now()+de.props.closeTimeoutMS;de.setState({beforeClose:!0,closesAt:ue},function(){de.closeTimer=setTimeout(de.closeWithoutTimeout,de.state.closesAt-Date.now())})},de.closeWithoutTimeout=function(){de.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},de.afterClose)},de.handleKeyDown=function(ue){U(ue)&&(0,h.default)(de.content,ue),de.props.shouldCloseOnEsc&&Y(ue)&&(ue.stopPropagation(),de.requestClose(ue))},de.handleOverlayOnClick=function(ue){de.shouldClose===null&&(de.shouldClose=!0),de.shouldClose&&de.props.shouldCloseOnOverlayClick&&(de.ownerHandlesClose()?de.requestClose(ue):de.focusContent()),de.shouldClose=null},de.handleContentOnMouseUp=function(){de.shouldClose=!1},de.handleOverlayOnMouseDown=function(ue){!de.props.shouldCloseOnOverlayClick&&ue.target==de.overlay&&ue.preventDefault()},de.handleContentOnClick=function(){de.shouldClose=!1},de.handleContentOnMouseDown=function(){de.shouldClose=!1},de.requestClose=function(ue){return de.ownerHandlesClose()&&de.props.onRequestClose(ue)},de.ownerHandlesClose=function(){return de.props.onRequestClose},de.shouldBeClosed=function(){return!de.state.isOpen&&!de.state.beforeClose},de.contentHasFocus=function(){return document.activeElement===de.content||de.content.contains(document.activeElement)},de.buildClassName=function(ue,Re){var k=(typeof Re>"u"?"undefined":r(Re))==="object"?Re:{base:X[ue],afterOpen:X[ue]+"--after-open",beforeClose:X[ue]+"--before-close"},ie=k.base;return de.state.afterOpen&&(ie=ie+" "+k.afterOpen),de.state.beforeClose&&(ie=ie+" "+k.beforeClose),typeof Re=="string"&&Re?ie+" "+Re:ie},de.attributesFromObject=function(ue,Re){return Object.keys(Re).reduce(function(k,ie){return k[ue+"-"+ie]=Re[ie],k},{})},de.state={afterOpen:!1,beforeClose:!1},de.shouldClose=null,de.moveFromContentToOverlay=null,de}return i(pe,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(de,ue){this.props.isOpen&&!de.isOpen?this.open():!this.props.isOpen&&de.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ue.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var de=this.props,ue=de.appElement,Re=de.ariaHideApp,k=de.htmlOpenClassName,ie=de.bodyOpenClassName,me=de.parentSelector,K=me&&me().ownerDocument||document;ie&&_.add(K.body,ie),k&&_.add(K.getElementsByTagName("html")[0],k),Re&&(ce+=1,y.hide(ue)),A.default.register(this)}},{key:"render",value:function(){var de=this.props,ue=de.id,Re=de.className,k=de.overlayClassName,ie=de.defaultStyles,me=de.children,K=Re?{}:ie.content,ee=k?{}:ie.overlay;if(this.shouldBeClosed())return null;var ge={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},ee,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ae=n({id:ue,ref:this.setContentRef,style:n({},K,this.props.style.content),className:this.buildClassName("content",Re),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ze=this.props.contentElement(Ae,me);return this.props.overlayElement(ge,Ze)}}]),pe}(a.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(b.default),s.default.instanceOf(S.SafeHTMLCollection),s.default.instanceOf(S.SafeNodeList),s.default.arrayOf(s.default.instanceOf(b.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=te,e.exports=t.default}(b_,b_.exports)),b_.exports}function LK(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function IK(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function MK(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}LK.__suppressDeprecationWarning=!0;IK.__suppressDeprecationWarning=!0;MK.__suppressDeprecationWarning=!0;function aRe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=LK,t.componentWillReceiveProps=IK),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=MK;var s=t.componentDidUpdate;t.componentDidUpdate=function(c,d,h){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;s.call(this,c,d,g)}}return e}const oRe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:aRe},Symbol.toStringTag,{value:"Module"})),sRe=dB(oRe);var j5;function uRe(){if(j5)return bl;j5=1,Object.defineProperty(bl,"__esModule",{value:!0}),bl.bodyOpenClassName=bl.portalClassName=void 0;var e=Object.assign||function(Y){for(var ce=1;ce<arguments.length;ce++){var te=arguments[ce];for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(Y[se]=te[se])}return Y},t=function(){function Y(ce,te){for(var se=0;se<te.length;se++){var pe=te[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(ce,pe.key,pe)}}return function(ce,te,se){return te&&Y(ce.prototype,te),se&&Y(ce,se),ce}}(),n=Dh(),r=S(n),i=yP(),a=S(i),o=PH(),s=S(o),l=iRe(),c=S(l),d=PK(),h=_(d),g=SL(),y=S(g),v=sRe;function _(Y){if(Y&&Y.__esModule)return Y;var ce={};if(Y!=null)for(var te in Y)Object.prototype.hasOwnProperty.call(Y,te)&&(ce[te]=Y[te]);return ce.default=Y,ce}function S(Y){return Y&&Y.__esModule?Y:{default:Y}}function b(Y,ce){if(!(Y instanceof ce))throw new TypeError("Cannot call a class as a function")}function x(Y,ce){if(!Y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce&&(typeof ce=="object"||typeof ce=="function")?ce:Y}function A(Y,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);Y.prototype=Object.create(ce&&ce.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,ce):Y.__proto__=ce)}var P=bl.portalClassName="ReactModalPortal",O=bl.bodyOpenClassName="ReactModal__Body--open",D=g.canUseDOM&&a.default.createPortal!==void 0,F=function(ce){return document.createElement(ce)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function X(Y){return Y()}var U=function(Y){A(ce,Y);function ce(){var te,se,pe,_e;b(this,ce);for(var de=arguments.length,ue=Array(de),Re=0;Re<de;Re++)ue[Re]=arguments[Re];return _e=(se=(pe=x(this,(te=ce.__proto__||Object.getPrototypeOf(ce)).call.apply(te,[this].concat(ue))),pe),pe.removePortal=function(){!D&&a.default.unmountComponentAtNode(pe.node);var k=X(pe.props.parentSelector);k&&k.contains(pe.node)?k.removeChild(pe.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},pe.portalRef=function(k){pe.portal=k},pe.renderPortal=function(k){var ie=Q(),me=ie(pe,r.default.createElement(c.default,e({defaultStyles:ce.defaultStyles},k)),pe.node);pe.portalRef(me)},se),x(pe,_e)}return t(ce,[{key:"componentDidMount",value:function(){if(g.canUseDOM){D||(this.node=F("div")),this.node.className=this.props.portalClassName;var se=X(this.props.parentSelector);se.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(se){var pe=X(se.parentSelector),_e=X(this.props.parentSelector);return{prevParent:pe,nextParent:_e}}},{key:"componentDidUpdate",value:function(se,pe,_e){if(g.canUseDOM){var de=this.props,ue=de.isOpen,Re=de.portalClassName;se.portalClassName!==Re&&(this.node.className=Re);var k=_e.prevParent,ie=_e.nextParent;ie!==k&&(k.removeChild(this.node),ie.appendChild(this.node)),!(!se.isOpen&&!ue)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!g.canUseDOM||!this.node||!this.portal)){var se=this.portal.state,pe=Date.now(),_e=se.isOpen&&this.props.closeTimeoutMS&&(se.closesAt||pe+this.props.closeTimeoutMS);_e?(se.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,_e-pe)):this.removePortal()}}},{key:"render",value:function(){if(!g.canUseDOM||!D)return null;!this.node&&D&&(this.node=F("div"));var se=Q();return se(r.default.createElement(c.default,e({ref:this.portalRef,defaultStyles:ce.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(se){h.setElement(se)}}]),ce}(n.Component);return U.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(g.SafeHTMLCollection),s.default.instanceOf(g.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},U.defaultProps={isOpen:!1,portalClassName:P,bodyOpenClassName:O,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(ce,te){return r.default.createElement("div",ce,te)},contentElement:function(ce,te){return r.default.createElement("div",ce,te)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(U),bl.default=U,bl}var $5;function lRe(){return $5||($5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=uRe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default}(w_,w_.exports)),w_.exports}var cRe=lRe();const DK=Lr(cRe),fRe="_modal_s2w5u_1",dRe="_overlay_s2w5u_14",U5={modal:fRe,overlay:dRe};DK.setAppElement("#root");const Rb=({className:e,overlayClassName:t,...n})=>B.jsx(DK,{className:Tr(U5.modal,e),overlayClassName:Tr(U5.overlay,t),...n}),hRe="_container_1buxd_1",pRe="_content_1buxd_18",gRe="_podOptions_1buxd_18",mRe="_tabs_1buxd_18",yRe="_tabContent_1buxd_38",vRe="_footer_1buxd_41",_Re="_email_1buxd_41",Wc={container:hRe,content:pRe,podOptions:gRe,tabs:mRe,tabContent:yRe,footer:vRe,email:_Re},fA=({issuer:e,registration:t,children:n})=>{const r=ec();return B.jsx(ime,{secondary:!0,href:t,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(nw.setLastSelectedIssuer(e))},"data-cy":"pod-provider-signup-link",children:n??new URL(e).hostname})},wRe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=Dn(),{i18n:r,_:i}=Wr(),o=ju(t).name||n;return V.useMemo(()=>[{id:"show-options",label:r._({id:"mOHsO6"}),content:B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"GipwRZ",values:{communityName:o}}),B.jsx("ul",{children:e.filter(l=>l.registration).map(l=>B.jsx("li",{children:B.jsx(fA,{...l})},l.issuer))})]})},{id:"choose-for-me",label:r._({id:"6BXxLh"}),content:B.jsxs(B.Fragment,{children:[B.jsx(fA,{...e.find(l=>l.recommended),children:B.jsx(_t,{id:"kNJ1eb"})}),B.jsx("br",{}),B.jsx(_t,{id:"OSMhQH",components:{0:B.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer"})}})]})},{id:"more-control",label:r._({id:"BvOhbj"}),content:B.jsxs(B.Fragment,{children:[B.jsx("p",{children:B.jsx(_t,{id:"CIxMWI",components:{0:B.jsx("b",{}),1:B.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer"})}})}),B.jsx("p",{children:B.jsx("i",{children:B.jsx(_t,{id:"vXZPG5",components:{0:B.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer"})}})})}),B.jsx("hr",{}),B.jsx("p",{children:B.jsx(_t,{id:"tz2jxv",components:{0:B.jsx("b",{}),1:B.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer"})}})}),B.jsx("p",{children:B.jsx(_t,{id:"eIoTjd",components:{0:B.jsx("i",{})}})}),B.jsx("ul",{children:e.filter(({server:l,registration:c})=>c&&l==="CSS").map(l=>B.jsx("li",{children:B.jsx(fA,{...l})},l.issuer))}),B.jsx("p",{children:B.jsx(_t,{id:"j9mD48"})}),B.jsx("p",{children:B.jsx(_t,{id:"hve6lN"})})]})}],[o,e,i])},bRe=()=>{var d;const[e,t]=V.useState(!1),[n,r]=V.useState(),{communityId:i,defaultCommunityName:a}=Dn(),s=ju(i).name||a,l=h=>{r(h.target.value)},c=wRe();return B.jsxs(B.Fragment,{children:[B.jsx(tr,{primary:!0,onClick:()=>t(!0),children:B.jsx(_t,{id:"0wdd7X"})}),B.jsx(Rb,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>t(!1),children:B.jsxs("div",{className:Wc.container,children:[B.jsxs("div",{className:Wc.content,children:[B.jsx(_t,{id:"wDQNDO",values:{communityName:s},components:{0:B.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer"})}}),B.jsxs("div",{className:Wc.podOptions,children:[B.jsx("div",{className:Wc.tabs,children:c.map(h=>B.jsxs(V.Fragment,{children:[B.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:l}),B.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),B.jsx("div",{className:Wc.tabContent,children:B.jsx("div",{children:(d=c.find(h=>h.id===n))==null?void 0:d.content})})]})]}),B.jsxs("div",{className:Wc.footer,children:[B.jsx(_t,{id:"CLrwxz"})," ",B.jsx(_t,{id:"PHGSgA",components:{0:B.jsx("a",{href:"https://matrix.to/#/#solidcouch:matrix.org",target:"_blank",rel:"noopener noreferrer"}),1:B.jsx("i",{className:Wc.email})}})]})]})})]})},SRe=async e=>{const{data:t}=await EH(e);return ur.createLdoDataset(t).usingType(uH).fromSubject(e).oidcIssuer.flatMap(r=>r["@id"]??[])},xRe=async e=>{try{const t=await SRe(e);if(t[0]===void 0)throw new Error("OIDC issuer not found");return t[0]}catch{return e}},ERe=(e,t)=>{var r;const n=new URL(e);return(r=t.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},kK=e=>{const t=e.trim();return t.startsWith("http")?t:`https://${t}`},CRe=(e,t)=>{const n=kK(e);return ERe(n,t)??n},TRe=async(e,t)=>{const n=kK(e),r=await xRe(n);return CRe(r,t)??r},ARe="_providers_kq9gh_1",RRe="_webIdForm_kq9gh_6",B5={providers:ARe,webIdForm:RRe},PRe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=Dn(),[r,i]=V.useState(!1),[a,o]=V.useState(!1),{i18n:s,_:l}=Wr(),c=Fr(Aq),d=e.some(b=>b.issuer===c),{register:h,handleSubmit:g}=Ns({defaultValues:{webIdOrIssuer:d?"":c}}),y=ec(),v=ju(t),_=async b=>{const x=c??"";y(nw.setLastSelectedIssuer(b));try{await vne({oidcIssuer:b,redirectUrl:new URL("/",window.location.href).toString(),clientName:v.name||n,clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(A){if(y(nw.setLastSelectedIssuer(x)),A instanceof TypeError){const P=A.message,O=A.toString();alert(s._({id:"Pygpzd",values:{oidcIssuer:b,message:P,errorString:O}}))}else alert(s._({id:"PS1p9R",values:{e:A}}))}},S=g(async({webIdOrIssuer:b})=>{try{const x=await TRe(b,e);await _(x)}catch(x){alert(s._({id:"PS1p9R",values:{e:x}}))}});return B.jsxs(B.Fragment,{children:[B.jsx(tr,{secondary:!0,onClick:()=>i(!0),children:B.jsx(_t,{id:"5lWFkC"})}),B.jsx(Rb,{isOpen:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>i(!1),children:B.jsxs("div",{className:B5.providers,children:[B.jsx(_t,{id:"4Ddjk6"}),c&&B.jsx(tr,{primary:!0,onClick:()=>_(c),"data-cy":"pod-provider-button",children:c.split("/").slice(2).filter(b=>b).join("/")}),e.filter(b=>b.issuer!==c).filter(b=>b.featured||a).map(({issuer:b})=>B.jsx(tr,{secondary:!0,onClick:()=>_(b),children:new URL(b).hostname},b)),!a&&B.jsx(tr,{tertiary:!0,onClick:()=>o(!0),children:B.jsx(_t,{id:"f8jrkd"})}),B.jsx(_t,{id:"Ud7x+A"}),B.jsxs("form",{className:B5.webIdForm,onSubmit:S,children:[B.jsx("input",{type:"text",placeholder:s._({id:"hwTKH1"}),...h("webIdOrIssuer",{required:"required"})}),B.jsx(tr,{primary:!0,type:"submit",children:B.jsx(_t,{id:"xGVfLh"})})]})]})})]})},ORe="_wrapper_1kkei_1",LRe="_mainDescription_1kkei_10",IRe="_pun_1kkei_16",MRe="_actions_1kkei_20",DRe="_logo_1kkei_30",kRe="_spacer_1kkei_35",NRe="_footer_1kkei_38",FRe="_footerInfo_1kkei_41",jRe="_attribution_1kkei_47",pu={wrapper:ORe,mainDescription:LRe,pun:IRe,actions:MRe,logo:DRe,spacer:kRe,footer:NRe,footerInfo:FRe,attribution:jRe},$Re=()=>{const{communityId:e}=Dn(),t=Fr(Eo),n=ju(e,t,jh),r=V.useMemo(()=>B.jsx(U9,{className:pu.logo,logo:n.logo[0],focusedLogo:n.logo[1]}),[n.logo]),i=V.useMemo(()=>n.pun?B.jsx("section",{className:pu.pun,children:n.pun}):void 0,[n.pun]),a=V.useMemo(()=>n.about?B.jsx("section",{className:pu.mainDescription,children:n.about}):null,[n.about]),o=i?B.jsxs(B.Fragment,{children:[i,r,a]}):B.jsxs(B.Fragment,{children:[a,r]});return B.jsxs("div",{className:pu.wrapper,children:[o,B.jsxs("section",{className:pu.actions,children:[B.jsx(bRe,{}),B.jsx(PRe,{})]}),B.jsx("div",{className:pu.spacer}),B.jsxs("footer",{className:pu.footer,children:[B.jsx("div",{className:pu.footerInfo,children:B.jsx(_t,{id:"Bn8bAf"})}),B.jsx("div",{className:pu.attribution,children:B.jsx(_t,{id:"zMDA2x",components:{0:B.jsx("a",{href:"https://github.com/solidcouch"})}})})]})]})},URe=()=>{yTe();const e=Fr($h);return e.isLoggedIn===void 0?B.jsx(xo,{children:B.jsx(_t,{id:"2FwEm8"})}):e.isLoggedIn===!1?B.jsx($Re,{}):B.jsx(QAe,{})},BRe="_container_1ml33_1",qRe={container:BRe},xL=({webId:e,link:t})=>{const{communityId:n}=Dn(),[r]=Qo(e,n),i=B.jsxs("div",{className:qRe.container,children:[B.jsx(Qw,{photo:r.photo,size:1}),r==null?void 0:r.name]});return t?B.jsx(Bo,{to:`/profile/${encodeURIComponent(e)}`,children:i}):i};var ih=function(e){return e.confirmed="confirmed",e.requestSent="request_sent",e.requestReceived="request_received",e}({});const NK=e=>{const{quads:t,variables:n,isLoading:r}=ma(V.useMemo(()=>({query:Fve,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const s=new Os(t);return(n.otherPerson??[]).map(l=>{const c=nc(l),d=s.getObjects(l,eO.seeAlso,c),h=s.getQuads(l,Gl.knows,e,c),g=d.flatMap(y=>s.getQuads(l,Gl.knows,e,y));return{webId:l,status:h.length+g.length>0?"confirmed":"request_sent"}})},[e,t,n.otherPerson]),[a,o]=zRe(e);return V.useMemo(()=>[i.concat(a),{isLoading:r},o],[r,i,o,a])},zRe=e=>{const{quads:t,variables:n,isLoading:r}=ma(V.useMemo(()=>({query:jve,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const a=n.inviteNotification??[],o=ur.createLdoDataset(t).usingType(cH);return a.map(s=>o.fromSubject(s)).filter(s=>{var l,c,d,h,g,y,v,_;return((c=(l=s.object)==null?void 0:l.subject)==null?void 0:c["@id"])===((d=s.actor)==null?void 0:d["@id"])&&((g=(h=s.object)==null?void 0:h.object)==null?void 0:g["@id"])===((y=s.target)==null?void 0:y["@id"])&&((_=(v=s.object)==null?void 0:v.relationship)==null?void 0:_["@id"])==="knows"}).map(s=>{var l;return{webId:(l=s.actor)==null?void 0:l["@id"],status:"request_received",notification:s["@id"],invitation:s.content2}})},[t,n.inviteNotification]);return V.useMemo(()=>[i,{isLoading:r}],[i,r])},HRe=()=>{const e=FK(),t=jK(),n=VRe();return V.useCallback(async({me:r,other:i,hospexContainer:a,inbox:o,message:s})=>{await e({me:r,other:i}),await n({inbox:o,me:r,other:i,message:s}),await t({person:i,hospexContainer:a})},[e,n,t])},VRe=()=>{const e=Wo(cH);return V.useCallback(async({inbox:t,me:n,other:r,message:i})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[e])},KRe=()=>{const e=pb();return V.useCallback(async({notification:t})=>{await e.mutateAsync({uri:t})},[e])},GRe=()=>{const e=pb(),t=FK(),n=jK();return V.useCallback(async({me:r,other:i,notification:a,hospexContainer:o})=>{await t({me:r,other:i}),await e.mutateAsync({uri:a}),await n({person:i,hospexContainer:o})},[t,e,n])},FK=()=>{const e=ts();return V.useCallback(async({me:t,other:n})=>{await e.mutateAsync({uri:t,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${t}> foaf:knows <${n}>.
          } .`})},[e])},jK=()=>{const e=E_e(Hf);return V.useCallback(async({person:t,hospexContainer:n})=>{const r=await rc(n);await e.mutateAsync({uri:r,match:i=>{const o=i.matchSubject(Nf.type,xn.Authorization).find(s=>{var l,c,d;return s.accessTo.length===1&&((l=s.accessTo[0])==null?void 0:l["@id"])===n&&((c=s.mode)==null?void 0:c.length)===1&&((d=s.mode[0])==null?void 0:d["@id"])===Es.Read});if(!o)throw new Error("subject not found");return o},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":t})}})},[e])},WRe="_contact_axrjx_1",QRe="_status_axrjx_10",ZRe="_contactList_axrjx_14",vm={contact:WRe,status:QRe,contactList:ZRe},JRe=({webId:e})=>{const t=gi(),[n]=NK(t.webId);if(!n)return B.jsx(xo,{children:B.jsx(_t,{id:"Z3FXyt"})});const r=n.find(i=>i.webId===e);return r?r.status===ih.confirmed?B.jsx(_t,{id:"dJsK6G"}):r.status===ih.requestSent?B.jsx(_t,{id:"uwiVz0"}):r.status===ih.requestReceived?B.jsx($K,{contact:r}):null:B.jsx(YRe,{webId:e})},$K=({contact:e,children:t})=>{const{i18n:n,_:r}=Wr(),{communityId:i}=Dn(),[a,o]=V.useState(!1),s=gi(),l=GRe(),c=KRe(),d=Gm(s.webId,i),h=async()=>{const y=xi(d.personalHospexDocuments[0]);if(!y)throw new Error(n._({id:"NLJ18A"}));await l({me:s.webId,other:e.webId,notification:e.notification,hospexContainer:y}),o(!1)},g=async()=>{await c({notification:e.notification}),o(!1)};return B.jsxs(B.Fragment,{children:[B.jsx(tr,{primary:!0,onClick:()=>o(!0),children:t??B.jsx(_t,{id:"piu7ZA"})}),B.jsxs(Rb,{isOpen:a,onRequestClose:()=>o(!1),children:[B.jsx("div",{children:e.invitation}),B.jsx(tr,{primary:!0,onClick:h,disabled:d.personalHospexDocuments.length===0,children:B.jsx(_t,{id:"g3UF2V"})}),B.jsx(tr,{secondary:!0,onClick:g,children:B.jsx(_t,{id:"gbbkE7"})})]})]})},YRe=({webId:e})=>{const{i18n:t,_:n}=Wr(),{communityId:r}=Dn(),[i,a]=V.useState(!1),o=gi(),s=HRe(),l=Gm(o.webId,r),c=Gm(e,r),d=async({invitation:g})=>{const y=xi(l.personalHospexDocuments[0]);if(!y)throw new Error(t._({id:"NLJ18A"}));const v=xi(c.inboxes[0]);if(!v)throw new Error(t._({id:"sRGBFr"}));await s({me:o.webId,other:e,message:g,hospexContainer:y,inbox:v}),a(!1)},h=async()=>{a(!1)};return B.jsxs(B.Fragment,{children:[B.jsx(tr,{secondary:!0,onClick:()=>{a(!0)},disabled:l.personalHospexDocuments.length===0||c.inboxes.length===0,children:B.jsx(_t,{id:"meH4FD"})}),B.jsx(Rb,{isOpen:i,onRequestClose:()=>a(!1),children:B.jsx(XRe,{onSubmit:d,onCancel:h})})]})},XRe=({onSubmit:e,onCancel:t})=>{const{i18n:n,_:r}=Wr(),{register:i,handleSubmit:a}=Ns({defaultValues:{invitation:n._({id:"8kXsjC"})}}),o=a(async s=>{await e(s)});return B.jsxs("div",{children:[B.jsx("h1",{children:B.jsx(_t,{id:"TFYtVq"})}),B.jsx("div",{children:B.jsx(_t,{id:"IYqOgL"})}),B.jsxs("form",{onSubmit:o,onReset:t,children:[B.jsx("textarea",{...i("invitation")}),B.jsx(tr,{primary:!0,type:"submit",children:B.jsx(_t,{id:"BajMQF"})}),B.jsx(tr,{secondary:!0,type:"reset",children:B.jsx(_t,{id:"dEgA5A"})})]})]})},ePe=()=>{const e=SP().id,t=gi(),[n]=NK(e);return t.webId?n?B.jsxs("div",{children:[B.jsx("h1",{children:B.jsx(_t,{id:"/Rg4q2",components:{0:B.jsx(xL,{webId:e,link:!0})}})}),B.jsx("ul",{className:vm.contactList,"data-cy":"contact-list",children:n.filter(r=>e===t.webId||r.status===ih.confirmed).map(r=>B.jsx("li",{children:B.jsx(tPe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):B.jsx(xo,{children:B.jsx(_t,{id:"maeAdU"})}):B.jsx(xo,{children:B.jsx(_t,{id:"qPXQY8"})})},tPe=({contact:e})=>B.jsxs("div",{className:vm.contact,"data-cy":"contact",children:[B.jsx(xL,{webId:e.webId,link:!0}),B.jsx("span",{className:vm.spacer}),e.status===ih.requestSent&&B.jsx("span",{className:vm.status,children:B.jsx(_t,{id:"S48xcO"})}),e.status===ih.requestReceived&&B.jsxs(B.Fragment,{children:[B.jsx($K,{contact:e,children:B.jsx(_t,{id:"WO3k4H"})}),B.jsx("span",{className:vm.status,children:B.jsx(_t,{id:"S48xcO"})})]})]});var q5=function(e,t,n){if(e&&"reportValidity"in e){var r=Bt(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},UK=function(e,t){var n=function(i){var a=t.fields[i];a&&a.ref&&"reportValidity"in a.ref?q5(a.ref,i,e):a.refs&&a.refs.forEach(function(o){return q5(o,i,e)})};for(var r in t.fields)n(r)},nPe=function(e,t){t.shouldUseNativeValidation&&UK(e,t);var n={};for(var r in e){var i=Bt(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(rPe(t.names||Object.keys(e),r)){var o=Object.assign({},Bt(n,r));_r(o,"root",a),_r(n,r,o)}else _r(n,r,a)}return n},rPe=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},E_={exports:{}},dA={},gu={},Qc={},hA={},pA={},gA={},z5;function Wm(){return z5||(z5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(x){if(super(),!e.IDENTIFIER.test(x))throw new Error("CodeGen: name must be a valid identifier");this.str=x}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(x){super(),this._items=typeof x=="string"?[x]:x}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const x=this._items[0];return x===""||x==='""'}get str(){var x;return(x=this._str)!==null&&x!==void 0?x:this._str=this._items.reduce((A,P)=>`${A}${P}`,"")}get names(){var x;return(x=this._names)!==null&&x!==void 0?x:this._names=this._items.reduce((A,P)=>(P instanceof n&&(A[P.str]=(A[P.str]||0)+1),A),{})}}e._Code=r,e.nil=new r("");function i(b,...x){const A=[b[0]];let P=0;for(;P<x.length;)s(A,x[P]),A.push(b[++P]);return new r(A)}e._=i;const a=new r("+");function o(b,...x){const A=[y(b[0])];let P=0;for(;P<x.length;)A.push(a),s(A,x[P]),A.push(a,y(b[++P]));return l(A),new r(A)}e.str=o;function s(b,x){x instanceof r?b.push(...x._items):x instanceof n?b.push(x):b.push(h(x))}e.addCodeArg=s;function l(b){let x=1;for(;x<b.length-1;){if(b[x]===a){const A=c(b[x-1],b[x+1]);if(A!==void 0){b.splice(x-1,3,A);continue}b[x++]="+"}x++}}function c(b,x){if(x==='""')return b;if(b==='""')return x;if(typeof b=="string")return x instanceof n||b[b.length-1]!=='"'?void 0:typeof x!="string"?`${b.slice(0,-1)}${x}"`:x[0]==='"'?b.slice(0,-1)+x.slice(1):void 0;if(typeof x=="string"&&x[0]==='"'&&!(b instanceof n))return`"${b}${x.slice(1)}`}function d(b,x){return x.emptyStr()?b:b.emptyStr()?x:o`${b}${x}`}e.strConcat=d;function h(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:y(Array.isArray(b)?b.join(","):b)}function g(b){return new r(y(b))}e.stringify=g;function y(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function v(b){return typeof b=="string"&&e.IDENTIFIER.test(b)?new r(`.${b}`):i`[${b}]`}e.getProperty=v;function _(b){if(typeof b=="string"&&e.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}e.getEsmExportName=_;function S(b){return new r(b.toString())}e.regexpCode=S}(gA)),gA}var mA={},H5;function V5(){return H5||(H5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=Wm();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=i;class a extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class s extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(c),{prefix:y}=g,v=(h=d.key)!==null&&h!==void 0?h:d.ref;let _=this._values[y];if(_){const x=_.get(v);if(x)return x}else _=this._values[y]=new Map;_.set(v,g);const S=this._scope[y]||(this._scope[y]=[]),b=S.length;return S[b]=d.ref,g.setValue(d,{property:y,itemIndex:b}),g}getValue(c,d){const h=this._values[c];if(h)return h.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,d,h){return this._reduceValues(c,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},d,h)}_reduceValues(c,d,h={},g){let y=t.nil;for(const v in c){const _=c[v];if(!_)continue;const S=h[v]=h[v]||new Map;_.forEach(b=>{if(S.has(b))return;S.set(b,r.Started);let x=d(b);if(x){const A=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${A} ${b} = ${x};${this.opts._n}`}else if(x=g==null?void 0:g(b))y=(0,t._)`${y}${x}${this.opts._n}`;else throw new n(b);S.set(b,r.Completed)})}return y}}e.ValueScope=s}(mA)),mA}var K5;function Ln(){return K5||(K5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=Wm(),n=V5();var r=Wm();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=V5();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(ee,ge){return this}}class o extends a{constructor(ee,ge,Ae){super(),this.varKind=ee,this.name=ge,this.rhs=Ae}render({es5:ee,_n:ge}){const Ae=ee?n.varKinds.var:this.varKind,Ze=this.rhs===void 0?"":` = ${this.rhs}`;return`${Ae} ${this.name}${Ze};`+ge}optimizeNames(ee,ge){if(ee[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,ee,ge)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(ee,ge,Ae){super(),this.lhs=ee,this.rhs=ge,this.sideEffects=Ae}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,ge){if(!(this.lhs instanceof t.Name&&!ee[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,ee,ge),this}get names(){const ee=this.lhs instanceof t.Name?{}:{...this.lhs.names};return te(ee,this.rhs)}}class l extends s{constructor(ee,ge,Ae,Ze){super(ee,Ae,Ze),this.op=ge}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class c extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class d extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class h extends a{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class g extends a{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,ge){return this.code=se(this.code,ee,ge),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends a{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((ge,Ae)=>ge+Ae.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let ge=ee.length;for(;ge--;){const Ae=ee[ge].optimizeNodes();Array.isArray(Ae)?ee.splice(ge,1,...Ae):Ae?ee[ge]=Ae:ee.splice(ge,1)}return ee.length>0?this:void 0}optimizeNames(ee,ge){const{nodes:Ae}=this;let Ze=Ae.length;for(;Ze--;){const Pe=Ae[Ze];Pe.optimizeNames(ee,ge)||(pe(ee,Pe.names),Ae.splice(Ze,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((ee,ge)=>ce(ee,ge.names),{})}}class v extends y{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class _ extends y{}class S extends v{}S.kind="else";class b extends v{constructor(ee,ge){super(ge),this.condition=ee}render(ee){let ge=`if(${this.condition})`+super.render(ee);return this.else&&(ge+="else "+this.else.render(ee)),ge}optimizeNodes(){super.optimizeNodes();const ee=this.condition;if(ee===!0)return this.nodes;let ge=this.else;if(ge){const Ae=ge.optimizeNodes();ge=this.else=Array.isArray(Ae)?new S(Ae):Ae}if(ge)return ee===!1?ge instanceof b?ge:ge.nodes:this.nodes.length?this:new b(_e(ee),ge instanceof b?[ge]:ge.nodes);if(!(ee===!1||!this.nodes.length))return this}optimizeNames(ee,ge){var Ae;if(this.else=(Ae=this.else)===null||Ae===void 0?void 0:Ae.optimizeNames(ee,ge),!!(super.optimizeNames(ee,ge)||this.else))return this.condition=se(this.condition,ee,ge),this}get names(){const ee=super.names;return te(ee,this.condition),this.else&&ce(ee,this.else.names),ee}}b.kind="if";class x extends v{}x.kind="for";class A extends x{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,ge){if(super.optimizeNames(ee,ge))return this.iteration=se(this.iteration,ee,ge),this}get names(){return ce(super.names,this.iteration.names)}}class P extends x{constructor(ee,ge,Ae,Ze){super(),this.varKind=ee,this.name=ge,this.from=Ae,this.to=Ze}render(ee){const ge=ee.es5?n.varKinds.var:this.varKind,{name:Ae,from:Ze,to:Pe}=this;return`for(${ge} ${Ae}=${Ze}; ${Ae}<${Pe}; ${Ae}++)`+super.render(ee)}get names(){const ee=te(super.names,this.from);return te(ee,this.to)}}class O extends x{constructor(ee,ge,Ae,Ze){super(),this.loop=ee,this.varKind=ge,this.name=Ae,this.iterable=Ze}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,ge){if(super.optimizeNames(ee,ge))return this.iterable=se(this.iterable,ee,ge),this}get names(){return ce(super.names,this.iterable.names)}}class D extends v{constructor(ee,ge,Ae){super(),this.name=ee,this.args=ge,this.async=Ae}render(ee){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ee)}}D.kind="func";class F extends y{render(ee){return"return "+super.render(ee)}}F.kind="return";class Q extends v{render(ee){let ge="try"+super.render(ee);return this.catch&&(ge+=this.catch.render(ee)),this.finally&&(ge+=this.finally.render(ee)),ge}optimizeNodes(){var ee,ge;return super.optimizeNodes(),(ee=this.catch)===null||ee===void 0||ee.optimizeNodes(),(ge=this.finally)===null||ge===void 0||ge.optimizeNodes(),this}optimizeNames(ee,ge){var Ae,Ze;return super.optimizeNames(ee,ge),(Ae=this.catch)===null||Ae===void 0||Ae.optimizeNames(ee,ge),(Ze=this.finally)===null||Ze===void 0||Ze.optimizeNames(ee,ge),this}get names(){const ee=super.names;return this.catch&&ce(ee,this.catch.names),this.finally&&ce(ee,this.finally.names),ee}}class X extends v{constructor(ee){super(),this.error=ee}render(ee){return`catch(${this.error})`+super.render(ee)}}X.kind="catch";class U extends v{render(ee){return"finally"+super.render(ee)}}U.kind="finally";class Y{constructor(ee,ge={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ge,_n:ge.lines?`
`:""},this._extScope=ee,this._scope=new n.Scope({parent:ee}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,ge){const Ae=this._extScope.value(ee,ge);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(ee,ge){return this._extScope.getValue(ee,ge)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,ge,Ae,Ze){const Pe=this._scope.toName(ge);return Ae!==void 0&&Ze&&(this._constants[Pe.str]=Ae),this._leafNode(new o(ee,Pe,Ae)),Pe}const(ee,ge,Ae){return this._def(n.varKinds.const,ee,ge,Ae)}let(ee,ge,Ae){return this._def(n.varKinds.let,ee,ge,Ae)}var(ee,ge,Ae){return this._def(n.varKinds.var,ee,ge,Ae)}assign(ee,ge,Ae){return this._leafNode(new s(ee,ge,Ae))}add(ee,ge){return this._leafNode(new l(ee,e.operators.ADD,ge))}code(ee){return typeof ee=="function"?ee():ee!==t.nil&&this._leafNode(new g(ee)),this}object(...ee){const ge=["{"];for(const[Ae,Ze]of ee)ge.length>1&&ge.push(","),ge.push(Ae),(Ae!==Ze||this.opts.es5)&&(ge.push(":"),(0,t.addCodeArg)(ge,Ze));return ge.push("}"),new t._Code(ge)}if(ee,ge,Ae){if(this._blockNode(new b(ee)),ge&&Ae)this.code(ge).else().code(Ae).endIf();else if(ge)this.code(ge).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new b(ee))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(b,S)}_for(ee,ge){return this._blockNode(ee),ge&&this.code(ge).endFor(),this}for(ee,ge){return this._for(new A(ee),ge)}forRange(ee,ge,Ae,Ze,Pe=this.opts.es5?n.varKinds.var:n.varKinds.let){const Ne=this._scope.toName(ee);return this._for(new P(Pe,Ne,ge,Ae),()=>Ze(Ne))}forOf(ee,ge,Ae,Ze=n.varKinds.const){const Pe=this._scope.toName(ee);if(this.opts.es5){const Ne=ge instanceof t.Name?ge:this.var("_arr",ge);return this.forRange("_i",0,(0,t._)`${Ne}.length`,Ye=>{this.var(Pe,(0,t._)`${Ne}[${Ye}]`),Ae(Pe)})}return this._for(new O("of",Ze,Pe,ge),()=>Ae(Pe))}forIn(ee,ge,Ae,Ze=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(ee,(0,t._)`Object.keys(${ge})`,Ae);const Pe=this._scope.toName(ee);return this._for(new O("in",Ze,Pe,ge),()=>Ae(Pe))}endFor(){return this._endBlockNode(x)}label(ee){return this._leafNode(new c(ee))}break(ee){return this._leafNode(new d(ee))}return(ee){const ge=new F;if(this._blockNode(ge),this.code(ee),ge.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(ee,ge,Ae){if(!ge&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ze=new Q;if(this._blockNode(Ze),this.code(ee),ge){const Pe=this.name("e");this._currNode=Ze.catch=new X(Pe),ge(Pe)}return Ae&&(this._currNode=Ze.finally=new U,this.code(Ae)),this._endBlockNode(X,U)}throw(ee){return this._leafNode(new h(ee))}block(ee,ge){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(ge),this}endBlock(ee){const ge=this._blockStarts.pop();if(ge===void 0)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-ge;if(Ae<0||ee!==void 0&&Ae!==ee)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${ee} expected`);return this._nodes.length=ge,this}func(ee,ge=t.nil,Ae,Ze){return this._blockNode(new D(ee,ge,Ae)),Ze&&this.code(Ze).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,ge){const Ae=this._currNode;if(Ae instanceof ee||ge&&Ae instanceof ge)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ge?`${ee.kind}/${ge.kind}`:ee.kind}"`)}_elseNode(ee){const ge=this._currNode;if(!(ge instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=ge.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const ge=this._nodes;ge[ge.length-1]=ee}}e.CodeGen=Y;function ce(K,ee){for(const ge in ee)K[ge]=(K[ge]||0)+(ee[ge]||0);return K}function te(K,ee){return ee instanceof t._CodeOrName?ce(K,ee.names):K}function se(K,ee,ge){if(K instanceof t.Name)return Ae(K);if(!Ze(K))return K;return new t._Code(K._items.reduce((Pe,Ne)=>(Ne instanceof t.Name&&(Ne=Ae(Ne)),Ne instanceof t._Code?Pe.push(...Ne._items):Pe.push(Ne),Pe),[]));function Ae(Pe){const Ne=ge[Pe.str];return Ne===void 0||ee[Pe.str]!==1?Pe:(delete ee[Pe.str],Ne)}function Ze(Pe){return Pe instanceof t._Code&&Pe._items.some(Ne=>Ne instanceof t.Name&&ee[Ne.str]===1&&ge[Ne.str]!==void 0)}}function pe(K,ee){for(const ge in ee)K[ge]=(K[ge]||0)-(ee[ge]||0)}function _e(K){return typeof K=="boolean"||typeof K=="number"||K===null?!K:(0,t._)`!${me(K)}`}e.not=_e;const de=ie(e.operators.AND);function ue(...K){return K.reduce(de)}e.and=ue;const Re=ie(e.operators.OR);function k(...K){return K.reduce(Re)}e.or=k;function ie(K){return(ee,ge)=>ee===t.nil?ge:ge===t.nil?ee:(0,t._)`${me(ee)} ${K} ${me(ge)}`}function me(K){return K instanceof t.Name?K:(0,t._)`(${K})`}}(pA)),pA}var An={},G5;function Kn(){if(G5)return An;G5=1,Object.defineProperty(An,"__esModule",{value:!0}),An.checkStrictMode=An.getErrorPath=An.Type=An.useFunc=An.setEvaluated=An.evaluatedPropsToName=An.mergeEvaluated=An.eachItem=An.unescapeJsonPointer=An.escapeJsonPointer=An.escapeFragment=An.unescapeFragment=An.schemaRefOrVal=An.schemaHasRulesButRef=An.schemaHasRules=An.checkUnknownRules=An.alwaysValidSchema=An.toHash=void 0;const e=Ln(),t=Wm();function n(O){const D={};for(const F of O)D[F]=!0;return D}An.toHash=n;function r(O,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(O,D),!a(D,O.self.RULES.all))}An.alwaysValidSchema=r;function i(O,D=O.schema){const{opts:F,self:Q}=O;if(!F.strictSchema||typeof D=="boolean")return;const X=Q.RULES.keywords;for(const U in D)X[U]||P(O,`unknown keyword: "${U}"`)}An.checkUnknownRules=i;function a(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(D[F])return!0;return!1}An.schemaHasRules=a;function o(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(F!=="$ref"&&D.all[F])return!0;return!1}An.schemaHasRulesButRef=o;function s({topSchemaRef:O,schemaPath:D},F,Q,X){if(!X){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,e._)`${F}`}return(0,e._)`${O}${D}${(0,e.getProperty)(Q)}`}An.schemaRefOrVal=s;function l(O){return h(decodeURIComponent(O))}An.unescapeFragment=l;function c(O){return encodeURIComponent(d(O))}An.escapeFragment=c;function d(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}An.escapeJsonPointer=d;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}An.unescapeJsonPointer=h;function g(O,D){if(Array.isArray(O))for(const F of O)D(F);else D(O)}An.eachItem=g;function y({mergeNames:O,mergeToName:D,mergeValues:F,resultToName:Q}){return(X,U,Y,ce)=>{const te=Y===void 0?U:Y instanceof e.Name?(U instanceof e.Name?O(X,U,Y):D(X,U,Y),Y):U instanceof e.Name?(D(X,Y,U),U):F(U,Y);return ce===e.Name&&!(te instanceof e.Name)?Q(X,te):te}}An.mergeEvaluated={props:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>{O.if((0,e._)`${D} === true`,()=>O.assign(F,!0),()=>O.assign(F,(0,e._)`${F} || {}`).code((0,e._)`Object.assign(${F}, ${D})`))}),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>{D===!0?O.assign(F,!0):(O.assign(F,(0,e._)`${F} || {}`),_(O,F,D))}),mergeValues:(O,D)=>O===!0?!0:{...O,...D},resultToName:v}),items:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>O.assign(F,(0,e._)`${D} === true ? true : ${F} > ${D} ? ${F} : ${D}`)),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>O.assign(F,D===!0?!0:(0,e._)`${F} > ${D} ? ${F} : ${D}`)),mergeValues:(O,D)=>O===!0?!0:Math.max(O,D),resultToName:(O,D)=>O.var("items",D)})};function v(O,D){if(D===!0)return O.var("props",!0);const F=O.var("props",(0,e._)`{}`);return D!==void 0&&_(O,F,D),F}An.evaluatedPropsToName=v;function _(O,D,F){Object.keys(F).forEach(Q=>O.assign((0,e._)`${D}${(0,e.getProperty)(Q)}`,!0))}An.setEvaluated=_;const S={};function b(O,D){return O.scopeValue("func",{ref:D,code:S[D.code]||(S[D.code]=new t._Code(D.code))})}An.useFunc=b;var x;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(x||(An.Type=x={}));function A(O,D,F){if(O instanceof e.Name){const Q=D===x.Num;return F?Q?(0,e._)`"[" + ${O} + "]"`:(0,e._)`"['" + ${O} + "']"`:Q?(0,e._)`"/" + ${O}`:(0,e._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,e.getProperty)(O).toString():"/"+d(O)}An.getErrorPath=A;function P(O,D,F=O.opts.strictSchema){if(F){if(D=`strict mode: ${D}`,F===!0)throw new Error(D);O.self.logger.warn(D)}}return An.checkStrictMode=P,An}var C_={},W5;function Bu(){if(W5)return C_;W5=1,Object.defineProperty(C_,"__esModule",{value:!0});const e=Ln(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return C_.default=t,C_}var Q5;function Ry(){return Q5||(Q5=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Ln(),n=Kn(),r=Bu();e.keywordError={message:({keyword:S})=>(0,t.str)`must pass "${S}" keyword validation`},e.keyword$DataError={message:({keyword:S,schemaType:b})=>b?(0,t.str)`"${S}" keyword must be ${b} ($data)`:(0,t.str)`"${S}" keyword is invalid ($data)`};function i(S,b=e.keywordError,x,A){const{it:P}=S,{gen:O,compositeRule:D,allErrors:F}=P,Q=h(S,b,x);A??(D||F)?l(O,Q):c(P,(0,t._)`[${Q}]`)}e.reportError=i;function a(S,b=e.keywordError,x){const{it:A}=S,{gen:P,compositeRule:O,allErrors:D}=A,F=h(S,b,x);l(P,F),O||D||c(A,r.default.vErrors)}e.reportExtraError=a;function o(S,b){S.assign(r.default.errors,b),S.if((0,t._)`${r.default.vErrors} !== null`,()=>S.if(b,()=>S.assign((0,t._)`${r.default.vErrors}.length`,b),()=>S.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:S,keyword:b,schemaValue:x,data:A,errsCount:P,it:O}){if(P===void 0)throw new Error("ajv implementation error");const D=S.name("err");S.forRange("i",P,r.default.errors,F=>{S.const(D,(0,t._)`${r.default.vErrors}[${F}]`),S.if((0,t._)`${D}.instancePath === undefined`,()=>S.assign((0,t._)`${D}.instancePath`,(0,t.strConcat)(r.default.instancePath,O.errorPath))),S.assign((0,t._)`${D}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${b}`),O.opts.verbose&&(S.assign((0,t._)`${D}.schema`,x),S.assign((0,t._)`${D}.data`,A))})}e.extendErrors=s;function l(S,b){const x=S.const("err",b);S.if((0,t._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,t._)`[${x}]`),(0,t._)`${r.default.vErrors}.push(${x})`),S.code((0,t._)`${r.default.errors}++`)}function c(S,b){const{gen:x,validateName:A,schemaEnv:P}=S;P.$async?x.throw((0,t._)`new ${S.ValidationError}(${b})`):(x.assign((0,t._)`${A}.errors`,b),x.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(S,b,x){const{createErrors:A}=S.it;return A===!1?(0,t._)`{}`:g(S,b,x)}function g(S,b,x={}){const{gen:A,it:P}=S,O=[y(P,x),v(S,x)];return _(S,b,O),A.object(...O)}function y({errorPath:S},{instancePath:b}){const x=b?(0,t.str)`${S}${(0,n.getErrorPath)(b,n.Type.Str)}`:S;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,x)]}function v({keyword:S,it:{errSchemaPath:b}},{schemaPath:x,parentSchema:A}){let P=A?b:(0,t.str)`${b}/${S}`;return x&&(P=(0,t.str)`${P}${(0,n.getErrorPath)(x,n.Type.Str)}`),[d.schemaPath,P]}function _(S,{params:b,message:x},A){const{keyword:P,data:O,schemaValue:D,it:F}=S,{opts:Q,propertyName:X,topSchemaRef:U,schemaPath:Y}=F;A.push([d.keyword,P],[d.params,typeof b=="function"?b(S):b||(0,t._)`{}`]),Q.messages&&A.push([d.message,typeof x=="function"?x(S):x]),Q.verbose&&A.push([d.schema,D],[d.parentSchema,(0,t._)`${U}${Y}`],[r.default.data,O]),X&&A.push([d.propertyName,X])}}(hA)),hA}var Z5;function iPe(){if(Z5)return Qc;Z5=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.boolOrEmptySchema=Qc.topBoolOrEmptySchema=void 0;const e=Ry(),t=Ln(),n=Bu(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:c,validateName:d}=s;c===!1?o(s,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${d}.errors`,null),l.return(!0))}Qc.topBoolOrEmptySchema=i;function a(s,l){const{gen:c,schema:d}=s;d===!1?(c.var(l,!1),o(s)):c.var(l,!0)}Qc.boolOrEmptySchema=a;function o(s,l){const{gen:c,data:d}=s,h={gen:c,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(h,r,void 0,l)}return Qc}var Oi={},Zc={},J5;function BK(){if(J5)return Zc;J5=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.getRules=Zc.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Zc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Zc.getRules=r,Zc}var mu={},Y5;function qK(){if(Y5)return mu;Y5=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.shouldUseRule=mu.shouldUseGroup=mu.schemaHasRulesForType=void 0;function e({schema:r,self:i},a){const o=i.RULES.types[a];return o&&o!==!0&&t(r,o)}mu.schemaHasRulesForType=e;function t(r,i){return i.rules.some(a=>n(r,a))}mu.shouldUseGroup=t;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(o=>r[o]!==void 0))}return mu.shouldUseRule=n,mu}var X5;function Tw(){if(X5)return Oi;X5=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.reportTypeError=Oi.checkDataTypes=Oi.checkDataType=Oi.coerceAndCheckDataType=Oi.getJSONTypes=Oi.getSchemaTypes=Oi.DataType=void 0;const e=BK(),t=qK(),n=Ry(),r=Ln(),i=Kn();var a;(function(x){x[x.Correct=0]="Correct",x[x.Wrong=1]="Wrong"})(a||(Oi.DataType=a={}));function o(x){const A=s(x.type);if(A.includes("null")){if(x.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&x.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');x.nullable===!0&&A.push("null")}return A}Oi.getSchemaTypes=o;function s(x){const A=Array.isArray(x)?x:x?[x]:[];if(A.every(e.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}Oi.getJSONTypes=s;function l(x,A){const{gen:P,data:O,opts:D}=x,F=d(A,D.coerceTypes),Q=A.length>0&&!(F.length===0&&A.length===1&&(0,t.schemaHasRulesForType)(x,A[0]));if(Q){const X=v(A,O,D.strictNumbers,a.Wrong);P.if(X,()=>{F.length?h(x,A,F):S(x)})}return Q}Oi.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function d(x,A){return A?x.filter(P=>c.has(P)||A==="array"&&P==="array"):[]}function h(x,A,P){const{gen:O,data:D,opts:F}=x,Q=O.let("dataType",(0,r._)`typeof ${D}`),X=O.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&O.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>O.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(v(A,D,F.strictNumbers),()=>O.assign(X,D))),O.if((0,r._)`${X} !== undefined`);for(const Y of P)(c.has(Y)||Y==="array"&&F.coerceTypes==="array")&&U(Y);O.else(),S(x),O.endIf(),O.if((0,r._)`${X} !== undefined`,()=>{O.assign(D,X),g(x,X)});function U(Y){switch(Y){case"string":O.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(X,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(X,(0,r._)`""`);return;case"number":O.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(X,(0,r._)`+${D}`);return;case"integer":O.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(X,(0,r._)`+${D}`);return;case"boolean":O.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(X,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(X,!0);return;case"null":O.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),O.assign(X,null);return;case"array":O.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(X,(0,r._)`[${D}]`)}}}function g({gen:x,parentData:A,parentDataProperty:P},O){x.if((0,r._)`${A} !== undefined`,()=>x.assign((0,r._)`${A}[${P}]`,O))}function y(x,A,P,O=a.Correct){const D=O===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(x){case"null":return(0,r._)`${A} ${D} null`;case"array":F=(0,r._)`Array.isArray(${A})`;break;case"object":F=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":F=Q((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":F=Q();break;default:return(0,r._)`typeof ${A} ${D} ${x}`}return O===a.Correct?F:(0,r.not)(F);function Q(X=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,X,P?(0,r._)`isFinite(${A})`:r.nil)}}Oi.checkDataType=y;function v(x,A,P,O){if(x.length===1)return y(x[0],A,P,O);let D;const F=(0,i.toHash)(x);if(F.array&&F.object){const Q=(0,r._)`typeof ${A} != "object"`;D=F.null?Q:(0,r._)`!${A} || ${Q}`,delete F.null,delete F.array,delete F.object}else D=r.nil;F.number&&delete F.integer;for(const Q in F)D=(0,r.and)(D,y(Q,A,P,O));return D}Oi.checkDataTypes=v;const _={message:({schema:x})=>`must be ${x}`,params:({schema:x,schemaValue:A})=>typeof x=="string"?(0,r._)`{type: ${x}}`:(0,r._)`{type: ${A}}`};function S(x){const A=b(x);(0,n.reportError)(A,_)}Oi.reportTypeError=S;function b(x){const{gen:A,data:P,schema:O}=x,D=(0,i.schemaRefOrVal)(x,O,"type");return{gen:A,keyword:"type",data:P,schema:O.type,schemaCode:D,schemaValue:D,parentSchema:O,params:{},it:x}}return Oi}var nm={},e8;function aPe(){if(e8)return nm;e8=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.assignDefaults=void 0;const e=Ln(),t=Kn();function n(i,a){const{properties:o,items:s}=i.schema;if(a==="object"&&o)for(const l in o)r(i,l,o[l].default);else a==="array"&&Array.isArray(s)&&s.forEach((l,c)=>r(i,c,l.default))}nm.assignDefaults=n;function r(i,a,o){const{gen:s,compositeRule:l,data:c,opts:d}=i;if(o===void 0)return;const h=(0,e._)`${c}${(0,e.getProperty)(a)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${h}`);return}let g=(0,e._)`${h} === undefined`;d.useDefaults==="empty"&&(g=(0,e._)`${g} || ${h} === null || ${h} === ""`),s.if(g,(0,e._)`${h} = ${(0,e.stringify)(o)}`)}return nm}var ko={},sr={},t8;function rs(){if(t8)return sr;t8=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.validateUnion=sr.validateArray=sr.usePattern=sr.callValidateCode=sr.schemaProperties=sr.allSchemaProperties=sr.noPropertyInData=sr.propertyInData=sr.isOwnProperty=sr.hasPropFunc=sr.reportMissingProp=sr.checkMissingProp=sr.checkReportMissingProp=void 0;const e=Ln(),t=Kn(),n=Bu(),r=Kn();function i(x,A){const{gen:P,data:O,it:D}=x;P.if(d(P,O,A,D.opts.ownProperties),()=>{x.setParams({missingProperty:(0,e._)`${A}`},!0),x.error()})}sr.checkReportMissingProp=i;function a({gen:x,data:A,it:{opts:P}},O,D){return(0,e.or)(...O.map(F=>(0,e.and)(d(x,A,F,P.ownProperties),(0,e._)`${D} = ${F}`)))}sr.checkMissingProp=a;function o(x,A){x.setParams({missingProperty:A},!0),x.error()}sr.reportMissingProp=o;function s(x){return x.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}sr.hasPropFunc=s;function l(x,A,P){return(0,e._)`${s(x)}.call(${A}, ${P})`}sr.isOwnProperty=l;function c(x,A,P,O){const D=(0,e._)`${A}${(0,e.getProperty)(P)} !== undefined`;return O?(0,e._)`${D} && ${l(x,A,P)}`:D}sr.propertyInData=c;function d(x,A,P,O){const D=(0,e._)`${A}${(0,e.getProperty)(P)} === undefined`;return O?(0,e.or)(D,(0,e.not)(l(x,A,P))):D}sr.noPropertyInData=d;function h(x){return x?Object.keys(x).filter(A=>A!=="__proto__"):[]}sr.allSchemaProperties=h;function g(x,A){return h(A).filter(P=>!(0,t.alwaysValidSchema)(x,A[P]))}sr.schemaProperties=g;function y({schemaCode:x,data:A,it:{gen:P,topSchemaRef:O,schemaPath:D,errorPath:F},it:Q},X,U,Y){const ce=Y?(0,e._)`${x}, ${A}, ${O}${D}`:A,te=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,F)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&te.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const se=(0,e._)`${ce}, ${P.object(...te)}`;return U!==e.nil?(0,e._)`${X}.call(${U}, ${se})`:(0,e._)`${X}(${se})`}sr.callValidateCode=y;const v=(0,e._)`new RegExp`;function _({gen:x,it:{opts:A}},P){const O=A.unicodeRegExp?"u":"",{regExp:D}=A.code,F=D(P,O);return x.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,e._)`${D.code==="new RegExp"?v:(0,r.useFunc)(x,D)}(${P}, ${O})`})}sr.usePattern=_;function S(x){const{gen:A,data:P,keyword:O,it:D}=x,F=A.name("valid");if(D.allErrors){const X=A.let("valid",!0);return Q(()=>A.assign(X,!1)),X}return A.var(F,!0),Q(()=>A.break()),F;function Q(X){const U=A.const("len",(0,e._)`${P}.length`);A.forRange("i",0,U,Y=>{x.subschema({keyword:O,dataProp:Y,dataPropType:t.Type.Num},F),A.if((0,e.not)(F),X)})}}sr.validateArray=S;function b(x){const{gen:A,schema:P,keyword:O,it:D}=x;if(!Array.isArray(P))throw new Error("ajv implementation error");if(P.some(U=>(0,t.alwaysValidSchema)(D,U))&&!D.opts.unevaluated)return;const Q=A.let("valid",!1),X=A.name("_valid");A.block(()=>P.forEach((U,Y)=>{const ce=x.subschema({keyword:O,schemaProp:Y,compositeRule:!0},X);A.assign(Q,(0,e._)`${Q} || ${X}`),x.mergeValidEvaluated(ce,X)||A.if((0,e.not)(Q))})),x.result(Q,()=>x.reset(),()=>x.error(!0))}return sr.validateUnion=b,sr}var n8;function oPe(){if(n8)return ko;n8=1,Object.defineProperty(ko,"__esModule",{value:!0}),ko.validateKeywordUsage=ko.validSchemaType=ko.funcKeywordCode=ko.macroKeywordCode=void 0;const e=Ln(),t=Bu(),n=rs(),r=Ry();function i(g,y){const{gen:v,keyword:_,schema:S,parentSchema:b,it:x}=g,A=y.macro.call(x.self,S,b,x),P=c(v,_,A);x.opts.validateSchema!==!1&&x.self.validateSchema(A,!0);const O=v.name("valid");g.subschema({schema:A,schemaPath:e.nil,errSchemaPath:`${x.errSchemaPath}/${_}`,topSchemaRef:P,compositeRule:!0},O),g.pass(O,()=>g.error(!0))}ko.macroKeywordCode=i;function a(g,y){var v;const{gen:_,keyword:S,schema:b,parentSchema:x,$data:A,it:P}=g;l(P,y);const O=!A&&y.compile?y.compile.call(P.self,b,x,P):y.validate,D=c(_,S,O),F=_.let("valid");g.block$data(F,Q),g.ok((v=y.valid)!==null&&v!==void 0?v:F);function Q(){if(y.errors===!1)Y(),y.modifying&&o(g),ce(()=>g.error());else{const te=y.async?X():U();y.modifying&&o(g),ce(()=>s(g,te))}}function X(){const te=_.let("ruleErrs",null);return _.try(()=>Y((0,e._)`await `),se=>_.assign(F,!1).if((0,e._)`${se} instanceof ${P.ValidationError}`,()=>_.assign(te,(0,e._)`${se}.errors`),()=>_.throw(se))),te}function U(){const te=(0,e._)`${D}.errors`;return _.assign(te,null),Y(e.nil),te}function Y(te=y.async?(0,e._)`await `:e.nil){const se=P.opts.passContext?t.default.this:t.default.self,pe=!("compile"in y&&!A||y.schema===!1);_.assign(F,(0,e._)`${te}${(0,n.callValidateCode)(g,D,se,pe)}`,y.modifying)}function ce(te){var se;_.if((0,e.not)((se=y.valid)!==null&&se!==void 0?se:F),te)}}ko.funcKeywordCode=a;function o(g){const{gen:y,data:v,it:_}=g;y.if(_.parentData,()=>y.assign(v,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function s(g,y){const{gen:v}=g;v.if((0,e._)`Array.isArray(${y})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${y} : ${t.default.vErrors}.concat(${y})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(g)},()=>g.error())}function l({schemaEnv:g},y){if(y.async&&!g.$async)throw new Error("async keyword in sync schema")}function c(g,y,v){if(v===void 0)throw new Error(`keyword "${y}" failed to compile`);return g.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function d(g,y,v=!1){return!y.length||y.some(_=>_==="array"?Array.isArray(g):_==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==_||v&&typeof g>"u")}ko.validSchemaType=d;function h({schema:g,opts:y,self:v,errSchemaPath:_},S,b){if(Array.isArray(S.keyword)?!S.keyword.includes(b):S.keyword!==b)throw new Error("ajv implementation error");const x=S.dependencies;if(x!=null&&x.some(A=>!Object.prototype.hasOwnProperty.call(g,A)))throw new Error(`parent schema must have dependencies of ${b}: ${x.join(",")}`);if(S.validateSchema&&!S.validateSchema(g[b])){const P=`keyword "${b}" value is invalid at path "${_}": `+v.errorsText(S.validateSchema.errors);if(y.validateSchema==="log")v.logger.error(P);else throw new Error(P)}}return ko.validateKeywordUsage=h,ko}var yu={},r8;function sPe(){if(r8)return yu;r8=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.extendSubschemaMode=yu.extendSubschemaData=yu.getSubschema=void 0;const e=Ln(),t=Kn();function n(a,{keyword:o,schemaProp:s,schema:l,schemaPath:c,errSchemaPath:d,topSchemaRef:h}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const g=a.schema[o];return s===void 0?{schema:g,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:g[s],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,t.escapeFragment)(s)}`}}if(l!==void 0){if(c===void 0||d===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:h,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}yu.getSubschema=n;function r(a,o,{dataProp:s,dataPropType:l,data:c,dataTypes:d,propertyName:h}){if(c!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=o;if(s!==void 0){const{errorPath:v,dataPathArr:_,opts:S}=o,b=g.let("data",(0,e._)`${o.data}${(0,e.getProperty)(s)}`,!0);y(b),a.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(s,l,S.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${s}`,a.dataPathArr=[..._,a.parentDataProperty]}if(c!==void 0){const v=c instanceof e.Name?c:g.let("data",c,!0);y(v),h!==void 0&&(a.propertyName=h)}d&&(a.dataTypes=d);function y(v){a.data=v,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,v]}}yu.extendSubschemaData=r;function i(a,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:l,createErrors:c,allErrors:d}){l!==void 0&&(a.compositeRule=l),c!==void 0&&(a.createErrors=c),d!==void 0&&(a.allErrors=d),a.jtdDiscriminator=o,a.jtdMetadata=s}return yu.extendSubschemaMode=i,yu}var ua={},yA,i8;function zK(){return i8||(i8=1,yA=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),yA}var vA={exports:{}},a8;function uPe(){if(a8)return vA.exports;a8=1;var e=vA.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var o=typeof a=="function"?a:a.pre||function(){},s=a.post||function(){};t(i,o,s,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,a,o,s,l,c,d,h,g){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,s,l,c,d,h,g);for(var y in o){var v=o[y];if(Array.isArray(v)){if(y in e.arrayKeywords)for(var _=0;_<v.length;_++)t(r,i,a,v[_],s+"/"+y+"/"+_,l,s,y,o,_)}else if(y in e.propsKeywords){if(v&&typeof v=="object")for(var S in v)t(r,i,a,v[S],s+"/"+y+"/"+n(S),l,s,y,o,S)}else(y in e.keywords||r.allKeys&&!(y in e.skipKeywords))&&t(r,i,a,v,s+"/"+y,l,s,y,o)}a(o,s,l,c,d,h,g)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return vA.exports}var o8;function Pb(){if(o8)return ua;o8=1,Object.defineProperty(ua,"__esModule",{value:!0}),ua.getSchemaRefs=ua.resolveUrl=ua.normalizeId=ua._getFullPath=ua.getFullPath=ua.inlineRef=void 0;const e=Kn(),t=zK(),n=uPe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(_,S=!0){return typeof _=="boolean"?!0:S===!0?!o(_):S?s(_)<=S:!1}ua.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(_){for(const S in _){if(a.has(S))return!0;const b=_[S];if(Array.isArray(b)&&b.some(o)||typeof b=="object"&&o(b))return!0}return!1}function s(_){let S=0;for(const b in _){if(b==="$ref")return 1/0;if(S++,!r.has(b)&&(typeof _[b]=="object"&&(0,e.eachItem)(_[b],x=>S+=s(x)),S===1/0))return 1/0}return S}function l(_,S="",b){b!==!1&&(S=h(S));const x=_.parse(S);return c(_,x)}ua.getFullPath=l;function c(_,S){return _.serialize(S).split("#")[0]+"#"}ua._getFullPath=c;const d=/#\/?$/;function h(_){return _?_.replace(d,""):""}ua.normalizeId=h;function g(_,S,b){return b=h(b),_.resolve(S,b)}ua.resolveUrl=g;const y=/^[a-z_][-a-z0-9._]*$/i;function v(_,S){if(typeof _=="boolean")return{};const{schemaId:b,uriResolver:x}=this.opts,A=h(_[b]||S),P={"":A},O=l(x,A,!1),D={},F=new Set;return n(_,{allKeys:!0},(U,Y,ce,te)=>{if(te===void 0)return;const se=O+Y;let pe=P[te];typeof U[b]=="string"&&(pe=_e.call(this,U[b])),de.call(this,U.$anchor),de.call(this,U.$dynamicAnchor),P[Y]=pe;function _e(ue){const Re=this.opts.uriResolver.resolve;if(ue=h(pe?Re(pe,ue):ue),F.has(ue))throw X(ue);F.add(ue);let k=this.refs[ue];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(U,k.schema,ue):ue!==h(se)&&(ue[0]==="#"?(Q(U,D[ue],ue),D[ue]=U):this.refs[ue]=se),ue}function de(ue){if(typeof ue=="string"){if(!y.test(ue))throw new Error(`invalid anchor "${ue}"`);_e.call(this,`#${ue}`)}}}),D;function Q(U,Y,ce){if(Y!==void 0&&!t(U,Y))throw X(ce)}function X(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return ua.getSchemaRefs=v,ua}var s8;function Py(){if(s8)return gu;s8=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.getData=gu.KeywordCxt=gu.validateFunctionCode=void 0;const e=iPe(),t=Tw(),n=qK(),r=Tw(),i=aPe(),a=oPe(),o=sPe(),s=Ln(),l=Bu(),c=Pb(),d=Kn(),h=Ry();function g(oe){if(O(oe)&&(F(oe),P(oe))){S(oe);return}y(oe,()=>(0,e.topBoolOrEmptySchema)(oe))}gu.validateFunctionCode=g;function y({gen:oe,validateName:H,schema:$,schemaEnv:ae,opts:Z},he){Z.code.es5?oe.func(H,(0,s._)`${l.default.data}, ${l.default.valCxt}`,ae.$async,()=>{oe.code((0,s._)`"use strict"; ${x($,Z)}`),_(oe,Z),oe.code(he)}):oe.func(H,(0,s._)`${l.default.data}, ${v(Z)}`,ae.$async,()=>oe.code(x($,Z)).code(he))}function v(oe){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${oe.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function _(oe,H){oe.if(l.default.valCxt,()=>{oe.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),oe.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),oe.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),oe.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),H.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{oe.var(l.default.instancePath,(0,s._)`""`),oe.var(l.default.parentData,(0,s._)`undefined`),oe.var(l.default.parentDataProperty,(0,s._)`undefined`),oe.var(l.default.rootData,l.default.data),H.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function S(oe){const{schema:H,opts:$,gen:ae}=oe;y(oe,()=>{$.$comment&&H.$comment&&te(oe),U(oe),ae.let(l.default.vErrors,null),ae.let(l.default.errors,0),$.unevaluated&&b(oe),Q(oe),se(oe)})}function b(oe){const{gen:H,validateName:$}=oe;oe.evaluated=H.const("evaluated",(0,s._)`${$}.evaluated`),H.if((0,s._)`${oe.evaluated}.dynamicProps`,()=>H.assign((0,s._)`${oe.evaluated}.props`,(0,s._)`undefined`)),H.if((0,s._)`${oe.evaluated}.dynamicItems`,()=>H.assign((0,s._)`${oe.evaluated}.items`,(0,s._)`undefined`))}function x(oe,H){const $=typeof oe=="object"&&oe[H.schemaId];return $&&(H.code.source||H.code.process)?(0,s._)`/*# sourceURL=${$} */`:s.nil}function A(oe,H){if(O(oe)&&(F(oe),P(oe))){D(oe,H);return}(0,e.boolOrEmptySchema)(oe,H)}function P({schema:oe,self:H}){if(typeof oe=="boolean")return!oe;for(const $ in oe)if(H.RULES.all[$])return!0;return!1}function O(oe){return typeof oe.schema!="boolean"}function D(oe,H){const{schema:$,gen:ae,opts:Z}=oe;Z.$comment&&$.$comment&&te(oe),Y(oe),ce(oe);const he=ae.const("_errs",l.default.errors);Q(oe,he),ae.var(H,(0,s._)`${he} === ${l.default.errors}`)}function F(oe){(0,d.checkUnknownRules)(oe),X(oe)}function Q(oe,H){if(oe.opts.jtd)return _e(oe,[],!1,H);const $=(0,t.getSchemaTypes)(oe.schema),ae=(0,t.coerceAndCheckDataType)(oe,$);_e(oe,$,!ae,H)}function X(oe){const{schema:H,errSchemaPath:$,opts:ae,self:Z}=oe;H.$ref&&ae.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(H,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function U(oe){const{schema:H,opts:$}=oe;H.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,d.checkStrictMode)(oe,"default is ignored in the schema root")}function Y(oe){const H=oe.schema[oe.opts.schemaId];H&&(oe.baseId=(0,c.resolveUrl)(oe.opts.uriResolver,oe.baseId,H))}function ce(oe){if(oe.schema.$async&&!oe.schemaEnv.$async)throw new Error("async schema in sync schema")}function te({gen:oe,schemaEnv:H,schema:$,errSchemaPath:ae,opts:Z}){const he=$.$comment;if(Z.$comment===!0)oe.code((0,s._)`${l.default.self}.logger.log(${he})`);else if(typeof Z.$comment=="function"){const ye=(0,s.str)`${ae}/$comment`,He=oe.scopeValue("root",{ref:H.root});oe.code((0,s._)`${l.default.self}.opts.$comment(${he}, ${ye}, ${He}.schema)`)}}function se(oe){const{gen:H,schemaEnv:$,validateName:ae,ValidationError:Z,opts:he}=oe;$.$async?H.if((0,s._)`${l.default.errors} === 0`,()=>H.return(l.default.data),()=>H.throw((0,s._)`new ${Z}(${l.default.vErrors})`)):(H.assign((0,s._)`${ae}.errors`,l.default.vErrors),he.unevaluated&&pe(oe),H.return((0,s._)`${l.default.errors} === 0`))}function pe({gen:oe,evaluated:H,props:$,items:ae}){$ instanceof s.Name&&oe.assign((0,s._)`${H}.props`,$),ae instanceof s.Name&&oe.assign((0,s._)`${H}.items`,ae)}function _e(oe,H,$,ae){const{gen:Z,schema:he,data:ye,allErrors:He,opts:Ee,self:Fe}=oe,{RULES:tt}=Fe;if(he.$ref&&(Ee.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(he,tt))){Z.block(()=>Ze(oe,"$ref",tt.all.$ref.definition));return}Ee.jtd||ue(oe,H),Z.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(he,gt)&&(gt.type?(Z.if((0,r.checkDataType)(gt.type,ye,Ee.strictNumbers)),de(oe,gt),H.length===1&&H[0]===gt.type&&$&&(Z.else(),(0,r.reportTypeError)(oe)),Z.endIf()):de(oe,gt),He||Z.if((0,s._)`${l.default.errors} === ${ae||0}`))}}function de(oe,H){const{gen:$,schema:ae,opts:{useDefaults:Z}}=oe;Z&&(0,i.assignDefaults)(oe,H.type),$.block(()=>{for(const he of H.rules)(0,n.shouldUseRule)(ae,he)&&Ze(oe,he.keyword,he.definition,H.type)})}function ue(oe,H){oe.schemaEnv.meta||!oe.opts.strictTypes||(Re(oe,H),oe.opts.allowUnionTypes||k(oe,H),ie(oe,oe.dataTypes))}function Re(oe,H){if(H.length){if(!oe.dataTypes.length){oe.dataTypes=H;return}H.forEach($=>{K(oe.dataTypes,$)||ge(oe,`type "${$}" not allowed by context "${oe.dataTypes.join(",")}"`)}),ee(oe,H)}}function k(oe,H){H.length>1&&!(H.length===2&&H.includes("null"))&&ge(oe,"use allowUnionTypes to allow union type keyword")}function ie(oe,H){const $=oe.self.RULES.all;for(const ae in $){const Z=$[ae];if(typeof Z=="object"&&(0,n.shouldUseRule)(oe.schema,Z)){const{type:he}=Z.definition;he.length&&!he.some(ye=>me(H,ye))&&ge(oe,`missing type "${he.join(",")}" for keyword "${ae}"`)}}}function me(oe,H){return oe.includes(H)||H==="number"&&oe.includes("integer")}function K(oe,H){return oe.includes(H)||H==="integer"&&oe.includes("number")}function ee(oe,H){const $=[];for(const ae of oe.dataTypes)K(H,ae)?$.push(ae):H.includes("integer")&&ae==="number"&&$.push("integer");oe.dataTypes=$}function ge(oe,H){const $=oe.schemaEnv.baseId+oe.errSchemaPath;H+=` at "${$}" (strictTypes)`,(0,d.checkStrictMode)(oe,H,oe.opts.strictTypes)}class Ae{constructor(H,$,ae){if((0,a.validateKeywordUsage)(H,$,ae),this.gen=H.gen,this.allErrors=H.allErrors,this.keyword=ae,this.data=H.data,this.schema=H.schema[ae],this.$data=$.$data&&H.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(H,this.schema,ae,this.$data),this.schemaType=$.schemaType,this.parentSchema=H.schema,this.params={},this.it=H,this.def=$,this.$data)this.schemaCode=H.gen.const("vSchema",Ye(this.$data,H));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${ae} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=H.gen.const("_errs",l.default.errors))}result(H,$,ae){this.failResult((0,s.not)(H),$,ae)}failResult(H,$,ae){this.gen.if(H),ae?ae():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(H,$){this.failResult((0,s.not)(H),void 0,$)}fail(H){if(H===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(H),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(H){if(!this.$data)return this.fail(H);const{schemaCode:$}=this;this.fail((0,s._)`${$} !== undefined && (${(0,s.or)(this.invalid$data(),H)})`)}error(H,$,ae){if($){this.setParams($),this._error(H,ae),this.setParams({});return}this._error(H,ae)}_error(H,$){(H?h.reportExtraError:h.reportError)(this,this.def.error,$)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(H){this.allErrors||this.gen.if(H)}setParams(H,$){$?Object.assign(this.params,H):this.params=H}block$data(H,$,ae=s.nil){this.gen.block(()=>{this.check$data(H,ae),$()})}check$data(H=s.nil,$=s.nil){if(!this.$data)return;const{gen:ae,schemaCode:Z,schemaType:he,def:ye}=this;ae.if((0,s.or)((0,s._)`${Z} === undefined`,$)),H!==s.nil&&ae.assign(H,!0),(he.length||ye.validateSchema)&&(ae.elseIf(this.invalid$data()),this.$dataError(),H!==s.nil&&ae.assign(H,!1)),ae.else()}invalid$data(){const{gen:H,schemaCode:$,schemaType:ae,def:Z,it:he}=this;return(0,s.or)(ye(),He());function ye(){if(ae.length){if(!($ instanceof s.Name))throw new Error("ajv implementation error");const Ee=Array.isArray(ae)?ae:[ae];return(0,s._)`${(0,r.checkDataTypes)(Ee,$,he.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function He(){if(Z.validateSchema){const Ee=H.scopeValue("validate$data",{ref:Z.validateSchema});return(0,s._)`!${Ee}(${$})`}return s.nil}}subschema(H,$){const ae=(0,o.getSubschema)(this.it,H);(0,o.extendSubschemaData)(ae,this.it,H),(0,o.extendSubschemaMode)(ae,H);const Z={...this.it,...ae,items:void 0,props:void 0};return A(Z,$),Z}mergeEvaluated(H,$){const{it:ae,gen:Z}=this;ae.opts.unevaluated&&(ae.props!==!0&&H.props!==void 0&&(ae.props=d.mergeEvaluated.props(Z,H.props,ae.props,$)),ae.items!==!0&&H.items!==void 0&&(ae.items=d.mergeEvaluated.items(Z,H.items,ae.items,$)))}mergeValidEvaluated(H,$){const{it:ae,gen:Z}=this;if(ae.opts.unevaluated&&(ae.props!==!0||ae.items!==!0))return Z.if($,()=>this.mergeEvaluated(H,s.Name)),!0}}gu.KeywordCxt=Ae;function Ze(oe,H,$,ae){const Z=new Ae(oe,$,H);"code"in $?$.code(Z,ae):Z.$data&&$.validate?(0,a.funcKeywordCode)(Z,$):"macro"in $?(0,a.macroKeywordCode)(Z,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(Z,$)}const Pe=/^\/(?:[^~]|~0|~1)*$/,Ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ye(oe,{dataLevel:H,dataNames:$,dataPathArr:ae}){let Z,he;if(oe==="")return l.default.rootData;if(oe[0]==="/"){if(!Pe.test(oe))throw new Error(`Invalid JSON-pointer: ${oe}`);Z=oe,he=l.default.rootData}else{const Fe=Ne.exec(oe);if(!Fe)throw new Error(`Invalid JSON-pointer: ${oe}`);const tt=+Fe[1];if(Z=Fe[2],Z==="#"){if(tt>=H)throw new Error(Ee("property/index",tt));return ae[H-tt]}if(tt>H)throw new Error(Ee("data",tt));if(he=$[H-tt],!Z)return he}let ye=he;const He=Z.split("/");for(const Fe of He)Fe&&(he=(0,s._)`${he}${(0,s.getProperty)((0,d.unescapeJsonPointer)(Fe))}`,ye=(0,s._)`${ye} && ${he}`);return ye;function Ee(Fe,tt){return`Cannot access ${Fe} ${tt} levels up, current level is ${H}`}}return gu.getData=Ye,gu}var T_={},u8;function EL(){if(u8)return T_;u8=1,Object.defineProperty(T_,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return T_.default=e,T_}var A_={},l8;function CL(){if(l8)return A_;l8=1,Object.defineProperty(A_,"__esModule",{value:!0});const e=Pb();class t extends Error{constructor(r,i,a,o){super(o||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return A_.default=t,A_}var qa={},c8;function TL(){if(c8)return qa;c8=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.resolveSchema=qa.getCompilingSchema=qa.resolveRef=qa.compileSchema=qa.SchemaEnv=void 0;const e=Ln(),t=EL(),n=Bu(),r=Pb(),i=Kn(),a=Py();class o{constructor(b){var x;this.refs={},this.dynamicAnchors={};let A;typeof b.schema=="object"&&(A=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(x=b.baseId)!==null&&x!==void 0?x:(0,r.normalizeId)(A==null?void 0:A[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}qa.SchemaEnv=o;function s(S){const b=d.call(this,S);if(b)return b;const x=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:A,lines:P}=this.opts.code,{ownProperties:O}=this.opts,D=new e.CodeGen(this.scope,{es5:A,lines:P,ownProperties:O});let F;S.$async&&(F=D.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");S.validateName=Q;const X={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,e.stringify)(S.schema)}:{ref:S.schema}),validateName:Q,ValidationError:F,schema:S.schema,schemaEnv:S,rootId:x,baseId:S.baseId||x,schemaPath:e.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(S),(0,a.validateFunctionCode)(X),D.optimize(this.opts.code.optimize);const Y=D.toString();U=`${D.scopeRefs(n.default.scope)}return ${Y}`,this.opts.code.process&&(U=this.opts.code.process(U,S));const te=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(Q,{ref:te}),te.errors=null,te.schema=S.schema,te.schemaEnv=S,S.$async&&(te.$async=!0),this.opts.code.source===!0&&(te.source={validateName:Q,validateCode:Y,scopeValues:D._values}),this.opts.unevaluated){const{props:se,items:pe}=X;te.evaluated={props:se instanceof e.Name?void 0:se,items:pe instanceof e.Name?void 0:pe,dynamicProps:se instanceof e.Name,dynamicItems:pe instanceof e.Name},te.source&&(te.source.evaluated=(0,e.stringify)(te.evaluated))}return S.validate=te,S}catch(Y){throw delete S.validate,delete S.validateName,U&&this.logger.error("Error compiling schema, function code:",U),Y}finally{this._compilations.delete(S)}}qa.compileSchema=s;function l(S,b,x){var A;x=(0,r.resolveUrl)(this.opts.uriResolver,b,x);const P=S.refs[x];if(P)return P;let O=g.call(this,S,x);if(O===void 0){const D=(A=S.localRefs)===null||A===void 0?void 0:A[x],{schemaId:F}=this.opts;D&&(O=new o({schema:D,schemaId:F,root:S,baseId:b}))}if(O!==void 0)return S.refs[x]=c.call(this,O)}qa.resolveRef=l;function c(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:s.call(this,S)}function d(S){for(const b of this._compilations)if(h(b,S))return b}qa.getCompilingSchema=d;function h(S,b){return S.schema===b.schema&&S.root===b.root&&S.baseId===b.baseId}function g(S,b){let x;for(;typeof(x=this.refs[b])=="string";)b=x;return x||this.schemas[b]||y.call(this,S,b)}function y(S,b){const x=this.opts.uriResolver.parse(b),A=(0,r._getFullPath)(this.opts.uriResolver,x);let P=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&A===P)return _.call(this,x,S);const O=(0,r.normalizeId)(A),D=this.refs[O]||this.schemas[O];if(typeof D=="string"){const F=y.call(this,S,D);return typeof(F==null?void 0:F.schema)!="object"?void 0:_.call(this,x,F)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||s.call(this,D),O===(0,r.normalizeId)(b)){const{schema:F}=D,{schemaId:Q}=this.opts,X=F[Q];return X&&(P=(0,r.resolveUrl)(this.opts.uriResolver,P,X)),new o({schema:F,schemaId:Q,root:S,baseId:P})}return _.call(this,x,D)}}qa.resolveSchema=y;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(S,{baseId:b,schema:x,root:A}){var P;if(((P=S.fragment)===null||P===void 0?void 0:P[0])!=="/")return;for(const F of S.fragment.slice(1).split("/")){if(typeof x=="boolean")return;const Q=x[(0,i.unescapeFragment)(F)];if(Q===void 0)return;x=Q;const X=typeof x=="object"&&x[this.opts.schemaId];!v.has(F)&&X&&(b=(0,r.resolveUrl)(this.opts.uriResolver,b,X))}let O;if(typeof x!="boolean"&&x.$ref&&!(0,i.schemaHasRulesButRef)(x,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,b,x.$ref);O=y.call(this,A,F)}const{schemaId:D}=this.opts;if(O=O||new o({schema:x,schemaId:D,root:A,baseId:b}),O.schema!==O.root.schema)return O}return qa}const lPe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",cPe="Meta-schema for $data reference (JSON AnySchema extension proposal)",fPe="object",dPe=["$data"],hPe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},pPe=!1,gPe={$id:lPe,description:cPe,type:fPe,required:dPe,properties:hPe,additionalProperties:pPe};var R_={},_m={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var mPe=_m.exports,f8;function yPe(){return f8||(f8=1,function(e,t){(function(n,r){r(t)})(mPe,function(n){function r(){for(var We=arguments.length,Ce=Array(We),et=0;et<We;et++)Ce[et]=arguments[et];if(Ce.length>1){Ce[0]=Ce[0].slice(0,-1);for(var ft=Ce.length-1,it=1;it<ft;++it)Ce[it]=Ce[it].slice(1,-1);return Ce[ft]=Ce[ft].slice(1),Ce.join("")}else return Ce[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function o(We){return We.toUpperCase()}function s(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,Ce){var et=We;if(Ce)for(var ft in Ce)et[ft]=Ce[ft];return et}function c(We){var Ce="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Ct="[\\:\\/\\?\\#\\[\\]\\@]",Dt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Gt=r(Ct,Dt),Xt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ht=We?"[\\uE000-\\uF8FF]":"[]",jt=r(Ce,et,"[\\-\\.\\_\\~]",Xt);i(Ce+r(Ce,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(jt,Dt,"[\\:]"))+"*");var tn=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Pn=i(tn+"\\."+tn+"\\."+tn+"\\."+tn),Wt=i(ft+"{1,4}"),Zt=i(i(Wt+"\\:"+Wt)+"|"+Pn),En=i(i(Wt+"\\:")+"{6}"+Zt),Cn=i("\\:\\:"+i(Wt+"\\:")+"{5}"+Zt),qn=i(i(Wt)+"?\\:\\:"+i(Wt+"\\:")+"{4}"+Zt),Rr=i(i(i(Wt+"\\:")+"{0,1}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{3}"+Zt),Qr=i(i(i(Wt+"\\:")+"{0,2}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{2}"+Zt),Zr=i(i(i(Wt+"\\:")+"{0,3}"+Wt)+"?\\:\\:"+Wt+"\\:"+Zt),Ir=i(i(i(Wt+"\\:")+"{0,4}"+Wt)+"?\\:\\:"+Zt),$n=i(i(i(Wt+"\\:")+"{0,5}"+Wt)+"?\\:\\:"+Wt),ti=i(i(i(Wt+"\\:")+"{0,6}"+Wt)+"?\\:\\:"),Qi=i([En,Cn,qn,Rr,Qr,Zr,Ir,$n,ti].join("|")),T=i(i(jt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(jt,Dt,"[\\:]")+"+"),i(i(it+"|"+r(jt,Dt))+"*");var C=i(it+"|"+r(jt,Dt,"[\\:\\@]"));return i(i(it+"|"+r(jt,Dt,"[\\@]"))+"+"),i(i(C+"|"+r("[\\/\\?]",Ht))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ce,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",jt,Dt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",jt,Dt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",jt,Dt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",jt,Dt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]",Ht),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",jt,Dt),"g"),UNRESERVED:new RegExp(jt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",jt,Gt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Pn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+T+")")+"?\\]?$")}}var d=c(!1),h=c(!0),g=function(){function We(Ce,et){var ft=[],it=!0,Ct=!1,Dt=void 0;try{for(var Gt=Ce[Symbol.iterator](),Xt;!(it=(Xt=Gt.next()).done)&&(ft.push(Xt.value),!(et&&ft.length===et));it=!0);}catch(Ht){Ct=!0,Dt=Ht}finally{try{!it&&Gt.return&&Gt.return()}finally{if(Ct)throw Dt}}return ft}return function(Ce,et){if(Array.isArray(Ce))return Ce;if(Symbol.iterator in Object(Ce))return We(Ce,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ce=0,et=Array(We.length);Ce<We.length;Ce++)et[Ce]=We[Ce];return et}else return Array.from(We)},v=2147483647,_=36,S=1,b=26,x=38,A=700,P=72,O=128,D="-",F=/^xn--/,Q=/[^\0-\x7E]/,X=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=_-S,ce=Math.floor,te=String.fromCharCode;function se(We){throw new RangeError(U[We])}function pe(We,Ce){for(var et=[],ft=We.length;ft--;)et[ft]=Ce(We[ft]);return et}function _e(We,Ce){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(X,".");var it=We.split("."),Ct=pe(it,Ce).join(".");return ft+Ct}function de(We){for(var Ce=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Ct=We.charCodeAt(et++);(Ct&64512)==56320?Ce.push(((it&1023)<<10)+(Ct&1023)+65536):(Ce.push(it),et--)}else Ce.push(it)}return Ce}var ue=function(Ce){return String.fromCodePoint.apply(String,y(Ce))},Re=function(Ce){return Ce-48<10?Ce-22:Ce-65<26?Ce-65:Ce-97<26?Ce-97:_},k=function(Ce,et){return Ce+22+75*(Ce<26)-((et!=0)<<5)},ie=function(Ce,et,ft){var it=0;for(Ce=ft?ce(Ce/A):Ce>>1,Ce+=ce(Ce/et);Ce>Y*b>>1;it+=_)Ce=ce(Ce/Y);return ce(it+(Y+1)*Ce/(Ce+x))},me=function(Ce){var et=[],ft=Ce.length,it=0,Ct=O,Dt=P,Gt=Ce.lastIndexOf(D);Gt<0&&(Gt=0);for(var Xt=0;Xt<Gt;++Xt)Ce.charCodeAt(Xt)>=128&&se("not-basic"),et.push(Ce.charCodeAt(Xt));for(var Ht=Gt>0?Gt+1:0;Ht<ft;){for(var jt=it,tn=1,Pn=_;;Pn+=_){Ht>=ft&&se("invalid-input");var Wt=Re(Ce.charCodeAt(Ht++));(Wt>=_||Wt>ce((v-it)/tn))&&se("overflow"),it+=Wt*tn;var Zt=Pn<=Dt?S:Pn>=Dt+b?b:Pn-Dt;if(Wt<Zt)break;var En=_-Zt;tn>ce(v/En)&&se("overflow"),tn*=En}var Cn=et.length+1;Dt=ie(it-jt,Cn,jt==0),ce(it/Cn)>v-Ct&&se("overflow"),Ct+=ce(it/Cn),it%=Cn,et.splice(it++,0,Ct)}return String.fromCodePoint.apply(String,et)},K=function(Ce){var et=[];Ce=de(Ce);var ft=Ce.length,it=O,Ct=0,Dt=P,Gt=!0,Xt=!1,Ht=void 0;try{for(var jt=Ce[Symbol.iterator](),tn;!(Gt=(tn=jt.next()).done);Gt=!0){var Pn=tn.value;Pn<128&&et.push(te(Pn))}}catch(Oe){Xt=!0,Ht=Oe}finally{try{!Gt&&jt.return&&jt.return()}finally{if(Xt)throw Ht}}var Wt=et.length,Zt=Wt;for(Wt&&et.push(D);Zt<ft;){var En=v,Cn=!0,qn=!1,Rr=void 0;try{for(var Qr=Ce[Symbol.iterator](),Zr;!(Cn=(Zr=Qr.next()).done);Cn=!0){var Ir=Zr.value;Ir>=it&&Ir<En&&(En=Ir)}}catch(Oe){qn=!0,Rr=Oe}finally{try{!Cn&&Qr.return&&Qr.return()}finally{if(qn)throw Rr}}var $n=Zt+1;En-it>ce((v-Ct)/$n)&&se("overflow"),Ct+=(En-it)*$n,it=En;var ti=!0,Qi=!1,T=void 0;try{for(var C=Ce[Symbol.iterator](),R;!(ti=(R=C.next()).done);ti=!0){var N=R.value;if(N<it&&++Ct>v&&se("overflow"),N==it){for(var J=Ct,le=_;;le+=_){var we=le<=Dt?S:le>=Dt+b?b:le-Dt;if(J<we)break;var Ie=J-we,xe=_-we;et.push(te(k(we+Ie%xe,0))),J=ce(Ie/xe)}et.push(te(k(J,0))),Dt=ie(Ct,$n,Zt==Wt),Ct=0,++Zt}}}catch(Oe){Qi=!0,T=Oe}finally{try{!ti&&C.return&&C.return()}finally{if(Qi)throw T}}++Ct,++it}return et.join("")},ee=function(Ce){return _e(Ce,function(et){return F.test(et)?me(et.slice(4).toLowerCase()):et})},ge=function(Ce){return _e(Ce,function(et){return Q.test(et)?"xn--"+K(et):et})},Ae={version:"2.1.0",ucs2:{decode:de,encode:ue},decode:me,encode:K,toASCII:ge,toUnicode:ee},Ze={};function Pe(We){var Ce=We.charCodeAt(0),et=void 0;return Ce<16?et="%0"+Ce.toString(16).toUpperCase():Ce<128?et="%"+Ce.toString(16).toUpperCase():Ce<2048?et="%"+(Ce>>6|192).toString(16).toUpperCase()+"%"+(Ce&63|128).toString(16).toUpperCase():et="%"+(Ce>>12|224).toString(16).toUpperCase()+"%"+(Ce>>6&63|128).toString(16).toUpperCase()+"%"+(Ce&63|128).toString(16).toUpperCase(),et}function Ne(We){for(var Ce="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ce+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Ct=parseInt(We.substr(et+4,2),16);Ce+=String.fromCharCode((it&31)<<6|Ct&63)}else Ce+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var Dt=parseInt(We.substr(et+4,2),16),Gt=parseInt(We.substr(et+7,2),16);Ce+=String.fromCharCode((it&15)<<12|(Dt&63)<<6|Gt&63)}else Ce+=We.substr(et,9);et+=9}else Ce+=We.substr(et,3),et+=3}return Ce}function Ye(We,Ce){function et(ft){var it=Ne(ft);return it.match(Ce.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ce.PCT_ENCODED,et).toLowerCase().replace(Ce.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_USERINFO,Pe).replace(Ce.PCT_ENCODED,o)),We.host!==void 0&&(We.host=String(We.host).replace(Ce.PCT_ENCODED,et).toLowerCase().replace(Ce.NOT_HOST,Pe).replace(Ce.PCT_ENCODED,o)),We.path!==void 0&&(We.path=String(We.path).replace(Ce.PCT_ENCODED,et).replace(We.scheme?Ce.NOT_PATH:Ce.NOT_PATH_NOSCHEME,Pe).replace(Ce.PCT_ENCODED,o)),We.query!==void 0&&(We.query=String(We.query).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_QUERY,Pe).replace(Ce.PCT_ENCODED,o)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_FRAGMENT,Pe).replace(Ce.PCT_ENCODED,o)),We}function oe(We){return We.replace(/^0*(.*)/,"$1")||"0"}function H(We,Ce){var et=We.match(Ce.IPV4ADDRESS)||[],ft=g(et,2),it=ft[1];return it?it.split(".").map(oe).join("."):We}function $(We,Ce){var et=We.match(Ce.IPV6ADDRESS)||[],ft=g(et,3),it=ft[1],Ct=ft[2];if(it){for(var Dt=it.toLowerCase().split("::").reverse(),Gt=g(Dt,2),Xt=Gt[0],Ht=Gt[1],jt=Ht?Ht.split(":").map(oe):[],tn=Xt.split(":").map(oe),Pn=Ce.IPV4ADDRESS.test(tn[tn.length-1]),Wt=Pn?7:8,Zt=tn.length-Wt,En=Array(Wt),Cn=0;Cn<Wt;++Cn)En[Cn]=jt[Cn]||tn[Zt+Cn]||"";Pn&&(En[Wt-1]=H(En[Wt-1],Ce));var qn=En.reduce(function($n,ti,Qi){if(!ti||ti==="0"){var T=$n[$n.length-1];T&&T.index+T.length===Qi?T.length++:$n.push({index:Qi,length:1})}return $n},[]),Rr=qn.sort(function($n,ti){return ti.length-$n.length})[0],Qr=void 0;if(Rr&&Rr.length>1){var Zr=En.slice(0,Rr.index),Ir=En.slice(Rr.index+Rr.length);Qr=Zr.join(":")+"::"+Ir.join(":")}else Qr=En.join(":");return Ct&&(Qr+="%"+Ct),Qr}else return We}var ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z="".match(/(){0}/)[1]===void 0;function he(We){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ce.iri!==!1?h:d;Ce.reference==="suffix"&&(We=(Ce.scheme?Ce.scheme+":":"")+"//"+We);var it=We.match(ae);if(it){Z?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(H(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ce.reference&&Ce.reference!=="suffix"&&Ce.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ce.reference+" reference.");var Ct=Ze[(Ce.scheme||et.scheme||"").toLowerCase()];if(!Ce.unicodeSupport&&(!Ct||!Ct.unicodeSupport)){if(et.host&&(Ce.domainHost||Ct&&Ct.domainHost))try{et.host=Ae.toASCII(et.host.replace(ft.PCT_ENCODED,Ne).toLowerCase())}catch(Dt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Dt}Ye(et,d)}else Ye(et,ft);Ct&&Ct.parse&&Ct.parse(et,Ce)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ce){var et=Ce.iri!==!1?h:d,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(H(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Ct,Dt){return"["+Ct+(Dt?"%25"+Dt:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Ee=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ce=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Ee))We=We.replace(Ee,"/");else if(We.match(Fe))We=We.replace(Fe,"/"),Ce.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ce.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ce.join("")}function gt(We){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ce.iri?h:d,ft=[],it=Ze[(Ce.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ce),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ce.domainHost||it&&it.domainHost)try{We.host=Ce.iri?Ae.toUnicode(We.host):Ae.toASCII(We.host.replace(et.PCT_ENCODED,Ne).toLowerCase())}catch(Gt){We.error=We.error||"Host's domain name can not be converted to "+(Ce.iri?"Unicode":"ASCII")+" via punycode: "+Gt}}Ye(We,et),Ce.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Ct=ye(We,Ce);if(Ct!==void 0&&(Ce.reference!=="suffix"&&ft.push("//"),ft.push(Ct),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var Dt=We.path;!Ce.absolutePath&&(!it||!it.absolutePath)&&(Dt=nt(Dt)),Ct===void 0&&(Dt=Dt.replace(/^\/\//,"/%2F")),ft.push(Dt)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function qt(We,Ce){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=he(gt(We,et),et),Ce=he(gt(Ce,et),et)),et=et||{},!et.tolerant&&Ce.scheme?(it.scheme=Ce.scheme,it.userinfo=Ce.userinfo,it.host=Ce.host,it.port=Ce.port,it.path=nt(Ce.path||""),it.query=Ce.query):(Ce.userinfo!==void 0||Ce.host!==void 0||Ce.port!==void 0?(it.userinfo=Ce.userinfo,it.host=Ce.host,it.port=Ce.port,it.path=nt(Ce.path||""),it.query=Ce.query):(Ce.path?(Ce.path.charAt(0)==="/"?it.path=nt(Ce.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ce.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ce.path:it.path=Ce.path,it.path=nt(it.path)),it.query=Ce.query):(it.path=We.path,Ce.query!==void 0?it.query=Ce.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ce.fragment,it}function Se(We,Ce,et){var ft=l({scheme:"null"},et);return gt(qt(he(We,ft),he(Ce,ft),ft,!0),ft)}function Be(We,Ce){return typeof We=="string"?We=gt(he(We,Ce),Ce):a(We)==="object"&&(We=he(gt(We,Ce),Ce)),We}function ne(We,Ce,et){return typeof We=="string"?We=gt(he(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ce=="string"?Ce=gt(he(Ce,et),et):a(Ce)==="object"&&(Ce=gt(Ce,et)),We===Ce}function z(We,Ce){return We&&We.toString().replace(!Ce||!Ce.iri?d.ESCAPE:h.ESCAPE,Pe)}function W(We,Ce){return We&&We.toString().replace(!Ce||!Ce.iri?d.PCT_ENCODED:h.PCT_ENCODED,Ne)}var G={scheme:"http",domainHost:!0,parse:function(Ce,et){return Ce.host||(Ce.error=Ce.error||"HTTP URIs must have a host."),Ce},serialize:function(Ce,et){var ft=String(Ce.scheme).toLowerCase()==="https";return(Ce.port===(ft?443:80)||Ce.port==="")&&(Ce.port=void 0),Ce.path||(Ce.path="/"),Ce}},je={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize};function Je(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ce,et){var ft=Ce;return ft.secure=Je(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ce,et){if((Ce.port===(Je(Ce)?443:80)||Ce.port==="")&&(Ce.port=void 0),typeof Ce.secure=="boolean"&&(Ce.scheme=Ce.secure?"wss":"ws",Ce.secure=void 0),Ce.resourceName){var ft=Ce.resourceName.split("?"),it=g(ft,2),Ct=it[0],Dt=it[1];Ce.path=Ct&&Ct!=="/"?Ct:void 0,Ce.query=Dt,Ce.resourceName=void 0}return Ce.fragment=void 0,Ce}},Rt={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},It={},Nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ot="[0-9A-Fa-f]",zt=i(i("%[EFef]"+Ot+"%"+Ot+Ot+"%"+Ot+Ot)+"|"+i("%[89A-Fa-f]"+Ot+"%"+Ot+Ot)+"|"+i("%"+Ot+Ot)),Ar="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",dn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hn=r(dn,'[\\"\\\\]'),gr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",un=new RegExp(Nt,"g"),ln=new RegExp(zt,"g"),In=new RegExp(r("[^]",Ar,"[\\.]",'[\\"]',hn),"g"),lr=new RegExp(r("[^]",Nt,gr),"g"),Le=lr;function qe(We){var Ce=Ne(We);return Ce.match(un)?Ce:We}var bt={scheme:"mailto",parse:function(Ce,et){var ft=Ce,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Ct=!1,Dt={},Gt=ft.query.split("&"),Xt=0,Ht=Gt.length;Xt<Ht;++Xt){var jt=Gt[Xt].split("=");switch(jt[0]){case"to":for(var tn=jt[1].split(","),Pn=0,Wt=tn.length;Pn<Wt;++Pn)it.push(tn[Pn]);break;case"subject":ft.subject=W(jt[1],et);break;case"body":ft.body=W(jt[1],et);break;default:Ct=!0,Dt[W(jt[0],et)]=W(jt[1],et);break}}Ct&&(ft.headers=Dt)}ft.query=void 0;for(var Zt=0,En=it.length;Zt<En;++Zt){var Cn=it[Zt].split("@");if(Cn[0]=W(Cn[0]),et.unicodeSupport)Cn[1]=W(Cn[1],et).toLowerCase();else try{Cn[1]=Ae.toASCII(W(Cn[1],et).toLowerCase())}catch(qn){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+qn}it[Zt]=Cn.join("@")}return ft},serialize:function(Ce,et){var ft=Ce,it=s(Ce.to);if(it){for(var Ct=0,Dt=it.length;Ct<Dt;++Ct){var Gt=String(it[Ct]),Xt=Gt.lastIndexOf("@"),Ht=Gt.slice(0,Xt).replace(ln,qe).replace(ln,o).replace(In,Pe),jt=Gt.slice(Xt+1);try{jt=et.iri?Ae.toUnicode(jt):Ae.toASCII(W(jt,et).toLowerCase())}catch(Zt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Zt}it[Ct]=Ht+"@"+jt}ft.path=it.join(",")}var tn=Ce.headers=Ce.headers||{};Ce.subject&&(tn.subject=Ce.subject),Ce.body&&(tn.body=Ce.body);var Pn=[];for(var Wt in tn)tn[Wt]!==It[Wt]&&Pn.push(Wt.replace(ln,qe).replace(ln,o).replace(lr,Pe)+"="+tn[Wt].replace(ln,qe).replace(ln,o).replace(Le,Pe));return Pn.length&&(ft.query=Pn.join("&")),ft}},Et=/^([^\:]+)\:(.*)/,Mt={scheme:"urn",parse:function(Ce,et){var ft=Ce.path&&Ce.path.match(Et),it=Ce;if(ft){var Ct=et.scheme||it.scheme||"urn",Dt=ft[1].toLowerCase(),Gt=ft[2],Xt=Ct+":"+(et.nid||Dt),Ht=Ze[Xt];it.nid=Dt,it.nss=Gt,it.path=void 0,Ht&&(it=Ht.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ce,et){var ft=et.scheme||Ce.scheme||"urn",it=Ce.nid,Ct=ft+":"+(et.nid||it),Dt=Ze[Ct];Dt&&(Ce=Dt.serialize(Ce,et));var Gt=Ce,Xt=Ce.nss;return Gt.path=(it||et.nid)+":"+Xt,Gt}},Hn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ce,et){var ft=Ce;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(Hn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ce,et){var ft=Ce;return ft.nss=(Ce.uuid||"").toLowerCase(),ft}};Ze[G.scheme]=G,Ze[je.scheme]=je,Ze[ke.scheme]=ke,Ze[Rt.scheme]=Rt,Ze[bt.scheme]=bt,Ze[Mt.scheme]=Mt,Ze[Jn.scheme]=Jn,n.SCHEMES=Ze,n.pctEncChar=Pe,n.pctDecChars=Ne,n.parse=he,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=qt,n.resolve=Se,n.normalize=Be,n.equal=ne,n.escapeComponent=z,n.unescapeComponent=W,Object.defineProperty(n,"__esModule",{value:!0})})}(_m,_m.exports)),_m.exports}var d8;function vPe(){if(d8)return R_;d8=1,Object.defineProperty(R_,"__esModule",{value:!0});const e=yPe();return e.code='require("ajv/dist/runtime/uri").default',R_.default=e,R_}var h8;function _Pe(){return h8||(h8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Py();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Ln();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=EL(),i=CL(),a=BK(),o=TL(),s=Ln(),l=Pb(),c=Tw(),d=Kn(),h=gPe,g=vPe(),y=(k,ie)=>new RegExp(k,ie);y.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},x=200;function A(k){var ie,me,K,ee,ge,Ae,Ze,Pe,Ne,Ye,oe,H,$,ae,Z,he,ye,He,Ee,Fe,tt,nt,gt,qt,Se;const Be=k.strict,ne=(ie=k.code)===null||ie===void 0?void 0:ie.optimize,z=ne===!0||ne===void 0?1:ne||0,W=(K=(me=k.code)===null||me===void 0?void 0:me.regExp)!==null&&K!==void 0?K:y,G=(ee=k.uriResolver)!==null&&ee!==void 0?ee:g.default;return{strictSchema:(Ae=(ge=k.strictSchema)!==null&&ge!==void 0?ge:Be)!==null&&Ae!==void 0?Ae:!0,strictNumbers:(Pe=(Ze=k.strictNumbers)!==null&&Ze!==void 0?Ze:Be)!==null&&Pe!==void 0?Pe:!0,strictTypes:(Ye=(Ne=k.strictTypes)!==null&&Ne!==void 0?Ne:Be)!==null&&Ye!==void 0?Ye:"log",strictTuples:(H=(oe=k.strictTuples)!==null&&oe!==void 0?oe:Be)!==null&&H!==void 0?H:"log",strictRequired:(ae=($=k.strictRequired)!==null&&$!==void 0?$:Be)!==null&&ae!==void 0?ae:!1,code:k.code?{...k.code,optimize:z,regExp:W}:{optimize:z,regExp:W},loopRequired:(Z=k.loopRequired)!==null&&Z!==void 0?Z:x,loopEnum:(he=k.loopEnum)!==null&&he!==void 0?he:x,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Ee=k.inlineRefs)!==null&&Ee!==void 0?Ee:!0,schemaId:(Fe=k.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(qt=k.unicodeRegExp)!==null&&qt!==void 0?qt:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:G}}class P{constructor(ie={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ie=this.opts={...ie,...A(ie)};const{es5:me,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:me,lines:K}),this.logger=ce(ie.logger);const ee=ie.validateFormats;ie.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,S,ie,"NOT SUPPORTED"),O.call(this,b,ie,"DEPRECATED","warn"),this._metaOpts=U.call(this),ie.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ie.keywords&&X.call(this,ie.keywords),typeof ie.meta=="object"&&this.addMetaSchema(ie.meta),F.call(this),ie.validateFormats=ee}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ie,meta:me,schemaId:K}=this.opts;let ee=h;K==="id"&&(ee={...h},ee.id=ee.$id,delete ee.$id),me&&ie&&this.addMetaSchema(ee,ee[K],!1)}defaultMeta(){const{meta:ie,schemaId:me}=this.opts;return this.opts.defaultMeta=typeof ie=="object"?ie[me]||ie:void 0}validate(ie,me){let K;if(typeof ie=="string"){if(K=this.getSchema(ie),!K)throw new Error(`no schema with key or ref "${ie}"`)}else K=this.compile(ie);const ee=K(me);return"$async"in K||(this.errors=K.errors),ee}compile(ie,me){const K=this._addSchema(ie,me);return K.validate||this._compileSchemaEnv(K)}compileAsync(ie,me){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return ee.call(this,ie,me);async function ee(Ye,oe){await ge.call(this,Ye.$schema);const H=this._addSchema(Ye,oe);return H.validate||Ae.call(this,H)}async function ge(Ye){Ye&&!this.getSchema(Ye)&&await ee.call(this,{$ref:Ye},!0)}async function Ae(Ye){try{return this._compileSchemaEnv(Ye)}catch(oe){if(!(oe instanceof i.default))throw oe;return Ze.call(this,oe),await Pe.call(this,oe.missingSchema),Ae.call(this,Ye)}}function Ze({missingSchema:Ye,missingRef:oe}){if(this.refs[Ye])throw new Error(`AnySchema ${Ye} is loaded but ${oe} cannot be resolved`)}async function Pe(Ye){const oe=await Ne.call(this,Ye);this.refs[Ye]||await ge.call(this,oe.$schema),this.refs[Ye]||this.addSchema(oe,Ye,me)}async function Ne(Ye){const oe=this._loading[Ye];if(oe)return oe;try{return await(this._loading[Ye]=K(Ye))}finally{delete this._loading[Ye]}}}addSchema(ie,me,K,ee=this.opts.validateSchema){if(Array.isArray(ie)){for(const Ae of ie)this.addSchema(Ae,void 0,K,ee);return this}let ge;if(typeof ie=="object"){const{schemaId:Ae}=this.opts;if(ge=ie[Ae],ge!==void 0&&typeof ge!="string")throw new Error(`schema ${Ae} must be string`)}return me=(0,l.normalizeId)(me||ge),this._checkUnique(me),this.schemas[me]=this._addSchema(ie,K,me,ee,!0),this}addMetaSchema(ie,me,K=this.opts.validateSchema){return this.addSchema(ie,me,!0,K),this}validateSchema(ie,me){if(typeof ie=="boolean")return!0;let K;if(K=ie.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ee=this.validate(K,ie);if(!ee&&me){const ge="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(ge);else throw new Error(ge)}return ee}getSchema(ie){let me;for(;typeof(me=D.call(this,ie))=="string";)ie=me;if(me===void 0){const{schemaId:K}=this.opts,ee=new o.SchemaEnv({schema:{},schemaId:K});if(me=o.resolveSchema.call(this,ee,ie),!me)return;this.refs[ie]=me}return me.validate||this._compileSchemaEnv(me)}removeSchema(ie){if(ie instanceof RegExp)return this._removeAllSchemas(this.schemas,ie),this._removeAllSchemas(this.refs,ie),this;switch(typeof ie){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const me=D.call(this,ie);return typeof me=="object"&&this._cache.delete(me.schema),delete this.schemas[ie],delete this.refs[ie],this}case"object":{const me=ie;this._cache.delete(me);let K=ie[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ie){for(const me of ie)this.addKeyword(me);return this}addKeyword(ie,me){let K;if(typeof ie=="string")K=ie,typeof me=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),me.keyword=K);else if(typeof ie=="object"&&me===void 0){if(me=ie,K=me.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(se.call(this,K,me),!me)return(0,d.eachItem)(K,ge=>pe.call(this,ge)),this;de.call(this,me);const ee={...me,type:(0,c.getJSONTypes)(me.type),schemaType:(0,c.getJSONTypes)(me.schemaType)};return(0,d.eachItem)(K,ee.type.length===0?ge=>pe.call(this,ge,ee):ge=>ee.type.forEach(Ae=>pe.call(this,ge,ee,Ae))),this}getKeyword(ie){const me=this.RULES.all[ie];return typeof me=="object"?me.definition:!!me}removeKeyword(ie){const{RULES:me}=this;delete me.keywords[ie],delete me.all[ie];for(const K of me.rules){const ee=K.rules.findIndex(ge=>ge.keyword===ie);ee>=0&&K.rules.splice(ee,1)}return this}addFormat(ie,me){return typeof me=="string"&&(me=new RegExp(me)),this.formats[ie]=me,this}errorsText(ie=this.errors,{separator:me=", ",dataVar:K="data"}={}){return!ie||ie.length===0?"No errors":ie.map(ee=>`${K}${ee.instancePath} ${ee.message}`).reduce((ee,ge)=>ee+me+ge)}$dataMetaSchema(ie,me){const K=this.RULES.all;ie=JSON.parse(JSON.stringify(ie));for(const ee of me){const ge=ee.split("/").slice(1);let Ae=ie;for(const Ze of ge)Ae=Ae[Ze];for(const Ze in K){const Pe=K[Ze];if(typeof Pe!="object")continue;const{$data:Ne}=Pe.definition,Ye=Ae[Ze];Ne&&Ye&&(Ae[Ze]=Re(Ye))}}return ie}_removeAllSchemas(ie,me){for(const K in ie){const ee=ie[K];(!me||me.test(K))&&(typeof ee=="string"?delete ie[K]:ee&&!ee.meta&&(this._cache.delete(ee.schema),delete ie[K]))}}_addSchema(ie,me,K,ee=this.opts.validateSchema,ge=this.opts.addUsedSchema){let Ae;const{schemaId:Ze}=this.opts;if(typeof ie=="object")Ae=ie[Ze];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ie!="boolean")throw new Error("schema must be object or boolean")}let Pe=this._cache.get(ie);if(Pe!==void 0)return Pe;K=(0,l.normalizeId)(Ae||K);const Ne=l.getSchemaRefs.call(this,ie,K);return Pe=new o.SchemaEnv({schema:ie,schemaId:Ze,meta:me,baseId:K,localRefs:Ne}),this._cache.set(Pe.schema,Pe),ge&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=Pe),ee&&this.validateSchema(ie,!0),Pe}_checkUnique(ie){if(this.schemas[ie]||this.refs[ie])throw new Error(`schema with key or id "${ie}" already exists`)}_compileSchemaEnv(ie){if(ie.meta?this._compileMetaSchema(ie):o.compileSchema.call(this,ie),!ie.validate)throw new Error("ajv implementation error");return ie.validate}_compileMetaSchema(ie){const me=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,ie)}finally{this.opts=me}}}P.ValidationError=r.default,P.MissingRefError=i.default,e.default=P;function O(k,ie,me,K="error"){for(const ee in k){const ge=ee;ge in ie&&this.logger[K](`${me}: option ${ee}. ${k[ge]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function F(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ie in k)this.addSchema(k[ie],ie)}function Q(){for(const k in this.opts.formats){const ie=this.opts.formats[k];ie&&this.addFormat(k,ie)}}function X(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ie in k){const me=k[ie];me.keyword||(me.keyword=ie),this.addKeyword(me)}}function U(){const k={...this.opts};for(const ie of v)delete k[ie];return k}const Y={log(){},warn(){},error(){}};function ce(k){if(k===!1)return Y;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const te=/^[a-z_$][a-z0-9_$:-]*$/i;function se(k,ie){const{RULES:me}=this;if((0,d.eachItem)(k,K=>{if(me.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!te.test(K))throw new Error(`Keyword ${K} has invalid name`)}),!!ie&&ie.$data&&!("code"in ie||"validate"in ie))throw new Error('$data keyword must have "code" or "validate" function')}function pe(k,ie,me){var K;const ee=ie==null?void 0:ie.post;if(me&&ee)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ge}=this;let Ae=ee?ge.post:ge.rules.find(({type:Pe})=>Pe===me);if(Ae||(Ae={type:me,rules:[]},ge.rules.push(Ae)),ge.keywords[k]=!0,!ie)return;const Ze={keyword:k,definition:{...ie,type:(0,c.getJSONTypes)(ie.type),schemaType:(0,c.getJSONTypes)(ie.schemaType)}};ie.before?_e.call(this,Ae,Ze,ie.before):Ae.rules.push(Ze),ge.all[k]=Ze,(K=ie.implements)===null||K===void 0||K.forEach(Pe=>this.addKeyword(Pe))}function _e(k,ie,me){const K=k.rules.findIndex(ee=>ee.keyword===me);K>=0?k.rules.splice(K,0,ie):(k.rules.push(ie),this.logger.warn(`rule ${me} is not defined`))}function de(k){let{metaSchema:ie}=k;ie!==void 0&&(k.$data&&this.opts.$data&&(ie=Re(ie)),k.validateSchema=this.compile(ie,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Re(k){return{anyOf:[k,ue]}}}(dA)),dA}var P_={},O_={},L_={},p8;function wPe(){if(p8)return L_;p8=1,Object.defineProperty(L_,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return L_.default=e,L_}var Sl={},g8;function bPe(){if(g8)return Sl;g8=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.callRef=Sl.getValidate=void 0;const e=CL(),t=rs(),n=Ln(),r=Bu(),i=TL(),a=Kn(),o={keyword:"$ref",schemaType:"string",code(c){const{gen:d,schema:h,it:g}=c,{baseId:y,schemaEnv:v,validateName:_,opts:S,self:b}=g,{root:x}=v;if((h==="#"||h==="#/")&&y===x.baseId)return P();const A=i.resolveRef.call(b,x,y,h);if(A===void 0)throw new e.default(g.opts.uriResolver,y,h);if(A instanceof i.SchemaEnv)return O(A);return D(A);function P(){if(v===x)return l(c,_,v,v.$async);const F=d.scopeValue("root",{ref:x});return l(c,(0,n._)`${F}.validate`,x,x.$async)}function O(F){const Q=s(c,F);l(c,Q,F,F.$async)}function D(F){const Q=d.scopeValue("schema",S.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),X=d.name("valid"),U=c.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:h},X);c.mergeEvaluated(U),c.ok(X)}}};function s(c,d){const{gen:h}=c;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:d})}.validate`}Sl.getValidate=s;function l(c,d,h,g){const{gen:y,it:v}=c,{allErrors:_,schemaEnv:S,opts:b}=v,x=b.passContext?r.default.this:n.nil;g?A():P();function A(){if(!S.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,t.callValidateCode)(c,d,x)}`),D(d),_||y.assign(F,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${v.ValidationError})`,()=>y.throw(Q)),O(Q),_||y.assign(F,!1)}),c.ok(F)}function P(){c.result((0,t.callValidateCode)(c,d,x),()=>D(d),()=>O(d))}function O(F){const Q=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(F){var Q;if(!v.opts.unevaluated)return;const X=(Q=h==null?void 0:h.validate)===null||Q===void 0?void 0:Q.evaluated;if(v.props!==!0)if(X&&!X.dynamicProps)X.props!==void 0&&(v.props=a.mergeEvaluated.props(y,X.props,v.props));else{const U=y.var("props",(0,n._)`${F}.evaluated.props`);v.props=a.mergeEvaluated.props(y,U,v.props,n.Name)}if(v.items!==!0)if(X&&!X.dynamicItems)X.items!==void 0&&(v.items=a.mergeEvaluated.items(y,X.items,v.items));else{const U=y.var("items",(0,n._)`${F}.evaluated.items`);v.items=a.mergeEvaluated.items(y,U,v.items,n.Name)}}}return Sl.callRef=l,Sl.default=o,Sl}var m8;function SPe(){if(m8)return O_;m8=1,Object.defineProperty(O_,"__esModule",{value:!0});const e=wPe(),t=bPe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return O_.default=n,O_}var I_={},M_={},y8;function xPe(){if(y8)return M_;y8=1,Object.defineProperty(M_,"__esModule",{value:!0});const e=Ln(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:a,schemaCode:o})=>(0,e.str)`must be ${n[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,e._)`{comparison: ${n[a].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:o,data:s,schemaCode:l}=a;a.fail$data((0,e._)`${s} ${n[o].fail} ${l} || isNaN(${s})`)}};return M_.default=i,M_}var D_={},v8;function EPe(){if(v8)return D_;v8=1,Object.defineProperty(D_,"__esModule",{value:!0});const e=Ln(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:o,it:s}=r,l=s.opts.multipleOfPrecision,c=i.let("res"),d=l?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,e._)`${c} !== parseInt(${c})`;r.fail$data((0,e._)`(${o} === 0 || (${c} = ${a}/${o}, ${d}))`)}};return D_.default=n,D_}var k_={},N_={},_8;function CPe(){if(_8)return N_;_8=1,Object.defineProperty(N_,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,a;for(;i<n;)r++,a=t.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=t.charCodeAt(i),(a&64512)===56320&&i++);return r}return N_.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',N_}var w8;function TPe(){if(w8)return k_;w8=1,Object.defineProperty(k_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=CPe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const s=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:o,data:s,schemaCode:l,it:c}=a,d=o==="maxLength"?e.operators.GT:e.operators.LT,h=c.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(a.gen,n.default)}(${s})`;a.fail$data((0,e._)`${h} ${d} ${l}`)}};return k_.default=i,k_}var F_={},b8;function APe(){if(b8)return F_;b8=1,Object.defineProperty(F_,"__esModule",{value:!0});const e=rs(),t=Ln(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:a,$data:o,schema:s,schemaCode:l,it:c}=i,d=c.opts.unicodeRegExp?"u":"",h=o?(0,t._)`(new RegExp(${l}, ${d}))`:(0,e.usePattern)(i,s);i.fail$data((0,t._)`!${h}.test(${a})`)}};return F_.default=r,F_}var j_={},S8;function RPe(){if(S8)return j_;S8=1,Object.defineProperty(j_,"__esModule",{value:!0});const e=Ln(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${a}).length ${s} ${o}`)}};return j_.default=n,j_}var $_={},x8;function PPe(){if(x8)return $_;x8=1,Object.defineProperty($_,"__esModule",{value:!0});const e=rs(),t=Ln(),n=Kn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:s,schemaCode:l,data:c,$data:d,it:h}=a,{opts:g}=h;if(!d&&s.length===0)return;const y=s.length>=g.loopRequired;if(h.allErrors?v():_(),g.strictRequired){const x=a.parentSchema.properties,{definedProperties:A}=a.it;for(const P of s)if((x==null?void 0:x[P])===void 0&&!A.has(P)){const O=h.schemaEnv.baseId+h.errSchemaPath,D=`required property "${P}" is not defined at "${O}" (strictRequired)`;(0,n.checkStrictMode)(h,D,h.opts.strictRequired)}}function v(){if(y||d)a.block$data(t.nil,S);else for(const x of s)(0,e.checkReportMissingProp)(a,x)}function _(){const x=o.let("missing");if(y||d){const A=o.let("valid",!0);a.block$data(A,()=>b(x,A)),a.ok(A)}else o.if((0,e.checkMissingProp)(a,s,x)),(0,e.reportMissingProp)(a,x),o.else()}function S(){o.forOf("prop",l,x=>{a.setParams({missingProperty:x}),o.if((0,e.noPropertyInData)(o,c,x,g.ownProperties),()=>a.error())})}function b(x,A){a.setParams({missingProperty:x}),o.forOf(x,l,()=>{o.assign(A,(0,e.propertyInData)(o,c,x,g.ownProperties)),o.if((0,t.not)(A),()=>{a.error(),o.break()})},t.nil)}}};return $_.default=i,$_}var U_={},E8;function OPe(){if(E8)return U_;E8=1,Object.defineProperty(U_,"__esModule",{value:!0});const e=Ln(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${a}.length ${s} ${o}`)}};return U_.default=n,U_}var B_={},q_={},C8;function AL(){if(C8)return q_;C8=1,Object.defineProperty(q_,"__esModule",{value:!0});const e=zK();return e.code='require("ajv/dist/runtime/equal").default',q_.default=e,q_}var T8;function LPe(){if(T8)return B_;T8=1,Object.defineProperty(B_,"__esModule",{value:!0});const e=Tw(),t=Ln(),n=Kn(),r=AL(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,t._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:l,$data:c,schema:d,parentSchema:h,schemaCode:g,it:y}=o;if(!c&&!d)return;const v=s.let("valid"),_=h.items?(0,e.getSchemaTypes)(h.items):[];o.block$data(v,S,(0,t._)`${g} === false`),o.ok(v);function S(){const P=s.let("i",(0,t._)`${l}.length`),O=s.let("j");o.setParams({i:P,j:O}),s.assign(v,!0),s.if((0,t._)`${P} > 1`,()=>(b()?x:A)(P,O))}function b(){return _.length>0&&!_.some(P=>P==="object"||P==="array")}function x(P,O){const D=s.name("item"),F=(0,e.checkDataTypes)(_,D,y.opts.strictNumbers,e.DataType.Wrong),Q=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${P}--;`,()=>{s.let(D,(0,t._)`${l}[${P}]`),s.if(F,(0,t._)`continue`),_.length>1&&s.if((0,t._)`typeof ${D} == "string"`,(0,t._)`${D} += "_"`),s.if((0,t._)`typeof ${Q}[${D}] == "number"`,()=>{s.assign(O,(0,t._)`${Q}[${D}]`),o.error(),s.assign(v,!1).break()}).code((0,t._)`${Q}[${D}] = ${P}`)})}function A(P,O){const D=(0,n.useFunc)(s,r.default),F=s.name("outer");s.label(F).for((0,t._)`;${P}--;`,()=>s.for((0,t._)`${O} = ${P}; ${O}--;`,()=>s.if((0,t._)`${D}(${l}[${P}], ${l}[${O}])`,()=>{o.error(),s.assign(v,!1).break(F)})))}}};return B_.default=a,B_}var z_={},A8;function IPe(){if(A8)return z_;A8=1,Object.defineProperty(z_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=AL(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:s,$data:l,schemaCode:c,schema:d}=a;l||d&&typeof d=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${s}, ${c})`):a.fail((0,e._)`${d} !== ${s}`)}};return z_.default=i,z_}var H_={},R8;function MPe(){if(R8)return H_;R8=1,Object.defineProperty(H_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=AL(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:s,$data:l,schema:c,schemaCode:d,it:h}=a;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const g=c.length>=h.opts.loopEnum;let y;const v=()=>y??(y=(0,t.useFunc)(o,n.default));let _;if(g||l)_=o.let("valid"),a.block$data(_,S);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const x=o.const("vSchema",d);_=(0,e.or)(...c.map((A,P)=>b(x,P)))}a.pass(_);function S(){o.assign(_,!1),o.forOf("v",d,x=>o.if((0,e._)`${v()}(${s}, ${x})`,()=>o.assign(_,!0).break()))}function b(x,A){const P=c[A];return typeof P=="object"&&P!==null?(0,e._)`${v()}(${s}, ${x}[${A}])`:(0,e._)`${s} === ${P}`}}};return H_.default=i,H_}var P8;function DPe(){if(P8)return I_;P8=1,Object.defineProperty(I_,"__esModule",{value:!0});const e=xPe(),t=EPe(),n=TPe(),r=APe(),i=RPe(),a=PPe(),o=OPe(),s=LPe(),l=IPe(),c=MPe(),d=[e.default,t.default,n.default,r.default,i.default,a.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return I_.default=d,I_}var V_={},jd={},O8;function HK(){if(O8)return jd;O8=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.validateAdditionalItems=void 0;const e=Ln(),t=Kn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:s}=a,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,o){const{gen:s,schema:l,data:c,keyword:d,it:h}=a;h.items=!0;const g=s.const("len",(0,e._)`${c}.length`);if(l===!1)a.setParams({len:o.length}),a.pass((0,e._)`${g} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(h,l)){const v=s.var("valid",(0,e._)`${g} <= ${o.length}`);s.if((0,e.not)(v),()=>y(v)),a.ok(v)}function y(v){s.forRange("i",o.length,g,_=>{a.subschema({keyword:d,dataProp:_,dataPropType:t.Type.Num},v),h.allErrors||s.if((0,e.not)(v),()=>s.break())})}}return jd.validateAdditionalItems=i,jd.default=r,jd}var K_={},$d={},L8;function VK(){if(L8)return $d;L8=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.validateTuple=void 0;const e=Ln(),t=Kn(),n=rs(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:s}=a;if(Array.isArray(o))return i(a,"additionalItems",o);s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&a.ok((0,n.validateArray)(a))}};function i(a,o,s=a.schema){const{gen:l,parentSchema:c,data:d,keyword:h,it:g}=a;_(c),g.opts.unevaluated&&s.length&&g.items!==!0&&(g.items=t.mergeEvaluated.items(l,s.length,g.items));const y=l.name("valid"),v=l.const("len",(0,e._)`${d}.length`);s.forEach((S,b)=>{(0,t.alwaysValidSchema)(g,S)||(l.if((0,e._)`${v} > ${b}`,()=>a.subschema({keyword:h,schemaProp:b,dataProp:b},y)),a.ok(y))});function _(S){const{opts:b,errSchemaPath:x}=g,A=s.length,P=A===S.minItems&&(A===S.maxItems||S[o]===!1);if(b.strictTuples&&!P){const O=`"${h}" is ${A}-tuple, but minItems or maxItems/${o} are not specified or different at path "${x}"`;(0,t.checkStrictMode)(g,O,b.strictTuples)}}}return $d.validateTuple=i,$d.default=r,$d}var I8;function kPe(){if(I8)return K_;I8=1,Object.defineProperty(K_,"__esModule",{value:!0});const e=VK(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return K_.default=t,K_}var G_={},M8;function NPe(){if(M8)return G_;M8=1,Object.defineProperty(G_,"__esModule",{value:!0});const e=Ln(),t=Kn(),n=rs(),r=HK(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:l,it:c}=o,{prefixItems:d}=l;c.items=!0,!(0,t.alwaysValidSchema)(c,s)&&(d?(0,r.validateAdditionalItems)(o,d):o.ok((0,n.validateArray)(o)))}};return G_.default=a,G_}var W_={},D8;function FPe(){if(D8)return W_;D8=1,Object.defineProperty(W_,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:o,parentSchema:s,data:l,it:c}=i;let d,h;const{minContains:g,maxContains:y}=s;c.opts.next?(d=g===void 0?1:g,h=y):d=1;const v=a.const("len",(0,e._)`${l}.length`);if(i.setParams({min:d,max:h}),h===void 0&&d===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&d>h){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(c,o)){let A=(0,e._)`${v} >= ${d}`;h!==void 0&&(A=(0,e._)`${A} && ${v} <= ${h}`),i.pass(A);return}c.items=!0;const _=a.name("valid");h===void 0&&d===1?b(_,()=>a.if(_,()=>a.break())):d===0?(a.let(_,!0),h!==void 0&&a.if((0,e._)`${l}.length > 0`,S)):(a.let(_,!1),S()),i.result(_,()=>i.reset());function S(){const A=a.name("_valid"),P=a.let("count",0);b(A,()=>a.if(A,()=>x(P)))}function b(A,P){a.forRange("i",0,v,O=>{i.subschema({keyword:"contains",dataProp:O,dataPropType:t.Type.Num,compositeRule:!0},A),P()})}function x(A){a.code((0,e._)`${A}++`),h===void 0?a.if((0,e._)`${A} >= ${d}`,()=>a.assign(_,!0).break()):(a.if((0,e._)`${A} > ${h}`,()=>a.assign(_,!1).break()),d===1?a.assign(_,!0):a.if((0,e._)`${A} >= ${d}`,()=>a.assign(_,!0)))}}};return W_.default=r,W_}var _A={},k8;function jPe(){return k8||(k8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Ln(),n=Kn(),r=rs();e.error={message:({params:{property:l,depsCount:c,deps:d}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,d]=a(l);o(l,c),s(l,d)}};function a({schema:l}){const c={},d={};for(const h in l){if(h==="__proto__")continue;const g=Array.isArray(l[h])?c:d;g[h]=l[h]}return[c,d]}function o(l,c=l.schema){const{gen:d,data:h,it:g}=l;if(Object.keys(c).length===0)return;const y=d.let("missing");for(const v in c){const _=c[v];if(_.length===0)continue;const S=(0,r.propertyInData)(d,h,v,g.opts.ownProperties);l.setParams({property:v,depsCount:_.length,deps:_.join(", ")}),g.allErrors?d.if(S,()=>{for(const b of _)(0,r.checkReportMissingProp)(l,b)}):(d.if((0,t._)`${S} && (${(0,r.checkMissingProp)(l,_,y)})`),(0,r.reportMissingProp)(l,y),d.else())}}e.validatePropertyDeps=o;function s(l,c=l.schema){const{gen:d,data:h,keyword:g,it:y}=l,v=d.name("valid");for(const _ in c)(0,n.alwaysValidSchema)(y,c[_])||(d.if((0,r.propertyInData)(d,h,_,y.opts.ownProperties),()=>{const S=l.subschema({keyword:g,schemaProp:_},v);l.mergeValidEvaluated(S,v)},()=>d.var(v,!0)),l.ok(v))}e.validateSchemaDeps=s,e.default=i}(_A)),_A}var Q_={},N8;function $Pe(){if(N8)return Q_;N8=1,Object.defineProperty(Q_,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:o,data:s,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const c=a.name("valid");a.forIn("key",s,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},c),a.if((0,e.not)(c),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(c)}};return Q_.default=r,Q_}var Z_={},F8;function KK(){if(F8)return Z_;F8=1,Object.defineProperty(Z_,"__esModule",{value:!0});const e=rs(),t=Ln(),n=Bu(),r=Kn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:l,parentSchema:c,data:d,errsCount:h,it:g}=o;if(!h)throw new Error("ajv implementation error");const{allErrors:y,opts:v}=g;if(g.props=!0,v.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(g,l))return;const _=(0,e.allSchemaProperties)(c.properties),S=(0,e.allSchemaProperties)(c.patternProperties);b(),o.ok((0,t._)`${h} === ${n.default.errors}`);function b(){s.forIn("key",d,D=>{!_.length&&!S.length?P(D):s.if(x(D),()=>P(D))})}function x(D){let F;if(_.length>8){const Q=(0,r.schemaRefOrVal)(g,c.properties,"properties");F=(0,e.isOwnProperty)(s,Q,D)}else _.length?F=(0,t.or)(..._.map(Q=>(0,t._)`${D} === ${Q}`)):F=t.nil;return S.length&&(F=(0,t.or)(F,...S.map(Q=>(0,t._)`${(0,e.usePattern)(o,Q)}.test(${D})`))),(0,t.not)(F)}function A(D){s.code((0,t._)`delete ${d}[${D}]`)}function P(D){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){A(D);return}if(l===!1){o.setParams({additionalProperty:D}),o.error(),y||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(g,l)){const F=s.name("valid");v.removeAdditional==="failing"?(O(D,F,!1),s.if((0,t.not)(F),()=>{o.reset(),A(D)})):(O(D,F),y||s.if((0,t.not)(F),()=>s.break()))}}function O(D,F,Q){const X={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(X,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(X,F)}}};return Z_.default=a,Z_}var J_={},j8;function UPe(){if(j8)return J_;j8=1,Object.defineProperty(J_,"__esModule",{value:!0});const e=Py(),t=rs(),n=Kn(),r=KK(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,parentSchema:l,data:c,it:d}=a;d.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(s);for(const S of h)d.definedProperties.add(S);d.opts.unevaluated&&h.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(o,(0,n.toHash)(h),d.props));const g=h.filter(S=>!(0,n.alwaysValidSchema)(d,s[S]));if(g.length===0)return;const y=o.name("valid");for(const S of g)v(S)?_(S):(o.if((0,t.propertyInData)(o,c,S,d.opts.ownProperties)),_(S),d.allErrors||o.else().var(y,!0),o.endIf()),a.it.definedProperties.add(S),a.ok(y);function v(S){return d.opts.useDefaults&&!d.compositeRule&&s[S].default!==void 0}function _(S){a.subschema({keyword:"properties",schemaProp:S,dataProp:S},y)}}};return J_.default=i,J_}var Y_={},$8;function BPe(){if($8)return Y_;$8=1,Object.defineProperty(Y_,"__esModule",{value:!0});const e=rs(),t=Ln(),n=Kn(),r=Kn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,data:l,parentSchema:c,it:d}=a,{opts:h}=d,g=(0,e.allSchemaProperties)(s),y=g.filter(P=>(0,n.alwaysValidSchema)(d,s[P]));if(g.length===0||y.length===g.length&&(!d.opts.unevaluated||d.props===!0))return;const v=h.strictSchema&&!h.allowMatchingProperties&&c.properties,_=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(o,d.props));const{props:S}=d;b();function b(){for(const P of g)v&&x(P),d.allErrors?A(P):(o.var(_,!0),A(P),o.if(_))}function x(P){for(const O in v)new RegExp(P).test(O)&&(0,n.checkStrictMode)(d,`property ${O} matches pattern ${P} (use allowMatchingProperties)`)}function A(P){o.forIn("key",l,O=>{o.if((0,t._)`${(0,e.usePattern)(a,P)}.test(${O})`,()=>{const D=y.includes(P);D||a.subschema({keyword:"patternProperties",schemaProp:P,dataProp:O,dataPropType:r.Type.Str},_),d.opts.unevaluated&&S!==!0?o.assign((0,t._)`${S}[${O}]`,!0):!D&&!d.allErrors&&o.if((0,t.not)(_),()=>o.break())})})}}};return Y_.default=i,Y_}var X_={},U8;function qPe(){if(U8)return X_;U8=1,Object.defineProperty(X_,"__esModule",{value:!0});const e=Kn(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,e.alwaysValidSchema)(a,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return X_.default=t,X_}var e0={},B8;function zPe(){if(B8)return e0;B8=1,Object.defineProperty(e0,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:rs().validateUnion,error:{message:"must match a schema in anyOf"}};return e0.default=t,e0}var t0={},q8;function HPe(){if(q8)return t0;q8=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:o,parentSchema:s,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const c=o,d=a.let("valid",!1),h=a.let("passing",null),g=a.name("_valid");i.setParams({passing:h}),a.block(y),i.result(d,()=>i.reset(),()=>i.error(!0));function y(){c.forEach((v,_)=>{let S;(0,t.alwaysValidSchema)(l,v)?a.var(g,!0):S=i.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},g),_>0&&a.if((0,e._)`${g} && ${d}`).assign(d,!1).assign(h,(0,e._)`[${h}, ${_}]`).else(),a.if(g,()=>{a.assign(d,!0),a.assign(h,_),S&&i.mergeEvaluated(S,e.Name)})})}}};return t0.default=r,t0}var n0={},z8;function VPe(){if(z8)return n0;z8=1,Object.defineProperty(n0,"__esModule",{value:!0});const e=Kn(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((s,l)=>{if((0,e.alwaysValidSchema)(a,s))return;const c=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(c)})}};return n0.default=t,n0}var r0={},H8;function KPe(){if(H8)return r0;H8=1,Object.defineProperty(r0,"__esModule",{value:!0});const e=Ln(),t=Kn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:s,it:l}=a;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=i(l,"then"),d=i(l,"else");if(!c&&!d)return;const h=o.let("valid",!0),g=o.name("_valid");if(y(),a.reset(),c&&d){const _=o.let("ifClause");a.setParams({ifClause:_}),o.if(g,v("then",_),v("else",_))}else c?o.if(g,v("then")):o.if((0,e.not)(g),v("else"));a.pass(h,()=>a.error(!0));function y(){const _=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);a.mergeEvaluated(_)}function v(_,S){return()=>{const b=a.subschema({keyword:_},g);o.assign(h,g),a.mergeValidEvaluated(b,h),S?o.assign(S,(0,e._)`${_}`):a.setParams({ifClause:_})}}}};function i(a,o){const s=a.schema[o];return s!==void 0&&!(0,t.alwaysValidSchema)(a,s)}return r0.default=r,r0}var i0={},V8;function GPe(){if(V8)return i0;V8=1,Object.defineProperty(i0,"__esModule",{value:!0});const e=Kn(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return i0.default=t,i0}var K8;function WPe(){if(K8)return V_;K8=1,Object.defineProperty(V_,"__esModule",{value:!0});const e=HK(),t=kPe(),n=VK(),r=NPe(),i=FPe(),a=jPe(),o=$Pe(),s=KK(),l=UPe(),c=BPe(),d=qPe(),h=zPe(),g=HPe(),y=VPe(),v=KPe(),_=GPe();function S(b=!1){const x=[d.default,h.default,g.default,y.default,v.default,_.default,o.default,s.default,a.default,l.default,c.default];return b?x.push(t.default,r.default):x.push(e.default,n.default),x.push(i.default),x}return V_.default=S,V_}var a0={},o0={},G8;function QPe(){if(G8)return o0;G8=1,Object.defineProperty(o0,"__esModule",{value:!0});const e=Ln(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:a,data:o,$data:s,schema:l,schemaCode:c,it:d}=r,{opts:h,errSchemaPath:g,schemaEnv:y,self:v}=d;if(!h.validateFormats)return;s?_():S();function _(){const b=a.scopeValue("formats",{ref:v.formats,code:h.code.formats}),x=a.const("fDef",(0,e._)`${b}[${c}]`),A=a.let("fType"),P=a.let("format");a.if((0,e._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>a.assign(A,(0,e._)`${x}.type || "string"`).assign(P,(0,e._)`${x}.validate`),()=>a.assign(A,(0,e._)`"string"`).assign(P,x)),r.fail$data((0,e.or)(O(),D()));function O(){return h.strictSchema===!1?e.nil:(0,e._)`${c} && !${P}`}function D(){const F=y.$async?(0,e._)`(${x}.async ? await ${P}(${o}) : ${P}(${o}))`:(0,e._)`${P}(${o})`,Q=(0,e._)`(typeof ${P} == "function" ? ${F} : ${P}.test(${o}))`;return(0,e._)`${P} && ${P} !== true && ${A} === ${i} && !${Q}`}}function S(){const b=v.formats[l];if(!b){O();return}if(b===!0)return;const[x,A,P]=D(b);x===i&&r.pass(F());function O(){if(h.strictSchema===!1){v.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${l}" ignored in schema at path "${g}"`}}function D(Q){const X=Q instanceof RegExp?(0,e.regexpCode)(Q):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(l)}`:void 0,U=a.scopeValue("formats",{key:l,ref:Q,code:X});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,e._)`${U}.validate`]:["string",Q,U]}function F(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${P}(${o})`}return typeof A=="function"?(0,e._)`${P}(${o})`:(0,e._)`${P}.test(${o})`}}}};return o0.default=n,o0}var W8;function ZPe(){if(W8)return a0;W8=1,Object.defineProperty(a0,"__esModule",{value:!0});const t=[QPe().default];return a0.default=t,a0}var Jc={},Q8;function JPe(){return Q8||(Q8=1,Object.defineProperty(Jc,"__esModule",{value:!0}),Jc.contentVocabulary=Jc.metadataVocabulary=void 0,Jc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Jc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Jc}var Z8;function YPe(){if(Z8)return P_;Z8=1,Object.defineProperty(P_,"__esModule",{value:!0});const e=SPe(),t=DPe(),n=WPe(),r=ZPe(),i=JPe(),a=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return P_.default=a,P_}var s0={},rm={},J8;function XPe(){if(J8)return rm;J8=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(rm.DiscrError=e={})),rm}var Y8;function eOe(){if(Y8)return s0;Y8=1,Object.defineProperty(s0,"__esModule",{value:!0});const e=Ln(),t=XPe(),n=TL(),r=Kn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:s}})=>o===t.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:o,tag:s,tagName:l}})=>(0,e._)`{error: ${o}, tag: ${l}, tagValue: ${s}}`},code(o){const{gen:s,data:l,schema:c,parentSchema:d,it:h}=o,{oneOf:g}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=c.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const v=s.let("valid",!1),_=s.const("tag",(0,e._)`${l}${(0,e.getProperty)(y)}`);s.if((0,e._)`typeof ${_} == "string"`,()=>S(),()=>o.error(!1,{discrError:t.DiscrError.Tag,tag:_,tagName:y})),o.ok(v);function S(){const A=x();s.if(!1);for(const P in A)s.elseIf((0,e._)`${_} === ${P}`),s.assign(v,b(A[P]));s.else(),o.error(!1,{discrError:t.DiscrError.Mapping,tag:_,tagName:y}),s.endIf()}function b(A){const P=s.name("valid"),O=o.subschema({keyword:"oneOf",schemaProp:A},P);return o.mergeEvaluated(O,e.Name),P}function x(){var A;const P={},O=F(d);let D=!0;for(let U=0;U<g.length;U++){let Y=g[U];Y!=null&&Y.$ref&&!(0,r.schemaHasRulesButRef)(Y,h.self.RULES)&&(Y=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,Y==null?void 0:Y.$ref),Y instanceof n.SchemaEnv&&(Y=Y.schema));const ce=(A=Y==null?void 0:Y.properties)===null||A===void 0?void 0:A[y];if(typeof ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(O||F(Y)),Q(ce,U)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return P;function F({required:U}){return Array.isArray(U)&&U.includes(y)}function Q(U,Y){if(U.const)X(U.const,Y);else if(U.enum)for(const ce of U.enum)X(ce,Y);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function X(U,Y){if(typeof U!="string"||U in P)throw new Error(`discriminator: "${y}" values must be unique strings`);P[U]=Y}}}};return s0.default=a,s0}const tOe="http://json-schema.org/draft-07/schema#",nOe="http://json-schema.org/draft-07/schema#",rOe="Core schema meta-schema",iOe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},aOe=["object","boolean"],oOe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},sOe={$schema:tOe,$id:nOe,title:rOe,definitions:iOe,type:aOe,properties:oOe,default:!0};var X8;function GK(){return X8||(X8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=_Pe(),r=YPe(),i=eOe(),a=sOe,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=Py();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=Ln();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=EL();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var g=CL();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})}(E_,E_.exports)),E_.exports}var uOe=GK();const lOe=Lr(uOe);var u0={exports:{}},eU;function cOe(){return eU||(eU=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=GK(),r=Ln(),i=Wm(),a=Py(),o=Ry(),s=Bu(),l="errorMessage",c=new n.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},h=/\$\{[^}]+\}/,g=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function v(S){return{keyword:l,schemaType:["string","object"],post:!0,code(b){const{gen:x,data:A,schema:P,schemaValue:O,it:D}=b;if(D.createErrors===!1)return;const F=P,Q=r.strConcat(s.default.instancePath,D.errorPath);x.if(n._`${s.default.errors} > 0`,()=>{if(typeof F=="object"){const[K,ee]=U(F);ee&&Y(ee),K&&ce(K),te(X(F))}const me=typeof F=="string"?F:F._;me&&se(me),S.keepErrors||pe()});function X({properties:me,items:K}){const ee={};if(me){ee.props={};for(const ge in me)ee.props[ge]=[]}if(K){ee.items={};for(let ge=0;ge<K.length;ge++)ee.items[ge]=[]}return ee}function U(me){let K,ee;for(const ge in me){if(ge==="properties"||ge==="items")continue;const Ae=me[ge];if(typeof Ae=="object"){K||(K={});const Ze=K[ge]={};for(const Pe in Ae)Ze[Pe]=[]}else ee||(ee={}),ee[ge]=[]}return[K,ee]}function Y(me){const K=x.const("emErrors",n.stringify(me)),ee=x.const("templates",Re(me,P));x.forOf("err",s.default.vErrors,Pe=>x.if(_e(Pe,K),()=>x.code(n._`${K}[${Pe}.keyword].push(${Pe})`).assign(n._`${Pe}.${c}`,!0)));const{singleError:ge}=S;if(ge){const Pe=x.let("message",n._`""`),Ne=x.let("paramsErrors",n._`[]`);Ae(Ye=>{x.if(Pe,()=>x.code(n._`${Pe} += ${typeof ge=="string"?ge:";"}`)),x.code(n._`${Pe} += ${Ze(Ye)}`),x.assign(Ne,n._`${Ne}.concat(${K}[${Ye}])`)}),o.reportError(b,{message:Pe,params:n._`{errors: ${Ne}}`})}else Ae(Pe=>o.reportError(b,{message:Ze(Pe),params:n._`{errors: ${K}[${Pe}]}`}));function Ae(Pe){x.forIn("key",K,Ne=>x.if(n._`${K}[${Ne}].length`,()=>Pe(Ne)))}function Ze(Pe){return n._`${Pe} in ${ee} ? ${ee}[${Pe}]() : ${O}[${Pe}]`}}function ce(me){const K=x.const("emErrors",n.stringify(me)),ee=[];for(const Ne in me)ee.push([Ne,Re(me[Ne],P[Ne])]);const ge=x.const("templates",x.object(...ee)),Ae=x.scopeValue("obj",{ref:d,code:n.stringify(d)}),Ze=x.let("emPropParams"),Pe=x.let("emParamsErrors");x.forOf("err",s.default.vErrors,Ne=>x.if(_e(Ne,K),()=>{x.assign(Ze,n._`${Ae}[${Ne}.keyword]`),x.assign(Pe,n._`${K}[${Ne}.keyword][${Ne}.params[${Ze}]]`),x.if(Pe,()=>x.code(n._`${Pe}.push(${Ne})`).assign(n._`${Ne}.${c}`,!0))})),x.forIn("key",K,Ne=>x.forIn("keyProp",n._`${K}[${Ne}]`,Ye=>{x.assign(Pe,n._`${K}[${Ne}][${Ye}]`),x.if(n._`${Pe}.length`,()=>{const oe=x.const("tmpl",n._`${ge}[${Ne}] && ${ge}[${Ne}][${Ye}]`);o.reportError(b,{message:n._`${oe} ? ${oe}() : ${O}[${Ne}][${Ye}]`,params:n._`{errors: ${Pe}}`})})}))}function te(me){const{props:K,items:ee}=me;if(!K&&!ee)return;const ge=n._`typeof ${A} == "object"`,Ae=n._`Array.isArray(${A})`,Ze=x.let("emErrors");let Pe,Ne;const Ye=x.let("templates");K&&ee?(Pe=x.let("emChildKwd"),x.if(ge),x.if(Ae,()=>{oe(ee,P.items),x.assign(Pe,n.str`items`)},()=>{oe(K,P.properties),x.assign(Pe,n.str`properties`)}),Ne=n._`[${Pe}]`):ee?(x.if(Ae),oe(ee,P.items),Ne=n._`.items`):K&&(x.if(r.and(ge,r.not(Ae))),oe(K,P.properties),Ne=n._`.properties`),x.forOf("err",s.default.vErrors,H=>de(H,Ze,$=>x.code(n._`${Ze}[${$}].push(${H})`).assign(n._`${H}.${c}`,!0))),x.forIn("key",Ze,H=>x.if(n._`${Ze}[${H}].length`,()=>{o.reportError(b,{message:n._`${H} in ${Ye} ? ${Ye}[${H}]() : ${O}${Ne}[${H}]`,params:n._`{errors: ${Ze}[${H}]}`}),x.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${Q} + "/" + ${H}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),x.endIf();function oe(H,$){x.assign(Ze,n.stringify(H)),x.assign(Ye,Re(H,$))}}function se(me){const K=x.const("emErrs",n._`[]`);x.forOf("err",s.default.vErrors,ee=>x.if(ue(ee),()=>x.code(n._`${K}.push(${ee})`).assign(n._`${ee}.${c}`,!0))),x.if(n._`${K}.length`,()=>o.reportError(b,{message:k(me),params:n._`{errors: ${K}}`}))}function pe(){const me=x.const("emErrs",n._`[]`);x.forOf("err",s.default.vErrors,K=>x.if(n._`!${K}.${c}`,()=>x.code(n._`${me}.push(${K})`))),x.assign(s.default.vErrors,me).assign(s.default.errors,n._`${me}.length`)}function _e(me,K){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath === ${Q}`,n._`${me}.keyword in ${K}`,n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${D.errSchemaPath.length}))`)}function de(me,K,ee){x.if(r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath.indexOf(${Q}) === 0`),()=>{const ge=x.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Ae=x.const("emMatches",n._`${ge}.exec(${me}.instancePath.slice(${Q}.length))`),Ze=x.const("emChild",n._`${Ae} && ${Ae}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);x.if(n._`${Ze} !== undefined && ${Ze} in ${K}`,()=>ee(Ze))})}function ue(me){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,r.or(n._`${me}.instancePath === ${Q}`,r.and(n._`${me}.instancePath.indexOf(${Q}) === 0`,n._`${me}.instancePath[${Q}.length] === "/"`)),n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${me}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Re(me,K){const ee=[];for(const ge in me){const Ae=K[ge];h.test(Ae)&&ee.push([ge,ie(Ae)])}return x.object(...ee)}function k(me){return h.test(me)?new i._Code(i.safeStringify(me).replace(g,(K,ee)=>`" + JSON.stringify(${a.getData(ee,D)}) + "`).replace(y,"")):n.stringify(me)}function ie(me){return n._`function(){return ${k(me)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const _=(S,b={})=>{if(!S.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(S.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return S.addKeyword(v(b))};t.default=_,e.exports=_,e.exports.default=_}(u0,u0.exports)),u0.exports}var fOe=cOe();const dOe=Lr(fOe);var hOe=function(e,t){return e.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),e.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),t){var a=n[i].types,o=a&&a[r.keyword];n[i]=wK(i,t,n,r.keyword,o?[].concat(o,r.message||""):r.message)}return n},{})},WK=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{var o=new lOe(Object.assign({},{allErrors:!0,validateSchema:!0},t));dOe(o);var s=o.compile(Object.assign({$async:n&&n.mode==="async"},e)),l=s(r);return a.shouldUseNativeValidation&&UK({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:nPe(hOe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(c){return Promise.reject(c)}}};const pOe="_list_fgw4_1",gOe="_trigger_fgw4_5",mOe="_edited_fgw4_12",yOe="_empty_fgw4_15",of={list:pOe,trigger:gOe,edited:mOe,empty:yOe},vOe="_input_17zzx_1",_Oe="_dialogOverlay_17zzx_5",wOe="_overlayShow_17zzx_1",bOe="_dialogContent_17zzx_12",SOe="_contentShow_17zzx_1",xOe="_localeToggleGroup_17zzx_31",EOe="_item_17zzx_35",COe="_controls_17zzx_38",tf={input:vOe,dialogOverlay:_Oe,overlayShow:wOe,dialogContent:bOe,contentShow:SOe,localeToggleGroup:xOe,item:EOe,controls:COe},QK=({name:e,locale:t,value:n,onChange:r,onBlur:i,ref:a,initialData:o,className:s,...l})=>{const c=V.useMemo(()=>[...new Set([...Object.keys(n),t])].sort(I9([t])),[t,n]),[d,h]=V.useState(t);return V.useEffect(()=>{(n==null?void 0:n[d])===void 0&&r({[d]:"",...n})},[r,d,n]),B.jsxs(eL,{value:d,onValueChange:h,children:[B.jsxs(tL,{className:of.list,children:[c.map(g=>B.jsx(nL,{value:g,className:Tr(of.trigger,{[of.edited]:o!=null&&o[g]?n[g]!==o[g]:n[g],[of.empty]:!n[g]}),children:g},g)),B.jsx(AOe,{className:of.trigger,onConfirm:g=>{g&&!c.includes(g)&&r({[g]:"",...n}),g&&h(g)}})]}),c.map(g=>B.jsx(rL,{value:g,children:B.jsx("textarea",{name:`${e}.${g}`,value:n[g],onChange:y=>{r({...n,[g]:y.target.value})},className:Tr(tf.input,s),onBlur:i,ref:a,...l})},g))]})},TOe={type:"object",required:["locale"],properties:{locale:{type:"string",minLength:2,pattern:"^[a-z]{2}(?:-[A-Z]{2})?$"}}},AOe=({onConfirm:e,...t})=>{const{locales:n}=Dn(),{i18n:r,_:i}=Wr(),[a,o]=V.useState(!1),{register:s,handleSubmit:l,control:c,watch:d,formState:h}=Ns({resolver:WK(TOe)}),g=l(({locale:v},_)=>(_==null||_.stopPropagation(),e(v),o(!1),!1)),y=d("locale");return B.jsxs(ybe,{open:a,onOpenChange:o,children:[B.jsx(vbe,{asChild:!0,children:B.jsx("button",{type:"button",...t,children:"+"})}),B.jsxs(_be,{children:[B.jsx(wbe,{className:tf.dialogOverlay}),B.jsxs(bbe,{className:tf.dialogContent,children:[B.jsx(Sbe,{className:tf.dialogTitle,children:B.jsx(_t,{id:"uLvjiZ"})}),B.jsx(bw,{control:c,name:"locale",render:({field:v})=>B.jsxs(lSe,{type:"single",value:v.value,onValueChange:v.onChange,className:tf.localeToggleGroup,children:[n.map(_=>B.jsx(cSe,{value:_,className:tf.item,children:_},_)),B.jsx("input",{type:"text",size:2,placeholder:r._({id:"1Lxtdt"}),...s("locale")})]})}),B.jsxs("div",{className:tf.controls,children:[B.jsx(xbe,{asChild:!0,children:B.jsx(tr,{tertiary:!0,children:B.jsx(_t,{id:"dEgA5A"})})}),B.jsx(tr,{primary:!0,onClick:g,disabled:!h.isValid,children:B.jsx(_t,{id:"k4QqVn",values:{locale:y}})})]})]})]})]})},Ts=async(e,{success:t,error:n,pending:r},i)=>(xr.promise(e,{success:t,error:n??{render:({data:a})=>B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"kf83Ld"}),B.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await e);var wA,tU;function ROe(){if(tU)return wA;tU=1;var e=Xo(),t=function(){return e.Date.now()};return wA=t,wA}var bA,nU;function POe(){if(nU)return bA;nU=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return bA=t,bA}var SA,rU;function OOe(){if(rU)return SA;rU=1;var e=POe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return SA=n,SA}var xA,iU;function LOe(){if(iU)return xA;iU=1;var e=OOe(),t=Co(),n=vy(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=a.test(c);return h||o.test(c)?s(c.slice(2),h?2:8):i.test(c)?r:+c}return xA=l,xA}var EA,aU;function IOe(){if(aU)return EA;aU=1;var e=Co(),t=ROe(),n=LOe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var d,h,g,y,v,_,S=0,b=!1,x=!1,A=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(b=!!c.leading,x="maxWait"in c,g=x?i(n(c.maxWait)||0,l):g,A="trailing"in c?!!c.trailing:A);function P(te){var se=d,pe=h;return d=h=void 0,S=te,y=s.apply(pe,se),y}function O(te){return S=te,v=setTimeout(Q,l),b?P(te):y}function D(te){var se=te-_,pe=te-S,_e=l-se;return x?a(_e,g-pe):_e}function F(te){var se=te-_,pe=te-S;return _===void 0||se>=l||se<0||x&&pe>=g}function Q(){var te=t();if(F(te))return X(te);v=setTimeout(Q,D(te))}function X(te){return v=void 0,A&&d?P(te):(d=h=void 0,y)}function U(){v!==void 0&&clearTimeout(v),S=0,d=_=h=v=void 0}function Y(){return v===void 0?y:X(t())}function ce(){var te=t(),se=F(te);if(d=arguments,h=this,_=te,se){if(v===void 0)return O(_);if(x)return clearTimeout(v),v=setTimeout(Q,l),P(_)}return v===void 0&&(v=setTimeout(Q,l)),y}return ce.cancel=U,ce.flush=Y,ce}return EA=o,EA}var MOe=IOe();const DOe=Lr(MOe);function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function kOe(e,t){if(Lf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e){var t=kOe(e,"string");return Lf(t)==="symbol"?t:String(t)}function wm(e,t,n){return t=ZK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oU(Object(n),!0).forEach(function(r){wm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NOe(e){if(Array.isArray(e))return e}function FOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function YR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JK(e,t){if(e){if(typeof e=="string")return YR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YR(e,t)}}function jOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cu(e,t){return NOe(e)||FOe(e,t)||JK(e,t)||jOe()}function $Oe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function qu(e,t){if(e==null)return{};var n=$Oe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var UOe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function BOe(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,a=e.defaultValue,o=a===void 0?null:a,s=e.inputValue,l=e.menuIsOpen,c=e.onChange,d=e.onInputChange,h=e.onMenuClose,g=e.onMenuOpen,y=e.value,v=qu(e,UOe),_=V.useState(s!==void 0?s:n),S=Cu(_,2),b=S[0],x=S[1],A=V.useState(l!==void 0?l:i),P=Cu(A,2),O=P[0],D=P[1],F=V.useState(y!==void 0?y:o),Q=Cu(F,2),X=Q[0],U=Q[1],Y=V.useCallback(function(ue,Re){typeof c=="function"&&c(ue,Re),U(ue)},[c]),ce=V.useCallback(function(ue,Re){var k;typeof d=="function"&&(k=d(ue,Re)),x(k!==void 0?k:ue)},[d]),te=V.useCallback(function(){typeof g=="function"&&g(),D(!0)},[g]),se=V.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),pe=s!==void 0?s:b,_e=l!==void 0?l:O,de=y!==void 0?y:X;return an(an({},v),{},{inputValue:pe,menuIsOpen:_e,onChange:Y,onInputChange:ce,onMenuClose:se,onMenuOpen:te,value:de})}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}function qOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZK(r.key),r)}}function zOe(e,t,n){return sU(e.prototype,t),sU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XR(e,t){return XR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XR(e,t)}function HOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XR(e,t)}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Aw(e)}function VOe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function KOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GOe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(e)}function WOe(e){var t=VOe();return function(){var r=Aw(e),i;if(t){var a=Aw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return GOe(this,i)}}function QOe(e){if(Array.isArray(e))return YR(e)}function ZOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RL(e){return QOe(e)||ZOe(e)||JK(e)||JOe()}function YOe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function XOe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var eLe=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(XOe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=YOe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Vi="-ms-",Rw="-moz-",Wn="-webkit-",YK="comm",PL="rule",OL="decl",tLe="@import",XK="@keyframes",nLe=Math.abs,Ob=String.fromCharCode,rLe=Object.assign;function iLe(e,t){return Fi(e,0)^45?(((t<<2^Fi(e,0))<<2^Fi(e,1))<<2^Fi(e,2))<<2^Fi(e,3):0}function eG(e){return e.trim()}function aLe(e,t){return(e=t.exec(e))?e[0]:e}function er(e,t,n){return e.replace(t,n)}function eP(e,t){return e.indexOf(t)}function Fi(e,t){return e.charCodeAt(t)|0}function Qm(e,t,n){return e.slice(t,n)}function ws(e){return e.length}function LL(e){return e.length}function l0(e,t){return t.push(e),e}function oLe(e,t){return e.map(t).join("")}var Lb=1,Lh=1,tG=0,Oa=0,li=0,up="";function Ib(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Lb,column:Lh,length:o,return:""}}function im(e,t){return rLe(Ib("",null,null,"",null,null,0),e,{length:-e.length},t)}function sLe(){return li}function uLe(){return li=Oa>0?Fi(up,--Oa):0,Lh--,li===10&&(Lh=1,Lb--),li}function Ja(){return li=Oa<tG?Fi(up,Oa++):0,Lh++,li===10&&(Lh=1,Lb++),li}function Rs(){return Fi(up,Oa)}function N0(){return Oa}function Oy(e,t){return Qm(up,e,t)}function Zm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nG(e){return Lb=Lh=1,tG=ws(up=e),Oa=0,[]}function rG(e){return up="",e}function F0(e){return eG(Oy(Oa-1,tP(e===91?e+2:e===40?e+1:e)))}function lLe(e){for(;(li=Rs())&&li<33;)Ja();return Zm(e)>2||Zm(li)>3?"":" "}function cLe(e,t){for(;--t&&Ja()&&!(li<48||li>102||li>57&&li<65||li>70&&li<97););return Oy(e,N0()+(t<6&&Rs()==32&&Ja()==32))}function tP(e){for(;Ja();)switch(li){case e:return Oa;case 34:case 39:e!==34&&e!==39&&tP(li);break;case 40:e===41&&tP(e);break;case 92:Ja();break}return Oa}function fLe(e,t){for(;Ja()&&e+li!==57;)if(e+li===84&&Rs()===47)break;return"/*"+Oy(t,Oa-1)+"*"+Ob(e===47?e:Ja())}function dLe(e){for(;!Zm(Rs());)Ja();return Oy(e,Oa)}function hLe(e){return rG(j0("",null,null,null,[""],e=nG(e),0,[0],e))}function j0(e,t,n,r,i,a,o,s,l){for(var c=0,d=0,h=o,g=0,y=0,v=0,_=1,S=1,b=1,x=0,A="",P=i,O=a,D=r,F=A;S;)switch(v=x,x=Ja()){case 40:if(v!=108&&Fi(F,h-1)==58){eP(F+=er(F0(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=F0(x);break;case 9:case 10:case 13:case 32:F+=lLe(v);break;case 92:F+=cLe(N0()-1,7);continue;case 47:switch(Rs()){case 42:case 47:l0(pLe(fLe(Ja(),N0()),t,n),l);break;default:F+="/"}break;case 123*_:s[c++]=ws(F)*b;case 125*_:case 59:case 0:switch(x){case 0:case 125:S=0;case 59+d:y>0&&ws(F)-h&&l0(y>32?lU(F+";",r,n,h-1):lU(er(F," ","")+";",r,n,h-2),l);break;case 59:F+=";";default:if(l0(D=uU(F,t,n,c,d,i,s,A,P=[],O=[],h),a),x===123)if(d===0)j0(F,t,D,D,P,a,h,s,O);else switch(g===99&&Fi(F,3)===110?100:g){case 100:case 109:case 115:j0(e,D,D,r&&l0(uU(e,D,D,0,0,i,s,A,i,P=[],h),O),i,O,h,s,r?P:O);break;default:j0(F,D,D,D,[""],O,0,s,O)}}c=d=y=0,_=b=1,A=F="",h=o;break;case 58:h=1+ws(F),y=v;default:if(_<1){if(x==123)--_;else if(x==125&&_++==0&&uLe()==125)continue}switch(F+=Ob(x),x*_){case 38:b=d>0?1:(F+="\f",-1);break;case 44:s[c++]=(ws(F)-1)*b,b=1;break;case 64:Rs()===45&&(F+=F0(Ja())),g=Rs(),d=h=ws(A=F+=dLe(N0())),x++;break;case 45:v===45&&ws(F)==2&&(_=0)}}return a}function uU(e,t,n,r,i,a,o,s,l,c,d){for(var h=i-1,g=i===0?a:[""],y=LL(g),v=0,_=0,S=0;v<r;++v)for(var b=0,x=Qm(e,h+1,h=nLe(_=o[v])),A=e;b<y;++b)(A=eG(_>0?g[b]+" "+x:er(x,/&\f/g,g[b])))&&(l[S++]=A);return Ib(e,t,n,i===0?PL:s,l,c,d)}function pLe(e,t,n){return Ib(e,t,n,YK,Ob(sLe()),Qm(e,2,-2),0)}function lU(e,t,n,r){return Ib(e,t,n,OL,Qm(e,0,r),Qm(e,r+1,-1),r)}function ah(e,t){for(var n="",r=LL(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function gLe(e,t,n,r){switch(e.type){case tLe:case OL:return e.return=e.return||e.value;case YK:return"";case XK:return e.return=e.value+"{"+ah(e.children,r)+"}";case PL:e.value=e.props.join(",")}return ws(n=ah(e.children,r))?e.return=e.value+"{"+n+"}":""}function mLe(e){var t=LL(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function yLe(e){return function(t){t.root||(t=t.return)&&e(t)}}function vLe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var _Le=function(t,n,r){for(var i=0,a=0;i=a,a=Rs(),i===38&&a===12&&(n[r]=1),!Zm(a);)Ja();return Oy(t,Oa)},wLe=function(t,n){var r=-1,i=44;do switch(Zm(i)){case 0:i===38&&Rs()===12&&(n[r]=1),t[r]+=_Le(Oa-1,n,r);break;case 2:t[r]+=F0(i);break;case 4:if(i===44){t[++r]=Rs()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=Ob(i)}while(i=Ja());return t},bLe=function(t,n){return rG(wLe(nG(t),n))},cU=new WeakMap,SLe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!cU.get(r))&&!i){cU.set(t,!0);for(var a=[],o=bLe(n,a),s=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<s.length;d++,c++)t.props[c]=a[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},xLe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function iG(e,t){switch(iLe(e,t)){case 5103:return Wn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wn+e+Rw+e+Vi+e+e;case 6828:case 4268:return Wn+e+Vi+e+e;case 6165:return Wn+e+Vi+"flex-"+e+e;case 5187:return Wn+e+er(e,/(\w+).+(:[^]+)/,Wn+"box-$1$2"+Vi+"flex-$1$2")+e;case 5443:return Wn+e+Vi+"flex-item-"+er(e,/flex-|-self/,"")+e;case 4675:return Wn+e+Vi+"flex-line-pack"+er(e,/align-content|flex-|-self/,"")+e;case 5548:return Wn+e+Vi+er(e,"shrink","negative")+e;case 5292:return Wn+e+Vi+er(e,"basis","preferred-size")+e;case 6060:return Wn+"box-"+er(e,"-grow","")+Wn+e+Vi+er(e,"grow","positive")+e;case 4554:return Wn+er(e,/([^-])(transform)/g,"$1"+Wn+"$2")+e;case 6187:return er(er(er(e,/(zoom-|grab)/,Wn+"$1"),/(image-set)/,Wn+"$1"),e,"")+e;case 5495:case 3959:return er(e,/(image-set\([^]*)/,Wn+"$1$`$1");case 4968:return er(er(e,/(.+:)(flex-)?(.*)/,Wn+"box-pack:$3"+Vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wn+e+e;case 4095:case 3583:case 4068:case 2532:return er(e,/(.+)-inline(.+)/,Wn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ws(e)-1-t>6)switch(Fi(e,t+1)){case 109:if(Fi(e,t+4)!==45)break;case 102:return er(e,/(.+:)(.+)-([^]+)/,"$1"+Wn+"$2-$3$1"+Rw+(Fi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~eP(e,"stretch")?iG(er(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fi(e,t+1)!==115)break;case 6444:switch(Fi(e,ws(e)-3-(~eP(e,"!important")&&10))){case 107:return er(e,":",":"+Wn)+e;case 101:return er(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wn+(Fi(e,14)===45?"inline-":"")+"box$3$1"+Wn+"$2$3$1"+Vi+"$2box$3")+e}break;case 5936:switch(Fi(e,t+11)){case 114:return Wn+e+Vi+er(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wn+e+Vi+er(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wn+e+Vi+er(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wn+e+Vi+e+e}return e}var ELe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case OL:t.return=iG(t.value,t.length);break;case XK:return ah([im(t,{value:er(t.value,"@","@"+Wn)})],i);case PL:if(t.length)return oLe(t.props,function(a){switch(aLe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ah([im(t,{props:[er(a,/:(read-\w+)/,":"+Rw+"$1")]})],i);case"::placeholder":return ah([im(t,{props:[er(a,/:(plac\w+)/,":"+Wn+"input-$1")]}),im(t,{props:[er(a,/:(plac\w+)/,":"+Rw+"$1")]}),im(t,{props:[er(a,/:(plac\w+)/,Vi+"input-$1")]})],i)}return""})}},CLe=[ELe],TLe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||CLe,a={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),b=1;b<S.length;b++)a[S[b]]=!0;s.push(_)});var l,c=[SLe,xLe];{var d,h=[gLe,yLe(function(_){d.insert(_)})],g=mLe(c.concat(i,h)),y=function(S){return ah(hLe(S),g)};l=function(S,b,x,A){d=x,y(S?S+"{"+b.styles+"}":b.styles),A&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new eLe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return v.sheet.hydrate(s),v},CA={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fU;function ALe(){if(fU)return Xn;fU=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function A(O){if(typeof O=="object"&&O!==null){var D=O.$$typeof;switch(D){case t:switch(O=O.type,O){case l:case c:case r:case a:case i:case h:return O;default:switch(O=O&&O.$$typeof,O){case s:case d:case v:case y:case o:return O;default:return D}}case n:return D}}}function P(O){return A(O)===c}return Xn.AsyncMode=l,Xn.ConcurrentMode=c,Xn.ContextConsumer=s,Xn.ContextProvider=o,Xn.Element=t,Xn.ForwardRef=d,Xn.Fragment=r,Xn.Lazy=v,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=h,Xn.isAsyncMode=function(O){return P(O)||A(O)===l},Xn.isConcurrentMode=P,Xn.isContextConsumer=function(O){return A(O)===s},Xn.isContextProvider=function(O){return A(O)===o},Xn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===t},Xn.isForwardRef=function(O){return A(O)===d},Xn.isFragment=function(O){return A(O)===r},Xn.isLazy=function(O){return A(O)===v},Xn.isMemo=function(O){return A(O)===y},Xn.isPortal=function(O){return A(O)===n},Xn.isProfiler=function(O){return A(O)===a},Xn.isStrictMode=function(O){return A(O)===i},Xn.isSuspense=function(O){return A(O)===h},Xn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===c||O===a||O===i||O===h||O===g||typeof O=="object"&&O!==null&&(O.$$typeof===v||O.$$typeof===y||O.$$typeof===o||O.$$typeof===s||O.$$typeof===d||O.$$typeof===S||O.$$typeof===b||O.$$typeof===x||O.$$typeof===_)},Xn.typeOf=A,Xn}var dU;function RLe(){return dU||(dU=1,CA.exports=ALe()),CA.exports}var TA,hU;function PLe(){if(hU)return TA;hU=1;var e=RLe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=r,a[e.Memo]=i;function o(v){return e.isMemo(v)?i:a[v.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;function y(v,_,S){if(typeof _!="string"){if(g){var b=h(_);b&&b!==g&&y(v,b,S)}var x=l(_);c&&(x=x.concat(c(_)));for(var A=o(v),P=o(_),O=0;O<x.length;++O){var D=x[O];if(!n[D]&&!(S&&S[D])&&!(P&&P[D])&&!(A&&A[D])){var F=d(_,D);try{s(v,D,F)}catch{}}}}return v}return TA=y,TA}PLe();var OLe=!0;function LLe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var aG=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||OLe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},ILe=function(t,n,r){aG(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function MLe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var DLe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kLe=/[A-Z]|^ms/g,NLe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oG=function(t){return t.charCodeAt(1)===45},pU=function(t){return t!=null&&typeof t!="boolean"},AA=vLe(function(e){return oG(e)?e:e.replace(kLe,"-$&").toLowerCase()}),gU=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(NLe,function(r,i,a){return bs={name:i,styles:a,next:bs},i})}return DLe[t]!==1&&!oG(t)&&typeof n=="number"&&n!==0?n+"px":n};function Jm(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return bs={name:n.name,styles:n.styles,next:bs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)bs={name:r.name,styles:r.styles,next:bs},r=r.next;var i=n.styles+";";return i}return FLe(e,t,n)}case"function":{if(e!==void 0){var a=bs,o=n(e);return bs=a,Jm(e,t,o)}break}}return n}function FLe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Jm(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object")pU(o)&&(r+=AA(a)+":"+gU(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var s=0;s<o.length;s++)pU(o[s])&&(r+=AA(a)+":"+gU(a,o[s])+";");else{var l=Jm(e,t,o);switch(a){case"animation":case"animationName":{r+=AA(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var mU=/label:\s*([^\s;\n{]+)\s*(;|$)/g,bs,sG=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";bs=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,a+=Jm(r,n,o)):a+=o[0];for(var s=1;s<t.length;s++)a+=Jm(r,n,t[s]),i&&(a+=o[s]);mU.lastIndex=0;for(var l="",c;(c=mU.exec(a))!==null;)l+="-"+c[1];var d=MLe(a)+l;return{name:d,styles:a,next:bs}},jLe=function(t){return t()},$Le=wh.useInsertionEffect?wh.useInsertionEffect:!1,ULe=$Le||jLe,IL={}.hasOwnProperty,uG=V.createContext(typeof HTMLElement<"u"?TLe({key:"css"}):null);uG.Provider;var BLe=function(t){return V.forwardRef(function(n,r){var i=V.useContext(uG);return t(n,i,r)})},qLe=V.createContext({}),nP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",zLe=function(t,n){var r={};for(var i in n)IL.call(n,i)&&(r[i]=n[i]);return r[nP]=t,r},HLe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return aG(n,r,i),ULe(function(){return ILe(n,r,i)}),null},VLe=BLe(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[nP],a=[r],o="";typeof e.className=="string"?o=LLe(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var s=sG(a,void 0,V.useContext(qLe));o+=t.key+"-"+s.name;var l={};for(var c in e)IL.call(e,c)&&c!=="css"&&c!==nP&&(l[c]=e[c]);return l.ref=n,l.className=o,V.createElement(V.Fragment,null,V.createElement(HLe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),V.createElement(i,l))}),nn=function(t,n){var r=arguments;if(n==null||!IL.call(n,"css"))return V.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=VLe,a[1]=zLe(t,n);for(var o=2;o<i;o++)a[o]=r[o];return V.createElement.apply(null,a)};function ML(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sG(t)}var KLe=function(){var t=ML.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function GLe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function WLe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const QLe=["top","right","bottom","left"];QLe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function Tu(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lG(e){return Tu(e).getComputedStyle(e)}function cG(e){return e instanceof Tu(e).Node}function fG(e){return cG(e)?(e.nodeName||"").toLowerCase():""}let c0;function ZLe(){if(c0)return c0;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(c0=e.brands.map(t=>t.brand+"/"+t.version).join(" "),c0):navigator.userAgent}function DL(e){return e instanceof Tu(e).HTMLElement}function $0(e){return e instanceof Tu(e).Element}function yU(e){return typeof ShadowRoot>"u"?!1:e instanceof Tu(e).ShadowRoot||e instanceof ShadowRoot}function dG(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=lG(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function JLe(){return/^((?!chrome|android).)*safari/i.test(ZLe())}function YLe(e){return["html","body","#document"].includes(fG(e))}const Pw=Math.round;function XLe(e){const t=lG(e);let n=parseFloat(t.width),r=parseFloat(t.height);const i=DL(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=Pw(n)!==a||Pw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function hG(e){return $0(e)?e:e.contextElement}const pG={x:1,y:1};function vU(e){const t=hG(e);if(!DL(t))return pG;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:a}=XLe(t);let o=(a?Pw(n.width):n.width)/r,s=(a?Pw(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}function _U(e,t,n,r){var i,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=hG(e);let l=pG;t&&(l=vU(e));const c=s?Tu(s):window,d=JLe()&&n;let h=(o.left+(d&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,g=(o.top+(d&&((a=c.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=o.width/l.x,v=o.height/l.y;if(s){const _=Tu(s),S=r;let b=_.frameElement;for(;b&&r&&S!==_;){const x=vU(b),A=b.getBoundingClientRect(),P=getComputedStyle(b);A.x+=(b.clientLeft+parseFloat(P.paddingLeft))*x.x,A.y+=(b.clientTop+parseFloat(P.paddingTop))*x.y,h*=x.x,g*=x.y,y*=x.x,v*=x.y,h+=A.x,g+=A.y,b=Tu(b).frameElement}}return WLe({width:y,height:v,x:h,y:g})}function eIe(e){return((cG(e)?e.ownerDocument:e.document)||window.document).documentElement}function tIe(e){if(fG(e)==="html")return e;const t=e.assignedSlot||e.parentNode||yU(e)&&e.host||eIe(e);return yU(t)?t.host:t}function gG(e){const t=tIe(e);return YLe(t)?t.ownerDocument.body:DL(t)&&dG(t)?t:gG(t)}function U0(e,t){var n;t===void 0&&(t=[]);const r=gG(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Tu(r);return i?t.concat(a,a.visualViewport||[],dG(r)?r:[]):t.concat(r,U0(r))}function nIe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:s=!1}=r,l=i&&!s,c=l||a?[...$0(e)?U0(e):e.contextElement?U0(e.contextElement):[],...U0(t)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let d,h=null;o&&(h=new ResizeObserver(()=>{n()}),$0(e)&&!s&&h.observe(e),$0(e)||!e.contextElement||s||h.observe(e.contextElement),h.observe(t));let g=s?_U(e):null;return s&&function y(){const v=_U(e);!g||v.x===g.x&&v.y===g.y&&v.width===g.width&&v.height===g.height||n(),g=v,d=requestAnimationFrame(y)}(),n(),()=>{var y;c.forEach(v=>{l&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(y=h)==null||y.disconnect(),h=null,s&&cancelAnimationFrame(d)}}var rP=V.useLayoutEffect,rIe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ow=function(){};function iIe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function aIe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(iIe(e,o)));return a.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var wU=function(t){return pIe(t)?t.filter(Boolean):Lf(t)==="object"&&t!==null?[t]:[]},mG=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=qu(t,rIe);return an({},n)},Gr=function(t,n,r){var i=t.cx,a=t.getStyles,o=t.getClassNames,s=t.className;return{css:a(n,t),className:i(r??{},o(n,t),s)}};function Mb(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function oIe(e){return Mb(e)?window.innerHeight:e.clientHeight}function yG(e){return Mb(e)?window.pageYOffset:e.scrollTop}function Lw(e,t){if(Mb(e)){window.scrollTo(0,t);return}e.scrollTop=t}function sIe(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function uIe(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function f0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ow,i=yG(e),a=t-i,o=10,s=0;function l(){s+=o;var c=uIe(s,i,a,n);Lw(e,c),s<n?window.requestAnimationFrame(l):r(e)}l()}function bU(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Lw(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Lw(e,Math.max(t.offsetTop-i,0))}function lIe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function SU(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function cIe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var vG=!1,fIe={get passive(){return vG=!0}},d0=typeof window<"u"?window:{};d0.addEventListener&&d0.removeEventListener&&(d0.addEventListener("p",Ow,fIe),d0.removeEventListener("p",Ow,!1));var dIe=vG;function hIe(e){return e!=null}function pIe(e){return Array.isArray(e)}function h0(e,t,n){return e?t:n}var gIe=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(t).filter(function(o){var s=Cu(o,1),l=s[0];return!r.includes(l)});return a.reduce(function(o,s){var l=Cu(s,2),c=l[0],d=l[1];return o[c]=d,o},{})},mIe=["children","innerProps"],yIe=["children","innerProps"];function vIe(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=sIe(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,g=n.getBoundingClientRect(),y=g.bottom,v=g.height,_=g.top,S=n.offsetParent.getBoundingClientRect(),b=S.top,x=o?window.innerHeight:oIe(l),A=yG(l),P=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),D=b-O,F=x-_,Q=D+A,X=h-A-_,U=y-x+A+P,Y=A+_-O,ce=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:t};if(X>=v&&!o)return a&&f0(l,U,ce),{placement:"bottom",maxHeight:t};if(!o&&X>=r||o&&F>=r){a&&f0(l,U,ce);var te=o?F-P:X-P;return{placement:"bottom",maxHeight:te}}if(i==="auto"||o){var se=t,pe=o?D:Q;return pe>=r&&(se=Math.min(pe-P-s,t)),{placement:"top",maxHeight:se}}if(i==="bottom")return a&&Lw(l,U),{placement:"bottom",maxHeight:t};break;case"top":if(D>=v)return{placement:"top",maxHeight:t};if(Q>=v&&!o)return a&&f0(l,Y,ce),{placement:"top",maxHeight:t};if(!o&&Q>=r||o&&D>=r){var _e=t;return(!o&&Q>=r||o&&D>=r)&&(_e=o?D-O:Q-O),a&&f0(l,Y,ce),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function _Ie(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var _G=function(t){return t==="auto"?"bottom":t},wIe=function(t,n){var r,i=t.placement,a=t.theme,o=a.borderRadius,s=a.spacing,l=a.colors;return an((r={label:"menu"},wm(r,_Ie(i),"100%"),wm(r,"position","absolute"),wm(r,"width","100%"),wm(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},wG=V.createContext(null),bIe=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=V.useContext(wG)||{},d=c.setPortalPlacement,h=V.useRef(null),g=V.useState(i),y=Cu(g,2),v=y[0],_=y[1],S=V.useState(null),b=Cu(S,2),x=b[0],A=b[1],P=l.spacing.controlHeight;return rP(function(){var O=h.current;if(O){var D=o==="fixed",F=s&&!D,Q=vIe({maxHeight:i,menuEl:O,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:D,controlHeight:P});_(Q.maxHeight),A(Q.placement),d==null||d(Q.placement)}},[i,a,o,s,r,d,P]),n({ref:h,placerProps:an(an({},t),{},{placement:x||_G(a),maxHeight:v})})},SIe=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return nn("div",sn({},Gr(t,"menu",{menu:!0}),{ref:r},i),n)},xIe=SIe,EIe=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return an({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},CIe=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,a=t.isMulti;return nn("div",sn({},Gr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},bG=function(t,n){var r=t.theme,i=r.spacing.baseUnit,a=r.colors;return an({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},TIe=bG,AIe=bG,RIe=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,a=qu(t,mIe);return nn("div",sn({},Gr(an(an({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},PIe=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,a=qu(t,yIe);return nn("div",sn({},Gr(an(an({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},OIe=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},LIe=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,a=t.innerProps,o=t.menuPlacement,s=t.menuPosition,l=V.useRef(null),c=V.useRef(null),d=V.useState(_G(o)),h=Cu(d,2),g=h[0],y=h[1],v=V.useMemo(function(){return{setPortalPlacement:y}},[]),_=V.useState(null),S=Cu(_,2),b=S[0],x=S[1],A=V.useCallback(function(){if(i){var F=lIe(i),Q=s==="fixed"?0:window.pageYOffset,X=F[g]+Q;(X!==(b==null?void 0:b.offset)||F.left!==(b==null?void 0:b.rect.left)||F.width!==(b==null?void 0:b.rect.width))&&x({offset:X,rect:F})}},[i,s,g,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);rP(function(){A()},[A]);var P=V.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=nIe(i,l.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);rP(function(){P()},[P]);var O=V.useCallback(function(F){l.current=F,P()},[P]);if(!n&&s!=="fixed"||!b)return null;var D=nn("div",sn({ref:O},Gr(an(an({},t),{},{offset:b.offset,position:s,rect:b.rect}),"menuPortal",{"menu-portal":!0}),a),r);return nn(wG.Provider,{value:v},n?Ql.createPortal(D,n):D)},IIe=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},MIe=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,a=t.isRtl;return nn("div",sn({},Gr(t,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},DIe=function(t,n){var r=t.theme.spacing,i=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return an({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},kIe=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,a=t.hasValue;return nn("div",sn({},Gr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},NIe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},FIe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Gr(t,"indicatorsContainer",{indicators:!0}),r),n)},xU,jIe=["size"],$Ie=["innerProps","isRtl","size"],UIe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},SG=function(t){var n=t.size,r=qu(t,jIe);return nn("svg",sn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:UIe},r))},kL=function(t){return nn(SG,sn({size:20},t),nn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},xG=function(t){return nn(SG,sn({size:20},t),nn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},EG=function(t,n){var r=t.isFocused,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return an({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},BIe=EG,qIe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Gr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||nn(xG,null))},zIe=EG,HIe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Gr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||nn(kL,null))},VIe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return an({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},KIe=function(t){var n=t.innerProps;return nn("span",sn({},n,Gr(t,"indicatorSeparator",{"indicator-separator":!0})))},GIe=KLe(xU||(xU=GLe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),WIe=function(t,n){var r=t.isFocused,i=t.size,a=t.theme,o=a.colors,s=a.spacing.baseUnit;return an({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2})},RA=function(t){var n=t.delay,r=t.offset;return nn("span",{css:ML({animation:"".concat(GIe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},QIe=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,a=i===void 0?4:i,o=qu(t,$Ie);return nn("div",sn({},Gr(an(an({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),nn(RA,{delay:0,offset:r}),nn(RA,{delay:160,offset:!0}),nn(RA,{delay:320,offset:!r}))},ZIe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.theme,o=a.colors,s=a.borderRadius,l=a.spacing;return an({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},JIe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.innerRef,o=t.innerProps,s=t.menuIsOpen;return nn("div",sn({ref:a},Gr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":r||void 0}),n)},YIe=JIe,XIe=["data"],eMe=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},tMe=function(t){var n=t.children,r=t.cx,i=t.getStyles,a=t.getClassNames,o=t.Heading,s=t.headingProps,l=t.innerProps,c=t.label,d=t.theme,h=t.selectProps;return nn("div",sn({},Gr(t,"group",{group:!0}),l),nn(o,sn({},s,{selectProps:h,theme:d,getStyles:i,getClassNames:a,cx:r}),c),nn("div",null,n))},nMe=function(t,n){var r=t.theme,i=r.colors,a=r.spacing;return an({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},rMe=function(t){var n=mG(t);n.data;var r=qu(n,XIe);return nn("div",sn({},Gr(t,"groupHeading",{"group-heading":!0}),r))},iMe=tMe,aMe=["innerRef","isDisabled","isHidden","inputClassName"],oMe=function(t,n){var r=t.isDisabled,i=t.value,a=t.theme,o=a.spacing,s=a.colors;return an(an({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},sMe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},CG={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},sMe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":an({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},CG)},uMe=function(t){return an({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},CG)},lMe=function(t){var n=t.cx,r=t.value,i=mG(t),a=i.innerRef,o=i.isDisabled,s=i.isHidden,l=i.inputClassName,c=qu(i,aMe);return nn("div",sn({},Gr(t,"input",{"input-container":!0}),{"data-value":r||""}),nn("input",sn({className:n({input:!0},l),ref:a,style:uMe(s),disabled:o},c)))},cMe=lMe,fMe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return an({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},dMe=function(t,n){var r=t.theme,i=r.borderRadius,a=r.colors,o=t.cropWithEllipsis;return an({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},hMe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors,s=t.isFocused;return an({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},TG=function(t){var n=t.children,r=t.innerProps;return nn("div",r,n)},pMe=TG,gMe=TG;function mMe(e){var t=e.children,n=e.innerProps;return nn("div",sn({role:"button"},n),t||nn(kL,{size:14}))}var yMe=function(t){var n=t.children,r=t.components,i=t.data,a=t.innerProps,o=t.isDisabled,s=t.removeProps,l=t.selectProps,c=r.Container,d=r.Label,h=r.Remove;return nn(c,{data:i,innerProps:an(an({},Gr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},nn(d,{data:i,innerProps:an({},Gr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),nn(h,{data:i,innerProps:an(an({},Gr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},vMe=yMe,_Me=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.theme,s=o.spacing,l=o.colors;return an({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},wMe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.innerRef,s=t.innerProps;return nn("div",sn({},Gr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},s),n)},bMe=wMe,SMe=function(t,n){var r=t.theme,i=r.spacing,a=r.colors;return an({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},xMe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Gr(t,"placeholder",{placeholder:!0}),r),n)},EMe=xMe,CMe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing,o=i.colors;return an({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},TMe=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return nn("div",sn({},Gr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},AMe=TMe,RMe={ClearIndicator:HIe,Control:YIe,DropdownIndicator:qIe,DownChevron:xG,CrossIcon:kL,Group:iMe,GroupHeading:rMe,IndicatorsContainer:FIe,IndicatorSeparator:KIe,Input:cMe,LoadingIndicator:QIe,Menu:xIe,MenuList:CIe,MenuPortal:LIe,LoadingMessage:PIe,NoOptionsMessage:RIe,MultiValue:vMe,MultiValueContainer:pMe,MultiValueLabel:gMe,MultiValueRemove:mMe,Option:bMe,Placeholder:EMe,SelectContainer:MIe,SingleValue:AMe,ValueContainer:kIe},PMe=function(t){return an(an({},RMe),t.components)},EU=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function OMe(e,t){return!!(e===t||EU(e)&&EU(t))}function LMe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!OMe(e[n],t[n]))return!1;return!0}function IMe(e,t){t===void 0&&(t=LMe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var MMe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},DMe=function(t){return nn("span",sn({css:MMe},t))},CU=DMe,kMe={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,a=t.labels,o=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,a=t.label,o=a===void 0?"":a,s=t.selectValue,l=t.isDisabled,c=t.isSelected,d=t.isAppleDevice,h=function(_,S){return _&&_.length?"".concat(_.indexOf(S)+1," of ").concat(_.length):""};if(n==="value"&&s)return"value ".concat(o," focused, ").concat(h(s,r),".");if(n==="menu"&&d){var g=l?" disabled":"",y="".concat(c?" selected":"").concat(g);return"".concat(o).concat(y,", ").concat(h(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},NMe=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,a=t.focusableOptions,o=t.isFocused,s=t.selectValue,l=t.selectProps,c=t.id,d=t.isAppleDevice,h=l.ariaLiveMessages,g=l.getOptionLabel,y=l.inputValue,v=l.isMulti,_=l.isOptionDisabled,S=l.isSearchable,b=l.menuIsOpen,x=l.options,A=l.screenReaderStatus,P=l.tabSelectsValue,O=l.isLoading,D=l["aria-label"],F=l["aria-live"],Q=V.useMemo(function(){return an(an({},kMe),h||{})},[h]),X=V.useMemo(function(){var pe="";if(n&&Q.onChange){var _e=n.option,de=n.options,ue=n.removedValue,Re=n.removedValues,k=n.value,ie=function(Pe){return Array.isArray(Pe)?null:Pe},me=ue||_e||ie(k),K=me?g(me):"",ee=de||Re||void 0,ge=ee?ee.map(g):[],Ae=an({isDisabled:me&&_(me,s),label:K,labels:ge},n);pe=Q.onChange(Ae)}return pe},[n,Q,_,s,g]),U=V.useMemo(function(){var pe="",_e=r||i,de=!!(r&&s&&s.includes(r));if(_e&&Q.onFocus){var ue={focused:_e,label:g(_e),isDisabled:_(_e,s),isSelected:de,options:a,context:_e===r?"menu":"value",selectValue:s,isAppleDevice:d};pe=Q.onFocus(ue)}return pe},[r,i,g,_,Q,a,s,d]),Y=V.useMemo(function(){var pe="";if(b&&x.length&&!O&&Q.onFilter){var _e=A({count:a.length});pe=Q.onFilter({inputValue:y,resultsMessage:_e})}return pe},[a,y,b,Q,x,A,O]),ce=(n==null?void 0:n.action)==="initial-input-focus",te=V.useMemo(function(){var pe="";if(Q.guidance){var _e=i?"value":b?"menu":"input";pe=Q.guidance({"aria-label":D,context:_e,isDisabled:r&&_(r,s),isMulti:v,isSearchable:S,tabSelectsValue:P,isInitialFocus:ce})}return pe},[D,r,i,v,_,S,b,Q,s,P,ce]),se=nn(V.Fragment,null,nn("span",{id:"aria-selection"},X),nn("span",{id:"aria-focused"},U),nn("span",{id:"aria-results"},Y),nn("span",{id:"aria-guidance"},te));return nn(V.Fragment,null,nn(CU,{id:c},ce&&se),nn(CU,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!ce&&se))},FMe=NMe,iP=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],jMe=new RegExp("["+iP.map(function(e){return e.letters}).join("")+"]","g"),AG={};for(var PA=0;PA<iP.length;PA++)for(var OA=iP[PA],LA=0;LA<OA.letters.length;LA++)AG[OA.letters[LA]]=OA.base;var RG=function(t){return t.replace(jMe,function(n){return AG[n]})},$Me=IMe(RG),TU=function(t){return t.replace(/^\s+|\s+$/g,"")},UMe=function(t){return"".concat(t.label," ").concat(t.value)},BMe=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=an({ignoreCase:!0,ignoreAccents:!0,stringify:UMe,trim:!0,matchFrom:"any"},t),a=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,l=i.trim,c=i.matchFrom,d=l?TU(r):r,h=l?TU(s(n)):s(n);return a&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=$Me(d),h=RG(h)),c==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},qMe=["innerRef"];function zMe(e){var t=e.innerRef,n=qu(e,qMe),r=gIe(n,"onExited","in","enter","exit","appear");return nn("input",sn({ref:t},r,{css:ML({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var HMe=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function VMe(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=V.useRef(!1),s=V.useRef(!1),l=V.useRef(0),c=V.useRef(null),d=V.useCallback(function(S,b){if(c.current!==null){var x=c.current,A=x.scrollTop,P=x.scrollHeight,O=x.clientHeight,D=c.current,F=b>0,Q=P-O-A,X=!1;Q>b&&o.current&&(r&&r(S),o.current=!1),F&&s.current&&(a&&a(S),s.current=!1),F&&b>Q?(n&&!o.current&&n(S),D.scrollTop=P,X=!0,o.current=!0):!F&&-b>A&&(i&&!s.current&&i(S),D.scrollTop=0,X=!0,s.current=!0),X&&HMe(S)}},[n,r,i,a]),h=V.useCallback(function(S){d(S,S.deltaY)},[d]),g=V.useCallback(function(S){l.current=S.changedTouches[0].clientY},[]),y=V.useCallback(function(S){var b=l.current-S.changedTouches[0].clientY;d(S,b)},[d]),v=V.useCallback(function(S){if(S){var b=dIe?{passive:!1}:!1;S.addEventListener("wheel",h,b),S.addEventListener("touchstart",g,b),S.addEventListener("touchmove",y,b)}},[y,g,h]),_=V.useCallback(function(S){S&&(S.removeEventListener("wheel",h,!1),S.removeEventListener("touchstart",g,!1),S.removeEventListener("touchmove",y,!1))},[y,g,h]);return V.useEffect(function(){if(t){var S=c.current;return v(S),function(){_(S)}}},[t,v,_]),function(S){c.current=S}}var AU=["boxSizing","height","overflow","paddingRight","position"],RU={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function PU(e){e.cancelable&&e.preventDefault()}function OU(e){e.stopPropagation()}function LU(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function IU(){return"ontouchstart"in window||navigator.maxTouchPoints}var MU=!!(typeof window<"u"&&window.document&&window.document.createElement),am=0,Ud={capture:!1,passive:!1};function KMe(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=V.useRef({}),a=V.useRef(null),o=V.useCallback(function(l){if(MU){var c=document.body,d=c&&c.style;if(r&&AU.forEach(function(v){var _=d&&d[v];i.current[v]=_}),r&&am<1){var h=parseInt(i.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,y=window.innerWidth-g+h||0;Object.keys(RU).forEach(function(v){var _=RU[v];d&&(d[v]=_)}),d&&(d.paddingRight="".concat(y,"px"))}c&&IU()&&(c.addEventListener("touchmove",PU,Ud),l&&(l.addEventListener("touchstart",LU,Ud),l.addEventListener("touchmove",OU,Ud))),am+=1}},[r]),s=V.useCallback(function(l){if(MU){var c=document.body,d=c&&c.style;am=Math.max(am-1,0),r&&am<1&&AU.forEach(function(h){var g=i.current[h];d&&(d[h]=g)}),c&&IU()&&(c.removeEventListener("touchmove",PU,Ud),l&&(l.removeEventListener("touchstart",LU,Ud),l.removeEventListener("touchmove",OU,Ud)))}},[r]);return V.useEffect(function(){if(t){var l=a.current;return o(l),function(){s(l)}}},[t,o,s]),function(l){a.current=l}}var GMe=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},WMe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function QMe(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,a=e.onBottomArrive,o=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,c=VMe({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:s,onTopLeave:l}),d=KMe({isEnabled:n}),h=function(y){c(y),d(y)};return nn(V.Fragment,null,n&&nn("div",{onClick:GMe,css:WMe}),t(h))}var ZMe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},JMe=function(t){var n=t.name,r=t.onFocus;return nn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:ZMe,value:"",onChange:function(){}})},YMe=JMe;function NL(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function XMe(){return NL(/^iPhone/i)}function PG(){return NL(/^Mac/i)}function eDe(){return NL(/^iPad/i)||PG()&&navigator.maxTouchPoints>1}function tDe(){return XMe()||eDe()}function nDe(){return PG()||tDe()}var rDe=function(t){return t.label},iDe=function(t){return t.label},aDe=function(t){return t.value},oDe=function(t){return!!t.isDisabled},sDe={clearIndicator:zIe,container:IIe,control:ZIe,dropdownIndicator:BIe,group:eMe,groupHeading:nMe,indicatorsContainer:NIe,indicatorSeparator:VIe,input:oMe,loadingIndicator:WIe,loadingMessage:AIe,menu:wIe,menuList:EIe,menuPortal:OIe,multiValue:fMe,multiValueLabel:dMe,multiValueRemove:hMe,noOptionsMessage:TIe,option:_Me,placeholder:SMe,singleValue:CMe,valueContainer:DIe},uDe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},lDe=4,OG=4,cDe=38,fDe=OG*2,dDe={baseUnit:OG,controlHeight:cDe,menuGutter:fDe},IA={borderRadius:lDe,colors:uDe,spacing:dDe},hDe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:SU(),captureMenuScroll:!SU(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:BMe(),formatGroupLabel:rDe,getOptionLabel:iDe,getOptionValue:aDe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:oDe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!cIe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function DU(e,t,n,r){var i=MG(e,t,n),a=DG(e,t,n),o=IG(e,t),s=Iw(e,t);return{type:"option",data:t,isDisabled:i,isSelected:a,label:o,value:s,index:r}}function B0(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,s){return DU(e,o,t,s)}).filter(function(o){return NU(e,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=DU(e,n,t,r);return NU(e,a)?a:void 0}).filter(hIe)}function LG(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,RL(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function kU(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,RL(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function pDe(e,t){return LG(B0(e,t))}function NU(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!NG(e)||!a)&&kG(e,{label:o,value:s,data:i},r)}function gDe(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var a=t.indexOf(n);if(a>-1)return n;if(i<t.length)return t[i]}return null}function mDe(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var MA=function(t,n){var r,i=(r=t.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},IG=function(t,n){return t.getOptionLabel(n)},Iw=function(t,n){return t.getOptionValue(n)};function MG(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function DG(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=Iw(e,t);return n.some(function(i){return Iw(e,i)===r})}function kG(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var NG=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},yDe=1,FG=function(e){HOe(n,e);var t=WOe(n);function n(r){var i;if(qOe(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=nDe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var d=i.props,h=d.onChange,g=d.name;c.name=g,i.ariaOnChange(l,c),h(l,c)},i.setValue=function(l,c,d){var h=i.props,g=h.closeMenuOnSelect,y=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),g&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:d})},i.selectOption=function(l){var c=i.props,d=c.blurInputOnSelect,h=c.isMulti,g=c.name,y=i.state.selectValue,v=h&&i.isOptionSelected(l,y),_=i.isOptionDisabled(l,y);if(v){var S=i.getOptionValue(l);i.setValue(y.filter(function(b){return i.getOptionValue(b)!==S}),"deselect-option",l)}else if(!_)h?i.setValue([].concat(RL(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:g});return}d&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),g=d.filter(function(v){return i.getOptionValue(v)!==h}),y=h0(c,g,g[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(h0(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,d=c[c.length-1],h=c.slice(0,c.length-1),g=h0(l,h,h[0]||null);d&&i.onChange(g,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return MA(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return kU(B0(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return aIe.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return IG(i.props,l)},i.getOptionValue=function(l){return Iw(i.props,l)},i.getStyles=function(l,c){var d=i.props.unstyled,h=sDe[l](c,d);h.boxSizing="border-box";var g=i.props.styles[l];return g?g(h,c):h},i.getClassNames=function(l,c){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return PMe(i.props)},i.buildCategorizedOptions=function(){return B0(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return LG(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:an({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,d=c.isMulti,h=c.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Mb(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,d=c&&c.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,d=c&&c.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),g=Math.abs(d.clientY-i.initialTouchY),y=5;i.userIsDragging=h>y||g>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),d=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return NG(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,d=c.isMulti,h=c.backspaceRemovesValue,g=c.escapeClearsValue,y=c.inputValue,v=c.isClearable,_=c.isDisabled,S=c.menuIsOpen,b=c.onKeyDown,x=c.tabSelectsValue,A=c.openMenuOnFocus,P=i.state,O=P.focusedOption,D=P.focusedValue,F=P.selectValue;if(!_&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||y)return;i.focusValue("previous");break;case"ArrowRight":if(!d||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!h)return;d?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!S||!x||!O||A&&i.isOptionSelected(O,F))return;i.selectOption(O);break;case"Enter":if(l.keyCode===229)break;if(S){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):v&&g&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++yDe),i.state.selectValue=wU(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[s],i.state.focusedOptionId=MA(a,o[s])}return i}return zOe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&bU(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,s=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(bU(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,s=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),d=i==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(s[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d],focusedOptionId:this.getFocusedOptionId(c[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,s=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(s);s||(l=-1);var c=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=c:d=l-1;break;case"next":l>-1&&l<c&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,c=s.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:s.length-1:i==="down"?l=(c+1)%s.length:i==="pageup"?(l=c-a,l<0&&(l=0)):i==="pagedown"?(l=c+a,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(IA):an(an({},IA),this.props.theme):IA}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,s=this.getClassNames,l=this.getValue,c=this.selectOption,d=this.setValue,h=this.props,g=h.isMulti,y=h.isRtl,v=h.options,_=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:s,getValue:l,hasValue:_,isMulti:g,isRtl:y,options:v,selectOption:c,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return MG(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return DG(this.props,i,a)}},{key:"filterOption",value:function(i,a){return kG(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,s=i.inputId,l=i.inputValue,c=i.tabIndex,d=i.form,h=i.menuIsOpen,g=i.required,y=this.getComponents(),v=y.Input,_=this.state,S=_.inputIsHidden,b=_.ariaSelection,x=this.commonProps,A=s||this.getElementId("input"),P=an(an(an({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?V.createElement(v,sn({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:l},P)):V.createElement(zMe,sn({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ow,onFocus:this.onInputFocus,disabled:a,tabIndex:c,inputMode:"none",form:d,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,s=a.MultiValueContainer,l=a.MultiValueLabel,c=a.MultiValueRemove,d=a.SingleValue,h=a.Placeholder,g=this.commonProps,y=this.props,v=y.controlShouldRenderValue,_=y.isDisabled,S=y.isMulti,b=y.inputValue,x=y.placeholder,A=this.state,P=A.selectValue,O=A.focusedValue,D=A.isFocused;if(!this.hasValue()||!v)return b?null:V.createElement(h,sn({},g,{key:"placeholder",isDisabled:_,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),x);if(S)return P.map(function(Q,X){var U=Q===O,Y="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return V.createElement(o,sn({},g,{components:{Container:s,Label:l,Remove:c},isFocused:U,isDisabled:_,key:Y,index:X,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(te){te.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(b)return null;var F=P[0];return V.createElement(d,sn({},g,{data:F,isDisabled:_}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!a||!c)return null;var h={"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var s=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return V.createElement(o,sn({},s,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:c,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,s=a.GroupHeading,l=a.Menu,c=a.MenuList,d=a.MenuPortal,h=a.LoadingMessage,g=a.NoOptionsMessage,y=a.Option,v=this.commonProps,_=this.state.focusedOption,S=this.props,b=S.captureMenuScroll,x=S.inputValue,A=S.isLoading,P=S.loadingMessage,O=S.minMenuHeight,D=S.maxMenuHeight,F=S.menuIsOpen,Q=S.menuPlacement,X=S.menuPosition,U=S.menuPortalTarget,Y=S.menuShouldBlockScroll,ce=S.menuShouldScrollIntoView,te=S.noOptionsMessage,se=S.onMenuScrollToTop,pe=S.onMenuScrollToBottom;if(!F)return null;var _e=function(K,ee){var ge=K.type,Ae=K.data,Ze=K.isDisabled,Pe=K.isSelected,Ne=K.label,Ye=K.value,oe=_===Ae,H=Ze?void 0:function(){return i.onOptionHover(Ae)},$=Ze?void 0:function(){return i.selectOption(Ae)},ae="".concat(i.getElementId("option"),"-").concat(ee),Z={id:ae,onClick:$,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Pe};return V.createElement(y,sn({},v,{innerProps:Z,data:Ae,isDisabled:Ze,isSelected:Pe,key:ae,label:Ne,type:ge,value:Ye,isFocused:oe,innerRef:oe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(K.data,"menu"))},de;if(this.hasOptions())de=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var K=me.data,ee=me.options,ge=me.index,Ae="".concat(i.getElementId("group"),"-").concat(ge),Ze="".concat(Ae,"-heading");return V.createElement(o,sn({},v,{key:Ae,data:K,options:ee,Heading:s,headingProps:{id:Ze,data:me.data},label:i.formatGroupLabel(me.data)}),me.options.map(function(Pe){return _e(Pe,"".concat(ge,"-").concat(Pe.index))}))}else if(me.type==="option")return _e(me,"".concat(me.index))});else if(A){var ue=P({inputValue:x});if(ue===null)return null;de=V.createElement(h,v,ue)}else{var Re=te({inputValue:x});if(Re===null)return null;de=V.createElement(g,v,Re)}var k={minMenuHeight:O,maxMenuHeight:D,menuPlacement:Q,menuPosition:X,menuShouldScrollIntoView:ce},ie=V.createElement(bIe,sn({},v,k),function(me){var K=me.ref,ee=me.placerProps,ge=ee.placement,Ae=ee.maxHeight;return V.createElement(l,sn({},v,k,{innerRef:K,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:ge}),V.createElement(QMe,{captureEnabled:b,onTopArrive:se,onBottomArrive:pe,lockEnabled:Y},function(Ze){return V.createElement(c,sn({},v,{innerRef:function(Ne){i.getMenuListRef(Ne),Ze(Ne)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:Ae,focusedOption:_}),de)}))});return U||X==="fixed"?V.createElement(d,sn({},v,{appendTo:U,controlElement:this.controlRef,menuPlacement:Q,menuPosition:X}),ie):ie}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,s=a.isDisabled,l=a.isMulti,c=a.name,d=a.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!s)return V.createElement(YMe,{name:c,onFocus:this.onValueInputFocus});if(!(!c||s))if(l)if(o){var g=h.map(function(_){return i.getOptionValue(_)}).join(o);return V.createElement("input",{name:c,type:"hidden",value:g})}else{var y=h.length>0?h.map(function(_,S){return V.createElement("input",{key:"i-".concat(S),name:c,type:"hidden",value:i.getOptionValue(_)})}):V.createElement("input",{name:c,type:"hidden",value:""});return V.createElement("div",null,y)}else{var v=h[0]?this.getOptionValue(h[0]):"";return V.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,s=a.focusedOption,l=a.focusedValue,c=a.isFocused,d=a.selectValue,h=this.getFocusableOptions();return V.createElement(FMe,sn({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:s,focusedValue:l,isFocused:c,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,c=this.props,d=c.className,h=c.id,g=c.isDisabled,y=c.menuIsOpen,v=this.state.isFocused,_=this.commonProps=this.getCommonProps();return V.createElement(s,sn({},_,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:v}),this.renderLiveRegion(),V.createElement(a,sn({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:v,menuIsOpen:y}),V.createElement(l,sn({},_,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(o,sn({},_,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,s=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,c=a.ariaSelection,d=a.isFocused,h=a.prevWasFocused,g=a.instancePrefix,y=i.options,v=i.value,_=i.menuIsOpen,S=i.inputValue,b=i.isMulti,x=wU(v),A={};if(o&&(v!==o.value||y!==o.options||_!==o.menuIsOpen||S!==o.inputValue)){var P=_?pDe(i,x):[],O=_?kU(B0(i,x),"".concat(g,"-option")):[],D=s?gDe(a,x):null,F=mDe(a,P),Q=MA(O,F);A={selectValue:x,focusedOption:F,focusedOptionId:Q,focusableOptionsWithIds:O,focusedValue:D,clearFocusValueOnUpdate:!1}}var X=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},U=c,Y=d&&h;return d&&!Y&&(U={value:h0(b,x,x[0]||null),options:x,action:"initial-input-focus"},Y=!h),(c==null?void 0:c.action)==="initial-input-focus"&&(U=null),an(an(an({},A),X),{},{prevProps:i,ariaSelection:U,prevWasFocused:Y})}}]),n}(V.Component);FG.defaultProps=hDe;var vDe=V.forwardRef(function(e,t){var n=BOe(e);return V.createElement(FG,sn({ref:t},n))}),_De=vDe;const wDe=({webId:e})=>{const{i18n:t,_:n}=Wr(),r=Fr(Eo),{communityId:i}=Dn(),[,a,,o]=Qo(e,i),[s,l]=V.useState(""),{data:c,...d}=j0e(s,r),h=R_e(),g=A_e(),y=async({id:b,document:x})=>{await Ts(h({interest:b,document:x,person:e}),{pending:t._({id:"S8rY67"}),success:t._({id:"6dc9lc"})})},v=V.useMemo(()=>DOe(l,500),[]),_=V.useCallback(b=>v(b),[v]),S=async b=>{if(b){const x=b.label;await Ts(g({interest:b.uri,person:e,document:e}),{pending:t._({id:"Y8WO6Z",values:{label:x}}),success:t._({id:"jx1+4B",values:{label:x}})})}};return a||a===void 0?B.jsx(xo,{children:B.jsx(_t,{id:"O75yBm"})}):B.jsxs("div",{children:[B.jsx("ul",{className:_u.list,"data-cy":"interests-list-edit",children:o.map(({id:b,document:x})=>B.jsx("li",{children:B.jsx(yV,{uri:b,onRemove:()=>y({id:b,document:x}),locale:r,"data-cy":"edit-interest"})},b+x))}),B.jsx(_De,{options:c,filterOption:()=>!0,formatOptionLabel:b=>B.jsxs("div",{title:b.description,children:[b.label,b.aliases.length>0&&` (${b.aliases.join(", ")})`,B.jsx("br",{}),b.description]}),isLoading:d.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:_,onChange:S,className:Tr(_u.select,"cy-select-interests"),classNames:{control:()=>_u.control,input:()=>_u.input,menu:()=>_u.menu,indicatorSeparator:()=>_u.separator,option:({isFocused:b})=>Tr(_u.option,b&&_u.focused)}})]})},bDe="_container_6bk5k_1",SDe="_uploadButton_6bk5k_17",jG={container:bDe,uploadButton:SDe},xDe=()=>{const{communityId:e}=Dn(),t=gi(),n=Fh(),{i18n:r,_:i}=Wr(),[,,a,,o]=Qo(t.webId,e),s=T_e(),l=Mge(),c=Ige(),d=async h=>{var _;if(!a)throw new Error(r._({id:"vVEMd1"}));const g=(_=h.photo)==null?void 0:_[0];let y;const v=o==null?void 0:o.photo;g&&(y=await c.mutateAsync({uri:xi(a),data:g})),await s({hospexDocument:a,personId:t.webId,data:{...h,photo:y}}),g&&v&&await l.mutateAsync({uri:v}),n("..")};return o?B.jsxs("div",{className:jG.container,children:[B.jsx(EDe,{initialData:o,onSubmit:h=>Ts(d(h),{pending:r._({id:"ER/wp5"}),success:r._({id:"srPuxS"})})}),B.jsx("label",{children:B.jsx(_t,{id:"65VN7K"})}),B.jsx(wDe,{webId:t.webId})]}):B.jsx(xo,{children:B.jsx(_t,{id:"6Kt8NA"})})},EDe=({initialData:e,onSubmit:t})=>{const{i18n:n,_:r}=Wr(),{register:i,handleSubmit:a,watch:o,setValue:s,getValues:l,control:c}=Ns({defaultValues:uK(e,"photo")}),d=Fr(Eo);V.useEffect(()=>{typeof e.name=="string"&&s("name",e.name)},[e.name,s]),V.useEffect(()=>{e.about&&s("about",Tf({},e.about,l("about")))},[l,e.about,d,s]);const{data:h}=tO(e.photo),g=a(async S=>{await t(S)}),[y,v]=V.useState();V.useEffect(()=>{const S=o(async(b,{name:x})=>{var A;if(x==="photo"){const P=(A=b.photo)==null?void 0:A[0];P&&v(await Ege(P))}});return()=>S.unsubscribe()},[o]);const _=y||h;return B.jsxs("form",{onSubmit:g,children:[B.jsx("label",{htmlFor:"name",children:B.jsx(_t,{id:"6YtxFj"})}),B.jsx("input",{id:"name",type:"text",...i("name"),placeholder:n._({id:"6YtxFj"})}),B.jsx("label",{htmlFor:"photo",children:B.jsx(_t,{id:"qa9cy4"})}),B.jsxs("label",{tabIndex:0,htmlFor:"photo",className:jG.uploadButton,style:_?{backgroundImage:`url(${_})`}:void 0,children:[B.jsx(Bge,{}),B.jsx("input",{id:"photo",type:"file",...i("photo"),accept:"image/*"})]}),B.jsx("label",{htmlFor:"about",children:B.jsx(_t,{id:"IJbwnu"})}),B.jsx(bw,{control:c,name:"about",render:({field:S})=>B.jsx(QK,{initialData:e.about,locale:d,rows:5,...S})}),B.jsx(tr,{primary:!0,children:B.jsx(_t,{id:"y3aU20"})})]})},CDe="_container_14k79_1",TDe={container:CDe},ADe=()=>{const e=gi(),{data:t}=gb(e.webId),n=t.length;return B.jsxs("div",{className:TDe.container,children:[B.jsxs(wf,{to:"travel",secondary:!0,children:[B.jsx(Kge,{size:24})," ",B.jsx(_t,{id:"jlqRFZ"})]}),B.jsxs(wf,{to:"host",secondary:!0,children:[B.jsx(N9,{size:24})," ",B.jsx(_t,{id:"tEB6c1"})]}),B.jsxs(wf,{to:"messages",secondary:!0,children:[B.jsx(Zge,{size:24})," ",B.jsx(_t,{id:"gHFvtg"}),n?B.jsxs(B.Fragment,{children:[" ",B.jsx(_t,{id:"GbJuzd",values:{messageCount:n}})]}):null]})]})},RDe="_container_u0fgb_1",DA={container:RDe},$G=({tabs:e,children:t})=>B.jsxs("div",{className:DA.container,children:[t,B.jsx("nav",{className:DA.navigation,children:e.map(({link:n,label:r})=>B.jsx(BJ,{className:({isActive:i})=>i?DA.active:void 0,to:n,children:r},n))})]}),PDe=()=>B.jsx($G,{tabs:[],children:B.jsx(Fw,{})}),ODe=()=>B.jsx(EP,{to:"offers",replace:!0});var q0={exports:{}},LDe=q0.exports,FU;function IDe(){return FU||(FU=1,function(e,t){(function(n,r){e.exports=r()})(LDe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",d="week",h="month",g="quarter",y="year",v="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var se=["th","st","nd","rd"],pe=te%100;return"["+te+(se[(pe-20)%10]||se[pe]||se[0])+"]"}},A=function(te,se,pe){var _e=String(te);return!_e||_e.length>=se?te:""+Array(se+1-_e.length).join(pe)+te},P={s:A,z:function(te){var se=-te.utcOffset(),pe=Math.abs(se),_e=Math.floor(pe/60),de=pe%60;return(se<=0?"+":"-")+A(_e,2,"0")+":"+A(de,2,"0")},m:function te(se,pe){if(se.date()<pe.date())return-te(pe,se);var _e=12*(pe.year()-se.year())+(pe.month()-se.month()),de=se.clone().add(_e,h),ue=pe-de<0,Re=se.clone().add(_e+(ue?-1:1),h);return+(-(_e+(pe-de)/(ue?de-Re:Re-de))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:h,y,w:d,d:c,D:v,h:l,m:s,s:o,ms:a,Q:g}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},O="en",D={};D[O]=x;var F=function(te){return te instanceof Y},Q=function te(se,pe,_e){var de;if(!se)return O;if(typeof se=="string"){var ue=se.toLowerCase();D[ue]&&(de=ue),pe&&(D[ue]=pe,de=ue);var Re=se.split("-");if(!de&&Re.length>1)return te(Re[0])}else{var k=se.name;D[k]=se,de=k}return!_e&&de&&(O=de),de||!_e&&O},X=function(te,se){if(F(te))return te.clone();var pe=typeof se=="object"?se:{};return pe.date=te,pe.args=arguments,new Y(pe)},U=P;U.l=Q,U.i=F,U.w=function(te,se){return X(te,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var Y=function(){function te(pe){this.$L=Q(pe.locale,null,!0),this.parse(pe)}var se=te.prototype;return se.parse=function(pe){this.$d=function(_e){var de=_e.date,ue=_e.utc;if(de===null)return new Date(NaN);if(U.u(de))return new Date;if(de instanceof Date)return new Date(de);if(typeof de=="string"&&!/Z$/i.test(de)){var Re=de.match(S);if(Re){var k=Re[2]-1||0,ie=(Re[7]||"0").substring(0,3);return ue?new Date(Date.UTC(Re[1],k,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,ie)):new Date(Re[1],k,Re[3]||1,Re[4]||0,Re[5]||0,Re[6]||0,ie)}}return new Date(de)}(pe),this.$x=pe.x||{},this.init()},se.init=function(){var pe=this.$d;this.$y=pe.getFullYear(),this.$M=pe.getMonth(),this.$D=pe.getDate(),this.$W=pe.getDay(),this.$H=pe.getHours(),this.$m=pe.getMinutes(),this.$s=pe.getSeconds(),this.$ms=pe.getMilliseconds()},se.$utils=function(){return U},se.isValid=function(){return this.$d.toString()!==_},se.isSame=function(pe,_e){var de=X(pe);return this.startOf(_e)<=de&&de<=this.endOf(_e)},se.isAfter=function(pe,_e){return X(pe)<this.startOf(_e)},se.isBefore=function(pe,_e){return this.endOf(_e)<X(pe)},se.$g=function(pe,_e,de){return U.u(pe)?this[_e]:this.set(de,pe)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(pe,_e){var de=this,ue=!!U.u(_e)||_e,Re=U.p(pe),k=function(Pe,Ne){var Ye=U.w(de.$u?Date.UTC(de.$y,Ne,Pe):new Date(de.$y,Ne,Pe),de);return ue?Ye:Ye.endOf(c)},ie=function(Pe,Ne){return U.w(de.toDate()[Pe].apply(de.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(Ne)),de)},me=this.$W,K=this.$M,ee=this.$D,ge="set"+(this.$u?"UTC":"");switch(Re){case y:return ue?k(1,0):k(31,11);case h:return ue?k(1,K):k(0,K+1);case d:var Ae=this.$locale().weekStart||0,Ze=(me<Ae?me+7:me)-Ae;return k(ue?ee-Ze:ee+(6-Ze),K);case c:case v:return ie(ge+"Hours",0);case l:return ie(ge+"Minutes",1);case s:return ie(ge+"Seconds",2);case o:return ie(ge+"Milliseconds",3);default:return this.clone()}},se.endOf=function(pe){return this.startOf(pe,!1)},se.$set=function(pe,_e){var de,ue=U.p(pe),Re="set"+(this.$u?"UTC":""),k=(de={},de[c]=Re+"Date",de[v]=Re+"Date",de[h]=Re+"Month",de[y]=Re+"FullYear",de[l]=Re+"Hours",de[s]=Re+"Minutes",de[o]=Re+"Seconds",de[a]=Re+"Milliseconds",de)[ue],ie=ue===c?this.$D+(_e-this.$W):_e;if(ue===h||ue===y){var me=this.clone().set(v,1);me.$d[k](ie),me.init(),this.$d=me.set(v,Math.min(this.$D,me.daysInMonth())).$d}else k&&this.$d[k](ie);return this.init(),this},se.set=function(pe,_e){return this.clone().$set(pe,_e)},se.get=function(pe){return this[U.p(pe)]()},se.add=function(pe,_e){var de,ue=this;pe=Number(pe);var Re=U.p(_e),k=function(K){var ee=X(ue);return U.w(ee.date(ee.date()+Math.round(K*pe)),ue)};if(Re===h)return this.set(h,this.$M+pe);if(Re===y)return this.set(y,this.$y+pe);if(Re===c)return k(1);if(Re===d)return k(7);var ie=(de={},de[s]=r,de[l]=i,de[o]=n,de)[Re]||1,me=this.$d.getTime()+pe*ie;return U.w(me,this)},se.subtract=function(pe,_e){return this.add(-1*pe,_e)},se.format=function(pe){var _e=this,de=this.$locale();if(!this.isValid())return de.invalidDate||_;var ue=pe||"YYYY-MM-DDTHH:mm:ssZ",Re=U.z(this),k=this.$H,ie=this.$m,me=this.$M,K=de.weekdays,ee=de.months,ge=function(Ne,Ye,oe,H){return Ne&&(Ne[Ye]||Ne(_e,ue))||oe[Ye].slice(0,H)},Ae=function(Ne){return U.s(k%12||12,Ne,"0")},Ze=de.meridiem||function(Ne,Ye,oe){var H=Ne<12?"AM":"PM";return oe?H.toLowerCase():H},Pe={YY:String(this.$y).slice(-2),YYYY:U.s(this.$y,4,"0"),M:me+1,MM:U.s(me+1,2,"0"),MMM:ge(de.monthsShort,me,ee,3),MMMM:ge(ee,me),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:ge(de.weekdaysMin,this.$W,K,2),ddd:ge(de.weekdaysShort,this.$W,K,3),dddd:K[this.$W],H:String(k),HH:U.s(k,2,"0"),h:Ae(1),hh:Ae(2),a:Ze(k,ie,!0),A:Ze(k,ie,!1),m:String(ie),mm:U.s(ie,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:Re};return ue.replace(b,function(Ne,Ye){return Ye||Pe[Ne]||Re.replace(":","")})},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(pe,_e,de){var ue,Re=U.p(_e),k=X(pe),ie=(k.utcOffset()-this.utcOffset())*r,me=this-k,K=U.m(this,k);return K=(ue={},ue[y]=K/12,ue[h]=K,ue[g]=K/3,ue[d]=(me-ie)/6048e5,ue[c]=(me-ie)/864e5,ue[l]=me/i,ue[s]=me/r,ue[o]=me/n,ue)[Re]||me,de?K:U.a(K)},se.daysInMonth=function(){return this.endOf(h).$D},se.$locale=function(){return D[this.$L]},se.locale=function(pe,_e){if(!pe)return this.$L;var de=this.clone(),ue=Q(pe,_e,!0);return ue&&(de.$L=ue),de},se.clone=function(){return U.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},te}(),ce=Y.prototype;return X.prototype=ce,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",h],["$y",y],["$D",v]].forEach(function(te){ce[te[1]]=function(se){return this.$g(se,te[0],te[1])}}),X.extend=function(te,se){return te.$i||(te(se,Y,X),te.$i=!0),X},X.locale=Q,X.isDayjs=F,X.unix=function(te){return X(1e3*te)},X.en=D[O],X.Ls=D,X.p={},X})}(q0)),q0.exports}var MDe=IDe();const jU=Lr(MDe),DDe=()=>{const e=$f(Ch);return V.useCallback(async({senderId:t,message:n,chat:r})=>{const a=`${xi(r)}${jU().format("YYYY/MM/DD")}/chat.ttl`,o=`${a}#msg-${Hl()}`,s=new Date().toISOString();return await e.mutateAsync({uri:xi(r)+jU().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message??(l.message=[]),l.message.push({"@id":o,created:s,content:n,maker:{"@id":t}})}}),{messageId:o,todayChat:a,createdAt:s}},[e])},kDe=()=>{const e=Wo(lH);return V.useCallback(async({inbox:t,senderId:n,messageId:r,chatId:i,updated:a,content:o})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:o,maker:{"@id":n}},target:{"@id":i},updated:a}})},[e])},NDe=()=>{const e=Wo(Ch),t=Wo(Hf),n=cK();return V.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:o,privateTypeIndex:s})=>{const l=`${o}messages/${Hl()}/`,c=`${l}index.ttl`,d=`${c}#this`,h=new Date().toISOString();await e.mutateAsync({uri:c,data:{"@id":d,type:{"@id":"LongChat"},author:{"@id":r},created2:h,title:"Hospex chat channel",participation:[{"@id":`${c}#${Hl()}`,dtstart:h,participant:{"@id":r}},{"@id":`${c}#${Hl()}`,dtstart:h,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const g=await rc(l);return await t.mutateAsync({uri:g,data:[{"@id":g+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":g+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":xn.Read}]}]}),await n({index:s,type:Xz.LongChat,location:d}),{chatContainer:l,chatFile:c,chatId:d}},[t,e,n])},FDe=()=>{const e=$f(Ch),t=pb();return V.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await e.mutateAsync({uri:r,subject:r,transform:o=>{var l,c,d;if(!o.participation)throw new Error("no participation");if(o.participation&&o.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const s=(l=o.participation)==null?void 0:l.find(h=>{var g;return((g=h.participant)==null?void 0:g["@id"])===a});if(!s)throw new Error("other person's participation not found");if(((c=s.references)==null?void 0:c.length)===1&&s.references[0]["@id"]===i)throw new Error("already updated");if(s.references&&((d=s.references)==null?void 0:d.length)>0)throw new Error("participation already references some other chat");s.references=[{"@id":i}]}})}catch(o){if(!(o instanceof Error&&o.message==="already updated"))throw o}await t.mutateAsync({uri:n})},[t,e])},jDe=({me:e,userId:t})=>{const{quads:n,variables:r,isLoading:i}=ma(V.useMemo(()=>({query:qve,variables:{person:[e],otherPerson:[t]},fetch:rr,staleTime:3e4}),[e,t])),a=V.useMemo(()=>{const h=ur.createLdoDataset(n).usingType(Ch);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v;return(v=y==null?void 0:y.message)==null?void 0:v.flatMap(_=>{var S;return{id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"],test:(S=y.participation)==null?void 0:S.map(b=>b.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),o=V.useMemo(()=>{const h=ur.createLdoDataset(n).usingType(Ch);return(r.chatWithOtherPerson??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v,_,S;return y["@id"]?{myChat:y["@id"],otherChats:(S=(_=(v=y.participation)==null?void 0:v[0])==null?void 0:_.references)==null?void 0:S.flatMap(b=>b["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:s,...l}=gb(e),c=V.useMemo(()=>s.filter(h=>h.from===t),[s,t]);return[V.useMemo(()=>{const h=[...a];return c.forEach(g=>{const y=a.findIndex(v=>v.id===g.id);y>-1?h[y]=g:h.push(g)}),h.sort((g,y)=>((g==null?void 0:g.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,c]),{isLoading:i},l,o]},$De=({from:e,to:t,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:e.id,name:e.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:t.id,name:t.name}}),UDe=e=>async({data:t})=>{if(!(await rr(new URL("notification",e),{method:"POST",body:JSON.stringify($De(t)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},BDe=({from:e,to:t,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=Dn();n??(n=i);const[o]=Qo(e,n),[s]=Qo(t,n),{mutateAsync:l}=La({mutationFn:UDe(a)});return V.useCallback(async c=>{await l({type:r,data:{...c,from:o,to:s}})},[o,l,s,r])};var UG=Symbol.for("immer-nothing"),$U=Symbol.for("immer-draftable"),eo=Symbol.for("immer-state");function Vo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ih=Object.getPrototypeOf;function Mh(e){return!!e&&!!e[eo]}function If(e){var t;return e?BG(e)||Array.isArray(e)||!!e[$U]||!!((t=e.constructor)!=null&&t[$U])||kb(e)||Nb(e):!1}var qDe=Object.prototype.constructor.toString();function BG(e){if(!e||typeof e!="object")return!1;const t=Ih(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===qDe}function Ym(e,t){Db(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Db(e){const t=e[eo];return t?t.type_:Array.isArray(e)?1:kb(e)?2:Nb(e)?3:0}function aP(e,t){return Db(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function qG(e,t,n){const r=Db(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function zDe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function kb(e){return e instanceof Map}function Nb(e){return e instanceof Set}function nf(e){return e.copy_||e.base_}function oP(e,t){if(kb(e))return new Map(e);if(Nb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&BG(e))return Ih(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[eo];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Ih(e),n)}function FL(e,t=!1){return Fb(e)||Mh(e)||!If(e)||(Db(e)>1&&(e.set=e.add=e.clear=e.delete=HDe),Object.freeze(e),t&&Ym(e,(n,r)=>FL(r,!0))),e}function HDe(){Vo(2)}function Fb(e){return Object.isFrozen(e)}var VDe={};function Mf(e){const t=VDe[e];return t||Vo(0,e),t}var Xm;function zG(){return Xm}function KDe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UU(e,t){t&&(Mf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sP(e){uP(e),e.drafts_.forEach(GDe),e.drafts_=null}function uP(e){e===Xm&&(Xm=e.parent_)}function BU(e){return Xm=KDe(Xm,e)}function GDe(e){const t=e[eo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function qU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[eo].modified_&&(sP(t),Vo(4)),If(e)&&(e=Mw(t,e),t.parent_||Dw(t,e)),t.patches_&&Mf("Patches").generateReplacementPatches_(n[eo].base_,e,t.patches_,t.inversePatches_)):e=Mw(t,n,[]),sP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==UG?e:void 0}function Mw(e,t,n){if(Fb(t))return t;const r=t[eo];if(!r)return Ym(t,(i,a)=>zU(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Dw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),Ym(a,(s,l)=>zU(e,r,i,s,l,n,o)),Dw(e,i,!1),n&&e.patches_&&Mf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function zU(e,t,n,r,i,a,o){if(Mh(i)){const s=a&&t&&t.type_!==3&&!aP(t.assigned_,r)?a.concat(r):void 0,l=Mw(e,i,s);if(qG(n,r,l),Mh(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(If(i)&&!Fb(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Mw(e,i),(!t||!t.scope_.parent_)&&Dw(e,i)}}function Dw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FL(t,n)}function WDe(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:zG(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=jL;n&&(i=[r],a=ey);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var jL={get(e,t){if(t===eo)return e;const n=nf(e);if(!aP(n,t))return QDe(e,n,t);const r=n[t];return e.finalized_||!If(r)?r:r===kA(e.base_,t)?(NA(e),e.copy_[t]=cP(r,e)):r},has(e,t){return t in nf(e)},ownKeys(e){return Reflect.ownKeys(nf(e))},set(e,t,n){const r=HG(nf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=kA(nf(e),t),a=i==null?void 0:i[eo];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(zDe(n,i)&&(n!==void 0||aP(e.base_,t)))return!0;NA(e),lP(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return kA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,NA(e),lP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=nf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Vo(11)},getPrototypeOf(e){return Ih(e.base_)},setPrototypeOf(){Vo(12)}},ey={};Ym(jL,(e,t)=>{ey[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ey.deleteProperty=function(e,t){return ey.set.call(this,e,t,void 0)};ey.set=function(e,t,n){return jL.set.call(this,e[0],t,n,e[0])};function kA(e,t){const n=e[eo];return(n?nf(n):e)[t]}function QDe(e,t,n){var i;const r=HG(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function HG(e,t){if(!(t in e))return;let n=Ih(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ih(n)}}function lP(e){e.modified_||(e.modified_=!0,e.parent_&&lP(e.parent_))}function NA(e){e.copy_||(e.copy_=oP(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var ZDe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Vo(6),r!==void 0&&typeof r!="function"&&Vo(7);let i;if(If(t)){const a=BU(this),o=cP(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?sP(a):uP(a)}return UU(a,r),qU(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===UG&&(i=void 0),this.autoFreeze_&&FL(i,!0),r){const a=[],o=[];Mf("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Vo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){If(e)||Vo(8),Mh(e)&&(e=JDe(e));const t=BU(this),n=cP(e,void 0);return n[eo].isManual_=!0,uP(t),n}finishDraft(e,t){const n=e&&e[eo];(!n||!n.isManual_)&&Vo(9);const{scope_:r}=n;return UU(r,t),qU(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Mf("Patches").applyPatches_;return Mh(e)?r(e,t):this.produce(e,i=>r(i,t))}};function cP(e,t){const n=kb(e)?Mf("MapSet").proxyMap_(e,t):Nb(e)?Mf("MapSet").proxySet_(e,t):WDe(e,t);return(t?t.scope_:zG()).drafts_.push(n),n}function JDe(e){return Mh(e)||Vo(10,e),VG(e)}function VG(e){if(!If(e)||Fb(e))return e;const t=e[eo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oP(e,t.scope_.immer_.useStrictShallowCopy_)}else n=oP(e,!0);return Ym(n,(r,i)=>{qG(n,r,VG(i))}),t&&(t.finalized_=!1),n}var to=new ZDe,FA=to.produce;to.produceWithPatches.bind(to);to.setAutoFreeze.bind(to);to.setUseStrictShallowCopy.bind(to);to.applyPatches.bind(to);to.createDraft.bind(to);to.finishDraft.bind(to);const YDe="_messages_1tp4g_1",XDe="_message_1tp4g_1",eke="_fromMe_1tp4g_13",tke="_unread_1tp4g_18",nke="_time_1tp4g_21",rke="_messageForm_1tp4g_25",Bd={messages:YDe,message:XDe,fromMe:eke,unread:tke,time:nke,messageForm:rke},ike=()=>{var _e,de;const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=Dn(),r=SP().id,i=gi(),{i18n:a,_:o}=Wr(),[s,l]=V.useState(!1),[c,d,h,g]=jDe({me:i.webId??"",userId:r}),{privateTypeIndexes:y,personalHospexDocuments:v}=Gm(i.webId??"",e),[_]=CH(r),S=(_e=_==null?void 0:_.inbox)==null?void 0:_e["@id"],b=DDe(),x=kDe(),A=NDe(),P=BDe({from:i.webId,to:r,type:"message"}),O=FDe(),[D,F]=V.useState({}),Q=V.useRef(new Set);V.useEffect(()=>{(async()=>{var ue;if(c&&i.webId&&((ue=g[0])!=null&&ue.myChat)){for(const Re of c)if(Re.notification&&!(Re.id in D)&&!Q.current.has(Re.id)){Q.current.add(Re.id),F(FA(k=>{k[Re.id]="processing"}));try{await O({notificationId:Re.notification,chat:g[0].myChat,otherChat:Re.chat,otherPerson:r}),F(FA(k=>{k[Re.id]="processed"}))}catch{F(FA(k=>{k[Re.id]="errored"}))}}}})()},[i.webId,g,c,D,r,O]);const X=(de=c.filter(ue=>ue.notification).find(ue=>!!ue.chat))==null?void 0:de.chat,{register:U,handleSubmit:Y,reset:ce}=Ns(),te=Y(async ue=>{var me,K,ee;if(!i.webId)throw new Error(a._({id:"udP0jg"}));if(l(!0),!S)throw new Error(a._({id:"xAkrnZ"}));let Re=(me=g[0])==null?void 0:me.myChat;if(!Re){if(!v[0])throw new Error(a._({id:"CMfhBr"}));if(!y[0])throw new Error(a._({id:"fMnMgg"}));({chatId:Re}=await A({me:i.webId,otherPerson:r,hospexContainer:xi(v[0]),otherChat:((ee=(K=g[0])==null?void 0:K.otherChats)==null?void 0:ee[0])??X??void 0,privateTypeIndex:y[0]}))}const{messageId:k,createdAt:ie}=await Ts(b({senderId:i.webId,message:ue.message,chat:Re}),{pending:a._({id:"M/R9wy"}),success:a._({id:"kH4vZi"})});await Ts(x({inbox:S,senderId:i.webId,messageId:k,chatId:Re,updated:ie,content:ue.message}),{pending:a._({id:"HZ3V75"}),success:a._({id:"qFkBv/"})}),ce({message:""}),l(!1),t&&n==="simple"&&await Ts(P({messageId:k,message:ue.message}),{pending:a._({id:"PmxYBp"}),success:a._({id:"9K7sK1"})})}),se=s||!S,pe=!d.isLoading&&!h.isLoading&&!g.some(ue=>!!ue.myChat);return B.jsxs("div",{children:[B.jsx("pre",{children:(d.isLoading||h.isLoading)&&B.jsx(_t,{id:"Z3FXyt"})}),B.jsx(_t,{id:"NqP6cw",components:{0:B.jsx(xL,{webId:r,link:!0})}}),B.jsx("div",{className:Bd.messages,children:(c==null?void 0:c.map(({id:ue,message:Re,from:k,createdAt:ie,status:me})=>B.jsxs("div",{className:Tr(Bd.message,k===i.webId&&Bd.fromMe,me==="unread"&&Bd.unread),"data-cy":"message","data-cy-message-from":k===i.webId?"me":"other",children:[Re," ",B.jsx("span",{className:Bd.time,title:new Date(ie).toLocaleString(),children:new Date(ie).toLocaleTimeString()})]},ue)))??B.jsx("div",{children:B.jsx(xo,{children:B.jsx(_t,{id:"bo2Xks"})})})}),pe&&B.jsx(B.Fragment,{children:B.jsx(_t,{id:"dWGab4"})}),B.jsx("form",{onSubmit:te,className:Bd.messageForm,children:B.jsxs("fieldset",{disabled:se,children:[B.jsx("textarea",{...U("message",{required:!0})}),B.jsx(tr,{primary:!0,type:"submit",disabled:se,children:B.jsx(_t,{id:"JlFcis"})})]})})]})};/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Yc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.add(n)})},Xc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.remove(n)})},KG=Rn.Marker.extend({initialize(e,t){Rn.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const n=this._getIconSVG(e,t);this._locationIcon=Rn.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const n=e.radius,r=e.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+t+'" /></svg>',w:a,h:a}},setStyle(e){Rn.setOptions(this,e),this.createIcon()}}),ake=KG.extend({initialize(e,t,n){Rn.setOptions(this,n),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const n=e.radius,r=e.width+e.weight,i=(n+e.depth+e.weight)*2,a=`M0,0 l${e.width/2},${e.depth} l-${r},0 z`,o=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${o}"><path d="`+a+'" style="'+t+'" /></svg>',w:r,h:i}}}),oke=Rn.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:KG,compassClass:ake,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const n=Rn.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);n.title=t.strings.title,n.href="#",n.setAttribute("role","button");const r=Rn.DomUtil.create(t.iconElementTag,t.icon,n);if(t.strings.text!==void 0){const i=Rn.DomUtil.create(t.textElementTag,"leaflet-locate-text",n);i.textContent=t.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",t.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?Rn.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=Rn.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=Rn.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=Rn.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=Rn.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new Rn.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(t,this.options);return this._link=n.link,this._icon=n.icon,Rn.DomEvent.on(this._link,"click",function(r){Rn.DomEvent.stopPropagation(r),Rn.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",Rn.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,n=function(){Rn.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?Rn.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&Rn.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),Rn.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(o):this._circle=Rn.circle(t,e,o).addTo(this._layer)}let n,r;if(this.options.metric?(n=e.toFixed(0),r=this.options.strings.metersUnit):(n=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(t,o).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?Rn.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,Rn.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(Xc(this._container,"active following"),Yc(this._container,"requesting"),Xc(this._icon,this.options.icon),Yc(this._icon,this.options.iconLoading)):e=="active"?(Xc(this._container,"requesting following"),Yc(this._container,"active"),Xc(this._icon,this.options.iconLoading),Yc(this._icon,this.options.icon)):e=="following"&&(Xc(this._container,"requesting"),Yc(this._container,"active following"),Xc(this._icon,this.options.iconLoading),Yc(this._icon,this.options.icon))},_cleanClasses(){Rn.DomUtil.removeClass(this._container,"requesting"),Rn.DomUtil.removeClass(this._container,"active"),Rn.DomUtil.removeClass(this._container,"following"),Xc(this._icon,this.options.iconLoading),Yc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function ske(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const uke=1;function lke(e){return Object.freeze({__version:uke,map:e})}function cke(e,t){return Object.freeze({...e,...t})}const $L=V.createContext(null);function jb(){const e=V.use($L);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function GG(e){function t(n,r){const{instance:i,context:a}=e(n).current;V.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:Pt.createElement($L,{value:a},o)}return V.forwardRef(t)}function WG(e){function t(n,r){const{instance:i}=e(n).current;return V.useImperativeHandle(r,()=>i),null}return V.forwardRef(t)}function fke(e){return function(n){const r=jb(),i=e(n,r),{instance:a}=i.current,o=V.useRef(n.position),{position:s}=n;return V.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),V.useEffect(function(){s!=null&&s!==o.current&&(a.setPosition(s),o.current=s)},[a,s]),i}}function QG(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function UL(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function BL(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function $b(e,t){return t==null?function(r,i){const a=V.useRef(void 0);return a.current||(a.current=e(r,i)),a}:function(r,i){const a=V.useRef(void 0);a.current||(a.current=e(r,i));const o=V.useRef(r),{instance:s}=a.current;return V.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,t]),a}}function ZG(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function JG(e){return function(n){const r=jb(),i=e(UL(n,r),r);return ske(r.map,n.attribution),QG(i.current,n.eventHandlers),ZG(i.current,r),i}}function dke(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function hke(e){return function(n){const r=jb(),i=e(UL(n,r),r);return QG(i.current,n.eventHandlers),ZG(i.current,r),dke(i.current,n),i}}function pke(e){function t(i,a){return BL(e(i),a)}const n=$b(t),r=fke(n);return WG(r)}function gke(e,t){const n=$b(e,t),r=JG(n);return GG(r)}function mke(e,t){const n=$b(e,t),r=hke(n);return GG(r)}function yke(e,t){const n=$b(e,t),r=JG(n);return WG(r)}function vke(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const YG=pke(e=>new oke(e));function qL(){return jb().map}function jA(e,t){const n=qL();return V.useEffect(function(){return n.on(e,t),function(){n.off(e,t)}},[n,e,t]),n}function _ke({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:c,...d},h){const[g]=V.useState({className:i,id:a,style:s}),[y,v]=V.useState(null),_=V.useRef(void 0);V.useImperativeHandle(h,()=>(y==null?void 0:y.map)??null,[y]);const S=V.useCallback(x=>{if(x!==null&&!_.current){const A=new Rn.Map(x,d);_.current=A,n!=null&&c!=null?A.setView(n,c):e!=null&&A.fitBounds(e,t),l!=null&&A.whenReady(l),v(lke(A))}},[]);V.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const b=y?Pt.createElement($L,{value:y},r):o??null;return Pt.createElement("div",{...g,ref:S},b)}const zL=V.forwardRef(_ke),HL=gke(function({position:t,...n},r){const i=new Rn.Marker(t,n);return BL(i,cke(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),VL=yke(function({url:t,...n},r){const i=new Rn.TileLayer(t,UL(n,r));return BL(i,r)},function(t,n,r){vke(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),wke="_mapContainer_zpxie_1",bke="_description_zpxie_11",fP={mapContainer:wke,description:bke},HU=e=>(e%360-180*3)%360+180,p0=e=>{const t=e.getBounds();return{n:t.getNorth(),s:t.getSouth(),e:t.getEast(),w:t.getWest()}},XG=({onChange:e,onUpdate:t})=>{const n=qL(),r=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=p0(n);e==null||e({lat:o,long:s},l)},[n,e]),i=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=HU(s),c={lat:o,long:l};if(Math.abs(l-s)>1){n.setView([o,l],n.getZoom(),{animate:!1});const h=p0(n);e==null||e(c,h)}const d=p0(n);t==null||t(c,d)},[n,e,t]),a=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=HU(s),c={lat:o,long:l};Math.abs(l-s)>1&&n.setView([o,l],n.getZoom(),{animate:!1});const d=p0(n);t==null||t(c,d)},[n,t]);return jA("load",a),jA("move",r),jA("moveend",i),V.useEffect(()=>{n&&a()},[a,n]),null},Ske=({value:e,onChange:t,isInitial:n})=>{const r=V.useMemo(()=>[e.lat,e.long],[e.lat,e.long]),{tileServer:i}=Dn(),{i18n:a,_:o}=Wr();return B.jsxs(zL,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Tr(fP.mapContainer,"accommodation-map-container-edit"),children:[B.jsx(VL,{url:i}),B.jsx(YG,{strings:{title:a._({id:"sa0+P5"})},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),B.jsx(HL,{position:r}),B.jsx(XG,{onChange:t})]})},xke="_container_1saps_1",Eke="_header_1saps_10",Cke="_accommodation_1saps_17",Tke="_accommodationForm_1saps_27",Ake="_errorMessage_1saps_34",Rke="_inputError_1saps_39",Pke="_actions_1saps_45",Oke="_addAccommodationButton_1saps_54",wo={container:xke,header:Eke,accommodation:Cke,accommodationForm:Tke,errorMessage:Ake,inputError:Rke,actions:Pke,addAccommodationButton:Oke},Lke={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"object",minProperties:1,patternProperties:{".*":{type:"string"}},additionalProperties:!1,not:{type:"object",minProperties:1,patternProperties:{".*":{type:"string",pattern:"^[\\s]*$"}}},required:[]}}},VU=({initialData:e,onSubmit:t,onCancel:n})=>{const{i18n:r,_:i}=Wr(),a=Fr(Eo),{handleSubmit:o,control:s,formState:{errors:l}}=Ns({defaultValues:Tf({location:{lat:0,long:0},description:{[a]:""}},e),resolver:WK(Lke)}),c=o(d=>{t(d)});return B.jsxs("form",{onSubmit:c,onReset:n,className:Tr(wo.accommodationForm,wo.accommodation),"data-cy":"accommodation-form",children:[B.jsxs("label",{children:[B.jsx(_t,{id:"ApEC55",components:{0:B.jsx(Vge,{})}}),B.jsx("br",{}),B.jsx($N,{})," ",B.jsx(_t,{id:"BQTO6T"})," ",B.jsx($N,{})]}),B.jsx(bw,{control:s,name:"location",render:({field:d})=>B.jsx("div",{className:Tr(l.location&&wo.inputError),children:B.jsx(Ske,{value:d.value,onChange:d.onChange,isInitial:!e})})}),l.location&&B.jsx("div",{className:wo.errorMessage,children:B.jsx(_t,{id:"OjgFFJ"})}),B.jsx("label",{htmlFor:"description",children:B.jsx(_t,{id:"+j94GR"})}),B.jsx(bw,{control:s,name:"description",render:({field:d})=>B.jsx(QK,{className:Tr(l.description&&wo.inputError),id:"description",placeholder:r._({id:"vJIeDW"}),initialData:e==null?void 0:e.description,locale:a,...d,rows:5})}),l.description&&B.jsx("div",{className:wo.errorMessage,children:B.jsx(_t,{id:"B8AaMI"})}),B.jsxs("div",{className:wo.actions,children:[B.jsx(tr,{type:"reset",secondary:!0,children:B.jsx(_t,{id:"dEgA5A"})}),B.jsx(tr,{type:"submit",primary:!0,children:B.jsx(_t,{id:"tfDRzk"})})]})]})},KL=({text:e,locale:t,as:n="section",...r})=>{const i=V.useMemo(()=>Object.keys(e).filter(s=>typeof e[s]=="string"&&e[s].trim()).sort(I9([t])),[t,e]),[a,o]=V.useState(i[0]??"en");return V.useEffect(()=>{i.includes(t)&&o(t)},[t,i]),B.jsx(eL,{asChild:!0,value:a,onValueChange:o,children:B.jsxs(n,{...r,children:[B.jsx(tL,{className:of.list,children:i.map(s=>B.jsx(nL,{value:s,className:of.trigger,children:s},s))}),i.map(s=>B.jsx(rL,{value:s,children:e[s]},s))]})})},Ike=({location:e})=>{const t=qL();return V.useEffect(()=>{t.flyTo(e)},[e,t]),null},Mke=e=>{const{tileServer:t}=Dn(),n=Fr(Eo),r=V.useMemo(()=>[e.location.lat,e.location.long],[e.location.lat,e.location.long]);return B.jsxs(B.Fragment,{children:[B.jsxs(zL,{className:fP.mapContainer,attributionControl:!1,zoom:12,center:r,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[B.jsx(VL,{url:t}),B.jsx(HL,{position:r}),B.jsx(Ike,{location:r})]}),B.jsx(KL,{className:fP.description,text:e.description,locale:n,as:"div"}),B.jsx("a",{href:e.id,target:"_blank",rel:"noopener noreferrer",children:B.jsx(F9,{})})]})},Dke=()=>{const e=Wo(hb),t=ts();return V.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const o=Hl(),s=a+o,l=`${s}#accommodation`;return await e.mutateAsync({uri:s,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[],location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}},transform:c=>{AO(r.description,c,"description")}}),await t.mutateAsync({uri:i,patch:`
          _:mutate a <${kn.InsertDeletePatch}>;
            <${kn.inserts}> { <${n}> <${ic.offers}> <${l}>. }.
        `}),{uri:l}},[e,t])},kke=()=>{const e=ts(),t=pb();return V.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await e.mutateAsync({uri:i,patch:`
          _:mutate a <${kn.InsertDeletePatch}>;
            <${kn.deletes}> { <${r}> <${ic.offers}> <${n}>. }.
        `}),await t.mutateAsync({uri:n})},[t,e])};var $A,KU;function Nke(){if(KU)return $A;KU=1;for(var e="0123456789bcdefghjkmnpqrstuvwxyz",t={},n=0;n<e.length;n++)t[e.charAt(n)]=n;var r="auto",i=-90,a=90,o=-180,s=180,l=[0,5,7,8,11,12,13,15,16,17,18],c=function(X,U,Y){if(Y===r){if(typeof X=="number"||typeof U=="number")throw new Error("string notation required for auto precision.");var ce=X.split(".")[1].length,te=U.split(".")[1].length,se=Math.max(ce,te);Y=l[se]}else Y===void 0&&(Y=9);for(var pe=[],_e=0,de=0,ue=0,Re=a,k=i,ie=s,me=o,K;pe.length<Y;)if(de%2===0?(K=(ie+me)/2,U>K?(ue=(ue<<1)+1,me=K):(ue=(ue<<1)+0,ie=K)):(K=(Re+k)/2,X>K?(ue=(ue<<1)+1,k=K):(ue=(ue<<1)+0,Re=K)),_e++,de++,_e===5){var ee=e[ue];pe.push(ee),_e=0,ue=0}return pe.join("")},d=function(X,U,Y){Y=Y||52;for(var ce=0,te=a,se=i,pe=s,_e=o,de,ue=0;ce<Y;)ue*=2,ce%2===0?(de=(pe+_e)/2,U>de?(ue+=1,_e=de):pe=de):(de=(te+se)/2,X>de?(ue+=1,se=de):te=de),ce++;return ue},h=function(X){for(var U=!0,Y=a,ce=i,te=s,se=o,pe,_e=0,de=0,ue=X.length;de<ue;de++){var Re=X[de].toLowerCase();_e=t[Re];for(var k=4;k>=0;k--){var ie=_e>>k&1;U?(pe=(te+se)/2,ie===1?se=pe:te=pe):(pe=(Y+ce)/2,ie===1?ce=pe:Y=pe),U=!U}}return[ce,se,Y,te]},g=function(X,U){U=U||52;for(var Y=a,ce=i,te=s,se=o,pe=0,_e=0,de=U/2,ue=0;ue<de;ue++)_e=y(X,(de-ue)*2-1),pe=y(X,(de-ue)*2-2),pe===0?Y=(Y+ce)/2:ce=(Y+ce)/2,_e===0?te=(te+se)/2:se=(te+se)/2;return[ce,se,Y,te]};function y(X,U){return X/Math.pow(2,U)&1}var v=function(X){var U=h(X),Y=(U[0]+U[2])/2,ce=(U[1]+U[3])/2,te=U[2]-Y,se=U[3]-ce;return{latitude:Y,longitude:ce,error:{latitude:te,longitude:se}}},_=function(X,U){var Y=g(X,U),ce=(Y[0]+Y[2])/2,te=(Y[1]+Y[3])/2,se=Y[2]-ce,pe=Y[3]-te;return{latitude:ce,longitude:te,error:{latitude:se,longitude:pe}}},S=function(X,U){var Y=v(X),ce=Y.latitude+U[0]*Y.error.latitude*2,te=Y.longitude+U[1]*Y.error.longitude*2;return te=D(te),ce=F(ce),c(ce,te,X.length)},b=function(X,U,Y){Y=Y||52;var ce=_(X,Y),te=ce.latitude+U[0]*ce.error.latitude*2,se=ce.longitude+U[1]*ce.error.longitude*2;return se=D(se),te=F(te),d(te,se,Y)},x=function(X){var U=X.length,Y=v(X),ce=Y.latitude,te=Y.longitude,se=Y.error.latitude*2,pe=Y.error.longitude*2,_e,de,ue=[Re(1,0),Re(1,1),Re(0,1),Re(-1,1),Re(-1,0),Re(-1,-1),Re(0,-1),Re(1,-1)];function Re(k,ie){return _e=ce+k*se,de=te+ie*pe,de=D(de),_e=F(_e),c(_e,de,U)}return ue},A=function(X,U){U=U||52;var Y=_(X,U),ce=Y.latitude,te=Y.longitude,se=Y.error.latitude*2,pe=Y.error.longitude*2,_e,de,ue=[Re(1,0),Re(1,1),Re(0,1),Re(-1,1),Re(-1,0),Re(-1,-1),Re(0,-1),Re(1,-1)];function Re(k,ie){return _e=ce+k*se,de=te+ie*pe,de=D(de),_e=F(_e),d(_e,de,U)}return ue},P=function(X,U,Y,ce,te){te=te||9;for(var se=c(X,U,te),pe=c(Y,ce,te),_e=v(se),de=_e.error.latitude*2,ue=_e.error.longitude*2,Re=h(se),k=h(pe),ie=Math.round((k[0]-Re[0])/de),me=Math.round((k[1]-Re[1])/ue),K=[],ee=0;ee<=ie;ee++)for(var ge=0;ge<=me;ge++)K.push(S(se,[ee,ge]));return K},O=function(X,U,Y,ce,te){te=te||52;for(var se=d(X,U,te),pe=d(Y,ce,te),_e=_(se,te),de=_e.error.latitude*2,ue=_e.error.longitude*2,Re=g(se,te),k=g(pe,te),ie=Math.round((k[0]-Re[0])/de),me=Math.round((k[1]-Re[1])/ue),K=[],ee=0;ee<=ie;ee++)for(var ge=0;ge<=me;ge++)K.push(b(se,[ee,ge],te));return K};function D(X){return X>s?o+X%s:X<o?s+X%s:X}function F(X){return X>a?a:X<i?i:X}var Q={ENCODE_AUTO:r,encode:c,encode_uint64:d,encode_int:d,decode:v,decode_int:_,decode_uint64:_,decode_bbox:h,decode_bbox_uint64:g,decode_bbox_int:g,neighbor:S,neighbor_int:b,neighbors:x,neighbors_int:A,bboxes:P,bboxes_int:O};return $A=Q,$A}var Fke=Nke();const ty=Lr(Fke),jke=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Document",id:t}}),$ke=e=>async t=>{const n=await rr(new URL("/inbox",e),{method:"POST",body:JSON.stringify(jke(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Go("Geoindex responded with error",n);return{...t,status:n.status}},GU=(e="")=>{const t=[];for(let n=1;n<=e.length;n++)t.push(e.substring(0,n));return t},Uke=()=>{const{geoindexService:e}=Dn(),t=Ei(),{mutateAsync:n}=La({mutationFn:$ke(e),onSuccess:async({previousLocation:a,currentLocation:o})=>{const s=[];if(a){const l=ty.encode(a.lat,a.long,10);s.push(...GU(l))}if(o){const l=ty.encode(o.lat,o.long,10);s.push(...GU(l))}await Promise.allSettled(s.map(l=>t.invalidateQueries({queryKey:[Kr.geoindex,l]})))}}),r=!!e,i=V.useCallback(async a=>await n(a),[n]);return V.useMemo(()=>[r,i],[r,i])},Bke=(e,t)=>{const{variables:n,quads:r,isLoading:i}=ma({query:aH,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:rr});return V.useMemo(()=>{const a=ur.createLdoDataset(r);return[(n.offer??[]).map(l=>a.usingType(hb).fromSubject(l)).filter(l=>{var c,d;return((c=l==null?void 0:l.location)==null?void 0:c.lat)!==void 0&&((d=l==null?void 0:l.location)==null?void 0:d.long)!==void 0}).map(l=>{var g;const c=TO(l,"description"),d=[l.location.lat].flat()[0]??0,h=[l.location.long].flat()[0]??0;return{id:l["@id"]??"",description:c,location:{lat:d,long:h},offeredBy:((g=l.offeredBy)==null?void 0:g["@id"])??""}}),i]},[i,r,n.offer])},qke={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},zke={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},Hke={schema:qke,shape:"https://example.com/Accommodation",context:zke},Vke=()=>{const e=$f(Hke);return V.useCallback(async({data:{id:t,...n},language:r="en"})=>{await e.mutateAsync({uri:t,subject:t,language:r,transform:i=>{n.description&&AO(n.description,i,"description"),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[e])},Kke=()=>{const{communityId:e}=Dn(),t=gi(),{i18n:n,_:r}=Wr(),[i,a]=V.useState(),{personalHospexDocuments:o}=aK(t.webId??"",e),[s]=Bke(t.webId??"",e),l=Dke(),c=Vke(),d=kke(),[h,g]=Uke(),y=V.useCallback(async({uri:b,type:x,previousLocation:A,currentLocation:P})=>{h&&t.webId&&await Ts(g({type:x,actor:t.webId,object:b,previousLocation:A,currentLocation:P}),{pending:n._({id:"vTkuq4"}),success:{render:({data:O})=>{switch(O.status){case 201:return n._({id:"vz3tpL"});case 200:return n._({id:"f7fqUX"});case 204:return n._({id:"Z0DAcX"});default:return n._({id:"XQAIBA"})}}}})},[t.webId,h,g,r]);if(typeof t.webId!="string")return null;if(!s)return B.jsx(xo,{children:B.jsx(_t,{id:"Z3FXyt"})});const v=async b=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));const{uri:x}=await Ts(l({personId:t.webId,data:b,hospexDocument:o[0],hospexContainer:xi(o[0])}),{pending:n._({id:"r60ENi"}),success:n._({id:"QlfR57"})});a(void 0),await y({type:"Create",uri:x,currentLocation:b.location})},_=async(b,x)=>{await Ts(c({data:b}),{pending:n._({id:"xdx7Sc"}),success:n._({id:"PUl3lo"})}),a(void 0),await y({type:"Update",uri:b.id,currentLocation:b.location,previousLocation:x.location})},S=async({id:b,location:x})=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));globalThis.confirm(n._({id:"Wixo6f"}))&&(await Ts(d({id:b,personId:t.webId,hospexDocument:o[0]}),{pending:n._({id:"+5HgiN"}),success:n._({id:"t9VobG"})}),await y({type:"Delete",uri:b,previousLocation:x}))};return B.jsxs("div",{className:wo.container,children:[B.jsxs("h1",{className:wo.header,children:[B.jsx(N9,{size:32})," ",B.jsx(_t,{id:"iRVV2L"})]}),B.jsx("ul",{style:{display:"contents"},children:s.map(b=>i===b.id?B.jsx(VU,{onSubmit:x=>_(x,b),onCancel:()=>{a(void 0)},initialData:b},b.id):B.jsxs("li",{className:wo.accommodation,"data-cy":"offer-accommodation-item",children:[B.jsx(Mke,{...b}),B.jsxs("div",{className:wo.actions,children:[B.jsx(tr,{secondary:!0,onClick:()=>{a(b.id)},children:B.jsx(_t,{id:"ePK91l"})}),B.jsx(tr,{danger:!0,onClick:()=>S(b),children:B.jsx(_t,{id:"cnGeoo"})})]})]},b.id))}),i==="new"?B.jsx(VU,{onSubmit:v,onCancel:()=>a(void 0)}):B.jsx(tr,{primary:!0,onClick:()=>a("new"),className:wo.addAccommodationButton,children:B.jsx(_t,{id:"CiQd9C"})})]})},Gke=()=>B.jsx("div",{children:"404"}),Wke=e=>{const{data:t}=tO(e.src);return t?B.jsx("img",{...e,src:t,alt:e.alt??"","data-src":e.src}):null},Qke="_container_eiq8v_1",Zke="_name_eiq8v_7",Jke="_about_eiq8v_14",Yke="_photo_eiq8v_19",g0={container:Qke,name:Zke,about:Jke,photo:Yke},Xke=()=>{const{i18n:e,_:t}=Wr(),{communityId:n}=Dn(),r=SP().id,i=gi(),a=r&&i.webId?r===i.webId:void 0,o=Fr(Eo),[s]=Qo(r,n),[l]=Qo(i.webId,n),c=s.name;return B.jsxs("div",{className:g0.container,children:[B.jsx(Wke,{className:g0.photo,src:s.photo,alt:e._({id:"+Vmqfs",values:{name:c}}),"data-cy":"profile-photo"}),B.jsxs("header",{className:g0.name,"data-cy":"profile-name",children:[s.name," ",B.jsx($9,{href:r})]}),B.jsx(KL,{text:s.about,locale:o,className:g0.about,"data-cy":"profile-about"}),a&&B.jsxs(wf,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[B.jsx(j9,{})," ",B.jsx(_t,{id:"HecDqj"})]}),a===!1&&B.jsx(wf,{secondary:!0,to:`/messages/${encodeURIComponent(r)}`,children:B.jsx(_t,{id:"eWlz27"})}),B.jsx(wf,{tertiary:!0,to:"contacts",children:B.jsx(_t,{id:"2LDW9H"})}),a===!1&&B.jsx(JRe,{webId:r}),B.jsx("section",{children:s.interests?B.jsx(ISe,{ids:s.interests,highlighted:a?[]:l.interests??[]}):B.jsx(xo,{children:B.jsx(_t,{id:"O75yBm"})})})]})},eNe=()=>{const e=gi();return e.webId?B.jsx(EP,{to:encodeURIComponent(e.webId),replace:!0}):B.jsx(xo,{children:B.jsx(_t,{id:"qPXQY8"})})},tNe="_bar_1x3gh_1",nNe="_animate_1x3gh_17",rNe="_progress_1x3gh_1",WU={bar:tNe,animate:nNe,progress:rNe},iNe=({animate:e=!1})=>B.jsx("div",{className:Tr(WU.bar,e&&WU.animate)}),aNe=async({geohash:e,geoindex:t})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${e}"`)}`,t).toString(),r=await rr(n);if(!r.ok)throw new Go("geoindex returned invalid response",r);const i=await r.text(),o=new zh({format:r.headers.get("content-type")??void 0}).parse(i),s=new Os(o);return s.getSubjects("https://example.com/ns#geohash",`"${e}"`,null).map(c=>{const d=s.getObjects(c,"https://example.com/ns#geohash",null).map(g=>g.value).reduce((g,y)=>g.length>y.length?g:y),h=ty.decode(d);return{uri:c.value,geohash:d,location:h}})},oNe=(e,t)=>{const{geoindexService:n}=Dn(),[r,i]=V.useState(0),[a,o]=V.useState(0),s=!n||r>a,l=V.useMemo(()=>t?ty.bboxes(t.s,t.w,t.n,t.e,1):[],[t]),c=V.useMemo(()=>l.map(b=>({queryKey:[Kr.geoindex,b],queryFn:()=>aNe({geohash:b,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),d=Im({queries:c,combine:b=>({isError:b.some(x=>x.isError),isPending:b.some(x=>x.isPending),isSuccess:b.every(x=>x.isSuccess),errors:b.filter(x=>x.error).map(x=>x.error),data:b.filter(x=>x.data).flatMap(x=>x.data)})});V.useEffect(()=>{d.isError&&i(Date.now())},[d.isError]),V.useEffect(()=>{d.isSuccess&&o(Date.now())},[d.isSuccess]);const h=V.useMemo(()=>s?{query:kve,variables:{community:[e]},fetch:rr,store:new Os}:{query:[],variables:{},fetch:rr},[e,s]),{quads:g,isMissing:y}=ma(h),v=V.useMemo(()=>[ur.createLdoDataset(g).usingType(hb).matchObject(null,ic.offers).filter(A=>A.location).map(A=>{var P,O,D;return{id:A["@id"],description:((P=A.description)==null?void 0:P[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((O=A.offeredBy)==null?void 0:O["@id"])??"",name:((D=A.offeredBy)==null?void 0:D.name)??""}}}).filter(A=>A.location.lat!==void 0&&A.location.long!==void 0&&A.id!==void 0),y],[y,g]),_=V.useMemo(()=>[d.data.map(({uri:b,location:x})=>({id:b,location:{lat:x.latitude,long:x.longitude},offeredBy:{id:"",name:""}})),d.isPending],[d.data,d.isPending]);return V.useMemo(()=>[Age("id",_[0],v[0]),_[1]||v[1]],[_,v])};var bm={exports:{}},sNe=bm.exports,QU;function uNe(){return QU||(QU=1,function(e,t){(function(n,r){r(t)})(sNe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=a,s=this._zoom;if(a.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,o):this._animationAddLayerNonAnimated(a,o)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,o){if(!L.Util.isArray(a))return this.addLayer(a);var s=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,d=this.options.chunkInterval,h=this.options.chunkProgress,g=a.length,y=0,v=!0,_;if(this._map){var S=new Date().getTime(),b=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<g;y++){if(c&&y%200===0){var P=new Date().getTime()-A;if(P>d)break}if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),g=a.length;continue}if(!_.getLatLng){l.addLayer(_),o||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),o||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var O=_.__parent.getAllChildMarkers(),D=O[0]===_?O[1]:O[0];s.removeLayer(D)}}h&&h(y,g,new Date().getTime()-S),y===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(b,this.options.chunkDelay)},this);b()}else for(var x=this._needsClustering;y<g;y++){if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),g=a.length;continue}if(!_.getLatLng){l.addLayer(_);continue}this.hasLayer(_)||x.push(_)}return this},removeLayers:function(a){var o,s,l=a.length,c=this._featureGroup,d=this._nonPointGroup,h=!0;if(!this._map){for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}this._arraySplice(this._needsClustering,s),d.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var g=a.slice(),y=l;for(o=0;o<y;o++){if(s=g[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,g),y=g.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}if(!s.__parent){d.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),c.hasLayer(s)&&(c.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)a.extend(this._needsClustering[o].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,o){var s=this._needsClustering.slice(),l=this._needsRemoving,c,d,h;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),d=s.length-1;d>=0;d--){for(c=!0,h=l.length-1;h>=0;h--)if(l[h].layer===s[d]){c=!1;break}c&&a.call(o,s[d])}this._nonPointGroup.eachLayer(a,o)},getLayers:function(){var a=[];return this.eachLayer(function(o){a.push(o)}),a},getLayer:function(a){var o=null;return a=parseInt(a,10),this.eachLayer(function(s){L.stamp(s)===a&&(o=s)}),o},hasLayer:function(a){if(!a)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===a)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,o){var s=this._map;typeof o!="function"&&(o=function(){});var l=function(){(s.hasLayer(a)||s.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),s.hasLayer(a)?o():a.__parent._icon&&(this.once("spiderfied",o,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?o():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var o,s,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var o=a;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(a,o){for(var s=a.length-1;s>=0;s--)if(a[s]===o)return a.splice(s,1),!0},_removeFromGridUnclustered:function(a,o){for(var s=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());o>=c&&l[o].removeObject(a,s.project(a.getLatLng(),o));o--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var o=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),o&&a.target.openPopup()}},_moveChild:function(a,o,s){a._latlng=o,this.removeLayer(a),a._latlng=s,this.addLayer(a)},_childMarkerDragEnd:function(a){var o=a.target.__dragStart;delete a.target.__dragStart,o&&this._moveChild(a.target,o,a.target._latlng)},_removeLayer:function(a,o,s){var l=this._gridClusters,c=this._gridUnclustered,d=this._featureGroup,h=this._map,g=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,v=y._markers,_;for(this._arraySplice(v,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<g));)o&&y._childCount<=1?(_=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,h.project(y._cLatLng,y._zoom)),c[y._zoom].addObject(_,h.project(_.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(_),_.__parent=y.__parent,y._icon&&(d.removeLayer(y),s||d.addLayer(_))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,o){for(;o;){if(a===o)return!0;o=o.parentNode}return!1},fire:function(a,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,o,s)},listens:function(a,o){return L.FeatureGroup.prototype.listens.call(this,a,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,o)},_defaultIconCreateFunction:function(a){var o=a.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(o||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var o=a.layer,s=o;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(a||s||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,l=s;typeof s!="function"&&(l=function(){return s}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var c=a;c>=o;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(a,o){var s=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),d,h;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);o>=c;o--){d=this._map.project(a.getLatLng(),o);var g=s[o].getNearObject(d);if(g){g._addChild(a),a.__parent=g;return}if(g=l[o].getNearObject(d),g){var y=g.__parent;y&&this._removeLayer(g,!1);var v=new this._markerCluster(this,o,g,a);s[o].addObject(v,this._map.project(v._cLatLng,o)),g.__parent=v,a.__parent=v;var _=v;for(h=o-1;h>y._zoom;h--)_=new this._markerCluster(this,h,_),s[h].addObject(_,this._map.project(g.getLatLng(),h));y._addChild(_),this._removeFromGridUnclustered(g,o);return}l[o].addObject(a,d)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var o=this._maxLat;return o!==void 0&&(a.getNorth()>=o&&(a._northEast.lat=1/0),a.getSouth()<=-o&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,o){if(o===a)this._featureGroup.addLayer(a);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(a,o){var s=a.getLayers(),l=0,c;for(o=o||[];l<s.length;l++){if(c=s[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,o);continue}o.push(c)}return o},_overrideMarkerIcon:function(a){var o=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,o){this._animationAddLayerNonAnimated(a,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,o){var s=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),d;this._ignoreMove=!0,this._topClusterLevel._recursively(s,a,c,function(h){var g=h._latlng,y=h._markers,v;for(s.contains(g)||(g=null),h._isSingleParent()&&a+1===o?(l.removeLayer(h),h._recursivelyAddChildrenToMap(null,o,s)):(h.clusterHide(),h._recursivelyAddChildrenToMap(g,o,s)),d=y.length-1;d>=0;d--)v=y[d],s.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),l.eachLayer(function(h){!(h instanceof L.MarkerCluster)&&h._icon&&h.clusterShow()}),this._topClusterLevel._recursively(s,a,o,function(h){h._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,a,c,function(h){l.removeLayer(h),h.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,o){this._animationZoomOutSingle(this._topClusterLevel,a-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,o){var s=this,l=this._featureGroup;l.addLayer(a),o!==a&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(o.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,o,s){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,o+1,s);var d=this;this._forceLayout(),a._recursivelyBecomeVisible(l,s),this._enqueue(function(){if(a._childCount===1){var h=a._markers[0];this._ignoreMove=!0,h.setLatLng(h.getLatLng()),this._ignoreMove=!1,h.clusterShow&&h.clusterShow()}else a._recursively(l,s,c,function(g){g._recursivelyRemoveChildrenFromMap(l,c,o+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,o,s,l){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),l&&this._addChild(l)},getAllChildMarkers:function(a,o){a=a||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(a,o);for(var l=this._markers.length-1;l>=0;l--)o&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var o=this._childClusters.slice(),s=this._group._map,l=s.getBoundsZoom(this._bounds),c=this._zoom+1,d=s.getZoom(),h;o.length>0&&l>c;){c++;var g=[];for(h=0;h<o.length;h++)g=g.concat(o[h]._childClusters);o=g}l>c?this._group._map.setView(this._latlng,c):l<=d?this._group._map.setView(this._latlng,d+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(o||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(o||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,o=this._childClusters,s=0,l=0,c=this._childCount,d,h,g,y;if(c!==0){for(this._resetBounds(),d=0;d<a.length;d++)g=a[d]._latlng,this._bounds.extend(g),s+=g.lat,l+=g.lng;for(d=0;d<o.length;d++)h=o[d],h._boundsNeedUpdate&&h._recalculateBounds(),this._bounds.extend(h._bounds),g=h._wLatLng,y=h._childCount,s+=g.lat*y,l+=g.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,o,s){this._recursively(a,this._group._map.getMinZoom(),s-1,function(l){var c=l._markers,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())},function(l){var c=l._childClusters,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,o,s,l){this._recursively(a,l,o,function(c){c._recursivelyAnimateChildrenIn(a,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),s),c._isSingleParent()&&s-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(a,o,s)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(a,o){this._recursively(a,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(a,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(l){if(o!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var d=l._markers[c];s.contains(d._latlng)&&(a&&(d._backupLatlng=d.getLatLng(),d.setLatLng(a),d.clusterHide&&d.clusterHide()),l._group._featureGroup.addLayer(d))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,o,s,l){var c,d;this._recursively(a,o-1,s-1,function(h){for(d=h._markers.length-1;d>=0;d--)c=h._markers[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(h){for(d=h._childClusters.length-1;d>=0;d--)c=h._childClusters[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(a,o,s,l,c){var d=this._childClusters,h=this._zoom,g,y;if(o<=h&&(l&&l(this),c&&h===s&&c(this)),h<o||h<s)for(g=d.length-1;g>=0;g--)y=d[g],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,o,s,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],g=L.Util.stamp(a);this._objectPoint[g]=o,h.push(a)},updateObject:function(a,o){this.removeObject(a),this.addObject(a,o)},removeObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],g,y;for(delete this._objectPoint[L.Util.stamp(a)],g=0,y=h.length;g<y;g++)if(h[g]===a)return h.splice(g,1),y===1&&delete d[s],!0},eachObject:function(a,o){var s,l,c,d,h,g,y,v=this._grid;for(s in v){h=v[s];for(l in h)for(g=h[l],c=0,d=g.length;c<d;c++)y=a.call(o,g[c]),y&&(c--,d--)}},getNearObject:function(a){var o=this._getCoord(a.x),s=this._getCoord(a.y),l,c,d,h,g,y,v,_,S=this._objectPoint,b=this._sqCellSize,x=null;for(l=s-1;l<=s+1;l++)if(h=this._grid[l],h){for(c=o-1;c<=o+1;c++)if(g=h[c],g)for(d=0,y=g.length;d<y;d++)v=g[d],_=this._sqDist(S[L.Util.stamp(v)],a),(_<b||_<=b&&x===null)&&(b=_,x=v)}return x},_getCoord:function(a){var o=Math.floor(a/this._cellSize);return isFinite(o)?o:a},_sqDist:function(a,o){var s=o.x-a.x,l=o.y-a.y;return s*s+l*l}},function(){L.QuickHull={getDistant:function(a,o){var s=o[1].lat-o[0].lat,l=o[0].lng-o[1].lng;return l*(a.lat-o[0].lat)+s*(a.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(a,o){var s=0,l=null,c=[],d,h,g;for(d=o.length-1;d>=0;d--){if(h=o[d],g=this.getDistant(h,a),g>0)c.push(h);else continue;g>s&&(s=g,l=h)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(a,o){var s=[],l=this.findMostDistantPointFromBaseLine(a,o);return l.maxPoint?(s=s.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),s=s.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),s):[a[0]]},getConvexHull:function(a){var o=!1,s=!1,l=!1,c=!1,d=null,h=null,g=null,y=null,v=null,_=null,S;for(S=a.length-1;S>=0;S--){var b=a[S];(o===!1||b.lat>o)&&(d=b,o=b.lat),(s===!1||b.lat<s)&&(h=b,s=b.lat),(l===!1||b.lng>l)&&(g=b,l=b.lng),(c===!1||b.lng<c)&&(y=b,c=b.lng)}s!==o?(_=h,v=d):(_=y,v=g);var x=[].concat(this.buildConvexHull([_,v],a),this.buildConvexHull([v,_],a));return x}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),o=[],s,l;for(l=a.length-1;l>=0;l--)s=a[l].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,l=s.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(a.length,l):(l.y+=10,c=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,c)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=s/this._2PI,c=this._2PI/a,d=[],h,g;for(l=Math.max(l,35),d.length=a,h=0;h<a;h++)g=this._circleStartAngle+h*c,d[h]=new L.Point(o.x+l*Math.cos(g),o.y+l*Math.sin(g))._round();return d},_generatePointsSpiral:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier,l=s*this._spiralLengthStart,c=s*this._spiralFootSeparation,d=s*this._spiralLengthFactor*this._2PI,h=0,g=[],y;for(g.length=a,y=a;y>=0;y--)y<a&&(g[y]=new L.Point(o.x+l*Math.cos(h),o.y+l*Math.sin(h))._round()),h+=c/l+y*5e-4,l+=d/h;return g},_noanimationUnspiderfy:function(){var a=this._group,o=a._map,s=a._featureGroup,l=this.getAllChildMarkers(null,!0),c,d;for(a._ignoreMove=!0,this.setOpacity(1),d=l.length-1;d>=0;d--)c=l[d],s.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(o.removeLayer(c._spiderLeg),delete c._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,o){var s=this._group,l=s._map,c=s._featureGroup,d=this._group.options.spiderLegPolylineOptions,h,g,y,v;for(s._ignoreMove=!0,h=0;h<a.length;h++)v=l.layerPointToLatLng(o[h]),g=a[h],y=new L.Polyline([this._latlng,v],d),l.addLayer(y),g._spiderLeg=y,g._preSpiderfyLatlng=g._latlng,g.setLatLng(v),g.setZIndexOffset&&g.setZIndexOffset(1e6),c.addLayer(g);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,o){var s=this,l=this._group,c=l._map,d=l._featureGroup,h=this._latlng,g=c.latLngToLayerPoint(h),y=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),_=v.opacity,S,b,x,A,P,O;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=_,l._ignoreMove=!0,S=0;S<a.length;S++)b=a[S],O=c.layerPointToLatLng(o[S]),x=new L.Polyline([h,O],v),c.addLayer(x),b._spiderLeg=x,y&&(A=x._path,P=A.getTotalLength()+.1,A.style.strokeDasharray=P,A.style.strokeDashoffset=P),b.setZIndexOffset&&b.setZIndexOffset(1e6),b.clusterHide&&b.clusterHide(),d.addLayer(b),b._setPos&&b._setPos(g);for(l._forceLayout(),l._animationStart(),S=a.length-1;S>=0;S--)O=c.layerPointToLatLng(o[S]),b=a[S],b._preSpiderfyLatlng=b._latlng,b.setLatLng(O),b.clusterShow&&b.clusterShow(),y&&(x=b._spiderLeg,A=x._path,A.style.strokeDashoffset=0,x.setStyle({opacity:_}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:s,markers:a})},200)},_animationUnspiderfy:function(a){var o=this,s=this._group,l=s._map,c=s._featureGroup,d=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),g=L.Path.SVG,y,v,_,S,b,x;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),v=h.length-1;v>=0;v--)y=h[v],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,x=!0,y._setPos&&(y._setPos(d),x=!1),y.clusterHide&&(y.clusterHide(),x=!1),x&&c.removeLayer(y),g&&(_=y._spiderLeg,S=_._path,b=S.getTotalLength()+.1,S.style.strokeDashoffset=b,_.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var A=0;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&A++;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&c.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:h})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var o,s;for(o in a)for(s=a[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(a){var o,s;for(o in a)s=a[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(a,o){var s=this.options.icon;return L.setOptions(s,a),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(bm,bm.exports)),bm.exports}uNe();function ny(e){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ny(e)}var lNe=["children"];function ZU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZU(Object(n),!0).forEach(function(r){cNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cNe(e,t,n){return(t=fNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fNe(e){var t=dNe(e,"string");return ny(t)=="symbol"?t:t+""}function dNe(e,t){if(ny(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YU(e,t){return mNe(e)||gNe(e,t)||pNe(e,t)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pNe(e,t){if(e){if(typeof e=="string")return XU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XU(e,t):void 0}}function XU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function gNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function mNe(e){if(Array.isArray(e))return e}function yNe(e,t){if(e==null)return{};var n,r,i=vNe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}CP.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});CP.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function _Ne(e,t){e.children;var n=yNe(e,lNe),r={},i={};Object.entries(n).forEach(function(o){var s=YU(o,2),l=s[0],c=s[1];return l.startsWith("on")?i[l]=c:r[l]=c});var a=new CP.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var s=YU(o,2),l=s[0],c=s[1],d="cluster".concat(l.substring(2).toLowerCase());a.on(d,c)}),{instance:a,context:JU(JU({},t),{},{layerContainer:a})}}var wNe=mke(_Ne);const bNe=({accommodationId:e})=>{var d;const{communityId:t}=Dn(),{quads:n,variables:r,isLoading:i}=ma(V.useMemo(()=>({query:Nve,variables:{offer:[e]},fetch:rr}),[e])),[a,,o,,s]=Qo(((d=r.person)==null?void 0:d[0])??"",t),l=V.useMemo(()=>ur.createLdoDataset(n).usingType(hb).fromSubject(e),[e,n]),c=V.useMemo(()=>{var _,S,b;if(!l)return{};const h=(_=l.location)==null?void 0:_.lat,g=(S=l.location)==null?void 0:S.long;return{accommodation:{id:l["@id"]??"",description:TO(l,"description"),location:{lat:h,long:g},offeredBy:((b=l.offeredBy)==null?void 0:b["@id"])??""},person:a??s}},[s,l,a]);return V.useMemo(()=>[c,{isLoading:i,isProfileLoading:o}],[c,i,o])},SNe="_container_5yist_1",xNe="_person_5yist_6",ENe="_name_5yist_11",CNe="_accommodation_5yist_14",m0={container:SNe,person:xNe,name:ENe,accommodation:CNe},TNe=({accommodationId:e})=>{const{webId:t}=gi(),n=Fr(Eo),[{accommodation:r,person:i}]=bNe({accommodationId:e}),a=t&&(r==null?void 0:r.offeredBy)&&t!==r.offeredBy;return B.jsxs("div",{className:m0.container,children:[r?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:m0.person,children:B.jsxs(Bo,{to:`/profile/${encodeURIComponent(r.offeredBy)}`,style:{display:"contents"},children:[B.jsx(Qw,{...i,size:1.5,square:!0}),B.jsx("span",{className:m0.name,"data-cy":"accommodation-info-name",children:i==null?void 0:i.name})]})}),B.jsx(KL,{text:r.description,locale:n,as:"div",className:m0.accommodation,"data-cy":"accommodation-info-description"})]}):B.jsx(xo,{children:B.jsx(_t,{id:"Z3FXyt"})}),a?B.jsx(wf,{primary:!0,to:`/messages/${encodeURIComponent(r.offeredBy)}`,children:B.jsx(_t,{id:"eWlz27"})}):null]})},ANe="_container_19njf_1",RNe="_offerOverlay_19njf_18",PNe="_closeButton_19njf_28",ONe="_mapContainer_19njf_34",y0={container:ANe,offerOverlay:RNe,closeButton:PNe,mapContainer:ONe},LNe=()=>{const{i18n:e,_:t}=Wr(),{communityId:n,tileServer:r}=Dn(),[i,a]=zJ(),o=i.get("hosting"),[s,l]=V.useState(),[c,d]=oNe(n,s),h=y=>{a({hosting:y})},g=V.useCallback((y,v)=>l(_=>cz(_,v)?_:v),[]);return B.jsxs(B.Fragment,{children:[d&&B.jsx(iNe,{}),B.jsxs("div",{className:y0.container,children:[o&&B.jsxs("div",{className:y0.offerOverlay,children:[B.jsx("button",{onClick:()=>{a({})},className:y0.closeButton,"aria-label":e._({id:"C++TGh"}),children:B.jsx(sw,{})}),B.jsx(TNe,{accommodationId:o})]}),B.jsxs(zL,{className:y0.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[B.jsx(VL,{url:r}),B.jsx(YG,{strings:{title:e._({id:"v5eALp"})},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),B.jsx(wNe,{maxClusterRadius:20,children:c?c.map(y=>{var _,S;const v=((_=y.offeredBy)==null?void 0:_.name)||((S=y.offeredBy)==null?void 0:S.id);return B.jsx(HL,{position:[y.location.lat,y.location.long],eventHandlers:{click:()=>{h(y.id)}},icon:y.id===o?aY:oY("geohash-"+ty.encode(y.location.lat,y.location.long,10)),alt:e._({id:"hHo0hg",values:{offeredByIdentifier:v}})},y.id)}):null}),B.jsx(XG,{onUpdate:g})]})]})]})},INe=({webId:e,className:t})=>{const{communityId:n}=Dn(),[r]=Qo(e,n);return B.jsx(Qw,{photo:r.photo,square:!0,size:1.25,className:t})},MNe="_threadList_1lsy0_1",DNe="_thread_1lsy0_1",kNe="_unread_1lsy0_14",NNe="_content_1lsy0_14",FNe="_avatar_1lsy0_17",zd={threadList:MNe,thread:DNe,unread:kNe,content:NNe,avatar:FNe},jNe=()=>{const e=gi(),{data:t}=G_e(e.webId??"");return t?B.jsxs("div",{children:[B.jsx("h1",{children:B.jsx(_t,{id:"EnJuK0"})}),B.jsx("ul",{className:zd.threadList,children:t.map(n=>{const r=n.participants.find(i=>i!==e.webId);return B.jsx("li",{"data-cy":"thread-list-item",children:B.jsx(Bo,{to:`/messages/${encodeURIComponent(r??"")}`,children:B.jsx($Ne,{thread:n})})},n.id)})})]}):B.jsx(xo,{children:B.jsx(_t,{id:"Z3FXyt"})})},$Ne=({thread:e})=>{const{communityId:t}=Dn(),n=gi(),r=e.participants.find(o=>o!==n.webId),[i]=Qo(r??"",t),a=e.messages[e.messages.length-1];return B.jsxs("div",{className:Tr(zd.thread,e.status&&zd.unread),"data-cy":e.status&&"thread-unread",children:[B.jsx(INe,{webId:r??"",className:zd.avatar}),B.jsxs("div",{children:[B.jsx("div",{className:zd.name,title:i.id,children:i.name}),B.jsx("div",{className:zd.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},UNe=()=>B.jsx($G,{tabs:[],children:B.jsx(Fw,{})}),BNe=()=>B.jsx(EP,{to:"search",replace:!0}),qNe=FJ([{path:"/",element:B.jsx(ixe,{}),children:[{path:"/",element:B.jsx(URe,{}),children:[{index:!0,element:B.jsx(ADe,{})},{path:"profile",children:[{index:!0,element:B.jsx(eNe,{})},{path:"edit",element:B.jsx(xDe,{})},{path:":id",element:B.jsx(Xke,{})},{path:":id/contacts",element:B.jsx(ePe,{})}]},{path:"messages",children:[{index:!0,element:B.jsx(jNe,{})},{path:":id",element:B.jsx(ike,{})}]},{path:"host",element:B.jsx(PDe,{}),children:[{index:!0,element:B.jsx(ODe,{})},{path:"offers",element:B.jsx(Kke,{})}]},{path:"travel",element:B.jsx(UNe,{}),children:[{index:!0,element:B.jsx(BNe,{})},{path:"search",element:B.jsx(LNe,{})}]}]},{path:"about",element:B.jsx(mTe,{})},{path:"*",element:B.jsx(Gke,{})}]}]),zNe=new MQ({defaultOptions:{queries:{retry:1}}}),HNe=QQ.createRoot(document.getElementById("root"));HNe.render(B.jsx(Pt.StrictMode,{children:B.jsx(cZ,{store:Pq,children:B.jsx(YB,{loading:null,persistor:ree,children:B.jsx(UQ,{client:zNe,children:B.jsx(yX,{children:B.jsx(RJ,{router:qNe})})})})})}));
