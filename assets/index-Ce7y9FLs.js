var $V=Object.defineProperty;var CL=t=>{throw TypeError(t)};var UV=(t,e,n)=>e in t?$V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var y1=(t,e,n)=>UV(t,typeof e!="symbol"?e+"":e,n),v1=(t,e,n)=>e.has(t)||CL("Cannot "+n);var Qe=(t,e,n)=>(v1(t,e,"read from private field"),n?n.call(t):e.get(t)),Yt=(t,e,n)=>e.has(t)?CL("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),kt=(t,e,n,r)=>(v1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),cn=(t,e,n)=>(v1(t,e,"access private method"),n);var Jy=(t,e,n,r)=>({set _(i){kt(t,e,i,n)},get _(){return Qe(t,e,r)}});function BV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var wg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Y5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _1={exports:{}},dp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AL;function qV(){if(AL)return dp;AL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return dp.Fragment=e,dp.jsx=n,dp.jsxs=n,dp}var RL;function zV(){return RL||(RL=1,_1.exports=qV()),_1.exports}var Q=zV(),sf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jc=typeof window>"u"||"Deno"in globalThis;function fs(){}function HV(t,e){return typeof t=="function"?t(e):t}function SC(t){return typeof t=="number"&&t>=0&&t!==1/0}function X5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function pd(t,e){return typeof t=="function"?t(e):t}function Ls(t,e){return typeof t=="function"?t(e):t}function PL(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:s,stale:o}=t;if(s){if(r){if(e.queryHash!==HA(s,e.options))return!1}else if(!Vg(e.queryKey,s))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||a&&!a(e))}function OL(t,e){const{exact:n,status:r,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(n){if(Yc(e.options.mutationKey)!==Yc(a))return!1}else if(!Vg(e.options.mutationKey,a))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function HA(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yc)(t)}function Yc(t){return JSON.stringify(t,(e,n)=>xC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vg(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Vg(t[n],e[n])):!1}function VA(t,e){if(t===e)return t;const n=IL(t)&&IL(e);if(n||xC(t)&&xC(e)){const r=n?t:Object.keys(t),i=r.length,a=n?e:Object.keys(e),s=a.length,o=n?[]:{};let l=0;for(let c=0;c<s;c++){const h=n?c:a[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(o[h]=void 0,l++):(o[h]=VA(t[h],e[h]),o[h]===t[h]&&t[h]!==void 0&&l++)}return i===s&&l===i?t:o}return e}function K_(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function IL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xC(t){if(!LL(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!LL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function LL(t){return Object.prototype.toString.call(t)==="[object Object]"}function VV(t){return new Promise(e=>{setTimeout(e,t)})}function EC(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?VA(t,e):e}function KV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function GV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var e8=Symbol();function t8(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===e8?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $c,ml,Ed,U5,WV=(U5=class extends sf{constructor(){super();Yt(this,$c);Yt(this,ml);Yt(this,Ed);kt(this,Ed,e=>{if(!Jc&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,ml)||this.setEventListener(Qe(this,Ed))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,ml))==null||e.call(this),kt(this,ml,void 0))}setEventListener(e){var n;kt(this,Ed,e),(n=Qe(this,ml))==null||n.call(this),kt(this,ml,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Qe(this,$c)!==e&&(kt(this,$c,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Qe(this,$c)=="boolean"?Qe(this,$c):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$c=new WeakMap,ml=new WeakMap,Ed=new WeakMap,U5),KA=new WV,Td,yl,Cd,B5,QV=(B5=class extends sf{constructor(){super();Yt(this,Td,!0);Yt(this,yl);Yt(this,Cd);kt(this,Cd,e=>{if(!Jc&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,yl)||this.setEventListener(Qe(this,Cd))}onUnsubscribe(){var e;this.hasListeners()||((e=Qe(this,yl))==null||e.call(this),kt(this,yl,void 0))}setEventListener(e){var n;kt(this,Cd,e),(n=Qe(this,yl))==null||n.call(this),kt(this,yl,e(this.setOnline.bind(this)))}setOnline(e){Qe(this,Td)!==e&&(kt(this,Td,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Qe(this,Td)}},Td=new WeakMap,yl=new WeakMap,Cd=new WeakMap,B5),G_=new QV;function TC(){let t,e;const n=new Promise((i,a)=>{t=i,e=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function ZV(t){return Math.min(1e3*2**t,3e4)}function n8(t){return(t??"online")==="online"?G_.isOnline():!0}var r8=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function w1(t){return t instanceof r8}function i8(t){let e=!1,n=0,r=!1,i;const a=TC(),s=w=>{var E;r||(m(new r8(w)),(E=t.abort)==null||E.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>KA.isFocused()&&(t.networkMode==="always"||G_.isOnline())&&t.canRun(),h=()=>n8(t.networkMode)&&t.canRun(),p=w=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,w),i==null||i(),a.resolve(w))},m=w=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,w),i==null||i(),a.reject(w))},y=()=>new Promise(w=>{var E;i=b=>{(r||c())&&w(b)},(E=t.onPause)==null||E.call(t)}).then(()=>{var w;i=void 0,r||(w=t.onContinue)==null||w.call(t)}),v=()=>{if(r)return;let w;const E=n===0?t.initialPromise:void 0;try{w=E??t.fn()}catch(b){w=Promise.reject(b)}Promise.resolve(w).then(p).catch(b=>{var D;if(r)return;const x=t.retry??(Jc?0:3),A=t.retryDelay??ZV,I=typeof A=="function"?A(n,b):A,M=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(e||!M){m(b);return}n++,(D=t.onFail)==null||D.call(t,n,b),VV(I).then(()=>c()?void 0:y()).then(()=>{e?m(b):v()})})};return{promise:a,cancel:s,continue:()=>(i==null||i(),a),cancelRetry:o,continueRetry:l,canStart:h,start:()=>(h()?v():y().then(v),a)}}function JV(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const a=o=>{e?t.push(o):i(()=>{n(o)})},s=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||s()}return l},batchCalls:o=>(...l)=>{a(()=>{o(...l)})},schedule:a,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Br=JV(),Uc,q5,a8=(q5=class{constructor(){Yt(this,Uc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),SC(this.gcTime)&&kt(this,Uc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jc?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,Uc)&&(clearTimeout(Qe(this,Uc)),kt(this,Uc,void 0))}},Uc=new WeakMap,q5),Ad,Rd,cs,zi,mm,Bc,Os,au,z5,YV=(z5=class extends a8{constructor(e){super();Yt(this,Os);Yt(this,Ad);Yt(this,Rd);Yt(this,cs);Yt(this,zi);Yt(this,mm);Yt(this,Bc);kt(this,Bc,!1),kt(this,mm,e.defaultOptions),this.setOptions(e.options),this.observers=[],kt(this,cs,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,kt(this,Ad,XV(this.options)),this.state=e.state??Qe(this,Ad),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=Qe(this,zi))==null?void 0:e.promise}setOptions(e){this.options={...Qe(this,mm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,cs).remove(this)}setData(e,n){const r=EC(this.state.data,e,this.options);return cn(this,Os,au).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){cn(this,Os,au).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=Qe(this,zi))==null?void 0:r.promise;return(i=Qe(this,zi))==null||i.cancel(e),n?n.then(fs).catch(fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,Ad))}isActive(){return this.observers.some(e=>Ls(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!X5(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,zi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=Qe(this,zi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),Qe(this,cs).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(Qe(this,zi)&&(Qe(this,Bc)?Qe(this,zi).cancel({revert:!0}):Qe(this,zi).cancelRetry()),this.scheduleGc()),Qe(this,cs).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,Os,au).call(this,{type:"invalidate"})}fetch(e,n){var l,c,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,zi))return Qe(this,zi).continueRetry(),Qe(this,zi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(kt(this,Bc,!0),r.signal)})},a=()=>{const p=t8(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),kt(this,Bc,!1),this.options.persister?this.options.persister(p,m,this):p(m)},s={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(s),(l=this.options.behavior)==null||l.onFetch(s,this),kt(this,Rd,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=s.fetchOptions)==null?void 0:c.meta))&&cn(this,Os,au).call(this,{type:"fetch",meta:(h=s.fetchOptions)==null?void 0:h.meta});const o=p=>{var m,y,v,w;w1(p)&&p.silent||cn(this,Os,au).call(this,{type:"error",error:p}),w1(p)||((y=(m=Qe(this,cs).config).onError)==null||y.call(m,p,this),(w=(v=Qe(this,cs).config).onSettled)==null||w.call(v,this.state.data,p,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return kt(this,zi,i8({initialPromise:n==null?void 0:n.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,v,w;if(p===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(E){o(E);return}(y=(m=Qe(this,cs).config).onSuccess)==null||y.call(m,p,this),(w=(v=Qe(this,cs).config).onSettled)==null||w.call(v,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:o,onFail:(p,m)=>{cn(this,Os,au).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{cn(this,Os,au).call(this,{type:"pause"})},onContinue:()=>{cn(this,Os,au).call(this,{type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0})),Qe(this,zi).start()}},Ad=new WeakMap,Rd=new WeakMap,cs=new WeakMap,zi=new WeakMap,mm=new WeakMap,Bc=new WeakMap,Os=new WeakSet,au=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...s8(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return w1(i)&&i.revert&&Qe(this,Rd)?{...Qe(this,Rd),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Br.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,cs).notify({query:this,type:"updated",action:e})})},z5);function s8(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n8(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function XV(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ao,H5,eK=(H5=class extends sf{constructor(e={}){super();Yt(this,ao);this.config=e,kt(this,ao,new Map)}build(e,n,r){const i=n.queryKey,a=n.queryHash??HA(i,n);let s=this.get(a);return s||(s=new YV({cache:this,queryKey:i,queryHash:a,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){Qe(this,ao).has(e.queryHash)||(Qe(this,ao).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Qe(this,ao).get(e.queryHash);n&&(e.destroy(),n===e&&Qe(this,ao).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Qe(this,ao).get(e)}getAll(){return[...Qe(this,ao).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>PL(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>PL(e,r)):n}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ao=new WeakMap,H5),so,sa,qc,oo,ul,V5,tK=(V5=class extends a8{constructor(e){super();Yt(this,oo);Yt(this,so);Yt(this,sa);Yt(this,qc);this.mutationId=e.mutationId,kt(this,sa,e.mutationCache),kt(this,so,[]),this.state=e.state||o8(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Qe(this,so).includes(e)||(Qe(this,so).push(e),this.clearGcTimeout(),Qe(this,sa).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){kt(this,so,Qe(this,so).filter(n=>n!==e)),this.scheduleGc(),Qe(this,sa).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Qe(this,so).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,sa).remove(this))}continue(){var e;return((e=Qe(this,qc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,s,o,l,c,h,p,m,y,v,w,E,b,x,A,I,M,D,F;kt(this,qc,i8({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(Z,X)=>{cn(this,oo,ul).call(this,{type:"failed",failureCount:Z,error:X})},onPause:()=>{cn(this,oo,ul).call(this,{type:"pause"})},onContinue:()=>{cn(this,oo,ul).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,sa).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,qc).canStart();try{if(!n){cn(this,oo,ul).call(this,{type:"pending",variables:e,isPaused:r}),await((a=(i=Qe(this,sa).config).onMutate)==null?void 0:a.call(i,e,this));const X=await((o=(s=this.options).onMutate)==null?void 0:o.call(s,e));X!==this.state.context&&cn(this,oo,ul).call(this,{type:"pending",context:X,variables:e,isPaused:r})}const Z=await Qe(this,qc).start();return await((c=(l=Qe(this,sa).config).onSuccess)==null?void 0:c.call(l,Z,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,Z,e,this.state.context)),await((y=(m=Qe(this,sa).config).onSettled)==null?void 0:y.call(m,Z,null,this.state.variables,this.state.context,this)),await((w=(v=this.options).onSettled)==null?void 0:w.call(v,Z,null,e,this.state.context)),cn(this,oo,ul).call(this,{type:"success",data:Z}),Z}catch(Z){try{throw await((b=(E=Qe(this,sa).config).onError)==null?void 0:b.call(E,Z,e,this.state.context,this)),await((A=(x=this.options).onError)==null?void 0:A.call(x,Z,e,this.state.context)),await((M=(I=Qe(this,sa).config).onSettled)==null?void 0:M.call(I,void 0,Z,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,Z,e,this.state.context)),Z}finally{cn(this,oo,ul).call(this,{type:"error",error:Z})}}finally{Qe(this,sa).runNext(this)}}},so=new WeakMap,sa=new WeakMap,qc=new WeakMap,oo=new WeakSet,ul=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Br.batch(()=>{Qe(this,so).forEach(r=>{r.onMutationUpdate(e)}),Qe(this,sa).notify({mutation:this,type:"updated",action:e})})},V5);function o8(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ba,ym,K5,nK=(K5=class extends sf{constructor(e={}){super();Yt(this,Ba);Yt(this,ym);this.config=e,kt(this,Ba,new Map),kt(this,ym,Date.now())}build(e,n,r){const i=new tK({mutationCache:this,mutationId:++Jy(this,ym)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Yy(e),r=Qe(this,Ba).get(n)??[];r.push(e),Qe(this,Ba).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Yy(e);if(Qe(this,Ba).has(n)){const i=(r=Qe(this,Ba).get(n))==null?void 0:r.filter(a=>a!==e);i&&(i.length===0?Qe(this,Ba).delete(n):Qe(this,Ba).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Qe(this,Ba).get(Yy(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Qe(this,Ba).get(Yy(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Br.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Qe(this,Ba).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>OL(n,r))}findAll(e={}){return this.getAll().filter(n=>OL(e,n))}notify(e){Br.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Br.batch(()=>Promise.all(e.map(n=>n.continue().catch(fs))))}},Ba=new WeakMap,ym=new WeakMap,K5);function Yy(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ML(t){return{onFetch:(e,n)=>{var h,p,m,y,v;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,a=((y=e.state.data)==null?void 0:y.pages)||[],s=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let w=!1;const E=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},b=t8(e.options,e.fetchOptions),x=async(A,I,M)=>{if(w)return Promise.reject();if(I==null&&A.pages.length)return Promise.resolve(A);const D={queryKey:e.queryKey,pageParam:I,direction:M?"backward":"forward",meta:e.options.meta};E(D);const F=await b(D),{maxPages:Z}=e.options,X=M?GV:KV;return{pages:X(A.pages,F,Z),pageParams:X(A.pageParams,I,Z)}};if(i&&a.length){const A=i==="backward",I=A?rK:DL,M={pages:a,pageParams:s},D=I(r,M);o=await x(M,D,A)}else{const A=t??a.length;do{const I=l===0?s[0]??r.initialPageParam:DL(r,o);if(l>0&&I==null)break;o=await x(o,I),l++}while(l<A)}return o};e.options.persister?e.fetchFn=()=>{var w,E;return(E=(w=e.options).persister)==null?void 0:E.call(w,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function DL(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function rK(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ur,vl,_l,Pd,Od,wl,Id,Ld,G5,iK=(G5=class{constructor(t={}){Yt(this,Ur);Yt(this,vl);Yt(this,_l);Yt(this,Pd);Yt(this,Od);Yt(this,wl);Yt(this,Id);Yt(this,Ld);kt(this,Ur,t.queryCache||new eK),kt(this,vl,t.mutationCache||new nK),kt(this,_l,t.defaultOptions||{}),kt(this,Pd,new Map),kt(this,Od,new Map),kt(this,wl,0)}mount(){Jy(this,wl)._++,Qe(this,wl)===1&&(kt(this,Id,KA.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,Ur).onFocus())})),kt(this,Ld,G_.subscribe(async t=>{t&&(await this.resumePausedMutations(),Qe(this,Ur).onOnline())})))}unmount(){var t,e;Jy(this,wl)._--,Qe(this,wl)===0&&((t=Qe(this,Id))==null||t.call(this),kt(this,Id,void 0),(e=Qe(this,Ld))==null||e.call(this),kt(this,Ld,void 0))}isFetching(t){return Qe(this,Ur).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Qe(this,vl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,Ur).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Qe(this,Ur).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(pd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Qe(this,Ur).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=Qe(this,Ur).get(r.queryHash),a=i==null?void 0:i.state.data,s=HV(e,a);if(s!==void 0)return Qe(this,Ur).build(this,r).setData(s,{...n,manual:!0})}setQueriesData(t,e,n){return Br.batch(()=>Qe(this,Ur).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Qe(this,Ur).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Qe(this,Ur);Br.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Qe(this,Ur),r={type:"active",...t};return Br.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Br.batch(()=>Qe(this,Ur).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fs).catch(fs)}invalidateQueries(t={},e={}){return Br.batch(()=>{if(Qe(this,Ur).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Br.batch(()=>Qe(this,Ur).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(fs)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(fs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Qe(this,Ur).build(this,e);return n.isStaleByTime(pd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fs).catch(fs)}fetchInfiniteQuery(t){return t.behavior=ML(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fs).catch(fs)}ensureInfiniteQueryData(t){return t.behavior=ML(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return G_.isOnline()?Qe(this,vl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,Ur)}getMutationCache(){return Qe(this,vl)}getDefaultOptions(){return Qe(this,_l)}setDefaultOptions(t){kt(this,_l,t)}setQueryDefaults(t,e){Qe(this,Pd).set(Yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Qe(this,Pd).values()];let n={};return e.forEach(r=>{Vg(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Qe(this,Od).set(Yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Qe(this,Od).values()];let n={};return e.forEach(r=>{Vg(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Qe(this,_l).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=HA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===e8&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Qe(this,_l).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Qe(this,Ur).clear(),Qe(this,vl).clear()}},Ur=new WeakMap,vl=new WeakMap,_l=new WeakMap,Pd=new WeakMap,Od=new WeakMap,wl=new WeakMap,Id=new WeakMap,Ld=new WeakMap,G5),xa,jn,vm,oa,zc,Md,bl,uo,_m,Dd,kd,Hc,Vc,Sl,Nd,tr,bg,CC,AC,RC,PC,OC,IC,LC,u8,W5,GA=(W5=class extends sf{constructor(e,n){super();Yt(this,tr);Yt(this,xa);Yt(this,jn);Yt(this,vm);Yt(this,oa);Yt(this,zc);Yt(this,Md);Yt(this,bl);Yt(this,uo);Yt(this,_m);Yt(this,Dd);Yt(this,kd);Yt(this,Hc);Yt(this,Vc);Yt(this,Sl);Yt(this,Nd,new Set);this.options=n,kt(this,xa,e),kt(this,uo,null),kt(this,bl,TC()),this.options.experimental_prefetchInRender||Qe(this,bl).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,jn).addObserver(this),kL(Qe(this,jn),this.options)?cn(this,tr,bg).call(this):this.updateResult(),cn(this,tr,PC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return MC(Qe(this,jn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return MC(Qe(this,jn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,cn(this,tr,OC).call(this),cn(this,tr,IC).call(this),Qe(this,jn).removeObserver(this)}setOptions(e,n){const r=this.options,i=Qe(this,jn);if(this.options=Qe(this,xa).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ls(this.options.enabled,Qe(this,jn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");cn(this,tr,LC).call(this),Qe(this,jn).setOptions(this.options),r._defaulted&&!K_(this.options,r)&&Qe(this,xa).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,jn),observer:this});const a=this.hasListeners();a&&NL(Qe(this,jn),i,this.options,r)&&cn(this,tr,bg).call(this),this.updateResult(n),a&&(Qe(this,jn)!==i||Ls(this.options.enabled,Qe(this,jn))!==Ls(r.enabled,Qe(this,jn))||pd(this.options.staleTime,Qe(this,jn))!==pd(r.staleTime,Qe(this,jn)))&&cn(this,tr,CC).call(this);const s=cn(this,tr,AC).call(this);a&&(Qe(this,jn)!==i||Ls(this.options.enabled,Qe(this,jn))!==Ls(r.enabled,Qe(this,jn))||s!==Qe(this,Sl))&&cn(this,tr,RC).call(this,s)}getOptimisticResult(e){const n=Qe(this,xa).getQueryCache().build(Qe(this,xa),e),r=this.createResult(n,e);return sK(this,r)&&(kt(this,oa,r),kt(this,Md,this.options),kt(this,zc,Qe(this,jn).state)),r}getCurrentResult(){return Qe(this,oa)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){Qe(this,Nd).add(e)}getCurrentQuery(){return Qe(this,jn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=Qe(this,xa).defaultQueryOptions(e),r=Qe(this,xa).getQueryCache().build(Qe(this,xa),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(e){return cn(this,tr,bg).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,oa)))}createResult(e,n){var F;const r=Qe(this,jn),i=this.options,a=Qe(this,oa),s=Qe(this,zc),o=Qe(this,Md),c=e!==r?e.state:Qe(this,vm),{state:h}=e;let p={...h},m=!1,y;if(n._optimisticResults){const Z=this.hasListeners(),X=!Z&&kL(e,n),U=Z&&NL(e,r,n,i);(X||U)&&(p={...p,...s8(h.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:E}=p;if(n.select&&p.data!==void 0)if(a&&p.data===(s==null?void 0:s.data)&&n.select===Qe(this,_m))y=Qe(this,Dd);else try{kt(this,_m,n.select),y=n.select(p.data),y=EC(a==null?void 0:a.data,y,n),kt(this,Dd,y),kt(this,uo,null)}catch(Z){kt(this,uo,Z)}else y=p.data;if(n.placeholderData!==void 0&&y===void 0&&E==="pending"){let Z;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))Z=a.data;else if(Z=typeof n.placeholderData=="function"?n.placeholderData((F=Qe(this,kd))==null?void 0:F.state.data,Qe(this,kd)):n.placeholderData,n.select&&Z!==void 0)try{Z=n.select(Z),kt(this,uo,null)}catch(X){kt(this,uo,X)}Z!==void 0&&(E="success",y=EC(a==null?void 0:a.data,Z,n),m=!0)}Qe(this,uo)&&(v=Qe(this,uo),y=Qe(this,Dd),w=Date.now(),E="error");const b=p.fetchStatus==="fetching",x=E==="pending",A=E==="error",I=x&&b,M=y!==void 0;return{status:E,fetchStatus:p.fetchStatus,isPending:x,isSuccess:E==="success",isError:A,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>c.dataUpdateCount||p.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:A&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&M,isStale:WA(e,n),refetch:this.refetch,promise:Qe(this,bl)}}updateResult(e){const n=Qe(this,oa),r=this.createResult(Qe(this,jn),this.options);if(kt(this,zc,Qe(this,jn).state),kt(this,Md,this.options),Qe(this,zc).data!==void 0&&kt(this,kd,Qe(this,jn)),K_(r,n))return;if(this.options.experimental_prefetchInRender){const s=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},o=()=>{const c=kt(this,bl,r.promise=TC());s(c)},l=Qe(this,bl);switch(l.status){case"pending":s(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&o();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&o();break}}kt(this,oa,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!Qe(this,Nd).size)return!0;const l=new Set(o??Qe(this,Nd));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,oa)).some(c=>{const h=c;return Qe(this,oa)[h]!==n[h]&&l.has(h)})};(e==null?void 0:e.listeners)!==!1&&a()&&(i.listeners=!0),cn(this,tr,u8).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&cn(this,tr,PC).call(this)}},xa=new WeakMap,jn=new WeakMap,vm=new WeakMap,oa=new WeakMap,zc=new WeakMap,Md=new WeakMap,bl=new WeakMap,uo=new WeakMap,_m=new WeakMap,Dd=new WeakMap,kd=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,Sl=new WeakMap,Nd=new WeakMap,tr=new WeakSet,bg=function(e){cn(this,tr,LC).call(this);let n=Qe(this,jn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(fs)),n},CC=function(){cn(this,tr,OC).call(this);const e=pd(this.options.staleTime,Qe(this,jn));if(Jc||Qe(this,oa).isStale||!SC(e))return;const r=X5(Qe(this,oa).dataUpdatedAt,e)+1;kt(this,Hc,setTimeout(()=>{Qe(this,oa).isStale||this.updateResult()},r))},AC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,jn)):this.options.refetchInterval)??!1},RC=function(e){cn(this,tr,IC).call(this),kt(this,Sl,e),!(Jc||Ls(this.options.enabled,Qe(this,jn))===!1||!SC(Qe(this,Sl))||Qe(this,Sl)===0)&&kt(this,Vc,setInterval(()=>{(this.options.refetchIntervalInBackground||KA.isFocused())&&cn(this,tr,bg).call(this)},Qe(this,Sl)))},PC=function(){cn(this,tr,CC).call(this),cn(this,tr,RC).call(this,cn(this,tr,AC).call(this))},OC=function(){Qe(this,Hc)&&(clearTimeout(Qe(this,Hc)),kt(this,Hc,void 0))},IC=function(){Qe(this,Vc)&&(clearInterval(Qe(this,Vc)),kt(this,Vc,void 0))},LC=function(){const e=Qe(this,xa).getQueryCache().build(Qe(this,xa),this.options);if(e===Qe(this,jn))return;const n=Qe(this,jn);kt(this,jn,e),kt(this,vm,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},u8=function(e){Br.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(Qe(this,oa))}),Qe(this,xa).getQueryCache().notify({query:Qe(this,jn),type:"observerResultsUpdated"})})},W5);function aK(t,e){return Ls(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function kL(t,e){return aK(t,e)||t.state.data!==void 0&&MC(t,e,e.refetchOnMount)}function MC(t,e,n){if(Ls(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&WA(t,e)}return!1}function NL(t,e,n,r){return(t!==e||Ls(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&WA(t,n)}function WA(t,e){return Ls(e.enabled,t)!==!1&&t.isStaleByTime(pd(e.staleTime,t))}function sK(t,e){return!K_(t.getCurrentResult(),e)}function FL(t,e){return t.filter(n=>!e.includes(n))}function oK(t,e,n){const r=t.slice(0);return r[e]=n,r}var Kc,Is,Fd,qa,Gc,wm,bm,Za,l8,DC,kC,NC,Q5,uK=(Q5=class extends sf{constructor(e,n,r){super();Yt(this,Za);Yt(this,Kc);Yt(this,Is);Yt(this,Fd);Yt(this,qa);Yt(this,Gc);Yt(this,wm);Yt(this,bm);kt(this,Kc,e),kt(this,Fd,[]),kt(this,qa,[]),kt(this,Is,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,qa).forEach(e=>{e.subscribe(n=>{cn(this,Za,kC).call(this,e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,qa).forEach(e=>{e.destroy()})}setQueries(e,n,r){kt(this,Fd,e),Br.batch(()=>{const i=Qe(this,qa),a=cn(this,Za,DC).call(this,Qe(this,Fd));a.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const s=a.map(c=>c.observer),o=s.map(c=>c.getCurrentResult()),l=s.some((c,h)=>c!==i[h]);i.length===s.length&&!l||(kt(this,qa,s),kt(this,Is,o),this.hasListeners()&&(FL(i,s).forEach(c=>{c.destroy()}),FL(s,i).forEach(c=>{c.subscribe(h=>{cn(this,Za,kC).call(this,c,h)})}),cn(this,Za,NC).call(this)))})}getCurrentResult(){return Qe(this,Is)}getQueries(){return Qe(this,qa).map(e=>e.getCurrentQuery())}getObservers(){return Qe(this,qa)}getOptimisticResult(e,n){const r=cn(this,Za,DC).call(this,e),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>cn(this,Za,l8).call(this,a??i,n),()=>r.map((a,s)=>{const o=i[s];return a.defaultedQueryOptions.notifyOnChangeProps?o:a.observer.trackResult(o,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},Kc=new WeakMap,Is=new WeakMap,Fd=new WeakMap,qa=new WeakMap,Gc=new WeakMap,wm=new WeakMap,bm=new WeakMap,Za=new WeakSet,l8=function(e,n){return n?((!Qe(this,Gc)||Qe(this,Is)!==Qe(this,bm)||n!==Qe(this,wm))&&(kt(this,wm,n),kt(this,bm,Qe(this,Is)),kt(this,Gc,VA(Qe(this,Gc),n(e)))),Qe(this,Gc)):e},DC=function(e){const n=Qe(this,qa),r=new Map(n.map(p=>[p.options.queryHash,p])),i=e.map(p=>Qe(this,Kc).defaultQueryOptions(p)),a=i.flatMap(p=>{const m=r.get(p.queryHash);return m!=null?[{defaultedQueryOptions:p,observer:m}]:[]}),s=new Set(a.map(p=>p.defaultedQueryOptions.queryHash)),o=i.filter(p=>!s.has(p.queryHash)),l=p=>{const m=Qe(this,Kc).defaultQueryOptions(p);return Qe(this,qa).find(v=>v.options.queryHash===m.queryHash)??new GA(Qe(this,Kc),m)},c=o.map(p=>({defaultedQueryOptions:p,observer:l(p)})),h=(p,m)=>i.indexOf(p.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(c).sort(h)},kC=function(e,n){const r=Qe(this,qa).indexOf(e);r!==-1&&(kt(this,Is,oK(Qe(this,Is),r,n)),cn(this,Za,NC).call(this))},NC=function(){Br.batch(()=>{this.listeners.forEach(e=>{e(Qe(this,Is))})})},Q5),xl,El,Ea,ou,pu,T_,FC,Z5,lK=(Z5=class extends sf{constructor(n,r){super();Yt(this,pu);Yt(this,xl);Yt(this,El);Yt(this,Ea);Yt(this,ou);kt(this,xl,n),this.setOptions(r),this.bindMethods(),cn(this,pu,T_).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,xl).defaultMutationOptions(n),K_(this.options,r)||Qe(this,xl).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,Ea),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Yc(r.mutationKey)!==Yc(this.options.mutationKey)?this.reset():((i=Qe(this,Ea))==null?void 0:i.state.status)==="pending"&&Qe(this,Ea).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,Ea))==null||n.removeObserver(this)}onMutationUpdate(n){cn(this,pu,T_).call(this),cn(this,pu,FC).call(this,n)}getCurrentResult(){return Qe(this,El)}reset(){var n;(n=Qe(this,Ea))==null||n.removeObserver(this),kt(this,Ea,void 0),cn(this,pu,T_).call(this),cn(this,pu,FC).call(this)}mutate(n,r){var i;return kt(this,ou,r),(i=Qe(this,Ea))==null||i.removeObserver(this),kt(this,Ea,Qe(this,xl).getMutationCache().build(Qe(this,xl),this.options)),Qe(this,Ea).addObserver(this),Qe(this,Ea).execute(n)}},xl=new WeakMap,El=new WeakMap,Ea=new WeakMap,ou=new WeakMap,pu=new WeakSet,T_=function(){var r;const n=((r=Qe(this,Ea))==null?void 0:r.state)??o8();kt(this,El,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},FC=function(n){Br.batch(()=>{var r,i,a,s,o,l,c,h;if(Qe(this,ou)&&this.hasListeners()){const p=Qe(this,El).variables,m=Qe(this,El).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,ou)).onSuccess)==null||i.call(r,n.data,p,m),(s=(a=Qe(this,ou)).onSettled)==null||s.call(a,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((l=(o=Qe(this,ou)).onError)==null||l.call(o,n.error,p,m),(h=(c=Qe(this,ou)).onSettled)==null||h.call(c,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(Qe(this,El))})})},Z5),b1={exports:{}},bn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL;function cK(){if(jL)return bn;jL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=p&&k[p]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function E(k,ie,ge){this.props=k,this.context=ie,this.refs=w,this.updater=ge||y}E.prototype.isReactComponent={},E.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},E.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function b(){}b.prototype=E.prototype;function x(k,ie,ge){this.props=k,this.context=ie,this.refs=w,this.updater=ge||y}var A=x.prototype=new b;A.constructor=x,v(A,E.prototype),A.isPureReactComponent=!0;var I=Array.isArray,M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(k,ie,ge,H,Y,pe){return ge=pe.ref,{$$typeof:t,type:k,key:ie,ref:ge!==void 0?ge:null,props:pe}}function Z(k,ie){return F(k.type,ie,void 0,void 0,void 0,k.props)}function X(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function U(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ge){return ie[ge]})}var J=/\/+/g;function ce(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):ie.toString(36)}function re(){}function ue(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(re,re):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function me(k,ie,ge,H,Y){var pe=typeof k;(pe==="undefined"||pe==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(pe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case t:case e:Ae=!0;break;case h:return Ae=k._init,me(Ae(k._payload),ie,ge,H,Y)}}if(Ae)return Y=Y(k),Ae=H===""?"."+ce(k,0):H,I(Y)?(ge="",Ae!=null&&(ge=Ae.replace(J,"$&/")+"/"),me(Y,ie,ge,"",function(Fe){return Fe})):Y!=null&&(X(Y)&&(Y=Z(Y,ge+(Y.key==null||k&&k.key===Y.key?"":(""+Y.key).replace(J,"$&/")+"/")+Ae)),ie.push(Y)),1;Ae=0;var Je=H===""?".":H+":";if(I(k))for(var Re=0;Re<k.length;Re++)H=k[Re],pe=Je+ce(H,Re),Ae+=me(H,ie,ge,pe,Y);else if(Re=m(k),typeof Re=="function")for(k=Re.call(k),Re=0;!(H=k.next()).done;)H=H.value,pe=Je+ce(H,Re++),Ae+=me(H,ie,ge,pe,Y);else if(pe==="object"){if(typeof k.then=="function")return me(ue(k),ie,ge,H,Y);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function be(k,ie,ge){if(k==null)return k;var H=[],Y=0;return me(k,H,"","",function(pe){return ie.call(ge,pe,Y++)}),H}function he(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(ge){(k._status===0||k._status===-1)&&(k._status=1,k._result=ge)},function(ge){(k._status===0||k._status===-1)&&(k._status=2,k._result=ge)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var fe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Oe(){}return bn.Children={map:be,forEach:function(k,ie,ge){be(k,function(){ie.apply(this,arguments)},ge)},count:function(k){var ie=0;return be(k,function(){ie++}),ie},toArray:function(k){return be(k,function(ie){return ie})||[]},only:function(k){if(!X(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},bn.Component=E,bn.Fragment=n,bn.Profiler=i,bn.PureComponent=x,bn.StrictMode=r,bn.Suspense=l,bn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,bn.act=function(){throw Error("act(...) is not supported in production builds of React.")},bn.cache=function(k){return function(){return k.apply(null,arguments)}},bn.cloneElement=function(k,ie,ge){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var H=v({},k.props),Y=k.key,pe=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(pe=void 0),ie.key!==void 0&&(Y=""+ie.key),ie)!D.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(H[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)H.children=ge;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];H.children=Je}return F(k.type,Y,void 0,void 0,pe,H)},bn.createContext=function(k){return k={$$typeof:s,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},bn.createElement=function(k,ie,ge){var H,Y={},pe=null;if(ie!=null)for(H in ie.key!==void 0&&(pe=""+ie.key),ie)D.call(ie,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(Y[H]=ie[H]);var Ae=arguments.length-2;if(Ae===1)Y.children=ge;else if(1<Ae){for(var Je=Array(Ae),Re=0;Re<Ae;Re++)Je[Re]=arguments[Re+2];Y.children=Je}if(k&&k.defaultProps)for(H in Ae=k.defaultProps,Ae)Y[H]===void 0&&(Y[H]=Ae[H]);return F(k,pe,void 0,void 0,null,Y)},bn.createRef=function(){return{current:null}},bn.forwardRef=function(k){return{$$typeof:o,render:k}},bn.isValidElement=X,bn.lazy=function(k){return{$$typeof:h,_payload:{_status:-1,_result:k},_init:he}},bn.memo=function(k,ie){return{$$typeof:c,type:k,compare:ie===void 0?null:ie}},bn.startTransition=function(k){var ie=M.T,ge={};M.T=ge;try{var H=k(),Y=M.S;Y!==null&&Y(ge,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(Oe,fe)}catch(pe){fe(pe)}finally{M.T=ie}},bn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},bn.use=function(k){return M.H.use(k)},bn.useActionState=function(k,ie,ge){return M.H.useActionState(k,ie,ge)},bn.useCallback=function(k,ie){return M.H.useCallback(k,ie)},bn.useContext=function(k){return M.H.useContext(k)},bn.useDebugValue=function(){},bn.useDeferredValue=function(k,ie){return M.H.useDeferredValue(k,ie)},bn.useEffect=function(k,ie){return M.H.useEffect(k,ie)},bn.useId=function(){return M.H.useId()},bn.useImperativeHandle=function(k,ie,ge){return M.H.useImperativeHandle(k,ie,ge)},bn.useInsertionEffect=function(k,ie){return M.H.useInsertionEffect(k,ie)},bn.useLayoutEffect=function(k,ie){return M.H.useLayoutEffect(k,ie)},bn.useMemo=function(k,ie){return M.H.useMemo(k,ie)},bn.useOptimistic=function(k,ie){return M.H.useOptimistic(k,ie)},bn.useReducer=function(k,ie,ge){return M.H.useReducer(k,ie,ge)},bn.useRef=function(k){return M.H.useRef(k)},bn.useState=function(k){return M.H.useState(k)},bn.useSyncExternalStore=function(k,ie,ge){return M.H.useSyncExternalStore(k,ie,ge)},bn.useTransition=function(){return M.H.useTransition()},bn.version="19.0.0",bn}var $L;function Zd(){return $L||($L=1,b1.exports=cK()),b1.exports}var ne=Zd();const Lt=kr(ne),jd=BV({__proto__:null,default:Lt},[ne]);var c8=ne.createContext(void 0),Si=t=>{const e=ne.useContext(c8);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fK=({client:t,children:e})=>(ne.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),Q.jsx(c8.Provider,{value:t,children:e})),f8=ne.createContext(!1),d8=()=>ne.useContext(f8);f8.Provider;function dK(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var hK=ne.createContext(dK()),h8=()=>ne.useContext(hK);function p8(t,e){return typeof t=="function"?t(...e):!!t}function g8(){}var m8=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},y8=t=>{ne.useEffect(()=>{t.clearReset()},[t])},v8=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&p8(n,[t.error,r]),_8=t=>{t.suspense&&(typeof t.staleTime!="number"&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},w8=(t,e)=>t.isLoading&&t.isFetching&&!e,jC=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,W_=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Kg({queries:t,...e},n){const r=Si(),i=d8(),a=h8(),s=ne.useMemo(()=>t.map(v=>{const w=r.defaultQueryOptions(v);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[t,r,i]);s.forEach(v=>{_8(v),m8(v,a)}),y8(a);const[o]=ne.useState(()=>new uK(r,s,e)),[l,c,h]=o.getOptimisticResult(s,e.combine);ne.useSyncExternalStore(ne.useCallback(v=>i?()=>{}:o.subscribe(Br.batchCalls(v)),[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),ne.useEffect(()=>{o.setQueries(s,e,{listeners:!1})},[s,e,o]);const m=l.some((v,w)=>jC(s[w],v))?l.flatMap((v,w)=>{const E=s[w];if(E){const b=new GA(r,E);if(jC(E,v))return W_(E,b,a);w8(v,i)&&W_(E,b,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=l.find((v,w)=>{const E=s[w];return E&&v8({result:v,errorResetBoundary:a,throwOnError:E.throwOnError,query:r.getQueryCache().get(E.queryHash)})});if(y!=null&&y.error)throw y.error;return c(h())}function pK(t,e,n){var h,p,m,y,v;const r=Si(),i=d8(),a=h8(),s=r.defaultQueryOptions(t);(p=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||p.call(h,s),s._optimisticResults=i?"isRestoring":"optimistic",_8(s),m8(s,a),y8(a);const o=!r.getQueryState(t.queryKey),[l]=ne.useState(()=>new e(r,s)),c=l.getOptimisticResult(s);if(ne.useSyncExternalStore(ne.useCallback(w=>{const E=i?()=>{}:l.subscribe(Br.batchCalls(w));return l.updateResult(),E},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),ne.useEffect(()=>{l.setOptions(s,{listeners:!1})},[s,l]),jC(s,c))throw W_(s,l,a);if(v8({result:c,errorResetBoundary:a,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash)}))throw c.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,s,c),s.experimental_prefetchInRender&&!Jc&&w8(c,i)){const w=o?W_(s,l,a):(v=r.getQueryCache().get(s.queryHash))==null?void 0:v.promise;w==null||w.catch(g8).finally(()=>{l.hasListeners()||l.updateResult()})}return s.notifyOnChangeProps?c:l.trackResult(c)}function Sm(t,e){return pK(t,GA)}function Ra(t,e){const n=Si(),[r]=ne.useState(()=>new lK(n,t));ne.useEffect(()=>{r.setOptions(t)},[r,t]);const i=ne.useSyncExternalStore(ne.useCallback(s=>r.subscribe(Br.batchCalls(s)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=ne.useCallback((s,o)=>{r.mutate(s,o).catch(g8)},[r]);if(i.error&&p8(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var S1={exports:{}},hp={},x1={exports:{}},E1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UL;function gK(){return UL||(UL=1,function(t){function e(be,he){var fe=be.length;be.push(he);e:for(;0<fe;){var Oe=fe-1>>>1,k=be[Oe];if(0<i(k,he))be[Oe]=he,be[fe]=k,fe=Oe;else break e}}function n(be){return be.length===0?null:be[0]}function r(be){if(be.length===0)return null;var he=be[0],fe=be.pop();if(fe!==he){be[0]=fe;e:for(var Oe=0,k=be.length,ie=k>>>1;Oe<ie;){var ge=2*(Oe+1)-1,H=be[ge],Y=ge+1,pe=be[Y];if(0>i(H,fe))Y<k&&0>i(pe,H)?(be[Oe]=pe,be[Y]=fe,Oe=Y):(be[Oe]=H,be[ge]=fe,Oe=ge);else if(Y<k&&0>i(pe,fe))be[Oe]=pe,be[Y]=fe,Oe=Y;else break e}}return he}function i(be,he){var fe=be.sortIndex-he.sortIndex;return fe!==0?fe:be.id-he.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],c=[],h=1,p=null,m=3,y=!1,v=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function A(be){for(var he=n(c);he!==null;){if(he.callback===null)r(c);else if(he.startTime<=be)r(c),he.sortIndex=he.expirationTime,e(l,he);else break;he=n(c)}}function I(be){if(w=!1,A(be),!v)if(n(l)!==null)v=!0,ue();else{var he=n(c);he!==null&&me(I,he.startTime-be)}}var M=!1,D=-1,F=5,Z=-1;function X(){return!(t.unstable_now()-Z<F)}function U(){if(M){var be=t.unstable_now();Z=be;var he=!0;try{e:{v=!1,w&&(w=!1,b(D),D=-1),y=!0;var fe=m;try{t:{for(A(be),p=n(l);p!==null&&!(p.expirationTime>be&&X());){var Oe=p.callback;if(typeof Oe=="function"){p.callback=null,m=p.priorityLevel;var k=Oe(p.expirationTime<=be);if(be=t.unstable_now(),typeof k=="function"){p.callback=k,A(be),he=!0;break t}p===n(l)&&r(l),A(be)}else r(l);p=n(l)}if(p!==null)he=!0;else{var ie=n(c);ie!==null&&me(I,ie.startTime-be),he=!1}}break e}finally{p=null,m=fe,y=!1}he=void 0}}finally{he?J():M=!1}}}var J;if(typeof x=="function")J=function(){x(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,re=ce.port2;ce.port1.onmessage=U,J=function(){re.postMessage(null)}}else J=function(){E(U,0)};function ue(){M||(M=!0,J())}function me(be,he){D=E(function(){be(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(be){be.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,ue())},t.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<be?Math.floor(1e3/be):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(be){switch(m){case 1:case 2:case 3:var he=3;break;default:he=m}var fe=m;m=he;try{return be()}finally{m=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(be,he){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var fe=m;m=be;try{return he()}finally{m=fe}},t.unstable_scheduleCallback=function(be,he,fe){var Oe=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Oe+fe:Oe):fe=Oe,be){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=fe+k,be={id:h++,callback:he,priorityLevel:be,startTime:fe,expirationTime:k,sortIndex:-1},fe>Oe?(be.sortIndex=fe,e(c,be),n(l)===null&&be===n(c)&&(w?(b(D),D=-1):w=!0,me(I,fe-Oe))):(be.sortIndex=k,e(l,be),v||y||(v=!0,ue())),be},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(be){var he=m;return function(){var fe=m;m=he;try{return be.apply(this,arguments)}finally{m=fe}}}}(E1)),E1}var BL;function mK(){return BL||(BL=1,x1.exports=gK()),x1.exports}var T1={exports:{}},Bi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL;function yK(){if(qL)return Bi;qL=1;var t=Zd();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:c,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Bi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bi.createPortal=function(l,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return a(l,c,null,h)},Bi.flushSync=function(l){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,l)return l()}finally{s.T=c,r.p=h,r.d.f()}},Bi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Bi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Bi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var h=c.as,p=o(h,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:p,integrity:m,fetchPriority:y}):h==="script"&&r.d.X(l,{crossOrigin:p,integrity:m,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Bi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=o(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Bi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,p=o(h,c.crossOrigin);r.d.L(l,h,{crossOrigin:p,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Bi.preloadModule=function(l,c){if(typeof l=="string")if(c){var h=o(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Bi.requestFormReset=function(l){r.d.r(l)},Bi.unstable_batchedUpdates=function(l,c){return l(c)},Bi.useFormState=function(l,c,h){return s.H.useFormState(l,c,h)},Bi.useFormStatus=function(){return s.H.useHostTransitionStatus()},Bi.version="19.0.0",Bi}var zL;function QA(){if(zL)return T1.exports;zL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),T1.exports=yK(),T1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HL;function vK(){if(HL)return hp;HL=1;var t=mK(),e=Zd(),n=QA();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=M&&u[M]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function Z(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case o:return"Portal";case h:return"Profiler";case c:return"StrictMode";case w:return"Suspense";case E:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case b:return f=u.displayName||null,f!==null?f:Z(u.type)||"Memo";case x:f=u._payload,u=u._init;try{return Z(u(f))}catch{}}return null}var X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,J,ce;function re(u){if(J===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);J=f&&f[1]||"",ce=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+u+ce}var ue=!1;function me(u,f){if(!u||ue)return"";ue=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(f){var At=function(){throw Error()};if(Object.defineProperty(At.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(At,[])}catch(vt){var pt=vt}Reflect.construct(u,[],At)}else{try{At.call()}catch(vt){pt=vt}u.call(At.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(At=u())&&typeof At.catch=="function"&&At.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=S.DetermineComponentFrameRoot(),le=j[0],Ce=j[1];if(le&&Ce){var Ve=le.split(`
`),at=Ce.split(`
`);for(O=S=0;S<Ve.length&&!Ve[S].includes("DetermineComponentFrameRoot");)S++;for(;O<at.length&&!at[O].includes("DetermineComponentFrameRoot");)O++;if(S===Ve.length||O===at.length)for(S=Ve.length-1,O=at.length-1;1<=S&&0<=O&&Ve[S]!==at[O];)O--;for(;1<=S&&0<=O;S--,O--)if(Ve[S]!==at[O]){if(S!==1||O!==1)do if(S--,O--,0>O||Ve[S]!==at[O]){var _t=`
`+Ve[S].replace(" at new "," at ");return u.displayName&&_t.includes("<anonymous>")&&(_t=_t.replace("<anonymous>",u.displayName)),_t}while(1<=S&&0<=O);break}}}finally{ue=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?re(g):""}function be(u){switch(u.tag){case 26:case 27:case 5:return re(u.type);case 16:return re("Lazy");case 13:return re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return u=me(u.type,!1),u;case 11:return u=me(u.type.render,!1),u;case 1:return u=me(u.type,!0),u;default:return""}}function he(u){try{var f="";do f+=be(u),u=u.return;while(u);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function fe(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function Oe(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function k(u){if(fe(u)!==u)throw Error(r(188))}function ie(u){var f=u.alternate;if(!f){if(f=fe(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,S=f;;){var O=g.return;if(O===null)break;var j=O.alternate;if(j===null){if(S=O.return,S!==null){g=S;continue}break}if(O.child===j.child){for(j=O.child;j;){if(j===g)return k(O),u;if(j===S)return k(O),f;j=j.sibling}throw Error(r(188))}if(g.return!==S.return)g=O,S=j;else{for(var le=!1,Ce=O.child;Ce;){if(Ce===g){le=!0,g=O,S=j;break}if(Ce===S){le=!0,S=O,g=j;break}Ce=Ce.sibling}if(!le){for(Ce=j.child;Ce;){if(Ce===g){le=!0,g=j,S=O;break}if(Ce===S){le=!0,S=j,g=O;break}Ce=Ce.sibling}if(!le)throw Error(r(189))}}if(g.alternate!==S)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function ge(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=ge(u),f!==null)return f;u=u.sibling}return null}var H=Array.isArray,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ae=[],Je=-1;function Re(u){return{current:u}}function Fe(u){0>Je||(u.current=Ae[Je],Ae[Je]=null,Je--)}function Xe(u,f){Je++,Ae[Je]=u.current,u.current=f}var se=Re(null),z=Re(null),$=Re(null),ae=Re(null);function W(u,f){switch(Xe($,f),Xe(z,u),Xe(se,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?tL(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=tL(u),f=nL(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Fe(se),Xe(se,f)}function de(){Fe(se),Fe(z),Fe($)}function ye(u){u.memoizedState!==null&&Xe(ae,u);var f=se.current,g=nL(f,u.type);f!==g&&(Xe(z,u),Xe(se,g))}function He(u){z.current===u&&(Fe(se),Fe(z)),ae.current===u&&(Fe(ae),op._currentValue=pe)}var Te=Object.prototype.hasOwnProperty,Ne=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,nt=t.unstable_shouldYield,gt=t.unstable_requestPaint,qt=t.unstable_now,Se=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,ee=t.unstable_UserBlockingPriority,q=t.unstable_NormalPriority,K=t.unstable_LowPriority,V=t.unstable_IdlePriority,je=t.log,Ze=t.unstable_setDisableYieldValue,ke=null,Rt=null;function It(u){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Nt(u){if(typeof je=="function"&&Ze(u),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(ke,u)}catch{}}var Pt=Math.clz32?Math.clz32:dn,zt=Math.log,Cr=Math.LN2;function dn(u){return u>>>=0,u===0?32:31-(zt(u)/Cr|0)|0}var hn=128,gr=4194304;function un(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ln(u,f){var g=u.pendingLanes;if(g===0)return 0;var S=0,O=u.suspendedLanes,j=u.pingedLanes,le=u.warmLanes;u=u.finishedLanes!==0;var Ce=g&134217727;return Ce!==0?(g=Ce&~O,g!==0?S=un(g):(j&=Ce,j!==0?S=un(j):u||(le=Ce&~le,le!==0&&(S=un(le))))):(Ce=g&~O,Ce!==0?S=un(Ce):j!==0?S=un(j):u||(le=g&~le,le!==0&&(S=un(le)))),S===0?0:f!==0&&f!==S&&!(f&O)&&(O=S&-S,le=f&-f,O>=le||O===32&&(le&4194176)!==0)?f:S}function Ln(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function ur(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var u=hn;return hn<<=1,!(hn&4194176)&&(hn=128),u}function qe(){var u=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),u}function bt(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function Et(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Mt(u,f,g,S,O,j){var le=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Ce=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(g=le&~g;0<g;){var _t=31-Pt(g),At=1<<_t;Ce[_t]=0,Ve[_t]=-1;var pt=at[_t];if(pt!==null)for(at[_t]=null,_t=0;_t<pt.length;_t++){var vt=pt[_t];vt!==null&&(vt.lane&=-536870913)}g&=~At}S!==0&&Hn(u,S,0),j!==0&&O===0&&u.tag!==0&&(u.suspendedLanes|=j&~(le&~f))}function Hn(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var S=31-Pt(f);u.entangledLanes|=f,u.entanglements[S]=u.entanglements[S]|1073741824|g&4194218}function Jn(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var S=31-Pt(g),O=1<<S;O&f|u[S]&f&&(u[S]|=f),g&=~O}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ee(){var u=Y.p;return u!==0?u:(u=window.event,u===void 0?32:wL(u.type))}function et(u,f){var g=Y.p;try{return Y.p=u,f()}finally{Y.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Tt="__reactProps$"+ft,Dt="__reactContainer$"+ft,Gt="__reactEvents$"+ft,Xt="__reactListeners$"+ft,Ht="__reactHandles$"+ft,jt="__reactResources$"+ft,tn="__reactMarker$"+ft;function Pn(u){delete u[it],delete u[Tt],delete u[Gt],delete u[Xt],delete u[Ht]}function Wt(u){var f=u[it];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Dt]||g[it]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=aL(u);u!==null;){if(g=u[it])return g;u=aL(u)}return f}u=g,g=u.parentNode}return null}function Zt(u){if(u=u[it]||u[Dt]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function En(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function Tn(u){var f=u[jt];return f||(f=u[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function qn(u){u[tn]=!0}var Ar=new Set,Vr={};function Kr(u,f){Ir(u,f),Ir(u+"Capture",f)}function Ir(u,f){for(Vr[u]=f,u=0;u<f.length;u++)Ar.add(f[u])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ki={},C={};function T(u){return Te.call(C,u)?!0:Te.call(Ki,u)?!1:Jr.test(u)?C[u]=!0:(Ki[u]=!0,!1)}function R(u,f,g){if(T(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var S=f.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function N(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function G(u,f,g,S){if(S===null)u.removeAttribute(g);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+S)}}function oe(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function _e(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Le(u){var f=_e(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),S=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var O=g.get,j=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return O.call(this)},set:function(le){S=""+le,j.call(this,le)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(le){S=""+le},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function xe(u){u._valueTracker||(u._valueTracker=Le(u))}function Pe(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),S="";return u&&(S=_e(u)?u.checked?"true":"false":u.value),u=S,u!==g?(f.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ye(u,f,g,S,O,j,le,Ce){u.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?u.type=le:u.removeAttribute("type"),f!=null?le==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+oe(f)):u.value!==""+oe(f)&&(u.value=""+oe(f)):le!=="submit"&&le!=="reset"||u.removeAttribute("value"),f!=null?dt(u,le,oe(f)):g!=null?dt(u,le,oe(g)):S!=null&&u.removeAttribute("value"),O==null&&j!=null&&(u.defaultChecked=!!j),O!=null&&(u.checked=O&&typeof O!="function"&&typeof O!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?u.name=""+oe(Ce):u.removeAttribute("name")}function st(u,f,g,S,O,j,le,Ce){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),f!=null||g!=null){if(!(j!=="submit"&&j!=="reset"||f!=null))return;g=g!=null?""+oe(g):"",f=f!=null?""+oe(f):g,Ce||f===u.value||(u.value=f),u.defaultValue=f}S=S??O,S=typeof S!="function"&&typeof S!="symbol"&&!!S,u.checked=Ce?u.checked:!!S,u.defaultChecked=!!S,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(u.name=le)}function dt(u,f,g){f==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,f,g,S){if(u=u.options,f){f={};for(var O=0;O<g.length;O++)f["$"+g[O]]=!0;for(g=0;g<u.length;g++)O=f.hasOwnProperty("$"+u[g].value),u[g].selected!==O&&(u[g].selected=O),O&&S&&(u[g].defaultSelected=!0)}else{for(g=""+oe(g),f=null,O=0;O<u.length;O++){if(u[O].value===g){u[O].selected=!0,S&&(u[O].defaultSelected=!0);return}f!==null||u[O].disabled||(f=u[O])}f!==null&&(f.selected=!0)}}function we(u,f,g){if(f!=null&&(f=""+oe(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+oe(g):""}function De(u,f,g,S){if(f==null){if(S!=null){if(g!=null)throw Error(r(92));if(H(S)){if(1<S.length)throw Error(r(93));S=S[0]}g=S}g==null&&(g=""),f=g}g=oe(f),u.defaultValue=g,S=u.textContent,S===g&&S!==""&&S!==null&&(u.value=S)}function Ue(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,f,g){var S=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?S?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":S?u.setProperty(f,g):typeof g!="number"||g===0||Ke.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function mt(u,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,g!=null){for(var S in g)!g.hasOwnProperty(S)||f!=null&&f.hasOwnProperty(S)||(S.indexOf("--")===0?u.setProperty(S,""):S==="float"?u.cssFloat="":u[S]="");for(var O in f)S=f[O],f.hasOwnProperty(O)&&g[O]!==S&&lt(u,O,S)}else for(var j in f)f.hasOwnProperty(j)&&lt(u,j,f[j])}function $t(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return gn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Vt=null;function zn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Nn=null,Un=null;function Qt(u){var f=Zt(u);if(f&&(u=f.stateNode)){var g=u[Tt]||null;e:switch(u=f.stateNode,f.type){case"input":if(Ye(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ze(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var S=g[f];if(S!==u&&S.form===u.form){var O=S[Tt]||null;if(!O)throw Error(r(90));Ye(S,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(f=0;f<g.length;f++)S=g[f],S.form===u.form&&Pe(S)}break e;case"textarea":we(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ut(u,!!g.multiple,f,!1)}}}var Gn=!1;function pn(u,f,g){if(Gn)return u(f,g);Gn=!0;try{var S=u(f);return S}finally{if(Gn=!1,(Nn!==null||Un!==null)&&(Iy(),Nn&&(f=Nn,u=Un,Un=Nn=null,Qt(f),u)))for(f=0;f<u.length;f++)Qt(u[f])}}function Yn(u,f){var g=u.stateNode;if(g===null)return null;var S=g[Tt]||null;if(S===null)return null;g=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var mr=!1;if($n)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){mr=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{mr=!1}var lr=null,xi=null,Gi=null;function ma(){if(Gi)return Gi;var u,f=xi,g=f.length,S,O="value"in lr?lr.value:lr.textContent,j=O.length;for(u=0;u<g&&f[u]===O[u];u++);var le=g-u;for(S=1;S<=le&&f[g-S]===O[j-S];S++);return Gi=O.slice(u,1<S?1-S:void 0)}function rr(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function ji(){return!0}function _s(){return!1}function ir(u){function f(g,S,O,j,le){this._reactName=g,this._targetInst=O,this.type=S,this.nativeEvent=j,this.target=le,this.currentTarget=null;for(var Ce in u)u.hasOwnProperty(Ce)&&(g=u[Ce],this[Ce]=g?g(j):j[Ce]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ji:_s,this.isPropagationStopped=_s,this}return U(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),f}var Nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ja=ir(Nr),Wi=U({},Nr,{view:0,detail:0}),Ru=ir(Wi),Ya,vn,Oa,cr=U({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Oa&&(Oa&&u.type==="mousemove"?(Ya=u.screenX-Oa.screenX,vn=u.screenY-Oa.screenY):vn=Ya=0,Oa=u),Ya)},movementY:function(u){return"movementY"in u?u.movementY:vn}}),$i=ir(cr),ya=U({},cr,{dataTransfer:0}),fr=ir(ya),Qi=U({},Wi,{relatedTarget:0}),Xa=ir(Qi),Rr=U({},Nr,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=ir(Rr),ws=U({},Nr,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Ia=ir(ws),xh=U({},Nr,{data:0}),Zi=ir(xh),gf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ws={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Ws[u])?!!f[u]:!1}function mf(){return zm}var Eh=U({},Wi,{key:function(u){if(u.key){var f=gf[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=rr(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?qm[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mf,charCode:function(u){return u.type==="keypress"?rr(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?rr(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Iw=ir(Eh),Hm=U({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Th=ir(Hm),Lw=U({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mf}),Mw=ir(Lw),Ch=U({},Nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dw=ir(Ch),Vm=U({},cr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Km=ir(Vm),yf=U({},Nr,{newState:0,oldState:0}),Eo=ir(yf),kw=[9,13,27,32],To=$n&&"CompositionEvent"in window,hi=null;$n&&"documentMode"in document&&(hi=document.documentMode);var Gm=$n&&"TextEvent"in window&&!hi,Ah=$n&&(!To||hi&&8<hi&&11>=hi),Wm=" ",vf=!1;function _f(u,f){switch(u){case"keyup":return kw.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qm(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Pu=!1;function Zm(u,f){switch(u){case"compositionend":return Qm(f);case"keypress":return f.which!==32?null:(vf=!0,Wm);case"textInput":return u=f.data,u===Wm&&vf?null:u;default:return null}}function Nw(u,f){if(Pu)return u==="compositionend"||!To&&_f(u,f)?(u=ma(),Gi=xi=lr=null,Pu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Ah&&f.locale!=="ko"?null:f.data;default:return null}}var La={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Co(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!La[u.type]:f==="textarea"}function Jm(u,f,g,S){Nn?Un?Un.push(S):Un=[S]:Nn=S,f=Ny(f,"onChange"),0<f.length&&(g=new Ja("onChange","change",null,g,S),u.push({event:g,listeners:f}))}var Ji=null,Ul=null;function Ou(u){ZI(u,0)}function wf(u){var f=En(u);if(Pe(f))return u}function Iu(u,f){if(u==="change")return f}var Rh=!1;if($n){var Lu;if($n){var Ph="oninput"in document;if(!Ph){var bs=document.createElement("div");bs.setAttribute("oninput","return;"),Ph=typeof bs.oninput=="function"}Lu=Ph}else Lu=!1;Rh=Lu&&(!document.documentMode||9<document.documentMode)}function Bl(){Ji&&(Ji.detachEvent("onpropertychange",Ym),Ul=Ji=null)}function Ym(u){if(u.propertyName==="value"&&wf(Ul)){var f=[];Jm(f,Ul,u,zn(u)),pn(Ou,f)}}function Oh(u,f,g){u==="focusin"?(Bl(),Ji=f,Ul=g,Ji.attachEvent("onpropertychange",Ym)):u==="focusout"&&Bl()}function Fw(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return wf(Ul)}function Ss(u,f){if(u==="click")return wf(f)}function jw(u,f){if(u==="input"||u==="change")return wf(f)}function Mu(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Yi=typeof Object.is=="function"?Object.is:Mu;function Xi(u,f){if(Yi(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),S=Object.keys(f);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var O=g[S];if(!Te.call(f,O)||!Yi(u[O],f[O]))return!1}return!0}function ql(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Ih(u,f){var g=ql(u);u=0;for(var S;g;){if(g.nodeType===3){if(S=u+g.textContent.length,u<=f&&S>=f)return{node:g,offset:f-u};u=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=ql(g)}}function bf(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?bf(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function zl(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Me(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=Me(u.document)}return f}function Hl(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Sf(u,f){var g=zl(f);f=u.focusedElem;var S=u.selectionRange;if(g!==f&&f&&f.ownerDocument&&bf(f.ownerDocument.documentElement,f)){if(S!==null&&Hl(f)){if(u=S.start,g=S.end,g===void 0&&(g=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(g,f.value.length);else if(g=(u=f.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var O=f.textContent.length,j=Math.min(S.start,O);S=S.end===void 0?j:Math.min(S.end,O),!g.extend&&j>S&&(O=S,S=j,j=O),O=Ih(f,j);var le=Ih(f,S);O&&le&&(g.rangeCount!==1||g.anchorNode!==O.node||g.anchorOffset!==O.offset||g.focusNode!==le.node||g.focusOffset!==le.offset)&&(u=u.createRange(),u.setStart(O.node,O.offset),g.removeAllRanges(),j>S?(g.addRange(u),g.extend(le.node,le.offset)):(u.setEnd(le.node,le.offset),g.addRange(u)))}}for(u=[],g=f;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)g=u[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Du=$n&&"documentMode"in document&&11>=document.documentMode,xs=null,Vl=null,ku=null,Lh=!1;function Kl(u,f,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Lh||xs==null||xs!==Me(S)||(S=xs,"selectionStart"in S&&Hl(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ku&&Xi(ku,S)||(ku=S,S=Ny(Vl,"onSelect"),0<S.length&&(f=new Ja("onSelect","select",null,f,g),u.push({event:f,listeners:S}),f.target=xs)))}function Ao(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var Ro={animationend:Ao("Animation","AnimationEnd"),animationiteration:Ao("Animation","AnimationIteration"),animationstart:Ao("Animation","AnimationStart"),transitionrun:Ao("Transition","TransitionRun"),transitionstart:Ao("Transition","TransitionStart"),transitioncancel:Ao("Transition","TransitionCancel"),transitionend:Ao("Transition","TransitionEnd")},Mh={},Dh={};$n&&(Dh=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Po(u){if(Mh[u])return Mh[u];if(!Ro[u])return u;var f=Ro[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in Dh)return Mh[u]=f[g];return u}var Ma=Po("animationend"),Gl=Po("animationiteration"),Xm=Po("animationstart"),xf=Po("transitionrun"),$w=Po("transitionstart"),ey=Po("transitioncancel"),ty=Po("transitionend"),Nu=new Map,ny="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function pi(u,f){Nu.set(u,f),Kr(f,[u])}var ea=[],Oo=0,kh=0;function va(){for(var u=Oo,f=kh=Oo=0;f<u;){var g=ea[f];ea[f++]=null;var S=ea[f];ea[f++]=null;var O=ea[f];ea[f++]=null;var j=ea[f];if(ea[f++]=null,S!==null&&O!==null){var le=S.pending;le===null?O.next=O:(O.next=le.next,le.next=O),S.pending=O}j!==0&&ry(g,O,j)}}function Wl(u,f,g,S){ea[Oo++]=u,ea[Oo++]=f,ea[Oo++]=g,ea[Oo++]=S,kh|=S,u.lanes|=S,u=u.alternate,u!==null&&(u.lanes|=S)}function Ef(u,f,g,S){return Wl(u,f,g,S),Io(u)}function _a(u,f){return Wl(u,null,null,f),Io(u)}function ry(u,f,g){u.lanes|=g;var S=u.alternate;S!==null&&(S.lanes|=g);for(var O=!1,j=u.return;j!==null;)j.childLanes|=g,S=j.alternate,S!==null&&(S.childLanes|=g),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(O=!0)),u=j,j=j.return;O&&f!==null&&u.tag===3&&(j=u.stateNode,O=31-Pt(g),j=j.hiddenUpdates,u=j[O],u===null?j[O]=[f]:u.push(f),f.lane=g|536870912)}function Io(u){if(50<ep)throw ep=0,Bb=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var es={},Nh=new WeakMap;function ta(u,f){if(typeof u=="object"&&u!==null){var g=Nh.get(u);return g!==void 0?g:(f={value:u,source:f,stack:he(f)},Nh.set(u,f),f)}return{value:u,source:f,stack:he(f)}}var Fu=[],Lo=0,Ql=null,Zl=0,na=[],ra=0,Mo=null,ts=1,ns="";function Do(u,f){Fu[Lo++]=Zl,Fu[Lo++]=Ql,Ql=u,Zl=f}function d(u,f,g){na[ra++]=ts,na[ra++]=ns,na[ra++]=Mo,Mo=u;var S=ts;u=ns;var O=32-Pt(S)-1;S&=~(1<<O),g+=1;var j=32-Pt(f)+O;if(30<j){var le=O-O%5;j=(S&(1<<le)-1).toString(32),S>>=le,O-=le,ts=1<<32-Pt(f)+O|g<<O|S,ns=j+u}else ts=1<<j|g<<O|S,ns=u}function _(u){u.return!==null&&(Do(u,1),d(u,1,0))}function P(u){for(;u===Ql;)Ql=Fu[--Lo],Fu[Lo]=null,Zl=Fu[--Lo],Fu[Lo]=null;for(;u===Mo;)Mo=na[--ra],na[ra]=null,ns=na[--ra],na[ra]=null,ts=na[--ra],na[ra]=null}var B=null,te=null,ve=!1,Ge=null,ot=!1,yt=Error(r(519));function St(u){var f=Error(r(418,""));throw Pr(ta(f,u)),yt}function Ut(u){var f=u.stateNode,g=u.type,S=u.memoizedProps;switch(f[it]=u,f[Tt]=S,g){case"dialog":Fn("cancel",f),Fn("close",f);break;case"iframe":case"object":case"embed":Fn("load",f);break;case"video":case"audio":for(g=0;g<np.length;g++)Fn(np[g],f);break;case"source":Fn("error",f);break;case"img":case"image":case"link":Fn("error",f),Fn("load",f);break;case"details":Fn("toggle",f);break;case"input":Fn("invalid",f),st(f,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0),xe(f);break;case"select":Fn("invalid",f);break;case"textarea":Fn("invalid",f),De(f,S.value,S.defaultValue,S.children),xe(f)}g=S.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||S.suppressHydrationWarning===!0||eL(f.textContent,g)?(S.popover!=null&&(Fn("beforetoggle",f),Fn("toggle",f)),S.onScroll!=null&&Fn("scroll",f),S.onScrollEnd!=null&&Fn("scrollend",f),S.onClick!=null&&(f.onclick=Fy),f=!0):f=!1,f||St(u)}function rn(u){for(B=u.return;B;)switch(B.tag){case 3:case 27:ot=!0;return;case 5:case 13:ot=!1;return;default:B=B.return}}function mn(u){if(u!==B)return!1;if(!ve)return rn(u),ve=!0,!1;var f=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||i1(u.type,u.memoizedProps)),g=!g),g&&(f=!0),f&&te&&St(u),rn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(f===0){te=Ts(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;u=u.nextSibling}te=null}}else te=B?Ts(u.stateNode.nextSibling):null;return!0}function Gr(){te=B=null,ve=!1}function Pr(u){Ge===null?Ge=[u]:Ge.push(u)}var gi=Error(r(460)),Ei=Error(r(474)),Qs={then:function(){}};function iy(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Tf(){}function ay(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(Tf,Tf),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===gi?Error(r(483)):u;default:if(typeof f.status=="string")f.then(Tf,Tf);else{if(u=br,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(S){if(f.status==="pending"){var O=f;O.status="fulfilled",O.value=S}},function(S){if(f.status==="pending"){var O=f;O.status="rejected",O.reason=S}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===gi?Error(r(483)):u}throw ju=f,gi}}var ju=null;function sy(){if(ju===null)throw Error(r(459));var u=ju;return ju=null,u}var ko=null,wr=0;function No(u){var f=wr;return wr+=1,ko===null&&(ko=[]),ay(ko,u,f)}function Jl(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Cf(u,f){throw f.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function oy(u){var f=u._init;return f(u._payload)}function Af(u){function f(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)f(ct,rt),rt=rt.sibling;return null}function S(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function O(ct,rt){return ct=Zu(ct,rt),ct.index=0,ct.sibling=null,ct}function j(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function le(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Ce(ct,rt,ht,xt){return rt===null||rt.tag!==6?(rt=Mb(ht,ct.mode,xt),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,xt){var Kt=ht.type;return Kt===l?_t(ct,rt,ht.props.children,xt,ht.key):rt!==null&&(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&oy(Kt)===rt.type)?(rt=O(rt,ht.props),Jl(rt,ht),rt.return=ct,rt):(rt=Cy(ht.type,ht.key,ht.props,null,ct.mode,xt),Jl(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,xt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=Db(ht,ct.mode,xt),rt.return=ct,rt):(rt=O(rt,ht.children||[]),rt.return=ct,rt)}function _t(ct,rt,ht,xt,Kt){return rt===null||rt.tag!==7?(rt=sc(ht,ct.mode,xt,Kt),rt.return=ct,rt):(rt=O(rt,ht),rt.return=ct,rt)}function At(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=Mb(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case s:return ht=Cy(rt.type,rt.key,rt.props,null,ct.mode,ht),Jl(ht,rt),ht.return=ct,ht;case o:return rt=Db(rt,ct.mode,ht),rt.return=ct,rt;case x:var xt=rt._init;return rt=xt(rt._payload),At(ct,rt,ht)}if(H(rt)||D(rt))return rt=sc(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return At(ct,No(rt),ht);if(rt.$$typeof===y)return At(ct,xy(ct,rt),ht);Cf(ct,rt)}return null}function pt(ct,rt,ht,xt){var Kt=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Kt!==null?null:Ce(ct,rt,""+ht,xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case s:return ht.key===Kt?Ve(ct,rt,ht,xt):null;case o:return ht.key===Kt?at(ct,rt,ht,xt):null;case x:return Kt=ht._init,ht=Kt(ht._payload),pt(ct,rt,ht,xt)}if(H(ht)||D(ht))return Kt!==null?null:_t(ct,rt,ht,xt,null);if(typeof ht.then=="function")return pt(ct,rt,No(ht),xt);if(ht.$$typeof===y)return pt(ct,rt,xy(ct,ht),xt);Cf(ct,ht)}return null}function vt(ct,rt,ht,xt,Kt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return ct=ct.get(ht)||null,Ce(rt,ct,""+xt,Kt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case s:return ct=ct.get(xt.key===null?ht:xt.key)||null,Ve(rt,ct,xt,Kt);case o:return ct=ct.get(xt.key===null?ht:xt.key)||null,at(rt,ct,xt,Kt);case x:var On=xt._init;return xt=On(xt._payload),vt(ct,rt,ht,xt,Kt)}if(H(xt)||D(xt))return ct=ct.get(ht)||null,_t(rt,ct,xt,Kt,null);if(typeof xt.then=="function")return vt(ct,rt,ht,No(xt),Kt);if(xt.$$typeof===y)return vt(ct,rt,ht,xy(rt,xt),Kt);Cf(rt,xt)}return null}function Jt(ct,rt,ht,xt){for(var Kt=null,On=null,en=rt,sn=rt=0,vi=null;en!==null&&sn<ht.length;sn++){en.index>sn?(vi=en,en=null):vi=en.sibling;var Vn=pt(ct,en,ht[sn],xt);if(Vn===null){en===null&&(en=vi);break}u&&en&&Vn.alternate===null&&f(ct,en),rt=j(Vn,rt,sn),On===null?Kt=Vn:On.sibling=Vn,On=Vn,en=vi}if(sn===ht.length)return g(ct,en),ve&&Do(ct,sn),Kt;if(en===null){for(;sn<ht.length;sn++)en=At(ct,ht[sn],xt),en!==null&&(rt=j(en,rt,sn),On===null?Kt=en:On.sibling=en,On=en);return ve&&Do(ct,sn),Kt}for(en=S(en);sn<ht.length;sn++)vi=vt(en,ct,sn,ht[sn],xt),vi!==null&&(u&&vi.alternate!==null&&en.delete(vi.key===null?sn:vi.key),rt=j(vi,rt,sn),On===null?Kt=vi:On.sibling=vi,On=vi);return u&&en.forEach(function(rl){return f(ct,rl)}),ve&&Do(ct,sn),Kt}function yn(ct,rt,ht,xt){if(ht==null)throw Error(r(151));for(var Kt=null,On=null,en=rt,sn=rt=0,vi=null,Vn=ht.next();en!==null&&!Vn.done;sn++,Vn=ht.next()){en.index>sn?(vi=en,en=null):vi=en.sibling;var rl=pt(ct,en,Vn.value,xt);if(rl===null){en===null&&(en=vi);break}u&&en&&rl.alternate===null&&f(ct,en),rt=j(rl,rt,sn),On===null?Kt=rl:On.sibling=rl,On=rl,en=vi}if(Vn.done)return g(ct,en),ve&&Do(ct,sn),Kt;if(en===null){for(;!Vn.done;sn++,Vn=ht.next())Vn=At(ct,Vn.value,xt),Vn!==null&&(rt=j(Vn,rt,sn),On===null?Kt=Vn:On.sibling=Vn,On=Vn);return ve&&Do(ct,sn),Kt}for(en=S(en);!Vn.done;sn++,Vn=ht.next())Vn=vt(en,ct,sn,Vn.value,xt),Vn!==null&&(u&&Vn.alternate!==null&&en.delete(Vn.key===null?sn:Vn.key),rt=j(Vn,rt,sn),On===null?Kt=Vn:On.sibling=Vn,On=Vn);return u&&en.forEach(function(jV){return f(ct,jV)}),ve&&Do(ct,sn),Kt}function $r(ct,rt,ht,xt){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case s:e:{for(var Kt=ht.key;rt!==null;){if(rt.key===Kt){if(Kt=ht.type,Kt===l){if(rt.tag===7){g(ct,rt.sibling),xt=O(rt,ht.props.children),xt.return=ct,ct=xt;break e}}else if(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&oy(Kt)===rt.type){g(ct,rt.sibling),xt=O(rt,ht.props),Jl(xt,ht),xt.return=ct,ct=xt;break e}g(ct,rt);break}else f(ct,rt);rt=rt.sibling}ht.type===l?(xt=sc(ht.props.children,ct.mode,xt,ht.key),xt.return=ct,ct=xt):(xt=Cy(ht.type,ht.key,ht.props,null,ct.mode,xt),Jl(xt,ht),xt.return=ct,ct=xt)}return le(ct);case o:e:{for(Kt=ht.key;rt!==null;){if(rt.key===Kt)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),xt=O(rt,ht.children||[]),xt.return=ct,ct=xt;break e}else{g(ct,rt);break}else f(ct,rt);rt=rt.sibling}xt=Db(ht,ct.mode,xt),xt.return=ct,ct=xt}return le(ct);case x:return Kt=ht._init,ht=Kt(ht._payload),$r(ct,rt,ht,xt)}if(H(ht))return Jt(ct,rt,ht,xt);if(D(ht)){if(Kt=D(ht),typeof Kt!="function")throw Error(r(150));return ht=Kt.call(ht),yn(ct,rt,ht,xt)}if(typeof ht.then=="function")return $r(ct,rt,No(ht),xt);if(ht.$$typeof===y)return $r(ct,rt,xy(ct,ht),xt);Cf(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),xt=O(rt,ht),xt.return=ct,ct=xt):(g(ct,rt),xt=Mb(ht,ct.mode,xt),xt.return=ct,ct=xt),le(ct)):g(ct,rt)}return function(ct,rt,ht,xt){try{wr=0;var Kt=$r(ct,rt,ht,xt);return ko=null,Kt}catch(en){if(en===gi)throw en;var On=ss(29,en,null,ct.mode);return On.lanes=xt,On.return=ct,On}finally{}}}var Zs=Af(!0),uy=Af(!1),Rf=Re(null),ly=Re(0);function eO(u,f){u=Go,Xe(ly,u),Xe(Rf,f),Go=u|f.baseLanes}function Uw(){Xe(ly,Go),Xe(Rf,Rf.current)}function Bw(){Go=ly.current,Fe(Rf),Fe(ly)}var rs=Re(null),Js=null;function $u(u){var f=u.alternate;Xe(oi,oi.current&1),Xe(rs,u),Js===null&&(f===null||Rf.current!==null||f.memoizedState!==null)&&(Js=u)}function tO(u){if(u.tag===22){if(Xe(oi,oi.current),Xe(rs,u),Js===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Js=u)}}else Uu()}function Uu(){Xe(oi,oi.current),Xe(rs,rs.current)}function Fo(u){Fe(rs),Js===u&&(Js=null),Fe(oi)}var oi=Re(0);function cy(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var T7=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,S){u.push(S)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},C7=t.unstable_scheduleCallback,A7=t.unstable_NormalPriority,ui={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qw(){return{controller:new T7,data:new Map,refCount:0}}function Fh(u){u.refCount--,u.refCount===0&&C7(A7,function(){u.controller.abort()})}var jh=null,zw=0,Pf=0,Of=null;function R7(u,f){if(jh===null){var g=jh=[];zw=0,Pf=Qb(),Of={status:"pending",value:void 0,then:function(S){g.push(S)}}}return zw++,f.then(nO,nO),f}function nO(){if(--zw===0&&jh!==null){Of!==null&&(Of.status="fulfilled");var u=jh;jh=null,Pf=0,Of=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function P7(u,f){var g=[],S={status:"pending",value:null,reason:null,then:function(O){g.push(O)}};return u.then(function(){S.status="fulfilled",S.value=f;for(var O=0;O<g.length;O++)(0,g[O])(f)},function(O){for(S.status="rejected",S.reason=O,O=0;O<g.length;O++)(0,g[O])(void 0)}),S}var rO=X.S;X.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&R7(u,f),rO!==null&&rO(u,f)};var Yl=Re(null);function Hw(){var u=Yl.current;return u!==null?u:br.pooledCache}function fy(u,f){f===null?Xe(Yl,Yl.current):Xe(Yl,f.pool)}function iO(){var u=Hw();return u===null?null:{parent:ui._currentValue,pool:u}}var Bu=0,Cn=null,dr=null,Yr=null,dy=!1,If=!1,Xl=!1,hy=0,$h=0,Lf=null,O7=0;function Wr(){throw Error(r(321))}function Vw(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Yi(u[g],f[g]))return!1;return!0}function Kw(u,f,g,S,O,j){return Bu=j,Cn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,X.H=u===null||u.memoizedState===null?ec:qu,Xl=!1,j=g(S,O),Xl=!1,If&&(j=sO(f,g,S,O)),aO(u),j}function aO(u){X.H=Ys;var f=dr!==null&&dr.next!==null;if(Bu=0,Yr=dr=Cn=null,dy=!1,$h=0,Lf=null,f)throw Error(r(300));u===null||mi||(u=u.dependencies,u!==null&&Sy(u)&&(mi=!0))}function sO(u,f,g,S){Cn=u;var O=0;do{if(If&&(Lf=null),$h=0,If=!1,25<=O)throw Error(r(301));if(O+=1,Yr=dr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}X.H=tc,j=f(g,S)}while(If);return j}function I7(){var u=X.H,f=u.useState()[0];return f=typeof f.then=="function"?Uh(f):f,u=u.useState()[0],(dr!==null?dr.memoizedState:null)!==u&&(Cn.flags|=1024),f}function Gw(){var u=hy!==0;return hy=0,u}function Ww(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function Qw(u){if(dy){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}dy=!1}Bu=0,Yr=dr=Cn=null,If=!1,$h=hy=0,Lf=null}function wa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Cn.memoizedState=Yr=u:Yr=Yr.next=u,Yr}function Xr(){if(dr===null){var u=Cn.alternate;u=u!==null?u.memoizedState:null}else u=dr.next;var f=Yr===null?Cn.memoizedState:Yr.next;if(f!==null)Yr=f,dr=u;else{if(u===null)throw Cn.alternate===null?Error(r(467)):Error(r(310));dr=u,u={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Yr===null?Cn.memoizedState=Yr=u:Yr=Yr.next=u}return Yr}var py;py=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Uh(u){var f=$h;return $h+=1,Lf===null&&(Lf=[]),u=ay(Lf,u,f),f=Cn,(Yr===null?f.memoizedState:Yr.next)===null&&(f=f.alternate,X.H=f===null||f.memoizedState===null?ec:qu),u}function gy(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Uh(u);if(u.$$typeof===y)return Ui(u)}throw Error(r(438,String(u)))}function Zw(u){var f=null,g=Cn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var S=Cn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(f={data:S.data.map(function(O){return O.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=py(),Cn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),S=0;S<u;S++)g[S]=I;return f.index++,g}function jo(u,f){return typeof f=="function"?f(u):f}function my(u){var f=Xr();return Jw(f,dr,u)}function Jw(u,f,g){var S=u.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=g;var O=u.baseQueue,j=S.pending;if(j!==null){if(O!==null){var le=O.next;O.next=j.next,j.next=le}f.baseQueue=O=j,S.pending=null}if(j=u.baseState,O===null)u.memoizedState=j;else{f=O.next;var Ce=le=null,Ve=null,at=f,_t=!1;do{var At=at.lane&-536870913;if(At!==at.lane?(Bn&At)===At:(Bu&At)===At){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),At===Pf&&(_t=!0);else if((Bu&pt)===pt){at=at.next,pt===Pf&&(_t=!0);continue}else At={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=At,le=j):Ve=Ve.next=At,Cn.lanes|=pt,Ju|=pt;At=at.action,Xl&&g(j,At),j=at.hasEagerState?at.eagerState:g(j,At)}else pt={lane:At,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Ce=Ve=pt,le=j):Ve=Ve.next=pt,Cn.lanes|=At,Ju|=At;at=at.next}while(at!==null&&at!==f);if(Ve===null?le=j:Ve.next=Ce,!Yi(j,u.memoizedState)&&(mi=!0,_t&&(g=Of,g!==null)))throw g;u.memoizedState=j,u.baseState=le,u.baseQueue=Ve,S.lastRenderedState=j}return O===null&&(S.lanes=0),[u.memoizedState,S.dispatch]}function Yw(u){var f=Xr(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var S=g.dispatch,O=g.pending,j=f.memoizedState;if(O!==null){g.pending=null;var le=O=O.next;do j=u(j,le.action),le=le.next;while(le!==O);Yi(j,f.memoizedState)||(mi=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),g.lastRenderedState=j}return[j,S]}function oO(u,f,g){var S=Cn,O=Xr(),j=ve;if(j){if(g===void 0)throw Error(r(407));g=g()}else g=f();var le=!Yi((dr||O).memoizedState,g);if(le&&(O.memoizedState=g,mi=!0),O=O.queue,tb(cO.bind(null,S,O,u),[u]),O.getSnapshot!==f||le||Yr!==null&&Yr.memoizedState.tag&1){if(S.flags|=2048,Mf(9,lO.bind(null,S,O,g,f),{destroy:void 0},null),br===null)throw Error(r(349));j||Bu&60||uO(S,f,g)}return g}function uO(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Cn.updateQueue,f===null?(f=py(),Cn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function lO(u,f,g,S){f.value=g,f.getSnapshot=S,fO(f)&&dO(u)}function cO(u,f,g){return g(function(){fO(f)&&dO(u)})}function fO(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Yi(u,g)}catch{return!0}}function dO(u){var f=_a(u,2);f!==null&&ia(f,u,2)}function Xw(u){var f=wa();if(typeof u=="function"){var g=u;if(u=g(),Xl){Nt(!0);try{g()}finally{Nt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:u},f}function hO(u,f,g,S){return u.baseState=g,Jw(u,dr,typeof S=="function"?S:jo)}function L7(u,f,g,S,O){if(_y(u))throw Error(r(485));if(u=f.action,u!==null){var j={payload:O,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){j.listeners.push(le)}};X.T!==null?g(!0):j.isTransition=!1,S(j),g=f.pending,g===null?(j.next=f.pending=j,pO(f,j)):(j.next=g.next,f.pending=g.next=j)}}function pO(u,f){var g=f.action,S=f.payload,O=u.state;if(f.isTransition){var j=X.T,le={};X.T=le;try{var Ce=g(O,S),Ve=X.S;Ve!==null&&Ve(le,Ce),gO(u,f,Ce)}catch(at){eb(u,f,at)}finally{X.T=j}}else try{j=g(O,S),gO(u,f,j)}catch(at){eb(u,f,at)}}function gO(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(S){mO(u,f,S)},function(S){return eb(u,f,S)}):mO(u,f,g)}function mO(u,f,g){f.status="fulfilled",f.value=g,yO(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,pO(u,g)))}function eb(u,f,g){var S=u.pending;if(u.pending=null,S!==null){S=S.next;do f.status="rejected",f.reason=g,yO(f),f=f.next;while(f!==S)}u.action=null}function yO(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function vO(u,f){return f}function _O(u,f){if(ve){var g=br.formState;if(g!==null){e:{var S=Cn;if(ve){if(te){t:{for(var O=te,j=ot;O.nodeType!==8;){if(!j){O=null;break t}if(O=Ts(O.nextSibling),O===null){O=null;break t}}j=O.data,O=j==="F!"||j==="F"?O:null}if(O){te=Ts(O.nextSibling),S=O.data==="F!";break e}}St(S)}S=!1}S&&(f=g[0])}}return g=wa(),g.memoizedState=g.baseState=f,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vO,lastRenderedState:f},g.queue=S,g=FO.bind(null,Cn,S),S.dispatch=g,S=Xw(!1),j=sb.bind(null,Cn,!1,S.queue),S=wa(),O={state:f,dispatch:null,action:u,pending:null},S.queue=O,g=L7.bind(null,Cn,O,j,g),O.dispatch=g,S.memoizedState=u,[f,g,!1]}function wO(u){var f=Xr();return bO(f,dr,u)}function bO(u,f,g){f=Jw(u,f,vO)[0],u=my(jo)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Uh(f):f;var S=Xr(),O=S.queue,j=O.dispatch;return g!==S.memoizedState&&(Cn.flags|=2048,Mf(9,M7.bind(null,O,g),{destroy:void 0},null)),[f,j,u]}function M7(u,f){u.action=f}function SO(u){var f=Xr(),g=dr;if(g!==null)return bO(f,g,u);Xr(),f=f.memoizedState,g=Xr();var S=g.queue.dispatch;return g.memoizedState=u,[f,S,!1]}function Mf(u,f,g,S){return u={tag:u,create:f,inst:g,deps:S,next:null},f=Cn.updateQueue,f===null&&(f=py(),Cn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(S=g.next,g.next=u,u.next=S,f.lastEffect=u),u}function xO(){return Xr().memoizedState}function yy(u,f,g,S){var O=wa();Cn.flags|=u,O.memoizedState=Mf(1|f,g,{destroy:void 0},S===void 0?null:S)}function vy(u,f,g,S){var O=Xr();S=S===void 0?null:S;var j=O.memoizedState.inst;dr!==null&&S!==null&&Vw(S,dr.memoizedState.deps)?O.memoizedState=Mf(f,g,j,S):(Cn.flags|=u,O.memoizedState=Mf(1|f,g,j,S))}function EO(u,f){yy(8390656,8,u,f)}function tb(u,f){vy(2048,8,u,f)}function TO(u,f){return vy(4,2,u,f)}function CO(u,f){return vy(4,4,u,f)}function AO(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function RO(u,f,g){g=g!=null?g.concat([u]):null,vy(4,4,AO.bind(null,f,u),g)}function nb(){}function PO(u,f){var g=Xr();f=f===void 0?null:f;var S=g.memoizedState;return f!==null&&Vw(f,S[1])?S[0]:(g.memoizedState=[u,f],u)}function OO(u,f){var g=Xr();f=f===void 0?null:f;var S=g.memoizedState;if(f!==null&&Vw(f,S[1]))return S[0];if(S=u(),Xl){Nt(!0);try{u()}finally{Nt(!1)}}return g.memoizedState=[S,f],S}function rb(u,f,g){return g===void 0||Bu&1073741824?u.memoizedState=f:(u.memoizedState=g,u=LI(),Cn.lanes|=u,Ju|=u,g)}function IO(u,f,g,S){return Yi(g,f)?g:Rf.current!==null?(u=rb(u,g,S),Yi(u,f)||(mi=!0),u):Bu&42?(u=LI(),Cn.lanes|=u,Ju|=u,f):(mi=!0,u.memoizedState=g)}function LO(u,f,g,S,O){var j=Y.p;Y.p=j!==0&&8>j?j:8;var le=X.T,Ce={};X.T=Ce,sb(u,!1,f,g);try{var Ve=O(),at=X.S;if(at!==null&&at(Ce,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var _t=P7(Ve,S);Bh(u,f,_t,Fa(u))}else Bh(u,f,S,Fa(u))}catch(At){Bh(u,f,{then:function(){},status:"rejected",reason:At},Fa())}finally{Y.p=j,X.T=le}}function D7(){}function ib(u,f,g,S){if(u.tag!==5)throw Error(r(476));var O=MO(u).queue;LO(u,O,f,pe,g===null?D7:function(){return DO(u),g(S)})}function MO(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:pe},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function DO(u){var f=MO(u).next.queue;Bh(u,f,{},Fa())}function ab(){return Ui(op)}function kO(){return Xr().memoizedState}function NO(){return Xr().memoizedState}function k7(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=Fa();u=Vu(g);var S=Ku(f,u,g);S!==null&&(ia(S,f,g),Hh(S,f,g)),f={cache:qw()},u.payload=f;return}f=f.return}}function N7(u,f,g){var S=Fa();g={lane:S,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},_y(u)?jO(f,g):(g=Ef(u,f,g,S),g!==null&&(ia(g,u,S),$O(g,f,S)))}function FO(u,f,g){var S=Fa();Bh(u,f,g,S)}function Bh(u,f,g,S){var O={lane:S,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(_y(u))jO(f,O);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var le=f.lastRenderedState,Ce=j(le,g);if(O.hasEagerState=!0,O.eagerState=Ce,Yi(Ce,le))return Wl(u,f,O,0),br===null&&va(),!1}catch{}finally{}if(g=Ef(u,f,O,S),g!==null)return ia(g,u,S),$O(g,f,S),!0}return!1}function sb(u,f,g,S){if(S={lane:2,revertLane:Qb(),action:S,hasEagerState:!1,eagerState:null,next:null},_y(u)){if(f)throw Error(r(479))}else f=Ef(u,g,S,2),f!==null&&ia(f,u,2)}function _y(u){var f=u.alternate;return u===Cn||f!==null&&f===Cn}function jO(u,f){If=dy=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function $O(u,f,g){if(g&4194176){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,Jn(u,g)}}var Ys={readContext:Ui,use:gy,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useLayoutEffect:Wr,useInsertionEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useSyncExternalStore:Wr,useId:Wr};Ys.useCacheRefresh=Wr,Ys.useMemoCache=Wr,Ys.useHostTransitionStatus=Wr,Ys.useFormState=Wr,Ys.useActionState=Wr,Ys.useOptimistic=Wr;var ec={readContext:Ui,use:gy,useCallback:function(u,f){return wa().memoizedState=[u,f===void 0?null:f],u},useContext:Ui,useEffect:EO,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,yy(4194308,4,AO.bind(null,f,u),g)},useLayoutEffect:function(u,f){return yy(4194308,4,u,f)},useInsertionEffect:function(u,f){yy(4,2,u,f)},useMemo:function(u,f){var g=wa();f=f===void 0?null:f;var S=u();if(Xl){Nt(!0);try{u()}finally{Nt(!1)}}return g.memoizedState=[S,f],S},useReducer:function(u,f,g){var S=wa();if(g!==void 0){var O=g(f);if(Xl){Nt(!0);try{g(f)}finally{Nt(!1)}}}else O=f;return S.memoizedState=S.baseState=O,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:O},S.queue=u,u=u.dispatch=N7.bind(null,Cn,u),[S.memoizedState,u]},useRef:function(u){var f=wa();return u={current:u},f.memoizedState=u},useState:function(u){u=Xw(u);var f=u.queue,g=FO.bind(null,Cn,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:nb,useDeferredValue:function(u,f){var g=wa();return rb(g,u,f)},useTransition:function(){var u=Xw(!1);return u=LO.bind(null,Cn,u.queue,!0,!1),wa().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var S=Cn,O=wa();if(ve){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),br===null)throw Error(r(349));Bn&60||uO(S,f,g)}O.memoizedState=g;var j={value:g,getSnapshot:f};return O.queue=j,EO(cO.bind(null,S,j,u),[u]),S.flags|=2048,Mf(9,lO.bind(null,S,j,g,f),{destroy:void 0},null),g},useId:function(){var u=wa(),f=br.identifierPrefix;if(ve){var g=ns,S=ts;g=(S&~(1<<32-Pt(S)-1)).toString(32)+g,f=":"+f+"R"+g,g=hy++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=O7++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return wa().memoizedState=k7.bind(null,Cn)}};ec.useMemoCache=Zw,ec.useHostTransitionStatus=ab,ec.useFormState=_O,ec.useActionState=_O,ec.useOptimistic=function(u){var f=wa();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=sb.bind(null,Cn,!0,g),g.dispatch=f,[u,f]};var qu={readContext:Ui,use:gy,useCallback:PO,useContext:Ui,useEffect:tb,useImperativeHandle:RO,useInsertionEffect:TO,useLayoutEffect:CO,useMemo:OO,useReducer:my,useRef:xO,useState:function(){return my(jo)},useDebugValue:nb,useDeferredValue:function(u,f){var g=Xr();return IO(g,dr.memoizedState,u,f)},useTransition:function(){var u=my(jo)[0],f=Xr().memoizedState;return[typeof u=="boolean"?u:Uh(u),f]},useSyncExternalStore:oO,useId:kO};qu.useCacheRefresh=NO,qu.useMemoCache=Zw,qu.useHostTransitionStatus=ab,qu.useFormState=wO,qu.useActionState=wO,qu.useOptimistic=function(u,f){var g=Xr();return hO(g,dr,u,f)};var tc={readContext:Ui,use:gy,useCallback:PO,useContext:Ui,useEffect:tb,useImperativeHandle:RO,useInsertionEffect:TO,useLayoutEffect:CO,useMemo:OO,useReducer:Yw,useRef:xO,useState:function(){return Yw(jo)},useDebugValue:nb,useDeferredValue:function(u,f){var g=Xr();return dr===null?rb(g,u,f):IO(g,dr.memoizedState,u,f)},useTransition:function(){var u=Yw(jo)[0],f=Xr().memoizedState;return[typeof u=="boolean"?u:Uh(u),f]},useSyncExternalStore:oO,useId:kO};tc.useCacheRefresh=NO,tc.useMemoCache=Zw,tc.useHostTransitionStatus=ab,tc.useFormState=SO,tc.useActionState=SO,tc.useOptimistic=function(u,f){var g=Xr();return dr!==null?hO(g,dr,u,f):(g.baseState=u,[u,g.queue.dispatch])};function ob(u,f,g,S){f=u.memoizedState,g=g(S,f),g=g==null?f:U({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var ub={isMounted:function(u){return(u=u._reactInternals)?fe(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var S=Fa(),O=Vu(S);O.payload=f,g!=null&&(O.callback=g),f=Ku(u,O,S),f!==null&&(ia(f,u,S),Hh(f,u,S))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var S=Fa(),O=Vu(S);O.tag=1,O.payload=f,g!=null&&(O.callback=g),f=Ku(u,O,S),f!==null&&(ia(f,u,S),Hh(f,u,S))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=Fa(),S=Vu(g);S.tag=2,f!=null&&(S.callback=f),f=Ku(u,S,g),f!==null&&(ia(f,u,g),Hh(f,u,g))}};function UO(u,f,g,S,O,j,le){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,j,le):f.prototype&&f.prototype.isPureReactComponent?!Xi(g,S)||!Xi(O,j):!0}function BO(u,f,g,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,S),f.state!==u&&ub.enqueueReplaceState(f,f.state,null)}function nc(u,f){var g=f;if("ref"in f){g={};for(var S in f)S!=="ref"&&(g[S]=f[S])}if(u=u.defaultProps){g===f&&(g=U({},g));for(var O in u)g[O]===void 0&&(g[O]=u[O])}return g}var wy=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function qO(u){wy(u)}function zO(u){console.error(u)}function HO(u){wy(u)}function by(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(S){setTimeout(function(){throw S})}}function VO(u,f,g){try{var S=u.onCaughtError;S(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function lb(u,f,g){return g=Vu(g),g.tag=3,g.payload={element:null},g.callback=function(){by(u,f)},g}function KO(u){return u=Vu(u),u.tag=3,u}function GO(u,f,g,S){var O=g.type.getDerivedStateFromError;if(typeof O=="function"){var j=S.value;u.payload=function(){return O(j)},u.callback=function(){VO(f,g,S)}}var le=g.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(u.callback=function(){VO(f,g,S),typeof O!="function"&&(Yu===null?Yu=new Set([this]):Yu.add(this));var Ce=S.stack;this.componentDidCatch(S.value,{componentStack:Ce!==null?Ce:""})})}function F7(u,f,g,S,O){if(g.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(f=g.alternate,f!==null&&zh(f,g,O,!0),g=rs.current,g!==null){switch(g.tag){case 13:return Js===null?Hb():g.alternate===null&&jr===0&&(jr=3),g.flags&=-257,g.flags|=65536,g.lanes=O,S===Qs?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([S]):f.add(S),Kb(u,S,O)),!1;case 22:return g.flags|=65536,S===Qs?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([S])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([S]):g.add(S)),Kb(u,S,O)),!1}throw Error(r(435,g.tag))}return Kb(u,S,O),Hb(),!1}if(ve)return f=rs.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=O,S!==yt&&(u=Error(r(422),{cause:S}),Pr(ta(u,g)))):(S!==yt&&(f=Error(r(423),{cause:S}),Pr(ta(f,g))),u=u.current.alternate,u.flags|=65536,O&=-O,u.lanes|=O,S=ta(S,g),O=lb(u.stateNode,S,O),Eb(u,O),jr!==4&&(jr=2)),!1;var j=Error(r(520),{cause:S});if(j=ta(j,g),Yh===null?Yh=[j]:Yh.push(j),jr!==4&&(jr=2),f===null)return!0;S=ta(S,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=O&-O,g.lanes|=u,u=lb(g.stateNode,S,u),Eb(g,u),!1;case 1:if(f=g.type,j=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Yu===null||!Yu.has(j))))return g.flags|=65536,O&=-O,g.lanes|=O,O=KO(O),GO(O,u,g,S),Eb(g,O),!1}g=g.return}while(g!==null);return!1}var WO=Error(r(461)),mi=!1;function Ti(u,f,g,S){f.child=u===null?uy(f,null,g,S):Zs(f,u.child,g,S)}function QO(u,f,g,S,O){g=g.render;var j=f.ref;if("ref"in S){var le={};for(var Ce in S)Ce!=="ref"&&(le[Ce]=S[Ce])}else le=S;return ic(f),S=Kw(u,f,g,le,j,O),Ce=Gw(),u!==null&&!mi?(Ww(u,f,O),$o(u,f,O)):(ve&&Ce&&_(f),f.flags|=1,Ti(u,f,S,O),f.child)}function ZO(u,f,g,S,O){if(u===null){var j=g.type;return typeof j=="function"&&!Lb(j)&&j.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=j,JO(u,f,j,S,O)):(u=Cy(g.type,null,S,f,f.mode,O),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,!vb(u,O)){var le=j.memoizedProps;if(g=g.compare,g=g!==null?g:Xi,g(le,S)&&u.ref===f.ref)return $o(u,f,O)}return f.flags|=1,u=Zu(j,S),u.ref=f.ref,u.return=f,f.child=u}function JO(u,f,g,S,O){if(u!==null){var j=u.memoizedProps;if(Xi(j,S)&&u.ref===f.ref)if(mi=!1,f.pendingProps=S=j,vb(u,O))u.flags&131072&&(mi=!0);else return f.lanes=u.lanes,$o(u,f,O)}return cb(u,f,g,S,O)}function YO(u,f,g){var S=f.pendingProps,O=S.children,j=(f.stateNode._pendingVisibility&2)!==0,le=u!==null?u.memoizedState:null;if(qh(u,f),S.mode==="hidden"||j){if(f.flags&128){if(S=le!==null?le.baseLanes|g:g,u!==null){for(O=f.child=u.child,j=0;O!==null;)j=j|O.lanes|O.childLanes,O=O.sibling;f.childLanes=j&~S}else f.childLanes=0,f.child=null;return XO(u,f,S,g)}if(g&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&fy(f,le!==null?le.cachePool:null),le!==null?eO(f,le):Uw(),tO(f);else return f.lanes=f.childLanes=536870912,XO(u,f,le!==null?le.baseLanes|g:g,g)}else le!==null?(fy(f,le.cachePool),eO(f,le),Uu(),f.memoizedState=null):(u!==null&&fy(f,null),Uw(),Uu());return Ti(u,f,O,g),f.child}function XO(u,f,g,S){var O=Hw();return O=O===null?null:{parent:ui._currentValue,pool:O},f.memoizedState={baseLanes:g,cachePool:O},u!==null&&fy(f,null),Uw(),tO(f),u!==null&&zh(u,f,S,!0),null}function qh(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(f.flags|=2097664)}}function cb(u,f,g,S,O){return ic(f),g=Kw(u,f,g,S,void 0,O),S=Gw(),u!==null&&!mi?(Ww(u,f,O),$o(u,f,O)):(ve&&S&&_(f),f.flags|=1,Ti(u,f,g,O),f.child)}function eI(u,f,g,S,O,j){return ic(f),f.updateQueue=null,g=sO(f,S,g,O),aO(u),S=Gw(),u!==null&&!mi?(Ww(u,f,j),$o(u,f,j)):(ve&&S&&_(f),f.flags|=1,Ti(u,f,g,j),f.child)}function tI(u,f,g,S,O){if(ic(f),f.stateNode===null){var j=es,le=g.contextType;typeof le=="object"&&le!==null&&(j=Ui(le)),j=new g(S,j),f.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=ub,f.stateNode=j,j._reactInternals=f,j=f.stateNode,j.props=S,j.state=f.memoizedState,j.refs={},Sb(f),le=g.contextType,j.context=typeof le=="object"&&le!==null?Ui(le):es,j.state=f.memoizedState,le=g.getDerivedStateFromProps,typeof le=="function"&&(ob(f,g,le,S),j.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(le=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),le!==j.state&&ub.enqueueReplaceState(j,j.state,null),Kh(f,S,j,O),Vh(),j.state=f.memoizedState),typeof j.componentDidMount=="function"&&(f.flags|=4194308),S=!0}else if(u===null){j=f.stateNode;var Ce=f.memoizedProps,Ve=nc(g,Ce);j.props=Ve;var at=j.context,_t=g.contextType;le=es,typeof _t=="object"&&_t!==null&&(le=Ui(_t));var At=g.getDerivedStateFromProps;_t=typeof At=="function"||typeof j.getSnapshotBeforeUpdate=="function",Ce=f.pendingProps!==Ce,_t||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Ce||at!==le)&&BO(f,j,S,le),Hu=!1;var pt=f.memoizedState;j.state=pt,Kh(f,S,j,O),Vh(),at=f.memoizedState,Ce||pt!==at||Hu?(typeof At=="function"&&(ob(f,g,At,S),at=f.memoizedState),(Ve=Hu||UO(f,g,Ve,S,pt,at,le))?(_t||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=at),j.props=S,j.state=at,j.context=le,S=Ve):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{j=f.stateNode,xb(u,f),le=f.memoizedProps,_t=nc(g,le),j.props=_t,At=f.pendingProps,pt=j.context,at=g.contextType,Ve=es,typeof at=="object"&&at!==null&&(Ve=Ui(at)),Ce=g.getDerivedStateFromProps,(at=typeof Ce=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(le!==At||pt!==Ve)&&BO(f,j,S,Ve),Hu=!1,pt=f.memoizedState,j.state=pt,Kh(f,S,j,O),Vh();var vt=f.memoizedState;le!==At||pt!==vt||Hu||u!==null&&u.dependencies!==null&&Sy(u.dependencies)?(typeof Ce=="function"&&(ob(f,g,Ce,S),vt=f.memoizedState),(_t=Hu||UO(f,g,_t,S,pt,vt,Ve)||u!==null&&u.dependencies!==null&&Sy(u.dependencies))?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(S,vt,Ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(S,vt,Ve)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=vt),j.props=S,j.state=vt,j.context=Ve,S=_t):(typeof j.componentDidUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),S=!1)}return j=S,qh(u,f),S=(f.flags&128)!==0,j||S?(j=f.stateNode,g=S&&typeof g.getDerivedStateFromError!="function"?null:j.render(),f.flags|=1,u!==null&&S?(f.child=Zs(f,u.child,null,O),f.child=Zs(f,null,g,O)):Ti(u,f,g,O),f.memoizedState=j.state,u=f.child):u=$o(u,f,O),u}function nI(u,f,g,S){return Gr(),f.flags|=256,Ti(u,f,g,S),f.child}var fb={dehydrated:null,treeContext:null,retryLane:0};function db(u){return{baseLanes:u,cachePool:iO()}}function hb(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=os),u}function rI(u,f,g){var S=f.pendingProps,O=!1,j=(f.flags&128)!==0,le;if((le=j)||(le=u!==null&&u.memoizedState===null?!1:(oi.current&2)!==0),le&&(O=!0,f.flags&=-129),le=(f.flags&32)!==0,f.flags&=-33,u===null){if(ve){if(O?$u(f):Uu(),ve){var Ce=te,Ve;if(Ve=Ce){e:{for(Ve=Ce,Ce=ot;Ve.nodeType!==8;){if(!Ce){Ce=null;break e}if(Ve=Ts(Ve.nextSibling),Ve===null){Ce=null;break e}}Ce=Ve}Ce!==null?(f.memoizedState={dehydrated:Ce,treeContext:Mo!==null?{id:ts,overflow:ns}:null,retryLane:536870912},Ve=ss(18,null,null,0),Ve.stateNode=Ce,Ve.return=f,f.child=Ve,B=f,te=null,Ve=!0):Ve=!1}Ve||St(f)}if(Ce=f.memoizedState,Ce!==null&&(Ce=Ce.dehydrated,Ce!==null))return Ce.data==="$!"?f.lanes=16:f.lanes=536870912,null;Fo(f)}return Ce=S.children,S=S.fallback,O?(Uu(),O=f.mode,Ce=gb({mode:"hidden",children:Ce},O),S=sc(S,O,g,null),Ce.return=f,S.return=f,Ce.sibling=S,f.child=Ce,O=f.child,O.memoizedState=db(g),O.childLanes=hb(u,le,g),f.memoizedState=fb,S):($u(f),pb(f,Ce))}if(Ve=u.memoizedState,Ve!==null&&(Ce=Ve.dehydrated,Ce!==null)){if(j)f.flags&256?($u(f),f.flags&=-257,f=mb(u,f,g)):f.memoizedState!==null?(Uu(),f.child=u.child,f.flags|=128,f=null):(Uu(),O=S.fallback,Ce=f.mode,S=gb({mode:"visible",children:S.children},Ce),O=sc(O,Ce,g,null),O.flags|=2,S.return=f,O.return=f,S.sibling=O,f.child=S,Zs(f,u.child,null,g),S=f.child,S.memoizedState=db(g),S.childLanes=hb(u,le,g),f.memoizedState=fb,f=O);else if($u(f),Ce.data==="$!"){if(le=Ce.nextSibling&&Ce.nextSibling.dataset,le)var at=le.dgst;le=at,S=Error(r(419)),S.stack="",S.digest=le,Pr({value:S,source:null,stack:null}),f=mb(u,f,g)}else if(mi||zh(u,f,g,!1),le=(g&u.childLanes)!==0,mi||le){if(le=br,le!==null){if(S=g&-g,S&42)S=1;else switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=64;break;case 268435456:S=134217728;break;default:S=0}if(S=S&(le.suspendedLanes|g)?0:S,S!==0&&S!==Ve.retryLane)throw Ve.retryLane=S,_a(u,S),ia(le,u,S),WO}Ce.data==="$?"||Hb(),f=mb(u,f,g)}else Ce.data==="$?"?(f.flags|=128,f.child=u.child,f=Y7.bind(null,u),Ce._reactRetry=f,f=null):(u=Ve.treeContext,te=Ts(Ce.nextSibling),B=f,ve=!0,Ge=null,ot=!1,u!==null&&(na[ra++]=ts,na[ra++]=ns,na[ra++]=Mo,ts=u.id,ns=u.overflow,Mo=f),f=pb(f,S.children),f.flags|=4096);return f}return O?(Uu(),O=S.fallback,Ce=f.mode,Ve=u.child,at=Ve.sibling,S=Zu(Ve,{mode:"hidden",children:S.children}),S.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?O=Zu(at,O):(O=sc(O,Ce,g,null),O.flags|=2),O.return=f,S.return=f,S.sibling=O,f.child=S,S=O,O=f.child,Ce=u.child.memoizedState,Ce===null?Ce=db(g):(Ve=Ce.cachePool,Ve!==null?(at=ui._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=iO(),Ce={baseLanes:Ce.baseLanes|g,cachePool:Ve}),O.memoizedState=Ce,O.childLanes=hb(u,le,g),f.memoizedState=fb,S):($u(f),g=u.child,u=g.sibling,g=Zu(g,{mode:"visible",children:S.children}),g.return=f,g.sibling=null,u!==null&&(le=f.deletions,le===null?(f.deletions=[u],f.flags|=16):le.push(u)),f.child=g,f.memoizedState=null,g)}function pb(u,f){return f=gb({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function gb(u,f){return PI(u,f,0,null)}function mb(u,f,g){return Zs(f,u.child,null,g),u=pb(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function iI(u,f,g){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),wb(u.return,f,g)}function yb(u,f,g,S,O){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:O}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=S,j.tail=g,j.tailMode=O)}function aI(u,f,g){var S=f.pendingProps,O=S.revealOrder,j=S.tail;if(Ti(u,f,S.children,g),S=oi.current,S&2)S=S&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&iI(u,g,f);else if(u.tag===19)iI(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}switch(Xe(oi,S),O){case"forwards":for(g=f.child,O=null;g!==null;)u=g.alternate,u!==null&&cy(u)===null&&(O=g),g=g.sibling;g=O,g===null?(O=f.child,f.child=null):(O=g.sibling,g.sibling=null),yb(f,!1,O,g,j);break;case"backwards":for(g=null,O=f.child,f.child=null;O!==null;){if(u=O.alternate,u!==null&&cy(u)===null){f.child=O;break}u=O.sibling,O.sibling=g,g=O,O=u}yb(f,!0,g,null,j);break;case"together":yb(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function $o(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Ju|=f.lanes,!(g&f.childLanes))if(u!==null){if(zh(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=Zu(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=Zu(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function vb(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&Sy(u)))}function j7(u,f,g){switch(f.tag){case 3:W(f,f.stateNode.containerInfo),zu(f,ui,u.memoizedState.cache),Gr();break;case 27:case 5:ye(f);break;case 4:W(f,f.stateNode.containerInfo);break;case 10:zu(f,f.type,f.memoizedProps.value);break;case 13:var S=f.memoizedState;if(S!==null)return S.dehydrated!==null?($u(f),f.flags|=128,null):g&f.child.childLanes?rI(u,f,g):($u(f),u=$o(u,f,g),u!==null?u.sibling:null);$u(f);break;case 19:var O=(u.flags&128)!==0;if(S=(g&f.childLanes)!==0,S||(zh(u,f,g,!1),S=(g&f.childLanes)!==0),O){if(S)return aI(u,f,g);f.flags|=128}if(O=f.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Xe(oi,oi.current),S)break;return null;case 22:case 23:return f.lanes=0,YO(u,f,g);case 24:zu(f,ui,u.memoizedState.cache)}return $o(u,f,g)}function sI(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)mi=!0;else{if(!vb(u,g)&&!(f.flags&128))return mi=!1,j7(u,f,g);mi=!!(u.flags&131072)}else mi=!1,ve&&f.flags&1048576&&d(f,Zl,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var S=f.elementType,O=S._init;if(S=O(S._payload),f.type=S,typeof S=="function")Lb(S)?(u=nc(S,u),f.tag=1,f=tI(null,f,S,u,g)):(f.tag=0,f=cb(null,f,S,u,g));else{if(S!=null){if(O=S.$$typeof,O===v){f.tag=11,f=QO(null,f,S,u,g);break e}else if(O===b){f.tag=14,f=ZO(null,f,S,u,g);break e}}throw f=Z(S)||S,Error(r(306,f,""))}}return f;case 0:return cb(u,f,f.type,f.pendingProps,g);case 1:return S=f.type,O=nc(S,f.pendingProps),tI(u,f,S,O,g);case 3:e:{if(W(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var j=f.pendingProps;O=f.memoizedState,S=O.element,xb(u,f),Kh(f,j,null,g);var le=f.memoizedState;if(j=le.cache,zu(f,ui,j),j!==O.cache&&bb(f,[ui],g,!0),Vh(),j=le.element,O.isDehydrated)if(O={element:j,isDehydrated:!1,cache:le.cache},f.updateQueue.baseState=O,f.memoizedState=O,f.flags&256){f=nI(u,f,j,g);break e}else if(j!==S){S=ta(Error(r(424)),f),Pr(S),f=nI(u,f,j,g);break e}else for(te=Ts(f.stateNode.containerInfo.firstChild),B=f,ve=!0,Ge=null,ot=!0,g=uy(f,null,j,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Gr(),j===S){f=$o(u,f,g);break e}Ti(u,f,j,g)}f=f.child}return f;case 26:return qh(u,f),u===null?(g=lL(f.type,null,f.pendingProps,null))?f.memoizedState=g:ve||(g=f.type,u=f.pendingProps,S=jy($.current).createElement(g),S[it]=f,S[Tt]=u,Ci(S,g,u),qn(S),f.stateNode=S):f.memoizedState=lL(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ye(f),u===null&&ve&&(S=f.stateNode=sL(f.type,f.pendingProps,$.current),B=f,ot=!0,te=Ts(S.firstChild)),S=f.pendingProps.children,u!==null||ve?Ti(u,f,S,g):f.child=Zs(f,null,S,g),qh(u,f),f.child;case 5:return u===null&&ve&&((O=S=te)&&(S=pV(S,f.type,f.pendingProps,ot),S!==null?(f.stateNode=S,B=f,te=Ts(S.firstChild),ot=!1,O=!0):O=!1),O||St(f)),ye(f),O=f.type,j=f.pendingProps,le=u!==null?u.memoizedProps:null,S=j.children,i1(O,j)?S=null:le!==null&&i1(O,le)&&(f.flags|=32),f.memoizedState!==null&&(O=Kw(u,f,I7,null,null,g),op._currentValue=O),qh(u,f),Ti(u,f,S,g),f.child;case 6:return u===null&&ve&&((u=g=te)&&(g=gV(g,f.pendingProps,ot),g!==null?(f.stateNode=g,B=f,te=null,u=!0):u=!1),u||St(f)),null;case 13:return rI(u,f,g);case 4:return W(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=Zs(f,null,S,g):Ti(u,f,S,g),f.child;case 11:return QO(u,f,f.type,f.pendingProps,g);case 7:return Ti(u,f,f.pendingProps,g),f.child;case 8:return Ti(u,f,f.pendingProps.children,g),f.child;case 12:return Ti(u,f,f.pendingProps.children,g),f.child;case 10:return S=f.pendingProps,zu(f,f.type,S.value),Ti(u,f,S.children,g),f.child;case 9:return O=f.type._context,S=f.pendingProps.children,ic(f),O=Ui(O),S=S(O),f.flags|=1,Ti(u,f,S,g),f.child;case 14:return ZO(u,f,f.type,f.pendingProps,g);case 15:return JO(u,f,f.type,f.pendingProps,g);case 19:return aI(u,f,g);case 22:return YO(u,f,g);case 24:return ic(f),S=Ui(ui),u===null?(O=Hw(),O===null&&(O=br,j=qw(),O.pooledCache=j,j.refCount++,j!==null&&(O.pooledCacheLanes|=g),O=j),f.memoizedState={parent:S,cache:O},Sb(f),zu(f,ui,O)):(u.lanes&g&&(xb(u,f),Kh(f,null,null,g),Vh()),O=u.memoizedState,j=f.memoizedState,O.parent!==S?(O={parent:S,cache:S},f.memoizedState=O,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=O),zu(f,ui,S)):(S=j.cache,zu(f,ui,S),S!==O.cache&&bb(f,[ui],g,!0))),Ti(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var _b=Re(null),rc=null,Uo=null;function zu(u,f,g){Xe(_b,f._currentValue),f._currentValue=g}function Bo(u){u._currentValue=_b.current,Fe(_b)}function wb(u,f,g){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===g)break;u=u.return}}function bb(u,f,g,S){var O=u.child;for(O!==null&&(O.return=u);O!==null;){var j=O.dependencies;if(j!==null){var le=O.child;j=j.firstContext;e:for(;j!==null;){var Ce=j;j=O;for(var Ve=0;Ve<f.length;Ve++)if(Ce.context===f[Ve]){j.lanes|=g,Ce=j.alternate,Ce!==null&&(Ce.lanes|=g),wb(j.return,g,u),S||(le=null);break e}j=Ce.next}}else if(O.tag===18){if(le=O.return,le===null)throw Error(r(341));le.lanes|=g,j=le.alternate,j!==null&&(j.lanes|=g),wb(le,g,u),le=null}else le=O.child;if(le!==null)le.return=O;else for(le=O;le!==null;){if(le===u){le=null;break}if(O=le.sibling,O!==null){O.return=le.return,le=O;break}le=le.return}O=le}}function zh(u,f,g,S){u=null;for(var O=f,j=!1;O!==null;){if(!j){if(O.flags&524288)j=!0;else if(O.flags&262144)break}if(O.tag===10){var le=O.alternate;if(le===null)throw Error(r(387));if(le=le.memoizedProps,le!==null){var Ce=O.type;Yi(O.pendingProps.value,le.value)||(u!==null?u.push(Ce):u=[Ce])}}else if(O===ae.current){if(le=O.alternate,le===null)throw Error(r(387));le.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(u!==null?u.push(op):u=[op])}O=O.return}u!==null&&bb(f,u,g,S),f.flags|=262144}function Sy(u){for(u=u.firstContext;u!==null;){if(!Yi(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function ic(u){rc=u,Uo=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ui(u){return oI(rc,u)}function xy(u,f){return rc===null&&ic(u),oI(u,f)}function oI(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Uo===null){if(u===null)throw Error(r(308));Uo=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Uo=Uo.next=f;return g}var Hu=!1;function Sb(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xb(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Vu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ku(u,f,g){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,Mr&2){var O=S.pending;return O===null?f.next=f:(f.next=O.next,O.next=f),S.pending=f,f=Io(u),ry(u,null,g),f}return Wl(u,S,f,g),Io(u)}function Hh(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,Jn(u,g)}}function Eb(u,f){var g=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var O=null,j=null;if(g=g.firstBaseUpdate,g!==null){do{var le={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};j===null?O=j=le:j=j.next=le,g=g.next}while(g!==null);j===null?O=j=f:j=j.next=f}else O=j=f;g={baseState:S.baseState,firstBaseUpdate:O,lastBaseUpdate:j,shared:S.shared,callbacks:S.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var Tb=!1;function Vh(){if(Tb){var u=Of;if(u!==null)throw u}}function Kh(u,f,g,S){Tb=!1;var O=u.updateQueue;Hu=!1;var j=O.firstBaseUpdate,le=O.lastBaseUpdate,Ce=O.shared.pending;if(Ce!==null){O.shared.pending=null;var Ve=Ce,at=Ve.next;Ve.next=null,le===null?j=at:le.next=at,le=Ve;var _t=u.alternate;_t!==null&&(_t=_t.updateQueue,Ce=_t.lastBaseUpdate,Ce!==le&&(Ce===null?_t.firstBaseUpdate=at:Ce.next=at,_t.lastBaseUpdate=Ve))}if(j!==null){var At=O.baseState;le=0,_t=at=Ve=null,Ce=j;do{var pt=Ce.lane&-536870913,vt=pt!==Ce.lane;if(vt?(Bn&pt)===pt:(S&pt)===pt){pt!==0&&pt===Pf&&(Tb=!0),_t!==null&&(_t=_t.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Jt=u,yn=Ce;pt=f;var $r=g;switch(yn.tag){case 1:if(Jt=yn.payload,typeof Jt=="function"){At=Jt.call($r,At,pt);break e}At=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=yn.payload,pt=typeof Jt=="function"?Jt.call($r,At,pt):Jt,pt==null)break e;At=U({},At,pt);break e;case 2:Hu=!0}}pt=Ce.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=O.callbacks,vt===null?O.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},_t===null?(at=_t=vt,Ve=At):_t=_t.next=vt,le|=pt;if(Ce=Ce.next,Ce===null){if(Ce=O.shared.pending,Ce===null)break;vt=Ce,Ce=vt.next,vt.next=null,O.lastBaseUpdate=vt,O.shared.pending=null}}while(!0);_t===null&&(Ve=At),O.baseState=Ve,O.firstBaseUpdate=at,O.lastBaseUpdate=_t,j===null&&(O.shared.lanes=0),Ju|=le,u.lanes=le,u.memoizedState=At}}function uI(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function lI(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)uI(g[u],f)}function Gh(u,f){try{var g=f.updateQueue,S=g!==null?g.lastEffect:null;if(S!==null){var O=S.next;g=O;do{if((g.tag&u)===u){S=void 0;var j=g.create,le=g.inst;S=j(),le.destroy=S}g=g.next}while(g!==O)}}catch(Ce){vr(f,f.return,Ce)}}function Gu(u,f,g){try{var S=f.updateQueue,O=S!==null?S.lastEffect:null;if(O!==null){var j=O.next;S=j;do{if((S.tag&u)===u){var le=S.inst,Ce=le.destroy;if(Ce!==void 0){le.destroy=void 0,O=f;var Ve=g;try{Ce()}catch(at){vr(O,Ve,at)}}}S=S.next}while(S!==j)}}catch(at){vr(f,f.return,at)}}function cI(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{lI(f,g)}catch(S){vr(u,u.return,S)}}}function fI(u,f,g){g.props=nc(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(S){vr(u,f,S)}}function ac(u,f){try{var g=u.ref;if(g!==null){var S=u.stateNode;switch(u.tag){case 26:case 27:case 5:var O=S;break;default:O=S}typeof g=="function"?u.refCleanup=g(O):g.current=O}}catch(j){vr(u,f,j)}}function Da(u,f){var g=u.ref,S=u.refCleanup;if(g!==null)if(typeof S=="function")try{S()}catch(O){vr(u,f,O)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(O){vr(u,f,O)}else g.current=null}function dI(u){var f=u.type,g=u.memoizedProps,S=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&S.focus();break e;case"img":g.src?S.src=g.src:g.srcSet&&(S.srcset=g.srcSet)}}catch(O){vr(u,u.return,O)}}function hI(u,f,g){try{var S=u.stateNode;lV(S,u.type,g,f),S[Tt]=f}catch(O){vr(u,u.return,O)}}function pI(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function Cb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||pI(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Ab(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Fy));else if(S!==4&&S!==27&&(u=u.child,u!==null))for(Ab(u,f,g),u=u.sibling;u!==null;)Ab(u,f,g),u=u.sibling}function Ey(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(S!==4&&S!==27&&(u=u.child,u!==null))for(Ey(u,f,g),u=u.sibling;u!==null;)Ey(u,f,g),u=u.sibling}var qo=!1,Fr=!1,Rb=!1,gI=typeof WeakSet=="function"?WeakSet:Set,yi=null,mI=!1;function $7(u,f){if(u=u.containerInfo,n1=Hy,u=zl(u),Hl(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var O=S.anchorOffset,j=S.focusNode;S=S.focusOffset;try{g.nodeType,j.nodeType}catch{g=null;break e}var le=0,Ce=-1,Ve=-1,at=0,_t=0,At=u,pt=null;t:for(;;){for(var vt;At!==g||O!==0&&At.nodeType!==3||(Ce=le+O),At!==j||S!==0&&At.nodeType!==3||(Ve=le+S),At.nodeType===3&&(le+=At.nodeValue.length),(vt=At.firstChild)!==null;)pt=At,At=vt;for(;;){if(At===u)break t;if(pt===g&&++at===O&&(Ce=le),pt===j&&++_t===S&&(Ve=le),(vt=At.nextSibling)!==null)break;At=pt,pt=At.parentNode}At=vt}g=Ce===-1||Ve===-1?null:{start:Ce,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for(r1={focusedElem:u,selectionRange:g},Hy=!1,yi=f;yi!==null;)if(f=yi,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,yi=u;else for(;yi!==null;){switch(f=yi,j=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,g=f,O=j.memoizedProps,j=j.memoizedState,S=g.stateNode;try{var Jt=nc(g.type,O,g.elementType===g.type);u=S.getSnapshotBeforeUpdate(Jt,j),S.__reactInternalSnapshotBeforeUpdate=u}catch(yn){vr(g,g.return,yn)}}break;case 3:if(u&1024){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)o1(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":o1(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,yi=u;break}yi=f.return}return Jt=mI,mI=!1,Jt}function yI(u,f,g){var S=g.flags;switch(g.tag){case 0:case 11:case 15:Ho(u,g),S&4&&Gh(5,g);break;case 1:if(Ho(u,g),S&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(Ce){vr(g,g.return,Ce)}else{var O=nc(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(O,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Ce){vr(g,g.return,Ce)}}S&64&&cI(g),S&512&&ac(g,g.return);break;case 3:if(Ho(u,g),S&64&&(S=g.updateQueue,S!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{lI(S,u)}catch(Ce){vr(g,g.return,Ce)}}break;case 26:Ho(u,g),S&512&&ac(g,g.return);break;case 27:case 5:Ho(u,g),f===null&&S&4&&dI(g),S&512&&ac(g,g.return);break;case 12:Ho(u,g);break;case 13:Ho(u,g),S&4&&wI(u,g);break;case 22:if(O=g.memoizedState!==null||qo,!O){f=f!==null&&f.memoizedState!==null||Fr;var j=qo,le=Fr;qo=O,(Fr=f)&&!le?Wu(u,g,(g.subtreeFlags&8772)!==0):Ho(u,g),qo=j,Fr=le}S&512&&(g.memoizedProps.mode==="manual"?ac(g,g.return):Da(g,g.return));break;default:Ho(u,g)}}function vI(u){var f=u.alternate;f!==null&&(u.alternate=null,vI(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Pn(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ei=null,ka=!1;function zo(u,f,g){for(g=g.child;g!==null;)_I(u,f,g),g=g.sibling}function _I(u,f,g){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(ke,g)}catch{}switch(g.tag){case 26:Fr||Da(g,f),zo(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Fr||Da(g,f);var S=ei,O=ka;for(ei=g.stateNode,zo(u,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);Pn(g),ei=S,ka=O;break;case 5:Fr||Da(g,f);case 6:O=ei;var j=ka;if(ei=null,zo(u,f,g),ei=O,ka=j,ei!==null)if(ka)try{u=ei,S=g.stateNode,u.nodeType===8?u.parentNode.removeChild(S):u.removeChild(S)}catch(le){vr(g,f,le)}else try{ei.removeChild(g.stateNode)}catch(le){vr(g,f,le)}break;case 18:ei!==null&&(ka?(f=ei,g=g.stateNode,f.nodeType===8?s1(f.parentNode,g):f.nodeType===1&&s1(f,g),fp(f)):s1(ei,g.stateNode));break;case 4:S=ei,O=ka,ei=g.stateNode.containerInfo,ka=!0,zo(u,f,g),ei=S,ka=O;break;case 0:case 11:case 14:case 15:Fr||Gu(2,g,f),Fr||Gu(4,g,f),zo(u,f,g);break;case 1:Fr||(Da(g,f),S=g.stateNode,typeof S.componentWillUnmount=="function"&&fI(g,f,S)),zo(u,f,g);break;case 21:zo(u,f,g);break;case 22:Fr||Da(g,f),Fr=(S=Fr)||g.memoizedState!==null,zo(u,f,g),Fr=S;break;default:zo(u,f,g)}}function wI(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{fp(u)}catch(g){vr(f,f.return,g)}}function U7(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new gI),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new gI),f;default:throw Error(r(435,u.tag))}}function Pb(u,f){var g=U7(u);f.forEach(function(S){var O=X7.bind(null,u,S);g.has(S)||(g.add(S),S.then(O,O))})}function is(u,f){var g=f.deletions;if(g!==null)for(var S=0;S<g.length;S++){var O=g[S],j=u,le=f,Ce=le;e:for(;Ce!==null;){switch(Ce.tag){case 27:case 5:ei=Ce.stateNode,ka=!1;break e;case 3:ei=Ce.stateNode.containerInfo,ka=!0;break e;case 4:ei=Ce.stateNode.containerInfo,ka=!0;break e}Ce=Ce.return}if(ei===null)throw Error(r(160));_I(j,le,O),ei=null,ka=!1,j=O.alternate,j!==null&&(j.return=null),O.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)bI(f,u),f=f.sibling}var Es=null;function bI(u,f){var g=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:is(f,u),as(u),S&4&&(Gu(3,u,u.return),Gh(3,u),Gu(5,u,u.return));break;case 1:is(f,u),as(u),S&512&&(Fr||g===null||Da(g,g.return)),S&64&&qo&&(u=u.updateQueue,u!==null&&(S=u.callbacks,S!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?S:g.concat(S))));break;case 26:var O=Es;if(is(f,u),as(u),S&512&&(Fr||g===null||Da(g,g.return)),S&4){var j=g!==null?g.memoizedState:null;if(S=u.memoizedState,g===null)if(S===null)if(u.stateNode===null){e:{S=u.type,g=u.memoizedProps,O=O.ownerDocument||O;t:switch(S){case"title":j=O.getElementsByTagName("title")[0],(!j||j[tn]||j[it]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=O.createElement(S),O.head.insertBefore(j,O.querySelector("head > title"))),Ci(j,S,g),j[it]=u,qn(j),S=j;break e;case"link":var le=dL("link","href",O).get(S+(g.href||""));if(le){for(var Ce=0;Ce<le.length;Ce++)if(j=le[Ce],j.getAttribute("href")===(g.href==null?null:g.href)&&j.getAttribute("rel")===(g.rel==null?null:g.rel)&&j.getAttribute("title")===(g.title==null?null:g.title)&&j.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){le.splice(Ce,1);break t}}j=O.createElement(S),Ci(j,S,g),O.head.appendChild(j);break;case"meta":if(le=dL("meta","content",O).get(S+(g.content||""))){for(Ce=0;Ce<le.length;Ce++)if(j=le[Ce],j.getAttribute("content")===(g.content==null?null:""+g.content)&&j.getAttribute("name")===(g.name==null?null:g.name)&&j.getAttribute("property")===(g.property==null?null:g.property)&&j.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&j.getAttribute("charset")===(g.charSet==null?null:g.charSet)){le.splice(Ce,1);break t}}j=O.createElement(S),Ci(j,S,g),O.head.appendChild(j);break;default:throw Error(r(468,S))}j[it]=u,qn(j),S=j}u.stateNode=S}else hL(O,u.type,u.stateNode);else u.stateNode=fL(O,S,u.memoizedProps);else j!==S?(j===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):j.count--,S===null?hL(O,u.type,u.stateNode):fL(O,S,u.memoizedProps)):S===null&&u.stateNode!==null&&hI(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(S&4&&u.alternate===null){O=u.stateNode,j=u.memoizedProps;try{for(var Ve=O.firstChild;Ve;){var at=Ve.nextSibling,_t=Ve.nodeName;Ve[tn]||_t==="HEAD"||_t==="BODY"||_t==="SCRIPT"||_t==="STYLE"||_t==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||O.removeChild(Ve),Ve=at}for(var At=u.type,pt=O.attributes;pt.length;)O.removeAttributeNode(pt[0]);Ci(O,At,j),O[it]=u,O[Tt]=j}catch(Jt){vr(u,u.return,Jt)}}case 5:if(is(f,u),as(u),S&512&&(Fr||g===null||Da(g,g.return)),u.flags&32){O=u.stateNode;try{Ue(O,"")}catch(Jt){vr(u,u.return,Jt)}}S&4&&u.stateNode!=null&&(O=u.memoizedProps,hI(u,O,g!==null?g.memoizedProps:O)),S&1024&&(Rb=!0);break;case 6:if(is(f,u),as(u),S&4){if(u.stateNode===null)throw Error(r(162));S=u.memoizedProps,g=u.stateNode;try{g.nodeValue=S}catch(Jt){vr(u,u.return,Jt)}}break;case 3:if(By=null,O=Es,Es=$y(f.containerInfo),is(f,u),Es=O,as(u),S&4&&g!==null&&g.memoizedState.isDehydrated)try{fp(f.containerInfo)}catch(Jt){vr(u,u.return,Jt)}Rb&&(Rb=!1,SI(u));break;case 4:S=Es,Es=$y(u.stateNode.containerInfo),is(f,u),as(u),Es=S;break;case 12:is(f,u),as(u);break;case 13:is(f,u),as(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(jb=qt()),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,Pb(u,S)));break;case 22:if(S&512&&(Fr||g===null||Da(g,g.return)),Ve=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,_t=qo,At=Fr,qo=_t||Ve,Fr=At||at,is(f,u),Fr=At,qo=_t,as(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,S&8192&&(f._visibility=Ve?f._visibility&-2:f._visibility|1,Ve&&(f=qo||Fr,g===null||at||f||Df(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){at=g=f;try{if(O=at.stateNode,Ve)j=O.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{le=at.stateNode,Ce=at.memoizedProps.style;var vt=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;le.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Jt){vr(at,at.return,Jt)}}}else if(f.tag===6){if(g===null){at=f;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Jt){vr(at,at.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}S&4&&(S=u.updateQueue,S!==null&&(g=S.retryQueue,g!==null&&(S.retryQueue=null,Pb(u,g))));break;case 19:is(f,u),as(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,Pb(u,S)));break;case 21:break;default:is(f,u),as(u)}}function as(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(pI(g)){var S=g;break e}g=g.return}throw Error(r(160))}switch(S.tag){case 27:var O=S.stateNode,j=Cb(u);Ey(u,j,O);break;case 5:var le=S.stateNode;S.flags&32&&(Ue(le,""),S.flags&=-33);var Ce=Cb(u);Ey(u,Ce,le);break;case 3:case 4:var Ve=S.stateNode.containerInfo,at=Cb(u);Ab(u,at,Ve);break;default:throw Error(r(161))}}}catch(_t){vr(u,u.return,_t)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function SI(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;SI(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Ho(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)yI(u,f.alternate,f),f=f.sibling}function Df(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Gu(4,f,f.return),Df(f);break;case 1:Da(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&fI(f,f.return,g),Df(f);break;case 26:case 27:case 5:Da(f,f.return),Df(f);break;case 22:Da(f,f.return),f.memoizedState===null&&Df(f);break;default:Df(f)}u=u.sibling}}function Wu(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var S=f.alternate,O=u,j=f,le=j.flags;switch(j.tag){case 0:case 11:case 15:Wu(O,j,g),Gh(4,j);break;case 1:if(Wu(O,j,g),S=j,O=S.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(at){vr(S,S.return,at)}if(S=j,O=S.updateQueue,O!==null){var Ce=S.stateNode;try{var Ve=O.shared.hiddenCallbacks;if(Ve!==null)for(O.shared.hiddenCallbacks=null,O=0;O<Ve.length;O++)uI(Ve[O],Ce)}catch(at){vr(S,S.return,at)}}g&&le&64&&cI(j),ac(j,j.return);break;case 26:case 27:case 5:Wu(O,j,g),g&&S===null&&le&4&&dI(j),ac(j,j.return);break;case 12:Wu(O,j,g);break;case 13:Wu(O,j,g),g&&le&4&&wI(O,j);break;case 22:j.memoizedState===null&&Wu(O,j,g),ac(j,j.return);break;default:Wu(O,j,g)}f=f.sibling}}function Ob(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&Fh(g))}function Ib(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Fh(u))}function Qu(u,f,g,S){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)xI(u,f,g,S),f=f.sibling}function xI(u,f,g,S){var O=f.flags;switch(f.tag){case 0:case 11:case 15:Qu(u,f,g,S),O&2048&&Gh(9,f);break;case 3:Qu(u,f,g,S),O&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Fh(u)));break;case 12:if(O&2048){Qu(u,f,g,S),u=f.stateNode;try{var j=f.memoizedProps,le=j.id,Ce=j.onPostCommit;typeof Ce=="function"&&Ce(le,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){vr(f,f.return,Ve)}}else Qu(u,f,g,S);break;case 23:break;case 22:j=f.stateNode,f.memoizedState!==null?j._visibility&4?Qu(u,f,g,S):Wh(u,f):j._visibility&4?Qu(u,f,g,S):(j._visibility|=4,kf(u,f,g,S,(f.subtreeFlags&10256)!==0)),O&2048&&Ob(f.alternate,f);break;case 24:Qu(u,f,g,S),O&2048&&Ib(f.alternate,f);break;default:Qu(u,f,g,S)}}function kf(u,f,g,S,O){for(O=O&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var j=u,le=f,Ce=g,Ve=S,at=le.flags;switch(le.tag){case 0:case 11:case 15:kf(j,le,Ce,Ve,O),Gh(8,le);break;case 23:break;case 22:var _t=le.stateNode;le.memoizedState!==null?_t._visibility&4?kf(j,le,Ce,Ve,O):Wh(j,le):(_t._visibility|=4,kf(j,le,Ce,Ve,O)),O&&at&2048&&Ob(le.alternate,le);break;case 24:kf(j,le,Ce,Ve,O),O&&at&2048&&Ib(le.alternate,le);break;default:kf(j,le,Ce,Ve,O)}f=f.sibling}}function Wh(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,S=f,O=S.flags;switch(S.tag){case 22:Wh(g,S),O&2048&&Ob(S.alternate,S);break;case 24:Wh(g,S),O&2048&&Ib(S.alternate,S);break;default:Wh(g,S)}f=f.sibling}}var Qh=8192;function Nf(u){if(u.subtreeFlags&Qh)for(u=u.child;u!==null;)EI(u),u=u.sibling}function EI(u){switch(u.tag){case 26:Nf(u),u.flags&Qh&&u.memoizedState!==null&&RV(Es,u.memoizedState,u.memoizedProps);break;case 5:Nf(u);break;case 3:case 4:var f=Es;Es=$y(u.stateNode.containerInfo),Nf(u),Es=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Qh,Qh=16777216,Nf(u),Qh=f):Nf(u));break;default:Nf(u)}}function TI(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Zh(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var S=f[g];yi=S,AI(S,u)}TI(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)CI(u),u=u.sibling}function CI(u){switch(u.tag){case 0:case 11:case 15:Zh(u),u.flags&2048&&Gu(9,u,u.return);break;case 3:Zh(u);break;case 12:Zh(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,Ty(u)):Zh(u);break;default:Zh(u)}}function Ty(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var S=f[g];yi=S,AI(S,u)}TI(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Gu(8,f,f.return),Ty(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,Ty(f));break;default:Ty(f)}u=u.sibling}}function AI(u,f){for(;yi!==null;){var g=yi;switch(g.tag){case 0:case 11:case 15:Gu(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var S=g.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:Fh(g.memoizedState.cache)}if(S=g.child,S!==null)S.return=g,yi=S;else e:for(g=u;yi!==null;){S=yi;var O=S.sibling,j=S.return;if(vI(S),S===g){yi=null;break e}if(O!==null){O.return=j,yi=O;break e}yi=j}}}function B7(u,f,g,S){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(u,f,g,S){return new B7(u,f,g,S)}function Lb(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Zu(u,f){var g=u.alternate;return g===null?(g=ss(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function RI(u,f){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Cy(u,f,g,S,O,j){var le=0;if(S=u,typeof u=="function")Lb(u)&&(le=1);else if(typeof u=="string")le=CV(u,g,se.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return sc(g.children,O,j,f);case c:le=8,O|=24;break;case h:return u=ss(12,g,f,O|2),u.elementType=h,u.lanes=j,u;case w:return u=ss(13,g,f,O),u.elementType=w,u.lanes=j,u;case E:return u=ss(19,g,f,O),u.elementType=E,u.lanes=j,u;case A:return PI(g,O,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case p:case y:le=10;break e;case m:le=9;break e;case v:le=11;break e;case b:le=14;break e;case x:le=16,S=null;break e}le=29,g=Error(r(130,u===null?"null":typeof u,"")),S=null}return f=ss(le,g,f,O),f.elementType=u,f.type=S,f.lanes=j,f}function sc(u,f,g,S){return u=ss(7,u,S,f),u.lanes=g,u}function PI(u,f,g,S){u=ss(22,u,S,f),u.elementType=A,u.lanes=g;var O={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=O._current;if(j===null)throw Error(r(456));if(!(O._pendingVisibility&2)){var le=_a(j,2);le!==null&&(O._pendingVisibility|=2,ia(le,j,2))}},attach:function(){var j=O._current;if(j===null)throw Error(r(456));if(O._pendingVisibility&2){var le=_a(j,2);le!==null&&(O._pendingVisibility&=-3,ia(le,j,2))}}};return u.stateNode=O,u}function Mb(u,f,g){return u=ss(6,u,null,f),u.lanes=g,u}function Db(u,f,g){return f=ss(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function Vo(u){u.flags|=4}function OI(u,f){if(f.type!=="stylesheet"||f.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!pL(f)){if(f=rs.current,f!==null&&((Bn&4194176)===Bn?Js!==null:(Bn&62914560)!==Bn&&!(Bn&536870912)||f!==Js))throw ju=Qs,Ei;u.flags|=8192}}function Ay(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?qe():536870912,u.lanes|=f,jf|=f)}function Jh(u,f){if(!ve)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function Lr(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,S=0;if(f)for(var O=u.child;O!==null;)g|=O.lanes|O.childLanes,S|=O.subtreeFlags&31457280,S|=O.flags&31457280,O.return=u,O=O.sibling;else for(O=u.child;O!==null;)g|=O.lanes|O.childLanes,S|=O.subtreeFlags,S|=O.flags,O.return=u,O=O.sibling;return u.subtreeFlags|=S,u.childLanes=g,f}function q7(u,f,g){var S=f.pendingProps;switch(P(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(f),null;case 1:return Lr(f),null;case 3:return g=f.stateNode,S=null,u!==null&&(S=u.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),Bo(ui),de(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(mn(f)?Vo(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ge!==null&&(qb(Ge),Ge=null))),Lr(f),null;case 26:return g=f.memoizedState,u===null?(Vo(f),g!==null?(Lr(f),OI(f,g)):(Lr(f),f.flags&=-16777217)):g?g!==u.memoizedState?(Vo(f),Lr(f),OI(f,g)):(Lr(f),f.flags&=-16777217):(u.memoizedProps!==S&&Vo(f),Lr(f),f.flags&=-16777217),null;case 27:He(f),g=$.current;var O=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==S&&Vo(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Lr(f),null}u=se.current,mn(f)?Ut(f):(u=sL(O,S,g),f.stateNode=u,Vo(f))}return Lr(f),null;case 5:if(He(f),g=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==S&&Vo(f);else{if(!S){if(f.stateNode===null)throw Error(r(166));return Lr(f),null}if(u=se.current,mn(f))Ut(f);else{switch(O=jy($.current),u){case 1:u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=O.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=O.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=O.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof S.is=="string"?O.createElement("select",{is:S.is}):O.createElement("select"),S.multiple?u.multiple=!0:S.size&&(u.size=S.size);break;default:u=typeof S.is=="string"?O.createElement(g,{is:S.is}):O.createElement(g)}}u[it]=f,u[Tt]=S;e:for(O=f.child;O!==null;){if(O.tag===5||O.tag===6)u.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===f)break e;for(;O.sibling===null;){if(O.return===null||O.return===f)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}f.stateNode=u;e:switch(Ci(u,g,S),g){case"button":case"input":case"select":case"textarea":u=!!S.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Vo(f)}}return Lr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==S&&Vo(f);else{if(typeof S!="string"&&f.stateNode===null)throw Error(r(166));if(u=$.current,mn(f)){if(u=f.stateNode,g=f.memoizedProps,S=null,O=B,O!==null)switch(O.tag){case 27:case 5:S=O.memoizedProps}u[it]=f,u=!!(u.nodeValue===g||S!==null&&S.suppressHydrationWarning===!0||eL(u.nodeValue,g)),u||St(f)}else u=jy(u).createTextNode(S),u[it]=f,f.stateNode=u}return Lr(f),null;case 13:if(S=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(O=mn(f),S!==null&&S.dehydrated!==null){if(u===null){if(!O)throw Error(r(318));if(O=f.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[it]=f}else Gr(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Lr(f),O=!1}else Ge!==null&&(qb(Ge),Ge=null),O=!0;if(!O)return f.flags&256?(Fo(f),f):(Fo(f),null)}if(Fo(f),f.flags&128)return f.lanes=g,f;if(g=S!==null,u=u!==null&&u.memoizedState!==null,g){S=f.child,O=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(O=S.alternate.memoizedState.cachePool.pool);var j=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(j=S.memoizedState.cachePool.pool),j!==O&&(S.flags|=2048)}return g!==u&&g&&(f.child.flags|=8192),Ay(f,f.updateQueue),Lr(f),null;case 4:return de(),u===null&&Xb(f.stateNode.containerInfo),Lr(f),null;case 10:return Bo(f.type),Lr(f),null;case 19:if(Fe(oi),O=f.memoizedState,O===null)return Lr(f),null;if(S=(f.flags&128)!==0,j=O.rendering,j===null)if(S)Jh(O,!1);else{if(jr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=cy(u),j!==null){for(f.flags|=128,Jh(O,!1),u=j.updateQueue,f.updateQueue=u,Ay(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)RI(g,u),g=g.sibling;return Xe(oi,oi.current&1|2),f.child}u=u.sibling}O.tail!==null&&qt()>Ry&&(f.flags|=128,S=!0,Jh(O,!1),f.lanes=4194304)}else{if(!S)if(u=cy(j),u!==null){if(f.flags|=128,S=!0,u=u.updateQueue,f.updateQueue=u,Ay(f,u),Jh(O,!0),O.tail===null&&O.tailMode==="hidden"&&!j.alternate&&!ve)return Lr(f),null}else 2*qt()-O.renderingStartTime>Ry&&g!==536870912&&(f.flags|=128,S=!0,Jh(O,!1),f.lanes=4194304);O.isBackwards?(j.sibling=f.child,f.child=j):(u=O.last,u!==null?u.sibling=j:f.child=j,O.last=j)}return O.tail!==null?(f=O.tail,O.rendering=f,O.tail=f.sibling,O.renderingStartTime=qt(),f.sibling=null,u=oi.current,Xe(oi,S?u&1|2:u&1),f):(Lr(f),null);case 22:case 23:return Fo(f),Bw(),S=f.memoizedState!==null,u!==null?u.memoizedState!==null!==S&&(f.flags|=8192):S&&(f.flags|=8192),S?g&536870912&&!(f.flags&128)&&(Lr(f),f.subtreeFlags&6&&(f.flags|=8192)):Lr(f),g=f.updateQueue,g!==null&&Ay(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),S=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),S!==g&&(f.flags|=2048),u!==null&&Fe(Yl),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),Bo(ui),Lr(f),null;case 25:return null}throw Error(r(156,f.tag))}function z7(u,f){switch(P(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Bo(ui),de(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 13:if(Fo(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Gr()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Fe(oi),null;case 4:return de(),null;case 10:return Bo(f.type),null;case 22:case 23:return Fo(f),Bw(),u!==null&&Fe(Yl),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Bo(ui),null;case 25:return null;default:return null}}function II(u,f){switch(P(f),f.tag){case 3:Bo(ui),de();break;case 26:case 27:case 5:He(f);break;case 4:de();break;case 13:Fo(f);break;case 19:Fe(oi);break;case 10:Bo(f.type);break;case 22:case 23:Fo(f),Bw(),u!==null&&Fe(Yl);break;case 24:Bo(ui)}}var H7={getCacheForType:function(u){var f=Ui(ui),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g}},V7=typeof WeakMap=="function"?WeakMap:Map,Mr=0,br=null,Mn=null,Bn=0,Sr=0,Na=null,Ko=!1,Ff=!1,kb=!1,Go=0,jr=0,Ju=0,oc=0,Nb=0,os=0,jf=0,Yh=null,Xs=null,Fb=!1,jb=0,Ry=1/0,Py=null,Yu=null,Oy=!1,uc=null,Xh=0,$b=0,Ub=null,ep=0,Bb=null;function Fa(){if(Mr&2&&Bn!==0)return Bn&-Bn;if(X.T!==null){var u=Pf;return u!==0?u:Qb()}return Ee()}function LI(){os===0&&(os=!(Bn&536870912)||ve?Ie():536870912);var u=rs.current;return u!==null&&(u.flags|=32),os}function ia(u,f,g){(u===br&&Sr===2||u.cancelPendingCommit!==null)&&($f(u,0),Wo(u,Bn,os,!1)),Et(u,g),(!(Mr&2)||u!==br)&&(u===br&&(!(Mr&2)&&(oc|=g),jr===4&&Wo(u,Bn,os,!1)),eo(u))}function MI(u,f,g){if(Mr&6)throw Error(r(327));var S=!g&&(f&60)===0&&(f&u.expiredLanes)===0||Ln(u,f),O=S?W7(u,f):Vb(u,f,!0),j=S;do{if(O===0){Ff&&!S&&Wo(u,f,0,!1);break}else if(O===6)Wo(u,f,0,!Ko);else{if(g=u.current.alternate,j&&!K7(g)){O=Vb(u,f,!1),j=!1;continue}if(O===2){if(j=f,u.errorRecoveryDisabledLanes&j)var le=0;else le=u.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){f=le;e:{var Ce=u;O=Yh;var Ve=Ce.current.memoizedState.isDehydrated;if(Ve&&($f(Ce,le).flags|=256),le=Vb(Ce,le,!1),le!==2){if(kb&&!Ve){Ce.errorRecoveryDisabledLanes|=j,oc|=j,O=4;break e}j=Xs,Xs=O,j!==null&&qb(j)}O=le}if(j=!1,O!==2)continue}}if(O===1){$f(u,0),Wo(u,f,0,!0);break}e:{switch(S=u,O){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){Wo(S,f,os,!Ko);break e}break;case 2:Xs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(S.finishedWork=g,S.finishedLanes=f,(f&62914560)===f&&(j=jb+300-qt(),10<j)){if(Wo(S,f,os,!Ko),ln(S,0)!==0)break e;S.timeoutHandle=rL(DI.bind(null,S,g,Xs,Py,Fb,f,os,oc,jf,Ko,2,-0,0),j);break e}DI(S,g,Xs,Py,Fb,f,os,oc,jf,Ko,0,-0,0)}}break}while(!0);eo(u)}function qb(u){Xs===null?Xs=u:Xs.push.apply(Xs,u)}function DI(u,f,g,S,O,j,le,Ce,Ve,at,_t,At,pt){var vt=f.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(sp={stylesheets:null,count:0,unsuspend:AV},EI(f),f=PV(),f!==null)){u.cancelPendingCommit=f(BI.bind(null,u,g,S,O,le,Ce,Ve,1,At,pt)),Wo(u,j,le,!at);return}BI(u,g,S,O,le,Ce,Ve,_t,At,pt)}function K7(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var S=0;S<g.length;S++){var O=g[S],j=O.getSnapshot;O=O.value;try{if(!Yi(j(),O))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Wo(u,f,g,S){f&=~Nb,f&=~oc,u.suspendedLanes|=f,u.pingedLanes&=~f,S&&(u.warmLanes|=f),S=u.expirationTimes;for(var O=f;0<O;){var j=31-Pt(O),le=1<<j;S[j]=-1,O&=~le}g!==0&&Hn(u,g,f)}function Iy(){return Mr&6?!0:(tp(0),!1)}function zb(){if(Mn!==null){if(Sr===0)var u=Mn.return;else u=Mn,Uo=rc=null,Qw(u),ko=null,wr=0,u=Mn;for(;u!==null;)II(u.alternate,u),u=u.return;Mn=null}}function $f(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,fV(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),zb(),br=u,Mn=g=Zu(u.current,null),Bn=f,Sr=0,Na=null,Ko=!1,Ff=Ln(u,f),kb=!1,jf=os=Nb=oc=Ju=jr=0,Xs=Yh=null,Fb=!1,f&8&&(f|=f&32);var S=u.entangledLanes;if(S!==0)for(u=u.entanglements,S&=f;0<S;){var O=31-Pt(S),j=1<<O;f|=u[O],S&=~j}return Go=f,va(),g}function kI(u,f){Cn=null,X.H=Ys,f===gi?(f=sy(),Sr=3):f===Ei?(f=sy(),Sr=4):Sr=f===WO?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Na=f,Mn===null&&(jr=1,by(u,ta(f,u.current)))}function NI(){var u=X.H;return X.H=Ys,u===null?Ys:u}function FI(){var u=X.A;return X.A=H7,u}function Hb(){jr=4,Ko||(Bn&4194176)!==Bn&&rs.current!==null||(Ff=!0),!(Ju&134217727)&&!(oc&134217727)||br===null||Wo(br,Bn,os,!1)}function Vb(u,f,g){var S=Mr;Mr|=2;var O=NI(),j=FI();(br!==u||Bn!==f)&&(Py=null,$f(u,f)),f=!1;var le=jr;e:do try{if(Sr!==0&&Mn!==null){var Ce=Mn,Ve=Na;switch(Sr){case 8:zb(),le=6;break e;case 3:case 2:case 6:rs.current===null&&(f=!0);var at=Sr;if(Sr=0,Na=null,Uf(u,Ce,Ve,at),g&&Ff){le=0;break e}break;default:at=Sr,Sr=0,Na=null,Uf(u,Ce,Ve,at)}}G7(),le=jr;break}catch(_t){kI(u,_t)}while(!0);return f&&u.shellSuspendCounter++,Uo=rc=null,Mr=S,X.H=O,X.A=j,Mn===null&&(br=null,Bn=0,va()),le}function G7(){for(;Mn!==null;)jI(Mn)}function W7(u,f){var g=Mr;Mr|=2;var S=NI(),O=FI();br!==u||Bn!==f?(Py=null,Ry=qt()+500,$f(u,f)):Ff=Ln(u,f);e:do try{if(Sr!==0&&Mn!==null){f=Mn;var j=Na;t:switch(Sr){case 1:Sr=0,Na=null,Uf(u,f,j,1);break;case 2:if(iy(j)){Sr=0,Na=null,$I(f);break}f=function(){Sr===2&&br===u&&(Sr=7),eo(u)},j.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:iy(j)?(Sr=0,Na=null,$I(f)):(Sr=0,Na=null,Uf(u,f,j,7));break;case 5:var le=null;switch(Mn.tag){case 26:le=Mn.memoizedState;case 5:case 27:var Ce=Mn;if(!le||pL(le)){Sr=0,Na=null;var Ve=Ce.sibling;if(Ve!==null)Mn=Ve;else{var at=Ce.return;at!==null?(Mn=at,Ly(at)):Mn=null}break t}}Sr=0,Na=null,Uf(u,f,j,5);break;case 6:Sr=0,Na=null,Uf(u,f,j,6);break;case 8:zb(),jr=6;break e;default:throw Error(r(462))}}Q7();break}catch(_t){kI(u,_t)}while(!0);return Uo=rc=null,X.H=S,X.A=O,Mr=g,Mn!==null?0:(br=null,Bn=0,va(),jr)}function Q7(){for(;Mn!==null&&!nt();)jI(Mn)}function jI(u){var f=sI(u.alternate,u,Go);u.memoizedProps=u.pendingProps,f===null?Ly(u):Mn=f}function $I(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=eI(g,f,f.pendingProps,f.type,void 0,Bn);break;case 11:f=eI(g,f,f.pendingProps,f.type.render,f.ref,Bn);break;case 5:Qw(f);default:II(g,f),f=Mn=RI(f,Go),f=sI(g,f,Go)}u.memoizedProps=u.pendingProps,f===null?Ly(u):Mn=f}function Uf(u,f,g,S){Uo=rc=null,Qw(f),ko=null,wr=0;var O=f.return;try{if(F7(u,O,f,g,Bn)){jr=1,by(u,ta(g,u.current)),Mn=null;return}}catch(j){if(O!==null)throw Mn=O,j;jr=1,by(u,ta(g,u.current)),Mn=null;return}f.flags&32768?(ve||S===1?u=!0:Ff||Bn&536870912?u=!1:(Ko=u=!0,(S===2||S===3||S===6)&&(S=rs.current,S!==null&&S.tag===13&&(S.flags|=16384))),UI(f,u)):Ly(f)}function Ly(u){var f=u;do{if(f.flags&32768){UI(f,Ko);return}u=f.return;var g=q7(f.alternate,f,Go);if(g!==null){Mn=g;return}if(f=f.sibling,f!==null){Mn=f;return}Mn=f=u}while(f!==null);jr===0&&(jr=5)}function UI(u,f){do{var g=z7(u.alternate,u);if(g!==null){g.flags&=32767,Mn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){Mn=u;return}Mn=u=g}while(u!==null);jr=6,Mn=null}function BI(u,f,g,S,O,j,le,Ce,Ve,at){var _t=X.T,At=Y.p;try{Y.p=2,X.T=null,Z7(u,f,g,S,At,O,j,le,Ce,Ve,at)}finally{X.T=_t,Y.p=At}}function Z7(u,f,g,S,O,j,le,Ce){do Bf();while(uc!==null);if(Mr&6)throw Error(r(327));var Ve=u.finishedWork;if(S=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=kh,Mt(u,S,at,j,le,Ce),u===br&&(Mn=br=null,Bn=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||Oy||(Oy=!0,$b=at,Ub=g,eV(q,function(){return Bf(),null})),g=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||g?(g=X.T,X.T=null,j=Y.p,Y.p=2,le=Mr,Mr|=4,$7(u,Ve),bI(Ve,u),Sf(r1,u.containerInfo),Hy=!!n1,r1=n1=null,u.current=Ve,yI(u,Ve.alternate,Ve),gt(),Mr=le,Y.p=j,X.T=g):u.current=Ve,Oy?(Oy=!1,uc=u,Xh=S):qI(u,at),at=u.pendingLanes,at===0&&(Yu=null),It(Ve.stateNode),eo(u),f!==null)for(O=u.onRecoverableError,Ve=0;Ve<f.length;Ve++)at=f[Ve],O(at.value,{componentStack:at.stack});return Xh&3&&Bf(),at=u.pendingLanes,S&4194218&&at&42?u===Bb?ep++:(ep=0,Bb=u):ep=0,tp(0),null}function qI(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Fh(f)))}function Bf(){if(uc!==null){var u=uc,f=$b;$b=0;var g=We(Xh),S=X.T,O=Y.p;try{if(Y.p=32>g?32:g,X.T=null,uc===null)var j=!1;else{g=Ub,Ub=null;var le=uc,Ce=Xh;if(uc=null,Xh=0,Mr&6)throw Error(r(331));var Ve=Mr;if(Mr|=4,CI(le.current),xI(le,le.current,Ce,g),Mr=Ve,tp(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(ke,le)}catch{}j=!0}return j}finally{Y.p=O,X.T=S,qI(u,f)}}return!1}function zI(u,f,g){f=ta(g,f),f=lb(u.stateNode,f,2),u=Ku(u,f,2),u!==null&&(Et(u,2),eo(u))}function vr(u,f,g){if(u.tag===3)zI(u,u,g);else for(;f!==null;){if(f.tag===3){zI(f,u,g);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Yu===null||!Yu.has(S))){u=ta(g,u),g=KO(2),S=Ku(f,g,2),S!==null&&(GO(g,S,f,u),Et(S,2),eo(S));break}}f=f.return}}function Kb(u,f,g){var S=u.pingCache;if(S===null){S=u.pingCache=new V7;var O=new Set;S.set(f,O)}else O=S.get(f),O===void 0&&(O=new Set,S.set(f,O));O.has(g)||(kb=!0,O.add(g),u=J7.bind(null,u,f,g),f.then(u,u))}function J7(u,f,g){var S=u.pingCache;S!==null&&S.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,br===u&&(Bn&g)===g&&(jr===4||jr===3&&(Bn&62914560)===Bn&&300>qt()-jb?!(Mr&2)&&$f(u,0):Nb|=g,jf===Bn&&(jf=0)),eo(u)}function HI(u,f){f===0&&(f=qe()),u=_a(u,f),u!==null&&(Et(u,f),eo(u))}function Y7(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),HI(u,g)}function X7(u,f){var g=0;switch(u.tag){case 13:var S=u.stateNode,O=u.memoizedState;O!==null&&(g=O.retryLane);break;case 19:S=u.stateNode;break;case 22:S=u.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(f),HI(u,g)}function eV(u,f){return Ne(u,f)}var My=null,qf=null,Gb=!1,Dy=!1,Wb=!1,lc=0;function eo(u){u!==qf&&u.next===null&&(qf===null?My=qf=u:qf=qf.next=u),Dy=!0,Gb||(Gb=!0,nV(tV))}function tp(u,f){if(!Wb&&Dy){Wb=!0;do for(var g=!1,S=My;S!==null;){if(u!==0){var O=S.pendingLanes;if(O===0)var j=0;else{var le=S.suspendedLanes,Ce=S.pingedLanes;j=(1<<31-Pt(42|u)+1)-1,j&=O&~(le&~Ce),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(g=!0,GI(S,j))}else j=Bn,j=ln(S,S===br?j:0),!(j&3)||Ln(S,j)||(g=!0,GI(S,j));S=S.next}while(g);Wb=!1}}function tV(){Dy=Gb=!1;var u=0;lc!==0&&(cV()&&(u=lc),lc=0);for(var f=qt(),g=null,S=My;S!==null;){var O=S.next,j=VI(S,f);j===0?(S.next=null,g===null?My=O:g.next=O,O===null&&(qf=g)):(g=S,(u!==0||j&3)&&(Dy=!0)),S=O}tp(u)}function VI(u,f){for(var g=u.suspendedLanes,S=u.pingedLanes,O=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var le=31-Pt(j),Ce=1<<le,Ve=O[le];Ve===-1?(!(Ce&g)||Ce&S)&&(O[le]=ur(Ce,f)):Ve<=f&&(u.expiredLanes|=Ce),j&=~Ce}if(f=br,g=Bn,g=ln(u,u===f?g:0),S=u.callbackNode,g===0||u===f&&Sr===2||u.cancelPendingCommit!==null)return S!==null&&S!==null&&tt(S),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||Ln(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(S!==null&&tt(S),We(g)){case 2:case 8:g=ee;break;case 32:g=q;break;case 268435456:g=V;break;default:g=q}return S=KI.bind(null,u),g=Ne(g,S),u.callbackPriority=f,u.callbackNode=g,f}return S!==null&&S!==null&&tt(S),u.callbackPriority=2,u.callbackNode=null,2}function KI(u,f){var g=u.callbackNode;if(Bf()&&u.callbackNode!==g)return null;var S=Bn;return S=ln(u,u===br?S:0),S===0?null:(MI(u,S,f),VI(u,qt()),u.callbackNode!=null&&u.callbackNode===g?KI.bind(null,u):null)}function GI(u,f){if(Bf())return null;MI(u,f,!0)}function nV(u){dV(function(){Mr&6?Ne(Be,u):u()})}function Qb(){return lc===0&&(lc=Ie()),lc}function WI(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function QI(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function rV(u,f,g,S,O){if(f==="submit"&&g&&g.stateNode===O){var j=WI((O[Tt]||null).action),le=S.submitter;le&&(f=(f=le[Tt]||null)?WI(f.formAction):le.getAttribute("formAction"),f!==null&&(j=f,le=null));var Ce=new Ja("action","action",null,S,O);u.push({event:Ce,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(lc!==0){var Ve=le?QI(O,le):new FormData(O);ib(g,{pending:!0,data:Ve,method:O.method,action:j},null,Ve)}}else typeof j=="function"&&(Ce.preventDefault(),Ve=le?QI(O,le):new FormData(O),ib(g,{pending:!0,data:Ve,method:O.method,action:j},j,Ve))},currentTarget:O}]})}}for(var Zb=0;Zb<ny.length;Zb++){var Jb=ny[Zb],iV=Jb.toLowerCase(),aV=Jb[0].toUpperCase()+Jb.slice(1);pi(iV,"on"+aV)}pi(Ma,"onAnimationEnd"),pi(Gl,"onAnimationIteration"),pi(Xm,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(xf,"onTransitionRun"),pi($w,"onTransitionStart"),pi(ey,"onTransitionCancel"),pi(ty,"onTransitionEnd"),Ir("onMouseEnter",["mouseout","mouseover"]),Ir("onMouseLeave",["mouseout","mouseover"]),Ir("onPointerEnter",["pointerout","pointerover"]),Ir("onPointerLeave",["pointerout","pointerover"]),Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var np="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(np));function ZI(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var S=u[g],O=S.event;S=S.listeners;e:{var j=void 0;if(f)for(var le=S.length-1;0<=le;le--){var Ce=S[le],Ve=Ce.instance,at=Ce.currentTarget;if(Ce=Ce.listener,Ve!==j&&O.isPropagationStopped())break e;j=Ce,O.currentTarget=at;try{j(O)}catch(_t){wy(_t)}O.currentTarget=null,j=Ve}else for(le=0;le<S.length;le++){if(Ce=S[le],Ve=Ce.instance,at=Ce.currentTarget,Ce=Ce.listener,Ve!==j&&O.isPropagationStopped())break e;j=Ce,O.currentTarget=at;try{j(O)}catch(_t){wy(_t)}O.currentTarget=null,j=Ve}}}}function Fn(u,f){var g=f[Gt];g===void 0&&(g=f[Gt]=new Set);var S=u+"__bubble";g.has(S)||(JI(f,u,2,!1),g.add(S))}function Yb(u,f,g){var S=0;f&&(S|=4),JI(g,u,S,f)}var ky="_reactListening"+Math.random().toString(36).slice(2);function Xb(u){if(!u[ky]){u[ky]=!0,Ar.forEach(function(g){g!=="selectionchange"&&(sV.has(g)||Yb(g,!1,u),Yb(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[ky]||(f[ky]=!0,Yb("selectionchange",!1,f))}}function JI(u,f,g,S){switch(wL(f)){case 2:var O=LV;break;case 8:O=MV;break;default:O=d1}g=O.bind(null,f,g,u),O=void 0,!mr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(O=!0),S?O!==void 0?u.addEventListener(f,g,{capture:!0,passive:O}):u.addEventListener(f,g,!0):O!==void 0?u.addEventListener(f,g,{passive:O}):u.addEventListener(f,g,!1)}function e1(u,f,g,S,O){var j=S;if(!(f&1)&&!(f&2)&&S!==null)e:for(;;){if(S===null)return;var le=S.tag;if(le===3||le===4){var Ce=S.stateNode.containerInfo;if(Ce===O||Ce.nodeType===8&&Ce.parentNode===O)break;if(le===4)for(le=S.return;le!==null;){var Ve=le.tag;if((Ve===3||Ve===4)&&(Ve=le.stateNode.containerInfo,Ve===O||Ve.nodeType===8&&Ve.parentNode===O))return;le=le.return}for(;Ce!==null;){if(le=Wt(Ce),le===null)return;if(Ve=le.tag,Ve===5||Ve===6||Ve===26||Ve===27){S=j=le;continue e}Ce=Ce.parentNode}}S=S.return}pn(function(){var at=j,_t=zn(g),At=[];e:{var pt=Nu.get(u);if(pt!==void 0){var vt=Ja,Jt=u;switch(u){case"keypress":if(rr(g)===0)break e;case"keydown":case"keyup":vt=Iw;break;case"focusin":Jt="focus",vt=Xa;break;case"focusout":Jt="blur",vt=Xa;break;case"beforeblur":case"afterblur":vt=Xa;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=$i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=Mw;break;case Ma:case Gl:case Xm:vt=$l;break;case ty:vt=Dw;break;case"scroll":case"scrollend":vt=Ru;break;case"wheel":vt=Km;break;case"copy":case"cut":case"paste":vt=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=Th;break;case"toggle":case"beforetoggle":vt=Eo}var yn=(f&4)!==0,$r=!yn&&(u==="scroll"||u==="scrollend"),ct=yn?pt!==null?pt+"Capture":null:pt;yn=[];for(var rt=at,ht;rt!==null;){var xt=rt;if(ht=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||ht===null||ct===null||(xt=Yn(rt,ct),xt!=null&&yn.push(rp(rt,xt,ht))),$r)break;rt=rt.return}0<yn.length&&(pt=new vt(pt,Jt,null,g,_t),At.push({event:pt,listeners:yn}))}}if(!(f&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==Vt&&(Jt=g.relatedTarget||g.fromElement)&&(Wt(Jt)||Jt[Dt]))break e;if((vt||pt)&&(pt=_t.window===_t?_t:(pt=_t.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Jt=g.relatedTarget||g.toElement,vt=at,Jt=Jt?Wt(Jt):null,Jt!==null&&($r=fe(Jt),yn=Jt.tag,Jt!==$r||yn!==5&&yn!==27&&yn!==6)&&(Jt=null)):(vt=null,Jt=at),vt!==Jt)){if(yn=$i,xt="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(yn=Th,xt="onPointerLeave",ct="onPointerEnter",rt="pointer"),$r=vt==null?pt:En(vt),ht=Jt==null?pt:En(Jt),pt=new yn(xt,rt+"leave",vt,g,_t),pt.target=$r,pt.relatedTarget=ht,xt=null,Wt(_t)===at&&(yn=new yn(ct,rt+"enter",Jt,g,_t),yn.target=ht,yn.relatedTarget=$r,xt=yn),$r=xt,vt&&Jt)t:{for(yn=vt,ct=Jt,rt=0,ht=yn;ht;ht=zf(ht))rt++;for(ht=0,xt=ct;xt;xt=zf(xt))ht++;for(;0<rt-ht;)yn=zf(yn),rt--;for(;0<ht-rt;)ct=zf(ct),ht--;for(;rt--;){if(yn===ct||ct!==null&&yn===ct.alternate)break t;yn=zf(yn),ct=zf(ct)}yn=null}else yn=null;vt!==null&&YI(At,pt,vt,yn,!1),Jt!==null&&$r!==null&&YI(At,$r,Jt,yn,!0)}}e:{if(pt=at?En(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Kt=Iu;else if(Co(pt))if(Rh)Kt=jw;else{Kt=Fw;var On=Oh}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&$t(at.elementType)&&(Kt=Iu):Kt=Ss;if(Kt&&(Kt=Kt(u,at))){Jm(At,Kt,g,_t);break e}On&&On(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(On=at?En(at):window,u){case"focusin":(Co(On)||On.contentEditable==="true")&&(xs=On,Vl=at,ku=null);break;case"focusout":ku=Vl=xs=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Kl(At,g,_t);break;case"selectionchange":if(Du)break;case"keydown":case"keyup":Kl(At,g,_t)}var en;if(To)e:{switch(u){case"compositionstart":var sn="onCompositionStart";break e;case"compositionend":sn="onCompositionEnd";break e;case"compositionupdate":sn="onCompositionUpdate";break e}sn=void 0}else Pu?_f(u,g)&&(sn="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(sn="onCompositionStart");sn&&(Ah&&g.locale!=="ko"&&(Pu||sn!=="onCompositionStart"?sn==="onCompositionEnd"&&Pu&&(en=ma()):(lr=_t,xi="value"in lr?lr.value:lr.textContent,Pu=!0)),On=Ny(at,sn),0<On.length&&(sn=new Zi(sn,u,null,g,_t),At.push({event:sn,listeners:On}),en?sn.data=en:(en=Qm(g),en!==null&&(sn.data=en)))),(en=Gm?Zm(u,g):Nw(u,g))&&(sn=Ny(at,"onBeforeInput"),0<sn.length&&(On=new Zi("onBeforeInput","beforeinput",null,g,_t),At.push({event:On,listeners:sn}),On.data=en)),rV(At,u,at,g,_t)}ZI(At,f)})}function rp(u,f,g){return{instance:u,listener:f,currentTarget:g}}function Ny(u,f){for(var g=f+"Capture",S=[];u!==null;){var O=u,j=O.stateNode;O=O.tag,O!==5&&O!==26&&O!==27||j===null||(O=Yn(u,g),O!=null&&S.unshift(rp(u,O,j)),O=Yn(u,f),O!=null&&S.push(rp(u,O,j))),u=u.return}return S}function zf(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function YI(u,f,g,S,O){for(var j=f._reactName,le=[];g!==null&&g!==S;){var Ce=g,Ve=Ce.alternate,at=Ce.stateNode;if(Ce=Ce.tag,Ve!==null&&Ve===S)break;Ce!==5&&Ce!==26&&Ce!==27||at===null||(Ve=at,O?(at=Yn(g,j),at!=null&&le.unshift(rp(g,at,Ve))):O||(at=Yn(g,j),at!=null&&le.push(rp(g,at,Ve)))),g=g.return}le.length!==0&&u.push({event:f,listeners:le})}var oV=/\r\n?/g,uV=/\u0000|\uFFFD/g;function XI(u){return(typeof u=="string"?u:""+u).replace(oV,`
`).replace(uV,"")}function eL(u,f){return f=XI(f),XI(u)===f}function Fy(){}function hr(u,f,g,S,O,j){switch(g){case"children":typeof S=="string"?f==="body"||f==="textarea"&&S===""||Ue(u,S):(typeof S=="number"||typeof S=="bigint")&&f!=="body"&&Ue(u,""+S);break;case"className":N(u,"class",S);break;case"tabIndex":N(u,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,S);break;case"style":mt(u,S,j);break;case"data":if(f!=="object"){N(u,"data",S);break}case"src":case"href":if(S===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(g);break}S=Ft(""+S),u.setAttribute(g,S);break;case"action":case"formAction":if(typeof S=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(g==="formAction"?(f!=="input"&&hr(u,f,"name",O.name,O,null),hr(u,f,"formEncType",O.formEncType,O,null),hr(u,f,"formMethod",O.formMethod,O,null),hr(u,f,"formTarget",O.formTarget,O,null)):(hr(u,f,"encType",O.encType,O,null),hr(u,f,"method",O.method,O,null),hr(u,f,"target",O.target,O,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(g);break}S=Ft(""+S),u.setAttribute(g,S);break;case"onClick":S!=null&&(u.onclick=Fy);break;case"onScroll":S!=null&&Fn("scroll",u);break;case"onScrollEnd":S!=null&&Fn("scrollend",u);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(g=S.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":u.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){u.removeAttribute("xlink:href");break}g=Ft(""+S),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(g,""+S):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":S===!0?u.setAttribute(g,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(g,S):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?u.setAttribute(g,S):u.removeAttribute(g);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?u.removeAttribute(g):u.setAttribute(g,S);break;case"popover":Fn("beforetoggle",u),Fn("toggle",u),R(u,"popover",S);break;case"xlinkActuate":G(u,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":G(u,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":G(u,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":G(u,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":G(u,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":G(u,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":G(u,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":G(u,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":G(u,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":R(u,"is",S);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Ct.get(g)||g,R(u,g,S))}}function t1(u,f,g,S,O,j){switch(g){case"style":mt(u,S,j);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(g=S.__html,g!=null){if(O.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof S=="string"?Ue(u,S):(typeof S=="number"||typeof S=="bigint")&&Ue(u,""+S);break;case"onScroll":S!=null&&Fn("scroll",u);break;case"onScrollEnd":S!=null&&Fn("scrollend",u);break;case"onClick":S!=null&&(u.onclick=Fy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(O=g.endsWith("Capture"),f=g.slice(2,O?g.length-7:void 0),j=u[Tt]||null,j=j!=null?j[g]:null,typeof j=="function"&&u.removeEventListener(f,j,O),typeof S=="function")){typeof j!="function"&&j!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,S,O);break e}g in u?u[g]=S:S===!0?u.setAttribute(g,""):R(u,g,S)}}}function Ci(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fn("error",u),Fn("load",u);var S=!1,O=!1,j;for(j in g)if(g.hasOwnProperty(j)){var le=g[j];if(le!=null)switch(j){case"src":S=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:hr(u,f,j,le,g,null)}}O&&hr(u,f,"srcSet",g.srcSet,g,null),S&&hr(u,f,"src",g.src,g,null);return;case"input":Fn("invalid",u);var Ce=j=le=O=null,Ve=null,at=null;for(S in g)if(g.hasOwnProperty(S)){var _t=g[S];if(_t!=null)switch(S){case"name":O=_t;break;case"type":le=_t;break;case"checked":Ve=_t;break;case"defaultChecked":at=_t;break;case"value":j=_t;break;case"defaultValue":Ce=_t;break;case"children":case"dangerouslySetInnerHTML":if(_t!=null)throw Error(r(137,f));break;default:hr(u,f,S,_t,g,null)}}st(u,j,Ce,Ve,at,le,O,!1),xe(u);return;case"select":Fn("invalid",u),S=le=j=null;for(O in g)if(g.hasOwnProperty(O)&&(Ce=g[O],Ce!=null))switch(O){case"value":j=Ce;break;case"defaultValue":le=Ce;break;case"multiple":S=Ce;default:hr(u,f,O,Ce,g,null)}f=j,g=le,u.multiple=!!S,f!=null?ut(u,!!S,f,!1):g!=null&&ut(u,!!S,g,!0);return;case"textarea":Fn("invalid",u),j=O=S=null;for(le in g)if(g.hasOwnProperty(le)&&(Ce=g[le],Ce!=null))switch(le){case"value":S=Ce;break;case"defaultValue":O=Ce;break;case"children":j=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(91));break;default:hr(u,f,le,Ce,g,null)}De(u,S,O,j),xe(u);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(S=g[Ve],S!=null))switch(Ve){case"selected":u.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:hr(u,f,Ve,S,g,null)}return;case"dialog":Fn("cancel",u),Fn("close",u);break;case"iframe":case"object":Fn("load",u);break;case"video":case"audio":for(S=0;S<np.length;S++)Fn(np[S],u);break;case"image":Fn("error",u),Fn("load",u);break;case"details":Fn("toggle",u);break;case"embed":case"source":case"link":Fn("error",u),Fn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(S=g[at],S!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:hr(u,f,at,S,g,null)}return;default:if($t(f)){for(_t in g)g.hasOwnProperty(_t)&&(S=g[_t],S!==void 0&&t1(u,f,_t,S,g,void 0));return}}for(Ce in g)g.hasOwnProperty(Ce)&&(S=g[Ce],S!=null&&hr(u,f,Ce,S,g,null))}function lV(u,f,g,S){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,j=null,le=null,Ce=null,Ve=null,at=null,_t=null;for(vt in g){var At=g[vt];if(g.hasOwnProperty(vt)&&At!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=At;default:S.hasOwnProperty(vt)||hr(u,f,vt,null,S,At)}}for(var pt in S){var vt=S[pt];if(At=g[pt],S.hasOwnProperty(pt)&&(vt!=null||At!=null))switch(pt){case"type":j=vt;break;case"name":O=vt;break;case"checked":at=vt;break;case"defaultChecked":_t=vt;break;case"value":le=vt;break;case"defaultValue":Ce=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,f));break;default:vt!==At&&hr(u,f,pt,vt,S,At)}}Ye(u,le,Ce,Ve,at,_t,j,O);return;case"select":vt=le=Ce=pt=null;for(j in g)if(Ve=g[j],g.hasOwnProperty(j)&&Ve!=null)switch(j){case"value":break;case"multiple":vt=Ve;default:S.hasOwnProperty(j)||hr(u,f,j,null,S,Ve)}for(O in S)if(j=S[O],Ve=g[O],S.hasOwnProperty(O)&&(j!=null||Ve!=null))switch(O){case"value":pt=j;break;case"defaultValue":Ce=j;break;case"multiple":le=j;default:j!==Ve&&hr(u,f,O,j,S,Ve)}f=Ce,g=le,S=vt,pt!=null?ut(u,!!g,pt,!1):!!S!=!!g&&(f!=null?ut(u,!!g,f,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Ce in g)if(O=g[Ce],g.hasOwnProperty(Ce)&&O!=null&&!S.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:hr(u,f,Ce,null,S,O)}for(le in S)if(O=S[le],j=g[le],S.hasOwnProperty(le)&&(O!=null||j!=null))switch(le){case"value":pt=O;break;case"defaultValue":vt=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==j&&hr(u,f,le,O,S,j)}we(u,pt,vt);return;case"option":for(var Jt in g)if(pt=g[Jt],g.hasOwnProperty(Jt)&&pt!=null&&!S.hasOwnProperty(Jt))switch(Jt){case"selected":u.selected=!1;break;default:hr(u,f,Jt,null,S,pt)}for(Ve in S)if(pt=S[Ve],vt=g[Ve],S.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:hr(u,f,Ve,pt,S,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in g)pt=g[yn],g.hasOwnProperty(yn)&&pt!=null&&!S.hasOwnProperty(yn)&&hr(u,f,yn,null,S,pt);for(at in S)if(pt=S[at],vt=g[at],S.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,f));break;default:hr(u,f,at,pt,S,vt)}return;default:if($t(f)){for(var $r in g)pt=g[$r],g.hasOwnProperty($r)&&pt!==void 0&&!S.hasOwnProperty($r)&&t1(u,f,$r,void 0,S,pt);for(_t in S)pt=S[_t],vt=g[_t],!S.hasOwnProperty(_t)||pt===vt||pt===void 0&&vt===void 0||t1(u,f,_t,pt,S,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!S.hasOwnProperty(ct)&&hr(u,f,ct,null,S,pt);for(At in S)pt=S[At],vt=g[At],!S.hasOwnProperty(At)||pt===vt||pt==null&&vt==null||hr(u,f,At,pt,S,vt)}var n1=null,r1=null;function jy(u){return u.nodeType===9?u:u.ownerDocument}function tL(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nL(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function i1(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var a1=null;function cV(){var u=window.event;return u&&u.type==="popstate"?u===a1?!1:(a1=u,!0):(a1=null,!1)}var rL=typeof setTimeout=="function"?setTimeout:void 0,fV=typeof clearTimeout=="function"?clearTimeout:void 0,iL=typeof Promise=="function"?Promise:void 0,dV=typeof queueMicrotask=="function"?queueMicrotask:typeof iL<"u"?function(u){return iL.resolve(null).then(u).catch(hV)}:rL;function hV(u){setTimeout(function(){throw u})}function s1(u,f){var g=f,S=0;do{var O=g.nextSibling;if(u.removeChild(g),O&&O.nodeType===8)if(g=O.data,g==="/$"){if(S===0){u.removeChild(O),fp(f);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=O}while(g);fp(f)}function o1(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":o1(g),Pn(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function pV(u,f,g,S){for(;u.nodeType===1;){var O=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!S&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(S){if(!u[tn])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==O.rel||u.getAttribute("href")!==(O.href==null?null:O.href)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||u.getAttribute("title")!==(O.title==null?null:O.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(O.src==null?null:O.src)||u.getAttribute("type")!==(O.type==null?null:O.type)||u.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var j=O.name==null?null:""+O.name;if(O.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=Ts(u.nextSibling),u===null)break}return null}function gV(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=Ts(u.nextSibling),u===null))return null;return u}function Ts(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function aL(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}function sL(u,f,g){switch(f=jy(g),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var us=new Map,oL=new Set;function $y(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var Qo=Y.d;Y.d={f:mV,r:yV,D:vV,C:_V,L:wV,m:bV,X:xV,S:SV,M:EV};function mV(){var u=Qo.f(),f=Iy();return u||f}function yV(u){var f=Zt(u);f!==null&&f.tag===5&&f.type==="form"?DO(f):Qo.r(u)}var Hf=typeof document>"u"?null:document;function uL(u,f,g){var S=Hf;if(S&&typeof f=="string"&&f){var O=ze(f);O='link[rel="'+u+'"][href="'+O+'"]',typeof g=="string"&&(O+='[crossorigin="'+g+'"]'),oL.has(O)||(oL.add(O),u={rel:u,crossOrigin:g,href:f},S.querySelector(O)===null&&(f=S.createElement("link"),Ci(f,"link",u),qn(f),S.head.appendChild(f)))}}function vV(u){Qo.D(u),uL("dns-prefetch",u,null)}function _V(u,f){Qo.C(u,f),uL("preconnect",u,f)}function wV(u,f,g){Qo.L(u,f,g);var S=Hf;if(S&&u&&f){var O='link[rel="preload"][as="'+ze(f)+'"]';f==="image"&&g&&g.imageSrcSet?(O+='[imagesrcset="'+ze(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(O+='[imagesizes="'+ze(g.imageSizes)+'"]')):O+='[href="'+ze(u)+'"]';var j=O;switch(f){case"style":j=Vf(u);break;case"script":j=Kf(u)}us.has(j)||(u=U({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),us.set(j,u),S.querySelector(O)!==null||f==="style"&&S.querySelector(ip(j))||f==="script"&&S.querySelector(ap(j))||(f=S.createElement("link"),Ci(f,"link",u),qn(f),S.head.appendChild(f)))}}function bV(u,f){Qo.m(u,f);var g=Hf;if(g&&u){var S=f&&typeof f.as=="string"?f.as:"script",O='link[rel="modulepreload"][as="'+ze(S)+'"][href="'+ze(u)+'"]',j=O;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=Kf(u)}if(!us.has(j)&&(u=U({rel:"modulepreload",href:u},f),us.set(j,u),g.querySelector(O)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(ap(j)))return}S=g.createElement("link"),Ci(S,"link",u),qn(S),g.head.appendChild(S)}}}function SV(u,f,g){Qo.S(u,f,g);var S=Hf;if(S&&u){var O=Tn(S).hoistableStyles,j=Vf(u);f=f||"default";var le=O.get(j);if(!le){var Ce={loading:0,preload:null};if(le=S.querySelector(ip(j)))Ce.loading=5;else{u=U({rel:"stylesheet",href:u,"data-precedence":f},g),(g=us.get(j))&&u1(u,g);var Ve=le=S.createElement("link");qn(Ve),Ci(Ve,"link",u),Ve._p=new Promise(function(at,_t){Ve.onload=at,Ve.onerror=_t}),Ve.addEventListener("load",function(){Ce.loading|=1}),Ve.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,Uy(le,f,S)}le={type:"stylesheet",instance:le,count:1,state:Ce},O.set(j,le)}}}function xV(u,f){Qo.X(u,f);var g=Hf;if(g&&u){var S=Tn(g).hoistableScripts,O=Kf(u),j=S.get(O);j||(j=g.querySelector(ap(O)),j||(u=U({src:u,async:!0},f),(f=us.get(O))&&l1(u,f),j=g.createElement("script"),qn(j),Ci(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},S.set(O,j))}}function EV(u,f){Qo.M(u,f);var g=Hf;if(g&&u){var S=Tn(g).hoistableScripts,O=Kf(u),j=S.get(O);j||(j=g.querySelector(ap(O)),j||(u=U({src:u,async:!0,type:"module"},f),(f=us.get(O))&&l1(u,f),j=g.createElement("script"),qn(j),Ci(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},S.set(O,j))}}function lL(u,f,g,S){var O=(O=$.current)?$y(O):null;if(!O)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Vf(g.href),g=Tn(O).hoistableStyles,S=g.get(f),S||(S={type:"style",instance:null,count:0,state:null},g.set(f,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=Vf(g.href);var j=Tn(O).hoistableStyles,le=j.get(u);if(le||(O=O.ownerDocument||O,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,le),(j=O.querySelector(ip(u)))&&!j._p&&(le.instance=j,le.state.loading=5),us.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},us.set(u,g),j||TV(O,u,g,le.state))),f&&S===null)throw Error(r(528,""));return le}if(f&&S!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Kf(g),g=Tn(O).hoistableScripts,S=g.get(f),S||(S={type:"script",instance:null,count:0,state:null},g.set(f,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Vf(u){return'href="'+ze(u)+'"'}function ip(u){return'link[rel="stylesheet"]['+u+"]"}function cL(u){return U({},u,{"data-precedence":u.precedence,precedence:null})}function TV(u,f,g,S){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?S.loading=1:(f=u.createElement("link"),S.preload=f,f.addEventListener("load",function(){return S.loading|=1}),f.addEventListener("error",function(){return S.loading|=2}),Ci(f,"link",g),qn(f),u.head.appendChild(f))}function Kf(u){return'[src="'+ze(u)+'"]'}function ap(u){return"script[async]"+u}function fL(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var S=u.querySelector('style[data-href~="'+ze(g.href)+'"]');if(S)return f.instance=S,qn(S),S;var O=U({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return S=(u.ownerDocument||u).createElement("style"),qn(S),Ci(S,"style",O),Uy(S,g.precedence,u),f.instance=S;case"stylesheet":O=Vf(g.href);var j=u.querySelector(ip(O));if(j)return f.state.loading|=4,f.instance=j,qn(j),j;S=cL(g),(O=us.get(O))&&u1(S,O),j=(u.ownerDocument||u).createElement("link"),qn(j);var le=j;return le._p=new Promise(function(Ce,Ve){le.onload=Ce,le.onerror=Ve}),Ci(j,"link",S),f.state.loading|=4,Uy(j,g.precedence,u),f.instance=j;case"script":return j=Kf(g.src),(O=u.querySelector(ap(j)))?(f.instance=O,qn(O),O):(S=g,(O=us.get(j))&&(S=U({},g),l1(S,O)),u=u.ownerDocument||u,O=u.createElement("script"),qn(O),Ci(O,"link",S),u.head.appendChild(O),f.instance=O);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(S=f.instance,f.state.loading|=4,Uy(S,g.precedence,u));return f.instance}function Uy(u,f,g){for(var S=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=S.length?S[S.length-1]:null,j=O,le=0;le<S.length;le++){var Ce=S[le];if(Ce.dataset.precedence===f)j=Ce;else if(j!==O)break}j?j.parentNode.insertBefore(u,j.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function u1(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function l1(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var By=null;function dL(u,f,g){if(By===null){var S=new Map,O=By=new Map;O.set(g,S)}else O=By,S=O.get(g),S||(S=new Map,O.set(g,S));if(S.has(u))return S;for(S.set(u,null),g=g.getElementsByTagName(u),O=0;O<g.length;O++){var j=g[O];if(!(j[tn]||j[it]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var le=j.getAttribute(f)||"";le=u+le;var Ce=S.get(le);Ce?Ce.push(j):S.set(le,[j])}}return S}function hL(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function CV(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function pL(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var sp=null;function AV(){}function RV(u,f,g){if(sp===null)throw Error(r(475));var S=sp;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var O=Vf(g.href),j=u.querySelector(ip(O));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(S.count++,S=qy.bind(S),u.then(S,S)),f.state.loading|=4,f.instance=j,qn(j);return}j=u.ownerDocument||u,g=cL(g),(O=us.get(O))&&u1(g,O),j=j.createElement("link"),qn(j);var le=j;le._p=new Promise(function(Ce,Ve){le.onload=Ce,le.onerror=Ve}),Ci(j,"link",g),f.instance=j}S.stylesheets===null&&(S.stylesheets=new Map),S.stylesheets.set(f,u),(u=f.state.preload)&&!(f.state.loading&3)&&(S.count++,f=qy.bind(S),u.addEventListener("load",f),u.addEventListener("error",f))}}function PV(){if(sp===null)throw Error(r(475));var u=sp;return u.stylesheets&&u.count===0&&c1(u,u.stylesheets),0<u.count?function(f){var g=setTimeout(function(){if(u.stylesheets&&c1(u,u.stylesheets),u.unsuspend){var S=u.unsuspend;u.unsuspend=null,S()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(g)}}:null}function qy(){if(this.count--,this.count===0){if(this.stylesheets)c1(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var zy=null;function c1(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,zy=new Map,f.forEach(OV,u),zy=null,qy.call(u))}function OV(u,f){if(!(f.state.loading&4)){var g=zy.get(u);if(g)var S=g.get(null);else{g=new Map,zy.set(u,g);for(var O=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<O.length;j++){var le=O[j];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(g.set(le.dataset.precedence,le),S=le)}S&&g.set(null,S)}O=f.instance,le=O.getAttribute("data-precedence"),j=g.get(le)||S,j===S&&g.set(null,O),g.set(le,O),this.count++,S=qy.bind(this),O.addEventListener("load",S),O.addEventListener("error",S),j?j.parentNode.insertBefore(O,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(O,u.firstChild)),f.state.loading|=4}}var op={$$typeof:y,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function IV(u,f,g,S,O,j,le,Ce){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=S,this.onUncaughtError=O,this.onCaughtError=j,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ce,this.incompleteTransitions=new Map}function gL(u,f,g,S,O,j,le,Ce,Ve,at,_t,At){return u=new IV(u,f,g,le,Ce,Ve,at,At),f=1,j===!0&&(f|=24),j=ss(3,null,null,f),u.current=j,j.stateNode=u,f=qw(),f.refCount++,u.pooledCache=f,f.refCount++,j.memoizedState={element:S,isDehydrated:g,cache:f},Sb(j),u}function mL(u){return u?(u=es,u):es}function yL(u,f,g,S,O,j){O=mL(O),S.context===null?S.context=O:S.pendingContext=O,S=Vu(f),S.payload={element:g},j=j===void 0?null:j,j!==null&&(S.callback=j),g=Ku(u,S,f),g!==null&&(ia(g,u,f),Hh(g,u,f))}function vL(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function f1(u,f){vL(u,f),(u=u.alternate)&&vL(u,f)}function _L(u){if(u.tag===13){var f=_a(u,67108864);f!==null&&ia(f,u,67108864),f1(u,67108864)}}var Hy=!0;function LV(u,f,g,S){var O=X.T;X.T=null;var j=Y.p;try{Y.p=2,d1(u,f,g,S)}finally{Y.p=j,X.T=O}}function MV(u,f,g,S){var O=X.T;X.T=null;var j=Y.p;try{Y.p=8,d1(u,f,g,S)}finally{Y.p=j,X.T=O}}function d1(u,f,g,S){if(Hy){var O=h1(S);if(O===null)e1(u,f,S,Vy,g),bL(u,S);else if(kV(O,u,f,g,S))S.stopPropagation();else if(bL(u,S),f&4&&-1<DV.indexOf(u)){for(;O!==null;){var j=Zt(O);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var le=un(j.pendingLanes);if(le!==0){var Ce=j;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;le;){var Ve=1<<31-Pt(le);Ce.entanglements[1]|=Ve,le&=~Ve}eo(j),!(Mr&6)&&(Ry=qt()+500,tp(0))}}break;case 13:Ce=_a(j,2),Ce!==null&&ia(Ce,j,2),Iy(),f1(j,2)}if(j=h1(S),j===null&&e1(u,f,S,Vy,g),j===O)break;O=j}O!==null&&S.stopPropagation()}else e1(u,f,S,null,g)}}function h1(u){return u=zn(u),p1(u)}var Vy=null;function p1(u){if(Vy=null,u=Wt(u),u!==null){var f=fe(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=Oe(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Vy=u,null}function wL(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Be:return 2;case ee:return 8;case q:case K:return 32;case V:return 268435456;default:return 32}default:return 32}}var g1=!1,Xu=null,el=null,tl=null,up=new Map,lp=new Map,nl=[],DV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bL(u,f){switch(u){case"focusin":case"focusout":Xu=null;break;case"dragenter":case"dragleave":el=null;break;case"mouseover":case"mouseout":tl=null;break;case"pointerover":case"pointerout":up.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":lp.delete(f.pointerId)}}function cp(u,f,g,S,O,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:g,eventSystemFlags:S,nativeEvent:j,targetContainers:[O]},f!==null&&(f=Zt(f),f!==null&&_L(f)),u):(u.eventSystemFlags|=S,f=u.targetContainers,O!==null&&f.indexOf(O)===-1&&f.push(O),u)}function kV(u,f,g,S,O){switch(f){case"focusin":return Xu=cp(Xu,u,f,g,S,O),!0;case"dragenter":return el=cp(el,u,f,g,S,O),!0;case"mouseover":return tl=cp(tl,u,f,g,S,O),!0;case"pointerover":var j=O.pointerId;return up.set(j,cp(up.get(j)||null,u,f,g,S,O)),!0;case"gotpointercapture":return j=O.pointerId,lp.set(j,cp(lp.get(j)||null,u,f,g,S,O)),!0}return!1}function SL(u){var f=Wt(u.target);if(f!==null){var g=fe(f);if(g!==null){if(f=g.tag,f===13){if(f=Oe(g),f!==null){u.blockedOn=f,et(u.priority,function(){if(g.tag===13){var S=Fa(),O=_a(g,S);O!==null&&ia(O,g,S),f1(g,S)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ky(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=h1(u.nativeEvent);if(g===null){g=u.nativeEvent;var S=new g.constructor(g.type,g);Vt=S,g.target.dispatchEvent(S),Vt=null}else return f=Zt(g),f!==null&&_L(f),u.blockedOn=g,!1;f.shift()}return!0}function xL(u,f,g){Ky(u)&&g.delete(f)}function NV(){g1=!1,Xu!==null&&Ky(Xu)&&(Xu=null),el!==null&&Ky(el)&&(el=null),tl!==null&&Ky(tl)&&(tl=null),up.forEach(xL),lp.forEach(xL)}function Gy(u,f){u.blockedOn===f&&(u.blockedOn=null,g1||(g1=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,NV)))}var Wy=null;function EL(u){Wy!==u&&(Wy=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Wy===u&&(Wy=null);for(var f=0;f<u.length;f+=3){var g=u[f],S=u[f+1],O=u[f+2];if(typeof S!="function"){if(p1(S||g)===null)continue;break}var j=Zt(g);j!==null&&(u.splice(f,3),f-=3,ib(j,{pending:!0,data:O,method:g.method,action:S},S,O))}}))}function fp(u){function f(Ve){return Gy(Ve,u)}Xu!==null&&Gy(Xu,u),el!==null&&Gy(el,u),tl!==null&&Gy(tl,u),up.forEach(f),lp.forEach(f);for(var g=0;g<nl.length;g++){var S=nl[g];S.blockedOn===u&&(S.blockedOn=null)}for(;0<nl.length&&(g=nl[0],g.blockedOn===null);)SL(g),g.blockedOn===null&&nl.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(S=0;S<g.length;S+=3){var O=g[S],j=g[S+1],le=O[Tt]||null;if(typeof j=="function")le||EL(g);else if(le){var Ce=null;if(j&&j.hasAttribute("formAction")){if(O=j,le=j[Tt]||null)Ce=le.formAction;else if(p1(O)!==null)continue}else Ce=le.action;typeof Ce=="function"?g[S+1]=Ce:(g.splice(S,3),S-=3),EL(g)}}}function m1(u){this._internalRoot=u}Qy.prototype.render=m1.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,S=Fa();yL(g,S,u,f,null,null)},Qy.prototype.unmount=m1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&Bf(),yL(u.current,2,null,u,null,null),Iy(),f[Dt]=null}};function Qy(u){this._internalRoot=u}Qy.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ee();u={blockedOn:null,target:u,priority:f};for(var g=0;g<nl.length&&f!==0&&f<nl[g].priority;g++);nl.splice(g,0,u),g===0&&SL(u)}};var TL=e.version;if(TL!=="19.0.0")throw Error(r(527,TL,"19.0.0"));Y.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ie(f),u=u!==null?ge(u):null,u=u===null?null:u.stateNode,u};var FV={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:X,findFiberByHostInstance:Wt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zy.isDisabled&&Zy.supportsFiber)try{ke=Zy.inject(FV),Rt=Zy}catch{}}return hp.createRoot=function(u,f){if(!i(u))throw Error(r(299));var g=!1,S="",O=qO,j=zO,le=HO,Ce=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onUncaughtError!==void 0&&(O=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(le=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Ce=f.unstable_transitionCallbacks)),f=gL(u,1,!1,null,null,g,S,O,j,le,Ce,null),u[Dt]=f.current,Xb(u.nodeType===8?u.parentNode:u),new m1(f)},hp.hydrateRoot=function(u,f,g){if(!i(u))throw Error(r(299));var S=!1,O="",j=qO,le=zO,Ce=HO,Ve=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(O=g.identifierPrefix),g.onUncaughtError!==void 0&&(j=g.onUncaughtError),g.onCaughtError!==void 0&&(le=g.onCaughtError),g.onRecoverableError!==void 0&&(Ce=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ve=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),f=gL(u,1,!0,f,g??null,S,O,j,le,Ce,Ve,at),f.context=mL(null),g=f.current,S=Fa(),O=Vu(S),O.callback=null,Ku(g,O,S),f.current.lanes=S,Et(f,S),eo(f),u[Dt]=f.current,Xb(u),new Qy(f)},hp.version="19.0.0",hp}var VL;function _K(){if(VL)return S1.exports;VL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),S1.exports=vK(),S1.exports}var wK=_K(),C1={exports:{}},A1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KL;function bK(){if(KL)return A1;KL=1;var t=Zd();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return A1.useSyncExternalStoreWithSelector=function(l,c,h,p,m){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=s(function(){function E(M){if(!b){if(b=!0,x=M,M=p(M),m!==void 0&&v.hasValue){var D=v.value;if(m(D,M))return A=D}return A=M}if(D=A,n(x,M))return D;var F=p(M);return m!==void 0&&m(D,F)?(x=M,D):(x=M,A=F)}var b=!1,x,A,I=h===void 0?null:h;return[function(){return E(c())},I===null?void 0:function(){return E(I())}]},[c,h,p,m]);var w=r(l,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=w},[w]),o(w),w},A1}var GL;function SK(){return GL||(GL=1,C1.exports=bK()),C1.exports}var xK=SK();function EK(t){t()}function TK(){let t=null,e=null;return{clear(){t=null,e=null},notify(){EK(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var WL={notify(){},get:()=>[]};function CK(t,e){let n,r=WL,i=0,a=!1;function s(w){h();const E=r.subscribe(w);let b=!1;return()=>{b||(b=!0,E(),p())}}function o(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function h(){i++,n||(n=t.subscribe(l),r=TK())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=WL)}function m(){a||(a=!0,h())}function y(){a&&(a=!1,p())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return v}var AK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",RK=AK(),PK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",OK=PK(),IK=()=>RK||OK?ne.useLayoutEffect:ne.useEffect,LK=IK(),R1=Symbol.for("react-redux-context"),P1=typeof globalThis<"u"?globalThis:{};function MK(){if(!ne.createContext)return{};const t=P1[R1]??(P1[R1]=new Map);let e=t.get(ne.createContext);return e||(e=ne.createContext(null),t.set(ne.createContext,e)),e}var Rl=MK();function DK(t){const{children:e,context:n,serverState:r,store:i}=t,a=ne.useMemo(()=>{const l=CK(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=ne.useMemo(()=>i.getState(),[i]);LK(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Rl;return ne.createElement(o.Provider,{value:a},e)}var kK=DK;function ZA(t=Rl){return function(){return ne.useContext(t)}}var b8=ZA();function S8(t=Rl){const e=t===Rl?b8:ZA(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var NK=S8();function FK(t=Rl){const e=t===Rl?NK:S8(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var jK=FK(),$K=(t,e)=>t===e;function UK(t=Rl){const e=t===Rl?b8:ZA(t),n=(r,i={})=>{const{equalityFn:a=$K}=typeof i=="function"?{equalityFn:i}:i,s=e(),{store:o,subscription:l,getServerState:c}=s;ne.useRef(!0);const h=ne.useCallback({[r.name](m){return r(m)}}[r.name],[r]),p=xK.useSyncExternalStoreWithSelector(l.addNestedSub,o.getState,c||o.getState,h,a);return ne.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var BK=UK();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qn.apply(this,arguments)}var ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ni||(ni={}));const QL="popstate";function qK(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Gg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:_o(i)}return HK(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zK(){return Math.random().toString(36).substr(2,8)}function ZL(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n,r){return n===void 0&&(n=null),Qn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vu(e):e,{state:n,key:e&&e.key||r||zK()})}function _o(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HK(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=ni.Pop,l=null,c=h();c==null&&(c=0,s.replaceState(Qn({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function p(){o=ni.Pop;let E=h(),b=E==null?null:E-c;c=E,l&&l({action:o,location:w.location,delta:b})}function m(E,b){o=ni.Push;let x=Gg(w.location,E,b);c=h()+1;let A=ZL(x,c),I=w.createHref(x);try{s.pushState(A,"",I)}catch{i.location.assign(I)}a&&l&&l({action:o,location:w.location,delta:1})}function y(E,b){o=ni.Replace;let x=Gg(w.location,E,b);c=h();let A=ZL(x,c),I=w.createHref(x);s.replaceState(A,"",I),a&&l&&l({action:o,location:w.location,delta:0})}function v(E){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof E=="string"?E:_o(E);return wn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let w={get action(){return o},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(QL,p),l=E,()=>{i.removeEventListener(QL,p),l=null}},createHref(E){return e(i,E)},createURL:v,encodeLocation(E){let b=v(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(E){return s.go(E)}};return w}var Di;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Di||(Di={}));function VK(t){return t.index===!0}function x8(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=new Set),t.map((r,i)=>{let a=[...e,i],s=typeof r.id=="string"?r.id:a.join("-");return wn(r.index!==!0||!r.children,"Cannot specify children on an index route"),wn(!n.has(s),'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),n.add(s),VK(r)?Qn({},r,{id:s}):Qn({},r,{id:s,children:r.children?x8(r.children,a,n):void 0})})}function Sg(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vu(e):e,i=C8(r.pathname||"/",n);if(i==null)return null;let a=E8(t);KK(a);let s=null;for(let o=0;s==null&&o<a.length;++o)s=tG(a[o],iG(i));return s}function E8(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=lu([r,l.relativePath]),h=n.concat(l);a.children&&a.children.length>0&&(wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),E8(a.children,e,h,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:XK(c,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of T8(a.path))i(a,s,l)}),e}function T8(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=T8(r.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function KK(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:eG(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const GK=/^:\w+$/,WK=3,QK=2,ZK=1,JK=10,YK=-2,JL=t=>t==="*";function XK(t,e){let n=t.split("/"),r=n.length;return n.some(JL)&&(r+=YK),e&&(r+=QK),n.filter(i=>!JL(i)).reduce((i,a)=>i+(GK.test(a)?WK:a===""?ZK:JK),r)}function eG(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function tG(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let s=0;s<n.length;++s){let o=n[s],l=s===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=nG({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},c);if(!h)return null;Object.assign(r,h.params);let p=o.route;a.push({params:r,pathname:lu([i,h.pathname]),pathnameBase:uG(lu([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=lu([i,h.pathnameBase]))}return a}function nG(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rG(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,h,p)=>{if(h==="*"){let m=o[p]||"";s=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return c[h]=aG(o[p]||"",h),c},{}),pathname:a,pathnameBase:s,pattern:t}}function rG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wg(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function iG(t){try{return decodeURI(t)}catch(e){return Wg(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function aG(t,e){try{return decodeURIComponent(t)}catch(n){return Wg(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function C8(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Wg(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sG(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vu(t):t;return{pathname:n?n.startsWith("/")?n:oG(n,e):e,search:lG(r),hash:cG(i)}}function oG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function O1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function JA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vu(t):(i=Qn({},t),wn(!i.pathname||!i.pathname.includes("?"),O1("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),O1("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),O1("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(r||s==null)o=n;else{let p=e.length-1;if(s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}o=p>=0?e[p]:"/"}let l=sG(i,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const lu=t=>t.join("/").replace(/\/\/+/g,"/"),uG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,cG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class YL extends Error{}class fG{constructor(e,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],wn(e&&typeof e=="object"&&!Array.isArray(e),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,s)=>r=s),this.controller=new AbortController;let i=()=>r(new YL("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(e).reduce((a,s)=>{let[o,l]=s;return Object.assign(a,{[o]:this.trackPromise(o,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,e,null,i),i=>this.onSettle(r,e,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,i){return this.controller.signal.aborted&&r instanceof YL?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{e.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return wn(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,i]=n;return Object.assign(e,{[r]:hG(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function dG(t){return t instanceof Promise&&t._tracked===!0}function hG(t){if(!dG(t))return t;if(t._error)throw t._error;return t._data}class YA{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function A8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const R8=["post","put","patch","delete"],pG=new Set(R8),gG=["get",...R8],mG=new Set(gG),yG=new Set([301,302,303,307,308]),vG=new Set([307,308]),I1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},_G={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},XL={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},P8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wG=!P8;function bG(t){wn(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let e=x8(t.routes),n=null,r=new Set,i=null,a=null,s=null,o=t.hydrationData!=null,l=Sg(e,t.history.location,t.basename),c=null;if(l==null){let Se=ll(404,{pathname:t.history.location.pathname}),{matches:Be,route:ee}=aM(e);l=Be,c={[ee.id]:Se}}let h=!l.some(Se=>Se.route.loader)||t.hydrationData!=null,p,m={historyAction:t.history.action,location:t.history.location,matches:l,initialized:h,navigation:I1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||c,fetchers:new Map,blockers:new Map},y=ni.Pop,v=!1,w,E=!1,b=!1,x=[],A=[],I=new Map,M=0,D=-1,F=new Map,Z=new Set,X=new Map,U=new Map,J=null,ce=new Map,re=!1;function ue(){return n=t.history.listen(Se=>{let{action:Be,location:ee,delta:q}=Se;if(re){re=!1;return}Wg(J!=null&&q===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=Ne({currentLocation:m.location,nextLocation:ee,historyAction:Be});if(K&&q!=null){re=!0,t.history.go(q*-1),Te(K,{state:"blocked",location:ee,proceed(){Te(K,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(q)},reset(){He(K),he({blockers:new Map(p.state.blockers)})}});return}return ie(Be,ee)}),m.initialized||ie(ni.Pop,m.location),p}function me(){n&&n(),r.clear(),w&&w.abort(),m.fetchers.forEach((Se,Be)=>z(Be)),m.blockers.forEach((Se,Be)=>He(Be))}function be(Se){return r.add(Se),()=>r.delete(Se)}function he(Se){m=Qn({},m,Se),r.forEach(Be=>Be(m))}function fe(Se,Be){var ee,q;let K=m.actionData!=null&&m.navigation.formMethod!=null&&su(m.navigation.formMethod)&&m.navigation.state==="loading"&&((ee=Se.state)==null?void 0:ee._isRedirect)!==!0,V;Be.actionData?Object.keys(Be.actionData).length>0?V=Be.actionData:V=null:K?V=m.actionData:V=null;let je=Be.loaderData?iM(m.loaderData,Be.loaderData,Be.matches||[],Be.errors):m.loaderData;for(let[ke]of ce)He(ke);let Ze=v===!0||m.navigation.formMethod!=null&&su(m.navigation.formMethod)&&((q=Se.state)==null?void 0:q._isRedirect)!==!0;he(Qn({},Be,{actionData:V,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:I1,revalidation:"idle",restoreScrollPosition:qt(Se,Be.matches||m.matches),preventScrollReset:Ze,blockers:new Map(m.blockers)})),E||y===ni.Pop||(y===ni.Push?t.history.push(Se,Se.state):y===ni.Replace&&t.history.replace(Se,Se.state)),y=ni.Pop,v=!1,E=!1,b=!1,x=[],A=[]}async function Oe(Se,Be){if(typeof Se=="number"){t.history.go(Se);return}let{path:ee,submission:q,error:K}=eM(Se,Be),V=m.location,je=Gg(m.location,ee,Be&&Be.state);je=Qn({},je,t.history.encodeLocation(je));let Ze=Be&&Be.replace!=null?Be.replace:void 0,ke=ni.Push;Ze===!0?ke=ni.Replace:Ze===!1||q!=null&&su(q.formMethod)&&q.formAction===m.location.pathname+m.location.search&&(ke=ni.Replace);let Rt=Be&&"preventScrollReset"in Be?Be.preventScrollReset===!0:void 0,It=Ne({currentLocation:V,nextLocation:je,historyAction:ke});if(It){Te(It,{state:"blocked",location:je,proceed(){Te(It,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Oe(Se,Be)},reset(){He(It),he({blockers:new Map(m.blockers)})}});return}return await ie(ke,je,{submission:q,pendingError:K,preventScrollReset:Rt,replace:Be&&Be.replace})}function k(){if(Xe(),he({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ie(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ie(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ie(Se,Be,ee){w&&w.abort(),w=null,y=Se,E=(ee&&ee.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),v=(ee&&ee.preventScrollReset)===!0;let q=ee&&ee.overrideNavigation,K=Sg(e,Be,t.basename);if(!K){let Nt=ll(404,{pathname:Be.pathname}),{matches:Pt,route:zt}=aM(e);tt(),fe(Be,{matches:Pt,loaderData:{},errors:{[zt.id]:Nt}});return}if(CG(m.location,Be)&&!(ee&&ee.submission&&su(ee.submission.formMethod))){fe(Be,{matches:K});return}w=new AbortController;let V=gp(t.history,Be,w.signal,ee&&ee.submission),je,Ze;if(ee&&ee.pendingError)Ze={[fd(K).route.id]:ee.pendingError};else if(ee&&ee.submission&&su(ee.submission.formMethod)){let Nt=await ge(V,Be,ee.submission,K,{replace:ee.replace});if(Nt.shortCircuited)return;je=Nt.pendingActionData,Ze=Nt.pendingActionError,q=Qn({state:"loading",location:Be},ee.submission),V=new Request(V.url,{signal:V.signal})}let{shortCircuited:ke,loaderData:Rt,errors:It}=await H(V,Be,K,q,ee&&ee.submission,ee&&ee.replace,je,Ze);ke||(w=null,fe(Be,Qn({matches:K},je?{actionData:je}:{},{loaderData:Rt,errors:It})))}async function ge(Se,Be,ee,q,K){Xe();let V=Qn({state:"submitting",location:Be},ee);he({navigation:V});let je,Ze=lM(q,Be);if(!Ze.route.action)je={type:Di.error,error:ll(405,{method:Se.method,pathname:Be.pathname,routeId:Ze.route.id})};else if(je=await pp("action",Se,Ze,q,p.basename),Se.signal.aborted)return{shortCircuited:!0};if(gd(je)){let ke;return K.replace!=null?ke=K.replace:ke=je.location===m.location.pathname+m.location.search,await Re(m,je,{submission:ee,replace:ke}),{shortCircuited:!0}}if(Ng(je)){let ke=fd(q,Ze.route.id);return K.replace!==!0&&(y=ni.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(Nc(je))throw ll(400,{type:"defer-action"});return{pendingActionData:{[Ze.route.id]:je.data}}}async function H(Se,Be,ee,q,K,V,je,Ze){let ke=q;ke||(ke=Qn({state:"loading",location:Be,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},K));let Rt=K||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[It,Nt]=tM(t.history,m,ee,Rt,Be,b,x,A,je,Ze,X);if(tt(ln=>!(ee&&ee.some(Ln=>Ln.route.id===ln))||It&&It.some(Ln=>Ln.route.id===ln)),It.length===0&&Nt.length===0)return fe(Be,Qn({matches:ee,loaderData:{},errors:Ze||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!E){Nt.forEach(Ln=>{let ur=m.fetchers.get(Ln.key),Ie={state:"loading",data:ur&&ur.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Ln.key,Ie)});let ln=je||m.actionData;he(Qn({navigation:ke},ln?Object.keys(ln).length===0?{actionData:null}:{actionData:ln}:{},Nt.length>0?{fetchers:new Map(m.fetchers)}:{}))}D=++M,Nt.forEach(ln=>I.set(ln.key,w));let{results:Pt,loaderResults:zt,fetcherResults:Cr}=await Fe(m.matches,ee,It,Nt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Nt.forEach(ln=>I.delete(ln.key));let dn=sM(Pt);if(dn)return await Re(m,dn,{replace:V}),{shortCircuited:!0};let{loaderData:hn,errors:gr}=rM(m,ee,It,zt,Ze,Nt,Cr,U);U.forEach((ln,Ln)=>{ln.subscribe(ur=>{(ur||ln.done)&&U.delete(Ln)})}),W();let un=de(D);return Qn({loaderData:hn,errors:gr},un||Nt.length>0?{fetchers:new Map(m.fetchers)}:{})}function Y(Se){return m.fetchers.get(Se)||_G}function pe(Se,Be,ee,q){if(wG)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");I.has(Se)&&$(Se);let K=Sg(e,ee,t.basename);if(!K){se(Se,Be,ll(404,{pathname:ee}));return}let{path:V,submission:je}=eM(ee,q,!0),Ze=lM(K,V);if(v=(q&&q.preventScrollReset)===!0,je&&su(je.formMethod)){Ae(Se,Be,V,Ze,K,je);return}X.set(Se,{routeId:Be,path:V,match:Ze,matches:K}),Je(Se,Be,V,Ze,K,je)}async function Ae(Se,Be,ee,q,K,V){if(Xe(),X.delete(Se),!q.route.action){let Mt=ll(405,{method:V.formMethod,pathname:ee,routeId:Be});se(Se,Be,Mt);return}let je=m.fetchers.get(Se),Ze=Qn({state:"submitting"},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),he({fetchers:new Map(m.fetchers)});let ke=new AbortController,Rt=gp(t.history,ee,ke.signal,V);I.set(Se,ke);let It=await pp("action",Rt,q,K,p.basename);if(Rt.signal.aborted){I.get(Se)===ke&&I.delete(Se);return}if(gd(It)){I.delete(Se),Z.add(Se);let Mt=Qn({state:"loading"},V,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,Mt),he({fetchers:new Map(m.fetchers)}),Re(m,It,{isFetchActionRedirect:!0})}if(Ng(It)){se(Se,Be,It.error);return}if(Nc(It))throw ll(400,{type:"defer-action"});let Nt=m.navigation.location||m.location,Pt=gp(t.history,Nt,ke.signal),zt=m.navigation.state!=="idle"?Sg(e,m.navigation.location,t.basename):m.matches;wn(zt,"Didn't find any matches after fetcher action");let Cr=++M;F.set(Se,Cr);let dn=Qn({state:"loading",data:It.data},V,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,dn);let[hn,gr]=tM(t.history,m,zt,V,Nt,b,x,A,{[q.route.id]:It.data},void 0,X);gr.filter(Mt=>Mt.key!==Se).forEach(Mt=>{let Hn=Mt.key,Jn=m.fetchers.get(Hn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Hn,We),I.set(Hn,ke)}),he({fetchers:new Map(m.fetchers)});let{results:un,loaderResults:ln,fetcherResults:Ln}=await Fe(m.matches,zt,hn,gr,Pt);if(ke.signal.aborted)return;F.delete(Se),I.delete(Se),gr.forEach(Mt=>I.delete(Mt.key));let ur=sM(un);if(ur)return Re(m,ur);let{loaderData:Ie,errors:qe}=rM(m,m.matches,hn,ln,void 0,gr,Ln,U),bt={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,bt);let Et=de(Cr);m.navigation.state==="loading"&&Cr>D?(wn(y,"Expected pending action"),w&&w.abort(),fe(m.navigation.location,{matches:zt,loaderData:Ie,errors:qe,fetchers:new Map(m.fetchers)})):(he(Qn({errors:qe,loaderData:iM(m.loaderData,Ie,zt,qe)},Et?{fetchers:new Map(m.fetchers)}:{})),b=!1)}async function Je(Se,Be,ee,q,K,V){let je=m.fetchers.get(Se),Ze=Qn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},V,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Ze),he({fetchers:new Map(m.fetchers)});let ke=new AbortController,Rt=gp(t.history,ee,ke.signal);I.set(Se,ke);let It=await pp("loader",Rt,q,K,p.basename);if(Nc(It)&&(It=await M8(It,Rt.signal,!0)||It),I.get(Se)===ke&&I.delete(Se),Rt.signal.aborted)return;if(gd(It)){await Re(m,It);return}if(Ng(It)){let Pt=fd(m.matches,Be);m.fetchers.delete(Se),he({fetchers:new Map(m.fetchers),errors:{[Pt.route.id]:It.error}});return}wn(!Nc(It),"Unhandled fetcher deferred data");let Nt={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,Nt),he({fetchers:new Map(m.fetchers)})}async function Re(Se,Be,ee){var q;let{submission:K,replace:V,isFetchActionRedirect:je}=ee===void 0?{}:ee;Be.revalidate&&(b=!0);let Ze=Gg(Se.location,Be.location,Qn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(wn(Ze,"Expected a location on the redirect navigation"),P8&&typeof((q=window)==null?void 0:q.location)<"u"){let zt=t.history.createURL(Be.location).origin;if(window.location.origin!==zt){V?window.location.replace(Be.location):window.location.assign(Be.location);return}}w=null;let ke=V===!0?ni.Replace:ni.Push,{formMethod:Rt,formAction:It,formEncType:Nt,formData:Pt}=Se.navigation;!K&&Rt&&It&&Pt&&Nt&&(K={formMethod:Rt,formAction:It,formEncType:Nt,formData:Pt}),vG.has(Be.status)&&K&&su(K.formMethod)?await ie(ke,Ze,{submission:Qn({},K,{formAction:Be.location}),preventScrollReset:v}):await ie(ke,Ze,{overrideNavigation:{state:"loading",location:Ze,formMethod:K?K.formMethod:void 0,formAction:K?K.formAction:void 0,formEncType:K?K.formEncType:void 0,formData:K?K.formData:void 0},preventScrollReset:v})}async function Fe(Se,Be,ee,q,K){let V=await Promise.all([...ee.map(ke=>pp("loader",K,ke,Be,p.basename)),...q.map(ke=>pp("loader",gp(t.history,ke.path,K.signal),ke.match,ke.matches,p.basename))]),je=V.slice(0,ee.length),Ze=V.slice(ee.length);return await Promise.all([oM(Se,ee,je,K.signal,!1,m.loaderData),oM(Se,q.map(ke=>ke.match),Ze,K.signal,!0)]),{results:V,loaderResults:je,fetcherResults:Ze}}function Xe(){b=!0,x.push(...tt()),X.forEach((Se,Be)=>{I.has(Be)&&(A.push(Be),$(Be))})}function se(Se,Be,ee){let q=fd(m.matches,Be);z(Se),he({errors:{[q.route.id]:ee},fetchers:new Map(m.fetchers)})}function z(Se){I.has(Se)&&$(Se),X.delete(Se),F.delete(Se),Z.delete(Se),m.fetchers.delete(Se)}function $(Se){let Be=I.get(Se);wn(Be,"Expected fetch controller: "+Se),Be.abort(),I.delete(Se)}function ae(Se){for(let Be of Se){let q={state:"idle",data:Y(Be).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Be,q)}}function W(){let Se=[];for(let Be of Z){let ee=m.fetchers.get(Be);wn(ee,"Expected fetcher: "+Be),ee.state==="loading"&&(Z.delete(Be),Se.push(Be))}ae(Se)}function de(Se){let Be=[];for(let[ee,q]of F)if(q<Se){let K=m.fetchers.get(ee);wn(K,"Expected fetcher: "+ee),K.state==="loading"&&($(ee),F.delete(ee),Be.push(ee))}return ae(Be),Be.length>0}function ye(Se,Be){let ee=m.blockers.get(Se)||XL;return ce.get(Se)!==Be&&(ce.set(Se,Be),J==null?J=Se:Se!==J&&Wg(!1,"A router only supports one blocker at a time")),ee}function He(Se){m.blockers.delete(Se),ce.delete(Se),J===Se&&(J=null)}function Te(Se,Be){let ee=m.blockers.get(Se)||XL;wn(ee.state==="unblocked"&&Be.state==="blocked"||ee.state==="blocked"&&Be.state==="blocked"||ee.state==="blocked"&&Be.state==="proceeding"||ee.state==="blocked"&&Be.state==="unblocked"||ee.state==="proceeding"&&Be.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+Be.state),m.blockers.set(Se,Be),he({blockers:new Map(m.blockers)})}function Ne(Se){let{currentLocation:Be,nextLocation:ee,historyAction:q}=Se;if(J==null)return;let K=ce.get(J);wn(K,"Could not find a function for the active blocker");let V=m.blockers.get(J);if(!(V&&V.state==="proceeding")&&K({currentLocation:Be,nextLocation:ee,historyAction:q}))return J}function tt(Se){let Be=[];return U.forEach((ee,q)=>{(!Se||Se(q))&&(ee.cancel(),Be.push(q),U.delete(q))}),Be}function nt(Se,Be,ee){if(i=Se,s=Be,a=ee||(q=>q.key),!o&&m.navigation===I1){o=!0;let q=qt(m.location,m.matches);q!=null&&he({restoreScrollPosition:q})}return()=>{i=null,s=null,a=null}}function gt(Se,Be){if(i&&a&&s){let ee=Be.map(K=>uM(K,m.loaderData)),q=a(Se,ee)||Se.key;i[q]=s()}}function qt(Se,Be){if(i&&a&&s){let ee=Be.map(V=>uM(V,m.loaderData)),q=a(Se,ee)||Se.key,K=i[q];if(typeof K=="number")return K}return null}return p={get basename(){return t.basename},get state(){return m},get routes(){return e},initialize:ue,subscribe:be,enableScrollRestoration:nt,navigate:Oe,fetch:pe,revalidate:k,createHref:Se=>t.history.createHref(Se),encodeLocation:Se=>t.history.encodeLocation(Se),getFetcher:Y,deleteFetcher:z,dispose:me,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:I,_internalActiveDeferreds:U},p}function SG(t){return t!=null&&"formData"in t}function eM(t,e,n){n===void 0&&(n=!1);let r=typeof t=="string"?t:_o(t);if(!e||!SG(e))return{path:r};if(e.formMethod&&!RG(e.formMethod))return{path:r,error:ll(405,{method:e.formMethod})};let i;if(e.formData&&(i={formMethod:e.formMethod||"get",formAction:L8(r),formEncType:e&&e.formEncType||"application/x-www-form-urlencoded",formData:e.formData},su(i.formMethod)))return{path:r,submission:i};let a=vu(r),s=I8(e.formData);return n&&a.search&&D8(a.search)&&s.append("index",""),a.search="?"+s,{path:_o(a),submission:i}}function xG(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function tM(t,e,n,r,i,a,s,o,l,c,h){let p=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),v=a||m.toString()===y.toString()||m.search!==y.search,w=c?Object.keys(c)[0]:void 0,b=xG(n,w).filter((A,I)=>{if(A.route.loader==null)return!1;if(EG(e.loaderData,e.matches[I],A)||s.some(F=>F===A.route.id))return!0;let M=e.matches[I],D=A;return nM(A,Qn({currentUrl:m,currentParams:M.params,nextUrl:y,nextParams:D.params},r,{actionResult:p,defaultShouldRevalidate:v||O8(M,D)}))}),x=[];return h&&h.forEach((A,I)=>{if(n.some(M=>M.route.id===A.routeId))o.includes(I)?x.push(Qn({key:I},A)):nM(A.match,Qn({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:p,defaultShouldRevalidate:v}))&&x.push(Qn({key:I},A));else return}),[b,x]}function EG(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function O8(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function nM(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function pp(t,e,n,r,i,a,s,o){i===void 0&&(i="/"),a===void 0&&(a=!1),s===void 0&&(s=!1);let l,c,h,p=new Promise((y,v)=>h=v),m=()=>h();e.signal.addEventListener("abort",m);try{let y=n.route[t];wn(y,"Could not find the "+t+' to run on the "'+n.route.id+'" route'),c=await Promise.race([y({request:e,params:n.params,context:o}),p]),wn(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(y){l=Di.error,c=y}finally{e.signal.removeEventListener("abort",m)}if(AG(c)){let y=c.status;if(yG.has(y)){let E=c.headers.get("Location");if(wn(E,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(E)){if(!a){let x=new URL(e.url),A=E.startsWith("//")?new URL(x.protocol+E):new URL(E);A.origin===x.origin&&(E=A.pathname+A.search+A.hash)}}else{let x=r.slice(0,r.indexOf(n)+1),A=I0(x).map(M=>M.pathnameBase),I=JA(E,A,new URL(e.url).pathname);if(wn(_o(I),"Unable to resolve redirect location: "+E),i){let M=I.pathname;I.pathname=M==="/"?i:lu([i,M])}E=_o(I)}if(a)throw c.headers.set("Location",E),c;return{type:Di.redirect,status:y,location:E,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(s)throw{type:l||Di.data,response:c};let v,w=c.headers.get("Content-Type");return w&&/\bapplication\/json\b/.test(w)?v=await c.json():v=await c.text(),l===Di.error?{type:l,error:new YA(y,c.statusText,v),headers:c.headers}:{type:Di.data,data:v,statusCode:c.status,headers:c.headers}}return l===Di.error?{type:l,error:c}:c instanceof fG?{type:Di.deferred,deferredData:c}:{type:Di.data,data:c}}function gp(t,e,n,r){let i=t.createURL(L8(e)).toString(),a={signal:n};if(r&&su(r.formMethod)){let{formMethod:s,formEncType:o,formData:l}=r;a.method=s.toUpperCase(),a.body=o==="application/x-www-form-urlencoded"?I8(l):l}return new Request(i,a)}function I8(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,r instanceof File?r.name:r);return e}function TG(t,e,n,r,i){let a={},s=null,o,l=!1,c={};return n.forEach((h,p)=>{let m=e[p].route.id;if(wn(!gd(h),"Cannot handle redirect results in processLoaderData"),Ng(h)){let y=fd(t,m),v=h.error;r&&(v=Object.values(r)[0],r=void 0),s=s||{},s[y.route.id]==null&&(s[y.route.id]=v),a[m]=void 0,l||(l=!0,o=A8(h.error)?h.error.status:500),h.headers&&(c[m]=h.headers)}else Nc(h)?(i.set(m,h.deferredData),a[m]=h.deferredData.data):a[m]=h.data,h.statusCode!=null&&h.statusCode!==200&&!l&&(o=h.statusCode),h.headers&&(c[m]=h.headers)}),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function rM(t,e,n,r,i,a,s,o){let{loaderData:l,errors:c}=TG(e,n,r,i,o);for(let h=0;h<a.length;h++){let{key:p,match:m}=a[h];wn(s!==void 0&&s[h]!==void 0,"Did not find corresponding fetcher result");let y=s[h];if(Ng(y)){let v=fd(t.matches,m.route.id);c&&c[v.route.id]||(c=Qn({},c,{[v.route.id]:y.error})),t.fetchers.delete(p)}else if(gd(y))wn(!1,"Unhandled fetcher revalidation redirect");else if(Nc(y))wn(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};t.fetchers.set(p,v)}}return{loaderData:l,errors:c}}function iM(t,e,n,r){let i=Qn({},e);for(let a of n){let s=a.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function fd(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function aM(t){let e=t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ll(t,e){let{pathname:n,routeId:r,method:i,type:a}=e===void 0?{}:e,s="Unknown Server Error",o="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?o="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(o="defer() is not supported in actions")):t===403?(s="Forbidden",o='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",o='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?o="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new YA(t||500,s,new Error(o),!0)}function sM(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(gd(n))return n}}function L8(t){let e=typeof t=="string"?vu(t):t;return _o(Qn({},e,{hash:""}))}function CG(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash!==e.hash}function Nc(t){return t.type===Di.deferred}function Ng(t){return t.type===Di.error}function gd(t){return(t&&t.type)===Di.redirect}function AG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function RG(t){return mG.has(t)}function su(t){return pG.has(t)}async function oM(t,e,n,r,i,a){for(let s=0;s<n.length;s++){let o=n[s],l=e[s],c=t.find(p=>p.route.id===l.route.id),h=c!=null&&!O8(c,l)&&(a&&a[l.route.id])!==void 0;Nc(o)&&(i||h)&&await M8(o,r,i).then(p=>{p&&(n[s]=p||n[s])})}}async function M8(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Di.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Di.error,error:i}}return{type:Di.data,data:t.deferredData.data}}}function D8(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function uM(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function lM(t,e){let n=typeof e=="string"?vu(e).search:e.search;if(t[t.length-1].route.index&&D8(n||""))return t[t.length-1];let r=I0(t);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}function PG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const OG=typeof Object.is=="function"?Object.is:PG,{useState:IG,useEffect:LG,useLayoutEffect:MG,useDebugValue:DG}=jd;function kG(t,e,n){const r=e(),[{inst:i},a]=IG({inst:{value:r,getSnapshot:e}});return MG(()=>{i.value=r,i.getSnapshot=e,L1(i)&&a({inst:i})},[t,r,e]),LG(()=>(L1(i)&&a({inst:i}),t(()=>{L1(i)&&a({inst:i})})),[t]),DG(r),r}function L1(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!OG(n,r)}catch{return!0}}function NG(t,e,n){return e()}const FG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jG=!FG,$G=jG?NG:kG,UG="useSyncExternalStore"in jd?(t=>t.useSyncExternalStore)(jd):$G,XA=ne.createContext(null),xm=ne.createContext(null),Em=ne.createContext(null),L0=ne.createContext(null),Ll=ne.createContext({outlet:null,matches:[]}),k8=ne.createContext(null);function BG(t,e){let{relative:n}=e===void 0?{}:e;Jd()||wn(!1);let{basename:r,navigator:i}=ne.useContext(Em),{hash:a,pathname:s,search:o}=tR(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:lu([r,s])),i.createHref({pathname:l,search:o,hash:a})}function Jd(){return ne.useContext(L0)!=null}function Yd(){return Jd()||wn(!1),ne.useContext(L0).location}function Xd(){Jd()||wn(!1);let{basename:t,navigator:e}=ne.useContext(Em),{matches:n}=ne.useContext(Ll),{pathname:r}=Yd(),i=JSON.stringify(I0(n).map(o=>o.pathnameBase)),a=ne.useRef(!1);return ne.useEffect(()=>{a.current=!0}),ne.useCallback(function(o,l){if(l===void 0&&(l={}),!a.current)return;if(typeof o=="number"){e.go(o);return}let c=JA(o,JSON.parse(i),r,l.relative==="path");t!=="/"&&(c.pathname=c.pathname==="/"?t:lu([t,c.pathname])),(l.replace?e.replace:e.push)(c,l.state,l)},[t,e,i,r])}const qG=ne.createContext(null);function zG(t){let e=ne.useContext(Ll).outlet;return e&&ne.createElement(qG.Provider,{value:t},e)}function eR(){let{matches:t}=ne.useContext(Ll),e=t[t.length-1];return e?e.params:{}}function tR(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=ne.useContext(Ll),{pathname:i}=Yd(),a=JSON.stringify(I0(r).map(s=>s.pathnameBase));return ne.useMemo(()=>JA(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function HG(t,e){Jd()||wn(!1);let{navigator:n}=ne.useContext(Em),r=ne.useContext(xm),{matches:i}=ne.useContext(Ll),a=i[i.length-1],s=a?a.params:{};a&&a.pathname;let o=a?a.pathnameBase:"/";a&&a.route;let l=Yd(),c;if(e){var h;let w=typeof e=="string"?vu(e):e;o==="/"||(h=w.pathname)!=null&&h.startsWith(o)||wn(!1),c=w}else c=l;let p=c.pathname||"/",m=o==="/"?p:p.slice(o.length)||"/",y=Sg(t,{pathname:m}),v=WG(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},s,w.params),pathname:lu([o,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?o:lu([o,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r||void 0);return e&&v?ne.createElement(L0.Provider,{value:{location:Q_({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ni.Pop}},v):v}function VG(){let t=YG(),e=A8(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),n?ne.createElement("pre",{style:i},n):null,null)}class KG extends ne.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?ne.createElement(Ll.Provider,{value:this.props.routeContext},ne.createElement(k8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function GG(t){let{routeContext:e,match:n,children:r}=t,i=ne.useContext(XA);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(Ll.Provider,{value:e},r)}function WG(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));a>=0||wn(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,s,o)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,c=n?s.route.errorElement||ne.createElement(VG,null):null,h=e.concat(r.slice(0,o+1)),p=()=>ne.createElement(GG,{match:s,routeContext:{outlet:a,matches:h}},l?c:s.route.element!==void 0?s.route.element:a);return n&&(s.route.errorElement||o===0)?ne.createElement(KG,{location:n.location,component:c,error:l,children:p(),routeContext:{outlet:null,matches:h}}):p()},null)}var cM;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(cM||(cM={}));var Z_;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Z_||(Z_={}));function QG(t){let e=ne.useContext(xm);return e||wn(!1),e}function ZG(t){let e=ne.useContext(Ll);return e||wn(!1),e}function JG(t){let e=ZG(),n=e.matches[e.matches.length-1];return n.route.id||wn(!1),n.route.id}function YG(){var t;let e=ne.useContext(k8),n=QG(Z_.UseRouteError),r=JG(Z_.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function XG(t){let{fallbackElement:e,router:n}=t,r=UG(n.subscribe,()=>n.state,()=>n.state),i=ne.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:s=>n.navigate(s),push:(s,o,l)=>n.navigate(s,{state:o,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(s,o,l)=>n.navigate(s,{replace:!0,state:o,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return ne.createElement(ne.Fragment,null,ne.createElement(XA.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},ne.createElement(xm.Provider,{value:r},ne.createElement(tW,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?ne.createElement(nW,null):e))),null)}function nR(t){let{to:e,replace:n,state:r,relative:i}=t;Jd()||wn(!1);let a=ne.useContext(xm),s=Xd();return ne.useEffect(()=>{a&&a.navigation.state!=="idle"||s(e,{replace:n,state:r,relative:i})}),null}function M0(t){return zG(t.context)}function eW(t){wn(!1)}function tW(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ni.Pop,navigator:a,static:s=!1}=t;Jd()&&wn(!1);let o=e.replace(/^\/*/,"/"),l=ne.useMemo(()=>({basename:o,navigator:a,static:s}),[o,a,s]);typeof r=="string"&&(r=vu(r));let{pathname:c="/",search:h="",hash:p="",state:m=null,key:y="default"}=r,v=ne.useMemo(()=>{let w=C8(c,o);return w==null?null:{pathname:w,search:h,hash:p,state:m,key:y}},[o,c,h,p,m,y]);return v==null?null:ne.createElement(Em.Provider,{value:l},ne.createElement(L0.Provider,{children:n,value:{location:v,navigationType:i}}))}function nW(t){let{children:e,location:n}=t,r=ne.useContext(XA),i=r&&!e?r.router.routes:$C(e);return HG(i,n)}var fM;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(fM||(fM={}));new Promise(()=>{});function $C(t,e){e===void 0&&(e=[]);let n=[];return ne.Children.forEach(t,(r,i)=>{if(!ne.isValidElement(r))return;if(r.type===ne.Fragment){n.push.apply(n,$C(r.props.children,e));return}r.type!==eW&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a=[...e,i],s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=$C(r.props.children,a)),n.push(s)}),n}function N8(t){return t.map(e=>{let n=Q_({},e);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=N8(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qg.apply(this,arguments)}function F8(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iW(t,e){return t.button===0&&(!e||e==="_self")&&!rW(t)}function UC(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function aW(t,e){let n=UC(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)});return n}const sW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],oW=["aria-current","caseSensitive","className","end","style","to","children"];function uW(t,e){return bG({basename:void 0,history:qK({window:void 0}),hydrationData:lW(),routes:N8(t)}).initialize()}function lW(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Qg({},e,{errors:cW(e.errors)})),e}function cW(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new YA(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const fW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ds=ne.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:c,preventScrollReset:h}=e,p=F8(e,sW),m=typeof c=="string"?c:_o(c),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),v=m,w=!1;if(fW&&y){let A=new URL(window.location.href),I=m.startsWith("//")?new URL(A.protocol+m):new URL(m);I.origin===A.origin?v=I.pathname+I.search+I.hash:w=!0}let E=BG(v,{relative:i}),b=hW(v,{replace:s,state:o,target:l,preventScrollReset:h,relative:i});function x(A){r&&r(A),A.defaultPrevented||b(A)}return ne.createElement("a",Qg({},p,{href:y?m:E,onClick:w||a?r:x,ref:n,target:l}))}),dW=ne.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,children:c}=e,h=F8(e,oW),p=tR(l,{relative:h.relative}),m=Yd(),y=ne.useContext(xm),{navigator:v}=ne.useContext(Em),w=v.encodeLocation?v.encodeLocation(p).pathname:p.pathname,E=m.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(E=E.toLowerCase(),b=b?b.toLowerCase():null,w=w.toLowerCase());let x=E===w||!s&&E.startsWith(w)&&E.charAt(w.length)==="/",A=b!=null&&(b===w||!s&&b.startsWith(w)&&b.charAt(w.length)==="/"),I=x?r:void 0,M;typeof a=="function"?M=a({isActive:x,isPending:A}):M=[a,x?"active":null,A?"pending":null].filter(Boolean).join(" ");let D=typeof o=="function"?o({isActive:x,isPending:A}):o;return ne.createElement(Ds,Qg({},h,{"aria-current":I,className:M,ref:n,style:D,to:l}),typeof c=="function"?c({isActive:x,isPending:A}):c)});var dM;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(dM||(dM={}));var hM;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hM||(hM={}));function hW(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s}=e===void 0?{}:e,o=Xd(),l=Yd(),c=tR(t,{relative:s});return ne.useCallback(h=>{if(iW(h,n)){h.preventDefault();let p=r!==void 0?r:_o(l)===_o(c);o(t,{replace:p,state:i,preventScrollReset:a,relative:s})}},[l,o,c,r,i,n,t,a,s])}function pW(t){let e=ne.useRef(UC(t)),n=ne.useRef(!1),r=Yd(),i=ne.useMemo(()=>aW(r.search,n.current?null:e.current),[r.search]),a=Xd(),s=ne.useCallback((o,l)=>{const c=UC(typeof o=="function"?o(i):o);n.current=!0,a("?"+c,l)},[a,i]);return[i,s]}function C_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?C_=function(n){return typeof n}:C_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},C_(t)}function gW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yW(t,e,n){return mW(t.prototype,e),t}function vW(t,e){return e&&(C_(e)==="object"||typeof e=="function")?e:A_(t)}function BC(t){return BC=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},BC(t)}function A_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _W(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qC(t,e)}function qC(t,e){return qC=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},qC(t,e)}function R_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j8=function(t){_W(e,t);function e(){var n,r;gW(this,e);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=vW(this,(n=BC(e)).call.apply(n,[this].concat(a))),R_(A_(r),"state",{bootstrapped:!1}),R_(A_(r),"_unsubscribe",void 0),R_(A_(r),"handlePersistorState",function(){var o=r.props.persistor,l=o.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return yW(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(ne.PureComponent);R_(j8,"defaultProps",{children:null,loading:null});const wW="modulepreload",bW=function(t){return"/"+t},pM={},gM=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=bW(l),l in pM)return;pM[l]=!0;const c=l.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":wW,c||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),c)return new Promise((m,y)=>{p.addEventListener("load",m),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},SW=(t,e,n)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},Ml=jK,bi=BK,$8="https://solidweb.me/solidcouch/community#us",U8="solidcouch",xW="https://service.notifications.tired.bike",EW="https://id.notifications.tired.bike/profile/card#me",B8="simple",q8="",z8="",H8="SolidCouch",mM="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",yM="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var xg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var TW=xg.exports,vM;function CW(){return vM||(vM=1,function(t,e){(function(n,r){r(e)})(TW,function(n){var r="1.9.4";function i(d){var _,P,B,te;for(P=1,B=arguments.length;P<B;P++){te=arguments[P];for(_ in te)d[_]=te[_]}return d}var a=Object.create||function(){function d(){}return function(_){return d.prototype=_,new d}}();function s(d,_){var P=Array.prototype.slice;if(d.bind)return d.bind.apply(d,P.call(arguments,1));var B=P.call(arguments,2);return function(){return d.apply(_,B.length?B.concat(P.call(arguments)):arguments)}}var o=0;function l(d){return"_leaflet_id"in d||(d._leaflet_id=++o),d._leaflet_id}function c(d,_,P){var B,te,ve,Ge;return Ge=function(){B=!1,te&&(ve.apply(P,te),te=!1)},ve=function(){B?te=arguments:(d.apply(P,arguments),setTimeout(Ge,_),B=!0)},ve}function h(d,_,P){var B=_[1],te=_[0],ve=B-te;return d===B&&P?d:((d-te)%ve+ve)%ve+te}function p(){return!1}function m(d,_){if(_===!1)return d;var P=Math.pow(10,_===void 0?6:_);return Math.round(d*P)/P}function y(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function v(d){return y(d).split(/\s+/)}function w(d,_){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var P in _)d.options[P]=_[P];return d.options}function E(d,_,P){var B=[];for(var te in d)B.push(encodeURIComponent(P?te.toUpperCase():te)+"="+encodeURIComponent(d[te]));return(!_||_.indexOf("?")===-1?"?":"&")+B.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function x(d,_){return d.replace(b,function(P,B){var te=_[B];if(te===void 0)throw new Error("No value provided for variable "+P);return typeof te=="function"&&(te=te(_)),te})}var A=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function I(d,_){for(var P=0;P<d.length;P++)if(d[P]===_)return P;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var F=0;function Z(d){var _=+new Date,P=Math.max(0,16-(_-F));return F=_+P,window.setTimeout(d,P)}var X=window.requestAnimationFrame||D("RequestAnimationFrame")||Z,U=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function J(d,_,P){if(P&&X===Z)d.call(_);else return X.call(window,s(d,_))}function ce(d){d&&U.call(window,d)}var re={__proto__:null,extend:i,create:a,bind:s,get lastId(){return o},stamp:l,throttle:c,wrapNum:h,falseFn:p,formatNum:m,trim:y,splitWords:v,setOptions:w,getParamString:E,template:x,isArray:A,indexOf:I,emptyImageUrl:M,requestFn:X,cancelFn:U,requestAnimFrame:J,cancelAnimFrame:ce};function ue(){}ue.extend=function(d){var _=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=_.__super__=this.prototype,B=a(P);B.constructor=_,_.prototype=B;for(var te in this)Object.prototype.hasOwnProperty.call(this,te)&&te!=="prototype"&&te!=="__super__"&&(_[te]=this[te]);return d.statics&&i(_,d.statics),d.includes&&(me(d.includes),i.apply(null,[B].concat(d.includes))),i(B,d),delete B.statics,delete B.includes,B.options&&(B.options=P.options?a(P.options):{},i(B.options,d.options)),B._initHooks=[],B.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=B._initHooks.length;ve<Ge;ve++)B._initHooks[ve].call(this)}},_},ue.include=function(d){var _=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=_,this.mergeOptions(d.options)),this},ue.mergeOptions=function(d){return i(this.prototype.options,d),this},ue.addInitHook=function(d){var _=Array.prototype.slice.call(arguments,1),P=typeof d=="function"?d:function(){this[d].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function me(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=A(d)?d:[d];for(var _=0;_<d.length;_++)d[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var be={on:function(d,_,P){if(typeof d=="object")for(var B in d)this._on(B,d[B],_);else{d=v(d);for(var te=0,ve=d.length;te<ve;te++)this._on(d[te],_,P)}return this},off:function(d,_,P){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var B in d)this._off(B,d[B],_);else{d=v(d);for(var te=arguments.length===1,ve=0,Ge=d.length;ve<Ge;ve++)te?this._off(d[ve]):this._off(d[ve],_,P)}return this},_on:function(d,_,P,B){if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}if(this._listens(d,_,P)===!1){P===this&&(P=void 0);var te={fn:_,ctx:P};B&&(te.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(te)}},_off:function(d,_,P){var B,te,ve;if(this._events&&(B=this._events[d],!!B)){if(arguments.length===1){if(this._firingCount)for(te=0,ve=B.length;te<ve;te++)B[te].fn=p;delete this._events[d];return}if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}var Ge=this._listens(d,_,P);if(Ge!==!1){var ot=B[Ge];this._firingCount&&(ot.fn=p,this._events[d]=B=B.slice()),B.splice(Ge,1)}}},fire:function(d,_,P){if(!this.listens(d,P))return this;var B=i({},_,{type:d,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var te=this._events[d];if(te){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=te.length;ve<Ge;ve++){var ot=te[ve],yt=ot.fn;ot.once&&this.off(d,yt,ot.ctx),yt.call(ot.ctx||this,B)}this._firingCount--}}return P&&this._propagateEvent(B),this},listens:function(d,_,P,B){typeof d!="string"&&console.warn('"string" type argument expected');var te=_;typeof _!="function"&&(B=!!_,te=void 0,P=void 0);var ve=this._events&&this._events[d];if(ve&&ve.length&&this._listens(d,te,P)!==!1)return!0;if(B){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(d,_,P,B))return!0}return!1},_listens:function(d,_,P){if(!this._events)return!1;var B=this._events[d]||[];if(!_)return!!B.length;P===this&&(P=void 0);for(var te=0,ve=B.length;te<ve;te++)if(B[te].fn===_&&B[te].ctx===P)return te;return!1},once:function(d,_,P){if(typeof d=="object")for(var B in d)this._on(B,d[B],_,!0);else{d=v(d);for(var te=0,ve=d.length;te<ve;te++)this._on(d[te],_,P,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[l(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[l(d)],this},_propagateEvent:function(d){for(var _ in this._eventParents)this._eventParents[_].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};be.addEventListener=be.on,be.removeEventListener=be.clearAllEventListeners=be.off,be.addOneTimeEventListener=be.once,be.fireEvent=be.fire,be.hasEventListeners=be.listens;var he=ue.extend(be);function fe(d,_,P){this.x=P?Math.round(d):d,this.y=P?Math.round(_):_}var Oe=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};fe.prototype={clone:function(){return new fe(this.x,this.y)},add:function(d){return this.clone()._add(k(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(k(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new fe(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new fe(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Oe(this.x),this.y=Oe(this.y),this},distanceTo:function(d){d=k(d);var _=d.x-this.x,P=d.y-this.y;return Math.sqrt(_*_+P*P)},equals:function(d){return d=k(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=k(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function k(d,_,P){return d instanceof fe?d:A(d)?new fe(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new fe(d.x,d.y):new fe(d,_,P)}function ie(d,_){if(d)for(var P=_?[d,_]:d,B=0,te=P.length;B<te;B++)this.extend(P[B])}ie.prototype={extend:function(d){var _,P;if(!d)return this;if(d instanceof fe||typeof d[0]=="number"||"x"in d)_=P=k(d);else if(d=ge(d),_=d.min,P=d.max,!_||!P)return this;return!this.min&&!this.max?(this.min=_.clone(),this.max=P.clone()):(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(d){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var _,P;return typeof d[0]=="number"||d instanceof fe?d=k(d):d=ge(d),d instanceof ie?(_=d.min,P=d.max):_=P=d,_.x>=this.min.x&&P.x<=this.max.x&&_.y>=this.min.y&&P.y<=this.max.y},intersects:function(d){d=ge(d);var _=this.min,P=this.max,B=d.min,te=d.max,ve=te.x>=_.x&&B.x<=P.x,Ge=te.y>=_.y&&B.y<=P.y;return ve&&Ge},overlaps:function(d){d=ge(d);var _=this.min,P=this.max,B=d.min,te=d.max,ve=te.x>_.x&&B.x<P.x,Ge=te.y>_.y&&B.y<P.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var _=this.min,P=this.max,B=Math.abs(_.x-P.x)*d,te=Math.abs(_.y-P.y)*d;return ge(k(_.x-B,_.y-te),k(P.x+B,P.y+te))},equals:function(d){return d?(d=ge(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function ge(d,_){return!d||d instanceof ie?d:new ie(d,_)}function H(d,_){if(d)for(var P=_?[d,_]:d,B=0,te=P.length;B<te;B++)this.extend(P[B])}H.prototype={extend:function(d){var _=this._southWest,P=this._northEast,B,te;if(d instanceof pe)B=d,te=d;else if(d instanceof H){if(B=d._southWest,te=d._northEast,!B||!te)return this}else return d?this.extend(Ae(d)||Y(d)):this;return!_&&!P?(this._southWest=new pe(B.lat,B.lng),this._northEast=new pe(te.lat,te.lng)):(_.lat=Math.min(B.lat,_.lat),_.lng=Math.min(B.lng,_.lng),P.lat=Math.max(te.lat,P.lat),P.lng=Math.max(te.lng,P.lng)),this},pad:function(d){var _=this._southWest,P=this._northEast,B=Math.abs(_.lat-P.lat)*d,te=Math.abs(_.lng-P.lng)*d;return new H(new pe(_.lat-B,_.lng-te),new pe(P.lat+B,P.lng+te))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof pe||"lat"in d?d=Ae(d):d=Y(d);var _=this._southWest,P=this._northEast,B,te;return d instanceof H?(B=d.getSouthWest(),te=d.getNorthEast()):B=te=d,B.lat>=_.lat&&te.lat<=P.lat&&B.lng>=_.lng&&te.lng<=P.lng},intersects:function(d){d=Y(d);var _=this._southWest,P=this._northEast,B=d.getSouthWest(),te=d.getNorthEast(),ve=te.lat>=_.lat&&B.lat<=P.lat,Ge=te.lng>=_.lng&&B.lng<=P.lng;return ve&&Ge},overlaps:function(d){d=Y(d);var _=this._southWest,P=this._northEast,B=d.getSouthWest(),te=d.getNorthEast(),ve=te.lat>_.lat&&B.lat<P.lat,Ge=te.lng>_.lng&&B.lng<P.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,_){return d?(d=Y(d),this._southWest.equals(d.getSouthWest(),_)&&this._northEast.equals(d.getNorthEast(),_)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Y(d,_){return d instanceof H?d:new H(d,_)}function pe(d,_,P){if(isNaN(d)||isNaN(_))throw new Error("Invalid LatLng object: ("+d+", "+_+")");this.lat=+d,this.lng=+_,P!==void 0&&(this.alt=+P)}pe.prototype={equals:function(d,_){if(!d)return!1;d=Ae(d);var P=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return P<=(_===void 0?1e-9:_)},toString:function(d){return"LatLng("+m(this.lat,d)+", "+m(this.lng,d)+")"},distanceTo:function(d){return Re.distance(this,Ae(d))},wrap:function(){return Re.wrapLatLng(this)},toBounds:function(d){var _=180*d/40075017,P=_/Math.cos(Math.PI/180*this.lat);return Y([this.lat-_,this.lng-P],[this.lat+_,this.lng+P])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function Ae(d,_,P){return d instanceof pe?d:A(d)&&typeof d[0]!="object"?d.length===3?new pe(d[0],d[1],d[2]):d.length===2?new pe(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new pe(d.lat,"lng"in d?d.lng:d.lon,d.alt):_===void 0?null:new pe(d,_,P)}var Je={latLngToPoint:function(d,_){var P=this.projection.project(d),B=this.scale(_);return this.transformation._transform(P,B)},pointToLatLng:function(d,_){var P=this.scale(_),B=this.transformation.untransform(d,P);return this.projection.unproject(B)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var _=this.projection.bounds,P=this.scale(d),B=this.transformation.transform(_.min,P),te=this.transformation.transform(_.max,P);return new ie(B,te)},infinite:!1,wrapLatLng:function(d){var _=this.wrapLng?h(d.lng,this.wrapLng,!0):d.lng,P=this.wrapLat?h(d.lat,this.wrapLat,!0):d.lat,B=d.alt;return new pe(P,_,B)},wrapLatLngBounds:function(d){var _=d.getCenter(),P=this.wrapLatLng(_),B=_.lat-P.lat,te=_.lng-P.lng;if(B===0&&te===0)return d;var ve=d.getSouthWest(),Ge=d.getNorthEast(),ot=new pe(ve.lat-B,ve.lng-te),yt=new pe(Ge.lat-B,Ge.lng-te);return new H(ot,yt)}},Re=i({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(d,_){var P=Math.PI/180,B=d.lat*P,te=_.lat*P,ve=Math.sin((_.lat-d.lat)*P/2),Ge=Math.sin((_.lng-d.lng)*P/2),ot=ve*ve+Math.cos(B)*Math.cos(te)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*yt}}),Fe=6378137,Xe={R:Fe,MAX_LATITUDE:85.0511287798,project:function(d){var _=Math.PI/180,P=this.MAX_LATITUDE,B=Math.max(Math.min(P,d.lat),-P),te=Math.sin(B*_);return new fe(this.R*d.lng*_,this.R*Math.log((1+te)/(1-te))/2)},unproject:function(d){var _=180/Math.PI;return new pe((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*_,d.x*_/this.R)},bounds:function(){var d=Fe*Math.PI;return new ie([-d,-d],[d,d])}()};function se(d,_,P,B){if(A(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=_,this._c=P,this._d=B}se.prototype={transform:function(d,_){return this._transform(d.clone(),_)},_transform:function(d,_){return _=_||1,d.x=_*(this._a*d.x+this._b),d.y=_*(this._c*d.y+this._d),d},untransform:function(d,_){return _=_||1,new fe((d.x/_-this._b)/this._a,(d.y/_-this._d)/this._c)}};function z(d,_,P,B){return new se(d,_,P,B)}var $=i({},Re,{code:"EPSG:3857",projection:Xe,transformation:function(){var d=.5/(Math.PI*Xe.R);return z(d,.5,-d,.5)}()}),ae=i({},$,{code:"EPSG:900913"});function W(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function de(d,_){var P="",B,te,ve,Ge,ot,yt;for(B=0,ve=d.length;B<ve;B++){for(ot=d[B],te=0,Ge=ot.length;te<Ge;te++)yt=ot[te],P+=(te?"L":"M")+yt.x+" "+yt.y;P+=_?Ee.svg?"z":"x":""}return P||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Te=He&&!document.addEventListener,Ne="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),qt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&qt<537&&!("AudioNode"in window),Be=!!window.opera,ee=!Ne&&We("chrome"),q=We("gecko")&&!tt&&!Be&&!He,K=!ee&&We("safari"),V=We("phantom"),je="OTransition"in ye,Ze=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,Rt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,It="MozPerspective"in ye,Nt=!window.L_DISABLE_3D&&(ke||Rt||It)&&!je&&!V,Pt=typeof orientation<"u"||We("mobile"),zt=Pt&&tt,Cr=Pt&&Rt,dn=!window.PointerEvent&&window.MSPointerEvent,hn=!!(window.PointerEvent||dn),gr="ontouchstart"in window||!!window.TouchEvent,un=!window.L_NO_TOUCH&&(gr||hn),ln=Pt&&Be,Ln=Pt&&q,ur=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ie=function(){var d=!1;try{var _=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",p,_),window.removeEventListener("testPassiveEventSupport",p,_)}catch{}return d}(),qe=function(){return!!document.createElement("canvas").getContext}(),bt=!!(document.createElementNS&&W("svg").createSVGRect),Et=!!bt&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mt=!bt&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var _=d.firstChild;return _.style.behavior="url(#default#VML)",_&&typeof _.adj=="object"}catch{return!1}}(),Hn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var Ee={ie:He,ielt9:Te,edge:Ne,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Be,chrome:ee,gecko:q,safari:K,phantom:V,opera12:je,win:Ze,ie3d:ke,webkit3d:Rt,gecko3d:It,any3d:Nt,mobile:Pt,mobileWebkit:zt,mobileWebkit3d:Cr,msPointer:dn,pointer:hn,touch:un,touchNative:gr,mobileOpera:ln,mobileGecko:Ln,retina:ur,passiveEvents:Ie,canvas:qe,svg:bt,vml:Mt,inlineSvg:Et,mac:Hn,linux:Jn},et=Ee.msPointer?"MSPointerDown":"pointerdown",ft=Ee.msPointer?"MSPointerMove":"pointermove",it=Ee.msPointer?"MSPointerUp":"pointerup",Tt=Ee.msPointer?"MSPointerCancel":"pointercancel",Dt={touchstart:et,touchmove:ft,touchend:it,touchcancel:Tt},Gt={touchstart:qn,touchmove:Tn,touchend:Tn,touchcancel:Tn},Xt={},Ht=!1;function jt(d,_,P){return _==="touchstart"&&En(),Gt[_]?(P=Gt[_].bind(this,P),d.addEventListener(Dt[_],P,!1),P):(console.warn("wrong event specified:",_),p)}function tn(d,_,P){if(!Dt[_]){console.warn("wrong event specified:",_);return}d.removeEventListener(Dt[_],P,!1)}function Pn(d){Xt[d.pointerId]=d}function Wt(d){Xt[d.pointerId]&&(Xt[d.pointerId]=d)}function Zt(d){delete Xt[d.pointerId]}function En(){Ht||(document.addEventListener(et,Pn,!0),document.addEventListener(ft,Wt,!0),document.addEventListener(it,Zt,!0),document.addEventListener(Tt,Zt,!0),Ht=!0)}function Tn(d,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){_.touches=[];for(var P in Xt)_.touches.push(Xt[P]);_.changedTouches=[_],d(_)}}function qn(d,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&rr(_),Tn(d,_)}function Ar(d){var _={},P,B;for(B in d)P=d[B],_[B]=P&&P.bind?P.bind(d):P;return d=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}var Vr=200;function Kr(d,_){d.addEventListener("dblclick",_);var P=0,B;function te(ve){if(ve.detail!==1){B=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=_s(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var ot=Date.now();ot-P<=Vr?(B++,B===2&&_(Ar(ve))):B=1,P=ot}}}return d.addEventListener("click",te),{dblclick:_,simDblclick:te}}function Ir(d,_){d.removeEventListener("dblclick",_.dblclick),d.removeEventListener("click",_.simDblclick)}var $n=st(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Jr=st(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ki=Jr==="webkitTransition"||Jr==="OTransition"?Jr+"End":"transitionend";function C(d){return typeof d=="string"?document.getElementById(d):d}function T(d,_){var P=d.style[_]||d.currentStyle&&d.currentStyle[_];if((!P||P==="auto")&&document.defaultView){var B=document.defaultView.getComputedStyle(d,null);P=B?B[_]:null}return P==="auto"?null:P}function R(d,_,P){var B=document.createElement(d);return B.className=_||"",P&&P.appendChild(B),B}function N(d){var _=d.parentNode;_&&_.removeChild(d)}function G(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function oe(d){var _=d.parentNode;_&&_.lastChild!==d&&_.appendChild(d)}function _e(d){var _=d.parentNode;_&&_.firstChild!==d&&_.insertBefore(d,_.firstChild)}function Le(d,_){if(d.classList!==void 0)return d.classList.contains(_);var P=$e(d);return P.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(P)}function xe(d,_){if(d.classList!==void 0)for(var P=v(_),B=0,te=P.length;B<te;B++)d.classList.add(P[B]);else if(!Le(d,_)){var ve=$e(d);Me(d,(ve?ve+" ":"")+_)}}function Pe(d,_){d.classList!==void 0?d.classList.remove(_):Me(d,y((" "+$e(d)+" ").replace(" "+_+" "," ")))}function Me(d,_){d.className.baseVal===void 0?d.className=_:d.className.baseVal=_}function $e(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function ze(d,_){"opacity"in d.style?d.style.opacity=_:"filter"in d.style&&Ye(d,_)}function Ye(d,_){var P=!1,B="DXImageTransform.Microsoft.Alpha";try{P=d.filters.item(B)}catch{if(_===1)return}_=Math.round(_*100),P?(P.Enabled=_!==100,P.Opacity=_):d.style.filter+=" progid:"+B+"(opacity="+_+")"}function st(d){for(var _=document.documentElement.style,P=0;P<d.length;P++)if(d[P]in _)return d[P];return!1}function dt(d,_,P){var B=_||new fe(0,0);d.style[$n]=(Ee.ie3d?"translate("+B.x+"px,"+B.y+"px)":"translate3d("+B.x+"px,"+B.y+"px,0)")+(P?" scale("+P+")":"")}function ut(d,_){d._leaflet_pos=_,Ee.any3d?dt(d,_):(d.style.left=_.x+"px",d.style.top=_.y+"px")}function we(d){return d._leaflet_pos||new fe(0,0)}var De,Ue,Ke;if("onselectstart"in document)De=function(){Qt(window,"selectstart",rr)},Ue=function(){pn(window,"selectstart",rr)};else{var lt=st(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var d=document.documentElement.style;Ke=d[lt],d[lt]="none"}},Ue=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Qt(window,"dragstart",rr)}function $t(){pn(window,"dragstart",rr)}var Ct,gn;function Ft(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(Vt(),Ct=d,gn=d.style.outlineStyle,d.style.outlineStyle="none",Qt(window,"keydown",Vt))}function Vt(){Ct&&(Ct.style.outlineStyle=gn,Ct=void 0,gn=void 0,pn(window,"keydown",Vt))}function zn(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function Nn(d){var _=d.getBoundingClientRect();return{x:_.width/d.offsetWidth||1,y:_.height/d.offsetHeight||1,boundingClientRect:_}}var Un={__proto__:null,TRANSFORM:$n,TRANSITION:Jr,TRANSITION_END:Ki,get:C,getStyle:T,create:R,remove:N,empty:G,toFront:oe,toBack:_e,hasClass:Le,addClass:xe,removeClass:Pe,setClass:Me,getClass:$e,setOpacity:ze,testProp:st,setTransform:dt,setPosition:ut,getPosition:we,get disableTextSelection(){return De},get enableTextSelection(){return Ue},disableImageDrag:mt,enableImageDrag:$t,preventOutline:Ft,restoreOutline:Vt,getSizedParentNode:zn,getScale:Nn};function Qt(d,_,P,B){if(_&&typeof _=="object")for(var te in _)yr(d,te,_[te],P);else{_=v(_);for(var ve=0,Ge=_.length;ve<Ge;ve++)yr(d,_[ve],P,B)}return this}var Gn="_leaflet_events";function pn(d,_,P,B){if(arguments.length===1)Yn(d),delete d[Gn];else if(_&&typeof _=="object")for(var te in _)lr(d,te,_[te],P);else if(_=v(_),arguments.length===2)Yn(d,function(ot){return I(_,ot)!==-1});else for(var ve=0,Ge=_.length;ve<Ge;ve++)lr(d,_[ve],P,B);return this}function Yn(d,_){for(var P in d[Gn]){var B=P.split(/\d/)[0];(!_||_(B))&&lr(d,B,null,null,P)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yr(d,_,P,B){var te=_+l(P)+(B?"_"+l(B):"");if(d[Gn]&&d[Gn][te])return this;var ve=function(ot){return P.call(B||d,ot||window.event)},Ge=ve;!Ee.touchNative&&Ee.pointer&&_.indexOf("touch")===0?ve=jt(d,_,ve):Ee.touch&&_==="dblclick"?ve=Kr(d,ve):"addEventListener"in d?_==="touchstart"||_==="touchmove"||_==="wheel"||_==="mousewheel"?d.addEventListener(mr[_]||_,ve,Ee.passiveEvents?{passive:!1}:!1):_==="mouseenter"||_==="mouseleave"?(ve=function(ot){ot=ot||window.event,Wi(d,ot)&&Ge(ot)},d.addEventListener(mr[_],ve,!1)):d.addEventListener(_,Ge,!1):d.attachEvent("on"+_,ve),d[Gn]=d[Gn]||{},d[Gn][te]=ve}function lr(d,_,P,B,te){te=te||_+l(P)+(B?"_"+l(B):"");var ve=d[Gn]&&d[Gn][te];if(!ve)return this;!Ee.touchNative&&Ee.pointer&&_.indexOf("touch")===0?tn(d,_,ve):Ee.touch&&_==="dblclick"?Ir(d,ve):"removeEventListener"in d?d.removeEventListener(mr[_]||_,ve,!1):d.detachEvent("on"+_,ve),d[Gn][te]=null}function xi(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function Gi(d){return yr(d,"wheel",xi),this}function ma(d){return Qt(d,"mousedown touchstart dblclick contextmenu",xi),d._leaflet_disable_click=!0,this}function rr(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function ji(d){return rr(d),xi(d),this}function _s(d){if(d.composedPath)return d.composedPath();for(var _=[],P=d.target;P;)_.push(P),P=P.parentNode;return _}function ir(d,_){if(!_)return new fe(d.clientX,d.clientY);var P=Nn(_),B=P.boundingClientRect;return new fe((d.clientX-B.left)/P.x-_.clientLeft,(d.clientY-B.top)/P.y-_.clientTop)}var Nr=Ee.linux&&Ee.chrome?window.devicePixelRatio:Ee.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ja(d){return Ee.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Nr:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function Wi(d,_){var P=_.relatedTarget;if(!P)return!0;try{for(;P&&P!==d;)P=P.parentNode}catch{return!1}return P!==d}var Ru={__proto__:null,on:Qt,off:pn,stopPropagation:xi,disableScrollPropagation:Gi,disableClickPropagation:ma,preventDefault:rr,stop:ji,getPropagationPath:_s,getMousePosition:ir,getWheelDelta:Ja,isExternalTarget:Wi,addListener:Qt,removeListener:pn},Ya=he.extend({run:function(d,_,P,B){this.stop(),this._el=d,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(B||.5,.2),this._startPos=we(d),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=J(this._animate,this),this._step()},_step:function(d){var _=+new Date-this._startTime,P=this._duration*1e3;_<P?this._runFrame(this._easeOut(_/P),d):(this._runFrame(1),this._complete())},_runFrame:function(d,_){var P=this._startPos.add(this._offset.multiplyBy(d));_&&P._round(),ut(this._el,P),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),vn=he.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,_){_=w(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=s(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),_.zoom!==void 0&&(this._zoom=this._limitZoom(_.zoom)),_.center&&_.zoom!==void 0&&this.setView(Ae(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Jr&&Ee.any3d&&!Ee.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Ki,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,_,P){if(_=_===void 0?this._zoom:this._limitZoom(_),d=this._limitCenter(Ae(d),_,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var B=this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,_,P.zoom):this._tryAnimatedPan(d,P.pan);if(B)return clearTimeout(this._sizeTimer),this}return this._resetView(d,_,P.pan&&P.pan.noMoveStart),this},setZoom:function(d,_){return this._loaded?this.setView(this.getCenter(),d,{zoom:_}):(this._zoom=d,this)},zoomIn:function(d,_){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,_)},zoomOut:function(d,_){return d=d||(Ee.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,_)},setZoomAround:function(d,_,P){var B=this.getZoomScale(_),te=this.getSize().divideBy(2),ve=d instanceof fe?d:this.latLngToContainerPoint(d),Ge=ve.subtract(te).multiplyBy(1-1/B),ot=this.containerPointToLatLng(te.add(Ge));return this.setView(ot,_,{zoom:P})},_getBoundsCenterZoom:function(d,_){_=_||{},d=d.getBounds?d.getBounds():Y(d);var P=k(_.paddingTopLeft||_.padding||[0,0]),B=k(_.paddingBottomRight||_.padding||[0,0]),te=this.getBoundsZoom(d,!1,P.add(B));if(te=typeof _.maxZoom=="number"?Math.min(_.maxZoom,te):te,te===1/0)return{center:d.getCenter(),zoom:te};var ve=B.subtract(P).divideBy(2),Ge=this.project(d.getSouthWest(),te),ot=this.project(d.getNorthEast(),te),yt=this.unproject(Ge.add(ot).divideBy(2).add(ve),te);return{center:yt,zoom:te}},fitBounds:function(d,_){if(d=Y(d),!d.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(d,_);return this.setView(P.center,P.zoom,_)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,_){return this.setView(d,this._zoom,{pan:_})},panBy:function(d,_){if(d=k(d).round(),_=_||{},!d.x&&!d.y)return this.fire("moveend");if(_.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ya,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),_.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,P,_.duration||.25,_.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,_,P){if(P=P||{},P.animate===!1||!Ee.any3d)return this.setView(d,_,P);this._stop();var B=this.project(this.getCenter()),te=this.project(d),ve=this.getSize(),Ge=this._zoom;d=Ae(d),_=_===void 0?Ge:_;var ot=Math.max(ve.x,ve.y),yt=ot*this.getZoomScale(Ge,_),St=te.distanceTo(B)||1,Ut=1.42,rn=Ut*Ut;function mn(wr){var No=wr?-1:1,Jl=wr?yt:ot,Cf=yt*yt-ot*ot+No*rn*rn*St*St,oy=2*Jl*rn*St,Af=Cf/oy,Zs=Math.sqrt(Af*Af+1)-Af,uy=Zs<1e-9?-18:Math.log(Zs);return uy}function Gr(wr){return(Math.exp(wr)-Math.exp(-wr))/2}function Pr(wr){return(Math.exp(wr)+Math.exp(-wr))/2}function gi(wr){return Gr(wr)/Pr(wr)}var Ei=mn(0);function Qs(wr){return ot*(Pr(Ei)/Pr(Ei+Ut*wr))}function iy(wr){return ot*(Pr(Ei)*gi(Ei+Ut*wr)-Gr(Ei))/rn}function Tf(wr){return 1-Math.pow(1-wr,1.5)}var ay=Date.now(),ju=(mn(1)-Ei)/Ut,sy=P.duration?1e3*P.duration:1e3*ju*.8;function ko(){var wr=(Date.now()-ay)/sy,No=Tf(wr)*ju;wr<=1?(this._flyToFrame=J(ko,this),this._move(this.unproject(B.add(te.subtract(B).multiplyBy(iy(No)/St)),Ge),this.getScaleZoom(ot/Qs(No),Ge),{flyTo:!0})):this._move(d,_)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),ko.call(this),this},flyToBounds:function(d,_){var P=this._getBoundsCenterZoom(d,_);return this.flyTo(P.center,P.zoom,_)},setMaxBounds:function(d){return d=Y(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var _=this.options.minZoom;return this.options.minZoom=d,this._loaded&&_!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var _=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&_!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,_){this._enforcingBounds=!0;var P=this.getCenter(),B=this._limitCenter(P,this._zoom,Y(d));return P.equals(B)||this.panTo(B,_),this._enforcingBounds=!1,this},panInside:function(d,_){_=_||{};var P=k(_.paddingTopLeft||_.padding||[0,0]),B=k(_.paddingBottomRight||_.padding||[0,0]),te=this.project(this.getCenter()),ve=this.project(d),Ge=this.getPixelBounds(),ot=ge([Ge.min.add(P),Ge.max.subtract(B)]),yt=ot.getSize();if(!ot.contains(ve)){this._enforcingBounds=!0;var St=ve.subtract(ot.getCenter()),Ut=ot.extend(ve).getSize().subtract(yt);te.x+=St.x<0?-Ut.x:Ut.x,te.y+=St.y<0?-Ut.y:Ut.y,this.panTo(this.unproject(te),_),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),B=_.divideBy(2).round(),te=P.divideBy(2).round(),ve=B.subtract(te);return!ve.x&&!ve.y?this:(d.animate&&d.pan?this.panBy(ve):(d.pan&&this._rawPanBy(ve),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(s(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=s(this._handleGeolocationResponse,this),P=s(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,P,d):navigator.geolocation.getCurrentPosition(_,P,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var _=d.code,P=d.message||(_===1?"permission denied":_===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var _=d.coords.latitude,P=d.coords.longitude,B=new pe(_,P),te=B.toBounds(d.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(te);this.setView(B,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var ot={latlng:B,bounds:te,timestamp:d.timestamp};for(var yt in d.coords)typeof d.coords[yt]=="number"&&(ot[yt]=d.coords[yt]);this.fire("locationfound",ot)}},addHandler:function(d,_){if(!_)return this;var P=this[d]=new _(this);return this._handlers.push(P),this.options[d]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)N(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,_){var P="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),B=R("div",P,_||this._mapPane);return d&&(this._panes[d]=B),B},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),_=this.unproject(d.getBottomLeft()),P=this.unproject(d.getTopRight());return new H(_,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,_,P){d=Y(d),P=k(P||[0,0]);var B=this.getZoom()||0,te=this.getMinZoom(),ve=this.getMaxZoom(),Ge=d.getNorthWest(),ot=d.getSouthEast(),yt=this.getSize().subtract(P),St=ge(this.project(ot,B),this.project(Ge,B)).getSize(),Ut=Ee.any3d?this.options.zoomSnap:1,rn=yt.x/St.x,mn=yt.y/St.y,Gr=_?Math.max(rn,mn):Math.min(rn,mn);return B=this.getScaleZoom(Gr,B),Ut&&(B=Math.round(B/(Ut/100))*(Ut/100),B=_?Math.ceil(B/Ut)*Ut:Math.floor(B/Ut)*Ut),Math.max(te,Math.min(ve,B))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new fe(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,_){var P=this._getTopLeftPoint(d,_);return new ie(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,_){var P=this.options.crs;return _=_===void 0?this._zoom:_,P.scale(d)/P.scale(_)},getScaleZoom:function(d,_){var P=this.options.crs;_=_===void 0?this._zoom:_;var B=P.zoom(d*P.scale(_));return isNaN(B)?1/0:B},project:function(d,_){return _=_===void 0?this._zoom:_,this.options.crs.latLngToPoint(Ae(d),_)},unproject:function(d,_){return _=_===void 0?this._zoom:_,this.options.crs.pointToLatLng(k(d),_)},layerPointToLatLng:function(d){var _=k(d).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(d){var _=this.project(Ae(d))._round();return _._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(Ae(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(Y(d))},distance:function(d,_){return this.options.crs.distance(Ae(d),Ae(_))},containerPointToLayerPoint:function(d){return k(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return k(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var _=this.containerPointToLayerPoint(k(d));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ae(d)))},mouseEventToContainerPoint:function(d){return ir(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var _=this._container=C(d);if(_){if(_._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(_,"scroll",this._onScroll,this),this._containerId=l(_)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ee.any3d,xe(d,"leaflet-container"+(Ee.touch?" leaflet-touch":"")+(Ee.retina?" leaflet-retina":"")+(Ee.ielt9?" leaflet-oldie":"")+(Ee.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=T(d,"position");_!=="absolute"&&_!=="relative"&&_!=="fixed"&&_!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new fe(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(d.markerPane,"leaflet-zoom-hide"),xe(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,_,P){ut(this._mapPane,new fe(0,0));var B=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var te=this._zoom!==_;this._moveStart(te,P)._move(d,_)._moveEnd(te),this.fire("viewreset"),B&&this.fire("load")},_moveStart:function(d,_){return d&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(d,_,P,B){_===void 0&&(_=this._zoom);var te=this._zoom!==_;return this._zoom=_,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),B?P&&P.pinch&&this.fire("zoom",P):((te||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){ut(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[l(this._container)]=this;var _=d?pn:Qt;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),Ee.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=J(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,_){for(var P=[],B,te=_==="mouseout"||_==="mouseover",ve=d.target||d.srcElement,Ge=!1;ve;){if(B=this._targets[l(ve)],B&&(_==="click"||_==="preclick")&&this._draggableMoved(B)){Ge=!0;break}if(B&&B.listens(_,!0)&&(te&&!Wi(ve,d)||(P.push(B),te))||ve===this._container)break;ve=ve.parentNode}return!P.length&&!Ge&&!te&&this.listens(_,!0)&&(P=[this]),P},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var _=d.target||d.srcElement;if(!(!this._loaded||_._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(_))){var P=d.type;P==="mousedown"&&Ft(_),this._fireDOMEvent(d,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,_,P){if(d.type==="click"){var B=i({},d);B.type="preclick",this._fireDOMEvent(B,B.type,P)}var te=this._findEventTargets(d,_);if(P){for(var ve=[],Ge=0;Ge<P.length;Ge++)P[Ge].listens(_,!0)&&ve.push(P[Ge]);te=ve.concat(te)}if(te.length){_==="contextmenu"&&rr(d);var ot=te[0],yt={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var St=ot.getLatLng&&(!ot._radius||ot._radius<=10);yt.containerPoint=St?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(d),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=St?ot.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<te.length;Ge++)if(te[Ge].fire(_,yt,!0),yt.originalEvent._stopped||te[Ge].options.bubblingMouseEvents===!1&&I(this._mouseEvents,_)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,_=this._handlers.length;d<_;d++)this._handlers[d].disable()},whenReady:function(d,_){return this._loaded?d.call(_||this,{target:this}):this.on("load",d,_),this},_getMapPanePos:function(){return we(this._mapPane)||new fe(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,_){var P=d&&_!==void 0?this._getNewPixelOrigin(d,_):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,_){var P=this.getSize()._divideBy(2);return this.project(d,_)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,_,P){var B=this._getNewPixelOrigin(P,_);return this.project(d,_)._subtract(B)},_latLngBoundsToNewLayerBounds:function(d,_,P){var B=this._getNewPixelOrigin(P,_);return ge([this.project(d.getSouthWest(),_)._subtract(B),this.project(d.getNorthWest(),_)._subtract(B),this.project(d.getSouthEast(),_)._subtract(B),this.project(d.getNorthEast(),_)._subtract(B)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,_,P){if(!P)return d;var B=this.project(d,_),te=this.getSize().divideBy(2),ve=new ie(B.subtract(te),B.add(te)),Ge=this._getBoundsOffset(ve,P,_);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?d:this.unproject(B.add(Ge),_)},_limitOffset:function(d,_){if(!_)return d;var P=this.getPixelBounds(),B=new ie(P.min.add(d),P.max.add(d));return d.add(this._getBoundsOffset(B,_))},_getBoundsOffset:function(d,_,P){var B=ge(this.project(_.getNorthEast(),P),this.project(_.getSouthWest(),P)),te=B.min.subtract(d.min),ve=B.max.subtract(d.max),Ge=this._rebound(te.x,-ve.x),ot=this._rebound(te.y,-ve.y);return new fe(Ge,ot)},_rebound:function(d,_){return d+_>0?Math.round(d-_)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(_))},_limitZoom:function(d){var _=this.getMinZoom(),P=this.getMaxZoom(),B=Ee.any3d?this.options.zoomSnap:1;return B&&(d=Math.round(d/B)*B),Math.max(_,Math.min(P,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,_){var P=this._getCenterOffset(d)._trunc();return(_&&_.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,_),!0)},_createAnimProxy:function(){var d=this._proxy=R("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(_){var P=$n,B=this._proxy.style[P];dt(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),B===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),_=this.getZoom();dt(this._proxy,this.project(d,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,_,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var B=this.getZoomScale(_),te=this._getCenterOffset(d)._divideBy(1-1/B);return P.animate!==!0&&!this.getSize().contains(te)?!1:(J(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(d,_,!0)},this),!0)},_animateZoom:function(d,_,P,B){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=_,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:_,noUpdate:B}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(s(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Oa(d,_){return new vn(d,_)}var cr=ue.extend({options:{position:"topright"},initialize:function(d){w(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var _=this._map;return _&&_.removeControl(this),this.options.position=d,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var _=this._container=this.onAdd(d),P=this.getPosition(),B=d._controlCorners[P];return xe(_,"leaflet-control"),P.indexOf("bottom")!==-1?B.insertBefore(_,B.firstChild):B.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),$i=function(d){return new cr(d)};vn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},_="leaflet-",P=this._controlContainer=R("div",_+"control-container",this._container);function B(te,ve){var Ge=_+te+" "+_+ve;d[te+ve]=R("div",Ge,P)}B("top","left"),B("top","right"),B("bottom","left"),B("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)N(this._controlCorners[d]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ya=cr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,_,P,B){return P<B?-1:B<P?1:0}},initialize:function(d,_,P){w(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var B in d)this._addLayer(d[B],B);for(B in _)this._addLayer(_[B],B,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return cr.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,_){return this._addLayer(d,_),this._map?this._update():this},addOverlay:function(d,_){return this._addLayer(d,_,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var _=this._getLayer(l(d));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",_=this._container=R("div",d),P=this.options.collapsed;_.setAttribute("aria-haspopup",!0),ma(_),Gi(_);var B=this._section=R("section",d+"-list");P&&(this._map.on("click",this.collapse,this),Qt(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var te=this._layersLink=R("a",d+"-toggle",_);te.href="#",te.title="Layers",te.setAttribute("role","button"),Qt(te,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){rr(ve),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=R("div",d+"-base",B),this._separator=R("div",d+"-separator",B),this._overlaysList=R("div",d+"-overlays",B),_.appendChild(B)},_getLayer:function(d){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&l(this._layers[_].layer)===d)return this._layers[_]},_addLayer:function(d,_,P){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:_,overlay:P}),this.options.sortLayers&&this._layers.sort(s(function(B,te){return this.options.sortFunction(B.layer,te.layer,B.name,te.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;G(this._baseLayersList),G(this._overlaysList),this._layerControlInputs=[];var d,_,P,B,te=0;for(P=0;P<this._layers.length;P++)B=this._layers[P],this._addItem(B),_=_||B.overlay,d=d||!B.overlay,te+=B.overlay?0:1;return this.options.hideSingleBase&&(d=d&&te>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=_&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var _=this._getLayer(l(d.target)),P=_.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;P&&this._map.fire(P,_)},_createRadioElement:function(d,_){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(_?' checked="checked"':"")+"/>",B=document.createElement("div");return B.innerHTML=P,B.firstChild},_addItem:function(d){var _=document.createElement("label"),P=this._map.hasLayer(d.layer),B;d.overlay?(B=document.createElement("input"),B.type="checkbox",B.className="leaflet-control-layers-selector",B.defaultChecked=P):B=this._createRadioElement("leaflet-base-layers_"+l(this),P),this._layerControlInputs.push(B),B.layerId=l(d.layer),Qt(B,"click",this._onInputClick,this);var te=document.createElement("span");te.innerHTML=" "+d.name;var ve=document.createElement("span");_.appendChild(ve),ve.appendChild(B),ve.appendChild(te);var Ge=d.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,_,P,B=[],te=[];this._handlingClick=!0;for(var ve=d.length-1;ve>=0;ve--)_=d[ve],P=this._getLayer(_.layerId).layer,_.checked?B.push(P):_.checked||te.push(P);for(ve=0;ve<te.length;ve++)this._map.hasLayer(te[ve])&&this._map.removeLayer(te[ve]);for(ve=0;ve<B.length;ve++)this._map.hasLayer(B[ve])||this._map.addLayer(B[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,_,P,B=this._map.getZoom(),te=d.length-1;te>=0;te--)_=d[te],P=this._getLayer(_.layerId).layer,_.disabled=P.options.minZoom!==void 0&&B<P.options.minZoom||P.options.maxZoom!==void 0&&B>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Qt(d,"click",rr),this.expand();var _=this;setTimeout(function(){pn(d,"click",rr),_._preventClick=!1})}}),fr=function(d,_,P){return new ya(d,_,P)},Qi=cr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var _="leaflet-control-zoom",P=R("div",_+" leaflet-bar"),B=this.options;return this._zoomInButton=this._createButton(B.zoomInText,B.zoomInTitle,_+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(B.zoomOutText,B.zoomOutTitle,_+"-out",P,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,_,P,B,te){var ve=R("a",P,B);return ve.innerHTML=d,ve.href="#",ve.title=_,ve.setAttribute("role","button"),ve.setAttribute("aria-label",_),ma(ve),Qt(ve,"click",ji),Qt(ve,"click",te,this),Qt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var d=this._map,_="leaflet-disabled";Pe(this._zoomInButton,_),Pe(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xe(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xe(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});vn.mergeOptions({zoomControl:!0}),vn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var Xa=function(d){return new Qi(d)},Rr=cr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var _="leaflet-control-scale",P=R("div",_),B=this.options;return this._addScales(B,_+"-line",P),d.on(B.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),P},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,_,P){d.metric&&(this._mScale=R("div",_,P)),d.imperial&&(this._iScale=R("div",_,P))},_update:function(){var d=this._map,_=d.getSize().y/2,P=d.distance(d.containerPointToLatLng([0,_]),d.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(P)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var _=this._getRoundNum(d),P=_<1e3?_+" m":_/1e3+" km";this._updateScale(this._mScale,P,_/d)},_updateImperial:function(d){var _=d*3.2808399,P,B,te;_>5280?(P=_/5280,B=this._getRoundNum(P),this._updateScale(this._iScale,B+" mi",B/P)):(te=this._getRoundNum(_),this._updateScale(this._iScale,te+" ft",te/_))},_updateScale:function(d,_,P){d.style.width=Math.round(this.options.maxWidth*P)+"px",d.innerHTML=_},_getRoundNum:function(d){var _=Math.pow(10,(Math.floor(d)+"").length-1),P=d/_;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,_*P}}),$l=function(d){return new Rr(d)},ws='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ia=cr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ee.inlineSvg?ws+" ":"")+"Leaflet</a>"},initialize:function(d){w(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=R("div","leaflet-control-attribution"),ma(this._container);for(var _ in d._layers)d._layers[_].getAttribution&&this.addAttribution(d._layers[_].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var _ in this._attributions)this._attributions[_]&&d.push(_);var P=[];this.options.prefix&&P.push(this.options.prefix),d.length&&P.push(d.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});vn.mergeOptions({attributionControl:!0}),vn.addInitHook(function(){this.options.attributionControl&&new Ia().addTo(this)});var xh=function(d){return new Ia(d)};cr.Layers=ya,cr.Zoom=Qi,cr.Scale=Rr,cr.Attribution=Ia,$i.layers=fr,$i.zoom=Xa,$i.scale=$l,$i.attribution=xh;var Zi=ue.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Zi.addTo=function(d,_){return d.addHandler(_,this),this};var gf={Events:be},qm=Ee.touch?"touchstart mousedown":"mousedown",Ws=he.extend({options:{clickTolerance:3},initialize:function(d,_,P,B){w(this,B),this._element=d,this._dragStartTarget=_||d,this._preventOutline=P},enable:function(){this._enabled||(Qt(this._dragStartTarget,qm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ws._dragging===this&&this.finishDrag(!0),pn(this._dragStartTarget,qm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Le(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){Ws._dragging===this&&this.finishDrag();return}if(!(Ws._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(Ws._dragging=this,this._preventOutline&&Ft(this._element),mt(),De(),!this._moving)){this.fire("down");var _=d.touches?d.touches[0]:d,P=zn(this._element);this._startPoint=new fe(_.clientX,_.clientY),this._startPos=we(this._element),this._parentScale=Nn(P);var B=d.type==="mousedown";Qt(document,B?"mousemove":"touchmove",this._onMove,this),Qt(document,B?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var _=d.touches&&d.touches.length===1?d.touches[0]:d,P=new fe(_.clientX,_.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,rr(d),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),ut(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pn(document,"mousemove touchmove",this._onMove,this),pn(document,"mouseup touchend touchcancel",this._onUp,this),$t(),Ue();var _=this._moved&&this._moving;this._moving=!1,Ws._dragging=!1,_&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function zm(d,_,P){var B,te=[1,4,2,8],ve,Ge,ot,yt,St,Ut,rn,mn;for(ve=0,Ut=d.length;ve<Ut;ve++)d[ve]._code=Eo(d[ve],_);for(ot=0;ot<4;ot++){for(rn=te[ot],B=[],ve=0,Ut=d.length,Ge=Ut-1;ve<Ut;Ge=ve++)yt=d[ve],St=d[Ge],yt._code&rn?St._code&rn||(mn=yf(St,yt,rn,_,P),mn._code=Eo(mn,_),B.push(mn)):(St._code&rn&&(mn=yf(St,yt,rn,_,P),mn._code=Eo(mn,_),B.push(mn)),B.push(yt));d=B}return d}function mf(d,_){var P,B,te,ve,Ge,ot,yt,St,Ut;if(!d||d.length===0)throw new Error("latlngs not passed");hi(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var rn=Ae([0,0]),mn=Y(d),Gr=mn.getNorthWest().distanceTo(mn.getSouthWest())*mn.getNorthEast().distanceTo(mn.getNorthWest());Gr<1700&&(rn=Eh(d));var Pr=d.length,gi=[];for(P=0;P<Pr;P++){var Ei=Ae(d[P]);gi.push(_.project(Ae([Ei.lat-rn.lat,Ei.lng-rn.lng])))}for(ot=yt=St=0,P=0,B=Pr-1;P<Pr;B=P++)te=gi[P],ve=gi[B],Ge=te.y*ve.x-ve.y*te.x,yt+=(te.x+ve.x)*Ge,St+=(te.y+ve.y)*Ge,ot+=Ge*3;ot===0?Ut=gi[0]:Ut=[yt/ot,St/ot];var Qs=_.unproject(k(Ut));return Ae([Qs.lat+rn.lat,Qs.lng+rn.lng])}function Eh(d){for(var _=0,P=0,B=0,te=0;te<d.length;te++){var ve=Ae(d[te]);_+=ve.lat,P+=ve.lng,B++}return Ae([_/B,P/B])}var Iw={__proto__:null,clipPolygon:zm,polygonCenter:mf,centroid:Eh};function Hm(d,_){if(!_||!d.length)return d.slice();var P=_*_;return d=Dw(d,P),d=Mw(d,P),d}function Th(d,_,P){return Math.sqrt(To(d,_,P,!0))}function Lw(d,_,P){return To(d,_,P)}function Mw(d,_){var P=d.length,B=typeof Uint8Array<"u"?Uint8Array:Array,te=new B(P);te[0]=te[P-1]=1,Ch(d,te,_,0,P-1);var ve,Ge=[];for(ve=0;ve<P;ve++)te[ve]&&Ge.push(d[ve]);return Ge}function Ch(d,_,P,B,te){var ve=0,Ge,ot,yt;for(ot=B+1;ot<=te-1;ot++)yt=To(d[ot],d[B],d[te],!0),yt>ve&&(Ge=ot,ve=yt);ve>P&&(_[Ge]=1,Ch(d,_,P,B,Ge),Ch(d,_,P,Ge,te))}function Dw(d,_){for(var P=[d[0]],B=1,te=0,ve=d.length;B<ve;B++)kw(d[B],d[te])>_&&(P.push(d[B]),te=B);return te<ve-1&&P.push(d[ve-1]),P}var Vm;function Km(d,_,P,B,te){var ve=B?Vm:Eo(d,P),Ge=Eo(_,P),ot,yt,St;for(Vm=Ge;;){if(!(ve|Ge))return[d,_];if(ve&Ge)return!1;ot=ve||Ge,yt=yf(d,_,ot,P,te),St=Eo(yt,P),ot===ve?(d=yt,ve=St):(_=yt,Ge=St)}}function yf(d,_,P,B,te){var ve=_.x-d.x,Ge=_.y-d.y,ot=B.min,yt=B.max,St,Ut;return P&8?(St=d.x+ve*(yt.y-d.y)/Ge,Ut=yt.y):P&4?(St=d.x+ve*(ot.y-d.y)/Ge,Ut=ot.y):P&2?(St=yt.x,Ut=d.y+Ge*(yt.x-d.x)/ve):P&1&&(St=ot.x,Ut=d.y+Ge*(ot.x-d.x)/ve),new fe(St,Ut,te)}function Eo(d,_){var P=0;return d.x<_.min.x?P|=1:d.x>_.max.x&&(P|=2),d.y<_.min.y?P|=4:d.y>_.max.y&&(P|=8),P}function kw(d,_){var P=_.x-d.x,B=_.y-d.y;return P*P+B*B}function To(d,_,P,B){var te=_.x,ve=_.y,Ge=P.x-te,ot=P.y-ve,yt=Ge*Ge+ot*ot,St;return yt>0&&(St=((d.x-te)*Ge+(d.y-ve)*ot)/yt,St>1?(te=P.x,ve=P.y):St>0&&(te+=Ge*St,ve+=ot*St)),Ge=d.x-te,ot=d.y-ve,B?Ge*Ge+ot*ot:new fe(te,ve)}function hi(d){return!A(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Gm(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hi(d)}function Ah(d,_){var P,B,te,ve,Ge,ot,yt,St;if(!d||d.length===0)throw new Error("latlngs not passed");hi(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ut=Ae([0,0]),rn=Y(d),mn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());mn<1700&&(Ut=Eh(d));var Gr=d.length,Pr=[];for(P=0;P<Gr;P++){var gi=Ae(d[P]);Pr.push(_.project(Ae([gi.lat-Ut.lat,gi.lng-Ut.lng])))}for(P=0,B=0;P<Gr-1;P++)B+=Pr[P].distanceTo(Pr[P+1])/2;if(B===0)St=Pr[0];else for(P=0,ve=0;P<Gr-1;P++)if(Ge=Pr[P],ot=Pr[P+1],te=Ge.distanceTo(ot),ve+=te,ve>B){yt=(ve-B)/te,St=[ot.x-yt*(ot.x-Ge.x),ot.y-yt*(ot.y-Ge.y)];break}var Ei=_.unproject(k(St));return Ae([Ei.lat+Ut.lat,Ei.lng+Ut.lng])}var Wm={__proto__:null,simplify:Hm,pointToSegmentDistance:Th,closestPointOnSegment:Lw,clipSegment:Km,_getEdgeIntersection:yf,_getBitCode:Eo,_sqClosestPointOnSegment:To,isFlat:hi,_flat:Gm,polylineCenter:Ah},vf={project:function(d){return new fe(d.lng,d.lat)},unproject:function(d){return new pe(d.y,d.x)},bounds:new ie([-180,-90],[180,90])},_f={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var _=Math.PI/180,P=this.R,B=d.lat*_,te=this.R_MINOR/P,ve=Math.sqrt(1-te*te),Ge=ve*Math.sin(B),ot=Math.tan(Math.PI/4-B/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return B=-P*Math.log(Math.max(ot,1e-10)),new fe(d.lng*_*P,B)},unproject:function(d){for(var _=180/Math.PI,P=this.R,B=this.R_MINOR/P,te=Math.sqrt(1-B*B),ve=Math.exp(-d.y/P),Ge=Math.PI/2-2*Math.atan(ve),ot=0,yt=.1,St;ot<15&&Math.abs(yt)>1e-7;ot++)St=te*Math.sin(Ge),St=Math.pow((1-St)/(1+St),te/2),yt=Math.PI/2-2*Math.atan(ve*St)-Ge,Ge+=yt;return new pe(Ge*_,d.x*_/P)}},Qm={__proto__:null,LonLat:vf,Mercator:_f,SphericalMercator:Xe},Pu=i({},Re,{code:"EPSG:3395",projection:_f,transformation:function(){var d=.5/(Math.PI*_f.R);return z(d,.5,-d,.5)}()}),Zm=i({},Re,{code:"EPSG:4326",projection:vf,transformation:z(1/180,1,-1/180,.5)}),Nw=i({},Je,{projection:vf,transformation:z(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,_){var P=_.lng-d.lng,B=_.lat-d.lat;return Math.sqrt(P*P+B*B)},infinite:!0});Je.Earth=Re,Je.EPSG3395=Pu,Je.EPSG3857=$,Je.EPSG900913=ae,Je.EPSG4326=Zm,Je.Simple=Nw;var La=he.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[l(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[l(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var _=d.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var P=this.getEvents();_.on(P,this),this.once("remove",function(){_.off(P,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});vn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var _=l(d);return this._layers[_]?this:(this._layers[_]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var _=l(d);return this._layers[_]?(this._loaded&&d.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return l(d)in this._layers},eachLayer:function(d,_){for(var P in this._layers)d.call(_,this._layers[P]);return this},_addLayers:function(d){d=d?A(d)?d:[d]:[];for(var _=0,P=d.length;_<P;_++)this.addLayer(d[_])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[l(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var _=l(d);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,_=-1/0,P=this._getZoomSpan();for(var B in this._zoomBoundLayers){var te=this._zoomBoundLayers[B].options;d=te.minZoom===void 0?d:Math.min(d,te.minZoom),_=te.maxZoom===void 0?_:Math.max(_,te.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=d===1/0?void 0:d,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Co=La.extend({initialize:function(d,_){w(this,_),this._layers={};var P,B;if(d)for(P=0,B=d.length;P<B;P++)this.addLayer(d[P])},addLayer:function(d){var _=this.getLayerId(d);return this._layers[_]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var _=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(d){var _=typeof d=="number"?d:this.getLayerId(d);return _ in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var _=Array.prototype.slice.call(arguments,1),P,B;for(P in this._layers)B=this._layers[P],B[d]&&B[d].apply(B,_);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,_){for(var P in this._layers)d.call(_,this._layers[P]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return l(d)}}),Jm=function(d,_){return new Co(d,_)},Ji=Co.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),Co.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),Co.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new H;for(var _ in this._layers){var P=this._layers[_];d.extend(P.getBounds?P.getBounds():P.getLatLng())}return d}}),Ul=function(d,_){return new Ji(d,_)},Ou=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){w(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,_){var P=this._getIconUrl(d);if(!P){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var B=this._createImg(P,_&&_.tagName==="IMG"?_:null);return this._setIconStyles(B,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(B.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),B},_setIconStyles:function(d,_){var P=this.options,B=P[_+"Size"];typeof B=="number"&&(B=[B,B]);var te=k(B),ve=k(_==="shadow"&&P.shadowAnchor||P.iconAnchor||te&&te.divideBy(2,!0));d.className="leaflet-marker-"+_+" "+(P.className||""),ve&&(d.style.marginLeft=-ve.x+"px",d.style.marginTop=-ve.y+"px"),te&&(d.style.width=te.x+"px",d.style.height=te.y+"px")},_createImg:function(d,_){return _=_||document.createElement("img"),_.src=d,_},_getIconUrl:function(d){return Ee.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function wf(d){return new Ou(d)}var Iu=Ou.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof Iu.imagePath!="string"&&(Iu.imagePath=this._detectIconPath()),(this.options.imagePath||Iu.imagePath)+Ou.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var _=function(P,B,te){var ve=B.exec(P);return ve&&ve[te]};return d=_(d,/^url\((['"])?(.+)\1\)$/,2),d&&_(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=R("div","leaflet-default-icon-path",document.body),_=T(d,"background-image")||T(d,"backgroundImage");if(document.body.removeChild(d),_=this._stripUrl(_),_)return _;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),Rh=Zi.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new Ws(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var _=this._marker,P=_._map,B=this._marker.options.autoPanSpeed,te=this._marker.options.autoPanPadding,ve=we(_._icon),Ge=P.getPixelBounds(),ot=P.getPixelOrigin(),yt=ge(Ge.min._subtract(ot).add(te),Ge.max._subtract(ot).subtract(te));if(!yt.contains(ve)){var St=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(B);P.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),ut(_._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=J(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=J(this._adjustPan.bind(this,d)))},_onDrag:function(d){var _=this._marker,P=_._shadow,B=we(_._icon),te=_._map.layerPointToLatLng(B);P&&ut(P,B),_._latlng=te,d.latlng=te,d.oldLatLng=this._oldLatLng,_.fire("move",d).fire("drag",d)},_onDragEnd:function(d){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),Lu=La.extend({options:{icon:new Iu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,_){w(this,_),this._latlng=Ae(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var _=this._latlng;return this._latlng=Ae(d),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=d.icon.createIcon(this._icon),B=!1;P!==this._icon&&(this._icon&&this._removeIcon(),B=!0,d.title&&(P.title=d.title),P.tagName==="IMG"&&(P.alt=d.alt||"")),xe(P,_),d.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(P,"focus",this._panOnFocus,this);var te=d.icon.createShadow(this._shadow),ve=!1;te!==this._shadow&&(this._removeShadow(),ve=!0),te&&(xe(te,_),te.alt=""),this._shadow=te,d.opacity<1&&this._updateOpacity(),B&&this.getPane().appendChild(this._icon),this._initInteraction(),te&&ve&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&ut(this._icon,d),this._shadow&&ut(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var _=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Rh)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Rh(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&ze(this._icon,d),this._shadow&&ze(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var _=this.options.icon.options,P=_.iconSize?k(_.iconSize):k(0,0),B=_.iconAnchor?k(_.iconAnchor):k(0,0);d.panInside(this._latlng,{paddingTopLeft:B,paddingBottomRight:P.subtract(B)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ph(d,_){return new Lu(d,_)}var bs=La.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return w(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Bl=bs.extend({options:{fill:!0,radius:10},initialize:function(d,_){w(this,_),this._latlng=Ae(d),this._radius=this.options.radius},setLatLng:function(d){var _=this._latlng;return this._latlng=Ae(d),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var _=d&&d.radius||this._radius;return bs.prototype.setStyle.call(this,d),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,_=this._radiusY||d,P=this._clickTolerance(),B=[d+P,_+P];this._pxBounds=new ie(this._point.subtract(B),this._point.add(B))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ym(d,_){return new Bl(d,_)}var Oh=Bl.extend({initialize:function(d,_,P){if(typeof _=="number"&&(_=i({},P,{radius:_})),w(this,_),this._latlng=Ae(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new H(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:bs.prototype.setStyle,_project:function(){var d=this._latlng.lng,_=this._latlng.lat,P=this._map,B=P.options.crs;if(B.distance===Re.distance){var te=Math.PI/180,ve=this._mRadius/Re.R/te,Ge=P.project([_+ve,d]),ot=P.project([_-ve,d]),yt=Ge.add(ot).divideBy(2),St=P.unproject(yt).lat,Ut=Math.acos((Math.cos(ve*te)-Math.sin(_*te)*Math.sin(St*te))/(Math.cos(_*te)*Math.cos(St*te)))/te;(isNaN(Ut)||Ut===0)&&(Ut=ve/Math.cos(Math.PI/180*_)),this._point=yt.subtract(P.getPixelOrigin()),this._radius=isNaN(Ut)?0:yt.x-P.project([St,d-Ut]).x,this._radiusY=yt.y-Ge.y}else{var rn=B.unproject(B.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(rn).x}this._updateBounds()}});function Fw(d,_,P){return new Oh(d,_,P)}var Ss=bs.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,_){w(this,_),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var _=1/0,P=null,B=To,te,ve,Ge=0,ot=this._parts.length;Ge<ot;Ge++)for(var yt=this._parts[Ge],St=1,Ut=yt.length;St<Ut;St++){te=yt[St-1],ve=yt[St];var rn=B(d,te,ve,!0);rn<_&&(_=rn,P=B(d,te,ve))}return P&&(P.distance=Math.sqrt(_)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ah(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,_){return _=_||this._defaultShape(),d=Ae(d),_.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new H,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return hi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var _=[],P=hi(d),B=0,te=d.length;B<te;B++)P?(_[B]=Ae(d[B]),this._bounds.extend(_[B])):_[B]=this._convertLatLngs(d[B]);return _},_project:function(){var d=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),_=new fe(d,d);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(d,_,P){var B=d[0]instanceof pe,te=d.length,ve,Ge;if(B){for(Ge=[],ve=0;ve<te;ve++)Ge[ve]=this._map.latLngToLayerPoint(d[ve]),P.extend(Ge[ve]);_.push(Ge)}else for(ve=0;ve<te;ve++)this._projectLatlngs(d[ve],_,P)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var _=this._parts,P,B,te,ve,Ge,ot,yt;for(P=0,te=0,ve=this._rings.length;P<ve;P++)for(yt=this._rings[P],B=0,Ge=yt.length;B<Ge-1;B++)ot=Km(yt[B],yt[B+1],d,B,!0),ot&&(_[te]=_[te]||[],_[te].push(ot[0]),(ot[1]!==yt[B+1]||B===Ge-2)&&(_[te].push(ot[1]),te++))}},_simplifyPoints:function(){for(var d=this._parts,_=this.options.smoothFactor,P=0,B=d.length;P<B;P++)d[P]=Hm(d[P],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,_){var P,B,te,ve,Ge,ot,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(P=0,ve=this._parts.length;P<ve;P++)for(ot=this._parts[P],B=0,Ge=ot.length,te=Ge-1;B<Ge;te=B++)if(!(!_&&B===0)&&Th(d,ot[te],ot[B])<=yt)return!0;return!1}});function jw(d,_){return new Ss(d,_)}Ss._flat=Gm;var Mu=Ss.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var _=Ss.prototype._convertLatLngs.call(this,d),P=_.length;return P>=2&&_[0]instanceof pe&&_[0].equals(_[P-1])&&_.pop(),_},_setLatLngs:function(d){Ss.prototype._setLatLngs.call(this,d),hi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,_=this.options.weight,P=new fe(_,_);if(d=new ie(d.min.subtract(P),d.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var B=0,te=this._rings.length,ve;B<te;B++)ve=zm(this._rings[B],d,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var _=!1,P,B,te,ve,Ge,ot,yt,St;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(P=this._parts[ve],Ge=0,St=P.length,ot=St-1;Ge<St;ot=Ge++)B=P[Ge],te=P[ot],B.y>d.y!=te.y>d.y&&d.x<(te.x-B.x)*(d.y-B.y)/(te.y-B.y)+B.x&&(_=!_);return _||Ss.prototype._containsPoint.call(this,d,!0)}});function Yi(d,_){return new Mu(d,_)}var Xi=Ji.extend({initialize:function(d,_){w(this,_),this._layers={},d&&this.addData(d)},addData:function(d){var _=A(d)?d:d.features,P,B,te;if(_){for(P=0,B=_.length;P<B;P++)te=_[P],(te.geometries||te.geometry||te.features||te.coordinates)&&this.addData(te);return this}var ve=this.options;if(ve.filter&&!ve.filter(d))return this;var Ge=ql(d,ve);return Ge?(Ge.feature=xs(d),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(d,Ge),this.addLayer(Ge)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(_){this._setLayerStyle(_,d)},this)},_setLayerStyle:function(d,_){d.setStyle&&(typeof _=="function"&&(_=_(d.feature)),d.setStyle(_))}});function ql(d,_){var P=d.type==="Feature"?d.geometry:d,B=P?P.coordinates:null,te=[],ve=_&&_.pointToLayer,Ge=_&&_.coordsToLatLng||bf,ot,yt,St,Ut;if(!B&&!P)return null;switch(P.type){case"Point":return ot=Ge(B),Ih(ve,d,ot,_);case"MultiPoint":for(St=0,Ut=B.length;St<Ut;St++)ot=Ge(B[St]),te.push(Ih(ve,d,ot,_));return new Ji(te);case"LineString":case"MultiLineString":return yt=zl(B,P.type==="LineString"?0:1,Ge),new Ss(yt,_);case"Polygon":case"MultiPolygon":return yt=zl(B,P.type==="Polygon"?1:2,Ge),new Mu(yt,_);case"GeometryCollection":for(St=0,Ut=P.geometries.length;St<Ut;St++){var rn=ql({geometry:P.geometries[St],type:"Feature",properties:d.properties},_);rn&&te.push(rn)}return new Ji(te);case"FeatureCollection":for(St=0,Ut=P.features.length;St<Ut;St++){var mn=ql(P.features[St],_);mn&&te.push(mn)}return new Ji(te);default:throw new Error("Invalid GeoJSON object.")}}function Ih(d,_,P,B){return d?d(_,P):new Lu(P,B&&B.markersInheritOptions&&B)}function bf(d){return new pe(d[1],d[0],d[2])}function zl(d,_,P){for(var B=[],te=0,ve=d.length,Ge;te<ve;te++)Ge=_?zl(d[te],_-1,P):(P||bf)(d[te]),B.push(Ge);return B}function Hl(d,_){return d=Ae(d),d.alt!==void 0?[m(d.lng,_),m(d.lat,_),m(d.alt,_)]:[m(d.lng,_),m(d.lat,_)]}function Sf(d,_,P,B){for(var te=[],ve=0,Ge=d.length;ve<Ge;ve++)te.push(_?Sf(d[ve],hi(d[ve])?0:_-1,P,B):Hl(d[ve],B));return!_&&P&&te.length>0&&te.push(te[0].slice()),te}function Du(d,_){return d.feature?i({},d.feature,{geometry:_}):xs(_)}function xs(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Vl={toGeoJSON:function(d){return Du(this,{type:"Point",coordinates:Hl(this.getLatLng(),d)})}};Lu.include(Vl),Oh.include(Vl),Bl.include(Vl),Ss.include({toGeoJSON:function(d){var _=!hi(this._latlngs),P=Sf(this._latlngs,_?1:0,!1,d);return Du(this,{type:(_?"Multi":"")+"LineString",coordinates:P})}}),Mu.include({toGeoJSON:function(d){var _=!hi(this._latlngs),P=_&&!hi(this._latlngs[0]),B=Sf(this._latlngs,P?2:_?1:0,!0,d);return _||(B=[B]),Du(this,{type:(P?"Multi":"")+"Polygon",coordinates:B})}}),Co.include({toMultiPoint:function(d){var _=[];return this.eachLayer(function(P){_.push(P.toGeoJSON(d).geometry.coordinates)}),Du(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(d){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(_==="MultiPoint")return this.toMultiPoint(d);var P=_==="GeometryCollection",B=[];return this.eachLayer(function(te){if(te.toGeoJSON){var ve=te.toGeoJSON(d);if(P)B.push(ve.geometry);else{var Ge=xs(ve);Ge.type==="FeatureCollection"?B.push.apply(B,Ge.features):B.push(Ge)}}}),P?Du(this,{geometries:B,type:"GeometryCollection"}):{type:"FeatureCollection",features:B}}});function ku(d,_){return new Xi(d,_)}var Lh=ku,Kl=La.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,_,P){this._url=d,this._bounds=Y(_),w(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&oe(this._image),this},bringToBack:function(){return this._map&&_e(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=Y(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",_=this._image=d?this._url:R("img");if(xe(_,"leaflet-image-layer"),this._zoomAnimated&&xe(_,"leaflet-zoom-animated"),this.options.className&&xe(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onload=s(this.fire,this,"load"),_.onerror=s(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=_.src;return}_.src=this._url,_.alt=this.options.alt},_animateZoom:function(d){var _=this._map.getZoomScale(d.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;dt(this._image,P,_)},_reset:function(){var d=this._image,_=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=_.getSize();ut(d,_.min),d.style.width=P.x+"px",d.style.height=P.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),Ao=function(d,_,P){return new Kl(d,_,P)},Ro=Kl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",_=this._image=d?this._url:R("video");if(xe(_,"leaflet-image-layer"),this._zoomAnimated&&xe(_,"leaflet-zoom-animated"),this.options.className&&xe(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onloadeddata=s(this.fire,this,"load"),d){for(var P=_.getElementsByTagName("source"),B=[],te=0;te<P.length;te++)B.push(P[te].src);this._url=P.length>0?B:[_.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=R("source");Ge.src=this._url[ve],_.appendChild(Ge)}}});function Mh(d,_,P){return new Ro(d,_,P)}var Dh=Kl.extend({_initImage:function(){var d=this._image=this._url;xe(d,"leaflet-image-layer"),this._zoomAnimated&&xe(d,"leaflet-zoom-animated"),this.options.className&&xe(d,this.options.className),d.onselectstart=p,d.onmousemove=p}});function Po(d,_,P){return new Dh(d,_,P)}var Ma=La.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,_){d&&(d instanceof pe||A(d))?(this._latlng=Ae(d),w(this,_)):(w(this,d),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(s(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=Ae(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oe(this._container),this},bringToBack:function(){return this._map&&_e(this._container),this},_prepareOpen:function(d){var _=this._source;if(!_._map)return!1;if(_ instanceof Ji){_=null;var P=this._source._layers;for(var B in P)if(P[B]._map){_=P[B];break}if(!_)return!1;this._source=_}if(!d)if(_.getCenter)d=_.getCenter();else if(_.getLatLng)d=_.getLatLng();else if(_.getBounds)d=_.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,_=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof _=="string")d.innerHTML=_;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),_=k(this.options.offset),P=this._getAnchor();this._zoomAnimated?ut(this._container,d.add(P)):_=_.add(d).add(P);var B=this._containerBottom=-_.y,te=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=B+"px",this._container.style.left=te+"px"}},_getAnchor:function(){return[0,0]}});vn.include({_initOverlay:function(d,_,P,B){var te=_;return te instanceof d||(te=new d(B).setContent(_)),P&&te.setLatLng(P),te}}),La.include({_initOverlay:function(d,_,P,B){var te=P;return te instanceof d?(w(te,B),te._source=this):(te=_&&!B?_:new d(B,this),te.setContent(P)),te}});var Gl=Ma.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Ma.prototype.openOn.call(this,d)},onAdd:function(d){Ma.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof bs||this._source.on("preclick",xi))},onRemove:function(d){Ma.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof bs||this._source.off("preclick",xi))},getEvents:function(){var d=Ma.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",_=this._container=R("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=R("div",d+"-content-wrapper",_);if(this._contentNode=R("div",d+"-content",P),ma(_),Gi(this._contentNode),Qt(_,"contextmenu",xi),this._tipContainer=R("div",d+"-tip-container",_),this._tip=R("div",d+"-tip",this._tipContainer),this.options.closeButton){var B=this._closeButton=R("a",d+"-close-button",_);B.setAttribute("role","button"),B.setAttribute("aria-label","Close popup"),B.href="#close",B.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(B,"click",function(te){rr(te),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,_=d.style;_.width="",_.whiteSpace="nowrap";var P=d.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),_.width=P+1+"px",_.whiteSpace="",_.height="";var B=d.offsetHeight,te=this.options.maxHeight,ve="leaflet-popup-scrolled";te&&B>te?(_.height=te+"px",xe(d,ve)):Pe(d,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var _=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),P=this._getAnchor();ut(this._container,_.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,_=parseInt(T(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+_,B=this._containerWidth,te=new fe(this._containerLeft,-P-this._containerBottom);te._add(we(this._container));var ve=d.layerPointToContainerPoint(te),Ge=k(this.options.autoPanPadding),ot=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),St=d.getSize(),Ut=0,rn=0;ve.x+B+yt.x>St.x&&(Ut=ve.x+B-St.x+yt.x),ve.x-Ut-ot.x<0&&(Ut=ve.x-ot.x),ve.y+P+yt.y>St.y&&(rn=ve.y+P-St.y+yt.y),ve.y-rn-ot.y<0&&(rn=ve.y-ot.y),(Ut||rn)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Ut,rn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xm=function(d,_){return new Gl(d,_)};vn.mergeOptions({closePopupOnClick:!0}),vn.include({openPopup:function(d,_,P){return this._initOverlay(Gl,d,_,P).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),La.include({bindPopup:function(d,_){return this._popup=this._initOverlay(Gl,this._popup,d,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Ji||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){ji(d);var _=d.layer||d.target;if(this._popup._source===_&&!(_ instanceof bs)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=_,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var xf=Ma.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Ma.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Ma.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Ma.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",_=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=R("div",_),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var _,P,B=this._map,te=this._container,ve=B.latLngToContainerPoint(B.getCenter()),Ge=B.layerPointToContainerPoint(d),ot=this.options.direction,yt=te.offsetWidth,St=te.offsetHeight,Ut=k(this.options.offset),rn=this._getAnchor();ot==="top"?(_=yt/2,P=St):ot==="bottom"?(_=yt/2,P=0):ot==="center"?(_=yt/2,P=St/2):ot==="right"?(_=0,P=St/2):ot==="left"?(_=yt,P=St/2):Ge.x<ve.x?(ot="right",_=0,P=St/2):(ot="left",_=yt+(Ut.x+rn.x)*2,P=St/2),d=d.subtract(k(_,P,!0)).add(Ut).add(rn),Pe(te,"leaflet-tooltip-right"),Pe(te,"leaflet-tooltip-left"),Pe(te,"leaflet-tooltip-top"),Pe(te,"leaflet-tooltip-bottom"),xe(te,"leaflet-tooltip-"+ot),ut(te,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&ze(this._container,d)},_animateZoom:function(d){var _=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(_)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$w=function(d,_){return new xf(d,_)};vn.include({openTooltip:function(d,_,P){return this._initOverlay(xf,d,_,P).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),La.include({bindTooltip:function(d,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xf,this._tooltip,d,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var _=d?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[_](P),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Ji||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var _=typeof d.getElement=="function"&&d.getElement();_&&(Qt(_,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Qt(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var _=typeof d.getElement=="function"&&d.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var _=d.latlng,P,B;this._tooltip.options.sticky&&d.originalEvent&&(P=this._map.mouseEventToContainerPoint(d.originalEvent),B=this._map.containerPointToLayerPoint(P),_=this._map.layerPointToLatLng(B)),this._tooltip.setLatLng(_)}});var ey=Ou.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var _=d&&d.tagName==="DIV"?d:document.createElement("div"),P=this.options;if(P.html instanceof Element?(G(_),_.appendChild(P.html)):_.innerHTML=P.html!==!1?P.html:"",P.bgPos){var B=k(P.bgPos);_.style.backgroundPosition=-B.x+"px "+-B.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});function ty(d){return new ey(d)}Ou.Default=Iu;var Nu=La.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ee.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){w(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),N(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(_e(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof fe?d:new fe(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var _=this.getPane().children,P=-d(-1/0,1/0),B=0,te=_.length,ve;B<te;B++)ve=_[B].style.zIndex,_[B]!==this._container&&ve&&(P=d(P,+ve));isFinite(P)&&(this.options.zIndex=P+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ee.ielt9){ze(this._container,this.options.opacity);var d=+new Date,_=!1,P=!1;for(var B in this._tiles){var te=this._tiles[B];if(!(!te.current||!te.loaded)){var ve=Math.min(1,(d-te.loaded)/200);ze(te.el,ve),ve<1?_=!0:(te.active?P=!0:this._onOpaqueTile(te),te.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),_&&(ce(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=R("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,_=this.options.maxZoom;if(d!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===d?(this._levels[P].el.style.zIndex=_-Math.abs(d-P),this._onUpdateLevel(P)):(N(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var B=this._levels[d],te=this._map;return B||(B=this._levels[d]={},B.el=R("div","leaflet-tile-container leaflet-zoom-animated",this._container),B.el.style.zIndex=_,B.origin=te.project(te.unproject(te.getPixelOrigin()),d).round(),B.zoom=d,this._setZoomTransform(B,te.getCenter(),te.getZoom()),p(B.el.offsetWidth),this._onCreateLevel(B)),this._level=B,B}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var d,_,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)_=this._tiles[d],_.retain=_.current;for(d in this._tiles)if(_=this._tiles[d],_.current&&!_.active){var B=_.coords;this._retainParent(B.x,B.y,B.z,B.z-5)||this._retainChildren(B.x,B.y,B.z,B.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var _ in this._tiles)this._tiles[_].coords.z===d&&this._removeTile(_)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)N(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,_,P,B){var te=Math.floor(d/2),ve=Math.floor(_/2),Ge=P-1,ot=new fe(+te,+ve);ot.z=+Ge;var yt=this._tileCoordsToKey(ot),St=this._tiles[yt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),Ge>B?this._retainParent(te,ve,Ge,B):!1)},_retainChildren:function(d,_,P,B){for(var te=2*d;te<2*d+2;te++)for(var ve=2*_;ve<2*_+2;ve++){var Ge=new fe(te,ve);Ge.z=P+1;var ot=this._tileCoordsToKey(Ge),yt=this._tiles[ot];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);P+1<B&&this._retainChildren(te,ve,P+1,B)}},_resetView:function(d){var _=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var _=this.options;return _.minNativeZoom!==void 0&&d<_.minNativeZoom?_.minNativeZoom:_.maxNativeZoom!==void 0&&_.maxNativeZoom<d?_.maxNativeZoom:d},_setView:function(d,_,P,B){var te=Math.round(_);this.options.maxZoom!==void 0&&te>this.options.maxZoom||this.options.minZoom!==void 0&&te<this.options.minZoom?te=void 0:te=this._clampZoom(te);var ve=this.options.updateWhenZooming&&te!==this._tileZoom;(!B||ve)&&(this._tileZoom=te,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),te!==void 0&&this._update(d),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(d,_)},_setZoomTransforms:function(d,_){for(var P in this._levels)this._setZoomTransform(this._levels[P],d,_)},_setZoomTransform:function(d,_,P){var B=this._map.getZoomScale(P,d.zoom),te=d.origin.multiplyBy(B).subtract(this._map._getNewPixelOrigin(_,P)).round();Ee.any3d?dt(d.el,te,B):ut(d.el,te)},_resetGrid:function(){var d=this._map,_=d.options.crs,P=this._tileSize=this.getTileSize(),B=this._tileZoom,te=this._map.getPixelWorldBounds(this._tileZoom);te&&(this._globalTileRange=this._pxBoundsToTileRange(te)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,_.wrapLng[0]],B).x/P.x),Math.ceil(d.project([0,_.wrapLng[1]],B).x/P.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([_.wrapLat[0],0],B).y/P.x),Math.ceil(d.project([_.wrapLat[1],0],B).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var _=this._map,P=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),B=_.getZoomScale(P,this._tileZoom),te=_.project(d,this._tileZoom).floor(),ve=_.getSize().divideBy(B*2);return new ie(te.subtract(ve),te.add(ve))},_update:function(d){var _=this._map;if(_){var P=this._clampZoom(_.getZoom());if(d===void 0&&(d=_.getCenter()),this._tileZoom!==void 0){var B=this._getTiledPixelBounds(d),te=this._pxBoundsToTileRange(B),ve=te.getCenter(),Ge=[],ot=this.options.keepBuffer,yt=new ie(te.getBottomLeft().subtract([ot,-ot]),te.getTopRight().add([ot,-ot]));if(!(isFinite(te.min.x)&&isFinite(te.min.y)&&isFinite(te.max.x)&&isFinite(te.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Ut=this._tiles[St].coords;(Ut.z!==this._tileZoom||!yt.contains(new fe(Ut.x,Ut.y)))&&(this._tiles[St].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(d,P);return}for(var rn=te.min.y;rn<=te.max.y;rn++)for(var mn=te.min.x;mn<=te.max.x;mn++){var Gr=new fe(mn,rn);if(Gr.z=this._tileZoom,!!this._isValidTile(Gr)){var Pr=this._tiles[this._tileCoordsToKey(Gr)];Pr?Pr.current=!0:Ge.push(Gr)}}if(Ge.sort(function(Ei,Qs){return Ei.distanceTo(ve)-Qs.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gi=document.createDocumentFragment();for(mn=0;mn<Ge.length;mn++)this._addTile(Ge[mn],gi);this._level.el.appendChild(gi)}}}},_isValidTile:function(d){var _=this._map.options.crs;if(!_.infinite){var P=this._globalTileRange;if(!_.wrapLng&&(d.x<P.min.x||d.x>P.max.x)||!_.wrapLat&&(d.y<P.min.y||d.y>P.max.y))return!1}if(!this.options.bounds)return!0;var B=this._tileCoordsToBounds(d);return Y(this.options.bounds).overlaps(B)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var _=this._map,P=this.getTileSize(),B=d.scaleBy(P),te=B.add(P),ve=_.unproject(B,d.z),Ge=_.unproject(te,d.z);return[ve,Ge]},_tileCoordsToBounds:function(d){var _=this._tileCoordsToNwSe(d),P=new H(_[0],_[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var _=d.split(":"),P=new fe(+_[0],+_[1]);return P.z=+_[2],P},_removeTile:function(d){var _=this._tiles[d];_&&(N(_.el),delete this._tiles[d],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xe(d,"leaflet-tile");var _=this.getTileSize();d.style.width=_.x+"px",d.style.height=_.y+"px",d.onselectstart=p,d.onmousemove=p,Ee.ielt9&&this.options.opacity<1&&ze(d,this.options.opacity)},_addTile:function(d,_){var P=this._getTilePos(d),B=this._tileCoordsToKey(d),te=this.createTile(this._wrapCoords(d),s(this._tileReady,this,d));this._initTile(te),this.createTile.length<2&&J(s(this._tileReady,this,d,null,te)),ut(te,P),this._tiles[B]={el:te,coords:d,current:!0},_.appendChild(te),this.fire("tileloadstart",{tile:te,coords:d})},_tileReady:function(d,_,P){_&&this.fire("tileerror",{error:_,tile:P,coords:d});var B=this._tileCoordsToKey(d);P=this._tiles[B],P&&(P.loaded=+new Date,this._map._fadeAnimated?(ze(P.el,0),ce(this._fadeFrame),this._fadeFrame=J(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),_||(xe(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ee.ielt9||!this._map._fadeAnimated?J(this._pruneTiles,this):setTimeout(s(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var _=new fe(this._wrapX?h(d.x,this._wrapX):d.x,this._wrapY?h(d.y,this._wrapY):d.y);return _.z=d.z,_},_pxBoundsToTileRange:function(d){var _=this.getTileSize();return new ie(d.min.unscaleBy(_).floor(),d.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function ny(d){return new Nu(d)}var pi=Nu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,_){this._url=d,_=w(this,_),_.detectRetina&&Ee.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),typeof _.subdomains=="string"&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,_){return this._url===d&&_===void 0&&(_=!0),this._url=d,_||this.redraw(),this},createTile:function(d,_){var P=document.createElement("img");return Qt(P,"load",s(this._tileOnLoad,this,_,P)),Qt(P,"error",s(this._tileOnError,this,_,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(d),P},getTileUrl:function(d){var _={r:Ee.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-d.y;this.options.tms&&(_.y=P),_["-y"]=P}return x(this._url,i(_,this.options))},_tileOnLoad:function(d,_){Ee.ielt9?setTimeout(s(d,this,null,_),0):d(null,_)},_tileOnError:function(d,_,P){var B=this.options.errorTileUrl;B&&_.getAttribute("src")!==B&&(_.src=B),d(P,_)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,_=this.options.maxZoom,P=this.options.zoomReverse,B=this.options.zoomOffset;return P&&(d=_-d),d+B},_getSubdomain:function(d){var _=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var d,_;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(_=this._tiles[d].el,_.onload=p,_.onerror=p,!_.complete)){_.src=M;var P=this._tiles[d].coords;N(_),delete this._tiles[d],this.fire("tileabort",{tile:_,coords:P})}},_removeTile:function(d){var _=this._tiles[d];if(_)return _.el.setAttribute("src",M),Nu.prototype._removeTile.call(this,d)},_tileReady:function(d,_,P){if(!(!this._map||P&&P.getAttribute("src")===M))return Nu.prototype._tileReady.call(this,d,_,P)}});function ea(d,_){return new pi(d,_)}var Oo=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,_){this._url=d;var P=i({},this.defaultWmsParams);for(var B in _)B in this.options||(P[B]=_[B]);_=w(this,_);var te=_.detectRetina&&Ee.retina?2:1,ve=this.getTileSize();P.width=ve.x*te,P.height=ve.y*te,this.wmsParams=P},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var _=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[_]=this._crs.code,pi.prototype.onAdd.call(this,d)},getTileUrl:function(d){var _=this._tileCoordsToNwSe(d),P=this._crs,B=ge(P.project(_[0]),P.project(_[1])),te=B.min,ve=B.max,Ge=(this._wmsVersion>=1.3&&this._crs===Zm?[te.y,te.x,ve.y,ve.x]:[te.x,te.y,ve.x,ve.y]).join(","),ot=pi.prototype.getTileUrl.call(this,d);return ot+E(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(d,_){return i(this.wmsParams,d),_||this.redraw(),this}});function kh(d,_){return new Oo(d,_)}pi.WMS=Oo,ea.wms=kh;var va=La.extend({options:{padding:.1},initialize:function(d){w(this,d),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,_){var P=this._map.getZoomScale(_,this._zoom),B=this._map.getSize().multiplyBy(.5+this.options.padding),te=this._map.project(this._center,_),ve=B.multiplyBy(-P).add(te).subtract(this._map._getNewPixelOrigin(d,_));Ee.any3d?dt(this._container,ve,P):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,_=this._map.getSize(),P=this._map.containerPointToLayerPoint(_.multiplyBy(-d)).round();this._bounds=new ie(P,P.add(_.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Wl=va.extend({options:{tolerance:0},getEvents:function(){var d=va.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){va.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Qt(d,"mousemove",this._onMouseMove,this),Qt(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,N(this._container),pn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var _ in this._layers)d=this._layers[_],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){va.prototype._update.call(this);var d=this._bounds,_=this._container,P=d.getSize(),B=Ee.retina?2:1;ut(_,d.min),_.width=B*P.x,_.height=B*P.y,_.style.width=P.x+"px",_.style.height=P.y+"px",Ee.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){va.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[l(d)]=d;var _=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var _=d._order,P=_.next,B=_.prev;P?P.prev=B:this._drawLast=B,B?B.next=P:this._drawFirst=P,delete d._order,delete this._layers[l(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var _=d.options.dashArray.split(/[, ]+/),P=[],B,te;for(te=0;te<_.length;te++){if(B=Number(_[te]),isNaN(B))return;P.push(B)}d.options._dashArray=P}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||J(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var _=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(d._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(d._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var _=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,_=this._redrawBounds;if(this._ctx.save(),_){var P=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var B=this._drawFirst;B;B=B.next)d=B.layer,(!_||d._pxBounds&&d._pxBounds.intersects(_))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,_){if(this._drawing){var P,B,te,ve,Ge=d._parts,ot=Ge.length,yt=this._ctx;if(ot){for(yt.beginPath(),P=0;P<ot;P++){for(B=0,te=Ge[P].length;B<te;B++)ve=Ge[P][B],yt[B?"lineTo":"moveTo"](ve.x,ve.y);_&&yt.closePath()}this._fillStroke(yt,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var _=d._point,P=this._ctx,B=Math.max(Math.round(d._radius),1),te=(Math.max(Math.round(d._radiusY),1)||B)/B;te!==1&&(P.save(),P.scale(1,te)),P.beginPath(),P.arc(_.x,_.y/te,B,0,Math.PI*2,!1),te!==1&&P.restore(),this._fillStroke(P,d)}},_fillStroke:function(d,_){var P=_.options;P.fill&&(d.globalAlpha=P.fillOpacity,d.fillStyle=P.fillColor||P.color,d.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(d.setLineDash&&d.setLineDash(_.options&&_.options._dashArray||[]),d.globalAlpha=P.opacity,d.lineWidth=P.weight,d.strokeStyle=P.color,d.lineCap=P.lineCap,d.lineJoin=P.lineJoin,d.stroke())},_onClick:function(d){for(var _=this._map.mouseEventToLayerPoint(d),P,B,te=this._drawFirst;te;te=te.next)P=te.layer,P.options.interactive&&P._containsPoint(_)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(P))&&(B=P);this._fireEvent(B?[B]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var _=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,_)}},_handleMouseOut:function(d){var _=this._hoveredLayer;_&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([_],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,_){if(!this._mouseHoverThrottled){for(var P,B,te=this._drawFirst;te;te=te.next)P=te.layer,P.options.interactive&&P._containsPoint(_)&&(B=P);B!==this._hoveredLayer&&(this._handleMouseOut(d),B&&(xe(this._container,"leaflet-interactive"),this._fireEvent([B],d,"mouseover"),this._hoveredLayer=B)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(s(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,_,P){this._map._fireDOMEvent(_,P||_.type,d)},_bringToFront:function(d){var _=d._order;if(_){var P=_.next,B=_.prev;if(P)P.prev=B;else return;B?B.next=P:P&&(this._drawFirst=P),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(d)}},_bringToBack:function(d){var _=d._order;if(_){var P=_.next,B=_.prev;if(B)B.next=P;else return;P?P.prev=B:B&&(this._drawLast=B),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(d)}}});function Ef(d){return Ee.canvas?new Wl(d):null}var _a=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ry={_initContainer:function(){this._container=R("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(va.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var _=d._container=_a("shape");xe(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",d._path=_a("path"),_.appendChild(d._path),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){var _=d._container;this._container.appendChild(_),d.options.interactive&&d.addInteractiveTarget(_)},_removePath:function(d){var _=d._container;N(_),d.removeInteractiveTarget(_),delete this._layers[l(d)]},_updateStyle:function(d){var _=d._stroke,P=d._fill,B=d.options,te=d._container;te.stroked=!!B.stroke,te.filled=!!B.fill,B.stroke?(_||(_=d._stroke=_a("stroke")),te.appendChild(_),_.weight=B.weight+"px",_.color=B.color,_.opacity=B.opacity,B.dashArray?_.dashStyle=A(B.dashArray)?B.dashArray.join(" "):B.dashArray.replace(/( *, *)/g," "):_.dashStyle="",_.endcap=B.lineCap.replace("butt","flat"),_.joinstyle=B.lineJoin):_&&(te.removeChild(_),d._stroke=null),B.fill?(P||(P=d._fill=_a("fill")),te.appendChild(P),P.color=B.fillColor||B.color,P.opacity=B.fillOpacity):P&&(te.removeChild(P),d._fill=null)},_updateCircle:function(d){var _=d._point.round(),P=Math.round(d._radius),B=Math.round(d._radiusY||P);this._setPath(d,d._empty()?"M0 0":"AL "+_.x+","+_.y+" "+P+","+B+" 0,"+65535*360)},_setPath:function(d,_){d._path.v=_},_bringToFront:function(d){oe(d._container)},_bringToBack:function(d){_e(d._container)}},Io=Ee.vml?_a:W,es=va.extend({_initContainer:function(){this._container=Io("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Io("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),pn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){va.prototype._update.call(this);var d=this._bounds,_=d.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,P.setAttribute("width",_.x),P.setAttribute("height",_.y)),ut(P,d.min),P.setAttribute("viewBox",[d.min.x,d.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(d){var _=d._path=Io("path");d.options.className&&xe(_,d.options.className),d.options.interactive&&xe(_,"leaflet-interactive"),this._updateStyle(d),this._layers[l(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){N(d._path),d.removeInteractiveTarget(d._path),delete this._layers[l(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var _=d._path,P=d.options;_&&(P.stroke?(_.setAttribute("stroke",P.color),_.setAttribute("stroke-opacity",P.opacity),_.setAttribute("stroke-width",P.weight),_.setAttribute("stroke-linecap",P.lineCap),_.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?_.setAttribute("stroke-dasharray",P.dashArray):_.removeAttribute("stroke-dasharray"),P.dashOffset?_.setAttribute("stroke-dashoffset",P.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),P.fill?(_.setAttribute("fill",P.fillColor||P.color),_.setAttribute("fill-opacity",P.fillOpacity),_.setAttribute("fill-rule",P.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(d,_){this._setPath(d,de(d._parts,_))},_updateCircle:function(d){var _=d._point,P=Math.max(Math.round(d._radius),1),B=Math.max(Math.round(d._radiusY),1)||P,te="a"+P+","+B+" 0 1,0 ",ve=d._empty()?"M0 0":"M"+(_.x-P)+","+_.y+te+P*2+",0 "+te+-P*2+",0 ";this._setPath(d,ve)},_setPath:function(d,_){d._path.setAttribute("d",_)},_bringToFront:function(d){oe(d._path)},_bringToBack:function(d){_e(d._path)}});Ee.vml&&es.include(ry);function Nh(d){return Ee.svg||Ee.vml?new es(d):null}vn.include({getRenderer:function(d){var _=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var _=this._paneRenderers[d];return _===void 0&&(_=this._createRenderer({pane:d}),this._paneRenderers[d]=_),_},_createRenderer:function(d){return this.options.preferCanvas&&Ef(d)||Nh(d)}});var ta=Mu.extend({initialize:function(d,_){Mu.prototype.initialize.call(this,this._boundsToLatLngs(d),_)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=Y(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Fu(d,_){return new ta(d,_)}es.create=Io,es.pointsToPath=de,Xi.geometryToLayer=ql,Xi.coordsToLatLng=bf,Xi.coordsToLatLngs=zl,Xi.latLngToCoords=Hl,Xi.latLngsToCoords=Sf,Xi.getFeature=Du,Xi.asFeature=xs,vn.mergeOptions({boxZoom:!0});var Lo=Zi.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(d),Qt(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=R("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var _=new ie(this._point,this._startPoint),P=_.getSize();ut(this._box,_.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(N(this._box),Pe(this._container,"leaflet-crosshair")),Ue(),$t(),pn(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(s(this._resetState,this),0);var _=new H(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vn.addInitHook("addHandler","boxZoom",Lo),vn.mergeOptions({doubleClickZoom:!0});var Ql=Zi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var _=this._map,P=_.getZoom(),B=_.options.zoomDelta,te=d.originalEvent.shiftKey?P-B:P+B;_.options.doubleClickZoom==="center"?_.setZoom(te):_.setZoomAround(d.containerPoint,te)}});vn.addInitHook("addHandler","doubleClickZoom",Ql),vn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Zl=Zi.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new Ws(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=Y(this._map.options.maxBounds);this._offsetLimit=ge(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var _=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(_),this._prunePositions(_)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,_){return d-(d-_)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;d.x<_.min.x&&(d.x=this._viscousLimit(d.x,_.min.x)),d.y<_.min.y&&(d.y=this._viscousLimit(d.y,_.min.y)),d.x>_.max.x&&(d.x=this._viscousLimit(d.x,_.max.x)),d.y>_.max.y&&(d.y=this._viscousLimit(d.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,_=Math.round(d/2),P=this._initialWorldOffset,B=this._draggable._newPos.x,te=(B-_+P)%d+_-P,ve=(B+_+P)%d-_-P,Ge=Math.abs(te+P)<Math.abs(ve+P)?te:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(d){var _=this._map,P=_.options,B=!P.inertia||d.noInertia||this._times.length<2;if(_.fire("dragend",d),B)_.fire("moveend");else{this._prunePositions(+new Date);var te=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=P.easeLinearity,ot=te.multiplyBy(Ge/ve),yt=ot.distanceTo([0,0]),St=Math.min(P.inertiaMaxSpeed,yt),Ut=ot.multiplyBy(St/yt),rn=St/(P.inertiaDeceleration*Ge),mn=Ut.multiplyBy(-rn/2).round();!mn.x&&!mn.y?_.fire("moveend"):(mn=_._limitOffset(mn,_.options.maxBounds),J(function(){_.panBy(mn,{duration:rn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});vn.addInitHook("addHandler","dragging",Zl),vn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var na=Zi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Qt(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,_=document.documentElement,P=d.scrollTop||_.scrollTop,B=d.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(B,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var _=this._panKeys={},P=this.keyCodes,B,te;for(B=0,te=P.left.length;B<te;B++)_[P.left[B]]=[-1*d,0];for(B=0,te=P.right.length;B<te;B++)_[P.right[B]]=[d,0];for(B=0,te=P.down.length;B<te;B++)_[P.down[B]]=[0,d];for(B=0,te=P.up.length;B<te;B++)_[P.up[B]]=[0,-1*d]},_setZoomDelta:function(d){var _=this._zoomKeys={},P=this.keyCodes,B,te;for(B=0,te=P.zoomIn.length;B<te;B++)_[P.zoomIn[B]]=d;for(B=0,te=P.zoomOut.length;B<te;B++)_[P.zoomOut[B]]=-d},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var _=d.keyCode,P=this._map,B;if(_ in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(B=this._panKeys[_],d.shiftKey&&(B=k(B).multiplyBy(3)),P.options.maxBounds&&(B=P._limitOffset(k(B),P.options.maxBounds)),P.options.worldCopyJump){var te=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(B)));P.panTo(te)}else P.panBy(B)}else if(_ in this._zoomKeys)P.setZoom(P.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[_]);else if(_===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;ji(d)}}});vn.addInitHook("addHandler","keyboard",na),vn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ra=Zi.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var _=Ja(d),P=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var B=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(s(this._performZoom,this),B),ji(d)},_performZoom:function(){var d=this._map,_=d.getZoom(),P=this._map.options.zoomSnap||0;d._stop();var B=this._delta/(this._map.options.wheelPxPerZoomLevel*4),te=4*Math.log(2/(1+Math.exp(-Math.abs(B))))/Math.LN2,ve=P?Math.ceil(te/P)*P:te,Ge=d._limitZoom(_+(this._delta>0?ve:-ve))-_;this._delta=0,this._startTime=null,Ge&&(d.options.scrollWheelZoom==="center"?d.setZoom(_+Ge):d.setZoomAround(this._lastMousePos,_+Ge))}});vn.addInitHook("addHandler","scrollWheelZoom",ra);var Mo=600;vn.mergeOptions({tapHold:Ee.touchNative&&Ee.safari&&Ee.mobile,tapTolerance:15});var ts=Zi.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var _=d.touches[0];this._startPos=this._newPos=new fe(_.clientX,_.clientY),this._holdTimeout=setTimeout(s(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",rr),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),Mo),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){pn(document,"touchend",rr),pn(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),pn(document,"touchend touchcancel contextmenu",this._cancel,this),pn(document,"touchmove",this._onMove,this)},_onMove:function(d){var _=d.touches[0];this._newPos=new fe(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,_){var P=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});P._simulated=!0,_.target.dispatchEvent(P)}});vn.addInitHook("addHandler","tapHold",ts),vn.mergeOptions({touchZoom:Ee.touch,bounceAtZoomLimits:!0});var ns=Zi.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),pn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var _=this._map;if(!(!d.touches||d.touches.length!==2||_._animatingZoom||this._zooming)){var P=_.mouseEventToContainerPoint(d.touches[0]),B=_.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),_.options.touchZoom!=="center"&&(this._pinchStartLatLng=_.containerPointToLatLng(P.add(B)._divideBy(2))),this._startDist=P.distanceTo(B),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),rr(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var _=this._map,P=_.mouseEventToContainerPoint(d.touches[0]),B=_.mouseEventToContainerPoint(d.touches[1]),te=P.distanceTo(B)/this._startDist;if(this._zoom=_.getScaleZoom(te,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&te<1||this._zoom>_.getMaxZoom()&&te>1)&&(this._zoom=_._limitZoom(this._zoom)),_.options.touchZoom==="center"){if(this._center=this._startLatLng,te===1)return}else{var ve=P._add(B)._divideBy(2)._subtract(this._centerPoint);if(te===1&&ve.x===0&&ve.y===0)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var Ge=s(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=J(Ge,this,!0),rr(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),pn(document,"touchmove",this._onTouchMove,this),pn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vn.addInitHook("addHandler","touchZoom",ns),vn.BoxZoom=Lo,vn.DoubleClickZoom=Ql,vn.Drag=Zl,vn.Keyboard=na,vn.ScrollWheelZoom=ra,vn.TapHold=ts,vn.TouchZoom=ns,n.Bounds=ie,n.Browser=Ee,n.CRS=Je,n.Canvas=Wl,n.Circle=Oh,n.CircleMarker=Bl,n.Class=ue,n.Control=cr,n.DivIcon=ey,n.DivOverlay=Ma,n.DomEvent=Ru,n.DomUtil=Un,n.Draggable=Ws,n.Evented=he,n.FeatureGroup=Ji,n.GeoJSON=Xi,n.GridLayer=Nu,n.Handler=Zi,n.Icon=Ou,n.ImageOverlay=Kl,n.LatLng=pe,n.LatLngBounds=H,n.Layer=La,n.LayerGroup=Co,n.LineUtil=Wm,n.Map=vn,n.Marker=Lu,n.Mixin=gf,n.Path=bs,n.Point=fe,n.PolyUtil=Iw,n.Polygon=Mu,n.Polyline=Ss,n.Popup=Gl,n.PosAnimation=Ya,n.Projection=Qm,n.Rectangle=ta,n.Renderer=va,n.SVG=es,n.SVGOverlay=Dh,n.TileLayer=pi,n.Tooltip=xf,n.Transformation=se,n.Util=re,n.VideoOverlay=Ro,n.bind=s,n.bounds=ge,n.canvas=Ef,n.circle=Fw,n.circleMarker=Ym,n.control=$i,n.divIcon=ty,n.extend=i,n.featureGroup=Ul,n.geoJSON=ku,n.geoJson=Lh,n.gridLayer=ny,n.icon=wf,n.imageOverlay=Ao,n.latLng=Ae,n.latLngBounds=Y,n.layerGroup=Jm,n.map=Oa,n.marker=Ph,n.point=k,n.polygon=Yi,n.polyline=jw,n.popup=Xm,n.rectangle=Fu,n.setOptions=w,n.stamp=l,n.svg=Nh,n.svgOverlay=Po,n.tileLayer=ea,n.tooltip=$w,n.transformation=z,n.version=r,n.videoOverlay=Mh;var Do=window.L;n.noConflict=function(){return window.L=Do,this},window.L=n})}(xg,xg.exports)),xg.exports}var Rn=CW();const rR=kr(Rn),AW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",RW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",PW="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Rn.Icon.Default.prototype._getIconUrl;Rn.Icon.Default.mergeOptions({iconUrl:RW,iconRetinaUrl:AW,shadowUrl:PW});const V8="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",OW=Rn.icon({...Rn.Icon.Default.prototype.options,iconUrl:mM,iconRetinaUrl:mM}),IW=t=>Rn.icon({...Rn.Icon.Default.prototype.options,iconUrl:yM,iconRetinaUrl:yM,className:t}),J_=["en","cs"],eh="en",K8=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],LW=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:U8,communityId:$8,darkModeLogoStyle:z8,defaultCommunityName:H8,defaultLocale:eh,emailNotificationsIdentity:EW,emailNotificationsService:xW,emailNotificationsType:B8,geoindexService:q8,locales:J_,oidcIssuers:K8,tileServer:V8},Symbol.toStringTag,{value:"Module"}));function Mi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var MW=typeof Symbol=="function"&&Symbol.observable||"@@observable",_M=MW,M1=()=>Math.random().toString(36).substring(7).split("").join("."),DW={INIT:`@@redux/INIT${M1()}`,REPLACE:`@@redux/REPLACE${M1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${M1()}`},Y_=DW;function iR(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function aR(t,e,n){if(typeof t!="function")throw new Error(Mi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Mi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Mi(1));return n(aR)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((E,b)=>{s.set(b,E)}))}function h(){if(l)throw new Error(Mi(3));return i}function p(E){if(typeof E!="function")throw new Error(Mi(4));if(l)throw new Error(Mi(5));let b=!0;c();const x=o++;return s.set(x,E),function(){if(b){if(l)throw new Error(Mi(6));b=!1,c(),s.delete(x),a=null}}}function m(E){if(!iR(E))throw new Error(Mi(7));if(typeof E.type>"u")throw new Error(Mi(8));if(typeof E.type!="string")throw new Error(Mi(17));if(l)throw new Error(Mi(9));try{l=!0,i=r(i,E)}finally{l=!1}return(a=s).forEach(x=>{x()}),E}function y(E){if(typeof E!="function")throw new Error(Mi(10));r=E,m({type:Y_.REPLACE})}function v(){const E=p;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Mi(11));function x(){const I=b;I.next&&I.next(h())}return x(),{unsubscribe:E(x)}},[_M](){return this}}}return m({type:Y_.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:y,[_M]:v}}function kW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Y_.INIT})>"u")throw new Error(Mi(12));if(typeof n(void 0,{type:Y_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Mi(13))})}function G8(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{kW(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],y=s[p],v=m(y,o);if(typeof v>"u")throw o&&o.type,new Error(Mi(14));c[p]=v,l=l||v!==y}return l=l||r.length!==Object.keys(s).length,l?c:s}}function X_(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function NW(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Mi(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=t.map(l=>l(s));return a=X_(...o)(i.dispatch),{...i,dispatch:a}}}function FW(t){return iR(t)&&"type"in t&&typeof t.type=="string"}var W8=Symbol.for("immer-nothing"),wM=Symbol.for("immer-draftable"),Ka=Symbol.for("immer-state");function ks(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var $d=Object.getPrototypeOf;function Xc(t){return!!t&&!!t[Ka]}function gu(t){var e;return t?Q8(t)||Array.isArray(t)||!!t[wM]||!!((e=t.constructor)!=null&&e[wM])||k0(t)||N0(t):!1}var jW=Object.prototype.constructor.toString();function Q8(t){if(!t||typeof t!="object")return!1;const e=$d(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===jW}function e0(t,e){D0(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function D0(t){const e=t[Ka];return e?e.type_:Array.isArray(t)?1:k0(t)?2:N0(t)?3:0}function zC(t,e){return D0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z8(t,e,n){const r=D0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function $W(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function k0(t){return t instanceof Map}function N0(t){return t instanceof Set}function Lc(t){return t.copy_||t.base_}function HC(t,e){if(k0(t))return new Map(t);if(N0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=Q8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ka];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create($d(t),r)}else{const r=$d(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function sR(t,e=!1){return F0(t)||Xc(t)||!gu(t)||(D0(t)>1&&(t.set=t.add=t.clear=t.delete=UW),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>sR(r,!0))),t}function UW(){ks(2)}function F0(t){return Object.isFrozen(t)}var BW={};function ef(t){const e=BW[t];return e||ks(0,t),e}var Zg;function J8(){return Zg}function qW(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bM(t,e){e&&(ef("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function VC(t){KC(t),t.drafts_.forEach(zW),t.drafts_=null}function KC(t){t===Zg&&(Zg=t.parent_)}function SM(t){return Zg=qW(Zg,t)}function zW(t){const e=t[Ka];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xM(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ka].modified_&&(VC(e),ks(4)),gu(t)&&(t=t0(e,t),e.parent_||n0(e,t)),e.patches_&&ef("Patches").generateReplacementPatches_(n[Ka].base_,t,e.patches_,e.inversePatches_)):t=t0(e,n,[]),VC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==W8?t:void 0}function t0(t,e,n){if(F0(e))return e;const r=e[Ka];if(!r)return e0(e,(i,a)=>EM(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return n0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),e0(a,(o,l)=>EM(t,r,i,o,l,n,s)),n0(t,i,!1),n&&t.patches_&&ef("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function EM(t,e,n,r,i,a,s){if(Xc(i)){const o=a&&e&&e.type_!==3&&!zC(e.assigned_,r)?a.concat(r):void 0,l=t0(t,i,o);if(Z8(n,r,l),Xc(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(gu(i)&&!F0(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;t0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&n0(t,i)}}function n0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&sR(e,n)}function HW(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:J8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=oR;n&&(i=[r],a=Jg);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var oR={get(t,e){if(e===Ka)return t;const n=Lc(t);if(!zC(n,e))return VW(t,n,e);const r=n[e];return t.finalized_||!gu(r)?r:r===D1(t.base_,e)?(k1(t),t.copy_[e]=WC(r,t)):r},has(t,e){return e in Lc(t)},ownKeys(t){return Reflect.ownKeys(Lc(t))},set(t,e,n){const r=Y8(Lc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=D1(Lc(t),e),a=i==null?void 0:i[Ka];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if($W(n,i)&&(n!==void 0||zC(t.base_,e)))return!0;k1(t),GC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return D1(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,k1(t),GC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Lc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ks(11)},getPrototypeOf(t){return $d(t.base_)},setPrototypeOf(){ks(12)}},Jg={};e0(oR,(t,e)=>{Jg[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Jg.deleteProperty=function(t,e){return Jg.set.call(this,t,e,void 0)};Jg.set=function(t,e,n){return oR.set.call(this,t[0],e,n,t[0])};function D1(t,e){const n=t[Ka];return(n?Lc(n):t)[e]}function VW(t,e,n){var i;const r=Y8(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Y8(t,e){if(!(e in t))return;let n=$d(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=$d(n)}}function GC(t){t.modified_||(t.modified_=!0,t.parent_&&GC(t.parent_))}function k1(t){t.copy_||(t.copy_=HC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var KW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const s=r;r=n;const o=this;return function(c=s,...h){return o.produce(c,p=>r.call(this,p,...h))}}typeof r!="function"&&ks(6),i!==void 0&&typeof i!="function"&&ks(7);let a;if(gu(n)){const s=SM(this),o=WC(n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?VC(s):KC(s)}return bM(s,i),xM(a,s)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===W8&&(a=void 0),this.autoFreeze_&&sR(a,!0),i){const s=[],o=[];ef("Patches").generateReplacementPatches_(n,a,s,o),i(s,o)}return a}else ks(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(o,...l)=>this.produceWithPatches(o,c=>n(c,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){gu(e)||ks(8),Xc(e)&&(e=GW(e));const n=SM(this),r=WC(e,void 0);return r[Ka].isManual_=!0,KC(n),r}finishDraft(e,n){const r=e&&e[Ka];(!r||!r.isManual_)&&ks(9);const{scope_:i}=r;return bM(i,n),xM(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ef("Patches").applyPatches_;return Xc(e)?i(e,n):this.produce(e,a=>i(a,n))}};function WC(t,e){const n=k0(t)?ef("MapSet").proxyMap_(t,e):N0(t)?ef("MapSet").proxySet_(t,e):HW(t,e);return(e?e.scope_:J8()).drafts_.push(n),n}function GW(t){return Xc(t)||ks(10,t),X8(t)}function X8(t){if(!gu(t)||F0(t))return t;const e=t[Ka];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=HC(t,!0);return e0(n,(r,i)=>{Z8(n,r,X8(i))}),e&&(e.finalized_=!1),n}var Ga=new KW,eU=Ga.produce;Ga.produceWithPatches.bind(Ga);Ga.setAutoFreeze.bind(Ga);Ga.setUseStrictShallowCopy.bind(Ga);Ga.applyPatches.bind(Ga);Ga.createDraft.bind(Ga);Ga.finishDraft.bind(Ga);function tU(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var WW=tU(),QW=tU,ZW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?X_:X_.apply(null,arguments)},JW=t=>t&&typeof t.match=="function";function TM(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(cu(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>FW(r)&&r.type===t,n}var nU=class Eg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Eg.prototype)}static get[Symbol.species](){return Eg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Eg(...e[0].concat(this)):new Eg(...e.concat(this))}};function CM(t){return gu(t)?eU(t,()=>{}):t}function AM(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function YW(t){return typeof t=="boolean"}var XW=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new nU;return n&&(YW(n)?s.push(WW):s.push(QW(n.extraArgument))),s},eQ="RTK_autoBatch",RM=t=>e=>{setTimeout(e,t)},tQ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RM(10):t.type==="callback"?t.queueNotification:RM(t.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return o.add(h),()=>{m(),o.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[eQ]),a=!i,a&&(s||(s=!0,l(c))),r.dispatch(h)}finally{i=!0}}})},nQ=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new nU(t);return r&&i.push(tQ(typeof r=="object"?r:void 0)),i};function rQ(t){const e=XW(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t;let o;if(typeof n=="function")o=n;else if(iR(n))o=G8(n);else throw new Error(cu(1));let l;typeof r=="function"?l=r(e):l=e();let c=X_;i&&(c=ZW({trace:!1,...typeof i=="object"&&i}));const h=NW(...l),p=nQ(h);let m=typeof s=="function"?s(p):p();const y=c(...m);return aR(o,a,y)}function rU(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(cu(28));if(o in e)throw new Error(cu(29));return e[o]=s,i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function iQ(t){return typeof t=="function"}function aQ(t,e){let[n,r,i]=rU(e),a;if(iQ(t))a=()=>CM(t());else{const o=CM(t);a=()=>o}function s(o=a(),l){let c=[n[l.type],...r.filter(({matcher:h})=>h(l)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,p)=>{if(p)if(Xc(h)){const y=p(h,l);return y===void 0?h:y}else{if(gu(h))return eU(h,m=>p(m,l));{const m=p(h,l);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},o)}return s.getInitialState=a,s}var sQ=(t,e)=>JW(t)?t.match(e):t(e);function oQ(...t){return e=>t.some(n=>sQ(n,e))}var uQ=Symbol.for("rtk-slice-createasyncthunk");function lQ(t,e){return`${t}/${e}`}function cQ({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[uQ];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(cu(11));const o=(typeof i.reducers=="function"?i.reducers(dQ()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(A,I){const M=typeof A=="string"?A:A.type;if(!M)throw new Error(cu(12));if(M in c.sliceCaseReducersByType)throw new Error(cu(13));return c.sliceCaseReducersByType[M]=I,h},addMatcher(A,I){return c.sliceMatchers.push({matcher:A,reducer:I}),h},exposeAction(A,I){return c.actionCreators[A]=I,h},exposeCaseReducer(A,I){return c.sliceCaseReducersByName[A]=I,h}};l.forEach(A=>{const I=o[A],M={reducerName:A,type:lQ(a,A),createNotation:typeof i.reducers=="function"};pQ(I)?mQ(M,I,h,e):hQ(M,I,h)});function p(){const[A={},I=[],M=void 0]=typeof i.extraReducers=="function"?rU(i.extraReducers):[i.extraReducers],D={...A,...c.sliceCaseReducersByType};return aQ(i.initialState,F=>{for(let Z in D)F.addCase(Z,D[Z]);for(let Z of c.sliceMatchers)F.addMatcher(Z.matcher,Z.reducer);for(let Z of I)F.addMatcher(Z.matcher,Z.reducer);M&&F.addDefaultCase(M)})}const m=A=>A,y=new Map;let v;function w(A,I){return v||(v=p()),v(A,I)}function E(){return v||(v=p()),v.getInitialState()}function b(A,I=!1){function M(F){let Z=F[A];return typeof Z>"u"&&I&&(Z=E()),Z}function D(F=m){const Z=AM(y,I,()=>new WeakMap);return AM(Z,F,()=>{const X={};for(const[U,J]of Object.entries(i.selectors??{}))X[U]=fQ(J,F,E,I);return X})}return{reducerPath:A,getSelectors:D,get selectors(){return D(M)},selectSlice:M}}const x={name:a,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...b(s),injectInto(A,{reducerPath:I,...M}={}){const D=I??s;return A.inject({reducerPath:D,reducer:w},M),{...x,...b(D,!0)}}};return x}}function fQ(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var j0=cQ();function dQ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hQ({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!gQ(r))throw new Error(cu(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?TM(t,s):TM(t))}function pQ(t){return t._reducerDefinitionType==="asyncThunk"}function gQ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function mQ({type:t,reducerName:e},n,r,i){if(!i)throw new Error(cu(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),o&&r.addCase(p.pending,o),l&&r.addCase(p.rejected,l),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:s||Xy,pending:o||Xy,rejected:l||Xy,settled:c||Xy})}function Xy(){}function cu(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const iU=()=>{var n;const t=((n=globalThis.navigator.languages)==null?void 0:n[0])??globalThis.navigator.language;return J_.find(r=>r===t)??J_.find(r=>t.startsWith(r))??eh},yQ={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",locale:iU()},vQ=j0({name:"ui",initialState:yQ,reducers:{toggleTheme:t=>{t.theme=t.theme==="dark"?"light":"dark"},changeLocale:(t,e)=>{t.locale=e.payload??iU()}}}),{actions:uR,reducer:_Q}=vQ,lR=t=>t.ui.theme,of=t=>t.ui.locale;var N1={},F1={},PM;function wQ(){return PM||(PM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.errorMessages=t.ErrorType=void 0;var e;(function(n){n.MalformedUnicode="MALFORMED_UNICODE",n.MalformedHexadecimal="MALFORMED_HEXADECIMAL",n.CodePointLimit="CODE_POINT_LIMIT",n.OctalDeprecation="OCTAL_DEPRECATION",n.EndOfString="END_OF_STRING"})(e=t.ErrorType||(t.ErrorType={})),t.errorMessages=new Map([[e.MalformedUnicode,"malformed Unicode character escape sequence"],[e.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[e.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[e.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[e.EndOfString,"malformed escape sequence at end of string"]])}(F1)),F1}var OM;function bQ(){return OM||(OM=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.unraw=t.errorMessages=t.ErrorType=void 0;const e=wQ();Object.defineProperty(t,"ErrorType",{enumerable:!0,get:function(){return e.ErrorType}}),Object.defineProperty(t,"errorMessages",{enumerable:!0,get:function(){return e.errorMessages}});function n(y){return!y.match(/[^a-f0-9]/i)?parseInt(y,16):NaN}function r(y,v,w){const E=n(y);if(Number.isNaN(E)||w!==void 0&&w!==y.length)throw new SyntaxError(e.errorMessages.get(v));return E}function i(y){const v=r(y,e.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(v)}function a(y,v){const w=r(y,e.ErrorType.MalformedUnicode,4);if(v!==void 0){const E=r(v,e.ErrorType.MalformedUnicode,4);return String.fromCharCode(w,E)}return String.fromCharCode(w)}function s(y){return y.charAt(0)==="{"&&y.charAt(y.length-1)==="}"}function o(y){if(!s(y))throw new SyntaxError(e.errorMessages.get(e.ErrorType.MalformedUnicode));const v=y.slice(1,-1),w=r(v,e.ErrorType.MalformedUnicode);try{return String.fromCodePoint(w)}catch(E){throw E instanceof RangeError?new SyntaxError(e.errorMessages.get(e.ErrorType.CodePointLimit)):E}}function l(y,v=!1){if(v)throw new SyntaxError(e.errorMessages.get(e.ErrorType.OctalDeprecation));const w=parseInt(y,8);return String.fromCharCode(w)}const c=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function h(y){return c.get(y)||y}const p=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function m(y,v=!1){return y.replace(p,function(w,E,b,x,A,I,M,D,F){if(E!==void 0)return"\\";if(b!==void 0)return i(b);if(x!==void 0)return o(x);if(A!==void 0)return a(A,I);if(M!==void 0)return a(M);if(D==="0")return"\0";if(D!==void 0)return l(D,!v);if(F!==void 0)return h(F);throw new SyntaxError(e.errorMessages.get(e.ErrorType.EndOfString))})}t.unraw=m,t.default=m}(N1)),N1}var SQ=bQ();const Tl=t=>typeof t=="string",xQ=t=>typeof t=="function",IM=new Map,aU="en";function cR(t){return[...Array.isArray(t)?t:[t],aU]}function fR(t,e,n){const r=cR(t);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return r0(()=>i0("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(Tl(e)?new Date(e):e)}function EQ(t,e,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return fR(t,e,r)}function QC(t,e,n){const r=cR(t);return r0(()=>i0("number",r,n),()=>new Intl.NumberFormat(r,n)).format(e)}function LM(t,e,n,{offset:r=0,...i}){const a=cR(t),s=e?r0(()=>i0("plural-ordinal",a),()=>new Intl.PluralRules(a,{type:"ordinal"})):r0(()=>i0("plural-cardinal",a),()=>new Intl.PluralRules(a,{type:"cardinal"}));return i[n]??i[s.select(n-r)]??i.other}function r0(t,e){const n=t();let r=IM.get(n);return r||(r=e(),IM.set(n,r)),r}function i0(t,e,n){const r=e.join("-");return`${t}-${r}-${JSON.stringify(n)}`}const sU=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,oU="%__lingui_octothorpe__%",TQ=(t,e,n={})=>{const r=e||t,i=s=>typeof s=="object"?s:n[s],a=(s,o)=>{const l=Object.keys(n).length?i("number"):void 0,c=QC(r,s,l);return o.replace(new RegExp(oU,"g"),c)};return{plural:(s,o)=>{const{offset:l=0}=o,c=LM(r,!1,s,o);return a(s-l,c)},selectordinal:(s,o)=>{const{offset:l=0}=o,c=LM(r,!0,s,o);return a(s-l,c)},select:CQ,number:(s,o)=>QC(r,s,i(o)||{style:o}),date:(s,o)=>fR(r,s,i(o)||o),time:(s,o)=>EQ(r,s,i(o)||o)}},CQ=(t,e)=>e[t]??e.other;function AQ(t,e,n){return(r={},i)=>{const a=TQ(e,n,i),s=(l,c=!1)=>Array.isArray(l)?l.reduce((h,p)=>{if(p==="#"&&c)return h+oU;if(Tl(p))return h+p;const[m,y,v]=p;let w={};y==="plural"||y==="selectordinal"||y==="select"?Object.entries(v).forEach(([b,x])=>{w[b]=s(x,y==="plural"||y==="selectordinal")}):w=v;let E;if(y){const b=a[y];E=b(r[m],w)}else E=r[m];return E==null?h:h+E},""):l,o=s(t);return Tl(o)&&sU.test(o)?SQ.unraw(o):Tl(o)?o:o?String(o):""}}var RQ=Object.defineProperty,PQ=(t,e,n)=>e in t?RQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,OQ=(t,e,n)=>(PQ(t,e+"",n),n);let IQ=class{constructor(){OQ(this,"_events",{})}on(e,n){var r;return(r=this._events)[e]??(r[e]=[]),this._events[e].push(n),()=>this.removeListener(e,n)}removeListener(e,n){const r=this._getListeners(e);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(e,...n){const r=this._getListeners(e);r&&r.map(i=>i.apply(this,n))}_getListeners(e){const n=this._events[e];return Array.isArray(n)?n:!1}};var LQ=Object.defineProperty,MQ=(t,e,n)=>e in t?LQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cc=(t,e,n)=>(MQ(t,typeof e!="symbol"?e+"":e,n),n);class DQ extends IQ{constructor(e){super(),cc(this,"_locale",""),cc(this,"_locales"),cc(this,"_localeData",{}),cc(this,"_messages",{}),cc(this,"_missing"),cc(this,"_messageCompiler"),cc(this,"t",this._.bind(this)),e.missing!=null&&(this._missing=e.missing),e.messages!=null&&this.load(e.messages),e.localeData!=null&&this.loadLocaleData(e.localeData),(typeof e.locale=="string"||e.locales)&&this.activate(e.locale??aU,e.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(e,n){const r=this._localeData[e];r?Object.assign(r,n):this._localeData[e]=n}setMessagesCompiler(e){return this._messageCompiler=e,this}loadLocaleData(e,n){typeof e=="string"?this._loadLocaleData(e,n):Object.keys(e).forEach(r=>this._loadLocaleData(r,e[r])),this.emit("change")}_load(e,n){const r=this._messages[e];r?Object.assign(r,n):this._messages[e]=n}load(e,n){typeof e=="string"&&typeof n=="object"?this._load(e,n):Object.entries(e).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:e,locales:n,messages:r}){this._locale=e,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(e,n){this._locale=e,this._locales=n,this.emit("change")}_(e,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r==null?void 0:r.message;e||(e=""),Tl(e)||(n=e.values||n,i=e.message,e=e.id);const a=this.messages[e],s=a===void 0,o=this._missing;if(o&&s)return xQ(o)?o(this._locale,e):o;s&&this.emit("missing",{id:e,locale:this._locale});let l=a||i||e;return Tl(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),Tl(l)&&sU.test(l)?JSON.parse(`"${l}"`):Tl(l)?l:AQ(l,this._locale,this._locales)(n,r==null?void 0:r.formats)}date(e,n){return fR(this._locales||this._locale,e,n)}number(e,n){return QC(this._locales||this._locale,e,n)}}function kQ(t={}){return new DQ(t)}const ZC=kQ(),NQ=/<([a-zA-Z0-9]+)>([\s\S]*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,FQ={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function uU(t,e={}){const n=jQ(0,"$lingui$"),r=t.split(NQ);if(r.length===1)return t;const i=[],a=r.shift();a&&i.push(a);for(const[s,o,l]of lU(r)){let c=typeof s<"u"?e[s]:void 0;(!c||FQ[c.type]&&o)&&(console.error(c?`${c.type} is a void element tag therefore it must have no children`:`Can't use element at index '${s}' as it is not declared in the original translation`),c=Lt.createElement(Lt.Fragment)),Array.isArray(c)&&(c=Lt.createElement(Lt.Fragment,{},c)),i.push(Lt.cloneElement(c,{key:n()},o?uU(o,e):c.props.children)),l&&i.push(l)}return i.length===1?i[0]:i}function lU(t){if(!t.length)return[];const[e,n,r,i]=t.slice(0,4);return[[e||r,n||"",i]].concat(lU(t.slice(4,t.length)))}const jQ=(t=0,e="")=>()=>`${e}_${t++}`;function $Q(t){const{render:e,component:n,id:r,message:i,formats:a,lingui:{i18n:s,defaultComponent:o}}=t,l={...t.values},c={...t.components};Object.keys(l).forEach(w=>{const E=Object.keys(c).length;typeof l[w]=="string"||typeof l[w]=="number"||(c[E]=Lt.createElement(Lt.Fragment,null,l[w]),l[w]=`<${E}/>`)});const h=s&&typeof s._=="function"?s._(r,l,{message:i,formats:a}):r,p=h?uU(h,c):null;if(e===null||n===null)return p;const m=o||UQ,y={id:r,message:i,translation:p,children:p};if(e&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(e&&typeof e!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${e}`);else if(n&&typeof n!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),Lt.createElement(m,y,p);if(typeof e=="function")return e(y);const v=n||m;return Lt.createElement(v,y,p)}const UQ=({children:t})=>Lt.createElement(Lt.Fragment,null,t),cU=Lt.createContext(null),fU=t=>Lt.useContext(cU);function si(){return fU()}const BQ=({i18n:t,defaultComponent:e,children:n})=>{const r=Lt.useRef(t.locale),i=Lt.useCallback(()=>({i18n:t,defaultComponent:e,_:t.t.bind(t)}),[t,e]),[a,s]=Lt.useState(i());return Lt.useEffect(()=>{const o=()=>{r.current=t.locale,s(i())},l=t.on("change",o);return r.current!==t.locale&&o(),l},[t,i]),r.current?Lt.createElement(cU.Provider,{value:a},n):null};function wt(t){const e=fU();return Lt.createElement($Q,{...t,lingui:e})}const qQ=({children:t})=>{const e=bi(of),n=Ml();return ne.useEffect(()=>{e?zQ(e):n(uR.changeLocale())},[n,e]),Q.jsx(BQ,{i18n:ZC,children:t})};async function zQ(t){const{messages:e}=await SW(Object.assign({"../locales/cs.ts":()=>gM(()=>import("./cs-C_S6SuAP.js"),[]),"../locales/en.ts":()=>gM(()=>import("./en-K35oWdqO.js"),[])}),`../locales/${t}.ts`,3);ZC.load(t,e),ZC.activate(t)}const HQ={},VQ=j0({name:"auth",initialState:HQ,reducers:{signin:(t,e)=>{t.isLoggedIn=e.payload.isLoggedIn,t.webId=e.payload.webId},setUser:(t,e)=>{t.profile=e.payload},signout:t=>{t.isLoggedIn=!1}}}),{actions:dR,reducer:KQ}=VQ,th=t=>t.auth,GQ={},WQ=j0({name:"config",initialState:GQ,reducers:{setConfig:(t,e)=>{Object.assign(t,e.payload)},resetConfig:()=>({})}}),{actions:JC,reducer:QQ}=WQ,dU=t=>t.config,ZQ={},JQ=j0({name:"login",initialState:ZQ,reducers:{setLastSelectedIssuer:(t,e)=>{t.lastSelectedIssuer=e.payload}}}),{actions:a0,reducer:YQ}=JQ,hU=t=>t.login.lastSelectedIssuer;var hR="persist:",pR="persist/FLUSH",$0="persist/REHYDRATE",gR="persist/PAUSE",mR="persist/PERSIST",yR="persist/PURGE",vR="persist/REGISTER",XQ=-1;function P_(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P_=function(n){return typeof n}:P_=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P_(t)}function MM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MM(n,!0).forEach(function(r){tZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MM(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nZ(t,e,n,r){r.debug;var i=eZ({},n);return t&&P_(t)==="object"&&Object.keys(t).forEach(function(a){a!=="_persist"&&e[a]===n[a]&&(i[a]=t[a])}),i}function rZ(t){var e=t.blacklist||null,n=t.whitelist||null,r=t.transforms||[],i=t.throttle||0,a="".concat(t.keyPrefix!==void 0?t.keyPrefix:hR).concat(t.key),s=t.storage,o;t.serialize===!1?o=function(M){return M}:typeof t.serialize=="function"?o=t.serialize:o=iZ;var l=t.writeFailHandler||null,c={},h={},p=[],m=null,y=null,v=function(M){Object.keys(M).forEach(function(D){b(D)&&c[D]!==M[D]&&p.indexOf(D)===-1&&p.push(D)}),Object.keys(c).forEach(function(D){M[D]===void 0&&b(D)&&p.indexOf(D)===-1&&c[D]!==void 0&&p.push(D)}),m===null&&(m=setInterval(w,i)),c=M};function w(){if(p.length===0){m&&clearInterval(m),m=null;return}var I=p.shift(),M=r.reduce(function(D,F){return F.in(D,I,c)},c[I]);if(M!==void 0)try{h[I]=o(M)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete h[I];p.length===0&&E()}function E(){Object.keys(h).forEach(function(I){c[I]===void 0&&delete h[I]}),y=s.setItem(a,o(h)).catch(x)}function b(I){return!(n&&n.indexOf(I)===-1&&I!=="_persist"||e&&e.indexOf(I)!==-1)}function x(I){l&&l(I)}var A=function(){for(;p.length!==0;)w();return y||Promise.resolve()};return{update:v,flush:A}}function iZ(t){return JSON.stringify(t)}function aZ(t){var e=t.transforms||[],n="".concat(t.keyPrefix!==void 0?t.keyPrefix:hR).concat(t.key),r=t.storage;t.debug;var i;return t.deserialize===!1?i=function(s){return s}:typeof t.deserialize=="function"?i=t.deserialize:i=sZ,r.getItem(n).then(function(a){if(a)try{var s={},o=i(a);return Object.keys(o).forEach(function(l){s[l]=e.reduceRight(function(c,h){return h.out(c,l,o)},i(o[l]))}),s}catch(l){throw l}else return})}function sZ(t){return JSON.parse(t)}function oZ(t){var e=t.storage,n="".concat(t.keyPrefix!==void 0?t.keyPrefix:hR).concat(t.key);return e.removeItem(n,uZ)}function uZ(t){}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(n,!0).forEach(function(r){lZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cZ(t,e){if(t==null)return{};var n=fZ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fZ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var dZ=5e3;function hZ(t,e){var n=t.version!==void 0?t.version:XQ;t.debug;var r=t.stateReconciler===void 0?nZ:t.stateReconciler,i=t.getStoredState||aZ,a=t.timeout!==void 0?t.timeout:dZ,s=null,o=!1,l=!0,c=function(p){return p._persist.rehydrated&&s&&!l&&s.update(p),p};return function(h,p){var m=h||{},y=m._persist,v=cZ(m,["_persist"]),w=v;if(p.type===mR){var E=!1,b=function(Z,X){E||(p.rehydrate(t.key,Z,X),E=!0)};if(a&&setTimeout(function(){!E&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(t.key,'"')))},a),l=!1,s||(s=rZ(t)),y)return Zo({},e(w,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(t.key),i(t).then(function(F){var Z=t.migrate||function(X,U){return Promise.resolve(X)};Z(F,n).then(function(X){b(X)},function(X){b(void 0,X)})},function(F){b(void 0,F)}),Zo({},e(w,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===yR)return o=!0,p.result(oZ(t)),Zo({},e(w,p),{_persist:y});if(p.type===pR)return p.result(s&&s.flush()),Zo({},e(w,p),{_persist:y});if(p.type===gR)l=!0;else if(p.type===$0){if(o)return Zo({},w,{_persist:Zo({},y,{rehydrated:!0})});if(p.key===t.key){var x=e(w,p),A=p.payload,I=r!==!1&&A!==void 0?r(A,h,x,t):x,M=Zo({},I,{_persist:Zo({},y,{rehydrated:!0})});return c(M)}}}if(!y)return e(h,p);var D=e(w,p);return D===w?h:c(Zo({},D,{_persist:y}))}}function kM(t){return mZ(t)||gZ(t)||pZ()}function pZ(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function gZ(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function mZ(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(n,!0).forEach(function(r){yZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(n).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yZ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pU={registry:[],bootstrapped:!1},vZ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pU,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case vR:return YC({},e,{registry:[].concat(kM(e.registry),[n.key])});case $0:var r=e.registry.indexOf(n.key),i=kM(e.registry);return i.splice(r,1),YC({},e,{registry:i,bootstrapped:i.length===0});default:return e}};function _Z(t,e,n){var r=aR(vZ,pU,void 0),i=function(l){r.dispatch({type:vR,key:l})},a=function(l,c,h){var p={type:$0,payload:c,err:h,key:l};t.dispatch(p),r.dispatch(p)},s=YC({},r,{purge:function(){var l=[];return t.dispatch({type:yR,result:function(h){l.push(h)}}),Promise.all(l)},flush:function(){var l=[];return t.dispatch({type:pR,result:function(h){l.push(h)}}),Promise.all(l)},pause:function(){t.dispatch({type:gR})},persist:function(){t.dispatch({type:mR,register:i,rehydrate:a})}});return s.persist(),s}var mp={},ev={},tv={},FM;function wZ(){if(FM)return tv;FM=1,tv.__esModule=!0,tv.default=i;function t(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(o){return typeof o}:t=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},t(a)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function r(a){if((typeof self>"u"?"undefined":t(self))!=="object"||!(a in self))return!1;try{var s=self[a],o="redux-persist ".concat(a," test");s.setItem(o,"test"),s.getItem(o),s.removeItem(o)}catch{return!1}return!0}function i(a){var s="".concat(a,"Storage");return r(s)?self[s]:n}return tv}var jM;function bZ(){if(jM)return ev;jM=1,ev.__esModule=!0,ev.default=n;var t=e(wZ());function e(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,t.default)(r);return{getItem:function(s){return new Promise(function(o,l){o(i.getItem(s))})},setItem:function(s,o){return new Promise(function(l,c){l(i.setItem(s,o))})},removeItem:function(s){return new Promise(function(o,l){o(i.removeItem(s))})}}}return ev}var $M;function SZ(){if($M)return mp;$M=1,mp.__esModule=!0,mp.default=void 0;var t=e(bZ());function e(r){return r&&r.__esModule?r:{default:r}}var n=(0,t.default)("local");return mp.default=n,mp}var xZ=SZ();const EZ=kr(xZ),nv=G8({auth:KQ,login:YQ,config:QQ,ui:_Q}),TZ=(t,e)=>{if(oQ(dR.signout)(e)){let n=nv(void 0,e);const r=t&&dU(t);r&&(n=nv(n,JC.setConfig(r)));const i=t&&hU(t);return i&&(n=nv(n,a0.setLastSelectedIssuer(i))),n}return nv(t,e)},CZ={key:"root",storage:EZ,whitelist:["login","config","ui"]},AZ=hZ(CZ,TZ),gU=rQ({reducer:AZ,middleware:t=>t({serializableCheck:{ignoredActions:[pR,$0,gR,mR,yR,vR]}})}),RZ=_Z(gU),nh=crypto,_R=t=>t instanceof CryptoKey,po=new TextEncoder,Ud=new TextDecoder;function mU(...t){const e=t.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}const PZ=t=>{let e=t;typeof e=="string"&&(e=po.encode(e));const n=32768,r=[];for(let i=0;i<e.length;i+=n)r.push(String.fromCharCode.apply(null,e.subarray(i,i+n)));return btoa(r.join(""))},O_=t=>PZ(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),OZ=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},Wc=t=>{let e=t;e instanceof Uint8Array&&(e=Ud.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return OZ(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class Ni extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Ni.code="ERR_JOSE_GENERIC";class Rs extends Ni{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Rs.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class XC extends Ni{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}XC.code="ERR_JWT_EXPIRED";class yU extends Ni{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}yU.code="ERR_JOSE_ALG_NOT_ALLOWED";class Ta extends Ni{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Ta.code="ERR_JOSE_NOT_SUPPORTED";class IZ extends Ni{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}IZ.code="ERR_JWE_DECRYPTION_FAILED";class LZ extends Ni{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}LZ.code="ERR_JWE_INVALID";class Dr extends Ni{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Dr.code="ERR_JWS_INVALID";class U0 extends Ni{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}U0.code="ERR_JWT_INVALID";class MZ extends Ni{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}MZ.code="ERR_JWK_INVALID";class wR extends Ni{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}wR.code="ERR_JWKS_INVALID";class bR extends Ni{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}bR.code="ERR_JWKS_NO_MATCHING_KEY";class vU extends Ni{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}vU.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class _U extends Ni{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}_U.code="ERR_JWKS_TIMEOUT";class wU extends Ni{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}wU.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function Jo(t,e="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`)}function rv(t,e){return t.name===e}function j1(t){return parseInt(t.name.slice(4),10)}function DZ(t){switch(t){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function kZ(t,e){if(e.length&&!e.some(n=>t.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(e.length>2){const r=e.pop();n+=`one of ${e.join(", ")}, or ${r}.`}else e.length===2?n+=`one of ${e[0]} or ${e[1]}.`:n+=`${e[0]}.`;throw new TypeError(n)}}function NZ(t,e,...n){switch(e){case"HS256":case"HS384":case"HS512":{if(!rv(t.algorithm,"HMAC"))throw Jo("HMAC");const r=parseInt(e.slice(2),10);if(j1(t.algorithm.hash)!==r)throw Jo(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!rv(t.algorithm,"RSASSA-PKCS1-v1_5"))throw Jo("RSASSA-PKCS1-v1_5");const r=parseInt(e.slice(2),10);if(j1(t.algorithm.hash)!==r)throw Jo(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!rv(t.algorithm,"RSA-PSS"))throw Jo("RSA-PSS");const r=parseInt(e.slice(2),10);if(j1(t.algorithm.hash)!==r)throw Jo(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(t.algorithm.name!=="Ed25519"&&t.algorithm.name!=="Ed448")throw Jo("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!rv(t.algorithm,"ECDSA"))throw Jo("ECDSA");const r=DZ(e);if(t.algorithm.namedCurve!==r)throw Jo(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}kZ(t,n)}function bU(t,e,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();t+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(r=e.constructor)!=null&&r.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const eA=(t,...e)=>bU("Key must be ",t,...e);function SU(t,e,...n){return bU(`Key for the ${t} algorithm must be `,e,...n)}const xU=t=>_R(t)?!0:(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",Yg=["CryptoKey"],EU=(...t)=>{const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const r of e){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function FZ(t){return typeof t=="object"&&t!==null}function mu(t){if(!FZ(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const TU=(t,e)=>{if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}};function rh(t){return mu(t)&&typeof t.kty=="string"}function jZ(t){return t.kty!=="oct"&&typeof t.d=="string"}function $Z(t){return t.kty!=="oct"&&typeof t.d>"u"}function UZ(t){return rh(t)&&t.kty==="oct"&&typeof t.k=="string"}function BZ(t){let e,n;switch(t.kty){case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"EdDSA":e={name:t.crv},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Ta('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}const CU=async t=>{if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=BZ(t),r=[e,t.ext??!1,t.key_ops??n],i={...t};return delete i.alg,delete i.use,nh.subtle.importKey("jwk",i,...r)},AU=t=>Wc(t);let Gf,Wf;const RU=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",s0=async(t,e,n,r,i=!1)=>{let a=t.get(e);if(a!=null&&a[r])return a[r];const s=await CU({...n,alg:r});return i&&Object.freeze(e),a?a[r]=s:t.set(e,{[r]:s}),s},qZ=(t,e)=>{if(RU(t)){let n=t.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?AU(n.k):(Wf||(Wf=new WeakMap),s0(Wf,t,n,e))}return rh(t)?t.k?Wc(t.k):(Wf||(Wf=new WeakMap),s0(Wf,t,t,e,!0)):t},zZ=(t,e)=>{if(RU(t)){let n=t.export({format:"jwk"});return n.k?AU(n.k):(Gf||(Gf=new WeakMap),s0(Gf,t,n,e))}return rh(t)?t.k?Wc(t.k):(Gf||(Gf=new WeakMap),s0(Gf,t,t,e,!0)):t},UM={normalizePublicKey:qZ,normalizePrivateKey:zZ};async function PU(t,e){if(!mu(t))throw new TypeError("JWK must be an object");switch(e||(e=t.alg),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return Wc(t.k);case"RSA":if(t.oth!==void 0)throw new Ta('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return CU({...t,alg:e});default:throw new Ta('Unsupported "kty" (Key Type) Parameter value')}}const ld=t=>t==null?void 0:t[Symbol.toStringTag],tA=(t,e,n)=>{var r,i;if(e.use!==void 0&&e.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(e.key_ops!==void 0&&((i=(r=e.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, when present its alg must be ${t}`);return!0},HZ=(t,e,n,r)=>{if(!(e instanceof Uint8Array)){if(r&&rh(e)){if(UZ(e)&&tA(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!xU(e))throw new TypeError(SU(t,e,...Yg,"Uint8Array",r?"JSON Web Key":null));if(e.type!=="secret")throw new TypeError(`${ld(e)} instances for symmetric algorithms must be of type "secret"`)}},VZ=(t,e,n,r)=>{if(r&&rh(e))switch(n){case"sign":if(jZ(e)&&tA(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if($Z(e)&&tA(t,e,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!xU(e))throw new TypeError(SU(t,e,...Yg,r?"JSON Web Key":null));if(e.type==="secret")throw new TypeError(`${ld(e)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&e.type==="public")throw new TypeError(`${ld(e)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&e.type==="public")throw new TypeError(`${ld(e)} instances for asymmetric algorithm decryption must be of type "private"`);if(e.algorithm&&n==="verify"&&e.type==="private")throw new TypeError(`${ld(e)} instances for asymmetric algorithm verifying must be of type "public"`);if(e.algorithm&&n==="encrypt"&&e.type==="private")throw new TypeError(`${ld(e)} instances for asymmetric algorithm encryption must be of type "public"`)};function OU(t,e,n,r){e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?HZ(e,n,r,t):VZ(e,n,r,t)}OU.bind(void 0,!1);const nA=OU.bind(void 0,!0);function IU(t,e,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(s=>typeof s!="string"||s.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...e.entries()]):a=e;for(const s of r.crit){if(!a.has(s))throw new Ta(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new t(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&r[s]===void 0)throw new t(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(r.crit)}const KZ=(t,e)=>{if(e!==void 0&&(!Array.isArray(e)||e.some(n=>typeof n!="string")))throw new TypeError(`"${t}" option must be an array of strings`);if(e)return new Set(e)},GZ=async t=>{if(t instanceof Uint8Array)return{kty:"oct",k:O_(t)};if(!_R(t))throw new TypeError(eA(t,...Yg,"Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:r,use:i,...a}=await nh.subtle.exportKey("jwk",t);return a};async function WZ(t){return GZ(t)}function LU(t,e){const n=`SHA-${t.slice(-3)}`;switch(t){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:t.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:e.namedCurve};case"EdDSA":return{name:e.name};default:throw new Ta(`alg ${t} is not supported either by JOSE or your javascript runtime`)}}async function MU(t,e,n){if(n==="sign"&&(e=await UM.normalizePrivateKey(e,t)),n==="verify"&&(e=await UM.normalizePublicKey(e,t)),_R(e))return NZ(e,t,n),e;if(e instanceof Uint8Array){if(!t.startsWith("HS"))throw new TypeError(eA(e,...Yg));return nh.subtle.importKey("raw",e,{hash:`SHA-${t.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(eA(e,...Yg,"Uint8Array","JSON Web Key"))}const QZ=async(t,e,n,r)=>{const i=await MU(t,e,"verify");TU(t,i);const a=LU(t,i.algorithm);try{return await nh.subtle.verify(a,i,n,r)}catch{return!1}};async function ZZ(t,e,n){if(!mu(t))throw new Dr("Flattened JWS must be an object");if(t.protected===void 0&&t.header===void 0)throw new Dr('Flattened JWS must have either of the "protected" or "header" members');if(t.protected!==void 0&&typeof t.protected!="string")throw new Dr("JWS Protected Header incorrect type");if(t.payload===void 0)throw new Dr("JWS Payload missing");if(typeof t.signature!="string")throw new Dr("JWS Signature missing or incorrect type");if(t.header!==void 0&&!mu(t.header))throw new Dr("JWS Unprotected Header incorrect type");let r={};if(t.protected)try{const w=Wc(t.protected);r=JSON.parse(Ud.decode(w))}catch{throw new Dr("JWS Protected Header is invalid")}if(!EU(r,t.header))throw new Dr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...t.header},a=IU(Dr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let s=!0;if(a.has("b64")&&(s=r.b64,typeof s!="boolean"))throw new Dr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=i;if(typeof o!="string"||!o)throw new Dr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=KZ("algorithms",n.algorithms);if(l&&!l.has(o))throw new yU('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof t.payload!="string")throw new Dr("JWS Payload must be a string")}else if(typeof t.payload!="string"&&!(t.payload instanceof Uint8Array))throw new Dr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof e=="function"?(e=await e(r,t),c=!0,nA(o,e,"verify"),rh(e)&&(e=await PU(e,o))):nA(o,e,"verify");const h=mU(po.encode(t.protected??""),po.encode("."),typeof t.payload=="string"?po.encode(t.payload):t.payload);let p;try{p=Wc(t.signature)}catch{throw new Dr("Failed to base64url decode the signature")}if(!await QZ(o,e,p,h))throw new wU;let y;if(s)try{y=Wc(t.payload)}catch{throw new Dr("Failed to base64url decode the payload")}else typeof t.payload=="string"?y=po.encode(t.payload):y=t.payload;const v={payload:y};return t.protected!==void 0&&(v.protectedHeader=r),t.header!==void 0&&(v.unprotectedHeader=t.header),c?{...v,key:e}:v}async function JZ(t,e,n){if(t instanceof Uint8Array&&(t=Ud.decode(t)),typeof t!="string")throw new Dr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:s}=t.split(".");if(s!==3)throw new Dr("Invalid Compact JWS");const o=await ZZ({payload:i,protected:r,signature:a},e,n),l={payload:o.payload,protectedHeader:o.protectedHeader};return typeof e=="function"?{...l,key:o.key}:l}const cl=t=>Math.floor(t.getTime()/1e3),DU=60,kU=DU*60,SR=kU*24,YZ=SR*7,XZ=SR*365.25,eJ=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Fg=t=>{const e=eJ.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),r=e[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*DU);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*kU);break;case"day":case"days":case"d":i=Math.round(n*SR);break;case"week":case"weeks":case"w":i=Math.round(n*YZ);break;default:i=Math.round(n*XZ);break}return e[1]==="-"||e[4]==="ago"?-i:i},BM=t=>t.toLowerCase().replace(/^application\//,""),tJ=(t,e)=>typeof t=="string"?e.includes(t):Array.isArray(t)?e.some(Set.prototype.has.bind(new Set(t))):!1,nJ=(t,e,n={})=>{let r;try{r=JSON.parse(Ud.decode(e))}catch{}if(!mu(r))throw new U0("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof t.typ!="string"||BM(t.typ)!==BM(i)))throw new Rs('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:s,subject:o,audience:l,maxTokenAge:c}=n,h=[...a];c!==void 0&&h.push("iat"),l!==void 0&&h.push("aud"),o!==void 0&&h.push("sub"),s!==void 0&&h.push("iss");for(const v of new Set(h.reverse()))if(!(v in r))throw new Rs(`missing required "${v}" claim`,r,v,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(r.iss))throw new Rs('unexpected "iss" claim value',r,"iss","check_failed");if(o&&r.sub!==o)throw new Rs('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!tJ(r.aud,typeof l=="string"?[l]:l))throw new Rs('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=Fg(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=cl(m||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new Rs('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Rs('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+p)throw new Rs('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Rs('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-p)throw new XC('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){const v=y-r.iat,w=typeof c=="number"?c:Fg(c);if(v-p>w)throw new XC('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(v<0-p)throw new Rs('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function rJ(t,e,n){var s;const r=await JZ(t,e,n);if((s=r.protectedHeader.crit)!=null&&s.includes("b64")&&r.protectedHeader.b64===!1)throw new U0("JWTs MUST NOT use unencoded payload");const a={payload:nJ(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof e=="function"?{...a,key:r.key}:a}const iJ=async(t,e,n)=>{const r=await MU(t,e,"sign");TU(t,r);const i=await nh.subtle.sign(LU(t,r.algorithm),r,n);return new Uint8Array(i)};class aJ{constructor(e){if(!(e instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=e}setProtectedHeader(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}async sign(e,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Dr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!EU(this._protectedHeader,this._unprotectedHeader))throw new Dr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=IU(Dr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Dr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=r;if(typeof s!="string"||!s)throw new Dr('JWS "alg" (Algorithm) Header Parameter missing or invalid');nA(s,e,"sign");let o=this._payload;a&&(o=po.encode(O_(o)));let l;this._protectedHeader?l=po.encode(O_(JSON.stringify(this._protectedHeader))):l=po.encode("");const c=mU(l,po.encode("."),o),h=await iJ(s,e,c),p={signature:O_(h),payload:""};return a&&(p.payload=Ud.decode(o)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=Ud.decode(l)),p}}class sJ{constructor(e){this._flattened=new aJ(e)}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}async sign(e,n){const r=await this._flattened.sign(e,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function fc(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}class oJ{constructor(e={}){if(!mu(e))throw new TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return typeof e=="number"?this._payload={...this._payload,nbf:fc("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:fc("setNotBefore",cl(e))}:this._payload={...this._payload,nbf:cl(new Date)+Fg(e)},this}setExpirationTime(e){return typeof e=="number"?this._payload={...this._payload,exp:fc("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:fc("setExpirationTime",cl(e))}:this._payload={...this._payload,exp:cl(new Date)+Fg(e)},this}setIssuedAt(e){return typeof e>"u"?this._payload={...this._payload,iat:cl(new Date)}:e instanceof Date?this._payload={...this._payload,iat:fc("setIssuedAt",cl(e))}:typeof e=="string"?this._payload={...this._payload,iat:fc("setIssuedAt",cl(new Date)+Fg(e))}:this._payload={...this._payload,iat:fc("setIssuedAt",e)},this}}class uJ extends oJ{setProtectedHeader(e){return this._protectedHeader=e,this}async sign(e,n){var i;const r=new sJ(po.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new U0("JWTs MUST NOT use unencoded payload");return r.sign(e,n)}}function lJ(t){switch(typeof t=="string"&&t.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Ta('Unsupported "alg" value for a JSON Web Key Set')}}function cJ(t){return t&&typeof t=="object"&&Array.isArray(t.keys)&&t.keys.every(fJ)}function fJ(t){return mu(t)}function NU(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}class dJ{constructor(e){if(this._cached=new WeakMap,!cJ(e))throw new wR("JSON Web Key Set malformed");this._jwks=NU(e)}async getKey(e,n){const{alg:r,kid:i}={...e,...n==null?void 0:n.header},a=lJ(r),s=this._jwks.keys.filter(c=>{let h=a===c.kty;if(h&&typeof i=="string"&&(h=i===c.kid),h&&typeof c.alg=="string"&&(h=r===c.alg),h&&typeof c.use=="string"&&(h=c.use==="sig"),h&&Array.isArray(c.key_ops)&&(h=c.key_ops.includes("verify")),h&&r==="EdDSA"&&(h=c.crv==="Ed25519"||c.crv==="Ed448"),h)switch(r){case"ES256":h=c.crv==="P-256";break;case"ES256K":h=c.crv==="secp256k1";break;case"ES384":h=c.crv==="P-384";break;case"ES512":h=c.crv==="P-521";break}return h}),{0:o,length:l}=s;if(l===0)throw new bR;if(l!==1){const c=new vU,{_cached:h}=this;throw c[Symbol.asyncIterator]=async function*(){for(const p of s)try{yield await qM(h,p,r)}catch{}},c}return qM(this._cached,o,r)}}async function qM(t,e,n){const r=t.get(e)||t.set(e,{}).get(e);if(r[n]===void 0){const i=await PU({...e,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new wR("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function zM(t){const e=new dJ(t),n=async(r,i)=>e.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>NU(e._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const hJ=async(t,e,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},e));const s=await fetch(t.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(o=>{throw a?new _U:o});if(i!==void 0&&clearTimeout(i),s.status!==200)throw new Ni("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await s.json()}catch{throw new Ni("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function pJ(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let rA;var E_,J5;(typeof navigator>"u"||!((J5=(E_=navigator.userAgent)==null?void 0:E_.startsWith)!=null&&J5.call(E_,"Mozilla/5.0 ")))&&(rA="jose/v5.9.6");const $1=Symbol();function gJ(t,e){return!(typeof t!="object"||t===null||!("uat"in t)||typeof t.uat!="number"||Date.now()-t.uat>=e||!("jwks"in t)||!mu(t.jwks)||!Array.isArray(t.jwks.keys)||!Array.prototype.every.call(t.jwks.keys,mu))}class mJ{constructor(e,n){if(!(e instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(e.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[$1])!==void 0&&(this._cache=n==null?void 0:n[$1],gJ(n==null?void 0:n[$1],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=zM(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(e,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(e,n)}catch(r){if(r instanceof bR&&this.coolingDown()===!1)return await this.reload(),this._local(e,n);throw r}}async reload(){this._pendingFetch&&pJ()&&(this._pendingFetch=void 0);const e=new Headers(this._options.headers);rA&&!e.has("User-Agent")&&(e.set("User-Agent",rA),this._options.headers=Object.fromEntries(e.entries())),this._pendingFetch||(this._pendingFetch=hJ(this._url,this._timeoutDuration,this._options).then(n=>{this._local=zM(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function yJ(t,e){const n=new mJ(t,e),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function U1(t){const e=(t==null?void 0:t.modulusLength)??2048;if(typeof e!="number"||e<2048)throw new Ta("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return e}async function vJ(t,e){let n,r;switch(t){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:U1(e)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:U1(e)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(t.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:U1(e)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new Ta("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new Ta("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Ta('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return nh.subtle.generateKey(n,!1,r)}async function _J(t,e){return vJ(t,e)}const Pi=[];for(let t=0;t<256;++t)Pi.push((t+256).toString(16).slice(1));function wJ(t,e=0){return(Pi[t[e+0]]+Pi[t[e+1]]+Pi[t[e+2]]+Pi[t[e+3]]+"-"+Pi[t[e+4]]+Pi[t[e+5]]+"-"+Pi[t[e+6]]+Pi[t[e+7]]+"-"+Pi[t[e+8]]+Pi[t[e+9]]+"-"+Pi[t[e+10]]+Pi[t[e+11]]+Pi[t[e+12]]+Pi[t[e+13]]+Pi[t[e+14]]+Pi[t[e+15]]).toLowerCase()}let B1;const bJ=new Uint8Array(16);function SJ(){if(!B1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");B1=crypto.getRandomValues.bind(crypto)}return B1(bJ)}const xJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HM={randomUUID:xJ};function FU(t,e,n){if(HM.randomUUID&&!e&&!t)return HM.randomUUID();t=t||{};const r=t.random||(t.rng||SJ)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,wJ(r)}const jU="solidClientAuthn:",o0=["ES256","RS256"],ii={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},VM=5,EJ="openid",TJ="offline_access",CJ="webid",$U=[EJ,TJ,CJ].join(" ");class AJ{constructor(e){this.handleables=e,this.handleables=e}async getProperHandler(e){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...e)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...e){return await this.getProperHandler(e)!==null}async handle(...e){const n=await this.getProperHandler(e);if(n)return n.handle(...e);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${e.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function UU(t,e,n,r){let i,a;try{const{payload:s}=await rJ(t,yJ(new URL(e)),{issuer:n,audience:r});i=s}catch(s){throw new Error(`Token verification failed: ${s.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(s){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${s}].`)}}function BU(t){try{const e=new URL(t),n=!e.searchParams.has("code")&&!e.searchParams.has("state"),r=e.hash==="";return n&&r}catch{return!1}}function qU(t){const e=new URL(t);return e.searchParams.delete("state"),e.searchParams.delete("code"),e.searchParams.delete("error"),e.searchParams.delete("error_description"),e.searchParams.delete("iss"),e}function RJ(t,e){return typeof t=="boolean"?!!t:!!e}class PJ{constructor(e,n){this.storageUtility=e,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=e,this.redirector=n}async canHandle(e){return this.parametersGuard(e)}async handleRedirect({oidcLoginOptions:e,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(e))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:e.sessionId}),this.storageUtility.setForUser(e.sessionId,{codeVerifier:r,issuer:e.issuer.toString(),redirectUrl:e.redirectUrl,dpop:(!!e.dpop).toString(),keepAlive:RJ(e.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:e.handleRedirect})}}class OJ{constructor(e){this.sessionInfoManager=e,this.sessionInfoManager=e}async canHandle(){return!0}async handle(e){await this.sessionInfoManager.clear(e)}}class IJ{constructor(e){this.redirector=e,this.redirector=e}async canHandle(e,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(e,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class LJ{constructor(e,n){this.handlers=[new OJ(e),new IJ(n)]}async canHandle(){return!0}async handle(e,n){for(const r of this.handlers)await r.canHandle(e,n)&&await r.handle(e,n)}}function zU(){return{isLoggedIn:!1,sessionId:FU(),fetch:(...t)=>fetch(...t)}}async function HU(t,e){await Promise.all([e.deleteAllUserData(t,{secure:!1}),e.deleteAllUserData(t,{secure:!0})])}class MJ{constructor(e){this.storageUtility=e,this.storageUtility=e}update(e,n){throw new Error("Not Implemented")}get(e){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(e){return HU(e,this.storageUtility)}async register(e){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function DJ({endSessionEndpoint:t,idTokenHint:e,postLogoutRedirectUri:n,state:r}){const i=new URL(t);return e!==void 0&&i.searchParams.append("id_token_hint",e),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function kJ({endSessionEndpoint:t,idTokenHint:e}){if(t!==void 0)return function({state:r,postLogoutUrl:i}){return DJ({endSessionEndpoint:t,idTokenHint:e,state:r,postLogoutRedirectUri:i})}}function NJ(t){return typeof t=="string"&&["DPoP","Bearer"].includes(t)}function VU(t){try{return new URL(t),!0}catch{return!1}}function FJ(t,e){var n;return(n=e.find(r=>t.includes(r)))!==null&&n!==void 0?n:null}function jJ(t){return t.clientId!==void 0&&!VU(t.clientId)}function $J(t,e){return e.scopesSupported.includes("webid")&&t.clientId!==void 0&&VU(t.clientId)}function UJ(t){return typeof t=="string"&&["dynamic","static","solid-oidc"].includes(t)}async function BJ(t,e,n,r){let i;if($J(t,e))i={clientId:t.clientId,clientName:t.clientName,clientType:"solid-oidc"};else if(jJ(t))i={clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:"static"};else return r.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},e);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(t.sessionId,a),i}const KM=(t,e)=>fetch(t,e);let qJ=class{constructor(e,n,r,i,a){this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=KM,this.logout=async(s,o)=>{await this.logoutHandler.handle(s,(o==null?void 0:o.logoutType)==="idp"?{...o,toLogoutUrl:this.boundLogout}:o),this.fetch=KM,delete this.boundLogout},this.getSessionInfo=async s=>this.sessionInfoManager.get(s),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=e,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function KU(t,e,n){try{const[r,i,a,s,o]=await Promise.all([e.getForUser(t,"issuer",{errorIfNull:!0}),e.getForUser(t,"codeVerifier"),e.getForUser(t,"redirectUrl"),e.getForUser(t,"dpop",{errorIfNull:!0}),e.getForUser(t,"keepAlive")]);await e.deleteForUser(t,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:s==="true",keepAlive:typeof o=="string"?o==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${t}]: ${r}`)}}async function zJ(t,e,n,r,i,a,s,o){n!==void 0&&await t.setForUser(e,{webId:n},{secure:s}),r!==void 0&&await t.setForUser(e,{clientId:r},{secure:s}),await t.setForUser(e,{isLoggedIn:i},{secure:s})}class HJ{constructor(e,n){this.secureStorage=e,this.insecureStorage=n,this.secureStorage=e,this.insecureStorage=n}getKey(e){return`solidClientAuthenticationUser:${e}`}async getUserData(e,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(e));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${e}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(e,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(e),JSON.stringify(n))}async get(e,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(e);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${e}] is not stored`);return r}async set(e,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(e,n)}async delete(e,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(e)}async getForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${e}] is not stored`);return a||void 0}async setForUser(e,n,r){let i;try{i=await this.getUserData(e,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(e,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(e,n,r){const i=await this.getUserData(e,r==null?void 0:r.secure);delete i[n],await this.setUserData(e,i,r==null?void 0:r.secure)}async deleteAllUserData(e,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(e))}}class VJ{constructor(){this.map={}}async get(e){return this.map[e]||void 0}async set(e,n){this.map[e]=n}async delete(e){delete this.map[e]}}class iA extends Error{constructor(e){super(e)}}class Tg extends Error{constructor(e){super(`Invalid response from OIDC provider: missing fields ${e}`),this.missingFields=e}}class GU extends Error{constructor(e,n,r){super(e),this.error=n,this.errorDescription=r}}function KJ(t){const e=new URL(t);return new URL(e.pathname,e.origin).toString()}async function xR(t,e,n){return new uJ({htu:KJ(t),htm:e.toUpperCase(),jti:FU()}).setProtectedHeader({alg:o0[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function GJ(){const{privateKey:t,publicKey:e}=await _J(o0[0]),n={privateKey:t,publicKey:await WZ(e)};return[n.publicKey.alg]=o0,n}const WU=600;function WJ(t){return[401,403].includes(t)}async function QJ(t,e,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${e}`),a.set("DPoP",await xR(t,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function ZJ(t,e,n,r){if(n!==void 0)return QJ(t,e,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${e}`),{...r,headers:i}}async function GM(t,e,n,r){return fetch(e,await ZJ(e.toString(),t,r,n))}async function JJ(t,e,n){var r;const i=await t.tokenRefresher.refresh(t.sessionId,t.refreshToken,e);return n==null||n.emit(ii.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:WU),typeof i.refreshToken=="string"&&(n==null||n.emit(ii.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const q1=t=>t!==void 0?t-VM>0?t-VM:t:WU;async function YJ(t,e){var n;let r=t,i;const a=e==null?void 0:e.refreshOptions;if(a!==void 0){const s=async()=>{var o,l,c,h;try{const{accessToken:p,refreshToken:m,expiresIn:y}=await JJ(a,e.dpopKey,e.eventEmitter);r=p,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(s,q1(y)*1e3),(o=e.eventEmitter)===null||o===void 0||o.emit(ii.TIMEOUT_SET,i)}catch(p){p instanceof GU&&((l=e==null?void 0:e.eventEmitter)===null||l===void 0||l.emit(ii.ERROR,p.error,p.errorDescription),(c=e==null?void 0:e.eventEmitter)===null||c===void 0||c.emit(ii.SESSION_EXPIRED)),p instanceof Tg&&p.missingFields.includes("access_token")&&((h=e==null?void 0:e.eventEmitter)===null||h===void 0||h.emit(ii.SESSION_EXPIRED))}};i=setTimeout(s,q1(e.expiresIn)*1e3),(n=e.eventEmitter)===null||n===void 0||n.emit(ii.TIMEOUT_SET,i)}else if(e!==void 0&&e.eventEmitter!==void 0){const s=setTimeout(()=>{e.eventEmitter.emit(ii.SESSION_EXPIRED)},q1(e.expiresIn)*1e3);e.eventEmitter.emit(ii.TIMEOUT_SET,s)}return async(s,o)=>{let l=await GM(r,s,o,e==null?void 0:e.dpopKey);const c=!l.ok&&!WJ(l.status);return l.ok||c||l.url!==s&&(e==null?void 0:e.dpopKey)!==void 0&&(l=await GM(r,l.url,o,e.dpopKey)),l}}const Oi=[];for(let t=0;t<256;++t)Oi.push((t+256).toString(16).slice(1));function XJ(t,e=0){return(Oi[t[e+0]]+Oi[t[e+1]]+Oi[t[e+2]]+Oi[t[e+3]]+"-"+Oi[t[e+4]]+Oi[t[e+5]]+"-"+Oi[t[e+6]]+Oi[t[e+7]]+"-"+Oi[t[e+8]]+Oi[t[e+9]]+"-"+Oi[t[e+10]]+Oi[t[e+11]]+Oi[t[e+12]]+Oi[t[e+13]]+Oi[t[e+14]]+Oi[t[e+15]]).toLowerCase()}let z1;const eY=new Uint8Array(16);function tY(){if(!z1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");z1=crypto.getRandomValues.bind(crypto)}return z1(eY)}const nY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),WM={randomUUID:nY};function rY(t,e,n){if(WM.randomUUID&&!e&&!t)return WM.randomUUID();t=t||{};const r=t.random||(t.rng||tY)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XJ(r)}var iv={exports:{}},QM;function ih(){if(QM)return iv.exports;QM=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,D,F){return Function.prototype.apply.call(M,D,F)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:n=function(M){return Object.getOwnPropertyNames(M)};function r(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(M){return M!==M};function a(){a.init.call(this)}iv.exports=a,iv.exports.once=b,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");s=I}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function l(I){return I._maxListeners===void 0?a.defaultMaxListeners:I._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(M){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var Z=M==="error",X=this._events;if(X!==void 0)Z=Z&&X.error===void 0;else if(!Z)return!1;if(Z){var U;if(D.length>0&&(U=D[0]),U instanceof Error)throw U;var J=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw J.context=U,J}var ce=X[M];if(ce===void 0)return!1;if(typeof ce=="function")e(ce,this,D);else for(var re=ce.length,ue=v(ce,re),F=0;F<re;++F)e(ue[F],this,D);return!0};function c(I,M,D,F){var Z,X,U;if(o(D),X=I._events,X===void 0?(X=I._events=Object.create(null),I._eventsCount=0):(X.newListener!==void 0&&(I.emit("newListener",M,D.listener?D.listener:D),X=I._events),U=X[M]),U===void 0)U=X[M]=D,++I._eventsCount;else if(typeof U=="function"?U=X[M]=F?[D,U]:[U,D]:F?U.unshift(D):U.push(D),Z=l(I),Z>0&&U.length>Z&&!U.warned){U.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=I,J.type=M,J.count=U.length,r(J)}return I}a.prototype.addListener=function(M,D){return c(this,M,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,D){return c(this,M,D,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(I,M,D){var F={fired:!1,wrapFn:void 0,target:I,type:M,listener:D},Z=h.bind(F);return Z.listener=D,F.wrapFn=Z,Z}a.prototype.once=function(M,D){return o(D),this.on(M,p(this,M,D)),this},a.prototype.prependOnceListener=function(M,D){return o(D),this.prependListener(M,p(this,M,D)),this},a.prototype.removeListener=function(M,D){var F,Z,X,U,J;if(o(D),Z=this._events,Z===void 0)return this;if(F=Z[M],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Z[M],Z.removeListener&&this.emit("removeListener",M,F.listener||D));else if(typeof F!="function"){for(X=-1,U=F.length-1;U>=0;U--)if(F[U]===D||F[U].listener===D){J=F[U].listener,X=U;break}if(X<0)return this;X===0?F.shift():w(F,X),F.length===1&&(Z[M]=F[0]),Z.removeListener!==void 0&&this.emit("removeListener",M,J||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(M){var D,F,Z;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[M]),this;if(arguments.length===0){var X=Object.keys(F),U;for(Z=0;Z<X.length;++Z)U=X[Z],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[M],typeof D=="function")this.removeListener(M,D);else if(D!==void 0)for(Z=D.length-1;Z>=0;Z--)this.removeListener(M,D[Z]);return this};function m(I,M,D){var F=I._events;if(F===void 0)return[];var Z=F[M];return Z===void 0?[]:typeof Z=="function"?D?[Z.listener||Z]:[Z]:D?E(Z):v(Z,Z.length)}a.prototype.listeners=function(M){return m(this,M,!0)},a.prototype.rawListeners=function(M){return m(this,M,!1)},a.listenerCount=function(I,M){return typeof I.listenerCount=="function"?I.listenerCount(M):y.call(I,M)},a.prototype.listenerCount=y;function y(I){var M=this._events;if(M!==void 0){var D=M[I];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(I,M){for(var D=new Array(M),F=0;F<M;++F)D[F]=I[F];return D}function w(I,M){for(;M+1<I.length;M++)I[M]=I[M+1];I.pop()}function E(I){for(var M=new Array(I.length),D=0;D<M.length;++D)M[D]=I[D].listener||I[D];return M}function b(I,M){return new Promise(function(D,F){function Z(U){I.removeListener(M,X),F(U)}function X(){typeof I.removeListener=="function"&&I.removeListener("error",Z),D([].slice.call(arguments))}A(I,M,X,{once:!0}),M!=="error"&&x(I,Z,{once:!0})})}function x(I,M,D){typeof I.on=="function"&&A(I,"error",M,D)}function A(I,M,D,F){if(typeof I.on=="function")F.once?I.once(M,D):I.on(M,D);else if(typeof I.addEventListener=="function")I.addEventListener(M,function Z(X){F.once&&I.removeEventListener(M,Z),D(X)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return iv.exports}var iY=ih();const aY=kr(iY);var I_={exports:{}},sY=I_.exports,ZM;function oY(){return ZM||(ZM=1,function(t,e){(function(r,i){t.exports=i()})(sY,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var s=r[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(a,s,o){i.o(a,s)||Object.defineProperty(a,s,{enumerable:!0,get:o})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,s){if(1&s&&(a=i(a)),8&s||4&s&&typeof a=="object"&&a&&a.__esModule)return a;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:a}),2&s&&typeof a!="string")for(var l in a)i.d(o,l,(function(c){return a[c]}).bind(null,l));return o},i.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(s,"a",s),s},i.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&c(h.prototype,p),m&&c(h,m),h}}(),s={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,l=void 0;(r.Log=function(){function c(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,o=s},c.debug=function(){if(l>=4){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.debug.apply(o,Array.from(m))}},c.info=function(){if(l>=3){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.info.apply(o,Array.from(m))}},c.warn=function(){if(l>=2){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.warn.apply(o,Array.from(m))}},c.error=function(){if(l>=1){for(var p=arguments.length,m=Array(p),y=0;y<p;y++)m[y]=arguments[y];o.error.apply(o,Array.from(m))}},a(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");l=p}},{key:"logger",get:function(){return o},set:function(p){if(!p.debug&&p.info&&(p.debug=p.info),!(p.debug&&p.info&&p.warn&&p.error))throw new Error("Invalid logger");o=p}}]),c}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&c(h.prototype,p),m&&c(h,m),h}}(),s={setInterval:function(c){function h(p,m){return c.apply(this,arguments)}return h.toString=function(){return c.toString()},h}(function(c,h){return setInterval(c,h)}),clearInterval:function(c){function h(p){return c.apply(this,arguments)}return h.toString=function(){return c.toString()},h}(function(c){return clearInterval(c)})},o=!1,l=null;r.Global=function(){function c(){(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){o=!0},c.setXMLHttpRequest=function(p){l=p},a(c,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!o&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return s}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(0),o=i(7);function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";r.MetadataService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.JsonService;if(l(this,h),!p)throw s.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=p,this._jsonService=new m(["application/jwk-set+json"])}return h.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},h.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(s.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(s.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){s.Log.debug("MetadataService.getMetadata: json received");var v=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},v,y),m._settings.metadata})):(s.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},h.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},h.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},h.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},h.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},h.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},h.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},h.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},h.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},h.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return s.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(v){if(s.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),v[m]===void 0){if(y===!0)return void s.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw s.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return v[m]})},h.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(s.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return s.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(v){if(s.Log.debug("MetadataService.getSigningKeys: key set received",v),!v.keys)throw s.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=v.keys,m._settings.signingKeys})})},a(h,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),s=i(1);r.UrlUtility=function(){function o(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.addQueryParam=function(c,h,p){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(h),c+="=",c+=encodeURIComponent(p)},o.parseUrlFragment=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.Global;typeof c!="string"&&(c=p.location.href);var m=c.lastIndexOf(h);m>=0&&(c=c.substr(m+1)),h==="?"&&(m=c.indexOf("#"))>=0&&(c=c.substr(0,m));for(var y,v={},w=/([^&=]+)=([^&]*)/g,E=0;y=w.exec(c);)if(v[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),E++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var b in v)return v;return{}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),s=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,s.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s=function(){function b(x,A){for(var I=0;I<A.length;I++){var M=A[I];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}return function(x,A,I){return A&&b(x.prototype,A),I&&b(x,I),x}}(),o=i(0),l=i(23),c=i(6),h=i(24),p=i(2);function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",v="id_token",w="openid",E="client_secret_post";r.OidcClientSettings=function(){function b(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},A=x.authority,I=x.metadataUrl,M=x.metadata,D=x.signingKeys,F=x.metadataSeed,Z=x.client_id,X=x.client_secret,U=x.response_type,J=U===void 0?v:U,ce=x.scope,re=ce===void 0?w:ce,ue=x.redirect_uri,me=x.post_logout_redirect_uri,be=x.client_authentication,he=be===void 0?E:be,fe=x.prompt,Oe=x.display,k=x.max_age,ie=x.ui_locales,ge=x.acr_values,H=x.resource,Y=x.response_mode,pe=x.filterProtocolClaims,Ae=pe===void 0||pe,Je=x.loadUserInfo,Re=Je===void 0||Je,Fe=x.staleStateAge,Xe=Fe===void 0?900:Fe,se=x.clockSkew,z=se===void 0?300:se,$=x.clockService,ae=$===void 0?new l.ClockService:$,W=x.userInfoJwtIssuer,de=W===void 0?"OP":W,ye=x.mergeClaims,He=ye!==void 0&&ye,Te=x.stateStore,Ne=Te===void 0?new c.WebStorageStateStore:Te,tt=x.ResponseValidatorCtor,nt=tt===void 0?h.ResponseValidator:tt,gt=x.MetadataServiceCtor,qt=gt===void 0?p.MetadataService:gt,Se=x.extraQueryParams,Be=Se===void 0?{}:Se,ee=x.extraTokenParams,q=ee===void 0?{}:ee;m(this,b),this._authority=A,this._metadataUrl=I,this._metadata=M,this._metadataSeed=F,this._signingKeys=D,this._client_id=Z,this._client_secret=X,this._response_type=J,this._scope=re,this._redirect_uri=ue,this._post_logout_redirect_uri=me,this._client_authentication=he,this._prompt=fe,this._display=Oe,this._max_age=k,this._ui_locales=ie,this._acr_values=ge,this._resource=H,this._response_mode=Y,this._filterProtocolClaims=!!Ae,this._loadUserInfo=!!Re,this._staleStateAge=Xe,this._clockSkew=z,this._clockService=ae,this._userInfoJwtIssuer=de,this._mergeClaims=!!He,this._stateStore=Ne,this._validator=new nt(this),this._metadataService=new qt(this),this._extraQueryParams=(Be===void 0?"undefined":a(Be))==="object"?Be:{},this._extraTokenParams=(q===void 0?"undefined":a(q))==="object"?q:{}}return b.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},s(b,[{key:"client_id",get:function(){return this._client_id},set:function(A){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=A}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(A){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=A}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(A){this._metadata=A}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(A){this._metadataSeed=A}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(A){this._signingKeys=A}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraQueryParams=A:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(A){(A===void 0?"undefined":a(A))==="object"?this._extraTokenParams=A:this._extraTokenParams={}}}]),b}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),s=i(1);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.prefix,p=h===void 0?"oidc.":h,m=c.store,y=m===void 0?s.Global.localStorage:m;o(this,l),this._store=y,this._prefix=p}return l.prototype.set=function(h,p){return a.Log.debug("WebStorageStateStore.set",h),h=this._prefix+h,this._store.setItem(h,p),Promise.resolve()},l.prototype.get=function(h){a.Log.debug("WebStorageStateStore.get",h),h=this._prefix+h;var p=this._store.getItem(h);return Promise.resolve(p)},l.prototype.remove=function(h){a.Log.debug("WebStorageStateStore.remove",h),h=this._prefix+h;var p=this._store.getItem(h);return this._store.removeItem(h),Promise.resolve(p)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var h=[],p=0;p<this._store.length;p++){var m=this._store.key(p);m.indexOf(this._prefix)===0&&h.push(m.substr(this._prefix.length))}return Promise.resolve(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),s=i(1);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;o(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),p&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=h,this._jwtHandler=p}return l.prototype.getJson=function(h,p){var m=this;if(!h)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",h),new Promise(function(y,v){var w=new m._XMLHttpRequest;w.open("GET",h);var E=m._contentTypes,b=m._jwtHandler;w.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",w.status),w.status===200){var x=w.getResponseHeader("Content-Type");if(x){var A=E.find(function(I){if(x.startsWith(I))return!0});if(A=="application/jwt")return void b(w).then(y,v);if(A)try{return void y(JSON.parse(w.responseText))}catch(I){return a.Log.error("JsonService.getJson: Error parsing JSON response",I.message),void v(I)}}v(Error("Invalid response Content-Type: "+x+", from URL: "+h))}else v(Error(w.statusText+" ("+w.status+")"))},w.onerror=function(){a.Log.error("JsonService.getJson: network error"),v(Error("Network Error"))},p&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),w.setRequestHeader("Authorization","Bearer "+p)),w.send()})},l.prototype.postForm=function(h,p,m){var y=this;if(!h)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",h),new Promise(function(v,w){var E=new y._XMLHttpRequest;E.open("POST",h);var b=y._contentTypes;E.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",E.status),E.status!==200){if(E.status===400&&(D=E.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{var M=JSON.parse(E.responseText);if(M&&M.error)return a.Log.error("JsonService.postForm: Error from server: ",M.error),void w(new Error(M.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void w(F)}w(Error(E.statusText+" ("+E.status+")"))}else{var D;if((D=E.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{return void v(JSON.parse(E.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void w(F)}w(Error("Invalid response Content-Type: "+D+", from URL: "+h))}},E.onerror=function(){a.Log.error("JsonService.postForm: network error"),w(Error("Network Error"))};var x="";for(var A in p){var I=p[A];I&&(x.length>0&&(x+="&"),x+=encodeURIComponent(A),x+="=",x+=encodeURIComponent(I))}E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&E.setRequestHeader("Authorization","Basic "+btoa(m)),E.send(x)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),s=i(3),o=i(13);r.SigninRequest=function(){function l(c){var h=c.url,p=c.client_id,m=c.redirect_uri,y=c.response_type,v=c.scope,w=c.authority,E=c.data,b=c.prompt,x=c.display,A=c.max_age,I=c.ui_locales,M=c.id_token_hint,D=c.login_hint,F=c.acr_values,Z=c.resource,X=c.response_mode,U=c.request,J=c.request_uri,ce=c.extraQueryParams,re=c.request_type,ue=c.client_secret,me=c.extraTokenParams,be=c.skipUserInfo;if(function(H,Y){if(!(H instanceof Y))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!p)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!v)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!w)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var he=l.isOidc(y),fe=l.isCode(y);X||(X=l.isCode(y)?"query":null),this.state=new o.SigninState({nonce:he,data:E,client_id:p,authority:w,redirect_uri:m,code_verifier:fe,request_type:re,response_mode:X,client_secret:ue,scope:v,extraTokenParams:me,skipUserInfo:be}),h=s.UrlUtility.addQueryParam(h,"client_id",p),h=s.UrlUtility.addQueryParam(h,"redirect_uri",m),h=s.UrlUtility.addQueryParam(h,"response_type",y),h=s.UrlUtility.addQueryParam(h,"scope",v),h=s.UrlUtility.addQueryParam(h,"state",this.state.id),he&&(h=s.UrlUtility.addQueryParam(h,"nonce",this.state.nonce)),fe&&(h=s.UrlUtility.addQueryParam(h,"code_challenge",this.state.code_challenge),h=s.UrlUtility.addQueryParam(h,"code_challenge_method","S256"));var Oe={prompt:b,display:x,max_age:A,ui_locales:I,id_token_hint:M,login_hint:D,acr_values:F,resource:Z,request:U,request_uri:J,response_mode:X};for(var k in Oe)Oe[k]&&(h=s.UrlUtility.addQueryParam(h,k,Oe[k]));for(var ie in ce)h=s.UrlUtility.addQueryParam(h,ie,ce[ie]);this.url=h}return l.isOidc=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="id_token"})[0]},l.isOAuth=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="token"})[0]},l.isCode=function(h){return!!h.split(/\s+/g).filter(function(p){return p==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function c(h,p){for(var m=0;m<p.length;m++){var y=p[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}return function(h,p,m){return p&&c(h.prototype,p),m&&c(h,m),h}}(),s=i(0),o=function(h){return h&&h.__esModule?h:{default:h}}(i(14));function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}r.State=function(){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.id,m=h.data,y=h.created,v=h.request_type;l(this,c),this._id=p||(0,o.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=v}return c.prototype.toStorageString=function(){return s.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(p){return s.Log.debug("State.fromStorageString"),new c(JSON.parse(p))},c.clearStaleState=function(p,m){var y=Date.now()/1e3-m;return p.getAllKeys().then(function(v){s.Log.debug("State.clearStaleState: got keys",v);for(var w=[],E=function(I){var M=v[I];x=p.get(M).then(function(D){var F=!1;if(D)try{var Z=c.fromStorageString(D);s.Log.debug("State.clearStaleState: got item from key: ",M,Z.created),Z.created<=y&&(F=!0)}catch(X){s.Log.error("State.clearStaleState: Error parsing state for key",M,X.message),F=!0}else s.Log.debug("State.clearStaleState: no item in storage for key: ",M),F=!0;if(F)return s.Log.debug("State.clearStaleState: removed item for key: ",M),p.remove(M)}),w.push(x)},b=0;b<v.length;b++){var x;E(b)}return s.Log.debug("State.clearStaleState: waiting on promise count:",w.length),Promise.all(w)})},a(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function E(b,x){for(var A=0;A<x.length;A++){var I=x[A];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(b,I.key,I)}}return function(b,x,A){return x&&E(b.prototype,x),A&&E(b,A),b}}(),s=i(0),o=i(5),l=i(12),c=i(8),h=i(34),p=i(35),m=i(36),y=i(13),v=i(9);function w(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function E(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w(this,E),b instanceof o.OidcClientSettings?this._settings=b:this._settings=new o.OidcClientSettings(b)}return E.prototype.createSigninRequest=function(){var x=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.response_type,M=A.scope,D=A.redirect_uri,F=A.data,Z=A.state,X=A.prompt,U=A.display,J=A.max_age,ce=A.ui_locales,re=A.id_token_hint,ue=A.login_hint,me=A.acr_values,be=A.resource,he=A.request,fe=A.request_uri,Oe=A.response_mode,k=A.extraQueryParams,ie=A.extraTokenParams,ge=A.request_type,H=A.skipUserInfo,Y=arguments[1];s.Log.debug("OidcClient.createSigninRequest");var pe=this._settings.client_id;I=I||this._settings.response_type,M=M||this._settings.scope,D=D||this._settings.redirect_uri,X=X||this._settings.prompt,U=U||this._settings.display,J=J||this._settings.max_age,ce=ce||this._settings.ui_locales,me=me||this._settings.acr_values,be=be||this._settings.resource,Oe=Oe||this._settings.response_mode,k=k||this._settings.extraQueryParams,ie=ie||this._settings.extraTokenParams;var Ae=this._settings.authority;return c.SigninRequest.isCode(I)&&I!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Je){s.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Je);var Re=new c.SigninRequest({url:Je,client_id:pe,redirect_uri:D,response_type:I,scope:M,data:F||Z,authority:Ae,prompt:X,display:U,max_age:J,ui_locales:ce,id_token_hint:re,login_hint:ue,acr_values:me,resource:be,request:he,request_uri:fe,extraQueryParams:k,extraTokenParams:ie,request_type:ge,response_mode:Oe,client_secret:x._settings.client_secret,skipUserInfo:H}),Fe=Re.state;return(Y=Y||x._stateStore).set(Fe.id,Fe.toStorageString()).then(function(){return Re})})},E.prototype.readSigninResponseState=function(x,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSigninResponseState");var M=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),D=M?"?":"#",F=new h.SigninResponse(x,D);if(!F.state)return s.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));A=A||this._stateStore;var Z=I?A.remove.bind(A):A.get.bind(A);return Z(F.state).then(function(X){if(!X)throw s.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(X),response:F}})},E.prototype.processSigninResponse=function(x,A){var I=this;return s.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(x,A,!0).then(function(M){var D=M.state,F=M.response;return s.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),I._validator.validateSigninResponse(D,F)})},E.prototype.createSignoutRequest=function(){var x=this,A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=A.id_token_hint,M=A.data,D=A.state,F=A.post_logout_redirect_uri,Z=A.extraQueryParams,X=A.request_type,U=arguments[1];return s.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,Z=Z||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(J){if(!J)throw s.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");s.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",J);var ce=new p.SignoutRequest({url:J,id_token_hint:I,post_logout_redirect_uri:F,data:M||D,extraQueryParams:Z,request_type:X}),re=ce.state;return re&&(s.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(U=U||x._stateStore).set(re.id,re.toStorageString())),ce})},E.prototype.readSignoutResponseState=function(x,A){var I=arguments.length>2&&arguments[2]!==void 0&&arguments[2];s.Log.debug("OidcClient.readSignoutResponseState");var M=new m.SignoutResponse(x);if(!M.state)return s.Log.debug("OidcClient.readSignoutResponseState: No state in response"),M.error?(s.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",M.error),Promise.reject(new l.ErrorResponse(M))):Promise.resolve({state:void 0,response:M});var D=M.state;A=A||this._stateStore;var F=I?A.remove.bind(A):A.get.bind(A);return F(D).then(function(Z){if(!Z)throw s.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.State.fromStorageString(Z),response:M}})},E.prototype.processSignoutResponse=function(x,A){var I=this;return s.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(x,A,!0).then(function(M){var D=M.state,F=M.response;return D?(s.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),I._validator.validateSignoutResponse(D,F)):(s.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},E.prototype.clearStaleState=function(x){return s.Log.debug("OidcClient.clearStaleState"),x=x||this._stateStore,v.State.clearStaleState(x,this.settings.staleStateAge)},a(E,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),E}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),s=i(2),o=i(0);function l(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function c(h){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(l(this,c),!h)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new p,this._metadataService=new m(this._settings)}return c.prototype.exchangeCode=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||v!="client_secret_basic"?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(w){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),p._jsonService.postForm(w,m,y).then(function(E){return o.Log.debug("TokenClient.exchangeCode: response received"),E})})):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var p=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(w){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),p._jsonService.postForm(w,m,y).then(function(E){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),E})})):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function o(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}r.ErrorResponse=function(l){function c(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=h.error,m=h.error_description,y=h.error_uri,v=h.state,w=h.session_state;if(s(this,c),!p)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var E=o(this,l.call(this,m||p));return E.name="ErrorResponse",E.error=p,E.error_description=m,E.error_uri=y,E.state=v,E.session_state=w,E}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(c,l),c}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,v){for(var w=0;w<v.length;w++){var E=v[w];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,v,w){return v&&m(y.prototype,v),w&&m(y,w),y}}(),s=i(0),o=i(9),l=i(4),c=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=v.nonce,E=v.authority,b=v.client_id,x=v.redirect_uri,A=v.code_verifier,I=v.response_mode,M=v.client_secret,D=v.scope,F=v.extraTokenParams,Z=v.skipUserInfo;h(this,y);var X=p(this,m.call(this,arguments[0]));if(w===!0?X._nonce=(0,c.default)():w&&(X._nonce=w),A===!0?X._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():A&&(X._code_verifier=A),X.code_verifier){var U=l.JoseUtil.hashString(X.code_verifier,"SHA256");X._code_challenge=l.JoseUtil.hexToBase64Url(U)}return X._redirect_uri=x,X._authority=E,X._client_id=b,X._response_mode=I,X._client_secret=M,X._scope=D,X._extraTokenParams=F,X._skipUserInfo=Z,X}return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);w.prototype=Object.create(E&&E.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(w,E):w.__proto__=E)}(y,m),y.prototype.toStorageString=function(){return s.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(w){return s.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(w))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(o.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?s:o)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function o(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&o(l.prototype,c),h&&o(l,h),l}}(),s=i(0);r.User=function(){function o(l){var c=l.id_token,h=l.session_state,p=l.access_token,m=l.refresh_token,y=l.token_type,v=l.scope,w=l.profile,E=l.expires_at,b=l.state;(function(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),this.id_token=c,this.session_state=h,this.access_token=p,this.refresh_token=m,this.token_type=y,this.scope=v,this.profile=w,this.expires_at=E,this.state=b}return o.prototype.toStorageString=function(){return s.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},o.fromStorageString=function(c){return s.Log.debug("User.fromStorageString"),new o(JSON.parse(c))},a(o,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var h=parseInt(c);if(typeof h=="number"&&h>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+h}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),s=i(46);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=c.accessTokenExpiringNotificationTime,p=h===void 0?60:h,m=c.accessTokenExpiringTimer,y=m===void 0?new s.Timer("Access token expiring"):m,v=c.accessTokenExpiredTimer,w=v===void 0?new s.Timer("Access token expired"):v;o(this,l),this._accessTokenExpiringNotificationTime=p,this._accessTokenExpiring=y,this._accessTokenExpired=w}return l.prototype.load=function(h){if(h.access_token&&h.expires_in!==void 0){var p=h.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",p),p>0){var m=p-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=p+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(h){this._accessTokenExpiring.addHandler(h)},l.prototype.removeAccessTokenExpiring=function(h){this._accessTokenExpiring.removeHandler(h)},l.prototype.addAccessTokenExpired=function(h){this._accessTokenExpired.addHandler(h)},l.prototype.removeAccessTokenExpired=function(h){this._accessTokenExpired.removeHandler(h)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function s(o){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._name=o,this._callbacks=[]}return s.prototype.addHandler=function(l){this._callbacks.push(l)},s.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(h){return h===l});c>=0&&this._callbacks.splice(c,1)},s.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function h(p,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}return function(p,m,y){return m&&h(p.prototype,m),y&&h(p,y),p}}(),s=i(0),o=i(19),l=i(1);function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function h(p){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.CheckSessionIFrame,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,h),!p)throw s.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=p,this._CheckSessionIFrameCtor=y,this._timer=v,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(w){w?m._start(w):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(E){var b={session_state:E.session_state};E.sub&&E.sid&&(b.profile={sub:E.sub,sid:E.sid}),m._start(b)}).catch(function(E){s.Log.error("SessionMonitor ctor: error from querySessionStatus:",E.message)})}).catch(function(w){s.Log.error("SessionMonitor ctor: error from getUser:",w.message)}))}return h.prototype._start=function(m){var y=this,v=m.session_state;v&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,s.Log.debug("SessionMonitor._start: session_state:",v,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,s.Log.debug("SessionMonitor._start: session_state:",v,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(v):this._metadataService.getCheckSessionIframe().then(function(w){if(w){s.Log.debug("SessionMonitor._start: Initializing check session iframe");var E=y._client_id,b=y._checkSessionInterval,x=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),E,w,b,x),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(v)})}else s.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(w){s.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",w.message)}))},h.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(s.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(v){var w={session_state:v.session_state};v.sub&&v.sid&&(w.profile={sub:v.sub,sid:v.sid}),m._start(w)}).catch(function(v){s.Log.error("SessionMonitor: error from querySessionStatus:",v.message)})},1e3)},h.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var v=!0;y?y.sub===m._sub?(v=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(s.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):s.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):s.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),v&&(m._sub?(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(s.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(s.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(h,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function s(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function o(l,c,h,p){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];s(this,o),this._callback=l,this._client_id=c,this._url=h,this._interval=p||2e3,this._stopOnError=m;var y=h.indexOf("/",h.indexOf("//")+2);this._frame_origin=h.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=h}return o.prototype.load=function(){var c=this;return new Promise(function(h){c._frame.onload=function(){h()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},o.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},o.prototype.start=function(c){var h=this;if(this._session_state!==c){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var p=function(){h._frame.contentWindow.postMessage(h._client_id+" "+h._session_state,h._frame_origin)};p(),this._timer=window.setInterval(p,this._interval)}},o.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),s=i(2),o=i(1);function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}var c="access_token",h="refresh_token";r.TokenRevocationClient=function(){function p(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService;if(l(this,p),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new v(this._settings)}return p.prototype.revoke=function(y,v){var w=this,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(E!==c&&E!=h)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(b){if(b){a.Log.debug("TokenRevocationClient.revoke: Revoking "+E);var x=w._settings.client_id,A=w._settings.client_secret;return w._revoke(b,x,A,y,E)}if(v)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},p.prototype._revoke=function(y,v,w,E,b){var x=this;return new Promise(function(A,I){var M=new x._XMLHttpRequestCtor;M.open("POST",y),M.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",M.status),M.status===200?A():I(Error(M.statusText+" ("+M.status+")"))},M.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),I("Network Error")};var D="client_id="+encodeURIComponent(v);w&&(D+="&client_secret="+encodeURIComponent(w)),D+="&token_type_hint="+encodeURIComponent(b),D+="&token="+encodeURIComponent(E),M.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),M.send(D)})},p}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function o(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&o(l.prototype,c),h&&o(l,h),l}}(),s=i(0);r.CordovaPopupWindow=function(){function o(l){var c=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(h,p){c._resolve=h,c._reject=p}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,s.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return o.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(h){return c.hasOwnProperty(h)})},o.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var h=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(h)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(s.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},o.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},o.prototype._exitCallback=function(c){this._error(c)},o.prototype._success=function(c){this._cleanup(),s.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},o.prototype._error=function(c){this._cleanup(),s.Log.error(c),this._reject(new Error(c))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._popup&&(s.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(o,[{key:"promise",get:function(){return this._promise}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),s=i(10),o=i(5),l=i(6),c=i(37),h=i(38),p=i(16),m=i(2),y=i(48),v=i(49),w=i(19),E=i(20),b=i(18),x=i(1),A=i(15),I=i(50);r.default={Version:I.Version,Log:a.Log,OidcClient:s.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:h.UserManager,AccessTokenEvents:p.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:v.CordovaIFrameNavigator,CheckSessionIFrame:w.CheckSessionIFrame,TokenRevocationClient:E.TokenRevocationClient,SessionMonitor:b.SessionMonitor,Global:x.Global,User:A.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},s=i(0),o=i(2),l=i(25),c=i(11),h=i(12),p=i(4);function m(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function v(w){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.MetadataService,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.JoseUtil,A=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(m(this,v),!w)throw s.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=w,this._metadataService=new E(this._settings),this._userInfoService=new b(this._settings),this._joseUtil=x,this._tokenClient=new A(this._settings)}return v.prototype.validateSigninResponse=function(E,b){var x=this;return s.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(E,b).then(function(A){return s.Log.debug("ResponseValidator.validateSigninResponse: state processed"),x._validateTokens(E,A).then(function(I){return s.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),x._processClaims(E,I).then(function(M){return s.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),M})})})},v.prototype.validateSignoutResponse=function(E,b){return E.id!==b.state?(s.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(s.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),b.state=E.data,b.error?(s.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",b.error),Promise.reject(new h.ErrorResponse(b))):Promise.resolve(b))},v.prototype._processSigninParams=function(E,b){if(E.id!==b.state)return s.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!E.client_id)return s.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!E.authority)return s.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==E.authority)return s.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=E.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==E.client_id)return s.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=E.client_id;return s.Log.debug("ResponseValidator._processSigninParams: state validated"),b.state=E.data,b.error?(s.Log.warn("ResponseValidator._processSigninParams: Response was error",b.error),Promise.reject(new h.ErrorResponse(b))):E.nonce&&!b.id_token?(s.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!E.nonce&&b.id_token?(s.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):E.code_verifier&&!b.code?(s.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!E.code_verifier&&b.code?(s.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(b.scope||(b.scope=E.scope),Promise.resolve(b))},v.prototype._processClaims=function(E,b){var x=this;if(b.isOpenIdConnect){if(s.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),b.profile=this._filterProtocolClaims(b.profile),E.skipUserInfo!==!0&&this._settings.loadUserInfo&&b.access_token)return s.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(b.access_token).then(function(A){return s.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),A.sub!==b.profile.sub?(s.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(b.profile=x._mergeClaims(b.profile,A),s.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",b.profile),b)});s.Log.debug("ResponseValidator._processClaims: not loading user info")}else s.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(b)},v.prototype._mergeClaims=function(E,b){var x=Object.assign({},E);for(var A in b){var I=b[A];Array.isArray(I)||(I=[I]);for(var M=0;M<I.length;M++){var D=I[M];x[A]?Array.isArray(x[A])?x[A].indexOf(D)<0&&x[A].push(D):x[A]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?x[A]=this._mergeClaims(x[A],D):x[A]=[x[A],D]):x[A]=D}}return x},v.prototype._filterProtocolClaims=function(E){s.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",E);var b=Object.assign({},E);return this._settings._filterProtocolClaims?(y.forEach(function(x){delete b[x]}),s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",b)):s.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),b},v.prototype._validateTokens=function(E,b){return b.code?(s.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(E,b)):b.id_token?b.access_token?(s.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(E,b)):(s.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(E,b)):(s.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(b))},v.prototype._processCode=function(E,b){var x=this,A={client_id:E.client_id,client_secret:E.client_secret,code:b.code,redirect_uri:E.redirect_uri,code_verifier:E.code_verifier};return E.extraTokenParams&&a(E.extraTokenParams)==="object"&&Object.assign(A,E.extraTokenParams),this._tokenClient.exchangeCode(A).then(function(I){for(var M in I)b[M]=I[M];return b.id_token?(s.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),x._validateIdTokenAttributes(E,b)):(s.Log.debug("ResponseValidator._processCode: token response successful, returning response"),b)})},v.prototype._validateIdTokenAttributes=function(E,b){var x=this;return this._metadataService.getIssuer().then(function(A){var I=E.client_id,M=x._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",M),x._settings.getEpochTime().then(function(D){return x._joseUtil.validateJwtAttributes(b.id_token,A,I,M,D).then(function(F){return E.nonce&&E.nonce!==F.nonce?(s.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(b.profile=F,b):(s.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},v.prototype._validateIdTokenAndAccessToken=function(E,b){var x=this;return this._validateIdToken(E,b).then(function(A){return x._validateAccessToken(A)})},v.prototype._getSigningKeyForJwt=function(E){var b=this;return this._metadataService.getSigningKeys().then(function(x){var A=E.header.kid;if(!x)return s.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var I=void 0;if(A)I=x.filter(function(M){return M.kid===A})[0];else{if((x=b._filterByAlg(x,E.header.alg)).length>1)return s.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));I=x[0]}return Promise.resolve(I)})},v.prototype._getSigningKeyForJwtWithSingleRetry=function(E){var b=this;return this._getSigningKeyForJwt(E).then(function(x){return x?Promise.resolve(x):(b._metadataService.resetSigningKeys(),b._getSigningKeyForJwt(E))})},v.prototype._validateIdToken=function(E,b){var x=this;if(!E.nonce)return s.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var A=this._joseUtil.parseJwt(b.id_token);return A&&A.header&&A.payload?E.nonce!==A.payload.nonce?(s.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(I){return s.Log.debug("ResponseValidator._validateIdToken: Received issuer"),x._getSigningKeyForJwtWithSingleRetry(A).then(function(M){if(!M)return s.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=E.client_id,F=x._settings.clockSkew;return s.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),x._joseUtil.validateJwt(b.id_token,M,I,D,F).then(function(){return s.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),A.payload.sub?(b.profile=A.payload,b):(s.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(s.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",A),Promise.reject(new Error("Failed to parse id_token")))},v.prototype._filterByAlg=function(E,b){var x=null;if(b.startsWith("RS"))x="RSA";else if(b.startsWith("PS"))x="PS";else{if(!b.startsWith("ES"))return s.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",b),[];x="EC"}return s.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",x),E=E.filter(function(A){return A.kty===x}),s.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",x,E.length),E},v.prototype._validateAccessToken=function(E){if(!E.profile)return s.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!E.profile.at_hash)return s.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!E.id_token)return s.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var b=this._joseUtil.parseJwt(E.id_token);if(!b||!b.header)return s.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",b),Promise.reject(new Error("Failed to parse id_token"));var x=b.header.alg;if(!x||x.length!==5)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x),Promise.reject(new Error("Unsupported alg: "+x));var A=x.substr(2,3);if(!A)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,A),Promise.reject(new Error("Unsupported alg: "+x));if((A=parseInt(A))!==256&&A!==384&&A!==512)return s.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,A),Promise.reject(new Error("Unsupported alg: "+x));var I="sha"+A,M=this._joseUtil.hashString(E.access_token,I);if(!M)return s.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",I),Promise.reject(new Error("Failed to validate at_hash"));var D=M.substr(0,M.length/2),F=this._joseUtil.hexToBase64Url(D);return F!==E.profile.at_hash?(s.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,E.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(s.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(E))},v}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),s=i(2),o=i(0),l=i(4);function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function h(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.MetadataService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,h),!p)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=v}return h.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(v){return o.Log.debug("UserInfoService.getClaims: received userinfo url",v),y._jsonService.getJson(v,m).then(function(w){return o.Log.debug("UserInfoService.getClaims: claims received",w),w})}):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},h.prototype._getClaimsFromJwt=function(m){var y=this;try{var v=this._joseUtil.parseJwt(m.responseText);if(!v||!v.header||!v.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",v),Promise.reject(new Error("Failed to parse id_token"));var w=v.header.kid,E=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":E=this._metadataService.getIssuer();break;case"ANY":E=Promise.resolve(v.payload.iss);break;default:E=Promise.resolve(this._settings.userInfoJwtIssuer)}return E.then(function(b){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+b),y._metadataService.getSigningKeys().then(function(x){if(!x)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var A=void 0;if(w)A=x.filter(function(D){return D.kid===w})[0];else{if((x=y._filterByAlg(x,v.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));A=x[0]}if(!A)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var I=y._settings.client_id,M=y._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",M),y._joseUtil.validateJwt(m.responseText,A,b,I,M,void 0,!0).then(function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),v.payload})})})}catch(b){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",b.message),void reject(b)}},h.prototype._filterByAlg=function(m,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];v="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",v),m=m.filter(function(w){return w.kty===v}),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",v,m.length),m},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var s,o,l,c,h,p,m,y,v,w,E,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},x={userAgent:!1},A={},I=I||(s=Math,l=(o={}).lib={},c=l.Base=function(){function C(){}return{extend:function(R){C.prototype=this;var N=new C;return R&&N.mixIn(R),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var R=this.extend();return R.init.apply(R,arguments),R},init:function(){},mixIn:function(R){for(var N in R)R.hasOwnProperty(N)&&(this[N]=R[N]);R.hasOwnProperty("toString")&&(this.toString=R.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=l.WordArray=c.extend({init:function(T,R){T=this.words=T||[],this.sigBytes=R??4*T.length},toString:function(T){return(T||m).stringify(this)},concat:function(T){var R=this.words,N=T.words,G=this.sigBytes,oe=T.sigBytes;if(this.clamp(),G%4)for(var _e=0;_e<oe;_e++){var Le=N[_e>>>2]>>>24-_e%4*8&255;R[G+_e>>>2]|=Le<<24-(G+_e)%4*8}else for(_e=0;_e<oe;_e+=4)R[G+_e>>>2]=N[_e>>>2];return this.sigBytes+=oe,this},clamp:function(){var T=this.words,R=this.sigBytes;T[R>>>2]&=4294967295<<32-R%4*8,T.length=s.ceil(R/4)},clone:function(){var T=c.clone.call(this);return T.words=this.words.slice(0),T},random:function(T){for(var R=[],N=0;N<T;N+=4)R.push(4294967296*s.random()|0);return new h.init(R,T)}}),p=o.enc={},m=p.Hex={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],oe=0;oe<N;oe++){var _e=R[oe>>>2]>>>24-oe%4*8&255;G.push((_e>>>4).toString(16)),G.push((15&_e).toString(16))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G+=2)N[G>>>3]|=parseInt(T.substr(G,2),16)<<24-G%8*4;return new h.init(N,R/2)}},y=p.Latin1={stringify:function(T){for(var R=T.words,N=T.sigBytes,G=[],oe=0;oe<N;oe++){var _e=R[oe>>>2]>>>24-oe%4*8&255;G.push(String.fromCharCode(_e))}return G.join("")},parse:function(T){for(var R=T.length,N=[],G=0;G<R;G++)N[G>>>2]|=(255&T.charCodeAt(G))<<24-G%4*8;return new h.init(N,R)}},v=p.Utf8={stringify:function(T){try{return decodeURIComponent(escape(y.stringify(T)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(T){return y.parse(unescape(encodeURIComponent(T)))}},w=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(T){typeof T=="string"&&(T=v.parse(T)),this._data.concat(T),this._nDataBytes+=T.sigBytes},_process:function(T){var R=this._data,N=R.words,G=R.sigBytes,oe=this.blockSize,_e=G/(4*oe),Le=(_e=T?s.ceil(_e):s.max((0|_e)-this._minBufferSize,0))*oe,xe=s.min(4*Le,G);if(Le){for(var Pe=0;Pe<Le;Pe+=oe)this._doProcessBlock(N,Pe);var Me=N.splice(0,Le);R.sigBytes-=xe}return new h.init(Me,xe)},clone:function(){var T=c.clone.call(this);return T._data=this._data.clone(),T},_minBufferSize:0}),l.Hasher=w.extend({cfg:c.extend(),init:function(T){this.cfg=this.cfg.extend(T),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(T){return this._append(T),this._process(),this},finalize:function(T){return T&&this._append(T),this._doFinalize()},blockSize:16,_createHelper:function(T){return function(R,N){return new T.init(N).finalize(R)}},_createHmacHelper:function(T){return function(R,N){return new E.HMAC.init(T,N).finalize(R)}}}),E=o.algo={},o);(function(C){var T,R=(T=I).lib,N=R.Base,G=R.WordArray;(T=T.x64={}).Word=N.extend({init:function(_e,Le){this.high=_e,this.low=Le}}),T.WordArray=N.extend({init:function(_e,Le){_e=this.words=_e||[],this.sigBytes=Le??8*_e.length},toX32:function(){for(var _e=this.words,Le=_e.length,xe=[],Pe=0;Pe<Le;Pe++){var Me=_e[Pe];xe.push(Me.high),xe.push(Me.low)}return G.create(xe,this.sigBytes)},clone:function(){for(var _e=N.clone.call(this),Le=_e.words=this.words.slice(0),xe=Le.length,Pe=0;Pe<xe;Pe++)Le[Pe]=Le[Pe].clone();return _e}})})(),function(){var C=I,T=C.lib.WordArray;C.enc.Base64={stringify:function(N){var G=N.words,oe=N.sigBytes,_e=this._map;N.clamp(),N=[];for(var Le=0;Le<oe;Le+=3)for(var xe=(G[Le>>>2]>>>24-Le%4*8&255)<<16|(G[Le+1>>>2]>>>24-(Le+1)%4*8&255)<<8|G[Le+2>>>2]>>>24-(Le+2)%4*8&255,Pe=0;4>Pe&&Le+.75*Pe<oe;Pe++)N.push(_e.charAt(xe>>>6*(3-Pe)&63));if(G=_e.charAt(64))for(;N.length%4;)N.push(G);return N.join("")},parse:function(N){var G=N.length,oe=this._map;(_e=oe.charAt(64))&&(_e=N.indexOf(_e))!=-1&&(G=_e);for(var _e=[],Le=0,xe=0;xe<G;xe++)if(xe%4){var Pe=oe.indexOf(N.charAt(xe-1))<<xe%4*2,Me=oe.indexOf(N.charAt(xe))>>>6-xe%4*2;_e[Le>>>2]|=(Pe|Me)<<24-Le%4*8,Le++}return T.create(_e,Le)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(C){for(var T=I,R=(G=T.lib).WordArray,N=G.Hasher,G=T.algo,oe=[],_e=[],Le=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Pe=0;64>Pe;){var Me;e:{Me=xe;for(var $e=C.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Pe&&(oe[Pe]=Le(C.pow(xe,.5))),_e[Pe]=Le(C.pow(xe,1/3)),Pe++),xe++}var Ye=[];G=G.SHA256=N.extend({_doReset:function(){this._hash=new R.init(oe.slice(0))},_doProcessBlock:function(dt,ut){for(var we=this._hash.words,De=we[0],Ue=we[1],Ke=we[2],lt=we[3],mt=we[4],$t=we[5],Ct=we[6],gn=we[7],Ft=0;64>Ft;Ft++){if(16>Ft)Ye[Ft]=0|dt[ut+Ft];else{var Vt=Ye[Ft-15],zn=Ye[Ft-2];Ye[Ft]=((Vt<<25|Vt>>>7)^(Vt<<14|Vt>>>18)^Vt>>>3)+Ye[Ft-7]+((zn<<15|zn>>>17)^(zn<<13|zn>>>19)^zn>>>10)+Ye[Ft-16]}Vt=gn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&$t^~mt&Ct)+_e[Ft]+Ye[Ft],zn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Ue^De&Ke^Ue&Ke),gn=Ct,Ct=$t,$t=mt,mt=lt+Vt|0,lt=Ke,Ke=Ue,Ue=De,De=Vt+zn|0}we[0]=we[0]+De|0,we[1]=we[1]+Ue|0,we[2]=we[2]+Ke|0,we[3]=we[3]+lt|0,we[4]=we[4]+mt|0,we[5]=we[5]+$t|0,we[6]=we[6]+Ct|0,we[7]=we[7]+gn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,we=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=C.floor(we/4294967296),ut[15+(De+64>>>9<<4)]=we,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),T.SHA256=N._createHelper(G),T.HmacSHA256=N._createHmacHelper(G)}(Math),function(){function C(){return N.create.apply(N,arguments)}for(var T=I,R=T.lib.Hasher,N=(oe=T.x64).Word,G=oe.WordArray,oe=T.algo,_e=[C(1116352408,3609767458),C(1899447441,602891725),C(3049323471,3964484399),C(3921009573,2173295548),C(961987163,4081628472),C(1508970993,3053834265),C(2453635748,2937671579),C(2870763221,3664609560),C(3624381080,2734883394),C(310598401,1164996542),C(607225278,1323610764),C(1426881987,3590304994),C(1925078388,4068182383),C(2162078206,991336113),C(2614888103,633803317),C(3248222580,3479774868),C(3835390401,2666613458),C(4022224774,944711139),C(264347078,2341262773),C(604807628,2007800933),C(770255983,1495990901),C(1249150122,1856431235),C(1555081692,3175218132),C(1996064986,2198950837),C(2554220882,3999719339),C(2821834349,766784016),C(2952996808,2566594879),C(3210313671,3203337956),C(3336571891,1034457026),C(3584528711,2466948901),C(113926993,3758326383),C(338241895,168717936),C(666307205,1188179964),C(773529912,1546045734),C(1294757372,1522805485),C(1396182291,2643833823),C(1695183700,2343527390),C(1986661051,1014477480),C(2177026350,1206759142),C(2456956037,344077627),C(2730485921,1290863460),C(2820302411,3158454273),C(3259730800,3505952657),C(3345764771,106217008),C(3516065817,3606008344),C(3600352804,1432725776),C(4094571909,1467031594),C(275423344,851169720),C(430227734,3100823752),C(506948616,1363258195),C(659060556,3750685593),C(883997877,3785050280),C(958139571,3318307427),C(1322822218,3812723403),C(1537002063,2003034995),C(1747873779,3602036899),C(1955562222,1575990012),C(2024104815,1125592928),C(2227730452,2716904306),C(2361852424,442776044),C(2428436474,593698344),C(2756734187,3733110249),C(3204031479,2999351573),C(3329325298,3815920427),C(3391569614,3928383900),C(3515267271,566280711),C(3940187606,3454069534),C(4118630271,4000239992),C(116418474,1914138554),C(174292421,2731055270),C(289380356,3203993006),C(460393269,320620315),C(685471733,587496836),C(852142971,1086792851),C(1017036298,365543100),C(1126000580,2618297676),C(1288033470,3409855158),C(1501505948,4234509866),C(1607167915,987167468),C(1816402316,1246189591)],Le=[],xe=0;80>xe;xe++)Le[xe]=C();oe=oe.SHA512=R.extend({_doReset:function(){this._hash=new G.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Ue=this._hash.words)[0],Ye=Ue[1],st=Ue[2],dt=Ue[3],ut=Ue[4],we=Ue[5],De=Ue[6],Ue=Ue[7],Ke=ze.high,lt=ze.low,mt=Ye.high,$t=Ye.low,Ct=st.high,gn=st.low,Ft=dt.high,Vt=dt.low,zn=ut.high,Nn=ut.low,Un=we.high,Qt=we.low,Gn=De.high,pn=De.low,Yn=Ue.high,mr=Ue.low,yr=Ke,lr=lt,xi=mt,Gi=$t,ma=Ct,rr=gn,ji=Ft,_s=Vt,ir=zn,Nr=Nn,Ja=Un,Wi=Qt,Ru=Gn,Ya=pn,vn=Yn,Oa=mr,cr=0;80>cr;cr++){var $i=Le[cr];if(16>cr)var ya=$i.high=0|Me[$e+2*cr],fr=$i.low=0|Me[$e+2*cr+1];else{ya=((fr=(ya=Le[cr-15]).high)>>>1|(Qi=ya.low)<<31)^(fr>>>8|Qi<<24)^fr>>>7;var Qi=(Qi>>>1|fr<<31)^(Qi>>>8|fr<<24)^(Qi>>>7|fr<<25),Xa=((fr=(Xa=Le[cr-2]).high)>>>19|(Rr=Xa.low)<<13)^(fr<<3|Rr>>>29)^fr>>>6,Rr=(Rr>>>19|fr<<13)^(Rr<<3|fr>>>29)^(Rr>>>6|fr<<26),$l=(fr=Le[cr-7]).high,ws=(Ia=Le[cr-16]).high,Ia=Ia.low;ya=(ya=(ya=ya+$l+((fr=Qi+fr.low)>>>0<Qi>>>0?1:0))+Xa+((fr=fr+Rr)>>>0<Rr>>>0?1:0))+ws+((fr=fr+Ia)>>>0<Ia>>>0?1:0),$i.high=ya,$i.low=fr}$l=ir&Ja^~ir&Ru,Ia=Nr&Wi^~Nr&Ya,$i=yr&xi^yr&ma^xi&ma;var xh=lr&Gi^lr&rr^Gi&rr,Zi=(Qi=(yr>>>28|lr<<4)^(yr<<30|lr>>>2)^(yr<<25|lr>>>7),Xa=(lr>>>28|yr<<4)^(lr<<30|yr>>>2)^(lr<<25|yr>>>7),(Rr=_e[cr]).high),gf=Rr.low;ws=vn+((ir>>>14|Nr<<18)^(ir>>>18|Nr<<14)^(ir<<23|Nr>>>9))+((Rr=Oa+((Nr>>>14|ir<<18)^(Nr>>>18|ir<<14)^(Nr<<23|ir>>>9)))>>>0<Oa>>>0?1:0),vn=Ru,Oa=Ya,Ru=Ja,Ya=Wi,Ja=ir,Wi=Nr,ir=ji+(ws=(ws=(ws=ws+$l+((Rr=Rr+Ia)>>>0<Ia>>>0?1:0))+Zi+((Rr=Rr+gf)>>>0<gf>>>0?1:0))+ya+((Rr=Rr+fr)>>>0<fr>>>0?1:0))+((Nr=_s+Rr|0)>>>0<_s>>>0?1:0)|0,ji=ma,_s=rr,ma=xi,rr=Gi,xi=yr,Gi=lr,yr=ws+($i=Qi+$i+((fr=Xa+xh)>>>0<Xa>>>0?1:0))+((lr=Rr+fr|0)>>>0<Rr>>>0?1:0)|0}lt=ze.low=lt+lr,ze.high=Ke+yr+(lt>>>0<lr>>>0?1:0),$t=Ye.low=$t+Gi,Ye.high=mt+xi+($t>>>0<Gi>>>0?1:0),gn=st.low=gn+rr,st.high=Ct+ma+(gn>>>0<rr>>>0?1:0),Vt=dt.low=Vt+_s,dt.high=Ft+ji+(Vt>>>0<_s>>>0?1:0),Nn=ut.low=Nn+Nr,ut.high=zn+ir+(Nn>>>0<Nr>>>0?1:0),Qt=we.low=Qt+Wi,we.high=Un+Ja+(Qt>>>0<Wi>>>0?1:0),pn=De.low=pn+Ya,De.high=Gn+Ru+(pn>>>0<Ya>>>0?1:0),mr=Ue.low=mr+Oa,Ue.high=Yn+vn+(mr>>>0<Oa>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Ye=8*Me.sigBytes;return $e[Ye>>>5]|=128<<24-Ye%32,$e[30+(Ye+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Ye+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=R.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),T.SHA512=R._createHelper(oe),T.HmacSHA512=R._createHmacHelper(oe)}(),function(){var C=I,T=(G=C.x64).Word,R=G.WordArray,N=(G=C.algo).SHA512,G=G.SHA384=N.extend({_doReset:function(){this._hash=new R.init([new T.init(3418070365,3238371032),new T.init(1654270250,914150663),new T.init(2438529370,812702999),new T.init(355462360,4144912697),new T.init(1731405415,4290775857),new T.init(2394180231,1750603025),new T.init(3675008525,1694076839),new T.init(1203062813,3204075428)])},_doFinalize:function(){var _e=N._doFinalize.call(this);return _e.sigBytes-=16,_e}});C.SHA384=N._createHelper(G),C.HmacSHA384=N._createHmacHelper(G)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var M,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(C){var T,R,N="";for(T=0;T+3<=C.length;T+=3)R=parseInt(C.substring(T,T+3),16),N+=D.charAt(R>>6)+D.charAt(63&R);for(T+1==C.length?(R=parseInt(C.substring(T,T+1),16),N+=D.charAt(R<<2)):T+2==C.length&&(R=parseInt(C.substring(T,T+2),16),N+=D.charAt(R>>2)+D.charAt((3&R)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Z(C){var T,R,N,G="",oe=0;for(T=0;T<C.length&&C.charAt(T)!="=";++T)(N=D.indexOf(C.charAt(T)))<0||(oe==0?(G+=me(N>>2),R=3&N,oe=1):oe==1?(G+=me(R<<2|N>>4),R=15&N,oe=2):oe==2?(G+=me(R),G+=me(N>>2),R=3&N,oe=3):(G+=me(R<<2|N>>4),G+=me(15&N),oe=0));return oe==1&&(G+=me(R<<2)),G}function X(C){var T,R=Z(C),N=new Array;for(T=0;2*T<R.length;++T)N[T]=parseInt(R.substring(2*T,2*T+2),16);return N}function U(C,T,R){C!=null&&(typeof C=="number"?this.fromNumber(C,T,R):T==null&&typeof C!="string"?this.fromString(C,256):this.fromString(C,T))}function J(){return new U(null)}x.appName=="Microsoft Internet Explorer"?(U.prototype.am=function(T,R,N,G,oe,_e){for(var Le=32767&R,xe=R>>15;--_e>=0;){var Pe=32767&this[T],Me=this[T++]>>15,$e=xe*Pe+Me*Le;oe=((Pe=Le*Pe+((32767&$e)<<15)+N[G]+(1073741823&oe))>>>30)+($e>>>15)+xe*Me+(oe>>>30),N[G++]=1073741823&Pe}return oe},M=30):x.appName!="Netscape"?(U.prototype.am=function(T,R,N,G,oe,_e){for(;--_e>=0;){var Le=R*this[T++]+N[G]+oe;oe=Math.floor(Le/67108864),N[G++]=67108863&Le}return oe},M=26):(U.prototype.am=function(T,R,N,G,oe,_e){for(var Le=16383&R,xe=R>>14;--_e>=0;){var Pe=16383&this[T],Me=this[T++]>>14,$e=xe*Pe+Me*Le;oe=((Pe=Le*Pe+((16383&$e)<<14)+N[G]+oe)>>28)+($e>>14)+xe*Me,N[G++]=268435455&Pe}return oe},M=28),U.prototype.DB=M,U.prototype.DM=(1<<M)-1,U.prototype.DV=1<<M,U.prototype.FV=Math.pow(2,52),U.prototype.F1=52-M,U.prototype.F2=2*M-52;var ce,re,ue=new Array;for(ce=48,re=0;re<=9;++re)ue[ce++]=re;for(ce=97,re=10;re<36;++re)ue[ce++]=re;for(ce=65,re=10;re<36;++re)ue[ce++]=re;function me(C){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(C)}function be(C,T){var R=ue[C.charCodeAt(T)];return R??-1}function he(C){var T=J();return T.fromInt(C),T}function fe(C){var T,R=1;return(T=C>>>16)!=0&&(C=T,R+=16),(T=C>>8)!=0&&(C=T,R+=8),(T=C>>4)!=0&&(C=T,R+=4),(T=C>>2)!=0&&(C=T,R+=2),(T=C>>1)!=0&&(C=T,R+=1),R}function Oe(C){this.m=C}function k(C){this.m=C,this.mp=C.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<C.DB-15)-1,this.mt2=2*C.t}function ie(C,T){return C&T}function ge(C,T){return C|T}function H(C,T){return C^T}function Y(C,T){return C&~T}function pe(C){if(C==0)return-1;var T=0;return!(65535&C)&&(C>>=16,T+=16),!(255&C)&&(C>>=8,T+=8),!(15&C)&&(C>>=4,T+=4),!(3&C)&&(C>>=2,T+=2),!(1&C)&&++T,T}function Ae(C){for(var T=0;C!=0;)C&=C-1,++T;return T}function Je(){}function Re(C){return C}function Fe(C){this.r2=J(),this.q3=J(),U.ONE.dlShiftTo(2*C.t,this.r2),this.mu=this.r2.divide(C),this.m=C}Oe.prototype.convert=function(T){return T.s<0||T.compareTo(this.m)>=0?T.mod(this.m):T},Oe.prototype.revert=function(T){return T},Oe.prototype.reduce=function(T){T.divRemTo(this.m,null,T)},Oe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Oe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},k.prototype.convert=function(T){var R=J();return T.abs().dlShiftTo(this.m.t,R),R.divRemTo(this.m,null,R),T.s<0&&R.compareTo(U.ZERO)>0&&this.m.subTo(R,R),R},k.prototype.revert=function(T){var R=J();return T.copyTo(R),this.reduce(R),R},k.prototype.reduce=function(T){for(;T.t<=this.mt2;)T[T.t++]=0;for(var R=0;R<this.m.t;++R){var N=32767&T[R],G=N*this.mpl+((N*this.mph+(T[R]>>15)*this.mpl&this.um)<<15)&T.DM;for(T[N=R+this.m.t]+=this.m.am(0,G,T,R,0,this.m.t);T[N]>=T.DV;)T[N]-=T.DV,T[++N]++}T.clamp(),T.drShiftTo(this.m.t,T),T.compareTo(this.m)>=0&&T.subTo(this.m,T)},k.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},k.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)},U.prototype.copyTo=function(T){for(var R=this.t-1;R>=0;--R)T[R]=this[R];T.t=this.t,T.s=this.s},U.prototype.fromInt=function(T){this.t=1,this.s=T<0?-1:0,T>0?this[0]=T:T<-1?this[0]=T+this.DV:this.t=0},U.prototype.fromString=function(T,R){var N;if(R==16)N=4;else if(R==8)N=3;else if(R==256)N=8;else if(R==2)N=1;else if(R==32)N=5;else{if(R!=4)return void this.fromRadix(T,R);N=2}this.t=0,this.s=0;for(var G=T.length,oe=!1,_e=0;--G>=0;){var Le=N==8?255&T[G]:be(T,G);Le<0?T.charAt(G)=="-"&&(oe=!0):(oe=!1,_e==0?this[this.t++]=Le:_e+N>this.DB?(this[this.t-1]|=(Le&(1<<this.DB-_e)-1)<<_e,this[this.t++]=Le>>this.DB-_e):this[this.t-1]|=Le<<_e,(_e+=N)>=this.DB&&(_e-=this.DB))}N==8&&128&T[0]&&(this.s=-1,_e>0&&(this[this.t-1]|=(1<<this.DB-_e)-1<<_e)),this.clamp(),oe&&U.ZERO.subTo(this,this)},U.prototype.clamp=function(){for(var T=this.s&this.DM;this.t>0&&this[this.t-1]==T;)--this.t},U.prototype.dlShiftTo=function(T,R){var N;for(N=this.t-1;N>=0;--N)R[N+T]=this[N];for(N=T-1;N>=0;--N)R[N]=0;R.t=this.t+T,R.s=this.s},U.prototype.drShiftTo=function(T,R){for(var N=T;N<this.t;++N)R[N-T]=this[N];R.t=Math.max(this.t-T,0),R.s=this.s},U.prototype.lShiftTo=function(T,R){var N,G=T%this.DB,oe=this.DB-G,_e=(1<<oe)-1,Le=Math.floor(T/this.DB),xe=this.s<<G&this.DM;for(N=this.t-1;N>=0;--N)R[N+Le+1]=this[N]>>oe|xe,xe=(this[N]&_e)<<G;for(N=Le-1;N>=0;--N)R[N]=0;R[Le]=xe,R.t=this.t+Le+1,R.s=this.s,R.clamp()},U.prototype.rShiftTo=function(T,R){R.s=this.s;var N=Math.floor(T/this.DB);if(N>=this.t)R.t=0;else{var G=T%this.DB,oe=this.DB-G,_e=(1<<G)-1;R[0]=this[N]>>G;for(var Le=N+1;Le<this.t;++Le)R[Le-N-1]|=(this[Le]&_e)<<oe,R[Le-N]=this[Le]>>G;G>0&&(R[this.t-N-1]|=(this.s&_e)<<oe),R.t=this.t-N,R.clamp()}},U.prototype.subTo=function(T,R){for(var N=0,G=0,oe=Math.min(T.t,this.t);N<oe;)G+=this[N]-T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G-=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G-=T[N],R[N++]=G&this.DM,G>>=this.DB;G-=T.s}R.s=G<0?-1:0,G<-1?R[N++]=this.DV+G:G>0&&(R[N++]=G),R.t=N,R.clamp()},U.prototype.multiplyTo=function(T,R){var N=this.abs(),G=T.abs(),oe=N.t;for(R.t=oe+G.t;--oe>=0;)R[oe]=0;for(oe=0;oe<G.t;++oe)R[oe+N.t]=N.am(0,G[oe],R,oe,0,N.t);R.s=0,R.clamp(),this.s!=T.s&&U.ZERO.subTo(R,R)},U.prototype.squareTo=function(T){for(var R=this.abs(),N=T.t=2*R.t;--N>=0;)T[N]=0;for(N=0;N<R.t-1;++N){var G=R.am(N,R[N],T,2*N,0,1);(T[N+R.t]+=R.am(N+1,2*R[N],T,2*N+1,G,R.t-N-1))>=R.DV&&(T[N+R.t]-=R.DV,T[N+R.t+1]=1)}T.t>0&&(T[T.t-1]+=R.am(N,R[N],T,2*N,0,1)),T.s=0,T.clamp()},U.prototype.divRemTo=function(T,R,N){var G=T.abs();if(!(G.t<=0)){var oe=this.abs();if(oe.t<G.t)return R!=null&&R.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=J());var _e=J(),Le=this.s,xe=T.s,Pe=this.DB-fe(G[G.t-1]);Pe>0?(G.lShiftTo(Pe,_e),oe.lShiftTo(Pe,N)):(G.copyTo(_e),oe.copyTo(N));var Me=_e.t,$e=_e[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?_e[Me-2]>>this.F2:0),Ye=this.FV/ze,st=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,we=ut-Me,De=R??J();for(_e.dlShiftTo(we,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),U.ONE.dlShiftTo(Me,De),De.subTo(_e,_e);_e.t<Me;)_e[_e.t++]=0;for(;--we>=0;){var Ue=N[--ut]==$e?this.DM:Math.floor(N[ut]*Ye+(N[ut-1]+dt)*st);if((N[ut]+=_e.am(0,Ue,N,we,0,Me))<Ue)for(_e.dlShiftTo(we,De),N.subTo(De,N);N[ut]<--Ue;)N.subTo(De,N)}R!=null&&(N.drShiftTo(Me,R),Le!=xe&&U.ZERO.subTo(R,R)),N.t=Me,N.clamp(),Pe>0&&N.rShiftTo(Pe,N),Le<0&&U.ZERO.subTo(N,N)}}},U.prototype.invDigit=function(){if(this.t<1)return 0;var T=this[0];if(!(1&T))return 0;var R=3&T;return(R=(R=(R=(R=R*(2-(15&T)*R)&15)*(2-(255&T)*R)&255)*(2-((65535&T)*R&65535))&65535)*(2-T*R%this.DV)%this.DV)>0?this.DV-R:-R},U.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},U.prototype.exp=function(T,R){if(T>4294967295||T<1)return U.ONE;var N=J(),G=J(),oe=R.convert(this),_e=fe(T)-1;for(oe.copyTo(N);--_e>=0;)if(R.sqrTo(N,G),(T&1<<_e)>0)R.mulTo(G,oe,N);else{var Le=N;N=G,G=Le}return R.revert(N)},U.prototype.toString=function(T){if(this.s<0)return"-"+this.negate().toString(T);var R;if(T==16)R=4;else if(T==8)R=3;else if(T==2)R=1;else if(T==32)R=5;else{if(T!=4)return this.toRadix(T);R=2}var N,G=(1<<R)-1,oe=!1,_e="",Le=this.t,xe=this.DB-Le*this.DB%R;if(Le-- >0)for(xe<this.DB&&(N=this[Le]>>xe)>0&&(oe=!0,_e=me(N));Le>=0;)xe<R?(N=(this[Le]&(1<<xe)-1)<<R-xe,N|=this[--Le]>>(xe+=this.DB-R)):(N=this[Le]>>(xe-=R)&G,xe<=0&&(xe+=this.DB,--Le)),N>0&&(oe=!0),oe&&(_e+=me(N));return oe?_e:"0"},U.prototype.negate=function(){var T=J();return U.ZERO.subTo(this,T),T},U.prototype.abs=function(){return this.s<0?this.negate():this},U.prototype.compareTo=function(T){var R=this.s-T.s;if(R!=0)return R;var N=this.t;if((R=N-T.t)!=0)return this.s<0?-R:R;for(;--N>=0;)if((R=this[N]-T[N])!=0)return R;return 0},U.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+fe(this[this.t-1]^this.s&this.DM)},U.prototype.mod=function(T){var R=J();return this.abs().divRemTo(T,null,R),this.s<0&&R.compareTo(U.ZERO)>0&&T.subTo(R,R),R},U.prototype.modPowInt=function(T,R){var N;return N=T<256||R.isEven()?new Oe(R):new k(R),this.exp(T,N)},U.ZERO=he(0),U.ONE=he(1),Je.prototype.convert=Re,Je.prototype.revert=Re,Je.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N)},Je.prototype.sqrTo=function(T,R){T.squareTo(R)},Fe.prototype.convert=function(T){if(T.s<0||T.t>2*this.m.t)return T.mod(this.m);if(T.compareTo(this.m)<0)return T;var R=J();return T.copyTo(R),this.reduce(R),R},Fe.prototype.revert=function(T){return T},Fe.prototype.reduce=function(T){for(T.drShiftTo(this.m.t-1,this.r2),T.t>this.m.t+1&&(T.t=this.m.t+1,T.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);T.compareTo(this.r2)<0;)T.dAddOffset(1,this.m.t+1);for(T.subTo(this.r2,T);T.compareTo(this.m)>=0;)T.subTo(this.m,T)},Fe.prototype.mulTo=function(T,R,N){T.multiplyTo(R,N),this.reduce(N)},Fe.prototype.sqrTo=function(T,R){T.squareTo(R),this.reduce(R)};var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],se=(1<<26)/Xe[Xe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function z(){this.i=0,this.j=0,this.S=new Array}U.prototype.chunkSize=function(T){return Math.floor(Math.LN2*this.DB/Math.log(T))},U.prototype.toRadix=function(T){if(T==null&&(T=10),this.signum()==0||T<2||T>36)return"0";var R=this.chunkSize(T),N=Math.pow(T,R),G=he(N),oe=J(),_e=J(),Le="";for(this.divRemTo(G,oe,_e);oe.signum()>0;)Le=(N+_e.intValue()).toString(T).substr(1)+Le,oe.divRemTo(G,oe,_e);return _e.intValue().toString(T)+Le},U.prototype.fromRadix=function(T,R){this.fromInt(0),R==null&&(R=10);for(var N=this.chunkSize(R),G=Math.pow(R,N),oe=!1,_e=0,Le=0,xe=0;xe<T.length;++xe){var Pe=be(T,xe);Pe<0?T.charAt(xe)=="-"&&this.signum()==0&&(oe=!0):(Le=R*Le+Pe,++_e>=N&&(this.dMultiply(G),this.dAddOffset(Le,0),_e=0,Le=0))}_e>0&&(this.dMultiply(Math.pow(R,_e)),this.dAddOffset(Le,0)),oe&&U.ZERO.subTo(this,this)},U.prototype.fromNumber=function(T,R,N){if(typeof R=="number")if(T<2)this.fromInt(1);else for(this.fromNumber(T,N),this.testBit(T-1)||this.bitwiseTo(U.ONE.shiftLeft(T-1),ge,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(R);)this.dAddOffset(2,0),this.bitLength()>T&&this.subTo(U.ONE.shiftLeft(T-1),this);else{var G=new Array,oe=7&T;G.length=1+(T>>3),R.nextBytes(G),oe>0?G[0]&=(1<<oe)-1:G[0]=0,this.fromString(G,256)}},U.prototype.bitwiseTo=function(T,R,N){var G,oe,_e=Math.min(T.t,this.t);for(G=0;G<_e;++G)N[G]=R(this[G],T[G]);if(T.t<this.t){for(oe=T.s&this.DM,G=_e;G<this.t;++G)N[G]=R(this[G],oe);N.t=this.t}else{for(oe=this.s&this.DM,G=_e;G<T.t;++G)N[G]=R(oe,T[G]);N.t=T.t}N.s=R(this.s,T.s),N.clamp()},U.prototype.changeBit=function(T,R){var N=U.ONE.shiftLeft(T);return this.bitwiseTo(N,R,N),N},U.prototype.addTo=function(T,R){for(var N=0,G=0,oe=Math.min(T.t,this.t);N<oe;)G+=this[N]+T[N],R[N++]=G&this.DM,G>>=this.DB;if(T.t<this.t){for(G+=T.s;N<this.t;)G+=this[N],R[N++]=G&this.DM,G>>=this.DB;G+=this.s}else{for(G+=this.s;N<T.t;)G+=T[N],R[N++]=G&this.DM,G>>=this.DB;G+=T.s}R.s=G<0?-1:0,G>0?R[N++]=G:G<-1&&(R[N++]=this.DV+G),R.t=N,R.clamp()},U.prototype.dMultiply=function(T){this[this.t]=this.am(0,T-1,this,0,0,this.t),++this.t,this.clamp()},U.prototype.dAddOffset=function(T,R){if(T!=0){for(;this.t<=R;)this[this.t++]=0;for(this[R]+=T;this[R]>=this.DV;)this[R]-=this.DV,++R>=this.t&&(this[this.t++]=0),++this[R]}},U.prototype.multiplyLowerTo=function(T,R,N){var G,oe=Math.min(this.t+T.t,R);for(N.s=0,N.t=oe;oe>0;)N[--oe]=0;for(G=N.t-this.t;oe<G;++oe)N[oe+this.t]=this.am(0,T[oe],N,oe,0,this.t);for(G=Math.min(T.t,R);oe<G;++oe)this.am(0,T[oe],N,oe,0,R-oe);N.clamp()},U.prototype.multiplyUpperTo=function(T,R,N){--R;var G=N.t=this.t+T.t-R;for(N.s=0;--G>=0;)N[G]=0;for(G=Math.max(R-this.t,0);G<T.t;++G)N[this.t+G-R]=this.am(R-G,T[G],N,0,0,this.t+G-R);N.clamp(),N.drShiftTo(1,N)},U.prototype.modInt=function(T){if(T<=0)return 0;var R=this.DV%T,N=this.s<0?T-1:0;if(this.t>0)if(R==0)N=this[0]%T;else for(var G=this.t-1;G>=0;--G)N=(R*N+this[G])%T;return N},U.prototype.millerRabin=function(T){var R=this.subtract(U.ONE),N=R.getLowestSetBit();if(N<=0)return!1;var G=R.shiftRight(N);(T=T+1>>1)>Xe.length&&(T=Xe.length);for(var oe=J(),_e=0;_e<T;++_e){oe.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var Le=oe.modPow(G,this);if(Le.compareTo(U.ONE)!=0&&Le.compareTo(R)!=0){for(var xe=1;xe++<N&&Le.compareTo(R)!=0;)if((Le=Le.modPowInt(2,this)).compareTo(U.ONE)==0)return!1;if(Le.compareTo(R)!=0)return!1}}return!0},U.prototype.clone=function(){var T=J();return this.copyTo(T),T},U.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},U.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},U.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},U.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},U.prototype.toByteArray=function(){var T=this.t,R=new Array;R[0]=this.s;var N,G=this.DB-T*this.DB%8,oe=0;if(T-- >0)for(G<this.DB&&(N=this[T]>>G)!=(this.s&this.DM)>>G&&(R[oe++]=N|this.s<<this.DB-G);T>=0;)G<8?(N=(this[T]&(1<<G)-1)<<8-G,N|=this[--T]>>(G+=this.DB-8)):(N=this[T]>>(G-=8)&255,G<=0&&(G+=this.DB,--T)),128&N&&(N|=-256),oe==0&&(128&this.s)!=(128&N)&&++oe,(oe>0||N!=this.s)&&(R[oe++]=N);return R},U.prototype.equals=function(T){return this.compareTo(T)==0},U.prototype.min=function(T){return this.compareTo(T)<0?this:T},U.prototype.max=function(T){return this.compareTo(T)>0?this:T},U.prototype.and=function(T){var R=J();return this.bitwiseTo(T,ie,R),R},U.prototype.or=function(T){var R=J();return this.bitwiseTo(T,ge,R),R},U.prototype.xor=function(T){var R=J();return this.bitwiseTo(T,H,R),R},U.prototype.andNot=function(T){var R=J();return this.bitwiseTo(T,Y,R),R},U.prototype.not=function(){for(var T=J(),R=0;R<this.t;++R)T[R]=this.DM&~this[R];return T.t=this.t,T.s=~this.s,T},U.prototype.shiftLeft=function(T){var R=J();return T<0?this.rShiftTo(-T,R):this.lShiftTo(T,R),R},U.prototype.shiftRight=function(T){var R=J();return T<0?this.lShiftTo(-T,R):this.rShiftTo(T,R),R},U.prototype.getLowestSetBit=function(){for(var T=0;T<this.t;++T)if(this[T]!=0)return T*this.DB+pe(this[T]);return this.s<0?this.t*this.DB:-1},U.prototype.bitCount=function(){for(var T=0,R=this.s&this.DM,N=0;N<this.t;++N)T+=Ae(this[N]^R);return T},U.prototype.testBit=function(T){var R=Math.floor(T/this.DB);return R>=this.t?this.s!=0:(this[R]&1<<T%this.DB)!=0},U.prototype.setBit=function(T){return this.changeBit(T,ge)},U.prototype.clearBit=function(T){return this.changeBit(T,Y)},U.prototype.flipBit=function(T){return this.changeBit(T,H)},U.prototype.add=function(T){var R=J();return this.addTo(T,R),R},U.prototype.subtract=function(T){var R=J();return this.subTo(T,R),R},U.prototype.multiply=function(T){var R=J();return this.multiplyTo(T,R),R},U.prototype.divide=function(T){var R=J();return this.divRemTo(T,R,null),R},U.prototype.remainder=function(T){var R=J();return this.divRemTo(T,null,R),R},U.prototype.divideAndRemainder=function(T){var R=J(),N=J();return this.divRemTo(T,R,N),new Array(R,N)},U.prototype.modPow=function(T,R){var N,G,oe=T.bitLength(),_e=he(1);if(oe<=0)return _e;N=oe<18?1:oe<48?3:oe<144?4:oe<768?5:6,G=oe<8?new Oe(R):R.isEven()?new Fe(R):new k(R);var Le=new Array,xe=3,Pe=N-1,Me=(1<<N)-1;if(Le[1]=G.convert(this),N>1){var $e=J();for(G.sqrTo(Le[1],$e);xe<=Me;)Le[xe]=J(),G.mulTo($e,Le[xe-2],Le[xe]),xe+=2}var ze,Ye,st=T.t-1,dt=!0,ut=J();for(oe=fe(T[st])-1;st>=0;){for(oe>=Pe?ze=T[st]>>oe-Pe&Me:(ze=(T[st]&(1<<oe+1)-1)<<Pe-oe,st>0&&(ze|=T[st-1]>>this.DB+oe-Pe)),xe=N;!(1&ze);)ze>>=1,--xe;if((oe-=xe)<0&&(oe+=this.DB,--st),dt)Le[ze].copyTo(_e),dt=!1;else{for(;xe>1;)G.sqrTo(_e,ut),G.sqrTo(ut,_e),xe-=2;xe>0?G.sqrTo(_e,ut):(Ye=_e,_e=ut,ut=Ye),G.mulTo(ut,Le[ze],_e)}for(;st>=0&&!(T[st]&1<<oe);)G.sqrTo(_e,ut),Ye=_e,_e=ut,ut=Ye,--oe<0&&(oe=this.DB-1,--st)}return G.revert(_e)},U.prototype.modInverse=function(T){var R=T.isEven();if(this.isEven()&&R||T.signum()==0)return U.ZERO;for(var N=T.clone(),G=this.clone(),oe=he(1),_e=he(0),Le=he(0),xe=he(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),R?(oe.isEven()&&_e.isEven()||(oe.addTo(this,oe),_e.subTo(T,_e)),oe.rShiftTo(1,oe)):_e.isEven()||_e.subTo(T,_e),_e.rShiftTo(1,_e);for(;G.isEven();)G.rShiftTo(1,G),R?(Le.isEven()&&xe.isEven()||(Le.addTo(this,Le),xe.subTo(T,xe)),Le.rShiftTo(1,Le)):xe.isEven()||xe.subTo(T,xe),xe.rShiftTo(1,xe);N.compareTo(G)>=0?(N.subTo(G,N),R&&oe.subTo(Le,oe),_e.subTo(xe,_e)):(G.subTo(N,G),R&&Le.subTo(oe,Le),xe.subTo(_e,xe))}return G.compareTo(U.ONE)!=0?U.ZERO:xe.compareTo(T)>=0?xe.subtract(T):xe.signum()<0?(xe.addTo(T,xe),xe.signum()<0?xe.add(T):xe):xe},U.prototype.pow=function(T){return this.exp(T,new Je)},U.prototype.gcd=function(T){var R=this.s<0?this.negate():this.clone(),N=T.s<0?T.negate():T.clone();if(R.compareTo(N)<0){var G=R;R=N,N=G}var oe=R.getLowestSetBit(),_e=N.getLowestSetBit();if(_e<0)return R;for(oe<_e&&(_e=oe),_e>0&&(R.rShiftTo(_e,R),N.rShiftTo(_e,N));R.signum()>0;)(oe=R.getLowestSetBit())>0&&R.rShiftTo(oe,R),(oe=N.getLowestSetBit())>0&&N.rShiftTo(oe,N),R.compareTo(N)>=0?(R.subTo(N,R),R.rShiftTo(1,R)):(N.subTo(R,N),N.rShiftTo(1,N));return _e>0&&N.lShiftTo(_e,N),N},U.prototype.isProbablePrime=function(T){var R,N=this.abs();if(N.t==1&&N[0]<=Xe[Xe.length-1]){for(R=0;R<Xe.length;++R)if(N[0]==Xe[R])return!0;return!1}if(N.isEven())return!1;for(R=1;R<Xe.length;){for(var G=Xe[R],oe=R+1;oe<Xe.length&&G<se;)G*=Xe[oe++];for(G=N.modInt(G);R<oe;)if(G%Xe[R++]==0)return!1}return N.millerRabin(T)},U.prototype.square=function(){var T=J();return this.squareTo(T),T},z.prototype.init=function(T){var R,N,G;for(R=0;R<256;++R)this.S[R]=R;for(N=0,R=0;R<256;++R)N=N+this.S[R]+T[R%T.length]&255,G=this.S[R],this.S[R]=this.S[N],this.S[N]=G;this.i=0,this.j=0},z.prototype.next=function(){var T;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,T=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=T,this.S[T+this.S[this.i]&255]};var $,ae,W;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function de(){(function(T){ae[W++]^=255&T,ae[W++]^=T>>8&255,ae[W++]^=T>>16&255,ae[W++]^=T>>24&255,W>=256&&(W-=256)})(new Date().getTime())}if(ae==null){var ye;if(ae=new Array,W=0,A!==void 0&&(A.crypto!==void 0||A.msCrypto!==void 0)){var He=A.crypto||A.msCrypto;if(He.getRandomValues){var Te=new Uint8Array(32);for(He.getRandomValues(Te),ye=0;ye<32;++ye)ae[W++]=Te[ye]}else if(x.appName=="Netscape"&&x.appVersion<"5"){var Ne=A.crypto.random(32);for(ye=0;ye<Ne.length;++ye)ae[W++]=255&Ne.charCodeAt(ye)}}for(;W<256;)ye=Math.floor(65536*Math.random()),ae[W++]=ye>>>8,ae[W++]=255&ye;W=0,de()}function tt(){if($==null){for(de(),($=function(){return new z}()).init(ae),W=0;W<ae.length;++W)ae[W]=0;W=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(C,T){return new U(C,T)}function qt(C,T,R){for(var N="",G=0;N.length<T;)N+=R(String.fromCharCode.apply(String,C.concat([(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G]))),G+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Be(C,T){this.x=T,this.q=C}function ee(C,T,R,N){this.curve=C,this.x=T,this.y=R,this.z=N??U.ONE,this.zinv=null}function q(C,T,R){this.q=C,this.a=this.fromBigInteger(T),this.b=this.fromBigInteger(R),this.infinity=new ee(this,null,null)}nt.prototype.nextBytes=function(T){var R;for(R=0;R<T.length;++R)T[R]=tt()},Se.prototype.doPublic=function(T){return T.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(T,R){if(this.isPublic=!0,this.isPrivate=!1,typeof T!="string")this.n=T,this.e=R;else{if(!(T!=null&&R!=null&&T.length>0&&R.length>0))throw"Invalid RSA public key";this.n=gt(T,16),this.e=parseInt(R,16)}},Se.prototype.encrypt=function(T){var R=function(_e,Le){if(Le<_e.length+11)throw"Message too long for RSA";for(var xe=new Array,Pe=_e.length-1;Pe>=0&&Le>0;){var Me=_e.charCodeAt(Pe--);Me<128?xe[--Le]=Me:Me>127&&Me<2048?(xe[--Le]=63&Me|128,xe[--Le]=Me>>6|192):(xe[--Le]=63&Me|128,xe[--Le]=Me>>6&63|128,xe[--Le]=Me>>12|224)}xe[--Le]=0;for(var $e=new nt,ze=new Array;Le>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Le]=ze[0]}return xe[--Le]=2,xe[--Le]=0,new U(xe)}(T,this.n.bitLength()+7>>3);if(R==null)return null;var N=this.doPublic(R);if(N==null)return null;var G=N.toString(16);return 1&G.length?"0"+G:G},Se.prototype.encryptOAEP=function(T,R,N){var G=function(xe,Pe,Me,$e){var ze=V.crypto.MessageDigest,Ye=V.crypto.Util,st=null;if(Me||(Me="sha1"),typeof Me=="string"&&(st=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(st),Me=function(Ct){return ln(Ye.hashHex(Ln(Ct),st))}),xe.length+2*$e+2>Pe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Pe-xe.length-2*$e-2;dt+=1)ut+="\0";var we=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Ue=qt(De,we.length,Me),Ke=[];for(dt=0;dt<we.length;dt+=1)Ke[dt]=we.charCodeAt(dt)^Ue.charCodeAt(dt);var lt=qt(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new U(mt.concat(Ke))}(T,this.n.bitLength()+7>>3,R,N);if(G==null)return null;var oe=this.doPublic(G);if(oe==null)return null;var _e=oe.toString(16);return 1&_e.length?"0"+_e:_e},Se.prototype.type="RSA",Be.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.x.equals(T.x)},Be.prototype.toBigInteger=function(){return this.x},Be.prototype.negate=function(){return new Be(this.q,this.x.negate().mod(this.q))},Be.prototype.add=function(T){return new Be(this.q,this.x.add(T.toBigInteger()).mod(this.q))},Be.prototype.subtract=function(T){return new Be(this.q,this.x.subtract(T.toBigInteger()).mod(this.q))},Be.prototype.multiply=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger()).mod(this.q))},Be.prototype.square=function(){return new Be(this.q,this.x.square().mod(this.q))},Be.prototype.divide=function(T){return new Be(this.q,this.x.multiply(T.toBigInteger().modInverse(this.q)).mod(this.q))},ee.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ee.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ee.prototype.equals=function(T){return T==this||(this.isInfinity()?T.isInfinity():T.isInfinity()?this.isInfinity():!!T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(U.ZERO)&&T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q).equals(U.ZERO))},ee.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(U.ZERO)&&!this.y.toBigInteger().equals(U.ZERO)},ee.prototype.negate=function(){return new ee(this.curve,this.x,this.y.negate(),this.z)},ee.prototype.add=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;var R=T.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(T.z)).mod(this.curve.q),N=T.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(T.z)).mod(this.curve.q);if(U.ZERO.equals(N))return U.ZERO.equals(R)?this.twice():this.curve.getInfinity();var G=new U("3"),oe=this.x.toBigInteger(),_e=this.y.toBigInteger(),Le=(T.x.toBigInteger(),T.y.toBigInteger(),N.square()),xe=Le.multiply(N),Pe=oe.multiply(Le),Me=R.square().multiply(this.z),$e=Me.subtract(Pe.shiftLeft(1)).multiply(T.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Pe.multiply(G).multiply(R).subtract(_e.multiply(xe)).subtract(Me.multiply(R)).multiply(T.z).add(R.multiply(xe)).mod(this.curve.q),Ye=xe.multiply(this.z).multiply(T.z).mod(this.curve.q);return new ee(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Ye)},ee.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=new U("3"),R=this.x.toBigInteger(),N=this.y.toBigInteger(),G=N.multiply(this.z),oe=G.multiply(N).mod(this.curve.q),_e=this.curve.a.toBigInteger(),Le=R.square().multiply(T);U.ZERO.equals(_e)||(Le=Le.add(this.z.square().multiply(_e)));var xe=(Le=Le.mod(this.curve.q)).square().subtract(R.shiftLeft(3).multiply(oe)).shiftLeft(1).multiply(G).mod(this.curve.q),Pe=Le.multiply(T).multiply(R).subtract(oe.shiftLeft(1)).shiftLeft(2).multiply(oe).subtract(Le.square().multiply(Le)).mod(this.curve.q),Me=G.square().multiply(G).shiftLeft(3).mod(this.curve.q);return new ee(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Pe),Me)},ee.prototype.multiply=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var R,N=T,G=N.multiply(new U("3")),oe=this.negate(),_e=this,Le=this.curve.q.subtract(T),xe=Le.multiply(new U("3")),Pe=new ee(this.curve,this.x,this.y),Me=Pe.negate();for(R=G.bitLength()-2;R>0;--R){_e=_e.twice();var $e=G.testBit(R);$e!=N.testBit(R)&&(_e=_e.add($e?this:oe))}for(R=xe.bitLength()-2;R>0;--R){Pe=Pe.twice();var ze=xe.testBit(R);ze!=Le.testBit(R)&&(Pe=Pe.add(ze?Pe:Me))}return _e},ee.prototype.multiplyTwo=function(T,R,N){var G;G=T.bitLength()>N.bitLength()?T.bitLength()-1:N.bitLength()-1;for(var oe=this.curve.getInfinity(),_e=this.add(R);G>=0;)oe=oe.twice(),T.testBit(G)?oe=N.testBit(G)?oe.add(_e):oe.add(this):N.testBit(G)&&(oe=oe.add(R)),--G;return oe},q.prototype.getQ=function(){return this.q},q.prototype.getA=function(){return this.a},q.prototype.getB=function(){return this.b},q.prototype.equals=function(T){return T==this||this.q.equals(T.q)&&this.a.equals(T.a)&&this.b.equals(T.b)},q.prototype.getInfinity=function(){return this.infinity},q.prototype.fromBigInteger=function(T){return new Be(this.q,T)},q.prototype.decodePointHex=function(T){switch(parseInt(T.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var R=(T.length-2)/2,N=T.substr(2,R),G=T.substr(R+2,R);return new ee(this,this.fromBigInteger(new U(N,16)),this.fromBigInteger(new U(G,16)));default:return null}},Be.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ee.prototype.getEncoded=function(C){var T=function(_e,Le){var xe=_e.toByteArrayUnsigned();if(Le<xe.length)xe=xe.slice(xe.length-Le);else for(;Le>xe.length;)xe.unshift(0);return xe},R=this.getX().toBigInteger(),N=this.getY().toBigInteger(),G=T(R,32);return C?N.isEven()?G.unshift(2):G.unshift(3):(G.unshift(4),G=G.concat(T(N,32))),G},ee.decodeFrom=function(C,T){T[0];var R=T.length-1,N=T.slice(1,1+R/2),G=T.slice(1+R/2,1+R);N.unshift(0),G.unshift(0);var oe=new U(N),_e=new U(G);return new ee(C,C.fromBigInteger(oe),C.fromBigInteger(_e))},ee.decodeFromHex=function(C,T){T.substr(0,2);var R=T.length-2,N=T.substr(2,R/2),G=T.substr(2+R/2,R/2),oe=new U(N,16),_e=new U(G,16);return new ee(C,C.fromBigInteger(oe),C.fromBigInteger(_e))},ee.prototype.add2D=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;if(this.x.equals(C.x))return this.y.equals(C.y)?this.twice():this.curve.getInfinity();var T=C.x.subtract(this.x),R=C.y.subtract(this.y).divide(T),N=R.square().subtract(this.x).subtract(C.x),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new ee(this.curve,N,G)},ee.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=this.curve.fromBigInteger(U.valueOf(2)),T=this.curve.fromBigInteger(U.valueOf(3)),R=this.x.square().multiply(T).add(this.curve.a).divide(this.y.multiply(C)),N=R.square().subtract(this.x.multiply(C)),G=R.multiply(this.x.subtract(N)).subtract(this.y);return new ee(this.curve,N,G)},ee.prototype.multiply2D=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var T,R=C,N=R.multiply(new U("3")),G=this.negate(),oe=this;for(T=N.bitLength()-2;T>0;--T){oe=oe.twice();var _e=N.testBit(T);_e!=R.testBit(T)&&(oe=oe.add2D(_e?this:G))}return oe},ee.prototype.isOnCurve=function(){var C=this.getX().toBigInteger(),T=this.getY().toBigInteger(),R=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),G=this.curve.getQ(),oe=T.multiply(T).mod(G),_e=C.multiply(C).multiply(C).add(R.multiply(C)).add(N).mod(G);return oe.equals(_e)},ee.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ee.prototype.validate=function(){var C=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var T=this.getX().toBigInteger(),R=this.getY().toBigInteger();if(T.compareTo(U.ONE)<0||T.compareTo(C.subtract(U.ONE))>0)throw new Error("x coordinate out of bounds");if(R.compareTo(U.ONE)<0||R.compareTo(C.subtract(U.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(C).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var K=function(){var C=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),T=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),R={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(_e,Le,xe){return Le?R[Le]:String.fromCharCode(parseInt(xe,16))}var G=new String(""),oe=Object.hasOwnProperty;return function(_e,Le){var xe,Pe,Me=_e.match(C),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Ye=[xe],st=1-ze,dt=Me.length;st<dt;++st){var ut;switch(($e=Me[st]).charCodeAt(0)){default:(ut=Ye[0])[Pe||ut.length]=+$e,Pe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(T,N)),ut=Ye[0],!Pe){if(!(ut instanceof Array)){Pe=$e||G;break}Pe=ut.length}ut[Pe]=$e,Pe=void 0;break;case 91:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]=[]),Pe=void 0;break;case 93:Ye.shift();break;case 102:(ut=Ye[0])[Pe||ut.length]=!1,Pe=void 0;break;case 110:(ut=Ye[0])[Pe||ut.length]=null,Pe=void 0;break;case 116:(ut=Ye[0])[Pe||ut.length]=!0,Pe=void 0;break;case 123:ut=Ye[0],Ye.unshift(ut[Pe||ut.length]={}),Pe=void 0;break;case 125:Ye.shift()}}if(ze){if(Ye.length!==1)throw new Error;xe=xe[0]}else if(Ye.length)throw new Error;return Le&&(xe=function we(De,Ue){var Ke=De[Ue];if(Ke&&(Ke===void 0?"undefined":b(Ke))==="object"){var lt=null;for(var mt in Ke)if(oe.call(Ke,mt)&&Ke!==De){var $t=we(Ke,mt);$t!==void 0?Ke[mt]=$t:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Ct=lt.length;--Ct>=0;)delete Ke[lt[Ct]]}return Le.call(De,Ue,Ke)}({"":xe},"")),xe}}();V!==void 0&&V||(r.KJUR=V={}),V.asn1!==void 0&&V.asn1||(V.asn1={}),V.asn1.ASN1Util=new function(){this.integerToByteHex=function(C){var T=C.toString(16);return T.length%2==1&&(T="0"+T),T},this.bigIntToMinTwosComplementsHex=function(C){var T=C.toString(16);if(T.substr(0,1)!="-")T.length%2==1?T="0"+T:T.match(/^[0-7]/)||(T="00"+T);else{var R=T.substr(1).length;R%2==1?R+=1:T.match(/^[0-7]/)||(R+=2);for(var N="",G=0;G<R;G++)N+="f";T=new U(N,16).xor(C).add(U.ONE).toString(16).replace(/^-/,"")}return T},this.getPEMStringFromHex=function(C,T){return bt(C,T)},this.newObject=function(C){var T=V.asn1,R=T.ASN1Object,N=T.DERBoolean,G=T.DERInteger,oe=T.DERBitString,_e=T.DEROctetString,Le=T.DERNull,xe=T.DERObjectIdentifier,Pe=T.DEREnumerated,Me=T.DERUTF8String,$e=T.DERNumericString,ze=T.DERPrintableString,Ye=T.DERTeletexString,st=T.DERIA5String,dt=T.DERUTCTime,ut=T.DERGeneralizedTime,we=T.DERVisibleString,De=T.DERBMPString,Ue=T.DERSequence,Ke=T.DERSet,lt=T.DERTaggedObject,mt=T.ASN1Util.newObject;if(C instanceof T.ASN1Object)return C;var $t=Object.keys(C);if($t.length!=1)throw new Error("key of param shall be only one.");var Ct=$t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Ct+":")==-1)throw new Error("undefined key: "+Ct);if(Ct=="bool")return new N(C[Ct]);if(Ct=="int")return new G(C[Ct]);if(Ct=="bitstr")return new oe(C[Ct]);if(Ct=="octstr")return new _e(C[Ct]);if(Ct=="null")return new Le(C[Ct]);if(Ct=="oid")return new xe(C[Ct]);if(Ct=="enum")return new Pe(C[Ct]);if(Ct=="utf8str")return new Me(C[Ct]);if(Ct=="numstr")return new $e(C[Ct]);if(Ct=="prnstr")return new ze(C[Ct]);if(Ct=="telstr")return new Ye(C[Ct]);if(Ct=="ia5str")return new st(C[Ct]);if(Ct=="utctime")return new dt(C[Ct]);if(Ct=="gentime")return new ut(C[Ct]);if(Ct=="visstr")return new we(C[Ct]);if(Ct=="bmpstr")return new De(C[Ct]);if(Ct=="asn1")return new R(C[Ct]);if(Ct=="seq"){for(var gn=C[Ct],Ft=[],Vt=0;Vt<gn.length;Vt++){var zn=mt(gn[Vt]);Ft.push(zn)}return new Ue({array:Ft})}if(Ct=="set"){for(gn=C[Ct],Ft=[],Vt=0;Vt<gn.length;Vt++)zn=mt(gn[Vt]),Ft.push(zn);return new Ke({array:Ft})}if(Ct=="tag"){var Nn=C[Ct];if(Object.prototype.toString.call(Nn)==="[object Array]"&&Nn.length==3){var Un=mt(Nn[2]);return new lt({tag:Nn[0],explicit:Nn[1],obj:Un})}return new lt(Nn)}},this.jsonToASN1HEX=function(C){return this.newObject(C).getEncodedHex()}},V.asn1.ASN1Util.oidHexToInt=function(C){for(var T="",R=parseInt(C.substr(0,2),16),N=(T=Math.floor(R/40)+"."+R%40,""),G=2;G<C.length;G+=2){var oe=("00000000"+parseInt(C.substr(G,2),16).toString(2)).slice(-8);N+=oe.substr(1,7),oe.substr(0,1)=="0"&&(T=T+"."+new U(N,2).toString(10),N="")}return T},V.asn1.ASN1Util.oidIntToHex=function(C){var T=function(xe){var Pe=xe.toString(16);return Pe.length==1&&(Pe="0"+Pe),Pe},R=function(xe){var Pe="",Me=new U(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Ye=0;Ye<$e;Ye++)ze+="0";for(Me=ze+Me,Ye=0;Ye<Me.length-1;Ye+=7){var st=Me.substr(Ye,7);Ye!=Me.length-7&&(st="1"+st),Pe+=T(parseInt(st,2))}return Pe};if(!C.match(/^[0-9.]+$/))throw"malformed oid string: "+C;var N="",G=C.split("."),oe=40*parseInt(G[0])+parseInt(G[1]);N+=T(oe),G.splice(0,2);for(var _e=0;_e<G.length;_e++)N+=R(G[_e]);return N},V.asn1.ASN1Object=function(C){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var T=this.hV.length/2,R=T.toString(16);if(R.length%2==1&&(R="0"+R),T<128)return R;var N=R.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+T.toString(16);return(128+N).toString(16)+R},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(T){this.params=T},C!=null&&C.tlv!=null&&(this.hTLV=C.tlv,this.isModified=!1)},V.asn1.DERAbstractString=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=gr(this.s).toLowerCase()},this.setStringHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"?this.setString(C):C.str!==void 0?this.setString(C.str):C.hex!==void 0&&this.setStringHex(C.hex))},Ht(V.asn1.DERAbstractString,V.asn1.ASN1Object),V.asn1.DERAbstractTime=function(C){V.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(T){var R=T.getTime()+6e4*T.getTimezoneOffset();return new Date(R)},this.formatDate=function(T,R,N){var G=this.zeroPadding,oe=this.localDateToUTC(T),_e=String(oe.getFullYear());R=="utc"&&(_e=_e.substr(2,2));var Le=_e+G(String(oe.getMonth()+1),2)+G(String(oe.getDate()),2)+G(String(oe.getHours()),2)+G(String(oe.getMinutes()),2)+G(String(oe.getSeconds()),2);if(N===!0){var xe=oe.getMilliseconds();if(xe!=0){var Pe=G(String(xe),3);Le=Le+"."+(Pe=Pe.replace(/[0]+$/,""))}}return Le+"Z"},this.zeroPadding=function(T,R){return T.length>=R?T:new Array(R-T.length+1).join("0")+T},this.getString=function(){return this.s},this.setString=function(T){this.hTLV=null,this.isModified=!0,this.s=T,this.hV=Pt(T)},this.setByDateValue=function(T,R,N,G,oe,_e){var Le=new Date(Date.UTC(T,R-1,N,G,oe,_e,0));this.setByDate(Le)},this.getFreshValueHex=function(){return this.hV}},Ht(V.asn1.DERAbstractTime,V.asn1.ASN1Object),V.asn1.DERAbstractStructured=function(C){V.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array=T},this.appendASN1Object=function(T){this.hTLV=null,this.isModified=!0,this.asn1Array.push(T)},this.asn1Array=new Array,C!==void 0&&C.array!==void 0&&(this.asn1Array=C.array)},Ht(V.asn1.DERAbstractStructured,V.asn1.ASN1Object),V.asn1.DERBoolean=function(C){V.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=C==0?"010100":"0101ff"},Ht(V.asn1.DERBoolean,V.asn1.ASN1Object),V.asn1.DERInteger=function(C){V.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new U(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.bigint!==void 0?this.setByBigInteger(C.bigint):C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},Ht(V.asn1.DERInteger,V.asn1.ASN1Object),V.asn1.DERBitString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex="00"+T.getEncodedHex()}V.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(R){this.hTLV=null,this.isModified=!0,this.hV=R},this.setUnusedBitsAndHexValue=function(R,N){if(R<0||7<R)throw"unused bits shall be from 0 to 7: u = "+R;var G="0"+R;this.hTLV=null,this.isModified=!0,this.hV=G+N},this.setByBinaryString=function(R){var N=8-(R=R.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var G=0;G<=N;G++)R+="0";var oe="";for(G=0;G<R.length-1;G+=8){var _e=R.substr(G,8),Le=parseInt(_e,2).toString(16);Le.length==1&&(Le="0"+Le),oe+=Le}this.hTLV=null,this.isModified=!0,this.hV="0"+N+oe},this.setByBooleanArray=function(R){for(var N="",G=0;G<R.length;G++)R[G]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(R){for(var N=new Array(R),G=0;G<R;G++)N[G]=!1;return N},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(typeof C=="string"&&C.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(C):C.hex!==void 0?this.setHexValueIncludingUnusedBits(C.hex):C.bin!==void 0?this.setByBinaryString(C.bin):C.array!==void 0&&this.setByBooleanArray(C.array))},Ht(V.asn1.DERBitString,V.asn1.ASN1Object),V.asn1.DEROctetString=function(C){if(C!==void 0&&C.obj!==void 0){var T=V.asn1.ASN1Util.newObject(C.obj);C.hex=T.getEncodedHex()}V.asn1.DEROctetString.superclass.constructor.call(this,C),this.hT="04"},Ht(V.asn1.DEROctetString,V.asn1.DERAbstractString),V.asn1.DERNull=function(){V.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ht(V.asn1.DERNull,V.asn1.ASN1Object),V.asn1.DERObjectIdentifier=function(C){V.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(T){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=T},this.setValueOidString=function(T){var R=function(G){var oe=function(ze){var Ye=ze.toString(16);return Ye.length==1&&(Ye="0"+Ye),Ye},_e=function(ze){var Ye="",st=parseInt(ze,10).toString(2),dt=7-st.length%7;dt==7&&(dt=0);for(var ut="",we=0;we<dt;we++)ut+="0";for(st=ut+st,we=0;we<st.length-1;we+=7){var De=st.substr(we,7);we!=st.length-7&&(De="1"+De),Ye+=oe(parseInt(De,2))}return Ye};try{if(!G.match(/^[0-9.]+$/))return null;var Le="",xe=G.split("."),Pe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Le+=oe(Pe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Le+=_e(xe[Me]);return Le}catch{return null}}(T);if(R==null)throw new Error("malformed oid string: "+T);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=R},this.setValueName=function(T){var R=V.asn1.x509.OID.name2oid(T);if(R==="")throw new Error("DERObjectIdentifier oidName undefined: "+T);this.setValueOidString(R)},this.setValueNameOrOid=function(T){T.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(T):this.setValueName(T)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(T){typeof T=="string"?this.setValueNameOrOid(T):T.oid!==void 0?this.setValueNameOrOid(T.oid):T.name!==void 0?this.setValueNameOrOid(T.name):T.hex!==void 0&&this.setValueHex(T.hex)},C!==void 0&&this.setByParam(C)},Ht(V.asn1.DERObjectIdentifier,V.asn1.ASN1Object),V.asn1.DEREnumerated=function(C){V.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(T){this.hTLV=null,this.isModified=!0,this.hV=V.asn1.ASN1Util.bigIntToMinTwosComplementsHex(T)},this.setByInteger=function(T){var R=new U(String(T),10);this.setByBigInteger(R)},this.setValueHex=function(T){this.hV=T},this.getFreshValueHex=function(){return this.hV},C!==void 0&&(C.int!==void 0?this.setByInteger(C.int):typeof C=="number"?this.setByInteger(C):C.hex!==void 0&&this.setValueHex(C.hex))},Ht(V.asn1.DEREnumerated,V.asn1.ASN1Object),V.asn1.DERUTF8String=function(C){V.asn1.DERUTF8String.superclass.constructor.call(this,C),this.hT="0c"},Ht(V.asn1.DERUTF8String,V.asn1.DERAbstractString),V.asn1.DERNumericString=function(C){V.asn1.DERNumericString.superclass.constructor.call(this,C),this.hT="12"},Ht(V.asn1.DERNumericString,V.asn1.DERAbstractString),V.asn1.DERPrintableString=function(C){V.asn1.DERPrintableString.superclass.constructor.call(this,C),this.hT="13"},Ht(V.asn1.DERPrintableString,V.asn1.DERAbstractString),V.asn1.DERTeletexString=function(C){V.asn1.DERTeletexString.superclass.constructor.call(this,C),this.hT="14"},Ht(V.asn1.DERTeletexString,V.asn1.DERAbstractString),V.asn1.DERIA5String=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="16"},Ht(V.asn1.DERIA5String,V.asn1.DERAbstractString),V.asn1.DERVisibleString=function(C){V.asn1.DERIA5String.superclass.constructor.call(this,C),this.hT="1a"},Ht(V.asn1.DERVisibleString,V.asn1.DERAbstractString),V.asn1.DERBMPString=function(C){V.asn1.DERBMPString.superclass.constructor.call(this,C),this.hT="1e"},Ht(V.asn1.DERBMPString,V.asn1.DERAbstractString),V.asn1.DERUTCTime=function(C){V.asn1.DERUTCTime.superclass.constructor.call(this,C),this.hT="17",this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"utc"),this.hV=Pt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Pt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{12}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date))},Ht(V.asn1.DERUTCTime,V.asn1.DERAbstractTime),V.asn1.DERGeneralizedTime=function(C){V.asn1.DERGeneralizedTime.superclass.constructor.call(this,C),this.hT="18",this.withMillis=!1,this.setByDate=function(T){this.hTLV=null,this.isModified=!0,this.date=T,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Pt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Pt(this.s)),this.hV},C!==void 0&&(C.str!==void 0?this.setString(C.str):typeof C=="string"&&C.match(/^[0-9]{14}Z$/)?this.setString(C):C.hex!==void 0?this.setStringHex(C.hex):C.date!==void 0&&this.setByDate(C.date),C.millis===!0&&(this.withMillis=!0))},Ht(V.asn1.DERGeneralizedTime,V.asn1.DERAbstractTime),V.asn1.DERSequence=function(C){V.asn1.DERSequence.superclass.constructor.call(this,C),this.hT="30",this.getFreshValueHex=function(){for(var T="",R=0;R<this.asn1Array.length;R++)T+=this.asn1Array[R].getEncodedHex();return this.hV=T,this.hV}},Ht(V.asn1.DERSequence,V.asn1.DERAbstractStructured),V.asn1.DERSet=function(C){V.asn1.DERSet.superclass.constructor.call(this,C),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var T=new Array,R=0;R<this.asn1Array.length;R++){var N=this.asn1Array[R];T.push(N.getEncodedHex())}return this.sortFlag==1&&T.sort(),this.hV=T.join(""),this.hV},C!==void 0&&C.sortflag!==void 0&&C.sortflag==0&&(this.sortFlag=!1)},Ht(V.asn1.DERSet,V.asn1.DERAbstractStructured),V.asn1.DERTaggedObject=function(C){V.asn1.DERTaggedObject.superclass.constructor.call(this);var T=V.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(R,N,G){this.hT=N,this.isExplicit=R,this.asn1Object=G,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=G.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(R){R.tag!=null&&(this.hT=R.tag),R.explicit!=null&&(this.isExplicit=R.explicit),R.tage!=null&&(this.hT=R.tage,this.isExplicit=!0),R.tagi!=null&&(this.hT=R.tagi,this.isExplicit=!1),R.obj!=null&&(R.obj instanceof T.ASN1Object?(this.asn1Object=R.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):b(R.obj)=="object"&&(this.asn1Object=T.ASN1Util.newObject(R.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},C!=null&&this.setByParam(C)},Ht(V.asn1.DERTaggedObject,V.asn1.ASN1Object);var V,je,Ze,ke=new function(){};function Rt(C){for(var T=new Array,R=0;R<C.length;R++)T[R]=C.charCodeAt(R);return T}function It(C){for(var T="",R=0;R<C.length;R++)T+=String.fromCharCode(C[R]);return T}function Nt(C){for(var T="",R=0;R<C.length;R++){var N=C[R].toString(16);N.length==1&&(N="0"+N),T+=N}return T}function Pt(C){return Nt(Rt(C))}function zt(C){return C=(C=(C=C.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Cr(C){return C.length%4==2?C+="==":C.length%4==3&&(C+="="),C=(C=C.replace(/-/g,"+")).replace(/_/g,"/")}function dn(C){return C.length%2==1&&(C="0"+C),zt(F(C))}function hn(C){return Z(Cr(C))}function gr(C){return Jn(Tt(C))}function un(C){return decodeURIComponent(We(C))}function ln(C){for(var T="",R=0;R<C.length-1;R+=2)T+=String.fromCharCode(parseInt(C.substr(R,2),16));return T}function Ln(C){for(var T="",R=0;R<C.length;R++)T+=("0"+C.charCodeAt(R).toString(16)).slice(-2);return T}function ur(C){return F(C)}function Ie(C){var T=ur(C).replace(/(.{64})/g,`$1\r
`);return T=T.replace(/\r\n$/,"")}function qe(C){return Z(C.replace(/[^0-9A-Za-z\/+=]*/g,""))}function bt(C,T){return"-----BEGIN "+T+`-----\r
`+Ie(C)+`\r
-----END `+T+`-----\r
`}function Et(C,T){if(C.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+T;return qe(C=T!==void 0?(C=C.replace(new RegExp("^[^]*-----BEGIN "+T+"-----"),"")).replace(new RegExp("-----END "+T+"-----[^]*$"),""):(C=C.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Mt(C){var T,R,N,G,oe,_e,Le,xe,Pe,Me,$e;if($e=C.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],T=parseInt(xe),xe.length===2&&(50<=T&&T<100?T=1900+T:0<=T&&T<50&&(T=2e3+T)),R=parseInt($e[2])-1,N=parseInt($e[3]),G=parseInt($e[4]),oe=parseInt($e[5]),_e=parseInt($e[6]),Le=0,(Pe=$e[7])!==""&&(Me=(Pe.substr(1)+"00").substr(0,3),Le=parseInt(Me)),Date.UTC(T,R,N,G,oe,_e,Le);throw"unsupported zulu format: "+C}function Hn(C){return~~(Mt(C)/1e3)}function Jn(C){return C.replace(/%/g,"")}function We(C){return C.replace(/(..)/g,"%$1")}function Ee(C){var T="malformed IPv6 address";if(!C.match(/^[0-9A-Fa-f:]+$/))throw T;var R=(C=C.toLowerCase()).split(":").length-1;if(R<2)throw T;var N=":".repeat(7-R+2),G=(C=C.replace("::",N)).split(":");if(G.length!=8)throw T;for(var oe=0;oe<8;oe++)G[oe]=("0000"+G[oe]).slice(-4);return G.join("")}function et(C){if(!C.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var T=(C=C.toLowerCase()).match(/.{1,4}/g),R=0;R<8;R++)T[R]=T[R].replace(/^0+/,""),T[R]==""&&(T[R]="0");var N=(C=":"+T.join(":")+":").match(/:(0:){2,}/g);if(N===null)return C.slice(1,-1);var G="";for(R=0;R<N.length;R++)N[R].length>G.length&&(G=N[R]);return(C=C.replace(G,"::")).slice(1,-1)}function ft(C){var T="malformed hex value";if(!C.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw T;if(C.length!=8)return C.length==32?et(C):C;try{return parseInt(C.substr(0,2),16)+"."+parseInt(C.substr(2,2),16)+"."+parseInt(C.substr(4,2),16)+"."+parseInt(C.substr(6,2),16)}catch{throw T}}function it(C){return C.match(/.{4}/g).map(function(R){var N=parseInt(R.substr(0,2),16),G=parseInt(R.substr(2),16);if(N==0&G<128)return String.fromCharCode(G);if(N<8){var oe=128|63&G;return un((192|(7&N)<<3|(192&G)>>6).toString(16)+oe.toString(16))}oe=128|(15&N)<<2|(192&G)>>6;var _e=128|63&G;return un((224|(240&N)>>4).toString(16)+oe.toString(16)+_e.toString(16))}).join("")}function Tt(C){for(var T=encodeURIComponent(C),R="",N=0;N<T.length;N++)T[N]=="%"?(R+=T.substr(N,3),N+=2):R=R+"%"+Pt(T[N]);return R}function Dt(C){return!(C.length%2!=0||!C.match(/^[0-9a-f]+$/)&&!C.match(/^[0-9A-F]+$/))}function Gt(C){return C.length%2==1?"0"+C:C.substr(0,1)>"7"?"00"+C:C}ke.getLblen=function(C,T){if(C.substr(T+2,1)!="8")return 1;var R=parseInt(C.substr(T+3,1));return R==0?-1:0<R&&R<10?R+1:-2},ke.getL=function(C,T){var R=ke.getLblen(C,T);return R<1?"":C.substr(T+2,2*R)},ke.getVblen=function(C,T){var R;return(R=ke.getL(C,T))==""?-1:(R.substr(0,1)==="8"?new U(R.substr(2),16):new U(R,16)).intValue()},ke.getVidx=function(C,T){var R=ke.getLblen(C,T);return R<0?R:T+2*(R+1)},ke.getV=function(C,T){var R=ke.getVidx(C,T),N=ke.getVblen(C,T);return C.substr(R,2*N)},ke.getTLV=function(C,T){return C.substr(T,2)+ke.getL(C,T)+ke.getV(C,T)},ke.getTLVblen=function(C,T){return 2+2*ke.getLblen(C,T)+2*ke.getVblen(C,T)},ke.getNextSiblingIdx=function(C,T){return ke.getVidx(C,T)+2*ke.getVblen(C,T)},ke.getChildIdx=function(C,T){var R,N,G,oe=ke,_e=[];R=oe.getVidx(C,T),N=2*oe.getVblen(C,T),C.substr(T,2)=="03"&&(R+=2,N-=2),G=0;for(var Le=R;G<=N;){var xe=oe.getTLVblen(C,Le);if((G+=xe)<=N&&_e.push(Le),Le+=xe,G>=N)break}return _e},ke.getNthChildIdx=function(C,T,R){return ke.getChildIdx(C,T)[R]},ke.getIdxbyList=function(C,T,R,N){var G,oe,_e=ke;return R.length==0?N!==void 0&&C.substr(T,2)!==N?-1:T:(G=R.shift())>=(oe=_e.getChildIdx(C,T)).length?-1:_e.getIdxbyList(C,oe[G],R,N)},ke.getIdxbyListEx=function(C,T,R,N){var G,oe,_e=ke;if(R.length==0)return N!==void 0&&C.substr(T,2)!==N?-1:T;G=R.shift(),oe=_e.getChildIdx(C,T);for(var Le=0,xe=0;xe<oe.length;xe++){var Pe=C.substr(oe[xe],2);if(typeof G=="number"&&!_e.isContextTag(Pe)&&Le==G||typeof G=="string"&&_e.isContextTag(Pe,G))return _e.getIdxbyListEx(C,oe[xe],R,N);_e.isContextTag(Pe)||Le++}return-1},ke.getTLVbyList=function(C,T,R,N){var G=ke,oe=G.getIdxbyList(C,T,R,N);return oe==-1||oe>=C.length?null:G.getTLV(C,oe)},ke.getTLVbyListEx=function(C,T,R,N){var G=ke,oe=G.getIdxbyListEx(C,T,R,N);return oe==-1?null:G.getTLV(C,oe)},ke.getVbyList=function(C,T,R,N,G){var oe,_e,Le=ke;return(oe=Le.getIdxbyList(C,T,R,N))==-1||oe>=C.length?null:(_e=Le.getV(C,oe),G===!0&&(_e=_e.substr(2)),_e)},ke.getVbyListEx=function(C,T,R,N,G){var oe,_e,Le=ke;return(oe=Le.getIdxbyListEx(C,T,R,N))==-1?null:(_e=Le.getV(C,oe),C.substr(oe,2)=="03"&&G!==!1&&(_e=_e.substr(2)),_e)},ke.getInt=function(C,T,R){R==null&&(R=-1);try{var N=C.substr(T,2);if(N!="02"&&N!="03")return R;var G=ke.getV(C,T);return N=="02"?parseInt(G,16):function(_e){try{var Le=_e.substr(0,2);if(Le=="00")return parseInt(_e.substr(2),16);var xe=parseInt(Le,16),Pe=_e.substr(2),Me=parseInt(Pe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(G)}catch{return R}},ke.getOID=function(C,T,R){R==null&&(R=null);try{return C.substr(T,2)!="06"?R:function(G){if(!Dt(G))return null;try{var oe=[],_e=G.substr(0,2),Le=parseInt(_e,16);oe[0]=new String(Math.floor(Le/40)),oe[1]=new String(Le%40);for(var xe=G.substr(2),Pe=[],Me=0;Me<xe.length/2;Me++)Pe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Pe.length;Me++)128&Pe[Me]?ze+=Xt((127&Pe[Me]).toString(2),7):(ze+=Xt((127&Pe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Ye=oe.join(".");return $e.length>0&&(Ye=Ye+"."+$e.join(".")),Ye}catch{return null}}(ke.getV(C,T))}catch{return R}},ke.getOIDName=function(C,T,R){R==null&&(R=null);try{var N=ke.getOID(C,T,R);if(N==R)return R;var G=V.asn1.x509.OID.oid2name(N);return G==""?N:G}catch{return R}},ke.getString=function(C,T,R){R==null&&(R=null);try{return ln(ke.getV(C,T))}catch{return R}},ke.hextooidstr=function(C){var T=function(ze,Ye){return ze.length>=Ye?ze:new Array(Ye-ze.length+1).join("0")+ze},R=[],N=C.substr(0,2),G=parseInt(N,16);R[0]=new String(Math.floor(G/40)),R[1]=new String(G%40);for(var oe=C.substr(2),_e=[],Le=0;Le<oe.length/2;Le++)_e.push(parseInt(oe.substr(2*Le,2),16));var xe=[],Pe="";for(Le=0;Le<_e.length;Le++)128&_e[Le]?Pe+=T((127&_e[Le]).toString(2),7):(Pe+=T((127&_e[Le]).toString(2),7),xe.push(new String(parseInt(Pe,2))),Pe="");var Me=R.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(C,T,R,N){var G=ke,oe=G.getV,_e=G.dump,Le=G.getChildIdx,xe=C;C instanceof V.asn1.ASN1Object&&(xe=C.getEncodedHex());var Pe=function(Ct,gn){return Ct.length<=2*gn?Ct:Ct.substr(0,gn)+"..(total "+Ct.length/2+"bytes).."+Ct.substr(Ct.length-gn,gn)};T===void 0&&(T={ommit_long_octet:32}),R===void 0&&(R=0),N===void 0&&(N="");var Me,$e=T.ommit_long_octet;if((Me=xe.substr(R,2))=="01")return(ze=oe(xe,R))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Pe(ze=oe(xe,R),$e)+`
`;if(Me=="03"){var ze=oe(xe,R);if(G.isASN1HEX(ze.substr(2))){var Ye=N+`BITSTRING, encapsulates
`;return Ye+=_e(ze.substr(2),T,0,N+"  ")}return N+"BITSTRING "+Pe(ze,$e)+`
`}if(Me=="04")return ze=oe(xe,R),G.isASN1HEX(ze)?(Ye=N+`OCTETSTRING, encapsulates
`,Ye+=_e(ze,T,0,N+"  ")):N+"OCTETSTRING "+Pe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var st=oe(xe,R),dt=V.asn1.ASN1Util.oidHexToInt(st),ut=V.asn1.x509.OID.oid2name(dt),we=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+we+`)
`:N+"ObjectIdentifier ("+we+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(oe(xe,R))+`
`;if(Me=="0c")return N+"UTF8String '"+un(oe(xe,R))+`'
`;if(Me=="13")return N+"PrintableString '"+un(oe(xe,R))+`'
`;if(Me=="14")return N+"TeletexString '"+un(oe(xe,R))+`'
`;if(Me=="16")return N+"IA5String '"+un(oe(xe,R))+`'
`;if(Me=="17")return N+"UTCTime "+un(oe(xe,R))+`
`;if(Me=="18")return N+"GeneralizedTime "+un(oe(xe,R))+`
`;if(Me=="1a")return N+"VisualString '"+un(oe(xe,R))+`'
`;if(Me=="1e")return N+"BMPString '"+it(oe(xe,R))+`'
`;if(Me=="30"){if(xe.substr(R,4)=="3000")return N+`SEQUENCE {}
`;Ye=N+`SEQUENCE
`;var De=T;if(((lt=Le(xe,R)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=G.oidname(oe(xe,lt[0]));var Ue=JSON.parse(JSON.stringify(T));Ue.x509ExtName=ut,De=Ue}for(var Ke=0;Ke<lt.length;Ke++)Ye+=_e(xe,De,lt[Ke],N+"  ");return Ye}if(Me=="31"){Ye=N+`SET
`;var lt=Le(xe,R);for(Ke=0;Ke<lt.length;Ke++)Ye+=_e(xe,T,lt[Ke],N+"  ");return Ye}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Ye=N+"["+mt+`]
`,lt=Le(xe,R),Ke=0;Ke<lt.length;Ke++)Ye+=_e(xe,T,lt[Ke],N+"  ");return Ye}if(ze=oe(xe,R),ke.isASN1HEX(ze)){var Ye=N+"["+mt+`]
`;return Ye+=_e(ze,T,0,N+"  ")}return(ze.substr(0,8)=="68747470"||T.x509ExtName==="subjectAltName"&&mt==2)&&(ze=un(ze)),Ye=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+oe(xe,R)+`
`},ke.isContextTag=function(C,T){var R,N;C=C.toLowerCase();try{R=parseInt(C,16)}catch{return-1}if(T===void 0)return(192&R)==128;try{return T.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(T.substr(1,T.length-1),10))>31)&&(192&R)==128&&(31&R)==N}catch{return!1}},ke.isASN1HEX=function(C){var T=ke;if(C.length%2==1)return!1;var R=T.getVblen(C,0),N=C.substr(0,2),G=T.getL(C,0);return C.length-N.length-G.length==2*R},ke.checkStrictDER=function(C,T,R,N,G){var oe=ke;if(R===void 0){if(typeof C!="string")throw new Error("not hex string");if(C=C.toLowerCase(),!V.lang.String.isHex(C))throw new Error("not hex string");R=C.length,G=(N=C.length/2)<128?1:Math.ceil(N.toString(16))+1}if(oe.getL(C,T).length>2*G)throw new Error("L of TLV too long: idx="+T);var _e=oe.getVblen(C,T);if(_e>N)throw new Error("value of L too long than hex: idx="+T);var Le=oe.getTLV(C,T),xe=Le.length-2-oe.getL(C,T).length;if(xe!==2*_e)throw new Error("V string length and L's value not the same:"+xe+"/"+2*_e);if(T===0&&C.length!=Le.length)throw new Error("total length and TLV length unmatch:"+C.length+"!="+Le.length);var Pe=C.substr(T,2);if(Pe==="02"){var Me=oe.getVidx(C,T);if(C.substr(Me,2)=="00"&&C.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Pe,16)){for(var $e=oe.getVblen(C,T),ze=0,Ye=oe.getChildIdx(C,T),st=0;st<Ye.length;st++)ze+=oe.getTLV(C,Ye[st]).length,oe.checkStrictDER(C,Ye[st],R,N,G);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(C){var T=V.asn1;V.lang.String.isHex(C)&&(C=T.ASN1Util.oidHexToInt(C));var R=T.x509.OID.oid2name(C);return R===""&&(R=C),R},V!==void 0&&V||(r.KJUR=V={}),V.lang!==void 0&&V.lang||(V.lang={}),V.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(T){return zt(a.from(T,"utf8").toString("base64"))},r.b64utoutf8=Ze=function(T){return a.from(Cr(T),"base64").toString("utf8")}):(r.utf8tob64u=je=function(T){return dn(Jn(Tt(T)))},r.b64utoutf8=Ze=function(T){return decodeURIComponent(We(hn(T)))}),V.lang.String.isInteger=function(C){return!!C.match(/^[0-9]+$/)||!!C.match(/^-[0-9]+$/)},V.lang.String.isHex=function(C){return Dt(C)},V.lang.String.isBase64=function(C){return!(!(C=C.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||C.length%4!=0)},V.lang.String.isBase64URL=function(C){return!C.match(/[+/=]/)&&(C=Cr(C),V.lang.String.isBase64(C))},V.lang.String.isIntegerArray=function(C){return!!(C=C.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},V.lang.String.isPrintable=function(C){return C.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},V.lang.String.isIA5=function(C){return C.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},V.lang.String.isMail=function(C){return C.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Xt=function(T,R,N){return N==null&&(N="0"),T.length>=R?T:new Array(R-T.length+1).join(N)+T};function Ht(C,T){var R=function(){};R.prototype=T.prototype,C.prototype=new R,C.prototype.constructor=C,C.superclass=T.prototype,T.prototype.constructor==Object.prototype.constructor&&(T.prototype.constructor=T)}V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:I.algo.MD5,sha1:I.algo.SHA1,sha224:I.algo.SHA224,sha256:I.algo.SHA256,sha384:I.algo.SHA384,sha512:I.algo.SHA512,ripemd160:I.algo.RIPEMD160},this.getDigestInfoHex=function(C,T){if(this.DIGESTINFOHEAD[T]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+T;return this.DIGESTINFOHEAD[T]+C},this.getPaddedDigestInfoHex=function(C,T,R){var N=this.getDigestInfoHex(C,T),G=R/4;if(N.length+22>G)throw"key is too short for SigAlg: keylen="+R+","+T;for(var oe="0001",_e="00"+N,Le="",xe=G-oe.length-_e.length,Pe=0;Pe<xe;Pe+=2)Le+="ff";return oe+Le+_e},this.hashString=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestString(C)},this.hashHex=function(C,T){return new V.crypto.MessageDigest({alg:T}).digestHex(C)},this.sha1=function(C){return this.hashString(C,"sha1")},this.sha256=function(C){return this.hashString(C,"sha256")},this.sha256Hex=function(C){return this.hashHex(C,"sha256")},this.sha512=function(C){return this.hashString(C,"sha512")},this.sha512Hex=function(C){return this.hashHex(C,"sha512")},this.isKey=function(C){return C instanceof Se||C instanceof V.crypto.DSA||C instanceof V.crypto.ECDSA}},V.crypto.Util.md5=function(C){return new V.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(C)},V.crypto.Util.ripemd160=function(C){return new V.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(C)},V.crypto.Util.SECURERANDOMGEN=new nt,V.crypto.Util.getRandomHexOfNbytes=function(C){var T=new Array(C);return V.crypto.Util.SECURERANDOMGEN.nextBytes(T),Nt(T)},V.crypto.Util.getRandomBigIntegerOfNbytes=function(C){return new U(V.crypto.Util.getRandomHexOfNbytes(C),16)},V.crypto.Util.getRandomHexOfNbits=function(C){var T=C%8,R=new Array((C-T)/8+1);return V.crypto.Util.SECURERANDOMGEN.nextBytes(R),R[0]=(255<<T&255^255)&R[0],Nt(R)},V.crypto.Util.getRandomBigIntegerOfNbits=function(C){return new U(V.crypto.Util.getRandomHexOfNbits(C),16)},V.crypto.Util.getRandomBigIntegerZeroToMax=function(C){for(var T=C.bitLength();;){var R=V.crypto.Util.getRandomBigIntegerOfNbits(T);if(C.compareTo(R)!=-1)return R}},V.crypto.Util.getRandomBigIntegerMinToMax=function(C,T){var R=C.compareTo(T);if(R==1)throw"biMin is greater than biMax";if(R==0)return C;var N=T.subtract(C);return V.crypto.Util.getRandomBigIntegerZeroToMax(N).add(C)},V.crypto.MessageDigest=function(C){this.setAlgAndProvider=function(T,R){if((T=V.crypto.MessageDigest.getCanonicalAlgName(T))!==null&&R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(T)!=-1&&R=="cryptojs"){try{this.md=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[T].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=I.enc.Hex.parse(N);this.md.update(G)},this.digest=function(){return this.md.finalize().toString(I.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(T)!=-1&&R=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+T+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var G=sjcl.codec.hex.toBits(N);this.md.update(G)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},C!==void 0&&C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},V.crypto.MessageDigest.getCanonicalAlgName=function(C){return typeof C=="string"&&(C=(C=C.toLowerCase()).replace(/-/,"")),C},V.crypto.MessageDigest.getHashLength=function(C){var T=V.crypto.MessageDigest,R=T.getCanonicalAlgName(C);if(T.HASHLENGTH[R]===void 0)throw"not supported algorithm: "+C;return T.HASHLENGTH[R]},V.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},V.crypto.Mac=function(C){this.setAlgAndProvider=function(T,R){if((T=T.toLowerCase())==null&&(T="hmacsha1"),(T=T.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+T;R===void 0&&(R=V.crypto.Util.DEFAULTPROVIDER[T]),this.algProv=T+"/"+R;var N=T.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&R=="cryptojs"){try{var G=V.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=I.algo.HMAC.create(G,this.pass)}catch(oe){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+oe}this.updateString=function(oe){this.mac.update(oe)},this.updateHex=function(oe){var _e=I.enc.Hex.parse(oe);this.mac.update(_e)},this.doFinal=function(){return this.mac.finalize().toString(I.enc.Hex)},this.doFinalString=function(oe){return this.updateString(oe),this.doFinal()},this.doFinalHex=function(oe){return this.updateHex(oe),this.doFinal()}}},this.updateString=function(T){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(T){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(T){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(T){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(T){if(typeof T=="string"){var R=T;return T.length%2!=1&&T.match(/^[0-9A-Fa-f]+$/)||(R=Ln(T)),void(this.pass=I.enc.Hex.parse(R))}if((T===void 0?"undefined":b(T))!="object")throw"KJUR.crypto.Mac unsupported password type: "+T;if(R=null,T.hex!==void 0){if(T.hex.length%2!=0||!T.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+T.hex;R=T.hex}if(T.utf8!==void 0&&(R=gr(T.utf8)),T.rstr!==void 0&&(R=Ln(T.rstr)),T.b64!==void 0&&(R=Z(T.b64)),T.b64u!==void 0&&(R=hn(T.b64u)),R==null)throw"KJUR.crypto.Mac unsupported password type: "+T;this.pass=I.enc.Hex.parse(R)},C!==void 0&&(C.pass!==void 0&&this.setPassword(C.pass),C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0&&(this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},V.crypto.Signature=function(C){var T=null;if(this._setAlgNames=function(){var R=this.algName.match(/^(.+)with(.+)$/);R&&(this.mdAlgName=R[1].toLowerCase(),this.pubkeyAlgName=R[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(R,N){for(var G="",oe=N/4-R.length,_e=0;_e<oe;_e++)G+="0";return G+R},this.setAlgAndProvider=function(R,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new V.crypto.MessageDigest({alg:this.mdAlgName})}catch(G){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+G)}this.init=function(G,oe){var _e=null;try{_e=oe===void 0?jt.getKey(G):jt.getKey(G,oe)}catch(Le){throw"init failed:"+Le}if(_e.isPrivate===!0)this.prvKey=_e,this.state="SIGN";else{if(_e.isPublic!==!0)throw"init failed.:"+_e;this.pubKey=_e,this.state="VERIFY"}},this.updateString=function(G){this.md.updateString(G)},this.updateHex=function(G){this.md.updateHex(G)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.prvKey=new V.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof V.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof V.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(G){return this.updateString(G),this.sign()},this.signHex=function(G){return this.updateHex(G),this.sign()},this.verify=function(G){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&V.crypto.ECDSA!==void 0&&(this.pubKey=new V.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,G,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.ECDSA!==void 0&&this.pubKey instanceof V.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);if(V.crypto.DSA!==void 0&&this.pubKey instanceof V.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,G);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(R,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(R){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(R){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(R){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(R){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(R){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=C,C!==void 0&&(C.alg!==void 0&&(this.algName=C.alg,C.prov===void 0?this.provName=V.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=C.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),C.psssaltlen!==void 0&&(this.pssSaltLen=C.psssaltlen),C.prvkeypem!==void 0)){if(C.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{T=jt.getKey(C.prvkeypem),this.init(T)}catch(R){throw"fatal error to load pem private key: "+R}}},V.crypto.Cipher=function(C){},V.crypto.Cipher.encrypt=function(C,T,R){if(T instanceof Se&&T.isPublic){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.encrypt(C);if(N==="RSAOAEP")return T.encryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.encryptOAEP(C,"sha"+G[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.encrypt: unsupported key or algorithm"},V.crypto.Cipher.decrypt=function(C,T,R){if(T instanceof Se&&T.isPrivate){var N=V.crypto.Cipher.getAlgByKeyAndName(T,R);if(N==="RSA")return T.decrypt(C);if(N==="RSAOAEP")return T.decryptOAEP(C,"sha1");var G=N.match(/^RSAOAEP(\d+)$/);if(G!==null)return T.decryptOAEP(C,"sha"+G[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+R}throw"Cipher.decrypt: unsupported key or algorithm"},V.crypto.Cipher.getAlgByKeyAndName=function(C,T){if(C instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(T)!=-1)return T;if(T==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+T}throw"getAlgByKeyAndName: not supported algorithm name: "+T},V.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECDSA=function(C){var T=Error,R=U,N=ee,G=V.crypto.ECDSA,oe=V.crypto.ECParameterDB,_e=G.getName,Le=ke,xe=Le.getVbyListEx,Pe=Le.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new R($e.bitLength(),Me).mod($e.subtract(R.ONE)).add(R.ONE)},this.setNamedCurve=function($e){this.ecparams=oe.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Ye={};return Ye.x=$e.substr(2,ze),Ye.y=$e.substr(2+ze),Ye},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Ye=this.ecparams.G.multiply(ze),st=Ye.getX().toBigInteger(),dt=Ye.getY().toBigInteger(),ut=this.ecparams.keylen/4,we=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+st.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(we),this.setPublicKeyHex(De),{ecprvhex:we,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Ye=new R(ze,16),st=this.ecparams.n,dt=new R($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(st),we=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(st);while(we.compareTo(R.ZERO)<=0);var De=ut.modInverse(st).multiply(dt.add(Ye.multiply(we))).mod(st);return G.biRSSigToASN1Sig(we,De)},this.sign=function($e,ze){var Ye=ze,st=this.ecparams.n,dt=R.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(st),we=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(st);while(we.compareTo(U.ZERO)<=0);var De=ut.modInverse(st).multiply(dt.add(Ye.multiply(we))).mod(st);return this.serializeSig(we,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Ye){try{var st,dt,ut=G.parseSigHex(ze);st=ut.r,dt=ut.s;var we=N.decodeFromHex(this.ecparams.curve,Ye),De=new R($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,st,dt,we)}catch{return!1}},this.verify=function($e,ze,Ye){var st,dt,ut;if(Bitcoin.Util.isArray(ze)){var we=this.parseSig(ze);st=we.r,dt=we.s}else{if((ze===void 0?"undefined":b(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";st=ze.r,dt=ze.s}if(Ye instanceof ee)ut=Ye;else{if(!Bitcoin.Util.isArray(Ye))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Ye)}var De=R.fromByteArrayUnsigned($e);return this.verifyRaw(De,st,dt,ut)},this.verifyRaw=function($e,ze,Ye,st){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(R.ONE)<0||ze.compareTo(dt)>=0||Ye.compareTo(R.ONE)<0||Ye.compareTo(dt)>=0)return!1;var we=Ye.modInverse(dt),De=$e.multiply(we).mod(dt),Ue=ze.multiply(we).mod(dt);return ut.multiply(De).add(st.multiply(Ue)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Ye=$e.toByteArraySigned(),st=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Ye.length),(dt=dt.concat(Ye)).push(2),dt.push(st.length),(dt=dt.concat(st)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ye=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var st=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:R.fromByteArrayUnsigned(Ye),s:R.fromByteArrayUnsigned(st)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Ye=this.ecparams.n;return{r:R.fromByteArrayUnsigned($e.slice(1,33)).mod(Ye),s:R.fromByteArrayUnsigned($e.slice(33,65)).mod(Ye),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Pe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Ye,st;try{ze=xe($e,0,["[0]",0],"06"),Ye=xe($e,0,[1],"04");try{st=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=_e(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye,st;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Ye=xe($e,0,[2,0,1],"04");try{st=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new T("malformed PKCS#8 plain ECC private key")}if(this.curveName=_e(ze),this.curveName===void 0)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var ze,Ye;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Ye=xe($e,0,[1],"03")}catch{throw new T("malformed PKCS#8 ECC public key")}if(this.curveName=_e(ze),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ye)},this.readCertPubKeyHex=function($e,ze){if(Pe($e)===!1)throw new T("not ASN.1 hex string");var Ye,st;try{Ye=xe($e,0,[0,5,0,1],"06"),st=xe($e,0,[0,5,1],"03")}catch{throw new T("malformed X.509 certificate ECC public key")}if(this.curveName=_e(Ye),this.curveName===null)throw new T("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(st)},C!==void 0&&C.curve!==void 0&&(this.curveName=C.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),C!==void 0&&(C.prv!==void 0&&this.setPrivateKeyHex(C.prv),C.pub!==void 0&&this.setPublicKeyHex(C.pub))},V.crypto.ECDSA.parseSigHex=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C);return{r:new U(T.r,16),s:new U(T.s,16)}},V.crypto.ECDSA.parseSigHexInHexRS=function(C){var T=ke,R=T.getChildIdx,N=T.getV;if(T.checkStrictDER(C,0),C.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var G=R(C,0);if(G.length!=2)throw new Error("signature shall have two elements");var oe=G[0],_e=G[1];if(C.substr(oe,2)!="02")throw new Error("1st item not ASN.1 integer");if(C.substr(_e,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(C,oe),s:N(C,_e)}},V.crypto.ECDSA.asn1SigToConcatSig=function(C){var T=V.crypto.ECDSA.parseSigHexInHexRS(C),R=T.r,N=T.s;if(R.substr(0,2)=="00"&&R.length%32==2&&(R=R.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),R.length%32==30&&(R="00"+R),N.length%32==30&&(N="00"+N),R.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return R+N},V.crypto.ECDSA.concatSigToASN1Sig=function(C){if(C.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var T=C.substr(0,C.length/2),R=C.substr(C.length/2);return V.crypto.ECDSA.hexRSSigToASN1Sig(T,R)},V.crypto.ECDSA.hexRSSigToASN1Sig=function(C,T){var R=new U(C,16),N=new U(T,16);return V.crypto.ECDSA.biRSSigToASN1Sig(R,N)},V.crypto.ECDSA.biRSSigToASN1Sig=function(C,T){var R=V.asn1,N=new R.DERInteger({bigint:C}),G=new R.DERInteger({bigint:T});return new R.DERSequence({array:[N,G]}).getEncodedHex()},V.crypto.ECDSA.getName=function(C){return C==="2b8104001f"?"secp192k1":C==="2a8648ce3d030107"?"secp256r1":C==="2b8104000a"?"secp256k1":C==="2b81040021"?"secp224r1":C==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(C)!==-1?"secp256r1":"|secp256k1|".indexOf(C)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(C)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(C)!==-1?"secp384r1":null},V!==void 0&&V||(r.KJUR=V={}),V.crypto!==void 0&&V.crypto||(V.crypto={}),V.crypto.ECParameterDB=new function(){var C={},T={};function R(N){return new U(N,16)}this.getByName=function(N){var G=N;if(T[G]!==void 0&&(G=T[N]),C[G]!==void 0)return C[G];throw"unregistered EC curve name: "+G},this.regist=function(N,G,oe,_e,Le,xe,Pe,Me,$e,ze,Ye,st){C[N]={};var dt=R(oe),ut=R(_e),we=R(Le),De=R(xe),Ue=R(Pe),Ke=new q(dt,ut,we),lt=Ke.decodePointHex("04"+Me+$e);C[N].name=N,C[N].keylen=G,C[N].curve=Ke,C[N].G=lt,C[N].n=De,C[N].h=Ue,C[N].oid=Ye,C[N].info=st;for(var mt=0;mt<ze.length;mt++)T[ze[mt]]=N}},V.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),V.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),V.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),V.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),V.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),V.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),V.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),V.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),V.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var jt=function(){var C=function(Pe,Me,$e){return T(I.AES,Pe,Me,$e)},T=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),st=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut={};ut.key=st,ut.iv=dt,ut.ciphertext=Ye;var we=Pe.decrypt(ut,st,{iv:dt});return I.enc.Hex.stringify(we)},R=function(Pe,Me,$e){return N(I.AES,Pe,Me,$e)},N=function(Pe,Me,$e,ze){var Ye=I.enc.Hex.parse(Me),st=I.enc.Hex.parse($e),dt=I.enc.Hex.parse(ze),ut=Pe.encrypt(Ye,st,{iv:dt}),we=I.enc.Hex.parse(ut.toString());return I.enc.Base64.stringify(we)},G={"AES-256-CBC":{proc:C,eproc:R,keylen:32,ivlen:16},"AES-192-CBC":{proc:C,eproc:R,keylen:24,ivlen:16},"AES-128-CBC":{proc:C,eproc:R,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Pe,Me,$e){return T(I.TripleDES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.TripleDES,Pe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Pe,Me,$e){return T(I.DES,Pe,Me,$e)},eproc:function(Pe,Me,$e){return N(I.DES,Pe,Me,$e)},keylen:8,ivlen:8}},oe=function(Pe){var Me={},$e=Pe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Pe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Ye=-1,st=0;Pe.indexOf(`\r
\r
`)!=-1&&(Ye=Pe.indexOf(`\r
\r
`),st=2),Pe.indexOf(`

`)!=-1&&(Ye=Pe.indexOf(`

`),st=1);var dt=Pe.indexOf("-----END");if(Ye!=-1&&dt!=-1){var ut=Pe.substring(Ye+2*st,dt-st);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},_e=function(Pe,Me,$e){for(var ze=$e.substring(0,16),Ye=I.enc.Hex.parse(ze),st=I.enc.Utf8.parse(Me),dt=G[Pe].keylen+G[Pe].ivlen,ut="",we=null;;){var De=I.algo.MD5.create();if(we!=null&&De.update(we),De.update(st),De.update(Ye),we=De.finalize(),(ut+=I.enc.Hex.stringify(we)).length>=2*dt)break}var Ue={};return Ue.keyhex=ut.substr(0,2*G[Pe].keylen),Ue.ivhex=ut.substr(2*G[Pe].keylen,2*G[Pe].ivlen),Ue},Le=function(Pe,Me,$e,ze){var Ye=I.enc.Base64.parse(Pe),st=I.enc.Hex.stringify(Ye);return(0,G[Me].proc)(st,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Pe){return oe(Pe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Pe,Me,$e){return _e(Pe,Me,$e)},decryptKeyB64:function(Pe,Me,$e,ze){return Le(Pe,Me,$e,ze)},getDecryptedKeyHex:function(Pe,Me){var $e=oe(Pe),ze=$e.cipher,Ye=$e.ivsalt,st=$e.data,dt=_e(ze,Me,Ye).keyhex;return Le(st,ze,dt,Ye)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Pe,Me,$e,ze,Ye){var st="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),G[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Ye!==void 0&&Ye!=null||(Ye=function(we){var De=I.lib.WordArray.random(we);return I.enc.Hex.stringify(De)}(G[ze].ivlen).toUpperCase());var dt=function(we,De,Ue,Ke){return(0,G[De].eproc)(we,Ue,Ke)}(Me,ze,_e(ze,$e,Ye).keyhex,Ye);return st="-----BEGIN "+Pe+` PRIVATE KEY-----\r
`,st+=`Proc-Type: 4,ENCRYPTED\r
`,st+="DEK-Info: "+ze+","+Ye+`\r
`,st+=`\r
`,st+=dt.replace(/(.{64})/g,`$1\r
`),st+=`\r
-----END `+Pe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={},st=$e(Pe,0);if(st.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+st.length);Ye.ciphertext=ze(Pe,st[1]);var dt=$e(Pe,st[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Pe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Pe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var we=$e(Pe,ut[1]);if(we.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+we.length);if(ze(Pe,we[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ye.encryptionSchemeAlg="TripleDES",Ye.encryptionSchemeIV=ze(Pe,we[1]);var De=$e(Pe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Pe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Ue=$e(Pe,De[1]);if(Ue.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Ue.length);Ye.pbkdf2Salt=ze(Pe,Ue[0]);var Ke=ze(Pe,Ue[1]);try{Ye.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Ye},getPBKDF2KeyHexFromParam:function(Pe,Me){var $e=I.enc.Hex.parse(Pe.pbkdf2Salt),ze=Pe.pbkdf2Iter,Ye=I.PBKDF2(Me,$e,{keySize:6,iterations:ze});return I.enc.Hex.stringify(Ye)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Pe,Me){var $e=Et(Pe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Ye=jt.getPBKDF2KeyHexFromParam(ze,Me),st={};st.ciphertext=I.enc.Hex.parse(ze.ciphertext);var dt=I.enc.Hex.parse(Ye),ut=I.enc.Hex.parse(ze.encryptionSchemeIV),we=I.TripleDES.decrypt(st,dt,{iv:ut});return I.enc.Hex.stringify(we)},getKeyFromEncryptedPKCS8PEM:function(Pe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Pe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null};if(Pe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var st=$e(Pe,0);if(st.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Pe.substr(st[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Pe,st[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Pe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ye.algoid=ze(Pe,dt[0]),Pe.substr(dt[1],2)=="06"&&(Ye.algparam=ze(Pe,dt[1])),Pe.substr(st[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ye.keyidx=Me.getVidx(Pe,st[2]),Ye},getKeyFromPlainPrivatePKCS8PEM:function(Pe){var Me=Et(Pe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Pe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Pe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new V.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new V.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Pe),Me},_getKeyFromPublicPKCS8Hex:function(Pe){var Me,$e=ke.getVbyList(Pe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new V.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new V.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Pe),Me},parsePublicRawRSAKeyHex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={};if(Pe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var st=$e(Pe,0);if(st.length!=2)throw new Error("malformed RSA key(code:002)");if(Pe.substr(st[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ye.n=ze(Pe,st[0]),Pe.substr(st[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ye.e=ze(Pe,st[1]),Ye},parsePublicPKCS8Hex:function(Pe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null},st=$e(Pe,0);if(st.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+st.length);var dt=st[0];if(Pe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Pe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Pe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ye.algoid=ze(Pe,ut[0]),Pe.substr(ut[1],2)=="06"?Ye.algparam=ze(Pe,ut[1]):Pe.substr(ut[1],2)=="30"&&(Ye.algparam={},Ye.algparam.p=Me.getVbyList(Pe,ut[1],[0],"02"),Ye.algparam.q=Me.getVbyList(Pe,ut[1],[1],"02"),Ye.algparam.g=Me.getVbyList(Pe,ut[1],[2],"02")),Pe.substr(st[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ye.key=ze(Pe,st[1]).substr(2),Ye}}}();jt.getKey=function(C,T,R){var N=(ut=ke).getChildIdx,G=(ut.getV,ut.getVbyList),oe=V.crypto,_e=oe.ECDSA,Le=oe.DSA,xe=Se,Pe=Et,Me=jt;if(xe!==void 0&&C instanceof xe||_e!==void 0&&C instanceof _e||Le!==void 0&&C instanceof Le)return C;if(C.curve!==void 0&&C.xy!==void 0&&C.d===void 0)return new _e({pub:C.xy,curve:C.curve});if(C.curve!==void 0&&C.d!==void 0)return new _e({prv:C.d,curve:C.curve});if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(Vt=new xe).setPublic(C.n,C.e),Vt;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.co!==void 0&&C.qi===void 0)return(Vt=new xe).setPrivateEx(C.n,C.e,C.d,C.p,C.q,C.dp,C.dq,C.co),Vt;if(C.kty===void 0&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p===void 0)return(Vt=new xe).setPrivate(C.n,C.e,C.d),Vt;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x===void 0)return(Vt=new Le).setPublic(C.p,C.q,C.g,C.y),Vt;if(C.p!==void 0&&C.q!==void 0&&C.g!==void 0&&C.y!==void 0&&C.x!==void 0)return(Vt=new Le).setPrivate(C.p,C.q,C.g,C.y,C.x),Vt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d===void 0)return(Vt=new xe).setPublic(hn(C.n),hn(C.e)),Vt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0&&C.p!==void 0&&C.q!==void 0&&C.dp!==void 0&&C.dq!==void 0&&C.qi!==void 0)return(Vt=new xe).setPrivateEx(hn(C.n),hn(C.e),hn(C.d),hn(C.p),hn(C.q),hn(C.dp),hn(C.dq),hn(C.qi)),Vt;if(C.kty==="RSA"&&C.n!==void 0&&C.e!==void 0&&C.d!==void 0)return(Vt=new xe).setPrivate(hn(C.n),hn(C.e),hn(C.d)),Vt;if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d===void 0){var $e=(Ft=new _e({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(C.x)).slice(-$e)+("0000000000"+hn(C.y)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft}if(C.kty==="EC"&&C.crv!==void 0&&C.x!==void 0&&C.y!==void 0&&C.d!==void 0){$e=(Ft=new _e({curve:C.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(C.x)).slice(-$e)+("0000000000"+hn(C.y)).slice(-$e);var Ye=("0000000000"+hn(C.d)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft.setPrivateKeyHex(Ye),Ft}if(R==="pkcs5prv"){var st,dt=C,ut=ke;if((st=N(dt,0)).length===9)(Vt=new xe).readPKCS5PrvKeyHex(dt);else if(st.length===6)(Vt=new Le).readPKCS5PrvKeyHex(dt);else{if(!(st.length>2&&dt.substr(st[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Vt=new _e).readPKCS5PrvKeyHex(dt)}return Vt}if(R==="pkcs8prv")return Vt=Me.getKeyFromPlainPrivatePKCS8Hex(C);if(R==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(C);if(R==="x509pub")return Zt.getPublicKeyFromCertHex(C);if(C.indexOf("-END CERTIFICATE-",0)!=-1||C.indexOf("-END X509 CERTIFICATE-",0)!=-1||C.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Zt.getPublicKeyFromCertPEM(C);if(C.indexOf("-END PUBLIC KEY-")!=-1){var we=Et(C,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(we)}if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var De=Pe(C,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1){var Ue=G(Un=Pe(C,"DSA PRIVATE KEY"),0,[1],"02"),Ke=G(Un,0,[2],"02"),lt=G(Un,0,[3],"02"),mt=G(Un,0,[4],"02"),$t=G(Un,0,[5],"02");return(Vt=new Le).setPrivate(new U(Ue,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")==-1)return De=Pe(C,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(C.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(C);if(C.indexOf("-END RSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Ct=Me.getDecryptedKeyHex(C,T),gn=new Se;return gn.readPKCS5PrvKeyHex(Ct),gn}if(C.indexOf("-END EC PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Ft,Vt=G(Un=Me.getDecryptedKeyHex(C,T),0,[1],"04"),zn=G(Un,0,[2,0],"06"),Nn=G(Un,0,[3,0],"03").substr(2);if(V.crypto.OID.oidhex2name[zn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+zn);return(Ft=new _e({curve:V.crypto.OID.oidhex2name[zn]})).setPublicKeyHex(Nn),Ft.setPrivateKeyHex(Vt),Ft.isPublic=!1,Ft}if(C.indexOf("-END DSA PRIVATE KEY-")!=-1&&C.indexOf("4,ENCRYPTED")!=-1){var Un;return Ue=G(Un=Me.getDecryptedKeyHex(C,T),0,[1],"02"),Ke=G(Un,0,[2],"02"),lt=G(Un,0,[3],"02"),mt=G(Un,0,[4],"02"),$t=G(Un,0,[5],"02"),(Vt=new Le).setPrivate(new U(Ue,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(C.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(C,T);throw new Error("not supported argument")},jt.generateKeypair=function(C,T){if(C=="RSA"){var R=T;(_e=new Se).generate(R,"10001"),_e.isPrivate=!0,_e.isPublic=!0;var N=new Se,G=_e.n.toString(16),oe=_e.e.toString(16);return N.setPublic(G,oe),N.isPrivate=!1,N.isPublic=!0,(Le={}).prvKeyObj=_e,Le.pubKeyObj=N,Le}if(C=="EC"){var _e,Le,xe=T,Pe=new V.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(_e=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),_e.setPrivateKeyHex(Pe.ecprvhex),_e.isPrivate=!0,_e.isPublic=!1,(N=new V.crypto.ECDSA({curve:xe})).setPublicKeyHex(Pe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Le={}).prvKeyObj=_e,Le.pubKeyObj=N,Le}throw new Error("unknown algorithm: "+C)},jt.getPEM=function(C,T,R,N,G,oe){var _e=V,Le=_e.asn1,xe=Le.DERObjectIdentifier,Pe=Le.DERInteger,Me=Le.ASN1Util.newObject,$e=Le.x509.SubjectPublicKeyInfo,ze=_e.crypto,Ye=ze.DSA,st=ze.ECDSA,dt=Se;function ut(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.n}},{int:Ft.e},{int:{bigint:Ft.d}},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.dmp1}},{int:{bigint:Ft.dmq1}},{int:{bigint:Ft.coeff}}]})}function we(Ft){return Me({seq:[{int:1},{octstr:{hex:Ft.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ft.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ft.pubKeyHex}}]}]})}function De(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.g}},{int:{bigint:Ft.y}},{int:{bigint:Ft.x}}]})}if((dt!==void 0&&C instanceof dt||Ye!==void 0&&C instanceof Ye||st!==void 0&&C instanceof st)&&C.isPublic==1&&(T===void 0||T=="PKCS8PUB"))return bt(mt=new $e(C).getEncodedHex(),"PUBLIC KEY");if(T=="PKCS1PRV"&&dt!==void 0&&C instanceof dt&&(R===void 0||R==null)&&C.isPrivate==1)return bt(mt=ut(C).getEncodedHex(),"RSA PRIVATE KEY");if(T=="PKCS1PRV"&&st!==void 0&&C instanceof st&&(R===void 0||R==null)&&C.isPrivate==1){var Ue=new xe({name:C.curveName}).getEncodedHex(),Ke=we(C).getEncodedHex(),lt="";return lt+=bt(Ue,"EC PARAMETERS"),lt+=bt(Ke,"EC PRIVATE KEY")}if(T=="PKCS1PRV"&&Ye!==void 0&&C instanceof Ye&&(R===void 0||R==null)&&C.isPrivate==1)return bt(mt=De(C).getEncodedHex(),"DSA PRIVATE KEY");if(T=="PKCS5PRV"&&dt!==void 0&&C instanceof dt&&R!==void 0&&R!=null&&C.isPrivate==1){var mt=ut(C).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,R,N,oe)}if(T=="PKCS5PRV"&&st!==void 0&&C instanceof st&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=we(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,R,N,oe);if(T=="PKCS5PRV"&&Ye!==void 0&&C instanceof Ye&&R!==void 0&&R!=null&&C.isPrivate==1)return mt=De(C).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,R,N,oe);var $t=function(Vt,zn){var Nn=Ct(Vt,zn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Nn.pbkdf2Salt}},{int:Nn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Nn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Nn.ciphertext}}]}).getEncodedHex()},Ct=function(Vt,zn){var Nn=I.lib.WordArray.random(8),Un=I.lib.WordArray.random(8),Qt=I.PBKDF2(zn,Nn,{keySize:6,iterations:100}),Gn=I.enc.Hex.parse(Vt),pn=I.TripleDES.encrypt(Gn,Qt,{iv:Un})+"",Yn={};return Yn.ciphertext=pn,Yn.pbkdf2Salt=I.enc.Hex.stringify(Nn),Yn.pbkdf2Iter=100,Yn.encryptionSchemeAlg="DES-EDE3-CBC",Yn.encryptionSchemeIV=I.enc.Hex.stringify(Un),Yn};if(T=="PKCS8PRV"&&dt!=null&&C instanceof dt&&C.isPrivate==1){var gn=ut(C).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY")}if(T=="PKCS8PRV"&&st!==void 0&&C instanceof st&&C.isPrivate==1)return gn=new Me({seq:[{int:1},{octstr:{hex:C.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+C.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:C.curveName}}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY");if(T=="PKCS8PRV"&&Ye!==void 0&&C instanceof Ye&&C.isPrivate==1)return gn=new Pe({bigint:C.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:C.p}},{int:{bigint:C.q}},{int:{bigint:C.g}}]}]},{octstr:{hex:gn}}]}).getEncodedHex(),R===void 0||R==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,R),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},jt.getKeyFromCSRPEM=function(C){var T=Et(C,"CERTIFICATE REQUEST");return jt.getKeyFromCSRHex(T)},jt.getKeyFromCSRHex=function(C){var T=jt.parseCSRHex(C);return jt.getKey(T.p8pubkeyhex,null,"pkcs8pub")},jt.parseCSRHex=function(C){var T=ke,R=T.getChildIdx,N=T.getTLV,G={},oe=C;if(oe.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var _e=R(oe,0);if(_e.length<1)throw new Error("malformed CSR(code:002)");if(oe.substr(_e[0],2)!="30")throw new Error("malformed CSR(code:003)");var Le=R(oe,_e[0]);if(Le.length<3)throw new Error("malformed CSR(code:004)");return G.p8pubkeyhex=N(oe,Le[2]),G},jt.getKeyID=function(C){var T=jt,R=ke;typeof C=="string"&&C.indexOf("BEGIN ")!=-1&&(C=T.getKey(C));var N=Et(T.getPEM(C)),G=R.getIdxbyList(N,0,[1]),oe=R.getV(N,G).substring(2);return V.crypto.Util.hashHex(oe,"sha1")},jt.getJWKFromKey=function(C){var T={};if(C instanceof Se&&C.isPrivate)return T.kty="RSA",T.n=dn(C.n.toString(16)),T.e=dn(C.e.toString(16)),T.d=dn(C.d.toString(16)),T.p=dn(C.p.toString(16)),T.q=dn(C.q.toString(16)),T.dp=dn(C.dmp1.toString(16)),T.dq=dn(C.dmq1.toString(16)),T.qi=dn(C.coeff.toString(16)),T;if(C instanceof Se&&C.isPublic)return T.kty="RSA",T.n=dn(C.n.toString(16)),T.e=dn(C.e.toString(16)),T;if(C instanceof V.crypto.ECDSA&&C.isPrivate){if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var R=C.getPublicKeyXYHex();return T.kty="EC",T.crv=N,T.x=dn(R.x),T.y=dn(R.y),T.d=dn(C.prvKeyHex),T}if(C instanceof V.crypto.ECDSA&&C.isPublic){var N;if((N=C.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return R=C.getPublicKeyXYHex(),T.kty="EC",T.crv=N,T.x=dn(R.x),T.y=dn(R.y),T}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(C){return ke.getChildIdx(C,0)},Se.getHexValueArrayOfChildrenFromHex=function(C){var T,R=ke.getV,N=R(C,(T=Se.getPosArrayOfChildrenFromHex(C))[0]),G=R(C,T[1]),oe=R(C,T[2]),_e=R(C,T[3]),Le=R(C,T[4]),xe=R(C,T[5]),Pe=R(C,T[6]),Me=R(C,T[7]),$e=R(C,T[8]);return(T=new Array).push(N,G,oe,_e,Le,xe,Pe,Me,$e),T},Se.prototype.readPrivateKeyFromPEMString=function(C){var T=Et(C),R=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(R[1],R[2],R[3],R[4],R[5],R[6],R[7],R[8])},Se.prototype.readPKCS5PrvKeyHex=function(C){var T=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(T[1],T[2],T[3],T[4],T[5],T[6],T[7],T[8])},Se.prototype.readPKCS8PrvKeyHex=function(C){var T,R,N,G,oe,_e,Le,xe,Pe=ke,Me=Pe.getVbyListEx;if(Pe.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");try{T=Me(C,0,[2,0,1],"02"),R=Me(C,0,[2,0,2],"02"),N=Me(C,0,[2,0,3],"02"),G=Me(C,0,[2,0,4],"02"),oe=Me(C,0,[2,0,5],"02"),_e=Me(C,0,[2,0,6],"02"),Le=Me(C,0,[2,0,7],"02"),xe=Me(C,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(T,R,N,G,oe,_e,Le,xe)},Se.prototype.readPKCS5PubKeyHex=function(C){var T=ke,R=T.getV;if(T.isASN1HEX(C)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=T.getChildIdx(C,0);if(N.length!==2||C.substr(N[0],2)!=="02"||C.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var G=R(C,N[0]),oe=R(C,N[1]);this.setPublic(G,oe)},Se.prototype.readPKCS8PubKeyHex=function(C){var T=ke;if(T.isASN1HEX(C)===!1)throw new Error("not ASN.1 hex string");if(T.getTLVbyListEx(C,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var R=T.getTLVbyListEx(C,0,[1,0]);this.readPKCS5PubKeyHex(R)},Se.prototype.readCertPubKeyHex=function(C,T){var R,N;(R=new Zt).readCertHex(C),N=R.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function tn(C,T){for(var R="",N=T/4-C.length,G=0;G<N;G++)R+="0";return R+C}function Pn(C,T,R){for(var N="",G=0;N.length<T;)N+=ln(R(Ln(C+String.fromCharCode.apply(String,[(4278190080&G)>>24,(16711680&G)>>16,(65280&G)>>8,255&G])))),G+=1;return N}function Wt(C){for(var T in V.crypto.Util.DIGESTINFOHEAD){var R=V.crypto.Util.DIGESTINFOHEAD[T],N=R.length;if(C.substring(0,N)==R)return[T,C.substring(N)]}return[]}function Zt(C){var T,R=ke,N=R.getChildIdx,G=R.getV,oe=R.getTLV,_e=R.getVbyList,Le=R.getVbyListEx,xe=R.getTLVbyList,Pe=R.getTLVbyListEx,Me=R.getIdxbyList,$e=R.getIdxbyListEx,ze=R.getVidx,Ye=R.getInt,st=R.oidname,dt=R.hextooidstr,ut=Et;try{T=V.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var we=xe(this.hex,0,[0,0]);if(we.substr(0,2)=="a0"){var De=xe(we,0,[0]),Ue=Ye(De,0);if(Ue<0||2<Ue)throw new Error("malformed version field");return this.version=Ue+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Le(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var we=Pe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(we)},this.getAlgorithmIdentifierName=function(we){for(var De in T)if(we===T[De])return De;return st(Le(we,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var we=_e(this.hex,0,[0,4+this.foffset,0]);return we=we.replace(/(..)/g,"%$1"),we=decodeURIComponent(we)},this.getNotAfter=function(){var we=_e(this.hex,0,[0,4+this.foffset,1]);return we=we.replace(/(..)/g,"%$1"),we=decodeURIComponent(we)},this.getPublicKeyHex=function(){return R.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var we=this.getPublicKeyIdx();return Me(this.hex,we,[1,0],"30")},this.getPublicKey=function(){return jt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var we=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(we)},this.getSignatureValueHex=function(){return _e(this.hex,0,[2],"03",!0)},this.verifySignature=function(we){var De=this.getSignatureAlgorithmField(),Ue=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new V.crypto.Signature({alg:De});return lt.init(we),lt.updateHex(Ke),lt.verify(Ue)},this.parseExt=function(we){var De,Ue,Ke;if(we===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Ue=N(Ke,De)}else{Ke=Et(we);var lt=Me(Ke,0,[0,3,0,0],"06");if(G(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Ue=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Ue.length;mt++){var $t={critical:!1},Ct=0;N(Ke,Ue[mt]).length===3&&($t.critical=!0,Ct=1),$t.oid=R.hextooidstr(_e(Ke,Ue[mt],[0],"06"));var gn=Me(Ke,Ue[mt],[1+Ct]);$t.vidx=ze(Ke,gn),this.aExtInfo.push($t)}},this.getExtInfo=function(we){var De=this.aExtInfo,Ue=we;if(we.match(/^[0-9.]+$/)||(Ue=V.asn1.x509.OID.name2oid(we)),Ue!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Ue)return De[Ke]}},this.getExtBasicConstraints=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("basicConstraints");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),we==="3000")return Ke;if(we==="30030101ff")return Ke.cA=!0,Ke;if(we.substr(0,12)==="30060101ff02"){var lt=G(we,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+we)},this.getExtKeyUsage=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("keyUsage");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(we).split(","),Ke},this.getExtKeyUsageBin=function(we){if(we===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";we=oe(this.hex,De.vidx)}if(we.length!=8&&we.length!=10)throw new Error("malformed key usage value: "+we);var Ue="000000000000000"+parseInt(we.substr(6),16).toString(2);return we.length==8&&(Ue=Ue.slice(-8)),we.length==10&&(Ue=Ue.slice(-16)),(Ue=Ue.replace(/0+$/,""))==""&&(Ue="0"),Ue},this.getExtKeyUsageString=function(we){for(var De=this.getExtKeyUsageBin(we),Ue=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Ue.push(Zt.KEYUSAGE_NAME[Ke]);return Ue.join(",")},this.getExtSubjectKeyIdentifier=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("subjectKeyIdentifier");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=G(we,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("authorityKeyIdentifier");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var $t=we.substr(lt[mt],2);if($t==="80"&&(Ke.kid={hex:G(we,lt[mt])}),$t==="a1"){var Ct=oe(we,lt[mt]),gn=this.getGeneralNames(Ct);Ke.issuer=gn[0].dn}$t==="82"&&(Ke.sn={hex:G(we,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("extKeyUsage");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++)Ke.array.push(st(G(we,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var we=this.getExtInfo("extKeyUsage");if(we===void 0)return we;var De=new Array,Ue=oe(this.hex,we.vidx);if(Ue==="")return De;for(var Ke=N(Ue,0),lt=0;lt<Ke.length;lt++)De.push(st(G(Ue,Ke[lt])));return De},this.getExtSubjectAltName=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("subjectAltName");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(we),Ke},this.getExtIssuerAltName=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("issuerAltName");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(we),Ke},this.getGeneralNames=function(we){for(var De=N(we,0),Ue=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(oe(we,De[Ke]));lt!==void 0&&Ue.push(lt)}return Ue},this.getGeneralName=function(we){var De=we.substr(0,2),Ue=G(we,0),Ke=ln(Ue);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Ue)}:De=="a4"?{dn:this.getX500Name(Ue)}:void 0},this.getExtSubjectAltName2=function(){var we,De,Ue,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=oe(this.hex,Ke.vidx),$t=N(mt,0),Ct=0;Ct<$t.length;Ct++)Ue=mt.substr($t[Ct],2),we=G(mt,$t[Ct]),Ue==="81"&&(De=un(we),lt.push(["MAIL",De])),Ue==="82"&&(De=un(we),lt.push(["DNS",De])),Ue==="84"&&(De=Zt.hex2dn(we,0),lt.push(["DN",De])),Ue==="86"&&(De=un(we),lt.push(["URI",De])),Ue==="87"&&(De=ft(we),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("cRLDistributionPoints");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var $t=oe(we,lt[mt]);Ke.array.push(this.getDistributionPoint($t))}return Ke},this.getDistributionPoint=function(we){for(var De={},Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=we.substr(Ue[Ke],2),mt=oe(we,Ue[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(we){for(var De={},Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=we.substr(Ue[Ke],2),mt=oe(we,Ue[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var we=this.getExtInfo("cRLDistributionPoints");if(we===void 0)return we;for(var De=new Array,Ue=N(this.hex,we.vidx),Ke=0;Ke<Ue.length;Ke++)try{var lt=un(_e(this.hex,Ue[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var we=this.getExtInfo("authorityInfoAccess");if(we===void 0)return we;for(var De={ocsp:[],caissuer:[]},Ue=N(this.hex,we.vidx),Ke=0;Ke<Ue.length;Ke++){var lt=_e(this.hex,Ue[Ke],[0],"06"),mt=_e(this.hex,Ue[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(un(mt)),lt==="2b06010505073002"&&De.caissuer.push(un(mt))}return De},this.getExtAuthorityInfoAccess=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("authorityInfoAccess");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var $t=Le(we,lt[mt],[0],"06"),Ct=un(_e(we,lt[mt],[1],"86"));if($t=="2b06010505073001")Ke.array.push({ocsp:Ct});else{if($t!="2b06010505073002")throw new Error("unknown method: "+$t);Ke.array.push({caissuer:Ct})}}return Ke},this.getExtCertificatePolicies=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("certificatePolicies");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(we,0),mt=0;mt<lt.length;mt++){var $t=oe(we,lt[mt]),Ct=this.getPolicyInformation($t);Ke.array.push(Ct)}return Ke},this.getPolicyInformation=function(we){var De={},Ue=_e(we,0,[0],"06");De.policyoid=st(Ue);var Ke=$e(we,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(we,Ke),mt=0;mt<lt.length;mt++){var $t=oe(we,lt[mt]),Ct=this.getPolicyQualifierInfo($t);De.array.push(Ct)}}return De},this.getPolicyQualifierInfo=function(we){var De={},Ue=_e(we,0,[0],"06");if(Ue==="2b06010505070201"){var Ke=Le(we,0,[1],"16");De.cps=ln(Ke)}else if(Ue==="2b06010505070202"){var lt=xe(we,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(we){for(var De={},Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=oe(we,Ue[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(we){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[we.substr(0,2)],De.str=ln(G(we,0)),De},this.getExtCRLNumber=function(we,De){var Ue={extname:"cRLNumber"};if(De&&(Ue.critical=!0),we.substr(0,2)=="02")return Ue.num={hex:G(we,0)},Ue;throw new Error("hExtV parse error: "+we)},this.getExtCRLReason=function(we,De){var Ue={extname:"cRLReason"};if(De&&(Ue.critical=!0),we.substr(0,2)=="0a")return Ue.code=parseInt(G(we,0),16),Ue;throw new Error("hExtV parse error: "+we)},this.getExtOcspNonce=function(we,De){var Ue={extname:"ocspNonce"};De&&(Ue.critical=!0);var Ke=G(we,0);return Ue.hex=Ke,Ue},this.getExtOcspNoCheck=function(we,De){var Ue={extname:"ocspNoCheck"};return De&&(Ue.critical=!0),Ue},this.getExtAdobeTimeStamp=function(we,De){if(we===void 0&&De===void 0){var Ue=this.getExtInfo("adobeTimeStamp");if(Ue===void 0)return;we=oe(this.hex,Ue.vidx),De=Ue.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(we,0);if(lt.length>1){var mt=oe(we,lt[1]),$t=this.getGeneralName(mt);$t.uri!=null&&(Ke.uri=$t.uri)}if(lt.length>2){var Ct=oe(we,lt[2]);Ct=="0101ff"&&(Ke.reqauth=!0),Ct=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(we){for(var De=null,Ue=[],Ke=0;Ke<we.length;Ke++)for(var lt=we[Ke],mt=0;mt<lt.length;mt++)Ue.push(lt[mt]);for(Ke=0;Ke<Ue.length;Ke++){var $t=Ue[Ke],Ct=$t.ds,gn=$t.value,Ft=$t.type;if(Ct!="prn"&&Ct!="utf8"&&Ct!="ia5")return"mixed";if(Ct=="ia5"){if(Ft!="CN")return"mixed";if(V.lang.String.isMail(gn))continue;return"mixed"}if(Ft=="C"){if(Ct=="prn")continue;return"mixed"}if(De==null)De=Ct;else if(De!==Ct)return"mixed"}return De??"prn"},this.getX500Name=function(we){var De=this.getX500NameArray(we);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(we){for(var De=[],Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getRDN(oe(we,Ue[Ke])));return De},this.getRDN=function(we){for(var De=[],Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++)De.push(this.getAttrTypeAndValue(oe(we,Ue[Ke])));return De},this.getAttrTypeAndValue=function(we){var De={type:null,value:null,ds:null},Ue=N(we,0),Ke=_e(we,Ue[0],[],"06"),lt=_e(we,Ue[1],[]),mt=V.asn1.ASN1Util.oidHexToInt(Ke);return De.type=V.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[we.substr(Ue[1],2)],De.ds!="bmp"?De.value=un(lt):De.value=it(lt),De},this.readCertPEM=function(we){this.readCertHex(ut(we))},this.readCertHex=function(we){this.hex=we,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var we={};return we.version=this.getVersion(),we.serial={hex:this.getSerialNumberHex()},we.sigalg=this.getSignatureAlgorithmField(),we.issuer=this.getIssuer(),we.notbefore=this.getNotBefore(),we.notafter=this.getNotAfter(),we.subject=this.getSubject(),we.sbjpubkey=bt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(we.ext=this.getExtParamArray()),we.sighex=this.getSignatureValueHex(),we},this.getExtParamArray=function(we){we==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(we=Pe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Ue=N(we,0),Ke=0;Ke<Ue.length;Ke++){var lt=oe(we,Ue[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(we){var De=N(we,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+we);var Ue=dt(_e(we,0,[0],"06")),Ke=!1;De==3&&xe(we,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(we,0,[De-1,0]),mt=void 0;if(Ue=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Ue=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Ue=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Ue=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Ue=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Ue=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Ue=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Ue=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Ue=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Ue=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Ue=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Ue=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Ue=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Ue=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var $t={extname:Ue,extn:lt};return Ke&&($t.critical=!0),$t},this.findExt=function(we,De){for(var Ue=0;Ue<we.length;Ue++)if(we[Ue].extname==De)return we[Ue];return null},this.updateExtCDPFullURI=function(we,De){var Ue=this.findExt(we,"cRLDistributionPoints");if(Ue!=null&&Ue.array!=null){for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,$t=0;$t<mt.length;$t++){var Ct=mt[lt];Ct.uri!=null&&(Ct.uri=De)}}},this.updateExtAIAOCSP=function(we,De){var Ue=this.findExt(we,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(we,De){var Ue=this.findExt(we,"authorityInfoAccess");if(Ue!=null&&Ue.array!=null)for(var Ke=Ue.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(we){return"/"+we.map(function(De){return function(Ke){return Ke.map(function(lt){return function($t){return $t.type+"="+$t.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var we,De,Ue,Ke=function(Qt){return JSON.stringify(Qt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];if(Gn+="    policy oid: "+mr.policyoid+`
`,mr.array!==void 0)for(var yr=0;yr<mr.array.length;yr++){var lr=mr.array[yr];lr.cps!==void 0&&(Gn+="    cps: "+lr.cps+`
`)}}return Gn},mt=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];try{mr.dpname.full[0].uri!==void 0&&(Gn+="    "+mr.dpname.full[0].uri+`
`)}catch{}try{mr.dname.full[0].dn.hex!==void 0&&(Gn+="    "+Zt.hex2dn(mr.dpname.full[0].dn.hex)+`
`)}catch{}}return Gn},$t=function(Qt){for(var Gn="",pn=Qt.array,Yn=0;Yn<pn.length;Yn++){var mr=pn[Yn];mr.caissuer!==void 0&&(Gn+="    caissuer: "+mr.caissuer+`
`),mr.ocsp!==void 0&&(Gn+="    ocsp: "+mr.ocsp+`
`)}return Gn};if(we=`Basic Fields
`,we+="  serial number: "+this.getSerialNumberHex()+`
`,we+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,we+="  issuer: "+this.getIssuerString()+`
`,we+="  notBefore: "+this.getNotBefore()+`
`,we+="  notAfter: "+this.getNotAfter()+`
`,we+="  subject: "+this.getSubjectString()+`
`,we+=`  subject public key info: 
`,we+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(we+="    n="+Gt(De.n.toString(16)).substr(0,16)+`...
`,we+="    e="+Gt(De.e.toString(16))+`
`),(Ue=this.aExtInfo)!=null){we+=`X509v3 Extensions:
`;for(var Ct=0;Ct<Ue.length;Ct++){var gn=Ue[Ct],Ft=V.asn1.x509.OID.oid2name(gn.oid);Ft===""&&(Ft=gn.oid);var Vt="";if(gn.critical===!0&&(Vt="CRITICAL"),we+="  "+Ft+" "+Vt+`:
`,Ft==="basicConstraints"){var zn=this.getExtBasicConstraints();zn.cA===void 0?we+=`    {}
`:(we+="    cA=true",zn.pathLen!==void 0&&(we+=", pathLen="+zn.pathLen),we+=`
`)}else if(Ft==="keyUsage")we+="    "+this.getExtKeyUsageString()+`
`;else if(Ft==="subjectKeyIdentifier")we+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ft==="authorityKeyIdentifier"){var Nn=this.getExtAuthorityKeyIdentifier();Nn.kid!==void 0&&(we+="    kid="+Nn.kid.hex+`
`)}else Ft==="extKeyUsage"?we+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ft==="subjectAltName"?we+="    "+Ke(this.getExtSubjectAltName())+`
`:Ft==="cRLDistributionPoints"?we+=mt(this.getExtCRLDistributionPoints()):Ft==="authorityInfoAccess"?we+=$t(this.getExtAuthorityInfoAccess()):Ft==="certificatePolicies"&&(we+=lt(this.getExtCertificatePolicies()))}}return we+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,we+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof C=="string"&&(C.indexOf("-----BEGIN")!=-1?this.readCertPEM(C):V.lang.String.isHex(C)&&this.readCertHex(C))}Se.prototype.sign=function(C,T){var R=function(G){return V.crypto.Util.hashString(G,T)}(C);return this.signWithMessageHash(R,T)},Se.prototype.signWithMessageHash=function(C,T){var R=gt(V.crypto.Util.getPaddedDigestInfoHex(C,T,this.n.bitLength()),16);return tn(this.doPrivate(R).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(C,T,R){var N=function(oe){return V.crypto.Util.hashHex(oe,T)}(Ln(C));return R===void 0&&(R=-1),this.signWithMessageHashPSS(N,T,R)},Se.prototype.signWithMessageHashPSS=function(C,T,R){var N,G=ln(C),oe=G.length,_e=this.n.bitLength()-1,Le=Math.ceil(_e/8),xe=function(we){return V.crypto.Util.hashHex(we,T)};if(R===-1||R===void 0)R=oe;else if(R===-2)R=Le-oe-2;else if(R<-2)throw new Error("invalid salt length");if(Le<oe+R+2)throw new Error("data too long");var Pe="";R>0&&(Pe=new Array(R),new nt().nextBytes(Pe),Pe=String.fromCharCode.apply(String,Pe));var Me=ln(xe(Ln("\0\0\0\0\0\0\0\0"+G+Pe))),$e=[];for(N=0;N<Le-R-oe-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Pe,Ye=Pn(Me,ze.length,xe),st=[];for(N=0;N<ze.length;N+=1)st[N]=ze.charCodeAt(N)^Ye.charCodeAt(N);var dt=65280>>8*Le-_e&255;for(st[0]&=~dt,N=0;N<oe;N++)st.push(Me.charCodeAt(N));return st.push(188),tn(this.doPrivate(new U(st)).toString(16),this.n.bitLength())},Se.prototype.verify=function(C,T){if((T=T.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var R=gt(T,16),N=this.n.bitLength();if(R.bitLength()>N)return!1;var G=this.doPublic(R).toString(16);if(G.length+3!=N/4)return!1;var oe=Wt(G.replace(/^1f+00/,""));if(oe.length==0)return!1;var _e=oe[0];return oe[1]==function(xe){return V.crypto.Util.hashString(xe,_e)}(C)},Se.prototype.verifyWithMessageHash=function(C,T){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var R=gt(T,16);if(R.bitLength()>this.n.bitLength())return 0;var N=Wt(this.doPublic(R).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==C)},Se.prototype.verifyPSS=function(C,T,R,N){var G=function(_e){return V.crypto.Util.hashHex(_e,R)}(Ln(C));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(G,T,R,N)},Se.prototype.verifyWithMessageHashPSS=function(C,T,R,N){if(T.length!=Math.ceil(this.n.bitLength()/4))return!1;var G,oe=new U(T,16),_e=function(Ue){return V.crypto.Util.hashHex(Ue,R)},Le=ln(C),xe=Le.length,Pe=this.n.bitLength()-1,Me=Math.ceil(Pe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(oe).toByteArray();for(G=0;G<$e.length;G+=1)$e[G]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Ye=$e.substr(ze.length,xe),st=65280>>8*Me-Pe&255;if(ze.charCodeAt(0)&st)throw new Error("bits beyond keysize not zero");var dt=Pn(Ye,ze.length,_e),ut=[];for(G=0;G<ze.length;G+=1)ut[G]=ze.charCodeAt(G)^dt.charCodeAt(G);ut[0]&=~st;var we=Me-xe-N-2;for(G=0;G<we;G+=1)if(ut[G]!==0)throw new Error("leftmost octets not zero");if(ut[we]!==1)throw new Error("0x01 marker not found");return Ye===ln(_e(Ln("\0\0\0\0\0\0\0\0"+Le+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Zt.hex2dn=function(C,T){T===void 0&&(T=0);var R=new Zt;return ke.getTLV(C,T),R.getX500Name(C).str},Zt.hex2rdn=function(C,T){if(T===void 0&&(T=0),C.substr(T,2)!=="31")throw new Error("malformed RDN");for(var R=new Array,N=ke.getChildIdx(C,T),G=0;G<N.length;G++)R.push(Zt.hex2attrTypeValue(C,N[G]));return(R=R.map(function(oe){return oe.replace("+","\\+")})).join("+")},Zt.hex2attrTypeValue=function(C,T){var R=ke,N=R.getV;if(T===void 0&&(T=0),C.substr(T,2)!=="30")throw new Error("malformed attribute type and value");var G=R.getChildIdx(C,T);G.length!==2||C.substr(G[0],2);var oe=N(C,G[0]),_e=V.asn1.ASN1Util.oidHexToInt(oe);return V.asn1.x509.OID.oid2atype(_e)+"="+ln(N(C,G[1]))},Zt.getPublicKeyFromCertHex=function(C){var T=new Zt;return T.readCertHex(C),T.getPublicKey()},Zt.getPublicKeyFromCertPEM=function(C){var T=new Zt;return T.readCertPEM(C),T.getPublicKey()},Zt.getPublicKeyInfoPropOfCertPEM=function(C){var T,R,N=ke.getVbyList,G={};return G.algparam=null,(T=new Zt).readCertPEM(C),R=T.getPublicKeyHex(),G.keyhex=N(R,0,[1],"03").substr(2),G.algoid=N(R,0,[0,0],"06"),G.algoid==="2a8648ce3d0201"&&(G.algparam=N(R,0,[0,1],"06")),G},Zt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],V!==void 0&&V||(r.KJUR=V={}),V.jws!==void 0&&V.jws||(V.jws={}),V.jws.JWS=function(){var C=V.jws.JWS.isSafeJSONString;this.parseJWS=function(T,R){if(this.parsedJWS===void 0||!R&&this.parsedJWS.sigvalH===void 0){var N=T.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var G=N[1],oe=N[2],_e=N[3],Le=G+"."+oe;if(this.parsedJWS={},this.parsedJWS.headB64U=G,this.parsedJWS.payloadB64U=oe,this.parsedJWS.sigvalB64U=_e,this.parsedJWS.si=Le,!R){var xe=hn(_e),Pe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Pe}var Me=Ze(G),$e=Ze(oe);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!C(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},V.jws.JWS.sign=function(C,T,R,N,G){var oe,_e,Le,xe=V,Pe=xe.jws.JWS,Me=Pe.readSafeJSONString,$e=Pe.isSafeJSONString,ze=xe.crypto,Ye=(ze.ECDSA,ze.Mac),st=ze.Signature,dt=JSON;if(typeof T!="string"&&(T===void 0?"undefined":b(T))!="object")throw"spHeader must be JSON string or object: "+T;if((T===void 0?"undefined":b(T))=="object"&&(_e=T,oe=dt.stringify(_e)),typeof T=="string"){if(!$e(oe=T))throw"JWS Head is not safe JSON string: "+oe;_e=Me(oe)}if(Le=R,(R===void 0?"undefined":b(R))=="object"&&(Le=dt.stringify(R)),C!=""&&C!=null||_e.alg===void 0||(C=_e.alg),C!=""&&C!=null&&_e.alg===void 0&&(_e.alg=C,oe=dt.stringify(_e)),C!==_e.alg)throw"alg and sHeader.alg doesn't match: "+C+"!="+_e.alg;var ut=null;if(Pe.jwsalg2sigalg[C]===void 0)throw"unsupported alg name: "+C;ut=Pe.jwsalg2sigalg[C];var we=je(oe)+"."+je(Le),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Ue=new Ye({alg:ut,prov:"cryptojs",pass:N});Ue.updateString(we),De=Ue.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new st({alg:ut})).init(N,G),lt.updateString(we);var Ke=lt.sign();De=V.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new st({alg:ut})).init(N,G),lt.updateString(we),De=lt.sign())}return we+"."+dn(De)},V.jws.JWS.verify=function(C,T,R){var N,G=V,oe=G.jws.JWS,_e=oe.readSafeJSONString,Le=G.crypto,xe=Le.ECDSA,Pe=Le.Mac,Me=Le.Signature;b(Se)!==void 0&&(N=Se);var $e=C.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Ye=hn($e[2]),st=_e(Ze($e[0])),dt=null,ut=null;if(st.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=st.alg).substr(0,2),R!=null&&Object.prototype.toString.call(R)==="[object Array]"&&R.length>0&&(":"+R.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&T===null)throw"key shall be specified to verify.";if(typeof T=="string"&&T.indexOf("-----BEGIN ")!=-1&&(T=jt.getKey(T)),!(ut!="RS"&&ut!="PS"||T instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(T instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var we=null;if(oe.jwsalg2sigalg[st.alg]===void 0)throw"unsupported alg name: "+dt;if((we=oe.jwsalg2sigalg[dt])=="none")throw"not supported";if(we.substr(0,4)=="Hmac"){if(T===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Pe({alg:we,pass:T});return De.updateString(ze),Ye==De.doFinal()}if(we.indexOf("withECDSA")!=-1){var Ue,Ke=null;try{Ke=xe.concatSigToASN1Sig(Ye)}catch{return!1}return(Ue=new Me({alg:we})).init(T),Ue.updateString(ze),Ue.verify(Ke)}return(Ue=new Me({alg:we})).init(T),Ue.updateString(ze),Ue.verify(Ye)},V.jws.JWS.parse=function(C){var T,R,N,G=C.split("."),oe={};if(G.length!=2&&G.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return T=G[0],R=G[1],G.length==3&&(N=G[2]),oe.headerObj=V.jws.JWS.readSafeJSONString(Ze(T)),oe.payloadObj=V.jws.JWS.readSafeJSONString(Ze(R)),oe.headerPP=JSON.stringify(oe.headerObj,null,"  "),oe.payloadObj==null?oe.payloadPP=Ze(R):oe.payloadPP=JSON.stringify(oe.payloadObj,null,"  "),N!==void 0&&(oe.sigHex=hn(N)),oe},V.jws.JWS.verifyJWT=function(C,T,R){var N=V.jws,G=N.JWS,oe=G.readSafeJSONString,_e=G.inArray,Le=G.includedArray,xe=C.split("."),Pe=xe[0],Me=xe[1],$e=(hn(xe[2]),oe(Ze(Pe))),ze=oe(Ze(Me));if($e.alg===void 0)return!1;if(R.alg===void 0)throw"acceptField.alg shall be specified";if(!_e($e.alg,R.alg)||ze.iss!==void 0&&b(R.iss)==="object"&&!_e(ze.iss,R.iss)||ze.sub!==void 0&&b(R.sub)==="object"&&!_e(ze.sub,R.sub))return!1;if(ze.aud!==void 0&&b(R.aud)==="object"){if(typeof ze.aud=="string"){if(!_e(ze.aud,R.aud))return!1}else if(b(ze.aud)=="object"&&!Le(ze.aud,R.aud))return!1}var Ye=N.IntDate.getNow();return R.verifyAt!==void 0&&typeof R.verifyAt=="number"&&(Ye=R.verifyAt),R.gracePeriod!==void 0&&typeof R.gracePeriod=="number"||(R.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+R.gracePeriod<Ye)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Ye<ze.nbf-R.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Ye<ze.iat-R.gracePeriod)&&(ze.jti===void 0||R.jti===void 0||ze.jti===R.jti)&&!!G.verify(C,T,R.alg)},V.jws.JWS.includedArray=function(C,T){var R=V.jws.JWS.inArray;if(C===null||(C===void 0?"undefined":b(C))!=="object"||typeof C.length!="number")return!1;for(var N=0;N<C.length;N++)if(!R(C[N],T))return!1;return!0},V.jws.JWS.inArray=function(C,T){if(T===null||(T===void 0?"undefined":b(T))!=="object"||typeof T.length!="number")return!1;for(var R=0;R<T.length;R++)if(T[R]==C)return!0;return!1},V.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},V.jws.JWS.isSafeJSONString=function(C,T,R){var N=null;try{return((N=K(C))===void 0?"undefined":b(N))!="object"||N.constructor===Array?0:(T&&(T[R]=N),1)}catch{return 0}},V.jws.JWS.readSafeJSONString=function(C){var T=null;try{return((T=K(C))===void 0?"undefined":b(T))!="object"||T.constructor===Array?null:T}catch{return null}},V.jws.JWS.getEncodedSignatureValueFromJWS=function(C){var T=C.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(T==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return T[1]},V.jws.JWS.getJWKthumbprint=function(C){if(C.kty!=="RSA"&&C.kty!=="EC"&&C.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var T="{";if(C.kty==="RSA"){if(typeof C.n!="string"||typeof C.e!="string")throw"wrong n and e value for RSA key";T+='"e":"'+C.e+'",',T+='"kty":"'+C.kty+'",',T+='"n":"'+C.n+'"}'}else if(C.kty==="EC"){if(typeof C.crv!="string"||typeof C.x!="string"||typeof C.y!="string")throw"wrong crv, x and y value for EC key";T+='"crv":"'+C.crv+'",',T+='"kty":"'+C.kty+'",',T+='"x":"'+C.x+'",',T+='"y":"'+C.y+'"}'}else if(C.kty==="oct"){if(typeof C.k!="string")throw"wrong k value for oct(symmetric) key";T+='"kty":"'+C.kty+'",',T+='"k":"'+C.k+'"}'}var R=Ln(T);return dn(V.crypto.Util.hashHex(R,"sha256"))},V.jws.IntDate={},V.jws.IntDate.get=function(C){var T=V.jws.IntDate,R=T.getNow,N=T.getZulu;if(C=="now")return R();if(C=="now + 1hour")return R()+3600;if(C=="now + 1day")return R()+86400;if(C=="now + 1month")return R()+2592e3;if(C=="now + 1year")return R()+31536e3;if(C.match(/Z$/))return N(C);if(C.match(/^[0-9]+$/))return parseInt(C);throw"unsupported format: "+C},V.jws.IntDate.getZulu=function(C){return Hn(C)},V.jws.IntDate.getNow=function(){return~~(new Date/1e3)},V.jws.IntDate.intDate2UTCString=function(C){return new Date(1e3*C).toUTCString()},V.jws.IntDate.intDate2Zulu=function(C){var T=new Date(1e3*C);return("0000"+T.getUTCFullYear()).slice(-4)+("00"+(T.getUTCMonth()+1)).slice(-2)+("00"+T.getUTCDate()).slice(-2)+("00"+T.getUTCHours()).slice(-2)+("00"+T.getUTCMinutes()).slice(-2)+("00"+T.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=de,r.BigInteger=U,r.RSAKey=Se;var En=V.crypto.EDSA;r.EDSA=En;var Tn=V.crypto.DSA;r.DSA=Tn;var qn=V.crypto.Signature;r.Signature=qn;var Ar=V.crypto.MessageDigest;r.MessageDigest=Ar;var Vr=V.crypto.Mac;r.Mac=Vr;var Kr=V.crypto.Cipher;r.Cipher=Kr,r.KEYUTIL=jt,r.ASN1HEX=ke,r.X509=Zt,r.CryptoJS=I,r.b64tohex=Z,r.b64toBA=X,r.stoBA=Rt,r.BAtos=It,r.BAtohex=Nt,r.stohex=Pt,r.stob64=function(T){return F(Pt(T))},r.stob64u=function(T){return zt(F(Pt(T)))},r.b64utos=function(T){return It(X(Cr(T)))},r.b64tob64u=zt,r.b64utob64=Cr,r.hex2b64=F,r.hextob64u=dn,r.b64utohex=hn,r.utf8tob64u=je,r.b64utoutf8=Ze,r.utf8tob64=function(T){return F(Jn(Tt(T)))},r.b64toutf8=function(T){return decodeURIComponent(We(Z(T)))},r.utf8tohex=gr,r.hextoutf8=un,r.hextorstr=ln,r.rstrtohex=Ln,r.hextob64=ur,r.hextob64nl=Ie,r.b64nltohex=qe,r.hextopem=bt,r.pemtohex=Et,r.hextoArrayBuffer=function(T){if(T.length%2!=0)throw"input is not even length";if(T.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var R=new ArrayBuffer(T.length/2),N=new DataView(R),G=0;G<T.length/2;G++)N.setUint8(G,parseInt(T.substr(2*G,2),16));return R},r.ArrayBuffertohex=function(T){for(var R="",N=new DataView(T),G=0;G<T.byteLength;G++)R+=("00"+N.getUint8(G).toString(16)).slice(-2);return R},r.zulutomsec=Mt,r.zulutosec=Hn,r.zulutodate=function(T){return new Date(Mt(T))},r.datetozulu=function(T,R,N){var G,oe=T.getUTCFullYear();if(R){if(oe<1950||2049<oe)throw"not proper year for UTCTime: "+oe;G=(""+oe).slice(-2)}else G=("000"+oe).slice(-4);if(G+=("0"+(T.getUTCMonth()+1)).slice(-2),G+=("0"+T.getUTCDate()).slice(-2),G+=("0"+T.getUTCHours()).slice(-2),G+=("0"+T.getUTCMinutes()).slice(-2),G+=("0"+T.getUTCSeconds()).slice(-2),N){var _e=T.getUTCMilliseconds();_e!==0&&(G+="."+(_e=(_e=("00"+_e).slice(-3)).replace(/0+$/g,"")))}return G+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ee,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(T){var R="malformed IP address";if(!(T=T.toLowerCase(T)).match(/^[0-9.]+$/)){if(T.match(/^[0-9a-f:]+$/)&&T.indexOf(":")!==-1)return Ee(T);throw R}var N=T.split(".");if(N.length!==4)throw R;var G="";try{for(var oe=0;oe<4;oe++)G+=("0"+parseInt(N[oe]).toString(16)).slice(-2);return G}catch{throw R}},r.encodeURIComponentAll=Tt,r.newline_toUnix=function(T){return T=T.replace(/\r\n/gm,`
`)},r.newline_toDos=function(T){return T=(T=T.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Gt,r.intarystrtohex=function(T){T=(T=(T=T.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return T.split(/,/).map(function(R,N,G){var oe=parseInt(R);if(oe<0||255<oe)throw"integer not in range 0-255";return("00"+oe.toString(16)).slice(-2)}).join("")}catch(R){throw"malformed integer array string: "+R}},r.strdiffidx=function(T,R){var N=T.length;T.length>R.length&&(N=R.length);for(var G=0;G<N;G++)if(T.charCodeAt(G)!=R.charCodeAt(G))return G;return T.length!=R.length?N:-1},r.KJUR=V;var Ir=V.crypto;r.crypto=Ir;var $n=V.asn1;r.asn1=$n;var Jr=V.jws;r.jws=Jr;var Ki=V.lang;r.lang=Ki}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var s=i(30),o=i(31),l=i(32);function c(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function h(se,z){if(c()<z)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(se=new Uint8Array(z)).__proto__=p.prototype:(se===null&&(se=new p(z)),se.length=z),se}function p(se,z,$){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(se,z,$);if(typeof se=="number"){if(typeof z=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,se)}return m(this,se,z,$)}function m(se,z,$,ae){if(typeof z=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&z instanceof ArrayBuffer?function(de,ye,He,Te){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Te||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Te===void 0?new Uint8Array(ye):Te===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Te),p.TYPED_ARRAY_SUPPORT?(de=ye).__proto__=p.prototype:de=w(de,ye),de}(se,z,$,ae):typeof z=="string"?function(de,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!p.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Te=0|b(ye,He),Ne=(de=h(de,Te)).write(ye,He);return Ne!==Te&&(de=de.slice(0,Ne)),de}(se,z,$):function(de,ye){if(p.isBuffer(ye)){var He=0|E(ye.length);return(de=h(de,He)).length===0||ye.copy(de,0,0,He),de}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Ne){return Ne!=Ne}(ye.length)?h(de,0):w(de,ye);if(ye.type==="Buffer"&&l(ye.data))return w(de,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(se,z)}function y(se){if(typeof se!="number")throw new TypeError('"size" argument must be a number');if(se<0)throw new RangeError('"size" argument must not be negative')}function v(se,z){if(y(z),se=h(se,z<0?0:0|E(z)),!p.TYPED_ARRAY_SUPPORT)for(var $=0;$<z;++$)se[$]=0;return se}function w(se,z){var $=z.length<0?0:0|E(z.length);se=h(se,$);for(var ae=0;ae<$;ae+=1)se[ae]=255&z[ae];return se}function E(se){if(se>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|se}function b(se,z){if(p.isBuffer(se))return se.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(se)||se instanceof ArrayBuffer))return se.byteLength;typeof se!="string"&&(se=""+se);var $=se.length;if($===0)return 0;for(var ae=!1;;)switch(z){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Re(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Fe(se).length;default:if(ae)return Re(se).length;z=(""+z).toLowerCase(),ae=!0}}function x(se,z,$){var ae=!1;if((z===void 0||z<0)&&(z=0),z>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(z>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return he(this,z,$);case"utf8":case"utf-8":return re(this,z,$);case"ascii":return me(this,z,$);case"latin1":case"binary":return be(this,z,$);case"base64":return ce(this,z,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,z,$);default:if(ae)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),ae=!0}}function A(se,z,$){var ae=se[z];se[z]=se[$],se[$]=ae}function I(se,z,$,ae,W){if(se.length===0)return-1;if(typeof $=="string"?(ae=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=W?0:se.length-1),$<0&&($=se.length+$),$>=se.length){if(W)return-1;$=se.length-1}else if($<0){if(!W)return-1;$=0}if(typeof z=="string"&&(z=p.from(z,ae)),p.isBuffer(z))return z.length===0?-1:M(se,z,$,ae,W);if(typeof z=="number")return z&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?W?Uint8Array.prototype.indexOf.call(se,z,$):Uint8Array.prototype.lastIndexOf.call(se,z,$):M(se,[z],$,ae,W);throw new TypeError("val must be string, number or Buffer")}function M(se,z,$,ae,W){var de,ye=1,He=se.length,Te=z.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(se.length<2||z.length<2)return-1;ye=2,He/=2,Te/=2,$/=2}function Ne(qt,Se){return ye===1?qt[Se]:qt.readUInt16BE(Se*ye)}if(W){var tt=-1;for(de=$;de<He;de++)if(Ne(se,de)===Ne(z,tt===-1?0:de-tt)){if(tt===-1&&(tt=de),de-tt+1===Te)return tt*ye}else tt!==-1&&(de-=de-tt),tt=-1}else for($+Te>He&&($=He-Te),de=$;de>=0;de--){for(var nt=!0,gt=0;gt<Te;gt++)if(Ne(se,de+gt)!==Ne(z,gt)){nt=!1;break}if(nt)return de}return-1}function D(se,z,$,ae){$=Number($)||0;var W=se.length-$;ae?(ae=Number(ae))>W&&(ae=W):ae=W;var de=z.length;if(de%2!=0)throw new TypeError("Invalid hex string");ae>de/2&&(ae=de/2);for(var ye=0;ye<ae;++ye){var He=parseInt(z.substr(2*ye,2),16);if(isNaN(He))return ye;se[$+ye]=He}return ye}function F(se,z,$,ae){return Xe(Re(z,se.length-$),se,$,ae)}function Z(se,z,$,ae){return Xe(function(de){for(var ye=[],He=0;He<de.length;++He)ye.push(255&de.charCodeAt(He));return ye}(z),se,$,ae)}function X(se,z,$,ae){return Z(se,z,$,ae)}function U(se,z,$,ae){return Xe(Fe(z),se,$,ae)}function J(se,z,$,ae){return Xe(function(de,ye){for(var He,Te,Ne,tt=[],nt=0;nt<de.length&&!((ye-=2)<0);++nt)Te=(He=de.charCodeAt(nt))>>8,Ne=He%256,tt.push(Ne),tt.push(Te);return tt}(z,se.length-$),se,$,ae)}function ce(se,z,$){return z===0&&$===se.length?s.fromByteArray(se):s.fromByteArray(se.slice(z,$))}function re(se,z,$){$=Math.min(se.length,$);for(var ae=[],W=z;W<$;){var de,ye,He,Te,Ne=se[W],tt=null,nt=Ne>239?4:Ne>223?3:Ne>191?2:1;if(W+nt<=$)switch(nt){case 1:Ne<128&&(tt=Ne);break;case 2:(192&(de=se[W+1]))==128&&(Te=(31&Ne)<<6|63&de)>127&&(tt=Te);break;case 3:de=se[W+1],ye=se[W+2],(192&de)==128&&(192&ye)==128&&(Te=(15&Ne)<<12|(63&de)<<6|63&ye)>2047&&(Te<55296||Te>57343)&&(tt=Te);break;case 4:de=se[W+1],ye=se[W+2],He=se[W+3],(192&de)==128&&(192&ye)==128&&(192&He)==128&&(Te=(15&Ne)<<18|(63&de)<<12|(63&ye)<<6|63&He)>65535&&Te<1114112&&(tt=Te)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,ae.push(tt>>>10&1023|55296),tt=56320|1023&tt),ae.push(tt),W+=nt}return function(qt){var Se=qt.length;if(Se<=ue)return String.fromCharCode.apply(String,qt);for(var Be="",ee=0;ee<Se;)Be+=String.fromCharCode.apply(String,qt.slice(ee,ee+=ue));return Be}(ae)}r.Buffer=p,r.SlowBuffer=function(z){return+z!=z&&(z=0),p.alloc(+z)},r.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var z=new Uint8Array(1);return z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},z.foo()===42&&typeof z.subarray=="function"&&z.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),p.poolSize=8192,p._augment=function(se){return se.__proto__=p.prototype,se},p.from=function(se,z,$){return m(null,se,z,$)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(se,z,$){return function(W,de,ye,He){return y(de),de<=0?h(W,de):ye!==void 0?typeof He=="string"?h(W,de).fill(ye,He):h(W,de).fill(ye):h(W,de)}(null,se,z,$)},p.allocUnsafe=function(se){return v(null,se)},p.allocUnsafeSlow=function(se){return v(null,se)},p.isBuffer=function(z){return!(z==null||!z._isBuffer)},p.compare=function(z,$){if(!p.isBuffer(z)||!p.isBuffer($))throw new TypeError("Arguments must be Buffers");if(z===$)return 0;for(var ae=z.length,W=$.length,de=0,ye=Math.min(ae,W);de<ye;++de)if(z[de]!==$[de]){ae=z[de],W=$[de];break}return ae<W?-1:W<ae?1:0},p.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(z,$){if(!l(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return p.alloc(0);var ae;if($===void 0)for($=0,ae=0;ae<z.length;++ae)$+=z[ae].length;var W=p.allocUnsafe($),de=0;for(ae=0;ae<z.length;++ae){var ye=z[ae];if(!p.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(W,de),de+=ye.length}return W},p.byteLength=b,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var z=this.length;if(z%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<z;$+=2)A(this,$,$+1);return this},p.prototype.swap32=function(){var z=this.length;if(z%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<z;$+=4)A(this,$,$+3),A(this,$+1,$+2);return this},p.prototype.swap64=function(){var z=this.length;if(z%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<z;$+=8)A(this,$,$+7),A(this,$+1,$+6),A(this,$+2,$+5),A(this,$+3,$+4);return this},p.prototype.toString=function(){var z=0|this.length;return z===0?"":arguments.length===0?re(this,0,z):x.apply(this,arguments)},p.prototype.equals=function(z){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z||p.compare(this,z)===0},p.prototype.inspect=function(){var z="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(z=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(z+=" ... ")),"<Buffer "+z+">"},p.prototype.compare=function(z,$,ae,W,de){if(!p.isBuffer(z))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),ae===void 0&&(ae=z?z.length:0),W===void 0&&(W=0),de===void 0&&(de=this.length),$<0||ae>z.length||W<0||de>this.length)throw new RangeError("out of range index");if(W>=de&&$>=ae)return 0;if(W>=de)return-1;if($>=ae)return 1;if(this===z)return 0;for(var ye=(de>>>=0)-(W>>>=0),He=(ae>>>=0)-($>>>=0),Te=Math.min(ye,He),Ne=this.slice(W,de),tt=z.slice($,ae),nt=0;nt<Te;++nt)if(Ne[nt]!==tt[nt]){ye=Ne[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},p.prototype.includes=function(z,$,ae){return this.indexOf(z,$,ae)!==-1},p.prototype.indexOf=function(z,$,ae){return I(this,z,$,ae,!0)},p.prototype.lastIndexOf=function(z,$,ae){return I(this,z,$,ae,!1)},p.prototype.write=function(z,$,ae,W){if($===void 0)W="utf8",ae=this.length,$=0;else if(ae===void 0&&typeof $=="string")W=$,ae=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(ae)?(ae|=0,W===void 0&&(W="utf8")):(W=ae,ae=void 0)}var de=this.length-$;if((ae===void 0||ae>de)&&(ae=de),z.length>0&&(ae<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");W||(W="utf8");for(var ye=!1;;)switch(W){case"hex":return D(this,z,$,ae);case"utf8":case"utf-8":return F(this,z,$,ae);case"ascii":return Z(this,z,$,ae);case"latin1":case"binary":return X(this,z,$,ae);case"base64":return U(this,z,$,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,z,$,ae);default:if(ye)throw new TypeError("Unknown encoding: "+W);W=(""+W).toLowerCase(),ye=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ue=4096;function me(se,z,$){var ae="";$=Math.min(se.length,$);for(var W=z;W<$;++W)ae+=String.fromCharCode(127&se[W]);return ae}function be(se,z,$){var ae="";$=Math.min(se.length,$);for(var W=z;W<$;++W)ae+=String.fromCharCode(se[W]);return ae}function he(se,z,$){var ae=se.length;(!z||z<0)&&(z=0),(!$||$<0||$>ae)&&($=ae);for(var W="",de=z;de<$;++de)W+=Je(se[de]);return W}function fe(se,z,$){for(var ae=se.slice(z,$),W="",de=0;de<ae.length;de+=2)W+=String.fromCharCode(ae[de]+256*ae[de+1]);return W}function Oe(se,z,$){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+z>$)throw new RangeError("Trying to access beyond buffer length")}function k(se,z,$,ae,W,de){if(!p.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>W||z<de)throw new RangeError('"value" argument is out of bounds');if($+ae>se.length)throw new RangeError("Index out of range")}function ie(se,z,$,ae){z<0&&(z=65535+z+1);for(var W=0,de=Math.min(se.length-$,2);W<de;++W)se[$+W]=(z&255<<8*(ae?W:1-W))>>>8*(ae?W:1-W)}function ge(se,z,$,ae){z<0&&(z=4294967295+z+1);for(var W=0,de=Math.min(se.length-$,4);W<de;++W)se[$+W]=z>>>8*(ae?W:3-W)&255}function H(se,z,$,ae,W,de){if($+ae>se.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function Y(se,z,$,ae,W){return W||H(se,0,$,4),o.write(se,z,$,ae,23,4),$+4}function pe(se,z,$,ae,W){return W||H(se,0,$,8),o.write(se,z,$,ae,52,8),$+8}p.prototype.slice=function(z,$){var ae,W=this.length;if((z=~~z)<0?(z+=W)<0&&(z=0):z>W&&(z=W),($=$===void 0?W:~~$)<0?($+=W)<0&&($=0):$>W&&($=W),$<z&&($=z),p.TYPED_ARRAY_SUPPORT)(ae=this.subarray(z,$)).__proto__=p.prototype;else{var de=$-z;ae=new p(de,void 0);for(var ye=0;ye<de;++ye)ae[ye]=this[ye+z]}return ae},p.prototype.readUIntLE=function(z,$,ae){z|=0,$|=0,ae||Oe(z,$,this.length);for(var W=this[z],de=1,ye=0;++ye<$&&(de*=256);)W+=this[z+ye]*de;return W},p.prototype.readUIntBE=function(z,$,ae){z|=0,$|=0,ae||Oe(z,$,this.length);for(var W=this[z+--$],de=1;$>0&&(de*=256);)W+=this[z+--$]*de;return W},p.prototype.readUInt8=function(z,$){return $||Oe(z,1,this.length),this[z]},p.prototype.readUInt16LE=function(z,$){return $||Oe(z,2,this.length),this[z]|this[z+1]<<8},p.prototype.readUInt16BE=function(z,$){return $||Oe(z,2,this.length),this[z]<<8|this[z+1]},p.prototype.readUInt32LE=function(z,$){return $||Oe(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+16777216*this[z+3]},p.prototype.readUInt32BE=function(z,$){return $||Oe(z,4,this.length),16777216*this[z]+(this[z+1]<<16|this[z+2]<<8|this[z+3])},p.prototype.readIntLE=function(z,$,ae){z|=0,$|=0,ae||Oe(z,$,this.length);for(var W=this[z],de=1,ye=0;++ye<$&&(de*=256);)W+=this[z+ye]*de;return W>=(de*=128)&&(W-=Math.pow(2,8*$)),W},p.prototype.readIntBE=function(z,$,ae){z|=0,$|=0,ae||Oe(z,$,this.length);for(var W=$,de=1,ye=this[z+--W];W>0&&(de*=256);)ye+=this[z+--W]*de;return ye>=(de*=128)&&(ye-=Math.pow(2,8*$)),ye},p.prototype.readInt8=function(z,$){return $||Oe(z,1,this.length),128&this[z]?-1*(255-this[z]+1):this[z]},p.prototype.readInt16LE=function(z,$){$||Oe(z,2,this.length);var ae=this[z]|this[z+1]<<8;return 32768&ae?4294901760|ae:ae},p.prototype.readInt16BE=function(z,$){$||Oe(z,2,this.length);var ae=this[z+1]|this[z]<<8;return 32768&ae?4294901760|ae:ae},p.prototype.readInt32LE=function(z,$){return $||Oe(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},p.prototype.readInt32BE=function(z,$){return $||Oe(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},p.prototype.readFloatLE=function(z,$){return $||Oe(z,4,this.length),o.read(this,z,!0,23,4)},p.prototype.readFloatBE=function(z,$){return $||Oe(z,4,this.length),o.read(this,z,!1,23,4)},p.prototype.readDoubleLE=function(z,$){return $||Oe(z,8,this.length),o.read(this,z,!0,52,8)},p.prototype.readDoubleBE=function(z,$){return $||Oe(z,8,this.length),o.read(this,z,!1,52,8)},p.prototype.writeUIntLE=function(z,$,ae,W){z=+z,$|=0,ae|=0,W||k(this,z,$,ae,Math.pow(2,8*ae)-1,0);var de=1,ye=0;for(this[$]=255&z;++ye<ae&&(de*=256);)this[$+ye]=z/de&255;return $+ae},p.prototype.writeUIntBE=function(z,$,ae,W){z=+z,$|=0,ae|=0,W||k(this,z,$,ae,Math.pow(2,8*ae)-1,0);var de=ae-1,ye=1;for(this[$+de]=255&z;--de>=0&&(ye*=256);)this[$+de]=z/ye&255;return $+ae},p.prototype.writeUInt8=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,1,255,0),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),this[$]=255&z,$+1},p.prototype.writeUInt16LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ie(this,z,$,!0),$+2},p.prototype.writeUInt16BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ie(this,z,$,!1),$+2},p.prototype.writeUInt32LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$+3]=z>>>24,this[$+2]=z>>>16,this[$+1]=z>>>8,this[$]=255&z):ge(this,z,$,!0),$+4},p.prototype.writeUInt32BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):ge(this,z,$,!1),$+4},p.prototype.writeIntLE=function(z,$,ae,W){if(z=+z,$|=0,!W){var de=Math.pow(2,8*ae-1);k(this,z,$,ae,de-1,-de)}var ye=0,He=1,Te=0;for(this[$]=255&z;++ye<ae&&(He*=256);)z<0&&Te===0&&this[$+ye-1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+ae},p.prototype.writeIntBE=function(z,$,ae,W){if(z=+z,$|=0,!W){var de=Math.pow(2,8*ae-1);k(this,z,$,ae,de-1,-de)}var ye=ae-1,He=1,Te=0;for(this[$+ye]=255&z;--ye>=0&&(He*=256);)z<0&&Te===0&&this[$+ye+1]!==0&&(Te=1),this[$+ye]=(z/He>>0)-Te&255;return $+ae},p.prototype.writeInt8=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,1,127,-128),p.TYPED_ARRAY_SUPPORT||(z=Math.floor(z)),z<0&&(z=255+z+1),this[$]=255&z,$+1},p.prototype.writeInt16LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8):ie(this,z,$,!0),$+2},p.prototype.writeInt16BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>8,this[$+1]=255&z):ie(this,z,$,!1),$+2},p.prototype.writeInt32LE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[$]=255&z,this[$+1]=z>>>8,this[$+2]=z>>>16,this[$+3]=z>>>24):ge(this,z,$,!0),$+4},p.prototype.writeInt32BE=function(z,$,ae){return z=+z,$|=0,ae||k(this,z,$,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),p.TYPED_ARRAY_SUPPORT?(this[$]=z>>>24,this[$+1]=z>>>16,this[$+2]=z>>>8,this[$+3]=255&z):ge(this,z,$,!1),$+4},p.prototype.writeFloatLE=function(z,$,ae){return Y(this,z,$,!0,ae)},p.prototype.writeFloatBE=function(z,$,ae){return Y(this,z,$,!1,ae)},p.prototype.writeDoubleLE=function(z,$,ae){return pe(this,z,$,!0,ae)},p.prototype.writeDoubleBE=function(z,$,ae){return pe(this,z,$,!1,ae)},p.prototype.copy=function(z,$,ae,W){if(ae||(ae=0),W||W===0||(W=this.length),$>=z.length&&($=z.length),$||($=0),W>0&&W<ae&&(W=ae),W===ae||z.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("sourceStart out of bounds");if(W<0)throw new RangeError("sourceEnd out of bounds");W>this.length&&(W=this.length),z.length-$<W-ae&&(W=z.length-$+ae);var de,ye=W-ae;if(this===z&&ae<$&&$<W)for(de=ye-1;de>=0;--de)z[de+$]=this[de+ae];else if(ye<1e3||!p.TYPED_ARRAY_SUPPORT)for(de=0;de<ye;++de)z[de+$]=this[de+ae];else Uint8Array.prototype.set.call(z,this.subarray(ae,ae+ye),$);return ye},p.prototype.fill=function(z,$,ae,W){if(typeof z=="string"){if(typeof $=="string"?(W=$,$=0,ae=this.length):typeof ae=="string"&&(W=ae,ae=this.length),z.length===1){var de=z.charCodeAt(0);de<256&&(z=de)}if(W!==void 0&&typeof W!="string")throw new TypeError("encoding must be a string");if(typeof W=="string"&&!p.isEncoding(W))throw new TypeError("Unknown encoding: "+W)}else typeof z=="number"&&(z&=255);if($<0||this.length<$||this.length<ae)throw new RangeError("Out of range index");if(ae<=$)return this;var ye;if($>>>=0,ae=ae===void 0?this.length:ae>>>0,z||(z=0),typeof z=="number")for(ye=$;ye<ae;++ye)this[ye]=z;else{var He=p.isBuffer(z)?z:Re(new p(z,W).toString()),Te=He.length;for(ye=0;ye<ae-$;++ye)this[ye+$]=He[ye%Te]}return this};var Ae=/[^+\/0-9A-Za-z-_]/g;function Je(se){return se<16?"0"+se.toString(16):se.toString(16)}function Re(se,z){var $;z=z||1/0;for(var ae=se.length,W=null,de=[],ye=0;ye<ae;++ye){if(($=se.charCodeAt(ye))>55295&&$<57344){if(!W){if($>56319){(z-=3)>-1&&de.push(239,191,189);continue}if(ye+1===ae){(z-=3)>-1&&de.push(239,191,189);continue}W=$;continue}if($<56320){(z-=3)>-1&&de.push(239,191,189),W=$;continue}$=65536+(W-55296<<10|$-56320)}else W&&(z-=3)>-1&&de.push(239,191,189);if(W=null,$<128){if((z-=1)<0)break;de.push($)}else if($<2048){if((z-=2)<0)break;de.push($>>6|192,63&$|128)}else if($<65536){if((z-=3)<0)break;de.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((z-=4)<0)break;de.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return de}function Fe(se){return s.toByteArray(function($){if(($=function(W){return W.trim?W.trim():W.replace(/^\s+|\s+$/g,"")}($).replace(Ae,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(se))}function Xe(se,z,$,ae){for(var W=0;W<ae&&!(W+$>=z.length||W>=se.length);++W)z[W+$]=se[W];return W}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(v){var w=p(v),E=w[0],b=w[1];return 3*(E+b)/4-b},r.toByteArray=function(v){var w,E,b=p(v),x=b[0],A=b[1],I=new o(function(Z,X,U){return 3*(X+U)/4-U}(0,x,A)),M=0,D=A>0?x-4:x;for(E=0;E<D;E+=4)w=s[v.charCodeAt(E)]<<18|s[v.charCodeAt(E+1)]<<12|s[v.charCodeAt(E+2)]<<6|s[v.charCodeAt(E+3)],I[M++]=w>>16&255,I[M++]=w>>8&255,I[M++]=255&w;return A===2&&(w=s[v.charCodeAt(E)]<<2|s[v.charCodeAt(E+1)]>>4,I[M++]=255&w),A===1&&(w=s[v.charCodeAt(E)]<<10|s[v.charCodeAt(E+1)]<<4|s[v.charCodeAt(E+2)]>>2,I[M++]=w>>8&255,I[M++]=255&w),I},r.fromByteArray=function(v){for(var w,E=v.length,b=E%3,x=[],A=16383,I=0,M=E-b;I<M;I+=A)x.push(m(v,I,I+A>M?M:I+A));return b===1?(w=v[E-1],x.push(a[w>>2]+a[w<<4&63]+"==")):b===2&&(w=(v[E-2]<<8)+v[E-1],x.push(a[w>>10]+a[w>>4&63]+a[w<<2&63]+"=")),x.join("")};for(var a=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,h=l.length;c<h;++c)a[c]=l[c],s[l.charCodeAt(c)]=c;function p(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");return w===-1&&(w=v),[w,w===v?0:4-w%4]}function m(y,v,w){for(var E,b,x=[],A=v;A<w;A+=3)E=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(255&y[A+2]),x.push(a[(b=E)>>18&63]+a[b>>12&63]+a[b>>6&63]+a[63&b]);return x.join("")}s[45]=62,s[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,s,o,l){var c,h,p=8*l-o-1,m=(1<<p)-1,y=m>>1,v=-7,w=s?l-1:0,E=s?-1:1,b=i[a+w];for(w+=E,c=b&(1<<-v)-1,b>>=-v,v+=p;v>0;c=256*c+i[a+w],w+=E,v-=8);for(h=c&(1<<-v)-1,c>>=-v,v+=o;v>0;h=256*h+i[a+w],w+=E,v-=8);if(c===0)c=1-y;else{if(c===m)return h?NaN:1/0*(b?-1:1);h+=Math.pow(2,o),c-=y}return(b?-1:1)*h*Math.pow(2,c-o)},r.write=function(i,a,s,o,l,c){var h,p,m,y=8*c-l-1,v=(1<<y)-1,w=v>>1,E=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=o?0:c-1,x=o?1:-1,A=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(p=isNaN(a)?1:0,h=v):(h=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-h))<1&&(h--,m*=2),(a+=h+w>=1?E/m:E*Math.pow(2,1-w))*m>=2&&(h++,m/=2),h+w>=v?(p=0,h=v):h+w>=1?(p=(a*m-1)*Math.pow(2,l),h+=w):(p=a*Math.pow(2,w-1)*Math.pow(2,l),h=0));l>=8;i[s+b]=255&p,b+=x,p/=256,l-=8);for(h=h<<l|p,y+=l;y>0;i[s+b]=255&h,b+=x,h/=256,y-=8);i[s+b-x]|=128*A}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(o){var l=o.jws,c=o.KeyUtil,h=o.X509,p=o.crypto,m=o.hextob64u,y=o.b64tohex,v=o.AllowedSigningAlgs;return function(){function w(){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,w)}return w.parseJwt=function(b){a.Log.debug("JoseUtil.parseJwt");try{var x=l.JWS.parse(b);return{header:x.headerObj,payload:x.payloadObj}}catch(A){a.Log.error(A)}},w.validateJwt=function(b,x,A,I,M,D,F){a.Log.debug("JoseUtil.validateJwt");try{if(x.kty==="RSA")if(x.e&&x.n)x=c.getKey(x);else{if(!x.x5c||!x.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",x),Promise.reject(new Error("RSA key missing key material"));var Z=y(x.x5c[0]);x=h.getPublicKeyFromCertHex(Z)}else{if(x.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",x&&x.kty),Promise.reject(new Error(x.kty));if(!(x.crv&&x.x&&x.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",x),Promise.reject(new Error("EC key missing key material"));x=c.getKey(x)}return w._validateJwt(b,x,A,I,M,D,F)}catch(X){return a.Log.error(X&&X.message||X),Promise.reject("JWT validation failed")}},w.validateJwtAttributes=function(b,x,A,I,M,D){I||(I=0),M||(M=parseInt(Date.now()/1e3));var F=w.parseJwt(b).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==x)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===A||Array.isArray(F.aud)&&F.aud.indexOf(A)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==A)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!D){var Z=M+I,X=M-I;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Z<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&Z<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<X)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},w._validateJwt=function(b,x,A,I,M,D,F){return w.validateJwtAttributes(b,A,I,M,D,F).then(function(Z){try{return l.JWS.verify(b,x,v)?Z:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(X){return a.Log.error(X&&X.message||X),Promise.reject(new Error("signature validation failed"))}})},w.hashString=function(b,x){try{return p.Util.hashString(b,x)}catch(A){a.Log.error(A)}},w.hexToBase64Url=function(b){try{return m(b)}catch(x){a.Log.error(x)}},w}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(c,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,p){return h&&l(c.prototype,h),p&&l(c,p),c}}(),s=i(3);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";o(this,l);var p=s.UrlUtility.parseUrlFragment(c,h);this.error=p.error,this.error_description=p.error_description,this.error_uri=p.error_uri,this.code=p.code,this.state=p.state,this.id_token=p.id_token,this.session_state=p.session_state,this.access_token=p.access_token,this.token_type=p.token_type,this.scope=p.scope,this.profile=void 0,this.expires_in=p.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var h=parseInt(Date.now()/1e3);return this.expires_at-h}},set:function(h){var p=parseInt(h);if(typeof p=="number"&&p>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+p}}},{key:"expired",get:function(){var h=this.expires_in;if(h!==void 0)return h<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),s=i(3),o=i(9);r.SignoutRequest=function l(c){var h=c.url,p=c.id_token_hint,m=c.post_logout_redirect_uri,y=c.data,v=c.extraQueryParams,w=c.request_type;if(function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,l),!h)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var E in p&&(h=s.UrlUtility.addQueryParam(h,"id_token_hint",p)),m&&(h=s.UrlUtility.addQueryParam(h,"post_logout_redirect_uri",m),y&&(this.state=new o.State({data:y,request_type:w}),h=s.UrlUtility.addQueryParam(h,"state",this.state.id))),v)h=s.UrlUtility.addQueryParam(h,E,v[E]);this.url=h}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function s(o){(function(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")})(this,s);var l=a.UrlUtility.parseUrlFragment(o,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function o(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&o(l.prototype,c),h&&o(l,h),l}}(),s=i(0);r.InMemoryWebStorage=function(){function o(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o),this._data={}}return o.prototype.getItem=function(c){return s.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},o.prototype.setItem=function(c,h){s.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=h},o.prototype.removeItem=function(c){s.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},o.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},a(o,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function A(I,M){for(var D=0;D<M.length;D++){var F=M[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,F.key,F)}}return function(I,M,D){return M&&A(I.prototype,M),D&&A(I,D),I}}(),s=i(0),o=i(10),l=i(39),c=i(15),h=i(45),p=i(47),m=i(18),y=i(8),v=i(20),w=i(11),E=i(4);function b(A,I){if(!(A instanceof I))throw new TypeError("Cannot call a class as a function")}function x(A,I){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?A:I}r.UserManager=function(A){function I(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,Z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.TokenRevocationClient,X=arguments.length>4&&arguments[4]!==void 0?arguments[4]:w.TokenClient,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:E.JoseUtil;b(this,I),M instanceof l.UserManagerSettings||(M=new l.UserManagerSettings(M));var J=x(this,A.call(this,M));return J._events=new h.UserManagerEvents(M),J._silentRenewService=new D(J),J.settings.automaticSilentRenew&&(s.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),J.startSilentRenew()),J.settings.monitorSession&&(s.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),J._sessionMonitor=new F(J)),J._tokenRevocationClient=new Z(J._settings),J._tokenClient=new X(J._settings),J._joseUtil=U,J}return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}(I,A),I.prototype.getUser=function(){var D=this;return this._loadUser().then(function(F){return F?(s.Log.info("UserManager.getUser: user loaded"),D._events.load(F,!1),F):(s.Log.info("UserManager.getUser: user not found in storage"),null)})},I.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){s.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},I.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var F={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,F).then(function(){s.Log.info("UserManager.signinRedirect: successful")})},I.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?s.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):s.Log.info("UserManager.signinRedirectCallback: no sub"),F})},I.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var F=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Z){return Z&&(Z.profile&&Z.profile.sub?s.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Z.profile.sub):s.Log.info("UserManager.signinPopup: no sub")),Z})):(s.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},I.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?s.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):s.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){s.Log.error(F.message)})},I.prototype.signinSilent=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(Z){return Z&&Z.refresh_token?(F.refresh_token=Z.refresh_token,D._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Z&&Z.id_token,Z&&D._settings.validateSubOnSilentRenew&&(s.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Z.profile.sub),F.current_sub=Z.profile.sub),D._signinSilentIframe(F))})},I.prototype._useRefreshToken=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(Z){return Z?Z.access_token?D._loadUser().then(function(X){if(X){var U=Promise.resolve();return Z.id_token&&(U=D._validateIdTokenFromTokenRefreshToken(X.profile,Z.id_token)),U.then(function(){return s.Log.debug("UserManager._useRefreshToken: refresh token response success"),X.id_token=Z.id_token||X.id_token,X.access_token=Z.access_token,X.refresh_token=Z.refresh_token||X.refresh_token,X.expires_in=Z.expires_in,D.storeUser(X).then(function(){return D._events.load(X),X})})}return null}):(s.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(s.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},I.prototype._validateIdTokenFromTokenRefreshToken=function(D,F){var Z=this;return this._metadataService.getIssuer().then(function(X){return Z.settings.getEpochTime().then(function(U){return Z._joseUtil.validateJwtAttributes(F,X,Z._settings.client_id,Z._settings.clockSkew,U).then(function(J){return J?J.sub!==D.sub?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):J.auth_time&&J.auth_time!==D.auth_time?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):J.azp&&J.azp!==D.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!J.azp&&D.azp?(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(s.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},I.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:F,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Z){return Z&&(Z.profile&&Z.profile.sub?s.Log.info("UserManager.signinSilent: successful, signed in sub: ",Z.profile.sub):s.Log.info("UserManager.signinSilent: no sub")),Z})):(s.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?s.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):s.Log.info("UserManager.signinSilentCallback: no sub")),F})},I.prototype.signinCallback=function(D){var F=this;return this.readSigninResponseState(D).then(function(Z){var X=Z.state;return Z.response,X.request_type==="si:r"?F.signinRedirectCallback(D):X.request_type==="si:p"?F.signinPopupCallback(D):X.request_type==="si:s"?F.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},I.prototype.signoutCallback=function(D,F){var Z=this;return this.readSignoutResponseState(D).then(function(X){var U=X.state,J=X.response;return U?U.request_type==="so:r"?Z.signoutRedirectCallback(D):U.request_type==="so:p"?Z.signoutPopupCallback(D,F):Promise.reject(new Error("invalid response_type in state")):J})},I.prototype.querySessionStatus=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var Z=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Z?(F.redirect_uri=Z,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:Z,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(X){return D.processSigninResponse(X.url).then(function(U){if(s.Log.debug("UserManager.querySessionStatus: got signin response"),U.session_state&&U.profile.sub)return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",U.profile.sub),{session_state:U.session_state,sub:U.profile.sub,sid:U.profile.sid};s.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(U){if(U.session_state&&D.settings.monitorAnonymousSession&&(U.message=="login_required"||U.message=="consent_required"||U.message=="interaction_required"||U.message=="account_selection_required"))return s.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:U.session_state};throw U})})):(s.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},I.prototype._signin=function(D,F){var Z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,F,X).then(function(U){return Z._signinEnd(U.url,D)})},I.prototype._signinStart=function(D,F){var Z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(X).then(function(U){return s.Log.debug("UserManager._signinStart: got navigator window handle"),Z.createSigninRequest(D).then(function(J){return s.Log.debug("UserManager._signinStart: got signin request"),X.url=J.url,X.id=J.state.id,U.navigate(X)}).catch(function(J){throw U.close&&(s.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),U.close()),J})})},I.prototype._signinEnd=function(D){var F=this,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(X){s.Log.debug("UserManager._signinEnd: got signin response");var U=new c.User(X);if(Z.current_sub){if(Z.current_sub!==U.profile.sub)return s.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",U.profile.sub),Promise.reject(new Error("login_required"));s.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(U).then(function(){return s.Log.debug("UserManager._signinEnd: user stored"),F._events.load(U),U})})},I.prototype._signinCallback=function(D,F){s.Log.debug("UserManager._signinCallback");var Z=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(D,void 0,Z)},I.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var F=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(D.post_logout_redirect_uri=F);var Z={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Z).then(function(){s.Log.info("UserManager.signoutRedirect: successful")})},I.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(F){return s.Log.info("UserManager.signoutRedirectCallback: successful"),F})},I.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var F=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=F,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){s.Log.info("UserManager.signoutPopup: successful")})},I.prototype.signoutPopupCallback=function(D,F){return F===void 0&&typeof D=="boolean"&&(F=D,D=null),this._popupNavigator.callback(D,F,"?").then(function(){s.Log.info("UserManager.signoutPopupCallback: successful")})},I.prototype._signout=function(D,F){var Z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,F,X).then(function(U){return Z._signoutEnd(U.url)})},I.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,Z=arguments[1],X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Z.prepare(X).then(function(U){return s.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(J){return s.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(J):Promise.resolve()).then(function(){var ce=D.id_token_hint||J&&J.id_token;return ce&&(s.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=ce),F.removeUser().then(function(){return s.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(D).then(function(re){return s.Log.debug("UserManager._signoutStart: got signout request"),X.url=re.url,re.state&&(X.id=re.state.id),U.navigate(X)})})})}).catch(function(J){throw U.close&&(s.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),U.close()),J})})},I.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(F){return s.Log.debug("UserManager._signoutEnd: got signout response"),F})},I.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(F){return D._revokeInternal(F,!0).then(function(Z){if(Z)return s.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,D.storeUser(F).then(function(){s.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(F)})})}).then(function(){s.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},I.prototype._revokeInternal=function(D,F){var Z=this;if(D){var X=D.access_token,U=D.refresh_token;return this._revokeAccessTokenInternal(X,F).then(function(J){return Z._revokeRefreshTokenInternal(U,F).then(function(ce){return J||ce||s.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),J||ce})})}return Promise.resolve(!1)},I.prototype._revokeAccessTokenInternal=function(D,F){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,F).then(function(){return!0})},I.prototype._revokeRefreshTokenInternal=function(D,F){return D?this._tokenRevocationClient.revoke(D,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},I.prototype.startSilentRenew=function(){this._silentRenewService.start()},I.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},I.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(s.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(D)):(s.Log.debug("UserManager._loadUser: no user storageString"),null)})},I.prototype.storeUser=function(D){if(D){s.Log.debug("UserManager.storeUser: storing user");var F=D.toStorageString();return this._userStore.set(this._userStoreKey,F)}return s.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(I,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),I}(o.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function w(E,b){for(var x=0;x<b.length;x++){var A=b[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,b,x){return b&&w(E.prototype,b),x&&w(E,x),E}}(),s=(i(0),i(5)),o=i(40),l=i(41),c=i(43),h=i(6),p=i(1),m=i(8);function y(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function v(w,E){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?w:E}r.UserManagerSettings=function(w){function E(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=b.popup_redirect_uri,A=b.popup_post_logout_redirect_uri,I=b.popupWindowFeatures,M=b.popupWindowTarget,D=b.silent_redirect_uri,F=b.silentRequestTimeout,Z=b.automaticSilentRenew,X=Z!==void 0&&Z,U=b.validateSubOnSilentRenew,J=U!==void 0&&U,ce=b.includeIdTokenInSilentRenew,re=ce===void 0||ce,ue=b.monitorSession,me=ue===void 0||ue,be=b.monitorAnonymousSession,he=be!==void 0&&be,fe=b.checkSessionInterval,Oe=fe===void 0?2e3:fe,k=b.stopCheckSessionOnError,ie=k===void 0||k,ge=b.query_status_response_type,H=b.revokeAccessTokenOnSignout,Y=H!==void 0&&H,pe=b.accessTokenExpiringNotificationTime,Ae=pe===void 0?60:pe,Je=b.redirectNavigator,Re=Je===void 0?new o.RedirectNavigator:Je,Fe=b.popupNavigator,Xe=Fe===void 0?new l.PopupNavigator:Fe,se=b.iframeNavigator,z=se===void 0?new c.IFrameNavigator:se,$=b.userStore,ae=$===void 0?new h.WebStorageStateStore({store:p.Global.sessionStorage}):$;y(this,E);var W=v(this,w.call(this,arguments[0]));return W._popup_redirect_uri=x,W._popup_post_logout_redirect_uri=A,W._popupWindowFeatures=I,W._popupWindowTarget=M,W._silent_redirect_uri=D,W._silentRequestTimeout=F,W._automaticSilentRenew=X,W._validateSubOnSilentRenew=J,W._includeIdTokenInSilentRenew=re,W._accessTokenExpiringNotificationTime=Ae,W._monitorSession=me,W._monitorAnonymousSession=he,W._checkSessionInterval=Oe,W._stopCheckSessionOnError=ie,ge?W._query_status_response_type=ge:arguments[0]&&arguments[0].response_type?W._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":W._query_status_response_type="id_token",W._revokeAccessTokenOnSignout=Y,W._redirectNavigator=Re,W._popupNavigator=Xe,W._iframeNavigator=z,W._userStore=ae,W}return function(x,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);x.prototype=Object.create(A&&A.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(x,A):x.__proto__=A)}(E,w),a(E,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),E}(s.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function o(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&o(l.prototype,c),h&&o(l,h),l}}(),s=i(0);r.RedirectNavigator=function(){function o(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(){return Promise.resolve(this)},o.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(s.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(o,[{key:"url",get:function(){return window.location.href}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),s=i(42);r.PopupNavigator=function(){function o(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(c){var h=new s.PopupWindow(c);return Promise.resolve(h)},o.prototype.callback=function(c,h,p){a.Log.debug("PopupNavigator.callback");try{return s.PopupWindow.notifyOpener(c,h,p),Promise.resolve()}catch(m){return Promise.reject(m)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(c,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,h,p){return h&&l(c.prototype,h),p&&l(c,p),c}}(),s=i(0),o=i(3);r.PopupWindow=function(){function l(c){var h=this;(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,v){h._resolve=y,h._reject=v});var p=c.popupWindowTarget||"_blank",m=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",p,m),this._popup&&(s.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(h){return this._popup?h&&h.url?(s.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=h.id,this._id&&(window["popupCallback_"+h.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=h.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(h){s.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(h)},l.prototype._error=function(h){s.Log.error("PopupWindow.error: ",h),this._cleanup(),this._reject(new Error(h))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(h){s.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!h&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(h,p){this._cleanup(p),h?(s.Log.debug("PopupWindow.callback success"),this._success({url:h})):(s.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(h,p,m){if(window.opener){if(h=h||window.location.href){var y=o.UrlUtility.parseUrlFragment(h,m);if(y.state){var v="popupCallback_"+y.state,w=window.opener[v];w?(s.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),w(h,p)):s.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else s.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else s.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),s=i(44);r.IFrameNavigator=function(){function o(){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(c){var h=new s.IFrameWindow(c);return Promise.resolve(h)},o.prototype.callback=function(c){a.Log.debug("IFrameNavigator.callback");try{return s.IFrameWindow.notifyParent(c),Promise.resolve()}catch(h){return Promise.reject(h)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function o(l,c){for(var h=0;h<c.length;h++){var p=c[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,c,h){return c&&o(l.prototype,c),h&&o(l,h),l}}(),s=i(0);r.IFrameWindow=function(){function o(l){var c=this;(function(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")})(this,o),this._promise=new Promise(function(h,p){c._resolve=h,c._reject=p}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return o.prototype.navigate=function(c){if(c&&c.url){var h=c.silentRequestTimeout||1e4;s.Log.debug("IFrameWindow.navigate: Using timeout of:",h),this._timer=window.setTimeout(this._timeout.bind(this),h),this._frame.src=c.url}else this._error("No url provided");return this.promise},o.prototype._success=function(c){this._cleanup(),s.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},o.prototype._error=function(c){this._cleanup(),s.Log.error(c),this._reject(new Error(c))},o.prototype.close=function(){this._cleanup()},o.prototype._cleanup=function(){this._frame&&(s.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},o.prototype._timeout=function(){s.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},o.prototype._message=function(c){if(s.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var h=c.data;h?this._success({url:h}):this._error("Invalid response from frame")}},o.notifyParent=function(c){s.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(s.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},a(o,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),s=i(16),o=i(17);r.UserManagerEvents=function(l){function c(h){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c);var p=function(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}(this,l.call(this,h));return p._userLoaded=new o.Event("User loaded"),p._userUnloaded=new o.Event("User unloaded"),p._silentRenewError=new o.Event("Silent renew error"),p._userSignedIn=new o.Event("User signed in"),p._userSignedOut=new o.Event("User signed out"),p._userSessionChanged=new o.Event("User session changed"),p}return function(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}(c,l),c.prototype.load=function(p){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,p),m&&this._userLoaded.raise(p)},c.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(p){this._userLoaded.addHandler(p)},c.prototype.removeUserLoaded=function(p){this._userLoaded.removeHandler(p)},c.prototype.addUserUnloaded=function(p){this._userUnloaded.addHandler(p)},c.prototype.removeUserUnloaded=function(p){this._userUnloaded.removeHandler(p)},c.prototype.addSilentRenewError=function(p){this._silentRenewError.addHandler(p)},c.prototype.removeSilentRenewError=function(p){this._silentRenewError.removeHandler(p)},c.prototype._raiseSilentRenewError=function(p){a.Log.debug("UserManagerEvents._raiseSilentRenewError",p.message),this._silentRenewError.raise(p)},c.prototype.addUserSignedIn=function(p){this._userSignedIn.addHandler(p)},c.prototype.removeUserSignedIn=function(p){this._userSignedIn.removeHandler(p)},c.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(p){this._userSignedOut.addHandler(p)},c.prototype.removeUserSignedOut=function(p){this._userSignedOut.removeHandler(p)},c.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(p){this._userSessionChanged.addHandler(p)},c.prototype.removeUserSessionChanged=function(p){this._userSessionChanged.removeHandler(p)},c.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(s.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function p(m,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(m,w.key,w)}}return function(m,y,v){return y&&p(m.prototype,y),v&&p(m,v),m}}(),s=i(0),o=i(1),l=i(17);function c(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function h(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?p:m}r.Timer=function(p){function m(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.timer,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,m);var E=h(this,p.call(this,y));return E._timer=v,E._nowFunc=w||function(){return Date.now()/1e3},E}return function(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}(m,p),m.prototype.init=function(v){v<=0&&(v=1),v=parseInt(v);var w=this.now+v;if(this.expiration===w&&this._timerHandle)s.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),s.Log.debug("Timer.init timer "+this._name+" for duration:",v),this._expiration=w;var E=5;v<E&&(E=v),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*E)}},m.prototype.cancel=function(){this._timerHandle&&(s.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var v=this._expiration-this.now;s.Log.debug("Timer.callback; "+this._name+" timer expires in:",v),this._expiration<=this.now&&(this.cancel(),p.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function s(o){(function(c,h){if(!(c instanceof h))throw new TypeError("Cannot call a class as a function")})(this,s),this._userManager=o}return s.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},s.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},s.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function s(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(l){var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function s(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(I_)),I_.exports}var aA=oY();function uY(t,e){var n,r,i,a;throw t.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=t.error_description)!==null&&r!==void 0?r:""}`):t.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(e)} is invalid - ${(i=t.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${t.error} - ${(a=t.error_description)!==null&&a!==void 0?a:""}`)}function lY(t,e){if(t.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(t)}`);if(e.redirectUrl&&(t.redirect_uris===void 0||t.redirect_uris[0]!==e.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(t.redirect_uris)} don't match the provided ${JSON.stringify([e.redirectUrl.toString()])}`)}async function cY(t,e){var n;if(!e.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(e.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=FJ(e.idTokenSigningAlgValuesSupported,o0),i={client_name:t.clientName,application_type:"web",redirect_uris:[(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},s=await fetch(e.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(s.ok){const o=await s.json();return lY(o,t),{clientId:o.client_id,clientSecret:o.client_secret,idTokenSignedResponseAlg:o.id_token_signed_response_alg,clientType:"dynamic"}}throw s.status===400&&uY(await s.json(),t),new Error(`Dynamic client registration failed: the server returned ${s.status} ${s.statusText} - ${await s.text()}`)}function fY(t){return t.error!==void 0&&typeof t.error=="string"}function JM(t){return t.error_description!==void 0&&typeof t.error_description=="string"}function dY(t){return t.error_uri!==void 0&&typeof t.error_uri=="string"}function hY(t){return t.access_token!==void 0&&typeof t.access_token=="string"}function pY(t){return t.id_token!==void 0&&typeof t.id_token=="string"}function gY(t){return t.refresh_token!==void 0&&typeof t.refresh_token=="string"}function mY(t){return t.token_type!==void 0&&typeof t.token_type=="string"}function yY(t){return t.expires_in===void 0||typeof t.expires_in=="number"}function vY(t,e){if(e.grantType&&(!t.grantTypesSupported||!t.grantTypesSupported.includes(e.grantType)))throw new Error(`The issuer [${t.issuer}] does not support the [${e.grantType}] grant`);if(!t.tokenEndpoint)throw new Error(`This issuer [${t.issuer}] does not have a token endpoint`)}function QU(t,e){if(fY(t))throw new GU(`Token endpoint returned error [${t.error}]${JM(t)?`: ${t.error_description}`:""}${dY(t)?` (see ${t.error_uri})`:""}`,t.error,JM(t)?t.error_description:void 0);if(!hY(t))throw new Tg(["access_token"]);if(!pY(t))throw new Tg(["id_token"]);if(!mY(t))throw new Tg(["token_type"]);if(!yY(t))throw new Tg(["expires_in"]);if(!e&&t.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${t.token_type}].`);return t}async function _Y(t,e,n,r){vY(t,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await GJ(),i.DPoP=await xR(t.tokenEndpoint,"POST",a)),e.clientSecret&&(i.Authorization=`Basic ${btoa(`${e.clientId}:${e.clientSecret}`)}`);const s={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:e.clientId},o={method:"POST",headers:i,body:new URLSearchParams(s).toString()},c=await(await fetch(t.tokenEndpoint,o)).json(),h=QU(c,r),{webId:p,clientId:m}=await UU(h.id_token,t.jwksUri,t.issuer,e.clientId);return{accessToken:h.access_token,idToken:h.id_token,refreshToken:gY(h)?h.refresh_token:void 0,webId:p,clientId:m,dpopKey:a,expiresIn:h.expires_in}}const wY=t=>{try{return new URL(t),!0}catch{return!1}};async function bY(t,e,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:t,scope:$U};let a={};r!==void 0&&(a={DPoP:await xR(e.tokenEndpoint,"POST",r)});let s={};n.clientSecret!==void 0?s={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:wY(n.clientId)&&(i.client_id=n.clientId);const o=await fetch(e.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...s,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await o.json()}catch{throw new Error(`The token endpoint of issuer ${e.issuer} returned a malformed response.`)}const c=QU(l,r!==void 0),{webId:h}=await UU(c.id_token,e.jwksUri,e.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:h,dpopKey:r,expiresIn:c.expires_in}}function SY(t){const e=qU(t);return e.hash="",t.includes(`${e.origin}/`)?e.href:`${e.origin}${e.href.substring(e.origin.length+1)}`}async function xY(){await new aA.OidcClient({response_mode:"query"}).clearStaleState(new aA.WebStorageStateStore({}));const e=window.localStorage,n=[];for(let r=0;r<=e.length;r+=1){const i=e.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>e.removeItem(r))}class EY extends HJ{constructor(e,n){super(e,n)}}class TY extends qJ{constructor(){super(...arguments),this.login=async(e,n)=>{var r,i;await this.sessionInfoManager.clear(e.sessionId);const a=(r=e.redirectUrl)!==null&&r!==void 0?r:SY(window.location.href);if(!BU(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...e,redirectUrl:a,clientName:(i=e.clientName)!==null&&i!==void 0?i:e.clientId,eventEmitter:n})},this.validateCurrentSession=async e=>{const n=await this.sessionInfoManager.get(e);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(e,n)=>{try{const r=await this.redirectHandler.handle(e,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(e),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(e),n.emit(ii.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(e){const n=qU(e).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function YM(t){return typeof t.oidcIssuer=="string"}function XM(t){return typeof t.redirectUrl=="string"}class CY{constructor(e,n,r,i){this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=e,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(e){return YM(e)&&XM(e)}async handle(e){if(!YM(e))throw new iA(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(e)}`);if(!XM(e))throw new iA(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(e)}`);const n=await this.issuerConfigFetcher.fetchConfig(e.oidcIssuer),r=await BJ(e,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:e.tokenType.toLowerCase()==="dpop",...e,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class AY extends PJ{async handle(e){var n;const r={authority:e.issuer.toString(),client_id:e.client.clientId,client_secret:e.client.clientSecret,redirect_uri:e.redirectUrl,response_type:"code",scope:$U,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=e.prompt)!==null&&n!==void 0?n:"consent"},i=new aA.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:e,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const RY=".well-known/openid-configuration",eD={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function PY(t){const e={};return Object.keys(t).forEach(n=>{eD[n]&&(e[eD[n].toKey]=t[n])}),Array.isArray(e.scopesSupported)||(e.scopesSupported=["openid"]),e}class ER{constructor(e){this.storageUtility=e,this.storageUtility=e}static getLocalStorageKey(e){return`issuerConfig:${e}`}async fetchConfig(e){let n;const r=new URL(RY,e.endsWith("/")?e:`${e}/`).href,i=await fetch(r);try{n=PY(await i.json())}catch(a){throw new iA(`[${e.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(ER.getLocalStorageKey(e),JSON.stringify(n)),n}}async function OY(t,e){await HU(t,e),await xY()}class IY extends MJ{async get(e){const[n,r,i,a,s,o,l,c]=await Promise.all([this.storageUtility.getForUser(e,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(e,"webId",{secure:!0}),this.storageUtility.getForUser(e,"clientId",{secure:!1}),this.storageUtility.getForUser(e,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(e,"refreshToken",{secure:!0}),this.storageUtility.getForUser(e,"issuer",{secure:!1}),this.storageUtility.getForUser(e,"tokenType",{secure:!1})]);if(typeof s=="string"&&!BU(s)){await Promise.all([this.storageUtility.deleteAllUserData(e,{secure:!1}),this.storageUtility.deleteAllUserData(e,{secure:!0})]);return}if(c!==void 0&&!NJ(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&o===void 0))return{sessionId:e,webId:r,isLoggedIn:n==="true",redirectUrl:s,refreshToken:o,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:c??"DPoP"}}async clear(e){return OY(e,this.storageUtility)}}class LY{async canHandle(e){try{return new URL(e),!0}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e){return zU()}}class MY{constructor(e,n,r,i,a){this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=e,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(e){try{const n=new URL(e);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(!await this.canHandle(e))throw new Error(`AuthCodeRedirectHandler cannot handle [${e}]: it is missing one of [code, state].`);const r=new URL(e),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:s,codeVerifier:o,redirectUrl:l,dpop:c}=await KU(a,this.storageUtility,this.issuerConfigFetcher),h=r.searchParams.get("iss");if(typeof h=="string"&&h!==s.issuer)throw new Error(`The value of the iss parameter (${h}) does not match the issuer identifier of the authorization server (${s.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(o===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:a},s),m=Date.now(),y=await _Y(s,p,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:o,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let v;y.refreshToken!==void 0&&(v={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const w=await YJ(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:v,eventEmitter:n,expiresIn:y.expiresIn});await zJ(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const E=await this.sessionInfoManager.get(a);if(!E)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(E,{fetch:w,getLogoutUrl:kJ({idTokenHint:y.idToken,endSessionEndpoint:s.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class DY extends AJ{constructor(e){super(e)}}class kY{get storage(){return window.localStorage}async get(e){return this.storage.getItem(e)||void 0}async set(e,n){this.storage.setItem(e,n)}async delete(e){this.storage.removeItem(e)}}class NY{redirect(e,n){n&&n.handleRedirect?n.handleRedirect(e):n&&n.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}class FY{constructor(e){this.storageUtility=e,this.storageUtility=e}async getClient(e,n){const[r,i,a,s]=await Promise.all([this.storageUtility.getForUser(e.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(e.sessionId,"clientType",{secure:!1})]);if(r&&UJ(s))return{clientId:r,clientSecret:i,clientName:a,clientType:s};try{const o=await cY(e,n),l={clientId:o.clientId,clientType:"dynamic"};return o.clientSecret&&(l.clientSecret=o.clientSecret),o.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=o.idTokenSignedResponseAlg),await this.storageUtility.setForUser(e.sessionId,l,{secure:!1}),o}catch(o){throw new Error(`Client registration failed: [${o}]`)}}}class jY{async canHandle(e){try{return new URL(e).searchParams.has("error")}catch(n){throw new Error(`[${e}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(e,n){if(n!==void 0){const r=new URL(e),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(ii.ERROR,i,a)}return zU()}}class $Y{constructor(e,n,r){this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=e,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(e,n,r,i){const a=await KU(e,this.storageUtility,this.issuerConfigFetcher),s=await this.clientRegistrar.getClient({sessionId:e},a.issuerConfig);if(n===void 0)throw new Error(`Session [${e}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${e}], the key bound to the DPoP access token must be provided to refresh said access token.`);const o=await bY(n,a.issuerConfig,s,r);return o.refreshToken!==void 0&&(i==null||i.emit(ii.NEW_REFRESH_TOKEN,o.refreshToken)),o}}function tD(t){const e=new VJ,n=t.secureStorage||e,r=t.insecureStorage||new kY,i=new EY(n,r),a=new ER(i),s=new FY(i),o=new IY(i),l=new $Y(i,a,s),c=new NY,h=new CY(i,new AY(i,c),a,s),p=new DY([new jY,new MY(i,o,a,s,l),new LY]);return new TY(h,p,new LJ(o,c),o,a)}const H1=`${jU}currentSession`,sA=`${jU}currentUrl`;async function UY(t,e,n){var r;const i=await e.validateCurrentSession(t);return i!==null?(window.localStorage.setItem(sA,window.location.href),await e.login({sessionId:t,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function BY(t){return!!(t!=null&&t.isLoggedIn)}class qY{constructor(e={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(H1),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(ii.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,s=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const o=await this.clientAuthentication.handleIncomingRedirect(s,this.events);if(BY(o)){this.setSessionInfo(o);const l=window.localStorage.getItem(sA);l===null?this.events.emit(ii.LOGIN):(window.localStorage.removeItem(sA),this.events.emit(ii.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(H1);if(l!==null&&await UY(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,o},this.events=new aY,e.clientAuthentication?this.clientAuthentication=e.clientAuthentication:e.secureStorage&&e.insecureStorage?this.clientAuthentication=tD({secureStorage:e.secureStorage,insecureStorage:e.insecureStorage}):this.clientAuthentication=tD({}),e.sessionInfo?this.info={sessionId:e.sessionInfo.sessionId,isLoggedIn:!1,webId:e.sessionInfo.webId,clientAppId:e.sessionInfo.clientAppId}:this.info={sessionId:n??rY(),isLoggedIn:!1},this.events.on(ii.LOGIN,()=>window.localStorage.setItem(H1,this.info.sessionId)),this.events.on(ii.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(ii.ERROR,()=>this.internalLogout(!1))}setSessionInfo(e){this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.clientAppId=e.clientAppId,this.info.expirationDate=e.expirationDate,this.events.on(ii.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let V1;function Tm(){return typeof V1>"u"&&(V1=new qY),V1}const nr=(...t)=>Tm().fetch(...t),zY=(...t)=>Tm().login(...t),HY=(...t)=>Tm().logout(...t),VY=(...t)=>Tm().handleIncomingRedirect(...t);var K1,nD;function KY(){if(nD)return K1;nD=1;var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,e=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,o={IDLE:1,URI:2,ATTR:4};function l(v){return v.replace(e,"")}function c(v){return n.test(v)}function h(v,w){for(;c(v[w]);)w++;return w}function p(v){return a.test(v)||!s.test(v)}function m(v,w){return Object.keys(v).length===Object.keys(w).length&&Object.keys(v).every(E=>E in w&&v[E]===w[E])}class y{constructor(w){this.refs=[],w&&this.parse(w)}rel(w){for(var E=[],b=w.toLowerCase(),x=0;x<this.refs.length;x++)typeof this.refs[x].rel=="string"&&this.refs[x].rel.toLowerCase()===b&&E.push(this.refs[x]);return E}get(w,E){w=w.toLowerCase(),E=E.toLowerCase();for(var b=[],x=0;x<this.refs.length;x++)typeof this.refs[x][w]=="string"&&this.refs[x][w].toLowerCase()===E&&b.push(this.refs[x]);return b}set(w){return this.refs.push(w),this}setUnique(w){return this.refs.some(E=>m(E,w))||this.refs.push(w),this}has(w,E){w=w.toLowerCase(),E=E.toLowerCase();for(var b=0;b<this.refs.length;b++)if(typeof this.refs[b][w]=="string"&&this.refs[b][w].toLowerCase()===E)return!0;return!1}parse(w,A){A=A||0,w=A?w.slice(A):w,w=l(w).replace(r,"");for(var b=o.IDLE,x=w.length,A=0,I=null;A<x;)if(b===o.IDLE){if(c(w[A])){A++;continue}else if(w[A]==="<"){I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I));var M=w.indexOf(">",A);if(M===-1)throw new Error("Expected end of URI delimiter at offset "+A);I={uri:w.slice(A+1,M)},A=M,b=o.URI}else throw new Error('Unexpected character "'+w[A]+'" at offset '+A);A++}else if(b===o.URI)if(c(w[A])){A++;continue}else if(w[A]===";")b=o.ATTR,A++;else if(w[A]===",")b=o.IDLE,A++;else throw new Error('Unexpected character "'+w[A]+'" at offset '+A);else if(b===o.ATTR){if(w[A]===";"||c(w[A])){A++;continue}var M=w.indexOf("=",A);M===-1&&(M=w.indexOf(";",A)),M===-1&&(M=w.length);var D=l(w.slice(A,M)).toLowerCase(),F="";if(A=M+1,A=h(w,A),w[A]==='"')for(A++;A<x;){if(w[A]==='"'){A++;break}w[A]==="\\"&&A++,F+=w[A],A++}else{for(var M=A+1;!i.test(w[M])&&M<x;)M++;F=w.slice(A,M),A=M}switch(I[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?I[D]=y.parseExtendedValue(F):(F=D==="type"?F.toLowerCase():F,I[D]!=null?Array.isArray(I[D])?I[D].push(F):I[D]=[I[D],F]:I[D]=F)),w[A]){case",":b=o.IDLE;break;case";":b=o.ATTR;break}A++}else throw new Error('Unknown parser state "'+b+'"');return I!=null&&(I.rel!=null?this.refs.push(...y.expandRelations(I)):this.refs.push(I)),I=null,this}toString(){for(var w=[],E="",b=null,x=0;x<this.refs.length;x++)b=this.refs[x],E=Object.keys(this.refs[x]).reduce(function(A,I){return I==="uri"?A:A+"; "+y.formatAttribute(I,b[I])},"<"+b.uri+">"),w.push(E);return w.join(", ")}}return y.isCompatibleEncoding=function(v){return t.test(v)},y.parse=function(v,w){return new y().parse(v,w)},y.isSingleOccurenceAttr=function(v){return v==="rel"||v==="type"||v==="media"||v==="title"||v==="title*"},y.isTokenAttr=function(v){return v==="rel"||v==="type"||v==="anchor"},y.escapeQuotes=function(v){return v.replace(/"/g,'\\"')},y.expandRelations=function(v){var w=v.rel.split(" ");return w.map(function(E){var b=Object.assign({},v);return b.rel=E,b})},y.parseExtendedValue=function(v){var w=/([^']+)?(?:'([^']*)')?(.+)/.exec(v);return{language:w[2].toLowerCase(),encoding:y.isCompatibleEncoding(w[1])?null:w[1].toLowerCase(),value:y.isCompatibleEncoding(w[1])?decodeURIComponent(w[3]):w[3]}},y.formatExtendedAttribute=function(v,w){var E=(w.encoding||"utf-8").toUpperCase(),b=w.language||"en",x="";return Buffer.isBuffer(w.value)&&y.isCompatibleEncoding(E)?x=w.value.toString(E):Buffer.isBuffer(w.value)?x=w.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):x=encodeURIComponent(w.value),v+"="+E+"'"+b+"'"+x},y.formatAttribute=function(v,w){return Array.isArray(w)?w.map(E=>y.formatAttribute(v,E)).join("; "):v[v.length-1]==="*"||typeof w!="string"?y.formatExtendedAttribute(v,w):(y.isTokenAttr(v)?w=p(w)?'"'+y.escapeQuotes(w)+'"':y.escapeQuotes(w):p(w)&&(w=encodeURIComponent(w),w=w.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),w='"'+w+'"'),v+"="+w)},K1=y,K1}var GY=KY();const ZU=kr(GY),yp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",vp="http://www.w3.org/2001/XMLSchema#",G1="http://www.w3.org/2000/10/swap/",Hi={xsd:{decimal:`${vp}decimal`,boolean:`${vp}boolean`,double:`${vp}double`,integer:`${vp}integer`,string:`${vp}string`},rdf:{type:`${yp}type`,nil:`${yp}nil`,first:`${yp}first`,rest:`${yp}rest`,langString:`${yp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${G1}reify#forSome`,forAll:`${G1}reify#forAll`},log:{implies:`${G1}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var W1,rD;function WY(){if(rD)return W1;rD=1;let t;return W1=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:wg):e=>(t||(t=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),W1}var QY=WY();const JU=kr(QY),{xsd:av}=Hi,ZY=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,iD={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},JY=/[\x00-\x20<>\\"\{\}\|\^\`]/,YY={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},XY=/$0^/;let TR=class{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in YY)&&this[n]instanceof RegExp&&(this[n]=XY)}else this._n3Mode=e.n3!==!1;this._comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this._comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,h=r[0];let p="",m="",y="",v=null,w=0,E=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){E=!0;break}}else{this._n3Mode&&(w=1,p="^");break}case"<":if(v=this._unescapedIri.exec(r))p="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||JY.test(m))return s(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",w=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",w=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",w=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return s(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return s(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(p="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(p="langcode",m=v[1]):(v=this._keyword.exec(r))&&(p=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",w=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(p="literal",m=v[0],y=typeof v[1]=="string"?av.double:typeof v[2]=="string"?av.decimal:av.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?p=v[0].toUpperCase():E=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(p="literal",m=v[0],y=av.boolean):E=!0;break;case"a":(v=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):E=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(w=1,m="="):(w=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(w=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",w=2):(p=h,w=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",w=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(p="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const b=w||v[0].length,x=a(p,m,y,c,b);this.previousToken=x,this._previousMarker=p,r=r.substr(b,r.length)}function a(o,l,c,h,p){const m=r?i-r.length:i,y=m+p,v={type:o,value:l,prefix:c,line:h,start:m,end:y};return e(null,v),v}function s(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(ZY,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in iD?iD[o]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const s=e.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")JU(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}};function eX(t){return!!t&&t.termType==="NamedNode"}function tX(t){return!!t&&t.termType==="BlankNode"}function nX(t){return!!t&&t.termType==="Literal"}function rX(t){return!!t&&t.termType==="Variable"}function Bd(t){return!!t&&t.termType==="DefaultGraph"}function iX(t){return Bd(t.graph)}function aX(t,e){return YU({"":t.value||t},e)("")}function YU(t,e){const n=Object.create(null);for(const i in t)r(i,t[i]);e=e||Pl;function r(i,a){if(typeof a=="string"){const s=Object.create(null);n[i]=o=>s[o]||(s[o]=e.namedNode(a+o))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const XU=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:iX,isBlankNode:tX,isDefaultGraph:Bd,isLiteral:nX,isNamedNode:eX,isVariable:rX,prefix:aX,prefixes:YU},Symbol.toStringTag,{value:"Module"})),{rdf:sX,xsd:Dc}=Hi;let Cm,oX=0;const Pl={namedNode:uX,blankNode:lX,variable:fX,literal:cX,defaultGraph:dX,quad:aD,triple:aD};let So=class eB{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof eB?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},Qr=class extends So{get termType(){return"NamedNode"}},md=class tB extends So{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new Qr(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?Dc.string:sX.langString}equals(e){return e instanceof tB?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},CR=class extends So{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},AR=class extends So{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},RR=class extends So{constructor(){return super(""),Cm||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};Cm=new RR;function Fc(t,e,n){if(e=e||Pl,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Pl)return new md(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Fc(t[0],e,!0),Fc(t[1],e,!0),Fc(t[2],e,!0),t[3]&&Fc(t[3],e,!0))}function ua(t,e){if(typeof t=="string")return t;if(t instanceof So&&t.termType!=="Quad")return t.id;if(!t)return Cm.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==Dc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[ua(t.subject,!0),ua(t.predicate,!0),ua(t.object,!0)];return Bd(t.graph)||n.push(ua(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let Ms=class extends So{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||Cm}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function uX(t){return new Qr(t)}function lX(t){return new CR(t||`n3-${oX++}`)}function cX(t,e){if(typeof e=="string")return new md(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=Dc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?Dc.integer:Dc.double:(n=Dc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===Dc.string?new md(`"${t}"`):new md(`"${t}"^^${n}`)}function fX(t){return new AR(t)}function dX(){return Cm}function aD(t,e,n,r){return new Ms(t,e,n,r)}let sD=0,ah=class{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&nB(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new TR({lineMode:l,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){sD=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",e);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=Q1}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return r+e.substring(s)}parse(e,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${sD++}_`,this._prefixCallback=r||Q1,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(s,o)=>{s?a=s:o&&i.push(o)},this._lexer.tokenize(e).every(s=>this._readCallback=this._readCallback(s)),a)throw a;return i}this._callback=n,this._lexer.tokenize(e,(i,a)=>{i!==null?(this._callback(i),this._callback=Q1):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function Q1(){}function nB(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(Hi.rdf.first),t.RDF_REST=n(Hi.rdf.rest),t.RDF_NIL=n(Hi.rdf.nil),t.N3_FORALL=n(Hi.r.forAll),t.N3_FORSOME=n(Hi.r.forSome),t.ABBREVIATIONS={a:n(Hi.rdf.type),"=":n(Hi.owl.sameAs),">":n(Hi.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}nB(ah.prototype,Pl);const _p=Pl.defaultGraph(),{rdf:hX,xsd:Qf}=Hi,oD=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,uD=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,pX={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let wp=class extends So{equals(e){return e===this}},B0=class{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=_p,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${cD(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return _p.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(_p.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){return e.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),oD.test(n)&&(n=n.replace(uD,lD));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(oD.test(n)&&(n=n.replace(uD,lD)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Qf.string)return`"${n}"`}else switch(e.datatype.value){case Qf.string:return`"${n}"`;case Qf.boolean:if(n==="true"||n==="false")return n;break;case Qf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Qf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Qf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===hX.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Bd(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,_p,i):this._writeQuad(e,n,r,i||_p,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=cD(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new wp("[]");case 1:if(i=r[0],!(i.object instanceof wp))return new wp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new wp(`${s}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new wp(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function lD(t){let e=pX[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function cD(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var Z1={exports:{}},J1={exports:{}},Y1={},bp={},fD;function gX(){if(fD)return bp;fD=1,bp.byteLength=o,bp.toByteArray=c,bp.fromByteArray=m;for(var t=[],e=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)t[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function s(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=v);var E=w===v?0:4-w%4;return[w,E]}function o(y){var v=s(y),w=v[0],E=v[1];return(w+E)*3/4-E}function l(y,v,w){return(v+w)*3/4-w}function c(y){var v,w=s(y),E=w[0],b=w[1],x=new n(l(y,E,b)),A=0,I=b>0?E-4:E,M;for(M=0;M<I;M+=4)v=e[y.charCodeAt(M)]<<18|e[y.charCodeAt(M+1)]<<12|e[y.charCodeAt(M+2)]<<6|e[y.charCodeAt(M+3)],x[A++]=v>>16&255,x[A++]=v>>8&255,x[A++]=v&255;return b===2&&(v=e[y.charCodeAt(M)]<<2|e[y.charCodeAt(M+1)]>>4,x[A++]=v&255),b===1&&(v=e[y.charCodeAt(M)]<<10|e[y.charCodeAt(M+1)]<<4|e[y.charCodeAt(M+2)]>>2,x[A++]=v>>8&255,x[A++]=v&255),x}function h(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function p(y,v,w){for(var E,b=[],x=v;x<w;x+=3)E=(y[x]<<16&16711680)+(y[x+1]<<8&65280)+(y[x+2]&255),b.push(h(E));return b.join("")}function m(y){for(var v,w=y.length,E=w%3,b=[],x=16383,A=0,I=w-E;A<I;A+=x)b.push(p(y,A,A+x>I?I:A+x));return E===1?(v=y[w-1],b.push(t[v>>2]+t[v<<4&63]+"==")):E===2&&(v=(y[w-2]<<8)+y[w-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return bp}var sv={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var dD;function mX(){return dD||(dD=1,sv.read=function(t,e,n,r,i){var a,s,o=i*8-r-1,l=(1<<o)-1,c=l>>1,h=-7,p=n?i-1:0,m=n?-1:1,y=t[e+p];for(p+=m,a=y&(1<<-h)-1,y>>=-h,h+=o;h>0;a=a*256+t[e+p],p+=m,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=r;h>0;s=s*256+t[e+p],p+=m,h-=8);if(a===0)a=1-c;else{if(a===l)return s?NaN:(y?-1:1)*(1/0);s=s+Math.pow(2,r),a=a-c}return(y?-1:1)*s*Math.pow(2,a-r)},sv.write=function(t,e,n,r,i,a){var s,o,l,c=a*8-i-1,h=(1<<c)-1,p=h>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,v=r?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+p>=1?e+=m/l:e+=m*Math.pow(2,1-p),e*l>=2&&(s++,l/=2),s+p>=h?(o=0,s=h):s+p>=1?(o=(e*l-1)*Math.pow(2,i),s=s+p):(o=e*Math.pow(2,p-1)*Math.pow(2,i),s=0));i>=8;t[n+y]=o&255,y+=v,o/=256,i-=8);for(s=s<<i|o,c+=i;c>0;t[n+y]=s&255,y+=v,s/=256,c-=8);t[n+y-v]|=w*128}),sv}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var hD;function _u(){return hD||(hD=1,function(t){const e=gX(),n=mX(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=o,t.SlowBuffer=x,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=a(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const ee=new Uint8Array(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,Uint8Array.prototype),Object.setPrototypeOf(ee,q),ee.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(ee){if(ee>i)throw new RangeError('The value "'+ee+'" is invalid for option "size"');const q=new Uint8Array(ee);return Object.setPrototypeOf(q,o.prototype),q}function o(ee,q,K){if(typeof ee=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(ee)}return l(ee,q,K)}o.poolSize=8192;function l(ee,q,K){if(typeof ee=="string")return m(ee,q);if(ArrayBuffer.isView(ee))return v(ee);if(ee==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee);if(nt(ee,ArrayBuffer)||ee&&nt(ee.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(ee,SharedArrayBuffer)||ee&&nt(ee.buffer,SharedArrayBuffer)))return w(ee,q,K);if(typeof ee=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=ee.valueOf&&ee.valueOf();if(V!=null&&V!==ee)return o.from(V,q,K);const je=E(ee);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ee[Symbol.toPrimitive]=="function")return o.from(ee[Symbol.toPrimitive]("string"),q,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ee)}o.from=function(ee,q,K){return l(ee,q,K)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(ee){if(typeof ee!="number")throw new TypeError('"size" argument must be of type number');if(ee<0)throw new RangeError('The value "'+ee+'" is invalid for option "size"')}function h(ee,q,K){return c(ee),ee<=0?s(ee):q!==void 0?typeof K=="string"?s(ee).fill(q,K):s(ee).fill(q):s(ee)}o.alloc=function(ee,q,K){return h(ee,q,K)};function p(ee){return c(ee),s(ee<0?0:b(ee)|0)}o.allocUnsafe=function(ee){return p(ee)},o.allocUnsafeSlow=function(ee){return p(ee)};function m(ee,q){if((typeof q!="string"||q==="")&&(q="utf8"),!o.isEncoding(q))throw new TypeError("Unknown encoding: "+q);const K=A(ee,q)|0;let V=s(K);const je=V.write(ee,q);return je!==K&&(V=V.slice(0,je)),V}function y(ee){const q=ee.length<0?0:b(ee.length)|0,K=s(q);for(let V=0;V<q;V+=1)K[V]=ee[V]&255;return K}function v(ee){if(nt(ee,Uint8Array)){const q=new Uint8Array(ee);return w(q.buffer,q.byteOffset,q.byteLength)}return y(ee)}function w(ee,q,K){if(q<0||ee.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<q+(K||0))throw new RangeError('"length" is outside of buffer bounds');let V;return q===void 0&&K===void 0?V=new Uint8Array(ee):K===void 0?V=new Uint8Array(ee,q):V=new Uint8Array(ee,q,K),Object.setPrototypeOf(V,o.prototype),V}function E(ee){if(o.isBuffer(ee)){const q=b(ee.length)|0,K=s(q);return K.length===0||ee.copy(K,0,0,q),K}if(ee.length!==void 0)return typeof ee.length!="number"||gt(ee.length)?s(0):y(ee);if(ee.type==="Buffer"&&Array.isArray(ee.data))return y(ee.data)}function b(ee){if(ee>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ee|0}function x(ee){return+ee!=ee&&(ee=0),o.alloc(+ee)}o.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==o.prototype},o.compare=function(q,K){if(nt(q,Uint8Array)&&(q=o.from(q,q.offset,q.byteLength)),nt(K,Uint8Array)&&(K=o.from(K,K.offset,K.byteLength)),!o.isBuffer(q)||!o.isBuffer(K))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===K)return 0;let V=q.length,je=K.length;for(let Ze=0,ke=Math.min(V,je);Ze<ke;++Ze)if(q[Ze]!==K[Ze]){V=q[Ze],je=K[Ze];break}return V<je?-1:je<V?1:0},o.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(q,K){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return o.alloc(0);let V;if(K===void 0)for(K=0,V=0;V<q.length;++V)K+=q[V].length;const je=o.allocUnsafe(K);let Ze=0;for(V=0;V<q.length;++V){let ke=q[V];if(nt(ke,Uint8Array))Ze+ke.length>je.length?(o.isBuffer(ke)||(ke=o.from(ke)),ke.copy(je,Ze)):Uint8Array.prototype.set.call(je,ke,Ze);else if(o.isBuffer(ke))ke.copy(je,Ze);else throw new TypeError('"list" argument must be an Array of Buffers');Ze+=ke.length}return je};function A(ee,q){if(o.isBuffer(ee))return ee.length;if(ArrayBuffer.isView(ee)||nt(ee,ArrayBuffer))return ee.byteLength;if(typeof ee!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ee);const K=ee.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&K===0)return 0;let je=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return ye(ee).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K*2;case"hex":return K>>>1;case"base64":return Ne(ee).length;default:if(je)return V?-1:ye(ee).length;q=(""+q).toLowerCase(),je=!0}}o.byteLength=A;function I(ee,q,K){let V=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0,q>>>=0,K<=q))return"";for(ee||(ee="utf8");;)switch(ee){case"hex":return Oe(this,q,K);case"utf8":case"utf-8":return ue(this,q,K);case"ascii":return he(this,q,K);case"latin1":case"binary":return fe(this,q,K);case"base64":return re(this,q,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,q,K);default:if(V)throw new TypeError("Unknown encoding: "+ee);ee=(ee+"").toLowerCase(),V=!0}}o.prototype._isBuffer=!0;function M(ee,q,K){const V=ee[q];ee[q]=ee[K],ee[K]=V}o.prototype.swap16=function(){const q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let K=0;K<q;K+=2)M(this,K,K+1);return this},o.prototype.swap32=function(){const q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let K=0;K<q;K+=4)M(this,K,K+3),M(this,K+1,K+2);return this},o.prototype.swap64=function(){const q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let K=0;K<q;K+=8)M(this,K,K+7),M(this,K+1,K+6),M(this,K+2,K+5),M(this,K+3,K+4);return this},o.prototype.toString=function(){const q=this.length;return q===0?"":arguments.length===0?ue(this,0,q):I.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(q){if(!o.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:o.compare(this,q)===0},o.prototype.inspect=function(){let q="";const K=t.INSPECT_MAX_BYTES;return q=this.toString("hex",0,K).replace(/(.{2})/g,"$1 ").trim(),this.length>K&&(q+=" ... "),"<Buffer "+q+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(q,K,V,je,Ze){if(nt(q,Uint8Array)&&(q=o.from(q,q.offset,q.byteLength)),!o.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(K===void 0&&(K=0),V===void 0&&(V=q?q.length:0),je===void 0&&(je=0),Ze===void 0&&(Ze=this.length),K<0||V>q.length||je<0||Ze>this.length)throw new RangeError("out of range index");if(je>=Ze&&K>=V)return 0;if(je>=Ze)return-1;if(K>=V)return 1;if(K>>>=0,V>>>=0,je>>>=0,Ze>>>=0,this===q)return 0;let ke=Ze-je,Rt=V-K;const It=Math.min(ke,Rt),Nt=this.slice(je,Ze),Pt=q.slice(K,V);for(let zt=0;zt<It;++zt)if(Nt[zt]!==Pt[zt]){ke=Nt[zt],Rt=Pt[zt];break}return ke<Rt?-1:Rt<ke?1:0};function D(ee,q,K,V,je){if(ee.length===0)return-1;if(typeof K=="string"?(V=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),K=+K,gt(K)&&(K=je?0:ee.length-1),K<0&&(K=ee.length+K),K>=ee.length){if(je)return-1;K=ee.length-1}else if(K<0)if(je)K=0;else return-1;if(typeof q=="string"&&(q=o.from(q,V)),o.isBuffer(q))return q.length===0?-1:F(ee,q,K,V,je);if(typeof q=="number")return q=q&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(ee,q,K):Uint8Array.prototype.lastIndexOf.call(ee,q,K):F(ee,[q],K,V,je);throw new TypeError("val must be string, number or Buffer")}function F(ee,q,K,V,je){let Ze=1,ke=ee.length,Rt=q.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(ee.length<2||q.length<2)return-1;Ze=2,ke/=2,Rt/=2,K/=2}function It(Pt,zt){return Ze===1?Pt[zt]:Pt.readUInt16BE(zt*Ze)}let Nt;if(je){let Pt=-1;for(Nt=K;Nt<ke;Nt++)if(It(ee,Nt)===It(q,Pt===-1?0:Nt-Pt)){if(Pt===-1&&(Pt=Nt),Nt-Pt+1===Rt)return Pt*Ze}else Pt!==-1&&(Nt-=Nt-Pt),Pt=-1}else for(K+Rt>ke&&(K=ke-Rt),Nt=K;Nt>=0;Nt--){let Pt=!0;for(let zt=0;zt<Rt;zt++)if(It(ee,Nt+zt)!==It(q,zt)){Pt=!1;break}if(Pt)return Nt}return-1}o.prototype.includes=function(q,K,V){return this.indexOf(q,K,V)!==-1},o.prototype.indexOf=function(q,K,V){return D(this,q,K,V,!0)},o.prototype.lastIndexOf=function(q,K,V){return D(this,q,K,V,!1)};function Z(ee,q,K,V){K=Number(K)||0;const je=ee.length-K;V?(V=Number(V),V>je&&(V=je)):V=je;const Ze=q.length;V>Ze/2&&(V=Ze/2);let ke;for(ke=0;ke<V;++ke){const Rt=parseInt(q.substr(ke*2,2),16);if(gt(Rt))return ke;ee[K+ke]=Rt}return ke}function X(ee,q,K,V){return tt(ye(q,ee.length-K),ee,K,V)}function U(ee,q,K,V){return tt(He(q),ee,K,V)}function J(ee,q,K,V){return tt(Ne(q),ee,K,V)}function ce(ee,q,K,V){return tt(Te(q,ee.length-K),ee,K,V)}o.prototype.write=function(q,K,V,je){if(K===void 0)je="utf8",V=this.length,K=0;else if(V===void 0&&typeof K=="string")je=K,V=this.length,K=0;else if(isFinite(K))K=K>>>0,isFinite(V)?(V=V>>>0,je===void 0&&(je="utf8")):(je=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Ze=this.length-K;if((V===void 0||V>Ze)&&(V=Ze),q.length>0&&(V<0||K<0)||K>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Z(this,q,K,V);case"utf8":case"utf-8":return X(this,q,K,V);case"ascii":case"latin1":case"binary":return U(this,q,K,V);case"base64":return J(this,q,K,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,q,K,V);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(ee,q,K){return q===0&&K===ee.length?e.fromByteArray(ee):e.fromByteArray(ee.slice(q,K))}function ue(ee,q,K){K=Math.min(ee.length,K);const V=[];let je=q;for(;je<K;){const Ze=ee[je];let ke=null,Rt=Ze>239?4:Ze>223?3:Ze>191?2:1;if(je+Rt<=K){let It,Nt,Pt,zt;switch(Rt){case 1:Ze<128&&(ke=Ze);break;case 2:It=ee[je+1],(It&192)===128&&(zt=(Ze&31)<<6|It&63,zt>127&&(ke=zt));break;case 3:It=ee[je+1],Nt=ee[je+2],(It&192)===128&&(Nt&192)===128&&(zt=(Ze&15)<<12|(It&63)<<6|Nt&63,zt>2047&&(zt<55296||zt>57343)&&(ke=zt));break;case 4:It=ee[je+1],Nt=ee[je+2],Pt=ee[je+3],(It&192)===128&&(Nt&192)===128&&(Pt&192)===128&&(zt=(Ze&15)<<18|(It&63)<<12|(Nt&63)<<6|Pt&63,zt>65535&&zt<1114112&&(ke=zt))}}ke===null?(ke=65533,Rt=1):ke>65535&&(ke-=65536,V.push(ke>>>10&1023|55296),ke=56320|ke&1023),V.push(ke),je+=Rt}return be(V)}const me=4096;function be(ee){const q=ee.length;if(q<=me)return String.fromCharCode.apply(String,ee);let K="",V=0;for(;V<q;)K+=String.fromCharCode.apply(String,ee.slice(V,V+=me));return K}function he(ee,q,K){let V="";K=Math.min(ee.length,K);for(let je=q;je<K;++je)V+=String.fromCharCode(ee[je]&127);return V}function fe(ee,q,K){let V="";K=Math.min(ee.length,K);for(let je=q;je<K;++je)V+=String.fromCharCode(ee[je]);return V}function Oe(ee,q,K){const V=ee.length;(!q||q<0)&&(q=0),(!K||K<0||K>V)&&(K=V);let je="";for(let Ze=q;Ze<K;++Ze)je+=qt[ee[Ze]];return je}function k(ee,q,K){const V=ee.slice(q,K);let je="";for(let Ze=0;Ze<V.length-1;Ze+=2)je+=String.fromCharCode(V[Ze]+V[Ze+1]*256);return je}o.prototype.slice=function(q,K){const V=this.length;q=~~q,K=K===void 0?V:~~K,q<0?(q+=V,q<0&&(q=0)):q>V&&(q=V),K<0?(K+=V,K<0&&(K=0)):K>V&&(K=V),K<q&&(K=q);const je=this.subarray(q,K);return Object.setPrototypeOf(je,o.prototype),je};function ie(ee,q,K){if(ee%1!==0||ee<0)throw new RangeError("offset is not uint");if(ee+q>K)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=this[q],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[q+ke]*Ze;return je},o.prototype.readUintBE=o.prototype.readUIntBE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=this[q+--K],Ze=1;for(;K>0&&(Ze*=256);)je+=this[q+--K]*Ze;return je},o.prototype.readUint8=o.prototype.readUInt8=function(q,K){return q=q>>>0,K||ie(q,1,this.length),this[q]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(q,K){return q=q>>>0,K||ie(q,2,this.length),this[q]|this[q+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(q,K){return q=q>>>0,K||ie(q,2,this.length),this[q]<<8|this[q+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},o.prototype.readBigUInt64LE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=K+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24,Ze=this[++q]+this[++q]*2**8+this[++q]*2**16+V*2**24;return BigInt(je)+(BigInt(Ze)<<BigInt(32))}),o.prototype.readBigUInt64BE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=K*2**24+this[++q]*2**16+this[++q]*2**8+this[++q],Ze=this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+V;return(BigInt(je)<<BigInt(32))+BigInt(Ze)}),o.prototype.readIntLE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=this[q],Ze=1,ke=0;for(;++ke<K&&(Ze*=256);)je+=this[q+ke]*Ze;return Ze*=128,je>=Ze&&(je-=Math.pow(2,8*K)),je},o.prototype.readIntBE=function(q,K,V){q=q>>>0,K=K>>>0,V||ie(q,K,this.length);let je=K,Ze=1,ke=this[q+--je];for(;je>0&&(Ze*=256);)ke+=this[q+--je]*Ze;return Ze*=128,ke>=Ze&&(ke-=Math.pow(2,8*K)),ke},o.prototype.readInt8=function(q,K){return q=q>>>0,K||ie(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},o.prototype.readInt16LE=function(q,K){q=q>>>0,K||ie(q,2,this.length);const V=this[q]|this[q+1]<<8;return V&32768?V|4294901760:V},o.prototype.readInt16BE=function(q,K){q=q>>>0,K||ie(q,2,this.length);const V=this[q+1]|this[q]<<8;return V&32768?V|4294901760:V},o.prototype.readInt32LE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},o.prototype.readInt32BE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},o.prototype.readBigInt64LE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=this[q+4]+this[q+5]*2**8+this[q+6]*2**16+(V<<24);return(BigInt(je)<<BigInt(32))+BigInt(K+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24)}),o.prototype.readBigInt64BE=Se(function(q){q=q>>>0,$(q,"offset");const K=this[q],V=this[q+7];(K===void 0||V===void 0)&&ae(q,this.length-8);const je=(K<<24)+this[++q]*2**16+this[++q]*2**8+this[++q];return(BigInt(je)<<BigInt(32))+BigInt(this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+V)}),o.prototype.readFloatLE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),n.read(this,q,!0,23,4)},o.prototype.readFloatBE=function(q,K){return q=q>>>0,K||ie(q,4,this.length),n.read(this,q,!1,23,4)},o.prototype.readDoubleLE=function(q,K){return q=q>>>0,K||ie(q,8,this.length),n.read(this,q,!0,52,8)},o.prototype.readDoubleBE=function(q,K){return q=q>>>0,K||ie(q,8,this.length),n.read(this,q,!1,52,8)};function ge(ee,q,K,V,je,Ze){if(!o.isBuffer(ee))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>je||q<Ze)throw new RangeError('"value" argument is out of bounds');if(K+V>ee.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(q,K,V,je){if(q=+q,K=K>>>0,V=V>>>0,!je){const Rt=Math.pow(2,8*V)-1;ge(this,q,K,V,Rt,0)}let Ze=1,ke=0;for(this[K]=q&255;++ke<V&&(Ze*=256);)this[K+ke]=q/Ze&255;return K+V},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(q,K,V,je){if(q=+q,K=K>>>0,V=V>>>0,!je){const Rt=Math.pow(2,8*V)-1;ge(this,q,K,V,Rt,0)}let Ze=V-1,ke=1;for(this[K+Ze]=q&255;--Ze>=0&&(ke*=256);)this[K+Ze]=q/ke&255;return K+V},o.prototype.writeUint8=o.prototype.writeUInt8=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,1,255,0),this[K]=q&255,K+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,2,65535,0),this[K]=q&255,this[K+1]=q>>>8,K+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,2,65535,0),this[K]=q>>>8,this[K+1]=q&255,K+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,4,4294967295,0),this[K+3]=q>>>24,this[K+2]=q>>>16,this[K+1]=q>>>8,this[K]=q&255,K+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,4,4294967295,0),this[K]=q>>>24,this[K+1]=q>>>16,this[K+2]=q>>>8,this[K+3]=q&255,K+4};function H(ee,q,K,V,je){z(q,V,je,ee,K,7);let Ze=Number(q&BigInt(4294967295));ee[K++]=Ze,Ze=Ze>>8,ee[K++]=Ze,Ze=Ze>>8,ee[K++]=Ze,Ze=Ze>>8,ee[K++]=Ze;let ke=Number(q>>BigInt(32)&BigInt(4294967295));return ee[K++]=ke,ke=ke>>8,ee[K++]=ke,ke=ke>>8,ee[K++]=ke,ke=ke>>8,ee[K++]=ke,K}function Y(ee,q,K,V,je){z(q,V,je,ee,K,7);let Ze=Number(q&BigInt(4294967295));ee[K+7]=Ze,Ze=Ze>>8,ee[K+6]=Ze,Ze=Ze>>8,ee[K+5]=Ze,Ze=Ze>>8,ee[K+4]=Ze;let ke=Number(q>>BigInt(32)&BigInt(4294967295));return ee[K+3]=ke,ke=ke>>8,ee[K+2]=ke,ke=ke>>8,ee[K+1]=ke,ke=ke>>8,ee[K]=ke,K+8}o.prototype.writeBigUInt64LE=Se(function(q,K=0){return H(this,q,K,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Se(function(q,K=0){return Y(this,q,K,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(q,K,V,je){if(q=+q,K=K>>>0,!je){const It=Math.pow(2,8*V-1);ge(this,q,K,V,It-1,-It)}let Ze=0,ke=1,Rt=0;for(this[K]=q&255;++Ze<V&&(ke*=256);)q<0&&Rt===0&&this[K+Ze-1]!==0&&(Rt=1),this[K+Ze]=(q/ke>>0)-Rt&255;return K+V},o.prototype.writeIntBE=function(q,K,V,je){if(q=+q,K=K>>>0,!je){const It=Math.pow(2,8*V-1);ge(this,q,K,V,It-1,-It)}let Ze=V-1,ke=1,Rt=0;for(this[K+Ze]=q&255;--Ze>=0&&(ke*=256);)q<0&&Rt===0&&this[K+Ze+1]!==0&&(Rt=1),this[K+Ze]=(q/ke>>0)-Rt&255;return K+V},o.prototype.writeInt8=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,1,127,-128),q<0&&(q=255+q+1),this[K]=q&255,K+1},o.prototype.writeInt16LE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,2,32767,-32768),this[K]=q&255,this[K+1]=q>>>8,K+2},o.prototype.writeInt16BE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,2,32767,-32768),this[K]=q>>>8,this[K+1]=q&255,K+2},o.prototype.writeInt32LE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,4,2147483647,-2147483648),this[K]=q&255,this[K+1]=q>>>8,this[K+2]=q>>>16,this[K+3]=q>>>24,K+4},o.prototype.writeInt32BE=function(q,K,V){return q=+q,K=K>>>0,V||ge(this,q,K,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[K]=q>>>24,this[K+1]=q>>>16,this[K+2]=q>>>8,this[K+3]=q&255,K+4},o.prototype.writeBigInt64LE=Se(function(q,K=0){return H(this,q,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Se(function(q,K=0){return Y(this,q,K,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(ee,q,K,V,je,Ze){if(K+V>ee.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function Ae(ee,q,K,V,je){return q=+q,K=K>>>0,je||pe(ee,q,K,4),n.write(ee,q,K,V,23,4),K+4}o.prototype.writeFloatLE=function(q,K,V){return Ae(this,q,K,!0,V)},o.prototype.writeFloatBE=function(q,K,V){return Ae(this,q,K,!1,V)};function Je(ee,q,K,V,je){return q=+q,K=K>>>0,je||pe(ee,q,K,8),n.write(ee,q,K,V,52,8),K+8}o.prototype.writeDoubleLE=function(q,K,V){return Je(this,q,K,!0,V)},o.prototype.writeDoubleBE=function(q,K,V){return Je(this,q,K,!1,V)},o.prototype.copy=function(q,K,V,je){if(!o.isBuffer(q))throw new TypeError("argument should be a Buffer");if(V||(V=0),!je&&je!==0&&(je=this.length),K>=q.length&&(K=q.length),K||(K=0),je>0&&je<V&&(je=V),je===V||q.length===0||this.length===0)return 0;if(K<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),q.length-K<je-V&&(je=q.length-K+V);const Ze=je-V;return this===q&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(K,V,je):Uint8Array.prototype.set.call(q,this.subarray(V,je),K),Ze},o.prototype.fill=function(q,K,V,je){if(typeof q=="string"){if(typeof K=="string"?(je=K,K=0,V=this.length):typeof V=="string"&&(je=V,V=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!o.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(q.length===1){const ke=q.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(q=ke)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(K<0||this.length<K||this.length<V)throw new RangeError("Out of range index");if(V<=K)return this;K=K>>>0,V=V===void 0?this.length:V>>>0,q||(q=0);let Ze;if(typeof q=="number")for(Ze=K;Ze<V;++Ze)this[Ze]=q;else{const ke=o.isBuffer(q)?q:o.from(q,je),Rt=ke.length;if(Rt===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Ze=0;Ze<V-K;++Ze)this[Ze+K]=ke[Ze%Rt]}return this};const Re={};function Fe(ee,q,K){Re[ee]=class extends K{constructor(){super(),Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ee}]`,this.stack,delete this.name}get code(){return ee}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${ee}]: ${this.message}`}}}Fe("ERR_BUFFER_OUT_OF_BOUNDS",function(ee){return ee?`${ee} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Fe("ERR_INVALID_ARG_TYPE",function(ee,q){return`The "${ee}" argument must be of type number. Received type ${typeof q}`},TypeError),Fe("ERR_OUT_OF_RANGE",function(ee,q,K){let V=`The value of "${ee}" is out of range.`,je=K;return Number.isInteger(K)&&Math.abs(K)>2**32?je=Xe(String(K)):typeof K=="bigint"&&(je=String(K),(K>BigInt(2)**BigInt(32)||K<-(BigInt(2)**BigInt(32)))&&(je=Xe(je)),je+="n"),V+=` It must be ${q}. Received ${je}`,V},RangeError);function Xe(ee){let q="",K=ee.length;const V=ee[0]==="-"?1:0;for(;K>=V+4;K-=3)q=`_${ee.slice(K-3,K)}${q}`;return`${ee.slice(0,K)}${q}`}function se(ee,q,K){$(q,"offset"),(ee[q]===void 0||ee[q+K]===void 0)&&ae(q,ee.length-(K+1))}function z(ee,q,K,V,je,Ze){if(ee>K||ee<q){const ke=typeof q=="bigint"?"n":"";let Rt;throw q===0||q===BigInt(0)?Rt=`>= 0${ke} and < 2${ke} ** ${(Ze+1)*8}${ke}`:Rt=`>= -(2${ke} ** ${(Ze+1)*8-1}${ke}) and < 2 ** ${(Ze+1)*8-1}${ke}`,new Re.ERR_OUT_OF_RANGE("value",Rt,ee)}se(V,je,Ze)}function $(ee,q){if(typeof ee!="number")throw new Re.ERR_INVALID_ARG_TYPE(q,"number",ee)}function ae(ee,q,K){throw Math.floor(ee)!==ee?($(ee,K),new Re.ERR_OUT_OF_RANGE("offset","an integer",ee)):q<0?new Re.ERR_BUFFER_OUT_OF_BOUNDS:new Re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${q}`,ee)}const W=/[^+/0-9A-Za-z-_]/g;function de(ee){if(ee=ee.split("=")[0],ee=ee.trim().replace(W,""),ee.length<2)return"";for(;ee.length%4!==0;)ee=ee+"=";return ee}function ye(ee,q){q=q||1/0;let K;const V=ee.length;let je=null;const Ze=[];for(let ke=0;ke<V;++ke){if(K=ee.charCodeAt(ke),K>55295&&K<57344){if(!je){if(K>56319){(q-=3)>-1&&Ze.push(239,191,189);continue}else if(ke+1===V){(q-=3)>-1&&Ze.push(239,191,189);continue}je=K;continue}if(K<56320){(q-=3)>-1&&Ze.push(239,191,189),je=K;continue}K=(je-55296<<10|K-56320)+65536}else je&&(q-=3)>-1&&Ze.push(239,191,189);if(je=null,K<128){if((q-=1)<0)break;Ze.push(K)}else if(K<2048){if((q-=2)<0)break;Ze.push(K>>6|192,K&63|128)}else if(K<65536){if((q-=3)<0)break;Ze.push(K>>12|224,K>>6&63|128,K&63|128)}else if(K<1114112){if((q-=4)<0)break;Ze.push(K>>18|240,K>>12&63|128,K>>6&63|128,K&63|128)}else throw new Error("Invalid code point")}return Ze}function He(ee){const q=[];for(let K=0;K<ee.length;++K)q.push(ee.charCodeAt(K)&255);return q}function Te(ee,q){let K,V,je;const Ze=[];for(let ke=0;ke<ee.length&&!((q-=2)<0);++ke)K=ee.charCodeAt(ke),V=K>>8,je=K%256,Ze.push(je),Ze.push(V);return Ze}function Ne(ee){return e.toByteArray(de(ee))}function tt(ee,q,K,V){let je;for(je=0;je<V&&!(je+K>=q.length||je>=ee.length);++je)q[je+K]=ee[je];return je}function nt(ee,q){return ee instanceof q||ee!=null&&ee.constructor!=null&&ee.constructor.name!=null&&ee.constructor.name===q.name}function gt(ee){return ee!==ee}const qt=function(){const ee="0123456789abcdef",q=new Array(256);for(let K=0;K<16;++K){const V=K*16;for(let je=0;je<16;++je)q[V+je]=ee[K]+ee[je]}return q}();function Se(ee){return typeof BigInt>"u"?Be:ee}function Be(){throw new Error("BigInt not supported")}}(Y1)),Y1}var X1,pD;function qr(){return pD||(pD=1,X1={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,n){return t.slice(e,n)},Error,FunctionPrototypeCall(t,e,...n){return t.call(e,...n)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,n){return Object.defineProperty(t,e,n)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,n){return t.then(e,n)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,n){return t.slice(e,n)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,n){return t.set(e,n)},Boolean,Uint8Array}),X1}var eS={exports:{}},Sp={exports:{}},gD;function Xg(){if(gD)return Sp.exports;gD=1;const{AbortController:t,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Sp.exports=t,Sp.exports.AbortSignal=e,Sp.exports.default=t,Sp.exports}var mD;function da(){return mD||(mD=1,function(t){const e=_u(),{kResistStopPropagation:n,SymbolDispose:r}=qr(),i=globalThis.AbortSignal||Xg().AbortSignal,a=globalThis.AbortController||Xg().AbortController,s=Object.getPrototypeOf(async function(){}).constructor,o=globalThis.Blob||e.Blob,l=typeof o<"u"?function(y){return y instanceof o}:function(y){return!1},c=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},h=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class p extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let v="";for(let w=0;w<y.length;w++)v+=`    ${y[w].stack}
`;super(v),this.name="AggregateError",this.errors=y}}t.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(...v){y||(y=!0,m.apply(this,v))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((w,E)=>{m=w,y=E}),resolve:m,reject:y}},promisify(m){return new Promise((y,v)=>{m((w,...E)=>w?v(w):y(...E))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[v,w]){const E=y.shift();return w==="f"?E.toFixed(6):w==="j"?JSON.stringify(E):w==="s"&&typeof E=="object"?`${E.constructor!==Object?E.constructor.name:""} {}`.trim():E.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof s},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:l,deprecate(m,y){return m},addAbortListener:ih().addAbortListener||function(y,v){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);c(y,"signal"),h(v,"listener");let w;return y.aborted?queueMicrotask(()=>v()):(y.addEventListener("abort",v,{__proto__:null,once:!0,[n]:!0}),w=()=>{y.removeEventListener("abort",v)}),{__proto__:null,[r](){var E;(E=w)===null||E===void 0||E()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const v=new a,w=()=>v.abort();return y.forEach(E=>{c(E,"signals"),E.addEventListener("abort",w,{once:!0})}),v.signal.addEventListener("abort",()=>{y.forEach(E=>E.removeEventListener("abort",w))},{once:!0}),v.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(eS)),eS.exports}var ov={},tS,yD;function Pa(){if(yD)return tS;yD=1;const{format:t,inspect:e,AggregateError:n}=da(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",l={};function c(E,b){if(!E)throw new l.ERR_INTERNAL_ASSERTION(b)}function h(E){let b="",x=E.length;const A=E[0]==="-"?1:0;for(;x>=A+4;x-=3)b=`_${E.slice(x-3,x)}${b}`;return`${E.slice(0,x)}${b}`}function p(E,b,x){if(typeof b=="function")return c(b.length<=x.length,`Code: ${E}; The provided arguments length (${x.length}) does not match the required ones (${b.length}).`),b(...x);const A=(b.match(/%[dfijoOs]/g)||[]).length;return c(A===x.length,`Code: ${E}; The provided arguments length (${x.length}) does not match the required ones (${A}).`),x.length===0?b:t(b,...x)}function m(E,b,x){x||(x=Error);class A extends x{constructor(...M){super(p(E,b,M))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(A.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),A.prototype.code=E,A.prototype[i]=!0,l[E]=A}function y(E){const b=o+E.name;return Object.defineProperty(E,"name",{value:b}),E}function v(E,b){if(E&&b&&E!==b){if(Array.isArray(b.errors))return b.errors.push(E),b;const x=new r([b,E],b.message);return x.code=b.code,x}return E||b}class w extends Error{constructor(b="The operation was aborted",x=void 0){if(x!==void 0&&typeof x!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",x);super(b,x),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(E,b,x)=>{c(typeof E=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let A="The ";E.endsWith(" argument")?A+=`${E} `:A+=`"${E}" ${E.includes(".")?"property":"argument"} `,A+="must be ";const I=[],M=[],D=[];for(const Z of b)c(typeof Z=="string","All expected entries have to be of type string"),a.includes(Z)?I.push(Z.toLowerCase()):s.test(Z)?M.push(Z):(c(Z!=="object",'The value "object" should be written as "Object"'),D.push(Z));if(M.length>0){const Z=I.indexOf("object");Z!==-1&&(I.splice(I,Z,1),M.push("Object"))}if(I.length>0){switch(I.length){case 1:A+=`of type ${I[0]}`;break;case 2:A+=`one of type ${I[0]} or ${I[1]}`;break;default:{const Z=I.pop();A+=`one of type ${I.join(", ")}, or ${Z}`}}(M.length>0||D.length>0)&&(A+=" or ")}if(M.length>0){switch(M.length){case 1:A+=`an instance of ${M[0]}`;break;case 2:A+=`an instance of ${M[0]} or ${M[1]}`;break;default:{const Z=M.pop();A+=`an instance of ${M.join(", ")}, or ${Z}`}}D.length>0&&(A+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(A+="an "),A+=`${D[0]}`;break;case 2:A+=`one of ${D[0]} or ${D[1]}`;break;default:{const Z=D.pop();A+=`one of ${D.join(", ")}, or ${Z}`}}if(x==null)A+=`. Received ${x}`;else if(typeof x=="function"&&x.name)A+=`. Received function ${x.name}`;else if(typeof x=="object"){var F;if((F=x.constructor)!==null&&F!==void 0&&F.name)A+=`. Received an instance of ${x.constructor.name}`;else{const Z=e(x,{depth:-1});A+=`. Received ${Z}`}}else{let Z=e(x,{colors:!1});Z.length>25&&(Z=`${Z.slice(0,25)}...`),A+=`. Received type ${typeof x} (${Z})`}return A},TypeError),m("ERR_INVALID_ARG_VALUE",(E,b,x="is invalid")=>{let A=e(b);return A.length>128&&(A=A.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${x}. Received ${A}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(E,b,x)=>{var A;const I=x!=null&&(A=x.constructor)!==null&&A!==void 0&&A.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${E} to be returned from the "${b}" function but got ${I}.`},TypeError),m("ERR_MISSING_ARGS",(...E)=>{c(E.length>0,"At least one arg needs to be specified");let b;const x=E.length;switch(E=(Array.isArray(E)?E:[E]).map(A=>`"${A}"`).join(" or "),x){case 1:b+=`The ${E[0]} argument`;break;case 2:b+=`The ${E[0]} and ${E[1]} arguments`;break;default:{const A=E.pop();b+=`The ${E.join(", ")}, and ${A} arguments`}break}return`${b} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(E,b,x)=>{c(b,'Missing "range" argument');let A;return Number.isInteger(x)&&Math.abs(x)>2**32?A=h(String(x)):typeof x=="bigint"?(A=String(x),(x>2n**32n||x<-(2n**32n))&&(A=h(A)),A+="n"):A=e(x),`The value of "${E}" is out of range. It must be ${b}. Received ${A}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),tS={AbortError:w,aggregateTwoErrors:y(v),hideStackFrames:y,codes:l},tS}var nS,vD;function Am(){if(vD)return nS;vD=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:o,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:h,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=qr(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:A}}=Pa(),{normalizeEncoding:I}=da(),{isAsyncFunction:M,isArrayBufferView:D}=da().types,F={};function Z(Te){return Te===(Te|0)}function X(Te){return Te===Te>>>0}const U=/^[0-7]+$/,J="must be a 32-bit unsigned integer or an octal string";function ce(Te,Ne,tt){if(typeof Te>"u"&&(Te=tt),typeof Te=="string"){if(h(U,Te)===null)throw new b(Ne,Te,J);Te=l(Te,8)}return me(Te,Ne),Te}const re=v((Te,Ne,tt=o,nt=s)=>{if(typeof Te!="number")throw new E(Ne,"number",Te);if(!i(Te))throw new x(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new x(Ne,`>= ${tt} && <= ${nt}`,Te)}),ue=v((Te,Ne,tt=-2147483648,nt=2147483647)=>{if(typeof Te!="number")throw new E(Ne,"number",Te);if(!i(Te))throw new x(Ne,"an integer",Te);if(Te<tt||Te>nt)throw new x(Ne,`>= ${tt} && <= ${nt}`,Te)}),me=v((Te,Ne,tt=!1)=>{if(typeof Te!="number")throw new E(Ne,"number",Te);if(!i(Te))throw new x(Ne,"an integer",Te);const nt=tt?1:0,gt=4294967295;if(Te<nt||Te>gt)throw new x(Ne,`>= ${nt} && <= ${gt}`,Te)});function be(Te,Ne){if(typeof Te!="string")throw new E(Ne,"string",Te)}function he(Te,Ne,tt=void 0,nt){if(typeof Te!="number")throw new E(Ne,"number",Te);if(tt!=null&&Te<tt||nt!=null&&Te>nt||(tt!=null||nt!=null)&&a(Te))throw new x(Ne,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Te)}const fe=v((Te,Ne,tt)=>{if(!e(tt,Te)){const gt="must be one of: "+n(r(tt,qt=>typeof qt=="string"?`'${qt}'`:p(qt)),", ");throw new b(Ne,Te,gt)}});function Oe(Te,Ne){if(typeof Te!="boolean")throw new E(Ne,"boolean",Te)}function k(Te,Ne,tt){return Te==null||!c(Te,Ne)?tt:Te[Ne]}const ie=v((Te,Ne,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Te===null||!nt&&t(Te)||typeof Te!="object"&&(!gt||typeof Te!="function"))throw new E(Ne,"Object",Te)}),ge=v((Te,Ne)=>{if(Te!=null&&typeof Te!="object"&&typeof Te!="function")throw new E(Ne,"a dictionary",Te)}),H=v((Te,Ne,tt=0)=>{if(!t(Te))throw new E(Ne,"Array",Te);if(Te.length<tt){const nt=`must be longer than ${tt}`;throw new b(Ne,Te,nt)}});function Y(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)be(Te[tt],`${Ne}[${tt}]`)}function pe(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++)Oe(Te[tt],`${Ne}[${tt}]`)}function Ae(Te,Ne){H(Te,Ne);for(let tt=0;tt<Te.length;tt++){const nt=Te[tt],gt=`${Ne}[${tt}]`;if(nt==null)throw new E(gt,"AbortSignal",nt);se(nt,gt)}}function Je(Te,Ne="signal"){if(be(Te,Ne),F[Te]===void 0)throw F[m(Te)]!==void 0?new A(Te+" (signals must use all capital letters)"):new A(Te)}const Re=v((Te,Ne="buffer")=>{if(!D(Te))throw new E(Ne,["Buffer","TypedArray","DataView"],Te)});function Fe(Te,Ne){const tt=I(Ne),nt=Te.length;if(tt==="hex"&&nt%2!==0)throw new b("encoding",Ne,`is invalid for data of length ${nt}`)}function Xe(Te,Ne="Port",tt=!0){if(typeof Te!="number"&&typeof Te!="string"||typeof Te=="string"&&y(Te).length===0||+Te!==+Te>>>0||Te>65535||Te===0&&!tt)throw new w(Ne,Te,tt);return Te|0}const se=v((Te,Ne)=>{if(Te!==void 0&&(Te===null||typeof Te!="object"||!("aborted"in Te)))throw new E(Ne,"AbortSignal",Te)}),z=v((Te,Ne)=>{if(typeof Te!="function")throw new E(Ne,"Function",Te)}),$=v((Te,Ne)=>{if(typeof Te!="function"||M(Te))throw new E(Ne,"Function",Te)}),ae=v((Te,Ne)=>{if(Te!==void 0)throw new E(Ne,"undefined",Te)});function W(Te,Ne,tt){if(!e(tt,Te))throw new E(Ne,`('${n(tt,"|")}')`,Te)}const de=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Te,Ne){if(typeof Te>"u"||!h(de,Te))throw new b(Ne,Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Te){if(typeof Te=="string")return ye(Te,"hints"),Te;if(t(Te)){const Ne=Te.length;let tt="";if(Ne===0)return tt;for(let nt=0;nt<Ne;nt++){const gt=Te[nt];ye(gt,"hints"),tt+=gt,nt!==Ne-1&&(tt+=", ")}return tt}throw new b("hints",Te,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return nS={isInt32:Z,isUint32:X,parseFileMode:ce,validateArray:H,validateStringArray:Y,validateBooleanArray:pe,validateAbortSignalArray:Ae,validateBoolean:Oe,validateBuffer:Re,validateDictionary:ge,validateEncoding:Fe,validateFunction:z,validateInt32:ue,validateInteger:re,validateNumber:he,validateObject:ie,validateOneOf:fe,validatePlainFunction:$,validatePort:Xe,validateSignalName:Je,validateString:be,validateUint32:me,validateUndefined:ae,validateUnion:W,validateAbortSignal:se,validateLinkHeaderValue:He},nS}var uv={exports:{}},rS={exports:{}},_D;function uf(){if(_D)return rS.exports;_D=1;var t=rS.exports={},e,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(w){if(e===setTimeout)return setTimeout(w,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(w,0);try{return e(w,0)}catch{try{return e.call(null,w,0)}catch{return e.call(this,w,0)}}}function s(w){if(n===clearTimeout)return clearTimeout(w);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(w);try{return n(w)}catch{try{return n.call(null,w)}catch{return n.call(this,w)}}}var o=[],l=!1,c,h=-1;function p(){!l||!c||(l=!1,c.length?o=c.concat(o):h=-1,o.length&&m())}function m(){if(!l){var w=a(p);l=!0;for(var E=o.length;E;){for(c=o,o=[];++h<E;)c&&c[h].run();h=-1,E=o.length}c=null,l=!1,s(w)}}t.nextTick=function(w){var E=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)E[b-1]=arguments[b];o.push(new y(w,E)),o.length===1&&!l&&a(m)};function y(w,E){this.fun=w,this.array=E}y.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function v(){}return t.on=v,t.addListener=v,t.once=v,t.off=v,t.removeListener=v,t.removeAllListeners=v,t.emit=v,t.prependListener=v,t.prependOnceListener=v,t.listeners=function(w){return[]},t.binding=function(w){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(w){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},rS.exports}var iS,wD;function wu(){if(wD)return iS;wD=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:n}=qr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),s=n("nodejs.stream.writable"),o=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function h(k,ie=!1){var ge;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ie||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((ge=k._readableState)===null||ge===void 0?void 0:ge.readable)!==!1)&&(!k._writableState||k._readableState))}function p(k){var ie;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ie=k._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function m(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function v(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function w(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function E(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function b(k){return v(k)||w(k)||E(k)}function x(k,ie){return k==null?!1:ie===!0?typeof k[t]=="function":ie===!1?typeof k[e]=="function":typeof k[t]=="function"||typeof k[e]=="function"}function A(k){if(!y(k))return null;const ie=k._writableState,ge=k._readableState,H=ie||ge;return!!(k.destroyed||k[r]||H!=null&&H.destroyed)}function I(k){if(!p(k))return null;if(k.writableEnded===!0)return!0;const ie=k._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function M(k,ie){if(!p(k))return null;if(k.writableFinished===!0)return!0;const ge=k._writableState;return ge!=null&&ge.errored?!1:typeof(ge==null?void 0:ge.finished)!="boolean"?null:!!(ge.finished||ie===!1&&ge.ended===!0&&ge.length===0)}function D(k){if(!h(k))return null;if(k.readableEnded===!0)return!0;const ie=k._readableState;return!ie||ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function F(k,ie){if(!h(k))return null;const ge=k._readableState;return ge!=null&&ge.errored?!1:typeof(ge==null?void 0:ge.endEmitted)!="boolean"?null:!!(ge.endEmitted||ie===!1&&ge.ended===!0&&ge.length===0)}function Z(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:A(k)?!1:h(k)&&k.readable&&!F(k)}function X(k){return k&&k[s]!=null?k[s]:typeof(k==null?void 0:k.writable)!="boolean"?null:A(k)?!1:p(k)&&k.writable&&!I(k)}function U(k,ie){return y(k)?A(k)?!0:!((ie==null?void 0:ie.readable)!==!1&&Z(k)||(ie==null?void 0:ie.writable)!==!1&&X(k)):null}function J(k){var ie,ge;return y(k)?k.writableErrored?k.writableErrored:(ie=(ge=k._writableState)===null||ge===void 0?void 0:ge.errored)!==null&&ie!==void 0?ie:null:null}function ce(k){var ie,ge;return y(k)?k.readableErrored?k.readableErrored:(ie=(ge=k._readableState)===null||ge===void 0?void 0:ge.errored)!==null&&ie!==void 0?ie:null:null}function re(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ie=k._writableState,ge=k._readableState;return typeof(ie==null?void 0:ie.closed)=="boolean"||typeof(ge==null?void 0:ge.closed)=="boolean"?(ie==null?void 0:ie.closed)||(ge==null?void 0:ge.closed):typeof k._closed=="boolean"&&ue(k)?k._closed:null}function ue(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function me(k){return typeof k._sent100=="boolean"&&ue(k)}function be(k){var ie;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ie=k.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function he(k){if(!y(k))return null;const ie=k._writableState,ge=k._readableState,H=ie||ge;return!H&&me(k)||!!(H&&H.autoDestroy&&H.emitClose&&H.closed===!1)}function fe(k){var ie;return!!(k&&((ie=k[o])!==null&&ie!==void 0?ie:k.readableDidRead||k.readableAborted))}function Oe(k){var ie,ge,H,Y,pe,Ae,Je,Re,Fe,Xe;return!!(k&&((ie=(ge=(H=(Y=(pe=(Ae=k[i])!==null&&Ae!==void 0?Ae:k.readableErrored)!==null&&pe!==void 0?pe:k.writableErrored)!==null&&Y!==void 0?Y:(Je=k._readableState)===null||Je===void 0?void 0:Je.errorEmitted)!==null&&H!==void 0?H:(Re=k._writableState)===null||Re===void 0?void 0:Re.errorEmitted)!==null&&ge!==void 0?ge:(Fe=k._readableState)===null||Fe===void 0?void 0:Fe.errored)!==null&&ie!==void 0?ie:!((Xe=k._writableState)===null||Xe===void 0)&&Xe.errored))}return iS={isDestroyed:A,kIsDestroyed:r,isDisturbed:fe,kIsDisturbed:o,isErrored:Oe,kIsErrored:i,isReadable:Z,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:s,isClosed:re,isDuplexNodeStream:m,isFinished:U,isIterable:x,isReadableNodeStream:h,isReadableStream:v,isReadableEnded:D,isReadableFinished:F,isReadableErrored:ce,isNodeStream:y,isWebStream:b,isWritable:X,isWritableNodeStream:p,isWritableStream:w,isWritableEnded:I,isWritableFinished:M,isWritableErrored:J,isServerRequest:be,isServerResponse:me,willEmitClose:he,isTransformStream:E},iS}var bD;function Dl(){if(bD)return uv.exports;bD=1;const t=uf(),{AbortError:e,codes:n}=Pa(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:s}=da(),{validateAbortSignal:o,validateFunction:l,validateObject:c,validateBoolean:h}=Am(),{Promise:p,PromisePrototypeThen:m,SymbolDispose:y}=qr(),{isClosed:v,isReadable:w,isReadableNodeStream:E,isReadableStream:b,isReadableFinished:x,isReadableErrored:A,isWritable:I,isWritableNodeStream:M,isWritableStream:D,isWritableFinished:F,isWritableErrored:Z,isNodeStream:X,willEmitClose:U,kIsClosedPromise:J}=wu();let ce;function re(fe){return fe.setHeader&&typeof fe.abort=="function"}const ue=()=>{};function me(fe,Oe,k){var ie,ge;if(arguments.length===2?(k=Oe,Oe=a):Oe==null?Oe=a:c(Oe,"options"),l(k,"callback"),o(Oe.signal,"options.signal"),k=s(k),b(fe)||D(fe))return be(fe,Oe,k);if(!X(fe))throw new r("stream",["ReadableStream","WritableStream","Stream"],fe);const H=(ie=Oe.readable)!==null&&ie!==void 0?ie:E(fe),Y=(ge=Oe.writable)!==null&&ge!==void 0?ge:M(fe),pe=fe._writableState,Ae=fe._readableState,Je=()=>{fe.writable||Xe()};let Re=U(fe)&&E(fe)===H&&M(fe)===Y,Fe=F(fe,!1);const Xe=()=>{Fe=!0,fe.destroyed&&(Re=!1),!(Re&&(!fe.readable||H))&&(!H||se)&&k.call(fe)};let se=x(fe,!1);const z=()=>{se=!0,fe.destroyed&&(Re=!1),!(Re&&(!fe.writable||Y))&&(!Y||Fe)&&k.call(fe)},$=Te=>{k.call(fe,Te)};let ae=v(fe);const W=()=>{ae=!0;const Te=Z(fe)||A(fe);if(Te&&typeof Te!="boolean")return k.call(fe,Te);if(H&&!se&&E(fe,!0)&&!x(fe,!1))return k.call(fe,new i);if(Y&&!Fe&&!F(fe,!1))return k.call(fe,new i);k.call(fe)},de=()=>{ae=!0;const Te=Z(fe)||A(fe);if(Te&&typeof Te!="boolean")return k.call(fe,Te);k.call(fe)},ye=()=>{fe.req.on("finish",Xe)};re(fe)?(fe.on("complete",Xe),Re||fe.on("abort",W),fe.req?ye():fe.on("request",ye)):Y&&!pe&&(fe.on("end",Je),fe.on("close",Je)),!Re&&typeof fe.aborted=="boolean"&&fe.on("aborted",W),fe.on("end",z),fe.on("finish",Xe),Oe.error!==!1&&fe.on("error",$),fe.on("close",W),ae?t.nextTick(W):pe!=null&&pe.errorEmitted||Ae!=null&&Ae.errorEmitted?Re||t.nextTick(de):(!H&&(!Re||w(fe))&&(Fe||I(fe)===!1)||!Y&&(!Re||I(fe))&&(se||w(fe)===!1)||Ae&&fe.req&&fe.aborted)&&t.nextTick(de);const He=()=>{k=ue,fe.removeListener("aborted",W),fe.removeListener("complete",Xe),fe.removeListener("abort",W),fe.removeListener("request",ye),fe.req&&fe.req.removeListener("finish",Xe),fe.removeListener("end",Je),fe.removeListener("close",Je),fe.removeListener("finish",Xe),fe.removeListener("end",z),fe.removeListener("error",$),fe.removeListener("close",W)};if(Oe.signal&&!ae){const Te=()=>{const Ne=k;He(),Ne.call(fe,new e(void 0,{cause:Oe.signal.reason}))};if(Oe.signal.aborted)t.nextTick(Te);else{ce=ce||da().addAbortListener;const Ne=ce(Oe.signal,Te),tt=k;k=s((...nt)=>{Ne[y](),tt.apply(fe,nt)})}}return He}function be(fe,Oe,k){let ie=!1,ge=ue;if(Oe.signal)if(ge=()=>{ie=!0,k.call(fe,new e(void 0,{cause:Oe.signal.reason}))},Oe.signal.aborted)t.nextTick(ge);else{ce=ce||da().addAbortListener;const Y=ce(Oe.signal,ge),pe=k;k=s((...Ae)=>{Y[y](),pe.apply(fe,Ae)})}const H=(...Y)=>{ie||t.nextTick(()=>k.apply(fe,Y))};return m(fe[J].promise,H,H),ue}function he(fe,Oe){var k;let ie=!1;return Oe===null&&(Oe=a),(k=Oe)!==null&&k!==void 0&&k.cleanup&&(h(Oe.cleanup,"cleanup"),ie=Oe.cleanup),new p((ge,H)=>{const Y=me(fe,Oe,pe=>{ie&&Y(),pe?H(pe):ge()})})}return uv.exports=me,uv.exports.finished=he,uv.exports}var aS,SD;function sh(){if(SD)return aS;SD=1;const t=uf(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Pa(),{Symbol:i}=qr(),{kIsDestroyed:a,isDestroyed:s,isFinished:o,isServerRequest:l}=wu(),c=i("kDestroy"),h=i("kConstruct");function p(U,J,ce){U&&(U.stack,J&&!J.errored&&(J.errored=U),ce&&!ce.errored&&(ce.errored=U))}function m(U,J){const ce=this._readableState,re=this._writableState,ue=re||ce;return re!=null&&re.destroyed||ce!=null&&ce.destroyed?(typeof J=="function"&&J(),this):(p(U,re,ce),re&&(re.destroyed=!0),ce&&(ce.destroyed=!0),ue.constructed?y(this,U,J):this.once(c,function(me){y(this,e(me,U),J)}),this)}function y(U,J,ce){let re=!1;function ue(me){if(re)return;re=!0;const be=U._readableState,he=U._writableState;p(me,he,be),he&&(he.closed=!0),be&&(be.closed=!0),typeof ce=="function"&&ce(me),me?t.nextTick(v,U,me):t.nextTick(w,U)}try{U._destroy(J||null,ue)}catch(me){ue(me)}}function v(U,J){E(U,J),w(U)}function w(U){const J=U._readableState,ce=U._writableState;ce&&(ce.closeEmitted=!0),J&&(J.closeEmitted=!0),(ce!=null&&ce.emitClose||J!=null&&J.emitClose)&&U.emit("close")}function E(U,J){const ce=U._readableState,re=U._writableState;re!=null&&re.errorEmitted||ce!=null&&ce.errorEmitted||(re&&(re.errorEmitted=!0),ce&&(ce.errorEmitted=!0),U.emit("error",J))}function b(){const U=this._readableState,J=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),J&&(J.constructed=!0,J.destroyed=!1,J.closed=!1,J.closeEmitted=!1,J.errored=null,J.errorEmitted=!1,J.finalCalled=!1,J.prefinished=!1,J.ended=J.writable===!1,J.ending=J.writable===!1,J.finished=J.writable===!1)}function x(U,J,ce){const re=U._readableState,ue=U._writableState;if(ue!=null&&ue.destroyed||re!=null&&re.destroyed)return this;re!=null&&re.autoDestroy||ue!=null&&ue.autoDestroy?U.destroy(J):J&&(J.stack,ue&&!ue.errored&&(ue.errored=J),re&&!re.errored&&(re.errored=J),ce?t.nextTick(E,U,J):E(U,J))}function A(U,J){if(typeof U._construct!="function")return;const ce=U._readableState,re=U._writableState;ce&&(ce.constructed=!1),re&&(re.constructed=!1),U.once(h,J),!(U.listenerCount(h)>1)&&t.nextTick(I,U)}function I(U){let J=!1;function ce(re){if(J){x(U,re??new n);return}J=!0;const ue=U._readableState,me=U._writableState,be=me||ue;ue&&(ue.constructed=!0),me&&(me.constructed=!0),be.destroyed?U.emit(c,re):re?x(U,re,!0):t.nextTick(M,U)}try{U._construct(re=>{t.nextTick(ce,re)})}catch(re){t.nextTick(ce,re)}}function M(U){U.emit(h)}function D(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function F(U){U.emit("close")}function Z(U,J){U.emit("error",J),t.nextTick(F,U)}function X(U,J){!U||s(U)||(!J&&!o(U)&&(J=new r),l(U)?(U.socket=null,U.destroy(J)):D(U)?U.abort():D(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(J):typeof U.close=="function"?U.close():J?t.nextTick(Z,U,J):t.nextTick(F,U),U.destroyed||(U[a]=!0))}return aS={construct:A,destroyer:X,destroy:m,undestroy:b,errorOrDestroy:x},aS}var sS,xD;function PR(){if(xD)return sS;xD=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=qr(),{EventEmitter:n}=ih();function r(a){n.call(this,a)}e(r.prototype,n.prototype),e(r,n),r.prototype.pipe=function(a,s){const o=this;function l(w){a.writable&&a.write(w)===!1&&o.pause&&o.pause()}o.on("data",l);function c(){o.readable&&o.resume&&o.resume()}a.on("drain",c),!a._isStdio&&(!s||s.end!==!1)&&(o.on("end",p),o.on("close",m));let h=!1;function p(){h||(h=!0,a.end())}function m(){h||(h=!0,typeof a.destroy=="function"&&a.destroy())}function y(w){v(),n.listenerCount(this,"error")===0&&this.emit("error",w)}i(o,"error",y),i(a,"error",y);function v(){o.removeListener("data",l),a.removeListener("drain",c),o.removeListener("end",p),o.removeListener("close",m),o.removeListener("error",y),a.removeListener("error",y),o.removeListener("end",v),o.removeListener("close",v),a.removeListener("close",v)}return o.on("end",v),o.on("close",v),a.on("close",v),a.emit("pipe",o),a};function i(a,s,o){if(typeof a.prependListener=="function")return a.prependListener(s,o);!a._events||!a._events[s]?a.on(s,o):t(a._events[s])?a._events[s].unshift(o):a._events[s]=[o,a._events[s]]}return sS={Stream:r,prependListener:i},sS}var oS={exports:{}},ED;function q0(){return ED||(ED=1,function(t){const{SymbolDispose:e}=qr(),{AbortError:n,codes:r}=Pa(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:s}=wu(),o=Dl(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const h=(p,m)=>{if(typeof p!="object"||!("aborted"in p))throw new l(m,"AbortSignal",p)};t.exports.addAbortSignal=function(m,y){if(h(m,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return t.exports.addAbortSignalNoValidate(m,y)},t.exports.addAbortSignalNoValidate=function(p,m){if(typeof p!="object"||!("aborted"in p))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:p.reason}))}:()=>{m[s](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{c=c||da().addAbortListener;const v=c(p,y);o(m,v[e])}return m}}(oS)),oS.exports}var uS,TD;function yX(){if(TD)return uS;TD=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:n,Uint8Array:r}=qr(),{Buffer:i}=_u(),{inspect:a}=da();return uS=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(o){const l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=o+l.data;return c}concat(o){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(o>>>0);let c=this.head,h=0;for(;c;)n(l,c.data,h),h+=c.data.length,c=c.next;return l}consume(o,l){const c=this.head.data;if(o<c.length){const h=c.slice(0,o);return this.head.data=c.slice(o),h}return o===c.length?this.shift():l?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let l="",c=this.head,h=0;do{const p=c.data;if(o>p.length)l+=p,o-=p.length;else{o===p.length?(l+=p,++h,c.next?this.head=c.next:this.head=this.tail=null):(l+=t(p,0,o),this.head=c,c.data=t(p,o));break}++h}while((c=c.next)!==null);return this.length-=h,l}_getBuffer(o){const l=i.allocUnsafe(o),c=o;let h=this.head,p=0;do{const m=h.data;if(o>m.length)n(l,m,c-o),o-=m.length;else{o===m.length?(n(l,m,c-o),++p,h.next?this.head=h.next:this.head=this.tail=null):(n(l,new r(m.buffer,m.byteOffset,o),c-o),this.head=h,h.data=m.slice(o));break}++p}while((h=h.next)!==null);return this.length-=p,l}[Symbol.for("nodejs.util.inspect.custom")](o,l){return a(this,{...l,depth:0,customInspect:!1})}},uS}var lS,CD;function z0(){if(CD)return lS;CD=1;const{MathFloor:t,NumberIsInteger:e}=qr(),{validateInteger:n}=Am(),{ERR_INVALID_ARG_VALUE:r}=Pa().codes;let i=16*1024,a=16;function s(h,p,m){return h.highWaterMark!=null?h.highWaterMark:p?h[m]:null}function o(h){return h?a:i}function l(h,p){n(p,"value",0),h?a=p:i=p}function c(h,p,m,y){const v=s(p,y,m);if(v!=null){if(!e(v)||v<0){const w=y?`options.${m}`:"options.highWaterMark";throw new r(w,v)}return t(v)}return o(h.objectMode)}return lS={getHighWaterMark:c,getDefaultHighWaterMark:o,setDefaultHighWaterMark:l},lS}var cS={},lv={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var AD;function vX(){return AD||(AD=1,function(t,e){var n=_u(),r=n.Buffer;function i(s,o){for(var l in s)o[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=a);function a(s,o,l){return r(s,o,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(s,o,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,o,l)},a.alloc=function(s,o,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},a.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},a.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}(lv,lv.exports)),lv.exports}var RD;function _X(){if(RD)return cS;RD=1;var t=vX().Buffer,e=t.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(b){if(!b)return"utf8";for(var x;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(x)return;b=(""+b).toLowerCase(),x=!0}}function r(b){var x=n(b);if(typeof x!="string"&&(t.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return x||b}cS.StringDecoder=i;function i(b){this.encoding=r(b);var x;switch(this.encoding){case"utf16le":this.text=p,this.end=m,x=4;break;case"utf8":this.fillLast=l,x=4;break;case"base64":this.text=y,this.end=v,x=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(x)}i.prototype.write=function(b){if(b.length===0)return"";var x,A;if(this.lastNeed){if(x=this.fillLast(b),x===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<b.length?x?x+this.text(b,A):this.text(b,A):x||""},i.prototype.end=h,i.prototype.text=c,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function a(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function s(b,x,A){var I=x.length-1;if(I<A)return 0;var M=a(x[I]);return M>=0?(M>0&&(b.lastNeed=M-1),M):--I<A||M===-2?0:(M=a(x[I]),M>=0?(M>0&&(b.lastNeed=M-2),M):--I<A||M===-2?0:(M=a(x[I]),M>=0?(M>0&&(M===2?M=0:b.lastNeed=M-3),M):0))}function o(b,x,A){if((x[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return b.lastNeed=2,""}}function l(b){var x=this.lastTotal-this.lastNeed,A=o(this,b);if(A!==void 0)return A;if(this.lastNeed<=b.length)return b.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,x,0,b.length),this.lastNeed-=b.length}function c(b,x){var A=s(this,b,x);if(!this.lastNeed)return b.toString("utf8",x);this.lastTotal=A;var I=b.length-(A-this.lastNeed);return b.copy(this.lastChar,0,I),b.toString("utf8",x,I)}function h(b){var x=b&&b.length?this.write(b):"";return this.lastNeed?x+"":x}function p(b,x){if((b.length-x)%2===0){var A=b.toString("utf16le",x);if(A){var I=A.charCodeAt(A.length-1);if(I>=55296&&I<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",x,b.length-1)}function m(b){var x=b&&b.length?this.write(b):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,A)}return x}function y(b,x){var A=(b.length-x)%3;return A===0?b.toString("base64",x):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",x,b.length-A))}function v(b){var x=b&&b.length?this.write(b):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function w(b){return b.toString(this.encoding)}function E(b){return b&&b.length?this.write(b):""}return cS}var fS,PD;function rB(){if(PD)return fS;PD=1;const t=uf(),{PromisePrototypeThen:e,SymbolAsyncIterator:n,SymbolIterator:r}=qr(),{Buffer:i}=_u(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:s}=Pa().codes;function o(l,c,h){let p;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...h,read(){this.push(c),this.push(null)}});let m;if(c&&c[n])m=!0,p=c[n]();else if(c&&c[r])m=!1,p=c[r]();else throw new a("iterable",["Iterable"],c);const y=new l({objectMode:!0,highWaterMark:1,...h});let v=!1;y._read=function(){v||(v=!0,E())},y._destroy=function(b,x){e(w(b),()=>t.nextTick(x,b),A=>t.nextTick(x,A||b))};async function w(b){const x=b!=null,A=typeof p.throw=="function";if(x&&A){const{value:I,done:M}=await p.throw(b);if(await I,M)return}if(typeof p.return=="function"){const{value:I}=await p.return();await I}}async function E(){for(;;){try{const{value:b,done:x}=m?await p.next():p.next();if(x)y.push(null);else{const A=b&&typeof b.then=="function"?await b:b;if(A===null)throw v=!1,new s;if(y.push(A))continue;v=!1}}catch(b){y.destroy(b)}break}}return y}return fS=o,fS}var dS,OD;function H0(){if(OD)return dS;OD=1;const t=uf(),{ArrayPrototypeIndexOf:e,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:s,ObjectSetPrototypeOf:o,Promise:l,SafeSet:c,SymbolAsyncDispose:h,SymbolAsyncIterator:p,Symbol:m}=qr();dS=nt,nt.ReadableState=tt;const{EventEmitter:y}=ih(),{Stream:v,prependListener:w}=PR(),{Buffer:E}=_u(),{addAbortSignal:b}=q0(),x=Dl();let A=da().debuglog("stream",Ie=>{A=Ie});const I=yX(),M=sh(),{getHighWaterMark:D,getDefaultHighWaterMark:F}=z0(),{aggregateTwoErrors:Z,codes:{ERR_INVALID_ARG_TYPE:X,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:ce,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:re},AbortError:ue}=Pa(),{validateObject:me}=Am(),be=m("kPaused"),{StringDecoder:he}=_X(),fe=rB();o(nt.prototype,v.prototype),o(nt,v);const Oe=()=>{},{errorOrDestroy:k}=M,ie=1,ge=2,H=4,Y=8,pe=16,Ae=32,Je=64,Re=128,Fe=256,Xe=512,se=1024,z=2048,$=4096,ae=8192,W=16384,de=32768,ye=65536,He=1<<17,Te=1<<18;function Ne(Ie){return{enumerable:!1,get(){return(this.state&Ie)!==0},set(qe){qe?this.state|=Ie:this.state&=~Ie}}}a(tt.prototype,{objectMode:Ne(ie),ended:Ne(ge),endEmitted:Ne(H),reading:Ne(Y),constructed:Ne(pe),sync:Ne(Ae),needReadable:Ne(Je),emittedReadable:Ne(Re),readableListening:Ne(Fe),resumeScheduled:Ne(Xe),errorEmitted:Ne(se),emitClose:Ne(z),autoDestroy:Ne($),destroyed:Ne(ae),closed:Ne(W),closeEmitted:Ne(de),multiAwaitDrain:Ne(ye),readingMore:Ne(He),dataEmitted:Ne(Te)});function tt(Ie,qe,bt){typeof bt!="boolean"&&(bt=qe instanceof yu()),this.state=z|$|pe|Ae,Ie&&Ie.objectMode&&(this.state|=ie),bt&&Ie&&Ie.readableObjectMode&&(this.state|=ie),this.highWaterMark=Ie?D(this,Ie,"readableHighWaterMark",bt):F(!1),this.buffer=new I,this.length=0,this.pipes=[],this.flowing=null,this[be]=null,Ie&&Ie.emitClose===!1&&(this.state&=~z),Ie&&Ie.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Ie&&Ie.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Ie&&Ie.encoding&&(this.decoder=new he(Ie.encoding),this.encoding=Ie.encoding)}function nt(Ie){if(!(this instanceof nt))return new nt(Ie);const qe=this instanceof yu();this._readableState=new tt(Ie,this,qe),Ie&&(typeof Ie.read=="function"&&(this._read=Ie.read),typeof Ie.destroy=="function"&&(this._destroy=Ie.destroy),typeof Ie.construct=="function"&&(this._construct=Ie.construct),Ie.signal&&!qe&&b(Ie.signal,this)),v.call(this,Ie),M.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=M.destroy,nt.prototype._undestroy=M.undestroy,nt.prototype._destroy=function(Ie,qe){qe(Ie)},nt.prototype[y.captureRejectionSymbol]=function(Ie){this.destroy(Ie)},nt.prototype[h]=function(){let Ie;return this.destroyed||(Ie=this.readableEnded?null:new ue,this.destroy(Ie)),new l((qe,bt)=>x(this,Et=>Et&&Et!==Ie?bt(Et):qe(null)))},nt.prototype.push=function(Ie,qe){return gt(this,Ie,qe,!1)},nt.prototype.unshift=function(Ie,qe){return gt(this,Ie,qe,!0)};function gt(Ie,qe,bt,Et){A("readableAddChunk",qe);const Mt=Ie._readableState;let Hn;if(Mt.state&ie||(typeof qe=="string"?(bt=bt||Mt.defaultEncoding,Mt.encoding!==bt&&(Et&&Mt.encoding?qe=E.from(qe,bt).toString(Mt.encoding):(qe=E.from(qe,bt),bt=""))):qe instanceof E?bt="":v._isUint8Array(qe)?(qe=v._uint8ArrayToBuffer(qe),bt=""):qe!=null&&(Hn=new X("chunk",["string","Buffer","Uint8Array"],qe))),Hn)k(Ie,Hn);else if(qe===null)Mt.state&=~Y,q(Ie,Mt);else if(Mt.state&ie||qe&&qe.length>0)if(Et)if(Mt.state&H)k(Ie,new re);else{if(Mt.destroyed||Mt.errored)return!1;qt(Ie,Mt,qe,!0)}else if(Mt.ended)k(Ie,new ce);else{if(Mt.destroyed||Mt.errored)return!1;Mt.state&=~Y,Mt.decoder&&!bt?(qe=Mt.decoder.write(qe),Mt.objectMode||qe.length!==0?qt(Ie,Mt,qe,!1):je(Ie,Mt)):qt(Ie,Mt,qe,!1)}else Et||(Mt.state&=~Y,je(Ie,Mt));return!Mt.ended&&(Mt.length<Mt.highWaterMark||Mt.length===0)}function qt(Ie,qe,bt,Et){qe.flowing&&qe.length===0&&!qe.sync&&Ie.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Ie.emit("data",bt)):(qe.length+=qe.objectMode?1:bt.length,Et?qe.buffer.unshift(bt):qe.buffer.push(bt),qe.state&Je&&K(Ie)),je(Ie,qe)}nt.prototype.isPaused=function(){const Ie=this._readableState;return Ie[be]===!0||Ie.flowing===!1},nt.prototype.setEncoding=function(Ie){const qe=new he(Ie);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const bt=this._readableState.buffer;let Et="";for(const Mt of bt)Et+=qe.write(Mt);return bt.clear(),Et!==""&&bt.push(Et),this._readableState.length=Et.length,this};const Se=1073741824;function Be(Ie){if(Ie>Se)throw new J("size","<= 1GiB",Ie);return Ie--,Ie|=Ie>>>1,Ie|=Ie>>>2,Ie|=Ie>>>4,Ie|=Ie>>>8,Ie|=Ie>>>16,Ie++,Ie}function ee(Ie,qe){return Ie<=0||qe.length===0&&qe.ended?0:qe.state&ie?1:r(Ie)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Ie<=qe.length?Ie:qe.ended?qe.length:0}nt.prototype.read=function(Ie){A("read",Ie),Ie===void 0?Ie=NaN:n(Ie)||(Ie=i(Ie,10));const qe=this._readableState,bt=Ie;if(Ie>qe.highWaterMark&&(qe.highWaterMark=Be(Ie)),Ie!==0&&(qe.state&=~Re),Ie===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return A("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?gr(this):K(this),null;if(Ie=ee(Ie,qe),Ie===0&&qe.ended)return qe.length===0&&gr(this),null;let Et=(qe.state&Je)!==0;if(A("need readable",Et),(qe.length===0||qe.length-Ie<qe.highWaterMark)&&(Et=!0,A("length less than watermark",Et)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)Et=!1,A("reading, ended or constructing",Et);else if(Et){A("do read"),qe.state|=Y|Ae,qe.length===0&&(qe.state|=Je);try{this._read(qe.highWaterMark)}catch(Hn){k(this,Hn)}qe.state&=~Ae,qe.reading||(Ie=ee(bt,qe))}let Mt;return Ie>0?Mt=hn(Ie,qe):Mt=null,Mt===null?(qe.needReadable=qe.length<=qe.highWaterMark,Ie=0):(qe.length-=Ie,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),bt!==Ie&&qe.ended&&gr(this)),Mt!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",Mt)),Mt};function q(Ie,qe){if(A("onEofChunk"),!qe.ended){if(qe.decoder){const bt=qe.decoder.end();bt&&bt.length&&(qe.buffer.push(bt),qe.length+=qe.objectMode?1:bt.length)}qe.ended=!0,qe.sync?K(Ie):(qe.needReadable=!1,qe.emittedReadable=!0,V(Ie))}}function K(Ie){const qe=Ie._readableState;A("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(A("emitReadable",qe.flowing),qe.emittedReadable=!0,t.nextTick(V,Ie))}function V(Ie){const qe=Ie._readableState;A("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Ie.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,zt(Ie)}function je(Ie,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,t.nextTick(Ze,Ie,qe))}function Ze(Ie,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const bt=qe.length;if(A("maybeReadMore read 0"),Ie.read(0),bt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Ie){throw new U("_read()")},nt.prototype.pipe=function(Ie,qe){const bt=this,Et=this._readableState;Et.pipes.length===1&&(Et.multiAwaitDrain||(Et.multiAwaitDrain=!0,Et.awaitDrainWriters=new c(Et.awaitDrainWriters?[Et.awaitDrainWriters]:[]))),Et.pipes.push(Ie),A("pipe count=%d opts=%j",Et.pipes.length,qe);const Hn=(!qe||qe.end!==!1)&&Ie!==t.stdout&&Ie!==t.stderr?We:Ht;Et.endEmitted?t.nextTick(Hn):bt.once("end",Hn),Ie.on("unpipe",Jn);function Jn(jt,tn){A("onunpipe"),jt===bt&&tn&&tn.hasUnpiped===!1&&(tn.hasUnpiped=!0,ft())}function We(){A("onend"),Ie.end()}let Ee,et=!1;function ft(){A("cleanup"),Ie.removeListener("close",Gt),Ie.removeListener("finish",Xt),Ee&&Ie.removeListener("drain",Ee),Ie.removeListener("error",Dt),Ie.removeListener("unpipe",Jn),bt.removeListener("end",We),bt.removeListener("end",Ht),bt.removeListener("data",Tt),et=!0,Ee&&Et.awaitDrainWriters&&(!Ie._writableState||Ie._writableState.needDrain)&&Ee()}function it(){et||(Et.pipes.length===1&&Et.pipes[0]===Ie?(A("false write response, pause",0),Et.awaitDrainWriters=Ie,Et.multiAwaitDrain=!1):Et.pipes.length>1&&Et.pipes.includes(Ie)&&(A("false write response, pause",Et.awaitDrainWriters.size),Et.awaitDrainWriters.add(Ie)),bt.pause()),Ee||(Ee=ke(bt,Ie),Ie.on("drain",Ee))}bt.on("data",Tt);function Tt(jt){A("ondata");const tn=Ie.write(jt);A("dest.write",tn),tn===!1&&it()}function Dt(jt){if(A("onerror",jt),Ht(),Ie.removeListener("error",Dt),Ie.listenerCount("error")===0){const tn=Ie._writableState||Ie._readableState;tn&&!tn.errorEmitted?k(Ie,jt):Ie.emit("error",jt)}}w(Ie,"error",Dt);function Gt(){Ie.removeListener("finish",Xt),Ht()}Ie.once("close",Gt);function Xt(){A("onfinish"),Ie.removeListener("close",Gt),Ht()}Ie.once("finish",Xt);function Ht(){A("unpipe"),bt.unpipe(Ie)}return Ie.emit("pipe",bt),Ie.writableNeedDrain===!0?it():Et.flowing||(A("pipe resume"),bt.resume()),Ie};function ke(Ie,qe){return function(){const Et=Ie._readableState;Et.awaitDrainWriters===qe?(A("pipeOnDrain",1),Et.awaitDrainWriters=null):Et.multiAwaitDrain&&(A("pipeOnDrain",Et.awaitDrainWriters.size),Et.awaitDrainWriters.delete(qe)),(!Et.awaitDrainWriters||Et.awaitDrainWriters.size===0)&&Ie.listenerCount("data")&&Ie.resume()}}nt.prototype.unpipe=function(Ie){const qe=this._readableState,bt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Ie){const Mt=qe.pipes;qe.pipes=[],this.pause();for(let Hn=0;Hn<Mt.length;Hn++)Mt[Hn].emit("unpipe",this,{hasUnpiped:!1});return this}const Et=e(qe.pipes,Ie);return Et===-1?this:(qe.pipes.splice(Et,1),qe.pipes.length===0&&this.pause(),Ie.emit("unpipe",this,bt),this)},nt.prototype.on=function(Ie,qe){const bt=v.prototype.on.call(this,Ie,qe),Et=this._readableState;return Ie==="data"?(Et.readableListening=this.listenerCount("readable")>0,Et.flowing!==!1&&this.resume()):Ie==="readable"&&!Et.endEmitted&&!Et.readableListening&&(Et.readableListening=Et.needReadable=!0,Et.flowing=!1,Et.emittedReadable=!1,A("on readable",Et.length,Et.reading),Et.length?K(this):Et.reading||t.nextTick(It,this)),bt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Ie,qe){const bt=v.prototype.removeListener.call(this,Ie,qe);return Ie==="readable"&&t.nextTick(Rt,this),bt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Ie){const qe=v.prototype.removeAllListeners.apply(this,arguments);return(Ie==="readable"||Ie===void 0)&&t.nextTick(Rt,this),qe};function Rt(Ie){const qe=Ie._readableState;qe.readableListening=Ie.listenerCount("readable")>0,qe.resumeScheduled&&qe[be]===!1?qe.flowing=!0:Ie.listenerCount("data")>0?Ie.resume():qe.readableListening||(qe.flowing=null)}function It(Ie){A("readable nexttick read 0"),Ie.read(0)}nt.prototype.resume=function(){const Ie=this._readableState;return Ie.flowing||(A("resume"),Ie.flowing=!Ie.readableListening,Nt(this,Ie)),Ie[be]=!1,this};function Nt(Ie,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,t.nextTick(Pt,Ie,qe))}function Pt(Ie,qe){A("resume",qe.reading),qe.reading||Ie.read(0),qe.resumeScheduled=!1,Ie.emit("resume"),zt(Ie),qe.flowing&&!qe.reading&&Ie.read(0)}nt.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[be]=!0,this};function zt(Ie){const qe=Ie._readableState;for(A("flow",qe.flowing);qe.flowing&&Ie.read()!==null;);}nt.prototype.wrap=function(Ie){let qe=!1;Ie.on("data",Et=>{!this.push(Et)&&Ie.pause&&(qe=!0,Ie.pause())}),Ie.on("end",()=>{this.push(null)}),Ie.on("error",Et=>{k(this,Et)}),Ie.on("close",()=>{this.destroy()}),Ie.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Ie.resume&&(qe=!1,Ie.resume())};const bt=s(Ie);for(let Et=1;Et<bt.length;Et++){const Mt=bt[Et];this[Mt]===void 0&&typeof Ie[Mt]=="function"&&(this[Mt]=Ie[Mt].bind(Ie))}return this},nt.prototype[p]=function(){return Cr(this)},nt.prototype.iterator=function(Ie){return Ie!==void 0&&me(Ie,"options"),Cr(this,Ie)};function Cr(Ie,qe){typeof Ie.read!="function"&&(Ie=nt.wrap(Ie,{objectMode:!0}));const bt=dn(Ie,qe);return bt.stream=Ie,bt}async function*dn(Ie,qe){let bt=Oe;function Et(Jn){this===Ie?(bt(),bt=Oe):bt=Jn}Ie.on("readable",Et);let Mt;const Hn=x(Ie,{writable:!1},Jn=>{Mt=Jn?Z(Mt,Jn):null,bt(),bt=Oe});try{for(;;){const Jn=Ie.destroyed?null:Ie.read();if(Jn!==null)yield Jn;else{if(Mt)throw Mt;if(Mt===null)return;await new l(Et)}}}catch(Jn){throw Mt=Z(Mt,Jn),Mt}finally{(Mt||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(Mt===void 0||Ie._readableState.autoDestroy)?M.destroyer(Ie,null):(Ie.off("readable",Et),Hn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Ie=this._readableState;return!!Ie&&Ie.readable!==!1&&!Ie.destroyed&&!Ie.errorEmitted&&!Ie.endEmitted},set(Ie){this._readableState&&(this._readableState.readable=!!Ie)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ie){this._readableState&&(this._readableState.flowing=Ie)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Ie){this._readableState&&(this._readableState.destroyed=Ie)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[be]!==!1},set(Ie){this[be]=!!Ie}}}),nt._fromList=hn;function hn(Ie,qe){if(qe.length===0)return null;let bt;return qe.objectMode?bt=qe.buffer.shift():!Ie||Ie>=qe.length?(qe.decoder?bt=qe.buffer.join(""):qe.buffer.length===1?bt=qe.buffer.first():bt=qe.buffer.concat(qe.length),qe.buffer.clear()):bt=qe.buffer.consume(Ie,qe.decoder),bt}function gr(Ie){const qe=Ie._readableState;A("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,t.nextTick(un,qe,Ie))}function un(Ie,qe){if(A("endReadableNT",Ie.endEmitted,Ie.length),!Ie.errored&&!Ie.closeEmitted&&!Ie.endEmitted&&Ie.length===0){if(Ie.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)t.nextTick(ln,qe);else if(Ie.autoDestroy){const bt=qe._writableState;(!bt||bt.autoDestroy&&(bt.finished||bt.writable===!1))&&qe.destroy()}}}function ln(Ie){Ie.writable&&!Ie.writableEnded&&!Ie.destroyed&&Ie.end()}nt.from=function(Ie,qe){return fe(nt,Ie,qe)};let Ln;function ur(){return Ln===void 0&&(Ln={}),Ln}return nt.fromWeb=function(Ie,qe){return ur().newStreamReadableFromReadableStream(Ie,qe)},nt.toWeb=function(Ie,qe){return ur().newReadableStreamFromStreamReadable(Ie,qe)},nt.wrap=function(Ie,qe){var bt,Et;return new nt({objectMode:(bt=(Et=Ie.readableObjectMode)!==null&&Et!==void 0?Et:Ie.objectMode)!==null&&bt!==void 0?bt:!0,...qe,destroy(Mt,Hn){M.destroyer(Ie,Mt),Hn(Mt)}}).wrap(Ie)},dS}var hS,ID;function OR(){if(ID)return hS;ID=1;const t=uf(),{ArrayPrototypeSlice:e,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:c}=qr();hS=me,me.WritableState=re;const{EventEmitter:h}=ih(),p=PR().Stream,{Buffer:m}=_u(),y=sh(),{addAbortSignal:v}=q0(),{getHighWaterMark:w,getDefaultHighWaterMark:E}=z0(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:A,ERR_STREAM_CANNOT_PIPE:I,ERR_STREAM_DESTROYED:M,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Z,ERR_UNKNOWN_ENCODING:X}=Pa().codes,{errorOrDestroy:U}=y;s(me.prototype,p.prototype),s(me,p);function J(){}const ce=l("kOnFinished");function re($,ae,W){typeof W!="boolean"&&(W=ae instanceof yu()),this.objectMode=!!($&&$.objectMode),W&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?w(this,$,"writableHighWaterMark",W):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const de=!!($&&$.decodeStrings===!1);this.decodeStrings=!de,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ue(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ce]=[]}function ue($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}re.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(re.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function me($){const ae=this instanceof yu();if(!ae&&!r(me,this))return new me($);this._writableState=new re($,this,ae),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&v($.signal,this)),p.call(this,$),y.construct(this,()=>{const W=this._writableState;W.writing||Y(this,W),Re(this,W)})}i(me,c,{__proto__:null,value:function($){return r(this,$)?!0:this!==me?!1:$&&$._writableState instanceof re}}),me.prototype.pipe=function(){U(this,new I)};function be($,ae,W,de){const ye=$._writableState;if(typeof W=="function")de=W,W=ye.defaultEncoding;else{if(!W)W=ye.defaultEncoding;else if(W!=="buffer"&&!m.isEncoding(W))throw new X(W);typeof de!="function"&&(de=J)}if(ae===null)throw new F;if(!ye.objectMode)if(typeof ae=="string")ye.decodeStrings!==!1&&(ae=m.from(ae,W),W="buffer");else if(ae instanceof m)W="buffer";else if(p._isUint8Array(ae))ae=p._uint8ArrayToBuffer(ae),W="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],ae);let He;return ye.ending?He=new Z:ye.destroyed&&(He=new M("write")),He?(t.nextTick(de,He),U($,He,!0),He):(ye.pendingcb++,he($,ye,ae,W,de))}me.prototype.write=function($,ae,W){return be(this,$,ae,W)===!0},me.prototype.cork=function(){this._writableState.corked++},me.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||Y(this,$))},me.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=o(ae)),!m.isEncoding(ae))throw new X(ae);return this._writableState.defaultEncoding=ae,this};function he($,ae,W,de,ye){const He=ae.objectMode?1:W.length;ae.length+=He;const Te=ae.length<ae.highWaterMark;return Te||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:W,encoding:de,callback:ye}),ae.allBuffers&&de!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&ye!==J&&(ae.allNoop=!1)):(ae.writelen=He,ae.writecb=ye,ae.writing=!0,ae.sync=!0,$._write(W,de,ae.onwrite),ae.sync=!1),Te&&!ae.errored&&!ae.destroyed}function fe($,ae,W,de,ye,He,Te){ae.writelen=de,ae.writecb=Te,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new M("write")):W?$._writev(ye,ae.onwrite):$._write(ye,He,ae.onwrite),ae.sync=!1}function Oe($,ae,W,de){--ae.pendingcb,de(W),H(ae),U($,W)}function k($,ae){const W=$._writableState,de=W.sync,ye=W.writecb;if(typeof ye!="function"){U($,new A);return}W.writing=!1,W.writecb=null,W.length-=W.writelen,W.writelen=0,ae?(ae.stack,W.errored||(W.errored=ae),$._readableState&&!$._readableState.errored&&($._readableState.errored=ae),de?t.nextTick(Oe,$,W,ae,ye):Oe($,W,ae,ye)):(W.buffered.length>W.bufferedIndex&&Y($,W),de?W.afterWriteTickInfo!==null&&W.afterWriteTickInfo.cb===ye?W.afterWriteTickInfo.count++:(W.afterWriteTickInfo={count:1,cb:ye,stream:$,state:W},t.nextTick(ie,W.afterWriteTickInfo)):ge($,W,1,ye))}function ie({stream:$,state:ae,count:W,cb:de}){return ae.afterWriteTickInfo=null,ge($,ae,W,de)}function ge($,ae,W,de){for(!ae.ending&&!$.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"));W-- >0;)ae.pendingcb--,de();ae.destroyed&&H(ae),Re($,ae)}function H($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var ae;const{chunk:He,callback:Te}=$.buffered[ye],Ne=$.objectMode?1:He.length;$.length-=Ne,Te((ae=$.errored)!==null&&ae!==void 0?ae:new M("write"))}const W=$[ce].splice(0);for(let ye=0;ye<W.length;ye++){var de;W[ye]((de=$.errored)!==null&&de!==void 0?de:new M("end"))}ue($)}function Y($,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:W,bufferedIndex:de,objectMode:ye}=ae,He=W.length-de;if(!He)return;let Te=de;if(ae.bufferProcessing=!0,He>1&&$._writev){ae.pendingcb-=He-1;const Ne=ae.allNoop?J:nt=>{for(let gt=Te;gt<W.length;++gt)W[gt].callback(nt)},tt=ae.allNoop&&Te===0?W:e(W,Te);tt.allBuffers=ae.allBuffers,fe($,ae,!0,ae.length,tt,"",Ne),ue(ae)}else{do{const{chunk:Ne,encoding:tt,callback:nt}=W[Te];W[Te++]=null;const gt=ye?1:Ne.length;fe($,ae,!1,gt,Ne,tt,nt)}while(Te<W.length&&!ae.writing);Te===W.length?ue(ae):Te>256?(W.splice(0,Te),ae.bufferedIndex=0):ae.bufferedIndex=Te}ae.bufferProcessing=!1}me.prototype._write=function($,ae,W){if(this._writev)this._writev([{chunk:$,encoding:ae}],W);else throw new x("_write()")},me.prototype._writev=null,me.prototype.end=function($,ae,W){const de=this._writableState;typeof $=="function"?(W=$,$=null,ae=null):typeof ae=="function"&&(W=ae,ae=null);let ye;if($!=null){const He=be(this,$,ae);He instanceof n&&(ye=He)}return de.corked&&(de.corked=1,this.uncork()),ye||(!de.errored&&!de.ending?(de.ending=!0,Re(this,de,!0),de.ended=!0):de.finished?ye=new D("end"):de.destroyed&&(ye=new M("end"))),typeof W=="function"&&(ye||de.finished?t.nextTick(W,ye):de[ce].push(W)),this};function pe($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Ae($,ae){let W=!1;function de(ye){if(W){U($,ye??A());return}if(W=!0,ae.pendingcb--,ye){const He=ae[ce].splice(0);for(let Te=0;Te<He.length;Te++)He[Te](ye);U($,ye,ae.sync)}else pe(ae)&&(ae.prefinished=!0,$.emit("prefinish"),ae.pendingcb++,t.nextTick(Fe,$,ae))}ae.sync=!0,ae.pendingcb++;try{$._final(de)}catch(ye){de(ye)}ae.sync=!1}function Je($,ae){!ae.prefinished&&!ae.finalCalled&&(typeof $._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,Ae($,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function Re($,ae,W){pe(ae)&&(Je($,ae),ae.pendingcb===0&&(W?(ae.pendingcb++,t.nextTick((de,ye)=>{pe(ye)?Fe(de,ye):ye.pendingcb--},$,ae)):pe(ae)&&(ae.pendingcb++,Fe($,ae))))}function Fe($,ae){ae.pendingcb--,ae.finished=!0;const W=ae[ce].splice(0);for(let de=0;de<W.length;de++)W[de]();if($.emit("finish"),ae.autoDestroy){const de=$._readableState;(!de||de.autoDestroy&&(de.endEmitted||de.readable===!1))&&$.destroy()}}a(me.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Xe=y.destroy;me.prototype.destroy=function($,ae){const W=this._writableState;return!W.destroyed&&(W.bufferedIndex<W.buffered.length||W[ce].length)&&t.nextTick(H,W),Xe.call(this,$,ae),this},me.prototype._undestroy=y.undestroy,me.prototype._destroy=function($,ae){ae($)},me.prototype[h.captureRejectionSymbol]=function($){this.destroy($)};let se;function z(){return se===void 0&&(se={}),se}return me.fromWeb=function($,ae){return z().newStreamWritableFromWritableStream($,ae)},me.toWeb=function($){return z().newWritableStreamFromStreamWritable($)},hS}var pS,LD;function wX(){if(LD)return pS;LD=1;const t=uf(),e=_u(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:s,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:h}=wu(),p=Dl(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=Pa(),{destroyer:w}=sh(),E=yu(),b=H0(),x=OR(),{createDeferredPromise:A}=da(),I=rB(),M=globalThis.Blob||e.Blob,D=typeof M<"u"?function(re){return re instanceof M}:function(re){return!1},F=globalThis.AbortController||Xg().AbortController,{FunctionPrototypeCall:Z}=qr();class X extends E{constructor(re){super(re),(re==null?void 0:re.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(re==null?void 0:re.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}pS=function ce(re,ue){if(l(re))return re;if(s(re))return J({readable:re});if(o(re))return J({writable:re});if(a(re))return J({writable:!1,readable:!1});if(c(re))return J({readable:b.fromWeb(re)});if(h(re))return J({writable:x.fromWeb(re)});if(typeof re=="function"){const{value:be,write:he,final:fe,destroy:Oe}=U(re);if(i(be))return I(X,be,{objectMode:!0,write:he,final:fe,destroy:Oe});const k=be==null?void 0:be.then;if(typeof k=="function"){let ie;const ge=Z(k,be,H=>{if(H!=null)throw new v("nully","body",H)},H=>{w(ie,H)});return ie=new X({objectMode:!0,readable:!1,write:he,final(H){fe(async()=>{try{await ge,t.nextTick(H,null)}catch(Y){t.nextTick(H,Y)}})},destroy:Oe})}throw new v("Iterable, AsyncIterable or AsyncFunction",ue,be)}if(D(re))return ce(re.arrayBuffer());if(i(re))return I(X,re,{objectMode:!0,writable:!1});if(c(re==null?void 0:re.readable)&&h(re==null?void 0:re.writable))return X.fromWeb(re);if(typeof(re==null?void 0:re.writable)=="object"||typeof(re==null?void 0:re.readable)=="object"){const be=re!=null&&re.readable?s(re==null?void 0:re.readable)?re==null?void 0:re.readable:ce(re.readable):void 0,he=re!=null&&re.writable?o(re==null?void 0:re.writable)?re==null?void 0:re.writable:ce(re.writable):void 0;return J({readable:be,writable:he})}const me=re==null?void 0:re.then;if(typeof me=="function"){let be;return Z(me,re,he=>{he!=null&&be.push(he),be.push(null)},he=>{w(be,he)}),be=new X({objectMode:!0,writable:!1,read(){}})}throw new y(ue,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],re)};function U(ce){let{promise:re,resolve:ue}=A();const me=new F,be=me.signal;return{value:ce(async function*(){for(;;){const fe=re;re=null;const{chunk:Oe,done:k,cb:ie}=await fe;if(t.nextTick(ie),k)return;if(be.aborted)throw new m(void 0,{cause:be.reason});({promise:re,resolve:ue}=A()),yield Oe}}(),{signal:be}),write(fe,Oe,k){const ie=ue;ue=null,ie({chunk:fe,done:!1,cb:k})},final(fe){const Oe=ue;ue=null,Oe({done:!0,cb:fe})},destroy(fe,Oe){me.abort(),Oe(fe)}}}function J(ce){const re=ce.readable&&typeof ce.readable.read!="function"?b.wrap(ce.readable):ce.readable,ue=ce.writable;let me=!!n(re),be=!!r(ue),he,fe,Oe,k,ie;function ge(H){const Y=k;k=null,Y?Y(H):H&&ie.destroy(H)}return ie=new X({readableObjectMode:!!(re!=null&&re.readableObjectMode),writableObjectMode:!!(ue!=null&&ue.writableObjectMode),readable:me,writable:be}),be&&(p(ue,H=>{be=!1,H&&w(re,H),ge(H)}),ie._write=function(H,Y,pe){ue.write(H,Y)?pe():he=pe},ie._final=function(H){ue.end(),fe=H},ue.on("drain",function(){if(he){const H=he;he=null,H()}}),ue.on("finish",function(){if(fe){const H=fe;fe=null,H()}})),me&&(p(re,H=>{me=!1,H&&w(re,H),ge(H)}),re.on("readable",function(){if(Oe){const H=Oe;Oe=null,H()}}),re.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){const H=re.read();if(H===null){Oe=ie._read;return}if(!ie.push(H))return}}),ie._destroy=function(H,Y){!H&&k!==null&&(H=new m),Oe=null,he=null,fe=null,k===null?Y(H):(k=Y,w(ue,H),w(re,H))},ie}return pS}var gS,MD;function yu(){if(MD)return gS;MD=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:n,ObjectSetPrototypeOf:r}=qr();gS=s;const i=H0(),a=OR();r(s.prototype,i.prototype),r(s,i);{const h=n(a.prototype);for(let p=0;p<h.length;p++){const m=h[p];s.prototype[m]||(s.prototype[m]=a.prototype[m])}}function s(h){if(!(this instanceof s))return new s(h);i.call(this,h),a.call(this,h),h?(this.allowHalfOpen=h.allowHalfOpen!==!1,h.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),h.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(s.prototype,{writable:{__proto__:null,...e(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(a.prototype,"writableLength")},writableFinished:{__proto__:null,...e(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(h){this._readableState&&this._writableState&&(this._readableState.destroyed=h,this._writableState.destroyed=h)}}});let o;function l(){return o===void 0&&(o={}),o}s.fromWeb=function(h,p){return l().newStreamDuplexFromReadableWritablePair(h,p)},s.toWeb=function(h){return l().newReadableWritablePairFromDuplex(h)};let c;return s.from=function(h){return c||(c=wX()),c(h,"body")},gS}var mS,DD;function iB(){if(DD)return mS;DD=1;const{ObjectSetPrototypeOf:t,Symbol:e}=qr();mS=s;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Pa().codes,r=yu(),{getHighWaterMark:i}=z0();t(s.prototype,r.prototype),t(s,r);const a=e("kCallback");function s(c){if(!(this instanceof s))return new s(c);const h=c?i(this,c,"readableHighWaterMark",!0):null;h===0&&(c={...c,highWaterMark:null,readableHighWaterMark:h,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function o(c){typeof this._flush=="function"&&!this.destroyed?this._flush((h,p)=>{if(h){c?c(h):this.destroy(h);return}p!=null&&this.push(p),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==o&&o.call(this)}return s.prototype._final=o,s.prototype._transform=function(c,h,p){throw new n("_transform()")},s.prototype._write=function(c,h,p){const m=this._readableState,y=this._writableState,v=m.length;this._transform(c,h,(w,E)=>{if(w){p(w);return}E!=null&&this.push(E),y.ended||v===m.length||m.length<m.highWaterMark?p():this[a]=p})},s.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},mS}var yS,kD;function aB(){if(kD)return yS;kD=1;const{ObjectSetPrototypeOf:t}=qr();yS=n;const e=iB();t(n.prototype,e.prototype),t(n,e);function n(r){if(!(this instanceof n))return new n(r);e.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},yS}var vS,ND;function IR(){if(ND)return vS;ND=1;const t=uf(),{ArrayIsArray:e,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=qr(),a=Dl(),{once:s}=da(),o=sh(),l=yu(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:h,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:w}=Pa(),{validateFunction:E,validateAbortSignal:b}=Am(),{isIterable:x,isReadable:A,isReadableNodeStream:I,isNodeStream:M,isTransformStream:D,isWebStream:F,isReadableStream:Z,isReadableFinished:X}=wu(),U=globalThis.AbortController||Xg().AbortController;let J,ce,re;function ue(H,Y,pe){let Ae=!1;H.on("close",()=>{Ae=!0});const Je=a(H,{readable:Y,writable:pe},Re=>{Ae=!Re});return{destroy:Re=>{Ae||(Ae=!0,o.destroyer(H,Re||new y("pipe")))},cleanup:Je}}function me(H){return E(H[H.length-1],"streams[stream.length - 1]"),H.pop()}function be(H){if(x(H))return H;if(I(H))return he(H);throw new h("val",["Readable","Iterable","AsyncIterable"],H)}async function*he(H){ce||(ce=H0()),yield*ce.prototype[r].call(H)}async function fe(H,Y,pe,{end:Ae}){let Je,Re=null;const Fe=z=>{if(z&&(Je=z),Re){const $=Re;Re=null,$()}},Xe=()=>new n((z,$)=>{Je?$(Je):Re=()=>{Je?$(Je):z()}});Y.on("drain",Fe);const se=a(Y,{readable:!1},Fe);try{Y.writableNeedDrain&&await Xe();for await(const z of H)Y.write(z)||await Xe();Ae&&(Y.end(),await Xe()),pe()}catch(z){pe(Je!==z?c(Je,z):z)}finally{se(),Y.off("drain",Fe)}}async function Oe(H,Y,pe,{end:Ae}){D(Y)&&(Y=Y.writable);const Je=Y.getWriter();try{for await(const Re of H)await Je.ready,Je.write(Re).catch(()=>{});await Je.ready,Ae&&await Je.close(),pe()}catch(Re){try{await Je.abort(Re),pe(Re)}catch(Fe){pe(Fe)}}}function k(...H){return ie(H,s(me(H)))}function ie(H,Y,pe){if(H.length===1&&e(H[0])&&(H=H[0]),H.length<2)throw new m("streams");const Ae=new U,Je=Ae.signal,Re=pe==null?void 0:pe.signal,Fe=[];b(Re,"options.signal");function Xe(){ye(new w)}re=re||da().addAbortListener;let se;Re&&(se=re(Re,Xe));let z,$;const ae=[];let W=0;function de(nt){ye(nt,--W===0)}function ye(nt,gt){var qt;if(nt&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE")&&(z=nt),!(!z&&!gt)){for(;ae.length;)ae.shift()(z);(qt=se)===null||qt===void 0||qt[i](),Ae.abort(),gt&&(z||Fe.forEach(Se=>Se()),t.nextTick(Y,z,$))}}let He;for(let nt=0;nt<H.length;nt++){const gt=H[nt],qt=nt<H.length-1,Se=nt>0,Be=qt||(pe==null?void 0:pe.end)!==!1,ee=nt===H.length-1;if(M(gt)){let q=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&de(K)};var tt=q;if(Be){const{destroy:K,cleanup:V}=ue(gt,qt,Se);ae.push(K),A(gt)&&ee&&Fe.push(V)}gt.on("error",q),A(gt)&&ee&&Fe.push(()=>{gt.removeListener("error",q)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Je}),!x(He))throw new p("Iterable, AsyncIterable or Stream","source",He)}else x(gt)||I(gt)||D(gt)?He=gt:He=l.from(gt);else if(typeof gt=="function"){if(D(He)){var Te;He=be((Te=He)===null||Te===void 0?void 0:Te.readable)}else He=be(He);if(He=gt(He,{signal:Je}),qt){if(!x(He,!0))throw new p("AsyncIterable",`transform[${nt-1}]`,He)}else{var Ne;J||(J=aB());const q=new J({objectMode:!0}),K=(Ne=He)===null||Ne===void 0?void 0:Ne.then;if(typeof K=="function")W++,K.call(He,Ze=>{$=Ze,Ze!=null&&q.write(Ze),Be&&q.end(),t.nextTick(de)},Ze=>{q.destroy(Ze),t.nextTick(de,Ze)});else if(x(He,!0))W++,fe(He,q,de,{end:Be});else if(Z(He)||D(He)){const Ze=He.readable||He;W++,fe(Ze,q,de,{end:Be})}else throw new p("AsyncIterable or Promise","destination",He);He=q;const{destroy:V,cleanup:je}=ue(He,!1,!0);ae.push(V),ee&&Fe.push(je)}}else if(M(gt)){if(I(He)){W+=2;const q=ge(He,gt,de,{end:Be});A(gt)&&ee&&Fe.push(q)}else if(D(He)||Z(He)){const q=He.readable||He;W++,fe(q,gt,de,{end:Be})}else if(x(He))W++,fe(He,gt,de,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(F(gt)){if(I(He))W++,Oe(be(He),gt,de,{end:Be});else if(Z(He)||x(He))W++,Oe(He,gt,de,{end:Be});else if(D(He))W++,Oe(He.readable,gt,de,{end:Be});else throw new h("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=l.from(gt)}return(Je!=null&&Je.aborted||Re!=null&&Re.aborted)&&t.nextTick(Xe),He}function ge(H,Y,pe,{end:Ae}){let Je=!1;if(Y.on("close",()=>{Je||pe(new v)}),H.pipe(Y,{end:!1}),Ae){let Fe=function(){Je=!0,Y.end()};var Re=Fe;X(H)?t.nextTick(Fe):H.once("end",Fe)}else pe();return a(H,{readable:!0,writable:!1},Fe=>{const Xe=H._readableState;Fe&&Fe.code==="ERR_STREAM_PREMATURE_CLOSE"&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?H.once("end",pe).once("error",pe):pe(Fe)}),a(Y,{readable:!1,writable:!0},pe)}return vS={pipelineImpl:ie,pipeline:k},vS}var _S,FD;function sB(){if(FD)return _S;FD=1;const{pipeline:t}=IR(),e=yu(),{destroyer:n}=sh(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:s,isTransformStream:o,isWritableStream:l,isReadableStream:c}=wu(),{AbortError:h,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=Pa(),y=Dl();return _S=function(...w){if(w.length===0)throw new m("streams");if(w.length===1)return e.from(w[0]);const E=[...w];if(typeof w[0]=="function"&&(w[0]=e.from(w[0])),typeof w[w.length-1]=="function"){const J=w.length-1;w[J]=e.from(w[J])}for(let J=0;J<w.length;++J)if(!(!r(w[J])&&!s(w[J]))){if(J<w.length-1&&!(i(w[J])||c(w[J])||o(w[J])))throw new p(`streams[${J}]`,E[J],"must be readable");if(J>0&&!(a(w[J])||l(w[J])||o(w[J])))throw new p(`streams[${J}]`,E[J],"must be writable")}let b,x,A,I,M;function D(J){const ce=I;I=null,ce?ce(J):J?M.destroy(J):!U&&!X&&M.destroy()}const F=w[0],Z=t(w,D),X=!!(a(F)||l(F)||o(F)),U=!!(i(Z)||c(Z)||o(Z));if(M=new e({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Z!=null&&Z.readableObjectMode),writable:X,readable:U}),X){if(r(F))M._write=function(ce,re,ue){F.write(ce,re)?ue():b=ue},M._final=function(ce){F.end(),x=ce},F.on("drain",function(){if(b){const ce=b;b=null,ce()}});else if(s(F)){const re=(o(F)?F.writable:F).getWriter();M._write=async function(ue,me,be){try{await re.ready,re.write(ue).catch(()=>{}),be()}catch(he){be(he)}},M._final=async function(ue){try{await re.ready,re.close().catch(()=>{}),x=ue}catch(me){ue(me)}}}const J=o(Z)?Z.readable:Z;y(J,()=>{if(x){const ce=x;x=null,ce()}})}if(U){if(r(Z))Z.on("readable",function(){if(A){const J=A;A=null,J()}}),Z.on("end",function(){M.push(null)}),M._read=function(){for(;;){const J=Z.read();if(J===null){A=M._read;return}if(!M.push(J))return}};else if(s(Z)){const ce=(o(Z)?Z.readable:Z).getReader();M._read=async function(){for(;;)try{const{value:re,done:ue}=await ce.read();if(!M.push(re))return;if(ue){M.push(null);return}}catch{return}}}}return M._destroy=function(J,ce){!J&&I!==null&&(J=new h),A=null,b=null,x=null,I===null?ce(J):(I=ce,r(Z)&&n(Z,J))},M},_S}var jD;function bX(){if(jD)return ov;jD=1;const t=globalThis.AbortController||Xg().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Pa(),{validateAbortSignal:s,validateInteger:o,validateObject:l}=Am(),c=qr().Symbol("kWeak"),h=qr().Symbol("kResistStopPropagation"),{finished:p}=Dl(),m=sB(),{addAbortSignalNoValidate:y}=q0(),{isWritable:v,isNodeStream:w}=wu(),{deprecate:E}=da(),{ArrayPrototypePush:b,Boolean:x,MathFloor:A,Number:I,NumberIsNaN:M,Promise:D,PromiseReject:F,PromiseResolve:Z,PromisePrototypeThen:X,Symbol:U}=qr(),J=U("kEmpty"),ce=U("kEof");function re(Re,Fe){if(Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal"),w(Re)&&!v(Re))throw new e("stream",Re,"must be writable");const Xe=m(this,Re);return Fe!=null&&Fe.signal&&y(Fe.signal,Xe),Xe}function ue(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal");let Xe=1;(Fe==null?void 0:Fe.concurrency)!=null&&(Xe=A(Fe.concurrency));let se=Xe-1;return(Fe==null?void 0:Fe.highWaterMark)!=null&&(se=A(Fe.highWaterMark)),o(Xe,"options.concurrency",1),o(se,"options.highWaterMark",0),se+=Xe,(async function*(){const $=da().AbortSignalAny([Fe==null?void 0:Fe.signal].filter(x)),ae=this,W=[],de={signal:$};let ye,He,Te=!1,Ne=0;function tt(){Te=!0,nt()}function nt(){Ne-=1,gt()}function gt(){He&&!Te&&Ne<Xe&&W.length<se&&(He(),He=null)}async function qt(){try{for await(let Se of ae){if(Te)return;if($.aborted)throw new a;try{if(Se=Re(Se,de),Se===J)continue;Se=Z(Se)}catch(Be){Se=F(Be)}Ne+=1,X(Se,nt,tt),W.push(Se),ye&&(ye(),ye=null),!Te&&(W.length>=se||Ne>=Xe)&&await new D(Be=>{He=Be})}W.push(ce)}catch(Se){const Be=F(Se);X(Be,nt,tt),W.push(Be)}finally{Te=!0,ye&&(ye(),ye=null)}}qt();try{for(;;){for(;W.length>0;){const Se=await W[0];if(Se===ce)return;if($.aborted)throw new a;Se!==J&&(yield Se),W.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Te=!0,He&&(He(),He=null)}}).call(this)}function me(Re=void 0){return Re!=null&&l(Re,"options"),(Re==null?void 0:Re.signal)!=null&&s(Re.signal,"options.signal"),(async function*(){let Xe=0;for await(const z of this){var se;if(Re!=null&&(se=Re.signal)!==null&&se!==void 0&&se.aborted)throw new a({cause:Re.signal.reason});yield[Xe++,z]}}).call(this)}async function be(Re,Fe=void 0){for await(const Xe of k.call(this,Re,Fe))return!0;return!1}async function he(Re,Fe=void 0){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);return!await be.call(this,async(...Xe)=>!await Re(...Xe),Fe)}async function fe(Re,Fe){for await(const Xe of k.call(this,Re,Fe))return Xe}async function Oe(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(se,z){return await Re(se,z),J}for await(const se of ue.call(this,Xe,Fe));}function k(Re,Fe){if(typeof Re!="function")throw new n("fn",["Function","AsyncFunction"],Re);async function Xe(se,z){return await Re(se,z)?se:J}return ue.call(this,Xe,Fe)}class ie extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function ge(Re,Fe,Xe){var se;if(typeof Re!="function")throw new n("reducer",["Function","AsyncFunction"],Re);Xe!=null&&l(Xe,"options"),(Xe==null?void 0:Xe.signal)!=null&&s(Xe.signal,"options.signal");let z=arguments.length>1;if(Xe!=null&&(se=Xe.signal)!==null&&se!==void 0&&se.aborted){const ye=new a(void 0,{cause:Xe.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(ye)),ye}const $=new t,ae=$.signal;if(Xe!=null&&Xe.signal){const ye={once:!0,[c]:this,[h]:!0};Xe.signal.addEventListener("abort",()=>$.abort(),ye)}let W=!1;try{for await(const ye of this){var de;if(W=!0,Xe!=null&&(de=Xe.signal)!==null&&de!==void 0&&de.aborted)throw new a;z?Fe=await Re(Fe,ye,{signal:ae}):(Fe=ye,z=!0)}if(!W&&!z)throw new ie}finally{$.abort()}return Fe}async function H(Re){Re!=null&&l(Re,"options"),(Re==null?void 0:Re.signal)!=null&&s(Re.signal,"options.signal");const Fe=[];for await(const se of this){var Xe;if(Re!=null&&(Xe=Re.signal)!==null&&Xe!==void 0&&Xe.aborted)throw new a(void 0,{cause:Re.signal.reason});b(Fe,se)}return Fe}function Y(Re,Fe){const Xe=ue.call(this,Re,Fe);return(async function*(){for await(const z of Xe)yield*z}).call(this)}function pe(Re){if(Re=I(Re),M(Re))return 0;if(Re<0)throw new i("number",">= 0",Re);return Re}function Ae(Re,Fe=void 0){return Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal"),Re=pe(Re),(async function*(){var se;if(Fe!=null&&(se=Fe.signal)!==null&&se!==void 0&&se.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;Re--<=0&&(yield $)}}).call(this)}function Je(Re,Fe=void 0){return Fe!=null&&l(Fe,"options"),(Fe==null?void 0:Fe.signal)!=null&&s(Fe.signal,"options.signal"),Re=pe(Re),(async function*(){var se;if(Fe!=null&&(se=Fe.signal)!==null&&se!==void 0&&se.aborted)throw new a;for await(const $ of this){var z;if(Fe!=null&&(z=Fe.signal)!==null&&z!==void 0&&z.aborted)throw new a;if(Re-- >0&&(yield $),Re<=0)return}}).call(this)}return ov.streamReturningOperators={asIndexedPairs:E(me,"readable.asIndexedPairs will be removed in a future version."),drop:Ae,filter:k,flatMap:Y,map:ue,take:Je,compose:re},ov.promiseReturningOperators={every:he,forEach:Oe,reduce:ge,toArray:H,some:be,find:fe},ov}var wS,$D;function oB(){if($D)return wS;$D=1;const{ArrayPrototypePop:t,Promise:e}=qr(),{isIterable:n,isNodeStream:r,isWebStream:i}=wu(),{pipelineImpl:a}=IR(),{finished:s}=Dl();uB();function o(...l){return new e((c,h)=>{let p,m;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const v=t(l);p=v.signal,m=v.end}a(l,(v,w)=>{v?h(v):c(w)},{signal:p,end:m})})}return wS={finished:s,pipeline:o},wS}var UD;function uB(){if(UD)return J1.exports;UD=1;const{Buffer:t}=_u(),{ObjectDefineProperty:e,ObjectKeys:n,ReflectApply:r}=qr(),{promisify:{custom:i}}=da(),{streamReturningOperators:a,promiseReturningOperators:s}=bX(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=Pa(),l=sB(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:h}=z0(),{pipeline:p}=IR(),{destroyer:m}=sh(),y=Dl(),v=oB(),w=wu(),E=J1.exports=PR().Stream;E.isDestroyed=w.isDestroyed,E.isDisturbed=w.isDisturbed,E.isErrored=w.isErrored,E.isReadable=w.isReadable,E.isWritable=w.isWritable,E.Readable=H0();for(const A of n(a)){let M=function(...D){if(new.target)throw o();return E.Readable.from(r(I,this,D))};var x=M;const I=a[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(E.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}for(const A of n(s)){let M=function(...F){if(new.target)throw o();return r(I,this,F)};var x=M;const I=s[A];e(M,"name",{__proto__:null,value:I.name}),e(M,"length",{__proto__:null,value:I.length}),e(E.Readable.prototype,A,{__proto__:null,value:M,enumerable:!1,configurable:!0,writable:!0})}E.Writable=OR(),E.Duplex=yu(),E.Transform=iB(),E.PassThrough=aB(),E.pipeline=p;const{addAbortSignal:b}=q0();return E.addAbortSignal=b,E.finished=y,E.destroy=m,E.compose=l,E.setDefaultHighWaterMark=c,E.getDefaultHighWaterMark=h,e(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),e(p,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),e(y,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),E.Stream=E,E._isUint8Array=function(I){return I instanceof Uint8Array},E._uint8ArrayToBuffer=function(I){return t.from(I.buffer,I.byteOffset,I.byteLength)},J1.exports}var BD;function lB(){return BD||(BD=1,function(t){const e=uB(),n=oB(),r=e.Readable.destroy;t.exports=e.Readable,t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.destroy=r,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=e.Stream,t.exports.default=t.exports}(Z1)),Z1.exports}var oh=lB();let wo=class{constructor(e,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||Pl,e&&this.addQuads(e)}_termFromId(e,n){if(e[0]==="."){const r=this._entities,i=e.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return Fc(e,n)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(Bd(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[ua(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Bd(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:ua(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,n,r,i){const a=e[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,s,o,l){let c,h,p;const m=this._entities,y=this._termFromId(l,this._factory),v={subject:null,predicate:null,object:null};n&&((c=e,e={})[n]=c[n]);for(const w in e)if(h=e[w]){v[a]=this._termFromId(m[w],this._factory),r&&((c=h,h={})[r]=c[r]);for(const E in h)if(p=h[E]){v[s]=this._termFromId(m[E],this._factory);const b=i?i in p?[i]:[]:Object.keys(p);for(let x=0;x<b.length;x++)v[o]=this._termFromId(m[b[x]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,s,o;if((a=e[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(e,n,r,i){let a=0,s,o,l;n&&((s=e,e={})[n]=s[n]);for(const c in e)if(o=e[c]){r&&((s=o,o={})[r]=s[r]);for(const h in o)(l=o[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){if(!SX(e))return this._graphs;const n={};return n[e]=this._graphs[e],n}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ua(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const s=this._addToIndex(a.subjects,e,n,r);return this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,s}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=ua(i);const a=this._graphs;let s,o,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[e])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,n,r),this._removeFromIndex(s.predicates,n,r,e),this._removeFromIndex(s.objects,r,e,n),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new oh.Readable({objectMode:!0});return a._read=()=>{for(const s of this.readQuads(e,n,r,i))a.push(s);a.push(null)},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){i=i&&ua(i);const a=this._getGraphs(i);let s,o,l,c;if(!(e&&!(o=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const h in a)(s=a[h])&&(o?c?yield*this._findInIndex(s.objects,c,o,l,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(s.predicates,l,c,null,"predicate","object","subject",h):c?yield*this._findInIndex(s.objects,c,null,null,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new xX(this,e,n,r,i)}countQuads(e,n,r,i){i=i&&ua(i);const a=this._getGraphs(i);let s=0,o,l,c,h;if(e&&!(l=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(o=a[p])&&(e?r?s+=this._countInIndex(o.objects,h,l,c):s+=this._countInIndex(o.subjects,l,c,h):n?s+=this._countInIndex(o.predicates,c,h,l):s+=this._countInIndex(o.objects,h,l,c));return s}forEach(e,n,r,i,a){this.some(s=>(e(s),!1),n,r,i,a)}every(e,n,r,i,a){let s=!1;const o=!this.some(l=>(s=!0,!e(l)),n,r,i,a);return s&&o}some(e,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(e(s))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){i=i&&ua(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,e):this._loopByKey1(s.subjects,o,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){i=i&&ua(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,e):this._loopByKey0(s.subjects,o,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){i=i&&ua(i);const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,e):this._loopByKey1(s.objects,o,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(s=>(e(s.graph),!0),n,r,i,a)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,Hi.rdf.rest,Hi.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{const l=[];let c=!1,h,p;const m=o.graph;let y=o.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),w=this.getQuads(y,null,null,null);let E,b=null,x=null,A=null;for(let I=0;I<w.length&&!c;I++)E=w[I],E.graph.equals(m)?h?c=i(y,"has non-list arcs out"):E.predicate.value===Hi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):s.push(b=E):E.predicate.value===Hi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):s.push(x=E):v.length?c=i(y,"can't be subject and object"):(h=E,p="subject"):c=i(y,"not confined to single graph");for(let I=0;I<v.length&&!c;++I)E=v[I],h?c=i(y,"can't have coreferences"):E.predicate.value===Hi.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=E:(h=E,p="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=A&&A.subject}c?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(s),r}*[Symbol.iterator](){yield*this.readQuads()}};function SX(t){return typeof t=="string"||t instanceof String}let xX=class cB extends oh.Readable{constructor(e,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new wo({factory:e._factory});for(const o of e.readQuads(a,i,r,n))s.addQuad(o)}return this._filtered}get size(){return this.filtered.size}_read(){for(const e of this)this.push(e);this.push(null)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new cB(this.filtered,e,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class fB extends oh.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new ah(e);let r,i;n.parse({on:(a,s)=>{switch(a){case"data":r=s;break;case"end":i=s;break}}},(a,s)=>{a&&this.emit("error",a)||s&&this.push(s)},(a,s)=>{this.emit("prefix",a,s)}),this._transform=(a,s,o)=>{r(a),o()},this._flush=a=>{i(),a()}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),this}}class dB extends oh.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new B0({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},e);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(e){return e.on("data",n=>{this.write(n)}),e.on("end",()=>{this.end()}),e.on("error",n=>{this.emit("error",n)}),e.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const EX={Lexer:TR,Parser:ah,Writer:B0,Store:wo,StreamParser:fB,StreamWriter:dB,Util:XU,DataFactory:Pl,Term:So,NamedNode:Qr,Literal:md,BlankNode:CR,Variable:AR,DefaultGraph:RR,Quad:Ms,Triple:Ms,termFromId:Fc,termToId:ua},TX=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:CR,DataFactory:Pl,DefaultGraph:RR,Lexer:TR,Literal:md,NamedNode:Qr,Parser:ah,Quad:Ms,Store:wo,StreamParser:fB,StreamWriter:dB,Term:So,Triple:Ms,Util:XU,Variable:AR,Writer:B0,default:EX,termFromId:Fc,termToId:ua},Symbol.toStringTag,{value:"Module"}));var CX="http://www.w3.org/ns/auth/acl#Access",AX="http://www.w3.org/ns/auth/acl#Append",RX="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",PX="http://www.w3.org/ns/auth/acl#Authorization",OX="http://www.w3.org/ns/auth/acl#Control",IX="http://www.w3.org/ns/auth/acl#Origin",LX="http://www.w3.org/ns/auth/acl#Read",MX="http://www.w3.org/ns/auth/acl#Write",DX="http://www.w3.org/ns/auth/acl#accessControl",kX="http://www.w3.org/ns/auth/acl#accessTo",NX="http://www.w3.org/ns/auth/acl#accessToClass",FX="http://www.w3.org/ns/auth/acl#agent",jX="http://www.w3.org/ns/auth/acl#agentClass",$X="http://www.w3.org/ns/auth/acl#agentGroup",UX="http://www.w3.org/ns/auth/acl#default",BX="http://www.w3.org/ns/auth/acl#defaultForNew",qX="http://www.w3.org/ns/auth/acl#delegates",zX="http://www.w3.org/ns/auth/acl#mode",HX="http://www.w3.org/ns/auth/acl#origin",VX="http://www.w3.org/ns/auth/acl#owner",KX=Object.freeze({Access:CX,Append:AX,AuthenticatedAgent:RX,Authorization:PX,Control:OX,Origin:IX,Read:LX,Write:MX,accessControl:DX,accessTo:kX,accessToClass:NX,agent:FX,agentClass:jX,agentGroup:$X,default__workaround:UX,defaultForNew:BX,delegates:qX,mode:zX,origin:HX,owner:VX}),GX="http://www.w3.org/ns/activitystreams#actor",WX="http://www.w3.org/ns/activitystreams#attributedTo",QX="http://www.w3.org/ns/activitystreams#attachment",ZX="http://www.w3.org/ns/activitystreams#attachments",JX="http://www.w3.org/ns/activitystreams#author",YX="http://www.w3.org/ns/activitystreams#bcc",XX="http://www.w3.org/ns/activitystreams#bto",eee="http://www.w3.org/ns/activitystreams#cc",tee="http://www.w3.org/ns/activitystreams#context",nee="http://www.w3.org/ns/activitystreams#generator",ree="http://www.w3.org/ns/activitystreams#icon",iee="http://www.w3.org/ns/activitystreams#image",aee="http://www.w3.org/ns/activitystreams#inReplyTo",see="http://www.w3.org/ns/activitystreams#items",oee="http://www.w3.org/ns/activitystreams#location",uee="http://www.w3.org/ns/activitystreams#object",lee="http://www.w3.org/ns/activitystreams#oneOf",cee="http://www.w3.org/ns/activitystreams#anyOf",fee="http://www.w3.org/ns/activitystreams#preview",dee="http://www.w3.org/ns/activitystreams#provider",hee="http://www.w3.org/ns/activitystreams#replies",pee="http://www.w3.org/ns/activitystreams#result",gee="http://www.w3.org/ns/activitystreams#audience",mee="http://www.w3.org/ns/activitystreams#tag",yee="http://www.w3.org/ns/activitystreams#tags",vee="http://www.w3.org/ns/activitystreams#target",_ee="http://www.w3.org/ns/activitystreams#origin",wee="http://www.w3.org/ns/activitystreams#instrument",bee="http://www.w3.org/ns/activitystreams#to",See="http://www.w3.org/ns/activitystreams#url",xee="http://www.w3.org/ns/activitystreams#relationship",Eee="http://www.w3.org/ns/activitystreams#describes",Tee="http://www.w3.org/ns/activitystreams#formerType",Cee="http://www.w3.org/ns/activitystreams#accuracy",Aee="http://www.w3.org/ns/activitystreams#altitude",Ree="http://www.w3.org/ns/activitystreams#content",Pee="http://www.w3.org/ns/activitystreams#name",Oee="http://www.w3.org/ns/activitystreams#downstreamDuplicates",Iee="http://www.w3.org/ns/activitystreams#duration",Lee="http://www.w3.org/ns/activitystreams#endTime",Mee="http://www.w3.org/ns/activitystreams#height",Dee="http://www.w3.org/ns/activitystreams#href",kee="http://www.w3.org/ns/activitystreams#hreflang",Nee="http://www.w3.org/ns/activitystreams#id",Fee="http://www.w3.org/ns/activitystreams#latitude",jee="http://www.w3.org/ns/activitystreams#longitude",$ee="http://www.w3.org/ns/activitystreams#mediaType",Uee="http://www.w3.org/ns/activitystreams#objectType",Bee="http://www.w3.org/ns/activitystreams#published",qee="http://www.w3.org/ns/activitystreams#radius",zee="http://www.w3.org/ns/activitystreams#rating",Hee="http://www.w3.org/ns/activitystreams#rel",Vee="http://www.w3.org/ns/activitystreams#startIndex",Kee="http://www.w3.org/ns/activitystreams#startTime",Gee="http://www.w3.org/ns/activitystreams#summary",Wee="http://www.w3.org/ns/activitystreams#totalItems",Qee="http://www.w3.org/ns/activitystreams#units",Zee="http://www.w3.org/ns/activitystreams#updated",Jee="http://www.w3.org/ns/activitystreams#upstreamDuplicates",Yee="http://www.w3.org/ns/activitystreams#verb",Xee="http://www.w3.org/ns/activitystreams#width",ete="http://www.w3.org/ns/activitystreams#deleted",tte="http://www.w3.org/ns/activitystreams#Accept",nte="http://www.w3.org/ns/activitystreams#Activity",rte="http://www.w3.org/ns/activitystreams#Block",ite="http://www.w3.org/ns/activitystreams#IntransitiveActivity",ate="http://www.w3.org/ns/activitystreams#Add",ste="http://www.w3.org/ns/activitystreams#Announce",ote="http://www.w3.org/ns/activitystreams#Application",ute="http://www.w3.org/ns/activitystreams#Arrive",lte="http://www.w3.org/ns/activitystreams#Article",cte="http://www.w3.org/ns/activitystreams#Audio",fte="http://www.w3.org/ns/activitystreams#Collection",dte="http://www.w3.org/ns/activitystreams#CollectionPage",hte="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",pte="http://www.w3.org/ns/activitystreams#Relationship",gte="http://www.w3.org/ns/activitystreams#Create",mte="http://www.w3.org/ns/activitystreams#Delete",yte="http://www.w3.org/ns/activitystreams#Dislike",vte="http://www.w3.org/ns/activitystreams#Document",_te="http://www.w3.org/ns/activitystreams#Event",wte="http://www.w3.org/ns/activitystreams#Flag",bte="http://www.w3.org/ns/activitystreams#Follow",Ste="http://www.w3.org/ns/activitystreams#Group",xte="http://www.w3.org/ns/activitystreams#Ignore",Ete="http://www.w3.org/ns/activitystreams#Image",Tte="http://www.w3.org/ns/activitystreams#Invite",Cte="http://www.w3.org/ns/activitystreams#Join",Ate="http://www.w3.org/ns/activitystreams#Leave",Rte="http://www.w3.org/ns/activitystreams#Like",Pte="http://www.w3.org/ns/activitystreams#View",Ote="http://www.w3.org/ns/activitystreams#Listen",Ite="http://www.w3.org/ns/activitystreams#Read",Lte="http://www.w3.org/ns/activitystreams#Move",Mte="http://www.w3.org/ns/activitystreams#Travel",Dte="http://www.w3.org/ns/activitystreams#Link",kte="http://www.w3.org/ns/activitystreams#Mention",Nte="http://www.w3.org/ns/activitystreams#Note",Fte="http://www.w3.org/ns/activitystreams#Object",jte="http://www.w3.org/ns/activitystreams#Offer",$te="http://www.w3.org/ns/activitystreams#OrderedCollection",Ute="http://www.w3.org/ns/activitystreams#OrderedItems",Bte="http://www.w3.org/ns/activitystreams#Page",qte="http://www.w3.org/ns/activitystreams#Person",zte="http://www.w3.org/ns/activitystreams#Organization",Hte="http://www.w3.org/ns/activitystreams#Profile",Vte="http://www.w3.org/ns/activitystreams#Place",Kte="http://www.w3.org/ns/activitystreams#Question",Gte="http://www.w3.org/ns/activitystreams#Reject",Wte="http://www.w3.org/ns/activitystreams#Remove",Qte="http://www.w3.org/ns/activitystreams#Service",Zte="http://www.w3.org/ns/activitystreams#TentativeAccept",Jte="http://www.w3.org/ns/activitystreams#TentativeReject",Yte="http://www.w3.org/ns/activitystreams#Tombstone",Xte="http://www.w3.org/ns/activitystreams#Undo",ene="http://www.w3.org/ns/activitystreams#Update",tne="http://www.w3.org/ns/activitystreams#Video",nne=Object.freeze({actor:GX,attributedTo:WX,attachment:QX,attachments:ZX,author:JX,bcc:YX,bto:XX,cc:eee,context:tee,generator:nee,icon:ree,image:iee,inReplyTo:aee,items:see,location:oee,object:uee,oneOf:lee,anyOf:cee,preview:fee,provider:dee,replies:hee,result:pee,audience:gee,tag:mee,tags:yee,target:vee,origin:_ee,instrument:wee,to:bee,url:See,relationship:xee,describes:Eee,formerType:Tee,accuracy:Cee,altitude:Aee,content:Ree,name:Pee,downstreamDuplicates:Oee,duration:Iee,endTime:Lee,height:Mee,href:Dee,hreflang:kee,id:Nee,latitude:Fee,longitude:jee,mediaType:$ee,objectType:Uee,published:Bee,radius:qee,rating:zee,rel:Hee,startIndex:Vee,startTime:Kee,summary:Gee,totalItems:Wee,units:Qee,updated:Zee,upstreamDuplicates:Jee,verb:Yee,width:Xee,deleted:ete,Accept:tte,Activity:nte,Block:rte,IntransitiveActivity:ite,Add:ate,Announce:ste,Application:ote,Arrive:ute,Article:lte,Audio:cte,Collection:fte,CollectionPage:dte,OrderedCollectionPage:hte,Relationship:pte,Create:gte,Delete:mte,Dislike:yte,Document:vte,Event:_te,Flag:wte,Follow:bte,Group:Ste,Ignore:xte,Image:Ete,Invite:Tte,Join:Cte,Leave:Ate,Like:Rte,View:Pte,Listen:Ote,Read:Ite,Move:Lte,Travel:Mte,Link:Dte,Mention:kte,Note:Nte,Object__workaround:Fte,Offer:jte,OrderedCollection:$te,OrderedItems:Ute,Page:Bte,Person:qte,Organization:zte,Profile:Hte,Place:Vte,Question:Kte,Reject:Gte,Remove:Wte,Service:Qte,TentativeAccept:Zte,TentativeReject:Jte,Tombstone:Yte,Undo:Xte,Update:ene,Video:tne}),rne="http://purl.org/dc/terms/AgentClass",ine="http://purl.org/dc/terms/BibliographicResource",ane="http://purl.org/dc/terms/Box",sne="http://purl.org/dc/terms/FileFormat",one="http://purl.org/dc/terms/Frequency",une="http://purl.org/dc/terms/ISO3166",lne="http://purl.org/dc/terms/Jurisdiction",cne="http://purl.org/dc/terms/LicenseDocument",fne="http://purl.org/dc/terms/LinguisticSystem",dne="http://purl.org/dc/terms/Location",hne="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",pne="http://purl.org/dc/terms/MediaType",gne="http://purl.org/dc/terms/MediaTypeOrExtent",mne="http://purl.org/dc/terms/MethodOfAccrual",yne="http://purl.org/dc/terms/MethodOfInstruction",vne="http://purl.org/dc/terms/Period",_ne="http://purl.org/dc/terms/PeriodOfTime",wne="http://purl.org/dc/terms/PhysicalMedium",bne="http://purl.org/dc/terms/PhysicalResource",Sne="http://purl.org/dc/terms/Point",xne="http://purl.org/dc/terms/Policy",Ene="http://purl.org/dc/terms/ProvenanceStatement",Tne="http://purl.org/dc/terms/RFC1766",Cne="http://purl.org/dc/terms/RFC3066",Ane="http://purl.org/dc/terms/RFC4646",Rne="http://purl.org/dc/terms/RFC5646",Pne="http://purl.org/dc/terms/RightsStatement",One="http://purl.org/dc/terms/SizeOrDuration",Ine="http://purl.org/dc/terms/Standard",Lne="http://purl.org/dc/terms/URI",Mne="http://purl.org/dc/terms/W3CDTF",Dne="http://purl.org/dc/terms/abstract",kne="http://purl.org/dc/terms/accessRights",Nne="http://purl.org/dc/terms/accrualMethod",Fne="http://purl.org/dc/terms/accrualPeriodicity",jne="http://purl.org/dc/terms/accrualPolicy",$ne="http://purl.org/dc/terms/alternative",Une="http://purl.org/dc/terms/audience",Bne="http://purl.org/dc/terms/available",qne="http://purl.org/dc/terms/bibliographicCitation",zne="http://purl.org/dc/terms/conformsTo",Hne="http://purl.org/dc/terms/contributor",Vne="http://purl.org/dc/terms/coverage",Kne="http://purl.org/dc/terms/created",Gne="http://purl.org/dc/terms/creator",Wne="http://purl.org/dc/terms/date",Qne="http://purl.org/dc/terms/dateAccepted",Zne="http://purl.org/dc/terms/dateCopyrighted",Jne="http://purl.org/dc/terms/dateSubmitted",Yne="http://purl.org/dc/terms/description",Xne="http://purl.org/dc/terms/educationLevel",ere="http://purl.org/dc/terms/extent",tre="http://purl.org/dc/terms/format",nre="http://purl.org/dc/terms/hasFormat",rre="http://purl.org/dc/terms/hasPart",ire="http://purl.org/dc/terms/hasVersion",are="http://purl.org/dc/terms/identifier",sre="http://purl.org/dc/terms/instructionalMethod",ore="http://purl.org/dc/terms/isFormatOf",ure="http://purl.org/dc/terms/isPartOf",lre="http://purl.org/dc/terms/isReferencedBy",cre="http://purl.org/dc/terms/isReplacedBy",fre="http://purl.org/dc/terms/isRequiredBy",dre="http://purl.org/dc/terms/isVersionOf",hre="http://purl.org/dc/terms/issued",pre="http://purl.org/dc/terms/language",gre="http://purl.org/dc/terms/license",mre="http://purl.org/dc/terms/mediator",yre="http://purl.org/dc/terms/medium",vre="http://purl.org/dc/terms/modified",_re="http://purl.org/dc/terms/provenance",wre="http://purl.org/dc/terms/publisher",bre="http://purl.org/dc/terms/references",Sre="http://purl.org/dc/terms/relation",xre="http://purl.org/dc/terms/replaces",Ere="http://purl.org/dc/terms/requires",Tre="http://purl.org/dc/terms/rights",Cre="http://purl.org/dc/terms/rightsHolder",Are="http://purl.org/dc/terms/source",Rre="http://purl.org/dc/terms/spatial",Pre="http://purl.org/dc/terms/subject",Ore="http://purl.org/dc/terms/tableOfContents",Ire="http://purl.org/dc/terms/temporal",Lre="http://purl.org/dc/terms/title",Mre="http://purl.org/dc/terms/type",Dre="http://purl.org/dc/terms/valid",kre=Object.freeze({AgentClass:rne,BibliographicResource:ine,Box:ane,FileFormat:sne,Frequency:one,ISO3166:une,Jurisdiction:lne,LicenseDocument:cne,LinguisticSystem:fne,Location:dne,LocationPeriodOrJurisdiction:hne,MediaType:pne,MediaTypeOrExtent:gne,MethodOfAccrual:mne,MethodOfInstruction:yne,Period:vne,PeriodOfTime:_ne,PhysicalMedium:wne,PhysicalResource:bne,Point:Sne,Policy:xne,ProvenanceStatement:Ene,RFC1766:Tne,RFC3066:Cne,RFC4646:Ane,RFC5646:Rne,RightsStatement:Pne,SizeOrDuration:One,Standard:Ine,URI:Lne,W3CDTF:Mne,abstract:Dne,accessRights:kne,accrualMethod:Nne,accrualPeriodicity:Fne,accrualPolicy:jne,alternative:$ne,audience:Une,available:Bne,bibliographicCitation:qne,conformsTo:zne,contributor:Hne,coverage:Vne,created:Kne,creator:Gne,date:Wne,dateAccepted:Qne,dateCopyrighted:Zne,dateSubmitted:Jne,description:Yne,educationLevel:Xne,extent:ere,format:tre,hasFormat:nre,hasPart:rre,hasVersion:ire,identifier:are,instructionalMethod:sre,isFormatOf:ore,isPartOf:ure,isReferencedBy:lre,isReplacedBy:cre,isRequiredBy:fre,isVersionOf:dre,issued:hre,language:pre,license:gre,mediator:mre,medium:yre,modified:vre,provenance:_re,publisher:wre,references:bre,relation:Sre,replaces:xre,requires:Ere,rights:Tre,rightsHolder:Cre,source:Are,spatial:Rre,subject:Pre,tableOfContents:Ore,temporal:Ire,title:Lre,type:Mre,valid:Dre}),Nre="http://xmlns.com/foaf/0.1/Person",Fre="http://xmlns.com/foaf/0.1/Document",jre="http://xmlns.com/foaf/0.1/Organization",$re="http://xmlns.com/foaf/0.1/Group",Ure="http://xmlns.com/foaf/0.1/Agent",Bre="http://xmlns.com/foaf/0.1/Project",qre="http://xmlns.com/foaf/0.1/Image",zre="http://xmlns.com/foaf/0.1/PersonalProfileDocument",Hre="http://xmlns.com/foaf/0.1/OnlineAccount",Vre="http://xmlns.com/foaf/0.1/OnlineGamingAccount",Kre="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",Gre="http://xmlns.com/foaf/0.1/OnlineChatAccount",Wre="http://xmlns.com/foaf/0.1/mbox",Qre="http://xmlns.com/foaf/0.1/mbox_sha1sum",Zre="http://xmlns.com/foaf/0.1/gender",Jre="http://xmlns.com/foaf/0.1/geekcode",Yre="http://xmlns.com/foaf/0.1/dnaChecksum",Xre="http://xmlns.com/foaf/0.1/sha1",eie="http://xmlns.com/foaf/0.1/based_near",tie="http://xmlns.com/foaf/0.1/title",nie="http://xmlns.com/foaf/0.1/nick",rie="http://xmlns.com/foaf/0.1/jabberID",iie="http://xmlns.com/foaf/0.1/aimChatID",aie="http://xmlns.com/foaf/0.1/icqChatID",sie="http://xmlns.com/foaf/0.1/yahooChatID",oie="http://xmlns.com/foaf/0.1/msnChatID",uie="http://xmlns.com/foaf/0.1/name",lie="http://xmlns.com/foaf/0.1/firstName",cie="http://xmlns.com/foaf/0.1/givenname",fie="http://xmlns.com/foaf/0.1/surname",die="http://xmlns.com/foaf/0.1/family_name",hie="http://xmlns.com/foaf/0.1/phone",pie="http://xmlns.com/foaf/0.1/homepage",gie="http://xmlns.com/foaf/0.1/weblog",mie="http://xmlns.com/foaf/0.1/tipjar",yie="http://xmlns.com/foaf/0.1/plan",vie="http://xmlns.com/foaf/0.1/made",_ie="http://xmlns.com/foaf/0.1/maker",wie="http://xmlns.com/foaf/0.1/img",bie="http://xmlns.com/foaf/0.1/depiction",Sie="http://xmlns.com/foaf/0.1/depicts",xie="http://xmlns.com/foaf/0.1/thumbnail",Eie="http://xmlns.com/foaf/0.1/myersBriggs",Tie="http://xmlns.com/foaf/0.1/workplaceHomepage",Cie="http://xmlns.com/foaf/0.1/workInfoHomepage",Aie="http://xmlns.com/foaf/0.1/schoolHomepage",Rie="http://xmlns.com/foaf/0.1/knows",Pie="http://xmlns.com/foaf/0.1/interest",Oie="http://xmlns.com/foaf/0.1/topic_interest",Iie="http://xmlns.com/foaf/0.1/publications",Lie="http://xmlns.com/foaf/0.1/currentProject",Mie="http://xmlns.com/foaf/0.1/pastProject",Die="http://xmlns.com/foaf/0.1/fundedBy",kie="http://xmlns.com/foaf/0.1/logo",Nie="http://xmlns.com/foaf/0.1/topic",Fie="http://xmlns.com/foaf/0.1/primaryTopic",jie="http://xmlns.com/foaf/0.1/page",$ie="http://xmlns.com/foaf/0.1/theme",Uie="http://xmlns.com/foaf/0.1/holdsAccount",Bie="http://xmlns.com/foaf/0.1/accountServiceHomepage",qie="http://xmlns.com/foaf/0.1/accountName",zie="http://xmlns.com/foaf/0.1/member",Hie="http://xmlns.com/foaf/0.1/membershipClass",Vie=Object.freeze({Person:Nre,Document:Fre,Organization:jre,Group:$re,Agent:Ure,Project:Bre,Image:qre,PersonalProfileDocument:zre,OnlineAccount:Hre,OnlineGamingAccount:Vre,OnlineEcommerceAccount:Kre,OnlineChatAccount:Gre,mbox:Wre,mbox_sha1sum:Qre,gender:Zre,geekcode:Jre,dnaChecksum:Yre,sha1:Xre,based_near:eie,title:tie,nick:nie,jabberID:rie,aimChatID:iie,icqChatID:aie,yahooChatID:sie,msnChatID:oie,name:uie,firstName:lie,givenname:cie,surname:fie,family_name:die,phone:hie,homepage:pie,weblog:gie,tipjar:mie,plan:yie,made:vie,maker:_ie,img:wie,depiction:bie,depicts:Sie,thumbnail:xie,myersBriggs:Eie,workplaceHomepage:Tie,workInfoHomepage:Cie,schoolHomepage:Aie,knows:Rie,interest:Pie,topic_interest:Oie,publications:Iie,currentProject:Lie,pastProject:Mie,fundedBy:Die,logo:kie,topic:Nie,primaryTopic:Fie,page:jie,theme:$ie,holdsAccount:Uie,accountServiceHomepage:Bie,accountName:qie,member:zie,membershipClass:Hie}),Kie="http://www.w3.org/ns/ldp#Resource",Gie="http://www.w3.org/ns/ldp#RDFSource",Wie="http://www.w3.org/ns/ldp#NonRDFSource",Qie="http://www.w3.org/ns/ldp#Container",Zie="http://www.w3.org/ns/ldp#BasicContainer",Jie="http://www.w3.org/ns/ldp#DirectContainer",Yie="http://www.w3.org/ns/ldp#IndirectContainer",Xie="http://www.w3.org/ns/ldp#hasMemberRelation",eae="http://www.w3.org/ns/ldp#isMemberOfRelation",tae="http://www.w3.org/ns/ldp#membershipResource",nae="http://www.w3.org/ns/ldp#insertedContentRelation",rae="http://www.w3.org/ns/ldp#member",iae="http://www.w3.org/ns/ldp#contains",aae="http://www.w3.org/ns/ldp#constrainedBy",sae="http://www.w3.org/ns/ldp#pageSortCriteria",oae="http://www.w3.org/ns/ldp#PageSortCriterion",uae="http://www.w3.org/ns/ldp#pageSortPredicate",lae="http://www.w3.org/ns/ldp#pageSortOrder",cae="http://www.w3.org/ns/ldp#pageSortCollation",fae="http://www.w3.org/ns/ldp#Page",dae="http://www.w3.org/ns/ldp#pageSequence",hae="http://www.w3.org/ns/ldp#inbox",pae=Object.freeze({Resource:Kie,RDFSource:Gie,NonRDFSource:Wie,Container:Qie,BasicContainer:Zie,DirectContainer:Jie,IndirectContainer:Yie,hasMemberRelation:Xie,isMemberOfRelation:eae,membershipResource:tae,insertedContentRelation:nae,member:rae,contains:iae,constrainedBy:aae,pageSortCriteria:sae,PageSortCriterion:oae,pageSortPredicate:uae,pageSortOrder:lae,pageSortCollation:cae,Page:fae,pageSequence:dae,inbox:hae}),gae="http://www.w3.org/ns/pim/meeting#Meeting",mae="http://www.w3.org/ns/pim/meeting#VideoCallPage",yae="http://www.w3.org/ns/pim/meeting#actionItems",vae="http://www.w3.org/ns/pim/meeting#agenda",_ae="http://www.w3.org/ns/pim/meeting#attendeeGroup",wae="http://www.w3.org/ns/pim/meeting#chat",bae="http://www.w3.org/ns/pim/meeting#nextMeeting",Sae="http://www.w3.org/ns/pim/meeting#previousMeeting",xae="http://www.w3.org/ns/pim/meeting#sharedNotes",Eae="http://www.w3.org/ns/pim/meeting#toolList",Tae="http://www.w3.org/ns/pim/meeting#trip",Cae="http://www.w3.org/ns/pim/meeting#videoCallPage",Aae=Object.freeze({Meeting:gae,VideoCallPage:mae,actionItems:yae,agenda:vae,attendeeGroup:_ae,chat:wae,nextMeeting:bae,previousMeeting:Sae,sharedNotes:xae,toolList:Eae,trip:Tae,videoCallPage:Cae}),Rae="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Pae="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Oae="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",Iae="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Lae="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Mae="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Dae="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",kae="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",Nae="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Fae="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",jae="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",$ae="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",Uae="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",Bae="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",qae="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",zae="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",Hae="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Vae="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",Kae="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",Gae="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",Wae="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Qae=Object.freeze({HTML:Rae,langString:Pae,PlainLiteral:Oae,type:Iae,Property:Lae,Statement:Mae,subject:Dae,predicate:kae,object:Nae,Bag:Fae,Seq:jae,Alt:$ae,value:Uae,List:Bae,first:qae,rest:zae,XMLLiteral:Hae,JSON__workaround:Vae,CompoundLiteral:Kae,language:Gae,direction:Wae}),Zae="http://www.w3.org/2000/01/rdf-schema#Resource",Jae="http://www.w3.org/2000/01/rdf-schema#Class",Yae="http://www.w3.org/2000/01/rdf-schema#subClassOf",Xae="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",ese="http://www.w3.org/2000/01/rdf-schema#comment",tse="http://www.w3.org/2000/01/rdf-schema#label",nse="http://www.w3.org/2000/01/rdf-schema#domain",rse="http://www.w3.org/2000/01/rdf-schema#range",ise="http://www.w3.org/2000/01/rdf-schema#seeAlso",ase="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",sse="http://www.w3.org/2000/01/rdf-schema#Literal",ose="http://www.w3.org/2000/01/rdf-schema#Container",use="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",lse="http://www.w3.org/2000/01/rdf-schema#member",cse="http://www.w3.org/2000/01/rdf-schema#Datatype",fse=Object.freeze({Resource:Zae,Class:Jae,subClassOf:Yae,subPropertyOf:Xae,comment:ese,label:tse,domain:nse,range:rse,seeAlso:ise,isDefinedBy:ase,Literal:sse,Container:ose,ContainerMembershipProperty:use,member:lse,Datatype:cse}),dse="http://rdfs.org/sioc/ns#Community",hse="http://rdfs.org/sioc/ns#Container",pse="http://rdfs.org/sioc/ns#Forum",gse="http://rdfs.org/sioc/ns#Item",mse="http://rdfs.org/sioc/ns#Post",yse="http://rdfs.org/sioc/ns#Role",vse="http://rdfs.org/sioc/ns#Space",_se="http://rdfs.org/sioc/ns#Site",wse="http://rdfs.org/sioc/ns#Thread",bse="http://rdfs.org/sioc/ns#UserAccount",Sse="http://rdfs.org/sioc/ns#Usergroup",xse="http://rdfs.org/sioc/ns#about",Ese="http://rdfs.org/sioc/ns#account_of",Tse="http://rdfs.org/sioc/ns#addressed_to",Cse="http://rdfs.org/sioc/ns#administrator_of",Ase="http://rdfs.org/sioc/ns#attachment",Rse="http://rdfs.org/sioc/ns#avatar",Pse="http://rdfs.org/sioc/ns#container_of",Ose="http://rdfs.org/sioc/ns#content",Ise="http://rdfs.org/sioc/ns#creator_of",Lse="http://rdfs.org/sioc/ns#delivered_at",Mse="http://rdfs.org/sioc/ns#discussion_of",Dse="http://rdfs.org/sioc/ns#email",kse="http://rdfs.org/sioc/ns#email_sha1",Nse="http://rdfs.org/sioc/ns#embeds_knowledge",Fse="http://rdfs.org/sioc/ns#feed",jse="http://rdfs.org/sioc/ns#follows",$se="http://rdfs.org/sioc/ns#function_of",Use="http://rdfs.org/sioc/ns#generator",Bse="http://rdfs.org/sioc/ns#has_administrator",qse="http://rdfs.org/sioc/ns#has_container",zse="http://rdfs.org/sioc/ns#has_creator",Hse="http://rdfs.org/sioc/ns#has_discussion",Vse="http://rdfs.org/sioc/ns#has_function",Kse="http://rdfs.org/sioc/ns#has_host",Gse="http://rdfs.org/sioc/ns#has_member",Wse="http://rdfs.org/sioc/ns#has_moderator",Qse="http://rdfs.org/sioc/ns#has_modifier",Zse="http://rdfs.org/sioc/ns#has_owner",Jse="http://rdfs.org/sioc/ns#has_parent",Yse="http://rdfs.org/sioc/ns#has_reply",Xse="http://rdfs.org/sioc/ns#has_scope",eoe="http://rdfs.org/sioc/ns#has_space",toe="http://rdfs.org/sioc/ns#has_subscriber",noe="http://rdfs.org/sioc/ns#has_usergroup",roe="http://rdfs.org/sioc/ns#host_of",ioe="http://rdfs.org/sioc/ns#id",aoe="http://rdfs.org/sioc/ns#ip_address",soe="http://rdfs.org/sioc/ns#last_activity_date",ooe="http://rdfs.org/sioc/ns#last_item_date",uoe="http://rdfs.org/sioc/ns#last_reply_date",loe="http://rdfs.org/sioc/ns#latest_version",coe="http://rdfs.org/sioc/ns#likes",foe="http://rdfs.org/sioc/ns#link",doe="http://rdfs.org/sioc/ns#links_to",hoe="http://rdfs.org/sioc/ns#member_of",poe="http://rdfs.org/sioc/ns#mentions",goe="http://rdfs.org/sioc/ns#moderator_of",moe="http://rdfs.org/sioc/ns#modifier_of",yoe="http://rdfs.org/sioc/ns#name",voe="http://rdfs.org/sioc/ns#next_by_date",_oe="http://rdfs.org/sioc/ns#next_version",woe="http://rdfs.org/sioc/ns#note",boe="http://rdfs.org/sioc/ns#num_authors",Soe="http://rdfs.org/sioc/ns#num_items",xoe="http://rdfs.org/sioc/ns#num_replies",Eoe="http://rdfs.org/sioc/ns#num_threads",Toe="http://rdfs.org/sioc/ns#num_views",Coe="http://rdfs.org/sioc/ns#owner_of",Aoe="http://rdfs.org/sioc/ns#parent_of",Roe="http://rdfs.org/sioc/ns#previous_by_date",Poe="http://rdfs.org/sioc/ns#previous_version",Ooe="http://rdfs.org/sioc/ns#read_at",Ioe="http://rdfs.org/sioc/ns#related_to",Loe="http://rdfs.org/sioc/ns#reply_of",Moe="http://rdfs.org/sioc/ns#respond_to",Doe="http://rdfs.org/sioc/ns#scope_of",koe="http://rdfs.org/sioc/ns#shared_by",Noe="http://rdfs.org/sioc/ns#space_of",Foe="http://rdfs.org/sioc/ns#subscriber_of",joe="http://rdfs.org/sioc/ns#topic",$oe="http://rdfs.org/sioc/ns#usergroup_of",Uoe=Object.freeze({Community:dse,Container:hse,Forum:pse,Item:gse,Post:mse,Role:yse,Space:vse,Site:_se,Thread:wse,UserAccount:bse,Usergroup:Sse,about:xse,account_of:Ese,addressed_to:Tse,administrator_of:Cse,attachment:Ase,avatar:Rse,container_of:Pse,content:Ose,creator_of:Ise,delivered_at:Lse,discussion_of:Mse,email:Dse,email_sha1:kse,embeds_knowledge:Nse,feed:Fse,follows:jse,function_of:$se,generator:Use,has_administrator:Bse,has_container:qse,has_creator:zse,has_discussion:Hse,has_function:Vse,has_host:Kse,has_member:Gse,has_moderator:Wse,has_modifier:Qse,has_owner:Zse,has_parent:Jse,has_reply:Yse,has_scope:Xse,has_space:eoe,has_subscriber:toe,has_usergroup:noe,host_of:roe,id:ioe,ip_address:aoe,last_activity_date:soe,last_item_date:ooe,last_reply_date:uoe,latest_version:loe,likes:coe,link:foe,links_to:doe,member_of:hoe,mentions:poe,moderator_of:goe,modifier_of:moe,name:yoe,next_by_date:voe,next_version:_oe,note:woe,num_authors:boe,num_items:Soe,num_replies:xoe,num_threads:Eoe,num_views:Toe,owner_of:Coe,parent_of:Aoe,previous_by_date:Roe,previous_version:Poe,read_at:Ooe,related_to:Ioe,reply_of:Loe,respond_to:Moe,scope_of:Doe,shared_by:koe,space_of:Noe,subscriber_of:Foe,topic:joe,usergroup_of:$oe}),Boe="http://www.w3.org/ns/solid/terms#Account",qoe="http://www.w3.org/ns/solid/terms#Inbox",zoe="http://www.w3.org/ns/solid/terms#InsertDeletePatch",Hoe="http://www.w3.org/ns/solid/terms#ListedDocument",Voe="http://www.w3.org/ns/solid/terms#Notification",Koe="http://www.w3.org/ns/solid/terms#Patch",Goe="http://www.w3.org/ns/solid/terms#Timeline",Woe="http://www.w3.org/ns/solid/terms#TypeIndex",Qoe="http://www.w3.org/ns/solid/terms#TypeRegistration",Zoe="http://www.w3.org/ns/solid/terms#UnlistedDocument",Joe="http://www.w3.org/ns/solid/terms#account",Yoe="http://www.w3.org/ns/solid/terms#deletes",Xoe="http://www.w3.org/ns/solid/terms#forClass",eue="http://www.w3.org/ns/solid/terms#inbox",tue="http://www.w3.org/ns/solid/terms#inserts",nue="http://www.w3.org/ns/solid/terms#instance",rue="http://www.w3.org/ns/solid/terms#instanceContainer",iue="http://www.w3.org/ns/solid/terms#loginEndpoint",aue="http://www.w3.org/ns/solid/terms#logoutEndpoint",sue="http://www.w3.org/ns/solid/terms#notification",oue="http://www.w3.org/ns/solid/terms#oidcIssuer",uue="http://www.w3.org/ns/solid/terms#owner",lue="http://www.w3.org/ns/solid/terms#patches",cue="http://www.w3.org/ns/solid/terms#privateTypeIndex",fue="http://www.w3.org/ns/solid/terms#publicTypeIndex",due="http://www.w3.org/ns/solid/terms#read",hue="http://www.w3.org/ns/solid/terms#storageQuota",pue="http://www.w3.org/ns/solid/terms#storageUsage",gue="http://www.w3.org/ns/solid/terms#typeIndex",mue="http://www.w3.org/ns/solid/terms#timeline",yue="http://www.w3.org/ns/solid/terms#where",vue=Object.freeze({Account:Boe,Inbox:qoe,InsertDeletePatch:zoe,ListedDocument:Hoe,Notification:Voe,Patch:Koe,Timeline:Goe,TypeIndex:Woe,TypeRegistration:Qoe,UnlistedDocument:Zoe,account:Joe,deletes:Yoe,forClass:Xoe,inbox:eue,inserts:tue,instance:nue,instanceContainer:rue,loginEndpoint:iue,logoutEndpoint:aue,notification:sue,oidcIssuer:oue,owner:uue,patches:lue,privateTypeIndex:cue,publicTypeIndex:fue,read:due,storageQuota:hue,storageUsage:pue,typeIndex:gue,timeline:mue,where:yue}),_ue="http://www.w3.org/ns/pim/space#ControlledStorage",wue="http://www.w3.org/ns/pim/space#PersonalStorage",bue="http://www.w3.org/ns/pim/space#PublicStorage",Sue="http://www.w3.org/ns/pim/space#Storage",xue="http://www.w3.org/ns/pim/space#Workspace",Eue="http://www.w3.org/ns/pim/space#masterWorkspace",Tue="http://www.w3.org/ns/pim/space#preferencesFile",Cue="http://www.w3.org/ns/pim/space#storage",Aue="http://www.w3.org/ns/pim/space#uriPrefix",Rue="http://www.w3.org/ns/pim/space#workspace",Pue=Object.freeze({ControlledStorage:_ue,PersonalStorage:wue,PublicStorage:bue,Storage:Sue,Workspace:xue,masterWorkspace:Eue,preferencesFile:Tue,storage:Cue,uriPrefix:Aue,workspace:Rue}),Oue="http://www.w3.org/2006/vcard/ns#Acquaintance",Iue="http://www.w3.org/2006/vcard/ns#Agent",Lue="http://www.w3.org/2006/vcard/ns#BBS",Mue="http://www.w3.org/2006/vcard/ns#Car",Due="http://www.w3.org/2006/vcard/ns#Cell",kue="http://www.w3.org/2006/vcard/ns#Child",Nue="http://www.w3.org/2006/vcard/ns#Colleague",Fue="http://www.w3.org/2006/vcard/ns#Contact",jue="http://www.w3.org/2006/vcard/ns#Coresident",$ue="http://www.w3.org/2006/vcard/ns#Coworker",Uue="http://www.w3.org/2006/vcard/ns#Crush",Bue="http://www.w3.org/2006/vcard/ns#Date",que="http://www.w3.org/2006/vcard/ns#Dom",zue="http://www.w3.org/2006/vcard/ns#Emergency",Hue="http://www.w3.org/2006/vcard/ns#Fax",Vue="http://www.w3.org/2006/vcard/ns#Female",Kue="http://www.w3.org/2006/vcard/ns#Friend",Gue="http://www.w3.org/2006/vcard/ns#Home",Wue="http://www.w3.org/2006/vcard/ns#ISDN",Que="http://www.w3.org/2006/vcard/ns#Internet",Zue="http://www.w3.org/2006/vcard/ns#Intl",Jue="http://www.w3.org/2006/vcard/ns#Kin",Yue="http://www.w3.org/2006/vcard/ns#Label",Xue="http://www.w3.org/2006/vcard/ns#Male",ele="http://www.w3.org/2006/vcard/ns#Me",tle="http://www.w3.org/2006/vcard/ns#Met",nle="http://www.w3.org/2006/vcard/ns#Modem",rle="http://www.w3.org/2006/vcard/ns#Msg",ile="http://www.w3.org/2006/vcard/ns#Muse",ale="http://www.w3.org/2006/vcard/ns#Neighbor",sle="http://www.w3.org/2006/vcard/ns#None",ole="http://www.w3.org/2006/vcard/ns#Other",ule="http://www.w3.org/2006/vcard/ns#PCS",lle="http://www.w3.org/2006/vcard/ns#Pager",cle="http://www.w3.org/2006/vcard/ns#Parcel",fle="http://www.w3.org/2006/vcard/ns#Parent",dle="http://www.w3.org/2006/vcard/ns#Postal",hle="http://www.w3.org/2006/vcard/ns#Pref",ple="http://www.w3.org/2006/vcard/ns#Sibling",gle="http://www.w3.org/2006/vcard/ns#Spouse",mle="http://www.w3.org/2006/vcard/ns#Sweetheart",yle="http://www.w3.org/2006/vcard/ns#Tel",vle="http://www.w3.org/2006/vcard/ns#Text",_le="http://www.w3.org/2006/vcard/ns#TextPhone",wle="http://www.w3.org/2006/vcard/ns#Unknown",ble="http://www.w3.org/2006/vcard/ns#Video",Sle="http://www.w3.org/2006/vcard/ns#Voice",xle="http://www.w3.org/2006/vcard/ns#Work",Ele="http://www.w3.org/2006/vcard/ns#X400",Tle="http://www.w3.org/2006/vcard/ns#adr",Cle="http://www.w3.org/2006/vcard/ns#agent",Ale="http://www.w3.org/2006/vcard/ns#anniversary",Rle="http://www.w3.org/2006/vcard/ns#bday",Ple="http://www.w3.org/2006/vcard/ns#category",Ole="http://www.w3.org/2006/vcard/ns#class",Ile="http://www.w3.org/2006/vcard/ns#email",Lle="http://www.w3.org/2006/vcard/ns#geo",Mle="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Dle="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",kle="http://www.w3.org/2006/vcard/ns#hasCalendarLink",Nle="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Fle="http://www.w3.org/2006/vcard/ns#hasCategory",jle="http://www.w3.org/2006/vcard/ns#hasCountryName",$le="http://www.w3.org/2006/vcard/ns#hasFN",Ule="http://www.w3.org/2006/vcard/ns#hasFamilyName",Ble="http://www.w3.org/2006/vcard/ns#hasGender",qle="http://www.w3.org/2006/vcard/ns#hasGivenName",zle="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",Hle="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",Vle="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Kle="http://www.w3.org/2006/vcard/ns#hasLanguage",Gle="http://www.w3.org/2006/vcard/ns#hasLocality",Wle="http://www.w3.org/2006/vcard/ns#hasNickname",Qle="http://www.w3.org/2006/vcard/ns#hasNote",Zle="http://www.w3.org/2006/vcard/ns#hasOrganizationName",Jle="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Yle="http://www.w3.org/2006/vcard/ns#hasPostalCode",Xle="http://www.w3.org/2006/vcard/ns#hasRegion",ece="http://www.w3.org/2006/vcard/ns#hasRelated",tce="http://www.w3.org/2006/vcard/ns#hasRole",nce="http://www.w3.org/2006/vcard/ns#hasSource",rce="http://www.w3.org/2006/vcard/ns#hasStreetAddress",ice="http://www.w3.org/2006/vcard/ns#hasTitle",ace="http://www.w3.org/2006/vcard/ns#hasUID",sce="http://www.w3.org/2006/vcard/ns#hasValue",oce="http://www.w3.org/2006/vcard/ns#label",uce="http://www.w3.org/2006/vcard/ns#language",lce="http://www.w3.org/2006/vcard/ns#latitude",cce="http://www.w3.org/2006/vcard/ns#longitude",fce="http://www.w3.org/2006/vcard/ns#mailer",dce="http://www.w3.org/2006/vcard/ns#note",hce="http://www.w3.org/2006/vcard/ns#org",pce="http://www.w3.org/2006/vcard/ns#prodid",gce="http://www.w3.org/2006/vcard/ns#rev",mce="http://www.w3.org/2006/vcard/ns#role",yce="http://www.w3.org/2006/vcard/ns#title",vce="http://www.w3.org/2006/vcard/ns#tz",_ce="http://www.w3.org/2006/vcard/ns#value",wce="http://www.w3.org/2006/vcard/ns#Address",bce="http://www.w3.org/2006/vcard/ns#Email",Sce="http://www.w3.org/2006/vcard/ns#Group",xce="http://www.w3.org/2006/vcard/ns#Individual",Ece="http://www.w3.org/2006/vcard/ns#Name",Tce="http://www.w3.org/2006/vcard/ns#VCard",Cce="http://www.w3.org/2006/vcard/ns#fn",Ace="http://www.w3.org/2006/vcard/ns#hasAddress",Rce="http://www.w3.org/2006/vcard/ns#hasEmail",Pce="http://www.w3.org/2006/vcard/ns#hasGeo",Oce="http://www.w3.org/2006/vcard/ns#hasKey",Ice="http://www.w3.org/2006/vcard/ns#hasLogo",Lce="http://www.w3.org/2006/vcard/ns#hasName",Mce="http://www.w3.org/2006/vcard/ns#hasPhoto",Dce="http://www.w3.org/2006/vcard/ns#hasSound",kce="http://www.w3.org/2006/vcard/ns#hasTelephone",Nce="http://www.w3.org/2006/vcard/ns#hasURL",Fce="http://www.w3.org/2006/vcard/ns#key",jce="http://www.w3.org/2006/vcard/ns#logo",$ce="http://www.w3.org/2006/vcard/ns#n",Uce="http://www.w3.org/2006/vcard/ns#nickname",Bce="http://www.w3.org/2006/vcard/ns#photo",qce="http://www.w3.org/2006/vcard/ns#sound",zce="http://www.w3.org/2006/vcard/ns#tel",Hce="http://www.w3.org/2006/vcard/ns#url",Vce="http://www.w3.org/2006/vcard/ns#Location",Kce="http://www.w3.org/2006/vcard/ns#hasMember",Gce="http://www.w3.org/2006/vcard/ns#locality",Wce="http://www.w3.org/2006/vcard/ns#region",Qce="http://www.w3.org/2006/vcard/ns#Organization",Zce="http://www.w3.org/2006/vcard/ns#Gender",Jce="http://www.w3.org/2006/vcard/ns#Kind",Yce="http://www.w3.org/2006/vcard/ns#Type",Xce="http://www.w3.org/2006/vcard/ns#TelephoneType",efe="http://www.w3.org/2006/vcard/ns#RelatedType",tfe=Object.freeze({Acquaintance:Oue,Agent:Iue,BBS:Lue,Car:Mue,Cell:Due,Child:kue,Colleague:Nue,Contact:Fue,Coresident:jue,Coworker:$ue,Crush:Uue,Date__workaround:Bue,Dom:que,Emergency:zue,Fax:Hue,Female:Vue,Friend:Kue,Home:Gue,ISDN:Wue,Internet:Que,Intl__workaround:Zue,Kin:Jue,Label:Yue,Male:Xue,Me:ele,Met:tle,Modem:nle,Msg:rle,Muse:ile,Neighbor:ale,None:sle,Other:ole,PCS:ule,Pager:lle,Parcel:cle,Parent:fle,Postal:dle,Pref:hle,Sibling:ple,Spouse:gle,Sweetheart:mle,Tel:yle,Text:vle,TextPhone:_le,Unknown:wle,Video:ble,Voice:Sle,Work:xle,X400:Ele,adr:Tle,agent:Cle,anniversary:Ale,bday:Rle,category:Ple,class__workaround:Ole,email:Ile,geo:Lle,hasAdditionalName:Mle,hasCalendarBusy:Dle,hasCalendarLink:kle,hasCalendarRequest:Nle,hasCategory:Fle,hasCountryName:jle,hasFN:$le,hasFamilyName:Ule,hasGender:Ble,hasGivenName:qle,hasHonorificPrefix:zle,hasHonorificSuffix:Hle,hasInstantMessage:Vle,hasLanguage:Kle,hasLocality:Gle,hasNickname:Wle,hasNote:Qle,hasOrganizationName:Zle,hasOrganizationUnit:Jle,hasPostalCode:Yle,hasRegion:Xle,hasRelated:ece,hasRole:tce,hasSource:nce,hasStreetAddress:rce,hasTitle:ice,hasUID:ace,hasValue:sce,label:oce,language:uce,latitude:lce,longitude:cce,mailer:fce,note:dce,org:hce,prodid:pce,rev:gce,role:mce,title:yce,tz:vce,value:_ce,Address:wce,Email:bce,Group:Sce,Individual:xce,Name:Ece,VCard:Tce,fn:Cce,hasAddress:Ace,hasEmail:Rce,hasGeo:Pce,hasKey:Oce,hasLogo:Ice,hasName:Lce,hasPhoto:Mce,hasSound:Dce,hasTelephone:kce,hasURL:Nce,key:Fce,logo:jce,n:$ce,nickname:Uce,photo:Bce,sound:qce,tel:zce,url:Hce,Location:Vce,hasMember:Kce,locality:Gce,region:Wce,Organization:Qce,Gender:Zce,Kind:Jce,Type:Yce,TelephoneType:Xce,RelatedType:efe}),nfe="http://www.w3.org/2005/01/wf/flow#ActionItem",rfe="http://www.w3.org/2005/01/wf/flow#Change",ife="http://www.w3.org/2005/01/wf/flow#Closed",afe="http://www.w3.org/2005/01/wf/flow#Creation",sfe="http://www.w3.org/2005/01/wf/flow#Message",ofe="http://www.w3.org/2005/01/wf/flow#NonTerminalState",ufe="http://www.w3.org/2005/01/wf/flow#Open",lfe="http://www.w3.org/2005/01/wf/flow#Product",cfe="http://www.w3.org/2005/01/wf/flow#Task",ffe="http://www.w3.org/2005/01/wf/flow#TerminalState",dfe="http://www.w3.org/2005/01/wf/flow#Tracker",hfe="http://www.w3.org/2005/01/wf/flow#Transition",pfe="http://www.w3.org/2005/01/wf/flow#affects",gfe="http://www.w3.org/2005/01/wf/flow#allowedTransitions",mfe="http://www.w3.org/2005/01/wf/flow#asigneeClass",yfe="http://www.w3.org/2005/01/wf/flow#assignee",vfe="http://www.w3.org/2005/01/wf/flow#attachment",_fe="http://www.w3.org/2005/01/wf/flow#creates",wfe="http://www.w3.org/2005/01/wf/flow#dateDue",bfe="http://www.w3.org/2005/01/wf/flow#deliverable",Sfe="http://www.w3.org/2005/01/wf/flow#dependent",xfe="http://www.w3.org/2005/01/wf/flow#description",Efe="http://www.w3.org/2005/01/wf/flow#final",Tfe="http://www.w3.org/2005/01/wf/flow#goalDescription",Cfe="http://www.w3.org/2005/01/wf/flow#initialState",Afe="http://www.w3.org/2005/01/wf/flow#issue",Rfe="http://www.w3.org/2005/01/wf/flow#issueCategory",Pfe="http://www.w3.org/2005/01/wf/flow#issueClass",Ofe="http://www.w3.org/2005/01/wf/flow#message",Ife="http://www.w3.org/2005/01/wf/flow#modifiedBy",Lfe="http://www.w3.org/2005/01/wf/flow#recipent",Mfe="http://www.w3.org/2005/01/wf/flow#requires",Dfe="http://www.w3.org/2005/01/wf/flow#screenShot",kfe="http://www.w3.org/2005/01/wf/flow#sender",Nfe="http://www.w3.org/2005/01/wf/flow#source",Ffe="http://www.w3.org/2005/01/wf/flow#stateStore",jfe="http://www.w3.org/2005/01/wf/flow#subscriber",$fe="http://www.w3.org/2005/01/wf/flow#successCriteria",Ufe="http://www.w3.org/2005/01/wf/flow#task",Bfe="http://www.w3.org/2005/01/wf/flow#terminalOutput",qfe="http://www.w3.org/2005/01/wf/flow#testData",zfe="http://www.w3.org/2005/01/wf/flow#tracker",Hfe="http://www.w3.org/2005/01/wf/flow#transactionStore",Vfe=Object.freeze({ActionItem:nfe,Change:rfe,Closed:ife,Creation:afe,Message:sfe,NonTerminalState:ofe,Open:ufe,Product:lfe,Task:cfe,TerminalState:ffe,Tracker:dfe,Transition:hfe,affects:pfe,allowedTransitions:gfe,asigneeClass:mfe,assignee:yfe,attachment:vfe,creates:_fe,dateDue:wfe,deliverable:bfe,dependent:Sfe,description:xfe,final:Efe,goalDescription:Tfe,initialState:Cfe,issue:Afe,issueCategory:Rfe,issueClass:Pfe,message:Ofe,modifiedBy:Ife,recipent:Lfe,requires:Mfe,screenShot:Dfe,sender:kfe,source:Nfe,stateStore:Ffe,subscriber:jfe,successCriteria:$fe,task:Ufe,terminalOutput:Bfe,testData:qfe,tracker:zfe,transactionStore:Hfe}),xn=KX,qD=nne,hB=kre,Ol=Vie,uu=pae,Kfe=Aae,lf=Qae,LR=fse,qd=Uoe,Dn=vue,uh=Pue,pB=tfe,Gfe=Vfe,go=function(t){return t.Read="Read",t.Write="Write",t.Append="Append",t.Control="Control",t}({}),zr=function(t){return t.simpleMailerIntegration="simpleMailerIntegration",t.mailerIntegration="mailerIntegration",t.rdfDocument="rdfDocument",t.file="file",t.geoindex="geoindex",t.wikidataSearch="wikidataSearch",t.wikidataEntity="wikidataEntity",t}({});const Wfe=async(t,e)=>{const n=await globalThis.fetch(t,{method:"GET"});return await nr(n.url,e)},Qfe=async t=>new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e(r.result)},r.onerror=i=>n(i)}),wi=t=>{const e=new URL(t);if(e.hash="",e.search="",e.pathname.length===0||e.pathname==="/")return e.toString();const n=e.pathname.split("/").slice(0,-1);return n.push(""),e.pathname=n.join("/"),e.toString()},gB=t=>{const e=wi(t);return e===t?mB(e):e},Zfe=t=>Jfe(t,gB),mB=t=>{const e=new URL(t);if(e.pathname.length===0||e.pathname==="/")return t;const n=e.pathname.split("/").slice(0,-2);return n.push(""),e.pathname=n.join("/"),e.toString()},$s=async(t,e)=>{try{return await nr(t,e)}catch{return await Wfe(t,e)}},kl=t=>{const e=new URL(t);return e.hash="",e.toString()},zD=t=>{const e=new URL(t);return e.protocol="https",e.toString()},Jfe=(t,e)=>{const n=new Set;let r=t;for(;!n.has(r);)n.add(r),r=e(r);return n.delete(t),Array.from(n)},Nl=async t=>{var a;const n=(await nr(t,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${t} does not have any Link headers`);const i=(a=ZU.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${t}`);return new URL(i,t).toString()},yB=(t,e)=>{const r=new ah({baseIRI:t}).parse(e),i=new wo(r),a=i.getSubjects(lf.type,xn.Authorization,null),s={[xn.Read]:go.Read,[xn.Write]:go.Write,[xn.Append]:go.Append,[xn.Control]:go.Control};return a.map(o=>{const l=i.getObjects(o,xn.mode,null).map(y=>s[y.value]).filter(y=>typeof y<"u"),c=i.getObjects(o,xn.agent,null).map(y=>y.value),h=i.getObjects(o,xn.agentClass,null).map(y=>y.value),p=i.getObjects(o,xn.agentGroup,null).map(y=>y.value),m=i.getObjects(o,xn.default__workaround,null).map(y=>y.value);return{url:o.value,modes:l,agents:c,agentClasses:h,agentGroups:p,defaults:m}})},Yfe=(t,...e)=>{const n={};for(const r of e)for(const i of r)n[i[t]]=i;return Object.values(n)},Xfe=t=>{const e={};return t&&t.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const a=i[1],s=i[2].split(/\s+/);e[a]=new Set(s)}}),e};function yd(t,e){e=wi(e);try{const n=new URL(t).href,r=new URL(e).href;return n.startsWith(r)?n.substring(r.length)||"./":t}catch{return t}}const MR=(t="")=>{const e=t&&kl(t),n=ne.useMemo(()=>[zr.file,e],[e]);return Sm({queryKey:n,queryFn:()=>ede(e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},ede=async t=>{const e=await nr(t);if(e.ok)return URL.createObjectURL(await e.blob());if(e.status===404)return"";throw new Error(`Fetching ${t} not successful`)},tde=async(t,e)=>{const r=(await nr(t,{method:"POST",body:e})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},nde=async t=>{await nr(t,{method:"DELETE"})},rde=()=>{const t=Si();return Ra({mutationFn:async({uri:n,data:r})=>await tde(n,r),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:[zr.file,kl(r.uri)]})}})},ide=()=>{const t=Si();return Ra({mutationFn:async({uri:n})=>await nde(n),onSuccess:(n,r)=>{t.invalidateQueries({queryKey:[zr.file,kl(r.uri)]})}})};function vB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Or(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vB(t))&&(r&&(r+=" "),r+=e);return r}var _B={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HD=Lt.createContext&&Lt.createContext(_B),ade=["attr","size","title"];function sde(t,e){if(t==null)return{};var n=ode(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ode(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u0.apply(this,arguments)}function VD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VD(Object(n),!0).forEach(function(r){ude(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ude(t,e,n){return e=lde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lde(t){var e=cde(t,"string");return typeof e=="symbol"?e:e+""}function cde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wB(t){return t&&t.map((e,n)=>Lt.createElement(e.tag,l0({key:n},e.attr),wB(e.child)))}function pa(t){return e=>Lt.createElement(fde,u0({attr:l0({},t.attr)},e),wB(t.child))}function fde(t){var e=n=>{var{attr:r,size:i,title:a}=t,s=sde(t,ade),o=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Lt.createElement("svg",u0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:l0(l0({color:t.color||n.color},n.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),a&&Lt.createElement("title",null,a),t.children)};return HD!==void 0?Lt.createElement(HD.Consumer,null,n=>e(n)):e(_B)}function dde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function Rm(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function hde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(t)}function pde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function bB(t){return pa({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(t)}function KD(t){return pa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function SB(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(t)}function gde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(t)}function mde(t){return pa({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(t)}function yde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(t)}function xB(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(t)}function vde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(t)}function DR(t){return pa({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function _de(t){return pa({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(t)}function wde(t){return pa({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(t)}const bde="_photo_cmh6k_1",Sde="_square_cmh6k_6",bS={photo:bde,square:Sde},V0=({photo:t,size:e=1,square:n,className:r})=>{const{data:i}=MR(t);return i?Q.jsx("img",{className:Or(bS.photo,n&&bS.square,r),src:i,alt:"",style:{width:`${e*2}rem`,height:`${e*2}rem`}}):Q.jsx(_de,{className:Or(bS.photo,r),size:e*32})},xde="_button_14nfq_1",Ede="_primary_14nfq_15",Tde="_secondary_14nfq_24",Cde="_tertiary_14nfq_32",Ade="_danger_14nfq_37",ca={button:xde,primary:Ede,secondary:Tde,tertiary:Cde,danger:Ade},pr=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>Q.jsx("button",{className:Or(i,ca.button,t&&ca.primary,r&&ca.danger,e&&ca.secondary,n&&ca.tertiary),...a}),Qc=({primary:t,secondary:e,tertiary:n,danger:r,className:i,...a})=>Q.jsx(Ds,{className:Or(i,ca.button,t&&ca.primary,r&&ca.danger,e&&ca.secondary,n&&ca.tertiary),...a}),Rde=t=>Q.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:Q.jsx(SB,{})}),Pde=({primary:t,secondary:e,tertiary:n,danger:r,className:i,children:a,...s})=>Q.jsx("a",{className:Or(i,ca.button,t&&ca.primary,r&&ca.danger,e&&ca.secondary,n&&ca.tertiary),...s,children:a}),Ode={...LW,communityId:$8,communityContainer:U8,emailNotificationsType:B8,oidcIssuers:K8,geoindexService:q8,tileServer:V8,darkModeLogoStyle:z8,defaultCommunityName:H8},kn=()=>{const t=bi(dU);return ne.useMemo(()=>({...Ode,...t}),[t])},Ide=()=>{const t=Ml(),e=kn();ne.useEffect(()=>{window.updateAppConfig=n=>{t(JC.setConfig(n))},window.resetAppConfig=()=>{t(JC.resetConfig())}},[t]),ne.useEffect(()=>{window.appConfig=e},[e])},Lde="_logoContainer_16cvy_1",Mde="_logo_16cvy_1",Dde="_focusedLogo_16cvy_10",kde="_unfocusedLogo_16cvy_13",Nde="_darkInvert_16cvy_20",dc={logoContainer:Lde,logo:Mde,focusedLogo:Dde,unfocusedLogo:kde,darkInvert:Nde},EB=({logo:t,focusedLogo:e,name:n,className:r})=>{const{darkModeLogoStyle:i}=kn(),{i18n:a,_:s}=si();return!t&&!n?null:Q.jsxs("div",{className:dc.logoContainer,children:[t&&Q.jsx("img",{src:t,className:Or(dc.logo,i==="invert"&&dc.darkInvert,e?dc.unfocusedLogo:null,r),alt:n?a._({id:"2ZJVX8",values:{name:n}}):""}),e&&Q.jsx("img",{src:e,className:Or(dc.logo,i&&dc.darkInvert,dc.focusedLogo,r),alt:n?a._({id:"LShGrM",values:{name:n}}):""}),n?Q.jsx("span",{children:n}):null]})},Fde={switch:"_switch_1g69w_1"},jde=()=>{const t=bi(lR),e=Ml(),{i18n:n,_:r}=si(),i=()=>{e(uR.toggleTheme())};return Q.jsx("button",{className:Fde.switch,onClick:i,"aria-label":t==="dark"?n._({id:"e0IFR+"}):n._({id:"yNR1Vx"}),children:t==="dark"?Q.jsx(vde,{}):Q.jsx(yde,{})})},$de={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Ude={type:{"@id":"@type"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@container":"@set"},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},Bde={schema:$de,shape:"https://example.com/HospexCommunity",context:Ude};var qde=_u();const xp="http://www.w3.org/1999/02/22-rdf-syntax-ns#",Ep="http://www.w3.org/2001/XMLSchema#",SS="http://www.w3.org/2000/10/swap/",Vi={xsd:{decimal:`${Ep}decimal`,boolean:`${Ep}boolean`,double:`${Ep}double`,integer:`${Ep}integer`,string:`${Ep}string`},rdf:{type:`${xp}type`,nil:`${xp}nil`,first:`${xp}first`,rest:`${xp}rest`,langString:`${xp}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${SS}reify#forSome`,forAll:`${SS}reify#forAll`},log:{implies:`${SS}log#implies`}},{xsd:cv}=Vi,zde=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,GD={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Hde=/[\x00-\x20<>\\"\{\}\|\^\`]/,Vde={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Kde=/$0^/;class Gde{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const n in this)!(n in Vde)&&this[n]instanceof RegExp&&(this[n]=Kde)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,n){let r=this._input,i=r.length;for(;;){let o,l;for(;o=this._newline.exec(r);)this.comments&&(l=this._comment.exec(o[0]))&&a("comment",l[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),i=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,h=r[0];let p="",m="",y="",v=null,w=0,E=!1;switch(h){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){E=!0;break}}else{this._n3Mode&&(w=1,p="^");break}case"<":if(v=this._unescapedIri.exec(r))p="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||Hde.test(m))return s(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",w=2):this._n3Mode&&r.length>1&&r[1]==="="&&(p="inverse",w=2,m=">");break;case">":r.length>1&&r[1]===">"&&(p=">>",w=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(p="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return s(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:w}=this._parseLiteral(r),m===null)return s(this);(v!==null||w!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(p="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(p="langcode",m=v[1]):(v=this._keyword.exec(r))&&(p=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",w=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(p="literal",m=v[0],y=typeof v[1]=="string"?cv.double:typeof v[2]=="string"?cv.decimal:cv.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?p=v[0].toUpperCase():E=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(p="literal",m=v[0],y=cv.boolean):E=!0;break;case"a":(v=this._shortPredicates.exec(r))?(p="abbreviation",m="a"):E=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(w=1,m="="):(w=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(w=1,p=h);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",w=2):(p=h,w=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",w=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(p="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?s(this):this._input=r;const b=w||v[0].length,x=a(p,m,y,c,b);this.previousToken=x,this._previousMarker=p,r=r.substr(b,r.length)}function a(o,l,c,h,p){const m=r?i-r.length:i,y=m+p,v={type:o,value:l,prefix:c,line:h,start:m,end:y};return e(null,v),v}function s(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let n=!1;const r=e.replace(zde,(i,a,s,o)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof s=="string"){let l=Number.parseInt(s,16);return l<=65535?String.fromCharCode(Number.parseInt(s,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return o in GD?GD[o]:(n=!0,"")});return n?null:r}_parseLiteral(e){if(e.length>=3){const n=e.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=e.indexOf(n,i))>0;){let a=0;for(;e[i-a-1]==="\\";)a++;if(a%2===0){const s=e.substring(r,i),o=s.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(s),matchLength:l}}i++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const n=new Error(`Unexpected "${e}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,n){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof n=="function")JU(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,s)=>a?i=a:r.push(s),!0),i)throw i;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=qde.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),e.on("error",n)}}const{rdf:Wde,xsd:kc}=Vi;let lh,Qde=0;const Il={namedNode:CB,blankNode:AB,variable:PB,literal:RB,defaultGraph:Xde,quad:oA,triple:oA,fromTerm:Ag,fromQuad:OB};class zs{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof zs?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let lo=class extends zs{get termType(){return"NamedNode"}},L_=class TB extends zs{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let n=e.lastIndexOf('"')+1;return n<e.length&&e[n++]==="@"?e.substr(n).toLowerCase():""}get datatype(){return new lo(this.datatypeString)}get datatypeString(){const e=this.id,n=e.lastIndexOf('"')+1,r=n<e.length?e[n]:"";return r==="^"?e.substr(n+2):r!=="@"?kc.string:Wde.langString}equals(e){return e instanceof TB?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},Zde=class extends zs{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},Jde=class extends zs{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Yde=class extends zs{constructor(){return super(""),lh||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}};lh=new Yde;function Cg(t,e,n){if(e=e||Il,!t)return e.defaultGraph();switch(t[0]){case"?":return e.variable(t.substr(1));case"_":return e.blankNode(t.substr(2));case'"':if(e===Il)return new L_(t);if(t[t.length-1]==='"')return e.literal(t.substr(1,t.length-2));const r=t.lastIndexOf('"',t.length-1);return e.literal(t.substr(1,r-1),t[r+1]==="@"?t.substr(r+2):e.namedNode(t.substr(r+3)));case"[":t=JSON.parse(t);break;default:if(!n||!Array.isArray(t))return e.namedNode(t)}return e.quad(Cg(t[0],e,!0),Cg(t[1],e,!0),Cg(t[2],e,!0),t[3]&&Cg(t[3],e,!0))}function dd(t,e){if(typeof t=="string")return t;if(t instanceof zs&&t.termType!=="Quad")return t.id;if(!t)return lh.id;switch(t.termType){case"NamedNode":return t.value;case"BlankNode":return`_:${t.value}`;case"Variable":return`?${t.value}`;case"DefaultGraph":return"";case"Literal":return`"${t.value}"${t.language?`@${t.language}`:t.datatype&&t.datatype.value!==kc.string?`^^${t.datatype.value}`:""}`;case"Quad":const n=[dd(t.subject,!0),dd(t.predicate,!0),dd(t.object,!0)];return t.graph&&t.graph.termType!=="DefaultGraph"&&n.push(dd(t.graph,!0)),e?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${t.termType}`)}}let ro=class extends zs{constructor(e,n,r,i){super(""),this._subject=e,this._predicate=n,this._object=r,this._graph=i||lh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}};function CB(t){return new lo(t)}function AB(t){return new Zde(t||`n3-${Qde++}`)}function RB(t,e){if(typeof e=="string")return new L_(`"${t}"@${e.toLowerCase()}`);let n=e?e.value:"";return n===""&&(typeof t=="boolean"?n=kc.boolean:typeof t=="number"&&(Number.isFinite(t)?n=Number.isInteger(t)?kc.integer:kc.double:(n=kc.double,Number.isNaN(t)||(t=t>0?"INF":"-INF")))),n===""||n===kc.string?new L_(`"${t}"`):new L_(`"${t}"^^${n}`)}function PB(t){return new Jde(t)}function Xde(){return lh}function oA(t,e,n,r){return new ro(t,e,n,r)}function Ag(t){if(t instanceof zs)return t;switch(t.termType){case"NamedNode":return CB(t.value);case"BlankNode":return AB(t.value);case"Variable":return PB(t.value);case"DefaultGraph":return lh;case"Literal":return RB(t.value,t.language||t.datatype);case"Quad":return OB(t);default:throw new Error(`Unexpected termType: ${t.termType}`)}}function OB(t){if(t instanceof ro)return t;if(t.termType!=="Quad")throw new Error(`Unexpected termType: ${t.termType}`);return oA(Ag(t.subject),Ag(t.predicate),Ag(t.object),Ag(t.graph))}let WD=0;class IB{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&LB(this,e.factory);const n=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),s=/quad/.test(n),o=this._n3Mode=/n3/.test(n),l=a||s;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||o),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new Gde({lineMode:l,n3:o}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){WD=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const n=e.indexOf("#");n>=0&&(e=e.substr(0,n)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,n,r,i,a){const s=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:i,object:a,graph:n,inverse:s?this._inversePredicate:!1,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null}),s&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,n){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,n){let r;switch(e.type){case"IRI":case"typeIRI":const i=this._resolveIRI(e.value);if(i===null)return this._error("Invalid IRI",e);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[e.prefix];if(a===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._namedNode(a+e.value);break;case"blank":r=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const n=e.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,e):(this._subject=null,n==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let n=null,r=null,i=this._readListItem;const a=this._subject,s=this._contextStack,o=s[s.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),s.length!==0&&s[s.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,i=this._readListItemDataTypeOrLang):(n=this._literal(e.value,this._namedNode(e.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((n=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?o.predicate===null?o.subject=r:o.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let n=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;n=this._literal(this._literalValue,r),e=null;break;case"langcode":n=this._literal(this._literalValue,e.value),e=null;break}return{token:e,literal:n}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,n){const r=this._completeLiteral(e);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const s=this._predicate,o=this._object;this._subject=this._quad(i,s,o,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(i!==null){const s=this._predicate,o=this._object;a?this._emit(o,s,i,r):this._emit(i,s,o,r)}return n}_readBlankNodePunctuation(e){let n;switch(e.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const n=this._readEntity(e);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(e){const n=e.type==="IRI"&&this._resolveIRI(e.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let n;switch(e.type){case"IRI":case"prefixed":if((n=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let n,r;const i=this._blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(e){const n=this._blankNode();let r,i;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,n,r,i){this._callback(null,this._quad(e,n,r,i||this.DEFAULTGRAPH))}_error(e,n){const r=new Error(`${e} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=fv}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const n=e.length;let r="",i=-1,a=-1,s=0,o="/";for(;i<n;){switch(o){case":":if(a<0&&e[++i]==="/"&&e[++i]==="/")for(;(a=i+1)<n&&e[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(e[i+1]===".")switch(o=e[++i+1],o){case"/":r+=e.substring(s,i-1),s=i+1;break;case void 0:case"?":case"#":return r+e.substring(s,i)+e.substr(i+1);case".":if(o=e[++i+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(s,i-2),(s=r.lastIndexOf("/"))>=a&&(r=r.substr(0,s)),o!=="/")return`${r}/${e.substr(i+1)}`;s=i+1}}}o=e[++i]}return r+e.substring(s)}parse(e,n,r){let i,a,s;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,s=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${WD++}_`,this._prefixCallback=a||fv,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(h,p)=>{h?c=h:p&&l.push(p)},this._lexer.tokenize(e).every(h=>this._readCallback=this._readCallback(h)),c)throw c;return l}let o=(l,c)=>{l!==null?(this._callback(l),this._callback=fv):this._readCallback&&(this._readCallback=this._readCallback(c))};s&&(this._lexer.comments=!0,o=(l,c)=>{l!==null?(this._callback(l),this._callback=fv):this._readCallback&&(c.type==="comment"?s(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(e,o)}}function fv(){}function LB(t,e){const n=e.namedNode;t._namedNode=n,t._blankNode=e.blankNode,t._literal=e.literal,t._variable=e.variable,t._quad=e.quad,t.DEFAULTGRAPH=e.defaultGraph(),t.RDF_FIRST=n(Vi.rdf.first),t.RDF_REST=n(Vi.rdf.rest),t.RDF_NIL=n(Vi.rdf.nil),t.N3_FORALL=n(Vi.r.forAll),t.N3_FORSOME=n(Vi.r.forSome),t.ABBREVIATIONS={a:n(Vi.rdf.type),"=":n(Vi.owl.sameAs),">":n(Vi.log.implies)},t.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}LB(IB.prototype,Il);function uA(t){return!!t&&t.termType==="DefaultGraph"}const Tp=Il.defaultGraph(),{rdf:ehe,xsd:Zf}=Vi,QD=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,ZD=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,the={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Cp extends zs{equals(e){return e===this}}class MB{constructor(e,n){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(n=e,e=null),n=n||{},this._lists=n.lists,e)this._outputStream=e,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,s){r+=i,s&&s()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=Tp,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${YD(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return Tp.equals(this._graph)}_write(e,n){this._outputStream.write(e,"utf8",n)}_writeQuad(e,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(Tp.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),e.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(s){a&&a(s)}}_writeQuadLine(e,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(e,n,r,i),a)}quadToString(e,n,r,i){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(e){let n="";for(const r of e)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let n=e.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),QD.test(n)&&(n=n.replace(ZD,JD));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(e){let n=e.value;if(QD.test(n)&&(n=n.replace(ZD,JD)),e.language)return`"${n}"@${e.language}`;if(this._lineMode){if(e.datatype.value===Zf.string)return`"${n}"`}else switch(e.datatype.value){case Zf.string:return`"${n}"`;case Zf.boolean:if(n==="true"||n==="false")return n;break;case Zf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Zf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Zf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===ehe.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${uA(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,n,r,i,a){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,n):typeof i=="function"?this._writeQuad(e,n,r,Tp,i):this._writeQuad(e,n,r,i||Tp,a)}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}addPrefix(e,n,r){const i={};i[e]=n,this.addPrefixes(i,r)}addPrefixes(e,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in e){let a=e[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const s in this._prefixIRIs)i+=i?`|${s}`:s,a+=(a?"|":"")+this._prefixIRIs[s];i=YD(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(e,n){let r=e,i,a;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:n}]:"length"in e||(r=[e]),a=r.length){case 0:return new Cp("[]");case 1:if(i=r[0],!(i.object instanceof Cp))return new Cp(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let s="[";for(let o=0;o<a;o++)i=r[o],i.predicate.equals(e)?s+=`, ${this._encodeObject(i.object)}`:(s+=`${(o?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,e=i.predicate);return new Cp(`${s}
]`)}}list(e){const n=e&&e.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(e[i]);return new Cp(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=e&&((r,i)=>{n=null,e(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function JD(t){let e=the[t];return e===void 0&&(t.length===1?(e=t.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((t.charCodeAt(0)-55296)*1024+t.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}function YD(t){return t.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const xS=Symbol("iter");function jg(t,e,n=4){if(n===0)return Object.assign(t,e);for(const r in e)t[r]=jg(t[r]||Object.create(null),e[r],n-1);return t}function DB(t,e,n=4){let r=!1;for(const i in t)if(i in e){const a=n===0?null:DB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function kB(t,e,n=4){let r=!1;for(const i in t)if(!(i in e))r=r||Object.create(null),r[i]=n===0?null:jg({},t[i],n-1);else if(n!==0){const a=kB(t[i],e[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class nhe{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||Il}_termFromId(e){if(e[0]==="."){const n=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return Cg(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const n=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),i=this._termToNumericId(e.object);let a;return n&&r&&i&&(uA(e.graph)||(a=this._termToNumericId(e.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[dd(e)]}_termToNewNumericId(e){const n=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${uA(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:dd(e);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(e){let n,r;if(e)for(n=e=`_:${e}`,r=1;this._ids[n];)n=e+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class Sa{constructor(e,n){this._size=0,this._graphs=Object.create(null),!n&&e&&!e[0]&&(n=e,e=null),n=n||{},this._factory=n.factory||Il,this._entityIndex=n.entityIndex||new nhe({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addQuads(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const n=this._graphs;let r,i;for(const a in n)for(const s in r=n[a].subjects)for(const o in i=r[s])e+=Object.keys(i[o]).length;return this._size=e}_addToIndex(e,n,r,i){const a=e[n]||(e[n]={}),s=a[r]||(a[r]={}),o=i in s;return o||(s[i]=null),!o}_removeFromIndex(e,n,r,i){const a=e[n],s=a[r];delete s[i];for(const o in s)return;delete a[r];for(const o in a)return;delete e[n]}*_findInIndex(e,n,r,i,a,s,o,l){let c,h,p;const m=this._entities,y=this._termFromId(m[l]),v={subject:null,predicate:null,object:null};n&&((c=e,e={})[n]=c[n]);for(const w in e)if(h=e[w]){v[a]=this._termFromId(m[w]),r&&((c=h,h={})[r]=c[r]);for(const E in h)if(p=h[E]){v[s]=this._termFromId(m[E]);const b=i?i in p?[i]:[]:Object.keys(p);for(let x=0;x<b.length;x++)v[o]=this._termFromId(m[b[x]]),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(e,n){for(const r in e)n(r)}_loopByKey0(e,n,r){let i,a;if(i=e[n])for(a in i)r(a)}_loopByKey1(e,n,r){let i,a;for(i in e)a=e[i],a[n]&&r(i)}_loopBy2Keys(e,n,r,i){let a,s,o;if((a=e[n])&&(s=a[r]))for(o in s)i(o)}_countInIndex(e,n,r,i){let a=0,s,o,l;n&&((s=e,e={})[n]=s[n]);for(const c in e)if(o=e[c]){r&&((s=o,o={})[r]=s[r]);for(const h in o)(l=o[h])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const n=Object.create(null);return r=>{r in n||(n[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,n,r,i){n||(i=e.graph,r=e.object,n=e.predicate,e=e.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),e=this._termToNewNumericId(e),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,e,n,r)?(this._addToIndex(a.predicates,n,r,e),this._addToIndex(a.objects,r,e,n),this._size=null,!0):!1}addQuads(e){for(let n=0;n<e.length;n++)this.addQuad(e[n])}delete(e){return this.removeQuad(e),this}has(e,n,r,i){return e&&e.subject&&({subject:e,predicate:n,object:r,graph:i}=e),!this.readQuads(e,n,r,i).next().done}import(e){return e.on("data",n=>{this.addQuad(n)}),e}removeQuad(e,n,r,i){n||({subject:e,predicate:n,object:r,graph:i}=e),i=i?this._termToNumericId(i):1;const a=this._graphs;let s,o,l;if(!(e=e&&this._termToNumericId(e))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(s=a[i])||!(o=s.subjects[e])||!(l=o[n])||!(r in l))return!1;this._removeFromIndex(s.subjects,e,n,r),this._removeFromIndex(s.predicates,n,r,e),this._removeFromIndex(s.objects,r,e,n),this._size!==null&&this._size--;for(e in s.subjects)return!0;return delete a[i],!0}removeQuads(e){for(let n=0;n<e.length;n++)this.removeQuad(e[n])}remove(e){return e.on("data",n=>{this.removeQuad(n)}),e}removeMatches(e,n,r,i){const a=new oh.Readable({objectMode:!0}),s=this.readQuads(e,n,r,i);return a._read=o=>{for(;--o>=0;){const{done:l,value:c}=s.next();if(l){a.push(null);return}a.push(c)}},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,n,r,i){return[...this.readQuads(e,n,r,i)]}*readQuads(e,n,r,i){const a=this._getGraphs(i);let s,o,l,c;if(!(e&&!(o=this._termToNumericId(e))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const h in a)(s=a[h])&&(o?c?yield*this._findInIndex(s.objects,c,o,l,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,o,l,null,"subject","predicate","object",h):l?yield*this._findInIndex(s.predicates,l,c,null,"predicate","object","subject",h):c?yield*this._findInIndex(s.objects,c,null,null,"object","subject","predicate",h):yield*this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",h))}match(e,n,r,i){return new fl(this,e,n,r,i,{entityIndex:this._entityIndex})}countQuads(e,n,r,i){const a=this._getGraphs(i);let s=0,o,l,c,h;if(e&&!(l=this._termToNumericId(e))||n&&!(c=this._termToNumericId(n))||r&&!(h=this._termToNumericId(r)))return 0;for(const p in a)(o=a[p])&&(e?r?s+=this._countInIndex(o.objects,h,l,c):s+=this._countInIndex(o.subjects,l,c,h):n?s+=this._countInIndex(o.predicates,c,h,l):s+=this._countInIndex(o.objects,h,l,c));return s}forEach(e,n,r,i,a){this.some(s=>(e(s,this),!1),n,r,i,a)}every(e,n,r,i,a){return!this.some(s=>!e(s,this),n,r,i,a)}some(e,n,r,i,a){for(const s of this.readQuads(n,r,i,a))if(e(s))return!0;return!1}getSubjects(e,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},e,n,r),i}forSubjects(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.predicates,o,l,e):this._loopByKey1(s.subjects,o,e):l?this._loopByKey0(s.objects,l,e):this._loop(s.subjects,e))}getPredicates(e,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},e,n,r),i}forPredicates(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.objects,l,o,e):this._loopByKey0(s.subjects,o,e):l?this._loopByKey1(s.predicates,l,e):this._loop(s.predicates,e))}getObjects(e,n,r){const i=[];return this.forObjects(a=>{i.push(a)},e,n,r),i}forObjects(e,n,r,i){const a=this._getGraphs(i);let s,o,l;if(e=this._uniqueEntities(e),!(n&&!(o=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(s=a[i])&&(o?l?this._loopBy2Keys(s.subjects,o,l,e):this._loopByKey1(s.objects,o,e):l?this._loopByKey0(s.predicates,l,e):this._loop(s.objects,e))}getGraphs(e,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},e,n,r),i}forGraphs(e,n,r,i){for(const a in this._graphs)this.some(s=>(e(s.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(o,l)=>{throw new Error(`${o.value} ${l}`)},a=this.getQuads(null,Vi.rdf.rest,Vi.rdf.nil,null),s=e?[...a]:[];return a.forEach(o=>{const l=[];let c=!1,h,p;const m=o.graph;let y=o.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),w=this.getQuads(y,null,null,null);let E,b=null,x=null,A=null;for(let I=0;I<w.length&&!c;I++)E=w[I],E.graph.equals(m)?h?c=i(y,"has non-list arcs out"):E.predicate.value===Vi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):s.push(b=E):E.predicate.value===Vi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):s.push(x=E):v.length?c=i(y,"can't be subject and object"):(h=E,p="subject"):c=i(y,"not confined to single graph");for(let I=0;I<v.length&&!c;++I)E=v[I],h?c=i(y,"can't have coreferences"):E.predicate.value===Vi.rdf.rest?A?c=i(y,"has incoming rdf:rest arcs"):A=E:(h=E,p="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=A&&A.subject}c?e=!1:h&&(r[h[p].value]=l)}),e&&this.removeQuads(s),r}addAll(e){if(e instanceof fl&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof Sa&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=jg(this._graphs,e._graphs),this._size=null);else for(const n of e)this.add(n);return this}contains(e){if(e instanceof fl&&(e=e.filtered),e===this)return!0;if(!(e instanceof Sa)||this._entityIndex!==e._entityIndex)return e.every(c=>this.has(c));const n=this._graphs,r=e._graphs;let i,a,s,o,l;for(const c in r){if(!(i=n[c]))return!1;i=i.subjects;for(const h in a=r[c].subjects){if(!(s=i[h]))return!1;for(const p in o=a[h]){if(!(l=s[p]))return!1;for(const m in o[p])if(!(m in l))return!1}}}return!0}deleteMatches(e,n,r,i){for(const a of this.match(e,n,r,i))this.removeQuad(a);return this}difference(e){if(e&&e instanceof fl&&(e=e.filtered),e===this)return new Sa({entityIndex:this._entityIndex});if(e instanceof Sa&&e._entityIndex===this._entityIndex){const n=new Sa({entityIndex:this._entityIndex}),r=kB(this._graphs,e._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!e.has(n))}equals(e){return e instanceof fl&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const n=new Sa({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&n.add(r);return n}intersection(e){if(e instanceof fl&&(e=e.filtered),e===this){const n=new Sa({entityIndex:this._entityIndex});return n._graphs=jg(Object.create(null),this._graphs),n._size=this._size,n}else if(e instanceof Sa&&this._entityIndex===e._entityIndex){const n=new Sa({entityIndex:this._entityIndex}),r=DB(e._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>e.has(n))}map(e){const n=new Sa({entityIndex:this._entityIndex});for(const r of this)n.add(e(r,this));return n}reduce(e,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=e(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new MB().quadsToString(this)}union(e){const n=new Sa({entityIndex:this._entityIndex});return n._graphs=jg(Object.create(null),this._graphs),n._size=this._size,n.addAll(e),n}*[Symbol.iterator](){yield*this.readQuads()}}function no(t,e,n=0){const r=e[n];if(r&&!(r in t))return!1;let i=!1;for(const a in r?{[r]:t[r]}:t){const s=n===2?null:no(t[a],e,n+1);s!==!1&&(i=i||Object.create(null),i[a]=s)}return i}class fl extends oh.Readable{constructor(e,n,r,i,a,s){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:n,predicate:r,object:i,graph:a,options:s})}get filtered(){if(!this._filtered){const{n3Store:e,graph:n,object:r,predicate:i,subject:a}=this,s=this._filtered=new Sa({factory:e._factory,entityIndex:this.options.entityIndex});let o,l,c;if(a&&!(o=s._termToNumericId(a))||i&&!(l=s._termToNumericId(i))||r&&!(c=s._termToNumericId(r)))return s;const h=e._getGraphs(n);for(const p in h){let m,y,v;!o&&l?(y=no(h[p].predicates,[l,c,o]))&&(m=no(h[p].subjects,[o,l,c]),v=no(h[p].objects,[c,o,l])):c?(v=no(h[p].objects,[c,o,l]))&&(m=no(h[p].subjects,[o,l,c]),y=no(h[p].predicates,[l,c,o])):(m=no(h[p].subjects,[o,l,c]))&&(y=no(h[p].predicates,[l,c,o]),v=no(h[p].objects,[c,o,l])),m&&(s._graphs[p]={subjects:m,predicates:y,objects:v})}s._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[xS]&&(this[xS]=this[Symbol.iterator]());const n=this[xS];for(;--e>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,n,r,i){return this.filtered.deleteMatches(e,n,r,i)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,n,r,i,a){return this.filtered.every(e,n,r,i,a)}filter(e){return this.filtered.filter(e)}forEach(e,n,r,i,a){return this.filtered.forEach(e,n,r,i,a)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,n,r,i,a){return this.filtered.some(e,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,n){return this.filtered.reduce(e,n)}toString(){return new MB().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,n,r,i){return new fl(this.filtered,e,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function XD(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var kR=function(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(h){try{c(r.next(h))}catch(p){s(p)}}function l(h){try{c(r.throw(h))}catch(p){s(p)}}function c(h){h.done?a(h.value):i(h.value).then(o,l)}c((r=r.apply(t,e||[])).next())})};const rhe=t=>(e,n)=>kR(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(e,{method:"GET"});return yield t(r.url,n)}),ihe=t=>(e,n)=>kR(void 0,void 0,void 0,function*(){try{return yield t(e,n)}catch{return yield rhe(t)(e,n)}}),lA=t=>{const e=new URL(t);return e.hash="",e.toString()},ahe=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],NR=(t,e)=>kR(void 0,void 0,void 0,function*(){var n;let r=[],i="",a=-1,s=!1,o;try{const l=lA(t);return o=yield ihe(e)(l,{headers:{accept:ahe.join(",")}}),s=o.ok,a=o.status,i=yield o.text(),r=she(i,{baseIRI:l,format:(n=o.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:XD(i),ok:s,statusCode:a,response:o}}catch{return s=!1,{data:r,rawData:i,hash:XD(i),ok:s,statusCode:a,response:o}}}),she=(t,e)=>{const n=new IB(e),r=Il.namedNode(e.baseIRI);return n.parse(t).map(({subject:a,predicate:s,object:o})=>Il.quad(a,s,o,r))},M_=t=>JSON.stringify(t.toJSON()),hc=["subject","predicate","object","graph"],NB={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let il=class extends lo{constructor(e){super(NB.variable+"/"+e),this.variable=e}static getVar(e){return e.value.split("/").pop()}};const Sn=Object.fromEntries(Object.entries(NB).map(([t,e])=>[t,new lo(e)]));class ohe{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let e="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);e+=r.concat(" ")+" ==> "+i.concat(" ")}),e}}add(e){var n,r,i;this.list.add(e),Object.values(e.from).forEach(a=>{a.forEach(s=>{var o,l,c;(o=(l=this.provides)[c=s.value])!==null&&o!==void 0||(l[c]=new Set),this.provides[s.value].add(e)})}),Object.values(e.to).forEach(a=>{a.forEach(s=>{var o,l,c;(o=(l=this.providersOf)[c=s.value])!==null&&o!==void 0||(l[c]=new Set),this.providersOf[s.value].add(e)})}),e.quad&&((n=(r=this.byQuad)[i=M_(e.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[M_(e.quad)].add(e))}remove(e){this.list.delete(e),Object.values(e.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(e)})}),Object.values(e.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(e)})}),e.quad&&this.byQuad[M_(e.quad)].delete(e)}}class ek{constructor(e,n,r=new Sa){this.moves=new ohe,this.store=r,this.query=e,Object.entries(n).forEach(([i,a])=>{a.forEach(s=>{const o=new lo(s);this.moves.add({from:{},to:{[i]:new Set([o])},step:-1}),this.addVariable(i,o)})})}getMissingResources(){return this.getResources("missing")}removeVariable(e,n){var r;if(this.store.removeQuad(new ro(n,Sn.variable,new il(e),Sn.meta)),n.termType==="NamedNode"){const s=new lo(lA(n.value));this.store.removeQuad(new ro(n,Sn.resource,s,Sn.meta)),this.store.removeQuads(this.store.getQuads(s,Sn.status,null,Sn.meta)),this.removeResource(s.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(s=>{var o;return Array.from((o=s.from[e])!==null&&o!==void 0?o:[]).some(l=>l.equals(n))});for(const s of a){const o=s.to;this.moves.remove(s);for(const l in o)o[l].forEach(c=>{var h;Array.from((h=this.moves.providersOf[c.value])!==null&&h!==void 0?h:new Set).filter(m=>{var y;return Array.from((y=m.to[l])!==null&&y!==void 0?y:[]).some(v=>v.equals(c))}).length===0&&this.removeVariable(l,c)})}}addResource(e,n,r="success"){const i=new lo(e),a=this.store.getQuads(null,null,null,i),[s,o]=uhe(n,a);s.forEach(p=>this.addQuad(p)),o.forEach(p=>this.removeQuad(p));const l=new ro(i,Sn.status,Sn.missing,Sn.meta),c=new ro(i,Sn.status,Sn.added,Sn.meta),h=new ro(i,Sn.status,Sn.failed,Sn.meta);this.store.removeQuads([l,c,h]),r==="success"&&this.store.addQuad(c),r==="error"&&this.store.addQuad(h)}addQuad(e){this.store.addQuad(e);const n=Object.fromEntries(hc.map(a=>[a,this.store.getObjects(e[a],Sn.variable,Sn.meta)])),r=(a,s)=>{const o=a[s],l=e[s];return!!(!o||o.startsWith("?")&&n[s].some(c=>c.equals(new il(o.slice(1))))||o===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>hc.every(s=>r(a,s))).map(([a,s])=>[+a,s]);for(const[a,s]of i){const o={};for(const c of hc){const h=s[c];h!=null&&h.startsWith("?")&&(o[h.slice(1)]=new Set([e[c]]))}const l={[s.target.slice(1)]:new Set([e[s.pick]])};this.moves.add({step:a,from:o,to:l,quad:e}),this.addVariable(s.target.slice(1),e[s.pick])}}removeResource(e){this.store.getQuads(null,null,null,new lo(e)).forEach(r=>this.removeQuad(r))}removeQuad(e){var n;this.store.removeQuad(e),((n=this.moves.byQuad[M_(e)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const s in a)a[s].forEach(o=>{Array.from(this.moves.providersOf[o.value]).filter(c=>{var h;return Array.from((h=c.to[s])!==null&&h!==void 0?h:[]).some(p=>p.equals(o))}).length===0&&this.removeVariable(s,o)})})}hopFromVariable(e,n){const r=`?${e}`;this.query.map((a,s)=>[a,s]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&hc.some(s=>a[s]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,s])=>{var o;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:s}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(h,p)=>{let m=new Set;const y=h[p];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new lo(y));else if(y.slice(1)===e)m.add(n);else{const v=this.store.getSubjects(Sn.variable,new il(y.slice(1)),Sn.meta);m=new Set(v)}return m},c=Object.fromEntries(hc.map(h=>[h,l(a,h)]));for(const h of c.subject)for(const p of c.predicate)for(const m of c.object)for(const y of c.graph){const v=this.store.getQuads(h,p,m,y);for(const w of v){const E=a.target.slice(1),b=w[a.pick],x={};for(const I of hc)!((o=a[I])===null||o===void 0)&&o.startsWith("?")&&(x[a[I].slice(1)]=new Set([w[I]]));const A={[E]:new Set([b])};this.moves.add({from:x,to:A,step:s,quad:w}),this.addVariable(E,b)}}}})}addVariable(e,n){if(this.store.has(new ro(n,Sn.variable,new il(e),Sn.meta)))return;this.store.addQuads([new ro(n,Sn.variable,new il(e),Sn.meta)]);let r;n.termType==="NamedNode"&&(r=new lo(lA(n.value)),this.store.addQuads([new ro(n,Sn.resource,r,Sn.meta)]));const i=`?${e}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),s=this.query.some(l=>typeof l!="function"&&l.type==="match"&&hc.some(c=>l[c]===i));r&&(a||s)&&this.store.match(r,Sn.status,null,Sn.meta).size===0&&this.store.addQuad(r,Sn.status,Sn.missing,Sn.meta),this.hopFromVariable(e,n)}getVariable(e){return this.store.getSubjects(Sn.variable,new il(e),Sn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,Sn.variable,null,Sn.meta).reduce((e,n)=>{var r,i;return(r=e[i=il.getVar(n.object)])!==null&&r!==void 0||(e[i]=new Set),e[il.getVar(n.object)].add(n.subject.value),e},{})}getResources(e){if(!e)return this.store.getObjects(null,Sn.resource,Sn.meta).map(r=>r.value);const n=e==="missing"?Sn.missing:e==="failed"?Sn.failed:Sn.added;return this.store.getSubjects(Sn.status,n,Sn.meta).map(r=>r.value)}}const uhe=(t,e)=>{if(e.length===0)return[t,[]];if(t.length===0)return[[],e];const n=t.filter(i=>!e.some(a=>i.equals(a))),r=e.filter(i=>!t.some(a=>i.equals(a)));return[n,r]};var ES,tk;function lhe(){if(tk)return ES;tk=1;function t(){this.__data__=[],this.size=0}return ES=t,ES}var TS,nk;function Pm(){if(nk)return TS;nk=1;function t(e,n){return e===n||e!==e&&n!==n}return TS=t,TS}var CS,rk;function K0(){if(rk)return CS;rk=1;var t=Pm();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return CS=e,CS}var AS,ik;function che(){if(ik)return AS;ik=1;var t=K0(),e=Array.prototype,n=e.splice;function r(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():n.call(a,s,1),--this.size,!0}return AS=r,AS}var RS,ak;function fhe(){if(ak)return RS;ak=1;var t=K0();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return RS=e,RS}var PS,sk;function dhe(){if(sk)return PS;sk=1;var t=K0();function e(n){return t(this.__data__,n)>-1}return PS=e,PS}var OS,ok;function hhe(){if(ok)return OS;ok=1;var t=K0();function e(n,r){var i=this.__data__,a=t(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return OS=e,OS}var IS,uk;function G0(){if(uk)return IS;uk=1;var t=lhe(),e=che(),n=fhe(),r=dhe(),i=hhe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,IS=a,IS}var LS,lk;function phe(){if(lk)return LS;lk=1;var t=G0();function e(){this.__data__=new t,this.size=0}return LS=e,LS}var MS,ck;function ghe(){if(ck)return MS;ck=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return MS=t,MS}var DS,fk;function mhe(){if(fk)return DS;fk=1;function t(e){return this.__data__.get(e)}return DS=t,DS}var kS,dk;function yhe(){if(dk)return kS;dk=1;function t(e){return this.__data__.has(e)}return kS=t,kS}var NS,hk;function FB(){if(hk)return NS;hk=1;var t=typeof wg=="object"&&wg&&wg.Object===Object&&wg;return NS=t,NS}var FS,pk;function Hs(){if(pk)return FS;pk=1;var t=FB(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return FS=n,FS}var jS,gk;function ch(){if(gk)return jS;gk=1;var t=Hs(),e=t.Symbol;return jS=e,jS}var $S,mk;function vhe(){if(mk)return $S;mk=1;var t=ch(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=n.call(s,i),l=s[i];try{s[i]=void 0;var c=!0}catch{}var h=r.call(s);return c&&(o?s[i]=l:delete s[i]),h}return $S=a,$S}var US,yk;function _he(){if(yk)return US;yk=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return US=n,US}var BS,vk;function fh(){if(vk)return BS;vk=1;var t=ch(),e=vhe(),n=_he(),r="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:r:a&&a in Object(o)?e(o):n(o)}return BS=s,BS}var qS,_k;function ys(){if(_k)return qS;_k=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return qS=t,qS}var zS,wk;function FR(){if(wk)return zS;wk=1;var t=fh(),e=ys(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==a}return zS=s,zS}var HS,bk;function whe(){if(bk)return HS;bk=1;var t=Hs(),e=t["__core-js_shared__"];return HS=e,HS}var VS,Sk;function bhe(){if(Sk)return VS;Sk=1;var t=whe(),e=function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!e&&e in r}return VS=n,VS}var KS,xk;function jB(){if(xk)return KS;xk=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return KS=n,KS}var GS,Ek;function She(){if(Ek)return GS;Ek=1;var t=FR(),e=bhe(),n=ys(),r=jB(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,l=s.toString,c=o.hasOwnProperty,h=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(m){if(!n(m)||e(m))return!1;var y=t(m)?h:a;return y.test(r(m))}return GS=p,GS}var WS,Tk;function xhe(){if(Tk)return WS;Tk=1;function t(e,n){return e==null?void 0:e[n]}return WS=t,WS}var QS,Ck;function cf(){if(Ck)return QS;Ck=1;var t=She(),e=xhe();function n(r,i){var a=e(r,i);return t(a)?a:void 0}return QS=n,QS}var ZS,Ak;function jR(){if(Ak)return ZS;Ak=1;var t=cf(),e=Hs(),n=t(e,"Map");return ZS=n,ZS}var JS,Rk;function W0(){if(Rk)return JS;Rk=1;var t=cf(),e=t(Object,"create");return JS=e,JS}var YS,Pk;function Ehe(){if(Pk)return YS;Pk=1;var t=W0();function e(){this.__data__=t?t(null):{},this.size=0}return YS=e,YS}var XS,Ok;function The(){if(Ok)return XS;Ok=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return XS=t,XS}var ex,Ik;function Che(){if(Ik)return ex;Ik=1;var t=W0(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return r.call(s,a)?s[a]:void 0}return ex=i,ex}var tx,Lk;function Ahe(){if(Lk)return tx;Lk=1;var t=W0(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var a=this.__data__;return t?a[i]!==void 0:n.call(a,i)}return tx=r,tx}var nx,Mk;function Rhe(){if(Mk)return nx;Mk=1;var t=W0(),e="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=t&&i===void 0?e:i,this}return nx=n,nx}var rx,Dk;function Phe(){if(Dk)return rx;Dk=1;var t=Ehe(),e=The(),n=Che(),r=Ahe(),i=Rhe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,rx=a,rx}var ix,kk;function Ohe(){if(kk)return ix;kk=1;var t=Phe(),e=G0(),n=jR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return ix=r,ix}var ax,Nk;function Ihe(){if(Nk)return ax;Nk=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return ax=t,ax}var sx,Fk;function Q0(){if(Fk)return sx;Fk=1;var t=Ihe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return sx=e,sx}var ox,jk;function Lhe(){if(jk)return ox;jk=1;var t=Q0();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return ox=e,ox}var ux,$k;function Mhe(){if($k)return ux;$k=1;var t=Q0();function e(n){return t(this,n).get(n)}return ux=e,ux}var lx,Uk;function Dhe(){if(Uk)return lx;Uk=1;var t=Q0();function e(n){return t(this,n).has(n)}return lx=e,lx}var cx,Bk;function khe(){if(Bk)return cx;Bk=1;var t=Q0();function e(n,r){var i=t(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return cx=e,cx}var fx,qk;function $R(){if(qk)return fx;qk=1;var t=Ohe(),e=Lhe(),n=Mhe(),r=Dhe(),i=khe();function a(s){var o=-1,l=s==null?0:s.length;for(this.clear();++o<l;){var c=s[o];this.set(c[0],c[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,fx=a,fx}var dx,zk;function Nhe(){if(zk)return dx;zk=1;var t=G0(),e=jR(),n=$R(),r=200;function i(a,s){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([a,s]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(a,s),this.size=o.size,this}return dx=i,dx}var hx,Hk;function Z0(){if(Hk)return hx;Hk=1;var t=G0(),e=phe(),n=ghe(),r=mhe(),i=yhe(),a=Nhe();function s(o){var l=this.__data__=new t(o);this.size=l.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=a,hx=s,hx}var px,Vk;function Fhe(){if(Vk)return px;Vk=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return px=e,px}var gx,Kk;function jhe(){if(Kk)return gx;Kk=1;function t(e){return this.__data__.has(e)}return gx=t,gx}var mx,Gk;function $he(){if(Gk)return mx;Gk=1;var t=$R(),e=Fhe(),n=jhe();function r(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,mx=r,mx}var yx,Wk;function Uhe(){if(Wk)return yx;Wk=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return yx=t,yx}var vx,Qk;function Bhe(){if(Qk)return vx;Qk=1;function t(e,n){return e.has(n)}return vx=t,vx}var _x,Zk;function $B(){if(Zk)return _x;Zk=1;var t=$he(),e=Uhe(),n=Bhe(),r=1,i=2;function a(s,o,l,c,h,p){var m=l&r,y=s.length,v=o.length;if(y!=v&&!(m&&v>y))return!1;var w=p.get(s),E=p.get(o);if(w&&E)return w==o&&E==s;var b=-1,x=!0,A=l&i?new t:void 0;for(p.set(s,o),p.set(o,s);++b<y;){var I=s[b],M=o[b];if(c)var D=m?c(M,I,b,o,s,p):c(I,M,b,s,o,p);if(D!==void 0){if(D)continue;x=!1;break}if(A){if(!e(o,function(F,Z){if(!n(A,Z)&&(I===F||h(I,F,l,c,p)))return A.push(Z)})){x=!1;break}}else if(!(I===M||h(I,M,l,c,p))){x=!1;break}}return p.delete(s),p.delete(o),x}return _x=a,_x}var wx,Jk;function UB(){if(Jk)return wx;Jk=1;var t=Hs(),e=t.Uint8Array;return wx=e,wx}var bx,Yk;function qhe(){if(Yk)return bx;Yk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,a){r[++n]=[a,i]}),r}return bx=t,bx}var Sx,Xk;function zhe(){if(Xk)return Sx;Xk=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return Sx=t,Sx}var xx,eN;function Hhe(){if(eN)return xx;eN=1;var t=ch(),e=UB(),n=Pm(),r=$B(),i=qhe(),a=zhe(),s=1,o=2,l="[object Boolean]",c="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",w="[object String]",E="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",A=t?t.prototype:void 0,I=A?A.valueOf:void 0;function M(D,F,Z,X,U,J,ce){switch(Z){case x:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case b:return!(D.byteLength!=F.byteLength||!J(new e(D),new e(F)));case l:case c:case m:return n(+D,+F);case h:return D.name==F.name&&D.message==F.message;case y:case w:return D==F+"";case p:var re=i;case v:var ue=X&s;if(re||(re=a),D.size!=F.size&&!ue)return!1;var me=ce.get(D);if(me)return me==F;X|=o,ce.set(D,F);var be=r(re(D),re(F),X,U,J,ce);return ce.delete(D),be;case E:if(I)return I.call(D)==I.call(F)}return!1}return xx=M,xx}var Ex,tN;function UR(){if(tN)return Ex;tN=1;function t(e,n){for(var r=-1,i=n.length,a=e.length;++r<i;)e[a+r]=n[r];return e}return Ex=t,Ex}var Tx,nN;function Vs(){if(nN)return Tx;nN=1;var t=Array.isArray;return Tx=t,Tx}var Cx,rN;function BB(){if(rN)return Cx;rN=1;var t=UR(),e=Vs();function n(r,i,a){var s=i(r);return e(r)?s:t(s,a(r))}return Cx=n,Cx}var Ax,iN;function qB(){if(iN)return Ax;iN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=0,s=[];++r<i;){var o=e[r];n(o,r,e)&&(s[a++]=o)}return s}return Ax=t,Ax}var Rx,aN;function zB(){if(aN)return Rx;aN=1;function t(){return[]}return Rx=t,Rx}var Px,sN;function BR(){if(sN)return Px;sN=1;var t=qB(),e=zB(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return r.call(s,o)}))}:e;return Px=a,Px}var Ox,oN;function HB(){if(oN)return Ox;oN=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return Ox=t,Ox}var Ix,uN;function bu(){if(uN)return Ix;uN=1;function t(e){return e!=null&&typeof e=="object"}return Ix=t,Ix}var Lx,lN;function Vhe(){if(lN)return Lx;lN=1;var t=fh(),e=bu(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return Lx=r,Lx}var Mx,cN;function J0(){if(cN)return Mx;cN=1;var t=Vhe(),e=bu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return Mx=a,Mx}var Rg={exports:{}},Dx,fN;function Khe(){if(fN)return Dx;fN=1;function t(){return!1}return Dx=t,Dx}Rg.exports;var dN;function Y0(){return dN||(dN=1,function(t,e){var n=Hs(),r=Khe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c}(Rg,Rg.exports)),Rg.exports}var kx,hN;function X0(){if(hN)return kx;hN=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return kx=n,kx}var Nx,pN;function qR(){if(pN)return Nx;pN=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return Nx=e,Nx}var Fx,gN;function Ghe(){if(gN)return Fx;gN=1;var t=fh(),e=qR(),n=bu(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",h="[object Number]",p="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",w="[object WeakMap]",E="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",A="[object Float64Array]",I="[object Int8Array]",M="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",Z="[object Uint8ClampedArray]",X="[object Uint16Array]",U="[object Uint32Array]",J={};J[x]=J[A]=J[I]=J[M]=J[D]=J[F]=J[Z]=J[X]=J[U]=!0,J[r]=J[i]=J[E]=J[a]=J[b]=J[s]=J[o]=J[l]=J[c]=J[h]=J[p]=J[m]=J[y]=J[v]=J[w]=!1;function ce(re){return n(re)&&e(re.length)&&!!J[t(re)]}return Fx=ce,Fx}var jx,mN;function zR(){if(mN)return jx;mN=1;function t(e){return function(n){return e(n)}}return jx=t,jx}var Pg={exports:{}};Pg.exports;var yN;function HR(){return yN||(yN=1,function(t,e){var n=FB(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o}(Pg,Pg.exports)),Pg.exports}var $x,vN;function VR(){if(vN)return $x;vN=1;var t=Ghe(),e=zR(),n=HR(),r=n&&n.isTypedArray,i=r?e(r):t;return $x=i,$x}var Ux,_N;function VB(){if(_N)return Ux;_N=1;var t=HB(),e=J0(),n=Vs(),r=Y0(),i=X0(),a=VR(),s=Object.prototype,o=s.hasOwnProperty;function l(c,h){var p=n(c),m=!p&&e(c),y=!p&&!m&&r(c),v=!p&&!m&&!y&&a(c),w=p||m||y||v,E=w?t(c.length,String):[],b=E.length;for(var x in c)(h||o.call(c,x))&&!(w&&(x=="length"||y&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&E.push(x);return E}return Ux=l,Ux}var Bx,wN;function KR(){if(wN)return Bx;wN=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return Bx=e,Bx}var qx,bN;function KB(){if(bN)return qx;bN=1;function t(e,n){return function(r){return e(n(r))}}return qx=t,qx}var zx,SN;function Whe(){if(SN)return zx;SN=1;var t=KB(),e=t(Object.keys,Object);return zx=e,zx}var Hx,xN;function Qhe(){if(xN)return Hx;xN=1;var t=KR(),e=Whe(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))r.call(a,o)&&o!="constructor"&&s.push(o);return s}return Hx=i,Hx}var Vx,EN;function ew(){if(EN)return Vx;EN=1;var t=FR(),e=qR();function n(r){return r!=null&&e(r.length)&&!t(r)}return Vx=n,Vx}var Kx,TN;function Om(){if(TN)return Kx;TN=1;var t=VB(),e=Qhe(),n=ew();function r(i){return n(i)?t(i):e(i)}return Kx=r,Kx}var Gx,CN;function GB(){if(CN)return Gx;CN=1;var t=BB(),e=BR(),n=Om();function r(i){return t(i,n,e)}return Gx=r,Gx}var Wx,AN;function Zhe(){if(AN)return Wx;AN=1;var t=GB(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o,l,c,h){var p=o&e,m=t(a),y=m.length,v=t(s),w=v.length;if(y!=w&&!p)return!1;for(var E=y;E--;){var b=m[E];if(!(p?b in s:r.call(s,b)))return!1}var x=h.get(a),A=h.get(s);if(x&&A)return x==s&&A==a;var I=!0;h.set(a,s),h.set(s,a);for(var M=p;++E<y;){b=m[E];var D=a[b],F=s[b];if(l)var Z=p?l(F,D,b,s,a,h):l(D,F,b,a,s,h);if(!(Z===void 0?D===F||c(D,F,o,l,h):Z)){I=!1;break}M||(M=b=="constructor")}if(I&&!M){var X=a.constructor,U=s.constructor;X!=U&&"constructor"in a&&"constructor"in s&&!(typeof X=="function"&&X instanceof X&&typeof U=="function"&&U instanceof U)&&(I=!1)}return h.delete(a),h.delete(s),I}return Wx=i,Wx}var Qx,RN;function Jhe(){if(RN)return Qx;RN=1;var t=cf(),e=Hs(),n=t(e,"DataView");return Qx=n,Qx}var Zx,PN;function Yhe(){if(PN)return Zx;PN=1;var t=cf(),e=Hs(),n=t(e,"Promise");return Zx=n,Zx}var Jx,ON;function Xhe(){if(ON)return Jx;ON=1;var t=cf(),e=Hs(),n=t(e,"Set");return Jx=n,Jx}var Yx,IN;function epe(){if(IN)return Yx;IN=1;var t=cf(),e=Hs(),n=t(e,"WeakMap");return Yx=n,Yx}var Xx,LN;function tw(){if(LN)return Xx;LN=1;var t=Jhe(),e=jR(),n=Yhe(),r=Xhe(),i=epe(),a=fh(),s=jB(),o="[object Map]",l="[object Object]",c="[object Promise]",h="[object Set]",p="[object WeakMap]",m="[object DataView]",y=s(t),v=s(e),w=s(n),E=s(r),b=s(i),x=a;return(t&&x(new t(new ArrayBuffer(1)))!=m||e&&x(new e)!=o||n&&x(n.resolve())!=c||r&&x(new r)!=h||i&&x(new i)!=p)&&(x=function(A){var I=a(A),M=I==l?A.constructor:void 0,D=M?s(M):"";if(D)switch(D){case y:return m;case v:return o;case w:return c;case E:return h;case b:return p}return I}),Xx=x,Xx}var eE,MN;function tpe(){if(MN)return eE;MN=1;var t=Z0(),e=$B(),n=Hhe(),r=Zhe(),i=tw(),a=Vs(),s=Y0(),o=VR(),l=1,c="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function v(w,E,b,x,A,I){var M=a(w),D=a(E),F=M?h:i(w),Z=D?h:i(E);F=F==c?p:F,Z=Z==c?p:Z;var X=F==p,U=Z==p,J=F==Z;if(J&&s(w)){if(!s(E))return!1;M=!0,X=!1}if(J&&!X)return I||(I=new t),M||o(w)?e(w,E,b,x,A,I):n(w,E,F,b,x,A,I);if(!(b&l)){var ce=X&&y.call(w,"__wrapped__"),re=U&&y.call(E,"__wrapped__");if(ce||re){var ue=ce?w.value():w,me=re?E.value():E;return I||(I=new t),A(ue,me,b,x,I)}}return J?(I||(I=new t),r(w,E,b,x,A,I)):!1}return eE=v,eE}var tE,DN;function GR(){if(DN)return tE;DN=1;var t=tpe(),e=bu();function n(r,i,a,s,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,a,s,n,o)}return tE=n,tE}var nE,kN;function npe(){if(kN)return nE;kN=1;var t=GR();function e(n,r){return t(n,r)}return nE=e,nE}var rpe=npe();const WB=kr(rpe);var rE,NN;function QB(){if(NN)return rE;NN=1;var t=cf(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return rE=e,rE}var iE,FN;function nw(){if(FN)return iE;FN=1;var t=QB();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return iE=e,iE}var aE,jN;function ipe(){if(jN)return aE;jN=1;function t(e){return function(n,r,i){for(var a=-1,s=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return n}}return aE=t,aE}var sE,$N;function ZB(){if($N)return sE;$N=1;var t=ipe(),e=t();return sE=e,sE}var oE,UN;function ape(){if(UN)return oE;UN=1;var t=ZB(),e=Om();function n(r,i){return r&&t(r,i,e)}return oE=n,oE}var uE,BN;function spe(){if(BN)return uE;BN=1;var t=Z0(),e=GR(),n=1,r=2;function i(a,s,o,l){var c=o.length,h=c,p=!l;if(a==null)return!h;for(a=Object(a);c--;){var m=o[c];if(p&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++c<h;){m=o[c];var y=m[0],v=a[y],w=m[1];if(p&&m[2]){if(v===void 0&&!(y in a))return!1}else{var E=new t;if(l)var b=l(v,w,y,a,s,E);if(!(b===void 0?e(w,v,n|r,l,E):b))return!1}}return!0}return uE=i,uE}var lE,qN;function JB(){if(qN)return lE;qN=1;var t=ys();function e(n){return n===n&&!t(n)}return lE=e,lE}var cE,zN;function ope(){if(zN)return cE;zN=1;var t=JB(),e=Om();function n(r){for(var i=e(r),a=i.length;a--;){var s=i[a],o=r[s];i[a]=[s,o,t(o)]}return i}return cE=n,cE}var fE,HN;function YB(){if(HN)return fE;HN=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return fE=t,fE}var dE,VN;function upe(){if(VN)return dE;VN=1;var t=spe(),e=ope(),n=YB();function r(i){var a=e(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(s){return s===i||t(s,i,a)}}return dE=r,dE}var hE,KN;function Im(){if(KN)return hE;KN=1;var t=fh(),e=bu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return hE=r,hE}var pE,GN;function WR(){if(GN)return pE;GN=1;var t=Vs(),e=Im(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:r.test(a)||!n.test(a)||s!=null&&a in Object(s)}return pE=i,pE}var gE,WN;function lpe(){if(WN)return gE;WN=1;var t=$R(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],l=a.cache;if(l.has(o))return l.get(o);var c=r.apply(this,s);return a.cache=l.set(o,c)||l,c};return a.cache=new(n.Cache||t),a}return n.Cache=t,gE=n,gE}var mE,QN;function cpe(){if(QN)return mE;QN=1;var t=lpe(),e=500;function n(r){var i=t(r,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return mE=n,mE}var yE,ZN;function fpe(){if(ZN)return yE;ZN=1;var t=cpe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,l,c){a.push(l?c.replace(n,"$1"):o||s)}),a});return yE=r,yE}var vE,JN;function rw(){if(JN)return vE;JN=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,a=Array(i);++r<i;)a[r]=n(e[r],r,e);return a}return vE=t,vE}var _E,YN;function dpe(){if(YN)return _E;YN=1;var t=ch(),e=rw(),n=Vs(),r=Im(),i=1/0,a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return e(l,o)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return _E=o,_E}var wE,XN;function hpe(){if(XN)return wE;XN=1;var t=dpe();function e(n){return n==null?"":t(n)}return wE=e,wE}var bE,e3;function dh(){if(e3)return bE;e3=1;var t=Vs(),e=WR(),n=fpe(),r=hpe();function i(a,s){return t(a)?a:e(a,s)?[a]:n(r(a))}return bE=i,bE}var SE,t3;function hh(){if(t3)return SE;t3=1;var t=Im(),e=1/0;function n(r){if(typeof r=="string"||t(r))return r;var i=r+"";return i=="0"&&1/r==-e?"-0":i}return SE=n,SE}var xE,n3;function iw(){if(n3)return xE;n3=1;var t=dh(),e=hh();function n(r,i){i=t(i,r);for(var a=0,s=i.length;r!=null&&a<s;)r=r[e(i[a++])];return a&&a==s?r:void 0}return xE=n,xE}var EE,r3;function ppe(){if(r3)return EE;r3=1;var t=iw();function e(n,r,i){var a=n==null?void 0:t(n,r);return a===void 0?i:a}return EE=e,EE}var TE,i3;function gpe(){if(i3)return TE;i3=1;function t(e,n){return e!=null&&n in Object(e)}return TE=t,TE}var CE,a3;function mpe(){if(a3)return CE;a3=1;var t=dh(),e=J0(),n=Vs(),r=X0(),i=qR(),a=hh();function s(o,l,c){l=t(l,o);for(var h=-1,p=l.length,m=!1;++h<p;){var y=a(l[h]);if(!(m=o!=null&&c(o,y)))break;o=o[y]}return m||++h!=p?m:(p=o==null?0:o.length,!!p&&i(p)&&r(y,p)&&(n(o)||e(o)))}return CE=s,CE}var AE,s3;function XB(){if(s3)return AE;s3=1;var t=gpe(),e=mpe();function n(r,i){return r!=null&&e(r,i,t)}return AE=n,AE}var RE,o3;function ype(){if(o3)return RE;o3=1;var t=GR(),e=ppe(),n=XB(),r=WR(),i=JB(),a=YB(),s=hh(),o=1,l=2;function c(h,p){return r(h)&&i(p)?a(s(h),p):function(m){var y=e(m,h);return y===void 0&&y===p?n(m,h):t(p,y,o|l)}}return RE=c,RE}var PE,u3;function QR(){if(u3)return PE;u3=1;function t(e){return e}return PE=t,PE}var OE,l3;function eq(){if(l3)return OE;l3=1;function t(e){return function(n){return n==null?void 0:n[e]}}return OE=t,OE}var IE,c3;function vpe(){if(c3)return IE;c3=1;var t=iw();function e(n){return function(r){return t(r,n)}}return IE=e,IE}var LE,f3;function _pe(){if(f3)return LE;f3=1;var t=eq(),e=vpe(),n=WR(),r=hh();function i(a){return n(a)?t(r(a)):e(a)}return LE=i,LE}var ME,d3;function ZR(){if(d3)return ME;d3=1;var t=upe(),e=ype(),n=QR(),r=Vs(),i=_pe();function a(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return ME=a,ME}var DE,h3;function wpe(){if(h3)return DE;h3=1;var t=nw(),e=ape(),n=ZR();function r(i,a){var s={};return a=n(a,3),e(i,function(o,l,c){t(s,l,a(o,l,c))}),s}return DE=r,DE}var bpe=wpe();const p3=kr(bpe);var Spe=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const xpe=()=>({}),Epe=(t,e)=>{if(t.length!==e.length)return!1;const n=new Set(t);return e.every(r=>n.has(r))},ha=({query:t,variables:e,fetch:n,getQueryKey:r=s=>["rdfDocument",s],staleTime:i=1/0,getAdditionalData:a=xpe})=>{const s=ne.useMemo(()=>p3(e,F=>new Set(F)),[e]),[o,l]=ne.useState([]),[c,h]=ne.useState({}),[p,m]=ne.useState(new wo),[y,v]=ne.useState([]),[w,E]=ne.useState(!1),b=ne.useCallback(F=>{var Z;return Object.assign(Object.assign({},(Z=a(F))!==null&&Z!==void 0?Z:{}),{data:Object.fromEntries(F.map((X,U)=>[o[U],X==null?void 0:X.data])),pending:F.some(X=>X.isPending)})},[a,o]),x=Kg({queries:o.map(F=>({queryKey:r(F),queryFn:()=>NR(F,n),staleTime:i})),combine:b}),A=ne.useRef(new ek(t,s)),I=ne.useRef(x.data);ne.useEffect(()=>{A.current=new ek(t,s);const F=A.current.getMissingResources();l(F),m(A.current.store),I.current={}},[t,s]),ne.useEffect(()=>{if(!x)return;for(const U in x.data){const J=x.data[U];if(!J)continue;const ce=I.current[U];(ce==null?void 0:ce.hash)!==J.hash&&A.current.addResource(U,J.data,J.ok?"success":"error")}const F=A.current.getMissingResources();E(F.length>0),l(U=>{const J=[];for(const ce of F)U.includes(ce)||J.push(ce);return J.length===0?U:J.concat(U)});const Z=p3(A.current.getAllVariables(),U=>Array.from(U));h(U=>WB(Z,U)?U:Z),m(A.current.store);const X=[...A.current.store];v(U=>Epe(U,X)?U:X),I.current=x.data},[x]);const M=x,D=Spe(M,["data","pending"]);return ne.useMemo(()=>Object.assign({store:p,quads:y,variables:c,qas:A.current,isLoading:x==null?void 0:x.pending,isMissing:w},D),[w,y,p,c,D,x==null?void 0:x.pending])};var Ap={},Rp={},dv={},pc={},Pp={},hv={},Op={},kE={},NE={},Ai={},Ip={},Lp={},g3;function tq(){if(g3)return Lp;g3=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.BlankNode=void 0;let t=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return Lp.BlankNode=t,Lp}var Mp={},Dp={},m3;function nq(){if(m3)return Dp;m3=1,Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.DefaultGraph=void 0;let t=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return Dp.DefaultGraph=t,t.INSTANCE=new t,Dp}var kp={},Np={},y3;function JR(){if(y3)return Np;y3=1,Object.defineProperty(Np,"__esModule",{value:!0}),Np.NamedNode=void 0;let t=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return Np.NamedNode=t,Np}var v3;function rq(){if(v3)return kp;v3=1,Object.defineProperty(kp,"__esModule",{value:!0}),kp.Literal=void 0;const t=JR();let e=class cA{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=cA.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=cA.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return kp.Literal=e,e.RDF_LANGUAGE_STRING=new t.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.XSD_STRING=new t.NamedNode("http://www.w3.org/2001/XMLSchema#string"),kp}var Fp={},_3;function iq(){if(_3)return Fp;_3=1,Object.defineProperty(Fp,"__esModule",{value:!0}),Fp.Quad=void 0;let t=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return Fp.Quad=t,Fp}var jp={},w3;function aq(){if(w3)return jp;w3=1,Object.defineProperty(jp,"__esModule",{value:!0}),jp.Variable=void 0;let t=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return jp.Variable=t,jp}var b3;function Tpe(){if(b3)return Mp;b3=1,Object.defineProperty(Mp,"__esModule",{value:!0}),Mp.DataFactory=void 0;const t=tq(),e=nq(),n=rq(),r=JR(),i=iq(),a=aq();let s=0,o=class{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${s++}_`}namedNode(c){return new r.NamedNode(c)}blankNode(c){return new t.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,h){return new n.Literal(c,h)}variable(c){return new a.Variable(c)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(c,h,p,m){return new i.Quad(c,h,p,m||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(n.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return Mp.DataFactory=o,Mp}var S3;function Cpe(){return S3||(S3=1,function(t){var e=Ip.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a),Object.defineProperty(r,s,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=Ip.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(tq(),t),n(Tpe(),t),n(nq(),t),n(rq(),t),n(JR(),t),n(iq(),t),n(aq(),t)}(Ip)),Ip}var x3;function Ape(){if(x3)return Ai;x3=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.stringQuadToQuad=Ai.quadToStringQuad=Ai.stringToTerm=Ai.getLiteralLanguage=Ai.getLiteralType=Ai.getLiteralValue=Ai.termToString=void 0;const t=Cpe(),e=new t.DataFactory;function n(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const h=c;return'"'+h.value+'"'+(h.datatype&&h.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&h.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+h.datatype.value:"")+(h.language?"@"+h.language:"");case"Quad":return`<<${n(c.subject)} ${n(c.predicate)} ${n(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+n(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}Ai.termToString=n;function r(c){const h=/^"([^]*)"/.exec(c);if(!h)throw new Error(c+" is not a literal");return h[1]}Ai.getLiteralValue=r;function i(c){const h=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!h)throw new Error(c+" is not a literal");return h[1]||(h[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ai.getLiteralType=i;function a(c){const h=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!h)throw new Error(c+" is not a literal");return h[1]?h[1].toLowerCase():""}Ai.getLiteralLanguage=a;function s(c,h){if(h=h||e,!c||!c.length)return h.defaultGraph();switch(c[0]){case"_":return h.blankNode(c.substr(2));case"?":if(!h.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return h.variable(c.substr(1));case'"':const p=a(c),m=h.namedNode(i(c));return h.literal(r(c),p||m);case"<":default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const y=c.slice(2,-2).trim();let v=[],w=0,E=0,b=!1;for(let x=0;x<y.length;x++){const A=y[x];if(A==="<"&&w++,A===">"){if(w===0)throw new Error("Found closing tag without opening tag in "+c);w--}if(A==='"'){let I=!1,M=x;for(;M-- >0&&y[M]==="\\";)I=!I;I||(b=!b)}if(A===" "&&!b&&w===0){for(v.push(y.slice(E,x));y[x+1]===" ";)x+=1;E=x+1}}if(w!==0)throw new Error("Found opening tag without closing tag in "+c);if(v.push(y.slice(E,y.length)),v.length!==3&&v.length!==4)throw new Error("Nested quad syntax error "+c);return v=v.map(x=>x.startsWith("<")&&!x.includes(" ")?x.slice(1,-1):x),h.quad(s(v[0]),s(v[1]),s(v[2]),v[3]?s(v[3]):void 0)}return h.namedNode(c)}}Ai.stringToTerm=s;function o(c){return{subject:n(c.subject),predicate:n(c.predicate),object:n(c.object),graph:n(c.graph)}}Ai.quadToStringQuad=o;function l(c,h){return h=h||e,h.quad(s(c.subject,h),s(c.predicate,h),s(c.object,h),s(c.graph,h))}return Ai.stringQuadToQuad=l,Ai}var E3;function Rpe(){return E3||(E3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const e=Ape();Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return e.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return e.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return e.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return e.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return e.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return e.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return e.termToString}})}(NE)),NE}var T3;function Ppe(){return T3||(T3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.stringToQuadMatch=t.stringToQuad=t.stringToNode=t.stringToGraphNode=t.stringToObjectNode=t.stringToPredicateNode=t.stringToSubjectNode=t.quadMatchToString=t.quadToString=t.nodeToString=t.grpahNodeToString=t.objectNodeToString=t.predicateNodeToString=t.subjectNodeToString=t.AnyTermTypes=t.GraphTermTypes=t.ObjectTermTypes=t.PredicateTermTypes=t.SubjectTermTypes=void 0;const e=Rpe();t.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),t.PredicateTermTypes=new Set(["NamedNode"]),t.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),t.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),t.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(E){return s(E)}t.subjectNodeToString=n;function r(E){return s(E)}t.predicateNodeToString=r;function i(E){return s(E)}t.objectNodeToString=i;function a(E){return s(E)}t.grpahNodeToString=a;function s(E){return(0,e.termToString)(E)}t.nodeToString=s;function o(E){return JSON.stringify((0,e.quadToStringQuad)(E))}t.quadToString=o;function l(E){return JSON.stringify({subject:E[0]?n(E[0]):void 0,predicate:E[1]?r(E[1]):void 0,object:E[2]?i(E[2]):void 0,graph:E[3]?a(E[3]):void 0})}t.quadMatchToString=l;function c(E){return y(E,t.SubjectTermTypes)}t.stringToSubjectNode=c;function h(E){return y(E,t.PredicateTermTypes)}t.stringToPredicateNode=h;function p(E){return y(E,t.ObjectTermTypes)}t.stringToObjectNode=p;function m(E){return y(E,t.GraphTermTypes)}t.stringToGraphNode=m;function y(E,b){const x=(0,e.stringToTerm)(E);if(b&&!b.has(x.termType))throw new Error(`Expected term to be one of term type: [${Array.from(b).reduce((A,I)=>`${A}${I}, `,"")}], but got ${x.termType}.`);return x}t.stringToNode=y;function v(E){try{return(0,e.stringQuadToQuad)(JSON.parse(E))}catch{throw new Error("Invalid Quad String")}}t.stringToQuad=v;function w(E){try{const b=JSON.parse(E);return[b.subject!=null?c(b.subject):void 0,b.predicate!=null?h(b.predicate):void 0,b.object!=null?p(b.object):void 0,b.graph!=null?m(b.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}t.stringToQuadMatch=w}(kE)),kE}var $p={},FE,C3;function Ope(){if(C3)return FE;C3=1;class t{constructor(n){this.value=n||"b"+ ++t.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="BlankNode",t.nextId=0,FE=t,FE}var jE,A3;function sq(){if(A3)return jE;A3=1;class t{equals(n){return!!n&&n.termType===this.termType}}return t.prototype.termType="DefaultGraph",t.prototype.value="",jE=t,jE}var $E,R3;function Ipe(){if(R3)return $E;R3=1;function t(e){if(!e)return null;if(e.termType==="BlankNode")return this.blankNode(e.value);if(e.termType==="DefaultGraph")return this.defaultGraph();if(e.termType==="Literal")return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if(e.termType==="NamedNode")return this.namedNode(e.value);if(e.termType==="Quad"){const n=this.fromTerm(e.subject),r=this.fromTerm(e.predicate),i=this.fromTerm(e.object),a=this.fromTerm(e.graph);return this.quad(n,r,i,a)}if(e.termType==="Variable")return this.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}return $E=t,$E}var UE,P3;function oq(){if(P3)return UE;P3=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="NamedNode",UE=t,UE}var BE,O3;function Lpe(){if(O3)return BE;O3=1;const t=oq();class e{constructor(r,i,a){this.value=r,this.datatype=e.stringDatatype,this.language="",i?(this.language=i,this.datatype=e.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return e.prototype.termType="Literal",e.langStringDatatype=new t("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.stringDatatype=new t("http://www.w3.org/2001/XMLSchema#string"),BE=e,BE}var qE,I3;function Mpe(){if(I3)return qE;I3=1;const t=sq();class e{constructor(r,i,a,s){this.subject=r,this.predicate=i,this.object=a,s?this.graph=s:this.graph=new t}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return e.prototype.termType="Quad",e.prototype.value="",qE=e,qE}var zE,L3;function Dpe(){if(L3)return zE;L3=1;class t{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return t.prototype.termType="Variable",zE=t,zE}var HE,M3;function kpe(){if(M3)return HE;M3=1;const t=Ope(),e=sq(),n=Ipe(),r=Lpe(),i=oq(),a=Mpe(),s=Dpe();function o(b){return new i(b)}function l(b){return new t(b)}function c(b,x){return typeof x=="string"?x.indexOf(":")===-1?new r(b,x):new r(b,null,E.namedNode(x)):new r(b,null,x)}function h(b){return new s(b)}function p(){return E.defaultGraphInstance}function m(b,x,A){return E.quad(b,x,A)}function y(b,x,A,I){return new a(b,x,A,I||E.defaultGraphInstance)}function v(b){return n.call(E,b)}function w(b){return n.call(E,b)}const E={namedNode:o,blankNode:l,literal:c,variable:h,defaultGraph:p,triple:m,quad:y,fromTerm:v,fromQuad:w,defaultGraphInstance:new e};return HE=E,HE}var VE,D3;function Fi(){return D3||(D3=1,VE=kpe()),VE}var gc={};const uq=Y5(TX);var k3;function lq(){if(k3)return gc;k3=1,Object.defineProperty(gc,"__esModule",{value:!0}),gc.datasetToJsonLd=gc.datasetToString=void 0;const t=uq;function e(r,i){const a=new t.Writer(i),s=[];for(const o of r)s.push(o);return a.quadsToString(s)}gc.datasetToString=e;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return gc.datasetToJsonLd=n,gc}var N3;function Npe(){if(N3)return $p;N3=1,Object.defineProperty($p,"__esModule",{value:!0}),$p.changesToSparqlUpdate=void 0;const t=Fi(),e=lq();async function n(r){let i="";if(r.removed){const a=r.removed.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`DELETE DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(s=>(0,t.quad)(s.subject,s.predicate,s.object));i+=`INSERT DATA { ${await(0,e.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return $p.changesToSparqlUpdate=n,$p}var Up={},F3;function Fpe(){if(F3)return Up;F3=1,Object.defineProperty(Up,"__esModule",{value:!0}),Up.serializedToQuads=void 0;const t=uq;async function e(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new t.Parser(r).parse(n)}return Up.serializedToQuads=e,Up}var j3;function Lm(){return j3||(j3=1,function(t){var e=Op.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=Op.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Ppe(),t),n(Npe(),t),n(lq(),t),n(Fpe(),t)}(Op)),Op}var $3;function cq(){if($3)return hv;$3=1,Object.defineProperty(hv,"__esModule",{value:!0});const t=Lm(),e=lB();let n=class fA{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new fA(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,s,o){const l=this.match(i,a,s,o);for(const c of l)this.dataset.delete(c);return this}difference(i){const a=this.createBlankDataset();for(const s of this)i.has(s)||a.add(s);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const s of this)i(s,this)&&a.add(s);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,s)=>{i.on("data",o=>{this.add(o)}).on("end",()=>{a(this)}).on("error",o=>s(o))})}intersection(i){const a=this.createBlankDataset(),s=this.size<i.size?this:i,o=this.size<i.size?i:this;for(const l of s)o.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const s of this)a.add(i(s,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const s=this[Symbol.iterator]();let o=s.next(),l=a;for(;!o.done;)l=i(l,o.value,this),o=s.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new e.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,t.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const s of this)a.add(s);for(const s of i)a.add(s);return a}match(i,a,s,o){return new fA(this.dataset.match(i,a,s,o),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return hv.default=n,hv}var U3;function fq(){if(U3)return Pp;U3=1;var t=Pp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pp,"__esModule",{value:!0});const e=t(cq());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new e.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return Pp.default=n,Pp}var KE,B3;function jpe(){if(B3)return KE;B3=1;function t(s){return typeof s=="string"||s instanceof String}const e="http://www.w3.org/2001/XMLSchema#string";function n(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let o,l,c,h;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==e?`^^${s.datatype.value}`:""}`;case"Quad":return o=i(n(s.subject)),l=i(n(s.predicate)),c=i(n(s.object)),h=s.graph.termType==="DefaultGraph"?"":` ${n(s.graph)}`,`<<${o} ${l} ${c}${h}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(s){return s.replace(r,(o,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(o){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,o)for(const l of o)this.add(l)}get size(){let o=this._size;if(o!==null)return o;o=0;const l=this._graphs;let c,h;for(const p in l)for(const m in c=l[p].subjects)for(const y in h=c[m])o+=Object.keys(h[y]).length;return this._size=o,this._size}add(o){let l=n(o.subject),c=n(o.predicate),h=n(o.object);const p=n(o.graph);let m=this._graphs[p];m||(m=this._graphs[p]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,v=this._entities;return l=y[l]||(y[v[++this._id]=l]=this._id),c=y[c]||(y[v[++this._id]=c]=this._id),h=y[h]||(y[v[++this._id]=h]=this._id),this._addToIndex(m.subjects,l,c,h),this._addToIndex(m.predicates,c,h,l),this._addToIndex(m.objects,h,l,c),this._setQuad(l,c,h,p,o),this._size=null,this}delete(o){let l=n(o.subject),c=n(o.predicate),h=n(o.object);const p=n(o.graph),m=this._ids,y=this._graphs;let v,w,E;if(!(l=m[l])||!(c=m[c])||!(h=m[h])||!(v=y[p])||!(w=v.subjects[l])||!(E=w[c])||!(h in E))return this;this._removeFromIndex(v.subjects,l,c,h),this._removeFromIndex(v.predicates,c,h,l),this._removeFromIndex(v.objects,h,l,c),this._size!==null&&this._size--,this._deleteQuad(l,c,h,p);for(l in v.subjects)return this;return delete y[p],this}has(o){const l=n(o.subject),c=n(o.predicate),h=n(o.object),p=n(o.graph),m=this._graphs[p];if(!m)return!1;const y=this._ids;let v,w,E;return t(l)&&!(v=y[l])||t(c)&&!(w=y[c])||t(h)&&!(E=y[h])?!1:this._countInIndex(m.objects,E,v,w)===1}match(o,l,c,h){return this._createDataset(this._match(o,l,c,h))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(o,l,c,h){const p=o[l]||(o[l]={}),m=p[c]||(p[c]={}),y=h in m;return y||(m[h]=null),!y}_removeFromIndex(o,l,c,h){const p=o[l],m=p[c];delete m[h];for(const y in m)return;delete p[c];for(const y in p)return;delete o[l]}_findInIndex(o,l,c,h,p,m,y,v,w,E){let b,x,A;l&&((b=o,o={})[l]=b[l]);for(const I in o)if(x=o[I],x){c&&((b=x,x={})[c]=b[c]);for(const M in x)if(A=x[M],A){const D=h?h in A?[h]:[]:Object.keys(A);for(let F=0;F<D.length;F++){const Z={[p]:I,[m]:M,[y]:D[F]},X=this._getQuad(Z.subject,Z.predicate,Z.object,v);if(E)E.push(X);else if(w(X))return!0}}}return E}_countInIndex(o,l,c,h){let p=0,m,y,v;l&&((m=o,o={})[l]=m[l]);for(const w in o)if(y=o[w],y){c&&((m=y,y={})[c]=m[c]);for(const E in y)v=y[E],v&&(h?h in v&&p++:p+=Object.keys(v).length)}return p}_getGraphs(o){return t(o)?{[o]:this._graphs[o]}:this._graphs}_match(o,l,c,h){o=o&&n(o),l=l&&n(l),c=c&&n(c),h=h&&n(h);const p=[],m=this._getGraphs(h),y=this._ids;let v,w,E,b;if(t(o)&&!(w=y[o])||t(l)&&!(E=y[l])||t(c)&&!(b=y[c]))return p;for(const x in m)v=m[x],v&&(w?b?this._findInIndex(v.objects,b,w,E,"object","subject","predicate",x,null,p):this._findInIndex(v.subjects,w,E,null,"subject","predicate","object",x,null,p):E?this._findInIndex(v.predicates,E,b,null,"predicate","object","subject",x,null,p):b?this._findInIndex(v.objects,b,null,null,"object","subject","predicate",x,null,p):this._findInIndex(v.subjects,null,null,null,"subject","predicate","object",x,null,p));return p}_getQuad(o,l,c,h){return this._quads.get(this._toId(o,l,c,h))}_setQuad(o,l,c,h,p){this._quads.set(this._toId(o,l,c,h),p)}_deleteQuad(o,l,c,h){this._quads.delete(this._toId(o,l,c,h))}_createDataset(o){return new this.constructor(o)}_toId(o,l,c,h){return`${o}:${l}:${c}:${h}`}}return KE=a,KE}var GE,q3;function $pe(){if(q3)return GE;q3=1;const t=Fi(),e=jpe();function n(r){return new e(r)}return GE=Object.assign({dataset:n},t),GE}var z3;function dq(){if(z3)return pc;z3=1;var t=pc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(pc,"__esModule",{value:!0}),pc.createExtendedDatasetFactory=void 0;const e=t(fq()),n=$pe();function r(){const a={dataset:s=>(0,n.dataset)(Array.isArray(s)?s:s==null?void 0:s.toArray())};return new e.default(a)}pc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return pc.default=i,pc}var pv={},H3;function hq(){if(H3)return pv;H3=1,Object.defineProperty(pv,"__esModule",{value:!0});const t=Lm();async function e(n,r,i){const a=await(0,t.serializedToQuads)(r,i);return n.dataset(a)}return pv.default=e,pv}var Bp={},V3;function Upe(){if(V3)return Bp;V3=1;var t=Bp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Bp,"__esModule",{value:!0});const e=t(hq()),n=dq();async function r(i,a){const s=(0,n.createExtendedDatasetFactory)();return(0,e.default)(s,i,a)}return Bp.default=r,Bp}var K3;function ff(){return K3||(K3=1,function(t){var e=dv.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createDatasetFactory=t.createDataset=void 0;var n=dq();Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return e(n).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=hq();Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return e(r).default}});var i=Upe();Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return e(i).default}});var a=cq();Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return e(a).default}});var s=fq();Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return e(s).default}})}(dv)),dv}var mc={},qp={},zp={},Yo={},Hp={},Vp={},G3;function YR(){if(G3)return Vp;G3=1,Object.defineProperty(Vp,"__esModule",{value:!0}),Vp.SubscribableDataset=void 0;const t=ih(),e=Lm(),n=ff();let r=class extends n.ExtendedDataset{constructor(a,s,o){super(o||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=s,this.eventEmitter=new t.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const s of a)super.add(s);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(s=>{super.delete(s)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,s,o,l){const c=super.match(a,s,o,l);for(const h of c)super.delete(h);return this.triggerSubscriptionForQuads({removed:c}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const s={},o=l=>{const c=a[l];c==null||c.forEach(h=>{const p=h;[[null,null,null,null],[p.subject,null,null,null],[p.subject,p.predicate,null,null],[p.subject,null,p.object,null],[null,p.predicate,null,null],[null,p.predicate,p.object,null],[null,null,p.object,null],[p.subject,p.predicate,p.object,null],[null,null,null,p.graph],[p.subject,null,null,p.graph],[p.subject,p.predicate,null,p.graph],[p.subject,null,p.object,p.graph],[null,p.predicate,null,p.graph],[null,p.predicate,p.object,p.graph],[null,null,p.object,p.graph],[p.subject,p.predicate,p.object,p.graph]].forEach(y=>{var w;const v=(0,e.quadMatchToString)(y);this.eventEmitter.listenerCount(v)>0&&(s[v]||(s[v]={}),s[v][l]||(s[v][l]=this.datasetFactory.dataset()),(w=s[v][l])==null||w.add(h))})})};o("added"),o("removed"),Object.entries(s).forEach(([l,c])=>{this.eventEmitter.emit(l,c)})}addListener(a,s){return this.on(a,s)}emit(a,s){return this.eventEmitter.emit((0,e.quadMatchToString)(a),s)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,e.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,e.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,e.quadMatchToString)(a))}off(a,s){this.removeListener(a,s)}on(a,s){var l;const o=(0,e.quadMatchToString)(a);return this.listenerHashMap.has(s)||this.listenerHashMap.set(s,new Set),(l=this.listenerHashMap.get(s))==null||l.add(o),this.eventEmitter.on(o,s),this}once(a,s){return this.eventEmitter.once((0,e.quadMatchToString)(a),s),this}prependListener(a,s){return this.eventEmitter.prependListener((0,e.quadMatchToString)(a),s),this}prependOnceListener(a,s){return this.eventEmitter.prependOnceListener((0,e.quadMatchToString)(a),s),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,e.quadMatchToString)(a)),this}removeListener(a,s){return this.eventEmitter.removeListener((0,e.quadMatchToString)(a),s),this}removeListenerFromAllEvents(a){const s=this.listenerHashMap.get(a);return s&&s.forEach(o=>{this.eventEmitter.off(o,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,e.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Vp.SubscribableDataset=r,Vp}var W3;function pq(){if(W3)return Hp;W3=1,Object.defineProperty(Hp,"__esModule",{value:!0}),Hp.SubscribableDatasetFactory=void 0;const t=YR();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new t.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Hp.SubscribableDatasetFactory=e,Hp}var Kp={},Gp={},Wp={},Q3;function gq(){if(Q3)return Wp;Q3=1,Object.defineProperty(Wp,"__esModule",{value:!0}),Wp.mergeDatasetChanges=void 0;function t(e,n){var r,i,a,s;if(n.added){e.added?e.added.addAll(n.added):e.added=n.added;const o=(r=e.removed)==null?void 0:r.intersection(n.added);o&&o.size>0&&(e.removed=(i=e.removed)==null?void 0:i.difference(o))}if(n.removed){e.removed?e.removed.addAll(n.removed):e.removed=n.removed;const o=(a=e.added)==null?void 0:a.intersection(n.removed);o&&o.size>0&&(e.added=(s=e.added)==null?void 0:s.difference(o))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}return Wp.mergeDatasetChanges=t,Wp}var Qp={},Z3;function mq(){if(Z3)return Qp;Z3=1,Object.defineProperty(Qp,"__esModule",{value:!0}),Qp.updateDatasetInBulk=void 0;function t(e,n){e.bulk?e.bulk(n):(n.added&&e.addAll(n.added),n.removed&&n.removed.forEach(r=>{e.delete(r)}))}return Qp.updateDatasetInBulk=t,Qp}var J3;function yq(){if(J3)return Gp;J3=1,Object.defineProperty(Gp,"__esModule",{value:!0}),Gp.TransactionDataset=void 0;const t=gq(),e=YR(),n=mq();let r=class extends e.SubscribableDataset{constructor(a,s,o){super(s,o,s.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,s,o,l){this.checkIfTransactionCommitted();const c=this.match(a,s,o,l);for(const h of c)this.delete(h);return this}match(a,s,o,l){let c=this.parentDataset.match(a,s,o,l);return this.datasetChanges.removed&&(c=c.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(c=c.union(this.datasetChanges.added.match(a,s,o,l))),c}get size(){var a,s;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((s=this.datasetChanges.removed)==null?void 0:s.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var s,o;return!((s=this.datasetChanges.removed)!=null&&s.has(a))&&(((o=this.datasetChanges.added)==null?void 0:o.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let s=a.next();const o=this.parentDataset[Symbol.iterator]();let l=o.next();return{next:()=>{if(!s||!s.done){const c=s;return s=a.next(),c}for(;!l.done;){const c=l;if(l=o.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(c.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(c.value)))return c}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,t.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,s;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(s=this.datasetChanges.removed)==null?void 0:s.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return Gp.TransactionDataset=r,Gp}var Y3;function vq(){if(Y3)return Kp;Y3=1,Object.defineProperty(Kp,"__esModule",{value:!0}),Kp.TransactionDatasetFactory=void 0;const t=yq();let e=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new t.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Kp.TransactionDatasetFactory=e,Kp}var X3;function _q(){if(X3)return Yo;X3=1,Object.defineProperty(Yo,"__esModule",{value:!0}),Yo.createSubscribableDataset=Yo.createSubscribableDatasetFactory=Yo.createTransactionDatasetFactory=void 0;const t=ff(),e=pq(),n=vq(),r={dataset:o=>(0,t.createDataset)(o)};function i(){return new n.TransactionDatasetFactory(r)}Yo.createTransactionDatasetFactory=i;function a(){return new e.SubscribableDatasetFactory(r,i())}Yo.createSubscribableDatasetFactory=a;function s(o){return a().dataset(o)}return Yo.createSubscribableDataset=s,Yo}var Zp={},eF;function Bpe(){if(eF)return Zp;eF=1,Object.defineProperty(Zp,"__esModule",{value:!0}),Zp.createWrapperSubscribableDatasetFromSerializedInput=void 0;const t=ff(),e=_q();async function n(r,i){const a=(0,e.createSubscribableDatasetFactory)();return(0,t.createDatasetFromSerializedInput)(a,r,i)}return Zp.createWrapperSubscribableDatasetFromSerializedInput=n,Zp}var WE={},tF;function qpe(){return tF||(tF=1,Object.defineProperty(WE,"__esModule",{value:!0})),WE}var nF;function Mm(){return nF||(nF=1,function(t){var e=zp.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,l)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),n=zp.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0}),t.serializedToSubscribableDataset=void 0,n(_q(),t);var r=Bpe();Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(yq(),t),n(vq(),t),n(YR(),t),n(pq(),t),n(qpe(),t),n(gq(),t),n(mq(),t)}(zp)),zp}var Jf={},Jp={},Yp={},Xp={},rF;function wq(){if(rF)return Xp;rF=1,Object.defineProperty(Xp,"__esModule",{value:!0}),Xp.ContextUtil=void 0;const t={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let e=class{constructor(r){this.context=r,this.iriToKeyMap={},this.iriToKeyMap=this.createIriToKeyMap(r),this.typeNameToIriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="object"&&a!==null&&a["@id"]&&a["@context"]&&(this.typeNameToIriToKeyMap[i]=this.createIriToKeyMap(a["@context"]))})}createIriToKeyMap(r){const i={};return Object.entries(r).forEach(([a,s])=>{if(typeof s=="string")i[this.keyIdToIri(s)]=a;else if(typeof s=="object"&&s!==null&&s["@id"]){const o=this.keyIdToIri(s["@id"]);i[o]=a}}),i}getRelevantContext(r,i){var a,s,o;for(const l of i){const c=this.iriToKey(l.value,[]);if(typeof this.context[c]=="object"&&((a=this.context[c])!=null&&a["@context"])&&((s=this.context[c])!=null&&s["@context"][r]))return(o=this.context[c])==null?void 0:o["@context"]}return this.context}keyIdToIri(r){return t[r]?t[r]:r}keyToIri(r,i){const a=this.getRelevantContext(r,i);if(a[r]){if(typeof a[r]=="string")return this.keyIdToIri(a[r]);if(a[r]&&a[r]["@id"])return this.keyIdToIri(a[r]["@id"])}else return r;return r}iriToKey(r,i){var s;let a=this.iriToKeyMap;for(const o of i){const l=this.iriToKey(o.value,[]);a=(s=this.typeNameToIriToKeyMap[l])!=null&&s[r]?this.typeNameToIriToKeyMap[l]:this.iriToKeyMap}return a[r]?a[r]:r}getDataType(r,i){const a=this.getRelevantContext(r,i);return typeof a[r]=="object"&&a[r]["@type"]?a[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isArray(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&(a[r]["@container"]==="@set"||a[r]["@isCollection"]))}isLangString(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&a[r]["@type"]&&a[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Xp.ContextUtil=e,Xp}var eg={},iF;function bq(){if(iF)return eg;iF=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.JsonldDatasetProxyBuilder=void 0;const t=Fi();let e=class dA{constructor(r){this.proxyContext=r}write(...r){return new dA(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new dA(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createArrayProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createArrayProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,t.namedNode)(r["@id"]):(0,t.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([s,o])=>{a[s]=o}),a}};return eg.JsonldDatasetProxyBuilder=e,eg}var tg={},ng={},yc={},aF;function aw(){if(aF)return yc;aF=1,Object.defineProperty(yc,"__esModule",{value:!0}),yc.nodeToJsonldRepresentation=yc.literalToJsonldRepresentation=void 0;function t(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}yc.literalToJsonldRepresentation=t;function e(n,r){if(n.termType==="Literal")return t(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return yc.nodeToJsonldRepresentation=e,yc}var vc={},_c={},Xo={},wc={},li={},sF;function xo(){return sF||(sF=1,Object.defineProperty(li,"__esModule",{value:!0}),li._writeGraphs=li._proxyContext=li._getUnderlyingArrayTarget=li._getUnderlyingDataset=li._getNodeAtIndex=li._isSubjectOriented=li._getUnderlyingMatch=li._getUnderlyingNode=void 0,li._getUnderlyingNode=Symbol("_getUnderlyingNode"),li._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),li._isSubjectOriented=Symbol("_isSubjectOriented"),li._getNodeAtIndex=Symbol("_getNodeAtIndex"),li._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),li._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),li._proxyContext=Symbol("_proxyContext"),li._writeGraphs=Symbol("_writeGraphs")),li}var oF;function XR(){if(oF)return wc;oF=1,Object.defineProperty(wc,"__esModule",{value:!0}),wc.getNodeFromRawValue=wc.getNodeFromRawObject=void 0;const t=Fi(),e=xo();function n(i,a){return i[e._getUnderlyingNode]?i[e._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,t.namedNode)(a.keyToIri(i["@id"],[])):i["@id"]:(0,t.blankNode)()}wc.getNodeFromRawObject=n;function r(i,a,s,o){if(a!=null)if(typeof a=="string"||typeof a=="boolean"||typeof a=="number"){const l=o.contextUtil.getDataType(i,s);return l==="@id"?(0,t.namedNode)(a.toString()):(0,t.literal)(a.toString(),l)}else return n(a,o.contextUtil)}return wc.getNodeFromRawValue=r,wc}var bc={},uF;function ph(){if(uF)return bc;uF=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.getSubjectProxyFromObject=bc.isSubjectProxy=void 0;const t=xo();function e(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[t._writeGraphs]!="object"||typeof i[t._getUnderlyingDataset]!="object"||typeof i[t._getUnderlyingNode]!="object"||typeof i[t._proxyContext]!="object")}bc.isSubjectProxy=e;function n(r){const i=r;if(!e(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return bc.getSubjectProxyFromObject=n,bc}var Sc={},lF;function sw(){if(lF)return Sc;lF=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.NodeSet=Sc.nodeToString=void 0;function t(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}Sc.nodeToString=t;let e=class{constructor(){this.set=new Set,this.map={}}add(r){const i=t(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(t(r))}delete(r){const i=t(r);return delete this.map[i],this.set.delete(t(r))}toArray(){return Array.from(this.set).map(r=>this.map[r])}};return Sc.NodeSet=e,Sc}var ci={},cF;function gh(){if(cF)return ci;cF=1,Object.defineProperty(ci,"__esModule",{value:!0}),ci.literalLanguageToLanguageKey=ci.languageKeyToLiteralLanguage=ci.getLanguageKeyForWriteOperation=ci.filterQuadsByLanguageOrdering=ci.quadsToLanguageQuadMap=ci.isLanguageLiteral=ci.languageDeleteMatch=ci.languageMatch=void 0;const t=ff();function e(c,h,p,m){const y=o(m);return c.match(h,p).filter(v=>r(v.object)&&v.object.language===y)}ci.languageMatch=e;function n(c,h,p,m){e(c,h,p,m).forEach(v=>{c.delete(v)})}ci.languageDeleteMatch=n;function r(c){return c.termType==="Literal"&&(c.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||c.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}ci.isLanguageLiteral=r;function i(c){const h={};return c.forEach(p=>{const m=p.object;if(r(m)){const y=l(m.language);h[y]||(h[y]=(0,t.createDataset)()),h[y].add(p)}}),h}ci.quadsToLanguageQuadMap=i;function a(c,h){const p=i(c),m=new Set(h),y=new Set(Object.keys(p));for(const v of h){if(y.has(v))return p[v];if(v==="@other"){for(const w of y)if(!m.has(w))return p[w]}}return(0,t.createDataset)()}ci.filterQuadsByLanguageOrdering=a;function s(c){return c.find(h=>h!=="@other")}ci.getLanguageKeyForWriteOperation=s;function o(c){return c==="@none"?"":c}ci.languageKeyToLiteralLanguage=o;function l(c){return c===""?"@none":c}return ci.literalLanguageToLanguageKey=l,ci}var fF;function eP(){if(fF)return Xo;fF=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.addObjectToDataset=Xo.addRawObjectToDatasetRecursive=Xo.addRawValueToDatasetRecursive=void 0;const t=Fi(),e=XR(),n=ph(),r=sw(),i=gh();function a(l,c,h,p,m,y){const{dataset:v,contextUtil:w}=y,E=y.getRdfType(l),b=(0,t.namedNode)(w.keyToIri(c,E)),x=(0,e.getNodeFromRawValue)(c,h,E,y);if(x==null)v.deleteMatches(l,b);else if(x.termType==="Literal"){let A=x;if(w.isLangString(c,E)){const I=(0,i.getLanguageKeyForWriteOperation)(y.languageOrdering);if(!I)return;A=(0,t.literal)(x.value,(0,i.languageKeyToLiteralLanguage)(I))}y.writeGraphs.forEach(I=>{y.dataset.add((0,t.quad)(l,b,A,I))})}else if(y.writeGraphs.forEach(A=>{v.add((0,t.quad)(l,b,x,A))}),!(0,n.isSubjectProxy)(h)){const A=typeof h=="object"?{...h,"@id":x}:{"@id":x};s(A,p,m,y)}}Xo.addRawValueToDatasetRecursive=a;function s(l,c,h,p){if((0,n.isSubjectProxy)(l))return l;const{dataset:m}=p,y=(0,e.getNodeFromRawObject)(l,p.contextUtil),v=p.getRdfType(y);return c.has(y)||(c.add(y),Object.entries(l).forEach(([w,E])=>{if(w==="@id")return;const b=(0,t.namedNode)(p.contextUtil.keyToIri(w,v));if(h)if(p.contextUtil.isLangString(w,v)){const x=(0,i.getLanguageKeyForWriteOperation)(p.languageOrdering);x&&(0,i.languageDeleteMatch)(m,y,b,x)}else m.deleteMatches(y,b);Array.isArray(E)?E.forEach(x=>{a(y,w,x,c,!0,p)}):a(y,w,E,c,!0,p)})),p.createSubjectProxy(y)}Xo.addRawObjectToDatasetRecursive=s;function o(l,c,h){return s(l,new r.NodeSet,c,h)}return Xo.addObjectToDataset=o,Xo}var dF;function tP(){if(dF)return _c;dF=1,Object.defineProperty(_c,"__esModule",{value:!0}),_c.modifyArray=_c.checkArrayModification=void 0;const t=Fi(),e=Mm(),n=ff(),r=eP(),i=XR(),a=sw();function s(l,c,h){if(l[2])for(const p of c){if(p===void 0)return;if(typeof p!="object")throw new Error(`Cannot add a literal "${p}"(${typeof p}) to a subject-oriented collection.`);const m=new e.TransactionDataset(h.dataset,(0,n.createDatasetFactory)(),(0,e.createTransactionDatasetFactory)());if((0,r.addObjectToDataset)(p,!1,h.duplicate({writeGraphs:[(0,t.defaultGraph)()]})),!(m.match((0,i.getNodeFromRawObject)(p,h.contextUtil),l[0][1],l[0][2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,a.nodeToString)(l[0][0])}, ${(0,a.nodeToString)(l[0][1])}, ${(0,a.nodeToString)(l[0][2])}, ${(0,a.nodeToString)(l[0][3])})`)}else if(!l[0][0]||!l[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}_c.checkArrayModification=s;function o(l,c){const{target:h,toAdd:p,quadsToDelete:m,modifyCoreArray:y,key:v}=l,{dataset:w,contextUtil:E}=c;if(s(h,p||[],c),m){const A=w.match(...h[0]).toArray();m(A).forEach(M=>{h[2]?w.deleteMatches(M.subject,void 0,void 0):w.delete(M)})}const b=p==null?void 0:p.map(A=>typeof A=="object"?(0,r.addObjectToDataset)(A,!1,c):A).filter(A=>A!=null);!h[2]&&h[0][0]&&h[0][1]&&b&&(0,r.addObjectToDataset)({"@id":h[0][0],[E.iriToKey(h[0][1].value,c.getRdfType(h[0][0]))]:b},!1,c);const x=b?b.map(A=>(0,i.getNodeFromRawValue)(v,A,h[0][0]?c.getRdfType(h[0][0]):[],c)).filter(A=>A!=null):[];return y(h[1],x)}return _c.modifyArray=o,_c}var hF;function Sq(){if(hF)return vc;hF=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.arrayMethodsBuilders=vc.methodNames=void 0;const t=aw(),e=tP();return vc.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),vc.arrayMethodsBuilders={copyWithin:(n,r,i)=>(a,s,o)=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:l=>{const c=[...l],h=new Set(l.copyWithin(a,s,o));return c.filter(p=>!h.has(p))},modifyCoreArray:l=>(l.copyWithin(a,s,o),i.createArrayProxy(n[0],n[2]))},i),fill:(n,r,i)=>(a,s,o)=>(0,e.modifyArray)({target:n,key:r,toAdd:[a],quadsToDelete:l=>l.slice(s,o),modifyCoreArray:(l,c)=>(l.fill(c[0],s,o),i.createArrayProxy(n[0],n[2]))},i),pop:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[a.length-1]?[a[a.length-1]]:[],modifyCoreArray:a=>{const s=a.pop();return s?(0,t.nodeToJsonldRepresentation)(s,i):void 0}},i),push:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(s,o)=>(s.push(...o),i.createArrayProxy(n[0],n[2]).length)},i),reverse:(n,r,i)=>()=>(n[1].reverse(),i.createArrayProxy(n[0],n[2])),shift:(n,r,i)=>()=>(0,e.modifyArray)({target:n,key:r,quadsToDelete:a=>a[0]?[a[0]]:[],modifyCoreArray:a=>{const s=a.shift();return s?(0,t.nodeToJsonldRepresentation)(s,i):void 0}},i),sort:(n,r,i)=>a=>(a?n[1].sort((s,o)=>a((0,t.nodeToJsonldRepresentation)(s,i),(0,t.nodeToJsonldRepresentation)(o,i))):n&&n[1].sort((s,o)=>{const l=(0,t.nodeToJsonldRepresentation)(s,i),c=(0,t.nodeToJsonldRepresentation)(o,i);return l>c?1:c>l?-1:0}),i.createArrayProxy(n[0],n[2])),splice:(n,r,i)=>(a,s,...o)=>(0,e.modifyArray)({target:n,key:r,toAdd:o,quadsToDelete:l=>l.splice(a,s),modifyCoreArray:(l,c)=>l.splice(a,s||0,...c).map(p=>(0,t.nodeToJsonldRepresentation)(p,i))},i),unshift:(n,r,i)=>(...a)=>(0,e.modifyArray)({target:n,key:r,toAdd:a,modifyCoreArray:(s,o)=>(s.unshift(...o),i.createArrayProxy(n[0],n[2]).length)},i)},vc}var pF;function xq(){if(pF)return ng;pF=1,Object.defineProperty(ng,"__esModule",{value:!0}),ng.createArrayHandler=void 0;const t=Fi(),e=aw(),n=Sq(),r=xo(),i=tP(),a=sw(),s=gh();function o(h,p){let m=p.dataset.match(...h[0]);h[3]&&(m=(0,s.filterQuadsByLanguageOrdering)(m,p.languageOrdering));const y=new a.NodeSet;m.toArray().forEach(w=>{h[2]?y.add(w.subject):y.add(w.object)});const v=[];h[1].forEach(w=>{y.has(w)&&(v.push(w),y.delete(w))}),y.toArray().forEach(w=>{v.push(w)}),h[1]=v}function l(h,p){return h[1].map(m=>(0,e.nodeToJsonldRepresentation)(m,p))}function c(h){return{get(p,m,...y){switch(m){case r._getUnderlyingDataset:return h.dataset;case r._getUnderlyingMatch:return p[0];case r._isSubjectOriented:return p[2];case r._getUnderlyingArrayTarget:return p;case r._proxyContext:return h;case r._getNodeAtIndex:return w=>(o(p,h),p[1][w])}o(p,h);const v=l(p,h);return n.methodNames.has(m)?n.arrayMethodsBuilders[m](p,m,h):Reflect.get(v,m,...y)},getOwnPropertyDescriptor(p,m,...y){o(p,h);const v=l(p,h);return Reflect.getOwnPropertyDescriptor(v,m,...y)},ownKeys(p,...m){o(p,h);const y=l(p,h);return Reflect.ownKeys(y,...m)},getPrototypeOf(p,...m){o(p,h);const y=l(p,h);return Reflect.getPrototypeOf(y,...m)},has(p,...m){o(p,h);const y=l(p,h);return Reflect.has(y,...m)},set(p,m,y,...v){if(m===r._proxyContext)return h=y,!0;if(o(p,h),typeof m!="symbol"&&!isNaN(parseInt(m))){const w=parseInt(m);return(0,i.modifyArray)({target:p,key:m,toAdd:[y],quadsToDelete(E){return E[w]?[E[w]]:[]},modifyCoreArray(E,b){return E[w]=b[0],!0}},h)}return Reflect.set(p[1],m,...v)},deleteProperty(p,m){const{dataset:y}=h;if(typeof m!="symbol"&&!isNaN(parseInt(m))){const v=y.match(...p[0]).toArray()[parseInt(m)];if(!v)return!0;const w=p[2]?v.subject:v.object;if(w.termType==="Literal"){const E=p[0][0],b=p[0][1];return E&&b&&y.delete((0,t.quad)(E,b,w)),!0}else if(w.termType==="NamedNode"||w.termType==="BlankNode")return y.deleteMatches(w,void 0,void 0),y.deleteMatches(void 0,void 0,w),!0}return!0}}}return ng.createArrayHandler=c,ng}var rg={},ig={},gF;function Eq(){if(gF)return ig;gF=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.deleteValueFromDataset=void 0;const t=Fi();function e(n,r,i){const a=[];if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;const s=n["@id"],o=(0,t.namedNode)(i.contextUtil.keyToIri(r,i.getRdfType(s)));if(r==="@id")a.push(n["@id"]);else{const l=i.dataset.match(s,o);if(l.size===0)return!0;a.push(...l.toArray().map(c=>c.object))}return a.forEach(l=>{if(l.termType==="Literal")return i.dataset.delete((0,t.quad)(s,o,l)),!0;if(l.termType==="NamedNode")return i.dataset.deleteMatches(l,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,l),!0}),!0}return ig.deleteValueFromDataset=e,ig}var ag={},mF;function Tq(){if(mF)return ag;mF=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.getValueForKey=void 0;const t=Fi(),e=aw(),n=gh();function r(i,a,s){const{contextUtil:o,dataset:l}=s;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:o.iriToKey(i["@id"].value,[]);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const c=i["@id"],h=s.getRdfType(c),p=(0,t.namedNode)(o.keyToIri(a,h));if(o.isArray(a,h))return s.createArrayProxy([c,p,null,null],!1,void 0,o.isLangString(a,h));let m=l.match(c,p);if(o.isLangString(a,h)&&(m=(0,n.filterQuadsByLanguageOrdering)(m,s.languageOrdering)),m.size!==0)return m.size===1?(0,e.nodeToJsonldRepresentation)(m.toArray()[0].object,s):s.createArrayProxy([c,p,null,null])}return ag.getValueForKey=r,ag}var yF;function Cq(){if(yF)return rg;yF=1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.createSubjectHandler=void 0;const t=Fi(),e=eP(),n=Eq(),r=xo(),i=Tq();function a(s){let o=s;return{get(l,c){switch(c){case r._getUnderlyingDataset:return o.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return o;case r._writeGraphs:return o.writeGraphs;case"@context":return o.contextUtil.context}return(0,i.getValueForKey)(l,c,o)},getOwnPropertyDescriptor(l,c){return{value:(0,i.getValueForKey)(l,c,o),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const c=l["@id"],h=o.dataset.match(c),p=new Set(["@id"]);return h.toArray().forEach(m=>{p.add(o.contextUtil.iriToKey(m.predicate.value,o.getRdfType(c)))}),Array.from(p)},set:(l,c,h)=>{if(c===r._proxyContext)return o=h,!0;if(c==="@id"&&typeof h=="string"){const p=o.dataset.match(l["@id"]).toArray(),m=p.map(w=>(0,t.quad)((0,t.namedNode)(h),w.predicate,w.object,w.graph));p.forEach(w=>o.dataset.delete(w)),o.dataset.addAll(m);const y=o.dataset.match(void 0,void 0,l["@id"]).toArray(),v=y.map(w=>(0,t.quad)(w.subject,w.predicate,(0,t.namedNode)(h),w.graph));y.forEach(w=>o.dataset.delete(w)),o.dataset.addAll(v),l["@id"]=(0,t.namedNode)(h)}return(0,e.addObjectToDataset)({"@id":l["@id"],[c]:h},!0,o),!0},deleteProperty(l,c){return(0,n.deleteValueFromDataset)(l,c,o)}}}return rg.createSubjectHandler=a,rg}var vF;function Rq(){if(vF)return tg;vF=1,Object.defineProperty(tg,"__esModule",{value:!0}),tg.ProxyContext=void 0;const t=xq(),e=Cq(),n=xo(),i=(0,Fi().namedNode)("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");let a=class Aq{constructor(o){this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=o.dataset,this.contextUtil=o.contextUtil,this.writeGraphs=o.writeGraphs,this.languageOrdering=o.languageOrdering,this.state=o.state||{},o.prefilledArrayTargets&&o.prefilledArrayTargets.forEach(l=>{this.createArrayProxy(l[0],l[2],l)})}createSubjectProxy(o){if(!this.subjectMap.has(o.value)){const l=new Proxy({"@id":o},this.createSubjectHandler());this.subjectMap.set(o.value,l)}return this.subjectMap.get(o.value)}createSubjectHandler(){return(0,e.createSubjectHandler)(this)}getArrayKey(...o){var l,c,h,p;return`${((l=o[0])==null?void 0:l.value)||"undefined"}|${((c=o[1])==null?void 0:c.value)||"undefined"}|${((h=o[2])==null?void 0:h.value)||"undefined"}|${((p=o[3])==null?void 0:p.value)||"undefined"}`}createArrayProxy(o,l=!1,c,h){const p=this.getArrayKey(...o);if(!this.arrayMap.has(p)){const m=new Proxy(c||[o,[],l,h],this.createArrayHandler());this.arrayMap.set(p,m)}return this.arrayMap.get(p)}createArrayHandler(){return(0,t.createArrayHandler)(this)}duplicate(o){const l=[];this.arrayMap.forEach(h=>{l.push(h[n._getUnderlyingArrayTarget])});const c={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:l,...o};return new Aq(c)}getRdfType(o){return this.dataset.match(o,i).toArray().map(l=>l.object).filter(l=>l.termType==="NamedNode")}};return tg.ProxyContext=a,tg}var _F;function wF(){if(_F)return Yp;_F=1,Object.defineProperty(Yp,"__esModule",{value:!0}),Yp.jsonldDatasetProxy=void 0;const t=Fi(),e=wq(),n=bq(),r=Rq();function i(a,s){const o=new e.ContextUtil(s),l=new r.ProxyContext({dataset:a,contextUtil:o,writeGraphs:[(0,t.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return Yp.jsonldDatasetProxy=i,Yp}var sg={},og={},xc={},ug={},bF;function Pq(){if(bF)return ug;bF=1,Object.defineProperty(ug,"__esModule",{value:!0}),ug.isArrayProxy=void 0;const t=xo();function e(n){if(!n||typeof n!="object")return!1;const r=n;return!(typeof r[t._getUnderlyingDataset]!="object"||typeof r[t._getUnderlyingMatch]!="object"||typeof r[t._getNodeAtIndex]!="function"||typeof r[t._getUnderlyingArrayTarget]!="object")}return ug.isArrayProxy=e,ug}var SF;function Oq(){if(SF)return xc;SF=1,Object.defineProperty(xc,"__esModule",{value:!0}),xc.getProxyFromObject=xc.isProxy=void 0;const t=Pq(),e=ph();function n(i){return(0,e.isSubjectProxy)(i)||(0,t.isArrayProxy)(i)}xc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return xc.getProxyFromObject=r,xc}var xF;function nP(){if(xF)return og;xF=1,Object.defineProperty(og,"__esModule",{value:!0}),og.createInteractOptions=void 0;const t=ph(),e=xo(),n=Oq();function r(i,a){return{using(...s){const o=[];return s.forEach(l=>{const c=(0,n.getProxyFromObject)(l),h=c[e._proxyContext];c[e._proxyContext]=c[e._proxyContext].duplicate({[i]:a}),o.push(()=>{c[e._proxyContext]=h})}),function(){o.forEach(c=>c())}},usingCopy(...s){return s.map(o=>{const l=(0,t.getSubjectProxyFromObject)(o);return l[e._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[e._getUnderlyingNode])})}}}return og.createInteractOptions=r,og}var EF;function zpe(){if(EF)return sg;EF=1,Object.defineProperty(sg,"__esModule",{value:!0}),sg.write=void 0;const t=nP();function e(...n){return(0,t.createInteractOptions)("writeGraphs",n)}return sg.write=e,sg}var lg={},TF;function Hpe(){if(TF)return lg;TF=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.graphOf=void 0;const t=Fi(),e=ph(),n=xo();function r(i,a,s){const o=(0,e.getSubjectProxyFromObject)(i),l=o[n._proxyContext],c=o[n._getUnderlyingNode],h=(0,t.namedNode)(l.contextUtil.keyToIri(a,l.getRdfType(c)));let p;if(s==null)p=null;else if(typeof s=="number"){const y=i[a];if(!y[n._getUnderlyingMatch])throw new Error(`Key "${String(a)}" of ${i} is not an array.`);if(!y[s])throw new Error(`Index ${s} does not exist.`);(0,e.isSubjectProxy)(y[s])&&(p=y[s][1]),p=y[n._getNodeAtIndex](s)}else p=(0,e.getSubjectProxyFromObject)(s)[n._getUnderlyingNode];return o[n._getUnderlyingDataset].match(c,h,p).toArray().map(y=>y.graph)}return lg.graphOf=r,lg}var cg={},CF;function Vpe(){if(CF)return cg;CF=1,Object.defineProperty(cg,"__esModule",{value:!0}),cg.setLanguagePreferences=void 0;const t=nP();function e(...n){return(0,t.createInteractOptions)("languageOrdering",n)}return cg.setLanguagePreferences=e,cg}var QE={},AF;function Kpe(){return AF||(AF=1,Object.defineProperty(QE,"__esModule",{value:!0})),QE}var fg={},Yf={},gv={},RF;function Iq(){if(RF)return gv;RF=1;var t;Object.defineProperty(gv,"__esModule",{value:!0});const e=Fi(),n=gh();class r{constructor(a,s,o,l){this[t]="LanguageSet",this.subject=a,this.predicate=s,this.languageKey=o,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,e.literal)(a):(0,e.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(s=>{this.proxyContext.dataset.add((0,e.quad)(this.subject,this.predicate,(0,e.literal)(a,this.languageKey),s))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const s=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),s}forEach(a,s){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,s||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const s of a)yield[s.object.value,s.object.value]}*keys(){const a=this.matchThis();for(const s of a)yield s.object.value}*values(){const a=this.matchThis();for(const s of a)yield s.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const s of a)yield s.object.value}}return gv.default=r,t=Symbol.toStringTag,gv}var PF;function Lq(){if(PF)return Yf;PF=1;var t=Yf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.createLanguageMapProxy=void 0;const e=Fi(),n=gh(),r=t(Iq());function i(a,s,o,l){const c={},h=p=>{Object.keys(p).forEach(v=>delete p[v]);const m=o.dataset.match(a,s),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([v,w])=>{const E=w.toArray().map(b=>b.object.value);l?p[v]=new Set(E):p[v]=E[0]})};return h(c),new Proxy(c,{get:(p,m)=>(h(p),typeof m!="string"?Reflect.get(p,m):l?new r.default(a,s,m,o):Reflect.get(p,m)),set:(p,m,y)=>{const v=(0,n.languageKeyToLiteralLanguage)(m);return l||(0,n.languageDeleteMatch)(o.dataset,a,s,v),o.writeGraphs.forEach(w=>{o.dataset.add((0,e.quad)(a,s,(0,e.literal)(y,v),w))}),Reflect.set(p,m,y)},deleteProperty:(p,m)=>((0,n.languageDeleteMatch)(o.dataset,a,s,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(p,m))})}return Yf.createLanguageMapProxy=i,Yf}var OF;function Gpe(){if(OF)return fg;OF=1,Object.defineProperty(fg,"__esModule",{value:!0}),fg.languagesOf=void 0;const t=Fi(),e=ph(),n=xo(),r=Lq();function i(a,s){const o=(0,e.getSubjectProxyFromObject)(a),l=o[n._proxyContext],c=o[n._getUnderlyingNode],h=l.getRdfType(c),p=(0,t.namedNode)(l.contextUtil.keyToIri(s,h));return(0,r.createLanguageMapProxy)(c,p,l,l.contextUtil.isArray(s,h))}return fg.languagesOf=i,fg}var ZE={},IF;function Wpe(){return IF||(IF=1,Object.defineProperty(ZE,"__esModule",{value:!0})),ZE}var JE={},LF;function Qpe(){return LF||(LF=1,Object.defineProperty(JE,"__esModule",{value:!0})),JE}var YE={},MF;function Zpe(){return MF||(MF=1,Object.defineProperty(YE,"__esModule",{value:!0})),YE}var XE={},DF;function Jpe(){return DF||(DF=1,Object.defineProperty(XE,"__esModule",{value:!0})),XE}var kF;function em(){return kF||(kF=1,function(t){var e=Jp.__createBinding||(Object.create?function(i,a,s,o){o===void 0&&(o=s);var l=Object.getOwnPropertyDescriptor(a,s);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,o,l)}:function(i,a,s,o){o===void 0&&(o=s),i[o]=a[s]}),n=Jp.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&e(a,i,s)};Object.defineProperty(t,"__esModule",{value:!0});const r=wF();t.default=r.jsonldDatasetProxy,n(xo(),t),n(wq(),t),n(Rq(),t),n(bq(),t),n(wF(),t),n(zpe(),t),n(Hpe(),t),n(Vpe(),t),n(Kpe(),t),n(Gpe(),t),n(Lq(),t),n(Iq(),t),n(Wpe(),t),n(gh(),t),n(xq(),t),n(Sq(),t),n(Qpe(),t),n(tP(),t),n(Pq(),t),n(Cq(),t),n(Zpe(),t),n(Tq(),t),n(Eq(),t),n(ph(),t),n(eP(),t),n(aw(),t),n(Jpe(),t),n(XR(),t),n(sw(),t),n(Oq(),t),n(nP(),t)}(Jp)),Jp}var dg={},ja={},NF;function Mq(){if(NF)return ja;NF=1,Object.defineProperty(ja,"__esModule",{value:!0}),ja.getTransactionalDatasetFromLdo=ja.isTransactionalDataset=ja.canDatasetStartTransaction=ja.normalizeNodeNames=ja.normalizeNodeName=void 0;const t=Fi(),e=em();function n(o){return typeof o=="string"?(0,t.namedNode)(o):o}ja.normalizeNodeName=n;function r(o){return o.map(l=>n(l))}ja.normalizeNodeNames=r;function i(o){return typeof o.startTransaction=="function"}ja.canDatasetStartTransaction=i;function a(o){return typeof o.commit=="function"}ja.isTransactionalDataset=a;function s(o){const l=(0,e.getProxyFromObject)(o),c=l[e._getUnderlyingDataset];if(!a(c)||!l[e._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[c,l]}return ja.getTransactionalDatasetFromLdo=s,ja}var FF;function rP(){if(FF)return dg;FF=1,Object.defineProperty(dg,"__esModule",{value:!0}),dg.LdoBuilder=void 0;const t=Mq();let e=class hA{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,t.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,t.normalizeNodeName)(r):void 0,i!=null?(0,t.normalizeNodeName)(i):void 0,a!=null?(0,t.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new hA(this.jsonldDatasetProxyBuilder.write(...(0,t.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new hA(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return dg.LdoBuilder=e,dg}var Xf={},jF;function Dq(){if(jF)return Xf;jF=1;var t=Xf.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Xf,"__esModule",{value:!0}),Xf.LdoTransactionDataset=void 0;const e=Mm(),n=rP(),r=t(em());let i=class extends e.TransactionDataset{usingType(s){const o=(0,r.default)(this,s.context);return new n.LdoBuilder(o,s)}};return Xf.LdoTransactionDataset=i,Xf}var $F;function kq(){if($F)return Jf;$F=1;var t=Jf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.LdoDataset=void 0;const e=t(em()),n=Mm(),r=rP(),i=Dq();let a=class extends n.SubscribableDataset{usingType(o){const l=(0,e.default)(this,o.context);return new r.LdoBuilder(l,o)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return Jf.LdoDataset=a,Jf}var UF;function Ype(){if(UF)return qp;UF=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.LdoDatasetFactory=void 0;const t=Mm(),e=kq();let n=class extends t.SubscribableDatasetFactory{dataset(i){return new e.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return qp.LdoDatasetFactory=n,qp}var BF;function Nq(){if(BF)return mc;BF=1,Object.defineProperty(mc,"__esModule",{value:!0}),mc.createLdoDataset=mc.createLdoDatasetFactory=void 0;const t=ff(),e=Ype(),n=Mm();function r(){const a={dataset:s=>(0,t.createDataset)(s)};return new e.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}mc.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return mc.createLdoDataset=i,mc}var qF;function Xpe(){if(qF)return Rp;qF=1,Object.defineProperty(Rp,"__esModule",{value:!0}),Rp.parseRdf=void 0;const t=ff(),e=Nq();async function n(r,i){const a=(0,e.createLdoDatasetFactory)();return typeof r=="string"?await(0,t.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,e.createLdoDataset)(r):await(0,t.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/ld+json"})}return Rp.parseRdf=n,Rp}var e2={},zF;function ege(){return zF||(zF=1,Object.defineProperty(e2,"__esModule",{value:!0})),e2}var ar={},HF;function tge(){if(HF)return ar;HF=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.toNTriples=ar.toJsonLd=ar.toTurtle=ar.serialize=ar.toSparqlUpdate=ar.getDataset=ar.transactionChanges=ar.commitTransaction=ar.startTransaction=ar.write=ar.setLanguagePreferences=ar.languagesOf=ar.graphOf=void 0;const t=em(),e=Lm(),n=Mq(),r=em();ar.graphOf=r.graphOf,ar.languagesOf=r.languagesOf,ar.setLanguagePreferences=r.setLanguagePreferences;function i(...v){return(0,t.write)(...(0,n.normalizeNodeNames)(v))}ar.write=i;function a(v){const w=(0,t.getProxyFromObject)(v),E=w[t._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(E))throw new Error("Object is not transactable.");w[t._proxyContext]=w[t._proxyContext].duplicate({dataset:E.startTransaction(),state:{parentDataset:E}})}ar.startTransaction=a;function s(v){const[w,E]=(0,n.getTransactionalDatasetFromLdo)(v);w.commit(),E[t._proxyContext]=E[t._proxyContext].duplicate({dataset:E[t._proxyContext].state.parentDataset})}ar.commitTransaction=s;function o(v){const[w]=(0,n.getTransactionalDatasetFromLdo)(v);return w.getChanges()}ar.transactionChanges=o;function l(v){return(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset]}ar.getDataset=l;async function c(v){const[w]=(0,n.getTransactionalDatasetFromLdo)(v),E=w.getChanges();return(0,e.changesToSparqlUpdate)(E)}ar.toSparqlUpdate=c;async function h(v,w){const E=(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset];return(0,e.datasetToString)(E,w)}ar.serialize=h;async function p(v){const w=(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset];return(0,e.datasetToString)(w,{})}ar.toTurtle=p;async function m(v){throw new Error("Not Implemented")}ar.toJsonLd=m;async function y(v){const w=(0,t.getProxyFromObject)(v)[t._getUnderlyingDataset];return(0,e.datasetToString)(w,{format:"N-Triples"})}return ar.toNTriples=y,ar}var t2={},VF;function nge(){return VF||(VF=1,Object.defineProperty(t2,"__esModule",{value:!0})),t2}var KF;function rge(){return KF||(KF=1,function(t){var e=Ap.__createBinding||(Object.create?function(r,i,a,s){s===void 0&&(s=a);var o=Object.getOwnPropertyDescriptor(i,a);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,s,o)}:function(r,i,a,s){s===void 0&&(s=a),r[s]=i[a]}),n=Ap.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&e(i,r,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(Xpe(),t),n(ege(),t),n(tge(),t),n(kq(),t),n(Dq(),t),n(rP(),t),n(Nq(),t),n(nge(),t)}(Ap)),Ap}var or=rge();const hl={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},Fl={Accommodation:hl.hospex+"Accommodation",PersonalHospexDocument:hl.hospex+"PersonalHospexDocument",offers:hl.hospex+"offers",offeredBy:hl.hospex+"offeredBy",storage:hl.hospex+"storage"},Og={...Object.fromEntries(Object.entries(qD).map(([t,e])=>[t,zD(e)])),subject:zD(qD.object.replace("object","subject"))},pl={participation:hl.wf+"participation",participant:hl.wf+"participant",...Gfe},Fq={LongChat:hl.meeting+"LongChat",...Kfe},jq=[{type:"match",subject:"?community",predicate:qd.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:uu.inbox,pick:"object",target:"?inbox"}],$q=[...jq,{type:"match",subject:"?group",predicate:pB.hasMember,pick:"object",target:"?person"}],ow={type:"match",subject:"?person",predicate:uu.inbox,pick:"object",target:"?inbox"},mh=[{type:"match",subject:"?person",predicate:LR.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],Uq=[...mh,{type:"match",subject:"?person",predicate:Dn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],Bq=[...Uq,{type:"match",subject:"?person",predicate:uh.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Dn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},ow],qq=[{type:"match",predicate:lf.type,object:Dn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Dn.forClass,object:Fl.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:Dn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:qd.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],iP=[...Uq,...qq],ige=[...Bq,...qq,{type:"match",subject:"?person",predicate:uh.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},ow,{type:"match",subject:"?person",predicate:qd.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:qd.name,pick:"object",target:"?communityName"}],age=[...iP,{type:"match",subject:"?person",predicate:uh.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],zq=[...iP,{type:"match",subject:"?person",predicate:Fl.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],sge=[...$q,...zq],oge=[{type:"match",subject:"?offer",predicate:Fl.offeredBy,pick:"object",target:"?person"}],uge=[...mh,{type:"match",subject:"?person",predicate:Ol.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:LR.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],lge=[...mh,ow,{type:"match",subject:"?inbox",predicate:uu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:lf.type,object:Og.Invite,pick:"subject",target:"?inviteNotification"}],cge=[...mh,ow,{type:"match",subject:"?inbox",predicate:uu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:lf.type,object:Og.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:Og.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:Og.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:Og.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],Hq=[...mh,{type:"match",subject:"?person",predicate:uh.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:Dn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:lf.type,object:Dn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:Dn.forClass,object:Fq.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:Dn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:pl.participation,pick:"object",target:"?participation"}],fge=[...Hq,{type:"match",subject:"?participation",predicate:hB.references,pick:"object",target:"?otherChat"}],dge=[...Hq,{type:"match",subject:"?participation",predicate:pl.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:pl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:pl.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:pl.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:pl.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:hB.references,pick:"object",target:"?otherChat"}],Vq=[{type:"match",subject:"?chatContainer",predicate:uu.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:uu.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:uu.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:uu.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:pl.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:pl.message,pick:"object",target:"?message"}],c0=t=>t.termType==="NamedNode"?new Qr(wi(t.value)):void 0,hge=[...dge,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:c0},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:c0},...Vq],pge=[...fge,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:c0},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:c0},...Vq],gge=(t,e)=>{const{variables:n,isLoading:r}=ha(ne.useMemo(()=>({query:$q,variables:{community:[e]},fetch:nr}),[e]));if(!r)return(n.person??[]).includes(t)},Su=(t,...e)=>{e.length===0&&(e=[...e,eh]);const{store:n,variables:r,isLoading:i}=ha({query:jq,variables:ne.useMemo(()=>({community:[t]}),[t]),fetch:nr}),a=ne.useMemo(()=>or.createLdoDataset(n.getQuads(null,null,null,null)).usingType(Bde).fromSubject(t),[t,n,r]),s=n2(a,"name",...e),o=n2(a,"note",...e),l=n2(a,"about",...e);return ne.useMemo(()=>{var c,h;return{community:t,logo:((c=a.logo)==null?void 0:c.map(({"@id":p})=>p))??[],name:s,about:l,pun:o,groups:r.group??[],isLoading:i,inbox:(h=r.inbox)==null?void 0:h[0]}},[l,a.logo,t,i,s,o,r.group,r.inbox])},n2=(t,e,...n)=>{const r=ne.useMemo(()=>[...n,"@none"],[n]);return ne.useMemo(()=>{const a=or.languagesOf(t,e);for(const s of r){const o=a[s];if(typeof o=="string")return o;if((o==null?void 0:o.toString())==="[object LanguageSet]"){const l=[...o][0];if(typeof l=="string")return l}}},[r,e,t])},mge="_select_103rf_1",yge={select:mge},vge=()=>{const t=bi(of),e=Ml();return Q.jsx("select",{className:yge.select,value:t,onChange:n=>{e(uR.changeLocale(n.target.value))},children:J_.map(n=>Q.jsx("option",{value:n,children:n},n))})},_ge="_header_1hug1_1",wge="_logoContainer_1hug1_12",bge="_logo_1hug1_12",Sge="_spacer_1hug1_21",mv={header:_ge,logoContainer:wge,logo:bge,spacer:Sge},xge=()=>{const t=Ml(),e=async()=>{await HY(),t(dR.signout())};return Q.jsx("button",{onClick:e,children:Q.jsx(wt,{id:"ydgdD7"})})},xu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Eu={type:{"@id":"@type"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@container":"@set"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},Resource:"http://www.w3.org/ns/ldp#Resource"},Kq={schema:xu,shape:"https://example.com/SolidProfile",context:Eu},Ege={schema:xu,shape:"https://example.com/FoafProfile",context:Eu},uw={schema:xu,shape:"https://example.com/HospexProfile",context:Eu},lw={schema:xu,shape:"https://example.com/Accommodation",context:Eu},Tge={schema:xu,shape:"https://example.com/PublicTypeIndex",context:Eu},Cge={schema:xu,shape:"https://example.com/PrivateTypeIndex",context:Eu},zd={schema:xu,shape:"https://example.com/ChatShape",context:Eu},Gq={schema:xu,shape:"https://example.com/MessageActivity",context:Eu},Wq={schema:xu,shape:"https://example.com/ContactInvitationActivity",context:Eu};var GF=Lm();const Age=()=>{const t=new WeakSet;return(e,n)=>{if(typeof n=="object"&&n!==null){if(t.has(n))return;t.add(n)}return n}},WF=t=>JSON.parse(JSON.stringify(t,Age()));async function pA(t){const e=or.transactionChanges(t),n=[`_:mutate a <${Dn.InsertDeletePatch}>`];if(e.added){const i=await GF.datasetToString(e.added,{format:"N3"});n.push(`<${Dn.inserts}> { ${i} }`)}if(e.removed){const i=await GF.datasetToString(e.removed,{format:"N3"});n.push(`<${Dn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}var r2,QF;function Qq(){if(QF)return r2;QF=1;var t=nw(),e=Pm();function n(r,i,a){(a!==void 0&&!e(r[i],a)||a===void 0&&!(i in r))&&t(r,i,a)}return r2=n,r2}var Ig={exports:{}};Ig.exports;var ZF;function Zq(){return ZF||(ZF=1,function(t,e){var n=Hs(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,s=a?n.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(c,h){if(h)return c.slice();var p=c.length,m=o?o(p):new c.constructor(p);return c.copy(m),m}t.exports=l}(Ig,Ig.exports)),Ig.exports}var i2,JF;function aP(){if(JF)return i2;JF=1;var t=UB();function e(n){var r=new n.constructor(n.byteLength);return new t(r).set(new t(n)),r}return i2=e,i2}var a2,YF;function Jq(){if(YF)return a2;YF=1;var t=aP();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return a2=e,a2}var s2,XF;function Yq(){if(XF)return s2;XF=1;function t(e,n){var r=-1,i=e.length;for(n||(n=Array(i));++r<i;)n[r]=e[r];return n}return s2=t,s2}var o2,ej;function Rge(){if(ej)return o2;ej=1;var t=ys(),e=Object.create,n=function(){function r(){}return function(i){if(!t(i))return{};if(e)return e(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return o2=n,o2}var u2,tj;function sP(){if(tj)return u2;tj=1;var t=KB(),e=t(Object.getPrototypeOf,Object);return u2=e,u2}var l2,nj;function Xq(){if(nj)return l2;nj=1;var t=Rge(),e=sP(),n=KR();function r(i){return typeof i.constructor=="function"&&!n(i)?t(e(i)):{}}return l2=r,l2}var c2,rj;function e9(){if(rj)return c2;rj=1;var t=ew(),e=bu();function n(r){return e(r)&&t(r)}return c2=n,c2}var f2,ij;function t9(){if(ij)return f2;ij=1;var t=fh(),e=sP(),n=bu(),r="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,l=s.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var m=o.call(p,"constructor")&&p.constructor;return typeof m=="function"&&m instanceof m&&s.call(m)==l}return f2=c,f2}var d2,aj;function n9(){if(aj)return d2;aj=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return d2=t,d2}var h2,sj;function oP(){if(sj)return h2;sj=1;var t=nw(),e=Pm(),n=Object.prototype,r=n.hasOwnProperty;function i(a,s,o){var l=a[s];(!(r.call(a,s)&&e(l,o))||o===void 0&&!(s in a))&&t(a,s,o)}return h2=i,h2}var p2,oj;function yh(){if(oj)return p2;oj=1;var t=oP(),e=nw();function n(r,i,a,s){var o=!a;a||(a={});for(var l=-1,c=i.length;++l<c;){var h=i[l],p=s?s(a[h],r[h],h,a,r):void 0;p===void 0&&(p=r[h]),o?e(a,h,p):t(a,h,p)}return a}return p2=n,p2}var g2,uj;function Pge(){if(uj)return g2;uj=1;function t(e){var n=[];if(e!=null)for(var r in Object(e))n.push(r);return n}return g2=t,g2}var m2,lj;function Oge(){if(lj)return m2;lj=1;var t=ys(),e=KR(),n=Pge(),r=Object.prototype,i=r.hasOwnProperty;function a(s){if(!t(s))return n(s);var o=e(s),l=[];for(var c in s)c=="constructor"&&(o||!i.call(s,c))||l.push(c);return l}return m2=a,m2}var y2,cj;function Dm(){if(cj)return y2;cj=1;var t=VB(),e=Oge(),n=ew();function r(i){return n(i)?t(i,!0):e(i)}return y2=r,y2}var v2,fj;function Ige(){if(fj)return v2;fj=1;var t=yh(),e=Dm();function n(r){return t(r,e(r))}return v2=n,v2}var _2,dj;function Lge(){if(dj)return _2;dj=1;var t=Qq(),e=Zq(),n=Jq(),r=Yq(),i=Xq(),a=J0(),s=Vs(),o=e9(),l=Y0(),c=FR(),h=ys(),p=t9(),m=VR(),y=n9(),v=Ige();function w(E,b,x,A,I,M,D){var F=y(E,x),Z=y(b,x),X=D.get(Z);if(X){t(E,x,X);return}var U=M?M(F,Z,x+"",E,b,D):void 0,J=U===void 0;if(J){var ce=s(Z),re=!ce&&l(Z),ue=!ce&&!re&&m(Z);U=Z,ce||re||ue?s(F)?U=F:o(F)?U=r(F):re?(J=!1,U=e(Z,!0)):ue?(J=!1,U=n(Z,!0)):U=[]:p(Z)||a(Z)?(U=F,a(F)?U=v(F):(!h(F)||c(F))&&(U=i(Z))):J=!1}J&&(D.set(Z,U),I(U,Z,A,M,D),D.delete(Z)),t(E,x,U)}return _2=w,_2}var w2,hj;function Mge(){if(hj)return w2;hj=1;var t=Z0(),e=Qq(),n=ZB(),r=Lge(),i=ys(),a=Dm(),s=n9();function o(l,c,h,p,m){l!==c&&n(c,function(y,v){if(m||(m=new t),i(y))r(l,c,v,h,o,p,m);else{var w=p?p(s(l,v),y,v+"",l,c,m):void 0;w===void 0&&(w=y),e(l,v,w)}},a)}return w2=o,w2}var b2,pj;function r9(){if(pj)return b2;pj=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return b2=t,b2}var S2,gj;function i9(){if(gj)return S2;gj=1;var t=r9(),e=Math.max;function n(r,i,a){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,o=-1,l=e(s.length-i,0),c=Array(l);++o<l;)c[o]=s[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=s[o];return h[i]=a(c),t(r,this,h)}}return S2=n,S2}var x2,mj;function Dge(){if(mj)return x2;mj=1;function t(e){return function(){return e}}return x2=t,x2}var E2,yj;function kge(){if(yj)return E2;yj=1;var t=Dge(),e=QB(),n=QR(),r=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return E2=r,E2}var T2,vj;function Nge(){if(vj)return T2;vj=1;var t=800,e=16,n=Date.now;function r(i){var a=0,s=0;return function(){var o=n(),l=e-(o-s);if(s=o,l>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return T2=r,T2}var C2,_j;function a9(){if(_j)return C2;_j=1;var t=kge(),e=Nge(),n=e(t);return C2=n,C2}var A2,wj;function s9(){if(wj)return A2;wj=1;var t=QR(),e=i9(),n=a9();function r(i,a){return n(e(i,a,t),i+"")}return A2=r,A2}var R2,bj;function Fge(){if(bj)return R2;bj=1;var t=Pm(),e=ew(),n=X0(),r=ys();function i(a,s,o){if(!r(o))return!1;var l=typeof s;return(l=="number"?e(o)&&n(s,o.length):l=="string"&&s in o)?t(o[s],a):!1}return R2=i,R2}var P2,Sj;function jge(){if(Sj)return P2;Sj=1;var t=s9(),e=Fge();function n(r){return t(function(i,a){var s=-1,o=a.length,l=o>1?a[o-1]:void 0,c=o>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(o--,l):void 0,c&&e(a[0],a[1],c)&&(l=o<3?void 0:l,o=1),i=Object(i);++s<o;){var h=a[s];h&&r(i,h,s,l)}return i})}return P2=n,P2}var O2,xj;function $ge(){if(xj)return O2;xj=1;var t=Mge(),e=jge(),n=e(function(r,i,a){t(r,i,a)});return O2=n,O2}var Uge=$ge();const Hd=kr(Uge);class Us extends Error{constructor(n,r){super(n);y1(this,"status");y1(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,Us.prototype)}}var I2,Ej;function o9(){if(Ej)return I2;Ej=1;var t=Im();function e(n,r,i){for(var a=-1,s=n.length;++a<s;){var o=n[a],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,h=o}return h}return I2=e,I2}var L2,Tj;function Bge(){if(Tj)return L2;Tj=1;function t(e,n){return e>n}return L2=t,L2}var M2,Cj;function qge(){if(Cj)return M2;Cj=1;var t=o9(),e=Bge(),n=ZR();function r(i,a){return i&&i.length?t(i,n(a,2),e):void 0}return M2=r,M2}var zge=qge();const Hge=kr(zge),Vge=(t,e)=>nr(t,{cache:"no-store",...e}),u9=t=>NR(t,Vge),Kge=t=>{const e=ne.useMemo(()=>({queries:t.map(r=>kl(r)).map(r=>({queryKey:[zr.rdfDocument,r],queryFn:()=>u9(r)}))}),[t]);return Kg(e)},Gge=()=>{const t=Si();return Ra({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await $s(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:vh(t)})},Bs=t=>{const e=Si();return Ra({mutationFn:async({uri:r,data:i,language:a="en",method:s="PUT",throwOnHttpError:o=!1})=>{const l=or.createLdoDataset();if(Array.isArray(i))i.forEach(y=>{const v=l.usingType(t).fromSubject(y["@id"]);or.setLanguagePreferences(a).using(v),Hd(v,y)});else{const y=l.usingType(t).fromSubject(i["@id"]);or.setLanguagePreferences(a).using(y),Hd(y,i)}const c=await or.toTurtle(l.usingType(t).fromSubject("")),h={"content-type":"text/turtle"};s==="PUT"&&(h["If-None-Match"]="*");const p=await $s(r,{method:s,body:c,headers:h});if(o&&!p.ok)throw new Us(p.statusText,p);return p.headers.get("location")},onSuccess:vh(e)})},Ks=()=>{const t=Si();return Ra({mutationFn:async({uri:n,patch:r})=>{const i=await $s(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:vh(t,n=>n.status===201)})},df=t=>{const e=Si();return Ra({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:s="en"})=>{const o=await $s(n);let l="";o.ok&&(l=await o.text());const h=(await or.parseRdf(l,{baseIRI:n})).usingType(t);let p="";if(r){const m=h.fromSubject(r);or.setLanguagePreferences(s).using(m),or.startTransaction(m),a(m),p=await pA(m)}else if(i){const m=h.matchSubject(i.predicate,i.object,i.graph);or.setLanguagePreferences(s).using(m),or.startTransaction(m),a(m),p=await pA(m)}return await $s(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:vh(e,n=>n.status===201)})},Wge=t=>{const e=Si();return Ra({mutationFn:async({uri:n,match:r,transform:i,language:a="en"})=>{const s=await $s(n);let o="";s.ok&&(o=await s.text());const c=(await or.parseRdf(o,{baseIRI:n})).usingType(t),h=r(c);or.setLanguagePreferences(a).using(h),or.startTransaction(h),i(h);const p=await pA(h);return await $s(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:vh(e,n=>n.status===201)})},cw=()=>{const t=Si();return Ra({mutationFn:async({uri:n})=>{await $s(n,{method:"DELETE"})},onSuccess:vh(t)})},Qge=(t,e)=>{const n=Zfe(t),r=e.getQueryCache().getAll().filter(a=>a.queryKey[0]===zr.rdfDocument&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return Hge(r,a=>a.length)},vh=(t,e=()=>!0)=>(n,r)=>{const i=kl(r.uri);if(t.invalidateQueries({queryKey:[zr.rdfDocument,i]}),t.invalidateQueries({queryKey:[zr.rdfDocument,gB(i)]}),e(n)){const a=Qge(i,t);a&&t.invalidateQueries({queryKey:[zr.rdfDocument,a]})}},qs=(t,e)=>{const n=ha(ne.useMemo(()=>({query:iP,variables:{person:t?[t]:[],community:[e]},fetch:nr}),[e,t])),{variables:r,isLoading:i}=n,a=ha(ne.useMemo(()=>({query:Bq,variables:{person:t?[t]:[]},fetch:nr}),[t])),s=ne.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(b=>new wo(n.quads).getQuads(null,null,null,new Qr(b))).map(b=>or.createLdoDataset(b).usingType(uw).fromSubject(t)),[n.quads,r.hospexDocumentForCommunity,t]),o=ne.useMemo(()=>{const{quads:v}=a;return or.createLdoDataset(v).usingType(Ege).fromSubject(t)},[a,t]),l=ne.useMemo(()=>Hd({},WF(o),...s.map(v=>WF(v))),[o,s]),c=ne.useMemo(()=>s.map(v=>or.languagesOf(v,"note")),[s]),[h]=ne.useMemo(()=>c.map(v=>{var w;return((w=v==null?void 0:v.en)==null?void 0:w.values().next().value)??""}),[c]),p=ne.useMemo(()=>{var v,w;return{id:t,name:l.name??"",photo:(v=l.hasPhoto)==null?void 0:v["@id"],about:h,interests:((w=l.topicInterest)==null?void 0:w.map(E=>E["@id"]))??[]}},[h,l.hasPhoto,l.name,l.topicInterest,t]),m=ne.useMemo(()=>{var v,w,E,b,x;return s.length>0?{id:t,name:((v=s[0])==null?void 0:v.name)??"",photo:(E=(w=s[0])==null?void 0:w.hasPhoto)==null?void 0:E["@id"],about:(x=(b=s[0])==null?void 0:b.note)==null?void 0:x[0]}:void 0},[s,t]),y=ne.useMemo(()=>new wo(n.quads).getQuads(new Qr(t),new Qr(Ol.topic_interest),null,null).map(v=>({id:v.object.id,document:v.graph.id})),[n,t]);return ne.useMemo(()=>{var v;return[p,i,(v=r.hospexDocumentForCommunity)==null?void 0:v[0],y,m]},[m,y,i,p,r.hospexDocumentForCommunity])},l9=t=>{const{quads:e,isFetched:n}=ha(ne.useMemo(()=>({query:mh,variables:{person:[t]},fetch:nr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[t]));return ne.useMemo(()=>[or.createLdoDataset(e).usingType(Kq).fromSubject(t),{isFetched:n}],[n,t,e])},Zge=()=>{const t=df(uw);return ne.useCallback(async({personId:e,hospexDocument:n,data:r,language:i="en"})=>{await t.mutateAsync({uri:n,subject:e,language:i,transform:a=>{r.name&&(a.name=r.name),r.about&&(a.note=[r.about]),r.photo&&(a.hasPhoto={"@id":r.photo})}})},[t])},Jge=()=>{const t=Ks();return ne.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${e}> <${Ol.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])},Yge=()=>{const t=Ks();return ne.useCallback(async({person:e,document:n,interest:r})=>{const i=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.deletes}> { <${e}> <${Ol.topic_interest}> <${r}>. } .`;await t.mutateAsync({uri:n,patch:i})},[t])};var D2,Aj;function Xge(){if(Aj)return D2;Aj=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i&&n(e[r],r,e)!==!1;);return e}return D2=t,D2}var k2,Rj;function eme(){if(Rj)return k2;Rj=1;var t=yh(),e=Om();function n(r,i){return r&&t(i,e(i),r)}return k2=n,k2}var N2,Pj;function tme(){if(Pj)return N2;Pj=1;var t=yh(),e=Dm();function n(r,i){return r&&t(i,e(i),r)}return N2=n,N2}var F2,Oj;function nme(){if(Oj)return F2;Oj=1;var t=yh(),e=BR();function n(r,i){return t(r,e(r),i)}return F2=n,F2}var j2,Ij;function c9(){if(Ij)return j2;Ij=1;var t=UR(),e=sP(),n=BR(),r=zB(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,n(s)),s=e(s);return o}:r;return j2=a,j2}var $2,Lj;function rme(){if(Lj)return $2;Lj=1;var t=yh(),e=c9();function n(r,i){return t(r,e(r),i)}return $2=n,$2}var U2,Mj;function f9(){if(Mj)return U2;Mj=1;var t=BB(),e=c9(),n=Dm();function r(i){return t(i,n,e)}return U2=r,U2}var B2,Dj;function ime(){if(Dj)return B2;Dj=1;var t=Object.prototype,e=t.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&e.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return B2=n,B2}var q2,kj;function ame(){if(kj)return q2;kj=1;var t=aP();function e(n,r){var i=r?t(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return q2=e,q2}var z2,Nj;function sme(){if(Nj)return z2;Nj=1;var t=/\w*$/;function e(n){var r=new n.constructor(n.source,t.exec(n));return r.lastIndex=n.lastIndex,r}return z2=e,z2}var H2,Fj;function ome(){if(Fj)return H2;Fj=1;var t=ch(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return H2=r,H2}var V2,jj;function ume(){if(jj)return V2;jj=1;var t=aP(),e=ame(),n=sme(),r=ome(),i=Jq(),a="[object Boolean]",s="[object Date]",o="[object Map]",l="[object Number]",c="[object RegExp]",h="[object Set]",p="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",E="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";function Z(X,U,J){var ce=X.constructor;switch(U){case y:return t(X);case a:case s:return new ce(+X);case v:return e(X,J);case w:case E:case b:case x:case A:case I:case M:case D:case F:return i(X,J);case o:return new ce;case l:case p:return new ce(X);case c:return n(X);case h:return new ce;case m:return r(X)}}return V2=Z,V2}var K2,$j;function lme(){if($j)return K2;$j=1;var t=tw(),e=bu(),n="[object Map]";function r(i){return e(i)&&t(i)==n}return K2=r,K2}var G2,Uj;function cme(){if(Uj)return G2;Uj=1;var t=lme(),e=zR(),n=HR(),r=n&&n.isMap,i=r?e(r):t;return G2=i,G2}var W2,Bj;function fme(){if(Bj)return W2;Bj=1;var t=tw(),e=bu(),n="[object Set]";function r(i){return e(i)&&t(i)==n}return W2=r,W2}var Q2,qj;function dme(){if(qj)return Q2;qj=1;var t=fme(),e=zR(),n=HR(),r=n&&n.isSet,i=r?e(r):t;return Q2=i,Q2}var Z2,zj;function d9(){if(zj)return Z2;zj=1;var t=Z0(),e=Xge(),n=oP(),r=eme(),i=tme(),a=Zq(),s=Yq(),o=nme(),l=rme(),c=GB(),h=f9(),p=tw(),m=ime(),y=ume(),v=Xq(),w=Vs(),E=Y0(),b=cme(),x=ys(),A=dme(),I=Om(),M=Dm(),D=1,F=2,Z=4,X="[object Arguments]",U="[object Array]",J="[object Boolean]",ce="[object Date]",re="[object Error]",ue="[object Function]",me="[object GeneratorFunction]",be="[object Map]",he="[object Number]",fe="[object Object]",Oe="[object RegExp]",k="[object Set]",ie="[object String]",ge="[object Symbol]",H="[object WeakMap]",Y="[object ArrayBuffer]",pe="[object DataView]",Ae="[object Float32Array]",Je="[object Float64Array]",Re="[object Int8Array]",Fe="[object Int16Array]",Xe="[object Int32Array]",se="[object Uint8Array]",z="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",W={};W[X]=W[U]=W[Y]=W[pe]=W[J]=W[ce]=W[Ae]=W[Je]=W[Re]=W[Fe]=W[Xe]=W[be]=W[he]=W[fe]=W[Oe]=W[k]=W[ie]=W[ge]=W[se]=W[z]=W[$]=W[ae]=!0,W[re]=W[ue]=W[H]=!1;function de(ye,He,Te,Ne,tt,nt){var gt,qt=He&D,Se=He&F,Be=He&Z;if(Te&&(gt=tt?Te(ye,Ne,tt,nt):Te(ye)),gt!==void 0)return gt;if(!x(ye))return ye;var ee=w(ye);if(ee){if(gt=m(ye),!qt)return s(ye,gt)}else{var q=p(ye),K=q==ue||q==me;if(E(ye))return a(ye,qt);if(q==fe||q==X||K&&!tt){if(gt=Se||K?{}:v(ye),!qt)return Se?l(ye,i(gt,ye)):o(ye,r(gt,ye))}else{if(!W[q])return tt?ye:{};gt=y(ye,q,qt)}}nt||(nt=new t);var V=nt.get(ye);if(V)return V;nt.set(ye,gt),A(ye)?ye.forEach(function(ke){gt.add(de(ke,He,Te,ke,ye,nt))}):b(ye)&&ye.forEach(function(ke,Rt){gt.set(Rt,de(ke,He,Te,Rt,ye,nt))});var je=Be?Se?h:c:Se?M:I,Ze=ee?void 0:je(ye);return e(Ze||ye,function(ke,Rt){Ze&&(Rt=ke,ke=ye[Rt]),n(gt,Rt,de(ke,He,Te,Rt,ye,nt))}),gt}return Z2=de,Z2}var J2,Hj;function hme(){if(Hj)return J2;Hj=1;var t=d9(),e=1,n=4;function r(i){return t(i,e|n)}return J2=r,J2}var pme=hme();const gme=kr(pme),mme=t=>{const{quads:e,variables:n}=ha(ne.useMemo(()=>({query:pge,variables:{person:[t]},staleTime:3e4,fetch:nr}),[t])),r=ne.useMemo(()=>{const i=or.createLdoDataset(e).usingType(zd);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var h,p,m;const s=a["@id"],o=((h=a.participation)==null?void 0:h.flatMap(y=>{var v;return((v=y.references)==null?void 0:v.flatMap(w=>w["@id"]??[]).filter(w=>!!w))??[]}))??[],l=((p=a.participation)==null?void 0:p.map(y=>y.participant["@id"]))??[],c=[a,...(((m=a.participation)==null?void 0:m.flatMap(y=>y.references))??[]).filter(y=>y)].flatMap(y=>(y.message??[]).map(v=>({id:v["@id"],message:v.content,createdAt:new Date(v.created).getTime(),from:v.maker["@id"],chat:y["@id"]})).sort((v,w)=>v.createdAt-w.createdAt));return{id:s,related:o,participants:l,messages:c}}).sort((a,s)=>{var o,l;return(((o=[...s.messages].pop())==null?void 0:o.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[e,n.chat]);return ne.useMemo(()=>({data:r}),[r])},fw=t=>{const{quads:e,variables:n,isLoading:r}=ha(ne.useMemo(()=>({query:cge,variables:{person:t?[t]:[]},fetch:nr,staleTime:3e4}),[t])),i=ne.useMemo(()=>(n.longChatNotification??[]).map(a=>{var o,l,c,h;const s=or.createLdoDataset(e).usingType(Gq).fromSubject(a);return{id:s.object["@id"]??"",message:s.object.content,createdAt:new Date(((o=s.object)==null?void 0:o.created)??s.updated).getTime(),from:((l=s.object.maker)==null?void 0:l["@id"])??((c=s.actor)==null?void 0:c["@id"]),chat:s.target["@id"]??"",otherChats:(h=s.target.participation)==null?void 0:h.flatMap(p=>{var m;return((m=p.references)==null?void 0:m.flatMap(y=>y["@id"]??[]))??[]}),notification:s["@id"],status:"unread"}}),[e,n.longChatNotification]);return ne.useMemo(()=>({isLoading:r,data:i}),[r,i])},yme=t=>{const{data:e}=mme(t),{data:n}=fw(t);return{data:ne.useMemo(()=>{const i=gme(e);n.forEach(a=>{const s=i.find(o=>{var l;return o.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(o.id))});if(s){s.status="unread";const o=s.messages.findIndex(l=>l.id===a.id);o>-1?s.messages[o]=a:s.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((s,o)=>((s==null?void 0:s.createdAt)??0)-((o==null?void 0:o.createdAt)??0));return i.sort((a,s)=>{var o,l;return(((o=[...s.messages].pop())==null?void 0:o.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,e])}};function Zr(){return Zr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zr.apply(this,arguments)}function tf(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Y2={exports:{}},X2,Vj;function vme(){if(Vj)return X2;Vj=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return X2=t,X2}var eT,Kj;function _me(){if(Kj)return eT;Kj=1;var t=vme();function e(){}function n(){}return n.resetWarningCache=e,eT=function(){function r(s,o,l,c,h,p){if(p!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},eT}var Gj;function h9(){return Gj||(Gj=1,Y2.exports=_me()()),Y2.exports}var tm=QA(),p9=function(e){return!!e&&e[0]==="o"},Wj=tm.unstable_batchedUpdates||function(t){return t()},ed=function(e,n,r){return r===void 0&&(r=1e-4),Math.abs(e-n)<r},nm=function(e,n){return e===!0||!!(e&&e[n])},gs=function(e,n){return typeof e=="function"?e(n):e},g9="_szhsinMenu",wme=function(e){return e[g9]},bme=function(e,n){return Object.defineProperty(n,g9,{value:e})},dw=function(e,n){return n&&Object.keys(n).forEach(function(r){var i=e[r],a=n[r];typeof a=="function"&&i?e[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:e[r]=a}),e},Sme=function(e){if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};var n=e.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},tT=function(e){for(;e;){if(e=e.parentNode,!e||e===document.body)return;var n=getComputedStyle(e),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return e}};function m9(t,e){return{"aria-disabled":t||void 0,tabIndex:e?0:-1}}function Qj(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var Vd=function(e){var n=e.block,r=e.element,i=e.modifiers,a=e.className;return ne.useMemo(function(){var s=r?n+"__"+r:n,o=s;i&&Object.keys(i).forEach(function(c){var h=i[c];h&&(o+=" "+s+"--"+(h===!0?c:c+"-"+h))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(o+=" "+l)),o},[n,r,i,a])},xme="szh-menu-container",$g="szh-menu",Eme="szh-menu-button",Tme="arrow",Cme="item",Ame="divider",y9=ne.createContext(),v9=ne.createContext({}),Zj=ne.createContext({}),_9=ne.createContext({}),Rme=ne.createContext({}),w9=ne.createContext({}),b9=ne.createContext({}),Ns=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),_i=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),rm=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Ug=Object.freeze({FIRST:"first",LAST:"last"}),Pme=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Ome=["className","isOpen","disabled","children"],Ime=bme("MenuButton",ne.forwardRef(function(e,n){var r=e.className,i=e.isOpen,a=e.disabled,s=e.children,o=tf(e,Ome),l=ne.useMemo(function(){return{open:i}},[i]);return Q.jsx("button",Zr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},o,{ref:n,className:Vd({block:Eme,modifiers:l,className:r}),children:s}))})),Lme=function(e){var n=e.className,r=e.containerRef,i=e.containerProps,a=e.children,s=e.isOpen,o=e.skipOpen,l=e.theming,c=e.transition,h=e.onClose,p=nm(c,"item"),m=function(w){var E=w.key;switch(E){case Ns.ESC:gs(h,{key:E,reason:rm.CANCEL});break}},y=function(w){s&&!w.currentTarget.contains(w.relatedTarget||document.activeElement)&&(gs(h,{reason:rm.BLUR}),o&&(o.current=!0,setTimeout(function(){return o.current=!1},300)))};return Q.jsx("div",Zr({},dw({onKeyDown:m,onBlur:y},i),{className:Vd({block:xme,modifiers:ne.useMemo(function(){return{theme:l,itemTransition:p}},[l,p]),className:n}),style:Zr({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},Mme=function(e,n){var r=ne.useState(),i=r[0],a=r[1],s=ne.useRef({items:[],hoverIndex:-1,sorted:!1}),o=s.current,l=ne.useCallback(function(h,p){var m=o.items;if(!h)o.items=[];else if(p)m.push(h);else{var y=m.indexOf(h);y>-1&&(m.splice(y,1),h.contains(document.activeElement)&&(n.current.focus(),a()))}o.hoverIndex=-1,o.sorted=!1},[o,n]),c=ne.useCallback(function(h,p,m){var y=o.items,v=o.hoverIndex,w=function(){if(!o.sorted){var A=e.current.querySelectorAll(".szh-menu__item");y.sort(function(I,M){return Qj(A,I)-Qj(A,M)}),o.sorted=!0}},E=-1,b=void 0;switch(h){case _i.RESET:break;case _i.SET:b=p;break;case _i.UNSET:b=function(A){return A===p?void 0:A};break;case _i.FIRST:w(),E=0,b=y[E];break;case _i.LAST:w(),E=y.length-1,b=y[E];break;case _i.SET_INDEX:w(),E=m,b=y[E];break;case _i.INCREASE:w(),E=v,E<0&&(E=y.indexOf(p)),E++,E>=y.length&&(E=0),b=y[E];break;case _i.DECREASE:w(),E=v,E<0&&(E=y.indexOf(p)),E--,E<0&&(E=y.length-1),b=y[E];break}b||(E=-1),a(b),o.hoverIndex=E},[e,o]);return{hoverItem:i,dispatch:c,updateItems:l}},Dme=function(e,n,r,i){var a=n.current.getBoundingClientRect(),s=e.current.getBoundingClientRect(),o=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=Sme(i),c=function(E){return E+s.left-o.left-l.left},h=function(E){return E+s.left+a.width-o.right+l.right},p=function(E){return E+s.top-o.top-l.top},m=function(E){return E+s.top+a.height-o.bottom+l.bottom},y=function(E){var b=c(E);if(b<0)E-=b;else{var x=h(E);x>0&&(E-=x,b=c(E),b<0&&(E-=b))}return E},v=function(E){var b=p(E);if(b<0)E-=b;else{var x=m(E);x>0&&(E-=x,b=p(E),b<0&&(E-=b))}return E};return{menuRect:a,containerRect:s,getLeftOverflow:c,getRightOverflow:h,getTopOverflow:p,getBottomOverflow:m,confineHorizontally:y,confineVertically:v}},kme=function(e){var n=e.arrowRef,r=e.menuY,i=e.anchorRect,a=e.containerRect,s=e.menuRect,o=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return o=Math.max(l,o),o=Math.min(o,s.height-l),o},Nme=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeLeftorRightY,s=e.placeLeftX,o=e.placeRightX,l=e.getLeftOverflow,c=e.getRightOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,v=e.direction,w=e.position,E=v,b=a;w!=="initial"&&(b=p(b),w==="anchor"&&(b=Math.min(b,n.bottom-r.top),b=Math.max(b,n.top-r.top-i.height)));var x,A,I;E==="left"?(x=s,w!=="initial"&&(A=l(x),A<0&&(I=c(o),(I<=0||-A>I)&&(x=o,E="right")))):(x=o,w!=="initial"&&(I=c(x),I>0&&(A=l(s),(A>=0||-A<I)&&(x=s,E="left")))),w==="auto"&&(x=h(x));var M=y?kme({menuY:b,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:M,x,y:b,computedDirection:E}},Fme=function(e){var n=e.arrowRef,r=e.menuX,i=e.anchorRect,a=e.containerRect,s=e.menuRect,o=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return o=Math.max(l,o),o=Math.min(o,s.width-l),o},jme=function(e){var n=e.anchorRect,r=e.containerRect,i=e.menuRect,a=e.placeToporBottomX,s=e.placeTopY,o=e.placeBottomY,l=e.getTopOverflow,c=e.getBottomOverflow,h=e.confineHorizontally,p=e.confineVertically,m=e.arrowRef,y=e.arrow,v=e.direction,w=e.position,E=v==="top"?"top":"bottom",b=a;w!=="initial"&&(b=h(b),w==="anchor"&&(b=Math.min(b,n.right-r.left),b=Math.max(b,n.left-r.left-i.width)));var x,A,I;E==="top"?(x=s,w!=="initial"&&(A=l(x),A<0&&(I=c(o),(I<=0||-A>I)&&(x=o,E="bottom")))):(x=o,w!=="initial"&&(I=c(x),I>0&&(A=l(s),(A>=0||-A<I)&&(x=s,E="top")))),w==="auto"&&(x=p(x));var M=y?Fme({menuX:b,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:M,x:b,y:x,computedDirection:E}},$me=function(e){var n=e.arrow,r=e.align,i=e.direction,a=e.offsetX,s=e.offsetY,o=e.position,l=e.anchorRect,c=e.arrowRef,h=e.positionHelpers,p=h.menuRect,m=h.containerRect,y=a,v=s;n&&(i==="left"||i==="right"?y+=c.current.offsetWidth:v+=c.current.offsetHeight);var w=l.left-m.left-p.width-y,E=l.right-m.left+y,b=l.top-m.top-p.height-v,x=l.bottom-m.top+v,A,I;r==="end"?(A=l.right-m.left-p.width,I=l.bottom-m.top-p.height):r==="center"?(A=l.left-m.left-(p.width-l.width)/2,I=l.top-m.top-(p.height-l.height)/2):(A=l.left-m.left,I=l.top-m.top),A+=y,I+=v;var M=Zr({},h,{anchorRect:l,placeLeftX:w,placeRightX:E,placeLeftorRightY:I,placeTopY:b,placeBottomY:x,placeToporBottomX:A,arrowRef:c,arrow:n,direction:i,position:o});switch(i){case"left":case"right":return Nme(M);case"top":case"bottom":default:return jme(M)}},D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ne.useLayoutEffect:ne.useEffect;function Jj(t,e){typeof t=="function"?t(e):t.current=e}var uP=function(e,n){return ne.useMemo(function(){return e?n?function(r){Jj(e,r),Jj(n,r)}:e:n},[e,n])},Ume=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],Bme=function(e){var n=e.ariaLabel,r=e.menuClassName,i=e.menuStyle,a=e.arrowClassName,s=e.arrowStyle,o=e.anchorPoint,l=e.anchorRef,c=e.containerRef,h=e.containerProps,p=e.focusProps,m=e.externalRef,y=e.parentScrollingRef,v=e.arrow,w=e.align,E=w===void 0?"start":w,b=e.direction,x=b===void 0?"bottom":b,A=e.position,I=A===void 0?"auto":A,M=e.overflow,D=M===void 0?"visible":M,F=e.setDownOverflow,Z=e.repositionFlag,X=e.captureFocus,U=X===void 0?!0:X,J=e.state,ce=e.endTransition,re=e.isDisabled,ue=e.menuItemFocus,me=e.offsetX,be=me===void 0?0:me,he=e.offsetY,fe=he===void 0?0:he,Oe=e.children,k=e.onClose,ie=tf(e,Ume),ge=ne.useState({x:0,y:0}),H=ge[0],Y=ge[1],pe=ne.useState({}),Ae=pe[0],Je=pe[1],Re=ne.useState(),Fe=Re[0],Xe=Re[1],se=ne.useState(x),z=se[0],$=se[1],ae=ne.useState(0),W=ae[0],de=ae[1],ye=ne.useReducer(function(it){return it+1},1),He=ye[0],Te=ye[1],Ne=ne.useContext(w9),tt=Ne.transition,nt=Ne.boundingBoxRef,gt=Ne.boundingBoxPadding,qt=Ne.rootMenuRef,Se=Ne.rootAnchorRef,Be=Ne.scrollNodesRef,ee=Ne.reposition,q=Ne.viewScroll,K=ne.useContext(Zj).reposSubmenu||Z,V=ne.useRef(null),je=ne.useRef(),Ze=ne.useRef(),ke=ne.useRef(!1),Rt=ne.useRef({width:0,height:0}),It=ne.useRef(function(){}),Nt=Mme(V,je),Pt=Nt.hoverItem,zt=Nt.dispatch,Cr=Nt.updateItems,dn=p9(J),hn=nm(tt,"open"),gr=nm(tt,"close"),un=Be.current,ln=function(Tt){switch(Tt.key){case Ns.HOME:zt(_i.FIRST);break;case Ns.END:zt(_i.LAST);break;case Ns.UP:zt(_i.DECREASE,Pt);break;case Ns.DOWN:zt(_i.INCREASE,Pt);break;case Ns.SPACE:Tt.target&&Tt.target.className.indexOf($g)!==-1&&Tt.preventDefault();return;default:return}Tt.preventDefault(),Tt.stopPropagation()},Ln=function(){J==="closing"&&Xe(),gs(ce)},ur=ne.useCallback(function(it){var Tt,Dt=l?(Tt=l.current)==null?void 0:Tt.getBoundingClientRect():o?{left:o.x,right:o.x,top:o.y,bottom:o.y,width:0,height:0}:null;if(Dt){un.menu||(un.menu=(nt?nt.current:tT(qt.current))||window);var Gt=Dme(c,V,un.menu,gt),Xt=$me({arrow:v,align:E,direction:x,offsetX:be,offsetY:fe,position:I,anchorRect:Dt,arrowRef:Ze,positionHelpers:Gt}),Ht=Xt.arrowX,jt=Xt.arrowY,tn=Xt.x,Pn=Xt.y,Wt=Xt.computedDirection,Zt=Gt.menuRect,En=Zt.height;if(!it&&D!=="visible"){var Tn=Gt.getTopOverflow,qn=Gt.getBottomOverflow,Ar,Vr,Kr=Rt.current.height,Ir=qn(Pn);if(Ir>0||ed(Ir,0)&&ed(En,Kr))Ar=En-Ir,Vr=Ir;else{var $n=Tn(Pn);($n<0||ed($n,0)&&ed(En,Kr))&&(Ar=En+$n,Vr=0-$n,Ar>=0&&(Pn-=$n))}Ar>=0?(En=Ar,Xe({height:Ar,overflowAmt:Vr})):Xe()}v&&Je({x:Ht,y:jt}),Y({x:tn,y:Pn}),$(Wt),Rt.current={width:Zt.width,height:En}}},[v,E,gt,x,be,fe,I,D,o,l,c,nt,qt,un]);D_(function(){dn&&(ur(),ke.current&&Te()),ke.current=dn,It.current=ur},[dn,ur,K]),D_(function(){Fe&&!F&&(V.current.scrollTop=0)},[Fe,F]),D_(function(){return Cr},[Cr]),ne.useEffect(function(){var it=un.menu;if(!(!dn||!it)){if(it=it.addEventListener?it:window,!un.anchors){un.anchors=[];for(var Tt=tT(Se&&Se.current);Tt&&Tt!==it;)un.anchors.push(Tt),Tt=tT(Tt)}var Dt=q;if(un.anchors.length&&Dt==="initial"&&(Dt="auto"),Dt!=="initial"){var Gt=function(){Dt==="auto"?Wj(function(){return ur(!0)}):gs(k,{reason:rm.SCROLL})},Xt=un.anchors.concat(q!=="initial"?it:[]);return Xt.forEach(function(Ht){return Ht.addEventListener("scroll",Gt)}),function(){return Xt.forEach(function(Ht){return Ht.removeEventListener("scroll",Gt)})}}}},[Se,un,dn,k,q,ur]);var Ie=!!Fe&&Fe.overflowAmt>0;ne.useEffect(function(){if(!(Ie||!dn||!y)){var it=function(){return Wj(ur)},Tt=y.current;return Tt.addEventListener("scroll",it),function(){return Tt.removeEventListener("scroll",it)}}},[dn,Ie,y,ur]),ne.useEffect(function(){if(!(typeof ResizeObserver!="function"||ee==="initial")){var it=new ResizeObserver(function(Dt){var Gt=Dt[0],Xt=Gt.borderBoxSize,Ht=Gt.target,jt,tn;if(Xt){var Pn=Xt[0]||Xt,Wt=Pn.inlineSize,Zt=Pn.blockSize;jt=Wt,tn=Zt}else{var En=Ht.getBoundingClientRect();jt=En.width,tn=En.height}jt===0||tn===0||ed(jt,Rt.current.width,1)&&ed(tn,Rt.current.height,1)||tm.flushSync(function(){It.current(),Te()})}),Tt=V.current;return it.observe(Tt,{box:"border-box"}),function(){return it.unobserve(Tt)}}},[ee]),ne.useEffect(function(){if(!dn){zt(_i.RESET),gr||Xe();return}var it=ue||{},Tt=it.position,Dt=it.alwaysUpdate,Gt=function(){Tt===Ug.FIRST?zt(_i.FIRST):Tt===Ug.LAST?zt(_i.LAST):Tt>=-1&&zt(_i.SET_INDEX,void 0,Tt)};if(Dt)Gt();else if(U){var Xt=setTimeout(function(){V.current.contains(document.activeElement)||(je.current.focus(),Gt())},hn?170:100);return function(){return clearTimeout(Xt)}}},[dn,hn,gr,U,ue,zt]);var qe=W>0,bt=ne.useMemo(function(){return{isParentOpen:dn,isSubmenuOpen:qe,setOpenSubmenuCount:de,dispatch:zt,updateItems:Cr}},[dn,qe,zt,Cr]),Et,Mt;Fe&&(F?Mt=Fe.overflowAmt:Et=Fe.height);var Hn=ne.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:Mt,parentMenuRef:V,parentDir:z}},[He,D,Mt,z]),Jn=Et>=0?{maxHeight:Et,overflow:D}:void 0,We=ne.useMemo(function(){return{state:J,dir:z}},[J,z]),Ee=ne.useMemo(function(){return{dir:z}},[z]),et=Vd({block:$g,element:Tme,modifiers:Ee,className:a}),ft=Q.jsxs("ul",Zr({role:"menu","aria-label":n},m9(re),dw({onKeyDown:ln,onAnimationEnd:Ln},ie),{ref:uP(m,V),className:Vd({block:$g,modifiers:We,className:r}),style:Zr({},i,Jn,{margin:0,display:J==="closed"?"none":void 0,position:"absolute",left:H.x,top:H.y}),children:[Q.jsx("div",Zr({tabIndex:-1,style:{position:"absolute",left:0,top:0}},p,{ref:je})),v&&Q.jsx("div",{className:et,style:Zr({},s,{position:"absolute",left:Ae.x,top:Ae.y}),ref:Ze}),Q.jsx(Zj.Provider,{value:Hn,children:Q.jsx(v9.Provider,{value:bt,children:Q.jsx(y9.Provider,{value:Pt,children:Oe})})})]}));return h?Q.jsx(Lme,Zr({},h,{isOpen:dn,children:ft})):ft},qme=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],zme=ne.forwardRef(function(e,n){var r=e["aria-label"],i=e.className,a=e.containerProps,s=e.initialMounted,o=e.unmountOnClose,l=e.transition,c=e.transitionTimeout,h=e.boundingBoxRef,p=e.boundingBoxPadding,m=e.reposition,y=m===void 0?"auto":m,v=e.submenuOpenDelay,w=v===void 0?300:v,E=e.submenuCloseDelay,b=E===void 0?150:E,x=e.skipOpen,A=e.viewScroll,I=A===void 0?"initial":A,M=e.portal,D=e.theming,F=e.onItemClick,Z=tf(e,qme),X=ne.useRef(null),U=ne.useRef({}),J=Z.anchorRef,ce=Z.state,re=Z.onClose,ue=ne.useMemo(function(){return{initialMounted:s,unmountOnClose:o,transition:l,transitionTimeout:c,boundingBoxRef:h,boundingBoxPadding:p,rootMenuRef:X,rootAnchorRef:J,scrollNodesRef:U,reposition:y,viewScroll:I}},[s,o,l,c,J,h,p,y,I]),me=ne.useMemo(function(){return{submenuOpenDelay:w,submenuCloseDelay:b}},[w,b]),be=ne.useMemo(function(){return{handleClick:function(Oe,k){Oe.stopPropagation||gs(F,Oe);var ie=Oe.keepOpen;ie===void 0&&(ie=k&&Oe.key===Ns.SPACE),ie||gs(re,{value:Oe.value,key:Oe.key,reason:rm.CLICK})},handleClose:function(Oe){gs(re,{key:Oe,reason:rm.CLICK})}}},[F,re]);if(!ce)return null;var he=Q.jsx(w9.Provider,{value:ue,children:Q.jsx(b9.Provider,{value:me,children:Q.jsx(_9.Provider,{value:be,children:Q.jsx(Bme,Zr({},Z,{ariaLabel:r||"Menu",externalRef:n,containerRef:X,containerProps:{className:i,containerRef:X,containerProps:a,skipOpen:x,theming:D,transition:l,onClose:re}}))})})});return M===!0&&typeof document<"u"?tm.createPortal(he,document.body):M?M.target?tm.createPortal(he,M.target):M.stablePosition?null:he:he}),nT=0,rT=1,yv=2,iT=3,aT=4,Hme=5,Vme=6,S9=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],sT=function(e){return e?Vme:Hme},Yj=function(e,n,r,i,a){clearTimeout(i.current),n(e),r.current=e,a&&a({state:S9[e]})},Kme=function(e){var n=e===void 0?{}:e,r=n.enter,i=r===void 0?!0:r,a=n.exit,s=a===void 0?!0:a,o=n.preEnter,l=n.preExit,c=n.timeout,h=n.initialEntered,p=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,v=ne.useState(h?yv:sT(p)),w=v[0],E=v[1],b=ne.useRef(w),x=ne.useRef(),A,I;typeof c=="object"?(A=c.enter,I=c.exit):A=I=c;var M=ne.useCallback(function(){var F;switch(b.current){case rT:case nT:F=yv;break;case aT:case iT:F=sT(m);break}F!==void 0&&Yj(F,E,b,x,y)},[y,m]),D=ne.useCallback(function(F){var Z=function U(J){switch(Yj(J,E,b,x,y),J){case rT:A>=0&&(x.current=setTimeout(M,A));break;case aT:I>=0&&(x.current=setTimeout(M,I));break;case nT:case iT:x.current=setTimeout(function(){return U(J+1)},0);break}},X=b.current<=yv;typeof F!="boolean"&&(F=!X),F?X||Z(i?o?nT:rT:yv):X&&Z(s?l?iT:aT:sT(m))},[M,y,i,s,o,l,A,I,m]);return ne.useEffect(function(){return function(){return clearTimeout(x.current)}},[]),[S9[w],D,M]},Gme=function(e){var n=e===void 0?{}:e,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,s=n.transition,o=n.transitionTimeout,l=o===void 0?500:o,c=Kme({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:nm(s,"open"),exit:nm(s,"close")}),h=c[0],p=c[1],m=c[2];return[{state:Pme[h],endTransition:m},p]},Wme=function(e){var n=Gme(e),r=n[0],i=n[1],a=ne.useState(),s=a[0],o=a[1],l=function(h,p){o({position:h,alwaysUpdate:p}),i(!0)};return[Zr({menuItemFocus:s},r),i,l]},Qme=function(e,n){var r=ne.useRef(n);ne.useEffect(function(){r.current!==n&&gs(e,{open:n}),r.current=n},[e,n])},Zme=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],Jme=ne.forwardRef(function(e,n){var r=e["aria-label"],i=e.menuButton,a=e.instanceRef,s=e.onMenuChange,o=tf(e,Zme),l=Wme(o),c=l[0],h=l[1],p=l[2],m=p9(c.state),y=ne.useRef(!1),v=ne.useRef(null),w=ne.useCallback(function(M){h(!1),M.key&&v.current.focus()},[h]),E=function(D){y.current||p(D.detail===0?Ug.FIRST:void 0)},b=function(D){switch(D.key){case Ns.UP:p(Ug.LAST);break;case Ns.DOWN:p(Ug.FIRST);break;default:return}D.preventDefault()},x=gs(i,{open:m});if(!x||!x.type)throw new Error("Menu requires a menuButton prop.");var A=Zr({ref:uP(x.ref,v)},dw({onClick:E,onKeyDown:b},x.props));wme(x.type)==="MenuButton"&&(A.isOpen=m);var I=ne.cloneElement(x,A);return Qme(s,m),ne.useImperativeHandle(a,function(){return{openMenu:p,closeMenu:function(){return h(!1)}}}),Q.jsxs(ne.Fragment,{children:[I,Q.jsx(zme,Zr({},o,c,{"aria-label":r||(typeof x.props.children=="string"?x.props.children:"Menu"),anchorRef:v,ref:n,onClose:w,skipOpen:y}))]})}),Yme=function(e,n){var r=ne.memo(n),i=ne.forwardRef(function(a,s){var o=ne.useRef(null);return Q.jsx(r,Zr({},a,{itemRef:o,externalRef:s,isHovering:ne.useContext(y9)===o.current}))});return i.displayName="WithHovering("+e+")",i},Xme=function(e,n,r){D_(function(){if(!e){var i=n.current;return r(i,!0),function(){r(i)}}},[e,n,r])},eye=function(e,n,r,i){var a=ne.useContext(b9),s=a.submenuCloseDelay,o=ne.useContext(v9),l=o.isParentOpen,c=o.isSubmenuOpen,h=o.dispatch,p=o.updateItems,m=ne.useRef(0),y=function(){!r&&!i&&h(_i.SET,e.current)},v=function(){!i&&h(_i.UNSET,e.current)},w=function(A){r&&!A.currentTarget.contains(A.relatedTarget)&&v()},E=function(){c?m.current||(m.current=setTimeout(function(){m.current=0,y()},s)):y()},b=function(A,I){m.current&&(clearTimeout(m.current),m.current=0),!I&&v()};return Xme(i,e,p),ne.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),ne.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:w,onPointerMove:E,onPointerLeave:b}},tye=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],nye=["setHover"],td=Yme("MenuItem",function(e){var n=e.className,r=e.value,i=e.href,a=e.type,s=e.checked,o=e.disabled,l=e.children,c=e.onClick,h=e.isHovering,p=e.itemRef,m=e.externalRef,y=tf(e,tye),v=!!o,w=eye(p,p,h,v),E=w.setHover,b=tf(w,nye),x=ne.useContext(_9),A=ne.useContext(Rme),I=a==="radio",M=a==="checkbox",D=!!i&&!v&&!I&&!M,F=I?A.value===r:M?!!s:!1,Z=function(ue){if(v){ue.stopPropagation(),ue.preventDefault();return}var me={value:r,syntheticEvent:ue};ue.key!==void 0&&(me.key=ue.key),M&&(me.checked=!F),I&&(me.name=A.name),gs(c,me),I&&gs(A.onRadioChange,me),x.handleClick(me,M||I)},X=function(ue){if(h)switch(ue.key){case Ns.ENTER:case Ns.SPACE:D?p.current.click():Z(ue);break}},U=ne.useMemo(function(){return{type:a,disabled:v,hover:h,checked:F,anchor:D}},[a,v,h,F,D]),J=dw(Zr({},b,{onPointerDown:E,onKeyDown:X,onClick:Z}),y),ce=Zr({role:I?"menuitemradio":M?"menuitemcheckbox":"menuitem","aria-checked":I||M?F:void 0},m9(v,h),J,{ref:uP(m,p),className:Vd({block:$g,element:Cme,modifiers:U,className:n}),children:ne.useMemo(function(){return gs(l,U)},[l,U])});return D?Q.jsx("li",{role:"presentation",children:Q.jsx("a",Zr({href:i},ce))}):Q.jsx("li",Zr({},ce))}),rye=["className"],iye=ne.memo(ne.forwardRef(function(e,n){var r=e.className,i=tf(e,rye);return Q.jsx("li",Zr({role:"separator"},i,{ref:n,className:Vd({block:$g,element:Ame,className:r})}))}));const aye=()=>{const{communityId:t}=kn(),e=bi(th),[n]=qs(e.webId??"",t),{data:r}=fw(e.webId??""),i=bi(lR);return Q.jsxs(Jme,{menuButton:Q.jsx(Ime,{"data-cy":"menu-button",children:Q.jsx(V0,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[Q.jsx(td,{children:Q.jsx(Ds,{to:"profile",children:(n==null?void 0:n.name)||Q.jsx(wt,{id:"bbvfbr"})})}),Q.jsx(td,{children:Q.jsx(Ds,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:Q.jsx(wt,{id:"HecDqj"})})}),Q.jsx(td,{children:Q.jsxs(Ds,{to:"messages",children:[Q.jsx(wt,{id:"gHFvtg"}),r!=null&&r.length?Q.jsxs(Q.Fragment,{children:[" ",Q.jsx(wt,{id:"uLjy37",values:{0:r.length}})]}):null]})}),Q.jsx(td,{children:Q.jsx(Ds,{to:`profile/${encodeURIComponent(e.webId)}/contacts`,children:Q.jsx(wt,{id:"2LDW9H"})})}),Q.jsx(td,{children:Q.jsx(Ds,{to:"host/offers",children:Q.jsx(wt,{id:"BJjAHC"})})}),Q.jsx(iye,{}),Q.jsx(td,{children:Q.jsx(xge,{})})]})},sye=()=>{const{communityId:t}=kn(),e=bi(th),n=bi(of),r=Su(t,n,eh);return Q.jsxs("nav",{className:mv.header,children:[Q.jsx(Ds,{className:mv.logoContainer,to:"/","data-cy":"header-logo-link",children:Q.jsx(EB,{logo:r.logo[0],focusedLogo:r.logo[1],name:r.name||(r.isLoading?"...":"Home"),className:mv.logo})}),Q.jsx("div",{className:mv.spacer}),Q.jsx(vge,{}),Q.jsx(jde,{}),e.isLoggedIn===!0&&Q.jsx(aye,{}),e.isLoggedIn===void 0&&Q.jsx(Q.Fragment,{children:"..."})]})},oye=(t,e="en")=>Sm({queryKey:[zr.wikidataSearch,t,e],queryFn:()=>uye(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),uye=async(t,e)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(t)}&language=${e}&limit=20&continue=0&format=json&uselang=${e}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Hd({aliases:[],photos:[]},{...a,id:i})),lye=(t,e="en")=>Sm({queryKey:[zr.wikidataEntity,t,e],queryFn:()=>cye(t,e),enabled:!!t,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),cye=async(t,e)=>{var v,w,E;const n=((v=t.match(fye))==null?void 0:v[2])??"";if(!n)return{};const r=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${e}&format=json&origin=*`);if(!r.ok)throw new Us("Fetching interest failed",r);const i=await r.json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const s=(w=a.labels[e])==null?void 0:w.value,o=(E=a.descriptions[e])==null?void 0:E.value,l=(a.claims.P18??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],c=(a.claims.P154??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],h=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,p=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,m=(a.claims.P856??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],y=(a.aliases[e]??[]).map(({value:b})=>b);return{id:n,label:s,aliases:y,description:o,officialWebsite:m,image:p||h}},fye=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,dye="_list_1r0ph_1",hye="_item_1r0ph_6",pye="_highlighted_1r0ph_12",gye="_select_1r0ph_16",mye="_control_1r0ph_16",yye="_input_1r0ph_21",vye="_menu_1r0ph_24",_ye="_separator_1r0ph_29",wye="_option_1r0ph_33",bye="_focused_1r0ph_33",Ps={list:dye,item:hye,highlighted:pye,select:gye,control:mye,input:yye,menu:vye,separator:_ye,option:wye,focused:bye},x9=({uri:t,highlighted:e,onRemove:n,locale:r,className:i,...a})=>{const{data:s}=lye(t,r),o={id:t,label:t.split("/").pop(),description:t},l=Hd({},o,s);return Q.jsxs("span",{...a,className:Or(Ps.item,e&&Ps.highlighted,i),title:l.description,children:[l.label," ",n&&Q.jsx("button",{onClick:n,children:Q.jsx(DR,{})})]})},Sye=({ids:t,highlighted:e})=>{const n=bi(of);return t.length===0?null:Q.jsx("ul",{className:Ps.list,"data-cy":"interests-list",children:t.map(r=>Q.jsx("li",{children:Q.jsx(x9,{uri:r,highlighted:e&&e.includes(r),locale:n})},r))})},ms=({children:t})=>Q.jsx(Q.Fragment,{children:t}),xye=()=>{const{communityId:t}=kn(),e=bi(of),n=Su(t,e,eh),i=Eye()&&n.logo.length>=2?n.logo[0]:n.logo[1];return Q.jsxs(Q.Fragment,{children:[Q.jsx("title",{children:n.name}),i&&Q.jsx("link",{rel:"icon",href:i}),Q.jsx("meta",{name:"description",content:n.about})]})},Eye=()=>{const[t,e]=ne.useState(document.hasFocus());return ne.useEffect(()=>{const n=()=>{e(!0)},r=()=>{e(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),t},di=()=>bi(th),Tye=()=>{const t=Xd();ne.useEffect(()=>{Tm().events.on(ii.SESSION_RESTORED,n=>{t(new URL(n).pathname,{replace:!0})})},[])},Cye=()=>{const t=bi(lR);ne.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",t)},[t])},Aye="_box_1g1fk_7",Rye="_row_1g1fk_18",Pye="_header_1g1fk_18",Oye="_content_1g1fk_26",Iye="_footer_1g1fk_30",Kd={box:Aye,row:Rye,header:Pye,content:Oye,footer:Iye},Lye=({children:t,page:e})=>Q.jsx("div",{className:Or(Kd.box,e&&Kd.page),children:t}),Mye=({children:t})=>Q.jsx("div",{className:Or(Kd.row,Kd.header),children:t}),Dye=({children:t})=>Q.jsx("div",{className:Or(Kd.row,Kd.content),children:t});function E9(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=E9(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Cl(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=E9(t))&&(r&&(r+=" "),r+=e);return r}const im=t=>typeof t=="number"&&!isNaN(t),Zc=t=>typeof t=="string",za=t=>typeof t=="function",k_=t=>Zc(t)||za(t)?t:null,gA=t=>ne.isValidElement(t)||Zc(t)||za(t)||im(t);function kye(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function hw(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=t;return function(s){let{children:o,position:l,preventExitTransition:c,done:h,nodeRef:p,isIn:m,playToast:y}=s;const v=r?`${e}--${l}`:e,w=r?`${n}--${l}`:n,E=ne.useRef(0);return ne.useLayoutEffect(()=>{const b=p.current,x=v.split(" "),A=I=>{I.target===p.current&&(y(),b.removeEventListener("animationend",A),b.removeEventListener("animationcancel",A),E.current===0&&I.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",A),b.addEventListener("animationcancel",A)},[]),ne.useEffect(()=>{const b=p.current,x=()=>{b.removeEventListener("animationend",x),i?kye(b,h,a):h()};m||(c?x():(E.current=1,b.className+=` ${w}`,b.addEventListener("animationend",x)))},[m]),Lt.createElement(Lt.Fragment,null,o)}}function Xj(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const fa=new Map;let am=[];const mA=new Set,Nye=t=>mA.forEach(e=>e(t)),T9=()=>fa.size>0;function C9(t,e){var n;if(e)return!((n=fa.get(e))==null||!n.isToastActive(t));let r=!1;return fa.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function A9(t,e){gA(t)&&(T9()||am.push({content:t,options:e}),fa.forEach(n=>{n.buildToast(t,e)}))}function e4(t,e){fa.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function Fye(t){const{subscribe:e,getSnapshot:n,setProps:r}=ne.useRef(function(a){const s=a.containerId||1;return{subscribe(o){const l=function(h,p,m){let y=1,v=0,w=[],E=[],b=[],x=p;const A=new Map,I=new Set,M=()=>{b=Array.from(A.values()),I.forEach(Z=>Z())},D=Z=>{E=Z==null?[]:E.filter(X=>X!==Z),M()},F=Z=>{const{toastId:X,onOpen:U,updateId:J,children:ce}=Z.props,re=J==null;Z.staleId&&A.delete(Z.staleId),A.set(X,Z),E=[...E,Z.props.toastId].filter(ue=>ue!==Z.staleId),M(),m(Xj(Z,re?"added":"updated")),re&&za(U)&&U(ne.isValidElement(ce)&&ce.props)};return{id:h,props:x,observe:Z=>(I.add(Z),()=>I.delete(Z)),toggle:(Z,X)=>{A.forEach(U=>{X!=null&&X!==U.props.toastId||za(U.toggle)&&U.toggle(Z)})},removeToast:D,toasts:A,clearQueue:()=>{v-=w.length,w=[]},buildToast:(Z,X)=>{if((ge=>{let{containerId:H,toastId:Y,updateId:pe}=ge;const Ae=H?H!==h:h!==1,Je=A.has(Y)&&pe==null;return Ae||Je})(X))return;const{toastId:U,updateId:J,data:ce,staleId:re,delay:ue}=X,me=()=>{D(U)},be=J==null;be&&v++;const he={...x,style:x.toastStyle,key:y++,...Object.fromEntries(Object.entries(X).filter(ge=>{let[H,Y]=ge;return Y!=null})),toastId:U,updateId:J,data:ce,closeToast:me,isIn:!1,className:k_(X.className||x.toastClassName),bodyClassName:k_(X.bodyClassName||x.bodyClassName),progressClassName:k_(X.progressClassName||x.progressClassName),autoClose:!X.isLoading&&(fe=X.autoClose,Oe=x.autoClose,fe===!1||im(fe)&&fe>0?fe:Oe),deleteToast(){const ge=A.get(U),{onClose:H,children:Y}=ge.props;za(H)&&H(ne.isValidElement(Y)&&Y.props),m(Xj(ge,"removed")),A.delete(U),v--,v<0&&(v=0),w.length>0?F(w.shift()):M()}};var fe,Oe;he.closeButton=x.closeButton,X.closeButton===!1||gA(X.closeButton)?he.closeButton=X.closeButton:X.closeButton===!0&&(he.closeButton=!gA(x.closeButton)||x.closeButton);let k=Z;ne.isValidElement(Z)&&!Zc(Z.type)?k=ne.cloneElement(Z,{closeToast:me,toastProps:he,data:ce}):za(Z)&&(k=Z({closeToast:me,toastProps:he,data:ce}));const ie={content:k,props:he,staleId:re};x.limit&&x.limit>0&&v>x.limit&&be?w.push(ie):im(ue)?setTimeout(()=>{F(ie)},ue):F(ie)},setProps(Z){x=Z},setToggle:(Z,X)=>{A.get(Z).toggle=X},isToastActive:Z=>E.some(X=>X===Z),getSnapshot:()=>x.newestOnTop?b.reverse():b}}(s,a,Nye);fa.set(s,l);const c=l.observe(o);return am.forEach(h=>A9(h.content,h.options)),am=[],()=>{c(),fa.delete(s)}},setProps(o){var l;(l=fa.get(s))==null||l.setProps(o)},getSnapshot(){var o;return(o=fa.get(s))==null?void 0:o.getSnapshot()}}}(t)).current;r(t);const i=ne.useSyncExternalStore(e,n,n);return{getToastToRender:function(a){if(!i)return[];const s=new Map;return i.forEach(o=>{const{position:l}=o.props;s.has(l)||s.set(l,[]),s.get(l).push(o)}),Array.from(s,o=>a(o[0],o[1]))},isToastActive:C9,count:i==null?void 0:i.length}}function jye(t){const[e,n]=ne.useState(!1),[r,i]=ne.useState(!1),a=ne.useRef(null),s=ne.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:h,closeOnClick:p}=t;var m,y;function v(){n(!0)}function w(){n(!1)}function E(A){const I=a.current;s.canDrag&&I&&(s.didMove=!0,e&&w(),s.delta=t.draggableDirection==="x"?A.clientX-s.start:A.clientY-s.start,s.start!==A.clientX&&(s.canCloseOnClick=!1),I.style.transform=`translate3d(${t.draggableDirection==="x"?`${s.delta}px, var(--y)`:`0, calc(${s.delta}px + var(--y))`},0)`,I.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function b(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",b);const A=a.current;if(s.canDrag&&s.didMove&&A){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}(y=fa.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),ne.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||w(),window.addEventListener("focus",v),window.addEventListener("blur",w),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",w)}},[t.pauseOnFocusLoss]);const x={onPointerDown:function(A){if(t.draggable===!0||t.draggable===A.pointerType){s.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",b);const I=a.current;s.canCloseOnClick=!0,s.canDrag=!0,I.style.transition="none",t.draggableDirection==="x"?(s.start=A.clientX,s.removalDistance=I.offsetWidth*(t.draggablePercent/100)):(s.start=A.clientY,s.removalDistance=I.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(A){const{top:I,bottom:M,left:D,right:F}=a.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=D&&A.clientX<=F&&A.clientY>=I&&A.clientY<=M?w():v()}};return o&&l&&(x.onMouseEnter=w,t.stacked||(x.onMouseLeave=v)),p&&(x.onClick=A=>{h&&h(A),s.canCloseOnClick&&c()}),{playToast:v,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:a,eventHandlers:x}}function $ye(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:a,className:s,style:o,controlledProgress:l,progress:c,rtl:h,isIn:p,theme:m}=t;const y=a||l&&c===0,v={...o,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const w=Cl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),E=za(s)?s({rtl:h,type:i,defaultClassName:w}):Cl(w,s),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{p&&r()}};return Lt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Lt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Lt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:E,style:v,...b}))}let Uye=1;const R9=()=>""+Uye++;function Bye(t){return t&&(Zc(t.toastId)||im(t.toastId))?t.toastId:R9()}function Bg(t,e){return A9(t,e),e.toastId}function f0(t,e){return{...e,type:e&&e.type||t,toastId:Bye(e)}}function vv(t){return(e,n)=>Bg(e,f0(t,n))}function xr(t,e){return Bg(t,f0("default",e))}xr.loading=(t,e)=>Bg(t,f0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),xr.promise=function(t,e,n){let r,{pending:i,error:a,success:s}=e;i&&(r=Zc(i)?xr.loading(i,n):xr.loading(i.render,{...n,...i}));const o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(h,p,m)=>{if(p==null)return void xr.dismiss(r);const y={type:h,...o,...n,data:m},v=Zc(p)?{render:p}:p;return r?xr.update(r,{...y,...v}):xr(v.render,{...y,...v}),m},c=za(t)?t():t;return c.then(h=>l("success",s,h)).catch(h=>l("error",a,h)),c},xr.success=vv("success"),xr.info=vv("info"),xr.error=vv("error"),xr.warning=vv("warning"),xr.warn=xr.warning,xr.dark=(t,e)=>Bg(t,f0("default",{theme:"dark",...e})),xr.dismiss=function(t){(function(e){var n;if(T9()){if(e==null||Zc(n=e)||im(n))fa.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=fa.get(e.containerId);r?r.removeToast(e.id):fa.forEach(i=>{i.removeToast(e.id)})}}else am=am.filter(r=>e!=null&&r.options.toastId!==e)})(t)},xr.clearWaitingQueue=function(t){t===void 0&&(t={}),fa.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},xr.isActive=C9,xr.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var a;let{containerId:s}=i;return(a=fa.get(s||1))==null?void 0:a.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,a={delay:100,...r,...e,toastId:e.toastId||t,updateId:R9()};a.toastId!==t&&(a.staleId=t);const s=a.render||i;delete a.render,Bg(s,a)}},xr.done=t=>{xr.update(t,{progress:1})},xr.onChange=function(t){return mA.add(t),()=>{mA.delete(t)}},xr.play=t=>e4(!0,t),xr.pause=t=>e4(!1,t);const qye=typeof window<"u"?ne.useLayoutEffect:ne.useEffect,_v=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return Lt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},oT={info:function(t){return Lt.createElement(_v,{...t},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Lt.createElement(_v,{...t},Lt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Lt.createElement(_v,{...t},Lt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Lt.createElement(_v,{...t},Lt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Lt.createElement("div",{className:"Toastify__spinner"})}},zye=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=jye(t),{closeButton:s,children:o,autoClose:l,onClick:c,type:h,hideProgressBar:p,closeToast:m,transition:y,position:v,className:w,style:E,bodyClassName:b,bodyStyle:x,progressClassName:A,progressStyle:I,updateId:M,role:D,progress:F,rtl:Z,toastId:X,deleteToast:U,isIn:J,isLoading:ce,closeOnClick:re,theme:ue}=t,me=Cl("Toastify__toast",`Toastify__toast-theme--${ue}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":Z},{"Toastify__toast--close-on-click":re}),be=za(w)?w({rtl:Z,position:v,type:h,defaultClassName:me}):Cl(me,w),he=function(ie){let{theme:ge,type:H,isLoading:Y,icon:pe}=ie,Ae=null;const Je={theme:ge,type:H};return pe===!1||(za(pe)?Ae=pe({...Je,isLoading:Y}):ne.isValidElement(pe)?Ae=ne.cloneElement(pe,Je):Y?Ae=oT.spinner():(Re=>Re in oT)(H)&&(Ae=oT[H](Je))),Ae}(t),fe=!!F||!l,Oe={closeToast:m,type:h,theme:ue};let k=null;return s===!1||(k=za(s)?s(Oe):ne.isValidElement(s)?ne.cloneElement(s,Oe):function(ie){let{closeToast:ge,theme:H,ariaLabel:Y="close"}=ie;return Lt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${H}`,type:"button",onClick:pe=>{pe.stopPropagation(),ge(pe)},"aria-label":Y},Lt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Lt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Oe)),Lt.createElement(y,{isIn:J,done:U,position:v,preventExitTransition:n,nodeRef:r,playToast:a},Lt.createElement("div",{id:X,onClick:c,"data-in":J,className:be,...i,style:E,ref:r},Lt.createElement("div",{...J&&{role:D},className:za(b)?b({type:h}):Cl("Toastify__toast-body",b),style:x},he!=null&&Lt.createElement("div",{className:Cl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ce})},he),Lt.createElement("div",null,o)),k,Lt.createElement($ye,{...M&&!fe?{key:`pb-${M}`}:{},rtl:Z,theme:ue,delay:l,isRunning:e,isIn:J,closeToast:m,hide:p,type:h,style:I,className:A,controlledProgress:fe,progress:F||0})))},pw=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},Hye=hw(pw("bounce",!0)),Vye=hw(pw("slide",!0));hw(pw("zoom"));hw(pw("flip"));const Kye={position:"top-right",transition:Hye,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Gye(t){let e={...Kye,...t};const n=t.stacked,[r,i]=ne.useState(!0),a=ne.useRef(null),{getToastToRender:s,isToastActive:o,count:l}=Fye(e),{className:c,style:h,rtl:p,containerId:m}=e;function y(w){const E=Cl("Toastify__toast-container",`Toastify__toast-container--${w}`,{"Toastify__toast-container--rtl":p});return za(c)?c({position:w,rtl:p,defaultClassName:E}):Cl(E,k_(c))}function v(){n&&(i(!0),xr.play())}return qye(()=>{if(n){var w;const E=a.current.querySelectorAll('[data-in="true"]'),b=12,x=(w=e.position)==null?void 0:w.includes("top");let A=0,I=0;Array.from(E).reverse().forEach((M,D)=>{const F=M;F.classList.add("Toastify__toast--stacked"),D>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=x?"top":"bot");const Z=A*(r?.2:1)+(r?0:b*D);F.style.setProperty("--y",`${x?Z:-1*Z}px`),F.style.setProperty("--g",`${b}`),F.style.setProperty("--s",""+(1-(r?I:0))),A+=F.offsetHeight,I+=.025})}},[r,l,n]),Lt.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),xr.pause())},onMouseLeave:v},s((w,E)=>{const b=E.length?{...h}:{...h,pointerEvents:"none"};return Lt.createElement("div",{className:y(w),style:b,key:`container-${w}`},E.map(x=>{let{content:A,props:I}=x;return Lt.createElement(zye,{...I,stacked:n,collapseAll:v,isIn:o(I.toastId,I.containerId),style:I.style,key:`toast-${I.key}`},A)}))}))}const Wye=()=>{Ide(),Tye();const t=Ml(),e=di();return Cye(),ne.useEffect(()=>{(async()=>{const n=await VY({restorePreviousSession:!0});n&&t(dR.signin(n))})()},[t]),Q.jsxs(Lye,{children:[Q.jsx(xye,{}),Q.jsx(Gye,{transition:Vye}),Q.jsx(Mye,{children:Q.jsx(sye,{})}),Q.jsx(Dye,{children:e.isLoggedIn===void 0?Q.jsx(wt,{id:"Z3FXyt"}):Q.jsx(M0,{})})]})};function Qye(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Zye=/[ \t\n\f\r]/g;function Jye(t){return typeof t=="object"?t.type==="text"?t4(t.value):!1:t4(t)}function t4(t){return t.replace(Zye,"")===""}class km{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}}km.prototype.property={};km.prototype.normal={};km.prototype.space=null;function P9(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new km(n,r,e)}function yA(t){return t.toLowerCase()}class vs{constructor(e,n){this.property=e,this.attribute=n}}vs.prototype.space=null;vs.prototype.boolean=!1;vs.prototype.booleanish=!1;vs.prototype.overloadedBoolean=!1;vs.prototype.number=!1;vs.prototype.commaSeparated=!1;vs.prototype.spaceSeparated=!1;vs.prototype.commaOrSpaceSeparated=!1;vs.prototype.mustUseProperty=!1;vs.prototype.defined=!1;let Yye=0;const _n=hf(),ti=hf(),O9=hf(),Ot=hf(),Er=hf(),vd=hf(),Ua=hf();function hf(){return 2**++Yye}const vA=Object.freeze(Object.defineProperty({__proto__:null,boolean:_n,booleanish:ti,commaOrSpaceSeparated:Ua,commaSeparated:vd,number:Ot,overloadedBoolean:O9,spaceSeparated:Er},Symbol.toStringTag,{value:"Module"})),uT=Object.keys(vA);class lP extends vs{constructor(e,n,r,i){let a=-1;if(super(e,n),n4(this,"space",i),typeof r=="number")for(;++a<uT.length;){const s=uT[a];n4(this,uT[a],(r&vA[s])===vA[s])}}}lP.prototype.defined=!0;function n4(t,e,n){n&&(t[e]=n)}const Xye={}.hasOwnProperty;function _h(t){const e={},n={};let r;for(r in t.properties)if(Xye.call(t.properties,r)){const i=t.properties[r],a=new lP(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[yA(r)]=r,n[yA(a.attribute)]=r}return new km(e,n,t.space)}const I9=_h({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),L9=_h({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function M9(t,e){return e in t?t[e]:e}function D9(t,e){return M9(t,e.toLowerCase())}const k9=_h({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:D9,properties:{xmlns:null,xmlnsXLink:null}}),N9=_h({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ti,ariaAutoComplete:null,ariaBusy:ti,ariaChecked:ti,ariaColCount:Ot,ariaColIndex:Ot,ariaColSpan:Ot,ariaControls:Er,ariaCurrent:null,ariaDescribedBy:Er,ariaDetails:null,ariaDisabled:ti,ariaDropEffect:Er,ariaErrorMessage:null,ariaExpanded:ti,ariaFlowTo:Er,ariaGrabbed:ti,ariaHasPopup:null,ariaHidden:ti,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Er,ariaLevel:Ot,ariaLive:null,ariaModal:ti,ariaMultiLine:ti,ariaMultiSelectable:ti,ariaOrientation:null,ariaOwns:Er,ariaPlaceholder:null,ariaPosInSet:Ot,ariaPressed:ti,ariaReadOnly:ti,ariaRelevant:null,ariaRequired:ti,ariaRoleDescription:Er,ariaRowCount:Ot,ariaRowIndex:Ot,ariaRowSpan:Ot,ariaSelected:ti,ariaSetSize:Ot,ariaSort:null,ariaValueMax:Ot,ariaValueMin:Ot,ariaValueNow:Ot,ariaValueText:null,role:null}}),eve=_h({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:D9,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vd,acceptCharset:Er,accessKey:Er,action:null,allow:null,allowFullScreen:_n,allowPaymentRequest:_n,allowUserMedia:_n,alt:null,as:null,async:_n,autoCapitalize:null,autoComplete:Er,autoFocus:_n,autoPlay:_n,blocking:Er,capture:_n,charSet:null,checked:_n,cite:null,className:Er,cols:Ot,colSpan:null,content:null,contentEditable:ti,controls:_n,controlsList:Er,coords:Ot|vd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_n,defer:_n,dir:null,dirName:null,disabled:_n,download:O9,draggable:ti,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_n,formTarget:null,headers:Er,height:Ot,hidden:_n,high:Ot,href:null,hrefLang:null,htmlFor:Er,httpEquiv:Er,id:null,imageSizes:null,imageSrcSet:null,inert:_n,inputMode:null,integrity:null,is:null,isMap:_n,itemId:null,itemProp:Er,itemRef:Er,itemScope:_n,itemType:Er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_n,low:Ot,manifest:null,max:null,maxLength:Ot,media:null,method:null,min:null,minLength:Ot,multiple:_n,muted:_n,name:null,nonce:null,noModule:_n,noValidate:_n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_n,optimum:Ot,pattern:null,ping:Er,placeholder:null,playsInline:_n,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_n,referrerPolicy:null,rel:Er,required:_n,reversed:_n,rows:Ot,rowSpan:Ot,sandbox:Er,scope:null,scoped:_n,seamless:_n,selected:_n,shadowRootDelegatesFocus:_n,shadowRootMode:null,shape:null,size:Ot,sizes:null,slot:null,span:Ot,spellCheck:ti,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Ot,step:null,style:null,tabIndex:Ot,target:null,title:null,translate:null,type:null,typeMustMatch:_n,useMap:null,value:ti,width:Ot,wrap:null,align:null,aLink:null,archive:Er,axis:null,background:null,bgColor:null,border:Ot,borderColor:null,bottomMargin:Ot,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_n,declare:_n,event:null,face:null,frame:null,frameBorder:null,hSpace:Ot,leftMargin:Ot,link:null,longDesc:null,lowSrc:null,marginHeight:Ot,marginWidth:Ot,noResize:_n,noHref:_n,noShade:_n,noWrap:_n,object:null,profile:null,prompt:null,rev:null,rightMargin:Ot,rules:null,scheme:null,scrolling:ti,standby:null,summary:null,text:null,topMargin:Ot,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Ot,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_n,disableRemotePlayback:_n,prefix:null,property:null,results:Ot,security:null,unselectable:null}}),tve=_h({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:M9,properties:{about:Ua,accentHeight:Ot,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Ot,amplitude:Ot,arabicForm:null,ascent:Ot,attributeName:null,attributeType:null,azimuth:Ot,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Ot,by:null,calcMode:null,capHeight:Ot,className:Er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Ot,diffuseConstant:Ot,direction:null,display:null,dur:null,divisor:Ot,dominantBaseline:null,download:_n,dx:null,dy:null,edgeMode:null,editable:null,elevation:Ot,enableBackground:null,end:null,event:null,exponent:Ot,externalResourcesRequired:null,fill:null,fillOpacity:Ot,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vd,g2:vd,glyphName:vd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Ot,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Ot,horizOriginX:Ot,horizOriginY:Ot,id:null,ideographic:Ot,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Ot,k:Ot,k1:Ot,k2:Ot,k3:Ot,k4:Ot,kernelMatrix:Ua,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Ot,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Ot,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Ot,overlineThickness:Ot,paintOrder:null,panose1:null,path:null,pathLength:Ot,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Ot,pointsAtY:Ot,pointsAtZ:Ot,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ua,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ua,rev:Ua,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ua,requiredFeatures:Ua,requiredFonts:Ua,requiredFormats:Ua,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Ot,specularExponent:Ot,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Ot,strikethroughThickness:Ot,string:null,stroke:null,strokeDashArray:Ua,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Ot,strokeOpacity:Ot,strokeWidth:null,style:null,surfaceScale:Ot,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ua,tabIndex:Ot,tableValues:null,target:null,targetX:Ot,targetY:Ot,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ua,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Ot,underlineThickness:Ot,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Ot,values:null,vAlphabetic:Ot,vMathematical:Ot,vectorEffect:null,vHanging:Ot,vIdeographic:Ot,version:null,vertAdvY:Ot,vertOriginX:Ot,vertOriginY:Ot,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Ot,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),nve=/^data[-\w.:]+$/i,r4=/-[a-z]/g,rve=/[A-Z]/g;function ive(t,e){const n=yA(e);let r=e,i=vs;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&nve.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(r4,sve);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!r4.test(a)){let s=a.replace(rve,ave);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=lP}return new i(r,e)}function ave(t){return"-"+t.toLowerCase()}function sve(t){return t.charAt(1).toUpperCase()}const ove={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},uve=P9([L9,I9,k9,N9,eve],"html"),F9=P9([L9,I9,k9,N9,tve],"svg");function lve(t){return t.join(" ").trim()}var wv={exports:{}},lT,i4;function cve(){if(i4)return lT;i4=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",h="*",p="",m="comment",y="declaration";lT=function(w,E){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];E=E||{};var b=1,x=1;function A(re){var ue=re.match(e);ue&&(b+=ue.length);var me=re.lastIndexOf(l);x=~me?re.length-me:x+re.length}function I(){var re={line:b,column:x};return function(ue){return ue.position=new M(re),Z(),ue}}function M(re){this.start=re,this.end={line:b,column:x},this.source=E.source}M.prototype.content=w;function D(re){var ue=new Error(E.source+":"+b+":"+x+": "+re);if(ue.reason=re,ue.filename=E.source,ue.line=b,ue.column=x,ue.source=w,!E.silent)throw ue}function F(re){var ue=re.exec(w);if(ue){var me=ue[0];return A(me),w=w.slice(me.length),ue}}function Z(){F(n)}function X(re){var ue;for(re=re||[];ue=U();)ue!==!1&&re.push(ue);return re}function U(){var re=I();if(!(c!=w.charAt(0)||h!=w.charAt(1))){for(var ue=2;p!=w.charAt(ue)&&(h!=w.charAt(ue)||c!=w.charAt(ue+1));)++ue;if(ue+=2,p===w.charAt(ue-1))return D("End of comment missing");var me=w.slice(2,ue-2);return x+=2,A(me),w=w.slice(ue),x+=2,re({type:m,comment:me})}}function J(){var re=I(),ue=F(r);if(ue){if(U(),!F(i))return D("property missing ':'");var me=F(a),be=re({type:y,property:v(ue[0].replace(t,p)),value:me?v(me[0].replace(t,p)):p});return F(s),be}}function ce(){var re=[];X(re);for(var ue;ue=J();)ue!==!1&&(re.push(ue),X(re));return re}return Z(),ce()};function v(w){return w?w.replace(o,p):p}return lT}var a4;function fve(){if(a4)return wv.exports;a4=1;var t=cve();function e(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,s=t(n),o=typeof r=="function",l,c,h=0,p=s.length;h<p;h++)a=s[h],l=a.property,c=a.value,o?r(l,c,a):c&&(i||(i={}),i[l]=c);return i}return wv.exports=e,wv.exports.default=e,wv.exports}var dve=fve();const hve=kr(dve),j9=$9("end"),cP=$9("start");function $9(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function pve(t){const e=cP(t),n=j9(t);if(e&&n)return{start:e,end:n}}function qg(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?s4(t.position):"start"in t||"end"in t?s4(t):"line"in t||"column"in t?_A(t):""}function _A(t){return o4(t&&t.line)+":"+o4(t&&t.column)}function s4(t){return _A(t&&t.start)+"-"+_A(t&&t.end)}function o4(t){return t&&typeof t=="number"?t:1}class ga extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=o?o.line:void 0,this.name=qg(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}ga.prototype.file="";ga.prototype.name="";ga.prototype.reason="";ga.prototype.message="";ga.prototype.stack="";ga.prototype.column=void 0;ga.prototype.line=void 0;ga.prototype.ancestors=void 0;ga.prototype.cause=void 0;ga.prototype.fatal=void 0;ga.prototype.place=void 0;ga.prototype.ruleId=void 0;ga.prototype.source=void 0;const fP={}.hasOwnProperty,gve=new Map,mve=/[A-Z]/g,yve=/-([a-z])/g,vve=new Set(["table","tbody","thead","tfoot","tr"]),_ve=new Set(["td","th"]);function wve(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Sve(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=bve(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?F9:uve,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=U9(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function U9(t,e,n){if(e.type==="element"||e.type==="root"){const r=t.schema;let i=r;e.type==="element"&&e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=F9,t.schema=i),t.ancestors.push(e);let a=xve(t,e);const s=Eve(t,t.ancestors);let o=t.Fragment;if(t.ancestors.pop(),e.type==="element")if(a&&vve.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Jye(l):!0})),fP.call(t.components,e.tagName)){const l=e.tagName;o=t.components[l],typeof o!="string"&&o!==t.Fragment&&t.passNode&&(s.node=e)}else o=e.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(s.children=l)}return t.schema=r,t.create(e,o,s,n)}if(e.type==="text")return e.value}function bve(t,e,n){return r;function r(i,a,s,o){const c=Array.isArray(s.children)?n:e;return o?c(a,s,o):c(a,s)}}function Sve(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=cP(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function xve(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:gve;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;s=a.tagName+"-"+l,i.set(a.tagName,l+1)}const o=U9(t,a,s);o!==void 0&&n.push(o)}return n}function Eve(t,e){const n=e[e.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&fP.call(n.properties,i)){const s=Tve(t,e,i,n.properties[i]);if(s){const[o,l]=s;t.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&_ve.has(n.tagName)?a=l:r[o]=l}}if(a){const s=r.style||(r.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function Tve(t,e,n,r){const i=ive(t.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Qye(r):lve(r)),i.property==="style"){let a=typeof r=="object"?r:Cve(t,e,String(r));return t.stylePropertyNameCase==="css"&&(a=Ave(a)),["style",a]}return[t.elementAttributeNameCase==="react"&&i.space?ove[i.property]||i.property:i.attribute,r]}}function Cve(t,e,n){const r={};try{hve(n,i)}catch(a){if(!t.ignoreInvalidStyle){const s=a,o=new ga("Cannot parse `style` attribute",{ancestors:e,cause:s,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw o.file=t.filePath||void 0,o.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",o}}return r;function i(a,s){let o=a;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(yve,Pve)),r[o]=s}}function Ave(t){const e={};let n;for(n in t)fP.call(t,n)&&(e[Rve(n)]=t[n]);return e}function Rve(t){let e=t.replace(mve,Ove);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function Pve(t,e){return e.toUpperCase()}function Ove(t){return"-"+t.toLowerCase()}const cT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ive={};function Lve(t,e){const n=Ive,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return B9(t,r,i)}function B9(t,e,n){if(Mve(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return u4(t.children,e,n)}return Array.isArray(t)?u4(t,e,n):""}function u4(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=B9(t[i],e,n);return r.join("")}function Mve(t){return!!(t&&typeof t=="object")}const l4=document.createElement("i");function dP(t){const e="&"+t+";";l4.innerHTML=e;const n=l4.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function bo(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function ps(t,e){return t.length>0?(bo(t,t.length,0,e),t):e}const c4={}.hasOwnProperty;function Dve(t){const e={};let n=-1;for(;++n<t.length;)kve(e,t[n]);return e}function kve(t,e){let n;for(n in e){const i=(c4.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){c4.call(i,s)||(i[s]=[]);const o=a[s];Nve(i[s],Array.isArray(o)?o:o?[o]:[])}}}function Nve(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);bo(t,0,0,r)}function q9(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function _d(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Fve=jl(new RegExp("\\p{P}","u")),ho=jl(/[A-Za-z]/),Ha=jl(/[\dA-Za-z]/),jve=jl(/[#-'*+\--9=?A-Z^-~]/);function wA(t){return t!==null&&(t<32||t===127)}const bA=jl(/\d/),$ve=jl(/[\dA-Fa-f]/),z9=jl(/[!-/:-@[-`{-~]/);function fn(t){return t!==null&&t<-2}function Ca(t){return t!==null&&(t<0||t===32)}function Zn(t){return t===-2||t===-1||t===32}function Uve(t){return z9(t)||Fve(t)}const Bve=jl(/\s/);function jl(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function wh(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Ha(t.charCodeAt(n+1))&&Ha(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Tr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Zn(l)?(t.enter(n),o(l)):e(l)}function o(l){return Zn(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const qve={tokenize:zve};function zve(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Tr(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return fn(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const Hve={tokenize:Vve},f4={tokenize:Kve};function Vve(t){const e=this,n=[];let r=0,i,a,s;return o;function o(A){if(r<n.length){const I=n[r];return e.containerState=I[1],t.attempt(I[0].continuation,l,c)(A)}return c(A)}function l(A){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&x();const I=e.events.length;let M=I,D;for(;M--;)if(e.events[M][0]==="exit"&&e.events[M][1].type==="chunkFlow"){D=e.events[M][1].end;break}b(r);let F=I;for(;F<e.events.length;)e.events[F][1].end=Object.assign({},D),F++;return bo(e.events,M+1,0,e.events.slice(I)),e.events.length=F,c(A)}return o(A)}function c(A){if(r===n.length){if(!i)return m(A);if(i.currentConstruct&&i.currentConstruct.concrete)return v(A);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(f4,h,p)(A)}function h(A){return i&&x(),b(r),m(A)}function p(A){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,v(A)}function m(A){return e.containerState={},t.attempt(f4,y,v)(A)}function y(A){return r++,n.push([e.currentConstruct,e.containerState]),m(A)}function v(A){if(A===null){i&&x(),b(0),t.consume(A);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),w(A)}function w(A){if(A===null){E(t.exit("chunkFlow"),!0),b(0),t.consume(A);return}return fn(A)?(t.consume(A),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(A),w)}function E(A,I){const M=e.sliceStream(A);if(I&&M.push(null),A.previous=a,a&&(a.next=A),a=A,i.defineSkip(A.start),i.write(M),e.parser.lazy[A.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<s&&(!i.events[D][1].end||i.events[D][1].end.offset>s))return;const F=e.events.length;let Z=F,X,U;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){if(X){U=e.events[Z][1].end;break}X=!0}for(b(r),D=F;D<e.events.length;)e.events[D][1].end=Object.assign({},U),D++;bo(e.events,Z+1,0,e.events.slice(F)),e.events.length=D}}function b(A){let I=n.length;for(;I-- >A;){const M=n[I];e.containerState=M[1],M[0].exit.call(e,t)}n.length=A}function x(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Kve(t,e,n){return Tr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function d4(t){if(t===null||Ca(t)||Bve(t))return 1;if(Uve(t))return 2}function hP(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const SA={name:"attention",tokenize:Wve,resolveAll:Gve};function Gve(t,e){let n=-1,r,i,a,s,o,l,c,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const p=Object.assign({},t[r][1].end),m=Object.assign({},t[n][1].start);h4(p,-l),h4(m,l),s={type:l>1?"strongSequence":"emphasisSequence",start:p,end:Object.assign({},t[r][1].end)},o={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:m},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},o.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},o.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ps(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ps(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),c=ps(c,hP(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ps(c,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,c=ps(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,bo(t,r-1,n-r+3,c),n=r+c.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Wve(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=d4(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const c=t.exit("attentionSequence"),h=d4(l),p=!h||h===2&&i||n.includes(l),m=!i||i===2&&h||n.includes(r);return c._open=!!(a===42?p:p&&(i||!m)),c._close=!!(a===42?m:m&&(h||!p)),e(l)}}function h4(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Qve={name:"autolink",tokenize:Zve};function Zve(t,e,n){let r=0;return i;function i(y){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(y){return ho(y)?(t.consume(y),s):c(y)}function s(y){return y===43||y===45||y===46||Ha(y)?(r=1,o(y)):c(y)}function o(y){return y===58?(t.consume(y),r=0,l):(y===43||y===45||y===46||Ha(y))&&r++<32?(t.consume(y),o):(r=0,c(y))}function l(y){return y===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):y===null||y===32||y===60||wA(y)?n(y):(t.consume(y),l)}function c(y){return y===64?(t.consume(y),h):jve(y)?(t.consume(y),c):n(y)}function h(y){return Ha(y)?p(y):n(y)}function p(y){return y===46?(t.consume(y),r=0,h):y===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(y),t.exit("autolinkMarker"),t.exit("autolink"),e):m(y)}function m(y){if((y===45||Ha(y))&&r++<63){const v=y===45?m:p;return t.consume(y),v}return n(y)}}const gw={tokenize:Jve,partial:!0};function Jve(t,e,n){return r;function r(a){return Zn(a)?Tr(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||fn(a)?e(a):n(a)}}const H9={name:"blockQuote",tokenize:Yve,continuation:{tokenize:Xve},exit:e_e};function Yve(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Zn(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Xve(t,e,n){const r=this;return i;function i(s){return Zn(s)?Tr(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(H9,e,n)(s)}}function e_e(t){t.exit("blockQuote")}const V9={name:"characterEscape",tokenize:t_e};function t_e(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return z9(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const K9={name:"characterReference",tokenize:n_e};function n_e(t,e,n){const r=this;let i=0,a,s;return o;function o(p){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),l}function l(p){return p===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(p),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),a=31,s=Ha,h(p))}function c(p){return p===88||p===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(p),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=$ve,h):(t.enter("characterReferenceValue"),a=7,s=bA,h(p))}function h(p){if(p===59&&i){const m=t.exit("characterReferenceValue");return s===Ha&&!dP(r.sliceSerialize(m))?n(p):(t.enter("characterReferenceMarker"),t.consume(p),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(p)&&i++<a?(t.consume(p),h):n(p)}}const p4={tokenize:i_e,partial:!0},g4={name:"codeFenced",tokenize:r_e,concrete:!0};function r_e(t,e,n){const r=this,i={tokenize:M,partial:!0};let a=0,s=0,o;return l;function l(D){return c(D)}function c(D){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,o=D,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(D)}function h(D){return D===o?(s++,t.consume(D),h):s<3?n(D):(t.exit("codeFencedFenceSequence"),Zn(D)?Tr(t,p,"whitespace")(D):p(D))}function p(D){return D===null||fn(D)?(t.exit("codeFencedFence"),r.interrupt?e(D):t.check(p4,w,I)(D)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||fn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),p(D)):Zn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Tr(t,y,"whitespace")(D)):D===96&&D===o?n(D):(t.consume(D),m)}function y(D){return D===null||fn(D)?p(D):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||fn(D)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),p(D)):D===96&&D===o?n(D):(t.consume(D),v)}function w(D){return t.attempt(i,I,E)(D)}function E(D){return t.enter("lineEnding"),t.consume(D),t.exit("lineEnding"),b}function b(D){return a>0&&Zn(D)?Tr(t,x,"linePrefix",a+1)(D):x(D)}function x(D){return D===null||fn(D)?t.check(p4,w,I)(D):(t.enter("codeFlowValue"),A(D))}function A(D){return D===null||fn(D)?(t.exit("codeFlowValue"),x(D)):(t.consume(D),A)}function I(D){return t.exit("codeFenced"),e(D)}function M(D,F,Z){let X=0;return U;function U(me){return D.enter("lineEnding"),D.consume(me),D.exit("lineEnding"),J}function J(me){return D.enter("codeFencedFence"),Zn(me)?Tr(D,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(me):ce(me)}function ce(me){return me===o?(D.enter("codeFencedFenceSequence"),re(me)):Z(me)}function re(me){return me===o?(X++,D.consume(me),re):X>=s?(D.exit("codeFencedFenceSequence"),Zn(me)?Tr(D,ue,"whitespace")(me):ue(me)):Z(me)}function ue(me){return me===null||fn(me)?(D.exit("codeFencedFence"),F(me)):Z(me)}}}function i_e(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const fT={name:"codeIndented",tokenize:s_e},a_e={tokenize:o_e,partial:!0};function s_e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),Tr(t,a,"linePrefix",5)(c)}function a(c){const h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):fn(c)?t.attempt(a_e,s,l)(c):(t.enter("codeFlowValue"),o(c))}function o(c){return c===null||fn(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),o)}function l(c){return t.exit("codeIndented"),e(c)}}function o_e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):fn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Tr(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):fn(s)?i(s):n(s)}}const u_e={name:"codeText",tokenize:f_e,resolve:l_e,previous:c_e};function l_e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function c_e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function f_e(t,e,n){let r=0,i,a;return s;function s(p){return t.enter("codeText"),t.enter("codeTextSequence"),o(p)}function o(p){return p===96?(t.consume(p),r++,o):(t.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),l):p===96?(a=t.enter("codeTextSequence"),i=0,h(p)):fn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(p))}function c(p){return p===null||p===32||p===96||fn(p)?(t.exit("codeTextData"),l(p)):(t.consume(p),c)}function h(p){return p===96?(t.consume(p),i++,h):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",c(p))}}function G9(t){const e={};let n=-1,r,i,a,s,o,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(r=t[n],n&&r[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,d_e(t,n)),n=e[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(s=t[a],s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(t[i][1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},t[i][1].start),o=t.slice(i,n),o.unshift(r),bo(t,i,n-i+1,o))}}return!c}function d_e(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const a=[],s=n._tokenizer||r.parser[n.contentType](n.start),o=s.events,l=[],c={};let h,p,m=-1,y=n,v=0,w=0;const E=[w];for(;y;){for(;t[++i][1]!==y;);a.push(i),y._tokenizer||(h=r.sliceStream(y),y.next||h.push(null),p&&s.defineSkip(y.start),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(h),y._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++m<o.length;)o[m][0]==="exit"&&o[m-1][0]==="enter"&&o[m][1].type===o[m-1][1].type&&o[m][1].start.line!==o[m][1].end.line&&(w=m+1,E.push(w),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(s.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),m=E.length;m--;){const b=o.slice(E[m],E[m+1]),x=a.pop();l.unshift([x,x+b.length-1]),bo(t,x,2,b)}for(m=-1;++m<l.length;)c[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return c}const h_e={tokenize:m_e,resolve:g_e},p_e={tokenize:y_e,partial:!0};function g_e(t){return G9(t),t}function m_e(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):fn(o)?t.check(p_e,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function y_e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Tr(t,a,"linePrefix")}function a(s){if(s===null||fn(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function W9(t,e,n,r,i,a,s,o,l){const c=l||Number.POSITIVE_INFINITY;let h=0;return p;function p(b){return b===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(b),t.exit(a),m):b===null||b===32||b===41||wA(b)?n(b):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),w(b))}function m(b){return b===62?(t.enter(a),t.consume(b),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===62?(t.exit("chunkString"),t.exit(o),m(b)):b===null||b===60||fn(b)?n(b):(t.consume(b),b===92?v:y)}function v(b){return b===60||b===62||b===92?(t.consume(b),y):y(b)}function w(b){return!h&&(b===null||b===41||Ca(b))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(b)):h<c&&b===40?(t.consume(b),h++,w):b===41?(t.consume(b),h--,w):b===null||b===32||b===40||wA(b)?n(b):(t.consume(b),b===92?E:w)}function E(b){return b===40||b===41||b===92?(t.consume(b),w):w(b)}}function Q9(t,e,n,r,i,a){const s=this;let o=0,l;return c;function c(y){return t.enter(r),t.enter(i),t.consume(y),t.exit(i),t.enter(a),h}function h(y){return o>999||y===null||y===91||y===93&&!l||y===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(y):y===93?(t.exit(a),t.enter(i),t.consume(y),t.exit(i),t.exit(r),e):fn(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||fn(y)||o++>999?(t.exit("chunkString"),h(y)):(t.consume(y),l||(l=!Zn(y)),y===92?m:p)}function m(y){return y===91||y===92||y===93?(t.consume(y),o++,p):p(y)}}function Z9(t,e,n,r,i,a){let s;return o;function o(m){return m===34||m===39||m===40?(t.enter(r),t.enter(i),t.consume(m),t.exit(i),s=m===40?41:m,l):n(m)}function l(m){return m===s?(t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):(t.enter(a),c(m))}function c(m){return m===s?(t.exit(a),l(s)):m===null?n(m):fn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),Tr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===s||m===null||fn(m)?(t.exit("chunkString"),c(m)):(t.consume(m),m===92?p:h)}function p(m){return m===s||m===92?(t.consume(m),h):h(m)}}function zg(t,e){let n;return r;function r(i){return fn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Zn(i)?Tr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const v_e={name:"definition",tokenize:w_e},__e={tokenize:b_e,partial:!0};function w_e(t,e,n){const r=this;let i;return a;function a(y){return t.enter("definition"),s(y)}function s(y){return Q9.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function o(y){return i=_d(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(t.enter("definitionMarker"),t.consume(y),t.exit("definitionMarker"),l):n(y)}function l(y){return Ca(y)?zg(t,c)(y):c(y)}function c(y){return W9(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function h(y){return t.attempt(__e,p,p)(y)}function p(y){return Zn(y)?Tr(t,m,"whitespace")(y):m(y)}function m(y){return y===null||fn(y)?(t.exit("definition"),r.parser.defined.push(i),e(y)):n(y)}}function b_e(t,e,n){return r;function r(o){return Ca(o)?zg(t,i)(o):n(o)}function i(o){return Z9(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Zn(o)?Tr(t,s,"whitespace")(o):s(o)}function s(o){return o===null||fn(o)?e(o):n(o)}}const S_e={name:"hardBreakEscape",tokenize:x_e};function x_e(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return fn(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const E_e={name:"headingAtx",tokenize:C_e,resolve:T_e};function T_e(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},bo(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function C_e(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),s(h)}function s(h){return h===35&&r++<6?(t.consume(h),s):h===null||Ca(h)?(t.exit("atxHeadingSequence"),o(h)):n(h)}function o(h){return h===35?(t.enter("atxHeadingSequence"),l(h)):h===null||fn(h)?(t.exit("atxHeading"),e(h)):Zn(h)?Tr(t,o,"whitespace")(h):(t.enter("atxHeadingText"),c(h))}function l(h){return h===35?(t.consume(h),l):(t.exit("atxHeadingSequence"),o(h))}function c(h){return h===null||h===35||Ca(h)?(t.exit("atxHeadingText"),o(h)):(t.consume(h),c)}}const A_e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],m4=["pre","script","style","textarea"],R_e={name:"htmlFlow",tokenize:L_e,resolveTo:I_e,concrete:!0},P_e={tokenize:D_e,partial:!0},O_e={tokenize:M_e,partial:!0};function I_e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function L_e(t,e,n){const r=this;let i,a,s,o,l;return c;function c(H){return h(H)}function h(H){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(H),p}function p(H){return H===33?(t.consume(H),m):H===47?(t.consume(H),a=!0,w):H===63?(t.consume(H),i=3,r.interrupt?e:k):ho(H)?(t.consume(H),s=String.fromCharCode(H),E):n(H)}function m(H){return H===45?(t.consume(H),i=2,y):H===91?(t.consume(H),i=5,o=0,v):ho(H)?(t.consume(H),i=4,r.interrupt?e:k):n(H)}function y(H){return H===45?(t.consume(H),r.interrupt?e:k):n(H)}function v(H){const Y="CDATA[";return H===Y.charCodeAt(o++)?(t.consume(H),o===Y.length?r.interrupt?e:ce:v):n(H)}function w(H){return ho(H)?(t.consume(H),s=String.fromCharCode(H),E):n(H)}function E(H){if(H===null||H===47||H===62||Ca(H)){const Y=H===47,pe=s.toLowerCase();return!Y&&!a&&m4.includes(pe)?(i=1,r.interrupt?e(H):ce(H)):A_e.includes(s.toLowerCase())?(i=6,Y?(t.consume(H),b):r.interrupt?e(H):ce(H)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(H):a?x(H):A(H))}return H===45||Ha(H)?(t.consume(H),s+=String.fromCharCode(H),E):n(H)}function b(H){return H===62?(t.consume(H),r.interrupt?e:ce):n(H)}function x(H){return Zn(H)?(t.consume(H),x):U(H)}function A(H){return H===47?(t.consume(H),U):H===58||H===95||ho(H)?(t.consume(H),I):Zn(H)?(t.consume(H),A):U(H)}function I(H){return H===45||H===46||H===58||H===95||Ha(H)?(t.consume(H),I):M(H)}function M(H){return H===61?(t.consume(H),D):Zn(H)?(t.consume(H),M):A(H)}function D(H){return H===null||H===60||H===61||H===62||H===96?n(H):H===34||H===39?(t.consume(H),l=H,F):Zn(H)?(t.consume(H),D):Z(H)}function F(H){return H===l?(t.consume(H),l=null,X):H===null||fn(H)?n(H):(t.consume(H),F)}function Z(H){return H===null||H===34||H===39||H===47||H===60||H===61||H===62||H===96||Ca(H)?M(H):(t.consume(H),Z)}function X(H){return H===47||H===62||Zn(H)?A(H):n(H)}function U(H){return H===62?(t.consume(H),J):n(H)}function J(H){return H===null||fn(H)?ce(H):Zn(H)?(t.consume(H),J):n(H)}function ce(H){return H===45&&i===2?(t.consume(H),be):H===60&&i===1?(t.consume(H),he):H===62&&i===4?(t.consume(H),ie):H===63&&i===3?(t.consume(H),k):H===93&&i===5?(t.consume(H),Oe):fn(H)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(P_e,ge,re)(H)):H===null||fn(H)?(t.exit("htmlFlowData"),re(H)):(t.consume(H),ce)}function re(H){return t.check(O_e,ue,ge)(H)}function ue(H){return t.enter("lineEnding"),t.consume(H),t.exit("lineEnding"),me}function me(H){return H===null||fn(H)?re(H):(t.enter("htmlFlowData"),ce(H))}function be(H){return H===45?(t.consume(H),k):ce(H)}function he(H){return H===47?(t.consume(H),s="",fe):ce(H)}function fe(H){if(H===62){const Y=s.toLowerCase();return m4.includes(Y)?(t.consume(H),ie):ce(H)}return ho(H)&&s.length<8?(t.consume(H),s+=String.fromCharCode(H),fe):ce(H)}function Oe(H){return H===93?(t.consume(H),k):ce(H)}function k(H){return H===62?(t.consume(H),ie):H===45&&i===2?(t.consume(H),k):ce(H)}function ie(H){return H===null||fn(H)?(t.exit("htmlFlowData"),ge(H)):(t.consume(H),ie)}function ge(H){return t.exit("htmlFlow"),e(H)}}function M_e(t,e,n){const r=this;return i;function i(s){return fn(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function D_e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(gw,e,n)}}const k_e={name:"htmlText",tokenize:N_e};function N_e(t,e,n){const r=this;let i,a,s;return o;function o(k){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(k),l}function l(k){return k===33?(t.consume(k),c):k===47?(t.consume(k),M):k===63?(t.consume(k),A):ho(k)?(t.consume(k),Z):n(k)}function c(k){return k===45?(t.consume(k),h):k===91?(t.consume(k),a=0,v):ho(k)?(t.consume(k),x):n(k)}function h(k){return k===45?(t.consume(k),y):n(k)}function p(k){return k===null?n(k):k===45?(t.consume(k),m):fn(k)?(s=p,he(k)):(t.consume(k),p)}function m(k){return k===45?(t.consume(k),y):p(k)}function y(k){return k===62?be(k):k===45?m(k):p(k)}function v(k){const ie="CDATA[";return k===ie.charCodeAt(a++)?(t.consume(k),a===ie.length?w:v):n(k)}function w(k){return k===null?n(k):k===93?(t.consume(k),E):fn(k)?(s=w,he(k)):(t.consume(k),w)}function E(k){return k===93?(t.consume(k),b):w(k)}function b(k){return k===62?be(k):k===93?(t.consume(k),b):w(k)}function x(k){return k===null||k===62?be(k):fn(k)?(s=x,he(k)):(t.consume(k),x)}function A(k){return k===null?n(k):k===63?(t.consume(k),I):fn(k)?(s=A,he(k)):(t.consume(k),A)}function I(k){return k===62?be(k):A(k)}function M(k){return ho(k)?(t.consume(k),D):n(k)}function D(k){return k===45||Ha(k)?(t.consume(k),D):F(k)}function F(k){return fn(k)?(s=F,he(k)):Zn(k)?(t.consume(k),F):be(k)}function Z(k){return k===45||Ha(k)?(t.consume(k),Z):k===47||k===62||Ca(k)?X(k):n(k)}function X(k){return k===47?(t.consume(k),be):k===58||k===95||ho(k)?(t.consume(k),U):fn(k)?(s=X,he(k)):Zn(k)?(t.consume(k),X):be(k)}function U(k){return k===45||k===46||k===58||k===95||Ha(k)?(t.consume(k),U):J(k)}function J(k){return k===61?(t.consume(k),ce):fn(k)?(s=J,he(k)):Zn(k)?(t.consume(k),J):X(k)}function ce(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),i=k,re):fn(k)?(s=ce,he(k)):Zn(k)?(t.consume(k),ce):(t.consume(k),ue)}function re(k){return k===i?(t.consume(k),i=void 0,me):k===null?n(k):fn(k)?(s=re,he(k)):(t.consume(k),re)}function ue(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Ca(k)?X(k):(t.consume(k),ue)}function me(k){return k===47||k===62||Ca(k)?X(k):n(k)}function be(k){return k===62?(t.consume(k),t.exit("htmlTextData"),t.exit("htmlText"),e):n(k)}function he(k){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),fe}function fe(k){return Zn(k)?Tr(t,Oe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Oe(k)}function Oe(k){return t.enter("htmlTextData"),s(k)}}const pP={name:"labelEnd",tokenize:q_e,resolveTo:B_e,resolveAll:U_e},F_e={tokenize:z_e},j_e={tokenize:H_e},$_e={tokenize:V_e};function U_e(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function B_e(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:Object.assign({},t[a][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[a][1].start),end:Object.assign({},t[s][1].end)},h={type:"labelText",start:Object.assign({},t[a+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return o=[["enter",l,e],["enter",c,e]],o=ps(o,t.slice(a+1,a+r+3)),o=ps(o,[["enter",h,e]]),o=ps(o,hP(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=ps(o,[["exit",h,e],t[s-2],t[s-1],["exit",c,e]]),o=ps(o,t.slice(s+1)),o=ps(o,[["exit",l,e]]),bo(t,a,t.length,o),t}function q_e(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(m){return a?a._inactive?p(m):(s=r.parser.defined.includes(_d(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(m),t.exit("labelMarker"),t.exit("labelEnd"),l):n(m)}function l(m){return m===40?t.attempt(F_e,h,s?h:p)(m):m===91?t.attempt(j_e,h,s?c:p)(m):s?h(m):p(m)}function c(m){return t.attempt($_e,h,p)(m)}function h(m){return e(m)}function p(m){return a._balanced=!0,n(m)}}function z_e(t,e,n){return r;function r(p){return t.enter("resource"),t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),i}function i(p){return Ca(p)?zg(t,a)(p):a(p)}function a(p){return p===41?h(p):W9(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function s(p){return Ca(p)?zg(t,l)(p):h(p)}function o(p){return n(p)}function l(p){return p===34||p===39||p===40?Z9(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):h(p)}function c(p){return Ca(p)?zg(t,h)(p):h(p)}function h(p){return p===41?(t.enter("resourceMarker"),t.consume(p),t.exit("resourceMarker"),t.exit("resource"),e):n(p)}}function H_e(t,e,n){const r=this;return i;function i(o){return Q9.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(_d(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function V_e(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const K_e={name:"labelStartImage",tokenize:G_e,resolveAll:pP.resolveAll};function G_e(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const W_e={name:"labelStartLink",tokenize:Q_e,resolveAll:pP.resolveAll};function Q_e(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const dT={name:"lineEnding",tokenize:Z_e};function Z_e(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Tr(t,e,"linePrefix")}}const N_={name:"thematicBreak",tokenize:J_e};function J_e(t,e,n){let r=0,i;return a;function a(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,o(c)}function o(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fn(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Zn(c)?Tr(t,o,"whitespace")(c):o(c))}}const ba={name:"list",tokenize:e0e,continuation:{tokenize:t0e},exit:r0e},Y_e={tokenize:i0e,partial:!0},X_e={tokenize:n0e,partial:!0};function e0e(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:bA(y)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),y===42||y===45?t.check(N_,n,c)(y):c(y);if(!r.interrupt||y===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(y)}return n(y)}function l(y){return bA(y)&&++s<10?(t.consume(y),l):(!r.interrupt||s<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(t.exit("listItemValue"),c(y)):n(y)}function c(y){return t.enter("listItemMarker"),t.consume(y),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,t.check(gw,r.interrupt?n:h,t.attempt(Y_e,m,p))}function h(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function p(y){return Zn(y)?(t.enter("listItemPrefixWhitespace"),t.consume(y),t.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(y)}}function t0e(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(gw,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tr(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Zn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(X_e,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tr(t,t.attempt(ba,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function n0e(t,e,n){const r=this;return Tr(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function r0e(t){t.exit(this.containerState.type)}function i0e(t,e,n){const r=this;return Tr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Zn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const y4={name:"setextUnderline",tokenize:s0e,resolveTo:a0e};function a0e(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[a][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function s0e(t,e,n){const r=this;let i;return a;function a(c){let h=r.events.length,p;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){p=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(t.consume(c),o):(t.exit("setextHeadingLineSequence"),Zn(c)?Tr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fn(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const o0e={tokenize:u0e};function u0e(t){const e=this,n=t.attempt(gw,r,t.attempt(this.parser.constructs.flowInitial,i,Tr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(h_e,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const l0e={resolveAll:Y9()},c0e=J9("string"),f0e=J9("text");function J9(t){return{tokenize:e,resolveAll:Y9(t==="text"?d0e:void 0)};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(h){return c(h)?a(h):o(h)}function o(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),l}function l(h){return c(h)?(n.exit("data"),a(h)):(n.consume(h),l)}function c(h){if(h===null)return!0;const p=i[h];let m=-1;if(p)for(;++m<p.length;){const y=p[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function Y9(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function d0e(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(c===-2)l=!0,o++;else if(c!==-1){a++;break}}if(o){const c={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-o,offset:r.end.offset-o,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function h0e(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let s=[],o=[];const l={consume:x,enter:A,exit:I,attempt:F(M),check:F(D),interrupt:F(D,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:y,sliceSerialize:m,now:v,defineSkip:w,write:p};let h=e.tokenize.call(c,l);return e.resolveAll&&a.push(e),c;function p(J){return s=ps(s,J),E(),s[s.length-1]!==null?[]:(Z(e,0),c.events=hP(a,c.events,c),c.events)}function m(J,ce){return g0e(y(J),ce)}function y(J){return p0e(s,J)}function v(){const{line:J,column:ce,offset:re,_index:ue,_bufferIndex:me}=r;return{line:J,column:ce,offset:re,_index:ue,_bufferIndex:me}}function w(J){i[J.line]=J.column,U()}function E(){let J;for(;r._index<s.length;){const ce=s[r._index];if(typeof ce=="string")for(J=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===J&&r._bufferIndex<ce.length;)b(ce.charCodeAt(r._bufferIndex));else b(ce)}}function b(J){h=h(J)}function x(J){fn(J)?(r.line++,r.column=1,r.offset+=J===-3?2:1,U()):J!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=J}function A(J,ce){const re=ce||{};return re.type=J,re.start=v(),c.events.push(["enter",re,c]),o.push(re),re}function I(J){const ce=o.pop();return ce.end=v(),c.events.push(["exit",ce,c]),ce}function M(J,ce){Z(J,ce.from)}function D(J,ce){ce.restore()}function F(J,ce){return re;function re(ue,me,be){let he,fe,Oe,k;return Array.isArray(ue)?ge(ue):"tokenize"in ue?ge([ue]):ie(ue);function ie(Ae){return Je;function Je(Re){const Fe=Re!==null&&Ae[Re],Xe=Re!==null&&Ae.null,se=[...Array.isArray(Fe)?Fe:Fe?[Fe]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return ge(se)(Re)}}function ge(Ae){return he=Ae,fe=0,Ae.length===0?be:H(Ae[fe])}function H(Ae){return Je;function Je(Re){return k=X(),Oe=Ae,Ae.partial||(c.currentConstruct=Ae),Ae.name&&c.parser.constructs.disable.null.includes(Ae.name)?pe():Ae.tokenize.call(ce?Object.assign(Object.create(c),ce):c,l,Y,pe)(Re)}}function Y(Ae){return J(Oe,k),me}function pe(Ae){return k.restore(),++fe<he.length?H(he[fe]):be}}}function Z(J,ce){J.resolveAll&&!a.includes(J)&&a.push(J),J.resolve&&bo(c.events,ce,c.events.length-ce,J.resolve(c.events.slice(ce),c)),J.resolveTo&&(c.events=J.resolveTo(c.events,c))}function X(){const J=v(),ce=c.previous,re=c.currentConstruct,ue=c.events.length,me=Array.from(o);return{restore:be,from:ue};function be(){r=J,c.previous=ce,c.currentConstruct=re,c.events.length=ue,o=me,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function p0e(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function g0e(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}const m0e={42:ba,43:ba,45:ba,48:ba,49:ba,50:ba,51:ba,52:ba,53:ba,54:ba,55:ba,56:ba,57:ba,62:H9},y0e={91:v_e},v0e={[-2]:fT,[-1]:fT,32:fT},_0e={35:E_e,42:N_,45:[y4,N_],60:R_e,61:y4,95:N_,96:g4,126:g4},w0e={38:K9,92:V9},b0e={[-5]:dT,[-4]:dT,[-3]:dT,33:K_e,38:K9,42:SA,60:[Qve,k_e],91:W_e,92:[S_e,V9],93:pP,95:SA,96:u_e},S0e={null:[SA,l0e]},x0e={null:[42,95]},E0e={null:[]},T0e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:x0e,contentInitial:y0e,disable:E0e,document:m0e,flow:_0e,flowInitial:v0e,insideSpan:S0e,string:w0e,text:b0e},Symbol.toStringTag,{value:"Module"}));function C0e(t){const n=Dve([T0e,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(qve),document:i(Hve),flow:i(o0e),string:i(c0e),text:i(f0e)};return r;function i(a){return s;function s(o){return h0e(r,a,o)}}}function A0e(t){for(;!G9(t););return t}const v4=/[\0\t\n\r]/g;function R0e(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let c,h,p,m,y;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),p=0,e="",n&&(a.charCodeAt(0)===65279&&p++,n=void 0);p<a.length;){if(v4.lastIndex=p,c=v4.exec(a),m=c&&c.index!==void 0?c.index:a.length,y=a.charCodeAt(m),!c){e=a.slice(p);break}if(y===10&&p===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<m&&(l.push(a.slice(p,m)),t+=m-p),y){case 0:{l.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,l.push(-2);t++<h;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}p=m+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const P0e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function O0e(t){return t.replace(P0e,I0e)}function I0e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return q9(n.slice(a?2:1),a?16:10)}return dP(n)||t}const X9={}.hasOwnProperty;function L0e(t,e,n){return typeof e!="string"&&(n=e,e=void 0),M0e(n)(A0e(C0e(n).document().write(R0e()(t,e,!0))))}function M0e(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:X,autolinkEmail:X,atxHeading:a(ae),blockQuote:a(Fe),characterEscape:X,characterReference:X,codeFenced:a(Xe),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(Xe,s),codeText:a(se,s),codeTextData:X,data:X,codeFlowValue:X,definition:a(z),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a($),hardBreakEscape:a(W),hardBreakTrailing:a(W),htmlFlow:a(de,s),htmlFlowData:X,htmlText:a(de,s),htmlTextData:X,image:a(ye),label:s,link:a(He),listItem:a(Ne),listItemValue:m,listOrdered:a(Te,p),listUnordered:a(Te),paragraph:a(tt),reference:H,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ae),strong:a(nt),thematicBreak:a(qt)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:Re,autolinkProtocol:Je,blockQuote:l(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:pe,characterReferenceMarkerNumeric:pe,characterReferenceValue:Ae,codeFenced:l(E),codeFencedFence:w,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:U,codeIndented:l(b),codeText:l(me),codeTextData:U,data:U,definition:l(),definitionDestinationString:I,definitionLabelString:x,definitionTitleString:A,emphasis:l(),hardBreakEscape:l(ce),hardBreakTrailing:l(ce),htmlFlow:l(re),htmlFlowData:U,htmlText:l(ue),htmlTextData:U,image:l(he),label:Oe,labelText:fe,lineEnding:J,link:l(be),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Y,resourceDestinationString:k,resourceTitleString:ie,resource:ge,setextHeading:l(Z),setextHeadingLineSequence:F,setextHeadingText:D,strong:l(),thematicBreak:l()}};ez(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Be={type:"root",children:[]};const ee={stack:[Be],tokenStack:[],config:e,enter:o,exit:c,buffer:s,resume:h,data:n},q=[];let K=-1;for(;++K<Se.length;)if(Se[K][1].type==="listOrdered"||Se[K][1].type==="listUnordered")if(Se[K][0]==="enter")q.push(K);else{const V=q.pop();K=i(Se,V,K)}for(K=-1;++K<Se.length;){const V=e[Se[K][0]];X9.call(V,Se[K][1].type)&&V[Se[K][1].type].call(Object.assign({sliceSerialize:Se[K][2].sliceSerialize},ee),Se[K][1])}if(ee.tokenStack.length>0){const V=ee.tokenStack[ee.tokenStack.length-1];(V[1]||_4).call(ee,void 0,V[0])}for(Be.position={start:al(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:al(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<e.transforms.length;)Be=e.transforms[K](Be)||Be;return Be}function i(Se,Be,ee){let q=Be-1,K=-1,V=!1,je,Ze,ke,Rt;for(;++q<=ee;){const It=Se[q];switch(It[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{It[0]==="enter"?K++:K--,Rt=void 0;break}case"lineEndingBlank":{It[0]==="enter"&&(je&&!Rt&&!K&&!ke&&(ke=q),Rt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Rt=void 0}if(!K&&It[0]==="enter"&&It[1].type==="listItemPrefix"||K===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(je){let Nt=q;for(Ze=void 0;Nt--;){const Pt=Se[Nt];if(Pt[1].type==="lineEnding"||Pt[1].type==="lineEndingBlank"){if(Pt[0]==="exit")continue;Ze&&(Se[Ze][1].type="lineEndingBlank",V=!0),Pt[1].type="lineEnding",Ze=Nt}else if(!(Pt[1].type==="linePrefix"||Pt[1].type==="blockQuotePrefix"||Pt[1].type==="blockQuotePrefixWhitespace"||Pt[1].type==="blockQuoteMarker"||Pt[1].type==="listItemIndent"))break}ke&&(!Ze||ke<Ze)&&(je._spread=!0),je.end=Object.assign({},Ze?Se[Ze][1].start:It[1].end),Se.splice(Ze||q,0,["exit",je,It[2]]),q++,ee++}if(It[1].type==="listItemPrefix"){const Nt={type:"listItem",_spread:!1,start:Object.assign({},It[1].start),end:void 0};je=Nt,Se.splice(q,0,["enter",Nt,It[2]]),q++,ee++,ke=void 0,Rt=!0}}}return Se[Be][1]._spread=V,ee}function a(Se,Be){return ee;function ee(q){o.call(this,Se(q),q),Be&&Be.call(this,q)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Se,Be,ee){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Be,ee]),Se.position={start:al(Be.start),end:void 0}}function l(Se){return Be;function Be(ee){Se&&Se.call(this,ee),c.call(this,ee)}}function c(Se,Be){const ee=this.stack.pop(),q=this.tokenStack.pop();if(q)q[0].type!==Se.type&&(Be?Be.call(this,Se,q[0]):(q[1]||_4).call(this,Se,q[0]));else throw new Error("Cannot close `"+Se.type+"` ("+qg({start:Se.start,end:Se.end})+"): its not open");ee.position.end=al(Se.end)}function h(){return Lve(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Be=this.stack[this.stack.length-2];Be.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.lang=Se}function v(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.meta=Se}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se.replace(/(\r?\n|\r)$/g,"")}function x(Se){const Be=this.resume(),ee=this.stack[this.stack.length-1];ee.label=Be,ee.identifier=_d(this.sliceSerialize(Se)).toLowerCase()}function A(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function I(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function M(Se){const Be=this.stack[this.stack.length-1];if(!Be.depth){const ee=this.sliceSerialize(Se).length;Be.depth=ee}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(Se){const Be=this.stack[this.stack.length-1];Be.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function X(Se){const ee=this.stack[this.stack.length-1].children;let q=ee[ee.length-1];(!q||q.type!=="text")&&(q=gt(),q.position={start:al(Se.start),end:void 0},ee.push(q)),this.stack.push(q)}function U(Se){const Be=this.stack.pop();Be.value+=this.sliceSerialize(Se),Be.position.end=al(Se.end)}function J(Se){const Be=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ee=Be.children[Be.children.length-1];ee.position.end=al(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Be.type)&&(X.call(this,Se),U.call(this,Se))}function ce(){this.data.atHardBreak=!0}function re(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function ue(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function me(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.value=Se}function be(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function he(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Be=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Be,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function fe(Se){const Be=this.sliceSerialize(Se),ee=this.stack[this.stack.length-2];ee.label=O0e(Be),ee.identifier=_d(Be).toLowerCase()}function Oe(){const Se=this.stack[this.stack.length-1],Be=this.resume(),ee=this.stack[this.stack.length-1];if(this.data.inReference=!0,ee.type==="link"){const q=Se.children;ee.children=q}else ee.alt=Be}function k(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.url=Se}function ie(){const Se=this.resume(),Be=this.stack[this.stack.length-1];Be.title=Se}function ge(){this.data.inReference=void 0}function H(){this.data.referenceType="collapsed"}function Y(Se){const Be=this.resume(),ee=this.stack[this.stack.length-1];ee.label=Be,ee.identifier=_d(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function pe(Se){this.data.characterReferenceType=Se.type}function Ae(Se){const Be=this.sliceSerialize(Se),ee=this.data.characterReferenceType;let q;ee?(q=q9(Be,ee==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):q=dP(Be);const K=this.stack.pop();K.value+=q,K.position.end=al(Se.end)}function Je(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url=this.sliceSerialize(Se)}function Re(Se){U.call(this,Se);const Be=this.stack[this.stack.length-1];Be.url="mailto:"+this.sliceSerialize(Se)}function Fe(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function se(){return{type:"inlineCode",value:""}}function z(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function W(){return{type:"break"}}function de(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Te(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Ne(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function al(t){return{line:t.line,column:t.column,offset:t.offset}}function ez(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ez(t,r):D0e(t,r)}}function D0e(t,e){let n;for(n in e)if(X9.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function _4(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+qg({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+qg({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+qg({start:e.start,end:e.end})+") is still open")}function k0e(t){const e=this;e.parser=n;function n(r){return L0e(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function N0e(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function F0e(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function j0e(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function $0e(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function U0e(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function B0e(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=wh(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function q0e(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function z0e(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function tz(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function H0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return tz(t,e);const i={src:wh(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function V0e(t,e){const n={src:wh(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function K0e(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function G0e(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return tz(t,e);const i={href:wh(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function W0e(t,e){const n={href:wh(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Q0e(t,e,n){const r=t.all(e),i=n?Z0e(n):nz(e),a={},s=[];if(typeof e.checked=="boolean"){const h=r[0];let p;h&&h.type==="element"&&h.tagName==="p"?p=h:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const h=r[o];(i||o!==0||h.type!=="element"||h.tagName!=="p")&&s.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!i?s.push(...h.children):s.push(h)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,c),t.applyData(e,c)}function Z0e(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=nz(n[r])}return e}function nz(t){const e=t.spread;return e??t.children.length>1}function J0e(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function Y0e(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function X0e(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function ewe(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function twe(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=cP(e.children[1]),l=j9(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function nwe(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const p=e.children[l],m={},y=s?s[l]:void 0;y&&(m.align=y);let v={type:"element",tagName:a,properties:m,children:[]};p&&(v.children=t.all(p),t.patch(p,v),v=t.applyData(p,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,h),t.applyData(e,h)}function rwe(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const w4=9,b4=32;function iwe(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(S4(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(S4(e.slice(i),i>0,!1)),a.join("")}function S4(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===w4||a===b4;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===w4||a===b4;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function awe(t,e){const n={type:"text",value:iwe(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function swe(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const owe={blockquote:N0e,break:F0e,code:j0e,delete:$0e,emphasis:U0e,footnoteReference:B0e,heading:q0e,html:z0e,imageReference:H0e,image:V0e,inlineCode:K0e,linkReference:G0e,link:W0e,listItem:Q0e,list:J0e,paragraph:Y0e,root:X0e,strong:ewe,table:twe,tableCell:rwe,tableRow:nwe,text:awe,thematicBreak:swe,toml:bv,yaml:bv,definition:bv,footnoteDefinition:bv};function bv(){}const rz=-1,mw=0,d0=1,h0=2,gP=3,mP=4,yP=5,vP=6,iz=7,az=8,x4=typeof self=="object"?self:globalThis,uwe=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case mw:case rz:return n(s,i);case d0:{const o=n([],i);for(const l of s)o.push(r(l));return o}case h0:{const o=n({},i);for(const[l,c]of s)o[r(l)]=r(c);return o}case gP:return n(new Date(s),i);case mP:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case yP:{const o=n(new Map,i);for(const[l,c]of s)o.set(r(l),r(c));return o}case vP:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case iz:{const{name:o,message:l}=s;return n(new x4[o](l),i)}case az:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i)}return n(new x4[a](s),i)};return r},E4=t=>uwe(new Map,t)(0),nd="",{toString:lwe}={},{keys:cwe}=Object,hg=t=>{const e=typeof t;if(e!=="object"||!t)return[mw,e];const n=lwe.call(t).slice(8,-1);switch(n){case"Array":return[d0,nd];case"Object":return[h0,nd];case"Date":return[gP,nd];case"RegExp":return[mP,nd];case"Map":return[yP,nd];case"Set":return[vP,nd]}return n.includes("Array")?[d0,n]:n.includes("Error")?[iz,n]:[h0,n]},Sv=([t,e])=>t===mw&&(e==="function"||e==="symbol"),fwe=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=hg(s);switch(o){case mw:{let h=s;switch(l){case"bigint":o=az,h=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);h=null;break;case"undefined":return i([rz],s)}return i([o,h],s)}case d0:{if(l)return i([l,[...s]],s);const h=[],p=i([o,h],s);for(const m of s)h.push(a(m));return p}case h0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const h=[],p=i([o,h],s);for(const m of cwe(s))(t||!Sv(hg(s[m])))&&h.push([a(m),a(s[m])]);return p}case gP:return i([o,s.toISOString()],s);case mP:{const{source:h,flags:p}=s;return i([o,{source:h,flags:p}],s)}case yP:{const h=[],p=i([o,h],s);for(const[m,y]of s)(t||!(Sv(hg(m))||Sv(hg(y))))&&h.push([a(m),a(y)]);return p}case vP:{const h=[],p=i([o,h],s);for(const m of s)(t||!Sv(hg(m)))&&h.push(a(m));return p}}const{message:c}=s;return i([o,{name:l,message:c}],s)};return a},T4=(t,{json:e,lossy:n}={})=>{const r=[];return fwe(!(e||n),!!e,new Map,r)(t),r},p0=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?E4(T4(t,e)):structuredClone(t):(t,e)=>E4(T4(t,e));function dwe(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function hwe(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function pwe(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||dwe,r=t.options.footnoteBackLabel||hwe,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const h=t.all(c),p=String(c.identifier).toUpperCase(),m=wh(p.toLowerCase());let y=0;const v=[],w=t.footnoteCounts.get(p);for(;w!==void 0&&++y<=w;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,y);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const x=E.children[E.children.length-1];x&&x.type==="text"?x.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...v)}else h.push(...v);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+m},children:t.wrap(h,!0)};t.patch(c,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...p0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const sz=function(t){if(t==null)return vwe;if(typeof t=="function")return yw(t);if(typeof t=="object")return Array.isArray(t)?gwe(t):mwe(t);if(typeof t=="string")return ywe(t);throw new Error("Expected function, string, or object as test")};function gwe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=sz(t[n]);return yw(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function mwe(t){const e=t;return yw(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function ywe(t){return yw(e);function e(n){return n&&n.type===t}}function yw(t){return e;function e(n,r,i){return!!(_we(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function vwe(){return!0}function _we(t){return t!==null&&typeof t=="object"&&"type"in t}const oz=[],wwe=!0,C4=!1,bwe="skip";function Swe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=sz(i),s=r?-1:1;o(t,void 0,[])();function o(l,c,h){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=oz,v,w,E;if((!e||a(l,c,h[h.length-1]||void 0))&&(y=xwe(n(l,h)),y[0]===C4))return y;if("children"in l&&l.children){const b=l;if(b.children&&y[0]!==bwe)for(w=(r?b.children.length:-1)+s,E=h.concat(b);w>-1&&w<b.children.length;){const x=b.children[w];if(v=o(x,w,E)(),v[0]===C4)return v;w=typeof v[1]=="number"?v[1]:w+s}}return y}}}function xwe(t){return Array.isArray(t)?t:typeof t=="number"?[wwe,t]:t==null?oz:[t]}function uz(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),Swe(t,a,o,i);function o(l,c){const h=c[c.length-1],p=h?h.children.indexOf(l):void 0;return s(l,p,h)}}const xA={}.hasOwnProperty,Ewe={};function Twe(t,e){const n=e||Ewe,r=new Map,i=new Map,a=new Map,s={...owe,...n.handlers},o={all:c,applyData:Awe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Cwe,wrap:Pwe};return uz(t,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const p=h.type==="definition"?r:i,m=String(h.identifier).toUpperCase();p.has(m)||p.set(m,h)}}),o;function l(h,p){const m=h.type,y=o.handlers[m];if(xA.call(o.handlers,m)&&y)return y(o,h,p);if(o.options.passThrough&&o.options.passThrough.includes(m)){if("children"in h){const{children:w,...E}=h,b=p0(E);return b.children=o.all(h),b}return p0(h)}return(o.options.unknownHandler||Rwe)(o,h,p)}function c(h){const p=[];if("children"in h){const m=h.children;let y=-1;for(;++y<m.length;){const v=o.one(m[y],h);if(v){if(y&&m[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=A4(v.value)),!Array.isArray(v)&&v.type==="element")){const w=v.children[0];w&&w.type==="text"&&(w.value=A4(w.value))}Array.isArray(v)?p.push(...v):p.push(v)}}}return p}}function Cwe(t,e){t.position&&(e.position=pve(t))}function Awe(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,p0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Rwe(t,e){const n=e.data||{},r="value"in e&&!(xA.call(n,"hProperties")||xA.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Pwe(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function A4(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function R4(t,e){const n=Twe(t,e),r=n.one(t,void 0),i=pwe(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Owe(t,e){return t&&"run"in t?async function(n,r){const i=R4(n,e);await t.run(i,r)}:function(n){return R4(n,e||t)}}function P4(t){if(t)throw t}var hT,O4;function Iwe(){if(O4)return hT;O4=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},a=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var h=t.call(c,"constructor"),p=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!h&&!p)return!1;var m;for(m in c);return typeof m>"u"||t.call(c,m)},s=function(c,h){n&&h.name==="__proto__"?n(c,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):c[h.name]=h.newValue},o=function(c,h){if(h==="__proto__")if(t.call(c,h)){if(r)return r(c,h).value}else return;return c[h]};return hT=function l(){var c,h,p,m,y,v,w=arguments[0],E=1,b=arguments.length,x=!1;for(typeof w=="boolean"&&(x=w,w=arguments[1]||{},E=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});E<b;++E)if(c=arguments[E],c!=null)for(h in c)p=o(w,h),m=o(c,h),w!==m&&(x&&m&&(a(m)||(y=i(m)))?(y?(y=!1,v=p&&i(p)?p:[]):v=p&&a(p)?p:{},s(w,{name:h,newValue:l(x,v,m)})):typeof m<"u"&&s(w,{name:h,newValue:m}));return w},hT}var Lwe=Iwe();const pT=kr(Lwe);function EA(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Mwe(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...c){const h=t[++a];let p=-1;if(l){s(l);return}for(;++p<i.length;)(c[p]===null||c[p]===void 0)&&(c[p]=i[p]);i=c,h?Dwe(h,o)(...c):s(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function Dwe(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(c){const h=c;if(o&&n)throw h;return i(h)}o||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const io={basename:kwe,dirname:Nwe,extname:Fwe,join:jwe,sep:"/"};function kwe(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Nm(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function Nwe(t){if(Nm(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function Fwe(t){Nm(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function jwe(...t){let e=-1,n;for(;++e<t.length;)Nm(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":$we(n)}function $we(t){Nm(t);const e=t.codePointAt(0)===47;let n=Uwe(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function Uwe(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Nm(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Bwe={cwd:qwe};function qwe(){return"/"}function TA(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function zwe(t){if(typeof t=="string")t=new URL(t);else if(!TA(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Hwe(t)}function Hwe(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const gT=["history","path","basename","stem","extname","dirname"];class lz{constructor(e){let n;e?TA(e)?n={path:e}:typeof e=="string"||Vwe(e)?n={value:e}:n=e:n={},this.cwd=Bwe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<gT.length;){const a=gT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)gT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?io.basename(this.path):void 0}set basename(e){yT(e,"basename"),mT(e,"basename"),this.path=io.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?io.dirname(this.path):void 0}set dirname(e){I4(this.basename,"dirname"),this.path=io.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?io.extname(this.path):void 0}set extname(e){if(mT(e,"extname"),I4(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=io.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){TA(e)&&(e=zwe(e)),yT(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?io.basename(this.path,this.extname):void 0}set stem(e){yT(e,"stem"),mT(e,"stem"),this.path=io.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ga(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function mT(t,e){if(t&&t.includes(io.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+io.sep+"`")}function yT(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function I4(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Vwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Kwe=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const s=Object.getOwnPropertyNames(i);for(const o of s){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(a,o,l)}return a},Gwe={}.hasOwnProperty;class _P extends Kwe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Mwe()}copy(){const e=new _P;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(pT(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(wT("data",this.frozen),this.namespace[e]=n,this):Gwe.call(this.namespace,e)&&this.namespace[e]||void 0:e?(wT("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=xv(e),r=this.parser||this.Parser;return vT("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),vT("process",this.parser||this.Parser),_T("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=xv(e),l=r.parse(o);r.run(l,o,function(h,p,m){if(h||!p||!m)return c(h);const y=p,v=r.stringify(y,m);Zwe(v)?m.value=v:m.result=v,c(h,m)});function c(h,p){h||!p?s(h):a?a(p):n(void 0,p)}}}processSync(e){let n=!1,r;return this.freeze(),vT("processSync",this.parser||this.Parser),_T("processSync",this.compiler||this.Compiler),this.process(e,i),M4("processSync","process",n),r;function i(a,s){n=!0,P4(a),r=s}}run(e,n,r){L4(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=xv(n);i.run(e,l,c);function c(h,p,m){const y=p||e;h?o(h):s?s(y):r(void 0,y,m)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),M4("runSync","run",r),i;function a(s,o){P4(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=xv(n),i=this.compiler||this.Compiler;return _T("stringify",i),L4(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(wT("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...p]=c;l(h,p)}else s(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function s(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=pT(!0,i.settings,c.settings))}function o(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const p=c[h];a(p)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,h){let p=-1,m=-1;for(;++p<r.length;)if(r[p][0]===c){m=p;break}if(m===-1)r.push([c,...h]);else if(h.length>0){let[y,...v]=h;const w=r[m][1];EA(w)&&EA(y)&&(y=pT(!0,w,y)),r[m]=[c,y,...v]}}}}const Wwe=new _P().freeze();function vT(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function _T(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function wT(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function L4(t){if(!EA(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function M4(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function xv(t){return Qwe(t)?t:new lz(t)}function Qwe(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Zwe(t){return typeof t=="string"||Jwe(t)}function Jwe(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const Ywe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",D4=[],k4={allowDangerousHtml:!0},Xwe=/^(https?|ircs?|mailto|xmpp)$/i,ebe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tbe(t){const e=t.allowedElements,n=t.allowElement,r=t.children||"",i=t.className,a=t.components,s=t.disallowedElements,o=t.rehypePlugins||D4,l=t.remarkPlugins||D4,c=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...k4}:k4,h=t.skipHtml,p=t.unwrapDisallowed,m=t.urlTransform||nbe,y=Wwe().use(k0e).use(l).use(Owe,c).use(o),v=new lz;typeof r=="string"&&(v.value=r);for(const x of ebe)Object.hasOwn(t,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+Ywe+x.id,void 0);const w=y.parse(v);let E=y.runSync(w,v);return i&&(E={type:"element",tagName:"div",properties:{className:i},children:E.type==="root"?E.children:[E]}),uz(E,b),wve(E,{Fragment:Q.Fragment,components:a,ignoreInvalidStyle:!0,jsx:Q.jsx,jsxs:Q.jsxs,passKeys:!0,passNode:!0});function b(x,A,I){if(x.type==="raw"&&I&&typeof A=="number")return h?I.children.splice(A,1):I.children[A]={type:"text",value:x.value},A;if(x.type==="element"){let M;for(M in cT)if(Object.hasOwn(cT,M)&&Object.hasOwn(x.properties,M)){const D=x.properties[M],F=cT[M];(F===null||F.includes(x.tagName))&&(x.properties[M]=m(String(D||""),M,x))}}if(x.type==="element"){let M=e?!e.includes(x.tagName):s?s.includes(x.tagName):!1;if(!M&&n&&typeof A=="number"&&(M=!n(x,A,I)),M&&I&&typeof A=="number")return p&&x.children?I.children.splice(A,1,...x.children):I.children.splice(A,1),A}}}function nbe(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e<0||i>-1&&e>i||n>-1&&e>n||r>-1&&e>r||Xwe.test(t.slice(0,e))?t:""}const rbe="_text_e0nft_1",ibe={text:rbe},abe=`# About

WIP`,sbe=()=>Q.jsx(tbe,{className:ibe.text,children:abe}),obe=()=>{const t=bi(th),e=Xd();ne.useEffect(()=>{if(t.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(t.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&e(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[t.isLoggedIn,e])},ube="_spin_pafwh_9",lbe={spin:ube},cz=({className:t,...e})=>Q.jsx(hde,{className:Or(lbe.spin,t),...e}),sm=(t,e)=>{const n=gge(t,e),r=fz(t,e);return ne.useMemo(()=>({isMember:n,...r}),[r,n])},fz=(t,e)=>{const{isLoading:n,variables:r,store:i}=ha({query:ige,variables:ne.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:nr}),a=r.publicTypeIndex??[],s=r.privateTypeIndex??[],o=r.inbox??[],l=r.hospexDocumentForCommunity??[],c=ne.useMemo(()=>(r.hospexDocument??[]).map(v=>{var b;const w=i.getObjects(t,qd.member_of,v).map(({value:x})=>{var A;return{uri:x,name:((A=i.getObjects(x,qd.name,null)[0])==null?void 0:A.value)??""}}),E=i.getObjects(t,Fl.storage,v);return{hospexDocument:v,communities:w,storage:(b=E[0])==null?void 0:b.value}}),[i,t,r]),h=l.length>0?!0:n?void 0:!1,p=a.length>0?!0:n?void 0:!1,m=s.length>0?!0:n?void 0:!1,y=o.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:p,isPrivateTypeIndex:m,isInbox:y,personalHospexDocuments:l,publicTypeIndexes:a,privateTypeIndexes:s,inboxes:o,allHospex:c}},cbe=(t,e)=>{const n=ne.useCallback(async()=>{if(!e)return"mailer not set up";const s=await nr(`${e}/status`);if(!s.ok)throw new Error("Network response was not ok");return s.json()},[e]),{isLoading:r,data:i}=Sm({queryKey:[zr.mailerIntegration],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const a=i.integrations.filter(s=>s.object===t);return a.length===0?!1:a.some(s=>s.verified)?!0:"unverified"},fbe=async(t,e)=>{if(!e)return"mailer not set up";const n=await nr(`${e}/status/${encodeURIComponent(t)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},dz=(t,e)=>Sm({queryKey:[zr.simpleMailerIntegration],queryFn:()=>fbe(t,e)}),dbe=(t,e)=>{const{isLoading:n,data:r}=dz(t,e);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var bT,N4;function hbe(){if(N4)return bT;N4=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return bT=t,bT}var ST,F4;function pbe(){if(F4)return ST;F4=1;function t(e,n,r){var i=-1,a=e.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+n];return s}return ST=t,ST}var xT,j4;function gbe(){if(j4)return xT;j4=1;var t=iw(),e=pbe();function n(r,i){return i.length<2?r:t(r,e(i,0,-1))}return xT=n,xT}var ET,$4;function mbe(){if($4)return ET;$4=1;var t=dh(),e=hbe(),n=gbe(),r=hh();function i(a,s){return s=t(s,a),a=n(a,s),a==null||delete a[r(e(s))]}return ET=i,ET}var TT,U4;function ybe(){if(U4)return TT;U4=1;var t=t9();function e(n){return t(n)?void 0:n}return TT=e,TT}var CT,B4;function vbe(){if(B4)return CT;B4=1;var t=ch(),e=J0(),n=Vs(),r=t?t.isConcatSpreadable:void 0;function i(a){return n(a)||e(a)||!!(r&&a&&a[r])}return CT=i,CT}var AT,q4;function _be(){if(q4)return AT;q4=1;var t=UR(),e=vbe();function n(r,i,a,s,o){var l=-1,c=r.length;for(a||(a=e),o||(o=[]);++l<c;){var h=r[l];i>0&&a(h)?i>1?n(h,i-1,a,s,o):t(o,h):s||(o[o.length]=h)}return o}return AT=n,AT}var RT,z4;function wbe(){if(z4)return RT;z4=1;var t=_be();function e(n){var r=n==null?0:n.length;return r?t(n,1):[]}return RT=e,RT}var PT,H4;function hz(){if(H4)return PT;H4=1;var t=wbe(),e=i9(),n=a9();function r(i){return n(e(i,void 0,t),i+"")}return PT=r,PT}var OT,V4;function bbe(){if(V4)return OT;V4=1;var t=rw(),e=d9(),n=mbe(),r=dh(),i=yh(),a=ybe(),s=hz(),o=f9(),l=1,c=2,h=4,p=s(function(m,y){var v={};if(m==null)return v;var w=!1;y=t(y,function(b){return b=r(b,m),w||(w=b.length>1),b}),i(m,o(m),v),w&&(v=e(v,l|c|h,a));for(var E=y.length;E--;)n(v,y[E]);return v});return OT=p,OT}var Sbe=bbe();const pz=kr(Sbe);var IT,K4;function xbe(){if(K4)return IT;K4=1;function t(e,n){return e<n}return IT=t,IT}var LT,G4;function Ebe(){if(G4)return LT;G4=1;var t=o9(),e=ZR(),n=xbe();function r(i,a){return i&&i.length?t(i,e(a,2),n):void 0}return LT=r,LT}var Tbe=Ebe();const Cbe=kr(Tbe),gz=t=>{var a;const[e,n]=l9(t),[r]=Abe(t),i=((a=e==null?void 0:e.storage)==null?void 0:a.map(s=>s["@id"]))??[];if(n.isFetched)return i[0]??r},Abe=t=>{const[e,n]=ne.useState([wi(t)]),[r,i]=ne.useState(),a=Kge(e),s=ne.useMemo(()=>a.map(l=>{var c,h;return(h=(c=l.data)==null?void 0:c.response)==null?void 0:h.headers.get("Link")}),[a]);ne.useEffect(()=>{const l=s.findIndex(c=>c==null?void 0:c.includes(uh.Storage));l>-1?i(e[l]):a.every(c=>c.isSuccess||c.isError)&&n(c=>{const h=Cbe(c,p=>p.length);if(h){const p=mB(h);if(!c.includes(p))return[...c,p]}return c})},[s,e,a]);const o=!a.every(l=>l.isSuccess||l.isError)||a.length<e.length;return[r,o]};function fu(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function wP(t,e=[]){let n=[];function r(a,s){const o=ne.createContext(s),l=n.length;n=[...n,s];const c=p=>{var b;const{scope:m,children:y,...v}=p,w=((b=m==null?void 0:m[t])==null?void 0:b[l])||o,E=ne.useMemo(()=>v,Object.values(v));return Q.jsx(w.Provider,{value:E,children:y})};c.displayName=a+"Provider";function h(p,m){var w;const y=((w=m==null?void 0:m[t])==null?void 0:w[l])||o,v=ne.useContext(y);if(v)return v;if(s!==void 0)return s;throw new Error(`\`${p}\` must be used within \`${a}\``)}return[c,h]}const i=()=>{const a=n.map(s=>ne.createContext(s));return function(o){const l=(o==null?void 0:o[t])||a;return ne.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Rbe(i,...e)]}function Rbe(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const s=r.reduce((o,{useScope:l,scopeName:c})=>{const p=l(a)[`__scope${c}`];return{...o,...p}},{});return ne.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function W4(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function mz(...t){return e=>{let n=!1;const r=t.map(i=>{const a=W4(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():W4(t[i],null)}}}}function g0(...t){return ne.useCallback(mz(...t),t)}var m0=ne.forwardRef((t,e)=>{const{children:n,...r}=t,i=ne.Children.toArray(n),a=i.find(Obe);if(a){const s=a.props.children,o=i.map(l=>l===a?ne.Children.count(s)>1?ne.Children.only(null):ne.isValidElement(s)?s.props.children:null:l);return Q.jsx(CA,{...r,ref:e,children:ne.isValidElement(s)?ne.cloneElement(s,void 0,o):null})}return Q.jsx(CA,{...r,ref:e,children:n})});m0.displayName="Slot";var CA=ne.forwardRef((t,e)=>{const{children:n,...r}=t;if(ne.isValidElement(n)){const i=Lbe(n);return ne.cloneElement(n,{...Ibe(r,n.props),ref:e?mz(e,i):i})}return ne.Children.count(n)>1?ne.Children.only(null):null});CA.displayName="SlotClone";var Pbe=({children:t})=>Q.jsx(Q.Fragment,{children:t});function Obe(t){return ne.isValidElement(t)&&t.type===Pbe}function Ibe(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...o)=>{a(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function Lbe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mbe(t){const e=t+"CollectionProvider",[n,r]=wP(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=y=>{const{scope:v,children:w}=y,E=Lt.useRef(null),b=Lt.useRef(new Map).current;return Q.jsx(i,{scope:v,itemMap:b,collectionRef:E,children:w})};s.displayName=e;const o=t+"CollectionSlot",l=Lt.forwardRef((y,v)=>{const{scope:w,children:E}=y,b=a(o,w),x=g0(v,b.collectionRef);return Q.jsx(m0,{ref:x,children:E})});l.displayName=o;const c=t+"CollectionItemSlot",h="data-radix-collection-item",p=Lt.forwardRef((y,v)=>{const{scope:w,children:E,...b}=y,x=Lt.useRef(null),A=g0(v,x),I=a(c,w);return Lt.useEffect(()=>(I.itemMap.set(x,{ref:x,...b}),()=>void I.itemMap.delete(x))),Q.jsx(m0,{[h]:"",ref:A,children:E})});p.displayName=c;function m(y){const v=a(t+"CollectionConsumer",y);return Lt.useCallback(()=>{const E=v.collectionRef.current;if(!E)return[];const b=Array.from(E.querySelectorAll(`[${h}]`));return Array.from(v.itemMap.values()).sort((I,M)=>b.indexOf(I.ref.current)-b.indexOf(M.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:s,Slot:l,ItemSlot:p},m,r]}var AA=globalThis!=null&&globalThis.document?ne.useLayoutEffect:()=>{},Dbe=jd.useId||(()=>{}),kbe=0;function yz(t){const[e,n]=ne.useState(Dbe());return AA(()=>{t||n(r=>r??String(kbe++))},[t]),t||(e?`radix-${e}`:"")}var Nbe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],bh=Nbe.reduce((t,e)=>{const n=ne.forwardRef((r,i)=>{const{asChild:a,...s}=r,o=a?m0:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),Q.jsx(o,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bP(t){const e=ne.useRef(t);return ne.useEffect(()=>{e.current=t}),ne.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function vz({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Fbe({defaultProp:e,onChange:n}),a=t!==void 0,s=a?t:r,o=bP(n),l=ne.useCallback(c=>{if(a){const p=typeof c=="function"?c(t):c;p!==t&&o(p)}else i(c)},[a,t,i,o]);return[s,l]}function Fbe({defaultProp:t,onChange:e}){const n=ne.useState(t),[r]=n,i=ne.useRef(r),a=bP(e);return ne.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var jbe=ne.createContext(void 0);function _z(t){const e=ne.useContext(jbe);return t||e||"ltr"}var MT="rovingFocusGroup.onEntryFocus",$be={bubbles:!1,cancelable:!0},vw="RovingFocusGroup",[RA,wz,Ube]=Mbe(vw),[Bbe,bz]=wP(vw,[Ube]),[qbe,zbe]=Bbe(vw),Sz=ne.forwardRef((t,e)=>Q.jsx(RA.Provider,{scope:t.__scopeRovingFocusGroup,children:Q.jsx(RA.Slot,{scope:t.__scopeRovingFocusGroup,children:Q.jsx(Hbe,{...t,ref:e})})}));Sz.displayName=vw;var Hbe=ne.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:s,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,m=ne.useRef(null),y=g0(e,m),v=_z(a),[w=null,E]=vz({prop:s,defaultProp:o,onChange:l}),[b,x]=ne.useState(!1),A=bP(c),I=wz(n),M=ne.useRef(!1),[D,F]=ne.useState(0);return ne.useEffect(()=>{const Z=m.current;if(Z)return Z.addEventListener(MT,A),()=>Z.removeEventListener(MT,A)},[A]),Q.jsx(qbe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:w,onItemFocus:ne.useCallback(Z=>E(Z),[E]),onItemShiftTab:ne.useCallback(()=>x(!0),[]),onFocusableItemAdd:ne.useCallback(()=>F(Z=>Z+1),[]),onFocusableItemRemove:ne.useCallback(()=>F(Z=>Z-1),[]),children:Q.jsx(bh.div,{tabIndex:b||D===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...t.style},onMouseDown:fu(t.onMouseDown,()=>{M.current=!0}),onFocus:fu(t.onFocus,Z=>{const X=!M.current;if(Z.target===Z.currentTarget&&X&&!b){const U=new CustomEvent(MT,$be);if(Z.currentTarget.dispatchEvent(U),!U.defaultPrevented){const J=I().filter(be=>be.focusable),ce=J.find(be=>be.active),re=J.find(be=>be.id===w),me=[ce,re,...J].filter(Boolean).map(be=>be.ref.current);Tz(me,h)}}M.current=!1}),onBlur:fu(t.onBlur,()=>x(!1))})})}),xz="RovingFocusGroupItem",Ez=ne.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...s}=t,o=yz(),l=a||o,c=zbe(xz,n),h=c.currentTabStopId===l,p=wz(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=c;return ne.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),Q.jsx(RA.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:Q.jsx(bh.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:fu(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:fu(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:fu(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const w=Gbe(v,c.orientation,c.dir);if(w!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=p().filter(x=>x.focusable).map(x=>x.ref.current);if(w==="last")b.reverse();else if(w==="prev"||w==="next"){w==="prev"&&b.reverse();const x=b.indexOf(v.currentTarget);b=c.loop?Wbe(b,x+1):b.slice(x+1)}setTimeout(()=>Tz(b))}})})})});Ez.displayName=xz;var Vbe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Kbe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Gbe(t,e,n){const r=Kbe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Vbe[r]}function Tz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Wbe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Qbe=Sz,Zbe=Ez;function Jbe(t,e){return ne.useReducer((n,r)=>e[n][r]??n,t)}var Cz=t=>{const{present:e,children:n}=t,r=Ybe(e),i=typeof n=="function"?n({present:r.isPresent}):ne.Children.only(n),a=g0(r.ref,Xbe(i));return typeof n=="function"||r.isPresent?ne.cloneElement(i,{ref:a}):null};Cz.displayName="Presence";function Ybe(t){const[e,n]=ne.useState(),r=ne.useRef({}),i=ne.useRef(t),a=ne.useRef("none"),s=t?"mounted":"unmounted",[o,l]=Jbe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return ne.useEffect(()=>{const c=Ev(r.current);a.current=o==="mounted"?c:"none"},[o]),AA(()=>{const c=r.current,h=i.current;if(h!==t){const m=a.current,y=Ev(c);t?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),AA(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=y=>{const w=Ev(r.current).includes(y.animationName);if(y.target===e&&w&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=y=>{y.target===e&&(a.current=Ev(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:ne.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ev(t){return(t==null?void 0:t.animationName)||"none"}function Xbe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var SP="Tabs",[e1e,UOe]=wP(SP,[bz]),Az=bz(),[t1e,xP]=e1e(SP),Rz=ne.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:s="horizontal",dir:o,activationMode:l="automatic",...c}=t,h=_z(o),[p,m]=vz({prop:r,onChange:i,defaultProp:a});return Q.jsx(t1e,{scope:n,baseId:yz(),value:p,onValueChange:m,orientation:s,dir:h,activationMode:l,children:Q.jsx(bh.div,{dir:h,"data-orientation":s,...c,ref:e})})});Rz.displayName=SP;var Pz="TabsList",Oz=ne.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,a=xP(Pz,n),s=Az(n);return Q.jsx(Qbe,{asChild:!0,...s,orientation:a.orientation,dir:a.dir,loop:r,children:Q.jsx(bh.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});Oz.displayName=Pz;var Iz="TabsTrigger",Lz=ne.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=t,s=xP(Iz,n),o=Az(n),l=kz(s.baseId,r),c=Nz(s.baseId,r),h=r===s.value;return Q.jsx(Zbe,{asChild:!0,...o,focusable:!i,active:h,children:Q.jsx(bh.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:e,onMouseDown:fu(t.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?s.onValueChange(r):p.preventDefault()}),onKeyDown:fu(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&s.onValueChange(r)}),onFocus:fu(t.onFocus,()=>{const p=s.activationMode!=="manual";!h&&!i&&p&&s.onValueChange(r)})})})});Lz.displayName=Iz;var Mz="TabsContent",Dz=ne.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...s}=t,o=xP(Mz,n),l=kz(o.baseId,r),c=Nz(o.baseId,r),h=r===o.value,p=ne.useRef(h);return ne.useEffect(()=>{const m=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(m)},[]),Q.jsx(Cz,{present:i||h,children:({present:m})=>Q.jsx(bh.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...s,ref:e,style:{...t.style,animationDuration:p.current?"0s":void 0},children:m&&a})})});Dz.displayName=Mz;function kz(t,e){return`${t}-trigger-${e}`}function Nz(t,e){return`${t}-content-${e}`}var n1e=Rz,r1e=Oz,i1e=Lz,a1e=Dz,DT,Q4;function s1e(){if(Q4)return DT;Q4=1;var t=oP(),e=dh(),n=X0(),r=ys(),i=hh();function a(s,o,l,c){if(!r(s))return s;o=e(o,s);for(var h=-1,p=o.length,m=p-1,y=s;y!=null&&++h<p;){var v=i(o[h]),w=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return s;if(h!=m){var E=y[v];w=c?c(E,v,y):void 0,w===void 0&&(w=r(E)?E:n(o[h+1])?[]:{})}t(y,v,w),y=y[v]}return s}return DT=a,DT}var kT,Z4;function o1e(){if(Z4)return kT;Z4=1;var t=iw(),e=s1e(),n=dh();function r(i,a,s){for(var o=-1,l=a.length,c={};++o<l;){var h=a[o],p=t(i,h);s(p,h)&&e(c,n(h,i),p)}return c}return kT=r,kT}var NT,J4;function u1e(){if(J4)return NT;J4=1;var t=o1e(),e=XB();function n(r,i){return t(r,i,function(a,s){return e(r,s)})}return NT=n,NT}var FT,Y4;function l1e(){if(Y4)return FT;Y4=1;var t=u1e(),e=hz(),n=e(function(r,i){return r==null?{}:t(r,i)});return FT=n,FT}var c1e=l1e();const f1e=kr(c1e),d1e="_container_9yuh8_1",h1e="_list_9yuh8_8",p1e="_trigger_9yuh8_13",g1e="_connect_9yuh8_32",m1e="_content_9yuh8_44",y1e="_taskList_9yuh8_54",v1e="_storageOptions_9yuh8_60",_1e="_option_9yuh8_63",gl={container:d1e,list:h1e,trigger:p1e,connect:g1e,content:m1e,taskList:y1e,storageOptions:v1e,option:_1e},w1e={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},b1e={type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}},pf={schema:w1e,shape:"https://example.com/Authorization",context:b1e};let Tv;const S1e=new Uint8Array(16);function x1e(){if(!Tv&&(Tv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Tv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tv(S1e)}const Ii=[];for(let t=0;t<256;++t)Ii.push((t+256).toString(16).slice(1));function E1e(t,e=0){return(Ii[t[e+0]]+Ii[t[e+1]]+Ii[t[e+2]]+Ii[t[e+3]]+"-"+Ii[t[e+4]]+Ii[t[e+5]]+"-"+Ii[t[e+6]]+Ii[t[e+7]]+"-"+Ii[t[e+8]]+Ii[t[e+9]]+"-"+Ii[t[e+10]]+Ii[t[e+11]]+Ii[t[e+12]]+Ii[t[e+13]]+Ii[t[e+14]]+Ii[t[e+15]]).toLowerCase()}const T1e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),X4={randomUUID:T1e};function Al(t,e,n){if(X4.randomUUID&&!e&&!t)return X4.randomUUID();t=t||{};const r=t.random||(t.rng||x1e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,E1e(r)}const C1e=async({index:t,type:e,location:n})=>{const i=n.endsWith("/")?Dn.instanceContainer:Dn.instance,a=await $s(t,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${e}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new Us("Updating type registration failed.",a);const s=Al(),o=await $s(t,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${s}>
          a solid:TypeRegistration;
          solid:forClass <${e}>;
          <${i}> <${n}>.
      } .`});if(!o.ok)throw new Us("Saving type registration failed.",o)},Fz=()=>{const t=Si();return Ra({mutationFn:C1e,onSuccess:(e,{index:n})=>{t.invalidateQueries({queryKey:[zr.rdfDocument,n]})}}).mutateAsync},A1e=()=>{const t=Bs(Cge),e=Ks();return ne.useCallback(async({webId:n,privateTypeIndex:r})=>{await t.mutateAsync({uri:r,data:{"@id":r,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});const i=`_:mutate a <${Dn.InsertDeletePatch}>; <${Dn.inserts}> { <${n}> <${Dn.privateTypeIndex}> <${r}>. }.`;await e.mutateAsync({uri:n,patch:i})},[t,e])},R1e=()=>{const{communityId:t}=kn(),e=df(uw),n=$z(),r=jz(),i=Su(t);return ne.useCallback(async({uri:a,webId:s})=>{await e.mutateAsync({uri:a,subject:s,transform:o=>{o.memberOf??(o.memberOf=[]),o.memberOf.push({"@id":t}),o.storage2??(o.storage2={"@id":wi(a)}),o["@id"]??(o["@id"]=s)}});try{await n({webId:s,uri:wi(a)},{throwOnHttpError:!0})}catch{await r(wi(a),[{operation:"add",access:[go.Read],agentGroups:i.groups,default:!0}])}},[i.groups,t,n,r,e])},jz=()=>{const t=Ks();return ne.useCallback(async(e,n)=>{const r=await Nl(e),a=await(await $s(r)).text(),s=yB(r,a),o=new B0({format:"N-Triples"});for(const c of n){c.agents??(c.agents=[]),c.agentGroups??(c.agentGroups=[]);const h=s.find(v=>{const w=new Set(c.access),E=new Set(v.modes);return w.size===E.size&&Array.from(w).every(b=>E.has(b))&&c.default?v.defaults.includes(e):v.defaults.length===0}),p=v=>{const w=new URL(v);return w.hash=Al(),w.toString()},m=(h==null?void 0:h.url)??p(r),y=new Qr(m);o.addQuads(c.agentGroups.map(v=>new Ms(y,new Qr(xn.agentGroup),new Qr(v)))),o.addQuads(c.agents.map(v=>new Ms(y,new Qr(xn.agent),new Qr(v)))),h||(o.addQuads([new Ms(y,new Qr(lf.type),new Qr(xn.Authorization)),new Ms(y,new Qr(xn.accessTo),new Qr(e)),...c.access.map(v=>new Ms(y,new Qr(xn.mode),new Qr(xn[v])))]),c.default&&o.addQuads([new Ms(y,new Qr(xn.default__workaround),new Qr(e))]))}const l=await new Promise((c,h)=>{o.end((p,m)=>{p?h(p):c(m)})});await t.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${l}
          } .`})},[t])},$z=()=>{const{communityId:t}=kn(),e=Bs(pf),n=Su(t);return ne.useCallback(async({uri:r,webId:i},a={})=>{const s=wi(r),o=await Nl(s);await e.mutateAsync({uri:o,data:[{"@id":o+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":s}],default:{"@id":s},agent:[{"@id":i}],mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":o+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":s}],default:{"@id":s},agentGroup:n.groups.map(l=>({"@id":l})),mode:[{"@id":xn.Read}]}],...a})},[n.groups,e])},P1e=()=>{const t=Bs(uw),e=$z();return ne.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=wi(n);await t.mutateAsync({uri:n,data:{"@id":r,memberOf:[{"@id":i}],storage2:{"@id":a}}}),await e({uri:n,webId:r})},[e,t])},O1e=()=>{const t=Bs(Tge),e=Bs(pf),n=Ks();return ne.useCallback(async({webId:r,publicTypeIndex:i})=>{await t.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});const a=await Nl(i);await e.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":Ol.Agent}],accessTo:[{"@id":i}],mode:[{"@id":xn.Read}]}]});const s=`_:mutate a <${Dn.InsertDeletePatch}>; <${Dn.inserts}> { <${r}> <${Dn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:s})},[e,t,n])},I1e=()=>{const t=Gge(),e=Bs(pf),n=Ks();return ne.useCallback(async({webId:r,inbox:i})=>{await t.mutateAsync({uri:i});const a=await Nl(i);await e.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":xn.AuthenticatedAgent}],accessTo:[{"@id":i}],default:{"@id":i},mode:[{"@id":xn.Append}]}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${Dn.InsertDeletePatch}>; <${Dn.inserts}> { <${r}> <${uu.inbox}> <${i}>. }.`})},[e,t,n])},L1e=()=>{const{emailNotificationsService:t,emailNotificationsIdentity:e}=kn(),n=async o=>{if(!(await nr(`${t}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(o)})).ok)throw new Error("not ok!")},r=Si(),{mutate:i}=Ra({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:[zr.mailerIntegration]})}}),a=ne.useCallback(({webId:o,inbox:l,email:c})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:o,object:l,target:c})},[i]),s=df(pf);return ne.useCallback(async({email:o,inbox:l,webId:c})=>{const h=await Nl(l);await s.mutateAsync({uri:h,subject:h+"#read",transform:p=>{p["@id"]=h+"#read",p.type={"@id":"Authorization"},p.agent=[{"@id":e}],p.accessTo=[{"@id":l}],p.default={"@id":l},p.mode=[{"@id":xn.Read}]}}),a({email:o,inbox:l,webId:c})},[e,a,s])},M1e=()=>{const{emailNotificationsService:t}=kn(),e=async i=>{const a=await nr(`${t}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new Us("Sending verification email failed",a)},n=Si();return Ra({mutationFn:e,onSuccess:()=>{n.invalidateQueries({queryKey:[zr.simpleMailerIntegration]})}})},D1e=()=>{const{emailNotificationsIdentity:t}=kn(),e=df(pf),n=Ks(),r=jz();return ne.useCallback(async({hospexDocument:a,webId:s,email:o})=>{const l=wi(a);await r(l,[{operation:"add",access:[go.Read],agents:[t],default:!0}]);const c=l+"emailSettings-"+Al(),h=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${s}> <${Ol.mbox}> "${o}". } .`;await n.mutateAsync({uri:c,patch:h});const p=await Nl(c);await e.mutateAsync({uri:p,subject:p+"#owner",transform:y=>{y["@id"]=p+"#owner",y.type={"@id":"Authorization"},y.agent=[{"@id":s}],y.accessTo=[{"@id":c}],y.mode=[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]}}),await e.mutateAsync({uri:p,subject:p+"#readWriteMailer",transform:y=>{y["@id"]=p+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent=[{"@id":t}],y.accessTo=[{"@id":c}],y.mode=[{"@id":xn.Read},{"@id":xn.Write}]}});const m=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${s}> <${uh.preferencesFile}> <${c}>. } .`;await n.mutateAsync({uri:a,patch:m})},[t,r,e,n])};var Fm=t=>t.type==="checkbox",hd=t=>t instanceof Date,la=t=>t==null;const Uz=t=>typeof t=="object";var fi=t=>!la(t)&&!Array.isArray(t)&&Uz(t)&&!hd(t),Bz=t=>fi(t)&&t.target?Fm(t.target)?t.target.checked:t.target.value:t,k1e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,qz=(t,e)=>t.has(k1e(e)),jm=t=>Array.isArray(t)?t.filter(Boolean):[],ri=t=>t===void 0,Bt=(t,e,n)=>{if(!e||!fi(t))return n;const r=jm(e.split(/[,[\].]+?/)).reduce((i,a)=>la(i)?i:i[a],t);return ri(r)||r===t?ri(t[e])?n:t[e]:r};const y0={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},eu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},N1e=Lt.createContext(null),EP=()=>Lt.useContext(N1e);var zz=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const s=a;return e._proxyFormState[s]!==Fs.all&&(e._proxyFormState[s]=!r||Fs.all),n&&(n[s]=!0),t[s]}});return i},ds=t=>fi(t)&&!Object.keys(t).length,Hz=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return ds(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(s=>e[s]===(!r||Fs.all))},F_=t=>Array.isArray(t)?t:[t],Vz=(t,e,n)=>n&&e?t===e:!t||!e||t===e||F_(t).some(r=>r&&(r.startsWith(e)||e.startsWith(r)));function TP(t){const e=Lt.useRef(t);e.current=t,Lt.useEffect(()=>{const n=!t.disabled&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function F1e(t){const e=EP(),{control:n=e.control,disabled:r,name:i,exact:a}=t,[s,o]=Lt.useState(n._formState),l=Lt.useRef(!0),c=Lt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=Lt.useRef(i);return h.current=i,TP({disabled:r,next:p=>l.current&&Vz(h.current,p.name,a)&&Hz(p,c.current,n._updateFormState)&&o({...n._formState,...p}),subject:n._subjects.state}),Lt.useEffect(()=>{l.current=!0;const p=n._proxyFormState.isDirty&&n._getDirty();return p!==n._formState.isDirty&&n._subjects.state.next({isDirty:p}),c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),zz(s,n,c.current,!1)}var mo=t=>typeof t=="string",Kz=(t,e,n,r,i)=>mo(t)?(r&&e.watch.add(t),Bt(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),Bt(n,a))):(r&&(e.watchAll=!0),n),j1e=t=>{const e=t.constructor&&t.constructor.prototype;return fi(e)&&e.hasOwnProperty("isPrototypeOf")},CP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function dl(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(CP&&(t instanceof Blob||t instanceof FileList))&&(n||fi(t)))if(e=n?[]:{},!Array.isArray(t)&&!j1e(t))e=t;else for(const r in t)e[r]=dl(t[r]);else return t;return e}function $1e(t){const e=EP(),{control:n=e.control,name:r,defaultValue:i,disabled:a,exact:s}=t,o=Lt.useRef(r);o.current=r,TP({disabled:a,subject:n._subjects.watch,next:h=>{Vz(o.current,h.name,s)&&c(dl(Kz(o.current,n._names,h.values||n._formValues,!1,i)))}});const[l,c]=Lt.useState(n._getWatch(r,i));return Lt.useEffect(()=>n._removeUnmounted()),l}function U1e(t){const e=EP(),{name:n,control:r=e.control,shouldUnregister:i}=t,a=qz(r._names.array,n),s=$1e({control:r,name:n,defaultValue:Bt(r._formValues,n,Bt(r._defaultValues,n,t.defaultValue)),exact:!0}),o=F1e({control:r,name:n}),l=Lt.useRef(r.register(n,{...t.rules,value:s}));return Lt.useEffect(()=>{const c=(h,p)=>{const m=Bt(r._fields,h);m&&(m._f.mount=p)};return c(n,!0),()=>{const h=r._options.shouldUnregister||i;(a?h&&!r._stateFlags.action:h)?r.unregister(n):c(n,!1)}},[n,r,a,i]),{field:{name:n,value:s,onChange:Lt.useCallback(c=>l.current.onChange({target:{value:Bz(c),name:n},type:y0.CHANGE}),[n]),onBlur:Lt.useCallback(()=>l.current.onBlur({target:{value:Bt(r._formValues,n),name:n},type:y0.BLUR}),[n,r]),ref:c=>{const h=Bt(r._fields,n);h&&c&&(h._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:p=>c.setCustomValidity(p),reportValidity:()=>c.reportValidity()})}},formState:o,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Bt(o.errors,n)},isDirty:{enumerable:!0,get:()=>!!Bt(o.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Bt(o.touchedFields,n)},error:{enumerable:!0,get:()=>Bt(o.errors,n)}})}}const B1e=t=>t.render(U1e(t));var Gz=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},AP=t=>/^\w*$/.test(t),Wz=t=>jm(t.replace(/["|']|\]/g,"").split(/\.|\[/));function _r(t,e,n){let r=-1;const i=AP(e)?[e]:Wz(e),a=i.length,s=a-1;for(;++r<a;){const o=i[r];let l=n;if(r!==s){const c=t[o];l=fi(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}t[o]=l,t=t[o]}return t}const PA=(t,e,n)=>{for(const r of n||Object.keys(t)){const i=Bt(t,r);if(i){const{_f:a,...s}=i;if(a&&e(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else fi(s)&&PA(s,e)}}};var e6=t=>({isOnSubmit:!t||t===Fs.onSubmit,isOnBlur:t===Fs.onBlur,isOnChange:t===Fs.onChange,isOnAll:t===Fs.all,isOnTouch:t===Fs.onTouched}),t6=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length)))),q1e=(t,e,n)=>{const r=jm(Bt(t,n));return _r(r,"root",e[n]),_r(t,n,r),t},wd=t=>typeof t=="boolean",RP=t=>t.type==="file",bd=t=>typeof t=="function",v0=t=>{if(!CP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},j_=t=>mo(t)||Lt.isValidElement(t),PP=t=>t.type==="radio",_0=t=>t instanceof RegExp;const n6={value:!1,isValid:!1},r6={value:!0,isValid:!0};var Qz=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ri(t[0].attributes.value)?ri(t[0].value)||t[0].value===""?r6:{value:t[0].value,isValid:!0}:r6:n6}return n6};const i6={isValid:!1,value:null};var Zz=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,i6):i6;function a6(t,e,n="validate"){if(j_(t)||Array.isArray(t)&&t.every(j_)||wd(t)&&!t)return{type:n,message:j_(t)?t:"",ref:e}}var rd=t=>fi(t)&&!_0(t)?t:{value:t,message:""},s6=async(t,e,n,r,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:c,min:h,max:p,pattern:m,validate:y,name:v,valueAsNumber:w,mount:E,disabled:b}=t._f,x=Bt(e,v);if(!E||b)return{};const A=s?s[0]:a,I=ce=>{r&&A.reportValidity&&(A.setCustomValidity(wd(ce)?"":ce||""),A.reportValidity())},M={},D=PP(a),F=Fm(a),Z=D||F,X=(w||RP(a))&&ri(a.value)&&ri(x)||v0(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,U=Gz.bind(null,v,n,M),J=(ce,re,ue,me=eu.maxLength,be=eu.minLength)=>{const he=ce?re:ue;M[v]={type:ce?me:be,message:he,ref:a,...U(ce?me:be,he)}};if(i?!Array.isArray(x)||!x.length:o&&(!Z&&(X||la(x))||wd(x)&&!x||F&&!Qz(s).isValid||D&&!Zz(s).isValid)){const{value:ce,message:re}=j_(o)?{value:!!o,message:o}:rd(o);if(ce&&(M[v]={type:eu.required,message:re,ref:A,...U(eu.required,re)},!n))return I(re),M}if(!X&&(!la(h)||!la(p))){let ce,re;const ue=rd(p),me=rd(h);if(!la(x)&&!isNaN(x)){const be=a.valueAsNumber||x&&+x;la(ue.value)||(ce=be>ue.value),la(me.value)||(re=be<me.value)}else{const be=a.valueAsDate||new Date(x),he=k=>new Date(new Date().toDateString()+" "+k),fe=a.type=="time",Oe=a.type=="week";mo(ue.value)&&x&&(ce=fe?he(x)>he(ue.value):Oe?x>ue.value:be>new Date(ue.value)),mo(me.value)&&x&&(re=fe?he(x)<he(me.value):Oe?x<me.value:be<new Date(me.value))}if((ce||re)&&(J(!!ce,ue.message,me.message,eu.max,eu.min),!n))return I(M[v].message),M}if((l||c)&&!X&&(mo(x)||i&&Array.isArray(x))){const ce=rd(l),re=rd(c),ue=!la(ce.value)&&x.length>ce.value,me=!la(re.value)&&x.length<re.value;if((ue||me)&&(J(ue,ce.message,re.message),!n))return I(M[v].message),M}if(m&&!X&&mo(x)){const{value:ce,message:re}=rd(m);if(_0(ce)&&!x.match(ce)&&(M[v]={type:eu.pattern,message:re,ref:a,...U(eu.pattern,re)},!n))return I(re),M}if(y){if(bd(y)){const ce=await y(x,e),re=a6(ce,A);if(re&&(M[v]={...re,...U(eu.validate,re.message)},!n))return I(re.message),M}else if(fi(y)){let ce={};for(const re in y){if(!ds(ce)&&!n)break;const ue=a6(await y[re](x,e),A,re);ue&&(ce={...ue,...U(re,ue.message)},I(ue.message),n&&(M[v]=ce))}if(!ds(ce)&&(M[v]={ref:A,...ce},!n))return M}}return I(!0),M};function z1e(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ri(t)?r++:t[e[r++]];return t}function H1e(t){for(const e in t)if(!ri(t[e]))return!1;return!0}function Li(t,e){const n=Array.isArray(e)?e:AP(e)?[e]:Wz(e),r=n.length===1?t:z1e(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(fi(r)&&ds(r)||Array.isArray(r)&&H1e(r))&&Li(t,n.slice(0,-1)),t}function jT(){let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}}var w0=t=>la(t)||!Uz(t);function jc(t,e){if(w0(t)||w0(e))return t===e;if(hd(t)&&hd(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=e[i];if(hd(a)&&hd(s)||fi(a)&&fi(s)||Array.isArray(a)&&Array.isArray(s)?!jc(a,s):a!==s)return!1}}return!0}var Jz=t=>t.type==="select-multiple",V1e=t=>PP(t)||Fm(t),$T=t=>v0(t)&&t.isConnected,Yz=t=>{for(const e in t)if(bd(t[e]))return!0;return!1};function b0(t,e={}){const n=Array.isArray(t);if(fi(t)||n)for(const r in t)Array.isArray(t[r])||fi(t[r])&&!Yz(t[r])?(e[r]=Array.isArray(t[r])?[]:{},b0(t[r],e[r])):la(t[r])||(e[r]=!0);return e}function Xz(t,e,n){const r=Array.isArray(t);if(fi(t)||r)for(const i in t)Array.isArray(t[i])||fi(t[i])&&!Yz(t[i])?ri(e)||w0(n[i])?n[i]=Array.isArray(t[i])?b0(t[i],[]):{...b0(t[i])}:Xz(t[i],la(e)?{}:e[i],n[i]):jc(t[i],e[i])?delete n[i]:n[i]=!0;return n}var UT=(t,e)=>Xz(t,e,b0(e)),eH=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ri(t)?t:e?t===""?NaN:t&&+t:n&&mo(t)?new Date(t):r?r(t):t;function BT(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return RP(e)?e.files:PP(e)?Zz(t.refs).value:Jz(e)?[...e.selectedOptions].map(({value:n})=>n):Fm(e)?Qz(t.refs).value:eH(ri(e.value)?t.ref.value:e.value,t)}var K1e=(t,e,n,r)=>{const i={};for(const a of t){const s=Bt(e,a);s&&_r(i,a,s._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},pg=t=>ri(t)?t:_0(t)?t.source:fi(t)?_0(t.value)?t.value.source:t.value:t,G1e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function o6(t,e,n){const r=Bt(t,n);if(r||AP(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),s=Bt(e,a),o=Bt(t,a);if(s&&!Array.isArray(s)&&n!==a)return{name:n};if(o&&o.type)return{name:a,error:o};i.pop()}return{name:n}}var W1e=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Q1e=(t,e)=>!jm(Bt(t,e)).length&&Li(t,e);const Z1e={mode:Fs.onSubmit,reValidateMode:Fs.onChange,shouldFocusError:!0};function J1e(t={},e){let n={...Z1e,...t};const r=t.resetOptions&&t.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},s=fi(n.defaultValues)||fi(n.values)?dl(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:dl(s),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:jT(),array:jT(),state:jT()},v=e6(n.mode),w=e6(n.reValidateMode),E=n.criteriaMode===Fs.all,b=W=>de=>{clearTimeout(p),p=window.setTimeout(W,de)},x=async W=>{if(m.isValid||W){const de=n.resolver?ds((await X()).errors):await J(a,!0);de!==i.isValid&&y.state.next({isValid:de})}},A=W=>m.isValidating&&y.state.next({isValidating:W}),I=(W,de=[],ye,He,Te=!0,Ne=!0)=>{if(He&&ye){if(l.action=!0,Ne&&Array.isArray(Bt(a,W))){const tt=ye(Bt(a,W),He.argA,He.argB);Te&&_r(a,W,tt)}if(Ne&&Array.isArray(Bt(i.errors,W))){const tt=ye(Bt(i.errors,W),He.argA,He.argB);Te&&_r(i.errors,W,tt),Q1e(i.errors,W)}if(m.touchedFields&&Ne&&Array.isArray(Bt(i.touchedFields,W))){const tt=ye(Bt(i.touchedFields,W),He.argA,He.argB);Te&&_r(i.touchedFields,W,tt)}m.dirtyFields&&(i.dirtyFields=UT(s,o)),y.state.next({name:W,isDirty:re(W,de),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else _r(o,W,de)},M=(W,de)=>{_r(i.errors,W,de),y.state.next({errors:i.errors})},D=(W,de,ye,He)=>{const Te=Bt(a,W);if(Te){const Ne=Bt(o,W,ri(ye)?Bt(s,W):ye);ri(Ne)||He&&He.defaultChecked||de?_r(o,W,de?Ne:BT(Te._f)):be(W,Ne),l.mount&&x()}},F=(W,de,ye,He,Te)=>{let Ne=!1,tt=!1;const nt={name:W};if(!ye||He){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=re(),Ne=tt!==nt.isDirty);const gt=jc(Bt(s,W),de);tt=Bt(i.dirtyFields,W),gt?Li(i.dirtyFields,W):_r(i.dirtyFields,W,!0),nt.dirtyFields=i.dirtyFields,Ne=Ne||m.dirtyFields&&tt!==!gt}if(ye){const gt=Bt(i.touchedFields,W);gt||(_r(i.touchedFields,W,ye),nt.touchedFields=i.touchedFields,Ne=Ne||m.touchedFields&&gt!==ye)}return Ne&&Te&&y.state.next(nt),Ne?nt:{}},Z=(W,de,ye,He)=>{const Te=Bt(i.errors,W),Ne=m.isValid&&wd(de)&&i.isValid!==de;if(t.delayError&&ye?(h=b(()=>M(W,ye)),h(t.delayError)):(clearTimeout(p),h=null,ye?_r(i.errors,W,ye):Li(i.errors,W)),(ye?!jc(Te,ye):Te)||!ds(He)||Ne){const tt={...He,...Ne&&wd(de)?{isValid:de}:{},errors:i.errors,name:W};i={...i,...tt},y.state.next(tt)}A(!1)},X=async W=>await n.resolver(o,n.context,K1e(W||c.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),U=async W=>{const{errors:de}=await X();if(W)for(const ye of W){const He=Bt(de,ye);He?_r(i.errors,ye,He):Li(i.errors,ye)}else i.errors=de;return de},J=async(W,de,ye={valid:!0})=>{for(const He in W){const Te=W[He];if(Te){const{_f:Ne,...tt}=Te;if(Ne){const nt=c.array.has(Ne.name),gt=await s6(Te,o,E,n.shouldUseNativeValidation,nt);if(gt[Ne.name]&&(ye.valid=!1,de))break;!de&&(Bt(gt,Ne.name)?nt?q1e(i.errors,gt,Ne.name):_r(i.errors,Ne.name,gt[Ne.name]):Li(i.errors,Ne.name))}tt&&await J(tt,de,ye)}}return ye.valid},ce=()=>{for(const W of c.unMount){const de=Bt(a,W);de&&(de._f.refs?de._f.refs.every(ye=>!$T(ye)):!$T(de._f.ref))&&Ae(W)}c.unMount=new Set},re=(W,de)=>(W&&de&&_r(o,W,de),!jc(ie(),s)),ue=(W,de,ye)=>Kz(W,c,{...l.mount?o:ri(de)?s:mo(W)?{[W]:de}:de},ye,de),me=W=>jm(Bt(l.mount?o:s,W,t.shouldUnregister?Bt(s,W,[]):[])),be=(W,de,ye={})=>{const He=Bt(a,W);let Te=de;if(He){const Ne=He._f;Ne&&(!Ne.disabled&&_r(o,W,eH(de,Ne)),Te=v0(Ne.ref)&&la(de)?"":de,Jz(Ne.ref)?[...Ne.ref.options].forEach(tt=>tt.selected=Te.includes(tt.value)):Ne.refs?Fm(Ne.ref)?Ne.refs.length>1?Ne.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Te)?!!Te.find(nt=>nt===tt.value):Te===tt.value)):Ne.refs[0]&&(Ne.refs[0].checked=!!Te):Ne.refs.forEach(tt=>tt.checked=tt.value===Te):RP(Ne.ref)?Ne.ref.value="":(Ne.ref.value=Te,Ne.ref.type||y.watch.next({name:W})))}(ye.shouldDirty||ye.shouldTouch)&&F(W,Te,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(W)},he=(W,de,ye)=>{for(const He in de){const Te=de[He],Ne=`${W}.${He}`,tt=Bt(a,Ne);(c.array.has(W)||!w0(Te)||tt&&!tt._f)&&!hd(Te)?he(Ne,Te,ye):be(Ne,Te,ye)}},fe=(W,de,ye={})=>{const He=Bt(a,W),Te=c.array.has(W),Ne=dl(de);_r(o,W,Ne),Te?(y.array.next({name:W,values:o}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:W,dirtyFields:UT(s,o),isDirty:re(W,Ne)})):He&&!He._f&&!la(Ne)?he(W,Ne,ye):be(W,Ne,ye),t6(W,c)&&y.state.next({}),y.watch.next({name:W}),!l.mount&&e()},Oe=async W=>{const de=W.target;let ye=de.name;const He=Bt(a,ye),Te=()=>de.type?BT(He._f):Bz(W);if(He){let Ne,tt;const nt=Te(),gt=W.type===y0.BLUR||W.type===y0.FOCUS_OUT,qt=!G1e(He._f)&&!n.resolver&&!Bt(i.errors,ye)&&!He._f.deps||W1e(gt,Bt(i.touchedFields,ye),i.isSubmitted,w,v),Se=t6(ye,c,gt);_r(o,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(W),h&&h(0)):He._f.onChange&&He._f.onChange(W);const Be=F(ye,nt,gt,!1),ee=!ds(Be)||Se;if(!gt&&y.watch.next({name:ye,type:W.type}),qt)return m.isValid&&x(),ee&&y.state.next({name:ye,...Se?{}:Be});if(!gt&&Se&&y.state.next({}),A(!0),n.resolver){const{errors:q}=await X([ye]),K=o6(i.errors,a,ye),V=o6(q,a,K.name||ye);Ne=V.error,ye=V.name,tt=ds(q)}else Ne=(await s6(He,o,E,n.shouldUseNativeValidation))[ye],Ne?tt=!1:m.isValid&&(tt=await J(a,!0));He._f.deps&&k(He._f.deps),Z(ye,tt,Ne,Be)}},k=async(W,de={})=>{let ye,He;const Te=F_(W);if(A(!0),n.resolver){const Ne=await U(ri(W)?W:Te);ye=ds(Ne),He=W?!Te.some(tt=>Bt(Ne,tt)):ye}else W?(He=(await Promise.all(Te.map(async Ne=>{const tt=Bt(a,Ne);return await J(tt&&tt._f?{[Ne]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&x()):He=ye=await J(a);return y.state.next({...!mo(W)||m.isValid&&ye!==i.isValid?{}:{name:W},...n.resolver||!W?{isValid:ye}:{},errors:i.errors,isValidating:!1}),de.shouldFocus&&!He&&PA(a,Ne=>Ne&&Bt(i.errors,Ne),W?Te:c.mount),He},ie=W=>{const de={...s,...l.mount?o:{}};return ri(W)?de:mo(W)?Bt(de,W):W.map(ye=>Bt(de,ye))},ge=(W,de)=>({invalid:!!Bt((de||i).errors,W),isDirty:!!Bt((de||i).dirtyFields,W),isTouched:!!Bt((de||i).touchedFields,W),error:Bt((de||i).errors,W)}),H=W=>{W&&F_(W).forEach(de=>Li(i.errors,de)),y.state.next({errors:W?i.errors:{}})},Y=(W,de,ye)=>{const He=(Bt(a,W,{_f:{}})._f||{}).ref;_r(i.errors,W,{...de,ref:He}),y.state.next({name:W,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},pe=(W,de)=>bd(W)?y.watch.subscribe({next:ye=>W(ue(void 0,de),ye)}):ue(W,de,!0),Ae=(W,de={})=>{for(const ye of W?F_(W):c.mount)c.mount.delete(ye),c.array.delete(ye),Bt(a,ye)&&(de.keepValue||(Li(a,ye),Li(o,ye)),!de.keepError&&Li(i.errors,ye),!de.keepDirty&&Li(i.dirtyFields,ye),!de.keepTouched&&Li(i.touchedFields,ye),!n.shouldUnregister&&!de.keepDefaultValue&&Li(s,ye));y.watch.next({}),y.state.next({...i,...de.keepDirty?{isDirty:re()}:{}}),!de.keepIsValid&&x()},Je=(W,de={})=>{let ye=Bt(a,W);const He=wd(de.disabled);return _r(a,W,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:W}},name:W,mount:!0,...de}}),c.mount.add(W),ye?He&&_r(o,W,de.disabled?void 0:Bt(o,W,BT(ye._f))):D(W,!0,de.value),{...He?{disabled:de.disabled}:{},...n.shouldUseNativeValidation?{required:!!de.required,min:pg(de.min),max:pg(de.max),minLength:pg(de.minLength),maxLength:pg(de.maxLength),pattern:pg(de.pattern)}:{},name:W,onChange:Oe,onBlur:Oe,ref:Te=>{if(Te){Je(W,de),ye=Bt(a,W);const Ne=ri(Te.value)&&Te.querySelectorAll&&Te.querySelectorAll("input,select,textarea")[0]||Te,tt=V1e(Ne),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Ne):Ne===ye._f.ref)return;_r(a,W,{_f:{...ye._f,...tt?{refs:[...nt.filter($T),Ne,...Array.isArray(Bt(s,W))?[{}]:[]],ref:{type:Ne.type,name:W}}:{ref:Ne}}}),D(W,!1,void 0,Ne)}else ye=Bt(a,W,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||de.shouldUnregister)&&!(qz(c.array,W)&&l.action)&&c.unMount.add(W)}}},Re=()=>n.shouldFocusError&&PA(a,W=>W&&Bt(i.errors,W),c.mount),Fe=(W,de)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=dl(o);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Te,values:Ne}=await X();i.errors=Te,He=Ne}else await J(a);Li(i.errors,"root"),ds(i.errors)?(y.state.next({errors:{}}),await W(He,ye)):(de&&await de({...i.errors},ye),Re()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ds(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Xe=(W,de={})=>{Bt(a,W)&&(ri(de.defaultValue)?fe(W,Bt(s,W)):(fe(W,de.defaultValue),_r(s,W,de.defaultValue)),de.keepTouched||Li(i.touchedFields,W),de.keepDirty||(Li(i.dirtyFields,W),i.isDirty=de.defaultValue?re(W,Bt(s,W)):re()),de.keepError||(Li(i.errors,W),m.isValid&&x()),y.state.next({...i}))},se=(W,de={})=>{const ye=W||s,He=dl(ye),Te=W&&!ds(W)?He:s;if(de.keepDefaultValues||(s=ye),!de.keepValues){if(de.keepDirtyValues||r)for(const Ne of c.mount)Bt(i.dirtyFields,Ne)?_r(Te,Ne,Bt(o,Ne)):fe(Ne,Bt(Te,Ne));else{if(CP&&ri(W))for(const Ne of c.mount){const tt=Bt(a,Ne);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(v0(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}o=t.shouldUnregister?de.keepDefaultValues?dl(s):{}:He,y.array.next({values:Te}),y.watch.next({values:Te})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&e(),l.mount=!m.isValid||!!de.keepIsValid,l.watch=!!t.shouldUnregister,y.state.next({submitCount:de.keepSubmitCount?i.submitCount:0,isDirty:de.keepDirty||de.keepDirtyValues?i.isDirty:!!(de.keepDefaultValues&&!jc(W,s)),isSubmitted:de.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:de.keepDirty||de.keepDirtyValues?i.dirtyFields:de.keepDefaultValues&&W?UT(s,W):{},touchedFields:de.keepTouched?i.touchedFields:{},errors:de.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},z=(W,de)=>se(bd(W)?W(o):W,de),$=(W,de={})=>{const ye=Bt(a,W),He=ye&&ye._f;if(He){const Te=He.refs?He.refs[0]:He.ref;Te.focus&&(Te.focus(),de.shouldSelect&&Te.select())}},ae=W=>{i={...i,...W}};return bd(n.defaultValues)&&n.defaultValues().then(W=>{z(W,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Je,unregister:Ae,getFieldState:ge,_executeSchema:X,_focusError:Re,_getWatch:ue,_getDirty:re,_updateValid:x,_removeUnmounted:ce,_updateFieldArray:I,_getFieldArray:me,_reset:se,_updateFormState:ae,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return o},get _stateFlags(){return l},set _stateFlags(W){l=W},get _defaultValues(){return s},get _names(){return c},set _names(W){c=W},get _formState(){return i},set _formState(W){i=W},get _options(){return n},set _options(W){n={...n,...W}}},trigger:k,register:Je,handleSubmit:Fe,watch:pe,setValue:fe,getValues:ie,reset:z,resetField:Xe,clearErrors:H,unregister:Ae,setError:Y,setFocus:$,getFieldState:ge}}function Tu(t={}){const e=Lt.useRef(),[n,r]=Lt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:bd(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...J1e(t,()=>r(a=>({...a}))),formState:n});const i=e.current.control;return i._options=t,TP({subject:i._subjects.state,next:a=>{Hz(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Lt.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Lt.useEffect(()=>{t.values&&!jc(t.values,i._defaultValues)&&i._reset(t.values,i._options.resetOptions)},[t.values,i]),Lt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),e.current.formState=zz(n,i),e.current}const Hg=({value:t,...e})=>{const[n,r]=ne.useState(!1);return n?Q.jsxs(Q.Fragment,{children:[Q.jsx("input",{...e})," ",Q.jsx("button",{type:"button",onClick:()=>{r(!1)},children:Q.jsx(Rm,{})})]}):Q.jsxs(Q.Fragment,{children:[t," ",Q.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:Q.jsx(xB,{})})]})},Y1e=({onSuccess:t,isPublicTypeIndex:e,isPrivateTypeIndex:n,isInbox:r,webId:i,storage:a})=>{const{i18n:s,_:o}=si(),l=O1e(),c=A1e(),h=I1e(),{watch:p,register:m,handleSubmit:y}=Tu({defaultValues:{publicTypeIndex:new URL("./settings/publicTypeIndex.ttl",a).toString(),privateTypeIndex:new URL("./settings/privateTypeIndex.ttl",a).toString(),inbox:new URL("./inbox/",a).toString()}}),v=y(async({publicTypeIndex:w,privateTypeIndex:E,inbox:b})=>{if(e===void 0||n===void 0||r===void 0)throw new Error(s._({id:"XCH5Qf"}));e===!1&&await l({publicTypeIndex:w,webId:i}),n===!1&&await c({privateTypeIndex:E,webId:i}),r===!1&&await h({inbox:b,webId:i}),t()});return Q.jsxs("form",{onSubmit:v,children:[Q.jsx("div",{children:e?Q.jsx(wt,{id:"AywWH9"}):Q.jsxs(Q.Fragment,{children:[Q.jsx(wt,{id:"/qBoT3"})," ",Q.jsx(Hg,{value:yd(p("publicTypeIndex"),a),...m("publicTypeIndex",{required:!0}),type:"url"})]})}),Q.jsx("div",{children:n?Q.jsx(wt,{id:"ei1Uj7"}):Q.jsxs(Q.Fragment,{children:[Q.jsx(wt,{id:"47l1wN"})," ",Q.jsx(Hg,{value:yd(p("privateTypeIndex"),a),...m("privateTypeIndex",{required:!0}),type:"url"})]})}),Q.jsx("div",{children:r?Q.jsx(wt,{id:"d/3T+G"}):Q.jsxs(Q.Fragment,{children:[Q.jsx(wt,{id:"17JZAf"})," ",Q.jsx(Hg,{value:yd(p("inbox"),a),...m("inbox",{required:!0}),type:"url"})]})}),Q.jsx(pr,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:Q.jsx(wt,{id:"xGVfLh"})})]})},X1e=()=>{const t=Ks();return ne.useCallback(async({person:e,group:n})=>{const r=`_:mutate a <${Dn.InsertDeletePatch}>;
        <${Dn.inserts}> { <${n}> <${pB.hasMember}> <${e}>. } .`;await t.mutateAsync({uri:n,patch:r})},[t])},eSe=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Group",id:e}}),tSe=async({inbox:t,...e})=>{const n=await nr(t,{method:"POST",body:JSON.stringify(eSe(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Us("Community inbox responded with error",n);const r=n.headers.get("location");return{...e,status:n.status,group:r}},nSe=()=>{const t=Si(),{mutateAsync:e}=Ra({mutationFn:tSe,onSuccess:async n=>{n.group&&await t.invalidateQueries({queryKey:[zr.rdfDocument,kl(n.group)]})}});return e},rSe=({onSuccess:t,isMember:e,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:a,communityId:s}=kn(),o=di(),{i18n:l,_:c}=si(),h=gz(o.webId??""),p=Su(s),m=X1e(),y=nSe(),v=P1e(),w=R1e(),E=Fz(),b=h&&`${h}hospex/${a}/card`,{handleSubmit:x,register:A,watch:I,setValue:M}=Tu({defaultValues:{newHospexDocument:b}});ne.useEffect(()=>{h&&M("newHospexDocument",`${h}hospex/${a}/card`)},[a,M,h]);const D=I("newHospexDocument");if(!h||!D)return Q.jsx(Q.Fragment,{children:"..."});const F=x(async({hospexDocument:X,newHospexDocument:U})=>{if(!i)throw new Error(l._({id:"MPWsQ5"}));if(n||(r.length===0||X==="new"?(await v({uri:U,webId:o.webId,communityId:s}),await E({index:i,type:Fl.PersonalHospexDocument,location:U})):await w({uri:X,webId:o.webId})),!e)if(p.inbox)await y({actor:o.webId,object:p.community,type:"Join",inbox:p.inbox});else{if(!p.groups[0])throw new Error(l._({id:"FTXS9n"}));await m({person:o.webId,group:p.groups[0]})}t()}),Z=p.name||s;return Q.jsxs("form",{onSubmit:F,children:[e?Q.jsx("li",{children:Q.jsx(wt,{id:"CDTRqk",values:{communityLabel:Z}})}):Q.jsx("li",{children:Q.jsx(wt,{id:"kH9S1u",values:{communityLabel:Z}})}),!n&&r.length===0&&Q.jsxs("li",{children:[Q.jsx(wt,{id:"V7MiWJ"})," ",Q.jsx(Hg,{value:yd(D,h),...A("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&Q.jsxs("li",{children:[Q.jsx("legend",{children:Q.jsx(wt,{id:"kJXPN2"})}),Q.jsxs("fieldset",{className:gl.storageOptions,children:[Q.jsx("legend",{children:Q.jsx(wt,{id:"kpCcav"})}),Q.jsxs("div",{className:gl.option,children:[Q.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...A("hospexDocument",{required:!0})})," ",Q.jsxs("label",{htmlFor:"new-hospex-document",children:[Q.jsx(wt,{id:"rX1tOl"}),Q.jsx(Hg,{...A("newHospexDocument",{required:!0}),value:yd(I("newHospexDocument"),h)})]})]}),Q.jsxs("div",{children:[Q.jsx("legend",{children:Q.jsx(wt,{id:"Monbkf",components:{0:Q.jsx("i",{})}})}),r.map(({hospexDocument:X,communities:U},J)=>Q.jsxs("div",{className:gl.option,children:[Q.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${J}`,value:X,...A("hospexDocument")})," ",Q.jsxs("label",{htmlFor:`hospexDocument-${J}`,children:[U.map(ce=>ce.name??ce.uri).join(", ")," (",yd(X,h),")"]})]},X))]})]})]}),Q.jsx(pr,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:Q.jsx(wt,{id:"xGVfLh"})})]})};var qT,u6;function iSe(){if(u6)return qT;u6=1;var t=qB(),e=rw(),n=eq(),r=HB(),i=e9(),a=Math.max;function s(o){if(!(o&&o.length))return[];var l=0;return o=t(o,function(c){if(i(c))return l=a(c.length,l),!0}),r(l,function(c){return e(o,n(c))})}return qT=s,qT}var zT,l6;function aSe(){if(l6)return zT;l6=1;var t=r9(),e=rw(),n=iSe();function r(i,a){if(!(i&&i.length))return[];var s=n(i);return a==null?s:e(s,function(o){return t(a,void 0,o)})}return zT=r,zT}var HT,c6;function sSe(){if(c6)return HT;c6=1;var t=s9(),e=aSe(),n=t(function(r){var i=r.length,a=i>1?r[i-1]:void 0;return a=typeof a=="function"?(r.pop(),a):void 0,e(r,a)});return HT=n,HT}var oSe=sSe();const uSe=kr(oSe),f6=async t=>{t=kl(t);const e=await NR(t,nr);if(!e.ok)throw e.response?new Us(e.response.statusText,e.response):new Error("unexpected");return e},lSe=t=>{const e=Kg({queries:t.map(a=>({queryKey:[zr.rdfDocument,a],queryFn:async()=>f6(a),enabled:!!a}))}),n=e.map(({data:a},s)=>{var w,E;const o=t[s],l=(w=a==null?void 0:a.response)==null?void 0:w.headers,c=l==null?void 0:l.get("link"),h=c?ZU.parse(c):void 0,p=(E=h==null?void 0:h.rel("acl")[0])==null?void 0:E.uri,m=p&&o?new URL(p,o).toString():void 0,y=l==null?void 0:l.get("wac-allow"),v=y?Xfe(y):void 0;return{resource:o,aclUri:m,effectivePermissions:v}}),r=Kg({queries:n.map(({aclUri:a,effectivePermissions:s})=>{var o;return{queryKey:[zr.rdfDocument,a],queryFn:async()=>f6(a??""),enabled:!!a&&((o=s==null?void 0:s.user)==null?void 0:o.has("control"))}})}),i=r.map(({data:a,isError:s},o)=>{var c;const l=(c=n[o])==null?void 0:c.aclUri;return l&&typeof(a==null?void 0:a.rawData)=="string"&&!s?yB(l,a.rawData):void 0});return{isLoading:e.some(a=>a.isLoading)||r.some(a=>a.isLoading),results:n.map((a,s)=>({effectivePermissions:a.effectivePermissions,acls:[{uri:a.aclUri,accesses:i[s]}]}))}},cSe=()=>{const t=di(),{communityId:e}=kn(),{variables:n,isLoading:r}=ha({query:age,variables:ne.useMemo(()=>({person:t.webId?[t.webId]:void 0,community:[e]}),[t.webId,e]),fetch:nr}),i=n.hospexPreferencesFile,{results:a}=lSe(i??[]);return{results:uSe(i??[],a,(o,l)=>({url:o,permissions:l})),isLoading:r}},fSe=({onSuccess:t,isEmailNotifications:e,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?Q.jsx(dSe,{onSuccess:t,isEmailNotifications:n,hospexDocument:r}):e!=="unset"?Q.jsx(hSe,{onSuccess:t,isEmailNotifications:e,inbox:i}):Q.jsx(pSe,{onSuccess:t}),dSe=({onSuccess:t,isEmailNotifications:e,hospexDocument:n})=>{const{handleSubmit:r,register:i}=Tu(),[a,s]=ne.useState(!1),[o,l]=ne.useState(!1),[c,h]=ne.useState(),[p,m]=ne.useState(0),y=D1e(),v=M1e(),{webId:w}=di(),{i18n:E,_:b}=si(),{emailNotificationsIdentity:x,emailNotificationsService:A}=kn(),{results:I}=cSe(),M=I.some(U=>{var J,ce;return U.url&&((ce=(J=U.permissions.acls[0])==null?void 0:J.accesses)==null?void 0:ce.some(re=>re.agents.includes(x)&&(re.modes.includes(go.Write)||re.modes.includes(go.Append))&&re.modes.includes(go.Read)))}),D=dz(w,A);ne.useEffect(()=>{if(p>0){const U=setTimeout(()=>m(p-1),1e3);return()=>clearTimeout(U)}},[p]);const F=r(async({email:U})=>{l(!0);try{if(!n)throw new Error(E._({id:"35KTBT"}));e||(M||await y({hospexDocument:n,webId:w,email:U}),await v.mutateAsync({email:U}),s(!0),m(60),h(U))}finally{l(!1)}}),Z=Si(),X=()=>{Z.invalidateQueries({queryKey:[zr.simpleMailerIntegration]})};return e?Q.jsxs("div",{children:[Q.jsx(Rm,{}),Q.jsx(wt,{id:"VM9oSF"}),Q.jsx(pr,{primary:!0,onClick:t,children:Q.jsx(wt,{id:"8BwQeU"})})]}):Q.jsxs("form",{onSubmit:F,children:[!e&&Q.jsxs("div",{children:[Q.jsxs("div",{children:[Q.jsx(wt,{id:"42aUkb"})," ",Q.jsx("input",{required:!0,placeholder:E._({id:"ocwjau"}),...i("email"),type:"email",disabled:a}),Q.jsx(pr,{type:"submit",secondary:!0,disabled:o||p>0,children:p>0?Q.jsx(wt,{id:"uliB7J",values:{countdown:p}}):Q.jsx(wt,{id:"vp9yIB"})})]}),a&&!o&&Q.jsx("div",{children:Q.jsx(wt,{id:"MYOoIS",values:{sentToEmail:c},components:{0:Q.jsx("br",{})}})})]}),Q.jsxs(pr,{type:"button",primary:!0,disabled:!a||D.isRefetching,onClick:X,children:[Q.jsx(wt,{id:"8BwQeU"})," ",D.isRefetching&&Q.jsx(cz,{})]})]})},hSe=({onSuccess:t,isEmailNotifications:e,inbox:n})=>{const{i18n:r,_:i}=si(),a=L1e(),{handleSubmit:s,register:o}=Tu(),{webId:l}=di(),c=Si(),h=()=>{c.invalidateQueries({queryKey:[zr.mailerIntegration]})},p=s(({email:m})=>{if(!n)throw new Error(r._({id:"fo1jSY"}));a({email:m,webId:l,inbox:n})});return e===!0?Q.jsxs("div",{children:[Q.jsx(Rm,{}),Q.jsx(wt,{id:"VM9oSF"}),Q.jsx(pr,{primary:!0,onClick:t,children:Q.jsx(wt,{id:"8BwQeU"})})]}):Q.jsxs("form",{onSubmit:p,children:[!e&&Q.jsxs("div",{children:[Q.jsx(wt,{id:"lYCAyX"})," ",Q.jsx("input",{type:"email",placeholder:r._({id:"z8F4/3"}),...o("email"),required:!0}),Q.jsx(pr,{type:"submit",primary:!0,children:Q.jsx(wt,{id:"vp9yIB"})})]}),e==="unverified"&&Q.jsxs("div",{children:[Q.jsx(wt,{id:"F132R+"}),Q.jsx(pr,{type:"button",primary:!0,onClick:h,children:Q.jsx(wt,{id:"8BwQeU"})})]})]})},pSe=({onSuccess:t})=>Q.jsxs("div",{children:[Q.jsx(Rm,{})," ",Q.jsx(wt,{id:"heRuNl"}),Q.jsx("div",{children:Q.jsx(pr,{primary:!0,onClick:t,children:Q.jsx(wt,{id:"8BwQeU"})})})]});var Ec=function(t){return t.isMember="isMember",t.isHospexProfile="isHospexProfile",t.isPublicTypeIndex="isPublicTypeIndex",t.isPrivateTypeIndex="isPrivateTypeIndex",t.isInbox="isInbox",t.isSimpleEmailNotifications="isSimpleEmailNotifications",t.isEmailNotifications="isEmailNotifications",t}({});const gSe=[[Ec.isPublicTypeIndex,Ec.isPrivateTypeIndex,Ec.isInbox],[Ec.isMember,Ec.isHospexProfile],[Ec.isEmailNotifications,Ec.isSimpleEmailNotifications]],mSe=t=>{const e=gSe.map(s=>f1e(t,s)).map(s=>Object.values(s).every(o=>o)),n=di(),r=gz(n.webId),i=kn(),a=ne.useMemo(()=>{var s;return[{title:Q.jsx(wt,{id:"FQjzSF"}),content:r&&n.webId?Q.jsx(Y1e,{onSuccess:()=>t.onStepChange(1),isPublicTypeIndex:t.isPublicTypeIndex,isPrivateTypeIndex:t.isPrivateTypeIndex,isInbox:t.isInbox,storage:r,webId:n.webId}):null},{title:Q.jsx(wt,{id:"BLFgtR"}),content:Q.jsx(rSe,{onSuccess:()=>t.onStepChange(2),isMember:t.isMember,isHospexProfile:t.isHospexProfile,allHospex:t.allHospex,publicTypeIndex:t.publicTypeIndexes[0]})},{title:Q.jsx(wt,{id:"sCXkJv"}),content:Q.jsx(fSe,{isEmailNotifications:t.isEmailNotifications,isSimpleEmailNotifications:t.isSimpleEmailNotifications,hospexDocument:(s=t.allHospex.find(o=>o.communities.some(l=>l.uri===i.communityId)))==null?void 0:s.hospexDocument,inbox:t.inboxes[0],onSuccess:()=>{}})}]},[n.webId,i.communityId,t,r]);return r?Q.jsxs("div",{className:gl.container,children:[Q.jsx("h1",{children:Q.jsx(wt,{id:"RDjuBN"})}),Q.jsxs(n1e,{value:String(t.step),onValueChange:s=>t.onStepChange(+s),children:[Q.jsx(r1e,{className:gl.list,loop:!1,children:a.map((s,o)=>Q.jsx(i1e,{className:Or(gl.trigger,o<a.length-1&&gl.connect),value:String(o),disabled:!e.slice(0,o).every(l=>!!l),children:o+1},o))}),a.map((s,o)=>Q.jsxs(a1e,{value:String(o),className:gl.content,children:[Q.jsx("h2",{children:s.title}),s.content]},o))]})]}):Q.jsx(Q.Fragment,{children:"..."})},ySe="_checkingContainer_ormma_1",d6={checkingContainer:ySe},vSe=()=>{const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=kn(),r=bi(th),[i,a]=ne.useState(0),s=sm(r.webId??"",t??""),o=pz(s,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","inboxes","allHospex"]),l=dbe(r.webId,n==="simple"?e:""),c=cbe(s.inboxes[0]??"",n==="solid"?e:"");if(Object.values(s).every(m=>m)&&(c===!0||c==="unset")&&(l===!0||l==="unset"))return Q.jsx(M0,{});const p=Object.entries(o).filter(([,m])=>m===void 0).map(([m])=>m);return l===void 0&&p.push("isSimpleEmailNotifications"),c===void 0&&p.push("isEmailNotifications"),Object.values(s).some(m=>m===void 0)||l===void 0||c===void 0?Q.jsx(_Se,{...o,isEmailNotifications:c,isSimpleEmailNotifications:l}):Q.jsx(mSe,{...s,isSimpleEmailNotifications:l,isEmailNotifications:c,step:i,onStepChange:a})},_Se=t=>{const e=Object.entries(t).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:wSe(n),value:r}));return Q.jsxs("div",{className:d6.checkingContainer,children:[Q.jsx("h2",{children:Q.jsx(wt,{id:"ciEJp2"})}),Q.jsx("p",{children:Q.jsx(wt,{id:"iIICHU"})}),Q.jsx("ul",{className:d6.checklist,children:e.map(n=>Q.jsxs("li",{children:[n.value===!0?Q.jsx(Rm,{}):n.value===!1?Q.jsx(DR,{}):n.value==="unverified"?Q.jsx(pde,{}):Q.jsx(cz,{})," ",n.label]},n.key))})]})},wSe=t=>t.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase());var Cv={exports:{}},sl={},Av={exports:{}},ls={},Rv={exports:{}},h6;function tH(){return h6||(h6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(p,m){return m.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function s(p){var m=p.offsetWidth<=0&&p.offsetHeight<=0;if(m&&!p.innerHTML)return!0;try{var y=window.getComputedStyle(p),v=y.getPropertyValue("display");return m?v!==r&&a(p,y):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function o(p){for(var m=p,y=p.getRootNode&&p.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),s(m))return!1;m=m.parentNode}return!0}function l(p,m){var y=p.nodeName.toLowerCase(),v=i.test(y)&&!p.disabled||y==="a"&&p.href||m;return v&&o(p)}function c(p){var m=p.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&l(p,!y)}function h(p){var m=[].slice.call(p.querySelectorAll("*"),0).reduce(function(y,v){return y.concat(v.shadowRoot?h(v.shadowRoot):[v])},[]);return m.filter(c)}t.exports=e.default}(Rv,Rv.exports)),Rv.exports}var p6;function bSe(){if(p6)return ls;p6=1,Object.defineProperty(ls,"__esModule",{value:!0}),ls.resetState=s,ls.log=o,ls.handleBlur=l,ls.handleFocus=c,ls.markForFocusLater=h,ls.returnFocus=p,ls.popWithoutFocus=m,ls.setupScopedFocus=y,ls.teardownScopedFocus=v;var t=tH(),e=n(t);function n(w){return w&&w.__esModule?w:{default:w}}var r=[],i=null,a=!1;function s(){r=[]}function o(){}function l(){a=!0}function c(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var w=(0,e.default)(i)[0]||i;w.focus()}},0)}}function h(){r.push(document.activeElement)}function p(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=null;try{r.length!==0&&(E=r.pop(),E.focus({preventScroll:w}));return}catch{console.warn(["You tried to return focus to",E,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(w){i=w,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function v(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return ls}var Pv={exports:{}},g6;function SSe(){return g6||(g6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=tH(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}function a(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return o.activeElement.shadowRoot?a(o.activeElement.shadowRoot):o.activeElement}function s(o,l){var c=(0,r.default)(o);if(!c.length){l.preventDefault();return}var h=void 0,p=l.shiftKey,m=c[0],y=c[c.length-1],v=a();if(o===v){if(!p)return;h=y}if(y===v&&!p&&(h=m),m===v&&p&&(h=y),h){l.preventDefault(),h.focus();return}var w=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=w!=null&&w[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var b=c.indexOf(v);if(b>-1&&(b+=p?-1:1),h=c[b],typeof h>"u"){l.preventDefault(),h=p?y:m,h.focus();return}l.preventDefault(),h.focus()}}t.exports=e.default}(Pv,Pv.exports)),Pv.exports}var Cs={},VT,m6;function xSe(){if(m6)return VT;m6=1;var t=function(){};return VT=t,VT}var to={},KT={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var y6;function ESe(){return y6||(y6=1,function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()}(KT)),KT.exports}var v6;function OP(){if(v6)return to;v6=1,Object.defineProperty(to,"__esModule",{value:!0}),to.canUseDOM=to.SafeNodeList=to.SafeHTMLCollection=void 0;var t=ESe(),e=n(t);function n(a){return a&&a.__esModule?a:{default:a}}var r=e.default,i=r.canUseDOM?window.HTMLElement:{};return to.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},to.SafeNodeList=r.canUseDOM?window.NodeList:{},to.canUseDOM=r.canUseDOM,to.default=i,to}var _6;function nH(){if(_6)return Cs;_6=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.resetState=a,Cs.log=s,Cs.assertNodeList=o,Cs.setElement=l,Cs.validateElement=c,Cs.hide=h,Cs.show=p,Cs.documentNotReadyOrSSRTesting=m;var t=xSe(),e=r(t),n=OP();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function s(){}function o(y,v){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function l(y){var v=y;if(typeof v=="string"&&n.canUseDOM){var w=document.querySelectorAll(v);o(w,v),v=w}return i=v||i,i}function c(y){var v=y||i;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,e.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function h(y){var v=!0,w=!1,E=void 0;try{for(var b=c(y)[Symbol.iterator](),x;!(v=(x=b.next()).done);v=!0){var A=x.value;A.setAttribute("aria-hidden","true")}}catch(I){w=!0,E=I}finally{try{!v&&b.return&&b.return()}finally{if(w)throw E}}}function p(y){var v=!0,w=!1,E=void 0;try{for(var b=c(y)[Symbol.iterator](),x;!(v=(x=b.next()).done);v=!0){var A=x.value;A.removeAttribute("aria-hidden")}}catch(I){w=!0,E=I}finally{try{!v&&b.return&&b.return()}finally{if(w)throw E}}}function m(){i=null}return Cs}var Tc={},w6;function TSe(){if(w6)return Tc;w6=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.resetState=r,Tc.log=i;var t={},e={};function n(c,h){c.classList.remove(h)}function r(){var c=document.getElementsByTagName("html")[0];for(var h in t)n(c,t[h]);var p=document.body;for(var m in e)n(p,e[m]);t={},e={}}function i(){}var a=function(h,p){return h[p]||(h[p]=0),h[p]+=1,p},s=function(h,p){return h[p]&&(h[p]-=1),p},o=function(h,p,m){m.forEach(function(y){a(p,y),h.add(y)})},l=function(h,p,m){m.forEach(function(y){s(p,y),p[y]===0&&h.remove(y)})};return Tc.add=function(h,p){return o(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},Tc.remove=function(h,p){return l(h.classList,h.nodeName.toLowerCase()=="html"?t:e,p.split(" "))},Tc}var id={},b6;function rH(){if(b6)return id;b6=1,Object.defineProperty(id,"__esModule",{value:!0}),id.log=r,id.resetState=i;function t(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")}var e=function a(){var s=this;t(this,a),this.register=function(o){s.openInstances.indexOf(o)===-1&&(s.openInstances.push(o),s.emit("register"))},this.deregister=function(o){var l=s.openInstances.indexOf(o);l!==-1&&(s.openInstances.splice(l,1),s.emit("deregister"))},this.subscribe=function(o){s.subscribers.push(o)},this.emit=function(o){s.subscribers.forEach(function(l){return l(o,s.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new e;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new e}return id.default=n,id}var gg={},S6;function CSe(){if(S6)return gg;S6=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.resetState=s,gg.log=o;var t=rH(),e=n(t);function n(h){return h&&h.__esModule?h:{default:h}}var r=void 0,i=void 0,a=[];function s(){for(var h=[r,i],p=0;p<h.length;p++){var m=h[p];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function o(){console.log("bodyTrap ----------"),console.log(a.length);for(var h=[r,i],p=0;p<h.length;p++){var m=h[p],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function c(h,p){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=p,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return e.default.subscribe(c),gg}var x6;function ASe(){return x6||(x6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(ue){for(var me=1;me<arguments.length;me++){var be=arguments[me];for(var he in be)Object.prototype.hasOwnProperty.call(be,he)&&(ue[he]=be[he])}return ue},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},i=function(){function ue(me,be){for(var he=0;he<be.length;he++){var fe=be[he];fe.enumerable=fe.enumerable||!1,fe.configurable=!0,"value"in fe&&(fe.writable=!0),Object.defineProperty(me,fe.key,fe)}}return function(me,be,he){return be&&ue(me.prototype,be),he&&ue(me,he),me}}(),a=Zd(),s=h9(),o=M(s),l=bSe(),c=I(l),h=SSe(),p=M(h),m=nH(),y=I(m),v=TSe(),w=I(v),E=OP(),b=M(E),x=rH(),A=M(x);CSe();function I(ue){if(ue&&ue.__esModule)return ue;var me={};if(ue!=null)for(var be in ue)Object.prototype.hasOwnProperty.call(ue,be)&&(me[be]=ue[be]);return me.default=ue,me}function M(ue){return ue&&ue.__esModule?ue:{default:ue}}function D(ue,me){if(!(ue instanceof me))throw new TypeError("Cannot call a class as a function")}function F(ue,me){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return me&&(typeof me=="object"||typeof me=="function")?me:ue}function Z(ue,me){if(typeof me!="function"&&me!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof me);ue.prototype=Object.create(me&&me.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,me):ue.__proto__=me)}var X={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(me){return me.code==="Tab"||me.keyCode===9},J=function(me){return me.code==="Escape"||me.keyCode===27},ce=0,re=function(ue){Z(me,ue);function me(be){D(this,me);var he=F(this,(me.__proto__||Object.getPrototypeOf(me)).call(this,be));return he.setOverlayRef=function(fe){he.overlay=fe,he.props.overlayRef&&he.props.overlayRef(fe)},he.setContentRef=function(fe){he.content=fe,he.props.contentRef&&he.props.contentRef(fe)},he.afterClose=function(){var fe=he.props,Oe=fe.appElement,k=fe.ariaHideApp,ie=fe.htmlOpenClassName,ge=fe.bodyOpenClassName,H=fe.parentSelector,Y=H&&H().ownerDocument||document;ge&&w.remove(Y.body,ge),ie&&w.remove(Y.getElementsByTagName("html")[0],ie),k&&ce>0&&(ce-=1,ce===0&&y.show(Oe)),he.props.shouldFocusAfterRender&&(he.props.shouldReturnFocusAfterClose?(c.returnFocus(he.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),he.props.onAfterClose&&he.props.onAfterClose(),A.default.deregister(he)},he.open=function(){he.beforeOpen(),he.state.afterOpen&&he.state.beforeClose?(clearTimeout(he.closeTimer),he.setState({beforeClose:!1})):(he.props.shouldFocusAfterRender&&(c.setupScopedFocus(he.node),c.markForFocusLater()),he.setState({isOpen:!0},function(){he.openAnimationFrame=requestAnimationFrame(function(){he.setState({afterOpen:!0}),he.props.isOpen&&he.props.onAfterOpen&&he.props.onAfterOpen({overlayEl:he.overlay,contentEl:he.content})})}))},he.close=function(){he.props.closeTimeoutMS>0?he.closeWithTimeout():he.closeWithoutTimeout()},he.focusContent=function(){return he.content&&!he.contentHasFocus()&&he.content.focus({preventScroll:!0})},he.closeWithTimeout=function(){var fe=Date.now()+he.props.closeTimeoutMS;he.setState({beforeClose:!0,closesAt:fe},function(){he.closeTimer=setTimeout(he.closeWithoutTimeout,he.state.closesAt-Date.now())})},he.closeWithoutTimeout=function(){he.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},he.afterClose)},he.handleKeyDown=function(fe){U(fe)&&(0,p.default)(he.content,fe),he.props.shouldCloseOnEsc&&J(fe)&&(fe.stopPropagation(),he.requestClose(fe))},he.handleOverlayOnClick=function(fe){he.shouldClose===null&&(he.shouldClose=!0),he.shouldClose&&he.props.shouldCloseOnOverlayClick&&(he.ownerHandlesClose()?he.requestClose(fe):he.focusContent()),he.shouldClose=null},he.handleContentOnMouseUp=function(){he.shouldClose=!1},he.handleOverlayOnMouseDown=function(fe){!he.props.shouldCloseOnOverlayClick&&fe.target==he.overlay&&fe.preventDefault()},he.handleContentOnClick=function(){he.shouldClose=!1},he.handleContentOnMouseDown=function(){he.shouldClose=!1},he.requestClose=function(fe){return he.ownerHandlesClose()&&he.props.onRequestClose(fe)},he.ownerHandlesClose=function(){return he.props.onRequestClose},he.shouldBeClosed=function(){return!he.state.isOpen&&!he.state.beforeClose},he.contentHasFocus=function(){return document.activeElement===he.content||he.content.contains(document.activeElement)},he.buildClassName=function(fe,Oe){var k=(typeof Oe>"u"?"undefined":r(Oe))==="object"?Oe:{base:X[fe],afterOpen:X[fe]+"--after-open",beforeClose:X[fe]+"--before-close"},ie=k.base;return he.state.afterOpen&&(ie=ie+" "+k.afterOpen),he.state.beforeClose&&(ie=ie+" "+k.beforeClose),typeof Oe=="string"&&Oe?ie+" "+Oe:ie},he.attributesFromObject=function(fe,Oe){return Object.keys(Oe).reduce(function(k,ie){return k[fe+"-"+ie]=Oe[ie],k},{})},he.state={afterOpen:!1,beforeClose:!1},he.shouldClose=null,he.moveFromContentToOverlay=null,he}return i(me,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(he,fe){this.props.isOpen&&!he.isOpen?this.open():!this.props.isOpen&&he.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!fe.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var he=this.props,fe=he.appElement,Oe=he.ariaHideApp,k=he.htmlOpenClassName,ie=he.bodyOpenClassName,ge=he.parentSelector,H=ge&&ge().ownerDocument||document;ie&&w.add(H.body,ie),k&&w.add(H.getElementsByTagName("html")[0],k),Oe&&(ce+=1,y.hide(fe)),A.default.register(this)}},{key:"render",value:function(){var he=this.props,fe=he.id,Oe=he.className,k=he.overlayClassName,ie=he.defaultStyles,ge=he.children,H=Oe?{}:ie.content,Y=k?{}:ie.overlay;if(this.shouldBeClosed())return null;var pe={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},Y,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ae=n({id:fe,ref:this.setContentRef,style:n({},H,this.props.style.content),className:this.buildClassName("content",Oe),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Je=this.props.contentElement(Ae,ge);return this.props.overlayElement(pe,Je)}}]),me}(a.Component);re.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},re.propTypes={isOpen:o.default.bool.isRequired,defaultStyles:o.default.shape({content:o.default.object,overlay:o.default.object}),style:o.default.shape({content:o.default.object,overlay:o.default.object}),className:o.default.oneOfType([o.default.string,o.default.object]),overlayClassName:o.default.oneOfType([o.default.string,o.default.object]),parentSelector:o.default.func,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,ariaHideApp:o.default.bool,appElement:o.default.oneOfType([o.default.instanceOf(b.default),o.default.instanceOf(E.SafeHTMLCollection),o.default.instanceOf(E.SafeNodeList),o.default.arrayOf(o.default.instanceOf(b.default))]),onAfterOpen:o.default.func,onAfterClose:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,role:o.default.string,contentLabel:o.default.string,aria:o.default.object,data:o.default.object,children:o.default.node,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func,testId:o.default.string},e.default=re,t.exports=e.default}(Av,Av.exports)),Av.exports}function iH(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function aH(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function sH(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}iH.__suppressDeprecationWarning=!0;aH.__suppressDeprecationWarning=!0;sH.__suppressDeprecationWarning=!0;function RSe(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=iH,e.componentWillReceiveProps=aH),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=sH;var o=e.componentDidUpdate;e.componentDidUpdate=function(c,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;o.call(this,c,h,m)}}return t}const PSe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:RSe},Symbol.toStringTag,{value:"Module"})),OSe=Y5(PSe);var E6;function ISe(){if(E6)return sl;E6=1,Object.defineProperty(sl,"__esModule",{value:!0}),sl.bodyOpenClassName=sl.portalClassName=void 0;var t=Object.assign||function(J){for(var ce=1;ce<arguments.length;ce++){var re=arguments[ce];for(var ue in re)Object.prototype.hasOwnProperty.call(re,ue)&&(J[ue]=re[ue])}return J},e=function(){function J(ce,re){for(var ue=0;ue<re.length;ue++){var me=re[ue];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(ce,me.key,me)}}return function(ce,re,ue){return re&&J(ce.prototype,re),ue&&J(ce,ue),ce}}(),n=Zd(),r=E(n),i=QA(),a=E(i),s=h9(),o=E(s),l=ASe(),c=E(l),h=nH(),p=w(h),m=OP(),y=E(m),v=OSe;function w(J){if(J&&J.__esModule)return J;var ce={};if(J!=null)for(var re in J)Object.prototype.hasOwnProperty.call(J,re)&&(ce[re]=J[re]);return ce.default=J,ce}function E(J){return J&&J.__esModule?J:{default:J}}function b(J,ce){if(!(J instanceof ce))throw new TypeError("Cannot call a class as a function")}function x(J,ce){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce&&(typeof ce=="object"||typeof ce=="function")?ce:J}function A(J,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);J.prototype=Object.create(ce&&ce.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(J,ce):J.__proto__=ce)}var I=sl.portalClassName="ReactModalPortal",M=sl.bodyOpenClassName="ReactModal__Body--open",D=m.canUseDOM&&a.default.createPortal!==void 0,F=function(ce){return document.createElement(ce)},Z=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function X(J){return J()}var U=function(J){A(ce,J);function ce(){var re,ue,me,be;b(this,ce);for(var he=arguments.length,fe=Array(he),Oe=0;Oe<he;Oe++)fe[Oe]=arguments[Oe];return be=(ue=(me=x(this,(re=ce.__proto__||Object.getPrototypeOf(ce)).call.apply(re,[this].concat(fe))),me),me.removePortal=function(){!D&&a.default.unmountComponentAtNode(me.node);var k=X(me.props.parentSelector);k&&k.contains(me.node)?k.removeChild(me.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},me.portalRef=function(k){me.portal=k},me.renderPortal=function(k){var ie=Z(),ge=ie(me,r.default.createElement(c.default,t({defaultStyles:ce.defaultStyles},k)),me.node);me.portalRef(ge)},ue),x(me,be)}return e(ce,[{key:"componentDidMount",value:function(){if(m.canUseDOM){D||(this.node=F("div")),this.node.className=this.props.portalClassName;var ue=X(this.props.parentSelector);ue.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(ue){var me=X(ue.parentSelector),be=X(this.props.parentSelector);return{prevParent:me,nextParent:be}}},{key:"componentDidUpdate",value:function(ue,me,be){if(m.canUseDOM){var he=this.props,fe=he.isOpen,Oe=he.portalClassName;ue.portalClassName!==Oe&&(this.node.className=Oe);var k=be.prevParent,ie=be.nextParent;ie!==k&&(k.removeChild(this.node),ie.appendChild(this.node)),!(!ue.isOpen&&!fe)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var ue=this.portal.state,me=Date.now(),be=ue.isOpen&&this.props.closeTimeoutMS&&(ue.closesAt||me+this.props.closeTimeoutMS);be?(ue.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,be-me)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!D)return null;!this.node&&D&&(this.node=F("div"));var ue=Z();return ue(r.default.createElement(c.default,t({ref:this.portalRef,defaultStyles:ce.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(ue){p.setElement(ue)}}]),ce}(n.Component);return U.propTypes={isOpen:o.default.bool.isRequired,style:o.default.shape({content:o.default.object,overlay:o.default.object}),portalClassName:o.default.string,bodyOpenClassName:o.default.string,htmlOpenClassName:o.default.string,className:o.default.oneOfType([o.default.string,o.default.shape({base:o.default.string.isRequired,afterOpen:o.default.string.isRequired,beforeClose:o.default.string.isRequired})]),overlayClassName:o.default.oneOfType([o.default.string,o.default.shape({base:o.default.string.isRequired,afterOpen:o.default.string.isRequired,beforeClose:o.default.string.isRequired})]),appElement:o.default.oneOfType([o.default.instanceOf(y.default),o.default.instanceOf(m.SafeHTMLCollection),o.default.instanceOf(m.SafeNodeList),o.default.arrayOf(o.default.instanceOf(y.default))]),onAfterOpen:o.default.func,onRequestClose:o.default.func,closeTimeoutMS:o.default.number,ariaHideApp:o.default.bool,shouldFocusAfterRender:o.default.bool,shouldCloseOnOverlayClick:o.default.bool,shouldReturnFocusAfterClose:o.default.bool,preventScroll:o.default.bool,parentSelector:o.default.func,aria:o.default.object,data:o.default.object,role:o.default.string,contentLabel:o.default.string,shouldCloseOnEsc:o.default.bool,overlayRef:o.default.func,contentRef:o.default.func,id:o.default.string,overlayElement:o.default.func,contentElement:o.default.func},U.defaultProps={isOpen:!1,portalClassName:I,bodyOpenClassName:M,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(ce,re){return r.default.createElement("div",ce,re)},contentElement:function(ce,re){return r.default.createElement("div",ce,re)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(U),sl.default=U,sl}var T6;function LSe(){return T6||(T6=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=ISe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=r.default,t.exports=e.default}(Cv,Cv.exports)),Cv.exports}var MSe=LSe();const oH=kr(MSe),DSe="_modal_s2w5u_1",kSe="_overlay_s2w5u_14",C6={modal:DSe,overlay:kSe};oH.setAppElement("#root");const _w=({className:t,overlayClassName:e,...n})=>Q.jsx(oH,{className:Or(C6.modal,t),overlayClassName:Or(C6.overlay,e),...n}),NSe="_container_1buxd_1",FSe="_content_1buxd_18",jSe="_podOptions_1buxd_18",$Se="_tabs_1buxd_18",USe="_tabContent_1buxd_38",BSe="_footer_1buxd_41",qSe="_email_1buxd_41",Cc={container:NSe,content:FSe,podOptions:jSe,tabs:$Se,tabContent:USe,footer:BSe,email:qSe},GT=({issuer:t,registration:e,children:n})=>{const r=Ml();return Q.jsx(Pde,{secondary:!0,href:e,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(a0.setLastSelectedIssuer(t))},"data-cy":"pod-provider-signup-link",children:n??new URL(t).hostname})},zSe=()=>{const{oidcIssuers:t,communityId:e,defaultCommunityName:n}=kn(),{i18n:r,_:i}=si(),s=Su(e).name||n;return ne.useMemo(()=>[{id:"show-options",label:r._({id:"mOHsO6"}),content:Q.jsxs(Q.Fragment,{children:[Q.jsx(wt,{id:"GipwRZ",values:{communityName:s}}),Q.jsx("ul",{children:t.filter(l=>l.registration).map(l=>Q.jsx("li",{children:Q.jsx(GT,{...l})},l.issuer))})]})},{id:"choose-for-me",label:r._({id:"6BXxLh"}),content:Q.jsxs(Q.Fragment,{children:[Q.jsx(GT,{...t.find(l=>l.recommended),children:Q.jsx(wt,{id:"kNJ1eb"})}),Q.jsx("br",{}),Q.jsx(wt,{id:"OSMhQH",components:{0:Q.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer"})}})]})},{id:"more-control",label:r._({id:"BvOhbj"}),content:Q.jsxs(Q.Fragment,{children:[Q.jsx("p",{children:Q.jsx(wt,{id:"CIxMWI",components:{0:Q.jsx("b",{}),1:Q.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer"})}})}),Q.jsx("p",{children:Q.jsx("i",{children:Q.jsx(wt,{id:"vXZPG5",components:{0:Q.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer"})}})})}),Q.jsx("hr",{}),Q.jsx("p",{children:Q.jsx(wt,{id:"tz2jxv",components:{0:Q.jsx("b",{}),1:Q.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer"})}})}),Q.jsx("p",{children:Q.jsx(wt,{id:"eIoTjd",components:{0:Q.jsx("i",{})}})}),Q.jsx("ul",{children:t.filter(({server:l,registration:c})=>c&&l==="CSS").map(l=>Q.jsx("li",{children:Q.jsx(GT,{...l})},l.issuer))}),Q.jsx("p",{children:Q.jsx(wt,{id:"j9mD48"})}),Q.jsx("p",{children:Q.jsx(wt,{id:"hve6lN"})})]})}],[s,t,i])},HSe=()=>{var h;const[t,e]=ne.useState(!1),[n,r]=ne.useState(),{communityId:i,defaultCommunityName:a}=kn(),o=Su(i).name||a,l=p=>{r(p.target.value)},c=zSe();return Q.jsxs(Q.Fragment,{children:[Q.jsx(pr,{primary:!0,onClick:()=>e(!0),children:Q.jsx(wt,{id:"0wdd7X"})}),Q.jsx(_w,{isOpen:t,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>e(!1),children:Q.jsxs("div",{className:Cc.container,children:[Q.jsxs("div",{className:Cc.content,children:[Q.jsx(wt,{id:"wDQNDO",values:{communityName:o},components:{0:Q.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer"})}}),Q.jsxs("div",{className:Cc.podOptions,children:[Q.jsx("div",{className:Cc.tabs,children:c.map(p=>Q.jsxs(ne.Fragment,{children:[Q.jsx("input",{type:"radio",id:p.id,value:p.id,checked:n===p.id,onChange:l}),Q.jsx("label",{htmlFor:p.id,children:p.label})]},p.id))}),Q.jsx("div",{className:Cc.tabContent,children:Q.jsx("div",{children:(h=c.find(p=>p.id===n))==null?void 0:h.content})})]})]}),Q.jsxs("div",{className:Cc.footer,children:[Q.jsx(wt,{id:"CLrwxz"})," ",Q.jsx(wt,{id:"PHGSgA",components:{0:Q.jsx("a",{href:"https://matrix.to/#/#solidcouch:matrix.org",target:"_blank",rel:"noopener noreferrer"}),1:Q.jsx("i",{className:Cc.email})}})]})]})})]})},VSe=async t=>{const{data:e}=await u9(t);return or.createLdoDataset(e).usingType(Kq).fromSubject(t).oidcIssuer.flatMap(r=>r["@id"]??[])},KSe=async t=>{try{const e=await VSe(t);if(e[0]===void 0)throw new Error("OIDC issuer not found");return e[0]}catch{return t}},GSe=(t,e)=>{var r;const n=new URL(t);return(r=e.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},uH=t=>{const e=t.trim();return e.startsWith("http")?e:`https://${e}`},WSe=(t,e)=>{const n=uH(t);return GSe(n,e)??n},QSe=async(t,e)=>{const n=uH(t),r=await KSe(n);return WSe(r,e)??r},ZSe="_providers_kq9gh_1",JSe="_webIdForm_kq9gh_6",A6={providers:ZSe,webIdForm:JSe},YSe=()=>{const{oidcIssuers:t,communityId:e,defaultCommunityName:n}=kn(),[r,i]=ne.useState(!1),[a,s]=ne.useState(!1),{i18n:o,_:l}=si(),c=bi(hU),h=t.some(b=>b.issuer===c),{register:p,handleSubmit:m}=Tu({defaultValues:{webIdOrIssuer:h?"":c}}),y=Ml(),v=Su(e),w=async b=>{const x=c??"";y(a0.setLastSelectedIssuer(b));try{await zY({oidcIssuer:b,redirectUrl:new URL("/",window.location.href).toString(),clientName:v.name||n,clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(A){if(y(a0.setLastSelectedIssuer(x)),A instanceof TypeError){const I=A.message,M=A.toString();alert(o._({id:"Pygpzd",values:{oidcIssuer:b,message:I,errorString:M}}))}else alert(o._({id:"PS1p9R",values:{e:A}}))}},E=m(async({webIdOrIssuer:b})=>{try{const x=await QSe(b,t);await w(x)}catch(x){alert(o._({id:"PS1p9R",values:{e:x}}))}});return Q.jsxs(Q.Fragment,{children:[Q.jsx(pr,{secondary:!0,onClick:()=>i(!0),children:Q.jsx(wt,{id:"5lWFkC"})}),Q.jsx(_w,{isOpen:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>i(!1),children:Q.jsxs("div",{className:A6.providers,children:[Q.jsx(wt,{id:"4Ddjk6"}),c&&Q.jsx(pr,{primary:!0,onClick:()=>w(c),"data-cy":"pod-provider-button",children:c.split("/").slice(2).filter(b=>b).join("/")}),t.filter(b=>b.issuer!==c).filter(b=>b.featured||a).map(({issuer:b})=>Q.jsx(pr,{secondary:!0,onClick:()=>w(b),children:new URL(b).hostname},b)),!a&&Q.jsx(pr,{tertiary:!0,onClick:()=>s(!0),children:Q.jsx(wt,{id:"f8jrkd"})}),Q.jsx(wt,{id:"Ud7x+A"}),Q.jsxs("form",{className:A6.webIdForm,onSubmit:E,children:[Q.jsx("input",{type:"text",placeholder:o._({id:"hwTKH1"}),...p("webIdOrIssuer",{required:"required"})}),Q.jsx(pr,{primary:!0,type:"submit",children:Q.jsx(wt,{id:"xGVfLh"})})]})]})})]})},XSe="_wrapper_1kkei_1",exe="_mainDescription_1kkei_10",txe="_pun_1kkei_16",nxe="_actions_1kkei_20",rxe="_logo_1kkei_30",ixe="_spacer_1kkei_35",axe="_footer_1kkei_38",sxe="_footerInfo_1kkei_41",oxe="_attribution_1kkei_47",tu={wrapper:XSe,mainDescription:exe,pun:txe,actions:nxe,logo:rxe,spacer:ixe,footer:axe,footerInfo:sxe,attribution:oxe},uxe=()=>{const{communityId:t}=kn(),e=bi(of),n=Su(t,e,eh),r=ne.useMemo(()=>Q.jsx(EB,{className:tu.logo,logo:n.logo[0],focusedLogo:n.logo[1]}),[n.logo]),i=ne.useMemo(()=>n.pun?Q.jsx("section",{className:tu.pun,children:n.pun}):void 0,[n.pun]),a=ne.useMemo(()=>n.about?Q.jsx("section",{className:tu.mainDescription,children:n.about}):null,[n.about]),s=i?Q.jsxs(Q.Fragment,{children:[i,r,a]}):Q.jsxs(Q.Fragment,{children:[a,r]});return Q.jsxs("div",{className:tu.wrapper,children:[s,Q.jsxs("section",{className:tu.actions,children:[Q.jsx(HSe,{}),Q.jsx(YSe,{})]}),Q.jsx("div",{className:tu.spacer}),Q.jsxs("footer",{className:tu.footer,children:[Q.jsx("div",{className:tu.footerInfo,children:Q.jsx(wt,{id:"Bn8bAf"})}),Q.jsx("div",{className:tu.attribution,children:Q.jsx(wt,{id:"zMDA2x",components:{0:Q.jsx("a",{href:"https://github.com/solidcouch"})}})})]})]})},lxe=()=>{obe();const t=bi(th);return t.isLoggedIn===void 0?Q.jsx(ms,{children:Q.jsx(wt,{id:"2FwEm8"})}):t.isLoggedIn===!1?Q.jsx(uxe,{}):Q.jsx(vSe,{})},cxe="_container_1ml33_1",fxe={container:cxe},IP=({webId:t,link:e})=>{const{communityId:n}=kn(),[r]=qs(t,n),i=Q.jsxs("div",{className:fxe.container,children:[Q.jsx(V0,{photo:r.photo,size:1}),r==null?void 0:r.name]});return e?Q.jsx(Ds,{to:`/profile/${encodeURIComponent(t)}`,children:i}):i};var Sd=function(t){return t.confirmed="confirmed",t.requestSent="request_sent",t.requestReceived="request_received",t}({});const lH=t=>{const{quads:e,variables:n,isLoading:r}=ha(ne.useMemo(()=>({query:uge,variables:{person:[t]},fetch}),[t])),i=ne.useMemo(()=>{const o=new wo(e);return(n.otherPerson??[]).map(l=>{const c=kl(l),h=o.getObjects(l,LR.seeAlso,c),p=o.getQuads(l,Ol.knows,t,c),m=h.flatMap(y=>o.getQuads(l,Ol.knows,t,y));return{webId:l,status:p.length+m.length>0?"confirmed":"request_sent"}})},[t,e,n.otherPerson]),[a,s]=dxe(t);return ne.useMemo(()=>[i.concat(a),{isLoading:r},s],[r,i,s,a])},dxe=t=>{const{quads:e,variables:n,isLoading:r}=ha(ne.useMemo(()=>({query:lge,variables:{person:[t]},fetch}),[t])),i=ne.useMemo(()=>{const a=n.inviteNotification??[],s=or.createLdoDataset(e).usingType(Wq);return a.map(o=>s.fromSubject(o)).filter(o=>{var l,c,h,p,m,y,v,w;return((c=(l=o.object)==null?void 0:l.subject)==null?void 0:c["@id"])===((h=o.actor)==null?void 0:h["@id"])&&((m=(p=o.object)==null?void 0:p.object)==null?void 0:m["@id"])===((y=o.target)==null?void 0:y["@id"])&&((w=(v=o.object)==null?void 0:v.relationship)==null?void 0:w["@id"])==="knows"}).map(o=>{var l;return{webId:(l=o.actor)==null?void 0:l["@id"],status:"request_received",notification:o["@id"],invitation:o.content2}})},[e,n.inviteNotification]);return ne.useMemo(()=>[i,{isLoading:r}],[i,r])},hxe=()=>{const t=cH(),e=fH(),n=pxe();return ne.useCallback(async({me:r,other:i,hospexContainer:a,inbox:s,message:o})=>{await t({me:r,other:i}),await n({inbox:s,me:r,other:i,message:o}),await e({person:i,hospexContainer:a})},[t,n,e])},pxe=()=>{const t=Bs(Wq);return ne.useCallback(async({inbox:e,me:n,other:r,message:i})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[t])},gxe=()=>{const t=cw();return ne.useCallback(async({notification:e})=>{await t.mutateAsync({uri:e})},[t])},mxe=()=>{const t=cw(),e=cH(),n=fH();return ne.useCallback(async({me:r,other:i,notification:a,hospexContainer:s})=>{await e({me:r,other:i}),await t.mutateAsync({uri:a}),await n({person:i,hospexContainer:s})},[e,t,n])},cH=()=>{const t=Ks();return ne.useCallback(async({me:e,other:n})=>{await t.mutateAsync({uri:e,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${e}> foaf:knows <${n}>.
          } .`})},[t])},fH=()=>{const t=Wge(pf);return ne.useCallback(async({person:e,hospexContainer:n})=>{const r=await Nl(n);await t.mutateAsync({uri:r,match:i=>{const s=i.matchSubject(lf.type,xn.Authorization).find(o=>{var l,c,h;return o.accessTo.length===1&&((l=o.accessTo[0])==null?void 0:l["@id"])===n&&((c=o.mode)==null?void 0:c.length)===1&&((h=o.mode[0])==null?void 0:h["@id"])===go.Read});if(!s)throw new Error("subject not found");return s},transform:i=>{i.agent??(i.agent=[]),i.agent.push({"@id":e})}})},[t])},yxe="_contact_axrjx_1",vxe="_status_axrjx_10",_xe="_contactList_axrjx_14",Lg={contact:yxe,status:vxe,contactList:_xe},wxe=({webId:t})=>{const e=di(),[n]=lH(e.webId);if(!n)return Q.jsx(ms,{children:Q.jsx(wt,{id:"Z3FXyt"})});const r=n.find(i=>i.webId===t);return r?r.status===Sd.confirmed?Q.jsx(wt,{id:"dJsK6G"}):r.status===Sd.requestSent?Q.jsx(wt,{id:"uwiVz0"}):r.status===Sd.requestReceived?Q.jsx(dH,{contact:r}):null:Q.jsx(bxe,{webId:t})},dH=({contact:t,children:e})=>{const{i18n:n,_:r}=si(),{communityId:i}=kn(),[a,s]=ne.useState(!1),o=di(),l=mxe(),c=gxe(),h=sm(o.webId,i),p=async()=>{const y=wi(h.personalHospexDocuments[0]);if(!y)throw new Error(n._({id:"NLJ18A"}));await l({me:o.webId,other:t.webId,notification:t.notification,hospexContainer:y}),s(!1)},m=async()=>{await c({notification:t.notification}),s(!1)};return Q.jsxs(Q.Fragment,{children:[Q.jsx(pr,{primary:!0,onClick:()=>s(!0),children:e??Q.jsx(wt,{id:"piu7ZA"})}),Q.jsxs(_w,{isOpen:a,onRequestClose:()=>s(!1),children:[Q.jsx("div",{children:t.invitation}),Q.jsx(pr,{primary:!0,onClick:p,disabled:h.personalHospexDocuments.length===0,children:Q.jsx(wt,{id:"g3UF2V"})}),Q.jsx(pr,{secondary:!0,onClick:m,children:Q.jsx(wt,{id:"gbbkE7"})})]})]})},bxe=({webId:t})=>{const{i18n:e,_:n}=si(),{communityId:r}=kn(),[i,a]=ne.useState(!1),s=di(),o=hxe(),l=sm(s.webId,r),c=sm(t,r),h=async({invitation:m})=>{const y=wi(l.personalHospexDocuments[0]);if(!y)throw new Error(e._({id:"NLJ18A"}));const v=wi(c.inboxes[0]);if(!v)throw new Error(e._({id:"sRGBFr"}));await o({me:s.webId,other:t,message:m,hospexContainer:y,inbox:v}),a(!1)},p=async()=>{a(!1)};return Q.jsxs(Q.Fragment,{children:[Q.jsx(pr,{secondary:!0,onClick:()=>{a(!0)},disabled:l.personalHospexDocuments.length===0||c.inboxes.length===0,children:Q.jsx(wt,{id:"meH4FD"})}),Q.jsx(_w,{isOpen:i,onRequestClose:()=>a(!1),children:Q.jsx(Sxe,{onSubmit:h,onCancel:p})})]})},Sxe=({onSubmit:t,onCancel:e})=>{const{i18n:n,_:r}=si(),{register:i,handleSubmit:a}=Tu({defaultValues:{invitation:n._({id:"8kXsjC"})}}),s=a(async o=>{await t(o)});return Q.jsxs("div",{children:[Q.jsx("h1",{children:Q.jsx(wt,{id:"TFYtVq"})}),Q.jsx("div",{children:Q.jsx(wt,{id:"IYqOgL"})}),Q.jsxs("form",{onSubmit:s,onReset:e,children:[Q.jsx("textarea",{...i("invitation")}),Q.jsx(pr,{primary:!0,type:"submit",children:Q.jsx(wt,{id:"BajMQF"})}),Q.jsx(pr,{secondary:!0,type:"reset",children:Q.jsx(wt,{id:"dEgA5A"})})]})]})},xxe=()=>{const t=eR().id,e=di(),[n]=lH(t);return e.webId?n?Q.jsxs("div",{children:[Q.jsx("h1",{children:Q.jsx(wt,{id:"/Rg4q2",components:{0:Q.jsx(IP,{webId:t,link:!0})}})}),Q.jsx("ul",{className:Lg.contactList,"data-cy":"contact-list",children:n.filter(r=>t===e.webId||r.status===Sd.confirmed).map(r=>Q.jsx("li",{children:Q.jsx(Exe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):Q.jsx(ms,{children:Q.jsx(wt,{id:"maeAdU"})}):Q.jsx(ms,{children:Q.jsx(wt,{id:"qPXQY8"})})},Exe=({contact:t})=>Q.jsxs("div",{className:Lg.contact,"data-cy":"contact",children:[Q.jsx(IP,{webId:t.webId,link:!0}),Q.jsx("span",{className:Lg.spacer}),t.status===Sd.requestSent&&Q.jsx("span",{className:Lg.status,children:Q.jsx(wt,{id:"S48xcO"})}),t.status===Sd.requestReceived&&Q.jsxs(Q.Fragment,{children:[Q.jsx(dH,{contact:t,children:Q.jsx(wt,{id:"WO3k4H"})}),Q.jsx("span",{className:Lg.status,children:Q.jsx(wt,{id:"S48xcO"})})]})]}),yo=async(t,{success:e,error:n,pending:r},i)=>(xr.promise(t,{success:e,error:n??{render:({data:a})=>Q.jsxs(Q.Fragment,{children:[Q.jsx(wt,{id:"kf83Ld"}),Q.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await t);var WT,R6;function Txe(){if(R6)return WT;R6=1;var t=Hs(),e=function(){return t.Date.now()};return WT=e,WT}var QT,P6;function Cxe(){if(P6)return QT;P6=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return QT=e,QT}var ZT,O6;function Axe(){if(O6)return ZT;O6=1;var t=Cxe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return ZT=n,ZT}var JT,I6;function Rxe(){if(I6)return JT;I6=1;var t=Axe(),e=ys(),n=Im(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var p=a.test(c);return p||s.test(c)?o(c.slice(2),p?2:8):i.test(c)?r:+c}return JT=l,JT}var YT,L6;function Pxe(){if(L6)return YT;L6=1;var t=ys(),e=Txe(),n=Rxe(),r="Expected a function",i=Math.max,a=Math.min;function s(o,l,c){var h,p,m,y,v,w,E=0,b=!1,x=!1,A=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(b=!!c.leading,x="maxWait"in c,m=x?i(n(c.maxWait)||0,l):m,A="trailing"in c?!!c.trailing:A);function I(re){var ue=h,me=p;return h=p=void 0,E=re,y=o.apply(me,ue),y}function M(re){return E=re,v=setTimeout(Z,l),b?I(re):y}function D(re){var ue=re-w,me=re-E,be=l-ue;return x?a(be,m-me):be}function F(re){var ue=re-w,me=re-E;return w===void 0||ue>=l||ue<0||x&&me>=m}function Z(){var re=e();if(F(re))return X(re);v=setTimeout(Z,D(re))}function X(re){return v=void 0,A&&h?I(re):(h=p=void 0,y)}function U(){v!==void 0&&clearTimeout(v),E=0,h=w=p=v=void 0}function J(){return v===void 0?y:X(e())}function ce(){var re=e(),ue=F(re);if(h=arguments,p=this,w=re,ue){if(v===void 0)return M(w);if(x)return clearTimeout(v),v=setTimeout(Z,l),I(w)}return v===void 0&&(v=setTimeout(Z,l)),y}return ce.cancel=U,ce.flush=J,ce}return YT=s,YT}var Oxe=Pxe();const Ixe=kr(Oxe);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function Lxe(t,e){if(nf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hH(t){var e=Lxe(t,"string");return nf(e)==="symbol"?e:String(e)}function Mg(t,e,n){return e=hH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mxe(t){if(Array.isArray(t))return t}function Dxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function OA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pH(t,e){if(t){if(typeof t=="string")return OA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OA(t,e)}}function kxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function du(t,e){return Mxe(t)||Dxe(t,e)||pH(t,e)||kxe()}function Nxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Cu(t,e){if(t==null)return{};var n=Nxe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var Fxe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function jxe(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,a=t.defaultValue,s=a===void 0?null:a,o=t.inputValue,l=t.menuIsOpen,c=t.onChange,h=t.onInputChange,p=t.onMenuClose,m=t.onMenuOpen,y=t.value,v=Cu(t,Fxe),w=ne.useState(o!==void 0?o:n),E=du(w,2),b=E[0],x=E[1],A=ne.useState(l!==void 0?l:i),I=du(A,2),M=I[0],D=I[1],F=ne.useState(y!==void 0?y:s),Z=du(F,2),X=Z[0],U=Z[1],J=ne.useCallback(function(fe,Oe){typeof c=="function"&&c(fe,Oe),U(fe)},[c]),ce=ne.useCallback(function(fe,Oe){var k;typeof h=="function"&&(k=h(fe,Oe)),x(k!==void 0?k:fe)},[h]),re=ne.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),ue=ne.useCallback(function(){typeof p=="function"&&p(),D(!1)},[p]),me=o!==void 0?o:b,be=l!==void 0?l:M,he=y!==void 0?y:X;return an(an({},v),{},{inputValue:me,menuIsOpen:be,onChange:J,onInputChange:ce,onMenuClose:ue,onMenuOpen:re,value:he})}function on(){return on=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},on.apply(this,arguments)}function $xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hH(r.key),r)}}function Uxe(t,e,n){return D6(t.prototype,e),D6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function IA(t,e){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IA(t,e)}function Bxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IA(t,e)}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}function qxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function zxe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hxe(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zxe(t)}function Vxe(t){var e=qxe();return function(){var r=S0(t),i;if(e){var a=S0(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Hxe(this,i)}}function Kxe(t){if(Array.isArray(t))return OA(t)}function Gxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LP(t){return Kxe(t)||Gxe(t)||pH(t)||Wxe()}function Qxe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Zxe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Jxe=function(){function t(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Zxe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=Qxe(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),qi="-ms-",x0="-moz-",Wn="-webkit-",gH="comm",MP="rule",DP="decl",Yxe="@import",mH="@keyframes",Xxe=Math.abs,ww=String.fromCharCode,eEe=Object.assign;function tEe(t,e){return ki(t,0)^45?(((e<<2^ki(t,0))<<2^ki(t,1))<<2^ki(t,2))<<2^ki(t,3):0}function yH(t){return t.trim()}function nEe(t,e){return(t=e.exec(t))?t[0]:t}function er(t,e,n){return t.replace(e,n)}function LA(t,e){return t.indexOf(e)}function ki(t,e){return t.charCodeAt(e)|0}function om(t,e,n){return t.slice(e,n)}function co(t){return t.length}function kP(t){return t.length}function Ov(t,e){return e.push(t),t}function rEe(t,e){return t.map(e).join("")}var bw=1,Gd=1,vH=0,Aa=0,ai=0,Sh="";function Sw(t,e,n,r,i,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:a,line:bw,column:Gd,length:s,return:""}}function mg(t,e){return eEe(Sw("",null,null,"",null,null,0),t,{length:-t.length},e)}function iEe(){return ai}function aEe(){return ai=Aa>0?ki(Sh,--Aa):0,Gd--,ai===10&&(Gd=1,bw--),ai}function Va(){return ai=Aa<vH?ki(Sh,Aa++):0,Gd++,ai===10&&(Gd=1,bw++),ai}function vo(){return ki(Sh,Aa)}function $_(){return Aa}function $m(t,e){return om(Sh,t,e)}function um(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _H(t){return bw=Gd=1,vH=co(Sh=t),Aa=0,[]}function wH(t){return Sh="",t}function U_(t){return yH($m(Aa-1,MA(t===91?t+2:t===40?t+1:t)))}function sEe(t){for(;(ai=vo())&&ai<33;)Va();return um(t)>2||um(ai)>3?"":" "}function oEe(t,e){for(;--e&&Va()&&!(ai<48||ai>102||ai>57&&ai<65||ai>70&&ai<97););return $m(t,$_()+(e<6&&vo()==32&&Va()==32))}function MA(t){for(;Va();)switch(ai){case t:return Aa;case 34:case 39:t!==34&&t!==39&&MA(ai);break;case 40:t===41&&MA(t);break;case 92:Va();break}return Aa}function uEe(t,e){for(;Va()&&t+ai!==57;)if(t+ai===84&&vo()===47)break;return"/*"+$m(e,Aa-1)+"*"+ww(t===47?t:Va())}function lEe(t){for(;!um(vo());)Va();return $m(t,Aa)}function cEe(t){return wH(B_("",null,null,null,[""],t=_H(t),0,[0],t))}function B_(t,e,n,r,i,a,s,o,l){for(var c=0,h=0,p=s,m=0,y=0,v=0,w=1,E=1,b=1,x=0,A="",I=i,M=a,D=r,F=A;E;)switch(v=x,x=Va()){case 40:if(v!=108&&ki(F,p-1)==58){LA(F+=er(U_(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=U_(x);break;case 9:case 10:case 13:case 32:F+=sEe(v);break;case 92:F+=oEe($_()-1,7);continue;case 47:switch(vo()){case 42:case 47:Ov(fEe(uEe(Va(),$_()),e,n),l);break;default:F+="/"}break;case 123*w:o[c++]=co(F)*b;case 125*w:case 59:case 0:switch(x){case 0:case 125:E=0;case 59+h:y>0&&co(F)-p&&Ov(y>32?N6(F+";",r,n,p-1):N6(er(F," ","")+";",r,n,p-2),l);break;case 59:F+=";";default:if(Ov(D=k6(F,e,n,c,h,i,o,A,I=[],M=[],p),a),x===123)if(h===0)B_(F,e,D,D,I,a,p,o,M);else switch(m===99&&ki(F,3)===110?100:m){case 100:case 109:case 115:B_(t,D,D,r&&Ov(k6(t,D,D,0,0,i,o,A,i,I=[],p),M),i,M,p,o,r?I:M);break;default:B_(F,D,D,D,[""],M,0,o,M)}}c=h=y=0,w=b=1,A=F="",p=s;break;case 58:p=1+co(F),y=v;default:if(w<1){if(x==123)--w;else if(x==125&&w++==0&&aEe()==125)continue}switch(F+=ww(x),x*w){case 38:b=h>0?1:(F+="\f",-1);break;case 44:o[c++]=(co(F)-1)*b,b=1;break;case 64:vo()===45&&(F+=U_(Va())),m=vo(),h=p=co(A=F+=lEe($_())),x++;break;case 45:v===45&&co(F)==2&&(w=0)}}return a}function k6(t,e,n,r,i,a,s,o,l,c,h){for(var p=i-1,m=i===0?a:[""],y=kP(m),v=0,w=0,E=0;v<r;++v)for(var b=0,x=om(t,p+1,p=Xxe(w=s[v])),A=t;b<y;++b)(A=yH(w>0?m[b]+" "+x:er(x,/&\f/g,m[b])))&&(l[E++]=A);return Sw(t,e,n,i===0?MP:o,l,c,h)}function fEe(t,e,n){return Sw(t,e,n,gH,ww(iEe()),om(t,2,-2),0)}function N6(t,e,n,r){return Sw(t,e,n,DP,om(t,0,r),om(t,r+1,-1),r)}function xd(t,e){for(var n="",r=kP(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function dEe(t,e,n,r){switch(t.type){case Yxe:case DP:return t.return=t.return||t.value;case gH:return"";case mH:return t.return=t.value+"{"+xd(t.children,r)+"}";case MP:t.value=t.props.join(",")}return co(n=xd(t.children,r))?t.return=t.value+"{"+n+"}":""}function hEe(t){var e=kP(t);return function(n,r,i,a){for(var s="",o=0;o<e;o++)s+=t[o](n,r,i,a)||"";return s}}function pEe(t){return function(e){e.root||(e=e.return)&&t(e)}}function gEe(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var mEe=function(e,n,r){for(var i=0,a=0;i=a,a=vo(),i===38&&a===12&&(n[r]=1),!um(a);)Va();return $m(e,Aa)},yEe=function(e,n){var r=-1,i=44;do switch(um(i)){case 0:i===38&&vo()===12&&(n[r]=1),e[r]+=mEe(Aa-1,n,r);break;case 2:e[r]+=U_(i);break;case 4:if(i===44){e[++r]=vo()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=ww(i)}while(i=Va());return e},vEe=function(e,n){return wH(yEe(_H(e),n))},F6=new WeakMap,_Ee=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!F6.get(r))&&!i){F6.set(e,!0);for(var a=[],s=vEe(n,a),o=r.props,l=0,c=0;l<s.length;l++)for(var h=0;h<o.length;h++,c++)e.props[c]=a[l]?s[l].replace(/&\f/g,o[h]):o[h]+" "+s[l]}}},wEe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function bH(t,e){switch(tEe(t,e)){case 5103:return Wn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Wn+t+x0+t+qi+t+t;case 6828:case 4268:return Wn+t+qi+t+t;case 6165:return Wn+t+qi+"flex-"+t+t;case 5187:return Wn+t+er(t,/(\w+).+(:[^]+)/,Wn+"box-$1$2"+qi+"flex-$1$2")+t;case 5443:return Wn+t+qi+"flex-item-"+er(t,/flex-|-self/,"")+t;case 4675:return Wn+t+qi+"flex-line-pack"+er(t,/align-content|flex-|-self/,"")+t;case 5548:return Wn+t+qi+er(t,"shrink","negative")+t;case 5292:return Wn+t+qi+er(t,"basis","preferred-size")+t;case 6060:return Wn+"box-"+er(t,"-grow","")+Wn+t+qi+er(t,"grow","positive")+t;case 4554:return Wn+er(t,/([^-])(transform)/g,"$1"+Wn+"$2")+t;case 6187:return er(er(er(t,/(zoom-|grab)/,Wn+"$1"),/(image-set)/,Wn+"$1"),t,"")+t;case 5495:case 3959:return er(t,/(image-set\([^]*)/,Wn+"$1$`$1");case 4968:return er(er(t,/(.+:)(flex-)?(.*)/,Wn+"box-pack:$3"+qi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wn+t+t;case 4095:case 3583:case 4068:case 2532:return er(t,/(.+)-inline(.+)/,Wn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(co(t)-1-e>6)switch(ki(t,e+1)){case 109:if(ki(t,e+4)!==45)break;case 102:return er(t,/(.+:)(.+)-([^]+)/,"$1"+Wn+"$2-$3$1"+x0+(ki(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~LA(t,"stretch")?bH(er(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ki(t,e+1)!==115)break;case 6444:switch(ki(t,co(t)-3-(~LA(t,"!important")&&10))){case 107:return er(t,":",":"+Wn)+t;case 101:return er(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wn+(ki(t,14)===45?"inline-":"")+"box$3$1"+Wn+"$2$3$1"+qi+"$2box$3")+t}break;case 5936:switch(ki(t,e+11)){case 114:return Wn+t+qi+er(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Wn+t+qi+er(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Wn+t+qi+er(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Wn+t+qi+t+t}return t}var bEe=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case DP:e.return=bH(e.value,e.length);break;case mH:return xd([mg(e,{value:er(e.value,"@","@"+Wn)})],i);case MP:if(e.length)return rEe(e.props,function(a){switch(nEe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return xd([mg(e,{props:[er(a,/:(read-\w+)/,":"+x0+"$1")]})],i);case"::placeholder":return xd([mg(e,{props:[er(a,/:(plac\w+)/,":"+Wn+"input-$1")]}),mg(e,{props:[er(a,/:(plac\w+)/,":"+x0+"$1")]}),mg(e,{props:[er(a,/:(plac\w+)/,qi+"input-$1")]})],i)}return""})}},SEe=[bEe],xEe=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(w){var E=w.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var i=e.stylisPlugins||SEe,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(w){for(var E=w.getAttribute("data-emotion").split(" "),b=1;b<E.length;b++)a[E[b]]=!0;o.push(w)});var l,c=[_Ee,wEe];{var h,p=[dEe,pEe(function(w){h.insert(w)})],m=hEe(c.concat(i,p)),y=function(E){return xd(cEe(E),m)};l=function(E,b,x,A){h=x,y(E?E+"{"+b.styles+"}":b.styles),A&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new Jxe({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:l};return v.sheet.hydrate(o),v},XT={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j6;function EEe(){if(j6)return Xn;j6=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,c=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function A(M){if(typeof M=="object"&&M!==null){var D=M.$$typeof;switch(D){case e:switch(M=M.type,M){case l:case c:case r:case a:case i:case p:return M;default:switch(M=M&&M.$$typeof,M){case o:case h:case v:case y:case s:return M;default:return D}}case n:return D}}}function I(M){return A(M)===c}return Xn.AsyncMode=l,Xn.ConcurrentMode=c,Xn.ContextConsumer=o,Xn.ContextProvider=s,Xn.Element=e,Xn.ForwardRef=h,Xn.Fragment=r,Xn.Lazy=v,Xn.Memo=y,Xn.Portal=n,Xn.Profiler=a,Xn.StrictMode=i,Xn.Suspense=p,Xn.isAsyncMode=function(M){return I(M)||A(M)===l},Xn.isConcurrentMode=I,Xn.isContextConsumer=function(M){return A(M)===o},Xn.isContextProvider=function(M){return A(M)===s},Xn.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Xn.isForwardRef=function(M){return A(M)===h},Xn.isFragment=function(M){return A(M)===r},Xn.isLazy=function(M){return A(M)===v},Xn.isMemo=function(M){return A(M)===y},Xn.isPortal=function(M){return A(M)===n},Xn.isProfiler=function(M){return A(M)===a},Xn.isStrictMode=function(M){return A(M)===i},Xn.isSuspense=function(M){return A(M)===p},Xn.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===c||M===a||M===i||M===p||M===m||typeof M=="object"&&M!==null&&(M.$$typeof===v||M.$$typeof===y||M.$$typeof===s||M.$$typeof===o||M.$$typeof===h||M.$$typeof===E||M.$$typeof===b||M.$$typeof===x||M.$$typeof===w)},Xn.typeOf=A,Xn}var $6;function TEe(){return $6||($6=1,XT.exports=EEe()),XT.exports}var eC,U6;function CEe(){if(U6)return eC;U6=1;var t=TEe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=r,a[t.Memo]=i;function s(v){return t.isMemo(v)?i:a[v.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;function y(v,w,E){if(typeof w!="string"){if(m){var b=p(w);b&&b!==m&&y(v,b,E)}var x=l(w);c&&(x=x.concat(c(w)));for(var A=s(v),I=s(w),M=0;M<x.length;++M){var D=x[M];if(!n[D]&&!(E&&E[D])&&!(I&&I[D])&&!(A&&A[D])){var F=h(w,D);try{o(v,D,F)}catch{}}}}return v}return eC=y,eC}CEe();var AEe=!0;function REe(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var SH=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||AEe===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},PEe=function(e,n,r){SH(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+i:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function OEe(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var IEe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},LEe=/[A-Z]|^ms/g,MEe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xH=function(e){return e.charCodeAt(1)===45},B6=function(e){return e!=null&&typeof e!="boolean"},tC=gEe(function(t){return xH(t)?t:t.replace(LEe,"-$&").toLowerCase()}),q6=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(MEe,function(r,i,a){return fo={name:i,styles:a,next:fo},i})}return IEe[e]!==1&&!xH(e)&&typeof n=="number"&&n!==0?n+"px":n};function lm(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return fo={name:n.name,styles:n.styles,next:fo},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)fo={name:r.name,styles:r.styles,next:fo},r=r.next;var i=n.styles+";";return i}return DEe(t,e,n)}case"function":{if(t!==void 0){var a=fo,s=n(t);return fo=a,lm(t,e,s)}break}}return n}function DEe(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=lm(t,e,n[i])+";";else for(var a in n){var s=n[a];if(typeof s!="object")B6(s)&&(r+=tC(a)+":"+q6(a,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&e==null)for(var o=0;o<s.length;o++)B6(s[o])&&(r+=tC(a)+":"+q6(a,s[o])+";");else{var l=lm(t,e,s);switch(a){case"animation":case"animationName":{r+=tC(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var z6=/label:\s*([^\s;\n{]+)\s*(;|$)/g,fo,EH=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,a="";fo=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,a+=lm(r,n,s)):a+=s[0];for(var o=1;o<e.length;o++)a+=lm(r,n,e[o]),i&&(a+=s[o]);z6.lastIndex=0;for(var l="",c;(c=z6.exec(a))!==null;)l+="-"+c[1];var h=OEe(a)+l;return{name:h,styles:a,next:fo}},kEe=function(e){return e()},NEe=jd.useInsertionEffect?jd.useInsertionEffect:!1,FEe=NEe||kEe,NP={}.hasOwnProperty,TH=ne.createContext(typeof HTMLElement<"u"?xEe({key:"css"}):null);TH.Provider;var jEe=function(e){return ne.forwardRef(function(n,r){var i=ne.useContext(TH);return e(n,i,r)})},$Ee=ne.createContext({}),DA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",UEe=function(e,n){var r={};for(var i in n)NP.call(n,i)&&(r[i]=n[i]);return r[DA]=e,r},BEe=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return SH(n,r,i),FEe(function(){return PEe(n,r,i)}),null},qEe=jEe(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[DA],a=[r],s="";typeof t.className=="string"?s=REe(e.registered,a,t.className):t.className!=null&&(s=t.className+" ");var o=EH(a,void 0,ne.useContext($Ee));s+=e.key+"-"+o.name;var l={};for(var c in t)NP.call(t,c)&&c!=="css"&&c!==DA&&(l[c]=t[c]);return l.ref=n,l.className=s,ne.createElement(ne.Fragment,null,ne.createElement(BEe,{cache:e,serialized:o,isStringTag:typeof i=="string"}),ne.createElement(i,l))}),nn=function(e,n){var r=arguments;if(n==null||!NP.call(n,"css"))return ne.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=qEe,a[1]=UEe(e,n);for(var s=2;s<i;s++)a[s]=r[s];return ne.createElement.apply(null,a)};function FP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return EH(e)}var zEe=function(){var e=FP.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function HEe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function VEe(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}const KEe=["top","right","bottom","left"];KEe.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function hu(t){var e;return((e=t.ownerDocument)==null?void 0:e.defaultView)||window}function CH(t){return hu(t).getComputedStyle(t)}function AH(t){return t instanceof hu(t).Node}function RH(t){return AH(t)?(t.nodeName||"").toLowerCase():""}let Iv;function GEe(){if(Iv)return Iv;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?(Iv=t.brands.map(e=>e.brand+"/"+e.version).join(" "),Iv):navigator.userAgent}function jP(t){return t instanceof hu(t).HTMLElement}function q_(t){return t instanceof hu(t).Element}function H6(t){return typeof ShadowRoot>"u"?!1:t instanceof hu(t).ShadowRoot||t instanceof ShadowRoot}function PH(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=CH(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function WEe(){return/^((?!chrome|android).)*safari/i.test(GEe())}function QEe(t){return["html","body","#document"].includes(RH(t))}const E0=Math.round;function ZEe(t){const e=CH(t);let n=parseFloat(e.width),r=parseFloat(e.height);const i=jP(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=E0(n)!==a||E0(r)!==s;return o&&(n=a,r=s),{width:n,height:r,fallback:o}}function OH(t){return q_(t)?t:t.contextElement}const IH={x:1,y:1};function V6(t){const e=OH(t);if(!jP(e))return IH;const n=e.getBoundingClientRect(),{width:r,height:i,fallback:a}=ZEe(e);let s=(a?E0(n.width):n.width)/r,o=(a?E0(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),o&&Number.isFinite(o)||(o=1),{x:s,y:o}}function K6(t,e,n,r){var i,a;e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=OH(t);let l=IH;e&&(l=V6(t));const c=o?hu(o):window,h=WEe()&&n;let p=(s.left+(h&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,m=(s.top+(h&&((a=c.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=s.width/l.x,v=s.height/l.y;if(o){const w=hu(o),E=r;let b=w.frameElement;for(;b&&r&&E!==w;){const x=V6(b),A=b.getBoundingClientRect(),I=getComputedStyle(b);A.x+=(b.clientLeft+parseFloat(I.paddingLeft))*x.x,A.y+=(b.clientTop+parseFloat(I.paddingTop))*x.y,p*=x.x,m*=x.y,y*=x.x,v*=x.y,p+=A.x,m+=A.y,b=hu(b).frameElement}}return VEe({width:y,height:v,x:p,y:m})}function JEe(t){return((AH(t)?t.ownerDocument:t.document)||window.document).documentElement}function YEe(t){if(RH(t)==="html")return t;const e=t.assignedSlot||t.parentNode||H6(t)&&t.host||JEe(t);return H6(e)?e.host:e}function LH(t){const e=YEe(t);return QEe(e)?e.ownerDocument.body:jP(e)&&PH(e)?e:LH(e)}function z_(t,e){var n;e===void 0&&(e=[]);const r=LH(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),a=hu(r);return i?e.concat(a,a.visualViewport||[],PH(r)?r:[]):e.concat(r,z_(r))}function XEe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=!0,animationFrame:o=!1}=r,l=i&&!o,c=l||a?[...q_(t)?z_(t):t.contextElement?z_(t.contextElement):[],...z_(e)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let h,p=null;s&&(p=new ResizeObserver(()=>{n()}),q_(t)&&!o&&p.observe(t),q_(t)||!t.contextElement||o||p.observe(t.contextElement),p.observe(e));let m=o?K6(t):null;return o&&function y(){const v=K6(t);!m||v.x===m.x&&v.y===m.y&&v.width===m.width&&v.height===m.height||n(),m=v,h=requestAnimationFrame(y)}(),n(),()=>{var y;c.forEach(v=>{l&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(y=p)==null||y.disconnect(),p=null,o&&cancelAnimationFrame(h)}}var kA=ne.useLayoutEffect,e2e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],T0=function(){};function t2e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function n2e(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(e&&t)for(var s in e)e.hasOwnProperty(s)&&e[s]&&a.push("".concat(t2e(t,s)));return a.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var G6=function(e){return f2e(e)?e.filter(Boolean):nf(e)==="object"&&e!==null?[e]:[]},MH=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=Cu(e,e2e);return an({},n)},Hr=function(e,n,r){var i=e.cx,a=e.getStyles,s=e.getClassNames,o=e.className;return{css:a(n,e),className:i(r??{},s(n,e),o)}};function xw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function r2e(t){return xw(t)?window.innerHeight:t.clientHeight}function DH(t){return xw(t)?window.pageYOffset:t.scrollTop}function C0(t,e){if(xw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function i2e(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function a2e(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Lv(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T0,i=DH(t),a=e-i,s=10,o=0;function l(){o+=s;var c=a2e(o,i,a,n);C0(t,c),o<n?window.requestAnimationFrame(l):r(t)}l()}function W6(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?C0(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&C0(t,Math.max(e.offsetTop-i,0))}function s2e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function Q6(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function o2e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var kH=!1,u2e={get passive(){return kH=!0}},Mv=typeof window<"u"?window:{};Mv.addEventListener&&Mv.removeEventListener&&(Mv.addEventListener("p",T0,u2e),Mv.removeEventListener("p",T0,!1));var l2e=kH;function c2e(t){return t!=null}function f2e(t){return Array.isArray(t)}function Dv(t,e,n){return t?e:n}var d2e=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(e).filter(function(s){var o=du(s,1),l=o[0];return!r.includes(l)});return a.reduce(function(s,o){var l=du(o,2),c=l[0],h=l[1];return s[c]=h,s},{})},h2e=["children","innerProps"],p2e=["children","innerProps"];function g2e(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,a=t.shouldScroll,s=t.isFixedPosition,o=t.controlHeight,l=i2e(n),c={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return c;var h=l.getBoundingClientRect(),p=h.height,m=n.getBoundingClientRect(),y=m.bottom,v=m.height,w=m.top,E=n.offsetParent.getBoundingClientRect(),b=E.top,x=s?window.innerHeight:r2e(l),A=DH(l),I=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),D=b-M,F=x-w,Z=D+A,X=p-A-w,U=y-x+A+I,J=A+w-M,ce=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:e};if(X>=v&&!s)return a&&Lv(l,U,ce),{placement:"bottom",maxHeight:e};if(!s&&X>=r||s&&F>=r){a&&Lv(l,U,ce);var re=s?F-I:X-I;return{placement:"bottom",maxHeight:re}}if(i==="auto"||s){var ue=e,me=s?D:Z;return me>=r&&(ue=Math.min(me-I-o,e)),{placement:"top",maxHeight:ue}}if(i==="bottom")return a&&C0(l,U),{placement:"bottom",maxHeight:e};break;case"top":if(D>=v)return{placement:"top",maxHeight:e};if(Z>=v&&!s)return a&&Lv(l,J,ce),{placement:"top",maxHeight:e};if(!s&&Z>=r||s&&D>=r){var be=e;return(!s&&Z>=r||s&&D>=r)&&(be=s?D-M:Z-M),a&&Lv(l,J,ce),{placement:"top",maxHeight:be}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function m2e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var NH=function(e){return e==="auto"?"bottom":e},y2e=function(e,n){var r,i=e.placement,a=e.theme,s=a.borderRadius,o=a.spacing,l=a.colors;return an((r={label:"menu"},Mg(r,m2e(i),"100%"),Mg(r,"position","absolute"),Mg(r,"width","100%"),Mg(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},FH=ne.createContext(null),v2e=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,a=e.menuPlacement,s=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=ne.useContext(FH)||{},h=c.setPortalPlacement,p=ne.useRef(null),m=ne.useState(i),y=du(m,2),v=y[0],w=y[1],E=ne.useState(null),b=du(E,2),x=b[0],A=b[1],I=l.spacing.controlHeight;return kA(function(){var M=p.current;if(M){var D=s==="fixed",F=o&&!D,Z=g2e({maxHeight:i,menuEl:M,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:D,controlHeight:I});w(Z.maxHeight),A(Z.placement),h==null||h(Z.placement)}},[i,a,s,o,r,h,I]),n({ref:p,placerProps:an(an({},e),{},{placement:x||NH(a),maxHeight:v})})},_2e=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return nn("div",on({},Hr(e,"menu",{menu:!0}),{ref:r},i),n)},w2e=_2e,b2e=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return an({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},S2e=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,a=e.isMulti;return nn("div",on({},Hr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},jH=function(e,n){var r=e.theme,i=r.spacing.baseUnit,a=r.colors;return an({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},x2e=jH,E2e=jH,T2e=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,a=Cu(e,h2e);return nn("div",on({},Hr(an(an({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},C2e=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,a=Cu(e,p2e);return nn("div",on({},Hr(an(an({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},A2e=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},R2e=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,a=e.innerProps,s=e.menuPlacement,o=e.menuPosition,l=ne.useRef(null),c=ne.useRef(null),h=ne.useState(NH(s)),p=du(h,2),m=p[0],y=p[1],v=ne.useMemo(function(){return{setPortalPlacement:y}},[]),w=ne.useState(null),E=du(w,2),b=E[0],x=E[1],A=ne.useCallback(function(){if(i){var F=s2e(i),Z=o==="fixed"?0:window.pageYOffset,X=F[m]+Z;(X!==(b==null?void 0:b.offset)||F.left!==(b==null?void 0:b.rect.left)||F.width!==(b==null?void 0:b.rect.width))&&x({offset:X,rect:F})}},[i,o,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);kA(function(){A()},[A]);var I=ne.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=XEe(i,l.current,A,{elementResize:"ResizeObserver"in window}))},[i,A]);kA(function(){I()},[I]);var M=ne.useCallback(function(F){l.current=F,I()},[I]);if(!n&&o!=="fixed"||!b)return null;var D=nn("div",on({ref:M},Hr(an(an({},e),{},{offset:b.offset,position:o,rect:b.rect}),"menuPortal",{"menu-portal":!0}),a),r);return nn(FH.Provider,{value:v},n?tm.createPortal(D,n):D)},P2e=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},O2e=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,a=e.isRtl;return nn("div",on({},Hr(e,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},I2e=function(e,n){var r=e.theme.spacing,i=e.isMulti,a=e.hasValue,s=e.selectProps.controlShouldRenderValue;return an({alignItems:"center",display:i&&a&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},L2e=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,a=e.hasValue;return nn("div",on({},Hr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},M2e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},D2e=function(e){var n=e.children,r=e.innerProps;return nn("div",on({},Hr(e,"indicatorsContainer",{indicators:!0}),r),n)},Z6,k2e=["size"],N2e=["innerProps","isRtl","size"],F2e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},$H=function(e){var n=e.size,r=Cu(e,k2e);return nn("svg",on({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:F2e},r))},$P=function(e){return nn($H,on({size:20},e),nn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},UH=function(e){return nn($H,on({size:20},e),nn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},BH=function(e,n){var r=e.isFocused,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return an({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?s.neutral60:s.neutral20,padding:a*2,":hover":{color:r?s.neutral80:s.neutral40}})},j2e=BH,$2e=function(e){var n=e.children,r=e.innerProps;return nn("div",on({},Hr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||nn(UH,null))},U2e=BH,B2e=function(e){var n=e.children,r=e.innerProps;return nn("div",on({},Hr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||nn($P,null))},q2e=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing.baseUnit,s=i.colors;return an({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?s.neutral10:s.neutral20,marginBottom:a*2,marginTop:a*2})},z2e=function(e){var n=e.innerProps;return nn("span",on({},n,Hr(e,"indicatorSeparator",{"indicator-separator":!0})))},H2e=zEe(Z6||(Z6=HEe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),V2e=function(e,n){var r=e.isFocused,i=e.size,a=e.theme,s=a.colors,o=a.spacing.baseUnit;return an({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?s.neutral60:s.neutral20,padding:o*2})},nC=function(e){var n=e.delay,r=e.offset;return nn("span",{css:FP({animation:"".concat(H2e," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},K2e=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,a=i===void 0?4:i,s=Cu(e,N2e);return nn("div",on({},Hr(an(an({},s),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),nn(nC,{delay:0,offset:r}),nn(nC,{delay:160,offset:!0}),nn(nC,{delay:320,offset:!r}))},G2e=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.theme,s=a.colors,o=a.borderRadius,l=a.spacing;return an({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?s.neutral5:s.neutral0,borderColor:r?s.neutral10:i?s.primary:s.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},W2e=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.innerRef,s=e.innerProps,o=e.menuIsOpen;return nn("div",on({ref:a},Hr(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":o}),s,{"aria-disabled":r||void 0}),n)},Q2e=W2e,Z2e=["data"],J2e=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},Y2e=function(e){var n=e.children,r=e.cx,i=e.getStyles,a=e.getClassNames,s=e.Heading,o=e.headingProps,l=e.innerProps,c=e.label,h=e.theme,p=e.selectProps;return nn("div",on({},Hr(e,"group",{group:!0}),l),nn(s,on({},o,{selectProps:p,theme:h,getStyles:i,getClassNames:a,cx:r}),c),nn("div",null,n))},X2e=function(e,n){var r=e.theme,i=r.colors,a=r.spacing;return an({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},eTe=function(e){var n=MH(e);n.data;var r=Cu(n,Z2e);return nn("div",on({},Hr(e,"groupHeading",{"group-heading":!0}),r))},tTe=Y2e,nTe=["innerRef","isDisabled","isHidden","inputClassName"],rTe=function(e,n){var r=e.isDisabled,i=e.value,a=e.theme,s=a.spacing,o=a.colors;return an(an({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},iTe),n?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:o.neutral80})},qH={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},iTe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":an({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},qH)},aTe=function(e){return an({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},qH)},sTe=function(e){var n=e.cx,r=e.value,i=MH(e),a=i.innerRef,s=i.isDisabled,o=i.isHidden,l=i.inputClassName,c=Cu(i,nTe);return nn("div",on({},Hr(e,"input",{"input-container":!0}),{"data-value":r||""}),nn("input",on({className:n({input:!0},l),ref:a,style:aTe(o),disabled:s},c)))},oTe=sTe,uTe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors;return an({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:s.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},lTe=function(e,n){var r=e.theme,i=r.borderRadius,a=r.colors,s=e.cropWithEllipsis;return an({overflow:"hidden",textOverflow:s||s===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},cTe=function(e,n){var r=e.theme,i=r.spacing,a=r.borderRadius,s=r.colors,o=e.isFocused;return an({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:o?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},zH=function(e){var n=e.children,r=e.innerProps;return nn("div",r,n)},fTe=zH,dTe=zH;function hTe(t){var e=t.children,n=t.innerProps;return nn("div",on({role:"button"},n),e||nn($P,{size:14}))}var pTe=function(e){var n=e.children,r=e.components,i=e.data,a=e.innerProps,s=e.isDisabled,o=e.removeProps,l=e.selectProps,c=r.Container,h=r.Label,p=r.Remove;return nn(c,{data:i,innerProps:an(an({},Hr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),a),selectProps:l},nn(h,{data:i,innerProps:an({},Hr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),nn(p,{data:i,innerProps:an(an({},Hr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},o),selectProps:l}))},gTe=pTe,mTe=function(e,n){var r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.theme,o=s.spacing,l=s.colors;return an({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},yTe=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,a=e.isSelected,s=e.innerRef,o=e.innerProps;return nn("div",on({},Hr(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:s,"aria-disabled":r},o),n)},vTe=yTe,_Te=function(e,n){var r=e.theme,i=r.spacing,a=r.colors;return an({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},wTe=function(e){var n=e.children,r=e.innerProps;return nn("div",on({},Hr(e,"placeholder",{placeholder:!0}),r),n)},bTe=wTe,STe=function(e,n){var r=e.isDisabled,i=e.theme,a=i.spacing,s=i.colors;return an({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?s.neutral40:s.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},xTe=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return nn("div",on({},Hr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},ETe=xTe,TTe={ClearIndicator:B2e,Control:Q2e,DropdownIndicator:$2e,DownChevron:UH,CrossIcon:$P,Group:tTe,GroupHeading:eTe,IndicatorsContainer:D2e,IndicatorSeparator:z2e,Input:oTe,LoadingIndicator:K2e,Menu:w2e,MenuList:S2e,MenuPortal:R2e,LoadingMessage:C2e,NoOptionsMessage:T2e,MultiValue:gTe,MultiValueContainer:fTe,MultiValueLabel:dTe,MultiValueRemove:hTe,Option:vTe,Placeholder:bTe,SelectContainer:O2e,SingleValue:ETe,ValueContainer:L2e},CTe=function(e){return an(an({},TTe),e.components)},J6=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ATe(t,e){return!!(t===e||J6(t)&&J6(e))}function RTe(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ATe(t[n],e[n]))return!1;return!0}function PTe(t,e){e===void 0&&(e=RTe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var s=t.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){n=null},r}var OTe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},ITe=function(e){return nn("span",on({css:OTe},e))},Y6=ITe,LTe={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,a=e.context,s=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,a=e.labels,s=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,a=e.label,s=a===void 0?"":a,o=e.selectValue,l=e.isDisabled,c=e.isSelected,h=e.isAppleDevice,p=function(w,E){return w&&w.length?"".concat(w.indexOf(E)+1," of ").concat(w.length):""};if(n==="value"&&o)return"value ".concat(s," focused, ").concat(p(o,r),".");if(n==="menu"&&h){var m=l?" disabled":"",y="".concat(c?" selected":"").concat(m);return"".concat(s).concat(y,", ").concat(p(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},MTe=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,a=e.focusableOptions,s=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,h=e.isAppleDevice,p=l.ariaLiveMessages,m=l.getOptionLabel,y=l.inputValue,v=l.isMulti,w=l.isOptionDisabled,E=l.isSearchable,b=l.menuIsOpen,x=l.options,A=l.screenReaderStatus,I=l.tabSelectsValue,M=l.isLoading,D=l["aria-label"],F=l["aria-live"],Z=ne.useMemo(function(){return an(an({},LTe),p||{})},[p]),X=ne.useMemo(function(){var me="";if(n&&Z.onChange){var be=n.option,he=n.options,fe=n.removedValue,Oe=n.removedValues,k=n.value,ie=function(Re){return Array.isArray(Re)?null:Re},ge=fe||be||ie(k),H=ge?m(ge):"",Y=he||Oe||void 0,pe=Y?Y.map(m):[],Ae=an({isDisabled:ge&&w(ge,o),label:H,labels:pe},n);me=Z.onChange(Ae)}return me},[n,Z,w,o,m]),U=ne.useMemo(function(){var me="",be=r||i,he=!!(r&&o&&o.includes(r));if(be&&Z.onFocus){var fe={focused:be,label:m(be),isDisabled:w(be,o),isSelected:he,options:a,context:be===r?"menu":"value",selectValue:o,isAppleDevice:h};me=Z.onFocus(fe)}return me},[r,i,m,w,Z,a,o,h]),J=ne.useMemo(function(){var me="";if(b&&x.length&&!M&&Z.onFilter){var be=A({count:a.length});me=Z.onFilter({inputValue:y,resultsMessage:be})}return me},[a,y,b,Z,x,A,M]),ce=(n==null?void 0:n.action)==="initial-input-focus",re=ne.useMemo(function(){var me="";if(Z.guidance){var be=i?"value":b?"menu":"input";me=Z.guidance({"aria-label":D,context:be,isDisabled:r&&w(r,o),isMulti:v,isSearchable:E,tabSelectsValue:I,isInitialFocus:ce})}return me},[D,r,i,v,w,E,b,Z,o,I,ce]),ue=nn(ne.Fragment,null,nn("span",{id:"aria-selection"},X),nn("span",{id:"aria-focused"},U),nn("span",{id:"aria-results"},J),nn("span",{id:"aria-guidance"},re));return nn(ne.Fragment,null,nn(Y6,{id:c},ce&&ue),nn(Y6,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},s&&!ce&&ue))},DTe=MTe,NA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],kTe=new RegExp("["+NA.map(function(t){return t.letters}).join("")+"]","g"),HH={};for(var rC=0;rC<NA.length;rC++)for(var iC=NA[rC],aC=0;aC<iC.letters.length;aC++)HH[iC.letters[aC]]=iC.base;var VH=function(e){return e.replace(kTe,function(n){return HH[n]})},NTe=PTe(VH),X6=function(e){return e.replace(/^\s+|\s+$/g,"")},FTe=function(e){return"".concat(e.label," ").concat(e.value)},jTe=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=an({ignoreCase:!0,ignoreAccents:!0,stringify:FTe,trim:!0,matchFrom:"any"},e),a=i.ignoreCase,s=i.ignoreAccents,o=i.stringify,l=i.trim,c=i.matchFrom,h=l?X6(r):r,p=l?X6(o(n)):o(n);return a&&(h=h.toLowerCase(),p=p.toLowerCase()),s&&(h=NTe(h),p=VH(p)),c==="start"?p.substr(0,h.length)===h:p.indexOf(h)>-1}},$Te=["innerRef"];function UTe(t){var e=t.innerRef,n=Cu(t,$Te),r=d2e(n,"onExited","in","enter","exit","appear");return nn("input",on({ref:e},r,{css:FP({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var BTe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function qTe(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,a=t.onTopLeave,s=ne.useRef(!1),o=ne.useRef(!1),l=ne.useRef(0),c=ne.useRef(null),h=ne.useCallback(function(E,b){if(c.current!==null){var x=c.current,A=x.scrollTop,I=x.scrollHeight,M=x.clientHeight,D=c.current,F=b>0,Z=I-M-A,X=!1;Z>b&&s.current&&(r&&r(E),s.current=!1),F&&o.current&&(a&&a(E),o.current=!1),F&&b>Z?(n&&!s.current&&n(E),D.scrollTop=I,X=!0,s.current=!0):!F&&-b>A&&(i&&!o.current&&i(E),D.scrollTop=0,X=!0,o.current=!0),X&&BTe(E)}},[n,r,i,a]),p=ne.useCallback(function(E){h(E,E.deltaY)},[h]),m=ne.useCallback(function(E){l.current=E.changedTouches[0].clientY},[]),y=ne.useCallback(function(E){var b=l.current-E.changedTouches[0].clientY;h(E,b)},[h]),v=ne.useCallback(function(E){if(E){var b=l2e?{passive:!1}:!1;E.addEventListener("wheel",p,b),E.addEventListener("touchstart",m,b),E.addEventListener("touchmove",y,b)}},[y,m,p]),w=ne.useCallback(function(E){E&&(E.removeEventListener("wheel",p,!1),E.removeEventListener("touchstart",m,!1),E.removeEventListener("touchmove",y,!1))},[y,m,p]);return ne.useEffect(function(){if(e){var E=c.current;return v(E),function(){w(E)}}},[e,v,w]),function(E){c.current=E}}var e$=["boxSizing","height","overflow","paddingRight","position"],t$={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function n$(t){t.cancelable&&t.preventDefault()}function r$(t){t.stopPropagation()}function i$(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function a$(){return"ontouchstart"in window||navigator.maxTouchPoints}var s$=!!(typeof window<"u"&&window.document&&window.document.createElement),yg=0,ad={capture:!1,passive:!1};function zTe(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=ne.useRef({}),a=ne.useRef(null),s=ne.useCallback(function(l){if(s$){var c=document.body,h=c&&c.style;if(r&&e$.forEach(function(v){var w=h&&h[v];i.current[v]=w}),r&&yg<1){var p=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+p||0;Object.keys(t$).forEach(function(v){var w=t$[v];h&&(h[v]=w)}),h&&(h.paddingRight="".concat(y,"px"))}c&&a$()&&(c.addEventListener("touchmove",n$,ad),l&&(l.addEventListener("touchstart",i$,ad),l.addEventListener("touchmove",r$,ad))),yg+=1}},[r]),o=ne.useCallback(function(l){if(s$){var c=document.body,h=c&&c.style;yg=Math.max(yg-1,0),r&&yg<1&&e$.forEach(function(p){var m=i.current[p];h&&(h[p]=m)}),c&&a$()&&(c.removeEventListener("touchmove",n$,ad),l&&(l.removeEventListener("touchstart",i$,ad),l.removeEventListener("touchmove",r$,ad)))}},[r]);return ne.useEffect(function(){if(e){var l=a.current;return s(l),function(){o(l)}}},[e,s,o]),function(l){a.current=l}}var HTe=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},VTe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function KTe(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,a=t.onBottomArrive,s=t.onBottomLeave,o=t.onTopArrive,l=t.onTopLeave,c=qTe({isEnabled:i,onBottomArrive:a,onBottomLeave:s,onTopArrive:o,onTopLeave:l}),h=zTe({isEnabled:n}),p=function(y){c(y),h(y)};return nn(ne.Fragment,null,n&&nn("div",{onClick:HTe,css:VTe}),e(p))}var GTe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},WTe=function(e){var n=e.name,r=e.onFocus;return nn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:GTe,value:"",onChange:function(){}})},QTe=WTe;function UP(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function ZTe(){return UP(/^iPhone/i)}function KH(){return UP(/^Mac/i)}function JTe(){return UP(/^iPad/i)||KH()&&navigator.maxTouchPoints>1}function YTe(){return ZTe()||JTe()}function XTe(){return KH()||YTe()}var eCe=function(e){return e.label},tCe=function(e){return e.label},nCe=function(e){return e.value},rCe=function(e){return!!e.isDisabled},iCe={clearIndicator:U2e,container:P2e,control:G2e,dropdownIndicator:j2e,group:J2e,groupHeading:X2e,indicatorsContainer:M2e,indicatorSeparator:q2e,input:rTe,loadingIndicator:V2e,loadingMessage:E2e,menu:y2e,menuList:b2e,menuPortal:A2e,multiValue:uTe,multiValueLabel:lTe,multiValueRemove:cTe,noOptionsMessage:x2e,option:mTe,placeholder:_Te,singleValue:STe,valueContainer:I2e},aCe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},sCe=4,GH=4,oCe=38,uCe=GH*2,lCe={baseUnit:GH,controlHeight:oCe,menuGutter:uCe},sC={borderRadius:sCe,colors:aCe,spacing:lCe},cCe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Q6(),captureMenuScroll:!Q6(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:jTe(),formatGroupLabel:eCe,getOptionLabel:tCe,getOptionValue:nCe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:rCe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!o2e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function o$(t,e,n,r){var i=ZH(t,e,n),a=JH(t,e,n),s=QH(t,e),o=A0(t,e);return{type:"option",data:e,isDisabled:i,isSelected:a,label:s,value:o,index:r}}function H_(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(s,o){return o$(t,s,e,o)}).filter(function(s){return l$(t,s)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=o$(t,n,e,r);return l$(t,a)?a:void 0}).filter(c2e)}function WH(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,LP(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function u$(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,LP(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function fCe(t,e){return WH(H_(t,e))}function l$(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,a=e.isSelected,s=e.label,o=e.value;return(!XH(t)||!a)&&YH(t,{label:s,value:o,data:i},r)}function dCe(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var a=e.indexOf(n);if(a>-1)return n;if(i<e.length)return e[i]}return null}function hCe(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var oC=function(e,n){var r,i=(r=e.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},QH=function(e,n){return e.getOptionLabel(n)},A0=function(e,n){return e.getOptionValue(n)};function ZH(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function JH(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=A0(t,e);return n.some(function(i){return A0(t,i)===r})}function YH(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var XH=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},pCe=1,e7=function(t){Bxe(n,t);var e=Vxe(n);function n(r){var i;if($xe(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=XTe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var h=i.props,p=h.onChange,m=h.name;c.name=m,i.ariaOnChange(l,c),p(l,c)},i.setValue=function(l,c,h){var p=i.props,m=p.closeMenuOnSelect,y=p.isMulti,v=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:h})},i.selectOption=function(l){var c=i.props,h=c.blurInputOnSelect,p=c.isMulti,m=c.name,y=i.state.selectValue,v=p&&i.isOptionSelected(l,y),w=i.isOptionDisabled(l,y);if(v){var E=i.getOptionValue(l);i.setValue(y.filter(function(b){return i.getOptionValue(b)!==E}),"deselect-option",l)}else if(!w)p?i.setValue([].concat(LP(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}h&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,h=i.state.selectValue,p=i.getOptionValue(l),m=h.filter(function(v){return i.getOptionValue(v)!==p}),y=Dv(c,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Dv(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,h=c[c.length-1],p=c.slice(0,c.length-1),m=Dv(l,p,p[0]||null);h&&i.onChange(m,{action:"pop-value",removedValue:h})},i.getFocusedOptionId=function(l){return oC(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return u$(H_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];return n2e.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return QH(i.props,l)},i.getOptionValue=function(l){return A0(i.props,l)},i.getStyles=function(l,c){var h=i.props.unstyled,p=iCe[l](c,h);p.boxSizing="border-box";var m=i.props.styles[l];return m?m(p,c):p},i.getClassNames=function(l,c){var h,p;return(h=(p=i.props.classNames)[l])===null||h===void 0?void 0:h.call(p,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return CTe(i.props)},i.buildCategorizedOptions=function(){return H_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return WH(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:an({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,h=c.isMulti,p=c.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!h}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&xw(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,h=c&&c.item(0);h&&(i.initialTouchX=h.clientX,i.initialTouchY=h.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,h=c&&c.item(0);if(h){var p=Math.abs(h.clientX-i.initialTouchX),m=Math.abs(h.clientY-i.initialTouchY),y=5;i.userIsDragging=p>y||m>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,h=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(h,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),h=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:h>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return XH(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,h=c.isMulti,p=c.backspaceRemovesValue,m=c.escapeClearsValue,y=c.inputValue,v=c.isClearable,w=c.isDisabled,E=c.menuIsOpen,b=c.onKeyDown,x=c.tabSelectsValue,A=c.openMenuOnFocus,I=i.state,M=I.focusedOption,D=I.focusedValue,F=I.selectValue;if(!w&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!h||y)return;i.focusValue("previous");break;case"ArrowRight":if(!h||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!p)return;h?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!E||!x||!M||A&&i.isOptionSelected(M,F))return;i.selectOption(M);break;case"Enter":if(l.keyCode===229)break;if(E){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":E?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):v&&m&&i.clearValue();break;case" ":if(y)return;if(!E){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":E?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":E?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!E)return;i.focusOption("pageup");break;case"PageDown":if(!E)return;i.focusOption("pagedown");break;case"Home":if(!E)return;i.focusOption("first");break;case"End":if(!E)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++pCe),i.state.selectValue=G6(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),s=i.buildFocusableOptions(),o=s.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=s[o],i.state.focusedOptionId=oC(a,s[o])}return i}return Uxe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&W6(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,s=a.isDisabled,o=a.menuIsOpen,l=this.state.isFocused;(l&&!s&&i.isDisabled||l&&o&&!i.menuIsOpen)&&this.focusInput(),l&&s&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!s&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(W6(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,s=this.state,o=s.selectValue,l=s.isFocused,c=this.buildFocusableOptions(),h=i==="first"?0:c.length-1;if(!this.props.isMulti){var p=c.indexOf(o[0]);p>-1&&(h=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[h],focusedOptionId:this.getFocusedOptionId(c[h])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,s=a.selectValue,o=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=s.indexOf(o);o||(l=-1);var c=s.length-1,h=-1;if(s.length){switch(i){case"previous":l===0?h=0:l===-1?h=c:h=l-1;break;case"next":l>-1&&l<c&&(h=l+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:s[h]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,s=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,c=o.indexOf(s);s||(c=-1),i==="up"?l=c>0?c-1:o.length-1:i==="down"?l=(c+1)%o.length:i==="pageup"?(l=c-a,l<0&&(l=0)):i==="pagedown"?(l=c+a,l>o.length-1&&(l=o.length-1)):i==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(sC):an(an({},sC),this.props.theme):sC}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,s=this.getStyles,o=this.getClassNames,l=this.getValue,c=this.selectOption,h=this.setValue,p=this.props,m=p.isMulti,y=p.isRtl,v=p.options,w=this.hasValue();return{clearValue:i,cx:a,getStyles:s,getClassNames:o,getValue:l,hasValue:w,isMulti:m,isRtl:y,options:v,selectOption:c,selectProps:p,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,s=i.isMulti;return a===void 0?s:a}},{key:"isOptionDisabled",value:function(i,a){return ZH(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return JH(this.props,i,a)}},{key:"filterOption",value:function(i,a){return YH(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var s=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:s,selectValue:o})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,s=i.isSearchable,o=i.inputId,l=i.inputValue,c=i.tabIndex,h=i.form,p=i.menuIsOpen,m=i.required,y=this.getComponents(),v=y.Input,w=this.state,E=w.inputIsHidden,b=w.ariaSelection,x=this.commonProps,A=o||this.getElementId("input"),I=an(an(an({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!s&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return s?ne.createElement(v,on({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:a,isHidden:E,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:h,type:"text",value:l},I)):ne.createElement(UTe,on({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:T0,onFocus:this.onInputFocus,disabled:a,tabIndex:c,inputMode:"none",form:h,value:""},I))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),s=a.MultiValue,o=a.MultiValueContainer,l=a.MultiValueLabel,c=a.MultiValueRemove,h=a.SingleValue,p=a.Placeholder,m=this.commonProps,y=this.props,v=y.controlShouldRenderValue,w=y.isDisabled,E=y.isMulti,b=y.inputValue,x=y.placeholder,A=this.state,I=A.selectValue,M=A.focusedValue,D=A.isFocused;if(!this.hasValue()||!v)return b?null:ne.createElement(p,on({},m,{key:"placeholder",isDisabled:w,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),x);if(E)return I.map(function(Z,X){var U=Z===M,J="".concat(i.getOptionLabel(Z),"-").concat(i.getOptionValue(Z));return ne.createElement(s,on({},m,{components:{Container:o,Label:l,Remove:c},isFocused:U,isDisabled:w,key:J,index:X,removeProps:{onClick:function(){return i.removeValue(Z)},onTouchEnd:function(){return i.removeValue(Z)},onMouseDown:function(re){re.preventDefault()}},data:Z}),i.formatOptionLabel(Z,"value"))});if(b)return null;var F=I[0];return ne.createElement(h,on({},m,{data:F,isDisabled:w}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,h=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||c)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ne.createElement(a,on({},s,{innerProps:p,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,s=this.commonProps,o=this.props,l=o.isDisabled,c=o.isLoading,h=this.state.isFocused;if(!a||!c)return null;var p={"aria-hidden":"true"};return ne.createElement(a,on({},s,{innerProps:p,isDisabled:l,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,s=i.IndicatorSeparator;if(!a||!s)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return ne.createElement(s,on({},o,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var s=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ne.createElement(a,on({},s,{innerProps:c,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),s=a.Group,o=a.GroupHeading,l=a.Menu,c=a.MenuList,h=a.MenuPortal,p=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,v=this.commonProps,w=this.state.focusedOption,E=this.props,b=E.captureMenuScroll,x=E.inputValue,A=E.isLoading,I=E.loadingMessage,M=E.minMenuHeight,D=E.maxMenuHeight,F=E.menuIsOpen,Z=E.menuPlacement,X=E.menuPosition,U=E.menuPortalTarget,J=E.menuShouldBlockScroll,ce=E.menuShouldScrollIntoView,re=E.noOptionsMessage,ue=E.onMenuScrollToTop,me=E.onMenuScrollToBottom;if(!F)return null;var be=function(H,Y){var pe=H.type,Ae=H.data,Je=H.isDisabled,Re=H.isSelected,Fe=H.label,Xe=H.value,se=w===Ae,z=Je?void 0:function(){return i.onOptionHover(Ae)},$=Je?void 0:function(){return i.selectOption(Ae)},ae="".concat(i.getElementId("option"),"-").concat(Y),W={id:ae,onClick:$,onMouseMove:z,onMouseOver:z,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Re};return ne.createElement(y,on({},v,{innerProps:W,data:Ae,isDisabled:Je,isSelected:Re,key:ae,label:Fe,type:pe,value:Xe,isFocused:se,innerRef:se?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(H.data,"menu"))},he;if(this.hasOptions())he=this.getCategorizedOptions().map(function(ge){if(ge.type==="group"){var H=ge.data,Y=ge.options,pe=ge.index,Ae="".concat(i.getElementId("group"),"-").concat(pe),Je="".concat(Ae,"-heading");return ne.createElement(s,on({},v,{key:Ae,data:H,options:Y,Heading:o,headingProps:{id:Je,data:ge.data},label:i.formatGroupLabel(ge.data)}),ge.options.map(function(Re){return be(Re,"".concat(pe,"-").concat(Re.index))}))}else if(ge.type==="option")return be(ge,"".concat(ge.index))});else if(A){var fe=I({inputValue:x});if(fe===null)return null;he=ne.createElement(p,v,fe)}else{var Oe=re({inputValue:x});if(Oe===null)return null;he=ne.createElement(m,v,Oe)}var k={minMenuHeight:M,maxMenuHeight:D,menuPlacement:Z,menuPosition:X,menuShouldScrollIntoView:ce},ie=ne.createElement(v2e,on({},v,k),function(ge){var H=ge.ref,Y=ge.placerProps,pe=Y.placement,Ae=Y.maxHeight;return ne.createElement(l,on({},v,k,{innerRef:H,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:A,placement:pe}),ne.createElement(KTe,{captureEnabled:b,onTopArrive:ue,onBottomArrive:me,lockEnabled:J},function(Je){return ne.createElement(c,on({},v,{innerRef:function(Fe){i.getMenuListRef(Fe),Je(Fe)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:A,maxHeight:Ae,focusedOption:w}),he)}))});return U||X==="fixed"?ne.createElement(h,on({},v,{appendTo:U,controlElement:this.controlRef,menuPlacement:Z,menuPosition:X}),ie):ie}},{key:"renderFormField",value:function(){var i=this,a=this.props,s=a.delimiter,o=a.isDisabled,l=a.isMulti,c=a.name,h=a.required,p=this.state.selectValue;if(h&&!this.hasValue()&&!o)return ne.createElement(QTe,{name:c,onFocus:this.onValueInputFocus});if(!(!c||o))if(l)if(s){var m=p.map(function(w){return i.getOptionValue(w)}).join(s);return ne.createElement("input",{name:c,type:"hidden",value:m})}else{var y=p.length>0?p.map(function(w,E){return ne.createElement("input",{key:"i-".concat(E),name:c,type:"hidden",value:i.getOptionValue(w)})}):ne.createElement("input",{name:c,type:"hidden",value:""});return ne.createElement("div",null,y)}else{var v=p[0]?this.getOptionValue(p[0]):"";return ne.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,s=a.ariaSelection,o=a.focusedOption,l=a.focusedValue,c=a.isFocused,h=a.selectValue,p=this.getFocusableOptions();return ne.createElement(DTe,on({},i,{id:this.getElementId("live-region"),ariaSelection:s,focusedOption:o,focusedValue:l,isFocused:c,selectValue:h,focusableOptions:p,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,s=i.IndicatorsContainer,o=i.SelectContainer,l=i.ValueContainer,c=this.props,h=c.className,p=c.id,m=c.isDisabled,y=c.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return ne.createElement(o,on({},w,{className:h,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:v}),this.renderLiveRegion(),ne.createElement(a,on({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:v,menuIsOpen:y}),ne.createElement(l,on({},w,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),ne.createElement(s,on({},w,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var s=a.prevProps,o=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,c=a.ariaSelection,h=a.isFocused,p=a.prevWasFocused,m=a.instancePrefix,y=i.options,v=i.value,w=i.menuIsOpen,E=i.inputValue,b=i.isMulti,x=G6(v),A={};if(s&&(v!==s.value||y!==s.options||w!==s.menuIsOpen||E!==s.inputValue)){var I=w?fCe(i,x):[],M=w?u$(H_(i,x),"".concat(m,"-option")):[],D=o?dCe(a,x):null,F=hCe(a,I),Z=oC(M,F);A={selectValue:x,focusedOption:F,focusedOptionId:Z,focusableOptionsWithIds:M,focusedValue:D,clearFocusValueOnUpdate:!1}}var X=l!=null&&i!==s?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},U=c,J=h&&p;return h&&!J&&(U={value:Dv(b,x,x[0]||null),options:x,action:"initial-input-focus"},J=!p),(c==null?void 0:c.action)==="initial-input-focus"&&(U=null),an(an(an({},A),X),{},{prevProps:i,ariaSelection:U,prevWasFocused:J})}}]),n}(ne.Component);e7.defaultProps=cCe;var gCe=ne.forwardRef(function(t,e){var n=jxe(t);return ne.createElement(e7,on({ref:e},n))}),mCe=gCe;const yCe=({webId:t})=>{const{i18n:e,_:n}=si(),r=bi(of),{communityId:i}=kn(),[,a,,s]=qs(t,i),[o,l]=ne.useState(""),{data:c,...h}=oye(o,r),p=Yge(),m=Jge(),y=async({id:b,document:x})=>{await yo(p({interest:b,document:x,person:t}),{pending:e._({id:"S8rY67"}),success:e._({id:"6dc9lc"})})},v=ne.useMemo(()=>Ixe(l,500),[]),w=ne.useCallback(b=>v(b),[v]),E=async b=>{if(b){const x=b.label;await yo(m({interest:b.id,person:t,document:t}),{pending:e._({id:"Y8WO6Z",values:{label:x}}),success:e._({id:"jx1+4B",values:{label:x}})})}};return a||a===void 0?Q.jsx(ms,{children:Q.jsx(wt,{id:"O75yBm"})}):Q.jsxs("div",{children:[Q.jsx("ul",{className:Ps.list,"data-cy":"interests-list-edit",children:s.map(({id:b,document:x})=>Q.jsx("li",{children:Q.jsx(x9,{uri:b,onRemove:()=>y({id:b,document:x}),locale:r,"data-cy":"edit-interest"})},b+x))}),Q.jsx(mCe,{options:c,filterOption:()=>!0,formatOptionLabel:b=>Q.jsxs("div",{title:b.description,children:[b.label,b.aliases.length>0&&` (${b.aliases.join(", ")})`,Q.jsx("br",{}),b.description]}),isLoading:h.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:w,onChange:E,className:Or(Ps.select,"cy-select-interests"),classNames:{control:()=>Ps.control,input:()=>Ps.input,menu:()=>Ps.menu,indicatorSeparator:()=>Ps.separator,option:({isFocused:b})=>Or(Ps.option,b&&Ps.focused)}})]})},vCe="_container_6bk5k_1",_Ce="_uploadButton_6bk5k_17",t7={container:vCe,uploadButton:_Ce},wCe=()=>{const{communityId:t}=kn(),e=di(),n=Xd(),{i18n:r,_:i}=si(),[,,a,,s]=qs(e.webId,t),o=Zge(),l=ide(),c=rde(),h=async p=>{var w;if(!a)throw new Error(r._({id:"vVEMd1"}));const m=(w=p.photo)==null?void 0:w[0];let y;const v=s==null?void 0:s.photo;m&&(y=await c.mutateAsync({uri:wi(a),data:m})),await o({hospexDocument:a,personId:e.webId,data:{...p,photo:y},language:"en"}),m&&v&&await l.mutateAsync({uri:v}),n("..")};return s?Q.jsxs("div",{className:t7.container,children:[Q.jsx(bCe,{initialData:s,onSubmit:p=>yo(h(p),{pending:r._({id:"ER/wp5"}),success:r._({id:"srPuxS"})})}),Q.jsx("label",{children:Q.jsx(wt,{id:"65VN7K"})}),Q.jsx(yCe,{webId:e.webId})]}):Q.jsx(ms,{children:Q.jsx(wt,{id:"6Kt8NA"})})},bCe=({initialData:t,onSubmit:e})=>{const{i18n:n,_:r}=si(),{register:i,handleSubmit:a,watch:s,setValue:o}=Tu({defaultValues:pz(t,"photo")});ne.useEffect(()=>{typeof t.name=="string"&&o("name",t.name)},[t.name,o]),ne.useEffect(()=>{typeof t.about=="string"&&o("about",t.about)},[t.about,o]);const{data:l}=MR(t.photo),c=a(async y=>{await e(y)}),[h,p]=ne.useState();ne.useEffect(()=>{const y=s(async(v,{name:w})=>{var E;if(w==="photo"){const b=(E=v.photo)==null?void 0:E[0];b&&p(await Qfe(b))}});return()=>y.unsubscribe()},[s]);const m=h||l;return Q.jsxs("form",{onSubmit:c,children:[Q.jsx("label",{htmlFor:"name",children:Q.jsx(wt,{id:"6YtxFj"})}),Q.jsx("input",{id:"name",type:"text",...i("name"),placeholder:n._({id:"6YtxFj"})}),Q.jsx("label",{htmlFor:"photo",children:Q.jsx(wt,{id:"qa9cy4"})}),Q.jsxs("label",{tabIndex:0,htmlFor:"photo",className:t7.uploadButton,style:m?{backgroundImage:`url(${m})`}:void 0,children:[Q.jsx(dde,{}),Q.jsx("input",{id:"photo",type:"file",...i("photo"),accept:"image/*"})]}),Q.jsx("label",{htmlFor:"about",children:Q.jsx(wt,{id:"IJbwnu"})}),Q.jsx("textarea",{id:"about",...i("about")}),Q.jsx(pr,{primary:!0,children:Q.jsx(wt,{id:"y3aU20"})})]})},SCe="_container_14k79_1",xCe={container:SCe},ECe=()=>{const t=di(),{data:e}=fw(t.webId);return Q.jsxs("div",{className:xCe.container,children:[Q.jsxs(Qc,{to:"travel",secondary:!0,children:[Q.jsx(mde,{size:24})," ",Q.jsx(wt,{id:"jlqRFZ"})]}),Q.jsxs(Qc,{to:"host",secondary:!0,children:[Q.jsx(bB,{size:24})," ",Q.jsx(wt,{id:"tEB6c1"})]}),Q.jsxs(Qc,{to:"messages",secondary:!0,children:[Q.jsx(wde,{size:24})," ",Q.jsx(wt,{id:"gHFvtg"}),e!=null&&e.length?Q.jsxs(Q.Fragment,{children:[" ",Q.jsx(wt,{id:"uLjy37",values:{0:e.length}})]}):null]})]})},TCe="_container_u0fgb_1",uC={container:TCe},n7=({tabs:t,children:e})=>Q.jsxs("div",{className:uC.container,children:[e,Q.jsx("nav",{className:uC.navigation,children:t.map(({link:n,label:r})=>Q.jsx(dW,{className:({isActive:i})=>i?uC.active:void 0,to:n,children:r},n))})]}),CCe=()=>Q.jsx(n7,{tabs:[],children:Q.jsx(M0,{})}),ACe=()=>Q.jsx(nR,{to:"offers",replace:!0});var V_={exports:{}},RCe=V_.exports,c$;function PCe(){return c$||(c$=1,function(t,e){(function(n,r){t.exports=r()})(RCe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",s="second",o="minute",l="hour",c="day",h="week",p="month",m="quarter",y="year",v="date",w="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(re){var ue=["th","st","nd","rd"],me=re%100;return"["+re+(ue[(me-20)%10]||ue[me]||ue[0])+"]"}},A=function(re,ue,me){var be=String(re);return!be||be.length>=ue?re:""+Array(ue+1-be.length).join(me)+re},I={s:A,z:function(re){var ue=-re.utcOffset(),me=Math.abs(ue),be=Math.floor(me/60),he=me%60;return(ue<=0?"+":"-")+A(be,2,"0")+":"+A(he,2,"0")},m:function re(ue,me){if(ue.date()<me.date())return-re(me,ue);var be=12*(me.year()-ue.year())+(me.month()-ue.month()),he=ue.clone().add(be,p),fe=me-he<0,Oe=ue.clone().add(be+(fe?-1:1),p);return+(-(be+(me-he)/(fe?he-Oe:Oe-he))||0)},a:function(re){return re<0?Math.ceil(re)||0:Math.floor(re)},p:function(re){return{M:p,y,w:h,d:c,D:v,h:l,m:o,s,ms:a,Q:m}[re]||String(re||"").toLowerCase().replace(/s$/,"")},u:function(re){return re===void 0}},M="en",D={};D[M]=x;var F=function(re){return re instanceof J},Z=function re(ue,me,be){var he;if(!ue)return M;if(typeof ue=="string"){var fe=ue.toLowerCase();D[fe]&&(he=fe),me&&(D[fe]=me,he=fe);var Oe=ue.split("-");if(!he&&Oe.length>1)return re(Oe[0])}else{var k=ue.name;D[k]=ue,he=k}return!be&&he&&(M=he),he||!be&&M},X=function(re,ue){if(F(re))return re.clone();var me=typeof ue=="object"?ue:{};return me.date=re,me.args=arguments,new J(me)},U=I;U.l=Z,U.i=F,U.w=function(re,ue){return X(re,{locale:ue.$L,utc:ue.$u,x:ue.$x,$offset:ue.$offset})};var J=function(){function re(me){this.$L=Z(me.locale,null,!0),this.parse(me)}var ue=re.prototype;return ue.parse=function(me){this.$d=function(be){var he=be.date,fe=be.utc;if(he===null)return new Date(NaN);if(U.u(he))return new Date;if(he instanceof Date)return new Date(he);if(typeof he=="string"&&!/Z$/i.test(he)){var Oe=he.match(E);if(Oe){var k=Oe[2]-1||0,ie=(Oe[7]||"0").substring(0,3);return fe?new Date(Date.UTC(Oe[1],k,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,ie)):new Date(Oe[1],k,Oe[3]||1,Oe[4]||0,Oe[5]||0,Oe[6]||0,ie)}}return new Date(he)}(me),this.$x=me.x||{},this.init()},ue.init=function(){var me=this.$d;this.$y=me.getFullYear(),this.$M=me.getMonth(),this.$D=me.getDate(),this.$W=me.getDay(),this.$H=me.getHours(),this.$m=me.getMinutes(),this.$s=me.getSeconds(),this.$ms=me.getMilliseconds()},ue.$utils=function(){return U},ue.isValid=function(){return this.$d.toString()!==w},ue.isSame=function(me,be){var he=X(me);return this.startOf(be)<=he&&he<=this.endOf(be)},ue.isAfter=function(me,be){return X(me)<this.startOf(be)},ue.isBefore=function(me,be){return this.endOf(be)<X(me)},ue.$g=function(me,be,he){return U.u(me)?this[be]:this.set(he,me)},ue.unix=function(){return Math.floor(this.valueOf()/1e3)},ue.valueOf=function(){return this.$d.getTime()},ue.startOf=function(me,be){var he=this,fe=!!U.u(be)||be,Oe=U.p(me),k=function(Re,Fe){var Xe=U.w(he.$u?Date.UTC(he.$y,Fe,Re):new Date(he.$y,Fe,Re),he);return fe?Xe:Xe.endOf(c)},ie=function(Re,Fe){return U.w(he.toDate()[Re].apply(he.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(Fe)),he)},ge=this.$W,H=this.$M,Y=this.$D,pe="set"+(this.$u?"UTC":"");switch(Oe){case y:return fe?k(1,0):k(31,11);case p:return fe?k(1,H):k(0,H+1);case h:var Ae=this.$locale().weekStart||0,Je=(ge<Ae?ge+7:ge)-Ae;return k(fe?Y-Je:Y+(6-Je),H);case c:case v:return ie(pe+"Hours",0);case l:return ie(pe+"Minutes",1);case o:return ie(pe+"Seconds",2);case s:return ie(pe+"Milliseconds",3);default:return this.clone()}},ue.endOf=function(me){return this.startOf(me,!1)},ue.$set=function(me,be){var he,fe=U.p(me),Oe="set"+(this.$u?"UTC":""),k=(he={},he[c]=Oe+"Date",he[v]=Oe+"Date",he[p]=Oe+"Month",he[y]=Oe+"FullYear",he[l]=Oe+"Hours",he[o]=Oe+"Minutes",he[s]=Oe+"Seconds",he[a]=Oe+"Milliseconds",he)[fe],ie=fe===c?this.$D+(be-this.$W):be;if(fe===p||fe===y){var ge=this.clone().set(v,1);ge.$d[k](ie),ge.init(),this.$d=ge.set(v,Math.min(this.$D,ge.daysInMonth())).$d}else k&&this.$d[k](ie);return this.init(),this},ue.set=function(me,be){return this.clone().$set(me,be)},ue.get=function(me){return this[U.p(me)]()},ue.add=function(me,be){var he,fe=this;me=Number(me);var Oe=U.p(be),k=function(H){var Y=X(fe);return U.w(Y.date(Y.date()+Math.round(H*me)),fe)};if(Oe===p)return this.set(p,this.$M+me);if(Oe===y)return this.set(y,this.$y+me);if(Oe===c)return k(1);if(Oe===h)return k(7);var ie=(he={},he[o]=r,he[l]=i,he[s]=n,he)[Oe]||1,ge=this.$d.getTime()+me*ie;return U.w(ge,this)},ue.subtract=function(me,be){return this.add(-1*me,be)},ue.format=function(me){var be=this,he=this.$locale();if(!this.isValid())return he.invalidDate||w;var fe=me||"YYYY-MM-DDTHH:mm:ssZ",Oe=U.z(this),k=this.$H,ie=this.$m,ge=this.$M,H=he.weekdays,Y=he.months,pe=function(Fe,Xe,se,z){return Fe&&(Fe[Xe]||Fe(be,fe))||se[Xe].slice(0,z)},Ae=function(Fe){return U.s(k%12||12,Fe,"0")},Je=he.meridiem||function(Fe,Xe,se){var z=Fe<12?"AM":"PM";return se?z.toLowerCase():z},Re={YY:String(this.$y).slice(-2),YYYY:U.s(this.$y,4,"0"),M:ge+1,MM:U.s(ge+1,2,"0"),MMM:pe(he.monthsShort,ge,Y,3),MMMM:pe(Y,ge),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:pe(he.weekdaysMin,this.$W,H,2),ddd:pe(he.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(k),HH:U.s(k,2,"0"),h:Ae(1),hh:Ae(2),a:Je(k,ie,!0),A:Je(k,ie,!1),m:String(ie),mm:U.s(ie,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:Oe};return fe.replace(b,function(Fe,Xe){return Xe||Re[Fe]||Oe.replace(":","")})},ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ue.diff=function(me,be,he){var fe,Oe=U.p(be),k=X(me),ie=(k.utcOffset()-this.utcOffset())*r,ge=this-k,H=U.m(this,k);return H=(fe={},fe[y]=H/12,fe[p]=H,fe[m]=H/3,fe[h]=(ge-ie)/6048e5,fe[c]=(ge-ie)/864e5,fe[l]=ge/i,fe[o]=ge/r,fe[s]=ge/n,fe)[Oe]||ge,he?H:U.a(H)},ue.daysInMonth=function(){return this.endOf(p).$D},ue.$locale=function(){return D[this.$L]},ue.locale=function(me,be){if(!me)return this.$L;var he=this.clone(),fe=Z(me,be,!0);return fe&&(he.$L=fe),he},ue.clone=function(){return U.w(this.$d,this)},ue.toDate=function(){return new Date(this.valueOf())},ue.toJSON=function(){return this.isValid()?this.toISOString():null},ue.toISOString=function(){return this.$d.toISOString()},ue.toString=function(){return this.$d.toUTCString()},re}(),ce=J.prototype;return X.prototype=ce,[["$ms",a],["$s",s],["$m",o],["$H",l],["$W",c],["$M",p],["$y",y],["$D",v]].forEach(function(re){ce[re[1]]=function(ue){return this.$g(ue,re[0],re[1])}}),X.extend=function(re,ue){return re.$i||(re(ue,J,X),re.$i=!0),X},X.locale=Z,X.isDayjs=F,X.unix=function(re){return X(1e3*re)},X.en=D[M],X.Ls=D,X.p={},X})}(V_)),V_.exports}var OCe=PCe();const f$=kr(OCe),ICe=()=>{const t=df(zd);return ne.useCallback(async({senderId:e,message:n,chat:r})=>{const a=`${wi(r)}${f$().format("YYYY/MM/DD")}/chat.ttl`,s=`${a}#msg-${Al()}`,o=new Date().toISOString();return await t.mutateAsync({uri:wi(r)+f$().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message??(l.message=[]),l.message.push({"@id":s,created:o,content:n,maker:{"@id":e}})}}),{messageId:s,todayChat:a,createdAt:o}},[t])},LCe=()=>{const t=Bs(Gq);return ne.useCallback(async({inbox:e,senderId:n,messageId:r,chatId:i,updated:a,content:s})=>{await t.mutateAsync({uri:e,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:[{"@id":"Note"}],created:a,content:s,maker:{"@id":n}},target:{"@id":i},updated:a}})},[t])},MCe=()=>{const t=Bs(zd),e=Bs(pf),n=Fz();return ne.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:s,privateTypeIndex:o})=>{const l=`${s}messages/${Al()}/`,c=`${l}index.ttl`,h=`${c}#this`,p=new Date().toISOString();await t.mutateAsync({uri:c,data:{"@id":h,type:{"@id":"LongChat"},author:{"@id":r},created2:p,title:"Hospex chat channel",participation:[{"@id":`${c}#${Al()}`,dtstart:p,participant:{"@id":r}},{"@id":`${c}#${Al()}`,dtstart:p,participant:{"@id":i},references:a?[{"@id":a}]:[]}]}});const m=await Nl(l);return await e.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":r}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":xn.Read},{"@id":xn.Write},{"@id":xn.Control}]},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:[{"@id":i}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":xn.Read}]}]}),await n({index:o,type:Fq.LongChat,location:h}),{chatContainer:l,chatFile:c,chatId:h}},[e,t,n])},DCe=()=>{const t=df(zd),e=cw();return ne.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await t.mutateAsync({uri:r,subject:r,transform:s=>{var l,c,h;if(!s.participation)throw new Error("no participation");if(s.participation&&s.participation.length>2)throw new Error("too much participation (only 2 people supported!)");const o=(l=s.participation)==null?void 0:l.find(p=>{var m;return((m=p.participant)==null?void 0:m["@id"])===a});if(!o)throw new Error("other person's participation not found");if(((c=o.references)==null?void 0:c.length)===1&&o.references[0]["@id"]===i)throw new Error("already updated");if(o.references&&((h=o.references)==null?void 0:h.length)>0)throw new Error("participation already references some other chat");o.references=[{"@id":i}]}})}catch(s){if(!(s instanceof Error&&s.message==="already updated"))throw s}await e.mutateAsync({uri:n})},[e,t])},kCe=({me:t,userId:e})=>{const{quads:n,variables:r,isLoading:i}=ha(ne.useMemo(()=>({query:hge,variables:{person:[t],otherPerson:[e]},fetch:nr,staleTime:3e4}),[t,e])),a=ne.useMemo(()=>{const p=or.createLdoDataset(n).usingType(zd);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>p.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v;return(v=y==null?void 0:y.message)==null?void 0:v.flatMap(w=>{var E;return{id:w["@id"],message:w.content,createdAt:new Date(w.created).getTime(),from:w.maker["@id"],chat:y["@id"],test:(E=y.participation)==null?void 0:E.map(b=>b.participant["@id"])}})})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),s=ne.useMemo(()=>{const p=or.createLdoDataset(n).usingType(zd);return(r.chatWithOtherPerson??[]).map(y=>p.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.length)&&y.participation.length<=2}).flatMap(y=>{var v,w,E;return y["@id"]?{myChat:y["@id"],otherChats:(E=(w=(v=y.participation)==null?void 0:v[0])==null?void 0:w.references)==null?void 0:E.flatMap(b=>b["@id"]??[])}:[]})},[n,r.chatWithOtherPerson]),{data:o,...l}=fw(t),c=ne.useMemo(()=>o.filter(p=>p.from===e),[o,e]);return[ne.useMemo(()=>{const p=[...a];return c.forEach(m=>{const y=a.findIndex(v=>v.id===m.id);y>-1?p[y]=m:p.push(m)}),p.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,c]),{isLoading:i},l,s]},NCe=({from:t,to:e,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:t.id,name:t.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:e.id,name:e.name}}),FCe=t=>async({data:e})=>{if(!(await nr(new URL("notification",t),{method:"POST",body:JSON.stringify(NCe(e)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},jCe=({from:t,to:e,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=kn();n??(n=i);const[s]=qs(t,n),[o]=qs(e,n),{mutateAsync:l}=Ra({mutationFn:FCe(a)});return ne.useCallback(async c=>{await l({type:r,data:{...c,from:s,to:o}})},[s,l,o,r])};var r7=Symbol.for("immer-nothing"),d$=Symbol.for("immer-draftable"),Wa=Symbol.for("immer-state");function js(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Wd=Object.getPrototypeOf;function Qd(t){return!!t&&!!t[Wa]}function rf(t){var e;return t?i7(t)||Array.isArray(t)||!!t[d$]||!!((e=t.constructor)!=null&&e[d$])||Tw(t)||Cw(t):!1}var $Ce=Object.prototype.constructor.toString();function i7(t){if(!t||typeof t!="object")return!1;const e=Wd(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$Ce}function cm(t,e){Ew(t)===0?Object.entries(t).forEach(([n,r])=>{e(n,r,t)}):t.forEach((n,r)=>e(r,n,t))}function Ew(t){const e=t[Wa];return e?e.type_:Array.isArray(t)?1:Tw(t)?2:Cw(t)?3:0}function FA(t,e){return Ew(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function a7(t,e,n){const r=Ew(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function UCe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Tw(t){return t instanceof Map}function Cw(t){return t instanceof Set}function Mc(t){return t.copy_||t.base_}function jA(t,e){if(Tw(t))return new Map(t);if(Cw(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&i7(t))return Wd(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[Wa];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],s=n[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[a]})}return Object.create(Wd(t),n)}function BP(t,e=!1){return Aw(t)||Qd(t)||!rf(t)||(Ew(t)>1&&(t.set=t.add=t.clear=t.delete=BCe),Object.freeze(t),e&&cm(t,(n,r)=>BP(r,!0))),t}function BCe(){js(2)}function Aw(t){return Object.isFrozen(t)}var qCe={};function af(t){const e=qCe[t];return e||js(0,t),e}var fm;function s7(){return fm}function zCe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h$(t,e){e&&(af("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function $A(t){UA(t),t.drafts_.forEach(HCe),t.drafts_=null}function UA(t){t===fm&&(fm=t.parent_)}function p$(t){return fm=zCe(fm,t)}function HCe(t){const e=t[Wa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function g$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Wa].modified_&&($A(e),js(4)),rf(t)&&(t=R0(e,t),e.parent_||P0(e,t)),e.patches_&&af("Patches").generateReplacementPatches_(n[Wa].base_,t,e.patches_,e.inversePatches_)):t=R0(e,n,[]),$A(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==r7?t:void 0}function R0(t,e,n){if(Aw(e))return e;const r=e[Wa];if(!r)return cm(e,(i,a)=>m$(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return P0(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),cm(a,(o,l)=>m$(t,r,i,o,l,n,s)),P0(t,i,!1),n&&t.patches_&&af("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function m$(t,e,n,r,i,a,s){if(Qd(i)){const o=a&&e&&e.type_!==3&&!FA(e.assigned_,r)?a.concat(r):void 0,l=R0(t,i,o);if(a7(n,r,l),Qd(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(rf(i)&&!Aw(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;R0(t,i),(!e||!e.scope_.parent_)&&P0(t,i)}}function P0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&BP(e,n)}function VCe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:s7(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=qP;n&&(i=[r],a=dm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var qP={get(t,e){if(e===Wa)return t;const n=Mc(t);if(!FA(n,e))return KCe(t,n,e);const r=n[e];return t.finalized_||!rf(r)?r:r===lC(t.base_,e)?(cC(t),t.copy_[e]=qA(r,t)):r},has(t,e){return e in Mc(t)},ownKeys(t){return Reflect.ownKeys(Mc(t))},set(t,e,n){const r=o7(Mc(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=lC(Mc(t),e),a=i==null?void 0:i[Wa];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(UCe(n,i)&&(n!==void 0||FA(t.base_,e)))return!0;cC(t),BA(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return lC(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,cC(t),BA(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Mc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){js(11)},getPrototypeOf(t){return Wd(t.base_)},setPrototypeOf(){js(12)}},dm={};cm(qP,(t,e)=>{dm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});dm.deleteProperty=function(t,e){return dm.set.call(this,t,e,void 0)};dm.set=function(t,e,n){return qP.set.call(this,t[0],e,n,t[0])};function lC(t,e){const n=t[Wa];return(n?Mc(n):t)[e]}function KCe(t,e,n){var i;const r=o7(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function o7(t,e){if(!(e in t))return;let n=Wd(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Wd(n)}}function BA(t){t.modified_||(t.modified_=!0,t.parent_&&BA(t.parent_))}function cC(t){t.copy_||(t.copy_=jA(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GCe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(l=a,...c){return s.produce(l,h=>n.call(this,h,...c))}}typeof n!="function"&&js(6),r!==void 0&&typeof r!="function"&&js(7);let i;if(rf(e)){const a=p$(this),s=qA(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?$A(a):UA(a)}return h$(a,r),g$(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===r7&&(i=void 0),this.autoFreeze_&&BP(i,!0),r){const a=[],s=[];af("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else js(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,l=>e(l,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){rf(t)||js(8),Qd(t)&&(t=WCe(t));const e=p$(this),n=qA(t,void 0);return n[Wa].isManual_=!0,UA(e),n}finishDraft(t,e){const n=t&&t[Wa];(!n||!n.isManual_)&&js(9);const{scope_:r}=n;return h$(r,e),g$(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=af("Patches").applyPatches_;return Qd(t)?r(t,e):this.produce(t,i=>r(i,e))}};function qA(t,e){const n=Tw(t)?af("MapSet").proxyMap_(t,e):Cw(t)?af("MapSet").proxySet_(t,e):VCe(t,e);return(e?e.scope_:s7()).drafts_.push(n),n}function WCe(t){return Qd(t)||js(10,t),u7(t)}function u7(t){if(!rf(t)||Aw(t))return t;const e=t[Wa];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=jA(t,e.scope_.immer_.useStrictShallowCopy_)}else n=jA(t,!0);return cm(n,(r,i)=>{a7(n,r,u7(i))}),e&&(e.finalized_=!1),n}var Qa=new GCe,fC=Qa.produce;Qa.produceWithPatches.bind(Qa);Qa.setAutoFreeze.bind(Qa);Qa.setUseStrictShallowCopy.bind(Qa);Qa.applyPatches.bind(Qa);Qa.createDraft.bind(Qa);Qa.finishDraft.bind(Qa);const QCe="_messages_1tp4g_1",ZCe="_message_1tp4g_1",JCe="_fromMe_1tp4g_13",YCe="_unread_1tp4g_18",XCe="_time_1tp4g_21",eAe="_messageForm_1tp4g_25",sd={messages:QCe,message:ZCe,fromMe:JCe,unread:YCe,time:XCe,messageForm:eAe},tAe=()=>{var be,he;const{communityId:t,emailNotificationsService:e,emailNotificationsType:n}=kn(),r=eR().id,i=di(),{i18n:a,_:s}=si(),[o,l]=ne.useState(!1),[c,h,p,m]=kCe({me:i.webId??"",userId:r}),{privateTypeIndexes:y,personalHospexDocuments:v}=sm(i.webId??"",t),[w]=l9(r),E=(be=w==null?void 0:w.inbox)==null?void 0:be["@id"],b=ICe(),x=LCe(),A=MCe(),I=jCe({from:i.webId,to:r,type:"message"}),M=DCe(),[D,F]=ne.useState({}),Z=ne.useRef(new Set);ne.useEffect(()=>{(async()=>{var fe;if(c&&i.webId&&((fe=m[0])!=null&&fe.myChat)){for(const Oe of c)if(Oe.notification&&!(Oe.id in D)&&!Z.current.has(Oe.id)){Z.current.add(Oe.id),F(fC(k=>{k[Oe.id]="processing"}));try{await M({notificationId:Oe.notification,chat:m[0].myChat,otherChat:Oe.chat,otherPerson:r}),F(fC(k=>{k[Oe.id]="processed"}))}catch{F(fC(k=>{k[Oe.id]="errored"}))}}}})()},[i.webId,m,c,D,r,M]);const X=(he=c.filter(fe=>fe.notification).find(fe=>!!fe.chat))==null?void 0:he.chat,{register:U,handleSubmit:J,reset:ce}=Tu(),re=J(async fe=>{var ge,H,Y;if(!i.webId)throw new Error(a._({id:"udP0jg"}));if(l(!0),!E)throw new Error(a._({id:"xAkrnZ"}));let Oe=(ge=m[0])==null?void 0:ge.myChat;if(!Oe){if(!v[0])throw new Error(a._({id:"CMfhBr"}));if(!y[0])throw new Error(a._({id:"fMnMgg"}));({chatId:Oe}=await A({me:i.webId,otherPerson:r,hospexContainer:wi(v[0]),otherChat:((Y=(H=m[0])==null?void 0:H.otherChats)==null?void 0:Y[0])??X??void 0,privateTypeIndex:y[0]}))}const{messageId:k,createdAt:ie}=await yo(b({senderId:i.webId,message:fe.message,chat:Oe}),{pending:a._({id:"M/R9wy"}),success:a._({id:"kH4vZi"})});await yo(x({inbox:E,senderId:i.webId,messageId:k,chatId:Oe,updated:ie,content:fe.message}),{pending:a._({id:"HZ3V75"}),success:a._({id:"qFkBv/"})}),ce({message:""}),l(!1),e&&n==="simple"&&await yo(I({messageId:k,message:fe.message}),{pending:a._({id:"PmxYBp"}),success:a._({id:"9K7sK1"})})}),ue=o||!E,me=!h.isLoading&&!p.isLoading&&!m.some(fe=>!!fe.myChat);return Q.jsxs("div",{children:[Q.jsx("pre",{children:(h.isLoading||p.isLoading)&&Q.jsx(wt,{id:"Z3FXyt"})}),Q.jsx(wt,{id:"NqP6cw",components:{0:Q.jsx(IP,{webId:r,link:!0})}}),Q.jsx("div",{className:sd.messages,children:(c==null?void 0:c.map(({id:fe,message:Oe,from:k,createdAt:ie,status:ge})=>Q.jsxs("div",{className:Or(sd.message,k===i.webId&&sd.fromMe,ge==="unread"&&sd.unread),"data-cy":"message","data-cy-message-from":k===i.webId?"me":"other",children:[Oe," ",Q.jsx("span",{className:sd.time,title:new Date(ie).toLocaleString(),children:new Date(ie).toLocaleTimeString()})]},fe)))??Q.jsx("div",{children:Q.jsx(ms,{children:Q.jsx(wt,{id:"bo2Xks"})})})}),me&&Q.jsx(Q.Fragment,{children:Q.jsx(wt,{id:"dWGab4"})}),Q.jsx("form",{onSubmit:re,className:sd.messageForm,children:Q.jsxs("fieldset",{disabled:ue,children:[Q.jsx("textarea",{...U("message",{required:!0})}),Q.jsx(pr,{primary:!0,type:"submit",disabled:ue,children:Q.jsx(wt,{id:"JlFcis"})})]})})]})};/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Ac=(t,e)=>{e.split(" ").forEach(n=>{t.classList.add(n)})},Rc=(t,e)=>{e.split(" ").forEach(n=>{t.classList.remove(n)})},l7=Rn.Marker.extend({initialize(t,e){Rn.setOptions(this,e),this._latlng=t,this.createIcon()},createIcon(){const t=this.options;let e="";t.color!==void 0&&(e+=`stroke:${t.color};`),t.weight!==void 0&&(e+=`stroke-width:${t.weight};`),t.fillColor!==void 0&&(e+=`fill:${t.fillColor};`),t.fillOpacity!==void 0&&(e+=`fill-opacity:${t.fillOpacity};`),t.opacity!==void 0&&(e+=`opacity:${t.opacity};`);const n=this._getIconSVG(t,e);this._locationIcon=Rn.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(t,e){const n=t.radius,r=t.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+e+'" /></svg>',w:a,h:a}},setStyle(t){Rn.setOptions(this,t),this.createIcon()}}),nAe=l7.extend({initialize(t,e,n){Rn.setOptions(this,n),this._latlng=t,this._heading=e,this.createIcon()},setHeading(t){this._heading=t},_getIconSVG(t,e){const n=t.radius,r=t.width+t.weight,i=(n+t.depth+t.weight)*2,a=`M0,0 l${t.width/2},${t.depth} l-${r},0 z`,s=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${s}"><path d="`+a+'" style="'+e+'" /></svg>',w:r,h:i}}}),rAe=Rn.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(t){return t.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:l7,compassClass:nAe,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(t,e){const n=Rn.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",t);n.title=e.strings.title,n.href="#",n.setAttribute("role","button");const r=Rn.DomUtil.create(e.iconElementTag,e.icon,n);if(e.strings.text!==void 0){const i=Rn.DomUtil.create(e.textElementTag,"leaflet-locate-text",n);i.textContent=e.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",e.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(t,e){alert(t.message)},onLocationOutsideMapBounds(t){t.stop(),alert(t.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(t){for(const e in t)typeof this.options[e]=="object"?Rn.extend(this.options[e],t[e]):this.options[e]=t[e];this.options.followMarkerStyle=Rn.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=Rn.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=Rn.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(t){const e=Rn.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=e,this._map=t,this._layer=this.options.layer||new Rn.LayerGroup,this._layer.addTo(t),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(e,this.options);return this._link=n.link,this._icon=n.icon,Rn.DomEvent.on(this._link,"click",function(r){Rn.DomEvent.stopPropagation(r),Rn.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",Rn.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),e},_onClick(){this._justClicked=!0;const t=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const e=this.options.clickBehavior;let n=e.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=t?e.inView:e.inViewNotFollowing),e[n]&&(n=e[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const t="ondeviceorientationabsolute"in window;if(t||"ondeviceorientation"in window){const e=this,n=function(){Rn.DomEvent.on(window,t?"deviceorientationabsolute":"deviceorientation",e._onDeviceOrientation,e)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?Rn.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&Rn.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let t=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,t.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),Rn.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const t=this._event.latlng;if(this.options.showCompass&&t&&this._compassHeading!==null){const e=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(t),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(e)):this._compass=new this.options.compassClass(t,this._compassHeading,e).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const t=this._event.accuracy,e=this._event.latlng;if(this.options.drawCircle){const s=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(e).setRadius(t).setStyle(s):this._circle=Rn.circle(e,t,s).addTo(this._layer)}let n,r;if(this.options.metric?(n=t.toFixed(0),r=this.options.strings.metersUnit):(n=(t*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const s=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(e),this._marker.setStyle&&this._marker.setStyle(s)):this._marker=new this.options.markerClass(e,s).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?Rn.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(e),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(e)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(t){!isNaN(parseFloat(t))&&isFinite(t)?(t=Math.round(t),this._compassHeading=t,Rn.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(t){this._active&&(t.webkitCompassHeading?this._setCompassHeading(t.webkitCompassHeading):t.absolute&&t.alpha&&this._setCompassHeading(360-t.alpha))},_onLocationError(t){t.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(t,this))},_onLocationFound(t){if(!(this._event&&this._event.latlng.lat===t.latlng.lat&&this._event.latlng.lng===t.latlng.lng&&this._event.accuracy===t.accuracy)&&this._active){switch(this._event=t,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(t){t=="requesting"?(Rc(this._container,"active following"),Ac(this._container,"requesting"),Rc(this._icon,this.options.icon),Ac(this._icon,this.options.iconLoading)):t=="active"?(Rc(this._container,"requesting following"),Ac(this._container,"active"),Rc(this._icon,this.options.iconLoading),Ac(this._icon,this.options.icon)):t=="following"&&(Rc(this._container,"requesting"),Ac(this._container,"active following"),Rc(this._icon,this.options.iconLoading),Ac(this._icon,this.options.icon))},_cleanClasses(){Rn.DomUtil.removeClass(this._container,"requesting"),Rn.DomUtil.removeClass(this._container,"active"),Rn.DomUtil.removeClass(this._container,"following"),Rc(this._icon,this.options.iconLoading),Ac(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function iAe(t,e){const n=ne.useRef(e);ne.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const aAe=1;function sAe(t){return Object.freeze({__version:aAe,map:t})}function oAe(t,e){return Object.freeze({...t,...e})}const zP=ne.createContext(null);function Rw(){const t=ne.use(zP);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function c7(t){function e(n,r){const{instance:i,context:a}=t(n).current;ne.useImperativeHandle(r,()=>i);const{children:s}=n;return s==null?null:Lt.createElement(zP,{value:a},s)}return ne.forwardRef(e)}function f7(t){function e(n,r){const{instance:i}=t(n).current;return ne.useImperativeHandle(r,()=>i),null}return ne.forwardRef(e)}function uAe(t){return function(n){const r=Rw(),i=t(n,r),{instance:a}=i.current,s=ne.useRef(n.position),{position:o}=n;return ne.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),ne.useEffect(function(){o!=null&&o!==s.current&&(a.setPosition(o),s.current=o)},[a,o]),i}}function d7(t,e){const n=ne.useRef(void 0);ne.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function HP(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function VP(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Pw(t,e){return e==null?function(r,i){const a=ne.useRef(void 0);return a.current||(a.current=t(r,i)),a}:function(r,i){const a=ne.useRef(void 0);a.current||(a.current=t(r,i));const s=ne.useRef(r),{instance:o}=a.current;return ne.useEffect(function(){s.current!==r&&(e(o,r,s.current),s.current=r)},[o,r,e]),a}}function h7(t,e){ne.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function p7(t){return function(n){const r=Rw(),i=t(HP(n,r),r);return iAe(r.map,n.attribution),d7(i.current,n.eventHandlers),h7(i.current,r),i}}function lAe(t,e){const n=ne.useRef(void 0);ne.useEffect(function(){if(e.pathOptions!==n.current){const i=e.pathOptions??{};t.instance.setStyle(i),n.current=i}},[t,e])}function cAe(t){return function(n){const r=Rw(),i=t(HP(n,r),r);return d7(i.current,n.eventHandlers),h7(i.current,r),lAe(i.current,n),i}}function fAe(t){function e(i,a){return VP(t(i),a)}const n=Pw(e),r=uAe(n);return f7(r)}function dAe(t,e){const n=Pw(t,e),r=p7(n);return c7(r)}function hAe(t,e){const n=Pw(t,e),r=cAe(n);return c7(r)}function pAe(t,e){const n=Pw(t,e),r=p7(n);return f7(r)}function gAe(t,e,n){const{opacity:r,zIndex:i}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),i!=null&&i!==n.zIndex&&t.setZIndex(i)}const g7=fAe(t=>new rAe(t));function KP(){return Rw().map}function dC(t,e){const n=KP();return ne.useEffect(function(){return n.on(t,e),function(){n.off(t,e)}},[n,t,e]),n}function mAe({bounds:t,boundsOptions:e,center:n,children:r,className:i,id:a,placeholder:s,style:o,whenReady:l,zoom:c,...h},p){const[m]=ne.useState({className:i,id:a,style:o}),[y,v]=ne.useState(null),w=ne.useRef(void 0);ne.useImperativeHandle(p,()=>(y==null?void 0:y.map)??null,[y]);const E=ne.useCallback(x=>{if(x!==null&&!w.current){const A=new Rn.Map(x,h);w.current=A,n!=null&&c!=null?A.setView(n,c):t!=null&&A.fitBounds(t,e),l!=null&&A.whenReady(l),v(sAe(A))}},[]);ne.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const b=y?Lt.createElement(zP,{value:y},r):s??null;return Lt.createElement("div",{...m,ref:E},b)}const GP=ne.forwardRef(mAe),WP=dAe(function({position:e,...n},r){const i=new Rn.Marker(e,n);return VP(i,oAe(r,{overlayContainer:i}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),QP=pAe(function({url:e,...n},r){const i=new Rn.TileLayer(e,HP(n,r));return VP(i,r)},function(e,n,r){gAe(e,n,r);const{url:i}=n;i!=null&&i!==r.url&&e.setUrl(i)}),yAe="_mapContainer_zpxie_1",vAe="_description_zpxie_11",zA={mapContainer:yAe,description:vAe},y$=t=>(t%360-180*3)%360+180,kv=t=>{const e=t.getBounds();return{n:e.getNorth(),s:e.getSouth(),e:e.getEast(),w:e.getWest()}},m7=({onChange:t,onUpdate:e})=>{const n=KP(),r=ne.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=kv(n);t==null||t({lat:s,long:o},l)},[n,t]),i=ne.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=y$(o),c={lat:s,long:l};if(Math.abs(l-o)>1){n.setView([s,l],n.getZoom(),{animate:!1});const p=kv(n);t==null||t(c,p)}const h=kv(n);e==null||e(c,h)},[n,t,e]),a=ne.useCallback(()=>{const{lat:s,lng:o}=n.getCenter(),l=y$(o),c={lat:s,long:l};Math.abs(l-o)>1&&n.setView([s,l],n.getZoom(),{animate:!1});const h=kv(n);e==null||e(c,h)},[n,e]);return dC("load",a),dC("move",r),dC("moveend",i),ne.useEffect(()=>{n&&a()},[a,n]),null},_Ae=({value:t,onChange:e,isInitial:n})=>{const r=ne.useMemo(()=>[t.lat,t.long],[t.lat,t.long]),{tileServer:i}=kn(),{i18n:a,_:s}=si();return Q.jsxs(GP,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Or(zA.mapContainer,"accommodation-map-container-edit"),children:[Q.jsx(QP,{url:i}),Q.jsx(g7,{strings:{title:a._({id:"sa0+P5"})},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),Q.jsx(WP,{position:r}),Q.jsx(m7,{onChange:e})]})},wAe="_container_1saps_1",bAe="_header_1saps_10",SAe="_accommodation_1saps_17",xAe="_accommodationForm_1saps_27",EAe="_errorMessage_1saps_34",TAe="_inputError_1saps_39",CAe="_actions_1saps_45",AAe="_addAccommodationButton_1saps_54",hs={container:wAe,header:bAe,accommodation:SAe,accommodationForm:xAe,errorMessage:EAe,inputError:TAe,actions:CAe,addAccommodationButton:AAe};var v$=function(t,e,n){if(t&&"reportValidity"in t){var r=Bt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},y7=function(t,e){var n=function(i){var a=e.fields[i];a&&a.ref&&"reportValidity"in a.ref?v$(a.ref,i,t):a.refs&&a.refs.forEach(function(s){return v$(s,i,t)})};for(var r in e.fields)n(r)},RAe=function(t,e){e.shouldUseNativeValidation&&y7(t,e);var n={};for(var r in t){var i=Bt(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(PAe(e.names||Object.keys(t),r)){var s=Object.assign({},Bt(n,r));_r(s,"root",a),_r(n,r,s)}else _r(n,r,a)}return n},PAe=function(t,e){return t.some(function(n){return n.startsWith(e+".")})},Nv={exports:{}},hC={},nu={},Pc={},pC={},gC={},mC={},_$;function hm(){return _$||(_$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends e{constructor(x){if(super(),!t.IDENTIFIER.test(x))throw new Error("CodeGen: name must be a valid identifier");this.str=x}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=n;class r extends e{constructor(x){super(),this._items=typeof x=="string"?[x]:x}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const x=this._items[0];return x===""||x==='""'}get str(){var x;return(x=this._str)!==null&&x!==void 0?x:this._str=this._items.reduce((A,I)=>`${A}${I}`,"")}get names(){var x;return(x=this._names)!==null&&x!==void 0?x:this._names=this._items.reduce((A,I)=>(I instanceof n&&(A[I.str]=(A[I.str]||0)+1),A),{})}}t._Code=r,t.nil=new r("");function i(b,...x){const A=[b[0]];let I=0;for(;I<x.length;)o(A,x[I]),A.push(b[++I]);return new r(A)}t._=i;const a=new r("+");function s(b,...x){const A=[y(b[0])];let I=0;for(;I<x.length;)A.push(a),o(A,x[I]),A.push(a,y(b[++I]));return l(A),new r(A)}t.str=s;function o(b,x){x instanceof r?b.push(...x._items):x instanceof n?b.push(x):b.push(p(x))}t.addCodeArg=o;function l(b){let x=1;for(;x<b.length-1;){if(b[x]===a){const A=c(b[x-1],b[x+1]);if(A!==void 0){b.splice(x-1,3,A);continue}b[x++]="+"}x++}}function c(b,x){if(x==='""')return b;if(b==='""')return x;if(typeof b=="string")return x instanceof n||b[b.length-1]!=='"'?void 0:typeof x!="string"?`${b.slice(0,-1)}${x}"`:x[0]==='"'?b.slice(0,-1)+x.slice(1):void 0;if(typeof x=="string"&&x[0]==='"'&&!(b instanceof n))return`"${b}${x.slice(1)}`}function h(b,x){return x.emptyStr()?b:b.emptyStr()?x:s`${b}${x}`}t.strConcat=h;function p(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:y(Array.isArray(b)?b.join(","):b)}function m(b){return new r(y(b))}t.stringify=m;function y(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=y;function v(b){return typeof b=="string"&&t.IDENTIFIER.test(b)?new r(`.${b}`):i`[${b}]`}t.getProperty=v;function w(b){if(typeof b=="string"&&t.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}t.getEsmExportName=w;function E(b){return new r(b.toString())}t.regexpCode=E}(mC)),mC}var yC={},w$;function b$(){return w$||(w$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=hm();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(t.UsedValueState=r={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:c,parent:h}={}){this._names={},this._prefixes=c,this._parent=h}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const h=this._names[c]||this._nameGroup(c);return`${c}${h.index++}`}_nameGroup(c){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=i;class a extends e.Name{constructor(c,h){super(h),this.prefix=c}setValue(c,{property:h,itemIndex:p}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=a;const s=(0,e._)`\n`;class o extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?s:e.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:y}=m,v=(p=h.key)!==null&&p!==void 0?p:h.ref;let w=this._values[y];if(w){const x=w.get(v);if(x)return x}else w=this._values[y]=new Map;w.set(v,m);const E=this._scope[y]||(this._scope[y]=[]),b=E.length;return E[b]=h.ref,m.setValue(h,{property:y,itemIndex:b}),m}getValue(c,h){const p=this._values[c];if(p)return p.get(h)}scopeRefs(c,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${c}${p.scopePath}`})}scopeCode(c=this._values,h,p){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},h,p)}_reduceValues(c,h,p={},m){let y=e.nil;for(const v in c){const w=c[v];if(!w)continue;const E=p[v]=p[v]||new Map;w.forEach(b=>{if(E.has(b))return;E.set(b,r.Started);let x=h(b);if(x){const A=this.opts.es5?t.varKinds.var:t.varKinds.const;y=(0,e._)`${y}${A} ${b} = ${x};${this.opts._n}`}else if(x=m==null?void 0:m(b))y=(0,e._)`${y}${x}${this.opts._n}`;else throw new n(b);E.set(b,r.Completed)})}return y}}t.ValueScope=o}(yC)),yC}var S$;function In(){return S$||(S$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=hm(),n=b$();var r=hm();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}});var i=b$();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class a{optimizeNodes(){return this}optimizeNames(Y,pe){return this}}class s extends a{constructor(Y,pe,Ae){super(),this.varKind=Y,this.name=pe,this.rhs=Ae}render({es5:Y,_n:pe}){const Ae=Y?n.varKinds.var:this.varKind,Je=this.rhs===void 0?"":` = ${this.rhs}`;return`${Ae} ${this.name}${Je};`+pe}optimizeNames(Y,pe){if(Y[this.name.str])return this.rhs&&(this.rhs=ue(this.rhs,Y,pe)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends a{constructor(Y,pe,Ae){super(),this.lhs=Y,this.rhs=pe,this.sideEffects=Ae}render({_n:Y}){return`${this.lhs} = ${this.rhs};`+Y}optimizeNames(Y,pe){if(!(this.lhs instanceof e.Name&&!Y[this.lhs.str]&&!this.sideEffects))return this.rhs=ue(this.rhs,Y,pe),this}get names(){const Y=this.lhs instanceof e.Name?{}:{...this.lhs.names};return re(Y,this.rhs)}}class l extends o{constructor(Y,pe,Ae,Je){super(Y,Ae,Je),this.op=pe}render({_n:Y}){return`${this.lhs} ${this.op}= ${this.rhs};`+Y}}class c extends a{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`${this.label}:`+Y}}class h extends a{constructor(Y){super(),this.label=Y,this.names={}}render({_n:Y}){return`break${this.label?` ${this.label}`:""};`+Y}}class p extends a{constructor(Y){super(),this.error=Y}render({_n:Y}){return`throw ${this.error};`+Y}get names(){return this.error.names}}class m extends a{constructor(Y){super(),this.code=Y}render({_n:Y}){return`${this.code};`+Y}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(Y,pe){return this.code=ue(this.code,Y,pe),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class y extends a{constructor(Y=[]){super(),this.nodes=Y}render(Y){return this.nodes.reduce((pe,Ae)=>pe+Ae.render(Y),"")}optimizeNodes(){const{nodes:Y}=this;let pe=Y.length;for(;pe--;){const Ae=Y[pe].optimizeNodes();Array.isArray(Ae)?Y.splice(pe,1,...Ae):Ae?Y[pe]=Ae:Y.splice(pe,1)}return Y.length>0?this:void 0}optimizeNames(Y,pe){const{nodes:Ae}=this;let Je=Ae.length;for(;Je--;){const Re=Ae[Je];Re.optimizeNames(Y,pe)||(me(Y,Re.names),Ae.splice(Je,1))}return Ae.length>0?this:void 0}get names(){return this.nodes.reduce((Y,pe)=>ce(Y,pe.names),{})}}class v extends y{render(Y){return"{"+Y._n+super.render(Y)+"}"+Y._n}}class w extends y{}class E extends v{}E.kind="else";class b extends v{constructor(Y,pe){super(pe),this.condition=Y}render(Y){let pe=`if(${this.condition})`+super.render(Y);return this.else&&(pe+="else "+this.else.render(Y)),pe}optimizeNodes(){super.optimizeNodes();const Y=this.condition;if(Y===!0)return this.nodes;let pe=this.else;if(pe){const Ae=pe.optimizeNodes();pe=this.else=Array.isArray(Ae)?new E(Ae):Ae}if(pe)return Y===!1?pe instanceof b?pe:pe.nodes:this.nodes.length?this:new b(be(Y),pe instanceof b?[pe]:pe.nodes);if(!(Y===!1||!this.nodes.length))return this}optimizeNames(Y,pe){var Ae;if(this.else=(Ae=this.else)===null||Ae===void 0?void 0:Ae.optimizeNames(Y,pe),!!(super.optimizeNames(Y,pe)||this.else))return this.condition=ue(this.condition,Y,pe),this}get names(){const Y=super.names;return re(Y,this.condition),this.else&&ce(Y,this.else.names),Y}}b.kind="if";class x extends v{}x.kind="for";class A extends x{constructor(Y){super(),this.iteration=Y}render(Y){return`for(${this.iteration})`+super.render(Y)}optimizeNames(Y,pe){if(super.optimizeNames(Y,pe))return this.iteration=ue(this.iteration,Y,pe),this}get names(){return ce(super.names,this.iteration.names)}}class I extends x{constructor(Y,pe,Ae,Je){super(),this.varKind=Y,this.name=pe,this.from=Ae,this.to=Je}render(Y){const pe=Y.es5?n.varKinds.var:this.varKind,{name:Ae,from:Je,to:Re}=this;return`for(${pe} ${Ae}=${Je}; ${Ae}<${Re}; ${Ae}++)`+super.render(Y)}get names(){const Y=re(super.names,this.from);return re(Y,this.to)}}class M extends x{constructor(Y,pe,Ae,Je){super(),this.loop=Y,this.varKind=pe,this.name=Ae,this.iterable=Je}render(Y){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(Y)}optimizeNames(Y,pe){if(super.optimizeNames(Y,pe))return this.iterable=ue(this.iterable,Y,pe),this}get names(){return ce(super.names,this.iterable.names)}}class D extends v{constructor(Y,pe,Ae){super(),this.name=Y,this.args=pe,this.async=Ae}render(Y){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(Y)}}D.kind="func";class F extends y{render(Y){return"return "+super.render(Y)}}F.kind="return";class Z extends v{render(Y){let pe="try"+super.render(Y);return this.catch&&(pe+=this.catch.render(Y)),this.finally&&(pe+=this.finally.render(Y)),pe}optimizeNodes(){var Y,pe;return super.optimizeNodes(),(Y=this.catch)===null||Y===void 0||Y.optimizeNodes(),(pe=this.finally)===null||pe===void 0||pe.optimizeNodes(),this}optimizeNames(Y,pe){var Ae,Je;return super.optimizeNames(Y,pe),(Ae=this.catch)===null||Ae===void 0||Ae.optimizeNames(Y,pe),(Je=this.finally)===null||Je===void 0||Je.optimizeNames(Y,pe),this}get names(){const Y=super.names;return this.catch&&ce(Y,this.catch.names),this.finally&&ce(Y,this.finally.names),Y}}class X extends v{constructor(Y){super(),this.error=Y}render(Y){return`catch(${this.error})`+super.render(Y)}}X.kind="catch";class U extends v{render(Y){return"finally"+super.render(Y)}}U.kind="finally";class J{constructor(Y,pe={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...pe,_n:pe.lines?`
`:""},this._extScope=Y,this._scope=new n.Scope({parent:Y}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(Y){return this._scope.name(Y)}scopeName(Y){return this._extScope.name(Y)}scopeValue(Y,pe){const Ae=this._extScope.value(Y,pe);return(this._values[Ae.prefix]||(this._values[Ae.prefix]=new Set)).add(Ae),Ae}getScopeValue(Y,pe){return this._extScope.getValue(Y,pe)}scopeRefs(Y){return this._extScope.scopeRefs(Y,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(Y,pe,Ae,Je){const Re=this._scope.toName(pe);return Ae!==void 0&&Je&&(this._constants[Re.str]=Ae),this._leafNode(new s(Y,Re,Ae)),Re}const(Y,pe,Ae){return this._def(n.varKinds.const,Y,pe,Ae)}let(Y,pe,Ae){return this._def(n.varKinds.let,Y,pe,Ae)}var(Y,pe,Ae){return this._def(n.varKinds.var,Y,pe,Ae)}assign(Y,pe,Ae){return this._leafNode(new o(Y,pe,Ae))}add(Y,pe){return this._leafNode(new l(Y,t.operators.ADD,pe))}code(Y){return typeof Y=="function"?Y():Y!==e.nil&&this._leafNode(new m(Y)),this}object(...Y){const pe=["{"];for(const[Ae,Je]of Y)pe.length>1&&pe.push(","),pe.push(Ae),(Ae!==Je||this.opts.es5)&&(pe.push(":"),(0,e.addCodeArg)(pe,Je));return pe.push("}"),new e._Code(pe)}if(Y,pe,Ae){if(this._blockNode(new b(Y)),pe&&Ae)this.code(pe).else().code(Ae).endIf();else if(pe)this.code(pe).endIf();else if(Ae)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(Y){return this._elseNode(new b(Y))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(b,E)}_for(Y,pe){return this._blockNode(Y),pe&&this.code(pe).endFor(),this}for(Y,pe){return this._for(new A(Y),pe)}forRange(Y,pe,Ae,Je,Re=this.opts.es5?n.varKinds.var:n.varKinds.let){const Fe=this._scope.toName(Y);return this._for(new I(Re,Fe,pe,Ae),()=>Je(Fe))}forOf(Y,pe,Ae,Je=n.varKinds.const){const Re=this._scope.toName(Y);if(this.opts.es5){const Fe=pe instanceof e.Name?pe:this.var("_arr",pe);return this.forRange("_i",0,(0,e._)`${Fe}.length`,Xe=>{this.var(Re,(0,e._)`${Fe}[${Xe}]`),Ae(Re)})}return this._for(new M("of",Je,Re,pe),()=>Ae(Re))}forIn(Y,pe,Ae,Je=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(Y,(0,e._)`Object.keys(${pe})`,Ae);const Re=this._scope.toName(Y);return this._for(new M("in",Je,Re,pe),()=>Ae(Re))}endFor(){return this._endBlockNode(x)}label(Y){return this._leafNode(new c(Y))}break(Y){return this._leafNode(new h(Y))}return(Y){const pe=new F;if(this._blockNode(pe),this.code(Y),pe.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(Y,pe,Ae){if(!pe&&!Ae)throw new Error('CodeGen: "try" without "catch" and "finally"');const Je=new Z;if(this._blockNode(Je),this.code(Y),pe){const Re=this.name("e");this._currNode=Je.catch=new X(Re),pe(Re)}return Ae&&(this._currNode=Je.finally=new U,this.code(Ae)),this._endBlockNode(X,U)}throw(Y){return this._leafNode(new p(Y))}block(Y,pe){return this._blockStarts.push(this._nodes.length),Y&&this.code(Y).endBlock(pe),this}endBlock(Y){const pe=this._blockStarts.pop();if(pe===void 0)throw new Error("CodeGen: not in self-balancing block");const Ae=this._nodes.length-pe;if(Ae<0||Y!==void 0&&Ae!==Y)throw new Error(`CodeGen: wrong number of nodes: ${Ae} vs ${Y} expected`);return this._nodes.length=pe,this}func(Y,pe=e.nil,Ae,Je){return this._blockNode(new D(Y,pe,Ae)),Je&&this.code(Je).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(Y=1){for(;Y-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(Y){return this._currNode.nodes.push(Y),this}_blockNode(Y){this._currNode.nodes.push(Y),this._nodes.push(Y)}_endBlockNode(Y,pe){const Ae=this._currNode;if(Ae instanceof Y||pe&&Ae instanceof pe)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${pe?`${Y.kind}/${pe.kind}`:Y.kind}"`)}_elseNode(Y){const pe=this._currNode;if(!(pe instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=pe.else=Y,this}get _root(){return this._nodes[0]}get _currNode(){const Y=this._nodes;return Y[Y.length-1]}set _currNode(Y){const pe=this._nodes;pe[pe.length-1]=Y}}t.CodeGen=J;function ce(H,Y){for(const pe in Y)H[pe]=(H[pe]||0)+(Y[pe]||0);return H}function re(H,Y){return Y instanceof e._CodeOrName?ce(H,Y.names):H}function ue(H,Y,pe){if(H instanceof e.Name)return Ae(H);if(!Je(H))return H;return new e._Code(H._items.reduce((Re,Fe)=>(Fe instanceof e.Name&&(Fe=Ae(Fe)),Fe instanceof e._Code?Re.push(...Fe._items):Re.push(Fe),Re),[]));function Ae(Re){const Fe=pe[Re.str];return Fe===void 0||Y[Re.str]!==1?Re:(delete Y[Re.str],Fe)}function Je(Re){return Re instanceof e._Code&&Re._items.some(Fe=>Fe instanceof e.Name&&Y[Fe.str]===1&&pe[Fe.str]!==void 0)}}function me(H,Y){for(const pe in Y)H[pe]=(H[pe]||0)-(Y[pe]||0)}function be(H){return typeof H=="boolean"||typeof H=="number"||H===null?!H:(0,e._)`!${ge(H)}`}t.not=be;const he=ie(t.operators.AND);function fe(...H){return H.reduce(he)}t.and=fe;const Oe=ie(t.operators.OR);function k(...H){return H.reduce(Oe)}t.or=k;function ie(H){return(Y,pe)=>Y===e.nil?pe:pe===e.nil?Y:(0,e._)`${ge(Y)} ${H} ${ge(pe)}`}function ge(H){return H instanceof e.Name?H:(0,e._)`(${H})`}}(gC)),gC}var An={},x$;function Kn(){if(x$)return An;x$=1,Object.defineProperty(An,"__esModule",{value:!0}),An.checkStrictMode=An.getErrorPath=An.Type=An.useFunc=An.setEvaluated=An.evaluatedPropsToName=An.mergeEvaluated=An.eachItem=An.unescapeJsonPointer=An.escapeJsonPointer=An.escapeFragment=An.unescapeFragment=An.schemaRefOrVal=An.schemaHasRulesButRef=An.schemaHasRules=An.checkUnknownRules=An.alwaysValidSchema=An.toHash=void 0;const t=In(),e=hm();function n(M){const D={};for(const F of M)D[F]=!0;return D}An.toHash=n;function r(M,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(M,D),!a(D,M.self.RULES.all))}An.alwaysValidSchema=r;function i(M,D=M.schema){const{opts:F,self:Z}=M;if(!F.strictSchema||typeof D=="boolean")return;const X=Z.RULES.keywords;for(const U in D)X[U]||I(M,`unknown keyword: "${U}"`)}An.checkUnknownRules=i;function a(M,D){if(typeof M=="boolean")return!M;for(const F in M)if(D[F])return!0;return!1}An.schemaHasRules=a;function s(M,D){if(typeof M=="boolean")return!M;for(const F in M)if(F!=="$ref"&&D.all[F])return!0;return!1}An.schemaHasRulesButRef=s;function o({topSchemaRef:M,schemaPath:D},F,Z,X){if(!X){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,t._)`${F}`}return(0,t._)`${M}${D}${(0,t.getProperty)(Z)}`}An.schemaRefOrVal=o;function l(M){return p(decodeURIComponent(M))}An.unescapeFragment=l;function c(M){return encodeURIComponent(h(M))}An.escapeFragment=c;function h(M){return typeof M=="number"?`${M}`:M.replace(/~/g,"~0").replace(/\//g,"~1")}An.escapeJsonPointer=h;function p(M){return M.replace(/~1/g,"/").replace(/~0/g,"~")}An.unescapeJsonPointer=p;function m(M,D){if(Array.isArray(M))for(const F of M)D(F);else D(M)}An.eachItem=m;function y({mergeNames:M,mergeToName:D,mergeValues:F,resultToName:Z}){return(X,U,J,ce)=>{const re=J===void 0?U:J instanceof t.Name?(U instanceof t.Name?M(X,U,J):D(X,U,J),J):U instanceof t.Name?(D(X,J,U),U):F(U,J);return ce===t.Name&&!(re instanceof t.Name)?Z(X,re):re}}An.mergeEvaluated={props:y({mergeNames:(M,D,F)=>M.if((0,t._)`${F} !== true && ${D} !== undefined`,()=>{M.if((0,t._)`${D} === true`,()=>M.assign(F,!0),()=>M.assign(F,(0,t._)`${F} || {}`).code((0,t._)`Object.assign(${F}, ${D})`))}),mergeToName:(M,D,F)=>M.if((0,t._)`${F} !== true`,()=>{D===!0?M.assign(F,!0):(M.assign(F,(0,t._)`${F} || {}`),w(M,F,D))}),mergeValues:(M,D)=>M===!0?!0:{...M,...D},resultToName:v}),items:y({mergeNames:(M,D,F)=>M.if((0,t._)`${F} !== true && ${D} !== undefined`,()=>M.assign(F,(0,t._)`${D} === true ? true : ${F} > ${D} ? ${F} : ${D}`)),mergeToName:(M,D,F)=>M.if((0,t._)`${F} !== true`,()=>M.assign(F,D===!0?!0:(0,t._)`${F} > ${D} ? ${F} : ${D}`)),mergeValues:(M,D)=>M===!0?!0:Math.max(M,D),resultToName:(M,D)=>M.var("items",D)})};function v(M,D){if(D===!0)return M.var("props",!0);const F=M.var("props",(0,t._)`{}`);return D!==void 0&&w(M,F,D),F}An.evaluatedPropsToName=v;function w(M,D,F){Object.keys(F).forEach(Z=>M.assign((0,t._)`${D}${(0,t.getProperty)(Z)}`,!0))}An.setEvaluated=w;const E={};function b(M,D){return M.scopeValue("func",{ref:D,code:E[D.code]||(E[D.code]=new e._Code(D.code))})}An.useFunc=b;var x;(function(M){M[M.Num=0]="Num",M[M.Str=1]="Str"})(x||(An.Type=x={}));function A(M,D,F){if(M instanceof t.Name){const Z=D===x.Num;return F?Z?(0,t._)`"[" + ${M} + "]"`:(0,t._)`"['" + ${M} + "']"`:Z?(0,t._)`"/" + ${M}`:(0,t._)`"/" + ${M}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,t.getProperty)(M).toString():"/"+h(M)}An.getErrorPath=A;function I(M,D,F=M.opts.strictSchema){if(F){if(D=`strict mode: ${D}`,F===!0)throw new Error(D);M.self.logger.warn(D)}}return An.checkStrictMode=I,An}var Fv={},E$;function Au(){if(E$)return Fv;E$=1,Object.defineProperty(Fv,"__esModule",{value:!0});const t=In(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Fv.default=e,Fv}var T$;function Um(){return T$||(T$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=In(),n=Kn(),r=Au();t.keywordError={message:({keyword:E})=>(0,e.str)`must pass "${E}" keyword validation`},t.keyword$DataError={message:({keyword:E,schemaType:b})=>b?(0,e.str)`"${E}" keyword must be ${b} ($data)`:(0,e.str)`"${E}" keyword is invalid ($data)`};function i(E,b=t.keywordError,x,A){const{it:I}=E,{gen:M,compositeRule:D,allErrors:F}=I,Z=p(E,b,x);A??(D||F)?l(M,Z):c(I,(0,e._)`[${Z}]`)}t.reportError=i;function a(E,b=t.keywordError,x){const{it:A}=E,{gen:I,compositeRule:M,allErrors:D}=A,F=p(E,b,x);l(I,F),M||D||c(A,r.default.vErrors)}t.reportExtraError=a;function s(E,b){E.assign(r.default.errors,b),E.if((0,e._)`${r.default.vErrors} !== null`,()=>E.if(b,()=>E.assign((0,e._)`${r.default.vErrors}.length`,b),()=>E.assign(r.default.vErrors,null)))}t.resetErrorsCount=s;function o({gen:E,keyword:b,schemaValue:x,data:A,errsCount:I,it:M}){if(I===void 0)throw new Error("ajv implementation error");const D=E.name("err");E.forRange("i",I,r.default.errors,F=>{E.const(D,(0,e._)`${r.default.vErrors}[${F}]`),E.if((0,e._)`${D}.instancePath === undefined`,()=>E.assign((0,e._)`${D}.instancePath`,(0,e.strConcat)(r.default.instancePath,M.errorPath))),E.assign((0,e._)`${D}.schemaPath`,(0,e.str)`${M.errSchemaPath}/${b}`),M.opts.verbose&&(E.assign((0,e._)`${D}.schema`,x),E.assign((0,e._)`${D}.data`,A))})}t.extendErrors=o;function l(E,b){const x=E.const("err",b);E.if((0,e._)`${r.default.vErrors} === null`,()=>E.assign(r.default.vErrors,(0,e._)`[${x}]`),(0,e._)`${r.default.vErrors}.push(${x})`),E.code((0,e._)`${r.default.errors}++`)}function c(E,b){const{gen:x,validateName:A,schemaEnv:I}=E;I.$async?x.throw((0,e._)`new ${E.ValidationError}(${b})`):(x.assign((0,e._)`${A}.errors`,b),x.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(E,b,x){const{createErrors:A}=E.it;return A===!1?(0,e._)`{}`:m(E,b,x)}function m(E,b,x={}){const{gen:A,it:I}=E,M=[y(I,x),v(E,x)];return w(E,b,M),A.object(...M)}function y({errorPath:E},{instancePath:b}){const x=b?(0,e.str)`${E}${(0,n.getErrorPath)(b,n.Type.Str)}`:E;return[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,x)]}function v({keyword:E,it:{errSchemaPath:b}},{schemaPath:x,parentSchema:A}){let I=A?b:(0,e.str)`${b}/${E}`;return x&&(I=(0,e.str)`${I}${(0,n.getErrorPath)(x,n.Type.Str)}`),[h.schemaPath,I]}function w(E,{params:b,message:x},A){const{keyword:I,data:M,schemaValue:D,it:F}=E,{opts:Z,propertyName:X,topSchemaRef:U,schemaPath:J}=F;A.push([h.keyword,I],[h.params,typeof b=="function"?b(E):b||(0,e._)`{}`]),Z.messages&&A.push([h.message,typeof x=="function"?x(E):x]),Z.verbose&&A.push([h.schema,D],[h.parentSchema,(0,e._)`${U}${J}`],[r.default.data,M]),X&&A.push([h.propertyName,X])}}(pC)),pC}var C$;function OAe(){if(C$)return Pc;C$=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.boolOrEmptySchema=Pc.topBoolOrEmptySchema=void 0;const t=Um(),e=In(),n=Au(),r={message:"boolean schema is false"};function i(o){const{gen:l,schema:c,validateName:h}=o;c===!1?s(o,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,e._)`${h}.errors`,null),l.return(!0))}Pc.topBoolOrEmptySchema=i;function a(o,l){const{gen:c,schema:h}=o;h===!1?(c.var(l,!1),s(o)):c.var(l,!0)}Pc.boolOrEmptySchema=a;function s(o,l){const{gen:c,data:h}=o,p={gen:c,keyword:"false schema",data:h,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(p,r,void 0,l)}return Pc}var Ri={},Oc={},A$;function v7(){if(A$)return Oc;A$=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.getRules=Oc.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function n(i){return typeof i=="string"&&e.has(i)}Oc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Oc.getRules=r,Oc}var ru={},R$;function _7(){if(R$)return ru;R$=1,Object.defineProperty(ru,"__esModule",{value:!0}),ru.shouldUseRule=ru.shouldUseGroup=ru.schemaHasRulesForType=void 0;function t({schema:r,self:i},a){const s=i.RULES.types[a];return s&&s!==!0&&e(r,s)}ru.schemaHasRulesForType=t;function e(r,i){return i.rules.some(a=>n(r,a))}ru.shouldUseGroup=e;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(s=>r[s]!==void 0))}return ru.shouldUseRule=n,ru}var P$;function O0(){if(P$)return Ri;P$=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.reportTypeError=Ri.checkDataTypes=Ri.checkDataType=Ri.coerceAndCheckDataType=Ri.getJSONTypes=Ri.getSchemaTypes=Ri.DataType=void 0;const t=v7(),e=_7(),n=Um(),r=In(),i=Kn();var a;(function(x){x[x.Correct=0]="Correct",x[x.Wrong=1]="Wrong"})(a||(Ri.DataType=a={}));function s(x){const A=o(x.type);if(A.includes("null")){if(x.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!A.length&&x.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');x.nullable===!0&&A.push("null")}return A}Ri.getSchemaTypes=s;function o(x){const A=Array.isArray(x)?x:x?[x]:[];if(A.every(t.isJSONType))return A;throw new Error("type must be JSONType or JSONType[]: "+A.join(","))}Ri.getJSONTypes=o;function l(x,A){const{gen:I,data:M,opts:D}=x,F=h(A,D.coerceTypes),Z=A.length>0&&!(F.length===0&&A.length===1&&(0,e.schemaHasRulesForType)(x,A[0]));if(Z){const X=v(A,M,D.strictNumbers,a.Wrong);I.if(X,()=>{F.length?p(x,A,F):E(x)})}return Z}Ri.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function h(x,A){return A?x.filter(I=>c.has(I)||A==="array"&&I==="array"):[]}function p(x,A,I){const{gen:M,data:D,opts:F}=x,Z=M.let("dataType",(0,r._)`typeof ${D}`),X=M.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&M.if((0,r._)`${Z} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>M.assign(D,(0,r._)`${D}[0]`).assign(Z,(0,r._)`typeof ${D}`).if(v(A,D,F.strictNumbers),()=>M.assign(X,D))),M.if((0,r._)`${X} !== undefined`);for(const J of I)(c.has(J)||J==="array"&&F.coerceTypes==="array")&&U(J);M.else(),E(x),M.endIf(),M.if((0,r._)`${X} !== undefined`,()=>{M.assign(D,X),m(x,X)});function U(J){switch(J){case"string":M.elseIf((0,r._)`${Z} == "number" || ${Z} == "boolean"`).assign(X,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(X,(0,r._)`""`);return;case"number":M.elseIf((0,r._)`${Z} == "boolean" || ${D} === null
              || (${Z} == "string" && ${D} && ${D} == +${D})`).assign(X,(0,r._)`+${D}`);return;case"integer":M.elseIf((0,r._)`${Z} === "boolean" || ${D} === null
              || (${Z} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(X,(0,r._)`+${D}`);return;case"boolean":M.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(X,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(X,!0);return;case"null":M.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),M.assign(X,null);return;case"array":M.elseIf((0,r._)`${Z} === "string" || ${Z} === "number"
              || ${Z} === "boolean" || ${D} === null`).assign(X,(0,r._)`[${D}]`)}}}function m({gen:x,parentData:A,parentDataProperty:I},M){x.if((0,r._)`${A} !== undefined`,()=>x.assign((0,r._)`${A}[${I}]`,M))}function y(x,A,I,M=a.Correct){const D=M===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(x){case"null":return(0,r._)`${A} ${D} null`;case"array":F=(0,r._)`Array.isArray(${A})`;break;case"object":F=(0,r._)`${A} && typeof ${A} == "object" && !Array.isArray(${A})`;break;case"integer":F=Z((0,r._)`!(${A} % 1) && !isNaN(${A})`);break;case"number":F=Z();break;default:return(0,r._)`typeof ${A} ${D} ${x}`}return M===a.Correct?F:(0,r.not)(F);function Z(X=r.nil){return(0,r.and)((0,r._)`typeof ${A} == "number"`,X,I?(0,r._)`isFinite(${A})`:r.nil)}}Ri.checkDataType=y;function v(x,A,I,M){if(x.length===1)return y(x[0],A,I,M);let D;const F=(0,i.toHash)(x);if(F.array&&F.object){const Z=(0,r._)`typeof ${A} != "object"`;D=F.null?Z:(0,r._)`!${A} || ${Z}`,delete F.null,delete F.array,delete F.object}else D=r.nil;F.number&&delete F.integer;for(const Z in F)D=(0,r.and)(D,y(Z,A,I,M));return D}Ri.checkDataTypes=v;const w={message:({schema:x})=>`must be ${x}`,params:({schema:x,schemaValue:A})=>typeof x=="string"?(0,r._)`{type: ${x}}`:(0,r._)`{type: ${A}}`};function E(x){const A=b(x);(0,n.reportError)(A,w)}Ri.reportTypeError=E;function b(x){const{gen:A,data:I,schema:M}=x,D=(0,i.schemaRefOrVal)(x,M,"type");return{gen:A,keyword:"type",data:I,schema:M.type,schemaCode:D,schemaValue:D,parentSchema:M,params:{},it:x}}return Ri}var vg={},O$;function IAe(){if(O$)return vg;O$=1,Object.defineProperty(vg,"__esModule",{value:!0}),vg.assignDefaults=void 0;const t=In(),e=Kn();function n(i,a){const{properties:s,items:o}=i.schema;if(a==="object"&&s)for(const l in s)r(i,l,s[l].default);else a==="array"&&Array.isArray(o)&&o.forEach((l,c)=>r(i,c,l.default))}vg.assignDefaults=n;function r(i,a,s){const{gen:o,compositeRule:l,data:c,opts:h}=i;if(s===void 0)return;const p=(0,t._)`${c}${(0,t.getProperty)(a)}`;if(l){(0,e.checkStrictMode)(i,`default is ignored for: ${p}`);return}let m=(0,t._)`${p} === undefined`;h.useDefaults==="empty"&&(m=(0,t._)`${m} || ${p} === null || ${p} === ""`),o.if(m,(0,t._)`${p} = ${(0,t.stringify)(s)}`)}return vg}var As={},sr={},I$;function Gs(){if(I$)return sr;I$=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.validateUnion=sr.validateArray=sr.usePattern=sr.callValidateCode=sr.schemaProperties=sr.allSchemaProperties=sr.noPropertyInData=sr.propertyInData=sr.isOwnProperty=sr.hasPropFunc=sr.reportMissingProp=sr.checkMissingProp=sr.checkReportMissingProp=void 0;const t=In(),e=Kn(),n=Au(),r=Kn();function i(x,A){const{gen:I,data:M,it:D}=x;I.if(h(I,M,A,D.opts.ownProperties),()=>{x.setParams({missingProperty:(0,t._)`${A}`},!0),x.error()})}sr.checkReportMissingProp=i;function a({gen:x,data:A,it:{opts:I}},M,D){return(0,t.or)(...M.map(F=>(0,t.and)(h(x,A,F,I.ownProperties),(0,t._)`${D} = ${F}`)))}sr.checkMissingProp=a;function s(x,A){x.setParams({missingProperty:A},!0),x.error()}sr.reportMissingProp=s;function o(x){return x.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}sr.hasPropFunc=o;function l(x,A,I){return(0,t._)`${o(x)}.call(${A}, ${I})`}sr.isOwnProperty=l;function c(x,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} !== undefined`;return M?(0,t._)`${D} && ${l(x,A,I)}`:D}sr.propertyInData=c;function h(x,A,I,M){const D=(0,t._)`${A}${(0,t.getProperty)(I)} === undefined`;return M?(0,t.or)(D,(0,t.not)(l(x,A,I))):D}sr.noPropertyInData=h;function p(x){return x?Object.keys(x).filter(A=>A!=="__proto__"):[]}sr.allSchemaProperties=p;function m(x,A){return p(A).filter(I=>!(0,e.alwaysValidSchema)(x,A[I]))}sr.schemaProperties=m;function y({schemaCode:x,data:A,it:{gen:I,topSchemaRef:M,schemaPath:D,errorPath:F},it:Z},X,U,J){const ce=J?(0,t._)`${x}, ${A}, ${M}${D}`:A,re=[[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,F)],[n.default.parentData,Z.parentData],[n.default.parentDataProperty,Z.parentDataProperty],[n.default.rootData,n.default.rootData]];Z.opts.dynamicRef&&re.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const ue=(0,t._)`${ce}, ${I.object(...re)}`;return U!==t.nil?(0,t._)`${X}.call(${U}, ${ue})`:(0,t._)`${X}(${ue})`}sr.callValidateCode=y;const v=(0,t._)`new RegExp`;function w({gen:x,it:{opts:A}},I){const M=A.unicodeRegExp?"u":"",{regExp:D}=A.code,F=D(I,M);return x.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,t._)`${D.code==="new RegExp"?v:(0,r.useFunc)(x,D)}(${I}, ${M})`})}sr.usePattern=w;function E(x){const{gen:A,data:I,keyword:M,it:D}=x,F=A.name("valid");if(D.allErrors){const X=A.let("valid",!0);return Z(()=>A.assign(X,!1)),X}return A.var(F,!0),Z(()=>A.break()),F;function Z(X){const U=A.const("len",(0,t._)`${I}.length`);A.forRange("i",0,U,J=>{x.subschema({keyword:M,dataProp:J,dataPropType:e.Type.Num},F),A.if((0,t.not)(F),X)})}}sr.validateArray=E;function b(x){const{gen:A,schema:I,keyword:M,it:D}=x;if(!Array.isArray(I))throw new Error("ajv implementation error");if(I.some(U=>(0,e.alwaysValidSchema)(D,U))&&!D.opts.unevaluated)return;const Z=A.let("valid",!1),X=A.name("_valid");A.block(()=>I.forEach((U,J)=>{const ce=x.subschema({keyword:M,schemaProp:J,compositeRule:!0},X);A.assign(Z,(0,t._)`${Z} || ${X}`),x.mergeValidEvaluated(ce,X)||A.if((0,t.not)(Z))})),x.result(Z,()=>x.reset(),()=>x.error(!0))}return sr.validateUnion=b,sr}var L$;function LAe(){if(L$)return As;L$=1,Object.defineProperty(As,"__esModule",{value:!0}),As.validateKeywordUsage=As.validSchemaType=As.funcKeywordCode=As.macroKeywordCode=void 0;const t=In(),e=Au(),n=Gs(),r=Um();function i(m,y){const{gen:v,keyword:w,schema:E,parentSchema:b,it:x}=m,A=y.macro.call(x.self,E,b,x),I=c(v,w,A);x.opts.validateSchema!==!1&&x.self.validateSchema(A,!0);const M=v.name("valid");m.subschema({schema:A,schemaPath:t.nil,errSchemaPath:`${x.errSchemaPath}/${w}`,topSchemaRef:I,compositeRule:!0},M),m.pass(M,()=>m.error(!0))}As.macroKeywordCode=i;function a(m,y){var v;const{gen:w,keyword:E,schema:b,parentSchema:x,$data:A,it:I}=m;l(I,y);const M=!A&&y.compile?y.compile.call(I.self,b,x,I):y.validate,D=c(w,E,M),F=w.let("valid");m.block$data(F,Z),m.ok((v=y.valid)!==null&&v!==void 0?v:F);function Z(){if(y.errors===!1)J(),y.modifying&&s(m),ce(()=>m.error());else{const re=y.async?X():U();y.modifying&&s(m),ce(()=>o(m,re))}}function X(){const re=w.let("ruleErrs",null);return w.try(()=>J((0,t._)`await `),ue=>w.assign(F,!1).if((0,t._)`${ue} instanceof ${I.ValidationError}`,()=>w.assign(re,(0,t._)`${ue}.errors`),()=>w.throw(ue))),re}function U(){const re=(0,t._)`${D}.errors`;return w.assign(re,null),J(t.nil),re}function J(re=y.async?(0,t._)`await `:t.nil){const ue=I.opts.passContext?e.default.this:e.default.self,me=!("compile"in y&&!A||y.schema===!1);w.assign(F,(0,t._)`${re}${(0,n.callValidateCode)(m,D,ue,me)}`,y.modifying)}function ce(re){var ue;w.if((0,t.not)((ue=y.valid)!==null&&ue!==void 0?ue:F),re)}}As.funcKeywordCode=a;function s(m){const{gen:y,data:v,it:w}=m;y.if(w.parentData,()=>y.assign(v,(0,t._)`${w.parentData}[${w.parentDataProperty}]`))}function o(m,y){const{gen:v}=m;v.if((0,t._)`Array.isArray(${y})`,()=>{v.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${y} : ${e.default.vErrors}.concat(${y})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function c(m,y,v){if(v===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,t.stringify)(v)})}function h(m,y,v=!1){return!y.length||y.some(w=>w==="array"?Array.isArray(m):w==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==w||v&&typeof m>"u")}As.validSchemaType=h;function p({schema:m,opts:y,self:v,errSchemaPath:w},E,b){if(Array.isArray(E.keyword)?!E.keyword.includes(b):E.keyword!==b)throw new Error("ajv implementation error");const x=E.dependencies;if(x!=null&&x.some(A=>!Object.prototype.hasOwnProperty.call(m,A)))throw new Error(`parent schema must have dependencies of ${b}: ${x.join(",")}`);if(E.validateSchema&&!E.validateSchema(m[b])){const I=`keyword "${b}" value is invalid at path "${w}": `+v.errorsText(E.validateSchema.errors);if(y.validateSchema==="log")v.logger.error(I);else throw new Error(I)}}return As.validateKeywordUsage=p,As}var iu={},M$;function MAe(){if(M$)return iu;M$=1,Object.defineProperty(iu,"__esModule",{value:!0}),iu.extendSubschemaMode=iu.extendSubschemaData=iu.getSubschema=void 0;const t=In(),e=Kn();function n(a,{keyword:s,schemaProp:o,schema:l,schemaPath:c,errSchemaPath:h,topSchemaRef:p}){if(s!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(s!==void 0){const m=a.schema[s];return o===void 0?{schema:m,schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${s}`}:{schema:m[o],schemaPath:(0,t._)`${a.schemaPath}${(0,t.getProperty)(s)}${(0,t.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${s}/${(0,e.escapeFragment)(o)}`}}if(l!==void 0){if(c===void 0||h===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:p,errSchemaPath:h}}throw new Error('either "keyword" or "schema" must be passed')}iu.getSubschema=n;function r(a,s,{dataProp:o,dataPropType:l,data:c,dataTypes:h,propertyName:p}){if(c!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=s;if(o!==void 0){const{errorPath:v,dataPathArr:w,opts:E}=s,b=m.let("data",(0,t._)`${s.data}${(0,t.getProperty)(o)}`,!0);y(b),a.errorPath=(0,t.str)`${v}${(0,e.getErrorPath)(o,l,E.jsPropertySyntax)}`,a.parentDataProperty=(0,t._)`${o}`,a.dataPathArr=[...w,a.parentDataProperty]}if(c!==void 0){const v=c instanceof t.Name?c:m.let("data",c,!0);y(v),p!==void 0&&(a.propertyName=p)}h&&(a.dataTypes=h);function y(v){a.data=v,a.dataLevel=s.dataLevel+1,a.dataTypes=[],s.definedProperties=new Set,a.parentData=s.data,a.dataNames=[...s.dataNames,v]}}iu.extendSubschemaData=r;function i(a,{jtdDiscriminator:s,jtdMetadata:o,compositeRule:l,createErrors:c,allErrors:h}){l!==void 0&&(a.compositeRule=l),c!==void 0&&(a.createErrors=c),h!==void 0&&(a.allErrors=h),a.jtdDiscriminator=s,a.jtdMetadata=o}return iu.extendSubschemaMode=i,iu}var aa={},vC,D$;function w7(){return D$||(D$=1,vC=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var s=a[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n}),vC}var _C={exports:{}},k$;function DAe(){if(k$)return _C.exports;k$=1;var t=_C.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var s=typeof a=="function"?a:a.pre||function(){},o=a.post||function(){};e(i,s,o,r,"",r)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(r,i,a,s,o,l,c,h,p,m){if(s&&typeof s=="object"&&!Array.isArray(s)){i(s,o,l,c,h,p,m);for(var y in s){var v=s[y];if(Array.isArray(v)){if(y in t.arrayKeywords)for(var w=0;w<v.length;w++)e(r,i,a,v[w],o+"/"+y+"/"+w,l,o,y,s,w)}else if(y in t.propsKeywords){if(v&&typeof v=="object")for(var E in v)e(r,i,a,v[E],o+"/"+y+"/"+n(E),l,o,y,s,E)}else(y in t.keywords||r.allKeys&&!(y in t.skipKeywords))&&e(r,i,a,v,o+"/"+y,l,o,y,s)}a(s,o,l,c,h,p,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return _C.exports}var N$;function Ow(){if(N$)return aa;N$=1,Object.defineProperty(aa,"__esModule",{value:!0}),aa.getSchemaRefs=aa.resolveUrl=aa.normalizeId=aa._getFullPath=aa.getFullPath=aa.inlineRef=void 0;const t=Kn(),e=w7(),n=DAe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(w,E=!0){return typeof w=="boolean"?!0:E===!0?!s(w):E?o(w)<=E:!1}aa.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function s(w){for(const E in w){if(a.has(E))return!0;const b=w[E];if(Array.isArray(b)&&b.some(s)||typeof b=="object"&&s(b))return!0}return!1}function o(w){let E=0;for(const b in w){if(b==="$ref")return 1/0;if(E++,!r.has(b)&&(typeof w[b]=="object"&&(0,t.eachItem)(w[b],x=>E+=o(x)),E===1/0))return 1/0}return E}function l(w,E="",b){b!==!1&&(E=p(E));const x=w.parse(E);return c(w,x)}aa.getFullPath=l;function c(w,E){return w.serialize(E).split("#")[0]+"#"}aa._getFullPath=c;const h=/#\/?$/;function p(w){return w?w.replace(h,""):""}aa.normalizeId=p;function m(w,E,b){return b=p(b),w.resolve(E,b)}aa.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function v(w,E){if(typeof w=="boolean")return{};const{schemaId:b,uriResolver:x}=this.opts,A=p(w[b]||E),I={"":A},M=l(x,A,!1),D={},F=new Set;return n(w,{allKeys:!0},(U,J,ce,re)=>{if(re===void 0)return;const ue=M+J;let me=I[re];typeof U[b]=="string"&&(me=be.call(this,U[b])),he.call(this,U.$anchor),he.call(this,U.$dynamicAnchor),I[J]=me;function be(fe){const Oe=this.opts.uriResolver.resolve;if(fe=p(me?Oe(me,fe):fe),F.has(fe))throw X(fe);F.add(fe);let k=this.refs[fe];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Z(U,k.schema,fe):fe!==p(ue)&&(fe[0]==="#"?(Z(U,D[fe],fe),D[fe]=U):this.refs[fe]=ue),fe}function he(fe){if(typeof fe=="string"){if(!y.test(fe))throw new Error(`invalid anchor "${fe}"`);be.call(this,`#${fe}`)}}}),D;function Z(U,J,ce){if(J!==void 0&&!e(U,J))throw X(ce)}function X(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return aa.getSchemaRefs=v,aa}var F$;function Bm(){if(F$)return nu;F$=1,Object.defineProperty(nu,"__esModule",{value:!0}),nu.getData=nu.KeywordCxt=nu.validateFunctionCode=void 0;const t=OAe(),e=O0(),n=_7(),r=O0(),i=IAe(),a=LAe(),s=MAe(),o=In(),l=Au(),c=Ow(),h=Kn(),p=Um();function m(se){if(M(se)&&(F(se),I(se))){E(se);return}y(se,()=>(0,t.topBoolOrEmptySchema)(se))}nu.validateFunctionCode=m;function y({gen:se,validateName:z,schema:$,schemaEnv:ae,opts:W},de){W.code.es5?se.func(z,(0,o._)`${l.default.data}, ${l.default.valCxt}`,ae.$async,()=>{se.code((0,o._)`"use strict"; ${x($,W)}`),w(se,W),se.code(de)}):se.func(z,(0,o._)`${l.default.data}, ${v(W)}`,ae.$async,()=>se.code(x($,W)).code(de))}function v(se){return(0,o._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${se.dynamicRef?(0,o._)`, ${l.default.dynamicAnchors}={}`:o.nil}}={}`}function w(se,z){se.if(l.default.valCxt,()=>{se.var(l.default.instancePath,(0,o._)`${l.default.valCxt}.${l.default.instancePath}`),se.var(l.default.parentData,(0,o._)`${l.default.valCxt}.${l.default.parentData}`),se.var(l.default.parentDataProperty,(0,o._)`${l.default.valCxt}.${l.default.parentDataProperty}`),se.var(l.default.rootData,(0,o._)`${l.default.valCxt}.${l.default.rootData}`),z.dynamicRef&&se.var(l.default.dynamicAnchors,(0,o._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{se.var(l.default.instancePath,(0,o._)`""`),se.var(l.default.parentData,(0,o._)`undefined`),se.var(l.default.parentDataProperty,(0,o._)`undefined`),se.var(l.default.rootData,l.default.data),z.dynamicRef&&se.var(l.default.dynamicAnchors,(0,o._)`{}`)})}function E(se){const{schema:z,opts:$,gen:ae}=se;y(se,()=>{$.$comment&&z.$comment&&re(se),U(se),ae.let(l.default.vErrors,null),ae.let(l.default.errors,0),$.unevaluated&&b(se),Z(se),ue(se)})}function b(se){const{gen:z,validateName:$}=se;se.evaluated=z.const("evaluated",(0,o._)`${$}.evaluated`),z.if((0,o._)`${se.evaluated}.dynamicProps`,()=>z.assign((0,o._)`${se.evaluated}.props`,(0,o._)`undefined`)),z.if((0,o._)`${se.evaluated}.dynamicItems`,()=>z.assign((0,o._)`${se.evaluated}.items`,(0,o._)`undefined`))}function x(se,z){const $=typeof se=="object"&&se[z.schemaId];return $&&(z.code.source||z.code.process)?(0,o._)`/*# sourceURL=${$} */`:o.nil}function A(se,z){if(M(se)&&(F(se),I(se))){D(se,z);return}(0,t.boolOrEmptySchema)(se,z)}function I({schema:se,self:z}){if(typeof se=="boolean")return!se;for(const $ in se)if(z.RULES.all[$])return!0;return!1}function M(se){return typeof se.schema!="boolean"}function D(se,z){const{schema:$,gen:ae,opts:W}=se;W.$comment&&$.$comment&&re(se),J(se),ce(se);const de=ae.const("_errs",l.default.errors);Z(se,de),ae.var(z,(0,o._)`${de} === ${l.default.errors}`)}function F(se){(0,h.checkUnknownRules)(se),X(se)}function Z(se,z){if(se.opts.jtd)return be(se,[],!1,z);const $=(0,e.getSchemaTypes)(se.schema),ae=(0,e.coerceAndCheckDataType)(se,$);be(se,$,!ae,z)}function X(se){const{schema:z,errSchemaPath:$,opts:ae,self:W}=se;z.$ref&&ae.ignoreKeywordsWithRef&&(0,h.schemaHasRulesButRef)(z,W.RULES)&&W.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function U(se){const{schema:z,opts:$}=se;z.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,h.checkStrictMode)(se,"default is ignored in the schema root")}function J(se){const z=se.schema[se.opts.schemaId];z&&(se.baseId=(0,c.resolveUrl)(se.opts.uriResolver,se.baseId,z))}function ce(se){if(se.schema.$async&&!se.schemaEnv.$async)throw new Error("async schema in sync schema")}function re({gen:se,schemaEnv:z,schema:$,errSchemaPath:ae,opts:W}){const de=$.$comment;if(W.$comment===!0)se.code((0,o._)`${l.default.self}.logger.log(${de})`);else if(typeof W.$comment=="function"){const ye=(0,o.str)`${ae}/$comment`,He=se.scopeValue("root",{ref:z.root});se.code((0,o._)`${l.default.self}.opts.$comment(${de}, ${ye}, ${He}.schema)`)}}function ue(se){const{gen:z,schemaEnv:$,validateName:ae,ValidationError:W,opts:de}=se;$.$async?z.if((0,o._)`${l.default.errors} === 0`,()=>z.return(l.default.data),()=>z.throw((0,o._)`new ${W}(${l.default.vErrors})`)):(z.assign((0,o._)`${ae}.errors`,l.default.vErrors),de.unevaluated&&me(se),z.return((0,o._)`${l.default.errors} === 0`))}function me({gen:se,evaluated:z,props:$,items:ae}){$ instanceof o.Name&&se.assign((0,o._)`${z}.props`,$),ae instanceof o.Name&&se.assign((0,o._)`${z}.items`,ae)}function be(se,z,$,ae){const{gen:W,schema:de,data:ye,allErrors:He,opts:Te,self:Ne}=se,{RULES:tt}=Ne;if(de.$ref&&(Te.ignoreKeywordsWithRef||!(0,h.schemaHasRulesButRef)(de,tt))){W.block(()=>Je(se,"$ref",tt.all.$ref.definition));return}Te.jtd||fe(se,z),W.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(de,gt)&&(gt.type?(W.if((0,r.checkDataType)(gt.type,ye,Te.strictNumbers)),he(se,gt),z.length===1&&z[0]===gt.type&&$&&(W.else(),(0,r.reportTypeError)(se)),W.endIf()):he(se,gt),He||W.if((0,o._)`${l.default.errors} === ${ae||0}`))}}function he(se,z){const{gen:$,schema:ae,opts:{useDefaults:W}}=se;W&&(0,i.assignDefaults)(se,z.type),$.block(()=>{for(const de of z.rules)(0,n.shouldUseRule)(ae,de)&&Je(se,de.keyword,de.definition,z.type)})}function fe(se,z){se.schemaEnv.meta||!se.opts.strictTypes||(Oe(se,z),se.opts.allowUnionTypes||k(se,z),ie(se,se.dataTypes))}function Oe(se,z){if(z.length){if(!se.dataTypes.length){se.dataTypes=z;return}z.forEach($=>{H(se.dataTypes,$)||pe(se,`type "${$}" not allowed by context "${se.dataTypes.join(",")}"`)}),Y(se,z)}}function k(se,z){z.length>1&&!(z.length===2&&z.includes("null"))&&pe(se,"use allowUnionTypes to allow union type keyword")}function ie(se,z){const $=se.self.RULES.all;for(const ae in $){const W=$[ae];if(typeof W=="object"&&(0,n.shouldUseRule)(se.schema,W)){const{type:de}=W.definition;de.length&&!de.some(ye=>ge(z,ye))&&pe(se,`missing type "${de.join(",")}" for keyword "${ae}"`)}}}function ge(se,z){return se.includes(z)||z==="number"&&se.includes("integer")}function H(se,z){return se.includes(z)||z==="integer"&&se.includes("number")}function Y(se,z){const $=[];for(const ae of se.dataTypes)H(z,ae)?$.push(ae):z.includes("integer")&&ae==="number"&&$.push("integer");se.dataTypes=$}function pe(se,z){const $=se.schemaEnv.baseId+se.errSchemaPath;z+=` at "${$}" (strictTypes)`,(0,h.checkStrictMode)(se,z,se.opts.strictTypes)}class Ae{constructor(z,$,ae){if((0,a.validateKeywordUsage)(z,$,ae),this.gen=z.gen,this.allErrors=z.allErrors,this.keyword=ae,this.data=z.data,this.schema=z.schema[ae],this.$data=$.$data&&z.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,h.schemaRefOrVal)(z,this.schema,ae,this.$data),this.schemaType=$.schemaType,this.parentSchema=z.schema,this.params={},this.it=z,this.def=$,this.$data)this.schemaCode=z.gen.const("vSchema",Xe(this.$data,z));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${ae} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=z.gen.const("_errs",l.default.errors))}result(z,$,ae){this.failResult((0,o.not)(z),$,ae)}failResult(z,$,ae){this.gen.if(z),ae?ae():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(z,$){this.failResult((0,o.not)(z),void 0,$)}fail(z){if(z===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(z),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(z){if(!this.$data)return this.fail(z);const{schemaCode:$}=this;this.fail((0,o._)`${$} !== undefined && (${(0,o.or)(this.invalid$data(),z)})`)}error(z,$,ae){if($){this.setParams($),this._error(z,ae),this.setParams({});return}this._error(z,ae)}_error(z,$){(z?p.reportExtraError:p.reportError)(this,this.def.error,$)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(z){this.allErrors||this.gen.if(z)}setParams(z,$){$?Object.assign(this.params,z):this.params=z}block$data(z,$,ae=o.nil){this.gen.block(()=>{this.check$data(z,ae),$()})}check$data(z=o.nil,$=o.nil){if(!this.$data)return;const{gen:ae,schemaCode:W,schemaType:de,def:ye}=this;ae.if((0,o.or)((0,o._)`${W} === undefined`,$)),z!==o.nil&&ae.assign(z,!0),(de.length||ye.validateSchema)&&(ae.elseIf(this.invalid$data()),this.$dataError(),z!==o.nil&&ae.assign(z,!1)),ae.else()}invalid$data(){const{gen:z,schemaCode:$,schemaType:ae,def:W,it:de}=this;return(0,o.or)(ye(),He());function ye(){if(ae.length){if(!($ instanceof o.Name))throw new Error("ajv implementation error");const Te=Array.isArray(ae)?ae:[ae];return(0,o._)`${(0,r.checkDataTypes)(Te,$,de.opts.strictNumbers,r.DataType.Wrong)}`}return o.nil}function He(){if(W.validateSchema){const Te=z.scopeValue("validate$data",{ref:W.validateSchema});return(0,o._)`!${Te}(${$})`}return o.nil}}subschema(z,$){const ae=(0,s.getSubschema)(this.it,z);(0,s.extendSubschemaData)(ae,this.it,z),(0,s.extendSubschemaMode)(ae,z);const W={...this.it,...ae,items:void 0,props:void 0};return A(W,$),W}mergeEvaluated(z,$){const{it:ae,gen:W}=this;ae.opts.unevaluated&&(ae.props!==!0&&z.props!==void 0&&(ae.props=h.mergeEvaluated.props(W,z.props,ae.props,$)),ae.items!==!0&&z.items!==void 0&&(ae.items=h.mergeEvaluated.items(W,z.items,ae.items,$)))}mergeValidEvaluated(z,$){const{it:ae,gen:W}=this;if(ae.opts.unevaluated&&(ae.props!==!0||ae.items!==!0))return W.if($,()=>this.mergeEvaluated(z,o.Name)),!0}}nu.KeywordCxt=Ae;function Je(se,z,$,ae){const W=new Ae(se,$,z);"code"in $?$.code(W,ae):W.$data&&$.validate?(0,a.funcKeywordCode)(W,$):"macro"in $?(0,a.macroKeywordCode)(W,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(W,$)}const Re=/^\/(?:[^~]|~0|~1)*$/,Fe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(se,{dataLevel:z,dataNames:$,dataPathArr:ae}){let W,de;if(se==="")return l.default.rootData;if(se[0]==="/"){if(!Re.test(se))throw new Error(`Invalid JSON-pointer: ${se}`);W=se,de=l.default.rootData}else{const Ne=Fe.exec(se);if(!Ne)throw new Error(`Invalid JSON-pointer: ${se}`);const tt=+Ne[1];if(W=Ne[2],W==="#"){if(tt>=z)throw new Error(Te("property/index",tt));return ae[z-tt]}if(tt>z)throw new Error(Te("data",tt));if(de=$[z-tt],!W)return de}let ye=de;const He=W.split("/");for(const Ne of He)Ne&&(de=(0,o._)`${de}${(0,o.getProperty)((0,h.unescapeJsonPointer)(Ne))}`,ye=(0,o._)`${ye} && ${de}`);return ye;function Te(Ne,tt){return`Cannot access ${Ne} ${tt} levels up, current level is ${z}`}}return nu.getData=Xe,nu}var jv={},j$;function ZP(){if(j$)return jv;j$=1,Object.defineProperty(jv,"__esModule",{value:!0});class t extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return jv.default=t,jv}var $v={},$$;function JP(){if($$)return $v;$$=1,Object.defineProperty($v,"__esModule",{value:!0});const t=Ow();class e extends Error{constructor(r,i,a,s){super(s||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,t.resolveUrl)(r,i,a),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(r,this.missingRef))}}return $v.default=e,$v}var $a={},U$;function YP(){if(U$)return $a;U$=1,Object.defineProperty($a,"__esModule",{value:!0}),$a.resolveSchema=$a.getCompilingSchema=$a.resolveRef=$a.compileSchema=$a.SchemaEnv=void 0;const t=In(),e=ZP(),n=Au(),r=Ow(),i=Kn(),a=Bm();class s{constructor(b){var x;this.refs={},this.dynamicAnchors={};let A;typeof b.schema=="object"&&(A=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(x=b.baseId)!==null&&x!==void 0?x:(0,r.normalizeId)(A==null?void 0:A[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=A==null?void 0:A.$async,this.refs={}}}$a.SchemaEnv=s;function o(E){const b=h.call(this,E);if(b)return b;const x=(0,r.getFullPath)(this.opts.uriResolver,E.root.baseId),{es5:A,lines:I}=this.opts.code,{ownProperties:M}=this.opts,D=new t.CodeGen(this.scope,{es5:A,lines:I,ownProperties:M});let F;E.$async&&(F=D.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const Z=D.scopeName("validate");E.validateName=Z;const X={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:E.schema,code:(0,t.stringify)(E.schema)}:{ref:E.schema}),validateName:Z,ValidationError:F,schema:E.schema,schemaEnv:E,rootId:x,baseId:E.baseId||x,schemaPath:t.nil,errSchemaPath:E.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(E),(0,a.validateFunctionCode)(X),D.optimize(this.opts.code.optimize);const J=D.toString();U=`${D.scopeRefs(n.default.scope)}return ${J}`,this.opts.code.process&&(U=this.opts.code.process(U,E));const re=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(Z,{ref:re}),re.errors=null,re.schema=E.schema,re.schemaEnv=E,E.$async&&(re.$async=!0),this.opts.code.source===!0&&(re.source={validateName:Z,validateCode:J,scopeValues:D._values}),this.opts.unevaluated){const{props:ue,items:me}=X;re.evaluated={props:ue instanceof t.Name?void 0:ue,items:me instanceof t.Name?void 0:me,dynamicProps:ue instanceof t.Name,dynamicItems:me instanceof t.Name},re.source&&(re.source.evaluated=(0,t.stringify)(re.evaluated))}return E.validate=re,E}catch(J){throw delete E.validate,delete E.validateName,U&&this.logger.error("Error compiling schema, function code:",U),J}finally{this._compilations.delete(E)}}$a.compileSchema=o;function l(E,b,x){var A;x=(0,r.resolveUrl)(this.opts.uriResolver,b,x);const I=E.refs[x];if(I)return I;let M=m.call(this,E,x);if(M===void 0){const D=(A=E.localRefs)===null||A===void 0?void 0:A[x],{schemaId:F}=this.opts;D&&(M=new s({schema:D,schemaId:F,root:E,baseId:b}))}if(M!==void 0)return E.refs[x]=c.call(this,M)}$a.resolveRef=l;function c(E){return(0,r.inlineRef)(E.schema,this.opts.inlineRefs)?E.schema:E.validate?E:o.call(this,E)}function h(E){for(const b of this._compilations)if(p(b,E))return b}$a.getCompilingSchema=h;function p(E,b){return E.schema===b.schema&&E.root===b.root&&E.baseId===b.baseId}function m(E,b){let x;for(;typeof(x=this.refs[b])=="string";)b=x;return x||this.schemas[b]||y.call(this,E,b)}function y(E,b){const x=this.opts.uriResolver.parse(b),A=(0,r._getFullPath)(this.opts.uriResolver,x);let I=(0,r.getFullPath)(this.opts.uriResolver,E.baseId,void 0);if(Object.keys(E.schema).length>0&&A===I)return w.call(this,x,E);const M=(0,r.normalizeId)(A),D=this.refs[M]||this.schemas[M];if(typeof D=="string"){const F=y.call(this,E,D);return typeof(F==null?void 0:F.schema)!="object"?void 0:w.call(this,x,F)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||o.call(this,D),M===(0,r.normalizeId)(b)){const{schema:F}=D,{schemaId:Z}=this.opts,X=F[Z];return X&&(I=(0,r.resolveUrl)(this.opts.uriResolver,I,X)),new s({schema:F,schemaId:Z,root:E,baseId:I})}return w.call(this,x,D)}}$a.resolveSchema=y;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(E,{baseId:b,schema:x,root:A}){var I;if(((I=E.fragment)===null||I===void 0?void 0:I[0])!=="/")return;for(const F of E.fragment.slice(1).split("/")){if(typeof x=="boolean")return;const Z=x[(0,i.unescapeFragment)(F)];if(Z===void 0)return;x=Z;const X=typeof x=="object"&&x[this.opts.schemaId];!v.has(F)&&X&&(b=(0,r.resolveUrl)(this.opts.uriResolver,b,X))}let M;if(typeof x!="boolean"&&x.$ref&&!(0,i.schemaHasRulesButRef)(x,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,b,x.$ref);M=y.call(this,A,F)}const{schemaId:D}=this.opts;if(M=M||new s({schema:x,schemaId:D,root:A,baseId:b}),M.schema!==M.root.schema)return M}return $a}const kAe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",NAe="Meta-schema for $data reference (JSON AnySchema extension proposal)",FAe="object",jAe=["$data"],$Ae={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},UAe=!1,BAe={$id:kAe,description:NAe,type:FAe,required:jAe,properties:$Ae,additionalProperties:UAe};var Uv={},Dg={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var qAe=Dg.exports,B$;function zAe(){return B$||(B$=1,function(t,e){(function(n,r){r(e)})(qAe,function(n){function r(){for(var We=arguments.length,Ee=Array(We),et=0;et<We;et++)Ee[et]=arguments[et];if(Ee.length>1){Ee[0]=Ee[0].slice(0,-1);for(var ft=Ee.length-1,it=1;it<ft;++it)Ee[it]=Ee[it].slice(1,-1);return Ee[ft]=Ee[ft].slice(1),Ee.join("")}else return Ee[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function s(We){return We.toUpperCase()}function o(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,Ee){var et=We;if(Ee)for(var ft in Ee)et[ft]=Ee[ft];return et}function c(We){var Ee="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Tt="[\\:\\/\\?\\#\\[\\]\\@]",Dt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Gt=r(Tt,Dt),Xt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ht=We?"[\\uE000-\\uF8FF]":"[]",jt=r(Ee,et,"[\\-\\.\\_\\~]",Xt);i(Ee+r(Ee,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(jt,Dt,"[\\:]"))+"*");var tn=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),Pn=i(tn+"\\."+tn+"\\."+tn+"\\."+tn),Wt=i(ft+"{1,4}"),Zt=i(i(Wt+"\\:"+Wt)+"|"+Pn),En=i(i(Wt+"\\:")+"{6}"+Zt),Tn=i("\\:\\:"+i(Wt+"\\:")+"{5}"+Zt),qn=i(i(Wt)+"?\\:\\:"+i(Wt+"\\:")+"{4}"+Zt),Ar=i(i(i(Wt+"\\:")+"{0,1}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{3}"+Zt),Vr=i(i(i(Wt+"\\:")+"{0,2}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{2}"+Zt),Kr=i(i(i(Wt+"\\:")+"{0,3}"+Wt)+"?\\:\\:"+Wt+"\\:"+Zt),Ir=i(i(i(Wt+"\\:")+"{0,4}"+Wt)+"?\\:\\:"+Zt),$n=i(i(i(Wt+"\\:")+"{0,5}"+Wt)+"?\\:\\:"+Wt),Jr=i(i(i(Wt+"\\:")+"{0,6}"+Wt)+"?\\:\\:"),Ki=i([En,Tn,qn,Ar,Vr,Kr,Ir,$n,Jr].join("|")),C=i(i(jt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(jt,Dt,"[\\:]")+"+"),i(i(it+"|"+r(jt,Dt))+"*");var T=i(it+"|"+r(jt,Dt,"[\\:\\@]"));return i(i(it+"|"+r(jt,Dt,"[\\@]"))+"+"),i(i(T+"|"+r("[\\/\\?]",Ht))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ee,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",jt,Dt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",jt,Dt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",jt,Dt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",jt,Dt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]",Ht),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",jt,Dt),"g"),UNRESERVED:new RegExp(jt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",jt,Gt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+Pn+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Ki+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+C+")")+"?\\]?$")}}var h=c(!1),p=c(!0),m=function(){function We(Ee,et){var ft=[],it=!0,Tt=!1,Dt=void 0;try{for(var Gt=Ee[Symbol.iterator](),Xt;!(it=(Xt=Gt.next()).done)&&(ft.push(Xt.value),!(et&&ft.length===et));it=!0);}catch(Ht){Tt=!0,Dt=Ht}finally{try{!it&&Gt.return&&Gt.return()}finally{if(Tt)throw Dt}}return ft}return function(Ee,et){if(Array.isArray(Ee))return Ee;if(Symbol.iterator in Object(Ee))return We(Ee,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ee=0,et=Array(We.length);Ee<We.length;Ee++)et[Ee]=We[Ee];return et}else return Array.from(We)},v=2147483647,w=36,E=1,b=26,x=38,A=700,I=72,M=128,D="-",F=/^xn--/,Z=/[^\0-\x7E]/,X=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=w-E,ce=Math.floor,re=String.fromCharCode;function ue(We){throw new RangeError(U[We])}function me(We,Ee){for(var et=[],ft=We.length;ft--;)et[ft]=Ee(We[ft]);return et}function be(We,Ee){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(X,".");var it=We.split("."),Tt=me(it,Ee).join(".");return ft+Tt}function he(We){for(var Ee=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Tt=We.charCodeAt(et++);(Tt&64512)==56320?Ee.push(((it&1023)<<10)+(Tt&1023)+65536):(Ee.push(it),et--)}else Ee.push(it)}return Ee}var fe=function(Ee){return String.fromCodePoint.apply(String,y(Ee))},Oe=function(Ee){return Ee-48<10?Ee-22:Ee-65<26?Ee-65:Ee-97<26?Ee-97:w},k=function(Ee,et){return Ee+22+75*(Ee<26)-((et!=0)<<5)},ie=function(Ee,et,ft){var it=0;for(Ee=ft?ce(Ee/A):Ee>>1,Ee+=ce(Ee/et);Ee>J*b>>1;it+=w)Ee=ce(Ee/J);return ce(it+(J+1)*Ee/(Ee+x))},ge=function(Ee){var et=[],ft=Ee.length,it=0,Tt=M,Dt=I,Gt=Ee.lastIndexOf(D);Gt<0&&(Gt=0);for(var Xt=0;Xt<Gt;++Xt)Ee.charCodeAt(Xt)>=128&&ue("not-basic"),et.push(Ee.charCodeAt(Xt));for(var Ht=Gt>0?Gt+1:0;Ht<ft;){for(var jt=it,tn=1,Pn=w;;Pn+=w){Ht>=ft&&ue("invalid-input");var Wt=Oe(Ee.charCodeAt(Ht++));(Wt>=w||Wt>ce((v-it)/tn))&&ue("overflow"),it+=Wt*tn;var Zt=Pn<=Dt?E:Pn>=Dt+b?b:Pn-Dt;if(Wt<Zt)break;var En=w-Zt;tn>ce(v/En)&&ue("overflow"),tn*=En}var Tn=et.length+1;Dt=ie(it-jt,Tn,jt==0),ce(it/Tn)>v-Tt&&ue("overflow"),Tt+=ce(it/Tn),it%=Tn,et.splice(it++,0,Tt)}return String.fromCodePoint.apply(String,et)},H=function(Ee){var et=[];Ee=he(Ee);var ft=Ee.length,it=M,Tt=0,Dt=I,Gt=!0,Xt=!1,Ht=void 0;try{for(var jt=Ee[Symbol.iterator](),tn;!(Gt=(tn=jt.next()).done);Gt=!0){var Pn=tn.value;Pn<128&&et.push(re(Pn))}}catch(Pe){Xt=!0,Ht=Pe}finally{try{!Gt&&jt.return&&jt.return()}finally{if(Xt)throw Ht}}var Wt=et.length,Zt=Wt;for(Wt&&et.push(D);Zt<ft;){var En=v,Tn=!0,qn=!1,Ar=void 0;try{for(var Vr=Ee[Symbol.iterator](),Kr;!(Tn=(Kr=Vr.next()).done);Tn=!0){var Ir=Kr.value;Ir>=it&&Ir<En&&(En=Ir)}}catch(Pe){qn=!0,Ar=Pe}finally{try{!Tn&&Vr.return&&Vr.return()}finally{if(qn)throw Ar}}var $n=Zt+1;En-it>ce((v-Tt)/$n)&&ue("overflow"),Tt+=(En-it)*$n,it=En;var Jr=!0,Ki=!1,C=void 0;try{for(var T=Ee[Symbol.iterator](),R;!(Jr=(R=T.next()).done);Jr=!0){var N=R.value;if(N<it&&++Tt>v&&ue("overflow"),N==it){for(var G=Tt,oe=w;;oe+=w){var _e=oe<=Dt?E:oe>=Dt+b?b:oe-Dt;if(G<_e)break;var Le=G-_e,xe=w-_e;et.push(re(k(_e+Le%xe,0))),G=ce(Le/xe)}et.push(re(k(G,0))),Dt=ie(Tt,$n,Zt==Wt),Tt=0,++Zt}}}catch(Pe){Ki=!0,C=Pe}finally{try{!Jr&&T.return&&T.return()}finally{if(Ki)throw C}}++Tt,++it}return et.join("")},Y=function(Ee){return be(Ee,function(et){return F.test(et)?ge(et.slice(4).toLowerCase()):et})},pe=function(Ee){return be(Ee,function(et){return Z.test(et)?"xn--"+H(et):et})},Ae={version:"2.1.0",ucs2:{decode:he,encode:fe},decode:ge,encode:H,toASCII:pe,toUnicode:Y},Je={};function Re(We){var Ee=We.charCodeAt(0),et=void 0;return Ee<16?et="%0"+Ee.toString(16).toUpperCase():Ee<128?et="%"+Ee.toString(16).toUpperCase():Ee<2048?et="%"+(Ee>>6|192).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase():et="%"+(Ee>>12|224).toString(16).toUpperCase()+"%"+(Ee>>6&63|128).toString(16).toUpperCase()+"%"+(Ee&63|128).toString(16).toUpperCase(),et}function Fe(We){for(var Ee="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ee+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Tt=parseInt(We.substr(et+4,2),16);Ee+=String.fromCharCode((it&31)<<6|Tt&63)}else Ee+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var Dt=parseInt(We.substr(et+4,2),16),Gt=parseInt(We.substr(et+7,2),16);Ee+=String.fromCharCode((it&15)<<12|(Dt&63)<<6|Gt&63)}else Ee+=We.substr(et,9);et+=9}else Ee+=We.substr(et,3),et+=3}return Ee}function Xe(We,Ee){function et(ft){var it=Fe(ft);return it.match(Ee.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_USERINFO,Re).replace(Ee.PCT_ENCODED,s)),We.host!==void 0&&(We.host=String(We.host).replace(Ee.PCT_ENCODED,et).toLowerCase().replace(Ee.NOT_HOST,Re).replace(Ee.PCT_ENCODED,s)),We.path!==void 0&&(We.path=String(We.path).replace(Ee.PCT_ENCODED,et).replace(We.scheme?Ee.NOT_PATH:Ee.NOT_PATH_NOSCHEME,Re).replace(Ee.PCT_ENCODED,s)),We.query!==void 0&&(We.query=String(We.query).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_QUERY,Re).replace(Ee.PCT_ENCODED,s)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ee.PCT_ENCODED,et).replace(Ee.NOT_FRAGMENT,Re).replace(Ee.PCT_ENCODED,s)),We}function se(We){return We.replace(/^0*(.*)/,"$1")||"0"}function z(We,Ee){var et=We.match(Ee.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(se).join("."):We}function $(We,Ee){var et=We.match(Ee.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Tt=ft[2];if(it){for(var Dt=it.toLowerCase().split("::").reverse(),Gt=m(Dt,2),Xt=Gt[0],Ht=Gt[1],jt=Ht?Ht.split(":").map(se):[],tn=Xt.split(":").map(se),Pn=Ee.IPV4ADDRESS.test(tn[tn.length-1]),Wt=Pn?7:8,Zt=tn.length-Wt,En=Array(Wt),Tn=0;Tn<Wt;++Tn)En[Tn]=jt[Tn]||tn[Zt+Tn]||"";Pn&&(En[Wt-1]=z(En[Wt-1],Ee));var qn=En.reduce(function($n,Jr,Ki){if(!Jr||Jr==="0"){var C=$n[$n.length-1];C&&C.index+C.length===Ki?C.length++:$n.push({index:Ki,length:1})}return $n},[]),Ar=qn.sort(function($n,Jr){return Jr.length-$n.length})[0],Vr=void 0;if(Ar&&Ar.length>1){var Kr=En.slice(0,Ar.index),Ir=En.slice(Ar.index+Ar.length);Vr=Kr.join(":")+"::"+Ir.join(":")}else Vr=En.join(":");return Tt&&(Vr+="%"+Tt),Vr}else return We}var ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,W="".match(/(){0}/)[1]===void 0;function de(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ee.iri!==!1?p:h;Ee.reference==="suffix"&&(We=(Ee.scheme?Ee.scheme+":":"")+"//"+We);var it=We.match(ae);if(it){W?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(z(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ee.reference&&Ee.reference!=="suffix"&&Ee.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ee.reference+" reference.");var Tt=Je[(Ee.scheme||et.scheme||"").toLowerCase()];if(!Ee.unicodeSupport&&(!Tt||!Tt.unicodeSupport)){if(et.host&&(Ee.domainHost||Tt&&Tt.domainHost))try{et.host=Ae.toASCII(et.host.replace(ft.PCT_ENCODED,Fe).toLowerCase())}catch(Dt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Dt}Xe(et,h)}else Xe(et,ft);Tt&&Tt.parse&&Tt.parse(et,Ee)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ee){var et=Ee.iri!==!1?p:h,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(z(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Tt,Dt){return"["+Tt+(Dt?"%25"+Dt:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Te=/^\/\.(\/|$)/,Ne=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ee=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Te))We=We.replace(Te,"/");else if(We.match(Ne))We=We.replace(Ne,"/"),Ee.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ee.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ee.join("")}function gt(We){var Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ee.iri?p:h,ft=[],it=Je[(Ee.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ee),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ee.domainHost||it&&it.domainHost)try{We.host=Ee.iri?Ae.toUnicode(We.host):Ae.toASCII(We.host.replace(et.PCT_ENCODED,Fe).toLowerCase())}catch(Gt){We.error=We.error||"Host's domain name can not be converted to "+(Ee.iri?"Unicode":"ASCII")+" via punycode: "+Gt}}Xe(We,et),Ee.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Tt=ye(We,Ee);if(Tt!==void 0&&(Ee.reference!=="suffix"&&ft.push("//"),ft.push(Tt),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var Dt=We.path;!Ee.absolutePath&&(!it||!it.absolutePath)&&(Dt=nt(Dt)),Tt===void 0&&(Dt=Dt.replace(/^\/\//,"/%2F")),ft.push(Dt)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function qt(We,Ee){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=de(gt(We,et),et),Ee=de(gt(Ee,et),et)),et=et||{},!et.tolerant&&Ee.scheme?(it.scheme=Ee.scheme,it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.userinfo!==void 0||Ee.host!==void 0||Ee.port!==void 0?(it.userinfo=Ee.userinfo,it.host=Ee.host,it.port=Ee.port,it.path=nt(Ee.path||""),it.query=Ee.query):(Ee.path?(Ee.path.charAt(0)==="/"?it.path=nt(Ee.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ee.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ee.path:it.path=Ee.path,it.path=nt(it.path)),it.query=Ee.query):(it.path=We.path,Ee.query!==void 0?it.query=Ee.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ee.fragment,it}function Se(We,Ee,et){var ft=l({scheme:"null"},et);return gt(qt(de(We,ft),de(Ee,ft),ft,!0),ft)}function Be(We,Ee){return typeof We=="string"?We=gt(de(We,Ee),Ee):a(We)==="object"&&(We=de(gt(We,Ee),Ee)),We}function ee(We,Ee,et){return typeof We=="string"?We=gt(de(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ee=="string"?Ee=gt(de(Ee,et),et):a(Ee)==="object"&&(Ee=gt(Ee,et)),We===Ee}function q(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.ESCAPE:p.ESCAPE,Re)}function K(We,Ee){return We&&We.toString().replace(!Ee||!Ee.iri?h.PCT_ENCODED:p.PCT_ENCODED,Fe)}var V={scheme:"http",domainHost:!0,parse:function(Ee,et){return Ee.host||(Ee.error=Ee.error||"HTTP URIs must have a host."),Ee},serialize:function(Ee,et){var ft=String(Ee.scheme).toLowerCase()==="https";return(Ee.port===(ft?443:80)||Ee.port==="")&&(Ee.port=void 0),Ee.path||(Ee.path="/"),Ee}},je={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function Ze(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ee,et){var ft=Ee;return ft.secure=Ze(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ee,et){if((Ee.port===(Ze(Ee)?443:80)||Ee.port==="")&&(Ee.port=void 0),typeof Ee.secure=="boolean"&&(Ee.scheme=Ee.secure?"wss":"ws",Ee.secure=void 0),Ee.resourceName){var ft=Ee.resourceName.split("?"),it=m(ft,2),Tt=it[0],Dt=it[1];Ee.path=Tt&&Tt!=="/"?Tt:void 0,Ee.query=Dt,Ee.resourceName=void 0}return Ee.fragment=void 0,Ee}},Rt={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},It={},Nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Pt="[0-9A-Fa-f]",zt=i(i("%[EFef]"+Pt+"%"+Pt+Pt+"%"+Pt+Pt)+"|"+i("%[89A-Fa-f]"+Pt+"%"+Pt+Pt)+"|"+i("%"+Pt+Pt)),Cr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",dn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hn=r(dn,'[\\"\\\\]'),gr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",un=new RegExp(Nt,"g"),ln=new RegExp(zt,"g"),Ln=new RegExp(r("[^]",Cr,"[\\.]",'[\\"]',hn),"g"),ur=new RegExp(r("[^]",Nt,gr),"g"),Ie=ur;function qe(We){var Ee=Fe(We);return Ee.match(un)?Ee:We}var bt={scheme:"mailto",parse:function(Ee,et){var ft=Ee,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Tt=!1,Dt={},Gt=ft.query.split("&"),Xt=0,Ht=Gt.length;Xt<Ht;++Xt){var jt=Gt[Xt].split("=");switch(jt[0]){case"to":for(var tn=jt[1].split(","),Pn=0,Wt=tn.length;Pn<Wt;++Pn)it.push(tn[Pn]);break;case"subject":ft.subject=K(jt[1],et);break;case"body":ft.body=K(jt[1],et);break;default:Tt=!0,Dt[K(jt[0],et)]=K(jt[1],et);break}}Tt&&(ft.headers=Dt)}ft.query=void 0;for(var Zt=0,En=it.length;Zt<En;++Zt){var Tn=it[Zt].split("@");if(Tn[0]=K(Tn[0]),et.unicodeSupport)Tn[1]=K(Tn[1],et).toLowerCase();else try{Tn[1]=Ae.toASCII(K(Tn[1],et).toLowerCase())}catch(qn){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+qn}it[Zt]=Tn.join("@")}return ft},serialize:function(Ee,et){var ft=Ee,it=o(Ee.to);if(it){for(var Tt=0,Dt=it.length;Tt<Dt;++Tt){var Gt=String(it[Tt]),Xt=Gt.lastIndexOf("@"),Ht=Gt.slice(0,Xt).replace(ln,qe).replace(ln,s).replace(Ln,Re),jt=Gt.slice(Xt+1);try{jt=et.iri?Ae.toUnicode(jt):Ae.toASCII(K(jt,et).toLowerCase())}catch(Zt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Zt}it[Tt]=Ht+"@"+jt}ft.path=it.join(",")}var tn=Ee.headers=Ee.headers||{};Ee.subject&&(tn.subject=Ee.subject),Ee.body&&(tn.body=Ee.body);var Pn=[];for(var Wt in tn)tn[Wt]!==It[Wt]&&Pn.push(Wt.replace(ln,qe).replace(ln,s).replace(ur,Re)+"="+tn[Wt].replace(ln,qe).replace(ln,s).replace(Ie,Re));return Pn.length&&(ft.query=Pn.join("&")),ft}},Et=/^([^\:]+)\:(.*)/,Mt={scheme:"urn",parse:function(Ee,et){var ft=Ee.path&&Ee.path.match(Et),it=Ee;if(ft){var Tt=et.scheme||it.scheme||"urn",Dt=ft[1].toLowerCase(),Gt=ft[2],Xt=Tt+":"+(et.nid||Dt),Ht=Je[Xt];it.nid=Dt,it.nss=Gt,it.path=void 0,Ht&&(it=Ht.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ee,et){var ft=et.scheme||Ee.scheme||"urn",it=Ee.nid,Tt=ft+":"+(et.nid||it),Dt=Je[Tt];Dt&&(Ee=Dt.serialize(Ee,et));var Gt=Ee,Xt=Ee.nss;return Gt.path=(it||et.nid)+":"+Xt,Gt}},Hn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ee,et){var ft=Ee;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(Hn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ee,et){var ft=Ee;return ft.nss=(Ee.uuid||"").toLowerCase(),ft}};Je[V.scheme]=V,Je[je.scheme]=je,Je[ke.scheme]=ke,Je[Rt.scheme]=Rt,Je[bt.scheme]=bt,Je[Mt.scheme]=Mt,Je[Jn.scheme]=Jn,n.SCHEMES=Je,n.pctEncChar=Re,n.pctDecChars=Fe,n.parse=de,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=qt,n.resolve=Se,n.normalize=Be,n.equal=ee,n.escapeComponent=q,n.unescapeComponent=K,Object.defineProperty(n,"__esModule",{value:!0})})}(Dg,Dg.exports)),Dg.exports}var q$;function HAe(){if(q$)return Uv;q$=1,Object.defineProperty(Uv,"__esModule",{value:!0});const t=zAe();return t.code='require("ajv/dist/runtime/uri").default',Uv.default=t,Uv}var z$;function VAe(){return z$||(z$=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Bm();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var n=In();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=ZP(),i=JP(),a=v7(),s=YP(),o=In(),l=Ow(),c=O0(),h=Kn(),p=BAe,m=HAe(),y=(k,ie)=>new RegExp(k,ie);y.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},x=200;function A(k){var ie,ge,H,Y,pe,Ae,Je,Re,Fe,Xe,se,z,$,ae,W,de,ye,He,Te,Ne,tt,nt,gt,qt,Se;const Be=k.strict,ee=(ie=k.code)===null||ie===void 0?void 0:ie.optimize,q=ee===!0||ee===void 0?1:ee||0,K=(H=(ge=k.code)===null||ge===void 0?void 0:ge.regExp)!==null&&H!==void 0?H:y,V=(Y=k.uriResolver)!==null&&Y!==void 0?Y:m.default;return{strictSchema:(Ae=(pe=k.strictSchema)!==null&&pe!==void 0?pe:Be)!==null&&Ae!==void 0?Ae:!0,strictNumbers:(Re=(Je=k.strictNumbers)!==null&&Je!==void 0?Je:Be)!==null&&Re!==void 0?Re:!0,strictTypes:(Xe=(Fe=k.strictTypes)!==null&&Fe!==void 0?Fe:Be)!==null&&Xe!==void 0?Xe:"log",strictTuples:(z=(se=k.strictTuples)!==null&&se!==void 0?se:Be)!==null&&z!==void 0?z:"log",strictRequired:(ae=($=k.strictRequired)!==null&&$!==void 0?$:Be)!==null&&ae!==void 0?ae:!1,code:k.code?{...k.code,optimize:q,regExp:K}:{optimize:q,regExp:K},loopRequired:(W=k.loopRequired)!==null&&W!==void 0?W:x,loopEnum:(de=k.loopEnum)!==null&&de!==void 0?de:x,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Te=k.inlineRefs)!==null&&Te!==void 0?Te:!0,schemaId:(Ne=k.schemaId)!==null&&Ne!==void 0?Ne:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(qt=k.unicodeRegExp)!==null&&qt!==void 0?qt:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:V}}class I{constructor(ie={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ie=this.opts={...ie,...A(ie)};const{es5:ge,lines:H}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:w,es5:ge,lines:H}),this.logger=ce(ie.logger);const Y=ie.validateFormats;ie.validateFormats=!1,this.RULES=(0,a.getRules)(),M.call(this,E,ie,"NOT SUPPORTED"),M.call(this,b,ie,"DEPRECATED","warn"),this._metaOpts=U.call(this),ie.formats&&Z.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ie.keywords&&X.call(this,ie.keywords),typeof ie.meta=="object"&&this.addMetaSchema(ie.meta),F.call(this),ie.validateFormats=Y}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ie,meta:ge,schemaId:H}=this.opts;let Y=p;H==="id"&&(Y={...p},Y.id=Y.$id,delete Y.$id),ge&&ie&&this.addMetaSchema(Y,Y[H],!1)}defaultMeta(){const{meta:ie,schemaId:ge}=this.opts;return this.opts.defaultMeta=typeof ie=="object"?ie[ge]||ie:void 0}validate(ie,ge){let H;if(typeof ie=="string"){if(H=this.getSchema(ie),!H)throw new Error(`no schema with key or ref "${ie}"`)}else H=this.compile(ie);const Y=H(ge);return"$async"in H||(this.errors=H.errors),Y}compile(ie,ge){const H=this._addSchema(ie,ge);return H.validate||this._compileSchemaEnv(H)}compileAsync(ie,ge){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:H}=this.opts;return Y.call(this,ie,ge);async function Y(Xe,se){await pe.call(this,Xe.$schema);const z=this._addSchema(Xe,se);return z.validate||Ae.call(this,z)}async function pe(Xe){Xe&&!this.getSchema(Xe)&&await Y.call(this,{$ref:Xe},!0)}async function Ae(Xe){try{return this._compileSchemaEnv(Xe)}catch(se){if(!(se instanceof i.default))throw se;return Je.call(this,se),await Re.call(this,se.missingSchema),Ae.call(this,Xe)}}function Je({missingSchema:Xe,missingRef:se}){if(this.refs[Xe])throw new Error(`AnySchema ${Xe} is loaded but ${se} cannot be resolved`)}async function Re(Xe){const se=await Fe.call(this,Xe);this.refs[Xe]||await pe.call(this,se.$schema),this.refs[Xe]||this.addSchema(se,Xe,ge)}async function Fe(Xe){const se=this._loading[Xe];if(se)return se;try{return await(this._loading[Xe]=H(Xe))}finally{delete this._loading[Xe]}}}addSchema(ie,ge,H,Y=this.opts.validateSchema){if(Array.isArray(ie)){for(const Ae of ie)this.addSchema(Ae,void 0,H,Y);return this}let pe;if(typeof ie=="object"){const{schemaId:Ae}=this.opts;if(pe=ie[Ae],pe!==void 0&&typeof pe!="string")throw new Error(`schema ${Ae} must be string`)}return ge=(0,l.normalizeId)(ge||pe),this._checkUnique(ge),this.schemas[ge]=this._addSchema(ie,H,ge,Y,!0),this}addMetaSchema(ie,ge,H=this.opts.validateSchema){return this.addSchema(ie,ge,!0,H),this}validateSchema(ie,ge){if(typeof ie=="boolean")return!0;let H;if(H=ie.$schema,H!==void 0&&typeof H!="string")throw new Error("$schema must be a string");if(H=H||this.opts.defaultMeta||this.defaultMeta(),!H)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const Y=this.validate(H,ie);if(!Y&&ge){const pe="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(pe);else throw new Error(pe)}return Y}getSchema(ie){let ge;for(;typeof(ge=D.call(this,ie))=="string";)ie=ge;if(ge===void 0){const{schemaId:H}=this.opts,Y=new s.SchemaEnv({schema:{},schemaId:H});if(ge=s.resolveSchema.call(this,Y,ie),!ge)return;this.refs[ie]=ge}return ge.validate||this._compileSchemaEnv(ge)}removeSchema(ie){if(ie instanceof RegExp)return this._removeAllSchemas(this.schemas,ie),this._removeAllSchemas(this.refs,ie),this;switch(typeof ie){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ge=D.call(this,ie);return typeof ge=="object"&&this._cache.delete(ge.schema),delete this.schemas[ie],delete this.refs[ie],this}case"object":{const ge=ie;this._cache.delete(ge);let H=ie[this.opts.schemaId];return H&&(H=(0,l.normalizeId)(H),delete this.schemas[H],delete this.refs[H]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ie){for(const ge of ie)this.addKeyword(ge);return this}addKeyword(ie,ge){let H;if(typeof ie=="string")H=ie,typeof ge=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ge.keyword=H);else if(typeof ie=="object"&&ge===void 0){if(ge=ie,H=ge.keyword,Array.isArray(H)&&!H.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ue.call(this,H,ge),!ge)return(0,h.eachItem)(H,pe=>me.call(this,pe)),this;he.call(this,ge);const Y={...ge,type:(0,c.getJSONTypes)(ge.type),schemaType:(0,c.getJSONTypes)(ge.schemaType)};return(0,h.eachItem)(H,Y.type.length===0?pe=>me.call(this,pe,Y):pe=>Y.type.forEach(Ae=>me.call(this,pe,Y,Ae))),this}getKeyword(ie){const ge=this.RULES.all[ie];return typeof ge=="object"?ge.definition:!!ge}removeKeyword(ie){const{RULES:ge}=this;delete ge.keywords[ie],delete ge.all[ie];for(const H of ge.rules){const Y=H.rules.findIndex(pe=>pe.keyword===ie);Y>=0&&H.rules.splice(Y,1)}return this}addFormat(ie,ge){return typeof ge=="string"&&(ge=new RegExp(ge)),this.formats[ie]=ge,this}errorsText(ie=this.errors,{separator:ge=", ",dataVar:H="data"}={}){return!ie||ie.length===0?"No errors":ie.map(Y=>`${H}${Y.instancePath} ${Y.message}`).reduce((Y,pe)=>Y+ge+pe)}$dataMetaSchema(ie,ge){const H=this.RULES.all;ie=JSON.parse(JSON.stringify(ie));for(const Y of ge){const pe=Y.split("/").slice(1);let Ae=ie;for(const Je of pe)Ae=Ae[Je];for(const Je in H){const Re=H[Je];if(typeof Re!="object")continue;const{$data:Fe}=Re.definition,Xe=Ae[Je];Fe&&Xe&&(Ae[Je]=Oe(Xe))}}return ie}_removeAllSchemas(ie,ge){for(const H in ie){const Y=ie[H];(!ge||ge.test(H))&&(typeof Y=="string"?delete ie[H]:Y&&!Y.meta&&(this._cache.delete(Y.schema),delete ie[H]))}}_addSchema(ie,ge,H,Y=this.opts.validateSchema,pe=this.opts.addUsedSchema){let Ae;const{schemaId:Je}=this.opts;if(typeof ie=="object")Ae=ie[Je];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ie!="boolean")throw new Error("schema must be object or boolean")}let Re=this._cache.get(ie);if(Re!==void 0)return Re;H=(0,l.normalizeId)(Ae||H);const Fe=l.getSchemaRefs.call(this,ie,H);return Re=new s.SchemaEnv({schema:ie,schemaId:Je,meta:ge,baseId:H,localRefs:Fe}),this._cache.set(Re.schema,Re),pe&&!H.startsWith("#")&&(H&&this._checkUnique(H),this.refs[H]=Re),Y&&this.validateSchema(ie,!0),Re}_checkUnique(ie){if(this.schemas[ie]||this.refs[ie])throw new Error(`schema with key or id "${ie}" already exists`)}_compileSchemaEnv(ie){if(ie.meta?this._compileMetaSchema(ie):s.compileSchema.call(this,ie),!ie.validate)throw new Error("ajv implementation error");return ie.validate}_compileMetaSchema(ie){const ge=this.opts;this.opts=this._metaOpts;try{s.compileSchema.call(this,ie)}finally{this.opts=ge}}}I.ValidationError=r.default,I.MissingRefError=i.default,t.default=I;function M(k,ie,ge,H="error"){for(const Y in k){const pe=Y;pe in ie&&this.logger[H](`${ge}: option ${Y}. ${k[pe]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function F(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ie in k)this.addSchema(k[ie],ie)}function Z(){for(const k in this.opts.formats){const ie=this.opts.formats[k];ie&&this.addFormat(k,ie)}}function X(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ie in k){const ge=k[ie];ge.keyword||(ge.keyword=ie),this.addKeyword(ge)}}function U(){const k={...this.opts};for(const ie of v)delete k[ie];return k}const J={log(){},warn(){},error(){}};function ce(k){if(k===!1)return J;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const re=/^[a-z_$][a-z0-9_$:-]*$/i;function ue(k,ie){const{RULES:ge}=this;if((0,h.eachItem)(k,H=>{if(ge.keywords[H])throw new Error(`Keyword ${H} is already defined`);if(!re.test(H))throw new Error(`Keyword ${H} has invalid name`)}),!!ie&&ie.$data&&!("code"in ie||"validate"in ie))throw new Error('$data keyword must have "code" or "validate" function')}function me(k,ie,ge){var H;const Y=ie==null?void 0:ie.post;if(ge&&Y)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:pe}=this;let Ae=Y?pe.post:pe.rules.find(({type:Re})=>Re===ge);if(Ae||(Ae={type:ge,rules:[]},pe.rules.push(Ae)),pe.keywords[k]=!0,!ie)return;const Je={keyword:k,definition:{...ie,type:(0,c.getJSONTypes)(ie.type),schemaType:(0,c.getJSONTypes)(ie.schemaType)}};ie.before?be.call(this,Ae,Je,ie.before):Ae.rules.push(Je),pe.all[k]=Je,(H=ie.implements)===null||H===void 0||H.forEach(Re=>this.addKeyword(Re))}function be(k,ie,ge){const H=k.rules.findIndex(Y=>Y.keyword===ge);H>=0?k.rules.splice(H,0,ie):(k.rules.push(ie),this.logger.warn(`rule ${ge} is not defined`))}function he(k){let{metaSchema:ie}=k;ie!==void 0&&(k.$data&&this.opts.$data&&(ie=Oe(ie)),k.validateSchema=this.compile(ie,!0))}const fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(k){return{anyOf:[k,fe]}}}(hC)),hC}var Bv={},qv={},zv={},H$;function KAe(){if(H$)return zv;H$=1,Object.defineProperty(zv,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return zv.default=t,zv}var ol={},V$;function GAe(){if(V$)return ol;V$=1,Object.defineProperty(ol,"__esModule",{value:!0}),ol.callRef=ol.getValidate=void 0;const t=JP(),e=Gs(),n=In(),r=Au(),i=YP(),a=Kn(),s={keyword:"$ref",schemaType:"string",code(c){const{gen:h,schema:p,it:m}=c,{baseId:y,schemaEnv:v,validateName:w,opts:E,self:b}=m,{root:x}=v;if((p==="#"||p==="#/")&&y===x.baseId)return I();const A=i.resolveRef.call(b,x,y,p);if(A===void 0)throw new t.default(m.opts.uriResolver,y,p);if(A instanceof i.SchemaEnv)return M(A);return D(A);function I(){if(v===x)return l(c,w,v,v.$async);const F=h.scopeValue("root",{ref:x});return l(c,(0,n._)`${F}.validate`,x,x.$async)}function M(F){const Z=o(c,F);l(c,Z,F,F.$async)}function D(F){const Z=h.scopeValue("schema",E.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),X=h.name("valid"),U=c.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:Z,errSchemaPath:p},X);c.mergeEvaluated(U),c.ok(X)}}};function o(c,h){const{gen:p}=c;return h.validate?p.scopeValue("validate",{ref:h.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:h})}.validate`}ol.getValidate=o;function l(c,h,p,m){const{gen:y,it:v}=c,{allErrors:w,schemaEnv:E,opts:b}=v,x=b.passContext?r.default.this:n.nil;m?A():I();function A(){if(!E.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,e.callValidateCode)(c,h,x)}`),D(h),w||y.assign(F,!0)},Z=>{y.if((0,n._)`!(${Z} instanceof ${v.ValidationError})`,()=>y.throw(Z)),M(Z),w||y.assign(F,!1)}),c.ok(F)}function I(){c.result((0,e.callValidateCode)(c,h,x),()=>D(h),()=>M(h))}function M(F){const Z=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Z} : ${r.default.vErrors}.concat(${Z})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(F){var Z;if(!v.opts.unevaluated)return;const X=(Z=p==null?void 0:p.validate)===null||Z===void 0?void 0:Z.evaluated;if(v.props!==!0)if(X&&!X.dynamicProps)X.props!==void 0&&(v.props=a.mergeEvaluated.props(y,X.props,v.props));else{const U=y.var("props",(0,n._)`${F}.evaluated.props`);v.props=a.mergeEvaluated.props(y,U,v.props,n.Name)}if(v.items!==!0)if(X&&!X.dynamicItems)X.items!==void 0&&(v.items=a.mergeEvaluated.items(y,X.items,v.items));else{const U=y.var("items",(0,n._)`${F}.evaluated.items`);v.items=a.mergeEvaluated.items(y,U,v.items,n.Name)}}}return ol.callRef=l,ol.default=s,ol}var K$;function WAe(){if(K$)return qv;K$=1,Object.defineProperty(qv,"__esModule",{value:!0});const t=KAe(),e=GAe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return qv.default=n,qv}var Hv={},Vv={},G$;function QAe(){if(G$)return Vv;G$=1,Object.defineProperty(Vv,"__esModule",{value:!0});const t=In(),e=t.operators,n={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},r={message:({keyword:a,schemaCode:s})=>(0,t.str)`must be ${n[a].okStr} ${s}`,params:({keyword:a,schemaCode:s})=>(0,t._)`{comparison: ${n[a].okStr}, limit: ${s}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:s,data:o,schemaCode:l}=a;a.fail$data((0,t._)`${o} ${n[s].fail} ${l} || isNaN(${o})`)}};return Vv.default=i,Vv}var Kv={},W$;function ZAe(){if(W$)return Kv;W$=1,Object.defineProperty(Kv,"__esModule",{value:!0});const t=In(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,t._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:s,it:o}=r,l=o.opts.multipleOfPrecision,c=i.let("res"),h=l?(0,t._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,t._)`${c} !== parseInt(${c})`;r.fail$data((0,t._)`(${s} === 0 || (${c} = ${a}/${s}, ${h}))`)}};return Kv.default=n,Kv}var Gv={},Wv={},Q$;function JAe(){if(Q$)return Wv;Q$=1,Object.defineProperty(Wv,"__esModule",{value:!0});function t(e){const n=e.length;let r=0,i=0,a;for(;i<n;)r++,a=e.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=e.charCodeAt(i),(a&64512)===56320&&i++);return r}return Wv.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Wv}var Z$;function YAe(){if(Z$)return Gv;Z$=1,Object.defineProperty(Gv,"__esModule",{value:!0});const t=In(),e=Kn(),n=JAe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:s}){const o=a==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${s} characters`},params:({schemaCode:a})=>(0,t._)`{limit: ${a}}`},code(a){const{keyword:s,data:o,schemaCode:l,it:c}=a,h=s==="maxLength"?t.operators.GT:t.operators.LT,p=c.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(a.gen,n.default)}(${o})`;a.fail$data((0,t._)`${p} ${h} ${l}`)}};return Gv.default=i,Gv}var Qv={},J$;function XAe(){if(J$)return Qv;J$=1,Object.defineProperty(Qv,"__esModule",{value:!0});const t=Gs(),e=In(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:a,$data:s,schema:o,schemaCode:l,it:c}=i,h=c.opts.unicodeRegExp?"u":"",p=s?(0,e._)`(new RegExp(${l}, ${h}))`:(0,t.usePattern)(i,o);i.fail$data((0,e._)`!${p}.test(${a})`)}};return Qv.default=r,Qv}var Zv={},Y$;function eRe(){if(Y$)return Zv;Y$=1,Object.defineProperty(Zv,"__esModule",{value:!0});const t=In(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:s}=r,o=i==="maxProperties"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`Object.keys(${a}).length ${o} ${s}`)}};return Zv.default=n,Zv}var Jv={},X$;function tRe(){if(X$)return Jv;X$=1,Object.defineProperty(Jv,"__esModule",{value:!0});const t=Gs(),e=In(),n=Kn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,e.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,e._)`{missingProperty: ${a}}`},code(a){const{gen:s,schema:o,schemaCode:l,data:c,$data:h,it:p}=a,{opts:m}=p;if(!h&&o.length===0)return;const y=o.length>=m.loopRequired;if(p.allErrors?v():w(),m.strictRequired){const x=a.parentSchema.properties,{definedProperties:A}=a.it;for(const I of o)if((x==null?void 0:x[I])===void 0&&!A.has(I)){const M=p.schemaEnv.baseId+p.errSchemaPath,D=`required property "${I}" is not defined at "${M}" (strictRequired)`;(0,n.checkStrictMode)(p,D,p.opts.strictRequired)}}function v(){if(y||h)a.block$data(e.nil,E);else for(const x of o)(0,t.checkReportMissingProp)(a,x)}function w(){const x=s.let("missing");if(y||h){const A=s.let("valid",!0);a.block$data(A,()=>b(x,A)),a.ok(A)}else s.if((0,t.checkMissingProp)(a,o,x)),(0,t.reportMissingProp)(a,x),s.else()}function E(){s.forOf("prop",l,x=>{a.setParams({missingProperty:x}),s.if((0,t.noPropertyInData)(s,c,x,m.ownProperties),()=>a.error())})}function b(x,A){a.setParams({missingProperty:x}),s.forOf(x,l,()=>{s.assign(A,(0,t.propertyInData)(s,c,x,m.ownProperties)),s.if((0,e.not)(A),()=>{a.error(),s.break()})},e.nil)}}};return Jv.default=i,Jv}var Yv={},e5;function nRe(){if(e5)return Yv;e5=1,Object.defineProperty(Yv,"__esModule",{value:!0});const t=In(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,t._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:s}=r,o=i==="maxItems"?t.operators.GT:t.operators.LT;r.fail$data((0,t._)`${a}.length ${o} ${s}`)}};return Yv.default=n,Yv}var Xv={},e_={},t5;function XP(){if(t5)return e_;t5=1,Object.defineProperty(e_,"__esModule",{value:!0});const t=w7();return t.code='require("ajv/dist/runtime/equal").default',e_.default=t,e_}var n5;function rRe(){if(n5)return Xv;n5=1,Object.defineProperty(Xv,"__esModule",{value:!0});const t=O0(),e=In(),n=Kn(),r=XP(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:s,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${s} are identical)`,params:({params:{i:s,j:o}})=>(0,e._)`{i: ${s}, j: ${o}}`},code(s){const{gen:o,data:l,$data:c,schema:h,parentSchema:p,schemaCode:m,it:y}=s;if(!c&&!h)return;const v=o.let("valid"),w=p.items?(0,t.getSchemaTypes)(p.items):[];s.block$data(v,E,(0,e._)`${m} === false`),s.ok(v);function E(){const I=o.let("i",(0,e._)`${l}.length`),M=o.let("j");s.setParams({i:I,j:M}),o.assign(v,!0),o.if((0,e._)`${I} > 1`,()=>(b()?x:A)(I,M))}function b(){return w.length>0&&!w.some(I=>I==="object"||I==="array")}function x(I,M){const D=o.name("item"),F=(0,t.checkDataTypes)(w,D,y.opts.strictNumbers,t.DataType.Wrong),Z=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${I}--;`,()=>{o.let(D,(0,e._)`${l}[${I}]`),o.if(F,(0,e._)`continue`),w.length>1&&o.if((0,e._)`typeof ${D} == "string"`,(0,e._)`${D} += "_"`),o.if((0,e._)`typeof ${Z}[${D}] == "number"`,()=>{o.assign(M,(0,e._)`${Z}[${D}]`),s.error(),o.assign(v,!1).break()}).code((0,e._)`${Z}[${D}] = ${I}`)})}function A(I,M){const D=(0,n.useFunc)(o,r.default),F=o.name("outer");o.label(F).for((0,e._)`;${I}--;`,()=>o.for((0,e._)`${M} = ${I}; ${M}--;`,()=>o.if((0,e._)`${D}(${l}[${I}], ${l}[${M}])`,()=>{s.error(),o.assign(v,!1).break(F)})))}}};return Xv.default=a,Xv}var t_={},r5;function iRe(){if(r5)return t_;r5=1,Object.defineProperty(t_,"__esModule",{value:!0});const t=In(),e=Kn(),n=XP(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,t._)`{allowedValue: ${a}}`},code(a){const{gen:s,data:o,$data:l,schemaCode:c,schema:h}=a;l||h&&typeof h=="object"?a.fail$data((0,t._)`!${(0,e.useFunc)(s,n.default)}(${o}, ${c})`):a.fail((0,t._)`${h} !== ${o}`)}};return t_.default=i,t_}var n_={},i5;function aRe(){if(i5)return n_;i5=1,Object.defineProperty(n_,"__esModule",{value:!0});const t=In(),e=Kn(),n=XP(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,t._)`{allowedValues: ${a}}`},code(a){const{gen:s,data:o,$data:l,schema:c,schemaCode:h,it:p}=a;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const m=c.length>=p.opts.loopEnum;let y;const v=()=>y??(y=(0,e.useFunc)(s,n.default));let w;if(m||l)w=s.let("valid"),a.block$data(w,E);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const x=s.const("vSchema",h);w=(0,t.or)(...c.map((A,I)=>b(x,I)))}a.pass(w);function E(){s.assign(w,!1),s.forOf("v",h,x=>s.if((0,t._)`${v()}(${o}, ${x})`,()=>s.assign(w,!0).break()))}function b(x,A){const I=c[A];return typeof I=="object"&&I!==null?(0,t._)`${v()}(${o}, ${x}[${A}])`:(0,t._)`${o} === ${I}`}}};return n_.default=i,n_}var a5;function sRe(){if(a5)return Hv;a5=1,Object.defineProperty(Hv,"__esModule",{value:!0});const t=QAe(),e=ZAe(),n=YAe(),r=XAe(),i=eRe(),a=tRe(),s=nRe(),o=rRe(),l=iRe(),c=aRe(),h=[t.default,e.default,n.default,r.default,i.default,a.default,s.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return Hv.default=h,Hv}var r_={},od={},s5;function b7(){if(s5)return od;s5=1,Object.defineProperty(od,"__esModule",{value:!0}),od.validateAdditionalItems=void 0;const t=In(),e=Kn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{parentSchema:s,it:o}=a,{items:l}=s;if(!Array.isArray(l)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,s){const{gen:o,schema:l,data:c,keyword:h,it:p}=a;p.items=!0;const m=o.const("len",(0,t._)`${c}.length`);if(l===!1)a.setParams({len:s.length}),a.pass((0,t._)`${m} <= ${s.length}`);else if(typeof l=="object"&&!(0,e.alwaysValidSchema)(p,l)){const v=o.var("valid",(0,t._)`${m} <= ${s.length}`);o.if((0,t.not)(v),()=>y(v)),a.ok(v)}function y(v){o.forRange("i",s.length,m,w=>{a.subschema({keyword:h,dataProp:w,dataPropType:e.Type.Num},v),p.allErrors||o.if((0,t.not)(v),()=>o.break())})}}return od.validateAdditionalItems=i,od.default=r,od}var i_={},ud={},o5;function S7(){if(o5)return ud;o5=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.validateTuple=void 0;const t=In(),e=Kn(),n=Gs(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:s,it:o}=a;if(Array.isArray(s))return i(a,"additionalItems",s);o.items=!0,!(0,e.alwaysValidSchema)(o,s)&&a.ok((0,n.validateArray)(a))}};function i(a,s,o=a.schema){const{gen:l,parentSchema:c,data:h,keyword:p,it:m}=a;w(c),m.opts.unevaluated&&o.length&&m.items!==!0&&(m.items=e.mergeEvaluated.items(l,o.length,m.items));const y=l.name("valid"),v=l.const("len",(0,t._)`${h}.length`);o.forEach((E,b)=>{(0,e.alwaysValidSchema)(m,E)||(l.if((0,t._)`${v} > ${b}`,()=>a.subschema({keyword:p,schemaProp:b,dataProp:b},y)),a.ok(y))});function w(E){const{opts:b,errSchemaPath:x}=m,A=o.length,I=A===E.minItems&&(A===E.maxItems||E[s]===!1);if(b.strictTuples&&!I){const M=`"${p}" is ${A}-tuple, but minItems or maxItems/${s} are not specified or different at path "${x}"`;(0,e.checkStrictMode)(m,M,b.strictTuples)}}}return ud.validateTuple=i,ud.default=r,ud}var u5;function oRe(){if(u5)return i_;u5=1,Object.defineProperty(i_,"__esModule",{value:!0});const t=S7(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,t.validateTuple)(n,"items")};return i_.default=e,i_}var a_={},l5;function uRe(){if(l5)return a_;l5=1,Object.defineProperty(a_,"__esModule",{value:!0});const t=In(),e=Kn(),n=Gs(),r=b7(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{schema:o,parentSchema:l,it:c}=s,{prefixItems:h}=l;c.items=!0,!(0,e.alwaysValidSchema)(c,o)&&(h?(0,r.validateAdditionalItems)(s,h):s.ok((0,n.validateArray)(s)))}};return a_.default=a,a_}var s_={},c5;function lRe(){if(c5)return s_;c5=1,Object.defineProperty(s_,"__esModule",{value:!0});const t=In(),e=Kn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:s,parentSchema:o,data:l,it:c}=i;let h,p;const{minContains:m,maxContains:y}=o;c.opts.next?(h=m===void 0?1:m,p=y):h=1;const v=a.const("len",(0,t._)`${l}.length`);if(i.setParams({min:h,max:p}),p===void 0&&h===0){(0,e.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&h>p){(0,e.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(c,s)){let A=(0,t._)`${v} >= ${h}`;p!==void 0&&(A=(0,t._)`${A} && ${v} <= ${p}`),i.pass(A);return}c.items=!0;const w=a.name("valid");p===void 0&&h===1?b(w,()=>a.if(w,()=>a.break())):h===0?(a.let(w,!0),p!==void 0&&a.if((0,t._)`${l}.length > 0`,E)):(a.let(w,!1),E()),i.result(w,()=>i.reset());function E(){const A=a.name("_valid"),I=a.let("count",0);b(A,()=>a.if(A,()=>x(I)))}function b(A,I){a.forRange("i",0,v,M=>{i.subschema({keyword:"contains",dataProp:M,dataPropType:e.Type.Num,compositeRule:!0},A),I()})}function x(A){a.code((0,t._)`${A}++`),p===void 0?a.if((0,t._)`${A} >= ${h}`,()=>a.assign(w,!0).break()):(a.if((0,t._)`${A} > ${p}`,()=>a.assign(w,!1).break()),h===1?a.assign(w,!0):a.if((0,t._)`${A} >= ${h}`,()=>a.assign(w,!0)))}}};return s_.default=r,s_}var wC={},f5;function cRe(){return f5||(f5=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=In(),n=Kn(),r=Gs();t.error={message:({params:{property:l,depsCount:c,deps:h}})=>{const p=c===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:h,missingProperty:p}})=>(0,e._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${c},
    deps: ${h}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,h]=a(l);s(l,c),o(l,h)}};function a({schema:l}){const c={},h={};for(const p in l){if(p==="__proto__")continue;const m=Array.isArray(l[p])?c:h;m[p]=l[p]}return[c,h]}function s(l,c=l.schema){const{gen:h,data:p,it:m}=l;if(Object.keys(c).length===0)return;const y=h.let("missing");for(const v in c){const w=c[v];if(w.length===0)continue;const E=(0,r.propertyInData)(h,p,v,m.opts.ownProperties);l.setParams({property:v,depsCount:w.length,deps:w.join(", ")}),m.allErrors?h.if(E,()=>{for(const b of w)(0,r.checkReportMissingProp)(l,b)}):(h.if((0,e._)`${E} && (${(0,r.checkMissingProp)(l,w,y)})`),(0,r.reportMissingProp)(l,y),h.else())}}t.validatePropertyDeps=s;function o(l,c=l.schema){const{gen:h,data:p,keyword:m,it:y}=l,v=h.name("valid");for(const w in c)(0,n.alwaysValidSchema)(y,c[w])||(h.if((0,r.propertyInData)(h,p,w,y.opts.ownProperties),()=>{const E=l.subschema({keyword:m,schemaProp:w},v);l.mergeValidEvaluated(E,v)},()=>h.var(v,!0)),l.ok(v))}t.validateSchemaDeps=o,t.default=i}(wC)),wC}var o_={},d5;function fRe(){if(d5)return o_;d5=1,Object.defineProperty(o_,"__esModule",{value:!0});const t=In(),e=Kn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:s,data:o,it:l}=i;if((0,e.alwaysValidSchema)(l,s))return;const c=a.name("valid");a.forIn("key",o,h=>{i.setParams({propertyName:h}),i.subschema({keyword:"propertyNames",data:h,dataTypes:["string"],propertyName:h,compositeRule:!0},c),a.if((0,t.not)(c),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(c)}};return o_.default=r,o_}var u_={},h5;function x7(){if(h5)return u_;h5=1,Object.defineProperty(u_,"__esModule",{value:!0});const t=Gs(),e=In(),n=Au(),r=Kn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:s})=>(0,e._)`{additionalProperty: ${s.additionalProperty}}`},code(s){const{gen:o,schema:l,parentSchema:c,data:h,errsCount:p,it:m}=s;if(!p)throw new Error("ajv implementation error");const{allErrors:y,opts:v}=m;if(m.props=!0,v.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const w=(0,t.allSchemaProperties)(c.properties),E=(0,t.allSchemaProperties)(c.patternProperties);b(),s.ok((0,e._)`${p} === ${n.default.errors}`);function b(){o.forIn("key",h,D=>{!w.length&&!E.length?I(D):o.if(x(D),()=>I(D))})}function x(D){let F;if(w.length>8){const Z=(0,r.schemaRefOrVal)(m,c.properties,"properties");F=(0,t.isOwnProperty)(o,Z,D)}else w.length?F=(0,e.or)(...w.map(Z=>(0,e._)`${D} === ${Z}`)):F=e.nil;return E.length&&(F=(0,e.or)(F,...E.map(Z=>(0,e._)`${(0,t.usePattern)(s,Z)}.test(${D})`))),(0,e.not)(F)}function A(D){o.code((0,e._)`delete ${h}[${D}]`)}function I(D){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){A(D);return}if(l===!1){s.setParams({additionalProperty:D}),s.error(),y||o.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const F=o.name("valid");v.removeAdditional==="failing"?(M(D,F,!1),o.if((0,e.not)(F),()=>{s.reset(),A(D)})):(M(D,F),y||o.if((0,e.not)(F),()=>o.break()))}}function M(D,F,Z){const X={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Z===!1&&Object.assign(X,{compositeRule:!0,createErrors:!1,allErrors:!1}),s.subschema(X,F)}}};return u_.default=a,u_}var l_={},p5;function dRe(){if(p5)return l_;p5=1,Object.defineProperty(l_,"__esModule",{value:!0});const t=Bm(),e=Gs(),n=Kn(),r=x7(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:s,schema:o,parentSchema:l,data:c,it:h}=a;h.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new t.KeywordCxt(h,r.default,"additionalProperties"));const p=(0,e.allSchemaProperties)(o);for(const E of p)h.definedProperties.add(E);h.opts.unevaluated&&p.length&&h.props!==!0&&(h.props=n.mergeEvaluated.props(s,(0,n.toHash)(p),h.props));const m=p.filter(E=>!(0,n.alwaysValidSchema)(h,o[E]));if(m.length===0)return;const y=s.name("valid");for(const E of m)v(E)?w(E):(s.if((0,e.propertyInData)(s,c,E,h.opts.ownProperties)),w(E),h.allErrors||s.else().var(y,!0),s.endIf()),a.it.definedProperties.add(E),a.ok(y);function v(E){return h.opts.useDefaults&&!h.compositeRule&&o[E].default!==void 0}function w(E){a.subschema({keyword:"properties",schemaProp:E,dataProp:E},y)}}};return l_.default=i,l_}var c_={},g5;function hRe(){if(g5)return c_;g5=1,Object.defineProperty(c_,"__esModule",{value:!0});const t=Gs(),e=In(),n=Kn(),r=Kn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:s,schema:o,data:l,parentSchema:c,it:h}=a,{opts:p}=h,m=(0,t.allSchemaProperties)(o),y=m.filter(I=>(0,n.alwaysValidSchema)(h,o[I]));if(m.length===0||y.length===m.length&&(!h.opts.unevaluated||h.props===!0))return;const v=p.strictSchema&&!p.allowMatchingProperties&&c.properties,w=s.name("valid");h.props!==!0&&!(h.props instanceof e.Name)&&(h.props=(0,r.evaluatedPropsToName)(s,h.props));const{props:E}=h;b();function b(){for(const I of m)v&&x(I),h.allErrors?A(I):(s.var(w,!0),A(I),s.if(w))}function x(I){for(const M in v)new RegExp(I).test(M)&&(0,n.checkStrictMode)(h,`property ${M} matches pattern ${I} (use allowMatchingProperties)`)}function A(I){s.forIn("key",l,M=>{s.if((0,e._)`${(0,t.usePattern)(a,I)}.test(${M})`,()=>{const D=y.includes(I);D||a.subschema({keyword:"patternProperties",schemaProp:I,dataProp:M,dataPropType:r.Type.Str},w),h.opts.unevaluated&&E!==!0?s.assign((0,e._)`${E}[${M}]`,!0):!D&&!h.allErrors&&s.if((0,e.not)(w),()=>s.break())})})}}};return c_.default=i,c_}var f_={},m5;function pRe(){if(m5)return f_;m5=1,Object.defineProperty(f_,"__esModule",{value:!0});const t=Kn(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,t.alwaysValidSchema)(a,i)){n.fail();return}const s=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},s),n.failResult(s,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return f_.default=e,f_}var d_={},y5;function gRe(){if(y5)return d_;y5=1,Object.defineProperty(d_,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Gs().validateUnion,error:{message:"must match a schema in anyOf"}};return d_.default=e,d_}var h_={},v5;function mRe(){if(v5)return h_;v5=1,Object.defineProperty(h_,"__esModule",{value:!0});const t=In(),e=Kn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:s,parentSchema:o,it:l}=i;if(!Array.isArray(s))throw new Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;const c=s,h=a.let("valid",!1),p=a.let("passing",null),m=a.name("_valid");i.setParams({passing:p}),a.block(y),i.result(h,()=>i.reset(),()=>i.error(!0));function y(){c.forEach((v,w)=>{let E;(0,e.alwaysValidSchema)(l,v)?a.var(m,!0):E=i.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},m),w>0&&a.if((0,t._)`${m} && ${h}`).assign(h,!1).assign(p,(0,t._)`[${p}, ${w}]`).else(),a.if(m,()=>{a.assign(h,!0),a.assign(p,w),E&&i.mergeEvaluated(E,t.Name)})})}}};return h_.default=r,h_}var p_={},_5;function yRe(){if(_5)return p_;_5=1,Object.defineProperty(p_,"__esModule",{value:!0});const t=Kn(),e={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const s=r.name("valid");i.forEach((o,l)=>{if((0,t.alwaysValidSchema)(a,o))return;const c=n.subschema({keyword:"allOf",schemaProp:l},s);n.ok(s),n.mergeEvaluated(c)})}};return p_.default=e,p_}var g_={},w5;function vRe(){if(w5)return g_;w5=1,Object.defineProperty(g_,"__esModule",{value:!0});const t=In(),e=Kn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,t.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,t._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:s,parentSchema:o,it:l}=a;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=i(l,"then"),h=i(l,"else");if(!c&&!h)return;const p=s.let("valid",!0),m=s.name("_valid");if(y(),a.reset(),c&&h){const w=s.let("ifClause");a.setParams({ifClause:w}),s.if(m,v("then",w),v("else",w))}else c?s.if(m,v("then")):s.if((0,t.not)(m),v("else"));a.pass(p,()=>a.error(!0));function y(){const w=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(w)}function v(w,E){return()=>{const b=a.subschema({keyword:w},m);s.assign(p,m),a.mergeValidEvaluated(b,p),E?s.assign(E,(0,t._)`${w}`):a.setParams({ifClause:w})}}}};function i(a,s){const o=a.schema[s];return o!==void 0&&!(0,e.alwaysValidSchema)(a,o)}return g_.default=r,g_}var m_={},b5;function _Re(){if(b5)return m_;b5=1,Object.defineProperty(m_,"__esModule",{value:!0});const t=Kn(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,t.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return m_.default=e,m_}var S5;function wRe(){if(S5)return r_;S5=1,Object.defineProperty(r_,"__esModule",{value:!0});const t=b7(),e=oRe(),n=S7(),r=uRe(),i=lRe(),a=cRe(),s=fRe(),o=x7(),l=dRe(),c=hRe(),h=pRe(),p=gRe(),m=mRe(),y=yRe(),v=vRe(),w=_Re();function E(b=!1){const x=[h.default,p.default,m.default,y.default,v.default,w.default,s.default,o.default,a.default,l.default,c.default];return b?x.push(e.default,r.default):x.push(t.default,n.default),x.push(i.default),x}return r_.default=E,r_}var y_={},v_={},x5;function bRe(){if(x5)return v_;x5=1,Object.defineProperty(v_,"__esModule",{value:!0});const t=In(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,t.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,t._)`{format: ${r}}`},code(r,i){const{gen:a,data:s,$data:o,schema:l,schemaCode:c,it:h}=r,{opts:p,errSchemaPath:m,schemaEnv:y,self:v}=h;if(!p.validateFormats)return;o?w():E();function w(){const b=a.scopeValue("formats",{ref:v.formats,code:p.code.formats}),x=a.const("fDef",(0,t._)`${b}[${c}]`),A=a.let("fType"),I=a.let("format");a.if((0,t._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>a.assign(A,(0,t._)`${x}.type || "string"`).assign(I,(0,t._)`${x}.validate`),()=>a.assign(A,(0,t._)`"string"`).assign(I,x)),r.fail$data((0,t.or)(M(),D()));function M(){return p.strictSchema===!1?t.nil:(0,t._)`${c} && !${I}`}function D(){const F=y.$async?(0,t._)`(${x}.async ? await ${I}(${s}) : ${I}(${s}))`:(0,t._)`${I}(${s})`,Z=(0,t._)`(typeof ${I} == "function" ? ${F} : ${I}.test(${s}))`;return(0,t._)`${I} && ${I} !== true && ${A} === ${i} && !${Z}`}}function E(){const b=v.formats[l];if(!b){M();return}if(b===!0)return;const[x,A,I]=D(b);x===i&&r.pass(F());function M(){if(p.strictSchema===!1){v.logger.warn(Z());return}throw new Error(Z());function Z(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function D(Z){const X=Z instanceof RegExp?(0,t.regexpCode)(Z):p.code.formats?(0,t._)`${p.code.formats}${(0,t.getProperty)(l)}`:void 0,U=a.scopeValue("formats",{key:l,ref:Z,code:X});return typeof Z=="object"&&!(Z instanceof RegExp)?[Z.type||"string",Z.validate,(0,t._)`${U}.validate`]:["string",Z,U]}function F(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!y.$async)throw new Error("async format in sync schema");return(0,t._)`await ${I}(${s})`}return typeof A=="function"?(0,t._)`${I}(${s})`:(0,t._)`${I}.test(${s})`}}}};return v_.default=n,v_}var E5;function SRe(){if(E5)return y_;E5=1,Object.defineProperty(y_,"__esModule",{value:!0});const e=[bRe().default];return y_.default=e,y_}var Ic={},T5;function xRe(){return T5||(T5=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.contentVocabulary=Ic.metadataVocabulary=void 0,Ic.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Ic.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Ic}var C5;function ERe(){if(C5)return Bv;C5=1,Object.defineProperty(Bv,"__esModule",{value:!0});const t=WAe(),e=sRe(),n=wRe(),r=SRe(),i=xRe(),a=[t.default,e.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return Bv.default=a,Bv}var __={},_g={},A5;function TRe(){if(A5)return _g;A5=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(_g.DiscrError=t={})),_g}var R5;function CRe(){if(R5)return __;R5=1,Object.defineProperty(__,"__esModule",{value:!0});const t=In(),e=TRe(),n=YP(),r=Kn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:o}})=>s===e.DiscrError.Tag?`tag "${o}" must be string`:`value of tag "${o}" must be in oneOf`,params:({params:{discrError:s,tag:o,tagName:l}})=>(0,t._)`{error: ${s}, tag: ${l}, tagValue: ${o}}`},code(s){const{gen:o,data:l,schema:c,parentSchema:h,it:p}=s,{oneOf:m}=h;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=c.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const v=o.let("valid",!1),w=o.const("tag",(0,t._)`${l}${(0,t.getProperty)(y)}`);o.if((0,t._)`typeof ${w} == "string"`,()=>E(),()=>s.error(!1,{discrError:e.DiscrError.Tag,tag:w,tagName:y})),s.ok(v);function E(){const A=x();o.if(!1);for(const I in A)o.elseIf((0,t._)`${w} === ${I}`),o.assign(v,b(A[I]));o.else(),s.error(!1,{discrError:e.DiscrError.Mapping,tag:w,tagName:y}),o.endIf()}function b(A){const I=o.name("valid"),M=s.subschema({keyword:"oneOf",schemaProp:A},I);return s.mergeEvaluated(M,t.Name),I}function x(){var A;const I={},M=F(h);let D=!0;for(let U=0;U<m.length;U++){let J=m[U];J!=null&&J.$ref&&!(0,r.schemaHasRulesButRef)(J,p.self.RULES)&&(J=n.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,J==null?void 0:J.$ref),J instanceof n.SchemaEnv&&(J=J.schema));const ce=(A=J==null?void 0:J.properties)===null||A===void 0?void 0:A[y];if(typeof ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(M||F(J)),Z(ce,U)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return I;function F({required:U}){return Array.isArray(U)&&U.includes(y)}function Z(U,J){if(U.const)X(U.const,J);else if(U.enum)for(const ce of U.enum)X(ce,J);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function X(U,J){if(typeof U!="string"||U in I)throw new Error(`discriminator: "${y}" values must be unique strings`);I[U]=J}}}};return __.default=a,__}const ARe="http://json-schema.org/draft-07/schema#",RRe="http://json-schema.org/draft-07/schema#",PRe="Core schema meta-schema",ORe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},IRe=["object","boolean"],LRe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},MRe={$schema:ARe,$id:RRe,title:PRe,definitions:ORe,type:IRe,properties:LRe,default:!0};var P5;function E7(){return P5||(P5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const n=VAe(),r=ERe(),i=CRe(),a=MRe,s=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,s):a;this.addMetaSchema(v,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=l,t.exports=e=l,t.exports.Ajv=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=Bm();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=In();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=ZP();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=JP();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(Nv,Nv.exports)),Nv.exports}var DRe=E7();const kRe=kr(DRe);var w_={exports:{}},O5;function NRe(){return O5||(O5=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const n=E7(),r=In(),i=hm(),a=Bm(),s=Um(),o=Au(),l="errorMessage",c=new n.Name("emUsed"),h={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function v(E){return{keyword:l,schemaType:["string","object"],post:!0,code(b){const{gen:x,data:A,schema:I,schemaValue:M,it:D}=b;if(D.createErrors===!1)return;const F=I,Z=r.strConcat(o.default.instancePath,D.errorPath);x.if(n._`${o.default.errors} > 0`,()=>{if(typeof F=="object"){const[H,Y]=U(F);Y&&J(Y),H&&ce(H),re(X(F))}const ge=typeof F=="string"?F:F._;ge&&ue(ge),E.keepErrors||me()});function X({properties:ge,items:H}){const Y={};if(ge){Y.props={};for(const pe in ge)Y.props[pe]=[]}if(H){Y.items={};for(let pe=0;pe<H.length;pe++)Y.items[pe]=[]}return Y}function U(ge){let H,Y;for(const pe in ge){if(pe==="properties"||pe==="items")continue;const Ae=ge[pe];if(typeof Ae=="object"){H||(H={});const Je=H[pe]={};for(const Re in Ae)Je[Re]=[]}else Y||(Y={}),Y[pe]=[]}return[H,Y]}function J(ge){const H=x.const("emErrors",n.stringify(ge)),Y=x.const("templates",Oe(ge,I));x.forOf("err",o.default.vErrors,Re=>x.if(be(Re,H),()=>x.code(n._`${H}[${Re}.keyword].push(${Re})`).assign(n._`${Re}.${c}`,!0)));const{singleError:pe}=E;if(pe){const Re=x.let("message",n._`""`),Fe=x.let("paramsErrors",n._`[]`);Ae(Xe=>{x.if(Re,()=>x.code(n._`${Re} += ${typeof pe=="string"?pe:";"}`)),x.code(n._`${Re} += ${Je(Xe)}`),x.assign(Fe,n._`${Fe}.concat(${H}[${Xe}])`)}),s.reportError(b,{message:Re,params:n._`{errors: ${Fe}}`})}else Ae(Re=>s.reportError(b,{message:Je(Re),params:n._`{errors: ${H}[${Re}]}`}));function Ae(Re){x.forIn("key",H,Fe=>x.if(n._`${H}[${Fe}].length`,()=>Re(Fe)))}function Je(Re){return n._`${Re} in ${Y} ? ${Y}[${Re}]() : ${M}[${Re}]`}}function ce(ge){const H=x.const("emErrors",n.stringify(ge)),Y=[];for(const Fe in ge)Y.push([Fe,Oe(ge[Fe],I[Fe])]);const pe=x.const("templates",x.object(...Y)),Ae=x.scopeValue("obj",{ref:h,code:n.stringify(h)}),Je=x.let("emPropParams"),Re=x.let("emParamsErrors");x.forOf("err",o.default.vErrors,Fe=>x.if(be(Fe,H),()=>{x.assign(Je,n._`${Ae}[${Fe}.keyword]`),x.assign(Re,n._`${H}[${Fe}.keyword][${Fe}.params[${Je}]]`),x.if(Re,()=>x.code(n._`${Re}.push(${Fe})`).assign(n._`${Fe}.${c}`,!0))})),x.forIn("key",H,Fe=>x.forIn("keyProp",n._`${H}[${Fe}]`,Xe=>{x.assign(Re,n._`${H}[${Fe}][${Xe}]`),x.if(n._`${Re}.length`,()=>{const se=x.const("tmpl",n._`${pe}[${Fe}] && ${pe}[${Fe}][${Xe}]`);s.reportError(b,{message:n._`${se} ? ${se}() : ${M}[${Fe}][${Xe}]`,params:n._`{errors: ${Re}}`})})}))}function re(ge){const{props:H,items:Y}=ge;if(!H&&!Y)return;const pe=n._`typeof ${A} == "object"`,Ae=n._`Array.isArray(${A})`,Je=x.let("emErrors");let Re,Fe;const Xe=x.let("templates");H&&Y?(Re=x.let("emChildKwd"),x.if(pe),x.if(Ae,()=>{se(Y,I.items),x.assign(Re,n.str`items`)},()=>{se(H,I.properties),x.assign(Re,n.str`properties`)}),Fe=n._`[${Re}]`):Y?(x.if(Ae),se(Y,I.items),Fe=n._`.items`):H&&(x.if(r.and(pe,r.not(Ae))),se(H,I.properties),Fe=n._`.properties`),x.forOf("err",o.default.vErrors,z=>he(z,Je,$=>x.code(n._`${Je}[${$}].push(${z})`).assign(n._`${z}.${c}`,!0))),x.forIn("key",Je,z=>x.if(n._`${Je}[${z}].length`,()=>{s.reportError(b,{message:n._`${z} in ${Xe} ? ${Xe}[${z}]() : ${M}${Fe}[${z}]`,params:n._`{errors: ${Je}[${z}]}`}),x.assign(n._`${o.default.vErrors}[${o.default.errors}-1].instancePath`,n._`${Z} + "/" + ${z}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),x.endIf();function se(z,$){x.assign(Je,n.stringify(z)),x.assign(Xe,Oe(z,$))}}function ue(ge){const H=x.const("emErrs",n._`[]`);x.forOf("err",o.default.vErrors,Y=>x.if(fe(Y),()=>x.code(n._`${H}.push(${Y})`).assign(n._`${Y}.${c}`,!0))),x.if(n._`${H}.length`,()=>s.reportError(b,{message:k(ge),params:n._`{errors: ${H}}`}))}function me(){const ge=x.const("emErrs",n._`[]`);x.forOf("err",o.default.vErrors,H=>x.if(n._`!${H}.${c}`,()=>x.code(n._`${ge}.push(${H})`))),x.assign(o.default.vErrors,ge).assign(o.default.errors,n._`${ge}.length`)}function be(ge,H){return r.and(n._`${ge}.keyword !== ${l}`,n._`!${ge}.${c}`,n._`${ge}.instancePath === ${Z}`,n._`${ge}.keyword in ${H}`,n._`${ge}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${ge}.schemaPath.slice(${D.errSchemaPath.length}))`)}function he(ge,H,Y){x.if(r.and(n._`${ge}.keyword !== ${l}`,n._`!${ge}.${c}`,n._`${ge}.instancePath.indexOf(${Z}) === 0`),()=>{const pe=x.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Ae=x.const("emMatches",n._`${pe}.exec(${ge}.instancePath.slice(${Z}.length))`),Je=x.const("emChild",n._`${Ae} && ${Ae}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);x.if(n._`${Je} !== undefined && ${Je} in ${H}`,()=>Y(Je))})}function fe(ge){return r.and(n._`${ge}.keyword !== ${l}`,n._`!${ge}.${c}`,r.or(n._`${ge}.instancePath === ${Z}`,r.and(n._`${ge}.instancePath.indexOf(${Z}) === 0`,n._`${ge}.instancePath[${Z}.length] === "/"`)),n._`${ge}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${ge}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Oe(ge,H){const Y=[];for(const pe in ge){const Ae=H[pe];p.test(Ae)&&Y.push([pe,ie(Ae)])}return x.object(...Y)}function k(ge){return p.test(ge)?new i._Code(i.safeStringify(ge).replace(m,(H,Y)=>`" + JSON.stringify(${a.getData(Y,D)}) + "`).replace(y,"")):n.stringify(ge)}function ie(ge){return n._`function(){return ${k(ge)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const w=(E,b={})=>{if(!E.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(E.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return E.addKeyword(v(b))};e.default=w,t.exports=w,t.exports.default=w}(w_,w_.exports)),w_.exports}var FRe=NRe();const jRe=kr(FRe);var $Re=function(t,e){return t.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),t.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),e){var a=n[i].types,s=a&&a[r.keyword];n[i]=Gz(i,e,n,r.keyword,s?[].concat(s,r.message||""):r.message)}return n},{})},URe=function(t,e,n){return n===void 0&&(n={}),function(r,i,a){try{var s=new kRe(Object.assign({},{allErrors:!0,validateSchema:!0},e));jRe(s);var o=s.compile(Object.assign({$async:n&&n.mode==="async"},t)),l=o(r);return a.shouldUseNativeValidation&&y7({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:RAe($Re(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(c){return Promise.reject(c)}}};const BRe={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"string",minLength:1}}},I5=({initialData:t,onSubmit:e,onCancel:n})=>{const{i18n:r,_:i}=si(),{handleSubmit:a,register:s,control:o,formState:{errors:l}}=Tu({defaultValues:Hd({location:{lat:0,long:0}},t),resolver:URe(BRe)}),c=a(h=>{e(h)});return Q.jsxs("form",{onSubmit:c,onReset:n,className:Or(hs.accommodationForm,hs.accommodation),"data-cy":"accommodation-form",children:[Q.jsxs("label",{children:[Q.jsx(wt,{id:"ApEC55",components:{0:Q.jsx(gde,{})}}),Q.jsx("br",{}),Q.jsx(KD,{})," ",Q.jsx(wt,{id:"BQTO6T"})," ",Q.jsx(KD,{})]}),Q.jsx(B1e,{control:o,name:"location",render:({field:h})=>Q.jsx("div",{className:Or(l.location&&hs.inputError),children:Q.jsx(_Ae,{value:h.value,onChange:h.onChange,isInitial:!t})})}),l.location&&Q.jsx("div",{className:hs.errorMessage,children:Q.jsx(wt,{id:"OjgFFJ"})}),Q.jsx("label",{htmlFor:"description",children:Q.jsx(wt,{id:"+j94GR"})}),Q.jsx("textarea",{className:Or(l.description&&hs.inputError),id:"description",placeholder:r._({id:"vJIeDW"}),...s("description")}),l.description&&Q.jsx("div",{className:hs.errorMessage,children:Q.jsx(wt,{id:"B8AaMI"})}),Q.jsxs("div",{className:hs.actions,children:[Q.jsx(pr,{type:"reset",secondary:!0,children:Q.jsx(wt,{id:"dEgA5A"})}),Q.jsx(pr,{type:"submit",primary:!0,children:Q.jsx(wt,{id:"hQRttt"})})]})]})},qRe=({location:t})=>{const e=KP();return ne.useEffect(()=>{e.flyTo(t)},[t,e]),null},zRe=t=>{const{tileServer:e}=kn(),n=ne.useMemo(()=>[t.location.lat,t.location.long],[t.location.lat,t.location.long]);return Q.jsxs(Q.Fragment,{children:[Q.jsxs(GP,{className:zA.mapContainer,attributionControl:!1,zoom:12,center:n,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[Q.jsx(QP,{url:e}),Q.jsx(WP,{position:n}),Q.jsx(qRe,{location:n})]}),Q.jsxs("div",{className:zA.description,children:[t.description," ",Q.jsx("a",{href:t.id,target:"_blank",rel:"noopener noreferrer",children:Q.jsx(SB,{})})]})]})},HRe=()=>{const t=Bs(lw),e=Ks();return ne.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const s=Al(),o=a+s,l=`${o}#accommodation`;return await t.mutateAsync({uri:o,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[r.description],location:{"@id":`${o}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}}}),await e.mutateAsync({uri:i,patch:`
          _:mutate a <${Dn.InsertDeletePatch}>;
            <${Dn.inserts}> { <${n}> <${Fl.offers}> <${l}>. }.
        `}),{uri:l}},[t,e])},VRe=()=>{const t=Ks(),e=cw();return ne.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await t.mutateAsync({uri:i,patch:`
          _:mutate a <${Dn.InsertDeletePatch}>;
            <${Dn.deletes}> { <${r}> <${Fl.offers}> <${n}>. }.
        `}),await e.mutateAsync({uri:n})},[e,t])};var bC,L5;function KRe(){if(L5)return bC;L5=1;for(var t="0123456789bcdefghjkmnpqrstuvwxyz",e={},n=0;n<t.length;n++)e[t.charAt(n)]=n;var r="auto",i=-90,a=90,s=-180,o=180,l=[0,5,7,8,11,12,13,15,16,17,18],c=function(X,U,J){if(J===r){if(typeof X=="number"||typeof U=="number")throw new Error("string notation required for auto precision.");var ce=X.split(".")[1].length,re=U.split(".")[1].length,ue=Math.max(ce,re);J=l[ue]}else J===void 0&&(J=9);for(var me=[],be=0,he=0,fe=0,Oe=a,k=i,ie=o,ge=s,H;me.length<J;)if(he%2===0?(H=(ie+ge)/2,U>H?(fe=(fe<<1)+1,ge=H):(fe=(fe<<1)+0,ie=H)):(H=(Oe+k)/2,X>H?(fe=(fe<<1)+1,k=H):(fe=(fe<<1)+0,Oe=H)),be++,he++,be===5){var Y=t[fe];me.push(Y),be=0,fe=0}return me.join("")},h=function(X,U,J){J=J||52;for(var ce=0,re=a,ue=i,me=o,be=s,he,fe=0;ce<J;)fe*=2,ce%2===0?(he=(me+be)/2,U>he?(fe+=1,be=he):me=he):(he=(re+ue)/2,X>he?(fe+=1,ue=he):re=he),ce++;return fe},p=function(X){for(var U=!0,J=a,ce=i,re=o,ue=s,me,be=0,he=0,fe=X.length;he<fe;he++){var Oe=X[he].toLowerCase();be=e[Oe];for(var k=4;k>=0;k--){var ie=be>>k&1;U?(me=(re+ue)/2,ie===1?ue=me:re=me):(me=(J+ce)/2,ie===1?ce=me:J=me),U=!U}}return[ce,ue,J,re]},m=function(X,U){U=U||52;for(var J=a,ce=i,re=o,ue=s,me=0,be=0,he=U/2,fe=0;fe<he;fe++)be=y(X,(he-fe)*2-1),me=y(X,(he-fe)*2-2),me===0?J=(J+ce)/2:ce=(J+ce)/2,be===0?re=(re+ue)/2:ue=(re+ue)/2;return[ce,ue,J,re]};function y(X,U){return X/Math.pow(2,U)&1}var v=function(X){var U=p(X),J=(U[0]+U[2])/2,ce=(U[1]+U[3])/2,re=U[2]-J,ue=U[3]-ce;return{latitude:J,longitude:ce,error:{latitude:re,longitude:ue}}},w=function(X,U){var J=m(X,U),ce=(J[0]+J[2])/2,re=(J[1]+J[3])/2,ue=J[2]-ce,me=J[3]-re;return{latitude:ce,longitude:re,error:{latitude:ue,longitude:me}}},E=function(X,U){var J=v(X),ce=J.latitude+U[0]*J.error.latitude*2,re=J.longitude+U[1]*J.error.longitude*2;return re=D(re),ce=F(ce),c(ce,re,X.length)},b=function(X,U,J){J=J||52;var ce=w(X,J),re=ce.latitude+U[0]*ce.error.latitude*2,ue=ce.longitude+U[1]*ce.error.longitude*2;return ue=D(ue),re=F(re),h(re,ue,J)},x=function(X){var U=X.length,J=v(X),ce=J.latitude,re=J.longitude,ue=J.error.latitude*2,me=J.error.longitude*2,be,he,fe=[Oe(1,0),Oe(1,1),Oe(0,1),Oe(-1,1),Oe(-1,0),Oe(-1,-1),Oe(0,-1),Oe(1,-1)];function Oe(k,ie){return be=ce+k*ue,he=re+ie*me,he=D(he),be=F(be),c(be,he,U)}return fe},A=function(X,U){U=U||52;var J=w(X,U),ce=J.latitude,re=J.longitude,ue=J.error.latitude*2,me=J.error.longitude*2,be,he,fe=[Oe(1,0),Oe(1,1),Oe(0,1),Oe(-1,1),Oe(-1,0),Oe(-1,-1),Oe(0,-1),Oe(1,-1)];function Oe(k,ie){return be=ce+k*ue,he=re+ie*me,he=D(he),be=F(be),h(be,he,U)}return fe},I=function(X,U,J,ce,re){re=re||9;for(var ue=c(X,U,re),me=c(J,ce,re),be=v(ue),he=be.error.latitude*2,fe=be.error.longitude*2,Oe=p(ue),k=p(me),ie=Math.round((k[0]-Oe[0])/he),ge=Math.round((k[1]-Oe[1])/fe),H=[],Y=0;Y<=ie;Y++)for(var pe=0;pe<=ge;pe++)H.push(E(ue,[Y,pe]));return H},M=function(X,U,J,ce,re){re=re||52;for(var ue=h(X,U,re),me=h(J,ce,re),be=w(ue,re),he=be.error.latitude*2,fe=be.error.longitude*2,Oe=m(ue,re),k=m(me,re),ie=Math.round((k[0]-Oe[0])/he),ge=Math.round((k[1]-Oe[1])/fe),H=[],Y=0;Y<=ie;Y++)for(var pe=0;pe<=ge;pe++)H.push(b(ue,[Y,pe],re));return H};function D(X){return X>o?s+X%o:X<s?o+X%o:X}function F(X){return X>a?a:X<i?i:X}var Z={ENCODE_AUTO:r,encode:c,encode_uint64:h,encode_int:h,decode:v,decode_int:w,decode_uint64:w,decode_bbox:p,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:E,neighbor_int:b,neighbors:x,neighbors_int:A,bboxes:I,bboxes_int:M};return bC=Z,bC}var GRe=KRe();const pm=kr(GRe),WRe=({actor:t,object:e,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:t},object:{type:"Document",id:e}}),QRe=t=>async e=>{const n=await nr(new URL("/inbox",t),{method:"POST",body:JSON.stringify(WRe(e)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new Us("Geoindex responded with error",n);return{...e,status:n.status}},M5=(t="")=>{const e=[];for(let n=1;n<=t.length;n++)e.push(t.substring(0,n));return e},ZRe=()=>{const{geoindexService:t}=kn(),e=Si(),{mutateAsync:n}=Ra({mutationFn:QRe(t),onSuccess:async({previousLocation:a,currentLocation:s})=>{const o=[];if(a){const l=pm.encode(a.lat,a.long,10);o.push(...M5(l))}if(s){const l=pm.encode(s.lat,s.long,10);o.push(...M5(l))}await Promise.allSettled(o.map(l=>e.invalidateQueries({queryKey:[zr.geoindex,l]})))}}),r=!!t,i=ne.useCallback(async a=>await n(a),[n]);return ne.useMemo(()=>[r,i],[r,i])},JRe=(t,e,n="en")=>{const{variables:r,quads:i,isLoading:a}=ha({query:zq,variables:ne.useMemo(()=>({person:[t],community:[e]}),[e,t]),fetch:nr});return ne.useMemo(()=>{const s=or.createLdoDataset(i);return[(r.offer??[]).map(c=>s.usingType(lw).fromSubject(c)).filter(c=>{var h,p;return((h=c==null?void 0:c.location)==null?void 0:h.lat)!==void 0&&((p=c==null?void 0:c.location)==null?void 0:p.long)!==void 0}).map(c=>{var v,w;const h=c&&or.languagesOf(c,"description"),p=((v=h==null?void 0:h[n])==null?void 0:v.values().next().value)??"",m=[c.location.lat].flat()[0]??0,y=[c.location.long].flat()[0]??0;return{id:c["@id"]??"",description:p,location:{lat:m,long:y},offeredBy:((w=c.offeredBy)==null?void 0:w["@id"])??""}}),a]},[a,n,i,r.offer])},YRe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},XRe={type:{"@id":"@type"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},ePe={schema:YRe,shape:"https://example.com/Accommodation",context:XRe},tPe=()=>{const t=df(ePe);return ne.useCallback(async({data:{id:e,...n},language:r="en"})=>{await t.mutateAsync({uri:e,subject:e,language:r,transform:i=>{n.description&&(i.description=[n.description]),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[t])},nPe=()=>{const{communityId:t}=kn(),e=di(),{i18n:n,_:r}=si(),[i,a]=ne.useState(),{personalHospexDocuments:s}=fz(e.webId??"",t),[o]=JRe(e.webId??"",t),l=HRe(),c=tPe(),h=VRe(),[p,m]=ZRe(),y=ne.useCallback(async({uri:b,type:x,previousLocation:A,currentLocation:I})=>{p&&e.webId&&await yo(m({type:x,actor:e.webId,object:b,previousLocation:A,currentLocation:I}),{pending:n._({id:"vTkuq4"}),success:{render:({data:M})=>{switch(M.status){case 201:return n._({id:"vz3tpL"});case 200:return n._({id:"f7fqUX"});case 204:return n._({id:"Z0DAcX"});default:return n._({id:"XQAIBA"})}}}})},[e.webId,p,m,r]);if(typeof e.webId!="string")return null;if(!o)return Q.jsx(ms,{children:Q.jsx(wt,{id:"Z3FXyt"})});const v=async b=>{if(!(e.webId&&(s!=null&&s[0])))throw new Error(n._({id:"bGSJ3R"}));const{uri:x}=await yo(l({personId:e.webId,data:b,hospexDocument:s[0],hospexContainer:wi(s[0])}),{pending:n._({id:"r60ENi"}),success:n._({id:"QlfR57"})});a(void 0),await y({type:"Create",uri:x,currentLocation:b.location})},w=async(b,x)=>{await yo(c({data:b}),{pending:n._({id:"xdx7Sc"}),success:n._({id:"PUl3lo"})}),a(void 0),await y({type:"Update",uri:b.id,currentLocation:b.location,previousLocation:x.location})},E=async({id:b,location:x})=>{if(!(e.webId&&(s!=null&&s[0])))throw new Error(n._({id:"bGSJ3R"}));globalThis.confirm(n._({id:"Wixo6f"}))&&(await yo(h({id:b,personId:e.webId,hospexDocument:s[0]}),{pending:n._({id:"+5HgiN"}),success:n._({id:"t9VobG"})}),await y({type:"Delete",uri:b,previousLocation:x}))};return Q.jsxs("div",{className:hs.container,children:[Q.jsxs("h1",{className:hs.header,children:[Q.jsx(bB,{size:32})," ",Q.jsx(wt,{id:"iRVV2L"})]}),Q.jsx("ul",{style:{display:"contents"},children:o.map(b=>i===b.id?Q.jsx(I5,{onSubmit:x=>w(x,b),onCancel:()=>{a(void 0)},initialData:b},b.id):Q.jsxs("li",{className:hs.accommodation,"data-cy":"offer-accommodation-item",children:[Q.jsx(zRe,{...b}),Q.jsxs("div",{className:hs.actions,children:[Q.jsx(pr,{secondary:!0,onClick:()=>{a(b.id)},children:Q.jsx(wt,{id:"ePK91l"})}),Q.jsx(pr,{danger:!0,onClick:()=>E(b),children:Q.jsx(wt,{id:"cnGeoo"})})]})]},b.id))}),i==="new"?Q.jsx(I5,{onSubmit:v,onCancel:()=>a(void 0)}):Q.jsx(pr,{primary:!0,onClick:()=>a("new"),className:hs.addAccommodationButton,children:Q.jsx(wt,{id:"CiQd9C"})})]})},rPe=()=>Q.jsx("div",{children:"404"}),iPe=t=>{const{data:e}=MR(t.src);return e?Q.jsx("img",{...t,src:e,alt:t.alt??"","data-src":t.src}):null},aPe="_container_16bhv_1",sPe="_name_16bhv_7",oPe="_about_16bhv_14",uPe="_photo_16bhv_17",b_={container:aPe,name:sPe,about:oPe,photo:uPe},lPe=()=>{const{i18n:t,_:e}=si(),{communityId:n}=kn(),r=eR().id,i=di(),a=r&&i.webId?r===i.webId:void 0,[s]=qs(r,n),[o]=qs(i.webId,n),l=s.name;return Q.jsxs("div",{className:b_.container,children:[Q.jsx(iPe,{className:b_.photo,src:s.photo,alt:t._({id:"+Vmqfs",values:{name:l}}),"data-cy":"profile-photo"}),Q.jsxs("header",{className:b_.name,"data-cy":"profile-name",children:[s.name," ",Q.jsx(Rde,{href:r})]}),Q.jsx("section",{className:b_.about,"data-cy":"profile-about",children:s.about}),a&&Q.jsxs(Qc,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[Q.jsx(xB,{})," ",Q.jsx(wt,{id:"HecDqj"})]}),a===!1&&Q.jsx(Qc,{secondary:!0,to:`/messages/${encodeURIComponent(r)}`,children:Q.jsx(wt,{id:"eWlz27"})}),Q.jsx(Qc,{tertiary:!0,to:"contacts",children:Q.jsx(wt,{id:"2LDW9H"})}),a===!1&&Q.jsx(wxe,{webId:r}),Q.jsx("section",{children:s.interests?Q.jsx(Sye,{ids:s.interests,highlighted:a?[]:o.interests??[]}):Q.jsx(ms,{children:Q.jsx(wt,{id:"O75yBm"})})})]})},cPe=()=>{const t=di();return t.webId?Q.jsx(nR,{to:encodeURIComponent(t.webId),replace:!0}):Q.jsx(ms,{children:Q.jsx(wt,{id:"qPXQY8"})})},fPe="_bar_1x3gh_1",dPe="_animate_1x3gh_17",hPe="_progress_1x3gh_1",D5={bar:fPe,animate:dPe,progress:hPe},pPe=({animate:t=!1})=>Q.jsx("div",{className:Or(D5.bar,t&&D5.animate)}),gPe=async({geohash:t,geoindex:e})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${t}"`)}`,e).toString(),r=await nr(n);if(!r.ok)throw new Us("geoindex returned invalid response",r);const i=await r.text(),s=new ah({format:r.headers.get("content-type")??void 0}).parse(i),o=new wo(s);return o.getSubjects("https://example.com/ns#geohash",`"${t}"`,null).map(c=>{const h=o.getObjects(c,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),p=pm.decode(h);return{uri:c.value,geohash:h,location:p}})},mPe=(t,e)=>{const{geoindexService:n}=kn(),[r,i]=ne.useState(0),[a,s]=ne.useState(0),o=!n||r>a,l=ne.useMemo(()=>e?pm.bboxes(e.s,e.w,e.n,e.e,1):[],[e]),c=ne.useMemo(()=>l.map(b=>({queryKey:[zr.geoindex,b],queryFn:()=>gPe({geohash:b,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),h=Kg({queries:c,combine:b=>({isError:b.some(x=>x.isError),isPending:b.some(x=>x.isPending),isSuccess:b.every(x=>x.isSuccess),errors:b.filter(x=>x.error).map(x=>x.error),data:b.filter(x=>x.data).flatMap(x=>x.data)})});ne.useEffect(()=>{h.isError&&i(Date.now())},[h.isError]),ne.useEffect(()=>{h.isSuccess&&s(Date.now())},[h.isSuccess]);const p=ne.useMemo(()=>o?{query:sge,variables:{community:[t]},fetch:nr,store:new wo}:{query:[],variables:{},fetch:nr},[t,o]),{quads:m,isMissing:y}=ha(p),v=ne.useMemo(()=>[or.createLdoDataset(m).usingType(lw).matchObject(null,Fl.offers).filter(A=>A.location).map(A=>{var I,M,D;return{id:A["@id"],description:((I=A.description)==null?void 0:I[0])??"",location:{lat:[A.location.lat].flat()[0],long:[A.location.long].flat()[0]},offeredBy:{id:((M=A.offeredBy)==null?void 0:M["@id"])??"",name:((D=A.offeredBy)==null?void 0:D.name)??""}}}).filter(A=>A.location.lat!==void 0&&A.location.long!==void 0&&A.id!==void 0),y],[y,m]),w=ne.useMemo(()=>[h.data.map(({uri:b,location:x})=>({id:b,location:{lat:x.latitude,long:x.longitude},offeredBy:{id:"",name:""}})),h.isPending],[h.data,h.isPending]);return ne.useMemo(()=>[Yfe("id",w[0],v[0]),w[1]||v[1]],[w,v])};var kg={exports:{}},yPe=kg.exports,k5;function vPe(){return k5||(k5=1,function(t,e){(function(n,r){r(e)})(yPe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var s=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,s?this._withAnimation:this._noAnimation),this._markerCluster=s?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var s=a,o=this._zoom;if(a.__parent)for(;s.__parent._zoom>=o;)s=s.__parent;return this._currentShownBounds.contains(s.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,s):this._animationAddLayerNonAnimated(a,s)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,s){if(!L.Util.isArray(a))return this.addLayer(a);var o=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,h=this.options.chunkInterval,p=this.options.chunkProgress,m=a.length,y=0,v=!0,w;if(this._map){var E=new Date().getTime(),b=L.bind(function(){var A=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(c&&y%200===0){var I=new Date().getTime()-A;if(I>h)break}if(w=a[y],w instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(w,a),m=a.length;continue}if(!w.getLatLng){l.addLayer(w),s||this.fire("layeradd",{layer:w});continue}if(!this.hasLayer(w)&&(this._addLayer(w,this._maxZoom),s||this.fire("layeradd",{layer:w}),w.__parent&&w.__parent.getChildCount()===2)){var M=w.__parent.getAllChildMarkers(),D=M[0]===w?M[1]:M[0];o.removeLayer(D)}}p&&p(y,m,new Date().getTime()-E),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(b,this.options.chunkDelay)},this);b()}else for(var x=this._needsClustering;y<m;y++){if(w=a[y],w instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(w,a),m=a.length;continue}if(!w.getLatLng){l.addLayer(w);continue}this.hasLayer(w)||x.push(w)}return this},removeLayers:function(a){var s,o,l=a.length,c=this._featureGroup,h=this._nonPointGroup,p=!0;if(!this._map){for(s=0;s<l;s++){if(o=a[s],o instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}this._arraySplice(this._needsClustering,o),h.removeLayer(o),this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=l;for(s=0;s<y;s++){if(o=m[s],o instanceof L.LayerGroup){this._extractNonGroupLayers(o,m),y=m.length;continue}this._unspiderfyLayer(o)}}for(s=0;s<l;s++){if(o=a[s],o instanceof L.LayerGroup){p&&(a=a.slice(),p=!1),this._extractNonGroupLayers(o,a),l=a.length;continue}if(!o.__parent){h.removeLayer(o),this.fire("layerremove",{layer:o});continue}this._removeLayer(o,!0,!0),this.fire("layerremove",{layer:o}),c.hasLayer(o)&&(c.removeLayer(o),o.clusterShow&&o.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var s=this._needsClustering.length-1;s>=0;s--)a.extend(this._needsClustering[s].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,s){var o=this._needsClustering.slice(),l=this._needsRemoving,c,h,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),h=o.length-1;h>=0;h--){for(c=!0,p=l.length-1;p>=0;p--)if(l[p].layer===o[h]){c=!1;break}c&&a.call(s,o[h])}this._nonPointGroup.eachLayer(a,s)},getLayers:function(){var a=[];return this.eachLayer(function(s){a.push(s)}),a},getLayer:function(a){var s=null;return a=parseInt(a,10),this.eachLayer(function(o){L.stamp(o)===a&&(s=o)}),s},hasLayer:function(a){if(!a)return!1;var s,o=this._needsClustering;for(s=o.length-1;s>=0;s--)if(o[s]===a)return!0;for(o=this._needsRemoving,s=o.length-1;s>=0;s--)if(o[s].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,s){var o=this._map;typeof s!="function"&&(s=function(){});var l=function(){(o.hasLayer(a)||o.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),o.hasLayer(a)?s():a.__parent._icon&&(this.once("spiderfied",s,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?s():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var s,o,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,s=0,o=this._needsRemoving.length;s<o;s++)l=this._needsRemoving[s],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(s=0,o=this._needsRemoving.length;s<o;s++)l=this._needsRemoving[s],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),o=this._needsClustering,this._needsClustering=[],this.addLayers(o,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var s=a;s&&!s._icon;)s=s.__parent;return s||null},_arraySplice:function(a,s){for(var o=a.length-1;o>=0;o--)if(a[o]===s)return a.splice(o,1),!0},_removeFromGridUnclustered:function(a,s){for(var o=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());s>=c&&l[s].removeObject(a,o.project(a.getLatLng(),s));s--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var s=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),s&&a.target.openPopup()}},_moveChild:function(a,s,o){a._latlng=s,this.removeLayer(a),a._latlng=o,this.addLayer(a)},_childMarkerDragEnd:function(a){var s=a.target.__dragStart;delete a.target.__dragStart,s&&this._moveChild(a.target,s,a.target._latlng)},_removeLayer:function(a,s,o){var l=this._gridClusters,c=this._gridUnclustered,h=this._featureGroup,p=this._map,m=Math.floor(this._map.getMinZoom());s&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,v=y._markers,w;for(this._arraySplice(v,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)s&&y._childCount<=1?(w=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,p.project(y._cLatLng,y._zoom)),c[y._zoom].addObject(w,p.project(w.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(w),w.__parent=y.__parent,y._icon&&(h.removeLayer(y),o||h.addLayer(w))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,s){for(;s;){if(a===s)return!0;s=s.parentNode}return!1},fire:function(a,s,o){if(s&&s.layer instanceof L.MarkerCluster){if(s.originalEvent&&this._isOrIsParent(s.layer._icon,s.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,s,o)},listens:function(a,s){return L.FeatureGroup.prototype.listens.call(this,a,s)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,s)},_defaultIconCreateFunction:function(a){var s=a.getChildCount(),o=" marker-cluster-";return s<10?o+="small":s<100?o+="medium":o+="large",new L.DivIcon({html:"<div><span>"+s+"</span></div>",className:"marker-cluster"+o,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,s=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(s||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var s=a.layer,o=s;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;o._childClusters.length===1;)o=o._childClusters[0];o._zoom===this._maxZoom&&o._childCount===s._childCount&&this.options.spiderfyOnMaxZoom?s.spiderfy():this.options.zoomToBoundsOnClick&&s.zoomToBounds(),this.options.spiderfyOnEveryZoom&&s.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var s=this._map;this._inZoomAnimation||(this._shownPolygon&&s.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),s.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,o=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(a||o||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),s=Math.floor(this._map.getMinZoom()),o=this.options.maxClusterRadius,l=o;typeof o!="function"&&(l=function(){return o}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var c=a;c>=s;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,s-1)},_addLayer:function(a,s){var o=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),h,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);s>=c;s--){h=this._map.project(a.getLatLng(),s);var m=o[s].getNearObject(h);if(m){m._addChild(a),a.__parent=m;return}if(m=l[s].getNearObject(h),m){var y=m.__parent;y&&this._removeLayer(m,!1);var v=new this._markerCluster(this,s,m,a);o[s].addObject(v,this._map.project(v._cLatLng,s)),m.__parent=v,a.__parent=v;var w=v;for(p=s-1;p>y._zoom;p--)w=new this._markerCluster(this,p,w),o[p].addObject(w,this._map.project(m.getLatLng(),p));y._addChild(w),this._removeFromGridUnclustered(m,s);return}l[s].addObject(a,h)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var s=this._maxLat;return s!==void 0&&(a.getNorth()>=s&&(a._northEast.lat=1/0),a.getSouth()<=-s&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,s){if(s===a)this._featureGroup.addLayer(a);else if(s._childCount===2){s._addToMap();var o=s.getAllChildMarkers();this._featureGroup.removeLayer(o[0]),this._featureGroup.removeLayer(o[1])}else s._updateIcon()},_extractNonGroupLayers:function(a,s){var o=a.getLayers(),l=0,c;for(s=s||[];l<o.length;l++){if(c=o[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,s);continue}s.push(c)}return s},_overrideMarkerIcon:function(a){var s=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return s}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,s){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,s){this._animationAddLayerNonAnimated(a,s)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,s){var o=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),h;this._ignoreMove=!0,this._topClusterLevel._recursively(o,a,c,function(p){var m=p._latlng,y=p._markers,v;for(o.contains(m)||(m=null),p._isSingleParent()&&a+1===s?(l.removeLayer(p),p._recursivelyAddChildrenToMap(null,s,o)):(p.clusterHide(),p._recursivelyAddChildrenToMap(m,s,o)),h=y.length-1;h>=0;h--)v=y[h],o.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(o,s),l.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(o,a,s,function(p){p._recursivelyRestoreChildPositions(s)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(o,a,c,function(p){l.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,s){this._animationZoomOutSingle(this._topClusterLevel,a-1,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,s,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,s){var o=this,l=this._featureGroup;l.addLayer(a),s!==a&&(s._childCount>2?(s._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(s.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),o._animationEnd()})):(this._forceLayout(),o._animationStart(),o._animationZoomOutSingle(s,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,s,o){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,s+1,o);var h=this;this._forceLayout(),a._recursivelyBecomeVisible(l,o),this._enqueue(function(){if(a._childCount===1){var p=a._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else a._recursively(l,o,c,function(m){m._recursivelyRemoveChildrenFromMap(l,c,s+1)});h._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,s,o,l){L.Marker.prototype.initialize.call(this,o?o._cLatLng||o.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=s,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,o&&this._addChild(o),l&&this._addChild(l)},getAllChildMarkers:function(a,s){a=a||[];for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o].getAllChildMarkers(a,s);for(var l=this._markers.length-1;l>=0;l--)s&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var s=this._childClusters.slice(),o=this._group._map,l=o.getBoundsZoom(this._bounds),c=this._zoom+1,h=o.getZoom(),p;s.length>0&&l>c;){c++;var m=[];for(p=0;p<s.length;p++)m=m.concat(s[p]._childClusters);s=m}l>c?this._group._map.setView(this._latlng,c):l<=h?this._group._map.setView(this._latlng,h+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,s){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(s||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(s||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,s=this._childClusters,o=0,l=0,c=this._childCount,h,p,m,y;if(c!==0){for(this._resetBounds(),h=0;h<a.length;h++)m=a[h]._latlng,this._bounds.extend(m),o+=m.lat,l+=m.lng;for(h=0;h<s.length;h++)p=s[h],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),m=p._wLatLng,y=p._childCount,o+=m.lat*y,l+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(o/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,s,o){this._recursively(a,this._group._map.getMinZoom(),o-1,function(l){var c=l._markers,h,p;for(h=c.length-1;h>=0;h--)p=c[h],p._icon&&(p._setPos(s),p.clusterHide())},function(l){var c=l._childClusters,h,p;for(h=c.length-1;h>=0;h--)p=c[h],p._icon&&(p._setPos(s),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,s,o,l){this._recursively(a,l,s,function(c){c._recursivelyAnimateChildrenIn(a,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),o),c._isSingleParent()&&o-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(a,s,o)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(a,s){this._recursively(a,this._group._map.getMinZoom(),s,null,function(o){o.clusterShow()})},_recursivelyAddChildrenToMap:function(a,s,o){this._recursively(o,this._group._map.getMinZoom()-1,s,function(l){if(s!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var h=l._markers[c];o.contains(h._latlng)&&(a&&(h._backupLatlng=h.getLatLng(),h.setLatLng(a),h.clusterHide&&h.clusterHide()),l._group._featureGroup.addLayer(h))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var s=this._markers.length-1;s>=0;s--){var o=this._markers[s];o._backupLatlng&&(o.setLatLng(o._backupLatlng),delete o._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,s,o,l){var c,h;this._recursively(a,s-1,o-1,function(p){for(h=p._markers.length-1;h>=0;h--)c=p._markers[h],(!l||!l.contains(c._latlng))&&(p._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(p){for(h=p._childClusters.length-1;h>=0;h--)c=p._childClusters[h],(!l||!l.contains(c._latlng))&&(p._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(a,s,o,l,c){var h=this._childClusters,p=this._zoom,m,y;if(s<=p&&(l&&l(this),c&&p===o&&c(this)),p<s||p<o)for(m=h.length-1;m>=0;m--)y=h[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,s,o,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,s){var o=this._getCoord(s.x),l=this._getCoord(s.y),c=this._grid,h=c[l]=c[l]||{},p=h[o]=h[o]||[],m=L.Util.stamp(a);this._objectPoint[m]=s,p.push(a)},updateObject:function(a,s){this.removeObject(a),this.addObject(a,s)},removeObject:function(a,s){var o=this._getCoord(s.x),l=this._getCoord(s.y),c=this._grid,h=c[l]=c[l]||{},p=h[o]=h[o]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=p.length;m<y;m++)if(p[m]===a)return p.splice(m,1),y===1&&delete h[o],!0},eachObject:function(a,s){var o,l,c,h,p,m,y,v=this._grid;for(o in v){p=v[o];for(l in p)for(m=p[l],c=0,h=m.length;c<h;c++)y=a.call(s,m[c]),y&&(c--,h--)}},getNearObject:function(a){var s=this._getCoord(a.x),o=this._getCoord(a.y),l,c,h,p,m,y,v,w,E=this._objectPoint,b=this._sqCellSize,x=null;for(l=o-1;l<=o+1;l++)if(p=this._grid[l],p){for(c=s-1;c<=s+1;c++)if(m=p[c],m)for(h=0,y=m.length;h<y;h++)v=m[h],w=this._sqDist(E[L.Util.stamp(v)],a),(w<b||w<=b&&x===null)&&(b=w,x=v)}return x},_getCoord:function(a){var s=Math.floor(a/this._cellSize);return isFinite(s)?s:a},_sqDist:function(a,s){var o=s.x-a.x,l=s.y-a.y;return o*o+l*l}},function(){L.QuickHull={getDistant:function(a,s){var o=s[1].lat-s[0].lat,l=s[0].lng-s[1].lng;return l*(a.lat-s[0].lat)+o*(a.lng-s[0].lng)},findMostDistantPointFromBaseLine:function(a,s){var o=0,l=null,c=[],h,p,m;for(h=s.length-1;h>=0;h--){if(p=s[h],m=this.getDistant(p,a),m>0)c.push(p);else continue;m>o&&(o=m,l=p)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(a,s){var o=[],l=this.findMostDistantPointFromBaseLine(a,s);return l.maxPoint?(o=o.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),o=o.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),o):[a[0]]},getConvexHull:function(a){var s=!1,o=!1,l=!1,c=!1,h=null,p=null,m=null,y=null,v=null,w=null,E;for(E=a.length-1;E>=0;E--){var b=a[E];(s===!1||b.lat>s)&&(h=b,s=b.lat),(o===!1||b.lat<o)&&(p=b,o=b.lat),(l===!1||b.lng>l)&&(m=b,l=b.lng),(c===!1||b.lng<c)&&(y=b,c=b.lng)}o!==s?(w=p,v=h):(w=y,v=m);var x=[].concat(this.buildConvexHull([w,v],a),this.buildConvexHull([v,w],a));return x}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),s=[],o,l;for(l=a.length-1;l>=0;l--)o=a[l].getLatLng(),s.push(o);return L.QuickHull.getConvexHull(s)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),s=this._group,o=s._map,l=o.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(a.length,l):(l.y+=10,c=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,c)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,s){var o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=o/this._2PI,c=this._2PI/a,h=[],p,m;for(l=Math.max(l,35),h.length=a,p=0;p<a;p++)m=this._circleStartAngle+p*c,h[p]=new L.Point(s.x+l*Math.cos(m),s.y+l*Math.sin(m))._round();return h},_generatePointsSpiral:function(a,s){var o=this._group.options.spiderfyDistanceMultiplier,l=o*this._spiralLengthStart,c=o*this._spiralFootSeparation,h=o*this._spiralLengthFactor*this._2PI,p=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(s.x+l*Math.cos(p),s.y+l*Math.sin(p))._round()),p+=c/l+y*5e-4,l+=h/p;return m},_noanimationUnspiderfy:function(){var a=this._group,s=a._map,o=a._featureGroup,l=this.getAllChildMarkers(null,!0),c,h;for(a._ignoreMove=!0,this.setOpacity(1),h=l.length-1;h>=0;h--)c=l[h],o.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(s.removeLayer(c._spiderLeg),delete c._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,s){var o=this._group,l=o._map,c=o._featureGroup,h=this._group.options.spiderLegPolylineOptions,p,m,y,v;for(o._ignoreMove=!0,p=0;p<a.length;p++)v=l.layerPointToLatLng(s[p]),m=a[p],y=new L.Polyline([this._latlng,v],h),l.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(v),m.setZIndexOffset&&m.setZIndexOffset(1e6),c.addLayer(m);this.setOpacity(.3),o._ignoreMove=!1,o.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,s){var o=this,l=this._group,c=l._map,h=l._featureGroup,p=this._latlng,m=c.latLngToLayerPoint(p),y=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),w=v.opacity,E,b,x,A,I,M;for(w===void 0&&(w=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=w,l._ignoreMove=!0,E=0;E<a.length;E++)b=a[E],M=c.layerPointToLatLng(s[E]),x=new L.Polyline([p,M],v),c.addLayer(x),b._spiderLeg=x,y&&(A=x._path,I=A.getTotalLength()+.1,A.style.strokeDasharray=I,A.style.strokeDashoffset=I),b.setZIndexOffset&&b.setZIndexOffset(1e6),b.clusterHide&&b.clusterHide(),h.addLayer(b),b._setPos&&b._setPos(m);for(l._forceLayout(),l._animationStart(),E=a.length-1;E>=0;E--)M=c.layerPointToLatLng(s[E]),b=a[E],b._preSpiderfyLatlng=b._latlng,b.setLatLng(M),b.clusterShow&&b.clusterShow(),y&&(x=b._spiderLeg,A=x._path,A.style.strokeDashoffset=0,x.setStyle({opacity:w}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:o,markers:a})},200)},_animationUnspiderfy:function(a){var s=this,o=this._group,l=o._map,c=o._featureGroup,h=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,v,w,E,b,x;for(o._ignoreMove=!0,o._animationStart(),this.setOpacity(1),v=p.length-1;v>=0;v--)y=p[v],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,x=!0,y._setPos&&(y._setPos(h),x=!1),y.clusterHide&&(y.clusterHide(),x=!1),x&&c.removeLayer(y),m&&(w=y._spiderLeg,E=w._path,b=E.getTotalLength()+.1,E.style.strokeDashoffset=b,w.setStyle({opacity:0})));o._ignoreMove=!1,setTimeout(function(){var A=0;for(v=p.length-1;v>=0;v--)y=p[v],y._spiderLeg&&A++;for(v=p.length-1;v>=0;v--)y=p[v],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),A>1&&c.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);o._animationEnd(),o.fire("unspiderfied",{cluster:s,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var s,o;for(s in a)for(o=a[s].__parent;o;)o._iconNeedsUpdate=!0,o=o.__parent},_refreshSingleMarkerModeMarkers:function(a){var s,o;for(s in a)o=a[s],this.hasLayer(o)&&o.setIcon(this._overrideMarkerIcon(o))}}),L.Marker.include({refreshIconOptions:function(a,s){var o=this.options.icon;return L.setOptions(o,a),this.setIcon(o),s&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(kg,kg.exports)),kg.exports}vPe();function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var _Pe=["children"];function N5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N5(Object(n),!0).forEach(function(r){wPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wPe(t,e,n){return(e=bPe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bPe(t){var e=SPe(t,"string");return gm(e)=="symbol"?e:e+""}function SPe(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j5(t,e){return CPe(t)||TPe(t,e)||EPe(t,e)||xPe()}function xPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EPe(t,e){if(t){if(typeof t=="string")return $5(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$5(t,e):void 0}}function $5(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,s,o=[],l=!0,c=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function CPe(t){if(Array.isArray(t))return t}function APe(t,e){if(t==null)return{};var n,r,i=RPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function RPe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}rR.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(e){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(e)}});rR.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function PPe(t,e){t.children;var n=APe(t,_Pe),r={},i={};Object.entries(n).forEach(function(s){var o=j5(s,2),l=o[0],c=o[1];return l.startsWith("on")?i[l]=c:r[l]=c});var a=new rR.MarkerClusterGroup(r);return Object.entries(i).forEach(function(s){var o=j5(s,2),l=o[0],c=o[1],h="cluster".concat(l.substring(2).toLowerCase());a.on(h,c)}),{instance:a,context:F5(F5({},e),{},{layerContainer:a})}}var OPe=hAe(PPe);const IPe=({accommodationId:t})=>{var c;const{communityId:e}=kn(),{quads:n,variables:r,isLoading:i}=ha(ne.useMemo(()=>({query:oge,variables:{offer:[t]},fetch:nr}),[t])),[a,,,,s]=qs(((c=r.person)==null?void 0:c[0])??"",e),o=ne.useMemo(()=>or.createLdoDataset(n).usingType(lw).fromSubject(t),[t,n]),l=ne.useMemo(()=>{var y,v,w;if(!o)return;const h=(y=o==null?void 0:o.location)==null?void 0:y.lat,p=(v=o==null?void 0:o.location)==null?void 0:v.long;return{id:o["@id"]??"",description:((w=o.description)==null?void 0:w[0])??"",location:{lat:h,long:p},offeredBy:a??s??{}}},[s,o,a]);return ne.useMemo(()=>[l,{isLoading:i}],[l,i])},LPe="_container_5yist_1",MPe="_person_5yist_6",DPe="_name_5yist_11",kPe="_accommodation_5yist_14",S_={container:LPe,person:MPe,name:DPe,accommodation:kPe},NPe=({accommodationId:t})=>{const{webId:e}=di(),[n]=IPe({accommodationId:t}),r=e&&(n==null?void 0:n.offeredBy)&&e!==n.offeredBy.id;return Q.jsxs("div",{className:S_.container,children:[n?Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:S_.person,children:Q.jsxs(Ds,{to:`/profile/${encodeURIComponent(n.offeredBy.id)}`,style:{display:"contents"},children:[Q.jsx(V0,{...n.offeredBy,size:1.5,square:!0}),Q.jsx("span",{className:S_.name,"data-cy":"accommodation-info-name",children:n.offeredBy.name})]})}),Q.jsx("div",{className:S_.accommodation,"data-cy":"accommodation-info-description",children:n.description})]}):Q.jsx(ms,{children:Q.jsx(wt,{id:"Z3FXyt"})}),r?Q.jsx(Qc,{primary:!0,to:`/messages/${encodeURIComponent(n.offeredBy.id)}`,children:Q.jsx(wt,{id:"eWlz27"})}):null]})},FPe="_container_19njf_1",jPe="_offerOverlay_19njf_18",$Pe="_closeButton_19njf_28",UPe="_mapContainer_19njf_34",x_={container:FPe,offerOverlay:jPe,closeButton:$Pe,mapContainer:UPe},BPe=()=>{const{i18n:t,_:e}=si(),{communityId:n,tileServer:r}=kn(),[i,a]=pW(),s=i.get("hosting"),[o,l]=ne.useState(),[c,h]=mPe(n,o),p=y=>{a({hosting:y})},m=ne.useCallback((y,v)=>l(w=>WB(w,v)?w:v),[]);return Q.jsxs(Q.Fragment,{children:[h&&Q.jsx(pPe,{}),Q.jsxs("div",{className:x_.container,children:[s&&Q.jsxs("div",{className:x_.offerOverlay,children:[Q.jsx("button",{onClick:()=>{a({})},className:x_.closeButton,"aria-label":t._({id:"C++TGh"}),children:Q.jsx(DR,{})}),Q.jsx(NPe,{accommodationId:s})]}),Q.jsxs(GP,{className:x_.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[Q.jsx(QP,{url:r}),Q.jsx(g7,{strings:{title:t._({id:"v5eALp"})},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),Q.jsx(OPe,{maxClusterRadius:20,children:c?c.map(y=>{var w,E;const v=((w=y.offeredBy)==null?void 0:w.name)||((E=y.offeredBy)==null?void 0:E.id);return Q.jsx(WP,{position:[y.location.lat,y.location.long],eventHandlers:{click:()=>{p(y.id)}},icon:y.id===s?OW:IW("geohash-"+pm.encode(y.location.lat,y.location.long,10)),alt:t._({id:"hHo0hg",values:{offeredByIdentifier:v}})},y.id)}):null}),Q.jsx(m7,{onUpdate:m})]})]})]})},qPe=({webId:t,className:e})=>{const{communityId:n}=kn(),[r]=qs(t,n);return Q.jsx(V0,{photo:r.photo,square:!0,size:1.25,className:e})},zPe="_threadList_1lsy0_1",HPe="_thread_1lsy0_1",VPe="_unread_1lsy0_14",KPe="_content_1lsy0_14",GPe="_avatar_1lsy0_17",cd={threadList:zPe,thread:HPe,unread:VPe,content:KPe,avatar:GPe},WPe=()=>{const t=di(),{data:e}=yme(t.webId??"");return e?Q.jsxs("div",{children:[Q.jsx("h1",{children:Q.jsx(wt,{id:"EnJuK0"})}),Q.jsx("ul",{className:cd.threadList,children:e.map(n=>{const r=n.participants.find(i=>i!==t.webId);return Q.jsx("li",{"data-cy":"thread-list-item",children:Q.jsx(Ds,{to:`/messages/${encodeURIComponent(r??"")}`,children:Q.jsx(QPe,{thread:n})})},n.id)})})]}):Q.jsx(ms,{children:Q.jsx(wt,{id:"Z3FXyt"})})},QPe=({thread:t})=>{const{communityId:e}=kn(),n=di(),r=t.participants.find(s=>s!==n.webId),[i]=qs(r??"",e),a=t.messages[t.messages.length-1];return Q.jsxs("div",{className:Or(cd.thread,t.status&&cd.unread),"data-cy":t.status&&"thread-unread",children:[Q.jsx(qPe,{webId:r??"",className:cd.avatar}),Q.jsxs("div",{children:[Q.jsx("div",{className:cd.name,title:i.id,children:i.name}),Q.jsx("div",{className:cd.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},ZPe=()=>Q.jsx(n7,{tabs:[],children:Q.jsx(M0,{})}),JPe=()=>Q.jsx(nR,{to:"search",replace:!0}),YPe=uW([{path:"/",element:Q.jsx(Wye,{}),children:[{path:"/",element:Q.jsx(lxe,{}),children:[{index:!0,element:Q.jsx(ECe,{})},{path:"profile",children:[{index:!0,element:Q.jsx(cPe,{})},{path:"edit",element:Q.jsx(wCe,{})},{path:":id",element:Q.jsx(lPe,{})},{path:":id/contacts",element:Q.jsx(xxe,{})}]},{path:"messages",children:[{index:!0,element:Q.jsx(WPe,{})},{path:":id",element:Q.jsx(tAe,{})}]},{path:"host",element:Q.jsx(CCe,{}),children:[{index:!0,element:Q.jsx(ACe,{})},{path:"offers",element:Q.jsx(nPe,{})}]},{path:"travel",element:Q.jsx(ZPe,{}),children:[{index:!0,element:Q.jsx(JPe,{})},{path:"search",element:Q.jsx(BPe,{})}]}]},{path:"about",element:Q.jsx(sbe,{})},{path:"*",element:Q.jsx(rPe,{})}]}]),XPe=new iK({defaultOptions:{queries:{retry:1}}}),eOe=wK.createRoot(document.getElementById("root"));eOe.render(Q.jsx(Lt.StrictMode,{children:Q.jsx(kK,{store:gU,children:Q.jsx(j8,{loading:null,persistor:RZ,children:Q.jsx(fK,{client:XPe,children:Q.jsx(qQ,{children:Q.jsx(XG,{router:YPe})})})})})}));
