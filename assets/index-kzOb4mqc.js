function tU(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Yg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZK(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var t1={exports:{}},Lh={};var uI;function QK(){if(uI)return Lh;uI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var a=null;if(o!==void 0&&(a=""+o),i.key!==void 0&&(a=""+i.key),"key"in i){o={};for(var s in i)s!=="key"&&(o[s]=i[s])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:a,ref:i!==void 0?i:null,props:o}}return Lh.Fragment=t,Lh.jsx=n,Lh.jsxs=n,Lh}var lI;function JK(){return lI||(lI=1,t1.exports=QK()),t1.exports}var U=JK(),Dc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YK={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},XK=class{#t=YK;#e=!1;setTimeoutProvider(e){this.#t=e}setTimeout(e,t){return this.#t.setTimeout(e,t)}clearTimeout(e){this.#t.clearTimeout(e)}setInterval(e,t){return this.#t.setInterval(e,t)}clearInterval(e){this.#t.clearInterval(e)}},gc=new XK;function eG(e){setTimeout(e,0)}var xc=typeof window>"u"||"Deno"in globalThis;function Vi(){}function tG(e,t){return typeof e=="function"?e(t):e}function iT(e){return typeof e=="number"&&e>=0&&e!==1/0}function nU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fl(e,t){return typeof e=="function"?e(t):e}function ha(e,t){return typeof e=="function"?e(t):e}function cI(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(a){if(r){if(t.queryHash!==TA(a,t.options))return!1}else if(!Lp(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||o&&!o(t))}function fI(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ec(t.options.mutationKey)!==Ec(o))return!1}else if(!Lp(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function TA(e,t){return(t?.queryKeyHashFn||Ec)(e)}function Ec(e){return JSON.stringify(e,(t,n)=>oT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Lp(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Lp(e[n],t[n])):!1}var nG=Object.prototype.hasOwnProperty;function AA(e,t){if(e===t)return e;const n=dI(e)&&dI(t);if(!n&&!(oT(e)&&oT(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),a=o.length,s=n?new Array(a):{};let l=0;for(let f=0;f<a;f++){const d=n?f:o[f],p=e[d],g=t[d];if(p===g){s[d]=p,(n?f<i:nG.call(e,d))&&l++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){s[d]=g;continue}const y=AA(p,g);s[d]=y,y===p&&l++}return i===a&&l===i?e:s}function Ip(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function dI(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function oT(e){if(!hI(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function hI(e){return Object.prototype.toString.call(e)==="[object Object]"}function rG(e){return new Promise(t=>{gc.setTimeout(t,e)})}function aT(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?AA(e,t):t}function iG(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function oG(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var RA=Symbol();function rU(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===RA?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function iU(e,t){return typeof e=="function"?e(...t):!!e}var aG=class extends Dc{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!xc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},PA=new aG;function sT(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}var sG=eG;function uG(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=sG;const o=s=>{t?e.push(s):i(()=>{n(s)})},a=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||a()}return l},batchCalls:s=>(...l)=>{o(()=>{s(...l)})},schedule:o,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Hr=uG(),lG=class extends Dc{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!xc&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},n_=new lG;function cG(e){return Math.min(1e3*2**e,3e4)}function oU(e){return(e??"online")==="online"?n_.isOnline():!0}var uT=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function aU(e){let t=!1,n=0,r;const i=sT(),o=()=>i.status!=="pending",a=x=>{if(!o()){const E=new uT(x);g(E),e.onCancel?.(E)}},s=()=>{t=!0},l=()=>{t=!1},f=()=>PA.isFocused()&&(e.networkMode==="always"||n_.isOnline())&&e.canRun(),d=()=>oU(e.networkMode)&&e.canRun(),p=x=>{o()||(r?.(),i.resolve(x))},g=x=>{o()||(r?.(),i.reject(x))},y=()=>new Promise(x=>{r=E=>{(o()||f())&&x(E)},e.onPause?.()}).then(()=>{r=void 0,o()||e.onContinue?.()}),b=()=>{if(o())return;let x;const E=n===0?e.initialPromise:void 0;try{x=E??e.fn()}catch(v){x=Promise.reject(v)}Promise.resolve(x).then(p).catch(v=>{if(o())return;const w=e.retry??(xc?0:3),C=e.retryDelay??cG,P=typeof C=="function"?C(n,v):C,R=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,v);if(t||!R){g(v);return}n++,e.onFail?.(n,v),rG(P).then(()=>f()?void 0:y()).then(()=>{t?g(v):b()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?b():y().then(b),i)}}var sU=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),iT(this.gcTime)&&(this.#t=gc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xc?1/0:300*1e3))}clearGcTimeout(){this.#t&&(gc.clearTimeout(this.#t),this.#t=void 0)}},fG=class extends sU{#t;#e;#n;#i;#r;#o;#s;constructor(e){super(),this.#s=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=mI(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=mI(this.options);t.data!==void 0&&(this.setState(pI(t.data,t.dataUpdatedAt)),this.#t=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=aT(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Vi).catch(Vi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ha(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===RA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>fl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!nU(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const s=this.observers.find(l=>l.options.queryFn);s&&this.setOptions(s.options)}const n=new AbortController,r=s=>{Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const s=rU(this.options,t),f=(()=>{const d={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(d),d})();return this.#s=!1,this.options.persister?this.options.persister(s,f,this):s(f)},a=(()=>{const s={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(s),s})();this.options.behavior?.onFetch(a,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=aU({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:s=>{s instanceof uT&&s.revert&&this.setState({...this.#e,fetchStatus:"idle"}),n.abort()},onFail:(s,l)=>{this.#a({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const s=await this.#r.start();if(s===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(s),this.#n.config.onSuccess?.(s,this),this.#n.config.onSettled?.(s,this.state.error,this),s}catch(s){if(s instanceof uT){if(s.silent)return this.#r.promise;if(s.revert){if(this.state.data===void 0)throw s;return this.state.data}}throw this.#a({type:"error",error:s}),this.#n.config.onError?.(s,this),this.#n.config.onSettled?.(this.state.data,s,this),s}finally{this.scheduleGc()}}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...uU(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...pI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?r:void 0,r;case"error":const i=e.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Hr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function uU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pI(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function mI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var OA=class extends Dc{constructor(e,t){super(),this.options=t,this.#t=e,this.#a=null,this.#s=sT(),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#i=void 0;#r;#o;#s;#a;#h;#f;#d;#l;#c;#u;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),gI(this.#e,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lT(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lT(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ha(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#e.setOptions(this.options),t._defaulted&&!Ip(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&yI(this.#e,n,this.options,t)&&this.#p(),this.updateResult(),r&&(this.#e!==n||ha(this.options.enabled,this.#e)!==ha(t.enabled,this.#e)||fl(this.options.staleTime,this.#e)!==fl(t.staleTime,this.#e))&&this.#g();const i=this.#y();r&&(this.#e!==n||ha(this.options.enabled,this.#e)!==ha(t.enabled,this.#e)||i!==this.#u)&&this.#v(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return hG(this,n)&&(this.#i=n,this.#o=this.options,this.#r=this.#e.state),n}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#p(e){this.#S();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Vi)),t}#g(){this.#w();const e=fl(this.options.staleTime,this.#e);if(xc||this.#i.isStale||!iT(e))return;const n=nU(this.#i.dataUpdatedAt,e)+1;this.#l=gc.setTimeout(()=>{this.#i.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#v(e){this.#b(),this.#u=e,!(xc||ha(this.options.enabled,this.#e)===!1||!iT(this.#u)||this.#u===0)&&(this.#c=gc.setInterval(()=>{(this.options.refetchIntervalInBackground||PA.isFocused())&&this.#p()},this.#u))}#_(){this.#g(),this.#v(this.#y())}#w(){this.#l&&(gc.clearTimeout(this.#l),this.#l=void 0)}#b(){this.#c&&(gc.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#i,o=this.#r,a=this.#o,l=e!==n?e.state:this.#n,{state:f}=e;let d={...f},p=!1,g;if(t._optimisticResults){const W=this.hasListeners(),ee=!W&&gI(e,t),z=W&&yI(e,n,t,r);(ee||z)&&(d={...d,...uU(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:y,errorUpdatedAt:b,status:x}=d;g=d.data;let E=!1;if(t.placeholderData!==void 0&&g===void 0&&x==="pending"){let W;i?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(W=i.data,E=!0):W=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,W!==void 0&&(x="success",g=aT(i?.data,W,t),p=!0)}if(t.select&&g!==void 0&&!E)if(i&&g===o?.data&&t.select===this.#h)g=this.#f;else try{this.#h=t.select,g=t.select(g),g=aT(i?.data,g,t),this.#f=g,this.#a=null}catch(W){this.#a=W}this.#a&&(y=this.#a,g=this.#f,b=Date.now(),x="error");const v=d.fetchStatus==="fetching",w=x==="pending",C=x==="error",P=w&&v,R=g!==void 0,M={status:x,fetchStatus:d.fetchStatus,isPending:w,isSuccess:x==="success",isError:C,isInitialLoading:P,isLoading:P,data:g,dataUpdatedAt:d.dataUpdatedAt,error:y,errorUpdatedAt:b,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>l.dataUpdateCount||d.errorUpdateCount>l.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:C&&!R,isPaused:d.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&R,isStale:MA(e,t),refetch:this.refetch,promise:this.#s,isEnabled:ha(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const W=H=>{M.status==="error"?H.reject(M.error):M.data!==void 0&&H.resolve(M.data)},ee=()=>{const H=this.#s=M.promise=sT();W(H)},z=this.#s;switch(z.status){case"pending":e.queryHash===n.queryHash&&W(z);break;case"fulfilled":(M.status==="error"||M.data!==z.value)&&ee();break;case"rejected":(M.status!=="error"||M.error!==z.reason)&&ee();break}}return M}updateResult(){const e=this.#i,t=this.createResult(this.#e,this.options);if(this.#r=this.#e.state,this.#o=this.options,this.#r.data!==void 0&&(this.#d=this.#e),Ip(t,e))return;this.#i=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const o=new Set(i??this.#m);return this.options.throwOnError&&o.add("error"),Object.keys(this.#i).some(a=>{const s=a;return this.#i[s]!==e[s]&&o.has(s)})};this.#x({listeners:n()})}#S(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#x(e){Hr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function dG(e,t){return ha(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function gI(e,t){return dG(e,t)||e.state.data!==void 0&&lT(e,t,t.refetchOnMount)}function lT(e,t,n){if(ha(t.enabled,e)!==!1&&fl(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&MA(e,t)}return!1}function yI(e,t,n,r){return(e!==t||ha(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&MA(e,n)}function MA(e,t){return ha(t.enabled,e)!==!1&&e.isStaleByTime(fl(t.staleTime,e))}function hG(e,t){return!Ip(e.getCurrentResult(),t)}function vI(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const f=async()=>{let d=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?d=!0:t.signal.addEventListener("abort",()=>{d=!0}),t.signal)})},g=rU(t.options,t.fetchOptions),y=async(b,x,E)=>{if(d)return Promise.reject();if(x==null&&b.pages.length)return Promise.resolve(b);const w=(()=>{const k={client:t.client,queryKey:t.queryKey,pageParam:x,direction:E?"backward":"forward",meta:t.options.meta};return p(k),k})(),C=await g(w),{maxPages:P}=t.options,R=E?oG:iG;return{pages:R(b.pages,C,P),pageParams:R(b.pageParams,x,P)}};if(i&&o.length){const b=i==="backward",x=b?pG:_I,E={pages:o,pageParams:a},v=x(r,E);s=await y(E,v,b)}else{const b=e??o.length;do{const x=l===0?a[0]??r.initialPageParam:_I(r,s);if(l>0&&x==null)break;s=await y(s,x),l++}while(l<b)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function _I(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function pG(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var mG=class extends sU{#t;#e;#n;#i;constructor(e){super(),this.#t=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#e=[],this.state=e.state||lU(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=aU({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(o,a)=>{this.#r({type:"failed",failureCount:o,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#n.config.onMutate?.(e,this,n);const a=await this.options.onMutate?.(e,n);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:i})}const o=await this.#i.start();return await this.#n.config.onSuccess?.(o,e,this.state.context,this,n),await this.options.onSuccess?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(o,null,e,this.state.context,n),this.#r({type:"success",data:o}),o}catch(o){try{throw await this.#n.config.onError?.(o,e,this.state.context,this,n),await this.options.onError?.(o,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,o,e,this.state.context,n),o}finally{this.#r({type:"error",error:o})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Hr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function lU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gG=class extends Dc{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new mG({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=Xg(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Xg(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Xg(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Xg(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Hr.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>fI(t,n))}findAll(e={}){return this.getAll().filter(t=>fI(e,t))}notify(e){Hr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Hr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Vi))))}};function Xg(e){return e.options.scope?.id}var yG=class extends Dc{#t;#e=void 0;#n;#i;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),Ip(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ec(n.mutationKey)!==Ec(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#o(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#o()}mutate(t,n){return this.#i=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??lU();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#o(t){Hr.batch(()=>{if(this.#i&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context,i={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#i.onSuccess?.(t.data,n,r,i),this.#i.onSettled?.(t.data,null,n,r,i)):t?.type==="error"&&(this.#i.onError?.(t.error,n,r,i),this.#i.onSettled?.(void 0,t.error,n,r,i))}this.listeners.forEach(n=>{n(this.#e)})})}};function wI(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function vG(e,t,n){const r=e.slice(0);return r[t]=n,r}var _G=class extends Dc{#t;#e;#n;#i;#r;#o;#s;#a;#h=[];constructor(e,t,n){super(),this.#t=e,this.#i=n,this.#n=[],this.#r=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#r.forEach(e=>{e.subscribe(t=>{this.#c(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#r.forEach(e=>{e.destroy()})}setQueries(e,t){this.#n=e,this.#i=t,Hr.batch(()=>{const n=this.#r,r=this.#l(this.#n);this.#h=r,r.forEach(d=>d.observer.setOptions(d.defaultedQueryOptions));const i=r.map(d=>d.observer),o=i.map(d=>d.getCurrentResult()),a=n.length!==i.length,s=i.some((d,p)=>d!==n[p]),l=a||s,f=l?!0:o.some((d,p)=>{const g=this.#e[p];return!g||!Ip(d,g)});!l&&!f||(l&&(this.#r=i),this.#e=o,this.hasListeners()&&(l&&(wI(n,i).forEach(d=>{d.destroy()}),wI(i,n).forEach(d=>{d.subscribe(p=>{this.#c(d,p)})})),this.#u()))})}getCurrentResult(){return this.#e}getQueries(){return this.#r.map(e=>e.getCurrentQuery())}getObservers(){return this.#r}getOptimisticResult(e,t){const n=this.#l(e),r=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[r,i=>this.#d(i??r,t),()=>this.#f(r,n)]}#f(e,t){return t.map((n,r)=>{const i=e[r];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,o=>{t.forEach(a=>{a.observer.trackProp(o)})})})}#d(e,t){return t?((!this.#o||this.#e!==this.#a||t!==this.#s)&&(this.#s=t,this.#a=this.#e,this.#o=AA(this.#o,t(e))),this.#o):e}#l(e){const t=new Map;this.#r.forEach(r=>{const i=r.options.queryHash;if(!i)return;const o=t.get(i);o?o.push(r):t.set(i,[r])});const n=[];return e.forEach(r=>{const i=this.#t.defaultQueryOptions(r),a=t.get(i.queryHash)?.shift()??new OA(this.#t,i);n.push({defaultedQueryOptions:i,observer:a})}),n}#c(e,t){const n=this.#r.indexOf(e);n!==-1&&(this.#e=vG(this.#e,n,t),this.#u())}#u(){if(this.hasListeners()){const e=this.#o,t=this.#f(this.#e,this.#h),n=this.#d(t,this.#i?.combine);e!==n&&Hr.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},wG=class extends Dc{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??TA(r,t);let o=this.get(i);return o||(o=new fG({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Hr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>cI(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>cI(e,n)):t}notify(e){Hr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Hr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Hr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},bG=class{#t;#e;#n;#i;#r;#o;#s;#a;constructor(e={}){this.#t=e.queryCache||new wG,this.#e=e.mutationCache||new gG,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=PA.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#a=n_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(fl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#t.get(r.queryHash)?.state.data,a=tG(t,o);if(a!==void 0)return this.#t.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Hr.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Hr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Hr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Hr.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Vi).catch(Vi)}invalidateQueries(e,t={}){return Hr.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Hr.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Vi)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Vi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(fl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Vi).catch(Vi)}fetchInfiniteQuery(e){return e.behavior=vI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Vi).catch(Vi)}ensureInfiniteQueryData(e){return e.behavior=vI(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return n_.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Ec(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{Lp(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(Ec(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{Lp(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=TA(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===RA&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},n1={exports:{}},dn={};var bI;function SG(){if(bI)return dn;bI=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function y(Q){return Q===null||typeof Q!="object"?null:(Q=g&&Q[g]||Q["@@iterator"],typeof Q=="function"?Q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,E={};function v(Q,ce,G){this.props=Q,this.context=ce,this.refs=E,this.updater=G||b}v.prototype.isReactComponent={},v.prototype.setState=function(Q,ce){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,ce,"setState")},v.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function w(){}w.prototype=v.prototype;function C(Q,ce,G){this.props=Q,this.context=ce,this.refs=E,this.updater=G||b}var P=C.prototype=new w;P.constructor=C,x(P,v.prototype),P.isPureReactComponent=!0;var R=Array.isArray;function k(){}var M={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function ee(Q,ce,G){var X=G.ref;return{$$typeof:e,type:Q,key:ce,ref:X!==void 0?X:null,props:G}}function z(Q,ce){return ee(Q.type,ce,Q.props)}function H(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===e}function te(Q){var ce={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(G){return ce[G]})}var oe=/\/+/g;function ue(Q,ce){return typeof Q=="object"&&Q!==null&&Q.key!=null?te(""+Q.key):ce.toString(36)}function de(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(k,k):(Q.status="pending",Q.then(function(ce){Q.status==="pending"&&(Q.status="fulfilled",Q.value=ce)},function(ce){Q.status==="pending"&&(Q.status="rejected",Q.reason=ce)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function se(Q,ce,G,X,ge){var xe=typeof Q;(xe==="undefined"||xe==="boolean")&&(Q=null);var Ve=!1;if(Q===null)Ve=!0;else switch(xe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(Q.$$typeof){case e:case t:Ve=!0;break;case d:return Ve=Q._init,se(Ve(Q._payload),ce,G,X,ge)}}if(Ve)return ge=ge(Q),Ve=X===""?"."+ue(Q,0):X,R(ge)?(G="",Ve!=null&&(G=Ve.replace(oe,"$&/")+"/"),se(ge,ce,G,"",function(Je){return Je})):ge!=null&&(H(ge)&&(ge=z(ge,G+(ge.key==null||Q&&Q.key===ge.key?"":(""+ge.key).replace(oe,"$&/")+"/")+Ve)),ce.push(ge)),1;Ve=0;var Pe=X===""?".":X+":";if(R(Q))for(var Be=0;Be<Q.length;Be++)X=Q[Be],xe=Pe+ue(X,Be),Ve+=se(X,ce,G,xe,ge);else if(Be=y(Q),typeof Be=="function")for(Q=Be.call(Q),Be=0;!(X=Q.next()).done;)X=X.value,xe=Pe+ue(X,Be++),Ve+=se(X,ce,G,xe,ge);else if(xe==="object"){if(typeof Q.then=="function")return se(de(Q),ce,G,X,ge);throw ce=String(Q),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function pe(Q,ce,G){if(Q==null)return Q;var X=[],ge=0;return se(Q,X,"","",function(xe){return ce.call(G,xe,ge++)}),X}function re(Q){if(Q._status===-1){var ce=Q._result;ce=ce(),ce.then(function(G){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=G)},function(G){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=G)}),Q._status===-1&&(Q._status=0,Q._result=ce)}if(Q._status===1)return Q._result.default;throw Q._result}var Ee=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ce=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(ce))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},$={map:pe,forEach:function(Q,ce,G){pe(Q,function(){ce.apply(this,arguments)},G)},count:function(Q){var ce=0;return pe(Q,function(){ce++}),ce},toArray:function(Q){return pe(Q,function(ce){return ce})||[]},only:function(Q){if(!H(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return dn.Activity=p,dn.Children=$,dn.Component=v,dn.Fragment=n,dn.Profiler=i,dn.PureComponent=C,dn.StrictMode=r,dn.Suspense=l,dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,dn.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return M.H.useMemoCache(Q)}},dn.cache=function(Q){return function(){return Q.apply(null,arguments)}},dn.cacheSignal=function(){return null},dn.cloneElement=function(Q,ce,G){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var X=x({},Q.props),ge=Q.key;if(ce!=null)for(xe in ce.key!==void 0&&(ge=""+ce.key),ce)!W.call(ce,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ce.ref===void 0||(X[xe]=ce[xe]);var xe=arguments.length-2;if(xe===1)X.children=G;else if(1<xe){for(var Ve=Array(xe),Pe=0;Pe<xe;Pe++)Ve[Pe]=arguments[Pe+2];X.children=Ve}return ee(Q.type,ge,X)},dn.createContext=function(Q){return Q={$$typeof:a,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},dn.createElement=function(Q,ce,G){var X,ge={},xe=null;if(ce!=null)for(X in ce.key!==void 0&&(xe=""+ce.key),ce)W.call(ce,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ge[X]=ce[X]);var Ve=arguments.length-2;if(Ve===1)ge.children=G;else if(1<Ve){for(var Pe=Array(Ve),Be=0;Be<Ve;Be++)Pe[Be]=arguments[Be+2];ge.children=Pe}if(Q&&Q.defaultProps)for(X in Ve=Q.defaultProps,Ve)ge[X]===void 0&&(ge[X]=Ve[X]);return ee(Q,xe,ge)},dn.createRef=function(){return{current:null}},dn.forwardRef=function(Q){return{$$typeof:s,render:Q}},dn.isValidElement=H,dn.lazy=function(Q){return{$$typeof:d,_payload:{_status:-1,_result:Q},_init:re}},dn.memo=function(Q,ce){return{$$typeof:f,type:Q,compare:ce===void 0?null:ce}},dn.startTransition=function(Q){var ce=M.T,G={};M.T=G;try{var X=Q(),ge=M.S;ge!==null&&ge(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(k,Ee)}catch(xe){Ee(xe)}finally{ce!==null&&G.types!==null&&(ce.types=G.types),M.T=ce}},dn.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},dn.use=function(Q){return M.H.use(Q)},dn.useActionState=function(Q,ce,G){return M.H.useActionState(Q,ce,G)},dn.useCallback=function(Q,ce){return M.H.useCallback(Q,ce)},dn.useContext=function(Q){return M.H.useContext(Q)},dn.useDebugValue=function(){},dn.useDeferredValue=function(Q,ce){return M.H.useDeferredValue(Q,ce)},dn.useEffect=function(Q,ce){return M.H.useEffect(Q,ce)},dn.useEffectEvent=function(Q){return M.H.useEffectEvent(Q)},dn.useId=function(){return M.H.useId()},dn.useImperativeHandle=function(Q,ce,G){return M.H.useImperativeHandle(Q,ce,G)},dn.useInsertionEffect=function(Q,ce){return M.H.useInsertionEffect(Q,ce)},dn.useLayoutEffect=function(Q,ce){return M.H.useLayoutEffect(Q,ce)},dn.useMemo=function(Q,ce){return M.H.useMemo(Q,ce)},dn.useOptimistic=function(Q,ce){return M.H.useOptimistic(Q,ce)},dn.useReducer=function(Q,ce,G){return M.H.useReducer(Q,ce,G)},dn.useRef=function(Q){return M.H.useRef(Q)},dn.useState=function(Q){return M.H.useState(Q)},dn.useSyncExternalStore=function(Q,ce,G){return M.H.useSyncExternalStore(Q,ce,G)},dn.useTransition=function(){return M.H.useTransition()},dn.version="19.2.0",dn}var SI;function Sd(){return SI||(SI=1,n1.exports=SG()),n1.exports}var B=Sd();const St=_r(B),kp=tU({__proto__:null,default:St},[B]);var cU=B.createContext(void 0),Ui=e=>{const t=B.useContext(cU);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xG=({client:e,children:t})=>(B.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),U.jsx(cU.Provider,{value:e,children:t})),fU=B.createContext(!1),dU=()=>B.useContext(fU);fU.Provider;function EG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var CG=B.createContext(EG()),hU=()=>B.useContext(CG),pU=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},mU=e=>{B.useEffect(()=>{e.clearReset()},[e])},gU=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||iU(n,[e.error,r])),yU=e=>{if(e.suspense){const n=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>n(r(...i)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},vU=(e,t)=>e.isLoading&&e.isFetching&&!t,cT=(e,t)=>e?.suspense&&t.isPending,r_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Dp({queries:e,...t},n){const r=Ui(),i=dU(),o=hU(),a=B.useMemo(()=>e.map(x=>{const E=r.defaultQueryOptions(x);return E._optimisticResults=i?"isRestoring":"optimistic",E}),[e,r,i]);a.forEach(x=>{yU(x),pU(x,o)}),mU(o);const[s]=B.useState(()=>new _G(r,a,t)),[l,f,d]=s.getOptimisticResult(a,t.combine),p=!i&&t.subscribed!==!1;B.useSyncExternalStore(B.useCallback(x=>p?s.subscribe(Hr.batchCalls(x)):Vi,[s,p]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),B.useEffect(()=>{s.setQueries(a,t)},[a,t,s]);const y=l.some((x,E)=>cT(a[E],x))?l.flatMap((x,E)=>{const v=a[E];if(v){const w=new OA(r,v);if(cT(v,x))return r_(v,w,o);vU(x,i)&&r_(v,w,o)}return[]}):[];if(y.length>0)throw Promise.all(y);const b=l.find((x,E)=>{const v=a[E];return v&&gU({result:x,errorResetBoundary:o,throwOnError:v.throwOnError,query:r.getQueryCache().get(v.queryHash),suspense:v.suspense})});if(b?.error)throw b.error;return f(d())}function TG(e,t,n){const r=dU(),i=hU(),o=Ui(),a=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=r?"isRestoring":"optimistic",yU(a),pU(a,i),mU(i);const s=!o.getQueryCache().get(a.queryHash),[l]=B.useState(()=>new t(o,a)),f=l.getOptimisticResult(a),d=!r&&e.subscribed!==!1;if(B.useSyncExternalStore(B.useCallback(p=>{const g=d?l.subscribe(Hr.batchCalls(p)):Vi;return l.updateResult(),g},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),B.useEffect(()=>{l.setOptions(a)},[a,l]),cT(a,f))throw r_(a,l,i);if(gU({result:f,errorResetBoundary:i,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw f.error;return o.getDefaultOptions().queries?._experimental_afterQuery?.(a,f),a.experimental_prefetchInRender&&!xc&&vU(f,r)&&(s?r_(a,l,i):o.getQueryCache().get(a.queryHash)?.promise)?.catch(Vi).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?f:l.trackResult(f)}function dm(e,t){return TG(e,OA)}function ta(e,t){const n=Ui(),[r]=B.useState(()=>new yG(n,e));B.useEffect(()=>{r.setOptions(e)},[r,e]);const i=B.useSyncExternalStore(B.useCallback(a=>r.subscribe(Hr.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=B.useCallback((a,s)=>{r.mutate(a,s).catch(Vi)},[r]);if(i.error&&iU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}var r1={exports:{}},Ih={},i1={exports:{}},o1={};var xI;function AG(){return xI||(xI=1,(function(e){function t(se,pe){var re=se.length;se.push(pe);e:for(;0<re;){var Ee=re-1>>>1,$=se[Ee];if(0<i($,pe))se[Ee]=pe,se[re]=$,re=Ee;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var pe=se[0],re=se.pop();if(re!==pe){se[0]=re;e:for(var Ee=0,$=se.length,Q=$>>>1;Ee<Q;){var ce=2*(Ee+1)-1,G=se[ce],X=ce+1,ge=se[X];if(0>i(G,re))X<$&&0>i(ge,G)?(se[Ee]=ge,se[X]=re,Ee=X):(se[Ee]=G,se[ce]=re,Ee=ce);else if(X<$&&0>i(ge,re))se[Ee]=ge,se[X]=re,Ee=X;else break e}}return pe}function i(se,pe){var re=se.sortIndex-pe.sortIndex;return re!==0?re:se.id-pe.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],f=[],d=1,p=null,g=3,y=!1,b=!1,x=!1,E=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(se){for(var pe=n(f);pe!==null;){if(pe.callback===null)r(f);else if(pe.startTime<=se)r(f),pe.sortIndex=pe.expirationTime,t(l,pe);else break;pe=n(f)}}function R(se){if(x=!1,P(se),!b)if(n(l)!==null)b=!0,k||(k=!0,te());else{var pe=n(f);pe!==null&&de(R,pe.startTime-se)}}var k=!1,M=-1,W=5,ee=-1;function z(){return E?!0:!(e.unstable_now()-ee<W)}function H(){if(E=!1,k){var se=e.unstable_now();ee=se;var pe=!0;try{e:{b=!1,x&&(x=!1,w(M),M=-1),y=!0;var re=g;try{t:{for(P(se),p=n(l);p!==null&&!(p.expirationTime>se&&z());){var Ee=p.callback;if(typeof Ee=="function"){p.callback=null,g=p.priorityLevel;var $=Ee(p.expirationTime<=se);if(se=e.unstable_now(),typeof $=="function"){p.callback=$,P(se),pe=!0;break t}p===n(l)&&r(l),P(se)}else r(l);p=n(l)}if(p!==null)pe=!0;else{var Q=n(f);Q!==null&&de(R,Q.startTime-se),pe=!1}}break e}finally{p=null,g=re,y=!1}pe=void 0}}finally{pe?te():k=!1}}}var te;if(typeof C=="function")te=function(){C(H)};else if(typeof MessageChannel<"u"){var oe=new MessageChannel,ue=oe.port2;oe.port1.onmessage=H,te=function(){ue.postMessage(null)}}else te=function(){v(H,0)};function de(se,pe){M=v(function(){se(e.unstable_now())},pe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(se){switch(g){case 1:case 2:case 3:var pe=3;break;default:pe=g}var re=g;g=pe;try{return se()}finally{g=re}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(se,pe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var re=g;g=se;try{return pe()}finally{g=re}},e.unstable_scheduleCallback=function(se,pe,re){var Ee=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Ee+re:Ee):re=Ee,se){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=re+$,se={id:d++,callback:pe,priorityLevel:se,startTime:re,expirationTime:$,sortIndex:-1},re>Ee?(se.sortIndex=re,t(f,se),n(l)===null&&se===n(f)&&(x?(w(M),M=-1):x=!0,de(R,re-Ee))):(se.sortIndex=$,t(l,se),b||y||(b=!0,k||(k=!0,te()))),se},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(se){var pe=g;return function(){var re=g;g=pe;try{return se.apply(this,arguments)}finally{g=re}}}})(o1)),o1}var EI;function RG(){return EI||(EI=1,i1.exports=AG()),i1.exports}var a1={exports:{}},qi={};var CI;function PG(){if(CI)return qi;CI=1;var e=Sd();function t(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(l,f,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:l,containerInfo:f,implementation:d}}var a=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,f){if(l==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,qi.createPortal=function(l,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(l,f,null,d)},qi.flushSync=function(l){var f=a.T,d=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=f,r.p=d,r.d.f()}},qi.preconnect=function(l,f){typeof l=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(l,f))},qi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},qi.preinit=function(l,f){if(typeof l=="string"&&f&&typeof f.as=="string"){var d=f.as,p=s(d,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(l,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},qi.preinitModule=function(l,f){if(typeof l=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=s(f.as,f.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(l)},qi.preload=function(l,f){if(typeof l=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,p=s(d,f.crossOrigin);r.d.L(l,d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},qi.preloadModule=function(l,f){if(typeof l=="string")if(f){var d=s(f.as,f.crossOrigin);r.d.m(l,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(l)},qi.requestFormReset=function(l){r.d.r(l)},qi.unstable_batchedUpdates=function(l,f){return l(f)},qi.useFormState=function(l,f,d){return a.H.useFormState(l,f,d)},qi.useFormStatus=function(){return a.H.useHostTransitionStatus()},qi.version="19.2.0",qi}var TI;function LA(){if(TI)return a1.exports;TI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a1.exports=PG(),a1.exports}var AI;function OG(){if(AI)return Ih;AI=1;var e=RG(),t=Sd(),n=LA();function r(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function o(u){var c=u,m=u;if(u.alternate)for(;c.return;)c=c.return;else{u=c;do c=u,(c.flags&4098)!==0&&(m=c.return),u=c.return;while(u)}return c.tag===3?m:null}function a(u){if(u.tag===13){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function s(u){if(u.tag===31){var c=u.memoizedState;if(c===null&&(u=u.alternate,u!==null&&(c=u.memoizedState)),c!==null)return c.dehydrated}return null}function l(u){if(o(u)!==u)throw Error(r(188))}function f(u){var c=u.alternate;if(!c){if(c=o(u),c===null)throw Error(r(188));return c!==u?null:u}for(var m=u,S=c;;){var D=m.return;if(D===null)break;var F=D.alternate;if(F===null){if(S=D.return,S!==null){m=S;continue}break}if(D.child===F.child){for(F=D.child;F;){if(F===m)return l(D),u;if(F===S)return l(D),c;F=F.sibling}throw Error(r(188))}if(m.return!==S.return)m=D,S=F;else{for(var le=!1,be=D.child;be;){if(be===m){le=!0,m=D,S=F;break}if(be===S){le=!0,S=D,m=F;break}be=be.sibling}if(!le){for(be=F.child;be;){if(be===m){le=!0,m=F,S=D;break}if(be===S){le=!0,S=F,m=D;break}be=be.sibling}if(!le)throw Error(r(189))}}if(m.alternate!==S)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?u:c}function d(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u;for(u=u.child;u!==null;){if(c=d(u),c!==null)return c;u=u.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function te(u){return u===null||typeof u!="object"?null:(u=H&&u[H]||u["@@iterator"],typeof u=="function"?u:null)}var oe=Symbol.for("react.client.reference");function ue(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===oe?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case x:return"Fragment";case v:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList";case ee:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case b:return"Portal";case C:return u.displayName||"Context";case w:return(u._context.displayName||"Context")+".Consumer";case P:var c=u.render;return u=u.displayName,u||(u=c.displayName||c.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case M:return c=u.displayName||null,c!==null?c:ue(u.type)||"Memo";case W:c=u._payload,u=u._init;try{return ue(u(c))}catch{}}return null}var de=Array.isArray,se=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Ee=[],$=-1;function Q(u){return{current:u}}function ce(u){0>$||(u.current=Ee[$],Ee[$]=null,$--)}function G(u,c){$++,Ee[$]=u.current,u.current=c}var X=Q(null),ge=Q(null),xe=Q(null),Ve=Q(null);function Pe(u,c){switch(G(xe,c),G(ge,u),G(X,null),c.nodeType){case 9:case 11:u=(u=c.documentElement)&&(u=u.namespaceURI)?ML(u):0;break;default:if(u=c.tagName,c=c.namespaceURI)c=ML(c),u=LL(c,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}ce(X),G(X,u)}function Be(){ce(X),ce(ge),ce(xe)}function Je(u){u.memoizedState!==null&&G(Ve,u);var c=X.current,m=LL(c,u.type);c!==m&&(G(ge,u),G(X,m))}function fe(u){ge.current===u&&(ce(X),ce(ge)),Ve.current===u&&(ce(Ve),Rh._currentValue=re)}var V,j;function ie(u){if(V===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);V=c&&c[1]||"",j=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+u+j}var me=!1;function Te(u,c){if(!u||me)return"";me=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(c){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(yt){var pt=yt}Reflect.construct(u,[],Et)}else{try{Et.call()}catch(yt){pt=yt}u.call(Et.prototype)}}else{try{throw Error()}catch(yt){pt=yt}(Et=u())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(yt){if(yt&&pt&&typeof yt.stack=="string")return[yt.stack,pt.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=S.DetermineComponentFrameRoot(),le=F[0],be=F[1];if(le&&be){var We=le.split(`
`),dt=be.split(`
`);for(D=S=0;S<We.length&&!We[S].includes("DetermineComponentFrameRoot");)S++;for(;D<dt.length&&!dt[D].includes("DetermineComponentFrameRoot");)D++;if(S===We.length||D===dt.length)for(S=We.length-1,D=dt.length-1;1<=S&&0<=D&&We[S]!==dt[D];)D--;for(;1<=S&&0<=D;S--,D--)if(We[S]!==dt[D]){if(S!==1||D!==1)do if(S--,D--,0>D||We[S]!==dt[D]){var vt=`
`+We[S].replace(" at new "," at ");return u.displayName&&vt.includes("<anonymous>")&&(vt=vt.replace("<anonymous>",u.displayName)),vt}while(1<=S&&0<=D);break}}}finally{me=!1,Error.prepareStackTrace=m}return(m=u?u.displayName||u.name:"")?ie(m):""}function Le(u,c){switch(u.tag){case 26:case 27:case 5:return ie(u.type);case 16:return ie("Lazy");case 13:return u.child!==c&&c!==null?ie("Suspense Fallback"):ie("Suspense");case 19:return ie("SuspenseList");case 0:case 15:return Te(u.type,!1);case 11:return Te(u.type.render,!1);case 1:return Te(u.type,!0);case 31:return ie("Activity");default:return""}}function rt(u){try{var c="",m=null;do c+=Le(u,m),m=u,u=u.return;while(u);return c}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}var Ie=Object.prototype.hasOwnProperty,ye=e.unstable_scheduleCallback,Ae=e.unstable_cancelCallback,Me=e.unstable_shouldYield,tt=e.unstable_requestPaint,mt=e.unstable_now,Ye=e.unstable_getCurrentPriorityLevel,qe=e.unstable_ImmediatePriority,ae=e.unstable_UserBlockingPriority,K=e.unstable_NormalPriority,Y=e.unstable_LowPriority,J=e.unstable_IdlePriority,Ge=e.log,et=e.unstable_setDisableYieldValue,Ke=null,Pt=null;function tn(u){if(typeof Ge=="function"&&et(u),Pt&&typeof Pt.setStrictMode=="function")try{Pt.setStrictMode(Ke,u)}catch{}}var zt=Math.clz32?Math.clz32:ai,Zt=Math.log,Yt=Math.LN2;function ai(u){return u>>>=0,u===0?32:31-(Zt(u)/Yt|0)|0}var Tn=256,nn=262144,Er=4194304;function un(u){var c=u&42;if(c!==0)return c;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function fr(u,c,m){var S=u.pendingLanes;if(S===0)return 0;var D=0,F=u.suspendedLanes,le=u.pingedLanes;u=u.warmLanes;var be=S&134217727;return be!==0?(S=be&~F,S!==0?D=un(S):(le&=be,le!==0?D=un(le):m||(m=be&~u,m!==0&&(D=un(m))))):(be=S&~F,be!==0?D=un(be):le!==0?D=un(le):m||(m=S&~u,m!==0&&(D=un(m)))),D===0?0:c!==0&&c!==D&&(c&F)===0&&(F=D&-D,m=c&-c,F>=m||F===32&&(m&4194048)!==0)?c:D}function dr(u,c){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&c)===0}function Cr(u,c){switch(u){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var u=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),u}function Ue(u){for(var c=[],m=0;31>m;m++)c.push(u);return c}function Ct(u,c){u.pendingLanes|=c,c!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function At(u,c,m,S,D,F){var le=u.pendingLanes;u.pendingLanes=m,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=m,u.entangledLanes&=m,u.errorRecoveryDisabledLanes&=m,u.shellSuspendCounter=0;var be=u.entanglements,We=u.expirationTimes,dt=u.hiddenUpdates;for(m=le&~m;0<m;){var vt=31-zt(m),Et=1<<vt;be[vt]=0,We[vt]=-1;var pt=dt[vt];if(pt!==null)for(dt[vt]=null,vt=0;vt<pt.length;vt++){var yt=pt[vt];yt!==null&&(yt.lane&=-536870913)}m&=~Et}S!==0&&Dt(u,S,0),F!==0&&D===0&&u.tag!==0&&(u.suspendedLanes|=F&~(le&~c))}function Dt(u,c,m){u.pendingLanes|=c,u.suspendedLanes&=~c;var S=31-zt(c);u.entangledLanes|=c,u.entanglements[S]=u.entanglements[S]|1073741824|m&261930}function $e(u,c){var m=u.entangledLanes|=c;for(u=u.entanglements;m;){var S=31-zt(m),D=1<<S;D&c|u[S]&c&&(u[S]|=c),m&=~D}}function Xe(u,c){var m=c&-c;return m=(m&42)!==0?1:ut(m),(m&(u.suspendedLanes|c))!==0?0:m}function ut(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function lt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Ot(){var u=pe.p;return u!==0?u:(u=window.event,u===void 0?32:tI(u.type))}function qt(u,c){var m=pe.p;try{return pe.p=u,c()}finally{pe.p=m}}var jt=Math.random().toString(36).slice(2),Lt="__reactFiber$"+jt,It="__reactProps$"+jt,Bt="__reactContainer$"+jt,Rt="__reactEvents$"+jt,wt="__reactListeners$"+jt,Nt="__reactHandles$"+jt,Jt="__reactResources$"+jt,cn="__reactMarker$"+jt;function An(u){delete u[Lt],delete u[It],delete u[Rt],delete u[wt],delete u[Nt]}function Gt(u){var c=u[Lt];if(c)return c;for(var m=u.parentNode;m;){if(c=m[Bt]||m[Lt]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(u=UL(u);u!==null;){if(m=u[Lt])return m;u=UL(u)}return c}u=m,m=u.parentNode}return null}function pn(u){if(u=u[Lt]||u[Bt]){var c=u.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return u}return null}function sr(u){var c=u.tag;if(c===5||c===26||c===27||c===6)return u.stateNode;throw Error(r(33))}function Qr(u){var c=u[Jt];return c||(c=u[Jt]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Ln(u){u[cn]=!0}var hr=new Set,na={};function si(u,c){pr(u,c),pr(u+"Capture",c)}function pr(u,c){for(na[u]=c,u=0;u<c.length;u++)hr.add(c[u])}var vi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wi={},T={};function A(u){return Ie.call(T,u)?!0:Ie.call(Wi,u)?!1:vi.test(u)?T[u]=!0:(Wi[u]=!0,!1)}function O(u,c,m){if(A(c))if(m===null)u.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":u.removeAttribute(c);return;case"boolean":var S=c.toLowerCase().slice(0,5);if(S!=="data-"&&S!=="aria-"){u.removeAttribute(c);return}}u.setAttribute(c,""+m)}}function N(u,c,m){if(m===null)u.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(c);return}u.setAttribute(c,""+m)}}function Z(u,c,m,S){if(S===null)u.removeAttribute(m);else{switch(typeof S){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(m);return}u.setAttributeNS(c,m,""+S)}}function he(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ve(u){var c=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Oe(u,c,m){var S=Object.getOwnPropertyDescriptor(u.constructor.prototype,c);if(!u.hasOwnProperty(c)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var D=S.get,F=S.set;return Object.defineProperty(u,c,{configurable:!0,get:function(){return D.call(this)},set:function(le){m=""+le,F.call(this,le)}}),Object.defineProperty(u,c,{enumerable:S.enumerable}),{getValue:function(){return m},setValue:function(le){m=""+le},stopTracking:function(){u._valueTracker=null,delete u[c]}}}}function Se(u){if(!u._valueTracker){var c=ve(u)?"checked":"value";u._valueTracker=Oe(u,c,""+u[c])}}function Ce(u){if(!u)return!1;var c=u._valueTracker;if(!c)return!0;var m=c.getValue(),S="";return u&&(S=ve(u)?u.checked?"true":"false":u.value),u=S,u!==m?(c.setValue(u),!0):!1}function ke(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Ne=/[\n"\\]/g;function je(u){return u.replace(Ne,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ze(u,c,m,S,D,F,le,be){u.name="",le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"?u.type=le:u.removeAttribute("type"),c!=null?le==="number"?(c===0&&u.value===""||u.value!=c)&&(u.value=""+he(c)):u.value!==""+he(c)&&(u.value=""+he(c)):le!=="submit"&&le!=="reset"||u.removeAttribute("value"),c!=null?ct(u,le,he(c)):m!=null?ct(u,le,he(m)):S!=null&&u.removeAttribute("value"),D==null&&F!=null&&(u.defaultChecked=!!F),D!=null&&(u.checked=D&&typeof D!="function"&&typeof D!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?u.name=""+he(be):u.removeAttribute("name")}function nt(u,c,m,S,D,F,le,be){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(u.type=F),c!=null||m!=null){if(!(F!=="submit"&&F!=="reset"||c!=null)){Se(u);return}m=m!=null?""+he(m):"",c=c!=null?""+he(c):m,be||c===u.value||(u.value=c),u.defaultValue=c}S=S??D,S=typeof S!="function"&&typeof S!="symbol"&&!!S,u.checked=be?u.checked:!!S,u.defaultChecked=!!S,le!=null&&typeof le!="function"&&typeof le!="symbol"&&typeof le!="boolean"&&(u.name=le),Se(u)}function ct(u,c,m){c==="number"&&ke(u.ownerDocument)===u||u.defaultValue===""+m||(u.defaultValue=""+m)}function at(u,c,m,S){if(u=u.options,c){c={};for(var D=0;D<m.length;D++)c["$"+m[D]]=!0;for(m=0;m<u.length;m++)D=c.hasOwnProperty("$"+u[m].value),u[m].selected!==D&&(u[m].selected=D),D&&S&&(u[m].defaultSelected=!0)}else{for(m=""+he(m),c=null,D=0;D<u.length;D++){if(u[D].value===m){u[D].selected=!0,S&&(u[D].defaultSelected=!0);return}c!==null||u[D].disabled||(c=u[D])}c!==null&&(c.selected=!0)}}function _e(u,c,m){if(c!=null&&(c=""+he(c),c!==u.value&&(u.value=c),m==null)){u.defaultValue!==c&&(u.defaultValue=c);return}u.defaultValue=m!=null?""+he(m):""}function De(u,c,m,S){if(c==null){if(S!=null){if(m!=null)throw Error(r(92));if(de(S)){if(1<S.length)throw Error(r(93));S=S[0]}m=S}m==null&&(m=""),c=m}m=he(c),u.defaultValue=m,S=u.textContent,S===m&&S!==""&&S!==null&&(u.value=S),Se(u)}function Fe(u,c){if(c){var m=u.firstChild;if(m&&m===u.lastChild&&m.nodeType===3){m.nodeValue=c;return}}u.textContent=c}var ze=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function st(u,c,m){var S=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?S?u.setProperty(c,""):c==="float"?u.cssFloat="":u[c]="":S?u.setProperty(c,m):typeof m!="number"||m===0||ze.has(c)?c==="float"?u.cssFloat=m:u[c]=(""+m).trim():u[c]=m+"px"}function gt(u,c,m){if(c!=null&&typeof c!="object")throw Error(r(62));if(u=u.style,m!=null){for(var S in m)!m.hasOwnProperty(S)||c!=null&&c.hasOwnProperty(S)||(S.indexOf("--")===0?u.setProperty(S,""):S==="float"?u.cssFloat="":u[S]="");for(var D in c)S=c[D],c.hasOwnProperty(D)&&m[D]!==S&&st(u,D,S)}else for(var F in c)c.hasOwnProperty(F)&&st(u,F,c[F])}function $t(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return fn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Ht(){}var jn=null;function Un(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Nn=null,Kt=null;function Qn(u){var c=pn(u);if(c&&(u=c.stateNode)){var m=u[It]||null;e:switch(u=c.stateNode,c.type){case"input":if(Ze(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=u;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+je(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var S=m[c];if(S!==u&&S.form===u.form){var D=S[It]||null;if(!D)throw Error(r(90));Ze(S,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(c=0;c<m.length;c++)S=m[c],S.form===u.form&&Ce(S)}break e;case"textarea":_e(u,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&at(u,!!m.multiple,c,!1)}}}var ln=!1;function mr(u,c,m){if(ln)return u(c,m);ln=!0;try{var S=u(c);return S}finally{if(ln=!1,(Nn!==null||Kt!==null)&&(Og(),Nn&&(c=Nn,u=Kt,Kt=Nn=null,Qn(c),u)))for(c=0;c<u.length;c++)Qn(u[c])}}function er(u,c){var m=u.stateNode;if(m===null)return null;var S=m[It]||null;if(S===null)return null;m=S[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(m&&typeof m!="function")throw Error(r(231,c,typeof m));return m}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rr=!1;if(Vn)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Rr=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Rr=!1}var li=null,Zi=null,tr=null;function uo(){if(tr)return tr;var u,c=Zi,m=c.length,S,D="value"in li?li.value:li.textContent,F=D.length;for(u=0;u<m&&c[u]===D[u];u++);var le=m-u;for(S=1;S<=le&&c[m-S]===D[F-S];S++);return tr=D.slice(u,1<S?1-S:void 0)}function Oo(u){var c=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&c===13&&(u=13)):u=c,u===10&&(u=13),32<=u||u===13?u:0}function ci(){return!0}function Si(){return!1}function jr(u){function c(m,S,D,F,le){this._reactName=m,this._targetInst=D,this.type=S,this.nativeEvent=F,this.target=le,this.currentTarget=null;for(var be in u)u.hasOwnProperty(be)&&(m=u[be],this[be]=m?m(F):F[be]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ci:Si,this.isPropagationStopped=Si,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),c}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=jr(xi),lo=p({},xi,{view:0,detail:0}),bn=jr(lo),Ta,gr,fi,Ei=p({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gd,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==fi&&(fi&&u.type==="mousemove"?(Ta=u.screenX-fi.screenX,gr=u.screenY-fi.screenY):gr=Ta=0,fi=u),Ta)},movementY:function(u){return"movementY"in u?u.movementY:gr}}),nr=jr(Ei),Qi=p({},Ei,{dataTransfer:0}),Ya=jr(Qi),Tr=p({},lo,{relatedTarget:0}),Os=jr(Tr),Aa=p({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mo=jr(Aa),Hd=p({},xi,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),co=jr(Hd),Gc=p({},xi,{data:0}),Vd=jr(Gc),Xa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Um={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kd(u){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(u):(u=Um[u])?!!c[u]:!1}function Gd(){return Kd}var Bm=p({},lo,{key:function(u){if(u.key){var c=Xa[u.key]||u.key;if(c!=="Unidentified")return c}return u.type==="keypress"?(u=Oo(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?jm[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gd,charCode:function(u){return u.type==="keypress"?Oo(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Oo(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),$m=jr(Bm),m0=p({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zm=jr(m0),Wd=p({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gd}),g0=jr(Wd),qm=p({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hm=jr(qm),Wc=p({},Ei,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Ms=jr(Wc),y0=p({},xi,{newState:0,oldState:0}),Rl=jr(y0),fo=[9,13,27,32],Zc=Vn&&"CompositionEvent"in window,bu=null;Vn&&"documentMode"in document&&(bu=document.documentMode);var v0=Vn&&"TextEvent"in window&&!bu,Qc=Vn&&(!Zc||bu&&8<bu&&11>=bu),Jc=" ",Vm=!1;function Km(u,c){switch(u){case"keyup":return fo.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Su=!1;function Lo(u,c){switch(u){case"compositionend":return Zd(c);case"keypress":return c.which!==32?null:(Vm=!0,Jc);case"textInput":return u=c.data,u===Jc&&Vm?null:u;default:return null}}function xu(u,c){if(Su)return u==="compositionend"||!Zc&&Km(u,c)?(u=uo(),tr=Zi=li=null,Su=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Qc&&c.locale!=="ko"?null:c.data;default:return null}}var _0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ra(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c==="input"?!!_0[u.type]:c==="textarea"}function Gm(u,c,m,S){Nn?Kt?Kt.push(S):Kt=[S]:Nn=S,c=Fg(c,"onChange"),0<c.length&&(m=new Ca("onChange","change",null,m,S),u.push({event:m,listeners:c}))}var ia=null,Pl=null;function Ol(u){CL(u,0)}function Ml(u){var c=sr(u);if(Ce(c))return u}function Ll(u,c){if(u==="change")return c}var Wm=!1;if(Vn){var oa;if(Vn){var Eu="oninput"in document;if(!Eu){var Zm=document.createElement("div");Zm.setAttribute("oninput","return;"),Eu=typeof Zm.oninput=="function"}oa=Eu}else oa=!1;Wm=oa&&(!document.documentMode||9<document.documentMode)}function Yc(){ia&&(ia.detachEvent("onpropertychange",Qm),Pl=ia=null)}function Qm(u){if(u.propertyName==="value"&&Ml(Pl)){var c=[];Gm(c,Pl,u,Un(u)),mr(Ol,c)}}function Ra(u,c,m){u==="focusin"?(Yc(),ia=c,Pl=m,ia.attachEvent("onpropertychange",Qm)):u==="focusout"&&Yc()}function w0(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Ml(Pl)}function Cu(u,c){if(u==="click")return Ml(c)}function b0(u,c){if(u==="input"||u==="change")return Ml(c)}function Pa(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var _i=typeof Object.is=="function"?Object.is:Pa;function Tu(u,c){if(_i(u,c))return!0;if(typeof u!="object"||u===null||typeof c!="object"||c===null)return!1;var m=Object.keys(u),S=Object.keys(c);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var D=m[S];if(!Ie.call(c,D)||!_i(u[D],c[D]))return!1}return!0}function Xc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Il(u,c){var m=Xc(u);u=0;for(var S;m;){if(m.nodeType===3){if(S=u+m.textContent.length,u<=c&&S>=c)return{node:m,offset:c-u};u=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Xc(m)}}function ef(u,c){return u&&c?u===c?!0:u&&u.nodeType===3?!1:c&&c.nodeType===3?ef(u,c.parentNode):"contains"in u?u.contains(c):u.compareDocumentPosition?!!(u.compareDocumentPosition(c)&16):!1:!1}function kl(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var c=ke(u.document);c instanceof u.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)u=c.contentWindow;else break;c=ke(u.document)}return c}function es(u){var c=u&&u.nodeName&&u.nodeName.toLowerCase();return c&&(c==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||c==="textarea"||u.contentEditable==="true")}var tf=Vn&&"documentMode"in document&&11>=document.documentMode,ts=null,nf=null,Dl=null,Au=!1;function Jm(u,c,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Au||ts==null||ts!==ke(S)||(S=ts,"selectionStart"in S&&es(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),Dl&&Tu(Dl,S)||(Dl=S,S=Fg(nf,"onSelect"),0<S.length&&(c=new Ca("onSelect","select",null,c,m),u.push({event:c,listeners:S}),c.target=ts)))}function ns(u,c){var m={};return m[u.toLowerCase()]=c.toLowerCase(),m["Webkit"+u]="webkit"+c,m["Moz"+u]="moz"+c,m}var Ru={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},rf={},Ym={};Vn&&(Ym=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function wi(u){if(rf[u])return rf[u];if(!Ru[u])return u;var c=Ru[u],m;for(m in c)if(c.hasOwnProperty(m)&&m in Ym)return rf[u]=c[m];return u}var Nl=wi("animationend"),Xm=wi("animationiteration"),Fl=wi("animationstart"),S0=wi("transitionrun"),eg=wi("transitionstart"),x0=wi("transitioncancel"),Pu=wi("transitionend"),tg=new Map,rs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rs.push("scrollEnd");function ho(u,c){tg.set(u,c),si(c,[u])}var jl=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},po=[],$i=0,of=0;function Ul(){for(var u=$i,c=of=$i=0;c<u;){var m=po[c];po[c++]=null;var S=po[c];po[c++]=null;var D=po[c];po[c++]=null;var F=po[c];if(po[c++]=null,S!==null&&D!==null){var le=S.pending;le===null?D.next=D:(D.next=le.next,le.next=D),S.pending=D}F!==0&&Ou(m,D,F)}}function is(u,c,m,S){po[$i++]=u,po[$i++]=c,po[$i++]=m,po[$i++]=S,of|=S,u.lanes|=S,u=u.alternate,u!==null&&(u.lanes|=S)}function Qd(u,c,m,S){return is(u,c,m,S),Bl(u)}function aa(u,c){return is(u,null,null,c),Bl(u)}function Ou(u,c,m){u.lanes|=m;var S=u.alternate;S!==null&&(S.lanes|=m);for(var D=!1,F=u.return;F!==null;)F.childLanes|=m,S=F.alternate,S!==null&&(S.childLanes|=m),F.tag===22&&(u=F.stateNode,u===null||u._visibility&1||(D=!0)),u=F,F=F.return;return u.tag===3?(F=u.stateNode,D&&c!==null&&(D=31-zt(m),u=F.hiddenUpdates,S=u[D],S===null?u[D]=[c]:S.push(c),c.lane=m|536870912),F):null}function Bl(u){if(50<bh)throw bh=0,Cb=null,Error(r(185));for(var c=u.return;c!==null;)u=c,c=u.return;return u.tag===3?u.stateNode:null}var Ls={};function E0(u,c,m,S){this.tag=u,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zi(u,c,m,S){return new E0(u,c,m,S)}function af(u){return u=u.prototype,!(!u||!u.isReactComponent)}function sa(u,c){var m=u.alternate;return m===null?(m=zi(u.tag,c,u.key,u.mode),m.elementType=u.elementType,m.type=u.type,m.stateNode=u.stateNode,m.alternate=u,u.alternate=m):(m.pendingProps=c,m.type=u.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=u.flags&65011712,m.childLanes=u.childLanes,m.lanes=u.lanes,m.child=u.child,m.memoizedProps=u.memoizedProps,m.memoizedState=u.memoizedState,m.updateQueue=u.updateQueue,c=u.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=u.sibling,m.index=u.index,m.ref=u.ref,m.refCleanup=u.refCleanup,m}function Jd(u,c){u.flags&=65011714;var m=u.alternate;return m===null?(u.childLanes=0,u.lanes=c,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=m.childLanes,u.lanes=m.lanes,u.child=m.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=m.memoizedProps,u.memoizedState=m.memoizedState,u.updateQueue=m.updateQueue,u.type=m.type,c=m.dependencies,u.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),u}function $l(u,c,m,S,D,F){var le=0;if(S=u,typeof u=="function")af(u)&&(le=1);else if(typeof u=="string")le=FK(u,m,X.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case ee:return u=zi(31,m,c,D),u.elementType=ee,u.lanes=F,u;case x:return Is(m.children,D,F,c);case E:le=8,D|=24;break;case v:return u=zi(12,m,c,D|2),u.elementType=v,u.lanes=F,u;case R:return u=zi(13,m,c,D),u.elementType=R,u.lanes=F,u;case k:return u=zi(19,m,c,D),u.elementType=k,u.lanes=F,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case C:le=10;break e;case w:le=9;break e;case P:le=11;break e;case M:le=14;break e;case W:le=16,S=null;break e}le=29,m=Error(r(130,u===null?"null":typeof u,"")),S=null}return c=zi(le,m,c,D),c.elementType=u,c.type=S,c.lanes=F,c}function Is(u,c,m,S){return u=zi(7,u,S,c),u.lanes=m,u}function sf(u,c,m){return u=zi(6,u,null,c),u.lanes=m,u}function Yd(u){var c=zi(18,null,null,0);return c.stateNode=u,c}function Xd(u,c,m){return c=zi(4,u.children!==null?u.children:[],u.key,c),c.lanes=m,c.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},c}var h=new WeakMap;function _(u,c){if(typeof u=="object"&&u!==null){var m=h.get(u);return m!==void 0?m:(c={value:u,source:c,stack:rt(c)},h.set(u,c),c)}return{value:u,source:c,stack:rt(c)}}var I=[],q=0,ne=null,we=0,He=[],ot=0,ht=null,xt=1,kt="";function Qt(u,c){I[q++]=we,I[q++]=ne,ne=u,we=c}function gn(u,c,m){He[ot++]=xt,He[ot++]=kt,He[ot++]=ht,ht=u;var S=xt;u=kt;var D=32-zt(S)-1;S&=~(1<<D),m+=1;var F=32-zt(c)+D;if(30<F){var le=D-D%5;F=(S&(1<<le)-1).toString(32),S>>=le,D-=le,xt=1<<32-zt(c)+D|m<<D|S,kt=F+u}else xt=1<<F|m<<D|S,kt=u}function di(u){u.return!==null&&(Qt(u,1),gn(u,1,0))}function Ur(u){for(;u===ne;)ne=I[--q],I[q]=null,we=I[--q],I[q]=null;for(;u===ht;)ht=He[--ot],He[ot]=null,kt=He[--ot],He[ot]=null,xt=He[--ot],He[ot]=null}function Ji(u,c){He[ot++]=xt,He[ot++]=kt,He[ot++]=ht,xt=c.id,kt=c.overflow,ht=u}var Bn=null,$n=null,Rn=!1,os=null,mo=!1,uf=Error(r(519));function as(u){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zl(_(c,u)),uf}function eh(u){var c=u.stateNode,m=u.type,S=u.memoizedProps;switch(c[Lt]=u,c[It]=S,m){case"dialog":On("cancel",c),On("close",c);break;case"iframe":case"object":case"embed":On("load",c);break;case"video":case"audio":for(m=0;m<xh.length;m++)On(xh[m],c);break;case"source":On("error",c);break;case"img":case"image":case"link":On("error",c),On("load",c);break;case"details":On("toggle",c);break;case"input":On("invalid",c),nt(c,S.value,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name,!0);break;case"select":On("invalid",c);break;case"textarea":On("invalid",c),De(c,S.value,S.defaultValue,S.children)}m=S.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||S.suppressHydrationWarning===!0||PL(c.textContent,m)?(S.popover!=null&&(On("beforetoggle",c),On("toggle",c)),S.onScroll!=null&&On("scroll",c),S.onScrollEnd!=null&&On("scrollend",c),S.onClick!=null&&(c.onclick=Ht),c=!0):c=!1,c||as(u,!0)}function Pr(u){for(Bn=u.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:mo=!1;return;case 27:case 3:mo=!0;return;default:Bn=Bn.return}}function Oa(u){if(u!==Bn)return!1;if(!Rn)return Pr(u),Rn=!0,!1;var c=u.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=u.type,m=!(m!=="form"&&m!=="button")||Bb(u.type,u.memoizedProps)),m=!m),m&&$n&&as(u),Pr(u),c===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));$n=jL(u)}else if(c===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));$n=jL(u)}else c===27?(c=$n,Hu(u.type)?(u=Vb,Vb=null,$n=u):$n=c):$n=Bn?la(u.stateNode.nextSibling):null;return!0}function ks(){$n=Bn=null,Rn=!1}function th(){var u=os;return u!==null&&(_o===null?_o=u:_o.push.apply(_o,u),os=null),u}function zl(u){os===null?os=[u]:os.push(u)}var ql=Q(null),ss=null,Ma=null;function Mu(u,c,m){G(ql,c._currentValue),c._currentValue=m}function Ds(u){u._currentValue=ql.current,ce(ql)}function C0(u,c,m){for(;u!==null;){var S=u.alternate;if((u.childLanes&c)!==c?(u.childLanes|=c,S!==null&&(S.childLanes|=c)):S!==null&&(S.childLanes&c)!==c&&(S.childLanes|=c),u===m)break;u=u.return}}function T0(u,c,m,S){var D=u.child;for(D!==null&&(D.return=u);D!==null;){var F=D.dependencies;if(F!==null){var le=D.child;F=F.firstContext;e:for(;F!==null;){var be=F;F=D;for(var We=0;We<c.length;We++)if(be.context===c[We]){F.lanes|=m,be=F.alternate,be!==null&&(be.lanes|=m),C0(F.return,m,u),S||(le=null);break e}F=be.next}}else if(D.tag===18){if(le=D.return,le===null)throw Error(r(341));le.lanes|=m,F=le.alternate,F!==null&&(F.lanes|=m),C0(le,m,u),le=null}else le=D.child;if(le!==null)le.return=D;else for(le=D;le!==null;){if(le===u){le=null;break}if(D=le.sibling,D!==null){D.return=le.return,le=D;break}le=le.return}D=le}}function lf(u,c,m,S){u=null;for(var D=c,F=!1;D!==null;){if(!F){if((D.flags&524288)!==0)F=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var le=D.alternate;if(le===null)throw Error(r(387));if(le=le.memoizedProps,le!==null){var be=D.type;_i(D.pendingProps.value,le.value)||(u!==null?u.push(be):u=[be])}}else if(D===Ve.current){if(le=D.alternate,le===null)throw Error(r(387));le.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(u!==null?u.push(Rh):u=[Rh])}D=D.return}u!==null&&T0(c,u,m,S),c.flags|=262144}function ng(u){for(u=u.firstContext;u!==null;){if(!_i(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Hl(u){ss=u,Ma=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ci(u){return pO(ss,u)}function rg(u,c){return ss===null&&Hl(u),pO(u,c)}function pO(u,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ma===null){if(u===null)throw Error(r(308));Ma=c,u.dependencies={lanes:0,firstContext:c},u.flags|=524288}else Ma=Ma.next=c;return m}var IV=typeof AbortController<"u"?AbortController:function(){var u=[],c=this.signal={aborted:!1,addEventListener:function(m,S){u.push(S)}};this.abort=function(){c.aborted=!0,u.forEach(function(m){return m()})}},kV=e.unstable_scheduleCallback,DV=e.unstable_NormalPriority,Jr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function A0(){return{controller:new IV,data:new Map,refCount:0}}function nh(u){u.refCount--,u.refCount===0&&kV(DV,function(){u.controller.abort()})}var rh=null,R0=0,cf=0,ff=null;function NV(u,c){if(rh===null){var m=rh=[];R0=0,cf=Mb(),ff={status:"pending",value:void 0,then:function(S){m.push(S)}}}return R0++,c.then(mO,mO),c}function mO(){if(--R0===0&&rh!==null){ff!==null&&(ff.status="fulfilled");var u=rh;rh=null,cf=0,ff=null;for(var c=0;c<u.length;c++)(0,u[c])()}}function FV(u,c){var m=[],S={status:"pending",value:null,reason:null,then:function(D){m.push(D)}};return u.then(function(){S.status="fulfilled",S.value=c;for(var D=0;D<m.length;D++)(0,m[D])(c)},function(D){for(S.status="rejected",S.reason=D,D=0;D<m.length;D++)(0,m[D])(void 0)}),S}var gO=se.S;se.S=function(u,c){XM=mt(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&NV(u,c),gO!==null&&gO(u,c)};var Vl=Q(null);function P0(){var u=Vl.current;return u!==null?u:yr.pooledCache}function ig(u,c){c===null?G(Vl,Vl.current):G(Vl,c.pool)}function yO(){var u=P0();return u===null?null:{parent:Jr._currentValue,pool:u}}var df=Error(r(460)),O0=Error(r(474)),og=Error(r(542)),ag={then:function(){}};function vO(u){return u=u.status,u==="fulfilled"||u==="rejected"}function _O(u,c,m){switch(m=u[m],m===void 0?u.push(c):m!==c&&(c.then(Ht,Ht),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,bO(u),u;default:if(typeof c.status=="string")c.then(Ht,Ht);else{if(u=yr,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=c,u.status="pending",u.then(function(S){if(c.status==="pending"){var D=c;D.status="fulfilled",D.value=S}},function(S){if(c.status==="pending"){var D=c;D.status="rejected",D.reason=S}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw u=c.reason,bO(u),u}throw Gl=c,df}}function Kl(u){try{var c=u._init;return c(u._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Gl=m,df):m}}var Gl=null;function wO(){if(Gl===null)throw Error(r(459));var u=Gl;return Gl=null,u}function bO(u){if(u===df||u===og)throw Error(r(483))}var hf=null,ih=0;function sg(u){var c=ih;return ih+=1,hf===null&&(hf=[]),_O(hf,u,c)}function oh(u,c){c=c.props.ref,u.ref=c!==void 0?c:null}function ug(u,c){throw c.$$typeof===g?Error(r(525)):(u=Object.prototype.toString.call(c),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":u)))}function SO(u){function c(it,Qe){if(u){var ft=it.deletions;ft===null?(it.deletions=[Qe],it.flags|=16):ft.push(Qe)}}function m(it,Qe){if(!u)return null;for(;Qe!==null;)c(it,Qe),Qe=Qe.sibling;return null}function S(it){for(var Qe=new Map;it!==null;)it.key!==null?Qe.set(it.key,it):Qe.set(it.index,it),it=it.sibling;return Qe}function D(it,Qe){return it=sa(it,Qe),it.index=0,it.sibling=null,it}function F(it,Qe,ft){return it.index=ft,u?(ft=it.alternate,ft!==null?(ft=ft.index,ft<Qe?(it.flags|=67108866,Qe):ft):(it.flags|=67108866,Qe)):(it.flags|=1048576,Qe)}function le(it){return u&&it.alternate===null&&(it.flags|=67108866),it}function be(it,Qe,ft,bt){return Qe===null||Qe.tag!==6?(Qe=sf(ft,it.mode,bt),Qe.return=it,Qe):(Qe=D(Qe,ft),Qe.return=it,Qe)}function We(it,Qe,ft,bt){var Xt=ft.type;return Xt===x?vt(it,Qe,ft.props.children,bt,ft.key):Qe!==null&&(Qe.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===W&&Kl(Xt)===Qe.type)?(Qe=D(Qe,ft.props),oh(Qe,ft),Qe.return=it,Qe):(Qe=$l(ft.type,ft.key,ft.props,null,it.mode,bt),oh(Qe,ft),Qe.return=it,Qe)}function dt(it,Qe,ft,bt){return Qe===null||Qe.tag!==4||Qe.stateNode.containerInfo!==ft.containerInfo||Qe.stateNode.implementation!==ft.implementation?(Qe=Xd(ft,it.mode,bt),Qe.return=it,Qe):(Qe=D(Qe,ft.children||[]),Qe.return=it,Qe)}function vt(it,Qe,ft,bt,Xt){return Qe===null||Qe.tag!==7?(Qe=Is(ft,it.mode,bt,Xt),Qe.return=it,Qe):(Qe=D(Qe,ft),Qe.return=it,Qe)}function Et(it,Qe,ft){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Qe=sf(""+Qe,it.mode,ft),Qe.return=it,Qe;if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:return ft=$l(Qe.type,Qe.key,Qe.props,null,it.mode,ft),oh(ft,Qe),ft.return=it,ft;case b:return Qe=Xd(Qe,it.mode,ft),Qe.return=it,Qe;case W:return Qe=Kl(Qe),Et(it,Qe,ft)}if(de(Qe)||te(Qe))return Qe=Is(Qe,it.mode,ft,null),Qe.return=it,Qe;if(typeof Qe.then=="function")return Et(it,sg(Qe),ft);if(Qe.$$typeof===C)return Et(it,rg(it,Qe),ft);ug(it,Qe)}return null}function pt(it,Qe,ft,bt){var Xt=Qe!==null?Qe.key:null;if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Xt!==null?null:be(it,Qe,""+ft,bt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case y:return ft.key===Xt?We(it,Qe,ft,bt):null;case b:return ft.key===Xt?dt(it,Qe,ft,bt):null;case W:return ft=Kl(ft),pt(it,Qe,ft,bt)}if(de(ft)||te(ft))return Xt!==null?null:vt(it,Qe,ft,bt,null);if(typeof ft.then=="function")return pt(it,Qe,sg(ft),bt);if(ft.$$typeof===C)return pt(it,Qe,rg(it,ft),bt);ug(it,ft)}return null}function yt(it,Qe,ft,bt,Xt){if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return it=it.get(ft)||null,be(Qe,it,""+bt,Xt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case y:return it=it.get(bt.key===null?ft:bt.key)||null,We(Qe,it,bt,Xt);case b:return it=it.get(bt.key===null?ft:bt.key)||null,dt(Qe,it,bt,Xt);case W:return bt=Kl(bt),yt(it,Qe,ft,bt,Xt)}if(de(bt)||te(bt))return it=it.get(ft)||null,vt(Qe,it,bt,Xt,null);if(typeof bt.then=="function")return yt(it,Qe,ft,sg(bt),Xt);if(bt.$$typeof===C)return yt(it,Qe,ft,rg(Qe,bt),Xt);ug(Qe,bt)}return null}function Vt(it,Qe,ft,bt){for(var Xt=null,zn=null,Wt=Qe,yn=Qe=0,kn=null;Wt!==null&&yn<ft.length;yn++){Wt.index>yn?(kn=Wt,Wt=null):kn=Wt.sibling;var qn=pt(it,Wt,ft[yn],bt);if(qn===null){Wt===null&&(Wt=kn);break}u&&Wt&&qn.alternate===null&&c(it,Wt),Qe=F(qn,Qe,yn),zn===null?Xt=qn:zn.sibling=qn,zn=qn,Wt=kn}if(yn===ft.length)return m(it,Wt),Rn&&Qt(it,yn),Xt;if(Wt===null){for(;yn<ft.length;yn++)Wt=Et(it,ft[yn],bt),Wt!==null&&(Qe=F(Wt,Qe,yn),zn===null?Xt=Wt:zn.sibling=Wt,zn=Wt);return Rn&&Qt(it,yn),Xt}for(Wt=S(Wt);yn<ft.length;yn++)kn=yt(Wt,it,yn,ft[yn],bt),kn!==null&&(u&&kn.alternate!==null&&Wt.delete(kn.key===null?yn:kn.key),Qe=F(kn,Qe,yn),zn===null?Xt=kn:zn.sibling=kn,zn=kn);return u&&Wt.forEach(function(Zu){return c(it,Zu)}),Rn&&Qt(it,yn),Xt}function on(it,Qe,ft,bt){if(ft==null)throw Error(r(151));for(var Xt=null,zn=null,Wt=Qe,yn=Qe=0,kn=null,qn=ft.next();Wt!==null&&!qn.done;yn++,qn=ft.next()){Wt.index>yn?(kn=Wt,Wt=null):kn=Wt.sibling;var Zu=pt(it,Wt,qn.value,bt);if(Zu===null){Wt===null&&(Wt=kn);break}u&&Wt&&Zu.alternate===null&&c(it,Wt),Qe=F(Zu,Qe,yn),zn===null?Xt=Zu:zn.sibling=Zu,zn=Zu,Wt=kn}if(qn.done)return m(it,Wt),Rn&&Qt(it,yn),Xt;if(Wt===null){for(;!qn.done;yn++,qn=ft.next())qn=Et(it,qn.value,bt),qn!==null&&(Qe=F(qn,Qe,yn),zn===null?Xt=qn:zn.sibling=qn,zn=qn);return Rn&&Qt(it,yn),Xt}for(Wt=S(Wt);!qn.done;yn++,qn=ft.next())qn=yt(Wt,it,yn,qn.value,bt),qn!==null&&(u&&qn.alternate!==null&&Wt.delete(qn.key===null?yn:qn.key),Qe=F(qn,Qe,yn),zn===null?Xt=qn:zn.sibling=qn,zn=qn);return u&&Wt.forEach(function(WK){return c(it,WK)}),Rn&&Qt(it,yn),Xt}function cr(it,Qe,ft,bt){if(typeof ft=="object"&&ft!==null&&ft.type===x&&ft.key===null&&(ft=ft.props.children),typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case y:e:{for(var Xt=ft.key;Qe!==null;){if(Qe.key===Xt){if(Xt=ft.type,Xt===x){if(Qe.tag===7){m(it,Qe.sibling),bt=D(Qe,ft.props.children),bt.return=it,it=bt;break e}}else if(Qe.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===W&&Kl(Xt)===Qe.type){m(it,Qe.sibling),bt=D(Qe,ft.props),oh(bt,ft),bt.return=it,it=bt;break e}m(it,Qe);break}else c(it,Qe);Qe=Qe.sibling}ft.type===x?(bt=Is(ft.props.children,it.mode,bt,ft.key),bt.return=it,it=bt):(bt=$l(ft.type,ft.key,ft.props,null,it.mode,bt),oh(bt,ft),bt.return=it,it=bt)}return le(it);case b:e:{for(Xt=ft.key;Qe!==null;){if(Qe.key===Xt)if(Qe.tag===4&&Qe.stateNode.containerInfo===ft.containerInfo&&Qe.stateNode.implementation===ft.implementation){m(it,Qe.sibling),bt=D(Qe,ft.children||[]),bt.return=it,it=bt;break e}else{m(it,Qe);break}else c(it,Qe);Qe=Qe.sibling}bt=Xd(ft,it.mode,bt),bt.return=it,it=bt}return le(it);case W:return ft=Kl(ft),cr(it,Qe,ft,bt)}if(de(ft))return Vt(it,Qe,ft,bt);if(te(ft)){if(Xt=te(ft),typeof Xt!="function")throw Error(r(150));return ft=Xt.call(ft),on(it,Qe,ft,bt)}if(typeof ft.then=="function")return cr(it,Qe,sg(ft),bt);if(ft.$$typeof===C)return cr(it,Qe,rg(it,ft),bt);ug(it,ft)}return typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint"?(ft=""+ft,Qe!==null&&Qe.tag===6?(m(it,Qe.sibling),bt=D(Qe,ft),bt.return=it,it=bt):(m(it,Qe),bt=sf(ft,it.mode,bt),bt.return=it,it=bt),le(it)):m(it,Qe)}return function(it,Qe,ft,bt){try{ih=0;var Xt=cr(it,Qe,ft,bt);return hf=null,Xt}catch(Wt){if(Wt===df||Wt===og)throw Wt;var zn=zi(29,Wt,null,it.mode);return zn.lanes=bt,zn.return=it,zn}finally{}}}var Wl=SO(!0),xO=SO(!1),Lu=!1;function M0(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function L0(u,c){u=u.updateQueue,c.updateQueue===u&&(c.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Iu(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ku(u,c,m){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(Kn&2)!==0){var D=S.pending;return D===null?c.next=c:(c.next=D.next,D.next=c),S.pending=c,c=Bl(u),Ou(u,null,m),c}return is(u,S,c,m),Bl(u)}function ah(u,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var S=c.lanes;S&=u.pendingLanes,m|=S,c.lanes=m,$e(u,m)}}function I0(u,c){var m=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var D=null,F=null;if(m=m.firstBaseUpdate,m!==null){do{var le={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};F===null?D=F=le:F=F.next=le,m=m.next}while(m!==null);F===null?D=F=c:F=F.next=c}else D=F=c;m={baseState:S.baseState,firstBaseUpdate:D,lastBaseUpdate:F,shared:S.shared,callbacks:S.callbacks},u.updateQueue=m;return}u=m.lastBaseUpdate,u===null?m.firstBaseUpdate=c:u.next=c,m.lastBaseUpdate=c}var k0=!1;function sh(){if(k0){var u=ff;if(u!==null)throw u}}function uh(u,c,m,S){k0=!1;var D=u.updateQueue;Lu=!1;var F=D.firstBaseUpdate,le=D.lastBaseUpdate,be=D.shared.pending;if(be!==null){D.shared.pending=null;var We=be,dt=We.next;We.next=null,le===null?F=dt:le.next=dt,le=We;var vt=u.alternate;vt!==null&&(vt=vt.updateQueue,be=vt.lastBaseUpdate,be!==le&&(be===null?vt.firstBaseUpdate=dt:be.next=dt,vt.lastBaseUpdate=We))}if(F!==null){var Et=D.baseState;le=0,vt=dt=We=null,be=F;do{var pt=be.lane&-536870913,yt=pt!==be.lane;if(yt?(In&pt)===pt:(S&pt)===pt){pt!==0&&pt===cf&&(k0=!0),vt!==null&&(vt=vt.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Vt=u,on=be;pt=c;var cr=m;switch(on.tag){case 1:if(Vt=on.payload,typeof Vt=="function"){Et=Vt.call(cr,Et,pt);break e}Et=Vt;break e;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=on.payload,pt=typeof Vt=="function"?Vt.call(cr,Et,pt):Vt,pt==null)break e;Et=p({},Et,pt);break e;case 2:Lu=!0}}pt=be.callback,pt!==null&&(u.flags|=64,yt&&(u.flags|=8192),yt=D.callbacks,yt===null?D.callbacks=[pt]:yt.push(pt))}else yt={lane:pt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},vt===null?(dt=vt=yt,We=Et):vt=vt.next=yt,le|=pt;if(be=be.next,be===null){if(be=D.shared.pending,be===null)break;yt=be,be=yt.next,yt.next=null,D.lastBaseUpdate=yt,D.shared.pending=null}}while(!0);vt===null&&(We=Et),D.baseState=We,D.firstBaseUpdate=dt,D.lastBaseUpdate=vt,F===null&&(D.shared.lanes=0),Uu|=le,u.lanes=le,u.memoizedState=Et}}function EO(u,c){if(typeof u!="function")throw Error(r(191,u));u.call(c)}function CO(u,c){var m=u.callbacks;if(m!==null)for(u.callbacks=null,u=0;u<m.length;u++)EO(m[u],c)}var pf=Q(null),lg=Q(0);function TO(u,c){u=Hs,G(lg,u),G(pf,c),Hs=u|c.baseLanes}function D0(){G(lg,Hs),G(pf,pf.current)}function N0(){Hs=lg.current,ce(pf),ce(lg)}var Io=Q(null),ua=null;function Du(u){var c=u.alternate;G(Gr,Gr.current&1),G(Io,u),ua===null&&(c===null||pf.current!==null||c.memoizedState!==null)&&(ua=u)}function F0(u){G(Gr,Gr.current),G(Io,u),ua===null&&(ua=u)}function AO(u){u.tag===22?(G(Gr,Gr.current),G(Io,u),ua===null&&(ua=u)):Nu()}function Nu(){G(Gr,Gr.current),G(Io,Io.current)}function ko(u){ce(Io),ua===u&&(ua=null),ce(Gr)}var Gr=Q(0);function cg(u){for(var c=u;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||qb(m)||Hb(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Ns=0,mn=null,ur=null,Yr=null,fg=!1,mf=!1,Zl=!1,dg=0,lh=0,gf=null,jV=0;function Br(){throw Error(r(321))}function j0(u,c){if(c===null)return!1;for(var m=0;m<c.length&&m<u.length;m++)if(!_i(u[m],c[m]))return!1;return!0}function U0(u,c,m,S,D,F){return Ns=F,mn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,se.H=u===null||u.memoizedState===null?cM:eb,Zl=!1,F=m(S,D),Zl=!1,mf&&(F=PO(c,m,S,D)),RO(u),F}function RO(u){se.H=dh;var c=ur!==null&&ur.next!==null;if(Ns=0,Yr=ur=mn=null,fg=!1,lh=0,gf=null,c)throw Error(r(300));u===null||Xr||(u=u.dependencies,u!==null&&ng(u)&&(Xr=!0))}function PO(u,c,m,S){mn=u;var D=0;do{if(mf&&(gf=null),lh=0,mf=!1,25<=D)throw Error(r(301));if(D+=1,Yr=ur=null,u.updateQueue!=null){var F=u.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}se.H=fM,F=c(m,S)}while(mf);return F}function UV(){var u=se.H,c=u.useState()[0];return c=typeof c.then=="function"?ch(c):c,u=u.useState()[0],(ur!==null?ur.memoizedState:null)!==u&&(mn.flags|=1024),c}function B0(){var u=dg!==0;return dg=0,u}function $0(u,c,m){c.updateQueue=u.updateQueue,c.flags&=-2053,u.lanes&=~m}function z0(u){if(fg){for(u=u.memoizedState;u!==null;){var c=u.queue;c!==null&&(c.pending=null),u=u.next}fg=!1}Ns=0,Yr=ur=mn=null,mf=!1,lh=dg=0,gf=null}function Yi(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?mn.memoizedState=Yr=u:Yr=Yr.next=u,Yr}function Wr(){if(ur===null){var u=mn.alternate;u=u!==null?u.memoizedState:null}else u=ur.next;var c=Yr===null?mn.memoizedState:Yr.next;if(c!==null)Yr=c,ur=u;else{if(u===null)throw mn.alternate===null?Error(r(467)):Error(r(310));ur=u,u={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Yr===null?mn.memoizedState=Yr=u:Yr=Yr.next=u}return Yr}function hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ch(u){var c=lh;return lh+=1,gf===null&&(gf=[]),u=_O(gf,u,c),c=mn,(Yr===null?c.memoizedState:Yr.next)===null&&(c=c.alternate,se.H=c===null||c.memoizedState===null?cM:eb),u}function pg(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return ch(u);if(u.$$typeof===C)return Ci(u)}throw Error(r(438,String(u)))}function q0(u){var c=null,m=mn.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var S=mn.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(c={data:S.data.map(function(D){return D.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=hg(),mn.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(u),S=0;S<u;S++)m[S]=z;return c.index++,m}function Fs(u,c){return typeof c=="function"?c(u):c}function mg(u){var c=Wr();return H0(c,ur,u)}function H0(u,c,m){var S=u.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=m;var D=u.baseQueue,F=S.pending;if(F!==null){if(D!==null){var le=D.next;D.next=F.next,F.next=le}c.baseQueue=D=F,S.pending=null}if(F=u.baseState,D===null)u.memoizedState=F;else{c=D.next;var be=le=null,We=null,dt=c,vt=!1;do{var Et=dt.lane&-536870913;if(Et!==dt.lane?(In&Et)===Et:(Ns&Et)===Et){var pt=dt.revertLane;if(pt===0)We!==null&&(We=We.next={lane:0,revertLane:0,gesture:null,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),Et===cf&&(vt=!0);else if((Ns&pt)===pt){dt=dt.next,pt===cf&&(vt=!0);continue}else Et={lane:0,revertLane:dt.revertLane,gesture:null,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},We===null?(be=We=Et,le=F):We=We.next=Et,mn.lanes|=pt,Uu|=pt;Et=dt.action,Zl&&m(F,Et),F=dt.hasEagerState?dt.eagerState:m(F,Et)}else pt={lane:Et,revertLane:dt.revertLane,gesture:dt.gesture,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},We===null?(be=We=pt,le=F):We=We.next=pt,mn.lanes|=Et,Uu|=Et;dt=dt.next}while(dt!==null&&dt!==c);if(We===null?le=F:We.next=be,!_i(F,u.memoizedState)&&(Xr=!0,vt&&(m=ff,m!==null)))throw m;u.memoizedState=F,u.baseState=le,u.baseQueue=We,S.lastRenderedState=F}return D===null&&(S.lanes=0),[u.memoizedState,S.dispatch]}function V0(u){var c=Wr(),m=c.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=u;var S=m.dispatch,D=m.pending,F=c.memoizedState;if(D!==null){m.pending=null;var le=D=D.next;do F=u(F,le.action),le=le.next;while(le!==D);_i(F,c.memoizedState)||(Xr=!0),c.memoizedState=F,c.baseQueue===null&&(c.baseState=F),m.lastRenderedState=F}return[F,S]}function OO(u,c,m){var S=mn,D=Wr(),F=Rn;if(F){if(m===void 0)throw Error(r(407));m=m()}else m=c();var le=!_i((ur||D).memoizedState,m);if(le&&(D.memoizedState=m,Xr=!0),D=D.queue,W0(IO.bind(null,S,D,u),[u]),D.getSnapshot!==c||le||Yr!==null&&Yr.memoizedState.tag&1){if(S.flags|=2048,yf(9,{destroy:void 0},LO.bind(null,S,D,m,c),null),yr===null)throw Error(r(349));F||(Ns&127)!==0||MO(S,c,m)}return m}function MO(u,c,m){u.flags|=16384,u={getSnapshot:c,value:m},c=mn.updateQueue,c===null?(c=hg(),mn.updateQueue=c,c.stores=[u]):(m=c.stores,m===null?c.stores=[u]:m.push(u))}function LO(u,c,m,S){c.value=m,c.getSnapshot=S,kO(c)&&DO(u)}function IO(u,c,m){return m(function(){kO(c)&&DO(u)})}function kO(u){var c=u.getSnapshot;u=u.value;try{var m=c();return!_i(u,m)}catch{return!0}}function DO(u){var c=aa(u,2);c!==null&&wo(c,u,2)}function K0(u){var c=Yi();if(typeof u=="function"){var m=u;if(u=m(),Zl){tn(!0);try{m()}finally{tn(!1)}}}return c.memoizedState=c.baseState=u,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:u},c}function NO(u,c,m,S){return u.baseState=m,H0(u,ur,typeof S=="function"?S:Fs)}function BV(u,c,m,S,D){if(vg(u))throw Error(r(485));if(u=c.action,u!==null){var F={payload:D,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){F.listeners.push(le)}};se.T!==null?m(!0):F.isTransition=!1,S(F),m=c.pending,m===null?(F.next=c.pending=F,FO(c,F)):(F.next=m.next,c.pending=m.next=F)}}function FO(u,c){var m=c.action,S=c.payload,D=u.state;if(c.isTransition){var F=se.T,le={};se.T=le;try{var be=m(D,S),We=se.S;We!==null&&We(le,be),jO(u,c,be)}catch(dt){G0(u,c,dt)}finally{F!==null&&le.types!==null&&(F.types=le.types),se.T=F}}else try{F=m(D,S),jO(u,c,F)}catch(dt){G0(u,c,dt)}}function jO(u,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(S){UO(u,c,S)},function(S){return G0(u,c,S)}):UO(u,c,m)}function UO(u,c,m){c.status="fulfilled",c.value=m,BO(c),u.state=m,c=u.pending,c!==null&&(m=c.next,m===c?u.pending=null:(m=m.next,c.next=m,FO(u,m)))}function G0(u,c,m){var S=u.pending;if(u.pending=null,S!==null){S=S.next;do c.status="rejected",c.reason=m,BO(c),c=c.next;while(c!==S)}u.action=null}function BO(u){u=u.listeners;for(var c=0;c<u.length;c++)(0,u[c])()}function $O(u,c){return c}function zO(u,c){if(Rn){var m=yr.formState;if(m!==null){e:{var S=mn;if(Rn){if($n){t:{for(var D=$n,F=mo;D.nodeType!==8;){if(!F){D=null;break t}if(D=la(D.nextSibling),D===null){D=null;break t}}F=D.data,D=F==="F!"||F==="F"?D:null}if(D){$n=la(D.nextSibling),S=D.data==="F!";break e}}as(S)}S=!1}S&&(c=m[0])}}return m=Yi(),m.memoizedState=m.baseState=c,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$O,lastRenderedState:c},m.queue=S,m=sM.bind(null,mn,S),S.dispatch=m,S=K0(!1),F=X0.bind(null,mn,!1,S.queue),S=Yi(),D={state:c,dispatch:null,action:u,pending:null},S.queue=D,m=BV.bind(null,mn,D,F,m),D.dispatch=m,S.memoizedState=u,[c,m,!1]}function qO(u){var c=Wr();return HO(c,ur,u)}function HO(u,c,m){if(c=H0(u,c,$O)[0],u=mg(Fs)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var S=ch(c)}catch(le){throw le===df?og:le}else S=c;c=Wr();var D=c.queue,F=D.dispatch;return m!==c.memoizedState&&(mn.flags|=2048,yf(9,{destroy:void 0},$V.bind(null,D,m),null)),[S,F,u]}function $V(u,c){u.action=c}function VO(u){var c=Wr(),m=ur;if(m!==null)return HO(c,m,u);Wr(),c=c.memoizedState,m=Wr();var S=m.queue.dispatch;return m.memoizedState=u,[c,S,!1]}function yf(u,c,m,S){return u={tag:u,create:m,deps:S,inst:c,next:null},c=mn.updateQueue,c===null&&(c=hg(),mn.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=u.next=u:(S=m.next,m.next=u,u.next=S,c.lastEffect=u),u}function KO(){return Wr().memoizedState}function gg(u,c,m,S){var D=Yi();mn.flags|=u,D.memoizedState=yf(1|c,{destroy:void 0},m,S===void 0?null:S)}function yg(u,c,m,S){var D=Wr();S=S===void 0?null:S;var F=D.memoizedState.inst;ur!==null&&S!==null&&j0(S,ur.memoizedState.deps)?D.memoizedState=yf(c,F,m,S):(mn.flags|=u,D.memoizedState=yf(1|c,F,m,S))}function GO(u,c){gg(8390656,8,u,c)}function W0(u,c){yg(2048,8,u,c)}function zV(u){mn.flags|=4;var c=mn.updateQueue;if(c===null)c=hg(),mn.updateQueue=c,c.events=[u];else{var m=c.events;m===null?c.events=[u]:m.push(u)}}function WO(u){var c=Wr().memoizedState;return zV({ref:c,nextImpl:u}),function(){if((Kn&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function ZO(u,c){return yg(4,2,u,c)}function QO(u,c){return yg(4,4,u,c)}function JO(u,c){if(typeof c=="function"){u=u();var m=c(u);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return u=u(),c.current=u,function(){c.current=null}}function YO(u,c,m){m=m!=null?m.concat([u]):null,yg(4,4,JO.bind(null,c,u),m)}function Z0(){}function XO(u,c){var m=Wr();c=c===void 0?null:c;var S=m.memoizedState;return c!==null&&j0(c,S[1])?S[0]:(m.memoizedState=[u,c],u)}function eM(u,c){var m=Wr();c=c===void 0?null:c;var S=m.memoizedState;if(c!==null&&j0(c,S[1]))return S[0];if(S=u(),Zl){tn(!0);try{u()}finally{tn(!1)}}return m.memoizedState=[S,c],S}function Q0(u,c,m){return m===void 0||(Ns&1073741824)!==0&&(In&261930)===0?u.memoizedState=c:(u.memoizedState=m,u=tL(),mn.lanes|=u,Uu|=u,m)}function tM(u,c,m,S){return _i(m,c)?m:pf.current!==null?(u=Q0(u,m,S),_i(u,c)||(Xr=!0),u):(Ns&42)===0||(Ns&1073741824)!==0&&(In&261930)===0?(Xr=!0,u.memoizedState=m):(u=tL(),mn.lanes|=u,Uu|=u,c)}function nM(u,c,m,S,D){var F=pe.p;pe.p=F!==0&&8>F?F:8;var le=se.T,be={};se.T=be,X0(u,!1,c,m);try{var We=D(),dt=se.S;if(dt!==null&&dt(be,We),We!==null&&typeof We=="object"&&typeof We.then=="function"){var vt=FV(We,S);fh(u,c,vt,Fo(u))}else fh(u,c,S,Fo(u))}catch(Et){fh(u,c,{then:function(){},status:"rejected",reason:Et},Fo())}finally{pe.p=F,le!==null&&be.types!==null&&(le.types=be.types),se.T=le}}function qV(){}function J0(u,c,m,S){if(u.tag!==5)throw Error(r(476));var D=rM(u).queue;nM(u,D,c,re,m===null?qV:function(){return iM(u),m(S)})}function rM(u){var c=u.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:re},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:m},next:null},u.memoizedState=c,u=u.alternate,u!==null&&(u.memoizedState=c),c}function iM(u){var c=rM(u);c.next===null&&(c=u.alternate.memoizedState),fh(u,c.next.queue,{},Fo())}function Y0(){return Ci(Rh)}function oM(){return Wr().memoizedState}function aM(){return Wr().memoizedState}function HV(u){for(var c=u.return;c!==null;){switch(c.tag){case 24:case 3:var m=Fo();u=Iu(m);var S=ku(c,u,m);S!==null&&(wo(S,c,m),ah(S,c,m)),c={cache:A0()},u.payload=c;return}c=c.return}}function VV(u,c,m){var S=Fo();m={lane:S,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},vg(u)?uM(c,m):(m=Qd(u,c,m,S),m!==null&&(wo(m,u,S),lM(m,c,S)))}function sM(u,c,m){var S=Fo();fh(u,c,m,S)}function fh(u,c,m,S){var D={lane:S,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(vg(u))uM(c,D);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=c.lastRenderedReducer,F!==null))try{var le=c.lastRenderedState,be=F(le,m);if(D.hasEagerState=!0,D.eagerState=be,_i(be,le))return is(u,c,D,0),yr===null&&Ul(),!1}catch{}finally{}if(m=Qd(u,c,D,S),m!==null)return wo(m,u,S),lM(m,c,S),!0}return!1}function X0(u,c,m,S){if(S={lane:2,revertLane:Mb(),gesture:null,action:S,hasEagerState:!1,eagerState:null,next:null},vg(u)){if(c)throw Error(r(479))}else c=Qd(u,m,S,2),c!==null&&wo(c,u,2)}function vg(u){var c=u.alternate;return u===mn||c!==null&&c===mn}function uM(u,c){mf=fg=!0;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}function lM(u,c,m){if((m&4194048)!==0){var S=c.lanes;S&=u.pendingLanes,m|=S,c.lanes=m,$e(u,m)}}var dh={readContext:Ci,use:pg,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useLayoutEffect:Br,useInsertionEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useSyncExternalStore:Br,useId:Br,useHostTransitionStatus:Br,useFormState:Br,useActionState:Br,useOptimistic:Br,useMemoCache:Br,useCacheRefresh:Br};dh.useEffectEvent=Br;var cM={readContext:Ci,use:pg,useCallback:function(u,c){return Yi().memoizedState=[u,c===void 0?null:c],u},useContext:Ci,useEffect:GO,useImperativeHandle:function(u,c,m){m=m!=null?m.concat([u]):null,gg(4194308,4,JO.bind(null,c,u),m)},useLayoutEffect:function(u,c){return gg(4194308,4,u,c)},useInsertionEffect:function(u,c){gg(4,2,u,c)},useMemo:function(u,c){var m=Yi();c=c===void 0?null:c;var S=u();if(Zl){tn(!0);try{u()}finally{tn(!1)}}return m.memoizedState=[S,c],S},useReducer:function(u,c,m){var S=Yi();if(m!==void 0){var D=m(c);if(Zl){tn(!0);try{m(c)}finally{tn(!1)}}}else D=c;return S.memoizedState=S.baseState=D,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:D},S.queue=u,u=u.dispatch=VV.bind(null,mn,u),[S.memoizedState,u]},useRef:function(u){var c=Yi();return u={current:u},c.memoizedState=u},useState:function(u){u=K0(u);var c=u.queue,m=sM.bind(null,mn,c);return c.dispatch=m,[u.memoizedState,m]},useDebugValue:Z0,useDeferredValue:function(u,c){var m=Yi();return Q0(m,u,c)},useTransition:function(){var u=K0(!1);return u=nM.bind(null,mn,u.queue,!0,!1),Yi().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,c,m){var S=mn,D=Yi();if(Rn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=c(),yr===null)throw Error(r(349));(In&127)!==0||MO(S,c,m)}D.memoizedState=m;var F={value:m,getSnapshot:c};return D.queue=F,GO(IO.bind(null,S,F,u),[u]),S.flags|=2048,yf(9,{destroy:void 0},LO.bind(null,S,F,m,c),null),m},useId:function(){var u=Yi(),c=yr.identifierPrefix;if(Rn){var m=kt,S=xt;m=(S&~(1<<32-zt(S)-1)).toString(32)+m,c="_"+c+"R_"+m,m=dg++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=jV++,c="_"+c+"r_"+m.toString(32)+"_";return u.memoizedState=c},useHostTransitionStatus:Y0,useFormState:zO,useActionState:zO,useOptimistic:function(u){var c=Yi();c.memoizedState=c.baseState=u;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=X0.bind(null,mn,!0,m),m.dispatch=c,[u,c]},useMemoCache:q0,useCacheRefresh:function(){return Yi().memoizedState=HV.bind(null,mn)},useEffectEvent:function(u){var c=Yi(),m={impl:u};return c.memoizedState=m,function(){if((Kn&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},eb={readContext:Ci,use:pg,useCallback:XO,useContext:Ci,useEffect:W0,useImperativeHandle:YO,useInsertionEffect:ZO,useLayoutEffect:QO,useMemo:eM,useReducer:mg,useRef:KO,useState:function(){return mg(Fs)},useDebugValue:Z0,useDeferredValue:function(u,c){var m=Wr();return tM(m,ur.memoizedState,u,c)},useTransition:function(){var u=mg(Fs)[0],c=Wr().memoizedState;return[typeof u=="boolean"?u:ch(u),c]},useSyncExternalStore:OO,useId:oM,useHostTransitionStatus:Y0,useFormState:qO,useActionState:qO,useOptimistic:function(u,c){var m=Wr();return NO(m,ur,u,c)},useMemoCache:q0,useCacheRefresh:aM};eb.useEffectEvent=WO;var fM={readContext:Ci,use:pg,useCallback:XO,useContext:Ci,useEffect:W0,useImperativeHandle:YO,useInsertionEffect:ZO,useLayoutEffect:QO,useMemo:eM,useReducer:V0,useRef:KO,useState:function(){return V0(Fs)},useDebugValue:Z0,useDeferredValue:function(u,c){var m=Wr();return ur===null?Q0(m,u,c):tM(m,ur.memoizedState,u,c)},useTransition:function(){var u=V0(Fs)[0],c=Wr().memoizedState;return[typeof u=="boolean"?u:ch(u),c]},useSyncExternalStore:OO,useId:oM,useHostTransitionStatus:Y0,useFormState:VO,useActionState:VO,useOptimistic:function(u,c){var m=Wr();return ur!==null?NO(m,ur,u,c):(m.baseState=u,[u,m.queue.dispatch])},useMemoCache:q0,useCacheRefresh:aM};fM.useEffectEvent=WO;function tb(u,c,m,S){c=u.memoizedState,m=m(S,c),m=m==null?c:p({},c,m),u.memoizedState=m,u.lanes===0&&(u.updateQueue.baseState=m)}var nb={enqueueSetState:function(u,c,m){u=u._reactInternals;var S=Fo(),D=Iu(S);D.payload=c,m!=null&&(D.callback=m),c=ku(u,D,S),c!==null&&(wo(c,u,S),ah(c,u,S))},enqueueReplaceState:function(u,c,m){u=u._reactInternals;var S=Fo(),D=Iu(S);D.tag=1,D.payload=c,m!=null&&(D.callback=m),c=ku(u,D,S),c!==null&&(wo(c,u,S),ah(c,u,S))},enqueueForceUpdate:function(u,c){u=u._reactInternals;var m=Fo(),S=Iu(m);S.tag=2,c!=null&&(S.callback=c),c=ku(u,S,m),c!==null&&(wo(c,u,m),ah(c,u,m))}};function dM(u,c,m,S,D,F,le){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,F,le):c.prototype&&c.prototype.isPureReactComponent?!Tu(m,S)||!Tu(D,F):!0}function hM(u,c,m,S){u=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,S),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,S),c.state!==u&&nb.enqueueReplaceState(c,c.state,null)}function Ql(u,c){var m=c;if("ref"in c){m={};for(var S in c)S!=="ref"&&(m[S]=c[S])}if(u=u.defaultProps){m===c&&(m=p({},m));for(var D in u)m[D]===void 0&&(m[D]=u[D])}return m}function pM(u){jl(u)}function mM(u){console.error(u)}function gM(u){jl(u)}function _g(u,c){try{var m=u.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(S){setTimeout(function(){throw S})}}function yM(u,c,m){try{var S=u.onCaughtError;S(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function rb(u,c,m){return m=Iu(m),m.tag=3,m.payload={element:null},m.callback=function(){_g(u,c)},m}function vM(u){return u=Iu(u),u.tag=3,u}function _M(u,c,m,S){var D=m.type.getDerivedStateFromError;if(typeof D=="function"){var F=S.value;u.payload=function(){return D(F)},u.callback=function(){yM(c,m,S)}}var le=m.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(u.callback=function(){yM(c,m,S),typeof D!="function"&&(Bu===null?Bu=new Set([this]):Bu.add(this));var be=S.stack;this.componentDidCatch(S.value,{componentStack:be!==null?be:""})})}function KV(u,c,m,S,D){if(m.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(c=m.alternate,c!==null&&lf(c,m,D,!0),m=Io.current,m!==null){switch(m.tag){case 31:case 13:return ua===null?Mg():m.alternate===null&&$r===0&&($r=3),m.flags&=-257,m.flags|=65536,m.lanes=D,S===ag?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([S]):c.add(S),Rb(u,S,D)),!1;case 22:return m.flags|=65536,S===ag?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([S])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([S]):m.add(S)),Rb(u,S,D)),!1}throw Error(r(435,m.tag))}return Rb(u,S,D),Mg(),!1}if(Rn)return c=Io.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=D,S!==uf&&(u=Error(r(422),{cause:S}),zl(_(u,m)))):(S!==uf&&(c=Error(r(423),{cause:S}),zl(_(c,m))),u=u.current.alternate,u.flags|=65536,D&=-D,u.lanes|=D,S=_(S,m),D=rb(u.stateNode,S,D),I0(u,D),$r!==4&&($r=2)),!1;var F=Error(r(520),{cause:S});if(F=_(F,m),wh===null?wh=[F]:wh.push(F),$r!==4&&($r=2),c===null)return!0;S=_(S,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,u=D&-D,m.lanes|=u,u=rb(m.stateNode,S,u),I0(m,u),!1;case 1:if(c=m.type,F=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Bu===null||!Bu.has(F))))return m.flags|=65536,D&=-D,m.lanes|=D,D=vM(D),_M(D,u,m,S),I0(m,D),!1}m=m.return}while(m!==null);return!1}var ib=Error(r(461)),Xr=!1;function Ti(u,c,m,S){c.child=u===null?xO(c,null,m,S):Wl(c,u.child,m,S)}function wM(u,c,m,S,D){m=m.render;var F=c.ref;if("ref"in S){var le={};for(var be in S)be!=="ref"&&(le[be]=S[be])}else le=S;return Hl(c),S=U0(u,c,m,le,F,D),be=B0(),u!==null&&!Xr?($0(u,c,D),js(u,c,D)):(Rn&&be&&di(c),c.flags|=1,Ti(u,c,S,D),c.child)}function bM(u,c,m,S,D){if(u===null){var F=m.type;return typeof F=="function"&&!af(F)&&F.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=F,SM(u,c,F,S,D)):(u=$l(m.type,null,S,c,c.mode,D),u.ref=c.ref,u.return=c,c.child=u)}if(F=u.child,!db(u,D)){var le=F.memoizedProps;if(m=m.compare,m=m!==null?m:Tu,m(le,S)&&u.ref===c.ref)return js(u,c,D)}return c.flags|=1,u=sa(F,S),u.ref=c.ref,u.return=c,c.child=u}function SM(u,c,m,S,D){if(u!==null){var F=u.memoizedProps;if(Tu(F,S)&&u.ref===c.ref)if(Xr=!1,c.pendingProps=S=F,db(u,D))(u.flags&131072)!==0&&(Xr=!0);else return c.lanes=u.lanes,js(u,c,D)}return ob(u,c,m,S,D)}function xM(u,c,m,S){var D=S.children,F=u!==null?u.memoizedState:null;if(u===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),S.mode==="hidden"){if((c.flags&128)!==0){if(F=F!==null?F.baseLanes|m:m,u!==null){for(S=c.child=u.child,D=0;S!==null;)D=D|S.lanes|S.childLanes,S=S.sibling;S=D&~F}else S=0,c.child=null;return EM(u,c,F,m,S)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},u!==null&&ig(c,F!==null?F.cachePool:null),F!==null?TO(c,F):D0(),AO(c);else return S=c.lanes=536870912,EM(u,c,F!==null?F.baseLanes|m:m,m,S)}else F!==null?(ig(c,F.cachePool),TO(c,F),Nu(),c.memoizedState=null):(u!==null&&ig(c,null),D0(),Nu());return Ti(u,c,D,m),c.child}function hh(u,c){return u!==null&&u.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function EM(u,c,m,S,D){var F=P0();return F=F===null?null:{parent:Jr._currentValue,pool:F},c.memoizedState={baseLanes:m,cachePool:F},u!==null&&ig(c,null),D0(),AO(c),u!==null&&lf(u,c,S,!0),c.childLanes=D,null}function wg(u,c){return c=Sg({mode:c.mode,children:c.children},u.mode),c.ref=u.ref,u.child=c,c.return=u,c}function CM(u,c,m){return Wl(c,u.child,null,m),u=wg(c,c.pendingProps),u.flags|=2,ko(c),c.memoizedState=null,u}function GV(u,c,m){var S=c.pendingProps,D=(c.flags&128)!==0;if(c.flags&=-129,u===null){if(Rn){if(S.mode==="hidden")return u=wg(c,S),c.lanes=536870912,hh(null,u);if(F0(c),(u=$n)?(u=FL(u,mo),u=u!==null&&u.data==="&"?u:null,u!==null&&(c.memoizedState={dehydrated:u,treeContext:ht!==null?{id:xt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},m=Yd(u),m.return=c,c.child=m,Bn=c,$n=null)):u=null,u===null)throw as(c);return c.lanes=536870912,null}return wg(c,S)}var F=u.memoizedState;if(F!==null){var le=F.dehydrated;if(F0(c),D)if(c.flags&256)c.flags&=-257,c=CM(u,c,m);else if(c.memoizedState!==null)c.child=u.child,c.flags|=128,c=null;else throw Error(r(558));else if(Xr||lf(u,c,m,!1),D=(m&u.childLanes)!==0,Xr||D){if(S=yr,S!==null&&(le=Xe(S,m),le!==0&&le!==F.retryLane))throw F.retryLane=le,aa(u,le),wo(S,u,le),ib;Mg(),c=CM(u,c,m)}else u=F.treeContext,$n=la(le.nextSibling),Bn=c,Rn=!0,os=null,mo=!1,u!==null&&Ji(c,u),c=wg(c,S),c.flags|=4096;return c}return u=sa(u.child,{mode:S.mode,children:S.children}),u.ref=c.ref,c.child=u,u.return=c,u}function bg(u,c){var m=c.ref;if(m===null)u!==null&&u.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(u===null||u.ref!==m)&&(c.flags|=4194816)}}function ob(u,c,m,S,D){return Hl(c),m=U0(u,c,m,S,void 0,D),S=B0(),u!==null&&!Xr?($0(u,c,D),js(u,c,D)):(Rn&&S&&di(c),c.flags|=1,Ti(u,c,m,D),c.child)}function TM(u,c,m,S,D,F){return Hl(c),c.updateQueue=null,m=PO(c,S,m,D),RO(u),S=B0(),u!==null&&!Xr?($0(u,c,F),js(u,c,F)):(Rn&&S&&di(c),c.flags|=1,Ti(u,c,m,F),c.child)}function AM(u,c,m,S,D){if(Hl(c),c.stateNode===null){var F=Ls,le=m.contextType;typeof le=="object"&&le!==null&&(F=Ci(le)),F=new m(S,F),c.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=nb,c.stateNode=F,F._reactInternals=c,F=c.stateNode,F.props=S,F.state=c.memoizedState,F.refs={},M0(c),le=m.contextType,F.context=typeof le=="object"&&le!==null?Ci(le):Ls,F.state=c.memoizedState,le=m.getDerivedStateFromProps,typeof le=="function"&&(tb(c,m,le,S),F.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(le=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),le!==F.state&&nb.enqueueReplaceState(F,F.state,null),uh(c,S,F,D),sh(),F.state=c.memoizedState),typeof F.componentDidMount=="function"&&(c.flags|=4194308),S=!0}else if(u===null){F=c.stateNode;var be=c.memoizedProps,We=Ql(m,be);F.props=We;var dt=F.context,vt=m.contextType;le=Ls,typeof vt=="object"&&vt!==null&&(le=Ci(vt));var Et=m.getDerivedStateFromProps;vt=typeof Et=="function"||typeof F.getSnapshotBeforeUpdate=="function",be=c.pendingProps!==be,vt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(be||dt!==le)&&hM(c,F,S,le),Lu=!1;var pt=c.memoizedState;F.state=pt,uh(c,S,F,D),sh(),dt=c.memoizedState,be||pt!==dt||Lu?(typeof Et=="function"&&(tb(c,m,Et,S),dt=c.memoizedState),(We=Lu||dM(c,m,We,S,pt,dt,le))?(vt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(c.flags|=4194308)):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=S,c.memoizedState=dt),F.props=S,F.state=dt,F.context=le,S=We):(typeof F.componentDidMount=="function"&&(c.flags|=4194308),S=!1)}else{F=c.stateNode,L0(u,c),le=c.memoizedProps,vt=Ql(m,le),F.props=vt,Et=c.pendingProps,pt=F.context,dt=m.contextType,We=Ls,typeof dt=="object"&&dt!==null&&(We=Ci(dt)),be=m.getDerivedStateFromProps,(dt=typeof be=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(le!==Et||pt!==We)&&hM(c,F,S,We),Lu=!1,pt=c.memoizedState,F.state=pt,uh(c,S,F,D),sh();var yt=c.memoizedState;le!==Et||pt!==yt||Lu||u!==null&&u.dependencies!==null&&ng(u.dependencies)?(typeof be=="function"&&(tb(c,m,be,S),yt=c.memoizedState),(vt=Lu||dM(c,m,vt,S,pt,yt,We)||u!==null&&u.dependencies!==null&&ng(u.dependencies))?(dt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(S,yt,We),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(S,yt,We)),typeof F.componentDidUpdate=="function"&&(c.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof F.componentDidUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(c.flags|=1024),c.memoizedProps=S,c.memoizedState=yt),F.props=S,F.state=yt,F.context=We,S=vt):(typeof F.componentDidUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(c.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&pt===u.memoizedState||(c.flags|=1024),S=!1)}return F=S,bg(u,c),S=(c.flags&128)!==0,F||S?(F=c.stateNode,m=S&&typeof m.getDerivedStateFromError!="function"?null:F.render(),c.flags|=1,u!==null&&S?(c.child=Wl(c,u.child,null,D),c.child=Wl(c,null,m,D)):Ti(u,c,m,D),c.memoizedState=F.state,u=c.child):u=js(u,c,D),u}function RM(u,c,m,S){return ks(),c.flags|=256,Ti(u,c,m,S),c.child}var ab={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sb(u){return{baseLanes:u,cachePool:yO()}}function ub(u,c,m){return u=u!==null?u.childLanes&~m:0,c&&(u|=No),u}function PM(u,c,m){var S=c.pendingProps,D=!1,F=(c.flags&128)!==0,le;if((le=F)||(le=u!==null&&u.memoizedState===null?!1:(Gr.current&2)!==0),le&&(D=!0,c.flags&=-129),le=(c.flags&32)!==0,c.flags&=-33,u===null){if(Rn){if(D?Du(c):Nu(),(u=$n)?(u=FL(u,mo),u=u!==null&&u.data!=="&"?u:null,u!==null&&(c.memoizedState={dehydrated:u,treeContext:ht!==null?{id:xt,overflow:kt}:null,retryLane:536870912,hydrationErrors:null},m=Yd(u),m.return=c,c.child=m,Bn=c,$n=null)):u=null,u===null)throw as(c);return Hb(u)?c.lanes=32:c.lanes=536870912,null}var be=S.children;return S=S.fallback,D?(Nu(),D=c.mode,be=Sg({mode:"hidden",children:be},D),S=Is(S,D,m,null),be.return=c,S.return=c,be.sibling=S,c.child=be,S=c.child,S.memoizedState=sb(m),S.childLanes=ub(u,le,m),c.memoizedState=ab,hh(null,S)):(Du(c),lb(c,be))}var We=u.memoizedState;if(We!==null&&(be=We.dehydrated,be!==null)){if(F)c.flags&256?(Du(c),c.flags&=-257,c=cb(u,c,m)):c.memoizedState!==null?(Nu(),c.child=u.child,c.flags|=128,c=null):(Nu(),be=S.fallback,D=c.mode,S=Sg({mode:"visible",children:S.children},D),be=Is(be,D,m,null),be.flags|=2,S.return=c,be.return=c,S.sibling=be,c.child=S,Wl(c,u.child,null,m),S=c.child,S.memoizedState=sb(m),S.childLanes=ub(u,le,m),c.memoizedState=ab,c=hh(null,S));else if(Du(c),Hb(be)){if(le=be.nextSibling&&be.nextSibling.dataset,le)var dt=le.dgst;le=dt,S=Error(r(419)),S.stack="",S.digest=le,zl({value:S,source:null,stack:null}),c=cb(u,c,m)}else if(Xr||lf(u,c,m,!1),le=(m&u.childLanes)!==0,Xr||le){if(le=yr,le!==null&&(S=Xe(le,m),S!==0&&S!==We.retryLane))throw We.retryLane=S,aa(u,S),wo(le,u,S),ib;qb(be)||Mg(),c=cb(u,c,m)}else qb(be)?(c.flags|=192,c.child=u.child,c=null):(u=We.treeContext,$n=la(be.nextSibling),Bn=c,Rn=!0,os=null,mo=!1,u!==null&&Ji(c,u),c=lb(c,S.children),c.flags|=4096);return c}return D?(Nu(),be=S.fallback,D=c.mode,We=u.child,dt=We.sibling,S=sa(We,{mode:"hidden",children:S.children}),S.subtreeFlags=We.subtreeFlags&65011712,dt!==null?be=sa(dt,be):(be=Is(be,D,m,null),be.flags|=2),be.return=c,S.return=c,S.sibling=be,c.child=S,hh(null,S),S=c.child,be=u.child.memoizedState,be===null?be=sb(m):(D=be.cachePool,D!==null?(We=Jr._currentValue,D=D.parent!==We?{parent:We,pool:We}:D):D=yO(),be={baseLanes:be.baseLanes|m,cachePool:D}),S.memoizedState=be,S.childLanes=ub(u,le,m),c.memoizedState=ab,hh(u.child,S)):(Du(c),m=u.child,u=m.sibling,m=sa(m,{mode:"visible",children:S.children}),m.return=c,m.sibling=null,u!==null&&(le=c.deletions,le===null?(c.deletions=[u],c.flags|=16):le.push(u)),c.child=m,c.memoizedState=null,m)}function lb(u,c){return c=Sg({mode:"visible",children:c},u.mode),c.return=u,u.child=c}function Sg(u,c){return u=zi(22,u,null,c),u.lanes=0,u}function cb(u,c,m){return Wl(c,u.child,null,m),u=lb(c,c.pendingProps.children),u.flags|=2,c.memoizedState=null,u}function OM(u,c,m){u.lanes|=c;var S=u.alternate;S!==null&&(S.lanes|=c),C0(u.return,c,m)}function fb(u,c,m,S,D,F){var le=u.memoizedState;le===null?u.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:D,treeForkCount:F}:(le.isBackwards=c,le.rendering=null,le.renderingStartTime=0,le.last=S,le.tail=m,le.tailMode=D,le.treeForkCount=F)}function MM(u,c,m){var S=c.pendingProps,D=S.revealOrder,F=S.tail;S=S.children;var le=Gr.current,be=(le&2)!==0;if(be?(le=le&1|2,c.flags|=128):le&=1,G(Gr,le),Ti(u,c,S,m),S=Rn?we:0,!be&&u!==null&&(u.flags&128)!==0)e:for(u=c.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&OM(u,m,c);else if(u.tag===19)OM(u,m,c);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(D){case"forwards":for(m=c.child,D=null;m!==null;)u=m.alternate,u!==null&&cg(u)===null&&(D=m),m=m.sibling;m=D,m===null?(D=c.child,c.child=null):(D=m.sibling,m.sibling=null),fb(c,!1,D,m,F,S);break;case"backwards":case"unstable_legacy-backwards":for(m=null,D=c.child,c.child=null;D!==null;){if(u=D.alternate,u!==null&&cg(u)===null){c.child=D;break}u=D.sibling,D.sibling=m,m=D,D=u}fb(c,!0,m,null,F,S);break;case"together":fb(c,!1,null,null,void 0,S);break;default:c.memoizedState=null}return c.child}function js(u,c,m){if(u!==null&&(c.dependencies=u.dependencies),Uu|=c.lanes,(m&c.childLanes)===0)if(u!==null){if(lf(u,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(u!==null&&c.child!==u.child)throw Error(r(153));if(c.child!==null){for(u=c.child,m=sa(u,u.pendingProps),c.child=m,m.return=c;u.sibling!==null;)u=u.sibling,m=m.sibling=sa(u,u.pendingProps),m.return=c;m.sibling=null}return c.child}function db(u,c){return(u.lanes&c)!==0?!0:(u=u.dependencies,!!(u!==null&&ng(u)))}function WV(u,c,m){switch(c.tag){case 3:Pe(c,c.stateNode.containerInfo),Mu(c,Jr,u.memoizedState.cache),ks();break;case 27:case 5:Je(c);break;case 4:Pe(c,c.stateNode.containerInfo);break;case 10:Mu(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,F0(c),null;break;case 13:var S=c.memoizedState;if(S!==null)return S.dehydrated!==null?(Du(c),c.flags|=128,null):(m&c.child.childLanes)!==0?PM(u,c,m):(Du(c),u=js(u,c,m),u!==null?u.sibling:null);Du(c);break;case 19:var D=(u.flags&128)!==0;if(S=(m&c.childLanes)!==0,S||(lf(u,c,m,!1),S=(m&c.childLanes)!==0),D){if(S)return MM(u,c,m);c.flags|=128}if(D=c.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),G(Gr,Gr.current),S)break;return null;case 22:return c.lanes=0,xM(u,c,m,c.pendingProps);case 24:Mu(c,Jr,u.memoizedState.cache)}return js(u,c,m)}function LM(u,c,m){if(u!==null)if(u.memoizedProps!==c.pendingProps)Xr=!0;else{if(!db(u,m)&&(c.flags&128)===0)return Xr=!1,WV(u,c,m);Xr=(u.flags&131072)!==0}else Xr=!1,Rn&&(c.flags&1048576)!==0&&gn(c,we,c.index);switch(c.lanes=0,c.tag){case 16:e:{var S=c.pendingProps;if(u=Kl(c.elementType),c.type=u,typeof u=="function")af(u)?(S=Ql(u,S),c.tag=1,c=AM(null,c,u,S,m)):(c.tag=0,c=ob(null,c,u,S,m));else{if(u!=null){var D=u.$$typeof;if(D===P){c.tag=11,c=wM(null,c,u,S,m);break e}else if(D===M){c.tag=14,c=bM(null,c,u,S,m);break e}}throw c=ue(u)||u,Error(r(306,c,""))}}return c;case 0:return ob(u,c,c.type,c.pendingProps,m);case 1:return S=c.type,D=Ql(S,c.pendingProps),AM(u,c,S,D,m);case 3:e:{if(Pe(c,c.stateNode.containerInfo),u===null)throw Error(r(387));S=c.pendingProps;var F=c.memoizedState;D=F.element,L0(u,c),uh(c,S,null,m);var le=c.memoizedState;if(S=le.cache,Mu(c,Jr,S),S!==F.cache&&T0(c,[Jr],m,!0),sh(),S=le.element,F.isDehydrated)if(F={element:S,isDehydrated:!1,cache:le.cache},c.updateQueue.baseState=F,c.memoizedState=F,c.flags&256){c=RM(u,c,S,m);break e}else if(S!==D){D=_(Error(r(424)),c),zl(D),c=RM(u,c,S,m);break e}else{switch(u=c.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for($n=la(u.firstChild),Bn=c,Rn=!0,os=null,mo=!0,m=xO(c,null,S,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(ks(),S===D){c=js(u,c,m);break e}Ti(u,c,S,m)}c=c.child}return c;case 26:return bg(u,c),u===null?(m=qL(c.type,null,c.pendingProps,null))?c.memoizedState=m:Rn||(m=c.type,u=c.pendingProps,S=jg(xe.current).createElement(m),S[Lt]=c,S[It]=u,Ai(S,m,u),Ln(S),c.stateNode=S):c.memoizedState=qL(c.type,u.memoizedProps,c.pendingProps,u.memoizedState),null;case 27:return Je(c),u===null&&Rn&&(S=c.stateNode=BL(c.type,c.pendingProps,xe.current),Bn=c,mo=!0,D=$n,Hu(c.type)?(Vb=D,$n=la(S.firstChild)):$n=D),Ti(u,c,c.pendingProps.children,m),bg(u,c),u===null&&(c.flags|=4194304),c.child;case 5:return u===null&&Rn&&((D=S=$n)&&(S=EK(S,c.type,c.pendingProps,mo),S!==null?(c.stateNode=S,Bn=c,$n=la(S.firstChild),mo=!1,D=!0):D=!1),D||as(c)),Je(c),D=c.type,F=c.pendingProps,le=u!==null?u.memoizedProps:null,S=F.children,Bb(D,F)?S=null:le!==null&&Bb(D,le)&&(c.flags|=32),c.memoizedState!==null&&(D=U0(u,c,UV,null,null,m),Rh._currentValue=D),bg(u,c),Ti(u,c,S,m),c.child;case 6:return u===null&&Rn&&((u=m=$n)&&(m=CK(m,c.pendingProps,mo),m!==null?(c.stateNode=m,Bn=c,$n=null,u=!0):u=!1),u||as(c)),null;case 13:return PM(u,c,m);case 4:return Pe(c,c.stateNode.containerInfo),S=c.pendingProps,u===null?c.child=Wl(c,null,S,m):Ti(u,c,S,m),c.child;case 11:return wM(u,c,c.type,c.pendingProps,m);case 7:return Ti(u,c,c.pendingProps,m),c.child;case 8:return Ti(u,c,c.pendingProps.children,m),c.child;case 12:return Ti(u,c,c.pendingProps.children,m),c.child;case 10:return S=c.pendingProps,Mu(c,c.type,S.value),Ti(u,c,S.children,m),c.child;case 9:return D=c.type._context,S=c.pendingProps.children,Hl(c),D=Ci(D),S=S(D),c.flags|=1,Ti(u,c,S,m),c.child;case 14:return bM(u,c,c.type,c.pendingProps,m);case 15:return SM(u,c,c.type,c.pendingProps,m);case 19:return MM(u,c,m);case 31:return GV(u,c,m);case 22:return xM(u,c,m,c.pendingProps);case 24:return Hl(c),S=Ci(Jr),u===null?(D=P0(),D===null&&(D=yr,F=A0(),D.pooledCache=F,F.refCount++,F!==null&&(D.pooledCacheLanes|=m),D=F),c.memoizedState={parent:S,cache:D},M0(c),Mu(c,Jr,D)):((u.lanes&m)!==0&&(L0(u,c),uh(c,null,null,m),sh()),D=u.memoizedState,F=c.memoizedState,D.parent!==S?(D={parent:S,cache:S},c.memoizedState=D,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=D),Mu(c,Jr,S)):(S=F.cache,Mu(c,Jr,S),S!==D.cache&&T0(c,[Jr],m,!0))),Ti(u,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function Us(u){u.flags|=4}function hb(u,c,m,S,D){if((c=(u.mode&32)!==0)&&(c=!1),c){if(u.flags|=16777216,(D&335544128)===D)if(u.stateNode.complete)u.flags|=8192;else if(oL())u.flags|=8192;else throw Gl=ag,O0}else u.flags&=-16777217}function IM(u,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!WL(c))if(oL())u.flags|=8192;else throw Gl=ag,O0}function xg(u,c){c!==null&&(u.flags|=4),u.flags&16384&&(c=u.tag!==22?Re():536870912,u.lanes|=c,bf|=c)}function ph(u,c){if(!Rn)switch(u.tailMode){case"hidden":c=u.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?u.tail=null:m.sibling=null;break;case"collapsed":m=u.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?c||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function xr(u){var c=u.alternate!==null&&u.alternate.child===u.child,m=0,S=0;if(c)for(var D=u.child;D!==null;)m|=D.lanes|D.childLanes,S|=D.subtreeFlags&65011712,S|=D.flags&65011712,D.return=u,D=D.sibling;else for(D=u.child;D!==null;)m|=D.lanes|D.childLanes,S|=D.subtreeFlags,S|=D.flags,D.return=u,D=D.sibling;return u.subtreeFlags|=S,u.childLanes=m,c}function ZV(u,c,m){var S=c.pendingProps;switch(Ur(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xr(c),null;case 1:return xr(c),null;case 3:return m=c.stateNode,S=null,u!==null&&(S=u.memoizedState.cache),c.memoizedState.cache!==S&&(c.flags|=2048),Ds(Jr),Be(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(u===null||u.child===null)&&(Oa(c)?Us(c):u===null||u.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,th())),xr(c),null;case 26:var D=c.type,F=c.memoizedState;return u===null?(Us(c),F!==null?(xr(c),IM(c,F)):(xr(c),hb(c,D,null,S,m))):F?F!==u.memoizedState?(Us(c),xr(c),IM(c,F)):(xr(c),c.flags&=-16777217):(u=u.memoizedProps,u!==S&&Us(c),xr(c),hb(c,D,u,S,m)),null;case 27:if(fe(c),m=xe.current,D=c.type,u!==null&&c.stateNode!=null)u.memoizedProps!==S&&Us(c);else{if(!S){if(c.stateNode===null)throw Error(r(166));return xr(c),null}u=X.current,Oa(c)?eh(c):(u=BL(D,S,m),c.stateNode=u,Us(c))}return xr(c),null;case 5:if(fe(c),D=c.type,u!==null&&c.stateNode!=null)u.memoizedProps!==S&&Us(c);else{if(!S){if(c.stateNode===null)throw Error(r(166));return xr(c),null}if(F=X.current,Oa(c))eh(c);else{var le=jg(xe.current);switch(F){case 1:F=le.createElementNS("http://www.w3.org/2000/svg",D);break;case 2:F=le.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;default:switch(D){case"svg":F=le.createElementNS("http://www.w3.org/2000/svg",D);break;case"math":F=le.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;case"script":F=le.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof S.is=="string"?le.createElement("select",{is:S.is}):le.createElement("select"),S.multiple?F.multiple=!0:S.size&&(F.size=S.size);break;default:F=typeof S.is=="string"?le.createElement(D,{is:S.is}):le.createElement(D)}}F[Lt]=c,F[It]=S;e:for(le=c.child;le!==null;){if(le.tag===5||le.tag===6)F.appendChild(le.stateNode);else if(le.tag!==4&&le.tag!==27&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===c)break e;for(;le.sibling===null;){if(le.return===null||le.return===c)break e;le=le.return}le.sibling.return=le.return,le=le.sibling}c.stateNode=F;e:switch(Ai(F,D,S),D){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}S&&Us(c)}}return xr(c),hb(c,c.type,u===null?null:u.memoizedProps,c.pendingProps,m),null;case 6:if(u&&c.stateNode!=null)u.memoizedProps!==S&&Us(c);else{if(typeof S!="string"&&c.stateNode===null)throw Error(r(166));if(u=xe.current,Oa(c)){if(u=c.stateNode,m=c.memoizedProps,S=null,D=Bn,D!==null)switch(D.tag){case 27:case 5:S=D.memoizedProps}u[Lt]=c,u=!!(u.nodeValue===m||S!==null&&S.suppressHydrationWarning===!0||PL(u.nodeValue,m)),u||as(c,!0)}else u=jg(u).createTextNode(S),u[Lt]=c,c.stateNode=u}return xr(c),null;case 31:if(m=c.memoizedState,u===null||u.memoizedState!==null){if(S=Oa(c),m!==null){if(u===null){if(!S)throw Error(r(318));if(u=c.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[Lt]=c}else ks(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;xr(c),u=!1}else m=th(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=m),u=!0;if(!u)return c.flags&256?(ko(c),c):(ko(c),null);if((c.flags&128)!==0)throw Error(r(558))}return xr(c),null;case 13:if(S=c.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(D=Oa(c),S!==null&&S.dehydrated!==null){if(u===null){if(!D)throw Error(r(318));if(D=c.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(r(317));D[Lt]=c}else ks(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;xr(c),D=!1}else D=th(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=D),D=!0;if(!D)return c.flags&256?(ko(c),c):(ko(c),null)}return ko(c),(c.flags&128)!==0?(c.lanes=m,c):(m=S!==null,u=u!==null&&u.memoizedState!==null,m&&(S=c.child,D=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(D=S.alternate.memoizedState.cachePool.pool),F=null,S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(F=S.memoizedState.cachePool.pool),F!==D&&(S.flags|=2048)),m!==u&&m&&(c.child.flags|=8192),xg(c,c.updateQueue),xr(c),null);case 4:return Be(),u===null&&Db(c.stateNode.containerInfo),xr(c),null;case 10:return Ds(c.type),xr(c),null;case 19:if(ce(Gr),S=c.memoizedState,S===null)return xr(c),null;if(D=(c.flags&128)!==0,F=S.rendering,F===null)if(D)ph(S,!1);else{if($r!==0||u!==null&&(u.flags&128)!==0)for(u=c.child;u!==null;){if(F=cg(u),F!==null){for(c.flags|=128,ph(S,!1),u=F.updateQueue,c.updateQueue=u,xg(c,u),c.subtreeFlags=0,u=m,m=c.child;m!==null;)Jd(m,u),m=m.sibling;return G(Gr,Gr.current&1|2),Rn&&Qt(c,S.treeForkCount),c.child}u=u.sibling}S.tail!==null&&mt()>Rg&&(c.flags|=128,D=!0,ph(S,!1),c.lanes=4194304)}else{if(!D)if(u=cg(F),u!==null){if(c.flags|=128,D=!0,u=u.updateQueue,c.updateQueue=u,xg(c,u),ph(S,!0),S.tail===null&&S.tailMode==="hidden"&&!F.alternate&&!Rn)return xr(c),null}else 2*mt()-S.renderingStartTime>Rg&&m!==536870912&&(c.flags|=128,D=!0,ph(S,!1),c.lanes=4194304);S.isBackwards?(F.sibling=c.child,c.child=F):(u=S.last,u!==null?u.sibling=F:c.child=F,S.last=F)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=mt(),u.sibling=null,m=Gr.current,G(Gr,D?m&1|2:m&1),Rn&&Qt(c,S.treeForkCount),u):(xr(c),null);case 22:case 23:return ko(c),N0(),S=c.memoizedState!==null,u!==null?u.memoizedState!==null!==S&&(c.flags|=8192):S&&(c.flags|=8192),S?(m&536870912)!==0&&(c.flags&128)===0&&(xr(c),c.subtreeFlags&6&&(c.flags|=8192)):xr(c),m=c.updateQueue,m!==null&&xg(c,m.retryQueue),m=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),S=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(S=c.memoizedState.cachePool.pool),S!==m&&(c.flags|=2048),u!==null&&ce(Vl),null;case 24:return m=null,u!==null&&(m=u.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),Ds(Jr),xr(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function QV(u,c){switch(Ur(c),c.tag){case 1:return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 3:return Ds(Jr),Be(),u=c.flags,(u&65536)!==0&&(u&128)===0?(c.flags=u&-65537|128,c):null;case 26:case 27:case 5:return fe(c),null;case 31:if(c.memoizedState!==null){if(ko(c),c.alternate===null)throw Error(r(340));ks()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 13:if(ko(c),u=c.memoizedState,u!==null&&u.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ks()}return u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 19:return ce(Gr),null;case 4:return Be(),null;case 10:return Ds(c.type),null;case 22:case 23:return ko(c),N0(),u!==null&&ce(Vl),u=c.flags,u&65536?(c.flags=u&-65537|128,c):null;case 24:return Ds(Jr),null;case 25:return null;default:return null}}function kM(u,c){switch(Ur(c),c.tag){case 3:Ds(Jr),Be();break;case 26:case 27:case 5:fe(c);break;case 4:Be();break;case 31:c.memoizedState!==null&&ko(c);break;case 13:ko(c);break;case 19:ce(Gr);break;case 10:Ds(c.type);break;case 22:case 23:ko(c),N0(),u!==null&&ce(Vl);break;case 24:Ds(Jr)}}function mh(u,c){try{var m=c.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var D=S.next;m=D;do{if((m.tag&u)===u){S=void 0;var F=m.create,le=m.inst;S=F(),le.destroy=S}m=m.next}while(m!==D)}}catch(be){ir(c,c.return,be)}}function Fu(u,c,m){try{var S=c.updateQueue,D=S!==null?S.lastEffect:null;if(D!==null){var F=D.next;S=F;do{if((S.tag&u)===u){var le=S.inst,be=le.destroy;if(be!==void 0){le.destroy=void 0,D=c;var We=m,dt=be;try{dt()}catch(vt){ir(D,We,vt)}}}S=S.next}while(S!==F)}}catch(vt){ir(c,c.return,vt)}}function DM(u){var c=u.updateQueue;if(c!==null){var m=u.stateNode;try{CO(c,m)}catch(S){ir(u,u.return,S)}}}function NM(u,c,m){m.props=Ql(u.type,u.memoizedProps),m.state=u.memoizedState;try{m.componentWillUnmount()}catch(S){ir(u,c,S)}}function gh(u,c){try{var m=u.ref;if(m!==null){switch(u.tag){case 26:case 27:case 5:var S=u.stateNode;break;case 30:S=u.stateNode;break;default:S=u.stateNode}typeof m=="function"?u.refCleanup=m(S):m.current=S}}catch(D){ir(u,c,D)}}function us(u,c){var m=u.ref,S=u.refCleanup;if(m!==null)if(typeof S=="function")try{S()}catch(D){ir(u,c,D)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(D){ir(u,c,D)}else m.current=null}function FM(u){var c=u.type,m=u.memoizedProps,S=u.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&S.focus();break e;case"img":m.src?S.src=m.src:m.srcSet&&(S.srcset=m.srcSet)}}catch(D){ir(u,u.return,D)}}function pb(u,c,m){try{var S=u.stateNode;vK(S,u.type,m,c),S[It]=c}catch(D){ir(u,u.return,D)}}function jM(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Hu(u.type)||u.tag===4}function mb(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||jM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Hu(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function gb(u,c,m){var S=u.tag;if(S===5||S===6)u=u.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(u,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(u),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=Ht));else if(S!==4&&(S===27&&Hu(u.type)&&(m=u.stateNode,c=null),u=u.child,u!==null))for(gb(u,c,m),u=u.sibling;u!==null;)gb(u,c,m),u=u.sibling}function Eg(u,c,m){var S=u.tag;if(S===5||S===6)u=u.stateNode,c?m.insertBefore(u,c):m.appendChild(u);else if(S!==4&&(S===27&&Hu(u.type)&&(m=u.stateNode),u=u.child,u!==null))for(Eg(u,c,m),u=u.sibling;u!==null;)Eg(u,c,m),u=u.sibling}function UM(u){var c=u.stateNode,m=u.memoizedProps;try{for(var S=u.type,D=c.attributes;D.length;)c.removeAttributeNode(D[0]);Ai(c,S,m),c[Lt]=u,c[It]=m}catch(F){ir(u,u.return,F)}}var Bs=!1,ei=!1,yb=!1,BM=typeof WeakSet=="function"?WeakSet:Set,bi=null;function JV(u,c){if(u=u.containerInfo,jb=Vg,u=kl(u),es(u)){if("selectionStart"in u)var m={start:u.selectionStart,end:u.selectionEnd};else e:{m=(m=u.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var D=S.anchorOffset,F=S.focusNode;S=S.focusOffset;try{m.nodeType,F.nodeType}catch{m=null;break e}var le=0,be=-1,We=-1,dt=0,vt=0,Et=u,pt=null;t:for(;;){for(var yt;Et!==m||D!==0&&Et.nodeType!==3||(be=le+D),Et!==F||S!==0&&Et.nodeType!==3||(We=le+S),Et.nodeType===3&&(le+=Et.nodeValue.length),(yt=Et.firstChild)!==null;)pt=Et,Et=yt;for(;;){if(Et===u)break t;if(pt===m&&++dt===D&&(be=le),pt===F&&++vt===S&&(We=le),(yt=Et.nextSibling)!==null)break;Et=pt,pt=Et.parentNode}Et=yt}m=be===-1||We===-1?null:{start:be,end:We}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ub={focusedElem:u,selectionRange:m},Vg=!1,bi=c;bi!==null;)if(c=bi,u=c.child,(c.subtreeFlags&1028)!==0&&u!==null)u.return=c,bi=u;else for(;bi!==null;){switch(c=bi,F=c.alternate,u=c.flags,c.tag){case 0:if((u&4)!==0&&(u=c.updateQueue,u=u!==null?u.events:null,u!==null))for(m=0;m<u.length;m++)D=u[m],D.ref.impl=D.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&F!==null){u=void 0,m=c,D=F.memoizedProps,F=F.memoizedState,S=m.stateNode;try{var Vt=Ql(m.type,D);u=S.getSnapshotBeforeUpdate(Vt,F),S.__reactInternalSnapshotBeforeUpdate=u}catch(on){ir(m,m.return,on)}}break;case 3:if((u&1024)!==0){if(u=c.stateNode.containerInfo,m=u.nodeType,m===9)zb(u);else if(m===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":zb(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=c.sibling,u!==null){u.return=c.return,bi=u;break}bi=c.return}}function $M(u,c,m){var S=m.flags;switch(m.tag){case 0:case 11:case 15:zs(u,m),S&4&&mh(5,m);break;case 1:if(zs(u,m),S&4)if(u=m.stateNode,c===null)try{u.componentDidMount()}catch(le){ir(m,m.return,le)}else{var D=Ql(m.type,c.memoizedProps);c=c.memoizedState;try{u.componentDidUpdate(D,c,u.__reactInternalSnapshotBeforeUpdate)}catch(le){ir(m,m.return,le)}}S&64&&DM(m),S&512&&gh(m,m.return);break;case 3:if(zs(u,m),S&64&&(u=m.updateQueue,u!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{CO(u,c)}catch(le){ir(m,m.return,le)}}break;case 27:c===null&&S&4&&UM(m);case 26:case 5:zs(u,m),c===null&&S&4&&FM(m),S&512&&gh(m,m.return);break;case 12:zs(u,m);break;case 31:zs(u,m),S&4&&HM(u,m);break;case 13:zs(u,m),S&4&&VM(u,m),S&64&&(u=m.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(m=aK.bind(null,m),TK(u,m))));break;case 22:if(S=m.memoizedState!==null||Bs,!S){c=c!==null&&c.memoizedState!==null||ei,D=Bs;var F=ei;Bs=S,(ei=c)&&!F?qs(u,m,(m.subtreeFlags&8772)!==0):zs(u,m),Bs=D,ei=F}break;case 30:break;default:zs(u,m)}}function zM(u){var c=u.alternate;c!==null&&(u.alternate=null,zM(c)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(c=u.stateNode,c!==null&&An(c)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Ar=null,go=!1;function $s(u,c,m){for(m=m.child;m!==null;)qM(u,c,m),m=m.sibling}function qM(u,c,m){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Ke,m)}catch{}switch(m.tag){case 26:ei||us(m,c),$s(u,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ei||us(m,c);var S=Ar,D=go;Hu(m.type)&&(Ar=m.stateNode,go=!1),$s(u,c,m),Ch(m.stateNode),Ar=S,go=D;break;case 5:ei||us(m,c);case 6:if(S=Ar,D=go,Ar=null,$s(u,c,m),Ar=S,go=D,Ar!==null)if(go)try{(Ar.nodeType===9?Ar.body:Ar.nodeName==="HTML"?Ar.ownerDocument.body:Ar).removeChild(m.stateNode)}catch(F){ir(m,c,F)}else try{Ar.removeChild(m.stateNode)}catch(F){ir(m,c,F)}break;case 18:Ar!==null&&(go?(u=Ar,DL(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,m.stateNode),Pf(u)):DL(Ar,m.stateNode));break;case 4:S=Ar,D=go,Ar=m.stateNode.containerInfo,go=!0,$s(u,c,m),Ar=S,go=D;break;case 0:case 11:case 14:case 15:Fu(2,m,c),ei||Fu(4,m,c),$s(u,c,m);break;case 1:ei||(us(m,c),S=m.stateNode,typeof S.componentWillUnmount=="function"&&NM(m,c,S)),$s(u,c,m);break;case 21:$s(u,c,m);break;case 22:ei=(S=ei)||m.memoizedState!==null,$s(u,c,m),ei=S;break;default:$s(u,c,m)}}function HM(u,c){if(c.memoizedState===null&&(u=c.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Pf(u)}catch(m){ir(c,c.return,m)}}}function VM(u,c){if(c.memoizedState===null&&(u=c.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Pf(u)}catch(m){ir(c,c.return,m)}}function YV(u){switch(u.tag){case 31:case 13:case 19:var c=u.stateNode;return c===null&&(c=u.stateNode=new BM),c;case 22:return u=u.stateNode,c=u._retryCache,c===null&&(c=u._retryCache=new BM),c;default:throw Error(r(435,u.tag))}}function Cg(u,c){var m=YV(u);c.forEach(function(S){if(!m.has(S)){m.add(S);var D=sK.bind(null,u,S);S.then(D,D)}})}function yo(u,c){var m=c.deletions;if(m!==null)for(var S=0;S<m.length;S++){var D=m[S],F=u,le=c,be=le;e:for(;be!==null;){switch(be.tag){case 27:if(Hu(be.type)){Ar=be.stateNode,go=!1;break e}break;case 5:Ar=be.stateNode,go=!1;break e;case 3:case 4:Ar=be.stateNode.containerInfo,go=!0;break e}be=be.return}if(Ar===null)throw Error(r(160));qM(F,le,D),Ar=null,go=!1,F=D.alternate,F!==null&&(F.return=null),D.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)KM(c,u),c=c.sibling}var La=null;function KM(u,c){var m=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:yo(c,u),vo(u),S&4&&(Fu(3,u,u.return),mh(3,u),Fu(5,u,u.return));break;case 1:yo(c,u),vo(u),S&512&&(ei||m===null||us(m,m.return)),S&64&&Bs&&(u=u.updateQueue,u!==null&&(S=u.callbacks,S!==null&&(m=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=m===null?S:m.concat(S))));break;case 26:var D=La;if(yo(c,u),vo(u),S&512&&(ei||m===null||us(m,m.return)),S&4){var F=m!==null?m.memoizedState:null;if(S=u.memoizedState,m===null)if(S===null)if(u.stateNode===null){e:{S=u.type,m=u.memoizedProps,D=D.ownerDocument||D;t:switch(S){case"title":F=D.getElementsByTagName("title")[0],(!F||F[cn]||F[Lt]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=D.createElement(S),D.head.insertBefore(F,D.querySelector("head > title"))),Ai(F,S,m),F[Lt]=u,Ln(F),S=F;break e;case"link":var le=KL("link","href",D).get(S+(m.href||""));if(le){for(var be=0;be<le.length;be++)if(F=le[be],F.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&F.getAttribute("rel")===(m.rel==null?null:m.rel)&&F.getAttribute("title")===(m.title==null?null:m.title)&&F.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){le.splice(be,1);break t}}F=D.createElement(S),Ai(F,S,m),D.head.appendChild(F);break;case"meta":if(le=KL("meta","content",D).get(S+(m.content||""))){for(be=0;be<le.length;be++)if(F=le[be],F.getAttribute("content")===(m.content==null?null:""+m.content)&&F.getAttribute("name")===(m.name==null?null:m.name)&&F.getAttribute("property")===(m.property==null?null:m.property)&&F.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&F.getAttribute("charset")===(m.charSet==null?null:m.charSet)){le.splice(be,1);break t}}F=D.createElement(S),Ai(F,S,m),D.head.appendChild(F);break;default:throw Error(r(468,S))}F[Lt]=u,Ln(F),S=F}u.stateNode=S}else GL(D,u.type,u.stateNode);else u.stateNode=VL(D,S,u.memoizedProps);else F!==S?(F===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):F.count--,S===null?GL(D,u.type,u.stateNode):VL(D,S,u.memoizedProps)):S===null&&u.stateNode!==null&&pb(u,u.memoizedProps,m.memoizedProps)}break;case 27:yo(c,u),vo(u),S&512&&(ei||m===null||us(m,m.return)),m!==null&&S&4&&pb(u,u.memoizedProps,m.memoizedProps);break;case 5:if(yo(c,u),vo(u),S&512&&(ei||m===null||us(m,m.return)),u.flags&32){D=u.stateNode;try{Fe(D,"")}catch(Vt){ir(u,u.return,Vt)}}S&4&&u.stateNode!=null&&(D=u.memoizedProps,pb(u,D,m!==null?m.memoizedProps:D)),S&1024&&(yb=!0);break;case 6:if(yo(c,u),vo(u),S&4){if(u.stateNode===null)throw Error(r(162));S=u.memoizedProps,m=u.stateNode;try{m.nodeValue=S}catch(Vt){ir(u,u.return,Vt)}}break;case 3:if($g=null,D=La,La=Ug(c.containerInfo),yo(c,u),La=D,vo(u),S&4&&m!==null&&m.memoizedState.isDehydrated)try{Pf(c.containerInfo)}catch(Vt){ir(u,u.return,Vt)}yb&&(yb=!1,GM(u));break;case 4:S=La,La=Ug(u.stateNode.containerInfo),yo(c,u),vo(u),La=S;break;case 12:yo(c,u),vo(u);break;case 31:yo(c,u),vo(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,Cg(u,S)));break;case 13:yo(c,u),vo(u),u.child.flags&8192&&u.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Ag=mt()),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,Cg(u,S)));break;case 22:D=u.memoizedState!==null;var We=m!==null&&m.memoizedState!==null,dt=Bs,vt=ei;if(Bs=dt||D,ei=vt||We,yo(c,u),ei=vt,Bs=dt,vo(u),S&8192)e:for(c=u.stateNode,c._visibility=D?c._visibility&-2:c._visibility|1,D&&(m===null||We||Bs||ei||Jl(u)),m=null,c=u;;){if(c.tag===5||c.tag===26){if(m===null){We=m=c;try{if(F=We.stateNode,D)le=F.style,typeof le.setProperty=="function"?le.setProperty("display","none","important"):le.display="none";else{be=We.stateNode;var Et=We.memoizedProps.style,pt=Et!=null&&Et.hasOwnProperty("display")?Et.display:null;be.style.display=pt==null||typeof pt=="boolean"?"":(""+pt).trim()}}catch(Vt){ir(We,We.return,Vt)}}}else if(c.tag===6){if(m===null){We=c;try{We.stateNode.nodeValue=D?"":We.memoizedProps}catch(Vt){ir(We,We.return,Vt)}}}else if(c.tag===18){if(m===null){We=c;try{var yt=We.stateNode;D?NL(yt,!0):NL(We.stateNode,!1)}catch(Vt){ir(We,We.return,Vt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===u)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}S&4&&(S=u.updateQueue,S!==null&&(m=S.retryQueue,m!==null&&(S.retryQueue=null,Cg(u,m))));break;case 19:yo(c,u),vo(u),S&4&&(S=u.updateQueue,S!==null&&(u.updateQueue=null,Cg(u,S)));break;case 30:break;case 21:break;default:yo(c,u),vo(u)}}function vo(u){var c=u.flags;if(c&2){try{for(var m,S=u.return;S!==null;){if(jM(S)){m=S;break}S=S.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var D=m.stateNode,F=mb(u);Eg(u,F,D);break;case 5:var le=m.stateNode;m.flags&32&&(Fe(le,""),m.flags&=-33);var be=mb(u);Eg(u,be,le);break;case 3:case 4:var We=m.stateNode.containerInfo,dt=mb(u);gb(u,dt,We);break;default:throw Error(r(161))}}catch(vt){ir(u,u.return,vt)}u.flags&=-3}c&4096&&(u.flags&=-4097)}function GM(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var c=u;GM(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),u=u.sibling}}function zs(u,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)$M(u,c.alternate,c),c=c.sibling}function Jl(u){for(u=u.child;u!==null;){var c=u;switch(c.tag){case 0:case 11:case 14:case 15:Fu(4,c,c.return),Jl(c);break;case 1:us(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&NM(c,c.return,m),Jl(c);break;case 27:Ch(c.stateNode);case 26:case 5:us(c,c.return),Jl(c);break;case 22:c.memoizedState===null&&Jl(c);break;case 30:Jl(c);break;default:Jl(c)}u=u.sibling}}function qs(u,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var S=c.alternate,D=u,F=c,le=F.flags;switch(F.tag){case 0:case 11:case 15:qs(D,F,m),mh(4,F);break;case 1:if(qs(D,F,m),S=F,D=S.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(dt){ir(S,S.return,dt)}if(S=F,D=S.updateQueue,D!==null){var be=S.stateNode;try{var We=D.shared.hiddenCallbacks;if(We!==null)for(D.shared.hiddenCallbacks=null,D=0;D<We.length;D++)EO(We[D],be)}catch(dt){ir(S,S.return,dt)}}m&&le&64&&DM(F),gh(F,F.return);break;case 27:UM(F);case 26:case 5:qs(D,F,m),m&&S===null&&le&4&&FM(F),gh(F,F.return);break;case 12:qs(D,F,m);break;case 31:qs(D,F,m),m&&le&4&&HM(D,F);break;case 13:qs(D,F,m),m&&le&4&&VM(D,F);break;case 22:F.memoizedState===null&&qs(D,F,m),gh(F,F.return);break;case 30:break;default:qs(D,F,m)}c=c.sibling}}function vb(u,c){var m=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),u=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(u=c.memoizedState.cachePool.pool),u!==m&&(u!=null&&u.refCount++,m!=null&&nh(m))}function _b(u,c){u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&nh(u))}function Ia(u,c,m,S){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)WM(u,c,m,S),c=c.sibling}function WM(u,c,m,S){var D=c.flags;switch(c.tag){case 0:case 11:case 15:Ia(u,c,m,S),D&2048&&mh(9,c);break;case 1:Ia(u,c,m,S);break;case 3:Ia(u,c,m,S),D&2048&&(u=null,c.alternate!==null&&(u=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==u&&(c.refCount++,u!=null&&nh(u)));break;case 12:if(D&2048){Ia(u,c,m,S),u=c.stateNode;try{var F=c.memoizedProps,le=F.id,be=F.onPostCommit;typeof be=="function"&&be(le,c.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(We){ir(c,c.return,We)}}else Ia(u,c,m,S);break;case 31:Ia(u,c,m,S);break;case 13:Ia(u,c,m,S);break;case 23:break;case 22:F=c.stateNode,le=c.alternate,c.memoizedState!==null?F._visibility&2?Ia(u,c,m,S):yh(u,c):F._visibility&2?Ia(u,c,m,S):(F._visibility|=2,vf(u,c,m,S,(c.subtreeFlags&10256)!==0||!1)),D&2048&&vb(le,c);break;case 24:Ia(u,c,m,S),D&2048&&_b(c.alternate,c);break;default:Ia(u,c,m,S)}}function vf(u,c,m,S,D){for(D=D&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var F=u,le=c,be=m,We=S,dt=le.flags;switch(le.tag){case 0:case 11:case 15:vf(F,le,be,We,D),mh(8,le);break;case 23:break;case 22:var vt=le.stateNode;le.memoizedState!==null?vt._visibility&2?vf(F,le,be,We,D):yh(F,le):(vt._visibility|=2,vf(F,le,be,We,D)),D&&dt&2048&&vb(le.alternate,le);break;case 24:vf(F,le,be,We,D),D&&dt&2048&&_b(le.alternate,le);break;default:vf(F,le,be,We,D)}c=c.sibling}}function yh(u,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=u,S=c,D=S.flags;switch(S.tag){case 22:yh(m,S),D&2048&&vb(S.alternate,S);break;case 24:yh(m,S),D&2048&&_b(S.alternate,S);break;default:yh(m,S)}c=c.sibling}}var vh=8192;function _f(u,c,m){if(u.subtreeFlags&vh)for(u=u.child;u!==null;)ZM(u,c,m),u=u.sibling}function ZM(u,c,m){switch(u.tag){case 26:_f(u,c,m),u.flags&vh&&u.memoizedState!==null&&jK(m,La,u.memoizedState,u.memoizedProps);break;case 5:_f(u,c,m);break;case 3:case 4:var S=La;La=Ug(u.stateNode.containerInfo),_f(u,c,m),La=S;break;case 22:u.memoizedState===null&&(S=u.alternate,S!==null&&S.memoizedState!==null?(S=vh,vh=16777216,_f(u,c,m),vh=S):_f(u,c,m));break;default:_f(u,c,m)}}function QM(u){var c=u.alternate;if(c!==null&&(u=c.child,u!==null)){c.child=null;do c=u.sibling,u.sibling=null,u=c;while(u!==null)}}function _h(u){var c=u.deletions;if((u.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var S=c[m];bi=S,YM(S,u)}QM(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)JM(u),u=u.sibling}function JM(u){switch(u.tag){case 0:case 11:case 15:_h(u),u.flags&2048&&Fu(9,u,u.return);break;case 3:_h(u);break;case 12:_h(u);break;case 22:var c=u.stateNode;u.memoizedState!==null&&c._visibility&2&&(u.return===null||u.return.tag!==13)?(c._visibility&=-3,Tg(u)):_h(u);break;default:_h(u)}}function Tg(u){var c=u.deletions;if((u.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var S=c[m];bi=S,YM(S,u)}QM(u)}for(u=u.child;u!==null;){switch(c=u,c.tag){case 0:case 11:case 15:Fu(8,c,c.return),Tg(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Tg(c));break;default:Tg(c)}u=u.sibling}}function YM(u,c){for(;bi!==null;){var m=bi;switch(m.tag){case 0:case 11:case 15:Fu(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var S=m.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:nh(m.memoizedState.cache)}if(S=m.child,S!==null)S.return=m,bi=S;else e:for(m=u;bi!==null;){S=bi;var D=S.sibling,F=S.return;if(zM(S),S===m){bi=null;break e}if(D!==null){D.return=F,bi=D;break e}bi=F}}}var XV={getCacheForType:function(u){var c=Ci(Jr),m=c.data.get(u);return m===void 0&&(m=u(),c.data.set(u,m)),m},cacheSignal:function(){return Ci(Jr).controller.signal}},eK=typeof WeakMap=="function"?WeakMap:Map,Kn=0,yr=null,Pn=null,In=0,rr=0,Do=null,ju=!1,wf=!1,wb=!1,Hs=0,$r=0,Uu=0,Yl=0,bb=0,No=0,bf=0,wh=null,_o=null,Sb=!1,Ag=0,XM=0,Rg=1/0,Pg=null,Bu=null,hi=0,$u=null,Sf=null,Vs=0,xb=0,Eb=null,eL=null,bh=0,Cb=null;function Fo(){return(Kn&2)!==0&&In!==0?In&-In:se.T!==null?Mb():Ot()}function tL(){if(No===0)if((In&536870912)===0||Rn){var u=nn;nn<<=1,(nn&3932160)===0&&(nn=262144),No=u}else No=536870912;return u=Io.current,u!==null&&(u.flags|=32),No}function wo(u,c,m){(u===yr&&(rr===2||rr===9)||u.cancelPendingCommit!==null)&&(xf(u,0),zu(u,In,No,!1)),Ct(u,m),((Kn&2)===0||u!==yr)&&(u===yr&&((Kn&2)===0&&(Yl|=m),$r===4&&zu(u,In,No,!1)),ls(u))}function nL(u,c,m){if((Kn&6)!==0)throw Error(r(327));var S=!m&&(c&127)===0&&(c&u.expiredLanes)===0||dr(u,c),D=S?rK(u,c):Ab(u,c,!0),F=S;do{if(D===0){wf&&!S&&zu(u,c,0,!1);break}else{if(m=u.current.alternate,F&&!tK(m)){D=Ab(u,c,!1),F=!1;continue}if(D===2){if(F=c,u.errorRecoveryDisabledLanes&F)var le=0;else le=u.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){c=le;e:{var be=u;D=wh;var We=be.current.memoizedState.isDehydrated;if(We&&(xf(be,le).flags|=256),le=Ab(be,le,!1),le!==2){if(wb&&!We){be.errorRecoveryDisabledLanes|=F,Yl|=F,D=4;break e}F=_o,_o=D,F!==null&&(_o===null?_o=F:_o.push.apply(_o,F))}D=le}if(F=!1,D!==2)continue}}if(D===1){xf(u,0),zu(u,c,0,!0);break}e:{switch(S=u,F=D,F){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:zu(S,c,No,!ju);break e;case 2:_o=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(D=Ag+300-mt(),10<D)){if(zu(S,c,No,!ju),fr(S,0,!0)!==0)break e;Vs=c,S.timeoutHandle=IL(rL.bind(null,S,m,_o,Pg,Sb,c,No,Yl,bf,ju,F,"Throttled",-0,0),D);break e}rL(S,m,_o,Pg,Sb,c,No,Yl,bf,ju,F,null,-0,0)}}break}while(!0);ls(u)}function rL(u,c,m,S,D,F,le,be,We,dt,vt,Et,pt,yt){if(u.timeoutHandle=-1,Et=c.subtreeFlags,Et&8192||(Et&16785408)===16785408){Et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ht},ZM(c,F,Et);var Vt=(F&62914560)===F?Ag-mt():(F&4194048)===F?XM-mt():0;if(Vt=UK(Et,Vt),Vt!==null){Vs=F,u.cancelPendingCommit=Vt(fL.bind(null,u,c,F,m,S,D,le,be,We,vt,Et,null,pt,yt)),zu(u,F,le,!dt);return}}fL(u,c,F,m,S,D,le,be,We)}function tK(u){for(var c=u;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var S=0;S<m.length;S++){var D=m[S],F=D.getSnapshot;D=D.value;try{if(!_i(F(),D))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===u)break;for(;c.sibling===null;){if(c.return===null||c.return===u)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function zu(u,c,m,S){c&=~bb,c&=~Yl,u.suspendedLanes|=c,u.pingedLanes&=~c,S&&(u.warmLanes|=c),S=u.expirationTimes;for(var D=c;0<D;){var F=31-zt(D),le=1<<F;S[F]=-1,D&=~le}m!==0&&Dt(u,m,c)}function Og(){return(Kn&6)===0?(Sh(0),!1):!0}function Tb(){if(Pn!==null){if(rr===0)var u=Pn.return;else u=Pn,Ma=ss=null,z0(u),hf=null,ih=0,u=Pn;for(;u!==null;)kM(u.alternate,u),u=u.return;Pn=null}}function xf(u,c){var m=u.timeoutHandle;m!==-1&&(u.timeoutHandle=-1,bK(m)),m=u.cancelPendingCommit,m!==null&&(u.cancelPendingCommit=null,m()),Vs=0,Tb(),yr=u,Pn=m=sa(u.current,null),In=c,rr=0,Do=null,ju=!1,wf=dr(u,c),wb=!1,bf=No=bb=Yl=Uu=$r=0,_o=wh=null,Sb=!1,(c&8)!==0&&(c|=c&32);var S=u.entangledLanes;if(S!==0)for(u=u.entanglements,S&=c;0<S;){var D=31-zt(S),F=1<<D;c|=u[D],S&=~F}return Hs=c,Ul(),m}function iL(u,c){mn=null,se.H=dh,c===df||c===og?(c=wO(),rr=3):c===O0?(c=wO(),rr=4):rr=c===ib?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Do=c,Pn===null&&($r=1,_g(u,_(c,u.current)))}function oL(){var u=Io.current;return u===null?!0:(In&4194048)===In?ua===null:(In&62914560)===In||(In&536870912)!==0?u===ua:!1}function aL(){var u=se.H;return se.H=dh,u===null?dh:u}function sL(){var u=se.A;return se.A=XV,u}function Mg(){$r=4,ju||(In&4194048)!==In&&Io.current!==null||(wf=!0),(Uu&134217727)===0&&(Yl&134217727)===0||yr===null||zu(yr,In,No,!1)}function Ab(u,c,m){var S=Kn;Kn|=2;var D=aL(),F=sL();(yr!==u||In!==c)&&(Pg=null,xf(u,c)),c=!1;var le=$r;e:do try{if(rr!==0&&Pn!==null){var be=Pn,We=Do;switch(rr){case 8:Tb(),le=6;break e;case 3:case 2:case 9:case 6:Io.current===null&&(c=!0);var dt=rr;if(rr=0,Do=null,Ef(u,be,We,dt),m&&wf){le=0;break e}break;default:dt=rr,rr=0,Do=null,Ef(u,be,We,dt)}}nK(),le=$r;break}catch(vt){iL(u,vt)}while(!0);return c&&u.shellSuspendCounter++,Ma=ss=null,Kn=S,se.H=D,se.A=F,Pn===null&&(yr=null,In=0,Ul()),le}function nK(){for(;Pn!==null;)uL(Pn)}function rK(u,c){var m=Kn;Kn|=2;var S=aL(),D=sL();yr!==u||In!==c?(Pg=null,Rg=mt()+500,xf(u,c)):wf=dr(u,c);e:do try{if(rr!==0&&Pn!==null){c=Pn;var F=Do;t:switch(rr){case 1:rr=0,Do=null,Ef(u,c,F,1);break;case 2:case 9:if(vO(F)){rr=0,Do=null,lL(c);break}c=function(){rr!==2&&rr!==9||yr!==u||(rr=7),ls(u)},F.then(c,c);break e;case 3:rr=7;break e;case 4:rr=5;break e;case 7:vO(F)?(rr=0,Do=null,lL(c)):(rr=0,Do=null,Ef(u,c,F,7));break;case 5:var le=null;switch(Pn.tag){case 26:le=Pn.memoizedState;case 5:case 27:var be=Pn;if(le?WL(le):be.stateNode.complete){rr=0,Do=null;var We=be.sibling;if(We!==null)Pn=We;else{var dt=be.return;dt!==null?(Pn=dt,Lg(dt)):Pn=null}break t}}rr=0,Do=null,Ef(u,c,F,5);break;case 6:rr=0,Do=null,Ef(u,c,F,6);break;case 8:Tb(),$r=6;break e;default:throw Error(r(462))}}iK();break}catch(vt){iL(u,vt)}while(!0);return Ma=ss=null,se.H=S,se.A=D,Kn=m,Pn!==null?0:(yr=null,In=0,Ul(),$r)}function iK(){for(;Pn!==null&&!Me();)uL(Pn)}function uL(u){var c=LM(u.alternate,u,Hs);u.memoizedProps=u.pendingProps,c===null?Lg(u):Pn=c}function lL(u){var c=u,m=c.alternate;switch(c.tag){case 15:case 0:c=TM(m,c,c.pendingProps,c.type,void 0,In);break;case 11:c=TM(m,c,c.pendingProps,c.type.render,c.ref,In);break;case 5:z0(c);default:kM(m,c),c=Pn=Jd(c,Hs),c=LM(m,c,Hs)}u.memoizedProps=u.pendingProps,c===null?Lg(u):Pn=c}function Ef(u,c,m,S){Ma=ss=null,z0(c),hf=null,ih=0;var D=c.return;try{if(KV(u,D,c,m,In)){$r=1,_g(u,_(m,u.current)),Pn=null;return}}catch(F){if(D!==null)throw Pn=D,F;$r=1,_g(u,_(m,u.current)),Pn=null;return}c.flags&32768?(Rn||S===1?u=!0:wf||(In&536870912)!==0?u=!1:(ju=u=!0,(S===2||S===9||S===3||S===6)&&(S=Io.current,S!==null&&S.tag===13&&(S.flags|=16384))),cL(c,u)):Lg(c)}function Lg(u){var c=u;do{if((c.flags&32768)!==0){cL(c,ju);return}u=c.return;var m=ZV(c.alternate,c,Hs);if(m!==null){Pn=m;return}if(c=c.sibling,c!==null){Pn=c;return}Pn=c=u}while(c!==null);$r===0&&($r=5)}function cL(u,c){do{var m=QV(u.alternate,u);if(m!==null){m.flags&=32767,Pn=m;return}if(m=u.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(u=u.sibling,u!==null)){Pn=u;return}Pn=u=m}while(u!==null);$r=6,Pn=null}function fL(u,c,m,S,D,F,le,be,We){u.cancelPendingCommit=null;do Ig();while(hi!==0);if((Kn&6)!==0)throw Error(r(327));if(c!==null){if(c===u.current)throw Error(r(177));if(F=c.lanes|c.childLanes,F|=of,At(u,m,F,le,be,We),u===yr&&(Pn=yr=null,In=0),Sf=c,$u=u,Vs=m,xb=F,Eb=D,eL=S,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,uK(K,function(){return gL(),null})):(u.callbackNode=null,u.callbackPriority=0),S=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||S){S=se.T,se.T=null,D=pe.p,pe.p=2,le=Kn,Kn|=4;try{JV(u,c,m)}finally{Kn=le,pe.p=D,se.T=S}}hi=1,dL(),hL(),pL()}}function dL(){if(hi===1){hi=0;var u=$u,c=Sf,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=se.T,se.T=null;var S=pe.p;pe.p=2;var D=Kn;Kn|=4;try{KM(c,u);var F=Ub,le=kl(u.containerInfo),be=F.focusedElem,We=F.selectionRange;if(le!==be&&be&&be.ownerDocument&&ef(be.ownerDocument.documentElement,be)){if(We!==null&&es(be)){var dt=We.start,vt=We.end;if(vt===void 0&&(vt=dt),"selectionStart"in be)be.selectionStart=dt,be.selectionEnd=Math.min(vt,be.value.length);else{var Et=be.ownerDocument||document,pt=Et&&Et.defaultView||window;if(pt.getSelection){var yt=pt.getSelection(),Vt=be.textContent.length,on=Math.min(We.start,Vt),cr=We.end===void 0?on:Math.min(We.end,Vt);!yt.extend&&on>cr&&(le=cr,cr=on,on=le);var it=Il(be,on),Qe=Il(be,cr);if(it&&Qe&&(yt.rangeCount!==1||yt.anchorNode!==it.node||yt.anchorOffset!==it.offset||yt.focusNode!==Qe.node||yt.focusOffset!==Qe.offset)){var ft=Et.createRange();ft.setStart(it.node,it.offset),yt.removeAllRanges(),on>cr?(yt.addRange(ft),yt.extend(Qe.node,Qe.offset)):(ft.setEnd(Qe.node,Qe.offset),yt.addRange(ft))}}}}for(Et=[],yt=be;yt=yt.parentNode;)yt.nodeType===1&&Et.push({element:yt,left:yt.scrollLeft,top:yt.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<Et.length;be++){var bt=Et[be];bt.element.scrollLeft=bt.left,bt.element.scrollTop=bt.top}}Vg=!!jb,Ub=jb=null}finally{Kn=D,pe.p=S,se.T=m}}u.current=c,hi=2}}function hL(){if(hi===2){hi=0;var u=$u,c=Sf,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=se.T,se.T=null;var S=pe.p;pe.p=2;var D=Kn;Kn|=4;try{$M(u,c.alternate,c)}finally{Kn=D,pe.p=S,se.T=m}}hi=3}}function pL(){if(hi===4||hi===3){hi=0,tt();var u=$u,c=Sf,m=Vs,S=eL;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?hi=5:(hi=0,Sf=$u=null,mL(u,u.pendingLanes));var D=u.pendingLanes;if(D===0&&(Bu=null),lt(m),c=c.stateNode,Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Ke,c,void 0,(c.current.flags&128)===128)}catch{}if(S!==null){c=se.T,D=pe.p,pe.p=2,se.T=null;try{for(var F=u.onRecoverableError,le=0;le<S.length;le++){var be=S[le];F(be.value,{componentStack:be.stack})}}finally{se.T=c,pe.p=D}}(Vs&3)!==0&&Ig(),ls(u),D=u.pendingLanes,(m&261930)!==0&&(D&42)!==0?u===Cb?bh++:(bh=0,Cb=u):bh=0,Sh(0)}}function mL(u,c){(u.pooledCacheLanes&=c)===0&&(c=u.pooledCache,c!=null&&(u.pooledCache=null,nh(c)))}function Ig(){return dL(),hL(),pL(),gL()}function gL(){if(hi!==5)return!1;var u=$u,c=xb;xb=0;var m=lt(Vs),S=se.T,D=pe.p;try{pe.p=32>m?32:m,se.T=null,m=Eb,Eb=null;var F=$u,le=Vs;if(hi=0,Sf=$u=null,Vs=0,(Kn&6)!==0)throw Error(r(331));var be=Kn;if(Kn|=4,JM(F.current),WM(F,F.current,le,m),Kn=be,Sh(0,!1),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Ke,F)}catch{}return!0}finally{pe.p=D,se.T=S,mL(u,c)}}function yL(u,c,m){c=_(m,c),c=rb(u.stateNode,c,2),u=ku(u,c,2),u!==null&&(Ct(u,2),ls(u))}function ir(u,c,m){if(u.tag===3)yL(u,u,m);else for(;c!==null;){if(c.tag===3){yL(c,u,m);break}else if(c.tag===1){var S=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Bu===null||!Bu.has(S))){u=_(m,u),m=vM(2),S=ku(c,m,2),S!==null&&(_M(m,S,c,u),Ct(S,2),ls(S));break}}c=c.return}}function Rb(u,c,m){var S=u.pingCache;if(S===null){S=u.pingCache=new eK;var D=new Set;S.set(c,D)}else D=S.get(c),D===void 0&&(D=new Set,S.set(c,D));D.has(m)||(wb=!0,D.add(m),u=oK.bind(null,u,c,m),c.then(u,u))}function oK(u,c,m){var S=u.pingCache;S!==null&&S.delete(c),u.pingedLanes|=u.suspendedLanes&m,u.warmLanes&=~m,yr===u&&(In&m)===m&&($r===4||$r===3&&(In&62914560)===In&&300>mt()-Ag?(Kn&2)===0&&xf(u,0):bb|=m,bf===In&&(bf=0)),ls(u)}function vL(u,c){c===0&&(c=Re()),u=aa(u,c),u!==null&&(Ct(u,c),ls(u))}function aK(u){var c=u.memoizedState,m=0;c!==null&&(m=c.retryLane),vL(u,m)}function sK(u,c){var m=0;switch(u.tag){case 31:case 13:var S=u.stateNode,D=u.memoizedState;D!==null&&(m=D.retryLane);break;case 19:S=u.stateNode;break;case 22:S=u.stateNode._retryCache;break;default:throw Error(r(314))}S!==null&&S.delete(c),vL(u,m)}function uK(u,c){return ye(u,c)}var kg=null,Cf=null,Pb=!1,Dg=!1,Ob=!1,qu=0;function ls(u){u!==Cf&&u.next===null&&(Cf===null?kg=Cf=u:Cf=Cf.next=u),Dg=!0,Pb||(Pb=!0,cK())}function Sh(u,c){if(!Ob&&Dg){Ob=!0;do for(var m=!1,S=kg;S!==null;){if(u!==0){var D=S.pendingLanes;if(D===0)var F=0;else{var le=S.suspendedLanes,be=S.pingedLanes;F=(1<<31-zt(42|u)+1)-1,F&=D&~(le&~be),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(m=!0,SL(S,F))}else F=In,F=fr(S,S===yr?F:0,S.cancelPendingCommit!==null||S.timeoutHandle!==-1),(F&3)===0||dr(S,F)||(m=!0,SL(S,F));S=S.next}while(m);Ob=!1}}function lK(){_L()}function _L(){Dg=Pb=!1;var u=0;qu!==0&&wK()&&(u=qu);for(var c=mt(),m=null,S=kg;S!==null;){var D=S.next,F=wL(S,c);F===0?(S.next=null,m===null?kg=D:m.next=D,D===null&&(Cf=m)):(m=S,(u!==0||(F&3)!==0)&&(Dg=!0)),S=D}hi!==0&&hi!==5||Sh(u),qu!==0&&(qu=0)}function wL(u,c){for(var m=u.suspendedLanes,S=u.pingedLanes,D=u.expirationTimes,F=u.pendingLanes&-62914561;0<F;){var le=31-zt(F),be=1<<le,We=D[le];We===-1?((be&m)===0||(be&S)!==0)&&(D[le]=Cr(be,c)):We<=c&&(u.expiredLanes|=be),F&=~be}if(c=yr,m=In,m=fr(u,u===c?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),S=u.callbackNode,m===0||u===c&&(rr===2||rr===9)||u.cancelPendingCommit!==null)return S!==null&&S!==null&&Ae(S),u.callbackNode=null,u.callbackPriority=0;if((m&3)===0||dr(u,m)){if(c=m&-m,c===u.callbackPriority)return c;switch(S!==null&&Ae(S),lt(m)){case 2:case 8:m=ae;break;case 32:m=K;break;case 268435456:m=J;break;default:m=K}return S=bL.bind(null,u),m=ye(m,S),u.callbackPriority=c,u.callbackNode=m,c}return S!==null&&S!==null&&Ae(S),u.callbackPriority=2,u.callbackNode=null,2}function bL(u,c){if(hi!==0&&hi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var m=u.callbackNode;if(Ig()&&u.callbackNode!==m)return null;var S=In;return S=fr(u,u===yr?S:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),S===0?null:(nL(u,S,c),wL(u,mt()),u.callbackNode!=null&&u.callbackNode===m?bL.bind(null,u):null)}function SL(u,c){if(Ig())return null;nL(u,c,!0)}function cK(){SK(function(){(Kn&6)!==0?ye(qe,lK):_L()})}function Mb(){if(qu===0){var u=cf;u===0&&(u=Tn,Tn<<=1,(Tn&261888)===0&&(Tn=256)),qu=u}return qu}function xL(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function EL(u,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,u.id&&m.setAttribute("form",u.id),c.parentNode.insertBefore(m,c),u=new FormData(u),m.parentNode.removeChild(m),u}function fK(u,c,m,S,D){if(c==="submit"&&m&&m.stateNode===D){var F=xL((D[It]||null).action),le=S.submitter;le&&(c=(c=le[It]||null)?xL(c.formAction):le.getAttribute("formAction"),c!==null&&(F=c,le=null));var be=new Ca("action","action",null,S,D);u.push({event:be,listeners:[{instance:null,listener:function(){if(S.defaultPrevented){if(qu!==0){var We=le?EL(D,le):new FormData(D);J0(m,{pending:!0,data:We,method:D.method,action:F},null,We)}}else typeof F=="function"&&(be.preventDefault(),We=le?EL(D,le):new FormData(D),J0(m,{pending:!0,data:We,method:D.method,action:F},F,We))},currentTarget:D}]})}}for(var Lb=0;Lb<rs.length;Lb++){var Ib=rs[Lb],dK=Ib.toLowerCase(),hK=Ib[0].toUpperCase()+Ib.slice(1);ho(dK,"on"+hK)}ho(Nl,"onAnimationEnd"),ho(Xm,"onAnimationIteration"),ho(Fl,"onAnimationStart"),ho("dblclick","onDoubleClick"),ho("focusin","onFocus"),ho("focusout","onBlur"),ho(S0,"onTransitionRun"),ho(eg,"onTransitionStart"),ho(x0,"onTransitionCancel"),ho(Pu,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),si("onBeforeInput",["compositionend","keypress","textInput","paste"]),si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xh));function CL(u,c){c=(c&4)!==0;for(var m=0;m<u.length;m++){var S=u[m],D=S.event;S=S.listeners;e:{var F=void 0;if(c)for(var le=S.length-1;0<=le;le--){var be=S[le],We=be.instance,dt=be.currentTarget;if(be=be.listener,We!==F&&D.isPropagationStopped())break e;F=be,D.currentTarget=dt;try{F(D)}catch(vt){jl(vt)}D.currentTarget=null,F=We}else for(le=0;le<S.length;le++){if(be=S[le],We=be.instance,dt=be.currentTarget,be=be.listener,We!==F&&D.isPropagationStopped())break e;F=be,D.currentTarget=dt;try{F(D)}catch(vt){jl(vt)}D.currentTarget=null,F=We}}}}function On(u,c){var m=c[Rt];m===void 0&&(m=c[Rt]=new Set);var S=u+"__bubble";m.has(S)||(TL(c,u,2,!1),m.add(S))}function kb(u,c,m){var S=0;c&&(S|=4),TL(m,u,S,c)}var Ng="_reactListening"+Math.random().toString(36).slice(2);function Db(u){if(!u[Ng]){u[Ng]=!0,hr.forEach(function(m){m!=="selectionchange"&&(pK.has(m)||kb(m,!1,u),kb(m,!0,u))});var c=u.nodeType===9?u:u.ownerDocument;c===null||c[Ng]||(c[Ng]=!0,kb("selectionchange",!1,c))}}function TL(u,c,m,S){switch(tI(c)){case 2:var D=zK;break;case 8:D=qK;break;default:D=Qb}m=D.bind(null,c,m,u),D=void 0,!Rr||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(D=!0),S?D!==void 0?u.addEventListener(c,m,{capture:!0,passive:D}):u.addEventListener(c,m,!0):D!==void 0?u.addEventListener(c,m,{passive:D}):u.addEventListener(c,m,!1)}function Nb(u,c,m,S,D){var F=S;if((c&1)===0&&(c&2)===0&&S!==null)e:for(;;){if(S===null)return;var le=S.tag;if(le===3||le===4){var be=S.stateNode.containerInfo;if(be===D)break;if(le===4)for(le=S.return;le!==null;){var We=le.tag;if((We===3||We===4)&&le.stateNode.containerInfo===D)return;le=le.return}for(;be!==null;){if(le=Gt(be),le===null)return;if(We=le.tag,We===5||We===6||We===26||We===27){S=F=le;continue e}be=be.parentNode}}S=S.return}mr(function(){var dt=F,vt=Un(m),Et=[];e:{var pt=tg.get(u);if(pt!==void 0){var yt=Ca,Vt=u;switch(u){case"keypress":if(Oo(m)===0)break e;case"keydown":case"keyup":yt=$m;break;case"focusin":Vt="focus",yt=Os;break;case"focusout":Vt="blur",yt=Os;break;case"beforeblur":case"afterblur":yt=Os;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":yt=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":yt=Ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":yt=g0;break;case Nl:case Xm:case Fl:yt=Mo;break;case Pu:yt=Hm;break;case"scroll":case"scrollend":yt=bn;break;case"wheel":yt=Ms;break;case"copy":case"cut":case"paste":yt=co;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":yt=zm;break;case"toggle":case"beforetoggle":yt=Rl}var on=(c&4)!==0,cr=!on&&(u==="scroll"||u==="scrollend"),it=on?pt!==null?pt+"Capture":null:pt;on=[];for(var Qe=dt,ft;Qe!==null;){var bt=Qe;if(ft=bt.stateNode,bt=bt.tag,bt!==5&&bt!==26&&bt!==27||ft===null||it===null||(bt=er(Qe,it),bt!=null&&on.push(Eh(Qe,bt,ft))),cr)break;Qe=Qe.return}0<on.length&&(pt=new yt(pt,Vt,null,m,vt),Et.push({event:pt,listeners:on}))}}if((c&7)===0){e:{if(pt=u==="mouseover"||u==="pointerover",yt=u==="mouseout"||u==="pointerout",pt&&m!==jn&&(Vt=m.relatedTarget||m.fromElement)&&(Gt(Vt)||Vt[Bt]))break e;if((yt||pt)&&(pt=vt.window===vt?vt:(pt=vt.ownerDocument)?pt.defaultView||pt.parentWindow:window,yt?(Vt=m.relatedTarget||m.toElement,yt=dt,Vt=Vt?Gt(Vt):null,Vt!==null&&(cr=o(Vt),on=Vt.tag,Vt!==cr||on!==5&&on!==27&&on!==6)&&(Vt=null)):(yt=null,Vt=dt),yt!==Vt)){if(on=nr,bt="onMouseLeave",it="onMouseEnter",Qe="mouse",(u==="pointerout"||u==="pointerover")&&(on=zm,bt="onPointerLeave",it="onPointerEnter",Qe="pointer"),cr=yt==null?pt:sr(yt),ft=Vt==null?pt:sr(Vt),pt=new on(bt,Qe+"leave",yt,m,vt),pt.target=cr,pt.relatedTarget=ft,bt=null,Gt(vt)===dt&&(on=new on(it,Qe+"enter",Vt,m,vt),on.target=ft,on.relatedTarget=cr,bt=on),cr=bt,yt&&Vt)t:{for(on=mK,it=yt,Qe=Vt,ft=0,bt=it;bt;bt=on(bt))ft++;bt=0;for(var Xt=Qe;Xt;Xt=on(Xt))bt++;for(;0<ft-bt;)it=on(it),ft--;for(;0<bt-ft;)Qe=on(Qe),bt--;for(;ft--;){if(it===Qe||Qe!==null&&it===Qe.alternate){on=it;break t}it=on(it),Qe=on(Qe)}on=null}else on=null;yt!==null&&AL(Et,pt,yt,on,!1),Vt!==null&&cr!==null&&AL(Et,cr,Vt,on,!0)}}e:{if(pt=dt?sr(dt):window,yt=pt.nodeName&&pt.nodeName.toLowerCase(),yt==="select"||yt==="input"&&pt.type==="file")var zn=Ll;else if(ra(pt))if(Wm)zn=b0;else{zn=w0;var Wt=Ra}else yt=pt.nodeName,!yt||yt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?dt&&$t(dt.elementType)&&(zn=Ll):zn=Cu;if(zn&&(zn=zn(u,dt))){Gm(Et,zn,m,vt);break e}Wt&&Wt(u,pt,dt),u==="focusout"&&dt&&pt.type==="number"&&dt.memoizedProps.value!=null&&ct(pt,"number",pt.value)}switch(Wt=dt?sr(dt):window,u){case"focusin":(ra(Wt)||Wt.contentEditable==="true")&&(ts=Wt,nf=dt,Dl=null);break;case"focusout":Dl=nf=ts=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,Jm(Et,m,vt);break;case"selectionchange":if(tf)break;case"keydown":case"keyup":Jm(Et,m,vt)}var yn;if(Zc)e:{switch(u){case"compositionstart":var kn="onCompositionStart";break e;case"compositionend":kn="onCompositionEnd";break e;case"compositionupdate":kn="onCompositionUpdate";break e}kn=void 0}else Su?Km(u,m)&&(kn="onCompositionEnd"):u==="keydown"&&m.keyCode===229&&(kn="onCompositionStart");kn&&(Qc&&m.locale!=="ko"&&(Su||kn!=="onCompositionStart"?kn==="onCompositionEnd"&&Su&&(yn=uo()):(li=vt,Zi="value"in li?li.value:li.textContent,Su=!0)),Wt=Fg(dt,kn),0<Wt.length&&(kn=new Vd(kn,u,null,m,vt),Et.push({event:kn,listeners:Wt}),yn?kn.data=yn:(yn=Zd(m),yn!==null&&(kn.data=yn)))),(yn=v0?Lo(u,m):xu(u,m))&&(kn=Fg(dt,"onBeforeInput"),0<kn.length&&(Wt=new Vd("onBeforeInput","beforeinput",null,m,vt),Et.push({event:Wt,listeners:kn}),Wt.data=yn)),fK(Et,u,dt,m,vt)}CL(Et,c)})}function Eh(u,c,m){return{instance:u,listener:c,currentTarget:m}}function Fg(u,c){for(var m=c+"Capture",S=[];u!==null;){var D=u,F=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||F===null||(D=er(u,m),D!=null&&S.unshift(Eh(u,D,F)),D=er(u,c),D!=null&&S.push(Eh(u,D,F))),u.tag===3)return S;u=u.return}return[]}function mK(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function AL(u,c,m,S,D){for(var F=c._reactName,le=[];m!==null&&m!==S;){var be=m,We=be.alternate,dt=be.stateNode;if(be=be.tag,We!==null&&We===S)break;be!==5&&be!==26&&be!==27||dt===null||(We=dt,D?(dt=er(m,F),dt!=null&&le.unshift(Eh(m,dt,We))):D||(dt=er(m,F),dt!=null&&le.push(Eh(m,dt,We)))),m=m.return}le.length!==0&&u.push({event:c,listeners:le})}var gK=/\r\n?/g,yK=/\u0000|\uFFFD/g;function RL(u){return(typeof u=="string"?u:""+u).replace(gK,`
`).replace(yK,"")}function PL(u,c){return c=RL(c),RL(u)===c}function lr(u,c,m,S,D,F){switch(m){case"children":typeof S=="string"?c==="body"||c==="textarea"&&S===""||Fe(u,S):(typeof S=="number"||typeof S=="bigint")&&c!=="body"&&Fe(u,""+S);break;case"className":N(u,"class",S);break;case"tabIndex":N(u,"tabindex",S);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,m,S);break;case"style":gt(u,S,F);break;case"data":if(c!=="object"){N(u,"data",S);break}case"src":case"href":if(S===""&&(c!=="a"||m!=="href")){u.removeAttribute(m);break}if(S==null||typeof S=="function"||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(m);break}S=Ft(""+S),u.setAttribute(m,S);break;case"action":case"formAction":if(typeof S=="function"){u.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(m==="formAction"?(c!=="input"&&lr(u,c,"name",D.name,D,null),lr(u,c,"formEncType",D.formEncType,D,null),lr(u,c,"formMethod",D.formMethod,D,null),lr(u,c,"formTarget",D.formTarget,D,null)):(lr(u,c,"encType",D.encType,D,null),lr(u,c,"method",D.method,D,null),lr(u,c,"target",D.target,D,null)));if(S==null||typeof S=="symbol"||typeof S=="boolean"){u.removeAttribute(m);break}S=Ft(""+S),u.setAttribute(m,S);break;case"onClick":S!=null&&(u.onclick=Ht);break;case"onScroll":S!=null&&On("scroll",u);break;case"onScrollEnd":S!=null&&On("scrollend",u);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(m=S.__html,m!=null){if(D.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"multiple":u.multiple=S&&typeof S!="function"&&typeof S!="symbol";break;case"muted":u.muted=S&&typeof S!="function"&&typeof S!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(S==null||typeof S=="function"||typeof S=="boolean"||typeof S=="symbol"){u.removeAttribute("xlink:href");break}m=Ft(""+S),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(m,""+S):u.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":S&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(m,""):u.removeAttribute(m);break;case"capture":case"download":S===!0?u.setAttribute(m,""):S!==!1&&S!=null&&typeof S!="function"&&typeof S!="symbol"?u.setAttribute(m,S):u.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":S!=null&&typeof S!="function"&&typeof S!="symbol"&&!isNaN(S)&&1<=S?u.setAttribute(m,S):u.removeAttribute(m);break;case"rowSpan":case"start":S==null||typeof S=="function"||typeof S=="symbol"||isNaN(S)?u.removeAttribute(m):u.setAttribute(m,S);break;case"popover":On("beforetoggle",u),On("toggle",u),O(u,"popover",S);break;case"xlinkActuate":Z(u,"http://www.w3.org/1999/xlink","xlink:actuate",S);break;case"xlinkArcrole":Z(u,"http://www.w3.org/1999/xlink","xlink:arcrole",S);break;case"xlinkRole":Z(u,"http://www.w3.org/1999/xlink","xlink:role",S);break;case"xlinkShow":Z(u,"http://www.w3.org/1999/xlink","xlink:show",S);break;case"xlinkTitle":Z(u,"http://www.w3.org/1999/xlink","xlink:title",S);break;case"xlinkType":Z(u,"http://www.w3.org/1999/xlink","xlink:type",S);break;case"xmlBase":Z(u,"http://www.w3.org/XML/1998/namespace","xml:base",S);break;case"xmlLang":Z(u,"http://www.w3.org/XML/1998/namespace","xml:lang",S);break;case"xmlSpace":Z(u,"http://www.w3.org/XML/1998/namespace","xml:space",S);break;case"is":O(u,"is",S);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Tt.get(m)||m,O(u,m,S))}}function Fb(u,c,m,S,D,F){switch(m){case"style":gt(u,S,F);break;case"dangerouslySetInnerHTML":if(S!=null){if(typeof S!="object"||!("__html"in S))throw Error(r(61));if(m=S.__html,m!=null){if(D.children!=null)throw Error(r(60));u.innerHTML=m}}break;case"children":typeof S=="string"?Fe(u,S):(typeof S=="number"||typeof S=="bigint")&&Fe(u,""+S);break;case"onScroll":S!=null&&On("scroll",u);break;case"onScrollEnd":S!=null&&On("scrollend",u);break;case"onClick":S!=null&&(u.onclick=Ht);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(D=m.endsWith("Capture"),c=m.slice(2,D?m.length-7:void 0),F=u[It]||null,F=F!=null?F[m]:null,typeof F=="function"&&u.removeEventListener(c,F,D),typeof S=="function")){typeof F!="function"&&F!==null&&(m in u?u[m]=null:u.hasAttribute(m)&&u.removeAttribute(m)),u.addEventListener(c,S,D);break e}m in u?u[m]=S:S===!0?u.setAttribute(m,""):O(u,m,S)}}}function Ai(u,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":On("error",u),On("load",u);var S=!1,D=!1,F;for(F in m)if(m.hasOwnProperty(F)){var le=m[F];if(le!=null)switch(F){case"src":S=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:lr(u,c,F,le,m,null)}}D&&lr(u,c,"srcSet",m.srcSet,m,null),S&&lr(u,c,"src",m.src,m,null);return;case"input":On("invalid",u);var be=F=le=D=null,We=null,dt=null;for(S in m)if(m.hasOwnProperty(S)){var vt=m[S];if(vt!=null)switch(S){case"name":D=vt;break;case"type":le=vt;break;case"checked":We=vt;break;case"defaultChecked":dt=vt;break;case"value":F=vt;break;case"defaultValue":be=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,c));break;default:lr(u,c,S,vt,m,null)}}nt(u,F,be,We,dt,le,D,!1);return;case"select":On("invalid",u),S=le=F=null;for(D in m)if(m.hasOwnProperty(D)&&(be=m[D],be!=null))switch(D){case"value":F=be;break;case"defaultValue":le=be;break;case"multiple":S=be;default:lr(u,c,D,be,m,null)}c=F,m=le,u.multiple=!!S,c!=null?at(u,!!S,c,!1):m!=null&&at(u,!!S,m,!0);return;case"textarea":On("invalid",u),F=D=S=null;for(le in m)if(m.hasOwnProperty(le)&&(be=m[le],be!=null))switch(le){case"value":S=be;break;case"defaultValue":D=be;break;case"children":F=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(91));break;default:lr(u,c,le,be,m,null)}De(u,S,D,F);return;case"option":for(We in m)if(m.hasOwnProperty(We)&&(S=m[We],S!=null))switch(We){case"selected":u.selected=S&&typeof S!="function"&&typeof S!="symbol";break;default:lr(u,c,We,S,m,null)}return;case"dialog":On("beforetoggle",u),On("toggle",u),On("cancel",u),On("close",u);break;case"iframe":case"object":On("load",u);break;case"video":case"audio":for(S=0;S<xh.length;S++)On(xh[S],u);break;case"image":On("error",u),On("load",u);break;case"details":On("toggle",u);break;case"embed":case"source":case"link":On("error",u),On("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dt in m)if(m.hasOwnProperty(dt)&&(S=m[dt],S!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:lr(u,c,dt,S,m,null)}return;default:if($t(c)){for(vt in m)m.hasOwnProperty(vt)&&(S=m[vt],S!==void 0&&Fb(u,c,vt,S,m,void 0));return}}for(be in m)m.hasOwnProperty(be)&&(S=m[be],S!=null&&lr(u,c,be,S,m,null))}function vK(u,c,m,S){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,F=null,le=null,be=null,We=null,dt=null,vt=null;for(yt in m){var Et=m[yt];if(m.hasOwnProperty(yt)&&Et!=null)switch(yt){case"checked":break;case"value":break;case"defaultValue":We=Et;default:S.hasOwnProperty(yt)||lr(u,c,yt,null,S,Et)}}for(var pt in S){var yt=S[pt];if(Et=m[pt],S.hasOwnProperty(pt)&&(yt!=null||Et!=null))switch(pt){case"type":F=yt;break;case"name":D=yt;break;case"checked":dt=yt;break;case"defaultChecked":vt=yt;break;case"value":le=yt;break;case"defaultValue":be=yt;break;case"children":case"dangerouslySetInnerHTML":if(yt!=null)throw Error(r(137,c));break;default:yt!==Et&&lr(u,c,pt,yt,S,Et)}}Ze(u,le,be,We,dt,vt,F,D);return;case"select":yt=le=be=pt=null;for(F in m)if(We=m[F],m.hasOwnProperty(F)&&We!=null)switch(F){case"value":break;case"multiple":yt=We;default:S.hasOwnProperty(F)||lr(u,c,F,null,S,We)}for(D in S)if(F=S[D],We=m[D],S.hasOwnProperty(D)&&(F!=null||We!=null))switch(D){case"value":pt=F;break;case"defaultValue":be=F;break;case"multiple":le=F;default:F!==We&&lr(u,c,D,F,S,We)}c=be,m=le,S=yt,pt!=null?at(u,!!m,pt,!1):!!S!=!!m&&(c!=null?at(u,!!m,c,!0):at(u,!!m,m?[]:"",!1));return;case"textarea":yt=pt=null;for(be in m)if(D=m[be],m.hasOwnProperty(be)&&D!=null&&!S.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:lr(u,c,be,null,S,D)}for(le in S)if(D=S[le],F=m[le],S.hasOwnProperty(le)&&(D!=null||F!=null))switch(le){case"value":pt=D;break;case"defaultValue":yt=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:D!==F&&lr(u,c,le,D,S,F)}_e(u,pt,yt);return;case"option":for(var Vt in m)if(pt=m[Vt],m.hasOwnProperty(Vt)&&pt!=null&&!S.hasOwnProperty(Vt))switch(Vt){case"selected":u.selected=!1;break;default:lr(u,c,Vt,null,S,pt)}for(We in S)if(pt=S[We],yt=m[We],S.hasOwnProperty(We)&&pt!==yt&&(pt!=null||yt!=null))switch(We){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:lr(u,c,We,pt,S,yt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in m)pt=m[on],m.hasOwnProperty(on)&&pt!=null&&!S.hasOwnProperty(on)&&lr(u,c,on,null,S,pt);for(dt in S)if(pt=S[dt],yt=m[dt],S.hasOwnProperty(dt)&&pt!==yt&&(pt!=null||yt!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,c));break;default:lr(u,c,dt,pt,S,yt)}return;default:if($t(c)){for(var cr in m)pt=m[cr],m.hasOwnProperty(cr)&&pt!==void 0&&!S.hasOwnProperty(cr)&&Fb(u,c,cr,void 0,S,pt);for(vt in S)pt=S[vt],yt=m[vt],!S.hasOwnProperty(vt)||pt===yt||pt===void 0&&yt===void 0||Fb(u,c,vt,pt,S,yt);return}}for(var it in m)pt=m[it],m.hasOwnProperty(it)&&pt!=null&&!S.hasOwnProperty(it)&&lr(u,c,it,null,S,pt);for(Et in S)pt=S[Et],yt=m[Et],!S.hasOwnProperty(Et)||pt===yt||pt==null&&yt==null||lr(u,c,Et,pt,S,yt)}function OL(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _K(){if(typeof performance.getEntriesByType=="function"){for(var u=0,c=0,m=performance.getEntriesByType("resource"),S=0;S<m.length;S++){var D=m[S],F=D.transferSize,le=D.initiatorType,be=D.duration;if(F&&be&&OL(le)){for(le=0,be=D.responseEnd,S+=1;S<m.length;S++){var We=m[S],dt=We.startTime;if(dt>be)break;var vt=We.transferSize,Et=We.initiatorType;vt&&OL(Et)&&(We=We.responseEnd,le+=vt*(We<be?1:(be-dt)/(We-dt)))}if(--S,c+=8*(F+le)/(D.duration/1e3),u++,10<u)break}}if(0<u)return c/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var jb=null,Ub=null;function jg(u){return u.nodeType===9?u:u.ownerDocument}function ML(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LL(u,c){if(u===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&c==="foreignObject"?0:u}function Bb(u,c){return u==="textarea"||u==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var $b=null;function wK(){var u=window.event;return u&&u.type==="popstate"?u===$b?!1:($b=u,!0):($b=null,!1)}var IL=typeof setTimeout=="function"?setTimeout:void 0,bK=typeof clearTimeout=="function"?clearTimeout:void 0,kL=typeof Promise=="function"?Promise:void 0,SK=typeof queueMicrotask=="function"?queueMicrotask:typeof kL<"u"?function(u){return kL.resolve(null).then(u).catch(xK)}:IL;function xK(u){setTimeout(function(){throw u})}function Hu(u){return u==="head"}function DL(u,c){var m=c,S=0;do{var D=m.nextSibling;if(u.removeChild(m),D&&D.nodeType===8)if(m=D.data,m==="/$"||m==="/&"){if(S===0){u.removeChild(D),Pf(c);return}S--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")S++;else if(m==="html")Ch(u.ownerDocument.documentElement);else if(m==="head"){m=u.ownerDocument.head,Ch(m);for(var F=m.firstChild;F;){var le=F.nextSibling,be=F.nodeName;F[cn]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&F.rel.toLowerCase()==="stylesheet"||m.removeChild(F),F=le}}else m==="body"&&Ch(u.ownerDocument.body);m=D}while(m);Pf(c)}function NL(u,c){var m=u;u=0;do{var S=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(u===0)break;u--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||u++;m=S}while(m)}function zb(u){var c=u.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":zb(m),An(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}u.removeChild(m)}}function EK(u,c,m,S){for(;u.nodeType===1;){var D=m;if(u.nodeName.toLowerCase()!==c.toLowerCase()){if(!S&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(S){if(!u[cn])switch(c){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(F=u.getAttribute("rel"),F==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(F!==D.rel||u.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||u.getAttribute("title")!==(D.title==null?null:D.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(F=u.getAttribute("src"),(F!==(D.src==null?null:D.src)||u.getAttribute("type")!==(D.type==null?null:D.type)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&F&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(c==="input"&&u.type==="hidden"){var F=D.name==null?null:""+D.name;if(D.type==="hidden"&&u.getAttribute("name")===F)return u}else return u;if(u=la(u.nextSibling),u===null)break}return null}function CK(u,c,m){if(c==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!m||(u=la(u.nextSibling),u===null))return null;return u}function FL(u,c){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!c||(u=la(u.nextSibling),u===null))return null;return u}function qb(u){return u.data==="$?"||u.data==="$~"}function Hb(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function TK(u,c){var m=u.ownerDocument;if(u.data==="$~")u._reactRetry=c;else if(u.data!=="$?"||m.readyState!=="loading")c();else{var S=function(){c(),m.removeEventListener("DOMContentLoaded",S)};m.addEventListener("DOMContentLoaded",S),u._reactRetry=S}}function la(u){for(;u!=null;u=u.nextSibling){var c=u.nodeType;if(c===1||c===3)break;if(c===8){if(c=u.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return u}var Vb=null;function jL(u){u=u.nextSibling;for(var c=0;u;){if(u.nodeType===8){var m=u.data;if(m==="/$"||m==="/&"){if(c===0)return la(u.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}u=u.nextSibling}return null}function UL(u){u=u.previousSibling;for(var c=0;u;){if(u.nodeType===8){var m=u.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return u;c--}else m!=="/$"&&m!=="/&"||c++}u=u.previousSibling}return null}function BL(u,c,m){switch(c=jg(m),u){case"html":if(u=c.documentElement,!u)throw Error(r(452));return u;case"head":if(u=c.head,!u)throw Error(r(453));return u;case"body":if(u=c.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Ch(u){for(var c=u.attributes;c.length;)u.removeAttributeNode(c[0]);An(u)}var ca=new Map,$L=new Set;function Ug(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Ks=pe.d;pe.d={f:AK,r:RK,D:PK,C:OK,L:MK,m:LK,X:kK,S:IK,M:DK};function AK(){var u=Ks.f(),c=Og();return u||c}function RK(u){var c=pn(u);c!==null&&c.tag===5&&c.type==="form"?iM(c):Ks.r(u)}var Tf=typeof document>"u"?null:document;function zL(u,c,m){var S=Tf;if(S&&typeof c=="string"&&c){var D=je(c);D='link[rel="'+u+'"][href="'+D+'"]',typeof m=="string"&&(D+='[crossorigin="'+m+'"]'),$L.has(D)||($L.add(D),u={rel:u,crossOrigin:m,href:c},S.querySelector(D)===null&&(c=S.createElement("link"),Ai(c,"link",u),Ln(c),S.head.appendChild(c)))}}function PK(u){Ks.D(u),zL("dns-prefetch",u,null)}function OK(u,c){Ks.C(u,c),zL("preconnect",u,c)}function MK(u,c,m){Ks.L(u,c,m);var S=Tf;if(S&&u&&c){var D='link[rel="preload"][as="'+je(c)+'"]';c==="image"&&m&&m.imageSrcSet?(D+='[imagesrcset="'+je(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(D+='[imagesizes="'+je(m.imageSizes)+'"]')):D+='[href="'+je(u)+'"]';var F=D;switch(c){case"style":F=Af(u);break;case"script":F=Rf(u)}ca.has(F)||(u=p({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:u,as:c},m),ca.set(F,u),S.querySelector(D)!==null||c==="style"&&S.querySelector(Th(F))||c==="script"&&S.querySelector(Ah(F))||(c=S.createElement("link"),Ai(c,"link",u),Ln(c),S.head.appendChild(c)))}}function LK(u,c){Ks.m(u,c);var m=Tf;if(m&&u){var S=c&&typeof c.as=="string"?c.as:"script",D='link[rel="modulepreload"][as="'+je(S)+'"][href="'+je(u)+'"]',F=D;switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Rf(u)}if(!ca.has(F)&&(u=p({rel:"modulepreload",href:u},c),ca.set(F,u),m.querySelector(D)===null)){switch(S){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Ah(F)))return}S=m.createElement("link"),Ai(S,"link",u),Ln(S),m.head.appendChild(S)}}}function IK(u,c,m){Ks.S(u,c,m);var S=Tf;if(S&&u){var D=Qr(S).hoistableStyles,F=Af(u);c=c||"default";var le=D.get(F);if(!le){var be={loading:0,preload:null};if(le=S.querySelector(Th(F)))be.loading=5;else{u=p({rel:"stylesheet",href:u,"data-precedence":c},m),(m=ca.get(F))&&Kb(u,m);var We=le=S.createElement("link");Ln(We),Ai(We,"link",u),We._p=new Promise(function(dt,vt){We.onload=dt,We.onerror=vt}),We.addEventListener("load",function(){be.loading|=1}),We.addEventListener("error",function(){be.loading|=2}),be.loading|=4,Bg(le,c,S)}le={type:"stylesheet",instance:le,count:1,state:be},D.set(F,le)}}}function kK(u,c){Ks.X(u,c);var m=Tf;if(m&&u){var S=Qr(m).hoistableScripts,D=Rf(u),F=S.get(D);F||(F=m.querySelector(Ah(D)),F||(u=p({src:u,async:!0},c),(c=ca.get(D))&&Gb(u,c),F=m.createElement("script"),Ln(F),Ai(F,"link",u),m.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},S.set(D,F))}}function DK(u,c){Ks.M(u,c);var m=Tf;if(m&&u){var S=Qr(m).hoistableScripts,D=Rf(u),F=S.get(D);F||(F=m.querySelector(Ah(D)),F||(u=p({src:u,async:!0,type:"module"},c),(c=ca.get(D))&&Gb(u,c),F=m.createElement("script"),Ln(F),Ai(F,"link",u),m.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},S.set(D,F))}}function qL(u,c,m,S){var D=(D=xe.current)?Ug(D):null;if(!D)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Af(m.href),m=Qr(D).hoistableStyles,S=m.get(c),S||(S={type:"style",instance:null,count:0,state:null},m.set(c,S)),S):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){u=Af(m.href);var F=Qr(D).hoistableStyles,le=F.get(u);if(le||(D=D.ownerDocument||D,le={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(u,le),(F=D.querySelector(Th(u)))&&!F._p&&(le.instance=F,le.state.loading=5),ca.has(u)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ca.set(u,m),F||NK(D,u,m,le.state))),c&&S===null)throw Error(r(528,""));return le}if(c&&S!==null)throw Error(r(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=Rf(m),m=Qr(D).hoistableScripts,S=m.get(c),S||(S={type:"script",instance:null,count:0,state:null},m.set(c,S)),S):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Af(u){return'href="'+je(u)+'"'}function Th(u){return'link[rel="stylesheet"]['+u+"]"}function HL(u){return p({},u,{"data-precedence":u.precedence,precedence:null})}function NK(u,c,m,S){u.querySelector('link[rel="preload"][as="style"]['+c+"]")?S.loading=1:(c=u.createElement("link"),S.preload=c,c.addEventListener("load",function(){return S.loading|=1}),c.addEventListener("error",function(){return S.loading|=2}),Ai(c,"link",m),Ln(c),u.head.appendChild(c))}function Rf(u){return'[src="'+je(u)+'"]'}function Ah(u){return"script[async]"+u}function VL(u,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var S=u.querySelector('style[data-href~="'+je(m.href)+'"]');if(S)return c.instance=S,Ln(S),S;var D=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return S=(u.ownerDocument||u).createElement("style"),Ln(S),Ai(S,"style",D),Bg(S,m.precedence,u),c.instance=S;case"stylesheet":D=Af(m.href);var F=u.querySelector(Th(D));if(F)return c.state.loading|=4,c.instance=F,Ln(F),F;S=HL(m),(D=ca.get(D))&&Kb(S,D),F=(u.ownerDocument||u).createElement("link"),Ln(F);var le=F;return le._p=new Promise(function(be,We){le.onload=be,le.onerror=We}),Ai(F,"link",S),c.state.loading|=4,Bg(F,m.precedence,u),c.instance=F;case"script":return F=Rf(m.src),(D=u.querySelector(Ah(F)))?(c.instance=D,Ln(D),D):(S=m,(D=ca.get(F))&&(S=p({},m),Gb(S,D)),u=u.ownerDocument||u,D=u.createElement("script"),Ln(D),Ai(D,"link",S),u.head.appendChild(D),c.instance=D);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(S=c.instance,c.state.loading|=4,Bg(S,m.precedence,u));return c.instance}function Bg(u,c,m){for(var S=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=S.length?S[S.length-1]:null,F=D,le=0;le<S.length;le++){var be=S[le];if(be.dataset.precedence===c)F=be;else if(F!==D)break}F?F.parentNode.insertBefore(u,F.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(u,c.firstChild))}function Kb(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.title==null&&(u.title=c.title)}function Gb(u,c){u.crossOrigin==null&&(u.crossOrigin=c.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=c.referrerPolicy),u.integrity==null&&(u.integrity=c.integrity)}var $g=null;function KL(u,c,m){if($g===null){var S=new Map,D=$g=new Map;D.set(m,S)}else D=$g,S=D.get(m),S||(S=new Map,D.set(m,S));if(S.has(u))return S;for(S.set(u,null),m=m.getElementsByTagName(u),D=0;D<m.length;D++){var F=m[D];if(!(F[cn]||F[Lt]||u==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var le=F.getAttribute(c)||"";le=u+le;var be=S.get(le);be?be.push(F):S.set(le,[F])}}return S}function GL(u,c,m){u=u.ownerDocument||u,u.head.insertBefore(m,c==="title"?u.querySelector("head > title"):null)}function FK(u,c,m){if(m===1||c.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return u=c.disabled,typeof c.precedence=="string"&&u==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function WL(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function jK(u,c,m,S){if(m.type==="stylesheet"&&(typeof S.media!="string"||matchMedia(S.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var D=Af(S.href),F=c.querySelector(Th(D));if(F){c=F._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(u.count++,u=zg.bind(u),c.then(u,u)),m.state.loading|=4,m.instance=F,Ln(F);return}F=c.ownerDocument||c,S=HL(S),(D=ca.get(D))&&Kb(S,D),F=F.createElement("link"),Ln(F);var le=F;le._p=new Promise(function(be,We){le.onload=be,le.onerror=We}),Ai(F,"link",S),m.instance=F}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(u.count++,m=zg.bind(u),c.addEventListener("load",m),c.addEventListener("error",m))}}var Wb=0;function UK(u,c){return u.stylesheets&&u.count===0&&Hg(u,u.stylesheets),0<u.count||0<u.imgCount?function(m){var S=setTimeout(function(){if(u.stylesheets&&Hg(u,u.stylesheets),u.unsuspend){var F=u.unsuspend;u.unsuspend=null,F()}},6e4+c);0<u.imgBytes&&Wb===0&&(Wb=62500*_K());var D=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Hg(u,u.stylesheets),u.unsuspend)){var F=u.unsuspend;u.unsuspend=null,F()}},(u.imgBytes>Wb?50:800)+c);return u.unsuspend=m,function(){u.unsuspend=null,clearTimeout(S),clearTimeout(D)}}:null}function zg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hg(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var qg=null;function Hg(u,c){u.stylesheets=null,u.unsuspend!==null&&(u.count++,qg=new Map,c.forEach(BK,u),qg=null,zg.call(u))}function BK(u,c){if(!(c.state.loading&4)){var m=qg.get(u);if(m)var S=m.get(null);else{m=new Map,qg.set(u,m);for(var D=u.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<D.length;F++){var le=D[F];(le.nodeName==="LINK"||le.getAttribute("media")!=="not all")&&(m.set(le.dataset.precedence,le),S=le)}S&&m.set(null,S)}D=c.instance,le=D.getAttribute("data-precedence"),F=m.get(le)||S,F===S&&m.set(null,D),m.set(le,D),this.count++,S=zg.bind(this),D.addEventListener("load",S),D.addEventListener("error",S),F?F.parentNode.insertBefore(D,F.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(D,u.firstChild)),c.state.loading|=4}}var Rh={$$typeof:C,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function $K(u,c,m,S,D,F,le,be,We){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ue(0),this.hiddenUpdates=Ue(null),this.identifierPrefix=S,this.onUncaughtError=D,this.onCaughtError=F,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=We,this.incompleteTransitions=new Map}function ZL(u,c,m,S,D,F,le,be,We,dt,vt,Et){return u=new $K(u,c,m,le,We,dt,vt,Et,be),c=1,F===!0&&(c|=24),F=zi(3,null,null,c),u.current=F,F.stateNode=u,c=A0(),c.refCount++,u.pooledCache=c,c.refCount++,F.memoizedState={element:S,isDehydrated:m,cache:c},M0(F),u}function QL(u){return u?(u=Ls,u):Ls}function JL(u,c,m,S,D,F){D=QL(D),S.context===null?S.context=D:S.pendingContext=D,S=Iu(c),S.payload={element:m},F=F===void 0?null:F,F!==null&&(S.callback=F),m=ku(u,S,c),m!==null&&(wo(m,u,c),ah(m,u,c))}function YL(u,c){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var m=u.retryLane;u.retryLane=m!==0&&m<c?m:c}}function Zb(u,c){YL(u,c),(u=u.alternate)&&YL(u,c)}function XL(u){if(u.tag===13||u.tag===31){var c=aa(u,67108864);c!==null&&wo(c,u,67108864),Zb(u,67108864)}}function eI(u){if(u.tag===13||u.tag===31){var c=Fo();c=ut(c);var m=aa(u,c);m!==null&&wo(m,u,c),Zb(u,c)}}var Vg=!0;function zK(u,c,m,S){var D=se.T;se.T=null;var F=pe.p;try{pe.p=2,Qb(u,c,m,S)}finally{pe.p=F,se.T=D}}function qK(u,c,m,S){var D=se.T;se.T=null;var F=pe.p;try{pe.p=8,Qb(u,c,m,S)}finally{pe.p=F,se.T=D}}function Qb(u,c,m,S){if(Vg){var D=Jb(S);if(D===null)Nb(u,c,S,Kg,m),nI(u,S);else if(VK(D,u,c,m,S))S.stopPropagation();else if(nI(u,S),c&4&&-1<HK.indexOf(u)){for(;D!==null;){var F=pn(D);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var le=un(F.pendingLanes);if(le!==0){var be=F;for(be.pendingLanes|=2,be.entangledLanes|=2;le;){var We=1<<31-zt(le);be.entanglements[1]|=We,le&=~We}ls(F),(Kn&6)===0&&(Rg=mt()+500,Sh(0))}}break;case 31:case 13:be=aa(F,2),be!==null&&wo(be,F,2),Og(),Zb(F,2)}if(F=Jb(S),F===null&&Nb(u,c,S,Kg,m),F===D)break;D=F}D!==null&&S.stopPropagation()}else Nb(u,c,S,null,m)}}function Jb(u){return u=Un(u),Yb(u)}var Kg=null;function Yb(u){if(Kg=null,u=Gt(u),u!==null){var c=o(u);if(c===null)u=null;else{var m=c.tag;if(m===13){if(u=a(c),u!==null)return u;u=null}else if(m===31){if(u=s(c),u!==null)return u;u=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;u=null}else c!==u&&(u=null)}}return Kg=u,null}function tI(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case qe:return 2;case ae:return 8;case K:case Y:return 32;case J:return 268435456;default:return 32}default:return 32}}var Xb=!1,Vu=null,Ku=null,Gu=null,Ph=new Map,Oh=new Map,Wu=[],HK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nI(u,c){switch(u){case"focusin":case"focusout":Vu=null;break;case"dragenter":case"dragleave":Ku=null;break;case"mouseover":case"mouseout":Gu=null;break;case"pointerover":case"pointerout":Ph.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oh.delete(c.pointerId)}}function Mh(u,c,m,S,D,F){return u===null||u.nativeEvent!==F?(u={blockedOn:c,domEventName:m,eventSystemFlags:S,nativeEvent:F,targetContainers:[D]},c!==null&&(c=pn(c),c!==null&&XL(c)),u):(u.eventSystemFlags|=S,c=u.targetContainers,D!==null&&c.indexOf(D)===-1&&c.push(D),u)}function VK(u,c,m,S,D){switch(c){case"focusin":return Vu=Mh(Vu,u,c,m,S,D),!0;case"dragenter":return Ku=Mh(Ku,u,c,m,S,D),!0;case"mouseover":return Gu=Mh(Gu,u,c,m,S,D),!0;case"pointerover":var F=D.pointerId;return Ph.set(F,Mh(Ph.get(F)||null,u,c,m,S,D)),!0;case"gotpointercapture":return F=D.pointerId,Oh.set(F,Mh(Oh.get(F)||null,u,c,m,S,D)),!0}return!1}function rI(u){var c=Gt(u.target);if(c!==null){var m=o(c);if(m!==null){if(c=m.tag,c===13){if(c=a(m),c!==null){u.blockedOn=c,qt(u.priority,function(){eI(m)});return}}else if(c===31){if(c=s(m),c!==null){u.blockedOn=c,qt(u.priority,function(){eI(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){u.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gg(u){if(u.blockedOn!==null)return!1;for(var c=u.targetContainers;0<c.length;){var m=Jb(u.nativeEvent);if(m===null){m=u.nativeEvent;var S=new m.constructor(m.type,m);jn=S,m.target.dispatchEvent(S),jn=null}else return c=pn(m),c!==null&&XL(c),u.blockedOn=m,!1;c.shift()}return!0}function iI(u,c,m){Gg(u)&&m.delete(c)}function KK(){Xb=!1,Vu!==null&&Gg(Vu)&&(Vu=null),Ku!==null&&Gg(Ku)&&(Ku=null),Gu!==null&&Gg(Gu)&&(Gu=null),Ph.forEach(iI),Oh.forEach(iI)}function Wg(u,c){u.blockedOn===c&&(u.blockedOn=null,Xb||(Xb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,KK)))}var Zg=null;function oI(u){Zg!==u&&(Zg=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Zg===u&&(Zg=null);for(var c=0;c<u.length;c+=3){var m=u[c],S=u[c+1],D=u[c+2];if(typeof S!="function"){if(Yb(S||m)===null)continue;break}var F=pn(m);F!==null&&(u.splice(c,3),c-=3,J0(F,{pending:!0,data:D,method:m.method,action:S},S,D))}}))}function Pf(u){function c(We){return Wg(We,u)}Vu!==null&&Wg(Vu,u),Ku!==null&&Wg(Ku,u),Gu!==null&&Wg(Gu,u),Ph.forEach(c),Oh.forEach(c);for(var m=0;m<Wu.length;m++){var S=Wu[m];S.blockedOn===u&&(S.blockedOn=null)}for(;0<Wu.length&&(m=Wu[0],m.blockedOn===null);)rI(m),m.blockedOn===null&&Wu.shift();if(m=(u.ownerDocument||u).$$reactFormReplay,m!=null)for(S=0;S<m.length;S+=3){var D=m[S],F=m[S+1],le=D[It]||null;if(typeof F=="function")le||oI(m);else if(le){var be=null;if(F&&F.hasAttribute("formAction")){if(D=F,le=F[It]||null)be=le.formAction;else if(Yb(D)!==null)continue}else be=le.action;typeof be=="function"?m[S+1]=be:(m.splice(S,3),S-=3),oI(m)}}}function aI(){function u(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(le){return D=le})},focusReset:"manual",scroll:"manual"})}function c(){D!==null&&(D(),D=null),S||setTimeout(m,20)}function m(){if(!S&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var S=!1,D=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){S=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),D!==null&&(D(),D=null)}}}function e1(u){this._internalRoot=u}Qg.prototype.render=e1.prototype.render=function(u){var c=this._internalRoot;if(c===null)throw Error(r(409));var m=c.current,S=Fo();JL(m,S,u,c,null,null)},Qg.prototype.unmount=e1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var c=u.containerInfo;JL(u.current,2,null,u,null,null),Og(),c[Bt]=null}};function Qg(u){this._internalRoot=u}Qg.prototype.unstable_scheduleHydration=function(u){if(u){var c=Ot();u={blockedOn:null,target:u,priority:c};for(var m=0;m<Wu.length&&c!==0&&c<Wu[m].priority;m++);Wu.splice(m,0,u),m===0&&rI(u)}};var sI=t.version;if(sI!=="19.2.0")throw Error(r(527,sI,"19.2.0"));pe.findDOMNode=function(u){var c=u._reactInternals;if(c===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=f(c),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var GK={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jg.isDisabled&&Jg.supportsFiber)try{Ke=Jg.inject(GK),Pt=Jg}catch{}}return Ih.createRoot=function(u,c){if(!i(u))throw Error(r(299));var m=!1,S="",D=pM,F=mM,le=gM;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onUncaughtError!==void 0&&(D=c.onUncaughtError),c.onCaughtError!==void 0&&(F=c.onCaughtError),c.onRecoverableError!==void 0&&(le=c.onRecoverableError)),c=ZL(u,1,!1,null,null,m,S,null,D,F,le,aI),u[Bt]=c.current,Db(u),new e1(c)},Ih.hydrateRoot=function(u,c,m){if(!i(u))throw Error(r(299));var S=!1,D="",F=pM,le=mM,be=gM,We=null;return m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(D=m.identifierPrefix),m.onUncaughtError!==void 0&&(F=m.onUncaughtError),m.onCaughtError!==void 0&&(le=m.onCaughtError),m.onRecoverableError!==void 0&&(be=m.onRecoverableError),m.formState!==void 0&&(We=m.formState)),c=ZL(u,1,!0,c,m??null,S,D,We,F,le,be,aI),c.context=QL(null),m=c.current,S=Fo(),S=ut(S),D=Iu(S),D.callback=null,ku(m,D,S),m=S,c.current.lanes=m,Ct(c,m),ls(c),u[Bt]=c.current,Db(u),new Qg(c)},Ih.version="19.2.0",Ih}var RI;function MG(){if(RI)return r1.exports;RI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),r1.exports=OG(),r1.exports}var LG=MG(),s1={exports:{}},u1={};var PI;function IG(){if(PI)return u1;PI=1;var e=Sd();function t(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,s=e.useDebugValue;return u1.useSyncExternalStoreWithSelector=function(l,f,d,p,g){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function E(R){if(!v){if(v=!0,w=R,R=p(R),g!==void 0&&b.hasValue){var k=b.value;if(g(k,R))return C=k}return C=R}if(k=C,n(w,R))return k;var M=p(R);return g!==void 0&&g(k,M)?(w=R,k):(w=R,C=M)}var v=!1,w,C,P=d===void 0?null:d;return[function(){return E(f())},P===null?void 0:function(){return E(P())}]},[f,d,p,g]);var x=r(l,y[0],y[1]);return o(function(){b.hasValue=!0,b.value=x},[x]),s(x),x},u1}var OI;function kG(){return OI||(OI=1,s1.exports=IG()),s1.exports}var DG=kG();function NG(e){e()}function FG(){let e=null,t=null;return{clear(){e=null,t=null},notify(){NG(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var MI={notify(){},get:()=>[]};function jG(e,t){let n,r=MI,i=0,o=!1;function a(x){d();const E=r.subscribe(x);let v=!1;return()=>{v||(v=!0,E(),p())}}function s(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function f(){return o}function d(){i++,n||(n=e.subscribe(l),r=FG())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=MI)}function g(){o||(o=!0,d())}function y(){o&&(o=!1,p())}const b={addNestedSub:a,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:f,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>r};return b}var UG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BG=UG(),$G=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zG=$G(),qG=()=>BG||zG?B.useLayoutEffect:B.useEffect,HG=qG(),VG=Symbol.for("react-redux-context"),KG=typeof globalThis<"u"?globalThis:{};function GG(){if(!B.createContext)return{};const e=KG[VG]??=new Map;let t=e.get(B.createContext);return t||(t=B.createContext(null),e.set(B.createContext,t)),t}var hl=GG();function WG(e){const{children:t,context:n,serverState:r,store:i}=e,o=B.useMemo(()=>{const l=jG(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=B.useMemo(()=>i.getState(),[i]);HG(()=>{const{subscription:l}=o;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[o,a]);const s=n||hl;return B.createElement(s.Provider,{value:o},t)}var ZG=WG;function IA(e=hl){return function(){return B.useContext(e)}}var _U=IA();function wU(e=hl){const t=e===hl?_U:IA(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var QG=wU();function JG(e=hl){const t=e===hl?QG:wU(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var YG=JG(),XG=(e,t)=>e===t;function eW(e=hl){const t=e===hl?_U:IA(e),n=(r,i={})=>{const{equalityFn:o=XG}=typeof i=="function"?{equalityFn:i}:i,a=t(),{store:s,subscription:l,getServerState:f}=a;B.useRef(!0);const d=B.useCallback({[r.name](g){return r(g)}}[r.name],[r]),p=DG.useSyncExternalStoreWithSelector(l.addNestedSub,s.getState,f||s.getState,d,o);return B.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var tW=eW();var bU=e=>{throw TypeError(e)},nW=(e,t,n)=>t.has(e)||bU("Cannot "+n),l1=(e,t,n)=>(nW(e,t,"read from private field"),n?n.call(e):t.get(e)),rW=(e,t,n)=>t.has(e)?bU("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),LI="popstate";function iW(e={}){function t(r,i){let{pathname:o,search:a,hash:s}=r.location;return Np("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Es(i)}return aW(t,n,null,e)}function Cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oW(){return Math.random().toString(36).substring(2,10)}function II(e,t){return{usr:e.state,key:e.key,idx:t}}function Np(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?wl(t):t,state:n,key:t&&t.key||r||oW()}}function Es({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function wl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function aW(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,f=d();f==null&&(f=0,a.replaceState({...a.state,idx:f},""));function d(){return(a.state||{idx:null}).idx}function p(){s="POP";let E=d(),v=E==null?null:E-f;f=E,l&&l({action:s,location:x.location,delta:v})}function g(E,v){s="PUSH";let w=Np(x.location,E,v);f=d()+1;let C=II(w,f),P=x.createHref(w);try{a.pushState(C,"",P)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(P)}o&&l&&l({action:s,location:x.location,delta:1})}function y(E,v){s="REPLACE";let w=Np(x.location,E,v);f=d();let C=II(w,f),P=x.createHref(w);a.replaceState(C,"",P),o&&l&&l({action:s,location:x.location,delta:0})}function b(E){return SU(E)}let x={get action(){return s},get location(){return e(i,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LI,p),l=E,()=>{i.removeEventListener(LI,p),l=null}},createHref(E){return t(i,E)},createURL:b,encodeLocation(E){let v=b(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:g,replace:y,go(E){return a.go(E)}};return x}function SU(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Es(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var lp,kI=class{constructor(e){if(rW(this,lp,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(l1(this,lp).has(e))return l1(this,lp).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){l1(this,lp).set(e,t)}};lp=new WeakMap;var sW=new Set(["lazy","caseSensitive","path","id","index","children"]);function uW(e){return sW.has(e)}var lW=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function cW(e){return lW.has(e)}function fW(e){return e.index===!0}function Fp(e,t,n=[],r={},i=!1){return e.map((o,a)=>{let s=[...n,String(a)],l=typeof o.id=="string"?o.id:s.join("-");if(Cn(o.index!==!0||!o.children,"Cannot specify children on an index route"),Cn(i||!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),fW(o)){let f={...o,id:l};return r[l]=DI(f,t(f)),f}else{let f={...o,id:l,children:void 0};return r[l]=DI(f,t(f)),o.children&&(f.children=Fp(o.children,t,s,r,i)),f}})}function DI(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function il(e,t,n="/"){return cp(e,t,n,!1)}function cp(e,t,n,r){let i=typeof t=="string"?wl(t):t,o=va(i.pathname||"/",n);if(o==null)return null;let a=xU(e);hW(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let f=EW(o);s=SW(a[l],f,r)}return s}function dW(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function xU(e,t=[],n=[],r="",i=!1){let o=(a,s,l=i,f)=>{let d={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;Cn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let p=bs([r,d.relativePath]),g=n.concat(d);a.children&&a.children.length>0&&(Cn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),xU(a.children,t,g,p,l)),!(a.path==null&&!a.index)&&t.push({path:p,score:wW(p,a.index),routesMeta:g})};return e.forEach((a,s)=>{if(a.path===""||!a.path?.includes("?"))o(a,s);else for(let l of EU(a.path))o(a,s,!0,l)}),t}function EU(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=EU(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function hW(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:bW(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var pW=/^:[\w-]+$/,mW=3,gW=2,yW=1,vW=10,_W=-2,NI=e=>e==="*";function wW(e,t){let n=e.split("/"),r=n.length;return n.some(NI)&&(r+=_W),t&&(r+=gW),n.filter(i=>!NI(i)).reduce((i,o)=>i+(pW.test(o)?mW:o===""?yW:vW),r)}function bW(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function SW(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],f=s===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",p=i_({path:l.relativePath,caseSensitive:l.caseSensitive,end:f},d),g=l.route;if(!p&&f&&n&&!r[r.length-1].route.index&&(p=i_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:bs([o,p.pathname]),pathnameBase:RW(bs([o,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(o=bs([o,p.pathnameBase]))}return a}function i_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xW(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((f,{paramName:d,isOptional:p},g)=>{if(d==="*"){let b=s[g]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const y=s[g];return p&&!y?f[d]=void 0:f[d]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:a,pattern:e}}function xW(e,t=!1,n=!0){Lr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function EW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function va(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function CW({basename:e,pathname:t}){return t==="/"?e:bs([e,t])}var TW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W_=e=>TW.test(e);function AW(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?wl(e):e,o;if(n)if(W_(n))o=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),Lr(!1,`Pathnames cannot have embedded double slashes - normalizing ${a} -> ${n}`)}n.startsWith("/")?o=FI(n.substring(1),"/"):o=FI(n,t)}else o=t;return{pathname:o,search:PW(r),hash:OW(i)}}function FI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function c1(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CU(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Z_(e){let t=CU(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Q_(e,t,n,r=!1){let i;typeof e=="string"?i=wl(e):(i={...e},Cn(!i.pathname||!i.pathname.includes("?"),c1("?","pathname","search",i)),Cn(!i.pathname||!i.pathname.includes("#"),c1("#","pathname","hash",i)),Cn(!i.search||!i.search.includes("#"),c1("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let p=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}s=p>=0?t[p]:"/"}let l=AW(i,s),f=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(f||d)&&(l.pathname+="/"),l}var bs=e=>e.join("/").replace(/\/\/+/g,"/"),RW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,J_=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function hm(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ul=Symbol("Uninstrumented");function MW(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(i=>i({id:t.id,index:t.index,path:t.path,instrument(o){let a=Object.keys(n);for(let s of a)o[s]&&n[s].push(o[s])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let i=Jf(n.lazy,t.lazy,()=>{});i&&(r.lazy=i)}if(typeof t.lazy=="object"){let i=t.lazy;["middleware","loader","action"].forEach(o=>{let a=i[o],s=n[`lazy.${o}`];if(typeof a=="function"&&s.length>0){let l=Jf(s,a,()=>{});l&&(r.lazy=Object.assign(r.lazy||{},{[o]:l}))}})}return["loader","action"].forEach(i=>{let o=t[i];if(typeof o=="function"&&n[i].length>0){let a=o[ul]??o,s=Jf(n[i],a,(...l)=>jI(l[0]));s&&(s[ul]=a,r[i]=s)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(i=>{let o=i[ul]??i,a=Jf(n.middleware,o,(...s)=>jI(s[0]));return a?(a[ul]=o,a):i})),r}function LW(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(i){let o=Object.keys(i);for(let a of o)i[a]&&n[a].push(i[a])}})),n.navigate.length>0){let r=e.navigate[ul]??e.navigate,i=Jf(n.navigate,r,(...o)=>{let[a,s]=o;return{to:typeof a=="number"||typeof a=="string"?a:a?Es(a):".",...UI(e,s??{})}});i&&(i[ul]=r,e.navigate=i)}if(n.fetch.length>0){let r=e.fetch[ul]??e.fetch,i=Jf(n.fetch,r,(...o)=>{let[a,,s,l]=o;return{href:s??".",fetcherKey:a,...UI(e,l??{})}});i&&(i[ul]=r,e.fetch=i)}return e}function Jf(e,t,n){return e.length===0?null:async(...r)=>{let i=await TU(e,n(...r),()=>t(...r),e.length-1);if(i.type==="error")throw i.value;return i.value}}async function TU(e,t,n,r){let i=e[r],o;if(i){let a,s=async()=>(a?console.error("You cannot call instrumented handlers more than once"):a=TU(e,t,n,r-1),o=await a,Cn(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await i(s,t)}catch(l){console.error("An instrumentation function threw an error:",l)}a||await s(),await a}else try{o={type:"success",value:await n()}}catch(a){o={type:"error",value:a}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function jI(e){let{request:t,context:n,params:r,unstable_pattern:i}=e;return{request:IW(t),params:{...r},unstable_pattern:i,context:kW(n)}}function UI(e,t){return{currentUrl:Es(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function IW(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function kW(e){if(NW(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var DW=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function NW(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===DW}var AU=["POST","PUT","PATCH","DELETE"],FW=new Set(AU),jW=["GET",...AU],UW=new Set(jW),BW=new Set([301,302,303,307,308]),$W=new Set([307,308]),f1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zW={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},kh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qW=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),RU="remix-router-transitions",PU=Symbol("ResetLoaderData");function HW(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Cn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],i=e.mapRouteProperties||qW,o=i;if(e.unstable_instrumentations){let $e=e.unstable_instrumentations;o=Xe=>({...i(Xe),...MW($e.map(ut=>ut.route).filter(Boolean),Xe)})}let a={},s=Fp(e.routes,o,void 0,a),l,f=e.basename||"/";f.startsWith("/")||(f=`/${f}`);let d=e.dataStrategy||ZW,p={...e.future},g=null,y=new Set,b=null,x=null,E=null,v=e.hydrationData!=null,w=il(s,e.history.location,f),C=!1,P=null,R;if(w==null&&!e.patchRoutesOnNavigation){let $e=da(404,{pathname:e.history.location.pathname}),{matches:Xe,route:ut}=ey(s);R=!0,w=Xe,P={[ut.id]:$e}}else if(w&&!e.hydrationData&&Re(w,s,e.history.location.pathname).active&&(w=null),w)if(w.some($e=>$e.route.lazy))R=!1;else if(!w.some($e=>kA($e.route)))R=!0;else{let $e=e.hydrationData?e.hydrationData.loaderData:null,Xe=e.hydrationData?e.hydrationData.errors:null;if(Xe){let ut=w.findIndex(lt=>Xe[lt.route.id]!==void 0);R=w.slice(0,ut+1).every(lt=>!dT(lt.route,$e,Xe))}else R=w.every(ut=>!dT(ut.route,$e,Xe))}else{R=!1,w=[];let $e=Re(null,s,e.history.location.pathname);$e.active&&$e.matches&&(C=!0,w=$e.matches)}let k,M={historyAction:e.history.action,location:e.history.location,matches:w,initialized:R,navigation:f1,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||P,fetchers:new Map,blockers:new Map},W="POP",ee=null,z=!1,H,te=!1,oe=new Map,ue=null,de=!1,se=!1,pe=new Set,re=new Map,Ee=0,$=-1,Q=new Map,ce=new Set,G=new Map,X=new Map,ge=new Set,xe=new Map,Ve,Pe=null;function Be(){if(g=e.history.listen(({action:$e,location:Xe,delta:ut})=>{if(Ve){Ve(),Ve=void 0;return}Lr(xe.size===0||ut!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let lt=nn({currentLocation:M.location,nextLocation:Xe,historyAction:$e});if(lt&&ut!=null){let Ot=new Promise(qt=>{Ve=qt});e.history.go(ut*-1),Tn(lt,{state:"blocked",location:Xe,proceed(){Tn(lt,{state:"proceeding",proceed:void 0,reset:void 0,location:Xe}),Ot.then(()=>e.history.go(ut))},reset(){let qt=new Map(M.blockers);qt.set(lt,kh),V({blockers:qt})}}),ee?.resolve(),ee=null;return}return Te($e,Xe)}),n){fZ(t,oe);let $e=()=>dZ(t,oe);t.addEventListener("pagehide",$e),ue=()=>t.removeEventListener("pagehide",$e)}return M.initialized||Te("POP",M.location,{initialHydration:!0}),k}function Je(){g&&g(),ue&&ue(),y.clear(),H&&H.abort(),M.fetchers.forEach(($e,Xe)=>et(Xe)),M.blockers.forEach(($e,Xe)=>ai(Xe))}function fe($e){return y.add($e),()=>y.delete($e)}function V($e,Xe={}){$e.matches&&($e.matches=$e.matches.map(Ot=>{let qt=a[Ot.route.id],jt=Ot.route;return jt.element!==qt.element||jt.errorElement!==qt.errorElement||jt.hydrateFallbackElement!==qt.hydrateFallbackElement?{...Ot,route:qt}:Ot})),M={...M,...$e};let ut=[],lt=[];M.fetchers.forEach((Ot,qt)=>{Ot.state==="idle"&&(ge.has(qt)?ut.push(qt):lt.push(qt))}),ge.forEach(Ot=>{!M.fetchers.has(Ot)&&!re.has(Ot)&&ut.push(Ot)}),[...y].forEach(Ot=>Ot(M,{deletedFetchers:ut,newErrors:$e.errors??null,viewTransitionOpts:Xe.viewTransitionOpts,flushSync:Xe.flushSync===!0})),ut.forEach(Ot=>et(Ot)),lt.forEach(Ot=>M.fetchers.delete(Ot))}function j($e,Xe,{flushSync:ut}={}){let lt=M.actionData!=null&&M.navigation.formMethod!=null&&to(M.navigation.formMethod)&&M.navigation.state==="loading"&&$e.state?._isRedirect!==!0,Ot;Xe.actionData?Object.keys(Xe.actionData).length>0?Ot=Xe.actionData:Ot=null:lt?Ot=M.actionData:Ot=null;let qt=Xe.loaderData?ZI(M.loaderData,Xe.loaderData,Xe.matches||[],Xe.errors):M.loaderData,jt=M.blockers;jt.size>0&&(jt=new Map(jt),jt.forEach((Rt,wt)=>jt.set(wt,kh)));let Lt=de?!1:Cr($e,Xe.matches||M.matches),It=z===!0||M.navigation.formMethod!=null&&to(M.navigation.formMethod)&&$e.state?._isRedirect!==!0;l&&(s=l,l=void 0),de||W==="POP"||(W==="PUSH"?e.history.push($e,$e.state):W==="REPLACE"&&e.history.replace($e,$e.state));let Bt;if(W==="POP"){let Rt=oe.get(M.location.pathname);Rt&&Rt.has($e.pathname)?Bt={currentLocation:M.location,nextLocation:$e}:oe.has($e.pathname)&&(Bt={currentLocation:$e,nextLocation:M.location})}else if(te){let Rt=oe.get(M.location.pathname);Rt?Rt.add($e.pathname):(Rt=new Set([$e.pathname]),oe.set(M.location.pathname,Rt)),Bt={currentLocation:M.location,nextLocation:$e}}V({...Xe,actionData:Ot,loaderData:qt,historyAction:W,location:$e,initialized:!0,navigation:f1,revalidation:"idle",restoreScrollPosition:Lt,preventScrollReset:It,blockers:jt},{viewTransitionOpts:Bt,flushSync:ut===!0}),W="POP",z=!1,te=!1,de=!1,se=!1,ee?.resolve(),ee=null,Pe?.resolve(),Pe=null}async function ie($e,Xe){if(ee?.resolve(),ee=null,typeof $e=="number"){ee||(ee=XI());let Jt=ee.promise;return e.history.go($e),Jt}let ut=fT(M.location,M.matches,f,$e,Xe?.fromRouteId,Xe?.relative),{path:lt,submission:Ot,error:qt}=BI(!1,ut,Xe),jt=M.location,Lt=Np(M.location,lt,Xe&&Xe.state);Lt={...Lt,...e.history.encodeLocation(Lt)};let It=Xe&&Xe.replace!=null?Xe.replace:void 0,Bt="PUSH";It===!0?Bt="REPLACE":It===!1||Ot!=null&&to(Ot.formMethod)&&Ot.formAction===M.location.pathname+M.location.search&&(Bt="REPLACE");let Rt=Xe&&"preventScrollReset"in Xe?Xe.preventScrollReset===!0:void 0,wt=(Xe&&Xe.flushSync)===!0,Nt=nn({currentLocation:jt,nextLocation:Lt,historyAction:Bt});if(Nt){Tn(Nt,{state:"blocked",location:Lt,proceed(){Tn(Nt,{state:"proceeding",proceed:void 0,reset:void 0,location:Lt}),ie($e,Xe)},reset(){let Jt=new Map(M.blockers);Jt.set(Nt,kh),V({blockers:Jt})}});return}await Te(Bt,Lt,{submission:Ot,pendingError:qt,preventScrollReset:Rt,replace:Xe&&Xe.replace,enableViewTransition:Xe&&Xe.viewTransition,flushSync:wt})}function me(){Pe||(Pe=XI()),ae(),V({revalidation:"loading"});let $e=Pe.promise;return M.navigation.state==="submitting"?$e:M.navigation.state==="idle"?(Te(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),$e):(Te(W||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:te===!0}),$e)}async function Te($e,Xe,ut){H&&H.abort(),H=null,W=$e,de=(ut&&ut.startUninterruptedRevalidation)===!0,dr(M.location,M.matches),z=(ut&&ut.preventScrollReset)===!0,te=(ut&&ut.enableViewTransition)===!0;let lt=l||s,Ot=ut&&ut.overrideNavigation,qt=ut?.initialHydration&&M.matches&&M.matches.length>0&&!C?M.matches:il(lt,Xe,f),jt=(ut&&ut.flushSync)===!0;if(qt&&M.initialized&&!se&&rZ(M.location,Xe)&&!(ut&&ut.submission&&to(ut.submission.formMethod))){j(Xe,{matches:qt},{flushSync:jt});return}let Lt=Re(qt,lt,Xe.pathname);if(Lt.active&&Lt.matches&&(qt=Lt.matches),!qt){let{error:An,notFoundMatches:Gt,route:pn}=Er(Xe.pathname);j(Xe,{matches:Gt,loaderData:{},errors:{[pn.id]:An}},{flushSync:jt});return}H=new AbortController;let It=Kf(e.history,Xe,H.signal,ut&&ut.submission),Bt=e.getContext?await e.getContext():new kI,Rt;if(ut&&ut.pendingError)Rt=[ol(qt).route.id,{type:"error",error:ut.pendingError}];else if(ut&&ut.submission&&to(ut.submission.formMethod)){let An=await Le(It,Xe,ut.submission,qt,Bt,Lt.active,ut&&ut.initialHydration===!0,{replace:ut.replace,flushSync:jt});if(An.shortCircuited)return;if(An.pendingActionResult){let[Gt,pn]=An.pendingActionResult;if(Bo(pn)&&jp(pn.error)&&pn.error.status===404){H=null,j(Xe,{matches:An.matches,loaderData:{},errors:{[Gt]:pn.error}});return}}qt=An.matches||qt,Rt=An.pendingActionResult,Ot=d1(Xe,ut.submission),jt=!1,Lt.active=!1,It=Kf(e.history,It.url,It.signal)}let{shortCircuited:wt,matches:Nt,loaderData:Jt,errors:cn}=await rt(It,Xe,qt,Bt,Lt.active,Ot,ut&&ut.submission,ut&&ut.fetcherSubmission,ut&&ut.replace,ut&&ut.initialHydration===!0,jt,Rt);wt||(H=null,j(Xe,{matches:Nt||qt,...QI(Rt),loaderData:Jt,errors:cn}))}async function Le($e,Xe,ut,lt,Ot,qt,jt,Lt={}){ae();let It=lZ(Xe,ut);if(V({navigation:It},{flushSync:Lt.flushSync===!0}),qt){let wt=await Ue(lt,Xe.pathname,$e.signal);if(wt.type==="aborted")return{shortCircuited:!0};if(wt.type==="error"){if(wt.partialMatches.length===0){let{matches:Jt,route:cn}=ey(s);return{matches:Jt,pendingActionResult:[cn.id,{type:"error",error:wt.error}]}}let Nt=ol(wt.partialMatches).route.id;return{matches:wt.partialMatches,pendingActionResult:[Nt,{type:"error",error:wt.error}]}}else if(wt.matches)lt=wt.matches;else{let{notFoundMatches:Nt,error:Jt,route:cn}=Er(Xe.pathname);return{matches:Nt,pendingActionResult:[cn.id,{type:"error",error:Jt}]}}}let Bt,Rt=Ov(lt,Xe);if(!Rt.route.action&&!Rt.route.lazy)Bt={type:"error",error:da(405,{method:$e.method,pathname:Xe.pathname,routeId:Rt.route.id})};else{let wt=nd(o,a,$e,lt,Rt,jt?[]:r,Ot),Nt=await Ye($e,wt,Ot,null);if(Bt=Nt[Rt.route.id],!Bt){for(let Jt of lt)if(Nt[Jt.route.id]){Bt=Nt[Jt.route.id];break}}if($e.signal.aborted)return{shortCircuited:!0}}if(yc(Bt)){let wt;return Lt&&Lt.replace!=null?wt=Lt.replace:wt=KI(Bt.response.headers.get("Location"),new URL($e.url),f)===M.location.pathname+M.location.search,await mt($e,Bt,!0,{submission:ut,replace:wt}),{shortCircuited:!0}}if(Bo(Bt)){let wt=ol(lt,Rt.route.id);return(Lt&&Lt.replace)!==!0&&(W="PUSH"),{matches:lt,pendingActionResult:[wt.route.id,Bt,Rt.route.id]}}return{matches:lt,pendingActionResult:[Rt.route.id,Bt]}}async function rt($e,Xe,ut,lt,Ot,qt,jt,Lt,It,Bt,Rt,wt){let Nt=qt||d1(Xe,jt),Jt=jt||Lt||YI(Nt),cn=!de&&!Bt;if(Ot){if(cn){let A=Ie(wt);V({navigation:Nt,...A!==void 0?{actionData:A}:{}},{flushSync:Rt})}let T=await Ue(ut,Xe.pathname,$e.signal);if(T.type==="aborted")return{shortCircuited:!0};if(T.type==="error"){if(T.partialMatches.length===0){let{matches:O,route:N}=ey(s);return{matches:O,loaderData:{},errors:{[N.id]:T.error}}}let A=ol(T.partialMatches).route.id;return{matches:T.partialMatches,loaderData:{},errors:{[A]:T.error}}}else if(T.matches)ut=T.matches;else{let{error:A,notFoundMatches:O,route:N}=Er(Xe.pathname);return{matches:O,loaderData:{},errors:{[N.id]:A}}}}let An=l||s,{dsMatches:Gt,revalidatingFetchers:pn}=$I($e,lt,o,a,e.history,M,ut,Jt,Xe,Bt?[]:r,Bt===!0,se,pe,ge,G,ce,An,f,e.patchRoutesOnNavigation!=null,wt);if($=++Ee,!e.dataStrategy&&!Gt.some(T=>T.shouldLoad)&&!Gt.some(T=>T.route.middleware&&T.route.middleware.length>0)&&pn.length===0){let T=zt();return j(Xe,{matches:ut,loaderData:{},errors:wt&&Bo(wt[1])?{[wt[0]]:wt[1].error}:null,...QI(wt),...T?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Rt}),{shortCircuited:!0}}if(cn){let T={};if(!Ot){T.navigation=Nt;let A=Ie(wt);A!==void 0&&(T.actionData=A)}pn.length>0&&(T.fetchers=ye(pn)),V(T,{flushSync:Rt})}pn.forEach(T=>{Pt(T.key),T.controller&&re.set(T.key,T.controller)});let sr=()=>pn.forEach(T=>Pt(T.key));H&&H.signal.addEventListener("abort",sr);let{loaderResults:Qr,fetcherResults:Ln}=await qe(Gt,pn,$e,lt);if($e.signal.aborted)return{shortCircuited:!0};H&&H.signal.removeEventListener("abort",sr),pn.forEach(T=>re.delete(T.key));let hr=ty(Qr);if(hr)return await mt($e,hr.result,!0,{replace:It}),{shortCircuited:!0};if(hr=ty(Ln),hr)return ce.add(hr.key),await mt($e,hr.result,!0,{replace:It}),{shortCircuited:!0};let{loaderData:na,errors:si}=WI(M,ut,Qr,wt,pn,Ln);Bt&&M.errors&&(si={...M.errors,...si});let pr=zt(),vi=Zt($),Wi=pr||vi||pn.length>0;return{matches:ut,loaderData:na,errors:si,...Wi?{fetchers:new Map(M.fetchers)}:{}}}function Ie($e){if($e&&!Bo($e[1]))return{[$e[0]]:$e[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function ye($e){return $e.forEach(Xe=>{let ut=M.fetchers.get(Xe.key),lt=Dh(void 0,ut?ut.data:void 0);M.fetchers.set(Xe.key,lt)}),new Map(M.fetchers)}async function Ae($e,Xe,ut,lt){Pt($e);let Ot=(lt&&lt.flushSync)===!0,qt=l||s,jt=fT(M.location,M.matches,f,ut,Xe,lt?.relative),Lt=il(qt,jt,f),It=Re(Lt,qt,jt);if(It.active&&It.matches&&(Lt=It.matches),!Lt){Y($e,Xe,da(404,{pathname:jt}),{flushSync:Ot});return}let{path:Bt,submission:Rt,error:wt}=BI(!0,jt,lt);if(wt){Y($e,Xe,wt,{flushSync:Ot});return}let Nt=e.getContext?await e.getContext():new kI,Jt=(lt&&lt.preventScrollReset)===!0;if(Rt&&to(Rt.formMethod)){await Me($e,Xe,Bt,Lt,Nt,It.active,Ot,Jt,Rt);return}G.set($e,{routeId:Xe,path:Bt}),await tt($e,Xe,Bt,Lt,Nt,It.active,Ot,Jt,Rt)}async function Me($e,Xe,ut,lt,Ot,qt,jt,Lt,It){ae(),G.delete($e);let Bt=M.fetchers.get($e);K($e,cZ(It,Bt),{flushSync:jt});let Rt=new AbortController,wt=Kf(e.history,ut,Rt.signal,It);if(qt){let Z=await Ue(lt,new URL(wt.url).pathname,wt.signal,$e);if(Z.type==="aborted")return;if(Z.type==="error"){Y($e,Xe,Z.error,{flushSync:jt});return}else if(Z.matches)lt=Z.matches;else{Y($e,Xe,da(404,{pathname:ut}),{flushSync:jt});return}}let Nt=Ov(lt,ut);if(!Nt.route.action&&!Nt.route.lazy){let Z=da(405,{method:It.formMethod,pathname:ut,routeId:Xe});Y($e,Xe,Z,{flushSync:jt});return}re.set($e,Rt);let Jt=Ee,cn=nd(o,a,wt,lt,Nt,r,Ot),An=await Ye(wt,cn,Ot,$e),Gt=An[Nt.route.id];if(!Gt){for(let Z of cn)if(An[Z.route.id]){Gt=An[Z.route.id];break}}if(wt.signal.aborted){re.get($e)===Rt&&re.delete($e);return}if(ge.has($e)){if(yc(Gt)||Bo(Gt)){K($e,Xs(void 0));return}}else{if(yc(Gt))if(re.delete($e),$>Jt){K($e,Xs(void 0));return}else return ce.add($e),K($e,Dh(It)),mt(wt,Gt,!1,{fetcherSubmission:It,preventScrollReset:Lt});if(Bo(Gt)){Y($e,Xe,Gt.error);return}}let pn=M.navigation.location||M.location,sr=Kf(e.history,pn,Rt.signal),Qr=l||s,Ln=M.navigation.state!=="idle"?il(Qr,M.navigation.location,f):M.matches;Cn(Ln,"Didn't find any matches after fetcher action");let hr=++Ee;Q.set($e,hr);let na=Dh(It,Gt.data);M.fetchers.set($e,na);let{dsMatches:si,revalidatingFetchers:pr}=$I(sr,Ot,o,a,e.history,M,Ln,It,pn,r,!1,se,pe,ge,G,ce,Qr,f,e.patchRoutesOnNavigation!=null,[Nt.route.id,Gt]);pr.filter(Z=>Z.key!==$e).forEach(Z=>{let he=Z.key,ve=M.fetchers.get(he),Oe=Dh(void 0,ve?ve.data:void 0);M.fetchers.set(he,Oe),Pt(he),Z.controller&&re.set(he,Z.controller)}),V({fetchers:new Map(M.fetchers)});let vi=()=>pr.forEach(Z=>Pt(Z.key));Rt.signal.addEventListener("abort",vi);let{loaderResults:Wi,fetcherResults:T}=await qe(si,pr,sr,Ot);if(Rt.signal.aborted)return;if(Rt.signal.removeEventListener("abort",vi),Q.delete($e),re.delete($e),pr.forEach(Z=>re.delete(Z.key)),M.fetchers.has($e)){let Z=Xs(Gt.data);M.fetchers.set($e,Z)}let A=ty(Wi);if(A)return mt(sr,A.result,!1,{preventScrollReset:Lt});if(A=ty(T),A)return ce.add(A.key),mt(sr,A.result,!1,{preventScrollReset:Lt});let{loaderData:O,errors:N}=WI(M,Ln,Wi,void 0,pr,T);Zt(hr),M.navigation.state==="loading"&&hr>$?(Cn(W,"Expected pending action"),H&&H.abort(),j(M.navigation.location,{matches:Ln,loaderData:O,errors:N,fetchers:new Map(M.fetchers)})):(V({errors:N,loaderData:ZI(M.loaderData,O,Ln,N),fetchers:new Map(M.fetchers)}),se=!1)}async function tt($e,Xe,ut,lt,Ot,qt,jt,Lt,It){let Bt=M.fetchers.get($e);K($e,Dh(It,Bt?Bt.data:void 0),{flushSync:jt});let Rt=new AbortController,wt=Kf(e.history,ut,Rt.signal);if(qt){let pn=await Ue(lt,new URL(wt.url).pathname,wt.signal,$e);if(pn.type==="aborted")return;if(pn.type==="error"){Y($e,Xe,pn.error,{flushSync:jt});return}else if(pn.matches)lt=pn.matches;else{Y($e,Xe,da(404,{pathname:ut}),{flushSync:jt});return}}let Nt=Ov(lt,ut);re.set($e,Rt);let Jt=Ee,cn=nd(o,a,wt,lt,Nt,r,Ot),Gt=(await Ye(wt,cn,Ot,$e))[Nt.route.id];if(re.get($e)===Rt&&re.delete($e),!wt.signal.aborted){if(ge.has($e)){K($e,Xs(void 0));return}if(yc(Gt))if($>Jt){K($e,Xs(void 0));return}else{ce.add($e),await mt(wt,Gt,!1,{preventScrollReset:Lt});return}if(Bo(Gt)){Y($e,Xe,Gt.error);return}K($e,Xs(Gt.data))}}async function mt($e,Xe,ut,{submission:lt,fetcherSubmission:Ot,preventScrollReset:qt,replace:jt}={}){ut||(ee?.resolve(),ee=null),Xe.response.headers.has("X-Remix-Revalidate")&&(se=!0);let Lt=Xe.response.headers.get("Location");Cn(Lt,"Expected a Location header on the redirect Response"),Lt=KI(Lt,new URL($e.url),f);let It=Np(M.location,Lt,{_isRedirect:!0});if(n){let cn=!1;if(Xe.response.headers.has("X-Remix-Reload-Document"))cn=!0;else if(W_(Lt)){const An=SU(Lt,!0);cn=An.origin!==t.location.origin||va(An.pathname,f)==null}if(cn){jt?t.location.replace(Lt):t.location.assign(Lt);return}}H=null;let Bt=jt===!0||Xe.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Rt,formAction:wt,formEncType:Nt}=M.navigation;!lt&&!Ot&&Rt&&wt&&Nt&&(lt=YI(M.navigation));let Jt=lt||Ot;if($W.has(Xe.response.status)&&Jt&&to(Jt.formMethod))await Te(Bt,It,{submission:{...Jt,formAction:Lt},preventScrollReset:qt||z,enableViewTransition:ut?te:void 0});else{let cn=d1(It,lt);await Te(Bt,It,{overrideNavigation:cn,fetcherSubmission:Ot,preventScrollReset:qt||z,enableViewTransition:ut?te:void 0})}}async function Ye($e,Xe,ut,lt){let Ot,qt={};try{Ot=await JW(d,$e,Xe,lt,ut,!1)}catch(jt){return Xe.filter(Lt=>Lt.shouldLoad).forEach(Lt=>{qt[Lt.route.id]={type:"error",error:jt}}),qt}if($e.signal.aborted)return qt;for(let[jt,Lt]of Object.entries(Ot))if(sZ(Lt)){let It=Lt.result;qt[jt]={type:"redirect",response:tZ(It,$e,jt,Xe,f)}}else qt[jt]=await eZ(Lt);return qt}async function qe($e,Xe,ut,lt){let Ot=Ye(ut,$e,lt,null),qt=Promise.all(Xe.map(async It=>{if(It.matches&&It.match&&It.request&&It.controller){let Rt=(await Ye(It.request,It.matches,lt,It.key))[It.match.route.id];return{[It.key]:Rt}}else return Promise.resolve({[It.key]:{type:"error",error:da(404,{pathname:It.path})}})})),jt=await Ot,Lt=(await qt).reduce((It,Bt)=>Object.assign(It,Bt),{});return{loaderResults:jt,fetcherResults:Lt}}function ae(){se=!0,G.forEach(($e,Xe)=>{re.has(Xe)&&pe.add(Xe),Pt(Xe)})}function K($e,Xe,ut={}){M.fetchers.set($e,Xe),V({fetchers:new Map(M.fetchers)},{flushSync:(ut&&ut.flushSync)===!0})}function Y($e,Xe,ut,lt={}){let Ot=ol(M.matches,Xe);et($e),V({errors:{[Ot.route.id]:ut},fetchers:new Map(M.fetchers)},{flushSync:(lt&&lt.flushSync)===!0})}function J($e){return X.set($e,(X.get($e)||0)+1),ge.has($e)&&ge.delete($e),M.fetchers.get($e)||zW}function Ge($e,Xe){Pt($e,Xe?.reason),K($e,Xs(null))}function et($e){let Xe=M.fetchers.get($e);re.has($e)&&!(Xe&&Xe.state==="loading"&&Q.has($e))&&Pt($e),G.delete($e),Q.delete($e),ce.delete($e),ge.delete($e),pe.delete($e),M.fetchers.delete($e)}function Ke($e){let Xe=(X.get($e)||0)-1;Xe<=0?(X.delete($e),ge.add($e)):X.set($e,Xe),V({fetchers:new Map(M.fetchers)})}function Pt($e,Xe){let ut=re.get($e);ut&&(ut.abort(Xe),re.delete($e))}function tn($e){for(let Xe of $e){let ut=J(Xe),lt=Xs(ut.data);M.fetchers.set(Xe,lt)}}function zt(){let $e=[],Xe=!1;for(let ut of ce){let lt=M.fetchers.get(ut);Cn(lt,`Expected fetcher: ${ut}`),lt.state==="loading"&&(ce.delete(ut),$e.push(ut),Xe=!0)}return tn($e),Xe}function Zt($e){let Xe=[];for(let[ut,lt]of Q)if(lt<$e){let Ot=M.fetchers.get(ut);Cn(Ot,`Expected fetcher: ${ut}`),Ot.state==="loading"&&(Pt(ut),Q.delete(ut),Xe.push(ut))}return tn(Xe),Xe.length>0}function Yt($e,Xe){let ut=M.blockers.get($e)||kh;return xe.get($e)!==Xe&&xe.set($e,Xe),ut}function ai($e){M.blockers.delete($e),xe.delete($e)}function Tn($e,Xe){let ut=M.blockers.get($e)||kh;Cn(ut.state==="unblocked"&&Xe.state==="blocked"||ut.state==="blocked"&&Xe.state==="blocked"||ut.state==="blocked"&&Xe.state==="proceeding"||ut.state==="blocked"&&Xe.state==="unblocked"||ut.state==="proceeding"&&Xe.state==="unblocked",`Invalid blocker state transition: ${ut.state} -> ${Xe.state}`);let lt=new Map(M.blockers);lt.set($e,Xe),V({blockers:lt})}function nn({currentLocation:$e,nextLocation:Xe,historyAction:ut}){if(xe.size===0)return;xe.size>1&&Lr(!1,"A router only supports one blocker at a time");let lt=Array.from(xe.entries()),[Ot,qt]=lt[lt.length-1],jt=M.blockers.get(Ot);if(!(jt&&jt.state==="proceeding")&&qt({currentLocation:$e,nextLocation:Xe,historyAction:ut}))return Ot}function Er($e){let Xe=da(404,{pathname:$e}),ut=l||s,{matches:lt,route:Ot}=ey(ut);return{notFoundMatches:lt,route:Ot,error:Xe}}function un($e,Xe,ut){if(b=$e,E=Xe,x=ut||null,!v&&M.navigation===f1){v=!0;let lt=Cr(M.location,M.matches);lt!=null&&V({restoreScrollPosition:lt})}return()=>{b=null,E=null,x=null}}function fr($e,Xe){return x&&x($e,Xe.map(lt=>dW(lt,M.loaderData)))||$e.key}function dr($e,Xe){if(b&&E){let ut=fr($e,Xe);b[ut]=E()}}function Cr($e,Xe){if(b){let ut=fr($e,Xe),lt=b[ut];if(typeof lt=="number")return lt}return null}function Re($e,Xe,ut){if(e.patchRoutesOnNavigation)if($e){if(Object.keys($e[0].params).length>0)return{active:!0,matches:cp(Xe,ut,f,!0)}}else return{active:!0,matches:cp(Xe,ut,f,!0)||[]};return{active:!1,matches:null}}async function Ue($e,Xe,ut,lt){if(!e.patchRoutesOnNavigation)return{type:"success",matches:$e};let Ot=$e;for(;;){let qt=l==null,jt=l||s,Lt=a;try{await e.patchRoutesOnNavigation({signal:ut,path:Xe,matches:Ot,fetcherKey:lt,patch:(Rt,wt)=>{ut.aborted||zI(Rt,wt,jt,Lt,o,!1)}})}catch(Rt){return{type:"error",error:Rt,partialMatches:Ot}}finally{qt&&!ut.aborted&&(s=[...s])}if(ut.aborted)return{type:"aborted"};let It=il(jt,Xe,f),Bt=null;if(It){if(Object.keys(It[0].params).length===0)return{type:"success",matches:It};if(Bt=cp(jt,Xe,f,!0),!(Bt&&Ot.length<Bt.length&&Ct(Ot,Bt.slice(0,Ot.length))))return{type:"success",matches:It}}if(Bt||(Bt=cp(jt,Xe,f,!0)),!Bt||Ct(Ot,Bt))return{type:"success",matches:null};Ot=Bt}}function Ct($e,Xe){return $e.length===Xe.length&&$e.every((ut,lt)=>ut.route.id===Xe[lt].route.id)}function At($e){a={},l=Fp($e,o,void 0,a)}function Dt($e,Xe,ut=!1){let lt=l==null;zI($e,Xe,l||s,a,o,ut),lt&&(s=[...s],V({}))}return k={get basename(){return f},get future(){return p},get state(){return M},get routes(){return s},get window(){return t},initialize:Be,subscribe:fe,enableScrollRestoration:un,navigate:ie,fetch:Ae,revalidate:me,createHref:$e=>e.history.createHref($e),encodeLocation:$e=>e.history.encodeLocation($e),getFetcher:J,resetFetcher:Ge,deleteFetcher:Ke,dispose:Je,getBlocker:Yt,deleteBlocker:ai,patchRoutes:Dt,_internalFetchControllers:re,_internalSetRoutes:At,_internalSetStateDoNotUseOrYouWillBreakYourApp($e){V($e)}},e.unstable_instrumentations&&(k=LW(k,e.unstable_instrumentations.map($e=>$e.router).filter(Boolean))),k}function VW(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function fT(e,t,n,r,i,o){let a,s;if(i){a=[];for(let f of t)if(a.push(f),f.route.id===i){s=f;break}}else a=t,s=t[t.length-1];let l=Q_(r||".",Z_(a),va(e.pathname,n)||e.pathname,o==="path");if(r==null&&(l.search=e.search,l.hash=e.hash),(r==null||r===""||r===".")&&s){let f=DA(l.search);if(s.route.index&&!f)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!s.route.index&&f){let d=new URLSearchParams(l.search),p=d.getAll("index");d.delete("index"),p.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return n!=="/"&&(l.pathname=CW({basename:n,pathname:l.pathname})),Es(l)}function BI(e,t,n){if(!n||!VW(n))return{path:t};if(n.formMethod&&!uZ(n.formMethod))return{path:t,error:da(405,{method:n.formMethod})};let r=()=>({path:t,error:da(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),a=DU(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!to(o))return r();let p=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[y,b])=>`${g}${y}=${b}
`,""):String(n.body);return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:p}}}else if(n.formEncType==="application/json"){if(!to(o))return r();try{let p=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:p,text:void 0}}}catch{return r()}}}Cn(typeof FormData=="function","FormData is not available in this environment");let s,l;if(n.formData)s=pT(n.formData),l=n.formData;else if(n.body instanceof FormData)s=pT(n.body),l=n.body;else if(n.body instanceof URLSearchParams)s=n.body,l=GI(s);else if(n.body==null)s=new URLSearchParams,l=new FormData;else try{s=new URLSearchParams(n.body),l=GI(s)}catch{return r()}let f={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(to(f.formMethod))return{path:t,submission:f};let d=wl(t);return e&&d.search&&DA(d.search)&&s.append("index",""),d.search=`?${s}`,{path:Es(d),submission:f}}function $I(e,t,n,r,i,o,a,s,l,f,d,p,g,y,b,x,E,v,w,C){let P=C?Bo(C[1])?C[1].error:C[1].data:void 0,R=i.createURL(o.location),k=i.createURL(l),M;if(d&&o.errors){let ue=Object.keys(o.errors)[0];M=a.findIndex(de=>de.route.id===ue)}else if(C&&Bo(C[1])){let ue=C[0];M=a.findIndex(de=>de.route.id===ue)-1}let W=C?C[1].statusCode:void 0,ee=W&&W>=400,z={currentUrl:R,currentParams:o.matches[0]?.params||{},nextUrl:k,nextParams:a[0].params,...s,actionResult:P,actionStatus:W},H=hm(a),te=a.map((ue,de)=>{let{route:se}=ue,pe=null;if(M!=null&&de>M?pe=!1:se.lazy?pe=!0:kA(se)?d?pe=dT(se,o.loaderData,o.errors):KW(o.loaderData,o.matches[de],ue)&&(pe=!0):pe=!1,pe!==null)return hT(n,r,e,H,ue,f,t,pe);let re=ee?!1:p||R.pathname+R.search===k.pathname+k.search||R.search!==k.search||GW(o.matches[de],ue),Ee={...z,defaultShouldRevalidate:re},$=o_(ue,Ee);return hT(n,r,e,H,ue,f,t,$,Ee)}),oe=[];return b.forEach((ue,de)=>{if(d||!a.some(G=>G.route.id===ue.routeId)||y.has(de))return;let se=o.fetchers.get(de),pe=se&&se.state!=="idle"&&se.data===void 0,re=il(E,ue.path,v);if(!re){if(w&&pe)return;oe.push({key:de,routeId:ue.routeId,path:ue.path,matches:null,match:null,request:null,controller:null});return}if(x.has(de))return;let Ee=Ov(re,ue.path),$=new AbortController,Q=Kf(i,ue.path,$.signal),ce=null;if(g.has(de))g.delete(de),ce=nd(n,r,Q,re,Ee,f,t);else if(pe)p&&(ce=nd(n,r,Q,re,Ee,f,t));else{let G={...z,defaultShouldRevalidate:ee?!1:p};o_(Ee,G)&&(ce=nd(n,r,Q,re,Ee,f,t,G))}ce&&oe.push({key:de,routeId:ue.routeId,path:ue.path,matches:ce,match:Ee,request:Q,controller:$})}),{dsMatches:te,revalidatingFetchers:oe}}function kA(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function dT(e,t,n){if(e.lazy)return!0;if(!kA(e))return!1;let r=t!=null&&e.id in t,i=n!=null&&n[e.id]!==void 0;return!r&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!i}function KW(e,t,n){let r=!t||n.route.id!==t.route.id,i=!e.hasOwnProperty(n.route.id);return r||i}function GW(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function o_(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function zI(e,t,n,r,i,o){let a;if(e){let f=r[e];Cn(f,`No route found to patch children into: routeId = ${e}`),f.children||(f.children=[]),a=f.children}else a=n;let s=[],l=[];if(t.forEach(f=>{let d=a.find(p=>OU(f,p));d?l.push({existingRoute:d,newRoute:f}):s.push(f)}),s.length>0){let f=Fp(s,i,[e||"_","patch",String(a?.length||"0")],r);a.push(...f)}if(o&&l.length>0)for(let f=0;f<l.length;f++){let{existingRoute:d,newRoute:p}=l[f],g=d,[y]=Fp([p],i,[],{},!0);Object.assign(g,{element:y.element?y.element:g.element,errorElement:y.errorElement?y.errorElement:g.errorElement,hydrateFallbackElement:y.hydrateFallbackElement?y.hydrateFallbackElement:g.hydrateFallbackElement})}}function OU(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(i=>OU(n,i))):!1}var qI=new WeakMap,MU=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let i=n[t.id];if(Cn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let a=qI.get(i);a||(a={},qI.set(i,a));let s=a[e];if(s)return s;let l=(async()=>{let f=uW(e),p=i[e]!==void 0&&e!=="hasErrorBoundary";if(f)Lr(!f,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),a[e]=Promise.resolve();else if(p)Lr(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let g=await o();g!=null&&(Object.assign(i,{[e]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return a[e]=l,l},HI=new WeakMap;function WW(e,t,n,r,i){let o=n[e.id];if(Cn(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let d=HI.get(o);if(d)return{lazyRoutePromise:d,lazyHandlerPromise:d};let p=(async()=>{Cn(typeof e.lazy=="function","No lazy route function found");let g=await e.lazy(),y={};for(let b in g){let x=g[b];if(x===void 0)continue;let E=cW(b),w=o[b]!==void 0&&b!=="hasErrorBoundary";E?Lr(!E,"Route property "+b+" is not a supported property to be returned from a lazy route function. This property will be ignored."):w?Lr(!w,`Route "${o.id}" has a static property "${b}" defined but its lazy function is also returning a value for this property. The lazy route property "${b}" will be ignored.`):y[b]=x}Object.assign(o,y),Object.assign(o,{...r(o),lazy:void 0})})();return HI.set(o,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let a=Object.keys(e.lazy),s=[],l;for(let d of a){if(i&&i.includes(d))continue;let p=MU({key:d,route:e,manifest:n,mapRouteProperties:r});p&&(s.push(p),d===t&&(l=p))}let f=s.length>0?Promise.all(s).then(()=>{}):void 0;return f?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:l}}async function VI(e){let t=e.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{n[t[o].route.id]=i}),n}async function ZW(e){return e.matches.some(t=>t.route.middleware)?LU(e,()=>VI(e)):VI(e)}function LU(e,t){return QW(e,t,r=>r,oZ,n);function n(r,i,o){if(o)return Promise.resolve(Object.assign(o.value,{[i]:{type:"error",result:r}}));{let{matches:a}=e,s=Math.min(Math.max(a.findIndex(f=>f.route.id===i),0),Math.max(a.findIndex(f=>f.shouldCallHandler()),0)),l=ol(a,a[s].route.id).route.id;return Promise.resolve({[l]:{type:"error",result:r}})}}}async function QW(e,t,n,r,i){let{matches:o,request:a,params:s,context:l,unstable_pattern:f}=e,d=o.flatMap(g=>g.route.middleware?g.route.middleware.map(y=>[g.route.id,y]):[]);return await IU({request:a,params:s,context:l,unstable_pattern:f},d,t,n,r,i)}async function IU(e,t,n,r,i,o,a=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason??new Error(`Request aborted: ${s.method} ${s.url}`);let l=t[a];if(!l)return await n();let[f,d]=l,p,g=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");try{return p={value:await IU(e,t,n,r,i,o,a+1)},p.value}catch(y){return p={value:await o(y,f,p)},p.value}};try{let y=await d(e,g),b=y!=null?r(y):void 0;return i(b)?b:p?b??p.value:(p={value:await g()},p.value)}catch(y){return await o(y,f,p)}}function kU(e,t,n,r,i){let o=MU({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),a=WW(r.route,to(n.method)?"action":"loader",t,e,i);return{middleware:o,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function hT(e,t,n,r,i,o,a,s,l=null){let f=!1,d=kU(e,t,n,i,o);return{...i,_lazyPromises:d,shouldLoad:s,shouldRevalidateArgs:l,shouldCallHandler(p){return f=!0,l?typeof p=="boolean"?o_(i,{...l,defaultShouldRevalidate:p}):o_(i,l):s},resolve(p){let{lazy:g,loader:y,middleware:b}=i.route,x=f||s||p&&!to(n.method)&&(g||y),E=b&&b.length>0&&!y&&!g;return x&&(to(n.method)||!E)?YW({request:n,unstable_pattern:r,match:i,lazyHandlerPromise:d?.handler,lazyRoutePromise:d?.route,handlerOverride:p,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function nd(e,t,n,r,i,o,a,s=null){return r.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,shouldRevalidateArgs:s,shouldCallHandler:()=>!1,_lazyPromises:kU(e,t,n,l,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:hT(e,t,n,hm(r),l,o,a,!0,s))}async function JW(e,t,n,r,i,o){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let a={request:t,unstable_pattern:hm(n),params:n[0].params,context:i,matches:n},l=await e({...a,fetcherKey:r,runClientMiddleware:f=>{let d=a;return LU(d,()=>f({...d,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return l}async function YW({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:i,handlerOverride:o,scopedContext:a}){let s,l,f=to(e.method),d=f?"action":"loader",p=g=>{let y,b=new Promise((v,w)=>y=w);l=()=>y(),e.signal.addEventListener("abort",l);let x=v=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${d}" [routeId: ${n.route.id}]`)):g({request:e,unstable_pattern:t,params:n.params,context:a},...v!==void 0?[v]:[]),E=(async()=>{try{return{type:"data",result:await(o?o(w=>x(w)):x())}}catch(v){return{type:"error",result:v}}})();return Promise.race([E,b])};try{let g=f?n.route.action:n.route.loader;if(r||i)if(g){let y,[b]=await Promise.all([p(g).catch(x=>{y=x}),r,i]);if(y!==void 0)throw y;s=b}else{await r;let y=f?n.route.action:n.route.loader;if(y)[s]=await Promise.all([p(y),i]);else if(d==="action"){let b=new URL(e.url),x=b.pathname+b.search;throw da(405,{method:e.method,pathname:x,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(g)s=await p(g);else{let y=new URL(e.url),b=y.pathname+y.search;throw da(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{l&&e.signal.removeEventListener("abort",l)}return s}async function XW(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function eZ(e){let{result:t,type:n}=e;if(NU(t)){let r;try{r=await XW(t)}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new J_(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?JI(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:iZ(t),statusCode:jp(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:jp(t)?t.status:void 0}:JI(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function tZ(e,t,n,r,i){let o=e.headers.get("Location");if(Cn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!W_(o)){let a=r.slice(0,r.findIndex(s=>s.route.id===n)+1);o=fT(new URL(t.url),a,i,o),e.headers.set("Location",o)}return e}function KI(e,t,n){if(W_(e)){let r=e,i=r.startsWith("//")?new URL(t.protocol+r):new URL(r),o=va(i.pathname,n)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function Kf(e,t,n,r){let i=e.createURL(DU(t)).toString(),o={signal:n};if(r&&to(r.formMethod)){let{formMethod:a,formEncType:s}=r;o.method=a.toUpperCase(),s==="application/json"?(o.headers=new Headers({"Content-Type":s}),o.body=JSON.stringify(r.json)):s==="text/plain"?o.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?o.body=pT(r.formData):o.body=r.formData}return new Request(i,o)}function pT(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function GI(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function nZ(e,t,n,r=!1,i=!1){let o={},a=null,s,l=!1,f={},d=n&&Bo(n[1])?n[1].error:void 0;return e.forEach(p=>{if(!(p.route.id in t))return;let g=p.route.id,y=t[g];if(Cn(!yc(y),"Cannot handle redirect results in processLoaderData"),Bo(y)){let b=y.error;if(d!==void 0&&(b=d,d=void 0),a=a||{},i)a[g]=b;else{let x=ol(e,g);a[x.route.id]==null&&(a[x.route.id]=b)}r||(o[g]=PU),l||(l=!0,s=jp(y.error)?y.error.status:500),y.headers&&(f[g]=y.headers)}else o[g]=y.data,y.statusCode&&y.statusCode!==200&&!l&&(s=y.statusCode),y.headers&&(f[g]=y.headers)}),d!==void 0&&n&&(a={[n[0]]:d},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:f}}function WI(e,t,n,r,i,o){let{loaderData:a,errors:s}=nZ(t,n,r);return i.filter(l=>!l.matches||l.matches.some(f=>f.shouldLoad)).forEach(l=>{let{key:f,match:d,controller:p}=l;if(p&&p.signal.aborted)return;let g=o[f];if(Cn(g,"Did not find corresponding fetcher result"),Bo(g)){let y=ol(e.matches,d?.route.id);s&&s[y.route.id]||(s={...s,[y.route.id]:g.error}),e.fetchers.delete(f)}else if(yc(g))Cn(!1,"Unhandled fetcher revalidation redirect");else{let y=Xs(g.data);e.fetchers.set(f,y)}}),{loaderData:a,errors:s}}function ZI(e,t,n,r){let i=Object.entries(t).filter(([,o])=>o!==PU).reduce((o,[a,s])=>(o[a]=s,o),{});for(let o of n){let a=o.route.id;if(!t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&o.route.loader&&(i[a]=e[a]),r&&r.hasOwnProperty(a))break}return i}function QI(e){return e?Bo(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function ol(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function ey(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function da(e,{pathname:t,routeId:n,method:r,type:i,message:o}={}){let a="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(a="Bad Request",r&&t&&n?s=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(s="Unable to encode submission body")):e===403?(a="Forbidden",s=`Route "${n}" does not match URL "${t}"`):e===404?(a="Not Found",s=`No route matches URL "${t}"`):e===405&&(a="Method Not Allowed",r&&t&&n?s=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(s=`Invalid request method "${r.toUpperCase()}"`)),new J_(e||500,a,new Error(s),!0)}function ty(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,i]=t[n];if(yc(i))return{key:r,result:i}}}function DU(e){let t=typeof e=="string"?wl(e):e;return Es({...t,hash:""})}function rZ(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function iZ(e){return new J_(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function oZ(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&aZ(n))}function aZ(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function sZ(e){return NU(e.result)&&BW.has(e.result.status)}function Bo(e){return e.type==="error"}function yc(e){return(e&&e.type)==="redirect"}function JI(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function NU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function uZ(e){return UW.has(e.toUpperCase())}function to(e){return FW.has(e.toUpperCase())}function DA(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Ov(e,t){let n=typeof t=="string"?wl(t).search:t.search;if(e[e.length-1].route.index&&DA(n||""))return e[e.length-1];let r=CU(e);return r[r.length-1]}function YI(e){let{formMethod:t,formAction:n,formEncType:r,text:i,formData:o,json:a}=e;if(!(!t||!n||!r)){if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(a!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:a,text:void 0}}}function d1(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function lZ(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Dh(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cZ(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Xs(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fZ(e,t){try{let n=e.sessionStorage.getItem(RU);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function dZ(e,t){if(t.size>0){let n={};for(let[r,i]of t)n[r]=[...i];try{e.sessionStorage.setItem(RU,JSON.stringify(n))}catch(r){Lr(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function XI(){let e,t,n=new Promise((r,i)=>{e=async o=>{r(o);try{await n}catch{}},t=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var Nc=B.createContext(null);Nc.displayName="DataRouter";var pm=B.createContext(null);pm.displayName="DataRouterState";B.createContext(!1);var NA=B.createContext({isTransitioning:!1});NA.displayName="ViewTransition";var FU=B.createContext(new Map);FU.displayName="Fetchers";var hZ=B.createContext(null);hZ.displayName="Await";var ba=B.createContext(null);ba.displayName="Navigation";var Y_=B.createContext(null);Y_.displayName="Location";var Sa=B.createContext({outlet:null,matches:[],isDataRoute:!1});Sa.displayName="Route";var FA=B.createContext(null);FA.displayName="RouteError";function pZ(e,{relative:t}={}){Cn(xd(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(ba),{hash:i,pathname:o,search:a}=mm(e,{relative:t}),s=o;return n!=="/"&&(s=o==="/"?n:bs([n,o])),r.createHref({pathname:s,search:a,hash:i})}function xd(){return B.useContext(Y_)!=null}function du(){return Cn(xd(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Y_).location}var jU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function UU(e){B.useContext(ba).static||B.useLayoutEffect(e)}function Fc(){let{isDataRoute:e}=B.useContext(Sa);return e?PZ():mZ()}function mZ(){Cn(xd(),"useNavigate() may be used only in the context of a <Router> component.");let e=B.useContext(Nc),{basename:t,navigator:n}=B.useContext(ba),{matches:r}=B.useContext(Sa),{pathname:i}=du(),o=JSON.stringify(Z_(r)),a=B.useRef(!1);return UU(()=>{a.current=!0}),B.useCallback((l,f={})=>{if(Lr(a.current,jU),!a.current)return;if(typeof l=="number"){n.go(l);return}let d=Q_(l,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:bs([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}var gZ=B.createContext(null);function yZ(e){let t=B.useContext(Sa).outlet;return B.useMemo(()=>t&&B.createElement(gZ.Provider,{value:e},t),[t,e])}function jA(){let{matches:e}=B.useContext(Sa),t=e[e.length-1];return t?t.params:{}}function mm(e,{relative:t}={}){let{matches:n}=B.useContext(Sa),{pathname:r}=du(),i=JSON.stringify(Z_(n));return B.useMemo(()=>Q_(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function vZ(e,t,n,r,i){Cn(xd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(ba),{matches:a}=B.useContext(Sa),s=a[a.length-1],l=s?s.params:{},f=s?s.pathname:"/",d=s?s.pathnameBase:"/",p=s&&s.route;{let w=p&&p.path||"";BU(f,!p||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let g=du(),y;y=g;let b=y.pathname||"/",x=b;if(d!=="/"){let w=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(w.length).join("/")}let E=il(e,{pathname:x});return Lr(p||E!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Lr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),xZ(E&&E.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:bs([d,o.encodeLocation?o.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:bs([d,o.encodeLocation?o.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),a,n,r,i)}function _Z(){let e=RZ(),t=jp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),n?B.createElement("pre",{style:i},n):null,a)}var wZ=B.createElement(_Z,null),bZ=class extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?B.createElement(Sa.Provider,{value:this.props.routeContext},B.createElement(FA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function SZ({routeContext:e,match:t,children:n}){let r=B.useContext(Nc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Sa.Provider,{value:e},n)}function xZ(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=n?.errors;if(a!=null){let d=o.findIndex(p=>p.route.id&&a?.[p.route.id]!==void 0);Cn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,l=-1;if(n)for(let d=0;d<o.length;d++){let p=o[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(l=d),p.route.id){let{loaderData:g,errors:y}=n,b=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){s=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}let f=n&&r?(d,p)=>{r(d,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:hm(n.matches),errorInfo:p})}:void 0;return o.reduceRight((d,p,g)=>{let y,b=!1,x=null,E=null;n&&(y=a&&p.route.id?a[p.route.id]:void 0,x=p.route.errorElement||wZ,s&&(l<0&&g===0?(BU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):l===g&&(b=!0,E=p.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,g+1)),w=()=>{let C;return y?C=x:b?C=E:p.route.Component?C=B.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=d,B.createElement(SZ,{match:p,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?B.createElement(bZ,{location:n.location,revalidation:n.revalidation,component:x,error:y,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:f}):w()},null)}function UA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EZ(e){let t=B.useContext(Nc);return Cn(t,UA(e)),t}function CZ(e){let t=B.useContext(pm);return Cn(t,UA(e)),t}function TZ(e){let t=B.useContext(Sa);return Cn(t,UA(e)),t}function BA(e){let t=TZ(e),n=t.matches[t.matches.length-1];return Cn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function AZ(){return BA("useRouteId")}function RZ(){let e=B.useContext(FA),t=CZ("useRouteError"),n=BA("useRouteError");return e!==void 0?e:t.errors?.[n]}function PZ(){let{router:e}=EZ("useNavigate"),t=BA("useNavigate"),n=B.useRef(!1);return UU(()=>{n.current=!0}),B.useCallback(async(i,o={})=>{Lr(n.current,jU),n.current&&(typeof i=="number"?await e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var ek={};function BU(e,t,n){!t&&!ek[e]&&(ek[e]=!0,Lr(!1,n))}var tk={};function nk(e,t){!e&&!tk[t]&&(tk[t]=!0,console.warn(t))}var OZ="useOptimistic",rk=kp[OZ];function MZ(e){return rk?rk(e):[e,()=>{}]}function LZ(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Lr(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:B.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Lr(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:B.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Lr(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:B.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var IZ=["HydrateFallback","hydrateFallbackElement"],kZ=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function DZ({router:e,flushSync:t,unstable_onError:n,unstable_useTransitions:r}){let[i,o]=B.useState(e.state),[a,s]=MZ(i),[l,f]=B.useState(),[d,p]=B.useState({isTransitioning:!1}),[g,y]=B.useState(),[b,x]=B.useState(),[E,v]=B.useState(),w=B.useRef(new Map),C=B.useCallback((M,{deletedFetchers:W,newErrors:ee,flushSync:z,viewTransitionOpts:H})=>{ee&&n&&Object.values(ee).forEach(oe=>n(oe,{location:M.location,params:M.matches[0]?.params??{},unstable_pattern:hm(M.matches)})),M.fetchers.forEach((oe,ue)=>{oe.data!==void 0&&w.current.set(ue,oe.data)}),W.forEach(oe=>w.current.delete(oe)),nk(z===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let te=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(nk(H==null||te,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!H||!te){t&&z?t(()=>o(M)):r===!1?o(M):B.startTransition(()=>{r===!0&&s(oe=>ik(oe,M)),o(M)});return}if(t&&z){t(()=>{b&&(g?.resolve(),b.skipTransition()),p({isTransitioning:!0,flushSync:!0,currentLocation:H.currentLocation,nextLocation:H.nextLocation})});let oe=e.window.document.startViewTransition(()=>{t(()=>o(M))});oe.finished.finally(()=>{t(()=>{y(void 0),x(void 0),f(void 0),p({isTransitioning:!1})})}),t(()=>x(oe));return}b?(g?.resolve(),b.skipTransition(),v({state:M,currentLocation:H.currentLocation,nextLocation:H.nextLocation})):(f(M),p({isTransitioning:!0,flushSync:!1,currentLocation:H.currentLocation,nextLocation:H.nextLocation}))},[e.window,t,b,g,r,s,n]);B.useLayoutEffect(()=>e.subscribe(C),[e,C]),B.useEffect(()=>{d.isTransitioning&&!d.flushSync&&y(new kZ)},[d]),B.useEffect(()=>{if(g&&l&&e.window){let M=l,W=g.promise,ee=e.window.document.startViewTransition(async()=>{r===!1?o(M):B.startTransition(()=>{r===!0&&s(z=>ik(z,M)),o(M)}),await W});ee.finished.finally(()=>{y(void 0),x(void 0),f(void 0),p({isTransitioning:!1})}),x(ee)}},[l,g,e.window,r,s]),B.useEffect(()=>{g&&l&&a.location.key===l.location.key&&g.resolve()},[g,b,a.location,l]),B.useEffect(()=>{!d.isTransitioning&&E&&(f(E.state),p({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),v(void 0))},[d.isTransitioning,E]);let P=B.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:M=>e.navigate(M),push:(M,W,ee)=>e.navigate(M,{state:W,preventScrollReset:ee?.preventScrollReset}),replace:(M,W,ee)=>e.navigate(M,{replace:!0,state:W,preventScrollReset:ee?.preventScrollReset})}),[e]),R=e.basename||"/",k=B.useMemo(()=>({router:e,navigator:P,static:!1,basename:R,unstable_onError:n}),[e,P,R,n]);return B.createElement(B.Fragment,null,B.createElement(Nc.Provider,{value:k},B.createElement(pm.Provider,{value:a},B.createElement(FU.Provider,{value:w.current},B.createElement(NA.Provider,{value:d},B.createElement(jZ,{basename:R,location:a.location,navigationType:a.historyAction,navigator:P,unstable_useTransitions:r===!0},B.createElement(NZ,{routes:e.routes,future:e.future,state:a,unstable_onError:n})))))),null)}function ik(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var NZ=B.memo(FZ);function FZ({routes:e,future:t,state:n,unstable_onError:r}){return vZ(e,void 0,n,r,t)}function $A({to:e,replace:t,state:n,relative:r}){Cn(xd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=B.useContext(ba);Lr(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(Sa),{pathname:a}=du(),s=Fc(),l=Q_(e,Z_(o),a,r==="path"),f=JSON.stringify(l);return B.useEffect(()=>{s(JSON.parse(f),{replace:t,state:n,relative:r})},[s,f,r,t,n]),null}function X_(e){return yZ(e.context)}function jZ({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){Cn(!xd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=B.useMemo(()=>({basename:s,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[s,i,o,a]);typeof n=="string"&&(n=wl(n));let{pathname:f="/",search:d="",hash:p="",state:g=null,key:y="default"}=n,b=B.useMemo(()=>{let x=va(f,s);return x==null?null:{location:{pathname:x,search:d,hash:p,state:g,key:y},navigationType:r}},[s,f,d,p,g,y,r]);return Lr(b!=null,`<Router basename="${s}"> is not able to match the URL "${f}${d}${p}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:B.createElement(ba.Provider,{value:l},B.createElement(Y_.Provider,{children:t,value:b}))}var Mv="get",Lv="application/x-www-form-urlencoded";function ew(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function UZ(e){return ew(e)&&e.tagName.toLowerCase()==="button"}function BZ(e){return ew(e)&&e.tagName.toLowerCase()==="form"}function $Z(e){return ew(e)&&e.tagName.toLowerCase()==="input"}function zZ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qZ(e,t){return e.button===0&&(!t||t==="_self")&&!zZ(e)}function mT(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function HZ(e,t){let n=mT(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var ny=null;function VZ(){if(ny===null)try{new FormData(document.createElement("form"),0),ny=!1}catch{ny=!0}return ny}var KZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function h1(e){return e!=null&&!KZ.has(e)?(Lr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Lv}"`),null):e}function GZ(e,t){let n,r,i,o,a;if(BZ(e)){let s=e.getAttribute("action");r=s?va(s,t):null,n=e.getAttribute("method")||Mv,i=h1(e.getAttribute("enctype"))||Lv,o=new FormData(e)}else if(UZ(e)||$Z(e)&&(e.type==="submit"||e.type==="image")){let s=e.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||s.getAttribute("action");if(r=l?va(l,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Mv,i=h1(e.getAttribute("formenctype"))||h1(s.getAttribute("enctype"))||Lv,o=new FormData(s,e),!VZ()){let{name:f,type:d,value:p}=e;if(d==="image"){let g=f?`${f}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else f&&o.append(f,p)}}else{if(ew(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Mv,r=null,i=Lv,a=e}return o&&i==="text/plain"&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function WZ(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&va(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function ZZ(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QZ(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JZ(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let a=await ZZ(o,n);return a.links?a.links():[]}return[]}));return tQ(r.flat(1).filter(QZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ok(e,t,n,r,i,o){let a=(l,f)=>n[f]?l.route.id!==n[f].route.id:!0,s=(l,f)=>n[f].pathname!==l.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,f)=>a(l,f)||s(l,f)):o==="data"?t.filter((l,f)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(a(l,f)||s(l,f))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function YZ(e,t,{includeHydrateFallback:n}={}){return XZ(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function XZ(e){return[...new Set(e)]}function eQ(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function tQ(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(eQ(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function $U(){let e=B.useContext(Nc);return zA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nQ(){let e=B.useContext(pm);return zA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qA=B.createContext(void 0);qA.displayName="FrameworkContext";function zU(){let e=B.useContext(qA);return zA(e,"You must render this element inside a <HydratedRouter> element"),e}function rQ(e,t){let n=B.useContext(qA),[r,i]=B.useState(!1),[o,a]=B.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:f,onMouseLeave:d,onTouchStart:p}=t,g=B.useRef(null);B.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let x=v=>{v.forEach(w=>{a(w.isIntersecting)})},E=new IntersectionObserver(x,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[e]),B.useEffect(()=>{if(r){let x=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(x)}}},[r]);let y=()=>{i(!0)},b=()=>{i(!1),a(!1)};return n?e!=="intent"?[o,g,{}]:[o,g,{onFocus:Nh(s,y),onBlur:Nh(l,b),onMouseEnter:Nh(f,y),onMouseLeave:Nh(d,b),onTouchStart:Nh(p,y)}]:[!1,g,{}]}function Nh(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function iQ({page:e,...t}){let{router:n}=$U(),r=B.useMemo(()=>il(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?B.createElement(aQ,{page:e,matches:r,...t}):null}function oQ(e){let{manifest:t,routeModules:n}=zU(),[r,i]=B.useState([]);return B.useEffect(()=>{let o=!1;return JZ(e,t,n).then(a=>{o||i(a)}),()=>{o=!0}},[e,t,n]),r}function aQ({page:e,matches:t,...n}){let r=du(),{manifest:i,routeModules:o}=zU(),{basename:a}=$U(),{loaderData:s,matches:l}=nQ(),f=B.useMemo(()=>ok(e,t,l,i,r,"data"),[e,t,l,i,r]),d=B.useMemo(()=>ok(e,t,l,i,r,"assets"),[e,t,l,i,r]),p=B.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(t.forEach(v=>{let w=i.routes[v.route.id];!w||!w.hasLoader||(!f.some(C=>C.route.id===v.route.id)&&v.route.id in s&&o[v.route.id]?.shouldRevalidate||w.hasClientLoader?x=!0:b.add(v.route.id))}),b.size===0)return[];let E=WZ(e,a,"data");return x&&b.size>0&&E.searchParams.set("_routes",t.filter(v=>b.has(v.route.id)).map(v=>v.route.id).join(",")),[E.pathname+E.search]},[a,s,r,i,f,t,e,o]),g=B.useMemo(()=>YZ(d,i),[d,i]),y=oQ(d);return B.createElement(B.Fragment,null,p.map(b=>B.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>B.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:x})=>B.createElement("link",{key:b,nonce:n.nonce,...x})))}function sQ(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var qU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qU&&(window.__reactRouterVersion="7.10.0")}catch{}function uQ(e,t){return HW({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:iW({window:t?.window}),hydrationData:lQ(),routes:e,mapRouteProperties:LZ,hydrationRouteProperties:IZ,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function lQ(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:cQ(e.errors)}),e}function cQ(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new J_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let a=new o(i.message);a.stack="",n[r]=a}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var HU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ga=B.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:a,state:s,target:l,to:f,preventScrollReset:d,viewTransition:p,...g},y){let{basename:b,unstable_useTransitions:x}=B.useContext(ba),E=typeof f=="string"&&HU.test(f),v,w=!1;if(typeof f=="string"&&E&&(v=f,qU))try{let z=new URL(window.location.href),H=f.startsWith("//")?new URL(z.protocol+f):new URL(f),te=va(H.pathname,b);H.origin===z.origin&&te!=null?f=te+H.search+H.hash:w=!0}catch{Lr(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=pZ(f,{relative:i}),[P,R,k]=rQ(r,g),M=hQ(f,{replace:a,state:s,target:l,preventScrollReset:d,relative:i,viewTransition:p,unstable_useTransitions:x});function W(z){t&&t(z),z.defaultPrevented||M(z)}let ee=B.createElement("a",{...g,...k,href:v||C,onClick:w||o?t:W,ref:sQ(y,R),target:l,"data-discover":!E&&n==="render"?"true":void 0});return P&&!E?B.createElement(B.Fragment,null,ee,B.createElement(iQ,{page:C})):ee});ga.displayName="Link";var VU=B.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:a,viewTransition:s,children:l,...f},d){let p=mm(a,{relative:f.relative}),g=du(),y=B.useContext(pm),{navigator:b,basename:x}=B.useContext(ba),E=y!=null&&_Q(p)&&s===!0,v=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,w=g.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(w=w.toLowerCase(),C=C?C.toLowerCase():null,v=v.toLowerCase()),C&&x&&(C=va(C,x)||C);const P=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let R=w===v||!i&&w.startsWith(v)&&w.charAt(P)==="/",k=C!=null&&(C===v||!i&&C.startsWith(v)&&C.charAt(v.length)==="/"),M={isActive:R,isPending:k,isTransitioning:E},W=R?t:void 0,ee;typeof r=="function"?ee=r(M):ee=[r,R?"active":null,k?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let z=typeof o=="function"?o(M):o;return B.createElement(ga,{...f,"aria-current":W,className:ee,ref:d,style:z,to:a,viewTransition:s},typeof l=="function"?l(M):l)});VU.displayName="NavLink";var fQ=B.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=Mv,action:s,onSubmit:l,relative:f,preventScrollReset:d,viewTransition:p,...g},y)=>{let{unstable_useTransitions:b}=B.useContext(ba),x=yQ(),E=vQ(s,{relative:f}),v=a.toLowerCase()==="get"?"get":"post",w=typeof s=="string"&&HU.test(s),C=P=>{if(l&&l(P),P.defaultPrevented)return;P.preventDefault();let R=P.nativeEvent.submitter,k=R?.getAttribute("formmethod")||a,M=()=>x(R||P.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:o,relative:f,preventScrollReset:d,viewTransition:p});b&&n!==!1?B.startTransition(()=>M()):M()};return B.createElement("form",{ref:y,method:v,action:E,onSubmit:r?l:C,...g,"data-discover":!w&&e==="render"?"true":void 0})});fQ.displayName="Form";function dQ(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KU(e){let t=B.useContext(Nc);return Cn(t,dQ(e)),t}function hQ(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_useTransitions:s}={}){let l=Fc(),f=du(),d=mm(e,{relative:o});return B.useCallback(p=>{if(qZ(p,t)){p.preventDefault();let g=n!==void 0?n:Es(f)===Es(d),y=()=>l(e,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:a});s?B.startTransition(()=>y()):y()}},[f,l,d,n,r,t,e,i,o,a,s])}function pQ(e){Lr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=B.useRef(mT(e)),n=B.useRef(!1),r=du(),i=B.useMemo(()=>HZ(r.search,n.current?null:t.current),[r.search]),o=Fc(),a=B.useCallback((s,l)=>{const f=mT(typeof s=="function"?s(new URLSearchParams(i)):s);n.current=!0,o("?"+f,l)},[o,i]);return[i,a]}var mQ=0,gQ=()=>`__${String(++mQ)}__`;function yQ(){let{router:e}=KU("useSubmit"),{basename:t}=B.useContext(ba),n=AZ(),r=e.fetch,i=e.navigate;return B.useCallback(async(o,a={})=>{let{action:s,method:l,encType:f,formData:d,body:p}=GZ(o,t);if(a.navigate===!1){let g=a.fetcherKey||gQ();await r(g,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||l,formEncType:a.encType||f,flushSync:a.flushSync})}else await i(a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||l,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function vQ(e,{relative:t}={}){let{basename:n}=B.useContext(ba),r=B.useContext(Sa);Cn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...mm(e||".",{relative:t})},a=du();if(e==null){o.search=a.search;let s=new URLSearchParams(o.search),l=s.getAll("index");if(l.some(d=>d==="")){s.delete("index"),l.filter(p=>p).forEach(p=>s.append("index",p));let d=s.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bs([n,o.pathname])),Es(o)}function _Q(e,{relative:t}={}){let n=B.useContext(NA);Cn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KU("useViewTransitionState"),i=mm(e,{relative:t});if(!n.isTransitioning)return!1;let o=va(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=va(n.nextLocation.pathname,r)||n.nextLocation.pathname;return i_(i.pathname,a)!=null||i_(i.pathname,o)!=null}function Iv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Iv=function(n){return typeof n}:Iv=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Iv(e)}function wQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bQ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function SQ(e,t,n){return t&&bQ(e.prototype,t),e}function xQ(e,t){return t&&(Iv(t)==="object"||typeof t=="function")?t:kv(e)}function gT(e){return gT=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gT(e)}function kv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yT(e,t)}function yT(e,t){return yT=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},yT(e,t)}function Dv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var GU=(function(e){EQ(t,e);function t(){var n,r;wQ(this,t);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return r=xQ(this,(n=gT(t)).call.apply(n,[this].concat(o))),Dv(kv(r),"state",{bootstrapped:!1}),Dv(kv(r),"_unsubscribe",void 0),Dv(kv(r),"handlePersistorState",function(){var s=r.props.persistor,l=s.getState(),f=l.bootstrapped;f&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return SQ(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t})(B.PureComponent);Dv(GU,"defaultProps",{children:null,loading:null});const CQ="modulepreload",TQ=function(e){return"/"+e},ak={},sk=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var a=f;document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");i=f(n.map(d=>{if(d=TQ(d),d in ak)return;ak[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":CQ,p||(y.as="script"),y.crossOrigin="",y.href=d,l&&y.setAttribute("nonce",l),document.head.appendChild(y),p)return new Promise((b,x)=>{y.addEventListener("load",b),y.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return i.then(s=>{for(const l of s||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},AQ=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},bl=YG,Dr=tW,WU="https://solidweb.me/solidcouch/community#us",ZU="solidcouch",QU="https://service.notifications.tired.bike",JU="https://id.notifications.tired.bike/profile/card#me",YU="simple",XU="",eB="",tB="SolidCouch",RQ="0.3.0",nB="8b7caa586106f73e07bc94f3976c86f27a2b2dbe",PQ=nB?.slice(0,7),uk="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",lk="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var fp={exports:{}};var OQ=fp.exports,ck;function MQ(){return ck||(ck=1,(function(e,t){(function(n,r){r(t)})(OQ,(function(n){var r="1.9.4";function i(h){var _,I,q,ne;for(I=1,q=arguments.length;I<q;I++){ne=arguments[I];for(_ in ne)h[_]=ne[_]}return h}var o=Object.create||(function(){function h(){}return function(_){return h.prototype=_,new h}})();function a(h,_){var I=Array.prototype.slice;if(h.bind)return h.bind.apply(h,I.call(arguments,1));var q=I.call(arguments,2);return function(){return h.apply(_,q.length?q.concat(I.call(arguments)):arguments)}}var s=0;function l(h){return"_leaflet_id"in h||(h._leaflet_id=++s),h._leaflet_id}function f(h,_,I){var q,ne,we,He;return He=function(){q=!1,ne&&(we.apply(I,ne),ne=!1)},we=function(){q?ne=arguments:(h.apply(I,arguments),setTimeout(He,_),q=!0)},we}function d(h,_,I){var q=_[1],ne=_[0],we=q-ne;return h===q&&I?h:((h-ne)%we+we)%we+ne}function p(){return!1}function g(h,_){if(_===!1)return h;var I=Math.pow(10,_===void 0?6:_);return Math.round(h*I)/I}function y(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function b(h){return y(h).split(/\s+/)}function x(h,_){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?o(h.options):{});for(var I in _)h.options[I]=_[I];return h.options}function E(h,_,I){var q=[];for(var ne in h)q.push(encodeURIComponent(I?ne.toUpperCase():ne)+"="+encodeURIComponent(h[ne]));return(!_||_.indexOf("?")===-1?"?":"&")+q.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function w(h,_){return h.replace(v,function(I,q){var ne=_[q];if(ne===void 0)throw new Error("No value provided for variable "+I);return typeof ne=="function"&&(ne=ne(_)),ne})}var C=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function P(h,_){for(var I=0;I<h.length;I++)if(h[I]===_)return I;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var M=0;function W(h){var _=+new Date,I=Math.max(0,16-(_-M));return M=_+I,window.setTimeout(h,I)}var ee=window.requestAnimationFrame||k("RequestAnimationFrame")||W,z=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function H(h,_,I){if(I&&ee===W)h.call(_);else return ee.call(window,a(h,_))}function te(h){h&&z.call(window,h)}var oe={__proto__:null,extend:i,create:o,bind:a,get lastId(){return s},stamp:l,throttle:f,wrapNum:d,falseFn:p,formatNum:g,trim:y,splitWords:b,setOptions:x,getParamString:E,template:w,isArray:C,indexOf:P,emptyImageUrl:R,requestFn:ee,cancelFn:z,requestAnimFrame:H,cancelAnimFrame:te};function ue(){}ue.extend=function(h){var _=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=_.__super__=this.prototype,q=o(I);q.constructor=_,_.prototype=q;for(var ne in this)Object.prototype.hasOwnProperty.call(this,ne)&&ne!=="prototype"&&ne!=="__super__"&&(_[ne]=this[ne]);return h.statics&&i(_,h.statics),h.includes&&(de(h.includes),i.apply(null,[q].concat(h.includes))),i(q,h),delete q.statics,delete q.includes,q.options&&(q.options=I.options?o(I.options):{},i(q.options,h.options)),q._initHooks=[],q.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var we=0,He=q._initHooks.length;we<He;we++)q._initHooks[we].call(this)}},_},ue.include=function(h){var _=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=_,this.mergeOptions(h.options)),this},ue.mergeOptions=function(h){return i(this.prototype.options,h),this},ue.addInitHook=function(h){var _=Array.prototype.slice.call(arguments,1),I=typeof h=="function"?h:function(){this[h].apply(this,_)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function de(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=C(h)?h:[h];for(var _=0;_<h.length;_++)h[_]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(h,_,I){if(typeof h=="object")for(var q in h)this._on(q,h[q],_);else{h=b(h);for(var ne=0,we=h.length;ne<we;ne++)this._on(h[ne],_,I)}return this},off:function(h,_,I){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var q in h)this._off(q,h[q],_);else{h=b(h);for(var ne=arguments.length===1,we=0,He=h.length;we<He;we++)ne?this._off(h[we]):this._off(h[we],_,I)}return this},_on:function(h,_,I,q){if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}if(this._listens(h,_,I)===!1){I===this&&(I=void 0);var ne={fn:_,ctx:I};q&&(ne.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(ne)}},_off:function(h,_,I){var q,ne,we;if(this._events&&(q=this._events[h],!!q)){if(arguments.length===1){if(this._firingCount)for(ne=0,we=q.length;ne<we;ne++)q[ne].fn=p;delete this._events[h];return}if(typeof _!="function"){console.warn("wrong listener type: "+typeof _);return}var He=this._listens(h,_,I);if(He!==!1){var ot=q[He];this._firingCount&&(ot.fn=p,this._events[h]=q=q.slice()),q.splice(He,1)}}},fire:function(h,_,I){if(!this.listens(h,I))return this;var q=i({},_,{type:h,target:this,sourceTarget:_&&_.sourceTarget||this});if(this._events){var ne=this._events[h];if(ne){this._firingCount=this._firingCount+1||1;for(var we=0,He=ne.length;we<He;we++){var ot=ne[we],ht=ot.fn;ot.once&&this.off(h,ht,ot.ctx),ht.call(ot.ctx||this,q)}this._firingCount--}}return I&&this._propagateEvent(q),this},listens:function(h,_,I,q){typeof h!="string"&&console.warn('"string" type argument expected');var ne=_;typeof _!="function"&&(q=!!_,ne=void 0,I=void 0);var we=this._events&&this._events[h];if(we&&we.length&&this._listens(h,ne,I)!==!1)return!0;if(q){for(var He in this._eventParents)if(this._eventParents[He].listens(h,_,I,q))return!0}return!1},_listens:function(h,_,I){if(!this._events)return!1;var q=this._events[h]||[];if(!_)return!!q.length;I===this&&(I=void 0);for(var ne=0,we=q.length;ne<we;ne++)if(q[ne].fn===_&&q[ne].ctx===I)return ne;return!1},once:function(h,_,I){if(typeof h=="object")for(var q in h)this._on(q,h[q],_,!0);else{h=b(h);for(var ne=0,we=h.length;ne<we;ne++)this._on(h[ne],_,I,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[l(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[l(h)],this},_propagateEvent:function(h){for(var _ in this._eventParents)this._eventParents[_].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var pe=ue.extend(se);function re(h,_,I){this.x=I?Math.round(h):h,this.y=I?Math.round(_):_}var Ee=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(h){return this.clone()._add($(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract($(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new re(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new re(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ee(this.x),this.y=Ee(this.y),this},distanceTo:function(h){h=$(h);var _=h.x-this.x,I=h.y-this.y;return Math.sqrt(_*_+I*I)},equals:function(h){return h=$(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=$(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function $(h,_,I){return h instanceof re?h:C(h)?new re(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new re(h.x,h.y):new re(h,_,I)}function Q(h,_){if(h)for(var I=_?[h,_]:h,q=0,ne=I.length;q<ne;q++)this.extend(I[q])}Q.prototype={extend:function(h){var _,I;if(!h)return this;if(h instanceof re||typeof h[0]=="number"||"x"in h)_=I=$(h);else if(h=ce(h),_=h.min,I=h.max,!_||!I)return this;return!this.min&&!this.max?(this.min=_.clone(),this.max=I.clone()):(this.min.x=Math.min(_.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(_.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(h){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var _,I;return typeof h[0]=="number"||h instanceof re?h=$(h):h=ce(h),h instanceof Q?(_=h.min,I=h.max):_=I=h,_.x>=this.min.x&&I.x<=this.max.x&&_.y>=this.min.y&&I.y<=this.max.y},intersects:function(h){h=ce(h);var _=this.min,I=this.max,q=h.min,ne=h.max,we=ne.x>=_.x&&q.x<=I.x,He=ne.y>=_.y&&q.y<=I.y;return we&&He},overlaps:function(h){h=ce(h);var _=this.min,I=this.max,q=h.min,ne=h.max,we=ne.x>_.x&&q.x<I.x,He=ne.y>_.y&&q.y<I.y;return we&&He},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var _=this.min,I=this.max,q=Math.abs(_.x-I.x)*h,ne=Math.abs(_.y-I.y)*h;return ce($(_.x-q,_.y-ne),$(I.x+q,I.y+ne))},equals:function(h){return h?(h=ce(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function ce(h,_){return!h||h instanceof Q?h:new Q(h,_)}function G(h,_){if(h)for(var I=_?[h,_]:h,q=0,ne=I.length;q<ne;q++)this.extend(I[q])}G.prototype={extend:function(h){var _=this._southWest,I=this._northEast,q,ne;if(h instanceof ge)q=h,ne=h;else if(h instanceof G){if(q=h._southWest,ne=h._northEast,!q||!ne)return this}else return h?this.extend(xe(h)||X(h)):this;return!_&&!I?(this._southWest=new ge(q.lat,q.lng),this._northEast=new ge(ne.lat,ne.lng)):(_.lat=Math.min(q.lat,_.lat),_.lng=Math.min(q.lng,_.lng),I.lat=Math.max(ne.lat,I.lat),I.lng=Math.max(ne.lng,I.lng)),this},pad:function(h){var _=this._southWest,I=this._northEast,q=Math.abs(_.lat-I.lat)*h,ne=Math.abs(_.lng-I.lng)*h;return new G(new ge(_.lat-q,_.lng-ne),new ge(I.lat+q,I.lng+ne))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ge||"lat"in h?h=xe(h):h=X(h);var _=this._southWest,I=this._northEast,q,ne;return h instanceof G?(q=h.getSouthWest(),ne=h.getNorthEast()):q=ne=h,q.lat>=_.lat&&ne.lat<=I.lat&&q.lng>=_.lng&&ne.lng<=I.lng},intersects:function(h){h=X(h);var _=this._southWest,I=this._northEast,q=h.getSouthWest(),ne=h.getNorthEast(),we=ne.lat>=_.lat&&q.lat<=I.lat,He=ne.lng>=_.lng&&q.lng<=I.lng;return we&&He},overlaps:function(h){h=X(h);var _=this._southWest,I=this._northEast,q=h.getSouthWest(),ne=h.getNorthEast(),we=ne.lat>_.lat&&q.lat<I.lat,He=ne.lng>_.lng&&q.lng<I.lng;return we&&He},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,_){return h?(h=X(h),this._southWest.equals(h.getSouthWest(),_)&&this._northEast.equals(h.getNorthEast(),_)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function X(h,_){return h instanceof G?h:new G(h,_)}function ge(h,_,I){if(isNaN(h)||isNaN(_))throw new Error("Invalid LatLng object: ("+h+", "+_+")");this.lat=+h,this.lng=+_,I!==void 0&&(this.alt=+I)}ge.prototype={equals:function(h,_){if(!h)return!1;h=xe(h);var I=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return I<=(_===void 0?1e-9:_)},toString:function(h){return"LatLng("+g(this.lat,h)+", "+g(this.lng,h)+")"},distanceTo:function(h){return Pe.distance(this,xe(h))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(h){var _=180*h/40075017,I=_/Math.cos(Math.PI/180*this.lat);return X([this.lat-_,this.lng-I],[this.lat+_,this.lng+I])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function xe(h,_,I){return h instanceof ge?h:C(h)&&typeof h[0]!="object"?h.length===3?new ge(h[0],h[1],h[2]):h.length===2?new ge(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ge(h.lat,"lng"in h?h.lng:h.lon,h.alt):_===void 0?null:new ge(h,_,I)}var Ve={latLngToPoint:function(h,_){var I=this.projection.project(h),q=this.scale(_);return this.transformation._transform(I,q)},pointToLatLng:function(h,_){var I=this.scale(_),q=this.transformation.untransform(h,I);return this.projection.unproject(q)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var _=this.projection.bounds,I=this.scale(h),q=this.transformation.transform(_.min,I),ne=this.transformation.transform(_.max,I);return new Q(q,ne)},infinite:!1,wrapLatLng:function(h){var _=this.wrapLng?d(h.lng,this.wrapLng,!0):h.lng,I=this.wrapLat?d(h.lat,this.wrapLat,!0):h.lat,q=h.alt;return new ge(I,_,q)},wrapLatLngBounds:function(h){var _=h.getCenter(),I=this.wrapLatLng(_),q=_.lat-I.lat,ne=_.lng-I.lng;if(q===0&&ne===0)return h;var we=h.getSouthWest(),He=h.getNorthEast(),ot=new ge(we.lat-q,we.lng-ne),ht=new ge(He.lat-q,He.lng-ne);return new G(ot,ht)}},Pe=i({},Ve,{wrapLng:[-180,180],R:6371e3,distance:function(h,_){var I=Math.PI/180,q=h.lat*I,ne=_.lat*I,we=Math.sin((_.lat-h.lat)*I/2),He=Math.sin((_.lng-h.lng)*I/2),ot=we*we+Math.cos(q)*Math.cos(ne)*He*He,ht=2*Math.atan2(Math.sqrt(ot),Math.sqrt(1-ot));return this.R*ht}}),Be=6378137,Je={R:Be,MAX_LATITUDE:85.0511287798,project:function(h){var _=Math.PI/180,I=this.MAX_LATITUDE,q=Math.max(Math.min(I,h.lat),-I),ne=Math.sin(q*_);return new re(this.R*h.lng*_,this.R*Math.log((1+ne)/(1-ne))/2)},unproject:function(h){var _=180/Math.PI;return new ge((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*_,h.x*_/this.R)},bounds:(function(){var h=Be*Math.PI;return new Q([-h,-h],[h,h])})()};function fe(h,_,I,q){if(C(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=_,this._c=I,this._d=q}fe.prototype={transform:function(h,_){return this._transform(h.clone(),_)},_transform:function(h,_){return _=_||1,h.x=_*(this._a*h.x+this._b),h.y=_*(this._c*h.y+this._d),h},untransform:function(h,_){return _=_||1,new re((h.x/_-this._b)/this._a,(h.y/_-this._d)/this._c)}};function V(h,_,I,q){return new fe(h,_,I,q)}var j=i({},Pe,{code:"EPSG:3857",projection:Je,transformation:(function(){var h=.5/(Math.PI*Je.R);return V(h,.5,-h,.5)})()}),ie=i({},j,{code:"EPSG:900913"});function me(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Te(h,_){var I="",q,ne,we,He,ot,ht;for(q=0,we=h.length;q<we;q++){for(ot=h[q],ne=0,He=ot.length;ne<He;ne++)ht=ot[ne],I+=(ne?"L":"M")+ht.x+" "+ht.y;I+=_?lt.svg?"z":"x":""}return I||"M0 0"}var Le=document.documentElement.style,rt="ActiveXObject"in window,Ie=rt&&!document.addEventListener,ye="msLaunchUri"in navigator&&!("documentMode"in document),Ae=ut("webkit"),Me=ut("android"),tt=ut("android 2")||ut("android 3"),mt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ye=Me&&ut("Google")&&mt<537&&!("AudioNode"in window),qe=!!window.opera,ae=!ye&&ut("chrome"),K=ut("gecko")&&!Ae&&!qe&&!rt,Y=!ae&&ut("safari"),J=ut("phantom"),Ge="OTransition"in Le,et=navigator.platform.indexOf("Win")===0,Ke=rt&&"transition"in Le,Pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!tt,tn="MozPerspective"in Le,zt=!window.L_DISABLE_3D&&(Ke||Pt||tn)&&!Ge&&!J,Zt=typeof orientation<"u"||ut("mobile"),Yt=Zt&&Ae,ai=Zt&&Pt,Tn=!window.PointerEvent&&window.MSPointerEvent,nn=!!(window.PointerEvent||Tn),Er="ontouchstart"in window||!!window.TouchEvent,un=!window.L_NO_TOUCH&&(Er||nn),fr=Zt&&qe,dr=Zt&&K,Cr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Re=(function(){var h=!1;try{var _=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,_),window.removeEventListener("testPassiveEventSupport",p,_)}catch{}return h})(),Ue=(function(){return!!document.createElement("canvas").getContext})(),Ct=!!(document.createElementNS&&me("svg").createSVGRect),At=!!Ct&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Dt=!Ct&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var _=h.firstChild;return _.style.behavior="url(#default#VML)",_&&typeof _.adj=="object"}catch{return!1}})(),$e=navigator.platform.indexOf("Mac")===0,Xe=navigator.platform.indexOf("Linux")===0;function ut(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var lt={ie:rt,ielt9:Ie,edge:ye,webkit:Ae,android:Me,android23:tt,androidStock:Ye,opera:qe,chrome:ae,gecko:K,safari:Y,phantom:J,opera12:Ge,win:et,ie3d:Ke,webkit3d:Pt,gecko3d:tn,any3d:zt,mobile:Zt,mobileWebkit:Yt,mobileWebkit3d:ai,msPointer:Tn,pointer:nn,touch:un,touchNative:Er,mobileOpera:fr,mobileGecko:dr,retina:Cr,passiveEvents:Re,canvas:Ue,svg:Ct,vml:Dt,inlineSvg:At,mac:$e,linux:Xe},Ot=lt.msPointer?"MSPointerDown":"pointerdown",qt=lt.msPointer?"MSPointerMove":"pointermove",jt=lt.msPointer?"MSPointerUp":"pointerup",Lt=lt.msPointer?"MSPointerCancel":"pointercancel",It={touchstart:Ot,touchmove:qt,touchend:jt,touchcancel:Lt},Bt={touchstart:Qr,touchmove:sr,touchend:sr,touchcancel:sr},Rt={},wt=!1;function Nt(h,_,I){return _==="touchstart"&&pn(),Bt[_]?(I=Bt[_].bind(this,I),h.addEventListener(It[_],I,!1),I):(console.warn("wrong event specified:",_),p)}function Jt(h,_,I){if(!It[_]){console.warn("wrong event specified:",_);return}h.removeEventListener(It[_],I,!1)}function cn(h){Rt[h.pointerId]=h}function An(h){Rt[h.pointerId]&&(Rt[h.pointerId]=h)}function Gt(h){delete Rt[h.pointerId]}function pn(){wt||(document.addEventListener(Ot,cn,!0),document.addEventListener(qt,An,!0),document.addEventListener(jt,Gt,!0),document.addEventListener(Lt,Gt,!0),wt=!0)}function sr(h,_){if(_.pointerType!==(_.MSPOINTER_TYPE_MOUSE||"mouse")){_.touches=[];for(var I in Rt)_.touches.push(Rt[I]);_.changedTouches=[_],h(_)}}function Qr(h,_){_.MSPOINTER_TYPE_TOUCH&&_.pointerType===_.MSPOINTER_TYPE_TOUCH&&tr(_),sr(h,_)}function Ln(h){var _={},I,q;for(q in h)I=h[q],_[q]=I&&I.bind?I.bind(h):I;return h=_,_.type="dblclick",_.detail=2,_.isTrusted=!1,_._simulated=!0,_}var hr=200;function na(h,_){h.addEventListener("dblclick",_);var I=0,q;function ne(we){if(we.detail!==1){q=we.detail;return}if(!(we.pointerType==="mouse"||we.sourceCapabilities&&!we.sourceCapabilities.firesTouchEvents)){var He=Oo(we);if(!(He.some(function(ht){return ht instanceof HTMLLabelElement&&ht.attributes.for})&&!He.some(function(ht){return ht instanceof HTMLInputElement||ht instanceof HTMLSelectElement}))){var ot=Date.now();ot-I<=hr?(q++,q===2&&_(Ln(we))):q=1,I=ot}}}return h.addEventListener("click",ne),{dblclick:_,simDblclick:ne}}function si(h,_){h.removeEventListener("dblclick",_.dblclick),h.removeEventListener("click",_.simDblclick)}var pr=nt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vi=nt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wi=vi==="webkitTransition"||vi==="OTransition"?vi+"End":"transitionend";function T(h){return typeof h=="string"?document.getElementById(h):h}function A(h,_){var I=h.style[_]||h.currentStyle&&h.currentStyle[_];if((!I||I==="auto")&&document.defaultView){var q=document.defaultView.getComputedStyle(h,null);I=q?q[_]:null}return I==="auto"?null:I}function O(h,_,I){var q=document.createElement(h);return q.className=_||"",I&&I.appendChild(q),q}function N(h){var _=h.parentNode;_&&_.removeChild(h)}function Z(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function he(h){var _=h.parentNode;_&&_.lastChild!==h&&_.appendChild(h)}function ve(h){var _=h.parentNode;_&&_.firstChild!==h&&_.insertBefore(h,_.firstChild)}function Oe(h,_){if(h.classList!==void 0)return h.classList.contains(_);var I=Ne(h);return I.length>0&&new RegExp("(^|\\s)"+_+"(\\s|$)").test(I)}function Se(h,_){if(h.classList!==void 0)for(var I=b(_),q=0,ne=I.length;q<ne;q++)h.classList.add(I[q]);else if(!Oe(h,_)){var we=Ne(h);ke(h,(we?we+" ":"")+_)}}function Ce(h,_){h.classList!==void 0?h.classList.remove(_):ke(h,y((" "+Ne(h)+" ").replace(" "+_+" "," ")))}function ke(h,_){h.className.baseVal===void 0?h.className=_:h.className.baseVal=_}function Ne(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function je(h,_){"opacity"in h.style?h.style.opacity=_:"filter"in h.style&&Ze(h,_)}function Ze(h,_){var I=!1,q="DXImageTransform.Microsoft.Alpha";try{I=h.filters.item(q)}catch{if(_===1)return}_=Math.round(_*100),I?(I.Enabled=_!==100,I.Opacity=_):h.style.filter+=" progid:"+q+"(opacity="+_+")"}function nt(h){for(var _=document.documentElement.style,I=0;I<h.length;I++)if(h[I]in _)return h[I];return!1}function ct(h,_,I){var q=_||new re(0,0);h.style[pr]=(lt.ie3d?"translate("+q.x+"px,"+q.y+"px)":"translate3d("+q.x+"px,"+q.y+"px,0)")+(I?" scale("+I+")":"")}function at(h,_){h._leaflet_pos=_,lt.any3d?ct(h,_):(h.style.left=_.x+"px",h.style.top=_.y+"px")}function _e(h){return h._leaflet_pos||new re(0,0)}var De,Fe,ze;if("onselectstart"in document)De=function(){Kt(window,"selectstart",tr)},Fe=function(){ln(window,"selectstart",tr)};else{var st=nt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(st){var h=document.documentElement.style;ze=h[st],h[st]="none"}},Fe=function(){st&&(document.documentElement.style[st]=ze,ze=void 0)}}function gt(){Kt(window,"dragstart",tr)}function $t(){ln(window,"dragstart",tr)}var Tt,fn;function Ft(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(Ht(),Tt=h,fn=h.style.outlineStyle,h.style.outlineStyle="none",Kt(window,"keydown",Ht))}function Ht(){Tt&&(Tt.style.outlineStyle=fn,Tt=void 0,fn=void 0,ln(window,"keydown",Ht))}function jn(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Un(h){var _=h.getBoundingClientRect();return{x:_.width/h.offsetWidth||1,y:_.height/h.offsetHeight||1,boundingClientRect:_}}var Nn={__proto__:null,TRANSFORM:pr,TRANSITION:vi,TRANSITION_END:Wi,get:T,getStyle:A,create:O,remove:N,empty:Z,toFront:he,toBack:ve,hasClass:Oe,addClass:Se,removeClass:Ce,setClass:ke,getClass:Ne,setOpacity:je,testProp:nt,setTransform:ct,setPosition:at,getPosition:_e,get disableTextSelection(){return De},get enableTextSelection(){return Fe},disableImageDrag:gt,enableImageDrag:$t,preventOutline:Ft,restoreOutline:Ht,getSizedParentNode:jn,getScale:Un};function Kt(h,_,I,q){if(_&&typeof _=="object")for(var ne in _)Vn(h,ne,_[ne],I);else{_=b(_);for(var we=0,He=_.length;we<He;we++)Vn(h,_[we],I,q)}return this}var Qn="_leaflet_events";function ln(h,_,I,q){if(arguments.length===1)mr(h),delete h[Qn];else if(_&&typeof _=="object")for(var ne in _)Rr(h,ne,_[ne],I);else if(_=b(_),arguments.length===2)mr(h,function(ot){return P(_,ot)!==-1});else for(var we=0,He=_.length;we<He;we++)Rr(h,_[we],I,q);return this}function mr(h,_){for(var I in h[Qn]){var q=I.split(/\d/)[0];(!_||_(q))&&Rr(h,q,null,null,I)}}var er={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vn(h,_,I,q){var ne=_+l(I)+(q?"_"+l(q):"");if(h[Qn]&&h[Qn][ne])return this;var we=function(ot){return I.call(q||h,ot||window.event)},He=we;!lt.touchNative&&lt.pointer&&_.indexOf("touch")===0?we=Nt(h,_,we):lt.touch&&_==="dblclick"?we=na(h,we):"addEventListener"in h?_==="touchstart"||_==="touchmove"||_==="wheel"||_==="mousewheel"?h.addEventListener(er[_]||_,we,lt.passiveEvents?{passive:!1}:!1):_==="mouseenter"||_==="mouseleave"?(we=function(ot){ot=ot||window.event,xi(h,ot)&&He(ot)},h.addEventListener(er[_],we,!1)):h.addEventListener(_,He,!1):h.attachEvent("on"+_,we),h[Qn]=h[Qn]||{},h[Qn][ne]=we}function Rr(h,_,I,q,ne){ne=ne||_+l(I)+(q?"_"+l(q):"");var we=h[Qn]&&h[Qn][ne];if(!we)return this;!lt.touchNative&&lt.pointer&&_.indexOf("touch")===0?Jt(h,_,we):lt.touch&&_==="dblclick"?si(h,we):"removeEventListener"in h?h.removeEventListener(er[_]||_,we,!1):h.detachEvent("on"+_,we),h[Qn][ne]=null}function ui(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function li(h){return Vn(h,"wheel",ui),this}function Zi(h){return Kt(h,"mousedown touchstart dblclick contextmenu",ui),h._leaflet_disable_click=!0,this}function tr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function uo(h){return tr(h),ui(h),this}function Oo(h){if(h.composedPath)return h.composedPath();for(var _=[],I=h.target;I;)_.push(I),I=I.parentNode;return _}function ci(h,_){if(!_)return new re(h.clientX,h.clientY);var I=Un(_),q=I.boundingClientRect;return new re((h.clientX-q.left)/I.x-_.clientLeft,(h.clientY-q.top)/I.y-_.clientTop)}var Si=lt.linux&&lt.chrome?window.devicePixelRatio:lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function jr(h){return lt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/Si:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function xi(h,_){var I=_.relatedTarget;if(!I)return!0;try{for(;I&&I!==h;)I=I.parentNode}catch{return!1}return I!==h}var Ca={__proto__:null,on:Kt,off:ln,stopPropagation:ui,disableScrollPropagation:li,disableClickPropagation:Zi,preventDefault:tr,stop:uo,getPropagationPath:Oo,getMousePosition:ci,getWheelDelta:jr,isExternalTarget:xi,addListener:Kt,removeListener:ln},lo=pe.extend({run:function(h,_,I,q){this.stop(),this._el=h,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(q||.5,.2),this._startPos=_e(h),this._offset=_.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(h){var _=+new Date-this._startTime,I=this._duration*1e3;_<I?this._runFrame(this._easeOut(_/I),h):(this._runFrame(1),this._complete())},_runFrame:function(h,_){var I=this._startPos.add(this._offset.multiplyBy(h));_&&I._round(),at(this._el,I),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),bn=pe.extend({options:{crs:j,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,_){_=x(this,_),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),_.maxBounds&&this.setMaxBounds(_.maxBounds),_.zoom!==void 0&&(this._zoom=this._limitZoom(_.zoom)),_.center&&_.zoom!==void 0&&this.setView(xe(_.center),_.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vi&&lt.any3d&&!lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Kt(this._proxy,Wi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,_,I){if(_=_===void 0?this._zoom:this._limitZoom(_),h=this._limitCenter(xe(h),_,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=i({animate:I.animate},I.zoom),I.pan=i({animate:I.animate,duration:I.duration},I.pan));var q=this._zoom!==_?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,_,I.zoom):this._tryAnimatedPan(h,I.pan);if(q)return clearTimeout(this._sizeTimer),this}return this._resetView(h,_,I.pan&&I.pan.noMoveStart),this},setZoom:function(h,_){return this._loaded?this.setView(this.getCenter(),h,{zoom:_}):(this._zoom=h,this)},zoomIn:function(h,_){return h=h||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,_)},zoomOut:function(h,_){return h=h||(lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,_)},setZoomAround:function(h,_,I){var q=this.getZoomScale(_),ne=this.getSize().divideBy(2),we=h instanceof re?h:this.latLngToContainerPoint(h),He=we.subtract(ne).multiplyBy(1-1/q),ot=this.containerPointToLatLng(ne.add(He));return this.setView(ot,_,{zoom:I})},_getBoundsCenterZoom:function(h,_){_=_||{},h=h.getBounds?h.getBounds():X(h);var I=$(_.paddingTopLeft||_.padding||[0,0]),q=$(_.paddingBottomRight||_.padding||[0,0]),ne=this.getBoundsZoom(h,!1,I.add(q));if(ne=typeof _.maxZoom=="number"?Math.min(_.maxZoom,ne):ne,ne===1/0)return{center:h.getCenter(),zoom:ne};var we=q.subtract(I).divideBy(2),He=this.project(h.getSouthWest(),ne),ot=this.project(h.getNorthEast(),ne),ht=this.unproject(He.add(ot).divideBy(2).add(we),ne);return{center:ht,zoom:ne}},fitBounds:function(h,_){if(h=X(h),!h.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(h,_);return this.setView(I.center,I.zoom,_)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,_){return this.setView(h,this._zoom,{pan:_})},panBy:function(h,_){if(h=$(h).round(),_=_||{},!h.x&&!h.y)return this.fire("moveend");if(_.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lo,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),_.noMoveStart||this.fire("movestart"),_.animate!==!1){Se(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,I,_.duration||.25,_.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,_,I){if(I=I||{},I.animate===!1||!lt.any3d)return this.setView(h,_,I);this._stop();var q=this.project(this.getCenter()),ne=this.project(h),we=this.getSize(),He=this._zoom;h=xe(h),_=_===void 0?He:_;var ot=Math.max(we.x,we.y),ht=ot*this.getZoomScale(He,_),xt=ne.distanceTo(q)||1,kt=1.42,Qt=kt*kt;function gn(Pr){var Oa=Pr?-1:1,ks=Pr?ht:ot,th=ht*ht-ot*ot+Oa*Qt*Qt*xt*xt,zl=2*ks*Qt*xt,ql=th/zl,ss=Math.sqrt(ql*ql+1)-ql,Ma=ss<1e-9?-18:Math.log(ss);return Ma}function di(Pr){return(Math.exp(Pr)-Math.exp(-Pr))/2}function Ur(Pr){return(Math.exp(Pr)+Math.exp(-Pr))/2}function Ji(Pr){return di(Pr)/Ur(Pr)}var Bn=gn(0);function $n(Pr){return ot*(Ur(Bn)/Ur(Bn+kt*Pr))}function Rn(Pr){return ot*(Ur(Bn)*Ji(Bn+kt*Pr)-di(Bn))/Qt}function os(Pr){return 1-Math.pow(1-Pr,1.5)}var mo=Date.now(),uf=(gn(1)-Bn)/kt,as=I.duration?1e3*I.duration:1e3*uf*.8;function eh(){var Pr=(Date.now()-mo)/as,Oa=os(Pr)*uf;Pr<=1?(this._flyToFrame=H(eh,this),this._move(this.unproject(q.add(ne.subtract(q).multiplyBy(Rn(Oa)/xt)),He),this.getScaleZoom(ot/$n(Oa),He),{flyTo:!0})):this._move(h,_)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),eh.call(this),this},flyToBounds:function(h,_){var I=this._getBoundsCenterZoom(h,_);return this.flyTo(I.center,I.zoom,_)},setMaxBounds:function(h){return h=X(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var _=this.options.minZoom;return this.options.minZoom=h,this._loaded&&_!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var _=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&_!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,_){this._enforcingBounds=!0;var I=this.getCenter(),q=this._limitCenter(I,this._zoom,X(h));return I.equals(q)||this.panTo(q,_),this._enforcingBounds=!1,this},panInside:function(h,_){_=_||{};var I=$(_.paddingTopLeft||_.padding||[0,0]),q=$(_.paddingBottomRight||_.padding||[0,0]),ne=this.project(this.getCenter()),we=this.project(h),He=this.getPixelBounds(),ot=ce([He.min.add(I),He.max.subtract(q)]),ht=ot.getSize();if(!ot.contains(we)){this._enforcingBounds=!0;var xt=we.subtract(ot.getCenter()),kt=ot.extend(we).getSize().subtract(ht);ne.x+=xt.x<0?-kt.x:kt.x,ne.y+=xt.y<0?-kt.y:kt.y,this.panTo(this.unproject(ne),_),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var _=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),q=_.divideBy(2).round(),ne=I.divideBy(2).round(),we=q.subtract(ne);return!we.x&&!we.y?this:(h.animate&&h.pan?this.panBy(we):(h.pan&&this._rawPanBy(we),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:_,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var _=a(this._handleGeolocationResponse,this),I=a(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(_,I,h):navigator.geolocation.getCurrentPosition(_,I,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var _=h.code,I=h.message||(_===1?"permission denied":_===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:_,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var _=h.coords.latitude,I=h.coords.longitude,q=new ge(_,I),ne=q.toBounds(h.coords.accuracy*2),we=this._locateOptions;if(we.setView){var He=this.getBoundsZoom(ne);this.setView(q,we.maxZoom?Math.min(He,we.maxZoom):He)}var ot={latlng:q,bounds:ne,timestamp:h.timestamp};for(var ht in h.coords)typeof h.coords[ht]=="number"&&(ot[ht]=h.coords[ht]);this.fire("locationfound",ot)}},addHandler:function(h,_){if(!_)return this;var I=this[h]=new _(this);return this._handlers.push(I),this.options[h]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)N(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,_){var I="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),q=O("div",I,_||this._mapPane);return h&&(this._panes[h]=q),q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),_=this.unproject(h.getBottomLeft()),I=this.unproject(h.getTopRight());return new G(_,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,_,I){h=X(h),I=$(I||[0,0]);var q=this.getZoom()||0,ne=this.getMinZoom(),we=this.getMaxZoom(),He=h.getNorthWest(),ot=h.getSouthEast(),ht=this.getSize().subtract(I),xt=ce(this.project(ot,q),this.project(He,q)).getSize(),kt=lt.any3d?this.options.zoomSnap:1,Qt=ht.x/xt.x,gn=ht.y/xt.y,di=_?Math.max(Qt,gn):Math.min(Qt,gn);return q=this.getScaleZoom(di,q),kt&&(q=Math.round(q/(kt/100))*(kt/100),q=_?Math.ceil(q/kt)*kt:Math.floor(q/kt)*kt),Math.max(ne,Math.min(we,q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,_){var I=this._getTopLeftPoint(h,_);return new Q(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,_){var I=this.options.crs;return _=_===void 0?this._zoom:_,I.scale(h)/I.scale(_)},getScaleZoom:function(h,_){var I=this.options.crs;_=_===void 0?this._zoom:_;var q=I.zoom(h*I.scale(_));return isNaN(q)?1/0:q},project:function(h,_){return _=_===void 0?this._zoom:_,this.options.crs.latLngToPoint(xe(h),_)},unproject:function(h,_){return _=_===void 0?this._zoom:_,this.options.crs.pointToLatLng($(h),_)},layerPointToLatLng:function(h){var _=$(h).add(this.getPixelOrigin());return this.unproject(_)},latLngToLayerPoint:function(h){var _=this.project(xe(h))._round();return _._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(xe(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(X(h))},distance:function(h,_){return this.options.crs.distance(xe(h),xe(_))},containerPointToLayerPoint:function(h){return $(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return $(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var _=this.containerPointToLayerPoint($(h));return this.layerPointToLatLng(_)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(xe(h)))},mouseEventToContainerPoint:function(h){return ci(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var _=this._container=T(h);if(_){if(_._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Kt(_,"scroll",this._onScroll,this),this._containerId=l(_)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&lt.any3d,Se(h,"leaflet-container"+(lt.touch?" leaflet-touch":"")+(lt.retina?" leaflet-retina":"")+(lt.ielt9?" leaflet-oldie":"")+(lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var _=A(h,"position");_!=="absolute"&&_!=="relative"&&_!=="fixed"&&_!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),at(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Se(h.markerPane,"leaflet-zoom-hide"),Se(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,_,I){at(this._mapPane,new re(0,0));var q=!this._loaded;this._loaded=!0,_=this._limitZoom(_),this.fire("viewprereset");var ne=this._zoom!==_;this._moveStart(ne,I)._move(h,_)._moveEnd(ne),this.fire("viewreset"),q&&this.fire("load")},_moveStart:function(h,_){return h&&this.fire("zoomstart"),_||this.fire("movestart"),this},_move:function(h,_,I,q){_===void 0&&(_=this._zoom);var ne=this._zoom!==_;return this._zoom=_,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),q?I&&I.pinch&&this.fire("zoom",I):((ne||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){at(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[l(this._container)]=this;var _=h?ln:Kt;_(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&_(window,"resize",this._onResize,this),lt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,_){for(var I=[],q,ne=_==="mouseout"||_==="mouseover",we=h.target||h.srcElement,He=!1;we;){if(q=this._targets[l(we)],q&&(_==="click"||_==="preclick")&&this._draggableMoved(q)){He=!0;break}if(q&&q.listens(_,!0)&&(ne&&!xi(we,h)||(I.push(q),ne))||we===this._container)break;we=we.parentNode}return!I.length&&!He&&!ne&&this.listens(_,!0)&&(I=[this]),I},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var _=h.target||h.srcElement;if(!(!this._loaded||_._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(_))){var I=h.type;I==="mousedown"&&Ft(_),this._fireDOMEvent(h,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,_,I){if(h.type==="click"){var q=i({},h);q.type="preclick",this._fireDOMEvent(q,q.type,I)}var ne=this._findEventTargets(h,_);if(I){for(var we=[],He=0;He<I.length;He++)I[He].listens(_,!0)&&we.push(I[He]);ne=we.concat(ne)}if(ne.length){_==="contextmenu"&&tr(h);var ot=ne[0],ht={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var xt=ot.getLatLng&&(!ot._radius||ot._radius<=10);ht.containerPoint=xt?this.latLngToContainerPoint(ot.getLatLng()):this.mouseEventToContainerPoint(h),ht.layerPoint=this.containerPointToLayerPoint(ht.containerPoint),ht.latlng=xt?ot.getLatLng():this.layerPointToLatLng(ht.layerPoint)}for(He=0;He<ne.length;He++)if(ne[He].fire(_,ht,!0),ht.originalEvent._stopped||ne[He].options.bubblingMouseEvents===!1&&P(this._mouseEvents,_)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,_=this._handlers.length;h<_;h++)this._handlers[h].disable()},whenReady:function(h,_){return this._loaded?h.call(_||this,{target:this}):this.on("load",h,_),this},_getMapPanePos:function(){return _e(this._mapPane)||new re(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,_){var I=h&&_!==void 0?this._getNewPixelOrigin(h,_):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,_){var I=this.getSize()._divideBy(2);return this.project(h,_)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,_,I){var q=this._getNewPixelOrigin(I,_);return this.project(h,_)._subtract(q)},_latLngBoundsToNewLayerBounds:function(h,_,I){var q=this._getNewPixelOrigin(I,_);return ce([this.project(h.getSouthWest(),_)._subtract(q),this.project(h.getNorthWest(),_)._subtract(q),this.project(h.getSouthEast(),_)._subtract(q),this.project(h.getNorthEast(),_)._subtract(q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,_,I){if(!I)return h;var q=this.project(h,_),ne=this.getSize().divideBy(2),we=new Q(q.subtract(ne),q.add(ne)),He=this._getBoundsOffset(we,I,_);return Math.abs(He.x)<=1&&Math.abs(He.y)<=1?h:this.unproject(q.add(He),_)},_limitOffset:function(h,_){if(!_)return h;var I=this.getPixelBounds(),q=new Q(I.min.add(h),I.max.add(h));return h.add(this._getBoundsOffset(q,_))},_getBoundsOffset:function(h,_,I){var q=ce(this.project(_.getNorthEast(),I),this.project(_.getSouthWest(),I)),ne=q.min.subtract(h.min),we=q.max.subtract(h.max),He=this._rebound(ne.x,-we.x),ot=this._rebound(ne.y,-we.y);return new re(He,ot)},_rebound:function(h,_){return h+_>0?Math.round(h-_)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(_))},_limitZoom:function(h){var _=this.getMinZoom(),I=this.getMaxZoom(),q=lt.any3d?this.options.zoomSnap:1;return q&&(h=Math.round(h/q)*q),Math.max(_,Math.min(I,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ce(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,_){var I=this._getCenterOffset(h)._trunc();return(_&&_.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,_),!0)},_createAnimProxy:function(){var h=this._proxy=O("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(_){var I=pr,q=this._proxy.style[I];ct(this._proxy,this.project(_.center,_.zoom),this.getZoomScale(_.zoom,1)),q===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),_=this.getZoom();ct(this._proxy,this.project(h,_),this.getZoomScale(_,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,_,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(_-this._zoom)>this.options.zoomAnimationThreshold)return!1;var q=this.getZoomScale(_),ne=this._getCenterOffset(h)._divideBy(1-1/q);return I.animate!==!0&&!this.getSize().contains(ne)?!1:(H(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(h,_,!0)},this),!0)},_animateZoom:function(h,_,I,q){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=_,Se(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:_,noUpdate:q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ce(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ta(h,_){return new bn(h,_)}var gr=ue.extend({options:{position:"topright"},initialize:function(h){x(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var _=this._map;return _&&_.removeControl(this),this.options.position=h,_&&_.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var _=this._container=this.onAdd(h),I=this.getPosition(),q=h._controlCorners[I];return Se(_,"leaflet-control"),I.indexOf("bottom")!==-1?q.insertBefore(_,q.firstChild):q.appendChild(_),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),fi=function(h){return new gr(h)};bn.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},_="leaflet-",I=this._controlContainer=O("div",_+"control-container",this._container);function q(ne,we){var He=_+ne+" "+_+we;h[ne+we]=O("div",He,I)}q("top","left"),q("top","right"),q("bottom","left"),q("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)N(this._controlCorners[h]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ei=gr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,_,I,q){return I<q?-1:q<I?1:0}},initialize:function(h,_,I){x(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var q in h)this._addLayer(h[q],q);for(q in _)this._addLayer(_[q],q,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var _=0;_<this._layers.length;_++)this._layers[_].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return gr.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,_){return this._addLayer(h,_),this._map?this._update():this},addOverlay:function(h,_){return this._addLayer(h,_,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var _=this._getLayer(l(h));return _&&this._layers.splice(this._layers.indexOf(_),1),this._map?this._update():this},expand:function(){Se(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Se(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Ce(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ce(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",_=this._container=O("div",h),I=this.options.collapsed;_.setAttribute("aria-haspopup",!0),Zi(_),li(_);var q=this._section=O("section",h+"-list");I&&(this._map.on("click",this.collapse,this),Kt(_,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var ne=this._layersLink=O("a",h+"-toggle",_);ne.href="#",ne.title="Layers",ne.setAttribute("role","button"),Kt(ne,{keydown:function(we){we.keyCode===13&&this._expandSafely()},click:function(we){tr(we),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=O("div",h+"-base",q),this._separator=O("div",h+"-separator",q),this._overlaysList=O("div",h+"-overlays",q),_.appendChild(q)},_getLayer:function(h){for(var _=0;_<this._layers.length;_++)if(this._layers[_]&&l(this._layers[_].layer)===h)return this._layers[_]},_addLayer:function(h,_,I){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:_,overlay:I}),this.options.sortLayers&&this._layers.sort(a(function(q,ne){return this.options.sortFunction(q.layer,ne.layer,q.name,ne.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Z(this._baseLayersList),Z(this._overlaysList),this._layerControlInputs=[];var h,_,I,q,ne=0;for(I=0;I<this._layers.length;I++)q=this._layers[I],this._addItem(q),_=_||q.overlay,h=h||!q.overlay,ne+=q.overlay?0:1;return this.options.hideSingleBase&&(h=h&&ne>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=_&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var _=this._getLayer(l(h.target)),I=_.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;I&&this._map.fire(I,_)},_createRadioElement:function(h,_){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(_?' checked="checked"':"")+"/>",q=document.createElement("div");return q.innerHTML=I,q.firstChild},_addItem:function(h){var _=document.createElement("label"),I=this._map.hasLayer(h.layer),q;h.overlay?(q=document.createElement("input"),q.type="checkbox",q.className="leaflet-control-layers-selector",q.defaultChecked=I):q=this._createRadioElement("leaflet-base-layers_"+l(this),I),this._layerControlInputs.push(q),q.layerId=l(h.layer),Kt(q,"click",this._onInputClick,this);var ne=document.createElement("span");ne.innerHTML=" "+h.name;var we=document.createElement("span");_.appendChild(we),we.appendChild(q),we.appendChild(ne);var He=h.overlay?this._overlaysList:this._baseLayersList;return He.appendChild(_),this._checkDisabledLayers(),_},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,_,I,q=[],ne=[];this._handlingClick=!0;for(var we=h.length-1;we>=0;we--)_=h[we],I=this._getLayer(_.layerId).layer,_.checked?q.push(I):_.checked||ne.push(I);for(we=0;we<ne.length;we++)this._map.hasLayer(ne[we])&&this._map.removeLayer(ne[we]);for(we=0;we<q.length;we++)this._map.hasLayer(q[we])||this._map.addLayer(q[we]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,_,I,q=this._map.getZoom(),ne=h.length-1;ne>=0;ne--)_=h[ne],I=this._getLayer(_.layerId).layer,_.disabled=I.options.minZoom!==void 0&&q<I.options.minZoom||I.options.maxZoom!==void 0&&q>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Kt(h,"click",tr),this.expand();var _=this;setTimeout(function(){ln(h,"click",tr),_._preventClick=!1})}}),nr=function(h,_,I){return new Ei(h,_,I)},Qi=gr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var _="leaflet-control-zoom",I=O("div",_+" leaflet-bar"),q=this.options;return this._zoomInButton=this._createButton(q.zoomInText,q.zoomInTitle,_+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(q.zoomOutText,q.zoomOutTitle,_+"-out",I,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,_,I,q,ne){var we=O("a",I,q);return we.innerHTML=h,we.href="#",we.title=_,we.setAttribute("role","button"),we.setAttribute("aria-label",_),Zi(we),Kt(we,"click",uo),Kt(we,"click",ne,this),Kt(we,"click",this._refocusOnMap,this),we},_updateDisabled:function(){var h=this._map,_="leaflet-disabled";Ce(this._zoomInButton,_),Ce(this._zoomOutButton,_),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Se(this._zoomOutButton,_),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Se(this._zoomInButton,_),this._zoomInButton.setAttribute("aria-disabled","true"))}});bn.mergeOptions({zoomControl:!0}),bn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qi,this.addControl(this.zoomControl))});var Ya=function(h){return new Qi(h)},Tr=gr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var _="leaflet-control-scale",I=O("div",_),q=this.options;return this._addScales(q,_+"-line",I),h.on(q.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),I},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,_,I){h.metric&&(this._mScale=O("div",_,I)),h.imperial&&(this._iScale=O("div",_,I))},_update:function(){var h=this._map,_=h.getSize().y/2,I=h.distance(h.containerPointToLatLng([0,_]),h.containerPointToLatLng([this.options.maxWidth,_]));this._updateScales(I)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var _=this._getRoundNum(h),I=_<1e3?_+" m":_/1e3+" km";this._updateScale(this._mScale,I,_/h)},_updateImperial:function(h){var _=h*3.2808399,I,q,ne;_>5280?(I=_/5280,q=this._getRoundNum(I),this._updateScale(this._iScale,q+" mi",q/I)):(ne=this._getRoundNum(_),this._updateScale(this._iScale,ne+" ft",ne/_))},_updateScale:function(h,_,I){h.style.width=Math.round(this.options.maxWidth*I)+"px",h.innerHTML=_},_getRoundNum:function(h){var _=Math.pow(10,(Math.floor(h)+"").length-1),I=h/_;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,_*I}}),Os=function(h){return new Tr(h)},Aa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Mo=gr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(lt.inlineSvg?Aa+" ":"")+"Leaflet</a>"},initialize:function(h){x(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=O("div","leaflet-control-attribution"),Zi(this._container);for(var _ in h._layers)h._layers[_].getAttribution&&this.addAttribution(h._layers[_].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var _ in this._attributions)this._attributions[_]&&h.push(_);var I=[];this.options.prefix&&I.push(this.options.prefix),h.length&&I.push(h.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});bn.mergeOptions({attributionControl:!0}),bn.addInitHook(function(){this.options.attributionControl&&new Mo().addTo(this)});var Hd=function(h){return new Mo(h)};gr.Layers=Ei,gr.Zoom=Qi,gr.Scale=Tr,gr.Attribution=Mo,fi.layers=nr,fi.zoom=Ya,fi.scale=Os,fi.attribution=Hd;var co=ue.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});co.addTo=function(h,_){return h.addHandler(_,this),this};var Gc={Events:se},Vd=lt.touch?"touchstart mousedown":"mousedown",Xa=pe.extend({options:{clickTolerance:3},initialize:function(h,_,I,q){x(this,q),this._element=h,this._dragStartTarget=_||h,this._preventOutline=I},enable:function(){this._enabled||(Kt(this._dragStartTarget,Vd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xa._dragging===this&&this.finishDrag(!0),ln(this._dragStartTarget,Vd,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Oe(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){Xa._dragging===this&&this.finishDrag();return}if(!(Xa._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(Xa._dragging=this,this._preventOutline&&Ft(this._element),gt(),De(),!this._moving)){this.fire("down");var _=h.touches?h.touches[0]:h,I=jn(this._element);this._startPoint=new re(_.clientX,_.clientY),this._startPos=_e(this._element),this._parentScale=Un(I);var q=h.type==="mousedown";Kt(document,q?"mousemove":"touchmove",this._onMove,this),Kt(document,q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var _=h.touches&&h.touches.length===1?h.touches[0]:h,I=new re(_.clientX,_.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,tr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Se(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Se(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),at(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Ce(document.body,"leaflet-dragging"),this._lastTarget&&(Ce(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ln(document,"mousemove touchmove",this._onMove,this),ln(document,"mouseup touchend touchcancel",this._onUp,this),$t(),Fe();var _=this._moved&&this._moving;this._moving=!1,Xa._dragging=!1,_&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function jm(h,_,I){var q,ne=[1,4,2,8],we,He,ot,ht,xt,kt,Qt,gn;for(we=0,kt=h.length;we<kt;we++)h[we]._code=Ms(h[we],_);for(ot=0;ot<4;ot++){for(Qt=ne[ot],q=[],we=0,kt=h.length,He=kt-1;we<kt;He=we++)ht=h[we],xt=h[He],ht._code&Qt?xt._code&Qt||(gn=Wc(xt,ht,Qt,_,I),gn._code=Ms(gn,_),q.push(gn)):(xt._code&Qt&&(gn=Wc(xt,ht,Qt,_,I),gn._code=Ms(gn,_),q.push(gn)),q.push(ht));h=q}return h}function Um(h,_){var I,q,ne,we,He,ot,ht,xt,kt;if(!h||h.length===0)throw new Error("latlngs not passed");fo(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Qt=xe([0,0]),gn=X(h),di=gn.getNorthWest().distanceTo(gn.getSouthWest())*gn.getNorthEast().distanceTo(gn.getNorthWest());di<1700&&(Qt=Kd(h));var Ur=h.length,Ji=[];for(I=0;I<Ur;I++){var Bn=xe(h[I]);Ji.push(_.project(xe([Bn.lat-Qt.lat,Bn.lng-Qt.lng])))}for(ot=ht=xt=0,I=0,q=Ur-1;I<Ur;q=I++)ne=Ji[I],we=Ji[q],He=ne.y*we.x-we.y*ne.x,ht+=(ne.x+we.x)*He,xt+=(ne.y+we.y)*He,ot+=He*3;ot===0?kt=Ji[0]:kt=[ht/ot,xt/ot];var $n=_.unproject($(kt));return xe([$n.lat+Qt.lat,$n.lng+Qt.lng])}function Kd(h){for(var _=0,I=0,q=0,ne=0;ne<h.length;ne++){var we=xe(h[ne]);_+=we.lat,I+=we.lng,q++}return xe([_/q,I/q])}var Gd={__proto__:null,clipPolygon:jm,polygonCenter:Um,centroid:Kd};function Bm(h,_){if(!_||!h.length)return h.slice();var I=_*_;return h=g0(h,I),h=zm(h,I),h}function $m(h,_,I){return Math.sqrt(Rl(h,_,I,!0))}function m0(h,_,I){return Rl(h,_,I)}function zm(h,_){var I=h.length,q=typeof Uint8Array<"u"?Uint8Array:Array,ne=new q(I);ne[0]=ne[I-1]=1,Wd(h,ne,_,0,I-1);var we,He=[];for(we=0;we<I;we++)ne[we]&&He.push(h[we]);return He}function Wd(h,_,I,q,ne){var we=0,He,ot,ht;for(ot=q+1;ot<=ne-1;ot++)ht=Rl(h[ot],h[q],h[ne],!0),ht>we&&(He=ot,we=ht);we>I&&(_[He]=1,Wd(h,_,I,q,He),Wd(h,_,I,He,ne))}function g0(h,_){for(var I=[h[0]],q=1,ne=0,we=h.length;q<we;q++)y0(h[q],h[ne])>_&&(I.push(h[q]),ne=q);return ne<we-1&&I.push(h[we-1]),I}var qm;function Hm(h,_,I,q,ne){var we=q?qm:Ms(h,I),He=Ms(_,I),ot,ht,xt;for(qm=He;;){if(!(we|He))return[h,_];if(we&He)return!1;ot=we||He,ht=Wc(h,_,ot,I,ne),xt=Ms(ht,I),ot===we?(h=ht,we=xt):(_=ht,He=xt)}}function Wc(h,_,I,q,ne){var we=_.x-h.x,He=_.y-h.y,ot=q.min,ht=q.max,xt,kt;return I&8?(xt=h.x+we*(ht.y-h.y)/He,kt=ht.y):I&4?(xt=h.x+we*(ot.y-h.y)/He,kt=ot.y):I&2?(xt=ht.x,kt=h.y+He*(ht.x-h.x)/we):I&1&&(xt=ot.x,kt=h.y+He*(ot.x-h.x)/we),new re(xt,kt,ne)}function Ms(h,_){var I=0;return h.x<_.min.x?I|=1:h.x>_.max.x&&(I|=2),h.y<_.min.y?I|=4:h.y>_.max.y&&(I|=8),I}function y0(h,_){var I=_.x-h.x,q=_.y-h.y;return I*I+q*q}function Rl(h,_,I,q){var ne=_.x,we=_.y,He=I.x-ne,ot=I.y-we,ht=He*He+ot*ot,xt;return ht>0&&(xt=((h.x-ne)*He+(h.y-we)*ot)/ht,xt>1?(ne=I.x,we=I.y):xt>0&&(ne+=He*xt,we+=ot*xt)),He=h.x-ne,ot=h.y-we,q?He*He+ot*ot:new re(ne,we)}function fo(h){return!C(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Zc(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),fo(h)}function bu(h,_){var I,q,ne,we,He,ot,ht,xt;if(!h||h.length===0)throw new Error("latlngs not passed");fo(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var kt=xe([0,0]),Qt=X(h),gn=Qt.getNorthWest().distanceTo(Qt.getSouthWest())*Qt.getNorthEast().distanceTo(Qt.getNorthWest());gn<1700&&(kt=Kd(h));var di=h.length,Ur=[];for(I=0;I<di;I++){var Ji=xe(h[I]);Ur.push(_.project(xe([Ji.lat-kt.lat,Ji.lng-kt.lng])))}for(I=0,q=0;I<di-1;I++)q+=Ur[I].distanceTo(Ur[I+1])/2;if(q===0)xt=Ur[0];else for(I=0,we=0;I<di-1;I++)if(He=Ur[I],ot=Ur[I+1],ne=He.distanceTo(ot),we+=ne,we>q){ht=(we-q)/ne,xt=[ot.x-ht*(ot.x-He.x),ot.y-ht*(ot.y-He.y)];break}var Bn=_.unproject($(xt));return xe([Bn.lat+kt.lat,Bn.lng+kt.lng])}var v0={__proto__:null,simplify:Bm,pointToSegmentDistance:$m,closestPointOnSegment:m0,clipSegment:Hm,_getEdgeIntersection:Wc,_getBitCode:Ms,_sqClosestPointOnSegment:Rl,isFlat:fo,_flat:Zc,polylineCenter:bu},Qc={project:function(h){return new re(h.lng,h.lat)},unproject:function(h){return new ge(h.y,h.x)},bounds:new Q([-180,-90],[180,90])},Jc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var _=Math.PI/180,I=this.R,q=h.lat*_,ne=this.R_MINOR/I,we=Math.sqrt(1-ne*ne),He=we*Math.sin(q),ot=Math.tan(Math.PI/4-q/2)/Math.pow((1-He)/(1+He),we/2);return q=-I*Math.log(Math.max(ot,1e-10)),new re(h.lng*_*I,q)},unproject:function(h){for(var _=180/Math.PI,I=this.R,q=this.R_MINOR/I,ne=Math.sqrt(1-q*q),we=Math.exp(-h.y/I),He=Math.PI/2-2*Math.atan(we),ot=0,ht=.1,xt;ot<15&&Math.abs(ht)>1e-7;ot++)xt=ne*Math.sin(He),xt=Math.pow((1-xt)/(1+xt),ne/2),ht=Math.PI/2-2*Math.atan(we*xt)-He,He+=ht;return new ge(He*_,h.x*_/I)}},Vm={__proto__:null,LonLat:Qc,Mercator:Jc,SphericalMercator:Je},Km=i({},Pe,{code:"EPSG:3395",projection:Jc,transformation:(function(){var h=.5/(Math.PI*Jc.R);return V(h,.5,-h,.5)})()}),Zd=i({},Pe,{code:"EPSG:4326",projection:Qc,transformation:V(1/180,1,-1/180,.5)}),Su=i({},Ve,{projection:Qc,transformation:V(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,_){var I=_.lng-h.lng,q=_.lat-h.lat;return Math.sqrt(I*I+q*q)},infinite:!0});Ve.Earth=Pe,Ve.EPSG3395=Km,Ve.EPSG3857=j,Ve.EPSG900913=ie,Ve.EPSG4326=Zd,Ve.Simple=Su;var Lo=pe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[l(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[l(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var _=h.target;if(_.hasLayer(this)){if(this._map=_,this._zoomAnimated=_._zoomAnimated,this.getEvents){var I=this.getEvents();_.on(I,this),this.once("remove",function(){_.off(I,this)},this)}this.onAdd(_),this.fire("add"),_.fire("layeradd",{layer:this})}}});bn.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var _=l(h);return this._layers[_]?this:(this._layers[_]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var _=l(h);return this._layers[_]?(this._loaded&&h.onRemove(this),delete this._layers[_],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return l(h)in this._layers},eachLayer:function(h,_){for(var I in this._layers)h.call(_,this._layers[I]);return this},_addLayers:function(h){h=h?C(h)?h:[h]:[];for(var _=0,I=h.length;_<I;_++)this.addLayer(h[_])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[l(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var _=l(h);this._zoomBoundLayers[_]&&(delete this._zoomBoundLayers[_],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,_=-1/0,I=this._getZoomSpan();for(var q in this._zoomBoundLayers){var ne=this._zoomBoundLayers[q].options;h=ne.minZoom===void 0?h:Math.min(h,ne.minZoom),_=ne.maxZoom===void 0?_:Math.max(_,ne.maxZoom)}this._layersMaxZoom=_===-1/0?void 0:_,this._layersMinZoom=h===1/0?void 0:h,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var xu=Lo.extend({initialize:function(h,_){x(this,_),this._layers={};var I,q;if(h)for(I=0,q=h.length;I<q;I++)this.addLayer(h[I])},addLayer:function(h){var _=this.getLayerId(h);return this._layers[_]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var _=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[_]&&this._map.removeLayer(this._layers[_]),delete this._layers[_],this},hasLayer:function(h){var _=typeof h=="number"?h:this.getLayerId(h);return _ in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var _=Array.prototype.slice.call(arguments,1),I,q;for(I in this._layers)q=this._layers[I],q[h]&&q[h].apply(q,_);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,_){for(var I in this._layers)h.call(_,this._layers[I]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return l(h)}}),_0=function(h,_){return new xu(h,_)},ra=xu.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),xu.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),xu.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new G;for(var _ in this._layers){var I=this._layers[_];h.extend(I.getBounds?I.getBounds():I.getLatLng())}return h}}),Gm=function(h,_){return new ra(h,_)},ia=ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){x(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,_){var I=this._getIconUrl(h);if(!I){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var q=this._createImg(I,_&&_.tagName==="IMG"?_:null);return this._setIconStyles(q,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),q},_setIconStyles:function(h,_){var I=this.options,q=I[_+"Size"];typeof q=="number"&&(q=[q,q]);var ne=$(q),we=$(_==="shadow"&&I.shadowAnchor||I.iconAnchor||ne&&ne.divideBy(2,!0));h.className="leaflet-marker-"+_+" "+(I.className||""),we&&(h.style.marginLeft=-we.x+"px",h.style.marginTop=-we.y+"px"),ne&&(h.style.width=ne.x+"px",h.style.height=ne.y+"px")},_createImg:function(h,_){return _=_||document.createElement("img"),_.src=h,_},_getIconUrl:function(h){return lt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function Pl(h){return new ia(h)}var Ol=ia.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Ol.imagePath!="string"&&(Ol.imagePath=this._detectIconPath()),(this.options.imagePath||Ol.imagePath)+ia.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var _=function(I,q,ne){var we=q.exec(I);return we&&we[ne]};return h=_(h,/^url\((['"])?(.+)\1\)$/,2),h&&_(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=O("div","leaflet-default-icon-path",document.body),_=A(h,"background-image")||A(h,"backgroundImage");if(document.body.removeChild(h),_=this._stripUrl(_),_)return _;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),Ml=co.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new Xa(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Se(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ce(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var _=this._marker,I=_._map,q=this._marker.options.autoPanSpeed,ne=this._marker.options.autoPanPadding,we=_e(_._icon),He=I.getPixelBounds(),ot=I.getPixelOrigin(),ht=ce(He.min._subtract(ot).add(ne),He.max._subtract(ot).subtract(ne));if(!ht.contains(we)){var xt=$((Math.max(ht.max.x,we.x)-ht.max.x)/(He.max.x-ht.max.x)-(Math.min(ht.min.x,we.x)-ht.min.x)/(He.min.x-ht.min.x),(Math.max(ht.max.y,we.y)-ht.max.y)/(He.max.y-ht.max.y)-(Math.min(ht.min.y,we.y)-ht.min.y)/(He.min.y-ht.min.y)).multiplyBy(q);I.panBy(xt,{animate:!1}),this._draggable._newPos._add(xt),this._draggable._startPos._add(xt),at(_._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=H(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,h)))},_onDrag:function(h){var _=this._marker,I=_._shadow,q=_e(_._icon),ne=_._map.layerPointToLatLng(q);I&&at(I,q),_._latlng=ne,h.latlng=ne,h.oldLatLng=this._oldLatLng,_.fire("move",h).fire("drag",h)},_onDragEnd:function(h){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),Ll=Lo.extend({options:{icon:new Ol,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,_){x(this,_),this._latlng=xe(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var _=this._latlng;return this._latlng=xe(h),this.update(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,_="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=h.icon.createIcon(this._icon),q=!1;I!==this._icon&&(this._icon&&this._removeIcon(),q=!0,h.title&&(I.title=h.title),I.tagName==="IMG"&&(I.alt=h.alt||"")),Se(I,_),h.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Kt(I,"focus",this._panOnFocus,this);var ne=h.icon.createShadow(this._shadow),we=!1;ne!==this._shadow&&(this._removeShadow(),we=!0),ne&&(Se(ne,_),ne.alt=""),this._shadow=ne,h.opacity<1&&this._updateOpacity(),q&&this.getPane().appendChild(this._icon),this._initInteraction(),ne&&we&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ln(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&at(this._icon,h),this._shadow&&at(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var _=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(_)},_initInteraction:function(){if(this.options.interactive&&(Se(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ml)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ml(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&je(this._icon,h),this._shadow&&je(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var _=this.options.icon.options,I=_.iconSize?$(_.iconSize):$(0,0),q=_.iconAnchor?$(_.iconAnchor):$(0,0);h.panInside(this._latlng,{paddingTopLeft:q,paddingBottomRight:I.subtract(q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Wm(h,_){return new Ll(h,_)}var oa=Lo.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return x(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Eu=oa.extend({options:{fill:!0,radius:10},initialize:function(h,_){x(this,_),this._latlng=xe(h),this._radius=this.options.radius},setLatLng:function(h){var _=this._latlng;return this._latlng=xe(h),this.redraw(),this.fire("move",{oldLatLng:_,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var _=h&&h.radius||this._radius;return oa.prototype.setStyle.call(this,h),this.setRadius(_),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,_=this._radiusY||h,I=this._clickTolerance(),q=[h+I,_+I];this._pxBounds=new Q(this._point.subtract(q),this._point.add(q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zm(h,_){return new Eu(h,_)}var Yc=Eu.extend({initialize:function(h,_,I){if(typeof _=="number"&&(_=i({},I,{radius:_})),x(this,_),this._latlng=xe(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new G(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:oa.prototype.setStyle,_project:function(){var h=this._latlng.lng,_=this._latlng.lat,I=this._map,q=I.options.crs;if(q.distance===Pe.distance){var ne=Math.PI/180,we=this._mRadius/Pe.R/ne,He=I.project([_+we,h]),ot=I.project([_-we,h]),ht=He.add(ot).divideBy(2),xt=I.unproject(ht).lat,kt=Math.acos((Math.cos(we*ne)-Math.sin(_*ne)*Math.sin(xt*ne))/(Math.cos(_*ne)*Math.cos(xt*ne)))/ne;(isNaN(kt)||kt===0)&&(kt=we/Math.cos(Math.PI/180*_)),this._point=ht.subtract(I.getPixelOrigin()),this._radius=isNaN(kt)?0:ht.x-I.project([xt,h-kt]).x,this._radiusY=ht.y-He.y}else{var Qt=q.unproject(q.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(Qt).x}this._updateBounds()}});function Qm(h,_,I){return new Yc(h,_,I)}var Ra=oa.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,_){x(this,_),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var _=1/0,I=null,q=Rl,ne,we,He=0,ot=this._parts.length;He<ot;He++)for(var ht=this._parts[He],xt=1,kt=ht.length;xt<kt;xt++){ne=ht[xt-1],we=ht[xt];var Qt=q(h,ne,we,!0);Qt<_&&(_=Qt,I=q(h,ne,we))}return I&&(I.distance=Math.sqrt(_)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bu(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,_){return _=_||this._defaultShape(),h=xe(h),_.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new G,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return fo(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var _=[],I=fo(h),q=0,ne=h.length;q<ne;q++)I?(_[q]=xe(h[q]),this._bounds.extend(_[q])):_[q]=this._convertLatLngs(h[q]);return _},_project:function(){var h=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),_=new re(h,h);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(_),this._rawPxBounds.max.add(_)]))},_projectLatlngs:function(h,_,I){var q=h[0]instanceof ge,ne=h.length,we,He;if(q){for(He=[],we=0;we<ne;we++)He[we]=this._map.latLngToLayerPoint(h[we]),I.extend(He[we]);_.push(He)}else for(we=0;we<ne;we++)this._projectLatlngs(h[we],_,I)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var _=this._parts,I,q,ne,we,He,ot,ht;for(I=0,ne=0,we=this._rings.length;I<we;I++)for(ht=this._rings[I],q=0,He=ht.length;q<He-1;q++)ot=Hm(ht[q],ht[q+1],h,q,!0),ot&&(_[ne]=_[ne]||[],_[ne].push(ot[0]),(ot[1]!==ht[q+1]||q===He-2)&&(_[ne].push(ot[1]),ne++))}},_simplifyPoints:function(){for(var h=this._parts,_=this.options.smoothFactor,I=0,q=h.length;I<q;I++)h[I]=Bm(h[I],_)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,_){var I,q,ne,we,He,ot,ht=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(I=0,we=this._parts.length;I<we;I++)for(ot=this._parts[I],q=0,He=ot.length,ne=He-1;q<He;ne=q++)if(!(!_&&q===0)&&$m(h,ot[ne],ot[q])<=ht)return!0;return!1}});function w0(h,_){return new Ra(h,_)}Ra._flat=Zc;var Cu=Ra.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Um(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var _=Ra.prototype._convertLatLngs.call(this,h),I=_.length;return I>=2&&_[0]instanceof ge&&_[0].equals(_[I-1])&&_.pop(),_},_setLatLngs:function(h){Ra.prototype._setLatLngs.call(this,h),fo(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return fo(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,_=this.options.weight,I=new re(_,_);if(h=new Q(h.min.subtract(I),h.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var q=0,ne=this._rings.length,we;q<ne;q++)we=jm(this._rings[q],h,!0),we.length&&this._parts.push(we)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var _=!1,I,q,ne,we,He,ot,ht,xt;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(we=0,ht=this._parts.length;we<ht;we++)for(I=this._parts[we],He=0,xt=I.length,ot=xt-1;He<xt;ot=He++)q=I[He],ne=I[ot],q.y>h.y!=ne.y>h.y&&h.x<(ne.x-q.x)*(h.y-q.y)/(ne.y-q.y)+q.x&&(_=!_);return _||Ra.prototype._containsPoint.call(this,h,!0)}});function b0(h,_){return new Cu(h,_)}var Pa=ra.extend({initialize:function(h,_){x(this,_),this._layers={},h&&this.addData(h)},addData:function(h){var _=C(h)?h:h.features,I,q,ne;if(_){for(I=0,q=_.length;I<q;I++)ne=_[I],(ne.geometries||ne.geometry||ne.features||ne.coordinates)&&this.addData(ne);return this}var we=this.options;if(we.filter&&!we.filter(h))return this;var He=_i(h,we);return He?(He.feature=tf(h),He.defaultOptions=He.options,this.resetStyle(He),we.onEachFeature&&we.onEachFeature(h,He),this.addLayer(He)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(_){this._setLayerStyle(_,h)},this)},_setLayerStyle:function(h,_){h.setStyle&&(typeof _=="function"&&(_=_(h.feature)),h.setStyle(_))}});function _i(h,_){var I=h.type==="Feature"?h.geometry:h,q=I?I.coordinates:null,ne=[],we=_&&_.pointToLayer,He=_&&_.coordsToLatLng||Xc,ot,ht,xt,kt;if(!q&&!I)return null;switch(I.type){case"Point":return ot=He(q),Tu(we,h,ot,_);case"MultiPoint":for(xt=0,kt=q.length;xt<kt;xt++)ot=He(q[xt]),ne.push(Tu(we,h,ot,_));return new ra(ne);case"LineString":case"MultiLineString":return ht=Il(q,I.type==="LineString"?0:1,He),new Ra(ht,_);case"Polygon":case"MultiPolygon":return ht=Il(q,I.type==="Polygon"?1:2,He),new Cu(ht,_);case"GeometryCollection":for(xt=0,kt=I.geometries.length;xt<kt;xt++){var Qt=_i({geometry:I.geometries[xt],type:"Feature",properties:h.properties},_);Qt&&ne.push(Qt)}return new ra(ne);case"FeatureCollection":for(xt=0,kt=I.features.length;xt<kt;xt++){var gn=_i(I.features[xt],_);gn&&ne.push(gn)}return new ra(ne);default:throw new Error("Invalid GeoJSON object.")}}function Tu(h,_,I,q){return h?h(_,I):new Ll(I,q&&q.markersInheritOptions&&q)}function Xc(h){return new ge(h[1],h[0],h[2])}function Il(h,_,I){for(var q=[],ne=0,we=h.length,He;ne<we;ne++)He=_?Il(h[ne],_-1,I):(I||Xc)(h[ne]),q.push(He);return q}function ef(h,_){return h=xe(h),h.alt!==void 0?[g(h.lng,_),g(h.lat,_),g(h.alt,_)]:[g(h.lng,_),g(h.lat,_)]}function kl(h,_,I,q){for(var ne=[],we=0,He=h.length;we<He;we++)ne.push(_?kl(h[we],fo(h[we])?0:_-1,I,q):ef(h[we],q));return!_&&I&&ne.length>0&&ne.push(ne[0].slice()),ne}function es(h,_){return h.feature?i({},h.feature,{geometry:_}):tf(_)}function tf(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var ts={toGeoJSON:function(h){return es(this,{type:"Point",coordinates:ef(this.getLatLng(),h)})}};Ll.include(ts),Yc.include(ts),Eu.include(ts),Ra.include({toGeoJSON:function(h){var _=!fo(this._latlngs),I=kl(this._latlngs,_?1:0,!1,h);return es(this,{type:(_?"Multi":"")+"LineString",coordinates:I})}}),Cu.include({toGeoJSON:function(h){var _=!fo(this._latlngs),I=_&&!fo(this._latlngs[0]),q=kl(this._latlngs,I?2:_?1:0,!0,h);return _||(q=[q]),es(this,{type:(I?"Multi":"")+"Polygon",coordinates:q})}}),xu.include({toMultiPoint:function(h){var _=[];return this.eachLayer(function(I){_.push(I.toGeoJSON(h).geometry.coordinates)}),es(this,{type:"MultiPoint",coordinates:_})},toGeoJSON:function(h){var _=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(_==="MultiPoint")return this.toMultiPoint(h);var I=_==="GeometryCollection",q=[];return this.eachLayer(function(ne){if(ne.toGeoJSON){var we=ne.toGeoJSON(h);if(I)q.push(we.geometry);else{var He=tf(we);He.type==="FeatureCollection"?q.push.apply(q,He.features):q.push(He)}}}),I?es(this,{geometries:q,type:"GeometryCollection"}):{type:"FeatureCollection",features:q}}});function nf(h,_){return new Pa(h,_)}var Dl=nf,Au=Lo.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,_,I){this._url=h,this._bounds=X(_),x(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Se(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&ve(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=X(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",_=this._image=h?this._url:O("img");if(Se(_,"leaflet-image-layer"),this._zoomAnimated&&Se(_,"leaflet-zoom-animated"),this.options.className&&Se(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onload=a(this.fire,this,"load"),_.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=_.src;return}_.src=this._url,_.alt=this.options.alt},_animateZoom:function(h){var _=this._map.getZoomScale(h.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;ct(this._image,I,_)},_reset:function(){var h=this._image,_=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=_.getSize();at(h,_.min),h.style.width=I.x+"px",h.style.height=I.y+"px"},_updateOpacity:function(){je(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Jm=function(h,_,I){return new Au(h,_,I)},ns=Au.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",_=this._image=h?this._url:O("video");if(Se(_,"leaflet-image-layer"),this._zoomAnimated&&Se(_,"leaflet-zoom-animated"),this.options.className&&Se(_,this.options.className),_.onselectstart=p,_.onmousemove=p,_.onloadeddata=a(this.fire,this,"load"),h){for(var I=_.getElementsByTagName("source"),q=[],ne=0;ne<I.length;ne++)q.push(I[ne].src);this._url=I.length>0?q:[_.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(_.style,"objectFit")&&(_.style.objectFit="fill"),_.autoplay=!!this.options.autoplay,_.loop=!!this.options.loop,_.muted=!!this.options.muted,_.playsInline=!!this.options.playsInline;for(var we=0;we<this._url.length;we++){var He=O("source");He.src=this._url[we],_.appendChild(He)}}});function Ru(h,_,I){return new ns(h,_,I)}var rf=Au.extend({_initImage:function(){var h=this._image=this._url;Se(h,"leaflet-image-layer"),this._zoomAnimated&&Se(h,"leaflet-zoom-animated"),this.options.className&&Se(h,this.options.className),h.onselectstart=p,h.onmousemove=p}});function Ym(h,_,I){return new rf(h,_,I)}var wi=Lo.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,_){h&&(h instanceof ge||C(h))?(this._latlng=xe(h),x(this,_)):(x(this,h),this._source=_),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&je(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&je(this._container,1),this.bringToFront(),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(je(this._container,0),this._removeTimeout=setTimeout(a(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=xe(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&ve(this._container),this},_prepareOpen:function(h){var _=this._source;if(!_._map)return!1;if(_ instanceof ra){_=null;var I=this._source._layers;for(var q in I)if(I[q]._map){_=I[q];break}if(!_)return!1;this._source=_}if(!h)if(_.getCenter)h=_.getCenter();else if(_.getLatLng)h=_.getLatLng();else if(_.getBounds)h=_.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,_=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof _=="string")h.innerHTML=_;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(_)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),_=$(this.options.offset),I=this._getAnchor();this._zoomAnimated?at(this._container,h.add(I)):_=_.add(h).add(I);var q=this._containerBottom=-_.y,ne=this._containerLeft=-Math.round(this._containerWidth/2)+_.x;this._container.style.bottom=q+"px",this._container.style.left=ne+"px"}},_getAnchor:function(){return[0,0]}});bn.include({_initOverlay:function(h,_,I,q){var ne=_;return ne instanceof h||(ne=new h(q).setContent(_)),I&&ne.setLatLng(I),ne}}),Lo.include({_initOverlay:function(h,_,I,q){var ne=I;return ne instanceof h?(x(ne,q),ne._source=this):(ne=_&&!q?_:new h(q,this),ne.setContent(I)),ne}});var Nl=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,wi.prototype.openOn.call(this,h)},onAdd:function(h){wi.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oa||this._source.on("preclick",ui))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oa||this._source.off("preclick",ui))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",_=this._container=O("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=O("div",h+"-content-wrapper",_);if(this._contentNode=O("div",h+"-content",I),Zi(_),li(this._contentNode),Kt(_,"contextmenu",ui),this._tipContainer=O("div",h+"-tip-container",_),this._tip=O("div",h+"-tip",this._tipContainer),this.options.closeButton){var q=this._closeButton=O("a",h+"-close-button",_);q.setAttribute("role","button"),q.setAttribute("aria-label","Close popup"),q.href="#close",q.innerHTML='<span aria-hidden="true">&#215;</span>',Kt(q,"click",function(ne){tr(ne),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,_=h.style;_.width="",_.whiteSpace="nowrap";var I=h.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),_.width=I+1+"px",_.whiteSpace="",_.height="";var q=h.offsetHeight,ne=this.options.maxHeight,we="leaflet-popup-scrolled";ne&&q>ne?(_.height=ne+"px",Se(h,we)):Ce(h,we),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var _=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),I=this._getAnchor();at(this._container,_.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,_=parseInt(A(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+_,q=this._containerWidth,ne=new re(this._containerLeft,-I-this._containerBottom);ne._add(_e(this._container));var we=h.layerPointToContainerPoint(ne),He=$(this.options.autoPanPadding),ot=$(this.options.autoPanPaddingTopLeft||He),ht=$(this.options.autoPanPaddingBottomRight||He),xt=h.getSize(),kt=0,Qt=0;we.x+q+ht.x>xt.x&&(kt=we.x+q-xt.x+ht.x),we.x-kt-ot.x<0&&(kt=we.x-ot.x),we.y+I+ht.y>xt.y&&(Qt=we.y+I-xt.y+ht.y),we.y-Qt-ot.y<0&&(Qt=we.y-ot.y),(kt||Qt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([kt,Qt]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Xm=function(h,_){return new Nl(h,_)};bn.mergeOptions({closePopupOnClick:!0}),bn.include({openPopup:function(h,_,I){return this._initOverlay(Nl,h,_,I).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),Lo.include({bindPopup:function(h,_){return this._popup=this._initOverlay(Nl,this._popup,h,_),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ra||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){uo(h);var _=h.layer||h.target;if(this._popup._source===_&&!(_ instanceof oa)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=_,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Fl=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){wi.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){wi.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=wi.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",_=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=O("div",_),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var _,I,q=this._map,ne=this._container,we=q.latLngToContainerPoint(q.getCenter()),He=q.layerPointToContainerPoint(h),ot=this.options.direction,ht=ne.offsetWidth,xt=ne.offsetHeight,kt=$(this.options.offset),Qt=this._getAnchor();ot==="top"?(_=ht/2,I=xt):ot==="bottom"?(_=ht/2,I=0):ot==="center"?(_=ht/2,I=xt/2):ot==="right"?(_=0,I=xt/2):ot==="left"?(_=ht,I=xt/2):He.x<we.x?(ot="right",_=0,I=xt/2):(ot="left",_=ht+(kt.x+Qt.x)*2,I=xt/2),h=h.subtract($(_,I,!0)).add(kt).add(Qt),Ce(ne,"leaflet-tooltip-right"),Ce(ne,"leaflet-tooltip-left"),Ce(ne,"leaflet-tooltip-top"),Ce(ne,"leaflet-tooltip-bottom"),Se(ne,"leaflet-tooltip-"+ot),at(ne,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&je(this._container,h)},_animateZoom:function(h){var _=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(_)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),S0=function(h,_){return new Fl(h,_)};bn.include({openTooltip:function(h,_,I){return this._initOverlay(Fl,h,_,I).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),Lo.include({bindTooltip:function(h,_){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Fl,this._tooltip,h,_),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var _=h?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[_](I),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ra||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var _=typeof h.getElement=="function"&&h.getElement();_&&(Kt(_,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Kt(_,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var _=typeof h.getElement=="function"&&h.getElement();_&&_.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var _=this;this._map.once("moveend",function(){_._openOnceFlag=!1,_._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var _=h.latlng,I,q;this._tooltip.options.sticky&&h.originalEvent&&(I=this._map.mouseEventToContainerPoint(h.originalEvent),q=this._map.containerPointToLayerPoint(I),_=this._map.layerPointToLatLng(q)),this._tooltip.setLatLng(_)}});var eg=ia.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var _=h&&h.tagName==="DIV"?h:document.createElement("div"),I=this.options;if(I.html instanceof Element?(Z(_),_.appendChild(I.html)):_.innerHTML=I.html!==!1?I.html:"",I.bgPos){var q=$(I.bgPos);_.style.backgroundPosition=-q.x+"px "+-q.y+"px"}return this._setIconStyles(_,"icon"),_},createShadow:function(){return null}});function x0(h){return new eg(h)}ia.Default=Ol;var Pu=Lo.extend({options:{tileSize:256,opacity:1,updateWhenIdle:lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){x(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),N(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ve(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof re?h:new re(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var _=this.getPane().children,I=-h(-1/0,1/0),q=0,ne=_.length,we;q<ne;q++)we=_[q].style.zIndex,_[q]!==this._container&&we&&(I=h(I,+we));isFinite(I)&&(this.options.zIndex=I+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!lt.ielt9){je(this._container,this.options.opacity);var h=+new Date,_=!1,I=!1;for(var q in this._tiles){var ne=this._tiles[q];if(!(!ne.current||!ne.loaded)){var we=Math.min(1,(h-ne.loaded)/200);je(ne.el,we),we<1?_=!0:(ne.active?I=!0:this._onOpaqueTile(ne),ne.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),_&&(te(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=O("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,_=this.options.maxZoom;if(h!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===h?(this._levels[I].el.style.zIndex=_-Math.abs(h-I),this._onUpdateLevel(I)):(N(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var q=this._levels[h],ne=this._map;return q||(q=this._levels[h]={},q.el=O("div","leaflet-tile-container leaflet-zoom-animated",this._container),q.el.style.zIndex=_,q.origin=ne.project(ne.unproject(ne.getPixelOrigin()),h).round(),q.zoom=h,this._setZoomTransform(q,ne.getCenter(),ne.getZoom()),p(q.el.offsetWidth),this._onCreateLevel(q)),this._level=q,q}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var h,_,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)_=this._tiles[h],_.retain=_.current;for(h in this._tiles)if(_=this._tiles[h],_.current&&!_.active){var q=_.coords;this._retainParent(q.x,q.y,q.z,q.z-5)||this._retainChildren(q.x,q.y,q.z,q.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var _ in this._tiles)this._tiles[_].coords.z===h&&this._removeTile(_)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)N(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,_,I,q){var ne=Math.floor(h/2),we=Math.floor(_/2),He=I-1,ot=new re(+ne,+we);ot.z=+He;var ht=this._tileCoordsToKey(ot),xt=this._tiles[ht];return xt&&xt.active?(xt.retain=!0,!0):(xt&&xt.loaded&&(xt.retain=!0),He>q?this._retainParent(ne,we,He,q):!1)},_retainChildren:function(h,_,I,q){for(var ne=2*h;ne<2*h+2;ne++)for(var we=2*_;we<2*_+2;we++){var He=new re(ne,we);He.z=I+1;var ot=this._tileCoordsToKey(He),ht=this._tiles[ot];if(ht&&ht.active){ht.retain=!0;continue}else ht&&ht.loaded&&(ht.retain=!0);I+1<q&&this._retainChildren(ne,we,I+1,q)}},_resetView:function(h){var _=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),_,_)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var _=this.options;return _.minNativeZoom!==void 0&&h<_.minNativeZoom?_.minNativeZoom:_.maxNativeZoom!==void 0&&_.maxNativeZoom<h?_.maxNativeZoom:h},_setView:function(h,_,I,q){var ne=Math.round(_);this.options.maxZoom!==void 0&&ne>this.options.maxZoom||this.options.minZoom!==void 0&&ne<this.options.minZoom?ne=void 0:ne=this._clampZoom(ne);var we=this.options.updateWhenZooming&&ne!==this._tileZoom;(!q||we)&&(this._tileZoom=ne,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),ne!==void 0&&this._update(h),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(h,_)},_setZoomTransforms:function(h,_){for(var I in this._levels)this._setZoomTransform(this._levels[I],h,_)},_setZoomTransform:function(h,_,I){var q=this._map.getZoomScale(I,h.zoom),ne=h.origin.multiplyBy(q).subtract(this._map._getNewPixelOrigin(_,I)).round();lt.any3d?ct(h.el,ne,q):at(h.el,ne)},_resetGrid:function(){var h=this._map,_=h.options.crs,I=this._tileSize=this.getTileSize(),q=this._tileZoom,ne=this._map.getPixelWorldBounds(this._tileZoom);ne&&(this._globalTileRange=this._pxBoundsToTileRange(ne)),this._wrapX=_.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,_.wrapLng[0]],q).x/I.x),Math.ceil(h.project([0,_.wrapLng[1]],q).x/I.y)],this._wrapY=_.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([_.wrapLat[0],0],q).y/I.x),Math.ceil(h.project([_.wrapLat[1],0],q).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var _=this._map,I=_._animatingZoom?Math.max(_._animateToZoom,_.getZoom()):_.getZoom(),q=_.getZoomScale(I,this._tileZoom),ne=_.project(h,this._tileZoom).floor(),we=_.getSize().divideBy(q*2);return new Q(ne.subtract(we),ne.add(we))},_update:function(h){var _=this._map;if(_){var I=this._clampZoom(_.getZoom());if(h===void 0&&(h=_.getCenter()),this._tileZoom!==void 0){var q=this._getTiledPixelBounds(h),ne=this._pxBoundsToTileRange(q),we=ne.getCenter(),He=[],ot=this.options.keepBuffer,ht=new Q(ne.getBottomLeft().subtract([ot,-ot]),ne.getTopRight().add([ot,-ot]));if(!(isFinite(ne.min.x)&&isFinite(ne.min.y)&&isFinite(ne.max.x)&&isFinite(ne.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var xt in this._tiles){var kt=this._tiles[xt].coords;(kt.z!==this._tileZoom||!ht.contains(new re(kt.x,kt.y)))&&(this._tiles[xt].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(h,I);return}for(var Qt=ne.min.y;Qt<=ne.max.y;Qt++)for(var gn=ne.min.x;gn<=ne.max.x;gn++){var di=new re(gn,Qt);if(di.z=this._tileZoom,!!this._isValidTile(di)){var Ur=this._tiles[this._tileCoordsToKey(di)];Ur?Ur.current=!0:He.push(di)}}if(He.sort(function(Bn,$n){return Bn.distanceTo(we)-$n.distanceTo(we)}),He.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ji=document.createDocumentFragment();for(gn=0;gn<He.length;gn++)this._addTile(He[gn],Ji);this._level.el.appendChild(Ji)}}}},_isValidTile:function(h){var _=this._map.options.crs;if(!_.infinite){var I=this._globalTileRange;if(!_.wrapLng&&(h.x<I.min.x||h.x>I.max.x)||!_.wrapLat&&(h.y<I.min.y||h.y>I.max.y))return!1}if(!this.options.bounds)return!0;var q=this._tileCoordsToBounds(h);return X(this.options.bounds).overlaps(q)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var _=this._map,I=this.getTileSize(),q=h.scaleBy(I),ne=q.add(I),we=_.unproject(q,h.z),He=_.unproject(ne,h.z);return[we,He]},_tileCoordsToBounds:function(h){var _=this._tileCoordsToNwSe(h),I=new G(_[0],_[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var _=h.split(":"),I=new re(+_[0],+_[1]);return I.z=+_[2],I},_removeTile:function(h){var _=this._tiles[h];_&&(N(_.el),delete this._tiles[h],this.fire("tileunload",{tile:_.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Se(h,"leaflet-tile");var _=this.getTileSize();h.style.width=_.x+"px",h.style.height=_.y+"px",h.onselectstart=p,h.onmousemove=p,lt.ielt9&&this.options.opacity<1&&je(h,this.options.opacity)},_addTile:function(h,_){var I=this._getTilePos(h),q=this._tileCoordsToKey(h),ne=this.createTile(this._wrapCoords(h),a(this._tileReady,this,h));this._initTile(ne),this.createTile.length<2&&H(a(this._tileReady,this,h,null,ne)),at(ne,I),this._tiles[q]={el:ne,coords:h,current:!0},_.appendChild(ne),this.fire("tileloadstart",{tile:ne,coords:h})},_tileReady:function(h,_,I){_&&this.fire("tileerror",{error:_,tile:I,coords:h});var q=this._tileCoordsToKey(h);I=this._tiles[q],I&&(I.loaded=+new Date,this._map._fadeAnimated?(je(I.el,0),te(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),_||(Se(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),lt.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var _=new re(this._wrapX?d(h.x,this._wrapX):h.x,this._wrapY?d(h.y,this._wrapY):h.y);return _.z=h.z,_},_pxBoundsToTileRange:function(h){var _=this.getTileSize();return new Q(h.min.unscaleBy(_).floor(),h.max.unscaleBy(_).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function tg(h){return new Pu(h)}var rs=Pu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,_){this._url=h,_=x(this,_),_.detectRetina&&lt.retina&&_.maxZoom>0?(_.tileSize=Math.floor(_.tileSize/2),_.zoomReverse?(_.zoomOffset--,_.minZoom=Math.min(_.maxZoom,_.minZoom+1)):(_.zoomOffset++,_.maxZoom=Math.max(_.minZoom,_.maxZoom-1)),_.minZoom=Math.max(0,_.minZoom)):_.zoomReverse?_.minZoom=Math.min(_.maxZoom,_.minZoom):_.maxZoom=Math.max(_.minZoom,_.maxZoom),typeof _.subdomains=="string"&&(_.subdomains=_.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,_){return this._url===h&&_===void 0&&(_=!0),this._url=h,_||this.redraw(),this},createTile:function(h,_){var I=document.createElement("img");return Kt(I,"load",a(this._tileOnLoad,this,_,I)),Kt(I,"error",a(this._tileOnError,this,_,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(h),I},getTileUrl:function(h){var _={r:lt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-h.y;this.options.tms&&(_.y=I),_["-y"]=I}return w(this._url,i(_,this.options))},_tileOnLoad:function(h,_){lt.ielt9?setTimeout(a(h,this,null,_),0):h(null,_)},_tileOnError:function(h,_,I){var q=this.options.errorTileUrl;q&&_.getAttribute("src")!==q&&(_.src=q),h(I,_)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,_=this.options.maxZoom,I=this.options.zoomReverse,q=this.options.zoomOffset;return I&&(h=_-h),h+q},_getSubdomain:function(h){var _=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[_]},_abortLoading:function(){var h,_;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(_=this._tiles[h].el,_.onload=p,_.onerror=p,!_.complete)){_.src=R;var I=this._tiles[h].coords;N(_),delete this._tiles[h],this.fire("tileabort",{tile:_,coords:I})}},_removeTile:function(h){var _=this._tiles[h];if(_)return _.el.setAttribute("src",R),Pu.prototype._removeTile.call(this,h)},_tileReady:function(h,_,I){if(!(!this._map||I&&I.getAttribute("src")===R))return Pu.prototype._tileReady.call(this,h,_,I)}});function ho(h,_){return new rs(h,_)}var jl=rs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,_){this._url=h;var I=i({},this.defaultWmsParams);for(var q in _)q in this.options||(I[q]=_[q]);_=x(this,_);var ne=_.detectRetina&&lt.retina?2:1,we=this.getTileSize();I.width=we.x*ne,I.height=we.y*ne,this.wmsParams=I},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var _=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[_]=this._crs.code,rs.prototype.onAdd.call(this,h)},getTileUrl:function(h){var _=this._tileCoordsToNwSe(h),I=this._crs,q=ce(I.project(_[0]),I.project(_[1])),ne=q.min,we=q.max,He=(this._wmsVersion>=1.3&&this._crs===Zd?[ne.y,ne.x,we.y,we.x]:[ne.x,ne.y,we.x,we.y]).join(","),ot=rs.prototype.getTileUrl.call(this,h);return ot+E(this.wmsParams,ot,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+He},setParams:function(h,_){return i(this.wmsParams,h),_||this.redraw(),this}});function po(h,_){return new jl(h,_)}rs.WMS=jl,ho.wms=po;var $i=Lo.extend({options:{padding:.1},initialize:function(h){x(this,h),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Se(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,_){var I=this._map.getZoomScale(_,this._zoom),q=this._map.getSize().multiplyBy(.5+this.options.padding),ne=this._map.project(this._center,_),we=q.multiplyBy(-I).add(ne).subtract(this._map._getNewPixelOrigin(h,_));lt.any3d?ct(this._container,we,I):at(this._container,we)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,_=this._map.getSize(),I=this._map.containerPointToLayerPoint(_.multiplyBy(-h)).round();this._bounds=new Q(I,I.add(_.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),of=$i.extend({options:{tolerance:0},getEvents:function(){var h=$i.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){$i.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Kt(h,"mousemove",this._onMouseMove,this),Kt(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Kt(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,N(this._container),ln(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var _ in this._layers)h=this._layers[_],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$i.prototype._update.call(this);var h=this._bounds,_=this._container,I=h.getSize(),q=lt.retina?2:1;at(_,h.min),_.width=q*I.x,_.height=q*I.y,_.style.width=I.x+"px",_.style.height=I.y+"px",lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){$i.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[l(h)]=h;var _=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=_),this._drawLast=_,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var _=h._order,I=_.next,q=_.prev;I?I.prev=q:this._drawLast=q,q?q.next=I:this._drawFirst=I,delete h._order,delete this._layers[l(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var _=h.options.dashArray.split(/[, ]+/),I=[],q,ne;for(ne=0;ne<_.length;ne++){if(q=Number(_[ne]),isNaN(q))return;I.push(q)}h.options._dashArray=I}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var _=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(h._pxBounds.min.subtract([_,_])),this._redrawBounds.extend(h._pxBounds.max.add([_,_]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var _=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,_.x,_.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,_=this._redrawBounds;if(this._ctx.save(),_){var I=_.getSize();this._ctx.beginPath(),this._ctx.rect(_.min.x,_.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var q=this._drawFirst;q;q=q.next)h=q.layer,(!_||h._pxBounds&&h._pxBounds.intersects(_))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,_){if(this._drawing){var I,q,ne,we,He=h._parts,ot=He.length,ht=this._ctx;if(ot){for(ht.beginPath(),I=0;I<ot;I++){for(q=0,ne=He[I].length;q<ne;q++)we=He[I][q],ht[q?"lineTo":"moveTo"](we.x,we.y);_&&ht.closePath()}this._fillStroke(ht,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var _=h._point,I=this._ctx,q=Math.max(Math.round(h._radius),1),ne=(Math.max(Math.round(h._radiusY),1)||q)/q;ne!==1&&(I.save(),I.scale(1,ne)),I.beginPath(),I.arc(_.x,_.y/ne,q,0,Math.PI*2,!1),ne!==1&&I.restore(),this._fillStroke(I,h)}},_fillStroke:function(h,_){var I=_.options;I.fill&&(h.globalAlpha=I.fillOpacity,h.fillStyle=I.fillColor||I.color,h.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(h.setLineDash&&h.setLineDash(_.options&&_.options._dashArray||[]),h.globalAlpha=I.opacity,h.lineWidth=I.weight,h.strokeStyle=I.color,h.lineCap=I.lineCap,h.lineJoin=I.lineJoin,h.stroke())},_onClick:function(h){for(var _=this._map.mouseEventToLayerPoint(h),I,q,ne=this._drawFirst;ne;ne=ne.next)I=ne.layer,I.options.interactive&&I._containsPoint(_)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(I))&&(q=I);this._fireEvent(q?[q]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var _=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,_)}},_handleMouseOut:function(h){var _=this._hoveredLayer;_&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([_],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,_){if(!this._mouseHoverThrottled){for(var I,q,ne=this._drawFirst;ne;ne=ne.next)I=ne.layer,I.options.interactive&&I._containsPoint(_)&&(q=I);q!==this._hoveredLayer&&(this._handleMouseOut(h),q&&(Se(this._container,"leaflet-interactive"),this._fireEvent([q],h,"mouseover"),this._hoveredLayer=q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,_,I){this._map._fireDOMEvent(_,I||_.type,h)},_bringToFront:function(h){var _=h._order;if(_){var I=_.next,q=_.prev;if(I)I.prev=q;else return;q?q.next=I:I&&(this._drawFirst=I),_.prev=this._drawLast,this._drawLast.next=_,_.next=null,this._drawLast=_,this._requestRedraw(h)}},_bringToBack:function(h){var _=h._order;if(_){var I=_.next,q=_.prev;if(q)q.next=I;else return;I?I.prev=q:q&&(this._drawLast=q),_.prev=null,_.next=this._drawFirst,this._drawFirst.prev=_,this._drawFirst=_,this._requestRedraw(h)}}});function Ul(h){return lt.canvas?new of(h):null}var is=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Qd={_initContainer:function(){this._container=O("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||($i.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var _=h._container=is("shape");Se(_,"leaflet-vml-shape "+(this.options.className||"")),_.coordsize="1 1",h._path=is("path"),_.appendChild(h._path),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){var _=h._container;this._container.appendChild(_),h.options.interactive&&h.addInteractiveTarget(_)},_removePath:function(h){var _=h._container;N(_),h.removeInteractiveTarget(_),delete this._layers[l(h)]},_updateStyle:function(h){var _=h._stroke,I=h._fill,q=h.options,ne=h._container;ne.stroked=!!q.stroke,ne.filled=!!q.fill,q.stroke?(_||(_=h._stroke=is("stroke")),ne.appendChild(_),_.weight=q.weight+"px",_.color=q.color,_.opacity=q.opacity,q.dashArray?_.dashStyle=C(q.dashArray)?q.dashArray.join(" "):q.dashArray.replace(/( *, *)/g," "):_.dashStyle="",_.endcap=q.lineCap.replace("butt","flat"),_.joinstyle=q.lineJoin):_&&(ne.removeChild(_),h._stroke=null),q.fill?(I||(I=h._fill=is("fill")),ne.appendChild(I),I.color=q.fillColor||q.color,I.opacity=q.fillOpacity):I&&(ne.removeChild(I),h._fill=null)},_updateCircle:function(h){var _=h._point.round(),I=Math.round(h._radius),q=Math.round(h._radiusY||I);this._setPath(h,h._empty()?"M0 0":"AL "+_.x+","+_.y+" "+I+","+q+" 0,"+65535*360)},_setPath:function(h,_){h._path.v=_},_bringToFront:function(h){he(h._container)},_bringToBack:function(h){ve(h._container)}},aa=lt.vml?is:me,Ou=$i.extend({_initContainer:function(){this._container=aa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=aa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),ln(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){$i.prototype._update.call(this);var h=this._bounds,_=h.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(_))&&(this._svgSize=_,I.setAttribute("width",_.x),I.setAttribute("height",_.y)),at(I,h.min),I.setAttribute("viewBox",[h.min.x,h.min.y,_.x,_.y].join(" ")),this.fire("update")}},_initPath:function(h){var _=h._path=aa("path");h.options.className&&Se(_,h.options.className),h.options.interactive&&Se(_,"leaflet-interactive"),this._updateStyle(h),this._layers[l(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){N(h._path),h.removeInteractiveTarget(h._path),delete this._layers[l(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var _=h._path,I=h.options;_&&(I.stroke?(_.setAttribute("stroke",I.color),_.setAttribute("stroke-opacity",I.opacity),_.setAttribute("stroke-width",I.weight),_.setAttribute("stroke-linecap",I.lineCap),_.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?_.setAttribute("stroke-dasharray",I.dashArray):_.removeAttribute("stroke-dasharray"),I.dashOffset?_.setAttribute("stroke-dashoffset",I.dashOffset):_.removeAttribute("stroke-dashoffset")):_.setAttribute("stroke","none"),I.fill?(_.setAttribute("fill",I.fillColor||I.color),_.setAttribute("fill-opacity",I.fillOpacity),_.setAttribute("fill-rule",I.fillRule||"evenodd")):_.setAttribute("fill","none"))},_updatePoly:function(h,_){this._setPath(h,Te(h._parts,_))},_updateCircle:function(h){var _=h._point,I=Math.max(Math.round(h._radius),1),q=Math.max(Math.round(h._radiusY),1)||I,ne="a"+I+","+q+" 0 1,0 ",we=h._empty()?"M0 0":"M"+(_.x-I)+","+_.y+ne+I*2+",0 "+ne+-I*2+",0 ";this._setPath(h,we)},_setPath:function(h,_){h._path.setAttribute("d",_)},_bringToFront:function(h){he(h._path)},_bringToBack:function(h){ve(h._path)}});lt.vml&&Ou.include(Qd);function Bl(h){return lt.svg||lt.vml?new Ou(h):null}bn.include({getRenderer:function(h){var _=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return _||(_=this._renderer=this._createRenderer()),this.hasLayer(_)||this.addLayer(_),_},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var _=this._paneRenderers[h];return _===void 0&&(_=this._createRenderer({pane:h}),this._paneRenderers[h]=_),_},_createRenderer:function(h){return this.options.preferCanvas&&Ul(h)||Bl(h)}});var Ls=Cu.extend({initialize:function(h,_){Cu.prototype.initialize.call(this,this._boundsToLatLngs(h),_)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=X(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function E0(h,_){return new Ls(h,_)}Ou.create=aa,Ou.pointsToPath=Te,Pa.geometryToLayer=_i,Pa.coordsToLatLng=Xc,Pa.coordsToLatLngs=Il,Pa.latLngToCoords=ef,Pa.latLngsToCoords=kl,Pa.getFeature=es,Pa.asFeature=tf,bn.mergeOptions({boxZoom:!0});var zi=co.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ln(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),gt(),this._startPoint=this._map.mouseEventToContainerPoint(h),Kt(document,{contextmenu:uo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=O("div","leaflet-zoom-box",this._container),Se(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var _=new Q(this._point,this._startPoint),I=_.getSize();at(this._box,_.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(N(this._box),Ce(this._container,"leaflet-crosshair")),Fe(),$t(),ln(document,{contextmenu:uo,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var _=new G(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(_).fire("boxzoomend",{boxZoomBounds:_})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});bn.addInitHook("addHandler","boxZoom",zi),bn.mergeOptions({doubleClickZoom:!0});var af=co.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var _=this._map,I=_.getZoom(),q=_.options.zoomDelta,ne=h.originalEvent.shiftKey?I-q:I+q;_.options.doubleClickZoom==="center"?_.setZoom(ne):_.setZoomAround(h.containerPoint,ne)}});bn.addInitHook("addHandler","doubleClickZoom",af),bn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sa=co.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new Xa(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Se(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ce(this._map._container,"leaflet-grab"),Ce(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var _=X(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(_.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(_.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var _=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(_),this._prunePositions(_)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),_=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=_.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,_){return h-(h-_)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),_=this._offsetLimit;h.x<_.min.x&&(h.x=this._viscousLimit(h.x,_.min.x)),h.y<_.min.y&&(h.y=this._viscousLimit(h.y,_.min.y)),h.x>_.max.x&&(h.x=this._viscousLimit(h.x,_.max.x)),h.y>_.max.y&&(h.y=this._viscousLimit(h.y,_.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,_=Math.round(h/2),I=this._initialWorldOffset,q=this._draggable._newPos.x,ne=(q-_+I)%h+_-I,we=(q+_+I)%h-_-I,He=Math.abs(ne+I)<Math.abs(we+I)?ne:we;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=He},_onDragEnd:function(h){var _=this._map,I=_.options,q=!I.inertia||h.noInertia||this._times.length<2;if(_.fire("dragend",h),q)_.fire("moveend");else{this._prunePositions(+new Date);var ne=this._lastPos.subtract(this._positions[0]),we=(this._lastTime-this._times[0])/1e3,He=I.easeLinearity,ot=ne.multiplyBy(He/we),ht=ot.distanceTo([0,0]),xt=Math.min(I.inertiaMaxSpeed,ht),kt=ot.multiplyBy(xt/ht),Qt=xt/(I.inertiaDeceleration*He),gn=kt.multiplyBy(-Qt/2).round();!gn.x&&!gn.y?_.fire("moveend"):(gn=_._limitOffset(gn,_.options.maxBounds),H(function(){_.panBy(gn,{duration:Qt,easeLinearity:He,noMoveStart:!0,animate:!0})}))}}});bn.addInitHook("addHandler","dragging",sa),bn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jd=co.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Kt(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ln(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,_=document.documentElement,I=h.scrollTop||_.scrollTop,q=h.scrollLeft||_.scrollLeft;this._map._container.focus(),window.scrollTo(q,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var _=this._panKeys={},I=this.keyCodes,q,ne;for(q=0,ne=I.left.length;q<ne;q++)_[I.left[q]]=[-1*h,0];for(q=0,ne=I.right.length;q<ne;q++)_[I.right[q]]=[h,0];for(q=0,ne=I.down.length;q<ne;q++)_[I.down[q]]=[0,h];for(q=0,ne=I.up.length;q<ne;q++)_[I.up[q]]=[0,-1*h]},_setZoomDelta:function(h){var _=this._zoomKeys={},I=this.keyCodes,q,ne;for(q=0,ne=I.zoomIn.length;q<ne;q++)_[I.zoomIn[q]]=h;for(q=0,ne=I.zoomOut.length;q<ne;q++)_[I.zoomOut[q]]=-h},_addHooks:function(){Kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ln(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var _=h.keyCode,I=this._map,q;if(_ in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(q=this._panKeys[_],h.shiftKey&&(q=$(q).multiplyBy(3)),I.options.maxBounds&&(q=I._limitOffset($(q),I.options.maxBounds)),I.options.worldCopyJump){var ne=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(q)));I.panTo(ne)}else I.panBy(q)}else if(_ in this._zoomKeys)I.setZoom(I.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[_]);else if(_===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;uo(h)}}});bn.addInitHook("addHandler","keyboard",Jd),bn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $l=co.extend({addHooks:function(){Kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ln(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var _=jr(h),I=this._map.options.wheelDebounceTime;this._delta+=_,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var q=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),q),uo(h)},_performZoom:function(){var h=this._map,_=h.getZoom(),I=this._map.options.zoomSnap||0;h._stop();var q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),ne=4*Math.log(2/(1+Math.exp(-Math.abs(q))))/Math.LN2,we=I?Math.ceil(ne/I)*I:ne,He=h._limitZoom(_+(this._delta>0?we:-we))-_;this._delta=0,this._startTime=null,He&&(h.options.scrollWheelZoom==="center"?h.setZoom(_+He):h.setZoomAround(this._lastMousePos,_+He))}});bn.addInitHook("addHandler","scrollWheelZoom",$l);var Is=600;bn.mergeOptions({tapHold:lt.touchNative&&lt.safari&&lt.mobile,tapTolerance:15});var sf=co.extend({addHooks:function(){Kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ln(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var _=h.touches[0];this._startPos=this._newPos=new re(_.clientX,_.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(Kt(document,"touchend",tr),Kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",_))},this),Is),Kt(document,"touchend touchcancel contextmenu",this._cancel,this),Kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){ln(document,"touchend",tr),ln(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),ln(document,"touchend touchcancel contextmenu",this._cancel,this),ln(document,"touchmove",this._onMove,this)},_onMove:function(h){var _=h.touches[0];this._newPos=new re(_.clientX,_.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,_){var I=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:_.screenX,screenY:_.screenY,clientX:_.clientX,clientY:_.clientY});I._simulated=!0,_.target.dispatchEvent(I)}});bn.addInitHook("addHandler","tapHold",sf),bn.mergeOptions({touchZoom:lt.touch,bounceAtZoomLimits:!0});var Yd=co.extend({addHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),Kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),ln(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var _=this._map;if(!(!h.touches||h.touches.length!==2||_._animatingZoom||this._zooming)){var I=_.mouseEventToContainerPoint(h.touches[0]),q=_.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=_.getSize()._divideBy(2),this._startLatLng=_.containerPointToLatLng(this._centerPoint),_.options.touchZoom!=="center"&&(this._pinchStartLatLng=_.containerPointToLatLng(I.add(q)._divideBy(2))),this._startDist=I.distanceTo(q),this._startZoom=_.getZoom(),this._moved=!1,this._zooming=!0,_._stop(),Kt(document,"touchmove",this._onTouchMove,this),Kt(document,"touchend touchcancel",this._onTouchEnd,this),tr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var _=this._map,I=_.mouseEventToContainerPoint(h.touches[0]),q=_.mouseEventToContainerPoint(h.touches[1]),ne=I.distanceTo(q)/this._startDist;if(this._zoom=_.getScaleZoom(ne,this._startZoom),!_.options.bounceAtZoomLimits&&(this._zoom<_.getMinZoom()&&ne<1||this._zoom>_.getMaxZoom()&&ne>1)&&(this._zoom=_._limitZoom(this._zoom)),_.options.touchZoom==="center"){if(this._center=this._startLatLng,ne===1)return}else{var we=I._add(q)._divideBy(2)._subtract(this._centerPoint);if(ne===1&&we.x===0&&we.y===0)return;this._center=_.unproject(_.project(this._pinchStartLatLng,this._zoom).subtract(we),this._zoom)}this._moved||(_._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var He=a(_._move,_,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(He,this,!0),tr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),ln(document,"touchmove",this._onTouchMove,this),ln(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});bn.addInitHook("addHandler","touchZoom",Yd),bn.BoxZoom=zi,bn.DoubleClickZoom=af,bn.Drag=sa,bn.Keyboard=Jd,bn.ScrollWheelZoom=$l,bn.TapHold=sf,bn.TouchZoom=Yd,n.Bounds=Q,n.Browser=lt,n.CRS=Ve,n.Canvas=of,n.Circle=Yc,n.CircleMarker=Eu,n.Class=ue,n.Control=gr,n.DivIcon=eg,n.DivOverlay=wi,n.DomEvent=Ca,n.DomUtil=Nn,n.Draggable=Xa,n.Evented=pe,n.FeatureGroup=ra,n.GeoJSON=Pa,n.GridLayer=Pu,n.Handler=co,n.Icon=ia,n.ImageOverlay=Au,n.LatLng=ge,n.LatLngBounds=G,n.Layer=Lo,n.LayerGroup=xu,n.LineUtil=v0,n.Map=bn,n.Marker=Ll,n.Mixin=Gc,n.Path=oa,n.Point=re,n.PolyUtil=Gd,n.Polygon=Cu,n.Polyline=Ra,n.Popup=Nl,n.PosAnimation=lo,n.Projection=Vm,n.Rectangle=Ls,n.Renderer=$i,n.SVG=Ou,n.SVGOverlay=rf,n.TileLayer=rs,n.Tooltip=Fl,n.Transformation=fe,n.Util=oe,n.VideoOverlay=ns,n.bind=a,n.bounds=ce,n.canvas=Ul,n.circle=Qm,n.circleMarker=Zm,n.control=fi,n.divIcon=x0,n.extend=i,n.featureGroup=Gm,n.geoJSON=nf,n.geoJson=Dl,n.gridLayer=tg,n.icon=Pl,n.imageOverlay=Jm,n.latLng=xe,n.latLngBounds=X,n.layerGroup=_0,n.map=Ta,n.marker=Wm,n.point=$,n.polygon=b0,n.polyline=w0,n.popup=Xm,n.rectangle=E0,n.setOptions=x,n.stamp=l,n.svg=Bl,n.svgOverlay=Ym,n.tileLayer=ho,n.tooltip=S0,n.transformation=V,n.version=r,n.videoOverlay=Ru;var Xd=window.L;n.noConflict=function(){return window.L=Xd,this},window.L=n}))})(fp,fp.exports)),fp.exports}var En=MQ();const HA=_r(En),LQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",IQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",kQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete En.Icon.Default.prototype._getIconUrl;En.Icon.Default.mergeOptions({iconUrl:IQ,iconRetinaUrl:LQ,shadowUrl:kQ});const rB="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",DQ=En.icon({...En.Icon.Default.prototype.options,iconUrl:uk,iconRetinaUrl:uk}),NQ=e=>En.icon({...En.Icon.Default.prototype.options,iconUrl:lk,iconRetinaUrl:lk,className:e}),a_=["en","cs"],Ed="en",iB=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],FQ=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:ZU,communityId:WU,darkModeLogoStyle:eB,defaultCommunityName:tB,defaultLocale:Ed,emailNotificationsIdentity:JU,emailNotificationsService:QU,emailNotificationsType:YU,geoindexService:XU,locales:a_,oidcIssuers:iB,tileServer:rB},Symbol.toStringTag,{value:"Module"}));function Di(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",fk=jQ,p1=()=>Math.random().toString(36).substring(7).split("").join("."),UQ={INIT:`@@redux/INIT${p1()}`,REPLACE:`@@redux/REPLACE${p1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${p1()}`},s_=UQ;function VA(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function KA(e,t,n){if(typeof e!="function")throw new Error(Di(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Di(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Di(1));return n(KA)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function f(){a===o&&(a=new Map,o.forEach((E,v)=>{a.set(v,E)}))}function d(){if(l)throw new Error(Di(3));return i}function p(E){if(typeof E!="function")throw new Error(Di(4));if(l)throw new Error(Di(5));let v=!0;f();const w=s++;return a.set(w,E),function(){if(v){if(l)throw new Error(Di(6));v=!1,f(),a.delete(w),o=null}}}function g(E){if(!VA(E))throw new Error(Di(7));if(typeof E.type>"u")throw new Error(Di(8));if(typeof E.type!="string")throw new Error(Di(17));if(l)throw new Error(Di(9));try{l=!0,i=r(i,E)}finally{l=!1}return(o=a).forEach(w=>{w()}),E}function y(E){if(typeof E!="function")throw new Error(Di(10));r=E,g({type:s_.REPLACE})}function b(){const E=p;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Di(11));function w(){const P=v;P.next&&P.next(d())}return w(),{unsubscribe:E(w)}},[fk](){return this}}}return g({type:s_.INIT}),{dispatch:g,subscribe:p,getState:d,replaceReducer:y,[fk]:b}}function BQ(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:s_.INIT})>"u")throw new Error(Di(12));if(typeof n(void 0,{type:s_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Di(13))})}function oB(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const a=t[o];typeof e[a]=="function"&&(n[a]=e[a])}const r=Object.keys(n);let i;try{BQ(n)}catch(o){i=o}return function(a={},s){if(i)throw i;let l=!1;const f={};for(let d=0;d<r.length;d++){const p=r[d],g=n[p],y=a[p],b=g(y,s);if(typeof b>"u")throw s&&s.type,new Error(Di(14));f[p]=b,l=l||b!==y}return l=l||r.length!==Object.keys(a).length,l?f:a}}function u_(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function $Q(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Di(15))};const a={getState:i.getState,dispatch:(l,...f)=>o(l,...f)},s=e.map(l=>l(a));return o=u_(...s)(i.dispatch),{...i,dispatch:o}}}function zQ(e){return VA(e)&&"type"in e&&typeof e.type=="string"}var aB=Symbol.for("immer-nothing"),dk=Symbol.for("immer-draftable"),io=Symbol.for("immer-state");function Fa(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Vo=Object,fd=Vo.getPrototypeOf,l_="constructor",tw="prototype",vT="configurable",c_="enumerable",Nv="writable",Up="value",ou=e=>!!e&&!!e[io];function za(e){return e?sB(e)||nw(e)||!!e[dk]||!!e[l_]?.[dk]||rw(e)||iw(e):!1}var qQ=Vo[tw][l_].toString(),hk=new WeakMap;function sB(e){if(!e||!GA(e))return!1;const t=fd(e);if(t===null||t===Vo[tw])return!0;const n=Vo.hasOwnProperty.call(t,l_)&&t[l_];if(n===Object)return!0;if(!Gf(n))return!1;let r=hk.get(n);return r===void 0&&(r=Function.toString.call(n),hk.set(n,r)),r===qQ}function gm(e,t,n=!0){ym(e)===0?(n?Reflect.ownKeys(e):Vo.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ym(e){const t=e[io];return t?t.type_:nw(e)?1:rw(e)?2:iw(e)?3:0}var pk=(e,t,n=ym(e))=>n===2?e.has(t):Vo[tw].hasOwnProperty.call(e,t),_T=(e,t,n=ym(e))=>n===2?e.get(t):e[t],f_=(e,t,n,r=ym(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function HQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var nw=Array.isArray,rw=e=>e instanceof Map,iw=e=>e instanceof Set,GA=e=>typeof e=="object",Gf=e=>typeof e=="function",m1=e=>typeof e=="boolean",tu=e=>e.copy_||e.base_,WA=e=>e.modified_?e.copy_:e.base_;function wT(e,t){if(rw(e))return new Map(e);if(iw(e))return new Set(e);if(nw(e))return Array[tw].slice.call(e);const n=sB(e);if(t===!0||t==="class_only"&&!n){const r=Vo.getOwnPropertyDescriptors(e);delete r[io];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s[Nv]===!1&&(s[Nv]=!0,s[vT]=!0),(s.get||s.set)&&(r[a]={[vT]:!0,[Nv]:!0,[c_]:s[c_],[Up]:e[a]})}return Vo.create(fd(e),r)}else{const r=fd(e);if(r!==null&&n)return{...e};const i=Vo.create(r);return Vo.assign(i,e)}}function ZA(e,t=!1){return ow(e)||ou(e)||!za(e)||(ym(e)>1&&Vo.defineProperties(e,{set:ry,add:ry,clear:ry,delete:ry}),Vo.freeze(e),t&&gm(e,(n,r)=>{ZA(r,!0)},!1)),e}function VQ(){Fa(2)}var ry={[Up]:VQ};function ow(e){return e===null||!GA(e)?!0:Vo.isFrozen(e)}var d_="MapSet",bT="Patches",uB={};function dd(e){const t=uB[e];return t||Fa(0,e),t}var KQ=e=>!!uB[e],Bp,lB=()=>Bp,GQ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:KQ(d_)?dd(d_):void 0});function mk(e,t){t&&(e.patchPlugin_=dd(bT),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ST(e){xT(e),e.drafts_.forEach(WQ),e.drafts_=null}function xT(e){e===Bp&&(Bp=e.parent_)}var gk=e=>Bp=GQ(Bp,e);function WQ(e){const t=e[io];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[io].modified_&&(ST(t),Fa(4)),za(e)&&(e=vk(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[io].base_,e,t)}else e=vk(t,n);return ZQ(t,e,!0),ST(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==aB?e:void 0}function vk(e,t){if(ow(t))return t;const n=t[io];if(!n)return QA(t,e.handledSet_,e);if(!aw(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);dB(n,e)}return n.copy_}function ZQ(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ZA(t,n)}function cB(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var aw=(e,t)=>e.scope_===t,QQ=[];function fB(e,t,n,r){const i=tu(e),o=e.type_;if(r!==void 0&&_T(i,r,o)===t){f_(i,r,n,o);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;gm(i,(l,f)=>{if(ou(f)){const d=s.get(f)||[];d.push(l),s.set(f,d)}})}const a=e.draftLocations_.get(t)??QQ;for(const s of a)f_(i,s,n,o)}function JQ(e,t,n){e.callbacks_.push(function(i){const o=t;if(!o||!aw(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const a=WA(o);fB(e,o.draft_??o,a,n),dB(o,i)})}function dB(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const i=r.getPath(e);i&&r.generatePatches_(e,i,t)}cB(e)}}function YQ(e,t,n){const{scope_:r}=e;if(ou(n)){const i=n[io];aw(i,r)&&i.callbacks_.push(function(){Fv(e);const a=WA(i);fB(e,n,a,t)})}else za(n)&&e.callbacks_.push(function(){const o=tu(e);_T(o,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&QA(_T(e.copy_,t,e.type_),r.handledSet_,r)})}function QA(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ou(e)||t.has(e)||!za(e)||ow(e)||(t.add(e),gm(e,(r,i)=>{if(ou(i)){const o=i[io];if(aw(o,n)){const a=WA(o);f_(e,r,a,e.type_),cB(o)}}else za(i)&&QA(i,t,n)})),e}function XQ(e,t){const n=nw(e),r={type_:n?1:0,scope_:t?t.scope_:lB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=JA;n&&(i=[r],o=$p);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}var JA={get(e,t){if(t===io)return e;const n=tu(e);if(!pk(n,t,e.type_))return eJ(e,n,t);const r=n[t];if(e.finalized_||!za(r))return r;if(r===g1(e.base_,t)){Fv(e);const i=e.type_===1?+t:t,o=CT(e.scope_,r,e,i);return e.copy_[i]=o}return r},has(e,t){return t in tu(e)},ownKeys(e){return Reflect.ownKeys(tu(e))},set(e,t,n){const r=hB(tu(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=g1(tu(e),t),o=i?.[io];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(HQ(n,i)&&(n!==void 0||pk(e.base_,t,e.type_)))return!0;Fv(e),ET(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),YQ(e,t,n)),!0},deleteProperty(e,t){return Fv(e),g1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ET(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Nv]:!0,[vT]:e.type_!==1||t!=="length",[c_]:r[c_],[Up]:n[t]}},defineProperty(){Fa(11)},getPrototypeOf(e){return fd(e.base_)},setPrototypeOf(){Fa(12)}},$p={};gm(JA,(e,t)=>{$p[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}});$p.deleteProperty=function(e,t){return $p.set.call(this,e,t,void 0)};$p.set=function(e,t,n){return JA.set.call(this,e[0],t,n,e[0])};function g1(e,t){const n=e[io];return(n?tu(n):e)[t]}function eJ(e,t,n){const r=hB(t,n);return r?Up in r?r[Up]:r.get?.call(e.draft_):void 0}function hB(e,t){if(!(t in e))return;let n=fd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=fd(n)}}function ET(e){e.modified_||(e.modified_=!0,e.parent_&&ET(e.parent_))}function Fv(e){e.copy_||(e.assigned_=new Map,e.copy_=wT(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tJ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Gf(n)&&!Gf(r)){const a=r;r=n;const s=this;return function(f=a,...d){return s.produce(f,p=>r.call(this,p,...d))}}Gf(r)||Fa(6),i!==void 0&&!Gf(i)&&Fa(7);let o;if(za(n)){const a=gk(this),s=CT(a,n,void 0);let l=!0;try{o=r(s),l=!1}finally{l?ST(a):xT(a)}return mk(a,i),yk(o,a)}else if(!n||!GA(n)){if(o=r(n),o===void 0&&(o=n),o===aB&&(o=void 0),this.autoFreeze_&&ZA(o,!0),i){const a=[],s=[];dd(bT).generateReplacementPatches_(n,o,{patches_:a,inversePatches_:s}),i(a,s)}return o}else Fa(1,n)},this.produceWithPatches=(n,r)=>{if(Gf(n))return(s,...l)=>this.produceWithPatches(s,f=>n(f,...l));let i,o;return[this.produce(n,r,(s,l)=>{i=s,o=l}),i,o]},m1(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),m1(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),m1(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){za(t)||Fa(8),ou(t)&&(t=nJ(t));const n=gk(this),r=CT(n,t,void 0);return r[io].isManual_=!0,xT(n),r}finishDraft(t,n){const r=t&&t[io];(!r||!r.isManual_)&&Fa(9);const{scope_:i}=r;return mk(i,n),yk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}r>-1&&(n=n.slice(r+1));const i=dd(bT).applyPatches_;return ou(t)?i(t,n):this.produce(t,o=>i(o,n))}};function CT(e,t,n,r){const[i,o]=rw(t)?dd(d_).proxyMap_(t,n):iw(t)?dd(d_).proxySet_(t,n):XQ(t,n);return(n?.scope_??lB()).drafts_.push(i),o.callbacks_=n?.callbacks_??[],o.key_=r,n&&r!==void 0?JQ(n,o,r):o.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:f}=l;o.modified_&&f&&f.generatePatches_(o,[],l)}),i}function nJ(e){return ou(e)||Fa(10,e),pB(e)}function pB(e){if(!za(e)||ow(e))return e;const t=e[io];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wT(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wT(e,!0);return gm(n,(i,o)=>{f_(n,i,pB(o))},r),t&&(t.finalized_=!1),n}var rJ=new tJ,mB=rJ.produce;function gB(e){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,e):i(o)}var iJ=gB(),oJ=gB,aJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?u_:u_.apply(null,arguments)},sJ=e=>e&&typeof e.match=="function";function _k(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ru(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>zQ(r)&&r.type===e,n}var yB=class dp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,dp.prototype)}static get[Symbol.species](){return dp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new dp(...t[0].concat(this)):new dp(...t.concat(this))}};function wk(e){return za(e)?mB(e,()=>{}):e}function iy(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function uJ(e){return typeof e=="boolean"}var lJ=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=t??{};let a=new yB;return n&&(uJ(n)?a.push(iJ):a.push(oJ(n.extraArgument))),a},cJ="RTK_autoBatch",bk=e=>t=>{setTimeout(t,e)},fJ=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:bk(10):e.type==="callback"?e.queueNotification:bk(e.timeout),f=()=>{a=!1,o&&(o=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const p=()=>i&&d(),g=r.subscribe(p);return s.add(d),()=>{g(),s.delete(d)}},dispatch(d){try{return i=!d?.meta?.[cJ],o=!i,o&&(a||(a=!0,l(f))),r.dispatch(d)}finally{i=!0}}})},dJ=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new yB(e);return r&&i.push(fJ(typeof r=="object"?r:void 0)),i};function hJ(e){const t=lJ(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:a=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(VA(n))s=oB(n);else throw new Error(ru(1));let l;typeof r=="function"?l=r(t):l=t();let f=u_;i&&(f=aJ({trace:!1,...typeof i=="object"&&i}));const d=$Q(...l),p=dJ(d);let g=typeof a=="function"?a(p):p();const y=f(...g);return KA(s,o,y)}function vB(e){const t={},n=[];let r;const i={addCase(o,a){const s=typeof o=="string"?o:o.type;if(!s)throw new Error(ru(28));if(s in t)throw new Error(ru(29));return t[s]=a,i},addAsyncThunk(o,a){return a.pending&&(t[o.pending.type]=a.pending),a.rejected&&(t[o.rejected.type]=a.rejected),a.fulfilled&&(t[o.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:o.settled,reducer:a.settled}),i},addMatcher(o,a){return n.push({matcher:o,reducer:a}),i},addDefaultCase(o){return r=o,i}};return e(i),[t,n,r]}function pJ(e){return typeof e=="function"}function mJ(e,t){let[n,r,i]=vB(t),o;if(pJ(e))o=()=>wk(e());else{const s=wk(e);o=()=>s}function a(s=o(),l){let f=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,p)=>{if(p)if(ou(d)){const y=p(d,l);return y===void 0?d:y}else{if(za(d))return mB(d,g=>p(g,l));{const g=p(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},s)}return a.getInitialState=o,a}var gJ=(e,t)=>sJ(e)?e.match(t):e(t);function yJ(...e){return t=>e.some(n=>gJ(n,t))}var vJ=Symbol.for("rtk-slice-createasyncthunk");function _J(e,t){return`${e}/${t}`}function wJ({creators:e}={}){const t=e?.asyncThunk?.[vJ];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(ru(11));const a=(typeof r.reducers=="function"?r.reducers(SJ()):r.reducers)||{},s=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,P){const R=typeof C=="string"?C:C.type;if(!R)throw new Error(ru(12));if(R in l.sliceCaseReducersByType)throw new Error(ru(13));return l.sliceCaseReducersByType[R]=P,f},addMatcher(C,P){return l.sliceMatchers.push({matcher:C,reducer:P}),f},exposeAction(C,P){return l.actionCreators[C]=P,f},exposeCaseReducer(C,P){return l.sliceCaseReducersByName[C]=P,f}};s.forEach(C=>{const P=a[C],R={reducerName:C,type:_J(i,C),createNotation:typeof r.reducers=="function"};EJ(P)?TJ(R,P,f,t):xJ(R,P,f)});function d(){const[C={},P=[],R=void 0]=typeof r.extraReducers=="function"?vB(r.extraReducers):[r.extraReducers],k={...C,...l.sliceCaseReducersByType};return mJ(r.initialState,M=>{for(let W in k)M.addCase(W,k[W]);for(let W of l.sliceMatchers)M.addMatcher(W.matcher,W.reducer);for(let W of P)M.addMatcher(W.matcher,W.reducer);R&&M.addDefaultCase(R)})}const p=C=>C,g=new Map,y=new WeakMap;let b;function x(C,P){return b||(b=d()),b(C,P)}function E(){return b||(b=d()),b.getInitialState()}function v(C,P=!1){function R(M){let W=M[C];return typeof W>"u"&&P&&(W=iy(y,R,E)),W}function k(M=p){const W=iy(g,P,()=>new WeakMap);return iy(W,M,()=>{const ee={};for(const[z,H]of Object.entries(r.selectors??{}))ee[z]=bJ(H,M,()=>iy(y,M,E),P);return ee})}return{reducerPath:C,getSelectors:k,get selectors(){return k(R)},selectSlice:R}}const w={name:i,reducer:x,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:E,...v(o),injectInto(C,{reducerPath:P,...R}={}){const k=P??o;return C.inject({reducerPath:k,reducer:x},R),{...w,...v(k,!0)}}};return w}}function bJ(e,t,n,r){function i(o,...a){let s=t(o);return typeof s>"u"&&r&&(s=n()),e(s,...a)}return i.unwrapped=e,i}var sw=wJ();function SJ(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function xJ({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!CJ(r))throw new Error(ru(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?_k(e,a):_k(e))}function EJ(e){return e._reducerDefinitionType==="asyncThunk"}function CJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TJ({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ru(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:f,options:d}=n,p=i(e,o,d);r.exposeAction(t,p),a&&r.addCase(p.fulfilled,a),s&&r.addCase(p.pending,s),l&&r.addCase(p.rejected,l),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(t,{fulfilled:a||oy,pending:s||oy,rejected:l||oy,settled:f||oy})}function oy(){}function ru(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const _B=()=>{const e=globalThis.navigator.languages?.[0]??globalThis.navigator.language;return a_.find(n=>n===e)??a_.find(n=>e.startsWith(n))??Ed},AJ={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",locale:_B()},RJ=sw({name:"ui",initialState:AJ,reducers:{toggleTheme:e=>{e.theme=e.theme==="dark"?"light":"dark"},changeLocale:(e,t)=>{e.locale=t.payload??_B()}}}),{actions:YA,reducer:PJ}=RJ,XA=e=>e.ui.theme,xa=e=>e.ui.locale,ll=e=>typeof e=="string",OJ=e=>typeof e=="function",Sk=new Map,wB="en";function eR(e){return[...Array.isArray(e)?e:[e],wB]}function tR(e,t,n){const r=eR(e);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return h_(()=>p_("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(ll(t)?new Date(t):t)}function MJ(e,t,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return tR(e,t,r)}function TT(e,t,n){const r=eR(e);return h_(()=>p_("number",r,n),()=>new Intl.NumberFormat(r,n)).format(t)}function xk(e,t,n,{offset:r=0,...i}){const o=eR(e),a=t?h_(()=>p_("plural-ordinal",o),()=>new Intl.PluralRules(o,{type:"ordinal"})):h_(()=>p_("plural-cardinal",o),()=>new Intl.PluralRules(o,{type:"cardinal"}));return i[n]??i[a.select(n-r)]??i.other}function h_(e,t){const n=e();let r=Sk.get(n);return r||(r=t(),Sk.set(n,r)),r}function p_(e,t,n){const r=t.join("-");return`${e}-${r}-${JSON.stringify(n)}`}const bB=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,SB=e=>e.replace(/\\u([a-fA-F0-9]{4})|\\x([a-fA-F0-9]{2})/g,(t,n,r)=>{if(n){const i=parseInt(n,16);return String.fromCharCode(i)}else{const i=parseInt(r,16);return String.fromCharCode(i)}}),xB="%__lingui_octothorpe__%",LJ=(e,t,n={})=>{const r=t||e,i=a=>typeof a=="object"?a:n[a],o=(a,s)=>{const l=Object.keys(n).length?i("number"):void 0,f=TT(r,a,l);return s.replace(new RegExp(xB,"g"),f)};return{plural:(a,s)=>{const{offset:l=0}=s,f=xk(r,!1,a,s);return o(a-l,f)},selectordinal:(a,s)=>{const{offset:l=0}=s,f=xk(r,!0,a,s);return o(a-l,f)},select:IJ,number:(a,s)=>TT(r,a,i(s)||{style:s}),date:(a,s)=>tR(r,a,i(s)||s),time:(a,s)=>MJ(r,a,i(s)||s)}},IJ=(e,t)=>t[e]??t.other;function kJ(e,t,n){return(r={},i)=>{const o=LJ(t,n,i),a=(l,f=!1)=>Array.isArray(l)?l.reduce((d,p)=>{if(p==="#"&&f)return d+xB;if(ll(p))return d+p;const[g,y,b]=p;let x={};y==="plural"||y==="selectordinal"||y==="select"?Object.entries(b).forEach(([v,w])=>{x[v]=a(w,y==="plural"||y==="selectordinal")}):x=b;let E;if(y){const v=o[y];E=v(r[g],x)}else E=r[g];return E==null?d:d+E},""):l,s=a(e);return ll(s)&&bB.test(s)?SB(s):ll(s)?s:s?String(s):""}}var DJ=Object.defineProperty,NJ=(e,t,n)=>t in e?DJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,FJ=(e,t,n)=>(NJ(e,t+"",n),n);let jJ=class{constructor(){FJ(this,"_events",{})}on(t,n){var r;return(r=this._events)[t]??(r[t]=[]),this._events[t].push(n),()=>this.removeListener(t,n)}removeListener(t,n){const r=this._getListeners(t);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(t,...n){const r=this._getListeners(t);r&&r.map(i=>i.apply(this,n))}_getListeners(t){const n=this._events[t];return Array.isArray(n)?n:!1}};var UJ=Object.defineProperty,BJ=(e,t,n)=>t in e?UJ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Xl=(e,t,n)=>(BJ(e,typeof t!="symbol"?t+"":t,n),n);class $J extends jJ{constructor(t){super(),Xl(this,"_locale",""),Xl(this,"_locales"),Xl(this,"_localeData",{}),Xl(this,"_messages",{}),Xl(this,"_missing"),Xl(this,"_messageCompiler"),Xl(this,"t",this._.bind(this)),t.missing!=null&&(this._missing=t.missing),t.messages!=null&&this.load(t.messages),t.localeData!=null&&this.loadLocaleData(t.localeData),(typeof t.locale=="string"||t.locales)&&this.activate(t.locale??wB,t.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(t,n){const r=this._localeData[t];r?Object.assign(r,n):this._localeData[t]=n}setMessagesCompiler(t){return this._messageCompiler=t,this}loadLocaleData(t,n){typeof t=="string"?this._loadLocaleData(t,n):Object.keys(t).forEach(r=>this._loadLocaleData(r,t[r])),this.emit("change")}_load(t,n){const r=this._messages[t];r?Object.assign(r,n):this._messages[t]=n}load(t,n){typeof t=="string"&&typeof n=="object"?this._load(t,n):Object.entries(t).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:t,locales:n,messages:r}){this._locale=t,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(t,n){this._locale=t,this._locales=n,this.emit("change")}_(t,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r?.message;t||(t=""),ll(t)||(n=t.values||n,i=t.message,t=t.id);const o=this.messages[t],a=o===void 0,s=this._missing;if(s&&a)return OJ(s)?s(this._locale,t):s;a&&this.emit("missing",{id:t,locale:this._locale});let l=o||i||t;return ll(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),ll(l)&&bB.test(l)?SB(l):ll(l)?l:kJ(l,this._locale,this._locales)(n,r?.formats)}date(t,n){return tR(this._locales||this._locale,t,n)}number(t,n){return TT(this._locales||this._locale,t,n)}}function zJ(e={}){return new $J(e)}const AT=zJ(),qJ=/<([a-zA-Z0-9]+)>([\s\S]*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,HJ={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function EB(e,t={}){const n=e.split(qJ);if(n.length===1)return e;const r=VJ(0,"$lingui$"),i=[],o=n.shift();o&&i.push(o);for(const[a,s,l]of CB(n)){let f=typeof a<"u"?t[a]:void 0;(!f||HJ[f.type]&&s)&&(console.error(f?`${f.type} is a void element tag therefore it must have no children`:`Can't use element at index '${a}' as it is not declared in the original translation`),f=St.createElement(St.Fragment)),Array.isArray(f)&&(f=St.createElement(St.Fragment,{},f)),i.push(St.cloneElement(f,{key:r()},s?EB(s,t):f.props.children)),l&&i.push(l)}return i.length===1?i[0]:i}function CB(e){if(!e.length)return[];const[t,n,r,i]=e.slice(0,4);return[[t||r,n||"",i]].concat(CB(e.slice(4,e.length)))}const VJ=(e=0,t="")=>()=>`${t}_${e++}`;function KJ(e){const{render:t,component:n,id:r,message:i,formats:o,lingui:{i18n:a,defaultComponent:s}}=e,{values:l,components:f}=WJ(e),d=a&&typeof a._=="function"?a._(r,l,{message:i,formats:o}):r,p=d?EB(d,f):null;if(t===null||n===null)return p;const g=s||GJ,y={id:r,message:i,translation:p,children:p};if(t&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&typeof t!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(n&&typeof n!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),St.createElement(g,y,p);if(typeof t=="function")return t(y);const b=n||g;return St.createElement(b,y,p)}const GJ=({children:e})=>St.createElement(St.Fragment,null,e),WJ=e=>{if(!e.values)return{values:void 0,components:e.components};const t={...e.values},n={...e.components};return Object.entries(e.values).forEach(([r,i])=>{if(typeof i=="string"||typeof i=="number")return;const o=Object.keys(n).length;n[o]=St.createElement(St.Fragment,null,i),t[r]=`<${o}/>`}),{values:t,components:n}},TB=St.createContext(null),AB=e=>St.useContext(TB);function Fr(){return AB()}function ZJ({i18n:e,defaultComponent:t,children:n}){const r=St.useRef(e.locale),i=St.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[o,a]=St.useState(i());return St.useEffect(()=>{const s=()=>{r.current=e.locale,a(i())},l=e.on("change",s);return r.current!==e.locale&&s(),l},[e,i]),r.current?St.createElement(TB.Provider,{value:o},n):null}function _t(e){const t=AB();return St.createElement(KJ,{...e,lingui:t})}const QJ=({children:e})=>{const t=Dr(xa),n=bl();return B.useEffect(()=>{t?JJ(t):n(YA.changeLocale())},[n,t]),U.jsx(ZJ,{i18n:AT,children:e})};async function JJ(e){const{messages:t}=await AQ(Object.assign({"../locales/cs.ts":()=>sk(()=>import("./cs-DUPSD_qx.js"),[]),"../locales/en.ts":()=>sk(()=>import("./en-D222geI2.js"),[])}),`../locales/${e}.ts`,3);AT.load(e,t),AT.activate(e)}const YJ={},XJ=sw({name:"auth",initialState:YJ,reducers:{signin:(e,t)=>{e.isLoggedIn=t.payload.isLoggedIn,e.webId=t.payload.webId},setUser:(e,t)=>{e.profile=t.payload},signout:e=>{e.isLoggedIn=!1}}}),{actions:nR,reducer:eY}=XJ,Cd=e=>e.auth,tY={},nY=sw({name:"config",initialState:tY,reducers:{setConfig:(e,t)=>{Object.assign(e,t.payload)},resetConfig:()=>({})}}),{actions:RT,reducer:rY}=nY,RB=e=>e.config,iY={},oY=sw({name:"login",initialState:iY,reducers:{setLastSelectedIssuer:(e,t)=>{e.lastSelectedIssuer=t.payload}}}),{actions:m_,reducer:aY}=oY,PB=e=>e.login.lastSelectedIssuer;var rR="persist:",iR="persist/FLUSH",uw="persist/REHYDRATE",oR="persist/PAUSE",aR="persist/PERSIST",sR="persist/PURGE",uR="persist/REGISTER",sY=-1;function jv(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jv=function(n){return typeof n}:jv=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jv(e)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(n,!0).forEach(function(r){lY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cY(e,t,n,r){r.debug;var i=uY({},n);return e&&jv(e)==="object"&&Object.keys(e).forEach(function(o){o!=="_persist"&&t[o]===n[o]&&(i[o]=e[o])}),i}function fY(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,o="".concat(e.keyPrefix!==void 0?e.keyPrefix:rR).concat(e.key),a=e.storage,s;e.serialize===!1?s=function(R){return R}:typeof e.serialize=="function"?s=e.serialize:s=dY;var l=e.writeFailHandler||null,f={},d={},p=[],g=null,y=null,b=function(R){Object.keys(R).forEach(function(k){v(k)&&f[k]!==R[k]&&p.indexOf(k)===-1&&p.push(k)}),Object.keys(f).forEach(function(k){R[k]===void 0&&v(k)&&p.indexOf(k)===-1&&f[k]!==void 0&&p.push(k)}),g===null&&(g=setInterval(x,i)),f=R};function x(){if(p.length===0){g&&clearInterval(g),g=null;return}var P=p.shift(),R=r.reduce(function(k,M){return M.in(k,P,f)},f[P]);if(R!==void 0)try{d[P]=s(R)}catch(k){console.error("redux-persist/createPersistoid: error serializing state",k)}else delete d[P];p.length===0&&E()}function E(){Object.keys(d).forEach(function(P){f[P]===void 0&&delete d[P]}),y=a.setItem(o,s(d)).catch(w)}function v(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function w(P){l&&l(P)}var C=function(){for(;p.length!==0;)x();return y||Promise.resolve()};return{update:b,flush:C}}function dY(e){return JSON.stringify(e)}function hY(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:rR).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(a){return a}:typeof e.deserialize=="function"?i=e.deserialize:i=pY,r.getItem(n).then(function(o){if(o)try{var a={},s=i(o);return Object.keys(s).forEach(function(l){a[l]=t.reduceRight(function(f,d){return d.out(f,l,s)},i(s[l]))}),a}catch(l){throw l}else return})}function pY(e){return JSON.parse(e)}function mY(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:rR).concat(e.key);return t.removeItem(n,gY)}function gY(e){}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(n,!0).forEach(function(r){yY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vY(e,t){if(e==null)return{};var n=_Y(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _Y(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wY=5e3;function bY(e,t){var n=e.version!==void 0?e.version:sY;e.debug;var r=e.stateReconciler===void 0?cY:e.stateReconciler,i=e.getStoredState||hY,o=e.timeout!==void 0?e.timeout:wY,a=null,s=!1,l=!0,f=function(p){return p._persist.rehydrated&&a&&!l&&a.update(p),p};return function(d,p){var g=d||{},y=g._persist,b=vY(g,["_persist"]),x=b;if(p.type===aR){var E=!1,v=function(W,ee){E||(p.rehydrate(e.key,W,ee),E=!0)};if(o&&setTimeout(function(){!E&&v(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},o),l=!1,a||(a=fY(e)),y)return Gs({},t(x,p),{_persist:y});if(typeof p.rehydrate!="function"||typeof p.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return p.register(e.key),i(e).then(function(M){var W=e.migrate||function(ee,z){return Promise.resolve(ee)};W(M,n).then(function(ee){v(ee)},function(ee){v(void 0,ee)})},function(M){v(void 0,M)}),Gs({},t(x,p),{_persist:{version:n,rehydrated:!1}})}else{if(p.type===sR)return s=!0,p.result(mY(e)),Gs({},t(x,p),{_persist:y});if(p.type===iR)return p.result(a&&a.flush()),Gs({},t(x,p),{_persist:y});if(p.type===oR)l=!0;else if(p.type===uw){if(s)return Gs({},x,{_persist:Gs({},y,{rehydrated:!0})});if(p.key===e.key){var w=t(x,p),C=p.payload,P=r!==!1&&C!==void 0?r(C,d,w,e):w,R=Gs({},P,{_persist:Gs({},y,{rehydrated:!0})});return f(R)}}}if(!y)return t(d,p);var k=t(x,p);return k===x?d:f(Gs({},k,{_persist:y}))}}function Tk(e){return EY(e)||xY(e)||SY()}function SY(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function xY(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function EY(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(n,!0).forEach(function(r){CY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OB={registry:[],bootstrapped:!1},TY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:OB,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case uR:return PT({},t,{registry:[].concat(Tk(t.registry),[n.key])});case uw:var r=t.registry.indexOf(n.key),i=Tk(t.registry);return i.splice(r,1),PT({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function AY(e,t,n){var r=KA(TY,OB,void 0),i=function(l){r.dispatch({type:uR,key:l})},o=function(l,f,d){var p={type:uw,payload:f,err:d,key:l};e.dispatch(p),r.dispatch(p)},a=PT({},r,{purge:function(){var l=[];return e.dispatch({type:sR,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:iR,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){e.dispatch({type:oR})},persist:function(){e.dispatch({type:aR,register:i,rehydrate:o})}});return a.persist(),a}var Fh={},ay={},sy={},Rk;function RY(){if(Rk)return sy;Rk=1,sy.__esModule=!0,sy.default=i;function e(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(o)}function t(){}var n={getItem:t,setItem:t,removeItem:t};function r(o){if((typeof self>"u"?"undefined":e(self))!=="object"||!(o in self))return!1;try{var a=self[o],s="redux-persist ".concat(o," test");a.setItem(s,"test"),a.getItem(s),a.removeItem(s)}catch{return!1}return!0}function i(o){var a="".concat(o,"Storage");return r(a)?self[a]:n}return sy}var Pk;function PY(){if(Pk)return ay;Pk=1,ay.__esModule=!0,ay.default=n;var e=t(RY());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,e.default)(r);return{getItem:function(a){return new Promise(function(s,l){s(i.getItem(a))})},setItem:function(a,s){return new Promise(function(l,f){l(i.setItem(a,s))})},removeItem:function(a){return new Promise(function(s,l){s(i.removeItem(a))})}}}return ay}var Ok;function OY(){if(Ok)return Fh;Ok=1,Fh.__esModule=!0,Fh.default=void 0;var e=t(PY());function t(r){return r&&r.__esModule?r:{default:r}}var n=(0,e.default)("local");return Fh.default=n,Fh}var MY=OY();const LY=_r(MY),uy=oB({auth:eY,login:aY,config:rY,ui:PJ}),IY=(e,t)=>{if(yJ(nR.signout)(t)){let n=uy(void 0,t);const r=e&&RB(e);r&&(n=uy(n,RT.setConfig(r)));const i=e&&PB(e);return i&&(n=uy(n,m_.setLastSelectedIssuer(i))),n}return uy(e,t)},kY={key:"root",storage:LY,whitelist:["login","config","ui"]},DY=bY(kY,IY),MB=hJ({reducer:DY,middleware:e=>e({serializableCheck:{ignoredActions:[iR,uw,oR,aR,sR,uR]}})}),NY=AY(MB),Td=crypto,lR=e=>e instanceof CryptoKey,vs=new TextEncoder,hd=new TextDecoder;function LB(...e){const t=e.reduce((i,{length:o})=>i+o,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const FY=e=>{let t=e;typeof t=="string"&&(t=vs.encode(t));const n=32768,r=[];for(let i=0;i<t.length;i+=n)r.push(String.fromCharCode.apply(null,t.subarray(i,i+n)));return btoa(r.join(""))},Uv=e=>FY(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),jY=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},wc=e=>{let t=e;t instanceof Uint8Array&&(t=hd.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return jY(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ji extends Error{constructor(t,n){super(t,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}ji.code="ERR_JOSE_GENERIC";class Na extends ji{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Na.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class OT extends ji{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}OT.code="ERR_JWT_EXPIRED";class IB extends ji{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}IB.code="ERR_JOSE_ALG_NOT_ALLOWED";class Eo extends ji{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Eo.code="ERR_JOSE_NOT_SUPPORTED";class UY extends ji{constructor(t="decryption operation failed",n){super(t,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}UY.code="ERR_JWE_DECRYPTION_FAILED";class BY extends ji{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}BY.code="ERR_JWE_INVALID";class Or extends ji{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Or.code="ERR_JWS_INVALID";class lw extends ji{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}lw.code="ERR_JWT_INVALID";class $Y extends ji{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}$Y.code="ERR_JWK_INVALID";class cR extends ji{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}cR.code="ERR_JWKS_INVALID";class fR extends ji{constructor(t="no applicable key found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}fR.code="ERR_JWKS_NO_MATCHING_KEY";class kB extends ji{constructor(t="multiple matching keys found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}kB.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class DB extends ji{constructor(t="request timed out",n){super(t,n),this.code="ERR_JWKS_TIMEOUT"}}DB.code="ERR_JWKS_TIMEOUT";class NB extends ji{constructor(t="signature verification failed",n){super(t,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}NB.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function cs(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function jh(e,t){return e.name===t}function y1(e){return parseInt(e.name.slice(4),10)}function zY(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function qY(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function HY(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!jh(e.algorithm,"HMAC"))throw cs("HMAC");const r=parseInt(t.slice(2),10);if(y1(e.algorithm.hash)!==r)throw cs(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!jh(e.algorithm,"RSASSA-PKCS1-v1_5"))throw cs("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(y1(e.algorithm.hash)!==r)throw cs(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!jh(e.algorithm,"RSA-PSS"))throw cs("RSA-PSS");const r=parseInt(t.slice(2),10);if(y1(e.algorithm.hash)!==r)throw cs(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw cs("Ed25519 or Ed448");break}case"Ed25519":{if(!jh(e.algorithm,"Ed25519"))throw cs("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!jh(e.algorithm,"ECDSA"))throw cs("ECDSA");const r=zY(t);if(e.algorithm.namedCurve!==r)throw cs(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}qY(e,n)}function FB(e,t,...n){if(n=n.filter(Boolean),n.length>2){const r=n.pop();e+=`one of type ${n.join(", ")}, or ${r}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const MT=(e,...t)=>FB("Key must be ",e,...t);function jB(e,t,...n){return FB(`Key for the ${e} algorithm must be `,t,...n)}const UB=e=>lR(e)?!0:e?.[Symbol.toStringTag]==="KeyObject",zp=["CryptoKey"],BB=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const o of i){if(n.has(o))return!1;n.add(o)}}return!0};function VY(e){return typeof e=="object"&&e!==null}function au(e){if(!VY(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const $B=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Ad(e){return au(e)&&typeof e.kty=="string"}function KY(e){return e.kty!=="oct"&&typeof e.d=="string"}function GY(e){return e.kty!=="oct"&&typeof e.d>"u"}function WY(e){return Ad(e)&&e.kty==="oct"&&typeof e.k=="string"}function ZY(e){let t,n;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Eo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Eo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":t={name:"Ed25519"},n=e.d?["sign"]:["verify"];break;case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Eo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Eo('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const zB=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=ZY(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,Td.subtle.importKey("jwk",i,...r)},qB=e=>wc(e);let Of,Mf;const HB=e=>e?.[Symbol.toStringTag]==="KeyObject",g_=async(e,t,n,r,i=!1)=>{let o=e.get(t);if(o?.[r])return o[r];const a=await zB({...n,alg:r});return i&&Object.freeze(t),o?o[r]=a:e.set(t,{[r]:a}),a},QY=(e,t)=>{if(HB(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?qB(n.k):(Mf||(Mf=new WeakMap),g_(Mf,e,n,t))}return Ad(e)?e.k?wc(e.k):(Mf||(Mf=new WeakMap),g_(Mf,e,e,t,!0)):e},JY=(e,t)=>{if(HB(e)){let n=e.export({format:"jwk"});return n.k?qB(n.k):(Of||(Of=new WeakMap),g_(Of,e,n,t))}return Ad(e)?e.k?wc(e.k):(Of||(Of=new WeakMap),g_(Of,e,e,t,!0)):e},Mk={normalizePublicKey:QY,normalizePrivateKey:JY};async function VB(e,t){if(!au(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return wc(e.k);case"RSA":if("oth"in e&&e.oth!==void 0)throw new Eo('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return zB({...e,alg:t});default:throw new Eo('Unsupported "kty" (Key Type) Parameter value')}}const Wf=e=>e?.[Symbol.toStringTag],LT=(e,t,n)=>{if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&t.key_ops.includes?.(n)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},YY=(e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&Ad(t)){if(WY(t)&&LT(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!UB(t))throw new TypeError(jB(e,t,...zp,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${Wf(t)} instances for symmetric algorithms must be of type "secret"`)}},XY=(e,t,n,r)=>{if(r&&Ad(t))switch(n){case"sign":if(KY(t)&&LT(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(GY(t)&&LT(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!UB(t))throw new TypeError(jB(e,t,...zp,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${Wf(t)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${Wf(t)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${Wf(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${Wf(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${Wf(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function KB(e,t,n,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?YY(t,n,r,e):XY(t,n,r,e)}KB.bind(void 0,!1);const IT=KB.bind(void 0,!0);function GB(e,t,n,r,i){if(i.crit!==void 0&&r?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(a=>typeof a!="string"||a.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;n!==void 0?o=new Map([...Object.entries(n),...t.entries()]):o=t;for(const a of r.crit){if(!o.has(a))throw new Eo(`Extension Header Parameter "${a}" is not recognized`);if(i[a]===void 0)throw new e(`Extension Header Parameter "${a}" is missing`);if(o.get(a)&&r[a]===void 0)throw new e(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(r.crit)}const eX=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},tX=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:Uv(e)};if(!lR(e))throw new TypeError(MT(e,...zp,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...o}=await Td.subtle.exportKey("jwk",e);return o};async function nX(e){return tX(e)}function WB(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":return{name:"Ed25519"};case"EdDSA":return{name:t.name};default:throw new Eo(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function ZB(e,t,n){if(n==="sign"&&(t=await Mk.normalizePrivateKey(t,e)),n==="verify"&&(t=await Mk.normalizePublicKey(t,e)),lR(t))return HY(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(MT(t,...zp));return Td.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(MT(t,...zp,"Uint8Array","JSON Web Key"))}const rX=async(e,t,n,r)=>{const i=await ZB(e,t,"verify");$B(e,i);const o=WB(e,i.algorithm);try{return await Td.subtle.verify(o,i,n,r)}catch{return!1}};async function iX(e,t,n){if(!au(e))throw new Or("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new Or('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new Or("JWS Protected Header incorrect type");if(e.payload===void 0)throw new Or("JWS Payload missing");if(typeof e.signature!="string")throw new Or("JWS Signature missing or incorrect type");if(e.header!==void 0&&!au(e.header))throw new Or("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const x=wc(e.protected);r=JSON.parse(hd.decode(x))}catch{throw new Or("JWS Protected Header is invalid")}if(!BB(r,e.header))throw new Or("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header},o=GB(Or,new Map([["b64",!0]]),n?.crit,r,i);let a=!0;if(o.has("b64")&&(a=r.b64,typeof a!="boolean"))throw new Or('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new Or('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=n&&eX("algorithms",n.algorithms);if(l&&!l.has(s))throw new IB('"alg" (Algorithm) Header Parameter value not allowed');if(a){if(typeof e.payload!="string")throw new Or("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new Or("JWS Payload must be a string or an Uint8Array instance");let f=!1;typeof t=="function"?(t=await t(r,e),f=!0,IT(s,t,"verify"),Ad(t)&&(t=await VB(t,s))):IT(s,t,"verify");const d=LB(vs.encode(e.protected??""),vs.encode("."),typeof e.payload=="string"?vs.encode(e.payload):e.payload);let p;try{p=wc(e.signature)}catch{throw new Or("Failed to base64url decode the signature")}if(!await rX(s,t,p,d))throw new NB;let y;if(a)try{y=wc(e.payload)}catch{throw new Or("Failed to base64url decode the payload")}else typeof e.payload=="string"?y=vs.encode(e.payload):y=e.payload;const b={payload:y};return e.protected!==void 0&&(b.protectedHeader=r),e.header!==void 0&&(b.unprotectedHeader=e.header),f?{...b,key:t}:b}async function oX(e,t,n){if(e instanceof Uint8Array&&(e=hd.decode(e)),typeof e!="string")throw new Or("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:o,length:a}=e.split(".");if(a!==3)throw new Or("Invalid Compact JWS");const s=await iX({payload:i,protected:r,signature:o},t,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const el=e=>Math.floor(e.getTime()/1e3),QB=60,JB=QB*60,dR=JB*24,aX=dR*7,sX=dR*365.25,uX=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Sp=e=>{const t=uX.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),r=t[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*QB);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*JB);break;case"day":case"days":case"d":i=Math.round(n*dR);break;case"week":case"weeks":case"w":i=Math.round(n*aX);break;default:i=Math.round(n*sX);break}return t[1]==="-"||t[4]==="ago"?-i:i},Lk=e=>e.toLowerCase().replace(/^application\//,""),lX=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,cX=(e,t,n={})=>{let r;try{r=JSON.parse(hd.decode(t))}catch{}if(!au(r))throw new lw("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof e.typ!="string"||Lk(e.typ)!==Lk(i)))throw new Na('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:o=[],issuer:a,subject:s,audience:l,maxTokenAge:f}=n,d=[...o];f!==void 0&&d.push("iat"),l!==void 0&&d.push("aud"),s!==void 0&&d.push("sub"),a!==void 0&&d.push("iss");for(const b of new Set(d.reverse()))if(!(b in r))throw new Na(`missing required "${b}" claim`,r,b,"missing");if(a&&!(Array.isArray(a)?a:[a]).includes(r.iss))throw new Na('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new Na('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!lX(r.aud,typeof l=="string"?[l]:l))throw new Na('unexpected "aud" claim value',r,"aud","check_failed");let p;switch(typeof n.clockTolerance){case"string":p=Sp(n.clockTolerance);break;case"number":p=n.clockTolerance;break;case"undefined":p=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:g}=n,y=el(g||new Date);if((r.iat!==void 0||f)&&typeof r.iat!="number")throw new Na('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Na('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+p)throw new Na('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Na('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-p)throw new OT('"exp" claim timestamp check failed',r,"exp","check_failed")}if(f){const b=y-r.iat,x=typeof f=="number"?f:Sp(f);if(b-p>x)throw new OT('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(b<0-p)throw new Na('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function fX(e,t,n){const r=await oX(e,t,n);if(r.protectedHeader.crit?.includes("b64")&&r.protectedHeader.b64===!1)throw new lw("JWTs MUST NOT use unencoded payload");const o={payload:cX(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof t=="function"?{...o,key:r.key}:o}const dX=async(e,t,n)=>{const r=await ZB(e,t,"sign");$B(e,r);const i=await Td.subtle.sign(WB(e,r.algorithm),r,n);return new Uint8Array(i)};class hX{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Or("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!BB(this._protectedHeader,this._unprotectedHeader))throw new Or("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=GB(Or,new Map([["b64",!0]]),n?.crit,this._protectedHeader,r);let o=!0;if(i.has("b64")&&(o=this._protectedHeader.b64,typeof o!="boolean"))throw new Or('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:a}=r;if(typeof a!="string"||!a)throw new Or('JWS "alg" (Algorithm) Header Parameter missing or invalid');IT(a,t,"sign");let s=this._payload;o&&(s=vs.encode(Uv(s)));let l;this._protectedHeader?l=vs.encode(Uv(JSON.stringify(this._protectedHeader))):l=vs.encode("");const f=LB(l,vs.encode("."),s),d=await dX(a,t,f),p={signature:Uv(d),payload:""};return o&&(p.payload=hd.decode(s)),this._unprotectedHeader&&(p.header=this._unprotectedHeader),this._protectedHeader&&(p.protected=hd.decode(l)),p}}class pX{constructor(t){this._flattened=new hX(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,n){const r=await this._flattened.sign(t,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function ec(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class mX{constructor(t={}){if(!au(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:ec("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:ec("setNotBefore",el(t))}:this._payload={...this._payload,nbf:el(new Date)+Sp(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:ec("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:ec("setExpirationTime",el(t))}:this._payload={...this._payload,exp:el(new Date)+Sp(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:el(new Date)}:t instanceof Date?this._payload={...this._payload,iat:ec("setIssuedAt",el(t))}:typeof t=="string"?this._payload={...this._payload,iat:ec("setIssuedAt",el(new Date)+Sp(t))}:this._payload={...this._payload,iat:ec("setIssuedAt",t)},this}}class gX extends mX{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,n){const r=new pX(vs.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray(this._protectedHeader?.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new lw("JWTs MUST NOT use unencoded payload");return r.sign(t,n)}}function yX(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Eo('Unsupported "alg" value for a JSON Web Key Set')}}function vX(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(_X)}function _X(e){return au(e)}function YB(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class wX{constructor(t){if(this._cached=new WeakMap,!vX(t))throw new cR("JSON Web Key Set malformed");this._jwks=YB(t)}async getKey(t,n){const{alg:r,kid:i}={...t,...n?.header},o=yX(r),a=this._jwks.keys.filter(f=>{let d=o===f.kty;if(d&&typeof i=="string"&&(d=i===f.kid),d&&typeof f.alg=="string"&&(d=r===f.alg),d&&typeof f.use=="string"&&(d=f.use==="sig"),d&&Array.isArray(f.key_ops)&&(d=f.key_ops.includes("verify")),d)switch(r){case"ES256":d=f.crv==="P-256";break;case"ES256K":d=f.crv==="secp256k1";break;case"ES384":d=f.crv==="P-384";break;case"ES512":d=f.crv==="P-521";break;case"Ed25519":d=f.crv==="Ed25519";break;case"EdDSA":d=f.crv==="Ed25519"||f.crv==="Ed448";break}return d}),{0:s,length:l}=a;if(l===0)throw new fR;if(l!==1){const f=new kB,{_cached:d}=this;throw f[Symbol.asyncIterator]=async function*(){for(const p of a)try{yield await Ik(d,p,r)}catch{}},f}return Ik(this._cached,s,r)}}async function Ik(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(r[n]===void 0){const i=await VB({...t,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new cR("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function kk(e){const t=new wX(e),n=async(r,i)=>t.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>YB(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const bX=async(e,t,n)=>{let r,i,o=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{o=!0,r.abort()},t));const a=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw o?new DB:s});if(i!==void 0&&clearTimeout(i),a.status!==200)throw new ji("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await a.json()}catch{throw new ji("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function SX(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let kT;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(kT="jose/v5.10.0");const v1=Symbol();function xX(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!au(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,au))}class EX{constructor(t,n){if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:n?.agent,headers:n?.headers},this._timeoutDuration=typeof n?.timeoutDuration=="number"?n?.timeoutDuration:5e3,this._cooldownDuration=typeof n?.cooldownDuration=="number"?n?.cooldownDuration:3e4,this._cacheMaxAge=typeof n?.cacheMaxAge=="number"?n?.cacheMaxAge:6e5,n?.[v1]!==void 0&&(this._cache=n?.[v1],xX(n?.[v1],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=kk(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(t,n)}catch(r){if(r instanceof fR&&this.coolingDown()===!1)return await this.reload(),this._local(t,n);throw r}}async reload(){this._pendingFetch&&SX()&&(this._pendingFetch=void 0);const t=new Headers(this._options.headers);kT&&!t.has("User-Agent")&&(t.set("User-Agent",kT),this._options.headers=Object.fromEntries(t.entries())),this._pendingFetch||(this._pendingFetch=bX(this._url,this._timeoutDuration,this._options).then(n=>{this._local=kk(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function CX(e,t){const n=new EX(e,t),r=async(i,o)=>n.getKey(i,o);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>n._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),r}function _1(e){const t=e?.modulusLength??2048;if(typeof t!="number"||t<2048)throw new Eo("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function TX(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:_1(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:_1(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:_1(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"Ed25519":n={name:"Ed25519"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new Eo("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new Eo("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Eo('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Td.subtle.generateKey(n,!1,r)}async function AX(e,t){return TX(e,t)}const Oi=[];for(let e=0;e<256;++e)Oi.push((e+256).toString(16).slice(1));function RX(e,t=0){return(Oi[e[t+0]]+Oi[e[t+1]]+Oi[e[t+2]]+Oi[e[t+3]]+"-"+Oi[e[t+4]]+Oi[e[t+5]]+"-"+Oi[e[t+6]]+Oi[e[t+7]]+"-"+Oi[e[t+8]]+Oi[e[t+9]]+"-"+Oi[e[t+10]]+Oi[e[t+11]]+Oi[e[t+12]]+Oi[e[t+13]]+Oi[e[t+14]]+Oi[e[t+15]]).toLowerCase()}let w1;const PX=new Uint8Array(16);function OX(){if(!w1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");w1=crypto.getRandomValues.bind(crypto)}return w1(PX)}const MX=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dk={randomUUID:MX};function XB(e,t,n){if(Dk.randomUUID&&!e)return Dk.randomUUID();e=e||{};const r=e.random??e.rng?.()??OX();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,RX(r)}const e$="solidClientAuthn:",y_=["ES256","RS256"],gi={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",NEW_TOKENS:"newTokens",AUTHORIZATION_REQUEST:"authorizationRequest",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},Nk=5,LX="openid",IX="offline_access",kX="webid",Fk=[LX,IX,kX];class DX{handleables;constructor(t){this.handleables=t,this.handleables=t}async getProperHandler(t){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...t)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...t){return await this.getProperHandler(t)!==null}async handle(...t){const n=await this.getProperHandler(t);if(n)return n.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function t$(e,t,n,r){let i,o;try{const{payload:a}=await fX(e,CX(new URL(t)),{issuer:n,audience:r});i=a}catch(a){throw new Error(`Token verification failed: ${a.stack}`)}if(typeof i.azp=="string"&&(o=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:o};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:o}}catch(a){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${a}].`)}}function NX(e){return Array.isArray(e)?Array.from(new Set([...Fk,...e.filter(t=>typeof t=="string"&&!t.includes(" "))])):Fk}function n$(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=t.hash==="";return n&&r}catch{return!1}}function r$(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function FX(e,t){return typeof e=="boolean"?!!e:!!t}class jX{storageUtility;redirector;constructor(t,n){this.storageUtility=t,this.redirector=n,this.storageUtility=t,this.redirector=n}parametersGuard=t=>t.issuerConfiguration.grantTypesSupported!==void 0&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&t.redirectUrl!==void 0;async canHandle(t){return this.parametersGuard(t)}async setupRedirectHandler({oidcLoginOptions:t,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(t))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:r,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:(!!t.dpop).toString(),keepAlive:FX(t.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:t.handleRedirect})}}class UX{sessionInfoManager;constructor(t){this.sessionInfoManager=t,this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}}class BX{redirector;constructor(t){this.redirector=t,this.redirector=t}async canHandle(t,n){return n?.logoutType==="idp"}async handle(t,n){if(n?.logoutType!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class $X{handlers;constructor(t,n){this.handlers=[new UX(t),new BX(n)]}async canHandle(){return!0}async handle(t,n){for(const r of this.handlers)await r.canHandle(t,n)&&await r.handle(t,n)}}function i$(){return{isLoggedIn:!1,sessionId:XB(),fetch:(...e)=>fetch(...e)}}async function o$(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class zX{storageUtility;constructor(t){this.storageUtility=t,this.storageUtility=t}update(t,n){throw new Error("Not Implemented")}set(t,n){throw new Error("Not Implemented")}get(t){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(t){return o$(t,this.storageUtility)}async register(t){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}async setOidcContext(t,n){throw new Error("Not implemented")}}function qX({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return t!==void 0&&i.searchParams.append("id_token_hint",t),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function HX({endSessionEndpoint:e,idTokenHint:t}){if(e!==void 0)return function({state:r,postLogoutUrl:i}){return qX({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:i})}}function VX(e){return typeof e=="string"&&["DPoP","Bearer"].includes(e)}function a$(e){try{return new URL(e),!0}catch{return!1}}function KX(e,t){return t.find(n=>e.includes(n))??null}function GX(e){return e.clientId!==void 0&&!a$(e.clientId)}function WX(e,t){return t.scopesSupported.includes("webid")&&e.clientId!==void 0&&a$(e.clientId)}function ZX(e){return typeof e=="string"&&["dynamic","static","solid-oidc"].includes(e)}async function QX(e,t,n,r){let i;if(WX(e,t))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else if(GX(e))i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"};else return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);const o={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(o.clientSecret=i.clientSecret),i.clientName&&(o.clientName=i.clientName),await n.setForUser(e.sessionId,o),i}const jk=(e,t)=>fetch(e,t);let JX=class{loginHandler;redirectHandler;logoutHandler;sessionInfoManager;issuerConfigFetcher;boundLogout;constructor(t,n,r,i,o){this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=o,this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=o}fetch=jk;logout=async(t,n)=>{await this.logoutHandler.handle(t,n?.logoutType==="idp"?{...n,toLogoutUrl:this.boundLogout}:n),this.fetch=jk,delete this.boundLogout};getSessionInfo=async t=>this.sessionInfoManager.get(t);getAllSessionInfo=async()=>this.sessionInfoManager.getAll()};async function s$(e,t,n){try{const[r,i,o,a,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:o,issuerConfig:l,dpop:a==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${r}`)}}async function YX(e,t,n,r,i,o,a,s){n!==void 0&&await e.setForUser(t,{webId:n},{secure:a}),r!==void 0&&await e.setForUser(t,{clientId:r},{secure:a}),await e.setForUser(t,{isLoggedIn:i},{secure:a})}class XX{secureStorage;insecureStorage;constructor(t,n){this.secureStorage=t,this.insecureStorage=n,this.secureStorage=t,this.insecureStorage=n}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${t}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n))}async get(t,n){const r=await(n?.secure?this.secureStorage:this.insecureStorage).get(t);if(r===void 0&&n?.errorIfNull)throw new Error(`[${t}] is not stored`);return r}async set(t,n,r){return(r?.secure?this.secureStorage:this.insecureStorage).set(t,n)}async delete(t,n){return(n?.secure?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,n,r){const i=await this.getUserData(t,r?.secure);let o;if((!i||!i[n])&&(o=void 0),o=i[n],o===void 0&&r?.errorIfNull)throw new Error(`Field [${n}] for user [${t}] is not stored`);return o||void 0}async setForUser(t,n,r){let i;try{i=await this.getUserData(t,r?.secure)}catch{i={}}await this.setUserData(t,{...i,...n},r?.secure)}async deleteForUser(t,n,r){const i=await this.getUserData(t,r?.secure);delete i[n],await this.setUserData(t,i,r?.secure)}async deleteAllUserData(t,n){await(n?.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}}class eee{map={};async get(t){return this.map[t]||void 0}async set(t,n){this.map[t]=n}async delete(t){delete this.map[t]}}class DT extends Error{constructor(t){super(t)}}class hp extends Error{missingFields;constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class u$ extends Error{error;errorDescription;constructor(t,n,r){super(t),this.error=n,this.errorDescription=r}}function tee(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function hR(e,t,n){return new gX({htu:tee(e),htm:t.toUpperCase(),jti:XB()}).setProtectedHeader({alg:y_[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function nee(){const{privateKey:e,publicKey:t}=await AX(y_[0]),n={privateKey:e,publicKey:await nX(t)};return[n.publicKey.alg]=y_,n}const l$=600;function ree(e){return[401,403].includes(e)}async function iee(e,t,n,r){const i=new Headers(r?.headers);return i.set("Authorization",`DPoP ${t}`),i.set("DPoP",await hR(e,r?.method??"get",n)),{...r,headers:i}}async function oee(e,t,n,r){if(n!==void 0)return iee(e,t,n,r);const i=new Headers(r?.headers);return i.set("Authorization",`Bearer ${t}`),{...r,headers:i}}async function Uk(e,t,n,r,i=fetch){return i(t,await oee(t.toString(),e,r,n))}async function aee(e,t,n){const r=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return n?.emit(gi.SESSION_EXTENDED,r.expiresIn??l$),{accessToken:r.accessToken,refreshToken:r.refreshToken,expiresIn:r.expiresIn}}const b1=e=>e!==void 0?e-Nk>0?e-Nk:e:l$;function see(e,t){let n=e,r;const i=t?.refreshOptions;if(i!==void 0){const o=async()=>{try{const{accessToken:a,refreshToken:s,expiresIn:l}=await aee(i,t.dpopKey,t.eventEmitter);n=a,s!==void 0&&(i.refreshToken=s),clearTimeout(r),r=setTimeout(o,b1(l)*1e3),t.eventEmitter?.emit(gi.TIMEOUT_SET,r)}catch(a){a instanceof u$&&(t?.eventEmitter?.emit(gi.ERROR,a.error,a.errorDescription),t?.eventEmitter?.emit(gi.SESSION_EXPIRED)),a instanceof hp&&a.missingFields.includes("access_token")&&t?.eventEmitter?.emit(gi.SESSION_EXPIRED)}};r=setTimeout(o,b1(t.expiresIn)*1e3),t.eventEmitter?.emit(gi.TIMEOUT_SET,r)}else if(t!==void 0&&t.eventEmitter!==void 0){const o=setTimeout(()=>{t.eventEmitter.emit(gi.SESSION_EXPIRED)},b1(t.expiresIn)*1e3);t.eventEmitter.emit(gi.TIMEOUT_SET,o)}return async(o,a)=>{let s=await Uk(n,o,a,t?.dpopKey,t?.fetch);const l=!s.ok&&!ree(s.status);return s.ok||l||s.url!==o&&t?.dpopKey!==void 0&&(s=await Uk(n,s.url,a,t.dpopKey,t.fetch)),s}}const Mi=[];for(let e=0;e<256;++e)Mi.push((e+256).toString(16).slice(1));function uee(e,t=0){return(Mi[e[t+0]]+Mi[e[t+1]]+Mi[e[t+2]]+Mi[e[t+3]]+"-"+Mi[e[t+4]]+Mi[e[t+5]]+"-"+Mi[e[t+6]]+Mi[e[t+7]]+"-"+Mi[e[t+8]]+Mi[e[t+9]]+"-"+Mi[e[t+10]]+Mi[e[t+11]]+Mi[e[t+12]]+Mi[e[t+13]]+Mi[e[t+14]]+Mi[e[t+15]]).toLowerCase()}let S1;const lee=new Uint8Array(16);function cee(){if(!S1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");S1=crypto.getRandomValues.bind(crypto)}return S1(lee)}const fee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Bk={randomUUID:fee};function dee(e,t,n){if(Bk.randomUUID&&!e)return Bk.randomUUID();e=e||{};const r=e.random??e.rng?.()??cee();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,uee(r)}var ly={exports:{}},$k;function vm(){if($k)return ly.exports;$k=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(R,k,M){return Function.prototype.apply.call(R,k,M)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:n=function(R){return Object.getOwnPropertyNames(R)};function r(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(R){return R!==R};function o(){o.init.call(this)}ly.exports=o,ly.exports.once=v,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");a=P}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||i(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function l(P){return P._maxListeners===void 0?o.defaultMaxListeners:P._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(R){for(var k=[],M=1;M<arguments.length;M++)k.push(arguments[M]);var W=R==="error",ee=this._events;if(ee!==void 0)W=W&&ee.error===void 0;else if(!W)return!1;if(W){var z;if(k.length>0&&(z=k[0]),z instanceof Error)throw z;var H=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw H.context=z,H}var te=ee[R];if(te===void 0)return!1;if(typeof te=="function")t(te,this,k);else for(var oe=te.length,ue=b(te,oe),M=0;M<oe;++M)t(ue[M],this,k);return!0};function f(P,R,k,M){var W,ee,z;if(s(k),ee=P._events,ee===void 0?(ee=P._events=Object.create(null),P._eventsCount=0):(ee.newListener!==void 0&&(P.emit("newListener",R,k.listener?k.listener:k),ee=P._events),z=ee[R]),z===void 0)z=ee[R]=k,++P._eventsCount;else if(typeof z=="function"?z=ee[R]=M?[k,z]:[z,k]:M?z.unshift(k):z.push(k),W=l(P),W>0&&z.length>W&&!z.warned){z.warned=!0;var H=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");H.name="MaxListenersExceededWarning",H.emitter=P,H.type=R,H.count=z.length,r(H)}return P}o.prototype.addListener=function(R,k){return f(this,R,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(R,k){return f(this,R,k,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(P,R,k){var M={fired:!1,wrapFn:void 0,target:P,type:R,listener:k},W=d.bind(M);return W.listener=k,M.wrapFn=W,W}o.prototype.once=function(R,k){return s(k),this.on(R,p(this,R,k)),this},o.prototype.prependOnceListener=function(R,k){return s(k),this.prependListener(R,p(this,R,k)),this},o.prototype.removeListener=function(R,k){var M,W,ee,z,H;if(s(k),W=this._events,W===void 0)return this;if(M=W[R],M===void 0)return this;if(M===k||M.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete W[R],W.removeListener&&this.emit("removeListener",R,M.listener||k));else if(typeof M!="function"){for(ee=-1,z=M.length-1;z>=0;z--)if(M[z]===k||M[z].listener===k){H=M[z].listener,ee=z;break}if(ee<0)return this;ee===0?M.shift():x(M,ee),M.length===1&&(W[R]=M[0]),W.removeListener!==void 0&&this.emit("removeListener",R,H||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(R){var k,M,W;if(M=this._events,M===void 0)return this;if(M.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):M[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete M[R]),this;if(arguments.length===0){var ee=Object.keys(M),z;for(W=0;W<ee.length;++W)z=ee[W],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=M[R],typeof k=="function")this.removeListener(R,k);else if(k!==void 0)for(W=k.length-1;W>=0;W--)this.removeListener(R,k[W]);return this};function g(P,R,k){var M=P._events;if(M===void 0)return[];var W=M[R];return W===void 0?[]:typeof W=="function"?k?[W.listener||W]:[W]:k?E(W):b(W,W.length)}o.prototype.listeners=function(R){return g(this,R,!0)},o.prototype.rawListeners=function(R){return g(this,R,!1)},o.listenerCount=function(P,R){return typeof P.listenerCount=="function"?P.listenerCount(R):y.call(P,R)},o.prototype.listenerCount=y;function y(P){var R=this._events;if(R!==void 0){var k=R[P];if(typeof k=="function")return 1;if(k!==void 0)return k.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(P,R){for(var k=new Array(R),M=0;M<R;++M)k[M]=P[M];return k}function x(P,R){for(;R+1<P.length;R++)P[R]=P[R+1];P.pop()}function E(P){for(var R=new Array(P.length),k=0;k<R.length;++k)R[k]=P[k].listener||P[k];return R}function v(P,R){return new Promise(function(k,M){function W(z){P.removeListener(R,ee),M(z)}function ee(){typeof P.removeListener=="function"&&P.removeListener("error",W),k([].slice.call(arguments))}C(P,R,ee,{once:!0}),R!=="error"&&w(P,W,{once:!0})})}function w(P,R,k){typeof P.on=="function"&&C(P,"error",R,k)}function C(P,R,k,M){if(typeof P.on=="function")M.once?P.once(R,k):P.on(R,k);else if(typeof P.addEventListener=="function")P.addEventListener(R,function W(ee){M.once&&P.removeEventListener(R,W),k(ee)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return ly.exports}var pR=vm();const hee=_r(pR);var Bv={exports:{}},pee=Bv.exports,zk;function mee(){return zk||(zk=1,(function(e,t){(function(r,i){e.exports=i()})(pee,(function(){return(function(n){var r={};function i(o){if(r[o])return r[o].exports;var a=r[o]={i:o,l:!1,exports:{}};return n[o].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=n,i.c=r,i.d=function(o,a,s){i.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:s})},i.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},i.t=function(o,a){if(1&a&&(o=i(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var l in o)i.d(s,l,(function(f){return o[f]}).bind(null,l));return s},i.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(a,"a",a),a},i.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},i.p="",i(i.s=22)})([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=(function(){function f(d,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}})(),a={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=(function(){function f(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f)}return f.reset=function(){l=3,s=a},f.debug=function(){if(l>=4){for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];s.debug.apply(s,Array.from(g))}},f.info=function(){if(l>=3){for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];s.info.apply(s,Array.from(g))}},f.warn=function(){if(l>=2){for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];s.warn.apply(s,Array.from(g))}},f.error=function(){if(l>=1){for(var p=arguments.length,g=Array(p),y=0;y<p;y++)g[y]=arguments[y];s.error.apply(s,Array.from(g))}},o(f,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(p){if(!(0<=p&&p<=4))throw new Error("Invalid log level");l=p}},{key:"logger",get:function(){return s},set:function(p){if(!p.debug&&p.info&&(p.debug=p.info),!(p.debug&&p.info&&p.warn&&p.error))throw new Error("Invalid logger");s=p}}]),f})()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=(function(){function f(d,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}})(),a={setInterval:(function(f){function d(p,g){return f.apply(this,arguments)}return d.toString=function(){return f.toString()},d})((function(f,d){return setInterval(f,d)})),clearInterval:(function(f){function d(p){return f.apply(this,arguments)}return d.toString=function(){return f.toString()},d})((function(f){return clearInterval(f)}))},s=!1,l=null;r.Global=(function(){function f(){(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,f)}return f._testing=function(){s=!0},f.setXMLHttpRequest=function(p){l=p},o(f,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return a}}]),f})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var o=(function(){function d(p,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,y){return g&&d(p.prototype,g),y&&d(p,y),p}})(),a=i(0),s=i(7);function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration";r.MetadataService=(function(){function d(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,d),!p)throw a.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=p,this._jsonService=new g(["application/jwk-set+json"])}return d.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},d.prototype.getMetadata=function(){var g=this;return this._settings.metadata?(a.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(a.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(y){a.Log.debug("MetadataService.getMetadata: json received");var b=g._settings.metadataSeed||{};return g._settings.metadata=Object.assign({},b,y),g._settings.metadata}))):(a.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},d.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},d.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},d.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},d.prototype.getTokenEndpoint=function(){var g=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",g)},d.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},d.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},d.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},d.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},d.prototype._getMetadataProperty=function(g){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return a.Log.debug("MetadataService.getMetadataProperty for: "+g),this.getMetadata().then((function(b){if(a.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),b[g]===void 0){if(y===!0)return void a.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+g);throw a.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+g),new Error("Metadata does not contain property "+g)}return b[g]}))},d.prototype.getSigningKeys=function(){var g=this;return this._settings.signingKeys?(a.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(y){return a.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),g._jsonService.getJson(y).then((function(b){if(a.Log.debug("MetadataService.getSigningKeys: key set received",b),!b.keys)throw a.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return g._settings.signingKeys=b.keys,g._settings.signingKeys}))}))},o(d,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=f))),this._metadataUrl}}]),d})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var o=i(0),a=i(1);r.UrlUtility=(function(){function s(){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(f,d,p){return f.indexOf("?")<0&&(f+="?"),f[f.length-1]!=="?"&&(f+="&"),f+=encodeURIComponent(d),f+="=",f+=encodeURIComponent(p)},s.parseUrlFragment=function(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.Global;typeof f!="string"&&(f=p.location.href);var g=f.lastIndexOf(d);g>=0&&(f=f.substr(g+1)),d==="?"&&(g=f.indexOf("#"))>=0&&(f=f.substr(0,g));for(var y,b={},x=/([^&=]+)=([^&]*)/g,E=0;y=x.exec(f);)if(b[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),E++>50)return o.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",f),{error:"Response exceeded expected number of parameters"};for(var v in b)return b;return{}},s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var o=i(26),a=(function(l){return l&&l.__esModule?l:{default:l}})(i(33));r.JoseUtil=(0,a.default)({jws:o.jws,KeyUtil:o.KeyUtil,X509:o.X509,crypto:o.crypto,hextob64u:o.hextob64u,b64tohex:o.b64tohex,AllowedSigningAlgs:o.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},a=(function(){function v(w,C){for(var P=0;P<C.length;P++){var R=C[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(w,R.key,R)}}return function(w,C,P){return C&&v(w.prototype,C),P&&v(w,P),w}})(),s=i(0),l=i(23),f=i(6),d=i(24),p=i(2);function g(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",b="id_token",x="openid",E="client_secret_post";r.OidcClientSettings=(function(){function v(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=w.authority,P=w.metadataUrl,R=w.metadata,k=w.signingKeys,M=w.metadataSeed,W=w.client_id,ee=w.client_secret,z=w.response_type,H=z===void 0?b:z,te=w.scope,oe=te===void 0?x:te,ue=w.redirect_uri,de=w.post_logout_redirect_uri,se=w.client_authentication,pe=se===void 0?E:se,re=w.prompt,Ee=w.display,$=w.max_age,Q=w.ui_locales,ce=w.acr_values,G=w.resource,X=w.response_mode,ge=w.filterProtocolClaims,xe=ge===void 0||ge,Ve=w.loadUserInfo,Pe=Ve===void 0||Ve,Be=w.staleStateAge,Je=Be===void 0?900:Be,fe=w.clockSkew,V=fe===void 0?300:fe,j=w.clockService,ie=j===void 0?new l.ClockService:j,me=w.userInfoJwtIssuer,Te=me===void 0?"OP":me,Le=w.mergeClaims,rt=Le!==void 0&&Le,Ie=w.stateStore,ye=Ie===void 0?new f.WebStorageStateStore:Ie,Ae=w.ResponseValidatorCtor,Me=Ae===void 0?d.ResponseValidator:Ae,tt=w.MetadataServiceCtor,mt=tt===void 0?p.MetadataService:tt,Ye=w.extraQueryParams,qe=Ye===void 0?{}:Ye,ae=w.extraTokenParams,K=ae===void 0?{}:ae;g(this,v),this._authority=C,this._metadataUrl=P,this._metadata=R,this._metadataSeed=M,this._signingKeys=k,this._client_id=W,this._client_secret=ee,this._response_type=H,this._scope=oe,this._redirect_uri=ue,this._post_logout_redirect_uri=de,this._client_authentication=pe,this._prompt=re,this._display=Ee,this._max_age=$,this._ui_locales=Q,this._acr_values=ce,this._resource=G,this._response_mode=X,this._filterProtocolClaims=!!xe,this._loadUserInfo=!!Pe,this._staleStateAge=Je,this._clockSkew=V,this._clockService=ie,this._userInfoJwtIssuer=Te,this._mergeClaims=!!rt,this._stateStore=ye,this._validator=new Me(this),this._metadataService=new mt(this),this._extraQueryParams=(qe===void 0?"undefined":o(qe))==="object"?qe:{},this._extraTokenParams=(K===void 0?"undefined":o(K))==="object"?K:{}}return v.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},a(v,[{key:"client_id",get:function(){return this._client_id},set:function(C){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=C}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(C){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=C}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(C){this._metadata=C}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(C){this._metadataSeed=C}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(C){this._signingKeys=C}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(C){(C===void 0?"undefined":o(C))==="object"?this._extraQueryParams=C:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(C){(C===void 0?"undefined":o(C))==="object"?this._extraTokenParams=C:this._extraTokenParams={}}}]),v})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var o=i(0),a=i(1);function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=(function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=f.prefix,p=d===void 0?"oidc.":d,g=f.store,y=g===void 0?a.Global.localStorage:g;s(this,l),this._store=y,this._prefix=p}return l.prototype.set=function(d,p){return o.Log.debug("WebStorageStateStore.set",d),d=this._prefix+d,this._store.setItem(d,p),Promise.resolve()},l.prototype.get=function(d){o.Log.debug("WebStorageStateStore.get",d),d=this._prefix+d;var p=this._store.getItem(d);return Promise.resolve(p)},l.prototype.remove=function(d){o.Log.debug("WebStorageStateStore.remove",d),d=this._prefix+d;var p=this._store.getItem(d);return this._store.removeItem(d),Promise.resolve(p)},l.prototype.getAllKeys=function(){o.Log.debug("WebStorageStateStore.getAllKeys");for(var d=[],p=0;p<this._store.length;p++){var g=this._store.key(p);g.indexOf(this._prefix)===0&&d.push(g.substr(this._prefix.length))}return Promise.resolve(d)},l})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var o=i(0),a=i(1);function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.JsonService=(function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.Global.XMLHttpRequest,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),f&&Array.isArray(f)?this._contentTypes=f.slice():this._contentTypes=[],this._contentTypes.push("application/json"),p&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=d,this._jwtHandler=p}return l.prototype.getJson=function(d,p){var g=this;if(!d)throw o.Log.error("JsonService.getJson: No url passed"),new Error("url");return o.Log.debug("JsonService.getJson, url: ",d),new Promise((function(y,b){var x=new g._XMLHttpRequest;x.open("GET",d);var E=g._contentTypes,v=g._jwtHandler;x.onload=function(){if(o.Log.debug("JsonService.getJson: HTTP response received, status",x.status),x.status===200){var w=x.getResponseHeader("Content-Type");if(w){var C=E.find((function(P){if(w.startsWith(P))return!0}));if(C=="application/jwt")return void v(x).then(y,b);if(C)try{return void y(JSON.parse(x.responseText))}catch(P){return o.Log.error("JsonService.getJson: Error parsing JSON response",P.message),void b(P)}}b(Error("Invalid response Content-Type: "+w+", from URL: "+d))}else b(Error(x.statusText+" ("+x.status+")"))},x.onerror=function(){o.Log.error("JsonService.getJson: network error"),b(Error("Network Error"))},p&&(o.Log.debug("JsonService.getJson: token passed, setting Authorization header"),x.setRequestHeader("Authorization","Bearer "+p)),x.send()}))},l.prototype.postForm=function(d,p,g){var y=this;if(!d)throw o.Log.error("JsonService.postForm: No url passed"),new Error("url");return o.Log.debug("JsonService.postForm, url: ",d),new Promise((function(b,x){var E=new y._XMLHttpRequest;E.open("POST",d);var v=y._contentTypes;E.onload=function(){if(o.Log.debug("JsonService.postForm: HTTP response received, status",E.status),E.status!==200){if(E.status===400&&(k=E.getResponseHeader("Content-Type"))&&v.find((function(M){if(k.startsWith(M))return!0})))try{var R=JSON.parse(E.responseText);if(R&&R.error)return o.Log.error("JsonService.postForm: Error from server: ",R.error),void x(new Error(R.error))}catch(M){return o.Log.error("JsonService.postForm: Error parsing JSON response",M.message),void x(M)}x(Error(E.statusText+" ("+E.status+")"))}else{var k;if((k=E.getResponseHeader("Content-Type"))&&v.find((function(M){if(k.startsWith(M))return!0})))try{return void b(JSON.parse(E.responseText))}catch(M){return o.Log.error("JsonService.postForm: Error parsing JSON response",M.message),void x(M)}x(Error("Invalid response Content-Type: "+k+", from URL: "+d))}},E.onerror=function(){o.Log.error("JsonService.postForm: network error"),x(Error("Network Error"))};var w="";for(var C in p){var P=p[C];P&&(w.length>0&&(w+="&"),w+=encodeURIComponent(C),w+="=",w+=encodeURIComponent(P))}E.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g!==void 0&&E.setRequestHeader("Authorization","Basic "+btoa(g)),E.send(w)}))},l})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var o=i(0),a=i(3),s=i(13);r.SigninRequest=(function(){function l(f){var d=f.url,p=f.client_id,g=f.redirect_uri,y=f.response_type,b=f.scope,x=f.authority,E=f.data,v=f.prompt,w=f.display,C=f.max_age,P=f.ui_locales,R=f.id_token_hint,k=f.login_hint,M=f.acr_values,W=f.resource,ee=f.response_mode,z=f.request,H=f.request_uri,te=f.extraQueryParams,oe=f.request_type,ue=f.client_secret,de=f.extraTokenParams,se=f.skipUserInfo;if((function(G,X){if(!(G instanceof X))throw new TypeError("Cannot call a class as a function")})(this,l),!d)throw o.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!p)throw o.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!g)throw o.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw o.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!b)throw o.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!x)throw o.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var pe=l.isOidc(y),re=l.isCode(y);ee||(ee=l.isCode(y)?"query":null),this.state=new s.SigninState({nonce:pe,data:E,client_id:p,authority:x,redirect_uri:g,code_verifier:re,request_type:oe,response_mode:ee,client_secret:ue,scope:b,extraTokenParams:de,skipUserInfo:se}),d=a.UrlUtility.addQueryParam(d,"client_id",p),d=a.UrlUtility.addQueryParam(d,"redirect_uri",g),d=a.UrlUtility.addQueryParam(d,"response_type",y),d=a.UrlUtility.addQueryParam(d,"scope",b),d=a.UrlUtility.addQueryParam(d,"state",this.state.id),pe&&(d=a.UrlUtility.addQueryParam(d,"nonce",this.state.nonce)),re&&(d=a.UrlUtility.addQueryParam(d,"code_challenge",this.state.code_challenge),d=a.UrlUtility.addQueryParam(d,"code_challenge_method","S256"));var Ee={prompt:v,display:w,max_age:C,ui_locales:P,id_token_hint:R,login_hint:k,acr_values:M,resource:W,request:z,request_uri:H,response_mode:ee};for(var $ in Ee)Ee[$]&&(d=a.UrlUtility.addQueryParam(d,$,Ee[$]));for(var Q in te)d=a.UrlUtility.addQueryParam(d,Q,te[Q]);this.url=d}return l.isOidc=function(d){return!!d.split(/\s+/g).filter((function(p){return p==="id_token"}))[0]},l.isOAuth=function(d){return!!d.split(/\s+/g).filter((function(p){return p==="token"}))[0]},l.isCode=function(d){return!!d.split(/\s+/g).filter((function(p){return p==="code"}))[0]},l})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var o=(function(){function f(d,p){for(var g=0;g<p.length;g++){var y=p[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,p,g){return p&&f(d.prototype,p),g&&f(d,g),d}})(),a=i(0),s=(function(d){return d&&d.__esModule?d:{default:d}})(i(14));function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}r.State=(function(){function f(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=d.id,g=d.data,y=d.created,b=d.request_type;l(this,f),this._id=p||(0,s.default)(),this._data=g,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=b}return f.prototype.toStorageString=function(){return a.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},f.fromStorageString=function(p){return a.Log.debug("State.fromStorageString"),new f(JSON.parse(p))},f.clearStaleState=function(p,g){var y=Date.now()/1e3-g;return p.getAllKeys().then((function(b){a.Log.debug("State.clearStaleState: got keys",b);for(var x=[],E=function(P){var R=b[P];w=p.get(R).then((function(k){var M=!1;if(k)try{var W=f.fromStorageString(k);a.Log.debug("State.clearStaleState: got item from key: ",R,W.created),W.created<=y&&(M=!0)}catch(ee){a.Log.error("State.clearStaleState: Error parsing state for key",R,ee.message),M=!0}else a.Log.debug("State.clearStaleState: no item in storage for key: ",R),M=!0;if(M)return a.Log.debug("State.clearStaleState: removed item for key: ",R),p.remove(R)})),x.push(w)},v=0;v<b.length;v++){var w;E(v)}return a.Log.debug("State.clearStaleState: waiting on promise count:",x.length),Promise.all(x)}))},o(f,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),f})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var o=(function(){function E(v,w){for(var C=0;C<w.length;C++){var P=w[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(v,P.key,P)}}return function(v,w,C){return w&&E(v.prototype,w),C&&E(v,C),v}})(),a=i(0),s=i(5),l=i(12),f=i(8),d=i(34),p=i(35),g=i(36),y=i(13),b=i(9);function x(E,v){if(!(E instanceof v))throw new TypeError("Cannot call a class as a function")}r.OidcClient=(function(){function E(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};x(this,E),v instanceof s.OidcClientSettings?this._settings=v:this._settings=new s.OidcClientSettings(v)}return E.prototype.createSigninRequest=function(){var w=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=C.response_type,R=C.scope,k=C.redirect_uri,M=C.data,W=C.state,ee=C.prompt,z=C.display,H=C.max_age,te=C.ui_locales,oe=C.id_token_hint,ue=C.login_hint,de=C.acr_values,se=C.resource,pe=C.request,re=C.request_uri,Ee=C.response_mode,$=C.extraQueryParams,Q=C.extraTokenParams,ce=C.request_type,G=C.skipUserInfo,X=arguments[1];a.Log.debug("OidcClient.createSigninRequest");var ge=this._settings.client_id;P=P||this._settings.response_type,R=R||this._settings.scope,k=k||this._settings.redirect_uri,ee=ee||this._settings.prompt,z=z||this._settings.display,H=H||this._settings.max_age,te=te||this._settings.ui_locales,de=de||this._settings.acr_values,se=se||this._settings.resource,Ee=Ee||this._settings.response_mode,$=$||this._settings.extraQueryParams,Q=Q||this._settings.extraTokenParams;var xe=this._settings.authority;return f.SigninRequest.isCode(P)&&P!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(Ve){a.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Ve);var Pe=new f.SigninRequest({url:Ve,client_id:ge,redirect_uri:k,response_type:P,scope:R,data:M||W,authority:xe,prompt:ee,display:z,max_age:H,ui_locales:te,id_token_hint:oe,login_hint:ue,acr_values:de,resource:se,request:pe,request_uri:re,extraQueryParams:$,extraTokenParams:Q,request_type:ce,response_mode:Ee,client_secret:w._settings.client_secret,skipUserInfo:G}),Be=Pe.state;return(X=X||w._stateStore).set(Be.id,Be.toStorageString()).then((function(){return Pe}))}))},E.prototype.readSigninResponseState=function(w,C){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];a.Log.debug("OidcClient.readSigninResponseState");var R=this._settings.response_mode==="query"||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type),k=R?"?":"#",M=new d.SigninResponse(w,k);if(!M.state)return a.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));C=C||this._stateStore;var W=P?C.remove.bind(C):C.get.bind(C);return W(M.state).then((function(ee){if(!ee)throw a.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(ee),response:M}}))},E.prototype.processSigninResponse=function(w,C){var P=this;return a.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(w,C,!0).then((function(R){var k=R.state,M=R.response;return a.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),P._validator.validateSigninResponse(k,M)}))},E.prototype.createSignoutRequest=function(){var w=this,C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=C.id_token_hint,R=C.data,k=C.state,M=C.post_logout_redirect_uri,W=C.extraQueryParams,ee=C.request_type,z=arguments[1];return a.Log.debug("OidcClient.createSignoutRequest"),M=M||this._settings.post_logout_redirect_uri,W=W||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(H){if(!H)throw a.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");a.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",H);var te=new p.SignoutRequest({url:H,id_token_hint:P,post_logout_redirect_uri:M,data:R||k,extraQueryParams:W,request_type:ee}),oe=te.state;return oe&&(a.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(z=z||w._stateStore).set(oe.id,oe.toStorageString())),te}))},E.prototype.readSignoutResponseState=function(w,C){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];a.Log.debug("OidcClient.readSignoutResponseState");var R=new g.SignoutResponse(w);if(!R.state)return a.Log.debug("OidcClient.readSignoutResponseState: No state in response"),R.error?(a.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",R.error),Promise.reject(new l.ErrorResponse(R))):Promise.resolve({state:void 0,response:R});var k=R.state;C=C||this._stateStore;var M=P?C.remove.bind(C):C.get.bind(C);return M(k).then((function(W){if(!W)throw a.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:b.State.fromStorageString(W),response:R}}))},E.prototype.processSignoutResponse=function(w,C){var P=this;return a.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(w,C,!0).then((function(R){var k=R.state,M=R.response;return k?(a.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),P._validator.validateSignoutResponse(k,M)):(a.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),M)}))},E.prototype.clearStaleState=function(w){return a.Log.debug("OidcClient.clearStaleState"),w=w||this._stateStore,b.State.clearStaleState(w,this.settings.staleStateAge)},o(E,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),E})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var o=i(7),a=i(2),s=i(0);function l(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")}r.TokenClient=(function(){function f(d){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.JsonService,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.MetadataService;if(l(this,f),!d)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new p,this._metadataService=new g(this._settings)}return f.prototype.exchangeCode=function(){var p=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(g=Object.assign({},g)).grant_type=g.grant_type||"authorization_code",g.client_id=g.client_id||this._settings.client_id,g.client_secret=g.client_secret||this._settings.client_secret,g.redirect_uri=g.redirect_uri||this._settings.redirect_uri;var y=void 0,b=g._client_authentication||this._settings._client_authentication;return delete g._client_authentication,g.code?g.redirect_uri?g.code_verifier?g.client_id?g.client_secret||b!="client_secret_basic"?(b=="client_secret_basic"&&(y=g.client_id+":"+g.client_secret,delete g.client_id,delete g.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(x){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),p._jsonService.postForm(x,g,y).then((function(E){return s.Log.debug("TokenClient.exchangeCode: response received"),E}))}))):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},f.prototype.exchangeRefreshToken=function(){var p=this,g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(g=Object.assign({},g)).grant_type=g.grant_type||"refresh_token",g.client_id=g.client_id||this._settings.client_id,g.client_secret=g.client_secret||this._settings.client_secret;var y=void 0,b=g._client_authentication||this._settings._client_authentication;return delete g._client_authentication,g.refresh_token?g.client_id?(b=="client_secret_basic"&&(y=g.client_id+":"+g.client_secret,delete g.client_id,delete g.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(x){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),p._jsonService.postForm(x,g,y).then((function(E){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),E}))}))):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},f})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var o=i(0);function a(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}function s(l,f){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?l:f}r.ErrorResponse=(function(l){function f(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=d.error,g=d.error_description,y=d.error_uri,b=d.state,x=d.session_state;if(a(this,f),!p)throw o.Log.error("No error passed to ErrorResponse"),new Error("error");var E=s(this,l.call(this,g||p));return E.name="ErrorResponse",E.error=p,E.error_description=g,E.error_uri=y,E.state=b,E.session_state=x,E}return(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)})(f,l),f})(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var o=(function(){function g(y,b){for(var x=0;x<b.length;x++){var E=b[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(y,E.key,E)}}return function(y,b,x){return b&&g(y.prototype,b),x&&g(y,x),y}})(),a=i(0),s=i(9),l=i(4),f=(function(y){return y&&y.__esModule?y:{default:y}})(i(14));function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?g:y}r.SigninState=(function(g){function y(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=b.nonce,E=b.authority,v=b.client_id,w=b.redirect_uri,C=b.code_verifier,P=b.response_mode,R=b.client_secret,k=b.scope,M=b.extraTokenParams,W=b.skipUserInfo;d(this,y);var ee=p(this,g.call(this,arguments[0]));if(x===!0?ee._nonce=(0,f.default)():x&&(ee._nonce=x),C===!0?ee._code_verifier=(0,f.default)()+(0,f.default)()+(0,f.default)():C&&(ee._code_verifier=C),ee.code_verifier){var z=l.JoseUtil.hashString(ee.code_verifier,"SHA256");ee._code_challenge=l.JoseUtil.hexToBase64Url(z)}return ee._redirect_uri=w,ee._authority=E,ee._client_id=v,ee._response_mode=P,ee._client_secret=R,ee._scope=k,ee._extraTokenParams=M,ee._skipUserInfo=W,ee}return(function(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)})(y,g),y.prototype.toStorageString=function(){return a.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(x){return a.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(x))},o(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y})(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(o!="undefined"&&o!==null&&o.getRandomValues!==void 0?a:s)().replace(/-/g,"")};var o=typeof window<"u"?window.crypto||window.msCrypto:null;function a(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,(function(l){return(l^o.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)}))}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,(function(l){return(l^16*Math.random()>>l/4).toString(16)}))}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var o=(function(){function s(l,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,d){return f&&s(l.prototype,f),d&&s(l,d),l}})(),a=i(0);r.User=(function(){function s(l){var f=l.id_token,d=l.session_state,p=l.access_token,g=l.refresh_token,y=l.token_type,b=l.scope,x=l.profile,E=l.expires_at,v=l.state;(function(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=f,this.session_state=d,this.access_token=p,this.refresh_token=g,this.token_type=y,this.scope=b,this.profile=x,this.expires_at=E,this.state=v}return s.prototype.toStorageString=function(){return a.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(f){return a.Log.debug("User.fromStorageString"),new s(JSON.parse(f))},o(s,[{key:"expires_in",get:function(){if(this.expires_at){var f=parseInt(Date.now()/1e3);return this.expires_at-f}},set:function(f){var d=parseInt(f);if(typeof d=="number"&&d>0){var p=parseInt(Date.now()/1e3);this.expires_at=p+d}}},{key:"expired",get:function(){var f=this.expires_in;if(f!==void 0)return f<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var o=i(0),a=i(46);function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=(function(){function l(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=f.accessTokenExpiringNotificationTime,p=d===void 0?60:d,g=f.accessTokenExpiringTimer,y=g===void 0?new a.Timer("Access token expiring"):g,b=f.accessTokenExpiredTimer,x=b===void 0?new a.Timer("Access token expired"):b;s(this,l),this._accessTokenExpiringNotificationTime=p,this._accessTokenExpiring=y,this._accessTokenExpired=x}return l.prototype.load=function(d){if(d.access_token&&d.expires_in!==void 0){var p=d.expires_in;if(o.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",p),p>0){var g=p-this._accessTokenExpiringNotificationTime;g<=0&&(g=1),o.Log.debug("AccessTokenEvents.load: registering expiring timer in:",g),this._accessTokenExpiring.init(g)}else o.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=p+1;o.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){o.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(d){this._accessTokenExpiring.addHandler(d)},l.prototype.removeAccessTokenExpiring=function(d){this._accessTokenExpiring.removeHandler(d)},l.prototype.addAccessTokenExpired=function(d){this._accessTokenExpired.addHandler(d)},l.prototype.removeAccessTokenExpired=function(d){this._accessTokenExpired.removeHandler(d)},l})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var o=i(0);r.Event=(function(){function a(s){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),this._name=s,this._callbacks=[]}return a.prototype.addHandler=function(l){this._callbacks.push(l)},a.prototype.removeHandler=function(l){var f=this._callbacks.findIndex((function(d){return d===l}));f>=0&&this._callbacks.splice(f,1)},a.prototype.raise=function(){o.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var f;(f=this._callbacks)[l].apply(f,arguments)}},a})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var o=(function(){function d(p,g){for(var y=0;y<g.length;y++){var b=g[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(p,b.key,b)}}return function(p,g,y){return g&&d(p.prototype,g),y&&d(p,y),p}})(),a=i(0),s=i(19),l=i(1);function f(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=(function(){function d(p){var g=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(f(this,d),!p)throw a.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=p,this._CheckSessionIFrameCtor=y,this._timer=b,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(x){x?g._start(x):g._settings.monitorAnonymousSession&&g._userManager.querySessionStatus().then((function(E){var v={session_state:E.session_state};E.sub&&E.sid&&(v.profile={sub:E.sub,sid:E.sid}),g._start(v)})).catch((function(E){a.Log.error("SessionMonitor ctor: error from querySessionStatus:",E.message)}))})).catch((function(x){a.Log.error("SessionMonitor ctor: error from getUser:",x.message)})))}return d.prototype._start=function(g){var y=this,b=g.session_state;b&&(g.profile?(this._sub=g.profile.sub,this._sid=g.profile.sid,a.Log.debug("SessionMonitor._start: session_state:",b,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,a.Log.debug("SessionMonitor._start: session_state:",b,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(b):this._metadataService.getCheckSessionIframe().then((function(x){if(x){a.Log.debug("SessionMonitor._start: Initializing check session iframe");var E=y._client_id,v=y._checkSessionInterval,w=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),E,x,v,w),y._checkSessionIFrame.load().then((function(){y._checkSessionIFrame.start(b)}))}else a.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(x){a.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",x.message)})))},d.prototype._stop=function(){var g=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(a.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval((function(){g._timer.clearInterval(y),g._userManager.querySessionStatus().then((function(b){var x={session_state:b.session_state};b.sub&&b.sid&&(x.profile={sub:b.sub,sid:b.sid}),g._start(x)})).catch((function(b){a.Log.error("SessionMonitor: error from querySessionStatus:",b.message)}))}),1e3)},d.prototype._callback=function(){var g=this;this._userManager.querySessionStatus().then((function(y){var b=!0;y?y.sub===g._sub?(b=!1,g._checkSessionIFrame.start(y.session_state),y.sid===g._sid?a.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(a.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),g._userManager.events._raiseUserSessionChanged())):a.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):a.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),b&&(g._sub?(a.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),g._userManager.events._raiseUserSignedOut()):(a.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),g._userManager.events._raiseUserSignedIn()))})).catch((function(y){g._sub&&(a.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),g._userManager.events._raiseUserSignedOut())}))},o(d,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),d})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var o=i(0);function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=(function(){function s(l,f,d,p){var g=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];a(this,s),this._callback=l,this._client_id=f,this._url=d,this._interval=p||2e3,this._stopOnError=g;var y=d.indexOf("/",d.indexOf("//")+2);this._frame_origin=d.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=d}return s.prototype.load=function(){var f=this;return new Promise((function(d){f._frame.onload=function(){d()},window.document.body.appendChild(f._frame),f._boundMessageEvent=f._message.bind(f),window.addEventListener("message",f._boundMessageEvent,!1)}))},s.prototype._message=function(f){f.origin===this._frame_origin&&f.source===this._frame.contentWindow&&(f.data==="error"?(o.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):f.data==="changed"?(o.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):o.Log.debug("CheckSessionIFrame: "+f.data+" message from check session op iframe"))},s.prototype.start=function(f){var d=this;if(this._session_state!==f){o.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=f;var p=function(){d._frame.contentWindow.postMessage(d._client_id+" "+d._session_state,d._frame_origin)};p(),this._timer=window.setInterval(p,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(o.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var o=i(0),a=i(2),s=i(1);function l(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}var f="access_token",d="refresh_token";r.TokenRevocationClient=(function(){function p(g){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.MetadataService;if(l(this,p),!g)throw o.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=g,this._XMLHttpRequestCtor=y,this._metadataService=new b(this._settings)}return p.prototype.revoke=function(y,b){var x=this,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw o.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(E!==f&&E!=d)throw o.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(v){if(v){o.Log.debug("TokenRevocationClient.revoke: Revoking "+E);var w=x._settings.client_id,C=x._settings.client_secret;return x._revoke(v,w,C,y,E)}if(b)throw o.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},p.prototype._revoke=function(y,b,x,E,v){var w=this;return new Promise((function(C,P){var R=new w._XMLHttpRequestCtor;R.open("POST",y),R.onload=function(){o.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",R.status),R.status===200?C():P(Error(R.statusText+" ("+R.status+")"))},R.onerror=function(){o.Log.debug("TokenRevocationClient.revoke: Network Error."),P("Network Error")};var k="client_id="+encodeURIComponent(b);x&&(k+="&client_secret="+encodeURIComponent(x)),k+="&token_type_hint="+encodeURIComponent(v),k+="&token="+encodeURIComponent(E),R.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),R.send(k)}))},p})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var o=(function(){function s(l,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,d){return f&&s(l.prototype,f),d&&s(l,d),l}})(),a=i(0);r.CordovaPopupWindow=(function(){function s(l){var f=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise((function(d,p){f._resolve=d,f._reject=p})),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,a.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(f){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(d){return f.hasOwnProperty(d)}))},s.prototype.navigate=function(f){if(f&&f.url){if(!window.cordova)return this._error("cordova is undefined");var d=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(d)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(f.url,this.target,this.features),this._popup?(a.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(f){f.url.indexOf(this.redirect_uri)===0&&this._success({url:f.url})},s.prototype._exitCallback=function(f){this._error(f)},s.prototype._success=function(f){this._cleanup(),a.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(f)},s.prototype._error=function(f){this._cleanup(),a.Log.error(f),this._reject(new Error(f))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(a.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},o(s,[{key:"promise",get:function(){return this._promise}}]),s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),a=i(10),s=i(5),l=i(6),f=i(37),d=i(38),p=i(16),g=i(2),y=i(48),b=i(49),x=i(19),E=i(20),v=i(18),w=i(1),C=i(15),P=i(50);r.default={Version:P.Version,Log:o.Log,OidcClient:a.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:f.InMemoryWebStorage,UserManager:d.UserManager,AccessTokenEvents:p.AccessTokenEvents,MetadataService:g.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:b.CordovaIFrameNavigator,CheckSessionIFrame:x.CheckSessionIFrame,TokenRevocationClient:E.TokenRevocationClient,SessionMonitor:v.SessionMonitor,Global:w.Global,User:C.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=(function(){function o(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},o})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},a=i(0),s=i(2),l=i(25),f=i(11),d=i(12),p=i(4);function g(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=(function(){function b(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p.JoseUtil,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:f.TokenClient;if(g(this,b),!x)throw a.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=x,this._metadataService=new E(this._settings),this._userInfoService=new v(this._settings),this._joseUtil=w,this._tokenClient=new C(this._settings)}return b.prototype.validateSigninResponse=function(E,v){var w=this;return a.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(E,v).then((function(C){return a.Log.debug("ResponseValidator.validateSigninResponse: state processed"),w._validateTokens(E,C).then((function(P){return a.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),w._processClaims(E,P).then((function(R){return a.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),R}))}))}))},b.prototype.validateSignoutResponse=function(E,v){return E.id!==v.state?(a.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(a.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),v.state=E.data,v.error?(a.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",v.error),Promise.reject(new d.ErrorResponse(v))):Promise.resolve(v))},b.prototype._processSigninParams=function(E,v){if(E.id!==v.state)return a.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!E.client_id)return a.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!E.authority)return a.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==E.authority)return a.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=E.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==E.client_id)return a.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=E.client_id;return a.Log.debug("ResponseValidator._processSigninParams: state validated"),v.state=E.data,v.error?(a.Log.warn("ResponseValidator._processSigninParams: Response was error",v.error),Promise.reject(new d.ErrorResponse(v))):E.nonce&&!v.id_token?(a.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!E.nonce&&v.id_token?(a.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):E.code_verifier&&!v.code?(a.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!E.code_verifier&&v.code?(a.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(v.scope||(v.scope=E.scope),Promise.resolve(v))},b.prototype._processClaims=function(E,v){var w=this;if(v.isOpenIdConnect){if(a.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),v.profile=this._filterProtocolClaims(v.profile),E.skipUserInfo!==!0&&this._settings.loadUserInfo&&v.access_token)return a.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(v.access_token).then((function(C){return a.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),C.sub!==v.profile.sub?(a.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(v.profile=w._mergeClaims(v.profile,C),a.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",v.profile),v)}));a.Log.debug("ResponseValidator._processClaims: not loading user info")}else a.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(v)},b.prototype._mergeClaims=function(E,v){var w=Object.assign({},E);for(var C in v){var P=v[C];Array.isArray(P)||(P=[P]);for(var R=0;R<P.length;R++){var k=P[R];w[C]?Array.isArray(w[C])?w[C].indexOf(k)<0&&w[C].push(k):w[C]!==k&&((k===void 0?"undefined":o(k))==="object"&&this._settings.mergeClaims?w[C]=this._mergeClaims(w[C],k):w[C]=[w[C],k]):w[C]=k}}return w},b.prototype._filterProtocolClaims=function(E){a.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",E);var v=Object.assign({},E);return this._settings._filterProtocolClaims?(y.forEach((function(w){delete v[w]})),a.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",v)):a.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),v},b.prototype._validateTokens=function(E,v){return v.code?(a.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(E,v)):v.id_token?v.access_token?(a.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(E,v)):(a.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(E,v)):(a.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(v))},b.prototype._processCode=function(E,v){var w=this,C={client_id:E.client_id,client_secret:E.client_secret,code:v.code,redirect_uri:E.redirect_uri,code_verifier:E.code_verifier};return E.extraTokenParams&&o(E.extraTokenParams)==="object"&&Object.assign(C,E.extraTokenParams),this._tokenClient.exchangeCode(C).then((function(P){for(var R in P)v[R]=P[R];return v.id_token?(a.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),w._validateIdTokenAttributes(E,v)):(a.Log.debug("ResponseValidator._processCode: token response successful, returning response"),v)}))},b.prototype._validateIdTokenAttributes=function(E,v){var w=this;return this._metadataService.getIssuer().then((function(C){var P=E.client_id,R=w._settings.clockSkew;return a.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",R),w._settings.getEpochTime().then((function(k){return w._joseUtil.validateJwtAttributes(v.id_token,C,P,R,k).then((function(M){return E.nonce&&E.nonce!==M.nonce?(a.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):M.sub?(v.profile=M,v):(a.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},b.prototype._validateIdTokenAndAccessToken=function(E,v){var w=this;return this._validateIdToken(E,v).then((function(C){return w._validateAccessToken(C)}))},b.prototype._getSigningKeyForJwt=function(E){var v=this;return this._metadataService.getSigningKeys().then((function(w){var C=E.header.kid;if(!w)return a.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));a.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var P=void 0;if(C)P=w.filter((function(R){return R.kid===C}))[0];else{if((w=v._filterByAlg(w,E.header.alg)).length>1)return a.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=w[0]}return Promise.resolve(P)}))},b.prototype._getSigningKeyForJwtWithSingleRetry=function(E){var v=this;return this._getSigningKeyForJwt(E).then((function(w){return w?Promise.resolve(w):(v._metadataService.resetSigningKeys(),v._getSigningKeyForJwt(E))}))},b.prototype._validateIdToken=function(E,v){var w=this;if(!E.nonce)return a.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var C=this._joseUtil.parseJwt(v.id_token);return C&&C.header&&C.payload?E.nonce!==C.payload.nonce?(a.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(P){return a.Log.debug("ResponseValidator._validateIdToken: Received issuer"),w._getSigningKeyForJwtWithSingleRetry(C).then((function(R){if(!R)return a.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var k=E.client_id,M=w._settings.clockSkew;return a.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",M),w._joseUtil.validateJwt(v.id_token,R,P,k,M).then((function(){return a.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),C.payload.sub?(v.profile=C.payload,v):(a.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(a.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",C),Promise.reject(new Error("Failed to parse id_token")))},b.prototype._filterByAlg=function(E,v){var w=null;if(v.startsWith("RS"))w="RSA";else if(v.startsWith("PS"))w="PS";else{if(!v.startsWith("ES"))return a.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",v),[];w="EC"}return a.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",w),E=E.filter((function(C){return C.kty===w})),a.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",w,E.length),E},b.prototype._validateAccessToken=function(E){if(!E.profile)return a.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!E.profile.at_hash)return a.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!E.id_token)return a.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var v=this._joseUtil.parseJwt(E.id_token);if(!v||!v.header)return a.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",v),Promise.reject(new Error("Failed to parse id_token"));var w=v.header.alg;if(!w||w.length!==5)return a.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",w),Promise.reject(new Error("Unsupported alg: "+w));var C=w.substr(2,3);if(!C)return a.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",w,C),Promise.reject(new Error("Unsupported alg: "+w));if((C=parseInt(C))!==256&&C!==384&&C!==512)return a.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",w,C),Promise.reject(new Error("Unsupported alg: "+w));var P="sha"+C,R=this._joseUtil.hashString(E.access_token,P);if(!R)return a.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",P),Promise.reject(new Error("Failed to validate at_hash"));var k=R.substr(0,R.length/2),M=this._joseUtil.hexToBase64Url(k);return M!==E.profile.at_hash?(a.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",M,E.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(a.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(E))},b})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var o=i(7),a=i(2),s=i(0),l=i(4);function f(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=(function(){function d(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.MetadataService,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(f(this,d),!p)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=p,this._jsonService=new g(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=b}return d.prototype.getClaims=function(g){var y=this;return g?this._metadataService.getUserInfoEndpoint().then((function(b){return s.Log.debug("UserInfoService.getClaims: received userinfo url",b),y._jsonService.getJson(b,g).then((function(x){return s.Log.debug("UserInfoService.getClaims: claims received",x),x}))})):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},d.prototype._getClaimsFromJwt=function(g){var y=this;try{var b=this._joseUtil.parseJwt(g.responseText);if(!b||!b.header||!b.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",b),Promise.reject(new Error("Failed to parse id_token"));var x=b.header.kid,E=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":E=this._metadataService.getIssuer();break;case"ANY":E=Promise.resolve(b.payload.iss);break;default:E=Promise.resolve(this._settings.userInfoJwtIssuer)}return E.then((function(v){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+v),y._metadataService.getSigningKeys().then((function(w){if(!w)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var C=void 0;if(x)C=w.filter((function(k){return k.kid===x}))[0];else{if((w=y._filterByAlg(w,b.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));C=w[0]}if(!C)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var P=y._settings.client_id,R=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",R),y._joseUtil.validateJwt(g.responseText,C,v,P,R,void 0,!0).then((function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),b.payload}))}))}))}catch(v){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",v.message),void reject(v)}},d.prototype._filterByAlg=function(g,y){var b=null;if(y.startsWith("RS"))b="RSA";else if(y.startsWith("PS"))b="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];b="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",b),g=g.filter((function(x){return x.kty===b})),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",b,g.length),g},d})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var o=i(27);r.jws=o.jws,r.KeyUtil=o.KEYUTIL,r.X509=o.X509,r.crypto=o.crypto,r.hextob64u=o.hextob64u,r.b64tohex=o.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(o){Object.defineProperty(r,"__esModule",{value:!0});var a,s,l,f,d,p,g,y,b,x,E,v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},w={},C={},P=P||(a=Math,l=(s={}).lib={},f=l.Base=(function(){function T(){}return{extend:function(O){T.prototype=this;var N=new T;return O&&N.mixIn(O),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var O=this.extend();return O.init.apply(O,arguments),O},init:function(){},mixIn:function(O){for(var N in O)O.hasOwnProperty(N)&&(this[N]=O[N]);O.hasOwnProperty("toString")&&(this.toString=O.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),d=l.WordArray=f.extend({init:function(A,O){A=this.words=A||[],this.sigBytes=O??4*A.length},toString:function(A){return(A||g).stringify(this)},concat:function(A){var O=this.words,N=A.words,Z=this.sigBytes,he=A.sigBytes;if(this.clamp(),Z%4)for(var ve=0;ve<he;ve++){var Oe=N[ve>>>2]>>>24-ve%4*8&255;O[Z+ve>>>2]|=Oe<<24-(Z+ve)%4*8}else for(ve=0;ve<he;ve+=4)O[Z+ve>>>2]=N[ve>>>2];return this.sigBytes+=he,this},clamp:function(){var A=this.words,O=this.sigBytes;A[O>>>2]&=4294967295<<32-O%4*8,A.length=a.ceil(O/4)},clone:function(){var A=f.clone.call(this);return A.words=this.words.slice(0),A},random:function(A){for(var O=[],N=0;N<A;N+=4)O.push(4294967296*a.random()|0);return new d.init(O,A)}}),p=s.enc={},g=p.Hex={stringify:function(A){for(var O=A.words,N=A.sigBytes,Z=[],he=0;he<N;he++){var ve=O[he>>>2]>>>24-he%4*8&255;Z.push((ve>>>4).toString(16)),Z.push((15&ve).toString(16))}return Z.join("")},parse:function(A){for(var O=A.length,N=[],Z=0;Z<O;Z+=2)N[Z>>>3]|=parseInt(A.substr(Z,2),16)<<24-Z%8*4;return new d.init(N,O/2)}},y=p.Latin1={stringify:function(A){for(var O=A.words,N=A.sigBytes,Z=[],he=0;he<N;he++){var ve=O[he>>>2]>>>24-he%4*8&255;Z.push(String.fromCharCode(ve))}return Z.join("")},parse:function(A){for(var O=A.length,N=[],Z=0;Z<O;Z++)N[Z>>>2]|=(255&A.charCodeAt(Z))<<24-Z%4*8;return new d.init(N,O)}},b=p.Utf8={stringify:function(A){try{return decodeURIComponent(escape(y.stringify(A)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(A){return y.parse(unescape(encodeURIComponent(A)))}},x=l.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(A){typeof A=="string"&&(A=b.parse(A)),this._data.concat(A),this._nDataBytes+=A.sigBytes},_process:function(A){var O=this._data,N=O.words,Z=O.sigBytes,he=this.blockSize,ve=Z/(4*he),Oe=(ve=A?a.ceil(ve):a.max((0|ve)-this._minBufferSize,0))*he,Se=a.min(4*Oe,Z);if(Oe){for(var Ce=0;Ce<Oe;Ce+=he)this._doProcessBlock(N,Ce);var ke=N.splice(0,Oe);O.sigBytes-=Se}return new d.init(ke,Se)},clone:function(){var A=f.clone.call(this);return A._data=this._data.clone(),A},_minBufferSize:0}),l.Hasher=x.extend({cfg:f.extend(),init:function(A){this.cfg=this.cfg.extend(A),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(A){return this._append(A),this._process(),this},finalize:function(A){return A&&this._append(A),this._doFinalize()},blockSize:16,_createHelper:function(A){return function(O,N){return new A.init(N).finalize(O)}},_createHmacHelper:function(A){return function(O,N){return new E.HMAC.init(A,N).finalize(O)}}}),E=s.algo={},s);(function(T){var A,O=(A=P).lib,N=O.Base,Z=O.WordArray;(A=A.x64={}).Word=N.extend({init:function(ve,Oe){this.high=ve,this.low=Oe}}),A.WordArray=N.extend({init:function(ve,Oe){ve=this.words=ve||[],this.sigBytes=Oe??8*ve.length},toX32:function(){for(var ve=this.words,Oe=ve.length,Se=[],Ce=0;Ce<Oe;Ce++){var ke=ve[Ce];Se.push(ke.high),Se.push(ke.low)}return Z.create(Se,this.sigBytes)},clone:function(){for(var ve=N.clone.call(this),Oe=ve.words=this.words.slice(0),Se=Oe.length,Ce=0;Ce<Se;Ce++)Oe[Ce]=Oe[Ce].clone();return ve}})})(),(function(){var T=P,A=T.lib.WordArray;T.enc.Base64={stringify:function(N){var Z=N.words,he=N.sigBytes,ve=this._map;N.clamp(),N=[];for(var Oe=0;Oe<he;Oe+=3)for(var Se=(Z[Oe>>>2]>>>24-Oe%4*8&255)<<16|(Z[Oe+1>>>2]>>>24-(Oe+1)%4*8&255)<<8|Z[Oe+2>>>2]>>>24-(Oe+2)%4*8&255,Ce=0;4>Ce&&Oe+.75*Ce<he;Ce++)N.push(ve.charAt(Se>>>6*(3-Ce)&63));if(Z=ve.charAt(64))for(;N.length%4;)N.push(Z);return N.join("")},parse:function(N){var Z=N.length,he=this._map;(ve=he.charAt(64))&&(ve=N.indexOf(ve))!=-1&&(Z=ve);for(var ve=[],Oe=0,Se=0;Se<Z;Se++)if(Se%4){var Ce=he.indexOf(N.charAt(Se-1))<<Se%4*2,ke=he.indexOf(N.charAt(Se))>>>6-Se%4*2;ve[Oe>>>2]|=(Ce|ke)<<24-Oe%4*8,Oe++}return A.create(ve,Oe)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})(),(function(T){for(var A=P,O=(Z=A.lib).WordArray,N=Z.Hasher,Z=A.algo,he=[],ve=[],Oe=function(ct){return 4294967296*(ct-(0|ct))|0},Se=2,Ce=0;64>Ce;){var ke;e:{ke=Se;for(var Ne=T.sqrt(ke),je=2;je<=Ne;je++)if(!(ke%je)){ke=!1;break e}ke=!0}ke&&(8>Ce&&(he[Ce]=Oe(T.pow(Se,.5))),ve[Ce]=Oe(T.pow(Se,1/3)),Ce++),Se++}var Ze=[];Z=Z.SHA256=N.extend({_doReset:function(){this._hash=new O.init(he.slice(0))},_doProcessBlock:function(ct,at){for(var _e=this._hash.words,De=_e[0],Fe=_e[1],ze=_e[2],st=_e[3],gt=_e[4],$t=_e[5],Tt=_e[6],fn=_e[7],Ft=0;64>Ft;Ft++){if(16>Ft)Ze[Ft]=0|ct[at+Ft];else{var Ht=Ze[Ft-15],jn=Ze[Ft-2];Ze[Ft]=((Ht<<25|Ht>>>7)^(Ht<<14|Ht>>>18)^Ht>>>3)+Ze[Ft-7]+((jn<<15|jn>>>17)^(jn<<13|jn>>>19)^jn>>>10)+Ze[Ft-16]}Ht=fn+((gt<<26|gt>>>6)^(gt<<21|gt>>>11)^(gt<<7|gt>>>25))+(gt&$t^~gt&Tt)+ve[Ft]+Ze[Ft],jn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Fe^De&ze^Fe&ze),fn=Tt,Tt=$t,$t=gt,gt=st+Ht|0,st=ze,ze=Fe,Fe=De,De=Ht+jn|0}_e[0]=_e[0]+De|0,_e[1]=_e[1]+Fe|0,_e[2]=_e[2]+ze|0,_e[3]=_e[3]+st|0,_e[4]=_e[4]+gt|0,_e[5]=_e[5]+$t|0,_e[6]=_e[6]+Tt|0,_e[7]=_e[7]+fn|0},_doFinalize:function(){var ct=this._data,at=ct.words,_e=8*this._nDataBytes,De=8*ct.sigBytes;return at[De>>>5]|=128<<24-De%32,at[14+(De+64>>>9<<4)]=T.floor(_e/4294967296),at[15+(De+64>>>9<<4)]=_e,ct.sigBytes=4*at.length,this._process(),this._hash},clone:function(){var ct=N.clone.call(this);return ct._hash=this._hash.clone(),ct}}),A.SHA256=N._createHelper(Z),A.HmacSHA256=N._createHmacHelper(Z)})(Math),(function(){function T(){return N.create.apply(N,arguments)}for(var A=P,O=A.lib.Hasher,N=(he=A.x64).Word,Z=he.WordArray,he=A.algo,ve=[T(1116352408,3609767458),T(1899447441,602891725),T(3049323471,3964484399),T(3921009573,2173295548),T(961987163,4081628472),T(1508970993,3053834265),T(2453635748,2937671579),T(2870763221,3664609560),T(3624381080,2734883394),T(310598401,1164996542),T(607225278,1323610764),T(1426881987,3590304994),T(1925078388,4068182383),T(2162078206,991336113),T(2614888103,633803317),T(3248222580,3479774868),T(3835390401,2666613458),T(4022224774,944711139),T(264347078,2341262773),T(604807628,2007800933),T(770255983,1495990901),T(1249150122,1856431235),T(1555081692,3175218132),T(1996064986,2198950837),T(2554220882,3999719339),T(2821834349,766784016),T(2952996808,2566594879),T(3210313671,3203337956),T(3336571891,1034457026),T(3584528711,2466948901),T(113926993,3758326383),T(338241895,168717936),T(666307205,1188179964),T(773529912,1546045734),T(1294757372,1522805485),T(1396182291,2643833823),T(1695183700,2343527390),T(1986661051,1014477480),T(2177026350,1206759142),T(2456956037,344077627),T(2730485921,1290863460),T(2820302411,3158454273),T(3259730800,3505952657),T(3345764771,106217008),T(3516065817,3606008344),T(3600352804,1432725776),T(4094571909,1467031594),T(275423344,851169720),T(430227734,3100823752),T(506948616,1363258195),T(659060556,3750685593),T(883997877,3785050280),T(958139571,3318307427),T(1322822218,3812723403),T(1537002063,2003034995),T(1747873779,3602036899),T(1955562222,1575990012),T(2024104815,1125592928),T(2227730452,2716904306),T(2361852424,442776044),T(2428436474,593698344),T(2756734187,3733110249),T(3204031479,2999351573),T(3329325298,3815920427),T(3391569614,3928383900),T(3515267271,566280711),T(3940187606,3454069534),T(4118630271,4000239992),T(116418474,1914138554),T(174292421,2731055270),T(289380356,3203993006),T(460393269,320620315),T(685471733,587496836),T(852142971,1086792851),T(1017036298,365543100),T(1126000580,2618297676),T(1288033470,3409855158),T(1501505948,4234509866),T(1607167915,987167468),T(1816402316,1246189591)],Oe=[],Se=0;80>Se;Se++)Oe[Se]=T();he=he.SHA512=O.extend({_doReset:function(){this._hash=new Z.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(ke,Ne){for(var je=(Fe=this._hash.words)[0],Ze=Fe[1],nt=Fe[2],ct=Fe[3],at=Fe[4],_e=Fe[5],De=Fe[6],Fe=Fe[7],ze=je.high,st=je.low,gt=Ze.high,$t=Ze.low,Tt=nt.high,fn=nt.low,Ft=ct.high,Ht=ct.low,jn=at.high,Un=at.low,Nn=_e.high,Kt=_e.low,Qn=De.high,ln=De.low,mr=Fe.high,er=Fe.low,Vn=ze,Rr=st,ui=gt,li=$t,Zi=Tt,tr=fn,uo=Ft,Oo=Ht,ci=jn,Si=Un,jr=Nn,xi=Kt,Ca=Qn,lo=ln,bn=mr,Ta=er,gr=0;80>gr;gr++){var fi=Oe[gr];if(16>gr)var Ei=fi.high=0|ke[Ne+2*gr],nr=fi.low=0|ke[Ne+2*gr+1];else{Ei=((nr=(Ei=Oe[gr-15]).high)>>>1|(Qi=Ei.low)<<31)^(nr>>>8|Qi<<24)^nr>>>7;var Qi=(Qi>>>1|nr<<31)^(Qi>>>8|nr<<24)^(Qi>>>7|nr<<25),Ya=((nr=(Ya=Oe[gr-2]).high)>>>19|(Tr=Ya.low)<<13)^(nr<<3|Tr>>>29)^nr>>>6,Tr=(Tr>>>19|nr<<13)^(Tr<<3|nr>>>29)^(Tr>>>6|nr<<26),Os=(nr=Oe[gr-7]).high,Aa=(Mo=Oe[gr-16]).high,Mo=Mo.low;Ei=(Ei=(Ei=Ei+Os+((nr=Qi+nr.low)>>>0<Qi>>>0?1:0))+Ya+((nr=nr+Tr)>>>0<Tr>>>0?1:0))+Aa+((nr=nr+Mo)>>>0<Mo>>>0?1:0),fi.high=Ei,fi.low=nr}Os=ci&jr^~ci&Ca,Mo=Si&xi^~Si&lo,fi=Vn&ui^Vn&Zi^ui&Zi;var Hd=Rr&li^Rr&tr^li&tr,co=(Qi=(Vn>>>28|Rr<<4)^(Vn<<30|Rr>>>2)^(Vn<<25|Rr>>>7),Ya=(Rr>>>28|Vn<<4)^(Rr<<30|Vn>>>2)^(Rr<<25|Vn>>>7),(Tr=ve[gr]).high),Gc=Tr.low;Aa=bn+((ci>>>14|Si<<18)^(ci>>>18|Si<<14)^(ci<<23|Si>>>9))+((Tr=Ta+((Si>>>14|ci<<18)^(Si>>>18|ci<<14)^(Si<<23|ci>>>9)))>>>0<Ta>>>0?1:0),bn=Ca,Ta=lo,Ca=jr,lo=xi,jr=ci,xi=Si,ci=uo+(Aa=(Aa=(Aa=Aa+Os+((Tr=Tr+Mo)>>>0<Mo>>>0?1:0))+co+((Tr=Tr+Gc)>>>0<Gc>>>0?1:0))+Ei+((Tr=Tr+nr)>>>0<nr>>>0?1:0))+((Si=Oo+Tr|0)>>>0<Oo>>>0?1:0)|0,uo=Zi,Oo=tr,Zi=ui,tr=li,ui=Vn,li=Rr,Vn=Aa+(fi=Qi+fi+((nr=Ya+Hd)>>>0<Ya>>>0?1:0))+((Rr=Tr+nr|0)>>>0<Tr>>>0?1:0)|0}st=je.low=st+Rr,je.high=ze+Vn+(st>>>0<Rr>>>0?1:0),$t=Ze.low=$t+li,Ze.high=gt+ui+($t>>>0<li>>>0?1:0),fn=nt.low=fn+tr,nt.high=Tt+Zi+(fn>>>0<tr>>>0?1:0),Ht=ct.low=Ht+Oo,ct.high=Ft+uo+(Ht>>>0<Oo>>>0?1:0),Un=at.low=Un+Si,at.high=jn+ci+(Un>>>0<Si>>>0?1:0),Kt=_e.low=Kt+xi,_e.high=Nn+jr+(Kt>>>0<xi>>>0?1:0),ln=De.low=ln+lo,De.high=Qn+Ca+(ln>>>0<lo>>>0?1:0),er=Fe.low=er+Ta,Fe.high=mr+bn+(er>>>0<Ta>>>0?1:0)},_doFinalize:function(){var ke=this._data,Ne=ke.words,je=8*this._nDataBytes,Ze=8*ke.sigBytes;return Ne[Ze>>>5]|=128<<24-Ze%32,Ne[30+(Ze+128>>>10<<5)]=Math.floor(je/4294967296),Ne[31+(Ze+128>>>10<<5)]=je,ke.sigBytes=4*Ne.length,this._process(),this._hash.toX32()},clone:function(){var ke=O.clone.call(this);return ke._hash=this._hash.clone(),ke},blockSize:32}),A.SHA512=O._createHelper(he),A.HmacSHA512=O._createHmacHelper(he)})(),(function(){var T=P,A=(Z=T.x64).Word,O=Z.WordArray,N=(Z=T.algo).SHA512,Z=Z.SHA384=N.extend({_doReset:function(){this._hash=new O.init([new A.init(3418070365,3238371032),new A.init(1654270250,914150663),new A.init(2438529370,812702999),new A.init(355462360,4144912697),new A.init(1731405415,4290775857),new A.init(2394180231,1750603025),new A.init(3675008525,1694076839),new A.init(1203062813,3204075428)])},_doFinalize:function(){var ve=N._doFinalize.call(this);return ve.sigBytes-=16,ve}});T.SHA384=N._createHelper(Z),T.HmacSHA384=N._createHmacHelper(Z)})();var R,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function M(T){var A,O,N="";for(A=0;A+3<=T.length;A+=3)O=parseInt(T.substring(A,A+3),16),N+=k.charAt(O>>6)+k.charAt(63&O);for(A+1==T.length?(O=parseInt(T.substring(A,A+1),16),N+=k.charAt(O<<2)):A+2==T.length&&(O=parseInt(T.substring(A,A+2),16),N+=k.charAt(O>>2)+k.charAt((3&O)<<4)),"=";(3&N.length)>0;)N+="=";return N}function W(T){var A,O,N,Z="",he=0;for(A=0;A<T.length&&T.charAt(A)!="=";++A)(N=k.indexOf(T.charAt(A)))<0||(he==0?(Z+=de(N>>2),O=3&N,he=1):he==1?(Z+=de(O<<2|N>>4),O=15&N,he=2):he==2?(Z+=de(O),Z+=de(N>>2),O=3&N,he=3):(Z+=de(O<<2|N>>4),Z+=de(15&N),he=0));return he==1&&(Z+=de(O<<2)),Z}function ee(T){var A,O=W(T),N=new Array;for(A=0;2*A<O.length;++A)N[A]=parseInt(O.substring(2*A,2*A+2),16);return N}function z(T,A,O){T!=null&&(typeof T=="number"?this.fromNumber(T,A,O):A==null&&typeof T!="string"?this.fromString(T,256):this.fromString(T,A))}function H(){return new z(null)}w.appName=="Microsoft Internet Explorer"?(z.prototype.am=function(A,O,N,Z,he,ve){for(var Oe=32767&O,Se=O>>15;--ve>=0;){var Ce=32767&this[A],ke=this[A++]>>15,Ne=Se*Ce+ke*Oe;he=((Ce=Oe*Ce+((32767&Ne)<<15)+N[Z]+(1073741823&he))>>>30)+(Ne>>>15)+Se*ke+(he>>>30),N[Z++]=1073741823&Ce}return he},R=30):w.appName!="Netscape"?(z.prototype.am=function(A,O,N,Z,he,ve){for(;--ve>=0;){var Oe=O*this[A++]+N[Z]+he;he=Math.floor(Oe/67108864),N[Z++]=67108863&Oe}return he},R=26):(z.prototype.am=function(A,O,N,Z,he,ve){for(var Oe=16383&O,Se=O>>14;--ve>=0;){var Ce=16383&this[A],ke=this[A++]>>14,Ne=Se*Ce+ke*Oe;he=((Ce=Oe*Ce+((16383&Ne)<<14)+N[Z]+he)>>28)+(Ne>>14)+Se*ke,N[Z++]=268435455&Ce}return he},R=28),z.prototype.DB=R,z.prototype.DM=(1<<R)-1,z.prototype.DV=1<<R,z.prototype.FV=Math.pow(2,52),z.prototype.F1=52-R,z.prototype.F2=2*R-52;var te,oe,ue=new Array;for(te=48,oe=0;oe<=9;++oe)ue[te++]=oe;for(te=97,oe=10;oe<36;++oe)ue[te++]=oe;for(te=65,oe=10;oe<36;++oe)ue[te++]=oe;function de(T){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(T)}function se(T,A){var O=ue[T.charCodeAt(A)];return O??-1}function pe(T){var A=H();return A.fromInt(T),A}function re(T){var A,O=1;return(A=T>>>16)!=0&&(T=A,O+=16),(A=T>>8)!=0&&(T=A,O+=8),(A=T>>4)!=0&&(T=A,O+=4),(A=T>>2)!=0&&(T=A,O+=2),(A=T>>1)!=0&&(T=A,O+=1),O}function Ee(T){this.m=T}function $(T){this.m=T,this.mp=T.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<T.DB-15)-1,this.mt2=2*T.t}function Q(T,A){return T&A}function ce(T,A){return T|A}function G(T,A){return T^A}function X(T,A){return T&~A}function ge(T){if(T==0)return-1;var A=0;return(65535&T)==0&&(T>>=16,A+=16),(255&T)==0&&(T>>=8,A+=8),(15&T)==0&&(T>>=4,A+=4),(3&T)==0&&(T>>=2,A+=2),(1&T)==0&&++A,A}function xe(T){for(var A=0;T!=0;)T&=T-1,++A;return A}function Ve(){}function Pe(T){return T}function Be(T){this.r2=H(),this.q3=H(),z.ONE.dlShiftTo(2*T.t,this.r2),this.mu=this.r2.divide(T),this.m=T}Ee.prototype.convert=function(A){return A.s<0||A.compareTo(this.m)>=0?A.mod(this.m):A},Ee.prototype.revert=function(A){return A},Ee.prototype.reduce=function(A){A.divRemTo(this.m,null,A)},Ee.prototype.mulTo=function(A,O,N){A.multiplyTo(O,N),this.reduce(N)},Ee.prototype.sqrTo=function(A,O){A.squareTo(O),this.reduce(O)},$.prototype.convert=function(A){var O=H();return A.abs().dlShiftTo(this.m.t,O),O.divRemTo(this.m,null,O),A.s<0&&O.compareTo(z.ZERO)>0&&this.m.subTo(O,O),O},$.prototype.revert=function(A){var O=H();return A.copyTo(O),this.reduce(O),O},$.prototype.reduce=function(A){for(;A.t<=this.mt2;)A[A.t++]=0;for(var O=0;O<this.m.t;++O){var N=32767&A[O],Z=N*this.mpl+((N*this.mph+(A[O]>>15)*this.mpl&this.um)<<15)&A.DM;for(A[N=O+this.m.t]+=this.m.am(0,Z,A,O,0,this.m.t);A[N]>=A.DV;)A[N]-=A.DV,A[++N]++}A.clamp(),A.drShiftTo(this.m.t,A),A.compareTo(this.m)>=0&&A.subTo(this.m,A)},$.prototype.mulTo=function(A,O,N){A.multiplyTo(O,N),this.reduce(N)},$.prototype.sqrTo=function(A,O){A.squareTo(O),this.reduce(O)},z.prototype.copyTo=function(A){for(var O=this.t-1;O>=0;--O)A[O]=this[O];A.t=this.t,A.s=this.s},z.prototype.fromInt=function(A){this.t=1,this.s=A<0?-1:0,A>0?this[0]=A:A<-1?this[0]=A+this.DV:this.t=0},z.prototype.fromString=function(A,O){var N;if(O==16)N=4;else if(O==8)N=3;else if(O==256)N=8;else if(O==2)N=1;else if(O==32)N=5;else{if(O!=4)return void this.fromRadix(A,O);N=2}this.t=0,this.s=0;for(var Z=A.length,he=!1,ve=0;--Z>=0;){var Oe=N==8?255&A[Z]:se(A,Z);Oe<0?A.charAt(Z)=="-"&&(he=!0):(he=!1,ve==0?this[this.t++]=Oe:ve+N>this.DB?(this[this.t-1]|=(Oe&(1<<this.DB-ve)-1)<<ve,this[this.t++]=Oe>>this.DB-ve):this[this.t-1]|=Oe<<ve,(ve+=N)>=this.DB&&(ve-=this.DB))}N==8&&(128&A[0])!=0&&(this.s=-1,ve>0&&(this[this.t-1]|=(1<<this.DB-ve)-1<<ve)),this.clamp(),he&&z.ZERO.subTo(this,this)},z.prototype.clamp=function(){for(var A=this.s&this.DM;this.t>0&&this[this.t-1]==A;)--this.t},z.prototype.dlShiftTo=function(A,O){var N;for(N=this.t-1;N>=0;--N)O[N+A]=this[N];for(N=A-1;N>=0;--N)O[N]=0;O.t=this.t+A,O.s=this.s},z.prototype.drShiftTo=function(A,O){for(var N=A;N<this.t;++N)O[N-A]=this[N];O.t=Math.max(this.t-A,0),O.s=this.s},z.prototype.lShiftTo=function(A,O){var N,Z=A%this.DB,he=this.DB-Z,ve=(1<<he)-1,Oe=Math.floor(A/this.DB),Se=this.s<<Z&this.DM;for(N=this.t-1;N>=0;--N)O[N+Oe+1]=this[N]>>he|Se,Se=(this[N]&ve)<<Z;for(N=Oe-1;N>=0;--N)O[N]=0;O[Oe]=Se,O.t=this.t+Oe+1,O.s=this.s,O.clamp()},z.prototype.rShiftTo=function(A,O){O.s=this.s;var N=Math.floor(A/this.DB);if(N>=this.t)O.t=0;else{var Z=A%this.DB,he=this.DB-Z,ve=(1<<Z)-1;O[0]=this[N]>>Z;for(var Oe=N+1;Oe<this.t;++Oe)O[Oe-N-1]|=(this[Oe]&ve)<<he,O[Oe-N]=this[Oe]>>Z;Z>0&&(O[this.t-N-1]|=(this.s&ve)<<he),O.t=this.t-N,O.clamp()}},z.prototype.subTo=function(A,O){for(var N=0,Z=0,he=Math.min(A.t,this.t);N<he;)Z+=this[N]-A[N],O[N++]=Z&this.DM,Z>>=this.DB;if(A.t<this.t){for(Z-=A.s;N<this.t;)Z+=this[N],O[N++]=Z&this.DM,Z>>=this.DB;Z+=this.s}else{for(Z+=this.s;N<A.t;)Z-=A[N],O[N++]=Z&this.DM,Z>>=this.DB;Z-=A.s}O.s=Z<0?-1:0,Z<-1?O[N++]=this.DV+Z:Z>0&&(O[N++]=Z),O.t=N,O.clamp()},z.prototype.multiplyTo=function(A,O){var N=this.abs(),Z=A.abs(),he=N.t;for(O.t=he+Z.t;--he>=0;)O[he]=0;for(he=0;he<Z.t;++he)O[he+N.t]=N.am(0,Z[he],O,he,0,N.t);O.s=0,O.clamp(),this.s!=A.s&&z.ZERO.subTo(O,O)},z.prototype.squareTo=function(A){for(var O=this.abs(),N=A.t=2*O.t;--N>=0;)A[N]=0;for(N=0;N<O.t-1;++N){var Z=O.am(N,O[N],A,2*N,0,1);(A[N+O.t]+=O.am(N+1,2*O[N],A,2*N+1,Z,O.t-N-1))>=O.DV&&(A[N+O.t]-=O.DV,A[N+O.t+1]=1)}A.t>0&&(A[A.t-1]+=O.am(N,O[N],A,2*N,0,1)),A.s=0,A.clamp()},z.prototype.divRemTo=function(A,O,N){var Z=A.abs();if(!(Z.t<=0)){var he=this.abs();if(he.t<Z.t)return O?.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=H());var ve=H(),Oe=this.s,Se=A.s,Ce=this.DB-re(Z[Z.t-1]);Ce>0?(Z.lShiftTo(Ce,ve),he.lShiftTo(Ce,N)):(Z.copyTo(ve),he.copyTo(N));var ke=ve.t,Ne=ve[ke-1];if(Ne!=0){var je=Ne*(1<<this.F1)+(ke>1?ve[ke-2]>>this.F2:0),Ze=this.FV/je,nt=(1<<this.F1)/je,ct=1<<this.F2,at=N.t,_e=at-ke,De=O??H();for(ve.dlShiftTo(_e,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),z.ONE.dlShiftTo(ke,De),De.subTo(ve,ve);ve.t<ke;)ve[ve.t++]=0;for(;--_e>=0;){var Fe=N[--at]==Ne?this.DM:Math.floor(N[at]*Ze+(N[at-1]+ct)*nt);if((N[at]+=ve.am(0,Fe,N,_e,0,ke))<Fe)for(ve.dlShiftTo(_e,De),N.subTo(De,N);N[at]<--Fe;)N.subTo(De,N)}O!=null&&(N.drShiftTo(ke,O),Oe!=Se&&z.ZERO.subTo(O,O)),N.t=ke,N.clamp(),Ce>0&&N.rShiftTo(Ce,N),Oe<0&&z.ZERO.subTo(N,N)}}},z.prototype.invDigit=function(){if(this.t<1)return 0;var A=this[0];if((1&A)==0)return 0;var O=3&A;return(O=(O=(O=(O=O*(2-(15&A)*O)&15)*(2-(255&A)*O)&255)*(2-((65535&A)*O&65535))&65535)*(2-A*O%this.DV)%this.DV)>0?this.DV-O:-O},z.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},z.prototype.exp=function(A,O){if(A>4294967295||A<1)return z.ONE;var N=H(),Z=H(),he=O.convert(this),ve=re(A)-1;for(he.copyTo(N);--ve>=0;)if(O.sqrTo(N,Z),(A&1<<ve)>0)O.mulTo(Z,he,N);else{var Oe=N;N=Z,Z=Oe}return O.revert(N)},z.prototype.toString=function(A){if(this.s<0)return"-"+this.negate().toString(A);var O;if(A==16)O=4;else if(A==8)O=3;else if(A==2)O=1;else if(A==32)O=5;else{if(A!=4)return this.toRadix(A);O=2}var N,Z=(1<<O)-1,he=!1,ve="",Oe=this.t,Se=this.DB-Oe*this.DB%O;if(Oe-- >0)for(Se<this.DB&&(N=this[Oe]>>Se)>0&&(he=!0,ve=de(N));Oe>=0;)Se<O?(N=(this[Oe]&(1<<Se)-1)<<O-Se,N|=this[--Oe]>>(Se+=this.DB-O)):(N=this[Oe]>>(Se-=O)&Z,Se<=0&&(Se+=this.DB,--Oe)),N>0&&(he=!0),he&&(ve+=de(N));return he?ve:"0"},z.prototype.negate=function(){var A=H();return z.ZERO.subTo(this,A),A},z.prototype.abs=function(){return this.s<0?this.negate():this},z.prototype.compareTo=function(A){var O=this.s-A.s;if(O!=0)return O;var N=this.t;if((O=N-A.t)!=0)return this.s<0?-O:O;for(;--N>=0;)if((O=this[N]-A[N])!=0)return O;return 0},z.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+re(this[this.t-1]^this.s&this.DM)},z.prototype.mod=function(A){var O=H();return this.abs().divRemTo(A,null,O),this.s<0&&O.compareTo(z.ZERO)>0&&A.subTo(O,O),O},z.prototype.modPowInt=function(A,O){var N;return N=A<256||O.isEven()?new Ee(O):new $(O),this.exp(A,N)},z.ZERO=pe(0),z.ONE=pe(1),Ve.prototype.convert=Pe,Ve.prototype.revert=Pe,Ve.prototype.mulTo=function(A,O,N){A.multiplyTo(O,N)},Ve.prototype.sqrTo=function(A,O){A.squareTo(O)},Be.prototype.convert=function(A){if(A.s<0||A.t>2*this.m.t)return A.mod(this.m);if(A.compareTo(this.m)<0)return A;var O=H();return A.copyTo(O),this.reduce(O),O},Be.prototype.revert=function(A){return A},Be.prototype.reduce=function(A){for(A.drShiftTo(this.m.t-1,this.r2),A.t>this.m.t+1&&(A.t=this.m.t+1,A.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);A.compareTo(this.r2)<0;)A.dAddOffset(1,this.m.t+1);for(A.subTo(this.r2,A);A.compareTo(this.m)>=0;)A.subTo(this.m,A)},Be.prototype.mulTo=function(A,O,N){A.multiplyTo(O,N),this.reduce(N)},Be.prototype.sqrTo=function(A,O){A.squareTo(O),this.reduce(O)};var Je=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],fe=(1<<26)/Je[Je.length-1];function V(){this.i=0,this.j=0,this.S=new Array}z.prototype.chunkSize=function(A){return Math.floor(Math.LN2*this.DB/Math.log(A))},z.prototype.toRadix=function(A){if(A==null&&(A=10),this.signum()==0||A<2||A>36)return"0";var O=this.chunkSize(A),N=Math.pow(A,O),Z=pe(N),he=H(),ve=H(),Oe="";for(this.divRemTo(Z,he,ve);he.signum()>0;)Oe=(N+ve.intValue()).toString(A).substr(1)+Oe,he.divRemTo(Z,he,ve);return ve.intValue().toString(A)+Oe},z.prototype.fromRadix=function(A,O){this.fromInt(0),O==null&&(O=10);for(var N=this.chunkSize(O),Z=Math.pow(O,N),he=!1,ve=0,Oe=0,Se=0;Se<A.length;++Se){var Ce=se(A,Se);Ce<0?A.charAt(Se)=="-"&&this.signum()==0&&(he=!0):(Oe=O*Oe+Ce,++ve>=N&&(this.dMultiply(Z),this.dAddOffset(Oe,0),ve=0,Oe=0))}ve>0&&(this.dMultiply(Math.pow(O,ve)),this.dAddOffset(Oe,0)),he&&z.ZERO.subTo(this,this)},z.prototype.fromNumber=function(A,O,N){if(typeof O=="number")if(A<2)this.fromInt(1);else for(this.fromNumber(A,N),this.testBit(A-1)||this.bitwiseTo(z.ONE.shiftLeft(A-1),ce,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(O);)this.dAddOffset(2,0),this.bitLength()>A&&this.subTo(z.ONE.shiftLeft(A-1),this);else{var Z=new Array,he=7&A;Z.length=1+(A>>3),O.nextBytes(Z),he>0?Z[0]&=(1<<he)-1:Z[0]=0,this.fromString(Z,256)}},z.prototype.bitwiseTo=function(A,O,N){var Z,he,ve=Math.min(A.t,this.t);for(Z=0;Z<ve;++Z)N[Z]=O(this[Z],A[Z]);if(A.t<this.t){for(he=A.s&this.DM,Z=ve;Z<this.t;++Z)N[Z]=O(this[Z],he);N.t=this.t}else{for(he=this.s&this.DM,Z=ve;Z<A.t;++Z)N[Z]=O(he,A[Z]);N.t=A.t}N.s=O(this.s,A.s),N.clamp()},z.prototype.changeBit=function(A,O){var N=z.ONE.shiftLeft(A);return this.bitwiseTo(N,O,N),N},z.prototype.addTo=function(A,O){for(var N=0,Z=0,he=Math.min(A.t,this.t);N<he;)Z+=this[N]+A[N],O[N++]=Z&this.DM,Z>>=this.DB;if(A.t<this.t){for(Z+=A.s;N<this.t;)Z+=this[N],O[N++]=Z&this.DM,Z>>=this.DB;Z+=this.s}else{for(Z+=this.s;N<A.t;)Z+=A[N],O[N++]=Z&this.DM,Z>>=this.DB;Z+=A.s}O.s=Z<0?-1:0,Z>0?O[N++]=Z:Z<-1&&(O[N++]=this.DV+Z),O.t=N,O.clamp()},z.prototype.dMultiply=function(A){this[this.t]=this.am(0,A-1,this,0,0,this.t),++this.t,this.clamp()},z.prototype.dAddOffset=function(A,O){if(A!=0){for(;this.t<=O;)this[this.t++]=0;for(this[O]+=A;this[O]>=this.DV;)this[O]-=this.DV,++O>=this.t&&(this[this.t++]=0),++this[O]}},z.prototype.multiplyLowerTo=function(A,O,N){var Z,he=Math.min(this.t+A.t,O);for(N.s=0,N.t=he;he>0;)N[--he]=0;for(Z=N.t-this.t;he<Z;++he)N[he+this.t]=this.am(0,A[he],N,he,0,this.t);for(Z=Math.min(A.t,O);he<Z;++he)this.am(0,A[he],N,he,0,O-he);N.clamp()},z.prototype.multiplyUpperTo=function(A,O,N){--O;var Z=N.t=this.t+A.t-O;for(N.s=0;--Z>=0;)N[Z]=0;for(Z=Math.max(O-this.t,0);Z<A.t;++Z)N[this.t+Z-O]=this.am(O-Z,A[Z],N,0,0,this.t+Z-O);N.clamp(),N.drShiftTo(1,N)},z.prototype.modInt=function(A){if(A<=0)return 0;var O=this.DV%A,N=this.s<0?A-1:0;if(this.t>0)if(O==0)N=this[0]%A;else for(var Z=this.t-1;Z>=0;--Z)N=(O*N+this[Z])%A;return N},z.prototype.millerRabin=function(A){var O=this.subtract(z.ONE),N=O.getLowestSetBit();if(N<=0)return!1;var Z=O.shiftRight(N);(A=A+1>>1)>Je.length&&(A=Je.length);for(var he=H(),ve=0;ve<A;++ve){he.fromInt(Je[Math.floor(Math.random()*Je.length)]);var Oe=he.modPow(Z,this);if(Oe.compareTo(z.ONE)!=0&&Oe.compareTo(O)!=0){for(var Se=1;Se++<N&&Oe.compareTo(O)!=0;)if((Oe=Oe.modPowInt(2,this)).compareTo(z.ONE)==0)return!1;if(Oe.compareTo(O)!=0)return!1}}return!0},z.prototype.clone=function(){var A=H();return this.copyTo(A),A},z.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},z.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},z.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},z.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},z.prototype.toByteArray=function(){var A=this.t,O=new Array;O[0]=this.s;var N,Z=this.DB-A*this.DB%8,he=0;if(A-- >0)for(Z<this.DB&&(N=this[A]>>Z)!=(this.s&this.DM)>>Z&&(O[he++]=N|this.s<<this.DB-Z);A>=0;)Z<8?(N=(this[A]&(1<<Z)-1)<<8-Z,N|=this[--A]>>(Z+=this.DB-8)):(N=this[A]>>(Z-=8)&255,Z<=0&&(Z+=this.DB,--A)),(128&N)!=0&&(N|=-256),he==0&&(128&this.s)!=(128&N)&&++he,(he>0||N!=this.s)&&(O[he++]=N);return O},z.prototype.equals=function(A){return this.compareTo(A)==0},z.prototype.min=function(A){return this.compareTo(A)<0?this:A},z.prototype.max=function(A){return this.compareTo(A)>0?this:A},z.prototype.and=function(A){var O=H();return this.bitwiseTo(A,Q,O),O},z.prototype.or=function(A){var O=H();return this.bitwiseTo(A,ce,O),O},z.prototype.xor=function(A){var O=H();return this.bitwiseTo(A,G,O),O},z.prototype.andNot=function(A){var O=H();return this.bitwiseTo(A,X,O),O},z.prototype.not=function(){for(var A=H(),O=0;O<this.t;++O)A[O]=this.DM&~this[O];return A.t=this.t,A.s=~this.s,A},z.prototype.shiftLeft=function(A){var O=H();return A<0?this.rShiftTo(-A,O):this.lShiftTo(A,O),O},z.prototype.shiftRight=function(A){var O=H();return A<0?this.lShiftTo(-A,O):this.rShiftTo(A,O),O},z.prototype.getLowestSetBit=function(){for(var A=0;A<this.t;++A)if(this[A]!=0)return A*this.DB+ge(this[A]);return this.s<0?this.t*this.DB:-1},z.prototype.bitCount=function(){for(var A=0,O=this.s&this.DM,N=0;N<this.t;++N)A+=xe(this[N]^O);return A},z.prototype.testBit=function(A){var O=Math.floor(A/this.DB);return O>=this.t?this.s!=0:(this[O]&1<<A%this.DB)!=0},z.prototype.setBit=function(A){return this.changeBit(A,ce)},z.prototype.clearBit=function(A){return this.changeBit(A,X)},z.prototype.flipBit=function(A){return this.changeBit(A,G)},z.prototype.add=function(A){var O=H();return this.addTo(A,O),O},z.prototype.subtract=function(A){var O=H();return this.subTo(A,O),O},z.prototype.multiply=function(A){var O=H();return this.multiplyTo(A,O),O},z.prototype.divide=function(A){var O=H();return this.divRemTo(A,O,null),O},z.prototype.remainder=function(A){var O=H();return this.divRemTo(A,null,O),O},z.prototype.divideAndRemainder=function(A){var O=H(),N=H();return this.divRemTo(A,O,N),new Array(O,N)},z.prototype.modPow=function(A,O){var N,Z,he=A.bitLength(),ve=pe(1);if(he<=0)return ve;N=he<18?1:he<48?3:he<144?4:he<768?5:6,Z=he<8?new Ee(O):O.isEven()?new Be(O):new $(O);var Oe=new Array,Se=3,Ce=N-1,ke=(1<<N)-1;if(Oe[1]=Z.convert(this),N>1){var Ne=H();for(Z.sqrTo(Oe[1],Ne);Se<=ke;)Oe[Se]=H(),Z.mulTo(Ne,Oe[Se-2],Oe[Se]),Se+=2}var je,Ze,nt=A.t-1,ct=!0,at=H();for(he=re(A[nt])-1;nt>=0;){for(he>=Ce?je=A[nt]>>he-Ce&ke:(je=(A[nt]&(1<<he+1)-1)<<Ce-he,nt>0&&(je|=A[nt-1]>>this.DB+he-Ce)),Se=N;(1&je)==0;)je>>=1,--Se;if((he-=Se)<0&&(he+=this.DB,--nt),ct)Oe[je].copyTo(ve),ct=!1;else{for(;Se>1;)Z.sqrTo(ve,at),Z.sqrTo(at,ve),Se-=2;Se>0?Z.sqrTo(ve,at):(Ze=ve,ve=at,at=Ze),Z.mulTo(at,Oe[je],ve)}for(;nt>=0&&(A[nt]&1<<he)==0;)Z.sqrTo(ve,at),Ze=ve,ve=at,at=Ze,--he<0&&(he=this.DB-1,--nt)}return Z.revert(ve)},z.prototype.modInverse=function(A){var O=A.isEven();if(this.isEven()&&O||A.signum()==0)return z.ZERO;for(var N=A.clone(),Z=this.clone(),he=pe(1),ve=pe(0),Oe=pe(0),Se=pe(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),O?(he.isEven()&&ve.isEven()||(he.addTo(this,he),ve.subTo(A,ve)),he.rShiftTo(1,he)):ve.isEven()||ve.subTo(A,ve),ve.rShiftTo(1,ve);for(;Z.isEven();)Z.rShiftTo(1,Z),O?(Oe.isEven()&&Se.isEven()||(Oe.addTo(this,Oe),Se.subTo(A,Se)),Oe.rShiftTo(1,Oe)):Se.isEven()||Se.subTo(A,Se),Se.rShiftTo(1,Se);N.compareTo(Z)>=0?(N.subTo(Z,N),O&&he.subTo(Oe,he),ve.subTo(Se,ve)):(Z.subTo(N,Z),O&&Oe.subTo(he,Oe),Se.subTo(ve,Se))}return Z.compareTo(z.ONE)!=0?z.ZERO:Se.compareTo(A)>=0?Se.subtract(A):Se.signum()<0?(Se.addTo(A,Se),Se.signum()<0?Se.add(A):Se):Se},z.prototype.pow=function(A){return this.exp(A,new Ve)},z.prototype.gcd=function(A){var O=this.s<0?this.negate():this.clone(),N=A.s<0?A.negate():A.clone();if(O.compareTo(N)<0){var Z=O;O=N,N=Z}var he=O.getLowestSetBit(),ve=N.getLowestSetBit();if(ve<0)return O;for(he<ve&&(ve=he),ve>0&&(O.rShiftTo(ve,O),N.rShiftTo(ve,N));O.signum()>0;)(he=O.getLowestSetBit())>0&&O.rShiftTo(he,O),(he=N.getLowestSetBit())>0&&N.rShiftTo(he,N),O.compareTo(N)>=0?(O.subTo(N,O),O.rShiftTo(1,O)):(N.subTo(O,N),N.rShiftTo(1,N));return ve>0&&N.lShiftTo(ve,N),N},z.prototype.isProbablePrime=function(A){var O,N=this.abs();if(N.t==1&&N[0]<=Je[Je.length-1]){for(O=0;O<Je.length;++O)if(N[0]==Je[O])return!0;return!1}if(N.isEven())return!1;for(O=1;O<Je.length;){for(var Z=Je[O],he=O+1;he<Je.length&&Z<fe;)Z*=Je[he++];for(Z=N.modInt(Z);O<he;)if(Z%Je[O++]==0)return!1}return N.millerRabin(A)},z.prototype.square=function(){var A=H();return this.squareTo(A),A},V.prototype.init=function(A){var O,N,Z;for(O=0;O<256;++O)this.S[O]=O;for(N=0,O=0;O<256;++O)N=N+this.S[O]+A[O%A.length]&255,Z=this.S[O],this.S[O]=this.S[N],this.S[N]=Z;this.i=0,this.j=0},V.prototype.next=function(){var A;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,A=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=A,this.S[A+this.S[this.i]&255]};var j,ie,me;function Te(){(function(A){ie[me++]^=255&A,ie[me++]^=A>>8&255,ie[me++]^=A>>16&255,ie[me++]^=A>>24&255,me>=256&&(me-=256)})(new Date().getTime())}if(ie==null){var Le;if(ie=new Array,me=0,C!==void 0&&(C.crypto!==void 0||C.msCrypto!==void 0)){var rt=C.crypto||C.msCrypto;if(rt.getRandomValues){var Ie=new Uint8Array(32);for(rt.getRandomValues(Ie),Le=0;Le<32;++Le)ie[me++]=Ie[Le]}else if(w.appName=="Netscape"&&w.appVersion<"5"){var ye=C.crypto.random(32);for(Le=0;Le<ye.length;++Le)ie[me++]=255&ye.charCodeAt(Le)}}for(;me<256;)Le=Math.floor(65536*Math.random()),ie[me++]=Le>>>8,ie[me++]=255&Le;me=0,Te()}function Ae(){if(j==null){for(Te(),(j=(function(){return new V})()).init(ie),me=0;me<ie.length;++me)ie[me]=0;me=0}return j.next()}function Me(){}function tt(T,A){return new z(T,A)}function mt(T,A,O){for(var N="",Z=0;N.length<A;)N+=O(String.fromCharCode.apply(String,T.concat([(4278190080&Z)>>24,(16711680&Z)>>16,(65280&Z)>>8,255&Z]))),Z+=1;return N}function Ye(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function qe(T,A){this.x=A,this.q=T}function ae(T,A,O,N){this.curve=T,this.x=A,this.y=O,this.z=N??z.ONE,this.zinv=null}function K(T,A,O){this.q=T,this.a=this.fromBigInteger(A),this.b=this.fromBigInteger(O),this.infinity=new ae(this,null,null)}Me.prototype.nextBytes=function(A){var O;for(O=0;O<A.length;++O)A[O]=Ae()},Ye.prototype.doPublic=function(A){return A.modPowInt(this.e,this.n)},Ye.prototype.setPublic=function(A,O){if(this.isPublic=!0,this.isPrivate=!1,typeof A!="string")this.n=A,this.e=O;else{if(!(A!=null&&O!=null&&A.length>0&&O.length>0))throw"Invalid RSA public key";this.n=tt(A,16),this.e=parseInt(O,16)}},Ye.prototype.encrypt=function(A){var O=(function(ve,Oe){if(Oe<ve.length+11)throw"Message too long for RSA";for(var Se=new Array,Ce=ve.length-1;Ce>=0&&Oe>0;){var ke=ve.charCodeAt(Ce--);ke<128?Se[--Oe]=ke:ke>127&&ke<2048?(Se[--Oe]=63&ke|128,Se[--Oe]=ke>>6|192):(Se[--Oe]=63&ke|128,Se[--Oe]=ke>>6&63|128,Se[--Oe]=ke>>12|224)}Se[--Oe]=0;for(var Ne=new Me,je=new Array;Oe>2;){for(je[0]=0;je[0]==0;)Ne.nextBytes(je);Se[--Oe]=je[0]}return Se[--Oe]=2,Se[--Oe]=0,new z(Se)})(A,this.n.bitLength()+7>>3);if(O==null)return null;var N=this.doPublic(O);if(N==null)return null;var Z=N.toString(16);return(1&Z.length)==0?Z:"0"+Z},Ye.prototype.encryptOAEP=function(A,O,N){var Z=(function(Se,Ce,ke,Ne){var je=J.crypto.MessageDigest,Ze=J.crypto.Util,nt=null;if(ke||(ke="sha1"),typeof ke=="string"&&(nt=je.getCanonicalAlgName(ke),Ne=je.getHashLength(nt),ke=function(Tt){return fr(Ze.hashHex(dr(Tt),nt))}),Se.length+2*Ne+2>Ce)throw"Message too long for RSA";var ct,at="";for(ct=0;ct<Ce-Se.length-2*Ne-2;ct+=1)at+="\0";var _e=ke("")+at+""+Se,De=new Array(Ne);new Me().nextBytes(De);var Fe=mt(De,_e.length,ke),ze=[];for(ct=0;ct<_e.length;ct+=1)ze[ct]=_e.charCodeAt(ct)^Fe.charCodeAt(ct);var st=mt(ze,De.length,ke),gt=[0];for(ct=0;ct<De.length;ct+=1)gt[ct+1]=De[ct]^st.charCodeAt(ct);return new z(gt.concat(ze))})(A,this.n.bitLength()+7>>3,O,N);if(Z==null)return null;var he=this.doPublic(Z);if(he==null)return null;var ve=he.toString(16);return(1&ve.length)==0?ve:"0"+ve},Ye.prototype.type="RSA",qe.prototype.equals=function(A){return A==this||this.q.equals(A.q)&&this.x.equals(A.x)},qe.prototype.toBigInteger=function(){return this.x},qe.prototype.negate=function(){return new qe(this.q,this.x.negate().mod(this.q))},qe.prototype.add=function(A){return new qe(this.q,this.x.add(A.toBigInteger()).mod(this.q))},qe.prototype.subtract=function(A){return new qe(this.q,this.x.subtract(A.toBigInteger()).mod(this.q))},qe.prototype.multiply=function(A){return new qe(this.q,this.x.multiply(A.toBigInteger()).mod(this.q))},qe.prototype.square=function(){return new qe(this.q,this.x.square().mod(this.q))},qe.prototype.divide=function(A){return new qe(this.q,this.x.multiply(A.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(A){return A==this||(this.isInfinity()?A.isInfinity():A.isInfinity()?this.isInfinity():!!A.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(A.z)).mod(this.curve.q).equals(z.ZERO)&&A.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(A.z)).mod(this.curve.q).equals(z.ZERO))},ae.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(z.ZERO)&&!this.y.toBigInteger().equals(z.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(A){if(this.isInfinity())return A;if(A.isInfinity())return this;var O=A.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(A.z)).mod(this.curve.q),N=A.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(A.z)).mod(this.curve.q);if(z.ZERO.equals(N))return z.ZERO.equals(O)?this.twice():this.curve.getInfinity();var Z=new z("3"),he=this.x.toBigInteger(),ve=this.y.toBigInteger(),Oe=(A.x.toBigInteger(),A.y.toBigInteger(),N.square()),Se=Oe.multiply(N),Ce=he.multiply(Oe),ke=O.square().multiply(this.z),Ne=ke.subtract(Ce.shiftLeft(1)).multiply(A.z).subtract(Se).multiply(N).mod(this.curve.q),je=Ce.multiply(Z).multiply(O).subtract(ve.multiply(Se)).subtract(ke.multiply(O)).multiply(A.z).add(O.multiply(Se)).mod(this.curve.q),Ze=Se.multiply(this.z).multiply(A.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(Ne),this.curve.fromBigInteger(je),Ze)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var A=new z("3"),O=this.x.toBigInteger(),N=this.y.toBigInteger(),Z=N.multiply(this.z),he=Z.multiply(N).mod(this.curve.q),ve=this.curve.a.toBigInteger(),Oe=O.square().multiply(A);z.ZERO.equals(ve)||(Oe=Oe.add(this.z.square().multiply(ve)));var Se=(Oe=Oe.mod(this.curve.q)).square().subtract(O.shiftLeft(3).multiply(he)).shiftLeft(1).multiply(Z).mod(this.curve.q),Ce=Oe.multiply(A).multiply(O).subtract(he.shiftLeft(1)).shiftLeft(2).multiply(he).subtract(Oe.square().multiply(Oe)).mod(this.curve.q),ke=Z.square().multiply(Z).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(Se),this.curve.fromBigInteger(Ce),ke)},ae.prototype.multiply=function(A){if(this.isInfinity())return this;if(A.signum()==0)return this.curve.getInfinity();var O,N=A,Z=N.multiply(new z("3")),he=this.negate(),ve=this,Oe=this.curve.q.subtract(A),Se=Oe.multiply(new z("3")),Ce=new ae(this.curve,this.x,this.y),ke=Ce.negate();for(O=Z.bitLength()-2;O>0;--O){ve=ve.twice();var Ne=Z.testBit(O);Ne!=N.testBit(O)&&(ve=ve.add(Ne?this:he))}for(O=Se.bitLength()-2;O>0;--O){Ce=Ce.twice();var je=Se.testBit(O);je!=Oe.testBit(O)&&(Ce=Ce.add(je?Ce:ke))}return ve},ae.prototype.multiplyTwo=function(A,O,N){var Z;Z=A.bitLength()>N.bitLength()?A.bitLength()-1:N.bitLength()-1;for(var he=this.curve.getInfinity(),ve=this.add(O);Z>=0;)he=he.twice(),A.testBit(Z)?he=N.testBit(Z)?he.add(ve):he.add(this):N.testBit(Z)&&(he=he.add(O)),--Z;return he},K.prototype.getQ=function(){return this.q},K.prototype.getA=function(){return this.a},K.prototype.getB=function(){return this.b},K.prototype.equals=function(A){return A==this||this.q.equals(A.q)&&this.a.equals(A.a)&&this.b.equals(A.b)},K.prototype.getInfinity=function(){return this.infinity},K.prototype.fromBigInteger=function(A){return new qe(this.q,A)},K.prototype.decodePointHex=function(A){switch(parseInt(A.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var O=(A.length-2)/2,N=A.substr(2,O),Z=A.substr(O+2,O);return new ae(this,this.fromBigInteger(new z(N,16)),this.fromBigInteger(new z(Z,16)));default:return null}},qe.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(T){var A=function(ve,Oe){var Se=ve.toByteArrayUnsigned();if(Oe<Se.length)Se=Se.slice(Se.length-Oe);else for(;Oe>Se.length;)Se.unshift(0);return Se},O=this.getX().toBigInteger(),N=this.getY().toBigInteger(),Z=A(O,32);return T?N.isEven()?Z.unshift(2):Z.unshift(3):(Z.unshift(4),Z=Z.concat(A(N,32))),Z},ae.decodeFrom=function(T,A){A[0];var O=A.length-1,N=A.slice(1,1+O/2),Z=A.slice(1+O/2,1+O);N.unshift(0),Z.unshift(0);var he=new z(N),ve=new z(Z);return new ae(T,T.fromBigInteger(he),T.fromBigInteger(ve))},ae.decodeFromHex=function(T,A){A.substr(0,2);var O=A.length-2,N=A.substr(2,O/2),Z=A.substr(2+O/2,O/2),he=new z(N,16),ve=new z(Z,16);return new ae(T,T.fromBigInteger(he),T.fromBigInteger(ve))},ae.prototype.add2D=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.x.equals(T.x))return this.y.equals(T.y)?this.twice():this.curve.getInfinity();var A=T.x.subtract(this.x),O=T.y.subtract(this.y).divide(A),N=O.square().subtract(this.x).subtract(T.x),Z=O.multiply(this.x.subtract(N)).subtract(this.y);return new ae(this.curve,N,Z)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=this.curve.fromBigInteger(z.valueOf(2)),A=this.curve.fromBigInteger(z.valueOf(3)),O=this.x.square().multiply(A).add(this.curve.a).divide(this.y.multiply(T)),N=O.square().subtract(this.x.multiply(T)),Z=O.multiply(this.x.subtract(N)).subtract(this.y);return new ae(this.curve,N,Z)},ae.prototype.multiply2D=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var A,O=T,N=O.multiply(new z("3")),Z=this.negate(),he=this;for(A=N.bitLength()-2;A>0;--A){he=he.twice();var ve=N.testBit(A);ve!=O.testBit(A)&&(he=he.add2D(ve?this:Z))}return he},ae.prototype.isOnCurve=function(){var T=this.getX().toBigInteger(),A=this.getY().toBigInteger(),O=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),Z=this.curve.getQ(),he=A.multiply(A).mod(Z),ve=T.multiply(T).multiply(T).add(O.multiply(T)).add(N).mod(Z);return he.equals(ve)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var T=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var A=this.getX().toBigInteger(),O=this.getY().toBigInteger();if(A.compareTo(z.ONE)<0||A.compareTo(T.subtract(z.ONE))>0)throw new Error("x coordinate out of bounds");if(O.compareTo(z.ONE)<0||O.compareTo(T.subtract(z.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(T).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var Y=(function(){var T=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),A=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),O={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(ve,Oe,Se){return Oe?O[Oe]:String.fromCharCode(parseInt(Se,16))}var Z=new String(""),he=Object.hasOwnProperty;return function(ve,Oe){var Se,Ce,ke=ve.match(T),Ne=ke[0],je=!1;Ne==="{"?Se={}:Ne==="["?Se=[]:(Se=[],je=!0);for(var Ze=[Se],nt=1-je,ct=ke.length;nt<ct;++nt){var at;switch((Ne=ke[nt]).charCodeAt(0)){default:(at=Ze[0])[Ce||at.length]=+Ne,Ce=void 0;break;case 34:if((Ne=Ne.substring(1,Ne.length-1)).indexOf("\\")!==-1&&(Ne=Ne.replace(A,N)),at=Ze[0],!Ce){if(!(at instanceof Array)){Ce=Ne||Z;break}Ce=at.length}at[Ce]=Ne,Ce=void 0;break;case 91:at=Ze[0],Ze.unshift(at[Ce||at.length]=[]),Ce=void 0;break;case 93:Ze.shift();break;case 102:(at=Ze[0])[Ce||at.length]=!1,Ce=void 0;break;case 110:(at=Ze[0])[Ce||at.length]=null,Ce=void 0;break;case 116:(at=Ze[0])[Ce||at.length]=!0,Ce=void 0;break;case 123:at=Ze[0],Ze.unshift(at[Ce||at.length]={}),Ce=void 0;break;case 125:Ze.shift()}}if(je){if(Ze.length!==1)throw new Error;Se=Se[0]}else if(Ze.length)throw new Error;return Oe&&(Se=(function _e(De,Fe){var ze=De[Fe];if(ze&&(ze===void 0?"undefined":v(ze))==="object"){var st=null;for(var gt in ze)if(he.call(ze,gt)&&ze!==De){var $t=_e(ze,gt);$t!==void 0?ze[gt]=$t:(st||(st=[]),st.push(gt))}if(st)for(var Tt=st.length;--Tt>=0;)delete ze[st[Tt]]}return Oe.call(De,Fe,ze)})({"":Se},"")),Se}})();J!==void 0&&J||(r.KJUR=J={}),J.asn1!==void 0&&J.asn1||(J.asn1={}),J.asn1.ASN1Util=new function(){this.integerToByteHex=function(T){var A=T.toString(16);return A.length%2==1&&(A="0"+A),A},this.bigIntToMinTwosComplementsHex=function(T){var A=T.toString(16);if(A.substr(0,1)!="-")A.length%2==1?A="0"+A:A.match(/^[0-7]/)||(A="00"+A);else{var O=A.substr(1).length;O%2==1?O+=1:A.match(/^[0-7]/)||(O+=2);for(var N="",Z=0;Z<O;Z++)N+="f";A=new z(N,16).xor(T).add(z.ONE).toString(16).replace(/^-/,"")}return A},this.getPEMStringFromHex=function(T,A){return Ct(T,A)},this.newObject=function(T){var A=J.asn1,O=A.ASN1Object,N=A.DERBoolean,Z=A.DERInteger,he=A.DERBitString,ve=A.DEROctetString,Oe=A.DERNull,Se=A.DERObjectIdentifier,Ce=A.DEREnumerated,ke=A.DERUTF8String,Ne=A.DERNumericString,je=A.DERPrintableString,Ze=A.DERTeletexString,nt=A.DERIA5String,ct=A.DERUTCTime,at=A.DERGeneralizedTime,_e=A.DERVisibleString,De=A.DERBMPString,Fe=A.DERSequence,ze=A.DERSet,st=A.DERTaggedObject,gt=A.ASN1Util.newObject;if(T instanceof A.ASN1Object)return T;var $t=Object.keys(T);if($t.length!=1)throw new Error("key of param shall be only one.");var Tt=$t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(T[Tt]);if(Tt=="int")return new Z(T[Tt]);if(Tt=="bitstr")return new he(T[Tt]);if(Tt=="octstr")return new ve(T[Tt]);if(Tt=="null")return new Oe(T[Tt]);if(Tt=="oid")return new Se(T[Tt]);if(Tt=="enum")return new Ce(T[Tt]);if(Tt=="utf8str")return new ke(T[Tt]);if(Tt=="numstr")return new Ne(T[Tt]);if(Tt=="prnstr")return new je(T[Tt]);if(Tt=="telstr")return new Ze(T[Tt]);if(Tt=="ia5str")return new nt(T[Tt]);if(Tt=="utctime")return new ct(T[Tt]);if(Tt=="gentime")return new at(T[Tt]);if(Tt=="visstr")return new _e(T[Tt]);if(Tt=="bmpstr")return new De(T[Tt]);if(Tt=="asn1")return new O(T[Tt]);if(Tt=="seq"){for(var fn=T[Tt],Ft=[],Ht=0;Ht<fn.length;Ht++){var jn=gt(fn[Ht]);Ft.push(jn)}return new Fe({array:Ft})}if(Tt=="set"){for(fn=T[Tt],Ft=[],Ht=0;Ht<fn.length;Ht++)jn=gt(fn[Ht]),Ft.push(jn);return new ze({array:Ft})}if(Tt=="tag"){var Un=T[Tt];if(Object.prototype.toString.call(Un)==="[object Array]"&&Un.length==3){var Nn=gt(Un[2]);return new st({tag:Un[0],explicit:Un[1],obj:Nn})}return new st(Un)}},this.jsonToASN1HEX=function(T){return this.newObject(T).getEncodedHex()}},J.asn1.ASN1Util.oidHexToInt=function(T){for(var A="",O=parseInt(T.substr(0,2),16),N=(A=Math.floor(O/40)+"."+O%40,""),Z=2;Z<T.length;Z+=2){var he=("00000000"+parseInt(T.substr(Z,2),16).toString(2)).slice(-8);N+=he.substr(1,7),he.substr(0,1)=="0"&&(A=A+"."+new z(N,2).toString(10),N="")}return A},J.asn1.ASN1Util.oidIntToHex=function(T){var A=function(Se){var Ce=Se.toString(16);return Ce.length==1&&(Ce="0"+Ce),Ce},O=function(Se){var Ce="",ke=new z(Se,10).toString(2),Ne=7-ke.length%7;Ne==7&&(Ne=0);for(var je="",Ze=0;Ze<Ne;Ze++)je+="0";for(ke=je+ke,Ze=0;Ze<ke.length-1;Ze+=7){var nt=ke.substr(Ze,7);Ze!=ke.length-7&&(nt="1"+nt),Ce+=A(parseInt(nt,2))}return Ce};if(!T.match(/^[0-9.]+$/))throw"malformed oid string: "+T;var N="",Z=T.split("."),he=40*parseInt(Z[0])+parseInt(Z[1]);N+=A(he),Z.splice(0,2);for(var ve=0;ve<Z.length;ve++)N+=O(Z[ve]);return N},J.asn1.ASN1Object=function(T){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var A=this.hV.length/2,O=A.toString(16);if(O.length%2==1&&(O="0"+O),A<128)return O;var N=O.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+A.toString(16);return(128+N).toString(16)+O},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(A){this.params=A},T!=null&&T.tlv!=null&&(this.hTLV=T.tlv,this.isModified=!1)},J.asn1.DERAbstractString=function(T){J.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(A){this.hTLV=null,this.isModified=!0,this.s=A,this.hV=Er(this.s).toLowerCase()},this.setStringHex=function(A){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"?this.setString(T):T.str!==void 0?this.setString(T.str):T.hex!==void 0&&this.setStringHex(T.hex))},wt(J.asn1.DERAbstractString,J.asn1.ASN1Object),J.asn1.DERAbstractTime=function(T){J.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(A){var O=A.getTime()+6e4*A.getTimezoneOffset();return new Date(O)},this.formatDate=function(A,O,N){var Z=this.zeroPadding,he=this.localDateToUTC(A),ve=String(he.getFullYear());O=="utc"&&(ve=ve.substr(2,2));var Oe=ve+Z(String(he.getMonth()+1),2)+Z(String(he.getDate()),2)+Z(String(he.getHours()),2)+Z(String(he.getMinutes()),2)+Z(String(he.getSeconds()),2);if(N===!0){var Se=he.getMilliseconds();if(Se!=0){var Ce=Z(String(Se),3);Oe=Oe+"."+(Ce=Ce.replace(/[0]+$/,""))}}return Oe+"Z"},this.zeroPadding=function(A,O){return A.length>=O?A:new Array(O-A.length+1).join("0")+A},this.getString=function(){return this.s},this.setString=function(A){this.hTLV=null,this.isModified=!0,this.s=A,this.hV=Zt(A)},this.setByDateValue=function(A,O,N,Z,he,ve){var Oe=new Date(Date.UTC(A,O-1,N,Z,he,ve,0));this.setByDate(Oe)},this.getFreshValueHex=function(){return this.hV}},wt(J.asn1.DERAbstractTime,J.asn1.ASN1Object),J.asn1.DERAbstractStructured=function(T){J.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(A){this.hTLV=null,this.isModified=!0,this.asn1Array=A},this.appendASN1Object=function(A){this.hTLV=null,this.isModified=!0,this.asn1Array.push(A)},this.asn1Array=new Array,T!==void 0&&T.array!==void 0&&(this.asn1Array=T.array)},wt(J.asn1.DERAbstractStructured,J.asn1.ASN1Object),J.asn1.DERBoolean=function(T){J.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=T==0?"010100":"0101ff"},wt(J.asn1.DERBoolean,J.asn1.ASN1Object),J.asn1.DERInteger=function(T){J.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(A){this.hTLV=null,this.isModified=!0,this.hV=J.asn1.ASN1Util.bigIntToMinTwosComplementsHex(A)},this.setByInteger=function(A){var O=new z(String(A),10);this.setByBigInteger(O)},this.setValueHex=function(A){this.hV=A},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.bigint!==void 0?this.setByBigInteger(T.bigint):T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},wt(J.asn1.DERInteger,J.asn1.ASN1Object),J.asn1.DERBitString=function(T){if(T!==void 0&&T.obj!==void 0){var A=J.asn1.ASN1Util.newObject(T.obj);T.hex="00"+A.getEncodedHex()}J.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(O){this.hTLV=null,this.isModified=!0,this.hV=O},this.setUnusedBitsAndHexValue=function(O,N){if(O<0||7<O)throw"unused bits shall be from 0 to 7: u = "+O;var Z="0"+O;this.hTLV=null,this.isModified=!0,this.hV=Z+N},this.setByBinaryString=function(O){var N=8-(O=O.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var Z=0;Z<=N;Z++)O+="0";var he="";for(Z=0;Z<O.length-1;Z+=8){var ve=O.substr(Z,8),Oe=parseInt(ve,2).toString(16);Oe.length==1&&(Oe="0"+Oe),he+=Oe}this.hTLV=null,this.isModified=!0,this.hV="0"+N+he},this.setByBooleanArray=function(O){for(var N="",Z=0;Z<O.length;Z++)O[Z]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(O){for(var N=new Array(O),Z=0;Z<O;Z++)N[Z]=!1;return N},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"&&T.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(T):T.hex!==void 0?this.setHexValueIncludingUnusedBits(T.hex):T.bin!==void 0?this.setByBinaryString(T.bin):T.array!==void 0&&this.setByBooleanArray(T.array))},wt(J.asn1.DERBitString,J.asn1.ASN1Object),J.asn1.DEROctetString=function(T){if(T!==void 0&&T.obj!==void 0){var A=J.asn1.ASN1Util.newObject(T.obj);T.hex=A.getEncodedHex()}J.asn1.DEROctetString.superclass.constructor.call(this,T),this.hT="04"},wt(J.asn1.DEROctetString,J.asn1.DERAbstractString),J.asn1.DERNull=function(){J.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},wt(J.asn1.DERNull,J.asn1.ASN1Object),J.asn1.DERObjectIdentifier=function(T){J.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(A){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.setValueOidString=function(A){var O=(function(Z){var he=function(je){var Ze=je.toString(16);return Ze.length==1&&(Ze="0"+Ze),Ze},ve=function(je){var Ze="",nt=parseInt(je,10).toString(2),ct=7-nt.length%7;ct==7&&(ct=0);for(var at="",_e=0;_e<ct;_e++)at+="0";for(nt=at+nt,_e=0;_e<nt.length-1;_e+=7){var De=nt.substr(_e,7);_e!=nt.length-7&&(De="1"+De),Ze+=he(parseInt(De,2))}return Ze};try{if(!Z.match(/^[0-9.]+$/))return null;var Oe="",Se=Z.split("."),Ce=40*parseInt(Se[0],10)+parseInt(Se[1],10);Oe+=he(Ce),Se.splice(0,2);for(var ke=0;ke<Se.length;ke++)Oe+=ve(Se[ke]);return Oe}catch{return null}})(A);if(O==null)throw new Error("malformed oid string: "+A);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=O},this.setValueName=function(A){var O=J.asn1.x509.OID.name2oid(A);if(O==="")throw new Error("DERObjectIdentifier oidName undefined: "+A);this.setValueOidString(O)},this.setValueNameOrOid=function(A){A.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(A):this.setValueName(A)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(A){typeof A=="string"?this.setValueNameOrOid(A):A.oid!==void 0?this.setValueNameOrOid(A.oid):A.name!==void 0?this.setValueNameOrOid(A.name):A.hex!==void 0&&this.setValueHex(A.hex)},T!==void 0&&this.setByParam(T)},wt(J.asn1.DERObjectIdentifier,J.asn1.ASN1Object),J.asn1.DEREnumerated=function(T){J.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(A){this.hTLV=null,this.isModified=!0,this.hV=J.asn1.ASN1Util.bigIntToMinTwosComplementsHex(A)},this.setByInteger=function(A){var O=new z(String(A),10);this.setByBigInteger(O)},this.setValueHex=function(A){this.hV=A},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},wt(J.asn1.DEREnumerated,J.asn1.ASN1Object),J.asn1.DERUTF8String=function(T){J.asn1.DERUTF8String.superclass.constructor.call(this,T),this.hT="0c"},wt(J.asn1.DERUTF8String,J.asn1.DERAbstractString),J.asn1.DERNumericString=function(T){J.asn1.DERNumericString.superclass.constructor.call(this,T),this.hT="12"},wt(J.asn1.DERNumericString,J.asn1.DERAbstractString),J.asn1.DERPrintableString=function(T){J.asn1.DERPrintableString.superclass.constructor.call(this,T),this.hT="13"},wt(J.asn1.DERPrintableString,J.asn1.DERAbstractString),J.asn1.DERTeletexString=function(T){J.asn1.DERTeletexString.superclass.constructor.call(this,T),this.hT="14"},wt(J.asn1.DERTeletexString,J.asn1.DERAbstractString),J.asn1.DERIA5String=function(T){J.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="16"},wt(J.asn1.DERIA5String,J.asn1.DERAbstractString),J.asn1.DERVisibleString=function(T){J.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="1a"},wt(J.asn1.DERVisibleString,J.asn1.DERAbstractString),J.asn1.DERBMPString=function(T){J.asn1.DERBMPString.superclass.constructor.call(this,T),this.hT="1e"},wt(J.asn1.DERBMPString,J.asn1.DERAbstractString),J.asn1.DERUTCTime=function(T){J.asn1.DERUTCTime.superclass.constructor.call(this,T),this.hT="17",this.setByDate=function(A){this.hTLV=null,this.isModified=!0,this.date=A,this.s=this.formatDate(this.date,"utc"),this.hV=Zt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Zt(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{12}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date))},wt(J.asn1.DERUTCTime,J.asn1.DERAbstractTime),J.asn1.DERGeneralizedTime=function(T){J.asn1.DERGeneralizedTime.superclass.constructor.call(this,T),this.hT="18",this.withMillis=!1,this.setByDate=function(A){this.hTLV=null,this.isModified=!0,this.date=A,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Zt(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Zt(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{14}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date),T.millis===!0&&(this.withMillis=!0))},wt(J.asn1.DERGeneralizedTime,J.asn1.DERAbstractTime),J.asn1.DERSequence=function(T){J.asn1.DERSequence.superclass.constructor.call(this,T),this.hT="30",this.getFreshValueHex=function(){for(var A="",O=0;O<this.asn1Array.length;O++)A+=this.asn1Array[O].getEncodedHex();return this.hV=A,this.hV}},wt(J.asn1.DERSequence,J.asn1.DERAbstractStructured),J.asn1.DERSet=function(T){J.asn1.DERSet.superclass.constructor.call(this,T),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var A=new Array,O=0;O<this.asn1Array.length;O++){var N=this.asn1Array[O];A.push(N.getEncodedHex())}return this.sortFlag==1&&A.sort(),this.hV=A.join(""),this.hV},T!==void 0&&T.sortflag!==void 0&&T.sortflag==0&&(this.sortFlag=!1)},wt(J.asn1.DERSet,J.asn1.DERAbstractStructured),J.asn1.DERTaggedObject=function(T){J.asn1.DERTaggedObject.superclass.constructor.call(this);var A=J.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(O,N,Z){this.hT=N,this.isExplicit=O,this.asn1Object=Z,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=Z.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(O){O.tag!=null&&(this.hT=O.tag),O.explicit!=null&&(this.isExplicit=O.explicit),O.tage!=null&&(this.hT=O.tage,this.isExplicit=!0),O.tagi!=null&&(this.hT=O.tagi,this.isExplicit=!1),O.obj!=null&&(O.obj instanceof A.ASN1Object?(this.asn1Object=O.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):v(O.obj)=="object"&&(this.asn1Object=A.ASN1Util.newObject(O.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},T!=null&&this.setByParam(T)},wt(J.asn1.DERTaggedObject,J.asn1.ASN1Object);var J,Ge,et,Ke=new function(){};function Pt(T){for(var A=new Array,O=0;O<T.length;O++)A[O]=T.charCodeAt(O);return A}function tn(T){for(var A="",O=0;O<T.length;O++)A+=String.fromCharCode(T[O]);return A}function zt(T){for(var A="",O=0;O<T.length;O++){var N=T[O].toString(16);N.length==1&&(N="0"+N),A+=N}return A}function Zt(T){return zt(Pt(T))}function Yt(T){return T=(T=(T=T.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ai(T){return T.length%4==2?T+="==":T.length%4==3&&(T+="="),T=(T=T.replace(/-/g,"+")).replace(/_/g,"/")}function Tn(T){return T.length%2==1&&(T="0"+T),Yt(M(T))}function nn(T){return W(ai(T))}function Er(T){return Xe(Lt(T))}function un(T){return decodeURIComponent(ut(T))}function fr(T){for(var A="",O=0;O<T.length-1;O+=2)A+=String.fromCharCode(parseInt(T.substr(O,2),16));return A}function dr(T){for(var A="",O=0;O<T.length;O++)A+=("0"+T.charCodeAt(O).toString(16)).slice(-2);return A}function Cr(T){return M(T)}function Re(T){var A=Cr(T).replace(/(.{64})/g,`$1\r
`);return A=A.replace(/\r\n$/,"")}function Ue(T){return W(T.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Ct(T,A){return"-----BEGIN "+A+`-----\r
`+Re(T)+`\r
-----END `+A+`-----\r
`}function At(T,A){if(T.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+A;return Ue(T=A!==void 0?(T=T.replace(new RegExp("^[^]*-----BEGIN "+A+"-----"),"")).replace(new RegExp("-----END "+A+"-----[^]*$"),""):(T=T.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Dt(T){var A,O,N,Z,he,ve,Oe,Se,Ce,ke,Ne;if(Ne=T.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return Se=Ne[1],A=parseInt(Se),Se.length===2&&(50<=A&&A<100?A=1900+A:0<=A&&A<50&&(A=2e3+A)),O=parseInt(Ne[2])-1,N=parseInt(Ne[3]),Z=parseInt(Ne[4]),he=parseInt(Ne[5]),ve=parseInt(Ne[6]),Oe=0,(Ce=Ne[7])!==""&&(ke=(Ce.substr(1)+"00").substr(0,3),Oe=parseInt(ke)),Date.UTC(A,O,N,Z,he,ve,Oe);throw"unsupported zulu format: "+T}function $e(T){return~~(Dt(T)/1e3)}function Xe(T){return T.replace(/%/g,"")}function ut(T){return T.replace(/(..)/g,"%$1")}function lt(T){var A="malformed IPv6 address";if(!T.match(/^[0-9A-Fa-f:]+$/))throw A;var O=(T=T.toLowerCase()).split(":").length-1;if(O<2)throw A;var N=":".repeat(7-O+2),Z=(T=T.replace("::",N)).split(":");if(Z.length!=8)throw A;for(var he=0;he<8;he++)Z[he]=("0000"+Z[he]).slice(-4);return Z.join("")}function Ot(T){if(!T.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var A=(T=T.toLowerCase()).match(/.{1,4}/g),O=0;O<8;O++)A[O]=A[O].replace(/^0+/,""),A[O]==""&&(A[O]="0");var N=(T=":"+A.join(":")+":").match(/:(0:){2,}/g);if(N===null)return T.slice(1,-1);var Z="";for(O=0;O<N.length;O++)N[O].length>Z.length&&(Z=N[O]);return(T=T.replace(Z,"::")).slice(1,-1)}function qt(T){var A="malformed hex value";if(!T.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw A;if(T.length!=8)return T.length==32?Ot(T):T;try{return parseInt(T.substr(0,2),16)+"."+parseInt(T.substr(2,2),16)+"."+parseInt(T.substr(4,2),16)+"."+parseInt(T.substr(6,2),16)}catch{throw A}}function jt(T){return T.match(/.{4}/g).map((function(O){var N=parseInt(O.substr(0,2),16),Z=parseInt(O.substr(2),16);if(N==0&Z<128)return String.fromCharCode(Z);if(N<8){var he=128|63&Z;return un((192|(7&N)<<3|(192&Z)>>6).toString(16)+he.toString(16))}he=128|(15&N)<<2|(192&Z)>>6;var ve=128|63&Z;return un((224|(240&N)>>4).toString(16)+he.toString(16)+ve.toString(16))})).join("")}function Lt(T){for(var A=encodeURIComponent(T),O="",N=0;N<A.length;N++)A[N]=="%"?(O+=A.substr(N,3),N+=2):O=O+"%"+Zt(A[N]);return O}function It(T){return!(T.length%2!=0||!T.match(/^[0-9a-f]+$/)&&!T.match(/^[0-9A-F]+$/))}function Bt(T){return T.length%2==1?"0"+T:T.substr(0,1)>"7"?"00"+T:T}Ke.getLblen=function(T,A){if(T.substr(A+2,1)!="8")return 1;var O=parseInt(T.substr(A+3,1));return O==0?-1:0<O&&O<10?O+1:-2},Ke.getL=function(T,A){var O=Ke.getLblen(T,A);return O<1?"":T.substr(A+2,2*O)},Ke.getVblen=function(T,A){var O;return(O=Ke.getL(T,A))==""?-1:(O.substr(0,1)==="8"?new z(O.substr(2),16):new z(O,16)).intValue()},Ke.getVidx=function(T,A){var O=Ke.getLblen(T,A);return O<0?O:A+2*(O+1)},Ke.getV=function(T,A){var O=Ke.getVidx(T,A),N=Ke.getVblen(T,A);return T.substr(O,2*N)},Ke.getTLV=function(T,A){return T.substr(A,2)+Ke.getL(T,A)+Ke.getV(T,A)},Ke.getTLVblen=function(T,A){return 2+2*Ke.getLblen(T,A)+2*Ke.getVblen(T,A)},Ke.getNextSiblingIdx=function(T,A){return Ke.getVidx(T,A)+2*Ke.getVblen(T,A)},Ke.getChildIdx=function(T,A){var O,N,Z,he=Ke,ve=[];O=he.getVidx(T,A),N=2*he.getVblen(T,A),T.substr(A,2)=="03"&&(O+=2,N-=2),Z=0;for(var Oe=O;Z<=N;){var Se=he.getTLVblen(T,Oe);if((Z+=Se)<=N&&ve.push(Oe),Oe+=Se,Z>=N)break}return ve},Ke.getNthChildIdx=function(T,A,O){return Ke.getChildIdx(T,A)[O]},Ke.getIdxbyList=function(T,A,O,N){var Z,he,ve=Ke;return O.length==0?N!==void 0&&T.substr(A,2)!==N?-1:A:(Z=O.shift())>=(he=ve.getChildIdx(T,A)).length?-1:ve.getIdxbyList(T,he[Z],O,N)},Ke.getIdxbyListEx=function(T,A,O,N){var Z,he,ve=Ke;if(O.length==0)return N!==void 0&&T.substr(A,2)!==N?-1:A;Z=O.shift(),he=ve.getChildIdx(T,A);for(var Oe=0,Se=0;Se<he.length;Se++){var Ce=T.substr(he[Se],2);if(typeof Z=="number"&&!ve.isContextTag(Ce)&&Oe==Z||typeof Z=="string"&&ve.isContextTag(Ce,Z))return ve.getIdxbyListEx(T,he[Se],O,N);ve.isContextTag(Ce)||Oe++}return-1},Ke.getTLVbyList=function(T,A,O,N){var Z=Ke,he=Z.getIdxbyList(T,A,O,N);return he==-1||he>=T.length?null:Z.getTLV(T,he)},Ke.getTLVbyListEx=function(T,A,O,N){var Z=Ke,he=Z.getIdxbyListEx(T,A,O,N);return he==-1?null:Z.getTLV(T,he)},Ke.getVbyList=function(T,A,O,N,Z){var he,ve,Oe=Ke;return(he=Oe.getIdxbyList(T,A,O,N))==-1||he>=T.length?null:(ve=Oe.getV(T,he),Z===!0&&(ve=ve.substr(2)),ve)},Ke.getVbyListEx=function(T,A,O,N,Z){var he,ve,Oe=Ke;return(he=Oe.getIdxbyListEx(T,A,O,N))==-1?null:(ve=Oe.getV(T,he),T.substr(he,2)=="03"&&Z!==!1&&(ve=ve.substr(2)),ve)},Ke.getInt=function(T,A,O){O==null&&(O=-1);try{var N=T.substr(A,2);if(N!="02"&&N!="03")return O;var Z=Ke.getV(T,A);return N=="02"?parseInt(Z,16):(function(ve){try{var Oe=ve.substr(0,2);if(Oe=="00")return parseInt(ve.substr(2),16);var Se=parseInt(Oe,16),Ce=ve.substr(2),ke=parseInt(Ce,16).toString(2);return ke=="0"&&(ke="00000000"),ke=ke.slice(0,0-Se),parseInt(ke,2)}catch{return-1}})(Z)}catch{return O}},Ke.getOID=function(T,A,O){O==null&&(O=null);try{return T.substr(A,2)!="06"?O:(function(Z){if(!It(Z))return null;try{var he=[],ve=Z.substr(0,2),Oe=parseInt(ve,16);he[0]=new String(Math.floor(Oe/40)),he[1]=new String(Oe%40);for(var Se=Z.substr(2),Ce=[],ke=0;ke<Se.length/2;ke++)Ce.push(parseInt(Se.substr(2*ke,2),16));var Ne=[],je="";for(ke=0;ke<Ce.length;ke++)128&Ce[ke]?je+=Rt((127&Ce[ke]).toString(2),7):(je+=Rt((127&Ce[ke]).toString(2),7),Ne.push(new String(parseInt(je,2))),je="");var Ze=he.join(".");return Ne.length>0&&(Ze=Ze+"."+Ne.join(".")),Ze}catch{return null}})(Ke.getV(T,A))}catch{return O}},Ke.getOIDName=function(T,A,O){O==null&&(O=null);try{var N=Ke.getOID(T,A,O);if(N==O)return O;var Z=J.asn1.x509.OID.oid2name(N);return Z==""?N:Z}catch{return O}},Ke.getString=function(T,A,O){O==null&&(O=null);try{return fr(Ke.getV(T,A))}catch{return O}},Ke.hextooidstr=function(T){var A=function(je,Ze){return je.length>=Ze?je:new Array(Ze-je.length+1).join("0")+je},O=[],N=T.substr(0,2),Z=parseInt(N,16);O[0]=new String(Math.floor(Z/40)),O[1]=new String(Z%40);for(var he=T.substr(2),ve=[],Oe=0;Oe<he.length/2;Oe++)ve.push(parseInt(he.substr(2*Oe,2),16));var Se=[],Ce="";for(Oe=0;Oe<ve.length;Oe++)128&ve[Oe]?Ce+=A((127&ve[Oe]).toString(2),7):(Ce+=A((127&ve[Oe]).toString(2),7),Se.push(new String(parseInt(Ce,2))),Ce="");var ke=O.join(".");return Se.length>0&&(ke=ke+"."+Se.join(".")),ke},Ke.dump=function(T,A,O,N){var Z=Ke,he=Z.getV,ve=Z.dump,Oe=Z.getChildIdx,Se=T;T instanceof J.asn1.ASN1Object&&(Se=T.getEncodedHex());var Ce=function(Tt,fn){return Tt.length<=2*fn?Tt:Tt.substr(0,fn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-fn,fn)};A===void 0&&(A={ommit_long_octet:32}),O===void 0&&(O=0),N===void 0&&(N="");var ke,Ne=A.ommit_long_octet;if((ke=Se.substr(O,2))=="01")return(je=he(Se,O))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(ke=="02")return N+"INTEGER "+Ce(je=he(Se,O),Ne)+`
`;if(ke=="03"){var je=he(Se,O);if(Z.isASN1HEX(je.substr(2))){var Ze=N+`BITSTRING, encapsulates
`;return Ze+=ve(je.substr(2),A,0,N+"  ")}return N+"BITSTRING "+Ce(je,Ne)+`
`}if(ke=="04")return je=he(Se,O),Z.isASN1HEX(je)?(Ze=N+`OCTETSTRING, encapsulates
`,Ze+=ve(je,A,0,N+"  ")):N+"OCTETSTRING "+Ce(je,Ne)+`
`;if(ke=="05")return N+`NULL
`;if(ke=="06"){var nt=he(Se,O),ct=J.asn1.ASN1Util.oidHexToInt(nt),at=J.asn1.x509.OID.oid2name(ct),_e=ct.replace(/\./g," ");return at!=""?N+"ObjectIdentifier "+at+" ("+_e+`)
`:N+"ObjectIdentifier ("+_e+`)
`}if(ke=="0a")return N+"ENUMERATED "+parseInt(he(Se,O))+`
`;if(ke=="0c")return N+"UTF8String '"+un(he(Se,O))+`'
`;if(ke=="13")return N+"PrintableString '"+un(he(Se,O))+`'
`;if(ke=="14")return N+"TeletexString '"+un(he(Se,O))+`'
`;if(ke=="16")return N+"IA5String '"+un(he(Se,O))+`'
`;if(ke=="17")return N+"UTCTime "+un(he(Se,O))+`
`;if(ke=="18")return N+"GeneralizedTime "+un(he(Se,O))+`
`;if(ke=="1a")return N+"VisualString '"+un(he(Se,O))+`'
`;if(ke=="1e")return N+"BMPString '"+jt(he(Se,O))+`'
`;if(ke=="30"){if(Se.substr(O,4)=="3000")return N+`SEQUENCE {}
`;Ze=N+`SEQUENCE
`;var De=A;if(((st=Oe(Se,O)).length==2||st.length==3)&&Se.substr(st[0],2)=="06"&&Se.substr(st[st.length-1],2)=="04"){at=Z.oidname(he(Se,st[0]));var Fe=JSON.parse(JSON.stringify(A));Fe.x509ExtName=at,De=Fe}for(var ze=0;ze<st.length;ze++)Ze+=ve(Se,De,st[ze],N+"  ");return Ze}if(ke=="31"){Ze=N+`SET
`;var st=Oe(Se,O);for(ze=0;ze<st.length;ze++)Ze+=ve(Se,A,st[ze],N+"  ");return Ze}if((128&(ke=parseInt(ke,16)))!=0){var gt=31&ke;if((32&ke)!=0){for(Ze=N+"["+gt+`]
`,st=Oe(Se,O),ze=0;ze<st.length;ze++)Ze+=ve(Se,A,st[ze],N+"  ");return Ze}if(je=he(Se,O),Ke.isASN1HEX(je)){var Ze=N+"["+gt+`]
`;return Ze+=ve(je,A,0,N+"  ")}return(je.substr(0,8)=="68747470"||A.x509ExtName==="subjectAltName"&&gt==2)&&(je=un(je)),Ze=N+"["+gt+"] "+je+`
`}return N+"UNKNOWN("+ke+") "+he(Se,O)+`
`},Ke.isContextTag=function(T,A){var O,N;T=T.toLowerCase();try{O=parseInt(T,16)}catch{return-1}if(A===void 0)return(192&O)==128;try{return A.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(A.substr(1,A.length-1),10))>31)&&(192&O)==128&&(31&O)==N}catch{return!1}},Ke.isASN1HEX=function(T){var A=Ke;if(T.length%2==1)return!1;var O=A.getVblen(T,0),N=T.substr(0,2),Z=A.getL(T,0);return T.length-N.length-Z.length==2*O},Ke.checkStrictDER=function(T,A,O,N,Z){var he=Ke;if(O===void 0){if(typeof T!="string")throw new Error("not hex string");if(T=T.toLowerCase(),!J.lang.String.isHex(T))throw new Error("not hex string");O=T.length,Z=(N=T.length/2)<128?1:Math.ceil(N.toString(16))+1}if(he.getL(T,A).length>2*Z)throw new Error("L of TLV too long: idx="+A);var ve=he.getVblen(T,A);if(ve>N)throw new Error("value of L too long than hex: idx="+A);var Oe=he.getTLV(T,A),Se=Oe.length-2-he.getL(T,A).length;if(Se!==2*ve)throw new Error("V string length and L's value not the same:"+Se+"/"+2*ve);if(A===0&&T.length!=Oe.length)throw new Error("total length and TLV length unmatch:"+T.length+"!="+Oe.length);var Ce=T.substr(A,2);if(Ce==="02"){var ke=he.getVidx(T,A);if(T.substr(ke,2)=="00"&&T.charCodeAt(ke+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Ce,16)){for(var Ne=he.getVblen(T,A),je=0,Ze=he.getChildIdx(T,A),nt=0;nt<Ze.length;nt++)je+=he.getTLV(T,Ze[nt]).length,he.checkStrictDER(T,Ze[nt],O,N,Z);if(2*Ne!=je)throw new Error("sum of children's TLV length and L unmatch: "+2*Ne+"!="+je)}},Ke.oidname=function(T){var A=J.asn1;J.lang.String.isHex(T)&&(T=A.ASN1Util.oidHexToInt(T));var O=A.x509.OID.oid2name(T);return O===""&&(O=T),O},J!==void 0&&J||(r.KJUR=J={}),J.lang!==void 0&&J.lang||(J.lang={}),J.lang.String=function(){},typeof o=="function"?(r.utf8tob64u=Ge=function(A){return Yt(o.from(A,"utf8").toString("base64"))},r.b64utoutf8=et=function(A){return o.from(ai(A),"base64").toString("utf8")}):(r.utf8tob64u=Ge=function(A){return Tn(Xe(Lt(A)))},r.b64utoutf8=et=function(A){return decodeURIComponent(ut(nn(A)))}),J.lang.String.isInteger=function(T){return!!T.match(/^[0-9]+$/)||!!T.match(/^-[0-9]+$/)},J.lang.String.isHex=function(T){return It(T)},J.lang.String.isBase64=function(T){return!(!(T=T.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||T.length%4!=0)},J.lang.String.isBase64URL=function(T){return!T.match(/[+/=]/)&&(T=ai(T),J.lang.String.isBase64(T))},J.lang.String.isIntegerArray=function(T){return!!(T=T.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},J.lang.String.isPrintable=function(T){return T.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},J.lang.String.isIA5=function(T){return T.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},J.lang.String.isMail=function(T){return T.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Rt=function(A,O,N){return N==null&&(N="0"),A.length>=O?A:new Array(O-A.length+1).join(N)+A};function wt(T,A){var O=function(){};O.prototype=A.prototype,T.prototype=new O,T.prototype.constructor=T,T.superclass=A.prototype,A.prototype.constructor==Object.prototype.constructor&&(A.prototype.constructor=A)}J!==void 0&&J||(r.KJUR=J={}),J.crypto!==void 0&&J.crypto||(J.crypto={}),J.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:P.algo.MD5,sha1:P.algo.SHA1,sha224:P.algo.SHA224,sha256:P.algo.SHA256,sha384:P.algo.SHA384,sha512:P.algo.SHA512,ripemd160:P.algo.RIPEMD160},this.getDigestInfoHex=function(T,A){if(this.DIGESTINFOHEAD[A]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+A;return this.DIGESTINFOHEAD[A]+T},this.getPaddedDigestInfoHex=function(T,A,O){var N=this.getDigestInfoHex(T,A),Z=O/4;if(N.length+22>Z)throw"key is too short for SigAlg: keylen="+O+","+A;for(var he="0001",ve="00"+N,Oe="",Se=Z-he.length-ve.length,Ce=0;Ce<Se;Ce+=2)Oe+="ff";return he+Oe+ve},this.hashString=function(T,A){return new J.crypto.MessageDigest({alg:A}).digestString(T)},this.hashHex=function(T,A){return new J.crypto.MessageDigest({alg:A}).digestHex(T)},this.sha1=function(T){return this.hashString(T,"sha1")},this.sha256=function(T){return this.hashString(T,"sha256")},this.sha256Hex=function(T){return this.hashHex(T,"sha256")},this.sha512=function(T){return this.hashString(T,"sha512")},this.sha512Hex=function(T){return this.hashHex(T,"sha512")},this.isKey=function(T){return T instanceof Ye||T instanceof J.crypto.DSA||T instanceof J.crypto.ECDSA}},J.crypto.Util.md5=function(T){return new J.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(T)},J.crypto.Util.ripemd160=function(T){return new J.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(T)},J.crypto.Util.SECURERANDOMGEN=new Me,J.crypto.Util.getRandomHexOfNbytes=function(T){var A=new Array(T);return J.crypto.Util.SECURERANDOMGEN.nextBytes(A),zt(A)},J.crypto.Util.getRandomBigIntegerOfNbytes=function(T){return new z(J.crypto.Util.getRandomHexOfNbytes(T),16)},J.crypto.Util.getRandomHexOfNbits=function(T){var A=T%8,O=new Array((T-A)/8+1);return J.crypto.Util.SECURERANDOMGEN.nextBytes(O),O[0]=(255<<A&255^255)&O[0],zt(O)},J.crypto.Util.getRandomBigIntegerOfNbits=function(T){return new z(J.crypto.Util.getRandomHexOfNbits(T),16)},J.crypto.Util.getRandomBigIntegerZeroToMax=function(T){for(var A=T.bitLength();;){var O=J.crypto.Util.getRandomBigIntegerOfNbits(A);if(T.compareTo(O)!=-1)return O}},J.crypto.Util.getRandomBigIntegerMinToMax=function(T,A){var O=T.compareTo(A);if(O==1)throw"biMin is greater than biMax";if(O==0)return T;var N=A.subtract(T);return J.crypto.Util.getRandomBigIntegerZeroToMax(N).add(T)},J.crypto.MessageDigest=function(T){this.setAlgAndProvider=function(A,O){if((A=J.crypto.MessageDigest.getCanonicalAlgName(A))!==null&&O===void 0&&(O=J.crypto.Util.DEFAULTPROVIDER[A]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(A)!=-1&&O=="cryptojs"){try{this.md=J.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[A].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+A+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var Z=P.enc.Hex.parse(N);this.md.update(Z)},this.digest=function(){return this.md.finalize().toString(P.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(A)!=-1&&O=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+A+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var Z=sjcl.codec.hex.toBits(N);this.md.update(Z)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(A){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(A){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(A){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},T!==void 0&&T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=J.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},J.crypto.MessageDigest.getCanonicalAlgName=function(T){return typeof T=="string"&&(T=(T=T.toLowerCase()).replace(/-/,"")),T},J.crypto.MessageDigest.getHashLength=function(T){var A=J.crypto.MessageDigest,O=A.getCanonicalAlgName(T);if(A.HASHLENGTH[O]===void 0)throw"not supported algorithm: "+T;return A.HASHLENGTH[O]},J.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},J.crypto.Mac=function(T){this.setAlgAndProvider=function(A,O){if((A=A.toLowerCase())==null&&(A="hmacsha1"),(A=A.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+A;O===void 0&&(O=J.crypto.Util.DEFAULTPROVIDER[A]),this.algProv=A+"/"+O;var N=A.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&O=="cryptojs"){try{var Z=J.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=P.algo.HMAC.create(Z,this.pass)}catch(he){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+he}this.updateString=function(he){this.mac.update(he)},this.updateHex=function(he){var ve=P.enc.Hex.parse(he);this.mac.update(ve)},this.doFinal=function(){return this.mac.finalize().toString(P.enc.Hex)},this.doFinalString=function(he){return this.updateString(he),this.doFinal()},this.doFinalHex=function(he){return this.updateHex(he),this.doFinal()}}},this.updateString=function(A){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(A){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(A){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(A){if(typeof A=="string"){var O=A;return A.length%2!=1&&A.match(/^[0-9A-Fa-f]+$/)||(O=dr(A)),void(this.pass=P.enc.Hex.parse(O))}if((A===void 0?"undefined":v(A))!="object")throw"KJUR.crypto.Mac unsupported password type: "+A;if(O=null,A.hex!==void 0){if(A.hex.length%2!=0||!A.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+A.hex;O=A.hex}if(A.utf8!==void 0&&(O=Er(A.utf8)),A.rstr!==void 0&&(O=dr(A.rstr)),A.b64!==void 0&&(O=W(A.b64)),A.b64u!==void 0&&(O=nn(A.b64u)),O==null)throw"KJUR.crypto.Mac unsupported password type: "+A;this.pass=P.enc.Hex.parse(O)},T!==void 0&&(T.pass!==void 0&&this.setPassword(T.pass),T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=J.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},J.crypto.Signature=function(T){var A=null;if(this._setAlgNames=function(){var O=this.algName.match(/^(.+)with(.+)$/);O&&(this.mdAlgName=O[1].toLowerCase(),this.pubkeyAlgName=O[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(O,N){for(var Z="",he=N/4-O.length,ve=0;ve<he;ve++)Z+="0";return Z+O},this.setAlgAndProvider=function(O,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new J.crypto.MessageDigest({alg:this.mdAlgName})}catch(Z){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+Z)}this.init=function(Z,he){var ve=null;try{ve=he===void 0?Nt.getKey(Z):Nt.getKey(Z,he)}catch(Oe){throw"init failed:"+Oe}if(ve.isPrivate===!0)this.prvKey=ve,this.state="SIGN";else{if(ve.isPublic!==!0)throw"init failed.:"+ve;this.pubKey=ve,this.state="VERIFY"}},this.updateString=function(Z){this.md.updateString(Z)},this.updateHex=function(Z){this.md.updateHex(Z)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&J.crypto.ECDSA!==void 0&&(this.prvKey=new J.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Ye&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Ye&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof J.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof J.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(Z){return this.updateString(Z),this.sign()},this.signHex=function(Z){return this.updateHex(Z),this.sign()},this.verify=function(Z){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&J.crypto.ECDSA!==void 0&&(this.pubKey=new J.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Ye&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,Z,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Ye&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);if(J.crypto.ECDSA!==void 0&&this.pubKey instanceof J.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);if(J.crypto.DSA!==void 0&&this.pubKey instanceof J.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,Z);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(O,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(O){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(O){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(O){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(O){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(O){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=T,T!==void 0&&(T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0?this.provName=J.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=T.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),T.psssaltlen!==void 0&&(this.pssSaltLen=T.psssaltlen),T.prvkeypem!==void 0)){if(T.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{A=Nt.getKey(T.prvkeypem),this.init(A)}catch(O){throw"fatal error to load pem private key: "+O}}},J.crypto.Cipher=function(T){},J.crypto.Cipher.encrypt=function(T,A,O){if(A instanceof Ye&&A.isPublic){var N=J.crypto.Cipher.getAlgByKeyAndName(A,O);if(N==="RSA")return A.encrypt(T);if(N==="RSAOAEP")return A.encryptOAEP(T,"sha1");var Z=N.match(/^RSAOAEP(\d+)$/);if(Z!==null)return A.encryptOAEP(T,"sha"+Z[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+O}throw"Cipher.encrypt: unsupported key or algorithm"},J.crypto.Cipher.decrypt=function(T,A,O){if(A instanceof Ye&&A.isPrivate){var N=J.crypto.Cipher.getAlgByKeyAndName(A,O);if(N==="RSA")return A.decrypt(T);if(N==="RSAOAEP")return A.decryptOAEP(T,"sha1");var Z=N.match(/^RSAOAEP(\d+)$/);if(Z!==null)return A.decryptOAEP(T,"sha"+Z[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+O}throw"Cipher.decrypt: unsupported key or algorithm"},J.crypto.Cipher.getAlgByKeyAndName=function(T,A){if(T instanceof Ye){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(A)!=-1)return A;if(A==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+A}throw"getAlgByKeyAndName: not supported algorithm name: "+A},J.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},J!==void 0&&J||(r.KJUR=J={}),J.crypto!==void 0&&J.crypto||(J.crypto={}),J.crypto.ECDSA=function(T){var A=Error,O=z,N=ae,Z=J.crypto.ECDSA,he=J.crypto.ECParameterDB,ve=Z.getName,Oe=Ke,Se=Oe.getVbyListEx,Ce=Oe.isASN1HEX,ke=new Me;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(Ne){return new O(Ne.bitLength(),ke).mod(Ne.subtract(O.ONE)).add(O.ONE)},this.setNamedCurve=function(Ne){this.ecparams=he.getByName(Ne),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=Ne},this.setPrivateKeyHex=function(Ne){this.isPrivate=!0,this.prvKeyHex=Ne},this.setPublicKeyHex=function(Ne){this.isPublic=!0,this.pubKeyHex=Ne},this.getPublicKeyXYHex=function(){var Ne=this.pubKeyHex;if(Ne.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var je=this.ecparams.keylen/4;if(Ne.length!==2+2*je)throw"malformed public key hex length";var Ze={};return Ze.x=Ne.substr(2,je),Ze.y=Ne.substr(2+je),Ze},this.getShortNISTPCurveName=function(){var Ne=this.curveName;return Ne==="secp256r1"||Ne==="NIST P-256"||Ne==="P-256"||Ne==="prime256v1"?"P-256":Ne==="secp384r1"||Ne==="NIST P-384"||Ne==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var Ne=this.ecparams.n,je=this.getBigRandom(Ne),Ze=this.ecparams.G.multiply(je),nt=Ze.getX().toBigInteger(),ct=Ze.getY().toBigInteger(),at=this.ecparams.keylen/4,_e=("0000000000"+je.toString(16)).slice(-at),De="04"+("0000000000"+nt.toString(16)).slice(-at)+("0000000000"+ct.toString(16)).slice(-at);return this.setPrivateKeyHex(_e),this.setPublicKeyHex(De),{ecprvhex:_e,ecpubhex:De}},this.signWithMessageHash=function(Ne){return this.signHex(Ne,this.prvKeyHex)},this.signHex=function(Ne,je){var Ze=new O(je,16),nt=this.ecparams.n,ct=new O(Ne.substring(0,this.ecparams.keylen/4),16);do var at=this.getBigRandom(nt),_e=this.ecparams.G.multiply(at).getX().toBigInteger().mod(nt);while(_e.compareTo(O.ZERO)<=0);var De=at.modInverse(nt).multiply(ct.add(Ze.multiply(_e))).mod(nt);return Z.biRSSigToASN1Sig(_e,De)},this.sign=function(Ne,je){var Ze=je,nt=this.ecparams.n,ct=O.fromByteArrayUnsigned(Ne);do var at=this.getBigRandom(nt),_e=this.ecparams.G.multiply(at).getX().toBigInteger().mod(nt);while(_e.compareTo(z.ZERO)<=0);var De=at.modInverse(nt).multiply(ct.add(Ze.multiply(_e))).mod(nt);return this.serializeSig(_e,De)},this.verifyWithMessageHash=function(Ne,je){return this.verifyHex(Ne,je,this.pubKeyHex)},this.verifyHex=function(Ne,je,Ze){try{var nt,ct,at=Z.parseSigHex(je);nt=at.r,ct=at.s;var _e=N.decodeFromHex(this.ecparams.curve,Ze),De=new O(Ne.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,nt,ct,_e)}catch{return!1}},this.verify=function(Ne,je,Ze){var nt,ct,at;if(Bitcoin.Util.isArray(je)){var _e=this.parseSig(je);nt=_e.r,ct=_e.s}else{if((je===void 0?"undefined":v(je))!=="object"||!je.r||!je.s)throw"Invalid value for signature";nt=je.r,ct=je.s}if(Ze instanceof ae)at=Ze;else{if(!Bitcoin.Util.isArray(Ze))throw"Invalid format for pubkey value, must be byte array or ECPointFp";at=N.decodeFrom(this.ecparams.curve,Ze)}var De=O.fromByteArrayUnsigned(Ne);return this.verifyRaw(De,nt,ct,at)},this.verifyRaw=function(Ne,je,Ze,nt){var ct=this.ecparams.n,at=this.ecparams.G;if(je.compareTo(O.ONE)<0||je.compareTo(ct)>=0||Ze.compareTo(O.ONE)<0||Ze.compareTo(ct)>=0)return!1;var _e=Ze.modInverse(ct),De=Ne.multiply(_e).mod(ct),Fe=je.multiply(_e).mod(ct);return at.multiply(De).add(nt.multiply(Fe)).getX().toBigInteger().mod(ct).equals(je)},this.serializeSig=function(Ne,je){var Ze=Ne.toByteArraySigned(),nt=je.toByteArraySigned(),ct=[];return ct.push(2),ct.push(Ze.length),(ct=ct.concat(Ze)).push(2),ct.push(nt.length),(ct=ct.concat(nt)).unshift(ct.length),ct.unshift(48),ct},this.parseSig=function(Ne){var je;if(Ne[0]!=48)throw new Error("Signature not a valid DERSequence");if(Ne[je=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ze=Ne.slice(je+2,je+2+Ne[je+1]);if(Ne[je+=2+Ne[je+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var nt=Ne.slice(je+2,je+2+Ne[je+1]);return je+=2+Ne[je+1],{r:O.fromByteArrayUnsigned(Ze),s:O.fromByteArrayUnsigned(nt)}},this.parseSigCompact=function(Ne){if(Ne.length!==65)throw"Signature has the wrong length";var je=Ne[0]-27;if(je<0||je>7)throw"Invalid signature type";var Ze=this.ecparams.n;return{r:O.fromByteArrayUnsigned(Ne.slice(1,33)).mod(Ze),s:O.fromByteArrayUnsigned(Ne.slice(33,65)).mod(Ze),i:je}},this.readPKCS5PrvKeyHex=function(Ne){if(Ce(Ne)===!1)throw new Error("not ASN.1 hex string");var je,Ze,nt;try{je=Se(Ne,0,["[0]",0],"06"),Ze=Se(Ne,0,[1],"04");try{nt=Se(Ne,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=ve(je),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(nt),this.setPrivateKeyHex(Ze),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(Ne){if(Ce(Ne)===!1)throw new A("not ASN.1 hex string");var je,Ze,nt;try{Se(Ne,0,[1,0],"06"),je=Se(Ne,0,[1,1],"06"),Ze=Se(Ne,0,[2,0,1],"04");try{nt=Se(Ne,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new A("malformed PKCS#8 plain ECC private key")}if(this.curveName=ve(je),this.curveName===void 0)throw new A("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(nt),this.setPrivateKeyHex(Ze),this.isPublic=!1},this.readPKCS8PubKeyHex=function(Ne){if(Ce(Ne)===!1)throw new A("not ASN.1 hex string");var je,Ze;try{Se(Ne,0,[0,0],"06"),je=Se(Ne,0,[0,1],"06"),Ze=Se(Ne,0,[1],"03")}catch{throw new A("malformed PKCS#8 ECC public key")}if(this.curveName=ve(je),this.curveName===null)throw new A("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ze)},this.readCertPubKeyHex=function(Ne,je){if(Ce(Ne)===!1)throw new A("not ASN.1 hex string");var Ze,nt;try{Ze=Se(Ne,0,[0,5,0,1],"06"),nt=Se(Ne,0,[0,5,1],"03")}catch{throw new A("malformed X.509 certificate ECC public key")}if(this.curveName=ve(Ze),this.curveName===null)throw new A("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(nt)},T!==void 0&&T.curve!==void 0&&(this.curveName=T.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),T!==void 0&&(T.prv!==void 0&&this.setPrivateKeyHex(T.prv),T.pub!==void 0&&this.setPublicKeyHex(T.pub))},J.crypto.ECDSA.parseSigHex=function(T){var A=J.crypto.ECDSA.parseSigHexInHexRS(T);return{r:new z(A.r,16),s:new z(A.s,16)}},J.crypto.ECDSA.parseSigHexInHexRS=function(T){var A=Ke,O=A.getChildIdx,N=A.getV;if(A.checkStrictDER(T,0),T.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var Z=O(T,0);if(Z.length!=2)throw new Error("signature shall have two elements");var he=Z[0],ve=Z[1];if(T.substr(he,2)!="02")throw new Error("1st item not ASN.1 integer");if(T.substr(ve,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(T,he),s:N(T,ve)}},J.crypto.ECDSA.asn1SigToConcatSig=function(T){var A=J.crypto.ECDSA.parseSigHexInHexRS(T),O=A.r,N=A.s;if(O.substr(0,2)=="00"&&O.length%32==2&&(O=O.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),O.length%32==30&&(O="00"+O),N.length%32==30&&(N="00"+N),O.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return O+N},J.crypto.ECDSA.concatSigToASN1Sig=function(T){if(T.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var A=T.substr(0,T.length/2),O=T.substr(T.length/2);return J.crypto.ECDSA.hexRSSigToASN1Sig(A,O)},J.crypto.ECDSA.hexRSSigToASN1Sig=function(T,A){var O=new z(T,16),N=new z(A,16);return J.crypto.ECDSA.biRSSigToASN1Sig(O,N)},J.crypto.ECDSA.biRSSigToASN1Sig=function(T,A){var O=J.asn1,N=new O.DERInteger({bigint:T}),Z=new O.DERInteger({bigint:A});return new O.DERSequence({array:[N,Z]}).getEncodedHex()},J.crypto.ECDSA.getName=function(T){return T==="2b8104001f"?"secp192k1":T==="2a8648ce3d030107"?"secp256r1":T==="2b8104000a"?"secp256k1":T==="2b81040021"?"secp224r1":T==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(T)!==-1?"secp256r1":"|secp256k1|".indexOf(T)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(T)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(T)!==-1?"secp384r1":null},J!==void 0&&J||(r.KJUR=J={}),J.crypto!==void 0&&J.crypto||(J.crypto={}),J.crypto.ECParameterDB=new function(){var T={},A={};function O(N){return new z(N,16)}this.getByName=function(N){var Z=N;if(A[Z]!==void 0&&(Z=A[N]),T[Z]!==void 0)return T[Z];throw"unregistered EC curve name: "+Z},this.regist=function(N,Z,he,ve,Oe,Se,Ce,ke,Ne,je,Ze,nt){T[N]={};var ct=O(he),at=O(ve),_e=O(Oe),De=O(Se),Fe=O(Ce),ze=new K(ct,at,_e),st=ze.decodePointHex("04"+ke+Ne);T[N].name=N,T[N].keylen=Z,T[N].curve=ze,T[N].G=st,T[N].n=De,T[N].h=Fe,T[N].oid=Ze,T[N].info=nt;for(var gt=0;gt<je.length;gt++)A[je[gt]]=N}},J.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),J.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),J.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),J.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),J.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),J.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),J.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),J.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),J.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),J.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var Nt=(function(){var T=function(Ce,ke,Ne){return A(P.AES,Ce,ke,Ne)},A=function(Ce,ke,Ne,je){var Ze=P.enc.Hex.parse(ke),nt=P.enc.Hex.parse(Ne),ct=P.enc.Hex.parse(je),at={};at.key=nt,at.iv=ct,at.ciphertext=Ze;var _e=Ce.decrypt(at,nt,{iv:ct});return P.enc.Hex.stringify(_e)},O=function(Ce,ke,Ne){return N(P.AES,Ce,ke,Ne)},N=function(Ce,ke,Ne,je){var Ze=P.enc.Hex.parse(ke),nt=P.enc.Hex.parse(Ne),ct=P.enc.Hex.parse(je),at=Ce.encrypt(Ze,nt,{iv:ct}),_e=P.enc.Hex.parse(at.toString());return P.enc.Base64.stringify(_e)},Z={"AES-256-CBC":{proc:T,eproc:O,keylen:32,ivlen:16},"AES-192-CBC":{proc:T,eproc:O,keylen:24,ivlen:16},"AES-128-CBC":{proc:T,eproc:O,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Ce,ke,Ne){return A(P.TripleDES,Ce,ke,Ne)},eproc:function(Ce,ke,Ne){return N(P.TripleDES,Ce,ke,Ne)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Ce,ke,Ne){return A(P.DES,Ce,ke,Ne)},eproc:function(Ce,ke,Ne){return N(P.DES,Ce,ke,Ne)},keylen:8,ivlen:8}},he=function(Ce){var ke={},Ne=Ce.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));Ne&&(ke.cipher=Ne[1],ke.ivsalt=Ne[2]);var je=Ce.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));je&&(ke.type=je[1]);var Ze=-1,nt=0;Ce.indexOf(`\r
\r
`)!=-1&&(Ze=Ce.indexOf(`\r
\r
`),nt=2),Ce.indexOf(`

`)!=-1&&(Ze=Ce.indexOf(`

`),nt=1);var ct=Ce.indexOf("-----END");if(Ze!=-1&&ct!=-1){var at=Ce.substring(Ze+2*nt,ct-nt);at=at.replace(/\s+/g,""),ke.data=at}return ke},ve=function(Ce,ke,Ne){for(var je=Ne.substring(0,16),Ze=P.enc.Hex.parse(je),nt=P.enc.Utf8.parse(ke),ct=Z[Ce].keylen+Z[Ce].ivlen,at="",_e=null;;){var De=P.algo.MD5.create();if(_e!=null&&De.update(_e),De.update(nt),De.update(Ze),_e=De.finalize(),(at+=P.enc.Hex.stringify(_e)).length>=2*ct)break}var Fe={};return Fe.keyhex=at.substr(0,2*Z[Ce].keylen),Fe.ivhex=at.substr(2*Z[Ce].keylen,2*Z[Ce].ivlen),Fe},Oe=function(Ce,ke,Ne,je){var Ze=P.enc.Base64.parse(Ce),nt=P.enc.Hex.stringify(Ze);return(0,Z[ke].proc)(nt,Ne,je)};return{version:"1.0.0",parsePKCS5PEM:function(Ce){return he(Ce)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Ce,ke,Ne){return ve(Ce,ke,Ne)},decryptKeyB64:function(Ce,ke,Ne,je){return Oe(Ce,ke,Ne,je)},getDecryptedKeyHex:function(Ce,ke){var Ne=he(Ce),je=(Ne.type,Ne.cipher),Ze=Ne.ivsalt,nt=Ne.data,ct=ve(je,ke,Ze).keyhex;return Oe(nt,je,ct,Ze)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Ce,ke,Ne,je,Ze){var nt="";if(je!==void 0&&je!=null||(je="AES-256-CBC"),Z[je]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+je);Ze!==void 0&&Ze!=null||(Ze=(function(_e){var De=P.lib.WordArray.random(_e);return P.enc.Hex.stringify(De)})(Z[je].ivlen).toUpperCase());var ct=(function(_e,De,Fe,ze){return(0,Z[De].eproc)(_e,Fe,ze)})(ke,je,ve(je,Ne,Ze).keyhex,Ze);return nt="-----BEGIN "+Ce+` PRIVATE KEY-----\r
`,nt+=`Proc-Type: 4,ENCRYPTED\r
`,nt+="DEK-Info: "+je+","+Ze+`\r
`,nt+=`\r
`,nt+=ct.replace(/(.{64})/g,`$1\r
`),nt+=`\r
-----END `+Ce+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Ce){var ke=Ke,Ne=ke.getChildIdx,je=ke.getV,Ze={},nt=Ne(Ce,0);if(nt.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+nt.length);Ze.ciphertext=je(Ce,nt[1]);var ct=Ne(Ce,nt[0]);if(ct.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+ct.length);if(je(Ce,ct[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var at=Ne(Ce,ct[1]);if(ct.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+at.length);var _e=Ne(Ce,at[1]);if(_e.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+_e.length);if(je(Ce,_e[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ze.encryptionSchemeAlg="TripleDES",Ze.encryptionSchemeIV=je(Ce,_e[1]);var De=Ne(Ce,at[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(je(Ce,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Fe=Ne(Ce,De[1]);if(Fe.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Fe.length);Ze.pbkdf2Salt=je(Ce,Fe[0]);var ze=je(Ce,Fe[1]);try{Ze.pbkdf2Iter=parseInt(ze,16)}catch{throw new Error("malformed format pbkdf2Iter: "+ze)}return Ze},getPBKDF2KeyHexFromParam:function(Ce,ke){var Ne=P.enc.Hex.parse(Ce.pbkdf2Salt),je=Ce.pbkdf2Iter,Ze=P.PBKDF2(ke,Ne,{keySize:6,iterations:je});return P.enc.Hex.stringify(Ze)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Ce,ke){var Ne=At(Ce,"ENCRYPTED PRIVATE KEY"),je=this.parseHexOfEncryptedPKCS8(Ne),Ze=Nt.getPBKDF2KeyHexFromParam(je,ke),nt={};nt.ciphertext=P.enc.Hex.parse(je.ciphertext);var ct=P.enc.Hex.parse(Ze),at=P.enc.Hex.parse(je.encryptionSchemeIV),_e=P.TripleDES.decrypt(nt,ct,{iv:at});return P.enc.Hex.stringify(_e)},getKeyFromEncryptedPKCS8PEM:function(Ce,ke){var Ne=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Ce,ke);return this.getKeyFromPlainPrivatePKCS8Hex(Ne)},parsePlainPrivatePKCS8Hex:function(Ce){var ke=Ke,Ne=ke.getChildIdx,je=ke.getV,Ze={algparam:null};if(Ce.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var nt=Ne(Ce,0);if(nt.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Ce.substr(nt[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var ct=Ne(Ce,nt[1]);if(ct.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Ce.substr(ct[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ze.algoid=je(Ce,ct[0]),Ce.substr(ct[1],2)=="06"&&(Ze.algparam=je(Ce,ct[1])),Ce.substr(nt[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ze.keyidx=ke.getVidx(Ce,nt[2]),Ze},getKeyFromPlainPrivatePKCS8PEM:function(Ce){var ke=At(Ce,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(ke)},getKeyFromPlainPrivatePKCS8Hex:function(Ce){var ke,Ne=this.parsePlainPrivatePKCS8Hex(Ce);if(Ne.algoid=="2a864886f70d010101")ke=new Ye;else if(Ne.algoid=="2a8648ce380401")ke=new J.crypto.DSA;else{if(Ne.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");ke=new J.crypto.ECDSA}return ke.readPKCS8PrvKeyHex(Ce),ke},_getKeyFromPublicPKCS8Hex:function(Ce){var ke,Ne=Ke.getVbyList(Ce,0,[0,0],"06");if(Ne==="2a864886f70d010101")ke=new Ye;else if(Ne==="2a8648ce380401")ke=new J.crypto.DSA;else{if(Ne!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");ke=new J.crypto.ECDSA}return ke.readPKCS8PubKeyHex(Ce),ke},parsePublicRawRSAKeyHex:function(Ce){var ke=Ke,Ne=ke.getChildIdx,je=ke.getV,Ze={};if(Ce.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var nt=Ne(Ce,0);if(nt.length!=2)throw new Error("malformed RSA key(code:002)");if(Ce.substr(nt[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ze.n=je(Ce,nt[0]),Ce.substr(nt[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ze.e=je(Ce,nt[1]),Ze},parsePublicPKCS8Hex:function(Ce){var ke=Ke,Ne=ke.getChildIdx,je=ke.getV,Ze={algparam:null},nt=Ne(Ce,0);if(nt.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+nt.length);var ct=nt[0];if(Ce.substr(ct,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var at=Ne(Ce,ct);if(at.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Ce.substr(at[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ze.algoid=je(Ce,at[0]),Ce.substr(at[1],2)=="06"?Ze.algparam=je(Ce,at[1]):Ce.substr(at[1],2)=="30"&&(Ze.algparam={},Ze.algparam.p=ke.getVbyList(Ce,at[1],[0],"02"),Ze.algparam.q=ke.getVbyList(Ce,at[1],[1],"02"),Ze.algparam.g=ke.getVbyList(Ce,at[1],[2],"02")),Ce.substr(nt[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ze.key=je(Ce,nt[1]).substr(2),Ze}}})();Nt.getKey=function(T,A,O){var N=(at=Ke).getChildIdx,Z=(at.getV,at.getVbyList),he=J.crypto,ve=he.ECDSA,Oe=he.DSA,Se=Ye,Ce=At,ke=Nt;if(Se!==void 0&&T instanceof Se||ve!==void 0&&T instanceof ve||Oe!==void 0&&T instanceof Oe)return T;if(T.curve!==void 0&&T.xy!==void 0&&T.d===void 0)return new ve({pub:T.xy,curve:T.curve});if(T.curve!==void 0&&T.d!==void 0)return new ve({prv:T.d,curve:T.curve});if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Ht=new Se).setPublic(T.n,T.e),Ht;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.co!==void 0&&T.qi===void 0)return(Ht=new Se).setPrivateEx(T.n,T.e,T.d,T.p,T.q,T.dp,T.dq,T.co),Ht;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p===void 0)return(Ht=new Se).setPrivate(T.n,T.e,T.d),Ht;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x===void 0)return(Ht=new Oe).setPublic(T.p,T.q,T.g,T.y),Ht;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x!==void 0)return(Ht=new Oe).setPrivate(T.p,T.q,T.g,T.y,T.x),Ht;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Ht=new Se).setPublic(nn(T.n),nn(T.e)),Ht;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.qi!==void 0)return(Ht=new Se).setPrivateEx(nn(T.n),nn(T.e),nn(T.d),nn(T.p),nn(T.q),nn(T.dp),nn(T.dq),nn(T.qi)),Ht;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0)return(Ht=new Se).setPrivate(nn(T.n),nn(T.e),nn(T.d)),Ht;if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d===void 0){var Ne=(Ft=new ve({curve:T.crv})).ecparams.keylen/4,je="04"+("0000000000"+nn(T.x)).slice(-Ne)+("0000000000"+nn(T.y)).slice(-Ne);return Ft.setPublicKeyHex(je),Ft}if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d!==void 0){Ne=(Ft=new ve({curve:T.crv})).ecparams.keylen/4,je="04"+("0000000000"+nn(T.x)).slice(-Ne)+("0000000000"+nn(T.y)).slice(-Ne);var Ze=("0000000000"+nn(T.d)).slice(-Ne);return Ft.setPublicKeyHex(je),Ft.setPrivateKeyHex(Ze),Ft}if(O==="pkcs5prv"){var nt,ct=T,at=Ke;if((nt=N(ct,0)).length===9)(Ht=new Se).readPKCS5PrvKeyHex(ct);else if(nt.length===6)(Ht=new Oe).readPKCS5PrvKeyHex(ct);else{if(!(nt.length>2&&ct.substr(nt[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Ht=new ve).readPKCS5PrvKeyHex(ct)}return Ht}if(O==="pkcs8prv")return Ht=ke.getKeyFromPlainPrivatePKCS8Hex(T);if(O==="pkcs8pub")return ke._getKeyFromPublicPKCS8Hex(T);if(O==="x509pub")return Gt.getPublicKeyFromCertHex(T);if(T.indexOf("-END CERTIFICATE-",0)!=-1||T.indexOf("-END X509 CERTIFICATE-",0)!=-1||T.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Gt.getPublicKeyFromCertPEM(T);if(T.indexOf("-END PUBLIC KEY-")!=-1){var _e=At(T,"PUBLIC KEY");return ke._getKeyFromPublicPKCS8Hex(_e)}if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var De=Ce(T,"RSA PRIVATE KEY");return ke.getKey(De,null,"pkcs5prv")}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var Fe=Z(Nn=Ce(T,"DSA PRIVATE KEY"),0,[1],"02"),ze=Z(Nn,0,[2],"02"),st=Z(Nn,0,[3],"02"),gt=Z(Nn,0,[4],"02"),$t=Z(Nn,0,[5],"02");return(Ht=new Oe).setPrivate(new z(Fe,16),new z(ze,16),new z(st,16),new z(gt,16),new z($t,16)),Ht}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1)return De=Ce(T,"EC PRIVATE KEY"),ke.getKey(De,null,"pkcs5prv");if(T.indexOf("-END PRIVATE KEY-")!=-1)return ke.getKeyFromPlainPrivatePKCS8PEM(T);if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Tt=ke.getDecryptedKeyHex(T,A),fn=new Ye;return fn.readPKCS5PrvKeyHex(Tt),fn}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Ft,Ht=Z(Nn=ke.getDecryptedKeyHex(T,A),0,[1],"04"),jn=Z(Nn,0,[2,0],"06"),Un=Z(Nn,0,[3,0],"03").substr(2);if(J.crypto.OID.oidhex2name[jn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+jn);return(Ft=new ve({curve:J.crypto.OID.oidhex2name[jn]})).setPublicKeyHex(Un),Ft.setPrivateKeyHex(Ht),Ft.isPublic=!1,Ft}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Nn;return Fe=Z(Nn=ke.getDecryptedKeyHex(T,A),0,[1],"02"),ze=Z(Nn,0,[2],"02"),st=Z(Nn,0,[3],"02"),gt=Z(Nn,0,[4],"02"),$t=Z(Nn,0,[5],"02"),(Ht=new Oe).setPrivate(new z(Fe,16),new z(ze,16),new z(st,16),new z(gt,16),new z($t,16)),Ht}if(T.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return ke.getKeyFromEncryptedPKCS8PEM(T,A);throw new Error("not supported argument")},Nt.generateKeypair=function(T,A){if(T=="RSA"){var O=A;(ve=new Ye).generate(O,"10001"),ve.isPrivate=!0,ve.isPublic=!0;var N=new Ye,Z=ve.n.toString(16),he=ve.e.toString(16);return N.setPublic(Z,he),N.isPrivate=!1,N.isPublic=!0,(Oe={}).prvKeyObj=ve,Oe.pubKeyObj=N,Oe}if(T=="EC"){var ve,Oe,Se=A,Ce=new J.crypto.ECDSA({curve:Se}).generateKeyPairHex();return(ve=new J.crypto.ECDSA({curve:Se})).setPublicKeyHex(Ce.ecpubhex),ve.setPrivateKeyHex(Ce.ecprvhex),ve.isPrivate=!0,ve.isPublic=!1,(N=new J.crypto.ECDSA({curve:Se})).setPublicKeyHex(Ce.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Oe={}).prvKeyObj=ve,Oe.pubKeyObj=N,Oe}throw new Error("unknown algorithm: "+T)},Nt.getPEM=function(T,A,O,N,Z,he){var ve=J,Oe=ve.asn1,Se=Oe.DERObjectIdentifier,Ce=Oe.DERInteger,ke=Oe.ASN1Util.newObject,Ne=Oe.x509.SubjectPublicKeyInfo,je=ve.crypto,Ze=je.DSA,nt=je.ECDSA,ct=Ye;function at(Ft){return ke({seq:[{int:0},{int:{bigint:Ft.n}},{int:Ft.e},{int:{bigint:Ft.d}},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.dmp1}},{int:{bigint:Ft.dmq1}},{int:{bigint:Ft.coeff}}]})}function _e(Ft){return ke({seq:[{int:1},{octstr:{hex:Ft.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ft.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ft.pubKeyHex}}]}]})}function De(Ft){return ke({seq:[{int:0},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.g}},{int:{bigint:Ft.y}},{int:{bigint:Ft.x}}]})}if((ct!==void 0&&T instanceof ct||Ze!==void 0&&T instanceof Ze||nt!==void 0&&T instanceof nt)&&T.isPublic==1&&(A===void 0||A=="PKCS8PUB"))return Ct(gt=new Ne(T).getEncodedHex(),"PUBLIC KEY");if(A=="PKCS1PRV"&&ct!==void 0&&T instanceof ct&&(O===void 0||O==null)&&T.isPrivate==1)return Ct(gt=at(T).getEncodedHex(),"RSA PRIVATE KEY");if(A=="PKCS1PRV"&&nt!==void 0&&T instanceof nt&&(O===void 0||O==null)&&T.isPrivate==1){var Fe=new Se({name:T.curveName}).getEncodedHex(),ze=_e(T).getEncodedHex(),st="";return st+=Ct(Fe,"EC PARAMETERS"),st+=Ct(ze,"EC PRIVATE KEY")}if(A=="PKCS1PRV"&&Ze!==void 0&&T instanceof Ze&&(O===void 0||O==null)&&T.isPrivate==1)return Ct(gt=De(T).getEncodedHex(),"DSA PRIVATE KEY");if(A=="PKCS5PRV"&&ct!==void 0&&T instanceof ct&&O!==void 0&&O!=null&&T.isPrivate==1){var gt=at(T).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",gt,O,N,he)}if(A=="PKCS5PRV"&&nt!==void 0&&T instanceof nt&&O!==void 0&&O!=null&&T.isPrivate==1)return gt=_e(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",gt,O,N,he);if(A=="PKCS5PRV"&&Ze!==void 0&&T instanceof Ze&&O!==void 0&&O!=null&&T.isPrivate==1)return gt=De(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",gt,O,N,he);var $t=function(Ht,jn){var Un=Tt(Ht,jn);return new ke({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Un.pbkdf2Salt}},{int:Un.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Un.encryptionSchemeIV}}]}]}]},{octstr:{hex:Un.ciphertext}}]}).getEncodedHex()},Tt=function(Ht,jn){var Un=P.lib.WordArray.random(8),Nn=P.lib.WordArray.random(8),Kt=P.PBKDF2(jn,Un,{keySize:6,iterations:100}),Qn=P.enc.Hex.parse(Ht),ln=P.TripleDES.encrypt(Qn,Kt,{iv:Nn})+"",mr={};return mr.ciphertext=ln,mr.pbkdf2Salt=P.enc.Hex.stringify(Un),mr.pbkdf2Iter=100,mr.encryptionSchemeAlg="DES-EDE3-CBC",mr.encryptionSchemeIV=P.enc.Hex.stringify(Nn),mr};if(A=="PKCS8PRV"&&ct!=null&&T instanceof ct&&T.isPrivate==1){var fn=at(T).getEncodedHex();return gt=ke({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:fn}}]}).getEncodedHex(),O===void 0||O==null?Ct(gt,"PRIVATE KEY"):Ct(ze=$t(gt,O),"ENCRYPTED PRIVATE KEY")}if(A=="PKCS8PRV"&&nt!==void 0&&T instanceof nt&&T.isPrivate==1)return fn=new ke({seq:[{int:1},{octstr:{hex:T.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+T.pubKeyHex}}]}]}).getEncodedHex(),gt=ke({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:T.curveName}}]},{octstr:{hex:fn}}]}).getEncodedHex(),O===void 0||O==null?Ct(gt,"PRIVATE KEY"):Ct(ze=$t(gt,O),"ENCRYPTED PRIVATE KEY");if(A=="PKCS8PRV"&&Ze!==void 0&&T instanceof Ze&&T.isPrivate==1)return fn=new Ce({bigint:T.x}).getEncodedHex(),gt=ke({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:T.p}},{int:{bigint:T.q}},{int:{bigint:T.g}}]}]},{octstr:{hex:fn}}]}).getEncodedHex(),O===void 0||O==null?Ct(gt,"PRIVATE KEY"):Ct(ze=$t(gt,O),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},Nt.getKeyFromCSRPEM=function(T){var A=At(T,"CERTIFICATE REQUEST");return Nt.getKeyFromCSRHex(A)},Nt.getKeyFromCSRHex=function(T){var A=Nt.parseCSRHex(T);return Nt.getKey(A.p8pubkeyhex,null,"pkcs8pub")},Nt.parseCSRHex=function(T){var A=Ke,O=A.getChildIdx,N=A.getTLV,Z={},he=T;if(he.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var ve=O(he,0);if(ve.length<1)throw new Error("malformed CSR(code:002)");if(he.substr(ve[0],2)!="30")throw new Error("malformed CSR(code:003)");var Oe=O(he,ve[0]);if(Oe.length<3)throw new Error("malformed CSR(code:004)");return Z.p8pubkeyhex=N(he,Oe[2]),Z},Nt.getKeyID=function(T){var A=Nt,O=Ke;typeof T=="string"&&T.indexOf("BEGIN ")!=-1&&(T=A.getKey(T));var N=At(A.getPEM(T)),Z=O.getIdxbyList(N,0,[1]),he=O.getV(N,Z).substring(2);return J.crypto.Util.hashHex(he,"sha1")},Nt.getJWKFromKey=function(T){var A={};if(T instanceof Ye&&T.isPrivate)return A.kty="RSA",A.n=Tn(T.n.toString(16)),A.e=Tn(T.e.toString(16)),A.d=Tn(T.d.toString(16)),A.p=Tn(T.p.toString(16)),A.q=Tn(T.q.toString(16)),A.dp=Tn(T.dmp1.toString(16)),A.dq=Tn(T.dmq1.toString(16)),A.qi=Tn(T.coeff.toString(16)),A;if(T instanceof Ye&&T.isPublic)return A.kty="RSA",A.n=Tn(T.n.toString(16)),A.e=Tn(T.e.toString(16)),A;if(T instanceof J.crypto.ECDSA&&T.isPrivate){if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var O=T.getPublicKeyXYHex();return A.kty="EC",A.crv=N,A.x=Tn(O.x),A.y=Tn(O.y),A.d=Tn(T.prvKeyHex),A}if(T instanceof J.crypto.ECDSA&&T.isPublic){var N;if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return O=T.getPublicKeyXYHex(),A.kty="EC",A.crv=N,A.x=Tn(O.x),A.y=Tn(O.y),A}throw new Error("not supported key object")},Ye.getPosArrayOfChildrenFromHex=function(T){return Ke.getChildIdx(T,0)},Ye.getHexValueArrayOfChildrenFromHex=function(T){var A,O=Ke.getV,N=O(T,(A=Ye.getPosArrayOfChildrenFromHex(T))[0]),Z=O(T,A[1]),he=O(T,A[2]),ve=O(T,A[3]),Oe=O(T,A[4]),Se=O(T,A[5]),Ce=O(T,A[6]),ke=O(T,A[7]),Ne=O(T,A[8]);return(A=new Array).push(N,Z,he,ve,Oe,Se,Ce,ke,Ne),A},Ye.prototype.readPrivateKeyFromPEMString=function(T){var A=At(T),O=Ye.getHexValueArrayOfChildrenFromHex(A);this.setPrivateEx(O[1],O[2],O[3],O[4],O[5],O[6],O[7],O[8])},Ye.prototype.readPKCS5PrvKeyHex=function(T){var A=Ye.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8])},Ye.prototype.readPKCS8PrvKeyHex=function(T){var A,O,N,Z,he,ve,Oe,Se,Ce=Ke,ke=Ce.getVbyListEx;if(Ce.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");try{A=ke(T,0,[2,0,1],"02"),O=ke(T,0,[2,0,2],"02"),N=ke(T,0,[2,0,3],"02"),Z=ke(T,0,[2,0,4],"02"),he=ke(T,0,[2,0,5],"02"),ve=ke(T,0,[2,0,6],"02"),Oe=ke(T,0,[2,0,7],"02"),Se=ke(T,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(A,O,N,Z,he,ve,Oe,Se)},Ye.prototype.readPKCS5PubKeyHex=function(T){var A=Ke,O=A.getV;if(A.isASN1HEX(T)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=A.getChildIdx(T,0);if(N.length!==2||T.substr(N[0],2)!=="02"||T.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var Z=O(T,N[0]),he=O(T,N[1]);this.setPublic(Z,he)},Ye.prototype.readPKCS8PubKeyHex=function(T){var A=Ke;if(A.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");if(A.getTLVbyListEx(T,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var O=A.getTLVbyListEx(T,0,[1,0]);this.readPKCS5PubKeyHex(O)},Ye.prototype.readCertPubKeyHex=function(T,A){var O,N;(O=new Gt).readCertHex(T),N=O.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function Jt(T,A){for(var O="",N=A/4-T.length,Z=0;Z<N;Z++)O+="0";return O+T}function cn(T,A,O){for(var N="",Z=0;N.length<A;)N+=fr(O(dr(T+String.fromCharCode.apply(String,[(4278190080&Z)>>24,(16711680&Z)>>16,(65280&Z)>>8,255&Z])))),Z+=1;return N}function An(T){for(var A in J.crypto.Util.DIGESTINFOHEAD){var O=J.crypto.Util.DIGESTINFOHEAD[A],N=O.length;if(T.substring(0,N)==O)return[A,T.substring(N)]}return[]}function Gt(T){var A,O=Ke,N=O.getChildIdx,Z=O.getV,he=O.getTLV,ve=O.getVbyList,Oe=O.getVbyListEx,Se=O.getTLVbyList,Ce=O.getTLVbyListEx,ke=O.getIdxbyList,Ne=O.getIdxbyListEx,je=O.getVidx,Ze=O.getInt,nt=O.oidname,ct=O.hextooidstr,at=At;try{A=J.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var _e=Se(this.hex,0,[0,0]);if(_e.substr(0,2)=="a0"){var De=Se(_e,0,[0]),Fe=Ze(De,0);if(Fe<0||2<Fe)throw new Error("malformed version field");return this.version=Fe+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Oe(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var _e=Ce(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(_e)},this.getAlgorithmIdentifierName=function(_e){for(var De in A)if(_e===A[De])return De;return nt(Oe(_e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return Se(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return Se(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var _e=ve(this.hex,0,[0,4+this.foffset,0]);return _e=_e.replace(/(..)/g,"%$1"),_e=decodeURIComponent(_e)},this.getNotAfter=function(){var _e=ve(this.hex,0,[0,4+this.foffset,1]);return _e=_e.replace(/(..)/g,"%$1"),_e=decodeURIComponent(_e)},this.getPublicKeyHex=function(){return O.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return ke(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var _e=this.getPublicKeyIdx();return ke(this.hex,_e,[1,0],"30")},this.getPublicKey=function(){return Nt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var _e=Se(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(_e)},this.getSignatureValueHex=function(){return ve(this.hex,0,[2],"03",!0)},this.verifySignature=function(_e){var De=this.getSignatureAlgorithmField(),Fe=this.getSignatureValueHex(),ze=Se(this.hex,0,[0],"30"),st=new J.crypto.Signature({alg:De});return st.init(_e),st.updateHex(ze),st.verify(Fe)},this.parseExt=function(_e){var De,Fe,ze;if(_e===void 0){if(ze=this.hex,this.version!==3)return-1;De=ke(ze,0,[0,7,0],"30"),Fe=N(ze,De)}else{ze=At(_e);var st=ke(ze,0,[0,3,0,0],"06");if(Z(ze,st)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=ke(ze,0,[0,3,0,1,0],"30"),Fe=N(ze,De),this.hex=ze}this.aExtInfo=new Array;for(var gt=0;gt<Fe.length;gt++){var $t={critical:!1},Tt=0;N(ze,Fe[gt]).length===3&&($t.critical=!0,Tt=1),$t.oid=O.hextooidstr(ve(ze,Fe[gt],[0],"06"));var fn=ke(ze,Fe[gt],[1+Tt]);$t.vidx=je(ze,fn),this.aExtInfo.push($t)}},this.getExtInfo=function(_e){var De=this.aExtInfo,Fe=_e;if(_e.match(/^[0-9.]+$/)||(Fe=J.asn1.x509.OID.name2oid(_e)),Fe!==""){for(var ze=0;ze<De.length;ze++)if(De[ze].oid===Fe)return De[ze]}},this.getExtBasicConstraints=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("basicConstraints");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"basicConstraints"};if(De&&(ze.critical=!0),_e==="3000")return ze;if(_e==="30030101ff")return ze.cA=!0,ze;if(_e.substr(0,12)==="30060101ff02"){var st=Z(_e,10),gt=parseInt(st,16);return ze.cA=!0,ze.pathLen=gt,ze}throw new Error("hExtV parse error: "+_e)},this.getExtKeyUsage=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("keyUsage");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"keyUsage"};return De&&(ze.critical=!0),ze.names=this.getExtKeyUsageString(_e).split(","),ze},this.getExtKeyUsageBin=function(_e){if(_e===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";_e=he(this.hex,De.vidx)}if(_e.length!=8&&_e.length!=10)throw new Error("malformed key usage value: "+_e);var Fe="000000000000000"+parseInt(_e.substr(6),16).toString(2);return _e.length==8&&(Fe=Fe.slice(-8)),_e.length==10&&(Fe=Fe.slice(-16)),(Fe=Fe.replace(/0+$/,""))==""&&(Fe="0"),Fe},this.getExtKeyUsageString=function(_e){for(var De=this.getExtKeyUsageBin(_e),Fe=new Array,ze=0;ze<De.length;ze++)De.substr(ze,1)=="1"&&Fe.push(Gt.KEYUSAGE_NAME[ze]);return Fe.join(",")},this.getExtSubjectKeyIdentifier=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("subjectKeyIdentifier");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"subjectKeyIdentifier"};De&&(ze.critical=!0);var st=Z(_e,0);return ze.kid={hex:st},ze},this.getExtAuthorityKeyIdentifier=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("authorityKeyIdentifier");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"authorityKeyIdentifier"};De&&(ze.critical=!0);for(var st=N(_e,0),gt=0;gt<st.length;gt++){var $t=_e.substr(st[gt],2);if($t==="80"&&(ze.kid={hex:Z(_e,st[gt])}),$t==="a1"){var Tt=he(_e,st[gt]),fn=this.getGeneralNames(Tt);ze.issuer=fn[0].dn}$t==="82"&&(ze.sn={hex:Z(_e,st[gt])})}return ze},this.getExtExtKeyUsage=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("extKeyUsage");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"extKeyUsage",array:[]};De&&(ze.critical=!0);for(var st=N(_e,0),gt=0;gt<st.length;gt++)ze.array.push(nt(Z(_e,st[gt])));return ze},this.getExtExtKeyUsageName=function(){var _e=this.getExtInfo("extKeyUsage");if(_e===void 0)return _e;var De=new Array,Fe=he(this.hex,_e.vidx);if(Fe==="")return De;for(var ze=N(Fe,0),st=0;st<ze.length;st++)De.push(nt(Z(Fe,ze[st])));return De},this.getExtSubjectAltName=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("subjectAltName");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"subjectAltName",array:[]};return De&&(ze.critical=!0),ze.array=this.getGeneralNames(_e),ze},this.getExtIssuerAltName=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("issuerAltName");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"issuerAltName",array:[]};return De&&(ze.critical=!0),ze.array=this.getGeneralNames(_e),ze},this.getGeneralNames=function(_e){for(var De=N(_e,0),Fe=[],ze=0;ze<De.length;ze++){var st=this.getGeneralName(he(_e,De[ze]));st!==void 0&&Fe.push(st)}return Fe},this.getGeneralName=function(_e){var De=_e.substr(0,2),Fe=Z(_e,0),ze=fr(Fe);return De=="81"?{rfc822:ze}:De=="82"?{dns:ze}:De=="86"?{uri:ze}:De=="87"?{ip:qt(Fe)}:De=="a4"?{dn:this.getX500Name(Fe)}:void 0},this.getExtSubjectAltName2=function(){var _e,De,Fe,ze=this.getExtInfo("subjectAltName");if(ze===void 0)return ze;for(var st=new Array,gt=he(this.hex,ze.vidx),$t=N(gt,0),Tt=0;Tt<$t.length;Tt++)Fe=gt.substr($t[Tt],2),_e=Z(gt,$t[Tt]),Fe==="81"&&(De=un(_e),st.push(["MAIL",De])),Fe==="82"&&(De=un(_e),st.push(["DNS",De])),Fe==="84"&&(De=Gt.hex2dn(_e,0),st.push(["DN",De])),Fe==="86"&&(De=un(_e),st.push(["URI",De])),Fe==="87"&&(De=qt(_e),st.push(["IP",De]));return st},this.getExtCRLDistributionPoints=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("cRLDistributionPoints");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"cRLDistributionPoints",array:[]};De&&(ze.critical=!0);for(var st=N(_e,0),gt=0;gt<st.length;gt++){var $t=he(_e,st[gt]);ze.array.push(this.getDistributionPoint($t))}return ze},this.getDistributionPoint=function(_e){for(var De={},Fe=N(_e,0),ze=0;ze<Fe.length;ze++){var st=_e.substr(Fe[ze],2),gt=he(_e,Fe[ze]);st=="a0"&&(De.dpname=this.getDistributionPointName(gt))}return De},this.getDistributionPointName=function(_e){for(var De={},Fe=N(_e,0),ze=0;ze<Fe.length;ze++){var st=_e.substr(Fe[ze],2),gt=he(_e,Fe[ze]);st=="a0"&&(De.full=this.getGeneralNames(gt))}return De},this.getExtCRLDistributionPointsURI=function(){var _e=this.getExtInfo("cRLDistributionPoints");if(_e===void 0)return _e;for(var De=new Array,Fe=N(this.hex,_e.vidx),ze=0;ze<Fe.length;ze++)try{var st=un(ve(this.hex,Fe[ze],[0,0,0],"86"));De.push(st)}catch{}return De},this.getExtAIAInfo=function(){var _e=this.getExtInfo("authorityInfoAccess");if(_e===void 0)return _e;for(var De={ocsp:[],caissuer:[]},Fe=N(this.hex,_e.vidx),ze=0;ze<Fe.length;ze++){var st=ve(this.hex,Fe[ze],[0],"06"),gt=ve(this.hex,Fe[ze],[1],"86");st==="2b06010505073001"&&De.ocsp.push(un(gt)),st==="2b06010505073002"&&De.caissuer.push(un(gt))}return De},this.getExtAuthorityInfoAccess=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("authorityInfoAccess");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"authorityInfoAccess",array:[]};De&&(ze.critical=!0);for(var st=N(_e,0),gt=0;gt<st.length;gt++){var $t=Oe(_e,st[gt],[0],"06"),Tt=un(ve(_e,st[gt],[1],"86"));if($t=="2b06010505073001")ze.array.push({ocsp:Tt});else{if($t!="2b06010505073002")throw new Error("unknown method: "+$t);ze.array.push({caissuer:Tt})}}return ze},this.getExtCertificatePolicies=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("certificatePolicies");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"certificatePolicies",array:[]};De&&(ze.critical=!0);for(var st=N(_e,0),gt=0;gt<st.length;gt++){var $t=he(_e,st[gt]),Tt=this.getPolicyInformation($t);ze.array.push(Tt)}return ze},this.getPolicyInformation=function(_e){var De={},Fe=ve(_e,0,[0],"06");De.policyoid=nt(Fe);var ze=Ne(_e,0,[1],"30");if(ze!=-1){De.array=[];for(var st=N(_e,ze),gt=0;gt<st.length;gt++){var $t=he(_e,st[gt]),Tt=this.getPolicyQualifierInfo($t);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(_e){var De={},Fe=ve(_e,0,[0],"06");if(Fe==="2b06010505070201"){var ze=Oe(_e,0,[1],"16");De.cps=fr(ze)}else if(Fe==="2b06010505070202"){var st=Se(_e,0,[1],"30");De.unotice=this.getUserNotice(st)}return De},this.getUserNotice=function(_e){for(var De={},Fe=N(_e,0),ze=0;ze<Fe.length;ze++){var st=he(_e,Fe[ze]);st.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(st))}return De},this.getDisplayText=function(_e){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[_e.substr(0,2)],De.str=fr(Z(_e,0)),De},this.getExtCRLNumber=function(_e,De){var Fe={extname:"cRLNumber"};if(De&&(Fe.critical=!0),_e.substr(0,2)=="02")return Fe.num={hex:Z(_e,0)},Fe;throw new Error("hExtV parse error: "+_e)},this.getExtCRLReason=function(_e,De){var Fe={extname:"cRLReason"};if(De&&(Fe.critical=!0),_e.substr(0,2)=="0a")return Fe.code=parseInt(Z(_e,0),16),Fe;throw new Error("hExtV parse error: "+_e)},this.getExtOcspNonce=function(_e,De){var Fe={extname:"ocspNonce"};De&&(Fe.critical=!0);var ze=Z(_e,0);return Fe.hex=ze,Fe},this.getExtOcspNoCheck=function(_e,De){var Fe={extname:"ocspNoCheck"};return De&&(Fe.critical=!0),Fe},this.getExtAdobeTimeStamp=function(_e,De){if(_e===void 0&&De===void 0){var Fe=this.getExtInfo("adobeTimeStamp");if(Fe===void 0)return;_e=he(this.hex,Fe.vidx),De=Fe.critical}var ze={extname:"adobeTimeStamp"};De&&(ze.critical=!0);var st=N(_e,0);if(st.length>1){var gt=he(_e,st[1]),$t=this.getGeneralName(gt);$t.uri!=null&&(ze.uri=$t.uri)}if(st.length>2){var Tt=he(_e,st[2]);Tt=="0101ff"&&(ze.reqauth=!0),Tt=="010100"&&(ze.reqauth=!1)}return ze},this.getX500NameRule=function(_e){for(var De=null,Fe=[],ze=0;ze<_e.length;ze++)for(var st=_e[ze],gt=0;gt<st.length;gt++)Fe.push(st[gt]);for(ze=0;ze<Fe.length;ze++){var $t=Fe[ze],Tt=$t.ds,fn=$t.value,Ft=$t.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(Ft!="CN")return"mixed";if(J.lang.String.isMail(fn))continue;return"mixed"}if(Ft=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(_e){var De=this.getX500NameArray(_e);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(_e){for(var De=[],Fe=N(_e,0),ze=0;ze<Fe.length;ze++)De.push(this.getRDN(he(_e,Fe[ze])));return De},this.getRDN=function(_e){for(var De=[],Fe=N(_e,0),ze=0;ze<Fe.length;ze++)De.push(this.getAttrTypeAndValue(he(_e,Fe[ze])));return De},this.getAttrTypeAndValue=function(_e){var De={type:null,value:null,ds:null},Fe=N(_e,0),ze=ve(_e,Fe[0],[],"06"),st=ve(_e,Fe[1],[]),gt=J.asn1.ASN1Util.oidHexToInt(ze);return De.type=J.asn1.x509.OID.oid2atype(gt),De.ds=this.HEX2STAG[_e.substr(Fe[1],2)],De.ds!="bmp"?De.value=un(st):De.value=jt(st),De},this.readCertPEM=function(_e){this.readCertHex(at(_e))},this.readCertHex=function(_e){this.hex=_e,this.getVersion();try{ke(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var _e={};return _e.version=this.getVersion(),_e.serial={hex:this.getSerialNumberHex()},_e.sigalg=this.getSignatureAlgorithmField(),_e.issuer=this.getIssuer(),_e.notbefore=this.getNotBefore(),_e.notafter=this.getNotAfter(),_e.subject=this.getSubject(),_e.sbjpubkey=Ct(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(_e.ext=this.getExtParamArray()),_e.sighex=this.getSignatureValueHex(),_e},this.getExtParamArray=function(_e){_e==null&&Ne(this.hex,0,[0,"[3]"])!=-1&&(_e=Ce(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Fe=N(_e,0),ze=0;ze<Fe.length;ze++){var st=he(_e,Fe[ze]),gt=this.getExtParam(st);gt!=null&&De.push(gt)}return De},this.getExtParam=function(_e){var De=N(_e,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+_e);var Fe=ct(ve(_e,0,[0],"06")),ze=!1;De==3&&Se(_e,0,[1])=="0101ff"&&(ze=!0);var st=Se(_e,0,[De-1,0]),gt=void 0;if(Fe=="2.5.29.14"?gt=this.getExtSubjectKeyIdentifier(st,ze):Fe=="2.5.29.15"?gt=this.getExtKeyUsage(st,ze):Fe=="2.5.29.17"?gt=this.getExtSubjectAltName(st,ze):Fe=="2.5.29.18"?gt=this.getExtIssuerAltName(st,ze):Fe=="2.5.29.19"?gt=this.getExtBasicConstraints(st,ze):Fe=="2.5.29.31"?gt=this.getExtCRLDistributionPoints(st,ze):Fe=="2.5.29.32"?gt=this.getExtCertificatePolicies(st,ze):Fe=="2.5.29.35"?gt=this.getExtAuthorityKeyIdentifier(st,ze):Fe=="2.5.29.37"?gt=this.getExtExtKeyUsage(st,ze):Fe=="1.3.6.1.5.5.7.1.1"?gt=this.getExtAuthorityInfoAccess(st,ze):Fe=="2.5.29.20"?gt=this.getExtCRLNumber(st,ze):Fe=="2.5.29.21"?gt=this.getExtCRLReason(st,ze):Fe=="1.3.6.1.5.5.7.48.1.2"?gt=this.getExtOcspNonce(st,ze):Fe=="1.3.6.1.5.5.7.48.1.5"?gt=this.getExtOcspNoCheck(st,ze):Fe=="1.2.840.113583.1.1.9.1"&&(gt=this.getExtAdobeTimeStamp(st,ze)),gt!=null)return gt;var $t={extname:Fe,extn:st};return ze&&($t.critical=!0),$t},this.findExt=function(_e,De){for(var Fe=0;Fe<_e.length;Fe++)if(_e[Fe].extname==De)return _e[Fe];return null},this.updateExtCDPFullURI=function(_e,De){var Fe=this.findExt(_e,"cRLDistributionPoints");if(Fe!=null&&Fe.array!=null){for(var ze=Fe.array,st=0;st<ze.length;st++)if(ze[st].dpname!=null&&ze[st].dpname.full!=null)for(var gt=ze[st].dpname.full,$t=0;$t<gt.length;$t++){var Tt=gt[st];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(_e,De){var Fe=this.findExt(_e,"authorityInfoAccess");if(Fe!=null&&Fe.array!=null)for(var ze=Fe.array,st=0;st<ze.length;st++)ze[st].ocsp!=null&&(ze[st].ocsp=De)},this.updateExtAIACAIssuer=function(_e,De){var Fe=this.findExt(_e,"authorityInfoAccess");if(Fe!=null&&Fe.array!=null)for(var ze=Fe.array,st=0;st<ze.length;st++)ze[st].caissuer!=null&&(ze[st].caissuer=De)},this.dnarraytostr=function(_e){return"/"+_e.map((function(De){return(function(ze){return ze.map((function(st){return(function($t){return $t.type+"="+$t.value})(st).replace(/\+/,"\\+")})).join("+")})(De).replace(/\//,"\\/")})).join("/")},this.getInfo=function(){var _e,De,Fe,ze=function(Kt){return JSON.stringify(Kt.array).replace(/[\[\]\{\}\"]/g,"")},st=function(Kt){for(var Qn="",ln=Kt.array,mr=0;mr<ln.length;mr++){var er=ln[mr];if(Qn+="    policy oid: "+er.policyoid+`
`,er.array!==void 0)for(var Vn=0;Vn<er.array.length;Vn++){var Rr=er.array[Vn];Rr.cps!==void 0&&(Qn+="    cps: "+Rr.cps+`
`)}}return Qn},gt=function(Kt){for(var Qn="",ln=Kt.array,mr=0;mr<ln.length;mr++){var er=ln[mr];try{er.dpname.full[0].uri!==void 0&&(Qn+="    "+er.dpname.full[0].uri+`
`)}catch{}try{er.dname.full[0].dn.hex!==void 0&&(Qn+="    "+Gt.hex2dn(er.dpname.full[0].dn.hex)+`
`)}catch{}}return Qn},$t=function(Kt){for(var Qn="",ln=Kt.array,mr=0;mr<ln.length;mr++){var er=ln[mr];er.caissuer!==void 0&&(Qn+="    caissuer: "+er.caissuer+`
`),er.ocsp!==void 0&&(Qn+="    ocsp: "+er.ocsp+`
`)}return Qn};if(_e=`Basic Fields
`,_e+="  serial number: "+this.getSerialNumberHex()+`
`,_e+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,_e+="  issuer: "+this.getIssuerString()+`
`,_e+="  notBefore: "+this.getNotBefore()+`
`,_e+="  notAfter: "+this.getNotAfter()+`
`,_e+="  subject: "+this.getSubjectString()+`
`,_e+=`  subject public key info: 
`,_e+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(_e+="    n="+Bt(De.n.toString(16)).substr(0,16)+`...
`,_e+="    e="+Bt(De.e.toString(16))+`
`),(Fe=this.aExtInfo)!=null){_e+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Fe.length;Tt++){var fn=Fe[Tt],Ft=J.asn1.x509.OID.oid2name(fn.oid);Ft===""&&(Ft=fn.oid);var Ht="";if(fn.critical===!0&&(Ht="CRITICAL"),_e+="  "+Ft+" "+Ht+`:
`,Ft==="basicConstraints"){var jn=this.getExtBasicConstraints();jn.cA===void 0?_e+=`    {}
`:(_e+="    cA=true",jn.pathLen!==void 0&&(_e+=", pathLen="+jn.pathLen),_e+=`
`)}else if(Ft==="keyUsage")_e+="    "+this.getExtKeyUsageString()+`
`;else if(Ft==="subjectKeyIdentifier")_e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ft==="authorityKeyIdentifier"){var Un=this.getExtAuthorityKeyIdentifier();Un.kid!==void 0&&(_e+="    kid="+Un.kid.hex+`
`)}else Ft==="extKeyUsage"?_e+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ft==="subjectAltName"?_e+="    "+ze(this.getExtSubjectAltName())+`
`:Ft==="cRLDistributionPoints"?_e+=gt(this.getExtCRLDistributionPoints()):Ft==="authorityInfoAccess"?_e+=$t(this.getExtAuthorityInfoAccess()):Ft==="certificatePolicies"&&(_e+=st(this.getExtCertificatePolicies()))}}return _e+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,_e+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof T=="string"&&(T.indexOf("-----BEGIN")!=-1?this.readCertPEM(T):J.lang.String.isHex(T)&&this.readCertHex(T))}Ye.prototype.sign=function(T,A){var O=(function(Z){return J.crypto.Util.hashString(Z,A)})(T);return this.signWithMessageHash(O,A)},Ye.prototype.signWithMessageHash=function(T,A){var O=tt(J.crypto.Util.getPaddedDigestInfoHex(T,A,this.n.bitLength()),16);return Jt(this.doPrivate(O).toString(16),this.n.bitLength())},Ye.prototype.signPSS=function(T,A,O){var N=(function(he){return J.crypto.Util.hashHex(he,A)})(dr(T));return O===void 0&&(O=-1),this.signWithMessageHashPSS(N,A,O)},Ye.prototype.signWithMessageHashPSS=function(T,A,O){var N,Z=fr(T),he=Z.length,ve=this.n.bitLength()-1,Oe=Math.ceil(ve/8),Se=function(_e){return J.crypto.Util.hashHex(_e,A)};if(O===-1||O===void 0)O=he;else if(O===-2)O=Oe-he-2;else if(O<-2)throw new Error("invalid salt length");if(Oe<he+O+2)throw new Error("data too long");var Ce="";O>0&&(Ce=new Array(O),new Me().nextBytes(Ce),Ce=String.fromCharCode.apply(String,Ce));var ke=fr(Se(dr("\0\0\0\0\0\0\0\0"+Z+Ce))),Ne=[];for(N=0;N<Oe-O-he-2;N+=1)Ne[N]=0;var je=String.fromCharCode.apply(String,Ne)+""+Ce,Ze=cn(ke,je.length,Se),nt=[];for(N=0;N<je.length;N+=1)nt[N]=je.charCodeAt(N)^Ze.charCodeAt(N);var ct=65280>>8*Oe-ve&255;for(nt[0]&=~ct,N=0;N<he;N++)nt.push(ke.charCodeAt(N));return nt.push(188),Jt(this.doPrivate(new z(nt)).toString(16),this.n.bitLength())},Ye.prototype.verify=function(T,A){if((A=A.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var O=tt(A,16),N=this.n.bitLength();if(O.bitLength()>N)return!1;var Z=this.doPublic(O).toString(16);if(Z.length+3!=N/4)return!1;var he=An(Z.replace(/^1f+00/,""));if(he.length==0)return!1;var ve=he[0];return he[1]==(function(Se){return J.crypto.Util.hashString(Se,ve)})(T)},Ye.prototype.verifyWithMessageHash=function(T,A){if(A.length!=Math.ceil(this.n.bitLength()/4))return!1;var O=tt(A,16);if(O.bitLength()>this.n.bitLength())return 0;var N=An(this.doPublic(O).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==T)},Ye.prototype.verifyPSS=function(T,A,O,N){var Z=(function(ve){return J.crypto.Util.hashHex(ve,O)})(dr(T));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(Z,A,O,N)},Ye.prototype.verifyWithMessageHashPSS=function(T,A,O,N){if(A.length!=Math.ceil(this.n.bitLength()/4))return!1;var Z,he=new z(A,16),ve=function(Fe){return J.crypto.Util.hashHex(Fe,O)},Oe=fr(T),Se=Oe.length,Ce=this.n.bitLength()-1,ke=Math.ceil(Ce/8);if(N===-1||N===void 0)N=Se;else if(N===-2)N=ke-Se-2;else if(N<-2)throw new Error("invalid salt length");if(ke<Se+N+2)throw new Error("data too long");var Ne=this.doPublic(he).toByteArray();for(Z=0;Z<Ne.length;Z+=1)Ne[Z]&=255;for(;Ne.length<ke;)Ne.unshift(0);if(Ne[ke-1]!==188)throw new Error("encoded message does not end in 0xbc");var je=(Ne=String.fromCharCode.apply(String,Ne)).substr(0,ke-Se-1),Ze=Ne.substr(je.length,Se),nt=65280>>8*ke-Ce&255;if((je.charCodeAt(0)&nt)!=0)throw new Error("bits beyond keysize not zero");var ct=cn(Ze,je.length,ve),at=[];for(Z=0;Z<je.length;Z+=1)at[Z]=je.charCodeAt(Z)^ct.charCodeAt(Z);at[0]&=~nt;var _e=ke-Se-N-2;for(Z=0;Z<_e;Z+=1)if(at[Z]!==0)throw new Error("leftmost octets not zero");if(at[_e]!==1)throw new Error("0x01 marker not found");return Ze===fr(ve(dr("\0\0\0\0\0\0\0\0"+Oe+String.fromCharCode.apply(String,at.slice(-N)))))},Ye.SALT_LEN_HLEN=-1,Ye.SALT_LEN_MAX=-2,Ye.SALT_LEN_RECOVER=-2,Gt.hex2dn=function(T,A){A===void 0&&(A=0);var O=new Gt;return Ke.getTLV(T,A),O.getX500Name(T).str},Gt.hex2rdn=function(T,A){if(A===void 0&&(A=0),T.substr(A,2)!=="31")throw new Error("malformed RDN");for(var O=new Array,N=Ke.getChildIdx(T,A),Z=0;Z<N.length;Z++)O.push(Gt.hex2attrTypeValue(T,N[Z]));return(O=O.map((function(he){return he.replace("+","\\+")}))).join("+")},Gt.hex2attrTypeValue=function(T,A){var O=Ke,N=O.getV;if(A===void 0&&(A=0),T.substr(A,2)!=="30")throw new Error("malformed attribute type and value");var Z=O.getChildIdx(T,A);Z.length!==2||T.substr(Z[0],2);var he=N(T,Z[0]),ve=J.asn1.ASN1Util.oidHexToInt(he);return J.asn1.x509.OID.oid2atype(ve)+"="+fr(N(T,Z[1]))},Gt.getPublicKeyFromCertHex=function(T){var A=new Gt;return A.readCertHex(T),A.getPublicKey()},Gt.getPublicKeyFromCertPEM=function(T){var A=new Gt;return A.readCertPEM(T),A.getPublicKey()},Gt.getPublicKeyInfoPropOfCertPEM=function(T){var A,O,N=Ke.getVbyList,Z={};return Z.algparam=null,(A=new Gt).readCertPEM(T),O=A.getPublicKeyHex(),Z.keyhex=N(O,0,[1],"03").substr(2),Z.algoid=N(O,0,[0,0],"06"),Z.algoid==="2a8648ce3d0201"&&(Z.algparam=N(O,0,[0,1],"06")),Z},Gt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],J!==void 0&&J||(r.KJUR=J={}),J.jws!==void 0&&J.jws||(J.jws={}),J.jws.JWS=function(){var T=J.jws.JWS.isSafeJSONString;this.parseJWS=function(A,O){if(this.parsedJWS===void 0||!O&&this.parsedJWS.sigvalH===void 0){var N=A.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var Z=N[1],he=N[2],ve=N[3],Oe=Z+"."+he;if(this.parsedJWS={},this.parsedJWS.headB64U=Z,this.parsedJWS.payloadB64U=he,this.parsedJWS.sigvalB64U=ve,this.parsedJWS.si=Oe,!O){var Se=nn(ve),Ce=tt(Se,16);this.parsedJWS.sigvalH=Se,this.parsedJWS.sigvalBI=Ce}var ke=et(Z),Ne=et(he);if(this.parsedJWS.headS=ke,this.parsedJWS.payloadS=Ne,!T(ke,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+ke}}},J.jws.JWS.sign=function(T,A,O,N,Z){var he,ve,Oe,Se=J,Ce=Se.jws.JWS,ke=Ce.readSafeJSONString,Ne=Ce.isSafeJSONString,je=Se.crypto,Ze=(je.ECDSA,je.Mac),nt=je.Signature,ct=JSON;if(typeof A!="string"&&(A===void 0?"undefined":v(A))!="object")throw"spHeader must be JSON string or object: "+A;if((A===void 0?"undefined":v(A))=="object"&&(ve=A,he=ct.stringify(ve)),typeof A=="string"){if(!Ne(he=A))throw"JWS Head is not safe JSON string: "+he;ve=ke(he)}if(Oe=O,(O===void 0?"undefined":v(O))=="object"&&(Oe=ct.stringify(O)),T!=""&&T!=null||ve.alg===void 0||(T=ve.alg),T!=""&&T!=null&&ve.alg===void 0&&(ve.alg=T,he=ct.stringify(ve)),T!==ve.alg)throw"alg and sHeader.alg doesn't match: "+T+"!="+ve.alg;var at=null;if(Ce.jwsalg2sigalg[T]===void 0)throw"unsupported alg name: "+T;at=Ce.jwsalg2sigalg[T];var _e=Ge(he)+"."+Ge(Oe),De="";if(at.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Fe=new Ze({alg:at,prov:"cryptojs",pass:N});Fe.updateString(_e),De=Fe.doFinal()}else if(at.indexOf("withECDSA")!=-1){(st=new nt({alg:at})).init(N,Z),st.updateString(_e);var ze=st.sign();De=J.crypto.ECDSA.asn1SigToConcatSig(ze)}else{var st;at!="none"&&((st=new nt({alg:at})).init(N,Z),st.updateString(_e),De=st.sign())}return _e+"."+Tn(De)},J.jws.JWS.verify=function(T,A,O){var N,Z=J,he=Z.jws.JWS,ve=he.readSafeJSONString,Oe=Z.crypto,Se=Oe.ECDSA,Ce=Oe.Mac,ke=Oe.Signature;v(Ye)!==void 0&&(N=Ye);var Ne=T.split(".");if(Ne.length!==3)return!1;var je=Ne[0]+"."+Ne[1],Ze=nn(Ne[2]),nt=ve(et(Ne[0])),ct=null,at=null;if(nt.alg===void 0)throw"algorithm not specified in header";if(at=(ct=nt.alg).substr(0,2),O!=null&&Object.prototype.toString.call(O)==="[object Array]"&&O.length>0&&(":"+O.join(":")+":").indexOf(":"+ct+":")==-1)throw"algorithm '"+ct+"' not accepted in the list";if(ct!="none"&&A===null)throw"key shall be specified to verify.";if(typeof A=="string"&&A.indexOf("-----BEGIN ")!=-1&&(A=Nt.getKey(A)),!(at!="RS"&&at!="PS"||A instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(at=="ES"&&!(A instanceof Se))throw"key shall be a ECDSA obj for ES* algs";var _e=null;if(he.jwsalg2sigalg[nt.alg]===void 0)throw"unsupported alg name: "+ct;if((_e=he.jwsalg2sigalg[ct])=="none")throw"not supported";if(_e.substr(0,4)=="Hmac"){if(A===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Ce({alg:_e,pass:A});return De.updateString(je),Ze==De.doFinal()}if(_e.indexOf("withECDSA")!=-1){var Fe,ze=null;try{ze=Se.concatSigToASN1Sig(Ze)}catch{return!1}return(Fe=new ke({alg:_e})).init(A),Fe.updateString(je),Fe.verify(ze)}return(Fe=new ke({alg:_e})).init(A),Fe.updateString(je),Fe.verify(Ze)},J.jws.JWS.parse=function(T){var A,O,N,Z=T.split("."),he={};if(Z.length!=2&&Z.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return A=Z[0],O=Z[1],Z.length==3&&(N=Z[2]),he.headerObj=J.jws.JWS.readSafeJSONString(et(A)),he.payloadObj=J.jws.JWS.readSafeJSONString(et(O)),he.headerPP=JSON.stringify(he.headerObj,null,"  "),he.payloadObj==null?he.payloadPP=et(O):he.payloadPP=JSON.stringify(he.payloadObj,null,"  "),N!==void 0&&(he.sigHex=nn(N)),he},J.jws.JWS.verifyJWT=function(T,A,O){var N=J.jws,Z=N.JWS,he=Z.readSafeJSONString,ve=Z.inArray,Oe=Z.includedArray,Se=T.split("."),Ce=Se[0],ke=Se[1],Ne=(nn(Se[2]),he(et(Ce))),je=he(et(ke));if(Ne.alg===void 0)return!1;if(O.alg===void 0)throw"acceptField.alg shall be specified";if(!ve(Ne.alg,O.alg)||je.iss!==void 0&&v(O.iss)==="object"&&!ve(je.iss,O.iss)||je.sub!==void 0&&v(O.sub)==="object"&&!ve(je.sub,O.sub))return!1;if(je.aud!==void 0&&v(O.aud)==="object"){if(typeof je.aud=="string"){if(!ve(je.aud,O.aud))return!1}else if(v(je.aud)=="object"&&!Oe(je.aud,O.aud))return!1}var Ze=N.IntDate.getNow();return O.verifyAt!==void 0&&typeof O.verifyAt=="number"&&(Ze=O.verifyAt),O.gracePeriod!==void 0&&typeof O.gracePeriod=="number"||(O.gracePeriod=0),!(je.exp!==void 0&&typeof je.exp=="number"&&je.exp+O.gracePeriod<Ze)&&!(je.nbf!==void 0&&typeof je.nbf=="number"&&Ze<je.nbf-O.gracePeriod)&&!(je.iat!==void 0&&typeof je.iat=="number"&&Ze<je.iat-O.gracePeriod)&&(je.jti===void 0||O.jti===void 0||je.jti===O.jti)&&!!Z.verify(T,A,O.alg)},J.jws.JWS.includedArray=function(T,A){var O=J.jws.JWS.inArray;if(T===null||(T===void 0?"undefined":v(T))!=="object"||typeof T.length!="number")return!1;for(var N=0;N<T.length;N++)if(!O(T[N],A))return!1;return!0},J.jws.JWS.inArray=function(T,A){if(A===null||(A===void 0?"undefined":v(A))!=="object"||typeof A.length!="number")return!1;for(var O=0;O<A.length;O++)if(A[O]==T)return!0;return!1},J.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},J.jws.JWS.isSafeJSONString=function(T,A,O){var N=null;try{return((N=Y(T))===void 0?"undefined":v(N))!="object"||N.constructor===Array?0:(A&&(A[O]=N),1)}catch{return 0}},J.jws.JWS.readSafeJSONString=function(T){var A=null;try{return((A=Y(T))===void 0?"undefined":v(A))!="object"||A.constructor===Array?null:A}catch{return null}},J.jws.JWS.getEncodedSignatureValueFromJWS=function(T){var A=T.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(A==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return A[1]},J.jws.JWS.getJWKthumbprint=function(T){if(T.kty!=="RSA"&&T.kty!=="EC"&&T.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var A="{";if(T.kty==="RSA"){if(typeof T.n!="string"||typeof T.e!="string")throw"wrong n and e value for RSA key";A+='"e":"'+T.e+'",',A+='"kty":"'+T.kty+'",',A+='"n":"'+T.n+'"}'}else if(T.kty==="EC"){if(typeof T.crv!="string"||typeof T.x!="string"||typeof T.y!="string")throw"wrong crv, x and y value for EC key";A+='"crv":"'+T.crv+'",',A+='"kty":"'+T.kty+'",',A+='"x":"'+T.x+'",',A+='"y":"'+T.y+'"}'}else if(T.kty==="oct"){if(typeof T.k!="string")throw"wrong k value for oct(symmetric) key";A+='"kty":"'+T.kty+'",',A+='"k":"'+T.k+'"}'}var O=dr(A);return Tn(J.crypto.Util.hashHex(O,"sha256"))},J.jws.IntDate={},J.jws.IntDate.get=function(T){var A=J.jws.IntDate,O=A.getNow,N=A.getZulu;if(T=="now")return O();if(T=="now + 1hour")return O()+3600;if(T=="now + 1day")return O()+86400;if(T=="now + 1month")return O()+2592e3;if(T=="now + 1year")return O()+31536e3;if(T.match(/Z$/))return N(T);if(T.match(/^[0-9]+$/))return parseInt(T);throw"unsupported format: "+T},J.jws.IntDate.getZulu=function(T){return $e(T)},J.jws.IntDate.getNow=function(){return~~(new Date/1e3)},J.jws.IntDate.intDate2UTCString=function(T){return new Date(1e3*T).toUTCString()},J.jws.IntDate.intDate2Zulu=function(T){var A=new Date(1e3*T);return("0000"+A.getUTCFullYear()).slice(-4)+("00"+(A.getUTCMonth()+1)).slice(-2)+("00"+A.getUTCDate()).slice(-2)+("00"+A.getUTCHours()).slice(-2)+("00"+A.getUTCMinutes()).slice(-2)+("00"+A.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=Me,r.rng_seed_time=Te,r.BigInteger=z,r.RSAKey=Ye;var pn=J.crypto.EDSA;r.EDSA=pn;var sr=J.crypto.DSA;r.DSA=sr;var Qr=J.crypto.Signature;r.Signature=Qr;var Ln=J.crypto.MessageDigest;r.MessageDigest=Ln;var hr=J.crypto.Mac;r.Mac=hr;var na=J.crypto.Cipher;r.Cipher=na,r.KEYUTIL=Nt,r.ASN1HEX=Ke,r.X509=Gt,r.CryptoJS=P,r.b64tohex=W,r.b64toBA=ee,r.stoBA=Pt,r.BAtos=tn,r.BAtohex=zt,r.stohex=Zt,r.stob64=function(A){return M(Zt(A))},r.stob64u=function(A){return Yt(M(Zt(A)))},r.b64utos=function(A){return tn(ee(ai(A)))},r.b64tob64u=Yt,r.b64utob64=ai,r.hex2b64=M,r.hextob64u=Tn,r.b64utohex=nn,r.utf8tob64u=Ge,r.b64utoutf8=et,r.utf8tob64=function(A){return M(Xe(Lt(A)))},r.b64toutf8=function(A){return decodeURIComponent(ut(W(A)))},r.utf8tohex=Er,r.hextoutf8=un,r.hextorstr=fr,r.rstrtohex=dr,r.hextob64=Cr,r.hextob64nl=Re,r.b64nltohex=Ue,r.hextopem=Ct,r.pemtohex=At,r.hextoArrayBuffer=function(A){if(A.length%2!=0)throw"input is not even length";if(A.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var O=new ArrayBuffer(A.length/2),N=new DataView(O),Z=0;Z<A.length/2;Z++)N.setUint8(Z,parseInt(A.substr(2*Z,2),16));return O},r.ArrayBuffertohex=function(A){for(var O="",N=new DataView(A),Z=0;Z<A.byteLength;Z++)O+=("00"+N.getUint8(Z).toString(16)).slice(-2);return O},r.zulutomsec=Dt,r.zulutosec=$e,r.zulutodate=function(A){return new Date(Dt(A))},r.datetozulu=function(A,O,N){var Z,he=A.getUTCFullYear();if(O){if(he<1950||2049<he)throw"not proper year for UTCTime: "+he;Z=(""+he).slice(-2)}else Z=("000"+he).slice(-4);if(Z+=("0"+(A.getUTCMonth()+1)).slice(-2),Z+=("0"+A.getUTCDate()).slice(-2),Z+=("0"+A.getUTCHours()).slice(-2),Z+=("0"+A.getUTCMinutes()).slice(-2),Z+=("0"+A.getUTCSeconds()).slice(-2),N){var ve=A.getUTCMilliseconds();ve!==0&&(Z+="."+(ve=(ve=("00"+ve).slice(-3)).replace(/0+$/g,"")))}return Z+="Z"},r.uricmptohex=Xe,r.hextouricmp=ut,r.ipv6tohex=lt,r.hextoipv6=Ot,r.hextoip=qt,r.iptohex=function(A){var O="malformed IP address";if(!(A=A.toLowerCase(A)).match(/^[0-9.]+$/)){if(A.match(/^[0-9a-f:]+$/)&&A.indexOf(":")!==-1)return lt(A);throw O}var N=A.split(".");if(N.length!==4)throw O;var Z="";try{for(var he=0;he<4;he++)Z+=("0"+parseInt(N[he]).toString(16)).slice(-2);return Z}catch{throw O}},r.encodeURIComponentAll=Lt,r.newline_toUnix=function(A){return A=A.replace(/\r\n/gm,`
`)},r.newline_toDos=function(A){return A=(A=A.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Bt,r.intarystrtohex=function(A){A=(A=(A=A.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return A.split(/,/).map((function(O,N,Z){var he=parseInt(O);if(he<0||255<he)throw"integer not in range 0-255";return("00"+he.toString(16)).slice(-2)})).join("")}catch(O){throw"malformed integer array string: "+O}},r.strdiffidx=function(A,O){var N=A.length;A.length>O.length&&(N=O.length);for(var Z=0;Z<N;Z++)if(A.charCodeAt(Z)!=O.charCodeAt(Z))return Z;return A.length!=O.length?N:-1},r.KJUR=J;var si=J.crypto;r.crypto=si;var pr=J.asn1;r.asn1=pr;var vi=J.jws;r.jws=vi;var Wi=J.lang;r.lang=Wi}).call(this,i(28).Buffer)},function(n,r,i){(function(o){var a=i(30),s=i(31),l=i(32);function f(){return p.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(fe,V){if(f()<V)throw new RangeError("Invalid typed array length");return p.TYPED_ARRAY_SUPPORT?(fe=new Uint8Array(V)).__proto__=p.prototype:(fe===null&&(fe=new p(V)),fe.length=V),fe}function p(fe,V,j){if(!(p.TYPED_ARRAY_SUPPORT||this instanceof p))return new p(fe,V,j);if(typeof fe=="number"){if(typeof V=="string")throw new Error("If encoding is specified then the first argument must be a string");return b(this,fe)}return g(this,fe,V,j)}function g(fe,V,j,ie){if(typeof V=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&V instanceof ArrayBuffer?(function(Te,Le,rt,Ie){if(Le.byteLength,rt<0||Le.byteLength<rt)throw new RangeError("'offset' is out of bounds");if(Le.byteLength<rt+(Ie||0))throw new RangeError("'length' is out of bounds");return Le=rt===void 0&&Ie===void 0?new Uint8Array(Le):Ie===void 0?new Uint8Array(Le,rt):new Uint8Array(Le,rt,Ie),p.TYPED_ARRAY_SUPPORT?(Te=Le).__proto__=p.prototype:Te=x(Te,Le),Te})(fe,V,j,ie):typeof V=="string"?(function(Te,Le,rt){if(typeof rt=="string"&&rt!==""||(rt="utf8"),!p.isEncoding(rt))throw new TypeError('"encoding" must be a valid string encoding');var Ie=0|v(Le,rt),ye=(Te=d(Te,Ie)).write(Le,rt);return ye!==Ie&&(Te=Te.slice(0,ye)),Te})(fe,V,j):(function(Te,Le){if(p.isBuffer(Le)){var rt=0|E(Le.length);return(Te=d(Te,rt)).length===0||Le.copy(Te,0,0,rt),Te}if(Le){if(typeof ArrayBuffer<"u"&&Le.buffer instanceof ArrayBuffer||"length"in Le)return typeof Le.length!="number"||(function(ye){return ye!=ye})(Le.length)?d(Te,0):x(Te,Le);if(Le.type==="Buffer"&&l(Le.data))return x(Te,Le.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")})(fe,V)}function y(fe){if(typeof fe!="number")throw new TypeError('"size" argument must be a number');if(fe<0)throw new RangeError('"size" argument must not be negative')}function b(fe,V){if(y(V),fe=d(fe,V<0?0:0|E(V)),!p.TYPED_ARRAY_SUPPORT)for(var j=0;j<V;++j)fe[j]=0;return fe}function x(fe,V){var j=V.length<0?0:0|E(V.length);fe=d(fe,j);for(var ie=0;ie<j;ie+=1)fe[ie]=255&V[ie];return fe}function E(fe){if(fe>=f())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f().toString(16)+" bytes");return 0|fe}function v(fe,V){if(p.isBuffer(fe))return fe.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(fe)||fe instanceof ArrayBuffer))return fe.byteLength;typeof fe!="string"&&(fe=""+fe);var j=fe.length;if(j===0)return 0;for(var ie=!1;;)switch(V){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":case void 0:return Pe(fe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*j;case"hex":return j>>>1;case"base64":return Be(fe).length;default:if(ie)return Pe(fe).length;V=(""+V).toLowerCase(),ie=!0}}function w(fe,V,j){var ie=!1;if((V===void 0||V<0)&&(V=0),V>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0)<=(V>>>=0))return"";for(fe||(fe="utf8");;)switch(fe){case"hex":return pe(this,V,j);case"utf8":case"utf-8":return oe(this,V,j);case"ascii":return de(this,V,j);case"latin1":case"binary":return se(this,V,j);case"base64":return te(this,V,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,V,j);default:if(ie)throw new TypeError("Unknown encoding: "+fe);fe=(fe+"").toLowerCase(),ie=!0}}function C(fe,V,j){var ie=fe[V];fe[V]=fe[j],fe[j]=ie}function P(fe,V,j,ie,me){if(fe.length===0)return-1;if(typeof j=="string"?(ie=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,isNaN(j)&&(j=me?0:fe.length-1),j<0&&(j=fe.length+j),j>=fe.length){if(me)return-1;j=fe.length-1}else if(j<0){if(!me)return-1;j=0}if(typeof V=="string"&&(V=p.from(V,ie)),p.isBuffer(V))return V.length===0?-1:R(fe,V,j,ie,me);if(typeof V=="number")return V&=255,p.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?me?Uint8Array.prototype.indexOf.call(fe,V,j):Uint8Array.prototype.lastIndexOf.call(fe,V,j):R(fe,[V],j,ie,me);throw new TypeError("val must be string, number or Buffer")}function R(fe,V,j,ie,me){var Te,Le=1,rt=fe.length,Ie=V.length;if(ie!==void 0&&((ie=String(ie).toLowerCase())==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(fe.length<2||V.length<2)return-1;Le=2,rt/=2,Ie/=2,j/=2}function ye(mt,Ye){return Le===1?mt[Ye]:mt.readUInt16BE(Ye*Le)}if(me){var Ae=-1;for(Te=j;Te<rt;Te++)if(ye(fe,Te)===ye(V,Ae===-1?0:Te-Ae)){if(Ae===-1&&(Ae=Te),Te-Ae+1===Ie)return Ae*Le}else Ae!==-1&&(Te-=Te-Ae),Ae=-1}else for(j+Ie>rt&&(j=rt-Ie),Te=j;Te>=0;Te--){for(var Me=!0,tt=0;tt<Ie;tt++)if(ye(fe,Te+tt)!==ye(V,tt)){Me=!1;break}if(Me)return Te}return-1}function k(fe,V,j,ie){j=Number(j)||0;var me=fe.length-j;ie?(ie=Number(ie))>me&&(ie=me):ie=me;var Te=V.length;if(Te%2!=0)throw new TypeError("Invalid hex string");ie>Te/2&&(ie=Te/2);for(var Le=0;Le<ie;++Le){var rt=parseInt(V.substr(2*Le,2),16);if(isNaN(rt))return Le;fe[j+Le]=rt}return Le}function M(fe,V,j,ie){return Je(Pe(V,fe.length-j),fe,j,ie)}function W(fe,V,j,ie){return Je((function(Te){for(var Le=[],rt=0;rt<Te.length;++rt)Le.push(255&Te.charCodeAt(rt));return Le})(V),fe,j,ie)}function ee(fe,V,j,ie){return W(fe,V,j,ie)}function z(fe,V,j,ie){return Je(Be(V),fe,j,ie)}function H(fe,V,j,ie){return Je((function(Te,Le){for(var rt,Ie,ye,Ae=[],Me=0;Me<Te.length&&!((Le-=2)<0);++Me)Ie=(rt=Te.charCodeAt(Me))>>8,ye=rt%256,Ae.push(ye),Ae.push(Ie);return Ae})(V,fe.length-j),fe,j,ie)}function te(fe,V,j){return V===0&&j===fe.length?a.fromByteArray(fe):a.fromByteArray(fe.slice(V,j))}function oe(fe,V,j){j=Math.min(fe.length,j);for(var ie=[],me=V;me<j;){var Te,Le,rt,Ie,ye=fe[me],Ae=null,Me=ye>239?4:ye>223?3:ye>191?2:1;if(me+Me<=j)switch(Me){case 1:ye<128&&(Ae=ye);break;case 2:(192&(Te=fe[me+1]))==128&&(Ie=(31&ye)<<6|63&Te)>127&&(Ae=Ie);break;case 3:Te=fe[me+1],Le=fe[me+2],(192&Te)==128&&(192&Le)==128&&(Ie=(15&ye)<<12|(63&Te)<<6|63&Le)>2047&&(Ie<55296||Ie>57343)&&(Ae=Ie);break;case 4:Te=fe[me+1],Le=fe[me+2],rt=fe[me+3],(192&Te)==128&&(192&Le)==128&&(192&rt)==128&&(Ie=(15&ye)<<18|(63&Te)<<12|(63&Le)<<6|63&rt)>65535&&Ie<1114112&&(Ae=Ie)}Ae===null?(Ae=65533,Me=1):Ae>65535&&(Ae-=65536,ie.push(Ae>>>10&1023|55296),Ae=56320|1023&Ae),ie.push(Ae),me+=Me}return(function(mt){var Ye=mt.length;if(Ye<=ue)return String.fromCharCode.apply(String,mt);for(var qe="",ae=0;ae<Ye;)qe+=String.fromCharCode.apply(String,mt.slice(ae,ae+=ue));return qe})(ie)}r.Buffer=p,r.SlowBuffer=function(V){return+V!=V&&(V=0),p.alloc(+V)},r.INSPECT_MAX_BYTES=50,p.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==void 0?o.TYPED_ARRAY_SUPPORT:(function(){try{var V=new Uint8Array(1);return V.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},V.foo()===42&&typeof V.subarray=="function"&&V.subarray(1,1).byteLength===0}catch{return!1}})(),r.kMaxLength=f(),p.poolSize=8192,p._augment=function(fe){return fe.__proto__=p.prototype,fe},p.from=function(fe,V,j){return g(null,fe,V,j)},p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,configurable:!0})),p.alloc=function(fe,V,j){return(function(me,Te,Le,rt){return y(Te),Te<=0?d(me,Te):Le!==void 0?typeof rt=="string"?d(me,Te).fill(Le,rt):d(me,Te).fill(Le):d(me,Te)})(null,fe,V,j)},p.allocUnsafe=function(fe){return b(null,fe)},p.allocUnsafeSlow=function(fe){return b(null,fe)},p.isBuffer=function(V){return!(V==null||!V._isBuffer)},p.compare=function(V,j){if(!p.isBuffer(V)||!p.isBuffer(j))throw new TypeError("Arguments must be Buffers");if(V===j)return 0;for(var ie=V.length,me=j.length,Te=0,Le=Math.min(ie,me);Te<Le;++Te)if(V[Te]!==j[Te]){ie=V[Te],me=j[Te];break}return ie<me?-1:me<ie?1:0},p.isEncoding=function(V){switch(String(V).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(V,j){if(!l(V))throw new TypeError('"list" argument must be an Array of Buffers');if(V.length===0)return p.alloc(0);var ie;if(j===void 0)for(j=0,ie=0;ie<V.length;++ie)j+=V[ie].length;var me=p.allocUnsafe(j),Te=0;for(ie=0;ie<V.length;++ie){var Le=V[ie];if(!p.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(me,Te),Te+=Le.length}return me},p.byteLength=v,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var V=this.length;if(V%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<V;j+=2)C(this,j,j+1);return this},p.prototype.swap32=function(){var V=this.length;if(V%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<V;j+=4)C(this,j,j+3),C(this,j+1,j+2);return this},p.prototype.swap64=function(){var V=this.length;if(V%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<V;j+=8)C(this,j,j+7),C(this,j+1,j+6),C(this,j+2,j+5),C(this,j+3,j+4);return this},p.prototype.toString=function(){var V=0|this.length;return V===0?"":arguments.length===0?oe(this,0,V):w.apply(this,arguments)},p.prototype.equals=function(V){if(!p.isBuffer(V))throw new TypeError("Argument must be a Buffer");return this===V||p.compare(this,V)===0},p.prototype.inspect=function(){var V="",j=r.INSPECT_MAX_BYTES;return this.length>0&&(V=this.toString("hex",0,j).match(/.{2}/g).join(" "),this.length>j&&(V+=" ... ")),"<Buffer "+V+">"},p.prototype.compare=function(V,j,ie,me,Te){if(!p.isBuffer(V))throw new TypeError("Argument must be a Buffer");if(j===void 0&&(j=0),ie===void 0&&(ie=V?V.length:0),me===void 0&&(me=0),Te===void 0&&(Te=this.length),j<0||ie>V.length||me<0||Te>this.length)throw new RangeError("out of range index");if(me>=Te&&j>=ie)return 0;if(me>=Te)return-1;if(j>=ie)return 1;if(this===V)return 0;for(var Le=(Te>>>=0)-(me>>>=0),rt=(ie>>>=0)-(j>>>=0),Ie=Math.min(Le,rt),ye=this.slice(me,Te),Ae=V.slice(j,ie),Me=0;Me<Ie;++Me)if(ye[Me]!==Ae[Me]){Le=ye[Me],rt=Ae[Me];break}return Le<rt?-1:rt<Le?1:0},p.prototype.includes=function(V,j,ie){return this.indexOf(V,j,ie)!==-1},p.prototype.indexOf=function(V,j,ie){return P(this,V,j,ie,!0)},p.prototype.lastIndexOf=function(V,j,ie){return P(this,V,j,ie,!1)},p.prototype.write=function(V,j,ie,me){if(j===void 0)me="utf8",ie=this.length,j=0;else if(ie===void 0&&typeof j=="string")me=j,ie=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j|=0,isFinite(ie)?(ie|=0,me===void 0&&(me="utf8")):(me=ie,ie=void 0)}var Te=this.length-j;if((ie===void 0||ie>Te)&&(ie=Te),V.length>0&&(ie<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");me||(me="utf8");for(var Le=!1;;)switch(me){case"hex":return k(this,V,j,ie);case"utf8":case"utf-8":return M(this,V,j,ie);case"ascii":return W(this,V,j,ie);case"latin1":case"binary":return ee(this,V,j,ie);case"base64":return z(this,V,j,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,V,j,ie);default:if(Le)throw new TypeError("Unknown encoding: "+me);me=(""+me).toLowerCase(),Le=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ue=4096;function de(fe,V,j){var ie="";j=Math.min(fe.length,j);for(var me=V;me<j;++me)ie+=String.fromCharCode(127&fe[me]);return ie}function se(fe,V,j){var ie="";j=Math.min(fe.length,j);for(var me=V;me<j;++me)ie+=String.fromCharCode(fe[me]);return ie}function pe(fe,V,j){var ie=fe.length;(!V||V<0)&&(V=0),(!j||j<0||j>ie)&&(j=ie);for(var me="",Te=V;Te<j;++Te)me+=Ve(fe[Te]);return me}function re(fe,V,j){for(var ie=fe.slice(V,j),me="",Te=0;Te<ie.length;Te+=2)me+=String.fromCharCode(ie[Te]+256*ie[Te+1]);return me}function Ee(fe,V,j){if(fe%1!=0||fe<0)throw new RangeError("offset is not uint");if(fe+V>j)throw new RangeError("Trying to access beyond buffer length")}function $(fe,V,j,ie,me,Te){if(!p.isBuffer(fe))throw new TypeError('"buffer" argument must be a Buffer instance');if(V>me||V<Te)throw new RangeError('"value" argument is out of bounds');if(j+ie>fe.length)throw new RangeError("Index out of range")}function Q(fe,V,j,ie){V<0&&(V=65535+V+1);for(var me=0,Te=Math.min(fe.length-j,2);me<Te;++me)fe[j+me]=(V&255<<8*(ie?me:1-me))>>>8*(ie?me:1-me)}function ce(fe,V,j,ie){V<0&&(V=4294967295+V+1);for(var me=0,Te=Math.min(fe.length-j,4);me<Te;++me)fe[j+me]=V>>>8*(ie?me:3-me)&255}function G(fe,V,j,ie,me,Te){if(j+ie>fe.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function X(fe,V,j,ie,me){return me||G(fe,0,j,4),s.write(fe,V,j,ie,23,4),j+4}function ge(fe,V,j,ie,me){return me||G(fe,0,j,8),s.write(fe,V,j,ie,52,8),j+8}p.prototype.slice=function(V,j){var ie,me=this.length;if((V=~~V)<0?(V+=me)<0&&(V=0):V>me&&(V=me),(j=j===void 0?me:~~j)<0?(j+=me)<0&&(j=0):j>me&&(j=me),j<V&&(j=V),p.TYPED_ARRAY_SUPPORT)(ie=this.subarray(V,j)).__proto__=p.prototype;else{var Te=j-V;ie=new p(Te,void 0);for(var Le=0;Le<Te;++Le)ie[Le]=this[Le+V]}return ie},p.prototype.readUIntLE=function(V,j,ie){V|=0,j|=0,ie||Ee(V,j,this.length);for(var me=this[V],Te=1,Le=0;++Le<j&&(Te*=256);)me+=this[V+Le]*Te;return me},p.prototype.readUIntBE=function(V,j,ie){V|=0,j|=0,ie||Ee(V,j,this.length);for(var me=this[V+--j],Te=1;j>0&&(Te*=256);)me+=this[V+--j]*Te;return me},p.prototype.readUInt8=function(V,j){return j||Ee(V,1,this.length),this[V]},p.prototype.readUInt16LE=function(V,j){return j||Ee(V,2,this.length),this[V]|this[V+1]<<8},p.prototype.readUInt16BE=function(V,j){return j||Ee(V,2,this.length),this[V]<<8|this[V+1]},p.prototype.readUInt32LE=function(V,j){return j||Ee(V,4,this.length),(this[V]|this[V+1]<<8|this[V+2]<<16)+16777216*this[V+3]},p.prototype.readUInt32BE=function(V,j){return j||Ee(V,4,this.length),16777216*this[V]+(this[V+1]<<16|this[V+2]<<8|this[V+3])},p.prototype.readIntLE=function(V,j,ie){V|=0,j|=0,ie||Ee(V,j,this.length);for(var me=this[V],Te=1,Le=0;++Le<j&&(Te*=256);)me+=this[V+Le]*Te;return me>=(Te*=128)&&(me-=Math.pow(2,8*j)),me},p.prototype.readIntBE=function(V,j,ie){V|=0,j|=0,ie||Ee(V,j,this.length);for(var me=j,Te=1,Le=this[V+--me];me>0&&(Te*=256);)Le+=this[V+--me]*Te;return Le>=(Te*=128)&&(Le-=Math.pow(2,8*j)),Le},p.prototype.readInt8=function(V,j){return j||Ee(V,1,this.length),128&this[V]?-1*(255-this[V]+1):this[V]},p.prototype.readInt16LE=function(V,j){j||Ee(V,2,this.length);var ie=this[V]|this[V+1]<<8;return 32768&ie?4294901760|ie:ie},p.prototype.readInt16BE=function(V,j){j||Ee(V,2,this.length);var ie=this[V+1]|this[V]<<8;return 32768&ie?4294901760|ie:ie},p.prototype.readInt32LE=function(V,j){return j||Ee(V,4,this.length),this[V]|this[V+1]<<8|this[V+2]<<16|this[V+3]<<24},p.prototype.readInt32BE=function(V,j){return j||Ee(V,4,this.length),this[V]<<24|this[V+1]<<16|this[V+2]<<8|this[V+3]},p.prototype.readFloatLE=function(V,j){return j||Ee(V,4,this.length),s.read(this,V,!0,23,4)},p.prototype.readFloatBE=function(V,j){return j||Ee(V,4,this.length),s.read(this,V,!1,23,4)},p.prototype.readDoubleLE=function(V,j){return j||Ee(V,8,this.length),s.read(this,V,!0,52,8)},p.prototype.readDoubleBE=function(V,j){return j||Ee(V,8,this.length),s.read(this,V,!1,52,8)},p.prototype.writeUIntLE=function(V,j,ie,me){V=+V,j|=0,ie|=0,me||$(this,V,j,ie,Math.pow(2,8*ie)-1,0);var Te=1,Le=0;for(this[j]=255&V;++Le<ie&&(Te*=256);)this[j+Le]=V/Te&255;return j+ie},p.prototype.writeUIntBE=function(V,j,ie,me){V=+V,j|=0,ie|=0,me||$(this,V,j,ie,Math.pow(2,8*ie)-1,0);var Te=ie-1,Le=1;for(this[j+Te]=255&V;--Te>=0&&(Le*=256);)this[j+Te]=V/Le&255;return j+ie},p.prototype.writeUInt8=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,1,255,0),p.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),this[j]=255&V,j+1},p.prototype.writeUInt16LE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[j]=255&V,this[j+1]=V>>>8):Q(this,V,j,!0),j+2},p.prototype.writeUInt16BE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,2,65535,0),p.TYPED_ARRAY_SUPPORT?(this[j]=V>>>8,this[j+1]=255&V):Q(this,V,j,!1),j+2},p.prototype.writeUInt32LE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[j+3]=V>>>24,this[j+2]=V>>>16,this[j+1]=V>>>8,this[j]=255&V):ce(this,V,j,!0),j+4},p.prototype.writeUInt32BE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,4,4294967295,0),p.TYPED_ARRAY_SUPPORT?(this[j]=V>>>24,this[j+1]=V>>>16,this[j+2]=V>>>8,this[j+3]=255&V):ce(this,V,j,!1),j+4},p.prototype.writeIntLE=function(V,j,ie,me){if(V=+V,j|=0,!me){var Te=Math.pow(2,8*ie-1);$(this,V,j,ie,Te-1,-Te)}var Le=0,rt=1,Ie=0;for(this[j]=255&V;++Le<ie&&(rt*=256);)V<0&&Ie===0&&this[j+Le-1]!==0&&(Ie=1),this[j+Le]=(V/rt>>0)-Ie&255;return j+ie},p.prototype.writeIntBE=function(V,j,ie,me){if(V=+V,j|=0,!me){var Te=Math.pow(2,8*ie-1);$(this,V,j,ie,Te-1,-Te)}var Le=ie-1,rt=1,Ie=0;for(this[j+Le]=255&V;--Le>=0&&(rt*=256);)V<0&&Ie===0&&this[j+Le+1]!==0&&(Ie=1),this[j+Le]=(V/rt>>0)-Ie&255;return j+ie},p.prototype.writeInt8=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,1,127,-128),p.TYPED_ARRAY_SUPPORT||(V=Math.floor(V)),V<0&&(V=255+V+1),this[j]=255&V,j+1},p.prototype.writeInt16LE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[j]=255&V,this[j+1]=V>>>8):Q(this,V,j,!0),j+2},p.prototype.writeInt16BE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,2,32767,-32768),p.TYPED_ARRAY_SUPPORT?(this[j]=V>>>8,this[j+1]=255&V):Q(this,V,j,!1),j+2},p.prototype.writeInt32LE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,4,2147483647,-2147483648),p.TYPED_ARRAY_SUPPORT?(this[j]=255&V,this[j+1]=V>>>8,this[j+2]=V>>>16,this[j+3]=V>>>24):ce(this,V,j,!0),j+4},p.prototype.writeInt32BE=function(V,j,ie){return V=+V,j|=0,ie||$(this,V,j,4,2147483647,-2147483648),V<0&&(V=4294967295+V+1),p.TYPED_ARRAY_SUPPORT?(this[j]=V>>>24,this[j+1]=V>>>16,this[j+2]=V>>>8,this[j+3]=255&V):ce(this,V,j,!1),j+4},p.prototype.writeFloatLE=function(V,j,ie){return X(this,V,j,!0,ie)},p.prototype.writeFloatBE=function(V,j,ie){return X(this,V,j,!1,ie)},p.prototype.writeDoubleLE=function(V,j,ie){return ge(this,V,j,!0,ie)},p.prototype.writeDoubleBE=function(V,j,ie){return ge(this,V,j,!1,ie)},p.prototype.copy=function(V,j,ie,me){if(ie||(ie=0),me||me===0||(me=this.length),j>=V.length&&(j=V.length),j||(j=0),me>0&&me<ie&&(me=ie),me===ie||V.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("sourceStart out of bounds");if(me<0)throw new RangeError("sourceEnd out of bounds");me>this.length&&(me=this.length),V.length-j<me-ie&&(me=V.length-j+ie);var Te,Le=me-ie;if(this===V&&ie<j&&j<me)for(Te=Le-1;Te>=0;--Te)V[Te+j]=this[Te+ie];else if(Le<1e3||!p.TYPED_ARRAY_SUPPORT)for(Te=0;Te<Le;++Te)V[Te+j]=this[Te+ie];else Uint8Array.prototype.set.call(V,this.subarray(ie,ie+Le),j);return Le},p.prototype.fill=function(V,j,ie,me){if(typeof V=="string"){if(typeof j=="string"?(me=j,j=0,ie=this.length):typeof ie=="string"&&(me=ie,ie=this.length),V.length===1){var Te=V.charCodeAt(0);Te<256&&(V=Te)}if(me!==void 0&&typeof me!="string")throw new TypeError("encoding must be a string");if(typeof me=="string"&&!p.isEncoding(me))throw new TypeError("Unknown encoding: "+me)}else typeof V=="number"&&(V&=255);if(j<0||this.length<j||this.length<ie)throw new RangeError("Out of range index");if(ie<=j)return this;var Le;if(j>>>=0,ie=ie===void 0?this.length:ie>>>0,V||(V=0),typeof V=="number")for(Le=j;Le<ie;++Le)this[Le]=V;else{var rt=p.isBuffer(V)?V:Pe(new p(V,me).toString()),Ie=rt.length;for(Le=0;Le<ie-j;++Le)this[Le+j]=rt[Le%Ie]}return this};var xe=/[^+\/0-9A-Za-z-_]/g;function Ve(fe){return fe<16?"0"+fe.toString(16):fe.toString(16)}function Pe(fe,V){var j;V=V||1/0;for(var ie=fe.length,me=null,Te=[],Le=0;Le<ie;++Le){if((j=fe.charCodeAt(Le))>55295&&j<57344){if(!me){if(j>56319){(V-=3)>-1&&Te.push(239,191,189);continue}if(Le+1===ie){(V-=3)>-1&&Te.push(239,191,189);continue}me=j;continue}if(j<56320){(V-=3)>-1&&Te.push(239,191,189),me=j;continue}j=65536+(me-55296<<10|j-56320)}else me&&(V-=3)>-1&&Te.push(239,191,189);if(me=null,j<128){if((V-=1)<0)break;Te.push(j)}else if(j<2048){if((V-=2)<0)break;Te.push(j>>6|192,63&j|128)}else if(j<65536){if((V-=3)<0)break;Te.push(j>>12|224,j>>6&63|128,63&j|128)}else{if(!(j<1114112))throw new Error("Invalid code point");if((V-=4)<0)break;Te.push(j>>18|240,j>>12&63|128,j>>6&63|128,63&j|128)}}return Te}function Be(fe){return a.toByteArray((function(j){if((j=(function(me){return me.trim?me.trim():me.replace(/^\s+|\s+$/g,"")})(j).replace(xe,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j})(fe))}function Je(fe,V,j,ie){for(var me=0;me<ie&&!(me+j>=V.length||me>=fe.length);++me)V[me+j]=fe[me];return me}}).call(this,i(29))},function(n,r){var i;i=(function(){return this})();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(b){var x=p(b),E=x[0],v=x[1];return 3*(E+v)/4-v},r.toByteArray=function(b){var x,E,v=p(b),w=v[0],C=v[1],P=new s((function(W,ee,z){return 3*(ee+z)/4-z})(0,w,C)),R=0,k=C>0?w-4:w;for(E=0;E<k;E+=4)x=a[b.charCodeAt(E)]<<18|a[b.charCodeAt(E+1)]<<12|a[b.charCodeAt(E+2)]<<6|a[b.charCodeAt(E+3)],P[R++]=x>>16&255,P[R++]=x>>8&255,P[R++]=255&x;return C===2&&(x=a[b.charCodeAt(E)]<<2|a[b.charCodeAt(E+1)]>>4,P[R++]=255&x),C===1&&(x=a[b.charCodeAt(E)]<<10|a[b.charCodeAt(E+1)]<<4|a[b.charCodeAt(E+2)]>>2,P[R++]=x>>8&255,P[R++]=255&x),P},r.fromByteArray=function(b){for(var x,E=b.length,v=E%3,w=[],C=16383,P=0,R=E-v;P<R;P+=C)w.push(g(b,P,P+C>R?R:P+C));return v===1?(x=b[E-1],w.push(o[x>>2]+o[x<<4&63]+"==")):v===2&&(x=(b[E-2]<<8)+b[E-1],w.push(o[x>>10]+o[x>>4&63]+o[x<<2&63]+"=")),w.join("")};for(var o=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=l.length;f<d;++f)o[f]=l[f],a[l.charCodeAt(f)]=f;function p(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");return x===-1&&(x=b),[x,x===b?0:4-x%4]}function g(y,b,x){for(var E,v,w=[],C=b;C<x;C+=3)E=(y[C]<<16&16711680)+(y[C+1]<<8&65280)+(255&y[C+2]),w.push(o[(v=E)>>18&63]+o[v>>12&63]+o[v>>6&63]+o[63&v]);return w.join("")}a[45]=62,a[95]=63},function(n,r){r.read=function(i,o,a,s,l){var f,d,p=8*l-s-1,g=(1<<p)-1,y=g>>1,b=-7,x=a?l-1:0,E=a?-1:1,v=i[o+x];for(x+=E,f=v&(1<<-b)-1,v>>=-b,b+=p;b>0;f=256*f+i[o+x],x+=E,b-=8);for(d=f&(1<<-b)-1,f>>=-b,b+=s;b>0;d=256*d+i[o+x],x+=E,b-=8);if(f===0)f=1-y;else{if(f===g)return d?NaN:1/0*(v?-1:1);d+=Math.pow(2,s),f-=y}return(v?-1:1)*d*Math.pow(2,f-s)},r.write=function(i,o,a,s,l,f){var d,p,g,y=8*f-l-1,b=(1<<y)-1,x=b>>1,E=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=s?0:f-1,w=s?1:-1,C=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(p=isNaN(o)?1:0,d=b):(d=Math.floor(Math.log(o)/Math.LN2),o*(g=Math.pow(2,-d))<1&&(d--,g*=2),(o+=d+x>=1?E/g:E*Math.pow(2,1-x))*g>=2&&(d++,g/=2),d+x>=b?(p=0,d=b):d+x>=1?(p=(o*g-1)*Math.pow(2,l),d+=x):(p=o*Math.pow(2,x-1)*Math.pow(2,l),d=0));l>=8;i[a+v]=255&p,v+=w,p/=256,l-=8);for(d=d<<l|p,y+=l;y>0;i[a+v]=255&d,v+=w,d/=256,y-=8);i[a+v-w]|=128*C}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(o){return i.call(o)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,f=s.KeyUtil,d=s.X509,p=s.crypto,g=s.hextob64u,y=s.b64tohex,b=s.AllowedSigningAlgs;return(function(){function x(){(function(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")})(this,x)}return x.parseJwt=function(v){o.Log.debug("JoseUtil.parseJwt");try{var w=l.JWS.parse(v);return{header:w.headerObj,payload:w.payloadObj}}catch(C){o.Log.error(C)}},x.validateJwt=function(v,w,C,P,R,k,M){o.Log.debug("JoseUtil.validateJwt");try{if(w.kty==="RSA")if(w.e&&w.n)w=f.getKey(w);else{if(!w.x5c||!w.x5c.length)return o.Log.error("JoseUtil.validateJwt: RSA key missing key material",w),Promise.reject(new Error("RSA key missing key material"));var W=y(w.x5c[0]);w=d.getPublicKeyFromCertHex(W)}else{if(w.kty!=="EC")return o.Log.error("JoseUtil.validateJwt: Unsupported key type",w&&w.kty),Promise.reject(new Error(w.kty));if(!(w.crv&&w.x&&w.y))return o.Log.error("JoseUtil.validateJwt: EC key missing key material",w),Promise.reject(new Error("EC key missing key material"));w=f.getKey(w)}return x._validateJwt(v,w,C,P,R,k,M)}catch(ee){return o.Log.error(ee&&ee.message||ee),Promise.reject("JWT validation failed")}},x.validateJwtAttributes=function(v,w,C,P,R,k){P||(P=0),R||(R=parseInt(Date.now()/1e3));var M=x.parseJwt(v).payload;if(!M.iss)return o.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(M.iss!==w)return o.Log.error("JoseUtil._validateJwt: Invalid issuer in token",M.iss),Promise.reject(new Error("Invalid issuer in token: "+M.iss));if(!M.aud)return o.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(M.aud===C||Array.isArray(M.aud)&&M.aud.indexOf(C)>=0))return o.Log.error("JoseUtil._validateJwt: Invalid audience in token",M.aud),Promise.reject(new Error("Invalid audience in token: "+M.aud));if(M.azp&&M.azp!==C)return o.Log.error("JoseUtil._validateJwt: Invalid azp in token",M.azp),Promise.reject(new Error("Invalid azp in token: "+M.azp));if(!k){var W=R+P,ee=R-P;if(!M.iat)return o.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(W<M.iat)return o.Log.error("JoseUtil._validateJwt: iat is in the future",M.iat),Promise.reject(new Error("iat is in the future: "+M.iat));if(M.nbf&&W<M.nbf)return o.Log.error("JoseUtil._validateJwt: nbf is in the future",M.nbf),Promise.reject(new Error("nbf is in the future: "+M.nbf));if(!M.exp)return o.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(M.exp<ee)return o.Log.error("JoseUtil._validateJwt: exp is in the past",M.exp),Promise.reject(new Error("exp is in the past:"+M.exp))}return Promise.resolve(M)},x._validateJwt=function(v,w,C,P,R,k,M){return x.validateJwtAttributes(v,C,P,R,k,M).then((function(W){try{return l.JWS.verify(v,w,b)?W:(o.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(ee){return o.Log.error(ee&&ee.message||ee),Promise.reject(new Error("signature validation failed"))}}))},x.hashString=function(v,w){try{return p.Util.hashString(v,w)}catch(C){o.Log.error(C)}},x.hexToBase64Url=function(v){try{return g(v)}catch(w){o.Log.error(w)}},x})()};var o=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var o=(function(){function l(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,d,p){return d&&l(f.prototype,d),p&&l(f,p),f}})(),a=i(3);function s(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=(function(){function l(f){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var p=a.UrlUtility.parseUrlFragment(f,d);this.error=p.error,this.error_description=p.error_description,this.error_uri=p.error_uri,this.code=p.code,this.state=p.state,this.id_token=p.id_token,this.session_state=p.session_state,this.access_token=p.access_token,this.token_type=p.token_type,this.scope=p.scope,this.profile=void 0,this.expires_in=p.expires_in}return o(l,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var p=parseInt(d);if(typeof p=="number"&&p>0){var g=parseInt(Date.now()/1e3);this.expires_at=g+p}}},{key:"expired",get:function(){var d=this.expires_in;if(d!==void 0)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var o=i(0),a=i(3),s=i(9);r.SignoutRequest=function l(f){var d=f.url,p=f.id_token_hint,g=f.post_logout_redirect_uri,y=f.data,b=f.extraQueryParams,x=f.request_type;if((function(w,C){if(!(w instanceof C))throw new TypeError("Cannot call a class as a function")})(this,l),!d)throw o.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var E in p&&(d=a.UrlUtility.addQueryParam(d,"id_token_hint",p)),g&&(d=a.UrlUtility.addQueryParam(d,"post_logout_redirect_uri",g),y&&(this.state=new s.State({data:y,request_type:x}),d=a.UrlUtility.addQueryParam(d,"state",this.state.id))),b)d=a.UrlUtility.addQueryParam(d,E,b[E]);this.url=d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var o=i(3);r.SignoutResponse=function a(s){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,a);var l=o.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var o=(function(){function s(l,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,d){return f&&s(l.prototype,f),d&&s(l,d),l}})(),a=i(0);r.InMemoryWebStorage=(function(){function s(){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(f){return a.Log.debug("InMemoryWebStorage.getItem",f),this._data[f]},s.prototype.setItem=function(f,d){a.Log.debug("InMemoryWebStorage.setItem",f),this._data[f]=d},s.prototype.removeItem=function(f){a.Log.debug("InMemoryWebStorage.removeItem",f),delete this._data[f]},s.prototype.key=function(f){return Object.getOwnPropertyNames(this._data)[f]},o(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var o=(function(){function C(P,R){for(var k=0;k<R.length;k++){var M=R[k];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(P,M.key,M)}}return function(P,R,k){return R&&C(P.prototype,R),k&&C(P,k),P}})(),a=i(0),s=i(10),l=i(39),f=i(15),d=i(45),p=i(47),g=i(18),y=i(8),b=i(20),x=i(11),E=i(4);function v(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function w(C,P){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?C:P}r.UserManager=(function(C){function P(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.SilentRenewService,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.SessionMonitor,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:b.TokenRevocationClient,ee=arguments.length>4&&arguments[4]!==void 0?arguments[4]:x.TokenClient,z=arguments.length>5&&arguments[5]!==void 0?arguments[5]:E.JoseUtil;v(this,P),R instanceof l.UserManagerSettings||(R=new l.UserManagerSettings(R));var H=w(this,C.call(this,R));return H._events=new d.UserManagerEvents(R),H._silentRenewService=new k(H),H.settings.automaticSilentRenew&&(a.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),H.startSilentRenew()),H.settings.monitorSession&&(a.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),H._sessionMonitor=new M(H)),H._tokenRevocationClient=new W(H._settings),H._tokenClient=new ee(H._settings),H._joseUtil=z,H}return(function(k,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);k.prototype=Object.create(M&&M.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(k,M):k.__proto__=M)})(P,C),P.prototype.getUser=function(){var k=this;return this._loadUser().then((function(M){return M?(a.Log.info("UserManager.getUser: user loaded"),k._events.load(M,!1),M):(a.Log.info("UserManager.getUser: user not found in storage"),null)}))},P.prototype.removeUser=function(){var k=this;return this.storeUser(null).then((function(){a.Log.info("UserManager.removeUser: user removed from storage"),k._events.unload()}))},P.prototype.signinRedirect=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(k=Object.assign({},k)).request_type="si:r";var M={useReplaceToNavigate:k.useReplaceToNavigate};return this._signinStart(k,this._redirectNavigator,M).then((function(){a.Log.info("UserManager.signinRedirect: successful")}))},P.prototype.signinRedirectCallback=function(k){return this._signinEnd(k||this._redirectNavigator.url).then((function(M){return M.profile&&M.profile.sub?a.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",M.profile.sub):a.Log.info("UserManager.signinRedirectCallback: no sub"),M}))},P.prototype.signinPopup=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(k=Object.assign({},k)).request_type="si:p";var M=k.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return M?(k.redirect_uri=M,k.display="popup",this._signin(k,this._popupNavigator,{startUrl:M,popupWindowFeatures:k.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:k.popupWindowTarget||this.settings.popupWindowTarget}).then((function(W){return W&&(W.profile&&W.profile.sub?a.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",W.profile.sub):a.Log.info("UserManager.signinPopup: no sub")),W}))):(a.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},P.prototype.signinPopupCallback=function(k){return this._signinCallback(k,this._popupNavigator).then((function(M){return M&&(M.profile&&M.profile.sub?a.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",M.profile.sub):a.Log.info("UserManager.signinPopupCallback: no sub")),M})).catch((function(M){a.Log.error(M.message)}))},P.prototype.signinSilent=function(){var k=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return M=Object.assign({},M),this._loadUser().then((function(W){return W&&W.refresh_token?(M.refresh_token=W.refresh_token,k._useRefreshToken(M)):(M.request_type="si:s",M.id_token_hint=M.id_token_hint||k.settings.includeIdTokenInSilentRenew&&W&&W.id_token,W&&k._settings.validateSubOnSilentRenew&&(a.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",W.profile.sub),M.current_sub=W.profile.sub),k._signinSilentIframe(M))}))},P.prototype._useRefreshToken=function(){var k=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(M).then((function(W){return W?W.access_token?k._loadUser().then((function(ee){if(ee){var z=Promise.resolve();return W.id_token&&(z=k._validateIdTokenFromTokenRefreshToken(ee.profile,W.id_token)),z.then((function(){return a.Log.debug("UserManager._useRefreshToken: refresh token response success"),ee.id_token=W.id_token||ee.id_token,ee.access_token=W.access_token,ee.refresh_token=W.refresh_token||ee.refresh_token,ee.expires_in=W.expires_in,k.storeUser(ee).then((function(){return k._events.load(ee),ee}))}))}return null})):(a.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(a.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},P.prototype._validateIdTokenFromTokenRefreshToken=function(k,M){var W=this;return this._metadataService.getIssuer().then((function(ee){return W.settings.getEpochTime().then((function(z){return W._joseUtil.validateJwtAttributes(M,ee,W._settings.client_id,W._settings.clockSkew,z).then((function(H){return H?H.sub!==k.sub?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):H.auth_time&&H.auth_time!==k.auth_time?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):H.azp&&H.azp!==k.azp?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!H.azp&&k.azp?(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(a.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},P.prototype._signinSilentIframe=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=k.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return M?(k.redirect_uri=M,k.prompt=k.prompt||"none",this._signin(k,this._iframeNavigator,{startUrl:M,silentRequestTimeout:k.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(W){return W&&(W.profile&&W.profile.sub?a.Log.info("UserManager.signinSilent: successful, signed in sub: ",W.profile.sub):a.Log.info("UserManager.signinSilent: no sub")),W}))):(a.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype.signinSilentCallback=function(k){return this._signinCallback(k,this._iframeNavigator).then((function(M){return M&&(M.profile&&M.profile.sub?a.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",M.profile.sub):a.Log.info("UserManager.signinSilentCallback: no sub")),M}))},P.prototype.signinCallback=function(k){var M=this;return this.readSigninResponseState(k).then((function(W){var ee=W.state;return W.response,ee.request_type==="si:r"?M.signinRedirectCallback(k):ee.request_type==="si:p"?M.signinPopupCallback(k):ee.request_type==="si:s"?M.signinSilentCallback(k):Promise.reject(new Error("invalid response_type in state"))}))},P.prototype.signoutCallback=function(k,M){var W=this;return this.readSignoutResponseState(k).then((function(ee){var z=ee.state,H=ee.response;return z?z.request_type==="so:r"?W.signoutRedirectCallback(k):z.request_type==="so:p"?W.signoutPopupCallback(k,M):Promise.reject(new Error("invalid response_type in state")):H}))},P.prototype.querySessionStatus=function(){var k=this,M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(M=Object.assign({},M)).request_type="si:s";var W=M.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return W?(M.redirect_uri=W,M.prompt="none",M.response_type=M.response_type||this.settings.query_status_response_type,M.scope=M.scope||"openid",M.skipUserInfo=!0,this._signinStart(M,this._iframeNavigator,{startUrl:W,silentRequestTimeout:M.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(ee){return k.processSigninResponse(ee.url).then((function(z){if(a.Log.debug("UserManager.querySessionStatus: got signin response"),z.session_state&&z.profile.sub)return a.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",z.profile.sub),{session_state:z.session_state,sub:z.profile.sub,sid:z.profile.sid};a.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(z){if(z.session_state&&k.settings.monitorAnonymousSession&&(z.message=="login_required"||z.message=="consent_required"||z.message=="interaction_required"||z.message=="account_selection_required"))return a.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:z.session_state};throw z}))}))):(a.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype._signin=function(k,M){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(k,M,ee).then((function(z){return W._signinEnd(z.url,k)}))},P.prototype._signinStart=function(k,M){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return M.prepare(ee).then((function(z){return a.Log.debug("UserManager._signinStart: got navigator window handle"),W.createSigninRequest(k).then((function(H){return a.Log.debug("UserManager._signinStart: got signin request"),ee.url=H.url,ee.id=H.state.id,z.navigate(ee)})).catch((function(H){throw z.close&&(a.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),z.close()),H}))}))},P.prototype._signinEnd=function(k){var M=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(k).then((function(ee){a.Log.debug("UserManager._signinEnd: got signin response");var z=new f.User(ee);if(W.current_sub){if(W.current_sub!==z.profile.sub)return a.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",z.profile.sub),Promise.reject(new Error("login_required"));a.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return M.storeUser(z).then((function(){return a.Log.debug("UserManager._signinEnd: user stored"),M._events.load(z),z}))}))},P.prototype._signinCallback=function(k,M){a.Log.debug("UserManager._signinCallback");var W=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return M.callback(k,void 0,W)},P.prototype.signoutRedirect=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(k=Object.assign({},k)).request_type="so:r";var M=k.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;M&&(k.post_logout_redirect_uri=M);var W={useReplaceToNavigate:k.useReplaceToNavigate};return this._signoutStart(k,this._redirectNavigator,W).then((function(){a.Log.info("UserManager.signoutRedirect: successful")}))},P.prototype.signoutRedirectCallback=function(k){return this._signoutEnd(k||this._redirectNavigator.url).then((function(M){return a.Log.info("UserManager.signoutRedirectCallback: successful"),M}))},P.prototype.signoutPopup=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(k=Object.assign({},k)).request_type="so:p";var M=k.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return k.post_logout_redirect_uri=M,k.display="popup",k.post_logout_redirect_uri&&(k.state=k.state||{}),this._signout(k,this._popupNavigator,{startUrl:M,popupWindowFeatures:k.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:k.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){a.Log.info("UserManager.signoutPopup: successful")}))},P.prototype.signoutPopupCallback=function(k,M){return M===void 0&&typeof k=="boolean"&&(M=k,k=null),this._popupNavigator.callback(k,M,"?").then((function(){a.Log.info("UserManager.signoutPopupCallback: successful")}))},P.prototype._signout=function(k,M){var W=this,ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(k,M,ee).then((function(z){return W._signoutEnd(z.url)}))},P.prototype._signoutStart=function(){var k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=this,W=arguments[1],ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W.prepare(ee).then((function(z){return a.Log.debug("UserManager._signoutStart: got navigator window handle"),M._loadUser().then((function(H){return a.Log.debug("UserManager._signoutStart: loaded current user from storage"),(M._settings.revokeAccessTokenOnSignout?M._revokeInternal(H):Promise.resolve()).then((function(){var te=k.id_token_hint||H&&H.id_token;return te&&(a.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),k.id_token_hint=te),M.removeUser().then((function(){return a.Log.debug("UserManager._signoutStart: user removed, creating signout request"),M.createSignoutRequest(k).then((function(oe){return a.Log.debug("UserManager._signoutStart: got signout request"),ee.url=oe.url,oe.state&&(ee.id=oe.state.id),z.navigate(ee)}))}))}))})).catch((function(H){throw z.close&&(a.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),z.close()),H}))}))},P.prototype._signoutEnd=function(k){return this.processSignoutResponse(k).then((function(M){return a.Log.debug("UserManager._signoutEnd: got signout response"),M}))},P.prototype.revokeAccessToken=function(){var k=this;return this._loadUser().then((function(M){return k._revokeInternal(M,!0).then((function(W){if(W)return a.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),M.access_token=null,M.refresh_token=null,M.expires_at=null,M.token_type=null,k.storeUser(M).then((function(){a.Log.debug("UserManager.revokeAccessToken: user stored"),k._events.load(M)}))}))})).then((function(){a.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},P.prototype._revokeInternal=function(k,M){var W=this;if(k){var ee=k.access_token,z=k.refresh_token;return this._revokeAccessTokenInternal(ee,M).then((function(H){return W._revokeRefreshTokenInternal(z,M).then((function(te){return H||te||a.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),H||te}))}))}return Promise.resolve(!1)},P.prototype._revokeAccessTokenInternal=function(k,M){return!k||k.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(k,M).then((function(){return!0}))},P.prototype._revokeRefreshTokenInternal=function(k,M){return k?this._tokenRevocationClient.revoke(k,M,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},P.prototype.startSilentRenew=function(){this._silentRenewService.start()},P.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},P.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(k){return k?(a.Log.debug("UserManager._loadUser: user storageString loaded"),f.User.fromStorageString(k)):(a.Log.debug("UserManager._loadUser: no user storageString"),null)}))},P.prototype.storeUser=function(k){if(k){a.Log.debug("UserManager.storeUser: storing user");var M=k.toStorageString();return this._userStore.set(this._userStoreKey,M)}return a.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},o(P,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),P})(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var o=(function(){function x(E,v){for(var w=0;w<v.length;w++){var C=v[w];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(E,C.key,C)}}return function(E,v,w){return v&&x(E.prototype,v),w&&x(E,w),E}})(),a=(i(0),i(5)),s=i(40),l=i(41),f=i(43),d=i(6),p=i(1),g=i(8);function y(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function b(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?x:E}r.UserManagerSettings=(function(x){function E(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},w=v.popup_redirect_uri,C=v.popup_post_logout_redirect_uri,P=v.popupWindowFeatures,R=v.popupWindowTarget,k=v.silent_redirect_uri,M=v.silentRequestTimeout,W=v.automaticSilentRenew,ee=W!==void 0&&W,z=v.validateSubOnSilentRenew,H=z!==void 0&&z,te=v.includeIdTokenInSilentRenew,oe=te===void 0||te,ue=v.monitorSession,de=ue===void 0||ue,se=v.monitorAnonymousSession,pe=se!==void 0&&se,re=v.checkSessionInterval,Ee=re===void 0?2e3:re,$=v.stopCheckSessionOnError,Q=$===void 0||$,ce=v.query_status_response_type,G=v.revokeAccessTokenOnSignout,X=G!==void 0&&G,ge=v.accessTokenExpiringNotificationTime,xe=ge===void 0?60:ge,Ve=v.redirectNavigator,Pe=Ve===void 0?new s.RedirectNavigator:Ve,Be=v.popupNavigator,Je=Be===void 0?new l.PopupNavigator:Be,fe=v.iframeNavigator,V=fe===void 0?new f.IFrameNavigator:fe,j=v.userStore,ie=j===void 0?new d.WebStorageStateStore({store:p.Global.sessionStorage}):j;y(this,E);var me=b(this,x.call(this,arguments[0]));return me._popup_redirect_uri=w,me._popup_post_logout_redirect_uri=C,me._popupWindowFeatures=P,me._popupWindowTarget=R,me._silent_redirect_uri=k,me._silentRequestTimeout=M,me._automaticSilentRenew=ee,me._validateSubOnSilentRenew=H,me._includeIdTokenInSilentRenew=oe,me._accessTokenExpiringNotificationTime=xe,me._monitorSession=de,me._monitorAnonymousSession=pe,me._checkSessionInterval=Ee,me._stopCheckSessionOnError=Q,ce?me._query_status_response_type=ce:arguments[0]&&arguments[0].response_type?me._query_status_response_type=g.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":me._query_status_response_type="id_token",me._revokeAccessTokenOnSignout=X,me._redirectNavigator=Pe,me._popupNavigator=Je,me._iframeNavigator=V,me._userStore=ie,me}return(function(w,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);w.prototype=Object.create(C&&C.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(w,C):w.__proto__=C)})(E,x),o(E,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),E})(a.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var o=(function(){function s(l,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,d){return f&&s(l.prototype,f),d&&s(l,d),l}})(),a=i(0);r.RedirectNavigator=(function(){function s(){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(f){return f&&f.url?(f.useReplaceToNavigate?window.location.replace(f.url):window.location=f.url,Promise.resolve()):(a.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},o(s,[{key:"url",get:function(){return window.location.href}}]),s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var o=i(0),a=i(42);r.PopupNavigator=(function(){function s(){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(f){var d=new a.PopupWindow(f);return Promise.resolve(d)},s.prototype.callback=function(f,d,p){o.Log.debug("PopupNavigator.callback");try{return a.PopupWindow.notifyOpener(f,d,p),Promise.resolve()}catch(g){return Promise.reject(g)}},s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var o=(function(){function l(f,d){for(var p=0;p<d.length;p++){var g=d[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(f,g.key,g)}}return function(f,d,p){return d&&l(f.prototype,d),p&&l(f,p),f}})(),a=i(0),s=i(3);r.PopupWindow=(function(){function l(f){var d=this;(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise((function(y,b){d._resolve=y,d._reject=b}));var p=f.popupWindowTarget||"_blank",g=f.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",p,g),this._popup&&(a.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(d){return this._popup?d&&d.url?(a.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=d.id,this._id&&(window["popupCallback_"+d.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=d.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(d){a.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(d)},l.prototype._error=function(d){a.Log.error("PopupWindow.error: ",d),this._cleanup(),this._reject(new Error(d))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(d){a.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!d&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(d,p){this._cleanup(p),d?(a.Log.debug("PopupWindow.callback success"),this._success({url:d})):(a.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(d,p,g){if(window.opener){if(d=d||window.location.href){var y=s.UrlUtility.parseUrlFragment(d,g);if(y.state){var b="popupCallback_"+y.state,x=window.opener[b];x?(a.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),x(d,p)):a.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else a.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else a.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},o(l,[{key:"promise",get:function(){return this._promise}}]),l})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var o=i(0),a=i(44);r.IFrameNavigator=(function(){function s(){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(f){var d=new a.IFrameWindow(f);return Promise.resolve(d)},s.prototype.callback=function(f){o.Log.debug("IFrameNavigator.callback");try{return a.IFrameWindow.notifyParent(f),Promise.resolve()}catch(d){return Promise.reject(d)}},s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var o=(function(){function s(l,f){for(var d=0;d<f.length;d++){var p=f[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(l,p.key,p)}}return function(l,f,d){return f&&s(l.prototype,f),d&&s(l,d),l}})(),a=i(0);r.IFrameWindow=(function(){function s(l){var f=this;(function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise((function(d,p){f._resolve=d,f._reject=p})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(f){if(f&&f.url){var d=f.silentRequestTimeout||1e4;a.Log.debug("IFrameWindow.navigate: Using timeout of:",d),this._timer=window.setTimeout(this._timeout.bind(this),d),this._frame.src=f.url}else this._error("No url provided");return this.promise},s.prototype._success=function(f){this._cleanup(),a.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(f)},s.prototype._error=function(f){this._cleanup(),a.Log.error(f),this._reject(new Error(f))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(a.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){a.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(f){if(a.Log.debug("IFrameWindow.message"),this._timer&&f.origin===this._origin&&f.source===this._frame.contentWindow&&typeof f.data=="string"&&(f.data.startsWith("http://")||f.data.startsWith("https://"))){var d=f.data;d?this._success({url:d}):this._error("Invalid response from frame")}},s.notifyParent=function(f){a.Log.debug("IFrameWindow.notifyParent"),(f=f||window.location.href)&&(a.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(f,location.protocol+"//"+location.host))},o(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var o=i(0),a=i(16),s=i(17);r.UserManagerEvents=(function(l){function f(d){(function(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")})(this,f);var p=(function(y,b){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||typeof b!="object"&&typeof b!="function"?y:b})(this,l.call(this,d));return p._userLoaded=new s.Event("User loaded"),p._userUnloaded=new s.Event("User unloaded"),p._silentRenewError=new s.Event("Silent renew error"),p._userSignedIn=new s.Event("User signed in"),p._userSignedOut=new s.Event("User signed out"),p._userSessionChanged=new s.Event("User session changed"),p}return(function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)})(f,l),f.prototype.load=function(p){var g=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];o.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,p),g&&this._userLoaded.raise(p)},f.prototype.unload=function(){o.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},f.prototype.addUserLoaded=function(p){this._userLoaded.addHandler(p)},f.prototype.removeUserLoaded=function(p){this._userLoaded.removeHandler(p)},f.prototype.addUserUnloaded=function(p){this._userUnloaded.addHandler(p)},f.prototype.removeUserUnloaded=function(p){this._userUnloaded.removeHandler(p)},f.prototype.addSilentRenewError=function(p){this._silentRenewError.addHandler(p)},f.prototype.removeSilentRenewError=function(p){this._silentRenewError.removeHandler(p)},f.prototype._raiseSilentRenewError=function(p){o.Log.debug("UserManagerEvents._raiseSilentRenewError",p.message),this._silentRenewError.raise(p)},f.prototype.addUserSignedIn=function(p){this._userSignedIn.addHandler(p)},f.prototype.removeUserSignedIn=function(p){this._userSignedIn.removeHandler(p)},f.prototype._raiseUserSignedIn=function(){o.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},f.prototype.addUserSignedOut=function(p){this._userSignedOut.addHandler(p)},f.prototype.removeUserSignedOut=function(p){this._userSignedOut.removeHandler(p)},f.prototype._raiseUserSignedOut=function(){o.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},f.prototype.addUserSessionChanged=function(p){this._userSessionChanged.addHandler(p)},f.prototype.removeUserSessionChanged=function(p){this._userSessionChanged.removeHandler(p)},f.prototype._raiseUserSessionChanged=function(){o.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},f})(a.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var o=(function(){function p(g,y){for(var b=0;b<y.length;b++){var x=y[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(g,x.key,x)}}return function(g,y,b){return y&&p(g.prototype,y),b&&p(g,b),g}})(),a=i(0),s=i(1),l=i(17);function f(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function d(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?p:g}r.Timer=(function(p){function g(y){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;f(this,g);var E=d(this,p.call(this,y));return E._timer=b,E._nowFunc=x||function(){return Date.now()/1e3},E}return(function(b,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);b.prototype=Object.create(x&&x.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(b,x):b.__proto__=x)})(g,p),g.prototype.init=function(b){b<=0&&(b=1),b=parseInt(b);var x=this.now+b;if(this.expiration===x&&this._timerHandle)a.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),a.Log.debug("Timer.init timer "+this._name+" for duration:",b),this._expiration=x;var E=5;b<E&&(E=b),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*E)}},g.prototype.cancel=function(){this._timerHandle&&(a.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},g.prototype._callback=function(){var b=this._expiration-this.now;a.Log.debug("Timer.callback; "+this._name+" timer expires in:",b),this._expiration<=this.now&&(this.cancel(),p.prototype.raise.call(this))},o(g,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),g})(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var o=i(0);r.SilentRenewService=(function(){function a(s){(function(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),this._userManager=s}return a.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(l){})).catch((function(l){o.Log.error("SilentRenewService.start: Error from getUser:",l.message)})))},a.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},a.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then((function(f){o.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(f){o.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",f.message),l._userManager.events._raiseSilentRenewError(f)}))},a})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var o=i(21);r.CordovaPopupNavigator=(function(){function a(){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.prepare=function(l){var f=new o.CordovaPopupWindow(l);return Promise.resolve(f)},a})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var o=i(21);r.CordovaIFrameNavigator=(function(){function a(){(function(l,f){if(!(l instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var f=new o.CordovaPopupWindow(l);return Promise.resolve(f)},a})()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])}))})(Bv)),Bv.exports}var NT=mee();function gee(e,t){throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${t.redirectUrl?.toString()}] is invalid - ${e.error_description??""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${e.error_description??""}`):new Error(`Dynamic client registration failed: ${e.error} - ${e.error_description??""}`)}function yee(e){return typeof e.client_id=="string"}function vee(e){return Array.isArray(e.redirect_uris)&&e.redirect_uris.every(t=>typeof t=="string")}function _ee(e,t){if(!yee(e))throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&vee(e)&&e.redirect_uris[0]!==t.redirectUrl.toString())throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`);return!0}async function wee(e,t){if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const n=KX(t.idTokenSigningAlgValuesSupported,y_),r={client_name:e.clientName,application_type:"web",redirect_uris:[e.redirectUrl?.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:n,grant_types:["authorization_code","refresh_token"]},i={"Content-Type":"application/json"},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:i,body:JSON.stringify(r)});if(o.ok){const a=await o.json();return _ee(a,e),{clientId:a.client_id,clientSecret:a.client_secret,expiresAt:a.client_secret_expires_at,idTokenSignedResponseAlg:a.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&gee(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function bee(e){return e.error!==void 0&&typeof e.error=="string"}function qk(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function See(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function xee(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function Eee(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function Cee(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function Tee(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function Aee(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function Ree(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function c$(e,t){if(bee(e))throw new u$(`Token endpoint returned error [${e.error}]${qk(e)?`: ${e.error_description}`:""}${See(e)?` (see ${e.error_uri})`:""}`,e.error,qk(e)?e.error_description:void 0);if(!xee(e))throw new hp(["access_token"]);if(!Eee(e))throw new hp(["id_token"]);if(!Tee(e))throw new hp(["token_type"]);if(!Aee(e))throw new hp(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function Pee(e,t,n,r){Ree(e,n);const i={"content-type":"application/x-www-form-urlencoded"};let o;r&&(o=await nee(),i.DPoP=await hR(e.tokenEndpoint,"POST",o)),t.clientSecret&&(i.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const a={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},s={method:"POST",headers:i,body:new URLSearchParams(a).toString()},f=await(await fetch(e.tokenEndpoint,s)).json(),d=c$(f,r),{webId:p,clientId:g}=await t$(d.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:d.access_token,idToken:d.id_token,refreshToken:Cee(d)?d.refresh_token:void 0,webId:p,clientId:g,dpopKey:o,expiresIn:d.expires_in}}const Oee=e=>{try{return new URL(e),!0}catch{return!1}};async function Mee(e,t,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:e};let o={};r!==void 0&&(o={DPoP:await hR(t.tokenEndpoint,"POST",r)});let a={};n.clientSecret!==void 0?a={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:Oee(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...o,...a,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const f=c$(l,r!==void 0),{webId:d}=await t$(f.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:f.access_token,idToken:f.id_token,refreshToken:typeof f.refresh_token=="string"?f.refresh_token:void 0,webId:d,dpopKey:r,expiresIn:f.expires_in}}function Lee(e){const t=r$(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function Iee(){await new NT.OidcClient({response_mode:"query"}).clearStaleState(new NT.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let r=0;r<=t.length;r+=1){const i=t.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>t.removeItem(r))}class kee extends XX{constructor(t,n){super(t,n)}}class Dee extends JX{login=async(t,n)=>{t.prompt!=="none"&&await this.sessionInfoManager.clear(t.sessionId);const r=t.redirectUrl??Lee(window.location.href);if(!n$(r))throw new Error(`${r} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...t,redirectUrl:r,clientName:t.clientName??t.clientId,eventEmitter:n})};validateCurrentSession=async t=>{const n=await this.sessionInfoManager.get(t);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n};handleIncomingRedirect=async(t,n)=>{try{const r=await this.redirectHandler.handle(t,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(t),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(t),n.emit(gi.ERROR,"redirect",r);return}};async cleanUrlAfterRedirect(t){const n=r$(t).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function Hk(e){return typeof e.oidcIssuer=="string"}function Vk(e){return typeof e.redirectUrl=="string"}class Nee{storageUtility;oidcHandler;issuerConfigFetcher;clientRegistrar;constructor(t,n,r,i){this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(t){return Hk(t)&&Vk(t)}async handle(t){if(!Hk(t))throw new DT(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!Vk(t))throw new DT(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const n=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer),r=await QX(t,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:t.tokenType.toLowerCase()==="dpop",...t,issuerConfiguration:n,client:r,scopes:NX(t.customScopes)};return this.oidcHandler.handle(i)}}class Fee extends jX{async handle(t){const n={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl,response_type:"code",scope:t.scopes.join(" "),filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:t.prompt??"consent"},r=new NT.OidcClient(n);try{const i=await r.createSigninRequest();return await this.setupRedirectHandler({oidcLoginOptions:t,state:i.state._id,codeVerifier:i.state._code_verifier,targetUrl:i.url.toString()})}catch(i){console.error(i)}}}const jee=".well-known/openid-configuration",Kk={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function Uee(e){const t={};return Object.keys(e).forEach(n=>{Kk[n]&&(t[Kk[n].toKey]=e[n])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}class mR{storageUtility;constructor(t){this.storageUtility=t,this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let n;const r=new URL(jee,t.endsWith("/")?t:`${t}/`).href,i=await fetch(r);try{n=Uee(await i.json())}catch(o){throw new DT(`[${t.toString()}] has an invalid configuration: ${o.message}`)}return await this.storageUtility.set(mR.getLocalStorageKey(t),JSON.stringify(n)),n}}async function Bee(e,t){await o$(e,t),await Iee()}class $ee extends zX{async get(t){const[n,r,i,o,a,s,l,f]=await Promise.all([this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(t,"webId",{secure:!0}),this.storageUtility.getForUser(t,"clientId",{secure:!1}),this.storageUtility.getForUser(t,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(t,"refreshToken",{secure:!0}),this.storageUtility.getForUser(t,"issuer",{secure:!1}),this.storageUtility.getForUser(t,"tokenType",{secure:!1})]);if(typeof a=="string"&&!n$(a)){await Promise.all([this.storageUtility.deleteAllUserData(t,{secure:!1}),this.storageUtility.deleteAllUserData(t,{secure:!0})]);return}if(f!==void 0&&!VX(f))throw new Error(`Tokens of type [${f}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:t,webId:r,isLoggedIn:n==="true",redirectUrl:a,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:o,tokenType:f??"DPoP"}}async clear(t){return Bee(t,this.storageUtility)}}class zee{async canHandle(t){try{return new URL(t),!0}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t){return i$()}}class qee{storageUtility;sessionInfoManager;issuerConfigFetcher;clientRegistrar;tokerRefresher;constructor(t,n,r,i,o){this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=o,this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=o}async canHandle(t){try{const n=new URL(t);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(!await this.canHandle(t))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),i=r.searchParams.get("state"),o=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:a,codeVerifier:s,redirectUrl:l,dpop:f}=await s$(o,this.storageUtility,this.issuerConfigFetcher),d=r.searchParams.get("iss");if(typeof d=="string"&&d!==a.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${a.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${o} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${o} is missing from storage.`);const p=await this.clientRegistrar.getClient({sessionId:o},a),g=Date.now(),y=await Pee(a,p,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},f);window.localStorage.removeItem(`oidc.${i}`);let b;y.refreshToken!==void 0&&(b={sessionId:o,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const x=see(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:b,eventEmitter:n,expiresIn:y.expiresIn});await YX(this.storageUtility,o,y.webId,y.clientId,"true",void 0,!0);const E=await this.sessionInfoManager.get(o);if(!E)throw new Error(`Could not retrieve session: [${o}].`);return Object.assign(E,{fetch:x,getLogoutUrl:HX({idTokenHint:y.idToken,endSessionEndpoint:a.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?g+y.expiresIn*1e3:void 0})}}class Hee extends DX{constructor(t){super(t)}}class Vee{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,n){this.storage.setItem(t,n)}async delete(t){this.storage.removeItem(t)}}class Kee{redirect(t,n){n&&n.handleRedirect?n.handleRedirect(t):n&&n.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}}class Gee{storageUtility;constructor(t){this.storageUtility=t,this.storageUtility=t}async getClient(t,n){const[r,i,o,a,s]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"expiresAt",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientType",{secure:!1})]),l=o!==void 0?Number.parseInt(o,10):-1,f=i!==void 0&&l!==0&&Math.floor(Date.now()/1e3)>l;if(r&&ZX(s)&&!f)return i!==void 0?{clientId:r,clientSecret:i,clientName:a,clientType:"dynamic",expiresAt:l}:{clientId:r,clientName:a,clientType:s};try{const d=await wee(t,n),p={clientId:d.clientId,clientType:"dynamic"};return d.clientSecret!==void 0&&(p.clientSecret=d.clientSecret,p.expiresAt=String(d.expiresAt)),d.idTokenSignedResponseAlg&&(p.idTokenSignedResponseAlg=d.idTokenSignedResponseAlg),await this.storageUtility.setForUser(t.sessionId,p,{secure:!1}),d}catch(d){throw new Error("Client registration failed.",{cause:d})}}}class Wee{async canHandle(t){try{return new URL(t).searchParams.has("error")}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(n!==void 0){const r=new URL(t),i=r.searchParams.get("error"),o=r.searchParams.get("error_description");n.emit(gi.ERROR,i,o)}return i$()}}class Zee{storageUtility;issuerConfigFetcher;clientRegistrar;constructor(t,n,r){this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(t,n,r,i){const o=await s$(t,this.storageUtility,this.issuerConfigFetcher),a=await this.clientRegistrar.getClient({sessionId:t},o.issuerConfig);if(n===void 0)throw new Error(`Session [${t}] has no refresh token to allow it to refresh its access token.`);if(o.dpop&&r===void 0)throw new Error(`For session [${t}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await Mee(n,o.issuerConfig,a,r);return s.refreshToken!==void 0&&i?.emit(gi.NEW_REFRESH_TOKEN,s.refreshToken),s}}function Gk(e){const t=new eee,n=e.secureStorage||t,r=e.insecureStorage||new Vee,i=new kee(n,r),o=new mR(i),a=new Gee(i),s=new $ee(i),l=new Zee(i,o,a),f=new Kee,d=new Nee(i,new Fee(i,f),o,a),p=new Hee([new Wee,new qee(i,s,o,a,l),new zee]);return new Dee(d,p,new $X(s,f),s,o)}const x1=`${e$}currentSession`,FT=`${e$}currentUrl`;async function Qee(e,t,n){const r=await t.validateCurrentSession(e);return r!==null?(window.localStorage.setItem(FT,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:r.issuer,redirectUrl:r.redirectUrl,clientId:r.clientAppId,clientSecret:r.clientAppSecret,tokenType:r.tokenType??"DPoP"},n.events),!0):!1}function Jee(e){return!!e?.isLoggedIn}class Yee{info;events;clientAuthentication;tokenRequestInProgress=!1;constructor(t={},n=void 0){this.events=new hee,t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=Gk({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=Gk({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId,clientAppId:t.sessionInfo.clientAppId}:this.info={sessionId:n??dee(),isLoggedIn:!1},this.events.on(gi.LOGIN,()=>window.localStorage.setItem(x1,this.info.sessionId)),this.events.on(gi.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(gi.ERROR,()=>this.internalLogout(!1))}login=async t=>(await this.clientAuthentication.login({sessionId:this.info.sessionId,...t,tokenType:t.tokenType??"DPoP"},this.events),new Promise(()=>{}));fetch=(t,n)=>this.clientAuthentication.fetch(t,n);internalLogout=async(t,n)=>{window.localStorage.removeItem(x1),await this.clientAuthentication.logout(this.info.sessionId,n),this.info.isLoggedIn=!1,t&&this.events.emit(gi.LOGOUT)};logout=async t=>this.internalLogout(!0,t);handleIncomingRedirect=async(t={})=>{if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const n=typeof t=="string"?{url:t}:t,r=n.url??window.location.href;this.tokenRequestInProgress=!0;const i=await this.clientAuthentication.handleIncomingRedirect(r,this.events);if(Jee(i)){this.setSessionInfo(i);const o=window.localStorage.getItem(FT);o===null?this.events.emit(gi.LOGIN):(window.localStorage.removeItem(FT),this.events.emit(gi.SESSION_RESTORED,o))}else if(n.restorePreviousSession===!0){const o=window.localStorage.getItem(x1);if(o!==null&&await Qee(o,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,i};setSessionInfo(t){this.info.isLoggedIn=t.isLoggedIn,this.info.webId=t.webId,this.info.sessionId=t.sessionId,this.info.clientAppId=t.clientAppId,this.info.expirationDate=t.expirationDate,this.events.on(gi.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let E1;function _m(){return typeof E1>"u"&&(E1=new Yee),E1}function Xn(...e){return _m().fetch(...e)}function Xee(...e){return _m().login(...e)}function ete(...e){return _m().logout(...e)}function tte(...e){return _m().handleIncomingRedirect(...e)}var C1,Wk;function nte(){if(Wk)return C1;Wk=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,o=/[;,"]|\s/,a=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(b){return b.replace(t,"")}function f(b){return n.test(b)}function d(b,x){for(;f(b[x]);)x++;return x}function p(b){return o.test(b)||!a.test(b)}function g(b,x){return Object.keys(b).length===Object.keys(x).length&&Object.keys(b).every(E=>E in x&&b[E]===x[E])}class y{constructor(x){this.refs=[],x&&this.parse(x)}rel(x){for(var E=[],v=x.toLowerCase(),w=0;w<this.refs.length;w++)typeof this.refs[w].rel=="string"&&this.refs[w].rel.toLowerCase()===v&&E.push(this.refs[w]);return E}get(x,E){x=x.toLowerCase(),E=E.toLowerCase();for(var v=[],w=0;w<this.refs.length;w++)typeof this.refs[w][x]=="string"&&this.refs[w][x].toLowerCase()===E&&v.push(this.refs[w]);return v}set(x){return this.refs.push(x),this}setUnique(x){return this.refs.some(E=>g(E,x))||this.refs.push(x),this}has(x,E){x=x.toLowerCase(),E=E.toLowerCase();for(var v=0;v<this.refs.length;v++)if(typeof this.refs[v][x]=="string"&&this.refs[v][x].toLowerCase()===E)return!0;return!1}parse(x,C){C=C||0,x=C?x.slice(C):x,x=l(x).replace(r,"");for(var v=s.IDLE,w=x.length,C=0,P=null;C<w;)if(v===s.IDLE){if(f(x[C])){C++;continue}else if(x[C]==="<"){P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P));var R=x.indexOf(">",C);if(R===-1)throw new Error("Expected end of URI delimiter at offset "+C);P={uri:x.slice(C+1,R)},C=R,v=s.URI}else throw new Error('Unexpected character "'+x[C]+'" at offset '+C);C++}else if(v===s.URI)if(f(x[C])){C++;continue}else if(x[C]===";")v=s.ATTR,C++;else if(x[C]===",")v=s.IDLE,C++;else throw new Error('Unexpected character "'+x[C]+'" at offset '+C);else if(v===s.ATTR){if(x[C]===";"||f(x[C])){C++;continue}var R=x.indexOf("=",C);R===-1&&(R=x.indexOf(";",C)),R===-1&&(R=x.length);var k=l(x.slice(C,R)).toLowerCase(),M="";if(C=R+1,C=d(x,C),x[C]==='"')for(C++;C<w;){if(x[C]==='"'){C++;break}x[C]==="\\"&&C++,M+=x[C],C++}else{for(var R=C+1;!i.test(x[R])&&R<w;)R++;M=x.slice(C,R),C=R}switch(P[k]&&y.isSingleOccurenceAttr(k)||(k[k.length-1]==="*"?P[k]=y.parseExtendedValue(M):(M=k==="type"?M.toLowerCase():M,P[k]!=null?Array.isArray(P[k])?P[k].push(M):P[k]=[P[k],M]:P[k]=M)),x[C]){case",":v=s.IDLE;break;case";":v=s.ATTR;break}C++}else throw new Error('Unknown parser state "'+v+'"');return P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P)),P=null,this}toString(){for(var x=[],E="",v=null,w=0;w<this.refs.length;w++)v=this.refs[w],E=Object.keys(this.refs[w]).reduce(function(C,P){return P==="uri"?C:C+"; "+y.formatAttribute(P,v[P])},"<"+v.uri+">"),x.push(E);return x.join(", ")}}return y.isCompatibleEncoding=function(b){return e.test(b)},y.parse=function(b,x){return new y().parse(b,x)},y.isSingleOccurenceAttr=function(b){return b==="rel"||b==="type"||b==="media"||b==="title"||b==="title*"},y.isTokenAttr=function(b){return b==="rel"||b==="type"||b==="anchor"},y.escapeQuotes=function(b){return b.replace(/"/g,'\\"')},y.expandRelations=function(b){var x=b.rel.split(" ");return x.map(function(E){var v=Object.assign({},b);return v.rel=E,v})},y.parseExtendedValue=function(b){var x=/([^']+)?(?:'([^']*)')?(.+)/.exec(b);return{language:x[2].toLowerCase(),encoding:y.isCompatibleEncoding(x[1])?null:x[1].toLowerCase(),value:y.isCompatibleEncoding(x[1])?decodeURIComponent(x[3]):x[3]}},y.formatExtendedAttribute=function(b,x){var E=(x.encoding||"utf-8").toUpperCase(),v=x.language||"en",w="";return Buffer.isBuffer(x.value)&&y.isCompatibleEncoding(E)?w=x.value.toString(E):Buffer.isBuffer(x.value)?w=x.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):w=encodeURIComponent(x.value),b+"="+E+"'"+v+"'"+w},y.formatAttribute=function(b,x){return Array.isArray(x)?x.map(E=>y.formatAttribute(b,E)).join("; "):b[b.length-1]==="*"||typeof x!="string"?y.formatExtendedAttribute(b,x):(y.isTokenAttr(b)?x=p(x)?'"'+y.escapeQuotes(x)+'"':y.escapeQuotes(x):p(x)&&(x=encodeURIComponent(x),x=x.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),x='"'+x+'"'),b+"="+x)},C1=y,C1}var rte=nte();const f$=_r(rte);var T1={},Uh={},Zk;function ite(){if(Zk)return Uh;Zk=1,Uh.byteLength=s,Uh.toByteArray=f,Uh.fromByteArray=g;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=b);var E=x===b?0:4-x%4;return[x,E]}function s(y){var b=a(y),x=b[0],E=b[1];return(x+E)*3/4-E}function l(y,b,x){return(b+x)*3/4-x}function f(y){var b,x=a(y),E=x[0],v=x[1],w=new n(l(y,E,v)),C=0,P=v>0?E-4:E,R;for(R=0;R<P;R+=4)b=t[y.charCodeAt(R)]<<18|t[y.charCodeAt(R+1)]<<12|t[y.charCodeAt(R+2)]<<6|t[y.charCodeAt(R+3)],w[C++]=b>>16&255,w[C++]=b>>8&255,w[C++]=b&255;return v===2&&(b=t[y.charCodeAt(R)]<<2|t[y.charCodeAt(R+1)]>>4,w[C++]=b&255),v===1&&(b=t[y.charCodeAt(R)]<<10|t[y.charCodeAt(R+1)]<<4|t[y.charCodeAt(R+2)]>>2,w[C++]=b>>8&255,w[C++]=b&255),w}function d(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function p(y,b,x){for(var E,v=[],w=b;w<x;w+=3)E=(y[w]<<16&16711680)+(y[w+1]<<8&65280)+(y[w+2]&255),v.push(d(E));return v.join("")}function g(y){for(var b,x=y.length,E=x%3,v=[],w=16383,C=0,P=x-E;C<P;C+=w)v.push(p(y,C,C+w>P?P:C+w));return E===1?(b=y[x-1],v.push(e[b>>2]+e[b<<4&63]+"==")):E===2&&(b=(y[x-2]<<8)+y[x-1],v.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),v.join("")}return Uh}var cy={};var Qk;function ote(){return Qk||(Qk=1,cy.read=function(e,t,n,r,i){var o,a,s=i*8-r-1,l=(1<<s)-1,f=l>>1,d=-7,p=n?i-1:0,g=n?-1:1,y=e[t+p];for(p+=g,o=y&(1<<-d)-1,y>>=-d,d+=s;d>0;o=o*256+e[t+p],p+=g,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=r;d>0;a=a*256+e[t+p],p+=g,d-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,r),o=o-f}return(y?-1:1)*a*Math.pow(2,o-r)},cy.write=function(e,t,n,r,i,o){var a,s,l,f=o*8-i-1,d=(1<<f)-1,p=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:o-1,b=r?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?t+=g/l:t+=g*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=d?(s=0,a=d):a+p>=1?(s=(t*l-1)*Math.pow(2,i),a=a+p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+y]=s&255,y+=b,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;e[n+y]=a&255,y+=b,a/=256,f-=8);e[n+y-b]|=x*128}),cy}var Jk;function hu(){return Jk||(Jk=1,(function(e){const t=ite(),n=ote(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=w,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const ae=new Uint8Array(1),K={foo:function(){return 42}};return Object.setPrototypeOf(K,Uint8Array.prototype),Object.setPrototypeOf(ae,K),ae.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(ae){if(ae>i)throw new RangeError('The value "'+ae+'" is invalid for option "size"');const K=new Uint8Array(ae);return Object.setPrototypeOf(K,s.prototype),K}function s(ae,K,Y){if(typeof ae=="number"){if(typeof K=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(ae)}return l(ae,K,Y)}s.poolSize=8192;function l(ae,K,Y){if(typeof ae=="string")return g(ae,K);if(ArrayBuffer.isView(ae))return b(ae);if(ae==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae);if(Me(ae,ArrayBuffer)||ae&&Me(ae.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Me(ae,SharedArrayBuffer)||ae&&Me(ae.buffer,SharedArrayBuffer)))return x(ae,K,Y);if(typeof ae=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=ae.valueOf&&ae.valueOf();if(J!=null&&J!==ae)return s.from(J,K,Y);const Ge=E(ae);if(Ge)return Ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ae[Symbol.toPrimitive]=="function")return s.from(ae[Symbol.toPrimitive]("string"),K,Y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ae)}s.from=function(ae,K,Y){return l(ae,K,Y)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function f(ae){if(typeof ae!="number")throw new TypeError('"size" argument must be of type number');if(ae<0)throw new RangeError('The value "'+ae+'" is invalid for option "size"')}function d(ae,K,Y){return f(ae),ae<=0?a(ae):K!==void 0?typeof Y=="string"?a(ae).fill(K,Y):a(ae).fill(K):a(ae)}s.alloc=function(ae,K,Y){return d(ae,K,Y)};function p(ae){return f(ae),a(ae<0?0:v(ae)|0)}s.allocUnsafe=function(ae){return p(ae)},s.allocUnsafeSlow=function(ae){return p(ae)};function g(ae,K){if((typeof K!="string"||K==="")&&(K="utf8"),!s.isEncoding(K))throw new TypeError("Unknown encoding: "+K);const Y=C(ae,K)|0;let J=a(Y);const Ge=J.write(ae,K);return Ge!==Y&&(J=J.slice(0,Ge)),J}function y(ae){const K=ae.length<0?0:v(ae.length)|0,Y=a(K);for(let J=0;J<K;J+=1)Y[J]=ae[J]&255;return Y}function b(ae){if(Me(ae,Uint8Array)){const K=new Uint8Array(ae);return x(K.buffer,K.byteOffset,K.byteLength)}return y(ae)}function x(ae,K,Y){if(K<0||ae.byteLength<K)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<K+(Y||0))throw new RangeError('"length" is outside of buffer bounds');let J;return K===void 0&&Y===void 0?J=new Uint8Array(ae):Y===void 0?J=new Uint8Array(ae,K):J=new Uint8Array(ae,K,Y),Object.setPrototypeOf(J,s.prototype),J}function E(ae){if(s.isBuffer(ae)){const K=v(ae.length)|0,Y=a(K);return Y.length===0||ae.copy(Y,0,0,K),Y}if(ae.length!==void 0)return typeof ae.length!="number"||tt(ae.length)?a(0):y(ae);if(ae.type==="Buffer"&&Array.isArray(ae.data))return y(ae.data)}function v(ae){if(ae>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ae|0}function w(ae){return+ae!=ae&&(ae=0),s.alloc(+ae)}s.isBuffer=function(K){return K!=null&&K._isBuffer===!0&&K!==s.prototype},s.compare=function(K,Y){if(Me(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),Me(Y,Uint8Array)&&(Y=s.from(Y,Y.offset,Y.byteLength)),!s.isBuffer(K)||!s.isBuffer(Y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(K===Y)return 0;let J=K.length,Ge=Y.length;for(let et=0,Ke=Math.min(J,Ge);et<Ke;++et)if(K[et]!==Y[et]){J=K[et],Ge=Y[et];break}return J<Ge?-1:Ge<J?1:0},s.isEncoding=function(K){switch(String(K).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(K,Y){if(!Array.isArray(K))throw new TypeError('"list" argument must be an Array of Buffers');if(K.length===0)return s.alloc(0);let J;if(Y===void 0)for(Y=0,J=0;J<K.length;++J)Y+=K[J].length;const Ge=s.allocUnsafe(Y);let et=0;for(J=0;J<K.length;++J){let Ke=K[J];if(Me(Ke,Uint8Array))et+Ke.length>Ge.length?(s.isBuffer(Ke)||(Ke=s.from(Ke)),Ke.copy(Ge,et)):Uint8Array.prototype.set.call(Ge,Ke,et);else if(s.isBuffer(Ke))Ke.copy(Ge,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=Ke.length}return Ge};function C(ae,K){if(s.isBuffer(ae))return ae.length;if(ArrayBuffer.isView(ae)||Me(ae,ArrayBuffer))return ae.byteLength;if(typeof ae!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ae);const Y=ae.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&Y===0)return 0;let Ge=!1;for(;;)switch(K){case"ascii":case"latin1":case"binary":return Y;case"utf8":case"utf-8":return Le(ae).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y*2;case"hex":return Y>>>1;case"base64":return ye(ae).length;default:if(Ge)return J?-1:Le(ae).length;K=(""+K).toLowerCase(),Ge=!0}}s.byteLength=C;function P(ae,K,Y){let J=!1;if((K===void 0||K<0)&&(K=0),K>this.length||((Y===void 0||Y>this.length)&&(Y=this.length),Y<=0)||(Y>>>=0,K>>>=0,Y<=K))return"";for(ae||(ae="utf8");;)switch(ae){case"hex":return Ee(this,K,Y);case"utf8":case"utf-8":return ue(this,K,Y);case"ascii":return pe(this,K,Y);case"latin1":case"binary":return re(this,K,Y);case"base64":return oe(this,K,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,K,Y);default:if(J)throw new TypeError("Unknown encoding: "+ae);ae=(ae+"").toLowerCase(),J=!0}}s.prototype._isBuffer=!0;function R(ae,K,Y){const J=ae[K];ae[K]=ae[Y],ae[Y]=J}s.prototype.swap16=function(){const K=this.length;if(K%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let Y=0;Y<K;Y+=2)R(this,Y,Y+1);return this},s.prototype.swap32=function(){const K=this.length;if(K%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let Y=0;Y<K;Y+=4)R(this,Y,Y+3),R(this,Y+1,Y+2);return this},s.prototype.swap64=function(){const K=this.length;if(K%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let Y=0;Y<K;Y+=8)R(this,Y,Y+7),R(this,Y+1,Y+6),R(this,Y+2,Y+5),R(this,Y+3,Y+4);return this},s.prototype.toString=function(){const K=this.length;return K===0?"":arguments.length===0?ue(this,0,K):P.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(K){if(!s.isBuffer(K))throw new TypeError("Argument must be a Buffer");return this===K?!0:s.compare(this,K)===0},s.prototype.inspect=function(){let K="";const Y=e.INSPECT_MAX_BYTES;return K=this.toString("hex",0,Y).replace(/(.{2})/g,"$1 ").trim(),this.length>Y&&(K+=" ... "),"<Buffer "+K+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(K,Y,J,Ge,et){if(Me(K,Uint8Array)&&(K=s.from(K,K.offset,K.byteLength)),!s.isBuffer(K))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof K);if(Y===void 0&&(Y=0),J===void 0&&(J=K?K.length:0),Ge===void 0&&(Ge=0),et===void 0&&(et=this.length),Y<0||J>K.length||Ge<0||et>this.length)throw new RangeError("out of range index");if(Ge>=et&&Y>=J)return 0;if(Ge>=et)return-1;if(Y>=J)return 1;if(Y>>>=0,J>>>=0,Ge>>>=0,et>>>=0,this===K)return 0;let Ke=et-Ge,Pt=J-Y;const tn=Math.min(Ke,Pt),zt=this.slice(Ge,et),Zt=K.slice(Y,J);for(let Yt=0;Yt<tn;++Yt)if(zt[Yt]!==Zt[Yt]){Ke=zt[Yt],Pt=Zt[Yt];break}return Ke<Pt?-1:Pt<Ke?1:0};function k(ae,K,Y,J,Ge){if(ae.length===0)return-1;if(typeof Y=="string"?(J=Y,Y=0):Y>2147483647?Y=2147483647:Y<-2147483648&&(Y=-2147483648),Y=+Y,tt(Y)&&(Y=Ge?0:ae.length-1),Y<0&&(Y=ae.length+Y),Y>=ae.length){if(Ge)return-1;Y=ae.length-1}else if(Y<0)if(Ge)Y=0;else return-1;if(typeof K=="string"&&(K=s.from(K,J)),s.isBuffer(K))return K.length===0?-1:M(ae,K,Y,J,Ge);if(typeof K=="number")return K=K&255,typeof Uint8Array.prototype.indexOf=="function"?Ge?Uint8Array.prototype.indexOf.call(ae,K,Y):Uint8Array.prototype.lastIndexOf.call(ae,K,Y):M(ae,[K],Y,J,Ge);throw new TypeError("val must be string, number or Buffer")}function M(ae,K,Y,J,Ge){let et=1,Ke=ae.length,Pt=K.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(ae.length<2||K.length<2)return-1;et=2,Ke/=2,Pt/=2,Y/=2}function tn(Zt,Yt){return et===1?Zt[Yt]:Zt.readUInt16BE(Yt*et)}let zt;if(Ge){let Zt=-1;for(zt=Y;zt<Ke;zt++)if(tn(ae,zt)===tn(K,Zt===-1?0:zt-Zt)){if(Zt===-1&&(Zt=zt),zt-Zt+1===Pt)return Zt*et}else Zt!==-1&&(zt-=zt-Zt),Zt=-1}else for(Y+Pt>Ke&&(Y=Ke-Pt),zt=Y;zt>=0;zt--){let Zt=!0;for(let Yt=0;Yt<Pt;Yt++)if(tn(ae,zt+Yt)!==tn(K,Yt)){Zt=!1;break}if(Zt)return zt}return-1}s.prototype.includes=function(K,Y,J){return this.indexOf(K,Y,J)!==-1},s.prototype.indexOf=function(K,Y,J){return k(this,K,Y,J,!0)},s.prototype.lastIndexOf=function(K,Y,J){return k(this,K,Y,J,!1)};function W(ae,K,Y,J){Y=Number(Y)||0;const Ge=ae.length-Y;J?(J=Number(J),J>Ge&&(J=Ge)):J=Ge;const et=K.length;J>et/2&&(J=et/2);let Ke;for(Ke=0;Ke<J;++Ke){const Pt=parseInt(K.substr(Ke*2,2),16);if(tt(Pt))return Ke;ae[Y+Ke]=Pt}return Ke}function ee(ae,K,Y,J){return Ae(Le(K,ae.length-Y),ae,Y,J)}function z(ae,K,Y,J){return Ae(rt(K),ae,Y,J)}function H(ae,K,Y,J){return Ae(ye(K),ae,Y,J)}function te(ae,K,Y,J){return Ae(Ie(K,ae.length-Y),ae,Y,J)}s.prototype.write=function(K,Y,J,Ge){if(Y===void 0)Ge="utf8",J=this.length,Y=0;else if(J===void 0&&typeof Y=="string")Ge=Y,J=this.length,Y=0;else if(isFinite(Y))Y=Y>>>0,isFinite(J)?(J=J>>>0,Ge===void 0&&(Ge="utf8")):(Ge=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const et=this.length-Y;if((J===void 0||J>et)&&(J=et),K.length>0&&(J<0||Y<0)||Y>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ge||(Ge="utf8");let Ke=!1;for(;;)switch(Ge){case"hex":return W(this,K,Y,J);case"utf8":case"utf-8":return ee(this,K,Y,J);case"ascii":case"latin1":case"binary":return z(this,K,Y,J);case"base64":return H(this,K,Y,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,K,Y,J);default:if(Ke)throw new TypeError("Unknown encoding: "+Ge);Ge=(""+Ge).toLowerCase(),Ke=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oe(ae,K,Y){return K===0&&Y===ae.length?t.fromByteArray(ae):t.fromByteArray(ae.slice(K,Y))}function ue(ae,K,Y){Y=Math.min(ae.length,Y);const J=[];let Ge=K;for(;Ge<Y;){const et=ae[Ge];let Ke=null,Pt=et>239?4:et>223?3:et>191?2:1;if(Ge+Pt<=Y){let tn,zt,Zt,Yt;switch(Pt){case 1:et<128&&(Ke=et);break;case 2:tn=ae[Ge+1],(tn&192)===128&&(Yt=(et&31)<<6|tn&63,Yt>127&&(Ke=Yt));break;case 3:tn=ae[Ge+1],zt=ae[Ge+2],(tn&192)===128&&(zt&192)===128&&(Yt=(et&15)<<12|(tn&63)<<6|zt&63,Yt>2047&&(Yt<55296||Yt>57343)&&(Ke=Yt));break;case 4:tn=ae[Ge+1],zt=ae[Ge+2],Zt=ae[Ge+3],(tn&192)===128&&(zt&192)===128&&(Zt&192)===128&&(Yt=(et&15)<<18|(tn&63)<<12|(zt&63)<<6|Zt&63,Yt>65535&&Yt<1114112&&(Ke=Yt))}}Ke===null?(Ke=65533,Pt=1):Ke>65535&&(Ke-=65536,J.push(Ke>>>10&1023|55296),Ke=56320|Ke&1023),J.push(Ke),Ge+=Pt}return se(J)}const de=4096;function se(ae){const K=ae.length;if(K<=de)return String.fromCharCode.apply(String,ae);let Y="",J=0;for(;J<K;)Y+=String.fromCharCode.apply(String,ae.slice(J,J+=de));return Y}function pe(ae,K,Y){let J="";Y=Math.min(ae.length,Y);for(let Ge=K;Ge<Y;++Ge)J+=String.fromCharCode(ae[Ge]&127);return J}function re(ae,K,Y){let J="";Y=Math.min(ae.length,Y);for(let Ge=K;Ge<Y;++Ge)J+=String.fromCharCode(ae[Ge]);return J}function Ee(ae,K,Y){const J=ae.length;(!K||K<0)&&(K=0),(!Y||Y<0||Y>J)&&(Y=J);let Ge="";for(let et=K;et<Y;++et)Ge+=mt[ae[et]];return Ge}function $(ae,K,Y){const J=ae.slice(K,Y);let Ge="";for(let et=0;et<J.length-1;et+=2)Ge+=String.fromCharCode(J[et]+J[et+1]*256);return Ge}s.prototype.slice=function(K,Y){const J=this.length;K=~~K,Y=Y===void 0?J:~~Y,K<0?(K+=J,K<0&&(K=0)):K>J&&(K=J),Y<0?(Y+=J,Y<0&&(Y=0)):Y>J&&(Y=J),Y<K&&(Y=K);const Ge=this.subarray(K,Y);return Object.setPrototypeOf(Ge,s.prototype),Ge};function Q(ae,K,Y){if(ae%1!==0||ae<0)throw new RangeError("offset is not uint");if(ae+K>Y)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(K,Y,J){K=K>>>0,Y=Y>>>0,J||Q(K,Y,this.length);let Ge=this[K],et=1,Ke=0;for(;++Ke<Y&&(et*=256);)Ge+=this[K+Ke]*et;return Ge},s.prototype.readUintBE=s.prototype.readUIntBE=function(K,Y,J){K=K>>>0,Y=Y>>>0,J||Q(K,Y,this.length);let Ge=this[K+--Y],et=1;for(;Y>0&&(et*=256);)Ge+=this[K+--Y]*et;return Ge},s.prototype.readUint8=s.prototype.readUInt8=function(K,Y){return K=K>>>0,Y||Q(K,1,this.length),this[K]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(K,Y){return K=K>>>0,Y||Q(K,2,this.length),this[K]|this[K+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(K,Y){return K=K>>>0,Y||Q(K,2,this.length),this[K]<<8|this[K+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(K,Y){return K=K>>>0,Y||Q(K,4,this.length),(this[K]|this[K+1]<<8|this[K+2]<<16)+this[K+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(K,Y){return K=K>>>0,Y||Q(K,4,this.length),this[K]*16777216+(this[K+1]<<16|this[K+2]<<8|this[K+3])},s.prototype.readBigUInt64LE=Ye(function(K){K=K>>>0,j(K,"offset");const Y=this[K],J=this[K+7];(Y===void 0||J===void 0)&&ie(K,this.length-8);const Ge=Y+this[++K]*2**8+this[++K]*2**16+this[++K]*2**24,et=this[++K]+this[++K]*2**8+this[++K]*2**16+J*2**24;return BigInt(Ge)+(BigInt(et)<<BigInt(32))}),s.prototype.readBigUInt64BE=Ye(function(K){K=K>>>0,j(K,"offset");const Y=this[K],J=this[K+7];(Y===void 0||J===void 0)&&ie(K,this.length-8);const Ge=Y*2**24+this[++K]*2**16+this[++K]*2**8+this[++K],et=this[++K]*2**24+this[++K]*2**16+this[++K]*2**8+J;return(BigInt(Ge)<<BigInt(32))+BigInt(et)}),s.prototype.readIntLE=function(K,Y,J){K=K>>>0,Y=Y>>>0,J||Q(K,Y,this.length);let Ge=this[K],et=1,Ke=0;for(;++Ke<Y&&(et*=256);)Ge+=this[K+Ke]*et;return et*=128,Ge>=et&&(Ge-=Math.pow(2,8*Y)),Ge},s.prototype.readIntBE=function(K,Y,J){K=K>>>0,Y=Y>>>0,J||Q(K,Y,this.length);let Ge=Y,et=1,Ke=this[K+--Ge];for(;Ge>0&&(et*=256);)Ke+=this[K+--Ge]*et;return et*=128,Ke>=et&&(Ke-=Math.pow(2,8*Y)),Ke},s.prototype.readInt8=function(K,Y){return K=K>>>0,Y||Q(K,1,this.length),this[K]&128?(255-this[K]+1)*-1:this[K]},s.prototype.readInt16LE=function(K,Y){K=K>>>0,Y||Q(K,2,this.length);const J=this[K]|this[K+1]<<8;return J&32768?J|4294901760:J},s.prototype.readInt16BE=function(K,Y){K=K>>>0,Y||Q(K,2,this.length);const J=this[K+1]|this[K]<<8;return J&32768?J|4294901760:J},s.prototype.readInt32LE=function(K,Y){return K=K>>>0,Y||Q(K,4,this.length),this[K]|this[K+1]<<8|this[K+2]<<16|this[K+3]<<24},s.prototype.readInt32BE=function(K,Y){return K=K>>>0,Y||Q(K,4,this.length),this[K]<<24|this[K+1]<<16|this[K+2]<<8|this[K+3]},s.prototype.readBigInt64LE=Ye(function(K){K=K>>>0,j(K,"offset");const Y=this[K],J=this[K+7];(Y===void 0||J===void 0)&&ie(K,this.length-8);const Ge=this[K+4]+this[K+5]*2**8+this[K+6]*2**16+(J<<24);return(BigInt(Ge)<<BigInt(32))+BigInt(Y+this[++K]*2**8+this[++K]*2**16+this[++K]*2**24)}),s.prototype.readBigInt64BE=Ye(function(K){K=K>>>0,j(K,"offset");const Y=this[K],J=this[K+7];(Y===void 0||J===void 0)&&ie(K,this.length-8);const Ge=(Y<<24)+this[++K]*2**16+this[++K]*2**8+this[++K];return(BigInt(Ge)<<BigInt(32))+BigInt(this[++K]*2**24+this[++K]*2**16+this[++K]*2**8+J)}),s.prototype.readFloatLE=function(K,Y){return K=K>>>0,Y||Q(K,4,this.length),n.read(this,K,!0,23,4)},s.prototype.readFloatBE=function(K,Y){return K=K>>>0,Y||Q(K,4,this.length),n.read(this,K,!1,23,4)},s.prototype.readDoubleLE=function(K,Y){return K=K>>>0,Y||Q(K,8,this.length),n.read(this,K,!0,52,8)},s.prototype.readDoubleBE=function(K,Y){return K=K>>>0,Y||Q(K,8,this.length),n.read(this,K,!1,52,8)};function ce(ae,K,Y,J,Ge,et){if(!s.isBuffer(ae))throw new TypeError('"buffer" argument must be a Buffer instance');if(K>Ge||K<et)throw new RangeError('"value" argument is out of bounds');if(Y+J>ae.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(K,Y,J,Ge){if(K=+K,Y=Y>>>0,J=J>>>0,!Ge){const Pt=Math.pow(2,8*J)-1;ce(this,K,Y,J,Pt,0)}let et=1,Ke=0;for(this[Y]=K&255;++Ke<J&&(et*=256);)this[Y+Ke]=K/et&255;return Y+J},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(K,Y,J,Ge){if(K=+K,Y=Y>>>0,J=J>>>0,!Ge){const Pt=Math.pow(2,8*J)-1;ce(this,K,Y,J,Pt,0)}let et=J-1,Ke=1;for(this[Y+et]=K&255;--et>=0&&(Ke*=256);)this[Y+et]=K/Ke&255;return Y+J},s.prototype.writeUint8=s.prototype.writeUInt8=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,1,255,0),this[Y]=K&255,Y+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,2,65535,0),this[Y]=K&255,this[Y+1]=K>>>8,Y+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,2,65535,0),this[Y]=K>>>8,this[Y+1]=K&255,Y+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,4,4294967295,0),this[Y+3]=K>>>24,this[Y+2]=K>>>16,this[Y+1]=K>>>8,this[Y]=K&255,Y+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,4,4294967295,0),this[Y]=K>>>24,this[Y+1]=K>>>16,this[Y+2]=K>>>8,this[Y+3]=K&255,Y+4};function G(ae,K,Y,J,Ge){V(K,J,Ge,ae,Y,7);let et=Number(K&BigInt(4294967295));ae[Y++]=et,et=et>>8,ae[Y++]=et,et=et>>8,ae[Y++]=et,et=et>>8,ae[Y++]=et;let Ke=Number(K>>BigInt(32)&BigInt(4294967295));return ae[Y++]=Ke,Ke=Ke>>8,ae[Y++]=Ke,Ke=Ke>>8,ae[Y++]=Ke,Ke=Ke>>8,ae[Y++]=Ke,Y}function X(ae,K,Y,J,Ge){V(K,J,Ge,ae,Y,7);let et=Number(K&BigInt(4294967295));ae[Y+7]=et,et=et>>8,ae[Y+6]=et,et=et>>8,ae[Y+5]=et,et=et>>8,ae[Y+4]=et;let Ke=Number(K>>BigInt(32)&BigInt(4294967295));return ae[Y+3]=Ke,Ke=Ke>>8,ae[Y+2]=Ke,Ke=Ke>>8,ae[Y+1]=Ke,Ke=Ke>>8,ae[Y]=Ke,Y+8}s.prototype.writeBigUInt64LE=Ye(function(K,Y=0){return G(this,K,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Ye(function(K,Y=0){return X(this,K,Y,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(K,Y,J,Ge){if(K=+K,Y=Y>>>0,!Ge){const tn=Math.pow(2,8*J-1);ce(this,K,Y,J,tn-1,-tn)}let et=0,Ke=1,Pt=0;for(this[Y]=K&255;++et<J&&(Ke*=256);)K<0&&Pt===0&&this[Y+et-1]!==0&&(Pt=1),this[Y+et]=(K/Ke>>0)-Pt&255;return Y+J},s.prototype.writeIntBE=function(K,Y,J,Ge){if(K=+K,Y=Y>>>0,!Ge){const tn=Math.pow(2,8*J-1);ce(this,K,Y,J,tn-1,-tn)}let et=J-1,Ke=1,Pt=0;for(this[Y+et]=K&255;--et>=0&&(Ke*=256);)K<0&&Pt===0&&this[Y+et+1]!==0&&(Pt=1),this[Y+et]=(K/Ke>>0)-Pt&255;return Y+J},s.prototype.writeInt8=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,1,127,-128),K<0&&(K=255+K+1),this[Y]=K&255,Y+1},s.prototype.writeInt16LE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,2,32767,-32768),this[Y]=K&255,this[Y+1]=K>>>8,Y+2},s.prototype.writeInt16BE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,2,32767,-32768),this[Y]=K>>>8,this[Y+1]=K&255,Y+2},s.prototype.writeInt32LE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,4,2147483647,-2147483648),this[Y]=K&255,this[Y+1]=K>>>8,this[Y+2]=K>>>16,this[Y+3]=K>>>24,Y+4},s.prototype.writeInt32BE=function(K,Y,J){return K=+K,Y=Y>>>0,J||ce(this,K,Y,4,2147483647,-2147483648),K<0&&(K=4294967295+K+1),this[Y]=K>>>24,this[Y+1]=K>>>16,this[Y+2]=K>>>8,this[Y+3]=K&255,Y+4},s.prototype.writeBigInt64LE=Ye(function(K,Y=0){return G(this,K,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Ye(function(K,Y=0){return X(this,K,Y,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(ae,K,Y,J,Ge,et){if(Y+J>ae.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("Index out of range")}function xe(ae,K,Y,J,Ge){return K=+K,Y=Y>>>0,Ge||ge(ae,K,Y,4),n.write(ae,K,Y,J,23,4),Y+4}s.prototype.writeFloatLE=function(K,Y,J){return xe(this,K,Y,!0,J)},s.prototype.writeFloatBE=function(K,Y,J){return xe(this,K,Y,!1,J)};function Ve(ae,K,Y,J,Ge){return K=+K,Y=Y>>>0,Ge||ge(ae,K,Y,8),n.write(ae,K,Y,J,52,8),Y+8}s.prototype.writeDoubleLE=function(K,Y,J){return Ve(this,K,Y,!0,J)},s.prototype.writeDoubleBE=function(K,Y,J){return Ve(this,K,Y,!1,J)},s.prototype.copy=function(K,Y,J,Ge){if(!s.isBuffer(K))throw new TypeError("argument should be a Buffer");if(J||(J=0),!Ge&&Ge!==0&&(Ge=this.length),Y>=K.length&&(Y=K.length),Y||(Y=0),Ge>0&&Ge<J&&(Ge=J),Ge===J||K.length===0||this.length===0)return 0;if(Y<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(Ge<0)throw new RangeError("sourceEnd out of bounds");Ge>this.length&&(Ge=this.length),K.length-Y<Ge-J&&(Ge=K.length-Y+J);const et=Ge-J;return this===K&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Y,J,Ge):Uint8Array.prototype.set.call(K,this.subarray(J,Ge),Y),et},s.prototype.fill=function(K,Y,J,Ge){if(typeof K=="string"){if(typeof Y=="string"?(Ge=Y,Y=0,J=this.length):typeof J=="string"&&(Ge=J,J=this.length),Ge!==void 0&&typeof Ge!="string")throw new TypeError("encoding must be a string");if(typeof Ge=="string"&&!s.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);if(K.length===1){const Ke=K.charCodeAt(0);(Ge==="utf8"&&Ke<128||Ge==="latin1")&&(K=Ke)}}else typeof K=="number"?K=K&255:typeof K=="boolean"&&(K=Number(K));if(Y<0||this.length<Y||this.length<J)throw new RangeError("Out of range index");if(J<=Y)return this;Y=Y>>>0,J=J===void 0?this.length:J>>>0,K||(K=0);let et;if(typeof K=="number")for(et=Y;et<J;++et)this[et]=K;else{const Ke=s.isBuffer(K)?K:s.from(K,Ge),Pt=Ke.length;if(Pt===0)throw new TypeError('The value "'+K+'" is invalid for argument "value"');for(et=0;et<J-Y;++et)this[et+Y]=Ke[et%Pt]}return this};const Pe={};function Be(ae,K,Y){Pe[ae]=class extends Y{constructor(){super(),Object.defineProperty(this,"message",{value:K.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ae}]`,this.stack,delete this.name}get code(){return ae}set code(Ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ge,writable:!0})}toString(){return`${this.name} [${ae}]: ${this.message}`}}}Be("ERR_BUFFER_OUT_OF_BOUNDS",function(ae){return ae?`${ae} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Be("ERR_INVALID_ARG_TYPE",function(ae,K){return`The "${ae}" argument must be of type number. Received type ${typeof K}`},TypeError),Be("ERR_OUT_OF_RANGE",function(ae,K,Y){let J=`The value of "${ae}" is out of range.`,Ge=Y;return Number.isInteger(Y)&&Math.abs(Y)>2**32?Ge=Je(String(Y)):typeof Y=="bigint"&&(Ge=String(Y),(Y>BigInt(2)**BigInt(32)||Y<-(BigInt(2)**BigInt(32)))&&(Ge=Je(Ge)),Ge+="n"),J+=` It must be ${K}. Received ${Ge}`,J},RangeError);function Je(ae){let K="",Y=ae.length;const J=ae[0]==="-"?1:0;for(;Y>=J+4;Y-=3)K=`_${ae.slice(Y-3,Y)}${K}`;return`${ae.slice(0,Y)}${K}`}function fe(ae,K,Y){j(K,"offset"),(ae[K]===void 0||ae[K+Y]===void 0)&&ie(K,ae.length-(Y+1))}function V(ae,K,Y,J,Ge,et){if(ae>Y||ae<K){const Ke=typeof K=="bigint"?"n":"";let Pt;throw K===0||K===BigInt(0)?Pt=`>= 0${Ke} and < 2${Ke} ** ${(et+1)*8}${Ke}`:Pt=`>= -(2${Ke} ** ${(et+1)*8-1}${Ke}) and < 2 ** ${(et+1)*8-1}${Ke}`,new Pe.ERR_OUT_OF_RANGE("value",Pt,ae)}fe(J,Ge,et)}function j(ae,K){if(typeof ae!="number")throw new Pe.ERR_INVALID_ARG_TYPE(K,"number",ae)}function ie(ae,K,Y){throw Math.floor(ae)!==ae?(j(ae,Y),new Pe.ERR_OUT_OF_RANGE("offset","an integer",ae)):K<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${K}`,ae)}const me=/[^+/0-9A-Za-z-_]/g;function Te(ae){if(ae=ae.split("=")[0],ae=ae.trim().replace(me,""),ae.length<2)return"";for(;ae.length%4!==0;)ae=ae+"=";return ae}function Le(ae,K){K=K||1/0;let Y;const J=ae.length;let Ge=null;const et=[];for(let Ke=0;Ke<J;++Ke){if(Y=ae.charCodeAt(Ke),Y>55295&&Y<57344){if(!Ge){if(Y>56319){(K-=3)>-1&&et.push(239,191,189);continue}else if(Ke+1===J){(K-=3)>-1&&et.push(239,191,189);continue}Ge=Y;continue}if(Y<56320){(K-=3)>-1&&et.push(239,191,189),Ge=Y;continue}Y=(Ge-55296<<10|Y-56320)+65536}else Ge&&(K-=3)>-1&&et.push(239,191,189);if(Ge=null,Y<128){if((K-=1)<0)break;et.push(Y)}else if(Y<2048){if((K-=2)<0)break;et.push(Y>>6|192,Y&63|128)}else if(Y<65536){if((K-=3)<0)break;et.push(Y>>12|224,Y>>6&63|128,Y&63|128)}else if(Y<1114112){if((K-=4)<0)break;et.push(Y>>18|240,Y>>12&63|128,Y>>6&63|128,Y&63|128)}else throw new Error("Invalid code point")}return et}function rt(ae){const K=[];for(let Y=0;Y<ae.length;++Y)K.push(ae.charCodeAt(Y)&255);return K}function Ie(ae,K){let Y,J,Ge;const et=[];for(let Ke=0;Ke<ae.length&&!((K-=2)<0);++Ke)Y=ae.charCodeAt(Ke),J=Y>>8,Ge=Y%256,et.push(Ge),et.push(J);return et}function ye(ae){return t.toByteArray(Te(ae))}function Ae(ae,K,Y,J){let Ge;for(Ge=0;Ge<J&&!(Ge+Y>=K.length||Ge>=ae.length);++Ge)K[Ge+Y]=ae[Ge];return Ge}function Me(ae,K){return ae instanceof K||ae!=null&&ae.constructor!=null&&ae.constructor.name!=null&&ae.constructor.name===K.name}function tt(ae){return ae!==ae}const mt=(function(){const ae="0123456789abcdef",K=new Array(256);for(let Y=0;Y<16;++Y){const J=Y*16;for(let Ge=0;Ge<16;++Ge)K[J+Ge]=ae[Y]+ae[Ge]}return K})();function Ye(ae){return typeof BigInt>"u"?qe:ae}function qe(){throw new Error("BigInt not supported")}})(T1)),T1}var ate=hu();const Bh="http://www.w3.org/1999/02/22-rdf-syntax-ns#",$h="http://www.w3.org/2001/XMLSchema#",fy="http://www.w3.org/2000/10/swap/",Ni={xsd:{decimal:`${$h}decimal`,boolean:`${$h}boolean`,double:`${$h}double`,integer:`${$h}integer`,string:`${$h}string`},rdf:{type:`${Bh}type`,nil:`${Bh}nil`,first:`${Bh}first`,rest:`${Bh}rest`,langString:`${Bh}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${fy}reify#forSome`,forAll:`${fy}reify#forAll`},log:{implies:`${fy}log#implies`,isImpliedBy:`${fy}log#isImpliedBy`}},{xsd:dy}=Ni,ste=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Yk={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},ute=/[\x00-\x20<>\\"\{\}\|\^\`]/,lte={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},cte=/$0^/;class fte{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._isImpliedBy=t.isImpliedBy,this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in lte)&&this[n]instanceof RegExp&&(this[n]=cte)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&o("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&o("comment",l[1],"",this._line,r.length),r=null,o("eof","","",this._line,0)),this._input=r;const f=this._line,d=r[0];let p="",g="",y="",b=null,x=0,E=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){E=!0;break}}else{this._n3Mode&&(x=1,p="^");break}case"<":if(b=this._unescapedIri.exec(r))p="IRI",g=b[1];else if(b=this._iri.exec(r)){if(g=this._unescape(b[1]),g===null||ute.test(g))return a(this);p="IRI"}else r.length>1&&r[1]==="<"?(p="<<",x=2):this._n3Mode&&r.length>1&&r[1]==="="&&(x=2,this._isImpliedBy?(p="abbreviation",g="<"):(p="inverse",g=">"));break;case">":r.length>1&&r[1]===">"&&(p=">>",x=2);break;case"_":((b=this._blank.exec(r))||n&&(b=this._blank.exec(`${r} `)))&&(p="blank",y="_",g=b[1]);break;case'"':if(b=this._simpleQuotedString.exec(r))g=b[1];else if({value:g,matchLength:x}=this._parseLiteral(r),g===null)return a(this);(b!==null||x!==0)&&(p="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(b=this._simpleApostropheString.exec(r))g=b[1];else if({value:g,matchLength:x}=this._parseLiteral(r),g===null)return a(this);(b!==null||x!==0)&&(p="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(b=this._variable.exec(r))&&(p="var",g=b[0]);break;case"@":this._previousMarker==="literal"&&(b=this._langcode.exec(r))?(p="langcode",g=b[1]):(b=this._keyword.exec(r))&&(p=b[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){p=".",x=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(b=this._number.exec(r)||n&&(b=this._number.exec(`${r} `)))&&(p="literal",g=b[0],y=typeof b[1]=="string"?dy.double:typeof b[2]=="string"?dy.decimal:dy.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(b=this._sparqlKeyword.exec(r))?p=b[0].toUpperCase():E=!0;break;case"f":case"t":(b=this._boolean.exec(r))?(p="literal",g=b[0],y=dy.boolean):E=!0;break;case"a":(b=this._shortPredicates.exec(r))?(p="abbreviation",g="a"):E=!0;break;case"=":this._n3Mode&&r.length>1&&(p="abbreviation",r[1]!==">"?(x=1,g="="):(x=2,g=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(x=1,p=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(p="{|",x=2):(p=d,x=1));break;case"|":r.length>=2&&r[1]==="}"&&(p="|}",x=2);break;default:E=!0}if(E&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(b=this._prefix.exec(r))?(p="prefix",g=b[1]||""):((b=this._prefixed.exec(r))||n&&(b=this._prefixed.exec(`${r} `)))&&(p="prefixed",y=b[1]||"",g=this._unescape(b[2]))),this._previousMarker==="^^")switch(p){case"prefixed":p="type";break;case"IRI":p="typeIRI";break;default:p=""}if(!p)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?a(this):this._input=r;const v=x||b[0].length,w=o(p,g,y,f,v);this.previousToken=w,this._previousMarker=p,r=r.substr(v,r.length)}function o(s,l,f,d,p){const g=r?i-r.length:i,y=g+p,b={type:s,value:l,prefix:f,line:d,start:g,end:y};return t(null,b),b}function a(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(ste,(i,o,a,s)=>{if(typeof o=="string")return String.fromCharCode(Number.parseInt(o,16));if(typeof a=="string"){let l=Number.parseInt(a,16);return l<=65535?String.fromCharCode(Number.parseInt(a,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in Yk?Yk[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let o=0;for(;t[i-o-1]==="\\";)o++;if(o%2===0){const a=t.substring(r,i),s=a.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(a),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")queueMicrotask(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((o,a)=>o?i=o:r.push(a),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=ate.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}const{rdf:dte,xsd:pc}=Ni;let Rd,hte=0;const pl={namedNode:h$,blankNode:p$,variable:g$,literal:m$,defaultGraph:yte,quad:jT,triple:jT,fromTerm:mp,fromQuad:y$};class Ga{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof Ga?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let vr=class extends Ga{get termType(){return"NamedNode"}},$v=class d$ extends Ga{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new vr(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?pc.string:dte.langString}equals(t){return t instanceof d$?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},pte=class extends Ga{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},mte=class extends Ga{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},gte=class extends Ga{constructor(){return super(""),Rd||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Rd=new gte;function pp(e,t,n){if(t=t||pl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===pl)return new $v(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(pp(e[0],t,!0),pp(e[1],t,!0),pp(e[2],t,!0),e[3]&&pp(e[3],t,!0))}function Yf(e,t){if(typeof e=="string")return e;if(e instanceof Ga&&e.termType!=="Quad")return e.id;if(!e)return Rd.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==pc.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[Yf(e.subject,!0),Yf(e.predicate,!0),Yf(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&n.push(Yf(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Ki=class extends Ga{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||Rd}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function h$(e){return new vr(e)}function p$(e){return new pte(e||`n3-${hte++}`)}function m$(e,t){if(typeof t=="string")return new $v(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=pc.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?pc.integer:pc.double:(n=pc.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===pc.string?new $v(`"${e}"`):new $v(`"${e}"^^${n}`)}function g$(e){return new mte(e)}function yte(){return Rd}function jT(e,t,n,r){return new Ki(e,t,n,r)}function mp(e){if(e instanceof Ga)return e;switch(e.termType){case"NamedNode":return h$(e.value);case"BlankNode":return p$(e.value);case"Variable":return g$(e.value);case"DefaultGraph":return Rd;case"Literal":return m$(e.value,e.language||e.datatype);case"Quad":return y$(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function y$(e){if(e instanceof Ki)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return jT(mp(e.subject),mp(e.predicate),mp(e.object),mp(e.graph))}let Xk=0;class wm{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&v$(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),o=/triple/.test(n),a=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=o||a;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||s),this._isImpliedBy=t.isImpliedBy,this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=f=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new fte({lineMode:l,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){Xk=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,o){const a=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:o,graph:n,inverse:a?this._inversePredicate:!1,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._factory.namedNode(i);break;case"type":case"prefixed":const o=this._prefixes[t.prefix];if(o===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._factory.namedNode(o+t.value);break;case"blank":r=this._factory.blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._factory.variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._factory.literal(t.value,this._factory.namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const o=this._subject,a=this._contextStack,s=a[a.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=n=this._factory.blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),a.length!==0&&a[a.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._factory.literal(t.value,this._factory.namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._factory.blankNode()),o===null?s.predicate===null?s.subject=r:s.object=r:this._emit(o,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._factory.literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._factory.literal(this._literalValue,r),t=null;break;case"langcode":n=this._factory.literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,o=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,o&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const a=this._predicate,s=this._object;this._subject=this._factory.quad(i,a,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const a=this._predicate,s=this._object;o?this._emit(s,a,i,r):this._emit(i,a,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._factory.blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._factory.blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._factory.quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=hy}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,o=-1,a=0,s="/";for(;i<n;){switch(s){case":":if(o<0&&t[++i]==="/"&&t[++i]==="/")for(;(o=i+1)<n&&t[o]!=="/";)i=o;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(a,i-1),a=i+1;break;case void 0:case"?":case"#":return r+t.substring(a,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(a,i-2),(a=r.lastIndexOf("/"))>=o&&(r=r.substr(0,a)),s!=="/")return`${r}/${t.substr(i+1)}`;a=i+1}}}s=t[++i]}return r+t.substring(a)}parse(t,n,r){let i,o,a;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,o=n.onPrefix,a=n.onComment):(i=n,o=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Xk++}_`,this._prefixCallback=o||hy,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let f;if(this._callback=(d,p)=>{d?f=d:p&&l.push(p)},this._lexer.tokenize(t).every(d=>this._readCallback=this._readCallback(d)),f)throw f;return l}let s=(l,f)=>{l!==null?(this._callback(l),this._callback=hy):this._readCallback&&(this._readCallback=this._readCallback(f))};a&&(this._lexer.comments=!0,s=(l,f)=>{l!==null?(this._callback(l),this._callback=hy):this._readCallback&&(f.type==="comment"?a(f.value):this._readCallback=this._readCallback(f))}),this._callback=i,this._lexer.tokenize(t,s)}}function hy(){}function v$(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(Ni.rdf.first),e.RDF_REST=t.namedNode(Ni.rdf.rest),e.RDF_NIL=t.namedNode(Ni.rdf.nil),e.N3_FORALL=t.namedNode(Ni.r.forAll),e.N3_FORSOME=t.namedNode(Ni.r.forSome),e.ABBREVIATIONS={a:t.namedNode(Ni.rdf.type),"=":t.namedNode(Ni.owl.sameAs),">":t.namedNode(Ni.log.implies),"<":t.namedNode(Ni.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}v$(wm.prototype,pl);function UT(e){return!!e&&e.termType==="DefaultGraph"}function zv(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const vte=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,_te=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,e3="./",wte="../",A1="?",t3="#";class gR{constructor(t){this.base=t,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(t.length+1)}static supports(t){return!vte.test(t)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!gR.supports(this.base))return this._baseMatcher=/.^/;const t=/^[^:]*:\/*/.exec(this.base)[0],n=["^",zv(t)],r=[],i=[],o=/[^/?#]*([/?#])/y;let a,s=0,l=0,f=o.lastIndex=t.length;for(;!s&&!l&&(a=o.exec(this.base));)a[1]===t3?l=o.lastIndex-1:(n.push(zv(a[0]),"(?:"),r.push(")?"),a[1]!==A1?i.push(f=o.lastIndex):(s=f=o.lastIndex,l=this.base.indexOf(t3,s),this._pathReplacements[s]=A1));for(let d=0;d<i.length;d++)this._pathReplacements[i[d]]=wte.repeat(i.length-d-1);return this._pathReplacements[i[i.length-1]]=e3,this._baseLength=l>0?l:this.base.length,n.push(zv(this.base.substring(f,this._baseLength)),s?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...n,...r].join(""))}toRelative(t){const n=this._getBaseMatcher().exec(t);if(!n)return t;const r=n[0].length;if(r===this._baseLength&&r===t.length)return"";const i=this._pathReplacements[r];if(i){const o=t.substring(r);return i!==A1&&!_te.test(o)?t:i===e3&&/^[^?#]/.test(o)?o:i+o}return t.substring(r-1)}}const zh=pl.defaultGraph(),{rdf:bte,xsd:Lf}=Ni,n3=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,r3=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Ste={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class qh extends Ga{equals(t){return t===this}}class cw{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,o,a){r+=i,a&&a()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=zh,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseIri=new gR(n.baseIRI)))}get _inDefaultGraph(){return zh.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,o){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(zh.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,o):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,o):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,o)}catch(a){o&&o(a)}}_writeQuadLine(t,n,r,i,o){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),o)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let n="";for(const r of t)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseIri&&(n=this._baseIri.toRelative(n)),n3.test(n)&&(n=n.replace(r3,i3));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(n3.test(n)&&(n=n.replace(r3,i3)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Lf.string)return`"${n}"`}else switch(t.datatype.value){case Lf.string:return`"${n}"`;case Lf.boolean:if(n==="true"||n==="false")return n;break;case Lf.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Lf.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Lf.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===bte.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${UT(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,o){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,zh,i):this._writeQuad(t,n,r,i||zh,o)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let o=t[i];typeof o!="string"&&(o=o.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[o]=i+=":",this._write(`@prefix ${i} <${o}>.
`)}if(r){let i="",o="";for(const a in this._prefixIRIs)i+=i?`|${a}`:a,o+=(o?"|":"")+this._prefixIRIs[a];i=zv(i),this._prefixRegex=new RegExp(`^(?:${o})[^/]*$|^(${i})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,o;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),o=r.length){case 0:return new qh("[]");case 1:if(i=r[0],!(i.object instanceof qh))return new qh(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let a="[";for(let s=0;s<o;s++)i=r[s],i.predicate.equals(t)?a+=`, ${this._encodeObject(i.object)}`:(a+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new qh(`${a}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new qh(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function i3(e){let t=Ste[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var R1={exports:{}},P1={exports:{}},O1,o3;function Ir(){if(o3)return O1;o3=1;class e extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError(`Expected input to be an Array, got ${typeof n}`);let r="";for(let i=0;i<n.length;i++)r+=`    ${n[i].stack}
`;super(r),this.name="AggregateError",this.errors=n}}return O1={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,n){return t.includes(n)},ArrayPrototypeIndexOf(t,n){return t.indexOf(n)},ArrayPrototypeJoin(t,n){return t.join(n)},ArrayPrototypeMap(t,n){return t.map(n)},ArrayPrototypePop(t,n){return t.pop(n)},ArrayPrototypePush(t,n){return t.push(n)},ArrayPrototypeSlice(t,n,r){return t.slice(n,r)},Error,FunctionPrototypeCall(t,n,...r){return t.call(n,...r)},FunctionPrototypeSymbolHasInstance(t,n){return Function.prototype[Symbol.hasInstance].call(t,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,n){return Object.defineProperties(t,n)},ObjectDefineProperty(t,n,r){return Object.defineProperty(t,n,r)},ObjectGetOwnPropertyDescriptor(t,n){return Object.getOwnPropertyDescriptor(t,n)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,n){return Object.setPrototypeOf(t,n)},Promise,PromisePrototypeCatch(t,n){return t.catch(n)},PromisePrototypeThen(t,n,r){return t.then(n,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,n){return t.test(n)},SafeSet:Set,String,StringPrototypeSlice(t,n,r){return t.slice(n,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,n,r){return t.set(n,r)},Boolean,Uint8Array},O1}var M1={exports:{}},L1,a3;function _$(){return a3||(a3=1,L1={format(e,...t){return e.replace(/%([sdifj])/g,function(...[n,r]){const i=t.shift();return r==="f"?i.toFixed(6):r==="j"?JSON.stringify(i):r==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}else return`"${e}"`;return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),L1}var I1,s3;function so(){if(s3)return I1;s3=1;const{format:e,inspect:t}=_$(),{AggregateError:n}=Ir(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function f(E,v){if(!E)throw new l.ERR_INTERNAL_ASSERTION(v)}function d(E){let v="",w=E.length;const C=E[0]==="-"?1:0;for(;w>=C+4;w-=3)v=`_${E.slice(w-3,w)}${v}`;return`${E.slice(0,w)}${v}`}function p(E,v,w){if(typeof v=="function")return f(v.length<=w.length,`Code: ${E}; The provided arguments length (${w.length}) does not match the required ones (${v.length}).`),v(...w);const C=(v.match(/%[dfijoOs]/g)||[]).length;return f(C===w.length,`Code: ${E}; The provided arguments length (${w.length}) does not match the required ones (${C}).`),w.length===0?v:e(v,...w)}function g(E,v,w){w||(w=Error);class C extends w{constructor(...R){super(p(E,v,R))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(C.prototype,{name:{value:w.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),C.prototype.code=E,C.prototype[i]=!0,l[E]=C}function y(E){const v=s+E.name;return Object.defineProperty(E,"name",{value:v}),E}function b(E,v){if(E&&v&&E!==v){if(Array.isArray(v.errors))return v.errors.push(E),v;const w=new r([v,E],v.message);return w.code=v.code,w}return E||v}class x extends Error{constructor(v="The operation was aborted",w=void 0){if(w!==void 0&&typeof w!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",w);super(v,w),this.code="ABORT_ERR",this.name="AbortError"}}return g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(E,v,w)=>{f(typeof E=="string","'name' must be a string"),Array.isArray(v)||(v=[v]);let C="The ";E.endsWith(" argument")?C+=`${E} `:C+=`"${E}" ${E.includes(".")?"property":"argument"} `,C+="must be ";const P=[],R=[],k=[];for(const W of v)f(typeof W=="string","All expected entries have to be of type string"),o.includes(W)?P.push(W.toLowerCase()):a.test(W)?R.push(W):(f(W!=="object",'The value "object" should be written as "Object"'),k.push(W));if(R.length>0){const W=P.indexOf("object");W!==-1&&(P.splice(P,W,1),R.push("Object"))}if(P.length>0){switch(P.length){case 1:C+=`of type ${P[0]}`;break;case 2:C+=`one of type ${P[0]} or ${P[1]}`;break;default:{const W=P.pop();C+=`one of type ${P.join(", ")}, or ${W}`}}(R.length>0||k.length>0)&&(C+=" or ")}if(R.length>0){switch(R.length){case 1:C+=`an instance of ${R[0]}`;break;case 2:C+=`an instance of ${R[0]} or ${R[1]}`;break;default:{const W=R.pop();C+=`an instance of ${R.join(", ")}, or ${W}`}}k.length>0&&(C+=" or ")}switch(k.length){case 0:break;case 1:k[0].toLowerCase()!==k[0]&&(C+="an "),C+=`${k[0]}`;break;case 2:C+=`one of ${k[0]} or ${k[1]}`;break;default:{const W=k.pop();C+=`one of ${k.join(", ")}, or ${W}`}}if(w==null)C+=`. Received ${w}`;else if(typeof w=="function"&&w.name)C+=`. Received function ${w.name}`;else if(typeof w=="object"){var M;if((M=w.constructor)!==null&&M!==void 0&&M.name)C+=`. Received an instance of ${w.constructor.name}`;else{const W=t(w,{depth:-1});C+=`. Received ${W}`}}else{let W=t(w,{colors:!1});W.length>25&&(W=`${W.slice(0,25)}...`),C+=`. Received type ${typeof w} (${W})`}return C},TypeError),g("ERR_INVALID_ARG_VALUE",(E,v,w="is invalid")=>{let C=t(v);return C.length>128&&(C=C.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${w}. Received ${C}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(E,v,w)=>{var C;const P=w!=null&&(C=w.constructor)!==null&&C!==void 0&&C.name?`instance of ${w.constructor.name}`:`type ${typeof w}`;return`Expected ${E} to be returned from the "${v}" function but got ${P}.`},TypeError),g("ERR_MISSING_ARGS",(...E)=>{f(E.length>0,"At least one arg needs to be specified");let v;const w=E.length;switch(E=(Array.isArray(E)?E:[E]).map(C=>`"${C}"`).join(" or "),w){case 1:v+=`The ${E[0]} argument`;break;case 2:v+=`The ${E[0]} and ${E[1]} arguments`;break;default:{const C=E.pop();v+=`The ${E.join(", ")}, and ${C} arguments`}break}return`${v} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(E,v,w)=>{f(v,'Missing "range" argument');let C;if(Number.isInteger(w)&&Math.abs(w)>2**32)C=d(String(w));else if(typeof w=="bigint"){C=String(w);const P=BigInt(2)**BigInt(32);(w>P||w<-P)&&(C=d(C)),C+="n"}else C=t(w);return`The value of "${E}" is out of range. It must be ${v}. Received ${C}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),I1={AbortError:x,aggregateTwoErrors:y(b),hideStackFrames:y,codes:l},I1}var Hh={exports:{}},u3;function qp(){if(u3)return Hh.exports;u3=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Hh.exports=e,Hh.exports.AbortSignal=t,Hh.exports.default=e,Hh.exports}var l3;function Co(){return l3||(l3=1,(function(e){const t=hu(),{format:n,inspect:r}=_$(),{codes:{ERR_INVALID_ARG_TYPE:i}}=so(),{kResistStopPropagation:o,AggregateError:a,SymbolDispose:s}=Ir(),l=globalThis.AbortSignal||qp().AbortSignal,f=globalThis.AbortController||qp().AbortController,d=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||t.Blob,g=typeof p<"u"?function(E){return E instanceof p}:function(E){return!1},y=(x,E)=>{if(x!==void 0&&(x===null||typeof x!="object"||!("aborted"in x)))throw new i(E,"AbortSignal",x)},b=(x,E)=>{if(typeof x!="function")throw new i(E,"Function",x)};e.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(x){let E=!1;return function(...v){E||(E=!0,x.apply(this,v))}},createDeferredPromise:function(){let x,E;return{promise:new Promise((w,C)=>{x=w,E=C}),resolve:x,reject:E}},promisify(x){return new Promise((E,v)=>{x((w,...C)=>w?v(w):E(...C))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(x){return x instanceof d},isArrayBufferView(x){return ArrayBuffer.isView(x)}},isBlob:g,deprecate(x,E){return x},addAbortListener:vm().addAbortListener||function(E,v){if(E===void 0)throw new i("signal","AbortSignal",E);y(E,"signal"),b(v,"listener");let w;return E.aborted?queueMicrotask(()=>v()):(E.addEventListener("abort",v,{__proto__:null,once:!0,[o]:!0}),w=()=>{E.removeEventListener("abort",v)}),{__proto__:null,[s](){var C;(C=w)===null||C===void 0||C()}}},AbortSignalAny:l.any||function(E){if(E.length===1)return E[0];const v=new f,w=()=>v.abort();return E.forEach(C=>{y(C,"signals"),C.addEventListener("abort",w,{once:!0})}),v.signal.addEventListener("abort",()=>{E.forEach(C=>C.removeEventListener("abort",w))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(M1)),M1.exports}var py={},k1,c3;function bm(){if(c3)return k1;c3=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:d,String:p,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=Ir(),{hideStackFrames:b,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:v,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:C}}=so(),{normalizeEncoding:P}=Co(),{isAsyncFunction:R,isArrayBufferView:k}=Co().types,M={};function W(Ie){return Ie===(Ie|0)}function ee(Ie){return Ie===Ie>>>0}const z=/^[0-7]+$/,H="must be a 32-bit unsigned integer or an octal string";function te(Ie,ye,Ae){if(typeof Ie>"u"&&(Ie=Ae),typeof Ie=="string"){if(d(z,Ie)===null)throw new v(ye,Ie,H);Ie=l(Ie,8)}return de(Ie,ye),Ie}const oe=b((Ie,ye,Ae=s,Me=a)=>{if(typeof Ie!="number")throw new E(ye,"number",Ie);if(!i(Ie))throw new w(ye,"an integer",Ie);if(Ie<Ae||Ie>Me)throw new w(ye,`>= ${Ae} && <= ${Me}`,Ie)}),ue=b((Ie,ye,Ae=-2147483648,Me=2147483647)=>{if(typeof Ie!="number")throw new E(ye,"number",Ie);if(!i(Ie))throw new w(ye,"an integer",Ie);if(Ie<Ae||Ie>Me)throw new w(ye,`>= ${Ae} && <= ${Me}`,Ie)}),de=b((Ie,ye,Ae=!1)=>{if(typeof Ie!="number")throw new E(ye,"number",Ie);if(!i(Ie))throw new w(ye,"an integer",Ie);const Me=Ae?1:0,tt=4294967295;if(Ie<Me||Ie>tt)throw new w(ye,`>= ${Me} && <= ${tt}`,Ie)});function se(Ie,ye){if(typeof Ie!="string")throw new E(ye,"string",Ie)}function pe(Ie,ye,Ae=void 0,Me){if(typeof Ie!="number")throw new E(ye,"number",Ie);if(Ae!=null&&Ie<Ae||Me!=null&&Ie>Me||(Ae!=null||Me!=null)&&o(Ie))throw new w(ye,`${Ae!=null?`>= ${Ae}`:""}${Ae!=null&&Me!=null?" && ":""}${Me!=null?`<= ${Me}`:""}`,Ie)}const re=b((Ie,ye,Ae)=>{if(!t(Ae,Ie)){const tt="must be one of: "+n(r(Ae,mt=>typeof mt=="string"?`'${mt}'`:p(mt)),", ");throw new v(ye,Ie,tt)}});function Ee(Ie,ye){if(typeof Ie!="boolean")throw new E(ye,"boolean",Ie)}function $(Ie,ye,Ae){return Ie==null||!f(Ie,ye)?Ae:Ie[ye]}const Q=b((Ie,ye,Ae=null)=>{const Me=$(Ae,"allowArray",!1),tt=$(Ae,"allowFunction",!1);if(!$(Ae,"nullable",!1)&&Ie===null||!Me&&e(Ie)||typeof Ie!="object"&&(!tt||typeof Ie!="function"))throw new E(ye,"Object",Ie)}),ce=b((Ie,ye)=>{if(Ie!=null&&typeof Ie!="object"&&typeof Ie!="function")throw new E(ye,"a dictionary",Ie)}),G=b((Ie,ye,Ae=0)=>{if(!e(Ie))throw new E(ye,"Array",Ie);if(Ie.length<Ae){const Me=`must be longer than ${Ae}`;throw new v(ye,Ie,Me)}});function X(Ie,ye){G(Ie,ye);for(let Ae=0;Ae<Ie.length;Ae++)se(Ie[Ae],`${ye}[${Ae}]`)}function ge(Ie,ye){G(Ie,ye);for(let Ae=0;Ae<Ie.length;Ae++)Ee(Ie[Ae],`${ye}[${Ae}]`)}function xe(Ie,ye){G(Ie,ye);for(let Ae=0;Ae<Ie.length;Ae++){const Me=Ie[Ae],tt=`${ye}[${Ae}]`;if(Me==null)throw new E(tt,"AbortSignal",Me);fe(Me,tt)}}function Ve(Ie,ye="signal"){if(se(Ie,ye),M[Ie]===void 0)throw M[g(Ie)]!==void 0?new C(Ie+" (signals must use all capital letters)"):new C(Ie)}const Pe=b((Ie,ye="buffer")=>{if(!k(Ie))throw new E(ye,["Buffer","TypedArray","DataView"],Ie)});function Be(Ie,ye){const Ae=P(ye),Me=Ie.length;if(Ae==="hex"&&Me%2!==0)throw new v("encoding",ye,`is invalid for data of length ${Me}`)}function Je(Ie,ye="Port",Ae=!0){if(typeof Ie!="number"&&typeof Ie!="string"||typeof Ie=="string"&&y(Ie).length===0||+Ie!==+Ie>>>0||Ie>65535||Ie===0&&!Ae)throw new x(ye,Ie,Ae);return Ie|0}const fe=b((Ie,ye)=>{if(Ie!==void 0&&(Ie===null||typeof Ie!="object"||!("aborted"in Ie)))throw new E(ye,"AbortSignal",Ie)}),V=b((Ie,ye)=>{if(typeof Ie!="function")throw new E(ye,"Function",Ie)}),j=b((Ie,ye)=>{if(typeof Ie!="function"||R(Ie))throw new E(ye,"Function",Ie)}),ie=b((Ie,ye)=>{if(Ie!==void 0)throw new E(ye,"undefined",Ie)});function me(Ie,ye,Ae){if(!t(Ae,Ie))throw new E(ye,`('${n(Ae,"|")}')`,Ie)}const Te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Le(Ie,ye){if(typeof Ie>"u"||!d(Te,Ie))throw new v(ye,Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function rt(Ie){if(typeof Ie=="string")return Le(Ie,"hints"),Ie;if(e(Ie)){const ye=Ie.length;let Ae="";if(ye===0)return Ae;for(let Me=0;Me<ye;Me++){const tt=Ie[Me];Le(tt,"hints"),Ae+=tt,Me!==ye-1&&(Ae+=", ")}return Ae}throw new v("hints",Ie,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return k1={isInt32:W,isUint32:ee,parseFileMode:te,validateArray:G,validateStringArray:X,validateBooleanArray:ge,validateAbortSignalArray:xe,validateBoolean:Ee,validateBuffer:Pe,validateDictionary:ce,validateEncoding:Be,validateFunction:V,validateInt32:ue,validateInteger:oe,validateNumber:pe,validateObject:Q,validateOneOf:re,validatePlainFunction:j,validatePort:Je,validateSignalName:Ve,validateString:se,validateUint32:de,validateUndefined:ie,validateUnion:me,validateAbortSignal:fe,validateLinkHeaderValue:rt},k1}var my={exports:{}},D1={exports:{}},f3;function jc(){if(f3)return D1.exports;f3=1;var e=D1.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function o(x){if(t===setTimeout)return setTimeout(x,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(x,0);try{return t(x,0)}catch{try{return t.call(null,x,0)}catch{return t.call(this,x,0)}}}function a(x){if(n===clearTimeout)return clearTimeout(x);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(x);try{return n(x)}catch{try{return n.call(null,x)}catch{return n.call(this,x)}}}var s=[],l=!1,f,d=-1;function p(){!l||!f||(l=!1,f.length?s=f.concat(s):d=-1,s.length&&g())}function g(){if(!l){var x=o(p);l=!0;for(var E=s.length;E;){for(f=s,s=[];++d<E;)f&&f[d].run();d=-1,E=s.length}f=null,l=!1,a(x)}}e.nextTick=function(x){var E=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)E[v-1]=arguments[v];s.push(new y(x,E)),s.length===1&&!l&&o(g)};function y(x,E){this.fun=x,this.array=E}y.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function b(){}return e.on=b,e.addListener=b,e.once=b,e.off=b,e.removeListener=b,e.removeAllListeners=b,e.emit=b,e.prependListener=b,e.prependOnceListener=b,e.listeners=function(x){return[]},e.binding=function(x){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(x){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},D1.exports}var N1,d3;function pu(){if(d3)return N1;d3=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=Ir(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),o=n("nodejs.stream.readable"),a=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),f=n("nodejs.webstream.controllerErrorFunction");function d($,Q=!1){var ce;return!!($&&typeof $.pipe=="function"&&typeof $.on=="function"&&(!Q||typeof $.pause=="function"&&typeof $.resume=="function")&&(!$._writableState||((ce=$._readableState)===null||ce===void 0?void 0:ce.readable)!==!1)&&(!$._writableState||$._readableState))}function p($){var Q;return!!($&&typeof $.write=="function"&&typeof $.on=="function"&&(!$._readableState||((Q=$._writableState)===null||Q===void 0?void 0:Q.writable)!==!1))}function g($){return!!($&&typeof $.pipe=="function"&&$._readableState&&typeof $.on=="function"&&typeof $.write=="function")}function y($){return $&&($._readableState||$._writableState||typeof $.write=="function"&&typeof $.on=="function"||typeof $.pipe=="function"&&typeof $.on=="function")}function b($){return!!($&&!y($)&&typeof $.pipeThrough=="function"&&typeof $.getReader=="function"&&typeof $.cancel=="function")}function x($){return!!($&&!y($)&&typeof $.getWriter=="function"&&typeof $.abort=="function")}function E($){return!!($&&!y($)&&typeof $.readable=="object"&&typeof $.writable=="object")}function v($){return b($)||x($)||E($)}function w($,Q){return $==null?!1:Q===!0?typeof $[e]=="function":Q===!1?typeof $[t]=="function":typeof $[e]=="function"||typeof $[t]=="function"}function C($){if(!y($))return null;const Q=$._writableState,ce=$._readableState,G=Q||ce;return!!($.destroyed||$[r]||G!=null&&G.destroyed)}function P($){if(!p($))return null;if($.writableEnded===!0)return!0;const Q=$._writableState;return Q!=null&&Q.errored?!1:typeof Q?.ended!="boolean"?null:Q.ended}function R($,Q){if(!p($))return null;if($.writableFinished===!0)return!0;const ce=$._writableState;return ce!=null&&ce.errored?!1:typeof ce?.finished!="boolean"?null:!!(ce.finished||Q===!1&&ce.ended===!0&&ce.length===0)}function k($){if(!d($))return null;if($.readableEnded===!0)return!0;const Q=$._readableState;return!Q||Q.errored?!1:typeof Q?.ended!="boolean"?null:Q.ended}function M($,Q){if(!d($))return null;const ce=$._readableState;return ce!=null&&ce.errored?!1:typeof ce?.endEmitted!="boolean"?null:!!(ce.endEmitted||Q===!1&&ce.ended===!0&&ce.length===0)}function W($){return $&&$[o]!=null?$[o]:typeof $?.readable!="boolean"?null:C($)?!1:d($)&&$.readable&&!M($)}function ee($){return $&&$[a]!=null?$[a]:typeof $?.writable!="boolean"?null:C($)?!1:p($)&&$.writable&&!P($)}function z($,Q){return y($)?C($)?!0:!(Q?.readable!==!1&&W($)||Q?.writable!==!1&&ee($)):null}function H($){var Q,ce;return y($)?$.writableErrored?$.writableErrored:(Q=(ce=$._writableState)===null||ce===void 0?void 0:ce.errored)!==null&&Q!==void 0?Q:null:null}function te($){var Q,ce;return y($)?$.readableErrored?$.readableErrored:(Q=(ce=$._readableState)===null||ce===void 0?void 0:ce.errored)!==null&&Q!==void 0?Q:null:null}function oe($){if(!y($))return null;if(typeof $.closed=="boolean")return $.closed;const Q=$._writableState,ce=$._readableState;return typeof Q?.closed=="boolean"||typeof ce?.closed=="boolean"?Q?.closed||ce?.closed:typeof $._closed=="boolean"&&ue($)?$._closed:null}function ue($){return typeof $._closed=="boolean"&&typeof $._defaultKeepAlive=="boolean"&&typeof $._removedConnection=="boolean"&&typeof $._removedContLen=="boolean"}function de($){return typeof $._sent100=="boolean"&&ue($)}function se($){var Q;return typeof $._consuming=="boolean"&&typeof $._dumped=="boolean"&&((Q=$.req)===null||Q===void 0?void 0:Q.upgradeOrConnect)===void 0}function pe($){if(!y($))return null;const Q=$._writableState,ce=$._readableState,G=Q||ce;return!G&&de($)||!!(G&&G.autoDestroy&&G.emitClose&&G.closed===!1)}function re($){var Q;return!!($&&((Q=$[s])!==null&&Q!==void 0?Q:$.readableDidRead||$.readableAborted))}function Ee($){var Q,ce,G,X,ge,xe,Ve,Pe,Be,Je;return!!($&&((Q=(ce=(G=(X=(ge=(xe=$[i])!==null&&xe!==void 0?xe:$.readableErrored)!==null&&ge!==void 0?ge:$.writableErrored)!==null&&X!==void 0?X:(Ve=$._readableState)===null||Ve===void 0?void 0:Ve.errorEmitted)!==null&&G!==void 0?G:(Pe=$._writableState)===null||Pe===void 0?void 0:Pe.errorEmitted)!==null&&ce!==void 0?ce:(Be=$._readableState)===null||Be===void 0?void 0:Be.errored)!==null&&Q!==void 0?Q:!((Je=$._writableState)===null||Je===void 0)&&Je.errored))}return N1={isDestroyed:C,kIsDestroyed:r,isDisturbed:re,kIsDisturbed:s,isErrored:Ee,kIsErrored:i,isReadable:W,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:f,kIsWritable:a,isClosed:oe,isDuplexNodeStream:g,isFinished:z,isIterable:w,isReadableNodeStream:d,isReadableStream:b,isReadableEnded:k,isReadableFinished:M,isReadableErrored:te,isNodeStream:y,isWebStream:v,isWritable:ee,isWritableNodeStream:p,isWritableStream:x,isWritableEnded:P,isWritableFinished:R,isWritableErrored:H,isServerRequest:se,isServerResponse:de,willEmitClose:pe,isTransformStream:E},N1}var h3;function Sl(){if(h3)return my.exports;h3=1;const e=jc(),{AbortError:t,codes:n}=so(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:o,once:a}=Co(),{validateAbortSignal:s,validateFunction:l,validateObject:f,validateBoolean:d}=bm(),{Promise:p,PromisePrototypeThen:g,SymbolDispose:y}=Ir(),{isClosed:b,isReadable:x,isReadableNodeStream:E,isReadableStream:v,isReadableFinished:w,isReadableErrored:C,isWritable:P,isWritableNodeStream:R,isWritableStream:k,isWritableFinished:M,isWritableErrored:W,isNodeStream:ee,willEmitClose:z,kIsClosedPromise:H}=pu();let te;function oe(re){return re.setHeader&&typeof re.abort=="function"}const ue=()=>{};function de(re,Ee,$){var Q,ce;if(arguments.length===2?($=Ee,Ee=o):Ee==null?Ee=o:f(Ee,"options"),l($,"callback"),s(Ee.signal,"options.signal"),$=a($),v(re)||k(re))return se(re,Ee,$);if(!ee(re))throw new r("stream",["ReadableStream","WritableStream","Stream"],re);const G=(Q=Ee.readable)!==null&&Q!==void 0?Q:E(re),X=(ce=Ee.writable)!==null&&ce!==void 0?ce:R(re),ge=re._writableState,xe=re._readableState,Ve=()=>{re.writable||Je()};let Pe=z(re)&&E(re)===G&&R(re)===X,Be=M(re,!1);const Je=()=>{Be=!0,re.destroyed&&(Pe=!1),!(Pe&&(!re.readable||G))&&(!G||fe)&&$.call(re)};let fe=w(re,!1);const V=()=>{fe=!0,re.destroyed&&(Pe=!1),!(Pe&&(!re.writable||X))&&(!X||Be)&&$.call(re)},j=Ie=>{$.call(re,Ie)};let ie=b(re);const me=()=>{ie=!0;const Ie=W(re)||C(re);if(Ie&&typeof Ie!="boolean")return $.call(re,Ie);if(G&&!fe&&E(re,!0)&&!w(re,!1))return $.call(re,new i);if(X&&!Be&&!M(re,!1))return $.call(re,new i);$.call(re)},Te=()=>{ie=!0;const Ie=W(re)||C(re);if(Ie&&typeof Ie!="boolean")return $.call(re,Ie);$.call(re)},Le=()=>{re.req.on("finish",Je)};oe(re)?(re.on("complete",Je),Pe||re.on("abort",me),re.req?Le():re.on("request",Le)):X&&!ge&&(re.on("end",Ve),re.on("close",Ve)),!Pe&&typeof re.aborted=="boolean"&&re.on("aborted",me),re.on("end",V),re.on("finish",Je),Ee.error!==!1&&re.on("error",j),re.on("close",me),ie?e.nextTick(me):ge!=null&&ge.errorEmitted||xe!=null&&xe.errorEmitted?Pe||e.nextTick(Te):(!G&&(!Pe||x(re))&&(Be||P(re)===!1)||!X&&(!Pe||P(re))&&(fe||x(re)===!1)||xe&&re.req&&re.aborted)&&e.nextTick(Te);const rt=()=>{$=ue,re.removeListener("aborted",me),re.removeListener("complete",Je),re.removeListener("abort",me),re.removeListener("request",Le),re.req&&re.req.removeListener("finish",Je),re.removeListener("end",Ve),re.removeListener("close",Ve),re.removeListener("finish",Je),re.removeListener("end",V),re.removeListener("error",j),re.removeListener("close",me)};if(Ee.signal&&!ie){const Ie=()=>{const ye=$;rt(),ye.call(re,new t(void 0,{cause:Ee.signal.reason}))};if(Ee.signal.aborted)e.nextTick(Ie);else{te=te||Co().addAbortListener;const ye=te(Ee.signal,Ie),Ae=$;$=a((...Me)=>{ye[y](),Ae.apply(re,Me)})}}return rt}function se(re,Ee,$){let Q=!1,ce=ue;if(Ee.signal)if(ce=()=>{Q=!0,$.call(re,new t(void 0,{cause:Ee.signal.reason}))},Ee.signal.aborted)e.nextTick(ce);else{te=te||Co().addAbortListener;const X=te(Ee.signal,ce),ge=$;$=a((...xe)=>{X[y](),ge.apply(re,xe)})}const G=(...X)=>{Q||e.nextTick(()=>$.apply(re,X))};return g(re[H].promise,G,G),ue}function pe(re,Ee){var $;let Q=!1;return Ee===null&&(Ee=o),($=Ee)!==null&&$!==void 0&&$.cleanup&&(d(Ee.cleanup,"cleanup"),Q=Ee.cleanup),new p((ce,G)=>{const X=de(re,Ee,ge=>{Q&&X(),ge?G(ge):ce()})})}return my.exports=de,my.exports.finished=pe,my.exports}var F1,p3;function Pd(){if(p3)return F1;p3=1;const e=jc(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=so(),{Symbol:i}=Ir(),{kIsDestroyed:o,isDestroyed:a,isFinished:s,isServerRequest:l}=pu(),f=i("kDestroy"),d=i("kConstruct");function p(z,H,te){z&&(z.stack,H&&!H.errored&&(H.errored=z),te&&!te.errored&&(te.errored=z))}function g(z,H){const te=this._readableState,oe=this._writableState,ue=oe||te;return oe!=null&&oe.destroyed||te!=null&&te.destroyed?(typeof H=="function"&&H(),this):(p(z,oe,te),oe&&(oe.destroyed=!0),te&&(te.destroyed=!0),ue.constructed?y(this,z,H):this.once(f,function(de){y(this,t(de,z),H)}),this)}function y(z,H,te){let oe=!1;function ue(de){if(oe)return;oe=!0;const se=z._readableState,pe=z._writableState;p(de,pe,se),pe&&(pe.closed=!0),se&&(se.closed=!0),typeof te=="function"&&te(de),de?e.nextTick(b,z,de):e.nextTick(x,z)}try{z._destroy(H||null,ue)}catch(de){ue(de)}}function b(z,H){E(z,H),x(z)}function x(z){const H=z._readableState,te=z._writableState;te&&(te.closeEmitted=!0),H&&(H.closeEmitted=!0),(te!=null&&te.emitClose||H!=null&&H.emitClose)&&z.emit("close")}function E(z,H){const te=z._readableState,oe=z._writableState;oe!=null&&oe.errorEmitted||te!=null&&te.errorEmitted||(oe&&(oe.errorEmitted=!0),te&&(te.errorEmitted=!0),z.emit("error",H))}function v(){const z=this._readableState,H=this._writableState;z&&(z.constructed=!0,z.closed=!1,z.closeEmitted=!1,z.destroyed=!1,z.errored=null,z.errorEmitted=!1,z.reading=!1,z.ended=z.readable===!1,z.endEmitted=z.readable===!1),H&&(H.constructed=!0,H.destroyed=!1,H.closed=!1,H.closeEmitted=!1,H.errored=null,H.errorEmitted=!1,H.finalCalled=!1,H.prefinished=!1,H.ended=H.writable===!1,H.ending=H.writable===!1,H.finished=H.writable===!1)}function w(z,H,te){const oe=z._readableState,ue=z._writableState;if(ue!=null&&ue.destroyed||oe!=null&&oe.destroyed)return this;oe!=null&&oe.autoDestroy||ue!=null&&ue.autoDestroy?z.destroy(H):H&&(H.stack,ue&&!ue.errored&&(ue.errored=H),oe&&!oe.errored&&(oe.errored=H),te?e.nextTick(E,z,H):E(z,H))}function C(z,H){if(typeof z._construct!="function")return;const te=z._readableState,oe=z._writableState;te&&(te.constructed=!1),oe&&(oe.constructed=!1),z.once(d,H),!(z.listenerCount(d)>1)&&e.nextTick(P,z)}function P(z){let H=!1;function te(oe){if(H){w(z,oe??new n);return}H=!0;const ue=z._readableState,de=z._writableState,se=de||ue;ue&&(ue.constructed=!0),de&&(de.constructed=!0),se.destroyed?z.emit(f,oe):oe?w(z,oe,!0):e.nextTick(R,z)}try{z._construct(oe=>{e.nextTick(te,oe)})}catch(oe){e.nextTick(te,oe)}}function R(z){z.emit(d)}function k(z){return z?.setHeader&&typeof z.abort=="function"}function M(z){z.emit("close")}function W(z,H){z.emit("error",H),e.nextTick(M,z)}function ee(z,H){!z||a(z)||(!H&&!s(z)&&(H=new r),l(z)?(z.socket=null,z.destroy(H)):k(z)?z.abort():k(z.req)?z.req.abort():typeof z.destroy=="function"?z.destroy(H):typeof z.close=="function"?z.close():H?e.nextTick(W,z,H):e.nextTick(M,z),z.destroyed||(z[o]=!0))}return F1={construct:C,destroyer:ee,destroy:g,undestroy:v,errorOrDestroy:w},F1}var j1,m3;function yR(){if(m3)return j1;m3=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Ir(),{EventEmitter:n}=vm();function r(o){n.call(this,o)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(o,a){const s=this;function l(x){o.writable&&o.write(x)===!1&&s.pause&&s.pause()}s.on("data",l);function f(){s.readable&&s.resume&&s.resume()}o.on("drain",f),!o._isStdio&&(!a||a.end!==!1)&&(s.on("end",p),s.on("close",g));let d=!1;function p(){d||(d=!0,o.end())}function g(){d||(d=!0,typeof o.destroy=="function"&&o.destroy())}function y(x){b(),n.listenerCount(this,"error")===0&&this.emit("error",x)}i(s,"error",y),i(o,"error",y);function b(){s.removeListener("data",l),o.removeListener("drain",f),s.removeListener("end",p),s.removeListener("close",g),s.removeListener("error",y),o.removeListener("error",y),s.removeListener("end",b),s.removeListener("close",b),o.removeListener("close",b)}return s.on("end",b),s.on("close",b),o.on("close",b),o.emit("pipe",s),o};function i(o,a,s){if(typeof o.prependListener=="function")return o.prependListener(a,s);!o._events||!o._events[a]?o.on(a,s):e(o._events[a])?o._events[a].unshift(s):o._events[a]=[s,o._events[a]]}return j1={Stream:r,prependListener:i},j1}var U1={exports:{}},g3;function fw(){return g3||(g3=1,(function(e){const{SymbolDispose:t}=Ir(),{AbortError:n,codes:r}=so(),{isNodeStream:i,isWebStream:o,kControllerErrorFunction:a}=pu(),s=Sl(),{ERR_INVALID_ARG_TYPE:l}=r;let f;const d=(p,g)=>{if(typeof p!="object"||!("aborted"in p))throw new l(g,"AbortSignal",p)};e.exports.addAbortSignal=function(g,y){if(d(g,"signal"),!i(y)&&!o(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return e.exports.addAbortSignalNoValidate(g,y)},e.exports.addAbortSignalNoValidate=function(p,g){if(typeof p!="object"||!("aborted"in p))return g;const y=i(g)?()=>{g.destroy(new n(void 0,{cause:p.reason}))}:()=>{g[a](new n(void 0,{cause:p.reason}))};if(p.aborted)y();else{f=f||Co().addAbortListener;const b=f(p,y);s(g,b[t])}return g}})(U1)),U1.exports}var B1,y3;function xte(){if(y3)return B1;y3=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=Ir(),{Buffer:i}=hu(),{inspect:o}=Co();return B1=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,f=""+l.data;for(;(l=l.next)!==null;)f+=s+l.data;return f}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let f=this.head,d=0;for(;f;)n(l,f.data,d),d+=f.data.length,f=f.next;return l}consume(s,l){const f=this.head.data;if(s<f.length){const d=f.slice(0,s);return this.head.data=f.slice(s),d}return s===f.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",f=this.head,d=0;do{const p=f.data;if(s>p.length)l+=p,s-=p.length;else{s===p.length?(l+=p,++d,f.next?this.head=f.next:this.head=this.tail=null):(l+=e(p,0,s),this.head=f,f.data=e(p,s));break}++d}while((f=f.next)!==null);return this.length-=d,l}_getBuffer(s){const l=i.allocUnsafe(s),f=s;let d=this.head,p=0;do{const g=d.data;if(s>g.length)n(l,g,f-s),s-=g.length;else{s===g.length?(n(l,g,f-s),++p,d.next?this.head=d.next:this.head=this.tail=null):(n(l,new r(g.buffer,g.byteOffset,s),f-s),this.head=d,d.data=g.slice(s));break}++p}while((d=d.next)!==null);return this.length-=p,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return o(this,{...l,depth:0,customInspect:!1})}},B1}var $1,v3;function dw(){if(v3)return $1;v3=1;const{MathFloor:e,NumberIsInteger:t}=Ir(),{validateInteger:n}=bm(),{ERR_INVALID_ARG_VALUE:r}=so().codes;let i=16*1024,o=16;function a(d,p,g){return d.highWaterMark!=null?d.highWaterMark:p?d[g]:null}function s(d){return d?o:i}function l(d,p){n(p,"value",0),d?o=p:i=p}function f(d,p,g,y){const b=a(p,y,g);if(b!=null){if(!t(b)||b<0){const x=y?`options.${g}`:"options.highWaterMark";throw new r(x,b)}return e(b)}return s(d.objectMode)}return $1={getHighWaterMark:f,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},$1}var z1={},gy={exports:{}};var _3;function Ete(){return _3||(_3=1,(function(e,t){var n=hu(),r=n.Buffer;function i(a,s){for(var l in a)s[l]=a[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(a,s,l){return r(a,s,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(a,s,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return r(a,s,l)},o.alloc=function(a,s,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var f=r(a);return s!==void 0?typeof l=="string"?f.fill(s,l):f.fill(s):f.fill(0),f},o.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r(a)},o.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(a)}})(gy,gy.exports)),gy.exports}var w3;function Cte(){if(w3)return z1;w3=1;var e=Ete().Buffer,t=e.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(v){if(!v)return"utf8";for(var w;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(w)return;v=(""+v).toLowerCase(),w=!0}}function r(v){var w=n(v);if(typeof w!="string"&&(e.isEncoding===t||!t(v)))throw new Error("Unknown encoding: "+v);return w||v}z1.StringDecoder=i;function i(v){this.encoding=r(v);var w;switch(this.encoding){case"utf16le":this.text=p,this.end=g,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=y,this.end=b,w=3;break;default:this.write=x,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(w)}i.prototype.write=function(v){if(v.length===0)return"";var w,C;if(this.lastNeed){if(w=this.fillLast(v),w===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<v.length?w?w+this.text(v,C):this.text(v,C):w||""},i.prototype.end=d,i.prototype.text=f,i.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function o(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function a(v,w,C){var P=w.length-1;if(P<C)return 0;var R=o(w[P]);return R>=0?(R>0&&(v.lastNeed=R-1),R):--P<C||R===-2?0:(R=o(w[P]),R>=0?(R>0&&(v.lastNeed=R-2),R):--P<C||R===-2?0:(R=o(w[P]),R>=0?(R>0&&(R===2?R=0:v.lastNeed=R-3),R):0))}function s(v,w,C){if((w[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return v.lastNeed=2,""}}function l(v){var w=this.lastTotal-this.lastNeed,C=s(this,v);if(C!==void 0)return C;if(this.lastNeed<=v.length)return v.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,w,0,v.length),this.lastNeed-=v.length}function f(v,w){var C=a(this,v,w);if(!this.lastNeed)return v.toString("utf8",w);this.lastTotal=C;var P=v.length-(C-this.lastNeed);return v.copy(this.lastChar,0,P),v.toString("utf8",w,P)}function d(v){var w=v&&v.length?this.write(v):"";return this.lastNeed?w+"":w}function p(v,w){if((v.length-w)%2===0){var C=v.toString("utf16le",w);if(C){var P=C.charCodeAt(C.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",w,v.length-1)}function g(v){var w=v&&v.length?this.write(v):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,C)}return w}function y(v,w){var C=(v.length-w)%3;return C===0?v.toString("base64",w):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",w,v.length-C))}function b(v){var w=v&&v.length?this.write(v):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function x(v){return v.toString(this.encoding)}function E(v){return v&&v.length?this.write(v):""}return z1}var q1,b3;function w$(){if(b3)return q1;b3=1;const e=jc(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=Ir(),{Buffer:i}=hu(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:a}=so().codes;function s(l,f,d){let p;if(typeof f=="string"||f instanceof i)return new l({objectMode:!0,...d,read(){this.push(f),this.push(null)}});let g;if(f&&f[n])g=!0,p=f[n]();else if(f&&f[r])g=!1,p=f[r]();else throw new o("iterable",["Iterable"],f);const y=new l({objectMode:!0,highWaterMark:1,...d});let b=!1;y._read=function(){b||(b=!0,E())},y._destroy=function(v,w){t(x(v),()=>e.nextTick(w,v),C=>e.nextTick(w,C||v))};async function x(v){const w=v!=null,C=typeof p.throw=="function";if(w&&C){const{value:P,done:R}=await p.throw(v);if(await P,R)return}if(typeof p.return=="function"){const{value:P}=await p.return();await P}}async function E(){for(;;){try{const{value:v,done:w}=g?await p.next():p.next();if(w)y.push(null);else{const C=v&&typeof v.then=="function"?await v:v;if(C===null)throw b=!1,new a;if(y.push(C))continue;b=!1}}catch(v){y.destroy(v)}break}}return y}return q1=s,q1}var H1,S3;function hw(){if(S3)return H1;S3=1;const e=jc(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:a,ObjectSetPrototypeOf:s,Promise:l,SafeSet:f,SymbolAsyncDispose:d,SymbolAsyncIterator:p,Symbol:g}=Ir();H1=Me,Me.ReadableState=Ae;const{EventEmitter:y}=vm(),{Stream:b,prependListener:x}=yR(),{Buffer:E}=hu(),{addAbortSignal:v}=fw(),w=Sl();let C=Co().debuglog("stream",Re=>{C=Re});const P=xte(),R=Pd(),{getHighWaterMark:k,getDefaultHighWaterMark:M}=dw(),{aggregateTwoErrors:W,codes:{ERR_INVALID_ARG_TYPE:ee,ERR_METHOD_NOT_IMPLEMENTED:z,ERR_OUT_OF_RANGE:H,ERR_STREAM_PUSH_AFTER_EOF:te,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:oe},AbortError:ue}=so(),{validateObject:de}=bm(),se=g("kPaused"),{StringDecoder:pe}=Cte(),re=w$();s(Me.prototype,b.prototype),s(Me,b);const Ee=()=>{},{errorOrDestroy:$}=R,Q=1,ce=2,G=4,X=8,ge=16,xe=32,Ve=64,Pe=128,Be=256,Je=512,fe=1024,V=2048,j=4096,ie=8192,me=16384,Te=32768,Le=65536,rt=1<<17,Ie=1<<18;function ye(Re){return{enumerable:!1,get(){return(this.state&Re)!==0},set(Ue){Ue?this.state|=Re:this.state&=~Re}}}o(Ae.prototype,{objectMode:ye(Q),ended:ye(ce),endEmitted:ye(G),reading:ye(X),constructed:ye(ge),sync:ye(xe),needReadable:ye(Ve),emittedReadable:ye(Pe),readableListening:ye(Be),resumeScheduled:ye(Je),errorEmitted:ye(fe),emitClose:ye(V),autoDestroy:ye(j),destroyed:ye(ie),closed:ye(me),closeEmitted:ye(Te),multiAwaitDrain:ye(Le),readingMore:ye(rt),dataEmitted:ye(Ie)});function Ae(Re,Ue,Ct){typeof Ct!="boolean"&&(Ct=Ue instanceof su()),this.state=V|j|ge|xe,Re&&Re.objectMode&&(this.state|=Q),Ct&&Re&&Re.readableObjectMode&&(this.state|=Q),this.highWaterMark=Re?k(this,Re,"readableHighWaterMark",Ct):M(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[se]=null,Re&&Re.emitClose===!1&&(this.state&=~V),Re&&Re.autoDestroy===!1&&(this.state&=~j),this.errored=null,this.defaultEncoding=Re&&Re.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Re&&Re.encoding&&(this.decoder=new pe(Re.encoding),this.encoding=Re.encoding)}function Me(Re){if(!(this instanceof Me))return new Me(Re);const Ue=this instanceof su();this._readableState=new Ae(Re,this,Ue),Re&&(typeof Re.read=="function"&&(this._read=Re.read),typeof Re.destroy=="function"&&(this._destroy=Re.destroy),typeof Re.construct=="function"&&(this._construct=Re.construct),Re.signal&&!Ue&&v(Re.signal,this)),b.call(this,Re),R.construct(this,()=>{this._readableState.needReadable&&Ge(this,this._readableState)})}Me.prototype.destroy=R.destroy,Me.prototype._undestroy=R.undestroy,Me.prototype._destroy=function(Re,Ue){Ue(Re)},Me.prototype[y.captureRejectionSymbol]=function(Re){this.destroy(Re)},Me.prototype[d]=function(){let Re;return this.destroyed||(Re=this.readableEnded?null:new ue,this.destroy(Re)),new l((Ue,Ct)=>w(this,At=>At&&At!==Re?Ct(At):Ue(null)))},Me.prototype.push=function(Re,Ue){return tt(this,Re,Ue,!1)},Me.prototype.unshift=function(Re,Ue){return tt(this,Re,Ue,!0)};function tt(Re,Ue,Ct,At){C("readableAddChunk",Ue);const Dt=Re._readableState;let $e;if((Dt.state&Q)===0&&(typeof Ue=="string"?(Ct=Ct||Dt.defaultEncoding,Dt.encoding!==Ct&&(At&&Dt.encoding?Ue=E.from(Ue,Ct).toString(Dt.encoding):(Ue=E.from(Ue,Ct),Ct=""))):Ue instanceof E?Ct="":b._isUint8Array(Ue)?(Ue=b._uint8ArrayToBuffer(Ue),Ct=""):Ue!=null&&($e=new ee("chunk",["string","Buffer","Uint8Array"],Ue))),$e)$(Re,$e);else if(Ue===null)Dt.state&=~X,K(Re,Dt);else if((Dt.state&Q)!==0||Ue&&Ue.length>0)if(At)if((Dt.state&G)!==0)$(Re,new oe);else{if(Dt.destroyed||Dt.errored)return!1;mt(Re,Dt,Ue,!0)}else if(Dt.ended)$(Re,new te);else{if(Dt.destroyed||Dt.errored)return!1;Dt.state&=~X,Dt.decoder&&!Ct?(Ue=Dt.decoder.write(Ue),Dt.objectMode||Ue.length!==0?mt(Re,Dt,Ue,!1):Ge(Re,Dt)):mt(Re,Dt,Ue,!1)}else At||(Dt.state&=~X,Ge(Re,Dt));return!Dt.ended&&(Dt.length<Dt.highWaterMark||Dt.length===0)}function mt(Re,Ue,Ct,At){Ue.flowing&&Ue.length===0&&!Ue.sync&&Re.listenerCount("data")>0?((Ue.state&Le)!==0?Ue.awaitDrainWriters.clear():Ue.awaitDrainWriters=null,Ue.dataEmitted=!0,Re.emit("data",Ct)):(Ue.length+=Ue.objectMode?1:Ct.length,At?Ue.buffer.unshift(Ct):Ue.buffer.push(Ct),(Ue.state&Ve)!==0&&Y(Re)),Ge(Re,Ue)}Me.prototype.isPaused=function(){const Re=this._readableState;return Re[se]===!0||Re.flowing===!1},Me.prototype.setEncoding=function(Re){const Ue=new pe(Re);this._readableState.decoder=Ue,this._readableState.encoding=this._readableState.decoder.encoding;const Ct=this._readableState.buffer;let At="";for(const Dt of Ct)At+=Ue.write(Dt);return Ct.clear(),At!==""&&Ct.push(At),this._readableState.length=At.length,this};const Ye=1073741824;function qe(Re){if(Re>Ye)throw new H("size","<= 1GiB",Re);return Re--,Re|=Re>>>1,Re|=Re>>>2,Re|=Re>>>4,Re|=Re>>>8,Re|=Re>>>16,Re++,Re}function ae(Re,Ue){return Re<=0||Ue.length===0&&Ue.ended?0:(Ue.state&Q)!==0?1:r(Re)?Ue.flowing&&Ue.length?Ue.buffer.first().length:Ue.length:Re<=Ue.length?Re:Ue.ended?Ue.length:0}Me.prototype.read=function(Re){C("read",Re),Re===void 0?Re=NaN:n(Re)||(Re=i(Re,10));const Ue=this._readableState,Ct=Re;if(Re>Ue.highWaterMark&&(Ue.highWaterMark=qe(Re)),Re!==0&&(Ue.state&=~Pe),Re===0&&Ue.needReadable&&((Ue.highWaterMark!==0?Ue.length>=Ue.highWaterMark:Ue.length>0)||Ue.ended))return C("read: emitReadable",Ue.length,Ue.ended),Ue.length===0&&Ue.ended?Er(this):Y(this),null;if(Re=ae(Re,Ue),Re===0&&Ue.ended)return Ue.length===0&&Er(this),null;let At=(Ue.state&Ve)!==0;if(C("need readable",At),(Ue.length===0||Ue.length-Re<Ue.highWaterMark)&&(At=!0,C("length less than watermark",At)),Ue.ended||Ue.reading||Ue.destroyed||Ue.errored||!Ue.constructed)At=!1,C("reading, ended or constructing",At);else if(At){C("do read"),Ue.state|=X|xe,Ue.length===0&&(Ue.state|=Ve);try{this._read(Ue.highWaterMark)}catch($e){$(this,$e)}Ue.state&=~xe,Ue.reading||(Re=ae(Ct,Ue))}let Dt;return Re>0?Dt=nn(Re,Ue):Dt=null,Dt===null?(Ue.needReadable=Ue.length<=Ue.highWaterMark,Re=0):(Ue.length-=Re,Ue.multiAwaitDrain?Ue.awaitDrainWriters.clear():Ue.awaitDrainWriters=null),Ue.length===0&&(Ue.ended||(Ue.needReadable=!0),Ct!==Re&&Ue.ended&&Er(this)),Dt!==null&&!Ue.errorEmitted&&!Ue.closeEmitted&&(Ue.dataEmitted=!0,this.emit("data",Dt)),Dt};function K(Re,Ue){if(C("onEofChunk"),!Ue.ended){if(Ue.decoder){const Ct=Ue.decoder.end();Ct&&Ct.length&&(Ue.buffer.push(Ct),Ue.length+=Ue.objectMode?1:Ct.length)}Ue.ended=!0,Ue.sync?Y(Re):(Ue.needReadable=!1,Ue.emittedReadable=!0,J(Re))}}function Y(Re){const Ue=Re._readableState;C("emitReadable",Ue.needReadable,Ue.emittedReadable),Ue.needReadable=!1,Ue.emittedReadable||(C("emitReadable",Ue.flowing),Ue.emittedReadable=!0,e.nextTick(J,Re))}function J(Re){const Ue=Re._readableState;C("emitReadable_",Ue.destroyed,Ue.length,Ue.ended),!Ue.destroyed&&!Ue.errored&&(Ue.length||Ue.ended)&&(Re.emit("readable"),Ue.emittedReadable=!1),Ue.needReadable=!Ue.flowing&&!Ue.ended&&Ue.length<=Ue.highWaterMark,Yt(Re)}function Ge(Re,Ue){!Ue.readingMore&&Ue.constructed&&(Ue.readingMore=!0,e.nextTick(et,Re,Ue))}function et(Re,Ue){for(;!Ue.reading&&!Ue.ended&&(Ue.length<Ue.highWaterMark||Ue.flowing&&Ue.length===0);){const Ct=Ue.length;if(C("maybeReadMore read 0"),Re.read(0),Ct===Ue.length)break}Ue.readingMore=!1}Me.prototype._read=function(Re){throw new z("_read()")},Me.prototype.pipe=function(Re,Ue){const Ct=this,At=this._readableState;At.pipes.length===1&&(At.multiAwaitDrain||(At.multiAwaitDrain=!0,At.awaitDrainWriters=new f(At.awaitDrainWriters?[At.awaitDrainWriters]:[]))),At.pipes.push(Re),C("pipe count=%d opts=%j",At.pipes.length,Ue);const $e=(!Ue||Ue.end!==!1)&&Re!==e.stdout&&Re!==e.stderr?ut:wt;At.endEmitted?e.nextTick($e):Ct.once("end",$e),Re.on("unpipe",Xe);function Xe(Nt,Jt){C("onunpipe"),Nt===Ct&&Jt&&Jt.hasUnpiped===!1&&(Jt.hasUnpiped=!0,qt())}function ut(){C("onend"),Re.end()}let lt,Ot=!1;function qt(){C("cleanup"),Re.removeListener("close",Bt),Re.removeListener("finish",Rt),lt&&Re.removeListener("drain",lt),Re.removeListener("error",It),Re.removeListener("unpipe",Xe),Ct.removeListener("end",ut),Ct.removeListener("end",wt),Ct.removeListener("data",Lt),Ot=!0,lt&&At.awaitDrainWriters&&(!Re._writableState||Re._writableState.needDrain)&&lt()}function jt(){Ot||(At.pipes.length===1&&At.pipes[0]===Re?(C("false write response, pause",0),At.awaitDrainWriters=Re,At.multiAwaitDrain=!1):At.pipes.length>1&&At.pipes.includes(Re)&&(C("false write response, pause",At.awaitDrainWriters.size),At.awaitDrainWriters.add(Re)),Ct.pause()),lt||(lt=Ke(Ct,Re),Re.on("drain",lt))}Ct.on("data",Lt);function Lt(Nt){C("ondata");const Jt=Re.write(Nt);C("dest.write",Jt),Jt===!1&&jt()}function It(Nt){if(C("onerror",Nt),wt(),Re.removeListener("error",It),Re.listenerCount("error")===0){const Jt=Re._writableState||Re._readableState;Jt&&!Jt.errorEmitted?$(Re,Nt):Re.emit("error",Nt)}}x(Re,"error",It);function Bt(){Re.removeListener("finish",Rt),wt()}Re.once("close",Bt);function Rt(){C("onfinish"),Re.removeListener("close",Bt),wt()}Re.once("finish",Rt);function wt(){C("unpipe"),Ct.unpipe(Re)}return Re.emit("pipe",Ct),Re.writableNeedDrain===!0?jt():At.flowing||(C("pipe resume"),Ct.resume()),Re};function Ke(Re,Ue){return function(){const At=Re._readableState;At.awaitDrainWriters===Ue?(C("pipeOnDrain",1),At.awaitDrainWriters=null):At.multiAwaitDrain&&(C("pipeOnDrain",At.awaitDrainWriters.size),At.awaitDrainWriters.delete(Ue)),(!At.awaitDrainWriters||At.awaitDrainWriters.size===0)&&Re.listenerCount("data")&&Re.resume()}}Me.prototype.unpipe=function(Re){const Ue=this._readableState,Ct={hasUnpiped:!1};if(Ue.pipes.length===0)return this;if(!Re){const Dt=Ue.pipes;Ue.pipes=[],this.pause();for(let $e=0;$e<Dt.length;$e++)Dt[$e].emit("unpipe",this,{hasUnpiped:!1});return this}const At=t(Ue.pipes,Re);return At===-1?this:(Ue.pipes.splice(At,1),Ue.pipes.length===0&&this.pause(),Re.emit("unpipe",this,Ct),this)},Me.prototype.on=function(Re,Ue){const Ct=b.prototype.on.call(this,Re,Ue),At=this._readableState;return Re==="data"?(At.readableListening=this.listenerCount("readable")>0,At.flowing!==!1&&this.resume()):Re==="readable"&&!At.endEmitted&&!At.readableListening&&(At.readableListening=At.needReadable=!0,At.flowing=!1,At.emittedReadable=!1,C("on readable",At.length,At.reading),At.length?Y(this):At.reading||e.nextTick(tn,this)),Ct},Me.prototype.addListener=Me.prototype.on,Me.prototype.removeListener=function(Re,Ue){const Ct=b.prototype.removeListener.call(this,Re,Ue);return Re==="readable"&&e.nextTick(Pt,this),Ct},Me.prototype.off=Me.prototype.removeListener,Me.prototype.removeAllListeners=function(Re){const Ue=b.prototype.removeAllListeners.apply(this,arguments);return(Re==="readable"||Re===void 0)&&e.nextTick(Pt,this),Ue};function Pt(Re){const Ue=Re._readableState;Ue.readableListening=Re.listenerCount("readable")>0,Ue.resumeScheduled&&Ue[se]===!1?Ue.flowing=!0:Re.listenerCount("data")>0?Re.resume():Ue.readableListening||(Ue.flowing=null)}function tn(Re){C("readable nexttick read 0"),Re.read(0)}Me.prototype.resume=function(){const Re=this._readableState;return Re.flowing||(C("resume"),Re.flowing=!Re.readableListening,zt(this,Re)),Re[se]=!1,this};function zt(Re,Ue){Ue.resumeScheduled||(Ue.resumeScheduled=!0,e.nextTick(Zt,Re,Ue))}function Zt(Re,Ue){C("resume",Ue.reading),Ue.reading||Re.read(0),Ue.resumeScheduled=!1,Re.emit("resume"),Yt(Re),Ue.flowing&&!Ue.reading&&Re.read(0)}Me.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[se]=!0,this};function Yt(Re){const Ue=Re._readableState;for(C("flow",Ue.flowing);Ue.flowing&&Re.read()!==null;);}Me.prototype.wrap=function(Re){let Ue=!1;Re.on("data",At=>{!this.push(At)&&Re.pause&&(Ue=!0,Re.pause())}),Re.on("end",()=>{this.push(null)}),Re.on("error",At=>{$(this,At)}),Re.on("close",()=>{this.destroy()}),Re.on("destroy",()=>{this.destroy()}),this._read=()=>{Ue&&Re.resume&&(Ue=!1,Re.resume())};const Ct=a(Re);for(let At=1;At<Ct.length;At++){const Dt=Ct[At];this[Dt]===void 0&&typeof Re[Dt]=="function"&&(this[Dt]=Re[Dt].bind(Re))}return this},Me.prototype[p]=function(){return ai(this)},Me.prototype.iterator=function(Re){return Re!==void 0&&de(Re,"options"),ai(this,Re)};function ai(Re,Ue){typeof Re.read!="function"&&(Re=Me.wrap(Re,{objectMode:!0}));const Ct=Tn(Re,Ue);return Ct.stream=Re,Ct}async function*Tn(Re,Ue){let Ct=Ee;function At(Xe){this===Re?(Ct(),Ct=Ee):Ct=Xe}Re.on("readable",At);let Dt;const $e=w(Re,{writable:!1},Xe=>{Dt=Xe?W(Dt,Xe):null,Ct(),Ct=Ee});try{for(;;){const Xe=Re.destroyed?null:Re.read();if(Xe!==null)yield Xe;else{if(Dt)throw Dt;if(Dt===null)return;await new l(At)}}}catch(Xe){throw Dt=W(Dt,Xe),Dt}finally{(Dt||Ue?.destroyOnReturn!==!1)&&(Dt===void 0||Re._readableState.autoDestroy)?R.destroyer(Re,null):(Re.off("readable",At),$e())}}o(Me.prototype,{readable:{__proto__:null,get(){const Re=this._readableState;return!!Re&&Re.readable!==!1&&!Re.destroyed&&!Re.errorEmitted&&!Re.endEmitted},set(Re){this._readableState&&(this._readableState.readable=!!Re)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Re){this._readableState&&(this._readableState.flowing=Re)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Re){this._readableState&&(this._readableState.destroyed=Re)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(Ae.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[se]!==!1},set(Re){this[se]=!!Re}}}),Me._fromList=nn;function nn(Re,Ue){if(Ue.length===0)return null;let Ct;return Ue.objectMode?Ct=Ue.buffer.shift():!Re||Re>=Ue.length?(Ue.decoder?Ct=Ue.buffer.join(""):Ue.buffer.length===1?Ct=Ue.buffer.first():Ct=Ue.buffer.concat(Ue.length),Ue.buffer.clear()):Ct=Ue.buffer.consume(Re,Ue.decoder),Ct}function Er(Re){const Ue=Re._readableState;C("endReadable",Ue.endEmitted),Ue.endEmitted||(Ue.ended=!0,e.nextTick(un,Ue,Re))}function un(Re,Ue){if(C("endReadableNT",Re.endEmitted,Re.length),!Re.errored&&!Re.closeEmitted&&!Re.endEmitted&&Re.length===0){if(Re.endEmitted=!0,Ue.emit("end"),Ue.writable&&Ue.allowHalfOpen===!1)e.nextTick(fr,Ue);else if(Re.autoDestroy){const Ct=Ue._writableState;(!Ct||Ct.autoDestroy&&(Ct.finished||Ct.writable===!1))&&Ue.destroy()}}}function fr(Re){Re.writable&&!Re.writableEnded&&!Re.destroyed&&Re.end()}Me.from=function(Re,Ue){return re(Me,Re,Ue)};let dr;function Cr(){return dr===void 0&&(dr={}),dr}return Me.fromWeb=function(Re,Ue){return Cr().newStreamReadableFromReadableStream(Re,Ue)},Me.toWeb=function(Re,Ue){return Cr().newReadableStreamFromStreamReadable(Re,Ue)},Me.wrap=function(Re,Ue){var Ct,At;return new Me({objectMode:(Ct=(At=Re.readableObjectMode)!==null&&At!==void 0?At:Re.objectMode)!==null&&Ct!==void 0?Ct:!0,...Ue,destroy(Dt,$e){R.destroyer(Re,Dt),$e(Dt)}}).wrap(Re)},H1}var V1,x3;function vR(){if(x3)return V1;x3=1;const e=jc(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:f}=Ir();V1=de,de.WritableState=oe;const{EventEmitter:d}=vm(),p=yR().Stream,{Buffer:g}=hu(),y=Pd(),{addAbortSignal:b}=fw(),{getHighWaterMark:x,getDefaultHighWaterMark:E}=dw(),{ERR_INVALID_ARG_TYPE:v,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:C,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:k,ERR_STREAM_NULL_VALUES:M,ERR_STREAM_WRITE_AFTER_END:W,ERR_UNKNOWN_ENCODING:ee}=so().codes,{errorOrDestroy:z}=y;a(de.prototype,p.prototype),a(de,p);function H(){}const te=l("kOnFinished");function oe(j,ie,me){typeof me!="boolean"&&(me=ie instanceof su()),this.objectMode=!!(j&&j.objectMode),me&&(this.objectMode=this.objectMode||!!(j&&j.writableObjectMode)),this.highWaterMark=j?x(this,j,"writableHighWaterMark",me):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Te=!!(j&&j.decodeStrings===!1);this.decodeStrings=!Te,this.defaultEncoding=j&&j.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=$.bind(void 0,ie),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ue(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!j||j.emitClose!==!1,this.autoDestroy=!j||j.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[te]=[]}function ue(j){j.buffered=[],j.bufferedIndex=0,j.allBuffers=!0,j.allNoop=!0}oe.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(oe.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function de(j){const ie=this instanceof su();if(!ie&&!r(de,this))return new de(j);this._writableState=new oe(j,this,ie),j&&(typeof j.write=="function"&&(this._write=j.write),typeof j.writev=="function"&&(this._writev=j.writev),typeof j.destroy=="function"&&(this._destroy=j.destroy),typeof j.final=="function"&&(this._final=j.final),typeof j.construct=="function"&&(this._construct=j.construct),j.signal&&b(j.signal,this)),p.call(this,j),y.construct(this,()=>{const me=this._writableState;me.writing||X(this,me),Pe(this,me)})}i(de,f,{__proto__:null,value:function(j){return r(this,j)?!0:this!==de?!1:j&&j._writableState instanceof oe}}),de.prototype.pipe=function(){z(this,new P)};function se(j,ie,me,Te){const Le=j._writableState;if(typeof me=="function")Te=me,me=Le.defaultEncoding;else{if(!me)me=Le.defaultEncoding;else if(me!=="buffer"&&!g.isEncoding(me))throw new ee(me);typeof Te!="function"&&(Te=H)}if(ie===null)throw new M;if(!Le.objectMode)if(typeof ie=="string")Le.decodeStrings!==!1&&(ie=g.from(ie,me),me="buffer");else if(ie instanceof g)me="buffer";else if(p._isUint8Array(ie))ie=p._uint8ArrayToBuffer(ie),me="buffer";else throw new v("chunk",["string","Buffer","Uint8Array"],ie);let rt;return Le.ending?rt=new W:Le.destroyed&&(rt=new R("write")),rt?(e.nextTick(Te,rt),z(j,rt,!0),rt):(Le.pendingcb++,pe(j,Le,ie,me,Te))}de.prototype.write=function(j,ie,me){return se(this,j,ie,me)===!0},de.prototype.cork=function(){this._writableState.corked++},de.prototype.uncork=function(){const j=this._writableState;j.corked&&(j.corked--,j.writing||X(this,j))},de.prototype.setDefaultEncoding=function(ie){if(typeof ie=="string"&&(ie=s(ie)),!g.isEncoding(ie))throw new ee(ie);return this._writableState.defaultEncoding=ie,this};function pe(j,ie,me,Te,Le){const rt=ie.objectMode?1:me.length;ie.length+=rt;const Ie=ie.length<ie.highWaterMark;return Ie||(ie.needDrain=!0),ie.writing||ie.corked||ie.errored||!ie.constructed?(ie.buffered.push({chunk:me,encoding:Te,callback:Le}),ie.allBuffers&&Te!=="buffer"&&(ie.allBuffers=!1),ie.allNoop&&Le!==H&&(ie.allNoop=!1)):(ie.writelen=rt,ie.writecb=Le,ie.writing=!0,ie.sync=!0,j._write(me,Te,ie.onwrite),ie.sync=!1),Ie&&!ie.errored&&!ie.destroyed}function re(j,ie,me,Te,Le,rt,Ie){ie.writelen=Te,ie.writecb=Ie,ie.writing=!0,ie.sync=!0,ie.destroyed?ie.onwrite(new R("write")):me?j._writev(Le,ie.onwrite):j._write(Le,rt,ie.onwrite),ie.sync=!1}function Ee(j,ie,me,Te){--ie.pendingcb,Te(me),G(ie),z(j,me)}function $(j,ie){const me=j._writableState,Te=me.sync,Le=me.writecb;if(typeof Le!="function"){z(j,new C);return}me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0,ie?(ie.stack,me.errored||(me.errored=ie),j._readableState&&!j._readableState.errored&&(j._readableState.errored=ie),Te?e.nextTick(Ee,j,me,ie,Le):Ee(j,me,ie,Le)):(me.buffered.length>me.bufferedIndex&&X(j,me),Te?me.afterWriteTickInfo!==null&&me.afterWriteTickInfo.cb===Le?me.afterWriteTickInfo.count++:(me.afterWriteTickInfo={count:1,cb:Le,stream:j,state:me},e.nextTick(Q,me.afterWriteTickInfo)):ce(j,me,1,Le))}function Q({stream:j,state:ie,count:me,cb:Te}){return ie.afterWriteTickInfo=null,ce(j,ie,me,Te)}function ce(j,ie,me,Te){for(!ie.ending&&!j.destroyed&&ie.length===0&&ie.needDrain&&(ie.needDrain=!1,j.emit("drain"));me-- >0;)ie.pendingcb--,Te();ie.destroyed&&G(ie),Pe(j,ie)}function G(j){if(j.writing)return;for(let Le=j.bufferedIndex;Le<j.buffered.length;++Le){var ie;const{chunk:rt,callback:Ie}=j.buffered[Le],ye=j.objectMode?1:rt.length;j.length-=ye,Ie((ie=j.errored)!==null&&ie!==void 0?ie:new R("write"))}const me=j[te].splice(0);for(let Le=0;Le<me.length;Le++){var Te;me[Le]((Te=j.errored)!==null&&Te!==void 0?Te:new R("end"))}ue(j)}function X(j,ie){if(ie.corked||ie.bufferProcessing||ie.destroyed||!ie.constructed)return;const{buffered:me,bufferedIndex:Te,objectMode:Le}=ie,rt=me.length-Te;if(!rt)return;let Ie=Te;if(ie.bufferProcessing=!0,rt>1&&j._writev){ie.pendingcb-=rt-1;const ye=ie.allNoop?H:Me=>{for(let tt=Ie;tt<me.length;++tt)me[tt].callback(Me)},Ae=ie.allNoop&&Ie===0?me:t(me,Ie);Ae.allBuffers=ie.allBuffers,re(j,ie,!0,ie.length,Ae,"",ye),ue(ie)}else{do{const{chunk:ye,encoding:Ae,callback:Me}=me[Ie];me[Ie++]=null;const tt=Le?1:ye.length;re(j,ie,!1,tt,ye,Ae,Me)}while(Ie<me.length&&!ie.writing);Ie===me.length?ue(ie):Ie>256?(me.splice(0,Ie),ie.bufferedIndex=0):ie.bufferedIndex=Ie}ie.bufferProcessing=!1}de.prototype._write=function(j,ie,me){if(this._writev)this._writev([{chunk:j,encoding:ie}],me);else throw new w("_write()")},de.prototype._writev=null,de.prototype.end=function(j,ie,me){const Te=this._writableState;typeof j=="function"?(me=j,j=null,ie=null):typeof ie=="function"&&(me=ie,ie=null);let Le;if(j!=null){const rt=se(this,j,ie);rt instanceof n&&(Le=rt)}return Te.corked&&(Te.corked=1,this.uncork()),Le||(!Te.errored&&!Te.ending?(Te.ending=!0,Pe(this,Te,!0),Te.ended=!0):Te.finished?Le=new k("end"):Te.destroyed&&(Le=new R("end"))),typeof me=="function"&&(Le||Te.finished?e.nextTick(me,Le):Te[te].push(me)),this};function ge(j){return j.ending&&!j.destroyed&&j.constructed&&j.length===0&&!j.errored&&j.buffered.length===0&&!j.finished&&!j.writing&&!j.errorEmitted&&!j.closeEmitted}function xe(j,ie){let me=!1;function Te(Le){if(me){z(j,Le??C());return}if(me=!0,ie.pendingcb--,Le){const rt=ie[te].splice(0);for(let Ie=0;Ie<rt.length;Ie++)rt[Ie](Le);z(j,Le,ie.sync)}else ge(ie)&&(ie.prefinished=!0,j.emit("prefinish"),ie.pendingcb++,e.nextTick(Be,j,ie))}ie.sync=!0,ie.pendingcb++;try{j._final(Te)}catch(Le){Te(Le)}ie.sync=!1}function Ve(j,ie){!ie.prefinished&&!ie.finalCalled&&(typeof j._final=="function"&&!ie.destroyed?(ie.finalCalled=!0,xe(j,ie)):(ie.prefinished=!0,j.emit("prefinish")))}function Pe(j,ie,me){ge(ie)&&(Ve(j,ie),ie.pendingcb===0&&(me?(ie.pendingcb++,e.nextTick((Te,Le)=>{ge(Le)?Be(Te,Le):Le.pendingcb--},j,ie)):ge(ie)&&(ie.pendingcb++,Be(j,ie))))}function Be(j,ie){ie.pendingcb--,ie.finished=!0;const me=ie[te].splice(0);for(let Te=0;Te<me.length;Te++)me[Te]();if(j.emit("finish"),ie.autoDestroy){const Te=j._readableState;(!Te||Te.autoDestroy&&(Te.endEmitted||Te.readable===!1))&&j.destroy()}}o(de.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(j){this._writableState&&(this._writableState.destroyed=j)}},writable:{__proto__:null,get(){const j=this._writableState;return!!j&&j.writable!==!1&&!j.destroyed&&!j.errored&&!j.ending&&!j.ended},set(j){this._writableState&&(this._writableState.writable=!!j)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const j=this._writableState;return j?!j.destroyed&&!j.ending&&j.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Je=y.destroy;de.prototype.destroy=function(j,ie){const me=this._writableState;return!me.destroyed&&(me.bufferedIndex<me.buffered.length||me[te].length)&&e.nextTick(G,me),Je.call(this,j,ie),this},de.prototype._undestroy=y.undestroy,de.prototype._destroy=function(j,ie){ie(j)},de.prototype[d.captureRejectionSymbol]=function(j){this.destroy(j)};let fe;function V(){return fe===void 0&&(fe={}),fe}return de.fromWeb=function(j,ie){return V().newStreamWritableFromWritableStream(j,ie)},de.toWeb=function(j){return V().newWritableStreamFromStreamWritable(j)},V1}var K1,E3;function Tte(){if(E3)return K1;E3=1;const e=jc(),t=hu(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:o,isReadableNodeStream:a,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:f,isWritableStream:d}=pu(),p=Sl(),{AbortError:g,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:b}}=so(),{destroyer:x}=Pd(),E=su(),v=hw(),w=vR(),{createDeferredPromise:C}=Co(),P=w$(),R=globalThis.Blob||t.Blob,k=typeof R<"u"?function(oe){return oe instanceof R}:function(oe){return!1},M=globalThis.AbortController||qp().AbortController,{FunctionPrototypeCall:W}=Ir();class ee extends E{constructor(oe){super(oe),oe?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),oe?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}K1=function te(oe,ue){if(l(oe))return oe;if(a(oe))return H({readable:oe});if(s(oe))return H({writable:oe});if(o(oe))return H({writable:!1,readable:!1});if(f(oe))return H({readable:v.fromWeb(oe)});if(d(oe))return H({writable:w.fromWeb(oe)});if(typeof oe=="function"){const{value:se,write:pe,final:re,destroy:Ee}=z(oe);if(i(se))return P(ee,se,{objectMode:!0,write:pe,final:re,destroy:Ee});const $=se?.then;if(typeof $=="function"){let Q;const ce=W($,se,G=>{if(G!=null)throw new b("nully","body",G)},G=>{x(Q,G)});return Q=new ee({objectMode:!0,readable:!1,write:pe,final(G){re(async()=>{try{await ce,e.nextTick(G,null)}catch(X){e.nextTick(G,X)}})},destroy:Ee})}throw new b("Iterable, AsyncIterable or AsyncFunction",ue,se)}if(k(oe))return te(oe.arrayBuffer());if(i(oe))return P(ee,oe,{objectMode:!0,writable:!1});if(f(oe?.readable)&&d(oe?.writable))return ee.fromWeb(oe);if(typeof oe?.writable=="object"||typeof oe?.readable=="object"){const se=oe!=null&&oe.readable?a(oe?.readable)?oe?.readable:te(oe.readable):void 0,pe=oe!=null&&oe.writable?s(oe?.writable)?oe?.writable:te(oe.writable):void 0;return H({readable:se,writable:pe})}const de=oe?.then;if(typeof de=="function"){let se;return W(de,oe,pe=>{pe!=null&&se.push(pe),se.push(null)},pe=>{x(se,pe)}),se=new ee({objectMode:!0,writable:!1,read(){}})}throw new y(ue,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],oe)};function z(te){let{promise:oe,resolve:ue}=C();const de=new M,se=de.signal;return{value:te((async function*(){for(;;){const re=oe;oe=null;const{chunk:Ee,done:$,cb:Q}=await re;if(e.nextTick(Q),$)return;if(se.aborted)throw new g(void 0,{cause:se.reason});({promise:oe,resolve:ue}=C()),yield Ee}})(),{signal:se}),write(re,Ee,$){const Q=ue;ue=null,Q({chunk:re,done:!1,cb:$})},final(re){const Ee=ue;ue=null,Ee({done:!0,cb:re})},destroy(re,Ee){de.abort(),Ee(re)}}}function H(te){const oe=te.readable&&typeof te.readable.read!="function"?v.wrap(te.readable):te.readable,ue=te.writable;let de=!!n(oe),se=!!r(ue),pe,re,Ee,$,Q;function ce(G){const X=$;$=null,X?X(G):G&&Q.destroy(G)}return Q=new ee({readableObjectMode:!!(oe!=null&&oe.readableObjectMode),writableObjectMode:!!(ue!=null&&ue.writableObjectMode),readable:de,writable:se}),se&&(p(ue,G=>{se=!1,G&&x(oe,G),ce(G)}),Q._write=function(G,X,ge){ue.write(G,X)?ge():pe=ge},Q._final=function(G){ue.end(),re=G},ue.on("drain",function(){if(pe){const G=pe;pe=null,G()}}),ue.on("finish",function(){if(re){const G=re;re=null,G()}})),de&&(p(oe,G=>{de=!1,G&&x(oe,G),ce(G)}),oe.on("readable",function(){if(Ee){const G=Ee;Ee=null,G()}}),oe.on("end",function(){Q.push(null)}),Q._read=function(){for(;;){const G=oe.read();if(G===null){Ee=Q._read;return}if(!Q.push(G))return}}),Q._destroy=function(G,X){!G&&$!==null&&(G=new g),Ee=null,pe=null,re=null,$===null?X(G):($=X,x(ue,G),x(oe,G))},Q}return K1}var G1,C3;function su(){if(C3)return G1;C3=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=Ir();G1=a;const i=hw(),o=vR();r(a.prototype,i.prototype),r(a,i);{const d=n(o.prototype);for(let p=0;p<d.length;p++){const g=d[p];a.prototype[g]||(a.prototype[g]=o.prototype[g])}}function a(d){if(!(this instanceof a))return new a(d);i.call(this,d),o.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(a.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let s;function l(){return s===void 0&&(s={}),s}a.fromWeb=function(d,p){return l().newStreamDuplexFromReadableWritablePair(d,p)},a.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let f;return a.from=function(d){return f||(f=Tte()),f(d,"body")},G1}var W1,T3;function b$(){if(T3)return W1;T3=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Ir();W1=a;const{ERR_METHOD_NOT_IMPLEMENTED:n}=so().codes,r=su(),{getHighWaterMark:i}=dw();e(a.prototype,r.prototype),e(a,r);const o=t("kCallback");function a(f){if(!(this instanceof a))return new a(f);const d=f?i(this,f,"readableHighWaterMark",!0):null;d===0&&(f={...f,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:f.writableHighWaterMark||0}),r.call(this,f),this._readableState.sync=!1,this[o]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",l)}function s(f){typeof this._flush=="function"&&!this.destroyed?this._flush((d,p)=>{if(d){f?f(d):this.destroy(d);return}p!=null&&this.push(p),this.push(null),f&&f()}):(this.push(null),f&&f())}function l(){this._final!==s&&s.call(this)}return a.prototype._final=s,a.prototype._transform=function(f,d,p){throw new n("_transform()")},a.prototype._write=function(f,d,p){const g=this._readableState,y=this._writableState,b=g.length;this._transform(f,d,(x,E)=>{if(x){p(x);return}E!=null&&this.push(E),y.ended||b===g.length||g.length<g.highWaterMark?p():this[o]=p})},a.prototype._read=function(){if(this[o]){const f=this[o];this[o]=null,f()}},W1}var Z1,A3;function S$(){if(A3)return Z1;A3=1;const{ObjectSetPrototypeOf:e}=Ir();Z1=n;const t=b$();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,o){o(null,r)},Z1}var Q1,R3;function _R(){if(R3)return Q1;R3=1;const e=jc(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Ir(),o=Sl(),{once:a}=Co(),s=Pd(),l=su(),{aggregateTwoErrors:f,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:g,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:b},AbortError:x}=so(),{validateFunction:E,validateAbortSignal:v}=bm(),{isIterable:w,isReadable:C,isReadableNodeStream:P,isNodeStream:R,isTransformStream:k,isWebStream:M,isReadableStream:W,isReadableFinished:ee}=pu(),z=globalThis.AbortController||qp().AbortController;let H,te,oe;function ue(G,X,ge){let xe=!1;G.on("close",()=>{xe=!0});const Ve=o(G,{readable:X,writable:ge},Pe=>{xe=!Pe});return{destroy:Pe=>{xe||(xe=!0,s.destroyer(G,Pe||new y("pipe")))},cleanup:Ve}}function de(G){return E(G[G.length-1],"streams[stream.length - 1]"),G.pop()}function se(G){if(w(G))return G;if(P(G))return pe(G);throw new d("val",["Readable","Iterable","AsyncIterable"],G)}async function*pe(G){te||(te=hw()),yield*te.prototype[r].call(G)}async function re(G,X,ge,{end:xe}){let Ve,Pe=null;const Be=V=>{if(V&&(Ve=V),Pe){const j=Pe;Pe=null,j()}},Je=()=>new n((V,j)=>{Ve?j(Ve):Pe=()=>{Ve?j(Ve):V()}});X.on("drain",Be);const fe=o(X,{readable:!1},Be);try{X.writableNeedDrain&&await Je();for await(const V of G)X.write(V)||await Je();xe&&(X.end(),await Je()),ge()}catch(V){ge(Ve!==V?f(Ve,V):V)}finally{fe(),X.off("drain",Be)}}async function Ee(G,X,ge,{end:xe}){k(X)&&(X=X.writable);const Ve=X.getWriter();try{for await(const Pe of G)await Ve.ready,Ve.write(Pe).catch(()=>{});await Ve.ready,xe&&await Ve.close(),ge()}catch(Pe){try{await Ve.abort(Pe),ge(Pe)}catch(Be){ge(Be)}}}function $(...G){return Q(G,a(de(G)))}function Q(G,X,ge){if(G.length===1&&t(G[0])&&(G=G[0]),G.length<2)throw new g("streams");const xe=new z,Ve=xe.signal,Pe=ge?.signal,Be=[];v(Pe,"options.signal");function Je(){Le(new x)}oe=oe||Co().addAbortListener;let fe;Pe&&(fe=oe(Pe,Je));let V,j;const ie=[];let me=0;function Te(Me){Le(Me,--me===0)}function Le(Me,tt){var mt;if(Me&&(!V||V.code==="ERR_STREAM_PREMATURE_CLOSE")&&(V=Me),!(!V&&!tt)){for(;ie.length;)ie.shift()(V);(mt=fe)===null||mt===void 0||mt[i](),xe.abort(),tt&&(V||Be.forEach(Ye=>Ye()),e.nextTick(X,V,j))}}let rt;for(let Me=0;Me<G.length;Me++){const tt=G[Me],mt=Me<G.length-1,Ye=Me>0,qe=mt||ge?.end!==!1,ae=Me===G.length-1;if(R(tt)){let K=function(Y){Y&&Y.name!=="AbortError"&&Y.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Te(Y)};var Ae=K;if(qe){const{destroy:Y,cleanup:J}=ue(tt,mt,Ye);ie.push(Y),C(tt)&&ae&&Be.push(J)}tt.on("error",K),C(tt)&&ae&&Be.push(()=>{tt.removeListener("error",K)})}if(Me===0)if(typeof tt=="function"){if(rt=tt({signal:Ve}),!w(rt))throw new p("Iterable, AsyncIterable or Stream","source",rt)}else w(tt)||P(tt)||k(tt)?rt=tt:rt=l.from(tt);else if(typeof tt=="function"){if(k(rt)){var Ie;rt=se((Ie=rt)===null||Ie===void 0?void 0:Ie.readable)}else rt=se(rt);if(rt=tt(rt,{signal:Ve}),mt){if(!w(rt,!0))throw new p("AsyncIterable",`transform[${Me-1}]`,rt)}else{var ye;H||(H=S$());const K=new H({objectMode:!0}),Y=(ye=rt)===null||ye===void 0?void 0:ye.then;if(typeof Y=="function")me++,Y.call(rt,et=>{j=et,et!=null&&K.write(et),qe&&K.end(),e.nextTick(Te)},et=>{K.destroy(et),e.nextTick(Te,et)});else if(w(rt,!0))me++,re(rt,K,Te,{end:qe});else if(W(rt)||k(rt)){const et=rt.readable||rt;me++,re(et,K,Te,{end:qe})}else throw new p("AsyncIterable or Promise","destination",rt);rt=K;const{destroy:J,cleanup:Ge}=ue(rt,!1,!0);ie.push(J),ae&&Be.push(Ge)}}else if(R(tt)){if(P(rt)){me+=2;const K=ce(rt,tt,Te,{end:qe});C(tt)&&ae&&Be.push(K)}else if(k(rt)||W(rt)){const K=rt.readable||rt;me++,re(K,tt,Te,{end:qe})}else if(w(rt))me++,re(rt,tt,Te,{end:qe});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],rt);rt=tt}else if(M(tt)){if(P(rt))me++,Ee(se(rt),tt,Te,{end:qe});else if(W(rt)||w(rt))me++,Ee(rt,tt,Te,{end:qe});else if(k(rt))me++,Ee(rt.readable,tt,Te,{end:qe});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],rt);rt=tt}else rt=l.from(tt)}return(Ve!=null&&Ve.aborted||Pe!=null&&Pe.aborted)&&e.nextTick(Je),rt}function ce(G,X,ge,{end:xe}){let Ve=!1;if(X.on("close",()=>{Ve||ge(new b)}),G.pipe(X,{end:!1}),xe){let Be=function(){Ve=!0,X.end()};var Pe=Be;ee(G)?e.nextTick(Be):G.once("end",Be)}else ge();return o(G,{readable:!0,writable:!1},Be=>{const Je=G._readableState;Be&&Be.code==="ERR_STREAM_PREMATURE_CLOSE"&&Je&&Je.ended&&!Je.errored&&!Je.errorEmitted?G.once("end",ge).once("error",ge):ge(Be)}),o(X,{readable:!1,writable:!0},ge)}return Q1={pipelineImpl:Q,pipeline:$},Q1}var J1,P3;function x$(){if(P3)return J1;P3=1;const{pipeline:e}=_R(),t=su(),{destroyer:n}=Pd(),{isNodeStream:r,isReadable:i,isWritable:o,isWebStream:a,isTransformStream:s,isWritableStream:l,isReadableStream:f}=pu(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:g}}=so(),y=Sl();return J1=function(...x){if(x.length===0)throw new g("streams");if(x.length===1)return t.from(x[0]);const E=[...x];if(typeof x[0]=="function"&&(x[0]=t.from(x[0])),typeof x[x.length-1]=="function"){const H=x.length-1;x[H]=t.from(x[H])}for(let H=0;H<x.length;++H)if(!(!r(x[H])&&!a(x[H]))){if(H<x.length-1&&!(i(x[H])||f(x[H])||s(x[H])))throw new p(`streams[${H}]`,E[H],"must be readable");if(H>0&&!(o(x[H])||l(x[H])||s(x[H])))throw new p(`streams[${H}]`,E[H],"must be writable")}let v,w,C,P,R;function k(H){const te=P;P=null,te?te(H):H?R.destroy(H):!z&&!ee&&R.destroy()}const M=x[0],W=e(x,k),ee=!!(o(M)||l(M)||s(M)),z=!!(i(W)||f(W)||s(W));if(R=new t({writableObjectMode:!!(M!=null&&M.writableObjectMode),readableObjectMode:!!(W!=null&&W.readableObjectMode),writable:ee,readable:z}),ee){if(r(M))R._write=function(te,oe,ue){M.write(te,oe)?ue():v=ue},R._final=function(te){M.end(),w=te},M.on("drain",function(){if(v){const te=v;v=null,te()}});else if(a(M)){const oe=(s(M)?M.writable:M).getWriter();R._write=async function(ue,de,se){try{await oe.ready,oe.write(ue).catch(()=>{}),se()}catch(pe){se(pe)}},R._final=async function(ue){try{await oe.ready,oe.close().catch(()=>{}),w=ue}catch(de){ue(de)}}}const H=s(W)?W.readable:W;y(H,()=>{if(w){const te=w;w=null,te()}})}if(z){if(r(W))W.on("readable",function(){if(C){const H=C;C=null,H()}}),W.on("end",function(){R.push(null)}),R._read=function(){for(;;){const H=W.read();if(H===null){C=R._read;return}if(!R.push(H))return}};else if(a(W)){const te=(s(W)?W.readable:W).getReader();R._read=async function(){for(;;)try{const{value:oe,done:ue}=await te.read();if(!R.push(oe))return;if(ue){R.push(null);return}}catch{return}}}}return R._destroy=function(H,te){!H&&P!==null&&(H=new d),C=null,v=null,w=null,P===null?te(H):(P=te,r(W)&&n(W,H))},R},J1}var O3;function Ate(){if(O3)return py;O3=1;const e=globalThis.AbortController||qp().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:o}=so(),{validateAbortSignal:a,validateInteger:s,validateObject:l}=bm(),f=Ir().Symbol("kWeak"),d=Ir().Symbol("kResistStopPropagation"),{finished:p}=Sl(),g=x$(),{addAbortSignalNoValidate:y}=fw(),{isWritable:b,isNodeStream:x}=pu(),{deprecate:E}=Co(),{ArrayPrototypePush:v,Boolean:w,MathFloor:C,Number:P,NumberIsNaN:R,Promise:k,PromiseReject:M,PromiseResolve:W,PromisePrototypeThen:ee,Symbol:z}=Ir(),H=z("kEmpty"),te=z("kEof");function oe(Pe,Be){if(Be!=null&&l(Be,"options"),Be?.signal!=null&&a(Be.signal,"options.signal"),x(Pe)&&!b(Pe))throw new t("stream",Pe,"must be writable");const Je=g(this,Pe);return Be!=null&&Be.signal&&y(Be.signal,Je),Je}function ue(Pe,Be){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);Be!=null&&l(Be,"options"),Be?.signal!=null&&a(Be.signal,"options.signal");let Je=1;Be?.concurrency!=null&&(Je=C(Be.concurrency));let fe=Je-1;return Be?.highWaterMark!=null&&(fe=C(Be.highWaterMark)),s(Je,"options.concurrency",1),s(fe,"options.highWaterMark",0),fe+=Je,(async function*(){const j=Co().AbortSignalAny([Be?.signal].filter(w)),ie=this,me=[],Te={signal:j};let Le,rt,Ie=!1,ye=0;function Ae(){Ie=!0,Me()}function Me(){ye-=1,tt()}function tt(){rt&&!Ie&&ye<Je&&me.length<fe&&(rt(),rt=null)}async function mt(){try{for await(let Ye of ie){if(Ie)return;if(j.aborted)throw new o;try{if(Ye=Pe(Ye,Te),Ye===H)continue;Ye=W(Ye)}catch(qe){Ye=M(qe)}ye+=1,ee(Ye,Me,Ae),me.push(Ye),Le&&(Le(),Le=null),!Ie&&(me.length>=fe||ye>=Je)&&await new k(qe=>{rt=qe})}me.push(te)}catch(Ye){const qe=M(Ye);ee(qe,Me,Ae),me.push(qe)}finally{Ie=!0,Le&&(Le(),Le=null)}}mt();try{for(;;){for(;me.length>0;){const Ye=await me[0];if(Ye===te)return;if(j.aborted)throw new o;Ye!==H&&(yield Ye),me.shift(),tt()}await new k(Ye=>{Le=Ye})}}finally{Ie=!0,rt&&(rt(),rt=null)}}).call(this)}function de(Pe=void 0){return Pe!=null&&l(Pe,"options"),Pe?.signal!=null&&a(Pe.signal,"options.signal"),(async function*(){let Je=0;for await(const V of this){var fe;if(Pe!=null&&(fe=Pe.signal)!==null&&fe!==void 0&&fe.aborted)throw new o({cause:Pe.signal.reason});yield[Je++,V]}}).call(this)}async function se(Pe,Be=void 0){for await(const Je of $.call(this,Pe,Be))return!0;return!1}async function pe(Pe,Be=void 0){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);return!await se.call(this,async(...Je)=>!await Pe(...Je),Be)}async function re(Pe,Be){for await(const Je of $.call(this,Pe,Be))return Je}async function Ee(Pe,Be){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Je(fe,V){return await Pe(fe,V),H}for await(const fe of ue.call(this,Je,Be));}function $(Pe,Be){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Je(fe,V){return await Pe(fe,V)?fe:H}return ue.call(this,Je,Be)}class Q extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function ce(Pe,Be,Je){var fe;if(typeof Pe!="function")throw new n("reducer",["Function","AsyncFunction"],Pe);Je!=null&&l(Je,"options"),Je?.signal!=null&&a(Je.signal,"options.signal");let V=arguments.length>1;if(Je!=null&&(fe=Je.signal)!==null&&fe!==void 0&&fe.aborted){const Le=new o(void 0,{cause:Je.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(Le)),Le}const j=new e,ie=j.signal;if(Je!=null&&Je.signal){const Le={once:!0,[f]:this,[d]:!0};Je.signal.addEventListener("abort",()=>j.abort(),Le)}let me=!1;try{for await(const Le of this){var Te;if(me=!0,Je!=null&&(Te=Je.signal)!==null&&Te!==void 0&&Te.aborted)throw new o;V?Be=await Pe(Be,Le,{signal:ie}):(Be=Le,V=!0)}if(!me&&!V)throw new Q}finally{j.abort()}return Be}async function G(Pe){Pe!=null&&l(Pe,"options"),Pe?.signal!=null&&a(Pe.signal,"options.signal");const Be=[];for await(const fe of this){var Je;if(Pe!=null&&(Je=Pe.signal)!==null&&Je!==void 0&&Je.aborted)throw new o(void 0,{cause:Pe.signal.reason});v(Be,fe)}return Be}function X(Pe,Be){const Je=ue.call(this,Pe,Be);return(async function*(){for await(const V of Je)yield*V}).call(this)}function ge(Pe){if(Pe=P(Pe),R(Pe))return 0;if(Pe<0)throw new i("number",">= 0",Pe);return Pe}function xe(Pe,Be=void 0){return Be!=null&&l(Be,"options"),Be?.signal!=null&&a(Be.signal,"options.signal"),Pe=ge(Pe),(async function*(){var fe;if(Be!=null&&(fe=Be.signal)!==null&&fe!==void 0&&fe.aborted)throw new o;for await(const j of this){var V;if(Be!=null&&(V=Be.signal)!==null&&V!==void 0&&V.aborted)throw new o;Pe--<=0&&(yield j)}}).call(this)}function Ve(Pe,Be=void 0){return Be!=null&&l(Be,"options"),Be?.signal!=null&&a(Be.signal,"options.signal"),Pe=ge(Pe),(async function*(){var fe;if(Be!=null&&(fe=Be.signal)!==null&&fe!==void 0&&fe.aborted)throw new o;for await(const j of this){var V;if(Be!=null&&(V=Be.signal)!==null&&V!==void 0&&V.aborted)throw new o;if(Pe-- >0&&(yield j),Pe<=0)return}}).call(this)}return py.streamReturningOperators={asIndexedPairs:E(de,"readable.asIndexedPairs will be removed in a future version."),drop:xe,filter:$,flatMap:X,map:ue,take:Ve,compose:oe},py.promiseReturningOperators={every:pe,forEach:Ee,reduce:ce,toArray:G,some:se,find:re},py}var Y1,M3;function E$(){if(M3)return Y1;M3=1;const{ArrayPrototypePop:e,Promise:t}=Ir(),{isIterable:n,isNodeStream:r,isWebStream:i}=pu(),{pipelineImpl:o}=_R(),{finished:a}=Sl();C$();function s(...l){return new t((f,d)=>{let p,g;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const b=e(l);p=b.signal,g=b.end}o(l,(b,x)=>{b?d(b):f(x)},{signal:p,end:g})})}return Y1={finished:a,pipeline:s},Y1}var L3;function C$(){if(L3)return P1.exports;L3=1;const{Buffer:e}=hu(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=Ir(),{promisify:{custom:i}}=Co(),{streamReturningOperators:o,promiseReturningOperators:a}=Ate(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=so(),l=x$(),{setDefaultHighWaterMark:f,getDefaultHighWaterMark:d}=dw(),{pipeline:p}=_R(),{destroyer:g}=Pd(),y=Sl(),b=E$(),x=pu(),E=P1.exports=yR().Stream;E.isDestroyed=x.isDestroyed,E.isDisturbed=x.isDisturbed,E.isErrored=x.isErrored,E.isReadable=x.isReadable,E.isWritable=x.isWritable,E.Readable=hw();for(const C of n(o)){let R=function(...k){if(new.target)throw s();return E.Readable.from(r(P,this,k))};var w=R;const P=o[C];t(R,"name",{__proto__:null,value:P.name}),t(R,"length",{__proto__:null,value:P.length}),t(E.Readable.prototype,C,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}for(const C of n(a)){let R=function(...M){if(new.target)throw s();return r(P,this,M)};var w=R;const P=a[C];t(R,"name",{__proto__:null,value:P.name}),t(R,"length",{__proto__:null,value:P.length}),t(E.Readable.prototype,C,{__proto__:null,value:R,enumerable:!1,configurable:!0,writable:!0})}E.Writable=vR(),E.Duplex=su(),E.Transform=b$(),E.PassThrough=S$(),E.pipeline=p;const{addAbortSignal:v}=fw();return E.addAbortSignal=v,E.finished=y,E.destroy=g,E.compose=l,E.setDefaultHighWaterMark=f,E.getDefaultHighWaterMark=d,t(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return b}}),t(p,i,{__proto__:null,enumerable:!0,get(){return b.pipeline}}),t(y,i,{__proto__:null,enumerable:!0,get(){return b.finished}}),E.Stream=E,E._isUint8Array=function(P){return P instanceof Uint8Array},E._uint8ArrayToBuffer=function(P){return e.from(P.buffer,P.byteOffset,P.byteLength)},P1.exports}var I3;function Rte(){return I3||(I3=1,(function(e){const t=C$(),n=E$(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports})(R1)),R1.exports}var pw=Rte();const X1=Symbol("iter");function xp(e,t,n=4){if(n===0)return Object.assign(e,t);for(const r in t)e[r]=xp(e[r]||Object.create(null),t[r],n-1);return e}function T$(e,t,n=4){let r=!1;for(const i in e)if(i in t){const o=n===0?null:T$(e[i],t[i],n-1);if(o!==!1)r=r||Object.create(null),r[i]=o;else if(n===3)return!1}return r}function A$(e,t,n=4){let r=!1;for(const i in e)if(!(i in t))r=r||Object.create(null),r[i]=n===0?null:xp({},e[i],n-1);else if(n!==0){const o=A$(e[i],t[i],n-1);if(o!==!1)r=r||Object.create(null),r[i]=o;else if(n===3)return!1}return r}class Pte{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||pl}_termFromId(t){if(t[0]==="."){const n=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return pp(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let o;return n&&r&&i&&(UT(t.graph)||(o=this._termToNumericId(t.graph)))&&this._ids[o?`.${n}.${r}.${i}.${o}`:`.${n}.${r}.${i}`]}return this._ids[Yf(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${UT(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Yf(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class Zr{constructor(t,n){this._size=0,this._graphs=Object.create(null),!n&&t&&!t[0]&&typeof t.match!="function"&&(n=t,t=null),n=n||{},this._factory=n.factory||pl,this._entityIndex=n.entityIndex||new Pte({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addAll(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const o in n)for(const a in r=n[o].subjects)for(const s in i=r[a])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const o=t[n]||(t[n]={}),a=o[r]||(o[r]={}),s=i in a;return s||(a[i]=null),!s}_removeFromIndex(t,n,r,i){const o=t[n],a=o[r];delete a[i];for(const s in a)return;delete o[r];for(const s in o)return;delete t[n]}*_findInIndex(t,n,r,i,o,a,s,l){let f,d,p;const g=this._entities,y=this._termFromId(g[l]),b={subject:null,predicate:null,object:null};n&&((f=t,t={})[n]=f[n]);for(const x in t)if(d=t[x]){b[o]=this._termFromId(g[x]),r&&((f=d,d={})[r]=f[r]);for(const E in d)if(p=d[E]){b[a]=this._termFromId(g[E]);const v=i?i in p?[i]:[]:Object.keys(p);for(let w=0;w<v.length;w++)b[s]=this._termFromId(g[v[w]]),yield this._factory.quad(b.subject,b.predicate,b.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,o;if(i=t[n])for(o in i)r(o)}_loopByKey1(t,n,r){let i,o;for(i in t)o=t[i],o[n]&&r(i)}_loopBy2Keys(t,n,r,i){let o,a,s;if((o=t[n])&&(a=o[r]))for(s in a)i(s)}_countInIndex(t,n,r,i){let o=0,a,s,l;n&&((a=t,t={})[n]=a[n]);for(const f in t)if(s=t[f]){r&&((a=s,s={})[r]=a[r]);for(const d in s)(l=s[d])&&(i?i in l&&o++:o+=Object.keys(l).length)}return o}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let o=this._graphs[i];return o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(o.subjects,t,n,r)?(this._addToIndex(o.predicates,n,r,t),this._addToIndex(o.objects,r,t,n),this._size=null,!0):!1}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||({subject:t,predicate:n,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const o=this._graphs;let a,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(a=o[i])||!(s=a.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(a.subjects,t,n,r),this._removeFromIndex(a.predicates,n,r,t),this._removeFromIndex(a.objects,r,t,n),this._size!==null&&this._size--;for(t in a.subjects)return!0;return delete o[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const o=new pw.Readable({objectMode:!0}),a=this.readQuads(t,n,r,i);return o._read=s=>{for(;--s>=0;){const{done:l,value:f}=a.next();if(l){o.push(null);return}o.push(f)}},this.remove(o)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){const o=this._getGraphs(i);let a,s,l,f;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(f=this._termToNumericId(r))))for(const d in o)(a=o[d])&&(s?f?yield*this._findInIndex(a.objects,f,s,l,"object","subject","predicate",d):yield*this._findInIndex(a.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(a.predicates,l,f,null,"predicate","object","subject",d):f?yield*this._findInIndex(a.objects,f,null,null,"object","subject","predicate",d):yield*this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new rl(this,t,n,r,i,{entityIndex:this._entityIndex})}countQuads(t,n,r,i){const o=this._getGraphs(i);let a=0,s,l,f,d;if(t&&!(l=this._termToNumericId(t))||n&&!(f=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const p in o)(s=o[p])&&(t?r?a+=this._countInIndex(s.objects,d,l,f):a+=this._countInIndex(s.subjects,l,f,d):n?a+=this._countInIndex(s.predicates,f,d,l):a+=this._countInIndex(s.objects,d,l,f));return a}forEach(t,n,r,i,o){this.some(a=>(t(a,this),!1),n,r,i,o)}every(t,n,r,i,o){return!this.some(a=>!t(a,this),n,r,i,o)}some(t,n,r,i,o){for(const a of this.readQuads(n,r,i,o))if(t(a,this))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(o=>{i.push(o)},t,n,r),i}forSubjects(t,n,r,i){const o=this._getGraphs(i);let a,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in o)(a=o[i])&&(s?l?this._loopBy2Keys(a.predicates,s,l,t):this._loopByKey1(a.subjects,s,t):l?this._loopByKey0(a.objects,l,t):this._loop(a.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(o=>{i.push(o)},t,n,r),i}forPredicates(t,n,r,i){const o=this._getGraphs(i);let a,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in o)(a=o[i])&&(s?l?this._loopBy2Keys(a.objects,l,s,t):this._loopByKey0(a.subjects,s,t):l?this._loopByKey1(a.predicates,l,t):this._loop(a.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(o=>{i.push(o)},t,n,r),i}forObjects(t,n,r,i){const o=this._getGraphs(i);let a,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in o)(a=o[i])&&(s?l?this._loopBy2Keys(a.subjects,s,l,t):this._loopByKey1(a.objects,s,t):l?this._loopByKey0(a.predicates,l,t):this._loop(a.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(o=>{i.push(o)},t,n,r),i}forGraphs(t,n,r,i){for(const o in this._graphs)this.some(a=>(t(a.graph),!0),n,r,i,this._termFromId(this._entities[o]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?(()=>!0):((s,l)=>{throw new Error(`${s.value} ${l}`)}),o=this.getQuads(null,Ni.rdf.rest,Ni.rdf.nil,null),a=t?[...o]:[];return o.forEach(s=>{const l=[];let f=!1,d,p;const g=s.graph;let y=s.subject;for(;y&&!f;){const b=this.getQuads(null,null,y,null),x=this.getQuads(y,null,null,null);let E,v=null,w=null,C=null;for(let P=0;P<x.length&&!f;P++)E=x[P],E.graph.equals(g)?d?f=i(y,"has non-list arcs out"):E.predicate.value===Ni.rdf.first?v?f=i(y,"has multiple rdf:first arcs"):a.push(v=E):E.predicate.value===Ni.rdf.rest?w?f=i(y,"has multiple rdf:rest arcs"):a.push(w=E):b.length?f=i(y,"can't be subject and object"):(d=E,p="subject"):f=i(y,"not confined to single graph");for(let P=0;P<b.length&&!f;++P)E=b[P],d?f=i(y,"can't have coreferences"):E.predicate.value===Ni.rdf.rest?C?f=i(y,"has incoming rdf:rest arcs"):C=E:(d=E,p="object");v?l.unshift(v.object):f=i(y,"has no list head"),y=C&&C.subject}f?t=!1:d&&(r[d[p].value]=l)}),t&&this.removeQuads(a),r}addAll(t){if(t instanceof rl&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Zr&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=xp(this._graphs,t._graphs),this._size=null);else for(const n of t)this.add(n);return this}contains(t){if(t instanceof rl&&(t=t.filtered),t===this)return!0;if(!(t instanceof Zr)||this._entityIndex!==t._entityIndex)return t.every(f=>this.has(f));const n=this._graphs,r=t._graphs;let i,o,a,s,l;for(const f in r){if(!(i=n[f]))return!1;i=i.subjects;for(const d in o=r[f].subjects){if(!(a=i[d]))return!1;for(const p in s=o[d]){if(!(l=a[p]))return!1;for(const g in s[p])if(!(g in l))return!1}}}return!0}deleteMatches(t,n,r,i){for(const o of this.match(t,n,r,i))this.removeQuad(o);return this}difference(t){if(t&&t instanceof rl&&(t=t.filtered),t===this)return new Zr({entityIndex:this._entityIndex});if(t instanceof Zr&&t._entityIndex===this._entityIndex){const n=new Zr({entityIndex:this._entityIndex}),r=A$(this._graphs,t._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!t.has(n))}equals(t){return t instanceof rl&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const n=new Zr({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&n.add(r);return n}intersection(t){if(t instanceof rl&&(t=t.filtered),t===this){const n=new Zr({entityIndex:this._entityIndex});return n._graphs=xp(Object.create(null),this._graphs),n._size=this._size,n}else if(t instanceof Zr&&this._entityIndex===t._entityIndex){const n=new Zr({entityIndex:this._entityIndex}),r=T$(t._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>t.has(n))}map(t){const n=new Zr({entityIndex:this._entityIndex});for(const r of this)n.add(t(r,this));return n}reduce(t,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const o of r)i=t(i,o,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new cw().quadsToString(this)}union(t){const n=new Zr({entityIndex:this._entityIndex});return n._graphs=xp(Object.create(null),this._graphs),n._size=this._size,n.addAll(t),n}*[Symbol.iterator](){yield*this.readQuads()}}function ds(e,t,n=0){const r=t[n];if(r&&!(r in e))return!1;let i=!1;for(const o in r?{[r]:e[r]}:e){const a=n===2?null:ds(e[o],t,n+1);a!==!1&&(i=i||Object.create(null),i[o]=a)}return i}class rl extends pw.Readable{constructor(t,n,r,i,o,a){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:o,options:a})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:o}=this,a=this._filtered=new Zr({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,f;if(o&&!(s=a._termToNumericId(o))||i&&!(l=a._termToNumericId(i))||r&&!(f=a._termToNumericId(r)))return a;const d=t._getGraphs(n);for(const p in d){let g,y,b,x;(x=d[p])&&(!s&&l?(y=ds(x.predicates,[l,f,s]))&&(g=ds(x.subjects,[s,l,f]),b=ds(x.objects,[f,s,l])):f?(b=ds(x.objects,[f,s,l]))&&(g=ds(x.subjects,[s,l,f]),y=ds(x.predicates,[l,f,s])):(g=ds(x.subjects,[s,l,f]))&&(y=ds(x.predicates,[l,f,s]),b=ds(x.objects,[f,s,l])),g&&(a._graphs[p]={subjects:g,predicates:y,objects:b}))}a._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[X1]&&(this[X1]=this[Symbol.iterator]());const n=this[X1];for(;--t>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,n,r,i){return this.filtered.deleteMatches(t,n,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,n,r,i,o){return this.filtered.every(t,n,r,i,o)}filter(t){return this.filtered.filter(t)}forEach(t,n,r,i,o){return this.filtered.forEach(t,n,r,i,o)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,n,r,i,o){return this.filtered.some(t,n,r,i,o)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,n){return this.filtered.reduce(t,n)}toString(){return new cw().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new rl(this.filtered,t,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}var Ote="http://www.w3.org/ns/auth/acl#Access",Mte="http://www.w3.org/ns/auth/acl#Append",Lte="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",Ite="http://www.w3.org/ns/auth/acl#Authorization",kte="http://www.w3.org/ns/auth/acl#Control",Dte="http://www.w3.org/ns/auth/acl#Origin",Nte="http://www.w3.org/ns/auth/acl#Read",Fte="http://www.w3.org/ns/auth/acl#Write",jte="http://www.w3.org/ns/auth/acl#accessControl",Ute="http://www.w3.org/ns/auth/acl#accessTo",Bte="http://www.w3.org/ns/auth/acl#accessToClass",$te="http://www.w3.org/ns/auth/acl#agent",zte="http://www.w3.org/ns/auth/acl#agentClass",qte="http://www.w3.org/ns/auth/acl#agentGroup",Hte="http://www.w3.org/ns/auth/acl#default",Vte="http://www.w3.org/ns/auth/acl#defaultForNew",Kte="http://www.w3.org/ns/auth/acl#delegates",Gte="http://www.w3.org/ns/auth/acl#mode",Wte="http://www.w3.org/ns/auth/acl#origin",Zte="http://www.w3.org/ns/auth/acl#owner",Qte=Object.freeze({Access:Ote,Append:Mte,AuthenticatedAgent:Lte,Authorization:Ite,Control:kte,Origin:Dte,Read:Nte,Write:Fte,accessControl:jte,accessTo:Ute,accessToClass:Bte,agent:$te,agentClass:zte,agentGroup:qte,default__workaround:Hte,defaultForNew:Vte,delegates:Kte,mode:Gte,origin:Wte,owner:Zte}),Jte="https://www.w3.org/ns/activitystreams#actor",Yte="https://www.w3.org/ns/activitystreams#attributedTo",Xte="https://www.w3.org/ns/activitystreams#attachment",ene="https://www.w3.org/ns/activitystreams#attachments",tne="https://www.w3.org/ns/activitystreams#author",nne="https://www.w3.org/ns/activitystreams#bcc",rne="https://www.w3.org/ns/activitystreams#bto",ine="https://www.w3.org/ns/activitystreams#cc",one="https://www.w3.org/ns/activitystreams#context",ane="https://www.w3.org/ns/activitystreams#current",sne="https://www.w3.org/ns/activitystreams#first",une="https://www.w3.org/ns/activitystreams#generator",lne="https://www.w3.org/ns/activitystreams#icon",cne="https://www.w3.org/ns/activitystreams#image",fne="https://www.w3.org/ns/activitystreams#inReplyTo",dne="https://www.w3.org/ns/activitystreams#items",hne="https://www.w3.org/ns/activitystreams#last",pne="https://www.w3.org/ns/activitystreams#location",mne="https://www.w3.org/ns/activitystreams#next",gne="https://www.w3.org/ns/activitystreams#object",yne="https://www.w3.org/ns/activitystreams#oneOf",vne="https://www.w3.org/ns/activitystreams#anyOf",_ne="https://www.w3.org/ns/activitystreams#prev",wne="https://www.w3.org/ns/activitystreams#preview",bne="https://www.w3.org/ns/activitystreams#provider",Sne="https://www.w3.org/ns/activitystreams#replies",xne="https://www.w3.org/ns/activitystreams#result",Ene="https://www.w3.org/ns/activitystreams#audience",Cne="https://www.w3.org/ns/activitystreams#partOf",Tne="https://www.w3.org/ns/activitystreams#tag",Ane="https://www.w3.org/ns/activitystreams#tags",Rne="https://www.w3.org/ns/activitystreams#target",Pne="https://www.w3.org/ns/activitystreams#origin",One="https://www.w3.org/ns/activitystreams#instrument",Mne="https://www.w3.org/ns/activitystreams#to",Lne="https://www.w3.org/ns/activitystreams#url",Ine="https://www.w3.org/ns/activitystreams#subject",kne="https://www.w3.org/ns/activitystreams#relationship",Dne="https://www.w3.org/ns/activitystreams#describes",Nne="https://www.w3.org/ns/activitystreams#formerType",Fne="https://www.w3.org/ns/activitystreams#accuracy",jne="https://www.w3.org/ns/activitystreams#altitude",Une="https://www.w3.org/ns/activitystreams#content",Bne="https://www.w3.org/ns/activitystreams#name",$ne="https://www.w3.org/ns/activitystreams#downstreamDuplicates",zne="https://www.w3.org/ns/activitystreams#duration",qne="https://www.w3.org/ns/activitystreams#endTime",Hne="https://www.w3.org/ns/activitystreams#height",Vne="https://www.w3.org/ns/activitystreams#href",Kne="https://www.w3.org/ns/activitystreams#hreflang",Gne="https://www.w3.org/ns/activitystreams#id",Wne="https://www.w3.org/ns/activitystreams#latitude",Zne="https://www.w3.org/ns/activitystreams#longitude",Qne="https://www.w3.org/ns/activitystreams#mediaType",Jne="https://www.w3.org/ns/activitystreams#objectType",Yne="https://www.w3.org/ns/activitystreams#published",Xne="https://www.w3.org/ns/activitystreams#radius",ere="https://www.w3.org/ns/activitystreams#rating",tre="https://www.w3.org/ns/activitystreams#rel",nre="https://www.w3.org/ns/activitystreams#startIndex",rre="https://www.w3.org/ns/activitystreams#startTime",ire="https://www.w3.org/ns/activitystreams#summary",ore="https://www.w3.org/ns/activitystreams#totalItems",are="https://www.w3.org/ns/activitystreams#units",sre="https://www.w3.org/ns/activitystreams#updated",ure="https://www.w3.org/ns/activitystreams#upstreamDuplicates",lre="https://www.w3.org/ns/activitystreams#verb",cre="https://www.w3.org/ns/activitystreams#width",fre="https://www.w3.org/ns/activitystreams#deleted",dre="https://www.w3.org/ns/activitystreams#Accept",hre="https://www.w3.org/ns/activitystreams#Activity",pre="https://www.w3.org/ns/activitystreams#Block",mre="https://www.w3.org/ns/activitystreams#IntransitiveActivity",gre="https://www.w3.org/ns/activitystreams#Add",yre="https://www.w3.org/ns/activitystreams#Announce",vre="https://www.w3.org/ns/activitystreams#Application",_re="https://www.w3.org/ns/activitystreams#Arrive",wre="https://www.w3.org/ns/activitystreams#Article",bre="https://www.w3.org/ns/activitystreams#Audio",Sre="https://www.w3.org/ns/activitystreams#Collection",xre="https://www.w3.org/ns/activitystreams#CollectionPage",Ere="https://www.w3.org/ns/activitystreams#OrderedCollectionPage",Cre="https://www.w3.org/ns/activitystreams#Relationship",Tre="https://www.w3.org/ns/activitystreams#Create",Are="https://www.w3.org/ns/activitystreams#Delete",Rre="https://www.w3.org/ns/activitystreams#Dislike",Pre="https://www.w3.org/ns/activitystreams#Document",Ore="https://www.w3.org/ns/activitystreams#Event",Mre="https://www.w3.org/ns/activitystreams#Flag",Lre="https://www.w3.org/ns/activitystreams#Follow",Ire="https://www.w3.org/ns/activitystreams#Group",kre="https://www.w3.org/ns/activitystreams#Ignore",Dre="https://www.w3.org/ns/activitystreams#Image",Nre="https://www.w3.org/ns/activitystreams#Invite",Fre="https://www.w3.org/ns/activitystreams#Join",jre="https://www.w3.org/ns/activitystreams#Leave",Ure="https://www.w3.org/ns/activitystreams#Like",Bre="https://www.w3.org/ns/activitystreams#View",$re="https://www.w3.org/ns/activitystreams#Listen",zre="https://www.w3.org/ns/activitystreams#Read",qre="https://www.w3.org/ns/activitystreams#Move",Hre="https://www.w3.org/ns/activitystreams#Travel",Vre="https://www.w3.org/ns/activitystreams#Link",Kre="https://www.w3.org/ns/activitystreams#Mention",Gre="https://www.w3.org/ns/activitystreams#Note",Wre="https://www.w3.org/ns/activitystreams#Object",Zre="https://www.w3.org/ns/activitystreams#Offer",Qre="https://www.w3.org/ns/activitystreams#OrderedCollection",Jre="https://www.w3.org/ns/activitystreams#OrderedItems",Yre="https://www.w3.org/ns/activitystreams#Page",Xre="https://www.w3.org/ns/activitystreams#Person",eie="https://www.w3.org/ns/activitystreams#Organization",tie="https://www.w3.org/ns/activitystreams#Profile",nie="https://www.w3.org/ns/activitystreams#Place",rie="https://www.w3.org/ns/activitystreams#Question",iie="https://www.w3.org/ns/activitystreams#Reject",oie="https://www.w3.org/ns/activitystreams#Remove",aie="https://www.w3.org/ns/activitystreams#Service",sie="https://www.w3.org/ns/activitystreams#TentativeAccept",uie="https://www.w3.org/ns/activitystreams#TentativeReject",lie="https://www.w3.org/ns/activitystreams#Tombstone",cie="https://www.w3.org/ns/activitystreams#Undo",fie="https://www.w3.org/ns/activitystreams#Update",die="https://www.w3.org/ns/activitystreams#Video",hie=Object.freeze({actor:Jte,attributedTo:Yte,attachment:Xte,attachments:ene,author:tne,bcc:nne,bto:rne,cc:ine,context:one,current:ane,first:sne,generator:une,icon:lne,image:cne,inReplyTo:fne,items:dne,last:hne,location:pne,next:mne,object:gne,oneOf:yne,anyOf:vne,prev:_ne,preview:wne,provider:bne,replies:Sne,result:xne,audience:Ene,partOf:Cne,tag:Tne,tags:Ane,target:Rne,origin:Pne,instrument:One,to:Mne,url:Lne,subject:Ine,relationship:kne,describes:Dne,formerType:Nne,accuracy:Fne,altitude:jne,content:Une,name:Bne,downstreamDuplicates:$ne,duration:zne,endTime:qne,height:Hne,href:Vne,hreflang:Kne,id:Gne,latitude:Wne,longitude:Zne,mediaType:Qne,objectType:Jne,published:Yne,radius:Xne,rating:ere,rel:tre,startIndex:nre,startTime:rre,summary:ire,totalItems:ore,units:are,updated:sre,upstreamDuplicates:ure,verb:lre,width:cre,deleted:fre,Accept:dre,Activity:hre,Block:pre,IntransitiveActivity:mre,Add:gre,Announce:yre,Application:vre,Arrive:_re,Article:wre,Audio:bre,Collection:Sre,CollectionPage:xre,OrderedCollectionPage:Ere,Relationship:Cre,Create:Tre,Delete:Are,Dislike:Rre,Document:Pre,Event:Ore,Flag:Mre,Follow:Lre,Group:Ire,Ignore:kre,Image:Dre,Invite:Nre,Join:Fre,Leave:jre,Like:Ure,View:Bre,Listen:$re,Read:zre,Move:qre,Travel:Hre,Link:Vre,Mention:Kre,Note:Gre,Object__workaround:Wre,Offer:Zre,OrderedCollection:Qre,OrderedItems:Jre,Page:Yre,Person:Xre,Organization:eie,Profile:tie,Place:nie,Question:rie,Reject:iie,Remove:oie,Service:aie,TentativeAccept:sie,TentativeReject:uie,Tombstone:lie,Undo:cie,Update:fie,Video:die}),pie="http://purl.org/dc/terms/Agent",mie="http://purl.org/dc/terms/AgentClass",gie="http://purl.org/dc/terms/BibliographicResource",yie="http://purl.org/dc/terms/Box",vie="http://purl.org/dc/terms/FileFormat",_ie="http://purl.org/dc/terms/Frequency",wie="http://purl.org/dc/terms/ISO3166",bie="http://purl.org/dc/terms/Jurisdiction",Sie="http://purl.org/dc/terms/LicenseDocument",xie="http://purl.org/dc/terms/LinguisticSystem",Eie="http://purl.org/dc/terms/Location",Cie="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",Tie="http://purl.org/dc/terms/MediaType",Aie="http://purl.org/dc/terms/MediaTypeOrExtent",Rie="http://purl.org/dc/terms/MethodOfAccrual",Pie="http://purl.org/dc/terms/MethodOfInstruction",Oie="http://purl.org/dc/terms/Period",Mie="http://purl.org/dc/terms/PeriodOfTime",Lie="http://purl.org/dc/terms/PhysicalMedium",Iie="http://purl.org/dc/terms/PhysicalResource",kie="http://purl.org/dc/terms/Point",Die="http://purl.org/dc/terms/Policy",Nie="http://purl.org/dc/terms/ProvenanceStatement",Fie="http://purl.org/dc/terms/RFC1766",jie="http://purl.org/dc/terms/RFC3066",Uie="http://purl.org/dc/terms/RFC4646",Bie="http://purl.org/dc/terms/RFC5646",$ie="http://purl.org/dc/terms/RightsStatement",zie="http://purl.org/dc/terms/SizeOrDuration",qie="http://purl.org/dc/terms/Standard",Hie="http://purl.org/dc/terms/URI",Vie="http://purl.org/dc/terms/W3CDTF",Kie="http://purl.org/dc/terms/abstract",Gie="http://purl.org/dc/terms/accessRights",Wie="http://purl.org/dc/terms/accrualMethod",Zie="http://purl.org/dc/terms/accrualPeriodicity",Qie="http://purl.org/dc/terms/accrualPolicy",Jie="http://purl.org/dc/terms/alternative",Yie="http://purl.org/dc/terms/audience",Xie="http://purl.org/dc/terms/available",eoe="http://purl.org/dc/terms/bibliographicCitation",toe="http://purl.org/dc/terms/conformsTo",noe="http://purl.org/dc/terms/contributor",roe="http://purl.org/dc/terms/coverage",ioe="http://purl.org/dc/terms/created",ooe="http://purl.org/dc/terms/creator",aoe="http://purl.org/dc/terms/date",soe="http://purl.org/dc/terms/dateAccepted",uoe="http://purl.org/dc/terms/dateCopyrighted",loe="http://purl.org/dc/terms/dateSubmitted",coe="http://purl.org/dc/terms/description",foe="http://purl.org/dc/terms/educationLevel",doe="http://purl.org/dc/terms/extent",hoe="http://purl.org/dc/terms/format",poe="http://purl.org/dc/terms/hasFormat",moe="http://purl.org/dc/terms/hasPart",goe="http://purl.org/dc/terms/hasVersion",yoe="http://purl.org/dc/terms/identifier",voe="http://purl.org/dc/terms/instructionalMethod",_oe="http://purl.org/dc/terms/isFormatOf",woe="http://purl.org/dc/terms/isPartOf",boe="http://purl.org/dc/terms/isReferencedBy",Soe="http://purl.org/dc/terms/isReplacedBy",xoe="http://purl.org/dc/terms/isRequiredBy",Eoe="http://purl.org/dc/terms/isVersionOf",Coe="http://purl.org/dc/terms/issued",Toe="http://purl.org/dc/terms/language",Aoe="http://purl.org/dc/terms/license",Roe="http://purl.org/dc/terms/mediator",Poe="http://purl.org/dc/terms/medium",Ooe="http://purl.org/dc/terms/modified",Moe="http://purl.org/dc/terms/provenance",Loe="http://purl.org/dc/terms/publisher",Ioe="http://purl.org/dc/terms/references",koe="http://purl.org/dc/terms/relation",Doe="http://purl.org/dc/terms/replaces",Noe="http://purl.org/dc/terms/requires",Foe="http://purl.org/dc/terms/rights",joe="http://purl.org/dc/terms/rightsHolder",Uoe="http://purl.org/dc/terms/source",Boe="http://purl.org/dc/terms/spatial",$oe="http://purl.org/dc/terms/subject",zoe="http://purl.org/dc/terms/tableOfContents",qoe="http://purl.org/dc/terms/temporal",Hoe="http://purl.org/dc/terms/title",Voe="http://purl.org/dc/terms/type",Koe="http://purl.org/dc/terms/valid",Goe=Object.freeze({Agent:pie,AgentClass:mie,BibliographicResource:gie,Box:yie,FileFormat:vie,Frequency:_ie,ISO3166:wie,Jurisdiction:bie,LicenseDocument:Sie,LinguisticSystem:xie,Location:Eie,LocationPeriodOrJurisdiction:Cie,MediaType:Tie,MediaTypeOrExtent:Aie,MethodOfAccrual:Rie,MethodOfInstruction:Pie,Period:Oie,PeriodOfTime:Mie,PhysicalMedium:Lie,PhysicalResource:Iie,Point:kie,Policy:Die,ProvenanceStatement:Nie,RFC1766:Fie,RFC3066:jie,RFC4646:Uie,RFC5646:Bie,RightsStatement:$ie,SizeOrDuration:zie,Standard:qie,URI:Hie,W3CDTF:Vie,abstract:Kie,accessRights:Gie,accrualMethod:Wie,accrualPeriodicity:Zie,accrualPolicy:Qie,alternative:Jie,audience:Yie,available:Xie,bibliographicCitation:eoe,conformsTo:toe,contributor:noe,coverage:roe,created:ioe,creator:ooe,date:aoe,dateAccepted:soe,dateCopyrighted:uoe,dateSubmitted:loe,description:coe,educationLevel:foe,extent:doe,format:hoe,hasFormat:poe,hasPart:moe,hasVersion:goe,identifier:yoe,instructionalMethod:voe,isFormatOf:_oe,isPartOf:woe,isReferencedBy:boe,isReplacedBy:Soe,isRequiredBy:xoe,isVersionOf:Eoe,issued:Coe,language:Toe,license:Aoe,mediator:Roe,medium:Poe,modified:Ooe,provenance:Moe,publisher:Loe,references:Ioe,relation:koe,replaces:Doe,requires:Noe,rights:Foe,rightsHolder:joe,source:Uoe,spatial:Boe,subject:$oe,tableOfContents:zoe,temporal:qoe,title:Hoe,type:Voe,valid:Koe}),Woe="http://xmlns.com/foaf/0.1/Agent",Zoe="http://xmlns.com/foaf/0.1/Document",Qoe="http://xmlns.com/foaf/0.1/Group",Joe="http://xmlns.com/foaf/0.1/Image",Yoe="http://xmlns.com/foaf/0.1/LabelProperty",Xoe="http://xmlns.com/foaf/0.1/OnlineAccount",eae="http://xmlns.com/foaf/0.1/OnlineChatAccount",tae="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",nae="http://xmlns.com/foaf/0.1/OnlineGamingAccount",rae="http://xmlns.com/foaf/0.1/Organization",iae="http://xmlns.com/foaf/0.1/Person",oae="http://xmlns.com/foaf/0.1/PersonalProfileDocument",aae="http://xmlns.com/foaf/0.1/Project",sae="http://xmlns.com/foaf/0.1/account",uae="http://xmlns.com/foaf/0.1/accountName",lae="http://xmlns.com/foaf/0.1/accountServiceHomepage",cae="http://xmlns.com/foaf/0.1/age",fae="http://xmlns.com/foaf/0.1/aimChatID",dae="http://xmlns.com/foaf/0.1/based_near",hae="http://xmlns.com/foaf/0.1/birthday",pae="http://xmlns.com/foaf/0.1/currentProject",mae="http://xmlns.com/foaf/0.1/depiction",gae="http://xmlns.com/foaf/0.1/depicts",yae="http://xmlns.com/foaf/0.1/dnaChecksum",vae="http://xmlns.com/foaf/0.1/familyName",_ae="http://xmlns.com/foaf/0.1/family_name",wae="http://xmlns.com/foaf/0.1/firstName",bae="http://xmlns.com/foaf/0.1/focus",Sae="http://xmlns.com/foaf/0.1/fundedBy",xae="http://xmlns.com/foaf/0.1/geekcode",Eae="http://xmlns.com/foaf/0.1/gender",Cae="http://xmlns.com/foaf/0.1/givenName",Tae="http://xmlns.com/foaf/0.1/givenname",Aae="http://xmlns.com/foaf/0.1/holdsAccount",Rae="http://xmlns.com/foaf/0.1/homepage",Pae="http://xmlns.com/foaf/0.1/icqChatID",Oae="http://xmlns.com/foaf/0.1/img",Mae="http://xmlns.com/foaf/0.1/interest",Lae="http://xmlns.com/foaf/0.1/isPrimaryTopicOf",Iae="http://xmlns.com/foaf/0.1/jabberID",kae="http://xmlns.com/foaf/0.1/knows",Dae="http://xmlns.com/foaf/0.1/lastName",Nae="http://xmlns.com/foaf/0.1/logo",Fae="http://xmlns.com/foaf/0.1/made",jae="http://xmlns.com/foaf/0.1/maker",Uae="http://xmlns.com/foaf/0.1/mbox",Bae="http://xmlns.com/foaf/0.1/mbox_sha1sum",$ae="http://xmlns.com/foaf/0.1/member",zae="http://xmlns.com/foaf/0.1/membershipClass",qae="http://xmlns.com/foaf/0.1/msnChatID",Hae="http://xmlns.com/foaf/0.1/myersBriggs",Vae="http://xmlns.com/foaf/0.1/name",Kae="http://xmlns.com/foaf/0.1/nick",Gae="http://xmlns.com/foaf/0.1/openid",Wae="http://xmlns.com/foaf/0.1/page",Zae="http://xmlns.com/foaf/0.1/pastProject",Qae="http://xmlns.com/foaf/0.1/phone",Jae="http://xmlns.com/foaf/0.1/plan",Yae="http://xmlns.com/foaf/0.1/primaryTopic",Xae="http://xmlns.com/foaf/0.1/publications",ese="http://xmlns.com/foaf/0.1/schoolHomepage",tse="http://xmlns.com/foaf/0.1/sha1",nse="http://xmlns.com/foaf/0.1/skypeID",rse="http://xmlns.com/foaf/0.1/status",ise="http://xmlns.com/foaf/0.1/surname",ose="http://xmlns.com/foaf/0.1/theme",ase="http://xmlns.com/foaf/0.1/thumbnail",sse="http://xmlns.com/foaf/0.1/tipjar",use="http://xmlns.com/foaf/0.1/title",lse="http://xmlns.com/foaf/0.1/topic",cse="http://xmlns.com/foaf/0.1/topic_interest",fse="http://xmlns.com/foaf/0.1/weblog",dse="http://xmlns.com/foaf/0.1/workInfoHomepage",hse="http://xmlns.com/foaf/0.1/workplaceHomepage",pse="http://xmlns.com/foaf/0.1/yahooChatID",mse=Object.freeze({Agent:Woe,Document:Zoe,Group:Qoe,Image:Joe,LabelProperty:Yoe,OnlineAccount:Xoe,OnlineChatAccount:eae,OnlineEcommerceAccount:tae,OnlineGamingAccount:nae,Organization:rae,Person:iae,PersonalProfileDocument:oae,Project:aae,account:sae,accountName:uae,accountServiceHomepage:lae,age:cae,aimChatID:fae,based_near:dae,birthday:hae,currentProject:pae,depiction:mae,depicts:gae,dnaChecksum:yae,familyName:vae,family_name:_ae,firstName:wae,focus:bae,fundedBy:Sae,geekcode:xae,gender:Eae,givenName:Cae,givenname:Tae,holdsAccount:Aae,homepage:Rae,icqChatID:Pae,img:Oae,interest:Mae,isPrimaryTopicOf:Lae,jabberID:Iae,knows:kae,lastName:Dae,logo:Nae,made:Fae,maker:jae,mbox:Uae,mbox_sha1sum:Bae,member:$ae,membershipClass:zae,msnChatID:qae,myersBriggs:Hae,name:Vae,nick:Kae,openid:Gae,page:Wae,pastProject:Zae,phone:Qae,plan:Jae,primaryTopic:Yae,publications:Xae,schoolHomepage:ese,sha1:tse,skypeID:nse,status:rse,surname:ise,theme:ose,thumbnail:ase,tipjar:sse,title:use,topic:lse,topic_interest:cse,weblog:fse,workInfoHomepage:dse,workplaceHomepage:hse,yahooChatID:pse}),gse="http://www.w3.org/ns/ldp#Resource",yse="http://www.w3.org/ns/ldp#RDFSource",vse="http://www.w3.org/ns/ldp#NonRDFSource",_se="http://www.w3.org/ns/ldp#Container",wse="http://www.w3.org/ns/ldp#BasicContainer",bse="http://www.w3.org/ns/ldp#DirectContainer",Sse="http://www.w3.org/ns/ldp#IndirectContainer",xse="http://www.w3.org/ns/ldp#hasMemberRelation",Ese="http://www.w3.org/ns/ldp#isMemberOfRelation",Cse="http://www.w3.org/ns/ldp#membershipResource",Tse="http://www.w3.org/ns/ldp#insertedContentRelation",Ase="http://www.w3.org/ns/ldp#member",Rse="http://www.w3.org/ns/ldp#contains",Pse="http://www.w3.org/ns/ldp#constrainedBy",Ose="http://www.w3.org/ns/ldp#pageSortCriteria",Mse="http://www.w3.org/ns/ldp#PageSortCriterion",Lse="http://www.w3.org/ns/ldp#pageSortPredicate",Ise="http://www.w3.org/ns/ldp#pageSortOrder",kse="http://www.w3.org/ns/ldp#pageSortCollation",Dse="http://www.w3.org/ns/ldp#Page",Nse="http://www.w3.org/ns/ldp#pageSequence",Fse="http://www.w3.org/ns/ldp#inbox",jse=Object.freeze({Resource:gse,RDFSource:yse,NonRDFSource:vse,Container:_se,BasicContainer:wse,DirectContainer:bse,IndirectContainer:Sse,hasMemberRelation:xse,isMemberOfRelation:Ese,membershipResource:Cse,insertedContentRelation:Tse,member:Ase,contains:Rse,constrainedBy:Pse,pageSortCriteria:Ose,PageSortCriterion:Mse,pageSortPredicate:Lse,pageSortOrder:Ise,pageSortCollation:kse,Page:Dse,pageSequence:Nse,inbox:Fse}),Use="http://www.w3.org/ns/pim/meeting#Meeting",Bse="http://www.w3.org/ns/pim/meeting#VideoCallPage",$se="http://www.w3.org/ns/pim/meeting#actionItems",zse="http://www.w3.org/ns/pim/meeting#agenda",qse="http://www.w3.org/ns/pim/meeting#attendeeGroup",Hse="http://www.w3.org/ns/pim/meeting#chat",Vse="http://www.w3.org/ns/pim/meeting#nextMeeting",Kse="http://www.w3.org/ns/pim/meeting#previousMeeting",Gse="http://www.w3.org/ns/pim/meeting#sharedNotes",Wse="http://www.w3.org/ns/pim/meeting#toolList",Zse="http://www.w3.org/ns/pim/meeting#trip",Qse="http://www.w3.org/ns/pim/meeting#videoCallPage",Jse=Object.freeze({Meeting:Use,VideoCallPage:Bse,actionItems:$se,agenda:zse,attendeeGroup:qse,chat:Hse,nextMeeting:Vse,previousMeeting:Kse,sharedNotes:Gse,toolList:Wse,trip:Zse,videoCallPage:Qse}),Yse="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",Xse="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",eue="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",tue="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",nue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",rue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",iue="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",oue="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",aue="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",sue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",uue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",lue="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",cue="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",fue="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",due="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",hue="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",pue="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",mue="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",gue="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",yue="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",vue="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",_ue=Object.freeze({HTML:Yse,langString:Xse,PlainLiteral:eue,type:tue,Property:nue,Statement:rue,subject:iue,predicate:oue,object:aue,Bag:sue,Seq:uue,Alt:lue,value:cue,List:fue,first:due,rest:hue,XMLLiteral:pue,JSON__workaround:mue,CompoundLiteral:gue,language:yue,direction:vue}),wue="http://www.w3.org/2000/01/rdf-schema#Resource",bue="http://www.w3.org/2000/01/rdf-schema#Class",Sue="http://www.w3.org/2000/01/rdf-schema#subClassOf",xue="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",Eue="http://www.w3.org/2000/01/rdf-schema#comment",Cue="http://www.w3.org/2000/01/rdf-schema#label",Tue="http://www.w3.org/2000/01/rdf-schema#domain",Aue="http://www.w3.org/2000/01/rdf-schema#range",Rue="http://www.w3.org/2000/01/rdf-schema#seeAlso",Pue="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",Oue="http://www.w3.org/2000/01/rdf-schema#Literal",Mue="http://www.w3.org/2000/01/rdf-schema#Container",Lue="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",Iue="http://www.w3.org/2000/01/rdf-schema#member",kue="http://www.w3.org/2000/01/rdf-schema#Datatype",Due=Object.freeze({Resource:wue,Class:bue,subClassOf:Sue,subPropertyOf:xue,comment:Eue,label:Cue,domain:Tue,range:Aue,seeAlso:Rue,isDefinedBy:Pue,Literal:Oue,Container:Mue,ContainerMembershipProperty:Lue,member:Iue,Datatype:kue}),Nue="http://rdfs.org/sioc/ns#Community",Fue="http://rdfs.org/sioc/ns#Container",jue="http://rdfs.org/sioc/ns#Forum",Uue="http://rdfs.org/sioc/ns#Item",Bue="http://rdfs.org/sioc/ns#Post",$ue="http://rdfs.org/sioc/ns#Role",zue="http://rdfs.org/sioc/ns#Space",que="http://rdfs.org/sioc/ns#Site",Hue="http://rdfs.org/sioc/ns#Thread",Vue="http://rdfs.org/sioc/ns#UserAccount",Kue="http://rdfs.org/sioc/ns#Usergroup",Gue="http://rdfs.org/sioc/ns#about",Wue="http://rdfs.org/sioc/ns#account_of",Zue="http://rdfs.org/sioc/ns#addressed_to",Que="http://rdfs.org/sioc/ns#administrator_of",Jue="http://rdfs.org/sioc/ns#attachment",Yue="http://rdfs.org/sioc/ns#avatar",Xue="http://rdfs.org/sioc/ns#container_of",ele="http://rdfs.org/sioc/ns#content",tle="http://rdfs.org/sioc/ns#creator_of",nle="http://rdfs.org/sioc/ns#delivered_at",rle="http://rdfs.org/sioc/ns#discussion_of",ile="http://rdfs.org/sioc/ns#earlier_version",ole="http://rdfs.org/sioc/ns#email",ale="http://rdfs.org/sioc/ns#email_sha1",sle="http://rdfs.org/sioc/ns#embeds_knowledge",ule="http://rdfs.org/sioc/ns#feed",lle="http://rdfs.org/sioc/ns#follows",cle="http://rdfs.org/sioc/ns#function_of",fle="http://rdfs.org/sioc/ns#generator",dle="http://rdfs.org/sioc/ns#has_administrator",hle="http://rdfs.org/sioc/ns#has_container",ple="http://rdfs.org/sioc/ns#has_creator",mle="http://rdfs.org/sioc/ns#has_discussion",gle="http://rdfs.org/sioc/ns#has_function",yle="http://rdfs.org/sioc/ns#has_host",vle="http://rdfs.org/sioc/ns#has_member",_le="http://rdfs.org/sioc/ns#has_moderator",wle="http://rdfs.org/sioc/ns#has_modifier",ble="http://rdfs.org/sioc/ns#has_owner",Sle="http://rdfs.org/sioc/ns#has_parent",xle="http://rdfs.org/sioc/ns#has_reply",Ele="http://rdfs.org/sioc/ns#has_scope",Cle="http://rdfs.org/sioc/ns#has_space",Tle="http://rdfs.org/sioc/ns#has_subscriber",Ale="http://rdfs.org/sioc/ns#has_usergroup",Rle="http://rdfs.org/sioc/ns#host_of",Ple="http://rdfs.org/sioc/ns#id",Ole="http://rdfs.org/sioc/ns#ip_address",Mle="http://rdfs.org/sioc/ns#last_activity_date",Lle="http://rdfs.org/sioc/ns#last_item_date",Ile="http://rdfs.org/sioc/ns#last_reply_date",kle="http://rdfs.org/sioc/ns#later_version",Dle="http://rdfs.org/sioc/ns#latest_version",Nle="http://rdfs.org/sioc/ns#likes",Fle="http://rdfs.org/sioc/ns#link",jle="http://rdfs.org/sioc/ns#links_to",Ule="http://rdfs.org/sioc/ns#member_of",Ble="http://rdfs.org/sioc/ns#mentions",$le="http://rdfs.org/sioc/ns#moderator_of",zle="http://rdfs.org/sioc/ns#modifier_of",qle="http://rdfs.org/sioc/ns#name",Hle="http://rdfs.org/sioc/ns#next_by_date",Vle="http://rdfs.org/sioc/ns#next_version",Kle="http://rdfs.org/sioc/ns#note",Gle="http://rdfs.org/sioc/ns#num_authors",Wle="http://rdfs.org/sioc/ns#num_items",Zle="http://rdfs.org/sioc/ns#num_replies",Qle="http://rdfs.org/sioc/ns#num_threads",Jle="http://rdfs.org/sioc/ns#num_views",Yle="http://rdfs.org/sioc/ns#owner_of",Xle="http://rdfs.org/sioc/ns#parent_of",ece="http://rdfs.org/sioc/ns#previous_by_date",tce="http://rdfs.org/sioc/ns#previous_version",nce="http://rdfs.org/sioc/ns#read_at",rce="http://rdfs.org/sioc/ns#related_to",ice="http://rdfs.org/sioc/ns#reply_of",oce="http://rdfs.org/sioc/ns#respond_to",ace="http://rdfs.org/sioc/ns#scope_of",sce="http://rdfs.org/sioc/ns#shared_by",uce="http://rdfs.org/sioc/ns#sibling",lce="http://rdfs.org/sioc/ns#space_of",cce="http://rdfs.org/sioc/ns#subscriber_of",fce="http://rdfs.org/sioc/ns#topic",dce="http://rdfs.org/sioc/ns#usergroup_of",hce="http://rdfs.org/sioc/ns#title",pce="http://rdfs.org/sioc/ns#content_encoded",mce="http://rdfs.org/sioc/ns#created_at",gce="http://rdfs.org/sioc/ns#description",yce="http://rdfs.org/sioc/ns#first_name",vce="http://rdfs.org/sioc/ns#group_of",_ce="http://rdfs.org/sioc/ns#has_group",wce="http://rdfs.org/sioc/ns#has_part",bce="http://rdfs.org/sioc/ns#last_name",Sce="http://rdfs.org/sioc/ns#modified_at",xce="http://rdfs.org/sioc/ns#part_of",Ece="http://rdfs.org/sioc/ns#reference",Cce="http://rdfs.org/sioc/ns#subject",Tce=Object.freeze({Community:Nue,Container:Fue,Forum:jue,Item:Uue,Post:Bue,Role:$ue,Space:zue,Site:que,Thread:Hue,UserAccount:Vue,Usergroup:Kue,about:Gue,account_of:Wue,addressed_to:Zue,administrator_of:Que,attachment:Jue,avatar:Yue,container_of:Xue,content:ele,creator_of:tle,delivered_at:nle,discussion_of:rle,earlier_version:ile,email:ole,email_sha1:ale,embeds_knowledge:sle,feed:ule,follows:lle,function_of:cle,generator:fle,has_administrator:dle,has_container:hle,has_creator:ple,has_discussion:mle,has_function:gle,has_host:yle,has_member:vle,has_moderator:_le,has_modifier:wle,has_owner:ble,has_parent:Sle,has_reply:xle,has_scope:Ele,has_space:Cle,has_subscriber:Tle,has_usergroup:Ale,host_of:Rle,id:Ple,ip_address:Ole,last_activity_date:Mle,last_item_date:Lle,last_reply_date:Ile,later_version:kle,latest_version:Dle,likes:Nle,link:Fle,links_to:jle,member_of:Ule,mentions:Ble,moderator_of:$le,modifier_of:zle,name:qle,next_by_date:Hle,next_version:Vle,note:Kle,num_authors:Gle,num_items:Wle,num_replies:Zle,num_threads:Qle,num_views:Jle,owner_of:Yle,parent_of:Xle,previous_by_date:ece,previous_version:tce,read_at:nce,related_to:rce,reply_of:ice,respond_to:oce,scope_of:ace,shared_by:sce,sibling:uce,space_of:lce,subscriber_of:cce,topic:fce,usergroup_of:dce,title:hce,content_encoded:pce,created_at:mce,description:gce,first_name:yce,group_of:vce,has_group:_ce,has_part:wce,last_name:bce,modified_at:Sce,part_of:xce,reference:Ece,subject:Cce}),Ace="http://www.w3.org/ns/solid/terms#Account",Rce="http://www.w3.org/ns/solid/terms#Inbox",Pce="http://www.w3.org/ns/solid/terms#InsertDeletePatch",Oce="http://www.w3.org/ns/solid/terms#ListedDocument",Mce="http://www.w3.org/ns/solid/terms#Notification",Lce="http://www.w3.org/ns/solid/terms#Patch",Ice="http://www.w3.org/ns/solid/terms#Timeline",kce="http://www.w3.org/ns/solid/terms#TypeIndex",Dce="http://www.w3.org/ns/solid/terms#TypeRegistration",Nce="http://www.w3.org/ns/solid/terms#UnlistedDocument",Fce="http://www.w3.org/ns/solid/terms#account",jce="http://www.w3.org/ns/solid/terms#deletes",Uce="http://www.w3.org/ns/solid/terms#forClass",Bce="http://www.w3.org/ns/solid/terms#inbox",$ce="http://www.w3.org/ns/solid/terms#inserts",zce="http://www.w3.org/ns/solid/terms#instance",qce="http://www.w3.org/ns/solid/terms#instanceContainer",Hce="http://www.w3.org/ns/solid/terms#loginEndpoint",Vce="http://www.w3.org/ns/solid/terms#logoutEndpoint",Kce="http://www.w3.org/ns/solid/terms#notification",Gce="http://www.w3.org/ns/solid/terms#oidcIssuer",Wce="http://www.w3.org/ns/solid/terms#owner",Zce="http://www.w3.org/ns/solid/terms#patches",Qce="http://www.w3.org/ns/solid/terms#privateTypeIndex",Jce="http://www.w3.org/ns/solid/terms#publicTypeIndex",Yce="http://www.w3.org/ns/solid/terms#privateLabelIndex",Xce="http://www.w3.org/ns/solid/terms#read",efe="http://www.w3.org/ns/solid/terms#storageDescription",tfe="http://www.w3.org/ns/solid/terms#storageQuota",nfe="http://www.w3.org/ns/solid/terms#storageUsage",rfe="http://www.w3.org/ns/solid/terms#typeIndex",ife="http://www.w3.org/ns/solid/terms#timeline",ofe="http://www.w3.org/ns/solid/terms#where",afe=Object.freeze({Account:Ace,Inbox:Rce,InsertDeletePatch:Pce,ListedDocument:Oce,Notification:Mce,Patch:Lce,Timeline:Ice,TypeIndex:kce,TypeRegistration:Dce,UnlistedDocument:Nce,account:Fce,deletes:jce,forClass:Uce,inbox:Bce,inserts:$ce,instance:zce,instanceContainer:qce,loginEndpoint:Hce,logoutEndpoint:Vce,notification:Kce,oidcIssuer:Gce,owner:Wce,patches:Zce,privateTypeIndex:Qce,publicTypeIndex:Jce,privateLabelIndex:Yce,read:Xce,storageDescription:efe,storageQuota:tfe,storageUsage:nfe,typeIndex:rfe,timeline:ife,where:ofe}),sfe="http://www.w3.org/ns/pim/space#ControlledStorage",ufe="http://www.w3.org/ns/pim/space#PersonalStorage",lfe="http://www.w3.org/ns/pim/space#PublicStorage",cfe="http://www.w3.org/ns/pim/space#Storage",ffe="http://www.w3.org/ns/pim/space#Workspace",dfe="http://www.w3.org/ns/pim/space#masterWorkspace",hfe="http://www.w3.org/ns/pim/space#preferencesFile",pfe="http://www.w3.org/ns/pim/space#storage",mfe="http://www.w3.org/ns/pim/space#uriPrefix",gfe="http://www.w3.org/ns/pim/space#workspace",yfe=Object.freeze({ControlledStorage:sfe,PersonalStorage:ufe,PublicStorage:lfe,Storage:cfe,Workspace:ffe,masterWorkspace:dfe,preferencesFile:hfe,storage:pfe,uriPrefix:mfe,workspace:gfe}),vfe="http://www.w3.org/2006/vcard/ns#Acquaintance",_fe="http://www.w3.org/2006/vcard/ns#Address",wfe="http://www.w3.org/2006/vcard/ns#Agent",bfe="http://www.w3.org/2006/vcard/ns#BBS",Sfe="http://www.w3.org/2006/vcard/ns#Car",xfe="http://www.w3.org/2006/vcard/ns#Cell",Efe="http://www.w3.org/2006/vcard/ns#Child",Cfe="http://www.w3.org/2006/vcard/ns#Colleague",Tfe="http://www.w3.org/2006/vcard/ns#Contact",Afe="http://www.w3.org/2006/vcard/ns#Coresident",Rfe="http://www.w3.org/2006/vcard/ns#Coworker",Pfe="http://www.w3.org/2006/vcard/ns#Crush",Ofe="http://www.w3.org/2006/vcard/ns#Date",Mfe="http://www.w3.org/2006/vcard/ns#Dom",Lfe="http://www.w3.org/2006/vcard/ns#Email",Ife="http://www.w3.org/2006/vcard/ns#Emergency",kfe="http://www.w3.org/2006/vcard/ns#Fax",Dfe="http://www.w3.org/2006/vcard/ns#Female",Nfe="http://www.w3.org/2006/vcard/ns#Friend",Ffe="http://www.w3.org/2006/vcard/ns#Gender",jfe="http://www.w3.org/2006/vcard/ns#Group",Ufe="http://www.w3.org/2006/vcard/ns#Home",Bfe="http://www.w3.org/2006/vcard/ns#ISDN",$fe="http://www.w3.org/2006/vcard/ns#Individual",zfe="http://www.w3.org/2006/vcard/ns#Internet",qfe="http://www.w3.org/2006/vcard/ns#Intl",Hfe="http://www.w3.org/2006/vcard/ns#Kin",Vfe="http://www.w3.org/2006/vcard/ns#Kind",Kfe="http://www.w3.org/2006/vcard/ns#Label",Gfe="http://www.w3.org/2006/vcard/ns#Location",Wfe="http://www.w3.org/2006/vcard/ns#Male",Zfe="http://www.w3.org/2006/vcard/ns#Me",Qfe="http://www.w3.org/2006/vcard/ns#Met",Jfe="http://www.w3.org/2006/vcard/ns#Modem",Yfe="http://www.w3.org/2006/vcard/ns#Msg",Xfe="http://www.w3.org/2006/vcard/ns#Muse",ede="http://www.w3.org/2006/vcard/ns#Name",tde="http://www.w3.org/2006/vcard/ns#Neighbor",nde="http://www.w3.org/2006/vcard/ns#None",rde="http://www.w3.org/2006/vcard/ns#Organization",ide="http://www.w3.org/2006/vcard/ns#Other",ode="http://www.w3.org/2006/vcard/ns#PCS",ade="http://www.w3.org/2006/vcard/ns#Pager",sde="http://www.w3.org/2006/vcard/ns#Parcel",ude="http://www.w3.org/2006/vcard/ns#Parent",lde="http://www.w3.org/2006/vcard/ns#Postal",cde="http://www.w3.org/2006/vcard/ns#Pref",fde="http://www.w3.org/2006/vcard/ns#RelatedType",dde="http://www.w3.org/2006/vcard/ns#Sibling",hde="http://www.w3.org/2006/vcard/ns#Spouse",pde="http://www.w3.org/2006/vcard/ns#Sweetheart",mde="http://www.w3.org/2006/vcard/ns#Tel",gde="http://www.w3.org/2006/vcard/ns#TelephoneType",yde="http://www.w3.org/2006/vcard/ns#Text",vde="http://www.w3.org/2006/vcard/ns#TextPhone",_de="http://www.w3.org/2006/vcard/ns#Type",wde="http://www.w3.org/2006/vcard/ns#Unknown",bde="http://www.w3.org/2006/vcard/ns#VCard",Sde="http://www.w3.org/2006/vcard/ns#Video",xde="http://www.w3.org/2006/vcard/ns#Voice",Ede="http://www.w3.org/2006/vcard/ns#Work",Cde="http://www.w3.org/2006/vcard/ns#X400",Tde="http://www.w3.org/2006/vcard/ns#adr",Ade="http://www.w3.org/2006/vcard/ns#agent",Rde="http://www.w3.org/2006/vcard/ns#anniversary",Pde="http://www.w3.org/2006/vcard/ns#bday",Ode="http://www.w3.org/2006/vcard/ns#category",Mde="http://www.w3.org/2006/vcard/ns#class",Lde="http://www.w3.org/2006/vcard/ns#email",Ide="http://www.w3.org/2006/vcard/ns#fn",kde="http://www.w3.org/2006/vcard/ns#geo",Dde="http://www.w3.org/2006/vcard/ns#hasAdditionalName",Nde="http://www.w3.org/2006/vcard/ns#hasAddress",Fde="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",jde="http://www.w3.org/2006/vcard/ns#hasCalendarLink",Ude="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Bde="http://www.w3.org/2006/vcard/ns#hasCategory",$de="http://www.w3.org/2006/vcard/ns#hasCountryName",zde="http://www.w3.org/2006/vcard/ns#hasEmail",qde="http://www.w3.org/2006/vcard/ns#hasFN",Hde="http://www.w3.org/2006/vcard/ns#hasFamilyName",Vde="http://www.w3.org/2006/vcard/ns#hasGender",Kde="http://www.w3.org/2006/vcard/ns#hasGeo",Gde="http://www.w3.org/2006/vcard/ns#hasGivenName",Wde="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",Zde="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",Qde="http://www.w3.org/2006/vcard/ns#hasInstantMessage",Jde="http://www.w3.org/2006/vcard/ns#hasKey",Yde="http://www.w3.org/2006/vcard/ns#hasLanguage",Xde="http://www.w3.org/2006/vcard/ns#hasLocality",ehe="http://www.w3.org/2006/vcard/ns#hasLogo",the="http://www.w3.org/2006/vcard/ns#hasMember",nhe="http://www.w3.org/2006/vcard/ns#hasName",rhe="http://www.w3.org/2006/vcard/ns#hasNickname",ihe="http://www.w3.org/2006/vcard/ns#hasNote",ohe="http://www.w3.org/2006/vcard/ns#hasOrganizationName",ahe="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",she="http://www.w3.org/2006/vcard/ns#hasPhoto",uhe="http://www.w3.org/2006/vcard/ns#hasPostalCode",lhe="http://www.w3.org/2006/vcard/ns#hasRegion",che="http://www.w3.org/2006/vcard/ns#hasRelated",fhe="http://www.w3.org/2006/vcard/ns#hasRole",dhe="http://www.w3.org/2006/vcard/ns#hasSound",hhe="http://www.w3.org/2006/vcard/ns#hasSource",phe="http://www.w3.org/2006/vcard/ns#hasStreetAddress",mhe="http://www.w3.org/2006/vcard/ns#hasTelephone",ghe="http://www.w3.org/2006/vcard/ns#hasTitle",yhe="http://www.w3.org/2006/vcard/ns#hasUID",vhe="http://www.w3.org/2006/vcard/ns#hasURL",_he="http://www.w3.org/2006/vcard/ns#hasValue",whe="http://www.w3.org/2006/vcard/ns#key",bhe="http://www.w3.org/2006/vcard/ns#label",She="http://www.w3.org/2006/vcard/ns#language",xhe="http://www.w3.org/2006/vcard/ns#latitude",Ehe="http://www.w3.org/2006/vcard/ns#locality",Che="http://www.w3.org/2006/vcard/ns#logo",The="http://www.w3.org/2006/vcard/ns#longitude",Ahe="http://www.w3.org/2006/vcard/ns#mailer",Rhe="http://www.w3.org/2006/vcard/ns#n",Phe="http://www.w3.org/2006/vcard/ns#nickname",Ohe="http://www.w3.org/2006/vcard/ns#note",Mhe="http://www.w3.org/2006/vcard/ns#org",Lhe="http://www.w3.org/2006/vcard/ns#photo",Ihe="http://www.w3.org/2006/vcard/ns#prodid",khe="http://www.w3.org/2006/vcard/ns#region",Dhe="http://www.w3.org/2006/vcard/ns#rev",Nhe="http://www.w3.org/2006/vcard/ns#role",Fhe="http://www.w3.org/2006/vcard/ns#sound",jhe="http://www.w3.org/2006/vcard/ns#tel",Uhe="http://www.w3.org/2006/vcard/ns#title",Bhe="http://www.w3.org/2006/vcard/ns#tz",$he="http://www.w3.org/2006/vcard/ns#url",zhe="http://www.w3.org/2006/vcard/ns#value",qhe=Object.freeze({Acquaintance:vfe,Address:_fe,Agent:wfe,BBS:bfe,Car:Sfe,Cell:xfe,Child:Efe,Colleague:Cfe,Contact:Tfe,Coresident:Afe,Coworker:Rfe,Crush:Pfe,Date__workaround:Ofe,Dom:Mfe,Email:Lfe,Emergency:Ife,Fax:kfe,Female:Dfe,Friend:Nfe,Gender:Ffe,Group:jfe,Home:Ufe,ISDN:Bfe,Individual:$fe,Internet:zfe,Intl__workaround:qfe,Kin:Hfe,Kind:Vfe,Label:Kfe,Location:Gfe,Male:Wfe,Me:Zfe,Met:Qfe,Modem:Jfe,Msg:Yfe,Muse:Xfe,Name:ede,Neighbor:tde,None:nde,Organization:rde,Other:ide,PCS:ode,Pager:ade,Parcel:sde,Parent:ude,Postal:lde,Pref:cde,RelatedType:fde,Sibling:dde,Spouse:hde,Sweetheart:pde,Tel:mde,TelephoneType:gde,Text:yde,TextPhone:vde,Type:_de,Unknown:wde,VCard:bde,Video:Sde,Voice:xde,Work:Ede,X400:Cde,adr:Tde,agent:Ade,anniversary:Rde,bday:Pde,category:Ode,class__workaround:Mde,email:Lde,fn:Ide,geo:kde,hasAdditionalName:Dde,hasAddress:Nde,hasCalendarBusy:Fde,hasCalendarLink:jde,hasCalendarRequest:Ude,hasCategory:Bde,hasCountryName:$de,hasEmail:zde,hasFN:qde,hasFamilyName:Hde,hasGender:Vde,hasGeo:Kde,hasGivenName:Gde,hasHonorificPrefix:Wde,hasHonorificSuffix:Zde,hasInstantMessage:Qde,hasKey:Jde,hasLanguage:Yde,hasLocality:Xde,hasLogo:ehe,hasMember:the,hasName:nhe,hasNickname:rhe,hasNote:ihe,hasOrganizationName:ohe,hasOrganizationUnit:ahe,hasPhoto:she,hasPostalCode:uhe,hasRegion:lhe,hasRelated:che,hasRole:fhe,hasSound:dhe,hasSource:hhe,hasStreetAddress:phe,hasTelephone:mhe,hasTitle:ghe,hasUID:yhe,hasURL:vhe,hasValue:_he,key:whe,label:bhe,language:She,latitude:xhe,locality:Ehe,logo:Che,longitude:The,mailer:Ahe,n:Rhe,nickname:Phe,note:Ohe,org:Mhe,photo:Lhe,prodid:Ihe,region:khe,rev:Dhe,role:Nhe,sound:Fhe,tel:jhe,title:Uhe,tz:Bhe,url:$he,value:zhe}),Hhe="http://www.w3.org/2005/01/wf/flow#ActionItem",Vhe="http://www.w3.org/2005/01/wf/flow#Change",Khe="http://www.w3.org/2005/01/wf/flow#Closed",Ghe="http://www.w3.org/2005/01/wf/flow#Creation",Whe="http://www.w3.org/2005/01/wf/flow#Message",Zhe="http://www.w3.org/2005/01/wf/flow#NonTerminalState",Qhe="http://www.w3.org/2005/01/wf/flow#Open",Jhe="http://www.w3.org/2005/01/wf/flow#Product",Yhe="http://www.w3.org/2005/01/wf/flow#Task",Xhe="http://www.w3.org/2005/01/wf/flow#TerminalState",epe="http://www.w3.org/2005/01/wf/flow#Tracker",tpe="http://www.w3.org/2005/01/wf/flow#Transition",npe="http://www.w3.org/2005/01/wf/flow#affects",rpe="http://www.w3.org/2005/01/wf/flow#allowedTransitions",ipe="http://www.w3.org/2005/01/wf/flow#asigneeClass",ope="http://www.w3.org/2005/01/wf/flow#assignee",ape="http://www.w3.org/2005/01/wf/flow#attachment",spe="http://www.w3.org/2005/01/wf/flow#creates",upe="http://www.w3.org/2005/01/wf/flow#dateDue",lpe="http://www.w3.org/2005/01/wf/flow#deliverable",cpe="http://www.w3.org/2005/01/wf/flow#dependent",fpe="http://www.w3.org/2005/01/wf/flow#description",dpe="http://www.w3.org/2005/01/wf/flow#final",hpe="http://www.w3.org/2005/01/wf/flow#goalDescription",ppe="http://www.w3.org/2005/01/wf/flow#initialState",mpe="http://www.w3.org/2005/01/wf/flow#issue",gpe="http://www.w3.org/2005/01/wf/flow#issueCategory",ype="http://www.w3.org/2005/01/wf/flow#issueClass",vpe="http://www.w3.org/2005/01/wf/flow#message",_pe="http://www.w3.org/2005/01/wf/flow#modifiedBy",wpe="http://www.w3.org/2005/01/wf/flow#recipent",bpe="http://www.w3.org/2005/01/wf/flow#requires",Spe="http://www.w3.org/2005/01/wf/flow#screenShot",xpe="http://www.w3.org/2005/01/wf/flow#sender",Epe="http://www.w3.org/2005/01/wf/flow#source",Cpe="http://www.w3.org/2005/01/wf/flow#stateStore",Tpe="http://www.w3.org/2005/01/wf/flow#subscriber",Ape="http://www.w3.org/2005/01/wf/flow#successCriteria",Rpe="http://www.w3.org/2005/01/wf/flow#task",Ppe="http://www.w3.org/2005/01/wf/flow#terminalOutput",Ope="http://www.w3.org/2005/01/wf/flow#testData",Mpe="http://www.w3.org/2005/01/wf/flow#tracker",Lpe="http://www.w3.org/2005/01/wf/flow#transactionStore",Ipe=Object.freeze({ActionItem:Hhe,Change:Vhe,Closed:Khe,Creation:Ghe,Message:Whe,NonTerminalState:Zhe,Open:Qhe,Product:Jhe,Task:Yhe,TerminalState:Xhe,Tracker:epe,Transition:tpe,affects:npe,allowedTransitions:rpe,asigneeClass:ipe,assignee:ope,attachment:ape,creates:spe,dateDue:upe,deliverable:lpe,dependent:cpe,description:fpe,final:dpe,goalDescription:hpe,initialState:ppe,issue:mpe,issueCategory:gpe,issueClass:ype,message:vpe,modifiedBy:_pe,recipent:wpe,requires:bpe,screenShot:Spe,sender:xpe,source:Epe,stateStore:Cpe,subscriber:Tpe,successCriteria:Ape,task:Rpe,terminalOutput:Ppe,testData:Ope,tracker:Mpe,transactionStore:Lpe}),hn=Qte,Xf=hie,R$=Goe,ml=mse,nu=jse,kpe=Jse,Od=_ue,wR=Due,pd=Tce,wn=afe,Uc=yfe,P$=qhe,Dpe=Ipe,Ko=(function(e){return e.Read="Read",e.Write="Write",e.Append="Append",e.Control="Control",e})({}),Vr=(function(e){return e.simpleMailerIntegration="simpleMailerIntegration",e.mailerIntegration="mailerIntegration",e.rdfDocument="rdfDocument",e.file="file",e.geoindex="geoindex",e.wikidataSearch="wikidataSearch",e.wikidataEntity="wikidataEntity",e})({});const Npe=async(e,t)=>{const n=await globalThis.fetch(e,{method:"GET"});return await Xn(n.url,t)},Fpe=async e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=i=>n(i)}),ii=e=>{const t=new URL(e);if(t.hash="",t.search="",t.pathname.length===0||t.pathname==="/")return t.toString();const n=t.pathname.split("/").slice(0,-1);return n.push(""),t.pathname=n.join("/"),t.toString()},O$=e=>{const t=ii(e);return t===e?M$(t):t},jpe=e=>Upe(e,O$),M$=e=>{const t=new URL(e);if(t.pathname.length===0||t.pathname==="/")return e;const n=t.pathname.split("/").slice(0,-2);return n.push(""),t.pathname=n.join("/"),t.toString()},uu=async(e,t)=>{try{return await Xn(e,t)}catch{return await Npe(e,t)}},xl=e=>{const t=new URL(e);return t.hash="",t.toString()},Upe=(e,t)=>{const n=new Set;let r=e;for(;!n.has(r);)n.add(r),r=t(r);return n.delete(e),Array.from(n)},Bc=async e=>{const n=(await Xn(e,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${e} does not have any Link headers`);const i=f$.parse(n).rel("acl")[0]?.uri;if(!i)throw new Error(`We could not find WAC link for ${e}`);return new URL(i,e).toString()},Bpe=[hn.Read,hn.Write,hn.Append,hn.Control];function $pe(e){return Bpe.includes(e)}const L$=(e,t)=>{const r=new wm({baseIRI:e}).parse(t),i=new Zr(r),o=i.getSubjects(Od.type,hn.Authorization,null),a={[hn.Read]:Ko.Read,[hn.Write]:Ko.Write,[hn.Append]:Ko.Append,[hn.Control]:Ko.Control};return o.map(s=>{const l=i.getObjects(s,hn.mode,null).map(y=>$pe(y.value)?a[y.value]:void 0).filter(y=>typeof y<"u"),f=i.getObjects(s,hn.agent,null).map(y=>y.value),d=i.getObjects(s,hn.agentClass,null).map(y=>y.value),p=i.getObjects(s,hn.agentGroup,null).map(y=>y.value),g=i.getObjects(s,hn.default__workaround,null).map(y=>y.value);return{url:s.value,modes:l,agents:f,agentClasses:d,agentGroups:p,defaults:g}})},zpe=(e,...t)=>{const n={};for(const r of t)for(const i of r)n[i[e]]=i;return Object.values(n)},qpe=e=>{const t={};return e&&e.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const o=i[1],a=i[2].split(/\s+/);t[o]=new Set(a)}}),t};function cl(e,t){t=ii(t);try{const n=new URL(e).href,r=new URL(t).href;return n.startsWith(r)?n.substring(r.length)||"./":e}catch{return e}}const I$=e=>(t,n)=>{const r=e.indexOf(t),i=e.indexOf(n);return r!==-1&&i!==-1?r-i:r!==-1?-1:i!==-1?1:0},bR=(e="")=>{const t=e&&xl(e),n=B.useMemo(()=>[Vr.file,t],[t]);return dm({queryKey:n,queryFn:()=>Hpe(t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},Hpe=async e=>{const t=await Xn(e);if(t.ok)return URL.createObjectURL(await t.blob());if(t.status===404)return"";throw new Error(`Fetching ${e} not successful`)},Vpe=async(e,t)=>{const r=(await Xn(e,{method:"POST",body:t})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},Kpe=async e=>{await Xn(e,{method:"DELETE"})},Gpe=()=>{const e=Ui();return ta({mutationFn:async({uri:n,data:r})=>await Vpe(n,r),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Vr.file,xl(r.uri)]})}})},Wpe=()=>{const e=Ui();return ta({mutationFn:async({uri:n})=>await Kpe(n),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Vr.file,xl(r.uri)]})}})};function k$(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=k$(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Fn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=k$(e))&&(r&&(r+=" "),r+=t);return r}var D$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},k3=St.createContext&&St.createContext(D$),Zpe=["attr","size","title"];function Qpe(e,t){if(e==null)return{};var n=Jpe(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v_.apply(this,arguments)}function D3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function __(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D3(Object(n),!0).forEach(function(r){Ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ype(e,t,n){return t=Xpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xpe(e){var t=eme(e,"string");return typeof t=="symbol"?t:t+""}function eme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N$(e){return e&&e.map((t,n)=>St.createElement(t.tag,__({key:n},t.attr),N$(t.child)))}function Bi(e){return t=>St.createElement(tme,v_({attr:__({},e.attr)},t),N$(e.child))}function tme(e){var t=n=>{var{attr:r,size:i,title:o}=e,a=Qpe(e,Zpe),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),St.createElement("svg",v_({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,a,{className:l,style:__(__({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&St.createElement("title",null,o),e.children)};return k3!==void 0?St.createElement(k3.Consumer,null,n=>t(n)):t(D$)}function nme(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Sm(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function rme(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(e)}function ime(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function F$(e){return Bi({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(e)}function N3(e){return Bi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function j$(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function ome(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function ame(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function sme(e){return Bi({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function ume(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function U$(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function lme(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function w_(e){return Bi({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function cme(e){return Bi({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function fme(e){return Bi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(e)}const dme="_photo_cmh6k_1",hme="_square_cmh6k_6",eS={photo:dme,square:hme},mw=({photo:e,size:t=1,square:n,className:r})=>{const{data:i}=bR(e);return i?U.jsx("img",{className:Fn(eS.photo,n&&eS.square,r),src:i,alt:"",style:{width:`${t*2}rem`,height:`${t*2}rem`}}):U.jsx(cme,{className:Fn(eS.photo,r),size:t*32})},pme="_button_14nfq_1",mme="_primary_14nfq_15",gme="_secondary_14nfq_24",yme="_tertiary_14nfq_32",vme="_danger_14nfq_37",no={button:pme,primary:mme,secondary:gme,tertiary:yme,danger:vme},Yn=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...o})=>U.jsx("button",{className:Fn(i,no.button,e&&no.primary,r&&no.danger,t&&no.secondary,n&&no.tertiary),...o}),bc=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...o})=>U.jsx(ga,{className:Fn(i,no.button,e&&no.primary,r&&no.danger,t&&no.secondary,n&&no.tertiary),...o}),B$=({icon:e=j$,...t})=>U.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:U.jsx(e,{})}),_me=({primary:e,secondary:t,tertiary:n,danger:r,className:i,children:o,...a})=>U.jsx("a",{className:Fn(i,no.button,e&&no.primary,r&&no.danger,t&&no.secondary,n&&no.tertiary),...a,children:o}),wme={...FQ,emailNotificationsService:QU,emailNotificationsIdentity:JU,communityId:WU,communityContainer:ZU,emailNotificationsType:YU,oidcIssuers:iB,geoindexService:XU,tileServer:rB,darkModeLogoStyle:eB,defaultCommunityName:tB},Mn=()=>{const e=Dr(RB);return B.useMemo(()=>({...wme,...e}),[e])},bme=()=>{const e=bl(),t=Mn();B.useEffect(()=>{window.updateAppConfig=n=>{e(RT.setConfig(n))},window.resetAppConfig=()=>{e(RT.resetConfig())}},[e]),B.useEffect(()=>{window.appConfig=t},[t])},Sme="_logoContainer_16cvy_1",xme="_logo_16cvy_1",Eme="_focusedLogo_16cvy_10",Cme="_unfocusedLogo_16cvy_13",Tme="_darkInvert_16cvy_20",tc={logoContainer:Sme,logo:xme,focusedLogo:Eme,unfocusedLogo:Cme,darkInvert:Tme},$$=({logo:e,focusedLogo:t,name:n,className:r})=>{const{darkModeLogoStyle:i}=Mn(),{i18n:o,_:a}=Fr();return!e&&!n?null:U.jsxs("div",{className:tc.logoContainer,children:[e&&U.jsx("img",{src:e,className:Fn(tc.logo,i==="invert"&&tc.darkInvert,t?tc.unfocusedLogo:null,r),alt:n?o._({id:"2ZJVX8",values:{name:n}}):""}),t&&U.jsx("img",{src:t,className:Fn(tc.logo,i&&tc.darkInvert,tc.focusedLogo,r),alt:n?o._({id:"LShGrM",values:{name:n}}):""}),n?U.jsx("span",{children:n}):null]})},Ame={switch:"_switch_1g69w_1"},Rme=()=>{const e=Dr(XA),t=bl(),{i18n:n,_:r}=Fr(),i=()=>{t(YA.toggleTheme())};return U.jsx("button",{className:Ame.switch,onClick:i,"aria-label":e==="dark"?n._({id:"e0IFR+"}):n._({id:"yNR1Vx"}),children:e==="dark"?U.jsx(lme,{}):U.jsx(ume,{})})},Pme={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Ome={type:{"@id":"@type"},Community:{"@id":"http://w3id.org/hospex/ns#Community","@context":{type:{"@id":"@type"},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0}}},Community2:{"@id":"http://rdfs.org/sioc/ns#Community","@context":{type:{"@id":"@type"},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0}}},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0},Group:{"@id":"http://www.w3.org/2006/vcard/ns#Group","@context":{type:{"@id":"@type"},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}}},Usergroup:{"@id":"http://rdfs.org/sioc/ns#Usergroup","@context":{type:{"@id":"@type"},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}}},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}},Mme={schema:Pme,shape:"https://example.com/HospexCommunity",context:Ome};function BT(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var SR=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{f(r.next(d))}catch(p){a(p)}}function l(d){try{f(r.throw(d))}catch(p){a(p)}}function f(d){d.done?o(d.value):i(d.value).then(s,l)}f((r=r.apply(e,t||[])).next())})};const Lme=e=>(t,n)=>SR(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(t,{method:"GET"});return yield e(r.url,n)}),Ime=e=>(t,n)=>SR(void 0,void 0,void 0,function*(){try{return yield e(t,n)}catch{return yield Lme(e)(t,n)}}),$T=e=>{const t=new URL(e);return t.hash="",t.toString()},kme=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],xR=(e,t)=>SR(void 0,void 0,void 0,function*(){var n;let r=[],i="",o=-1,a=!1,s;try{const l=$T(e);return s=yield Ime(t)(l,{headers:{accept:kme.join(",")}}),a=s.ok,o=s.status,i=yield s.text(),r=Dme(i,{baseIRI:l,format:(n=s.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:BT(i),ok:a,statusCode:o,response:s}}catch{return a=!1,{data:r,rawData:i,hash:BT(i),ok:a,statusCode:o,response:s}}}),Dme=(e,t)=>{const n=new wm(t),r=pl.namedNode(t.baseIRI);return n.parse(e).map(({subject:o,predicate:a,object:s})=>pl.quad(o,a,s,r))};var zT;(function(e){e.subject="subject",e.predicate="predicate",e.object="object",e.graph="graph"})(zT||(zT={}));Object.values(zT);const qv=e=>JSON.stringify(e.toJSON()),nc=["subject","predicate","object","graph"],z$={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let Qu=class extends vr{constructor(t){super(z$.variable+"/"+t),this.variable=t}static getVar(t){return t.value.split("/").pop()}};const vn=Object.fromEntries(Object.entries(z$).map(([e,t])=>[e,new vr(t)]));class Nme{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let t="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(o=>Array.from(o)).map(o=>o.value),i=Object.values(n.to).flatMap(o=>Array.from(o)).map(o=>o.value);t+=r.concat(" ")+" ==> "+i.concat(" ")}),t}}add(t){var n,r,i;this.list.add(t),Object.values(t.from).forEach(o=>{o.forEach(a=>{var s,l,f;(s=(l=this.provides)[f=a.value])!==null&&s!==void 0||(l[f]=new Set),this.provides[a.value].add(t)})}),Object.values(t.to).forEach(o=>{o.forEach(a=>{var s,l,f;(s=(l=this.providersOf)[f=a.value])!==null&&s!==void 0||(l[f]=new Set),this.providersOf[a.value].add(t)})}),t.quad&&((n=(r=this.byQuad)[i=qv(t.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[qv(t.quad)].add(t))}remove(t){this.list.delete(t),Object.values(t.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(t)})}),Object.values(t.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(t)})}),t.quad&&this.byQuad[qv(t.quad)].delete(t)}}class F3{constructor(t,n,r=new Zr){this.moves=new Nme,this.store=r,this.query=t,Object.entries(n).forEach(([i,o])=>{i=i.startsWith("?")?i.slice(1):i,o.forEach(a=>{const s=new vr(a);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(t,n){var r;if(this.store.removeQuad(new Ki(n,vn.variable,new Qu(t),vn.meta)),n.termType==="NamedNode"){const a=new vr($T(n.value));this.store.removeQuad(new Ki(n,vn.resource,a,vn.meta)),this.store.removeQuads(this.store.getQuads(a,vn.status,null,vn.meta)),this.removeResource(a.value)}const i=n.value,o=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(a=>{var s;return Array.from((s=a.from[t])!==null&&s!==void 0?s:[]).some(l=>l.equals(n))});for(const a of o){const s=a.to;this.moves.remove(a);for(const l in s)s[l].forEach(f=>{var d;Array.from((d=this.moves.providersOf[f.value])!==null&&d!==void 0?d:new Set).filter(g=>{var y;return Array.from((y=g.to[l])!==null&&y!==void 0?y:[]).some(b=>b.equals(f))}).length===0&&this.removeVariable(l,f)})}}addResource(t,n,r="success"){const i=new vr(t),o=this.store.getQuads(null,null,null,i),[a,s]=Fme(n,o);a.forEach(p=>this.addQuad(p)),s.forEach(p=>this.removeQuad(p));const l=new Ki(i,vn.status,vn.missing,vn.meta),f=new Ki(i,vn.status,vn.added,vn.meta),d=new Ki(i,vn.status,vn.failed,vn.meta);this.store.removeQuads([l,f,d]),r==="success"&&this.store.addQuad(f),r==="error"&&this.store.addQuad(d)}addQuad(t){this.store.addQuad(t);const n=Object.fromEntries(nc.map(o=>[o,this.store.getObjects(t[o],vn.variable,vn.meta)])),r=(o,a)=>{const s=o[a],l=t[a];return!!(!s||s.startsWith("?")&&n[a].some(f=>f.equals(new Qu(s.slice(1))))||s===l.value)},i=Object.entries(this.query).filter(o=>typeof o[1]!="function"&&o[1].type==="match").filter(([,o])=>nc.every(a=>r(o,a))).map(([o,a])=>[+o,a]);for(const[o,a]of i){const s={};for(const f of nc){const d=a[f];d?.startsWith("?")&&(s[d.slice(1)]=new Set([t[f]]))}const l={[a.target.slice(1)]:new Set([t[a.pick]])};this.moves.add({step:o,from:s,to:l,quad:t}),this.addVariable(a.target.slice(1),t[a.pick])}}removeResource(t){this.store.getQuads(null,null,null,new vr(t)).forEach(r=>this.removeQuad(r))}removeQuad(t){var n;this.store.removeQuad(t),((n=this.moves.byQuad[qv(t)])!==null&&n!==void 0?n:new Set).forEach(i=>{const o=i.to;this.moves.remove(i);for(const a in o)o[a].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(f=>{var d;return Array.from((d=f.to[a])!==null&&d!==void 0?d:[]).some(p=>p.equals(s))}).length===0&&this.removeVariable(a,s)})})}hopFromVariable(t,n){const r=`?${t}`;this.query.map((o,a)=>[o,a]).filter(([o])=>!!(typeof o=="function"||o.type==="match"&&nc.some(a=>o[a]===r)||o.type==="transform variable"&&o.source===r)).forEach(([o,a])=>{var s;if(typeof o=="function")o(this);else if(o.type==="transform variable"){const l=o.transform(n);l&&(this.moves.add({from:{[o.source.slice(1)]:new Set([n])},to:{[o.target.slice(1)]:new Set([l])},step:a}),this.addVariable(o.target.slice(1),l))}else if(o.type==="match"){const l=(d,p)=>{let g=new Set;const y=d[p];if(!y)g.add(null);else if(!y.startsWith("?"))g.add(new vr(y));else if(y.slice(1)===t)g.add(n);else{const b=this.store.getSubjects(vn.variable,new Qu(y.slice(1)),vn.meta);g=new Set(b)}return g},f=Object.fromEntries(nc.map(d=>[d,l(o,d)]));for(const d of f.subject)for(const p of f.predicate)for(const g of f.object)for(const y of f.graph){const b=this.store.getQuads(d,p,g,y);for(const x of b){const E=o.target.slice(1),v=x[o.pick],w={};for(const P of nc)!((s=o[P])===null||s===void 0)&&s.startsWith("?")&&(w[o[P].slice(1)]=new Set([x[P]]));const C={[E]:new Set([v])};this.moves.add({from:w,to:C,step:a,quad:x}),this.addVariable(E,v)}}}})}addVariable(t,n){if(this.store.has(new Ki(n,vn.variable,new Qu(t),vn.meta)))return;this.store.addQuads([new Ki(n,vn.variable,new Qu(t),vn.meta)]);let r;n.termType==="NamedNode"&&(r=new vr($T(n.value)),this.store.addQuads([new Ki(n,vn.resource,r,vn.meta)]));const i=`?${t}`,o=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),a=this.query.some(l=>typeof l!="function"&&l.type==="match"&&nc.some(f=>l[f]===i));r&&(o||a)&&this.store.match(r,vn.status,null,vn.meta).size===0&&this.store.addQuad(r,vn.status,vn.missing,vn.meta),this.hopFromVariable(t,n)}getVariable(t){return t.startsWith("?")&&(t=t.slice(1)),this.store.getSubjects(vn.variable,new Qu(t),vn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,vn.variable,null,vn.meta).reduce((t,n)=>{var r,i;return(r=t[i=Qu.getVar(n.object)])!==null&&r!==void 0||(t[i]=new Set),t[Qu.getVar(n.object)].add(n.subject.value),t},{})}getResources(t){if(!t)return this.store.getObjects(null,vn.resource,vn.meta).map(r=>r.value);const n=t==="missing"?vn.missing:t==="failed"?vn.failed:vn.added;return this.store.getSubjects(vn.status,n,vn.meta).map(r=>r.value)}}const Fme=(e,t)=>{if(t.length===0)return[e,[]];if(e.length===0)return[[],t];const n=e.filter(i=>!t.some(o=>i.equals(o))),r=t.filter(i=>!e.some(o=>i.equals(o)));return[n,r]};var tS,j3;function jme(){if(j3)return tS;j3=1;function e(){this.__data__=[],this.size=0}return tS=e,tS}var nS,U3;function xm(){if(U3)return nS;U3=1;function e(t,n){return t===n||t!==t&&n!==n}return nS=e,nS}var rS,B3;function gw(){if(B3)return rS;B3=1;var e=xm();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return rS=t,rS}var iS,$3;function Ume(){if($3)return iS;$3=1;var e=gw(),t=Array.prototype,n=t.splice;function r(i){var o=this.__data__,a=e(o,i);if(a<0)return!1;var s=o.length-1;return a==s?o.pop():n.call(o,a,1),--this.size,!0}return iS=r,iS}var oS,z3;function Bme(){if(z3)return oS;z3=1;var e=gw();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return oS=t,oS}var aS,q3;function $me(){if(q3)return aS;q3=1;var e=gw();function t(n){return e(this.__data__,n)>-1}return aS=t,aS}var sS,H3;function zme(){if(H3)return sS;H3=1;var e=gw();function t(n,r){var i=this.__data__,o=e(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return sS=t,sS}var uS,V3;function yw(){if(V3)return uS;V3=1;var e=jme(),t=Ume(),n=Bme(),r=$me(),i=zme();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var f=a[s];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,uS=o,uS}var lS,K3;function qme(){if(K3)return lS;K3=1;var e=yw();function t(){this.__data__=new e,this.size=0}return lS=t,lS}var cS,G3;function Hme(){if(G3)return cS;G3=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return cS=e,cS}var fS,W3;function Vme(){if(W3)return fS;W3=1;function e(t){return this.__data__.get(t)}return fS=e,fS}var dS,Z3;function Kme(){if(Z3)return dS;Z3=1;function e(t){return this.__data__.has(t)}return dS=e,dS}var hS,Q3;function q$(){if(Q3)return hS;Q3=1;var e=typeof Yg=="object"&&Yg&&Yg.Object===Object&&Yg;return hS=e,hS}var pS,J3;function Wa(){if(J3)return pS;J3=1;var e=q$(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return pS=n,pS}var mS,Y3;function Md(){if(Y3)return mS;Y3=1;var e=Wa(),t=e.Symbol;return mS=t,mS}var gS,X3;function Gme(){if(X3)return gS;X3=1;var e=Md(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var s=n.call(a,i),l=a[i];try{a[i]=void 0;var f=!0}catch{}var d=r.call(a);return f&&(s?a[i]=l:delete a[i]),d}return gS=o,gS}var yS,eD;function Wme(){if(eD)return yS;eD=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return yS=n,yS}var vS,tD;function Ld(){if(tD)return vS;tD=1;var e=Md(),t=Gme(),n=Wme(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(s){return s==null?s===void 0?i:r:o&&o in Object(s)?t(s):n(s)}return vS=a,vS}var _S,nD;function Ea(){if(nD)return _S;nD=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return _S=e,_S}var wS,rD;function ER(){if(rD)return wS;rD=1;var e=Ld(),t=Ea(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function a(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==o}return wS=a,wS}var bS,iD;function Zme(){if(iD)return bS;iD=1;var e=Wa(),t=e["__core-js_shared__"];return bS=t,bS}var SS,oD;function Qme(){if(oD)return SS;oD=1;var e=Zme(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return SS=n,SS}var xS,aD;function H$(){if(aD)return xS;aD=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return xS=n,xS}var ES,sD;function Jme(){if(sD)return ES;sD=1;var e=ER(),t=Qme(),n=Ea(),r=H$(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,a=Function.prototype,s=Object.prototype,l=a.toString,f=s.hasOwnProperty,d=RegExp("^"+l.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var y=e(g)?d:o;return y.test(r(g))}return ES=p,ES}var CS,uD;function Yme(){if(uD)return CS;uD=1;function e(t,n){return t?.[n]}return CS=e,CS}var TS,lD;function $c(){if(lD)return TS;lD=1;var e=Jme(),t=Yme();function n(r,i){var o=t(r,i);return e(o)?o:void 0}return TS=n,TS}var AS,cD;function CR(){if(cD)return AS;cD=1;var e=$c(),t=Wa(),n=e(t,"Map");return AS=n,AS}var RS,fD;function vw(){if(fD)return RS;fD=1;var e=$c(),t=e(Object,"create");return RS=t,RS}var PS,dD;function Xme(){if(dD)return PS;dD=1;var e=vw();function t(){this.__data__=e?e(null):{},this.size=0}return PS=t,PS}var OS,hD;function ege(){if(hD)return OS;hD=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return OS=e,OS}var MS,pD;function tge(){if(pD)return MS;pD=1;var e=vw(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var a=this.__data__;if(e){var s=a[o];return s===t?void 0:s}return r.call(a,o)?a[o]:void 0}return MS=i,MS}var LS,mD;function nge(){if(mD)return LS;mD=1;var e=vw(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var o=this.__data__;return e?o[i]!==void 0:n.call(o,i)}return LS=r,LS}var IS,gD;function rge(){if(gD)return IS;gD=1;var e=vw(),t="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=e&&i===void 0?t:i,this}return IS=n,IS}var kS,yD;function ige(){if(yD)return kS;yD=1;var e=Xme(),t=ege(),n=tge(),r=nge(),i=rge();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var f=a[s];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,kS=o,kS}var DS,vD;function oge(){if(vD)return DS;vD=1;var e=ige(),t=yw(),n=CR();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return DS=r,DS}var NS,_D;function age(){if(_D)return NS;_D=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return NS=e,NS}var FS,wD;function _w(){if(wD)return FS;wD=1;var e=age();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return FS=t,FS}var jS,bD;function sge(){if(bD)return jS;bD=1;var e=_w();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return jS=t,jS}var US,SD;function uge(){if(SD)return US;SD=1;var e=_w();function t(n){return e(this,n).get(n)}return US=t,US}var BS,xD;function lge(){if(xD)return BS;xD=1;var e=_w();function t(n){return e(this,n).has(n)}return BS=t,BS}var $S,ED;function cge(){if(ED)return $S;ED=1;var e=_w();function t(n,r){var i=e(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return $S=t,$S}var zS,CD;function TR(){if(CD)return zS;CD=1;var e=oge(),t=sge(),n=uge(),r=lge(),i=cge();function o(a){var s=-1,l=a==null?0:a.length;for(this.clear();++s<l;){var f=a[s];this.set(f[0],f[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,zS=o,zS}var qS,TD;function fge(){if(TD)return qS;TD=1;var e=yw(),t=CR(),n=TR(),r=200;function i(o,a){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([o,a]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(o,a),this.size=s.size,this}return qS=i,qS}var HS,AD;function ww(){if(AD)return HS;AD=1;var e=yw(),t=qme(),n=Hme(),r=Vme(),i=Kme(),o=fge();function a(s){var l=this.__data__=new e(s);this.size=l.size}return a.prototype.clear=t,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=o,HS=a,HS}var VS,RD;function dge(){if(RD)return VS;RD=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return VS=t,VS}var KS,PD;function hge(){if(PD)return KS;PD=1;function e(t){return this.__data__.has(t)}return KS=e,KS}var GS,OD;function pge(){if(OD)return GS;OD=1;var e=TR(),t=dge(),n=hge();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,GS=r,GS}var WS,MD;function mge(){if(MD)return WS;MD=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return WS=e,WS}var ZS,LD;function gge(){if(LD)return ZS;LD=1;function e(t,n){return t.has(n)}return ZS=e,ZS}var QS,ID;function V$(){if(ID)return QS;ID=1;var e=pge(),t=mge(),n=gge(),r=1,i=2;function o(a,s,l,f,d,p){var g=l&r,y=a.length,b=s.length;if(y!=b&&!(g&&b>y))return!1;var x=p.get(a),E=p.get(s);if(x&&E)return x==s&&E==a;var v=-1,w=!0,C=l&i?new e:void 0;for(p.set(a,s),p.set(s,a);++v<y;){var P=a[v],R=s[v];if(f)var k=g?f(R,P,v,s,a,p):f(P,R,v,a,s,p);if(k!==void 0){if(k)continue;w=!1;break}if(C){if(!t(s,function(M,W){if(!n(C,W)&&(P===M||d(P,M,l,f,p)))return C.push(W)})){w=!1;break}}else if(!(P===R||d(P,R,l,f,p))){w=!1;break}}return p.delete(a),p.delete(s),w}return QS=o,QS}var JS,kD;function K$(){if(kD)return JS;kD=1;var e=Wa(),t=e.Uint8Array;return JS=t,JS}var YS,DD;function yge(){if(DD)return YS;DD=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return YS=e,YS}var XS,ND;function vge(){if(ND)return XS;ND=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return XS=e,XS}var ex,FD;function _ge(){if(FD)return ex;FD=1;var e=Md(),t=K$(),n=xm(),r=V$(),i=yge(),o=vge(),a=1,s=2,l="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Map]",g="[object Number]",y="[object RegExp]",b="[object Set]",x="[object String]",E="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",C=e?e.prototype:void 0,P=C?C.valueOf:void 0;function R(k,M,W,ee,z,H,te){switch(W){case w:if(k.byteLength!=M.byteLength||k.byteOffset!=M.byteOffset)return!1;k=k.buffer,M=M.buffer;case v:return!(k.byteLength!=M.byteLength||!H(new t(k),new t(M)));case l:case f:case g:return n(+k,+M);case d:return k.name==M.name&&k.message==M.message;case y:case x:return k==M+"";case p:var oe=i;case b:var ue=ee&a;if(oe||(oe=o),k.size!=M.size&&!ue)return!1;var de=te.get(k);if(de)return de==M;ee|=s,te.set(k,M);var se=r(oe(k),oe(M),ee,z,H,te);return te.delete(k),se;case E:if(P)return P.call(k)==P.call(M)}return!1}return ex=R,ex}var tx,jD;function AR(){if(jD)return tx;jD=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return tx=e,tx}var nx,UD;function Za(){if(UD)return nx;UD=1;var e=Array.isArray;return nx=e,nx}var rx,BD;function G$(){if(BD)return rx;BD=1;var e=AR(),t=Za();function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return rx=n,rx}var ix,$D;function W$(){if($D)return ix;$D=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return ix=e,ix}var ox,zD;function Z$(){if(zD)return ox;zD=1;function e(){return[]}return ox=e,ox}var ax,qD;function RR(){if(qD)return ax;qD=1;var e=W$(),t=Z$(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return ax=o,ax}var sx,HD;function Q$(){if(HD)return sx;HD=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return sx=e,sx}var ux,VD;function mu(){if(VD)return ux;VD=1;function e(t){return t!=null&&typeof t=="object"}return ux=e,ux}var lx,KD;function wge(){if(KD)return lx;KD=1;var e=Ld(),t=mu(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return lx=r,lx}var cx,GD;function bw(){if(GD)return cx;GD=1;var e=wge(),t=mu(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e((function(){return arguments})())?e:function(a){return t(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return cx=o,cx}var gp={exports:{}},fx,WD;function bge(){if(WD)return fx;WD=1;function e(){return!1}return fx=e,fx}gp.exports;var ZD;function Sw(){return ZD||(ZD=1,(function(e,t){var n=Wa(),r=bge(),i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,f=l||r;e.exports=f})(gp,gp.exports)),gp.exports}var dx,QD;function xw(){if(QD)return dx;QD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??e,!!i&&(o=="number"||o!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return dx=n,dx}var hx,JD;function PR(){if(JD)return hx;JD=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return hx=t,hx}var px,YD;function Sge(){if(YD)return px;YD=1;var e=Ld(),t=PR(),n=mu(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",a="[object Date]",s="[object Error]",l="[object Function]",f="[object Map]",d="[object Number]",p="[object Object]",g="[object RegExp]",y="[object Set]",b="[object String]",x="[object WeakMap]",E="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",C="[object Float64Array]",P="[object Int8Array]",R="[object Int16Array]",k="[object Int32Array]",M="[object Uint8Array]",W="[object Uint8ClampedArray]",ee="[object Uint16Array]",z="[object Uint32Array]",H={};H[w]=H[C]=H[P]=H[R]=H[k]=H[M]=H[W]=H[ee]=H[z]=!0,H[r]=H[i]=H[E]=H[o]=H[v]=H[a]=H[s]=H[l]=H[f]=H[d]=H[p]=H[g]=H[y]=H[b]=H[x]=!1;function te(oe){return n(oe)&&t(oe.length)&&!!H[e(oe)]}return px=te,px}var mx,XD;function OR(){if(XD)return mx;XD=1;function e(t){return function(n){return t(n)}}return mx=e,mx}var yp={exports:{}};yp.exports;var eN;function MR(){return eN||(eN=1,(function(e,t){var n=q$(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o&&n.process,s=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();e.exports=s})(yp,yp.exports)),yp.exports}var gx,tN;function LR(){if(tN)return gx;tN=1;var e=Sge(),t=OR(),n=MR(),r=n&&n.isTypedArray,i=r?t(r):e;return gx=i,gx}var yx,nN;function J$(){if(nN)return yx;nN=1;var e=Q$(),t=bw(),n=Za(),r=Sw(),i=xw(),o=LR(),a=Object.prototype,s=a.hasOwnProperty;function l(f,d){var p=n(f),g=!p&&t(f),y=!p&&!g&&r(f),b=!p&&!g&&!y&&o(f),x=p||g||y||b,E=x?e(f.length,String):[],v=E.length;for(var w in f)(d||s.call(f,w))&&!(x&&(w=="length"||y&&(w=="offset"||w=="parent")||b&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||i(w,v)))&&E.push(w);return E}return yx=l,yx}var vx,rN;function IR(){if(rN)return vx;rN=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return vx=t,vx}var _x,iN;function Y$(){if(iN)return _x;iN=1;function e(t,n){return function(r){return t(n(r))}}return _x=e,_x}var wx,oN;function xge(){if(oN)return wx;oN=1;var e=Y$(),t=e(Object.keys,Object);return wx=t,wx}var bx,aN;function Ege(){if(aN)return bx;aN=1;var e=IR(),t=xge(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return bx=i,bx}var Sx,sN;function Ew(){if(sN)return Sx;sN=1;var e=ER(),t=PR();function n(r){return r!=null&&t(r.length)&&!e(r)}return Sx=n,Sx}var xx,uN;function Em(){if(uN)return xx;uN=1;var e=J$(),t=Ege(),n=Ew();function r(i){return n(i)?e(i):t(i)}return xx=r,xx}var Ex,lN;function X$(){if(lN)return Ex;lN=1;var e=G$(),t=RR(),n=Em();function r(i){return e(i,n,t)}return Ex=r,Ex}var Cx,cN;function Cge(){if(cN)return Cx;cN=1;var e=X$(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,l,f,d){var p=s&t,g=e(o),y=g.length,b=e(a),x=b.length;if(y!=x&&!p)return!1;for(var E=y;E--;){var v=g[E];if(!(p?v in a:r.call(a,v)))return!1}var w=d.get(o),C=d.get(a);if(w&&C)return w==a&&C==o;var P=!0;d.set(o,a),d.set(a,o);for(var R=p;++E<y;){v=g[E];var k=o[v],M=a[v];if(l)var W=p?l(M,k,v,a,o,d):l(k,M,v,o,a,d);if(!(W===void 0?k===M||f(k,M,s,l,d):W)){P=!1;break}R||(R=v=="constructor")}if(P&&!R){var ee=o.constructor,z=a.constructor;ee!=z&&"constructor"in o&&"constructor"in a&&!(typeof ee=="function"&&ee instanceof ee&&typeof z=="function"&&z instanceof z)&&(P=!1)}return d.delete(o),d.delete(a),P}return Cx=i,Cx}var Tx,fN;function Tge(){if(fN)return Tx;fN=1;var e=$c(),t=Wa(),n=e(t,"DataView");return Tx=n,Tx}var Ax,dN;function Age(){if(dN)return Ax;dN=1;var e=$c(),t=Wa(),n=e(t,"Promise");return Ax=n,Ax}var Rx,hN;function Rge(){if(hN)return Rx;hN=1;var e=$c(),t=Wa(),n=e(t,"Set");return Rx=n,Rx}var Px,pN;function Pge(){if(pN)return Px;pN=1;var e=$c(),t=Wa(),n=e(t,"WeakMap");return Px=n,Px}var Ox,mN;function Cw(){if(mN)return Ox;mN=1;var e=Tge(),t=CR(),n=Age(),r=Rge(),i=Pge(),o=Ld(),a=H$(),s="[object Map]",l="[object Object]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",g="[object DataView]",y=a(e),b=a(t),x=a(n),E=a(r),v=a(i),w=o;return(e&&w(new e(new ArrayBuffer(1)))!=g||t&&w(new t)!=s||n&&w(n.resolve())!=f||r&&w(new r)!=d||i&&w(new i)!=p)&&(w=function(C){var P=o(C),R=P==l?C.constructor:void 0,k=R?a(R):"";if(k)switch(k){case y:return g;case b:return s;case x:return f;case E:return d;case v:return p}return P}),Ox=w,Ox}var Mx,gN;function Oge(){if(gN)return Mx;gN=1;var e=ww(),t=V$(),n=_ge(),r=Cge(),i=Cw(),o=Za(),a=Sw(),s=LR(),l=1,f="[object Arguments]",d="[object Array]",p="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function b(x,E,v,w,C,P){var R=o(x),k=o(E),M=R?d:i(x),W=k?d:i(E);M=M==f?p:M,W=W==f?p:W;var ee=M==p,z=W==p,H=M==W;if(H&&a(x)){if(!a(E))return!1;R=!0,ee=!1}if(H&&!ee)return P||(P=new e),R||s(x)?t(x,E,v,w,C,P):n(x,E,M,v,w,C,P);if(!(v&l)){var te=ee&&y.call(x,"__wrapped__"),oe=z&&y.call(E,"__wrapped__");if(te||oe){var ue=te?x.value():x,de=oe?E.value():E;return P||(P=new e),C(ue,de,v,w,P)}}return H?(P||(P=new e),r(x,E,v,w,C,P)):!1}return Mx=b,Mx}var Lx,yN;function kR(){if(yN)return Lx;yN=1;var e=Oge(),t=mu();function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return Lx=n,Lx}var Ix,vN;function Mge(){if(vN)return Ix;vN=1;var e=kR();function t(n,r){return e(n,r)}return Ix=t,Ix}var Lge=Mge();const e9=_r(Lge);var kx,_N;function t9(){if(_N)return kx;_N=1;var e=$c(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return kx=t,kx}var Dx,wN;function Tw(){if(wN)return Dx;wN=1;var e=t9();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return Dx=t,Dx}var Nx,bN;function Ige(){if(bN)return Nx;bN=1;function e(t){return function(n,r,i){for(var o=-1,a=Object(n),s=i(n),l=s.length;l--;){var f=s[t?l:++o];if(r(a[f],f,a)===!1)break}return n}}return Nx=e,Nx}var Fx,SN;function n9(){if(SN)return Fx;SN=1;var e=Ige(),t=e();return Fx=t,Fx}var jx,xN;function kge(){if(xN)return jx;xN=1;var e=n9(),t=Em();function n(r,i){return r&&e(r,i,t)}return jx=n,jx}var Ux,EN;function Dge(){if(EN)return Ux;EN=1;var e=ww(),t=kR(),n=1,r=2;function i(o,a,s,l){var f=s.length,d=f,p=!l;if(o==null)return!d;for(o=Object(o);f--;){var g=s[f];if(p&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++f<d;){g=s[f];var y=g[0],b=o[y],x=g[1];if(p&&g[2]){if(b===void 0&&!(y in o))return!1}else{var E=new e;if(l)var v=l(b,x,y,o,a,E);if(!(v===void 0?t(x,b,n|r,l,E):v))return!1}}return!0}return Ux=i,Ux}var Bx,CN;function r9(){if(CN)return Bx;CN=1;var e=Ea();function t(n){return n===n&&!e(n)}return Bx=t,Bx}var $x,TN;function Nge(){if(TN)return $x;TN=1;var e=r9(),t=Em();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return $x=n,$x}var zx,AN;function i9(){if(AN)return zx;AN=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return zx=e,zx}var qx,RN;function Fge(){if(RN)return qx;RN=1;var e=Dge(),t=Nge(),n=i9();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return qx=r,qx}var Hx,PN;function Cm(){if(PN)return Hx;PN=1;var e=Ld(),t=mu(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return Hx=r,Hx}var Vx,ON;function DR(){if(ON)return Vx;ON=1;var e=Za(),t=Cm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return Vx=i,Vx}var Kx,MN;function jge(){if(MN)return Kx;MN=1;var e=TR(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],l=o.cache;if(l.has(s))return l.get(s);var f=r.apply(this,a);return o.cache=l.set(s,f)||l,f};return o.cache=new(n.Cache||e),o}return n.Cache=e,Kx=n,Kx}var Gx,LN;function Uge(){if(LN)return Gx;LN=1;var e=jge(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return Gx=n,Gx}var Wx,IN;function Bge(){if(IN)return Wx;IN=1;var e=Uge(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,l,f){o.push(l?f.replace(n,"$1"):s||a)}),o});return Wx=r,Wx}var Zx,kN;function Aw(){if(kN)return Zx;kN=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return Zx=e,Zx}var Qx,DN;function $ge(){if(DN)return Qx;DN=1;var e=Md(),t=Aw(),n=Za(),r=Cm(),i=e?e.prototype:void 0,o=i?i.toString:void 0;function a(s){if(typeof s=="string")return s;if(n(s))return t(s,a)+"";if(r(s))return o?o.call(s):"";var l=s+"";return l=="0"&&1/s==-1/0?"-0":l}return Qx=a,Qx}var Jx,NN;function zge(){if(NN)return Jx;NN=1;var e=$ge();function t(n){return n==null?"":e(n)}return Jx=t,Jx}var Yx,FN;function Id(){if(FN)return Yx;FN=1;var e=Za(),t=DR(),n=Bge(),r=zge();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return Yx=i,Yx}var Xx,jN;function kd(){if(jN)return Xx;jN=1;var e=Cm();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Xx=t,Xx}var eE,UN;function Rw(){if(UN)return eE;UN=1;var e=Id(),t=kd();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return eE=n,eE}var tE,BN;function qge(){if(BN)return tE;BN=1;var e=Rw();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return tE=t,tE}var nE,$N;function Hge(){if($N)return nE;$N=1;function e(t,n){return t!=null&&n in Object(t)}return nE=e,nE}var rE,zN;function Vge(){if(zN)return rE;zN=1;var e=Id(),t=bw(),n=Za(),r=xw(),i=PR(),o=kd();function a(s,l,f){l=e(l,s);for(var d=-1,p=l.length,g=!1;++d<p;){var y=o(l[d]);if(!(g=s!=null&&f(s,y)))break;s=s[y]}return g||++d!=p?g:(p=s==null?0:s.length,!!p&&i(p)&&r(y,p)&&(n(s)||t(s)))}return rE=a,rE}var iE,qN;function o9(){if(qN)return iE;qN=1;var e=Hge(),t=Vge();function n(r,i){return r!=null&&t(r,i,e)}return iE=n,iE}var oE,HN;function Kge(){if(HN)return oE;HN=1;var e=kR(),t=qge(),n=o9(),r=DR(),i=r9(),o=i9(),a=kd(),s=1,l=2;function f(d,p){return r(d)&&i(p)?o(a(d),p):function(g){var y=t(g,d);return y===void 0&&y===p?n(g,d):e(p,y,s|l)}}return oE=f,oE}var aE,VN;function NR(){if(VN)return aE;VN=1;function e(t){return t}return aE=e,aE}var sE,KN;function a9(){if(KN)return sE;KN=1;function e(t){return function(n){return n?.[t]}}return sE=e,sE}var uE,GN;function Gge(){if(GN)return uE;GN=1;var e=Rw();function t(n){return function(r){return e(r,n)}}return uE=t,uE}var lE,WN;function Wge(){if(WN)return lE;WN=1;var e=a9(),t=Gge(),n=DR(),r=kd();function i(o){return n(o)?e(r(o)):t(o)}return lE=i,lE}var cE,ZN;function FR(){if(ZN)return cE;ZN=1;var e=Fge(),t=Kge(),n=NR(),r=Za(),i=Wge();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return cE=o,cE}var fE,QN;function Zge(){if(QN)return fE;QN=1;var e=Tw(),t=kge(),n=FR();function r(i,o){var a={};return o=n(o,3),t(i,function(s,l,f){e(a,l,o(s,l,f))}),a}return fE=r,fE}var Qge=Zge();const JN=_r(Qge);var Jge=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Yge=()=>({}),Xge=(e,t)=>{if(e.length!==t.length)return!1;const n=new Set(e);return t.every(r=>n.has(r))},oo=({query:e,variables:t,fetch:n,getQueryKey:r=a=>["rdfDocument",a],staleTime:i=1/0,getAdditionalData:o=Yge})=>{const a=B.useMemo(()=>JN(t,ee=>new Set(ee)),[t]),[s,l]=B.useState([]),[f,d]=B.useState({}),[p,g]=B.useState(new Zr),[y,b]=B.useState([]),[x,E]=B.useState(!1),v=B.useCallback(ee=>{var z;return Object.assign(Object.assign({},(z=o(ee))!==null&&z!==void 0?z:{}),{data:Object.fromEntries(ee.map((H,te)=>[s[te],H?.data])),pending:ee.some(H=>H.isPending)})},[o,s]),w=Dp({queries:s.map(ee=>({queryKey:r(ee),queryFn:()=>xR(ee,n),staleTime:i})),combine:v}),C=B.useRef(new F3(e,a)),P=B.useRef(w.data);B.useEffect(()=>{C.current=new F3(e,a);const ee=C.current.getMissingResources();l(ee),g(C.current.store),P.current={}},[e,a]),B.useEffect(()=>{if(!w)return;for(const te in w.data){const oe=w.data[te];if(!oe)continue;const ue=P.current[te];ue?.hash!==oe.hash&&C.current.addResource(te,oe.data,oe.ok?"success":"error")}const ee=C.current.getMissingResources();E(ee.length>0),l(te=>{const oe=[];for(const ue of ee)te.includes(ue)||oe.push(ue);return oe.length===0?te:oe.concat(te)});const z=JN(C.current.getAllVariables(),te=>Array.from(te));d(te=>e9(z,te)?te:z),g(C.current.store);const H=[...C.current.store];b(te=>Xge(te,H)?te:H),P.current=w.data},[w]);const R=w,{data:k,pending:M}=R,W=Jge(R,["data","pending"]);return B.useMemo(()=>Object.assign({store:p,quads:y,variables:f,qas:C.current,isLoading:w?.pending,isMissing:x},W),[x,y,p,f,W,w?.pending])};var dE={},Ri={},rc={},Vh={},YN;function s9(){if(YN)return Vh;YN=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.BlankNode=void 0;let e=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return Vh.BlankNode=e,Vh}var Kh={},Gh={},XN;function u9(){if(XN)return Gh;XN=1,Object.defineProperty(Gh,"__esModule",{value:!0}),Gh.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return Gh.DefaultGraph=e,e.INSTANCE=new e,Gh}var Wh={},Zh={},eF;function jR(){if(eF)return Zh;eF=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.NamedNode=void 0;let e=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return Zh.NamedNode=e,Zh}var tF;function l9(){if(tF)return Wh;tF=1,Object.defineProperty(Wh,"__esModule",{value:!0}),Wh.Literal=void 0;const e=jR();let t=class qT{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=qT.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=qT.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return Wh.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Wh}var Qh={},nF;function c9(){if(nF)return Qh;nF=1,Object.defineProperty(Qh,"__esModule",{value:!0}),Qh.Quad=void 0;let e=class{constructor(n,r,i,o){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=o}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return Qh.Quad=e,Qh}var Jh={},rF;function f9(){if(rF)return Jh;rF=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.Variable=void 0;let e=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return Jh.Variable=e,Jh}var iF;function eye(){if(iF)return Kh;iF=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.DataFactory=void 0;const e=s9(),t=u9(),n=l9(),r=jR(),i=c9(),o=f9();let a=0,s=class{constructor(f){this.blankNodeCounter=0,f=f||{},this.blankNodePrefix=f.blankNodePrefix||`df_${a++}_`}namedNode(f){return new r.NamedNode(f)}blankNode(f){return new e.BlankNode(f||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(f,d){return new n.Literal(f,d)}variable(f){return new o.Variable(f)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(f,d,p,g){return new i.Quad(f,d,p,g||this.defaultGraph())}fromTerm(f){switch(f.termType){case"NamedNode":return this.namedNode(f.value);case"BlankNode":return this.blankNode(f.value);case"Literal":return f.language?this.literal(f.value,f.language):f.datatype.equals(n.Literal.XSD_STRING)?this.literal(f.value):this.literal(f.value,this.fromTerm(f.datatype));case"Variable":return this.variable(f.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(f.subject),this.fromTerm(f.predicate),this.fromTerm(f.object),this.fromTerm(f.graph))}}fromQuad(f){return this.fromTerm(f)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return Kh.DataFactory=s,Kh}var oF;function tye(){return oF||(oF=1,(function(e){var t=rc&&rc.__createBinding||(Object.create?(function(r,i,o,a){a===void 0&&(a=o);var s=Object.getOwnPropertyDescriptor(i,o);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(r,a,s)}):(function(r,i,o,a){a===void 0&&(a=o),r[a]=i[o]})),n=rc&&rc.__exportStar||function(r,i){for(var o in r)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,r,o)};Object.defineProperty(e,"__esModule",{value:!0}),n(s9(),e),n(eye(),e),n(u9(),e),n(l9(),e),n(jR(),e),n(c9(),e),n(f9(),e)})(rc)),rc}var aF;function nye(){if(aF)return Ri;aF=1,Object.defineProperty(Ri,"__esModule",{value:!0}),Ri.stringQuadToQuad=Ri.quadToStringQuad=Ri.stringToTerm=Ri.getLiteralLanguage=Ri.getLiteralType=Ri.getLiteralValue=Ri.termToString=void 0;const e=tye(),t=new e.DataFactory;function n(f){if(f)switch(f.termType){case"NamedNode":return f.value;case"BlankNode":return"_:"+f.value;case"Literal":const d=f;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"");case"Quad":return`<<${n(f.subject)} ${n(f.predicate)} ${n(f.object)}${f.graph.termType==="DefaultGraph"?"":" "+n(f.graph)}>>`;case"Variable":return"?"+f.value;case"DefaultGraph":return f.value}}Ri.termToString=n;function r(f){const d=/^"([^]*)"/.exec(f);if(!d)throw new Error(f+" is not a literal");return d[1]}Ri.getLiteralValue=r;function i(f){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(f);if(!d)throw new Error(f+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ri.getLiteralType=i;function o(f){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(f);if(!d)throw new Error(f+" is not a literal");return d[1]?d[1].toLowerCase():""}Ri.getLiteralLanguage=o;function a(f,d){if(d=d||t,!f||!f.length)return d.defaultGraph();switch(f[0]){case"_":return d.blankNode(f.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(f.substr(1));case'"':const p=o(f),g=d.namedNode(i(f));return d.literal(r(f),p||g);case"<":default:if(f[0]==="<"&&f.length>4&&f[1]==="<"&&f[f.length-1]===">"&&f[f.length-2]===">"){const y=f.slice(2,-2).trim();let b=[],x=0,E=0,v=!1;for(let w=0;w<y.length;w++){const C=y[w];if(C==="<"&&x++,C===">"){if(x===0)throw new Error("Found closing tag without opening tag in "+f);x--}if(C==='"'){let P=!1,R=w;for(;R-- >0&&y[R]==="\\";)P=!P;P||(v=!v)}if(C===" "&&!v&&x===0){for(b.push(y.slice(E,w));y[w+1]===" ";)w+=1;E=w+1}}if(x!==0)throw new Error("Found opening tag without closing tag in "+f);if(b.push(y.slice(E,y.length)),b.length!==3&&b.length!==4)throw new Error("Nested quad syntax error "+f);return b=b.map(w=>w.startsWith("<")&&!w.includes(" ")?w.slice(1,-1):w),d.quad(a(b[0]),a(b[1]),a(b[2]),b[3]?a(b[3]):void 0)}return d.namedNode(f)}}Ri.stringToTerm=a;function s(f){return{subject:n(f.subject),predicate:n(f.predicate),object:n(f.object),graph:n(f.graph)}}Ri.quadToStringQuad=s;function l(f,d){return d=d||t,d.quad(a(f.subject,d),a(f.predicate,d),a(f.object,d),a(f.graph,d))}return Ri.stringQuadToQuad=l,Ri}var sF;function rye(){return sF||(sF=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=nye();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})})(dE)),dE}var d9=rye();const iye=new Set(["NamedNode","BlankNode"]),oye=new Set(["NamedNode"]),aye=new Set(["NamedNode","BlankNode","Literal"]),sye=new Set(["NamedNode","BlankNode","DefaultGraph"]);function uye(e){return Pw(e)}function lye(e){return Pw(e)}function cye(e){return Pw(e)}function fye(e){return Pw(e)}function Pw(e){return d9.termToString(e)}function zr(e){return JSON.stringify({subject:e[0]?uye(e[0]):void 0,predicate:e[1]?lye(e[1]):void 0,object:e[2]?cye(e[2]):void 0,graph:e[3]?fye(e[3]):void 0})}function dye(e){return Ow(e,iye)}function hye(e){return Ow(e,oye)}function pye(e){return Ow(e,aye)}function mye(e){return Ow(e,sye)}function Ow(e,t){const n=d9.stringToTerm(e);if(t&&!t.has(n.termType))throw new Error(`Expected term to be one of term type: [${Array.from(t).reduce((r,i)=>`${r}${i}, `,"")}], but got ${n.termType}.`);return n}function h9(e){try{const t=JSON.parse(e);return[t.subject!=null?dye(t.subject):void 0,t.predicate!=null?hye(t.predicate):void 0,t.object!=null?pye(t.object):void 0,t.graph!=null?mye(t.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}var hE,uF;function gye(){if(uF)return hE;uF=1;class e{constructor(n){this.value=n||"b"+ ++e.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,hE=e,hE}var pE,lF;function p9(){if(lF)return pE;lF=1;class e{equals(n){return!!n&&n.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",pE=e,pE}var mE,cF;function yye(){if(cF)return mE;cF=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const n=this.fromTerm(t.subject),r=this.fromTerm(t.predicate),i=this.fromTerm(t.object),o=this.fromTerm(t.graph);return this.quad(n,r,i,o)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return mE=e,mE}var gE,fF;function m9(){if(fF)return gE;fF=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="NamedNode",gE=e,gE}var yE,dF;function vye(){if(dF)return yE;dF=1;const e=m9();class t{constructor(r,i,o){this.value=r,this.datatype=t.stringDatatype,this.language="",i?(this.language=i,this.datatype=t.langStringDatatype):o&&(this.datatype=o)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),yE=t,yE}var vE,hF;function _ye(){if(hF)return vE;hF=1;const e=p9();class t{constructor(r,i,o,a){this.subject=r,this.predicate=i,this.object=o,a?this.graph=a:this.graph=new e}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",vE=t,vE}var _E,pF;function wye(){if(pF)return _E;pF=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="Variable",_E=e,_E}var wE,mF;function bye(){if(mF)return wE;mF=1;const e=gye(),t=p9(),n=yye(),r=vye(),i=m9(),o=_ye(),a=wye();function s(v){return new i(v)}function l(v){return new e(v)}function f(v,w){return typeof w=="string"?w.indexOf(":")===-1?new r(v,w):new r(v,null,E.namedNode(w)):new r(v,null,w)}function d(v){return new a(v)}function p(){return E.defaultGraphInstance}function g(v,w,C){return E.quad(v,w,C)}function y(v,w,C,P){return new o(v,w,C,P||E.defaultGraphInstance)}function b(v){return n.call(E,v)}function x(v){return n.call(E,v)}const E={namedNode:s,blankNode:l,literal:f,variable:d,defaultGraph:p,triple:g,quad:y,fromTerm:b,fromQuad:x,defaultGraphInstance:new t};return wE=E,wE}var bE,gF;function g9(){return gF||(gF=1,bE=bye()),bE}var y9=g9();const Hv=_r(y9),Sye=tU({__proto__:null,default:Hv},[y9]);let Cc;Hv&&typeof Hv.namedNode=="function"?Cc=Hv:Cc=Sye;const Tc=Cc.quad,As=Cc.namedNode,Mw=Cc.blankNode,rd=Cc.literal,v9=Cc.defaultGraph;function Hp(e,t){const n=new cw(t),r=[];for(const i of e)r.push(i);return n.quadsToString(r)}async function xye(e,t){if(t&&t.format==="application/ld+json")throw new Error("Not Implemented");return new wm(t).parse(e)}let _9=class HT{constructor(t,n){this.dataset=t,this.datasetCoreFactory=n}createBlankDataset(){return new HT(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(t){for(const n of t)this.add(n);return this}contains(t){if(t.size>this.size)return!1;for(const n of t)if(!this.has(n))return!1;return!0}deleteMatches(t,n,r,i){const o=this.match(t,n,r,i);for(const a of o)this.dataset.delete(a);return this}difference(t){const n=this.createBlankDataset();for(const r of this)t.has(r)||n.add(r);return n}equals(t){if(this.size!==t.size)return!1;for(const n of this)if(!t.has(n))return!1;return!0}every(t){for(const n of this)if(!t(n,this))return!1;return!0}filter(t){const n=this.createBlankDataset();for(const r of this)t(r,this)&&n.add(r);return n}forEach(t){for(const n of this)t(n,this)}import(t){return new Promise((n,r)=>{t.on("data",i=>{this.add(i)}).on("end",()=>{n(this)}).on("error",i=>r(i))})}intersection(t){const n=this.createBlankDataset(),r=this.size<t.size?this:t,i=this.size<t.size?t:this;for(const o of r)i.has(o)&&n.add(o);return n}map(t){const n=this.createBlankDataset();for(const r of this)n.add(t(r,this));return n}reduce(t,n){if(this.size===0&&n==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const r=this[Symbol.iterator]();let i=r.next(),o=n;for(;!i.done;)o=t(o,i.value,this),i=r.next();return o}some(t){for(const n of this)if(t(n,this))return!0;return!1}toArray(){const t=[];for(const n of this)t.push(n);return t}toCanonical(){throw new Error("Method not implemented.")}toStream(){const t=this[Symbol.iterator]();let n=t.next();return new pw.Readable({objectMode:!0,read(){if(n.done||!n.value){this.push(null);return}this.push(n.value),n=t.next()}})}toString(){return Hp(this,{format:"N-Triples"})}union(t){const n=this.createBlankDataset();for(const r of this)n.add(r);for(const r of t)n.add(r);return n}match(t,n,r,i){return new HT(this.dataset.match(t,n,r,i),this.datasetCoreFactory)}get size(){return this.dataset.size}add(t){return this.dataset.add(t),this}delete(t){return this.dataset.delete(t),this}has(t){return!!this.dataset.has(t)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}},Eye=class{constructor(t){this.datasetCoreFactory=t}dataset(t){return new _9(this.datasetCoreFactory.dataset(t),this.datasetCoreFactory)}};var SE,yF;function Cye(){if(yF)return SE;yF=1;function e(a){return typeof a=="string"||a instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function n(a){if(typeof a=="string")return a;if(!a)return"";if(typeof a.id<"u"&&a.termType!=="Quad")return a.id;let s,l,f,d;switch(a.termType){case"NamedNode":return a.value;case"BlankNode":return`_:${a.value}`;case"Variable":return`?${a.value}`;case"DefaultGraph":return"";case"Literal":return a.language?`"${a.value}"@${a.language}`:`"${a.value}"${a.datatype&&a.datatype.value!==t?`^^${a.datatype.value}`:""}`;case"Quad":return s=i(n(a.subject)),l=i(n(a.predicate)),f=i(n(a.object)),d=a.graph.termType==="DefaultGraph"?"":` ${n(a.graph)}`,`<<${s} ${l} ${f}${d}>>`;default:throw new Error(`Unexpected termType: ${a.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(a){return a.replace(r,(s,l)=>`"${l.replace(/"/g,'""')}`)}class o{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const l of s)this.add(l)}get size(){let s=this._size;if(s!==null)return s;s=0;const l=this._graphs;let f,d;for(const p in l)for(const g in f=l[p].subjects)for(const y in d=f[g])s+=Object.keys(d[y]).length;return this._size=s,this._size}add(s){let l=n(s.subject),f=n(s.predicate),d=n(s.object);const p=n(s.graph);let g=this._graphs[p];g||(g=this._graphs[p]={subjects:{},predicates:{},objects:{}},Object.freeze(g));const y=this._ids,b=this._entities;return l=y[l]||(y[b[++this._id]=l]=this._id),f=y[f]||(y[b[++this._id]=f]=this._id),d=y[d]||(y[b[++this._id]=d]=this._id),this._addToIndex(g.subjects,l,f,d),this._addToIndex(g.predicates,f,d,l),this._addToIndex(g.objects,d,l,f),this._setQuad(l,f,d,p,s),this._size=null,this}delete(s){let l=n(s.subject),f=n(s.predicate),d=n(s.object);const p=n(s.graph),g=this._ids,y=this._graphs;let b,x,E;if(!(l=g[l])||!(f=g[f])||!(d=g[d])||!(b=y[p])||!(x=b.subjects[l])||!(E=x[f])||!(d in E))return this;this._removeFromIndex(b.subjects,l,f,d),this._removeFromIndex(b.predicates,f,d,l),this._removeFromIndex(b.objects,d,l,f),this._size!==null&&this._size--,this._deleteQuad(l,f,d,p);for(l in b.subjects)return this;return delete y[p],this}has(s){const l=n(s.subject),f=n(s.predicate),d=n(s.object),p=n(s.graph),g=this._graphs[p];if(!g)return!1;const y=this._ids;let b,x,E;return e(l)&&!(b=y[l])||e(f)&&!(x=y[f])||e(d)&&!(E=y[d])?!1:this._countInIndex(g.objects,E,b,x)===1}match(s,l,f,d){return this._createDataset(this._match(s,l,f,d))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,l,f,d){const p=s[l]||(s[l]={}),g=p[f]||(p[f]={}),y=d in g;return y||(g[d]=null),!y}_removeFromIndex(s,l,f,d){const p=s[l],g=p[f];delete g[d];for(const y in g)return;delete p[f];for(const y in p)return;delete s[l]}_findInIndex(s,l,f,d,p,g,y,b,x,E){let v,w,C;l&&((v=s,s={})[l]=v[l]);for(const P in s)if(w=s[P],w){f&&((v=w,w={})[f]=v[f]);for(const R in w)if(C=w[R],C){const k=d?d in C?[d]:[]:Object.keys(C);for(let M=0;M<k.length;M++){const W={[p]:P,[g]:R,[y]:k[M]},ee=this._getQuad(W.subject,W.predicate,W.object,b);if(E)E.push(ee);else if(x(ee))return!0}}}return E}_countInIndex(s,l,f,d){let p=0,g,y,b;l&&((g=s,s={})[l]=g[l]);for(const x in s)if(y=s[x],y){f&&((g=y,y={})[f]=g[f]);for(const E in y)b=y[E],b&&(d?d in b&&p++:p+=Object.keys(b).length)}return p}_getGraphs(s){return e(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,l,f,d){s=s&&n(s),l=l&&n(l),f=f&&n(f),d=d&&n(d);const p=[],g=this._getGraphs(d),y=this._ids;let b,x,E,v;if(e(s)&&!(x=y[s])||e(l)&&!(E=y[l])||e(f)&&!(v=y[f]))return p;for(const w in g)b=g[w],b&&(x?v?this._findInIndex(b.objects,v,x,E,"object","subject","predicate",w,null,p):this._findInIndex(b.subjects,x,E,null,"subject","predicate","object",w,null,p):E?this._findInIndex(b.predicates,E,v,null,"predicate","object","subject",w,null,p):v?this._findInIndex(b.objects,v,null,null,"object","subject","predicate",w,null,p):this._findInIndex(b.subjects,null,null,null,"subject","predicate","object",w,null,p));return p}_getQuad(s,l,f,d){return this._quads.get(this._toId(s,l,f,d))}_setQuad(s,l,f,d,p){this._quads.set(this._toId(s,l,f,d),p)}_deleteQuad(s,l,f,d){this._quads.delete(this._toId(s,l,f,d))}_createDataset(s){return new this.constructor(s)}_toId(s,l,f,d){return`${s}:${l}:${f}:${d}`}}return SE=o,SE}var xE,vF;function Tye(){if(vF)return xE;vF=1;const e=g9(),t=Cye();function n(r){return new t(r)}return xE=Object.assign({dataset:n},e),xE}var UR=Tye();const w9=_r(UR),Aye=w9?.dataset||UR.dataset;function Rye(){const e={dataset:t=>Aye(Array.isArray(t)?t:t?.toArray())};return new Eye(e)}function b9(e){return Rye().dataset(e)}async function _F(e,t,n){const r=await xye(t,n);return e.dataset(r)}const Li=[];for(let e=0;e<256;++e)Li.push((e+256).toString(16).slice(1));function Pye(e,t=0){return(Li[e[t+0]]+Li[e[t+1]]+Li[e[t+2]]+Li[e[t+3]]+"-"+Li[e[t+4]]+Li[e[t+5]]+"-"+Li[e[t+6]]+Li[e[t+7]]+"-"+Li[e[t+8]]+Li[e[t+9]]+"-"+Li[e[t+10]]+Li[e[t+11]]+Li[e[t+12]]+Li[e[t+13]]+Li[e[t+14]]+Li[e[t+15]]).toLowerCase()}let EE;const Oye=new Uint8Array(16);function Mye(){if(!EE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");EE=crypto.getRandomValues.bind(crypto)}return EE(Oye)}const Lye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wF={randomUUID:Lye};function Iye(e,t,n){if(wF.randomUUID&&!e)return wF.randomUUID();e=e||{};const r=e.random??e.rng?.()??Mye();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Pye(r)}let BR=class extends _9{constructor(t,n,r){super(r||t.dataset(),t),this.listenerHashMap=new Map,this.transactionDatasetFactory=n,this.eventEmitter=new pR.EventEmitter,this.datasetFactory=t}superAddAll(t){for(const n of t)super.add(n);return this}addAll(t){return this.superAddAll(t),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(t)}),this}bulk(t){return t.added&&this.superAddAll(t.added),t.removed&&t.removed.forEach(n=>{super.delete(n)}),this.triggerSubscriptionForQuads(t),this}deleteMatches(t,n,r,i){const o=super.match(t,n,r,i);for(const a of o)super.delete(a);return this.triggerSubscriptionForQuads({removed:o}),this}add(t){return super.add(t),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([t])}),this}delete(t){return super.delete(t),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([t])}),this}triggerSubscriptionForQuads(t){const n={},r=o=>{t[o]?.forEach(s=>{const l=s;[[null,null,null,null],[l.subject,null,null,null],[l.subject,l.predicate,null,null],[l.subject,null,l.object,null],[null,l.predicate,null,null],[null,l.predicate,l.object,null],[null,null,l.object,null],[l.subject,l.predicate,l.object,null],[null,null,null,l.graph],[l.subject,null,null,l.graph],[l.subject,l.predicate,null,l.graph],[l.subject,null,l.object,l.graph],[null,l.predicate,null,l.graph],[null,l.predicate,l.object,l.graph],[null,null,l.object,l.graph],[l.subject,l.predicate,l.object,l.graph]].forEach(d=>{const p=zr(d);this.eventEmitter.listenerCount(p)>0&&(n[p]||(n[p]={triggerQuadMatch:d,changes:{}}),n[p].changes[o]||(n[p].changes[o]=this.datasetFactory.dataset()),n[p].changes[o]?.add(s))})})};r("added"),r("removed");const i=Iye();Object.entries(n).forEach(([o,a])=>{this.eventEmitter.emit(o,a.changes,i,a.triggerQuadMatch)})}addListener(t,n){return this.on(t,n)}emit(t,n){return this.eventEmitter.emit(zr(t),n)}eventNames(){return this.eventEmitter.eventNames().map(t=>h9(t))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(t){return this.eventEmitter.listenerCount(zr(t))}listeners(t){return this.eventEmitter.listeners(zr(t))}off(t,n){this.removeListener(t,n)}on(t,n){const r=zr(t);return this.listenerHashMap.has(n)||this.listenerHashMap.set(n,new Set),this.listenerHashMap.get(n)?.add(r),this.eventEmitter.on(r,n),this}once(t,n){return this.eventEmitter.once(zr(t),n),this}prependListener(t,n){return this.eventEmitter.prependListener(zr(t),n),this}prependOnceListener(t,n){return this.eventEmitter.prependOnceListener(zr(t),n),this}removeAllListeners(t){return this.eventEmitter.removeAllListeners(zr(t)),this}removeListener(t,n){return this.eventEmitter.removeListener(zr(t),n),this}removeListenerFromAllEvents(t){const n=this.listenerHashMap.get(t);return n&&n.forEach(r=>{this.eventEmitter.off(r,t)}),this}setMaxListeners(t){return this.eventEmitter.setMaxListeners(t),this}rawListeners(t){return this.eventEmitter.rawListeners(zr(t))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};class kye{constructor(t,n){this.datasetFactory=t,this.transactionDatasetFactory=n}dataset(t){return new BR(this.datasetFactory,this.transactionDatasetFactory,t?this.datasetFactory.dataset(t):void 0)}}function Dye(e,t){if(t.added){e.added?e.added.addAll(t.added):e.added=t.added;const n=e.removed?.intersection(t.added);n&&n.size>0&&(e.removed=e.removed?.difference(n))}if(t.removed){e.removed?e.removed.addAll(t.removed):e.removed=t.removed;const n=e.added?.intersection(t.removed);n&&n.size>0&&(e.added=e.added?.difference(n))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}function Nye(e,t){e.bulk?e.bulk(t):(t.added&&e.addAll(t.added),t.removed&&t.removed.forEach(n=>{e.delete(n)}))}let S9=class extends BR{constructor(t,n,r){super(n,r,n.dataset()),this.parentDataset=t,this.datasetChanges={}}addAll(t){return this.updateDatasetChanges({added:t}),this}bulk(t){return this.updateDatasetChanges(t),this}deleteMatches(t,n,r,i){this.checkIfTransactionCommitted();const o=this.match(t,n,r,i);for(const a of o)this.delete(a);return this}match(t,n,r,i){let o=this.parentDataset.match(t,n,r,i);return this.datasetChanges.removed&&(o=o.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(o=o.union(this.datasetChanges.added.match(t,n,r,i))),o}get size(){return this.parentDataset.size+(this.datasetChanges.added?.difference(this.parentDataset).size||0)-(this.datasetChanges.removed?.intersection(this.parentDataset).size||0)}add(t){return this.updateDatasetChanges({added:[t]}),this}delete(t){return this.updateDatasetChanges({removed:[t]}),this}has(t){return!this.datasetChanges.removed?.has(t)&&(this.datasetChanges.added?.has(t)||this.parentDataset.has(t))}[Symbol.iterator](){const t=(this.datasetChanges.added||[])[Symbol.iterator]();let n=t.next();const r=this.parentDataset[Symbol.iterator]();let i=r.next();return{next:()=>{if(!n||!n.done){const o=n;return n=t.next(),o}for(;!i.done;){const o=i;if(i=r.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(o.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(o.value)))return o}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(t){this.checkIfTransactionCommitted();const n={added:t.added?this.datasetFactory.dataset(t.added):void 0,removed:t.removed?this.datasetFactory.dataset(t.removed):void 0};Dye(this.datasetChanges,n),this.triggerSubscriptionForQuads(n)}updateParentDataset(t){return Nye(this.parentDataset,t)}commit(){this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:this.datasetChanges.added?.difference(this.parentDataset),removed:this.datasetChanges.removed?.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}hasChanges(){return(this.datasetChanges.added&&this.datasetChanges.added.size>0||this.datasetChanges.removed&&this.datasetChanges.removed.size>0)??!1}},Fye=class{constructor(t,n){this.datasetFactory=t,this.transactionDatasetFactory=n||this}transactionDataset(t){return new S9(t,this.datasetFactory,this.transactionDatasetFactory)}};const jye={dataset:e=>b9(e)};function Uye(){return new Fye(jye)}const bF={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};class Bye{constructor(t){this.context=t,this.iriToKeyMap={},this.iriToKeyMap=this.createIriToKeyMap(t),this.typeNameToIriToKeyMap={},Object.entries(t).forEach(([n,r])=>{typeof r=="object"&&r!==null&&r["@id"]&&r["@context"]&&(this.typeNameToIriToKeyMap[n]=this.createIriToKeyMap(r["@context"]))})}createIriToKeyMap(t){const n={};return Object.entries(t).forEach(([r,i])=>{if(typeof i=="string")n[this.keyIdToIri(i)]=r;else if(typeof i=="object"&&i!==null&&i["@id"]){const o=this.keyIdToIri(i["@id"]);n[o]=r}}),n}getRelevantContext(t,n){for(const r of n){const i=this.iriToKey(r.value,[]);if(typeof this.context[i]=="object"&&this.context[i]?.["@context"]&&this.context[i]?.["@context"][t])return this.context[i]?.["@context"]}return this.context}keyIdToIri(t){return bF[t]?bF[t]:t}keyToIri(t,n){const r=this.getRelevantContext(t,n);if(r[t]){if(typeof r[t]=="string")return this.keyIdToIri(r[t]);if(r[t]&&r[t]["@id"])return this.keyIdToIri(r[t]["@id"])}else return t;return t}iriToKey(t,n){let r=this.iriToKeyMap;for(const i of n){const o=this.iriToKey(i.value,[]);r=this.typeNameToIriToKeyMap[o]?.[t]?this.typeNameToIriToKeyMap[o]:this.iriToKeyMap}return r[t]?r[t]:t}getDataType(t,n){const r=this.getRelevantContext(t,n);return typeof r[t]=="object"&&r[t]["@type"]?r[t]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isSet(t,n){const r=this.getRelevantContext(t,n);return!!(r[t]&&typeof r[t]=="object"&&(r[t]["@container"]==="@set"||r[t]["@isCollection"]))}isLangString(t,n){const r=this.getRelevantContext(t,n);return!!(r[t]&&typeof r[t]=="object"&&r[t]["@type"]&&r[t]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}}class b_{constructor(t){this.proxyContext=t}write(...t){return new b_(this.proxyContext.duplicate({writeGraphs:t}))}setLanguagePreferences(...t){return new b_(this.proxyContext.duplicate({languageOrdering:t}))}fromSubject(t){return this.proxyContext.createSubjectProxy(t)}matchSubject(t,n,r){return this.proxyContext.createSetProxy([null,t,n,r],!0)}matchObject(t,n,r){return this.proxyContext.createSetProxy([t,n,null,r])}fromJson(t){const n=t["@id"]?As(t["@id"]):Mw(),r=this.fromSubject(n);return Object.entries(t).forEach(([i,o])=>{r[i]=o}),r}}const lu=Symbol("_getUnderlyingNode"),$ye=Symbol("_getUnderlyingMatch"),x9=Symbol("_isSubjectOriented"),Dd=Symbol("_getUnderlyingDataset"),xo=Symbol("_proxyContext"),$R=Symbol("_writeGraphs");function Lw(e,t){return e[lu]?e[lu]:e["@id"]?typeof e["@id"]=="string"?As(t.keyToIri(e["@id"],[])):e["@id"]:Mw()}function E9(e,t,n){if(e!=null)return typeof e=="string"||typeof e=="boolean"||typeof e=="number"?n?n==="@id"?As(e.toString()):rd(e.toString(),n):void 0:typeof e.termType=="string"&&(e.termType==="NamedNode"||e.termType==="BlankNode")?e:Lw(e,t.contextUtil)}function zR(e){if(!e||typeof e!="object")return!1;const t=e;return!(typeof t[$R]!="object"||typeof t[Dd]!="object"||typeof t[lu]!="object"||typeof t[xo]!="object")}function C9(e){const t=e;if(!zR(t))throw new Error(`${e} is not a Jsonld Dataset Proxy Subject`);return t}function ed(e){if(e==null)return"null";switch(e.termType){case"NamedNode":return`namedNode(${e.value})`;case"BlankNode":return`blankNode(${e.value})`;case"Literal":return`literal(${e.value},${e.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}class zye{constructor(){this.set=new Set,this.map={}}add(t){const n=ed(t);this.set.add(n),this.map[n]=t}has(t){return this.set.has(ed(t))}}class Vp{constructor(t,n){this.dataset=t,this.datasetCoreFactory=n}createBlankDataset(){return new Vp(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(t){for(const n of t)this.add(n);return this}contains(t){if(t.size>this.size)return!1;for(const n of t)if(!this.has(n))return!1;return!0}deleteMatches(t,n,r,i){const o=this.match(t,n,r,i);for(const a of o)this.dataset.delete(a);return this}difference(t){const n=this.createBlankDataset();for(const r of this)t.has(r)||n.add(r);return n}equals(t){if(this.size!==t.size)return!1;for(const n of this)if(!t.has(n))return!1;return!0}every(t){for(const n of this)if(!t(n,this))return!1;return!0}filter(t){const n=this.createBlankDataset();for(const r of this)t(r,this)&&n.add(r);return n}forEach(t){for(const n of this)t(n,this)}import(t){return new Promise((n,r)=>{t.on("data",i=>{this.add(i)}).on("end",()=>{n(this)}).on("error",i=>r(i))})}intersection(t){const n=this.createBlankDataset(),r=this.size<t.size?this:t,i=this.size<t.size?t:this;for(const o of r)i.has(o)&&n.add(o);return n}map(t){const n=this.createBlankDataset();for(const r of this)n.add(t(r,this));return n}reduce(t,n){if(this.size===0&&n==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const r=this[Symbol.iterator]();let i=r.next(),o=n;for(;!i.done;)o=t(o,i.value,this),i=r.next();return o}some(t){for(const n of this)if(t(n,this))return!0;return!1}toArray(){const t=[];for(const n of this)t.push(n);return t}toCanonical(){throw new Error("Method not implemented.")}toStream(){const t=this[Symbol.iterator]();let n=t.next();return new pw.Readable({objectMode:!0,read(){if(n.done||!n.value){this.push(null);return}this.push(n.value),n=t.next()}})}toString(){return Hp(this,{format:"N-Triples"})}union(t){const n=this.createBlankDataset();for(const r of this)n.add(r);for(const r of t)n.add(r);return n}match(t,n,r,i){return new Vp(this.dataset.match(t,n,r,i),this.datasetCoreFactory)}get size(){return this.dataset.size}add(t){return this.dataset.add(t),this}delete(t){return this.dataset.delete(t),this}has(t){return!!this.dataset.has(t)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}}class qye{constructor(t){this.datasetCoreFactory=t}dataset(t){return new Vp(this.datasetCoreFactory.dataset(t),this.datasetCoreFactory)}}const Hye=w9?.dataset||UR.dataset;function T9(){const e={dataset:t=>Hye(Array.isArray(t)?t:t?.toArray())};return new qye(e)}function qR(e){return T9().dataset(e)}function A9(e,t,n,r){const i=x_(r);return e.match(t,n).filter(o=>R9(o.object)&&o.object.language===i)}function S_(e,t,n,r){A9(e,t,n,r).forEach(o=>{e.delete(o)})}function R9(e){return e.termType==="Literal"&&(e.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||e.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}function P9(e){const t={};return e.forEach(n=>{const r=n.object;if(R9(r)){const i=Vye(r.language);t[i]||(t[i]=qR()),t[i].add(n)}}),t}function O9(e,t){const n=P9(e),r=new Set(t),i=new Set(Object.keys(n));for(const o of t){if(i.has(o))return n[o];if(o==="@other"){for(const a of i)if(!r.has(a))return n[a]}}return qR()}function M9(e){return e.find(t=>t!=="@other")}function x_(e){return e==="@none"?"":e}function Vye(e){return e===""?"@none":e}class Dn{constructor(t){if(this.hashMap=new Map,t)for(const n of t)this.add(n)}hashFn(t){return typeof t!="object"?t.toString():t[lu]?t[lu].value:t["@id"]?typeof t["@id"]=="string"?t["@id"]:t["@id"].value:Mw().value}add(t){const n=this.hashFn(t);return this.hashMap.has(n)||this.hashMap.set(n,t),this}clear(){this.hashMap.clear()}delete(t){const n=this.hashFn(t);return this.hashMap.delete(n)}has(t){const n=this.hashFn(t);return this.hashMap.has(n)}get size(){return this.hashMap.size}*entries(){for(const[,t]of this.hashMap.entries())yield[t,t]}keys(){return this.hashMap.values()}values(){return this.hashMap.values()}[Symbol.iterator](){return this.hashMap.values()}get[Symbol.toStringTag](){return"BasicLdSet"}every(t,n){for(const r of this)if(!t.call(n,r,this))return!1;return!0}some(t,n){for(const r of this)if(t.call(n,r,this))return!0;return!1}forEach(t,n){for(const r of this)t.call(n,r,r,this)}map(t,n){const r=[];for(const i of this)r.push(t.call(n,i,this));return r}filter(t,n){const r=new Dn;for(const i of this)t.call(n,i,this)&&r.add(i);return r}reduce(t,n){const r=this[Symbol.iterator]();let i;if(n===void 0){const a=r.next();if(a.done)throw new TypeError("Reduce of empty collection with no initial value");i=a.value}else i=n;let o=r.next();for(;!o.done;)i=t(i,o.value,this),o=r.next();return i}toArray(){const t=[];return this.forEach(n=>t.push(n)),t}toJSON(){return this.toArray()}difference(t){return this.filter(n=>!t.has(n))}intersection(t){const n=new Dn,r=this.size<t.size?this:t,i=this.size<t.size?t:this;for(const o of r)i.has(o)&&n.add(o);return n}isDisjointFrom(t){const n=this.size<t.size?this:t,r=this.size<t.size?t:this;for(const i of n)if(r.has(i))return!1;return!0}isSubsetOf(t){if(this.size>t.size)return!1;for(const n of this)if(!t.has(n))return!1;return!0}isSupersetOf(t){if(this.size<t.size)return!1;for(const n of t)if(!this.has(n))return!1;return!0}symmetricDifference(t){const n=new Dn;return this.forEach(r=>n.add(r)),t.forEach(r=>{n.has(r)?n.delete(r):n.add(r)}),n}union(t){const n=new Dn;return this.forEach(r=>n.add(r)),t.forEach(r=>n.add(r)),n}}function SF(e,t,n,r,i,o){const{dataset:a,contextUtil:s}=o,l=o.getRdfType(e),f=As(s.keyToIri(t,l)),d=E9(n,o,s.getDataType(t,l));if(d==null)a.deleteMatches(e,f);else if(d.termType==="Literal"){let p=d;if(s.isLangString(t,l)){const g=M9(o.languageOrdering);if(!g)return;p=rd(d.value,x_(g))}o.writeGraphs.forEach(g=>{o.dataset.add(Tc(e,f,p,g))})}else if(o.writeGraphs.forEach(p=>{a.add(Tc(e,f,d,p))}),!zR(n)){const p=typeof n=="object"?{...n,"@id":d}:{"@id":d};L9(p,r,i,o)}}function L9(e,t,n,r){const{dataset:i}=r,o=Lw(e,r.contextUtil),a=r.getRdfType(o);return t.has(o)||(t.add(o),Object.entries(e).forEach(([s,l])=>{if(s==="@id")return;const f=As(r.contextUtil.keyToIri(s,a));if(n)if(r.contextUtil.isLangString(s,a)){const d=M9(r.languageOrdering);d&&S_(i,o,f,d)}else i.deleteMatches(o,f);l instanceof Dn?l.forEach(d=>{SF(o,s,d,t,!0,r)}):SF(o,s,l,t,!0,r)})),r.createSubjectProxy(o)}function Kp(e,t,n){return L9(e,new zye,t,n)}function Kye(e,t,n){if(t==="@context"||t==="toString"||t===Symbol.toStringTag||typeof t=="symbol")return!0;if(t==="@id"){const r=e["@id"];return n.dataset.deleteMatches(r,void 0,void 0),n.dataset.deleteMatches(void 0,void 0,r),!0}return Kp({"@id":e["@id"],[t]:void 0},!0,n),!0}function Gye(e){switch(e.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return e.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return e.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(e.value);case"http://www.w3.org/2001/XMLSchema#boolean":return e.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return e.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return e.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return e.value;default:return e.value}}function I9(e,t){if(e.termType==="Literal")return Gye(e);if(e.termType==="NamedNode"||e.termType==="BlankNode")return t.createSubjectProxy(e);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}function xF(e,t,n){const{contextUtil:r,dataset:i}=n;if(t==="@id")return e["@id"].termType==="BlankNode"?void 0:r.iriToKey(e["@id"].value,[]);if(t==="toString"||t===Symbol.toStringTag)return Reflect.get(e,"toString");if(typeof t=="symbol")return;const o=e["@id"],a=n.getRdfType(o),s=As(r.keyToIri(t,a));if(r.isSet(t,a))return n.createSetProxy([o,s,null,null],!1,r.isLangString(t,a));let l=i.match(o,s);if(r.isLangString(t,a)&&(l=O9(l,n.languageOrdering)),l.size!==0)return I9(l.toArray()[0].object,n)}function Wye(e){let t=e;return{get(n,r){switch(r){case Dd:return t.dataset;case lu:return n["@id"];case xo:return t;case $R:return t.writeGraphs;case"@context":return t.contextUtil.context}return xF(n,r,t)},getOwnPropertyDescriptor(n,r){return{value:xF(n,r,t),writable:!0,enumerable:!0,configurable:!0}},ownKeys(n){const r=n["@id"],i=t.dataset.match(r),o=new Set(["@id"]);return i.toArray().forEach(a=>{o.add(t.contextUtil.iriToKey(a.predicate.value,t.getRdfType(r)))}),Array.from(o)},set:(n,r,i)=>{if(r===xo)return t=i,!0;if(r==="@id"&&(typeof i=="string"||typeof i>"u")){const o=i?As(i):Mw(),a=t.dataset.match(n["@id"]).toArray(),s=a.map(d=>Tc(o,d.predicate,d.object,d.graph));a.forEach(d=>t.dataset.delete(d)),t.dataset.addAll(s);const l=t.dataset.match(void 0,void 0,n["@id"]).toArray(),f=l.map(d=>Tc(d.subject,d.predicate,o,d.graph));l.forEach(d=>t.dataset.delete(d)),t.dataset.addAll(f),n["@id"]=o}return Kp({"@id":n["@id"],[r]:i},!0,t),!0},deleteProperty(n,r){return Kye(n,r,t)}}}class HR extends Dn{constructor(t,n){super(),this.context=t,this.quadMatch=n}add(t){return console.warn(`You've attempted to call "add" on a wildcard set. You cannot add data to a wildcard set as it is simply a proxy to an underlying dataset`),this}clear(){console.warn(`You've attempted to call "clear" on an abstract set. You cannot clear data from an abstract set as it is simply a proxy to an underlying dataset`)}delete(t){return console.warn(`You've attempted to call "clear" on an abstract set. You cannot delete data from an abstract set as it is simply a proxy to an underlying dataset`),!1}has(t){return this.getQuads(t).size>0}get size(){return this.getQuads().size}entries(){const t=new Set;for(const n of this)t.add([n,n]);return t[Symbol.iterator]()}keys(){return this.values()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){const n=this.getQuads().toArray().map(r=>{const i=this.getNodeOfFocus(r);return I9(i,this.context)});return new Set(n)[Symbol.iterator]()}get[Symbol.toStringTag](){return"LdSet"}get[Dd](){return this.context.dataset}get[$ye](){return this.quadMatch}get[xo](){return this.context}set[xo](t){this.context=t}get[$R](){return this.context.writeGraphs}}class k9 extends HR{constructor(t,n,r){super(t,n),this.quadMatch=n,this.isLangStringSet=r??!1}getQuads(t){const{dataset:n}=this.context;let r;const i=this.quadMatch[0]??void 0,o=this.quadMatch[1]??void 0,a=this.quadMatch[3]??void 0;if(t){let s;if(this.quadMatch[0]&&o){const f=this.context.getRdfType(this.quadMatch[0]),d=this.context.contextUtil.iriToKey(o.value,f);s=this.context.contextUtil.getDataType(d,f)}const l=E9(t,this.context,s);r=n.match(i,o,l,a),l||(r=r.filter(f=>f.object.termType==="Literal"&&f.object.value===t))}else r=n.match(i,o,void 0,a);return this.isLangStringSet?O9(r,this.context.languageOrdering):r}getNodeOfFocus(t){return t.object}get[x9](){return!1}}class Zye extends k9{constructor(t,n,r){super(t,n,r),this.quadMatch=n}add(t){return Kp({"@id":this.quadMatch[0],[this.context.contextUtil.iriToKey(this.quadMatch[1].value,this.context.getRdfType(this.quadMatch[0]))]:t},!1,this.context),this}clear(){for(const t of this)this.delete(t)}delete(t){const{dataset:n}=this.context,r=this.getQuads(t);return r.forEach(i=>n.delete(i)),r.size>0}}class D9 extends HR{constructor(t,n){super(t,n),this.quadMatch=n}getQuads(t){const{dataset:n}=this.context,r=this.quadMatch[1],i=this.quadMatch[2],o=this.quadMatch[3];if(t){const a=Lw(t,this.context.contextUtil);return n.match(a,r,i,o)}return n.match(void 0,r,i,o)}getNodeOfFocus(t){return t.subject}get[x9](){return!0}}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function Qye(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}let CE;const Jye=new Uint8Array(16);function Yye(){if(!CE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");CE=crypto.getRandomValues.bind(crypto)}return CE(Jye)}const Xye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),EF={randomUUID:Xye};function eve(e,t,n){if(EF.randomUUID&&!e)return EF.randomUUID();e=e||{};const r=e.random??e.rng?.()??Yye();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Qye(r)}class tve extends Vp{constructor(t,n,r){super(r||t.dataset(),t),this.listenerHashMap=new Map,this.transactionDatasetFactory=n,this.eventEmitter=new pR.EventEmitter,this.datasetFactory=t}superAddAll(t){for(const n of t)super.add(n);return this}addAll(t){return this.superAddAll(t),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(t)}),this}bulk(t){return t.added&&this.superAddAll(t.added),t.removed&&t.removed.forEach(n=>{super.delete(n)}),this.triggerSubscriptionForQuads(t),this}deleteMatches(t,n,r,i){const o=super.match(t,n,r,i);for(const a of o)super.delete(a);return this.triggerSubscriptionForQuads({removed:o}),this}add(t){return super.add(t),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([t])}),this}delete(t){return super.delete(t),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([t])}),this}triggerSubscriptionForQuads(t){const n={},r=o=>{t[o]?.forEach(s=>{const l=s;[[null,null,null,null],[l.subject,null,null,null],[l.subject,l.predicate,null,null],[l.subject,null,l.object,null],[null,l.predicate,null,null],[null,l.predicate,l.object,null],[null,null,l.object,null],[l.subject,l.predicate,l.object,null],[null,null,null,l.graph],[l.subject,null,null,l.graph],[l.subject,l.predicate,null,l.graph],[l.subject,null,l.object,l.graph],[null,l.predicate,null,l.graph],[null,l.predicate,l.object,l.graph],[null,null,l.object,l.graph],[l.subject,l.predicate,l.object,l.graph]].forEach(d=>{const p=zr(d);this.eventEmitter.listenerCount(p)>0&&(n[p]||(n[p]={triggerQuadMatch:d,changes:{}}),n[p].changes[o]||(n[p].changes[o]=this.datasetFactory.dataset()),n[p].changes[o]?.add(s))})})};r("added"),r("removed");const i=eve();Object.entries(n).forEach(([o,a])=>{this.eventEmitter.emit(o,a.changes,i,a.triggerQuadMatch)})}addListener(t,n){return this.on(t,n)}emit(t,n){return this.eventEmitter.emit(zr(t),n)}eventNames(){return this.eventEmitter.eventNames().map(t=>h9(t))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(t){return this.eventEmitter.listenerCount(zr(t))}listeners(t){return this.eventEmitter.listeners(zr(t))}off(t,n){this.removeListener(t,n)}on(t,n){const r=zr(t);return this.listenerHashMap.has(n)||this.listenerHashMap.set(n,new Set),this.listenerHashMap.get(n)?.add(r),this.eventEmitter.on(r,n),this}once(t,n){return this.eventEmitter.once(zr(t),n),this}prependListener(t,n){return this.eventEmitter.prependListener(zr(t),n),this}prependOnceListener(t,n){return this.eventEmitter.prependOnceListener(zr(t),n),this}removeAllListeners(t){return this.eventEmitter.removeAllListeners(zr(t)),this}removeListener(t,n){return this.eventEmitter.removeListener(zr(t),n),this}removeListenerFromAllEvents(t){const n=this.listenerHashMap.get(t);return n&&n.forEach(r=>{this.eventEmitter.off(r,t)}),this}setMaxListeners(t){return this.eventEmitter.setMaxListeners(t),this}rawListeners(t){return this.eventEmitter.rawListeners(zr(t))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}}function nve(e,t){if(t.added){e.added?e.added.addAll(t.added):e.added=t.added;const n=e.removed?.intersection(t.added);n&&n.size>0&&(e.removed=e.removed?.difference(n))}if(t.removed){e.removed?e.removed.addAll(t.removed):e.removed=t.removed;const n=e.added?.intersection(t.removed);n&&n.size>0&&(e.added=e.added?.difference(n))}e.added&&e.added.size===0&&(e.added=void 0),e.removed&&e.removed.size===0&&(e.removed=void 0)}function rve(e,t){e.bulk?e.bulk(t):(t.added&&e.addAll(t.added),t.removed&&t.removed.forEach(n=>{e.delete(n)}))}class N9 extends tve{constructor(t,n,r){super(n,r,n.dataset()),this.parentDataset=t,this.datasetChanges={}}addAll(t){return this.updateDatasetChanges({added:t}),this}bulk(t){return this.updateDatasetChanges(t),this}deleteMatches(t,n,r,i){this.checkIfTransactionCommitted();const o=this.match(t,n,r,i);for(const a of o)this.delete(a);return this}match(t,n,r,i){let o=this.parentDataset.match(t,n,r,i);return this.datasetChanges.removed&&(o=o.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(o=o.union(this.datasetChanges.added.match(t,n,r,i))),o}get size(){return this.parentDataset.size+(this.datasetChanges.added?.difference(this.parentDataset).size||0)-(this.datasetChanges.removed?.intersection(this.parentDataset).size||0)}add(t){return this.updateDatasetChanges({added:[t]}),this}delete(t){return this.updateDatasetChanges({removed:[t]}),this}has(t){return!this.datasetChanges.removed?.has(t)&&(this.datasetChanges.added?.has(t)||this.parentDataset.has(t))}[Symbol.iterator](){const t=(this.datasetChanges.added||[])[Symbol.iterator]();let n=t.next();const r=this.parentDataset[Symbol.iterator]();let i=r.next();return{next:()=>{if(!n||!n.done){const o=n;return n=t.next(),o}for(;!i.done;){const o=i;if(i=r.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(o.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(o.value)))return o}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(t){this.checkIfTransactionCommitted();const n={added:t.added?this.datasetFactory.dataset(t.added):void 0,removed:t.removed?this.datasetFactory.dataset(t.removed):void 0};nve(this.datasetChanges,n),this.triggerSubscriptionForQuads(n)}updateParentDataset(t){return rve(this.parentDataset,t)}commit(){this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:this.datasetChanges.added?.difference(this.parentDataset),removed:this.datasetChanges.removed?.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}hasChanges(){return(this.datasetChanges.added&&this.datasetChanges.added.size>0||this.datasetChanges.removed&&this.datasetChanges.removed.size>0)??!1}}class ive{constructor(t,n){this.datasetFactory=t,this.transactionDatasetFactory=n||this}transactionDataset(t){return new N9(t,this.datasetFactory,this.transactionDatasetFactory)}}const ove={dataset:e=>qR(e)};function ave(){return new ive(ove)}class sve extends D9{constructor(t,n){super(t,n),this.quadMatch=n}add(t){if(typeof t!="object")throw new Error(`Cannot add a literal "${t}"(${typeof t}) to a subject-oriented collection.`);const n=new N9(this.context.dataset,T9(),ave());if(Kp(t,!1,this.context.duplicate({writeGraphs:[v9()]})),!(n.match(Lw(t,this.context.contextUtil),this.quadMatch[1],this.quadMatch[2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${ed(this.quadMatch[0])}, ${ed(this.quadMatch[1])}, ${ed(this.quadMatch[2])}, ${ed(this.quadMatch[3])})`);const o=Kp(t,!1,this.context)[lu];return this.context.writeGraphs.forEach(a=>{this.context.dataset.add(Tc(o,this.quadMatch[1],this.quadMatch[2],a))}),this}}function uve(e,t,n,r){return t?e[1]&&e[2]?new sve(n,e):new D9(n,e):e[0]&&e[1]?new Zye(n,e,r):new k9(n,e,r)}const lve=As("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");class VR{constructor(t){this.subjectMap=new Map,this.setMap=new Map,this.dataset=t.dataset,this.contextUtil=t.contextUtil,this.writeGraphs=t.writeGraphs,this.languageOrdering=t.languageOrdering,this.state=t.state||{}}createSubjectProxy(t){if(!this.subjectMap.has(t.value)){const n=this.createNewSubjectProxy(t);this.subjectMap.set(t.value,n)}return this.subjectMap.get(t.value)}createNewSubjectProxy(t){return new Proxy({"@id":t},Wye(this))}getSetKey(...t){return`${t[0]?.value||"undefined"}|${t[1]?.value||"undefined"}|${t[2]?.value||"undefined"}|${t[3]?.value||"undefined"}`}createSetProxy(t,n,r){const i=this.getSetKey(...t);if(!this.setMap.has(i)){const o=this.createNewSetProxy(t,n,r);this.setMap.set(i,o)}return this.setMap.get(i)}createNewSetProxy(t,n,r){return uve(t,n??!1,this,r)}duplicate(t){const n={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,...t};return new VR(n)}getRdfType(t){return this.dataset.match(t,lve).toArray().map(n=>n.object).filter(n=>n.termType==="NamedNode")}}function F9(e,t){const n=new Bye(t),r=new VR({dataset:e,contextUtil:n,writeGraphs:[v9()],languageOrdering:["none","en","other"]});return new b_(r)}function cve(e){return!e||typeof e!="object"?!1:e instanceof HR}function fve(e){return zR(e)||cve(e)}function Iw(e){if(!fve(e))throw new Error(`${e} is not a Jsonld Dataset Proxy`);return e}function dve(e,t){return{using(...n){const r=[];return n.forEach(i=>{const o=Iw(i),a=o[xo];o[xo]=o[xo].duplicate({[e]:t}),r.push(()=>{o[xo]=a})}),function(){r.forEach(o=>o())}},usingCopy(...n){return n.map(r=>{const i=C9(r);return i[xo].duplicate({[e]:t}).createSubjectProxy(i[lu])})}}}function hve(...e){return dve("languageOrdering",e)}var j9;class pve{constructor(t,n,r,i){this[j9]="LanguageSet",this.subject=t,this.predicate=n,this.languageKey=r,this.proxyContext=i}matchThis(){return A9(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(t){return this.languageKey==="@none"?rd(t):rd(t,this.languageKey)}get size(){return this.matchThis().size}add(t){return this.proxyContext.writeGraphs.forEach(n=>{this.proxyContext.dataset.add(Tc(this.subject,this.predicate,rd(t,this.languageKey),n))}),this}clear(){S_(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(t){const n=this.has(t);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(t)),n}forEach(t,n){this.matchThis().forEach(i=>{t(i.object.value,i.object.value,n||this)})}has(t){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(t)).size>0}*entries(){const t=this.matchThis();for(const n of t)yield[n.object.value,n.object.value]}*keys(){const t=this.matchThis();for(const n of t)yield n.object.value}*values(){const t=this.matchThis();for(const n of t)yield n.object.value}*[Symbol.iterator](){const t=this.matchThis();for(const n of t)yield n.object.value}}j9=Symbol.toStringTag;function mve(e,t,n,r){const i={},o=a=>{Object.keys(a).forEach(f=>delete a[f]);const s=n.dataset.match(e,t),l=P9(s);Object.entries(l).forEach(([f,d])=>{const p=d.toArray().map(g=>g.object.value);r?a[f]=new Set(p):a[f]=p[0]})};return o(i),new Proxy(i,{get:(a,s)=>(o(a),typeof s!="string"?Reflect.get(a,s):r?new pve(e,t,s,n):Reflect.get(a,s)),set:(a,s,l)=>{const f=x_(s);return r||S_(n.dataset,e,t,f),n.writeGraphs.forEach(d=>{n.dataset.add(Tc(e,t,rd(l,f),d))}),Reflect.set(a,s,l)},deleteProperty:(a,s)=>(S_(n.dataset,e,t,x_(s)),Reflect.deleteProperty(a,s))})}function gve(e,t){const n=C9(e),r=n[xo],i=n[lu],o=r.getRdfType(i),a=As(r.contextUtil.keyToIri(t,o));return mve(i,a,r,r.contextUtil.isSet(t,o))}function tl(e){return typeof e=="string"?As(e):e}function yve(e){return e.map(t=>tl(t))}function vve(e){return typeof e.startTransaction=="function"}function _ve(e){return typeof e.commit=="function"}function wve(e){const t=Iw(e),n=t[Dd];if(!_ve(n)||!t[xo].state.parentDataset)throw new Error("Object is not currently in a transaction");return[n,t]}class Gp{constructor(t,n){this.jsonldDatasetProxyBuilder=t,this.shapeType=n}fromSubject(t){return this.jsonldDatasetProxyBuilder.fromSubject(tl(t))}matchSubject(t,n,r){return this.jsonldDatasetProxyBuilder.matchSubject(t!=null?tl(t):void 0,n!=null?tl(n):void 0,r!=null?tl(r):void 0)}matchObject(t,n,r){return this.jsonldDatasetProxyBuilder.matchObject(t!=null?tl(t):void 0,n!=null?tl(n):void 0,r!=null?tl(r):void 0)}fromJson(t){return this.jsonldDatasetProxyBuilder.fromJson(t)}write(...t){return new Gp(this.jsonldDatasetProxyBuilder.write(...yve(t)),this.shapeType)}setLanguagePreferences(...t){return new Gp(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...t),this.shapeType)}}class bve extends S9{usingType(t){const n=F9(this,t.context);return new Gp(n,t)}}class Sve extends BR{usingType(t){const n=F9(this,t.context);return new Gp(n,t)}startTransaction(){return new bve(this,this.datasetFactory,this.transactionDatasetFactory)}}class xve extends kye{dataset(t){return new Sve(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(t))}}function U9(){const e={dataset:t=>b9(t)};return new xve(e,Uye())}function ao(e){return U9().dataset(e)}async function Eve(e,t){const n=U9();return typeof e=="string"?await _F(n,e,t):typeof e.add=="function"?ao(e):await _F(n,JSON.stringify(e),{format:"application/ld+json"})}const KR=gve,E_=hve;function CF(e){const t=Iw(e),n=t[Dd];if(!vve(n))throw new Error("Object is not transactable.");t[xo]=t[xo].duplicate({dataset:n.startTransaction(),state:{parentDataset:n}})}function Cve(e){const[t]=wve(e);return t.getChanges()}async function Tve(e){const t=Iw(e)[Dd];return Hp(t,{})}const vc={hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",wf:"http://www.w3.org/2005/01/wf/flow#"},El={PersonalHospexDocument:`${vc.hospex}PersonalHospexDocument`,offers:`${vc.hospex}offers`,offeredBy:`${vc.hospex}offeredBy`,storage:`${vc.hospex}storage`},al={participation:`${vc.wf}participation`,participant:`${vc.wf}participant`,...Dpe},B9={LongChat:`${vc.meeting}LongChat`,...kpe},$9=[{type:"match",subject:"?community",predicate:pd.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:nu.inbox,pick:"object",target:"?inbox"}],z9=[...$9,{type:"match",subject:"?group",predicate:P$.hasMember,pick:"object",target:"?person"}],kw={type:"match",subject:"?person",predicate:nu.inbox,pick:"object",target:"?inbox"},Nd=[{type:"match",subject:"?person",predicate:wR.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],q9=[...Nd,{type:"match",subject:"?person",predicate:wn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],H9=[...q9,{type:"match",subject:"?person",predicate:Uc.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:wn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},kw],V9=[{type:"match",predicate:Od.type,object:wn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:wn.forClass,object:El.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:wn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:pd.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],GR=[...q9,...V9],Ave=[...H9,...V9,{type:"match",subject:"?person",predicate:Uc.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},kw,{type:"match",subject:"?person",predicate:pd.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:pd.name,pick:"object",target:"?communityName"}],Rve=[...GR,{type:"match",subject:"?person",predicate:Uc.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],K9=[...GR,{type:"match",subject:"?person",predicate:El.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],Pve=[...z9,...K9],Ove=[{type:"match",subject:"?offer",predicate:El.offeredBy,pick:"object",target:"?person"}],Mve=[...Nd,{type:"match",subject:"?person",predicate:ml.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:wR.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],Lve=[...Nd,kw,{type:"match",subject:"?inbox",predicate:nu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Od.type,object:Xf.Invite,pick:"subject",target:"?inviteNotification"}],Ive=[...Nd,kw,{type:"match",subject:"?inbox",predicate:nu.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Od.type,object:Xf.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:Xf.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:Xf.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:Xf.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],G9=[...Nd,{type:"match",subject:"?person",predicate:Uc.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:wn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:Od.type,object:wn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:wn.forClass,object:B9.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:wn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:al.participation,pick:"object",target:"?participation"}],kve=[...G9,{type:"match",subject:"?participation",predicate:R$.references,pick:"object",target:"?otherChat"}],Dve=[...G9,{type:"match",subject:"?participation",predicate:al.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:al.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:al.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:al.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:al.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:R$.references,pick:"object",target:"?otherChat"}],W9=[{type:"match",subject:"?chatContainer",predicate:nu.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:nu.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:nu.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:nu.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:al.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:al.message,pick:"object",target:"?message"}],C_=e=>e.termType==="NamedNode"?new vr(ii(e.value)):void 0,Nve=[...Dve,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:C_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:C_},...W9],Fve=[...kve,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:C_},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:C_},...W9],jve=(e,t)=>{const{variables:n,isLoading:r}=oo(B.useMemo(()=>({query:z9,variables:{community:[t]},fetch:Xn}),[t]));if(!r)return(n.person??[]).includes(e)},gu=(e,...t)=>{t.length===0&&(t=[...t,Ed]);const{store:n,variables:r,isLoading:i}=oo({query:$9,variables:B.useMemo(()=>({community:[e]}),[e]),fetch:Xn}),o=B.useMemo(()=>ao(n.getQuads(null,null,null,null)).usingType(Mme).fromSubject(e),[e,n,r]),a=TE(o,"name",...t),s=TE(o,"note",...t),l=TE(o,"about",...t);return B.useMemo(()=>({community:e,logo:o.logo?.map(({"@id":f})=>f)??[],name:a,about:l,pun:s,groups:r.group??[],isLoading:i,inbox:r.inbox?.[0]}),[l,o.logo,e,i,a,s,r.group,r.inbox])},TE=(e,t,...n)=>{const r=B.useMemo(()=>[...n,"@none"],[n]);return B.useMemo(()=>{const o=KR(e,t);for(const a of r){const s=o[a];if(typeof s=="string")return s;if(s?.toString()==="[object LanguageSet]"){const l=[...s][0];if(typeof l=="string")return l}}},[r,t,e])},Uve="_select_103rf_1",Bve={select:Uve},$ve=()=>{const e=Dr(xa),t=bl();return U.jsx("select",{className:Bve.select,value:e,onChange:n=>{t(YA.changeLocale(n.target.value))},children:a_.map(n=>U.jsx("option",{value:n,children:n},n))})},zve="_header_1hug1_1",qve="_logoContainer_1hug1_12",Hve="_logo_1hug1_12",Vve="_spacer_1hug1_21",yy={header:zve,logoContainer:qve,logo:Hve,spacer:Vve},Kve=()=>{const e=bl(),t=Fc(),n=async()=>{await ete(),e(nR.signout()),t("/")};return U.jsx("button",{onClick:n,children:U.jsx(_t,{id:"ydgdD7"})})},yu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Preferences",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/space#ConfigurationFile"]}},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},vu={type:{"@id":"@type"},Person:{"@id":"http://xmlns.com/foaf/0.1/Person","@context":{type:{"@id":"@type"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@isCollection":!0},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@isCollection":!0},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@isCollection":!0},oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@isCollection":!0},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@isCollection":!0}}},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:{"@id":"http://www.w3.org/ns/ldp#Container","@context":{type:{"@id":"@type"},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},BasicContainer:{"@id":"http://www.w3.org/ns/ldp#BasicContainer","@context":{type:{"@id":"@type"},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},Add:{"@id":"https://www.w3.org/ns/activitystreams#Add","@context":{type:{"@id":"@type"},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"}}},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:{"@id":"http://www.w3.org/ns/pim/meeting#LongChat","@context":{type:{"@id":"@type"},author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@isCollection":!0},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@isCollection":!0}}},author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@isCollection":!0},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@isCollection":!0},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@isCollection":!0},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:{"@id":"https://www.w3.org/ns/activitystreams#Invite","@context":{type:{"@id":"@type"},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},content:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"}}},content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:{"@id":"https://www.w3.org/ns/activitystreams#Relationship","@context":{type:{"@id":"@type"},subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"}}},subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@isCollection":!0},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@isCollection":!0},TypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#TypeIndex","@context":{type:{"@id":"@type"}}},UnlistedDocument:{"@id":"http://www.w3.org/ns/solid/terms#UnlistedDocument","@context":{type:{"@id":"@type"}}},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@isCollection":!0},ListedDocument:{"@id":"http://www.w3.org/ns/solid/terms#ListedDocument","@context":{type:{"@id":"@type"}}},oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@isCollection":!0},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@isCollection":!0},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@isCollection":!0},Accommodation:{"@id":"http://w3id.org/hospex/ns#Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},Accommodation2:{"@id":"https://schema.org/Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#Point","@context":{type:{"@id":"@type"},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@isCollection":!0},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},ConfigurationFile:"http://www.w3.org/ns/pim/space#ConfigurationFile",TypeRegistration:{"@id":"http://www.w3.org/ns/solid/terms#TypeRegistration","@context":{type:{"@id":"@type"},forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@isCollection":!0},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@isCollection":!0},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@isCollection":!0}}},forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@isCollection":!0},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@isCollection":!0},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@isCollection":!0},Resource:{"@id":"http://www.w3.org/ns/ldp#Resource","@context":{type:{"@id":"@type"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}}},Z9={schema:yu,shape:"https://example.com/SolidProfile",context:vu},Gve={schema:yu,shape:"https://example.com/FoafProfile",context:vu},Dw={schema:yu,shape:"https://example.com/HospexProfile",context:vu},Nw={schema:yu,shape:"https://example.com/Accommodation",context:vu},Wve={schema:yu,shape:"https://example.com/PublicTypeIndex",context:vu},Zve={schema:yu,shape:"https://example.com/PrivateTypeIndex",context:vu},md={schema:yu,shape:"https://example.com/ChatShape",context:vu},Q9={schema:yu,shape:"https://example.com/MessageActivity",context:vu},J9={schema:yu,shape:"https://example.com/ContactInvitationActivity",context:vu},Qve=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},TF=e=>JSON.parse(JSON.stringify(e,Qve()));async function AF(e){const t=Cve(e),n=[`_:mutate a <${wn.InsertDeletePatch}>`];if(t.added){const i=await Hp(t.added,{format:"N3"});n.push(`<${wn.inserts}> { ${i} }`)}if(t.removed){const i=await Hp(t.removed,{format:"N3"});n.push(`<${wn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}const Fw=(e,t)=>{const n=KR(e,t);return Jve(n)},Jve=e=>{const t={};for(const n in e)t[n]=[...e[n]][0];return t},WR=(e,t,n)=>{const r=KR(t,n);e&&Object.entries(e).forEach(([i,o])=>{r[i]?.clear(),o.trim()&&r[i]?.add(o.trim())})};var AE,RF;function Y9(){if(RF)return AE;RF=1;var e=Tw(),t=xm();function n(r,i,o){(o!==void 0&&!t(r[i],o)||o===void 0&&!(i in r))&&e(r,i,o)}return AE=n,AE}var vp={exports:{}};vp.exports;var PF;function X9(){return PF||(PF=1,(function(e,t){var n=Wa(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,a=o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;function l(f,d){if(d)return f.slice();var p=f.length,g=s?s(p):new f.constructor(p);return f.copy(g),g}e.exports=l})(vp,vp.exports)),vp.exports}var RE,OF;function ZR(){if(OF)return RE;OF=1;var e=K$();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return RE=t,RE}var PE,MF;function ez(){if(MF)return PE;MF=1;var e=ZR();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return PE=t,PE}var OE,LF;function tz(){if(LF)return OE;LF=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return OE=e,OE}var ME,IF;function Yve(){if(IF)return ME;IF=1;var e=Ea(),t=Object.create,n=(function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var o=new r;return r.prototype=void 0,o}})();return ME=n,ME}var LE,kF;function QR(){if(kF)return LE;kF=1;var e=Y$(),t=e(Object.getPrototypeOf,Object);return LE=t,LE}var IE,DF;function nz(){if(DF)return IE;DF=1;var e=Yve(),t=QR(),n=IR();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return IE=r,IE}var kE,NF;function rz(){if(NF)return kE;NF=1;var e=Ew(),t=mu();function n(r){return t(r)&&e(r)}return kE=n,kE}var DE,FF;function iz(){if(FF)return DE;FF=1;var e=Ld(),t=QR(),n=mu(),r="[object Object]",i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,l=a.call(Object);function f(d){if(!n(d)||e(d)!=r)return!1;var p=t(d);if(p===null)return!0;var g=s.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&a.call(g)==l}return DE=f,DE}var NE,jF;function oz(){if(jF)return NE;jF=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return NE=e,NE}var FE,UF;function JR(){if(UF)return FE;UF=1;var e=Tw(),t=xm(),n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s){var l=o[a];(!(r.call(o,a)&&t(l,s))||s===void 0&&!(a in o))&&e(o,a,s)}return FE=i,FE}var jE,BF;function Fd(){if(BF)return jE;BF=1;var e=JR(),t=Tw();function n(r,i,o,a){var s=!o;o||(o={});for(var l=-1,f=i.length;++l<f;){var d=i[l],p=a?a(o[d],r[d],d,o,r):void 0;p===void 0&&(p=r[d]),s?t(o,d,p):e(o,d,p)}return o}return jE=n,jE}var UE,$F;function Xve(){if($F)return UE;$F=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return UE=e,UE}var BE,zF;function e_e(){if(zF)return BE;zF=1;var e=Ea(),t=IR(),n=Xve(),r=Object.prototype,i=r.hasOwnProperty;function o(a){if(!e(a))return n(a);var s=t(a),l=[];for(var f in a)f=="constructor"&&(s||!i.call(a,f))||l.push(f);return l}return BE=o,BE}var $E,qF;function Tm(){if(qF)return $E;qF=1;var e=J$(),t=e_e(),n=Ew();function r(i){return n(i)?e(i,!0):t(i)}return $E=r,$E}var zE,HF;function t_e(){if(HF)return zE;HF=1;var e=Fd(),t=Tm();function n(r){return e(r,t(r))}return zE=n,zE}var qE,VF;function n_e(){if(VF)return qE;VF=1;var e=Y9(),t=X9(),n=ez(),r=tz(),i=nz(),o=bw(),a=Za(),s=rz(),l=Sw(),f=ER(),d=Ea(),p=iz(),g=LR(),y=oz(),b=t_e();function x(E,v,w,C,P,R,k){var M=y(E,w),W=y(v,w),ee=k.get(W);if(ee){e(E,w,ee);return}var z=R?R(M,W,w+"",E,v,k):void 0,H=z===void 0;if(H){var te=a(W),oe=!te&&l(W),ue=!te&&!oe&&g(W);z=W,te||oe||ue?a(M)?z=M:s(M)?z=r(M):oe?(H=!1,z=t(W,!0)):ue?(H=!1,z=n(W,!0)):z=[]:p(W)||o(W)?(z=M,o(M)?z=b(M):(!d(M)||f(M))&&(z=i(W))):H=!1}H&&(k.set(W,z),P(z,W,C,R,k),k.delete(W)),e(E,w,z)}return qE=x,qE}var HE,KF;function r_e(){if(KF)return HE;KF=1;var e=ww(),t=Y9(),n=n9(),r=n_e(),i=Ea(),o=Tm(),a=oz();function s(l,f,d,p,g){l!==f&&n(f,function(y,b){if(g||(g=new e),i(y))r(l,f,b,d,s,p,g);else{var x=p?p(a(l,b),y,b+"",l,f,g):void 0;x===void 0&&(x=y),t(l,b,x)}},o)}return HE=s,HE}var VE,GF;function az(){if(GF)return VE;GF=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return VE=e,VE}var KE,WF;function sz(){if(WF)return KE;WF=1;var e=az(),t=Math.max;function n(r,i,o){return i=t(i===void 0?r.length-1:i,0),function(){for(var a=arguments,s=-1,l=t(a.length-i,0),f=Array(l);++s<l;)f[s]=a[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=a[s];return d[i]=o(f),e(r,this,d)}}return KE=n,KE}var GE,ZF;function i_e(){if(ZF)return GE;ZF=1;function e(t){return function(){return t}}return GE=e,GE}var WE,QF;function o_e(){if(QF)return WE;QF=1;var e=i_e(),t=t9(),n=NR(),r=t?function(i,o){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(o),writable:!0})}:n;return WE=r,WE}var ZE,JF;function a_e(){if(JF)return ZE;JF=1;var e=800,t=16,n=Date.now;function r(i){var o=0,a=0;return function(){var s=n(),l=t-(s-a);if(a=s,l>0){if(++o>=e)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return ZE=r,ZE}var QE,YF;function uz(){if(YF)return QE;YF=1;var e=o_e(),t=a_e(),n=t(e);return QE=n,QE}var JE,XF;function lz(){if(XF)return JE;XF=1;var e=NR(),t=sz(),n=uz();function r(i,o){return n(t(i,o,e),i+"")}return JE=r,JE}var YE,ej;function s_e(){if(ej)return YE;ej=1;var e=xm(),t=Ew(),n=xw(),r=Ea();function i(o,a,s){if(!r(s))return!1;var l=typeof a;return(l=="number"?t(s)&&n(a,s.length):l=="string"&&a in s)?e(s[a],o):!1}return YE=i,YE}var XE,tj;function u_e(){if(tj)return XE;tj=1;var e=lz(),t=s_e();function n(r){return e(function(i,o){var a=-1,s=o.length,l=s>1?o[s-1]:void 0,f=s>2?o[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,f&&t(o[0],o[1],f)&&(l=s<3?void 0:l,s=1),i=Object(i);++a<s;){var d=o[a];d&&r(i,d,a,l)}return i})}return XE=n,XE}var e2,nj;function l_e(){if(nj)return e2;nj=1;var e=r_e(),t=u_e(),n=t(function(r,i,o){e(r,i,o)});return e2=n,e2}var c_e=l_e();const Ac=_r(c_e);class _a extends Error{status;response;constructor(t,n){super(t),this.name="HttpError",this.status=n.status,this.response=n,Object.setPrototypeOf(this,_a.prototype)}}var t2,rj;function cz(){if(rj)return t2;rj=1;var e=Cm();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],l=r(s);if(l!=null&&(f===void 0?l===l&&!e(l):i(l,f)))var f=l,d=s}return d}return t2=t,t2}var n2,ij;function f_e(){if(ij)return n2;ij=1;function e(t,n){return t>n}return n2=e,n2}var r2,oj;function d_e(){if(oj)return r2;oj=1;var e=cz(),t=f_e(),n=FR();function r(i,o){return i&&i.length?e(i,n(o,2),t):void 0}return r2=r,r2}var h_e=d_e();const p_e=_r(h_e),m_e=(e,t)=>Xn(e,{cache:"no-store",...t}),fz=e=>xR(e,m_e),g_e=e=>{const t=B.useMemo(()=>({queries:e.map(r=>xl(r)).map(r=>({queryKey:[Vr.rdfDocument,r],queryFn:()=>fz(r)}))}),[e]);return Dp(t)},y_e=()=>{const e=Ui();return ta({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await uu(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:Am(e)})},qa=e=>{const t=Ui();return ta({mutationFn:async({uri:r,data:i,transform:o,language:a="en",method:s="PUT",throwOnHttpError:l=!1})=>{const f=ao();if(Array.isArray(i))i.forEach(b=>{const x=f.usingType(e).fromSubject(b["@id"]);E_(a).using(x),Ac(x,b),o?.(x)});else{const b=f.usingType(e).fromSubject(i["@id"]);E_(a).using(b),Ac(b,i),o?.(b)}const d=await Tve(f.usingType(e).fromSubject("")),p={"content-type":"text/turtle"};s==="PUT"&&(p["If-None-Match"]="*");const g=await uu(r,{method:s,body:d,headers:p});if(l&&!g.ok)throw new _a(g.statusText,g);return g.headers.get("location")},onSuccess:Am(t)})},Yo=()=>{const e=Ui();return ta({mutationFn:async({uri:n,patch:r})=>{const i=await uu(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:Am(e,n=>n.status===201)})},zc=e=>{const t=Ui();return ta({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:o,language:a="en"})=>{const s=await uu(n);let l="";s.ok&&(l=await s.text());const d=(await Eve(l,{baseIRI:n})).usingType(e);let p="";if(r){const g=d.fromSubject(r);E_(a).using(g),CF(g),o(g),p=await AF(g)}else if(i){const g=d.matchSubject(i.predicate,i.object,i.graph);E_(a).using(g),CF(g),o(g),p=await AF(g)}return await uu(n,{method:"PATCH",body:p,headers:{"content-type":"text/n3"}})},onSuccess:Am(t,n=>n.status===201)})},jw=()=>{const e=Ui();return ta({mutationFn:async({uri:n})=>{await uu(n,{method:"DELETE"})},onSuccess:Am(e)})},v_e=(e,t)=>{const n=jpe(e),r=t.getQueryCache().getAll().filter(o=>o.queryKey[0]===Vr.rdfDocument&&typeof o.queryKey[1]=="string"&&n.includes(o.queryKey[1])).map(o=>o.queryKey[1]);return p_e(r,o=>o.length)},Am=(e,t=()=>!0)=>(n,r)=>{const i=xl(r.uri);if(e.invalidateQueries({queryKey:[Vr.rdfDocument,i]}),e.invalidateQueries({queryKey:[Vr.rdfDocument,O$(i)]}),t(n)){const o=v_e(i,e);o&&e.invalidateQueries({queryKey:[Vr.rdfDocument,o]})}},Ha=(e,t)=>{const n=oo(B.useMemo(()=>({query:GR,variables:{person:e?[e]:[],community:[t]},fetch:Xn}),[t,e])),{variables:r,isLoading:i}=n,o=oo(B.useMemo(()=>({query:H9,variables:{person:e?[e]:[]},fetch:Xn}),[e])),a=B.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(E=>new Zr(n.quads).getQuads(null,null,null,new vr(E))).map(E=>ao(E).usingType(Dw).fromSubject(e)),[n.quads,r.hospexDocumentForCommunity,e]),s=B.useMemo(()=>{const{quads:y}=o;return ao(y).usingType(Gve).fromSubject(e)},[o,e]),l=B.useMemo(()=>Ac({},TF(s),...a.map(y=>TF(y))),[s,a]),f=B.useMemo(()=>a[0]?Fw(a[0],"note"):{},[a]),d=B.useMemo(()=>({id:e,name:l.name??"",photo:l.hasPhoto?.["@id"],about:f,interests:l.topicInterest?.map(y=>y["@id"])??[]}),[f,l.hasPhoto,l.name,l.topicInterest,e]),p=B.useMemo(()=>a.length>0?{id:e,name:a[0]?.name??"",photo:a[0]?.hasPhoto?.["@id"],about:f}:void 0,[f,a,e]),g=B.useMemo(()=>new Zr(n.quads).getQuads(new vr(e),new vr(ml.topic_interest),null,null).map(y=>({id:y.object.id,document:y.graph.id})),[n,e]);return B.useMemo(()=>[d,i,r.hospexDocumentForCommunity?.[0],g,p],[p,g,i,d,r.hospexDocumentForCommunity])},dz=e=>{const{quads:t,isFetched:n}=oo(B.useMemo(()=>({query:Nd,variables:{person:[e]},fetch:Xn,getAdditionalData:i=>({isFetched:i.every(o=>o.isFetched)})}),[e]));return B.useMemo(()=>[ao(t).usingType(Z9).fromSubject(e),{isFetched:n}],[n,e,t])},__e=()=>{const e=zc(Dw);return B.useCallback(async({personId:t,hospexDocument:n,data:r})=>{await e.mutateAsync({uri:n,subject:t,language:"en",transform:i=>{r.name&&(i.name=r.name),r.about&&WR(r.about,i,"note"),r.photo&&(i.hasPhoto={"@id":r.photo})}})},[e])},w_e=()=>{const e=Yo();return B.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${wn.InsertDeletePatch}>;
        <${wn.inserts}> { <${t}> <${ml.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])},b_e=()=>{const e=Yo();return B.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${wn.InsertDeletePatch}>;
        <${wn.deletes}> { <${t}> <${ml.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])};var i2,aj;function S_e(){if(aj)return i2;aj=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return i2=e,i2}var o2,sj;function x_e(){if(sj)return o2;sj=1;var e=Fd(),t=Em();function n(r,i){return r&&e(i,t(i),r)}return o2=n,o2}var a2,uj;function E_e(){if(uj)return a2;uj=1;var e=Fd(),t=Tm();function n(r,i){return r&&e(i,t(i),r)}return a2=n,a2}var s2,lj;function C_e(){if(lj)return s2;lj=1;var e=Fd(),t=RR();function n(r,i){return e(r,t(r),i)}return s2=n,s2}var u2,cj;function hz(){if(cj)return u2;cj=1;var e=AR(),t=QR(),n=RR(),r=Z$(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return u2=o,u2}var l2,fj;function T_e(){if(fj)return l2;fj=1;var e=Fd(),t=hz();function n(r,i){return e(r,t(r),i)}return l2=n,l2}var c2,dj;function pz(){if(dj)return c2;dj=1;var e=G$(),t=hz(),n=Tm();function r(i){return e(i,n,t)}return c2=r,c2}var f2,hj;function A_e(){if(hj)return f2;hj=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return f2=n,f2}var d2,pj;function R_e(){if(pj)return d2;pj=1;var e=ZR();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return d2=t,d2}var h2,mj;function P_e(){if(mj)return h2;mj=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return h2=t,h2}var p2,gj;function O_e(){if(gj)return p2;gj=1;var e=Md(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return p2=r,p2}var m2,yj;function M_e(){if(yj)return m2;yj=1;var e=ZR(),t=R_e(),n=P_e(),r=O_e(),i=ez(),o="[object Boolean]",a="[object Date]",s="[object Map]",l="[object Number]",f="[object RegExp]",d="[object Set]",p="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",E="[object Float64Array]",v="[object Int8Array]",w="[object Int16Array]",C="[object Int32Array]",P="[object Uint8Array]",R="[object Uint8ClampedArray]",k="[object Uint16Array]",M="[object Uint32Array]";function W(ee,z,H){var te=ee.constructor;switch(z){case y:return e(ee);case o:case a:return new te(+ee);case b:return t(ee,H);case x:case E:case v:case w:case C:case P:case R:case k:case M:return i(ee,H);case s:return new te;case l:case p:return new te(ee);case f:return n(ee);case d:return new te;case g:return r(ee)}}return m2=W,m2}var g2,vj;function L_e(){if(vj)return g2;vj=1;var e=Cw(),t=mu(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return g2=r,g2}var y2,_j;function I_e(){if(_j)return y2;_j=1;var e=L_e(),t=OR(),n=MR(),r=n&&n.isMap,i=r?t(r):e;return y2=i,y2}var v2,wj;function k_e(){if(wj)return v2;wj=1;var e=Cw(),t=mu(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return v2=r,v2}var _2,bj;function D_e(){if(bj)return _2;bj=1;var e=k_e(),t=OR(),n=MR(),r=n&&n.isSet,i=r?t(r):e;return _2=i,_2}var w2,Sj;function mz(){if(Sj)return w2;Sj=1;var e=ww(),t=S_e(),n=JR(),r=x_e(),i=E_e(),o=X9(),a=tz(),s=C_e(),l=T_e(),f=X$(),d=pz(),p=Cw(),g=A_e(),y=M_e(),b=nz(),x=Za(),E=Sw(),v=I_e(),w=Ea(),C=D_e(),P=Em(),R=Tm(),k=1,M=2,W=4,ee="[object Arguments]",z="[object Array]",H="[object Boolean]",te="[object Date]",oe="[object Error]",ue="[object Function]",de="[object GeneratorFunction]",se="[object Map]",pe="[object Number]",re="[object Object]",Ee="[object RegExp]",$="[object Set]",Q="[object String]",ce="[object Symbol]",G="[object WeakMap]",X="[object ArrayBuffer]",ge="[object DataView]",xe="[object Float32Array]",Ve="[object Float64Array]",Pe="[object Int8Array]",Be="[object Int16Array]",Je="[object Int32Array]",fe="[object Uint8Array]",V="[object Uint8ClampedArray]",j="[object Uint16Array]",ie="[object Uint32Array]",me={};me[ee]=me[z]=me[X]=me[ge]=me[H]=me[te]=me[xe]=me[Ve]=me[Pe]=me[Be]=me[Je]=me[se]=me[pe]=me[re]=me[Ee]=me[$]=me[Q]=me[ce]=me[fe]=me[V]=me[j]=me[ie]=!0,me[oe]=me[ue]=me[G]=!1;function Te(Le,rt,Ie,ye,Ae,Me){var tt,mt=rt&k,Ye=rt&M,qe=rt&W;if(Ie&&(tt=Ae?Ie(Le,ye,Ae,Me):Ie(Le)),tt!==void 0)return tt;if(!w(Le))return Le;var ae=x(Le);if(ae){if(tt=g(Le),!mt)return a(Le,tt)}else{var K=p(Le),Y=K==ue||K==de;if(E(Le))return o(Le,mt);if(K==re||K==ee||Y&&!Ae){if(tt=Ye||Y?{}:b(Le),!mt)return Ye?l(Le,i(tt,Le)):s(Le,r(tt,Le))}else{if(!me[K])return Ae?Le:{};tt=y(Le,K,mt)}}Me||(Me=new e);var J=Me.get(Le);if(J)return J;Me.set(Le,tt),C(Le)?Le.forEach(function(Ke){tt.add(Te(Ke,rt,Ie,Ke,Le,Me))}):v(Le)&&Le.forEach(function(Ke,Pt){tt.set(Pt,Te(Ke,rt,Ie,Pt,Le,Me))});var Ge=qe?Ye?d:f:Ye?R:P,et=ae?void 0:Ge(Le);return t(et||Le,function(Ke,Pt){et&&(Pt=Ke,Ke=Le[Pt]),n(tt,Pt,Te(Ke,rt,Ie,Pt,Le,Me))}),tt}return w2=Te,w2}var b2,xj;function N_e(){if(xj)return b2;xj=1;var e=mz(),t=1,n=4;function r(i){return e(i,t|n)}return b2=r,b2}var F_e=N_e();const j_e=_r(F_e),U_e=e=>{const{quads:t,variables:n}=oo(B.useMemo(()=>({query:Fve,variables:{person:[e]},staleTime:3e4,fetch:Xn}),[e])),r=B.useMemo(()=>{const i=ao(t).usingType(md);return(n.chat??[]).map(o=>i.fromSubject(o)).map(o=>{const a=o["@id"],s=o.participation?.map(d=>d.references?.map(p=>p["@id"]??[]).flat().filter(p=>!!p)??[]).flat()??[],l=o.participation?.map(d=>d.participant["@id"])??[],f=[o,...(o.participation?.map(d=>d.references).flat()??[]).filter(d=>!!d).map(d=>[...d]).flat()].flatMap(d=>(d.message??[]).map(p=>({id:p["@id"],message:p.content,createdAt:new Date(p.created).getTime(),from:p.maker["@id"],chat:d["@id"]})).sort((p,g)=>p.createdAt-g.createdAt));return{id:a,related:s,participants:l,messages:f}}).sort((o,a)=>([...a.messages].pop()?.createdAt??0)-([...o.messages].pop()?.createdAt??0))},[t,n.chat]);return B.useMemo(()=>({data:r}),[r])},Uw=e=>{const{quads:t,variables:n,isLoading:r}=oo(B.useMemo(()=>({query:Ive,variables:{person:e?[e]:[]},fetch:Xn,staleTime:3e4}),[e])),i=B.useMemo(()=>(n.longChatNotification??[]).map(o=>{const a=ao(t).usingType(Q9).fromSubject(o);return{id:a.object["@id"]??"",message:a.object.content,createdAt:new Date(a.object?.created??a.updated).getTime(),from:a.object.maker?.["@id"]??a.actor?.["@id"],chat:a.target["@id"]??"",otherChats:a.target.participation?.map(s=>s.references?.map(l=>l["@id"]??[]).flat()??[]).flat(),notification:a["@id"],status:"unread"}}),[t,n.longChatNotification]);return B.useMemo(()=>({isLoading:r,data:i}),[r,i])},B_e=e=>{const{data:t}=U_e(e),{data:n}=Uw(e);return{data:B.useMemo(()=>{const i=j_e(t);n.forEach(o=>{const a=i.find(s=>s.related.includes(o.chat)||o.otherChats?.includes(s.id));if(a){a.status="unread";const s=a.messages.findIndex(l=>l.id===o.id);s>-1?a.messages[s]=o:a.messages.push(o)}else i.push({id:o.chat,related:[o.chat],messages:[o],participants:[o.from],status:"new"})});for(const o of i)o.messages.sort((a,s)=>(a?.createdAt??0)-(s?.createdAt??0));return i.sort((o,a)=>([...a.messages].pop()?.createdAt??0)-([...o.messages].pop()?.createdAt??0)),i},[n,t])}};function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mr.apply(this,arguments)}function Rc(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var S2={exports:{}},x2,Ej;function $_e(){if(Ej)return x2;Ej=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return x2=e,x2}var E2,Cj;function z_e(){if(Cj)return E2;Cj=1;var e=$_e();function t(){}function n(){}return n.resetWarningCache=t,E2=function(){function r(a,s,l,f,d,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o},E2}var Tj;function gz(){return Tj||(Tj=1,S2.exports=z_e()()),S2.exports}var gl=LA();const q_e=_r(gl);var yz=function(t){return!!t&&t[0]==="o"},Aj=gl.unstable_batchedUpdates||function(e){return e()},If=function(t,n,r){return r===void 0&&(r=1e-4),Math.abs(t-n)<r},Wp=function(t,n){return t===!0||!!(t&&t[n])},Zo=function(t,n){return typeof t=="function"?t(n):t},vz="_szhsinMenu",H_e=function(t){return t[vz]},V_e=function(t,n){return Object.defineProperty(n,vz,{value:t})},Bw=function(t,n){return n&&Object.keys(n).forEach(function(r){var i=t[r],o=n[r];typeof o=="function"&&i?t[r]=function(){o.apply(void 0,arguments),i.apply(void 0,arguments)}:t[r]=o}),t},K_e=function(t){if(typeof t!="string")return{top:0,right:0,bottom:0,left:0};var n=t.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},C2=function(t){for(;t;){if(t=t.parentNode,!t||t===document.body||!t.parentNode)return;var n=getComputedStyle(t),r=n.overflow,i=n.overflowX,o=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+o+i))return t}};function _z(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function Rj(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var gd=function(t){var n=t.block,r=t.element,i=t.modifiers,o=t.className;return B.useMemo(function(){var a=r?n+"__"+r:n,s=a;i&&Object.keys(i).forEach(function(f){var d=i[f];d&&(s+=" "+a+"--"+(d===!0?f:f+"-"+d))});var l=typeof o=="function"?o(i):o;return typeof l=="string"&&(l=l.trim(),l&&(s+=" "+l)),s},[n,r,i,o])},G_e="szh-menu-container",Ep="szh-menu",W_e="szh-menu-button",Z_e="arrow",Q_e="item",J_e="divider",wz=B.createContext(),bz=B.createContext({}),Pj=B.createContext({}),Sz=B.createContext({}),Y_e=B.createContext({}),YR=B.createContext({}),ya=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),mi=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Zp=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),Cp=Object.freeze({FIRST:"first",LAST:"last"}),X_e=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),T2="absolute",ewe="presentation",xz="menuitem",Oj={"aria-hidden":!0,role:xz},twe=["className","isOpen","disabled","children"],nwe=V_e("MenuButton",B.forwardRef(function(t,n){var r=t.className,i=t.isOpen,o=t.disabled,a=t.children,s=Rc(t,twe),l=B.useMemo(function(){return{open:i}},[i]);return U.jsx("button",Mr({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":o||void 0,type:"button",disabled:o},s,{ref:n,className:gd({block:W_e,modifiers:l,className:r}),children:a}))})),rwe=function(t){var n=t.className,r=t.containerRef,i=t.containerProps,o=t.children,a=t.isOpen,s=t.skipOpen,l=t.theming,f=t.transition,d=t.onClose,p=Wp(f,"item"),g=function(x){var E=x.key;switch(E){case ya.ESC:Zo(d,{key:E,reason:Zp.CANCEL});break}},y=function(x){a&&!x.currentTarget.contains(x.relatedTarget||document.activeElement)&&(Zo(d,{reason:Zp.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return U.jsx("div",Mr({},Bw({onKeyDown:g,onBlur:y},i),{className:gd({block:G_e,modifiers:B.useMemo(function(){return{theme:l,itemTransition:p}},[l,p]),className:n}),style:Mr({position:"absolute"},i?.style),ref:r,children:o}))},iwe=function(){var t,n=0;return{toggle:function(i){i?n++:n--,n=Math.max(n,0)},on:function(i,o,a){n?t||(t=setTimeout(function(){t=0,o()},i)):a?.()},off:function(){t&&(clearTimeout(t),t=0)}}},owe=function(t,n){var r=B.useState(),i=r[0],o=r[1],a=B.useRef({items:[],hoverIndex:-1,sorted:!1}),s=a.current,l=B.useCallback(function(d,p){var g=s.items;if(!d)s.items=[];else if(p)g.push(d);else{var y=g.indexOf(d);y>-1&&(g.splice(y,1),d.contains(document.activeElement)&&(n.current.focus(),o()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),f=B.useCallback(function(d,p,g){var y=s.items,b=s.hoverIndex,x=function(){if(!s.sorted){var C=t.current.querySelectorAll(".szh-menu__item");y.sort(function(P,R){return Rj(C,P)-Rj(C,R)}),s.sorted=!0}},E=-1,v=void 0;switch(d){case mi.RESET:break;case mi.SET:v=p;break;case mi.UNSET:v=function(C){return C===p?void 0:C};break;case mi.FIRST:x(),E=0,v=y[E];break;case mi.LAST:x(),E=y.length-1,v=y[E];break;case mi.SET_INDEX:x(),E=g,v=y[E];break;case mi.INCREASE:x(),E=b,E<0&&(E=y.indexOf(p)),E++,E>=y.length&&(E=0),v=y[E];break;case mi.DECREASE:x(),E=b,E<0&&(E=y.indexOf(p)),E--,E<0&&(E=y.length-1),v=y[E];break}v||(E=-1),o(v),s.hoverIndex=E},[t,s]);return{hoverItem:i,dispatch:f,updateItems:l}},awe=function(t,n,r,i){var o=n.current.getBoundingClientRect(),a=t.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=K_e(i),f=function(E){return E+a.left-s.left-l.left},d=function(E){return E+a.left+o.width-s.right+l.right},p=function(E){return E+a.top-s.top-l.top},g=function(E){return E+a.top+o.height-s.bottom+l.bottom},y=function(E){var v=f(E);if(v<0)E-=v;else{var w=d(E);w>0&&(E-=w,v=f(E),v<0&&(E-=v))}return E},b=function(E){var v=p(E);if(v<0)E-=v;else{var w=g(E);w>0&&(E-=w,v=p(E),v<0&&(E-=v))}return E};return{menuRect:o,containerRect:a,getLeftOverflow:f,getRightOverflow:d,getTopOverflow:p,getBottomOverflow:g,confineHorizontally:y,confineVertically:b}},swe=function(t){var n=t.arrowRef,r=t.menuY,i=t.anchorRect,o=t.containerRect,a=t.menuRect,s=i.top-o.top-r+i.height/2,l=n.current.offsetHeight*1.25;return s=Math.max(l,s),s=Math.min(s,a.height-l),s},uwe=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,o=t.placeLeftorRightY,a=t.placeLeftX,s=t.placeRightX,l=t.getLeftOverflow,f=t.getRightOverflow,d=t.confineHorizontally,p=t.confineVertically,g=t.arrowRef,y=t.arrow,b=t.direction,x=t.position,E=b,v=o;x!=="initial"&&(v=p(v),x==="anchor"&&(v=Math.min(v,n.bottom-r.top),v=Math.max(v,n.top-r.top-i.height)));var w,C,P;E==="left"?(w=a,x!=="initial"&&(C=l(w),C<0&&(P=f(s),(P<=0||-C>P)&&(w=s,E="right")))):(w=s,x!=="initial"&&(P=f(w),P>0&&(C=l(a),(C>=0||-C<P)&&(w=a,E="left")))),x==="auto"&&(w=d(w));var R=y?swe({menuY:v,arrowRef:g,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:R,x:w,y:v,computedDirection:E}},lwe=function(t){var n=t.arrowRef,r=t.menuX,i=t.anchorRect,o=t.containerRect,a=t.menuRect,s=i.left-o.left-r+i.width/2,l=n.current.offsetWidth*1.25;return s=Math.max(l,s),s=Math.min(s,a.width-l),s},cwe=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,o=t.placeToporBottomX,a=t.placeTopY,s=t.placeBottomY,l=t.getTopOverflow,f=t.getBottomOverflow,d=t.confineHorizontally,p=t.confineVertically,g=t.arrowRef,y=t.arrow,b=t.direction,x=t.position,E=b==="top"?"top":"bottom",v=o;x!=="initial"&&(v=d(v),x==="anchor"&&(v=Math.min(v,n.right-r.left),v=Math.max(v,n.left-r.left-i.width)));var w,C,P;E==="top"?(w=a,x!=="initial"&&(C=l(w),C<0&&(P=f(s),(P<=0||-C>P)&&(w=s,E="bottom")))):(w=s,x!=="initial"&&(P=f(w),P>0&&(C=l(a),(C>=0||-C<P)&&(w=a,E="top")))),x==="auto"&&(w=p(w));var R=y?lwe({menuX:v,arrowRef:g,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:R,x:v,y:w,computedDirection:E}},fwe=function(t){var n=t.arrow,r=t.align,i=t.direction,o=t.offsetX,a=t.offsetY,s=t.position,l=t.anchorRect,f=t.arrowRef,d=t.positionHelpers,p=d.menuRect,g=d.containerRect,y=o,b=a;n&&(i==="left"||i==="right"?y+=f.current.offsetWidth:b+=f.current.offsetHeight);var x=l.left-g.left-p.width-y,E=l.right-g.left+y,v=l.top-g.top-p.height-b,w=l.bottom-g.top+b,C,P;r==="end"?(C=l.right-g.left-p.width,P=l.bottom-g.top-p.height):r==="center"?(C=l.left-g.left-(p.width-l.width)/2,P=l.top-g.top-(p.height-l.height)/2):(C=l.left-g.left,P=l.top-g.top),C+=y,P+=b;var R=Mr({},d,{anchorRect:l,placeLeftX:x,placeRightX:E,placeLeftorRightY:P,placeTopY:v,placeBottomY:w,placeToporBottomX:C,arrowRef:f,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return uwe(R);case"top":case"bottom":default:return cwe(R)}},Vv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?B.useLayoutEffect:B.useEffect;function Mj(e,t){typeof e=="function"?e(t):e.current=t}var XR=function(t,n){return B.useMemo(function(){return t?n?function(r){Mj(t,r),Mj(n,r)}:t:n},[t,n])},dwe=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],hwe=function(t){var n=t.ariaLabel,r=t.menuClassName,i=t.menuStyle,o=t.arrowClassName,a=t.arrowStyle,s=t.anchorPoint,l=t.anchorRef,f=t.containerRef,d=t.containerProps,p=t.focusProps,g=t.externalRef,y=t.parentScrollingRef,b=t.arrow,x=t.align,E=x===void 0?"start":x,v=t.direction,w=v===void 0?"bottom":v,C=t.position,P=C===void 0?"auto":C,R=t.overflow,k=R===void 0?"visible":R,M=t.setDownOverflow,W=t.repositionFlag,ee=t.captureFocus,z=ee===void 0?!0:ee,H=t.state,te=t.endTransition,oe=t.isDisabled,ue=t.menuItemFocus,de=t.offsetX,se=de===void 0?0:de,pe=t.offsetY,re=pe===void 0?0:pe,Ee=t.children,$=t.onClose,Q=Rc(t,dwe),ce=B.useState({x:0,y:0}),G=ce[0],X=ce[1],ge=B.useState({}),xe=ge[0],Ve=ge[1],Pe=B.useState(),Be=Pe[0],Je=Pe[1],fe=B.useState(w),V=fe[0],j=fe[1],ie=B.useState(iwe),me=ie[0],Te=B.useReducer(function(Rt){return Rt+1},1),Le=Te[0],rt=Te[1],Ie=B.useContext(YR),ye=Ie.transition,Ae=Ie.boundingBoxRef,Me=Ie.boundingBoxPadding,tt=Ie.rootMenuRef,mt=Ie.rootAnchorRef,Ye=Ie.scrollNodesRef,qe=Ie.reposition,ae=Ie.viewScroll,K=Ie.submenuCloseDelay,Y=B.useContext(Pj),J=Y.submenuCtx,Ge=Y.reposSubmenu,et=Ge===void 0?W:Ge,Ke=B.useRef(null),Pt=B.useRef(),tn=B.useRef(),zt=B.useRef(!1),Zt=B.useRef({width:0,height:0}),Yt=B.useRef(function(){}),ai=owe(Ke,Pt),Tn=ai.hoverItem,nn=ai.dispatch,Er=ai.updateItems,un=yz(H),fr=Wp(ye,"open"),dr=Wp(ye,"close"),Cr=Ye.current,Re=function(wt){switch(wt.key){case ya.HOME:nn(mi.FIRST);break;case ya.END:nn(mi.LAST);break;case ya.UP:nn(mi.DECREASE,Tn);break;case ya.DOWN:nn(mi.INCREASE,Tn);break;case ya.SPACE:wt.target&&wt.target.className.indexOf(Ep)!==-1&&wt.preventDefault();return;default:return}wt.preventDefault(),wt.stopPropagation()},Ue=function(){H==="closing"&&Je(),Zo(te)},Ct=function(wt){wt.stopPropagation(),me.on(K,function(){nn(mi.RESET),Pt.current.focus()})},At=function(wt){wt.target===wt.currentTarget&&me.off()},Dt=B.useCallback(function(Rt){var wt,Nt=l?(wt=l.current)==null?void 0:wt.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(Nt){Cr.menu||(Cr.menu=(Ae?Ae.current:C2(tt.current))||window);var Jt=awe(f,Ke,Cr.menu,Me),cn=fwe({arrow:b,align:E,direction:w,offsetX:se,offsetY:re,position:P,anchorRect:Nt,arrowRef:tn,positionHelpers:Jt}),An=cn.arrowX,Gt=cn.arrowY,pn=cn.x,sr=cn.y,Qr=cn.computedDirection,Ln=Jt.menuRect,hr=Ln.height;if(!Rt&&k!=="visible"){var na=Jt.getTopOverflow,si=Jt.getBottomOverflow,pr,vi,Wi=Zt.current.height,T=si(sr);if(T>0||If(T,0)&&If(hr,Wi))pr=hr-T,vi=T;else{var A=na(sr);(A<0||If(A,0)&&If(hr,Wi))&&(pr=hr+A,vi=0-A,pr>=0&&(sr-=A))}pr>=0?(hr=pr,Je({height:pr,overflowAmt:vi})):Je()}b&&Ve({x:An,y:Gt}),X({x:pn,y:sr}),j(Qr),Zt.current={width:Ln.width,height:hr}}},[b,E,Me,w,se,re,P,k,s,l,f,Ae,tt,Cr]);Vv(function(){un&&(Dt(),zt.current&&rt()),zt.current=un,Yt.current=Dt},[un,Dt,et]),Vv(function(){Be&&!M&&(Ke.current.scrollTop=0)},[Be,M]),Vv(function(){return Er},[Er]),B.useEffect(function(){var Rt=Cr.menu;if(!(!un||!Rt)){if(Rt=Rt.addEventListener?Rt:window,!Cr.anchors){Cr.anchors=[];for(var wt=C2(mt&&mt.current);wt&&wt!==Rt;)Cr.anchors.push(wt),wt=C2(wt)}var Nt=ae;if(Cr.anchors.length&&Nt==="initial"&&(Nt="auto"),Nt!=="initial"){var Jt=function(){Nt==="auto"?Aj(function(){return Dt(!0)}):Zo($,{reason:Zp.SCROLL})},cn=Cr.anchors.concat(ae!=="initial"?Rt:[]);return cn.forEach(function(An){return An.addEventListener("scroll",Jt)}),function(){return cn.forEach(function(An){return An.removeEventListener("scroll",Jt)})}}}},[mt,Cr,un,$,ae,Dt]);var $e=!!Be&&Be.overflowAmt>0;B.useEffect(function(){if(!($e||!un||!y)){var Rt=function(){return Aj(Dt)},wt=y.current;return wt.addEventListener("scroll",Rt),function(){return wt.removeEventListener("scroll",Rt)}}},[un,$e,y,Dt]),B.useEffect(function(){if(!(typeof ResizeObserver!="function"||qe==="initial")){var Rt=new ResizeObserver(function(Nt){var Jt=Nt[0],cn=Jt.borderBoxSize,An=Jt.target,Gt,pn;if(cn){var sr=cn[0]||cn,Qr=sr.inlineSize,Ln=sr.blockSize;Gt=Qr,pn=Ln}else{var hr=An.getBoundingClientRect();Gt=hr.width,pn=hr.height}Gt===0||pn===0||If(Gt,Zt.current.width,1)&&If(pn,Zt.current.height,1)||gl.flushSync(function(){Yt.current(),rt()})}),wt=Ke.current;return Rt.observe(wt,{box:"border-box"}),function(){return Rt.unobserve(wt)}}},[qe]),B.useEffect(function(){if(!un){nn(mi.RESET),dr||Je();return}var Rt=ue||{},wt=Rt.position,Nt=Rt.alwaysUpdate,Jt=function(){wt===Cp.FIRST?nn(mi.FIRST):wt===Cp.LAST?nn(mi.LAST):wt>=-1&&nn(mi.SET_INDEX,void 0,wt)};if(Nt)Jt();else if(z){var cn=setTimeout(function(){Ke.current.contains(document.activeElement)||(Pt.current.focus(),Jt())},fr?170:100);return function(){return clearTimeout(cn)}}},[un,fr,dr,z,ue,nn]);var Xe=B.useMemo(function(){return{isParentOpen:un,submenuCtx:me,dispatch:nn,updateItems:Er}},[un,me,nn,Er]),ut,lt;Be&&(M?lt=Be.overflowAmt:ut=Be.height);var Ot=B.useMemo(function(){return{reposSubmenu:Le,submenuCtx:me,overflow:k,overflowAmt:lt,parentMenuRef:Ke,parentDir:V}},[Le,me,k,lt,V]),qt=ut>=0?{maxHeight:ut,overflow:k}:void 0,jt=B.useMemo(function(){return{state:H,dir:V}},[H,V]),Lt=B.useMemo(function(){return{dir:V}},[V]),It=gd({block:Ep,element:Z_e,modifiers:Lt,className:o}),Bt=U.jsxs("ul",Mr({role:"menu","aria-label":n},_z(oe),Bw({onPointerEnter:J?.off,onPointerMove:Ct,onPointerLeave:At,onKeyDown:Re,onAnimationEnd:Ue},Q),{ref:XR(g,Ke),className:gd({block:Ep,modifiers:jt,className:r}),style:Mr({},i,qt,{margin:0,display:H==="closed"?"none":void 0,position:T2,left:G.x,top:G.y}),children:[U.jsx("li",Mr({tabIndex:-1,style:{position:T2,left:0,top:0,display:"block",outline:"none"},ref:Pt},Oj,p)),b&&U.jsx("li",Mr({className:It,style:Mr({display:"block",position:T2,left:xe.x,top:xe.y},a),ref:tn},Oj)),U.jsx(Pj.Provider,{value:Ot,children:U.jsx(bz.Provider,{value:Xe,children:U.jsx(wz.Provider,{value:Tn,children:Zo(Ee,jt)})})})]}));return d?U.jsx(rwe,Mr({},d,{isOpen:un,children:Bt})):Bt},pwe=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],mwe=B.forwardRef(function(t,n){var r=t["aria-label"],i=t.className,o=t.containerProps,a=t.initialMounted,s=t.unmountOnClose,l=t.transition,f=t.transitionTimeout,d=t.boundingBoxRef,p=t.boundingBoxPadding,g=t.reposition,y=g===void 0?"auto":g,b=t.submenuOpenDelay,x=b===void 0?300:b,E=t.submenuCloseDelay,v=E===void 0?150:E,w=t.skipOpen,C=t.viewScroll,P=C===void 0?"initial":C,R=t.portal,k=t.theming,M=t.onItemClick,W=Rc(t,pwe),ee=B.useRef(null),z=B.useRef({}),H=W.anchorRef,te=W.state,oe=W.onClose,ue=B.useMemo(function(){return{initialMounted:a,unmountOnClose:s,transition:l,transitionTimeout:f,boundingBoxRef:d,boundingBoxPadding:p,rootMenuRef:ee,rootAnchorRef:H,scrollNodesRef:z,reposition:y,viewScroll:P,submenuOpenDelay:x,submenuCloseDelay:v}},[a,s,l,f,H,d,p,y,P,x,v]),de=B.useMemo(function(){return{handleClick:function(re,Ee){re.stopPropagation||Zo(M,re);var $=re.keepOpen;$===void 0&&($=Ee&&re.key===ya.SPACE),$||Zo(oe,{value:re.value,key:re.key,reason:Zp.CLICK})},handleClose:function(re){Zo(oe,{key:re,reason:Zp.CLICK})}}},[M,oe]);if(!te)return null;var se=U.jsx(YR.Provider,{value:ue,children:U.jsx(Sz.Provider,{value:de,children:U.jsx(hwe,Mr({},W,{ariaLabel:r||"Menu",externalRef:n,containerRef:ee,containerProps:{className:i,containerRef:ee,containerProps:o,skipOpen:w,theming:k,transition:l,onClose:oe}}))})});return R===!0&&typeof document<"u"?gl.createPortal(se,document.body):R?R.target?gl.createPortal(se,R.target):R.stablePosition?null:se:se}),A2=0,R2=1,vy=2,P2=3,O2=4,gwe=5,ywe=6,Ez=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],M2=function(t){return t?ywe:gwe},Lj=function(t,n,r,i,o){clearTimeout(i.current),n(t),r.current=t,o&&o({state:Ez[t]})},vwe=function(t){var n=t===void 0?{}:t,r=n.enter,i=r===void 0?!0:r,o=n.exit,a=o===void 0?!0:o,s=n.preEnter,l=n.preExit,f=n.timeout,d=n.initialEntered,p=n.mountOnEnter,g=n.unmountOnExit,y=n.onChange,b=B.useState(d?vy:M2(p)),x=b[0],E=b[1],v=B.useRef(x),w=B.useRef(),C,P;typeof f=="object"?(C=f.enter,P=f.exit):C=P=f;var R=B.useCallback(function(){var M;switch(v.current){case R2:case A2:M=vy;break;case O2:case P2:M=M2(g);break}M!==void 0&&Lj(M,E,v,w,y)},[y,g]),k=B.useCallback(function(M){var W=function z(H){switch(Lj(H,E,v,w,y),H){case R2:C>=0&&(w.current=setTimeout(R,C));break;case O2:P>=0&&(w.current=setTimeout(R,P));break;case A2:case P2:w.current=setTimeout(function(){return z(H+1)},0);break}},ee=v.current<=vy;typeof M!="boolean"&&(M=!ee),M?ee||W(i?s?A2:R2:vy):ee&&W(a?l?P2:O2:M2(g))},[R,y,i,a,s,l,C,P,g]);return B.useEffect(function(){return function(){return clearTimeout(w.current)}},[]),[Ez[x],k,R]},_we=function(t){var n=t===void 0?{}:t,r=n.initialOpen,i=n.initialMounted,o=n.unmountOnClose,a=n.transition,s=n.transitionTimeout,l=s===void 0?500:s,f=vwe({initialEntered:r,mountOnEnter:!i,unmountOnExit:o,timeout:l,enter:Wp(a,"open"),exit:Wp(a,"close")}),d=f[0],p=f[1],g=f[2];return[{state:X_e[d],endTransition:g},p]},wwe=function(t){var n=_we(t),r=n[0],i=n[1],o=B.useState(),a=o[0],s=o[1],l=function(d,p){s({position:d,alwaysUpdate:p}),i(!0)};return[Mr({menuItemFocus:a},r),i,l]},bwe=function(t,n){var r=B.useState({}),i=r[0];return{onMouseDown:function(){i.v=t&&t!=="closed"},onClick:function(a){return i.v?i.v=!1:n(!0,a)}}},Swe=function(t,n){var r=B.useRef(n);B.useEffect(function(){r.current!==n&&Zo(t,{open:n}),r.current=n},[t,n])},xwe=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],Ewe=B.forwardRef(function(t,n){var r=t["aria-label"],i=t.menuButton,o=t.instanceRef,a=t.onMenuChange,s=Rc(t,xwe),l=wwe(s),f=l[0],d=l[1],p=l[2],g=f.state,y=yz(g),b=B.useRef(null),x=bwe(g,function(R,k){return p(k.detail?void 0:Cp.FIRST)}),E=B.useCallback(function(R){d(!1),R.key&&setTimeout(function(){var k;return(k=b.current)==null?void 0:k.focus()},0)},[d]),v=function(k){switch(k.key){case ya.UP:p(Cp.LAST);break;case ya.DOWN:p(Cp.FIRST);break;default:return}k.preventDefault()},w=Zo(i,{open:y});if(!w||!w.type)throw new Error("Menu requires a menuButton prop.");var C=Mr({ref:XR(w.ref,b)},Bw(Mr({onKeyDown:v},x),w.props));H_e(w.type)==="MenuButton"&&(C.isOpen=y);var P=B.cloneElement(w,C);return Swe(a,y),B.useImperativeHandle(o,function(){return{openMenu:p,closeMenu:function(){return d(!1)}}}),U.jsxs(B.Fragment,{children:[P,U.jsx(mwe,Mr({},s,f,{"aria-label":r||(typeof w.props.children=="string"?w.props.children:"Menu"),anchorRef:b,ref:n,onClose:E}))]})}),Cwe=function(t,n){var r=B.memo(n),i=B.forwardRef(function(o,a){var s=B.useRef(null);return U.jsx(r,Mr({},o,{itemRef:s,externalRef:a,isHovering:B.useContext(wz)===s.current}))});return i.displayName="WithHovering("+t+")",i},Twe=function(t,n,r){Vv(function(){if(!t){var i=n.current;return r(i,!0),function(){r(i)}}},[t,n,r])},Awe=function(t,n,r,i){var o=B.useContext(YR),a=o.submenuCloseDelay,s=B.useContext(bz),l=s.isParentOpen,f=s.submenuCtx,d=s.dispatch,p=s.updateItems,g=function(){!r&&!i&&d(mi.SET,t.current)},y=function(){!i&&d(mi.UNSET,t.current)},b=function(w){r&&!w.currentTarget.contains(w.relatedTarget)&&y()},x=function(w){i||(w.stopPropagation(),f.on(a,g,g))},E=function(w,C){f.off(),!C&&y()};return Twe(i,t,p),B.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:g,onBlur:b,onPointerMove:x,onPointerLeave:E}},Rwe=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],Pwe=["setHover"],kf=Cwe("MenuItem",function(t){var n=t.className,r=t.value,i=t.href,o=t.type,a=t.checked,s=t.disabled,l=t.children,f=t.onClick,d=t.isHovering,p=t.itemRef,g=t.externalRef,y=Rc(t,Rwe),b=!!s,x=Awe(p,p,d,b),E=x.setHover,v=Rc(x,Pwe),w=B.useContext(Sz),C=B.useContext(Y_e),P=o==="radio",R=o==="checkbox",k=!!i&&!b&&!P&&!R,M=P?C.value===r:R?!!a:!1,W=function(ue){if(b){ue.stopPropagation(),ue.preventDefault();return}var de={value:r,syntheticEvent:ue};ue.key!==void 0&&(de.key=ue.key),R&&(de.checked=!M),P&&(de.name=C.name),Zo(f,de),P&&Zo(C.onRadioChange,de),w.handleClick(de,R||P)},ee=function(ue){if(d)switch(ue.key){case ya.ENTER:case ya.SPACE:k?ue.key===ya.SPACE&&p.current.click():W(ue)}},z=B.useMemo(function(){return{type:o,disabled:b,hover:d,checked:M,anchor:k}},[o,b,d,M,k]),H=Bw(Mr({},v,{onPointerDown:E,onKeyDown:ee,onClick:W}),y),te=Mr({role:P?"menuitemradio":R?"menuitemcheckbox":xz,"aria-checked":P||R?M:void 0},_z(b,d),H,{ref:XR(g,p),className:gd({block:Ep,element:Q_e,modifiers:z,className:n}),children:B.useMemo(function(){return Zo(l,z)},[l,z])});return k?U.jsx("li",{role:ewe,children:U.jsx("a",Mr({href:i},te))}):U.jsx("li",Mr({},te))}),Owe=["className"],Mwe=B.memo(B.forwardRef(function(t,n){var r=t.className,i=Rc(t,Owe);return U.jsx("li",Mr({role:"separator"},i,{ref:n,className:gd({block:Ep,element:J_e,className:r})}))})),L2,Ij;function Lwe(){return Ij||(Ij=1,L2=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),L2}var Iwe=Lwe();const Xo=_r(Iwe),kwe=()=>{const{communityId:e}=Mn(),t=Dr(Cd),[n]=Ha(t.webId??"",e),{data:r}=Uw(t.webId??""),i=Dr(XA),o=r.length;return U.jsxs(Ewe,{menuButton:U.jsx(nwe,{"data-cy":"menu-button",children:U.jsx(mw,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[U.jsx(kf,{children:U.jsx(ga,{to:"profile",children:n?.name||U.jsx(_t,{id:"bbvfbr"})})}),U.jsx(kf,{children:U.jsx(ga,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:U.jsx(_t,{id:"HecDqj"})})}),U.jsx(kf,{children:U.jsxs(ga,{to:"messages",children:[U.jsx(_t,{id:"gHFvtg"}),o?U.jsxs(U.Fragment,{children:[" ",U.jsx(_t,{id:"GbJuzd",values:{messageCount:o}})]}):null]})}),U.jsx(kf,{children:U.jsx(ga,{to:`profile/${Xo(t.webId)}/contacts`,children:U.jsx(_t,{id:"2LDW9H"})})}),U.jsx(kf,{children:U.jsx(ga,{to:"host/offers",children:U.jsx(_t,{id:"BJjAHC"})})}),U.jsx(Mwe,{}),U.jsx(kf,{children:U.jsx(Kve,{})})]})},Dwe=()=>{const{communityId:e}=Mn(),t=Dr(Cd),n=Dr(xa),r=gu(e,n,Ed);return U.jsxs("nav",{className:yy.header,children:[U.jsx(ga,{className:yy.logoContainer,to:"/","data-cy":"header-logo-link",children:U.jsx($$,{logo:r.logo[0],focusedLogo:r.logo[1],name:r.name||(r.isLoading?"...":"Home"),className:yy.logo})}),U.jsx("div",{className:yy.spacer}),U.jsx($ve,{}),U.jsx(Rme,{}),t.isLoggedIn===!0&&U.jsx(kwe,{}),t.isLoggedIn===void 0&&U.jsx(U.Fragment,{children:"..."})]})},Nwe=(e,t="en")=>dm({queryKey:[Vr.wikidataSearch,e,t],queryFn:()=>Fwe(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),Fwe=async(e,t)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${Xo(e)}&language=${t}&limit=20&continue=0&format=json&uselang=${t}&type=item&origin=*`)).json()).search.map(({concepturi:i,...o})=>Ac({aliases:[],photos:[]},{...o,uri:i})),jwe=(e,t="en")=>dm({queryKey:[Vr.wikidataEntity,e,t],queryFn:()=>Uwe(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),Uwe=async(e,t)=>{const n=e.match(Bwe)?.[2]??"";if(!n)return{};const r=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${t}&format=json&origin=*`);if(!r.ok)throw new _a("Fetching interest failed",r);const i=await r.json();if(!i||!i.entities)return{};const o=i.entities[n];if(!o)return{};const a=o.labels[t]?.value,s=o.descriptions[t]?.value,l=(o.claims.P18??[]).map(b=>b.mainsnak.datavalue?.value)[0],f=(o.claims.P154??[]).map(b=>b.mainsnak.datavalue?.value)[0],d=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${Xo(l)}?width=300`,p=f&&`https://commons.wikimedia.org/wiki/Special:FilePath/${Xo(f)}?width=300`,g=(o.claims.P856??[]).map(b=>b.mainsnak.datavalue?.value)[0],y=(o.aliases[t]??[]).map(({value:b})=>b);return{id:n,uri:e,label:a,aliases:y,description:s,officialWebsite:g,image:p||d}},Bwe=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;function kj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cz(...e){return t=>{let n=!1;const r=e.map(i=>{const o=kj(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():kj(e[i],null)}}}}function Ao(...e){return B.useCallback(Cz(...e),e)}function Qp(e){const t=$we(e),n=B.forwardRef((r,i)=>{const{children:o,...a}=r,s=B.Children.toArray(o),l=s.find(qwe);if(l){const f=l.props.children,d=s.map(p=>p===l?B.Children.count(f)>1?B.Children.only(null):B.isValidElement(f)?f.props.children:null:p);return U.jsx(t,{...a,ref:i,children:B.isValidElement(f)?B.cloneElement(f,void 0,d):null})}return U.jsx(t,{...a,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}function $we(e){const t=B.forwardRef((n,r)=>{const{children:i,...o}=n;if(B.isValidElement(i)){const a=Vwe(i),s=Hwe(o,i.props);return i.type!==B.Fragment&&(s.ref=r?Cz(r,a):a),B.cloneElement(i,s)}return B.Children.count(i)>1?B.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zwe=Symbol("radix.slottable");function qwe(e){return B.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zwe}function Hwe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{const l=o(...s);return i(...s),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function Vwe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Kwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nr=Kwe.reduce((e,t)=>{const n=Qp(`Primitive.${t}`),r=B.forwardRef((i,o)=>{const{asChild:a,...s}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),U.jsx(l,{...s,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Gwe(e,t){e&&gl.flushSync(()=>e.dispatchEvent(t))}function Wwe(e,t){const n=B.createContext(t),r=o=>{const{children:a,...s}=o,l=B.useMemo(()=>s,Object.values(s));return U.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(o){const a=B.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,i]}function qc(e,t=[]){let n=[];function r(o,a){const s=B.createContext(a),l=n.length;n=[...n,a];const f=p=>{const{scope:g,children:y,...b}=p,x=g?.[e]?.[l]||s,E=B.useMemo(()=>b,Object.values(b));return U.jsx(x.Provider,{value:E,children:y})};f.displayName=o+"Provider";function d(p,g){const y=g?.[e]?.[l]||s,b=B.useContext(y);if(b)return b;if(a!==void 0)return a;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[f,d]}const i=()=>{const o=n.map(a=>B.createContext(a));return function(s){const l=s?.[e]||o;return B.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,Zwe(i,...t)]}function Zwe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:f})=>{const p=l(o)[`__scope${f}`];return{...s,...p}},{});return B.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Qwe(e){const t=e+"CollectionProvider",[n,r]=qc(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:E,children:v}=x,w=St.useRef(null),C=St.useRef(new Map).current;return U.jsx(i,{scope:E,itemMap:C,collectionRef:w,children:v})};a.displayName=t;const s=e+"CollectionSlot",l=Qp(s),f=St.forwardRef((x,E)=>{const{scope:v,children:w}=x,C=o(s,v),P=Ao(E,C.collectionRef);return U.jsx(l,{ref:P,children:w})});f.displayName=s;const d=e+"CollectionItemSlot",p="data-radix-collection-item",g=Qp(d),y=St.forwardRef((x,E)=>{const{scope:v,children:w,...C}=x,P=St.useRef(null),R=Ao(E,P),k=o(d,v);return St.useEffect(()=>(k.itemMap.set(P,{ref:P,...C}),()=>void k.itemMap.delete(P))),U.jsx(g,{[p]:"",ref:R,children:w})});y.displayName=d;function b(x){const E=o(e+"CollectionConsumer",x);return St.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(E.itemMap.values()).sort((k,M)=>C.indexOf(k.ref.current)-C.indexOf(M.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:f,ItemSlot:y},b,r]}function kr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}var yl=globalThis?.document?B.useLayoutEffect:()=>{},Jwe=kp[" useInsertionEffect ".trim().toString()]||yl;function Hc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,o,a]=Ywe({defaultProp:t,onChange:n}),s=e!==void 0,l=s?e:i;{const d=B.useRef(e!==void 0);B.useEffect(()=>{const p=d.current;p!==s&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${s?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=s},[s,r])}const f=B.useCallback(d=>{if(s){const p=Xwe(d)?d(e):d;p!==e&&a.current?.(p)}else o(d)},[s,e,o,a]);return[l,f]}function Ywe({defaultProp:e,onChange:t}){const[n,r]=B.useState(e),i=B.useRef(n),o=B.useRef(t);return Jwe(()=>{o.current=t},[t]),B.useEffect(()=>{i.current!==n&&(o.current?.(n),i.current=n)},[n,i]),[n,r,o]}function Xwe(e){return typeof e=="function"}function e0e(e,t){return B.useReducer((n,r)=>t[n][r]??n,e)}var Vc=e=>{const{present:t,children:n}=e,r=t0e(t),i=typeof n=="function"?n({present:r.isPresent}):B.Children.only(n),o=Ao(r.ref,n0e(i));return typeof n=="function"||r.isPresent?B.cloneElement(i,{ref:o}):null};Vc.displayName="Presence";function t0e(e){const[t,n]=B.useState(),r=B.useRef(null),i=B.useRef(e),o=B.useRef("none"),a=e?"mounted":"unmounted",[s,l]=e0e(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return B.useEffect(()=>{const f=_y(r.current);o.current=s==="mounted"?f:"none"},[s]),yl(()=>{const f=r.current,d=i.current;if(d!==e){const g=o.current,y=_y(f);e?l("MOUNT"):y==="none"||f?.display==="none"?l("UNMOUNT"):l(d&&g!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),yl(()=>{if(t){let f;const d=t.ownerDocument.defaultView??window,p=y=>{const x=_y(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&x&&(l("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",f=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},g=y=>{y.target===t&&(o.current=_y(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{d.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:B.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function _y(e){return e?.animationName||"none"}function n0e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var r0e=kp[" useId ".trim().toString()]||(()=>{}),i0e=0;function id(e){const[t,n]=B.useState(r0e());return yl(()=>{n(r=>r??String(i0e++))},[e]),e||(t?`radix-${t}`:"")}var o0e=B.createContext(void 0);function eP(e){const t=B.useContext(o0e);return e||t||"ltr"}function Pc(e){const t=B.useRef(e);return B.useEffect(()=>{t.current=e}),B.useMemo(()=>(...n)=>t.current?.(...n),[])}function a0e(e,t=globalThis?.document){const n=Pc(e);B.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var s0e="DismissableLayer",VT="dismissableLayer.update",u0e="dismissableLayer.pointerDownOutside",l0e="dismissableLayer.focusOutside",Dj,Tz=B.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),tP=B.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:s,...l}=e,f=B.useContext(Tz),[d,p]=B.useState(null),g=d?.ownerDocument??globalThis?.document,[,y]=B.useState({}),b=Ao(t,M=>p(M)),x=Array.from(f.layers),[E]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(E),w=d?x.indexOf(d):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,P=w>=v,R=d0e(M=>{const W=M.target,ee=[...f.branches].some(z=>z.contains(W));!P||ee||(i?.(M),a?.(M),M.defaultPrevented||s?.())},g),k=h0e(M=>{const W=M.target;[...f.branches].some(z=>z.contains(W))||(o?.(M),a?.(M),M.defaultPrevented||s?.())},g);return a0e(M=>{w===f.layers.size-1&&(r?.(M),!M.defaultPrevented&&s&&(M.preventDefault(),s()))},g),B.useEffect(()=>{if(d)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Dj=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(d)),f.layers.add(d),Nj(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Dj)}},[d,g,n,f]),B.useEffect(()=>()=>{d&&(f.layers.delete(d),f.layersWithOutsidePointerEventsDisabled.delete(d),Nj())},[d,f]),B.useEffect(()=>{const M=()=>y({});return document.addEventListener(VT,M),()=>document.removeEventListener(VT,M)},[]),U.jsx(Nr.div,{...l,ref:b,style:{pointerEvents:C?P?"auto":"none":void 0,...e.style},onFocusCapture:kr(e.onFocusCapture,k.onFocusCapture),onBlurCapture:kr(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:kr(e.onPointerDownCapture,R.onPointerDownCapture)})});tP.displayName=s0e;var c0e="DismissableLayerBranch",f0e=B.forwardRef((e,t)=>{const n=B.useContext(Tz),r=B.useRef(null),i=Ao(t,r);return B.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),U.jsx(Nr.div,{...e,ref:i})});f0e.displayName=c0e;function d0e(e,t=globalThis?.document){const n=Pc(e),r=B.useRef(!1),i=B.useRef(()=>{});return B.useEffect(()=>{const o=s=>{if(s.target&&!r.current){let l=function(){Az(u0e,n,f,{discrete:!0})};const f={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function h0e(e,t=globalThis?.document){const n=Pc(e),r=B.useRef(!1);return B.useEffect(()=>{const i=o=>{o.target&&!r.current&&Az(l0e,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Nj(){const e=new CustomEvent(VT);document.dispatchEvent(e)}function Az(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Gwe(i,o):i.dispatchEvent(o)}var I2="focusScope.autoFocusOnMount",k2="focusScope.autoFocusOnUnmount",Fj={bubbles:!1,cancelable:!0},p0e="FocusScope",nP=B.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...a}=e,[s,l]=B.useState(null),f=Pc(i),d=Pc(o),p=B.useRef(null),g=Ao(t,x=>l(x)),y=B.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;B.useEffect(()=>{if(r){let x=function(C){if(y.paused||!s)return;const P=C.target;s.contains(P)?p.current=P:nl(p.current,{select:!0})},E=function(C){if(y.paused||!s)return;const P=C.relatedTarget;P!==null&&(s.contains(P)||nl(p.current,{select:!0}))},v=function(C){if(document.activeElement===document.body)for(const R of C)R.removedNodes.length>0&&nl(s)};document.addEventListener("focusin",x),document.addEventListener("focusout",E);const w=new MutationObserver(v);return s&&w.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",E),w.disconnect()}}},[r,s,y.paused]),B.useEffect(()=>{if(s){Uj.add(y);const x=document.activeElement;if(!s.contains(x)){const v=new CustomEvent(I2,Fj);s.addEventListener(I2,f),s.dispatchEvent(v),v.defaultPrevented||(m0e(w0e(Rz(s)),{select:!0}),document.activeElement===x&&nl(s))}return()=>{s.removeEventListener(I2,f),setTimeout(()=>{const v=new CustomEvent(k2,Fj);s.addEventListener(k2,d),s.dispatchEvent(v),v.defaultPrevented||nl(x??document.body,{select:!0}),s.removeEventListener(k2,d),Uj.remove(y)},0)}}},[s,f,d,y]);const b=B.useCallback(x=>{if(!n&&!r||y.paused)return;const E=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(E&&v){const w=x.currentTarget,[C,P]=g0e(w);C&&P?!x.shiftKey&&v===P?(x.preventDefault(),n&&nl(C,{select:!0})):x.shiftKey&&v===C&&(x.preventDefault(),n&&nl(P,{select:!0})):v===w&&x.preventDefault()}},[n,r,y.paused]);return U.jsx(Nr.div,{tabIndex:-1,...a,ref:g,onKeyDown:b})});nP.displayName=p0e;function m0e(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(nl(r,{select:t}),document.activeElement!==n)return}function g0e(e){const t=Rz(e),n=jj(t,e),r=jj(t.reverse(),e);return[n,r]}function Rz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jj(e,t){for(const n of e)if(!y0e(n,{upTo:t}))return n}function y0e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function v0e(e){return e instanceof HTMLInputElement&&"select"in e}function nl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&v0e(e)&&t&&e.select()}}var Uj=_0e();function _0e(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Bj(e,t),e.unshift(t)},remove(t){e=Bj(e,t),e[0]?.resume()}}}function Bj(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function w0e(e){return e.filter(t=>t.tagName!=="A")}var b0e="Portal",rP=B.forwardRef((e,t)=>{const{container:n,...r}=e,[i,o]=B.useState(!1);yl(()=>o(!0),[]);const a=n||i&&globalThis?.document?.body;return a?q_e.createPortal(U.jsx(Nr.div,{...r,ref:t}),a):null});rP.displayName=b0e;var D2=0;function Pz(){B.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$j()),document.body.insertAdjacentElement("beforeend",e[1]??$j()),D2++,()=>{D2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),D2--}},[])}function $j(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var gs=function(){return gs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},gs.apply(this,arguments)};function Oz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function S0e(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Kv="right-scroll-bar-position",Gv="width-before-scroll-bar",x0e="with-scroll-bars-hidden",E0e="--removed-body-scroll-bar-size";function N2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function C0e(e,t){var n=B.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var T0e=typeof window<"u"?B.useLayoutEffect:B.useEffect,zj=new WeakMap;function A0e(e,t){var n=C0e(null,function(r){return e.forEach(function(i){return N2(i,r)})});return T0e(function(){var r=zj.get(n);if(r){var i=new Set(r),o=new Set(e),a=n.current;i.forEach(function(s){o.has(s)||N2(s,null)}),o.forEach(function(s){i.has(s)||N2(s,a)})}zj.set(n,e)},[e]),n}function R0e(e){return e}function P0e(e,t){t===void 0&&(t=R0e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var a=t(o,r);return n.push(a),function(){n=n.filter(function(s){return s!==a})}},assignSyncMedium:function(o){for(r=!0;n.length;){var a=n;n=[],a.forEach(o)}n={push:function(s){return o(s)},filter:function(){return n}}},assignMedium:function(o){r=!0;var a=[];if(n.length){var s=n;n=[],s.forEach(o),a=n}var l=function(){var d=a;a=[],d.forEach(o)},f=function(){return Promise.resolve().then(l)};f(),n={push:function(d){a.push(d),f()},filter:function(d){return a=a.filter(d),n}}}};return i}function O0e(e){e===void 0&&(e={});var t=P0e(null);return t.options=gs({async:!0,ssr:!1},e),t}var Mz=function(e){var t=e.sideCar,n=Oz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return B.createElement(r,gs({},n))};Mz.isSideCarExport=!0;function M0e(e,t){return e.useMedium(t),Mz}var Lz=O0e(),F2=function(){},$w=B.forwardRef(function(e,t){var n=B.useRef(null),r=B.useState({onScrollCapture:F2,onWheelCapture:F2,onTouchMoveCapture:F2}),i=r[0],o=r[1],a=e.forwardProps,s=e.children,l=e.className,f=e.removeScrollBar,d=e.enabled,p=e.shards,g=e.sideCar,y=e.noRelative,b=e.noIsolation,x=e.inert,E=e.allowPinchZoom,v=e.as,w=v===void 0?"div":v,C=e.gapMode,P=Oz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=g,k=A0e([n,t]),M=gs(gs({},P),i);return B.createElement(B.Fragment,null,d&&B.createElement(R,{sideCar:Lz,removeScrollBar:f,shards:p,noRelative:y,noIsolation:b,inert:x,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:C}),a?B.cloneElement(B.Children.only(s),gs(gs({},M),{ref:k})):B.createElement(w,gs({},M,{className:l,ref:k}),s))});$w.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$w.classNames={fullWidth:Gv,zeroRight:Kv};var L0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function I0e(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=L0e();return t&&e.setAttribute("nonce",t),e}function k0e(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function D0e(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var N0e=function(){var e=0,t=null;return{add:function(n){e==0&&(t=I0e())&&(k0e(t,n),D0e(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},F0e=function(){var e=N0e();return function(t,n){B.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Iz=function(){var e=F0e(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},j0e={left:0,top:0,right:0,gap:0},j2=function(e){return parseInt(e||"",10)||0},U0e=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[j2(n),j2(r),j2(i)]},B0e=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return j0e;var t=U0e(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},$0e=Iz(),od="data-scroll-locked",z0e=function(e,t,n,r){var i=e.left,o=e.top,a=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(x0e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Kv,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Gv,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(Kv," .").concat(Kv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gv," .").concat(Gv,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(od,`] {
    `).concat(E0e,": ").concat(s,`px;
  }
`)},qj=function(){var e=parseInt(document.body.getAttribute(od)||"0",10);return isFinite(e)?e:0},q0e=function(){B.useEffect(function(){return document.body.setAttribute(od,(qj()+1).toString()),function(){var e=qj()-1;e<=0?document.body.removeAttribute(od):document.body.setAttribute(od,e.toString())}},[])},H0e=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;q0e();var o=B.useMemo(function(){return B0e(i)},[i]);return B.createElement($0e,{styles:z0e(o,!t,i,n?"":"!important")})},KT=!1;if(typeof window<"u")try{var wy=Object.defineProperty({},"passive",{get:function(){return KT=!0,!0}});window.addEventListener("test",wy,wy),window.removeEventListener("test",wy,wy)}catch{KT=!1}var Df=KT?{passive:!1}:!1,V0e=function(e){return e.tagName==="TEXTAREA"},kz=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!V0e(e)&&n[t]==="visible")},K0e=function(e){return kz(e,"overflowY")},G0e=function(e){return kz(e,"overflowX")},Hj=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Dz(e,r);if(i){var o=Nz(e,r),a=o[1],s=o[2];if(a>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},W0e=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Z0e=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Dz=function(e,t){return e==="v"?K0e(t):G0e(t)},Nz=function(e,t){return e==="v"?W0e(t):Z0e(t)},Q0e=function(e,t){return e==="h"&&t==="rtl"?-1:1},J0e=function(e,t,n,r,i){var o=Q0e(e,window.getComputedStyle(t).direction),a=o*r,s=n.target,l=t.contains(s),f=!1,d=a>0,p=0,g=0;do{if(!s)break;var y=Nz(e,s),b=y[0],x=y[1],E=y[2],v=x-E-o*b;(b||v)&&Dz(e,s)&&(p+=v,g+=b);var w=s.parentNode;s=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&Math.abs(p)<1||!d&&Math.abs(g)<1)&&(f=!0),f},by=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Vj=function(e){return[e.deltaX,e.deltaY]},Kj=function(e){return e&&"current"in e?e.current:e},Y0e=function(e,t){return e[0]===t[0]&&e[1]===t[1]},X0e=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ebe=0,Nf=[];function tbe(e){var t=B.useRef([]),n=B.useRef([0,0]),r=B.useRef(),i=B.useState(ebe++)[0],o=B.useState(Iz)[0],a=B.useRef(e);B.useEffect(function(){a.current=e},[e]),B.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var x=S0e([e.lockRef.current],(e.shards||[]).map(Kj),!0).filter(Boolean);return x.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=B.useCallback(function(x,E){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var v=by(x),w=n.current,C="deltaX"in x?x.deltaX:w[0]-v[0],P="deltaY"in x?x.deltaY:w[1]-v[1],R,k=x.target,M=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in x&&M==="h"&&k.type==="range")return!1;var W=window.getSelection(),ee=W&&W.anchorNode,z=ee?ee===k||ee.contains(k):!1;if(z)return!1;var H=Hj(M,k);if(!H)return!0;if(H?R=M:(R=M==="v"?"h":"v",H=Hj(M,k)),!H)return!1;if(!r.current&&"changedTouches"in x&&(C||P)&&(r.current=R),!R)return!0;var te=r.current||R;return J0e(te,E,x,te==="h"?C:P)},[]),l=B.useCallback(function(x){var E=x;if(!(!Nf.length||Nf[Nf.length-1]!==o)){var v="deltaY"in E?Vj(E):by(E),w=t.current.filter(function(R){return R.name===E.type&&(R.target===E.target||E.target===R.shadowParent)&&Y0e(R.delta,v)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var C=(a.current.shards||[]).map(Kj).filter(Boolean).filter(function(R){return R.contains(E.target)}),P=C.length>0?s(E,C[0]):!a.current.noIsolation;P&&E.cancelable&&E.preventDefault()}}},[]),f=B.useCallback(function(x,E,v,w){var C={name:x,delta:E,target:v,should:w,shadowParent:nbe(v)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(P){return P!==C})},1)},[]),d=B.useCallback(function(x){n.current=by(x),r.current=void 0},[]),p=B.useCallback(function(x){f(x.type,Vj(x),x.target,s(x,e.lockRef.current))},[]),g=B.useCallback(function(x){f(x.type,by(x),x.target,s(x,e.lockRef.current))},[]);B.useEffect(function(){return Nf.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Df),document.addEventListener("touchmove",l,Df),document.addEventListener("touchstart",d,Df),function(){Nf=Nf.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,Df),document.removeEventListener("touchmove",l,Df),document.removeEventListener("touchstart",d,Df)}},[]);var y=e.removeScrollBar,b=e.inert;return B.createElement(B.Fragment,null,b?B.createElement(o,{styles:X0e(i)}):null,y?B.createElement(H0e,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nbe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const rbe=M0e(Lz,tbe);var iP=B.forwardRef(function(e,t){return B.createElement($w,gs({},e,{ref:t,sideCar:rbe}))});iP.classNames=$w.classNames;var ibe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ff=new WeakMap,Sy=new WeakMap,xy={},U2=0,Fz=function(e){return e&&(e.host||Fz(e.parentNode))},obe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Fz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},abe=function(e,t,n,r){var i=obe(t,Array.isArray(e)?e:[e]);xy[n]||(xy[n]=new WeakMap);var o=xy[n],a=[],s=new Set,l=new Set(i),f=function(p){!p||s.has(p)||(s.add(p),f(p.parentNode))};i.forEach(f);var d=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(g){if(s.has(g))d(g);else try{var y=g.getAttribute(r),b=y!==null&&y!=="false",x=(Ff.get(g)||0)+1,E=(o.get(g)||0)+1;Ff.set(g,x),o.set(g,E),a.push(g),x===1&&b&&Sy.set(g,!0),E===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",g,v)}})};return d(t),s.clear(),U2++,function(){a.forEach(function(p){var g=Ff.get(p)-1,y=o.get(p)-1;Ff.set(p,g),o.set(p,y),g||(Sy.has(p)||p.removeAttribute(r),Sy.delete(p)),y||p.removeAttribute(n)}),U2--,U2||(Ff=new WeakMap,Ff=new WeakMap,Sy=new WeakMap,xy={})}},jz=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=ibe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),abe(r,i,n,"aria-hidden")):function(){return null}},zw="Dialog",[Uz]=qc(zw),[sbe,Qa]=Uz(zw),Bz=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,s=B.useRef(null),l=B.useRef(null),[f,d]=Hc({prop:r,defaultProp:i??!1,onChange:o,caller:zw});return U.jsx(sbe,{scope:t,triggerRef:s,contentRef:l,contentId:id(),titleId:id(),descriptionId:id(),open:f,onOpenChange:d,onOpenToggle:B.useCallback(()=>d(p=>!p),[d]),modal:a,children:n})};Bz.displayName=zw;var $z="DialogTrigger",zz=B.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qa($z,n),o=Ao(t,i.triggerRef);return U.jsx(Nr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":sP(i.open),...r,ref:o,onClick:kr(e.onClick,i.onOpenToggle)})});zz.displayName=$z;var oP="DialogPortal",[ube,qz]=Uz(oP,{forceMount:void 0}),Hz=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Qa(oP,t);return U.jsx(ube,{scope:t,forceMount:n,children:B.Children.map(r,a=>U.jsx(Vc,{present:n||o.open,children:U.jsx(rP,{asChild:!0,container:i,children:a})}))})};Hz.displayName=oP;var T_="DialogOverlay",Vz=B.forwardRef((e,t)=>{const n=qz(T_,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Qa(T_,e.__scopeDialog);return o.modal?U.jsx(Vc,{present:r||o.open,children:U.jsx(cbe,{...i,ref:t})}):null});Vz.displayName=T_;var lbe=Qp("DialogOverlay.RemoveScroll"),cbe=B.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qa(T_,n);return U.jsx(iP,{as:lbe,allowPinchZoom:!0,shards:[i.contentRef],children:U.jsx(Nr.div,{"data-state":sP(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Oc="DialogContent",Kz=B.forwardRef((e,t)=>{const n=qz(Oc,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Qa(Oc,e.__scopeDialog);return U.jsx(Vc,{present:r||o.open,children:o.modal?U.jsx(fbe,{...i,ref:t}):U.jsx(dbe,{...i,ref:t})})});Kz.displayName=Oc;var fbe=B.forwardRef((e,t)=>{const n=Qa(Oc,e.__scopeDialog),r=B.useRef(null),i=Ao(t,n.contentRef,r);return B.useEffect(()=>{const o=r.current;if(o)return jz(o)},[]),U.jsx(Gz,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kr(e.onCloseAutoFocus,o=>{o.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:kr(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,s=a.button===0&&a.ctrlKey===!0;(a.button===2||s)&&o.preventDefault()}),onFocusOutside:kr(e.onFocusOutside,o=>o.preventDefault())})}),dbe=B.forwardRef((e,t)=>{const n=Qa(Oc,e.__scopeDialog),r=B.useRef(!1),i=B.useRef(!1);return U.jsx(Gz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),Gz=B.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...a}=e,s=Qa(Oc,n),l=B.useRef(null),f=Ao(t,l);return Pz(),U.jsxs(U.Fragment,{children:[U.jsx(nP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:U.jsx(tP,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":sP(s.open),...a,ref:f,onDismiss:()=>s.onOpenChange(!1)})}),U.jsxs(U.Fragment,{children:[U.jsx(pbe,{titleId:s.titleId}),U.jsx(gbe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),aP="DialogTitle",Wz=B.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qa(aP,n);return U.jsx(Nr.h2,{id:i.titleId,...r,ref:t})});Wz.displayName=aP;var Zz="DialogDescription",hbe=B.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qa(Zz,n);return U.jsx(Nr.p,{id:i.descriptionId,...r,ref:t})});hbe.displayName=Zz;var Qz="DialogClose",Jz=B.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Qa(Qz,n);return U.jsx(Nr.button,{type:"button",...r,ref:t,onClick:kr(e.onClick,()=>i.onOpenChange(!1))})});Jz.displayName=Qz;function sP(e){return e?"open":"closed"}var Yz="DialogTitleWarning",[kNe,Xz]=Wwe(Yz,{contentName:Oc,titleName:aP,docsSlug:"dialog"}),pbe=({titleId:e})=>{const t=Xz(Yz),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return B.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mbe="DialogDescriptionWarning",gbe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Xz(mbe).contentName}}.`;return B.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ybe=Bz,vbe=zz,_be=Hz,wbe=Vz,bbe=Kz,Sbe=Wz,xbe=Jz;function Ebe(e){const[t,n]=B.useState(void 0);return yl(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,s;if("borderBoxSize"in o){const l=o.borderBoxSize,f=Array.isArray(l)?l[0]:l;a=f.inlineSize,s=f.blockSize}else a=e.offsetWidth,s=e.offsetHeight;n({width:a,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Cbe=["top","right","bottom","left"],vl=Math.min,qo=Math.max,A_=Math.round,Ey=Math.floor,Ss=e=>({x:e,y:e}),Tbe={left:"right",right:"left",bottom:"top",top:"bottom"},Abe={start:"end",end:"start"};function GT(e,t,n){return qo(e,vl(t,n))}function cu(e,t){return typeof e=="function"?e(t):e}function fu(e){return e.split("-")[0]}function jd(e){return e.split("-")[1]}function uP(e){return e==="x"?"y":"x"}function lP(e){return e==="y"?"height":"width"}const Rbe=new Set(["top","bottom"]);function _s(e){return Rbe.has(fu(e))?"y":"x"}function cP(e){return uP(_s(e))}function Pbe(e,t,n){n===void 0&&(n=!1);const r=jd(e),i=cP(e),o=lP(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=R_(a)),[a,R_(a)]}function Obe(e){const t=R_(e);return[WT(e),t,WT(t)]}function WT(e){return e.replace(/start|end/g,t=>Abe[t])}const Gj=["left","right"],Wj=["right","left"],Mbe=["top","bottom"],Lbe=["bottom","top"];function Ibe(e,t,n){switch(e){case"top":case"bottom":return n?t?Wj:Gj:t?Gj:Wj;case"left":case"right":return t?Mbe:Lbe;default:return[]}}function kbe(e,t,n,r){const i=jd(e);let o=Ibe(fu(e),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),t&&(o=o.concat(o.map(WT)))),o}function R_(e){return e.replace(/left|right|bottom|top/g,t=>Tbe[t])}function Dbe(e){return{top:0,right:0,bottom:0,left:0,...e}}function eq(e){return typeof e!="number"?Dbe(e):{top:e,right:e,bottom:e,left:e}}function P_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Zj(e,t,n){let{reference:r,floating:i}=e;const o=_s(t),a=cP(t),s=lP(a),l=fu(t),f=o==="y",d=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[s]/2-i[s]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:p};break;case"left":y={x:r.x-i.width,y:p};break;default:y={x:r.x,y:r.y}}switch(jd(t)){case"start":y[a]-=g*(n&&f?-1:1);break;case"end":y[a]+=g*(n&&f?-1:1);break}return y}const Nbe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let f=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:p}=Zj(f,r,l),g=r,y={},b=0;for(let x=0;x<s.length;x++){const{name:E,fn:v}=s[x],{x:w,y:C,data:P,reset:R}=await v({x:d,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:y,rects:f,platform:a,elements:{reference:e,floating:t}});d=w??d,p=C??p,y={...y,[E]:{...y[E],...P}},R&&b<=50&&(b++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(f=R.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):R.rects),{x:d,y:p}=Zj(f,g,l)),x=-1)}return{x:d,y:p,placement:g,strategy:i,middlewareData:y}};async function Jp(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:f="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:g=!1,padding:y=0}=cu(t,e),b=eq(y),E=s[g?p==="floating"?"reference":"floating":p],v=P_(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(s.floating)),boundary:f,rootBoundary:d,strategy:l})),w=p==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(s.floating)),P=await(o.isElement==null?void 0:o.isElement(C))?await(o.getScale==null?void 0:o.getScale(C))||{x:1,y:1}:{x:1,y:1},R=P_(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:w,offsetParent:C,strategy:l}):w);return{top:(v.top-R.top+b.top)/P.y,bottom:(R.bottom-v.bottom+b.bottom)/P.y,left:(v.left-R.left+b.left)/P.x,right:(R.right-v.right+b.right)/P.x}}const Fbe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:f,padding:d=0}=cu(e,t)||{};if(f==null)return{};const p=eq(d),g={x:n,y:r},y=cP(i),b=lP(y),x=await a.getDimensions(f),E=y==="y",v=E?"top":"left",w=E?"bottom":"right",C=E?"clientHeight":"clientWidth",P=o.reference[b]+o.reference[y]-g[y]-o.floating[b],R=g[y]-o.reference[y],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(f));let M=k?k[C]:0;(!M||!await(a.isElement==null?void 0:a.isElement(k)))&&(M=s.floating[C]||o.floating[b]);const W=P/2-R/2,ee=M/2-x[b]/2-1,z=vl(p[v],ee),H=vl(p[w],ee),te=z,oe=M-x[b]-H,ue=M/2-x[b]/2+W,de=GT(te,ue,oe),se=!l.arrow&&jd(i)!=null&&ue!==de&&o.reference[b]/2-(ue<te?z:H)-x[b]/2<0,pe=se?ue<te?ue-te:ue-oe:0;return{[y]:g[y]+pe,data:{[y]:de,centerOffset:ue-de-pe,...se&&{alignmentOffset:pe}},reset:se}}}),jbe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:f}=t,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...E}=cu(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=fu(i),w=_s(s),C=fu(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(f.floating)),R=g||(C||!x?[R_(s)]:Obe(s)),k=b!=="none";!g&&k&&R.push(...kbe(s,x,b,P));const M=[s,...R],W=await Jp(t,E),ee=[];let z=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&ee.push(W[v]),p){const ue=Pbe(i,a,P);ee.push(W[ue[0]],W[ue[1]])}if(z=[...z,{placement:i,overflows:ee}],!ee.every(ue=>ue<=0)){var H,te;const ue=(((H=o.flip)==null?void 0:H.index)||0)+1,de=M[ue];if(de&&(!(p==="alignment"?w!==_s(de):!1)||z.every(re=>_s(re.placement)===w?re.overflows[0]>0:!0)))return{data:{index:ue,overflows:z},reset:{placement:de}};let se=(te=z.filter(pe=>pe.overflows[0]<=0).sort((pe,re)=>pe.overflows[1]-re.overflows[1])[0])==null?void 0:te.placement;if(!se)switch(y){case"bestFit":{var oe;const pe=(oe=z.filter(re=>{if(k){const Ee=_s(re.placement);return Ee===w||Ee==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(Ee=>Ee>0).reduce((Ee,$)=>Ee+$,0)]).sort((re,Ee)=>re[1]-Ee[1])[0])==null?void 0:oe[0];pe&&(se=pe);break}case"initialPlacement":se=s;break}if(i!==se)return{reset:{placement:se}}}return{}}}};function Qj(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Jj(e){return Cbe.some(t=>e[t]>=0)}const Ube=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=cu(e,t);switch(r){case"referenceHidden":{const o=await Jp(t,{...i,elementContext:"reference"}),a=Qj(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Jj(a)}}}case"escaped":{const o=await Jp(t,{...i,altBoundary:!0}),a=Qj(o,n.floating);return{data:{escapedOffsets:a,escaped:Jj(a)}}}default:return{}}}}},tq=new Set(["left","top"]);async function Bbe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=fu(n),s=jd(n),l=_s(n)==="y",f=tq.has(a)?-1:1,d=o&&l?-1:1,p=cu(t,e);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return s&&typeof b=="number"&&(y=s==="end"?b*-1:b),l?{x:y*d,y:g*f}:{x:g*f,y:y*d}}const $be=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await Bbe(t,e);return a===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},zbe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:E=>{let{x:v,y:w}=E;return{x:v,y:w}}},...l}=cu(e,t),f={x:n,y:r},d=await Jp(t,l),p=_s(fu(i)),g=uP(p);let y=f[g],b=f[p];if(o){const E=g==="y"?"top":"left",v=g==="y"?"bottom":"right",w=y+d[E],C=y-d[v];y=GT(w,y,C)}if(a){const E=p==="y"?"top":"left",v=p==="y"?"bottom":"right",w=b+d[E],C=b-d[v];b=GT(w,b,C)}const x=s.fn({...t,[g]:y,[p]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:o,[p]:a}}}}}},qbe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:f=!0}=cu(e,t),d={x:n,y:r},p=_s(i),g=uP(p);let y=d[g],b=d[p];const x=cu(s,t),E=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const C=g==="y"?"height":"width",P=o.reference[g]-o.floating[C]+E.mainAxis,R=o.reference[g]+o.reference[C]-E.mainAxis;y<P?y=P:y>R&&(y=R)}if(f){var v,w;const C=g==="y"?"width":"height",P=tq.has(fu(i)),R=o.reference[p]-o.floating[C]+(P&&((v=a.offset)==null?void 0:v[p])||0)+(P?0:E.crossAxis),k=o.reference[p]+o.reference[C]+(P?0:((w=a.offset)==null?void 0:w[p])||0)-(P?E.crossAxis:0);b<R?b=R:b>k&&(b=k)}return{[g]:y,[p]:b}}}},Hbe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...f}=cu(e,t),d=await Jp(t,f),p=fu(i),g=jd(i),y=_s(i)==="y",{width:b,height:x}=o.floating;let E,v;p==="top"||p==="bottom"?(E=p,v=g===(await(a.isRTL==null?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=p,E=g==="end"?"top":"bottom");const w=x-d.top-d.bottom,C=b-d.left-d.right,P=vl(x-d[E],w),R=vl(b-d[v],C),k=!t.middlewareData.shift;let M=P,W=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(W=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=w),k&&!g){const z=qo(d.left,0),H=qo(d.right,0),te=qo(d.top,0),oe=qo(d.bottom,0);y?W=b-2*(z!==0||H!==0?z+H:qo(d.left,d.right)):M=x-2*(te!==0||oe!==0?te+oe:qo(d.top,d.bottom))}await l({...t,availableWidth:W,availableHeight:M});const ee=await a.getDimensions(s.floating);return b!==ee.width||x!==ee.height?{reset:{rects:!0}}:{}}}};function qw(){return typeof window<"u"}function Ud(e){return nq(e)?(e.nodeName||"").toLowerCase():"#document"}function Qo(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Rs(e){var t;return(t=(nq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nq(e){return qw()?e instanceof Node||e instanceof Qo(e).Node:!1}function Va(e){return qw()?e instanceof Element||e instanceof Qo(e).Element:!1}function Cs(e){return qw()?e instanceof HTMLElement||e instanceof Qo(e).HTMLElement:!1}function Yj(e){return!qw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qo(e).ShadowRoot}const Vbe=new Set(["inline","contents"]);function Rm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Ka(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Vbe.has(i)}const Kbe=new Set(["table","td","th"]);function Gbe(e){return Kbe.has(Ud(e))}const Wbe=[":popover-open",":modal"];function Hw(e){return Wbe.some(t=>{try{return e.matches(t)}catch{return!1}})}const Zbe=["transform","translate","scale","rotate","perspective"],Qbe=["transform","translate","scale","rotate","perspective","filter"],Jbe=["paint","layout","strict","content"];function fP(e){const t=dP(),n=Va(e)?Ka(e):e;return Zbe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Qbe.some(r=>(n.willChange||"").includes(r))||Jbe.some(r=>(n.contain||"").includes(r))}function Ybe(e){let t=_l(e);for(;Cs(t)&&!yd(t);){if(fP(t))return t;if(Hw(t))return null;t=_l(t)}return null}function dP(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xbe=new Set(["html","body","#document"]);function yd(e){return Xbe.has(Ud(e))}function Ka(e){return Qo(e).getComputedStyle(e)}function Vw(e){return Va(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _l(e){if(Ud(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yj(e)&&e.host||Rs(e);return Yj(t)?t.host:t}function rq(e){const t=_l(e);return yd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cs(t)&&Rm(t)?t:rq(t)}function Yp(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=rq(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),a=Qo(i);if(o){const s=ZT(a);return t.concat(a,a.visualViewport||[],Rm(i)?i:[],s&&n?Yp(s):[])}return t.concat(i,Yp(i,[],n))}function ZT(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function iq(e){const t=Ka(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Cs(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=A_(n)!==o||A_(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function hP(e){return Va(e)?e:e.contextElement}function ad(e){const t=hP(e);if(!Cs(t))return Ss(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=iq(t);let a=(o?A_(n.width):n.width)/r,s=(o?A_(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!s||!Number.isFinite(s))&&(s=1),{x:a,y:s}}const e1e=Ss(0);function oq(e){const t=Qo(e);return!dP()||!t.visualViewport?e1e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function t1e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qo(e)?!1:t}function Mc(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=hP(e);let a=Ss(1);t&&(r?Va(r)&&(a=ad(r)):a=ad(e));const s=t1e(o,n,r)?oq(o):Ss(0);let l=(i.left+s.x)/a.x,f=(i.top+s.y)/a.y,d=i.width/a.x,p=i.height/a.y;if(o){const g=Qo(o),y=r&&Va(r)?Qo(r):r;let b=g,x=ZT(b);for(;x&&r&&y!==b;){const E=ad(x),v=x.getBoundingClientRect(),w=Ka(x),C=v.left+(x.clientLeft+parseFloat(w.paddingLeft))*E.x,P=v.top+(x.clientTop+parseFloat(w.paddingTop))*E.y;l*=E.x,f*=E.y,d*=E.x,p*=E.y,l+=C,f+=P,b=Qo(x),x=ZT(b)}}return P_({width:d,height:p,x:l,y:f})}function Kw(e,t){const n=Vw(e).scrollLeft;return t?t.left+n:Mc(Rs(e)).left+n}function aq(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Kw(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function n1e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",a=Rs(r),s=t?Hw(t.floating):!1;if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},f=Ss(1);const d=Ss(0),p=Cs(r);if((p||!p&&!o)&&((Ud(r)!=="body"||Rm(a))&&(l=Vw(r)),Cs(r))){const y=Mc(r);f=ad(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const g=a&&!p&&!o?aq(a,l):Ss(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-l.scrollLeft*f.x+d.x+g.x,y:n.y*f.y-l.scrollTop*f.y+d.y+g.y}}function r1e(e){return Array.from(e.getClientRects())}function i1e(e){const t=Rs(e),n=Vw(e),r=e.ownerDocument.body,i=qo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=qo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Kw(e);const s=-n.scrollTop;return Ka(r).direction==="rtl"&&(a+=qo(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}const Xj=25;function o1e(e,t){const n=Qo(e),r=Rs(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const d=dP();(!d||d&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}const f=Kw(r);if(f<=0){const d=r.ownerDocument,p=d.body,g=getComputedStyle(p),y=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-p.clientWidth-y);b<=Xj&&(o-=b)}else f<=Xj&&(o+=f);return{width:o,height:a,x:s,y:l}}const a1e=new Set(["absolute","fixed"]);function s1e(e,t){const n=Mc(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Cs(e)?ad(e):Ss(1),a=e.clientWidth*o.x,s=e.clientHeight*o.y,l=i*o.x,f=r*o.y;return{width:a,height:s,x:l,y:f}}function e4(e,t,n){let r;if(t==="viewport")r=o1e(e,n);else if(t==="document")r=i1e(Rs(e));else if(Va(t))r=s1e(t,n);else{const i=oq(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return P_(r)}function sq(e,t){const n=_l(e);return n===t||!Va(n)||yd(n)?!1:Ka(n).position==="fixed"||sq(n,t)}function u1e(e,t){const n=t.get(e);if(n)return n;let r=Yp(e,[],!1).filter(s=>Va(s)&&Ud(s)!=="body"),i=null;const o=Ka(e).position==="fixed";let a=o?_l(e):e;for(;Va(a)&&!yd(a);){const s=Ka(a),l=fP(a);!l&&s.position==="fixed"&&(i=null),(o?!l&&!i:!l&&s.position==="static"&&!!i&&a1e.has(i.position)||Rm(a)&&!l&&sq(e,a))?r=r.filter(d=>d!==a):i=s,a=_l(a)}return t.set(e,r),r}function l1e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Hw(t)?[]:u1e(t,this._c):[].concat(n),r],s=a[0],l=a.reduce((f,d)=>{const p=e4(t,d,i);return f.top=qo(p.top,f.top),f.right=vl(p.right,f.right),f.bottom=vl(p.bottom,f.bottom),f.left=qo(p.left,f.left),f},e4(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function c1e(e){const{width:t,height:n}=iq(e);return{width:t,height:n}}function f1e(e,t,n){const r=Cs(t),i=Rs(t),o=n==="fixed",a=Mc(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=Ss(0);function f(){l.x=Kw(i)}if(r||!r&&!o)if((Ud(t)!=="body"||Rm(i))&&(s=Vw(t)),r){const y=Mc(t,!0,o,t);l.x=y.x+t.clientLeft,l.y=y.y+t.clientTop}else i&&f();o&&!r&&i&&f();const d=i&&!r&&!o?aq(i,s):Ss(0),p=a.left+s.scrollLeft-l.x-d.x,g=a.top+s.scrollTop-l.y-d.y;return{x:p,y:g,width:a.width,height:a.height}}function B2(e){return Ka(e).position==="static"}function t4(e,t){if(!Cs(e)||Ka(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Rs(e)===n&&(n=n.ownerDocument.body),n}function uq(e,t){const n=Qo(e);if(Hw(e))return n;if(!Cs(e)){let i=_l(e);for(;i&&!yd(i);){if(Va(i)&&!B2(i))return i;i=_l(i)}return n}let r=t4(e,t);for(;r&&Gbe(r)&&B2(r);)r=t4(r,t);return r&&yd(r)&&B2(r)&&!fP(r)?n:r||Ybe(e)||n}const d1e=async function(e){const t=this.getOffsetParent||uq,n=this.getDimensions,r=await n(e.floating);return{reference:f1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function h1e(e){return Ka(e).direction==="rtl"}const p1e={convertOffsetParentRelativeRectToViewportRelativeRect:n1e,getDocumentElement:Rs,getClippingRect:l1e,getOffsetParent:uq,getElementRects:d1e,getClientRects:r1e,getDimensions:c1e,getScale:ad,isElement:Va,isRTL:h1e};function lq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function m1e(e,t){let n=null,r;const i=Rs(e);function o(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function a(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),o();const f=e.getBoundingClientRect(),{left:d,top:p,width:g,height:y}=f;if(s||t(),!g||!y)return;const b=Ey(p),x=Ey(i.clientWidth-(d+g)),E=Ey(i.clientHeight-(p+y)),v=Ey(d),C={rootMargin:-b+"px "+-x+"px "+-E+"px "+-v+"px",threshold:qo(0,vl(1,l))||1};let P=!0;function R(k){const M=k[0].intersectionRatio;if(M!==l){if(!P)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!lq(f,e.getBoundingClientRect())&&a(),P=!1}try{n=new IntersectionObserver(R,{...C,root:i.ownerDocument})}catch{n=new IntersectionObserver(R,C)}n.observe(e)}return a(!0),o}function cq(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,f=hP(e),d=i||o?[...f?Yp(f):[],...Yp(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const p=f&&s?m1e(f,n):null;let g=-1,y=null;a&&(y=new ResizeObserver(v=>{let[w]=v;w&&w.target===f&&y&&(y.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=y)==null||C.observe(t)})),n()}),f&&!l&&y.observe(f),y.observe(t));let b,x=l?Mc(e):null;l&&E();function E(){const v=Mc(e);x&&!lq(x,v)&&n(),x=v,b=requestAnimationFrame(E)}return n(),()=>{var v;d.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),p?.(),(v=y)==null||v.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const g1e=$be,y1e=zbe,v1e=jbe,_1e=Hbe,w1e=Ube,n4=Fbe,b1e=qbe,S1e=(e,t,n)=>{const r=new Map,i={platform:p1e,...n},o={...i.platform,_c:r};return Nbe(e,t,{...i,platform:o})};var x1e=typeof document<"u",E1e=function(){},Wv=x1e?B.useLayoutEffect:E1e;function O_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!O_(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!O_(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function fq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function r4(e,t){const n=fq(e);return Math.round(t*n)/n}function $2(e){const t=B.useRef(e);return Wv(()=>{t.current=e}),t}function C1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:s=!0,whileElementsMounted:l,open:f}=e,[d,p]=B.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,y]=B.useState(r);O_(g,r)||y(r);const[b,x]=B.useState(null),[E,v]=B.useState(null),w=B.useCallback(re=>{re!==k.current&&(k.current=re,x(re))},[]),C=B.useCallback(re=>{re!==M.current&&(M.current=re,v(re))},[]),P=o||b,R=a||E,k=B.useRef(null),M=B.useRef(null),W=B.useRef(d),ee=l!=null,z=$2(l),H=$2(i),te=$2(f),oe=B.useCallback(()=>{if(!k.current||!M.current)return;const re={placement:t,strategy:n,middleware:g};H.current&&(re.platform=H.current),S1e(k.current,M.current,re).then(Ee=>{const $={...Ee,isPositioned:te.current!==!1};ue.current&&!O_(W.current,$)&&(W.current=$,gl.flushSync(()=>{p($)}))})},[g,t,n,H,te]);Wv(()=>{f===!1&&W.current.isPositioned&&(W.current.isPositioned=!1,p(re=>({...re,isPositioned:!1})))},[f]);const ue=B.useRef(!1);Wv(()=>(ue.current=!0,()=>{ue.current=!1}),[]),Wv(()=>{if(P&&(k.current=P),R&&(M.current=R),P&&R){if(z.current)return z.current(P,R,oe);oe()}},[P,R,oe,z,ee]);const de=B.useMemo(()=>({reference:k,floating:M,setReference:w,setFloating:C}),[w,C]),se=B.useMemo(()=>({reference:P,floating:R}),[P,R]),pe=B.useMemo(()=>{const re={position:n,left:0,top:0};if(!se.floating)return re;const Ee=r4(se.floating,d.x),$=r4(se.floating,d.y);return s?{...re,transform:"translate("+Ee+"px, "+$+"px)",...fq(se.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ee,top:$}},[n,s,se.floating,d.x,d.y]);return B.useMemo(()=>({...d,update:oe,refs:de,elements:se,floatingStyles:pe}),[d,oe,de,se,pe])}const T1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?n4({element:r.current,padding:i}).fn(n):{}:r?n4({element:r,padding:i}).fn(n):{}}}},A1e=(e,t)=>({...g1e(e),options:[e,t]}),R1e=(e,t)=>({...y1e(e),options:[e,t]}),P1e=(e,t)=>({...b1e(e),options:[e,t]}),O1e=(e,t)=>({...v1e(e),options:[e,t]}),M1e=(e,t)=>({..._1e(e),options:[e,t]}),L1e=(e,t)=>({...w1e(e),options:[e,t]}),I1e=(e,t)=>({...T1e(e),options:[e,t]});var k1e="Arrow",dq=B.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return U.jsx(Nr.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:U.jsx("polygon",{points:"0,0 30,0 15,10"})})});dq.displayName=k1e;var D1e=dq,pP="Popper",[hq,pq]=qc(pP),[N1e,mq]=hq(pP),gq=e=>{const{__scopePopper:t,children:n}=e,[r,i]=B.useState(null);return U.jsx(N1e,{scope:t,anchor:r,onAnchorChange:i,children:n})};gq.displayName=pP;var yq="PopperAnchor",vq=B.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=mq(yq,n),a=B.useRef(null),s=Ao(t,a),l=B.useRef(null);return B.useEffect(()=>{const f=l.current;l.current=r?.current||a.current,f!==l.current&&o.onAnchorChange(l.current)}),r?null:U.jsx(Nr.div,{...i,ref:s})});vq.displayName=yq;var mP="PopperContent",[F1e,j1e]=hq(mP),_q=B.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:f=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:b,...x}=e,E=mq(mP,n),[v,w]=B.useState(null),C=Ao(t,Ve=>w(Ve)),[P,R]=B.useState(null),k=Ebe(P),M=k?.width??0,W=k?.height??0,ee=r+(o!=="center"?"-"+o:""),z=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},H=Array.isArray(f)?f:[f],te=H.length>0,oe={padding:z,boundary:H.filter(B1e),altBoundary:te},{refs:ue,floatingStyles:de,placement:se,isPositioned:pe,middlewareData:re}=C1e({strategy:"fixed",placement:ee,whileElementsMounted:(...Ve)=>cq(...Ve,{animationFrame:y==="always"}),elements:{reference:E.anchor},middleware:[A1e({mainAxis:i+W,alignmentAxis:a}),l&&R1e({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?P1e():void 0,...oe}),l&&O1e({...oe}),M1e({...oe,apply:({elements:Ve,rects:Pe,availableWidth:Be,availableHeight:Je})=>{const{width:fe,height:V}=Pe.reference,j=Ve.floating.style;j.setProperty("--radix-popper-available-width",`${Be}px`),j.setProperty("--radix-popper-available-height",`${Je}px`),j.setProperty("--radix-popper-anchor-width",`${fe}px`),j.setProperty("--radix-popper-anchor-height",`${V}px`)}}),P&&I1e({element:P,padding:s}),$1e({arrowWidth:M,arrowHeight:W}),g&&L1e({strategy:"referenceHidden",...oe})]}),[Ee,$]=Sq(se),Q=Pc(b);yl(()=>{pe&&Q?.()},[pe,Q]);const ce=re.arrow?.x,G=re.arrow?.y,X=re.arrow?.centerOffset!==0,[ge,xe]=B.useState();return yl(()=>{v&&xe(window.getComputedStyle(v).zIndex)},[v]),U.jsx("div",{ref:ue.setFloating,"data-radix-popper-content-wrapper":"",style:{...de,transform:pe?de.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:U.jsx(F1e,{scope:n,placedSide:Ee,onArrowChange:R,arrowX:ce,arrowY:G,shouldHideArrow:X,children:U.jsx(Nr.div,{"data-side":Ee,"data-align":$,...x,ref:C,style:{...x.style,animation:pe?void 0:"none"}})})})});_q.displayName=mP;var wq="PopperArrow",U1e={top:"bottom",right:"left",bottom:"top",left:"right"},bq=B.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,o=j1e(wq,r),a=U1e[o.placedSide];return U.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:U.jsx(D1e,{...i,ref:n,style:{...i.style,display:"block"}})})});bq.displayName=wq;function B1e(e){return e!==null}var $1e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,s=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[f,d]=Sq(n),p={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+s/2,y=(i.arrow?.y??0)+l/2;let b="",x="";return f==="bottom"?(b=a?p:`${g}px`,x=`${-l}px`):f==="top"?(b=a?p:`${g}px`,x=`${r.floating.height+l}px`):f==="right"?(b=`${-l}px`,x=a?p:`${y}px`):f==="left"&&(b=`${r.floating.width+l}px`,x=a?p:`${y}px`),{data:{x:b,y:x}}}});function Sq(e){const[t,n="center"]=e.split("-");return[t,n]}var z1e=gq,xq=vq,q1e=_q,H1e=bq,z2="rovingFocusGroup.onEntryFocus",V1e={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[QT,Eq,K1e]=Qwe(Pm),[G1e,Gw]=qc(Pm,[K1e]),[W1e,Z1e]=G1e(Pm),Cq=B.forwardRef((e,t)=>U.jsx(QT.Provider,{scope:e.__scopeRovingFocusGroup,children:U.jsx(QT.Slot,{scope:e.__scopeRovingFocusGroup,children:U.jsx(Q1e,{...e,ref:t})})}));Cq.displayName=Pm;var Q1e=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:f,preventScrollOnEntryFocus:d=!1,...p}=e,g=B.useRef(null),y=Ao(t,g),b=eP(o),[x,E]=Hc({prop:a,defaultProp:s??null,onChange:l,caller:Pm}),[v,w]=B.useState(!1),C=Pc(f),P=Eq(n),R=B.useRef(!1),[k,M]=B.useState(0);return B.useEffect(()=>{const W=g.current;if(W)return W.addEventListener(z2,C),()=>W.removeEventListener(z2,C)},[C]),U.jsx(W1e,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:x,onItemFocus:B.useCallback(W=>E(W),[E]),onItemShiftTab:B.useCallback(()=>w(!0),[]),onFocusableItemAdd:B.useCallback(()=>M(W=>W+1),[]),onFocusableItemRemove:B.useCallback(()=>M(W=>W-1),[]),children:U.jsx(Nr.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:kr(e.onMouseDown,()=>{R.current=!0}),onFocus:kr(e.onFocus,W=>{const ee=!R.current;if(W.target===W.currentTarget&&ee&&!v){const z=new CustomEvent(z2,V1e);if(W.currentTarget.dispatchEvent(z),!z.defaultPrevented){const H=P().filter(se=>se.focusable),te=H.find(se=>se.active),oe=H.find(se=>se.id===x),de=[te,oe,...H].filter(Boolean).map(se=>se.ref.current);Rq(de,d)}}R.current=!1}),onBlur:kr(e.onBlur,()=>w(!1))})})}),Tq="RovingFocusGroupItem",Aq=B.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,children:a,...s}=e,l=id(),f=o||l,d=Z1e(Tq,n),p=d.currentTabStopId===f,g=Eq(n),{onFocusableItemAdd:y,onFocusableItemRemove:b,currentTabStopId:x}=d;return B.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),U.jsx(QT.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:U.jsx(Nr.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...s,ref:t,onMouseDown:kr(e.onMouseDown,E=>{r?d.onItemFocus(f):E.preventDefault()}),onFocus:kr(e.onFocus,()=>d.onItemFocus(f)),onKeyDown:kr(e.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const v=X1e(E,d.orientation,d.dir);if(v!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let C=g().filter(P=>P.focusable).map(P=>P.ref.current);if(v==="last")C.reverse();else if(v==="prev"||v==="next"){v==="prev"&&C.reverse();const P=C.indexOf(E.currentTarget);C=d.loop?eSe(C,P+1):C.slice(P+1)}setTimeout(()=>Rq(C))}}),children:typeof a=="function"?a({isCurrentTabStop:p,hasTabStop:x!=null}):a})})});Aq.displayName=Tq;var J1e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y1e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function X1e(e,t,n){const r=Y1e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return J1e[r]}function Rq(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function eSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Pq=Cq,Oq=Aq,Ww="Popover",[Mq]=qc(Ww,[pq]),Om=pq(),[tSe,Cl]=Mq(Ww),Lq=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:a=!1}=e,s=Om(t),l=B.useRef(null),[f,d]=B.useState(!1),[p,g]=Hc({prop:r,defaultProp:i??!1,onChange:o,caller:Ww});return U.jsx(z1e,{...s,children:U.jsx(tSe,{scope:t,contentId:id(),triggerRef:l,open:p,onOpenChange:g,onOpenToggle:B.useCallback(()=>g(y=>!y),[g]),hasCustomAnchor:f,onCustomAnchorAdd:B.useCallback(()=>d(!0),[]),onCustomAnchorRemove:B.useCallback(()=>d(!1),[]),modal:a,children:n})})};Lq.displayName=Ww;var Iq="PopoverAnchor",nSe=B.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Cl(Iq,n),o=Om(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=i;return B.useEffect(()=>(a(),()=>s()),[a,s]),U.jsx(xq,{...o,...r,ref:t})});nSe.displayName=Iq;var kq="PopoverTrigger",Dq=B.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Cl(kq,n),o=Om(n),a=Ao(t,i.triggerRef),s=U.jsx(Nr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":zq(i.open),...r,ref:a,onClick:kr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:U.jsx(xq,{asChild:!0,...o,children:s})});Dq.displayName=kq;var gP="PopoverPortal",[rSe,iSe]=Mq(gP,{forceMount:void 0}),Nq=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=Cl(gP,t);return U.jsx(rSe,{scope:t,forceMount:n,children:U.jsx(Vc,{present:n||o.open,children:U.jsx(rP,{asChild:!0,container:i,children:r})})})};Nq.displayName=gP;var vd="PopoverContent",Fq=B.forwardRef((e,t)=>{const n=iSe(vd,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=Cl(vd,e.__scopePopover);return U.jsx(Vc,{present:r||o.open,children:o.modal?U.jsx(aSe,{...i,ref:t}):U.jsx(sSe,{...i,ref:t})})});Fq.displayName=vd;var oSe=Qp("PopoverContent.RemoveScroll"),aSe=B.forwardRef((e,t)=>{const n=Cl(vd,e.__scopePopover),r=B.useRef(null),i=Ao(t,r),o=B.useRef(!1);return B.useEffect(()=>{const a=r.current;if(a)return jz(a)},[]),U.jsx(iP,{as:oSe,allowPinchZoom:!0,children:U.jsx(jq,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kr(e.onCloseAutoFocus,a=>{a.preventDefault(),o.current||n.triggerRef.current?.focus()}),onPointerDownOutside:kr(e.onPointerDownOutside,a=>{const s=a.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,f=s.button===2||l;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:kr(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),sSe=B.forwardRef((e,t)=>{const n=Cl(vd,e.__scopePopover),r=B.useRef(!1),i=B.useRef(!1);return U.jsx(jq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{e.onCloseAutoFocus?.(o),o.defaultPrevented||(r.current||n.triggerRef.current?.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{e.onInteractOutside?.(o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=o.target;n.triggerRef.current?.contains(a)&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),jq=B.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:f,onInteractOutside:d,...p}=e,g=Cl(vd,n),y=Om(n);return Pz(),U.jsx(nP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:U.jsx(tP,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:f,onDismiss:()=>g.onOpenChange(!1),children:U.jsx(q1e,{"data-state":zq(g.open),role:"dialog",id:g.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Uq="PopoverClose",Bq=B.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Cl(Uq,n);return U.jsx(Nr.button,{type:"button",...r,ref:t,onClick:kr(e.onClick,()=>i.onOpenChange(!1))})});Bq.displayName=Uq;var uSe="PopoverArrow",$q=B.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Om(n);return U.jsx(H1e,{...i,...r,ref:t})});$q.displayName=uSe;function zq(e){return e?"open":"closed"}var lSe=Lq,cSe=Dq,fSe=Nq,dSe=Fq,hSe=Bq,pSe=$q,Zw="Tabs",[mSe]=qc(Zw,[Gw]),qq=Gw(),[gSe,yP]=mSe(Zw),Hq=B.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...f}=e,d=eP(s),[p,g]=Hc({prop:r,onChange:i,defaultProp:o??"",caller:Zw});return U.jsx(gSe,{scope:n,baseId:id(),value:p,onValueChange:g,orientation:a,dir:d,activationMode:l,children:U.jsx(Nr.div,{dir:d,"data-orientation":a,...f,ref:t})})});Hq.displayName=Zw;var Vq="TabsList",Kq=B.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=yP(Vq,n),a=qq(n);return U.jsx(Pq,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:U.jsx(Nr.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});Kq.displayName=Vq;var Gq="TabsTrigger",Wq=B.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,a=yP(Gq,n),s=qq(n),l=Jq(a.baseId,r),f=Yq(a.baseId,r),d=r===a.value;return U.jsx(Oq,{asChild:!0,...s,focusable:!i,active:d,children:U.jsx(Nr.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":f,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:t,onMouseDown:kr(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?a.onValueChange(r):p.preventDefault()}),onKeyDown:kr(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&a.onValueChange(r)}),onFocus:kr(e.onFocus,()=>{const p=a.activationMode!=="manual";!d&&!i&&p&&a.onValueChange(r)})})})});Wq.displayName=Gq;var Zq="TabsContent",Qq=B.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=e,s=yP(Zq,n),l=Jq(s.baseId,r),f=Yq(s.baseId,r),d=r===s.value,p=B.useRef(d);return B.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),U.jsx(Vc,{present:i||d,children:({present:g})=>U.jsx(Nr.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!g,id:f,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&o})})});Qq.displayName=Zq;function Jq(e,t){return`${e}-trigger-${t}`}function Yq(e,t){return`${e}-content-${t}`}var vP=Hq,_P=Kq,wP=Wq,bP=Qq,Xq="Toggle",eH=B.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:i,...o}=e,[a,s]=Hc({prop:n,onChange:i,defaultProp:r??!1,caller:Xq});return U.jsx(Nr.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:kr(e.onClick,()=>{e.disabled||s(!a)})})});eH.displayName=Xq;var Tl="ToggleGroup",[tH]=qc(Tl,[Gw]),nH=Gw(),SP=St.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return U.jsx(ySe,{...i,ref:t})}if(n==="multiple"){const i=r;return U.jsx(vSe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Tl}\``)});SP.displayName=Tl;var[rH,iH]=tH(Tl),ySe=St.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[a,s]=Hc({prop:n,defaultProp:r??"",onChange:i,caller:Tl});return U.jsx(rH,{scope:e.__scopeToggleGroup,type:"single",value:St.useMemo(()=>a?[a]:[],[a]),onItemActivate:s,onItemDeactivate:St.useCallback(()=>s(""),[s]),children:U.jsx(oH,{...o,ref:t})})}),vSe=St.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[a,s]=Hc({prop:n,defaultProp:r??[],onChange:i,caller:Tl}),l=St.useCallback(d=>s((p=[])=>[...p,d]),[s]),f=St.useCallback(d=>s((p=[])=>p.filter(g=>g!==d)),[s]);return U.jsx(rH,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:l,onItemDeactivate:f,children:U.jsx(oH,{...o,ref:t})})});SP.displayName=Tl;var[_Se,wSe]=tH(Tl),oH=St.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:a,loop:s=!0,...l}=e,f=nH(n),d=eP(a),p={role:"group",dir:d,...l};return U.jsx(_Se,{scope:n,rovingFocus:i,disabled:r,children:i?U.jsx(Pq,{asChild:!0,...f,orientation:o,dir:d,loop:s,children:U.jsx(Nr.div,{...p,ref:t})}):U.jsx(Nr.div,{...p,ref:t})})}),M_="ToggleGroupItem",aH=St.forwardRef((e,t)=>{const n=iH(M_,e.__scopeToggleGroup),r=wSe(M_,e.__scopeToggleGroup),i=nH(e.__scopeToggleGroup),o=n.value.includes(e.value),a=r.disabled||e.disabled,s={...e,pressed:o,disabled:a},l=St.useRef(null);return r.rovingFocus?U.jsx(Oq,{asChild:!0,...i,focusable:!a,active:o,ref:l,children:U.jsx(i4,{...s,ref:t})}):U.jsx(i4,{...s,ref:t})});aH.displayName=M_;var i4=St.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,o=iH(M_,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=o.type==="single"?a:void 0;return U.jsx(eH,{...s,...i,ref:t,onPressedChange:l=>{l?o.onItemActivate(r):o.onItemDeactivate(r)}})}),bSe=SP,SSe=aH;function xSe(e){return Bi({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 4.583v14.833h.865V4.583zm1.788 0v14.833h2.653V4.583zm3.518 0v14.832H7.96V4.583zm3.547 0v14.834h.866V4.583zm1.789 0v14.833h.865V4.583zm1.759 0v14.834h2.653V4.583zm3.518 0v14.834h.923V4.583zm1.788 0v14.833h2.653V4.583zm3.64 0v14.834h.865V4.583zm1.788 0v14.834H24V4.583Z"},child:[]}]})(e)}const ESe="_item_12uco_1",CSe="_highlighted_12uco_8",TSe="_popover_12uco_22",ASe="_arrow_12uco_33",RSe="_close_12uco_36",PSe="_detail_12uco_41",OSe="_image_12uco_47",MSe="_headerContainer_12uco_52",LSe="_header_12uco_52",ISe="_website_12uco_62",kSe="_aliases_12uco_67",$o={item:ESe,highlighted:CSe,popover:TSe,arrow:ASe,close:RSe,detail:PSe,image:OSe,headerContainer:MSe,header:LSe,website:ISe,aliases:kSe},sH=({uri:e,highlighted:t,onRemove:n,locale:r,className:i,...o})=>{const{i18n:a,_:s}=Fr(),{data:l}=jwe(e,r),f={uri:e,label:e.split("/").pop(),description:"",aliases:[]},d=Ac({},f,l);return U.jsxs(lSe,{children:[U.jsxs("span",{...o,className:Fn($o.item,t&&$o.highlighted,i),children:[U.jsx(cSe,{asChild:!0,children:U.jsxs("button",{className:$o.trigger,title:d.description,children:[d.label," "]})}),n&&U.jsx("button",{className:$o.remove,onClick:n,children:U.jsx(w_,{})})]}),U.jsx(fSe,{children:U.jsxs(dSe,{sideOffset:5,className:$o.popover,children:[U.jsx(hSe,{className:$o.close,"aria-label":a._({id:"yz7wBu"}),children:U.jsx(w_,{})}),U.jsx(DSe,{topic:d}),U.jsx(pSe,{className:$o.arrow})]})})]})},DSe=({topic:e})=>U.jsxs("div",{className:$o.detail,children:[e.image&&U.jsx("img",{src:e.image,alt:"",className:$o.image}),U.jsxs("header",{className:$o.headerContainer,children:[U.jsxs("h3",{className:$o.header,children:[e.label,U.jsx(B$,{href:e.uri,icon:e.id?xSe:void 0})]}),e.aliases.length>0&&U.jsx("div",{className:$o.aliases,children:e.aliases.join(", ")}),e.officialWebsite&&U.jsxs("a",{href:e.officialWebsite,target:"_blank",rel:"noopener noreferrer",className:$o.website,children:[U.jsx(ome,{}),e.officialWebsite]})]}),U.jsx("section",{children:e.description})]}),NSe="_list_kiy6t_1",FSe="_select_kiy6t_7",jSe="_control_kiy6t_7",USe="_input_kiy6t_12",BSe="_menu_kiy6t_15",$Se="_separator_kiy6t_20",zSe="_option_kiy6t_24",qSe="_focused_kiy6t_24",eu={list:NSe,select:FSe,control:jSe,input:USe,menu:BSe,separator:$Se,option:zSe,focused:qSe},HSe=({ids:e,highlighted:t})=>{const n=Dr(xa);return e.length===0?null:U.jsx("ul",{className:eu.list,"data-cy":"interests-list",children:e.map(r=>U.jsx("li",{children:U.jsx(sH,{uri:r,highlighted:t&&t.includes(r),locale:n})},r))})},wa=({children:e})=>U.jsx(U.Fragment,{children:e}),VSe=()=>{const{communityId:e}=Mn(),t=Dr(xa),n=gu(e,t,Ed),i=KSe()&&n.logo.length>=2?n.logo[0]:n.logo[1];return U.jsxs(U.Fragment,{children:[U.jsx("title",{children:n.name}),i&&U.jsx("link",{rel:"icon",href:i}),U.jsx("meta",{name:"description",content:n.about})]})},KSe=()=>{const[e,t]=B.useState(document.hasFocus());return B.useEffect(()=>{const n=()=>{t(!0)},r=()=>{t(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),e},yi=()=>Dr(Cd),GSe=()=>{const e=Fc();B.useEffect(()=>{_m().events.on(gi.SESSION_RESTORED,n=>{e(new URL(n).pathname,{replace:!0})})},[])},WSe=()=>{const e=Dr(XA);B.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",e)},[e])},ZSe="_box_1g1fk_7",QSe="_row_1g1fk_18",JSe="_header_1g1fk_18",YSe="_content_1g1fk_26",_d={box:ZSe,row:QSe,header:JSe,content:YSe},XSe=({children:e,page:t})=>U.jsx("div",{className:Fn(_d.box,t&&_d.page),children:e}),exe=({children:e})=>U.jsx("div",{className:Fn(_d.row,_d.header),children:e}),txe=({children:e})=>U.jsx("div",{className:Fn(_d.row,_d.content),children:e}),Xp=e=>typeof e=="number"&&!isNaN(e),Sc=e=>typeof e=="string",Go=e=>typeof e=="function",Zv=e=>Sc(e)||Go(e)?e:null,JT=e=>B.isValidElement(e)||Sc(e)||Go(e)||Xp(e);function nxe(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Qw(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(a){let{children:s,position:l,preventExitTransition:f,done:d,nodeRef:p,isIn:g,playToast:y}=a;const b=r?`${t}--${l}`:t,x=r?`${n}--${l}`:n,E=B.useRef(0);return B.useLayoutEffect(()=>{const v=p.current,w=b.split(" "),C=P=>{P.target===p.current&&(y(),v.removeEventListener("animationend",C),v.removeEventListener("animationcancel",C),E.current===0&&P.type!=="animationcancel"&&v.classList.remove(...w))};v.classList.add(...w),v.addEventListener("animationend",C),v.addEventListener("animationcancel",C)},[]),B.useEffect(()=>{const v=p.current,w=()=>{v.removeEventListener("animationend",w),i?nxe(v,d,o):d()};g||(f?w():(E.current=1,v.className+=` ${x}`,v.addEventListener("animationend",w)))},[g]),St.createElement(St.Fragment,null,s)}}function o4(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ro=new Map;let em=[];const YT=new Set,rxe=e=>YT.forEach(t=>t(e)),uH=()=>ro.size>0;function lH(e,t){var n;if(t)return!((n=ro.get(t))==null||!n.isToastActive(e));let r=!1;return ro.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function cH(e,t){JT(e)&&(uH()||em.push({content:e,options:t}),ro.forEach(n=>{n.buildToast(e,t)}))}function a4(e,t){ro.forEach(n=>{t!=null&&t!=null&&t.containerId?t?.containerId===n.id&&n.toggle(e,t?.id):n.toggle(e,t?.id)})}function ixe(e){const{subscribe:t,getSnapshot:n,setProps:r}=B.useRef((function(o){const a=o.containerId||1;return{subscribe(s){const l=(function(d,p,g){let y=1,b=0,x=[],E=[],v=[],w=p;const C=new Map,P=new Set,R=()=>{v=Array.from(C.values()),P.forEach(W=>W())},k=W=>{E=W==null?[]:E.filter(ee=>ee!==W),R()},M=W=>{const{toastId:ee,onOpen:z,updateId:H,children:te}=W.props,oe=H==null;W.staleId&&C.delete(W.staleId),C.set(ee,W),E=[...E,W.props.toastId].filter(ue=>ue!==W.staleId),R(),g(o4(W,oe?"added":"updated")),oe&&Go(z)&&z(B.isValidElement(te)&&te.props)};return{id:d,props:w,observe:W=>(P.add(W),()=>P.delete(W)),toggle:(W,ee)=>{C.forEach(z=>{ee!=null&&ee!==z.props.toastId||Go(z.toggle)&&z.toggle(W)})},removeToast:k,toasts:C,clearQueue:()=>{b-=x.length,x=[]},buildToast:(W,ee)=>{if((ce=>{let{containerId:G,toastId:X,updateId:ge}=ce;const xe=G?G!==d:d!==1,Ve=C.has(X)&&ge==null;return xe||Ve})(ee))return;const{toastId:z,updateId:H,data:te,staleId:oe,delay:ue}=ee,de=()=>{k(z)},se=H==null;se&&b++;const pe={...w,style:w.toastStyle,key:y++,...Object.fromEntries(Object.entries(ee).filter(ce=>{let[G,X]=ce;return X!=null})),toastId:z,updateId:H,data:te,closeToast:de,isIn:!1,className:Zv(ee.className||w.toastClassName),bodyClassName:Zv(ee.bodyClassName||w.bodyClassName),progressClassName:Zv(ee.progressClassName||w.progressClassName),autoClose:!ee.isLoading&&(re=ee.autoClose,Ee=w.autoClose,re===!1||Xp(re)&&re>0?re:Ee),deleteToast(){const ce=C.get(z),{onClose:G,children:X}=ce.props;Go(G)&&G(B.isValidElement(X)&&X.props),g(o4(ce,"removed")),C.delete(z),b--,b<0&&(b=0),x.length>0?M(x.shift()):R()}};var re,Ee;pe.closeButton=w.closeButton,ee.closeButton===!1||JT(ee.closeButton)?pe.closeButton=ee.closeButton:ee.closeButton===!0&&(pe.closeButton=!JT(w.closeButton)||w.closeButton);let $=W;B.isValidElement(W)&&!Sc(W.type)?$=B.cloneElement(W,{closeToast:de,toastProps:pe,data:te}):Go(W)&&($=W({closeToast:de,toastProps:pe,data:te}));const Q={content:$,props:pe,staleId:oe};w.limit&&w.limit>0&&b>w.limit&&se?x.push(Q):Xp(ue)?setTimeout(()=>{M(Q)},ue):M(Q)},setProps(W){w=W},setToggle:(W,ee)=>{C.get(W).toggle=ee},isToastActive:W=>E.some(ee=>ee===W),getSnapshot:()=>v}})(a,o,rxe);ro.set(a,l);const f=l.observe(s);return em.forEach(d=>cH(d.content,d.options)),em=[],()=>{f(),ro.delete(a)}},setProps(s){var l;(l=ro.get(a))==null||l.setProps(s)},getSnapshot(){var s;return(s=ro.get(a))==null?void 0:s.getSnapshot()}}})(e)).current;r(e);const i=B.useSyncExternalStore(t,n,n);return{getToastToRender:function(o){if(!i)return[];const a=new Map;return e.newestOnTop&&i.reverse(),i.forEach(s=>{const{position:l}=s.props;a.has(l)||a.set(l,[]),a.get(l).push(s)}),Array.from(a,s=>o(s[0],s[1]))},isToastActive:lH,count:i?.length}}function oxe(e){const[t,n]=B.useState(!1),[r,i]=B.useState(!1),o=B.useRef(null),a=B.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:f,onClick:d,closeOnClick:p}=e;var g,y;function b(){n(!0)}function x(){n(!1)}function E(C){const P=o.current;a.canDrag&&P&&(a.didMove=!0,t&&x(),a.delta=e.draggableDirection==="x"?C.clientX-a.start:C.clientY-a.start,a.start!==C.clientX&&(a.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${a.delta}px, var(--y)`:`0, calc(${a.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function v(){document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",v);const C=o.current;if(a.canDrag&&a.didMove&&C){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();C.style.transition="transform 0.2s, opacity 0.2s",C.style.removeProperty("transform"),C.style.removeProperty("opacity")}}(y=ro.get((g={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||y.setToggle(g.id,g.fn),B.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||x(),window.addEventListener("focus",b),window.addEventListener("blur",x),()=>{window.removeEventListener("focus",b),window.removeEventListener("blur",x)}},[e.pauseOnFocusLoss]);const w={onPointerDown:function(C){if(e.draggable===!0||e.draggable===C.pointerType){a.didMove=!1,document.addEventListener("pointermove",E),document.addEventListener("pointerup",v);const P=o.current;a.canCloseOnClick=!0,a.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(a.start=C.clientX,a.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(a.start=C.clientY,a.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(C){const{top:P,bottom:R,left:k,right:M}=o.current.getBoundingClientRect();C.nativeEvent.type!=="touchend"&&e.pauseOnHover&&C.clientX>=k&&C.clientX<=M&&C.clientY>=P&&C.clientY<=R?x():b()}};return s&&l&&(w.onMouseEnter=x,e.stacked||(w.onMouseLeave=b)),p&&(w.onClick=C=>{d&&d(C),a.canCloseOnClick&&f()}),{playToast:b,pauseToast:x,isRunning:t,preventExitTransition:r,toastRef:o,eventHandlers:w}}function axe(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:o,className:a,style:s,controlledProgress:l,progress:f,rtl:d,isIn:p,theme:g}=e;const y=o||l&&f===0,b={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(b.transform=`scaleX(${f})`);const x=Fn("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),E=Go(a)?a({rtl:d,type:i,defaultClassName:x}):Fn(x,a),v={[l&&f>=1?"onTransitionEnd":"onAnimationEnd"]:l&&f<1?null:()=>{p&&r()}};return St.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},St.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${g} Toastify__progress-bar--${i}`}),St.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:E,style:b,...v}))}let sxe=1;const fH=()=>""+sxe++;function uxe(e){return e&&(Sc(e.toastId)||Xp(e.toastId))?e.toastId:fH()}function Tp(e,t){return cH(e,t),t.toastId}function L_(e,t){return{...t,type:t&&t.type||e,toastId:uxe(t)}}function Cy(e){return(t,n)=>Tp(t,L_(e,n))}function wr(e,t){return Tp(e,L_("default",t))}wr.loading=(e,t)=>Tp(e,L_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),wr.promise=function(e,t,n){let r,{pending:i,error:o,success:a}=t;i&&(r=Sc(i)?wr.loading(i,n):wr.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,p,g)=>{if(p==null)return void wr.dismiss(r);const y={type:d,...s,...n,data:g},b=Sc(p)?{render:p}:p;return r?wr.update(r,{...y,...b}):wr(b.render,{...y,...b}),g},f=Go(e)?e():e;return f.then(d=>l("success",a,d)).catch(d=>l("error",o,d)),f},wr.success=Cy("success"),wr.info=Cy("info"),wr.error=Cy("error"),wr.warning=Cy("warning"),wr.warn=wr.warning,wr.dark=(e,t)=>Tp(e,L_("default",{theme:"dark",...t})),wr.dismiss=function(e){(function(t){var n;if(uH()){if(t==null||Sc(n=t)||Xp(n))ro.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=ro.get(t.containerId);r?r.removeToast(t.id):ro.forEach(i=>{i.removeToast(t.id)})}}else em=em.filter(r=>t!=null&&r.options.toastId!==t)})(e)},wr.clearWaitingQueue=function(e){e===void 0&&(e={}),ro.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},wr.isActive=lH,wr.update=function(e,t){t===void 0&&(t={});const n=((r,i)=>{var o;let{containerId:a}=i;return(o=ro.get(a||1))==null?void 0:o.toasts.get(r)})(e,t);if(n){const{props:r,content:i}=n,o={delay:100,...r,...t,toastId:t.toastId||e,updateId:fH()};o.toastId!==e&&(o.staleId=e);const a=o.render||i;delete o.render,Tp(a,o)}},wr.done=e=>{wr.update(e,{progress:1})},wr.onChange=function(e){return YT.add(e),()=>{YT.delete(e)}},wr.play=e=>a4(!0,e),wr.pause=e=>a4(!1,e);const lxe=typeof window<"u"?B.useLayoutEffect:B.useEffect,Ty=e=>{let{theme:t,type:n,isLoading:r,...i}=e;return St.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},q2={info:function(e){return St.createElement(Ty,{...e},St.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return St.createElement(Ty,{...e},St.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return St.createElement(Ty,{...e},St.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return St.createElement(Ty,{...e},St.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return St.createElement("div",{className:"Toastify__spinner"})}},cxe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:o}=oxe(e),{closeButton:a,children:s,autoClose:l,onClick:f,type:d,hideProgressBar:p,closeToast:g,transition:y,position:b,className:x,style:E,bodyClassName:v,bodyStyle:w,progressClassName:C,progressStyle:P,updateId:R,role:k,progress:M,rtl:W,toastId:ee,deleteToast:z,isIn:H,isLoading:te,closeOnClick:oe,theme:ue}=e,de=Fn("Toastify__toast",`Toastify__toast-theme--${ue}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":W},{"Toastify__toast--close-on-click":oe}),se=Go(x)?x({rtl:W,position:b,type:d,defaultClassName:de}):Fn(de,x),pe=(function(Q){let{theme:ce,type:G,isLoading:X,icon:ge}=Q,xe=null;const Ve={theme:ce,type:G};return ge===!1||(Go(ge)?xe=ge({...Ve,isLoading:X}):B.isValidElement(ge)?xe=B.cloneElement(ge,Ve):X?xe=q2.spinner():(Pe=>Pe in q2)(G)&&(xe=q2[G](Ve))),xe})(e),re=!!M||!l,Ee={closeToast:g,type:d,theme:ue};let $=null;return a===!1||($=Go(a)?a(Ee):B.isValidElement(a)?B.cloneElement(a,Ee):(function(Q){let{closeToast:ce,theme:G,ariaLabel:X="close"}=Q;return St.createElement("button",{className:`Toastify__close-button Toastify__close-button--${G}`,type:"button",onClick:ge=>{ge.stopPropagation(),ce(ge)},"aria-label":X},St.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},St.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))})(Ee)),St.createElement(y,{isIn:H,done:z,position:b,preventExitTransition:n,nodeRef:r,playToast:o},St.createElement("div",{id:ee,onClick:f,"data-in":H,className:se,...i,style:E,ref:r},St.createElement("div",{...H&&{role:k},className:Go(v)?v({type:d}):Fn("Toastify__toast-body",v),style:w},pe!=null&&St.createElement("div",{className:Fn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!te})},pe),St.createElement("div",null,s)),$,St.createElement(axe,{...R&&!re?{key:`pb-${R}`}:{},rtl:W,theme:ue,delay:l,isRunning:t,isIn:H,closeToast:g,hide:p,type:d,style:P,className:C,controlledProgress:re,progress:M||0})))},Jw=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},fxe=Qw(Jw("bounce",!0)),dxe=Qw(Jw("slide",!0));Qw(Jw("zoom"));Qw(Jw("flip"));const hxe={position:"top-right",transition:fxe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function pxe(e){let t={...hxe,...e};const n=e.stacked,[r,i]=B.useState(!0),o=B.useRef(null),{getToastToRender:a,isToastActive:s,count:l}=ixe(t),{className:f,style:d,rtl:p,containerId:g}=t;function y(x){const E=Fn("Toastify__toast-container",`Toastify__toast-container--${x}`,{"Toastify__toast-container--rtl":p});return Go(f)?f({position:x,rtl:p,defaultClassName:E}):Fn(E,Zv(f))}function b(){n&&(i(!0),wr.play())}return lxe(()=>{if(n){var x;const E=o.current.querySelectorAll('[data-in="true"]'),v=12,w=(x=t.position)==null?void 0:x.includes("top");let C=0,P=0;Array.from(E).reverse().forEach((R,k)=>{const M=R;M.classList.add("Toastify__toast--stacked"),k>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=w?"top":"bot");const W=C*(r?.2:1)+(r?0:v*k);M.style.setProperty("--y",`${w?W:-1*W}px`),M.style.setProperty("--g",`${v}`),M.style.setProperty("--s",""+(1-(r?P:0))),C+=M.offsetHeight,P+=.025})}},[r,l,n]),St.createElement("div",{ref:o,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),wr.pause())},onMouseLeave:b},a((x,E)=>{const v=E.length?{...d}:{...d,pointerEvents:"none"};return St.createElement("div",{className:y(x),style:v,key:`container-${x}`},E.map(w=>{let{content:C,props:P}=w;return St.createElement(cxe,{...P,stacked:n,collapseAll:b,isIn:s(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},C)}))}))}const mxe=()=>{bme(),GSe();const e=bl(),t=yi();return WSe(),B.useEffect(()=>{(async()=>{const n=await tte({restorePreviousSession:!0});n&&e(nR.signin(n))})()},[e]),U.jsxs(XSe,{children:[U.jsx(VSe,{}),U.jsx(pxe,{transition:dxe}),U.jsx(exe,{children:U.jsx(Dwe,{})}),U.jsx(txe,{children:t.isLoggedIn===void 0?U.jsx(_t,{id:"Z3FXyt"}):U.jsx(X_,{})})]})};function gxe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const yxe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,vxe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,_xe={};function s4(e,t){return(_xe.jsx?vxe:yxe).test(e)}const wxe=/[ \t\n\f\r]/g;function bxe(e){return typeof e=="object"?e.type==="text"?u4(e.value):!1:u4(e)}function u4(e){return e.replace(wxe,"")===""}class Mm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Mm.prototype.normal={};Mm.prototype.property={};Mm.prototype.space=void 0;function dH(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Mm(n,r,t)}function XT(e){return e.toLowerCase()}class Po{constructor(t,n){this.attribute=n,this.property=t}}Po.prototype.attribute="";Po.prototype.booleanish=!1;Po.prototype.boolean=!1;Po.prototype.commaOrSpaceSeparated=!1;Po.prototype.commaSeparated=!1;Po.prototype.defined=!1;Po.prototype.mustUseProperty=!1;Po.prototype.number=!1;Po.prototype.overloadedBoolean=!1;Po.prototype.property="";Po.prototype.spaceSeparated=!1;Po.prototype.space=void 0;let Sxe=0;const _n=Kc(),ni=Kc(),eA=Kc(),Mt=Kc(),br=Kc(),sd=Kc(),Uo=Kc();function Kc(){return 2**++Sxe}const tA=Object.freeze(Object.defineProperty({__proto__:null,boolean:_n,booleanish:ni,commaOrSpaceSeparated:Uo,commaSeparated:sd,number:Mt,overloadedBoolean:eA,spaceSeparated:br},Symbol.toStringTag,{value:"Module"})),H2=Object.keys(tA);class xP extends Po{constructor(t,n,r,i){let o=-1;if(super(t,n),l4(this,"space",i),typeof r=="number")for(;++o<H2.length;){const a=H2[o];l4(this,H2[o],(r&tA[a])===tA[a])}}}xP.prototype.defined=!0;function l4(e,t,n){n&&(e[t]=n)}function Bd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new xP(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[XT(r)]=r,n[XT(o.attribute)]=r}return new Mm(t,n,e.space)}const hH=Bd({properties:{ariaActiveDescendant:null,ariaAtomic:ni,ariaAutoComplete:null,ariaBusy:ni,ariaChecked:ni,ariaColCount:Mt,ariaColIndex:Mt,ariaColSpan:Mt,ariaControls:br,ariaCurrent:null,ariaDescribedBy:br,ariaDetails:null,ariaDisabled:ni,ariaDropEffect:br,ariaErrorMessage:null,ariaExpanded:ni,ariaFlowTo:br,ariaGrabbed:ni,ariaHasPopup:null,ariaHidden:ni,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:br,ariaLevel:Mt,ariaLive:null,ariaModal:ni,ariaMultiLine:ni,ariaMultiSelectable:ni,ariaOrientation:null,ariaOwns:br,ariaPlaceholder:null,ariaPosInSet:Mt,ariaPressed:ni,ariaReadOnly:ni,ariaRelevant:null,ariaRequired:ni,ariaRoleDescription:br,ariaRowCount:Mt,ariaRowIndex:Mt,ariaRowSpan:Mt,ariaSelected:ni,ariaSetSize:Mt,ariaSort:null,ariaValueMax:Mt,ariaValueMin:Mt,ariaValueNow:Mt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function pH(e,t){return t in e?e[t]:t}function mH(e,t){return pH(e,t.toLowerCase())}const xxe=Bd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sd,acceptCharset:br,accessKey:br,action:null,allow:null,allowFullScreen:_n,allowPaymentRequest:_n,allowUserMedia:_n,alt:null,as:null,async:_n,autoCapitalize:null,autoComplete:br,autoFocus:_n,autoPlay:_n,blocking:br,capture:null,charSet:null,checked:_n,cite:null,className:br,cols:Mt,colSpan:null,content:null,contentEditable:ni,controls:_n,controlsList:br,coords:Mt|sd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_n,defer:_n,dir:null,dirName:null,disabled:_n,download:eA,draggable:ni,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_n,formTarget:null,headers:br,height:Mt,hidden:eA,high:Mt,href:null,hrefLang:null,htmlFor:br,httpEquiv:br,id:null,imageSizes:null,imageSrcSet:null,inert:_n,inputMode:null,integrity:null,is:null,isMap:_n,itemId:null,itemProp:br,itemRef:br,itemScope:_n,itemType:br,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_n,low:Mt,manifest:null,max:null,maxLength:Mt,media:null,method:null,min:null,minLength:Mt,multiple:_n,muted:_n,name:null,nonce:null,noModule:_n,noValidate:_n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_n,optimum:Mt,pattern:null,ping:br,placeholder:null,playsInline:_n,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_n,referrerPolicy:null,rel:br,required:_n,reversed:_n,rows:Mt,rowSpan:Mt,sandbox:br,scope:null,scoped:_n,seamless:_n,selected:_n,shadowRootClonable:_n,shadowRootDelegatesFocus:_n,shadowRootMode:null,shape:null,size:Mt,sizes:null,slot:null,span:Mt,spellCheck:ni,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Mt,step:null,style:null,tabIndex:Mt,target:null,title:null,translate:null,type:null,typeMustMatch:_n,useMap:null,value:ni,width:Mt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:br,axis:null,background:null,bgColor:null,border:Mt,borderColor:null,bottomMargin:Mt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_n,declare:_n,event:null,face:null,frame:null,frameBorder:null,hSpace:Mt,leftMargin:Mt,link:null,longDesc:null,lowSrc:null,marginHeight:Mt,marginWidth:Mt,noResize:_n,noHref:_n,noShade:_n,noWrap:_n,object:null,profile:null,prompt:null,rev:null,rightMargin:Mt,rules:null,scheme:null,scrolling:ni,standby:null,summary:null,text:null,topMargin:Mt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Mt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_n,disableRemotePlayback:_n,prefix:null,property:null,results:Mt,security:null,unselectable:null},space:"html",transform:mH}),Exe=Bd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Uo,accentHeight:Mt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Mt,amplitude:Mt,arabicForm:null,ascent:Mt,attributeName:null,attributeType:null,azimuth:Mt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Mt,by:null,calcMode:null,capHeight:Mt,className:br,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Mt,diffuseConstant:Mt,direction:null,display:null,dur:null,divisor:Mt,dominantBaseline:null,download:_n,dx:null,dy:null,edgeMode:null,editable:null,elevation:Mt,enableBackground:null,end:null,event:null,exponent:Mt,externalResourcesRequired:null,fill:null,fillOpacity:Mt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sd,g2:sd,glyphName:sd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Mt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Mt,horizOriginX:Mt,horizOriginY:Mt,id:null,ideographic:Mt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Mt,k:Mt,k1:Mt,k2:Mt,k3:Mt,k4:Mt,kernelMatrix:Uo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Mt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Mt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Mt,overlineThickness:Mt,paintOrder:null,panose1:null,path:null,pathLength:Mt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:br,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Mt,pointsAtY:Mt,pointsAtZ:Mt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Uo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Uo,rev:Uo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Uo,requiredFeatures:Uo,requiredFonts:Uo,requiredFormats:Uo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Mt,specularExponent:Mt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Mt,strikethroughThickness:Mt,string:null,stroke:null,strokeDashArray:Uo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Mt,strokeOpacity:Mt,strokeWidth:null,style:null,surfaceScale:Mt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Uo,tabIndex:Mt,tableValues:null,target:null,targetX:Mt,targetY:Mt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Uo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Mt,underlineThickness:Mt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Mt,values:null,vAlphabetic:Mt,vMathematical:Mt,vectorEffect:null,vHanging:Mt,vIdeographic:Mt,version:null,vertAdvY:Mt,vertOriginX:Mt,vertOriginY:Mt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Mt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:pH}),gH=Bd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),yH=Bd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:mH}),vH=Bd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Cxe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Txe=/[A-Z]/g,c4=/-[a-z]/g,Axe=/^data[-\w.:]+$/i;function Rxe(e,t){const n=XT(t);let r=t,i=Po;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Axe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(c4,Oxe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!c4.test(o)){let a=o.replace(Txe,Pxe);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=xP}return new i(r,t)}function Pxe(e){return"-"+e.toLowerCase()}function Oxe(e){return e.charAt(1).toUpperCase()}const Mxe=dH([hH,xxe,gH,yH,vH],"html"),EP=dH([hH,Exe,gH,yH,vH],"svg");function Lxe(e){return e.join(" ").trim()}var jf={},V2,f4;function Ixe(){if(f4)return V2;f4=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,f="/",d="*",p="",g="comment",y="declaration";function b(E,v){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];v=v||{};var w=1,C=1;function P(ue){var de=ue.match(t);de&&(w+=de.length);var se=ue.lastIndexOf(l);C=~se?ue.length-se:C+ue.length}function R(){var ue={line:w,column:C};return function(de){return de.position=new k(ue),ee(),de}}function k(ue){this.start=ue,this.end={line:w,column:C},this.source=v.source}k.prototype.content=E;function M(ue){var de=new Error(v.source+":"+w+":"+C+": "+ue);if(de.reason=ue,de.filename=v.source,de.line=w,de.column=C,de.source=E,!v.silent)throw de}function W(ue){var de=ue.exec(E);if(de){var se=de[0];return P(se),E=E.slice(se.length),de}}function ee(){W(n)}function z(ue){var de;for(ue=ue||[];de=H();)de!==!1&&ue.push(de);return ue}function H(){var ue=R();if(!(f!=E.charAt(0)||d!=E.charAt(1))){for(var de=2;p!=E.charAt(de)&&(d!=E.charAt(de)||f!=E.charAt(de+1));)++de;if(de+=2,p===E.charAt(de-1))return M("End of comment missing");var se=E.slice(2,de-2);return C+=2,P(se),E=E.slice(de),C+=2,ue({type:g,comment:se})}}function te(){var ue=R(),de=W(r);if(de){if(H(),!W(i))return M("property missing ':'");var se=W(o),pe=ue({type:y,property:x(de[0].replace(e,p)),value:se?x(se[0].replace(e,p)):p});return W(a),pe}}function oe(){var ue=[];z(ue);for(var de;de=te();)de!==!1&&(ue.push(de),z(ue));return ue}return ee(),oe()}function x(E){return E?E.replace(s,p):p}return V2=b,V2}var d4;function kxe(){if(d4)return jf;d4=1;var e=jf&&jf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jf,"__esModule",{value:!0}),jf.default=n;const t=e(Ixe());function n(r,i){let o=null;if(!r||typeof r!="string")return o;const a=(0,t.default)(r),s=typeof i=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:f,value:d}=l;s?i(f,d,l):d&&(o=o||{},o[f]=d)}),o}return jf}var Yh={},h4;function Dxe(){if(h4)return Yh;h4=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(f){return!f||n.test(f)||e.test(f)},a=function(f,d){return d.toUpperCase()},s=function(f,d){return"".concat(d,"-")},l=function(f,d){return d===void 0&&(d={}),o(f)?f:(f=f.toLowerCase(),d.reactCompat?f=f.replace(i,s):f=f.replace(r,s),f.replace(t,a))};return Yh.camelCase=l,Yh}var Xh,p4;function Nxe(){if(p4)return Xh;p4=1;var e=Xh&&Xh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(kxe()),n=Dxe();function r(i,o){var a={};return!i||typeof i!="string"||(0,t.default)(i,function(s,l){s&&l&&(a[(0,n.camelCase)(s,o)]=l)}),a}return r.default=r,Xh=r,Xh}var Fxe=Nxe();const jxe=_r(Fxe),_H=wH("end"),CP=wH("start");function wH(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Uxe(e){const t=CP(e),n=_H(e);if(t&&n)return{start:t,end:n}}function Ap(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?m4(e.position):"start"in e||"end"in e?m4(e):"line"in e||"column"in e?nA(e):""}function nA(e){return g4(e&&e.line)+":"+g4(e&&e.column)}function m4(e){return nA(e&&e.start)+"-"+nA(e&&e.end)}function g4(e){return e&&typeof e=="number"?e:1}class Gi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},a=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(a=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const s=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=s?s.line:void 0,this.name=Ap(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=a&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Gi.prototype.file="";Gi.prototype.name="";Gi.prototype.reason="";Gi.prototype.message="";Gi.prototype.stack="";Gi.prototype.column=void 0;Gi.prototype.line=void 0;Gi.prototype.ancestors=void 0;Gi.prototype.cause=void 0;Gi.prototype.fatal=void 0;Gi.prototype.place=void 0;Gi.prototype.ruleId=void 0;Gi.prototype.source=void 0;const TP={}.hasOwnProperty,Bxe=new Map,$xe=/[A-Z]/g,zxe=new Set(["table","tbody","thead","tfoot","tr"]),qxe=new Set(["td","th"]),bH="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Hxe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Yxe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Jxe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?EP:Mxe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=SH(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function SH(e,t,n){if(t.type==="element")return Vxe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Kxe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Wxe(e,t,n);if(t.type==="mdxjsEsm")return Gxe(e,t);if(t.type==="root")return Zxe(e,t,n);if(t.type==="text")return Qxe(e,t)}function Vxe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=EP,e.schema=i),e.ancestors.push(t);const o=EH(e,t.tagName,!1),a=Xxe(e,t);let s=RP(e,t);return zxe.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!bxe(l):!0})),xH(e,a,o,t),AP(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function Kxe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}tm(e,t.position)}function Gxe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);tm(e,t.position)}function Wxe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=EP,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:EH(e,t.name,!0),a=eEe(e,t),s=RP(e,t);return xH(e,a,o,t),AP(a,s),e.ancestors.pop(),e.schema=r,e.create(t,o,a,n)}function Zxe(e,t,n){const r={};return AP(r,RP(e,t)),e.create(t,e.Fragment,r,n)}function Qxe(e,t){return t.value}function xH(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function AP(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Jxe(e,t,n){return r;function r(i,o,a,s){const f=Array.isArray(a.children)?n:t;return s?f(o,a,s):f(o,a)}}function Yxe(e,t){return n;function n(r,i,o,a){const s=Array.isArray(o.children),l=CP(r);return t(i,o,a,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Xxe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&TP.call(t.properties,i)){const o=tEe(e,i,t.properties[i]);if(o){const[a,s]=o;e.tableCellAlignToStyle&&a==="align"&&typeof s=="string"&&qxe.has(t.tagName)?r=s:n[a]=s}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function eEe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const a=o.expression;a.type;const s=a.properties[0];s.type,Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else tm(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const s=r.value.data.estree.body[0];s.type,o=e.evaluater.evaluateExpression(s.expression)}else tm(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function RP(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Bxe;for(;++r<t.children.length;){const o=t.children[r];let a;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const f=i.get(l)||0;a=l+"-"+f,i.set(l,f+1)}}const s=SH(e,o,a);s!==void 0&&n.push(s)}return n}function tEe(e,t,n){const r=Rxe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?gxe(n):Lxe(n)),r.property==="style"){let i=typeof n=="object"?n:nEe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=rEe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Cxe[r.property]||r.property:r.attribute,n]}}function nEe(e,t){try{return jxe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Gi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=bH+"#cannot-parse-style-attribute",i}}function EH(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,a;for(;++o<i.length;){const s=s4(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};a=a?{type:"MemberExpression",object:a,property:s,computed:!!(o&&s.type==="Literal"),optional:!1}:s}r=a}else r=s4(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return TP.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);tm(e)}function tm(e,t){const n=new Gi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=bH+"#cannot-handle-mdx-estrees-without-createevaluater",n}function rEe(e){const t={};let n;for(n in e)TP.call(e,n)&&(t[iEe(n)]=e[n]);return t}function iEe(e){let t=e.replace($xe,oEe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function oEe(e){return"-"+e.toLowerCase()}const K2={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},aEe={};function sEe(e,t){const n=aEe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return CH(e,r,i)}function CH(e,t,n){if(uEe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return y4(e.children,t,n)}return Array.isArray(e)?y4(e,t,n):""}function y4(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=CH(e[i],t,n);return r.join("")}function uEe(e){return!!(e&&typeof e=="object")}const v4=document.createElement("i");function PP(e){const t="&"+e+";";v4.innerHTML=t;const n=v4.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ts(e,t,n,r){const i=e.length;let o=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);o<r.length;)a=r.slice(o,o+1e4),a.unshift(t,0),e.splice(...a),o+=1e4,t+=1e4}function ma(e,t){return e.length>0?(Ts(e,e.length,0,t),e):t}const _4={}.hasOwnProperty;function lEe(e){const t={};let n=-1;for(;++n<e.length;)cEe(t,e[n]);return t}function cEe(e,t){let n;for(n in t){const i=(_4.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let a;if(o)for(a in o){_4.call(i,a)||(i[a]=[]);const s=o[a];fEe(i[a],Array.isArray(s)?s:s?[s]:[])}}}function fEe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ts(e,0,0,r)}function TH(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function ud(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const ys=Al(/[A-Za-z]/),Wo=Al(/[\dA-Za-z]/),dEe=Al(/[#-'*+\--9=?A-Z^-~]/);function rA(e){return e!==null&&(e<32||e===127)}const iA=Al(/\d/),hEe=Al(/[\dA-Fa-f]/),pEe=Al(/[!-/:-@[-`{-~]/);function sn(e){return e!==null&&e<-2}function To(e){return e!==null&&(e<0||e===32)}function Zn(e){return e===-2||e===-1||e===32}const mEe=Al(new RegExp("\\p{P}|\\p{S}","u")),gEe=Al(/\s/);function Al(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function $d(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let a="";if(o===37&&Wo(e.charCodeAt(n+1))&&Wo(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=e.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),i=1):a=""}else a=String.fromCharCode(o);a&&(t.push(e.slice(r,n),encodeURIComponent(a)),r=n+i+1,a=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Sr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Zn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Zn(l)&&o++<i?(e.consume(l),s):(e.exit(n),t(l))}}const yEe={tokenize:vEe};function vEe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Sr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),o(s)}function o(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return sn(s)?(e.consume(s),e.exit("chunkText"),o):(e.consume(s),a)}}const _Ee={tokenize:wEe},w4={tokenize:bEe};function wEe(e){const t=this,n=[];let r=0,i,o,a;return s;function s(C){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,f)(C)}return f(C)}function l(C){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const P=t.events.length;let R=P,k;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){k=t.events[R][1].end;break}v(r);let M=P;for(;M<t.events.length;)t.events[M][1].end={...k},M++;return Ts(t.events,R+1,0,t.events.slice(P)),t.events.length=M,f(C)}return s(C)}function f(C){if(r===n.length){if(!i)return g(C);if(i.currentConstruct&&i.currentConstruct.concrete)return b(C);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(w4,d,p)(C)}function d(C){return i&&w(),v(r),g(C)}function p(C){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,b(C)}function g(C){return t.containerState={},e.attempt(w4,y,b)(C)}function y(C){return r++,n.push([t.currentConstruct,t.containerState]),g(C)}function b(C){if(C===null){i&&w(),v(0),e.consume(C);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x(C)}function x(C){if(C===null){E(e.exit("chunkFlow"),!0),v(0),e.consume(C);return}return sn(C)?(e.consume(C),E(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(C),x)}function E(C,P){const R=t.sliceStream(C);if(P&&R.push(null),C.previous=o,o&&(o.next=C),o=C,i.defineSkip(C.start),i.write(R),t.parser.lazy[C.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<a&&(!i.events[k][1].end||i.events[k][1].end.offset>a))return;const M=t.events.length;let W=M,ee,z;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(ee){z=t.events[W][1].end;break}ee=!0}for(v(r),k=M;k<t.events.length;)t.events[k][1].end={...z},k++;Ts(t.events,W+1,0,t.events.slice(M)),t.events.length=k}}function v(C){let P=n.length;for(;P-- >C;){const R=n[P];t.containerState=R[1],R[0].exit.call(t,e)}n.length=C}function w(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bEe(e,t,n){return Sr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function b4(e){if(e===null||To(e)||gEe(e))return 1;if(mEe(e))return 2}function OP(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const oA={name:"attention",resolveAll:SEe,tokenize:xEe};function SEe(e,t){let n=-1,r,i,o,a,s,l,f,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const p={...e[r][1].end},g={...e[n][1].start};S4(p,-l),S4(g,l),a={type:l>1?"strongSequence":"emphasisSequence",start:p,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...s.end}},e[r][1].end={...a.start},e[n][1].start={...s.end},f=[],e[r][1].end.offset-e[r][1].start.offset&&(f=ma(f,[["enter",e[r][1],t],["exit",e[r][1],t]])),f=ma(f,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",o,t]]),f=ma(f,OP(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),f=ma(f,[["exit",o,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,f=ma(f,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ts(e,r-1,n-r+3,f),n=r+f.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function xEe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=b4(r);let o;return a;function a(l){return o=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===o)return e.consume(l),s;const f=e.exit("attentionSequence"),d=b4(l),p=!d||d===2&&i||n.includes(l),g=!i||i===2&&d||n.includes(r);return f._open=!!(o===42?p:p&&(i||!g)),f._close=!!(o===42?g:g&&(d||!p)),t(l)}}function S4(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const EEe={name:"autolink",tokenize:CEe};function CEe(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(y){return ys(y)?(e.consume(y),a):y===64?n(y):f(y)}function a(y){return y===43||y===45||y===46||Wo(y)?(r=1,s(y)):f(y)}function s(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||Wo(y))&&r++<32?(e.consume(y),s):(r=0,f(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||rA(y)?n(y):(e.consume(y),l)}function f(y){return y===64?(e.consume(y),d):dEe(y)?(e.consume(y),f):n(y)}function d(y){return Wo(y)?p(y):n(y)}function p(y){return y===46?(e.consume(y),r=0,d):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):g(y)}function g(y){if((y===45||Wo(y))&&r++<63){const b=y===45?g:p;return e.consume(y),b}return n(y)}}const Yw={partial:!0,tokenize:TEe};function TEe(e,t,n){return r;function r(o){return Zn(o)?Sr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||sn(o)?t(o):n(o)}}const AH={continuation:{tokenize:REe},exit:PEe,name:"blockQuote",tokenize:AEe};function AEe(e,t,n){const r=this;return i;function i(a){if(a===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Zn(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function REe(e,t,n){const r=this;return i;function i(a){return Zn(a)?Sr(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):o(a)}function o(a){return e.attempt(AH,t,n)(a)}}function PEe(e){e.exit("blockQuote")}const RH={name:"characterEscape",tokenize:OEe};function OEe(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return pEe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const PH={name:"characterReference",tokenize:MEe};function MEe(e,t,n){const r=this;let i=0,o,a;return s;function s(p){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),l}function l(p){return p===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(p),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),o=31,a=Wo,d(p))}function f(p){return p===88||p===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(p),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,a=hEe,d):(e.enter("characterReferenceValue"),o=7,a=iA,d(p))}function d(p){if(p===59&&i){const g=e.exit("characterReferenceValue");return a===Wo&&!PP(r.sliceSerialize(g))?n(p):(e.enter("characterReferenceMarker"),e.consume(p),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(p)&&i++<o?(e.consume(p),d):n(p)}}const x4={partial:!0,tokenize:IEe},E4={concrete:!0,name:"codeFenced",tokenize:LEe};function LEe(e,t,n){const r=this,i={partial:!0,tokenize:R};let o=0,a=0,s;return l;function l(k){return f(k)}function f(k){const M=r.events[r.events.length-1];return o=M&&M[1].type==="linePrefix"?M[2].sliceSerialize(M[1],!0).length:0,s=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===s?(a++,e.consume(k),d):a<3?n(k):(e.exit("codeFencedFenceSequence"),Zn(k)?Sr(e,p,"whitespace")(k):p(k))}function p(k){return k===null||sn(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(x4,x,P)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||sn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),p(k)):Zn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Sr(e,y,"whitespace")(k)):k===96&&k===s?n(k):(e.consume(k),g)}function y(k){return k===null||sn(k)?p(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(k))}function b(k){return k===null||sn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),p(k)):k===96&&k===s?n(k):(e.consume(k),b)}function x(k){return e.attempt(i,P,E)(k)}function E(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),v}function v(k){return o>0&&Zn(k)?Sr(e,w,"linePrefix",o+1)(k):w(k)}function w(k){return k===null||sn(k)?e.check(x4,x,P)(k):(e.enter("codeFlowValue"),C(k))}function C(k){return k===null||sn(k)?(e.exit("codeFlowValue"),w(k)):(e.consume(k),C)}function P(k){return e.exit("codeFenced"),t(k)}function R(k,M,W){let ee=0;return z;function z(de){return k.enter("lineEnding"),k.consume(de),k.exit("lineEnding"),H}function H(de){return k.enter("codeFencedFence"),Zn(de)?Sr(k,te,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(de):te(de)}function te(de){return de===s?(k.enter("codeFencedFenceSequence"),oe(de)):W(de)}function oe(de){return de===s?(ee++,k.consume(de),oe):ee>=a?(k.exit("codeFencedFenceSequence"),Zn(de)?Sr(k,ue,"whitespace")(de):ue(de)):W(de)}function ue(de){return de===null||sn(de)?(k.exit("codeFencedFence"),M(de)):W(de)}}}function IEe(e,t,n){const r=this;return i;function i(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}const G2={name:"codeIndented",tokenize:DEe},kEe={partial:!0,tokenize:NEe};function DEe(e,t,n){const r=this;return i;function i(f){return e.enter("codeIndented"),Sr(e,o,"linePrefix",5)(f)}function o(f){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(f):n(f)}function a(f){return f===null?l(f):sn(f)?e.attempt(kEe,a,l)(f):(e.enter("codeFlowValue"),s(f))}function s(f){return f===null||sn(f)?(e.exit("codeFlowValue"),a(f)):(e.consume(f),s)}function l(f){return e.exit("codeIndented"),t(f)}}function NEe(e,t,n){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):sn(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Sr(e,o,"linePrefix",5)(a)}function o(a){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):sn(a)?i(a):n(a)}}const FEe={name:"codeText",previous:UEe,resolve:jEe,tokenize:BEe};function jEe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function UEe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BEe(e,t,n){let r=0,i,o;return a;function a(p){return e.enter("codeText"),e.enter("codeTextSequence"),s(p)}function s(p){return p===96?(e.consume(p),r++,s):(e.exit("codeTextSequence"),l(p))}function l(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),l):p===96?(o=e.enter("codeTextSequence"),i=0,d(p)):sn(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),l):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||sn(p)?(e.exit("codeTextData"),l(p)):(e.consume(p),f)}function d(p){return p===96?(e.consume(p),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(o.type="codeTextData",f(p))}}class $Ee{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&ep(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),ep(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),ep(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);ep(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);ep(this.left,n.reverse())}}}function ep(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function OH(e){const t={};let n=-1,r,i,o,a,s,l,f;const d=new $Ee(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,zEe(d,n)),n=t[n],f=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(a=d.get(o),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=o);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},s=d.slice(i,n),s.unshift(r),d.splice(i,n-i+1,s))}}return Ts(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!f}function zEe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const s=a.events,l=[],f={};let d,p,g=-1,y=n,b=0,x=0;const E=[x];for(;y;){for(;e.get(++i)[1]!==y;);o.push(i),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),p&&a.defineSkip(y.start),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),y._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),p=y,y=y.next}for(y=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(x=g+1,E.push(x),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(a.events=[],y?(y._tokenizer=void 0,y.previous=void 0):E.pop(),g=E.length;g--;){const v=s.slice(E[g],E[g+1]),w=o.pop();l.push([w,w+v.length-1]),e.splice(w,2,v)}for(l.reverse(),g=-1;++g<l.length;)f[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return f}const qEe={resolve:VEe,tokenize:KEe},HEe={partial:!0,tokenize:GEe};function VEe(e){return OH(e),e}function KEe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?o(s):sn(s)?e.check(HEe,a,o)(s):(e.consume(s),i)}function o(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function a(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function GEe(e,t,n){const r=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Sr(e,o,"linePrefix")}function o(a){if(a===null||sn(a))return n(a);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}function MH(e,t,n,r,i,o,a,s,l){const f=l||Number.POSITIVE_INFINITY;let d=0;return p;function p(v){return v===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(v),e.exit(o),g):v===null||v===32||v===41||rA(v)?n(v):(e.enter(r),e.enter(a),e.enter(s),e.enter("chunkString",{contentType:"string"}),x(v))}function g(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),y(v))}function y(v){return v===62?(e.exit("chunkString"),e.exit(s),g(v)):v===null||v===60||sn(v)?n(v):(e.consume(v),v===92?b:y)}function b(v){return v===60||v===62||v===92?(e.consume(v),y):y(v)}function x(v){return!d&&(v===null||v===41||To(v))?(e.exit("chunkString"),e.exit(s),e.exit(a),e.exit(r),t(v)):d<f&&v===40?(e.consume(v),d++,x):v===41?(e.consume(v),d--,x):v===null||v===32||v===40||rA(v)?n(v):(e.consume(v),v===92?E:x)}function E(v){return v===40||v===41||v===92?(e.consume(v),x):x(v)}}function LH(e,t,n,r,i,o){const a=this;let s=0,l;return f;function f(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(o),d}function d(y){return s>999||y===null||y===91||y===93&&!l||y===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs?n(y):y===93?(e.exit(o),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):sn(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===null||y===91||y===93||sn(y)||s++>999?(e.exit("chunkString"),d(y)):(e.consume(y),l||(l=!Zn(y)),y===92?g:p)}function g(y){return y===91||y===92||y===93?(e.consume(y),s++,p):p(y)}}function IH(e,t,n,r,i,o){let a;return s;function s(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),a=g===40?41:g,l):n(g)}function l(g){return g===a?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(o),f(g))}function f(g){return g===a?(e.exit(o),l(a)):g===null?n(g):sn(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),Sr(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===a||g===null||sn(g)?(e.exit("chunkString"),f(g)):(e.consume(g),g===92?p:d)}function p(g){return g===a||g===92?(e.consume(g),d):d(g)}}function Rp(e,t){let n;return r;function r(i){return sn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Zn(i)?Sr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const WEe={name:"definition",tokenize:QEe},ZEe={partial:!0,tokenize:JEe};function QEe(e,t,n){const r=this;let i;return o;function o(y){return e.enter("definition"),a(y)}function a(y){return LH.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=ud(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return To(y)?Rp(e,f)(y):f(y)}function f(y){return MH(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return e.attempt(ZEe,p,p)(y)}function p(y){return Zn(y)?Sr(e,g,"whitespace")(y):g(y)}function g(y){return y===null||sn(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function JEe(e,t,n){return r;function r(s){return To(s)?Rp(e,i)(s):n(s)}function i(s){return IH(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function o(s){return Zn(s)?Sr(e,a,"whitespace")(s):a(s)}function a(s){return s===null||sn(s)?t(s):n(s)}}const YEe={name:"hardBreakEscape",tokenize:XEe};function XEe(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return sn(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const e2e={name:"headingAtx",resolve:t2e,tokenize:n2e};function t2e(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ts(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function n2e(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&r++<6?(e.consume(d),a):d===null||To(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||sn(d)?(e.exit("atxHeading"),t(d)):Zn(d)?Sr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),f(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function f(d){return d===null||d===35||To(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),f)}}const r2e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],C4=["pre","script","style","textarea"],i2e={concrete:!0,name:"htmlFlow",resolveTo:s2e,tokenize:u2e},o2e={partial:!0,tokenize:c2e},a2e={partial:!0,tokenize:l2e};function s2e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function u2e(e,t,n){const r=this;let i,o,a,s,l;return f;function f(G){return d(G)}function d(G){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(G),p}function p(G){return G===33?(e.consume(G),g):G===47?(e.consume(G),o=!0,x):G===63?(e.consume(G),i=3,r.interrupt?t:$):ys(G)?(e.consume(G),a=String.fromCharCode(G),E):n(G)}function g(G){return G===45?(e.consume(G),i=2,y):G===91?(e.consume(G),i=5,s=0,b):ys(G)?(e.consume(G),i=4,r.interrupt?t:$):n(G)}function y(G){return G===45?(e.consume(G),r.interrupt?t:$):n(G)}function b(G){const X="CDATA[";return G===X.charCodeAt(s++)?(e.consume(G),s===X.length?r.interrupt?t:te:b):n(G)}function x(G){return ys(G)?(e.consume(G),a=String.fromCharCode(G),E):n(G)}function E(G){if(G===null||G===47||G===62||To(G)){const X=G===47,ge=a.toLowerCase();return!X&&!o&&C4.includes(ge)?(i=1,r.interrupt?t(G):te(G)):r2e.includes(a.toLowerCase())?(i=6,X?(e.consume(G),v):r.interrupt?t(G):te(G)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(G):o?w(G):C(G))}return G===45||Wo(G)?(e.consume(G),a+=String.fromCharCode(G),E):n(G)}function v(G){return G===62?(e.consume(G),r.interrupt?t:te):n(G)}function w(G){return Zn(G)?(e.consume(G),w):z(G)}function C(G){return G===47?(e.consume(G),z):G===58||G===95||ys(G)?(e.consume(G),P):Zn(G)?(e.consume(G),C):z(G)}function P(G){return G===45||G===46||G===58||G===95||Wo(G)?(e.consume(G),P):R(G)}function R(G){return G===61?(e.consume(G),k):Zn(G)?(e.consume(G),R):C(G)}function k(G){return G===null||G===60||G===61||G===62||G===96?n(G):G===34||G===39?(e.consume(G),l=G,M):Zn(G)?(e.consume(G),k):W(G)}function M(G){return G===l?(e.consume(G),l=null,ee):G===null||sn(G)?n(G):(e.consume(G),M)}function W(G){return G===null||G===34||G===39||G===47||G===60||G===61||G===62||G===96||To(G)?R(G):(e.consume(G),W)}function ee(G){return G===47||G===62||Zn(G)?C(G):n(G)}function z(G){return G===62?(e.consume(G),H):n(G)}function H(G){return G===null||sn(G)?te(G):Zn(G)?(e.consume(G),H):n(G)}function te(G){return G===45&&i===2?(e.consume(G),se):G===60&&i===1?(e.consume(G),pe):G===62&&i===4?(e.consume(G),Q):G===63&&i===3?(e.consume(G),$):G===93&&i===5?(e.consume(G),Ee):sn(G)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(o2e,ce,oe)(G)):G===null||sn(G)?(e.exit("htmlFlowData"),oe(G)):(e.consume(G),te)}function oe(G){return e.check(a2e,ue,ce)(G)}function ue(G){return e.enter("lineEnding"),e.consume(G),e.exit("lineEnding"),de}function de(G){return G===null||sn(G)?oe(G):(e.enter("htmlFlowData"),te(G))}function se(G){return G===45?(e.consume(G),$):te(G)}function pe(G){return G===47?(e.consume(G),a="",re):te(G)}function re(G){if(G===62){const X=a.toLowerCase();return C4.includes(X)?(e.consume(G),Q):te(G)}return ys(G)&&a.length<8?(e.consume(G),a+=String.fromCharCode(G),re):te(G)}function Ee(G){return G===93?(e.consume(G),$):te(G)}function $(G){return G===62?(e.consume(G),Q):G===45&&i===2?(e.consume(G),$):te(G)}function Q(G){return G===null||sn(G)?(e.exit("htmlFlowData"),ce(G)):(e.consume(G),Q)}function ce(G){return e.exit("htmlFlow"),t(G)}}function l2e(e,t,n){const r=this;return i;function i(a){return sn(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):n(a)}function o(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}function c2e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Yw,t,n)}}const f2e={name:"htmlText",tokenize:d2e};function d2e(e,t,n){const r=this;let i,o,a;return s;function s($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),l}function l($){return $===33?(e.consume($),f):$===47?(e.consume($),R):$===63?(e.consume($),C):ys($)?(e.consume($),W):n($)}function f($){return $===45?(e.consume($),d):$===91?(e.consume($),o=0,b):ys($)?(e.consume($),w):n($)}function d($){return $===45?(e.consume($),y):n($)}function p($){return $===null?n($):$===45?(e.consume($),g):sn($)?(a=p,pe($)):(e.consume($),p)}function g($){return $===45?(e.consume($),y):p($)}function y($){return $===62?se($):$===45?g($):p($)}function b($){const Q="CDATA[";return $===Q.charCodeAt(o++)?(e.consume($),o===Q.length?x:b):n($)}function x($){return $===null?n($):$===93?(e.consume($),E):sn($)?(a=x,pe($)):(e.consume($),x)}function E($){return $===93?(e.consume($),v):x($)}function v($){return $===62?se($):$===93?(e.consume($),v):x($)}function w($){return $===null||$===62?se($):sn($)?(a=w,pe($)):(e.consume($),w)}function C($){return $===null?n($):$===63?(e.consume($),P):sn($)?(a=C,pe($)):(e.consume($),C)}function P($){return $===62?se($):C($)}function R($){return ys($)?(e.consume($),k):n($)}function k($){return $===45||Wo($)?(e.consume($),k):M($)}function M($){return sn($)?(a=M,pe($)):Zn($)?(e.consume($),M):se($)}function W($){return $===45||Wo($)?(e.consume($),W):$===47||$===62||To($)?ee($):n($)}function ee($){return $===47?(e.consume($),se):$===58||$===95||ys($)?(e.consume($),z):sn($)?(a=ee,pe($)):Zn($)?(e.consume($),ee):se($)}function z($){return $===45||$===46||$===58||$===95||Wo($)?(e.consume($),z):H($)}function H($){return $===61?(e.consume($),te):sn($)?(a=H,pe($)):Zn($)?(e.consume($),H):ee($)}function te($){return $===null||$===60||$===61||$===62||$===96?n($):$===34||$===39?(e.consume($),i=$,oe):sn($)?(a=te,pe($)):Zn($)?(e.consume($),te):(e.consume($),ue)}function oe($){return $===i?(e.consume($),i=void 0,de):$===null?n($):sn($)?(a=oe,pe($)):(e.consume($),oe)}function ue($){return $===null||$===34||$===39||$===60||$===61||$===96?n($):$===47||$===62||To($)?ee($):(e.consume($),ue)}function de($){return $===47||$===62||To($)?ee($):n($)}function se($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),t):n($)}function pe($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),re}function re($){return Zn($)?Sr(e,Ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):Ee($)}function Ee($){return e.enter("htmlTextData"),a($)}}const MP={name:"labelEnd",resolveAll:g2e,resolveTo:y2e,tokenize:v2e},h2e={tokenize:_2e},p2e={tokenize:w2e},m2e={tokenize:b2e};function g2e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ts(e,0,e.length,n),e}function y2e(e,t){let n=e.length,r=0,i,o,a,s;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[o][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[a-2][1].start}};return s=[["enter",l,t],["enter",f,t]],s=ma(s,e.slice(o+1,o+r+3)),s=ma(s,[["enter",d,t]]),s=ma(s,OP(t.parser.constructs.insideSpan.null,e.slice(o+r+4,a-3),t)),s=ma(s,[["exit",d,t],e[a-2],e[a-1],["exit",f,t]]),s=ma(s,e.slice(a+1)),s=ma(s,[["exit",l,t]]),Ts(e,o,e.length,s),e}function v2e(e,t,n){const r=this;let i=r.events.length,o,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return s;function s(g){return o?o._inactive?p(g):(a=r.parser.defined.includes(ud(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(h2e,d,a?d:p)(g):g===91?e.attempt(p2e,d,a?f:p)(g):a?d(g):p(g)}function f(g){return e.attempt(m2e,d,p)(g)}function d(g){return t(g)}function p(g){return o._balanced=!0,n(g)}}function _2e(e,t,n){return r;function r(p){return e.enter("resource"),e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),i}function i(p){return To(p)?Rp(e,o)(p):o(p)}function o(p){return p===41?d(p):MH(e,a,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(p)}function a(p){return To(p)?Rp(e,l)(p):d(p)}function s(p){return n(p)}function l(p){return p===34||p===39||p===40?IH(e,f,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(p):d(p)}function f(p){return To(p)?Rp(e,d)(p):d(p)}function d(p){return p===41?(e.enter("resourceMarker"),e.consume(p),e.exit("resourceMarker"),e.exit("resource"),t):n(p)}}function w2e(e,t,n){const r=this;return i;function i(s){return LH.call(r,e,o,a,"reference","referenceMarker","referenceString")(s)}function o(s){return r.parser.defined.includes(ud(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function a(s){return n(s)}}function b2e(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const S2e={name:"labelStartImage",resolveAll:MP.resolveAll,tokenize:x2e};function x2e(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),o}function o(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const E2e={name:"labelStartLink",resolveAll:MP.resolveAll,tokenize:C2e};function C2e(e,t,n){const r=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const W2={name:"lineEnding",tokenize:T2e};function T2e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Sr(e,t,"linePrefix")}}const Qv={name:"thematicBreak",tokenize:A2e};function A2e(e,t,n){let r=0,i;return o;function o(f){return e.enter("thematicBreak"),a(f)}function a(f){return i=f,s(f)}function s(f){return f===i?(e.enter("thematicBreakSequence"),l(f)):r>=3&&(f===null||sn(f))?(e.exit("thematicBreak"),t(f)):n(f)}function l(f){return f===i?(e.consume(f),r++,l):(e.exit("thematicBreakSequence"),Zn(f)?Sr(e,s,"whitespace")(f):s(f))}}const bo={continuation:{tokenize:M2e},exit:I2e,name:"list",tokenize:O2e},R2e={partial:!0,tokenize:k2e},P2e={partial:!0,tokenize:L2e};function O2e(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return s;function s(y){const b=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:iA(y)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(Qv,n,f)(y):f(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return iA(y)&&++a<10?(e.consume(y),l):(!r.interrupt||a<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),f(y)):n(y)}function f(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Yw,r.interrupt?n:d,e.attempt(R2e,g,p))}function d(y){return r.containerState.initialBlankLine=!0,o++,g(y)}function p(y){return Zn(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),g):n(y)}function g(y){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function M2e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Yw,i,o);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Sr(e,t,"listItemIndent",r.containerState.size+1)(s)}function o(s){return r.containerState.furtherBlankLines||!Zn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(P2e,t,a)(s))}function a(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Sr(e,e.attempt(bo,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function L2e(e,t,n){const r=this;return Sr(e,i,"listItemIndent",r.containerState.size+1);function i(o){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(o):n(o)}}function I2e(e){e.exit(this.containerState.type)}function k2e(e,t,n){const r=this;return Sr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const a=r.events[r.events.length-1];return!Zn(o)&&a&&a[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const T4={name:"setextUnderline",resolveTo:D2e,tokenize:N2e};function D2e(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",a,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}function N2e(e,t,n){const r=this;let i;return o;function o(f){let d=r.events.length,p;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){p=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||p)?(e.enter("setextHeadingLine"),i=f,a(f)):n(f)}function a(f){return e.enter("setextHeadingLineSequence"),s(f)}function s(f){return f===i?(e.consume(f),s):(e.exit("setextHeadingLineSequence"),Zn(f)?Sr(e,l,"lineSuffix")(f):l(f))}function l(f){return f===null||sn(f)?(e.exit("setextHeadingLine"),t(f)):n(f)}}const F2e={tokenize:j2e};function j2e(e){const t=this,n=e.attempt(Yw,r,e.attempt(this.parser.constructs.flowInitial,i,Sr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(qEe,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const U2e={resolveAll:DH()},B2e=kH("string"),$2e=kH("text");function kH(e){return{resolveAll:DH(e==="text"?z2e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,a,s);return a;function a(d){return f(d)?o(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return f(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function f(d){if(d===null)return!0;const p=i[d];let g=-1;if(p)for(;++g<p.length;){const y=p[g];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function DH(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function z2e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,a=-1,s=0,l;for(;o--;){const f=i[o];if(typeof f=="string"){for(a=f.length;f.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(f===-2)l=!0,s++;else if(f!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const f={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?a:r.start._bufferIndex+a,_index:r.start._index+o,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...f.start},r.start.offset===r.end.offset?Object.assign(r,f):(e.splice(n,0,["enter",f,t],["exit",f,t]),n+=2)}n++}return e}const q2e={42:bo,43:bo,45:bo,48:bo,49:bo,50:bo,51:bo,52:bo,53:bo,54:bo,55:bo,56:bo,57:bo,62:AH},H2e={91:WEe},V2e={[-2]:G2,[-1]:G2,32:G2},K2e={35:e2e,42:Qv,45:[T4,Qv],60:i2e,61:T4,95:Qv,96:E4,126:E4},G2e={38:PH,92:RH},W2e={[-5]:W2,[-4]:W2,[-3]:W2,33:S2e,38:PH,42:oA,60:[EEe,f2e],91:E2e,92:[YEe,RH],93:MP,95:oA,96:FEe},Z2e={null:[oA,U2e]},Q2e={null:[42,95]},J2e={null:[]},Y2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Q2e,contentInitial:H2e,disable:J2e,document:q2e,flow:K2e,flowInitial:V2e,insideSpan:Z2e,string:G2e,text:W2e},Symbol.toStringTag,{value:"Module"}));function X2e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let a=[],s=[];const l={attempt:M(R),check:M(k),consume:w,enter:C,exit:P,interrupt:M(k,{interrupt:!0})},f={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:y,write:p};let d=t.tokenize.call(f,l);return t.resolveAll&&o.push(t),f;function p(H){return a=ma(a,H),E(),a[a.length-1]!==null?[]:(W(t,0),f.events=OP(o,f.events,f),f.events)}function g(H,te){return tCe(y(H),te)}function y(H){return eCe(a,H)}function b(){const{_bufferIndex:H,_index:te,line:oe,column:ue,offset:de}=r;return{_bufferIndex:H,_index:te,line:oe,column:ue,offset:de}}function x(H){i[H.line]=H.column,z()}function E(){let H;for(;r._index<a.length;){const te=a[r._index];if(typeof te=="string")for(H=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===H&&r._bufferIndex<te.length;)v(te.charCodeAt(r._bufferIndex));else v(te)}}function v(H){d=d(H)}function w(H){sn(H)?(r.line++,r.column=1,r.offset+=H===-3?2:1,z()):H!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=H}function C(H,te){const oe=te||{};return oe.type=H,oe.start=b(),f.events.push(["enter",oe,f]),s.push(oe),oe}function P(H){const te=s.pop();return te.end=b(),f.events.push(["exit",te,f]),te}function R(H,te){W(H,te.from)}function k(H,te){te.restore()}function M(H,te){return oe;function oe(ue,de,se){let pe,re,Ee,$;return Array.isArray(ue)?ce(ue):"tokenize"in ue?ce([ue]):Q(ue);function Q(xe){return Ve;function Ve(Pe){const Be=Pe!==null&&xe[Pe],Je=Pe!==null&&xe.null,fe=[...Array.isArray(Be)?Be:Be?[Be]:[],...Array.isArray(Je)?Je:Je?[Je]:[]];return ce(fe)(Pe)}}function ce(xe){return pe=xe,re=0,xe.length===0?se:G(xe[re])}function G(xe){return Ve;function Ve(Pe){return $=ee(),Ee=xe,xe.partial||(f.currentConstruct=xe),xe.name&&f.parser.constructs.disable.null.includes(xe.name)?ge():xe.tokenize.call(te?Object.assign(Object.create(f),te):f,l,X,ge)(Pe)}}function X(xe){return H(Ee,$),de}function ge(xe){return $.restore(),++re<pe.length?G(pe[re]):se}}}function W(H,te){H.resolveAll&&!o.includes(H)&&o.push(H),H.resolve&&Ts(f.events,te,f.events.length-te,H.resolve(f.events.slice(te),f)),H.resolveTo&&(f.events=H.resolveTo(f.events,f))}function ee(){const H=b(),te=f.previous,oe=f.currentConstruct,ue=f.events.length,de=Array.from(s);return{from:ue,restore:se};function se(){r=H,f.previous=te,f.currentConstruct=oe,f.events.length=ue,s=de,z()}}function z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function eCe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let a;if(n===i)a=[e[n].slice(r,o)];else{if(a=e.slice(n,i),r>-1){const s=a[0];typeof s=="string"?a[0]=s.slice(r):a.shift()}o>0&&a.push(e[i].slice(0,o))}return a}function tCe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(o)}i=o===-2,r.push(a)}return r.join("")}function nCe(e){const r={constructs:lEe([Y2e,...(e||{}).extensions||[]]),content:i(yEe),defined:[],document:i(_Ee),flow:i(F2e),lazy:{},string:i(B2e),text:i($2e)};return r;function i(o){return a;function a(s){return X2e(r,o,s)}}}function rCe(e){for(;!OH(e););return e}const A4=/[\0\t\n\r]/g;function iCe(){let e=1,t="",n=!0,r;return i;function i(o,a,s){const l=[];let f,d,p,g,y;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(a||void 0).decode(o)),p=0,t="",n&&(o.charCodeAt(0)===65279&&p++,n=void 0);p<o.length;){if(A4.lastIndex=p,f=A4.exec(o),g=f&&f.index!==void 0?f.index:o.length,y=o.charCodeAt(g),!f){t=o.slice(p);break}if(y===10&&p===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),p<g&&(l.push(o.slice(p,g)),e+=g-p),y){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}p=g+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const oCe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function aCe(e){return e.replace(oCe,sCe)}function sCe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return TH(n.slice(o?2:1),o?16:10)}return PP(n)||e}const NH={}.hasOwnProperty;function uCe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),lCe(n)(rCe(nCe(n).document().write(iCe()(e,t,!0))))}function lCe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ie),autolinkProtocol:ee,autolinkEmail:ee,atxHeading:o(me),blockQuote:o(Je),characterEscape:ee,characterReference:ee,codeFenced:o(fe),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:o(fe,a),codeText:o(V,a),codeTextData:ee,data:ee,codeFlowValue:ee,definition:o(j),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:o(ie),hardBreakEscape:o(Te),hardBreakTrailing:o(Te),htmlFlow:o(Le,a),htmlFlowData:ee,htmlText:o(Le,a),htmlTextData:ee,image:o(rt),label:a,link:o(Ie),listItem:o(Ae),listItemValue:g,listOrdered:o(ye,p),listUnordered:o(ye),paragraph:o(Me),reference:G,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:o(me),strong:o(tt),thematicBreak:o(Ye)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:Be,autolinkProtocol:Pe,blockQuote:l(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:xe,characterReference:Ve,codeFenced:l(E),codeFencedFence:x,codeFencedFenceInfo:y,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:l(v),codeText:l(de),codeTextData:z,data:z,definition:l(),definitionDestinationString:P,definitionLabelString:w,definitionTitleString:C,emphasis:l(),hardBreakEscape:l(te),hardBreakTrailing:l(te),htmlFlow:l(oe),htmlFlowData:z,htmlText:l(ue),htmlTextData:z,image:l(pe),label:Ee,labelText:re,lineEnding:H,link:l(se),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:X,resourceDestinationString:$,resourceTitleString:Q,resource:ce,setextHeading:l(W),setextHeadingLineSequence:M,setextHeadingText:k,strong:l(),thematicBreak:l()}};FH(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(qe){let ae={type:"root",children:[]};const K={stack:[ae],tokenStack:[],config:t,enter:s,exit:f,buffer:a,resume:d,data:n},Y=[];let J=-1;for(;++J<qe.length;)if(qe[J][1].type==="listOrdered"||qe[J][1].type==="listUnordered")if(qe[J][0]==="enter")Y.push(J);else{const Ge=Y.pop();J=i(qe,Ge,J)}for(J=-1;++J<qe.length;){const Ge=t[qe[J][0]];NH.call(Ge,qe[J][1].type)&&Ge[qe[J][1].type].call(Object.assign({sliceSerialize:qe[J][2].sliceSerialize},K),qe[J][1])}if(K.tokenStack.length>0){const Ge=K.tokenStack[K.tokenStack.length-1];(Ge[1]||R4).call(K,void 0,Ge[0])}for(ae.position={start:Ju(qe.length>0?qe[0][1].start:{line:1,column:1,offset:0}),end:Ju(qe.length>0?qe[qe.length-2][1].end:{line:1,column:1,offset:0})},J=-1;++J<t.transforms.length;)ae=t.transforms[J](ae)||ae;return ae}function i(qe,ae,K){let Y=ae-1,J=-1,Ge=!1,et,Ke,Pt,tn;for(;++Y<=K;){const zt=qe[Y];switch(zt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{zt[0]==="enter"?J++:J--,tn=void 0;break}case"lineEndingBlank":{zt[0]==="enter"&&(et&&!tn&&!J&&!Pt&&(Pt=Y),tn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:tn=void 0}if(!J&&zt[0]==="enter"&&zt[1].type==="listItemPrefix"||J===-1&&zt[0]==="exit"&&(zt[1].type==="listUnordered"||zt[1].type==="listOrdered")){if(et){let Zt=Y;for(Ke=void 0;Zt--;){const Yt=qe[Zt];if(Yt[1].type==="lineEnding"||Yt[1].type==="lineEndingBlank"){if(Yt[0]==="exit")continue;Ke&&(qe[Ke][1].type="lineEndingBlank",Ge=!0),Yt[1].type="lineEnding",Ke=Zt}else if(!(Yt[1].type==="linePrefix"||Yt[1].type==="blockQuotePrefix"||Yt[1].type==="blockQuotePrefixWhitespace"||Yt[1].type==="blockQuoteMarker"||Yt[1].type==="listItemIndent"))break}Pt&&(!Ke||Pt<Ke)&&(et._spread=!0),et.end=Object.assign({},Ke?qe[Ke][1].start:zt[1].end),qe.splice(Ke||Y,0,["exit",et,zt[2]]),Y++,K++}if(zt[1].type==="listItemPrefix"){const Zt={type:"listItem",_spread:!1,start:Object.assign({},zt[1].start),end:void 0};et=Zt,qe.splice(Y,0,["enter",Zt,zt[2]]),Y++,K++,Pt=void 0,tn=!0}}}return qe[ae][1]._spread=Ge,K}function o(qe,ae){return K;function K(Y){s.call(this,qe(Y),Y),ae&&ae.call(this,Y)}}function a(){this.stack.push({type:"fragment",children:[]})}function s(qe,ae,K){this.stack[this.stack.length-1].children.push(qe),this.stack.push(qe),this.tokenStack.push([ae,K||void 0]),qe.position={start:Ju(ae.start),end:void 0}}function l(qe){return ae;function ae(K){qe&&qe.call(this,K),f.call(this,K)}}function f(qe,ae){const K=this.stack.pop(),Y=this.tokenStack.pop();if(Y)Y[0].type!==qe.type&&(ae?ae.call(this,qe,Y[0]):(Y[1]||R4).call(this,qe,Y[0]));else throw new Error("Cannot close `"+qe.type+"` ("+Ap({start:qe.start,end:qe.end})+"): its not open");K.position.end=Ju(qe.end)}function d(){return sEe(this.stack.pop())}function p(){this.data.expectingFirstListItemValue=!0}function g(qe){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(qe),10),this.data.expectingFirstListItemValue=void 0}}function y(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=qe}function b(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=qe}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.value=qe.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.value=qe.replace(/(\r?\n|\r)$/g,"")}function w(qe){const ae=this.resume(),K=this.stack[this.stack.length-1];K.label=ae,K.identifier=ud(this.sliceSerialize(qe)).toLowerCase()}function C(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.title=qe}function P(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.url=qe}function R(qe){const ae=this.stack[this.stack.length-1];if(!ae.depth){const K=this.sliceSerialize(qe).length;ae.depth=K}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function M(qe){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(qe).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function ee(qe){const K=this.stack[this.stack.length-1].children;let Y=K[K.length-1];(!Y||Y.type!=="text")&&(Y=mt(),Y.position={start:Ju(qe.start),end:void 0},K.push(Y)),this.stack.push(Y)}function z(qe){const ae=this.stack.pop();ae.value+=this.sliceSerialize(qe),ae.position.end=Ju(qe.end)}function H(qe){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const K=ae.children[ae.children.length-1];K.position.end=Ju(qe.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ae.type)&&(ee.call(this,qe),z.call(this,qe))}function te(){this.data.atHardBreak=!0}function oe(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.value=qe}function ue(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.value=qe}function de(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.value=qe}function se(){const qe=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";qe.type+="Reference",qe.referenceType=ae,delete qe.url,delete qe.title}else delete qe.identifier,delete qe.label;this.data.referenceType=void 0}function pe(){const qe=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";qe.type+="Reference",qe.referenceType=ae,delete qe.url,delete qe.title}else delete qe.identifier,delete qe.label;this.data.referenceType=void 0}function re(qe){const ae=this.sliceSerialize(qe),K=this.stack[this.stack.length-2];K.label=aCe(ae),K.identifier=ud(ae).toLowerCase()}function Ee(){const qe=this.stack[this.stack.length-1],ae=this.resume(),K=this.stack[this.stack.length-1];if(this.data.inReference=!0,K.type==="link"){const Y=qe.children;K.children=Y}else K.alt=ae}function $(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.url=qe}function Q(){const qe=this.resume(),ae=this.stack[this.stack.length-1];ae.title=qe}function ce(){this.data.inReference=void 0}function G(){this.data.referenceType="collapsed"}function X(qe){const ae=this.resume(),K=this.stack[this.stack.length-1];K.label=ae,K.identifier=ud(this.sliceSerialize(qe)).toLowerCase(),this.data.referenceType="full"}function ge(qe){this.data.characterReferenceType=qe.type}function xe(qe){const ae=this.sliceSerialize(qe),K=this.data.characterReferenceType;let Y;K?(Y=TH(ae,K==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Y=PP(ae);const J=this.stack[this.stack.length-1];J.value+=Y}function Ve(qe){const ae=this.stack.pop();ae.position.end=Ju(qe.end)}function Pe(qe){z.call(this,qe);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(qe)}function Be(qe){z.call(this,qe);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(qe)}function Je(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function V(){return{type:"inlineCode",value:""}}function j(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ie(){return{type:"emphasis",children:[]}}function me(){return{type:"heading",depth:0,children:[]}}function Te(){return{type:"break"}}function Le(){return{type:"html",value:""}}function rt(){return{type:"image",title:null,url:"",alt:null}}function Ie(){return{type:"link",title:null,url:"",children:[]}}function ye(qe){return{type:"list",ordered:qe.type==="listOrdered",start:null,spread:qe._spread,children:[]}}function Ae(qe){return{type:"listItem",spread:qe._spread,checked:null,children:[]}}function Me(){return{type:"paragraph",children:[]}}function tt(){return{type:"strong",children:[]}}function mt(){return{type:"text",value:""}}function Ye(){return{type:"thematicBreak"}}}function Ju(e){return{line:e.line,column:e.column,offset:e.offset}}function FH(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?FH(e,r):cCe(e,r)}}function cCe(e,t){let n;for(n in t)if(NH.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function R4(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Ap({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Ap({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Ap({start:t.start,end:t.end})+") is still open")}function fCe(e){const t=this;t.parser=n;function n(r){return uCe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function dCe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function hCe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function pCe(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function mCe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gCe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yCe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=$d(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let a,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),a=e.footnoteOrder.length):a=o+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const f={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,f),e.applyData(t,f)}function vCe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function _Ce(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function jH(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function wCe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jH(e,t);const i={src:$d(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function bCe(e,t){const n={src:$d(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function SCe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function xCe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return jH(e,t);const i={href:$d(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function ECe(e,t){const n={href:$d(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function CCe(e,t,n){const r=e.all(t),i=n?TCe(n):UH(t),o={},a=[];if(typeof t.checked=="boolean"){const d=r[0];let p;d&&d.type==="element"&&d.tagName==="p"?p=d:(p={type:"element",tagName:"p",properties:{},children:[]},r.unshift(p)),p.children.length>0&&p.children.unshift({type:"text",value:" "}),p.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:o,children:a};return e.patch(t,f),e.applyData(t,f)}function TCe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=UH(n[r])}return t}function UH(e){const t=e.spread;return t??e.children.length>1}function ACe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function RCe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PCe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function OCe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function MCe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],a),i.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=CP(t.children[1]),l=_H(t.children[t.children.length-1]);s&&l&&(a.position={start:s,end:l}),i.push(a)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function LCe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:t.children.length;let l=-1;const f=[];for(;++l<s;){const p=t.children[l],g={},y=a?a[l]:void 0;y&&(g.align=y);let b={type:"element",tagName:o,properties:g,children:[]};p&&(b.children=e.all(p),e.patch(p,b),b=e.applyData(p,b)),f.push(b)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,d),e.applyData(t,d)}function ICe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const P4=9,O4=32;function kCe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(M4(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(M4(t.slice(i),i>0,!1)),o.join("")}function M4(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===P4||o===O4;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===P4||o===O4;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function DCe(e,t){const n={type:"text",value:kCe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function NCe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const FCe={blockquote:dCe,break:hCe,code:pCe,delete:mCe,emphasis:gCe,footnoteReference:yCe,heading:vCe,html:_Ce,imageReference:wCe,image:bCe,inlineCode:SCe,linkReference:xCe,link:ECe,listItem:CCe,list:ACe,paragraph:RCe,root:PCe,strong:OCe,table:MCe,tableCell:ICe,tableRow:LCe,text:DCe,thematicBreak:NCe,toml:Ay,yaml:Ay,definition:Ay,footnoteDefinition:Ay};function Ay(){}const BH=-1,Xw=0,Pp=1,I_=2,LP=3,IP=4,kP=5,DP=6,$H=7,zH=8,L4=typeof self=="object"?self:globalThis,jCe=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,a]=t[i];switch(o){case Xw:case BH:return n(a,i);case Pp:{const s=n([],i);for(const l of a)s.push(r(l));return s}case I_:{const s=n({},i);for(const[l,f]of a)s[r(l)]=r(f);return s}case LP:return n(new Date(a),i);case IP:{const{source:s,flags:l}=a;return n(new RegExp(s,l),i)}case kP:{const s=n(new Map,i);for(const[l,f]of a)s.set(r(l),r(f));return s}case DP:{const s=n(new Set,i);for(const l of a)s.add(r(l));return s}case $H:{const{name:s,message:l}=a;return n(new L4[s](l),i)}case zH:return n(BigInt(a),i);case"BigInt":return n(Object(BigInt(a)),i);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:s}=new Uint8Array(a);return n(new DataView(s),a)}}return n(new L4[o](a),i)};return r},I4=e=>jCe(new Map,e)(0),Uf="",{toString:UCe}={},{keys:BCe}=Object,tp=e=>{const t=typeof e;if(t!=="object"||!e)return[Xw,t];const n=UCe.call(e).slice(8,-1);switch(n){case"Array":return[Pp,Uf];case"Object":return[I_,Uf];case"Date":return[LP,Uf];case"RegExp":return[IP,Uf];case"Map":return[kP,Uf];case"Set":return[DP,Uf];case"DataView":return[Pp,n]}return n.includes("Array")?[Pp,n]:n.includes("Error")?[$H,n]:[I_,n]},Ry=([e,t])=>e===Xw&&(t==="function"||t==="symbol"),$Ce=(e,t,n,r)=>{const i=(a,s)=>{const l=r.push(a)-1;return n.set(s,l),l},o=a=>{if(n.has(a))return n.get(a);let[s,l]=tp(a);switch(s){case Xw:{let d=a;switch(l){case"bigint":s=zH,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([BH],a)}return i([s,d],a)}case Pp:{if(l){let g=a;return l==="DataView"?g=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(a)),i([l,[...g]],a)}const d=[],p=i([s,d],a);for(const g of a)d.push(o(g));return p}case I_:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(t&&"toJSON"in a)return o(a.toJSON());const d=[],p=i([s,d],a);for(const g of BCe(a))(e||!Ry(tp(a[g])))&&d.push([o(g),o(a[g])]);return p}case LP:return i([s,a.toISOString()],a);case IP:{const{source:d,flags:p}=a;return i([s,{source:d,flags:p}],a)}case kP:{const d=[],p=i([s,d],a);for(const[g,y]of a)(e||!(Ry(tp(g))||Ry(tp(y))))&&d.push([o(g),o(y)]);return p}case DP:{const d=[],p=i([s,d],a);for(const g of a)(e||!Ry(tp(g)))&&d.push(o(g));return p}}const{message:f}=a;return i([s,{name:l,message:f}],a)};return o},k4=(e,{json:t,lossy:n}={})=>{const r=[];return $Ce(!(t||n),!!t,new Map,r)(e),r},k_=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?I4(k4(e,t)):structuredClone(e):(e,t)=>I4(k4(e,t));function zCe(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function qCe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function HCe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||zCe,r=e.options.footnoteBackLabel||qCe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[l]);if(!f)continue;const d=e.all(f),p=String(f.identifier).toUpperCase(),g=$d(p.toLowerCase());let y=0;const b=[],x=e.footnoteCounts.get(p);for(;x!==void 0&&++y<=x;){b.length>0&&b.push({type:"text",value:" "});let w=typeof n=="string"?n:n(l,y);typeof w=="string"&&(w={type:"text",value:w}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const E=d[d.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const w=E.children[E.children.length-1];w&&w.type==="text"?w.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...b)}else d.push(...b);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(f,v),s.push(v)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...k_(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const qH=(function(e){if(e==null)return WCe;if(typeof e=="function")return e0(e);if(typeof e=="object")return Array.isArray(e)?VCe(e):KCe(e);if(typeof e=="string")return GCe(e);throw new Error("Expected function, string, or object as test")});function VCe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=qH(e[n]);return e0(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function KCe(e){const t=e;return e0(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function GCe(e){return e0(t);function t(n){return n&&n.type===e}}function e0(e){return t;function t(n,r,i){return!!(ZCe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function WCe(){return!0}function ZCe(e){return e!==null&&typeof e=="object"&&"type"in e}const HH=[],QCe=!0,D4=!1,JCe="skip";function YCe(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=qH(i),a=r?-1:1;s(e,void 0,[])();function s(l,f,d){const p=l&&typeof l=="object"?l:{};if(typeof p.type=="string"){const y=typeof p.tagName=="string"?p.tagName:typeof p.name=="string"?p.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return g;function g(){let y=HH,b,x,E;if((!t||o(l,f,d[d.length-1]||void 0))&&(y=XCe(n(l,d)),y[0]===D4))return y;if("children"in l&&l.children){const v=l;if(v.children&&y[0]!==JCe)for(x=(r?v.children.length:-1)+a,E=d.concat(v);x>-1&&x<v.children.length;){const w=v.children[x];if(b=s(w,x,E)(),b[0]===D4)return b;x=typeof b[1]=="number"?b[1]:x+a}}return y}}}function XCe(e){return Array.isArray(e)?e:typeof e=="number"?[QCe,e]:e==null?HH:[e]}function VH(e,t,n,r){let i,o,a;typeof t=="function"&&typeof n!="function"?(o=void 0,a=t,i=n):(o=t,a=n,i=r),YCe(e,o,s,i);function s(l,f){const d=f[f.length-1],p=d?d.children.indexOf(l):void 0;return a(l,p,d)}}const aA={}.hasOwnProperty,eTe={};function tTe(e,t){const n=t||eTe,r=new Map,i=new Map,o=new Map,a={...FCe,...n.handlers},s={all:f,applyData:rTe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:a,one:l,options:n,patch:nTe,wrap:oTe};return VH(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const p=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();p.has(g)||p.set(g,d)}}),s;function l(d,p){const g=d.type,y=s.handlers[g];if(aA.call(s.handlers,g)&&y)return y(s,d,p);if(s.options.passThrough&&s.options.passThrough.includes(g)){if("children"in d){const{children:x,...E}=d,v=k_(E);return v.children=s.all(d),v}return k_(d)}return(s.options.unknownHandler||iTe)(s,d,p)}function f(d){const p=[];if("children"in d){const g=d.children;let y=-1;for(;++y<g.length;){const b=s.one(g[y],d);if(b){if(y&&g[y-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=N4(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=N4(x.value))}Array.isArray(b)?p.push(...b):p.push(b)}}}return p}}function nTe(e,t){e.position&&(t.position=Uxe(e))}function rTe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const a="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:a}}n.type==="element"&&o&&Object.assign(n.properties,k_(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function iTe(e,t){const n=t.data||{},r="value"in t&&!(aA.call(n,"hProperties")||aA.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function oTe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function N4(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function F4(e,t){const n=tTe(e,t),r=n.one(e,void 0),i=HCe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function aTe(e,t){return e&&"run"in e?async function(n,r){const i=F4(n,{file:r,...t});await e.run(i,r)}:function(n,r){return F4(n,{file:r,...e||t})}}function j4(e){if(e)throw e}var Z2,U4;function sTe(){if(U4)return Z2;U4=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},o=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var d=e.call(f,"constructor"),p=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!d&&!p)return!1;var g;for(g in f);return typeof g>"u"||e.call(f,g)},a=function(f,d){n&&d.name==="__proto__"?n(f,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):f[d.name]=d.newValue},s=function(f,d){if(d==="__proto__")if(e.call(f,d)){if(r)return r(f,d).value}else return;return f[d]};return Z2=function l(){var f,d,p,g,y,b,x=arguments[0],E=1,v=arguments.length,w=!1;for(typeof x=="boolean"&&(w=x,x=arguments[1]||{},E=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});E<v;++E)if(f=arguments[E],f!=null)for(d in f)p=s(x,d),g=s(f,d),x!==g&&(w&&g&&(o(g)||(y=i(g)))?(y?(y=!1,b=p&&i(p)?p:[]):b=p&&o(p)?p:{},a(x,{name:d,newValue:l(w,b,g)})):typeof g<"u"&&a(x,{name:d,newValue:g}));return x},Z2}var uTe=sTe();const Q2=_r(uTe);function sA(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lTe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...i);function s(l,...f){const d=e[++o];let p=-1;if(l){a(l);return}for(;++p<i.length;)(f[p]===null||f[p]===void 0)&&(f[p]=i[p]);i=f,d?cTe(d,s)(...f):a(null,...f)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function cTe(e,t){let n;return r;function r(...a){const s=e.length>a.length;let l;s&&a.push(i);try{l=e.apply(this,a)}catch(f){const d=f;if(s&&n)throw d;return i(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(a,...s){n||(n=!0,t(a,...s))}function o(a){i(null,a)}}const hs={basename:fTe,dirname:dTe,extname:hTe,join:pTe,sep:"/"};function fTe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Lm(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let a=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else a<0&&(o=!0,a=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=a));return n===r?r=a:r<0&&(r=e.length),e.slice(n,r)}function dTe(e){if(Lm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function hTe(e){Lm(e);let t=e.length,n=-1,r=0,i=-1,o=0,a;for(;t--;){const s=e.codePointAt(t);if(s===47){if(a){r=t+1;break}continue}n<0&&(a=!0,n=t+1),s===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function pTe(...e){let t=-1,n;for(;++t<e.length;)Lm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":mTe(n)}function mTe(e){Lm(e);const t=e.codePointAt(0)===47;let n=gTe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function gTe(e,t){let n="",r=0,i=-1,o=0,a=-1,s,l;for(;++a<=e.length;){if(a<e.length)s=e.codePointAt(a);else{if(s===47)break;s=47}if(s===47){if(!(i===a-1||o===1))if(i!==a-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,o=0;continue}}else if(n.length>0){n="",r=0,i=a,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,a):n=e.slice(i+1,a),r=a-i-1;i=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function Lm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const yTe={cwd:vTe};function vTe(){return"/"}function uA(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function _Te(e){if(typeof e=="string")e=new URL(e);else if(!uA(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return wTe(e)}function wTe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const J2=["history","path","basename","stem","extname","dirname"];class KH{constructor(t){let n;t?uA(t)?n={path:t}:typeof t=="string"||bTe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":yTe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<J2.length;){const o=J2[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)J2.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?hs.basename(this.path):void 0}set basename(t){X2(t,"basename"),Y2(t,"basename"),this.path=hs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?hs.dirname(this.path):void 0}set dirname(t){B4(this.basename,"dirname"),this.path=hs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?hs.extname(this.path):void 0}set extname(t){if(Y2(t,"extname"),B4(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=hs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){uA(t)&&(t=_Te(t)),X2(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?hs.basename(this.path,this.extname):void 0}set stem(t){X2(t,"stem"),Y2(t,"stem"),this.path=hs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Gi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Y2(e,t){if(e&&e.includes(hs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+hs.sep+"`")}function X2(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function B4(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bTe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const STe=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),xTe={}.hasOwnProperty;class NP extends STe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lTe()}copy(){const t=new NP;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Q2(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(nC("data",this.frozen),this.namespace[t]=n,this):xTe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(nC("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Py(t),r=this.parser||this.Parser;return eC("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),eC("process",this.parser||this.Parser),tC("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,a){const s=Py(t),l=r.parse(s);r.run(l,s,function(d,p,g){if(d||!p||!g)return f(d);const y=p,b=r.stringify(y,g);TTe(b)?g.value=b:g.result=b,f(d,g)});function f(d,p){d||!p?a(d):o?o(p):n(void 0,p)}}}processSync(t){let n=!1,r;return this.freeze(),eC("processSync",this.parser||this.Parser),tC("processSync",this.compiler||this.Compiler),this.process(t,i),z4("processSync","process",n),r;function i(o,a){n=!0,j4(o),r=a}}run(t,n,r){$4(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(a,s){const l=Py(n);i.run(t,l,f);function f(d,p,g){const y=p||t;d?s(d):a?a(y):r(void 0,y,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),z4("runSync","run",r),i;function o(a,s){j4(a),i=s,r=!0}}stringify(t,n){this.freeze();const r=Py(n),i=this.compiler||this.Compiler;return tC("stringify",i),$4(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(nC("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(f){if(typeof f=="function")l(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[d,...p]=f;l(d,p)}else a(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function a(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(f.plugins),f.settings&&(i.settings=Q2(!0,i.settings,f.settings))}function s(f){let d=-1;if(f!=null)if(Array.isArray(f))for(;++d<f.length;){const p=f[d];o(p)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function l(f,d){let p=-1,g=-1;for(;++p<r.length;)if(r[p][0]===f){g=p;break}if(g===-1)r.push([f,...d]);else if(d.length>0){let[y,...b]=d;const x=r[g][1];sA(x)&&sA(y)&&(y=Q2(!0,x,y)),r[g]=[f,y,...b]}}}}const ETe=new NP().freeze();function eC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function tC(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function nC(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function $4(e){if(!sA(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function z4(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Py(e){return CTe(e)?e:new KH(e)}function CTe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function TTe(e){return typeof e=="string"||ATe(e)}function ATe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RTe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",q4=[],H4={allowDangerousHtml:!0},PTe=/^(https?|ircs?|mailto|xmpp)$/i,OTe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function MTe(e){const t=LTe(e),n=ITe(e);return kTe(t.runSync(t.parse(n),n),e)}function LTe(e){const t=e.rehypePlugins||q4,n=e.remarkPlugins||q4,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...H4}:H4;return ETe().use(fCe).use(n).use(aTe,r).use(t)}function ITe(e){const t=e.children||"",n=new KH;return typeof t=="string"&&(n.value=t),n}function kTe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,a=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||DTe;for(const d of OTe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+RTe+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),VH(e,f),Hxe(e,{Fragment:U.Fragment,components:i,ignoreInvalidStyle:!0,jsx:U.jsx,jsxs:U.jsxs,passKeys:!0,passNode:!0});function f(d,p,g){if(d.type==="raw"&&g&&typeof p=="number")return a?g.children.splice(p,1):g.children[p]={type:"text",value:d.value},p;if(d.type==="element"){let y;for(y in K2)if(Object.hasOwn(K2,y)&&Object.hasOwn(d.properties,y)){const b=d.properties[y],x=K2[y];(x===null||x.includes(d.tagName))&&(d.properties[y]=l(String(b||""),y,d))}}if(d.type==="element"){let y=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!y&&r&&typeof p=="number"&&(y=!r(d,p,g)),y&&g&&typeof p=="number")return s&&d.children?g.children.splice(p,1,...d.children):g.children.splice(p,1),p}}}function DTe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||PTe.test(e.slice(0,t))?e:""}const NTe="_text_e0nft_1",FTe={text:NTe},jTe=`# About

WIP`,UTe=()=>U.jsx(MTe,{className:FTe.text,children:jTe}),BTe=()=>{const e=Dr(Cd),t=Fc();B.useEffect(()=>{if(e.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(e.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&t(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[e.isLoggedIn,t])},$Te="_spin_pafwh_9",zTe={spin:$Te},GH=({className:e,...t})=>U.jsx(rme,{className:Fn(zTe.spin,e),...t}),nm=(e,t)=>{const n=jve(e,t),r=WH(e,t);return B.useMemo(()=>({isMember:n,...r}),[r,n])},WH=(e,t)=>{const{isLoading:n,variables:r,store:i}=oo({query:Ave,variables:B.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:Xn}),o=r.publicTypeIndex??[],a=r.privateTypeIndex??[],s=r.preferencesFile??[],l=r.inbox??[],f=r.hospexDocumentForCommunity??[],d=B.useMemo(()=>(r.hospexDocument??[]).map(E=>{const v=i.getObjects(e,pd.member_of,E).map(({value:C})=>({uri:C,name:i.getObjects(C,pd.name,null)[0]?.value??""})),w=i.getObjects(e,El.storage,E);return{hospexDocument:E,communities:v,storage:w[0]?.value}}),[i,e,r]),p=f.length>0?!0:n?void 0:!1,g=o.length>0?!0:n?void 0:!1,y=a.length>0?!0:n?void 0:!1,b=s.length>0?!0:n?void 0:!1,x=l.length>0?!0:n?void 0:!1;return{isHospexProfile:p,isPublicTypeIndex:g,isPrivateTypeIndex:y,isPreferencesFile:b,isInbox:x,personalHospexDocuments:f,publicTypeIndexes:o,privateTypeIndexes:a,preferencesFiles:s,inboxes:l,allHospex:d}},qTe=(e,t)=>{const n=B.useCallback(async()=>{if(!t)return"mailer not set up";const a=await Xn(`${t}/status`);if(!a.ok)throw new Error("Network response was not ok");return a.json()},[t]),{isLoading:r,data:i}=dm({queryKey:[Vr.mailerIntegration],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const o=i.integrations.filter(a=>a.object===e);return o.length===0?!1:o.some(a=>a.verified)?!0:"unverified"},HTe=async(e,t)=>{if(!t)return"mailer not set up";const n=await Xn(`${t}/status/${Xo(e)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},ZH=(e,t)=>dm({queryKey:[Vr.simpleMailerIntegration],queryFn:()=>HTe(e,t)}),VTe=(e,t)=>{const{isLoading:n,data:r}=ZH(e,t);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var rC,V4;function KTe(){if(V4)return rC;V4=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return rC=e,rC}var iC,K4;function GTe(){if(K4)return iC;K4=1;function e(t,n,r){var i=-1,o=t.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(o);++i<o;)a[i]=t[i+n];return a}return iC=e,iC}var oC,G4;function WTe(){if(G4)return oC;G4=1;var e=Rw(),t=GTe();function n(r,i){return i.length<2?r:e(r,t(i,0,-1))}return oC=n,oC}var aC,W4;function ZTe(){if(W4)return aC;W4=1;var e=Id(),t=KTe(),n=WTe(),r=kd();function i(o,a){return a=e(a,o),o=n(o,a),o==null||delete o[r(t(a))]}return aC=i,aC}var sC,Z4;function QTe(){if(Z4)return sC;Z4=1;var e=iz();function t(n){return e(n)?void 0:n}return sC=t,sC}var uC,Q4;function JTe(){if(Q4)return uC;Q4=1;var e=Md(),t=bw(),n=Za(),r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return uC=i,uC}var lC,J4;function YTe(){if(J4)return lC;J4=1;var e=AR(),t=JTe();function n(r,i,o,a,s){var l=-1,f=r.length;for(o||(o=t),s||(s=[]);++l<f;){var d=r[l];i>0&&o(d)?i>1?n(d,i-1,o,a,s):e(s,d):a||(s[s.length]=d)}return s}return lC=n,lC}var cC,Y4;function XTe(){if(Y4)return cC;Y4=1;var e=YTe();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return cC=t,cC}var fC,X4;function QH(){if(X4)return fC;X4=1;var e=XTe(),t=sz(),n=uz();function r(i){return n(t(i,void 0,e),i+"")}return fC=r,fC}var dC,e6;function eAe(){if(e6)return dC;e6=1;var e=Aw(),t=mz(),n=ZTe(),r=Id(),i=Fd(),o=QTe(),a=QH(),s=pz(),l=1,f=2,d=4,p=a(function(g,y){var b={};if(g==null)return b;var x=!1;y=e(y,function(v){return v=r(v,g),x||(x=v.length>1),v}),i(g,s(g),b),x&&(b=t(b,l|f|d,o));for(var E=y.length;E--;)n(b,y[E]);return b});return dC=p,dC}var tAe=eAe();const JH=_r(tAe);var hC,t6;function nAe(){if(t6)return hC;t6=1;function e(t,n){return t<n}return hC=e,hC}var pC,n6;function rAe(){if(n6)return pC;n6=1;var e=cz(),t=FR(),n=nAe();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return pC=r,pC}var iAe=rAe();const oAe=_r(iAe),YH=e=>{const[t,n]=dz(e),[r]=aAe(e),i=t?.storage?.map(o=>o["@id"])??[];if(n.isFetched)return i[0]??r},aAe=e=>{const[t,n]=B.useState([ii(e)]),[r,i]=B.useState(),o=g_e(t),a=B.useMemo(()=>o.map(l=>l.data?.response?.headers.get("Link")),[o]);B.useEffect(()=>{const l=a.findIndex(f=>f?.includes(Uc.Storage));l>-1?i(t[l]):o.every(f=>f.isSuccess||f.isError)&&n(f=>{const d=oAe(f,p=>p.length);if(d){const p=M$(d);if(!f.includes(p))return[...f,p]}return f})},[a,t,o]);const s=!o.every(l=>l.isSuccess||l.isError)||o.length<t.length;return[r,s]};var mC,r6;function sAe(){if(r6)return mC;r6=1;var e=JR(),t=Id(),n=xw(),r=Ea(),i=kd();function o(a,s,l,f){if(!r(a))return a;s=t(s,a);for(var d=-1,p=s.length,g=p-1,y=a;y!=null&&++d<p;){var b=i(s[d]),x=l;if(b==="__proto__"||b==="constructor"||b==="prototype")return a;if(d!=g){var E=y[b];x=f?f(E,b,y):void 0,x===void 0&&(x=r(E)?E:n(s[d+1])?[]:{})}e(y,b,x),y=y[b]}return a}return mC=o,mC}var gC,i6;function uAe(){if(i6)return gC;i6=1;var e=Rw(),t=sAe(),n=Id();function r(i,o,a){for(var s=-1,l=o.length,f={};++s<l;){var d=o[s],p=e(i,d);a(p,d)&&t(f,n(d,i),p)}return f}return gC=r,gC}var yC,o6;function lAe(){if(o6)return yC;o6=1;var e=uAe(),t=o9();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return yC=n,yC}var vC,a6;function cAe(){if(a6)return vC;a6=1;var e=lAe(),t=QH(),n=t(function(r,i){return r==null?{}:e(r,i)});return vC=n,vC}var fAe=cAe();const dAe=_r(fAe),hAe="_container_9yuh8_1",pAe="_list_9yuh8_8",mAe="_trigger_9yuh8_13",gAe="_connect_9yuh8_32",yAe="_content_9yuh8_44",vAe="_storageOptions_9yuh8_60",_Ae="_option_9yuh8_63",sl={container:hAe,list:pAe,trigger:mAe,connect:gAe,content:yAe,storageOptions:vAe,option:_Ae},wAe={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},bAe={type:{"@id":"@type"},Authorization:{"@id":"http://www.w3.org/ns/auth/acl#Authorization","@context":{type:{"@id":"@type"},accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@isCollection":!0},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@isCollection":!0},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@isCollection":!0},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@isCollection":!0},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@isCollection":!0},origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@isCollection":!0}}},accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@isCollection":!0},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@isCollection":!0},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@isCollection":!0},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@isCollection":!0},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@isCollection":!0},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@isCollection":!0}},zd={schema:wAe,shape:"https://example.com/Authorization",context:bAe};let Oy;const SAe=new Uint8Array(16);function xAe(){if(!Oy&&(Oy=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Oy))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oy(SAe)}const ki=[];for(let e=0;e<256;++e)ki.push((e+256).toString(16).slice(1));function EAe(e,t=0){return ki[e[t+0]]+ki[e[t+1]]+ki[e[t+2]]+ki[e[t+3]]+"-"+ki[e[t+4]]+ki[e[t+5]]+"-"+ki[e[t+6]]+ki[e[t+7]]+"-"+ki[e[t+8]]+ki[e[t+9]]+"-"+ki[e[t+10]]+ki[e[t+11]]+ki[e[t+12]]+ki[e[t+13]]+ki[e[t+14]]+ki[e[t+15]]}const CAe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),s6={randomUUID:CAe};function dl(e,t,n){if(s6.randomUUID&&!e)return s6.randomUUID();e=e||{};const r=e.random||(e.rng||xAe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,EAe(r)}const u6=async e=>{e=xl(e);const t=await xR(e,Xn);if(!t.ok)throw t.response?new _a(t.response.statusText,t.response):new Error("unexpected");return t},TAe=e=>{const t=Dp({queries:e.map(o=>({queryKey:[Vr.rdfDocument,o],queryFn:async()=>u6(o),enabled:!!o}))}),n=t.map(({data:o},a)=>{const s=e[a],l=o?.response?.headers,f=l?.get("link"),p=(f?f$.parse(f):void 0)?.rel("acl")[0]?.uri,g=p&&s?new URL(p,s).toString():void 0,y=l?.get("wac-allow"),b=y?qpe(y):void 0;return{resource:s,aclUri:g,effectivePermissions:b}}),r=Dp({queries:n.map(({aclUri:o,effectivePermissions:a})=>({queryKey:[Vr.rdfDocument,o],queryFn:async()=>u6(o??""),enabled:!!o&&a?.user?.has("control")}))}),i=r.map(({data:o,isError:a},s)=>{const l=n[s]?.aclUri;return l&&typeof o?.rawData=="string"&&!a?L$(l,o.rawData):void 0});return{isLoading:t.some(o=>o.isLoading)||r.some(o=>o.isLoading),results:n.map((o,a)=>({effectivePermissions:o.effectivePermissions,acls:[{uri:o.aclUri,accesses:i[a]}]}))}},t0=()=>{const e=Yo();return B.useCallback(async(t,n)=>{const r=await Bc(t),i=await uu(r);if(!(i.ok||i.status===404))throw new _a("Acl could not be resolved",i);const a=i.status===404?"":await i.text(),s=L$(r,a),l=new cw({format:"N-Triples"});for(const d of n){d.agents??=[],d.agentGroups??=[];const p=s.find(x=>{const E=new Set(d.access),v=new Set(x.modes);return E.size===v.size&&Array.from(E).every(w=>v.has(w))&&d.default?x.defaults.includes(t):x.defaults.length===0}),g=x=>{const E=new URL(x);return E.hash=dl(),E.toString()},y=p?.url??g(r),b=new vr(y);l.addQuads(d.agentGroups.map(x=>new Ki(b,new vr(hn.agentGroup),new vr(x)))),l.addQuads(d.agents.map(x=>new Ki(b,new vr(hn.agent),new vr(x)))),p||(l.addQuads([new Ki(b,new vr(Od.type),new vr(hn.Authorization)),new Ki(b,new vr(hn.accessTo),new vr(t)),...d.access.map(x=>new Ki(b,new vr(hn.mode),new vr(hn[x])))]),d.default&&l.addQuads([new Ki(b,new vr(hn.default__workaround),new vr(t))]))}const f=await new Promise((d,p)=>{l.end((g,y)=>{g?p(g):d(y)})});await e.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${f}
          } .`})},[e])},AAe=async({index:e,type:t,location:n})=>{const i=n.endsWith("/")?wn.instanceContainer:wn.instance,o=await uu(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${t}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(o.ok)return;if(o.status!==409)throw new _a("Updating type registration failed.",o);const a=dl(),s=await uu(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${a}>
          a solid:TypeRegistration;
          solid:forClass <${t}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new _a("Saving type registration failed.",s)},XH=()=>{const e=Ui();return ta({mutationFn:AAe,onSuccess:(t,{index:n})=>{e.invalidateQueries({queryKey:[Vr.rdfDocument,n]})}}).mutateAsync},RAe=()=>{const e=t0(),t=Yo(),n=Yo();return B.useCallback(async({preferencesFile:r,webId:i,privateTypeIndex:o})=>{await t.mutateAsync({uri:r,patch:`
        @prefix pim: <http://www.w3.org/ns/pim/space#> .
        _:mutate a <${wn.InsertDeletePatch}>;
          <${wn.inserts}> {
            <> a pim:ConfigurationFile.
            ${o?`<${i}> <${wn.privateTypeIndex}> <${o}>.`:""}
          }.`});const a=ii(r);await e(a,[{operation:"add",access:[Ko.Read,Ko.Write,Ko.Control],default:!0,agents:[i]}]),await n.mutateAsync({uri:i,patch:`_:mutate a <${wn.InsertDeletePatch}>; <${wn.inserts}> {
          <${i}> <${Uc.preferencesFile}> <${r}>.
        }.`})},[t,e,n])},PAe=()=>{const e=qa(Zve),t=Yo();return B.useCallback(async({webId:n,privateTypeIndex:r,preferencesFile:i})=>{await e.mutateAsync({uri:r,data:{"@id":r,type:new Dn([{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}])}});const o=`_:mutate a <${wn.InsertDeletePatch}>; <${wn.inserts}> { <${n}> <${wn.privateTypeIndex}> <${r}>. }.`;await t.mutateAsync({uri:i,patch:o})},[e,t])},OAe=()=>{const{communityId:e}=Mn(),t=zc(Dw),n=e7(),r=t0(),i=gu(e);return B.useCallback(async({uri:o,webId:a})=>{await t.mutateAsync({uri:o,subject:a,transform:s=>{s.memberOf?.add({"@id":e}),s.storage2??={"@id":ii(o)},s["@id"]??=a}});try{await n({webId:a,uri:ii(o)},{throwOnHttpError:!0})}catch{await r(ii(o),[{operation:"add",access:[Ko.Read],agentGroups:i.groups,default:!0}])}},[i.groups,e,n,r,t])},e7=()=>{const{communityId:e}=Mn(),t=qa(zd),n=gu(e);return B.useCallback(async({uri:r,webId:i},o={})=>{const a=ii(r),s=await Bc(a);await t.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:new Dn([{"@id":a}]),default:{"@id":a},agent:new Dn([{"@id":i}]),mode:new Dn([{"@id":hn.Read},{"@id":hn.Write},{"@id":hn.Control}])},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:new Dn([{"@id":a}]),default:{"@id":a},agentGroup:new Dn(n.groups.map(l=>({"@id":l}))),mode:new Dn([{"@id":hn.Read}])}],...o})},[n.groups,t])},MAe=()=>{const e=qa(Dw),t=e7();return B.useCallback(async({uri:n,webId:r,communityId:i})=>{const o=ii(n);await e.mutateAsync({uri:n,data:{"@id":r,memberOf:new Dn([{"@id":i}]),storage2:{"@id":o}}}),await t({uri:n,webId:r})},[t,e])},LAe=()=>{const e=qa(Wve),t=qa(zd),n=Yo();return B.useCallback(async({webId:r,publicTypeIndex:i})=>{await e.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:new Dn([{"@id":"TypeIndex"},{"@id":"ListedDocument"}])}});const o=await Bc(i);await t.mutateAsync({uri:o,method:"PUT",data:[{"@id":o+"#owner",type:{"@id":"Authorization"},agent:new Dn([{"@id":r}]),accessTo:new Dn([{"@id":i}]),mode:new Dn([{"@id":hn.Read},{"@id":hn.Write},{"@id":hn.Control}])},{"@id":o+"#public",type:{"@id":"Authorization"},agentClass:new Dn([{"@id":ml.Agent}]),accessTo:new Dn([{"@id":i}]),mode:new Dn([{"@id":hn.Read}])}]});const a=`_:mutate a <${wn.InsertDeletePatch}>; <${wn.inserts}> { <${r}> <${wn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:a})},[t,e,n])},IAe=()=>{const e=y_e(),t=qa(zd),n=Yo();return B.useCallback(async({webId:r,inbox:i})=>{await e.mutateAsync({uri:i});const o=await Bc(i);await t.mutateAsync({uri:o,data:[{"@id":o+"#ControlReadWrite",type:{"@id":"Authorization"},agent:new Dn([{"@id":r}]),accessTo:new Dn([{"@id":i}]),default:{"@id":i},mode:new Dn([{"@id":hn.Read},{"@id":hn.Write},{"@id":hn.Control}])},{"@id":o+"#Append",type:{"@id":"Authorization"},agentClass:new Dn([{"@id":hn.AuthenticatedAgent}]),accessTo:new Dn([{"@id":i}]),default:{"@id":i},mode:new Dn([{"@id":hn.Append}])}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${wn.InsertDeletePatch}>; <${wn.inserts}> { <${r}> <${nu.inbox}> <${i}>. }.`})},[t,e,n])},kAe=()=>{const{emailNotificationsService:e,emailNotificationsIdentity:t}=Mn(),n=async s=>{if(!(await Xn(`${e}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=Ui(),{mutate:i}=ta({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:[Vr.mailerIntegration]})}}),o=B.useCallback(({webId:s,inbox:l,email:f})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:l,target:f})},[i]),a=zc(zd);return B.useCallback(async({email:s,inbox:l,webId:f})=>{const d=await Bc(l);await a.mutateAsync({uri:d,subject:d+"#read",transform:p=>{p["@id"]=d+"#read",p.type={"@id":"Authorization"},p.agent?.add({"@id":t}),p.accessTo.add({"@id":l}),p.default={"@id":l},p.mode?.add({"@id":hn.Read})}}),o({email:s,inbox:l,webId:f})},[t,o,a])},DAe=()=>{const{emailNotificationsService:e}=Mn(),t=async i=>{const o=await Xn(`${e}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!o.ok)throw new _a("Sending verification email failed",o)},n=Ui();return ta({mutationFn:t,onSuccess:()=>{n.invalidateQueries({queryKey:[Vr.simpleMailerIntegration]})}})},NAe=()=>{const{emailNotificationsIdentity:e}=Mn(),t=zc(zd),n=Yo(),r=t0();return B.useCallback(async({hospexDocument:o,webId:a,email:s})=>{const l=ii(o);await r(l,[{operation:"add",access:[Ko.Read],agents:[e],default:!0}]);const f=l+"emailSettings-"+dl(),d=`_:mutate a <${wn.InsertDeletePatch}>;
        <${wn.inserts}> { <${a}> <${ml.mbox}> "${s}". } .`;await n.mutateAsync({uri:f,patch:d});const p=await Bc(f);await t.mutateAsync({uri:p,subject:p+"#owner",transform:y=>{y["@id"]=p+"#owner",y.type={"@id":"Authorization"},y.agent?.add({"@id":a}),y.accessTo.add({"@id":f}),y.mode?.add({"@id":hn.Read}).add({"@id":hn.Write}).add({"@id":hn.Control})}}),await t.mutateAsync({uri:p,subject:p+"#readWriteMailer",transform:y=>{y["@id"]=p+"#readWriteMailer",y.type={"@id":"Authorization"},y.agent?.add({"@id":e}),y.accessTo.add({"@id":f}),y.mode?.add({"@id":hn.Read}).add({"@id":hn.Write})}});const g=`_:mutate a <${wn.InsertDeletePatch}>;
        <${wn.inserts}> { <${a}> <${Uc.preferencesFile}> <${f}>. } .`;await n.mutateAsync({uri:o,patch:g})},[e,r,t,n])};var Im=e=>e.type==="checkbox",_c=e=>e instanceof Date,So=e=>e==null;const t7=e=>typeof e=="object";var oi=e=>!So(e)&&!Array.isArray(e)&&t7(e)&&!_c(e),n7=e=>oi(e)&&e.target?Im(e.target)?e.target.checked:e.target.value:e,FAe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,r7=(e,t)=>e.has(FAe(t)),jAe=e=>{const t=e.constructor&&e.constructor.prototype;return oi(t)&&t.hasOwnProperty("isPrototypeOf")},FP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pi(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(FP&&(e instanceof Blob||r))&&(n||oi(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!jAe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=pi(e[i]));else return e;return t}var n0=e=>/^\w*$/.test(e),qr=e=>e===void 0,jP=e=>Array.isArray(e)?e.filter(Boolean):[],UP=e=>jP(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ut=(e,t,n)=>{if(!t||!oi(e))return n;const r=(n0(t)?[t]:UP(t)).reduce((i,o)=>So(i)?i:i[o],e);return qr(r)||r===e?qr(e[t])?n:e[t]:r},zo=e=>typeof e=="boolean",ar=(e,t,n)=>{let r=-1;const i=n0(t)?[t]:UP(t),o=i.length,a=o-1;for(;++r<o;){const s=i[r];let l=n;if(r!==a){const f=e[s];l=oi(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=l,e=e[s]}};const D_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ja={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},i7=St.createContext(null);i7.displayName="HookFormContext";const BP=()=>St.useContext(i7);var o7=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const a=o;return t._proxyFormState[a]!==ja.all&&(t._proxyFormState[a]=!r||ja.all),n&&(n[a]=!0),e[a]}});return i};const $P=typeof window<"u"?St.useLayoutEffect:St.useEffect;function UAe(e){const t=BP(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[a,s]=St.useState(n._formState),l=St.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $P(()=>n._subscribe({name:i,formState:l.current,exact:o,callback:f=>{!r&&s({...n._formState,...f})}}),[i,r,o]),St.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),St.useMemo(()=>o7(a,n,l.current,!1),[a,n])}var Ho=e=>typeof e=="string",lA=(e,t,n,r,i)=>Ho(e)?(r&&t.watch.add(e),Ut(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Ut(n,o))):(r&&(t.watchAll=!0),n),cA=e=>So(e)||!t7(e);function Ua(e,t,n=new WeakSet){if(cA(e)||cA(t))return Object.is(e,t);if(_c(e)&&_c(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const o of r){const a=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const s=t[o];if(_c(a)&&_c(s)||oi(a)&&oi(s)||Array.isArray(a)&&Array.isArray(s)?!Ua(a,s,n):!Object.is(a,s))return!1}}return!0}function BAe(e){const t=BP(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:a,compute:s}=e||{},l=St.useRef(i),f=St.useRef(s),d=St.useRef(void 0),p=St.useRef(n),g=St.useRef(r);f.current=s;const[y,b]=St.useState(()=>{const P=n._getWatch(r,l.current);return f.current?f.current(P):P}),x=St.useCallback(P=>{const R=lA(r,n._names,P||n._formValues,!1,l.current);return f.current?f.current(R):R},[n._formValues,n._names,r]),E=St.useCallback(P=>{if(!o){const R=lA(r,n._names,P||n._formValues,!1,l.current);if(f.current){const k=f.current(R);Ua(k,d.current)||(b(k),d.current=k)}else b(R)}},[n._formValues,n._names,o,r]);$P(()=>((p.current!==n||!Ua(g.current,r))&&(p.current=n,g.current=r,E()),n._subscribe({name:r,formState:{values:!0},exact:a,callback:P=>{E(P.values)}})),[n,a,r,E]),St.useEffect(()=>n._removeUnmounted());const v=p.current!==n,w=g.current,C=St.useMemo(()=>{if(o)return null;const P=!v&&!Ua(w,r);return v||P?x():null},[o,v,r,w,x]);return C!==null?C:y}function $Ae(e){const t=BP(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o,defaultValue:a,exact:s=!0}=e,l=r7(i._names.array,n),f=St.useMemo(()=>Ut(i._formValues,n,Ut(i._defaultValues,n,a)),[i,n,a]),d=BAe({control:i,name:n,defaultValue:f,exact:s}),p=UAe({control:i,name:n,exact:s}),g=St.useRef(e),y=St.useRef(void 0),b=St.useRef(i.register(n,{...e.rules,value:d,...zo(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const x=St.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ut(p.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ut(p.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ut(p.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ut(p.validatingFields,n)},error:{enumerable:!0,get:()=>Ut(p.errors,n)}}),[p,n]),E=St.useCallback(P=>b.current.onChange({target:{value:n7(P),name:n},type:D_.CHANGE}),[n]),v=St.useCallback(()=>b.current.onBlur({target:{value:Ut(i._formValues,n),name:n},type:D_.BLUR}),[n,i._formValues]),w=St.useCallback(P=>{const R=Ut(i._fields,n);R&&P&&(R._f.ref={focus:()=>P.focus&&P.focus(),select:()=>P.select&&P.select(),setCustomValidity:k=>P.setCustomValidity(k),reportValidity:()=>P.reportValidity()})},[i._fields,n]),C=St.useMemo(()=>({name:n,value:d,...zo(r)||p.disabled?{disabled:p.disabled||r}:{},onChange:E,onBlur:v,ref:w}),[n,r,p.disabled,E,v,w,d]);return St.useEffect(()=>{const P=i._options.shouldUnregister||o,R=y.current;R&&R!==n&&!l&&i.unregister(R),i.register(n,{...g.current.rules,...zo(g.current.disabled)?{disabled:g.current.disabled}:{}});const k=(M,W)=>{const ee=Ut(i._fields,M);ee&&ee._f&&(ee._f.mount=W)};if(k(n,!0),P){const M=pi(Ut(i._options.defaultValues,n,g.current.defaultValue));ar(i._defaultValues,n,M),qr(Ut(i._formValues,n))&&ar(i._formValues,n,M)}return!l&&i.register(n),y.current=n,()=>{(l?P&&!i._state.action:P)?i.unregister(n):k(n,!1)}},[n,i,l,o]),St.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),St.useMemo(()=>({field:C,formState:p,fieldState:x}),[C,p,x])}const N_=e=>e.render($Ae(e));var a7=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Op=e=>Array.isArray(e)?e:[e],l6=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}};function s7(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],o=t[r];if(i&&oi(i)&&o){const a=s7(i,o);oi(a)&&(n[r]=a)}else e[r]&&(n[r]=o)}return n}var eo=e=>oi(e)&&!Object.keys(e).length,zP=e=>e.type==="file",Ba=e=>typeof e=="function",F_=e=>{if(!FP)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},u7=e=>e.type==="select-multiple",qP=e=>e.type==="radio",zAe=e=>qP(e)||Im(e),_C=e=>F_(e)&&e.isConnected;function qAe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=qr(e)?r++:e[t[r++]];return e}function HAe(e){for(const t in e)if(e.hasOwnProperty(t)&&!qr(e[t]))return!1;return!0}function ti(e,t){const n=Array.isArray(t)?t:n0(t)?[t]:UP(t),r=n.length===1?e:qAe(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(oi(r)&&eo(r)||Array.isArray(r)&&HAe(r))&&ti(e,n.slice(0,-1)),e}var VAe=e=>{for(const t in e)if(Ba(e[t]))return!0;return!1};function l7(e){return Array.isArray(e)||oi(e)&&!VAe(e)}function fA(e,t={}){for(const n in e){const r=e[n];l7(r)?(t[n]=Array.isArray(r)?[]:{},fA(r,t[n])):qr(r)||(t[n]=!0)}return t}function Zf(e,t,n){n||(n=fA(t));for(const r in e){const i=e[r];if(l7(i))qr(t)||cA(n[r])?n[r]=fA(i,Array.isArray(i)?[]:{}):Zf(i,So(t)?{}:t[r],n[r]);else{const o=t[r];n[r]=!Ua(i,o)}}return n}const c6={value:!1,isValid:!1},f6={value:!0,isValid:!0};var c7=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qr(e[0].attributes.value)?qr(e[0].value)||e[0].value===""?f6:{value:e[0].value,isValid:!0}:f6:c6}return c6},f7=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>qr(e)?e:t?e===""?NaN:e&&+e:n&&Ho(e)?new Date(e):r?r(e):e;const d6={isValid:!1,value:null};var d7=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,d6):d6;function h6(e){const t=e.ref;return zP(t)?t.files:qP(t)?d7(e.refs).value:u7(t)?[...t.selectedOptions].map(({value:n})=>n):Im(t)?c7(e.refs).value:f7(qr(t.value)?e.ref.value:t.value,e)}var KAe=(e,t,n,r)=>{const i={};for(const o of e){const a=Ut(t,o);a&&ar(i,o,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},j_=e=>e instanceof RegExp,np=e=>qr(e)?e:j_(e)?e.source:oi(e)?j_(e.value)?e.value.source:e.value:e,p6=e=>({isOnSubmit:!e||e===ja.onSubmit,isOnBlur:e===ja.onBlur,isOnChange:e===ja.onChange,isOnAll:e===ja.all,isOnTouch:e===ja.onTouched});const m6="AsyncFunction";var GAe=e=>!!e&&!!e.validate&&!!(Ba(e.validate)&&e.validate.constructor.name===m6||oi(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===m6)),WAe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),g6=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Mp=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Ut(e,i);if(o){const{_f:a,...s}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(Mp(s,t))break}else if(oi(s)&&Mp(s,t))break}}};function y6(e,t,n){const r=Ut(e,n);if(r||n0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),a=Ut(t,o),s=Ut(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};if(s&&s.root&&s.root.type)return{name:`${o}.root`,error:s.root};i.pop()}return{name:n}}var ZAe=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return eo(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!r||ja.all))},QAe=(e,t,n)=>!e||!t||e===t||Op(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),JAe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,YAe=(e,t)=>!jP(Ut(e,t)).length&&ti(e,t),XAe=(e,t,n)=>{const r=Op(Ut(e,n));return ar(r,"root",t[n]),ar(e,n,r),e};function v6(e,t,n="validate"){if(Ho(e)||Array.isArray(e)&&e.every(Ho)||zo(e)&&!e)return{type:n,message:Ho(e)?e:"",ref:t}}var Bf=e=>oi(e)&&!j_(e)?e:{value:e,message:""},_6=async(e,t,n,r,i,o)=>{const{ref:a,refs:s,required:l,maxLength:f,minLength:d,min:p,max:g,pattern:y,validate:b,name:x,valueAsNumber:E,mount:v}=e._f,w=Ut(n,x);if(!v||t.has(x))return{};const C=s?s[0]:a,P=te=>{i&&C.reportValidity&&(C.setCustomValidity(zo(te)?"":te||""),C.reportValidity())},R={},k=qP(a),M=Im(a),W=k||M,ee=(E||zP(a))&&qr(a.value)&&qr(w)||F_(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,z=a7.bind(null,x,r,R),H=(te,oe,ue,de=Ws.maxLength,se=Ws.minLength)=>{const pe=te?oe:ue;R[x]={type:te?de:se,message:pe,ref:a,...z(te?de:se,pe)}};if(o?!Array.isArray(w)||!w.length:l&&(!W&&(ee||So(w))||zo(w)&&!w||M&&!c7(s).isValid||k&&!d7(s).isValid)){const{value:te,message:oe}=Ho(l)?{value:!!l,message:l}:Bf(l);if(te&&(R[x]={type:Ws.required,message:oe,ref:C,...z(Ws.required,oe)},!r))return P(oe),R}if(!ee&&(!So(p)||!So(g))){let te,oe;const ue=Bf(g),de=Bf(p);if(!So(w)&&!isNaN(w)){const se=a.valueAsNumber||w&&+w;So(ue.value)||(te=se>ue.value),So(de.value)||(oe=se<de.value)}else{const se=a.valueAsDate||new Date(w),pe=$=>new Date(new Date().toDateString()+" "+$),re=a.type=="time",Ee=a.type=="week";Ho(ue.value)&&w&&(te=re?pe(w)>pe(ue.value):Ee?w>ue.value:se>new Date(ue.value)),Ho(de.value)&&w&&(oe=re?pe(w)<pe(de.value):Ee?w<de.value:se<new Date(de.value))}if((te||oe)&&(H(!!te,ue.message,de.message,Ws.max,Ws.min),!r))return P(R[x].message),R}if((f||d)&&!ee&&(Ho(w)||o&&Array.isArray(w))){const te=Bf(f),oe=Bf(d),ue=!So(te.value)&&w.length>+te.value,de=!So(oe.value)&&w.length<+oe.value;if((ue||de)&&(H(ue,te.message,oe.message),!r))return P(R[x].message),R}if(y&&!ee&&Ho(w)){const{value:te,message:oe}=Bf(y);if(j_(te)&&!w.match(te)&&(R[x]={type:Ws.pattern,message:oe,ref:a,...z(Ws.pattern,oe)},!r))return P(oe),R}if(b){if(Ba(b)){const te=await b(w,n),oe=v6(te,C);if(oe&&(R[x]={...oe,...z(Ws.validate,oe.message)},!r))return P(oe.message),R}else if(oi(b)){let te={};for(const oe in b){if(!eo(te)&&!r)break;const ue=v6(await b[oe](w,n),C,oe);ue&&(te={...ue,...z(oe,ue.message)},P(ue.message),r&&(R[x]=te))}if(!eo(te)&&(R[x]={ref:C,...te},!r))return R}}return P(!0),R};const eRe={mode:ja.onSubmit,reValidateMode:ja.onChange,shouldFocusError:!0};function tRe(e={}){let t={...eRe,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ba(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=oi(t.defaultValues)||oi(t.values)?pi(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:pi(i),a={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,f=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...d};const g={array:l6(),state:l6()},y=t.criteriaMode===ja.all,b=ye=>Ae=>{clearTimeout(f),f=setTimeout(ye,Ae)},x=async ye=>{if(!t.disabled&&(d.isValid||p.isValid||ye)){const Ae=t.resolver?eo((await M()).errors):await ee(r,!0);Ae!==n.isValid&&g.state.next({isValid:Ae})}},E=(ye,Ae)=>{!t.disabled&&(d.isValidating||d.validatingFields||p.isValidating||p.validatingFields)&&((ye||Array.from(s.mount)).forEach(Me=>{Me&&(Ae?ar(n.validatingFields,Me,Ae):ti(n.validatingFields,Me))}),g.state.next({validatingFields:n.validatingFields,isValidating:!eo(n.validatingFields)}))},v=(ye,Ae=[],Me,tt,mt=!0,Ye=!0)=>{if(tt&&Me&&!t.disabled){if(a.action=!0,Ye&&Array.isArray(Ut(r,ye))){const qe=Me(Ut(r,ye),tt.argA,tt.argB);mt&&ar(r,ye,qe)}if(Ye&&Array.isArray(Ut(n.errors,ye))){const qe=Me(Ut(n.errors,ye),tt.argA,tt.argB);mt&&ar(n.errors,ye,qe),YAe(n.errors,ye)}if((d.touchedFields||p.touchedFields)&&Ye&&Array.isArray(Ut(n.touchedFields,ye))){const qe=Me(Ut(n.touchedFields,ye),tt.argA,tt.argB);mt&&ar(n.touchedFields,ye,qe)}(d.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Zf(i,o)),g.state.next({name:ye,isDirty:H(ye,Ae),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ar(o,ye,Ae)},w=(ye,Ae)=>{ar(n.errors,ye,Ae),g.state.next({errors:n.errors})},C=ye=>{n.errors=ye,g.state.next({errors:n.errors,isValid:!1})},P=(ye,Ae,Me,tt)=>{const mt=Ut(r,ye);if(mt){const Ye=Ut(o,ye,qr(Me)?Ut(i,ye):Me);qr(Ye)||tt&&tt.defaultChecked||Ae?ar(o,ye,Ae?Ye:h6(mt._f)):ue(ye,Ye),a.mount&&!a.action&&x()}},R=(ye,Ae,Me,tt,mt)=>{let Ye=!1,qe=!1;const ae={name:ye};if(!t.disabled){if(!Me||tt){(d.isDirty||p.isDirty)&&(qe=n.isDirty,n.isDirty=ae.isDirty=H(),Ye=qe!==ae.isDirty);const K=Ua(Ut(i,ye),Ae);qe=!!Ut(n.dirtyFields,ye),K?ti(n.dirtyFields,ye):ar(n.dirtyFields,ye,!0),ae.dirtyFields=n.dirtyFields,Ye=Ye||(d.dirtyFields||p.dirtyFields)&&qe!==!K}if(Me){const K=Ut(n.touchedFields,ye);K||(ar(n.touchedFields,ye,Me),ae.touchedFields=n.touchedFields,Ye=Ye||(d.touchedFields||p.touchedFields)&&K!==Me)}Ye&&mt&&g.state.next(ae)}return Ye?ae:{}},k=(ye,Ae,Me,tt)=>{const mt=Ut(n.errors,ye),Ye=(d.isValid||p.isValid)&&zo(Ae)&&n.isValid!==Ae;if(t.delayError&&Me?(l=b(()=>w(ye,Me)),l(t.delayError)):(clearTimeout(f),l=null,Me?ar(n.errors,ye,Me):ti(n.errors,ye)),(Me?!Ua(mt,Me):mt)||!eo(tt)||Ye){const qe={...tt,...Ye&&zo(Ae)?{isValid:Ae}:{},errors:n.errors,name:ye};n={...n,...qe},g.state.next(qe)}},M=async ye=>{E(ye,!0);const Ae=await t.resolver(o,t.context,KAe(ye||s.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return E(ye),Ae},W=async ye=>{const{errors:Ae}=await M(ye);if(ye)for(const Me of ye){const tt=Ut(Ae,Me);tt?ar(n.errors,Me,tt):ti(n.errors,Me)}else n.errors=Ae;return Ae},ee=async(ye,Ae,Me={valid:!0})=>{for(const tt in ye){const mt=ye[tt];if(mt){const{_f:Ye,...qe}=mt;if(Ye){const ae=s.array.has(Ye.name),K=mt._f&&GAe(mt._f);K&&d.validatingFields&&E([Ye.name],!0);const Y=await _6(mt,s.disabled,o,y,t.shouldUseNativeValidation&&!Ae,ae);if(K&&d.validatingFields&&E([Ye.name]),Y[Ye.name]&&(Me.valid=!1,Ae))break;!Ae&&(Ut(Y,Ye.name)?ae?XAe(n.errors,Y,Ye.name):ar(n.errors,Ye.name,Y[Ye.name]):ti(n.errors,Ye.name))}!eo(qe)&&await ee(qe,Ae,Me)}}return Me.valid},z=()=>{for(const ye of s.unMount){const Ae=Ut(r,ye);Ae&&(Ae._f.refs?Ae._f.refs.every(Me=>!_C(Me)):!_C(Ae._f.ref))&&Ve(ye)}s.unMount=new Set},H=(ye,Ae)=>!t.disabled&&(ye&&Ae&&ar(o,ye,Ae),!Ua($(),i)),te=(ye,Ae,Me)=>lA(ye,s,{...a.mount?o:qr(Ae)?i:Ho(ye)?{[ye]:Ae}:Ae},Me,Ae),oe=ye=>jP(Ut(a.mount?o:i,ye,t.shouldUnregister?Ut(i,ye,[]):[])),ue=(ye,Ae,Me={})=>{const tt=Ut(r,ye);let mt=Ae;if(tt){const Ye=tt._f;Ye&&(!Ye.disabled&&ar(o,ye,f7(Ae,Ye)),mt=F_(Ye.ref)&&So(Ae)?"":Ae,u7(Ye.ref)?[...Ye.ref.options].forEach(qe=>qe.selected=mt.includes(qe.value)):Ye.refs?Im(Ye.ref)?Ye.refs.forEach(qe=>{(!qe.defaultChecked||!qe.disabled)&&(Array.isArray(mt)?qe.checked=!!mt.find(ae=>ae===qe.value):qe.checked=mt===qe.value||!!mt)}):Ye.refs.forEach(qe=>qe.checked=qe.value===mt):zP(Ye.ref)?Ye.ref.value="":(Ye.ref.value=mt,Ye.ref.type||g.state.next({name:ye,values:pi(o)})))}(Me.shouldDirty||Me.shouldTouch)&&R(ye,mt,Me.shouldTouch,Me.shouldDirty,!0),Me.shouldValidate&&Ee(ye)},de=(ye,Ae,Me)=>{for(const tt in Ae){if(!Ae.hasOwnProperty(tt))return;const mt=Ae[tt],Ye=ye+"."+tt,qe=Ut(r,Ye);(s.array.has(ye)||oi(mt)||qe&&!qe._f)&&!_c(mt)?de(Ye,mt,Me):ue(Ye,mt,Me)}},se=(ye,Ae,Me={})=>{const tt=Ut(r,ye),mt=s.array.has(ye),Ye=pi(Ae);ar(o,ye,Ye),mt?(g.array.next({name:ye,values:pi(o)}),(d.isDirty||d.dirtyFields||p.isDirty||p.dirtyFields)&&Me.shouldDirty&&g.state.next({name:ye,dirtyFields:Zf(i,o),isDirty:H(ye,Ye)})):tt&&!tt._f&&!So(Ye)?de(ye,Ye,Me):ue(ye,Ye,Me),g6(ye,s)&&g.state.next({...n,name:ye}),g.state.next({name:a.mount?ye:void 0,values:pi(o)})},pe=async ye=>{a.mount=!0;const Ae=ye.target;let Me=Ae.name,tt=!0;const mt=Ut(r,Me),Ye=K=>{tt=Number.isNaN(K)||_c(K)&&isNaN(K.getTime())||Ua(K,Ut(o,Me,K))},qe=p6(t.mode),ae=p6(t.reValidateMode);if(mt){let K,Y;const J=Ae.type?h6(mt._f):n7(ye),Ge=ye.type===D_.BLUR||ye.type===D_.FOCUS_OUT,et=!WAe(mt._f)&&!t.resolver&&!Ut(n.errors,Me)&&!mt._f.deps||JAe(Ge,Ut(n.touchedFields,Me),n.isSubmitted,ae,qe),Ke=g6(Me,s,Ge);ar(o,Me,J),Ge?(!Ae||!Ae.readOnly)&&(mt._f.onBlur&&mt._f.onBlur(ye),l&&l(0)):mt._f.onChange&&mt._f.onChange(ye);const Pt=R(Me,J,Ge),tn=!eo(Pt)||Ke;if(!Ge&&g.state.next({name:Me,type:ye.type,values:pi(o)}),et)return(d.isValid||p.isValid)&&(t.mode==="onBlur"?Ge&&x():Ge||x()),tn&&g.state.next({name:Me,...Ke?{}:Pt});if(!Ge&&Ke&&g.state.next({...n}),t.resolver){const{errors:zt}=await M([Me]);if(Ye(J),tt){const Zt=y6(n.errors,r,Me),Yt=y6(zt,r,Zt.name||Me);K=Yt.error,Me=Yt.name,Y=eo(zt)}}else E([Me],!0),K=(await _6(mt,s.disabled,o,y,t.shouldUseNativeValidation))[Me],E([Me]),Ye(J),tt&&(K?Y=!1:(d.isValid||p.isValid)&&(Y=await ee(r,!0)));tt&&(mt._f.deps&&(!Array.isArray(mt._f.deps)||mt._f.deps.length>0)&&Ee(mt._f.deps),k(Me,Y,K,Pt))}},re=(ye,Ae)=>{if(Ut(n.errors,Ae)&&ye.focus)return ye.focus(),1},Ee=async(ye,Ae={})=>{let Me,tt;const mt=Op(ye);if(t.resolver){const Ye=await W(qr(ye)?ye:mt);Me=eo(Ye),tt=ye?!mt.some(qe=>Ut(Ye,qe)):Me}else ye?(tt=(await Promise.all(mt.map(async Ye=>{const qe=Ut(r,Ye);return await ee(qe&&qe._f?{[Ye]:qe}:qe)}))).every(Boolean),!(!tt&&!n.isValid)&&x()):tt=Me=await ee(r);return g.state.next({...!Ho(ye)||(d.isValid||p.isValid)&&Me!==n.isValid?{}:{name:ye},...t.resolver||!ye?{isValid:Me}:{},errors:n.errors}),Ae.shouldFocus&&!tt&&Mp(r,re,ye?mt:s.mount),tt},$=(ye,Ae)=>{let Me={...a.mount?o:i};return Ae&&(Me=s7(Ae.dirtyFields?n.dirtyFields:n.touchedFields,Me)),qr(ye)?Me:Ho(ye)?Ut(Me,ye):ye.map(tt=>Ut(Me,tt))},Q=(ye,Ae)=>({invalid:!!Ut((Ae||n).errors,ye),isDirty:!!Ut((Ae||n).dirtyFields,ye),error:Ut((Ae||n).errors,ye),isValidating:!!Ut(n.validatingFields,ye),isTouched:!!Ut((Ae||n).touchedFields,ye)}),ce=ye=>{ye&&Op(ye).forEach(Ae=>ti(n.errors,Ae)),g.state.next({errors:ye?n.errors:{}})},G=(ye,Ae,Me)=>{const tt=(Ut(r,ye,{_f:{}})._f||{}).ref,mt=Ut(n.errors,ye)||{},{ref:Ye,message:qe,type:ae,...K}=mt;ar(n.errors,ye,{...K,...Ae,ref:tt}),g.state.next({name:ye,errors:n.errors,isValid:!1}),Me&&Me.shouldFocus&&tt&&tt.focus&&tt.focus()},X=(ye,Ae)=>Ba(ye)?g.state.subscribe({next:Me=>"values"in Me&&ye(te(void 0,Ae),Me)}):te(ye,Ae,!0),ge=ye=>g.state.subscribe({next:Ae=>{QAe(ye.name,Ae.name,ye.exact)&&ZAe(Ae,ye.formState||d,Le,ye.reRenderRoot)&&ye.callback({values:{...o},...n,...Ae,defaultValues:i})}}).unsubscribe,xe=ye=>(a.mount=!0,p={...p,...ye.formState},ge({...ye,formState:p})),Ve=(ye,Ae={})=>{for(const Me of ye?Op(ye):s.mount)s.mount.delete(Me),s.array.delete(Me),Ae.keepValue||(ti(r,Me),ti(o,Me)),!Ae.keepError&&ti(n.errors,Me),!Ae.keepDirty&&ti(n.dirtyFields,Me),!Ae.keepTouched&&ti(n.touchedFields,Me),!Ae.keepIsValidating&&ti(n.validatingFields,Me),!t.shouldUnregister&&!Ae.keepDefaultValue&&ti(i,Me);g.state.next({values:pi(o)}),g.state.next({...n,...Ae.keepDirty?{isDirty:H()}:{}}),!Ae.keepIsValid&&x()},Pe=({disabled:ye,name:Ae})=>{(zo(ye)&&a.mount||ye||s.disabled.has(Ae))&&(ye?s.disabled.add(Ae):s.disabled.delete(Ae))},Be=(ye,Ae={})=>{let Me=Ut(r,ye);const tt=zo(Ae.disabled)||zo(t.disabled);return ar(r,ye,{...Me||{},_f:{...Me&&Me._f?Me._f:{ref:{name:ye}},name:ye,mount:!0,...Ae}}),s.mount.add(ye),Me?Pe({disabled:zo(Ae.disabled)?Ae.disabled:t.disabled,name:ye}):P(ye,!0,Ae.value),{...tt?{disabled:Ae.disabled||t.disabled}:{},...t.progressive?{required:!!Ae.required,min:np(Ae.min),max:np(Ae.max),minLength:np(Ae.minLength),maxLength:np(Ae.maxLength),pattern:np(Ae.pattern)}:{},name:ye,onChange:pe,onBlur:pe,ref:mt=>{if(mt){Be(ye,Ae),Me=Ut(r,ye);const Ye=qr(mt.value)&&mt.querySelectorAll&&mt.querySelectorAll("input,select,textarea")[0]||mt,qe=zAe(Ye),ae=Me._f.refs||[];if(qe?ae.find(K=>K===Ye):Ye===Me._f.ref)return;ar(r,ye,{_f:{...Me._f,...qe?{refs:[...ae.filter(_C),Ye,...Array.isArray(Ut(i,ye))?[{}]:[]],ref:{type:Ye.type,name:ye}}:{ref:Ye}}}),P(ye,!1,void 0,Ye)}else Me=Ut(r,ye,{}),Me._f&&(Me._f.mount=!1),(t.shouldUnregister||Ae.shouldUnregister)&&!(r7(s.array,ye)&&a.action)&&s.unMount.add(ye)}}},Je=()=>t.shouldFocusError&&Mp(r,re,s.mount),fe=ye=>{zo(ye)&&(g.state.next({disabled:ye}),Mp(r,(Ae,Me)=>{const tt=Ut(r,Me);tt&&(Ae.disabled=tt._f.disabled||ye,Array.isArray(tt._f.refs)&&tt._f.refs.forEach(mt=>{mt.disabled=tt._f.disabled||ye}))},0,!1))},V=(ye,Ae)=>async Me=>{let tt;Me&&(Me.preventDefault&&Me.preventDefault(),Me.persist&&Me.persist());let mt=pi(o);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:Ye,values:qe}=await M();n.errors=Ye,mt=pi(qe)}else await ee(r);if(s.disabled.size)for(const Ye of s.disabled)ti(mt,Ye);if(ti(n.errors,"root"),eo(n.errors)){g.state.next({errors:{}});try{await ye(mt,Me)}catch(Ye){tt=Ye}}else Ae&&await Ae({...n.errors},Me),Je(),setTimeout(Je);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:eo(n.errors)&&!tt,submitCount:n.submitCount+1,errors:n.errors}),tt)throw tt},j=(ye,Ae={})=>{Ut(r,ye)&&(qr(Ae.defaultValue)?se(ye,pi(Ut(i,ye))):(se(ye,Ae.defaultValue),ar(i,ye,pi(Ae.defaultValue))),Ae.keepTouched||ti(n.touchedFields,ye),Ae.keepDirty||(ti(n.dirtyFields,ye),n.isDirty=Ae.defaultValue?H(ye,pi(Ut(i,ye))):H()),Ae.keepError||(ti(n.errors,ye),d.isValid&&x()),g.state.next({...n}))},ie=(ye,Ae={})=>{const Me=ye?pi(ye):i,tt=pi(Me),mt=eo(ye),Ye=mt?i:tt;if(Ae.keepDefaultValues||(i=Me),!Ae.keepValues){if(Ae.keepDirtyValues){const qe=new Set([...s.mount,...Object.keys(Zf(i,o))]);for(const ae of Array.from(qe))Ut(n.dirtyFields,ae)?ar(Ye,ae,Ut(o,ae)):se(ae,Ut(Ye,ae))}else{if(FP&&qr(ye))for(const qe of s.mount){const ae=Ut(r,qe);if(ae&&ae._f){const K=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(F_(K)){const Y=K.closest("form");if(Y){Y.reset();break}}}}if(Ae.keepFieldsRef)for(const qe of s.mount)se(qe,Ut(Ye,qe));else r={}}o=t.shouldUnregister?Ae.keepDefaultValues?pi(i):{}:pi(Ye),g.array.next({values:{...Ye}}),g.state.next({values:{...Ye}})}s={mount:Ae.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!Ae.keepIsValid||!!Ae.keepDirtyValues||!t.shouldUnregister&&!eo(Ye),a.watch=!!t.shouldUnregister,g.state.next({submitCount:Ae.keepSubmitCount?n.submitCount:0,isDirty:mt?!1:Ae.keepDirty?n.isDirty:!!(Ae.keepDefaultValues&&!Ua(ye,i)),isSubmitted:Ae.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:mt?{}:Ae.keepDirtyValues?Ae.keepDefaultValues&&o?Zf(i,o):n.dirtyFields:Ae.keepDefaultValues&&ye?Zf(i,ye):Ae.keepDirty?n.dirtyFields:{},touchedFields:Ae.keepTouched?n.touchedFields:{},errors:Ae.keepErrors?n.errors:{},isSubmitSuccessful:Ae.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},me=(ye,Ae)=>ie(Ba(ye)?ye(o):ye,Ae),Te=(ye,Ae={})=>{const Me=Ut(r,ye),tt=Me&&Me._f;if(tt){const mt=tt.refs?tt.refs[0]:tt.ref;mt.focus&&(mt.focus(),Ae.shouldSelect&&Ba(mt.select)&&mt.select())}},Le=ye=>{n={...n,...ye}},Ie={control:{register:Be,unregister:Ve,getFieldState:Q,handleSubmit:V,setError:G,_subscribe:ge,_runSchema:M,_focusError:Je,_getWatch:te,_getDirty:H,_setValid:x,_setFieldArray:v,_setDisabledField:Pe,_setErrors:C,_getFieldArray:oe,_reset:ie,_resetDefaultValues:()=>Ba(t.defaultValues)&&t.defaultValues().then(ye=>{me(ye,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:z,_disableForm:fe,_subjects:g,_proxyFormState:d,get _fields(){return r},get _formValues(){return o},get _state(){return a},set _state(ye){a=ye},get _defaultValues(){return i},get _names(){return s},set _names(ye){s=ye},get _formState(){return n},get _options(){return t},set _options(ye){t={...t,...ye}}},subscribe:xe,trigger:Ee,register:Be,handleSubmit:V,watch:X,setValue:se,getValues:$,reset:me,resetField:j,clearErrors:ce,unregister:Ve,setError:G,setFocus:Te,getFieldState:Q};return{...Ie,formControl:Ie}}function Ps(e={}){const t=St.useRef(void 0),n=St.useRef(void 0),[r,i]=St.useState({isDirty:!1,isValidating:!1,isLoading:Ba(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Ba(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Ba(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...s}=tRe(e);t.current={...s,formState:r}}const o=t.current.control;return o._options=e,$P(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(s=>({...s,isReady:!0})),o._formState.isReady=!0,a},[o]),St.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),St.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),St.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),St.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),St.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==r.isDirty&&o._subjects.state.next({isDirty:a})}},[o,r.isDirty]),St.useEffect(()=>{var a;e.values&&!Ua(e.values,n.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),!((a=o._options.resetOptions)===null||a===void 0)&&a.keepIsValid||o._setValid(),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[o,e.values]),St.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=o7(r,o),t.current}const td=({value:e,...t})=>{const[n,r]=B.useState(!1);return n?U.jsxs(U.Fragment,{children:[U.jsx("input",{...t})," ",U.jsx("button",{type:"button",onClick:()=>{r(!1)},children:U.jsx(Sm,{})})]}):U.jsxs(U.Fragment,{children:[e," ",U.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:U.jsx(U$,{})})]})},nRe=({onSuccess:e,isPublicTypeIndex:t,isPrivateTypeIndex:n,isPreferencesFile:r,isInbox:i,preferencesFile:o,privateTypeIndex:a,publicTypeIndex:s,webId:l,storage:f})=>{const{i18n:d,_:p}=Fr(),g=LAe(),y=PAe(),b=IAe(),x=RAe(),E=rRe(f,o,a,s)??new URL("settings/",f).toString(),{watch:v,register:w,handleSubmit:C}=Ps({defaultValues:{preferencesFile:new URL("preferences.ttl",E).toString(),publicTypeIndex:new URL("publicTypeIndex.ttl",E).toString(),privateTypeIndex:new URL("privateTypeIndex.ttl",E).toString(),inbox:new URL("./inbox/",f).toString()}}),P=C(async({publicTypeIndex:R,privateTypeIndex:k,preferencesFile:M,inbox:W})=>{if(t===void 0||n===void 0||r===void 0||i===void 0)throw new Error(d._({id:"XCH5Qf"}));r||await x({preferencesFile:M,privateTypeIndex:a,webId:l}),t===!1&&await g({publicTypeIndex:R,webId:l}),n===!1&&await y({privateTypeIndex:k,preferencesFile:o||M,webId:l}),i===!1&&await b({inbox:W,webId:l}),e()});return U.jsxs("form",{onSubmit:P,children:[U.jsx("div",{children:r?U.jsx(_t,{id:"H2Pd5s"}):U.jsxs(U.Fragment,{children:[U.jsx(_t,{id:"jevYpv"})," ",U.jsx(td,{value:cl(v("preferencesFile"),f),...w("preferencesFile",{required:!0}),type:"url"})]})}),U.jsx("div",{children:t?U.jsx(_t,{id:"AywWH9"}):U.jsxs(U.Fragment,{children:[U.jsx(_t,{id:"/qBoT3"})," ",U.jsx(td,{value:cl(v("publicTypeIndex"),f),...w("publicTypeIndex",{required:!0}),type:"url"})]})}),U.jsx("div",{children:n?U.jsx(_t,{id:"ei1Uj7"}):U.jsxs(U.Fragment,{children:[U.jsx(_t,{id:"47l1wN"})," ",U.jsx(td,{value:cl(v("privateTypeIndex"),f),...w("privateTypeIndex",{required:!0}),type:"url"})]})}),U.jsx("div",{children:i?U.jsx(_t,{id:"d/3T+G"}):U.jsxs(U.Fragment,{children:[U.jsx(_t,{id:"17JZAf"})," ",U.jsx(td,{value:cl(v("inbox"),f),...w("inbox",{required:!0}),type:"url"})]})}),U.jsx(Yn,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:U.jsx(_t,{id:"xGVfLh"})})]})},rRe=(e,...t)=>{if(e)for(const n of t){if(!n)break;const r=ii(n),i=cl(r,e);if(i&&i!=="/"&&i.includes(e))return r}},iRe=()=>{const e=Yo();return B.useCallback(async({person:t,group:n})=>{const r=`_:mutate a <${wn.InsertDeletePatch}>;
        <${wn.inserts}> { <${n}> <${P$.hasMember}> <${t}>. } .`;await e.mutateAsync({uri:n,patch:r})},[e])},oRe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Group",id:t}}),aRe=async({inbox:e,...t})=>{const n=await Xn(e,{method:"POST",body:JSON.stringify(oRe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new _a("Community inbox responded with error",n);const r=n.headers.get("location");return{...t,status:n.status,group:r}},sRe=()=>{const e=Ui(),{mutateAsync:t}=ta({mutationFn:aRe,onSuccess:async n=>{n.group&&await e.invalidateQueries({queryKey:[Vr.rdfDocument,xl(n.group)]})}});return t},uRe=({onSuccess:e,isMember:t,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:o,communityId:a}=Mn(),s=yi(),{i18n:l,_:f}=Fr(),d=YH(s.webId??""),p=gu(a),g=iRe(),y=sRe(),b=MAe(),x=OAe(),E=XH(),v=d&&`${d}hospex/${o}/card`,{handleSubmit:w,register:C,watch:P,setValue:R}=Ps({defaultValues:{newHospexDocument:v}});B.useEffect(()=>{d&&R("newHospexDocument",`${d}hospex/${o}/card`)},[o,R,d]);const k=P("newHospexDocument");if(!d||!k)return U.jsx(U.Fragment,{children:"..."});const M=w(async({hospexDocument:ee,newHospexDocument:z})=>{if(!i)throw new Error(l._({id:"MPWsQ5"}));if(n||(r.length===0||ee==="new"?(await b({uri:z,webId:s.webId,communityId:a}),await E({index:i,type:El.PersonalHospexDocument,location:z})):await x({uri:ee,webId:s.webId})),!t)if(p.inbox)await y({actor:s.webId,object:p.community,type:"Join",inbox:p.inbox});else{if(!p.groups[0])throw new Error(l._({id:"FTXS9n"}));await g({person:s.webId,group:p.groups[0]})}e()}),W=p.name||a;return U.jsxs("form",{onSubmit:M,children:[t?U.jsx("li",{children:U.jsx(_t,{id:"CDTRqk",values:{communityLabel:W}})}):U.jsx("li",{children:U.jsx(_t,{id:"kH9S1u",values:{communityLabel:W}})}),!n&&r.length===0&&U.jsxs("li",{children:[U.jsx(_t,{id:"V7MiWJ"})," ",U.jsx(td,{value:cl(k,d),...C("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&U.jsxs("li",{children:[U.jsx("legend",{children:U.jsx(_t,{id:"kJXPN2"})}),U.jsxs("fieldset",{className:sl.storageOptions,children:[U.jsx("legend",{children:U.jsx(_t,{id:"kpCcav"})}),U.jsxs("div",{className:sl.option,children:[U.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...C("hospexDocument",{required:!0})})," ",U.jsxs("label",{htmlFor:"new-hospex-document",children:[U.jsx(_t,{id:"rX1tOl"}),U.jsx(td,{...C("newHospexDocument",{required:!0}),value:cl(P("newHospexDocument"),d)})]})]}),U.jsxs("div",{children:[U.jsx("legend",{children:U.jsx(_t,{id:"Monbkf",components:{0:U.jsx("i",{})}})}),r.map(({hospexDocument:ee,communities:z},H)=>U.jsxs("div",{className:sl.option,children:[U.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${H}`,value:ee,...C("hospexDocument")})," ",U.jsxs("label",{htmlFor:`hospexDocument-${H}`,children:[z.map(te=>te.name??te.uri).join(", ")," (",cl(ee,d),")"]})]},ee))]})]})]}),U.jsx(Yn,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:U.jsx(_t,{id:"xGVfLh"})})]})};var wC,w6;function lRe(){if(w6)return wC;w6=1;var e=W$(),t=Aw(),n=a9(),r=Q$(),i=rz(),o=Math.max;function a(s){if(!(s&&s.length))return[];var l=0;return s=e(s,function(f){if(i(f))return l=o(f.length,l),!0}),r(l,function(f){return t(s,n(f))})}return wC=a,wC}var bC,b6;function cRe(){if(b6)return bC;b6=1;var e=az(),t=Aw(),n=lRe();function r(i,o){if(!(i&&i.length))return[];var a=n(i);return o==null?a:t(a,function(s){return e(o,void 0,s)})}return bC=r,bC}var SC,S6;function fRe(){if(S6)return SC;S6=1;var e=lz(),t=cRe(),n=e(function(r){var i=r.length,o=i>1?r[i-1]:void 0;return o=typeof o=="function"?(r.pop(),o):void 0,t(r,o)});return SC=n,SC}var dRe=fRe();const hRe=_r(dRe),pRe=()=>{const e=yi(),{communityId:t}=Mn(),{variables:n,isLoading:r}=oo({query:Rve,variables:B.useMemo(()=>({person:e.webId?[e.webId]:void 0,community:[t]}),[e.webId,t]),fetch:Xn}),i=n.hospexPreferencesFile,{results:o}=TAe(i??[]);return{results:hRe(i??[],o,(s,l)=>({url:s,permissions:l})),isLoading:r}},mRe=({onSuccess:e,isEmailNotifications:t,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?U.jsx(gRe,{onSuccess:e,isEmailNotifications:n,hospexDocument:r}):t!=="unset"?U.jsx(yRe,{onSuccess:e,isEmailNotifications:t,inbox:i}):U.jsx(vRe,{onSuccess:e}),gRe=({onSuccess:e,isEmailNotifications:t,hospexDocument:n})=>{const{handleSubmit:r,register:i}=Ps(),[o,a]=B.useState(!1),[s,l]=B.useState(!1),[f,d]=B.useState(),[p,g]=B.useState(0),y=NAe(),b=DAe(),{webId:x}=yi(),{i18n:E,_:v}=Fr(),{emailNotificationsIdentity:w,emailNotificationsService:C}=Mn(),{results:P}=pRe(),R=P.some(z=>z.url&&z.permissions.acls[0]?.accesses?.some(H=>H.agents.includes(w)&&(H.modes.includes(Ko.Write)||H.modes.includes(Ko.Append))&&H.modes.includes(Ko.Read))),k=ZH(x,C);B.useEffect(()=>{if(p>0){const z=setTimeout(()=>g(p-1),1e3);return()=>clearTimeout(z)}},[p]);const M=r(async({email:z})=>{l(!0);try{if(!n)throw new Error(E._({id:"35KTBT"}));t||(R||await y({hospexDocument:n,webId:x,email:z}),await b.mutateAsync({email:z}),a(!0),g(60),d(z))}finally{l(!1)}}),W=Ui(),ee=()=>{W.invalidateQueries({queryKey:[Vr.simpleMailerIntegration]})};return t?U.jsxs("div",{children:[U.jsx(Sm,{}),U.jsx(_t,{id:"VM9oSF"}),U.jsx(Yn,{primary:!0,onClick:e,children:U.jsx(_t,{id:"8BwQeU"})})]}):U.jsxs("form",{onSubmit:M,children:[!t&&U.jsxs("div",{children:[U.jsxs("div",{children:[U.jsx(_t,{id:"42aUkb"})," ",U.jsx("input",{required:!0,placeholder:E._({id:"ocwjau"}),...i("email"),type:"email",disabled:o}),U.jsx(Yn,{type:"submit",secondary:!0,disabled:s||p>0,children:p>0?U.jsx(_t,{id:"uliB7J",values:{countdown:p}}):U.jsx(_t,{id:"vp9yIB"})})]}),o&&!s&&U.jsx("div",{children:U.jsx(_t,{id:"MYOoIS",values:{sentToEmail:f},components:{0:U.jsx("br",{})}})})]}),U.jsxs(Yn,{type:"button",primary:!0,disabled:!o||k.isRefetching,onClick:ee,children:[U.jsx(_t,{id:"8BwQeU"})," ",k.isRefetching&&U.jsx(GH,{})]})]})},yRe=({onSuccess:e,isEmailNotifications:t,inbox:n})=>{const{i18n:r,_:i}=Fr(),o=kAe(),{handleSubmit:a,register:s}=Ps(),{webId:l}=yi(),f=Ui(),d=()=>{f.invalidateQueries({queryKey:[Vr.mailerIntegration]})},p=a(({email:g})=>{if(!n)throw new Error(r._({id:"fo1jSY"}));o({email:g,webId:l,inbox:n})});return t===!0?U.jsxs("div",{children:[U.jsx(Sm,{}),U.jsx(_t,{id:"VM9oSF"}),U.jsx(Yn,{primary:!0,onClick:e,children:U.jsx(_t,{id:"8BwQeU"})})]}):U.jsxs("form",{onSubmit:p,children:[!t&&U.jsxs("div",{children:[U.jsx(_t,{id:"lYCAyX"})," ",U.jsx("input",{type:"email",placeholder:r._({id:"z8F4/3"}),...s("email"),required:!0}),U.jsx(Yn,{type:"submit",primary:!0,children:U.jsx(_t,{id:"vp9yIB"})})]}),t==="unverified"&&U.jsxs("div",{children:[U.jsx(_t,{id:"F132R+"}),U.jsx(Yn,{type:"button",primary:!0,onClick:d,children:U.jsx(_t,{id:"8BwQeU"})})]})]})},vRe=({onSuccess:e})=>U.jsxs("div",{children:[U.jsx(Sm,{})," ",U.jsx(_t,{id:"heRuNl"}),U.jsx("div",{children:U.jsx(Yn,{primary:!0,onClick:e,children:U.jsx(_t,{id:"8BwQeU"})})})]});var ic=(function(e){return e.isMember="isMember",e.isHospexProfile="isHospexProfile",e.isPublicTypeIndex="isPublicTypeIndex",e.isPrivateTypeIndex="isPrivateTypeIndex",e.isPreferencesFile="isPreferencesFile",e.isInbox="isInbox",e.isSimpleEmailNotifications="isSimpleEmailNotifications",e.isEmailNotifications="isEmailNotifications",e})({});const _Re=[[ic.isPublicTypeIndex,ic.isPrivateTypeIndex,ic.isInbox],[ic.isMember,ic.isHospexProfile],[ic.isEmailNotifications,ic.isSimpleEmailNotifications]],wRe=e=>{const t=_Re.map(a=>dAe(e,a)).map(a=>Object.values(a).every(s=>s)),n=yi(),r=YH(n.webId),i=Mn(),o=B.useMemo(()=>[{title:U.jsx(_t,{id:"FQjzSF"}),content:r&&n.webId?U.jsx(nRe,{onSuccess:()=>e.onStepChange(1),isPublicTypeIndex:e.isPublicTypeIndex,isPrivateTypeIndex:e.isPrivateTypeIndex,isPreferencesFile:e.isPreferencesFile,isInbox:e.isInbox,storage:r,webId:n.webId,preferencesFile:e.preferencesFiles[0],publicTypeIndex:e.preferencesFiles[0],privateTypeIndex:e.privateTypeIndexes[0]}):null},{title:U.jsx(_t,{id:"BLFgtR"}),content:U.jsx(uRe,{onSuccess:()=>e.onStepChange(2),isMember:e.isMember,isHospexProfile:e.isHospexProfile,allHospex:e.allHospex,publicTypeIndex:e.publicTypeIndexes[0]})},{title:U.jsx(_t,{id:"sCXkJv"}),content:U.jsx(mRe,{isEmailNotifications:e.isEmailNotifications,isSimpleEmailNotifications:e.isSimpleEmailNotifications,hospexDocument:e.allHospex.find(a=>a.communities.some(s=>s.uri===i.communityId))?.hospexDocument,inbox:e.inboxes[0],onSuccess:()=>{}})}],[n.webId,i.communityId,e,r]);return r?U.jsxs("div",{className:sl.container,children:[U.jsx("h1",{children:U.jsx(_t,{id:"RDjuBN"})}),U.jsxs(vP,{value:String(e.step),onValueChange:a=>e.onStepChange(+a),children:[U.jsx(_P,{className:sl.list,loop:!1,children:o.map((a,s)=>U.jsx(wP,{className:Fn(sl.trigger,s<o.length-1&&sl.connect),value:String(s),disabled:!t.slice(0,s).every(l=>!!l),children:s+1},s))}),o.map((a,s)=>U.jsxs(bP,{value:String(s),className:sl.content,children:[U.jsx("h2",{children:a.title}),a.content]},s))]})]}):U.jsx(U.Fragment,{children:"..."})},bRe="_checkingContainer_ormma_1",x6={checkingContainer:bRe},SRe=()=>{const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=Mn(),r=Dr(Cd),[i,o]=B.useState(0),a=nm(r.webId??"",e??""),s=JH(a,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","preferencesFiles","inboxes","allHospex"]),l=VTe(r.webId,n==="simple"?t:""),f=qTe(a.inboxes[0]??"",n==="solid"?t:"");if(Object.values(a).every(g=>g)&&(f===!0||f==="unset")&&(l===!0||l==="unset"))return U.jsx(X_,{});const p=Object.entries(s).filter(([,g])=>g===void 0).map(([g])=>g);return l===void 0&&p.push("isSimpleEmailNotifications"),f===void 0&&p.push("isEmailNotifications"),Object.values(a).some(g=>g===void 0)||l===void 0||f===void 0?U.jsx(xRe,{...s,isEmailNotifications:f,isSimpleEmailNotifications:l}):U.jsx(wRe,{...a,isSimpleEmailNotifications:l,isEmailNotifications:f,step:i,onStepChange:o})},xRe=e=>{const t=Object.entries(e).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:ERe(n),value:r}));return U.jsxs("div",{className:x6.checkingContainer,children:[U.jsx("h2",{children:U.jsx(_t,{id:"ciEJp2"})}),U.jsx("p",{children:U.jsx(_t,{id:"iIICHU"})}),U.jsx("ul",{className:x6.checklist,children:t.map(n=>U.jsxs("li",{children:[n.value===!0?U.jsx(Sm,{}):n.value===!1?U.jsx(w_,{}):n.value==="unverified"?U.jsx(ime,{}):U.jsx(GH,{})," ",n.label]},n.key))})]})},ERe=e=>e.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());var My={exports:{}},Yu={},Ly={exports:{}},fa={},Iy={exports:{}},E6;function h7(){return E6||(E6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function o(p,g){return g.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function a(p){var g=p.offsetWidth<=0&&p.offsetHeight<=0;if(g&&!p.innerHTML)return!0;try{var y=window.getComputedStyle(p),b=y.getPropertyValue("display");return g?b!==r&&o(p,y):b===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(p){for(var g=p,y=p.getRootNode&&p.getRootNode();g&&g!==document.body;){if(y&&g===y&&(g=y.host.parentNode),a(g))return!1;g=g.parentNode}return!0}function l(p,g){var y=p.nodeName.toLowerCase(),b=i.test(y)&&!p.disabled||y==="a"&&p.href||g;return b&&s(p)}function f(p){var g=p.getAttribute("tabindex");g===null&&(g=void 0);var y=isNaN(g);return(y||g>=0)&&l(p,!y)}function d(p){var g=[].slice.call(p.querySelectorAll("*"),0).reduce(function(y,b){return y.concat(b.shadowRoot?d(b.shadowRoot):[b])},[]);return g.filter(f)}e.exports=t.default})(Iy,Iy.exports)),Iy.exports}var C6;function CRe(){if(C6)return fa;C6=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.resetState=a,fa.log=s,fa.handleBlur=l,fa.handleFocus=f,fa.markForFocusLater=d,fa.returnFocus=p,fa.popWithoutFocus=g,fa.setupScopedFocus=y,fa.teardownScopedFocus=b;var e=h7(),t=n(e);function n(x){return x&&x.__esModule?x:{default:x}}var r=[],i=null,o=!1;function a(){r=[]}function s(){}function l(){o=!0}function f(){if(o){if(o=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var x=(0,t.default)(i)[0]||i;x.focus()}},0)}}function d(){r.push(document.activeElement)}function p(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,E=null;try{r.length!==0&&(E=r.pop(),E.focus({preventScroll:x}));return}catch{console.warn(["You tried to return focus to",E,"but it is not in the DOM anymore"].join(" "))}}function g(){r.length>0&&r.pop()}function y(x){i=x,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",f,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",f))}function b(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",f)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",f))}return fa}var ky={exports:{}},T6;function TRe(){return T6||(T6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var n=h7(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?o(s.activeElement.shadowRoot):s.activeElement}function a(s,l){var f=(0,r.default)(s);if(!f.length){l.preventDefault();return}var d=void 0,p=l.shiftKey,g=f[0],y=f[f.length-1],b=o();if(s===b){if(!p)return;d=y}if(y===b&&!p&&(d=g),g===b&&p&&(d=y),d){l.preventDefault(),d.focus();return}var x=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),E=x!=null&&x[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(E){var v=f.indexOf(b);if(v>-1&&(v+=p?-1:1),d=f[v],typeof d>"u"){l.preventDefault(),d=p?y:g,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default})(ky,ky.exports)),ky.exports}var ka={},xC,A6;function ARe(){if(A6)return xC;A6=1;var e=function(){};return xC=e,xC}var fs={},EC={exports:{}};var R6;function RRe(){return R6||(R6=1,(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(EC)),EC.exports}var P6;function HP(){if(P6)return fs;P6=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.canUseDOM=fs.SafeNodeList=fs.SafeHTMLCollection=void 0;var e=RRe(),t=n(e);function n(o){return o&&o.__esModule?o:{default:o}}var r=t.default,i=r.canUseDOM?window.HTMLElement:{};return fs.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},fs.SafeNodeList=r.canUseDOM?window.NodeList:{},fs.canUseDOM=r.canUseDOM,fs.default=i,fs}var O6;function p7(){if(O6)return ka;O6=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.resetState=o,ka.log=a,ka.assertNodeList=s,ka.setElement=l,ka.validateElement=f,ka.hide=d,ka.show=p,ka.documentNotReadyOrSSRTesting=g;var e=ARe(),t=r(e),n=HP();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function o(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function a(){}function s(y,b){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+b+".")}function l(y){var b=y;if(typeof b=="string"&&n.canUseDOM){var x=document.querySelectorAll(b);s(x,b),b=x}return i=b||i,i}function f(y){var b=y||i;return b?Array.isArray(b)||b instanceof HTMLCollection||b instanceof NodeList?b:[b]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function d(y){var b=!0,x=!1,E=void 0;try{for(var v=f(y)[Symbol.iterator](),w;!(b=(w=v.next()).done);b=!0){var C=w.value;C.setAttribute("aria-hidden","true")}}catch(P){x=!0,E=P}finally{try{!b&&v.return&&v.return()}finally{if(x)throw E}}}function p(y){var b=!0,x=!1,E=void 0;try{for(var v=f(y)[Symbol.iterator](),w;!(b=(w=v.next()).done);b=!0){var C=w.value;C.removeAttribute("aria-hidden")}}catch(P){x=!0,E=P}finally{try{!b&&v.return&&v.return()}finally{if(x)throw E}}}function g(){i=null}return ka}var oc={},M6;function PRe(){if(M6)return oc;M6=1,Object.defineProperty(oc,"__esModule",{value:!0}),oc.resetState=r,oc.log=i;var e={},t={};function n(f,d){f.classList.remove(d)}function r(){var f=document.getElementsByTagName("html")[0];for(var d in e)n(f,e[d]);var p=document.body;for(var g in t)n(p,t[g]);e={},t={}}function i(){}var o=function(d,p){return d[p]||(d[p]=0),d[p]+=1,p},a=function(d,p){return d[p]&&(d[p]-=1),p},s=function(d,p,g){g.forEach(function(y){o(p,y),d.add(y)})},l=function(d,p,g){g.forEach(function(y){a(p,y),p[y]===0&&d.remove(y)})};return oc.add=function(d,p){return s(d.classList,d.nodeName.toLowerCase()=="html"?e:t,p.split(" "))},oc.remove=function(d,p){return l(d.classList,d.nodeName.toLowerCase()=="html"?e:t,p.split(" "))},oc}var $f={},L6;function m7(){if(L6)return $f;L6=1,Object.defineProperty($f,"__esModule",{value:!0}),$f.log=r,$f.resetState=i;function e(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}var t=function o(){var a=this;e(this,o),this.register=function(s){a.openInstances.indexOf(s)===-1&&(a.openInstances.push(s),a.emit("register"))},this.deregister=function(s){var l=a.openInstances.indexOf(s);l!==-1&&(a.openInstances.splice(l,1),a.emit("deregister"))},this.subscribe=function(s){a.subscribers.push(s)},this.emit=function(s){a.subscribers.forEach(function(l){return l(s,a.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(o){return console.log(o)}),console.log("end portalOpenInstances ----------")}function i(){n=new t}return $f.default=n,$f}var rp={},I6;function ORe(){if(I6)return rp;I6=1,Object.defineProperty(rp,"__esModule",{value:!0}),rp.resetState=a,rp.log=s;var e=m7(),t=n(e);function n(d){return d&&d.__esModule?d:{default:d}}var r=void 0,i=void 0,o=[];function a(){for(var d=[r,i],p=0;p<d.length;p++){var g=d[p];g&&g.parentNode&&g.parentNode.removeChild(g)}r=i=null,o=[]}function s(){console.log("bodyTrap ----------"),console.log(o.length);for(var d=[r,i],p=0;p<d.length;p++){var g=d[p],y=g||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){o.length!==0&&o[o.length-1].focusContent()}function f(d,p){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),o=p,o.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return t.default.subscribe(f),rp}var k6;function MRe(){return k6||(k6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(ue){for(var de=1;de<arguments.length;de++){var se=arguments[de];for(var pe in se)Object.prototype.hasOwnProperty.call(se,pe)&&(ue[pe]=se[pe])}return ue},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},i=(function(){function ue(de,se){for(var pe=0;pe<se.length;pe++){var re=se[pe];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(de,re.key,re)}}return function(de,se,pe){return se&&ue(de.prototype,se),pe&&ue(de,pe),de}})(),o=Sd(),a=gz(),s=R(a),l=CRe(),f=P(l),d=TRe(),p=R(d),g=p7(),y=P(g),b=PRe(),x=P(b),E=HP(),v=R(E),w=m7(),C=R(w);ORe();function P(ue){if(ue&&ue.__esModule)return ue;var de={};if(ue!=null)for(var se in ue)Object.prototype.hasOwnProperty.call(ue,se)&&(de[se]=ue[se]);return de.default=ue,de}function R(ue){return ue&&ue.__esModule?ue:{default:ue}}function k(ue,de){if(!(ue instanceof de))throw new TypeError("Cannot call a class as a function")}function M(ue,de){if(!ue)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return de&&(typeof de=="object"||typeof de=="function")?de:ue}function W(ue,de){if(typeof de!="function"&&de!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof de);ue.prototype=Object.create(de&&de.prototype,{constructor:{value:ue,enumerable:!1,writable:!0,configurable:!0}}),de&&(Object.setPrototypeOf?Object.setPrototypeOf(ue,de):ue.__proto__=de)}var ee={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},z=function(de){return de.code==="Tab"||de.keyCode===9},H=function(de){return de.code==="Escape"||de.keyCode===27},te=0,oe=(function(ue){W(de,ue);function de(se){k(this,de);var pe=M(this,(de.__proto__||Object.getPrototypeOf(de)).call(this,se));return pe.setOverlayRef=function(re){pe.overlay=re,pe.props.overlayRef&&pe.props.overlayRef(re)},pe.setContentRef=function(re){pe.content=re,pe.props.contentRef&&pe.props.contentRef(re)},pe.afterClose=function(){var re=pe.props,Ee=re.appElement,$=re.ariaHideApp,Q=re.htmlOpenClassName,ce=re.bodyOpenClassName,G=re.parentSelector,X=G&&G().ownerDocument||document;ce&&x.remove(X.body,ce),Q&&x.remove(X.getElementsByTagName("html")[0],Q),$&&te>0&&(te-=1,te===0&&y.show(Ee)),pe.props.shouldFocusAfterRender&&(pe.props.shouldReturnFocusAfterClose?(f.returnFocus(pe.props.preventScroll),f.teardownScopedFocus()):f.popWithoutFocus()),pe.props.onAfterClose&&pe.props.onAfterClose(),C.default.deregister(pe)},pe.open=function(){pe.beforeOpen(),pe.state.afterOpen&&pe.state.beforeClose?(clearTimeout(pe.closeTimer),pe.setState({beforeClose:!1})):(pe.props.shouldFocusAfterRender&&(f.setupScopedFocus(pe.node),f.markForFocusLater()),pe.setState({isOpen:!0},function(){pe.openAnimationFrame=requestAnimationFrame(function(){pe.setState({afterOpen:!0}),pe.props.isOpen&&pe.props.onAfterOpen&&pe.props.onAfterOpen({overlayEl:pe.overlay,contentEl:pe.content})})}))},pe.close=function(){pe.props.closeTimeoutMS>0?pe.closeWithTimeout():pe.closeWithoutTimeout()},pe.focusContent=function(){return pe.content&&!pe.contentHasFocus()&&pe.content.focus({preventScroll:!0})},pe.closeWithTimeout=function(){var re=Date.now()+pe.props.closeTimeoutMS;pe.setState({beforeClose:!0,closesAt:re},function(){pe.closeTimer=setTimeout(pe.closeWithoutTimeout,pe.state.closesAt-Date.now())})},pe.closeWithoutTimeout=function(){pe.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},pe.afterClose)},pe.handleKeyDown=function(re){z(re)&&(0,p.default)(pe.content,re),pe.props.shouldCloseOnEsc&&H(re)&&(re.stopPropagation(),pe.requestClose(re))},pe.handleOverlayOnClick=function(re){pe.shouldClose===null&&(pe.shouldClose=!0),pe.shouldClose&&pe.props.shouldCloseOnOverlayClick&&(pe.ownerHandlesClose()?pe.requestClose(re):pe.focusContent()),pe.shouldClose=null},pe.handleContentOnMouseUp=function(){pe.shouldClose=!1},pe.handleOverlayOnMouseDown=function(re){!pe.props.shouldCloseOnOverlayClick&&re.target==pe.overlay&&re.preventDefault()},pe.handleContentOnClick=function(){pe.shouldClose=!1},pe.handleContentOnMouseDown=function(){pe.shouldClose=!1},pe.requestClose=function(re){return pe.ownerHandlesClose()&&pe.props.onRequestClose(re)},pe.ownerHandlesClose=function(){return pe.props.onRequestClose},pe.shouldBeClosed=function(){return!pe.state.isOpen&&!pe.state.beforeClose},pe.contentHasFocus=function(){return document.activeElement===pe.content||pe.content.contains(document.activeElement)},pe.buildClassName=function(re,Ee){var $=(typeof Ee>"u"?"undefined":r(Ee))==="object"?Ee:{base:ee[re],afterOpen:ee[re]+"--after-open",beforeClose:ee[re]+"--before-close"},Q=$.base;return pe.state.afterOpen&&(Q=Q+" "+$.afterOpen),pe.state.beforeClose&&(Q=Q+" "+$.beforeClose),typeof Ee=="string"&&Ee?Q+" "+Ee:Q},pe.attributesFromObject=function(re,Ee){return Object.keys(Ee).reduce(function($,Q){return $[re+"-"+Q]=Ee[Q],$},{})},pe.state={afterOpen:!1,beforeClose:!1},pe.shouldClose=null,pe.moveFromContentToOverlay=null,pe}return i(de,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(pe,re){this.props.isOpen&&!pe.isOpen?this.open():!this.props.isOpen&&pe.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!re.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var pe=this.props,re=pe.appElement,Ee=pe.ariaHideApp,$=pe.htmlOpenClassName,Q=pe.bodyOpenClassName,ce=pe.parentSelector,G=ce&&ce().ownerDocument||document;Q&&x.add(G.body,Q),$&&x.add(G.getElementsByTagName("html")[0],$),Ee&&(te+=1,y.hide(re)),C.default.register(this)}},{key:"render",value:function(){var pe=this.props,re=pe.id,Ee=pe.className,$=pe.overlayClassName,Q=pe.defaultStyles,ce=pe.children,G=Ee?{}:Q.content,X=$?{}:Q.overlay;if(this.shouldBeClosed())return null;var ge={ref:this.setOverlayRef,className:this.buildClassName("overlay",$),style:n({},X,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},xe=n({id:re,ref:this.setContentRef,style:n({},G,this.props.style.content),className:this.buildClassName("content",Ee),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ve=this.props.contentElement(xe,ce);return this.props.overlayElement(ge,Ve)}}]),de})(o.Component);oe.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},oe.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(v.default),s.default.instanceOf(E.SafeHTMLCollection),s.default.instanceOf(E.SafeNodeList),s.default.arrayOf(s.default.instanceOf(v.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=oe,e.exports=t.default})(Ly,Ly.exports)),Ly.exports}function g7(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function y7(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function v7(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}g7.__suppressDeprecationWarning=!0;y7.__suppressDeprecationWarning=!0;v7.__suppressDeprecationWarning=!0;function LRe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=e.displayName||e.name,a=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=g7,t.componentWillReceiveProps=y7),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=v7;var s=t.componentDidUpdate;t.componentDidUpdate=function(f,d,p){var g=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;s.call(this,f,d,g)}}return e}const IRe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:LRe},Symbol.toStringTag,{value:"Module"})),kRe=ZK(IRe);var D6;function DRe(){if(D6)return Yu;D6=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.bodyOpenClassName=Yu.portalClassName=void 0;var e=Object.assign||function(H){for(var te=1;te<arguments.length;te++){var oe=arguments[te];for(var ue in oe)Object.prototype.hasOwnProperty.call(oe,ue)&&(H[ue]=oe[ue])}return H},t=(function(){function H(te,oe){for(var ue=0;ue<oe.length;ue++){var de=oe[ue];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(te,de.key,de)}}return function(te,oe,ue){return oe&&H(te.prototype,oe),ue&&H(te,ue),te}})(),n=Sd(),r=E(n),i=LA(),o=E(i),a=gz(),s=E(a),l=MRe(),f=E(l),d=p7(),p=x(d),g=HP(),y=E(g),b=kRe;function x(H){if(H&&H.__esModule)return H;var te={};if(H!=null)for(var oe in H)Object.prototype.hasOwnProperty.call(H,oe)&&(te[oe]=H[oe]);return te.default=H,te}function E(H){return H&&H.__esModule?H:{default:H}}function v(H,te){if(!(H instanceof te))throw new TypeError("Cannot call a class as a function")}function w(H,te){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te&&(typeof te=="object"||typeof te=="function")?te:H}function C(H,te){if(typeof te!="function"&&te!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof te);H.prototype=Object.create(te&&te.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(H,te):H.__proto__=te)}var P=Yu.portalClassName="ReactModalPortal",R=Yu.bodyOpenClassName="ReactModal__Body--open",k=g.canUseDOM&&o.default.createPortal!==void 0,M=function(te){return document.createElement(te)},W=function(){return k?o.default.createPortal:o.default.unstable_renderSubtreeIntoContainer};function ee(H){return H()}var z=(function(H){C(te,H);function te(){var oe,ue,de,se;v(this,te);for(var pe=arguments.length,re=Array(pe),Ee=0;Ee<pe;Ee++)re[Ee]=arguments[Ee];return se=(ue=(de=w(this,(oe=te.__proto__||Object.getPrototypeOf(te)).call.apply(oe,[this].concat(re))),de),de.removePortal=function(){!k&&o.default.unmountComponentAtNode(de.node);var $=ee(de.props.parentSelector);$&&$.contains(de.node)?$.removeChild(de.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},de.portalRef=function($){de.portal=$},de.renderPortal=function($){var Q=W(),ce=Q(de,r.default.createElement(f.default,e({defaultStyles:te.defaultStyles},$)),de.node);de.portalRef(ce)},ue),w(de,se)}return t(te,[{key:"componentDidMount",value:function(){if(g.canUseDOM){k||(this.node=M("div")),this.node.className=this.props.portalClassName;var ue=ee(this.props.parentSelector);ue.appendChild(this.node),!k&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(ue){var de=ee(ue.parentSelector),se=ee(this.props.parentSelector);return{prevParent:de,nextParent:se}}},{key:"componentDidUpdate",value:function(ue,de,se){if(g.canUseDOM){var pe=this.props,re=pe.isOpen,Ee=pe.portalClassName;ue.portalClassName!==Ee&&(this.node.className=Ee);var $=se.prevParent,Q=se.nextParent;Q!==$&&($.removeChild(this.node),Q.appendChild(this.node)),!(!ue.isOpen&&!re)&&!k&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!g.canUseDOM||!this.node||!this.portal)){var ue=this.portal.state,de=Date.now(),se=ue.isOpen&&this.props.closeTimeoutMS&&(ue.closesAt||de+this.props.closeTimeoutMS);se?(ue.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,se-de)):this.removePortal()}}},{key:"render",value:function(){if(!g.canUseDOM||!k)return null;!this.node&&k&&(this.node=M("div"));var ue=W();return ue(r.default.createElement(f.default,e({ref:this.portalRef,defaultStyles:te.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(ue){p.setElement(ue)}}]),te})(n.Component);return z.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(g.SafeHTMLCollection),s.default.instanceOf(g.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},z.defaultProps={isOpen:!1,portalClassName:P,bodyOpenClassName:R,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(te,oe){return r.default.createElement("div",te,oe)},contentElement:function(te,oe){return r.default.createElement("div",te,oe)}},z.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,b.polyfill)(z),Yu.default=z,Yu}var N6;function NRe(){return N6||(N6=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=DRe(),r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}t.default=r.default,e.exports=t.default})(My,My.exports)),My.exports}var FRe=NRe();const _7=_r(FRe),jRe="_modal_s2w5u_1",URe="_overlay_s2w5u_14",F6={modal:jRe,overlay:URe};_7.setAppElement("#root");const r0=({className:e,overlayClassName:t,...n})=>U.jsx(_7,{className:Fn(F6.modal,e),overlayClassName:Fn(F6.overlay,t),...n}),BRe="_container_1an4x_1",$Re="_content_1an4x_18",zRe="_podOptions_1an4x_18",qRe="_tabs_1an4x_18",HRe="_tabContent_1an4x_42",VRe="_footer_1an4x_45",KRe="_email_1an4x_45",ac={container:BRe,content:$Re,podOptions:zRe,tabs:qRe,tabContent:HRe,footer:VRe,email:KRe},CC=({issuer:e,registration:t,children:n})=>{const r=bl();return U.jsx(_me,{secondary:!0,href:t,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(m_.setLastSelectedIssuer(e))},"data-cy":"pod-provider-signup-link",children:n??new URL(e).hostname})},GRe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=Mn(),{i18n:r,_:i}=Fr(),a=gu(t).name||n;return B.useMemo(()=>[{id:"show-options",label:r._({id:"mOHsO6"}),content:U.jsxs(U.Fragment,{children:[U.jsx(_t,{id:"GipwRZ",values:{communityName:a}}),U.jsx("ul",{children:e.filter(l=>l.registration).map(l=>U.jsx("li",{children:U.jsx(CC,{...l})},l.issuer))})]})},{id:"choose-for-me",label:r._({id:"6BXxLh"}),content:U.jsxs(U.Fragment,{children:[U.jsx(CC,{...e.find(l=>l.recommended),children:U.jsx(_t,{id:"kNJ1eb"})}),U.jsx("br",{}),U.jsx(_t,{id:"OSMhQH",components:{0:U.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer"})}})]})},{id:"more-control",label:r._({id:"BvOhbj"}),content:U.jsxs(U.Fragment,{children:[U.jsx("p",{children:U.jsx(_t,{id:"CIxMWI",components:{0:U.jsx("b",{}),1:U.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer"})}})}),U.jsx("p",{children:U.jsx("i",{children:U.jsx(_t,{id:"vXZPG5",components:{0:U.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer"})}})})}),U.jsx("hr",{}),U.jsx("p",{children:U.jsx(_t,{id:"tz2jxv",components:{0:U.jsx("b",{}),1:U.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer"})}})}),U.jsx("p",{children:U.jsx(_t,{id:"eIoTjd",components:{0:U.jsx("i",{})}})}),U.jsx("ul",{children:e.filter(({server:l,registration:f})=>f&&l==="CSS").map(l=>U.jsx("li",{children:U.jsx(CC,{...l})},l.issuer))}),U.jsx("p",{children:U.jsx(_t,{id:"j9mD48"})}),U.jsx("p",{children:U.jsx(_t,{id:"hve6lN"})})]})}],[a,e,i])},WRe=()=>{const[e,t]=B.useState(!1),[n,r]=B.useState(),{communityId:i,defaultCommunityName:o}=Mn(),s=gu(i).name||o,l=d=>{r(d.target.value)},f=GRe();return U.jsxs(U.Fragment,{children:[U.jsx(Yn,{primary:!0,onClick:()=>t(!0),children:U.jsx(_t,{id:"0wdd7X"})}),U.jsx(r0,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>t(!1),children:U.jsxs("div",{className:ac.container,children:[U.jsxs("div",{className:ac.content,children:[U.jsx(_t,{id:"wDQNDO",values:{communityName:s},components:{0:U.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer"})}}),U.jsxs("div",{className:ac.podOptions,children:[U.jsx("div",{className:ac.tabs,children:f.map(d=>U.jsxs(B.Fragment,{children:[U.jsx("input",{type:"radio",id:d.id,value:d.id,checked:n===d.id,onChange:l}),U.jsx("label",{htmlFor:d.id,children:d.label})]},d.id))}),U.jsx("div",{className:ac.tabContent,children:U.jsx("div",{children:f.find(d=>d.id===n)?.content})})]})]}),U.jsxs("div",{className:ac.footer,children:[U.jsx(_t,{id:"CLrwxz"})," ",U.jsx(_t,{id:"PHGSgA",components:{0:U.jsx("a",{href:"https://matrix.to/#/#solidcouch:matrix.org",target:"_blank",rel:"noopener noreferrer"}),1:U.jsx("i",{className:ac.email})}})]})]})})]})},ZRe=async e=>{const{data:t}=await fz(e);return ao(t).usingType(Z9).fromSubject(e).oidcIssuer.map(r=>r["@id"]??[]).flat()},QRe=async e=>{try{const t=await ZRe(e);if(t[0]===void 0)throw new Error("OIDC issuer not found");return t[0]}catch{return e}},JRe=(e,t)=>{const n=new URL(e);return t.find(r=>r.issuer.includes(n.host))?.issuer},w7=e=>{const t=e.trim();return t.startsWith("http")?t:`https://${t}`},YRe=(e,t)=>{const n=w7(e);return JRe(n,t)??n},XRe=async(e,t)=>{const n=w7(e),r=await QRe(n);return YRe(r,t)??r},ePe="_providers_kq9gh_1",tPe="_webIdForm_kq9gh_6",j6={providers:ePe,webIdForm:tPe},nPe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=Mn(),[r,i]=B.useState(!1),[o,a]=B.useState(!1),{i18n:s,_:l}=Fr(),f=Dr(PB),d=e.some(v=>v.issuer===f),{register:p,handleSubmit:g}=Ps({defaultValues:{webIdOrIssuer:d?"":f}}),y=bl(),b=gu(t),x=async v=>{const w=f??"";y(m_.setLastSelectedIssuer(v));try{await Xee({oidcIssuer:v,redirectUrl:new URL("/",window.location.href).toString(),clientName:b.name||n,clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(C){if(y(m_.setLastSelectedIssuer(w)),C instanceof TypeError){const P=C.message,R=C.toString();alert(s._({id:"Pygpzd",values:{oidcIssuer:v,message:P,errorString:R}}))}else alert(s._({id:"PS1p9R",values:{e:C}}))}},E=g(async({webIdOrIssuer:v})=>{try{const w=await XRe(v,e);await x(w)}catch(w){alert(s._({id:"PS1p9R",values:{e:w}}))}});return U.jsxs(U.Fragment,{children:[U.jsx(Yn,{secondary:!0,onClick:()=>i(!0),children:U.jsx(_t,{id:"5lWFkC"})}),U.jsx(r0,{isOpen:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>i(!1),children:U.jsxs("div",{className:j6.providers,children:[U.jsx(_t,{id:"4Ddjk6"}),f&&U.jsx(Yn,{primary:!0,onClick:()=>x(f),"data-cy":"pod-provider-button",children:f.split("/").slice(2).filter(v=>v).join("/")}),e.filter(v=>v.issuer!==f).filter(v=>v.featured||o).map(({issuer:v})=>U.jsx(Yn,{secondary:!0,onClick:()=>x(v),children:new URL(v).hostname},v)),!o&&U.jsx(Yn,{tertiary:!0,onClick:()=>a(!0),children:U.jsx(_t,{id:"f8jrkd"})}),U.jsx(_t,{id:"Ud7x+A"}),U.jsxs("form",{className:j6.webIdForm,onSubmit:E,children:[U.jsx("input",{type:"text",placeholder:s._({id:"hwTKH1"}),...p("webIdOrIssuer",{required:"required"})}),U.jsx(Yn,{primary:!0,type:"submit",children:U.jsx(_t,{id:"xGVfLh"})})]})]})})]})},rPe="_wrapper_1kkei_1",iPe="_mainDescription_1kkei_10",oPe="_pun_1kkei_16",aPe="_actions_1kkei_20",sPe="_logo_1kkei_30",uPe="_spacer_1kkei_35",lPe="_footer_1kkei_38",cPe="_footerInfo_1kkei_41",fPe="_attribution_1kkei_47",Zs={wrapper:rPe,mainDescription:iPe,pun:oPe,actions:aPe,logo:sPe,spacer:uPe,footer:lPe,footerInfo:cPe,attribution:fPe},dPe=()=>{const{communityId:e}=Mn(),t=Dr(xa),n=gu(e,t,Ed),r=B.useMemo(()=>U.jsx($$,{className:Zs.logo,logo:n.logo[0],focusedLogo:n.logo[1]}),[n.logo]),i=B.useMemo(()=>n.pun?U.jsx("section",{className:Zs.pun,children:n.pun}):void 0,[n.pun]),o=B.useMemo(()=>n.about?U.jsx("section",{className:Zs.mainDescription,children:n.about}):null,[n.about]),a=i?U.jsxs(U.Fragment,{children:[i,r,o]}):U.jsxs(U.Fragment,{children:[o,r]});return U.jsxs("div",{className:Zs.wrapper,children:[a,U.jsxs("section",{className:Zs.actions,children:[U.jsx(WRe,{}),U.jsx(nPe,{})]}),U.jsx("div",{className:Zs.spacer}),U.jsxs("footer",{className:Zs.footer,children:[U.jsx("div",{className:Zs.footerInfo,children:U.jsx(_t,{id:"Bn8bAf"})}),U.jsx("div",{className:Zs.attribution,children:U.jsx(_t,{id:"yXo/Y0",values:{version:RQ,commitHashShort:PQ},components:{0:U.jsx("a",{href:"https://github.com/solidcouch"}),1:U.jsx("a",{href:`https://github.com/solidcouch/solidcouch/commit/${nB}`})}})})]})]})},hPe=()=>{BTe();const e=Dr(Cd);return e.isLoggedIn===void 0?U.jsx(wa,{children:U.jsx(_t,{id:"2FwEm8"})}):e.isLoggedIn===!1?U.jsx(dPe,{}):U.jsx(SRe,{})},pPe="_container_1ml33_1",mPe={container:pPe},VP=({webId:e,link:t})=>{const{communityId:n}=Mn(),[r]=Ha(e,n),i=U.jsxs("div",{className:mPe.container,children:[U.jsx(mw,{photo:r.photo,size:1}),r?.name]});return t?U.jsx(ga,{to:`/profile/${Xo(e)}`,children:i}):i};var ld=(function(e){return e.confirmed="confirmed",e.requestSent="request_sent",e.requestReceived="request_received",e})({});const b7=e=>{const{quads:t,variables:n,isLoading:r}=oo(B.useMemo(()=>({query:Mve,variables:{person:[e]},fetch}),[e])),i=B.useMemo(()=>{const s=new Zr(t);return(n.otherPerson??[]).map(l=>{const f=xl(l),d=s.getObjects(l,wR.seeAlso,f),p=s.getQuads(l,ml.knows,e,f),g=d.flatMap(y=>s.getQuads(l,ml.knows,e,y));return{webId:l,status:p.length+g.length>0?"confirmed":"request_sent"}})},[e,t,n.otherPerson]),[o,a]=gPe(e);return B.useMemo(()=>[i.concat(o),{isLoading:r},a],[r,i,a,o])},gPe=e=>{const{quads:t,variables:n,isLoading:r}=oo(B.useMemo(()=>({query:Lve,variables:{person:[e]},fetch}),[e])),i=B.useMemo(()=>{const o=n.inviteNotification??[],a=ao(t).usingType(J9);return o.map(s=>a.fromSubject(s)).filter(s=>s.object?.subject?.["@id"]===s.actor?.["@id"]&&s.object?.object?.["@id"]===s.target?.["@id"]&&s.object?.relationship?.["@id"]==="knows").map(s=>({webId:s.actor?.["@id"],status:"request_received",notification:s["@id"],invitation:s.content}))},[t,n.inviteNotification]);return B.useMemo(()=>[i,{isLoading:r}],[i,r])},yPe=()=>{const e=S7(),t=x7(),n=vPe();return B.useCallback(async({me:r,other:i,hospexContainer:o,inbox:a,message:s})=>{await e({me:r,other:i}),await n({inbox:a,me:r,other:i,message:s}),await t({person:i,hospexContainer:o})},[e,n,t])},vPe=()=>{const e=qa(J9);return B.useCallback(async({inbox:t,me:n,other:r,message:i})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:{"@id":"Invite"},content:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[e])},_Pe=()=>{const e=jw();return B.useCallback(async({notification:t})=>{await e.mutateAsync({uri:t})},[e])},wPe=()=>{const e=jw(),t=S7(),n=x7();return B.useCallback(async({me:r,other:i,notification:o,hospexContainer:a})=>{await t({me:r,other:i}),await e.mutateAsync({uri:o}),await n({person:i,hospexContainer:a})},[t,e,n])},S7=()=>{const e=Yo();return B.useCallback(async({me:t,other:n})=>{await e.mutateAsync({uri:t,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${t}> foaf:knows <${n}>.
          } .`})},[e])},x7=()=>{const e=t0();return B.useCallback(async({person:t,hospexContainer:n})=>{await e(n,[{operation:"add",access:[Ko.Read],default:!0,agents:[t]}])},[e])},bPe="_contact_axrjx_1",SPe="_status_axrjx_10",xPe="_contactList_axrjx_14",_p={contact:bPe,status:SPe,contactList:xPe},EPe=({webId:e})=>{const t=yi(),[n]=b7(t.webId);if(!n)return U.jsx(wa,{children:U.jsx(_t,{id:"Z3FXyt"})});const r=n.find(i=>i.webId===e);return r?r.status===ld.confirmed?U.jsx(_t,{id:"dJsK6G"}):r.status===ld.requestSent?U.jsx(_t,{id:"uwiVz0"}):r.status===ld.requestReceived?U.jsx(E7,{contact:r}):null:U.jsx(CPe,{webId:e})},E7=({contact:e,children:t})=>{const{i18n:n,_:r}=Fr(),{communityId:i}=Mn(),[o,a]=B.useState(!1),s=yi(),l=wPe(),f=_Pe(),d=nm(s.webId,i),p=async()=>{const y=ii(d.personalHospexDocuments[0]);if(!y)throw new Error(n._({id:"NLJ18A"}));await l({me:s.webId,other:e.webId,notification:e.notification,hospexContainer:y}),a(!1)},g=async()=>{await f({notification:e.notification}),a(!1)};return U.jsxs(U.Fragment,{children:[U.jsx(Yn,{primary:!0,onClick:()=>a(!0),children:t??U.jsx(_t,{id:"piu7ZA"})}),U.jsxs(r0,{isOpen:o,onRequestClose:()=>a(!1),children:[U.jsx("div",{children:e.invitation}),U.jsx(Yn,{primary:!0,onClick:p,disabled:d.personalHospexDocuments.length===0,children:U.jsx(_t,{id:"g3UF2V"})}),U.jsx(Yn,{secondary:!0,onClick:g,children:U.jsx(_t,{id:"gbbkE7"})})]})]})},CPe=({webId:e})=>{const{i18n:t,_:n}=Fr(),{communityId:r}=Mn(),[i,o]=B.useState(!1),a=yi(),s=yPe(),l=nm(a.webId,r),f=nm(e,r),d=async({invitation:g})=>{const y=ii(l.personalHospexDocuments[0]);if(!y)throw new Error(t._({id:"NLJ18A"}));const b=ii(f.inboxes[0]);if(!b)throw new Error(t._({id:"sRGBFr"}));await s({me:a.webId,other:e,message:g,hospexContainer:y,inbox:b}),o(!1)},p=async()=>{o(!1)};return U.jsxs(U.Fragment,{children:[U.jsx(Yn,{secondary:!0,onClick:()=>{o(!0)},disabled:l.personalHospexDocuments.length===0||f.inboxes.length===0,children:U.jsx(_t,{id:"meH4FD"})}),U.jsx(r0,{isOpen:i,onRequestClose:()=>o(!1),children:U.jsx(TPe,{onSubmit:d,onCancel:p})})]})},TPe=({onSubmit:e,onCancel:t})=>{const{i18n:n,_:r}=Fr(),{register:i,handleSubmit:o}=Ps({defaultValues:{invitation:n._({id:"8kXsjC"})}}),a=o(async s=>{await e(s)});return U.jsxs("div",{children:[U.jsx("h1",{children:U.jsx(_t,{id:"TFYtVq"})}),U.jsx("div",{children:U.jsx(_t,{id:"IYqOgL"})}),U.jsxs("form",{onSubmit:a,onReset:t,children:[U.jsx("textarea",{...i("invitation")}),U.jsx(Yn,{primary:!0,type:"submit",children:U.jsx(_t,{id:"BajMQF"})}),U.jsx(Yn,{secondary:!0,type:"reset",children:U.jsx(_t,{id:"dEgA5A"})})]})]})},APe=()=>{const e=jA().id,t=yi(),[n]=b7(e);return t.webId?n?U.jsxs("div",{children:[U.jsx("h1",{children:U.jsx(_t,{id:"/Rg4q2",components:{0:U.jsx(VP,{webId:e,link:!0})}})}),U.jsx("ul",{className:_p.contactList,"data-cy":"contact-list",children:n.filter(r=>e===t.webId||r.status===ld.confirmed).map(r=>U.jsx("li",{children:U.jsx(RPe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):U.jsx(wa,{children:U.jsx(_t,{id:"maeAdU"})}):U.jsx(wa,{children:U.jsx(_t,{id:"qPXQY8"})})},RPe=({contact:e})=>U.jsxs("div",{className:_p.contact,"data-cy":"contact",children:[U.jsx(VP,{webId:e.webId,link:!0}),U.jsx("span",{className:_p.spacer}),e.status===ld.requestSent&&U.jsx("span",{className:_p.status,children:U.jsx(_t,{id:"S48xcO"})}),e.status===ld.requestReceived&&U.jsxs(U.Fragment,{children:[U.jsx(E7,{contact:e,children:U.jsx(_t,{id:"WO3k4H"})}),U.jsx("span",{className:_p.status,children:U.jsx(_t,{id:"S48xcO"})})]})]}),U6=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ut(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},C7=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?U6(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>U6(i,n,e))}},PPe=(e,t)=>{t.shouldUseNativeValidation&&C7(e,t);const n={};for(const r in e){const i=Ut(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(OPe(t.names||Object.keys(e),r)){const a=Object.assign({},Ut(n,r));ar(a,"root",o),ar(n,r,a)}else ar(n,r,o)}return n},OPe=(e,t)=>{const n=B6(t);return e.some(r=>B6(r).match(`^${n}\\.\\d+`))};function B6(e){return e.replace(/\]|\[/g,"")}var Dy={exports:{}},TC={},Qs={},sc={},AC={},RC={},PC={},$6;function rm(){return $6||($6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(w){if(super(),!e.IDENTIFIER.test(w))throw new Error("CodeGen: name must be a valid identifier");this.str=w}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(w){super(),this._items=typeof w=="string"?[w]:w}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const w=this._items[0];return w===""||w==='""'}get str(){var w;return(w=this._str)!==null&&w!==void 0?w:this._str=this._items.reduce((C,P)=>`${C}${P}`,"")}get names(){var w;return(w=this._names)!==null&&w!==void 0?w:this._names=this._items.reduce((C,P)=>(P instanceof n&&(C[P.str]=(C[P.str]||0)+1),C),{})}}e._Code=r,e.nil=new r("");function i(v,...w){const C=[v[0]];let P=0;for(;P<w.length;)s(C,w[P]),C.push(v[++P]);return new r(C)}e._=i;const o=new r("+");function a(v,...w){const C=[y(v[0])];let P=0;for(;P<w.length;)C.push(o),s(C,w[P]),C.push(o,y(v[++P]));return l(C),new r(C)}e.str=a;function s(v,w){w instanceof r?v.push(...w._items):w instanceof n?v.push(w):v.push(p(w))}e.addCodeArg=s;function l(v){let w=1;for(;w<v.length-1;){if(v[w]===o){const C=f(v[w-1],v[w+1]);if(C!==void 0){v.splice(w-1,3,C);continue}v[w++]="+"}w++}}function f(v,w){if(w==='""')return v;if(v==='""')return w;if(typeof v=="string")return w instanceof n||v[v.length-1]!=='"'?void 0:typeof w!="string"?`${v.slice(0,-1)}${w}"`:w[0]==='"'?v.slice(0,-1)+w.slice(1):void 0;if(typeof w=="string"&&w[0]==='"'&&!(v instanceof n))return`"${v}${w.slice(1)}`}function d(v,w){return w.emptyStr()?v:v.emptyStr()?w:a`${v}${w}`}e.strConcat=d;function p(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:y(Array.isArray(v)?v.join(","):v)}function g(v){return new r(y(v))}e.stringify=g;function y(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function b(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new r(`.${v}`):i`[${v}]`}e.getProperty=b;function x(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new r(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=x;function E(v){return new r(v.toString())}e.regexpCode=E})(PC)),PC}var OC={},z6;function q6(){return z6||(z6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=rm();class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:f,parent:d}={}){this._names={},this._prefixes=f,this._parent=d}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const d=this._names[f]||this._nameGroup(f);return`${f}${d.index++}`}_nameGroup(f){var d,p;if(!((p=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||p===void 0)&&p.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=i;class o extends t.Name{constructor(f,d){super(d),this.prefix=f}setValue(f,{property:d,itemIndex:p}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(d)}[${p}]`}}e.ValueScopeName=o;const a=(0,t._)`\n`;class s extends i{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?a:t.nil}}get(){return this._scope}name(f){return new o(f,this._newName(f))}value(f,d){var p;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(f),{prefix:y}=g,b=(p=d.key)!==null&&p!==void 0?p:d.ref;let x=this._values[y];if(x){const w=x.get(b);if(w)return w}else x=this._values[y]=new Map;x.set(b,g);const E=this._scope[y]||(this._scope[y]=[]),v=E.length;return E[v]=d.ref,g.setValue(d,{property:y,itemIndex:v}),g}getValue(f,d){const p=this._values[f];if(p)return p.get(d)}scopeRefs(f,d=this._values){return this._reduceValues(d,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${f}${p.scopePath}`})}scopeCode(f=this._values,d,p){return this._reduceValues(f,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},d,p)}_reduceValues(f,d,p={},g){let y=t.nil;for(const b in f){const x=f[b];if(!x)continue;const E=p[b]=p[b]||new Map;x.forEach(v=>{if(E.has(v))return;E.set(v,r.Started);let w=d(v);if(w){const C=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${C} ${v} = ${w};${this.opts._n}`}else if(w=g?.(v))y=(0,t._)`${y}${w}${this.opts._n}`;else throw new n(v);E.set(v,r.Completed)})}return y}}e.ValueScope=s})(OC)),OC}var H6;function Sn(){return H6||(H6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=rm(),n=q6();var r=rm();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=q6();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(X,ge){return this}}class a extends o{constructor(X,ge,xe){super(),this.varKind=X,this.name=ge,this.rhs=xe}render({es5:X,_n:ge}){const xe=X?n.varKinds.var:this.varKind,Ve=this.rhs===void 0?"":` = ${this.rhs}`;return`${xe} ${this.name}${Ve};`+ge}optimizeNames(X,ge){if(X[this.name.str])return this.rhs&&(this.rhs=ue(this.rhs,X,ge)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends o{constructor(X,ge,xe){super(),this.lhs=X,this.rhs=ge,this.sideEffects=xe}render({_n:X}){return`${this.lhs} = ${this.rhs};`+X}optimizeNames(X,ge){if(!(this.lhs instanceof t.Name&&!X[this.lhs.str]&&!this.sideEffects))return this.rhs=ue(this.rhs,X,ge),this}get names(){const X=this.lhs instanceof t.Name?{}:{...this.lhs.names};return oe(X,this.rhs)}}class l extends s{constructor(X,ge,xe,Ve){super(X,xe,Ve),this.op=ge}render({_n:X}){return`${this.lhs} ${this.op}= ${this.rhs};`+X}}class f extends o{constructor(X){super(),this.label=X,this.names={}}render({_n:X}){return`${this.label}:`+X}}class d extends o{constructor(X){super(),this.label=X,this.names={}}render({_n:X}){return`break${this.label?` ${this.label}`:""};`+X}}class p extends o{constructor(X){super(),this.error=X}render({_n:X}){return`throw ${this.error};`+X}get names(){return this.error.names}}class g extends o{constructor(X){super(),this.code=X}render({_n:X}){return`${this.code};`+X}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(X,ge){return this.code=ue(this.code,X,ge),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends o{constructor(X=[]){super(),this.nodes=X}render(X){return this.nodes.reduce((ge,xe)=>ge+xe.render(X),"")}optimizeNodes(){const{nodes:X}=this;let ge=X.length;for(;ge--;){const xe=X[ge].optimizeNodes();Array.isArray(xe)?X.splice(ge,1,...xe):xe?X[ge]=xe:X.splice(ge,1)}return X.length>0?this:void 0}optimizeNames(X,ge){const{nodes:xe}=this;let Ve=xe.length;for(;Ve--;){const Pe=xe[Ve];Pe.optimizeNames(X,ge)||(de(X,Pe.names),xe.splice(Ve,1))}return xe.length>0?this:void 0}get names(){return this.nodes.reduce((X,ge)=>te(X,ge.names),{})}}class b extends y{render(X){return"{"+X._n+super.render(X)+"}"+X._n}}class x extends y{}class E extends b{}E.kind="else";class v extends b{constructor(X,ge){super(ge),this.condition=X}render(X){let ge=`if(${this.condition})`+super.render(X);return this.else&&(ge+="else "+this.else.render(X)),ge}optimizeNodes(){super.optimizeNodes();const X=this.condition;if(X===!0)return this.nodes;let ge=this.else;if(ge){const xe=ge.optimizeNodes();ge=this.else=Array.isArray(xe)?new E(xe):xe}if(ge)return X===!1?ge instanceof v?ge:ge.nodes:this.nodes.length?this:new v(se(X),ge instanceof v?[ge]:ge.nodes);if(!(X===!1||!this.nodes.length))return this}optimizeNames(X,ge){var xe;if(this.else=(xe=this.else)===null||xe===void 0?void 0:xe.optimizeNames(X,ge),!!(super.optimizeNames(X,ge)||this.else))return this.condition=ue(this.condition,X,ge),this}get names(){const X=super.names;return oe(X,this.condition),this.else&&te(X,this.else.names),X}}v.kind="if";class w extends b{}w.kind="for";class C extends w{constructor(X){super(),this.iteration=X}render(X){return`for(${this.iteration})`+super.render(X)}optimizeNames(X,ge){if(super.optimizeNames(X,ge))return this.iteration=ue(this.iteration,X,ge),this}get names(){return te(super.names,this.iteration.names)}}class P extends w{constructor(X,ge,xe,Ve){super(),this.varKind=X,this.name=ge,this.from=xe,this.to=Ve}render(X){const ge=X.es5?n.varKinds.var:this.varKind,{name:xe,from:Ve,to:Pe}=this;return`for(${ge} ${xe}=${Ve}; ${xe}<${Pe}; ${xe}++)`+super.render(X)}get names(){const X=oe(super.names,this.from);return oe(X,this.to)}}class R extends w{constructor(X,ge,xe,Ve){super(),this.loop=X,this.varKind=ge,this.name=xe,this.iterable=Ve}render(X){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(X)}optimizeNames(X,ge){if(super.optimizeNames(X,ge))return this.iterable=ue(this.iterable,X,ge),this}get names(){return te(super.names,this.iterable.names)}}class k extends b{constructor(X,ge,xe){super(),this.name=X,this.args=ge,this.async=xe}render(X){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(X)}}k.kind="func";class M extends y{render(X){return"return "+super.render(X)}}M.kind="return";class W extends b{render(X){let ge="try"+super.render(X);return this.catch&&(ge+=this.catch.render(X)),this.finally&&(ge+=this.finally.render(X)),ge}optimizeNodes(){var X,ge;return super.optimizeNodes(),(X=this.catch)===null||X===void 0||X.optimizeNodes(),(ge=this.finally)===null||ge===void 0||ge.optimizeNodes(),this}optimizeNames(X,ge){var xe,Ve;return super.optimizeNames(X,ge),(xe=this.catch)===null||xe===void 0||xe.optimizeNames(X,ge),(Ve=this.finally)===null||Ve===void 0||Ve.optimizeNames(X,ge),this}get names(){const X=super.names;return this.catch&&te(X,this.catch.names),this.finally&&te(X,this.finally.names),X}}class ee extends b{constructor(X){super(),this.error=X}render(X){return`catch(${this.error})`+super.render(X)}}ee.kind="catch";class z extends b{render(X){return"finally"+super.render(X)}}z.kind="finally";class H{constructor(X,ge={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ge,_n:ge.lines?`
`:""},this._extScope=X,this._scope=new n.Scope({parent:X}),this._nodes=[new x]}toString(){return this._root.render(this.opts)}name(X){return this._scope.name(X)}scopeName(X){return this._extScope.name(X)}scopeValue(X,ge){const xe=this._extScope.value(X,ge);return(this._values[xe.prefix]||(this._values[xe.prefix]=new Set)).add(xe),xe}getScopeValue(X,ge){return this._extScope.getValue(X,ge)}scopeRefs(X){return this._extScope.scopeRefs(X,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(X,ge,xe,Ve){const Pe=this._scope.toName(ge);return xe!==void 0&&Ve&&(this._constants[Pe.str]=xe),this._leafNode(new a(X,Pe,xe)),Pe}const(X,ge,xe){return this._def(n.varKinds.const,X,ge,xe)}let(X,ge,xe){return this._def(n.varKinds.let,X,ge,xe)}var(X,ge,xe){return this._def(n.varKinds.var,X,ge,xe)}assign(X,ge,xe){return this._leafNode(new s(X,ge,xe))}add(X,ge){return this._leafNode(new l(X,e.operators.ADD,ge))}code(X){return typeof X=="function"?X():X!==t.nil&&this._leafNode(new g(X)),this}object(...X){const ge=["{"];for(const[xe,Ve]of X)ge.length>1&&ge.push(","),ge.push(xe),(xe!==Ve||this.opts.es5)&&(ge.push(":"),(0,t.addCodeArg)(ge,Ve));return ge.push("}"),new t._Code(ge)}if(X,ge,xe){if(this._blockNode(new v(X)),ge&&xe)this.code(ge).else().code(xe).endIf();else if(ge)this.code(ge).endIf();else if(xe)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(X){return this._elseNode(new v(X))}else(){return this._elseNode(new E)}endIf(){return this._endBlockNode(v,E)}_for(X,ge){return this._blockNode(X),ge&&this.code(ge).endFor(),this}for(X,ge){return this._for(new C(X),ge)}forRange(X,ge,xe,Ve,Pe=this.opts.es5?n.varKinds.var:n.varKinds.let){const Be=this._scope.toName(X);return this._for(new P(Pe,Be,ge,xe),()=>Ve(Be))}forOf(X,ge,xe,Ve=n.varKinds.const){const Pe=this._scope.toName(X);if(this.opts.es5){const Be=ge instanceof t.Name?ge:this.var("_arr",ge);return this.forRange("_i",0,(0,t._)`${Be}.length`,Je=>{this.var(Pe,(0,t._)`${Be}[${Je}]`),xe(Pe)})}return this._for(new R("of",Ve,Pe,ge),()=>xe(Pe))}forIn(X,ge,xe,Ve=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(X,(0,t._)`Object.keys(${ge})`,xe);const Pe=this._scope.toName(X);return this._for(new R("in",Ve,Pe,ge),()=>xe(Pe))}endFor(){return this._endBlockNode(w)}label(X){return this._leafNode(new f(X))}break(X){return this._leafNode(new d(X))}return(X){const ge=new M;if(this._blockNode(ge),this.code(X),ge.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(M)}try(X,ge,xe){if(!ge&&!xe)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ve=new W;if(this._blockNode(Ve),this.code(X),ge){const Pe=this.name("e");this._currNode=Ve.catch=new ee(Pe),ge(Pe)}return xe&&(this._currNode=Ve.finally=new z,this.code(xe)),this._endBlockNode(ee,z)}throw(X){return this._leafNode(new p(X))}block(X,ge){return this._blockStarts.push(this._nodes.length),X&&this.code(X).endBlock(ge),this}endBlock(X){const ge=this._blockStarts.pop();if(ge===void 0)throw new Error("CodeGen: not in self-balancing block");const xe=this._nodes.length-ge;if(xe<0||X!==void 0&&xe!==X)throw new Error(`CodeGen: wrong number of nodes: ${xe} vs ${X} expected`);return this._nodes.length=ge,this}func(X,ge=t.nil,xe,Ve){return this._blockNode(new k(X,ge,xe)),Ve&&this.code(Ve).endFunc(),this}endFunc(){return this._endBlockNode(k)}optimize(X=1){for(;X-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(X){return this._currNode.nodes.push(X),this}_blockNode(X){this._currNode.nodes.push(X),this._nodes.push(X)}_endBlockNode(X,ge){const xe=this._currNode;if(xe instanceof X||ge&&xe instanceof ge)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ge?`${X.kind}/${ge.kind}`:X.kind}"`)}_elseNode(X){const ge=this._currNode;if(!(ge instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=ge.else=X,this}get _root(){return this._nodes[0]}get _currNode(){const X=this._nodes;return X[X.length-1]}set _currNode(X){const ge=this._nodes;ge[ge.length-1]=X}}e.CodeGen=H;function te(G,X){for(const ge in X)G[ge]=(G[ge]||0)+(X[ge]||0);return G}function oe(G,X){return X instanceof t._CodeOrName?te(G,X.names):G}function ue(G,X,ge){if(G instanceof t.Name)return xe(G);if(!Ve(G))return G;return new t._Code(G._items.reduce((Pe,Be)=>(Be instanceof t.Name&&(Be=xe(Be)),Be instanceof t._Code?Pe.push(...Be._items):Pe.push(Be),Pe),[]));function xe(Pe){const Be=ge[Pe.str];return Be===void 0||X[Pe.str]!==1?Pe:(delete X[Pe.str],Be)}function Ve(Pe){return Pe instanceof t._Code&&Pe._items.some(Be=>Be instanceof t.Name&&X[Be.str]===1&&ge[Be.str]!==void 0)}}function de(G,X){for(const ge in X)G[ge]=(G[ge]||0)-(X[ge]||0)}function se(G){return typeof G=="boolean"||typeof G=="number"||G===null?!G:(0,t._)`!${ce(G)}`}e.not=se;const pe=Q(e.operators.AND);function re(...G){return G.reduce(pe)}e.and=re;const Ee=Q(e.operators.OR);function $(...G){return G.reduce(Ee)}e.or=$;function Q(G){return(X,ge)=>X===t.nil?ge:ge===t.nil?X:(0,t._)`${ce(X)} ${G} ${ce(ge)}`}function ce(G){return G instanceof t.Name?G:(0,t._)`(${G})`}})(RC)),RC}var xn={},V6;function Hn(){if(V6)return xn;V6=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.checkStrictMode=xn.getErrorPath=xn.Type=xn.useFunc=xn.setEvaluated=xn.evaluatedPropsToName=xn.mergeEvaluated=xn.eachItem=xn.unescapeJsonPointer=xn.escapeJsonPointer=xn.escapeFragment=xn.unescapeFragment=xn.schemaRefOrVal=xn.schemaHasRulesButRef=xn.schemaHasRules=xn.checkUnknownRules=xn.alwaysValidSchema=xn.toHash=void 0;const e=Sn(),t=rm();function n(R){const k={};for(const M of R)k[M]=!0;return k}xn.toHash=n;function r(R,k){return typeof k=="boolean"?k:Object.keys(k).length===0?!0:(i(R,k),!o(k,R.self.RULES.all))}xn.alwaysValidSchema=r;function i(R,k=R.schema){const{opts:M,self:W}=R;if(!M.strictSchema||typeof k=="boolean")return;const ee=W.RULES.keywords;for(const z in k)ee[z]||P(R,`unknown keyword: "${z}"`)}xn.checkUnknownRules=i;function o(R,k){if(typeof R=="boolean")return!R;for(const M in R)if(k[M])return!0;return!1}xn.schemaHasRules=o;function a(R,k){if(typeof R=="boolean")return!R;for(const M in R)if(M!=="$ref"&&k.all[M])return!0;return!1}xn.schemaHasRulesButRef=a;function s({topSchemaRef:R,schemaPath:k},M,W,ee){if(!ee){if(typeof M=="number"||typeof M=="boolean")return M;if(typeof M=="string")return(0,e._)`${M}`}return(0,e._)`${R}${k}${(0,e.getProperty)(W)}`}xn.schemaRefOrVal=s;function l(R){return p(decodeURIComponent(R))}xn.unescapeFragment=l;function f(R){return encodeURIComponent(d(R))}xn.escapeFragment=f;function d(R){return typeof R=="number"?`${R}`:R.replace(/~/g,"~0").replace(/\//g,"~1")}xn.escapeJsonPointer=d;function p(R){return R.replace(/~1/g,"/").replace(/~0/g,"~")}xn.unescapeJsonPointer=p;function g(R,k){if(Array.isArray(R))for(const M of R)k(M);else k(R)}xn.eachItem=g;function y({mergeNames:R,mergeToName:k,mergeValues:M,resultToName:W}){return(ee,z,H,te)=>{const oe=H===void 0?z:H instanceof e.Name?(z instanceof e.Name?R(ee,z,H):k(ee,z,H),H):z instanceof e.Name?(k(ee,H,z),z):M(z,H);return te===e.Name&&!(oe instanceof e.Name)?W(ee,oe):oe}}xn.mergeEvaluated={props:y({mergeNames:(R,k,M)=>R.if((0,e._)`${M} !== true && ${k} !== undefined`,()=>{R.if((0,e._)`${k} === true`,()=>R.assign(M,!0),()=>R.assign(M,(0,e._)`${M} || {}`).code((0,e._)`Object.assign(${M}, ${k})`))}),mergeToName:(R,k,M)=>R.if((0,e._)`${M} !== true`,()=>{k===!0?R.assign(M,!0):(R.assign(M,(0,e._)`${M} || {}`),x(R,M,k))}),mergeValues:(R,k)=>R===!0?!0:{...R,...k},resultToName:b}),items:y({mergeNames:(R,k,M)=>R.if((0,e._)`${M} !== true && ${k} !== undefined`,()=>R.assign(M,(0,e._)`${k} === true ? true : ${M} > ${k} ? ${M} : ${k}`)),mergeToName:(R,k,M)=>R.if((0,e._)`${M} !== true`,()=>R.assign(M,k===!0?!0:(0,e._)`${M} > ${k} ? ${M} : ${k}`)),mergeValues:(R,k)=>R===!0?!0:Math.max(R,k),resultToName:(R,k)=>R.var("items",k)})};function b(R,k){if(k===!0)return R.var("props",!0);const M=R.var("props",(0,e._)`{}`);return k!==void 0&&x(R,M,k),M}xn.evaluatedPropsToName=b;function x(R,k,M){Object.keys(M).forEach(W=>R.assign((0,e._)`${k}${(0,e.getProperty)(W)}`,!0))}xn.setEvaluated=x;const E={};function v(R,k){return R.scopeValue("func",{ref:k,code:E[k.code]||(E[k.code]=new t._Code(k.code))})}xn.useFunc=v;var w;(function(R){R[R.Num=0]="Num",R[R.Str=1]="Str"})(w||(xn.Type=w={}));function C(R,k,M){if(R instanceof e.Name){const W=k===w.Num;return M?W?(0,e._)`"[" + ${R} + "]"`:(0,e._)`"['" + ${R} + "']"`:W?(0,e._)`"/" + ${R}`:(0,e._)`"/" + ${R}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return M?(0,e.getProperty)(R).toString():"/"+d(R)}xn.getErrorPath=C;function P(R,k,M=R.opts.strictSchema){if(M){if(k=`strict mode: ${k}`,M===!0)throw new Error(k);R.self.logger.warn(k)}}return xn.checkStrictMode=P,xn}var Ny={},K6;function _u(){if(K6)return Ny;K6=1,Object.defineProperty(Ny,"__esModule",{value:!0});const e=Sn(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Ny.default=t,Ny}var G6;function km(){return G6||(G6=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=Sn(),n=Hn(),r=_u();e.keywordError={message:({keyword:E})=>(0,t.str)`must pass "${E}" keyword validation`},e.keyword$DataError={message:({keyword:E,schemaType:v})=>v?(0,t.str)`"${E}" keyword must be ${v} ($data)`:(0,t.str)`"${E}" keyword is invalid ($data)`};function i(E,v=e.keywordError,w,C){const{it:P}=E,{gen:R,compositeRule:k,allErrors:M}=P,W=p(E,v,w);C??(k||M)?l(R,W):f(P,(0,t._)`[${W}]`)}e.reportError=i;function o(E,v=e.keywordError,w){const{it:C}=E,{gen:P,compositeRule:R,allErrors:k}=C,M=p(E,v,w);l(P,M),R||k||f(C,r.default.vErrors)}e.reportExtraError=o;function a(E,v){E.assign(r.default.errors,v),E.if((0,t._)`${r.default.vErrors} !== null`,()=>E.if(v,()=>E.assign((0,t._)`${r.default.vErrors}.length`,v),()=>E.assign(r.default.vErrors,null)))}e.resetErrorsCount=a;function s({gen:E,keyword:v,schemaValue:w,data:C,errsCount:P,it:R}){if(P===void 0)throw new Error("ajv implementation error");const k=E.name("err");E.forRange("i",P,r.default.errors,M=>{E.const(k,(0,t._)`${r.default.vErrors}[${M}]`),E.if((0,t._)`${k}.instancePath === undefined`,()=>E.assign((0,t._)`${k}.instancePath`,(0,t.strConcat)(r.default.instancePath,R.errorPath))),E.assign((0,t._)`${k}.schemaPath`,(0,t.str)`${R.errSchemaPath}/${v}`),R.opts.verbose&&(E.assign((0,t._)`${k}.schema`,w),E.assign((0,t._)`${k}.data`,C))})}e.extendErrors=s;function l(E,v){const w=E.const("err",v);E.if((0,t._)`${r.default.vErrors} === null`,()=>E.assign(r.default.vErrors,(0,t._)`[${w}]`),(0,t._)`${r.default.vErrors}.push(${w})`),E.code((0,t._)`${r.default.errors}++`)}function f(E,v){const{gen:w,validateName:C,schemaEnv:P}=E;P.$async?w.throw((0,t._)`new ${E.ValidationError}(${v})`):(w.assign((0,t._)`${C}.errors`,v),w.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(E,v,w){const{createErrors:C}=E.it;return C===!1?(0,t._)`{}`:g(E,v,w)}function g(E,v,w={}){const{gen:C,it:P}=E,R=[y(P,w),b(E,w)];return x(E,v,R),C.object(...R)}function y({errorPath:E},{instancePath:v}){const w=v?(0,t.str)`${E}${(0,n.getErrorPath)(v,n.Type.Str)}`:E;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,w)]}function b({keyword:E,it:{errSchemaPath:v}},{schemaPath:w,parentSchema:C}){let P=C?v:(0,t.str)`${v}/${E}`;return w&&(P=(0,t.str)`${P}${(0,n.getErrorPath)(w,n.Type.Str)}`),[d.schemaPath,P]}function x(E,{params:v,message:w},C){const{keyword:P,data:R,schemaValue:k,it:M}=E,{opts:W,propertyName:ee,topSchemaRef:z,schemaPath:H}=M;C.push([d.keyword,P],[d.params,typeof v=="function"?v(E):v||(0,t._)`{}`]),W.messages&&C.push([d.message,typeof w=="function"?w(E):w]),W.verbose&&C.push([d.schema,k],[d.parentSchema,(0,t._)`${z}${H}`],[r.default.data,R]),ee&&C.push([d.propertyName,ee])}})(AC)),AC}var W6;function MPe(){if(W6)return sc;W6=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.boolOrEmptySchema=sc.topBoolOrEmptySchema=void 0;const e=km(),t=Sn(),n=_u(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:f,validateName:d}=s;f===!1?a(s,!1):typeof f=="object"&&f.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${d}.errors`,null),l.return(!0))}sc.topBoolOrEmptySchema=i;function o(s,l){const{gen:f,schema:d}=s;d===!1?(f.var(l,!1),a(s)):f.var(l,!0)}sc.boolOrEmptySchema=o;function a(s,l){const{gen:f,data:d}=s,p={gen:f,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(p,r,void 0,l)}return sc}var Pi={},uc={},Z6;function T7(){if(Z6)return uc;Z6=1,Object.defineProperty(uc,"__esModule",{value:!0}),uc.getRules=uc.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}uc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return uc.getRules=r,uc}var Js={},Q6;function A7(){if(Q6)return Js;Q6=1,Object.defineProperty(Js,"__esModule",{value:!0}),Js.shouldUseRule=Js.shouldUseGroup=Js.schemaHasRulesForType=void 0;function e({schema:r,self:i},o){const a=i.RULES.types[o];return a&&a!==!0&&t(r,a)}Js.schemaHasRulesForType=e;function t(r,i){return i.rules.some(o=>n(r,o))}Js.shouldUseGroup=t;function n(r,i){var o;return r[i.keyword]!==void 0||((o=i.definition.implements)===null||o===void 0?void 0:o.some(a=>r[a]!==void 0))}return Js.shouldUseRule=n,Js}var J6;function U_(){if(J6)return Pi;J6=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.reportTypeError=Pi.checkDataTypes=Pi.checkDataType=Pi.coerceAndCheckDataType=Pi.getJSONTypes=Pi.getSchemaTypes=Pi.DataType=void 0;const e=T7(),t=A7(),n=km(),r=Sn(),i=Hn();var o;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(o||(Pi.DataType=o={}));function a(w){const C=s(w.type);if(C.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!C.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&C.push("null")}return C}Pi.getSchemaTypes=a;function s(w){const C=Array.isArray(w)?w:w?[w]:[];if(C.every(e.isJSONType))return C;throw new Error("type must be JSONType or JSONType[]: "+C.join(","))}Pi.getJSONTypes=s;function l(w,C){const{gen:P,data:R,opts:k}=w,M=d(C,k.coerceTypes),W=C.length>0&&!(M.length===0&&C.length===1&&(0,t.schemaHasRulesForType)(w,C[0]));if(W){const ee=b(C,R,k.strictNumbers,o.Wrong);P.if(ee,()=>{M.length?p(w,C,M):E(w)})}return W}Pi.coerceAndCheckDataType=l;const f=new Set(["string","number","integer","boolean","null"]);function d(w,C){return C?w.filter(P=>f.has(P)||C==="array"&&P==="array"):[]}function p(w,C,P){const{gen:R,data:k,opts:M}=w,W=R.let("dataType",(0,r._)`typeof ${k}`),ee=R.let("coerced",(0,r._)`undefined`);M.coerceTypes==="array"&&R.if((0,r._)`${W} == 'object' && Array.isArray(${k}) && ${k}.length == 1`,()=>R.assign(k,(0,r._)`${k}[0]`).assign(W,(0,r._)`typeof ${k}`).if(b(C,k,M.strictNumbers),()=>R.assign(ee,k))),R.if((0,r._)`${ee} !== undefined`);for(const H of P)(f.has(H)||H==="array"&&M.coerceTypes==="array")&&z(H);R.else(),E(w),R.endIf(),R.if((0,r._)`${ee} !== undefined`,()=>{R.assign(k,ee),g(w,ee)});function z(H){switch(H){case"string":R.elseIf((0,r._)`${W} == "number" || ${W} == "boolean"`).assign(ee,(0,r._)`"" + ${k}`).elseIf((0,r._)`${k} === null`).assign(ee,(0,r._)`""`);return;case"number":R.elseIf((0,r._)`${W} == "boolean" || ${k} === null
              || (${W} == "string" && ${k} && ${k} == +${k})`).assign(ee,(0,r._)`+${k}`);return;case"integer":R.elseIf((0,r._)`${W} === "boolean" || ${k} === null
              || (${W} === "string" && ${k} && ${k} == +${k} && !(${k} % 1))`).assign(ee,(0,r._)`+${k}`);return;case"boolean":R.elseIf((0,r._)`${k} === "false" || ${k} === 0 || ${k} === null`).assign(ee,!1).elseIf((0,r._)`${k} === "true" || ${k} === 1`).assign(ee,!0);return;case"null":R.elseIf((0,r._)`${k} === "" || ${k} === 0 || ${k} === false`),R.assign(ee,null);return;case"array":R.elseIf((0,r._)`${W} === "string" || ${W} === "number"
              || ${W} === "boolean" || ${k} === null`).assign(ee,(0,r._)`[${k}]`)}}}function g({gen:w,parentData:C,parentDataProperty:P},R){w.if((0,r._)`${C} !== undefined`,()=>w.assign((0,r._)`${C}[${P}]`,R))}function y(w,C,P,R=o.Correct){const k=R===o.Correct?r.operators.EQ:r.operators.NEQ;let M;switch(w){case"null":return(0,r._)`${C} ${k} null`;case"array":M=(0,r._)`Array.isArray(${C})`;break;case"object":M=(0,r._)`${C} && typeof ${C} == "object" && !Array.isArray(${C})`;break;case"integer":M=W((0,r._)`!(${C} % 1) && !isNaN(${C})`);break;case"number":M=W();break;default:return(0,r._)`typeof ${C} ${k} ${w}`}return R===o.Correct?M:(0,r.not)(M);function W(ee=r.nil){return(0,r.and)((0,r._)`typeof ${C} == "number"`,ee,P?(0,r._)`isFinite(${C})`:r.nil)}}Pi.checkDataType=y;function b(w,C,P,R){if(w.length===1)return y(w[0],C,P,R);let k;const M=(0,i.toHash)(w);if(M.array&&M.object){const W=(0,r._)`typeof ${C} != "object"`;k=M.null?W:(0,r._)`!${C} || ${W}`,delete M.null,delete M.array,delete M.object}else k=r.nil;M.number&&delete M.integer;for(const W in M)k=(0,r.and)(k,y(W,C,P,R));return k}Pi.checkDataTypes=b;const x={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:C})=>typeof w=="string"?(0,r._)`{type: ${w}}`:(0,r._)`{type: ${C}}`};function E(w){const C=v(w);(0,n.reportError)(C,x)}Pi.reportTypeError=E;function v(w){const{gen:C,data:P,schema:R}=w,k=(0,i.schemaRefOrVal)(w,R,"type");return{gen:C,keyword:"type",data:P,schema:R.type,schemaCode:k,schemaValue:k,parentSchema:R,params:{},it:w}}return Pi}var ip={},Y6;function LPe(){if(Y6)return ip;Y6=1,Object.defineProperty(ip,"__esModule",{value:!0}),ip.assignDefaults=void 0;const e=Sn(),t=Hn();function n(i,o){const{properties:a,items:s}=i.schema;if(o==="object"&&a)for(const l in a)r(i,l,a[l].default);else o==="array"&&Array.isArray(s)&&s.forEach((l,f)=>r(i,f,l.default))}ip.assignDefaults=n;function r(i,o,a){const{gen:s,compositeRule:l,data:f,opts:d}=i;if(a===void 0)return;const p=(0,e._)`${f}${(0,e.getProperty)(o)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${p}`);return}let g=(0,e._)`${p} === undefined`;d.useDefaults==="empty"&&(g=(0,e._)`${g} || ${p} === null || ${p} === ""`),s.if(g,(0,e._)`${p} = ${(0,e.stringify)(a)}`)}return ip}var Da={},or={},X6;function Ja(){if(X6)return or;X6=1,Object.defineProperty(or,"__esModule",{value:!0}),or.validateUnion=or.validateArray=or.usePattern=or.callValidateCode=or.schemaProperties=or.allSchemaProperties=or.noPropertyInData=or.propertyInData=or.isOwnProperty=or.hasPropFunc=or.reportMissingProp=or.checkMissingProp=or.checkReportMissingProp=void 0;const e=Sn(),t=Hn(),n=_u(),r=Hn();function i(w,C){const{gen:P,data:R,it:k}=w;P.if(d(P,R,C,k.opts.ownProperties),()=>{w.setParams({missingProperty:(0,e._)`${C}`},!0),w.error()})}or.checkReportMissingProp=i;function o({gen:w,data:C,it:{opts:P}},R,k){return(0,e.or)(...R.map(M=>(0,e.and)(d(w,C,M,P.ownProperties),(0,e._)`${k} = ${M}`)))}or.checkMissingProp=o;function a(w,C){w.setParams({missingProperty:C},!0),w.error()}or.reportMissingProp=a;function s(w){return w.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}or.hasPropFunc=s;function l(w,C,P){return(0,e._)`${s(w)}.call(${C}, ${P})`}or.isOwnProperty=l;function f(w,C,P,R){const k=(0,e._)`${C}${(0,e.getProperty)(P)} !== undefined`;return R?(0,e._)`${k} && ${l(w,C,P)}`:k}or.propertyInData=f;function d(w,C,P,R){const k=(0,e._)`${C}${(0,e.getProperty)(P)} === undefined`;return R?(0,e.or)(k,(0,e.not)(l(w,C,P))):k}or.noPropertyInData=d;function p(w){return w?Object.keys(w).filter(C=>C!=="__proto__"):[]}or.allSchemaProperties=p;function g(w,C){return p(C).filter(P=>!(0,t.alwaysValidSchema)(w,C[P]))}or.schemaProperties=g;function y({schemaCode:w,data:C,it:{gen:P,topSchemaRef:R,schemaPath:k,errorPath:M},it:W},ee,z,H){const te=H?(0,e._)`${w}, ${C}, ${R}${k}`:C,oe=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,M)],[n.default.parentData,W.parentData],[n.default.parentDataProperty,W.parentDataProperty],[n.default.rootData,n.default.rootData]];W.opts.dynamicRef&&oe.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const ue=(0,e._)`${te}, ${P.object(...oe)}`;return z!==e.nil?(0,e._)`${ee}.call(${z}, ${ue})`:(0,e._)`${ee}(${ue})`}or.callValidateCode=y;const b=(0,e._)`new RegExp`;function x({gen:w,it:{opts:C}},P){const R=C.unicodeRegExp?"u":"",{regExp:k}=C.code,M=k(P,R);return w.scopeValue("pattern",{key:M.toString(),ref:M,code:(0,e._)`${k.code==="new RegExp"?b:(0,r.useFunc)(w,k)}(${P}, ${R})`})}or.usePattern=x;function E(w){const{gen:C,data:P,keyword:R,it:k}=w,M=C.name("valid");if(k.allErrors){const ee=C.let("valid",!0);return W(()=>C.assign(ee,!1)),ee}return C.var(M,!0),W(()=>C.break()),M;function W(ee){const z=C.const("len",(0,e._)`${P}.length`);C.forRange("i",0,z,H=>{w.subschema({keyword:R,dataProp:H,dataPropType:t.Type.Num},M),C.if((0,e.not)(M),ee)})}}or.validateArray=E;function v(w){const{gen:C,schema:P,keyword:R,it:k}=w;if(!Array.isArray(P))throw new Error("ajv implementation error");if(P.some(z=>(0,t.alwaysValidSchema)(k,z))&&!k.opts.unevaluated)return;const W=C.let("valid",!1),ee=C.name("_valid");C.block(()=>P.forEach((z,H)=>{const te=w.subschema({keyword:R,schemaProp:H,compositeRule:!0},ee);C.assign(W,(0,e._)`${W} || ${ee}`),w.mergeValidEvaluated(te,ee)||C.if((0,e.not)(W))})),w.result(W,()=>w.reset(),()=>w.error(!0))}return or.validateUnion=v,or}var e5;function IPe(){if(e5)return Da;e5=1,Object.defineProperty(Da,"__esModule",{value:!0}),Da.validateKeywordUsage=Da.validSchemaType=Da.funcKeywordCode=Da.macroKeywordCode=void 0;const e=Sn(),t=_u(),n=Ja(),r=km();function i(g,y){const{gen:b,keyword:x,schema:E,parentSchema:v,it:w}=g,C=y.macro.call(w.self,E,v,w),P=f(b,x,C);w.opts.validateSchema!==!1&&w.self.validateSchema(C,!0);const R=b.name("valid");g.subschema({schema:C,schemaPath:e.nil,errSchemaPath:`${w.errSchemaPath}/${x}`,topSchemaRef:P,compositeRule:!0},R),g.pass(R,()=>g.error(!0))}Da.macroKeywordCode=i;function o(g,y){var b;const{gen:x,keyword:E,schema:v,parentSchema:w,$data:C,it:P}=g;l(P,y);const R=!C&&y.compile?y.compile.call(P.self,v,w,P):y.validate,k=f(x,E,R),M=x.let("valid");g.block$data(M,W),g.ok((b=y.valid)!==null&&b!==void 0?b:M);function W(){if(y.errors===!1)H(),y.modifying&&a(g),te(()=>g.error());else{const oe=y.async?ee():z();y.modifying&&a(g),te(()=>s(g,oe))}}function ee(){const oe=x.let("ruleErrs",null);return x.try(()=>H((0,e._)`await `),ue=>x.assign(M,!1).if((0,e._)`${ue} instanceof ${P.ValidationError}`,()=>x.assign(oe,(0,e._)`${ue}.errors`),()=>x.throw(ue))),oe}function z(){const oe=(0,e._)`${k}.errors`;return x.assign(oe,null),H(e.nil),oe}function H(oe=y.async?(0,e._)`await `:e.nil){const ue=P.opts.passContext?t.default.this:t.default.self,de=!("compile"in y&&!C||y.schema===!1);x.assign(M,(0,e._)`${oe}${(0,n.callValidateCode)(g,k,ue,de)}`,y.modifying)}function te(oe){var ue;x.if((0,e.not)((ue=y.valid)!==null&&ue!==void 0?ue:M),oe)}}Da.funcKeywordCode=o;function a(g){const{gen:y,data:b,it:x}=g;y.if(x.parentData,()=>y.assign(b,(0,e._)`${x.parentData}[${x.parentDataProperty}]`))}function s(g,y){const{gen:b}=g;b.if((0,e._)`Array.isArray(${y})`,()=>{b.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${y} : ${t.default.vErrors}.concat(${y})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(g)},()=>g.error())}function l({schemaEnv:g},y){if(y.async&&!g.$async)throw new Error("async keyword in sync schema")}function f(g,y,b){if(b===void 0)throw new Error(`keyword "${y}" failed to compile`);return g.scopeValue("keyword",typeof b=="function"?{ref:b}:{ref:b,code:(0,e.stringify)(b)})}function d(g,y,b=!1){return!y.length||y.some(x=>x==="array"?Array.isArray(g):x==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==x||b&&typeof g>"u")}Da.validSchemaType=d;function p({schema:g,opts:y,self:b,errSchemaPath:x},E,v){if(Array.isArray(E.keyword)?!E.keyword.includes(v):E.keyword!==v)throw new Error("ajv implementation error");const w=E.dependencies;if(w?.some(C=>!Object.prototype.hasOwnProperty.call(g,C)))throw new Error(`parent schema must have dependencies of ${v}: ${w.join(",")}`);if(E.validateSchema&&!E.validateSchema(g[v])){const P=`keyword "${v}" value is invalid at path "${x}": `+b.errorsText(E.validateSchema.errors);if(y.validateSchema==="log")b.logger.error(P);else throw new Error(P)}}return Da.validateKeywordUsage=p,Da}var Ys={},t5;function kPe(){if(t5)return Ys;t5=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.extendSubschemaMode=Ys.extendSubschemaData=Ys.getSubschema=void 0;const e=Sn(),t=Hn();function n(o,{keyword:a,schemaProp:s,schema:l,schemaPath:f,errSchemaPath:d,topSchemaRef:p}){if(a!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const g=o.schema[a];return s===void 0?{schema:g,schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${a}`}:{schema:g[s],schemaPath:(0,e._)`${o.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(s)}`,errSchemaPath:`${o.errSchemaPath}/${a}/${(0,t.escapeFragment)(s)}`}}if(l!==void 0){if(f===void 0||d===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:f,topSchemaRef:p,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}Ys.getSubschema=n;function r(o,a,{dataProp:s,dataPropType:l,data:f,dataTypes:d,propertyName:p}){if(f!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=a;if(s!==void 0){const{errorPath:b,dataPathArr:x,opts:E}=a,v=g.let("data",(0,e._)`${a.data}${(0,e.getProperty)(s)}`,!0);y(v),o.errorPath=(0,e.str)`${b}${(0,t.getErrorPath)(s,l,E.jsPropertySyntax)}`,o.parentDataProperty=(0,e._)`${s}`,o.dataPathArr=[...x,o.parentDataProperty]}if(f!==void 0){const b=f instanceof e.Name?f:g.let("data",f,!0);y(b),p!==void 0&&(o.propertyName=p)}d&&(o.dataTypes=d);function y(b){o.data=b,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[...a.dataNames,b]}}Ys.extendSubschemaData=r;function i(o,{jtdDiscriminator:a,jtdMetadata:s,compositeRule:l,createErrors:f,allErrors:d}){l!==void 0&&(o.compositeRule=l),f!==void 0&&(o.createErrors=f),d!==void 0&&(o.allErrors=d),o.jtdDiscriminator=a,o.jtdMetadata=s}return Ys.extendSubschemaMode=i,Ys}var Xi={},MC,n5;function R7(){return n5||(n5=1,MC=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}),MC}var LC={exports:{}},r5;function DPe(){if(r5)return LC.exports;r5=1;var e=LC.exports=function(r,i,o){typeof i=="function"&&(o=i,i={}),o=i.cb||o;var a=typeof o=="function"?o:o.pre||function(){},s=o.post||function(){};t(i,a,s,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,o,a,s,l,f,d,p,g){if(a&&typeof a=="object"&&!Array.isArray(a)){i(a,s,l,f,d,p,g);for(var y in a){var b=a[y];if(Array.isArray(b)){if(y in e.arrayKeywords)for(var x=0;x<b.length;x++)t(r,i,o,b[x],s+"/"+y+"/"+x,l,s,y,a,x)}else if(y in e.propsKeywords){if(b&&typeof b=="object")for(var E in b)t(r,i,o,b[E],s+"/"+y+"/"+n(E),l,s,y,a,E)}else(y in e.keywords||r.allKeys&&!(y in e.skipKeywords))&&t(r,i,o,b,s+"/"+y,l,s,y,a)}o(a,s,l,f,d,p,g)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return LC.exports}var i5;function i0(){if(i5)return Xi;i5=1,Object.defineProperty(Xi,"__esModule",{value:!0}),Xi.getSchemaRefs=Xi.resolveUrl=Xi.normalizeId=Xi._getFullPath=Xi.getFullPath=Xi.inlineRef=void 0;const e=Hn(),t=R7(),n=DPe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(x,E=!0){return typeof x=="boolean"?!0:E===!0?!a(x):E?s(x)<=E:!1}Xi.inlineRef=i;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(x){for(const E in x){if(o.has(E))return!0;const v=x[E];if(Array.isArray(v)&&v.some(a)||typeof v=="object"&&a(v))return!0}return!1}function s(x){let E=0;for(const v in x){if(v==="$ref")return 1/0;if(E++,!r.has(v)&&(typeof x[v]=="object"&&(0,e.eachItem)(x[v],w=>E+=s(w)),E===1/0))return 1/0}return E}function l(x,E="",v){v!==!1&&(E=p(E));const w=x.parse(E);return f(x,w)}Xi.getFullPath=l;function f(x,E){return x.serialize(E).split("#")[0]+"#"}Xi._getFullPath=f;const d=/#\/?$/;function p(x){return x?x.replace(d,""):""}Xi.normalizeId=p;function g(x,E,v){return v=p(v),x.resolve(E,v)}Xi.resolveUrl=g;const y=/^[a-z_][-a-z0-9._]*$/i;function b(x,E){if(typeof x=="boolean")return{};const{schemaId:v,uriResolver:w}=this.opts,C=p(x[v]||E),P={"":C},R=l(w,C,!1),k={},M=new Set;return n(x,{allKeys:!0},(z,H,te,oe)=>{if(oe===void 0)return;const ue=R+H;let de=P[oe];typeof z[v]=="string"&&(de=se.call(this,z[v])),pe.call(this,z.$anchor),pe.call(this,z.$dynamicAnchor),P[H]=de;function se(re){const Ee=this.opts.uriResolver.resolve;if(re=p(de?Ee(de,re):re),M.has(re))throw ee(re);M.add(re);let $=this.refs[re];return typeof $=="string"&&($=this.refs[$]),typeof $=="object"?W(z,$.schema,re):re!==p(ue)&&(re[0]==="#"?(W(z,k[re],re),k[re]=z):this.refs[re]=ue),re}function pe(re){if(typeof re=="string"){if(!y.test(re))throw new Error(`invalid anchor "${re}"`);se.call(this,`#${re}`)}}}),k;function W(z,H,te){if(H!==void 0&&!t(z,H))throw ee(te)}function ee(z){return new Error(`reference "${z}" resolves to more than one schema`)}}return Xi.getSchemaRefs=b,Xi}var o5;function Dm(){if(o5)return Qs;o5=1,Object.defineProperty(Qs,"__esModule",{value:!0}),Qs.getData=Qs.KeywordCxt=Qs.validateFunctionCode=void 0;const e=MPe(),t=U_(),n=A7(),r=U_(),i=LPe(),o=IPe(),a=kPe(),s=Sn(),l=_u(),f=i0(),d=Hn(),p=km();function g(fe){if(R(fe)&&(M(fe),P(fe))){E(fe);return}y(fe,()=>(0,e.topBoolOrEmptySchema)(fe))}Qs.validateFunctionCode=g;function y({gen:fe,validateName:V,schema:j,schemaEnv:ie,opts:me},Te){me.code.es5?fe.func(V,(0,s._)`${l.default.data}, ${l.default.valCxt}`,ie.$async,()=>{fe.code((0,s._)`"use strict"; ${w(j,me)}`),x(fe,me),fe.code(Te)}):fe.func(V,(0,s._)`${l.default.data}, ${b(me)}`,ie.$async,()=>fe.code(w(j,me)).code(Te))}function b(fe){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${fe.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function x(fe,V){fe.if(l.default.valCxt,()=>{fe.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),fe.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),fe.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),fe.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),V.dynamicRef&&fe.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{fe.var(l.default.instancePath,(0,s._)`""`),fe.var(l.default.parentData,(0,s._)`undefined`),fe.var(l.default.parentDataProperty,(0,s._)`undefined`),fe.var(l.default.rootData,l.default.data),V.dynamicRef&&fe.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function E(fe){const{schema:V,opts:j,gen:ie}=fe;y(fe,()=>{j.$comment&&V.$comment&&oe(fe),z(fe),ie.let(l.default.vErrors,null),ie.let(l.default.errors,0),j.unevaluated&&v(fe),W(fe),ue(fe)})}function v(fe){const{gen:V,validateName:j}=fe;fe.evaluated=V.const("evaluated",(0,s._)`${j}.evaluated`),V.if((0,s._)`${fe.evaluated}.dynamicProps`,()=>V.assign((0,s._)`${fe.evaluated}.props`,(0,s._)`undefined`)),V.if((0,s._)`${fe.evaluated}.dynamicItems`,()=>V.assign((0,s._)`${fe.evaluated}.items`,(0,s._)`undefined`))}function w(fe,V){const j=typeof fe=="object"&&fe[V.schemaId];return j&&(V.code.source||V.code.process)?(0,s._)`/*# sourceURL=${j} */`:s.nil}function C(fe,V){if(R(fe)&&(M(fe),P(fe))){k(fe,V);return}(0,e.boolOrEmptySchema)(fe,V)}function P({schema:fe,self:V}){if(typeof fe=="boolean")return!fe;for(const j in fe)if(V.RULES.all[j])return!0;return!1}function R(fe){return typeof fe.schema!="boolean"}function k(fe,V){const{schema:j,gen:ie,opts:me}=fe;me.$comment&&j.$comment&&oe(fe),H(fe),te(fe);const Te=ie.const("_errs",l.default.errors);W(fe,Te),ie.var(V,(0,s._)`${Te} === ${l.default.errors}`)}function M(fe){(0,d.checkUnknownRules)(fe),ee(fe)}function W(fe,V){if(fe.opts.jtd)return se(fe,[],!1,V);const j=(0,t.getSchemaTypes)(fe.schema),ie=(0,t.coerceAndCheckDataType)(fe,j);se(fe,j,!ie,V)}function ee(fe){const{schema:V,errSchemaPath:j,opts:ie,self:me}=fe;V.$ref&&ie.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(V,me.RULES)&&me.logger.warn(`$ref: keywords ignored in schema at path "${j}"`)}function z(fe){const{schema:V,opts:j}=fe;V.default!==void 0&&j.useDefaults&&j.strictSchema&&(0,d.checkStrictMode)(fe,"default is ignored in the schema root")}function H(fe){const V=fe.schema[fe.opts.schemaId];V&&(fe.baseId=(0,f.resolveUrl)(fe.opts.uriResolver,fe.baseId,V))}function te(fe){if(fe.schema.$async&&!fe.schemaEnv.$async)throw new Error("async schema in sync schema")}function oe({gen:fe,schemaEnv:V,schema:j,errSchemaPath:ie,opts:me}){const Te=j.$comment;if(me.$comment===!0)fe.code((0,s._)`${l.default.self}.logger.log(${Te})`);else if(typeof me.$comment=="function"){const Le=(0,s.str)`${ie}/$comment`,rt=fe.scopeValue("root",{ref:V.root});fe.code((0,s._)`${l.default.self}.opts.$comment(${Te}, ${Le}, ${rt}.schema)`)}}function ue(fe){const{gen:V,schemaEnv:j,validateName:ie,ValidationError:me,opts:Te}=fe;j.$async?V.if((0,s._)`${l.default.errors} === 0`,()=>V.return(l.default.data),()=>V.throw((0,s._)`new ${me}(${l.default.vErrors})`)):(V.assign((0,s._)`${ie}.errors`,l.default.vErrors),Te.unevaluated&&de(fe),V.return((0,s._)`${l.default.errors} === 0`))}function de({gen:fe,evaluated:V,props:j,items:ie}){j instanceof s.Name&&fe.assign((0,s._)`${V}.props`,j),ie instanceof s.Name&&fe.assign((0,s._)`${V}.items`,ie)}function se(fe,V,j,ie){const{gen:me,schema:Te,data:Le,allErrors:rt,opts:Ie,self:ye}=fe,{RULES:Ae}=ye;if(Te.$ref&&(Ie.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(Te,Ae))){me.block(()=>Ve(fe,"$ref",Ae.all.$ref.definition));return}Ie.jtd||re(fe,V),me.block(()=>{for(const tt of Ae.rules)Me(tt);Me(Ae.post)});function Me(tt){(0,n.shouldUseGroup)(Te,tt)&&(tt.type?(me.if((0,r.checkDataType)(tt.type,Le,Ie.strictNumbers)),pe(fe,tt),V.length===1&&V[0]===tt.type&&j&&(me.else(),(0,r.reportTypeError)(fe)),me.endIf()):pe(fe,tt),rt||me.if((0,s._)`${l.default.errors} === ${ie||0}`))}}function pe(fe,V){const{gen:j,schema:ie,opts:{useDefaults:me}}=fe;me&&(0,i.assignDefaults)(fe,V.type),j.block(()=>{for(const Te of V.rules)(0,n.shouldUseRule)(ie,Te)&&Ve(fe,Te.keyword,Te.definition,V.type)})}function re(fe,V){fe.schemaEnv.meta||!fe.opts.strictTypes||(Ee(fe,V),fe.opts.allowUnionTypes||$(fe,V),Q(fe,fe.dataTypes))}function Ee(fe,V){if(V.length){if(!fe.dataTypes.length){fe.dataTypes=V;return}V.forEach(j=>{G(fe.dataTypes,j)||ge(fe,`type "${j}" not allowed by context "${fe.dataTypes.join(",")}"`)}),X(fe,V)}}function $(fe,V){V.length>1&&!(V.length===2&&V.includes("null"))&&ge(fe,"use allowUnionTypes to allow union type keyword")}function Q(fe,V){const j=fe.self.RULES.all;for(const ie in j){const me=j[ie];if(typeof me=="object"&&(0,n.shouldUseRule)(fe.schema,me)){const{type:Te}=me.definition;Te.length&&!Te.some(Le=>ce(V,Le))&&ge(fe,`missing type "${Te.join(",")}" for keyword "${ie}"`)}}}function ce(fe,V){return fe.includes(V)||V==="number"&&fe.includes("integer")}function G(fe,V){return fe.includes(V)||V==="integer"&&fe.includes("number")}function X(fe,V){const j=[];for(const ie of fe.dataTypes)G(V,ie)?j.push(ie):V.includes("integer")&&ie==="number"&&j.push("integer");fe.dataTypes=j}function ge(fe,V){const j=fe.schemaEnv.baseId+fe.errSchemaPath;V+=` at "${j}" (strictTypes)`,(0,d.checkStrictMode)(fe,V,fe.opts.strictTypes)}class xe{constructor(V,j,ie){if((0,o.validateKeywordUsage)(V,j,ie),this.gen=V.gen,this.allErrors=V.allErrors,this.keyword=ie,this.data=V.data,this.schema=V.schema[ie],this.$data=j.$data&&V.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(V,this.schema,ie,this.$data),this.schemaType=j.schemaType,this.parentSchema=V.schema,this.params={},this.it=V,this.def=j,this.$data)this.schemaCode=V.gen.const("vSchema",Je(this.$data,V));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,j.schemaType,j.allowUndefined))throw new Error(`${ie} value must be ${JSON.stringify(j.schemaType)}`);("code"in j?j.trackErrors:j.errors!==!1)&&(this.errsCount=V.gen.const("_errs",l.default.errors))}result(V,j,ie){this.failResult((0,s.not)(V),j,ie)}failResult(V,j,ie){this.gen.if(V),ie?ie():this.error(),j?(this.gen.else(),j(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(V,j){this.failResult((0,s.not)(V),void 0,j)}fail(V){if(V===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(V),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(V){if(!this.$data)return this.fail(V);const{schemaCode:j}=this;this.fail((0,s._)`${j} !== undefined && (${(0,s.or)(this.invalid$data(),V)})`)}error(V,j,ie){if(j){this.setParams(j),this._error(V,ie),this.setParams({});return}this._error(V,ie)}_error(V,j){(V?p.reportExtraError:p.reportError)(this,this.def.error,j)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(V){this.allErrors||this.gen.if(V)}setParams(V,j){j?Object.assign(this.params,V):this.params=V}block$data(V,j,ie=s.nil){this.gen.block(()=>{this.check$data(V,ie),j()})}check$data(V=s.nil,j=s.nil){if(!this.$data)return;const{gen:ie,schemaCode:me,schemaType:Te,def:Le}=this;ie.if((0,s.or)((0,s._)`${me} === undefined`,j)),V!==s.nil&&ie.assign(V,!0),(Te.length||Le.validateSchema)&&(ie.elseIf(this.invalid$data()),this.$dataError(),V!==s.nil&&ie.assign(V,!1)),ie.else()}invalid$data(){const{gen:V,schemaCode:j,schemaType:ie,def:me,it:Te}=this;return(0,s.or)(Le(),rt());function Le(){if(ie.length){if(!(j instanceof s.Name))throw new Error("ajv implementation error");const Ie=Array.isArray(ie)?ie:[ie];return(0,s._)`${(0,r.checkDataTypes)(Ie,j,Te.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function rt(){if(me.validateSchema){const Ie=V.scopeValue("validate$data",{ref:me.validateSchema});return(0,s._)`!${Ie}(${j})`}return s.nil}}subschema(V,j){const ie=(0,a.getSubschema)(this.it,V);(0,a.extendSubschemaData)(ie,this.it,V),(0,a.extendSubschemaMode)(ie,V);const me={...this.it,...ie,items:void 0,props:void 0};return C(me,j),me}mergeEvaluated(V,j){const{it:ie,gen:me}=this;ie.opts.unevaluated&&(ie.props!==!0&&V.props!==void 0&&(ie.props=d.mergeEvaluated.props(me,V.props,ie.props,j)),ie.items!==!0&&V.items!==void 0&&(ie.items=d.mergeEvaluated.items(me,V.items,ie.items,j)))}mergeValidEvaluated(V,j){const{it:ie,gen:me}=this;if(ie.opts.unevaluated&&(ie.props!==!0||ie.items!==!0))return me.if(j,()=>this.mergeEvaluated(V,s.Name)),!0}}Qs.KeywordCxt=xe;function Ve(fe,V,j,ie){const me=new xe(fe,j,V);"code"in j?j.code(me,ie):me.$data&&j.validate?(0,o.funcKeywordCode)(me,j):"macro"in j?(0,o.macroKeywordCode)(me,j):(j.compile||j.validate)&&(0,o.funcKeywordCode)(me,j)}const Pe=/^\/(?:[^~]|~0|~1)*$/,Be=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Je(fe,{dataLevel:V,dataNames:j,dataPathArr:ie}){let me,Te;if(fe==="")return l.default.rootData;if(fe[0]==="/"){if(!Pe.test(fe))throw new Error(`Invalid JSON-pointer: ${fe}`);me=fe,Te=l.default.rootData}else{const ye=Be.exec(fe);if(!ye)throw new Error(`Invalid JSON-pointer: ${fe}`);const Ae=+ye[1];if(me=ye[2],me==="#"){if(Ae>=V)throw new Error(Ie("property/index",Ae));return ie[V-Ae]}if(Ae>V)throw new Error(Ie("data",Ae));if(Te=j[V-Ae],!me)return Te}let Le=Te;const rt=me.split("/");for(const ye of rt)ye&&(Te=(0,s._)`${Te}${(0,s.getProperty)((0,d.unescapeJsonPointer)(ye))}`,Le=(0,s._)`${Le} && ${Te}`);return Le;function Ie(ye,Ae){return`Cannot access ${ye} ${Ae} levels up, current level is ${V}`}}return Qs.getData=Je,Qs}var Fy={},a5;function KP(){if(a5)return Fy;a5=1,Object.defineProperty(Fy,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Fy.default=e,Fy}var jy={},s5;function o0(){if(s5)return jy;s5=1,Object.defineProperty(jy,"__esModule",{value:!0});const e=i0();class t extends Error{constructor(r,i,o,a){super(a||`can't resolve reference ${o} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,o),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return jy.default=t,jy}var jo={},u5;function GP(){if(u5)return jo;u5=1,Object.defineProperty(jo,"__esModule",{value:!0}),jo.resolveSchema=jo.getCompilingSchema=jo.resolveRef=jo.compileSchema=jo.SchemaEnv=void 0;const e=Sn(),t=KP(),n=_u(),r=i0(),i=Hn(),o=Dm();class a{constructor(v){var w;this.refs={},this.dynamicAnchors={};let C;typeof v.schema=="object"&&(C=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(w=v.baseId)!==null&&w!==void 0?w:(0,r.normalizeId)(C?.[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=C?.$async,this.refs={}}}jo.SchemaEnv=a;function s(E){const v=d.call(this,E);if(v)return v;const w=(0,r.getFullPath)(this.opts.uriResolver,E.root.baseId),{es5:C,lines:P}=this.opts.code,{ownProperties:R}=this.opts,k=new e.CodeGen(this.scope,{es5:C,lines:P,ownProperties:R});let M;E.$async&&(M=k.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const W=k.scopeName("validate");E.validateName=W;const ee={gen:k,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:k.scopeValue("schema",this.opts.code.source===!0?{ref:E.schema,code:(0,e.stringify)(E.schema)}:{ref:E.schema}),validateName:W,ValidationError:M,schema:E.schema,schemaEnv:E,rootId:w,baseId:E.baseId||w,schemaPath:e.nil,errSchemaPath:E.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let z;try{this._compilations.add(E),(0,o.validateFunctionCode)(ee),k.optimize(this.opts.code.optimize);const H=k.toString();z=`${k.scopeRefs(n.default.scope)}return ${H}`,this.opts.code.process&&(z=this.opts.code.process(z,E));const oe=new Function(`${n.default.self}`,`${n.default.scope}`,z)(this,this.scope.get());if(this.scope.value(W,{ref:oe}),oe.errors=null,oe.schema=E.schema,oe.schemaEnv=E,E.$async&&(oe.$async=!0),this.opts.code.source===!0&&(oe.source={validateName:W,validateCode:H,scopeValues:k._values}),this.opts.unevaluated){const{props:ue,items:de}=ee;oe.evaluated={props:ue instanceof e.Name?void 0:ue,items:de instanceof e.Name?void 0:de,dynamicProps:ue instanceof e.Name,dynamicItems:de instanceof e.Name},oe.source&&(oe.source.evaluated=(0,e.stringify)(oe.evaluated))}return E.validate=oe,E}catch(H){throw delete E.validate,delete E.validateName,z&&this.logger.error("Error compiling schema, function code:",z),H}finally{this._compilations.delete(E)}}jo.compileSchema=s;function l(E,v,w){var C;w=(0,r.resolveUrl)(this.opts.uriResolver,v,w);const P=E.refs[w];if(P)return P;let R=g.call(this,E,w);if(R===void 0){const k=(C=E.localRefs)===null||C===void 0?void 0:C[w],{schemaId:M}=this.opts;k&&(R=new a({schema:k,schemaId:M,root:E,baseId:v}))}if(R!==void 0)return E.refs[w]=f.call(this,R)}jo.resolveRef=l;function f(E){return(0,r.inlineRef)(E.schema,this.opts.inlineRefs)?E.schema:E.validate?E:s.call(this,E)}function d(E){for(const v of this._compilations)if(p(v,E))return v}jo.getCompilingSchema=d;function p(E,v){return E.schema===v.schema&&E.root===v.root&&E.baseId===v.baseId}function g(E,v){let w;for(;typeof(w=this.refs[v])=="string";)v=w;return w||this.schemas[v]||y.call(this,E,v)}function y(E,v){const w=this.opts.uriResolver.parse(v),C=(0,r._getFullPath)(this.opts.uriResolver,w);let P=(0,r.getFullPath)(this.opts.uriResolver,E.baseId,void 0);if(Object.keys(E.schema).length>0&&C===P)return x.call(this,w,E);const R=(0,r.normalizeId)(C),k=this.refs[R]||this.schemas[R];if(typeof k=="string"){const M=y.call(this,E,k);return typeof M?.schema!="object"?void 0:x.call(this,w,M)}if(typeof k?.schema=="object"){if(k.validate||s.call(this,k),R===(0,r.normalizeId)(v)){const{schema:M}=k,{schemaId:W}=this.opts,ee=M[W];return ee&&(P=(0,r.resolveUrl)(this.opts.uriResolver,P,ee)),new a({schema:M,schemaId:W,root:E,baseId:P})}return x.call(this,w,k)}}jo.resolveSchema=y;const b=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function x(E,{baseId:v,schema:w,root:C}){var P;if(((P=E.fragment)===null||P===void 0?void 0:P[0])!=="/")return;for(const M of E.fragment.slice(1).split("/")){if(typeof w=="boolean")return;const W=w[(0,i.unescapeFragment)(M)];if(W===void 0)return;w=W;const ee=typeof w=="object"&&w[this.opts.schemaId];!b.has(M)&&ee&&(v=(0,r.resolveUrl)(this.opts.uriResolver,v,ee))}let R;if(typeof w!="boolean"&&w.$ref&&!(0,i.schemaHasRulesButRef)(w,this.RULES)){const M=(0,r.resolveUrl)(this.opts.uriResolver,v,w.$ref);R=y.call(this,C,M)}const{schemaId:k}=this.opts;if(R=R||new a({schema:w,schemaId:k,root:C,baseId:v}),R.schema!==R.root.schema)return R}return jo}const NPe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",FPe="Meta-schema for $data reference (JSON AnySchema extension proposal)",jPe="object",UPe=["$data"],BPe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},$Pe=!1,zPe={$id:NPe,description:FPe,type:jPe,required:UPe,properties:BPe,additionalProperties:$Pe};var Uy={},op={exports:{}},IC,l5;function P7(){if(l5)return IC;l5=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),t=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function n(g){let y="",b=0,x=0;for(x=0;x<g.length;x++)if(b=g[x].charCodeAt(0),b!==48){if(!(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102))return"";y+=g[x];break}for(x+=1;x<g.length;x++){if(b=g[x].charCodeAt(0),!(b>=48&&b<=57||b>=65&&b<=70||b>=97&&b<=102))return"";y+=g[x]}return y}const r=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function i(g){return g.length=0,!0}function o(g,y,b){if(g.length){const x=n(g);if(x!=="")y.push(x);else return b.error=!0,!1;g.length=0}return!0}function a(g){let y=0;const b={error:!1,address:"",zone:""},x=[],E=[];let v=!1,w=!1,C=o;for(let P=0;P<g.length;P++){const R=g[P];if(!(R==="["||R==="]"))if(R===":"){if(v===!0&&(w=!0),!C(E,x,b))break;if(++y>7){b.error=!0;break}P>0&&g[P-1]===":"&&(v=!0),x.push(":");continue}else if(R==="%"){if(!C(E,x,b))break;C=i}else{E.push(R);continue}}return E.length&&(C===i?b.zone=E.join(""):w?x.push(E.join("")):x.push(n(E))),b.address=x.join(""),b}function s(g){if(l(g,":")<2)return{host:g,isIPV6:!1};const y=a(g);if(y.error)return{host:g,isIPV6:!1};{let b=y.address,x=y.address;return y.zone&&(b+="%"+y.zone,x+="%25"+y.zone),{host:b,isIPV6:!0,escapedHost:x}}}function l(g,y){let b=0;for(let x=0;x<g.length;x++)g[x]===y&&b++;return b}function f(g){let y=g;const b=[];let x=-1,E=0;for(;E=y.length;){if(E===1){if(y===".")break;if(y==="/"){b.push("/");break}else{b.push(y);break}}else if(E===2){if(y[0]==="."){if(y[1]===".")break;if(y[1]==="/"){y=y.slice(2);continue}}else if(y[0]==="/"&&(y[1]==="."||y[1]==="/")){b.push("/");break}}else if(E===3&&y==="/.."){b.length!==0&&b.pop(),b.push("/");break}if(y[0]==="."){if(y[1]==="."){if(y[2]==="/"){y=y.slice(3);continue}}else if(y[1]==="/"){y=y.slice(2);continue}}else if(y[0]==="/"&&y[1]==="."){if(y[2]==="/"){y=y.slice(2);continue}else if(y[2]==="."&&y[3]==="/"){y=y.slice(3),b.length!==0&&b.pop();continue}}if((x=y.indexOf("/",1))===-1){b.push(y);break}else b.push(y.slice(0,x)),y=y.slice(x)}return b.join("")}function d(g,y){const b=y!==!0?escape:unescape;return g.scheme!==void 0&&(g.scheme=b(g.scheme)),g.userinfo!==void 0&&(g.userinfo=b(g.userinfo)),g.host!==void 0&&(g.host=b(g.host)),g.path!==void 0&&(g.path=b(g.path)),g.query!==void 0&&(g.query=b(g.query)),g.fragment!==void 0&&(g.fragment=b(g.fragment)),g}function p(g){const y=[];if(g.userinfo!==void 0&&(y.push(g.userinfo),y.push("@")),g.host!==void 0){let b=unescape(g.host);if(!t(b)){const x=s(b);x.isIPV6===!0?b=`[${x.escapedHost}]`:b=g.host}y.push(b)}return(typeof g.port=="number"||typeof g.port=="string")&&(y.push(":"),y.push(String(g.port))),y.length?y.join(""):void 0}return IC={nonSimpleDomain:r,recomposeAuthority:p,normalizeComponentEncoding:d,removeDotSegments:f,isIPv4:t,isUUID:e,normalizeIPv6:s,stringArrayToHexStripped:n},IC}var kC,c5;function qPe(){if(c5)return kC;c5=1;const{isUUID:e}=P7(),t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,n=["http","https","ws","wss","urn","urn:uuid"];function r(R){return n.indexOf(R)!==-1}function i(R){return R.secure===!0?!0:R.secure===!1?!1:R.scheme?R.scheme.length===3&&(R.scheme[0]==="w"||R.scheme[0]==="W")&&(R.scheme[1]==="s"||R.scheme[1]==="S")&&(R.scheme[2]==="s"||R.scheme[2]==="S"):!1}function o(R){return R.host||(R.error=R.error||"HTTP URIs must have a host."),R}function a(R){const k=String(R.scheme).toLowerCase()==="https";return(R.port===(k?443:80)||R.port==="")&&(R.port=void 0),R.path||(R.path="/"),R}function s(R){return R.secure=i(R),R.resourceName=(R.path||"/")+(R.query?"?"+R.query:""),R.path=void 0,R.query=void 0,R}function l(R){if((R.port===(i(R)?443:80)||R.port==="")&&(R.port=void 0),typeof R.secure=="boolean"&&(R.scheme=R.secure?"wss":"ws",R.secure=void 0),R.resourceName){const[k,M]=R.resourceName.split("?");R.path=k&&k!=="/"?k:void 0,R.query=M,R.resourceName=void 0}return R.fragment=void 0,R}function f(R,k){if(!R.path)return R.error="URN can not be parsed",R;const M=R.path.match(t);if(M){const W=k.scheme||R.scheme||"urn";R.nid=M[1].toLowerCase(),R.nss=M[2];const ee=`${W}:${k.nid||R.nid}`,z=P(ee);R.path=void 0,z&&(R=z.parse(R,k))}else R.error=R.error||"URN can not be parsed.";return R}function d(R,k){if(R.nid===void 0)throw new Error("URN without nid cannot be serialized");const M=k.scheme||R.scheme||"urn",W=R.nid.toLowerCase(),ee=`${M}:${k.nid||W}`,z=P(ee);z&&(R=z.serialize(R,k));const H=R,te=R.nss;return H.path=`${W||k.nid}:${te}`,k.skipEscape=!0,H}function p(R,k){const M=R;return M.uuid=M.nss,M.nss=void 0,!k.tolerant&&(!M.uuid||!e(M.uuid))&&(M.error=M.error||"UUID is not valid."),M}function g(R){const k=R;return k.nss=(R.uuid||"").toLowerCase(),k}const y={scheme:"http",domainHost:!0,parse:o,serialize:a},b={scheme:"https",domainHost:y.domainHost,parse:o,serialize:a},x={scheme:"ws",domainHost:!0,parse:s,serialize:l},E={scheme:"wss",domainHost:x.domainHost,parse:x.parse,serialize:x.serialize},C={http:y,https:b,ws:x,wss:E,urn:{scheme:"urn",parse:f,serialize:d,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:p,serialize:g,skipNormalize:!0}};Object.setPrototypeOf(C,null);function P(R){return R&&(C[R]||C[R.toLowerCase()])||void 0}return kC={wsIsSecure:i,SCHEMES:C,isValidSchemeName:r,getSchemeHandler:P},kC}var f5;function HPe(){if(f5)return op.exports;f5=1;const{normalizeIPv6:e,removeDotSegments:t,recomposeAuthority:n,normalizeComponentEncoding:r,isIPv4:i,nonSimpleDomain:o}=P7(),{SCHEMES:a,getSchemeHandler:s}=qPe();function l(E,v){return typeof E=="string"?E=g(b(E,v),v):typeof E=="object"&&(E=b(g(E,v),v)),E}function f(E,v,w){const C=w?Object.assign({scheme:"null"},w):{scheme:"null"},P=d(b(E,C),b(v,C),C,!0);return C.skipEscape=!0,g(P,C)}function d(E,v,w,C){const P={};return C||(E=b(g(E,w),w),v=b(g(v,w),w)),w=w||{},!w.tolerant&&v.scheme?(P.scheme=v.scheme,P.userinfo=v.userinfo,P.host=v.host,P.port=v.port,P.path=t(v.path||""),P.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(P.userinfo=v.userinfo,P.host=v.host,P.port=v.port,P.path=t(v.path||""),P.query=v.query):(v.path?(v.path[0]==="/"?P.path=t(v.path):((E.userinfo!==void 0||E.host!==void 0||E.port!==void 0)&&!E.path?P.path="/"+v.path:E.path?P.path=E.path.slice(0,E.path.lastIndexOf("/")+1)+v.path:P.path=v.path,P.path=t(P.path)),P.query=v.query):(P.path=E.path,v.query!==void 0?P.query=v.query:P.query=E.query),P.userinfo=E.userinfo,P.host=E.host,P.port=E.port),P.scheme=E.scheme),P.fragment=v.fragment,P}function p(E,v,w){return typeof E=="string"?(E=unescape(E),E=g(r(b(E,w),!0),{...w,skipEscape:!0})):typeof E=="object"&&(E=g(r(E,!0),{...w,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=g(r(b(v,w),!0),{...w,skipEscape:!0})):typeof v=="object"&&(v=g(r(v,!0),{...w,skipEscape:!0})),E.toLowerCase()===v.toLowerCase()}function g(E,v){const w={host:E.host,scheme:E.scheme,userinfo:E.userinfo,port:E.port,path:E.path,query:E.query,nid:E.nid,nss:E.nss,uuid:E.uuid,fragment:E.fragment,reference:E.reference,resourceName:E.resourceName,secure:E.secure,error:""},C=Object.assign({},v),P=[],R=s(C.scheme||w.scheme);R&&R.serialize&&R.serialize(w,C),w.path!==void 0&&(C.skipEscape?w.path=unescape(w.path):(w.path=escape(w.path),w.scheme!==void 0&&(w.path=w.path.split("%3A").join(":")))),C.reference!=="suffix"&&w.scheme&&P.push(w.scheme,":");const k=n(w);if(k!==void 0&&(C.reference!=="suffix"&&P.push("//"),P.push(k),w.path&&w.path[0]!=="/"&&P.push("/")),w.path!==void 0){let M=w.path;!C.absolutePath&&(!R||!R.absolutePath)&&(M=t(M)),k===void 0&&M[0]==="/"&&M[1]==="/"&&(M="/%2F"+M.slice(2)),P.push(M)}return w.query!==void 0&&P.push("?",w.query),w.fragment!==void 0&&P.push("#",w.fragment),P.join("")}const y=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function b(E,v){const w=Object.assign({},v),C={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let P=!1;w.reference==="suffix"&&(w.scheme?E=w.scheme+":"+E:E="//"+E);const R=E.match(y);if(R){if(C.scheme=R[1],C.userinfo=R[3],C.host=R[4],C.port=parseInt(R[5],10),C.path=R[6]||"",C.query=R[7],C.fragment=R[8],isNaN(C.port)&&(C.port=R[5]),C.host)if(i(C.host)===!1){const W=e(C.host);C.host=W.host.toLowerCase(),P=W.isIPV6}else P=!0;C.scheme===void 0&&C.userinfo===void 0&&C.host===void 0&&C.port===void 0&&C.query===void 0&&!C.path?C.reference="same-document":C.scheme===void 0?C.reference="relative":C.fragment===void 0?C.reference="absolute":C.reference="uri",w.reference&&w.reference!=="suffix"&&w.reference!==C.reference&&(C.error=C.error||"URI is not a "+w.reference+" reference.");const k=s(w.scheme||C.scheme);if(!w.unicodeSupport&&(!k||!k.unicodeSupport)&&C.host&&(w.domainHost||k&&k.domainHost)&&P===!1&&o(C.host))try{C.host=URL.domainToASCII(C.host.toLowerCase())}catch(M){C.error=C.error||"Host's domain name can not be converted to ASCII: "+M}(!k||k&&!k.skipNormalize)&&(E.indexOf("%")!==-1&&(C.scheme!==void 0&&(C.scheme=unescape(C.scheme)),C.host!==void 0&&(C.host=unescape(C.host))),C.path&&(C.path=escape(unescape(C.path))),C.fragment&&(C.fragment=encodeURI(decodeURIComponent(C.fragment)))),k&&k.parse&&k.parse(C,w)}else C.error=C.error||"URI can not be parsed.";return C}const x={SCHEMES:a,normalize:l,resolve:f,resolveComponent:d,equal:p,serialize:g,parse:b};return op.exports=x,op.exports.default=x,op.exports.fastUri=x,op.exports}var d5;function VPe(){if(d5)return Uy;d5=1,Object.defineProperty(Uy,"__esModule",{value:!0});const e=HPe();return e.code='require("ajv/dist/runtime/uri").default',Uy.default=e,Uy}var h5;function KPe(){return h5||(h5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Dm();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=Sn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=KP(),i=o0(),o=T7(),a=GP(),s=Sn(),l=i0(),f=U_(),d=Hn(),p=zPe,g=VPe(),y=($,Q)=>new RegExp($,Q);y.code="new RegExp";const b=["removeAdditional","useDefaults","coerceTypes"],x=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),E={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},w=200;function C($){var Q,ce,G,X,ge,xe,Ve,Pe,Be,Je,fe,V,j,ie,me,Te,Le,rt,Ie,ye,Ae,Me,tt,mt,Ye;const qe=$.strict,ae=(Q=$.code)===null||Q===void 0?void 0:Q.optimize,K=ae===!0||ae===void 0?1:ae||0,Y=(G=(ce=$.code)===null||ce===void 0?void 0:ce.regExp)!==null&&G!==void 0?G:y,J=(X=$.uriResolver)!==null&&X!==void 0?X:g.default;return{strictSchema:(xe=(ge=$.strictSchema)!==null&&ge!==void 0?ge:qe)!==null&&xe!==void 0?xe:!0,strictNumbers:(Pe=(Ve=$.strictNumbers)!==null&&Ve!==void 0?Ve:qe)!==null&&Pe!==void 0?Pe:!0,strictTypes:(Je=(Be=$.strictTypes)!==null&&Be!==void 0?Be:qe)!==null&&Je!==void 0?Je:"log",strictTuples:(V=(fe=$.strictTuples)!==null&&fe!==void 0?fe:qe)!==null&&V!==void 0?V:"log",strictRequired:(ie=(j=$.strictRequired)!==null&&j!==void 0?j:qe)!==null&&ie!==void 0?ie:!1,code:$.code?{...$.code,optimize:K,regExp:Y}:{optimize:K,regExp:Y},loopRequired:(me=$.loopRequired)!==null&&me!==void 0?me:w,loopEnum:(Te=$.loopEnum)!==null&&Te!==void 0?Te:w,meta:(Le=$.meta)!==null&&Le!==void 0?Le:!0,messages:(rt=$.messages)!==null&&rt!==void 0?rt:!0,inlineRefs:(Ie=$.inlineRefs)!==null&&Ie!==void 0?Ie:!0,schemaId:(ye=$.schemaId)!==null&&ye!==void 0?ye:"$id",addUsedSchema:(Ae=$.addUsedSchema)!==null&&Ae!==void 0?Ae:!0,validateSchema:(Me=$.validateSchema)!==null&&Me!==void 0?Me:!0,validateFormats:(tt=$.validateFormats)!==null&&tt!==void 0?tt:!0,unicodeRegExp:(mt=$.unicodeRegExp)!==null&&mt!==void 0?mt:!0,int32range:(Ye=$.int32range)!==null&&Ye!==void 0?Ye:!0,uriResolver:J}}class P{constructor(Q={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,Q=this.opts={...Q,...C(Q)};const{es5:ce,lines:G}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:x,es5:ce,lines:G}),this.logger=te(Q.logger);const X=Q.validateFormats;Q.validateFormats=!1,this.RULES=(0,o.getRules)(),R.call(this,E,Q,"NOT SUPPORTED"),R.call(this,v,Q,"DEPRECATED","warn"),this._metaOpts=z.call(this),Q.formats&&W.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),Q.keywords&&ee.call(this,Q.keywords),typeof Q.meta=="object"&&this.addMetaSchema(Q.meta),M.call(this),Q.validateFormats=X}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:Q,meta:ce,schemaId:G}=this.opts;let X=p;G==="id"&&(X={...p},X.id=X.$id,delete X.$id),ce&&Q&&this.addMetaSchema(X,X[G],!1)}defaultMeta(){const{meta:Q,schemaId:ce}=this.opts;return this.opts.defaultMeta=typeof Q=="object"?Q[ce]||Q:void 0}validate(Q,ce){let G;if(typeof Q=="string"){if(G=this.getSchema(Q),!G)throw new Error(`no schema with key or ref "${Q}"`)}else G=this.compile(Q);const X=G(ce);return"$async"in G||(this.errors=G.errors),X}compile(Q,ce){const G=this._addSchema(Q,ce);return G.validate||this._compileSchemaEnv(G)}compileAsync(Q,ce){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:G}=this.opts;return X.call(this,Q,ce);async function X(Je,fe){await ge.call(this,Je.$schema);const V=this._addSchema(Je,fe);return V.validate||xe.call(this,V)}async function ge(Je){Je&&!this.getSchema(Je)&&await X.call(this,{$ref:Je},!0)}async function xe(Je){try{return this._compileSchemaEnv(Je)}catch(fe){if(!(fe instanceof i.default))throw fe;return Ve.call(this,fe),await Pe.call(this,fe.missingSchema),xe.call(this,Je)}}function Ve({missingSchema:Je,missingRef:fe}){if(this.refs[Je])throw new Error(`AnySchema ${Je} is loaded but ${fe} cannot be resolved`)}async function Pe(Je){const fe=await Be.call(this,Je);this.refs[Je]||await ge.call(this,fe.$schema),this.refs[Je]||this.addSchema(fe,Je,ce)}async function Be(Je){const fe=this._loading[Je];if(fe)return fe;try{return await(this._loading[Je]=G(Je))}finally{delete this._loading[Je]}}}addSchema(Q,ce,G,X=this.opts.validateSchema){if(Array.isArray(Q)){for(const xe of Q)this.addSchema(xe,void 0,G,X);return this}let ge;if(typeof Q=="object"){const{schemaId:xe}=this.opts;if(ge=Q[xe],ge!==void 0&&typeof ge!="string")throw new Error(`schema ${xe} must be string`)}return ce=(0,l.normalizeId)(ce||ge),this._checkUnique(ce),this.schemas[ce]=this._addSchema(Q,G,ce,X,!0),this}addMetaSchema(Q,ce,G=this.opts.validateSchema){return this.addSchema(Q,ce,!0,G),this}validateSchema(Q,ce){if(typeof Q=="boolean")return!0;let G;if(G=Q.$schema,G!==void 0&&typeof G!="string")throw new Error("$schema must be a string");if(G=G||this.opts.defaultMeta||this.defaultMeta(),!G)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const X=this.validate(G,Q);if(!X&&ce){const ge="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(ge);else throw new Error(ge)}return X}getSchema(Q){let ce;for(;typeof(ce=k.call(this,Q))=="string";)Q=ce;if(ce===void 0){const{schemaId:G}=this.opts,X=new a.SchemaEnv({schema:{},schemaId:G});if(ce=a.resolveSchema.call(this,X,Q),!ce)return;this.refs[Q]=ce}return ce.validate||this._compileSchemaEnv(ce)}removeSchema(Q){if(Q instanceof RegExp)return this._removeAllSchemas(this.schemas,Q),this._removeAllSchemas(this.refs,Q),this;switch(typeof Q){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const ce=k.call(this,Q);return typeof ce=="object"&&this._cache.delete(ce.schema),delete this.schemas[Q],delete this.refs[Q],this}case"object":{const ce=Q;this._cache.delete(ce);let G=Q[this.opts.schemaId];return G&&(G=(0,l.normalizeId)(G),delete this.schemas[G],delete this.refs[G]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(Q){for(const ce of Q)this.addKeyword(ce);return this}addKeyword(Q,ce){let G;if(typeof Q=="string")G=Q,typeof ce=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),ce.keyword=G);else if(typeof Q=="object"&&ce===void 0){if(ce=Q,G=ce.keyword,Array.isArray(G)&&!G.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ue.call(this,G,ce),!ce)return(0,d.eachItem)(G,ge=>de.call(this,ge)),this;pe.call(this,ce);const X={...ce,type:(0,f.getJSONTypes)(ce.type),schemaType:(0,f.getJSONTypes)(ce.schemaType)};return(0,d.eachItem)(G,X.type.length===0?ge=>de.call(this,ge,X):ge=>X.type.forEach(xe=>de.call(this,ge,X,xe))),this}getKeyword(Q){const ce=this.RULES.all[Q];return typeof ce=="object"?ce.definition:!!ce}removeKeyword(Q){const{RULES:ce}=this;delete ce.keywords[Q],delete ce.all[Q];for(const G of ce.rules){const X=G.rules.findIndex(ge=>ge.keyword===Q);X>=0&&G.rules.splice(X,1)}return this}addFormat(Q,ce){return typeof ce=="string"&&(ce=new RegExp(ce)),this.formats[Q]=ce,this}errorsText(Q=this.errors,{separator:ce=", ",dataVar:G="data"}={}){return!Q||Q.length===0?"No errors":Q.map(X=>`${G}${X.instancePath} ${X.message}`).reduce((X,ge)=>X+ce+ge)}$dataMetaSchema(Q,ce){const G=this.RULES.all;Q=JSON.parse(JSON.stringify(Q));for(const X of ce){const ge=X.split("/").slice(1);let xe=Q;for(const Ve of ge)xe=xe[Ve];for(const Ve in G){const Pe=G[Ve];if(typeof Pe!="object")continue;const{$data:Be}=Pe.definition,Je=xe[Ve];Be&&Je&&(xe[Ve]=Ee(Je))}}return Q}_removeAllSchemas(Q,ce){for(const G in Q){const X=Q[G];(!ce||ce.test(G))&&(typeof X=="string"?delete Q[G]:X&&!X.meta&&(this._cache.delete(X.schema),delete Q[G]))}}_addSchema(Q,ce,G,X=this.opts.validateSchema,ge=this.opts.addUsedSchema){let xe;const{schemaId:Ve}=this.opts;if(typeof Q=="object")xe=Q[Ve];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof Q!="boolean")throw new Error("schema must be object or boolean")}let Pe=this._cache.get(Q);if(Pe!==void 0)return Pe;G=(0,l.normalizeId)(xe||G);const Be=l.getSchemaRefs.call(this,Q,G);return Pe=new a.SchemaEnv({schema:Q,schemaId:Ve,meta:ce,baseId:G,localRefs:Be}),this._cache.set(Pe.schema,Pe),ge&&!G.startsWith("#")&&(G&&this._checkUnique(G),this.refs[G]=Pe),X&&this.validateSchema(Q,!0),Pe}_checkUnique(Q){if(this.schemas[Q]||this.refs[Q])throw new Error(`schema with key or id "${Q}" already exists`)}_compileSchemaEnv(Q){if(Q.meta?this._compileMetaSchema(Q):a.compileSchema.call(this,Q),!Q.validate)throw new Error("ajv implementation error");return Q.validate}_compileMetaSchema(Q){const ce=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,Q)}finally{this.opts=ce}}}P.ValidationError=r.default,P.MissingRefError=i.default,e.default=P;function R($,Q,ce,G="error"){for(const X in $){const ge=X;ge in Q&&this.logger[G](`${ce}: option ${X}. ${$[ge]}`)}}function k($){return $=(0,l.normalizeId)($),this.schemas[$]||this.refs[$]}function M(){const $=this.opts.schemas;if($)if(Array.isArray($))this.addSchema($);else for(const Q in $)this.addSchema($[Q],Q)}function W(){for(const $ in this.opts.formats){const Q=this.opts.formats[$];Q&&this.addFormat($,Q)}}function ee($){if(Array.isArray($)){this.addVocabulary($);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const Q in $){const ce=$[Q];ce.keyword||(ce.keyword=Q),this.addKeyword(ce)}}function z(){const $={...this.opts};for(const Q of b)delete $[Q];return $}const H={log(){},warn(){},error(){}};function te($){if($===!1)return H;if($===void 0)return console;if($.log&&$.warn&&$.error)return $;throw new Error("logger must implement log, warn and error methods")}const oe=/^[a-z_$][a-z0-9_$:-]*$/i;function ue($,Q){const{RULES:ce}=this;if((0,d.eachItem)($,G=>{if(ce.keywords[G])throw new Error(`Keyword ${G} is already defined`);if(!oe.test(G))throw new Error(`Keyword ${G} has invalid name`)}),!!Q&&Q.$data&&!("code"in Q||"validate"in Q))throw new Error('$data keyword must have "code" or "validate" function')}function de($,Q,ce){var G;const X=Q?.post;if(ce&&X)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ge}=this;let xe=X?ge.post:ge.rules.find(({type:Pe})=>Pe===ce);if(xe||(xe={type:ce,rules:[]},ge.rules.push(xe)),ge.keywords[$]=!0,!Q)return;const Ve={keyword:$,definition:{...Q,type:(0,f.getJSONTypes)(Q.type),schemaType:(0,f.getJSONTypes)(Q.schemaType)}};Q.before?se.call(this,xe,Ve,Q.before):xe.rules.push(Ve),ge.all[$]=Ve,(G=Q.implements)===null||G===void 0||G.forEach(Pe=>this.addKeyword(Pe))}function se($,Q,ce){const G=$.rules.findIndex(X=>X.keyword===ce);G>=0?$.rules.splice(G,0,Q):($.rules.push(Q),this.logger.warn(`rule ${ce} is not defined`))}function pe($){let{metaSchema:Q}=$;Q!==void 0&&($.$data&&this.opts.$data&&(Q=Ee(Q)),$.validateSchema=this.compile(Q,!0))}const re={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ee($){return{anyOf:[$,re]}}})(TC)),TC}var By={},$y={},zy={},p5;function GPe(){if(p5)return zy;p5=1,Object.defineProperty(zy,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return zy.default=e,zy}var Xu={},m5;function WPe(){if(m5)return Xu;m5=1,Object.defineProperty(Xu,"__esModule",{value:!0}),Xu.callRef=Xu.getValidate=void 0;const e=o0(),t=Ja(),n=Sn(),r=_u(),i=GP(),o=Hn(),a={keyword:"$ref",schemaType:"string",code(f){const{gen:d,schema:p,it:g}=f,{baseId:y,schemaEnv:b,validateName:x,opts:E,self:v}=g,{root:w}=b;if((p==="#"||p==="#/")&&y===w.baseId)return P();const C=i.resolveRef.call(v,w,y,p);if(C===void 0)throw new e.default(g.opts.uriResolver,y,p);if(C instanceof i.SchemaEnv)return R(C);return k(C);function P(){if(b===w)return l(f,x,b,b.$async);const M=d.scopeValue("root",{ref:w});return l(f,(0,n._)`${M}.validate`,w,w.$async)}function R(M){const W=s(f,M);l(f,W,M,M.$async)}function k(M){const W=d.scopeValue("schema",E.code.source===!0?{ref:M,code:(0,n.stringify)(M)}:{ref:M}),ee=d.name("valid"),z=f.subschema({schema:M,dataTypes:[],schemaPath:n.nil,topSchemaRef:W,errSchemaPath:p},ee);f.mergeEvaluated(z),f.ok(ee)}}};function s(f,d){const{gen:p}=f;return d.validate?p.scopeValue("validate",{ref:d.validate}):(0,n._)`${p.scopeValue("wrapper",{ref:d})}.validate`}Xu.getValidate=s;function l(f,d,p,g){const{gen:y,it:b}=f,{allErrors:x,schemaEnv:E,opts:v}=b,w=v.passContext?r.default.this:n.nil;g?C():P();function C(){if(!E.$async)throw new Error("async schema referenced by sync schema");const M=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,t.callValidateCode)(f,d,w)}`),k(d),x||y.assign(M,!0)},W=>{y.if((0,n._)`!(${W} instanceof ${b.ValidationError})`,()=>y.throw(W)),R(W),x||y.assign(M,!1)}),f.ok(M)}function P(){f.result((0,t.callValidateCode)(f,d,w),()=>k(d),()=>R(d))}function R(M){const W=(0,n._)`${M}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${W} : ${r.default.vErrors}.concat(${W})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function k(M){var W;if(!b.opts.unevaluated)return;const ee=(W=p?.validate)===null||W===void 0?void 0:W.evaluated;if(b.props!==!0)if(ee&&!ee.dynamicProps)ee.props!==void 0&&(b.props=o.mergeEvaluated.props(y,ee.props,b.props));else{const z=y.var("props",(0,n._)`${M}.evaluated.props`);b.props=o.mergeEvaluated.props(y,z,b.props,n.Name)}if(b.items!==!0)if(ee&&!ee.dynamicItems)ee.items!==void 0&&(b.items=o.mergeEvaluated.items(y,ee.items,b.items));else{const z=y.var("items",(0,n._)`${M}.evaluated.items`);b.items=o.mergeEvaluated.items(y,z,b.items,n.Name)}}}return Xu.callRef=l,Xu.default=a,Xu}var g5;function ZPe(){if(g5)return $y;g5=1,Object.defineProperty($y,"__esModule",{value:!0});const e=GPe(),t=WPe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return $y.default=n,$y}var qy={},Hy={},y5;function QPe(){if(y5)return Hy;y5=1,Object.defineProperty(Hy,"__esModule",{value:!0});const e=Sn(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:o,schemaCode:a})=>(0,e.str)`must be ${n[o].okStr} ${a}`,params:({keyword:o,schemaCode:a})=>(0,e._)`{comparison: ${n[o].okStr}, limit: ${a}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(o){const{keyword:a,data:s,schemaCode:l}=o;o.fail$data((0,e._)`${s} ${n[a].fail} ${l} || isNaN(${s})`)}};return Hy.default=i,Hy}var Vy={},v5;function JPe(){if(v5)return Vy;v5=1,Object.defineProperty(Vy,"__esModule",{value:!0});const e=Sn(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:o,schemaCode:a,it:s}=r,l=s.opts.multipleOfPrecision,f=i.let("res"),d=l?(0,e._)`Math.abs(Math.round(${f}) - ${f}) > 1e-${l}`:(0,e._)`${f} !== parseInt(${f})`;r.fail$data((0,e._)`(${a} === 0 || (${f} = ${o}/${a}, ${d}))`)}};return Vy.default=n,Vy}var Ky={},Gy={},_5;function YPe(){if(_5)return Gy;_5=1,Object.defineProperty(Gy,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,o;for(;i<n;)r++,o=t.charCodeAt(i++),o>=55296&&o<=56319&&i<n&&(o=t.charCodeAt(i),(o&64512)===56320&&i++);return r}return Gy.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',Gy}var w5;function XPe(){if(w5)return Ky;w5=1,Object.defineProperty(Ky,"__esModule",{value:!0});const e=Sn(),t=Hn(),n=YPe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:a}){const s=o==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${a} characters`},params:({schemaCode:o})=>(0,e._)`{limit: ${o}}`},code(o){const{keyword:a,data:s,schemaCode:l,it:f}=o,d=a==="maxLength"?e.operators.GT:e.operators.LT,p=f.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(o.gen,n.default)}(${s})`;o.fail$data((0,e._)`${p} ${d} ${l}`)}};return Ky.default=i,Ky}var Wy={},b5;function eOe(){if(b5)return Wy;b5=1,Object.defineProperty(Wy,"__esModule",{value:!0});const e=Ja(),t=Sn(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:o,$data:a,schema:s,schemaCode:l,it:f}=i,d=f.opts.unicodeRegExp?"u":"",p=a?(0,t._)`(new RegExp(${l}, ${d}))`:(0,e.usePattern)(i,s);i.fail$data((0,t._)`!${p}.test(${o})`)}};return Wy.default=r,Wy}var Zy={},S5;function tOe(){if(S5)return Zy;S5=1,Object.defineProperty(Zy,"__esModule",{value:!0});const e=Sn(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:a}=r,s=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${o}).length ${s} ${a}`)}};return Zy.default=n,Zy}var Qy={},x5;function nOe(){if(x5)return Qy;x5=1,Object.defineProperty(Qy,"__esModule",{value:!0});const e=Ja(),t=Sn(),n=Hn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,t.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,t._)`{missingProperty: ${o}}`},code(o){const{gen:a,schema:s,schemaCode:l,data:f,$data:d,it:p}=o,{opts:g}=p;if(!d&&s.length===0)return;const y=s.length>=g.loopRequired;if(p.allErrors?b():x(),g.strictRequired){const w=o.parentSchema.properties,{definedProperties:C}=o.it;for(const P of s)if(w?.[P]===void 0&&!C.has(P)){const R=p.schemaEnv.baseId+p.errSchemaPath,k=`required property "${P}" is not defined at "${R}" (strictRequired)`;(0,n.checkStrictMode)(p,k,p.opts.strictRequired)}}function b(){if(y||d)o.block$data(t.nil,E);else for(const w of s)(0,e.checkReportMissingProp)(o,w)}function x(){const w=a.let("missing");if(y||d){const C=a.let("valid",!0);o.block$data(C,()=>v(w,C)),o.ok(C)}else a.if((0,e.checkMissingProp)(o,s,w)),(0,e.reportMissingProp)(o,w),a.else()}function E(){a.forOf("prop",l,w=>{o.setParams({missingProperty:w}),a.if((0,e.noPropertyInData)(a,f,w,g.ownProperties),()=>o.error())})}function v(w,C){o.setParams({missingProperty:w}),a.forOf(w,l,()=>{a.assign(C,(0,e.propertyInData)(a,f,w,g.ownProperties)),a.if((0,t.not)(C),()=>{o.error(),a.break()})},t.nil)}}};return Qy.default=i,Qy}var Jy={},E5;function rOe(){if(E5)return Jy;E5=1,Object.defineProperty(Jy,"__esModule",{value:!0});const e=Sn(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const o=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:o,schemaCode:a}=r,s=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${o}.length ${s} ${a}`)}};return Jy.default=n,Jy}var Yy={},Xy={},C5;function WP(){if(C5)return Xy;C5=1,Object.defineProperty(Xy,"__esModule",{value:!0});const e=R7();return e.code='require("ajv/dist/runtime/equal").default',Xy.default=e,Xy}var T5;function iOe(){if(T5)return Yy;T5=1,Object.defineProperty(Yy,"__esModule",{value:!0});const e=U_(),t=Sn(),n=Hn(),r=WP(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${a} are identical)`,params:({params:{i:a,j:s}})=>(0,t._)`{i: ${a}, j: ${s}}`},code(a){const{gen:s,data:l,$data:f,schema:d,parentSchema:p,schemaCode:g,it:y}=a;if(!f&&!d)return;const b=s.let("valid"),x=p.items?(0,e.getSchemaTypes)(p.items):[];a.block$data(b,E,(0,t._)`${g} === false`),a.ok(b);function E(){const P=s.let("i",(0,t._)`${l}.length`),R=s.let("j");a.setParams({i:P,j:R}),s.assign(b,!0),s.if((0,t._)`${P} > 1`,()=>(v()?w:C)(P,R))}function v(){return x.length>0&&!x.some(P=>P==="object"||P==="array")}function w(P,R){const k=s.name("item"),M=(0,e.checkDataTypes)(x,k,y.opts.strictNumbers,e.DataType.Wrong),W=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${P}--;`,()=>{s.let(k,(0,t._)`${l}[${P}]`),s.if(M,(0,t._)`continue`),x.length>1&&s.if((0,t._)`typeof ${k} == "string"`,(0,t._)`${k} += "_"`),s.if((0,t._)`typeof ${W}[${k}] == "number"`,()=>{s.assign(R,(0,t._)`${W}[${k}]`),a.error(),s.assign(b,!1).break()}).code((0,t._)`${W}[${k}] = ${P}`)})}function C(P,R){const k=(0,n.useFunc)(s,r.default),M=s.name("outer");s.label(M).for((0,t._)`;${P}--;`,()=>s.for((0,t._)`${R} = ${P}; ${R}--;`,()=>s.if((0,t._)`${k}(${l}[${P}], ${l}[${R}])`,()=>{a.error(),s.assign(b,!1).break(M)})))}}};return Yy.default=o,Yy}var ev={},A5;function oOe(){if(A5)return ev;A5=1,Object.defineProperty(ev,"__esModule",{value:!0});const e=Sn(),t=Hn(),n=WP(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,e._)`{allowedValue: ${o}}`},code(o){const{gen:a,data:s,$data:l,schemaCode:f,schema:d}=o;l||d&&typeof d=="object"?o.fail$data((0,e._)`!${(0,t.useFunc)(a,n.default)}(${s}, ${f})`):o.fail((0,e._)`${d} !== ${s}`)}};return ev.default=i,ev}var tv={},R5;function aOe(){if(R5)return tv;R5=1,Object.defineProperty(tv,"__esModule",{value:!0});const e=Sn(),t=Hn(),n=WP(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,e._)`{allowedValues: ${o}}`},code(o){const{gen:a,data:s,$data:l,schema:f,schemaCode:d,it:p}=o;if(!l&&f.length===0)throw new Error("enum must have non-empty array");const g=f.length>=p.opts.loopEnum;let y;const b=()=>y??(y=(0,t.useFunc)(a,n.default));let x;if(g||l)x=a.let("valid"),o.block$data(x,E);else{if(!Array.isArray(f))throw new Error("ajv implementation error");const w=a.const("vSchema",d);x=(0,e.or)(...f.map((C,P)=>v(w,P)))}o.pass(x);function E(){a.assign(x,!1),a.forOf("v",d,w=>a.if((0,e._)`${b()}(${s}, ${w})`,()=>a.assign(x,!0).break()))}function v(w,C){const P=f[C];return typeof P=="object"&&P!==null?(0,e._)`${b()}(${s}, ${w}[${C}])`:(0,e._)`${s} === ${P}`}}};return tv.default=i,tv}var P5;function sOe(){if(P5)return qy;P5=1,Object.defineProperty(qy,"__esModule",{value:!0});const e=QPe(),t=JPe(),n=XPe(),r=eOe(),i=tOe(),o=nOe(),a=rOe(),s=iOe(),l=oOe(),f=aOe(),d=[e.default,t.default,n.default,r.default,i.default,o.default,a.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,f.default];return qy.default=d,qy}var nv={},zf={},O5;function O7(){if(O5)return zf;O5=1,Object.defineProperty(zf,"__esModule",{value:!0}),zf.validateAdditionalItems=void 0;const e=Sn(),t=Hn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{parentSchema:a,it:s}=o,{items:l}=a;if(!Array.isArray(l)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(o,l)}};function i(o,a){const{gen:s,schema:l,data:f,keyword:d,it:p}=o;p.items=!0;const g=s.const("len",(0,e._)`${f}.length`);if(l===!1)o.setParams({len:a.length}),o.pass((0,e._)`${g} <= ${a.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(p,l)){const b=s.var("valid",(0,e._)`${g} <= ${a.length}`);s.if((0,e.not)(b),()=>y(b)),o.ok(b)}function y(b){s.forRange("i",a.length,g,x=>{o.subschema({keyword:d,dataProp:x,dataPropType:t.Type.Num},b),p.allErrors||s.if((0,e.not)(b),()=>s.break())})}}return zf.validateAdditionalItems=i,zf.default=r,zf}var rv={},qf={},M5;function M7(){if(M5)return qf;M5=1,Object.defineProperty(qf,"__esModule",{value:!0}),qf.validateTuple=void 0;const e=Sn(),t=Hn(),n=Ja(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:a,it:s}=o;if(Array.isArray(a))return i(o,"additionalItems",a);s.items=!0,!(0,t.alwaysValidSchema)(s,a)&&o.ok((0,n.validateArray)(o))}};function i(o,a,s=o.schema){const{gen:l,parentSchema:f,data:d,keyword:p,it:g}=o;x(f),g.opts.unevaluated&&s.length&&g.items!==!0&&(g.items=t.mergeEvaluated.items(l,s.length,g.items));const y=l.name("valid"),b=l.const("len",(0,e._)`${d}.length`);s.forEach((E,v)=>{(0,t.alwaysValidSchema)(g,E)||(l.if((0,e._)`${b} > ${v}`,()=>o.subschema({keyword:p,schemaProp:v,dataProp:v},y)),o.ok(y))});function x(E){const{opts:v,errSchemaPath:w}=g,C=s.length,P=C===E.minItems&&(C===E.maxItems||E[a]===!1);if(v.strictTuples&&!P){const R=`"${p}" is ${C}-tuple, but minItems or maxItems/${a} are not specified or different at path "${w}"`;(0,t.checkStrictMode)(g,R,v.strictTuples)}}}return qf.validateTuple=i,qf.default=r,qf}var L5;function uOe(){if(L5)return rv;L5=1,Object.defineProperty(rv,"__esModule",{value:!0});const e=M7(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return rv.default=t,rv}var iv={},I5;function lOe(){if(I5)return iv;I5=1,Object.defineProperty(iv,"__esModule",{value:!0});const e=Sn(),t=Hn(),n=Ja(),r=O7(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{schema:s,parentSchema:l,it:f}=a,{prefixItems:d}=l;f.items=!0,!(0,t.alwaysValidSchema)(f,s)&&(d?(0,r.validateAdditionalItems)(a,d):a.ok((0,n.validateArray)(a)))}};return iv.default=o,iv}var ov={},k5;function cOe(){if(k5)return ov;k5=1,Object.defineProperty(ov,"__esModule",{value:!0});const e=Sn(),t=Hn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:o}})=>o===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${o} valid item(s)`,params:({params:{min:i,max:o}})=>o===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${o}}`},code(i){const{gen:o,schema:a,parentSchema:s,data:l,it:f}=i;let d,p;const{minContains:g,maxContains:y}=s;f.opts.next?(d=g===void 0?1:g,p=y):d=1;const b=o.const("len",(0,e._)`${l}.length`);if(i.setParams({min:d,max:p}),p===void 0&&d===0){(0,t.checkStrictMode)(f,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(p!==void 0&&d>p){(0,t.checkStrictMode)(f,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(f,a)){let C=(0,e._)`${b} >= ${d}`;p!==void 0&&(C=(0,e._)`${C} && ${b} <= ${p}`),i.pass(C);return}f.items=!0;const x=o.name("valid");p===void 0&&d===1?v(x,()=>o.if(x,()=>o.break())):d===0?(o.let(x,!0),p!==void 0&&o.if((0,e._)`${l}.length > 0`,E)):(o.let(x,!1),E()),i.result(x,()=>i.reset());function E(){const C=o.name("_valid"),P=o.let("count",0);v(C,()=>o.if(C,()=>w(P)))}function v(C,P){o.forRange("i",0,b,R=>{i.subschema({keyword:"contains",dataProp:R,dataPropType:t.Type.Num,compositeRule:!0},C),P()})}function w(C){o.code((0,e._)`${C}++`),p===void 0?o.if((0,e._)`${C} >= ${d}`,()=>o.assign(x,!0).break()):(o.if((0,e._)`${C} > ${p}`,()=>o.assign(x,!1).break()),d===1?o.assign(x,!0):o.if((0,e._)`${C} >= ${d}`,()=>o.assign(x,!0)))}}};return ov.default=r,ov}var DC={},D5;function fOe(){return D5||(D5=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=Sn(),n=Hn(),r=Ja();e.error={message:({params:{property:l,depsCount:f,deps:d}})=>{const p=f===1?"property":"properties";return(0,t.str)`must have ${p} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:f,deps:d,missingProperty:p}})=>(0,t._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${f},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[f,d]=o(l);a(l,f),s(l,d)}};function o({schema:l}){const f={},d={};for(const p in l){if(p==="__proto__")continue;const g=Array.isArray(l[p])?f:d;g[p]=l[p]}return[f,d]}function a(l,f=l.schema){const{gen:d,data:p,it:g}=l;if(Object.keys(f).length===0)return;const y=d.let("missing");for(const b in f){const x=f[b];if(x.length===0)continue;const E=(0,r.propertyInData)(d,p,b,g.opts.ownProperties);l.setParams({property:b,depsCount:x.length,deps:x.join(", ")}),g.allErrors?d.if(E,()=>{for(const v of x)(0,r.checkReportMissingProp)(l,v)}):(d.if((0,t._)`${E} && (${(0,r.checkMissingProp)(l,x,y)})`),(0,r.reportMissingProp)(l,y),d.else())}}e.validatePropertyDeps=a;function s(l,f=l.schema){const{gen:d,data:p,keyword:g,it:y}=l,b=d.name("valid");for(const x in f)(0,n.alwaysValidSchema)(y,f[x])||(d.if((0,r.propertyInData)(d,p,x,y.opts.ownProperties),()=>{const E=l.subschema({keyword:g,schemaProp:x},b);l.mergeValidEvaluated(E,b)},()=>d.var(b,!0)),l.ok(b))}e.validateSchemaDeps=s,e.default=i})(DC)),DC}var av={},N5;function dOe(){if(N5)return av;N5=1,Object.defineProperty(av,"__esModule",{value:!0});const e=Sn(),t=Hn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:o,schema:a,data:s,it:l}=i;if((0,t.alwaysValidSchema)(l,a))return;const f=o.name("valid");o.forIn("key",s,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},f),o.if((0,e.not)(f),()=>{i.error(!0),l.allErrors||o.break()})}),i.ok(f)}};return av.default=r,av}var sv={},F5;function L7(){if(F5)return sv;F5=1,Object.defineProperty(sv,"__esModule",{value:!0});const e=Ja(),t=Sn(),n=_u(),r=Hn(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,t._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:s,schema:l,parentSchema:f,data:d,errsCount:p,it:g}=a;if(!p)throw new Error("ajv implementation error");const{allErrors:y,opts:b}=g;if(g.props=!0,b.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(g,l))return;const x=(0,e.allSchemaProperties)(f.properties),E=(0,e.allSchemaProperties)(f.patternProperties);v(),a.ok((0,t._)`${p} === ${n.default.errors}`);function v(){s.forIn("key",d,k=>{!x.length&&!E.length?P(k):s.if(w(k),()=>P(k))})}function w(k){let M;if(x.length>8){const W=(0,r.schemaRefOrVal)(g,f.properties,"properties");M=(0,e.isOwnProperty)(s,W,k)}else x.length?M=(0,t.or)(...x.map(W=>(0,t._)`${k} === ${W}`)):M=t.nil;return E.length&&(M=(0,t.or)(M,...E.map(W=>(0,t._)`${(0,e.usePattern)(a,W)}.test(${k})`))),(0,t.not)(M)}function C(k){s.code((0,t._)`delete ${d}[${k}]`)}function P(k){if(b.removeAdditional==="all"||b.removeAdditional&&l===!1){C(k);return}if(l===!1){a.setParams({additionalProperty:k}),a.error(),y||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(g,l)){const M=s.name("valid");b.removeAdditional==="failing"?(R(k,M,!1),s.if((0,t.not)(M),()=>{a.reset(),C(k)})):(R(k,M),y||s.if((0,t.not)(M),()=>s.break()))}}function R(k,M,W){const ee={keyword:"additionalProperties",dataProp:k,dataPropType:r.Type.Str};W===!1&&Object.assign(ee,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(ee,M)}}};return sv.default=o,sv}var uv={},j5;function hOe(){if(j5)return uv;j5=1,Object.defineProperty(uv,"__esModule",{value:!0});const e=Dm(),t=Ja(),n=Hn(),r=L7(),i={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:a,schema:s,parentSchema:l,data:f,it:d}=o;d.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const p=(0,t.allSchemaProperties)(s);for(const E of p)d.definedProperties.add(E);d.opts.unevaluated&&p.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(a,(0,n.toHash)(p),d.props));const g=p.filter(E=>!(0,n.alwaysValidSchema)(d,s[E]));if(g.length===0)return;const y=a.name("valid");for(const E of g)b(E)?x(E):(a.if((0,t.propertyInData)(a,f,E,d.opts.ownProperties)),x(E),d.allErrors||a.else().var(y,!0),a.endIf()),o.it.definedProperties.add(E),o.ok(y);function b(E){return d.opts.useDefaults&&!d.compositeRule&&s[E].default!==void 0}function x(E){o.subschema({keyword:"properties",schemaProp:E,dataProp:E},y)}}};return uv.default=i,uv}var lv={},U5;function pOe(){if(U5)return lv;U5=1,Object.defineProperty(lv,"__esModule",{value:!0});const e=Ja(),t=Sn(),n=Hn(),r=Hn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:a,schema:s,data:l,parentSchema:f,it:d}=o,{opts:p}=d,g=(0,e.allSchemaProperties)(s),y=g.filter(P=>(0,n.alwaysValidSchema)(d,s[P]));if(g.length===0||y.length===g.length&&(!d.opts.unevaluated||d.props===!0))return;const b=p.strictSchema&&!p.allowMatchingProperties&&f.properties,x=a.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(a,d.props));const{props:E}=d;v();function v(){for(const P of g)b&&w(P),d.allErrors?C(P):(a.var(x,!0),C(P),a.if(x))}function w(P){for(const R in b)new RegExp(P).test(R)&&(0,n.checkStrictMode)(d,`property ${R} matches pattern ${P} (use allowMatchingProperties)`)}function C(P){a.forIn("key",l,R=>{a.if((0,t._)`${(0,e.usePattern)(o,P)}.test(${R})`,()=>{const k=y.includes(P);k||o.subschema({keyword:"patternProperties",schemaProp:P,dataProp:R,dataPropType:r.Type.Str},x),d.opts.unevaluated&&E!==!0?a.assign((0,t._)`${E}[${R}]`,!0):!k&&!d.allErrors&&a.if((0,t.not)(x),()=>a.break())})})}}};return lv.default=i,lv}var cv={},B5;function mOe(){if(B5)return cv;B5=1,Object.defineProperty(cv,"__esModule",{value:!0});const e=Hn(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:o}=n;if((0,e.alwaysValidSchema)(o,i)){n.fail();return}const a=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),n.failResult(a,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return cv.default=t,cv}var fv={},$5;function gOe(){if($5)return fv;$5=1,Object.defineProperty(fv,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ja().validateUnion,error:{message:"must match a schema in anyOf"}};return fv.default=t,fv}var dv={},z5;function yOe(){if(z5)return dv;z5=1,Object.defineProperty(dv,"__esModule",{value:!0});const e=Sn(),t=Hn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:o,schema:a,parentSchema:s,it:l}=i;if(!Array.isArray(a))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const f=a,d=o.let("valid",!1),p=o.let("passing",null),g=o.name("_valid");i.setParams({passing:p}),o.block(y),i.result(d,()=>i.reset(),()=>i.error(!0));function y(){f.forEach((b,x)=>{let E;(0,t.alwaysValidSchema)(l,b)?o.var(g,!0):E=i.subschema({keyword:"oneOf",schemaProp:x,compositeRule:!0},g),x>0&&o.if((0,e._)`${g} && ${d}`).assign(d,!1).assign(p,(0,e._)`[${p}, ${x}]`).else(),o.if(g,()=>{o.assign(d,!0),o.assign(p,x),E&&i.mergeEvaluated(E,e.Name)})})}}};return dv.default=r,dv}var hv={},q5;function vOe(){if(q5)return hv;q5=1,Object.defineProperty(hv,"__esModule",{value:!0});const e=Hn(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:o}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const a=r.name("valid");i.forEach((s,l)=>{if((0,e.alwaysValidSchema)(o,s))return;const f=n.subschema({keyword:"allOf",schemaProp:l},a);n.ok(a),n.mergeEvaluated(f)})}};return hv.default=t,hv}var pv={},H5;function _Oe(){if(H5)return pv;H5=1,Object.defineProperty(pv,"__esModule",{value:!0});const e=Sn(),t=Hn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,e.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,e._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:a,parentSchema:s,it:l}=o;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const f=i(l,"then"),d=i(l,"else");if(!f&&!d)return;const p=a.let("valid",!0),g=a.name("_valid");if(y(),o.reset(),f&&d){const x=a.let("ifClause");o.setParams({ifClause:x}),a.if(g,b("then",x),b("else",x))}else f?a.if(g,b("then")):a.if((0,e.not)(g),b("else"));o.pass(p,()=>o.error(!0));function y(){const x=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);o.mergeEvaluated(x)}function b(x,E){return()=>{const v=o.subschema({keyword:x},g);a.assign(p,g),o.mergeValidEvaluated(v,p),E?a.assign(E,(0,e._)`${x}`):o.setParams({ifClause:x})}}}};function i(o,a){const s=o.schema[a];return s!==void 0&&!(0,t.alwaysValidSchema)(o,s)}return pv.default=r,pv}var mv={},V5;function wOe(){if(V5)return mv;V5=1,Object.defineProperty(mv,"__esModule",{value:!0});const e=Hn(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return mv.default=t,mv}var K5;function bOe(){if(K5)return nv;K5=1,Object.defineProperty(nv,"__esModule",{value:!0});const e=O7(),t=uOe(),n=M7(),r=lOe(),i=cOe(),o=fOe(),a=dOe(),s=L7(),l=hOe(),f=pOe(),d=mOe(),p=gOe(),g=yOe(),y=vOe(),b=_Oe(),x=wOe();function E(v=!1){const w=[d.default,p.default,g.default,y.default,b.default,x.default,a.default,s.default,o.default,l.default,f.default];return v?w.push(t.default,r.default):w.push(e.default,n.default),w.push(i.default),w}return nv.default=E,nv}var gv={},yv={},G5;function SOe(){if(G5)return yv;G5=1,Object.defineProperty(yv,"__esModule",{value:!0});const e=Sn(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:o,data:a,$data:s,schema:l,schemaCode:f,it:d}=r,{opts:p,errSchemaPath:g,schemaEnv:y,self:b}=d;if(!p.validateFormats)return;s?x():E();function x(){const v=o.scopeValue("formats",{ref:b.formats,code:p.code.formats}),w=o.const("fDef",(0,e._)`${v}[${f}]`),C=o.let("fType"),P=o.let("format");o.if((0,e._)`typeof ${w} == "object" && !(${w} instanceof RegExp)`,()=>o.assign(C,(0,e._)`${w}.type || "string"`).assign(P,(0,e._)`${w}.validate`),()=>o.assign(C,(0,e._)`"string"`).assign(P,w)),r.fail$data((0,e.or)(R(),k()));function R(){return p.strictSchema===!1?e.nil:(0,e._)`${f} && !${P}`}function k(){const M=y.$async?(0,e._)`(${w}.async ? await ${P}(${a}) : ${P}(${a}))`:(0,e._)`${P}(${a})`,W=(0,e._)`(typeof ${P} == "function" ? ${M} : ${P}.test(${a}))`;return(0,e._)`${P} && ${P} !== true && ${C} === ${i} && !${W}`}}function E(){const v=b.formats[l];if(!v){R();return}if(v===!0)return;const[w,C,P]=k(v);w===i&&r.pass(M());function R(){if(p.strictSchema===!1){b.logger.warn(W());return}throw new Error(W());function W(){return`unknown format "${l}" ignored in schema at path "${g}"`}}function k(W){const ee=W instanceof RegExp?(0,e.regexpCode)(W):p.code.formats?(0,e._)`${p.code.formats}${(0,e.getProperty)(l)}`:void 0,z=o.scopeValue("formats",{key:l,ref:W,code:ee});return typeof W=="object"&&!(W instanceof RegExp)?[W.type||"string",W.validate,(0,e._)`${z}.validate`]:["string",W,z]}function M(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${P}(${a})`}return typeof C=="function"?(0,e._)`${P}(${a})`:(0,e._)`${P}.test(${a})`}}}};return yv.default=n,yv}var W5;function xOe(){if(W5)return gv;W5=1,Object.defineProperty(gv,"__esModule",{value:!0});const t=[SOe().default];return gv.default=t,gv}var lc={},Z5;function EOe(){return Z5||(Z5=1,Object.defineProperty(lc,"__esModule",{value:!0}),lc.contentVocabulary=lc.metadataVocabulary=void 0,lc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],lc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),lc}var Q5;function COe(){if(Q5)return By;Q5=1,Object.defineProperty(By,"__esModule",{value:!0});const e=ZPe(),t=sOe(),n=bOe(),r=xOe(),i=EOe(),o=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return By.default=o,By}var vv={},ap={},J5;function TOe(){if(J5)return ap;J5=1,Object.defineProperty(ap,"__esModule",{value:!0}),ap.DiscrError=void 0;var e;return(function(t){t.Tag="tag",t.Mapping="mapping"})(e||(ap.DiscrError=e={})),ap}var Y5;function AOe(){if(Y5)return vv;Y5=1,Object.defineProperty(vv,"__esModule",{value:!0});const e=Sn(),t=TOe(),n=GP(),r=o0(),i=Hn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:s,tagName:l}})=>s===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:s,tag:l,tagName:f}})=>(0,e._)`{error: ${s}, tag: ${f}, tagValue: ${l}}`},code(s){const{gen:l,data:f,schema:d,parentSchema:p,it:g}=s,{oneOf:y}=p;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const b=d.propertyName;if(typeof b!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!y)throw new Error("discriminator: requires oneOf keyword");const x=l.let("valid",!1),E=l.const("tag",(0,e._)`${f}${(0,e.getProperty)(b)}`);l.if((0,e._)`typeof ${E} == "string"`,()=>v(),()=>s.error(!1,{discrError:t.DiscrError.Tag,tag:E,tagName:b})),s.ok(x);function v(){const P=C();l.if(!1);for(const R in P)l.elseIf((0,e._)`${E} === ${R}`),l.assign(x,w(P[R]));l.else(),s.error(!1,{discrError:t.DiscrError.Mapping,tag:E,tagName:b}),l.endIf()}function w(P){const R=l.name("valid"),k=s.subschema({keyword:"oneOf",schemaProp:P},R);return s.mergeEvaluated(k,e.Name),R}function C(){var P;const R={},k=W(p);let M=!0;for(let H=0;H<y.length;H++){let te=y[H];if(te?.$ref&&!(0,i.schemaHasRulesButRef)(te,g.self.RULES)){const ue=te.$ref;if(te=n.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,ue),te instanceof n.SchemaEnv&&(te=te.schema),te===void 0)throw new r.default(g.opts.uriResolver,g.baseId,ue)}const oe=(P=te?.properties)===null||P===void 0?void 0:P[b];if(typeof oe!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${b}"`);M=M&&(k||W(te)),ee(oe,H)}if(!M)throw new Error(`discriminator: "${b}" must be required`);return R;function W({required:H}){return Array.isArray(H)&&H.includes(b)}function ee(H,te){if(H.const)z(H.const,te);else if(H.enum)for(const oe of H.enum)z(oe,te);else throw new Error(`discriminator: "properties/${b}" must have "const" or "enum"`)}function z(H,te){if(typeof H!="string"||H in R)throw new Error(`discriminator: "${b}" values must be unique strings`);R[H]=te}}}};return vv.default=a,vv}const ROe="http://json-schema.org/draft-07/schema#",POe="http://json-schema.org/draft-07/schema#",OOe="Core schema meta-schema",MOe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},LOe=["object","boolean"],IOe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},kOe={$schema:ROe,$id:POe,title:OOe,definitions:MOe,type:LOe,properties:IOe,default:!0};var X5;function ZP(){return X5||(X5=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=KPe(),r=COe(),i=AOe(),o=kOe,a=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(b=>this.addVocabulary(b)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const b=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(b,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var f=Dm();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var d=Sn();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var p=KP();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var g=o0();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return g.default}})})(Dy,Dy.exports)),Dy.exports}var DOe=ZP();const NOe=_r(DOe);var _v={exports:{}},e8;function FOe(){return e8||(e8=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=ZP(),r=Sn(),i=rm(),o=Dm(),a=km(),s=_u(),l="errorMessage",f=new n.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},p=/\$\{[^}]+\}/,g=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function b(E){return{keyword:l,schemaType:["string","object"],post:!0,code(v){const{gen:w,data:C,schema:P,schemaValue:R,it:k}=v;if(k.createErrors===!1)return;const M=P,W=r.strConcat(s.default.instancePath,k.errorPath);w.if(n._`${s.default.errors} > 0`,()=>{if(typeof M=="object"){const[G,X]=z(M);X&&H(X),G&&te(G),oe(ee(M))}const ce=typeof M=="string"?M:M._;ce&&ue(ce),E.keepErrors||de()});function ee({properties:ce,items:G}){const X={};if(ce){X.props={};for(const ge in ce)X.props[ge]=[]}if(G){X.items={};for(let ge=0;ge<G.length;ge++)X.items[ge]=[]}return X}function z(ce){let G,X;for(const ge in ce){if(ge==="properties"||ge==="items")continue;const xe=ce[ge];if(typeof xe=="object"){G||(G={});const Ve=G[ge]={};for(const Pe in xe)Ve[Pe]=[]}else X||(X={}),X[ge]=[]}return[G,X]}function H(ce){const G=w.const("emErrors",n.stringify(ce)),X=w.const("templates",Ee(ce,P));w.forOf("err",s.default.vErrors,Pe=>w.if(se(Pe,G),()=>w.code(n._`${G}[${Pe}.keyword].push(${Pe})`).assign(n._`${Pe}.${f}`,!0)));const{singleError:ge}=E;if(ge){const Pe=w.let("message",n._`""`),Be=w.let("paramsErrors",n._`[]`);xe(Je=>{w.if(Pe,()=>w.code(n._`${Pe} += ${typeof ge=="string"?ge:";"}`)),w.code(n._`${Pe} += ${Ve(Je)}`),w.assign(Be,n._`${Be}.concat(${G}[${Je}])`)}),a.reportError(v,{message:Pe,params:n._`{errors: ${Be}}`})}else xe(Pe=>a.reportError(v,{message:Ve(Pe),params:n._`{errors: ${G}[${Pe}]}`}));function xe(Pe){w.forIn("key",G,Be=>w.if(n._`${G}[${Be}].length`,()=>Pe(Be)))}function Ve(Pe){return n._`${Pe} in ${X} ? ${X}[${Pe}]() : ${R}[${Pe}]`}}function te(ce){const G=w.const("emErrors",n.stringify(ce)),X=[];for(const Be in ce)X.push([Be,Ee(ce[Be],P[Be])]);const ge=w.const("templates",w.object(...X)),xe=w.scopeValue("obj",{ref:d,code:n.stringify(d)}),Ve=w.let("emPropParams"),Pe=w.let("emParamsErrors");w.forOf("err",s.default.vErrors,Be=>w.if(se(Be,G),()=>{w.assign(Ve,n._`${xe}[${Be}.keyword]`),w.assign(Pe,n._`${G}[${Be}.keyword][${Be}.params[${Ve}]]`),w.if(Pe,()=>w.code(n._`${Pe}.push(${Be})`).assign(n._`${Be}.${f}`,!0))})),w.forIn("key",G,Be=>w.forIn("keyProp",n._`${G}[${Be}]`,Je=>{w.assign(Pe,n._`${G}[${Be}][${Je}]`),w.if(n._`${Pe}.length`,()=>{const fe=w.const("tmpl",n._`${ge}[${Be}] && ${ge}[${Be}][${Je}]`);a.reportError(v,{message:n._`${fe} ? ${fe}() : ${R}[${Be}][${Je}]`,params:n._`{errors: ${Pe}}`})})}))}function oe(ce){const{props:G,items:X}=ce;if(!G&&!X)return;const ge=n._`typeof ${C} == "object"`,xe=n._`Array.isArray(${C})`,Ve=w.let("emErrors");let Pe,Be;const Je=w.let("templates");G&&X?(Pe=w.let("emChildKwd"),w.if(ge),w.if(xe,()=>{fe(X,P.items),w.assign(Pe,n.str`items`)},()=>{fe(G,P.properties),w.assign(Pe,n.str`properties`)}),Be=n._`[${Pe}]`):X?(w.if(xe),fe(X,P.items),Be=n._`.items`):G&&(w.if(r.and(ge,r.not(xe))),fe(G,P.properties),Be=n._`.properties`),w.forOf("err",s.default.vErrors,V=>pe(V,Ve,j=>w.code(n._`${Ve}[${j}].push(${V})`).assign(n._`${V}.${f}`,!0))),w.forIn("key",Ve,V=>w.if(n._`${Ve}[${V}].length`,()=>{a.reportError(v,{message:n._`${V} in ${Je} ? ${Je}[${V}]() : ${R}${Be}[${V}]`,params:n._`{errors: ${Ve}[${V}]}`}),w.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${W} + "/" + ${V}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),w.endIf();function fe(V,j){w.assign(Ve,n.stringify(V)),w.assign(Je,Ee(V,j))}}function ue(ce){const G=w.const("emErrs",n._`[]`);w.forOf("err",s.default.vErrors,X=>w.if(re(X),()=>w.code(n._`${G}.push(${X})`).assign(n._`${X}.${f}`,!0))),w.if(n._`${G}.length`,()=>a.reportError(v,{message:$(ce),params:n._`{errors: ${G}}`}))}function de(){const ce=w.const("emErrs",n._`[]`);w.forOf("err",s.default.vErrors,G=>w.if(n._`!${G}.${f}`,()=>w.code(n._`${ce}.push(${G})`))),w.assign(s.default.vErrors,ce).assign(s.default.errors,n._`${ce}.length`)}function se(ce,G){return r.and(n._`${ce}.keyword !== ${l}`,n._`!${ce}.${f}`,n._`${ce}.instancePath === ${W}`,n._`${ce}.keyword in ${G}`,n._`${ce}.schemaPath.indexOf(${k.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${ce}.schemaPath.slice(${k.errSchemaPath.length}))`)}function pe(ce,G,X){w.if(r.and(n._`${ce}.keyword !== ${l}`,n._`!${ce}.${f}`,n._`${ce}.instancePath.indexOf(${W}) === 0`),()=>{const ge=w.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),xe=w.const("emMatches",n._`${ge}.exec(${ce}.instancePath.slice(${W}.length))`),Ve=w.const("emChild",n._`${xe} && ${xe}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);w.if(n._`${Ve} !== undefined && ${Ve} in ${G}`,()=>X(Ve))})}function re(ce){return r.and(n._`${ce}.keyword !== ${l}`,n._`!${ce}.${f}`,r.or(n._`${ce}.instancePath === ${W}`,r.and(n._`${ce}.instancePath.indexOf(${W}) === 0`,n._`${ce}.instancePath[${W}.length] === "/"`)),n._`${ce}.schemaPath.indexOf(${k.errSchemaPath}) === 0`,n._`${ce}.schemaPath[${k.errSchemaPath}.length] === "/"`)}function Ee(ce,G){const X=[];for(const ge in ce){const xe=G[ge];p.test(xe)&&X.push([ge,Q(xe)])}return w.object(...X)}function $(ce){return p.test(ce)?new i._Code(i.safeStringify(ce).replace(g,(G,X)=>`" + JSON.stringify(${o.getData(X,k)}) + "`).replace(y,"")):n.stringify(ce)}function Q(ce){return n._`function(){return ${$(ce)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const x=(E,v={})=>{if(!E.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(E.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return E.addKeyword(b(v))};t.default=x,e.exports=x,e.exports.default=x})(_v,_v.exports)),_v.exports}var jOe=FOe();const UOe=_r(jOe);var wv={exports:{}},NC={},t8;function BOe(){return t8||(t8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatNames=e.fastFormats=e.fullFormats=void 0;function t(H,te){return{validate:H,compare:te}}e.fullFormats={date:t(o,a),time:t(l(!0),f),"date-time":t(g(!0),y),"iso-time":t(l(),d),"iso-date-time":t(g(),b),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:z,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:C,int32:{type:"number",validate:k},int64:{type:"number",validate:M},float:{type:"number",validate:W},double:{type:"number",validate:W},password:!0,binary:!0},e.fastFormats={...e.fullFormats,date:t(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,f),"date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,y),"iso-time":t(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,d),"iso-date-time":t(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,b),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},e.formatNames=Object.keys(e.fullFormats);function n(H){return H%4===0&&(H%100!==0||H%400===0)}const r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,i=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(H){const te=r.exec(H);if(!te)return!1;const oe=+te[1],ue=+te[2],de=+te[3];return ue>=1&&ue<=12&&de>=1&&de<=(ue===2&&n(oe)?29:i[ue])}function a(H,te){if(H&&te)return H>te?1:H<te?-1:0}const s=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function l(H){return function(oe){const ue=s.exec(oe);if(!ue)return!1;const de=+ue[1],se=+ue[2],pe=+ue[3],re=ue[4],Ee=ue[5]==="-"?-1:1,$=+(ue[6]||0),Q=+(ue[7]||0);if($>23||Q>59||H&&!re)return!1;if(de<=23&&se<=59&&pe<60)return!0;const ce=se-Q*Ee,G=de-$*Ee-(ce<0?1:0);return(G===23||G===-1)&&(ce===59||ce===-1)&&pe<61}}function f(H,te){if(!(H&&te))return;const oe=new Date("2020-01-01T"+H).valueOf(),ue=new Date("2020-01-01T"+te).valueOf();if(oe&&ue)return oe-ue}function d(H,te){if(!(H&&te))return;const oe=s.exec(H),ue=s.exec(te);if(oe&&ue)return H=oe[1]+oe[2]+oe[3],te=ue[1]+ue[2]+ue[3],H>te?1:H<te?-1:0}const p=/t|\s/i;function g(H){const te=l(H);return function(ue){const de=ue.split(p);return de.length===2&&o(de[0])&&te(de[1])}}function y(H,te){if(!(H&&te))return;const oe=new Date(H).valueOf(),ue=new Date(te).valueOf();if(oe&&ue)return oe-ue}function b(H,te){if(!(H&&te))return;const[oe,ue]=H.split(p),[de,se]=te.split(p),pe=a(oe,de);if(pe!==void 0)return pe||f(ue,se)}const x=/\/|:/,E=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v(H){return x.test(H)&&E.test(H)}const w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function C(H){return w.lastIndex=0,w.test(H)}const P=-2147483648,R=2**31-1;function k(H){return Number.isInteger(H)&&H<=R&&H>=P}function M(H){return Number.isInteger(H)}function W(){return!0}const ee=/[^\\]\\Z/;function z(H){if(ee.test(H))return!1;try{return new RegExp(H),!0}catch{return!1}}})(NC)),NC}var FC={},n8;function $Oe(){return n8||(n8=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.formatLimitDefinition=void 0;const t=ZP(),n=Sn(),r=n.operators,i={formatMaximum:{okStr:"<=",ok:r.LTE,fail:r.GT},formatMinimum:{okStr:">=",ok:r.GTE,fail:r.LT},formatExclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},formatExclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},o={message:({keyword:s,schemaCode:l})=>(0,n.str)`should be ${i[s].okStr} ${l}`,params:({keyword:s,schemaCode:l})=>(0,n._)`{comparison: ${i[s].okStr}, limit: ${l}}`};e.formatLimitDefinition={keyword:Object.keys(i),type:"string",schemaType:"string",$data:!0,error:o,code(s){const{gen:l,data:f,schemaCode:d,keyword:p,it:g}=s,{opts:y,self:b}=g;if(!y.validateFormats)return;const x=new t.KeywordCxt(g,b.RULES.all.format.definition,"format");x.$data?E():v();function E(){const C=l.scopeValue("formats",{ref:b.formats,code:y.code.formats}),P=l.const("fmt",(0,n._)`${C}[${x.schemaCode}]`);s.fail$data((0,n.or)((0,n._)`typeof ${P} != "object"`,(0,n._)`${P} instanceof RegExp`,(0,n._)`typeof ${P}.compare != "function"`,w(P)))}function v(){const C=x.schema,P=b.formats[C];if(!P||P===!0)return;if(typeof P!="object"||P instanceof RegExp||typeof P.compare!="function")throw new Error(`"${p}": format "${C}" does not define "compare" function`);const R=l.scopeValue("formats",{key:C,ref:P,code:y.code.formats?(0,n._)`${y.code.formats}${(0,n.getProperty)(C)}`:void 0});s.fail$data(w(R))}function w(C){return(0,n._)`${C}.compare(${f}, ${d}) ${i[p].fail} 0`}},dependencies:["format"]};const a=s=>(s.addKeyword(e.formatLimitDefinition),s);e.default=a})(FC)),FC}var r8;function zOe(){return r8||(r8=1,(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=BOe(),r=$Oe(),i=Sn(),o=new i.Name("fullFormats"),a=new i.Name("fastFormats"),s=(f,d={keywords:!0})=>{if(Array.isArray(d))return l(f,d,n.fullFormats,o),f;const[p,g]=d.mode==="fast"?[n.fastFormats,a]:[n.fullFormats,o],y=d.formats||n.formatNames;return l(f,y,p,g),d.keywords&&(0,r.default)(f),f};s.get=(f,d="full")=>{const g=(d==="fast"?n.fastFormats:n.fullFormats)[f];if(!g)throw new Error(`Unknown format "${f}"`);return g};function l(f,d,p,g){var y,b;(y=(b=f.opts.code).formats)!==null&&y!==void 0||(b.formats=(0,i._)`require("ajv-formats/dist/formats").${g}`);for(const x of d)f.addFormat(x,p[x])}e.exports=t=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s})(wv,wv.exports)),wv.exports}var qOe=zOe();const HOe=_r(qOe);var VOe=function(e,t){for(var n={},r=function(a){a.keyword==="required"&&(a.instancePath+="/"+a.params.missingProperty);var s=a.instancePath.substring(1).replace(/\//g,".");if(n[s]||(n[s]={message:a.message,type:a.keyword}),t){var l=n[s].types,f=l&&l[a.keyword];n[s]=a7(s,t,n,a.keyword,f?[].concat(f,a.message||""):a.message)}},i=function(){var a=e[o];a.keyword==="errorMessage"?a.params.errors.forEach(function(s){s.message=a.message,r(s)}):r(a)},o=0;o<e.length;o+=1)i();return n},I7=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{var a=new NOe(Object.assign({},{allErrors:!0,validateSchema:!0},t));UOe(a),HOe(a);var s=a.compile(Object.assign({$async:n&&n.mode==="async"},e)),l=s(r);return o.shouldUseNativeValidation&&C7({},o),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:PPe(VOe(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)})}catch(f){return Promise.reject(f)}}};const KOe="_list_fgw4_1",GOe="_trigger_fgw4_5",WOe="_edited_fgw4_12",ZOe="_empty_fgw4_15",mc={list:KOe,trigger:GOe,edited:WOe,empty:ZOe},QOe="_input_17zzx_1",JOe="_dialogOverlay_17zzx_5",YOe="_dialogContent_17zzx_12",XOe="_localeToggleGroup_17zzx_31",eMe="_item_17zzx_35",tMe="_controls_17zzx_38",dc={input:QOe,dialogOverlay:JOe,dialogContent:YOe,localeToggleGroup:XOe,item:eMe,controls:tMe},k7=({name:e,locale:t,value:n,onChange:r,onBlur:i,ref:o,initialData:a,className:s,...l})=>{const f=B.useMemo(()=>[...new Set([...Object.keys(n),t])].sort(I$([t])),[t,n]),[d,p]=B.useState(t);return B.useEffect(()=>{n?.[d]===void 0&&r({[d]:"",...n})},[r,d,n]),U.jsxs(vP,{value:d,onValueChange:p,children:[U.jsxs(_P,{className:mc.list,children:[f.map(g=>U.jsx(wP,{value:g,className:Fn(mc.trigger,{[mc.edited]:a?.[g]?n[g]!==a[g]:n[g],[mc.empty]:!n[g]}),children:g},g)),U.jsx(rMe,{className:mc.trigger,onConfirm:g=>{g&&!f.includes(g)&&r({[g]:"",...n}),g&&p(g)}})]}),f.map(g=>U.jsx(bP,{value:g,children:U.jsx("textarea",{name:`${e}.${g}`,value:n[g],onChange:y=>{r({...n,[g]:y.target.value})},className:Fn(dc.input,s),onBlur:i,ref:o,...l})},g))]})},nMe={type:"object",required:["locale"],properties:{locale:{type:"string",minLength:2,pattern:"^[a-z]{2}(?:-[A-Z]{2})?$"}}},rMe=({onConfirm:e,...t})=>{const{locales:n}=Mn(),{i18n:r,_:i}=Fr(),[o,a]=B.useState(!1),{register:s,handleSubmit:l,control:f,watch:d,formState:p}=Ps({resolver:I7(nMe)}),g=l(({locale:b},x)=>(x?.stopPropagation(),e(b),a(!1),!1)),y=d("locale");return U.jsxs(ybe,{open:o,onOpenChange:a,children:[U.jsx(vbe,{asChild:!0,children:U.jsx("button",{type:"button",...t,children:"+"})}),U.jsxs(_be,{children:[U.jsx(wbe,{className:dc.dialogOverlay}),U.jsxs(bbe,{className:dc.dialogContent,children:[U.jsx(Sbe,{className:dc.dialogTitle,children:U.jsx(_t,{id:"uLvjiZ"})}),U.jsx(N_,{control:f,name:"locale",render:({field:b})=>U.jsxs(bSe,{type:"single",value:b.value,onValueChange:b.onChange,className:dc.localeToggleGroup,children:[n.map(x=>U.jsx(SSe,{value:x,className:dc.item,children:x},x)),U.jsx("input",{type:"text",size:2,placeholder:r._({id:"1Lxtdt"}),...s("locale")})]})}),U.jsxs("div",{className:dc.controls,children:[U.jsx(xbe,{asChild:!0,children:U.jsx(Yn,{tertiary:!0,children:U.jsx(_t,{id:"dEgA5A"})})}),U.jsx(Yn,{primary:!0,onClick:g,disabled:!p.isValid,children:U.jsx(_t,{id:"k4QqVn",values:{locale:y}})})]})]})]})]})},ws=async(e,{success:t,error:n,pending:r},i)=>(wr.promise(e,{success:t,error:n??{render:({data:o})=>U.jsxs(U.Fragment,{children:[U.jsx(_t,{id:"kf83Ld"}),U.jsx("br",{}),o.message]}),autoClose:!1},pending:r},i),await e);var jC,i8;function iMe(){if(i8)return jC;i8=1;var e=Wa(),t=function(){return e.Date.now()};return jC=t,jC}var UC,o8;function oMe(){if(o8)return UC;o8=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return UC=t,UC}var BC,a8;function aMe(){if(a8)return BC;a8=1;var e=oMe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return BC=n,BC}var $C,s8;function sMe(){if(s8)return $C;s8=1;var e=aMe(),t=Ea(),n=Cm(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function l(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var d=typeof f.valueOf=="function"?f.valueOf():f;f=t(d)?d+"":d}if(typeof f!="string")return f===0?f:+f;f=e(f);var p=o.test(f);return p||a.test(f)?s(f.slice(2),p?2:8):i.test(f)?r:+f}return $C=l,$C}var zC,u8;function uMe(){if(u8)return zC;u8=1;var e=Ea(),t=iMe(),n=sMe(),r="Expected a function",i=Math.max,o=Math.min;function a(s,l,f){var d,p,g,y,b,x,E=0,v=!1,w=!1,C=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(f)&&(v=!!f.leading,w="maxWait"in f,g=w?i(n(f.maxWait)||0,l):g,C="trailing"in f?!!f.trailing:C);function P(oe){var ue=d,de=p;return d=p=void 0,E=oe,y=s.apply(de,ue),y}function R(oe){return E=oe,b=setTimeout(W,l),v?P(oe):y}function k(oe){var ue=oe-x,de=oe-E,se=l-ue;return w?o(se,g-de):se}function M(oe){var ue=oe-x,de=oe-E;return x===void 0||ue>=l||ue<0||w&&de>=g}function W(){var oe=t();if(M(oe))return ee(oe);b=setTimeout(W,k(oe))}function ee(oe){return b=void 0,C&&d?P(oe):(d=p=void 0,y)}function z(){b!==void 0&&clearTimeout(b),E=0,d=x=p=b=void 0}function H(){return b===void 0?y:ee(t())}function te(){var oe=t(),ue=M(oe);if(d=arguments,p=this,x=oe,ue){if(b===void 0)return R(x);if(w)return clearTimeout(b),b=setTimeout(W,l),P(x)}return b===void 0&&(b=setTimeout(W,l)),y}return te.cancel=z,te.flush=H,te}return zC=a,zC}var lMe=uMe();const cMe=_r(lMe);function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function fMe(e,t){if(Lc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D7(e){var t=fMe(e,"string");return Lc(t)=="symbol"?t:t+""}function wp(e,t,n){return(t=D7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l8(Object(n),!0).forEach(function(r){wp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dMe(e){if(Array.isArray(e))return e}function hMe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,f=!1;try{if(o=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){f=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return s}}function dA(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function N7(e,t){if(e){if(typeof e=="string")return dA(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dA(e,t):void 0}}function pMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iu(e,t){return dMe(e)||hMe(e,t)||N7(e,t)||pMe()}function mMe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function wu(e,t){if(e==null)return{};var n,r,i=mMe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var gMe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function yMe(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,o=e.defaultValue,a=o===void 0?null:o,s=e.inputValue,l=e.menuIsOpen,f=e.onChange,d=e.onInputChange,p=e.onMenuClose,g=e.onMenuOpen,y=e.value,b=wu(e,gMe),x=B.useState(s!==void 0?s:n),E=iu(x,2),v=E[0],w=E[1],C=B.useState(l!==void 0?l:i),P=iu(C,2),R=P[0],k=P[1],M=B.useState(y!==void 0?y:a),W=iu(M,2),ee=W[0],z=W[1],H=B.useCallback(function(re,Ee){typeof f=="function"&&f(re,Ee),z(re)},[f]),te=B.useCallback(function(re,Ee){var $;typeof d=="function"&&($=d(re,Ee)),w($!==void 0?$:re)},[d]),oe=B.useCallback(function(){typeof g=="function"&&g(),k(!0)},[g]),ue=B.useCallback(function(){typeof p=="function"&&p(),k(!1)},[p]),de=s!==void 0?s:v,se=l!==void 0?l:R,pe=y!==void 0?y:ee;return rn(rn({},b),{},{inputValue:de,menuIsOpen:se,onChange:H,onInputChange:te,onMenuClose:ue,onMenuOpen:oe,value:pe})}function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(null,arguments)}function vMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,D7(r.key),r)}}function _Me(e,t,n){return t&&c8(e.prototype,t),n&&c8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hA(e,t){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},hA(e,t)}function wMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hA(e,t)}function B_(e){return B_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B_(e)}function F7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F7=function(){return!!e})()}function bMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SMe(e,t){if(t&&(Lc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bMe(e)}function xMe(e){var t=F7();return function(){var n,r=B_(e);if(t){var i=B_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SMe(this,n)}}function EMe(e){if(Array.isArray(e))return dA(e)}function CMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QP(e){return EMe(e)||CMe(e)||N7(e)||TMe()}function AMe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function RMe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var PMe=(function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(RMe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=AMe(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e})(),Hi="-ms-",$_="-moz-",Gn="-webkit-",j7="comm",JP="rule",YP="decl",OMe="@import",U7="@keyframes",MMe="@layer",LMe=Math.abs,a0=String.fromCharCode,IMe=Object.assign;function kMe(e,t){return Fi(e,0)^45?(((t<<2^Fi(e,0))<<2^Fi(e,1))<<2^Fi(e,2))<<2^Fi(e,3):0}function B7(e){return e.trim()}function DMe(e,t){return(e=t.exec(e))?e[0]:e}function Wn(e,t,n){return e.replace(t,n)}function pA(e,t){return e.indexOf(t)}function Fi(e,t){return e.charCodeAt(t)|0}function im(e,t,n){return e.slice(t,n)}function ps(e){return e.length}function XP(e){return e.length}function bv(e,t){return t.push(e),e}function NMe(e,t){return e.map(t).join("")}var s0=1,wd=1,$7=0,Ro=0,ri=0,qd="";function u0(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:s0,column:wd,length:a,return:""}}function sp(e,t){return IMe(u0("",null,null,"",null,null,0),e,{length:-e.length},t)}function FMe(){return ri}function jMe(){return ri=Ro>0?Fi(qd,--Ro):0,wd--,ri===10&&(wd=1,s0--),ri}function Jo(){return ri=Ro<$7?Fi(qd,Ro++):0,wd++,ri===10&&(wd=1,s0++),ri}function xs(){return Fi(qd,Ro)}function Jv(){return Ro}function Nm(e,t){return im(qd,e,t)}function om(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z7(e){return s0=wd=1,$7=ps(qd=e),Ro=0,[]}function q7(e){return qd="",e}function Yv(e){return B7(Nm(Ro-1,mA(e===91?e+2:e===40?e+1:e)))}function UMe(e){for(;(ri=xs())&&ri<33;)Jo();return om(e)>2||om(ri)>3?"":" "}function BMe(e,t){for(;--t&&Jo()&&!(ri<48||ri>102||ri>57&&ri<65||ri>70&&ri<97););return Nm(e,Jv()+(t<6&&xs()==32&&Jo()==32))}function mA(e){for(;Jo();)switch(ri){case e:return Ro;case 34:case 39:e!==34&&e!==39&&mA(ri);break;case 40:e===41&&mA(e);break;case 92:Jo();break}return Ro}function $Me(e,t){for(;Jo()&&e+ri!==57;)if(e+ri===84&&xs()===47)break;return"/*"+Nm(t,Ro-1)+"*"+a0(e===47?e:Jo())}function zMe(e){for(;!om(xs());)Jo();return Nm(e,Ro)}function qMe(e){return q7(Xv("",null,null,null,[""],e=z7(e),0,[0],e))}function Xv(e,t,n,r,i,o,a,s,l){for(var f=0,d=0,p=a,g=0,y=0,b=0,x=1,E=1,v=1,w=0,C="",P=i,R=o,k=r,M=C;E;)switch(b=w,w=Jo()){case 40:if(b!=108&&Fi(M,p-1)==58){pA(M+=Wn(Yv(w),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:M+=Yv(w);break;case 9:case 10:case 13:case 32:M+=UMe(b);break;case 92:M+=BMe(Jv()-1,7);continue;case 47:switch(xs()){case 42:case 47:bv(HMe($Me(Jo(),Jv()),t,n),l);break;default:M+="/"}break;case 123*x:s[f++]=ps(M)*v;case 125*x:case 59:case 0:switch(w){case 0:case 125:E=0;case 59+d:v==-1&&(M=Wn(M,/\f/g,"")),y>0&&ps(M)-p&&bv(y>32?d8(M+";",r,n,p-1):d8(Wn(M," ","")+";",r,n,p-2),l);break;case 59:M+=";";default:if(bv(k=f8(M,t,n,f,d,i,s,C,P=[],R=[],p),o),w===123)if(d===0)Xv(M,t,k,k,P,o,p,s,R);else switch(g===99&&Fi(M,3)===110?100:g){case 100:case 108:case 109:case 115:Xv(e,k,k,r&&bv(f8(e,k,k,0,0,i,s,C,i,P=[],p),R),i,R,p,s,r?P:R);break;default:Xv(M,k,k,k,[""],R,0,s,R)}}f=d=y=0,x=v=1,C=M="",p=a;break;case 58:p=1+ps(M),y=b;default:if(x<1){if(w==123)--x;else if(w==125&&x++==0&&jMe()==125)continue}switch(M+=a0(w),w*x){case 38:v=d>0?1:(M+="\f",-1);break;case 44:s[f++]=(ps(M)-1)*v,v=1;break;case 64:xs()===45&&(M+=Yv(Jo())),g=xs(),d=p=ps(C=M+=zMe(Jv())),w++;break;case 45:b===45&&ps(M)==2&&(x=0)}}return o}function f8(e,t,n,r,i,o,a,s,l,f,d){for(var p=i-1,g=i===0?o:[""],y=XP(g),b=0,x=0,E=0;b<r;++b)for(var v=0,w=im(e,p+1,p=LMe(x=a[b])),C=e;v<y;++v)(C=B7(x>0?g[v]+" "+w:Wn(w,/&\f/g,g[v])))&&(l[E++]=C);return u0(e,t,n,i===0?JP:s,l,f,d)}function HMe(e,t,n){return u0(e,t,n,j7,a0(FMe()),im(e,2,-2),0)}function d8(e,t,n,r){return u0(e,t,n,YP,im(e,0,r),im(e,r+1,-1),r)}function cd(e,t){for(var n="",r=XP(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function VMe(e,t,n,r){switch(e.type){case MMe:if(e.children.length)break;case OMe:case YP:return e.return=e.return||e.value;case j7:return"";case U7:return e.return=e.value+"{"+cd(e.children,r)+"}";case JP:e.value=e.props.join(",")}return ps(n=cd(e.children,r))?e.return=e.value+"{"+n+"}":""}function KMe(e){var t=XP(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}function GMe(e){return function(t){t.root||(t=t.return)&&e(t)}}function WMe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var ZMe=function(t,n,r){for(var i=0,o=0;i=o,o=xs(),i===38&&o===12&&(n[r]=1),!om(o);)Jo();return Nm(t,Ro)},QMe=function(t,n){var r=-1,i=44;do switch(om(i)){case 0:i===38&&xs()===12&&(n[r]=1),t[r]+=ZMe(Ro-1,n,r);break;case 2:t[r]+=Yv(i);break;case 4:if(i===44){t[++r]=xs()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=a0(i)}while(i=Jo());return t},JMe=function(t,n){return q7(QMe(z7(t),n))},h8=new WeakMap,YMe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!h8.get(r))&&!i){h8.set(t,!0);for(var o=[],a=JMe(n,o),s=r.props,l=0,f=0;l<a.length;l++)for(var d=0;d<s.length;d++,f++)t.props[f]=o[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},XMe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function H7(e,t){switch(kMe(e,t)){case 5103:return Gn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+e+$_+e+Hi+e+e;case 6828:case 4268:return Gn+e+Hi+e+e;case 6165:return Gn+e+Hi+"flex-"+e+e;case 5187:return Gn+e+Wn(e,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+Hi+"flex-$1$2")+e;case 5443:return Gn+e+Hi+"flex-item-"+Wn(e,/flex-|-self/,"")+e;case 4675:return Gn+e+Hi+"flex-line-pack"+Wn(e,/align-content|flex-|-self/,"")+e;case 5548:return Gn+e+Hi+Wn(e,"shrink","negative")+e;case 5292:return Gn+e+Hi+Wn(e,"basis","preferred-size")+e;case 6060:return Gn+"box-"+Wn(e,"-grow","")+Gn+e+Hi+Wn(e,"grow","positive")+e;case 4554:return Gn+Wn(e,/([^-])(transform)/g,"$1"+Gn+"$2")+e;case 6187:return Wn(Wn(Wn(e,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),e,"")+e;case 5495:case 3959:return Wn(e,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return Wn(Wn(e,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+Hi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+e+e;case 4095:case 3583:case 4068:case 2532:return Wn(e,/(.+)-inline(.+)/,Gn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ps(e)-1-t>6)switch(Fi(e,t+1)){case 109:if(Fi(e,t+4)!==45)break;case 102:return Wn(e,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+$_+(Fi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~pA(e,"stretch")?H7(Wn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fi(e,t+1)!==115)break;case 6444:switch(Fi(e,ps(e)-3-(~pA(e,"!important")&&10))){case 107:return Wn(e,":",":"+Gn)+e;case 101:return Wn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(Fi(e,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+Hi+"$2box$3")+e}break;case 5936:switch(Fi(e,t+11)){case 114:return Gn+e+Hi+Wn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Gn+e+Hi+Wn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Gn+e+Hi+Wn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Gn+e+Hi+e+e}return e}var eLe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case YP:t.return=H7(t.value,t.length);break;case U7:return cd([sp(t,{value:Wn(t.value,"@","@"+Gn)})],i);case JP:if(t.length)return NMe(t.props,function(o){switch(DMe(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return cd([sp(t,{props:[Wn(o,/:(read-\w+)/,":"+$_+"$1")]})],i);case"::placeholder":return cd([sp(t,{props:[Wn(o,/:(plac\w+)/,":"+Gn+"input-$1")]}),sp(t,{props:[Wn(o,/:(plac\w+)/,":"+$_+"$1")]}),sp(t,{props:[Wn(o,/:(plac\w+)/,Hi+"input-$1")]})],i)}return""})}},tLe=[eLe],nLe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var E=x.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=t.stylisPlugins||tLe,o={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(x){for(var E=x.getAttribute("data-emotion").split(" "),v=1;v<E.length;v++)o[E[v]]=!0;s.push(x)});var l,f=[YMe,XMe];{var d,p=[VMe,GMe(function(x){d.insert(x)})],g=KMe(f.concat(i,p)),y=function(E){return cd(qMe(E),g)};l=function(E,v,w,C){d=w,y(E?E+"{"+v.styles+"}":v.styles),C&&(b.inserted[v.name]=!0)}}var b={key:n,sheet:new PMe({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return b.sheet.hydrate(s),b},qC={exports:{}},Jn={};var p8;function rLe(){if(p8)return Jn;p8=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,g=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,x=e?Symbol.for("react.block"):60121,E=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,w=e?Symbol.for("react.scope"):60119;function C(R){if(typeof R=="object"&&R!==null){var k=R.$$typeof;switch(k){case t:switch(R=R.type,R){case l:case f:case r:case o:case i:case p:return R;default:switch(R=R&&R.$$typeof,R){case s:case d:case b:case y:case a:return R;default:return k}}case n:return k}}}function P(R){return C(R)===f}return Jn.AsyncMode=l,Jn.ConcurrentMode=f,Jn.ContextConsumer=s,Jn.ContextProvider=a,Jn.Element=t,Jn.ForwardRef=d,Jn.Fragment=r,Jn.Lazy=b,Jn.Memo=y,Jn.Portal=n,Jn.Profiler=o,Jn.StrictMode=i,Jn.Suspense=p,Jn.isAsyncMode=function(R){return P(R)||C(R)===l},Jn.isConcurrentMode=P,Jn.isContextConsumer=function(R){return C(R)===s},Jn.isContextProvider=function(R){return C(R)===a},Jn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===t},Jn.isForwardRef=function(R){return C(R)===d},Jn.isFragment=function(R){return C(R)===r},Jn.isLazy=function(R){return C(R)===b},Jn.isMemo=function(R){return C(R)===y},Jn.isPortal=function(R){return C(R)===n},Jn.isProfiler=function(R){return C(R)===o},Jn.isStrictMode=function(R){return C(R)===i},Jn.isSuspense=function(R){return C(R)===p},Jn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===f||R===o||R===i||R===p||R===g||typeof R=="object"&&R!==null&&(R.$$typeof===b||R.$$typeof===y||R.$$typeof===a||R.$$typeof===s||R.$$typeof===d||R.$$typeof===E||R.$$typeof===v||R.$$typeof===w||R.$$typeof===x)},Jn.typeOf=C,Jn}var m8;function iLe(){return m8||(m8=1,qC.exports=rLe()),qC.exports}var HC,g8;function oLe(){if(g8)return HC;g8=1;var e=iLe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[e.ForwardRef]=r,o[e.Memo]=i;function a(b){return e.isMemo(b)?i:o[b.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function y(b,x,E){if(typeof x!="string"){if(g){var v=p(x);v&&v!==g&&y(b,v,E)}var w=l(x);f&&(w=w.concat(f(x)));for(var C=a(b),P=a(x),R=0;R<w.length;++R){var k=w[R];if(!n[k]&&!(E&&E[k])&&!(P&&P[k])&&!(C&&C[k])){var M=d(x,k);try{s(b,k,M)}catch{}}}}return b}return HC=y,HC}oLe();var aLe=!0;function sLe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var V7=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||aLe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},uLe=function(t,n,r){V7(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}},lLe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cLe=/[A-Z]|^ms/g,fLe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K7=function(t){return t.charCodeAt(1)===45},y8=function(t){return t!=null&&typeof t!="boolean"},VC=WMe(function(e){return K7(e)?e:e.replace(cLe,"-$&").toLowerCase()}),v8=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(fLe,function(r,i,o){return ms={name:i,styles:o,next:ms},i})}return lLe[t]!==1&&!K7(t)&&typeof n=="number"&&n!==0?n+"px":n};function am(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ms={name:i.name,styles:i.styles,next:ms},i.name;var o=n;if(o.styles!==void 0){var a=o.next;if(a!==void 0)for(;a!==void 0;)ms={name:a.name,styles:a.styles,next:ms},a=a.next;var s=o.styles+";";return s}return dLe(e,t,n)}case"function":{if(e!==void 0){var l=ms,f=n(e);return ms=l,am(e,t,f)}break}}var d=n;return d}function dLe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=am(e,t,n[i])+";";else for(var o in n){var a=n[o];if(typeof a!="object"){var s=a;y8(s)&&(r+=VC(o)+":"+v8(o,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)y8(a[l])&&(r+=VC(o)+":"+v8(o,a[l])+";");else{var f=am(e,t,a);switch(o){case"animation":case"animationName":{r+=VC(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var _8=/label:\s*([^\s;{]+)\s*(;|$)/g,ms;function G7(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";ms=void 0;var o=e[0];if(o==null||o.raw===void 0)r=!1,i+=am(n,t,o);else{var a=o;i+=a[0]}for(var s=1;s<e.length;s++)if(i+=am(n,t,e[s]),r){var l=o;i+=l[s]}_8.lastIndex=0;for(var f="",d;(d=_8.exec(i))!==null;)f+="-"+d[1];var p=BT(i)+f;return{name:p,styles:i,next:ms}}var hLe=function(t){return t()},pLe=kp.useInsertionEffect?kp.useInsertionEffect:!1,mLe=pLe||hLe,W7=B.createContext(typeof HTMLElement<"u"?nLe({key:"css"}):null);W7.Provider;var gLe=function(t){return B.forwardRef(function(n,r){var i=B.useContext(W7);return t(n,i,r)})},yLe=B.createContext({}),eO={}.hasOwnProperty,gA="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",vLe=function(t,n){var r={};for(var i in n)eO.call(n,i)&&(r[i]=n[i]);return r[gA]=t,r},_Le=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return V7(n,r,i),mLe(function(){return uLe(n,r,i)}),null},wLe=gLe(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[gA],o=[r],a="";typeof e.className=="string"?a=sLe(t.registered,o,e.className):e.className!=null&&(a=e.className+" ");var s=G7(o,void 0,B.useContext(yLe));a+=t.key+"-"+s.name;var l={};for(var f in e)eO.call(e,f)&&f!=="css"&&f!==gA&&(l[f]=e[f]);return l.className=a,n&&(l.ref=n),B.createElement(B.Fragment,null,B.createElement(_Le,{cache:t,serialized:s,isStringTag:typeof i=="string"}),B.createElement(i,l))}),bLe=wLe,en=function(t,n){var r=arguments;if(n==null||!eO.call(n,"css"))return B.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=bLe,o[1]=vLe(t,n);for(var a=2;a<i;a++)o[a]=r[a];return B.createElement.apply(null,o)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(en||(en={}));function tO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return G7(t)}function SLe(){var e=tO.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function xLe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var yA=B.useLayoutEffect,ELe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],z_=function(){};function CLe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function TLe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(CLe(e,a)));return o.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var w8=function(t){return DLe(t)?t.filter(Boolean):Lc(t)==="object"&&t!==null?[t]:[]},Z7=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=wu(t,ELe);return rn({},n)},Kr=function(t,n,r){var i=t.cx,o=t.getStyles,a=t.getClassNames,s=t.className;return{css:o(n,t),className:i(r??{},a(n,t),s)}};function l0(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function ALe(e){return l0(e)?window.innerHeight:e.clientHeight}function Q7(e){return l0(e)?window.pageYOffset:e.scrollTop}function q_(e,t){if(l0(e)){window.scrollTo(0,t);return}e.scrollTop=t}function RLe(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function PLe(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function Sv(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:z_,i=Q7(e),o=t-i,a=10,s=0;function l(){s+=a;var f=PLe(s,i,o,n);q_(e,f),s<n?window.requestAnimationFrame(l):r(e)}l()}function b8(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?q_(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&q_(e,Math.max(t.offsetTop-i,0))}function OLe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function S8(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function MLe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var J7=!1,LLe={get passive(){return J7=!0}},xv=typeof window<"u"?window:{};xv.addEventListener&&xv.removeEventListener&&(xv.addEventListener("p",z_,LLe),xv.removeEventListener("p",z_,!1));var ILe=J7;function kLe(e){return e!=null}function DLe(e){return Array.isArray(e)}function Ev(e,t,n){return e?t:n}var NLe=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(t).filter(function(a){var s=iu(a,1),l=s[0];return!r.includes(l)});return o.reduce(function(a,s){var l=iu(s,2),f=l[0],d=l[1];return a[f]=d,a},{})},FLe=["children","innerProps"],jLe=["children","innerProps"];function ULe(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,l=RLe(n),f={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return f;var d=l.getBoundingClientRect(),p=d.height,g=n.getBoundingClientRect(),y=g.bottom,b=g.height,x=g.top,E=n.offsetParent.getBoundingClientRect(),v=E.top,w=a?window.innerHeight:ALe(l),C=Q7(l),P=parseInt(getComputedStyle(n).marginBottom,10),R=parseInt(getComputedStyle(n).marginTop,10),k=v-R,M=w-x,W=k+C,ee=p-C-x,z=y-w+C+P,H=C+x-R,te=160;switch(i){case"auto":case"bottom":if(M>=b)return{placement:"bottom",maxHeight:t};if(ee>=b&&!a)return o&&Sv(l,z,te),{placement:"bottom",maxHeight:t};if(!a&&ee>=r||a&&M>=r){o&&Sv(l,z,te);var oe=a?M-P:ee-P;return{placement:"bottom",maxHeight:oe}}if(i==="auto"||a){var ue=t,de=a?k:W;return de>=r&&(ue=Math.min(de-P-s,t)),{placement:"top",maxHeight:ue}}if(i==="bottom")return o&&q_(l,z),{placement:"bottom",maxHeight:t};break;case"top":if(k>=b)return{placement:"top",maxHeight:t};if(W>=b&&!a)return o&&Sv(l,H,te),{placement:"top",maxHeight:t};if(!a&&W>=r||a&&k>=r){var se=t;return(!a&&W>=r||a&&k>=r)&&(se=a?k-R:W-R),o&&Sv(l,H,te),{placement:"top",maxHeight:se}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function BLe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var Y7=function(t){return t==="auto"?"bottom":t},$Le=function(t,n){var r,i=t.placement,o=t.theme,a=o.borderRadius,s=o.spacing,l=o.colors;return rn((r={label:"menu"},wp(r,BLe(i),"100%"),wp(r,"position","absolute"),wp(r,"width","100%"),wp(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:a,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},X7=B.createContext(null),zLe=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,f=B.useContext(X7)||{},d=f.setPortalPlacement,p=B.useRef(null),g=B.useState(i),y=iu(g,2),b=y[0],x=y[1],E=B.useState(null),v=iu(E,2),w=v[0],C=v[1],P=l.spacing.controlHeight;return yA(function(){var R=p.current;if(R){var k=a==="fixed",M=s&&!k,W=ULe({maxHeight:i,menuEl:R,minHeight:r,placement:o,shouldScroll:M,isFixedPosition:k,controlHeight:P});x(W.maxHeight),C(W.placement),d?.(W.placement)}},[i,o,a,s,r,d,P]),n({ref:p,placerProps:rn(rn({},t),{},{placement:w||Y7(o),maxHeight:b})})},qLe=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return en("div",an({},Kr(t,"menu",{menu:!0}),{ref:r},i),n)},HLe=qLe,VLe=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return rn({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},KLe=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,o=t.isMulti;return en("div",an({},Kr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},eV=function(t,n){var r=t.theme,i=r.spacing.baseUnit,o=r.colors;return rn({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},GLe=eV,WLe=eV,ZLe=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,o=wu(t,FLe);return en("div",an({},Kr(rn(rn({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},QLe=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,o=wu(t,jLe);return en("div",an({},Kr(rn(rn({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},JLe=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},YLe=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,o=t.innerProps,a=t.menuPlacement,s=t.menuPosition,l=B.useRef(null),f=B.useRef(null),d=B.useState(Y7(a)),p=iu(d,2),g=p[0],y=p[1],b=B.useMemo(function(){return{setPortalPlacement:y}},[]),x=B.useState(null),E=iu(x,2),v=E[0],w=E[1],C=B.useCallback(function(){if(i){var M=OLe(i),W=s==="fixed"?0:window.pageYOffset,ee=M[g]+W;(ee!==v?.offset||M.left!==v?.rect.left||M.width!==v?.rect.width)&&w({offset:ee,rect:M})}},[i,s,g,v?.offset,v?.rect.left,v?.rect.width]);yA(function(){C()},[C]);var P=B.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&l.current&&(f.current=cq(i,l.current,C,{elementResize:"ResizeObserver"in window}))},[i,C]);yA(function(){P()},[P]);var R=B.useCallback(function(M){l.current=M,P()},[P]);if(!n&&s!=="fixed"||!v)return null;var k=en("div",an({ref:R},Kr(rn(rn({},t),{},{offset:v.offset,position:s,rect:v.rect}),"menuPortal",{"menu-portal":!0}),o),r);return en(X7.Provider,{value:b},n?gl.createPortal(k,n):k)},XLe=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},eIe=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,o=t.isRtl;return en("div",an({},Kr(t,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},tIe=function(t,n){var r=t.theme.spacing,i=t.isMulti,o=t.hasValue,a=t.selectProps.controlShouldRenderValue;return rn({alignItems:"center",display:i&&o&&a?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},nIe=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,o=t.hasValue;return en("div",an({},Kr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},rIe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},iIe=function(t){var n=t.children,r=t.innerProps;return en("div",an({},Kr(t,"indicatorsContainer",{indicators:!0}),r),n)},x8,oIe=["size"],aIe=["innerProps","isRtl","size"],sIe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},tV=function(t){var n=t.size,r=wu(t,oIe);return en("svg",an({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:sIe},r))},nO=function(t){return en(tV,an({size:20},t),en("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},nV=function(t){return en(tV,an({size:20},t),en("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},rV=function(t,n){var r=t.isFocused,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return rn({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?a.neutral60:a.neutral20,padding:o*2,":hover":{color:r?a.neutral80:a.neutral40}})},uIe=rV,lIe=function(t){var n=t.children,r=t.innerProps;return en("div",an({},Kr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||en(nV,null))},cIe=rV,fIe=function(t){var n=t.children,r=t.innerProps;return en("div",an({},Kr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||en(nO,null))},dIe=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing.baseUnit,a=i.colors;return rn({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?a.neutral10:a.neutral20,marginBottom:o*2,marginTop:o*2})},hIe=function(t){var n=t.innerProps;return en("span",an({},n,Kr(t,"indicatorSeparator",{"indicator-separator":!0})))},pIe=SLe(x8||(x8=xLe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),mIe=function(t,n){var r=t.isFocused,i=t.size,o=t.theme,a=o.colors,s=o.spacing.baseUnit;return rn({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?a.neutral60:a.neutral20,padding:s*2})},KC=function(t){var n=t.delay,r=t.offset;return en("span",{css:tO({animation:"".concat(pIe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},gIe=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,o=i===void 0?4:i,a=wu(t,aIe);return en("div",an({},Kr(rn(rn({},a),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),en(KC,{delay:0,offset:r}),en(KC,{delay:160,offset:!0}),en(KC,{delay:320,offset:!r}))},yIe=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.theme,a=o.colors,s=o.borderRadius,l=o.spacing;return rn({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?a.neutral5:a.neutral0,borderColor:r?a.neutral10:i?a.primary:a.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(a.primary):void 0,"&:hover":{borderColor:i?a.primary:a.neutral30}})},vIe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.innerRef,a=t.innerProps,s=t.menuIsOpen;return en("div",an({ref:o},Kr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),a,{"aria-disabled":r||void 0}),n)},_Ie=vIe,wIe=["data"],bIe=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},SIe=function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.getClassNames,a=t.Heading,s=t.headingProps,l=t.innerProps,f=t.label,d=t.theme,p=t.selectProps;return en("div",an({},Kr(t,"group",{group:!0}),l),en(a,an({},s,{selectProps:p,theme:d,getStyles:i,getClassNames:o,cx:r}),f),en("div",null,n))},xIe=function(t,n){var r=t.theme,i=r.colors,o=r.spacing;return rn({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},EIe=function(t){var n=Z7(t);n.data;var r=wu(n,wIe);return en("div",an({},Kr(t,"groupHeading",{"group-heading":!0}),r))},CIe=SIe,TIe=["innerRef","isDisabled","isHidden","inputClassName"],AIe=function(t,n){var r=t.isDisabled,i=t.value,o=t.theme,a=o.spacing,s=o.colors;return rn(rn({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},RIe),n?{}:{margin:a.baseUnit/2,paddingBottom:a.baseUnit/2,paddingTop:a.baseUnit/2,color:s.neutral80})},iV={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},RIe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":rn({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},iV)},PIe=function(t){return rn({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},iV)},OIe=function(t){var n=t.cx,r=t.value,i=Z7(t),o=i.innerRef,a=i.isDisabled,s=i.isHidden,l=i.inputClassName,f=wu(i,TIe);return en("div",an({},Kr(t,"input",{"input-container":!0}),{"data-value":r||""}),en("input",an({className:n({input:!0},l),ref:o,style:PIe(s),disabled:a},f)))},MIe=OIe,LIe=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors;return rn({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:a.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},IIe=function(t,n){var r=t.theme,i=r.borderRadius,o=r.colors,a=t.cropWithEllipsis;return rn({overflow:"hidden",textOverflow:a||a===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},kIe=function(t,n){var r=t.theme,i=r.spacing,o=r.borderRadius,a=r.colors,s=t.isFocused;return rn({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:s?a.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:a.dangerLight,color:a.danger}})},oV=function(t){var n=t.children,r=t.innerProps;return en("div",r,n)},DIe=oV,NIe=oV;function FIe(e){var t=e.children,n=e.innerProps;return en("div",an({role:"button"},n),t||en(nO,{size:14}))}var jIe=function(t){var n=t.children,r=t.components,i=t.data,o=t.innerProps,a=t.isDisabled,s=t.removeProps,l=t.selectProps,f=r.Container,d=r.Label,p=r.Remove;return en(f,{data:i,innerProps:rn(rn({},Kr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":a})),o),selectProps:l},en(d,{data:i,innerProps:rn({},Kr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),en(p,{data:i,innerProps:rn(rn({},Kr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},UIe=jIe,BIe=function(t,n){var r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.theme,s=a.spacing,l=a.colors;return rn({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:o?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?l.primary:l.primary50}})},$Ie=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,o=t.isSelected,a=t.innerRef,s=t.innerProps;return en("div",an({},Kr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:a,"aria-disabled":r},s),n)},zIe=$Ie,qIe=function(t,n){var r=t.theme,i=r.spacing,o=r.colors;return rn({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},HIe=function(t){var n=t.children,r=t.innerProps;return en("div",an({},Kr(t,"placeholder",{placeholder:!0}),r),n)},VIe=HIe,KIe=function(t,n){var r=t.isDisabled,i=t.theme,o=i.spacing,a=i.colors;return rn({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?a.neutral40:a.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},GIe=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return en("div",an({},Kr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},WIe=GIe,ZIe={ClearIndicator:fIe,Control:_Ie,DropdownIndicator:lIe,DownChevron:nV,CrossIcon:nO,Group:CIe,GroupHeading:EIe,IndicatorsContainer:iIe,IndicatorSeparator:hIe,Input:MIe,LoadingIndicator:gIe,Menu:HLe,MenuList:KLe,MenuPortal:YLe,LoadingMessage:QLe,NoOptionsMessage:ZLe,MultiValue:UIe,MultiValueContainer:DIe,MultiValueLabel:NIe,MultiValueRemove:FIe,Option:zIe,Placeholder:VIe,SelectContainer:eIe,SingleValue:WIe,ValueContainer:nIe},QIe=function(t){return rn(rn({},ZIe),t.components)},E8=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function JIe(e,t){return!!(e===t||E8(e)&&E8(t))}function YIe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!JIe(e[n],t[n]))return!1;return!0}function XIe(e,t){t===void 0&&(t=YIe);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var a=e.apply(this,i);return n={lastResult:a,lastArgs:i,lastThis:this},a}return r.clear=function(){n=null},r}var eke={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},tke=function(t){return en("span",an({css:eke},t))},C8=tke,nke={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,o=t.context,a=t.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return a?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,o=t.labels,a=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return a?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,o=t.label,a=o===void 0?"":o,s=t.selectValue,l=t.isDisabled,f=t.isSelected,d=t.isAppleDevice,p=function(x,E){return x&&x.length?"".concat(x.indexOf(E)+1," of ").concat(x.length):""};if(n==="value"&&s)return"value ".concat(a," focused, ").concat(p(s,r),".");if(n==="menu"&&d){var g=l?" disabled":"",y="".concat(f?" selected":"").concat(g);return"".concat(a).concat(y,", ").concat(p(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},rke=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.focusableOptions,a=t.isFocused,s=t.selectValue,l=t.selectProps,f=t.id,d=t.isAppleDevice,p=l.ariaLiveMessages,g=l.getOptionLabel,y=l.inputValue,b=l.isMulti,x=l.isOptionDisabled,E=l.isSearchable,v=l.menuIsOpen,w=l.options,C=l.screenReaderStatus,P=l.tabSelectsValue,R=l.isLoading,k=l["aria-label"],M=l["aria-live"],W=B.useMemo(function(){return rn(rn({},nke),p||{})},[p]),ee=B.useMemo(function(){var de="";if(n&&W.onChange){var se=n.option,pe=n.options,re=n.removedValue,Ee=n.removedValues,$=n.value,Q=function(Pe){return Array.isArray(Pe)?null:Pe},ce=re||se||Q($),G=ce?g(ce):"",X=pe||Ee||void 0,ge=X?X.map(g):[],xe=rn({isDisabled:ce&&x(ce,s),label:G,labels:ge},n);de=W.onChange(xe)}return de},[n,W,x,s,g]),z=B.useMemo(function(){var de="",se=r||i,pe=!!(r&&s&&s.includes(r));if(se&&W.onFocus){var re={focused:se,label:g(se),isDisabled:x(se,s),isSelected:pe,options:o,context:se===r?"menu":"value",selectValue:s,isAppleDevice:d};de=W.onFocus(re)}return de},[r,i,g,x,W,o,s,d]),H=B.useMemo(function(){var de="";if(v&&w.length&&!R&&W.onFilter){var se=C({count:o.length});de=W.onFilter({inputValue:y,resultsMessage:se})}return de},[o,y,v,W,w,C,R]),te=n?.action==="initial-input-focus",oe=B.useMemo(function(){var de="";if(W.guidance){var se=i?"value":v?"menu":"input";de=W.guidance({"aria-label":k,context:se,isDisabled:r&&x(r,s),isMulti:b,isSearchable:E,tabSelectsValue:P,isInitialFocus:te})}return de},[k,r,i,b,x,E,v,W,s,P,te]),ue=en(B.Fragment,null,en("span",{id:"aria-selection"},ee),en("span",{id:"aria-focused"},z),en("span",{id:"aria-results"},H),en("span",{id:"aria-guidance"},oe));return en(B.Fragment,null,en(C8,{id:f},te&&ue),en(C8,{"aria-live":M,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!te&&ue))},ike=rke,vA=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],oke=new RegExp("["+vA.map(function(e){return e.letters}).join("")+"]","g"),aV={};for(var GC=0;GC<vA.length;GC++)for(var WC=vA[GC],ZC=0;ZC<WC.letters.length;ZC++)aV[WC.letters[ZC]]=WC.base;var sV=function(t){return t.replace(oke,function(n){return aV[n]})},ake=XIe(sV),T8=function(t){return t.replace(/^\s+|\s+$/g,"")},ske=function(t){return"".concat(t.label," ").concat(t.value)},uke=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=rn({ignoreCase:!0,ignoreAccents:!0,stringify:ske,trim:!0,matchFrom:"any"},t),o=i.ignoreCase,a=i.ignoreAccents,s=i.stringify,l=i.trim,f=i.matchFrom,d=l?T8(r):r,p=l?T8(s(n)):s(n);return o&&(d=d.toLowerCase(),p=p.toLowerCase()),a&&(d=ake(d),p=sV(p)),f==="start"?p.substr(0,d.length)===d:p.indexOf(d)>-1}},lke=["innerRef"];function cke(e){var t=e.innerRef,n=wu(e,lke),r=NLe(n,"onExited","in","enter","exit","appear");return en("input",an({ref:t},r,{css:tO({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var fke=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function dke(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=B.useRef(!1),s=B.useRef(!1),l=B.useRef(0),f=B.useRef(null),d=B.useCallback(function(E,v){if(f.current!==null){var w=f.current,C=w.scrollTop,P=w.scrollHeight,R=w.clientHeight,k=f.current,M=v>0,W=P-R-C,ee=!1;W>v&&a.current&&(r&&r(E),a.current=!1),M&&s.current&&(o&&o(E),s.current=!1),M&&v>W?(n&&!a.current&&n(E),k.scrollTop=P,ee=!0,a.current=!0):!M&&-v>C&&(i&&!s.current&&i(E),k.scrollTop=0,ee=!0,s.current=!0),ee&&fke(E)}},[n,r,i,o]),p=B.useCallback(function(E){d(E,E.deltaY)},[d]),g=B.useCallback(function(E){l.current=E.changedTouches[0].clientY},[]),y=B.useCallback(function(E){var v=l.current-E.changedTouches[0].clientY;d(E,v)},[d]),b=B.useCallback(function(E){if(E){var v=ILe?{passive:!1}:!1;E.addEventListener("wheel",p,v),E.addEventListener("touchstart",g,v),E.addEventListener("touchmove",y,v)}},[y,g,p]),x=B.useCallback(function(E){E&&(E.removeEventListener("wheel",p,!1),E.removeEventListener("touchstart",g,!1),E.removeEventListener("touchmove",y,!1))},[y,g,p]);return B.useEffect(function(){if(t){var E=f.current;return b(E),function(){x(E)}}},[t,b,x]),function(E){f.current=E}}var A8=["boxSizing","height","overflow","paddingRight","position"],R8={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function P8(e){e.cancelable&&e.preventDefault()}function O8(e){e.stopPropagation()}function M8(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function L8(){return"ontouchstart"in window||navigator.maxTouchPoints}var I8=!!(typeof window<"u"&&window.document&&window.document.createElement),up=0,Hf={capture:!1,passive:!1};function hke(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=B.useRef({}),o=B.useRef(null),a=B.useCallback(function(l){if(I8){var f=document.body,d=f&&f.style;if(r&&A8.forEach(function(b){var x=d&&d[b];i.current[b]=x}),r&&up<1){var p=parseInt(i.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,y=window.innerWidth-g+p||0;Object.keys(R8).forEach(function(b){var x=R8[b];d&&(d[b]=x)}),d&&(d.paddingRight="".concat(y,"px"))}f&&L8()&&(f.addEventListener("touchmove",P8,Hf),l&&(l.addEventListener("touchstart",M8,Hf),l.addEventListener("touchmove",O8,Hf))),up+=1}},[r]),s=B.useCallback(function(l){if(I8){var f=document.body,d=f&&f.style;up=Math.max(up-1,0),r&&up<1&&A8.forEach(function(p){var g=i.current[p];d&&(d[p]=g)}),f&&L8()&&(f.removeEventListener("touchmove",P8,Hf),l&&(l.removeEventListener("touchstart",M8,Hf),l.removeEventListener("touchmove",O8,Hf)))}},[r]);return B.useEffect(function(){if(t){var l=o.current;return a(l),function(){s(l)}}},[t,a,s]),function(l){o.current=l}}var pke=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},mke={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function gke(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,o=e.onBottomArrive,a=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,f=dke({isEnabled:i,onBottomArrive:o,onBottomLeave:a,onTopArrive:s,onTopLeave:l}),d=hke({isEnabled:n}),p=function(y){f(y),d(y)};return en(B.Fragment,null,n&&en("div",{onClick:pke,css:mke}),t(p))}var yke={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},vke=function(t){var n=t.name,r=t.onFocus;return en("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:yke,value:"",onChange:function(){}})},_ke=vke;function rO(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function wke(){return rO(/^iPhone/i)}function uV(){return rO(/^Mac/i)}function bke(){return rO(/^iPad/i)||uV()&&navigator.maxTouchPoints>1}function Ske(){return wke()||bke()}function xke(){return uV()||Ske()}var Eke=function(t){return t.label},Cke=function(t){return t.label},Tke=function(t){return t.value},Ake=function(t){return!!t.isDisabled},Rke={clearIndicator:cIe,container:XLe,control:yIe,dropdownIndicator:uIe,group:bIe,groupHeading:xIe,indicatorsContainer:rIe,indicatorSeparator:dIe,input:AIe,loadingIndicator:mIe,loadingMessage:WLe,menu:$Le,menuList:VLe,menuPortal:JLe,multiValue:LIe,multiValueLabel:IIe,multiValueRemove:kIe,noOptionsMessage:GLe,option:BIe,placeholder:qIe,singleValue:KIe,valueContainer:tIe},Pke={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Oke=4,lV=4,Mke=38,Lke=lV*2,Ike={baseUnit:lV,controlHeight:Mke,menuGutter:Lke},QC={borderRadius:Oke,colors:Pke,spacing:Ike},kke={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:S8(),captureMenuScroll:!S8(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:uke(),formatGroupLabel:Eke,getOptionLabel:Cke,getOptionValue:Tke,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ake,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!MLe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function k8(e,t,n,r){var i=dV(e,t,n),o=hV(e,t,n),a=fV(e,t),s=H_(e,t);return{type:"option",data:t,isDisabled:i,isSelected:o,label:a,value:s,index:r}}function e_(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(a,s){return k8(e,a,t,s)}).filter(function(a){return N8(e,a)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=k8(e,n,t,r);return N8(e,o)?o:void 0}).filter(kLe)}function cV(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,QP(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function D8(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,QP(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function Dke(e,t){return cV(e_(e,t))}function N8(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!mV(e)||!o)&&pV(e,{label:a,value:s,data:i},r)}function Nke(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var o=t.indexOf(n);if(o>-1)return n;if(i<t.length)return t[i]}return null}function Fke(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var JC=function(t,n){var r,i=(r=t.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},fV=function(t,n){return t.getOptionLabel(n)},H_=function(t,n){return t.getOptionValue(n)};function dV(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function hV(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=H_(e,t);return n.some(function(i){return H_(e,i)===r})}function pV(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var mV=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},jke=1,gV=(function(e){wMe(n,e);var t=xMe(n);function n(r){var i;if(vMe(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,f){var d=i.props,p=d.onChange,g=d.name;f.name=g,i.ariaOnChange(l,f),p(l,f)},i.setValue=function(l,f,d){var p=i.props,g=p.closeMenuOnSelect,y=p.isMulti,b=p.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:b}),g&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:f,option:d})},i.selectOption=function(l){var f=i.props,d=f.blurInputOnSelect,p=f.isMulti,g=f.name,y=i.state.selectValue,b=p&&i.isOptionSelected(l,y),x=i.isOptionDisabled(l,y);if(b){var E=i.getOptionValue(l);i.setValue(y.filter(function(v){return i.getOptionValue(v)!==E}),"deselect-option",l)}else if(!x)p?i.setValue([].concat(QP(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:g});return}d&&i.blurInput()},i.removeValue=function(l){var f=i.props.isMulti,d=i.state.selectValue,p=i.getOptionValue(l),g=d.filter(function(b){return i.getOptionValue(b)!==p}),y=Ev(f,g,g[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(Ev(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,f=i.state.selectValue,d=f[f.length-1],p=f.slice(0,f.length-1),g=Ev(l,p,p[0]||null);d&&i.onChange(g,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return JC(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return D8(e_(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,f=new Array(l),d=0;d<l;d++)f[d]=arguments[d];return TLe.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(l){return fV(i.props,l)},i.getOptionValue=function(l){return H_(i.props,l)},i.getStyles=function(l,f){var d=i.props.unstyled,p=Rke[l](f,d);p.boxSizing="border-box";var g=i.props.styles[l];return g?g(p,f):p},i.getClassNames=function(l,f){var d,p;return(d=(p=i.props.classNames)[l])===null||d===void 0?void 0:d.call(p,f)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return QIe(i.props)},i.buildCategorizedOptions=function(){return e_(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return cV(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,f){i.setState({ariaSelection:rn({value:l},f)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var f=i.props,d=f.isMulti,p=f.menuIsOpen;i.focusInput(),p?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&l0(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var f=l.touches,d=f&&f.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var f=l.touches,d=f&&f.item(0);if(d){var p=Math.abs(d.clientX-i.initialTouchX),g=Math.abs(d.clientY-i.initialTouchY),y=5;i.userIsDragging=p>y||g>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var f=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var f=i.getFocusableOptions(),d=f.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return mV(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var f=i.props,d=f.isMulti,p=f.backspaceRemovesValue,g=f.escapeClearsValue,y=f.inputValue,b=f.isClearable,x=f.isDisabled,E=f.menuIsOpen,v=f.onKeyDown,w=f.tabSelectsValue,C=f.openMenuOnFocus,P=i.state,R=P.focusedOption,k=P.focusedValue,M=P.selectValue;if(!x&&!(typeof v=="function"&&(v(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||y)return;i.focusValue("previous");break;case"ArrowRight":if(!d||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(k)i.removeValue(k);else{if(!p)return;d?i.popValue():b&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!E||!w||!R||C&&i.isOptionSelected(R,M))return;i.selectOption(R);break;case"Enter":if(l.keyCode===229)break;if(E){if(!R||i.isComposing)return;i.selectOption(R);break}return;case"Escape":E?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):b&&g&&i.clearValue();break;case" ":if(y)return;if(!E){i.openMenu("first");break}if(!R)return;i.selectOption(R);break;case"ArrowUp":E?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":E?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!E)return;i.focusOption("pageup");break;case"PageDown":if(!E)return;i.focusOption("pagedown");break;case"Home":if(!E)return;i.focusOption("first");break;case"End":if(!E)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++jke),i.state.selectValue=w8(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),a=i.buildFocusableOptions(),s=a.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=a[s],i.state.focusedOptionId=JC(o,a[s])}return i}return _Me(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&b8(this.menuListRef,this.focusedOptionRef),xke()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isDisabled,s=o.menuIsOpen,l=this.state.isFocused;(l&&!a&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&a&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!a&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(b8(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,a=this.state,s=a.selectValue,l=a.isFocused,f=this.buildFocusableOptions(),d=i==="first"?0:f.length-1;if(!this.props.isMulti){var p=f.indexOf(s[0]);p>-1&&(d=p)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[d],focusedOptionId:this.getFocusedOptionId(f[d])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,a=o.selectValue,s=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=a.indexOf(s);s||(l=-1);var f=a.length-1,d=-1;if(a.length){switch(i){case"previous":l===0?d=0:l===-1?d=f:d=l-1;break;case"next":l>-1&&l<f&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:a[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,a=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,f=s.indexOf(a);a||(f=-1),i==="up"?l=f>0?f-1:s.length-1:i==="down"?l=(f+1)%s.length:i==="pageup"?(l=f-o,l<0&&(l=0)):i==="pagedown"?(l=f+o,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(QC):rn(rn({},QC),this.props.theme):QC})},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,a=this.getStyles,s=this.getClassNames,l=this.getValue,f=this.selectOption,d=this.setValue,p=this.props,g=p.isMulti,y=p.isRtl,b=p.options,x=this.hasValue();return{clearValue:i,cx:o,getStyles:a,getClassNames:s,getValue:l,hasValue:x,isMulti:g,isRtl:y,options:b,selectOption:f,selectProps:p,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,a=i.isMulti;return o===void 0?a:o}},{key:"isOptionDisabled",value:function(i,o){return dV(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return hV(this.props,i,o)}},{key:"filterOption",value:function(i,o){return pV(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var a=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:a,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var i=this.props,o=i.isDisabled,a=i.isSearchable,s=i.inputId,l=i.inputValue,f=i.tabIndex,d=i.form,p=i.menuIsOpen,g=i.required,y=this.getComponents(),b=y.Input,x=this.state,E=x.inputIsHidden,v=x.ariaSelection,w=this.commonProps,C=s||this.getElementId("input"),P=rn(rn(rn({"aria-autocomplete":"list","aria-expanded":p,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},p&&{"aria-controls":this.getElementId("listbox")}),!a&&{"aria-readonly":!0}),this.hasValue()?v?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return a?B.createElement(b,an({},w,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:C,innerRef:this.getInputRef,isDisabled:o,isHidden:E,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:d,type:"text",value:l},P)):B.createElement(cke,an({id:C,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:z_,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:d,value:""},P))})},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),a=o.MultiValue,s=o.MultiValueContainer,l=o.MultiValueLabel,f=o.MultiValueRemove,d=o.SingleValue,p=o.Placeholder,g=this.commonProps,y=this.props,b=y.controlShouldRenderValue,x=y.isDisabled,E=y.isMulti,v=y.inputValue,w=y.placeholder,C=this.state,P=C.selectValue,R=C.focusedValue,k=C.isFocused;if(!this.hasValue()||!b)return v?null:B.createElement(p,an({},g,{key:"placeholder",isDisabled:x,isFocused:k,innerProps:{id:this.getElementId("placeholder")}}),w);if(E)return P.map(function(W,ee){var z=W===R,H="".concat(i.getOptionLabel(W),"-").concat(i.getOptionValue(W));return B.createElement(a,an({},g,{components:{Container:s,Label:l,Remove:f},isFocused:z,isDisabled:x,key:H,index:ee,removeProps:{onClick:function(){return i.removeValue(W)},onTouchEnd:function(){return i.removeValue(W)},onMouseDown:function(oe){oe.preventDefault()}},data:W}),i.formatOptionLabel(W,"value"))});if(v)return null;var M=P[0];return B.createElement(d,an({},g,{data:M,isDisabled:x}),this.formatOptionLabel(M,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,f=s.isLoading,d=this.state.isFocused;if(!this.isClearable()||!o||l||!this.hasValue()||f)return null;var p={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(o,an({},a,{innerProps:p,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,a=this.commonProps,s=this.props,l=s.isDisabled,f=s.isLoading,d=this.state.isFocused;if(!o||!f)return null;var p={"aria-hidden":"true"};return B.createElement(o,an({},a,{innerProps:p,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,a=i.IndicatorSeparator;if(!o||!a)return null;var s=this.commonProps,l=this.props.isDisabled,f=this.state.isFocused;return B.createElement(a,an({},s,{isDisabled:l,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var a=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return B.createElement(o,an({},a,{innerProps:f,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),a=o.Group,s=o.GroupHeading,l=o.Menu,f=o.MenuList,d=o.MenuPortal,p=o.LoadingMessage,g=o.NoOptionsMessage,y=o.Option,b=this.commonProps,x=this.state.focusedOption,E=this.props,v=E.captureMenuScroll,w=E.inputValue,C=E.isLoading,P=E.loadingMessage,R=E.minMenuHeight,k=E.maxMenuHeight,M=E.menuIsOpen,W=E.menuPlacement,ee=E.menuPosition,z=E.menuPortalTarget,H=E.menuShouldBlockScroll,te=E.menuShouldScrollIntoView,oe=E.noOptionsMessage,ue=E.onMenuScrollToTop,de=E.onMenuScrollToBottom;if(!M)return null;var se=function(G,X){var ge=G.type,xe=G.data,Ve=G.isDisabled,Pe=G.isSelected,Be=G.label,Je=G.value,fe=x===xe,V=Ve?void 0:function(){return i.onOptionHover(xe)},j=Ve?void 0:function(){return i.selectOption(xe)},ie="".concat(i.getElementId("option"),"-").concat(X),me={id:ie,onClick:j,onMouseMove:V,onMouseOver:V,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Pe};return B.createElement(y,an({},b,{innerProps:me,data:xe,isDisabled:Ve,isSelected:Pe,key:ie,label:Be,type:ge,value:Je,isFocused:fe,innerRef:fe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(G.data,"menu"))},pe;if(this.hasOptions())pe=this.getCategorizedOptions().map(function(ce){if(ce.type==="group"){var G=ce.data,X=ce.options,ge=ce.index,xe="".concat(i.getElementId("group"),"-").concat(ge),Ve="".concat(xe,"-heading");return B.createElement(a,an({},b,{key:xe,data:G,options:X,Heading:s,headingProps:{id:Ve,data:ce.data},label:i.formatGroupLabel(ce.data)}),ce.options.map(function(Pe){return se(Pe,"".concat(ge,"-").concat(Pe.index))}))}else if(ce.type==="option")return se(ce,"".concat(ce.index))});else if(C){var re=P({inputValue:w});if(re===null)return null;pe=B.createElement(p,b,re)}else{var Ee=oe({inputValue:w});if(Ee===null)return null;pe=B.createElement(g,b,Ee)}var $={minMenuHeight:R,maxMenuHeight:k,menuPlacement:W,menuPosition:ee,menuShouldScrollIntoView:te},Q=B.createElement(zLe,an({},b,$),function(ce){var G=ce.ref,X=ce.placerProps,ge=X.placement,xe=X.maxHeight;return B.createElement(l,an({},b,$,{innerRef:G,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:C,placement:ge}),B.createElement(gke,{captureEnabled:v,onTopArrive:ue,onBottomArrive:de,lockEnabled:H},function(Ve){return B.createElement(f,an({},b,{innerRef:function(Be){i.getMenuListRef(Be),Ve(Be)},innerProps:{role:"listbox","aria-multiselectable":b.isMulti,id:i.getElementId("listbox")},isLoading:C,maxHeight:xe,focusedOption:x}),pe)}))});return z||ee==="fixed"?B.createElement(d,an({},b,{appendTo:z,controlElement:this.controlRef,menuPlacement:W,menuPosition:ee}),Q):Q}},{key:"renderFormField",value:function(){var i=this,o=this.props,a=o.delimiter,s=o.isDisabled,l=o.isMulti,f=o.name,d=o.required,p=this.state.selectValue;if(d&&!this.hasValue()&&!s)return B.createElement(_ke,{name:f,onFocus:this.onValueInputFocus});if(!(!f||s))if(l)if(a){var g=p.map(function(x){return i.getOptionValue(x)}).join(a);return B.createElement("input",{name:f,type:"hidden",value:g})}else{var y=p.length>0?p.map(function(x,E){return B.createElement("input",{key:"i-".concat(E),name:f,type:"hidden",value:i.getOptionValue(x)})}):B.createElement("input",{name:f,type:"hidden",value:""});return B.createElement("div",null,y)}else{var b=p[0]?this.getOptionValue(p[0]):"";return B.createElement("input",{name:f,type:"hidden",value:b})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,a=o.ariaSelection,s=o.focusedOption,l=o.focusedValue,f=o.isFocused,d=o.selectValue,p=this.getFocusableOptions();return B.createElement(ike,an({},i,{id:this.getElementId("live-region"),ariaSelection:a,focusedOption:s,focusedValue:l,isFocused:f,selectValue:d,focusableOptions:p,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,a=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,f=this.props,d=f.className,p=f.id,g=f.isDisabled,y=f.menuIsOpen,b=this.state.isFocused,x=this.commonProps=this.getCommonProps();return B.createElement(s,an({},x,{className:d,innerProps:{id:p,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:b}),this.renderLiveRegion(),B.createElement(o,an({},x,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:b,menuIsOpen:y}),B.createElement(l,an({},x,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),B.createElement(a,an({},x,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var a=o.prevProps,s=o.clearFocusValueOnUpdate,l=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,d=o.isFocused,p=o.prevWasFocused,g=o.instancePrefix,y=i.options,b=i.value,x=i.menuIsOpen,E=i.inputValue,v=i.isMulti,w=w8(b),C={};if(a&&(b!==a.value||y!==a.options||x!==a.menuIsOpen||E!==a.inputValue)){var P=x?Dke(i,w):[],R=x?D8(e_(i,w),"".concat(g,"-option")):[],k=s?Nke(o,w):null,M=Fke(o,P),W=JC(R,M);C={selectValue:w,focusedOption:M,focusedOptionId:W,focusableOptionsWithIds:R,focusedValue:k,clearFocusValueOnUpdate:!1}}var ee=l!=null&&i!==a?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},z=f,H=d&&p;return d&&!H&&(z={value:Ev(v,w,w[0]||null),options:w,action:"initial-input-focus"},H=!p),f?.action==="initial-input-focus"&&(z=null),rn(rn(rn({},C),ee),{},{prevProps:i,ariaSelection:z,prevWasFocused:H})}}]),n})(B.Component);gV.defaultProps=kke;var Uke=B.forwardRef(function(e,t){var n=yMe(e);return B.createElement(gV,an({ref:t},n))}),Bke=Uke;const $ke=({webId:e})=>{const{i18n:t,_:n}=Fr(),r=Dr(xa),{communityId:i}=Mn(),[,o,,a]=Ha(e,i),[s,l]=B.useState(""),{data:f,...d}=Nwe(s,r),p=b_e(),g=w_e(),y=async({id:v,document:w})=>{await ws(p({interest:v,document:w,person:e}),{pending:t._({id:"S8rY67"}),success:t._({id:"6dc9lc"})})},b=B.useMemo(()=>cMe(l,500),[]),x=B.useCallback(v=>b(v),[b]),E=async v=>{if(v){const w=v.label;await ws(g({interest:v.uri,person:e,document:e}),{pending:t._({id:"Y8WO6Z",values:{label:w}}),success:t._({id:"jx1+4B",values:{label:w}})})}};return o||o===void 0?U.jsx(wa,{children:U.jsx(_t,{id:"O75yBm"})}):U.jsxs("div",{children:[U.jsx("ul",{className:eu.list,"data-cy":"interests-list-edit",children:a.map(({id:v,document:w})=>U.jsx("li",{children:U.jsx(sH,{uri:v,onRemove:()=>y({id:v,document:w}),locale:r,"data-cy":"edit-interest"})},v+w))}),U.jsx(Bke,{options:f,filterOption:()=>!0,formatOptionLabel:v=>U.jsxs("div",{title:v.description,children:[v.label,v.aliases.length>0&&` (${v.aliases.join(", ")})`,U.jsx("br",{}),v.description]}),isLoading:d.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:x,onChange:E,className:Fn(eu.select,"cy-select-interests"),classNames:{control:()=>eu.control,input:()=>eu.input,menu:()=>eu.menu,indicatorSeparator:()=>eu.separator,option:({isFocused:v})=>Fn(eu.option,v&&eu.focused)}})]})},zke="_container_6bk5k_1",qke="_uploadButton_6bk5k_17",yV={container:zke,uploadButton:qke},Hke=()=>{const{communityId:e}=Mn(),t=yi(),n=Fc(),{i18n:r,_:i}=Fr(),[,,o,,a]=Ha(t.webId,e),s=__e(),l=Wpe(),f=Gpe(),d=async p=>{if(!o)throw new Error(r._({id:"vVEMd1"}));const g=p.photo?.[0];let y;const b=a?.photo;g&&(y=await f.mutateAsync({uri:ii(o),data:g})),await s({hospexDocument:o,personId:t.webId,data:{...p,photo:y}}),g&&b&&await l.mutateAsync({uri:b}),n("..")};return a?U.jsxs("div",{className:yV.container,children:[U.jsx(Vke,{initialData:a,onSubmit:p=>ws(d(p),{pending:r._({id:"ER/wp5"}),success:r._({id:"srPuxS"})})}),U.jsx("label",{children:U.jsx(_t,{id:"65VN7K"})}),U.jsx($ke,{webId:t.webId})]}):U.jsx(wa,{children:U.jsx(_t,{id:"6Kt8NA"})})},Vke=({initialData:e,onSubmit:t})=>{const{i18n:n,_:r}=Fr(),{register:i,handleSubmit:o,watch:a,setValue:s,getValues:l,control:f}=Ps({defaultValues:JH(e,"photo")}),d=Dr(xa);B.useEffect(()=>{typeof e.name=="string"&&s("name",e.name)},[e.name,s]),B.useEffect(()=>{e.about&&s("about",Ac({},e.about,l("about")))},[l,e.about,d,s]);const{data:p}=bR(e.photo),g=o(async E=>{await t(E)}),[y,b]=B.useState();B.useEffect(()=>{const E=a(async(v,{name:w})=>{if(w==="photo"){const C=v.photo?.[0];C&&b(await Fpe(C))}});return()=>E.unsubscribe()},[a]);const x=y||p;return U.jsxs("form",{onSubmit:g,children:[U.jsx("label",{htmlFor:"name",children:U.jsx(_t,{id:"6YtxFj"})}),U.jsx("input",{id:"name",type:"text",...i("name"),placeholder:n._({id:"6YtxFj"})}),U.jsx("label",{htmlFor:"photo",children:U.jsx(_t,{id:"qa9cy4"})}),U.jsxs("label",{tabIndex:0,htmlFor:"photo",className:yV.uploadButton,style:x?{backgroundImage:`url(${x})`}:void 0,children:[U.jsx(nme,{}),U.jsx("input",{id:"photo",type:"file",...i("photo"),accept:"image/*"})]}),U.jsx("label",{htmlFor:"about",children:U.jsx(_t,{id:"IJbwnu"})}),U.jsx(N_,{control:f,name:"about",render:({field:E})=>U.jsx(k7,{initialData:e.about,locale:d,rows:5,...E,value:E.value})}),U.jsx(Yn,{primary:!0,children:U.jsx(_t,{id:"y3aU20"})})]})},Kke="_container_14k79_1",Gke={container:Kke},Wke=()=>{const e=yi(),{data:t}=Uw(e.webId),n=t.length;return U.jsxs("div",{className:Gke.container,children:[U.jsxs(bc,{to:"travel",secondary:!0,children:[U.jsx(sme,{size:24})," ",U.jsx(_t,{id:"jlqRFZ"})]}),U.jsxs(bc,{to:"host",secondary:!0,children:[U.jsx(F$,{size:24})," ",U.jsx(_t,{id:"tEB6c1"})]}),U.jsxs(bc,{to:"messages",secondary:!0,children:[U.jsx(fme,{size:24})," ",U.jsx(_t,{id:"gHFvtg"}),n?U.jsxs(U.Fragment,{children:[" ",U.jsx(_t,{id:"GbJuzd",values:{messageCount:n}})]}):null]})]})},Zke="_container_u0fgb_1",YC={container:Zke},vV=({tabs:e,children:t})=>U.jsxs("div",{className:YC.container,children:[t,U.jsx("nav",{className:YC.navigation,children:e.map(({link:n,label:r})=>U.jsx(VU,{className:({isActive:i})=>i?YC.active:void 0,to:n,children:r},n))})]}),Qke=()=>U.jsx(vV,{tabs:[],children:U.jsx(X_,{})}),Jke=()=>U.jsx($A,{to:"offers",replace:!0});var t_={exports:{}},Yke=t_.exports,F8;function Xke(){return F8||(F8=1,(function(e,t){(function(n,r){e.exports=r()})(Yke,(function(){var n=1e3,r=6e4,i=36e5,o="millisecond",a="second",s="minute",l="hour",f="day",d="week",p="month",g="quarter",y="year",b="date",x="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ue){var de=["th","st","nd","rd"],se=ue%100;return"["+ue+(de[(se-20)%10]||de[se]||de[0])+"]"}},C=function(ue,de,se){var pe=String(ue);return!pe||pe.length>=de?ue:""+Array(de+1-pe.length).join(se)+ue},P={s:C,z:function(ue){var de=-ue.utcOffset(),se=Math.abs(de),pe=Math.floor(se/60),re=se%60;return(de<=0?"+":"-")+C(pe,2,"0")+":"+C(re,2,"0")},m:function ue(de,se){if(de.date()<se.date())return-ue(se,de);var pe=12*(se.year()-de.year())+(se.month()-de.month()),re=de.clone().add(pe,p),Ee=se-re<0,$=de.clone().add(pe+(Ee?-1:1),p);return+(-(pe+(se-re)/(Ee?re-$:$-re))||0)},a:function(ue){return ue<0?Math.ceil(ue)||0:Math.floor(ue)},p:function(ue){return{M:p,y,w:d,d:f,D:b,h:l,m:s,s:a,ms:o,Q:g}[ue]||String(ue||"").toLowerCase().replace(/s$/,"")},u:function(ue){return ue===void 0}},R="en",k={};k[R]=w;var M="$isDayjsObject",W=function(ue){return ue instanceof te||!(!ue||!ue[M])},ee=function ue(de,se,pe){var re;if(!de)return R;if(typeof de=="string"){var Ee=de.toLowerCase();k[Ee]&&(re=Ee),se&&(k[Ee]=se,re=Ee);var $=de.split("-");if(!re&&$.length>1)return ue($[0])}else{var Q=de.name;k[Q]=de,re=Q}return!pe&&re&&(R=re),re||!pe&&R},z=function(ue,de){if(W(ue))return ue.clone();var se=typeof de=="object"?de:{};return se.date=ue,se.args=arguments,new te(se)},H=P;H.l=ee,H.i=W,H.w=function(ue,de){return z(ue,{locale:de.$L,utc:de.$u,x:de.$x,$offset:de.$offset})};var te=(function(){function ue(se){this.$L=ee(se.locale,null,!0),this.parse(se),this.$x=this.$x||se.x||{},this[M]=!0}var de=ue.prototype;return de.parse=function(se){this.$d=(function(pe){var re=pe.date,Ee=pe.utc;if(re===null)return new Date(NaN);if(H.u(re))return new Date;if(re instanceof Date)return new Date(re);if(typeof re=="string"&&!/Z$/i.test(re)){var $=re.match(E);if($){var Q=$[2]-1||0,ce=($[7]||"0").substring(0,3);return Ee?new Date(Date.UTC($[1],Q,$[3]||1,$[4]||0,$[5]||0,$[6]||0,ce)):new Date($[1],Q,$[3]||1,$[4]||0,$[5]||0,$[6]||0,ce)}}return new Date(re)})(se),this.init()},de.init=function(){var se=this.$d;this.$y=se.getFullYear(),this.$M=se.getMonth(),this.$D=se.getDate(),this.$W=se.getDay(),this.$H=se.getHours(),this.$m=se.getMinutes(),this.$s=se.getSeconds(),this.$ms=se.getMilliseconds()},de.$utils=function(){return H},de.isValid=function(){return this.$d.toString()!==x},de.isSame=function(se,pe){var re=z(se);return this.startOf(pe)<=re&&re<=this.endOf(pe)},de.isAfter=function(se,pe){return z(se)<this.startOf(pe)},de.isBefore=function(se,pe){return this.endOf(pe)<z(se)},de.$g=function(se,pe,re){return H.u(se)?this[pe]:this.set(re,se)},de.unix=function(){return Math.floor(this.valueOf()/1e3)},de.valueOf=function(){return this.$d.getTime()},de.startOf=function(se,pe){var re=this,Ee=!!H.u(pe)||pe,$=H.p(se),Q=function(Be,Je){var fe=H.w(re.$u?Date.UTC(re.$y,Je,Be):new Date(re.$y,Je,Be),re);return Ee?fe:fe.endOf(f)},ce=function(Be,Je){return H.w(re.toDate()[Be].apply(re.toDate("s"),(Ee?[0,0,0,0]:[23,59,59,999]).slice(Je)),re)},G=this.$W,X=this.$M,ge=this.$D,xe="set"+(this.$u?"UTC":"");switch($){case y:return Ee?Q(1,0):Q(31,11);case p:return Ee?Q(1,X):Q(0,X+1);case d:var Ve=this.$locale().weekStart||0,Pe=(G<Ve?G+7:G)-Ve;return Q(Ee?ge-Pe:ge+(6-Pe),X);case f:case b:return ce(xe+"Hours",0);case l:return ce(xe+"Minutes",1);case s:return ce(xe+"Seconds",2);case a:return ce(xe+"Milliseconds",3);default:return this.clone()}},de.endOf=function(se){return this.startOf(se,!1)},de.$set=function(se,pe){var re,Ee=H.p(se),$="set"+(this.$u?"UTC":""),Q=(re={},re[f]=$+"Date",re[b]=$+"Date",re[p]=$+"Month",re[y]=$+"FullYear",re[l]=$+"Hours",re[s]=$+"Minutes",re[a]=$+"Seconds",re[o]=$+"Milliseconds",re)[Ee],ce=Ee===f?this.$D+(pe-this.$W):pe;if(Ee===p||Ee===y){var G=this.clone().set(b,1);G.$d[Q](ce),G.init(),this.$d=G.set(b,Math.min(this.$D,G.daysInMonth())).$d}else Q&&this.$d[Q](ce);return this.init(),this},de.set=function(se,pe){return this.clone().$set(se,pe)},de.get=function(se){return this[H.p(se)]()},de.add=function(se,pe){var re,Ee=this;se=Number(se);var $=H.p(pe),Q=function(X){var ge=z(Ee);return H.w(ge.date(ge.date()+Math.round(X*se)),Ee)};if($===p)return this.set(p,this.$M+se);if($===y)return this.set(y,this.$y+se);if($===f)return Q(1);if($===d)return Q(7);var ce=(re={},re[s]=r,re[l]=i,re[a]=n,re)[$]||1,G=this.$d.getTime()+se*ce;return H.w(G,this)},de.subtract=function(se,pe){return this.add(-1*se,pe)},de.format=function(se){var pe=this,re=this.$locale();if(!this.isValid())return re.invalidDate||x;var Ee=se||"YYYY-MM-DDTHH:mm:ssZ",$=H.z(this),Q=this.$H,ce=this.$m,G=this.$M,X=re.weekdays,ge=re.months,xe=re.meridiem,Ve=function(Je,fe,V,j){return Je&&(Je[fe]||Je(pe,Ee))||V[fe].slice(0,j)},Pe=function(Je){return H.s(Q%12||12,Je,"0")},Be=xe||function(Je,fe,V){var j=Je<12?"AM":"PM";return V?j.toLowerCase():j};return Ee.replace(v,(function(Je,fe){return fe||(function(V){switch(V){case"YY":return String(pe.$y).slice(-2);case"YYYY":return H.s(pe.$y,4,"0");case"M":return G+1;case"MM":return H.s(G+1,2,"0");case"MMM":return Ve(re.monthsShort,G,ge,3);case"MMMM":return Ve(ge,G);case"D":return pe.$D;case"DD":return H.s(pe.$D,2,"0");case"d":return String(pe.$W);case"dd":return Ve(re.weekdaysMin,pe.$W,X,2);case"ddd":return Ve(re.weekdaysShort,pe.$W,X,3);case"dddd":return X[pe.$W];case"H":return String(Q);case"HH":return H.s(Q,2,"0");case"h":return Pe(1);case"hh":return Pe(2);case"a":return Be(Q,ce,!0);case"A":return Be(Q,ce,!1);case"m":return String(ce);case"mm":return H.s(ce,2,"0");case"s":return String(pe.$s);case"ss":return H.s(pe.$s,2,"0");case"SSS":return H.s(pe.$ms,3,"0");case"Z":return $}return null})(Je)||$.replace(":","")}))},de.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},de.diff=function(se,pe,re){var Ee,$=this,Q=H.p(pe),ce=z(se),G=(ce.utcOffset()-this.utcOffset())*r,X=this-ce,ge=function(){return H.m($,ce)};switch(Q){case y:Ee=ge()/12;break;case p:Ee=ge();break;case g:Ee=ge()/3;break;case d:Ee=(X-G)/6048e5;break;case f:Ee=(X-G)/864e5;break;case l:Ee=X/i;break;case s:Ee=X/r;break;case a:Ee=X/n;break;default:Ee=X}return re?Ee:H.a(Ee)},de.daysInMonth=function(){return this.endOf(p).$D},de.$locale=function(){return k[this.$L]},de.locale=function(se,pe){if(!se)return this.$L;var re=this.clone(),Ee=ee(se,pe,!0);return Ee&&(re.$L=Ee),re},de.clone=function(){return H.w(this.$d,this)},de.toDate=function(){return new Date(this.valueOf())},de.toJSON=function(){return this.isValid()?this.toISOString():null},de.toISOString=function(){return this.$d.toISOString()},de.toString=function(){return this.$d.toUTCString()},ue})(),oe=te.prototype;return z.prototype=oe,[["$ms",o],["$s",a],["$m",s],["$H",l],["$W",f],["$M",p],["$y",y],["$D",b]].forEach((function(ue){oe[ue[1]]=function(de){return this.$g(de,ue[0],ue[1])}})),z.extend=function(ue,de){return ue.$i||(ue(de,te,z),ue.$i=!0),z},z.locale=ee,z.isDayjs=W,z.unix=function(ue){return z(1e3*ue)},z.en=k[R],z.Ls=k,z.p={},z}))})(t_)),t_.exports}var e3e=Xke();const j8=_r(e3e),t3e=()=>{const e=zc(md);return B.useCallback(async({senderId:t,message:n,chat:r})=>{const o=`${ii(r)}${j8().format("YYYY/MM/DD")}/chat.ttl`,a=`${o}#msg-${dl()}`,s=new Date().toISOString();return await e.mutateAsync({uri:ii(r)+j8().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{l.message?.add({"@id":a,created:s,content:n,maker:{"@id":t}})}}),{messageId:a,todayChat:o,createdAt:s}},[e])},n3e=()=>{const e=qa(Q9);return B.useCallback(async({inbox:t,senderId:n,messageId:r,chatId:i,updated:o,content:a})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:{"@id":"Add"},actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:{"@id":Xf.Note},created:o,content:a,maker:{"@id":n}},target:{"@id":i},updated:o}})},[e])},r3e=()=>{const e=qa(md),t=qa(zd),n=XH();return B.useCallback(async({me:r,otherPerson:i,otherChat:o,hospexContainer:a,privateTypeIndex:s})=>{const l=`${a}messages/${dl()}/`,f=`${l}index.ttl`,d=`${f}#this`,p=new Date().toISOString();await e.mutateAsync({uri:f,data:{"@id":d,type:{"@id":"LongChat"},author:{"@id":r},created:p,title:"Hospex chat channel"},transform:y=>{y.participation?.add({"@id":`${f}#${dl()}`,dtstart:p,participant:{"@id":r}}).add({"@id":`${f}#${dl()}`,dtstart:p,participant:{"@id":i}}),o&&y.participation?.filter(b=>b.participant["@id"]===i).forEach(b=>b.references?.add({"@id":o}))}});const g=await Bc(l);return await t.mutateAsync({uri:g,data:[{"@id":g+"#ReadWriteControl",type:{"@id":"Authorization"},agent:new Dn([{"@id":r}]),accessTo:new Dn([{"@id":l}]),default:{"@id":l},mode:new Dn([{"@id":hn.Read},{"@id":hn.Write},{"@id":hn.Control}])},{"@id":g+"#Read",type:{"@id":"Authorization"},agent:new Dn([{"@id":i}]),accessTo:new Dn([{"@id":l}]),default:{"@id":l},mode:new Dn([{"@id":hn.Read}])}]}),await n({index:s,type:B9.LongChat,location:d}),{chatContainer:l,chatFile:f,chatId:d}},[t,e,n])},i3e=()=>{const e=zc(md),t=jw();return B.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:o})=>{try{await e.mutateAsync({uri:r,subject:r,transform:a=>{if(!a.participation)throw new Error("no participation");if(a.participation&&a.participation.size>2)throw new Error("too much participation (only 2 people supported!)");const s=a.participation?.toArray().find(l=>l.participant?.["@id"]===o);if(!s)throw new Error("other person's participation not found");if(s.references?.size===1&&s.references.toArray()[0]["@id"]===i)throw new Error("already updated");if(s.references&&s.references.size>0)throw new Error("participation already references some other chat");s.references?.add({"@id":i})}})}catch(a){if(!(a instanceof Error&&a.message==="already updated"))throw a}await t.mutateAsync({uri:n})},[t,e])},o3e=({me:e,userId:t})=>{const{quads:n,variables:r,isLoading:i}=oo(B.useMemo(()=>({query:Nve,variables:{person:[e],otherPerson:[t]},fetch:Xn,staleTime:3e4}),[e,t])),o=B.useMemo(()=>{const p=ao(n).usingType(md);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>p.fromSubject(y)).filter(y=>y.participation?.size&&y.participation.size<=2).flatMap(y=>y?.message?.map(b=>({id:b["@id"],message:b.content,createdAt:new Date(b.created).getTime(),from:b.maker["@id"],chat:y["@id"],test:y.participation?.map(x=>x.participant["@id"])})).flat())??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),a=B.useMemo(()=>{const p=ao(n).usingType(md);return(r.chatWithOtherPerson??[]).map(y=>p.fromSubject(y)).filter(y=>y.participation?.size&&y.participation.size<=2).flatMap(y=>y["@id"]?{myChat:y["@id"],otherChats:y.participation?.toArray()?.[0]?.references?.map(b=>b["@id"]??[]).flat()}:[])},[n,r.chatWithOtherPerson]),{data:s,...l}=Uw(e),f=B.useMemo(()=>s.filter(p=>p.from===t),[s,t]);return[B.useMemo(()=>{const p=[...o];return f.forEach(g=>{const y=o.findIndex(b=>b.id===g.id);y>-1?p[y]=g:p.push(g)}),p.sort((g,y)=>(g?.createdAt??0)-(y?.createdAt??0))},[o,f]),{isLoading:i},l,a]},a3e=({from:e,to:t,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:e.id,name:e.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:t.id,name:t.name}}),s3e=e=>async({data:t})=>{if(!(await Xn(new URL("notification",e),{method:"POST",body:JSON.stringify(a3e(t)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},u3e=({from:e,to:t,community:n,type:r})=>{const{communityId:i,emailNotificationsService:o}=Mn();n??=i;const[a]=Ha(e,n),[s]=Ha(t,n),{mutateAsync:l}=ta({mutationFn:s3e(o)});return B.useCallback(async f=>{await l({type:r,data:{...f,from:a,to:s}})},[a,l,s,r])};var _V=Symbol.for("immer-nothing"),U8=Symbol.for("immer-draftable"),ea=Symbol.for("immer-state");function $a(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sm=Object.getPrototypeOf;function bd(e){return!!e&&!!e[ea]}function Ic(e){return e?wV(e)||Array.isArray(e)||!!e[U8]||!!e.constructor?.[U8]||Fm(e)||f0(e):!1}var l3e=Object.prototype.constructor.toString(),B8=new WeakMap;function wV(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=B8.get(n);return r===void 0&&(r=Function.toString.call(n),B8.set(n,r)),r===l3e}function V_(e,t,n=!0){c0(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function c0(e){const t=e[ea];return t?t.type_:Array.isArray(e)?1:Fm(e)?2:f0(e)?3:0}function _A(e,t){return c0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bV(e,t,n){const r=c0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function c3e(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fm(e){return e instanceof Map}function f0(e){return e instanceof Set}function hc(e){return e.copy_||e.base_}function wA(e,t){if(Fm(e))return new Map(e);if(f0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=wV(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ea];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const a=i[o],s=r[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(sm(e),r)}else{const r=sm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function iO(e,t=!1){return d0(e)||bd(e)||!Ic(e)||(c0(e)>1&&Object.defineProperties(e,{set:Cv,add:Cv,clear:Cv,delete:Cv}),Object.freeze(e),t&&Object.values(e).forEach(n=>iO(n,!0))),e}function f3e(){$a(2)}var Cv={value:f3e};function d0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var d3e={};function kc(e){const t=d3e[e];return t||$a(0,e),t}var um;function SV(){return um}function h3e(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $8(e,t){t&&(kc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bA(e){SA(e),e.drafts_.forEach(p3e),e.drafts_=null}function SA(e){e===um&&(um=e.parent_)}function z8(e){return um=h3e(um,e)}function p3e(e){const t=e[ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function q8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ea].modified_&&(bA(t),$a(4)),Ic(e)&&(e=K_(t,e),t.parent_||G_(t,e)),t.patches_&&kc("Patches").generateReplacementPatches_(n[ea].base_,e,t.patches_,t.inversePatches_)):e=K_(t,n,[]),bA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_V?e:void 0}function K_(e,t,n){if(d0(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ea];if(!i)return V_(t,(o,a)=>H8(e,i,t,o,a,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return G_(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let a=o,s=!1;i.type_===3&&(a=new Set(o),o.clear(),s=!0),V_(a,(l,f)=>H8(e,i,o,l,f,n,s),r),G_(e,o,!1),n&&e.patches_&&kc("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function H8(e,t,n,r,i,o,a){if(i==null||typeof i!="object"&&!a)return;const s=d0(i);if(!(s&&!a)){if(bd(i)){const l=o&&t&&t.type_!==3&&!_A(t.assigned_,r)?o.concat(r):void 0,f=K_(e,i,l);if(bV(n,r,f),bd(f))e.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Ic(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&s)return;K_(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Fm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&G_(e,i)}}}function G_(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&iO(t,n)}function m3e(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:SV(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=oO;n&&(i=[r],o=lm);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var oO={get(e,t){if(t===ea)return e;const n=hc(e);if(!_A(n,t))return g3e(e,n,t);const r=n[t];return e.finalized_||!Ic(r)?r:r===XC(e.base_,t)?(eT(e),e.copy_[t]=EA(r,e)):r},has(e,t){return t in hc(e)},ownKeys(e){return Reflect.ownKeys(hc(e))},set(e,t,n){const r=xV(hc(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=XC(hc(e),t),o=i?.[ea];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(c3e(n,i)&&(n!==void 0||_A(e.base_,t)))return!0;eT(e),xA(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return XC(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,eT(e),xA(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=hc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){$a(11)},getPrototypeOf(e){return sm(e.base_)},setPrototypeOf(){$a(12)}},lm={};V_(oO,(e,t)=>{lm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lm.deleteProperty=function(e,t){return lm.set.call(this,e,t,void 0)};lm.set=function(e,t,n){return oO.set.call(this,e[0],t,n,e[0])};function XC(e,t){const n=e[ea];return(n?hc(n):e)[t]}function g3e(e,t,n){const r=xV(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function xV(e,t){if(!(t in e))return;let n=sm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sm(n)}}function xA(e){e.modified_||(e.modified_=!0,e.parent_&&xA(e.parent_))}function eT(e){e.copy_||(e.copy_=wA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var y3e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const a=this;return function(l=o,...f){return a.produce(l,d=>n.call(this,d,...f))}}typeof n!="function"&&$a(6),r!==void 0&&typeof r!="function"&&$a(7);let i;if(Ic(t)){const o=z8(this),a=EA(t,void 0);let s=!0;try{i=n(a),s=!1}finally{s?bA(o):SA(o)}return $8(o,r),q8(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===_V&&(i=void 0),this.autoFreeze_&&iO(i,!0),r){const o=[],a=[];kc("Patches").generateReplacementPatches_(t,i,o,a),r(o,a)}return i}else $a(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,l=>t(l,...s));let r,i;return[this.produce(t,n,(a,s)=>{r=a,i=s}),r,i]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ic(e)||$a(8),bd(e)&&(e=v3e(e));const t=z8(this),n=EA(e,void 0);return n[ea].isManual_=!0,SA(t),n}finishDraft(e,t){const n=e&&e[ea];(!n||!n.isManual_)&&$a(9);const{scope_:r}=n;return $8(r,t),q8(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=kc("Patches").applyPatches_;return bd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function EA(e,t){const n=Fm(e)?kc("MapSet").proxyMap_(e,t):f0(e)?kc("MapSet").proxySet_(e,t):m3e(e,t);return(t?t.scope_:SV()).drafts_.push(n),n}function v3e(e){return bd(e)||$a(10,e),EV(e)}function EV(e){if(!Ic(e)||d0(e))return e;const t=e[ea];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wA(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=wA(e,!0);return V_(n,(i,o)=>{bV(n,i,EV(o))},r),t&&(t.finalized_=!1),n}var _3e=new y3e,tT=_3e.produce;const w3e="_messages_1tp4g_1",b3e="_message_1tp4g_1",S3e="_fromMe_1tp4g_13",x3e="_unread_1tp4g_18",E3e="_time_1tp4g_21",C3e="_messageForm_1tp4g_25",Vf={messages:w3e,message:b3e,fromMe:S3e,unread:x3e,time:E3e,messageForm:C3e},T3e=()=>{const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=Mn(),r=jA().id,i=yi(),{i18n:o,_:a}=Fr(),[s,l]=B.useState(!1),[f,d,p,g]=o3e({me:i.webId??"",userId:r}),{privateTypeIndexes:y,personalHospexDocuments:b}=nm(i.webId??"",e),[x]=dz(r),E=x?.inbox?.["@id"],v=t3e(),w=n3e(),C=r3e(),P=u3e({from:i.webId,to:r,type:"message"}),R=i3e(),[k,M]=B.useState({}),W=B.useRef(new Set);B.useEffect(()=>{(async()=>{if(f&&i.webId&&g[0]?.myChat){for(const se of f)if(se.notification&&!(se.id in k)&&!W.current.has(se.id)){W.current.add(se.id),M(tT(pe=>{pe[se.id]="processing"}));try{await R({notificationId:se.notification,chat:g[0].myChat,otherChat:se.chat,otherPerson:r}),M(tT(pe=>{pe[se.id]="processed"}))}catch{M(tT(pe=>{pe[se.id]="errored"}))}}}})()},[i.webId,g,f,k,r,R]);const ee=f.filter(se=>se.notification).find(se=>!!se.chat)?.chat,{register:z,handleSubmit:H,reset:te}=Ps(),oe=H(async se=>{if(!i.webId)throw new Error(o._({id:"udP0jg"}));if(l(!0),!E)throw new Error(o._({id:"xAkrnZ"}));let pe=g[0]?.myChat;if(!pe){if(!b[0])throw new Error(o._({id:"CMfhBr"}));if(!y[0])throw new Error(o._({id:"fMnMgg"}));({chatId:pe}=await C({me:i.webId,otherPerson:r,hospexContainer:ii(b[0]),otherChat:g[0]?.otherChats?.[0]??ee??void 0,privateTypeIndex:y[0]}))}const{messageId:re,createdAt:Ee}=await ws(v({senderId:i.webId,message:se.message,chat:pe}),{pending:o._({id:"M/R9wy"}),success:o._({id:"kH4vZi"})});await ws(w({inbox:E,senderId:i.webId,messageId:re,chatId:pe,updated:Ee,content:se.message}),{pending:o._({id:"HZ3V75"}),success:o._({id:"qFkBv/"})}),te({message:""}),l(!1),t&&n==="simple"&&await ws(P({messageId:re,message:se.message}),{pending:o._({id:"PmxYBp"}),success:o._({id:"9K7sK1"})})}),ue=s||!E,de=!d.isLoading&&!p.isLoading&&!g.some(se=>!!se.myChat);return U.jsxs("div",{children:[U.jsx("pre",{children:(d.isLoading||p.isLoading)&&U.jsx(_t,{id:"Z3FXyt"})}),U.jsx(_t,{id:"NqP6cw",components:{0:U.jsx(VP,{webId:r,link:!0})}}),U.jsx("div",{className:Vf.messages,children:f?.map(({id:se,message:pe,from:re,createdAt:Ee,status:$},Q)=>U.jsxs("div",{className:Fn(Vf.message,re===i.webId&&Vf.fromMe,$==="unread"&&Vf.unread),"data-cy":"message","data-cy-message-from":re===i.webId?"me":"other",children:[U.jsx("span",{"data-testid":`message${Q}-from-${re===i.webId?"me":"other"}`,children:pe}),U.jsx("span",{className:Vf.time,title:new Date(Ee).toLocaleString(),children:new Date(Ee).toLocaleTimeString()})]},se))??U.jsx("div",{children:U.jsx(wa,{children:U.jsx(_t,{id:"bo2Xks"})})})}),de&&U.jsx(U.Fragment,{children:U.jsx(_t,{id:"dWGab4"})}),U.jsx("form",{onSubmit:oe,className:Vf.messageForm,children:U.jsxs("fieldset",{disabled:ue,children:[U.jsx("textarea",{...z("message",{required:!0})}),U.jsx(Yn,{primary:!0,type:"submit",disabled:ue,children:U.jsx(_t,{id:"JlFcis"})})]})})]})};const cc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.add(n)})},fc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.remove(n)})},CV=En.Marker.extend({initialize(e,t){En.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options,t=[["stroke",e.color],["stroke-width",e.weight],["fill",e.fillColor],["fill-opacity",e.fillOpacity],["opacity",e.opacity]].filter(([r,i])=>i!==void 0).map(([r,i])=>`${r}="${i}"`).join(" "),n=this._getIconSVG(e,t);this._locationIcon=En.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const n=e.radius,r=e.weight,i=n+r,o=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${o}" height="${o}" version="1.1" viewBox="-${i} -${i} ${o} ${o}"><circle r="${n}" ${t} /></svg>`,w:o,h:o}},setStyle(e){En.setOptions(this,e),this.createIcon()}}),A3e=CV.extend({initialize(e,t,n){En.setOptions(this,n),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const n=e.radius,r=n+e.weight+e.depth,i=r*2,o=this._arrowPoints(n,e.width,e.depth,this._heading);return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${i}" height="${i}" version="1.1" viewBox="-${r} -${r} ${i} ${i}"><path d="${o}" ${t} /></svg>`,w:i,h:i}},_arrowPoints(e,t,n,r){const i=(r-90)*Math.PI/180,o=Math.cos(i),a=Math.sin(i),s=-Math.sin(i),l=Math.cos(i),f=t/2,d=e*o,p=e*a,g=d+f*s,y=p+f*l,b=d-f*s,x=p-f*l,E=d+n*o,v=p+n*a;return`M ${g},${y} L ${b},${x} L ${E},${v} Z`}}),R3e=En.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:CV,compassClass:A3e,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const n=En.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);n.title=t.strings.title,n.href="#",n.setAttribute("role","button");const r=En.DomUtil.create(t.iconElementTag,t.icon,n);if(t.strings.text!==void 0){const i=En.DomUtil.create(t.textElementTag,"leaflet-locate-text",n);i.textContent=t.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",t.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?En.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=En.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=En.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=En.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=En.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new En.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(t,this.options);return this._link=n.link,this._icon=n.icon,En.DomEvent.on(this._link,"click",function(r){En.DomEvent.stopPropagation(r),En.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",En.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,n=function(){En.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?En.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&En.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),En.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const a=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(a):this._circle=En.circle(t,e,a).addTo(this._layer)}let n,r;if(this.options.metric?(n=e.toFixed(0),r=this.options.strings.metersUnit):(n=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const a=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(a)):this._marker=new this.options.markerClass(t,a).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function o(){return typeof i=="string"?En.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(o())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(o())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,En.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(fc(this._container,"active following"),cc(this._container,"requesting"),fc(this._icon,this.options.icon),cc(this._icon,this.options.iconLoading)):e=="active"?(fc(this._container,"requesting following"),cc(this._container,"active"),fc(this._icon,this.options.iconLoading),cc(this._icon,this.options.icon)):e=="following"&&(fc(this._container,"requesting"),cc(this._container,"active following"),fc(this._icon,this.options.iconLoading),cc(this._icon,this.options.icon))},_cleanClasses(){En.DomUtil.removeClass(this._container,"requesting"),En.DomUtil.removeClass(this._container,"active"),En.DomUtil.removeClass(this._container,"following"),fc(this._icon,this.options.iconLoading),cc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function P3e(e,t){const n=B.useRef(t);B.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const O3e=1;function M3e(e){return Object.freeze({__version:O3e,map:e})}function L3e(e,t){return Object.freeze({...e,...t})}const aO=B.createContext(null);function h0(){const e=B.use(aO);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function TV(e){function t(n,r){const{instance:i,context:o}=e(n).current;B.useImperativeHandle(r,()=>i);const{children:a}=n;return a==null?null:St.createElement(aO,{value:o},a)}return B.forwardRef(t)}function AV(e){function t(n,r){const{instance:i}=e(n).current;return B.useImperativeHandle(r,()=>i),null}return B.forwardRef(t)}function I3e(e){return function(n){const r=h0(),i=e(n,r),{instance:o}=i.current,a=B.useRef(n.position),{position:s}=n;return B.useEffect(function(){return o.addTo(r.map),function(){o.remove()}},[r.map,o]),B.useEffect(function(){s!=null&&s!==a.current&&(o.setPosition(s),a.current=s)},[o,s]),i}}function RV(e,t){const n=B.useRef(void 0);B.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function sO(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function uO(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function p0(e,t){return t==null?function(r,i){const o=B.useRef(void 0);return o.current||(o.current=e(r,i)),o}:function(r,i){const o=B.useRef(void 0);o.current||(o.current=e(r,i));const a=B.useRef(r),{instance:s}=o.current;return B.useEffect(function(){a.current!==r&&(t(s,r,a.current),a.current=r)},[s,r,t]),o}}function PV(e,t){B.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function OV(e){return function(n){const r=h0(),i=e(sO(n,r),r);return P3e(r.map,n.attribution),RV(i.current,n.eventHandlers),PV(i.current,r),i}}function k3e(e,t){const n=B.useRef(void 0);B.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function D3e(e){return function(n){const r=h0(),i=e(sO(n,r),r);return RV(i.current,n.eventHandlers),PV(i.current,r),k3e(i.current,n),i}}function N3e(e){function t(i,o){return uO(e(i),o)}const n=p0(t),r=I3e(n);return AV(r)}function F3e(e,t){const n=p0(e,t),r=OV(n);return TV(r)}function j3e(e,t){const n=p0(e,t),r=D3e(n);return TV(r)}function U3e(e,t){const n=p0(e,t),r=OV(n);return AV(r)}function B3e(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const MV=N3e(e=>new R3e(e));function lO(){return h0().map}function nT(e,t){const n=lO();return B.useEffect(function(){return n.on(e,t),function(){n.off(e,t)}},[n,e,t]),n}function $3e({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:o,placeholder:a,style:s,whenReady:l,zoom:f,...d},p){const[g]=B.useState({className:i,id:o,style:s}),[y,b]=B.useState(null),x=B.useRef(void 0);B.useImperativeHandle(p,()=>y?.map??null,[y]);const E=B.useCallback(w=>{if(w!==null&&!x.current){const C=new En.Map(w,d);x.current=C,n!=null&&f!=null?C.setView(n,f):e!=null&&C.fitBounds(e,t),l!=null&&C.whenReady(l),b(M3e(C))}},[]);B.useEffect(()=>()=>{y?.map.remove()},[y]);const v=y?St.createElement(aO,{value:y},r):a??null;return St.createElement("div",{...g,ref:E},v)}const cO=B.forwardRef($3e),fO=F3e(function({position:t,...n},r){const i=new En.Marker(t,n);return uO(i,L3e(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),dO=U3e(function({url:t,...n},r){const i=new En.TileLayer(t,sO(n,r));return uO(i,r)},function(t,n,r){B3e(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),z3e="_mapContainer_zpxie_1",q3e="_description_zpxie_11",CA={mapContainer:z3e,description:q3e},V8=e=>(e%360-540)%360+180,Tv=e=>{const t=e.getBounds();return{n:t.getNorth(),s:t.getSouth(),e:t.getEast(),w:t.getWest()}},LV=({onChange:e,onUpdate:t})=>{const n=lO(),r=B.useCallback(()=>{const{lat:a,lng:s}=n.getCenter(),l=Tv(n);e?.({lat:a,long:s},l)},[n,e]),i=B.useCallback(()=>{const{lat:a,lng:s}=n.getCenter(),l=V8(s),f={lat:a,long:l};if(Math.abs(l-s)>1){n.setView([a,l],n.getZoom(),{animate:!1});const p=Tv(n);e?.(f,p)}const d=Tv(n);t?.(f,d)},[n,e,t]),o=B.useCallback(()=>{const{lat:a,lng:s}=n.getCenter(),l=V8(s),f={lat:a,long:l};Math.abs(l-s)>1&&n.setView([a,l],n.getZoom(),{animate:!1});const d=Tv(n);t?.(f,d)},[n,t]);return nT("load",o),nT("move",r),nT("moveend",i),B.useEffect(()=>{n&&o()},[o,n]),null},H3e=({value:e,onChange:t,isInitial:n})=>{const r=B.useMemo(()=>[e.lat,e.long],[e.lat,e.long]),{tileServer:i}=Mn(),{i18n:o,_:a}=Fr();return U.jsxs(cO,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Fn(CA.mapContainer,"accommodation-map-container-edit"),children:[U.jsx(dO,{url:i}),U.jsx(MV,{strings:{title:o._({id:"sa0+P5"})},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),U.jsx(fO,{position:r}),U.jsx(LV,{onChange:t})]})},V3e="_container_1saps_1",K3e="_header_1saps_10",G3e="_accommodation_1saps_17",W3e="_accommodationForm_1saps_27",Z3e="_errorMessage_1saps_34",Q3e="_inputError_1saps_39",J3e="_actions_1saps_45",Y3e="_addAccommodationButton_1saps_54",pa={container:V3e,header:K3e,accommodation:G3e,accommodationForm:W3e,errorMessage:Z3e,inputError:Q3e,actions:J3e,addAccommodationButton:Y3e},X3e={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"object",minProperties:1,patternProperties:{".*":{type:"string"}},additionalProperties:!1,not:{type:"object",minProperties:1,patternProperties:{".*":{type:"string",pattern:"^[\\s]*$"}}},required:[]}}},K8=({initialData:e,onSubmit:t,onCancel:n})=>{const{i18n:r,_:i}=Fr(),o=Dr(xa),{handleSubmit:a,control:s,formState:{errors:l}}=Ps({defaultValues:Ac({location:{lat:0,long:0},description:{[o]:""}},e),resolver:I7(X3e)}),f=a(d=>{t(d)});return U.jsxs("form",{onSubmit:f,onReset:n,className:Fn(pa.accommodationForm,pa.accommodation),"data-cy":"accommodation-form",children:[U.jsxs("label",{children:[U.jsx(_t,{id:"ApEC55",components:{0:U.jsx(ame,{})}}),U.jsx("br",{}),U.jsx(N3,{})," ",U.jsx(_t,{id:"BQTO6T"})," ",U.jsx(N3,{})]}),U.jsx(N_,{control:s,name:"location",render:({field:d})=>U.jsx("div",{className:Fn(l.location&&pa.inputError),children:U.jsx(H3e,{value:d.value,onChange:d.onChange,isInitial:!e})})}),l.location&&U.jsx("div",{className:pa.errorMessage,children:U.jsx(_t,{id:"OjgFFJ"})}),U.jsx("label",{htmlFor:"description",children:U.jsx(_t,{id:"+j94GR"})}),U.jsx(N_,{control:s,name:"description",render:({field:d})=>U.jsx(k7,{className:Fn(l.description&&pa.inputError),id:"description",placeholder:r._({id:"vJIeDW"}),initialData:e?.description,locale:o,...d,value:d.value,rows:5})}),l.description&&U.jsx("div",{className:pa.errorMessage,children:U.jsx(_t,{id:"B8AaMI"})}),U.jsxs("div",{className:pa.actions,children:[U.jsx(Yn,{type:"reset",secondary:!0,children:U.jsx(_t,{id:"dEgA5A"})}),U.jsx(Yn,{type:"submit",primary:!0,children:U.jsx(_t,{id:"tfDRzk"})})]})]})},hO=({text:e,locale:t,as:n="section",...r})=>{const i=B.useMemo(()=>Object.keys(e).filter(s=>typeof e[s]=="string"&&e[s].trim()).sort(I$([t])),[t,e]),[o,a]=B.useState(i[0]??"en");return B.useEffect(()=>{i.includes(t)&&a(t)},[t,i]),U.jsx(vP,{asChild:!0,value:o,onValueChange:a,children:U.jsxs(n,{...r,children:[U.jsx(_P,{className:mc.list,children:i.map(s=>U.jsx(wP,{value:s,className:mc.trigger,children:s},s))}),i.map(s=>U.jsx(bP,{value:s,children:e[s]},s))]})})},eDe=({location:e})=>{const t=lO();return B.useEffect(()=>{t.flyTo(e)},[e,t]),null},tDe=e=>{const{tileServer:t}=Mn(),n=Dr(xa),r=B.useMemo(()=>[e.location.lat,e.location.long],[e.location.lat,e.location.long]);return U.jsxs(U.Fragment,{children:[U.jsxs(cO,{className:CA.mapContainer,attributionControl:!1,zoom:12,center:r,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[U.jsx(dO,{url:t}),U.jsx(fO,{position:r}),U.jsx(eDe,{location:r})]}),U.jsx(hO,{className:CA.description,text:e.description,locale:n,as:"div"}),U.jsx("a",{href:e.id,target:"_blank",rel:"noopener noreferrer",children:U.jsx(j$,{})})]})},nDe=()=>{const e=qa(Nw),t=Yo();return B.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:o})=>{const a=dl(),s=o+a,l=`${s}#accommodation`;return await e.mutateAsync({uri:s,data:{"@id":l,type:new Dn([{"@id":"Accommodation"},{"@id":"Accommodation2"}]),location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}},transform:f=>{WR(r.description,f,"description")}}),await t.mutateAsync({uri:i,patch:`
          _:mutate a <${wn.InsertDeletePatch}>;
            <${wn.inserts}> { <${n}> <${El.offers}> <${l}>. }.
        `}),{uri:l}},[e,t])},rDe=()=>{const e=Yo(),t=jw();return B.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await e.mutateAsync({uri:i,patch:`
          _:mutate a <${wn.InsertDeletePatch}>;
            <${wn.deletes}> { <${r}> <${El.offers}> <${n}>. }.
        `}),await t.mutateAsync({uri:n})},[t,e])};var rT,G8;function iDe(){if(G8)return rT;G8=1;for(var e="0123456789bcdefghjkmnpqrstuvwxyz",t={},n=0;n<e.length;n++)t[e.charAt(n)]=n;var r="auto",i=-90,o=90,a=-180,s=180,l=[0,5,7,8,11,12,13,15,16,17,18],f=function(ee,z,H){if(H===r){if(typeof ee=="number"||typeof z=="number")throw new Error("string notation required for auto precision.");var te=ee.split(".")[1].length,oe=z.split(".")[1].length,ue=Math.max(te,oe);H=l[ue]}else H===void 0&&(H=9);for(var de=[],se=0,pe=0,re=0,Ee=o,$=i,Q=s,ce=a,G;de.length<H;)if(pe%2===0?(G=(Q+ce)/2,z>G?(re=(re<<1)+1,ce=G):(re=(re<<1)+0,Q=G)):(G=(Ee+$)/2,ee>G?(re=(re<<1)+1,$=G):(re=(re<<1)+0,Ee=G)),se++,pe++,se===5){var X=e[re];de.push(X),se=0,re=0}return de.join("")},d=function(ee,z,H){H=H||52;for(var te=0,oe=o,ue=i,de=s,se=a,pe,re=0;te<H;)re*=2,te%2===0?(pe=(de+se)/2,z>pe?(re+=1,se=pe):de=pe):(pe=(oe+ue)/2,ee>pe?(re+=1,ue=pe):oe=pe),te++;return re},p=function(ee){for(var z=!0,H=o,te=i,oe=s,ue=a,de,se=0,pe=0,re=ee.length;pe<re;pe++){var Ee=ee[pe].toLowerCase();se=t[Ee];for(var $=4;$>=0;$--){var Q=se>>$&1;z?(de=(oe+ue)/2,Q===1?ue=de:oe=de):(de=(H+te)/2,Q===1?te=de:H=de),z=!z}}return[te,ue,H,oe]},g=function(ee,z){z=z||52;for(var H=o,te=i,oe=s,ue=a,de=0,se=0,pe=z/2,re=0;re<pe;re++)se=y(ee,(pe-re)*2-1),de=y(ee,(pe-re)*2-2),de===0?H=(H+te)/2:te=(H+te)/2,se===0?oe=(oe+ue)/2:ue=(oe+ue)/2;return[te,ue,H,oe]};function y(ee,z){return ee/Math.pow(2,z)&1}var b=function(ee){var z=p(ee),H=(z[0]+z[2])/2,te=(z[1]+z[3])/2,oe=z[2]-H,ue=z[3]-te;return{latitude:H,longitude:te,error:{latitude:oe,longitude:ue}}},x=function(ee,z){var H=g(ee,z),te=(H[0]+H[2])/2,oe=(H[1]+H[3])/2,ue=H[2]-te,de=H[3]-oe;return{latitude:te,longitude:oe,error:{latitude:ue,longitude:de}}},E=function(ee,z){var H=b(ee),te=H.latitude+z[0]*H.error.latitude*2,oe=H.longitude+z[1]*H.error.longitude*2;return oe=k(oe),te=M(te),f(te,oe,ee.length)},v=function(ee,z,H){H=H||52;var te=x(ee,H),oe=te.latitude+z[0]*te.error.latitude*2,ue=te.longitude+z[1]*te.error.longitude*2;return ue=k(ue),oe=M(oe),d(oe,ue,H)},w=function(ee){var z=ee.length,H=b(ee),te=H.latitude,oe=H.longitude,ue=H.error.latitude*2,de=H.error.longitude*2,se,pe,re=[Ee(1,0),Ee(1,1),Ee(0,1),Ee(-1,1),Ee(-1,0),Ee(-1,-1),Ee(0,-1),Ee(1,-1)];function Ee($,Q){return se=te+$*ue,pe=oe+Q*de,pe=k(pe),se=M(se),f(se,pe,z)}return re},C=function(ee,z){z=z||52;var H=x(ee,z),te=H.latitude,oe=H.longitude,ue=H.error.latitude*2,de=H.error.longitude*2,se,pe,re=[Ee(1,0),Ee(1,1),Ee(0,1),Ee(-1,1),Ee(-1,0),Ee(-1,-1),Ee(0,-1),Ee(1,-1)];function Ee($,Q){return se=te+$*ue,pe=oe+Q*de,pe=k(pe),se=M(se),d(se,pe,z)}return re},P=function(ee,z,H,te,oe){oe=oe||9;for(var ue=f(ee,z,oe),de=f(H,te,oe),se=b(ue),pe=se.error.latitude*2,re=se.error.longitude*2,Ee=p(ue),$=p(de),Q=Math.round(($[0]-Ee[0])/pe),ce=Math.round(($[1]-Ee[1])/re),G=[],X=0;X<=Q;X++)for(var ge=0;ge<=ce;ge++)G.push(E(ue,[X,ge]));return G},R=function(ee,z,H,te,oe){oe=oe||52;for(var ue=d(ee,z,oe),de=d(H,te,oe),se=x(ue,oe),pe=se.error.latitude*2,re=se.error.longitude*2,Ee=g(ue,oe),$=g(de,oe),Q=Math.round(($[0]-Ee[0])/pe),ce=Math.round(($[1]-Ee[1])/re),G=[],X=0;X<=Q;X++)for(var ge=0;ge<=ce;ge++)G.push(v(ue,[X,ge],oe));return G};function k(ee){return ee>s?a+ee%s:ee<a?s+ee%s:ee}function M(ee){return ee>o?o:ee<i?i:ee}var W={ENCODE_AUTO:r,encode:f,encode_uint64:d,encode_int:d,decode:b,decode_int:x,decode_uint64:x,decode_bbox:p,decode_bbox_uint64:g,decode_bbox_int:g,neighbor:E,neighbor_int:v,neighbors:w,neighbors_int:C,bboxes:P,bboxes_int:R};return rT=W,rT}var oDe=iDe();const cm=_r(oDe),aDe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Document",id:t}}),sDe=e=>async t=>{const n=await Xn(new URL("/inbox",e),{method:"POST",body:JSON.stringify(aDe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new _a("Geoindex responded with error",n);return{...t,status:n.status}},W8=(e="")=>{const t=[];for(let n=1;n<=e.length;n++)t.push(e.substring(0,n));return t},uDe=()=>{const{geoindexService:e}=Mn(),t=Ui(),{mutateAsync:n}=ta({mutationFn:sDe(e),onSuccess:async({previousLocation:o,currentLocation:a})=>{const s=[];if(o){const l=cm.encode(o.lat,o.long,10);s.push(...W8(l))}if(a){const l=cm.encode(a.lat,a.long,10);s.push(...W8(l))}await Promise.allSettled(s.map(l=>t.invalidateQueries({queryKey:[Vr.geoindex,l]})))}}),r=!!e,i=B.useCallback(async o=>await n(o),[n]);return B.useMemo(()=>[r,i],[r,i])},lDe=(e,t)=>{const{variables:n,quads:r,isLoading:i}=oo({query:K9,variables:B.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:Xn});return B.useMemo(()=>{const o=ao(r);return[(n.offer??[]).map(l=>o.usingType(Nw).fromSubject(l)).filter(l=>l?.location?.lat!==void 0&&l?.location?.long!==void 0).map(l=>{const f=Fw(l,"description"),d=[l.location.lat].flat()[0]??0,p=[l.location.long].flat()[0]??0;return{id:l["@id"]??"",description:f,location:{lat:d,long:p},offeredBy:l.offeredBy?.["@id"]??""}}),i]},[i,r,n.offer])},cDe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},fDe={type:{"@id":"@type"},Accommodation:{"@id":"http://w3id.org/hospex/ns#Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},Accommodation2:{"@id":"https://schema.org/Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#Point","@context":{type:{"@id":"@type"},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},dDe={schema:cDe,shape:"https://example.com/Accommodation",context:fDe},hDe=()=>{const e=zc(dDe);return B.useCallback(async({data:{id:t,...n},language:r="en"})=>{await e.mutateAsync({uri:t,subject:t,language:r,transform:i=>{n.description&&WR(n.description,i,"description"),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[e])},pDe=()=>{const{communityId:e}=Mn(),t=yi(),{i18n:n,_:r}=Fr(),[i,o]=B.useState(),{personalHospexDocuments:a}=WH(t.webId??"",e),[s]=lDe(t.webId??"",e),l=nDe(),f=hDe(),d=rDe(),[p,g]=uDe(),y=B.useCallback(async({uri:v,type:w,previousLocation:C,currentLocation:P})=>{p&&t.webId&&await ws(g({type:w,actor:t.webId,object:v,previousLocation:C,currentLocation:P}),{pending:n._({id:"vTkuq4"}),success:{render:({data:R})=>{switch(R.status){case 201:return n._({id:"vz3tpL"});case 200:return n._({id:"f7fqUX"});case 204:return n._({id:"Z0DAcX"});default:return n._({id:"XQAIBA"})}}}})},[t.webId,p,g,r]);if(typeof t.webId!="string")return null;if(!s)return U.jsx(wa,{children:U.jsx(_t,{id:"Z3FXyt"})});const b=async v=>{if(!(t.webId&&a?.[0]))throw new Error(n._({id:"bGSJ3R"}));const{uri:w}=await ws(l({personId:t.webId,data:v,hospexDocument:a[0],hospexContainer:ii(a[0])}),{pending:n._({id:"r60ENi"}),success:n._({id:"QlfR57"})});o(void 0),await y({type:"Create",uri:w,currentLocation:v.location})},x=async(v,w)=>{await ws(f({data:v}),{pending:n._({id:"xdx7Sc"}),success:n._({id:"PUl3lo"})}),o(void 0),await y({type:"Update",uri:v.id,currentLocation:v.location,previousLocation:w.location})},E=async({id:v,location:w})=>{if(!(t.webId&&a?.[0]))throw new Error(n._({id:"bGSJ3R"}));globalThis.confirm(n._({id:"Wixo6f"}))&&(await ws(d({id:v,personId:t.webId,hospexDocument:a[0]}),{pending:n._({id:"+5HgiN"}),success:n._({id:"t9VobG"})}),await y({type:"Delete",uri:v,previousLocation:w}))};return U.jsxs("div",{className:pa.container,children:[U.jsxs("h1",{className:pa.header,children:[U.jsx(F$,{size:32})," ",U.jsx(_t,{id:"iRVV2L"})]}),U.jsx("ul",{style:{display:"contents"},children:s.map(v=>i===v.id?U.jsx(K8,{onSubmit:w=>x(w,v),onCancel:()=>{o(void 0)},initialData:v},v.id):U.jsxs("li",{className:pa.accommodation,"data-cy":"offer-accommodation-item",children:[U.jsx(tDe,{...v}),U.jsxs("div",{className:pa.actions,children:[U.jsx(Yn,{secondary:!0,onClick:()=>{o(v.id)},children:U.jsx(_t,{id:"ePK91l"})}),U.jsx(Yn,{danger:!0,onClick:()=>E(v),children:U.jsx(_t,{id:"cnGeoo"})})]})]},v.id))}),i==="new"?U.jsx(K8,{onSubmit:b,onCancel:()=>o(void 0)}):U.jsx(Yn,{primary:!0,onClick:()=>o("new"),className:pa.addAccommodationButton,children:U.jsx(_t,{id:"CiQd9C"})})]})},mDe=()=>U.jsx("div",{children:"404"}),gDe=e=>{const{data:t}=bR(e.src);return t?U.jsx("img",{...e,src:t,alt:e.alt??"","data-src":e.src}):null},yDe="_container_eiq8v_1",vDe="_name_eiq8v_7",_De="_about_eiq8v_14",wDe="_photo_eiq8v_19",Av={container:yDe,name:vDe,about:_De,photo:wDe},bDe=()=>{const{i18n:e,_:t}=Fr(),{communityId:n}=Mn(),r=jA().id,i=yi(),o=r&&i.webId?r===i.webId:void 0,a=Dr(xa),[s]=Ha(r,n),[l]=Ha(i.webId,n),f=s.name;return U.jsxs("div",{className:Av.container,children:[U.jsx(gDe,{className:Av.photo,src:s.photo,alt:e._({id:"+Vmqfs",values:{name:f}}),"data-cy":"profile-photo"}),U.jsxs("header",{className:Av.name,"data-cy":"profile-name",children:[s.name," ",U.jsx(B$,{href:r})]}),U.jsx(hO,{text:s.about,locale:a,className:Av.about,"data-cy":"profile-about"}),o&&U.jsxs(bc,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[U.jsx(U$,{})," ",U.jsx(_t,{id:"HecDqj"})]}),o===!1&&U.jsx(bc,{secondary:!0,to:`/messages/${Xo(r)}`,children:U.jsx(_t,{id:"eWlz27"})}),U.jsx(bc,{tertiary:!0,to:`/profile/${Xo(r)}/contacts`,children:U.jsx(_t,{id:"2LDW9H"})}),o===!1&&U.jsx(EPe,{webId:r}),U.jsx("section",{children:s.interests?U.jsx(HSe,{ids:s.interests,highlighted:o?[]:l.interests??[]}):U.jsx(wa,{children:U.jsx(_t,{id:"O75yBm"})})})]})},SDe=()=>{const e=yi();return e.webId?U.jsx($A,{to:Xo(e.webId),replace:!0}):U.jsx(wa,{children:U.jsx(_t,{id:"qPXQY8"})})},xDe="_bar_1x3gh_1",EDe="_animate_1x3gh_17",Z8={bar:xDe,animate:EDe},CDe=({animate:e=!1})=>U.jsx("div",{className:Fn(Z8.bar,e&&Z8.animate)}),TDe=async({geohash:e,geoindex:t})=>{const n=new URL(`/query?object=${Xo(`"${e}"`)}`,t).toString(),r=await Xn(n);if(!r.ok)throw new _a("geoindex returned invalid response",r);const i=await r.text(),a=new wm({format:r.headers.get("content-type")??void 0}).parse(i),s=new Zr(a);return s.getSubjects("https://example.com/ns#geohash",`"${e}"`,null).map(f=>{const d=s.getObjects(f,"https://example.com/ns#geohash",null).map(g=>g.value).reduce((g,y)=>g.length>y.length?g:y),p=cm.decode(d);return{uri:f.value,geohash:d,location:p}})},ADe=(e,t)=>{const{geoindexService:n}=Mn(),[r,i]=B.useState(0),[o,a]=B.useState(0),s=!n||r>o,l=B.useMemo(()=>t?cm.bboxes(t.s,t.w,t.n,t.e,1):[],[t]),f=B.useMemo(()=>l.map(v=>({queryKey:[Vr.geoindex,v],queryFn:()=>TDe({geohash:v,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),d=Dp({queries:f,combine:v=>({isError:v.some(w=>w.isError),isPending:v.some(w=>w.isPending),isSuccess:v.every(w=>w.isSuccess),errors:v.filter(w=>w.error).map(w=>w.error),data:v.filter(w=>w.data).flatMap(w=>w.data)})});B.useEffect(()=>{d.isError&&i(Date.now())},[d.isError]),B.useEffect(()=>{d.isSuccess&&a(Date.now())},[d.isSuccess]);const p=B.useMemo(()=>s?{query:Pve,variables:{community:[e]},fetch:Xn,store:new Zr}:{query:[],variables:{},fetch:Xn},[e,s]),{quads:g,isMissing:y}=oo(p),b=B.useMemo(()=>[ao(g).usingType(Nw).matchObject(null,El.offers).filter(C=>C.location).map(C=>({id:C["@id"],description:Fw(C,"description"),location:{lat:[C.location.lat].flat()[0],long:[C.location.long].flat()[0]},offeredBy:{id:C.offeredBy?.["@id"]??"",name:C.offeredBy?.name??""}})).filter(C=>C.location.lat!==void 0&&C.location.long!==void 0&&C.id!==void 0),y],[y,g]),x=B.useMemo(()=>[d.data.map(({uri:v,location:w})=>({id:v,location:{lat:w.latitude,long:w.longitude},offeredBy:{id:"",name:""}})),d.isPending],[d.data,d.isPending]);return B.useMemo(()=>[zpe("id",x[0],b[0]),x[1]||b[1]],[x,b])};var bp={exports:{}},RDe=bp.exports,Q8;function PDe(){return Q8||(Q8=1,(function(e,t){(function(n,r){r(t)})(RDe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var a=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,a?this._withAnimation:this._noAnimation),this._markerCluster=a?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var a=o,s=this._zoom;if(o.__parent)for(;a.__parent._zoom>=s;)a=a.__parent;return this._currentShownBounds.contains(a.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,a):this._animationAddLayerNonAnimated(o,a)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,a){if(!L.Util.isArray(o))return this.addLayer(o);var s=this._featureGroup,l=this._nonPointGroup,f=this.options.chunkedLoading,d=this.options.chunkInterval,p=this.options.chunkProgress,g=o.length,y=0,b=!0,x;if(this._map){var E=new Date().getTime(),v=L.bind(function(){var C=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<g;y++){if(f&&y%200===0){var P=new Date().getTime()-C;if(P>d)break}if(x=o[y],x instanceof L.LayerGroup){b&&(o=o.slice(),b=!1),this._extractNonGroupLayers(x,o),g=o.length;continue}if(!x.getLatLng){l.addLayer(x),a||this.fire("layeradd",{layer:x});continue}if(!this.hasLayer(x)&&(this._addLayer(x,this._maxZoom),a||this.fire("layeradd",{layer:x}),x.__parent&&x.__parent.getChildCount()===2)){var R=x.__parent.getAllChildMarkers(),k=R[0]===x?R[1]:R[0];s.removeLayer(k)}}p&&p(y,g,new Date().getTime()-E),y===g?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(v,this.options.chunkDelay)},this);v()}else for(var w=this._needsClustering;y<g;y++){if(x=o[y],x instanceof L.LayerGroup){b&&(o=o.slice(),b=!1),this._extractNonGroupLayers(x,o),g=o.length;continue}if(!x.getLatLng){l.addLayer(x);continue}this.hasLayer(x)||w.push(x)}return this},removeLayers:function(o){var a,s,l=o.length,f=this._featureGroup,d=this._nonPointGroup,p=!0;if(!this._map){for(a=0;a<l;a++){if(s=o[a],s instanceof L.LayerGroup){p&&(o=o.slice(),p=!1),this._extractNonGroupLayers(s,o),l=o.length;continue}this._arraySplice(this._needsClustering,s),d.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var g=o.slice(),y=l;for(a=0;a<y;a++){if(s=g[a],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,g),y=g.length;continue}this._unspiderfyLayer(s)}}for(a=0;a<l;a++){if(s=o[a],s instanceof L.LayerGroup){p&&(o=o.slice(),p=!1),this._extractNonGroupLayers(s,o),l=o.length;continue}if(!s.__parent){d.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),f.hasLayer(s)&&(f.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var a=this._needsClustering.length-1;a>=0;a--)o.extend(this._needsClustering[a].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,a){var s=this._needsClustering.slice(),l=this._needsRemoving,f,d,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),d=s.length-1;d>=0;d--){for(f=!0,p=l.length-1;p>=0;p--)if(l[p].layer===s[d]){f=!1;break}f&&o.call(a,s[d])}this._nonPointGroup.eachLayer(o,a)},getLayers:function(){var o=[];return this.eachLayer(function(a){o.push(a)}),o},getLayer:function(o){var a=null;return o=parseInt(o,10),this.eachLayer(function(s){L.stamp(s)===o&&(a=s)}),a},hasLayer:function(o){if(!o)return!1;var a,s=this._needsClustering;for(a=s.length-1;a>=0;a--)if(s[a]===o)return!0;for(s=this._needsRemoving,a=s.length-1;a>=0;a--)if(s[a].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,a){var s=this._map;typeof a!="function"&&(a=function(){});var l=function(){(s.hasLayer(o)||s.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),s.hasLayer(o)?a():o.__parent._icon&&(this.once("spiderfied",a,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?a():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var a,s,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,a=0,s=this._needsRemoving.length;a<s;a++)l=this._needsRemoving[a],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(a=0,s=this._needsRemoving.length;a<s;a++)l=this._needsRemoving[a],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var a=o;a&&!a._icon;)a=a.__parent;return a||null},_arraySplice:function(o,a){for(var s=o.length-1;s>=0;s--)if(o[s]===a)return o.splice(s,1),!0},_removeFromGridUnclustered:function(o,a){for(var s=this._map,l=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());a>=f&&l[a].removeObject(o,s.project(o.getLatLng(),a));a--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var a=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),a&&o.target.openPopup()}},_moveChild:function(o,a,s){o._latlng=a,this.removeLayer(o),o._latlng=s,this.addLayer(o)},_childMarkerDragEnd:function(o){var a=o.target.__dragStart;delete o.target.__dragStart,a&&this._moveChild(o.target,a,o.target._latlng)},_removeLayer:function(o,a,s){var l=this._gridClusters,f=this._gridUnclustered,d=this._featureGroup,p=this._map,g=Math.floor(this._map.getMinZoom());a&&this._removeFromGridUnclustered(o,this._maxZoom);var y=o.__parent,b=y._markers,x;for(this._arraySplice(b,o);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<g));)a&&y._childCount<=1?(x=y._markers[0]===o?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,p.project(y._cLatLng,y._zoom)),f[y._zoom].addObject(x,p.project(x.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(x),x.__parent=y.__parent,y._icon&&(d.removeLayer(y),s||d.addLayer(x))):y._iconNeedsUpdate=!0,y=y.__parent;delete o.__parent},_isOrIsParent:function(o,a){for(;a;){if(o===a)return!0;a=a.parentNode}return!1},fire:function(o,a,s){if(a&&a.layer instanceof L.MarkerCluster){if(a.originalEvent&&this._isOrIsParent(a.layer._icon,a.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,a,s)},listens:function(o,a){return L.FeatureGroup.prototype.listens.call(this,o,a)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,a)},_defaultIconCreateFunction:function(o){var a=o.getChildCount(),s=" marker-cluster-";return a<10?s+="small":a<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+a+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,a=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(a||l||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var a=o.layer,s=a;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===a._childCount&&this.options.spiderfyOnMaxZoom?a.spiderfy():this.options.zoomToBoundsOnClick&&a.zoomToBounds(),this.options.spiderfyOnEveryZoom&&a.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var a=this._map;this._inZoomAnimation||(this._shownPolygon&&a.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),a.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,a=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,f=this._map;(o||s||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),a&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),a=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,l=s;typeof s!="function"&&(l=function(){return s}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var f=o;f>=a;f--)this._gridClusters[f]=new L.DistanceGrid(l(f)),this._gridUnclustered[f]=new L.DistanceGrid(l(f));this._topClusterLevel=new this._markerCluster(this,a-1)},_addLayer:function(o,a){var s=this._gridClusters,l=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),d,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);a>=f;a--){d=this._map.project(o.getLatLng(),a);var g=s[a].getNearObject(d);if(g){g._addChild(o),o.__parent=g;return}if(g=l[a].getNearObject(d),g){var y=g.__parent;y&&this._removeLayer(g,!1);var b=new this._markerCluster(this,a,g,o);s[a].addObject(b,this._map.project(b._cLatLng,a)),g.__parent=b,o.__parent=b;var x=b;for(p=a-1;p>y._zoom;p--)x=new this._markerCluster(this,p,x),s[p].addObject(x,this._map.project(g.getLatLng(),p));y._addChild(x),this._removeFromGridUnclustered(g,a);return}l[a].addObject(o,d)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var a=this._maxLat;return a!==void 0&&(o.getNorth()>=a&&(o._northEast.lat=1/0),o.getSouth()<=-a&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,a){if(a===o)this._featureGroup.addLayer(o);else if(a._childCount===2){a._addToMap();var s=a.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else a._updateIcon()},_extractNonGroupLayers:function(o,a){var s=o.getLayers(),l=0,f;for(a=a||[];l<s.length;l++){if(f=s[l],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,a);continue}a.push(f)}return a},_overrideMarkerIcon:function(o){var a=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return a}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,a){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,a){this._animationAddLayerNonAnimated(o,a)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,a){var s=this._getExpandedVisibleBounds(),l=this._featureGroup,f=Math.floor(this._map.getMinZoom()),d;this._ignoreMove=!0,this._topClusterLevel._recursively(s,o,f,function(p){var g=p._latlng,y=p._markers,b;for(s.contains(g)||(g=null),p._isSingleParent()&&o+1===a?(l.removeLayer(p),p._recursivelyAddChildrenToMap(null,a,s)):(p.clusterHide(),p._recursivelyAddChildrenToMap(g,a,s)),d=y.length-1;d>=0;d--)b=y[d],s.contains(b._latlng)||l.removeLayer(b)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,a),l.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(s,o,a,function(p){p._recursivelyRestoreChildPositions(a)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,o,f,function(p){l.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,a){this._animationZoomOutSingle(this._topClusterLevel,o-1,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,a,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,a){var s=this,l=this._featureGroup;l.addLayer(o),a!==o&&(a._childCount>2?(a._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(a.getLatLng())),o.clusterHide(),this._enqueue(function(){l.removeLayer(o),o.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(a,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,a,s){var l=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(l,f,a+1,s);var d=this;this._forceLayout(),o._recursivelyBecomeVisible(l,s),this._enqueue(function(){if(o._childCount===1){var p=o._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else o._recursively(l,s,f,function(g){g._recursivelyRemoveChildrenFromMap(l,f,a+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,a,s,l){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=a,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),l&&this._addChild(l)},getAllChildMarkers:function(o,a){o=o||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(o,a);for(var l=this._markers.length-1;l>=0;l--)a&&this._markers[l].__dragStart||o.push(this._markers[l]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var a=this._childClusters.slice(),s=this._group._map,l=s.getBoundsZoom(this._bounds),f=this._zoom+1,d=s.getZoom(),p;a.length>0&&l>f;){f++;var g=[];for(p=0;p<a.length;p++)g=g.concat(a[p]._childClusters);a=g}l>f?this._group._map.setView(this._latlng,f):l<=d?this._group._map.setView(this._latlng,d+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,a){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(a||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(a||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,a=this._childClusters,s=0,l=0,f=this._childCount,d,p,g,y;if(f!==0){for(this._resetBounds(),d=0;d<o.length;d++)g=o[d]._latlng,this._bounds.extend(g),s+=g.lat,l+=g.lng;for(d=0;d<a.length;d++)p=a[d],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),g=p._wLatLng,y=p._childCount,s+=g.lat*y,l+=g.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/f,l/f),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,a,s){this._recursively(o,this._group._map.getMinZoom(),s-1,function(l){var f=l._markers,d,p;for(d=f.length-1;d>=0;d--)p=f[d],p._icon&&(p._setPos(a),p.clusterHide())},function(l){var f=l._childClusters,d,p;for(d=f.length-1;d>=0;d--)p=f[d],p._icon&&(p._setPos(a),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,a,s,l){this._recursively(o,l,a,function(f){f._recursivelyAnimateChildrenIn(o,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),s),f._isSingleParent()&&s-1===l?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(o,a,s)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(o,a){this._recursively(o,this._group._map.getMinZoom(),a,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(o,a,s){this._recursively(s,this._group._map.getMinZoom()-1,a,function(l){if(a!==l._zoom)for(var f=l._markers.length-1;f>=0;f--){var d=l._markers[f];s.contains(d._latlng)&&(o&&(d._backupLatlng=d.getLatLng(),d.setLatLng(o),d.clusterHide&&d.clusterHide()),l._group._featureGroup.addLayer(d))}},function(l){l._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var a=this._markers.length-1;a>=0;a--){var s=this._markers[a];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(o-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,a,s,l){var f,d;this._recursively(o,a-1,s-1,function(p){for(d=p._markers.length-1;d>=0;d--)f=p._markers[d],(!l||!l.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(p){for(d=p._childClusters.length-1;d>=0;d--)f=p._childClusters[d],(!l||!l.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(o,a,s,l,f){var d=this._childClusters,p=this._zoom,g,y;if(a<=p&&(l&&l(this),f&&p===s&&f(this)),p<a||p<s)for(g=d.length-1;g>=0;g--)y=d[g],y._boundsNeedUpdate&&y._recalculateBounds(),o.intersects(y._bounds)&&y._recursively(o,a,s,l,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,a){var s=this._getCoord(a.x),l=this._getCoord(a.y),f=this._grid,d=f[l]=f[l]||{},p=d[s]=d[s]||[],g=L.Util.stamp(o);this._objectPoint[g]=a,p.push(o)},updateObject:function(o,a){this.removeObject(o),this.addObject(o,a)},removeObject:function(o,a){var s=this._getCoord(a.x),l=this._getCoord(a.y),f=this._grid,d=f[l]=f[l]||{},p=d[s]=d[s]||[],g,y;for(delete this._objectPoint[L.Util.stamp(o)],g=0,y=p.length;g<y;g++)if(p[g]===o)return p.splice(g,1),y===1&&delete d[s],!0},eachObject:function(o,a){var s,l,f,d,p,g,y,b=this._grid;for(s in b){p=b[s];for(l in p)for(g=p[l],f=0,d=g.length;f<d;f++)y=o.call(a,g[f]),y&&(f--,d--)}},getNearObject:function(o){var a=this._getCoord(o.x),s=this._getCoord(o.y),l,f,d,p,g,y,b,x,E=this._objectPoint,v=this._sqCellSize,w=null;for(l=s-1;l<=s+1;l++)if(p=this._grid[l],p){for(f=a-1;f<=a+1;f++)if(g=p[f],g)for(d=0,y=g.length;d<y;d++)b=g[d],x=this._sqDist(E[L.Util.stamp(b)],o),(x<v||x<=v&&w===null)&&(v=x,w=b)}return w},_getCoord:function(o){var a=Math.floor(o/this._cellSize);return isFinite(a)?a:o},_sqDist:function(o,a){var s=a.x-o.x,l=a.y-o.y;return s*s+l*l}},(function(){L.QuickHull={getDistant:function(o,a){var s=a[1].lat-a[0].lat,l=a[0].lng-a[1].lng;return l*(o.lat-a[0].lat)+s*(o.lng-a[0].lng)},findMostDistantPointFromBaseLine:function(o,a){var s=0,l=null,f=[],d,p,g;for(d=a.length-1;d>=0;d--){if(p=a[d],g=this.getDistant(p,o),g>0)f.push(p);else continue;g>s&&(s=g,l=p)}return{maxPoint:l,newPoints:f}},buildConvexHull:function(o,a){var s=[],l=this.findMostDistantPointFromBaseLine(o,a);return l.maxPoint?(s=s.concat(this.buildConvexHull([o[0],l.maxPoint],l.newPoints)),s=s.concat(this.buildConvexHull([l.maxPoint,o[1]],l.newPoints)),s):[o[0]]},getConvexHull:function(o){var a=!1,s=!1,l=!1,f=!1,d=null,p=null,g=null,y=null,b=null,x=null,E;for(E=o.length-1;E>=0;E--){var v=o[E];(a===!1||v.lat>a)&&(d=v,a=v.lat),(s===!1||v.lat<s)&&(p=v,s=v.lat),(l===!1||v.lng>l)&&(g=v,l=v.lng),(f===!1||v.lng<f)&&(y=v,f=v.lng)}s!==a?(x=p,b=d):(x=y,b=g);var w=[].concat(this.buildConvexHull([x,b],o),this.buildConvexHull([b,x],o));return w}}})(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),a=[],s,l;for(l=o.length-1;l>=0;l--)s=o[l].getLatLng(),a.push(s);return L.QuickHull.getConvexHull(a)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),a=this._group,s=a._map,l=s.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(o.length,l):o.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(o.length,l):(l.y+=10,f=this._generatePointsCircle(o.length,l)),this._animationSpiderfy(o,f)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,a){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),l=s/this._2PI,f=this._2PI/o,d=[],p,g;for(l=Math.max(l,35),d.length=o,p=0;p<o;p++)g=this._circleStartAngle+p*f,d[p]=new L.Point(a.x+l*Math.cos(g),a.y+l*Math.sin(g))._round();return d},_generatePointsSpiral:function(o,a){var s=this._group.options.spiderfyDistanceMultiplier,l=s*this._spiralLengthStart,f=s*this._spiralFootSeparation,d=s*this._spiralLengthFactor*this._2PI,p=0,g=[],y;for(g.length=o,y=o;y>=0;y--)y<o&&(g[y]=new L.Point(a.x+l*Math.cos(p),a.y+l*Math.sin(p))._round()),p+=f/l+y*5e-4,l+=d/p;return g},_noanimationUnspiderfy:function(){var o=this._group,a=o._map,s=o._featureGroup,l=this.getAllChildMarkers(null,!0),f,d;for(o._ignoreMove=!0,this.setOpacity(1),d=l.length-1;d>=0;d--)f=l[d],s.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(a.removeLayer(f._spiderLeg),delete f._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:l}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,a){var s=this._group,l=s._map,f=s._featureGroup,d=this._group.options.spiderLegPolylineOptions,p,g,y,b;for(s._ignoreMove=!0,p=0;p<o.length;p++)b=l.layerPointToLatLng(a[p]),g=o[p],y=new L.Polyline([this._latlng,b],d),l.addLayer(y),g._spiderLeg=y,g._preSpiderfyLatlng=g._latlng,g.setLatLng(b),g.setZIndexOffset&&g.setZIndexOffset(1e6),f.addLayer(g);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,a){var s=this,l=this._group,f=l._map,d=l._featureGroup,p=this._latlng,g=f.latLngToLayerPoint(p),y=L.Path.SVG,b=L.extend({},this._group.options.spiderLegPolylineOptions),x=b.opacity,E,v,w,C,P,R;for(x===void 0&&(x=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(b.opacity=0,b.className=(b.className||"")+" leaflet-cluster-spider-leg"):b.opacity=x,l._ignoreMove=!0,E=0;E<o.length;E++)v=o[E],R=f.layerPointToLatLng(a[E]),w=new L.Polyline([p,R],b),f.addLayer(w),v._spiderLeg=w,y&&(C=w._path,P=C.getTotalLength()+.1,C.style.strokeDasharray=P,C.style.strokeDashoffset=P),v.setZIndexOffset&&v.setZIndexOffset(1e6),v.clusterHide&&v.clusterHide(),d.addLayer(v),v._setPos&&v._setPos(g);for(l._forceLayout(),l._animationStart(),E=o.length-1;E>=0;E--)R=f.layerPointToLatLng(a[E]),v=o[E],v._preSpiderfyLatlng=v._latlng,v.setLatLng(R),v.clusterShow&&v.clusterShow(),y&&(w=v._spiderLeg,C=w._path,C.style.strokeDashoffset=0,w.setStyle({opacity:x}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:s,markers:o})},200)},_animationUnspiderfy:function(o){var a=this,s=this._group,l=s._map,f=s._featureGroup,d=o?l._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):l.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),g=L.Path.SVG,y,b,x,E,v,w;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),b=p.length-1;b>=0;b--)y=p[b],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,w=!0,y._setPos&&(y._setPos(d),w=!1),y.clusterHide&&(y.clusterHide(),w=!1),w&&f.removeLayer(y),g&&(x=y._spiderLeg,E=x._path,v=E.getTotalLength()+.1,E.style.strokeDashoffset=v,x.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var C=0;for(b=p.length-1;b>=0;b--)y=p[b],y._spiderLeg&&C++;for(b=p.length-1;b>=0;b--)y=p[b],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),C>1&&f.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:a,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var a,s;for(a in o)for(s=o[a].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(o){var a,s;for(a in o)s=o[a],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(o,a){var s=this.options.icon;return L.setOptions(s,o),this.setIcon(s),a&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})})(bp,bp.exports)),bp.exports}PDe();function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var ODe=["children"];function J8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J8(Object(n),!0).forEach(function(r){MDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MDe(e,t,n){return(t=LDe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LDe(e){var t=IDe(e,"string");return fm(t)=="symbol"?t:t+""}function IDe(e,t){if(fm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X8(e,t){return FDe(e)||NDe(e,t)||DDe(e,t)||kDe()}function kDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DDe(e,t){if(e){if(typeof e=="string")return eU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eU(e,t):void 0}}function eU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,f=!1;try{if(o=(n=n.call(e)).next,t!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){f=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(f)throw i}}return s}}function FDe(e){if(Array.isArray(e))return e}function jDe(e,t){if(e==null)return{};var n,r,i=UDe(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function UDe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}HA.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});HA.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function BDe(e,t){e.children;var n=jDe(e,ODe),r={},i={};Object.entries(n).forEach(function(a){var s=X8(a,2),l=s[0],f=s[1];return l.startsWith("on")?i[l]=f:r[l]=f});var o=new HA.MarkerClusterGroup(r);return Object.entries(i).forEach(function(a){var s=X8(a,2),l=s[0],f=s[1],d="cluster".concat(l.substring(2).toLowerCase());o.on(d,f)}),{instance:o,context:Y8(Y8({},t),{},{layerContainer:o})}}var $De=j3e(BDe);const zDe=({accommodationId:e})=>{const{communityId:t}=Mn(),{quads:n,variables:r,isLoading:i}=oo(B.useMemo(()=>({query:Ove,variables:{offer:[e]},fetch:Xn}),[e])),[o,,a,,s]=Ha(r.person?.[0]??"",t),l=B.useMemo(()=>ao(n).usingType(Nw).fromSubject(e),[e,n]),f=B.useMemo(()=>{if(!l)return{};const d=l.location?.lat,p=l.location?.long;return{accommodation:{id:l["@id"]??"",description:Fw(l,"description"),location:{lat:d,long:p},offeredBy:l.offeredBy?.["@id"]??""},person:o??s}},[s,l,o]);return B.useMemo(()=>[f,{isLoading:i,isProfileLoading:a}],[f,i,a])},qDe="_container_5yist_1",HDe="_person_5yist_6",VDe="_name_5yist_11",KDe="_accommodation_5yist_14",Rv={container:qDe,person:HDe,name:VDe,accommodation:KDe},GDe=({accommodationId:e})=>{const{webId:t}=yi(),n=Dr(xa),[{accommodation:r,person:i}]=zDe({accommodationId:e}),o=t&&r?.offeredBy&&t!==r.offeredBy;return U.jsxs("div",{className:Rv.container,children:[r?U.jsxs(U.Fragment,{children:[U.jsx("div",{className:Rv.person,children:U.jsxs(ga,{to:`/profile/${Xo(r.offeredBy)}`,style:{display:"contents"},children:[U.jsx(mw,{...i,size:1.5,square:!0}),U.jsx("span",{className:Rv.name,"data-cy":"accommodation-info-name",children:i?.name})]})}),U.jsx(hO,{text:r.description,locale:n,as:"div",className:Rv.accommodation,"data-cy":"accommodation-info-description"})]}):U.jsx(wa,{children:U.jsx(_t,{id:"Z3FXyt"})}),o?U.jsx(bc,{primary:!0,to:`/messages/${Xo(r.offeredBy)}`,children:U.jsx(_t,{id:"eWlz27"})}):null]})},WDe="_container_19njf_1",ZDe="_offerOverlay_19njf_18",QDe="_closeButton_19njf_28",JDe="_mapContainer_19njf_34",Pv={container:WDe,offerOverlay:ZDe,closeButton:QDe,mapContainer:JDe},YDe=()=>{const{i18n:e,_:t}=Fr(),{communityId:n,tileServer:r}=Mn(),[i,o]=pQ(),a=i.get("hosting"),[s,l]=B.useState(),[f,d]=ADe(n,s),p=y=>{o({hosting:y})},g=B.useCallback((y,b)=>l(x=>e9(x,b)?x:b),[]);return U.jsxs(U.Fragment,{children:[d&&U.jsx(CDe,{}),U.jsxs("div",{className:Pv.container,children:[a&&U.jsxs("div",{className:Pv.offerOverlay,children:[U.jsx("button",{onClick:()=>{o({})},className:Pv.closeButton,"aria-label":e._({id:"C++TGh"}),children:U.jsx(w_,{})}),U.jsx(GDe,{accommodationId:a})]}),U.jsxs(cO,{className:Pv.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[U.jsx(dO,{url:r}),U.jsx(MV,{strings:{title:e._({id:"v5eALp"})},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),U.jsx($De,{maxClusterRadius:20,children:f?f.map(y=>{const b=y.offeredBy?.name||y.offeredBy?.id;return U.jsx(fO,{position:[y.location.lat,y.location.long],eventHandlers:{click:()=>{p(y.id)}},icon:y.id===a?DQ:NQ("geohash-"+cm.encode(y.location.lat,y.location.long,10)),alt:e._({id:"hHo0hg",values:{offeredByIdentifier:b}})},y.id)}):null}),U.jsx(LV,{onUpdate:g})]})]})]})},XDe=({webId:e,className:t})=>{const{communityId:n}=Mn(),[r]=Ha(e,n);return U.jsx(mw,{photo:r.photo,square:!0,size:1.25,className:t})},eNe="_threadList_1lsy0_1",tNe="_thread_1lsy0_1",nNe="_unread_1lsy0_14",rNe="_content_1lsy0_14",iNe="_avatar_1lsy0_17",Qf={threadList:eNe,thread:tNe,unread:nNe,content:rNe,avatar:iNe},oNe=()=>{const e=yi(),{data:t}=B_e(e.webId??"");return t?U.jsxs("div",{children:[U.jsx("h1",{children:U.jsx(_t,{id:"EnJuK0"})}),U.jsx("ul",{className:Qf.threadList,children:t.map(n=>U.jsx("li",{"data-cy":"thread-list-item",children:U.jsx(aNe,{thread:n})},n.id))})]}):U.jsx(wa,{children:U.jsx(_t,{id:"Z3FXyt"})})},aNe=({thread:e})=>{const{i18n:t,_:n}=Fr(),{communityId:r}=Mn(),i=yi(),o=e.participants.find(f=>f!==i.webId),[a]=Ha(o??"",r),s=e.messages[e.messages.length-1],l=a.name||o;return U.jsx(ga,{to:`/messages/${Xo(o)}`,"aria-label":t._({id:"wRoTH5",values:{personLabel:l}}),children:U.jsxs("div",{className:Fn(Qf.thread,e.status&&Qf.unread),"data-cy":e.status&&"thread-unread",children:[U.jsx(XDe,{webId:o??"",className:Qf.avatar}),U.jsxs("div",{children:[U.jsx("div",{className:Qf.name,title:a.id,children:a.name}),U.jsx("div",{className:Qf.content,title:s?.message,children:s?.message})]})]})})},sNe=()=>U.jsx(vV,{tabs:[],children:U.jsx(X_,{})}),uNe=()=>U.jsx($A,{to:"search",replace:!0}),lNe=uQ([{path:"/",element:U.jsx(mxe,{}),children:[{path:"/",element:U.jsx(hPe,{}),children:[{index:!0,element:U.jsx(Wke,{})},{path:"profile",children:[{index:!0,element:U.jsx(SDe,{})},{path:"edit",element:U.jsx(Hke,{})},{path:":id",element:U.jsx(bDe,{})},{path:":id/contacts",element:U.jsx(APe,{})}]},{path:"messages",children:[{index:!0,element:U.jsx(oNe,{})},{path:":id",element:U.jsx(T3e,{})}]},{path:"host",element:U.jsx(Qke,{}),children:[{index:!0,element:U.jsx(Jke,{})},{path:"offers",element:U.jsx(pDe,{})}]},{path:"travel",element:U.jsx(sNe,{}),children:[{index:!0,element:U.jsx(uNe,{})},{path:"search",element:U.jsx(YDe,{})}]}]},{path:"about",element:U.jsx(UTe,{})},{path:"*",element:U.jsx(mDe,{})}]}]),cNe=new bG({defaultOptions:{queries:{retry:1}}}),fNe=LG.createRoot(document.getElementById("root"));fNe.render(U.jsx(St.StrictMode,{children:U.jsx(ZG,{store:MB,children:U.jsx(GU,{loading:null,persistor:NY,children:U.jsx(xG,{client:cNe,children:U.jsx(QJ,{children:U.jsx(DZ,{router:lNe})})})})})}));
