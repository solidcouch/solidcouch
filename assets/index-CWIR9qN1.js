var PQ=Object.defineProperty;var PD=e=>{throw TypeError(e)};var OQ=(e,t,n)=>t in e?PQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var jS=(e,t,n)=>OQ(e,typeof t!="symbol"?t+"":t,n),$S=(e,t,n)=>t.has(e)||PD("Cannot "+n);var Qe=(e,t,n)=>($S(e,t,"read from private field"),n?n.call(e):t.get(e)),Xt=(e,t,n)=>t.has(e)?PD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),kt=(e,t,n,r)=>($S(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cn=(e,t,n)=>($S(e,t,"access private method"),n);var Qv=(e,t,n,r)=>({set _(i){kt(e,t,i,n)},get _(){return Qe(e,t,r)}});function LQ(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var pm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ir(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var BS={exports:{}},Yp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD;function IQ(){if(OD)return Yp;OD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var s in i)s!=="key"&&(a[s]=i[s])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Yp.Fragment=t,Yp.jsx=n,Yp.jsxs=n,Yp}var LD;function MQ(){return LD||(LD=1,BS.exports=IQ()),BS.exports}var B=MQ(),Df=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},bf=typeof window>"u"||"Deno"in globalThis;function bo(){}function DQ(e,t){return typeof e=="function"?e(t):e}function XR(e){return typeof e=="number"&&e>=0&&e!==1/0}function AU(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qd(e,t){return typeof e=="function"?e(t):e}function Ho(e,t){return typeof e=="function"?e(t):e}function ID(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(r){if(t.queryHash!==EP(o,t.options))return!1}else if(!$m(t.queryKey,o))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function MD(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(Sf(t.options.mutationKey)!==Sf(a))return!1}else if(!$m(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function EP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Sf)(e)}function Sf(e){return JSON.stringify(e,(t,n)=>YR(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $m(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!$m(e[n],t[n])):!1}function CP(e,t){if(e===t)return e;const n=DD(e)&&DD(t);if(n||YR(e)&&YR(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,s=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:a[c];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,l++):(s[d]=CP(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&l++)}return i===o&&l===i?e:s}return t}function Y0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function DD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function YR(e){if(!kD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!kD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kD(e){return Object.prototype.toString.call(e)==="[object Object]"}function kQ(e){return new Promise(t=>{setTimeout(t,e)})}function eA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?CP(e,t):t}function NQ(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function FQ(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var PU=Symbol();function OU(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===PU?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var lf,Dl,sh,gU,jQ=(gU=class extends Df{constructor(){super();Xt(this,lf);Xt(this,Dl);Xt(this,sh);kt(this,sh,t=>{if(!bf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Qe(this,Dl)||this.setEventListener(Qe(this,sh))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,Dl))==null||t.call(this),kt(this,Dl,void 0))}setEventListener(t){var n;kt(this,sh,t),(n=Qe(this,Dl))==null||n.call(this),kt(this,Dl,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Qe(this,lf)!==t&&(kt(this,lf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Qe(this,lf)=="boolean"?Qe(this,lf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},lf=new WeakMap,Dl=new WeakMap,sh=new WeakMap,gU),TP=new jQ,uh,kl,lh,mU,$Q=(mU=class extends Df{constructor(){super();Xt(this,uh,!0);Xt(this,kl);Xt(this,lh);kt(this,lh,t=>{if(!bf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Qe(this,kl)||this.setEventListener(Qe(this,lh))}onUnsubscribe(){var t;this.hasListeners()||((t=Qe(this,kl))==null||t.call(this),kt(this,kl,void 0))}setEventListener(t){var n;kt(this,lh,t),(n=Qe(this,kl))==null||n.call(this),kt(this,kl,t(this.setOnline.bind(this)))}setOnline(t){Qe(this,uh)!==t&&(kt(this,uh,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Qe(this,uh)}},uh=new WeakMap,kl=new WeakMap,lh=new WeakMap,mU),ew=new $Q;function tA(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function BQ(e){return Math.min(1e3*2**e,3e4)}function LU(e){return(e??"online")==="online"?ew.isOnline():!0}var IU=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function US(e){return e instanceof IU}function MU(e){let t=!1,n=0,r=!1,i;const a=tA(),o=_=>{var S;r||(m(new IU(_)),(S=e.abort)==null||S.call(e))},s=()=>{t=!0},l=()=>{t=!1},c=()=>TP.isFocused()&&(e.networkMode==="always"||ew.isOnline())&&e.canRun(),d=()=>LU(e.networkMode)&&e.canRun(),h=_=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,_),i==null||i(),a.resolve(_))},m=_=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,_),i==null||i(),a.reject(_))},y=()=>new Promise(_=>{var S;i=b=>{(r||c())&&_(b)},(S=e.onPause)==null||S.call(e)}).then(()=>{var _;i=void 0,r||(_=e.onContinue)==null||_.call(e)}),v=()=>{if(r)return;let _;const S=n===0?e.initialPromise:void 0;try{_=S??e.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(h).catch(b=>{var D;if(r)return;const x=e.retry??(bf?0:3),R=e.retryDelay??BQ,P=typeof R=="function"?R(n,b):R,O=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,b);if(t||!O){m(b);return}n++,(D=e.onFail)==null||D.call(e,n,b),kQ(P).then(()=>c()?void 0:y()).then(()=>{t?m(b):v()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:l,canStart:d,start:()=>(d()?v():y().then(v),a)}}function UQ(){let e=[],t=0,n=s=>{s()},r=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{n(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{r(()=>{s.forEach(l=>{n(l)})})})};return{batch:s=>{let l;t++;try{l=s()}finally{t--,t||o()}return l},batchCalls:s=>(...l)=>{a(()=>{s(...l)})},schedule:a,setNotifyFunction:s=>{n=s},setBatchNotifyFunction:s=>{r=s},setScheduler:s=>{i=s}}}var Vr=UQ(),cf,yU,DU=(yU=class{constructor(){Xt(this,cf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),XR(this.gcTime)&&kt(this,cf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bf?1/0:5*60*1e3))}clearGcTimeout(){Qe(this,cf)&&(clearTimeout(Qe(this,cf)),kt(this,cf,void 0))}},cf=new WeakMap,yU),ch,fh,wo,Ki,cy,ff,qo,vu,vU,qQ=(vU=class extends DU{constructor(t){super();Xt(this,qo);Xt(this,ch);Xt(this,fh);Xt(this,wo);Xt(this,Ki);Xt(this,cy);Xt(this,ff);kt(this,ff,!1),kt(this,cy,t.defaultOptions),this.setOptions(t.options),this.observers=[],kt(this,wo,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,kt(this,ch,zQ(this.options)),this.state=t.state??Qe(this,ch),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Qe(this,Ki))==null?void 0:t.promise}setOptions(t){this.options={...Qe(this,cy),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Qe(this,wo).remove(this)}setData(t,n){const r=eA(this.state.data,t,this.options);return cn(this,qo,vu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){cn(this,qo,vu).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Qe(this,Ki))==null?void 0:r.promise;return(i=Qe(this,Ki))==null||i.cancel(t),n?n.then(bo).catch(bo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Qe(this,ch))}isActive(){return this.observers.some(t=>Ho(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!AU(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Ki))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Qe(this,Ki))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Qe(this,wo).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Qe(this,Ki)&&(Qe(this,ff)?Qe(this,Ki).cancel({revert:!0}):Qe(this,Ki).cancelRetry()),this.scheduleGc()),Qe(this,wo).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||cn(this,qo,vu).call(this,{type:"invalidate"})}fetch(t,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Qe(this,Ki))return Qe(this,Ki).continueRetry(),Qe(this,Ki).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(m=>m.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(kt(this,ff,!0),r.signal)})},a=()=>{const h=OU(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return i(m),kt(this,ff,!1),this.options.persister?this.options.persister(h,m,this):h(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),kt(this,fh,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&cn(this,qo,vu).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const s=h=>{var m,y,v,_;US(h)&&h.silent||cn(this,qo,vu).call(this,{type:"error",error:h}),US(h)||((y=(m=Qe(this,wo).config).onError)==null||y.call(m,h,this),(_=(v=Qe(this,wo).config).onSettled)==null||_.call(v,this.state.data,h,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return kt(this,Ki,MU({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var m,y,v,_;if(h===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){s(S);return}(y=(m=Qe(this,wo).config).onSuccess)==null||y.call(m,h,this),(_=(v=Qe(this,wo).config).onSettled)==null||_.call(v,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:s,onFail:(h,m)=>{cn(this,qo,vu).call(this,{type:"failed",failureCount:h,error:m})},onPause:()=>{cn(this,qo,vu).call(this,{type:"pause"})},onContinue:()=>{cn(this,qo,vu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Qe(this,Ki).start()}},ch=new WeakMap,fh=new WeakMap,wo=new WeakMap,Ki=new WeakMap,cy=new WeakMap,ff=new WeakMap,qo=new WeakSet,vu=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kU(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return US(i)&&i.revert&&Qe(this,fh)?{...Qe(this,fh),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Vr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Qe(this,wo).notify({query:this,type:"updated",action:t})})},vU);function kU(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LU(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zQ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ys,_U,HQ=(_U=class extends Df{constructor(t={}){super();Xt(this,ys);this.config=t,kt(this,ys,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??EP(i,n);let o=this.get(a);return o||(o=new qQ({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Qe(this,ys).has(t.queryHash)||(Qe(this,ys).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Qe(this,ys).get(t.queryHash);n&&(t.destroy(),n===t&&Qe(this,ys).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Qe(this,ys).get(t)}getAll(){return[...Qe(this,ys).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ID(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ID(t,r)):n}notify(t){Vr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Vr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ys=new WeakMap,_U),vs,ca,df,_s,El,wU,VQ=(wU=class extends DU{constructor(t){super();Xt(this,_s);Xt(this,vs);Xt(this,ca);Xt(this,df);this.mutationId=t.mutationId,kt(this,ca,t.mutationCache),kt(this,vs,[]),this.state=t.state||NU(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Qe(this,vs).includes(t)||(Qe(this,vs).push(t),this.clearGcTimeout(),Qe(this,ca).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){kt(this,vs,Qe(this,vs).filter(n=>n!==t)),this.scheduleGc(),Qe(this,ca).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Qe(this,vs).length||(this.state.status==="pending"?this.scheduleGc():Qe(this,ca).remove(this))}continue(){var t;return((t=Qe(this,df))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,s,l,c,d,h,m,y,v,_,S,b,x,R,P,O,D,F;kt(this,df,MU({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(Q,Y)=>{cn(this,_s,El).call(this,{type:"failed",failureCount:Q,error:Y})},onPause:()=>{cn(this,_s,El).call(this,{type:"pause"})},onContinue:()=>{cn(this,_s,El).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Qe(this,ca).canRun(this)}));const n=this.state.status==="pending",r=!Qe(this,df).canStart();try{if(!n){cn(this,_s,El).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=Qe(this,ca).config).onMutate)==null?void 0:a.call(i,t,this));const Y=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,t));Y!==this.state.context&&cn(this,_s,El).call(this,{type:"pending",context:Y,variables:t,isPaused:r})}const Q=await Qe(this,df).start();return await((c=(l=Qe(this,ca).config).onSuccess)==null?void 0:c.call(l,Q,t,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,Q,t,this.state.context)),await((y=(m=Qe(this,ca).config).onSettled)==null?void 0:y.call(m,Q,null,this.state.variables,this.state.context,this)),await((_=(v=this.options).onSettled)==null?void 0:_.call(v,Q,null,t,this.state.context)),cn(this,_s,El).call(this,{type:"success",data:Q}),Q}catch(Q){try{throw await((b=(S=Qe(this,ca).config).onError)==null?void 0:b.call(S,Q,t,this.state.context,this)),await((R=(x=this.options).onError)==null?void 0:R.call(x,Q,t,this.state.context)),await((O=(P=Qe(this,ca).config).onSettled)==null?void 0:O.call(P,void 0,Q,this.state.variables,this.state.context,this)),await((F=(D=this.options).onSettled)==null?void 0:F.call(D,void 0,Q,t,this.state.context)),Q}finally{cn(this,_s,El).call(this,{type:"error",error:Q})}}finally{Qe(this,ca).runNext(this)}}},vs=new WeakMap,ca=new WeakMap,df=new WeakMap,_s=new WeakSet,El=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vr.batch(()=>{Qe(this,vs).forEach(r=>{r.onMutationUpdate(t)}),Qe(this,ca).notify({mutation:this,type:"updated",action:t})})},wU);function NU(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ha,fy,bU,KQ=(bU=class extends Df{constructor(t={}){super();Xt(this,Ha);Xt(this,fy);this.config=t,kt(this,Ha,new Map),kt(this,fy,Date.now())}build(t,n,r){const i=new VQ({mutationCache:this,mutationId:++Qv(this,fy)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Zv(t),r=Qe(this,Ha).get(n)??[];r.push(t),Qe(this,Ha).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Zv(t);if(Qe(this,Ha).has(n)){const i=(r=Qe(this,Ha).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?Qe(this,Ha).delete(n):Qe(this,Ha).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Qe(this,Ha).get(Zv(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Qe(this,Ha).get(Zv(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Vr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Qe(this,Ha).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>MD(n,r))}findAll(t={}){return this.getAll().filter(n=>MD(t,n))}notify(t){Vr.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Vr.batch(()=>Promise.all(t.map(n=>n.continue().catch(bo))))}},Ha=new WeakMap,fy=new WeakMap,bU);function Zv(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ND(e){return{onFetch:(t,n)=>{var d,h,m,y,v;const r=t.options,i=(m=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,a=((y=t.state.data)==null?void 0:y.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const S=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(t.signal.aborted?_=!0:t.signal.addEventListener("abort",()=>{_=!0}),t.signal)})},b=OU(t.options,t.fetchOptions),x=async(R,P,O)=>{if(_)return Promise.reject();if(P==null&&R.pages.length)return Promise.resolve(R);const D={queryKey:t.queryKey,pageParam:P,direction:O?"backward":"forward",meta:t.options.meta};S(D);const F=await b(D),{maxPages:Q}=t.options,Y=O?FQ:NQ;return{pages:Y(R.pages,F,Q),pageParams:Y(R.pageParams,P,Q)}};if(i&&a.length){const R=i==="backward",P=R?GQ:FD,O={pages:a,pageParams:o},D=P(r,O);s=await x(O,D,R)}else{const R=e??a.length;do{const P=l===0?o[0]??r.initialPageParam:FD(r,s);if(l>0&&P==null)break;s=await x(s,P),l++}while(l<R)}return s};t.options.persister?t.fetchFn=()=>{var _,S;return(S=(_=t.options).persister)==null?void 0:S.call(_,c,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function FD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function GQ(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Hr,Nl,Fl,dh,hh,jl,ph,gh,SU,WQ=(SU=class{constructor(e={}){Xt(this,Hr);Xt(this,Nl);Xt(this,Fl);Xt(this,dh);Xt(this,hh);Xt(this,jl);Xt(this,ph);Xt(this,gh);kt(this,Hr,e.queryCache||new HQ),kt(this,Nl,e.mutationCache||new KQ),kt(this,Fl,e.defaultOptions||{}),kt(this,dh,new Map),kt(this,hh,new Map),kt(this,jl,0)}mount(){Qv(this,jl)._++,Qe(this,jl)===1&&(kt(this,ph,TP.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,Hr).onFocus())})),kt(this,gh,ew.subscribe(async e=>{e&&(await this.resumePausedMutations(),Qe(this,Hr).onOnline())})))}unmount(){var e,t;Qv(this,jl)._--,Qe(this,jl)===0&&((e=Qe(this,ph))==null||e.call(this),kt(this,ph,void 0),(t=Qe(this,gh))==null||t.call(this),kt(this,gh,void 0))}isFetching(e){return Qe(this,Hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Qe(this,Nl).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,Hr).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Qe(this,Hr).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Qd(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Qe(this,Hr).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Qe(this,Hr).get(r.queryHash),a=i==null?void 0:i.state.data,o=DQ(t,a);if(o!==void 0)return Qe(this,Hr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Vr.batch(()=>Qe(this,Hr).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Qe(this,Hr).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Qe(this,Hr);Vr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Qe(this,Hr),r={type:"active",...e};return Vr.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Vr.batch(()=>Qe(this,Hr).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(bo).catch(bo)}invalidateQueries(e={},t={}){return Vr.batch(()=>{if(Qe(this,Hr).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Vr.batch(()=>Qe(this,Hr).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(bo)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(bo)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Qe(this,Hr).build(this,t);return n.isStaleByTime(Qd(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bo).catch(bo)}fetchInfiniteQuery(e){return e.behavior=ND(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bo).catch(bo)}ensureInfiniteQueryData(e){return e.behavior=ND(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ew.isOnline()?Qe(this,Nl).resumePausedMutations():Promise.resolve()}getQueryCache(){return Qe(this,Hr)}getMutationCache(){return Qe(this,Nl)}getDefaultOptions(){return Qe(this,Fl)}setDefaultOptions(e){kt(this,Fl,e)}setQueryDefaults(e,t){Qe(this,dh).set(Sf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Qe(this,dh).values()];let n={};return t.forEach(r=>{$m(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Qe(this,hh).set(Sf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Qe(this,hh).values()];let n={};return t.forEach(r=>{$m(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Qe(this,Fl).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=EP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===PU&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Qe(this,Fl).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Qe(this,Hr).clear(),Qe(this,Nl).clear()}},Hr=new WeakMap,Nl=new WeakMap,Fl=new WeakMap,dh=new WeakMap,hh=new WeakMap,jl=new WeakMap,ph=new WeakMap,gh=new WeakMap,SU),Ta,jn,dy,fa,hf,mh,$l,ws,hy,yh,vh,pf,gf,Bl,_h,nr,gm,nA,rA,iA,aA,oA,sA,uA,FU,xU,RP=(xU=class extends Df{constructor(t,n){super();Xt(this,nr);Xt(this,Ta);Xt(this,jn);Xt(this,dy);Xt(this,fa);Xt(this,hf);Xt(this,mh);Xt(this,$l);Xt(this,ws);Xt(this,hy);Xt(this,yh);Xt(this,vh);Xt(this,pf);Xt(this,gf);Xt(this,Bl);Xt(this,_h,new Set);this.options=n,kt(this,Ta,t),kt(this,ws,null),kt(this,$l,tA()),this.options.experimental_prefetchInRender||Qe(this,$l).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Qe(this,jn).addObserver(this),jD(Qe(this,jn),this.options)?cn(this,nr,gm).call(this):this.updateResult(),cn(this,nr,aA).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return lA(Qe(this,jn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return lA(Qe(this,jn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,cn(this,nr,oA).call(this),cn(this,nr,sA).call(this),Qe(this,jn).removeObserver(this)}setOptions(t,n){const r=this.options,i=Qe(this,jn);if(this.options=Qe(this,Ta).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ho(this.options.enabled,Qe(this,jn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");cn(this,nr,uA).call(this),Qe(this,jn).setOptions(this.options),r._defaulted&&!Y0(this.options,r)&&Qe(this,Ta).getQueryCache().notify({type:"observerOptionsUpdated",query:Qe(this,jn),observer:this});const a=this.hasListeners();a&&$D(Qe(this,jn),i,this.options,r)&&cn(this,nr,gm).call(this),this.updateResult(n),a&&(Qe(this,jn)!==i||Ho(this.options.enabled,Qe(this,jn))!==Ho(r.enabled,Qe(this,jn))||Qd(this.options.staleTime,Qe(this,jn))!==Qd(r.staleTime,Qe(this,jn)))&&cn(this,nr,nA).call(this);const o=cn(this,nr,rA).call(this);a&&(Qe(this,jn)!==i||Ho(this.options.enabled,Qe(this,jn))!==Ho(r.enabled,Qe(this,jn))||o!==Qe(this,Bl))&&cn(this,nr,iA).call(this,o)}getOptimisticResult(t){const n=Qe(this,Ta).getQueryCache().build(Qe(this,Ta),t),r=this.createResult(n,t);return ZQ(this,r)&&(kt(this,fa,r),kt(this,mh,this.options),kt(this,hf,Qe(this,jn).state)),r}getCurrentResult(){return Qe(this,fa)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){Qe(this,_h).add(t)}getCurrentQuery(){return Qe(this,jn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Qe(this,Ta).defaultQueryOptions(t),r=Qe(this,Ta).getQueryCache().build(Qe(this,Ta),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return cn(this,nr,gm).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Qe(this,fa)))}createResult(t,n){var F;const r=Qe(this,jn),i=this.options,a=Qe(this,fa),o=Qe(this,hf),s=Qe(this,mh),c=t!==r?t.state:Qe(this,dy),{state:d}=t;let h={...d},m=!1,y;if(n._optimisticResults){const Q=this.hasListeners(),Y=!Q&&jD(t,n),U=Q&&$D(t,r,n,i);(Y||U)&&(h={...h,...kU(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:_,status:S}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===Qe(this,hy))y=Qe(this,yh);else try{kt(this,hy,n.select),y=n.select(h.data),y=eA(a==null?void 0:a.data,y,n),kt(this,yh,y),kt(this,ws,null)}catch(Q){kt(this,ws,Q)}else y=h.data;if(n.placeholderData!==void 0&&y===void 0&&S==="pending"){let Q;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(s==null?void 0:s.placeholderData))Q=a.data;else if(Q=typeof n.placeholderData=="function"?n.placeholderData((F=Qe(this,vh))==null?void 0:F.state.data,Qe(this,vh)):n.placeholderData,n.select&&Q!==void 0)try{Q=n.select(Q),kt(this,ws,null)}catch(Y){kt(this,ws,Y)}Q!==void 0&&(S="success",y=eA(a==null?void 0:a.data,Q,n),m=!0)}Qe(this,ws)&&(v=Qe(this,ws),y=Qe(this,yh),_=Date.now(),S="error");const b=h.fetchStatus==="fetching",x=S==="pending",R=S==="error",P=x&&b,O=y!==void 0;return{status:S,fetchStatus:h.fetchStatus,isPending:x,isSuccess:S==="success",isError:R,isInitialLoading:P,isLoading:P,data:y,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:_,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:b,isRefetching:b&&!x,isLoadingError:R&&!O,isPaused:h.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:R&&O,isStale:AP(t,n),refetch:this.refetch,promise:Qe(this,$l)}}updateResult(t){const n=Qe(this,fa),r=this.createResult(Qe(this,jn),this.options);if(kt(this,hf,Qe(this,jn).state),kt(this,mh,this.options),Qe(this,hf).data!==void 0&&kt(this,vh,Qe(this,jn)),Y0(r,n))return;if(this.options.experimental_prefetchInRender){const o=c=>{r.status==="error"?c.reject(r.error):r.data!==void 0&&c.resolve(r.data)},s=()=>{const c=kt(this,$l,r.promise=tA());o(c)},l=Qe(this,$l);switch(l.status){case"pending":o(l);break;case"fulfilled":(r.status==="error"||r.data!==l.value)&&s();break;case"rejected":(r.status!=="error"||r.error!==l.reason)&&s();break}}kt(this,fa,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!Qe(this,_h).size)return!0;const l=new Set(s??Qe(this,_h));return this.options.throwOnError&&l.add("error"),Object.keys(Qe(this,fa)).some(c=>{const d=c;return Qe(this,fa)[d]!==n[d]&&l.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),cn(this,nr,FU).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&cn(this,nr,aA).call(this)}},Ta=new WeakMap,jn=new WeakMap,dy=new WeakMap,fa=new WeakMap,hf=new WeakMap,mh=new WeakMap,$l=new WeakMap,ws=new WeakMap,hy=new WeakMap,yh=new WeakMap,vh=new WeakMap,pf=new WeakMap,gf=new WeakMap,Bl=new WeakMap,_h=new WeakMap,nr=new WeakSet,gm=function(t){cn(this,nr,uA).call(this);let n=Qe(this,jn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(bo)),n},nA=function(){cn(this,nr,oA).call(this);const t=Qd(this.options.staleTime,Qe(this,jn));if(bf||Qe(this,fa).isStale||!XR(t))return;const r=AU(Qe(this,fa).dataUpdatedAt,t)+1;kt(this,pf,setTimeout(()=>{Qe(this,fa).isStale||this.updateResult()},r))},rA=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Qe(this,jn)):this.options.refetchInterval)??!1},iA=function(t){cn(this,nr,sA).call(this),kt(this,Bl,t),!(bf||Ho(this.options.enabled,Qe(this,jn))===!1||!XR(Qe(this,Bl))||Qe(this,Bl)===0)&&kt(this,gf,setInterval(()=>{(this.options.refetchIntervalInBackground||TP.isFocused())&&cn(this,nr,gm).call(this)},Qe(this,Bl)))},aA=function(){cn(this,nr,nA).call(this),cn(this,nr,iA).call(this,cn(this,nr,rA).call(this))},oA=function(){Qe(this,pf)&&(clearTimeout(Qe(this,pf)),kt(this,pf,void 0))},sA=function(){Qe(this,gf)&&(clearInterval(Qe(this,gf)),kt(this,gf,void 0))},uA=function(){const t=Qe(this,Ta).getQueryCache().build(Qe(this,Ta),this.options);if(t===Qe(this,jn))return;const n=Qe(this,jn);kt(this,jn,t),kt(this,dy,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},FU=function(t){Vr.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Qe(this,fa))}),Qe(this,Ta).getQueryCache().notify({query:Qe(this,jn),type:"observerResultsUpdated"})})},xU);function QQ(e,t){return Ho(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function jD(e,t){return QQ(e,t)||e.state.data!==void 0&&lA(e,t,t.refetchOnMount)}function lA(e,t,n){if(Ho(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&AP(e,t)}return!1}function $D(e,t,n,r){return(e!==t||Ho(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&AP(e,n)}function AP(e,t){return Ho(t.enabled,e)!==!1&&e.isStaleByTime(Qd(t.staleTime,e))}function ZQ(e,t){return!Y0(e.getCurrentResult(),t)}function BD(e,t){return e.filter(n=>!t.includes(n))}function JQ(e,t,n){const r=e.slice(0);return r[t]=n,r}var mf,zo,wh,Va,yf,py,gy,io,jU,cA,fA,dA,EU,XQ=(EU=class extends Df{constructor(t,n,r){super();Xt(this,io);Xt(this,mf);Xt(this,zo);Xt(this,wh);Xt(this,Va);Xt(this,yf);Xt(this,py);Xt(this,gy);kt(this,mf,t),kt(this,wh,[]),kt(this,Va,[]),kt(this,zo,[]),this.setQueries(n)}onSubscribe(){this.listeners.size===1&&Qe(this,Va).forEach(t=>{t.subscribe(n=>{cn(this,io,fA).call(this,t,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,Qe(this,Va).forEach(t=>{t.destroy()})}setQueries(t,n,r){kt(this,wh,t),Vr.batch(()=>{const i=Qe(this,Va),a=cn(this,io,cA).call(this,Qe(this,wh));a.forEach(c=>c.observer.setOptions(c.defaultedQueryOptions,r));const o=a.map(c=>c.observer),s=o.map(c=>c.getCurrentResult()),l=o.some((c,d)=>c!==i[d]);i.length===o.length&&!l||(kt(this,Va,o),kt(this,zo,s),this.hasListeners()&&(BD(i,o).forEach(c=>{c.destroy()}),BD(o,i).forEach(c=>{c.subscribe(d=>{cn(this,io,fA).call(this,c,d)})}),cn(this,io,dA).call(this)))})}getCurrentResult(){return Qe(this,zo)}getQueries(){return Qe(this,Va).map(t=>t.getCurrentQuery())}getObservers(){return Qe(this,Va)}getOptimisticResult(t,n){const r=cn(this,io,cA).call(this,t),i=r.map(a=>a.observer.getOptimisticResult(a.defaultedQueryOptions));return[i,a=>cn(this,io,jU).call(this,a??i,n),()=>r.map((a,o)=>{const s=i[o];return a.defaultedQueryOptions.notifyOnChangeProps?s:a.observer.trackResult(s,l=>{r.forEach(c=>{c.observer.trackProp(l)})})})]}},mf=new WeakMap,zo=new WeakMap,wh=new WeakMap,Va=new WeakMap,yf=new WeakMap,py=new WeakMap,gy=new WeakMap,io=new WeakSet,jU=function(t,n){return n?((!Qe(this,yf)||Qe(this,zo)!==Qe(this,gy)||n!==Qe(this,py))&&(kt(this,py,n),kt(this,gy,Qe(this,zo)),kt(this,yf,CP(Qe(this,yf),n(t)))),Qe(this,yf)):t},cA=function(t){const n=Qe(this,Va),r=new Map(n.map(h=>[h.options.queryHash,h])),i=t.map(h=>Qe(this,mf).defaultQueryOptions(h)),a=i.flatMap(h=>{const m=r.get(h.queryHash);return m!=null?[{defaultedQueryOptions:h,observer:m}]:[]}),o=new Set(a.map(h=>h.defaultedQueryOptions.queryHash)),s=i.filter(h=>!o.has(h.queryHash)),l=h=>{const m=Qe(this,mf).defaultQueryOptions(h);return Qe(this,Va).find(v=>v.options.queryHash===m.queryHash)??new RP(Qe(this,mf),m)},c=s.map(h=>({defaultedQueryOptions:h,observer:l(h)})),d=(h,m)=>i.indexOf(h.defaultedQueryOptions)-i.indexOf(m.defaultedQueryOptions);return a.concat(c).sort(d)},fA=function(t,n){const r=Qe(this,Va).indexOf(t);r!==-1&&(kt(this,zo,JQ(Qe(this,zo),r,n)),cn(this,io,dA).call(this))},dA=function(){Vr.batch(()=>{this.listeners.forEach(t=>{t(Qe(this,zo))})})},EU),Ul,ql,Ra,bu,Ru,A0,hA,CU,YQ=(CU=class extends Df{constructor(n,r){super();Xt(this,Ru);Xt(this,Ul);Xt(this,ql);Xt(this,Ra);Xt(this,bu);kt(this,Ul,n),this.setOptions(r),this.bindMethods(),cn(this,Ru,A0).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Qe(this,Ul).defaultMutationOptions(n),Y0(this.options,r)||Qe(this,Ul).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Qe(this,Ra),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Sf(r.mutationKey)!==Sf(this.options.mutationKey)?this.reset():((i=Qe(this,Ra))==null?void 0:i.state.status)==="pending"&&Qe(this,Ra).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Qe(this,Ra))==null||n.removeObserver(this)}onMutationUpdate(n){cn(this,Ru,A0).call(this),cn(this,Ru,hA).call(this,n)}getCurrentResult(){return Qe(this,ql)}reset(){var n;(n=Qe(this,Ra))==null||n.removeObserver(this),kt(this,Ra,void 0),cn(this,Ru,A0).call(this),cn(this,Ru,hA).call(this)}mutate(n,r){var i;return kt(this,bu,r),(i=Qe(this,Ra))==null||i.removeObserver(this),kt(this,Ra,Qe(this,Ul).getMutationCache().build(Qe(this,Ul),this.options)),Qe(this,Ra).addObserver(this),Qe(this,Ra).execute(n)}},Ul=new WeakMap,ql=new WeakMap,Ra=new WeakMap,bu=new WeakMap,Ru=new WeakSet,A0=function(){var r;const n=((r=Qe(this,Ra))==null?void 0:r.state)??NU();kt(this,ql,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hA=function(n){Vr.batch(()=>{var r,i,a,o,s,l,c,d;if(Qe(this,bu)&&this.hasListeners()){const h=Qe(this,ql).variables,m=Qe(this,ql).context;(n==null?void 0:n.type)==="success"?((i=(r=Qe(this,bu)).onSuccess)==null||i.call(r,n.data,h,m),(o=(a=Qe(this,bu)).onSettled)==null||o.call(a,n.data,null,h,m)):(n==null?void 0:n.type)==="error"&&((l=(s=Qe(this,bu)).onError)==null||l.call(s,n.error,h,m),(d=(c=Qe(this,bu)).onSettled)==null||d.call(c,void 0,n.error,h,m))}this.listeners.forEach(h=>{h(Qe(this,ql))})})},CU),qS={exports:{}},bn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UD;function eZ(){if(UD)return bn;UD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(k){return k===null||typeof k!="object"?null:(k=h&&k[h]||k["@@iterator"],typeof k=="function"?k:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function S(k,ie,me){this.props=k,this.context=ie,this.refs=_,this.updater=me||y}S.prototype.isReactComponent={},S.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},S.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function b(){}b.prototype=S.prototype;function x(k,ie,me){this.props=k,this.context=ie,this.refs=_,this.updater=me||y}var R=x.prototype=new b;R.constructor=x,v(R,S.prototype),R.isPureReactComponent=!0;var P=Array.isArray,O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function F(k,ie,me,K,ee,ge){return me=ge.ref,{$$typeof:e,type:k,key:ie,ref:me!==void 0?me:null,props:ge}}function Q(k,ie){return F(k.type,ie,void 0,void 0,void 0,k.props)}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===e}function U(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(me){return ie[me]})}var X=/\/+/g;function ce(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):ie.toString(36)}function te(){}function se(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(te,te):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function pe(k,ie,me,K,ee){var ge=typeof k;(ge==="undefined"||ge==="boolean")&&(k=null);var Re=!1;if(k===null)Re=!0;else switch(ge){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(k.$$typeof){case e:case t:Re=!0;break;case d:return Re=k._init,pe(Re(k._payload),ie,me,K,ee)}}if(Re)return ee=ee(k),Re=K===""?"."+ce(k,0):K,P(ee)?(me="",Re!=null&&(me=Re.replace(X,"$&/")+"/"),pe(ee,ie,me,"",function(Ne){return Ne})):ee!=null&&(Y(ee)&&(ee=Q(ee,me+(ee.key==null||k&&k.key===ee.key?"":(""+ee.key).replace(X,"$&/")+"/")+Re)),ie.push(ee)),1;Re=0;var Ze=K===""?".":K+":";if(P(k))for(var Pe=0;Pe<k.length;Pe++)K=k[Pe],ge=Ze+ce(K,Pe),Re+=pe(K,ie,me,ge,ee);else if(Pe=m(k),typeof Pe=="function")for(k=Pe.call(k),Pe=0;!(K=k.next()).done;)K=K.value,ge=Ze+ce(K,Pe++),Re+=pe(K,ie,me,ge,ee);else if(ge==="object"){if(typeof k.then=="function")return pe(se(k),ie,me,K,ee);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Re}function _e(k,ie,me){if(k==null)return k;var K=[],ee=0;return pe(k,K,"","",function(ge){return ie.call(me,ge,ee++)}),K}function de(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(me){(k._status===0||k._status===-1)&&(k._status=1,k._result=me)},function(me){(k._status===0||k._status===-1)&&(k._status=2,k._result=me)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var ue=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Ae(){}return bn.Children={map:_e,forEach:function(k,ie,me){_e(k,function(){ie.apply(this,arguments)},me)},count:function(k){var ie=0;return _e(k,function(){ie++}),ie},toArray:function(k){return _e(k,function(ie){return ie})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},bn.Component=S,bn.Fragment=n,bn.Profiler=i,bn.PureComponent=x,bn.StrictMode=r,bn.Suspense=l,bn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,bn.act=function(){throw Error("act(...) is not supported in production builds of React.")},bn.cache=function(k){return function(){return k.apply(null,arguments)}},bn.cloneElement=function(k,ie,me){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var K=v({},k.props),ee=k.key,ge=void 0;if(ie!=null)for(Re in ie.ref!==void 0&&(ge=void 0),ie.key!==void 0&&(ee=""+ie.key),ie)!D.call(ie,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ie.ref===void 0||(K[Re]=ie[Re]);var Re=arguments.length-2;if(Re===1)K.children=me;else if(1<Re){for(var Ze=Array(Re),Pe=0;Pe<Re;Pe++)Ze[Pe]=arguments[Pe+2];K.children=Ze}return F(k.type,ee,void 0,void 0,ge,K)},bn.createContext=function(k){return k={$$typeof:o,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},bn.createElement=function(k,ie,me){var K,ee={},ge=null;if(ie!=null)for(K in ie.key!==void 0&&(ge=""+ie.key),ie)D.call(ie,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=ie[K]);var Re=arguments.length-2;if(Re===1)ee.children=me;else if(1<Re){for(var Ze=Array(Re),Pe=0;Pe<Re;Pe++)Ze[Pe]=arguments[Pe+2];ee.children=Ze}if(k&&k.defaultProps)for(K in Re=k.defaultProps,Re)ee[K]===void 0&&(ee[K]=Re[K]);return F(k,ge,void 0,void 0,null,ee)},bn.createRef=function(){return{current:null}},bn.forwardRef=function(k){return{$$typeof:s,render:k}},bn.isValidElement=Y,bn.lazy=function(k){return{$$typeof:d,_payload:{_status:-1,_result:k},_init:de}},bn.memo=function(k,ie){return{$$typeof:c,type:k,compare:ie===void 0?null:ie}},bn.startTransition=function(k){var ie=O.T,me={};O.T=me;try{var K=k(),ee=O.S;ee!==null&&ee(me,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Ae,ue)}catch(ge){ue(ge)}finally{O.T=ie}},bn.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},bn.use=function(k){return O.H.use(k)},bn.useActionState=function(k,ie,me){return O.H.useActionState(k,ie,me)},bn.useCallback=function(k,ie){return O.H.useCallback(k,ie)},bn.useContext=function(k){return O.H.useContext(k)},bn.useDebugValue=function(){},bn.useDeferredValue=function(k,ie){return O.H.useDeferredValue(k,ie)},bn.useEffect=function(k,ie){return O.H.useEffect(k,ie)},bn.useId=function(){return O.H.useId()},bn.useImperativeHandle=function(k,ie,me){return O.H.useImperativeHandle(k,ie,me)},bn.useInsertionEffect=function(k,ie){return O.H.useInsertionEffect(k,ie)},bn.useLayoutEffect=function(k,ie){return O.H.useLayoutEffect(k,ie)},bn.useMemo=function(k,ie){return O.H.useMemo(k,ie)},bn.useOptimistic=function(k,ie){return O.H.useOptimistic(k,ie)},bn.useReducer=function(k,ie,me){return O.H.useReducer(k,ie,me)},bn.useRef=function(k){return O.H.useRef(k)},bn.useState=function(k){return O.H.useState(k)},bn.useSyncExternalStore=function(k,ie,me){return O.H.useSyncExternalStore(k,ie,me)},bn.useTransition=function(){return O.H.useTransition()},bn.version="19.0.0",bn}var qD;function kh(){return qD||(qD=1,qS.exports=eZ()),qS.exports}var V=kh();const Pt=Ir(V),bh=LQ({__proto__:null,default:Pt},[V]);var $U=V.createContext(void 0),$i=e=>{const t=V.useContext($U);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tZ=({client:e,children:t})=>(V.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),B.jsx($U.Provider,{value:e,children:t})),BU=V.createContext(!1),UU=()=>V.useContext(BU);BU.Provider;function nZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rZ=V.createContext(nZ()),qU=()=>V.useContext(rZ);function zU(e,t){return typeof e=="function"?e(...t):!!e}function HU(){}var VU=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},KU=e=>{V.useEffect(()=>{e.clearReset()},[e])},GU=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&zU(n,[e.error,r]),WU=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},QU=(e,t)=>e.isLoading&&e.isFetching&&!t,pA=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tw=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Bm({queries:e,...t},n){const r=$i(),i=UU(),a=qU(),o=V.useMemo(()=>e.map(v=>{const _=r.defaultQueryOptions(v);return _._optimisticResults=i?"isRestoring":"optimistic",_}),[e,r,i]);o.forEach(v=>{WU(v),VU(v,a)}),KU(a);const[s]=V.useState(()=>new XQ(r,o,t)),[l,c,d]=s.getOptimisticResult(o,t.combine);V.useSyncExternalStore(V.useCallback(v=>i?()=>{}:s.subscribe(Vr.batchCalls(v)),[s,i]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),V.useEffect(()=>{s.setQueries(o,t,{listeners:!1})},[o,t,s]);const m=l.some((v,_)=>pA(o[_],v))?l.flatMap((v,_)=>{const S=o[_];if(S){const b=new RP(r,S);if(pA(S,v))return tw(S,b,a);QU(v,i)&&tw(S,b,a)}return[]}):[];if(m.length>0)throw Promise.all(m);const y=l.find((v,_)=>{const S=o[_];return S&&GU({result:v,errorResetBoundary:a,throwOnError:S.throwOnError,query:r.getQueryCache().get(S.queryHash)})});if(y!=null&&y.error)throw y.error;return c(d())}function iZ(e,t,n){var d,h,m,y,v;const r=$i(),i=UU(),a=qU(),o=r.defaultQueryOptions(e);(h=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||h.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",WU(o),VU(o,a),KU(a);const s=!r.getQueryState(e.queryKey),[l]=V.useState(()=>new t(r,o)),c=l.getOptimisticResult(o);if(V.useSyncExternalStore(V.useCallback(_=>{const S=i?()=>{}:l.subscribe(Vr.batchCalls(_));return l.updateResult(),S},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),V.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),pA(o,c))throw tw(o,l,a);if(GU({result:c,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((y=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,o,c),o.experimental_prefetchInRender&&!bf&&QU(c,i)){const _=s?tw(o,l,a):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;_==null||_.catch(HU).finally(()=>{l.hasListeners()||l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function my(e,t){return iZ(e,RP)}function ao(e,t){const n=$i(),[r]=V.useState(()=>new YQ(n,e));V.useEffect(()=>{r.setOptions(e)},[r,e]);const i=V.useSyncExternalStore(V.useCallback(o=>r.subscribe(Vr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=V.useCallback((o,s)=>{r.mutate(o,s).catch(HU)},[r]);if(i.error&&zU(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}var zS={exports:{}},eg={},HS={exports:{}},VS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD;function aZ(){return zD||(zD=1,function(e){function t(_e,de){var ue=_e.length;_e.push(de);e:for(;0<ue;){var Ae=ue-1>>>1,k=_e[Ae];if(0<i(k,de))_e[Ae]=de,_e[ue]=k,ue=Ae;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var de=_e[0],ue=_e.pop();if(ue!==de){_e[0]=ue;e:for(var Ae=0,k=_e.length,ie=k>>>1;Ae<ie;){var me=2*(Ae+1)-1,K=_e[me],ee=me+1,ge=_e[ee];if(0>i(K,ue))ee<k&&0>i(ge,K)?(_e[Ae]=ge,_e[ee]=ue,Ae=ee):(_e[Ae]=K,_e[me]=ue,Ae=me);else if(ee<k&&0>i(ge,ue))_e[Ae]=ge,_e[ee]=ue,Ae=ee;else break e}}return de}function i(_e,de){var ue=_e.sortIndex-de.sortIndex;return ue!==0?ue:_e.id-de.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,m=3,y=!1,v=!1,_=!1,S=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function R(_e){for(var de=n(c);de!==null;){if(de.callback===null)r(c);else if(de.startTime<=_e)r(c),de.sortIndex=de.expirationTime,t(l,de);else break;de=n(c)}}function P(_e){if(_=!1,R(_e),!v)if(n(l)!==null)v=!0,se();else{var de=n(c);de!==null&&pe(P,de.startTime-_e)}}var O=!1,D=-1,F=5,Q=-1;function Y(){return!(e.unstable_now()-Q<F)}function U(){if(O){var _e=e.unstable_now();Q=_e;var de=!0;try{e:{v=!1,_&&(_=!1,b(D),D=-1),y=!0;var ue=m;try{t:{for(R(_e),h=n(l);h!==null&&!(h.expirationTime>_e&&Y());){var Ae=h.callback;if(typeof Ae=="function"){h.callback=null,m=h.priorityLevel;var k=Ae(h.expirationTime<=_e);if(_e=e.unstable_now(),typeof k=="function"){h.callback=k,R(_e),de=!0;break t}h===n(l)&&r(l),R(_e)}else r(l);h=n(l)}if(h!==null)de=!0;else{var ie=n(c);ie!==null&&pe(P,ie.startTime-_e),de=!1}}break e}finally{h=null,m=ue,y=!1}de=void 0}}finally{de?X():O=!1}}}var X;if(typeof x=="function")X=function(){x(U)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,te=ce.port2;ce.port1.onmessage=U,X=function(){te.postMessage(null)}}else X=function(){S(U,0)};function se(){O||(O=!0,X())}function pe(_e,de){D=S(function(){_e(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_e){_e.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,se())},e.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<_e?Math.floor(1e3/_e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(_e){switch(m){case 1:case 2:case 3:var de=3;break;default:de=m}var ue=m;m=de;try{return _e()}finally{m=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_e,de){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ue=m;m=_e;try{return de()}finally{m=ue}},e.unstable_scheduleCallback=function(_e,de,ue){var Ae=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ae+ue:Ae):ue=Ae,_e){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ue+k,_e={id:d++,callback:de,priorityLevel:_e,startTime:ue,expirationTime:k,sortIndex:-1},ue>Ae?(_e.sortIndex=ue,t(c,_e),n(l)===null&&_e===n(c)&&(_?(b(D),D=-1):_=!0,pe(P,ue-Ae))):(_e.sortIndex=k,t(l,_e),v||y||(v=!0,se())),_e},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(_e){var de=m;return function(){var ue=m;m=de;try{return _e.apply(this,arguments)}finally{m=ue}}}}(VS)),VS}var HD;function oZ(){return HD||(HD=1,HS.exports=aZ()),HS.exports}var KS={exports:{}},Hi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VD;function sZ(){if(VD)return Hi;VD=1;var e=kh();function t(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(l,c,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:c,implementation:d}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Hi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hi.createPortal=function(l,c){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(l,c,null,d)},Hi.flushSync=function(l){var c=o.T,d=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=c,r.p=d,r.d.f()}},Hi.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},Hi.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Hi.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin),m=typeof c.integrity=="string"?c.integrity:void 0,y=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;d==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:h,integrity:m,fetchPriority:y}):d==="script"&&r.d.X(l,{crossOrigin:h,integrity:m,fetchPriority:y,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Hi.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var d=s(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},Hi.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var d=c.as,h=s(d,c.crossOrigin);r.d.L(l,d,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Hi.preloadModule=function(l,c){if(typeof l=="string")if(c){var d=s(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},Hi.requestFormReset=function(l){r.d.r(l)},Hi.unstable_batchedUpdates=function(l,c){return l(c)},Hi.useFormState=function(l,c,d){return o.H.useFormState(l,c,d)},Hi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hi.version="19.0.0",Hi}var KD;function PP(){if(KD)return KS.exports;KD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),KS.exports=sZ(),KS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function uZ(){if(GD)return eg;GD=1;var e=oZ(),t=kh(),n=PP();function r(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}var a=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.consumer"),y=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),R=Symbol.for("react.offscreen"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(u){return u===null||typeof u!="object"?null:(u=O&&u[O]||u["@@iterator"],typeof u=="function"?u:null)}var F=Symbol.for("react.client.reference");function Q(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===F?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case l:return"Fragment";case s:return"Portal";case d:return"Profiler";case c:return"StrictMode";case _:return"Suspense";case S:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case y:return(u.displayName||"Context")+".Provider";case m:return(u._context.displayName||"Context")+".Consumer";case v:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case b:return f=u.displayName||null,f!==null?f:Q(u.type)||"Memo";case x:f=u._payload,u=u._init;try{return Q(u(f))}catch{}}return null}var Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=Object.assign,X,ce;function te(u){if(X===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);X=f&&f[1]||"",ce=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+X+u+ce}var se=!1;function pe(u,f){if(!u||se)return"";se=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(f){var Rt=function(){throw Error()};if(Object.defineProperty(Rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Rt,[])}catch(vt){var pt=vt}Reflect.construct(u,[],Rt)}else{try{Rt.call()}catch(vt){pt=vt}u.call(Rt.prototype)}}else{try{throw Error()}catch(vt){pt=vt}(Rt=u())&&typeof Rt.catch=="function"&&Rt.catch(function(){})}}catch(vt){if(vt&&pt&&typeof vt.stack=="string")return[vt.stack,pt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var j=E.DetermineComponentFrameRoot(),fe=j[0],Te=j[1];if(fe&&Te){var Ve=fe.split(`
`),at=Te.split(`
`);for(M=E=0;E<Ve.length&&!Ve[E].includes("DetermineComponentFrameRoot");)E++;for(;M<at.length&&!at[M].includes("DetermineComponentFrameRoot");)M++;if(E===Ve.length||M===at.length)for(E=Ve.length-1,M=at.length-1;1<=E&&0<=M&&Ve[E]!==at[M];)M--;for(;1<=E&&0<=M;E--,M--)if(Ve[E]!==at[M]){if(E!==1||M!==1)do if(E--,M--,0>M||Ve[E]!==at[M]){var wt=`
`+Ve[E].replace(" at new "," at ");return u.displayName&&wt.includes("<anonymous>")&&(wt=wt.replace("<anonymous>",u.displayName)),wt}while(1<=E&&0<=M);break}}}finally{se=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:"")?te(g):""}function _e(u){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return u=pe(u.type,!1),u;case 11:return u=pe(u.type.render,!1),u;case 1:return u=pe(u.type,!0),u;default:return""}}function de(u){try{var f="";do f+=_e(u),u=u.return;while(u);return f}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function ue(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function Ae(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function k(u){if(ue(u)!==u)throw Error(r(188))}function ie(u){var f=u.alternate;if(!f){if(f=ue(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,E=f;;){var M=g.return;if(M===null)break;var j=M.alternate;if(j===null){if(E=M.return,E!==null){g=E;continue}break}if(M.child===j.child){for(j=M.child;j;){if(j===g)return k(M),u;if(j===E)return k(M),f;j=j.sibling}throw Error(r(188))}if(g.return!==E.return)g=M,E=j;else{for(var fe=!1,Te=M.child;Te;){if(Te===g){fe=!0,g=M,E=j;break}if(Te===E){fe=!0,E=M,g=j;break}Te=Te.sibling}if(!fe){for(Te=j.child;Te;){if(Te===g){fe=!0,g=j,E=M;break}if(Te===E){fe=!0,E=j,g=M;break}Te=Te.sibling}if(!fe)throw Error(r(189))}}if(g.alternate!==E)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function me(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=me(u),f!==null)return f;u=u.sibling}return null}var K=Array.isArray,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Re=[],Ze=-1;function Pe(u){return{current:u}}function Ne(u){0>Ze||(u.current=Re[Ze],Re[Ze]=null,Ze--)}function Xe(u,f){Ze++,Re[Ze]=u.current,u.current=f}var oe=Pe(null),H=Pe(null),$=Pe(null),ae=Pe(null);function Z(u,f){switch(Xe($,f),Xe(H,u),Xe(oe,null),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?iD(f):0;break;default:if(u=u===8?f.parentNode:f,f=u.tagName,u=u.namespaceURI)u=iD(u),f=aD(u,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}Ne(oe),Xe(oe,f)}function he(){Ne(oe),Ne(H),Ne($)}function ye(u){u.memoizedState!==null&&Xe(ae,u);var f=oe.current,g=aD(f,u.type);f!==g&&(Xe(H,u),Xe(oe,g))}function He(u){H.current===u&&(Ne(oe),Ne(H)),ae.current===u&&(Ne(ae),Wp._currentValue=ge)}var Ee=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,tt=e.unstable_cancelCallback,nt=e.unstable_shouldYield,gt=e.unstable_requestPaint,qt=e.unstable_now,Se=e.unstable_getCurrentPriorityLevel,Ue=e.unstable_ImmediatePriority,ne=e.unstable_UserBlockingPriority,z=e.unstable_NormalPriority,W=e.unstable_LowPriority,G=e.unstable_IdlePriority,je=e.log,Je=e.unstable_setDisableYieldValue,ke=null,At=null;function It(u){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ke,u,void 0,(u.current.flags&128)===128)}catch{}}function Nt(u){if(typeof je=="function"&&Je(u),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ke,u)}catch{}}var Ot=Math.clz32?Math.clz32:dn,zt=Math.log,Ar=Math.LN2;function dn(u){return u>>>=0,u===0?32:31-(zt(u)/Ar|0)|0}var hn=128,gr=4194304;function un(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function ln(u,f){var g=u.pendingLanes;if(g===0)return 0;var E=0,M=u.suspendedLanes,j=u.pingedLanes,fe=u.warmLanes;u=u.finishedLanes!==0;var Te=g&134217727;return Te!==0?(g=Te&~M,g!==0?E=un(g):(j&=Te,j!==0?E=un(j):u||(fe=Te&~fe,fe!==0&&(E=un(fe))))):(Te=g&~M,Te!==0?E=un(Te):j!==0?E=un(j):u||(fe=g&~fe,fe!==0&&(E=un(fe)))),E===0?0:f!==0&&f!==E&&!(f&M)&&(M=E&-E,fe=f&-f,M>=fe||M===32&&(fe&4194176)!==0)?f:E}function Mn(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function ur(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Le(){var u=hn;return hn<<=1,!(hn&4194176)&&(hn=128),u}function qe(){var u=gr;return gr<<=1,!(gr&62914560)&&(gr=4194304),u}function bt(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function Et(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Mt(u,f,g,E,M,j){var fe=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var Te=u.entanglements,Ve=u.expirationTimes,at=u.hiddenUpdates;for(g=fe&~g;0<g;){var wt=31-Ot(g),Rt=1<<wt;Te[wt]=0,Ve[wt]=-1;var pt=at[wt];if(pt!==null)for(at[wt]=null,wt=0;wt<pt.length;wt++){var vt=pt[wt];vt!==null&&(vt.lane&=-536870913)}g&=~Rt}E!==0&&Hn(u,E,0),j!==0&&M===0&&u.tag!==0&&(u.suspendedLanes|=j&~(fe&~f))}function Hn(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var E=31-Ot(f);u.entangledLanes|=f,u.entanglements[E]=u.entanglements[E]|1073741824|g&4194218}function Jn(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var E=31-Ot(g),M=1<<E;M&f|u[E]&f&&(u[E]|=f),g&=~M}}function We(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function Ce(){var u=ee.p;return u!==0?u:(u=window.event,u===void 0?32:xD(u.type))}function et(u,f){var g=ee.p;try{return ee.p=u,f()}finally{ee.p=g}}var ft=Math.random().toString(36).slice(2),it="__reactFiber$"+ft,Ct="__reactProps$"+ft,Dt="__reactContainer$"+ft,Gt="__reactEvents$"+ft,Yt="__reactListeners$"+ft,Ht="__reactHandles$"+ft,jt="__reactResources$"+ft,tn="__reactMarker$"+ft;function On(u){delete u[it],delete u[Ct],delete u[Gt],delete u[Yt],delete u[Ht]}function Wt(u){var f=u[it];if(f)return f;for(var g=u.parentNode;g;){if(f=g[Dt]||g[it]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=uD(u);u!==null;){if(g=u[it])return g;u=uD(u)}return f}u=g,g=u.parentNode}return null}function Zt(u){if(u=u[it]||u[Dt]){var f=u.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return u}return null}function En(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function Cn(u){var f=u[jt];return f||(f=u[jt]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function qn(u){u[tn]=!0}var Pr=new Set,Zr={};function Jr(u,f){Mr(u,f),Mr(u+"Capture",f)}function Mr(u,f){for(Zr[u]=f,u=0;u<f.length;u++)Pr.add(f[u])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ni=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zi={},T={};function C(u){return Ee.call(T,u)?!0:Ee.call(Zi,u)?!1:ni.test(u)?T[u]=!0:(Zi[u]=!0,!1)}function A(u,f,g){if(C(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var E=f.toLowerCase().slice(0,5);if(E!=="data-"&&E!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+g)}}function N(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+g)}}function J(u,f,g,E){if(E===null)u.removeAttribute(g);else{switch(typeof E){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(g);return}u.setAttributeNS(f,g,""+E)}}function le(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function we(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function Ie(u){var f=we(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),E=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var M=g.get,j=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return M.call(this)},set:function(fe){E=""+fe,j.call(this,fe)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return E},setValue:function(fe){E=""+fe},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function xe(u){u._valueTracker||(u._valueTracker=Ie(u))}function Oe(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),E="";return u&&(E=we(u)?u.checked?"true":"false":u.value),u=E,u!==g?(f.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var $e=/[\n"\\]/g;function ze(u){return u.replace($e,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Ye(u,f,g,E,M,j,fe,Te){u.name="",fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"?u.type=fe:u.removeAttribute("type"),f!=null?fe==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+le(f)):u.value!==""+le(f)&&(u.value=""+le(f)):fe!=="submit"&&fe!=="reset"||u.removeAttribute("value"),f!=null?dt(u,fe,le(f)):g!=null?dt(u,fe,le(g)):E!=null&&u.removeAttribute("value"),M==null&&j!=null&&(u.defaultChecked=!!j),M!=null&&(u.checked=M&&typeof M!="function"&&typeof M!="symbol"),Te!=null&&typeof Te!="function"&&typeof Te!="symbol"&&typeof Te!="boolean"?u.name=""+le(Te):u.removeAttribute("name")}function ot(u,f,g,E,M,j,fe,Te){if(j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"&&(u.type=j),f!=null||g!=null){if(!(j!=="submit"&&j!=="reset"||f!=null))return;g=g!=null?""+le(g):"",f=f!=null?""+le(f):g,Te||f===u.value||(u.value=f),u.defaultValue=f}E=E??M,E=typeof E!="function"&&typeof E!="symbol"&&!!E,u.checked=Te?u.checked:!!E,u.defaultChecked=!!E,fe!=null&&typeof fe!="function"&&typeof fe!="symbol"&&typeof fe!="boolean"&&(u.name=fe)}function dt(u,f,g){f==="number"&&Me(u.ownerDocument)===u||u.defaultValue===""+g||(u.defaultValue=""+g)}function ut(u,f,g,E){if(u=u.options,f){f={};for(var M=0;M<g.length;M++)f["$"+g[M]]=!0;for(g=0;g<u.length;g++)M=f.hasOwnProperty("$"+u[g].value),u[g].selected!==M&&(u[g].selected=M),M&&E&&(u[g].defaultSelected=!0)}else{for(g=""+le(g),f=null,M=0;M<u.length;M++){if(u[M].value===g){u[M].selected=!0,E&&(u[M].defaultSelected=!0);return}f!==null||u[M].disabled||(f=u[M])}f!==null&&(f.selected=!0)}}function be(u,f,g){if(f!=null&&(f=""+le(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?""+le(g):""}function De(u,f,g,E){if(f==null){if(E!=null){if(g!=null)throw Error(r(92));if(K(E)){if(1<E.length)throw Error(r(93));E=E[0]}g=E}g==null&&(g=""),f=g}g=le(f),u.defaultValue=g,E=u.textContent,E===g&&E!==""&&E!==null&&(u.value=E)}function Be(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Ke=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lt(u,f,g){var E=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?E?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":E?u.setProperty(f,g):typeof g!="number"||g===0||Ke.has(f)?f==="float"?u.cssFloat=g:u[f]=(""+g).trim():u[f]=g+"px"}function mt(u,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(u=u.style,g!=null){for(var E in g)!g.hasOwnProperty(E)||f!=null&&f.hasOwnProperty(E)||(E.indexOf("--")===0?u.setProperty(E,""):E==="float"?u.cssFloat="":u[E]="");for(var M in f)E=f[M],f.hasOwnProperty(M)&&g[M]!==E&&lt(u,M,E)}else for(var j in f)f.hasOwnProperty(j)&&lt(u,j,f[j])}function $t(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gn=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ft(u){return gn.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}var Vt=null;function zn(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Nn=null,Bn=null;function Qt(u){var f=Zt(u);if(f&&(u=f.stateNode)){var g=u[Ct]||null;e:switch(u=f.stateNode,f.type){case"input":if(Ye(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+ze(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var E=g[f];if(E!==u&&E.form===u.form){var M=E[Ct]||null;if(!M)throw Error(r(90));Ye(E,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(f=0;f<g.length;f++)E=g[f],E.form===u.form&&Oe(E)}break e;case"textarea":be(u,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&ut(u,!!g.multiple,f,!1)}}}var Gn=!1;function pn(u,f,g){if(Gn)return u(f,g);Gn=!0;try{var E=u(f);return E}finally{if(Gn=!1,(Nn!==null||Bn!==null)&&(Pv(),Nn&&(f=Nn,u=Bn,Bn=Nn=null,Qt(f),u)))for(f=0;f<u.length;f++)Qt(u[f])}}function Xn(u,f){var g=u.stateNode;if(g===null)return null;var E=g[Ct]||null;if(E===null)return null;g=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(u=u.type,E=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!E;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var mr=!1;if($n)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){mr=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{mr=!1}var lr=null,Ei=null,Ji=null;function _a(){if(Ji)return Ji;var u,f=Ei,g=f.length,E,M="value"in lr?lr.value:lr.textContent,j=M.length;for(u=0;u<g&&f[u]===M[u];u++);var fe=g-u;for(E=1;E<=fe&&f[g-E]===M[j-E];E++);return Ji=M.slice(u,1<E?1-E:void 0)}function ir(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Ui(){return!0}function Io(){return!1}function ar(u){function f(g,E,M,j,fe){this._reactName=g,this._targetInst=M,this.type=E,this.nativeEvent=j,this.target=fe,this.currentTarget=null;for(var Te in u)u.hasOwnProperty(Te)&&(g=u[Te],this[Te]=g?g(j):j[Te]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?Ui:Io,this.isPropagationStopped=Io,this}return U(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),f}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oo=ar(Br),Xi=U({},Br,{view:0,detail:0}),Hu=ar(Xi),so,vn,Ma,cr=U({},Xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gf,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ma&&(Ma&&u.type==="mousemove"?(so=u.screenX-Ma.screenX,vn=u.screenY-Ma.screenY):vn=so=0,Ma=u),so)},movementY:function(u){return"movementY"in u?u.movementY:vn}}),qi=ar(cr),wa=U({},cr,{dataTransfer:0}),fr=ar(wa),Yi=U({},Xi,{relatedTarget:0}),uo=ar(Yi),Or=U({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),uc=ar(Or),Mo=U({},Br,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Da=ar(Mo),cp=U({},Br,{data:0}),ea=ar(cp),Kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},By={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},os={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=os[u])?!!f[u]:!1}function Gf(){return Uy}var fp=U({},Xi,{key:function(u){if(u.key){var f=Kf[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=ir(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?By[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gf,charCode:function(u){return u.type==="keypress"?ir(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?ir(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Xb=ar(fp),qy=U({},cr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=ar(qy),Yb=U({},Xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gf}),e1=ar(Yb),hp=U({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=ar(hp),zy=U({},cr,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Hy=ar(zy),Wf=U({},Br,{newState:0,oldState:0}),Fs=ar(Wf),n1=[9,13,27,32],js=$n&&"CompositionEvent"in window,yi=null;$n&&"documentMode"in document&&(yi=document.documentMode);var Vy=$n&&"TextEvent"in window&&!yi,pp=$n&&(!js||yi&&8<yi&&11>=yi),Ky=" ",Qf=!1;function Zf(u,f){switch(u){case"keyup":return n1.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gy(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Vu=!1;function Wy(u,f){switch(u){case"compositionend":return Gy(f);case"keypress":return f.which!==32?null:(Qf=!0,Ky);case"textInput":return u=f.data,u===Ky&&Qf?null:u;default:return null}}function r1(u,f){if(Vu)return u==="compositionend"||!js&&Zf(u,f)?(u=_a(),Ji=Ei=lr=null,Vu=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return pp&&f.locale!=="ko"?null:f.data;default:return null}}var ka={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $s(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!ka[u.type]:f==="textarea"}function Qy(u,f,g,E){Nn?Bn?Bn.push(E):Bn=[E]:Nn=E,f=Dv(f,"onChange"),0<f.length&&(g=new oo("onChange","change",null,g,E),u.push({event:g,listeners:f}))}var ta=null,lc=null;function Ku(u){YM(u,0)}function Jf(u){var f=En(u);if(Oe(f))return u}function Gu(u,f){if(u==="change")return f}var gp=!1;if($n){var Wu;if($n){var mp="oninput"in document;if(!mp){var Do=document.createElement("div");Do.setAttribute("oninput","return;"),mp=typeof Do.oninput=="function"}Wu=mp}else Wu=!1;gp=Wu&&(!document.documentMode||9<document.documentMode)}function cc(){ta&&(ta.detachEvent("onpropertychange",Zy),lc=ta=null)}function Zy(u){if(u.propertyName==="value"&&Jf(lc)){var f=[];Qy(f,lc,u,zn(u)),pn(Ku,f)}}function yp(u,f,g){u==="focusin"?(cc(),ta=f,lc=g,ta.attachEvent("onpropertychange",Zy)):u==="focusout"&&cc()}function i1(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Jf(lc)}function ko(u,f){if(u==="click")return Jf(f)}function a1(u,f){if(u==="input"||u==="change")return Jf(f)}function Qu(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var na=typeof Object.is=="function"?Object.is:Qu;function ra(u,f){if(na(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),E=Object.keys(f);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var M=g[E];if(!Ee.call(f,M)||!na(u[M],f[M]))return!1}return!0}function fc(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function vp(u,f){var g=fc(u);u=0;for(var E;g;){if(g.nodeType===3){if(E=u+g.textContent.length,u<=f&&E>=f)return{node:g,offset:f-u};u=E}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=fc(g)}}function Xf(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?Xf(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function dc(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=Me(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=Me(u.document)}return f}function hc(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function Yf(u,f){var g=dc(f);f=u.focusedElem;var E=u.selectionRange;if(g!==f&&f&&f.ownerDocument&&Xf(f.ownerDocument.documentElement,f)){if(E!==null&&hc(f)){if(u=E.start,g=E.end,g===void 0&&(g=u),"selectionStart"in f)f.selectionStart=u,f.selectionEnd=Math.min(g,f.value.length);else if(g=(u=f.ownerDocument||document)&&u.defaultView||window,g.getSelection){g=g.getSelection();var M=f.textContent.length,j=Math.min(E.start,M);E=E.end===void 0?j:Math.min(E.end,M),!g.extend&&j>E&&(M=E,E=j,j=M),M=vp(f,j);var fe=vp(f,E);M&&fe&&(g.rangeCount!==1||g.anchorNode!==M.node||g.anchorOffset!==M.offset||g.focusNode!==fe.node||g.focusOffset!==fe.offset)&&(u=u.createRange(),u.setStart(M.node,M.offset),g.removeAllRanges(),j>E?(g.addRange(u),g.extend(fe.node,fe.offset)):(u.setEnd(fe.node,fe.offset),g.addRange(u)))}}for(u=[],g=f;g=g.parentNode;)g.nodeType===1&&u.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<u.length;f++)g=u[f],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var Zu=$n&&"documentMode"in document&&11>=document.documentMode,No=null,pc=null,Ju=null,_p=!1;function gc(u,f,g){var E=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;_p||No==null||No!==Me(E)||(E=No,"selectionStart"in E&&hc(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Ju&&ra(Ju,E)||(Ju=E,E=Dv(pc,"onSelect"),0<E.length&&(f=new oo("onSelect","select",null,f,g),u.push({event:f,listeners:E}),f.target=No)))}function Bs(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var Us={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},wp={},bp={};$n&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Us.animationend.animation,delete Us.animationiteration.animation,delete Us.animationstart.animation),"TransitionEvent"in window||delete Us.transitionend.transition);function qs(u){if(wp[u])return wp[u];if(!Us[u])return u;var f=Us[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in bp)return wp[u]=f[g];return u}var Na=qs("animationend"),mc=qs("animationiteration"),Jy=qs("animationstart"),ed=qs("transitionrun"),o1=qs("transitionstart"),Xy=qs("transitioncancel"),Yy=qs("transitionend"),Xu=new Map,ev="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function vi(u,f){Xu.set(u,f),Jr(f,[u])}var ia=[],zs=0,Sp=0;function ba(){for(var u=zs,f=Sp=zs=0;f<u;){var g=ia[f];ia[f++]=null;var E=ia[f];ia[f++]=null;var M=ia[f];ia[f++]=null;var j=ia[f];if(ia[f++]=null,E!==null&&M!==null){var fe=E.pending;fe===null?M.next=M:(M.next=fe.next,fe.next=M),E.pending=M}j!==0&&tv(g,M,j)}}function yc(u,f,g,E){ia[zs++]=u,ia[zs++]=f,ia[zs++]=g,ia[zs++]=E,Sp|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function td(u,f,g,E){return yc(u,f,g,E),Hs(u)}function Sa(u,f){return yc(u,null,null,f),Hs(u)}function tv(u,f,g){u.lanes|=g;var E=u.alternate;E!==null&&(E.lanes|=g);for(var M=!1,j=u.return;j!==null;)j.childLanes|=g,E=j.alternate,E!==null&&(E.childLanes|=g),j.tag===22&&(u=j.stateNode,u===null||u._visibility&1||(M=!0)),u=j,j=j.return;M&&f!==null&&u.tag===3&&(j=u.stateNode,M=31-Ot(g),j=j.hiddenUpdates,u=j[M],u===null?j[M]=[f]:u.push(f),f.lane=g|536870912)}function Hs(u){if(50<Up)throw Up=0,uS=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var lo={},xp=new WeakMap;function aa(u,f){if(typeof u=="object"&&u!==null){var g=xp.get(u);return g!==void 0?g:(f={value:u,source:f,stack:de(f)},xp.set(u,f),f)}return{value:u,source:f,stack:de(f)}}var Yu=[],Vs=0,vc=null,_c=0,oa=[],sa=0,Ks=null,co=1,fo="";function Gs(u,f){Yu[Vs++]=_c,Yu[Vs++]=vc,vc=u,_c=f}function p(u,f,g){oa[sa++]=co,oa[sa++]=fo,oa[sa++]=Ks,Ks=u;var E=co;u=fo;var M=32-Ot(E)-1;E&=~(1<<M),g+=1;var j=32-Ot(f)+M;if(30<j){var fe=M-M%5;j=(E&(1<<fe)-1).toString(32),E>>=fe,M-=fe,co=1<<32-Ot(f)+M|g<<M|E,fo=j+u}else co=1<<j|g<<M|E,fo=u}function w(u){u.return!==null&&(Gs(u,1),p(u,1,0))}function I(u){for(;u===vc;)vc=Yu[--Vs],Yu[Vs]=null,_c=Yu[--Vs],Yu[Vs]=null;for(;u===Ks;)Ks=oa[--sa],oa[sa]=null,fo=oa[--sa],oa[sa]=null,co=oa[--sa],oa[sa]=null}var q=null,re=null,ve=!1,Ge=null,st=!1,yt=Error(r(519));function St(u){var f=Error(r(418,""));throw Lr(aa(f,u)),yt}function Bt(u){var f=u.stateNode,g=u.type,E=u.memoizedProps;switch(f[it]=u,f[Ct]=E,g){case"dialog":Fn("cancel",f),Fn("close",f);break;case"iframe":case"object":case"embed":Fn("load",f);break;case"video":case"audio":for(g=0;g<zp.length;g++)Fn(zp[g],f);break;case"source":Fn("error",f);break;case"img":case"image":case"link":Fn("error",f),Fn("load",f);break;case"details":Fn("toggle",f);break;case"input":Fn("invalid",f),ot(f,E.value,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name,!0),xe(f);break;case"select":Fn("invalid",f);break;case"textarea":Fn("invalid",f),De(f,E.value,E.defaultValue,E.children),xe(f)}g=E.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||E.suppressHydrationWarning===!0||rD(f.textContent,g)?(E.popover!=null&&(Fn("beforetoggle",f),Fn("toggle",f)),E.onScroll!=null&&Fn("scroll",f),E.onScrollEnd!=null&&Fn("scrollend",f),E.onClick!=null&&(f.onclick=kv),f=!0):f=!1,f||St(u)}function rn(u){for(q=u.return;q;)switch(q.tag){case 3:case 27:st=!0;return;case 5:case 13:st=!1;return;default:q=q.return}}function mn(u){if(u!==q)return!1;if(!ve)return rn(u),ve=!0,!1;var f=!1,g;if((g=u.tag!==3&&u.tag!==27)&&((g=u.tag===5)&&(g=u.type,g=!(g!=="form"&&g!=="button")||CS(u.type,u.memoizedProps)),g=!g),g&&(f=!0),f&&re&&St(u),rn(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8)if(g=u.data,g==="/$"){if(f===0){re=jo(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++;u=u.nextSibling}re=null}}else re=q?jo(u.stateNode.nextSibling):null;return!0}function Xr(){re=q=null,ve=!1}function Lr(u){Ge===null?Ge=[u]:Ge.push(u)}var _i=Error(r(460)),Ci=Error(r(474)),ss={then:function(){}};function nv(u){return u=u.status,u==="fulfilled"||u==="rejected"}function nd(){}function rv(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(nd,nd),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===_i?Error(r(483)):u;default:if(typeof f.status=="string")f.then(nd,nd);else{if(u=br,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status="pending",u.then(function(E){if(f.status==="pending"){var M=f;M.status="fulfilled",M.value=E}},function(E){if(f.status==="pending"){var M=f;M.status="rejected",M.reason=E}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===_i?Error(r(483)):u}throw el=f,_i}}var el=null;function iv(){if(el===null)throw Error(r(459));var u=el;return el=null,u}var Ws=null,wr=0;function Qs(u){var f=wr;return wr+=1,Ws===null&&(Ws=[]),rv(Ws,u,f)}function wc(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function rd(u,f){throw f.$$typeof===a?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function av(u){var f=u._init;return f(u._payload)}function id(u){function f(ct,rt){if(u){var ht=ct.deletions;ht===null?(ct.deletions=[rt],ct.flags|=16):ht.push(rt)}}function g(ct,rt){if(!u)return null;for(;rt!==null;)f(ct,rt),rt=rt.sibling;return null}function E(ct){for(var rt=new Map;ct!==null;)ct.key!==null?rt.set(ct.key,ct):rt.set(ct.index,ct),ct=ct.sibling;return rt}function M(ct,rt){return ct=dl(ct,rt),ct.index=0,ct.sibling=null,ct}function j(ct,rt,ht){return ct.index=ht,u?(ht=ct.alternate,ht!==null?(ht=ht.index,ht<rt?(ct.flags|=33554434,rt):ht):(ct.flags|=33554434,rt)):(ct.flags|=1048576,rt)}function fe(ct){return u&&ct.alternate===null&&(ct.flags|=33554434),ct}function Te(ct,rt,ht,xt){return rt===null||rt.tag!==6?(rt=eS(ht,ct.mode,xt),rt.return=ct,rt):(rt=M(rt,ht),rt.return=ct,rt)}function Ve(ct,rt,ht,xt){var Kt=ht.type;return Kt===l?wt(ct,rt,ht.props.children,xt,ht.key):rt!==null&&(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&av(Kt)===rt.type)?(rt=M(rt,ht.props),wc(rt,ht),rt.return=ct,rt):(rt=Ev(ht.type,ht.key,ht.props,null,ct.mode,xt),wc(rt,ht),rt.return=ct,rt)}function at(ct,rt,ht,xt){return rt===null||rt.tag!==4||rt.stateNode.containerInfo!==ht.containerInfo||rt.stateNode.implementation!==ht.implementation?(rt=tS(ht,ct.mode,xt),rt.return=ct,rt):(rt=M(rt,ht.children||[]),rt.return=ct,rt)}function wt(ct,rt,ht,xt,Kt){return rt===null||rt.tag!==7?(rt=Pc(ht,ct.mode,xt,Kt),rt.return=ct,rt):(rt=M(rt,ht),rt.return=ct,rt)}function Rt(ct,rt,ht){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return rt=eS(""+rt,ct.mode,ht),rt.return=ct,rt;if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return ht=Ev(rt.type,rt.key,rt.props,null,ct.mode,ht),wc(ht,rt),ht.return=ct,ht;case s:return rt=tS(rt,ct.mode,ht),rt.return=ct,rt;case x:var xt=rt._init;return rt=xt(rt._payload),Rt(ct,rt,ht)}if(K(rt)||D(rt))return rt=Pc(rt,ct.mode,ht,null),rt.return=ct,rt;if(typeof rt.then=="function")return Rt(ct,Qs(rt),ht);if(rt.$$typeof===y)return Rt(ct,bv(ct,rt),ht);rd(ct,rt)}return null}function pt(ct,rt,ht,xt){var Kt=rt!==null?rt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Kt!==null?null:Te(ct,rt,""+ht,xt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:return ht.key===Kt?Ve(ct,rt,ht,xt):null;case s:return ht.key===Kt?at(ct,rt,ht,xt):null;case x:return Kt=ht._init,ht=Kt(ht._payload),pt(ct,rt,ht,xt)}if(K(ht)||D(ht))return Kt!==null?null:wt(ct,rt,ht,xt,null);if(typeof ht.then=="function")return pt(ct,rt,Qs(ht),xt);if(ht.$$typeof===y)return pt(ct,rt,bv(ct,ht),xt);rd(ct,ht)}return null}function vt(ct,rt,ht,xt,Kt){if(typeof xt=="string"&&xt!==""||typeof xt=="number"||typeof xt=="bigint")return ct=ct.get(ht)||null,Te(rt,ct,""+xt,Kt);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case o:return ct=ct.get(xt.key===null?ht:xt.key)||null,Ve(rt,ct,xt,Kt);case s:return ct=ct.get(xt.key===null?ht:xt.key)||null,at(rt,ct,xt,Kt);case x:var Ln=xt._init;return xt=Ln(xt._payload),vt(ct,rt,ht,xt,Kt)}if(K(xt)||D(xt))return ct=ct.get(ht)||null,wt(rt,ct,xt,Kt,null);if(typeof xt.then=="function")return vt(ct,rt,ht,Qs(xt),Kt);if(xt.$$typeof===y)return vt(ct,rt,ht,bv(rt,xt),Kt);rd(rt,xt)}return null}function Jt(ct,rt,ht,xt){for(var Kt=null,Ln=null,en=rt,on=rt=0,Si=null;en!==null&&on<ht.length;on++){en.index>on?(Si=en,en=null):Si=en.sibling;var Vn=pt(ct,en,ht[on],xt);if(Vn===null){en===null&&(en=Si);break}u&&en&&Vn.alternate===null&&f(ct,en),rt=j(Vn,rt,on),Ln===null?Kt=Vn:Ln.sibling=Vn,Ln=Vn,en=Si}if(on===ht.length)return g(ct,en),ve&&Gs(ct,on),Kt;if(en===null){for(;on<ht.length;on++)en=Rt(ct,ht[on],xt),en!==null&&(rt=j(en,rt,on),Ln===null?Kt=en:Ln.sibling=en,Ln=en);return ve&&Gs(ct,on),Kt}for(en=E(en);on<ht.length;on++)Si=vt(en,ct,on,ht[on],xt),Si!==null&&(u&&Si.alternate!==null&&en.delete(Si.key===null?on:Si.key),rt=j(Si,rt,on),Ln===null?Kt=Si:Ln.sibling=Si,Ln=Si);return u&&en.forEach(function(_l){return f(ct,_l)}),ve&&Gs(ct,on),Kt}function yn(ct,rt,ht,xt){if(ht==null)throw Error(r(151));for(var Kt=null,Ln=null,en=rt,on=rt=0,Si=null,Vn=ht.next();en!==null&&!Vn.done;on++,Vn=ht.next()){en.index>on?(Si=en,en=null):Si=en.sibling;var _l=pt(ct,en,Vn.value,xt);if(_l===null){en===null&&(en=Si);break}u&&en&&_l.alternate===null&&f(ct,en),rt=j(_l,rt,on),Ln===null?Kt=_l:Ln.sibling=_l,Ln=_l,en=Si}if(Vn.done)return g(ct,en),ve&&Gs(ct,on),Kt;if(en===null){for(;!Vn.done;on++,Vn=ht.next())Vn=Rt(ct,Vn.value,xt),Vn!==null&&(rt=j(Vn,rt,on),Ln===null?Kt=Vn:Ln.sibling=Vn,Ln=Vn);return ve&&Gs(ct,on),Kt}for(en=E(en);!Vn.done;on++,Vn=ht.next())Vn=vt(en,ct,on,Vn.value,xt),Vn!==null&&(u&&Vn.alternate!==null&&en.delete(Vn.key===null?on:Vn.key),rt=j(Vn,rt,on),Ln===null?Kt=Vn:Ln.sibling=Vn,Ln=Vn);return u&&en.forEach(function(AQ){return f(ct,AQ)}),ve&&Gs(ct,on),Kt}function zr(ct,rt,ht,xt){if(typeof ht=="object"&&ht!==null&&ht.type===l&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case o:e:{for(var Kt=ht.key;rt!==null;){if(rt.key===Kt){if(Kt=ht.type,Kt===l){if(rt.tag===7){g(ct,rt.sibling),xt=M(rt,ht.props.children),xt.return=ct,ct=xt;break e}}else if(rt.elementType===Kt||typeof Kt=="object"&&Kt!==null&&Kt.$$typeof===x&&av(Kt)===rt.type){g(ct,rt.sibling),xt=M(rt,ht.props),wc(xt,ht),xt.return=ct,ct=xt;break e}g(ct,rt);break}else f(ct,rt);rt=rt.sibling}ht.type===l?(xt=Pc(ht.props.children,ct.mode,xt,ht.key),xt.return=ct,ct=xt):(xt=Ev(ht.type,ht.key,ht.props,null,ct.mode,xt),wc(xt,ht),xt.return=ct,ct=xt)}return fe(ct);case s:e:{for(Kt=ht.key;rt!==null;){if(rt.key===Kt)if(rt.tag===4&&rt.stateNode.containerInfo===ht.containerInfo&&rt.stateNode.implementation===ht.implementation){g(ct,rt.sibling),xt=M(rt,ht.children||[]),xt.return=ct,ct=xt;break e}else{g(ct,rt);break}else f(ct,rt);rt=rt.sibling}xt=tS(ht,ct.mode,xt),xt.return=ct,ct=xt}return fe(ct);case x:return Kt=ht._init,ht=Kt(ht._payload),zr(ct,rt,ht,xt)}if(K(ht))return Jt(ct,rt,ht,xt);if(D(ht)){if(Kt=D(ht),typeof Kt!="function")throw Error(r(150));return ht=Kt.call(ht),yn(ct,rt,ht,xt)}if(typeof ht.then=="function")return zr(ct,rt,Qs(ht),xt);if(ht.$$typeof===y)return zr(ct,rt,bv(ct,ht),xt);rd(ct,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,rt!==null&&rt.tag===6?(g(ct,rt.sibling),xt=M(rt,ht),xt.return=ct,ct=xt):(g(ct,rt),xt=eS(ht,ct.mode,xt),xt.return=ct,ct=xt),fe(ct)):g(ct,rt)}return function(ct,rt,ht,xt){try{wr=0;var Kt=zr(ct,rt,ht,xt);return Ws=null,Kt}catch(en){if(en===_i)throw en;var Ln=mo(29,en,null,ct.mode);return Ln.lanes=xt,Ln.return=ct,Ln}finally{}}}var us=id(!0),ov=id(!1),ad=Pe(null),sv=Pe(0);function rI(u,f){u=ou,Xe(sv,u),Xe(ad,f),ou=u|f.baseLanes}function s1(){Xe(sv,ou),Xe(ad,ad.current)}function u1(){ou=sv.current,Ne(ad),Ne(sv)}var ho=Pe(null),ls=null;function tl(u){var f=u.alternate;Xe(di,di.current&1),Xe(ho,u),ls===null&&(f===null||ad.current!==null||f.memoizedState!==null)&&(ls=u)}function iI(u){if(u.tag===22){if(Xe(di,di.current),Xe(ho,u),ls===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(ls=u)}}else nl()}function nl(){Xe(di,di.current),Xe(ho,ho.current)}function Zs(u){Ne(ho),ls===u&&(ls=null),Ne(di)}var di=Pe(0);function uv(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var gW=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,E){u.push(E)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},mW=e.unstable_scheduleCallback,yW=e.unstable_NormalPriority,hi={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function l1(){return{controller:new gW,data:new Map,refCount:0}}function Ep(u){u.refCount--,u.refCount===0&&mW(yW,function(){u.controller.abort()})}var Cp=null,c1=0,od=0,sd=null;function vW(u,f){if(Cp===null){var g=Cp=[];c1=0,od=mS(),sd={status:"pending",value:void 0,then:function(E){g.push(E)}}}return c1++,f.then(aI,aI),f}function aI(){if(--c1===0&&Cp!==null){sd!==null&&(sd.status="fulfilled");var u=Cp;Cp=null,od=0,sd=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function _W(u,f){var g=[],E={status:"pending",value:null,reason:null,then:function(M){g.push(M)}};return u.then(function(){E.status="fulfilled",E.value=f;for(var M=0;M<g.length;M++)(0,g[M])(f)},function(M){for(E.status="rejected",E.reason=M,M=0;M<g.length;M++)(0,g[M])(void 0)}),E}var oI=Y.S;Y.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&vW(u,f),oI!==null&&oI(u,f)};var bc=Pe(null);function f1(){var u=bc.current;return u!==null?u:br.pooledCache}function lv(u,f){f===null?Xe(bc,bc.current):Xe(bc,f.pool)}function sI(){var u=f1();return u===null?null:{parent:hi._currentValue,pool:u}}var rl=0,Rn=null,dr=null,ri=null,cv=!1,ud=!1,Sc=!1,fv=0,Tp=0,ld=null,wW=0;function Yr(){throw Error(r(321))}function d1(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!na(u[g],f[g]))return!1;return!0}function h1(u,f,g,E,M,j){return rl=j,Rn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Y.H=u===null||u.memoizedState===null?xc:il,Sc=!1,j=g(E,M),Sc=!1,ud&&(j=lI(f,g,E,M)),uI(u),j}function uI(u){Y.H=cs;var f=dr!==null&&dr.next!==null;if(rl=0,ri=dr=Rn=null,cv=!1,Tp=0,ld=null,f)throw Error(r(300));u===null||wi||(u=u.dependencies,u!==null&&wv(u)&&(wi=!0))}function lI(u,f,g,E){Rn=u;var M=0;do{if(ud&&(ld=null),Tp=0,ud=!1,25<=M)throw Error(r(301));if(M+=1,ri=dr=null,u.updateQueue!=null){var j=u.updateQueue;j.lastEffect=null,j.events=null,j.stores=null,j.memoCache!=null&&(j.memoCache.index=0)}Y.H=Ec,j=f(g,E)}while(ud);return j}function bW(){var u=Y.H,f=u.useState()[0];return f=typeof f.then=="function"?Rp(f):f,u=u.useState()[0],(dr!==null?dr.memoizedState:null)!==u&&(Rn.flags|=1024),f}function p1(){var u=fv!==0;return fv=0,u}function g1(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function m1(u){if(cv){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}cv=!1}rl=0,ri=dr=Rn=null,ud=!1,Tp=fv=0,ld=null}function xa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?Rn.memoizedState=ri=u:ri=ri.next=u,ri}function ii(){if(dr===null){var u=Rn.alternate;u=u!==null?u.memoizedState:null}else u=dr.next;var f=ri===null?Rn.memoizedState:ri.next;if(f!==null)ri=f,dr=u;else{if(u===null)throw Rn.alternate===null?Error(r(467)):Error(r(310));dr=u,u={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},ri===null?Rn.memoizedState=ri=u:ri=ri.next=u}return ri}var dv;dv=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Rp(u){var f=Tp;return Tp+=1,ld===null&&(ld=[]),u=rv(ld,u,f),f=Rn,(ri===null?f.memoizedState:ri.next)===null&&(f=f.alternate,Y.H=f===null||f.memoizedState===null?xc:il),u}function hv(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Rp(u);if(u.$$typeof===y)return zi(u)}throw Error(r(438,String(u)))}function y1(u){var f=null,g=Rn.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var E=Rn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(f={data:E.data.map(function(M){return M.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=dv(),Rn.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),E=0;E<u;E++)g[E]=P;return f.index++,g}function Js(u,f){return typeof f=="function"?f(u):f}function pv(u){var f=ii();return v1(f,dr,u)}function v1(u,f,g){var E=u.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=g;var M=u.baseQueue,j=E.pending;if(j!==null){if(M!==null){var fe=M.next;M.next=j.next,j.next=fe}f.baseQueue=M=j,E.pending=null}if(j=u.baseState,M===null)u.memoizedState=j;else{f=M.next;var Te=fe=null,Ve=null,at=f,wt=!1;do{var Rt=at.lane&-536870913;if(Rt!==at.lane?(Un&Rt)===Rt:(rl&Rt)===Rt){var pt=at.revertLane;if(pt===0)Ve!==null&&(Ve=Ve.next={lane:0,revertLane:0,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null}),Rt===od&&(wt=!0);else if((rl&pt)===pt){at=at.next,pt===od&&(wt=!0);continue}else Rt={lane:0,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Te=Ve=Rt,fe=j):Ve=Ve.next=Rt,Rn.lanes|=pt,hl|=pt;Rt=at.action,Sc&&g(j,Rt),j=at.hasEagerState?at.eagerState:g(j,Rt)}else pt={lane:Rt,revertLane:at.revertLane,action:at.action,hasEagerState:at.hasEagerState,eagerState:at.eagerState,next:null},Ve===null?(Te=Ve=pt,fe=j):Ve=Ve.next=pt,Rn.lanes|=Rt,hl|=Rt;at=at.next}while(at!==null&&at!==f);if(Ve===null?fe=j:Ve.next=Te,!na(j,u.memoizedState)&&(wi=!0,wt&&(g=sd,g!==null)))throw g;u.memoizedState=j,u.baseState=fe,u.baseQueue=Ve,E.lastRenderedState=j}return M===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function _1(u){var f=ii(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var E=g.dispatch,M=g.pending,j=f.memoizedState;if(M!==null){g.pending=null;var fe=M=M.next;do j=u(j,fe.action),fe=fe.next;while(fe!==M);na(j,f.memoizedState)||(wi=!0),f.memoizedState=j,f.baseQueue===null&&(f.baseState=j),g.lastRenderedState=j}return[j,E]}function cI(u,f,g){var E=Rn,M=ii(),j=ve;if(j){if(g===void 0)throw Error(r(407));g=g()}else g=f();var fe=!na((dr||M).memoizedState,g);if(fe&&(M.memoizedState=g,wi=!0),M=M.queue,S1(hI.bind(null,E,M,u),[u]),M.getSnapshot!==f||fe||ri!==null&&ri.memoizedState.tag&1){if(E.flags|=2048,cd(9,dI.bind(null,E,M,g,f),{destroy:void 0},null),br===null)throw Error(r(349));j||rl&60||fI(E,f,g)}return g}function fI(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Rn.updateQueue,f===null?(f=dv(),Rn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function dI(u,f,g,E){f.value=g,f.getSnapshot=E,pI(f)&&gI(u)}function hI(u,f,g){return g(function(){pI(f)&&gI(u)})}function pI(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!na(u,g)}catch{return!0}}function gI(u){var f=Sa(u,2);f!==null&&ua(f,u,2)}function w1(u){var f=xa();if(typeof u=="function"){var g=u;if(u=g(),Sc){Nt(!0);try{g()}finally{Nt(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:u},f}function mI(u,f,g,E){return u.baseState=g,v1(u,dr,typeof E=="function"?E:Js)}function SW(u,f,g,E,M){if(yv(u))throw Error(r(485));if(u=f.action,u!==null){var j={payload:M,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(fe){j.listeners.push(fe)}};Y.T!==null?g(!0):j.isTransition=!1,E(j),g=f.pending,g===null?(j.next=f.pending=j,yI(f,j)):(j.next=g.next,f.pending=g.next=j)}}function yI(u,f){var g=f.action,E=f.payload,M=u.state;if(f.isTransition){var j=Y.T,fe={};Y.T=fe;try{var Te=g(M,E),Ve=Y.S;Ve!==null&&Ve(fe,Te),vI(u,f,Te)}catch(at){b1(u,f,at)}finally{Y.T=j}}else try{j=g(M,E),vI(u,f,j)}catch(at){b1(u,f,at)}}function vI(u,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(E){_I(u,f,E)},function(E){return b1(u,f,E)}):_I(u,f,g)}function _I(u,f,g){f.status="fulfilled",f.value=g,wI(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,yI(u,g)))}function b1(u,f,g){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do f.status="rejected",f.reason=g,wI(f),f=f.next;while(f!==E)}u.action=null}function wI(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function bI(u,f){return f}function SI(u,f){if(ve){var g=br.formState;if(g!==null){e:{var E=Rn;if(ve){if(re){t:{for(var M=re,j=st;M.nodeType!==8;){if(!j){M=null;break t}if(M=jo(M.nextSibling),M===null){M=null;break t}}j=M.data,M=j==="F!"||j==="F"?M:null}if(M){re=jo(M.nextSibling),E=M.data==="F!";break e}}St(E)}E=!1}E&&(f=g[0])}}return g=xa(),g.memoizedState=g.baseState=f,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bI,lastRenderedState:f},g.queue=E,g=BI.bind(null,Rn,E),E.dispatch=g,E=w1(!1),j=R1.bind(null,Rn,!1,E.queue),E=xa(),M={state:f,dispatch:null,action:u,pending:null},E.queue=M,g=SW.bind(null,Rn,M,j,g),M.dispatch=g,E.memoizedState=u,[f,g,!1]}function xI(u){var f=ii();return EI(f,dr,u)}function EI(u,f,g){f=v1(u,f,bI)[0],u=pv(Js)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Rp(f):f;var E=ii(),M=E.queue,j=M.dispatch;return g!==E.memoizedState&&(Rn.flags|=2048,cd(9,xW.bind(null,M,g),{destroy:void 0},null)),[f,j,u]}function xW(u,f){u.action=f}function CI(u){var f=ii(),g=dr;if(g!==null)return EI(f,g,u);ii(),f=f.memoizedState,g=ii();var E=g.queue.dispatch;return g.memoizedState=u,[f,E,!1]}function cd(u,f,g,E){return u={tag:u,create:f,inst:g,deps:E,next:null},f=Rn.updateQueue,f===null&&(f=dv(),Rn.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(E=g.next,g.next=u,u.next=E,f.lastEffect=u),u}function TI(){return ii().memoizedState}function gv(u,f,g,E){var M=xa();Rn.flags|=u,M.memoizedState=cd(1|f,g,{destroy:void 0},E===void 0?null:E)}function mv(u,f,g,E){var M=ii();E=E===void 0?null:E;var j=M.memoizedState.inst;dr!==null&&E!==null&&d1(E,dr.memoizedState.deps)?M.memoizedState=cd(f,g,j,E):(Rn.flags|=u,M.memoizedState=cd(1|f,g,j,E))}function RI(u,f){gv(8390656,8,u,f)}function S1(u,f){mv(2048,8,u,f)}function AI(u,f){return mv(4,2,u,f)}function PI(u,f){return mv(4,4,u,f)}function OI(u,f){if(typeof f=="function"){u=u();var g=f(u);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function LI(u,f,g){g=g!=null?g.concat([u]):null,mv(4,4,OI.bind(null,f,u),g)}function x1(){}function II(u,f){var g=ii();f=f===void 0?null:f;var E=g.memoizedState;return f!==null&&d1(f,E[1])?E[0]:(g.memoizedState=[u,f],u)}function MI(u,f){var g=ii();f=f===void 0?null:f;var E=g.memoizedState;if(f!==null&&d1(f,E[1]))return E[0];if(E=u(),Sc){Nt(!0);try{u()}finally{Nt(!1)}}return g.memoizedState=[E,f],E}function E1(u,f,g){return g===void 0||rl&1073741824?u.memoizedState=f:(u.memoizedState=g,u=kM(),Rn.lanes|=u,hl|=u,g)}function DI(u,f,g,E){return na(g,f)?g:ad.current!==null?(u=E1(u,g,E),na(u,f)||(wi=!0),u):rl&42?(u=kM(),Rn.lanes|=u,hl|=u,f):(wi=!0,u.memoizedState=g)}function kI(u,f,g,E,M){var j=ee.p;ee.p=j!==0&&8>j?j:8;var fe=Y.T,Te={};Y.T=Te,R1(u,!1,f,g);try{var Ve=M(),at=Y.S;if(at!==null&&at(Te,Ve),Ve!==null&&typeof Ve=="object"&&typeof Ve.then=="function"){var wt=_W(Ve,E);Ap(u,f,wt,Ba(u))}else Ap(u,f,E,Ba(u))}catch(Rt){Ap(u,f,{then:function(){},status:"rejected",reason:Rt},Ba())}finally{ee.p=j,Y.T=fe}}function EW(){}function C1(u,f,g,E){if(u.tag!==5)throw Error(r(476));var M=NI(u).queue;kI(u,M,f,ge,g===null?EW:function(){return FI(u),g(E)})}function NI(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:ge},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function FI(u){var f=NI(u).next.queue;Ap(u,f,{},Ba())}function T1(){return zi(Wp)}function jI(){return ii().memoizedState}function $I(){return ii().memoizedState}function CW(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=Ba();u=sl(g);var E=ul(f,u,g);E!==null&&(ua(E,f,g),Lp(E,f,g)),f={cache:l1()},u.payload=f;return}f=f.return}}function TW(u,f,g){var E=Ba();g={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},yv(u)?UI(f,g):(g=td(u,f,g,E),g!==null&&(ua(g,u,E),qI(g,f,E)))}function BI(u,f,g){var E=Ba();Ap(u,f,g,E)}function Ap(u,f,g,E){var M={lane:E,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(yv(u))UI(f,M);else{var j=u.alternate;if(u.lanes===0&&(j===null||j.lanes===0)&&(j=f.lastRenderedReducer,j!==null))try{var fe=f.lastRenderedState,Te=j(fe,g);if(M.hasEagerState=!0,M.eagerState=Te,na(Te,fe))return yc(u,f,M,0),br===null&&ba(),!1}catch{}finally{}if(g=td(u,f,M,E),g!==null)return ua(g,u,E),qI(g,f,E),!0}return!1}function R1(u,f,g,E){if(E={lane:2,revertLane:mS(),action:E,hasEagerState:!1,eagerState:null,next:null},yv(u)){if(f)throw Error(r(479))}else f=td(u,g,E,2),f!==null&&ua(f,u,2)}function yv(u){var f=u.alternate;return u===Rn||f!==null&&f===Rn}function UI(u,f){ud=cv=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function qI(u,f,g){if(g&4194176){var E=f.lanes;E&=u.pendingLanes,g|=E,f.lanes=g,Jn(u,g)}}var cs={readContext:zi,use:hv,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useLayoutEffect:Yr,useInsertionEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useSyncExternalStore:Yr,useId:Yr};cs.useCacheRefresh=Yr,cs.useMemoCache=Yr,cs.useHostTransitionStatus=Yr,cs.useFormState=Yr,cs.useActionState=Yr,cs.useOptimistic=Yr;var xc={readContext:zi,use:hv,useCallback:function(u,f){return xa().memoizedState=[u,f===void 0?null:f],u},useContext:zi,useEffect:RI,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,gv(4194308,4,OI.bind(null,f,u),g)},useLayoutEffect:function(u,f){return gv(4194308,4,u,f)},useInsertionEffect:function(u,f){gv(4,2,u,f)},useMemo:function(u,f){var g=xa();f=f===void 0?null:f;var E=u();if(Sc){Nt(!0);try{u()}finally{Nt(!1)}}return g.memoizedState=[E,f],E},useReducer:function(u,f,g){var E=xa();if(g!==void 0){var M=g(f);if(Sc){Nt(!0);try{g(f)}finally{Nt(!1)}}}else M=f;return E.memoizedState=E.baseState=M,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:M},E.queue=u,u=u.dispatch=TW.bind(null,Rn,u),[E.memoizedState,u]},useRef:function(u){var f=xa();return u={current:u},f.memoizedState=u},useState:function(u){u=w1(u);var f=u.queue,g=BI.bind(null,Rn,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:x1,useDeferredValue:function(u,f){var g=xa();return E1(g,u,f)},useTransition:function(){var u=w1(!1);return u=kI.bind(null,Rn,u.queue,!0,!1),xa().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var E=Rn,M=xa();if(ve){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),br===null)throw Error(r(349));Un&60||fI(E,f,g)}M.memoizedState=g;var j={value:g,getSnapshot:f};return M.queue=j,RI(hI.bind(null,E,j,u),[u]),E.flags|=2048,cd(9,dI.bind(null,E,j,g,f),{destroy:void 0},null),g},useId:function(){var u=xa(),f=br.identifierPrefix;if(ve){var g=fo,E=co;g=(E&~(1<<32-Ot(E)-1)).toString(32)+g,f=":"+f+"R"+g,g=fv++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=wW++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return xa().memoizedState=CW.bind(null,Rn)}};xc.useMemoCache=y1,xc.useHostTransitionStatus=T1,xc.useFormState=SI,xc.useActionState=SI,xc.useOptimistic=function(u){var f=xa();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=R1.bind(null,Rn,!0,g),g.dispatch=f,[u,f]};var il={readContext:zi,use:hv,useCallback:II,useContext:zi,useEffect:S1,useImperativeHandle:LI,useInsertionEffect:AI,useLayoutEffect:PI,useMemo:MI,useReducer:pv,useRef:TI,useState:function(){return pv(Js)},useDebugValue:x1,useDeferredValue:function(u,f){var g=ii();return DI(g,dr.memoizedState,u,f)},useTransition:function(){var u=pv(Js)[0],f=ii().memoizedState;return[typeof u=="boolean"?u:Rp(u),f]},useSyncExternalStore:cI,useId:jI};il.useCacheRefresh=$I,il.useMemoCache=y1,il.useHostTransitionStatus=T1,il.useFormState=xI,il.useActionState=xI,il.useOptimistic=function(u,f){var g=ii();return mI(g,dr,u,f)};var Ec={readContext:zi,use:hv,useCallback:II,useContext:zi,useEffect:S1,useImperativeHandle:LI,useInsertionEffect:AI,useLayoutEffect:PI,useMemo:MI,useReducer:_1,useRef:TI,useState:function(){return _1(Js)},useDebugValue:x1,useDeferredValue:function(u,f){var g=ii();return dr===null?E1(g,u,f):DI(g,dr.memoizedState,u,f)},useTransition:function(){var u=_1(Js)[0],f=ii().memoizedState;return[typeof u=="boolean"?u:Rp(u),f]},useSyncExternalStore:cI,useId:jI};Ec.useCacheRefresh=$I,Ec.useMemoCache=y1,Ec.useHostTransitionStatus=T1,Ec.useFormState=CI,Ec.useActionState=CI,Ec.useOptimistic=function(u,f){var g=ii();return dr!==null?mI(g,dr,u,f):(g.baseState=u,[u,g.queue.dispatch])};function A1(u,f,g,E){f=u.memoizedState,g=g(E,f),g=g==null?f:U({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var P1={isMounted:function(u){return(u=u._reactInternals)?ue(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var E=Ba(),M=sl(E);M.payload=f,g!=null&&(M.callback=g),f=ul(u,M,E),f!==null&&(ua(f,u,E),Lp(f,u,E))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var E=Ba(),M=sl(E);M.tag=1,M.payload=f,g!=null&&(M.callback=g),f=ul(u,M,E),f!==null&&(ua(f,u,E),Lp(f,u,E))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=Ba(),E=sl(g);E.tag=2,f!=null&&(E.callback=f),f=ul(u,E,g),f!==null&&(ua(f,u,g),Lp(f,u,g))}};function zI(u,f,g,E,M,j,fe){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,j,fe):f.prototype&&f.prototype.isPureReactComponent?!ra(g,E)||!ra(M,j):!0}function HI(u,f,g,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,E),f.state!==u&&P1.enqueueReplaceState(f,f.state,null)}function Cc(u,f){var g=f;if("ref"in f){g={};for(var E in f)E!=="ref"&&(g[E]=f[E])}if(u=u.defaultProps){g===f&&(g=U({},g));for(var M in u)g[M]===void 0&&(g[M]=u[M])}return g}var vv=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)};function VI(u){vv(u)}function KI(u){console.error(u)}function GI(u){vv(u)}function _v(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(E){setTimeout(function(){throw E})}}function WI(u,f,g){try{var E=u.onCaughtError;E(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function O1(u,f,g){return g=sl(g),g.tag=3,g.payload={element:null},g.callback=function(){_v(u,f)},g}function QI(u){return u=sl(u),u.tag=3,u}function ZI(u,f,g,E){var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var j=E.value;u.payload=function(){return M(j)},u.callback=function(){WI(f,g,E)}}var fe=g.stateNode;fe!==null&&typeof fe.componentDidCatch=="function"&&(u.callback=function(){WI(f,g,E),typeof M!="function"&&(pl===null?pl=new Set([this]):pl.add(this));var Te=E.stack;this.componentDidCatch(E.value,{componentStack:Te!==null?Te:""})})}function RW(u,f,g,E,M){if(g.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(f=g.alternate,f!==null&&Op(f,g,M,!0),g=ho.current,g!==null){switch(g.tag){case 13:return ls===null?fS():g.alternate===null&&qr===0&&(qr=3),g.flags&=-257,g.flags|=65536,g.lanes=M,E===ss?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([E]):f.add(E),hS(u,E,M)),!1;case 22:return g.flags|=65536,E===ss?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([E])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([E]):g.add(E)),hS(u,E,M)),!1}throw Error(r(435,g.tag))}return hS(u,E,M),fS(),!1}if(ve)return f=ho.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=M,E!==yt&&(u=Error(r(422),{cause:E}),Lr(aa(u,g)))):(E!==yt&&(f=Error(r(423),{cause:E}),Lr(aa(f,g))),u=u.current.alternate,u.flags|=65536,M&=-M,u.lanes|=M,E=aa(E,g),M=O1(u.stateNode,E,M),V1(u,M),qr!==4&&(qr=2)),!1;var j=Error(r(520),{cause:E});if(j=aa(j,g),$p===null?$p=[j]:$p.push(j),qr!==4&&(qr=2),f===null)return!0;E=aa(E,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=M&-M,g.lanes|=u,u=O1(g.stateNode,E,u),V1(g,u),!1;case 1:if(f=g.type,j=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(pl===null||!pl.has(j))))return g.flags|=65536,M&=-M,g.lanes|=M,M=QI(M),ZI(M,u,g,E),V1(g,M),!1}g=g.return}while(g!==null);return!1}var JI=Error(r(461)),wi=!1;function Ti(u,f,g,E){f.child=u===null?ov(f,null,g,E):us(f,u.child,g,E)}function XI(u,f,g,E,M){g=g.render;var j=f.ref;if("ref"in E){var fe={};for(var Te in E)Te!=="ref"&&(fe[Te]=E[Te])}else fe=E;return Rc(f),E=h1(u,f,g,fe,j,M),Te=p1(),u!==null&&!wi?(g1(u,f,M),Xs(u,f,M)):(ve&&Te&&w(f),f.flags|=1,Ti(u,f,E,M),f.child)}function YI(u,f,g,E,M){if(u===null){var j=g.type;return typeof j=="function"&&!Y1(j)&&j.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=j,eM(u,f,j,E,M)):(u=Ev(g.type,null,E,f,f.mode,M),u.ref=f.ref,u.return=f,f.child=u)}if(j=u.child,!$1(u,M)){var fe=j.memoizedProps;if(g=g.compare,g=g!==null?g:ra,g(fe,E)&&u.ref===f.ref)return Xs(u,f,M)}return f.flags|=1,u=dl(j,E),u.ref=f.ref,u.return=f,f.child=u}function eM(u,f,g,E,M){if(u!==null){var j=u.memoizedProps;if(ra(j,E)&&u.ref===f.ref)if(wi=!1,f.pendingProps=E=j,$1(u,M))u.flags&131072&&(wi=!0);else return f.lanes=u.lanes,Xs(u,f,M)}return L1(u,f,g,E,M)}function tM(u,f,g){var E=f.pendingProps,M=E.children,j=(f.stateNode._pendingVisibility&2)!==0,fe=u!==null?u.memoizedState:null;if(Pp(u,f),E.mode==="hidden"||j){if(f.flags&128){if(E=fe!==null?fe.baseLanes|g:g,u!==null){for(M=f.child=u.child,j=0;M!==null;)j=j|M.lanes|M.childLanes,M=M.sibling;f.childLanes=j&~E}else f.childLanes=0,f.child=null;return nM(u,f,E,g)}if(g&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&lv(f,fe!==null?fe.cachePool:null),fe!==null?rI(f,fe):s1(),iI(f);else return f.lanes=f.childLanes=536870912,nM(u,f,fe!==null?fe.baseLanes|g:g,g)}else fe!==null?(lv(f,fe.cachePool),rI(f,fe),nl(),f.memoizedState=null):(u!==null&&lv(f,null),s1(),nl());return Ti(u,f,M,g),f.child}function nM(u,f,g,E){var M=f1();return M=M===null?null:{parent:hi._currentValue,pool:M},f.memoizedState={baseLanes:g,cachePool:M},u!==null&&lv(f,null),s1(),iI(f),u!==null&&Op(u,f,E,!0),null}function Pp(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(u===null||u.ref!==g)&&(f.flags|=2097664)}}function L1(u,f,g,E,M){return Rc(f),g=h1(u,f,g,E,void 0,M),E=p1(),u!==null&&!wi?(g1(u,f,M),Xs(u,f,M)):(ve&&E&&w(f),f.flags|=1,Ti(u,f,g,M),f.child)}function rM(u,f,g,E,M,j){return Rc(f),f.updateQueue=null,g=lI(f,E,g,M),uI(u),E=p1(),u!==null&&!wi?(g1(u,f,j),Xs(u,f,j)):(ve&&E&&w(f),f.flags|=1,Ti(u,f,g,j),f.child)}function iM(u,f,g,E,M){if(Rc(f),f.stateNode===null){var j=lo,fe=g.contextType;typeof fe=="object"&&fe!==null&&(j=zi(fe)),j=new g(E,j),f.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,j.updater=P1,f.stateNode=j,j._reactInternals=f,j=f.stateNode,j.props=E,j.state=f.memoizedState,j.refs={},z1(f),fe=g.contextType,j.context=typeof fe=="object"&&fe!==null?zi(fe):lo,j.state=f.memoizedState,fe=g.getDerivedStateFromProps,typeof fe=="function"&&(A1(f,g,fe,E),j.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(fe=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),fe!==j.state&&P1.enqueueReplaceState(j,j.state,null),Mp(f,E,j,M),Ip(),j.state=f.memoizedState),typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!0}else if(u===null){j=f.stateNode;var Te=f.memoizedProps,Ve=Cc(g,Te);j.props=Ve;var at=j.context,wt=g.contextType;fe=lo,typeof wt=="object"&&wt!==null&&(fe=zi(wt));var Rt=g.getDerivedStateFromProps;wt=typeof Rt=="function"||typeof j.getSnapshotBeforeUpdate=="function",Te=f.pendingProps!==Te,wt||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(Te||at!==fe)&&HI(f,j,E,fe),ol=!1;var pt=f.memoizedState;j.state=pt,Mp(f,E,j,M),Ip(),at=f.memoizedState,Te||pt!==at||ol?(typeof Rt=="function"&&(A1(f,g,Rt,E),at=f.memoizedState),(Ve=ol||zI(f,g,Ve,E,pt,at,fe))?(wt||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=at),j.props=E,j.state=at,j.context=fe,E=Ve):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{j=f.stateNode,H1(u,f),fe=f.memoizedProps,wt=Cc(g,fe),j.props=wt,Rt=f.pendingProps,pt=j.context,at=g.contextType,Ve=lo,typeof at=="object"&&at!==null&&(Ve=zi(at)),Te=g.getDerivedStateFromProps,(at=typeof Te=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(fe!==Rt||pt!==Ve)&&HI(f,j,E,Ve),ol=!1,pt=f.memoizedState,j.state=pt,Mp(f,E,j,M),Ip();var vt=f.memoizedState;fe!==Rt||pt!==vt||ol||u!==null&&u.dependencies!==null&&wv(u.dependencies)?(typeof Te=="function"&&(A1(f,g,Te,E),vt=f.memoizedState),(wt=ol||zI(f,g,wt,E,pt,vt,Ve)||u!==null&&u.dependencies!==null&&wv(u.dependencies))?(at||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(E,vt,Ve),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(E,vt,Ve)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=vt),j.props=E,j.state=vt,j.context=Ve,E=wt):(typeof j.componentDidUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||fe===u.memoizedProps&&pt===u.memoizedState||(f.flags|=1024),E=!1)}return j=E,Pp(u,f),E=(f.flags&128)!==0,j||E?(j=f.stateNode,g=E&&typeof g.getDerivedStateFromError!="function"?null:j.render(),f.flags|=1,u!==null&&E?(f.child=us(f,u.child,null,M),f.child=us(f,null,g,M)):Ti(u,f,g,M),f.memoizedState=j.state,u=f.child):u=Xs(u,f,M),u}function aM(u,f,g,E){return Xr(),f.flags|=256,Ti(u,f,g,E),f.child}var I1={dehydrated:null,treeContext:null,retryLane:0};function M1(u){return{baseLanes:u,cachePool:sI()}}function D1(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=yo),u}function oM(u,f,g){var E=f.pendingProps,M=!1,j=(f.flags&128)!==0,fe;if((fe=j)||(fe=u!==null&&u.memoizedState===null?!1:(di.current&2)!==0),fe&&(M=!0,f.flags&=-129),fe=(f.flags&32)!==0,f.flags&=-33,u===null){if(ve){if(M?tl(f):nl(),ve){var Te=re,Ve;if(Ve=Te){e:{for(Ve=Te,Te=st;Ve.nodeType!==8;){if(!Te){Te=null;break e}if(Ve=jo(Ve.nextSibling),Ve===null){Te=null;break e}}Te=Ve}Te!==null?(f.memoizedState={dehydrated:Te,treeContext:Ks!==null?{id:co,overflow:fo}:null,retryLane:536870912},Ve=mo(18,null,null,0),Ve.stateNode=Te,Ve.return=f,f.child=Ve,q=f,re=null,Ve=!0):Ve=!1}Ve||St(f)}if(Te=f.memoizedState,Te!==null&&(Te=Te.dehydrated,Te!==null))return Te.data==="$!"?f.lanes=16:f.lanes=536870912,null;Zs(f)}return Te=E.children,E=E.fallback,M?(nl(),M=f.mode,Te=N1({mode:"hidden",children:Te},M),E=Pc(E,M,g,null),Te.return=f,E.return=f,Te.sibling=E,f.child=Te,M=f.child,M.memoizedState=M1(g),M.childLanes=D1(u,fe,g),f.memoizedState=I1,E):(tl(f),k1(f,Te))}if(Ve=u.memoizedState,Ve!==null&&(Te=Ve.dehydrated,Te!==null)){if(j)f.flags&256?(tl(f),f.flags&=-257,f=F1(u,f,g)):f.memoizedState!==null?(nl(),f.child=u.child,f.flags|=128,f=null):(nl(),M=E.fallback,Te=f.mode,E=N1({mode:"visible",children:E.children},Te),M=Pc(M,Te,g,null),M.flags|=2,E.return=f,M.return=f,E.sibling=M,f.child=E,us(f,u.child,null,g),E=f.child,E.memoizedState=M1(g),E.childLanes=D1(u,fe,g),f.memoizedState=I1,f=M);else if(tl(f),Te.data==="$!"){if(fe=Te.nextSibling&&Te.nextSibling.dataset,fe)var at=fe.dgst;fe=at,E=Error(r(419)),E.stack="",E.digest=fe,Lr({value:E,source:null,stack:null}),f=F1(u,f,g)}else if(wi||Op(u,f,g,!1),fe=(g&u.childLanes)!==0,wi||fe){if(fe=br,fe!==null){if(E=g&-g,E&42)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=E&(fe.suspendedLanes|g)?0:E,E!==0&&E!==Ve.retryLane)throw Ve.retryLane=E,Sa(u,E),ua(fe,u,E),JI}Te.data==="$?"||fS(),f=F1(u,f,g)}else Te.data==="$?"?(f.flags|=128,f.child=u.child,f=qW.bind(null,u),Te._reactRetry=f,f=null):(u=Ve.treeContext,re=jo(Te.nextSibling),q=f,ve=!0,Ge=null,st=!1,u!==null&&(oa[sa++]=co,oa[sa++]=fo,oa[sa++]=Ks,co=u.id,fo=u.overflow,Ks=f),f=k1(f,E.children),f.flags|=4096);return f}return M?(nl(),M=E.fallback,Te=f.mode,Ve=u.child,at=Ve.sibling,E=dl(Ve,{mode:"hidden",children:E.children}),E.subtreeFlags=Ve.subtreeFlags&31457280,at!==null?M=dl(at,M):(M=Pc(M,Te,g,null),M.flags|=2),M.return=f,E.return=f,E.sibling=M,f.child=E,E=M,M=f.child,Te=u.child.memoizedState,Te===null?Te=M1(g):(Ve=Te.cachePool,Ve!==null?(at=hi._currentValue,Ve=Ve.parent!==at?{parent:at,pool:at}:Ve):Ve=sI(),Te={baseLanes:Te.baseLanes|g,cachePool:Ve}),M.memoizedState=Te,M.childLanes=D1(u,fe,g),f.memoizedState=I1,E):(tl(f),g=u.child,u=g.sibling,g=dl(g,{mode:"visible",children:E.children}),g.return=f,g.sibling=null,u!==null&&(fe=f.deletions,fe===null?(f.deletions=[u],f.flags|=16):fe.push(u)),f.child=g,f.memoizedState=null,g)}function k1(u,f){return f=N1({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function N1(u,f){return IM(u,f,0,null)}function F1(u,f,g){return us(f,u.child,null,g),u=k1(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function sM(u,f,g){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),U1(u.return,f,g)}function j1(u,f,g,E,M){var j=u.memoizedState;j===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:M}:(j.isBackwards=f,j.rendering=null,j.renderingStartTime=0,j.last=E,j.tail=g,j.tailMode=M)}function uM(u,f,g){var E=f.pendingProps,M=E.revealOrder,j=E.tail;if(Ti(u,f,E.children,g),E=di.current,E&2)E=E&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&sM(u,g,f);else if(u.tag===19)sM(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(Xe(di,E),M){case"forwards":for(g=f.child,M=null;g!==null;)u=g.alternate,u!==null&&uv(u)===null&&(M=g),g=g.sibling;g=M,g===null?(M=f.child,f.child=null):(M=g.sibling,g.sibling=null),j1(f,!1,M,g,j);break;case"backwards":for(g=null,M=f.child,f.child=null;M!==null;){if(u=M.alternate,u!==null&&uv(u)===null){f.child=M;break}u=M.sibling,M.sibling=g,g=M,M=u}j1(f,!0,g,null,j);break;case"together":j1(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function Xs(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),hl|=f.lanes,!(g&f.childLanes))if(u!==null){if(Op(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=dl(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=dl(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function $1(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&wv(u)))}function AW(u,f,g){switch(f.tag){case 3:Z(f,f.stateNode.containerInfo),al(f,hi,u.memoizedState.cache),Xr();break;case 27:case 5:ye(f);break;case 4:Z(f,f.stateNode.containerInfo);break;case 10:al(f,f.type,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(tl(f),f.flags|=128,null):g&f.child.childLanes?oM(u,f,g):(tl(f),u=Xs(u,f,g),u!==null?u.sibling:null);tl(f);break;case 19:var M=(u.flags&128)!==0;if(E=(g&f.childLanes)!==0,E||(Op(u,f,g,!1),E=(g&f.childLanes)!==0),M){if(E)return uM(u,f,g);f.flags|=128}if(M=f.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Xe(di,di.current),E)break;return null;case 22:case 23:return f.lanes=0,tM(u,f,g);case 24:al(f,hi,u.memoizedState.cache)}return Xs(u,f,g)}function lM(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)wi=!0;else{if(!$1(u,g)&&!(f.flags&128))return wi=!1,AW(u,f,g);wi=!!(u.flags&131072)}else wi=!1,ve&&f.flags&1048576&&p(f,_c,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var E=f.elementType,M=E._init;if(E=M(E._payload),f.type=E,typeof E=="function")Y1(E)?(u=Cc(E,u),f.tag=1,f=iM(null,f,E,u,g)):(f.tag=0,f=L1(null,f,E,u,g));else{if(E!=null){if(M=E.$$typeof,M===v){f.tag=11,f=XI(null,f,E,u,g);break e}else if(M===b){f.tag=14,f=YI(null,f,E,u,g);break e}}throw f=Q(E)||E,Error(r(306,f,""))}}return f;case 0:return L1(u,f,f.type,f.pendingProps,g);case 1:return E=f.type,M=Cc(E,f.pendingProps),iM(u,f,E,M,g);case 3:e:{if(Z(f,f.stateNode.containerInfo),u===null)throw Error(r(387));var j=f.pendingProps;M=f.memoizedState,E=M.element,H1(u,f),Mp(f,j,null,g);var fe=f.memoizedState;if(j=fe.cache,al(f,hi,j),j!==M.cache&&q1(f,[hi],g,!0),Ip(),j=fe.element,M.isDehydrated)if(M={element:j,isDehydrated:!1,cache:fe.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=aM(u,f,j,g);break e}else if(j!==E){E=aa(Error(r(424)),f),Lr(E),f=aM(u,f,j,g);break e}else for(re=jo(f.stateNode.containerInfo.firstChild),q=f,ve=!0,Ge=null,st=!0,g=ov(f,null,j,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Xr(),j===E){f=Xs(u,f,g);break e}Ti(u,f,j,g)}f=f.child}return f;case 26:return Pp(u,f),u===null?(g=dD(f.type,null,f.pendingProps,null))?f.memoizedState=g:ve||(g=f.type,u=f.pendingProps,E=Nv($.current).createElement(g),E[it]=f,E[Ct]=u,Ri(E,g,u),qn(E),f.stateNode=E):f.memoizedState=dD(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return ye(f),u===null&&ve&&(E=f.stateNode=lD(f.type,f.pendingProps,$.current),q=f,st=!0,re=jo(E.firstChild)),E=f.pendingProps.children,u!==null||ve?Ti(u,f,E,g):f.child=us(f,null,E,g),Pp(u,f),f.child;case 5:return u===null&&ve&&((M=E=re)&&(E=iQ(E,f.type,f.pendingProps,st),E!==null?(f.stateNode=E,q=f,re=jo(E.firstChild),st=!1,M=!0):M=!1),M||St(f)),ye(f),M=f.type,j=f.pendingProps,fe=u!==null?u.memoizedProps:null,E=j.children,CS(M,j)?E=null:fe!==null&&CS(M,fe)&&(f.flags|=32),f.memoizedState!==null&&(M=h1(u,f,bW,null,null,g),Wp._currentValue=M),Pp(u,f),Ti(u,f,E,g),f.child;case 6:return u===null&&ve&&((u=g=re)&&(g=aQ(g,f.pendingProps,st),g!==null?(f.stateNode=g,q=f,re=null,u=!0):u=!1),u||St(f)),null;case 13:return oM(u,f,g);case 4:return Z(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=us(f,null,E,g):Ti(u,f,E,g),f.child;case 11:return XI(u,f,f.type,f.pendingProps,g);case 7:return Ti(u,f,f.pendingProps,g),f.child;case 8:return Ti(u,f,f.pendingProps.children,g),f.child;case 12:return Ti(u,f,f.pendingProps.children,g),f.child;case 10:return E=f.pendingProps,al(f,f.type,E.value),Ti(u,f,E.children,g),f.child;case 9:return M=f.type._context,E=f.pendingProps.children,Rc(f),M=zi(M),E=E(M),f.flags|=1,Ti(u,f,E,g),f.child;case 14:return YI(u,f,f.type,f.pendingProps,g);case 15:return eM(u,f,f.type,f.pendingProps,g);case 19:return uM(u,f,g);case 22:return tM(u,f,g);case 24:return Rc(f),E=zi(hi),u===null?(M=f1(),M===null&&(M=br,j=l1(),M.pooledCache=j,j.refCount++,j!==null&&(M.pooledCacheLanes|=g),M=j),f.memoizedState={parent:E,cache:M},z1(f),al(f,hi,M)):(u.lanes&g&&(H1(u,f),Mp(f,null,null,g),Ip()),M=u.memoizedState,j=f.memoizedState,M.parent!==E?(M={parent:E,cache:E},f.memoizedState=M,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=M),al(f,hi,E)):(E=j.cache,al(f,hi,E),E!==M.cache&&q1(f,[hi],g,!0))),Ti(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}var B1=Pe(null),Tc=null,Ys=null;function al(u,f,g){Xe(B1,f._currentValue),f._currentValue=g}function eu(u){u._currentValue=B1.current,Ne(B1)}function U1(u,f,g){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===g)break;u=u.return}}function q1(u,f,g,E){var M=u.child;for(M!==null&&(M.return=u);M!==null;){var j=M.dependencies;if(j!==null){var fe=M.child;j=j.firstContext;e:for(;j!==null;){var Te=j;j=M;for(var Ve=0;Ve<f.length;Ve++)if(Te.context===f[Ve]){j.lanes|=g,Te=j.alternate,Te!==null&&(Te.lanes|=g),U1(j.return,g,u),E||(fe=null);break e}j=Te.next}}else if(M.tag===18){if(fe=M.return,fe===null)throw Error(r(341));fe.lanes|=g,j=fe.alternate,j!==null&&(j.lanes|=g),U1(fe,g,u),fe=null}else fe=M.child;if(fe!==null)fe.return=M;else for(fe=M;fe!==null;){if(fe===u){fe=null;break}if(M=fe.sibling,M!==null){M.return=fe.return,fe=M;break}fe=fe.return}M=fe}}function Op(u,f,g,E){u=null;for(var M=f,j=!1;M!==null;){if(!j){if(M.flags&524288)j=!0;else if(M.flags&262144)break}if(M.tag===10){var fe=M.alternate;if(fe===null)throw Error(r(387));if(fe=fe.memoizedProps,fe!==null){var Te=M.type;na(M.pendingProps.value,fe.value)||(u!==null?u.push(Te):u=[Te])}}else if(M===ae.current){if(fe=M.alternate,fe===null)throw Error(r(387));fe.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(u!==null?u.push(Wp):u=[Wp])}M=M.return}u!==null&&q1(f,u,g,E),f.flags|=262144}function wv(u){for(u=u.firstContext;u!==null;){if(!na(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Rc(u){Tc=u,Ys=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function zi(u){return cM(Tc,u)}function bv(u,f){return Tc===null&&Rc(u),cM(u,f)}function cM(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},Ys===null){if(u===null)throw Error(r(308));Ys=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Ys=Ys.next=f;return g}var ol=!1;function z1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H1(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function sl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function ul(u,f,g){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,kr&2){var M=E.pending;return M===null?f.next=f:(f.next=M.next,M.next=f),E.pending=f,f=Hs(u),tv(u,null,g),f}return yc(u,E,f,g),Hs(u)}function Lp(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194176)!==0)){var E=f.lanes;E&=u.pendingLanes,g|=E,f.lanes=g,Jn(u,g)}}function V1(u,f){var g=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,g===E)){var M=null,j=null;if(g=g.firstBaseUpdate,g!==null){do{var fe={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};j===null?M=j=fe:j=j.next=fe,g=g.next}while(g!==null);j===null?M=j=f:j=j.next=f}else M=j=f;g={baseState:E.baseState,firstBaseUpdate:M,lastBaseUpdate:j,shared:E.shared,callbacks:E.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var K1=!1;function Ip(){if(K1){var u=sd;if(u!==null)throw u}}function Mp(u,f,g,E){K1=!1;var M=u.updateQueue;ol=!1;var j=M.firstBaseUpdate,fe=M.lastBaseUpdate,Te=M.shared.pending;if(Te!==null){M.shared.pending=null;var Ve=Te,at=Ve.next;Ve.next=null,fe===null?j=at:fe.next=at,fe=Ve;var wt=u.alternate;wt!==null&&(wt=wt.updateQueue,Te=wt.lastBaseUpdate,Te!==fe&&(Te===null?wt.firstBaseUpdate=at:Te.next=at,wt.lastBaseUpdate=Ve))}if(j!==null){var Rt=M.baseState;fe=0,wt=at=Ve=null,Te=j;do{var pt=Te.lane&-536870913,vt=pt!==Te.lane;if(vt?(Un&pt)===pt:(E&pt)===pt){pt!==0&&pt===od&&(K1=!0),wt!==null&&(wt=wt.next={lane:0,tag:Te.tag,payload:Te.payload,callback:null,next:null});e:{var Jt=u,yn=Te;pt=f;var zr=g;switch(yn.tag){case 1:if(Jt=yn.payload,typeof Jt=="function"){Rt=Jt.call(zr,Rt,pt);break e}Rt=Jt;break e;case 3:Jt.flags=Jt.flags&-65537|128;case 0:if(Jt=yn.payload,pt=typeof Jt=="function"?Jt.call(zr,Rt,pt):Jt,pt==null)break e;Rt=U({},Rt,pt);break e;case 2:ol=!0}}pt=Te.callback,pt!==null&&(u.flags|=64,vt&&(u.flags|=8192),vt=M.callbacks,vt===null?M.callbacks=[pt]:vt.push(pt))}else vt={lane:pt,tag:Te.tag,payload:Te.payload,callback:Te.callback,next:null},wt===null?(at=wt=vt,Ve=Rt):wt=wt.next=vt,fe|=pt;if(Te=Te.next,Te===null){if(Te=M.shared.pending,Te===null)break;vt=Te,Te=vt.next,vt.next=null,M.lastBaseUpdate=vt,M.shared.pending=null}}while(!0);wt===null&&(Ve=Rt),M.baseState=Ve,M.firstBaseUpdate=at,M.lastBaseUpdate=wt,j===null&&(M.shared.lanes=0),hl|=fe,u.lanes=fe,u.memoizedState=Rt}}function fM(u,f){if(typeof u!="function")throw Error(r(191,u));u.call(f)}function dM(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)fM(g[u],f)}function Dp(u,f){try{var g=f.updateQueue,E=g!==null?g.lastEffect:null;if(E!==null){var M=E.next;g=M;do{if((g.tag&u)===u){E=void 0;var j=g.create,fe=g.inst;E=j(),fe.destroy=E}g=g.next}while(g!==M)}}catch(Te){vr(f,f.return,Te)}}function ll(u,f,g){try{var E=f.updateQueue,M=E!==null?E.lastEffect:null;if(M!==null){var j=M.next;E=j;do{if((E.tag&u)===u){var fe=E.inst,Te=fe.destroy;if(Te!==void 0){fe.destroy=void 0,M=f;var Ve=g;try{Te()}catch(at){vr(M,Ve,at)}}}E=E.next}while(E!==j)}}catch(at){vr(f,f.return,at)}}function hM(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{dM(f,g)}catch(E){vr(u,u.return,E)}}}function pM(u,f,g){g.props=Cc(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(E){vr(u,f,E)}}function Ac(u,f){try{var g=u.ref;if(g!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var M=E;break;default:M=E}typeof g=="function"?u.refCleanup=g(M):g.current=M}}catch(j){vr(u,f,j)}}function Fa(u,f){var g=u.ref,E=u.refCleanup;if(g!==null)if(typeof E=="function")try{E()}catch(M){vr(u,f,M)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(M){vr(u,f,M)}else g.current=null}function gM(u){var f=u.type,g=u.memoizedProps,E=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&E.focus();break e;case"img":g.src?E.src=g.src:g.srcSet&&(E.srcset=g.srcSet)}}catch(M){vr(u,u.return,M)}}function mM(u,f,g){try{var E=u.stateNode;YW(E,u.type,g,f),E[Ct]=f}catch(M){vr(u,u.return,M)}}function yM(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27||u.tag===4}function G1(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||yM(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==27&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function W1(u,f,g){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=kv));else if(E!==4&&E!==27&&(u=u.child,u!==null))for(W1(u,f,g),u=u.sibling;u!==null;)W1(u,f,g),u=u.sibling}function Sv(u,f,g){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(E!==4&&E!==27&&(u=u.child,u!==null))for(Sv(u,f,g),u=u.sibling;u!==null;)Sv(u,f,g),u=u.sibling}var tu=!1,Ur=!1,Q1=!1,vM=typeof WeakSet=="function"?WeakSet:Set,bi=null,_M=!1;function PW(u,f){if(u=u.containerInfo,xS=qv,u=dc(u),hc(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var E=g.getSelection&&g.getSelection();if(E&&E.rangeCount!==0){g=E.anchorNode;var M=E.anchorOffset,j=E.focusNode;E=E.focusOffset;try{g.nodeType,j.nodeType}catch{g=null;break e}var fe=0,Te=-1,Ve=-1,at=0,wt=0,Rt=u,pt=null;t:for(;;){for(var vt;Rt!==g||M!==0&&Rt.nodeType!==3||(Te=fe+M),Rt!==j||E!==0&&Rt.nodeType!==3||(Ve=fe+E),Rt.nodeType===3&&(fe+=Rt.nodeValue.length),(vt=Rt.firstChild)!==null;)pt=Rt,Rt=vt;for(;;){if(Rt===u)break t;if(pt===g&&++at===M&&(Te=fe),pt===j&&++wt===E&&(Ve=fe),(vt=Rt.nextSibling)!==null)break;Rt=pt,pt=Rt.parentNode}Rt=vt}g=Te===-1||Ve===-1?null:{start:Te,end:Ve}}else g=null}g=g||{start:0,end:0}}else g=null;for(ES={focusedElem:u,selectionRange:g},qv=!1,bi=f;bi!==null;)if(f=bi,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,bi=u;else for(;bi!==null;){switch(f=bi,j=f.alternate,u=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(u&1024&&j!==null){u=void 0,g=f,M=j.memoizedProps,j=j.memoizedState,E=g.stateNode;try{var Jt=Cc(g.type,M,g.elementType===g.type);u=E.getSnapshotBeforeUpdate(Jt,j),E.__reactInternalSnapshotBeforeUpdate=u}catch(yn){vr(g,g.return,yn)}}break;case 3:if(u&1024){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)AS(u);else if(g===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":AS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(u&1024)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,bi=u;break}bi=f.return}return Jt=_M,_M=!1,Jt}function wM(u,f,g){var E=g.flags;switch(g.tag){case 0:case 11:case 15:ru(u,g),E&4&&Dp(5,g);break;case 1:if(ru(u,g),E&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(Te){vr(g,g.return,Te)}else{var M=Cc(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(M,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Te){vr(g,g.return,Te)}}E&64&&hM(g),E&512&&Ac(g,g.return);break;case 3:if(ru(u,g),E&64&&(E=g.updateQueue,E!==null)){if(u=null,g.child!==null)switch(g.child.tag){case 27:case 5:u=g.child.stateNode;break;case 1:u=g.child.stateNode}try{dM(E,u)}catch(Te){vr(g,g.return,Te)}}break;case 26:ru(u,g),E&512&&Ac(g,g.return);break;case 27:case 5:ru(u,g),f===null&&E&4&&gM(g),E&512&&Ac(g,g.return);break;case 12:ru(u,g);break;case 13:ru(u,g),E&4&&xM(u,g);break;case 22:if(M=g.memoizedState!==null||tu,!M){f=f!==null&&f.memoizedState!==null||Ur;var j=tu,fe=Ur;tu=M,(Ur=f)&&!fe?cl(u,g,(g.subtreeFlags&8772)!==0):ru(u,g),tu=j,Ur=fe}E&512&&(g.memoizedProps.mode==="manual"?Ac(g,g.return):Fa(g,g.return));break;default:ru(u,g)}}function bM(u){var f=u.alternate;f!==null&&(u.alternate=null,bM(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&On(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ai=null,ja=!1;function nu(u,f,g){for(g=g.child;g!==null;)SM(u,f,g),g=g.sibling}function SM(u,f,g){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ke,g)}catch{}switch(g.tag){case 26:Ur||Fa(g,f),nu(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:Ur||Fa(g,f);var E=ai,M=ja;for(ai=g.stateNode,nu(u,f,g),g=g.stateNode,f=g.attributes;f.length;)g.removeAttributeNode(f[0]);On(g),ai=E,ja=M;break;case 5:Ur||Fa(g,f);case 6:M=ai;var j=ja;if(ai=null,nu(u,f,g),ai=M,ja=j,ai!==null)if(ja)try{u=ai,E=g.stateNode,u.nodeType===8?u.parentNode.removeChild(E):u.removeChild(E)}catch(fe){vr(g,f,fe)}else try{ai.removeChild(g.stateNode)}catch(fe){vr(g,f,fe)}break;case 18:ai!==null&&(ja?(f=ai,g=g.stateNode,f.nodeType===8?RS(f.parentNode,g):f.nodeType===1&&RS(f,g),Xp(f)):RS(ai,g.stateNode));break;case 4:E=ai,M=ja,ai=g.stateNode.containerInfo,ja=!0,nu(u,f,g),ai=E,ja=M;break;case 0:case 11:case 14:case 15:Ur||ll(2,g,f),Ur||ll(4,g,f),nu(u,f,g);break;case 1:Ur||(Fa(g,f),E=g.stateNode,typeof E.componentWillUnmount=="function"&&pM(g,f,E)),nu(u,f,g);break;case 21:nu(u,f,g);break;case 22:Ur||Fa(g,f),Ur=(E=Ur)||g.memoizedState!==null,nu(u,f,g),Ur=E;break;default:nu(u,f,g)}}function xM(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Xp(u)}catch(g){vr(f,f.return,g)}}function OW(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new vM),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new vM),f;default:throw Error(r(435,u.tag))}}function Z1(u,f){var g=OW(u);f.forEach(function(E){var M=zW.bind(null,u,E);g.has(E)||(g.add(E),E.then(M,M))})}function po(u,f){var g=f.deletions;if(g!==null)for(var E=0;E<g.length;E++){var M=g[E],j=u,fe=f,Te=fe;e:for(;Te!==null;){switch(Te.tag){case 27:case 5:ai=Te.stateNode,ja=!1;break e;case 3:ai=Te.stateNode.containerInfo,ja=!0;break e;case 4:ai=Te.stateNode.containerInfo,ja=!0;break e}Te=Te.return}if(ai===null)throw Error(r(160));SM(j,fe,M),ai=null,ja=!1,j=M.alternate,j!==null&&(j.return=null),M.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)EM(f,u),f=f.sibling}var Fo=null;function EM(u,f){var g=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:po(f,u),go(u),E&4&&(ll(3,u,u.return),Dp(3,u),ll(5,u,u.return));break;case 1:po(f,u),go(u),E&512&&(Ur||g===null||Fa(g,g.return)),E&64&&tu&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?E:g.concat(E))));break;case 26:var M=Fo;if(po(f,u),go(u),E&512&&(Ur||g===null||Fa(g,g.return)),E&4){var j=g!==null?g.memoizedState:null;if(E=u.memoizedState,g===null)if(E===null)if(u.stateNode===null){e:{E=u.type,g=u.memoizedProps,M=M.ownerDocument||M;t:switch(E){case"title":j=M.getElementsByTagName("title")[0],(!j||j[tn]||j[it]||j.namespaceURI==="http://www.w3.org/2000/svg"||j.hasAttribute("itemprop"))&&(j=M.createElement(E),M.head.insertBefore(j,M.querySelector("head > title"))),Ri(j,E,g),j[it]=u,qn(j),E=j;break e;case"link":var fe=gD("link","href",M).get(E+(g.href||""));if(fe){for(var Te=0;Te<fe.length;Te++)if(j=fe[Te],j.getAttribute("href")===(g.href==null?null:g.href)&&j.getAttribute("rel")===(g.rel==null?null:g.rel)&&j.getAttribute("title")===(g.title==null?null:g.title)&&j.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){fe.splice(Te,1);break t}}j=M.createElement(E),Ri(j,E,g),M.head.appendChild(j);break;case"meta":if(fe=gD("meta","content",M).get(E+(g.content||""))){for(Te=0;Te<fe.length;Te++)if(j=fe[Te],j.getAttribute("content")===(g.content==null?null:""+g.content)&&j.getAttribute("name")===(g.name==null?null:g.name)&&j.getAttribute("property")===(g.property==null?null:g.property)&&j.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&j.getAttribute("charset")===(g.charSet==null?null:g.charSet)){fe.splice(Te,1);break t}}j=M.createElement(E),Ri(j,E,g),M.head.appendChild(j);break;default:throw Error(r(468,E))}j[it]=u,qn(j),E=j}u.stateNode=E}else mD(M,u.type,u.stateNode);else u.stateNode=pD(M,E,u.memoizedProps);else j!==E?(j===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):j.count--,E===null?mD(M,u.type,u.stateNode):pD(M,E,u.memoizedProps)):E===null&&u.stateNode!==null&&mM(u,u.memoizedProps,g.memoizedProps)}break;case 27:if(E&4&&u.alternate===null){M=u.stateNode,j=u.memoizedProps;try{for(var Ve=M.firstChild;Ve;){var at=Ve.nextSibling,wt=Ve.nodeName;Ve[tn]||wt==="HEAD"||wt==="BODY"||wt==="SCRIPT"||wt==="STYLE"||wt==="LINK"&&Ve.rel.toLowerCase()==="stylesheet"||M.removeChild(Ve),Ve=at}for(var Rt=u.type,pt=M.attributes;pt.length;)M.removeAttributeNode(pt[0]);Ri(M,Rt,j),M[it]=u,M[Ct]=j}catch(Jt){vr(u,u.return,Jt)}}case 5:if(po(f,u),go(u),E&512&&(Ur||g===null||Fa(g,g.return)),u.flags&32){M=u.stateNode;try{Be(M,"")}catch(Jt){vr(u,u.return,Jt)}}E&4&&u.stateNode!=null&&(M=u.memoizedProps,mM(u,M,g!==null?g.memoizedProps:M)),E&1024&&(Q1=!0);break;case 6:if(po(f,u),go(u),E&4){if(u.stateNode===null)throw Error(r(162));E=u.memoizedProps,g=u.stateNode;try{g.nodeValue=E}catch(Jt){vr(u,u.return,Jt)}}break;case 3:if($v=null,M=Fo,Fo=Fv(f.containerInfo),po(f,u),Fo=M,go(u),E&4&&g!==null&&g.memoizedState.isDehydrated)try{Xp(f.containerInfo)}catch(Jt){vr(u,u.return,Jt)}Q1&&(Q1=!1,CM(u));break;case 4:E=Fo,Fo=Fv(u.stateNode.containerInfo),po(f,u),go(u),Fo=E;break;case 12:po(f,u),go(u);break;case 13:po(f,u),go(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(aS=qt()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,Z1(u,E)));break;case 22:if(E&512&&(Ur||g===null||Fa(g,g.return)),Ve=u.memoizedState!==null,at=g!==null&&g.memoizedState!==null,wt=tu,Rt=Ur,tu=wt||Ve,Ur=Rt||at,po(f,u),Ur=Rt,tu=wt,go(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,E&8192&&(f._visibility=Ve?f._visibility&-2:f._visibility|1,Ve&&(f=tu||Ur,g===null||at||f||fd(u)),u.memoizedProps===null||u.memoizedProps.mode!=="manual"))e:for(g=null,f=u;;){if(f.tag===5||f.tag===26||f.tag===27){if(g===null){at=g=f;try{if(M=at.stateNode,Ve)j=M.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none";else{fe=at.stateNode,Te=at.memoizedProps.style;var vt=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;fe.style.display=vt==null||typeof vt=="boolean"?"":(""+vt).trim()}}catch(Jt){vr(at,at.return,Jt)}}}else if(f.tag===6){if(g===null){at=f;try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(Jt){vr(at,at.return,Jt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}E&4&&(E=u.updateQueue,E!==null&&(g=E.retryQueue,g!==null&&(E.retryQueue=null,Z1(u,g))));break;case 19:po(f,u),go(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,Z1(u,E)));break;case 21:break;default:po(f,u),go(u)}}function go(u){var f=u.flags;if(f&2){try{if(u.tag!==27){e:{for(var g=u.return;g!==null;){if(yM(g)){var E=g;break e}g=g.return}throw Error(r(160))}switch(E.tag){case 27:var M=E.stateNode,j=G1(u);Sv(u,j,M);break;case 5:var fe=E.stateNode;E.flags&32&&(Be(fe,""),E.flags&=-33);var Te=G1(u);Sv(u,Te,fe);break;case 3:case 4:var Ve=E.stateNode.containerInfo,at=G1(u);W1(u,at,Ve);break;default:throw Error(r(161))}}}catch(wt){vr(u,u.return,wt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function CM(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;CM(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function ru(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)wM(u,f.alternate,f),f=f.sibling}function fd(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return),fd(f);break;case 1:Fa(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&pM(f,f.return,g),fd(f);break;case 26:case 27:case 5:Fa(f,f.return),fd(f);break;case 22:Fa(f,f.return),f.memoizedState===null&&fd(f);break;default:fd(f)}u=u.sibling}}function cl(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var E=f.alternate,M=u,j=f,fe=j.flags;switch(j.tag){case 0:case 11:case 15:cl(M,j,g),Dp(4,j);break;case 1:if(cl(M,j,g),E=j,M=E.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(at){vr(E,E.return,at)}if(E=j,M=E.updateQueue,M!==null){var Te=E.stateNode;try{var Ve=M.shared.hiddenCallbacks;if(Ve!==null)for(M.shared.hiddenCallbacks=null,M=0;M<Ve.length;M++)fM(Ve[M],Te)}catch(at){vr(E,E.return,at)}}g&&fe&64&&hM(j),Ac(j,j.return);break;case 26:case 27:case 5:cl(M,j,g),g&&E===null&&fe&4&&gM(j),Ac(j,j.return);break;case 12:cl(M,j,g);break;case 13:cl(M,j,g),g&&fe&4&&xM(M,j);break;case 22:j.memoizedState===null&&cl(M,j,g),Ac(j,j.return);break;default:cl(M,j,g)}f=f.sibling}}function J1(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&Ep(g))}function X1(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ep(u))}function fl(u,f,g,E){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)TM(u,f,g,E),f=f.sibling}function TM(u,f,g,E){var M=f.flags;switch(f.tag){case 0:case 11:case 15:fl(u,f,g,E),M&2048&&Dp(9,f);break;case 3:fl(u,f,g,E),M&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Ep(u)));break;case 12:if(M&2048){fl(u,f,g,E),u=f.stateNode;try{var j=f.memoizedProps,fe=j.id,Te=j.onPostCommit;typeof Te=="function"&&Te(fe,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Ve){vr(f,f.return,Ve)}}else fl(u,f,g,E);break;case 23:break;case 22:j=f.stateNode,f.memoizedState!==null?j._visibility&4?fl(u,f,g,E):kp(u,f):j._visibility&4?fl(u,f,g,E):(j._visibility|=4,dd(u,f,g,E,(f.subtreeFlags&10256)!==0)),M&2048&&J1(f.alternate,f);break;case 24:fl(u,f,g,E),M&2048&&X1(f.alternate,f);break;default:fl(u,f,g,E)}}function dd(u,f,g,E,M){for(M=M&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var j=u,fe=f,Te=g,Ve=E,at=fe.flags;switch(fe.tag){case 0:case 11:case 15:dd(j,fe,Te,Ve,M),Dp(8,fe);break;case 23:break;case 22:var wt=fe.stateNode;fe.memoizedState!==null?wt._visibility&4?dd(j,fe,Te,Ve,M):kp(j,fe):(wt._visibility|=4,dd(j,fe,Te,Ve,M)),M&&at&2048&&J1(fe.alternate,fe);break;case 24:dd(j,fe,Te,Ve,M),M&&at&2048&&X1(fe.alternate,fe);break;default:dd(j,fe,Te,Ve,M)}f=f.sibling}}function kp(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,E=f,M=E.flags;switch(E.tag){case 22:kp(g,E),M&2048&&J1(E.alternate,E);break;case 24:kp(g,E),M&2048&&X1(E.alternate,E);break;default:kp(g,E)}f=f.sibling}}var Np=8192;function hd(u){if(u.subtreeFlags&Np)for(u=u.child;u!==null;)RM(u),u=u.sibling}function RM(u){switch(u.tag){case 26:hd(u),u.flags&Np&&u.memoizedState!==null&&vQ(Fo,u.memoizedState,u.memoizedProps);break;case 5:hd(u);break;case 3:case 4:var f=Fo;Fo=Fv(u.stateNode.containerInfo),hd(u),Fo=f;break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Np,Np=16777216,hd(u),Np=f):hd(u));break;default:hd(u)}}function AM(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Fp(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var E=f[g];bi=E,OM(E,u)}AM(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)PM(u),u=u.sibling}function PM(u){switch(u.tag){case 0:case 11:case 15:Fp(u),u.flags&2048&&ll(9,u,u.return);break;case 3:Fp(u);break;case 12:Fp(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,xv(u)):Fp(u);break;default:Fp(u)}}function xv(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var g=0;g<f.length;g++){var E=f[g];bi=E,OM(E,u)}AM(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:ll(8,f,f.return),xv(f);break;case 22:g=f.stateNode,g._visibility&4&&(g._visibility&=-5,xv(f));break;default:xv(f)}u=u.sibling}}function OM(u,f){for(;bi!==null;){var g=bi;switch(g.tag){case 0:case 11:case 15:ll(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var E=g.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Ep(g.memoizedState.cache)}if(E=g.child,E!==null)E.return=g,bi=E;else e:for(g=u;bi!==null;){E=bi;var M=E.sibling,j=E.return;if(bM(E),E===g){bi=null;break e}if(M!==null){M.return=j,bi=M;break e}bi=j}}}function LW(u,f,g,E){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mo(u,f,g,E){return new LW(u,f,g,E)}function Y1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function dl(u,f){var g=u.alternate;return g===null?(g=mo(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&31457280,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function LM(u,f){u.flags&=31457282;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Ev(u,f,g,E,M,j){var fe=0;if(E=u,typeof u=="function")Y1(u)&&(fe=1);else if(typeof u=="string")fe=mQ(u,g,oe.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case l:return Pc(g.children,M,j,f);case c:fe=8,M|=24;break;case d:return u=mo(12,g,f,M|2),u.elementType=d,u.lanes=j,u;case _:return u=mo(13,g,f,M),u.elementType=_,u.lanes=j,u;case S:return u=mo(19,g,f,M),u.elementType=S,u.lanes=j,u;case R:return IM(g,M,j,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case h:case y:fe=10;break e;case m:fe=9;break e;case v:fe=11;break e;case b:fe=14;break e;case x:fe=16,E=null;break e}fe=29,g=Error(r(130,u===null?"null":typeof u,"")),E=null}return f=mo(fe,g,f,M),f.elementType=u,f.type=E,f.lanes=j,f}function Pc(u,f,g,E){return u=mo(7,u,E,f),u.lanes=g,u}function IM(u,f,g,E){u=mo(22,u,E,f),u.elementType=R,u.lanes=g;var M={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var j=M._current;if(j===null)throw Error(r(456));if(!(M._pendingVisibility&2)){var fe=Sa(j,2);fe!==null&&(M._pendingVisibility|=2,ua(fe,j,2))}},attach:function(){var j=M._current;if(j===null)throw Error(r(456));if(M._pendingVisibility&2){var fe=Sa(j,2);fe!==null&&(M._pendingVisibility&=-3,ua(fe,j,2))}}};return u.stateNode=M,u}function eS(u,f,g){return u=mo(6,u,null,f),u.lanes=g,u}function tS(u,f,g){return f=mo(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function iu(u){u.flags|=4}function MM(u,f){if(f.type!=="stylesheet"||f.state.loading&4)u.flags&=-16777217;else if(u.flags|=16777216,!yD(f)){if(f=ho.current,f!==null&&((Un&4194176)===Un?ls!==null:(Un&62914560)!==Un&&!(Un&536870912)||f!==ls))throw el=ss,Ci;u.flags|=8192}}function Cv(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?qe():536870912,u.lanes|=f,gd|=f)}function jp(u,f){if(!ve)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Dr(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,E=0;if(f)for(var M=u.child;M!==null;)g|=M.lanes|M.childLanes,E|=M.subtreeFlags&31457280,E|=M.flags&31457280,M.return=u,M=M.sibling;else for(M=u.child;M!==null;)g|=M.lanes|M.childLanes,E|=M.subtreeFlags,E|=M.flags,M.return=u,M=M.sibling;return u.subtreeFlags|=E,u.childLanes=g,f}function IW(u,f,g){var E=f.pendingProps;switch(I(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(f),null;case 1:return Dr(f),null;case 3:return g=f.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),eu(hi),he(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(mn(f)?iu(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ge!==null&&(lS(Ge),Ge=null))),Dr(f),null;case 26:return g=f.memoizedState,u===null?(iu(f),g!==null?(Dr(f),MM(f,g)):(Dr(f),f.flags&=-16777217)):g?g!==u.memoizedState?(iu(f),Dr(f),MM(f,g)):(Dr(f),f.flags&=-16777217):(u.memoizedProps!==E&&iu(f),Dr(f),f.flags&=-16777217),null;case 27:He(f),g=$.current;var M=f.type;if(u!==null&&f.stateNode!=null)u.memoizedProps!==E&&iu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Dr(f),null}u=oe.current,mn(f)?Bt(f):(u=lD(M,E,g),f.stateNode=u,iu(f))}return Dr(f),null;case 5:if(He(f),g=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==E&&iu(f);else{if(!E){if(f.stateNode===null)throw Error(r(166));return Dr(f),null}if(u=oe.current,mn(f))Bt(f);else{switch(M=Nv($.current),u){case 1:u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":u=M.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":u=M.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":u=M.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof E.is=="string"?M.createElement("select",{is:E.is}):M.createElement("select"),E.multiple?u.multiple=!0:E.size&&(u.size=E.size);break;default:u=typeof E.is=="string"?M.createElement(g,{is:E.is}):M.createElement(g)}}u[it]=f,u[Ct]=E;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)u.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=u;e:switch(Ri(u,g,E),g){case"button":case"input":case"select":case"textarea":u=!!E.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&iu(f)}}return Dr(f),f.flags&=-16777217,null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==E&&iu(f);else{if(typeof E!="string"&&f.stateNode===null)throw Error(r(166));if(u=$.current,mn(f)){if(u=f.stateNode,g=f.memoizedProps,E=null,M=q,M!==null)switch(M.tag){case 27:case 5:E=M.memoizedProps}u[it]=f,u=!!(u.nodeValue===g||E!==null&&E.suppressHydrationWarning===!0||rD(u.nodeValue,g)),u||St(f)}else u=Nv(u).createTextNode(E),u[it]=f,f.stateNode=u}return Dr(f),null;case 13:if(E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(M=mn(f),E!==null&&E.dehydrated!==null){if(u===null){if(!M)throw Error(r(318));if(M=f.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[it]=f}else Xr(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Dr(f),M=!1}else Ge!==null&&(lS(Ge),Ge=null),M=!0;if(!M)return f.flags&256?(Zs(f),f):(Zs(f),null)}if(Zs(f),f.flags&128)return f.lanes=g,f;if(g=E!==null,u=u!==null&&u.memoizedState!==null,g){E=f.child,M=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(M=E.alternate.memoizedState.cachePool.pool);var j=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(j=E.memoizedState.cachePool.pool),j!==M&&(E.flags|=2048)}return g!==u&&g&&(f.child.flags|=8192),Cv(f,f.updateQueue),Dr(f),null;case 4:return he(),u===null&&wS(f.stateNode.containerInfo),Dr(f),null;case 10:return eu(f.type),Dr(f),null;case 19:if(Ne(di),M=f.memoizedState,M===null)return Dr(f),null;if(E=(f.flags&128)!==0,j=M.rendering,j===null)if(E)jp(M,!1);else{if(qr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=uv(u),j!==null){for(f.flags|=128,jp(M,!1),u=j.updateQueue,f.updateQueue=u,Cv(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)LM(g,u),g=g.sibling;return Xe(di,di.current&1|2),f.child}u=u.sibling}M.tail!==null&&qt()>Tv&&(f.flags|=128,E=!0,jp(M,!1),f.lanes=4194304)}else{if(!E)if(u=uv(j),u!==null){if(f.flags|=128,E=!0,u=u.updateQueue,f.updateQueue=u,Cv(f,u),jp(M,!0),M.tail===null&&M.tailMode==="hidden"&&!j.alternate&&!ve)return Dr(f),null}else 2*qt()-M.renderingStartTime>Tv&&g!==536870912&&(f.flags|=128,E=!0,jp(M,!1),f.lanes=4194304);M.isBackwards?(j.sibling=f.child,f.child=j):(u=M.last,u!==null?u.sibling=j:f.child=j,M.last=j)}return M.tail!==null?(f=M.tail,M.rendering=f,M.tail=f.sibling,M.renderingStartTime=qt(),f.sibling=null,u=di.current,Xe(di,E?u&1|2:u&1),f):(Dr(f),null);case 22:case 23:return Zs(f),u1(),E=f.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(f.flags|=8192):E&&(f.flags|=8192),E?g&536870912&&!(f.flags&128)&&(Dr(f),f.subtreeFlags&6&&(f.flags|=8192)):Dr(f),g=f.updateQueue,g!==null&&Cv(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==g&&(f.flags|=2048),u!==null&&Ne(bc),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),eu(hi),Dr(f),null;case 25:return null}throw Error(r(156,f.tag))}function MW(u,f){switch(I(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return eu(hi),he(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return He(f),null;case 13:if(Zs(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Xr()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Ne(di),null;case 4:return he(),null;case 10:return eu(f.type),null;case 22:case 23:return Zs(f),u1(),u!==null&&Ne(bc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return eu(hi),null;case 25:return null;default:return null}}function DM(u,f){switch(I(f),f.tag){case 3:eu(hi),he();break;case 26:case 27:case 5:He(f);break;case 4:he();break;case 13:Zs(f);break;case 19:Ne(di);break;case 10:eu(f.type);break;case 22:case 23:Zs(f),u1(),u!==null&&Ne(bc);break;case 24:eu(hi)}}var DW={getCacheForType:function(u){var f=zi(hi),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g}},kW=typeof WeakMap=="function"?WeakMap:Map,kr=0,br=null,Dn=null,Un=0,Sr=0,$a=null,au=!1,pd=!1,nS=!1,ou=0,qr=0,hl=0,Oc=0,rS=0,yo=0,gd=0,$p=null,fs=null,iS=!1,aS=0,Tv=1/0,Rv=null,pl=null,Av=!1,Lc=null,Bp=0,oS=0,sS=null,Up=0,uS=null;function Ba(){if(kr&2&&Un!==0)return Un&-Un;if(Y.T!==null){var u=od;return u!==0?u:mS()}return Ce()}function kM(){yo===0&&(yo=!(Un&536870912)||ve?Le():536870912);var u=ho.current;return u!==null&&(u.flags|=32),yo}function ua(u,f,g){(u===br&&Sr===2||u.cancelPendingCommit!==null)&&(md(u,0),su(u,Un,yo,!1)),Et(u,g),(!(kr&2)||u!==br)&&(u===br&&(!(kr&2)&&(Oc|=g),qr===4&&su(u,Un,yo,!1)),ds(u))}function NM(u,f,g){if(kr&6)throw Error(r(327));var E=!g&&(f&60)===0&&(f&u.expiredLanes)===0||Mn(u,f),M=E?jW(u,f):dS(u,f,!0),j=E;do{if(M===0){pd&&!E&&su(u,f,0,!1);break}else if(M===6)su(u,f,0,!au);else{if(g=u.current.alternate,j&&!NW(g)){M=dS(u,f,!1),j=!1;continue}if(M===2){if(j=f,u.errorRecoveryDisabledLanes&j)var fe=0;else fe=u.pendingLanes&-536870913,fe=fe!==0?fe:fe&536870912?536870912:0;if(fe!==0){f=fe;e:{var Te=u;M=$p;var Ve=Te.current.memoizedState.isDehydrated;if(Ve&&(md(Te,fe).flags|=256),fe=dS(Te,fe,!1),fe!==2){if(nS&&!Ve){Te.errorRecoveryDisabledLanes|=j,Oc|=j,M=4;break e}j=fs,fs=M,j!==null&&lS(j)}M=fe}if(j=!1,M!==2)continue}}if(M===1){md(u,0),su(u,f,0,!0);break}e:{switch(E=u,M){case 0:case 1:throw Error(r(345));case 4:if((f&4194176)===f){su(E,f,yo,!au);break e}break;case 2:fs=null;break;case 3:case 5:break;default:throw Error(r(329))}if(E.finishedWork=g,E.finishedLanes=f,(f&62914560)===f&&(j=aS+300-qt(),10<j)){if(su(E,f,yo,!au),ln(E,0)!==0)break e;E.timeoutHandle=oD(FM.bind(null,E,g,fs,Rv,iS,f,yo,Oc,gd,au,2,-0,0),j);break e}FM(E,g,fs,Rv,iS,f,yo,Oc,gd,au,0,-0,0)}}break}while(!0);ds(u)}function lS(u){fs===null?fs=u:fs.push.apply(fs,u)}function FM(u,f,g,E,M,j,fe,Te,Ve,at,wt,Rt,pt){var vt=f.subtreeFlags;if((vt&8192||(vt&16785408)===16785408)&&(Gp={stylesheets:null,count:0,unsuspend:yQ},RM(f),f=_Q(),f!==null)){u.cancelPendingCommit=f(HM.bind(null,u,g,E,M,fe,Te,Ve,1,Rt,pt)),su(u,j,fe,!at);return}HM(u,g,E,M,fe,Te,Ve,wt,Rt,pt)}function NW(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var E=0;E<g.length;E++){var M=g[E],j=M.getSnapshot;M=M.value;try{if(!na(j(),M))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function su(u,f,g,E){f&=~rS,f&=~Oc,u.suspendedLanes|=f,u.pingedLanes&=~f,E&&(u.warmLanes|=f),E=u.expirationTimes;for(var M=f;0<M;){var j=31-Ot(M),fe=1<<j;E[j]=-1,M&=~fe}g!==0&&Hn(u,g,f)}function Pv(){return kr&6?!0:(qp(0),!1)}function cS(){if(Dn!==null){if(Sr===0)var u=Dn.return;else u=Dn,Ys=Tc=null,m1(u),Ws=null,wr=0,u=Dn;for(;u!==null;)DM(u.alternate,u),u=u.return;Dn=null}}function md(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,tQ(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),cS(),br=u,Dn=g=dl(u.current,null),Un=f,Sr=0,$a=null,au=!1,pd=Mn(u,f),nS=!1,gd=yo=rS=Oc=hl=qr=0,fs=$p=null,iS=!1,f&8&&(f|=f&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=f;0<E;){var M=31-Ot(E),j=1<<M;f|=u[M],E&=~j}return ou=f,ba(),g}function jM(u,f){Rn=null,Y.H=cs,f===_i?(f=iv(),Sr=3):f===Ci?(f=iv(),Sr=4):Sr=f===JI?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,$a=f,Dn===null&&(qr=1,_v(u,aa(f,u.current)))}function $M(){var u=Y.H;return Y.H=cs,u===null?cs:u}function BM(){var u=Y.A;return Y.A=DW,u}function fS(){qr=4,au||(Un&4194176)!==Un&&ho.current!==null||(pd=!0),!(hl&134217727)&&!(Oc&134217727)||br===null||su(br,Un,yo,!1)}function dS(u,f,g){var E=kr;kr|=2;var M=$M(),j=BM();(br!==u||Un!==f)&&(Rv=null,md(u,f)),f=!1;var fe=qr;e:do try{if(Sr!==0&&Dn!==null){var Te=Dn,Ve=$a;switch(Sr){case 8:cS(),fe=6;break e;case 3:case 2:case 6:ho.current===null&&(f=!0);var at=Sr;if(Sr=0,$a=null,yd(u,Te,Ve,at),g&&pd){fe=0;break e}break;default:at=Sr,Sr=0,$a=null,yd(u,Te,Ve,at)}}FW(),fe=qr;break}catch(wt){jM(u,wt)}while(!0);return f&&u.shellSuspendCounter++,Ys=Tc=null,kr=E,Y.H=M,Y.A=j,Dn===null&&(br=null,Un=0,ba()),fe}function FW(){for(;Dn!==null;)UM(Dn)}function jW(u,f){var g=kr;kr|=2;var E=$M(),M=BM();br!==u||Un!==f?(Rv=null,Tv=qt()+500,md(u,f)):pd=Mn(u,f);e:do try{if(Sr!==0&&Dn!==null){f=Dn;var j=$a;t:switch(Sr){case 1:Sr=0,$a=null,yd(u,f,j,1);break;case 2:if(nv(j)){Sr=0,$a=null,qM(f);break}f=function(){Sr===2&&br===u&&(Sr=7),ds(u)},j.then(f,f);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:nv(j)?(Sr=0,$a=null,qM(f)):(Sr=0,$a=null,yd(u,f,j,7));break;case 5:var fe=null;switch(Dn.tag){case 26:fe=Dn.memoizedState;case 5:case 27:var Te=Dn;if(!fe||yD(fe)){Sr=0,$a=null;var Ve=Te.sibling;if(Ve!==null)Dn=Ve;else{var at=Te.return;at!==null?(Dn=at,Ov(at)):Dn=null}break t}}Sr=0,$a=null,yd(u,f,j,5);break;case 6:Sr=0,$a=null,yd(u,f,j,6);break;case 8:cS(),qr=6;break e;default:throw Error(r(462))}}$W();break}catch(wt){jM(u,wt)}while(!0);return Ys=Tc=null,Y.H=E,Y.A=M,kr=g,Dn!==null?0:(br=null,Un=0,ba(),qr)}function $W(){for(;Dn!==null&&!nt();)UM(Dn)}function UM(u){var f=lM(u.alternate,u,ou);u.memoizedProps=u.pendingProps,f===null?Ov(u):Dn=f}function qM(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=rM(g,f,f.pendingProps,f.type,void 0,Un);break;case 11:f=rM(g,f,f.pendingProps,f.type.render,f.ref,Un);break;case 5:m1(f);default:DM(g,f),f=Dn=LM(f,ou),f=lM(g,f,ou)}u.memoizedProps=u.pendingProps,f===null?Ov(u):Dn=f}function yd(u,f,g,E){Ys=Tc=null,m1(f),Ws=null,wr=0;var M=f.return;try{if(RW(u,M,f,g,Un)){qr=1,_v(u,aa(g,u.current)),Dn=null;return}}catch(j){if(M!==null)throw Dn=M,j;qr=1,_v(u,aa(g,u.current)),Dn=null;return}f.flags&32768?(ve||E===1?u=!0:pd||Un&536870912?u=!1:(au=u=!0,(E===2||E===3||E===6)&&(E=ho.current,E!==null&&E.tag===13&&(E.flags|=16384))),zM(f,u)):Ov(f)}function Ov(u){var f=u;do{if(f.flags&32768){zM(f,au);return}u=f.return;var g=IW(f.alternate,f,ou);if(g!==null){Dn=g;return}if(f=f.sibling,f!==null){Dn=f;return}Dn=f=u}while(f!==null);qr===0&&(qr=5)}function zM(u,f){do{var g=MW(u.alternate,u);if(g!==null){g.flags&=32767,Dn=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){Dn=u;return}Dn=u=g}while(u!==null);qr=6,Dn=null}function HM(u,f,g,E,M,j,fe,Te,Ve,at){var wt=Y.T,Rt=ee.p;try{ee.p=2,Y.T=null,BW(u,f,g,E,Rt,M,j,fe,Te,Ve,at)}finally{Y.T=wt,ee.p=Rt}}function BW(u,f,g,E,M,j,fe,Te){do vd();while(Lc!==null);if(kr&6)throw Error(r(327));var Ve=u.finishedWork;if(E=u.finishedLanes,Ve===null)return null;if(u.finishedWork=null,u.finishedLanes=0,Ve===u.current)throw Error(r(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var at=Ve.lanes|Ve.childLanes;if(at|=Sp,Mt(u,E,at,j,fe,Te),u===br&&(Dn=br=null,Un=0),!(Ve.subtreeFlags&10256)&&!(Ve.flags&10256)||Av||(Av=!0,oS=at,sS=g,HW(z,function(){return vd(),null})),g=(Ve.flags&15990)!==0,Ve.subtreeFlags&15990||g?(g=Y.T,Y.T=null,j=ee.p,ee.p=2,fe=kr,kr|=4,PW(u,Ve),EM(Ve,u),Yf(ES,u.containerInfo),qv=!!xS,ES=xS=null,u.current=Ve,wM(u,Ve.alternate,Ve),gt(),kr=fe,ee.p=j,Y.T=g):u.current=Ve,Av?(Av=!1,Lc=u,Bp=E):VM(u,at),at=u.pendingLanes,at===0&&(pl=null),It(Ve.stateNode),ds(u),f!==null)for(M=u.onRecoverableError,Ve=0;Ve<f.length;Ve++)at=f[Ve],M(at.value,{componentStack:at.stack});return Bp&3&&vd(),at=u.pendingLanes,E&4194218&&at&42?u===uS?Up++:(Up=0,uS=u):Up=0,qp(0),null}function VM(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Ep(f)))}function vd(){if(Lc!==null){var u=Lc,f=oS;oS=0;var g=We(Bp),E=Y.T,M=ee.p;try{if(ee.p=32>g?32:g,Y.T=null,Lc===null)var j=!1;else{g=sS,sS=null;var fe=Lc,Te=Bp;if(Lc=null,Bp=0,kr&6)throw Error(r(331));var Ve=kr;if(kr|=4,PM(fe.current),TM(fe,fe.current,Te,g),kr=Ve,qp(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ke,fe)}catch{}j=!0}return j}finally{ee.p=M,Y.T=E,VM(u,f)}}return!1}function KM(u,f,g){f=aa(g,f),f=O1(u.stateNode,f,2),u=ul(u,f,2),u!==null&&(Et(u,2),ds(u))}function vr(u,f,g){if(u.tag===3)KM(u,u,g);else for(;f!==null;){if(f.tag===3){KM(f,u,g);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(pl===null||!pl.has(E))){u=aa(g,u),g=QI(2),E=ul(f,g,2),E!==null&&(ZI(g,E,f,u),Et(E,2),ds(E));break}}f=f.return}}function hS(u,f,g){var E=u.pingCache;if(E===null){E=u.pingCache=new kW;var M=new Set;E.set(f,M)}else M=E.get(f),M===void 0&&(M=new Set,E.set(f,M));M.has(g)||(nS=!0,M.add(g),u=UW.bind(null,u,f,g),f.then(u,u))}function UW(u,f,g){var E=u.pingCache;E!==null&&E.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,br===u&&(Un&g)===g&&(qr===4||qr===3&&(Un&62914560)===Un&&300>qt()-aS?!(kr&2)&&md(u,0):rS|=g,gd===Un&&(gd=0)),ds(u)}function GM(u,f){f===0&&(f=qe()),u=Sa(u,f),u!==null&&(Et(u,f),ds(u))}function qW(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),GM(u,g)}function zW(u,f){var g=0;switch(u.tag){case 13:var E=u.stateNode,M=u.memoizedState;M!==null&&(g=M.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(r(314))}E!==null&&E.delete(f),GM(u,g)}function HW(u,f){return Fe(u,f)}var Lv=null,_d=null,pS=!1,Iv=!1,gS=!1,Ic=0;function ds(u){u!==_d&&u.next===null&&(_d===null?Lv=_d=u:_d=_d.next=u),Iv=!0,pS||(pS=!0,KW(VW))}function qp(u,f){if(!gS&&Iv){gS=!0;do for(var g=!1,E=Lv;E!==null;){if(u!==0){var M=E.pendingLanes;if(M===0)var j=0;else{var fe=E.suspendedLanes,Te=E.pingedLanes;j=(1<<31-Ot(42|u)+1)-1,j&=M&~(fe&~Te),j=j&201326677?j&201326677|1:j?j|2:0}j!==0&&(g=!0,ZM(E,j))}else j=Un,j=ln(E,E===br?j:0),!(j&3)||Mn(E,j)||(g=!0,ZM(E,j));E=E.next}while(g);gS=!1}}function VW(){Iv=pS=!1;var u=0;Ic!==0&&(eQ()&&(u=Ic),Ic=0);for(var f=qt(),g=null,E=Lv;E!==null;){var M=E.next,j=WM(E,f);j===0?(E.next=null,g===null?Lv=M:g.next=M,M===null&&(_d=g)):(g=E,(u!==0||j&3)&&(Iv=!0)),E=M}qp(u)}function WM(u,f){for(var g=u.suspendedLanes,E=u.pingedLanes,M=u.expirationTimes,j=u.pendingLanes&-62914561;0<j;){var fe=31-Ot(j),Te=1<<fe,Ve=M[fe];Ve===-1?(!(Te&g)||Te&E)&&(M[fe]=ur(Te,f)):Ve<=f&&(u.expiredLanes|=Te),j&=~Te}if(f=br,g=Un,g=ln(u,u===f?g:0),E=u.callbackNode,g===0||u===f&&Sr===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&tt(E),u.callbackNode=null,u.callbackPriority=0;if(!(g&3)||Mn(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(E!==null&&tt(E),We(g)){case 2:case 8:g=ne;break;case 32:g=z;break;case 268435456:g=G;break;default:g=z}return E=QM.bind(null,u),g=Fe(g,E),u.callbackPriority=f,u.callbackNode=g,f}return E!==null&&E!==null&&tt(E),u.callbackPriority=2,u.callbackNode=null,2}function QM(u,f){var g=u.callbackNode;if(vd()&&u.callbackNode!==g)return null;var E=Un;return E=ln(u,u===br?E:0),E===0?null:(NM(u,E,f),WM(u,qt()),u.callbackNode!=null&&u.callbackNode===g?QM.bind(null,u):null)}function ZM(u,f){if(vd())return null;NM(u,f,!0)}function KW(u){nQ(function(){kr&6?Fe(Ue,u):u()})}function mS(){return Ic===0&&(Ic=Le()),Ic}function JM(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:Ft(""+u)}function XM(u,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute("form",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function GW(u,f,g,E,M){if(f==="submit"&&g&&g.stateNode===M){var j=JM((M[Ct]||null).action),fe=E.submitter;fe&&(f=(f=fe[Ct]||null)?JM(f.formAction):fe.getAttribute("formAction"),f!==null&&(j=f,fe=null));var Te=new oo("action","action",null,E,M);u.push({event:Te,listeners:[{instance:null,listener:function(){if(E.defaultPrevented){if(Ic!==0){var Ve=fe?XM(M,fe):new FormData(M);C1(g,{pending:!0,data:Ve,method:M.method,action:j},null,Ve)}}else typeof j=="function"&&(Te.preventDefault(),Ve=fe?XM(M,fe):new FormData(M),C1(g,{pending:!0,data:Ve,method:M.method,action:j},j,Ve))},currentTarget:M}]})}}for(var yS=0;yS<ev.length;yS++){var vS=ev[yS],WW=vS.toLowerCase(),QW=vS[0].toUpperCase()+vS.slice(1);vi(WW,"on"+QW)}vi(Na,"onAnimationEnd"),vi(mc,"onAnimationIteration"),vi(Jy,"onAnimationStart"),vi("dblclick","onDoubleClick"),vi("focusin","onFocus"),vi("focusout","onBlur"),vi(ed,"onTransitionRun"),vi(o1,"onTransitionStart"),vi(Xy,"onTransitionCancel"),vi(Yy,"onTransitionEnd"),Mr("onMouseEnter",["mouseout","mouseover"]),Mr("onMouseLeave",["mouseout","mouseover"]),Mr("onPointerEnter",["pointerout","pointerover"]),Mr("onPointerLeave",["pointerout","pointerover"]),Jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zp));function YM(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var E=u[g],M=E.event;E=E.listeners;e:{var j=void 0;if(f)for(var fe=E.length-1;0<=fe;fe--){var Te=E[fe],Ve=Te.instance,at=Te.currentTarget;if(Te=Te.listener,Ve!==j&&M.isPropagationStopped())break e;j=Te,M.currentTarget=at;try{j(M)}catch(wt){vv(wt)}M.currentTarget=null,j=Ve}else for(fe=0;fe<E.length;fe++){if(Te=E[fe],Ve=Te.instance,at=Te.currentTarget,Te=Te.listener,Ve!==j&&M.isPropagationStopped())break e;j=Te,M.currentTarget=at;try{j(M)}catch(wt){vv(wt)}M.currentTarget=null,j=Ve}}}}function Fn(u,f){var g=f[Gt];g===void 0&&(g=f[Gt]=new Set);var E=u+"__bubble";g.has(E)||(eD(f,u,2,!1),g.add(E))}function _S(u,f,g){var E=0;f&&(E|=4),eD(g,u,E,f)}var Mv="_reactListening"+Math.random().toString(36).slice(2);function wS(u){if(!u[Mv]){u[Mv]=!0,Pr.forEach(function(g){g!=="selectionchange"&&(ZW.has(g)||_S(g,!1,u),_S(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Mv]||(f[Mv]=!0,_S("selectionchange",!1,f))}}function eD(u,f,g,E){switch(xD(f)){case 2:var M=SQ;break;case 8:M=xQ;break;default:M=MS}g=M.bind(null,f,g,u),M=void 0,!mr||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(M=!0),E?M!==void 0?u.addEventListener(f,g,{capture:!0,passive:M}):u.addEventListener(f,g,!0):M!==void 0?u.addEventListener(f,g,{passive:M}):u.addEventListener(f,g,!1)}function bS(u,f,g,E,M){var j=E;if(!(f&1)&&!(f&2)&&E!==null)e:for(;;){if(E===null)return;var fe=E.tag;if(fe===3||fe===4){var Te=E.stateNode.containerInfo;if(Te===M||Te.nodeType===8&&Te.parentNode===M)break;if(fe===4)for(fe=E.return;fe!==null;){var Ve=fe.tag;if((Ve===3||Ve===4)&&(Ve=fe.stateNode.containerInfo,Ve===M||Ve.nodeType===8&&Ve.parentNode===M))return;fe=fe.return}for(;Te!==null;){if(fe=Wt(Te),fe===null)return;if(Ve=fe.tag,Ve===5||Ve===6||Ve===26||Ve===27){E=j=fe;continue e}Te=Te.parentNode}}E=E.return}pn(function(){var at=j,wt=zn(g),Rt=[];e:{var pt=Xu.get(u);if(pt!==void 0){var vt=oo,Jt=u;switch(u){case"keypress":if(ir(g)===0)break e;case"keydown":case"keyup":vt=Xb;break;case"focusin":Jt="focus",vt=uo;break;case"focusout":Jt="blur",vt=uo;break;case"beforeblur":case"afterblur":vt=uo;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vt=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vt=fr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vt=e1;break;case Na:case mc:case Jy:vt=uc;break;case Yy:vt=t1;break;case"scroll":case"scrollend":vt=Hu;break;case"wheel":vt=Hy;break;case"copy":case"cut":case"paste":vt=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vt=dp;break;case"toggle":case"beforetoggle":vt=Fs}var yn=(f&4)!==0,zr=!yn&&(u==="scroll"||u==="scrollend"),ct=yn?pt!==null?pt+"Capture":null:pt;yn=[];for(var rt=at,ht;rt!==null;){var xt=rt;if(ht=xt.stateNode,xt=xt.tag,xt!==5&&xt!==26&&xt!==27||ht===null||ct===null||(xt=Xn(rt,ct),xt!=null&&yn.push(Hp(rt,xt,ht))),zr)break;rt=rt.return}0<yn.length&&(pt=new vt(pt,Jt,null,g,wt),Rt.push({event:pt,listeners:yn}))}}if(!(f&7)){e:{if(pt=u==="mouseover"||u==="pointerover",vt=u==="mouseout"||u==="pointerout",pt&&g!==Vt&&(Jt=g.relatedTarget||g.fromElement)&&(Wt(Jt)||Jt[Dt]))break e;if((vt||pt)&&(pt=wt.window===wt?wt:(pt=wt.ownerDocument)?pt.defaultView||pt.parentWindow:window,vt?(Jt=g.relatedTarget||g.toElement,vt=at,Jt=Jt?Wt(Jt):null,Jt!==null&&(zr=ue(Jt),yn=Jt.tag,Jt!==zr||yn!==5&&yn!==27&&yn!==6)&&(Jt=null)):(vt=null,Jt=at),vt!==Jt)){if(yn=qi,xt="onMouseLeave",ct="onMouseEnter",rt="mouse",(u==="pointerout"||u==="pointerover")&&(yn=dp,xt="onPointerLeave",ct="onPointerEnter",rt="pointer"),zr=vt==null?pt:En(vt),ht=Jt==null?pt:En(Jt),pt=new yn(xt,rt+"leave",vt,g,wt),pt.target=zr,pt.relatedTarget=ht,xt=null,Wt(wt)===at&&(yn=new yn(ct,rt+"enter",Jt,g,wt),yn.target=ht,yn.relatedTarget=zr,xt=yn),zr=xt,vt&&Jt)t:{for(yn=vt,ct=Jt,rt=0,ht=yn;ht;ht=wd(ht))rt++;for(ht=0,xt=ct;xt;xt=wd(xt))ht++;for(;0<rt-ht;)yn=wd(yn),rt--;for(;0<ht-rt;)ct=wd(ct),ht--;for(;rt--;){if(yn===ct||ct!==null&&yn===ct.alternate)break t;yn=wd(yn),ct=wd(ct)}yn=null}else yn=null;vt!==null&&tD(Rt,pt,vt,yn,!1),Jt!==null&&zr!==null&&tD(Rt,zr,Jt,yn,!0)}}e:{if(pt=at?En(at):window,vt=pt.nodeName&&pt.nodeName.toLowerCase(),vt==="select"||vt==="input"&&pt.type==="file")var Kt=Gu;else if($s(pt))if(gp)Kt=a1;else{Kt=i1;var Ln=yp}else vt=pt.nodeName,!vt||vt.toLowerCase()!=="input"||pt.type!=="checkbox"&&pt.type!=="radio"?at&&$t(at.elementType)&&(Kt=Gu):Kt=ko;if(Kt&&(Kt=Kt(u,at))){Qy(Rt,Kt,g,wt);break e}Ln&&Ln(u,pt,at),u==="focusout"&&at&&pt.type==="number"&&at.memoizedProps.value!=null&&dt(pt,"number",pt.value)}switch(Ln=at?En(at):window,u){case"focusin":($s(Ln)||Ln.contentEditable==="true")&&(No=Ln,pc=at,Ju=null);break;case"focusout":Ju=pc=No=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,gc(Rt,g,wt);break;case"selectionchange":if(Zu)break;case"keydown":case"keyup":gc(Rt,g,wt)}var en;if(js)e:{switch(u){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else Vu?Zf(u,g)&&(on="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(on="onCompositionStart");on&&(pp&&g.locale!=="ko"&&(Vu||on!=="onCompositionStart"?on==="onCompositionEnd"&&Vu&&(en=_a()):(lr=wt,Ei="value"in lr?lr.value:lr.textContent,Vu=!0)),Ln=Dv(at,on),0<Ln.length&&(on=new ea(on,u,null,g,wt),Rt.push({event:on,listeners:Ln}),en?on.data=en:(en=Gy(g),en!==null&&(on.data=en)))),(en=Vy?Wy(u,g):r1(u,g))&&(on=Dv(at,"onBeforeInput"),0<on.length&&(Ln=new ea("onBeforeInput","beforeinput",null,g,wt),Rt.push({event:Ln,listeners:on}),Ln.data=en)),GW(Rt,u,at,g,wt)}YM(Rt,f)})}function Hp(u,f,g){return{instance:u,listener:f,currentTarget:g}}function Dv(u,f){for(var g=f+"Capture",E=[];u!==null;){var M=u,j=M.stateNode;M=M.tag,M!==5&&M!==26&&M!==27||j===null||(M=Xn(u,g),M!=null&&E.unshift(Hp(u,M,j)),M=Xn(u,f),M!=null&&E.push(Hp(u,M,j))),u=u.return}return E}function wd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function tD(u,f,g,E,M){for(var j=f._reactName,fe=[];g!==null&&g!==E;){var Te=g,Ve=Te.alternate,at=Te.stateNode;if(Te=Te.tag,Ve!==null&&Ve===E)break;Te!==5&&Te!==26&&Te!==27||at===null||(Ve=at,M?(at=Xn(g,j),at!=null&&fe.unshift(Hp(g,at,Ve))):M||(at=Xn(g,j),at!=null&&fe.push(Hp(g,at,Ve)))),g=g.return}fe.length!==0&&u.push({event:f,listeners:fe})}var JW=/\r\n?/g,XW=/\u0000|\uFFFD/g;function nD(u){return(typeof u=="string"?u:""+u).replace(JW,`
`).replace(XW,"")}function rD(u,f){return f=nD(f),nD(u)===f}function kv(){}function hr(u,f,g,E,M,j){switch(g){case"children":typeof E=="string"?f==="body"||f==="textarea"&&E===""||Be(u,E):(typeof E=="number"||typeof E=="bigint")&&f!=="body"&&Be(u,""+E);break;case"className":N(u,"class",E);break;case"tabIndex":N(u,"tabindex",E);break;case"dir":case"role":case"viewBox":case"width":case"height":N(u,g,E);break;case"style":mt(u,E,j);break;case"data":if(f!=="object"){N(u,"data",E);break}case"src":case"href":if(E===""&&(f!=="a"||g!=="href")){u.removeAttribute(g);break}if(E==null||typeof E=="function"||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(g);break}E=Ft(""+E),u.setAttribute(g,E);break;case"action":case"formAction":if(typeof E=="function"){u.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof j=="function"&&(g==="formAction"?(f!=="input"&&hr(u,f,"name",M.name,M,null),hr(u,f,"formEncType",M.formEncType,M,null),hr(u,f,"formMethod",M.formMethod,M,null),hr(u,f,"formTarget",M.formTarget,M,null)):(hr(u,f,"encType",M.encType,M,null),hr(u,f,"method",M.method,M,null),hr(u,f,"target",M.target,M,null)));if(E==null||typeof E=="symbol"||typeof E=="boolean"){u.removeAttribute(g);break}E=Ft(""+E),u.setAttribute(g,E);break;case"onClick":E!=null&&(u.onclick=kv);break;case"onScroll":E!=null&&Fn("scroll",u);break;case"onScrollEnd":E!=null&&Fn("scrollend",u);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(g=E.__html,g!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"multiple":u.multiple=E&&typeof E!="function"&&typeof E!="symbol";break;case"muted":u.muted=E&&typeof E!="function"&&typeof E!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(E==null||typeof E=="function"||typeof E=="boolean"||typeof E=="symbol"){u.removeAttribute("xlink:href");break}g=Ft(""+E),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(g,""+E):u.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":E&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(g,""):u.removeAttribute(g);break;case"capture":case"download":E===!0?u.setAttribute(g,""):E!==!1&&E!=null&&typeof E!="function"&&typeof E!="symbol"?u.setAttribute(g,E):u.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":E!=null&&typeof E!="function"&&typeof E!="symbol"&&!isNaN(E)&&1<=E?u.setAttribute(g,E):u.removeAttribute(g);break;case"rowSpan":case"start":E==null||typeof E=="function"||typeof E=="symbol"||isNaN(E)?u.removeAttribute(g):u.setAttribute(g,E);break;case"popover":Fn("beforetoggle",u),Fn("toggle",u),A(u,"popover",E);break;case"xlinkActuate":J(u,"http://www.w3.org/1999/xlink","xlink:actuate",E);break;case"xlinkArcrole":J(u,"http://www.w3.org/1999/xlink","xlink:arcrole",E);break;case"xlinkRole":J(u,"http://www.w3.org/1999/xlink","xlink:role",E);break;case"xlinkShow":J(u,"http://www.w3.org/1999/xlink","xlink:show",E);break;case"xlinkTitle":J(u,"http://www.w3.org/1999/xlink","xlink:title",E);break;case"xlinkType":J(u,"http://www.w3.org/1999/xlink","xlink:type",E);break;case"xmlBase":J(u,"http://www.w3.org/XML/1998/namespace","xml:base",E);break;case"xmlLang":J(u,"http://www.w3.org/XML/1998/namespace","xml:lang",E);break;case"xmlSpace":J(u,"http://www.w3.org/XML/1998/namespace","xml:space",E);break;case"is":A(u,"is",E);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Tt.get(g)||g,A(u,g,E))}}function SS(u,f,g,E,M,j){switch(g){case"style":mt(u,E,j);break;case"dangerouslySetInnerHTML":if(E!=null){if(typeof E!="object"||!("__html"in E))throw Error(r(61));if(g=E.__html,g!=null){if(M.children!=null)throw Error(r(60));u.innerHTML=g}}break;case"children":typeof E=="string"?Be(u,E):(typeof E=="number"||typeof E=="bigint")&&Be(u,""+E);break;case"onScroll":E!=null&&Fn("scroll",u);break;case"onScrollEnd":E!=null&&Fn("scrollend",u);break;case"onClick":E!=null&&(u.onclick=kv);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zr.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(M=g.endsWith("Capture"),f=g.slice(2,M?g.length-7:void 0),j=u[Ct]||null,j=j!=null?j[g]:null,typeof j=="function"&&u.removeEventListener(f,j,M),typeof E=="function")){typeof j!="function"&&j!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,E,M);break e}g in u?u[g]=E:E===!0?u.setAttribute(g,""):A(u,g,E)}}}function Ri(u,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fn("error",u),Fn("load",u);var E=!1,M=!1,j;for(j in g)if(g.hasOwnProperty(j)){var fe=g[j];if(fe!=null)switch(j){case"src":E=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:hr(u,f,j,fe,g,null)}}M&&hr(u,f,"srcSet",g.srcSet,g,null),E&&hr(u,f,"src",g.src,g,null);return;case"input":Fn("invalid",u);var Te=j=fe=M=null,Ve=null,at=null;for(E in g)if(g.hasOwnProperty(E)){var wt=g[E];if(wt!=null)switch(E){case"name":M=wt;break;case"type":fe=wt;break;case"checked":Ve=wt;break;case"defaultChecked":at=wt;break;case"value":j=wt;break;case"defaultValue":Te=wt;break;case"children":case"dangerouslySetInnerHTML":if(wt!=null)throw Error(r(137,f));break;default:hr(u,f,E,wt,g,null)}}ot(u,j,Te,Ve,at,fe,M,!1),xe(u);return;case"select":Fn("invalid",u),E=fe=j=null;for(M in g)if(g.hasOwnProperty(M)&&(Te=g[M],Te!=null))switch(M){case"value":j=Te;break;case"defaultValue":fe=Te;break;case"multiple":E=Te;default:hr(u,f,M,Te,g,null)}f=j,g=fe,u.multiple=!!E,f!=null?ut(u,!!E,f,!1):g!=null&&ut(u,!!E,g,!0);return;case"textarea":Fn("invalid",u),j=M=E=null;for(fe in g)if(g.hasOwnProperty(fe)&&(Te=g[fe],Te!=null))switch(fe){case"value":E=Te;break;case"defaultValue":M=Te;break;case"children":j=Te;break;case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(91));break;default:hr(u,f,fe,Te,g,null)}De(u,E,M,j),xe(u);return;case"option":for(Ve in g)if(g.hasOwnProperty(Ve)&&(E=g[Ve],E!=null))switch(Ve){case"selected":u.selected=E&&typeof E!="function"&&typeof E!="symbol";break;default:hr(u,f,Ve,E,g,null)}return;case"dialog":Fn("cancel",u),Fn("close",u);break;case"iframe":case"object":Fn("load",u);break;case"video":case"audio":for(E=0;E<zp.length;E++)Fn(zp[E],u);break;case"image":Fn("error",u),Fn("load",u);break;case"details":Fn("toggle",u);break;case"embed":case"source":case"link":Fn("error",u),Fn("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(at in g)if(g.hasOwnProperty(at)&&(E=g[at],E!=null))switch(at){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:hr(u,f,at,E,g,null)}return;default:if($t(f)){for(wt in g)g.hasOwnProperty(wt)&&(E=g[wt],E!==void 0&&SS(u,f,wt,E,g,void 0));return}}for(Te in g)g.hasOwnProperty(Te)&&(E=g[Te],E!=null&&hr(u,f,Te,E,g,null))}function YW(u,f,g,E){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,j=null,fe=null,Te=null,Ve=null,at=null,wt=null;for(vt in g){var Rt=g[vt];if(g.hasOwnProperty(vt)&&Rt!=null)switch(vt){case"checked":break;case"value":break;case"defaultValue":Ve=Rt;default:E.hasOwnProperty(vt)||hr(u,f,vt,null,E,Rt)}}for(var pt in E){var vt=E[pt];if(Rt=g[pt],E.hasOwnProperty(pt)&&(vt!=null||Rt!=null))switch(pt){case"type":j=vt;break;case"name":M=vt;break;case"checked":at=vt;break;case"defaultChecked":wt=vt;break;case"value":fe=vt;break;case"defaultValue":Te=vt;break;case"children":case"dangerouslySetInnerHTML":if(vt!=null)throw Error(r(137,f));break;default:vt!==Rt&&hr(u,f,pt,vt,E,Rt)}}Ye(u,fe,Te,Ve,at,wt,j,M);return;case"select":vt=fe=Te=pt=null;for(j in g)if(Ve=g[j],g.hasOwnProperty(j)&&Ve!=null)switch(j){case"value":break;case"multiple":vt=Ve;default:E.hasOwnProperty(j)||hr(u,f,j,null,E,Ve)}for(M in E)if(j=E[M],Ve=g[M],E.hasOwnProperty(M)&&(j!=null||Ve!=null))switch(M){case"value":pt=j;break;case"defaultValue":Te=j;break;case"multiple":fe=j;default:j!==Ve&&hr(u,f,M,j,E,Ve)}f=Te,g=fe,E=vt,pt!=null?ut(u,!!g,pt,!1):!!E!=!!g&&(f!=null?ut(u,!!g,f,!0):ut(u,!!g,g?[]:"",!1));return;case"textarea":vt=pt=null;for(Te in g)if(M=g[Te],g.hasOwnProperty(Te)&&M!=null&&!E.hasOwnProperty(Te))switch(Te){case"value":break;case"children":break;default:hr(u,f,Te,null,E,M)}for(fe in E)if(M=E[fe],j=g[fe],E.hasOwnProperty(fe)&&(M!=null||j!=null))switch(fe){case"value":pt=M;break;case"defaultValue":vt=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==j&&hr(u,f,fe,M,E,j)}be(u,pt,vt);return;case"option":for(var Jt in g)if(pt=g[Jt],g.hasOwnProperty(Jt)&&pt!=null&&!E.hasOwnProperty(Jt))switch(Jt){case"selected":u.selected=!1;break;default:hr(u,f,Jt,null,E,pt)}for(Ve in E)if(pt=E[Ve],vt=g[Ve],E.hasOwnProperty(Ve)&&pt!==vt&&(pt!=null||vt!=null))switch(Ve){case"selected":u.selected=pt&&typeof pt!="function"&&typeof pt!="symbol";break;default:hr(u,f,Ve,pt,E,vt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in g)pt=g[yn],g.hasOwnProperty(yn)&&pt!=null&&!E.hasOwnProperty(yn)&&hr(u,f,yn,null,E,pt);for(at in E)if(pt=E[at],vt=g[at],E.hasOwnProperty(at)&&pt!==vt&&(pt!=null||vt!=null))switch(at){case"children":case"dangerouslySetInnerHTML":if(pt!=null)throw Error(r(137,f));break;default:hr(u,f,at,pt,E,vt)}return;default:if($t(f)){for(var zr in g)pt=g[zr],g.hasOwnProperty(zr)&&pt!==void 0&&!E.hasOwnProperty(zr)&&SS(u,f,zr,void 0,E,pt);for(wt in E)pt=E[wt],vt=g[wt],!E.hasOwnProperty(wt)||pt===vt||pt===void 0&&vt===void 0||SS(u,f,wt,pt,E,vt);return}}for(var ct in g)pt=g[ct],g.hasOwnProperty(ct)&&pt!=null&&!E.hasOwnProperty(ct)&&hr(u,f,ct,null,E,pt);for(Rt in E)pt=E[Rt],vt=g[Rt],!E.hasOwnProperty(Rt)||pt===vt||pt==null&&vt==null||hr(u,f,Rt,pt,E,vt)}var xS=null,ES=null;function Nv(u){return u.nodeType===9?u:u.ownerDocument}function iD(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aD(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function CS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var TS=null;function eQ(){var u=window.event;return u&&u.type==="popstate"?u===TS?!1:(TS=u,!0):(TS=null,!1)}var oD=typeof setTimeout=="function"?setTimeout:void 0,tQ=typeof clearTimeout=="function"?clearTimeout:void 0,sD=typeof Promise=="function"?Promise:void 0,nQ=typeof queueMicrotask=="function"?queueMicrotask:typeof sD<"u"?function(u){return sD.resolve(null).then(u).catch(rQ)}:oD;function rQ(u){setTimeout(function(){throw u})}function RS(u,f){var g=f,E=0;do{var M=g.nextSibling;if(u.removeChild(g),M&&M.nodeType===8)if(g=M.data,g==="/$"){if(E===0){u.removeChild(M),Xp(f);return}E--}else g!=="$"&&g!=="$?"&&g!=="$!"||E++;g=M}while(g);Xp(f)}function AS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":AS(g),On(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}u.removeChild(g)}}function iQ(u,f,g,E){for(;u.nodeType===1;){var M=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!E&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(E){if(!u[tn])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(j=u.getAttribute("rel"),j==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(j!==M.rel||u.getAttribute("href")!==(M.href==null?null:M.href)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||u.getAttribute("title")!==(M.title==null?null:M.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(j=u.getAttribute("src"),(j!==(M.src==null?null:M.src)||u.getAttribute("type")!==(M.type==null?null:M.type)||u.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&j&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var j=M.name==null?null:""+M.name;if(M.type==="hidden"&&u.getAttribute("name")===j)return u}else return u;if(u=jo(u.nextSibling),u===null)break}return null}function aQ(u,f,g){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!g||(u=jo(u.nextSibling),u===null))return null;return u}function jo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return u}function uD(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}function lD(u,f,g){switch(f=Nv(g),u){case"html":if(u=f.documentElement,!u)throw Error(r(452));return u;case"head":if(u=f.head,!u)throw Error(r(453));return u;case"body":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}var vo=new Map,cD=new Set;function Fv(u){return typeof u.getRootNode=="function"?u.getRootNode():u.ownerDocument}var uu=ee.d;ee.d={f:oQ,r:sQ,D:uQ,C:lQ,L:cQ,m:fQ,X:hQ,S:dQ,M:pQ};function oQ(){var u=uu.f(),f=Pv();return u||f}function sQ(u){var f=Zt(u);f!==null&&f.tag===5&&f.type==="form"?FI(f):uu.r(u)}var bd=typeof document>"u"?null:document;function fD(u,f,g){var E=bd;if(E&&typeof f=="string"&&f){var M=ze(f);M='link[rel="'+u+'"][href="'+M+'"]',typeof g=="string"&&(M+='[crossorigin="'+g+'"]'),cD.has(M)||(cD.add(M),u={rel:u,crossOrigin:g,href:f},E.querySelector(M)===null&&(f=E.createElement("link"),Ri(f,"link",u),qn(f),E.head.appendChild(f)))}}function uQ(u){uu.D(u),fD("dns-prefetch",u,null)}function lQ(u,f){uu.C(u,f),fD("preconnect",u,f)}function cQ(u,f,g){uu.L(u,f,g);var E=bd;if(E&&u&&f){var M='link[rel="preload"][as="'+ze(f)+'"]';f==="image"&&g&&g.imageSrcSet?(M+='[imagesrcset="'+ze(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(M+='[imagesizes="'+ze(g.imageSizes)+'"]')):M+='[href="'+ze(u)+'"]';var j=M;switch(f){case"style":j=Sd(u);break;case"script":j=xd(u)}vo.has(j)||(u=U({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:u,as:f},g),vo.set(j,u),E.querySelector(M)!==null||f==="style"&&E.querySelector(Vp(j))||f==="script"&&E.querySelector(Kp(j))||(f=E.createElement("link"),Ri(f,"link",u),qn(f),E.head.appendChild(f)))}}function fQ(u,f){uu.m(u,f);var g=bd;if(g&&u){var E=f&&typeof f.as=="string"?f.as:"script",M='link[rel="modulepreload"][as="'+ze(E)+'"][href="'+ze(u)+'"]',j=M;switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":j=xd(u)}if(!vo.has(j)&&(u=U({rel:"modulepreload",href:u},f),vo.set(j,u),g.querySelector(M)===null)){switch(E){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(Kp(j)))return}E=g.createElement("link"),Ri(E,"link",u),qn(E),g.head.appendChild(E)}}}function dQ(u,f,g){uu.S(u,f,g);var E=bd;if(E&&u){var M=Cn(E).hoistableStyles,j=Sd(u);f=f||"default";var fe=M.get(j);if(!fe){var Te={loading:0,preload:null};if(fe=E.querySelector(Vp(j)))Te.loading=5;else{u=U({rel:"stylesheet",href:u,"data-precedence":f},g),(g=vo.get(j))&&PS(u,g);var Ve=fe=E.createElement("link");qn(Ve),Ri(Ve,"link",u),Ve._p=new Promise(function(at,wt){Ve.onload=at,Ve.onerror=wt}),Ve.addEventListener("load",function(){Te.loading|=1}),Ve.addEventListener("error",function(){Te.loading|=2}),Te.loading|=4,jv(fe,f,E)}fe={type:"stylesheet",instance:fe,count:1,state:Te},M.set(j,fe)}}}function hQ(u,f){uu.X(u,f);var g=bd;if(g&&u){var E=Cn(g).hoistableScripts,M=xd(u),j=E.get(M);j||(j=g.querySelector(Kp(M)),j||(u=U({src:u,async:!0},f),(f=vo.get(M))&&OS(u,f),j=g.createElement("script"),qn(j),Ri(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function pQ(u,f){uu.M(u,f);var g=bd;if(g&&u){var E=Cn(g).hoistableScripts,M=xd(u),j=E.get(M);j||(j=g.querySelector(Kp(M)),j||(u=U({src:u,async:!0,type:"module"},f),(f=vo.get(M))&&OS(u,f),j=g.createElement("script"),qn(j),Ri(j,"link",u),g.head.appendChild(j)),j={type:"script",instance:j,count:1,state:null},E.set(M,j))}}function dD(u,f,g,E){var M=(M=$.current)?Fv(M):null;if(!M)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=Sd(g.href),g=Cn(M).hoistableStyles,E=g.get(f),E||(E={type:"style",instance:null,count:0,state:null},g.set(f,E)),E):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){u=Sd(g.href);var j=Cn(M).hoistableStyles,fe=j.get(u);if(fe||(M=M.ownerDocument||M,fe={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},j.set(u,fe),(j=M.querySelector(Vp(u)))&&!j._p&&(fe.instance=j,fe.state.loading=5),vo.has(u)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},vo.set(u,g),j||gQ(M,u,g,fe.state))),f&&E===null)throw Error(r(528,""));return fe}if(f&&E!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=xd(g),g=Cn(M).hoistableScripts,E=g.get(f),E||(E={type:"script",instance:null,count:0,state:null},g.set(f,E)),E):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Sd(u){return'href="'+ze(u)+'"'}function Vp(u){return'link[rel="stylesheet"]['+u+"]"}function hD(u){return U({},u,{"data-precedence":u.precedence,precedence:null})}function gQ(u,f,g,E){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?E.loading=1:(f=u.createElement("link"),E.preload=f,f.addEventListener("load",function(){return E.loading|=1}),f.addEventListener("error",function(){return E.loading|=2}),Ri(f,"link",g),qn(f),u.head.appendChild(f))}function xd(u){return'[src="'+ze(u)+'"]'}function Kp(u){return"script[async]"+u}function pD(u,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var E=u.querySelector('style[data-href~="'+ze(g.href)+'"]');if(E)return f.instance=E,qn(E),E;var M=U({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return E=(u.ownerDocument||u).createElement("style"),qn(E),Ri(E,"style",M),jv(E,g.precedence,u),f.instance=E;case"stylesheet":M=Sd(g.href);var j=u.querySelector(Vp(M));if(j)return f.state.loading|=4,f.instance=j,qn(j),j;E=hD(g),(M=vo.get(M))&&PS(E,M),j=(u.ownerDocument||u).createElement("link"),qn(j);var fe=j;return fe._p=new Promise(function(Te,Ve){fe.onload=Te,fe.onerror=Ve}),Ri(j,"link",E),f.state.loading|=4,jv(j,g.precedence,u),f.instance=j;case"script":return j=xd(g.src),(M=u.querySelector(Kp(j)))?(f.instance=M,qn(M),M):(E=g,(M=vo.get(j))&&(E=U({},g),OS(E,M)),u=u.ownerDocument||u,M=u.createElement("script"),qn(M),Ri(M,"link",E),u.head.appendChild(M),f.instance=M);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(E=f.instance,f.state.loading|=4,jv(E,g.precedence,u));return f.instance}function jv(u,f,g){for(var E=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=E.length?E[E.length-1]:null,j=M,fe=0;fe<E.length;fe++){var Te=E[fe];if(Te.dataset.precedence===f)j=Te;else if(j!==M)break}j?j.parentNode.insertBefore(u,j.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function PS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function OS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var $v=null;function gD(u,f,g){if($v===null){var E=new Map,M=$v=new Map;M.set(g,E)}else M=$v,E=M.get(g),E||(E=new Map,M.set(g,E));if(E.has(u))return E;for(E.set(u,null),g=g.getElementsByTagName(u),M=0;M<g.length;M++){var j=g[M];if(!(j[tn]||j[it]||u==="link"&&j.getAttribute("rel")==="stylesheet")&&j.namespaceURI!=="http://www.w3.org/2000/svg"){var fe=j.getAttribute(f)||"";fe=u+fe;var Te=E.get(fe);Te?Te.push(j):E.set(fe,[j])}}return E}function mD(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f==="title"?u.querySelector("head > title"):null)}function mQ(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function yD(u){return!(u.type==="stylesheet"&&!(u.state.loading&3))}var Gp=null;function yQ(){}function vQ(u,f,g){if(Gp===null)throw Error(r(475));var E=Gp;if(f.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var M=Sd(g.href),j=u.querySelector(Vp(M));if(j){u=j._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(E.count++,E=Bv.bind(E),u.then(E,E)),f.state.loading|=4,f.instance=j,qn(j);return}j=u.ownerDocument||u,g=hD(g),(M=vo.get(M))&&PS(g,M),j=j.createElement("link"),qn(j);var fe=j;fe._p=new Promise(function(Te,Ve){fe.onload=Te,fe.onerror=Ve}),Ri(j,"link",g),f.instance=j}E.stylesheets===null&&(E.stylesheets=new Map),E.stylesheets.set(f,u),(u=f.state.preload)&&!(f.state.loading&3)&&(E.count++,f=Bv.bind(E),u.addEventListener("load",f),u.addEventListener("error",f))}}function _Q(){if(Gp===null)throw Error(r(475));var u=Gp;return u.stylesheets&&u.count===0&&LS(u,u.stylesheets),0<u.count?function(f){var g=setTimeout(function(){if(u.stylesheets&&LS(u,u.stylesheets),u.unsuspend){var E=u.unsuspend;u.unsuspend=null,E()}},6e4);return u.unsuspend=f,function(){u.unsuspend=null,clearTimeout(g)}}:null}function Bv(){if(this.count--,this.count===0){if(this.stylesheets)LS(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var Uv=null;function LS(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,Uv=new Map,f.forEach(wQ,u),Uv=null,Bv.call(u))}function wQ(u,f){if(!(f.state.loading&4)){var g=Uv.get(u);if(g)var E=g.get(null);else{g=new Map,Uv.set(u,g);for(var M=u.querySelectorAll("link[data-precedence],style[data-precedence]"),j=0;j<M.length;j++){var fe=M[j];(fe.nodeName==="LINK"||fe.getAttribute("media")!=="not all")&&(g.set(fe.dataset.precedence,fe),E=fe)}E&&g.set(null,E)}M=f.instance,fe=M.getAttribute("data-precedence"),j=g.get(fe)||E,j===E&&g.set(null,M),g.set(fe,M),this.count++,E=Bv.bind(this),M.addEventListener("load",E),M.addEventListener("error",E),j?j.parentNode.insertBefore(M,j.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(M,u.firstChild)),f.state.loading|=4}}var Wp={$$typeof:y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function bQ(u,f,g,E,M,j,fe,Te){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=E,this.onUncaughtError=M,this.onCaughtError=j,this.onRecoverableError=fe,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function vD(u,f,g,E,M,j,fe,Te,Ve,at,wt,Rt){return u=new bQ(u,f,g,fe,Te,Ve,at,Rt),f=1,j===!0&&(f|=24),j=mo(3,null,null,f),u.current=j,j.stateNode=u,f=l1(),f.refCount++,u.pooledCache=f,f.refCount++,j.memoizedState={element:E,isDehydrated:g,cache:f},z1(j),u}function _D(u){return u?(u=lo,u):lo}function wD(u,f,g,E,M,j){M=_D(M),E.context===null?E.context=M:E.pendingContext=M,E=sl(f),E.payload={element:g},j=j===void 0?null:j,j!==null&&(E.callback=j),g=ul(u,E,f),g!==null&&(ua(g,u,f),Lp(g,u,f))}function bD(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function IS(u,f){bD(u,f),(u=u.alternate)&&bD(u,f)}function SD(u){if(u.tag===13){var f=Sa(u,67108864);f!==null&&ua(f,u,67108864),IS(u,67108864)}}var qv=!0;function SQ(u,f,g,E){var M=Y.T;Y.T=null;var j=ee.p;try{ee.p=2,MS(u,f,g,E)}finally{ee.p=j,Y.T=M}}function xQ(u,f,g,E){var M=Y.T;Y.T=null;var j=ee.p;try{ee.p=8,MS(u,f,g,E)}finally{ee.p=j,Y.T=M}}function MS(u,f,g,E){if(qv){var M=DS(E);if(M===null)bS(u,f,E,zv,g),ED(u,E);else if(CQ(M,u,f,g,E))E.stopPropagation();else if(ED(u,E),f&4&&-1<EQ.indexOf(u)){for(;M!==null;){var j=Zt(M);if(j!==null)switch(j.tag){case 3:if(j=j.stateNode,j.current.memoizedState.isDehydrated){var fe=un(j.pendingLanes);if(fe!==0){var Te=j;for(Te.pendingLanes|=2,Te.entangledLanes|=2;fe;){var Ve=1<<31-Ot(fe);Te.entanglements[1]|=Ve,fe&=~Ve}ds(j),!(kr&6)&&(Tv=qt()+500,qp(0))}}break;case 13:Te=Sa(j,2),Te!==null&&ua(Te,j,2),Pv(),IS(j,2)}if(j=DS(E),j===null&&bS(u,f,E,zv,g),j===M)break;M=j}M!==null&&E.stopPropagation()}else bS(u,f,E,null,g)}}function DS(u){return u=zn(u),kS(u)}var zv=null;function kS(u){if(zv=null,u=Wt(u),u!==null){var f=ue(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=Ae(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return zv=u,null}function xD(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Se()){case Ue:return 2;case ne:return 8;case z:case W:return 32;case G:return 268435456;default:return 32}default:return 32}}var NS=!1,gl=null,ml=null,yl=null,Qp=new Map,Zp=new Map,vl=[],EQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ED(u,f){switch(u){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":ml=null;break;case"mouseover":case"mouseout":yl=null;break;case"pointerover":case"pointerout":Qp.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zp.delete(f.pointerId)}}function Jp(u,f,g,E,M,j){return u===null||u.nativeEvent!==j?(u={blockedOn:f,domEventName:g,eventSystemFlags:E,nativeEvent:j,targetContainers:[M]},f!==null&&(f=Zt(f),f!==null&&SD(f)),u):(u.eventSystemFlags|=E,f=u.targetContainers,M!==null&&f.indexOf(M)===-1&&f.push(M),u)}function CQ(u,f,g,E,M){switch(f){case"focusin":return gl=Jp(gl,u,f,g,E,M),!0;case"dragenter":return ml=Jp(ml,u,f,g,E,M),!0;case"mouseover":return yl=Jp(yl,u,f,g,E,M),!0;case"pointerover":var j=M.pointerId;return Qp.set(j,Jp(Qp.get(j)||null,u,f,g,E,M)),!0;case"gotpointercapture":return j=M.pointerId,Zp.set(j,Jp(Zp.get(j)||null,u,f,g,E,M)),!0}return!1}function CD(u){var f=Wt(u.target);if(f!==null){var g=ue(f);if(g!==null){if(f=g.tag,f===13){if(f=Ae(g),f!==null){u.blockedOn=f,et(u.priority,function(){if(g.tag===13){var E=Ba(),M=Sa(g,E);M!==null&&ua(M,g,E),IS(g,E)}});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Hv(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=DS(u.nativeEvent);if(g===null){g=u.nativeEvent;var E=new g.constructor(g.type,g);Vt=E,g.target.dispatchEvent(E),Vt=null}else return f=Zt(g),f!==null&&SD(f),u.blockedOn=g,!1;f.shift()}return!0}function TD(u,f,g){Hv(u)&&g.delete(f)}function TQ(){NS=!1,gl!==null&&Hv(gl)&&(gl=null),ml!==null&&Hv(ml)&&(ml=null),yl!==null&&Hv(yl)&&(yl=null),Qp.forEach(TD),Zp.forEach(TD)}function Vv(u,f){u.blockedOn===f&&(u.blockedOn=null,NS||(NS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TQ)))}var Kv=null;function RD(u){Kv!==u&&(Kv=u,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kv===u&&(Kv=null);for(var f=0;f<u.length;f+=3){var g=u[f],E=u[f+1],M=u[f+2];if(typeof E!="function"){if(kS(E||g)===null)continue;break}var j=Zt(g);j!==null&&(u.splice(f,3),f-=3,C1(j,{pending:!0,data:M,method:g.method,action:E},E,M))}}))}function Xp(u){function f(Ve){return Vv(Ve,u)}gl!==null&&Vv(gl,u),ml!==null&&Vv(ml,u),yl!==null&&Vv(yl,u),Qp.forEach(f),Zp.forEach(f);for(var g=0;g<vl.length;g++){var E=vl[g];E.blockedOn===u&&(E.blockedOn=null)}for(;0<vl.length&&(g=vl[0],g.blockedOn===null);)CD(g),g.blockedOn===null&&vl.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(E=0;E<g.length;E+=3){var M=g[E],j=g[E+1],fe=M[Ct]||null;if(typeof j=="function")fe||RD(g);else if(fe){var Te=null;if(j&&j.hasAttribute("formAction")){if(M=j,fe=j[Ct]||null)Te=fe.formAction;else if(kS(M)!==null)continue}else Te=fe.action;typeof Te=="function"?g[E+1]=Te:(g.splice(E,3),E-=3),RD(g)}}}function FS(u){this._internalRoot=u}Gv.prototype.render=FS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,E=Ba();wD(g,E,u,f,null,null)},Gv.prototype.unmount=FS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;u.tag===0&&vd(),wD(u.current,2,null,u,null,null),Pv(),f[Dt]=null}};function Gv(u){this._internalRoot=u}Gv.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ce();u={blockedOn:null,target:u,priority:f};for(var g=0;g<vl.length&&f!==0&&f<vl[g].priority;g++);vl.splice(g,0,u),g===0&&CD(u)}};var AD=t.version;if(AD!=="19.0.0")throw Error(r(527,AD,"19.0.0"));ee.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=ie(f),u=u!==null?me(u):null,u=u===null?null:u.stateNode,u};var RQ={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,findFiberByHostInstance:Wt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wv.isDisabled&&Wv.supportsFiber)try{ke=Wv.inject(RQ),At=Wv}catch{}}return eg.createRoot=function(u,f){if(!i(u))throw Error(r(299));var g=!1,E="",M=VI,j=KI,fe=GI,Te=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(M=f.onUncaughtError),f.onCaughtError!==void 0&&(j=f.onCaughtError),f.onRecoverableError!==void 0&&(fe=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(Te=f.unstable_transitionCallbacks)),f=vD(u,1,!1,null,null,g,E,M,j,fe,Te,null),u[Dt]=f.current,wS(u.nodeType===8?u.parentNode:u),new FS(f)},eg.hydrateRoot=function(u,f,g){if(!i(u))throw Error(r(299));var E=!1,M="",j=VI,fe=KI,Te=GI,Ve=null,at=null;return g!=null&&(g.unstable_strictMode===!0&&(E=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onUncaughtError!==void 0&&(j=g.onUncaughtError),g.onCaughtError!==void 0&&(fe=g.onCaughtError),g.onRecoverableError!==void 0&&(Te=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(Ve=g.unstable_transitionCallbacks),g.formState!==void 0&&(at=g.formState)),f=vD(u,1,!0,f,g??null,E,M,j,fe,Te,Ve,at),f.context=_D(null),g=f.current,E=Ba(),M=sl(E),M.callback=null,ul(g,M,E),f.current.lanes=E,Et(f,E),ds(f),u[Dt]=f.current,wS(u),new Gv(f)},eg.version="19.0.0",eg}var WD;function lZ(){if(WD)return zS.exports;WD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),zS.exports=uZ(),zS.exports}var cZ=lZ(),GS={exports:{}},WS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QD;function fZ(){if(QD)return WS;QD=1;var e=kh();function t(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,o=e.useMemo,s=e.useDebugValue;return WS.useSyncExternalStoreWithSelector=function(l,c,d,h,m){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=o(function(){function S(O){if(!b){if(b=!0,x=O,O=h(O),m!==void 0&&v.hasValue){var D=v.value;if(m(D,O))return R=D}return R=O}if(D=R,n(x,O))return D;var F=h(O);return m!==void 0&&m(D,F)?(x=O,D):(x=O,R=F)}var b=!1,x,R,P=d===void 0?null:d;return[function(){return S(c())},P===null?void 0:function(){return S(P())}]},[c,d,h,m]);var _=r(l,y[0],y[1]);return a(function(){v.hasValue=!0,v.value=_},[_]),s(_),_},WS}var ZD;function dZ(){return ZD||(ZD=1,GS.exports=fZ()),GS.exports}var hZ=dZ();function pZ(e){e()}function gZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){pZ(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JD={notify(){},get:()=>[]};function mZ(e,t){let n,r=JD,i=0,a=!1;function o(_){d();const S=r.subscribe(_);let b=!1;return()=>{b||(b=!0,S(),h())}}function s(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function c(){return a}function d(){i++,n||(n=e.subscribe(l),r=gZ())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=JD)}function m(){a||(a=!0,d())}function y(){a&&(a=!1,h())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:c,trySubscribe:m,tryUnsubscribe:y,getListeners:()=>r};return v}var yZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vZ=yZ(),_Z=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wZ=_Z(),bZ=()=>vZ||wZ?V.useLayoutEffect:V.useEffect,SZ=bZ(),QS=Symbol.for("react-redux-context"),ZS=typeof globalThis<"u"?globalThis:{};function xZ(){if(!V.createContext)return{};const e=ZS[QS]??(ZS[QS]=new Map);let t=e.get(V.createContext);return t||(t=V.createContext(null),e.set(V.createContext,t)),t}var Gl=xZ();function EZ(e){const{children:t,context:n,serverState:r,store:i}=e,a=V.useMemo(()=>{const l=mZ(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=V.useMemo(()=>i.getState(),[i]);SZ(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=n||Gl;return V.createElement(s.Provider,{value:a},t)}var CZ=EZ;function OP(e=Gl){return function(){return V.useContext(e)}}var ZU=OP();function JU(e=Gl){const t=e===Gl?ZU:OP(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var TZ=JU();function RZ(e=Gl){const t=e===Gl?TZ:JU(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var AZ=RZ(),PZ=(e,t)=>e===t;function OZ(e=Gl){const t=e===Gl?ZU:OP(e),n=(r,i={})=>{const{equalityFn:a=PZ}=typeof i=="function"?{equalityFn:i}:i,o=t(),{store:s,subscription:l,getServerState:c}=o;V.useRef(!0);const d=V.useCallback({[r.name](m){return r(m)}}[r.name],[r]),h=hZ.useSyncExternalStoreWithSelector(l.addNestedSub,s.getState,c||s.getState,d,a);return V.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var LZ=OZ();/**
 * @remix-run/router v1.3.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qn(){return Qn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qn.apply(this,arguments)}var si;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(si||(si={}));const XD="popstate";function IZ(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:s}=r.location;return Um("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Os(i)}return DZ(t,n,null,e)}function wn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MZ(){return Math.random().toString(36).substr(2,8)}function YD(e,t){return{usr:e.state,key:e.key,idx:t}}function Um(e,t,n,r){return n===void 0&&(n=null),Qn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ku(t):t,{state:n,key:t&&t.key||r||MZ()})}function Os(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ku(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function DZ(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=si.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(Qn({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){s=si.Pop;let S=d(),b=S==null?null:S-c;c=S,l&&l({action:s,location:_.location,delta:b})}function m(S,b){s=si.Push;let x=Um(_.location,S,b);c=d()+1;let R=YD(x,c),P=_.createHref(x);try{o.pushState(R,"",P)}catch{i.location.assign(P)}a&&l&&l({action:s,location:_.location,delta:1})}function y(S,b){s=si.Replace;let x=Um(_.location,S,b);c=d();let R=YD(x,c),P=_.createHref(x);o.replaceState(R,"",P),a&&l&&l({action:s,location:_.location,delta:0})}function v(S){let b=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof S=="string"?S:Os(S);return wn(b,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,b)}let _={get action(){return s},get location(){return e(i,o)},listen(S){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XD,h),l=S,()=>{i.removeEventListener(XD,h),l=null}},createHref(S){return t(i,S)},createURL:v,encodeLocation(S){let b=v(S);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:m,replace:y,go(S){return o.go(S)}};return _}var Ni;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ni||(Ni={}));function kZ(e){return e.index===!0}function XU(e,t,n){return t===void 0&&(t=[]),n===void 0&&(n=new Set),e.map((r,i)=>{let a=[...t,i],o=typeof r.id=="string"?r.id:a.join("-");return wn(r.index!==!0||!r.children,"Cannot specify children on an index route"),wn(!n.has(o),'Found a route id collision on id "'+o+`".  Route id's must be globally unique within Data Router usages`),n.add(o),kZ(r)?Qn({},r,{id:o}):Qn({},r,{id:o,children:r.children?XU(r.children,a,n):void 0})})}function mm(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ku(t):t,i=tq(r.pathname||"/",n);if(i==null)return null;let a=YU(e);NZ(a);let o=null;for(let s=0;o==null&&s<a.length;++s)o=VZ(a[s],WZ(i));return o}function YU(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=xu([r,l.relativePath]),d=n.concat(l);a.children&&a.children.length>0&&(wn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),YU(a.children,t,d,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:zZ(c,a.index),routesMeta:d})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of eq(a.path))i(a,o,l)}),t}function eq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=eq(r.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function NZ(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:HZ(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const FZ=/^:\w+$/,jZ=3,$Z=2,BZ=1,UZ=10,qZ=-2,ek=e=>e==="*";function zZ(e,t){let n=e.split("/"),r=n.length;return n.some(ek)&&(r+=qZ),t&&(r+=$Z),n.filter(i=>!ek(i)).reduce((i,a)=>i+(FZ.test(a)?jZ:a===""?BZ:UZ),r)}function HZ(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function VZ(e,t){let{routesMeta:n}=e,r={},i="/",a=[];for(let o=0;o<n.length;++o){let s=n[o],l=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=KZ({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=s.route;a.push({params:r,pathname:xu([i,d.pathname]),pathnameBase:XZ(xu([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=xu([i,d.pathnameBase]))}return a}function KZ(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=GZ(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let m=s[h]||"";o=a.slice(0,a.length-m.length).replace(/(.)\/+$/,"$1")}return c[d]=QZ(s[h]||"",d),c},{}),pathname:a,pathnameBase:o,pattern:e}}function GZ(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),qm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,s)=>(r.push(s),"/([^\\/]+)"));return e.endsWith("*")?(r.push("*"),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function WZ(e){try{return decodeURI(e)}catch(t){return qm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function QZ(e,t){try{return decodeURIComponent(e)}catch(n){return qm(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function tq(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function qm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ZZ(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?ku(e):e;return{pathname:n?n.startsWith("/")?n:JZ(n,t):t,search:YZ(r),hash:eJ(i)}}function JZ(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function JS(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function LP(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=ku(e):(i=Qn({},e),wn(!i.pathname||!i.pathname.includes("?"),JS("?","pathname","search",i)),wn(!i.pathname||!i.pathname.includes("#"),JS("#","pathname","hash",i)),wn(!i.search||!i.search.includes("#"),JS("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(r||o==null)s=n;else{let h=t.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}s=h>=0?t[h]:"/"}let l=ZZ(i,s),c=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const xu=e=>e.join("/").replace(/\/\/+/g,"/"),XZ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YZ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,eJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class tk extends Error{}class tJ{constructor(t,n){this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],wn(t&&typeof t=="object"&&!Array.isArray(t),"defer() only accepts plain objects");let r;this.abortPromise=new Promise((a,o)=>r=o),this.controller=new AbortController;let i=()=>r(new tk("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",i),this.controller.signal.addEventListener("abort",i),this.data=Object.entries(t).reduce((a,o)=>{let[s,l]=o;return Object.assign(a,{[s]:this.trackPromise(s,l)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(t,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(t),this.pendingKeysSet.add(t);let r=Promise.race([n,this.abortPromise]).then(i=>this.onSettle(r,t,null,i),i=>this.onSettle(r,t,i));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(t,n,r,i){return this.controller.signal.aborted&&r instanceof tk?(this.unlistenAbortSignal(),Object.defineProperty(t,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r?(Object.defineProperty(t,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(t,"_data",{get:()=>i}),this.emit(!1,n),i))}emit(t,n){this.subscribers.forEach(r=>r(t,n))}subscribe(t){return this.subscribers.add(t),()=>this.subscribers.delete(t)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((t,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(t){let n=!1;if(!this.done){let r=()=>this.cancel();t.addEventListener("abort",r),n=await new Promise(i=>{this.subscribe(a=>{t.removeEventListener("abort",r),(a||this.done)&&i(a)})})}return n}get done(){return this.pendingKeysSet.size===0}get unwrappedData(){return wn(this.data!==null&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((t,n)=>{let[r,i]=n;return Object.assign(t,{[r]:rJ(i)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}function nJ(e){return e instanceof Promise&&e._tracked===!0}function rJ(e){if(!nJ(e))return e;if(e._error)throw e._error;return e._data}class IP{constructor(t,n,r,i){i===void 0&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function nq(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rq=["post","put","patch","delete"],iJ=new Set(rq),aJ=["get",...rq],oJ=new Set(aJ),sJ=new Set([301,302,303,307,308]),uJ=new Set([307,308]),XS={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},lJ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},nk={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},iq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cJ=!iq;function fJ(e){wn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t=XU(e.routes),n=null,r=new Set,i=null,a=null,o=null,s=e.hydrationData!=null,l=mm(t,e.history.location,e.basename),c=null;if(l==null){let Se=Cl(404,{pathname:e.history.location.pathname}),{matches:Ue,route:ne}=uk(t);l=Ue,c={[ne.id]:Se}}let d=!l.some(Se=>Se.route.loader)||e.hydrationData!=null,h,m={historyAction:e.history.action,location:e.history.location,matches:l,initialized:d,navigation:XS,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||c,fetchers:new Map,blockers:new Map},y=si.Pop,v=!1,_,S=!1,b=!1,x=[],R=[],P=new Map,O=0,D=-1,F=new Map,Q=new Set,Y=new Map,U=new Map,X=null,ce=new Map,te=!1;function se(){return n=e.history.listen(Se=>{let{action:Ue,location:ne,delta:z}=Se;if(te){te=!1;return}qm(X!=null&&z===null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let W=Fe({currentLocation:m.location,nextLocation:ne,historyAction:Ue});if(W&&z!=null){te=!0,e.history.go(z*-1),Ee(W,{state:"blocked",location:ne,proceed(){Ee(W,{state:"proceeding",proceed:void 0,reset:void 0,location:ne}),e.history.go(z)},reset(){He(W),de({blockers:new Map(h.state.blockers)})}});return}return ie(Ue,ne)}),m.initialized||ie(si.Pop,m.location),h}function pe(){n&&n(),r.clear(),_&&_.abort(),m.fetchers.forEach((Se,Ue)=>H(Ue)),m.blockers.forEach((Se,Ue)=>He(Ue))}function _e(Se){return r.add(Se),()=>r.delete(Se)}function de(Se){m=Qn({},m,Se),r.forEach(Ue=>Ue(m))}function ue(Se,Ue){var ne,z;let W=m.actionData!=null&&m.navigation.formMethod!=null&&wu(m.navigation.formMethod)&&m.navigation.state==="loading"&&((ne=Se.state)==null?void 0:ne._isRedirect)!==!0,G;Ue.actionData?Object.keys(Ue.actionData).length>0?G=Ue.actionData:G=null:W?G=m.actionData:G=null;let je=Ue.loaderData?sk(m.loaderData,Ue.loaderData,Ue.matches||[],Ue.errors):m.loaderData;for(let[ke]of ce)He(ke);let Je=v===!0||m.navigation.formMethod!=null&&wu(m.navigation.formMethod)&&((z=Se.state)==null?void 0:z._isRedirect)!==!0;de(Qn({},Ue,{actionData:G,loaderData:je,historyAction:y,location:Se,initialized:!0,navigation:XS,revalidation:"idle",restoreScrollPosition:qt(Se,Ue.matches||m.matches),preventScrollReset:Je,blockers:new Map(m.blockers)})),S||y===si.Pop||(y===si.Push?e.history.push(Se,Se.state):y===si.Replace&&e.history.replace(Se,Se.state)),y=si.Pop,v=!1,S=!1,b=!1,x=[],R=[]}async function Ae(Se,Ue){if(typeof Se=="number"){e.history.go(Se);return}let{path:ne,submission:z,error:W}=rk(Se,Ue),G=m.location,je=Um(m.location,ne,Ue&&Ue.state);je=Qn({},je,e.history.encodeLocation(je));let Je=Ue&&Ue.replace!=null?Ue.replace:void 0,ke=si.Push;Je===!0?ke=si.Replace:Je===!1||z!=null&&wu(z.formMethod)&&z.formAction===m.location.pathname+m.location.search&&(ke=si.Replace);let At=Ue&&"preventScrollReset"in Ue?Ue.preventScrollReset===!0:void 0,It=Fe({currentLocation:G,nextLocation:je,historyAction:ke});if(It){Ee(It,{state:"blocked",location:je,proceed(){Ee(It,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Ae(Se,Ue)},reset(){He(It),de({blockers:new Map(m.blockers)})}});return}return await ie(ke,je,{submission:z,pendingError:W,preventScrollReset:At,replace:Ue&&Ue.replace})}function k(){if(Xe(),de({revalidation:"loading"}),m.navigation.state!=="submitting"){if(m.navigation.state==="idle"){ie(m.historyAction,m.location,{startUninterruptedRevalidation:!0});return}ie(y||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation})}}async function ie(Se,Ue,ne){_&&_.abort(),_=null,y=Se,S=(ne&&ne.startUninterruptedRevalidation)===!0,gt(m.location,m.matches),v=(ne&&ne.preventScrollReset)===!0;let z=ne&&ne.overrideNavigation,W=mm(t,Ue,e.basename);if(!W){let Nt=Cl(404,{pathname:Ue.pathname}),{matches:Ot,route:zt}=uk(t);tt(),ue(Ue,{matches:Ot,loaderData:{},errors:{[zt.id]:Nt}});return}if(mJ(m.location,Ue)&&!(ne&&ne.submission&&wu(ne.submission.formMethod))){ue(Ue,{matches:W});return}_=new AbortController;let G=ng(e.history,Ue,_.signal,ne&&ne.submission),je,Je;if(ne&&ne.pendingError)Je={[Vd(W).route.id]:ne.pendingError};else if(ne&&ne.submission&&wu(ne.submission.formMethod)){let Nt=await me(G,Ue,ne.submission,W,{replace:ne.replace});if(Nt.shortCircuited)return;je=Nt.pendingActionData,Je=Nt.pendingActionError,z=Qn({state:"loading",location:Ue},ne.submission),G=new Request(G.url,{signal:G.signal})}let{shortCircuited:ke,loaderData:At,errors:It}=await K(G,Ue,W,z,ne&&ne.submission,ne&&ne.replace,je,Je);ke||(_=null,ue(Ue,Qn({matches:W},je?{actionData:je}:{},{loaderData:At,errors:It})))}async function me(Se,Ue,ne,z,W){Xe();let G=Qn({state:"submitting",location:Ue},ne);de({navigation:G});let je,Je=dk(z,Ue);if(!Je.route.action)je={type:Ni.error,error:Cl(405,{method:Se.method,pathname:Ue.pathname,routeId:Je.route.id})};else if(je=await tg("action",Se,Je,z,h.basename),Se.signal.aborted)return{shortCircuited:!0};if(Zd(je)){let ke;return W.replace!=null?ke=W.replace:ke=je.location===m.location.pathname+m.location.search,await Pe(m,je,{submission:ne,replace:ke}),{shortCircuited:!0}}if(Lm(je)){let ke=Vd(z,Je.route.id);return W.replace!==!0&&(y=si.Push),{pendingActionData:{},pendingActionError:{[ke.route.id]:je.error}}}if(of(je))throw Cl(400,{type:"defer-action"});return{pendingActionData:{[Je.route.id]:je.data}}}async function K(Se,Ue,ne,z,W,G,je,Je){let ke=z;ke||(ke=Qn({state:"loading",location:Ue,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},W));let At=W||(ke.formMethod&&ke.formAction&&ke.formData&&ke.formEncType?{formMethod:ke.formMethod,formAction:ke.formAction,formData:ke.formData,formEncType:ke.formEncType}:void 0),[It,Nt]=ik(e.history,m,ne,At,Ue,b,x,R,je,Je,Y);if(tt(ln=>!(ne&&ne.some(Mn=>Mn.route.id===ln))||It&&It.some(Mn=>Mn.route.id===ln)),It.length===0&&Nt.length===0)return ue(Ue,Qn({matches:ne,loaderData:{},errors:Je||null},je?{actionData:je}:{})),{shortCircuited:!0};if(!S){Nt.forEach(Mn=>{let ur=m.fetchers.get(Mn.key),Le={state:"loading",data:ur&&ur.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Mn.key,Le)});let ln=je||m.actionData;de(Qn({navigation:ke},ln?Object.keys(ln).length===0?{actionData:null}:{actionData:ln}:{},Nt.length>0?{fetchers:new Map(m.fetchers)}:{}))}D=++O,Nt.forEach(ln=>P.set(ln.key,_));let{results:Ot,loaderResults:zt,fetcherResults:Ar}=await Ne(m.matches,ne,It,Nt,Se);if(Se.signal.aborted)return{shortCircuited:!0};Nt.forEach(ln=>P.delete(ln.key));let dn=lk(Ot);if(dn)return await Pe(m,dn,{replace:G}),{shortCircuited:!0};let{loaderData:hn,errors:gr}=ok(m,ne,It,zt,Je,Nt,Ar,U);U.forEach((ln,Mn)=>{ln.subscribe(ur=>{(ur||ln.done)&&U.delete(Mn)})}),Z();let un=he(D);return Qn({loaderData:hn,errors:gr},un||Nt.length>0?{fetchers:new Map(m.fetchers)}:{})}function ee(Se){return m.fetchers.get(Se)||lJ}function ge(Se,Ue,ne,z){if(cJ)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");P.has(Se)&&$(Se);let W=mm(t,ne,e.basename);if(!W){oe(Se,Ue,Cl(404,{pathname:ne}));return}let{path:G,submission:je}=rk(ne,z,!0),Je=dk(W,G);if(v=(z&&z.preventScrollReset)===!0,je&&wu(je.formMethod)){Re(Se,Ue,G,Je,W,je);return}Y.set(Se,{routeId:Ue,path:G,match:Je,matches:W}),Ze(Se,Ue,G,Je,W,je)}async function Re(Se,Ue,ne,z,W,G){if(Xe(),Y.delete(Se),!z.route.action){let Mt=Cl(405,{method:G.formMethod,pathname:ne,routeId:Ue});oe(Se,Ue,Mt);return}let je=m.fetchers.get(Se),Je=Qn({state:"submitting"},G,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Je),de({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=ng(e.history,ne,ke.signal,G);P.set(Se,ke);let It=await tg("action",At,z,W,h.basename);if(At.signal.aborted){P.get(Se)===ke&&P.delete(Se);return}if(Zd(It)){P.delete(Se),Q.add(Se);let Mt=Qn({state:"loading"},G,{data:void 0," _hasFetcherDoneAnything ":!0});return m.fetchers.set(Se,Mt),de({fetchers:new Map(m.fetchers)}),Pe(m,It,{isFetchActionRedirect:!0})}if(Lm(It)){oe(Se,Ue,It.error);return}if(of(It))throw Cl(400,{type:"defer-action"});let Nt=m.navigation.location||m.location,Ot=ng(e.history,Nt,ke.signal),zt=m.navigation.state!=="idle"?mm(t,m.navigation.location,e.basename):m.matches;wn(zt,"Didn't find any matches after fetcher action");let Ar=++O;F.set(Se,Ar);let dn=Qn({state:"loading",data:It.data},G,{" _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,dn);let[hn,gr]=ik(e.history,m,zt,G,Nt,b,x,R,{[z.route.id]:It.data},void 0,Y);gr.filter(Mt=>Mt.key!==Se).forEach(Mt=>{let Hn=Mt.key,Jn=m.fetchers.get(Hn),We={state:"loading",data:Jn&&Jn.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Hn,We),P.set(Hn,ke)}),de({fetchers:new Map(m.fetchers)});let{results:un,loaderResults:ln,fetcherResults:Mn}=await Ne(m.matches,zt,hn,gr,Ot);if(ke.signal.aborted)return;F.delete(Se),P.delete(Se),gr.forEach(Mt=>P.delete(Mt.key));let ur=lk(un);if(ur)return Pe(m,ur);let{loaderData:Le,errors:qe}=ok(m,m.matches,hn,ln,void 0,gr,Mn,U),bt={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,bt);let Et=he(Ar);m.navigation.state==="loading"&&Ar>D?(wn(y,"Expected pending action"),_&&_.abort(),ue(m.navigation.location,{matches:zt,loaderData:Le,errors:qe,fetchers:new Map(m.fetchers)})):(de(Qn({errors:qe,loaderData:sk(m.loaderData,Le,zt,qe)},Et?{fetchers:new Map(m.fetchers)}:{})),b=!1)}async function Ze(Se,Ue,ne,z,W,G){let je=m.fetchers.get(Se),Je=Qn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},G,{data:je&&je.data," _hasFetcherDoneAnything ":!0});m.fetchers.set(Se,Je),de({fetchers:new Map(m.fetchers)});let ke=new AbortController,At=ng(e.history,ne,ke.signal);P.set(Se,ke);let It=await tg("loader",At,z,W,h.basename);if(of(It)&&(It=await uq(It,At.signal,!0)||It),P.get(Se)===ke&&P.delete(Se),At.signal.aborted)return;if(Zd(It)){await Pe(m,It);return}if(Lm(It)){let Ot=Vd(m.matches,Ue);m.fetchers.delete(Se),de({fetchers:new Map(m.fetchers),errors:{[Ot.route.id]:It.error}});return}wn(!of(It),"Unhandled fetcher deferred data");let Nt={state:"idle",data:It.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Se,Nt),de({fetchers:new Map(m.fetchers)})}async function Pe(Se,Ue,ne){var z;let{submission:W,replace:G,isFetchActionRedirect:je}=ne===void 0?{}:ne;Ue.revalidate&&(b=!0);let Je=Um(Se.location,Ue.location,Qn({_isRedirect:!0},je?{_isFetchActionRedirect:!0}:{}));if(wn(Je,"Expected a location on the redirect navigation"),iq&&typeof((z=window)==null?void 0:z.location)<"u"){let zt=e.history.createURL(Ue.location).origin;if(window.location.origin!==zt){G?window.location.replace(Ue.location):window.location.assign(Ue.location);return}}_=null;let ke=G===!0?si.Replace:si.Push,{formMethod:At,formAction:It,formEncType:Nt,formData:Ot}=Se.navigation;!W&&At&&It&&Ot&&Nt&&(W={formMethod:At,formAction:It,formEncType:Nt,formData:Ot}),uJ.has(Ue.status)&&W&&wu(W.formMethod)?await ie(ke,Je,{submission:Qn({},W,{formAction:Ue.location}),preventScrollReset:v}):await ie(ke,Je,{overrideNavigation:{state:"loading",location:Je,formMethod:W?W.formMethod:void 0,formAction:W?W.formAction:void 0,formEncType:W?W.formEncType:void 0,formData:W?W.formData:void 0},preventScrollReset:v})}async function Ne(Se,Ue,ne,z,W){let G=await Promise.all([...ne.map(ke=>tg("loader",W,ke,Ue,h.basename)),...z.map(ke=>tg("loader",ng(e.history,ke.path,W.signal),ke.match,ke.matches,h.basename))]),je=G.slice(0,ne.length),Je=G.slice(ne.length);return await Promise.all([ck(Se,ne,je,W.signal,!1,m.loaderData),ck(Se,z.map(ke=>ke.match),Je,W.signal,!0)]),{results:G,loaderResults:je,fetcherResults:Je}}function Xe(){b=!0,x.push(...tt()),Y.forEach((Se,Ue)=>{P.has(Ue)&&(R.push(Ue),$(Ue))})}function oe(Se,Ue,ne){let z=Vd(m.matches,Ue);H(Se),de({errors:{[z.route.id]:ne},fetchers:new Map(m.fetchers)})}function H(Se){P.has(Se)&&$(Se),Y.delete(Se),F.delete(Se),Q.delete(Se),m.fetchers.delete(Se)}function $(Se){let Ue=P.get(Se);wn(Ue,"Expected fetch controller: "+Se),Ue.abort(),P.delete(Se)}function ae(Se){for(let Ue of Se){let z={state:"idle",data:ee(Ue).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(Ue,z)}}function Z(){let Se=[];for(let Ue of Q){let ne=m.fetchers.get(Ue);wn(ne,"Expected fetcher: "+Ue),ne.state==="loading"&&(Q.delete(Ue),Se.push(Ue))}ae(Se)}function he(Se){let Ue=[];for(let[ne,z]of F)if(z<Se){let W=m.fetchers.get(ne);wn(W,"Expected fetcher: "+ne),W.state==="loading"&&($(ne),F.delete(ne),Ue.push(ne))}return ae(Ue),Ue.length>0}function ye(Se,Ue){let ne=m.blockers.get(Se)||nk;return ce.get(Se)!==Ue&&(ce.set(Se,Ue),X==null?X=Se:Se!==X&&qm(!1,"A router only supports one blocker at a time")),ne}function He(Se){m.blockers.delete(Se),ce.delete(Se),X===Se&&(X=null)}function Ee(Se,Ue){let ne=m.blockers.get(Se)||nk;wn(ne.state==="unblocked"&&Ue.state==="blocked"||ne.state==="blocked"&&Ue.state==="blocked"||ne.state==="blocked"&&Ue.state==="proceeding"||ne.state==="blocked"&&Ue.state==="unblocked"||ne.state==="proceeding"&&Ue.state==="unblocked","Invalid blocker state transition: "+ne.state+" -> "+Ue.state),m.blockers.set(Se,Ue),de({blockers:new Map(m.blockers)})}function Fe(Se){let{currentLocation:Ue,nextLocation:ne,historyAction:z}=Se;if(X==null)return;let W=ce.get(X);wn(W,"Could not find a function for the active blocker");let G=m.blockers.get(X);if(!(G&&G.state==="proceeding")&&W({currentLocation:Ue,nextLocation:ne,historyAction:z}))return X}function tt(Se){let Ue=[];return U.forEach((ne,z)=>{(!Se||Se(z))&&(ne.cancel(),Ue.push(z),U.delete(z))}),Ue}function nt(Se,Ue,ne){if(i=Se,o=Ue,a=ne||(z=>z.key),!s&&m.navigation===XS){s=!0;let z=qt(m.location,m.matches);z!=null&&de({restoreScrollPosition:z})}return()=>{i=null,o=null,a=null}}function gt(Se,Ue){if(i&&a&&o){let ne=Ue.map(W=>fk(W,m.loaderData)),z=a(Se,ne)||Se.key;i[z]=o()}}function qt(Se,Ue){if(i&&a&&o){let ne=Ue.map(G=>fk(G,m.loaderData)),z=a(Se,ne)||Se.key,W=i[z];if(typeof W=="number")return W}return null}return h={get basename(){return e.basename},get state(){return m},get routes(){return t},initialize:se,subscribe:_e,enableScrollRestoration:nt,navigate:Ae,fetch:ge,revalidate:k,createHref:Se=>e.history.createHref(Se),encodeLocation:Se=>e.history.encodeLocation(Se),getFetcher:ee,deleteFetcher:H,dispose:pe,getBlocker:ye,deleteBlocker:He,_internalFetchControllers:P,_internalActiveDeferreds:U},h}function dJ(e){return e!=null&&"formData"in e}function rk(e,t,n){n===void 0&&(n=!1);let r=typeof e=="string"?e:Os(e);if(!t||!dJ(t))return{path:r};if(t.formMethod&&!vJ(t.formMethod))return{path:r,error:Cl(405,{method:t.formMethod})};let i;if(t.formData&&(i={formMethod:t.formMethod||"get",formAction:sq(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData},wu(i.formMethod)))return{path:r,submission:i};let a=ku(r),o=oq(t.formData);return n&&a.search&&lq(a.search)&&o.append("index",""),a.search="?"+o,{path:Os(a),submission:i}}function hJ(e,t){let n=e;if(t){let r=e.findIndex(i=>i.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function ik(e,t,n,r,i,a,o,s,l,c,d){let h=c?Object.values(c)[0]:l?Object.values(l)[0]:void 0,m=e.createURL(t.location),y=e.createURL(i),v=a||m.toString()===y.toString()||m.search!==y.search,_=c?Object.keys(c)[0]:void 0,b=hJ(n,_).filter((R,P)=>{if(R.route.loader==null)return!1;if(pJ(t.loaderData,t.matches[P],R)||o.some(F=>F===R.route.id))return!0;let O=t.matches[P],D=R;return ak(R,Qn({currentUrl:m,currentParams:O.params,nextUrl:y,nextParams:D.params},r,{actionResult:h,defaultShouldRevalidate:v||aq(O,D)}))}),x=[];return d&&d.forEach((R,P)=>{if(n.some(O=>O.route.id===R.routeId))s.includes(P)?x.push(Qn({key:P},R)):ak(R.match,Qn({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:h,defaultShouldRevalidate:v}))&&x.push(Qn({key:P},R));else return}),[b,x]}function pJ(e,t,n){let r=!t||n.route.id!==t.route.id,i=e[n.route.id]===void 0;return r||i}function aq(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ak(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function tg(e,t,n,r,i,a,o,s){i===void 0&&(i="/"),a===void 0&&(a=!1),o===void 0&&(o=!1);let l,c,d,h=new Promise((y,v)=>d=v),m=()=>d();t.signal.addEventListener("abort",m);try{let y=n.route[e];wn(y,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),c=await Promise.race([y({request:t,params:n.params,context:s}),h]),wn(c!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(y){l=Ni.error,c=y}finally{t.signal.removeEventListener("abort",m)}if(yJ(c)){let y=c.status;if(sJ.has(y)){let S=c.headers.get("Location");if(wn(S,"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(S)){if(!a){let x=new URL(t.url),R=S.startsWith("//")?new URL(x.protocol+S):new URL(S);R.origin===x.origin&&(S=R.pathname+R.search+R.hash)}}else{let x=r.slice(0,r.indexOf(n)+1),R=Vw(x).map(O=>O.pathnameBase),P=LP(S,R,new URL(t.url).pathname);if(wn(Os(P),"Unable to resolve redirect location: "+S),i){let O=P.pathname;P.pathname=O==="/"?i:xu([i,O])}S=Os(P)}if(a)throw c.headers.set("Location",S),c;return{type:Ni.redirect,status:y,location:S,revalidate:c.headers.get("X-Remix-Revalidate")!==null}}if(o)throw{type:l||Ni.data,response:c};let v,_=c.headers.get("Content-Type");return _&&/\bapplication\/json\b/.test(_)?v=await c.json():v=await c.text(),l===Ni.error?{type:l,error:new IP(y,c.statusText,v),headers:c.headers}:{type:Ni.data,data:v,statusCode:c.status,headers:c.headers}}return l===Ni.error?{type:l,error:c}:c instanceof tJ?{type:Ni.deferred,deferredData:c}:{type:Ni.data,data:c}}function ng(e,t,n,r){let i=e.createURL(sq(t)).toString(),a={signal:n};if(r&&wu(r.formMethod)){let{formMethod:o,formEncType:s,formData:l}=r;a.method=o.toUpperCase(),a.body=s==="application/x-www-form-urlencoded"?oq(l):l}return new Request(i,a)}function oq(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function gJ(e,t,n,r,i){let a={},o=null,s,l=!1,c={};return n.forEach((d,h)=>{let m=t[h].route.id;if(wn(!Zd(d),"Cannot handle redirect results in processLoaderData"),Lm(d)){let y=Vd(e,m),v=d.error;r&&(v=Object.values(r)[0],r=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=v),a[m]=void 0,l||(l=!0,s=nq(d.error)?d.error.status:500),d.headers&&(c[m]=d.headers)}else of(d)?(i.set(m,d.deferredData),a[m]=d.deferredData.data):a[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(s=d.statusCode),d.headers&&(c[m]=d.headers)}),r&&(o=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:o,statusCode:s||200,loaderHeaders:c}}function ok(e,t,n,r,i,a,o,s){let{loaderData:l,errors:c}=gJ(t,n,r,i,s);for(let d=0;d<a.length;d++){let{key:h,match:m}=a[d];wn(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let y=o[d];if(Lm(y)){let v=Vd(e.matches,m.route.id);c&&c[v.route.id]||(c=Qn({},c,{[v.route.id]:y.error})),e.fetchers.delete(h)}else if(Zd(y))wn(!1,"Unhandled fetcher revalidation redirect");else if(of(y))wn(!1,"Unhandled fetcher deferred data");else{let v={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,v)}}return{loaderData:l,errors:c}}function sk(e,t,n,r){let i=Qn({},t);for(let a of n){let o=a.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(i[o]=t[o]):e[o]!==void 0&&(i[o]=e[o]),r&&r.hasOwnProperty(o))break}return i}function Vd(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function uk(e){let t=e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Cl(e,t){let{pathname:n,routeId:r,method:i,type:a}=t===void 0?{}:t,o="Unknown Server Error",s="Unknown @remix-run/router error";return e===400?(o="Bad Request",i&&n&&r?s="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":a==="defer-action"&&(s="defer() is not supported in actions")):e===403?(o="Forbidden",s='Route "'+r+'" does not match URL "'+n+'"'):e===404?(o="Not Found",s='No route matches URL "'+n+'"'):e===405&&(o="Method Not Allowed",i&&n&&r?s="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(s='Invalid request method "'+i.toUpperCase()+'"')),new IP(e||500,o,new Error(s),!0)}function lk(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Zd(n))return n}}function sq(e){let t=typeof e=="string"?ku(e):e;return Os(Qn({},t,{hash:""}))}function mJ(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function of(e){return e.type===Ni.deferred}function Lm(e){return e.type===Ni.error}function Zd(e){return(e&&e.type)===Ni.redirect}function yJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function vJ(e){return oJ.has(e)}function wu(e){return iJ.has(e)}async function ck(e,t,n,r,i,a){for(let o=0;o<n.length;o++){let s=n[o],l=t[o],c=e.find(h=>h.route.id===l.route.id),d=c!=null&&!aq(c,l)&&(a&&a[l.route.id])!==void 0;of(s)&&(i||d)&&await uq(s,r,i).then(h=>{h&&(n[o]=h||n[o])})}}async function uq(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:Ni.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Ni.error,error:i}}return{type:Ni.data,data:e.deferredData.data}}}function lq(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function fk(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function dk(e,t){let n=typeof t=="string"?ku(t).search:t.search;if(e[e.length-1].route.index&&lq(n||""))return e[e.length-1];let r=Vw(e);return r[r.length-1]}/**
 * React Router v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(this,arguments)}function _J(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const wJ=typeof Object.is=="function"?Object.is:_J,{useState:bJ,useEffect:SJ,useLayoutEffect:xJ,useDebugValue:EJ}=bh;function CJ(e,t,n){const r=t(),[{inst:i},a]=bJ({inst:{value:r,getSnapshot:t}});return xJ(()=>{i.value=r,i.getSnapshot=t,YS(i)&&a({inst:i})},[e,r,t]),SJ(()=>(YS(i)&&a({inst:i}),e(()=>{YS(i)&&a({inst:i})})),[e]),EJ(r),r}function YS(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!wJ(n,r)}catch{return!0}}function TJ(e,t,n){return t()}const RJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",AJ=!RJ,PJ=AJ?TJ:CJ,OJ="useSyncExternalStore"in bh?(e=>e.useSyncExternalStore)(bh):PJ,MP=V.createContext(null),yy=V.createContext(null),vy=V.createContext(null),Kw=V.createContext(null),tc=V.createContext({outlet:null,matches:[]}),cq=V.createContext(null);function LJ(e,t){let{relative:n}=t===void 0?{}:t;Nh()||wn(!1);let{basename:r,navigator:i}=V.useContext(vy),{hash:a,pathname:o,search:s}=kP(e,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:xu([r,o])),i.createHref({pathname:l,search:s,hash:a})}function Nh(){return V.useContext(Kw)!=null}function Fh(){return Nh()||wn(!1),V.useContext(Kw).location}function kf(){Nh()||wn(!1);let{basename:e,navigator:t}=V.useContext(vy),{matches:n}=V.useContext(tc),{pathname:r}=Fh(),i=JSON.stringify(Vw(n).map(s=>s.pathnameBase)),a=V.useRef(!1);return V.useEffect(()=>{a.current=!0}),V.useCallback(function(s,l){if(l===void 0&&(l={}),!a.current)return;if(typeof s=="number"){t.go(s);return}let c=LP(s,JSON.parse(i),r,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:xu([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,i,r])}const IJ=V.createContext(null);function MJ(e){let t=V.useContext(tc).outlet;return t&&V.createElement(IJ.Provider,{value:e},t)}function DP(){let{matches:e}=V.useContext(tc),t=e[e.length-1];return t?t.params:{}}function kP(e,t){let{relative:n}=t===void 0?{}:t,{matches:r}=V.useContext(tc),{pathname:i}=Fh(),a=JSON.stringify(Vw(r).map(o=>o.pathnameBase));return V.useMemo(()=>LP(e,JSON.parse(a),i,n==="path"),[e,a,i,n])}function DJ(e,t){Nh()||wn(!1);let{navigator:n}=V.useContext(vy),r=V.useContext(yy),{matches:i}=V.useContext(tc),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l=Fh(),c;if(t){var d;let _=typeof t=="string"?ku(t):t;s==="/"||(d=_.pathname)!=null&&d.startsWith(s)||wn(!1),c=_}else c=l;let h=c.pathname||"/",m=s==="/"?h:h.slice(s.length)||"/",y=mm(e,{pathname:m}),v=jJ(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:xu([s,n.encodeLocation?n.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?s:xu([s,n.encodeLocation?n.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r||void 0);return t&&v?V.createElement(Kw.Provider,{value:{location:nw({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:si.Pop}},v):v}function kJ(){let e=qJ(),t=nq(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:i},n):null,null)}class NJ extends V.Component{constructor(t){super(t),this.state={location:t.location,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location?{error:t.error,location:t.location}:{error:t.error||n.error,location:n.location}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?V.createElement(tc.Provider,{value:this.props.routeContext},V.createElement(cq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FJ(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(MP);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(tc.Provider,{value:t},r)}function jJ(e,t,n){if(t===void 0&&(t=[]),e==null)if(n!=null&&n.errors)e=n.matches;else return null;let r=e,i=n==null?void 0:n.errors;if(i!=null){let a=r.findIndex(o=>o.route.id&&(i==null?void 0:i[o.route.id]));a>=0||wn(!1),r=r.slice(0,Math.min(r.length,a+1))}return r.reduceRight((a,o,s)=>{let l=o.route.id?i==null?void 0:i[o.route.id]:null,c=n?o.route.errorElement||V.createElement(kJ,null):null,d=t.concat(r.slice(0,s+1)),h=()=>V.createElement(FJ,{match:o,routeContext:{outlet:a,matches:d}},l?c:o.route.element!==void 0?o.route.element:a);return n&&(o.route.errorElement||s===0)?V.createElement(NJ,{location:n.location,component:c,error:l,children:h(),routeContext:{outlet:null,matches:d}}):h()},null)}var hk;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"})(hk||(hk={}));var rw;(function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"})(rw||(rw={}));function $J(e){let t=V.useContext(yy);return t||wn(!1),t}function BJ(e){let t=V.useContext(tc);return t||wn(!1),t}function UJ(e){let t=BJ(),n=t.matches[t.matches.length-1];return n.route.id||wn(!1),n.route.id}function qJ(){var e;let t=V.useContext(cq),n=$J(rw.UseRouteError),r=UJ(rw.UseRouteError);return t||((e=n.errors)==null?void 0:e[r])}function zJ(e){let{fallbackElement:t,router:n}=e,r=OJ(n.subscribe,()=>n.state,()=>n.state),i=V.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:o=>n.navigate(o),push:(o,s,l)=>n.navigate(o,{state:s,preventScrollReset:l==null?void 0:l.preventScrollReset}),replace:(o,s,l)=>n.navigate(o,{replace:!0,state:s,preventScrollReset:l==null?void 0:l.preventScrollReset})}),[n]),a=n.basename||"/";return V.createElement(V.Fragment,null,V.createElement(MP.Provider,{value:{router:n,navigator:i,static:!1,basename:a}},V.createElement(yy.Provider,{value:r},V.createElement(VJ,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?V.createElement(KJ,null):t))),null)}function NP(e){let{to:t,replace:n,state:r,relative:i}=e;Nh()||wn(!1);let a=V.useContext(yy),o=kf();return V.useEffect(()=>{a&&a.navigation.state!=="idle"||o(t,{replace:n,state:r,relative:i})}),null}function Gw(e){return MJ(e.context)}function HJ(e){wn(!1)}function VJ(e){let{basename:t="/",children:n=null,location:r,navigationType:i=si.Pop,navigator:a,static:o=!1}=e;Nh()&&wn(!1);let s=t.replace(/^\/*/,"/"),l=V.useMemo(()=>({basename:s,navigator:a,static:o}),[s,a,o]);typeof r=="string"&&(r=ku(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:y="default"}=r,v=V.useMemo(()=>{let _=tq(c,s);return _==null?null:{pathname:_,search:d,hash:h,state:m,key:y}},[s,c,d,h,m,y]);return v==null?null:V.createElement(vy.Provider,{value:l},V.createElement(Kw.Provider,{children:n,value:{location:v,navigationType:i}}))}function KJ(e){let{children:t,location:n}=e,r=V.useContext(MP),i=r&&!t?r.router.routes:gA(t);return DJ(i,n)}var pk;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(pk||(pk={}));new Promise(()=>{});function gA(e,t){t===void 0&&(t=[]);let n=[];return V.Children.forEach(e,(r,i)=>{if(!V.isValidElement(r))return;if(r.type===V.Fragment){n.push.apply(n,gA(r.props.children,t));return}r.type!==HJ&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a=[...t,i],o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=gA(r.props.children,a)),n.push(o)}),n}function fq(e){return e.map(t=>{let n=nw({},t);return n.hasErrorBoundary==null&&(n.hasErrorBoundary=n.errorElement!=null),n.children&&(n.children=fq(n.children)),n})}/**
 * React Router DOM v6.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zm.apply(this,arguments)}function dq(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function GJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function WJ(e,t){return e.button===0&&(!t||t==="_self")&&!GJ(e)}function mA(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function QJ(e,t){let n=mA(e);if(t)for(let r of t.keys())n.has(r)||t.getAll(r).forEach(i=>{n.append(r,i)});return n}const ZJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],JJ=["aria-current","caseSensitive","className","end","style","to","children"];function XJ(e,t){return fJ({basename:void 0,history:IZ({window:void 0}),hydrationData:YJ(),routes:fq(e)}).initialize()}function YJ(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=zm({},t,{errors:eX(t.errors)})),t}function eX(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,i]of t)if(i&&i.__type==="RouteErrorResponse")n[r]=new IP(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let a=new Error(i.message);a.stack="",n[r]=a}else n[r]=i;return n}const tX=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ko=V.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:c,preventScrollReset:d}=t,h=dq(t,ZJ),m=typeof c=="string"?c:Os(c),y=/^[a-z+]+:\/\//i.test(m)||m.startsWith("//"),v=m,_=!1;if(tX&&y){let R=new URL(window.location.href),P=m.startsWith("//")?new URL(R.protocol+m):new URL(m);P.origin===R.origin?v=P.pathname+P.search+P.hash:_=!0}let S=LJ(v,{relative:i}),b=rX(v,{replace:o,state:s,target:l,preventScrollReset:d,relative:i});function x(R){r&&r(R),R.defaultPrevented||b(R)}return V.createElement("a",zm({},h,{href:y?m:S,onClick:_||a?r:x,ref:n,target:l}))}),nX=V.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,children:c}=t,d=dq(t,JJ),h=kP(l,{relative:d.relative}),m=Fh(),y=V.useContext(yy),{navigator:v}=V.useContext(vy),_=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,S=m.pathname,b=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(S=S.toLowerCase(),b=b?b.toLowerCase():null,_=_.toLowerCase());let x=S===_||!o&&S.startsWith(_)&&S.charAt(_.length)==="/",R=b!=null&&(b===_||!o&&b.startsWith(_)&&b.charAt(_.length)==="/"),P=x?r:void 0,O;typeof a=="function"?O=a({isActive:x,isPending:R}):O=[a,x?"active":null,R?"pending":null].filter(Boolean).join(" ");let D=typeof s=="function"?s({isActive:x,isPending:R}):s;return V.createElement(Ko,zm({},d,{"aria-current":P,className:O,ref:n,style:D,to:l}),typeof c=="function"?c({isActive:x,isPending:R}):c)});var gk;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(gk||(gk={}));var mk;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mk||(mk={}));function rX(e,t){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o}=t===void 0?{}:t,s=kf(),l=Fh(),c=kP(e,{relative:o});return V.useCallback(d=>{if(WJ(d,n)){d.preventDefault();let h=r!==void 0?r:Os(l)===Os(c);s(e,{replace:h,state:i,preventScrollReset:a,relative:o})}},[l,s,c,r,i,n,e,a,o])}function iX(e){let t=V.useRef(mA(e)),n=V.useRef(!1),r=Fh(),i=V.useMemo(()=>QJ(r.search,n.current?null:t.current),[r.search]),a=kf(),o=V.useCallback((s,l)=>{const c=mA(typeof s=="function"?s(i):s);n.current=!0,a("?"+c,l)},[a,i]);return[i,o]}function P0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?P0=function(n){return typeof n}:P0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},P0(e)}function aX(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sX(e,t,n){return oX(e.prototype,t),e}function uX(e,t){return t&&(P0(t)==="object"||typeof t=="function")?t:O0(e)}function yA(e){return yA=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},yA(e)}function O0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vA(e,t)}function vA(e,t){return vA=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},vA(e,t)}function L0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hq=function(e){lX(t,e);function t(){var n,r;aX(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=uX(this,(n=yA(t)).call.apply(n,[this].concat(a))),L0(O0(r),"state",{bootstrapped:!1}),L0(O0(r),"_unsubscribe",void 0),L0(O0(r),"handlePersistorState",function(){var s=r.props.persistor,l=s.getState(),c=l.bootstrapped;c&&(r.props.onBeforeLift?Promise.resolve(r.props.onBeforeLift()).finally(function(){return r.setState({bootstrapped:!0})}):r.setState({bootstrapped:!0}),r._unsubscribe&&r._unsubscribe())}),r}return sX(t,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),t}(V.PureComponent);L0(hq,"defaultProps",{children:null,loading:null});const cX="modulepreload",fX=function(e){return"/"+e},yk={},vk=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=fX(l),l in yk)return;yk[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":cX,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((m,y)=>{h.addEventListener("load",m),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},dX=(e,t,n)=>{const r=e[t];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((i,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})},nc=AZ,jr=LZ,pq="https://solidweb.me/solidcouch/community#us",gq="solidcouch",hX="https://service.notifications.tired.bike",pX="https://id.notifications.tired.bike/profile/card#me",mq="simple",yq="",vq="",_q="SolidCouch",gX="0.3.0",I0="aa9530b47520c449d159e36dc9aabaf9b65bb3a5",mX=I0==null?void 0:I0.slice(0,7),_k="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(198,%20105,%2018)'/%3e%3cstop%20offset='1'%20stop-color='rgb(209,%20129,%2076)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(151,%2089,%2046)'/%3e%3cstop%20offset='1'%20stop-color='rgb(183,%20108,%2056)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e",wk="data:image/svg+xml,%3csvg%20viewBox='0%200%20500%20820'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xml:space='preserve'%20style='fill-rule:%20evenodd;%20clip-rule:%20evenodd;%20stroke-linecap:%20round;'%3e%3cdefs%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(2.30025e-15,-37.566,37.566,2.30025e-15,416.455,540.999)'%20id='map-marker-38-f'%3e%3cstop%20offset='0'%20stop-color='rgb(18,111,198)'/%3e%3cstop%20offset='1'%20stop-color='rgb(76,156,209)'/%3e%3c/linearGradient%3e%3clinearGradient%20x1='0'%20y1='0'%20x2='1'%20y2='0'%20gradientUnits='userSpaceOnUse'%20gradientTransform='matrix(1.16666e-15,-19.053,19.053,1.16666e-15,414.482,522.486)'%20id='map-marker-38-s'%3e%3cstop%20offset='0'%20stop-color='rgb(46,108,151)'/%3e%3cstop%20offset='1'%20stop-color='rgb(56,131,183)'/%3e%3c/linearGradient%3e%3c/defs%3e%3cg%20transform='matrix(19.5417,0,0,19.5417,-7889.1,-9807.44)'%3e%3cpath%20d='M416.544,503.612C409.971,503.612%20404.5,509.303%20404.5,515.478C404.5,518.256%20406.064,521.786%20407.194,524.224L416.5,542.096L425.762,524.224C426.892,521.786%20428.5,518.433%20428.5,515.478C428.5,509.303%20423.117,503.612%20416.544,503.612ZM416.544,510.767C419.128,510.784%20421.223,512.889%20421.223,515.477C421.223,518.065%20419.128,520.14%20416.544,520.156C413.96,520.139%20411.865,518.066%20411.865,515.477C411.865,512.889%20413.96,510.784%20416.544,510.767Z'%20stroke-width='1.1px'%20fill='url(%23map-marker-38-f)'%20stroke='url(%23map-marker-38-s)'/%3e%3c/g%3e%3c/svg%3e";var ym={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var yX=ym.exports,bk;function vX(){return bk||(bk=1,function(e,t){(function(n,r){r(t)})(yX,function(n){var r="1.9.4";function i(p){var w,I,q,re;for(I=1,q=arguments.length;I<q;I++){re=arguments[I];for(w in re)p[w]=re[w]}return p}var a=Object.create||function(){function p(){}return function(w){return p.prototype=w,new p}}();function o(p,w){var I=Array.prototype.slice;if(p.bind)return p.bind.apply(p,I.call(arguments,1));var q=I.call(arguments,2);return function(){return p.apply(w,q.length?q.concat(I.call(arguments)):arguments)}}var s=0;function l(p){return"_leaflet_id"in p||(p._leaflet_id=++s),p._leaflet_id}function c(p,w,I){var q,re,ve,Ge;return Ge=function(){q=!1,re&&(ve.apply(I,re),re=!1)},ve=function(){q?re=arguments:(p.apply(I,arguments),setTimeout(Ge,w),q=!0)},ve}function d(p,w,I){var q=w[1],re=w[0],ve=q-re;return p===q&&I?p:((p-re)%ve+ve)%ve+re}function h(){return!1}function m(p,w){if(w===!1)return p;var I=Math.pow(10,w===void 0?6:w);return Math.round(p*I)/I}function y(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function v(p){return y(p).split(/\s+/)}function _(p,w){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?a(p.options):{});for(var I in w)p.options[I]=w[I];return p.options}function S(p,w,I){var q=[];for(var re in p)q.push(encodeURIComponent(I?re.toUpperCase():re)+"="+encodeURIComponent(p[re]));return(!w||w.indexOf("?")===-1?"?":"&")+q.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function x(p,w){return p.replace(b,function(I,q){var re=w[q];if(re===void 0)throw new Error("No value provided for variable "+I);return typeof re=="function"&&(re=re(w)),re})}var R=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function P(p,w){for(var I=0;I<p.length;I++)if(p[I]===w)return I;return-1}var O="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var F=0;function Q(p){var w=+new Date,I=Math.max(0,16-(w-F));return F=w+I,window.setTimeout(p,I)}var Y=window.requestAnimationFrame||D("RequestAnimationFrame")||Q,U=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function X(p,w,I){if(I&&Y===Q)p.call(w);else return Y.call(window,o(p,w))}function ce(p){p&&U.call(window,p)}var te={__proto__:null,extend:i,create:a,bind:o,get lastId(){return s},stamp:l,throttle:c,wrapNum:d,falseFn:h,formatNum:m,trim:y,splitWords:v,setOptions:_,getParamString:S,template:x,isArray:R,indexOf:P,emptyImageUrl:O,requestFn:Y,cancelFn:U,requestAnimFrame:X,cancelAnimFrame:ce};function se(){}se.extend=function(p){var w=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},I=w.__super__=this.prototype,q=a(I);q.constructor=w,w.prototype=q;for(var re in this)Object.prototype.hasOwnProperty.call(this,re)&&re!=="prototype"&&re!=="__super__"&&(w[re]=this[re]);return p.statics&&i(w,p.statics),p.includes&&(pe(p.includes),i.apply(null,[q].concat(p.includes))),i(q,p),delete q.statics,delete q.includes,q.options&&(q.options=I.options?a(I.options):{},i(q.options,p.options)),q._initHooks=[],q.callInitHooks=function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this),this._initHooksCalled=!0;for(var ve=0,Ge=q._initHooks.length;ve<Ge;ve++)q._initHooks[ve].call(this)}},w},se.include=function(p){var w=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=w,this.mergeOptions(p.options)),this},se.mergeOptions=function(p){return i(this.prototype.options,p),this},se.addInitHook=function(p){var w=Array.prototype.slice.call(arguments,1),I=typeof p=="function"?p:function(){this[p].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(I),this};function pe(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=R(p)?p:[p];for(var w=0;w<p.length;w++)p[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var _e={on:function(p,w,I){if(typeof p=="object")for(var q in p)this._on(q,p[q],w);else{p=v(p);for(var re=0,ve=p.length;re<ve;re++)this._on(p[re],w,I)}return this},off:function(p,w,I){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var q in p)this._off(q,p[q],w);else{p=v(p);for(var re=arguments.length===1,ve=0,Ge=p.length;ve<Ge;ve++)re?this._off(p[ve]):this._off(p[ve],w,I)}return this},_on:function(p,w,I,q){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(p,w,I)===!1){I===this&&(I=void 0);var re={fn:w,ctx:I};q&&(re.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(re)}},_off:function(p,w,I){var q,re,ve;if(this._events&&(q=this._events[p],!!q)){if(arguments.length===1){if(this._firingCount)for(re=0,ve=q.length;re<ve;re++)q[re].fn=h;delete this._events[p];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var Ge=this._listens(p,w,I);if(Ge!==!1){var st=q[Ge];this._firingCount&&(st.fn=h,this._events[p]=q=q.slice()),q.splice(Ge,1)}}},fire:function(p,w,I){if(!this.listens(p,I))return this;var q=i({},w,{type:p,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var re=this._events[p];if(re){this._firingCount=this._firingCount+1||1;for(var ve=0,Ge=re.length;ve<Ge;ve++){var st=re[ve],yt=st.fn;st.once&&this.off(p,yt,st.ctx),yt.call(st.ctx||this,q)}this._firingCount--}}return I&&this._propagateEvent(q),this},listens:function(p,w,I,q){typeof p!="string"&&console.warn('"string" type argument expected');var re=w;typeof w!="function"&&(q=!!w,re=void 0,I=void 0);var ve=this._events&&this._events[p];if(ve&&ve.length&&this._listens(p,re,I)!==!1)return!0;if(q){for(var Ge in this._eventParents)if(this._eventParents[Ge].listens(p,w,I,q))return!0}return!1},_listens:function(p,w,I){if(!this._events)return!1;var q=this._events[p]||[];if(!w)return!!q.length;I===this&&(I=void 0);for(var re=0,ve=q.length;re<ve;re++)if(q[re].fn===w&&q[re].ctx===I)return re;return!1},once:function(p,w,I){if(typeof p=="object")for(var q in p)this._on(q,p[q],w,!0);else{p=v(p);for(var re=0,ve=p.length;re<ve;re++)this._on(p[re],w,I,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[l(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[l(p)],this},_propagateEvent:function(p){for(var w in this._eventParents)this._eventParents[w].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};_e.addEventListener=_e.on,_e.removeEventListener=_e.clearAllEventListeners=_e.off,_e.addOneTimeEventListener=_e.once,_e.fireEvent=_e.fire,_e.hasEventListeners=_e.listens;var de=se.extend(_e);function ue(p,w,I){this.x=I?Math.round(p):p,this.y=I?Math.round(w):w}var Ae=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};ue.prototype={clone:function(){return new ue(this.x,this.y)},add:function(p){return this.clone()._add(k(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(k(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new ue(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new ue(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ae(this.x),this.y=Ae(this.y),this},distanceTo:function(p){p=k(p);var w=p.x-this.x,I=p.y-this.y;return Math.sqrt(w*w+I*I)},equals:function(p){return p=k(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=k(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function k(p,w,I){return p instanceof ue?p:R(p)?new ue(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new ue(p.x,p.y):new ue(p,w,I)}function ie(p,w){if(p)for(var I=w?[p,w]:p,q=0,re=I.length;q<re;q++)this.extend(I[q])}ie.prototype={extend:function(p){var w,I;if(!p)return this;if(p instanceof ue||typeof p[0]=="number"||"x"in p)w=I=k(p);else if(p=me(p),w=p.min,I=p.max,!w||!I)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=I.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(I.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(I.y,this.max.y)),this},getCenter:function(p){return k((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return k(this.min.x,this.max.y)},getTopRight:function(){return k(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var w,I;return typeof p[0]=="number"||p instanceof ue?p=k(p):p=me(p),p instanceof ie?(w=p.min,I=p.max):w=I=p,w.x>=this.min.x&&I.x<=this.max.x&&w.y>=this.min.y&&I.y<=this.max.y},intersects:function(p){p=me(p);var w=this.min,I=this.max,q=p.min,re=p.max,ve=re.x>=w.x&&q.x<=I.x,Ge=re.y>=w.y&&q.y<=I.y;return ve&&Ge},overlaps:function(p){p=me(p);var w=this.min,I=this.max,q=p.min,re=p.max,ve=re.x>w.x&&q.x<I.x,Ge=re.y>w.y&&q.y<I.y;return ve&&Ge},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var w=this.min,I=this.max,q=Math.abs(w.x-I.x)*p,re=Math.abs(w.y-I.y)*p;return me(k(w.x-q,w.y-re),k(I.x+q,I.y+re))},equals:function(p){return p?(p=me(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function me(p,w){return!p||p instanceof ie?p:new ie(p,w)}function K(p,w){if(p)for(var I=w?[p,w]:p,q=0,re=I.length;q<re;q++)this.extend(I[q])}K.prototype={extend:function(p){var w=this._southWest,I=this._northEast,q,re;if(p instanceof ge)q=p,re=p;else if(p instanceof K){if(q=p._southWest,re=p._northEast,!q||!re)return this}else return p?this.extend(Re(p)||ee(p)):this;return!w&&!I?(this._southWest=new ge(q.lat,q.lng),this._northEast=new ge(re.lat,re.lng)):(w.lat=Math.min(q.lat,w.lat),w.lng=Math.min(q.lng,w.lng),I.lat=Math.max(re.lat,I.lat),I.lng=Math.max(re.lng,I.lng)),this},pad:function(p){var w=this._southWest,I=this._northEast,q=Math.abs(w.lat-I.lat)*p,re=Math.abs(w.lng-I.lng)*p;return new K(new ge(w.lat-q,w.lng-re),new ge(I.lat+q,I.lng+re))},getCenter:function(){return new ge((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ge(this.getNorth(),this.getWest())},getSouthEast:function(){return new ge(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof ge||"lat"in p?p=Re(p):p=ee(p);var w=this._southWest,I=this._northEast,q,re;return p instanceof K?(q=p.getSouthWest(),re=p.getNorthEast()):q=re=p,q.lat>=w.lat&&re.lat<=I.lat&&q.lng>=w.lng&&re.lng<=I.lng},intersects:function(p){p=ee(p);var w=this._southWest,I=this._northEast,q=p.getSouthWest(),re=p.getNorthEast(),ve=re.lat>=w.lat&&q.lat<=I.lat,Ge=re.lng>=w.lng&&q.lng<=I.lng;return ve&&Ge},overlaps:function(p){p=ee(p);var w=this._southWest,I=this._northEast,q=p.getSouthWest(),re=p.getNorthEast(),ve=re.lat>w.lat&&q.lat<I.lat,Ge=re.lng>w.lng&&q.lng<I.lng;return ve&&Ge},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,w){return p?(p=ee(p),this._southWest.equals(p.getSouthWest(),w)&&this._northEast.equals(p.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(p,w){return p instanceof K?p:new K(p,w)}function ge(p,w,I){if(isNaN(p)||isNaN(w))throw new Error("Invalid LatLng object: ("+p+", "+w+")");this.lat=+p,this.lng=+w,I!==void 0&&(this.alt=+I)}ge.prototype={equals:function(p,w){if(!p)return!1;p=Re(p);var I=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return I<=(w===void 0?1e-9:w)},toString:function(p){return"LatLng("+m(this.lat,p)+", "+m(this.lng,p)+")"},distanceTo:function(p){return Pe.distance(this,Re(p))},wrap:function(){return Pe.wrapLatLng(this)},toBounds:function(p){var w=180*p/40075017,I=w/Math.cos(Math.PI/180*this.lat);return ee([this.lat-w,this.lng-I],[this.lat+w,this.lng+I])},clone:function(){return new ge(this.lat,this.lng,this.alt)}};function Re(p,w,I){return p instanceof ge?p:R(p)&&typeof p[0]!="object"?p.length===3?new ge(p[0],p[1],p[2]):p.length===2?new ge(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new ge(p.lat,"lng"in p?p.lng:p.lon,p.alt):w===void 0?null:new ge(p,w,I)}var Ze={latLngToPoint:function(p,w){var I=this.projection.project(p),q=this.scale(w);return this.transformation._transform(I,q)},pointToLatLng:function(p,w){var I=this.scale(w),q=this.transformation.untransform(p,I);return this.projection.unproject(q)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var w=this.projection.bounds,I=this.scale(p),q=this.transformation.transform(w.min,I),re=this.transformation.transform(w.max,I);return new ie(q,re)},infinite:!1,wrapLatLng:function(p){var w=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,I=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,q=p.alt;return new ge(I,w,q)},wrapLatLngBounds:function(p){var w=p.getCenter(),I=this.wrapLatLng(w),q=w.lat-I.lat,re=w.lng-I.lng;if(q===0&&re===0)return p;var ve=p.getSouthWest(),Ge=p.getNorthEast(),st=new ge(ve.lat-q,ve.lng-re),yt=new ge(Ge.lat-q,Ge.lng-re);return new K(st,yt)}},Pe=i({},Ze,{wrapLng:[-180,180],R:6371e3,distance:function(p,w){var I=Math.PI/180,q=p.lat*I,re=w.lat*I,ve=Math.sin((w.lat-p.lat)*I/2),Ge=Math.sin((w.lng-p.lng)*I/2),st=ve*ve+Math.cos(q)*Math.cos(re)*Ge*Ge,yt=2*Math.atan2(Math.sqrt(st),Math.sqrt(1-st));return this.R*yt}}),Ne=6378137,Xe={R:Ne,MAX_LATITUDE:85.0511287798,project:function(p){var w=Math.PI/180,I=this.MAX_LATITUDE,q=Math.max(Math.min(I,p.lat),-I),re=Math.sin(q*w);return new ue(this.R*p.lng*w,this.R*Math.log((1+re)/(1-re))/2)},unproject:function(p){var w=180/Math.PI;return new ge((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*w,p.x*w/this.R)},bounds:function(){var p=Ne*Math.PI;return new ie([-p,-p],[p,p])}()};function oe(p,w,I,q){if(R(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=w,this._c=I,this._d=q}oe.prototype={transform:function(p,w){return this._transform(p.clone(),w)},_transform:function(p,w){return w=w||1,p.x=w*(this._a*p.x+this._b),p.y=w*(this._c*p.y+this._d),p},untransform:function(p,w){return w=w||1,new ue((p.x/w-this._b)/this._a,(p.y/w-this._d)/this._c)}};function H(p,w,I,q){return new oe(p,w,I,q)}var $=i({},Pe,{code:"EPSG:3857",projection:Xe,transformation:function(){var p=.5/(Math.PI*Xe.R);return H(p,.5,-p,.5)}()}),ae=i({},$,{code:"EPSG:900913"});function Z(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function he(p,w){var I="",q,re,ve,Ge,st,yt;for(q=0,ve=p.length;q<ve;q++){for(st=p[q],re=0,Ge=st.length;re<Ge;re++)yt=st[re],I+=(re?"L":"M")+yt.x+" "+yt.y;I+=w?Ce.svg?"z":"x":""}return I||"M0 0"}var ye=document.documentElement.style,He="ActiveXObject"in window,Ee=He&&!document.addEventListener,Fe="msLaunchUri"in navigator&&!("documentMode"in document),tt=We("webkit"),nt=We("android"),gt=We("android 2")||We("android 3"),qt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Se=nt&&We("Google")&&qt<537&&!("AudioNode"in window),Ue=!!window.opera,ne=!Fe&&We("chrome"),z=We("gecko")&&!tt&&!Ue&&!He,W=!ne&&We("safari"),G=We("phantom"),je="OTransition"in ye,Je=navigator.platform.indexOf("Win")===0,ke=He&&"transition"in ye,At="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!gt,It="MozPerspective"in ye,Nt=!window.L_DISABLE_3D&&(ke||At||It)&&!je&&!G,Ot=typeof orientation<"u"||We("mobile"),zt=Ot&&tt,Ar=Ot&&At,dn=!window.PointerEvent&&window.MSPointerEvent,hn=!!(window.PointerEvent||dn),gr="ontouchstart"in window||!!window.TouchEvent,un=!window.L_NO_TOUCH&&(gr||hn),ln=Ot&&Ue,Mn=Ot&&z,ur=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Le=function(){var p=!1;try{var w=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",h,w),window.removeEventListener("testPassiveEventSupport",h,w)}catch{}return p}(),qe=function(){return!!document.createElement("canvas").getContext}(),bt=!!(document.createElementNS&&Z("svg").createSVGRect),Et=!!bt&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Mt=!bt&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var w=p.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Hn=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function We(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var Ce={ie:He,ielt9:Ee,edge:Fe,webkit:tt,android:nt,android23:gt,androidStock:Se,opera:Ue,chrome:ne,gecko:z,safari:W,phantom:G,opera12:je,win:Je,ie3d:ke,webkit3d:At,gecko3d:It,any3d:Nt,mobile:Ot,mobileWebkit:zt,mobileWebkit3d:Ar,msPointer:dn,pointer:hn,touch:un,touchNative:gr,mobileOpera:ln,mobileGecko:Mn,retina:ur,passiveEvents:Le,canvas:qe,svg:bt,vml:Mt,inlineSvg:Et,mac:Hn,linux:Jn},et=Ce.msPointer?"MSPointerDown":"pointerdown",ft=Ce.msPointer?"MSPointerMove":"pointermove",it=Ce.msPointer?"MSPointerUp":"pointerup",Ct=Ce.msPointer?"MSPointerCancel":"pointercancel",Dt={touchstart:et,touchmove:ft,touchend:it,touchcancel:Ct},Gt={touchstart:qn,touchmove:Cn,touchend:Cn,touchcancel:Cn},Yt={},Ht=!1;function jt(p,w,I){return w==="touchstart"&&En(),Gt[w]?(I=Gt[w].bind(this,I),p.addEventListener(Dt[w],I,!1),I):(console.warn("wrong event specified:",w),h)}function tn(p,w,I){if(!Dt[w]){console.warn("wrong event specified:",w);return}p.removeEventListener(Dt[w],I,!1)}function On(p){Yt[p.pointerId]=p}function Wt(p){Yt[p.pointerId]&&(Yt[p.pointerId]=p)}function Zt(p){delete Yt[p.pointerId]}function En(){Ht||(document.addEventListener(et,On,!0),document.addEventListener(ft,Wt,!0),document.addEventListener(it,Zt,!0),document.addEventListener(Ct,Zt,!0),Ht=!0)}function Cn(p,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var I in Yt)w.touches.push(Yt[I]);w.changedTouches=[w],p(w)}}function qn(p,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&ir(w),Cn(p,w)}function Pr(p){var w={},I,q;for(q in p)I=p[q],w[q]=I&&I.bind?I.bind(p):I;return p=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var Zr=200;function Jr(p,w){p.addEventListener("dblclick",w);var I=0,q;function re(ve){if(ve.detail!==1){q=ve.detail;return}if(!(ve.pointerType==="mouse"||ve.sourceCapabilities&&!ve.sourceCapabilities.firesTouchEvents)){var Ge=Io(ve);if(!(Ge.some(function(yt){return yt instanceof HTMLLabelElement&&yt.attributes.for})&&!Ge.some(function(yt){return yt instanceof HTMLInputElement||yt instanceof HTMLSelectElement}))){var st=Date.now();st-I<=Zr?(q++,q===2&&w(Pr(ve))):q=1,I=st}}}return p.addEventListener("click",re),{dblclick:w,simDblclick:re}}function Mr(p,w){p.removeEventListener("dblclick",w.dblclick),p.removeEventListener("click",w.simDblclick)}var $n=ot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ni=ot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Zi=ni==="webkitTransition"||ni==="OTransition"?ni+"End":"transitionend";function T(p){return typeof p=="string"?document.getElementById(p):p}function C(p,w){var I=p.style[w]||p.currentStyle&&p.currentStyle[w];if((!I||I==="auto")&&document.defaultView){var q=document.defaultView.getComputedStyle(p,null);I=q?q[w]:null}return I==="auto"?null:I}function A(p,w,I){var q=document.createElement(p);return q.className=w||"",I&&I.appendChild(q),q}function N(p){var w=p.parentNode;w&&w.removeChild(p)}function J(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function le(p){var w=p.parentNode;w&&w.lastChild!==p&&w.appendChild(p)}function we(p){var w=p.parentNode;w&&w.firstChild!==p&&w.insertBefore(p,w.firstChild)}function Ie(p,w){if(p.classList!==void 0)return p.classList.contains(w);var I=$e(p);return I.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(I)}function xe(p,w){if(p.classList!==void 0)for(var I=v(w),q=0,re=I.length;q<re;q++)p.classList.add(I[q]);else if(!Ie(p,w)){var ve=$e(p);Me(p,(ve?ve+" ":"")+w)}}function Oe(p,w){p.classList!==void 0?p.classList.remove(w):Me(p,y((" "+$e(p)+" ").replace(" "+w+" "," ")))}function Me(p,w){p.className.baseVal===void 0?p.className=w:p.className.baseVal=w}function $e(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function ze(p,w){"opacity"in p.style?p.style.opacity=w:"filter"in p.style&&Ye(p,w)}function Ye(p,w){var I=!1,q="DXImageTransform.Microsoft.Alpha";try{I=p.filters.item(q)}catch{if(w===1)return}w=Math.round(w*100),I?(I.Enabled=w!==100,I.Opacity=w):p.style.filter+=" progid:"+q+"(opacity="+w+")"}function ot(p){for(var w=document.documentElement.style,I=0;I<p.length;I++)if(p[I]in w)return p[I];return!1}function dt(p,w,I){var q=w||new ue(0,0);p.style[$n]=(Ce.ie3d?"translate("+q.x+"px,"+q.y+"px)":"translate3d("+q.x+"px,"+q.y+"px,0)")+(I?" scale("+I+")":"")}function ut(p,w){p._leaflet_pos=w,Ce.any3d?dt(p,w):(p.style.left=w.x+"px",p.style.top=w.y+"px")}function be(p){return p._leaflet_pos||new ue(0,0)}var De,Be,Ke;if("onselectstart"in document)De=function(){Qt(window,"selectstart",ir)},Be=function(){pn(window,"selectstart",ir)};else{var lt=ot(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);De=function(){if(lt){var p=document.documentElement.style;Ke=p[lt],p[lt]="none"}},Be=function(){lt&&(document.documentElement.style[lt]=Ke,Ke=void 0)}}function mt(){Qt(window,"dragstart",ir)}function $t(){pn(window,"dragstart",ir)}var Tt,gn;function Ft(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Vt(),Tt=p,gn=p.style.outlineStyle,p.style.outlineStyle="none",Qt(window,"keydown",Vt))}function Vt(){Tt&&(Tt.style.outlineStyle=gn,Tt=void 0,gn=void 0,pn(window,"keydown",Vt))}function zn(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Nn(p){var w=p.getBoundingClientRect();return{x:w.width/p.offsetWidth||1,y:w.height/p.offsetHeight||1,boundingClientRect:w}}var Bn={__proto__:null,TRANSFORM:$n,TRANSITION:ni,TRANSITION_END:Zi,get:T,getStyle:C,create:A,remove:N,empty:J,toFront:le,toBack:we,hasClass:Ie,addClass:xe,removeClass:Oe,setClass:Me,getClass:$e,setOpacity:ze,testProp:ot,setTransform:dt,setPosition:ut,getPosition:be,get disableTextSelection(){return De},get enableTextSelection(){return Be},disableImageDrag:mt,enableImageDrag:$t,preventOutline:Ft,restoreOutline:Vt,getSizedParentNode:zn,getScale:Nn};function Qt(p,w,I,q){if(w&&typeof w=="object")for(var re in w)yr(p,re,w[re],I);else{w=v(w);for(var ve=0,Ge=w.length;ve<Ge;ve++)yr(p,w[ve],I,q)}return this}var Gn="_leaflet_events";function pn(p,w,I,q){if(arguments.length===1)Xn(p),delete p[Gn];else if(w&&typeof w=="object")for(var re in w)lr(p,re,w[re],I);else if(w=v(w),arguments.length===2)Xn(p,function(st){return P(w,st)!==-1});else for(var ve=0,Ge=w.length;ve<Ge;ve++)lr(p,w[ve],I,q);return this}function Xn(p,w){for(var I in p[Gn]){var q=I.split(/\d/)[0];(!w||w(q))&&lr(p,q,null,null,I)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function yr(p,w,I,q){var re=w+l(I)+(q?"_"+l(q):"");if(p[Gn]&&p[Gn][re])return this;var ve=function(st){return I.call(q||p,st||window.event)},Ge=ve;!Ce.touchNative&&Ce.pointer&&w.indexOf("touch")===0?ve=jt(p,w,ve):Ce.touch&&w==="dblclick"?ve=Jr(p,ve):"addEventListener"in p?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?p.addEventListener(mr[w]||w,ve,Ce.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ve=function(st){st=st||window.event,Xi(p,st)&&Ge(st)},p.addEventListener(mr[w],ve,!1)):p.addEventListener(w,Ge,!1):p.attachEvent("on"+w,ve),p[Gn]=p[Gn]||{},p[Gn][re]=ve}function lr(p,w,I,q,re){re=re||w+l(I)+(q?"_"+l(q):"");var ve=p[Gn]&&p[Gn][re];if(!ve)return this;!Ce.touchNative&&Ce.pointer&&w.indexOf("touch")===0?tn(p,w,ve):Ce.touch&&w==="dblclick"?Mr(p,ve):"removeEventListener"in p?p.removeEventListener(mr[w]||w,ve,!1):p.detachEvent("on"+w,ve),p[Gn][re]=null}function Ei(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Ji(p){return yr(p,"wheel",Ei),this}function _a(p){return Qt(p,"mousedown touchstart dblclick contextmenu",Ei),p._leaflet_disable_click=!0,this}function ir(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function Ui(p){return ir(p),Ei(p),this}function Io(p){if(p.composedPath)return p.composedPath();for(var w=[],I=p.target;I;)w.push(I),I=I.parentNode;return w}function ar(p,w){if(!w)return new ue(p.clientX,p.clientY);var I=Nn(w),q=I.boundingClientRect;return new ue((p.clientX-q.left)/I.x-w.clientLeft,(p.clientY-q.top)/I.y-w.clientTop)}var Br=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function oo(p){return Ce.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Br:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function Xi(p,w){var I=w.relatedTarget;if(!I)return!0;try{for(;I&&I!==p;)I=I.parentNode}catch{return!1}return I!==p}var Hu={__proto__:null,on:Qt,off:pn,stopPropagation:Ei,disableScrollPropagation:Ji,disableClickPropagation:_a,preventDefault:ir,stop:Ui,getPropagationPath:Io,getMousePosition:ar,getWheelDelta:oo,isExternalTarget:Xi,addListener:Qt,removeListener:pn},so=de.extend({run:function(p,w,I,q){this.stop(),this._el=p,this._inProgress=!0,this._duration=I||.25,this._easeOutPower=1/Math.max(q||.5,.2),this._startPos=be(p),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=X(this._animate,this),this._step()},_step:function(p){var w=+new Date-this._startTime,I=this._duration*1e3;w<I?this._runFrame(this._easeOut(w/I),p):(this._runFrame(1),this._complete())},_runFrame:function(p,w){var I=this._startPos.add(this._offset.multiplyBy(p));w&&I._round(),ut(this._el,I),this.fire("step")},_complete:function(){ce(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),vn=de.extend({options:{crs:$,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,w){w=_(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(Re(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ni&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Qt(this._proxy,Zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,w,I){if(w=w===void 0?this._zoom:this._limitZoom(w),p=this._limitCenter(Re(p),w,this.options.maxBounds),I=I||{},this._stop(),this._loaded&&!I.reset&&I!==!0){I.animate!==void 0&&(I.zoom=i({animate:I.animate},I.zoom),I.pan=i({animate:I.animate,duration:I.duration},I.pan));var q=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,w,I.zoom):this._tryAnimatedPan(p,I.pan);if(q)return clearTimeout(this._sizeTimer),this}return this._resetView(p,w,I.pan&&I.pan.noMoveStart),this},setZoom:function(p,w){return this._loaded?this.setView(this.getCenter(),p,{zoom:w}):(this._zoom=p,this)},zoomIn:function(p,w){return p=p||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,w)},zoomOut:function(p,w){return p=p||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,w)},setZoomAround:function(p,w,I){var q=this.getZoomScale(w),re=this.getSize().divideBy(2),ve=p instanceof ue?p:this.latLngToContainerPoint(p),Ge=ve.subtract(re).multiplyBy(1-1/q),st=this.containerPointToLatLng(re.add(Ge));return this.setView(st,w,{zoom:I})},_getBoundsCenterZoom:function(p,w){w=w||{},p=p.getBounds?p.getBounds():ee(p);var I=k(w.paddingTopLeft||w.padding||[0,0]),q=k(w.paddingBottomRight||w.padding||[0,0]),re=this.getBoundsZoom(p,!1,I.add(q));if(re=typeof w.maxZoom=="number"?Math.min(w.maxZoom,re):re,re===1/0)return{center:p.getCenter(),zoom:re};var ve=q.subtract(I).divideBy(2),Ge=this.project(p.getSouthWest(),re),st=this.project(p.getNorthEast(),re),yt=this.unproject(Ge.add(st).divideBy(2).add(ve),re);return{center:yt,zoom:re}},fitBounds:function(p,w){if(p=ee(p),!p.isValid())throw new Error("Bounds are not valid.");var I=this._getBoundsCenterZoom(p,w);return this.setView(I.center,I.zoom,w)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,w){return this.setView(p,this._zoom,{pan:w})},panBy:function(p,w){if(p=k(p).round(),w=w||{},!p.x&&!p.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new so,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){xe(this._mapPane,"leaflet-pan-anim");var I=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,I,w.duration||.25,w.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,w,I){if(I=I||{},I.animate===!1||!Ce.any3d)return this.setView(p,w,I);this._stop();var q=this.project(this.getCenter()),re=this.project(p),ve=this.getSize(),Ge=this._zoom;p=Re(p),w=w===void 0?Ge:w;var st=Math.max(ve.x,ve.y),yt=st*this.getZoomScale(Ge,w),St=re.distanceTo(q)||1,Bt=1.42,rn=Bt*Bt;function mn(wr){var Qs=wr?-1:1,wc=wr?yt:st,rd=yt*yt-st*st+Qs*rn*rn*St*St,av=2*wc*rn*St,id=rd/av,us=Math.sqrt(id*id+1)-id,ov=us<1e-9?-18:Math.log(us);return ov}function Xr(wr){return(Math.exp(wr)-Math.exp(-wr))/2}function Lr(wr){return(Math.exp(wr)+Math.exp(-wr))/2}function _i(wr){return Xr(wr)/Lr(wr)}var Ci=mn(0);function ss(wr){return st*(Lr(Ci)/Lr(Ci+Bt*wr))}function nv(wr){return st*(Lr(Ci)*_i(Ci+Bt*wr)-Xr(Ci))/rn}function nd(wr){return 1-Math.pow(1-wr,1.5)}var rv=Date.now(),el=(mn(1)-Ci)/Bt,iv=I.duration?1e3*I.duration:1e3*el*.8;function Ws(){var wr=(Date.now()-rv)/iv,Qs=nd(wr)*el;wr<=1?(this._flyToFrame=X(Ws,this),this._move(this.unproject(q.add(re.subtract(q).multiplyBy(nv(Qs)/St)),Ge),this.getScaleZoom(st/ss(Qs),Ge),{flyTo:!0})):this._move(p,w)._moveEnd(!0)}return this._moveStart(!0,I.noMoveStart),Ws.call(this),this},flyToBounds:function(p,w){var I=this._getBoundsCenterZoom(p,w);return this.flyTo(I.center,I.zoom,w)},setMaxBounds:function(p){return p=ee(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var w=this.options.minZoom;return this.options.minZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var w=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,w){this._enforcingBounds=!0;var I=this.getCenter(),q=this._limitCenter(I,this._zoom,ee(p));return I.equals(q)||this.panTo(q,w),this._enforcingBounds=!1,this},panInside:function(p,w){w=w||{};var I=k(w.paddingTopLeft||w.padding||[0,0]),q=k(w.paddingBottomRight||w.padding||[0,0]),re=this.project(this.getCenter()),ve=this.project(p),Ge=this.getPixelBounds(),st=me([Ge.min.add(I),Ge.max.subtract(q)]),yt=st.getSize();if(!st.contains(ve)){this._enforcingBounds=!0;var St=ve.subtract(st.getCenter()),Bt=st.extend(ve).getSize().subtract(yt);re.x+=St.x<0?-Bt.x:Bt.x,re.y+=St.y<0?-Bt.y:Bt.y,this.panTo(this.unproject(re),w),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var I=this.getSize(),q=w.divideBy(2).round(),re=I.divideBy(2).round(),ve=q.subtract(re);return!ve.x&&!ve.y?this:(p.animate&&p.pan?this.panBy(ve):(p.pan&&this._rawPanBy(ve),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:I}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),I=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,I,p):navigator.geolocation.getCurrentPosition(w,I,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var w=p.code,I=p.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+I+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var w=p.coords.latitude,I=p.coords.longitude,q=new ge(w,I),re=q.toBounds(p.coords.accuracy*2),ve=this._locateOptions;if(ve.setView){var Ge=this.getBoundsZoom(re);this.setView(q,ve.maxZoom?Math.min(Ge,ve.maxZoom):Ge)}var st={latlng:q,bounds:re,timestamp:p.timestamp};for(var yt in p.coords)typeof p.coords[yt]=="number"&&(st[yt]=p.coords[yt]);this.fire("locationfound",st)}},addHandler:function(p,w){if(!w)return this;var I=this[p]=new w(this);return this._handlers.push(I),this.options[p]&&I.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),N(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ce(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)N(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,w){var I="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),q=A("div",I,w||this._mapPane);return p&&(this._panes[p]=q),q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),w=this.unproject(p.getBottomLeft()),I=this.unproject(p.getTopRight());return new K(w,I)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,w,I){p=ee(p),I=k(I||[0,0]);var q=this.getZoom()||0,re=this.getMinZoom(),ve=this.getMaxZoom(),Ge=p.getNorthWest(),st=p.getSouthEast(),yt=this.getSize().subtract(I),St=me(this.project(st,q),this.project(Ge,q)).getSize(),Bt=Ce.any3d?this.options.zoomSnap:1,rn=yt.x/St.x,mn=yt.y/St.y,Xr=w?Math.max(rn,mn):Math.min(rn,mn);return q=this.getScaleZoom(Xr,q),Bt&&(q=Math.round(q/(Bt/100))*(Bt/100),q=w?Math.ceil(q/Bt)*Bt:Math.floor(q/Bt)*Bt),Math.max(re,Math.min(ve,q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ue(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,w){var I=this._getTopLeftPoint(p,w);return new ie(I,I.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,w){var I=this.options.crs;return w=w===void 0?this._zoom:w,I.scale(p)/I.scale(w)},getScaleZoom:function(p,w){var I=this.options.crs;w=w===void 0?this._zoom:w;var q=I.zoom(p*I.scale(w));return isNaN(q)?1/0:q},project:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(Re(p),w)},unproject:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(k(p),w)},layerPointToLatLng:function(p){var w=k(p).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(p){var w=this.project(Re(p))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(Re(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(ee(p))},distance:function(p,w){return this.options.crs.distance(Re(p),Re(w))},containerPointToLayerPoint:function(p){return k(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return k(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var w=this.containerPointToLayerPoint(k(p));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Re(p)))},mouseEventToContainerPoint:function(p){return ar(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var w=this._container=T(p);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Qt(w,"scroll",this._onScroll,this),this._containerId=l(w)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,xe(p,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=C(p,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ut(this._mapPane,new ue(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xe(p.markerPane,"leaflet-zoom-hide"),xe(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,w,I){ut(this._mapPane,new ue(0,0));var q=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var re=this._zoom!==w;this._moveStart(re,I)._move(p,w)._moveEnd(re),this.fire("viewreset"),q&&this.fire("load")},_moveStart:function(p,w){return p&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(p,w,I,q){w===void 0&&(w=this._zoom);var re=this._zoom!==w;return this._zoom=w,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),q?I&&I.pinch&&this.fire("zoom",I):((re||I&&I.pinch)&&this.fire("zoom",I),this.fire("move",I)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ce(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){ut(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[l(this._container)]=this;var w=p?pn:Qt;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ce(this._resizeRequest),this._resizeRequest=X(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,w){for(var I=[],q,re=w==="mouseout"||w==="mouseover",ve=p.target||p.srcElement,Ge=!1;ve;){if(q=this._targets[l(ve)],q&&(w==="click"||w==="preclick")&&this._draggableMoved(q)){Ge=!0;break}if(q&&q.listens(w,!0)&&(re&&!Xi(ve,p)||(I.push(q),re))||ve===this._container)break;ve=ve.parentNode}return!I.length&&!Ge&&!re&&this.listens(w,!0)&&(I=[this]),I},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var w=p.target||p.srcElement;if(!(!this._loaded||w._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(w))){var I=p.type;I==="mousedown"&&Ft(w),this._fireDOMEvent(p,I)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,w,I){if(p.type==="click"){var q=i({},p);q.type="preclick",this._fireDOMEvent(q,q.type,I)}var re=this._findEventTargets(p,w);if(I){for(var ve=[],Ge=0;Ge<I.length;Ge++)I[Ge].listens(w,!0)&&ve.push(I[Ge]);re=ve.concat(re)}if(re.length){w==="contextmenu"&&ir(p);var st=re[0],yt={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var St=st.getLatLng&&(!st._radius||st._radius<=10);yt.containerPoint=St?this.latLngToContainerPoint(st.getLatLng()):this.mouseEventToContainerPoint(p),yt.layerPoint=this.containerPointToLayerPoint(yt.containerPoint),yt.latlng=St?st.getLatLng():this.layerPointToLatLng(yt.layerPoint)}for(Ge=0;Ge<re.length;Ge++)if(re[Ge].fire(w,yt,!0),yt.originalEvent._stopped||re[Ge].options.bubblingMouseEvents===!1&&P(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,w=this._handlers.length;p<w;p++)this._handlers[p].disable()},whenReady:function(p,w){return this._loaded?p.call(w||this,{target:this}):this.on("load",p,w),this},_getMapPanePos:function(){return be(this._mapPane)||new ue(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,w){var I=p&&w!==void 0?this._getNewPixelOrigin(p,w):this.getPixelOrigin();return I.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,w){var I=this.getSize()._divideBy(2);return this.project(p,w)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,w,I){var q=this._getNewPixelOrigin(I,w);return this.project(p,w)._subtract(q)},_latLngBoundsToNewLayerBounds:function(p,w,I){var q=this._getNewPixelOrigin(I,w);return me([this.project(p.getSouthWest(),w)._subtract(q),this.project(p.getNorthWest(),w)._subtract(q),this.project(p.getSouthEast(),w)._subtract(q),this.project(p.getNorthEast(),w)._subtract(q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,w,I){if(!I)return p;var q=this.project(p,w),re=this.getSize().divideBy(2),ve=new ie(q.subtract(re),q.add(re)),Ge=this._getBoundsOffset(ve,I,w);return Math.abs(Ge.x)<=1&&Math.abs(Ge.y)<=1?p:this.unproject(q.add(Ge),w)},_limitOffset:function(p,w){if(!w)return p;var I=this.getPixelBounds(),q=new ie(I.min.add(p),I.max.add(p));return p.add(this._getBoundsOffset(q,w))},_getBoundsOffset:function(p,w,I){var q=me(this.project(w.getNorthEast(),I),this.project(w.getSouthWest(),I)),re=q.min.subtract(p.min),ve=q.max.subtract(p.max),Ge=this._rebound(re.x,-ve.x),st=this._rebound(re.y,-ve.y);return new ue(Ge,st)},_rebound:function(p,w){return p+w>0?Math.round(p-w)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(w))},_limitZoom:function(p){var w=this.getMinZoom(),I=this.getMaxZoom(),q=Ce.any3d?this.options.zoomSnap:1;return q&&(p=Math.round(p/q)*q),Math.max(w,Math.min(I,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Oe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,w){var I=this._getCenterOffset(p)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(I)?!1:(this.panBy(I,w),!0)},_createAnimProxy:function(){var p=this._proxy=A("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(w){var I=$n,q=this._proxy.style[I];dt(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),q===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){N(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),w=this.getZoom();dt(this._proxy,this.project(p,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,w,I){if(this._animatingZoom)return!0;if(I=I||{},!this._zoomAnimated||I.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var q=this.getZoomScale(w),re=this._getCenterOffset(p)._divideBy(1-1/q);return I.animate!==!0&&!this.getSize().contains(re)?!1:(X(function(){this._moveStart(!0,I.noMoveStart||!1)._animateZoom(p,w,!0)},this),!0)},_animateZoom:function(p,w,I,q){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=w,xe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:w,noUpdate:q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Oe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ma(p,w){return new vn(p,w)}var cr=se.extend({options:{position:"topright"},initialize:function(p){_(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var w=this._map;return w&&w.removeControl(this),this.options.position=p,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var w=this._container=this.onAdd(p),I=this.getPosition(),q=p._controlCorners[I];return xe(w,"leaflet-control"),I.indexOf("bottom")!==-1?q.insertBefore(w,q.firstChild):q.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(N(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),qi=function(p){return new cr(p)};vn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},w="leaflet-",I=this._controlContainer=A("div",w+"control-container",this._container);function q(re,ve){var Ge=w+re+" "+w+ve;p[re+ve]=A("div",Ge,I)}q("top","left"),q("top","right"),q("bottom","left"),q("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)N(this._controlCorners[p]);N(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var wa=cr.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,w,I,q){return I<q?-1:q<I?1:0}},initialize:function(p,w,I){_(this,I),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var q in p)this._addLayer(p[q],q);for(q in w)this._addLayer(w[q],q,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return cr.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,w){return this._addLayer(p,w),this._map?this._update():this},addOverlay:function(p,w){return this._addLayer(p,w,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var w=this._getLayer(l(p));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){xe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(xe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Oe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Oe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",w=this._container=A("div",p),I=this.options.collapsed;w.setAttribute("aria-haspopup",!0),_a(w),Ji(w);var q=this._section=A("section",p+"-list");I&&(this._map.on("click",this.collapse,this),Qt(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var re=this._layersLink=A("a",p+"-toggle",w);re.href="#",re.title="Layers",re.setAttribute("role","button"),Qt(re,{keydown:function(ve){ve.keyCode===13&&this._expandSafely()},click:function(ve){ir(ve),this._expandSafely()}},this),I||this.expand(),this._baseLayersList=A("div",p+"-base",q),this._separator=A("div",p+"-separator",q),this._overlaysList=A("div",p+"-overlays",q),w.appendChild(q)},_getLayer:function(p){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&l(this._layers[w].layer)===p)return this._layers[w]},_addLayer:function(p,w,I){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:w,overlay:I}),this.options.sortLayers&&this._layers.sort(o(function(q,re){return this.options.sortFunction(q.layer,re.layer,q.name,re.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;J(this._baseLayersList),J(this._overlaysList),this._layerControlInputs=[];var p,w,I,q,re=0;for(I=0;I<this._layers.length;I++)q=this._layers[I],this._addItem(q),w=w||q.overlay,p=p||!q.overlay,re+=q.overlay?0:1;return this.options.hideSingleBase&&(p=p&&re>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=w&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var w=this._getLayer(l(p.target)),I=w.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;I&&this._map.fire(I,w)},_createRadioElement:function(p,w){var I='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(w?' checked="checked"':"")+"/>",q=document.createElement("div");return q.innerHTML=I,q.firstChild},_addItem:function(p){var w=document.createElement("label"),I=this._map.hasLayer(p.layer),q;p.overlay?(q=document.createElement("input"),q.type="checkbox",q.className="leaflet-control-layers-selector",q.defaultChecked=I):q=this._createRadioElement("leaflet-base-layers_"+l(this),I),this._layerControlInputs.push(q),q.layerId=l(p.layer),Qt(q,"click",this._onInputClick,this);var re=document.createElement("span");re.innerHTML=" "+p.name;var ve=document.createElement("span");w.appendChild(ve),ve.appendChild(q),ve.appendChild(re);var Ge=p.overlay?this._overlaysList:this._baseLayersList;return Ge.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,w,I,q=[],re=[];this._handlingClick=!0;for(var ve=p.length-1;ve>=0;ve--)w=p[ve],I=this._getLayer(w.layerId).layer,w.checked?q.push(I):w.checked||re.push(I);for(ve=0;ve<re.length;ve++)this._map.hasLayer(re[ve])&&this._map.removeLayer(re[ve]);for(ve=0;ve<q.length;ve++)this._map.hasLayer(q[ve])||this._map.addLayer(q[ve]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,w,I,q=this._map.getZoom(),re=p.length-1;re>=0;re--)w=p[re],I=this._getLayer(w.layerId).layer,w.disabled=I.options.minZoom!==void 0&&q<I.options.minZoom||I.options.maxZoom!==void 0&&q>I.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Qt(p,"click",ir),this.expand();var w=this;setTimeout(function(){pn(p,"click",ir),w._preventClick=!1})}}),fr=function(p,w,I){return new wa(p,w,I)},Yi=cr.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var w="leaflet-control-zoom",I=A("div",w+" leaflet-bar"),q=this.options;return this._zoomInButton=this._createButton(q.zoomInText,q.zoomInTitle,w+"-in",I,this._zoomIn),this._zoomOutButton=this._createButton(q.zoomOutText,q.zoomOutTitle,w+"-out",I,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),I},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,w,I,q,re){var ve=A("a",I,q);return ve.innerHTML=p,ve.href="#",ve.title=w,ve.setAttribute("role","button"),ve.setAttribute("aria-label",w),_a(ve),Qt(ve,"click",Ui),Qt(ve,"click",re,this),Qt(ve,"click",this._refocusOnMap,this),ve},_updateDisabled:function(){var p=this._map,w="leaflet-disabled";Oe(this._zoomInButton,w),Oe(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(xe(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(xe(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});vn.mergeOptions({zoomControl:!0}),vn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Yi,this.addControl(this.zoomControl))});var uo=function(p){return new Yi(p)},Or=cr.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var w="leaflet-control-scale",I=A("div",w),q=this.options;return this._addScales(q,w+"-line",I),p.on(q.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),I},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,w,I){p.metric&&(this._mScale=A("div",w,I)),p.imperial&&(this._iScale=A("div",w,I))},_update:function(){var p=this._map,w=p.getSize().y/2,I=p.distance(p.containerPointToLatLng([0,w]),p.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(I)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var w=this._getRoundNum(p),I=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,I,w/p)},_updateImperial:function(p){var w=p*3.2808399,I,q,re;w>5280?(I=w/5280,q=this._getRoundNum(I),this._updateScale(this._iScale,q+" mi",q/I)):(re=this._getRoundNum(w),this._updateScale(this._iScale,re+" ft",re/w))},_updateScale:function(p,w,I){p.style.width=Math.round(this.options.maxWidth*I)+"px",p.innerHTML=w},_getRoundNum:function(p){var w=Math.pow(10,(Math.floor(p)+"").length-1),I=p/w;return I=I>=10?10:I>=5?5:I>=3?3:I>=2?2:1,w*I}}),uc=function(p){return new Or(p)},Mo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Da=cr.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Mo+" ":"")+"Leaflet</a>"},initialize:function(p){_(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=A("div","leaflet-control-attribution"),_a(this._container);for(var w in p._layers)p._layers[w].getAttribution&&this.addAttribution(p._layers[w].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var w in this._attributions)this._attributions[w]&&p.push(w);var I=[];this.options.prefix&&I.push(this.options.prefix),p.length&&I.push(p.join(", ")),this._container.innerHTML=I.join(' <span aria-hidden="true">|</span> ')}}});vn.mergeOptions({attributionControl:!0}),vn.addInitHook(function(){this.options.attributionControl&&new Da().addTo(this)});var cp=function(p){return new Da(p)};cr.Layers=wa,cr.Zoom=Yi,cr.Scale=Or,cr.Attribution=Da,qi.layers=fr,qi.zoom=uo,qi.scale=uc,qi.attribution=cp;var ea=se.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ea.addTo=function(p,w){return p.addHandler(w,this),this};var Kf={Events:_e},By=Ce.touch?"touchstart mousedown":"mousedown",os=de.extend({options:{clickTolerance:3},initialize:function(p,w,I,q){_(this,q),this._element=p,this._dragStartTarget=w||p,this._preventOutline=I},enable:function(){this._enabled||(Qt(this._dragStartTarget,By,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(os._dragging===this&&this.finishDrag(!0),pn(this._dragStartTarget,By,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Ie(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){os._dragging===this&&this.finishDrag();return}if(!(os._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(os._dragging=this,this._preventOutline&&Ft(this._element),mt(),De(),!this._moving)){this.fire("down");var w=p.touches?p.touches[0]:p,I=zn(this._element);this._startPoint=new ue(w.clientX,w.clientY),this._startPos=be(this._element),this._parentScale=Nn(I);var q=p.type==="mousedown";Qt(document,q?"mousemove":"touchmove",this._onMove,this),Qt(document,q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var w=p.touches&&p.touches.length===1?p.touches[0]:p,I=new ue(w.clientX,w.clientY)._subtract(this._startPoint);!I.x&&!I.y||Math.abs(I.x)+Math.abs(I.y)<this.options.clickTolerance||(I.x/=this._parentScale.x,I.y/=this._parentScale.y,ir(p),this._moved||(this.fire("dragstart"),this._moved=!0,xe(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(I),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),ut(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Oe(document.body,"leaflet-dragging"),this._lastTarget&&(Oe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pn(document,"mousemove touchmove",this._onMove,this),pn(document,"mouseup touchend touchcancel",this._onUp,this),$t(),Be();var w=this._moved&&this._moving;this._moving=!1,os._dragging=!1,w&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Uy(p,w,I){var q,re=[1,4,2,8],ve,Ge,st,yt,St,Bt,rn,mn;for(ve=0,Bt=p.length;ve<Bt;ve++)p[ve]._code=Fs(p[ve],w);for(st=0;st<4;st++){for(rn=re[st],q=[],ve=0,Bt=p.length,Ge=Bt-1;ve<Bt;Ge=ve++)yt=p[ve],St=p[Ge],yt._code&rn?St._code&rn||(mn=Wf(St,yt,rn,w,I),mn._code=Fs(mn,w),q.push(mn)):(St._code&rn&&(mn=Wf(St,yt,rn,w,I),mn._code=Fs(mn,w),q.push(mn)),q.push(yt));p=q}return p}function Gf(p,w){var I,q,re,ve,Ge,st,yt,St,Bt;if(!p||p.length===0)throw new Error("latlngs not passed");yi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var rn=Re([0,0]),mn=ee(p),Xr=mn.getNorthWest().distanceTo(mn.getSouthWest())*mn.getNorthEast().distanceTo(mn.getNorthWest());Xr<1700&&(rn=fp(p));var Lr=p.length,_i=[];for(I=0;I<Lr;I++){var Ci=Re(p[I]);_i.push(w.project(Re([Ci.lat-rn.lat,Ci.lng-rn.lng])))}for(st=yt=St=0,I=0,q=Lr-1;I<Lr;q=I++)re=_i[I],ve=_i[q],Ge=re.y*ve.x-ve.y*re.x,yt+=(re.x+ve.x)*Ge,St+=(re.y+ve.y)*Ge,st+=Ge*3;st===0?Bt=_i[0]:Bt=[yt/st,St/st];var ss=w.unproject(k(Bt));return Re([ss.lat+rn.lat,ss.lng+rn.lng])}function fp(p){for(var w=0,I=0,q=0,re=0;re<p.length;re++){var ve=Re(p[re]);w+=ve.lat,I+=ve.lng,q++}return Re([w/q,I/q])}var Xb={__proto__:null,clipPolygon:Uy,polygonCenter:Gf,centroid:fp};function qy(p,w){if(!w||!p.length)return p.slice();var I=w*w;return p=t1(p,I),p=e1(p,I),p}function dp(p,w,I){return Math.sqrt(js(p,w,I,!0))}function Yb(p,w,I){return js(p,w,I)}function e1(p,w){var I=p.length,q=typeof Uint8Array<"u"?Uint8Array:Array,re=new q(I);re[0]=re[I-1]=1,hp(p,re,w,0,I-1);var ve,Ge=[];for(ve=0;ve<I;ve++)re[ve]&&Ge.push(p[ve]);return Ge}function hp(p,w,I,q,re){var ve=0,Ge,st,yt;for(st=q+1;st<=re-1;st++)yt=js(p[st],p[q],p[re],!0),yt>ve&&(Ge=st,ve=yt);ve>I&&(w[Ge]=1,hp(p,w,I,q,Ge),hp(p,w,I,Ge,re))}function t1(p,w){for(var I=[p[0]],q=1,re=0,ve=p.length;q<ve;q++)n1(p[q],p[re])>w&&(I.push(p[q]),re=q);return re<ve-1&&I.push(p[ve-1]),I}var zy;function Hy(p,w,I,q,re){var ve=q?zy:Fs(p,I),Ge=Fs(w,I),st,yt,St;for(zy=Ge;;){if(!(ve|Ge))return[p,w];if(ve&Ge)return!1;st=ve||Ge,yt=Wf(p,w,st,I,re),St=Fs(yt,I),st===ve?(p=yt,ve=St):(w=yt,Ge=St)}}function Wf(p,w,I,q,re){var ve=w.x-p.x,Ge=w.y-p.y,st=q.min,yt=q.max,St,Bt;return I&8?(St=p.x+ve*(yt.y-p.y)/Ge,Bt=yt.y):I&4?(St=p.x+ve*(st.y-p.y)/Ge,Bt=st.y):I&2?(St=yt.x,Bt=p.y+Ge*(yt.x-p.x)/ve):I&1&&(St=st.x,Bt=p.y+Ge*(st.x-p.x)/ve),new ue(St,Bt,re)}function Fs(p,w){var I=0;return p.x<w.min.x?I|=1:p.x>w.max.x&&(I|=2),p.y<w.min.y?I|=4:p.y>w.max.y&&(I|=8),I}function n1(p,w){var I=w.x-p.x,q=w.y-p.y;return I*I+q*q}function js(p,w,I,q){var re=w.x,ve=w.y,Ge=I.x-re,st=I.y-ve,yt=Ge*Ge+st*st,St;return yt>0&&(St=((p.x-re)*Ge+(p.y-ve)*st)/yt,St>1?(re=I.x,ve=I.y):St>0&&(re+=Ge*St,ve+=st*St)),Ge=p.x-re,st=p.y-ve,q?Ge*Ge+st*st:new ue(re,ve)}function yi(p){return!R(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Vy(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),yi(p)}function pp(p,w){var I,q,re,ve,Ge,st,yt,St;if(!p||p.length===0)throw new Error("latlngs not passed");yi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Bt=Re([0,0]),rn=ee(p),mn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());mn<1700&&(Bt=fp(p));var Xr=p.length,Lr=[];for(I=0;I<Xr;I++){var _i=Re(p[I]);Lr.push(w.project(Re([_i.lat-Bt.lat,_i.lng-Bt.lng])))}for(I=0,q=0;I<Xr-1;I++)q+=Lr[I].distanceTo(Lr[I+1])/2;if(q===0)St=Lr[0];else for(I=0,ve=0;I<Xr-1;I++)if(Ge=Lr[I],st=Lr[I+1],re=Ge.distanceTo(st),ve+=re,ve>q){yt=(ve-q)/re,St=[st.x-yt*(st.x-Ge.x),st.y-yt*(st.y-Ge.y)];break}var Ci=w.unproject(k(St));return Re([Ci.lat+Bt.lat,Ci.lng+Bt.lng])}var Ky={__proto__:null,simplify:qy,pointToSegmentDistance:dp,closestPointOnSegment:Yb,clipSegment:Hy,_getEdgeIntersection:Wf,_getBitCode:Fs,_sqClosestPointOnSegment:js,isFlat:yi,_flat:Vy,polylineCenter:pp},Qf={project:function(p){return new ue(p.lng,p.lat)},unproject:function(p){return new ge(p.y,p.x)},bounds:new ie([-180,-90],[180,90])},Zf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var w=Math.PI/180,I=this.R,q=p.lat*w,re=this.R_MINOR/I,ve=Math.sqrt(1-re*re),Ge=ve*Math.sin(q),st=Math.tan(Math.PI/4-q/2)/Math.pow((1-Ge)/(1+Ge),ve/2);return q=-I*Math.log(Math.max(st,1e-10)),new ue(p.lng*w*I,q)},unproject:function(p){for(var w=180/Math.PI,I=this.R,q=this.R_MINOR/I,re=Math.sqrt(1-q*q),ve=Math.exp(-p.y/I),Ge=Math.PI/2-2*Math.atan(ve),st=0,yt=.1,St;st<15&&Math.abs(yt)>1e-7;st++)St=re*Math.sin(Ge),St=Math.pow((1-St)/(1+St),re/2),yt=Math.PI/2-2*Math.atan(ve*St)-Ge,Ge+=yt;return new ge(Ge*w,p.x*w/I)}},Gy={__proto__:null,LonLat:Qf,Mercator:Zf,SphericalMercator:Xe},Vu=i({},Pe,{code:"EPSG:3395",projection:Zf,transformation:function(){var p=.5/(Math.PI*Zf.R);return H(p,.5,-p,.5)}()}),Wy=i({},Pe,{code:"EPSG:4326",projection:Qf,transformation:H(1/180,1,-1/180,.5)}),r1=i({},Ze,{projection:Qf,transformation:H(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,w){var I=w.lng-p.lng,q=w.lat-p.lat;return Math.sqrt(I*I+q*q)},infinite:!0});Ze.Earth=Pe,Ze.EPSG3395=Vu,Ze.EPSG3857=$,Ze.EPSG900913=ae,Ze.EPSG4326=Wy,Ze.Simple=r1;var ka=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[l(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[l(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var w=p.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var I=this.getEvents();w.on(I,this),this.once("remove",function(){w.off(I,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});vn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var w=l(p);return this._layers[w]?this:(this._layers[w]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var w=l(p);return this._layers[w]?(this._loaded&&p.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return l(p)in this._layers},eachLayer:function(p,w){for(var I in this._layers)p.call(w,this._layers[I]);return this},_addLayers:function(p){p=p?R(p)?p:[p]:[];for(var w=0,I=p.length;w<I;w++)this.addLayer(p[w])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[l(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var w=l(p);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,w=-1/0,I=this._getZoomSpan();for(var q in this._zoomBoundLayers){var re=this._zoomBoundLayers[q].options;p=re.minZoom===void 0?p:Math.min(p,re.minZoom),w=re.maxZoom===void 0?w:Math.max(w,re.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=p===1/0?void 0:p,I!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var $s=ka.extend({initialize:function(p,w){_(this,w),this._layers={};var I,q;if(p)for(I=0,q=p.length;I<q;I++)this.addLayer(p[I])},addLayer:function(p){var w=this.getLayerId(p);return this._layers[w]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var w=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(p){var w=typeof p=="number"?p:this.getLayerId(p);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var w=Array.prototype.slice.call(arguments,1),I,q;for(I in this._layers)q=this._layers[I],q[p]&&q[p].apply(q,w);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,w){for(var I in this._layers)p.call(w,this._layers[I]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return l(p)}}),Qy=function(p,w){return new $s(p,w)},ta=$s.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),$s.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),$s.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new K;for(var w in this._layers){var I=this._layers[w];p.extend(I.getBounds?I.getBounds():I.getLatLng())}return p}}),lc=function(p,w){return new ta(p,w)},Ku=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){_(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,w){var I=this._getIconUrl(p);if(!I){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var q=this._createImg(I,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(q,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),q},_setIconStyles:function(p,w){var I=this.options,q=I[w+"Size"];typeof q=="number"&&(q=[q,q]);var re=k(q),ve=k(w==="shadow"&&I.shadowAnchor||I.iconAnchor||re&&re.divideBy(2,!0));p.className="leaflet-marker-"+w+" "+(I.className||""),ve&&(p.style.marginLeft=-ve.x+"px",p.style.marginTop=-ve.y+"px"),re&&(p.style.width=re.x+"px",p.style.height=re.y+"px")},_createImg:function(p,w){return w=w||document.createElement("img"),w.src=p,w},_getIconUrl:function(p){return Ce.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Jf(p){return new Ku(p)}var Gu=Ku.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Gu.imagePath!="string"&&(Gu.imagePath=this._detectIconPath()),(this.options.imagePath||Gu.imagePath)+Ku.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var w=function(I,q,re){var ve=q.exec(I);return ve&&ve[re]};return p=w(p,/^url\((['"])?(.+)\1\)$/,2),p&&w(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=A("div","leaflet-default-icon-path",document.body),w=C(p,"background-image")||C(p,"backgroundImage");if(document.body.removeChild(p),w=this._stripUrl(w),w)return w;var I=document.querySelector('link[href$="leaflet.css"]');return I?I.href.substring(0,I.href.length-11-1):""}}),gp=ea.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new os(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xe(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Oe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var w=this._marker,I=w._map,q=this._marker.options.autoPanSpeed,re=this._marker.options.autoPanPadding,ve=be(w._icon),Ge=I.getPixelBounds(),st=I.getPixelOrigin(),yt=me(Ge.min._subtract(st).add(re),Ge.max._subtract(st).subtract(re));if(!yt.contains(ve)){var St=k((Math.max(yt.max.x,ve.x)-yt.max.x)/(Ge.max.x-yt.max.x)-(Math.min(yt.min.x,ve.x)-yt.min.x)/(Ge.min.x-yt.min.x),(Math.max(yt.max.y,ve.y)-yt.max.y)/(Ge.max.y-yt.max.y)-(Math.min(yt.min.y,ve.y)-yt.min.y)/(Ge.min.y-yt.min.y)).multiplyBy(q);I.panBy(St,{animate:!1}),this._draggable._newPos._add(St),this._draggable._startPos._add(St),ut(w._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=X(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(ce(this._panRequest),this._panRequest=X(this._adjustPan.bind(this,p)))},_onDrag:function(p){var w=this._marker,I=w._shadow,q=be(w._icon),re=w._map.layerPointToLatLng(q);I&&ut(I,q),w._latlng=re,p.latlng=re,p.oldLatLng=this._oldLatLng,w.fire("move",p).fire("drag",p)},_onDragEnd:function(p){ce(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),Wu=ka.extend({options:{icon:new Gu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,w){_(this,w),this._latlng=Re(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var w=this._latlng;return this._latlng=Re(p),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=p.icon.createIcon(this._icon),q=!1;I!==this._icon&&(this._icon&&this._removeIcon(),q=!0,p.title&&(I.title=p.title),I.tagName==="IMG"&&(I.alt=p.alt||"")),xe(I,w),p.keyboard&&(I.tabIndex="0",I.setAttribute("role","button")),this._icon=I,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qt(I,"focus",this._panOnFocus,this);var re=p.icon.createShadow(this._shadow),ve=!1;re!==this._shadow&&(this._removeShadow(),ve=!0),re&&(xe(re,w),re.alt=""),this._shadow=re,p.opacity<1&&this._updateOpacity(),q&&this.getPane().appendChild(this._icon),this._initInteraction(),re&&ve&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pn(this._icon,"focus",this._panOnFocus,this),N(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&N(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&ut(this._icon,p),this._shadow&&ut(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(xe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),gp)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new gp(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&ze(this._icon,p),this._shadow&&ze(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var w=this.options.icon.options,I=w.iconSize?k(w.iconSize):k(0,0),q=w.iconAnchor?k(w.iconAnchor):k(0,0);p.panInside(this._latlng,{paddingTopLeft:q,paddingBottomRight:I.subtract(q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mp(p,w){return new Wu(p,w)}var Do=ka.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return _(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),cc=Do.extend({options:{fill:!0,radius:10},initialize:function(p,w){_(this,w),this._latlng=Re(p),this._radius=this.options.radius},setLatLng:function(p){var w=this._latlng;return this._latlng=Re(p),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var w=p&&p.radius||this._radius;return Do.prototype.setStyle.call(this,p),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,w=this._radiusY||p,I=this._clickTolerance(),q=[p+I,w+I];this._pxBounds=new ie(this._point.subtract(q),this._point.add(q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zy(p,w){return new cc(p,w)}var yp=cc.extend({initialize:function(p,w,I){if(typeof w=="number"&&(w=i({},I,{radius:w})),_(this,w),this._latlng=Re(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new K(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:Do.prototype.setStyle,_project:function(){var p=this._latlng.lng,w=this._latlng.lat,I=this._map,q=I.options.crs;if(q.distance===Pe.distance){var re=Math.PI/180,ve=this._mRadius/Pe.R/re,Ge=I.project([w+ve,p]),st=I.project([w-ve,p]),yt=Ge.add(st).divideBy(2),St=I.unproject(yt).lat,Bt=Math.acos((Math.cos(ve*re)-Math.sin(w*re)*Math.sin(St*re))/(Math.cos(w*re)*Math.cos(St*re)))/re;(isNaN(Bt)||Bt===0)&&(Bt=ve/Math.cos(Math.PI/180*w)),this._point=yt.subtract(I.getPixelOrigin()),this._radius=isNaN(Bt)?0:yt.x-I.project([St,p-Bt]).x,this._radiusY=yt.y-Ge.y}else{var rn=q.unproject(q.project(this._latlng).subtract([this._mRadius,0]));this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(rn).x}this._updateBounds()}});function i1(p,w,I){return new yp(p,w,I)}var ko=Do.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,w){_(this,w),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var w=1/0,I=null,q=js,re,ve,Ge=0,st=this._parts.length;Ge<st;Ge++)for(var yt=this._parts[Ge],St=1,Bt=yt.length;St<Bt;St++){re=yt[St-1],ve=yt[St];var rn=q(p,re,ve,!0);rn<w&&(w=rn,I=q(p,re,ve))}return I&&(I.distance=Math.sqrt(w)),I},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return pp(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,w){return w=w||this._defaultShape(),p=Re(p),w.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new K,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return yi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var w=[],I=yi(p),q=0,re=p.length;q<re;q++)I?(w[q]=Re(p[q]),this._bounds.extend(w[q])):w[q]=this._convertLatLngs(p[q]);return w},_project:function(){var p=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),w=new ue(p,p);this._rawPxBounds&&(this._pxBounds=new ie([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(p,w,I){var q=p[0]instanceof ge,re=p.length,ve,Ge;if(q){for(Ge=[],ve=0;ve<re;ve++)Ge[ve]=this._map.latLngToLayerPoint(p[ve]),I.extend(Ge[ve]);w.push(Ge)}else for(ve=0;ve<re;ve++)this._projectLatlngs(p[ve],w,I)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,I,q,re,ve,Ge,st,yt;for(I=0,re=0,ve=this._rings.length;I<ve;I++)for(yt=this._rings[I],q=0,Ge=yt.length;q<Ge-1;q++)st=Hy(yt[q],yt[q+1],p,q,!0),st&&(w[re]=w[re]||[],w[re].push(st[0]),(st[1]!==yt[q+1]||q===Ge-2)&&(w[re].push(st[1]),re++))}},_simplifyPoints:function(){for(var p=this._parts,w=this.options.smoothFactor,I=0,q=p.length;I<q;I++)p[I]=qy(p[I],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,w){var I,q,re,ve,Ge,st,yt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(I=0,ve=this._parts.length;I<ve;I++)for(st=this._parts[I],q=0,Ge=st.length,re=Ge-1;q<Ge;re=q++)if(!(!w&&q===0)&&dp(p,st[re],st[q])<=yt)return!0;return!1}});function a1(p,w){return new ko(p,w)}ko._flat=Vy;var Qu=ko.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Gf(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var w=ko.prototype._convertLatLngs.call(this,p),I=w.length;return I>=2&&w[0]instanceof ge&&w[0].equals(w[I-1])&&w.pop(),w},_setLatLngs:function(p){ko.prototype._setLatLngs.call(this,p),yi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return yi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,w=this.options.weight,I=new ue(w,w);if(p=new ie(p.min.subtract(I),p.max.add(I)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var q=0,re=this._rings.length,ve;q<re;q++)ve=Uy(this._rings[q],p,!0),ve.length&&this._parts.push(ve)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var w=!1,I,q,re,ve,Ge,st,yt,St;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ve=0,yt=this._parts.length;ve<yt;ve++)for(I=this._parts[ve],Ge=0,St=I.length,st=St-1;Ge<St;st=Ge++)q=I[Ge],re=I[st],q.y>p.y!=re.y>p.y&&p.x<(re.x-q.x)*(p.y-q.y)/(re.y-q.y)+q.x&&(w=!w);return w||ko.prototype._containsPoint.call(this,p,!0)}});function na(p,w){return new Qu(p,w)}var ra=ta.extend({initialize:function(p,w){_(this,w),this._layers={},p&&this.addData(p)},addData:function(p){var w=R(p)?p:p.features,I,q,re;if(w){for(I=0,q=w.length;I<q;I++)re=w[I],(re.geometries||re.geometry||re.features||re.coordinates)&&this.addData(re);return this}var ve=this.options;if(ve.filter&&!ve.filter(p))return this;var Ge=fc(p,ve);return Ge?(Ge.feature=No(p),Ge.defaultOptions=Ge.options,this.resetStyle(Ge),ve.onEachFeature&&ve.onEachFeature(p,Ge),this.addLayer(Ge)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(w){this._setLayerStyle(w,p)},this)},_setLayerStyle:function(p,w){p.setStyle&&(typeof w=="function"&&(w=w(p.feature)),p.setStyle(w))}});function fc(p,w){var I=p.type==="Feature"?p.geometry:p,q=I?I.coordinates:null,re=[],ve=w&&w.pointToLayer,Ge=w&&w.coordsToLatLng||Xf,st,yt,St,Bt;if(!q&&!I)return null;switch(I.type){case"Point":return st=Ge(q),vp(ve,p,st,w);case"MultiPoint":for(St=0,Bt=q.length;St<Bt;St++)st=Ge(q[St]),re.push(vp(ve,p,st,w));return new ta(re);case"LineString":case"MultiLineString":return yt=dc(q,I.type==="LineString"?0:1,Ge),new ko(yt,w);case"Polygon":case"MultiPolygon":return yt=dc(q,I.type==="Polygon"?1:2,Ge),new Qu(yt,w);case"GeometryCollection":for(St=0,Bt=I.geometries.length;St<Bt;St++){var rn=fc({geometry:I.geometries[St],type:"Feature",properties:p.properties},w);rn&&re.push(rn)}return new ta(re);case"FeatureCollection":for(St=0,Bt=I.features.length;St<Bt;St++){var mn=fc(I.features[St],w);mn&&re.push(mn)}return new ta(re);default:throw new Error("Invalid GeoJSON object.")}}function vp(p,w,I,q){return p?p(w,I):new Wu(I,q&&q.markersInheritOptions&&q)}function Xf(p){return new ge(p[1],p[0],p[2])}function dc(p,w,I){for(var q=[],re=0,ve=p.length,Ge;re<ve;re++)Ge=w?dc(p[re],w-1,I):(I||Xf)(p[re]),q.push(Ge);return q}function hc(p,w){return p=Re(p),p.alt!==void 0?[m(p.lng,w),m(p.lat,w),m(p.alt,w)]:[m(p.lng,w),m(p.lat,w)]}function Yf(p,w,I,q){for(var re=[],ve=0,Ge=p.length;ve<Ge;ve++)re.push(w?Yf(p[ve],yi(p[ve])?0:w-1,I,q):hc(p[ve],q));return!w&&I&&re.length>0&&re.push(re[0].slice()),re}function Zu(p,w){return p.feature?i({},p.feature,{geometry:w}):No(w)}function No(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var pc={toGeoJSON:function(p){return Zu(this,{type:"Point",coordinates:hc(this.getLatLng(),p)})}};Wu.include(pc),yp.include(pc),cc.include(pc),ko.include({toGeoJSON:function(p){var w=!yi(this._latlngs),I=Yf(this._latlngs,w?1:0,!1,p);return Zu(this,{type:(w?"Multi":"")+"LineString",coordinates:I})}}),Qu.include({toGeoJSON:function(p){var w=!yi(this._latlngs),I=w&&!yi(this._latlngs[0]),q=Yf(this._latlngs,I?2:w?1:0,!0,p);return w||(q=[q]),Zu(this,{type:(I?"Multi":"")+"Polygon",coordinates:q})}}),$s.include({toMultiPoint:function(p){var w=[];return this.eachLayer(function(I){w.push(I.toGeoJSON(p).geometry.coordinates)}),Zu(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(p){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(p);var I=w==="GeometryCollection",q=[];return this.eachLayer(function(re){if(re.toGeoJSON){var ve=re.toGeoJSON(p);if(I)q.push(ve.geometry);else{var Ge=No(ve);Ge.type==="FeatureCollection"?q.push.apply(q,Ge.features):q.push(Ge)}}}),I?Zu(this,{geometries:q,type:"GeometryCollection"}):{type:"FeatureCollection",features:q}}});function Ju(p,w){return new ra(p,w)}var _p=Ju,gc=ka.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,w,I){this._url=p,this._bounds=ee(w),_(this,I)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){N(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&we(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=ee(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",w=this._image=p?this._url:A("img");if(xe(w,"leaflet-image-layer"),this._zoomAnimated&&xe(w,"leaflet-zoom-animated"),this.options.className&&xe(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(p){var w=this._map.getZoomScale(p.zoom),I=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;dt(this._image,I,w)},_reset:function(){var p=this._image,w=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=w.getSize();ut(p,w.min),p.style.width=I.x+"px",p.style.height=I.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Bs=function(p,w,I){return new gc(p,w,I)},Us=gc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",w=this._image=p?this._url:A("video");if(xe(w,"leaflet-image-layer"),this._zoomAnimated&&xe(w,"leaflet-zoom-animated"),this.options.className&&xe(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onloadeddata=o(this.fire,this,"load"),p){for(var I=w.getElementsByTagName("source"),q=[],re=0;re<I.length;re++)q.push(I[re].src);this._url=I.length>0?q:[w.src];return}R(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ve=0;ve<this._url.length;ve++){var Ge=A("source");Ge.src=this._url[ve],w.appendChild(Ge)}}});function wp(p,w,I){return new Us(p,w,I)}var bp=gc.extend({_initImage:function(){var p=this._image=this._url;xe(p,"leaflet-image-layer"),this._zoomAnimated&&xe(p,"leaflet-zoom-animated"),this.options.className&&xe(p,this.options.className),p.onselectstart=h,p.onmousemove=h}});function qs(p,w,I){return new bp(p,w,I)}var Na=ka.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,w){p&&(p instanceof ge||R(p))?(this._latlng=Re(p),_(this,w)):(_(this,p),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(o(N,void 0,this._container),200)):N(this._container),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=Re(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&we(this._container),this},_prepareOpen:function(p){var w=this._source;if(!w._map)return!1;if(w instanceof ta){w=null;var I=this._source._layers;for(var q in I)if(I[q]._map){w=I[q];break}if(!w)return!1;this._source=w}if(!p)if(w.getCenter)p=w.getCenter();else if(w.getLatLng)p=w.getLatLng();else if(w.getBounds)p=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")p.innerHTML=w;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),w=k(this.options.offset),I=this._getAnchor();this._zoomAnimated?ut(this._container,p.add(I)):w=w.add(p).add(I);var q=this._containerBottom=-w.y,re=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=q+"px",this._container.style.left=re+"px"}},_getAnchor:function(){return[0,0]}});vn.include({_initOverlay:function(p,w,I,q){var re=w;return re instanceof p||(re=new p(q).setContent(w)),I&&re.setLatLng(I),re}}),ka.include({_initOverlay:function(p,w,I,q){var re=I;return re instanceof p?(_(re,q),re._source=this):(re=w&&!q?w:new p(q,this),re.setContent(I)),re}});var mc=Na.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Na.prototype.openOn.call(this,p)},onAdd:function(p){Na.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Do||this._source.on("preclick",Ei))},onRemove:function(p){Na.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Do||this._source.off("preclick",Ei))},getEvents:function(){var p=Na.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",w=this._container=A("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),I=this._wrapper=A("div",p+"-content-wrapper",w);if(this._contentNode=A("div",p+"-content",I),_a(w),Ji(this._contentNode),Qt(w,"contextmenu",Ei),this._tipContainer=A("div",p+"-tip-container",w),this._tip=A("div",p+"-tip",this._tipContainer),this.options.closeButton){var q=this._closeButton=A("a",p+"-close-button",w);q.setAttribute("role","button"),q.setAttribute("aria-label","Close popup"),q.href="#close",q.innerHTML='<span aria-hidden="true">&#215;</span>',Qt(q,"click",function(re){ir(re),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,w=p.style;w.width="",w.whiteSpace="nowrap";var I=p.offsetWidth;I=Math.min(I,this.options.maxWidth),I=Math.max(I,this.options.minWidth),w.width=I+1+"px",w.whiteSpace="",w.height="";var q=p.offsetHeight,re=this.options.maxHeight,ve="leaflet-popup-scrolled";re&&q>re?(w.height=re+"px",xe(p,ve)):Oe(p,ve),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),I=this._getAnchor();ut(this._container,w.add(I))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,w=parseInt(C(this._container,"marginBottom"),10)||0,I=this._container.offsetHeight+w,q=this._containerWidth,re=new ue(this._containerLeft,-I-this._containerBottom);re._add(be(this._container));var ve=p.layerPointToContainerPoint(re),Ge=k(this.options.autoPanPadding),st=k(this.options.autoPanPaddingTopLeft||Ge),yt=k(this.options.autoPanPaddingBottomRight||Ge),St=p.getSize(),Bt=0,rn=0;ve.x+q+yt.x>St.x&&(Bt=ve.x+q-St.x+yt.x),ve.x-Bt-st.x<0&&(Bt=ve.x-st.x),ve.y+I+yt.y>St.y&&(rn=ve.y+I-St.y+yt.y),ve.y-rn-st.y<0&&(rn=ve.y-st.y),(Bt||rn)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([Bt,rn]))}},_getAnchor:function(){return k(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Jy=function(p,w){return new mc(p,w)};vn.mergeOptions({closePopupOnClick:!0}),vn.include({openPopup:function(p,w,I){return this._initOverlay(mc,p,w,I).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),ka.include({bindPopup:function(p,w){return this._popup=this._initOverlay(mc,this._popup,p,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof ta||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){Ui(p);var w=p.layer||p.target;if(this._popup._source===w&&!(w instanceof Do)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=w,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var ed=Na.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Na.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Na.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Na.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",w=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=A("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+l(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var w,I,q=this._map,re=this._container,ve=q.latLngToContainerPoint(q.getCenter()),Ge=q.layerPointToContainerPoint(p),st=this.options.direction,yt=re.offsetWidth,St=re.offsetHeight,Bt=k(this.options.offset),rn=this._getAnchor();st==="top"?(w=yt/2,I=St):st==="bottom"?(w=yt/2,I=0):st==="center"?(w=yt/2,I=St/2):st==="right"?(w=0,I=St/2):st==="left"?(w=yt,I=St/2):Ge.x<ve.x?(st="right",w=0,I=St/2):(st="left",w=yt+(Bt.x+rn.x)*2,I=St/2),p=p.subtract(k(w,I,!0)).add(Bt).add(rn),Oe(re,"leaflet-tooltip-right"),Oe(re,"leaflet-tooltip-left"),Oe(re,"leaflet-tooltip-top"),Oe(re,"leaflet-tooltip-bottom"),xe(re,"leaflet-tooltip-"+st),ut(re,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&ze(this._container,p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(w)},_getAnchor:function(){return k(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o1=function(p,w){return new ed(p,w)};vn.include({openTooltip:function(p,w,I){return this._initOverlay(ed,p,w,I).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),ka.include({bindTooltip:function(p,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ed,this._tooltip,p,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var w=p?"off":"on",I={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?I.add=this._openTooltip:(I.mouseover=this._openTooltip,I.mouseout=this.closeTooltip,I.click=this._openTooltip,this._map?this._addFocusListeners():I.add=this._addFocusListeners),this._tooltip.options.sticky&&(I.mousemove=this._moveTooltip),this[w](I),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof ta||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&(Qt(w,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Qt(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var w=p.latlng,I,q;this._tooltip.options.sticky&&p.originalEvent&&(I=this._map.mouseEventToContainerPoint(p.originalEvent),q=this._map.containerPointToLayerPoint(I),w=this._map.layerPointToLatLng(q)),this._tooltip.setLatLng(w)}});var Xy=Ku.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var w=p&&p.tagName==="DIV"?p:document.createElement("div"),I=this.options;if(I.html instanceof Element?(J(w),w.appendChild(I.html)):w.innerHTML=I.html!==!1?I.html:"",I.bgPos){var q=k(I.bgPos);w.style.backgroundPosition=-q.x+"px "+-q.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function Yy(p){return new Xy(p)}Ku.Default=Gu;var Xu=ka.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){_(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),N(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(we(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=c(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof ue?p:new ue(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var w=this.getPane().children,I=-p(-1/0,1/0),q=0,re=w.length,ve;q<re;q++)ve=w[q].style.zIndex,w[q]!==this._container&&ve&&(I=p(I,+ve));isFinite(I)&&(this.options.zIndex=I+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){ze(this._container,this.options.opacity);var p=+new Date,w=!1,I=!1;for(var q in this._tiles){var re=this._tiles[q];if(!(!re.current||!re.loaded)){var ve=Math.min(1,(p-re.loaded)/200);ze(re.el,ve),ve<1?w=!0:(re.active?I=!0:this._onOpaqueTile(re),re.active=!0)}}I&&!this._noPrune&&this._pruneTiles(),w&&(ce(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=A("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,w=this.options.maxZoom;if(p!==void 0){for(var I in this._levels)I=Number(I),this._levels[I].el.children.length||I===p?(this._levels[I].el.style.zIndex=w-Math.abs(p-I),this._onUpdateLevel(I)):(N(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);var q=this._levels[p],re=this._map;return q||(q=this._levels[p]={},q.el=A("div","leaflet-tile-container leaflet-zoom-animated",this._container),q.el.style.zIndex=w,q.origin=re.project(re.unproject(re.getPixelOrigin()),p).round(),q.zoom=p,this._setZoomTransform(q,re.getCenter(),re.getZoom()),h(q.el.offsetWidth),this._onCreateLevel(q)),this._level=q,q}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var p,w,I=this._map.getZoom();if(I>this.options.maxZoom||I<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)w=this._tiles[p],w.retain=w.current;for(p in this._tiles)if(w=this._tiles[p],w.current&&!w.active){var q=w.coords;this._retainParent(q.x,q.y,q.z,q.z-5)||this._retainChildren(q.x,q.y,q.z,q.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var w in this._tiles)this._tiles[w].coords.z===p&&this._removeTile(w)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)N(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,w,I,q){var re=Math.floor(p/2),ve=Math.floor(w/2),Ge=I-1,st=new ue(+re,+ve);st.z=+Ge;var yt=this._tileCoordsToKey(st),St=this._tiles[yt];return St&&St.active?(St.retain=!0,!0):(St&&St.loaded&&(St.retain=!0),Ge>q?this._retainParent(re,ve,Ge,q):!1)},_retainChildren:function(p,w,I,q){for(var re=2*p;re<2*p+2;re++)for(var ve=2*w;ve<2*w+2;ve++){var Ge=new ue(re,ve);Ge.z=I+1;var st=this._tileCoordsToKey(Ge),yt=this._tiles[st];if(yt&&yt.active){yt.retain=!0;continue}else yt&&yt.loaded&&(yt.retain=!0);I+1<q&&this._retainChildren(re,ve,I+1,q)}},_resetView:function(p){var w=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var w=this.options;return w.minNativeZoom!==void 0&&p<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<p?w.maxNativeZoom:p},_setView:function(p,w,I,q){var re=Math.round(w);this.options.maxZoom!==void 0&&re>this.options.maxZoom||this.options.minZoom!==void 0&&re<this.options.minZoom?re=void 0:re=this._clampZoom(re);var ve=this.options.updateWhenZooming&&re!==this._tileZoom;(!q||ve)&&(this._tileZoom=re,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),re!==void 0&&this._update(p),I||this._pruneTiles(),this._noPrune=!!I),this._setZoomTransforms(p,w)},_setZoomTransforms:function(p,w){for(var I in this._levels)this._setZoomTransform(this._levels[I],p,w)},_setZoomTransform:function(p,w,I){var q=this._map.getZoomScale(I,p.zoom),re=p.origin.multiplyBy(q).subtract(this._map._getNewPixelOrigin(w,I)).round();Ce.any3d?dt(p.el,re,q):ut(p.el,re)},_resetGrid:function(){var p=this._map,w=p.options.crs,I=this._tileSize=this.getTileSize(),q=this._tileZoom,re=this._map.getPixelWorldBounds(this._tileZoom);re&&(this._globalTileRange=this._pxBoundsToTileRange(re)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,w.wrapLng[0]],q).x/I.x),Math.ceil(p.project([0,w.wrapLng[1]],q).x/I.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([w.wrapLat[0],0],q).y/I.x),Math.ceil(p.project([w.wrapLat[1],0],q).y/I.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var w=this._map,I=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),q=w.getZoomScale(I,this._tileZoom),re=w.project(p,this._tileZoom).floor(),ve=w.getSize().divideBy(q*2);return new ie(re.subtract(ve),re.add(ve))},_update:function(p){var w=this._map;if(w){var I=this._clampZoom(w.getZoom());if(p===void 0&&(p=w.getCenter()),this._tileZoom!==void 0){var q=this._getTiledPixelBounds(p),re=this._pxBoundsToTileRange(q),ve=re.getCenter(),Ge=[],st=this.options.keepBuffer,yt=new ie(re.getBottomLeft().subtract([st,-st]),re.getTopRight().add([st,-st]));if(!(isFinite(re.min.x)&&isFinite(re.min.y)&&isFinite(re.max.x)&&isFinite(re.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var St in this._tiles){var Bt=this._tiles[St].coords;(Bt.z!==this._tileZoom||!yt.contains(new ue(Bt.x,Bt.y)))&&(this._tiles[St].current=!1)}if(Math.abs(I-this._tileZoom)>1){this._setView(p,I);return}for(var rn=re.min.y;rn<=re.max.y;rn++)for(var mn=re.min.x;mn<=re.max.x;mn++){var Xr=new ue(mn,rn);if(Xr.z=this._tileZoom,!!this._isValidTile(Xr)){var Lr=this._tiles[this._tileCoordsToKey(Xr)];Lr?Lr.current=!0:Ge.push(Xr)}}if(Ge.sort(function(Ci,ss){return Ci.distanceTo(ve)-ss.distanceTo(ve)}),Ge.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var _i=document.createDocumentFragment();for(mn=0;mn<Ge.length;mn++)this._addTile(Ge[mn],_i);this._level.el.appendChild(_i)}}}},_isValidTile:function(p){var w=this._map.options.crs;if(!w.infinite){var I=this._globalTileRange;if(!w.wrapLng&&(p.x<I.min.x||p.x>I.max.x)||!w.wrapLat&&(p.y<I.min.y||p.y>I.max.y))return!1}if(!this.options.bounds)return!0;var q=this._tileCoordsToBounds(p);return ee(this.options.bounds).overlaps(q)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var w=this._map,I=this.getTileSize(),q=p.scaleBy(I),re=q.add(I),ve=w.unproject(q,p.z),Ge=w.unproject(re,p.z);return[ve,Ge]},_tileCoordsToBounds:function(p){var w=this._tileCoordsToNwSe(p),I=new K(w[0],w[1]);return this.options.noWrap||(I=this._map.wrapLatLngBounds(I)),I},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var w=p.split(":"),I=new ue(+w[0],+w[1]);return I.z=+w[2],I},_removeTile:function(p){var w=this._tiles[p];w&&(N(w.el),delete this._tiles[p],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){xe(p,"leaflet-tile");var w=this.getTileSize();p.style.width=w.x+"px",p.style.height=w.y+"px",p.onselectstart=h,p.onmousemove=h,Ce.ielt9&&this.options.opacity<1&&ze(p,this.options.opacity)},_addTile:function(p,w){var I=this._getTilePos(p),q=this._tileCoordsToKey(p),re=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(re),this.createTile.length<2&&X(o(this._tileReady,this,p,null,re)),ut(re,I),this._tiles[q]={el:re,coords:p,current:!0},w.appendChild(re),this.fire("tileloadstart",{tile:re,coords:p})},_tileReady:function(p,w,I){w&&this.fire("tileerror",{error:w,tile:I,coords:p});var q=this._tileCoordsToKey(p);I=this._tiles[q],I&&(I.loaded=+new Date,this._map._fadeAnimated?(ze(I.el,0),ce(this._fadeFrame),this._fadeFrame=X(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),w||(xe(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?X(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var w=new ue(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return w.z=p.z,w},_pxBoundsToTileRange:function(p){var w=this.getTileSize();return new ie(p.min.unscaleBy(w).floor(),p.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function ev(p){return new Xu(p)}var vi=Xu.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,w){this._url=p,w=_(this,w),w.detectRetina&&Ce.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,w){return this._url===p&&w===void 0&&(w=!0),this._url=p,w||this.redraw(),this},createTile:function(p,w){var I=document.createElement("img");return Qt(I,"load",o(this._tileOnLoad,this,w,I)),Qt(I,"error",o(this._tileOnError,this,w,I)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(I.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(I.referrerPolicy=this.options.referrerPolicy),I.alt="",I.src=this.getTileUrl(p),I},getTileUrl:function(p){var w={r:Ce.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var I=this._globalTileRange.max.y-p.y;this.options.tms&&(w.y=I),w["-y"]=I}return x(this._url,i(w,this.options))},_tileOnLoad:function(p,w){Ce.ielt9?setTimeout(o(p,this,null,w),0):p(null,w)},_tileOnError:function(p,w,I){var q=this.options.errorTileUrl;q&&w.getAttribute("src")!==q&&(w.src=q),p(I,w)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,w=this.options.maxZoom,I=this.options.zoomReverse,q=this.options.zoomOffset;return I&&(p=w-p),p+q},_getSubdomain:function(p){var w=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var p,w;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(w=this._tiles[p].el,w.onload=h,w.onerror=h,!w.complete)){w.src=O;var I=this._tiles[p].coords;N(w),delete this._tiles[p],this.fire("tileabort",{tile:w,coords:I})}},_removeTile:function(p){var w=this._tiles[p];if(w)return w.el.setAttribute("src",O),Xu.prototype._removeTile.call(this,p)},_tileReady:function(p,w,I){if(!(!this._map||I&&I.getAttribute("src")===O))return Xu.prototype._tileReady.call(this,p,w,I)}});function ia(p,w){return new vi(p,w)}var zs=vi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,w){this._url=p;var I=i({},this.defaultWmsParams);for(var q in w)q in this.options||(I[q]=w[q]);w=_(this,w);var re=w.detectRetina&&Ce.retina?2:1,ve=this.getTileSize();I.width=ve.x*re,I.height=ve.y*re,this.wmsParams=I},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,vi.prototype.onAdd.call(this,p)},getTileUrl:function(p){var w=this._tileCoordsToNwSe(p),I=this._crs,q=me(I.project(w[0]),I.project(w[1])),re=q.min,ve=q.max,Ge=(this._wmsVersion>=1.3&&this._crs===Wy?[re.y,re.x,ve.y,ve.x]:[re.x,re.y,ve.x,ve.y]).join(","),st=vi.prototype.getTileUrl.call(this,p);return st+S(this.wmsParams,st,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ge},setParams:function(p,w){return i(this.wmsParams,p),w||this.redraw(),this}});function Sp(p,w){return new zs(p,w)}vi.WMS=zs,ia.wms=Sp;var ba=ka.extend({options:{padding:.1},initialize:function(p){_(this,p),l(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,w){var I=this._map.getZoomScale(w,this._zoom),q=this._map.getSize().multiplyBy(.5+this.options.padding),re=this._map.project(this._center,w),ve=q.multiplyBy(-I).add(re).subtract(this._map._getNewPixelOrigin(p,w));Ce.any3d?dt(this._container,ve,I):ut(this._container,ve)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,w=this._map.getSize(),I=this._map.containerPointToLayerPoint(w.multiplyBy(-p)).round();this._bounds=new ie(I,I.add(w.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yc=ba.extend({options:{tolerance:0},getEvents:function(){var p=ba.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ba.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Qt(p,"mousemove",this._onMouseMove,this),Qt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Qt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){ce(this._redrawRequest),delete this._ctx,N(this._container),pn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var w in this._layers)p=this._layers[w],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ba.prototype._update.call(this);var p=this._bounds,w=this._container,I=p.getSize(),q=Ce.retina?2:1;ut(w,p.min),w.width=q*I.x,w.height=q*I.y,w.style.width=I.x+"px",w.style.height=I.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){ba.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[l(p)]=p;var w=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var w=p._order,I=w.next,q=w.prev;I?I.prev=q:this._drawLast=q,q?q.next=I:this._drawFirst=I,delete p._order,delete this._layers[l(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var w=p.options.dashArray.split(/[, ]+/),I=[],q,re;for(re=0;re<w.length;re++){if(q=Number(w[re]),isNaN(q))return;I.push(q)}p.options._dashArray=I}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||X(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var w=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(p._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(p._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var w=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,w=this._redrawBounds;if(this._ctx.save(),w){var I=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,I.x,I.y),this._ctx.clip()}this._drawing=!0;for(var q=this._drawFirst;q;q=q.next)p=q.layer,(!w||p._pxBounds&&p._pxBounds.intersects(w))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,w){if(this._drawing){var I,q,re,ve,Ge=p._parts,st=Ge.length,yt=this._ctx;if(st){for(yt.beginPath(),I=0;I<st;I++){for(q=0,re=Ge[I].length;q<re;q++)ve=Ge[I][q],yt[q?"lineTo":"moveTo"](ve.x,ve.y);w&&yt.closePath()}this._fillStroke(yt,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var w=p._point,I=this._ctx,q=Math.max(Math.round(p._radius),1),re=(Math.max(Math.round(p._radiusY),1)||q)/q;re!==1&&(I.save(),I.scale(1,re)),I.beginPath(),I.arc(w.x,w.y/re,q,0,Math.PI*2,!1),re!==1&&I.restore(),this._fillStroke(I,p)}},_fillStroke:function(p,w){var I=w.options;I.fill&&(p.globalAlpha=I.fillOpacity,p.fillStyle=I.fillColor||I.color,p.fill(I.fillRule||"evenodd")),I.stroke&&I.weight!==0&&(p.setLineDash&&p.setLineDash(w.options&&w.options._dashArray||[]),p.globalAlpha=I.opacity,p.lineWidth=I.weight,p.strokeStyle=I.color,p.lineCap=I.lineCap,p.lineJoin=I.lineJoin,p.stroke())},_onClick:function(p){for(var w=this._map.mouseEventToLayerPoint(p),I,q,re=this._drawFirst;re;re=re.next)I=re.layer,I.options.interactive&&I._containsPoint(w)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(I))&&(q=I);this._fireEvent(q?[q]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,w)}},_handleMouseOut:function(p){var w=this._hoveredLayer;w&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([w],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,w){if(!this._mouseHoverThrottled){for(var I,q,re=this._drawFirst;re;re=re.next)I=re.layer,I.options.interactive&&I._containsPoint(w)&&(q=I);q!==this._hoveredLayer&&(this._handleMouseOut(p),q&&(xe(this._container,"leaflet-interactive"),this._fireEvent([q],p,"mouseover"),this._hoveredLayer=q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,w,I){this._map._fireDOMEvent(w,I||w.type,p)},_bringToFront:function(p){var w=p._order;if(w){var I=w.next,q=w.prev;if(I)I.prev=q;else return;q?q.next=I:I&&(this._drawFirst=I),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(p)}},_bringToBack:function(p){var w=p._order;if(w){var I=w.next,q=w.prev;if(q)q.next=I;else return;I?I.prev=q:q&&(this._drawLast=q),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(p)}}});function td(p){return Ce.canvas?new yc(p):null}var Sa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),tv={_initContainer:function(){this._container=A("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ba.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var w=p._container=Sa("shape");xe(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",p._path=Sa("path"),w.appendChild(p._path),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){var w=p._container;this._container.appendChild(w),p.options.interactive&&p.addInteractiveTarget(w)},_removePath:function(p){var w=p._container;N(w),p.removeInteractiveTarget(w),delete this._layers[l(p)]},_updateStyle:function(p){var w=p._stroke,I=p._fill,q=p.options,re=p._container;re.stroked=!!q.stroke,re.filled=!!q.fill,q.stroke?(w||(w=p._stroke=Sa("stroke")),re.appendChild(w),w.weight=q.weight+"px",w.color=q.color,w.opacity=q.opacity,q.dashArray?w.dashStyle=R(q.dashArray)?q.dashArray.join(" "):q.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=q.lineCap.replace("butt","flat"),w.joinstyle=q.lineJoin):w&&(re.removeChild(w),p._stroke=null),q.fill?(I||(I=p._fill=Sa("fill")),re.appendChild(I),I.color=q.fillColor||q.color,I.opacity=q.fillOpacity):I&&(re.removeChild(I),p._fill=null)},_updateCircle:function(p){var w=p._point.round(),I=Math.round(p._radius),q=Math.round(p._radiusY||I);this._setPath(p,p._empty()?"M0 0":"AL "+w.x+","+w.y+" "+I+","+q+" 0,"+65535*360)},_setPath:function(p,w){p._path.v=w},_bringToFront:function(p){le(p._container)},_bringToBack:function(p){we(p._container)}},Hs=Ce.vml?Sa:Z,lo=ba.extend({_initContainer:function(){this._container=Hs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Hs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){N(this._container),pn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ba.prototype._update.call(this);var p=this._bounds,w=p.getSize(),I=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,I.setAttribute("width",w.x),I.setAttribute("height",w.y)),ut(I,p.min),I.setAttribute("viewBox",[p.min.x,p.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(p){var w=p._path=Hs("path");p.options.className&&xe(w,p.options.className),p.options.interactive&&xe(w,"leaflet-interactive"),this._updateStyle(p),this._layers[l(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){N(p._path),p.removeInteractiveTarget(p._path),delete this._layers[l(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var w=p._path,I=p.options;w&&(I.stroke?(w.setAttribute("stroke",I.color),w.setAttribute("stroke-opacity",I.opacity),w.setAttribute("stroke-width",I.weight),w.setAttribute("stroke-linecap",I.lineCap),w.setAttribute("stroke-linejoin",I.lineJoin),I.dashArray?w.setAttribute("stroke-dasharray",I.dashArray):w.removeAttribute("stroke-dasharray"),I.dashOffset?w.setAttribute("stroke-dashoffset",I.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),I.fill?(w.setAttribute("fill",I.fillColor||I.color),w.setAttribute("fill-opacity",I.fillOpacity),w.setAttribute("fill-rule",I.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(p,w){this._setPath(p,he(p._parts,w))},_updateCircle:function(p){var w=p._point,I=Math.max(Math.round(p._radius),1),q=Math.max(Math.round(p._radiusY),1)||I,re="a"+I+","+q+" 0 1,0 ",ve=p._empty()?"M0 0":"M"+(w.x-I)+","+w.y+re+I*2+",0 "+re+-I*2+",0 ";this._setPath(p,ve)},_setPath:function(p,w){p._path.setAttribute("d",w)},_bringToFront:function(p){le(p._path)},_bringToBack:function(p){we(p._path)}});Ce.vml&&lo.include(tv);function xp(p){return Ce.svg||Ce.vml?new lo(p):null}vn.include({getRenderer:function(p){var w=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var w=this._paneRenderers[p];return w===void 0&&(w=this._createRenderer({pane:p}),this._paneRenderers[p]=w),w},_createRenderer:function(p){return this.options.preferCanvas&&td(p)||xp(p)}});var aa=Qu.extend({initialize:function(p,w){Qu.prototype.initialize.call(this,this._boundsToLatLngs(p),w)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=ee(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function Yu(p,w){return new aa(p,w)}lo.create=Hs,lo.pointsToPath=he,ra.geometryToLayer=fc,ra.coordsToLatLng=Xf,ra.coordsToLatLngs=dc,ra.latLngToCoords=hc,ra.latLngsToCoords=Yf,ra.getFeature=Zu,ra.asFeature=No,vn.mergeOptions({boxZoom:!0});var Vs=ea.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Qt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){N(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),De(),mt(),this._startPoint=this._map.mouseEventToContainerPoint(p),Qt(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=A("div","leaflet-zoom-box",this._container),xe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var w=new ie(this._point,this._startPoint),I=w.getSize();ut(this._box,w.min),this._box.style.width=I.x+"px",this._box.style.height=I.y+"px"},_finish:function(){this._moved&&(N(this._box),Oe(this._container,"leaflet-crosshair")),Be(),$t(),pn(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new K(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});vn.addInitHook("addHandler","boxZoom",Vs),vn.mergeOptions({doubleClickZoom:!0});var vc=ea.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var w=this._map,I=w.getZoom(),q=w.options.zoomDelta,re=p.originalEvent.shiftKey?I-q:I+q;w.options.doubleClickZoom==="center"?w.setZoom(re):w.setZoomAround(p.containerPoint,re)}});vn.addInitHook("addHandler","doubleClickZoom",vc),vn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _c=ea.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new os(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}xe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Oe(this._map._container,"leaflet-grab"),Oe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=ee(this._map.options.maxBounds);this._offsetLimit=me(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var w=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I),this._times.push(w),this._prunePositions(w)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,w){return p-(p-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;p.x<w.min.x&&(p.x=this._viscousLimit(p.x,w.min.x)),p.y<w.min.y&&(p.y=this._viscousLimit(p.y,w.min.y)),p.x>w.max.x&&(p.x=this._viscousLimit(p.x,w.max.x)),p.y>w.max.y&&(p.y=this._viscousLimit(p.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,w=Math.round(p/2),I=this._initialWorldOffset,q=this._draggable._newPos.x,re=(q-w+I)%p+w-I,ve=(q+w+I)%p-w-I,Ge=Math.abs(re+I)<Math.abs(ve+I)?re:ve;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ge},_onDragEnd:function(p){var w=this._map,I=w.options,q=!I.inertia||p.noInertia||this._times.length<2;if(w.fire("dragend",p),q)w.fire("moveend");else{this._prunePositions(+new Date);var re=this._lastPos.subtract(this._positions[0]),ve=(this._lastTime-this._times[0])/1e3,Ge=I.easeLinearity,st=re.multiplyBy(Ge/ve),yt=st.distanceTo([0,0]),St=Math.min(I.inertiaMaxSpeed,yt),Bt=st.multiplyBy(St/yt),rn=St/(I.inertiaDeceleration*Ge),mn=Bt.multiplyBy(-rn/2).round();!mn.x&&!mn.y?w.fire("moveend"):(mn=w._limitOffset(mn,w.options.maxBounds),X(function(){w.panBy(mn,{duration:rn,easeLinearity:Ge,noMoveStart:!0,animate:!0})}))}}});vn.addInitHook("addHandler","dragging",_c),vn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var oa=ea.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Qt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,w=document.documentElement,I=p.scrollTop||w.scrollTop,q=p.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(q,I)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var w=this._panKeys={},I=this.keyCodes,q,re;for(q=0,re=I.left.length;q<re;q++)w[I.left[q]]=[-1*p,0];for(q=0,re=I.right.length;q<re;q++)w[I.right[q]]=[p,0];for(q=0,re=I.down.length;q<re;q++)w[I.down[q]]=[0,p];for(q=0,re=I.up.length;q<re;q++)w[I.up[q]]=[0,-1*p]},_setZoomDelta:function(p){var w=this._zoomKeys={},I=this.keyCodes,q,re;for(q=0,re=I.zoomIn.length;q<re;q++)w[I.zoomIn[q]]=p;for(q=0,re=I.zoomOut.length;q<re;q++)w[I.zoomOut[q]]=-p},_addHooks:function(){Qt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var w=p.keyCode,I=this._map,q;if(w in this._panKeys){if(!I._panAnim||!I._panAnim._inProgress)if(q=this._panKeys[w],p.shiftKey&&(q=k(q).multiplyBy(3)),I.options.maxBounds&&(q=I._limitOffset(k(q),I.options.maxBounds)),I.options.worldCopyJump){var re=I.wrapLatLng(I.unproject(I.project(I.getCenter()).add(q)));I.panTo(re)}else I.panBy(q)}else if(w in this._zoomKeys)I.setZoom(I.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;Ui(p)}}});vn.addInitHook("addHandler","keyboard",oa),vn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sa=ea.extend({addHooks:function(){Qt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var w=oo(p),I=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var q=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),q),Ui(p)},_performZoom:function(){var p=this._map,w=p.getZoom(),I=this._map.options.zoomSnap||0;p._stop();var q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),re=4*Math.log(2/(1+Math.exp(-Math.abs(q))))/Math.LN2,ve=I?Math.ceil(re/I)*I:re,Ge=p._limitZoom(w+(this._delta>0?ve:-ve))-w;this._delta=0,this._startTime=null,Ge&&(p.options.scrollWheelZoom==="center"?p.setZoom(w+Ge):p.setZoomAround(this._lastMousePos,w+Ge))}});vn.addInitHook("addHandler","scrollWheelZoom",sa);var Ks=600;vn.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var co=ea.extend({addHooks:function(){Qt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var w=p.touches[0];this._startPos=this._newPos=new ue(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Qt(document,"touchend",ir),Qt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Ks),Qt(document,"touchend touchcancel contextmenu",this._cancel,this),Qt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){pn(document,"touchend",ir),pn(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),pn(document,"touchend touchcancel contextmenu",this._cancel,this),pn(document,"touchmove",this._onMove,this)},_onMove:function(p){var w=p.touches[0];this._newPos=new ue(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,w){var I=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});I._simulated=!0,w.target.dispatchEvent(I)}});vn.addInitHook("addHandler","tapHold",co),vn.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var fo=ea.extend({addHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),Qt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),pn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var w=this._map;if(!(!p.touches||p.touches.length!==2||w._animatingZoom||this._zooming)){var I=w.mouseEventToContainerPoint(p.touches[0]),q=w.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(I.add(q)._divideBy(2))),this._startDist=I.distanceTo(q),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),Qt(document,"touchmove",this._onTouchMove,this),Qt(document,"touchend touchcancel",this._onTouchEnd,this),ir(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var w=this._map,I=w.mouseEventToContainerPoint(p.touches[0]),q=w.mouseEventToContainerPoint(p.touches[1]),re=I.distanceTo(q)/this._startDist;if(this._zoom=w.getScaleZoom(re,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&re<1||this._zoom>w.getMaxZoom()&&re>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,re===1)return}else{var ve=I._add(q)._divideBy(2)._subtract(this._centerPoint);if(re===1&&ve.x===0&&ve.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ve),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),ce(this._animRequest);var Ge=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=X(Ge,this,!0),ir(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ce(this._animRequest),pn(document,"touchmove",this._onTouchMove,this),pn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});vn.addInitHook("addHandler","touchZoom",fo),vn.BoxZoom=Vs,vn.DoubleClickZoom=vc,vn.Drag=_c,vn.Keyboard=oa,vn.ScrollWheelZoom=sa,vn.TapHold=co,vn.TouchZoom=fo,n.Bounds=ie,n.Browser=Ce,n.CRS=Ze,n.Canvas=yc,n.Circle=yp,n.CircleMarker=cc,n.Class=se,n.Control=cr,n.DivIcon=Xy,n.DivOverlay=Na,n.DomEvent=Hu,n.DomUtil=Bn,n.Draggable=os,n.Evented=de,n.FeatureGroup=ta,n.GeoJSON=ra,n.GridLayer=Xu,n.Handler=ea,n.Icon=Ku,n.ImageOverlay=gc,n.LatLng=ge,n.LatLngBounds=K,n.Layer=ka,n.LayerGroup=$s,n.LineUtil=Ky,n.Map=vn,n.Marker=Wu,n.Mixin=Kf,n.Path=Do,n.Point=ue,n.PolyUtil=Xb,n.Polygon=Qu,n.Polyline=ko,n.Popup=mc,n.PosAnimation=so,n.Projection=Gy,n.Rectangle=aa,n.Renderer=ba,n.SVG=lo,n.SVGOverlay=bp,n.TileLayer=vi,n.Tooltip=ed,n.Transformation=oe,n.Util=te,n.VideoOverlay=Us,n.bind=o,n.bounds=me,n.canvas=td,n.circle=i1,n.circleMarker=Zy,n.control=qi,n.divIcon=Yy,n.extend=i,n.featureGroup=lc,n.geoJSON=Ju,n.geoJson=_p,n.gridLayer=ev,n.icon=Jf,n.imageOverlay=Bs,n.latLng=Re,n.latLngBounds=ee,n.layerGroup=Qy,n.map=Ma,n.marker=mp,n.point=k,n.polygon=na,n.polyline=a1,n.popup=Jy,n.rectangle=Yu,n.setOptions=_,n.stamp=l,n.svg=xp,n.svgOverlay=qs,n.tileLayer=ia,n.tooltip=o1,n.transformation=H,n.version=r,n.videoOverlay=wp;var Gs=window.L;n.noConflict=function(){return window.L=Gs,this},window.L=n})}(ym,ym.exports)),ym.exports}var Pn=vX();const FP=Ir(Pn),_X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",wX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",bX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete Pn.Icon.Default.prototype._getIconUrl;Pn.Icon.Default.mergeOptions({iconUrl:wX,iconRetinaUrl:_X,shadowUrl:bX});const wq="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",SX=Pn.icon({...Pn.Icon.Default.prototype.options,iconUrl:_k,iconRetinaUrl:_k}),xX=e=>Pn.icon({...Pn.Icon.Default.prototype.options,iconUrl:wk,iconRetinaUrl:wk,className:e}),iw=["en","cs"],jh="en",bq=[{recommended:!0,featured:!0,issuer:"https://solidcommunity.net",registration:"https://solidcommunity.net/register",server:"NSS"},{featured:!0,issuer:"https://solidweb.me/",registration:"https://solidweb.me/.account/login/password/register/",server:"CSS"},{issuer:"https://solid.redpencil.io/",registration:"https://solid.redpencil.io/idp/register/",server:"CSS"},{issuer:"https://teamid.live/",registration:"https://teamid.live/.account/login/password/register/",server:"CSS"},{issuer:"https://solidweb.org",registration:"https://solidweb.org/register",server:"NSS"},{issuer:"https://datapod.igrant.io",registration:"https://datapod.igrant.io/register",server:"NSS"},{issuer:"https://inrupt.net",registration:"https://inrupt.net/register",server:"NSS"},{issuer:"https://pods.solidcommunity.au",registration:"https://pods.solidcommunity.au/.account/login/password/register/",server:"CSS"}],EX=Object.freeze(Object.defineProperty({__proto__:null,communityContainer:gq,communityId:pq,darkModeLogoStyle:vq,defaultCommunityName:_q,defaultLocale:jh,emailNotificationsIdentity:pX,emailNotificationsService:hX,emailNotificationsType:mq,geoindexService:yq,locales:iw,oidcIssuers:bq,tileServer:wq},Symbol.toStringTag,{value:"Module"}));function ki(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var CX=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sk=CX,ex=()=>Math.random().toString(36).substring(7).split("").join("."),TX={INIT:`@@redux/INIT${ex()}`,REPLACE:`@@redux/REPLACE${ex()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ex()}`},aw=TX;function jP(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $P(e,t,n){if(typeof e!="function")throw new Error(ki(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ki(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ki(1));return n($P)(e,t)}let r=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((S,b)=>{o.set(b,S)}))}function d(){if(l)throw new Error(ki(3));return i}function h(S){if(typeof S!="function")throw new Error(ki(4));if(l)throw new Error(ki(5));let b=!0;c();const x=s++;return o.set(x,S),function(){if(b){if(l)throw new Error(ki(6));b=!1,c(),o.delete(x),a=null}}}function m(S){if(!jP(S))throw new Error(ki(7));if(typeof S.type>"u")throw new Error(ki(8));if(typeof S.type!="string")throw new Error(ki(17));if(l)throw new Error(ki(9));try{l=!0,i=r(i,S)}finally{l=!1}return(a=o).forEach(x=>{x()}),S}function y(S){if(typeof S!="function")throw new Error(ki(10));r=S,m({type:aw.REPLACE})}function v(){const S=h;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(ki(11));function x(){const P=b;P.next&&P.next(d())}return x(),{unsubscribe:S(x)}},[Sk](){return this}}}return m({type:aw.INIT}),{dispatch:m,subscribe:h,getState:d,replaceReducer:y,[Sk]:v}}function RX(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:aw.INIT})>"u")throw new Error(ki(12));if(typeof n(void 0,{type:aw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ki(13))})}function Sq(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{RX(n)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],m=n[h],y=o[h],v=m(y,s);if(typeof v>"u")throw s&&s.type,new Error(ki(14));c[h]=v,l=l||v!==y}return l=l||r.length!==Object.keys(o).length,l?c:o}}function ow(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function AX(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(ki(15))};const o={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},s=e.map(l=>l(o));return a=ow(...s)(i.dispatch),{...i,dispatch:a}}}function PX(e){return jP(e)&&"type"in e&&typeof e.type=="string"}var xq=Symbol.for("immer-nothing"),xk=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function Go(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Sh=Object.getPrototypeOf;function xf(e){return!!e&&!!e[Ya]}function Au(e){var t;return e?Eq(e)||Array.isArray(e)||!!e[xk]||!!((t=e.constructor)!=null&&t[xk])||Qw(e)||Zw(e):!1}var OX=Object.prototype.constructor.toString();function Eq(e){if(!e||typeof e!="object")return!1;const t=Sh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===OX}function sw(e,t){Ww(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ww(e){const t=e[Ya];return t?t.type_:Array.isArray(e)?1:Qw(e)?2:Zw(e)?3:0}function _A(e,t){return Ww(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Cq(e,t,n){const r=Ww(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function LX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qw(e){return e instanceof Map}function Zw(e){return e instanceof Set}function Yc(e){return e.copy_||e.base_}function wA(e,t){if(Qw(e))return new Map(e);if(Zw(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Eq(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ya];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Sh(e),r)}else{const r=Sh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function BP(e,t=!1){return Jw(e)||xf(e)||!Au(e)||(Ww(e)>1&&(e.set=e.add=e.clear=e.delete=IX),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>BP(r,!0))),e}function IX(){Go(2)}function Jw(e){return Object.isFrozen(e)}var MX={};function Ef(e){const t=MX[e];return t||Go(0,e),t}var Hm;function Tq(){return Hm}function DX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ek(e,t){t&&(Ef("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bA(e){SA(e),e.drafts_.forEach(kX),e.drafts_=null}function SA(e){e===Hm&&(Hm=e.parent_)}function Ck(e){return Hm=DX(Hm,e)}function kX(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Tk(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ya].modified_&&(bA(t),Go(4)),Au(e)&&(e=uw(t,e),t.parent_||lw(t,e)),t.patches_&&Ef("Patches").generateReplacementPatches_(n[Ya].base_,e,t.patches_,t.inversePatches_)):e=uw(t,n,[]),bA(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xq?e:void 0}function uw(e,t,n){if(Jw(t))return t;const r=t[Ya];if(!r)return sw(t,(i,a)=>Rk(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return lw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),sw(a,(s,l)=>Rk(e,r,i,s,l,n,o)),lw(e,i,!1),n&&e.patches_&&Ef("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Rk(e,t,n,r,i,a,o){if(xf(i)){const s=a&&t&&t.type_!==3&&!_A(t.assigned_,r)?a.concat(r):void 0,l=uw(e,i,s);if(Cq(n,r,l),xf(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Au(i)&&!Jw(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;uw(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&lw(e,i)}}function lw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&BP(t,n)}function NX(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Tq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=UP;n&&(i=[r],a=Vm);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var UP={get(e,t){if(t===Ya)return e;const n=Yc(e);if(!_A(n,t))return FX(e,n,t);const r=n[t];return e.finalized_||!Au(r)?r:r===tx(e.base_,t)?(nx(e),e.copy_[t]=EA(r,e)):r},has(e,t){return t in Yc(e)},ownKeys(e){return Reflect.ownKeys(Yc(e))},set(e,t,n){const r=Rq(Yc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=tx(Yc(e),t),a=i==null?void 0:i[Ya];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(LX(n,i)&&(n!==void 0||_A(e.base_,t)))return!0;nx(e),xA(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tx(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nx(e),xA(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Go(11)},getPrototypeOf(e){return Sh(e.base_)},setPrototypeOf(){Go(12)}},Vm={};sw(UP,(e,t)=>{Vm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Vm.deleteProperty=function(e,t){return Vm.set.call(this,e,t,void 0)};Vm.set=function(e,t,n){return UP.set.call(this,e[0],t,n,e[0])};function tx(e,t){const n=e[Ya];return(n?Yc(n):e)[t]}function FX(e,t,n){var i;const r=Rq(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function Rq(e,t){if(!(t in e))return;let n=Sh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Sh(n)}}function xA(e){e.modified_||(e.modified_=!0,e.parent_&&xA(e.parent_))}function nx(e){e.copy_||(e.copy_=wA(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(n,r,i)=>{if(typeof n=="function"&&typeof r!="function"){const o=r;r=n;const s=this;return function(c=o,...d){return s.produce(c,h=>r.call(this,h,...d))}}typeof r!="function"&&Go(6),i!==void 0&&typeof i!="function"&&Go(7);let a;if(Au(n)){const o=Ck(this),s=EA(n,void 0);let l=!0;try{a=r(s),l=!1}finally{l?bA(o):SA(o)}return Ek(o,i),Tk(a,o)}else if(!n||typeof n!="object"){if(a=r(n),a===void 0&&(a=n),a===xq&&(a=void 0),this.autoFreeze_&&BP(a,!0),i){const o=[],s=[];Ef("Patches").generateReplacementPatches_(n,a,o,s),i(o,s)}return a}else Go(1,n)},this.produceWithPatches=(n,r)=>{if(typeof n=="function")return(s,...l)=>this.produceWithPatches(s,c=>n(c,...l));let i,a;return[this.produce(n,r,(s,l)=>{i=s,a=l}),i,a]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Au(t)||Go(8),xf(t)&&(t=$X(t));const n=Ck(this),r=EA(t,void 0);return r[Ya].isManual_=!0,SA(n),r}finishDraft(t,n){const r=t&&t[Ya];(!r||!r.isManual_)&&Go(9);const{scope_:i}=r;return Ek(i,n),Tk(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Ef("Patches").applyPatches_;return xf(t)?i(t,n):this.produce(t,a=>i(a,n))}};function EA(e,t){const n=Qw(e)?Ef("MapSet").proxyMap_(e,t):Zw(e)?Ef("MapSet").proxySet_(e,t):NX(e,t);return(t?t.scope_:Tq()).drafts_.push(n),n}function $X(e){return xf(e)||Go(10,e),Aq(e)}function Aq(e){if(!Au(e)||Jw(e))return e;const t=e[Ya];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=wA(e,t.scope_.immer_.useStrictShallowCopy_)}else n=wA(e,!0);return sw(n,(r,i)=>{Cq(n,r,Aq(i))}),t&&(t.finalized_=!1),n}var eo=new jX,Pq=eo.produce;eo.produceWithPatches.bind(eo);eo.setAutoFreeze.bind(eo);eo.setUseStrictShallowCopy.bind(eo);eo.applyPatches.bind(eo);eo.createDraft.bind(eo);eo.finishDraft.bind(eo);function Oq(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var BX=Oq(),UX=Oq,qX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ow:ow.apply(null,arguments)},zX=e=>e&&typeof e.match=="function";function Ak(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Eu(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>PX(r)&&r.type===e,n}var Lq=class vm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vm.prototype)}static get[Symbol.species](){return vm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new vm(...t[0].concat(this)):new vm(...t.concat(this))}};function Pk(e){return Au(e)?Pq(e,()=>{}):e}function Ok(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function HX(e){return typeof e=="boolean"}var VX=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new Lq;return n&&(HX(n)?o.push(BX):o.push(UX(n.extraArgument))),o},KX="RTK_autoBatch",Lk=e=>t=>{setTimeout(t,e)},GX=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Lk(10):e.type==="callback"?e.queueNotification:Lk(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),m=r.subscribe(h);return s.add(d),()=>{m(),s.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[KX]),a=!i,a&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},WX=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new Lq(e);return r&&i.push(GX(typeof r=="object"?r:void 0)),i};function QX(e){const t=VX(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e;let s;if(typeof n=="function")s=n;else if(jP(n))s=Sq(n);else throw new Error(Eu(1));let l;typeof r=="function"?l=r(t):l=t();let c=ow;i&&(c=qX({trace:!1,...typeof i=="object"&&i}));const d=AX(...l),h=WX(d);let m=typeof o=="function"?o(h):h();const y=c(...m);return $P(s,a,y)}function Iq(e){const t={},n=[];let r;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Eu(28));if(s in t)throw new Error(Eu(29));return t[s]=o,i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function ZX(e){return typeof e=="function"}function JX(e,t){let[n,r,i]=Iq(t),a;if(ZX(e))a=()=>Pk(e());else{const s=Pk(e);a=()=>s}function o(s=a(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(xf(d)){const y=h(d,l);return y===void 0?d:y}else{if(Au(d))return Pq(d,m=>h(m,l));{const m=h(d,l);if(m===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return d},s)}return o.getInitialState=a,o}var XX=(e,t)=>zX(e)?e.match(t):e(t);function YX(...e){return t=>e.some(n=>XX(n,t))}var eY=Symbol.for("rtk-slice-createasyncthunk");function tY(e,t){return`${e}/${t}`}function nY({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[eY];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(Eu(11));const s=(typeof i.reducers=="function"?i.reducers(iY()):i.reducers)||{},l=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const O=typeof R=="string"?R:R.type;if(!O)throw new Error(Eu(12));if(O in c.sliceCaseReducersByType)throw new Error(Eu(13));return c.sliceCaseReducersByType[O]=P,d},addMatcher(R,P){return c.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return c.actionCreators[R]=P,d},exposeCaseReducer(R,P){return c.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=s[R],O={reducerName:R,type:tY(a,R),createNotation:typeof i.reducers=="function"};oY(P)?uY(O,P,d,t):aY(O,P,d)});function h(){const[R={},P=[],O=void 0]=typeof i.extraReducers=="function"?Iq(i.extraReducers):[i.extraReducers],D={...R,...c.sliceCaseReducersByType};return JX(i.initialState,F=>{for(let Q in D)F.addCase(Q,D[Q]);for(let Q of c.sliceMatchers)F.addMatcher(Q.matcher,Q.reducer);for(let Q of P)F.addMatcher(Q.matcher,Q.reducer);O&&F.addDefaultCase(O)})}const m=R=>R,y=new Map;let v;function _(R,P){return v||(v=h()),v(R,P)}function S(){return v||(v=h()),v.getInitialState()}function b(R,P=!1){function O(F){let Q=F[R];return typeof Q>"u"&&P&&(Q=S()),Q}function D(F=m){const Q=Ok(y,P,()=>new WeakMap);return Ok(Q,F,()=>{const Y={};for(const[U,X]of Object.entries(i.selectors??{}))Y[U]=rY(X,F,S,P);return Y})}return{reducerPath:R,getSelectors:D,get selectors(){return D(O)},selectSlice:O}}const x={name:a,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:S,...b(o),injectInto(R,{reducerPath:P,...O}={}){const D=P??o;return R.inject({reducerPath:D,reducer:_},O),{...x,...b(D,!0)}}};return x}}function rY(e,t,n,r){function i(a,...o){let s=t(a);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return i.unwrapped=e,i}var Xw=nY();function iY(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function aY({type:e,reducerName:t,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!sY(r))throw new Error(Eu(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ak(e,o):Ak(e))}function oY(e){return e._reducerDefinitionType==="asyncThunk"}function sY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function uY({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Eu(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:d}=n,h=i(e,a,d);r.exposeAction(t,h),o&&r.addCase(h.fulfilled,o),s&&r.addCase(h.pending,s),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(t,{fulfilled:o||Jv,pending:s||Jv,rejected:l||Jv,settled:c||Jv})}function Jv(){}function Eu(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Mq=()=>{var n;const e=((n=globalThis.navigator.languages)==null?void 0:n[0])??globalThis.navigator.language;return iw.find(r=>r===e)??iw.find(r=>e.startsWith(r))??jh},lY={theme:globalThis.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",locale:Mq()},cY=Xw({name:"ui",initialState:lY,reducers:{toggleTheme:e=>{e.theme=e.theme==="dark"?"light":"dark"},changeLocale:(e,t)=>{e.locale=t.payload??Mq()}}}),{actions:qP,reducer:fY}=cY,zP=e=>e.ui.theme,Ao=e=>e.ui.locale;var rx={},ix={},Ik;function dY(){return Ik||(Ik=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.errorMessages=e.ErrorType=void 0;var t;(function(n){n.MalformedUnicode="MALFORMED_UNICODE",n.MalformedHexadecimal="MALFORMED_HEXADECIMAL",n.CodePointLimit="CODE_POINT_LIMIT",n.OctalDeprecation="OCTAL_DEPRECATION",n.EndOfString="END_OF_STRING"})(t=e.ErrorType||(e.ErrorType={})),e.errorMessages=new Map([[t.MalformedUnicode,"malformed Unicode character escape sequence"],[t.MalformedHexadecimal,"malformed hexadecimal character escape sequence"],[t.CodePointLimit,"Unicode codepoint must not be greater than 0x10FFFF in escape sequence"],[t.OctalDeprecation,'"0"-prefixed octal literals and octal escape sequences are deprecated; for octal literals use the "0o" prefix instead'],[t.EndOfString,"malformed escape sequence at end of string"]])}(ix)),ix}var Mk;function hY(){return Mk||(Mk=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.unraw=e.errorMessages=e.ErrorType=void 0;const t=dY();Object.defineProperty(e,"ErrorType",{enumerable:!0,get:function(){return t.ErrorType}}),Object.defineProperty(e,"errorMessages",{enumerable:!0,get:function(){return t.errorMessages}});function n(y){return!y.match(/[^a-f0-9]/i)?parseInt(y,16):NaN}function r(y,v,_){const S=n(y);if(Number.isNaN(S)||_!==void 0&&_!==y.length)throw new SyntaxError(t.errorMessages.get(v));return S}function i(y){const v=r(y,t.ErrorType.MalformedHexadecimal,2);return String.fromCharCode(v)}function a(y,v){const _=r(y,t.ErrorType.MalformedUnicode,4);if(v!==void 0){const S=r(v,t.ErrorType.MalformedUnicode,4);return String.fromCharCode(_,S)}return String.fromCharCode(_)}function o(y){return y.charAt(0)==="{"&&y.charAt(y.length-1)==="}"}function s(y){if(!o(y))throw new SyntaxError(t.errorMessages.get(t.ErrorType.MalformedUnicode));const v=y.slice(1,-1),_=r(v,t.ErrorType.MalformedUnicode);try{return String.fromCodePoint(_)}catch(S){throw S instanceof RangeError?new SyntaxError(t.errorMessages.get(t.ErrorType.CodePointLimit)):S}}function l(y,v=!1){if(v)throw new SyntaxError(t.errorMessages.get(t.ErrorType.OctalDeprecation));const _=parseInt(y,8);return String.fromCharCode(_)}const c=new Map([["b","\b"],["f","\f"],["n",`
`],["r","\r"],["t","	"],["v","\v"],["0","\0"]]);function d(y){return c.get(y)||y}const h=/\\(?:(\\)|x([\s\S]{0,2})|u(\{[^}]*\}?)|u([\s\S]{4})\\u([^{][\s\S]{0,3})|u([\s\S]{0,4})|([0-3]?[0-7]{1,2})|([\s\S])|$)/g;function m(y,v=!1){return y.replace(h,function(_,S,b,x,R,P,O,D,F){if(S!==void 0)return"\\";if(b!==void 0)return i(b);if(x!==void 0)return s(x);if(R!==void 0)return a(R,P);if(O!==void 0)return a(O);if(D==="0")return"\0";if(D!==void 0)return l(D,!v);if(F!==void 0)return d(F);throw new SyntaxError(t.errorMessages.get(t.ErrorType.EndOfString))})}e.unraw=m,e.default=m}(rx)),rx}var pY=hY();const zl=e=>typeof e=="string",gY=e=>typeof e=="function",Dk=new Map,Dq="en";function HP(e){return[...Array.isArray(e)?e:[e],Dq]}function VP(e,t,n){const r=HP(e);n||(n="default");let i;if(typeof n=="string")switch(i={day:"numeric",month:"short",year:"numeric"},n){case"full":i.weekday="long";case"long":i.month="long";break;case"short":i.month="numeric";break}else i=n;return cw(()=>fw("date",r,n),()=>new Intl.DateTimeFormat(r,i)).format(zl(t)?new Date(t):t)}function mY(e,t,n){let r;if(n||(n="default"),typeof n=="string")switch(r={second:"numeric",minute:"numeric",hour:"numeric"},n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}else r=n;return VP(e,t,r)}function CA(e,t,n){const r=HP(e);return cw(()=>fw("number",r,n),()=>new Intl.NumberFormat(r,n)).format(t)}function kk(e,t,n,{offset:r=0,...i}){const a=HP(e),o=t?cw(()=>fw("plural-ordinal",a),()=>new Intl.PluralRules(a,{type:"ordinal"})):cw(()=>fw("plural-cardinal",a),()=>new Intl.PluralRules(a,{type:"cardinal"}));return i[n]??i[o.select(n-r)]??i.other}function cw(e,t){const n=e();let r=Dk.get(n);return r||(r=t(),Dk.set(n,r)),r}function fw(e,t,n){const r=t.join("-");return`${e}-${r}-${JSON.stringify(n)}`}const kq=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/,Nq="%__lingui_octothorpe__%",yY=(e,t,n={})=>{const r=t||e,i=o=>typeof o=="object"?o:n[o],a=(o,s)=>{const l=Object.keys(n).length?i("number"):void 0,c=CA(r,o,l);return s.replace(new RegExp(Nq,"g"),c)};return{plural:(o,s)=>{const{offset:l=0}=s,c=kk(r,!1,o,s);return a(o-l,c)},selectordinal:(o,s)=>{const{offset:l=0}=s,c=kk(r,!0,o,s);return a(o-l,c)},select:vY,number:(o,s)=>CA(r,o,i(s)||{style:s}),date:(o,s)=>VP(r,o,i(s)||s),time:(o,s)=>mY(r,o,i(s)||s)}},vY=(e,t)=>t[e]??t.other;function _Y(e,t,n){return(r={},i)=>{const a=yY(t,n,i),o=(l,c=!1)=>Array.isArray(l)?l.reduce((d,h)=>{if(h==="#"&&c)return d+Nq;if(zl(h))return d+h;const[m,y,v]=h;let _={};y==="plural"||y==="selectordinal"||y==="select"?Object.entries(v).forEach(([b,x])=>{_[b]=o(x,y==="plural"||y==="selectordinal")}):_=v;let S;if(y){const b=a[y];S=b(r[m],_)}else S=r[m];return S==null?d:d+S},""):l,s=o(e);return zl(s)&&kq.test(s)?pY.unraw(s):zl(s)?s:s?String(s):""}}var wY=Object.defineProperty,bY=(e,t,n)=>t in e?wY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,SY=(e,t,n)=>(bY(e,t+"",n),n);let xY=class{constructor(){SY(this,"_events",{})}on(t,n){var r;return(r=this._events)[t]??(r[t]=[]),this._events[t].push(n),()=>this.removeListener(t,n)}removeListener(t,n){const r=this._getListeners(t);if(!r)return;const i=r.indexOf(n);~i&&r.splice(i,1)}emit(t,...n){const r=this._getListeners(t);r&&r.map(i=>i.apply(this,n))}_getListeners(t){const n=this._events[t];return Array.isArray(n)?n:!1}};var EY=Object.defineProperty,CY=(e,t,n)=>t in e?EY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mc=(e,t,n)=>(CY(e,typeof t!="symbol"?t+"":t,n),n);class TY extends xY{constructor(t){super(),Mc(this,"_locale",""),Mc(this,"_locales"),Mc(this,"_localeData",{}),Mc(this,"_messages",{}),Mc(this,"_missing"),Mc(this,"_messageCompiler"),Mc(this,"t",this._.bind(this)),t.missing!=null&&(this._missing=t.missing),t.messages!=null&&this.load(t.messages),t.localeData!=null&&this.loadLocaleData(t.localeData),(typeof t.locale=="string"||t.locales)&&this.activate(t.locale??Dq,t.locales)}get locale(){return this._locale}get locales(){return this._locales}get messages(){return this._messages[this._locale]??{}}get localeData(){return this._localeData[this._locale]??{}}_loadLocaleData(t,n){const r=this._localeData[t];r?Object.assign(r,n):this._localeData[t]=n}setMessagesCompiler(t){return this._messageCompiler=t,this}loadLocaleData(t,n){typeof t=="string"?this._loadLocaleData(t,n):Object.keys(t).forEach(r=>this._loadLocaleData(r,t[r])),this.emit("change")}_load(t,n){const r=this._messages[t];r?Object.assign(r,n):this._messages[t]=n}load(t,n){typeof t=="string"&&typeof n=="object"?this._load(t,n):Object.entries(t).forEach(([r,i])=>this._load(r,i)),this.emit("change")}loadAndActivate({locale:t,locales:n,messages:r}){this._locale=t,this._locales=n||void 0,this._messages[this._locale]=r,this.emit("change")}activate(t,n){this._locale=t,this._locales=n,this.emit("change")}_(t,n,r){if(!this.locale)throw new Error("Lingui: Attempted to call a translation function without setting a locale.\nMake sure to call `i18n.activate(locale)` before using Lingui functions.\nThis issue may also occur due to a race condition in your initialization logic.");let i=r==null?void 0:r.message;t||(t=""),zl(t)||(n=t.values||n,i=t.message,t=t.id);const a=this.messages[t],o=a===void 0,s=this._missing;if(s&&o)return gY(s)?s(this._locale,t):s;o&&this.emit("missing",{id:t,locale:this._locale});let l=a||i||t;return zl(l)&&(this._messageCompiler?l=this._messageCompiler(l):console.warn(`Uncompiled message detected! Message:

> ${l}

That means you use raw catalog or your catalog doesn't have a translation for the message and fallback was used.
ICU features such as interpolation and plurals will not work properly for that message. 

Please compile your catalog first. 
`)),zl(l)&&kq.test(l)?JSON.parse(`"${l}"`):zl(l)?l:_Y(l,this._locale,this._locales)(n,r==null?void 0:r.formats)}date(t,n){return VP(this._locales||this._locale,t,n)}number(t,n){return CA(this._locales||this._locale,t,n)}}function RY(e={}){return new TY(e)}const TA=RY(),AY=/<([a-zA-Z0-9]+)>([\s\S]*?)<\/\1>|<([a-zA-Z0-9]+)\/>/,PY={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0};function Fq(e,t={}){const n=OY(0,"$lingui$"),r=e.split(AY);if(r.length===1)return e;const i=[],a=r.shift();a&&i.push(a);for(const[o,s,l]of jq(r)){let c=typeof o<"u"?t[o]:void 0;(!c||PY[c.type]&&s)&&(console.error(c?`${c.type} is a void element tag therefore it must have no children`:`Can't use element at index '${o}' as it is not declared in the original translation`),c=Pt.createElement(Pt.Fragment)),Array.isArray(c)&&(c=Pt.createElement(Pt.Fragment,{},c)),i.push(Pt.cloneElement(c,{key:n()},s?Fq(s,t):c.props.children)),l&&i.push(l)}return i.length===1?i[0]:i}function jq(e){if(!e.length)return[];const[t,n,r,i]=e.slice(0,4);return[[t||r,n||"",i]].concat(jq(e.slice(4,e.length)))}const OY=(e=0,t="")=>()=>`${t}_${e++}`;function LY(e){const{render:t,component:n,id:r,message:i,formats:a,lingui:{i18n:o,defaultComponent:s}}=e,l={...e.values},c={...e.components};Object.keys(l).forEach(_=>{const S=Object.keys(c).length;typeof l[_]=="string"||typeof l[_]=="number"||(c[S]=Pt.createElement(Pt.Fragment,null,l[_]),l[_]=`<${S}/>`)});const d=o&&typeof o._=="function"?o._(r,l,{message:i,formats:a}):r,h=d?Fq(d,c):null;if(t===null||n===null)return h;const m=s||IY,y={id:r,message:i,translation:h,children:h};if(t&&n)console.error("You can't use both `component` and `render` prop at the same time. `component` is ignored.");else if(t&&typeof t!="function")console.error(`Invalid value supplied to prop \`render\`. It must be a function, provided ${t}`);else if(n&&typeof n!="function")return console.error(`Invalid value supplied to prop \`component\`. It must be a React component, provided ${n}`),Pt.createElement(m,y,h);if(typeof t=="function")return t(y);const v=n||m;return Pt.createElement(v,y,h)}const IY=({children:e})=>Pt.createElement(Pt.Fragment,null,e),$q=Pt.createContext(null),Bq=e=>Pt.useContext($q);function Qr(){return Bq()}const MY=({i18n:e,defaultComponent:t,children:n})=>{const r=Pt.useRef(e.locale),i=Pt.useCallback(()=>({i18n:e,defaultComponent:t,_:e.t.bind(e)}),[e,t]),[a,o]=Pt.useState(i());return Pt.useEffect(()=>{const s=()=>{r.current=e.locale,o(i())},l=e.on("change",s);return r.current!==e.locale&&s(),l},[e,i]),r.current?Pt.createElement($q.Provider,{value:a},n):null};function _t(e){const t=Bq();return Pt.createElement(LY,{...e,lingui:t})}const DY=({children:e})=>{const t=jr(Ao),n=nc();return V.useEffect(()=>{t?kY(t):n(qP.changeLocale())},[n,t]),B.jsx(MY,{i18n:TA,children:e})};async function kY(e){const{messages:t}=await dX(Object.assign({"../locales/cs.ts":()=>vk(()=>import("./cs-DfdTNfyz.js"),[]),"../locales/en.ts":()=>vk(()=>import("./en-pDAqjvz0.js"),[])}),`../locales/${e}.ts`,3);TA.load(e,t),TA.activate(e)}const NY={},FY=Xw({name:"auth",initialState:NY,reducers:{signin:(e,t)=>{e.isLoggedIn=t.payload.isLoggedIn,e.webId=t.payload.webId},setUser:(e,t)=>{e.profile=t.payload},signout:e=>{e.isLoggedIn=!1}}}),{actions:KP,reducer:jY}=FY,$h=e=>e.auth,$Y={},BY=Xw({name:"config",initialState:$Y,reducers:{setConfig:(e,t)=>{Object.assign(e,t.payload)},resetConfig:()=>({})}}),{actions:RA,reducer:UY}=BY,Uq=e=>e.config,qY={},zY=Xw({name:"login",initialState:qY,reducers:{setLastSelectedIssuer:(e,t)=>{e.lastSelectedIssuer=t.payload}}}),{actions:dw,reducer:HY}=zY,qq=e=>e.login.lastSelectedIssuer;var GP="persist:",WP="persist/FLUSH",Yw="persist/REHYDRATE",QP="persist/PAUSE",ZP="persist/PERSIST",JP="persist/PURGE",XP="persist/REGISTER",VY=-1;function M0(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M0=function(n){return typeof n}:M0=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},M0(e)}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(n,!0).forEach(function(r){GY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WY(e,t,n,r){r.debug;var i=KY({},n);return e&&M0(e)==="object"&&Object.keys(e).forEach(function(a){a!=="_persist"&&t[a]===n[a]&&(i[a]=e[a])}),i}function QY(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],i=e.throttle||0,a="".concat(e.keyPrefix!==void 0?e.keyPrefix:GP).concat(e.key),o=e.storage,s;e.serialize===!1?s=function(O){return O}:typeof e.serialize=="function"?s=e.serialize:s=ZY;var l=e.writeFailHandler||null,c={},d={},h=[],m=null,y=null,v=function(O){Object.keys(O).forEach(function(D){b(D)&&c[D]!==O[D]&&h.indexOf(D)===-1&&h.push(D)}),Object.keys(c).forEach(function(D){O[D]===void 0&&b(D)&&h.indexOf(D)===-1&&c[D]!==void 0&&h.push(D)}),m===null&&(m=setInterval(_,i)),c=O};function _(){if(h.length===0){m&&clearInterval(m),m=null;return}var P=h.shift(),O=r.reduce(function(D,F){return F.in(D,P,c)},c[P]);if(O!==void 0)try{d[P]=s(O)}catch(D){console.error("redux-persist/createPersistoid: error serializing state",D)}else delete d[P];h.length===0&&S()}function S(){Object.keys(d).forEach(function(P){c[P]===void 0&&delete d[P]}),y=o.setItem(a,s(d)).catch(x)}function b(P){return!(n&&n.indexOf(P)===-1&&P!=="_persist"||t&&t.indexOf(P)!==-1)}function x(P){l&&l(P)}var R=function(){for(;h.length!==0;)_();return y||Promise.resolve()};return{update:v,flush:R}}function ZY(e){return JSON.stringify(e)}function JY(e){var t=e.transforms||[],n="".concat(e.keyPrefix!==void 0?e.keyPrefix:GP).concat(e.key),r=e.storage;e.debug;var i;return e.deserialize===!1?i=function(o){return o}:typeof e.deserialize=="function"?i=e.deserialize:i=XY,r.getItem(n).then(function(a){if(a)try{var o={},s=i(a);return Object.keys(s).forEach(function(l){o[l]=t.reduceRight(function(c,d){return d.out(c,l,s)},i(s[l]))}),o}catch(l){throw l}else return})}function XY(e){return JSON.parse(e)}function YY(e){var t=e.storage,n="".concat(e.keyPrefix!==void 0?e.keyPrefix:GP).concat(e.key);return t.removeItem(n,eee)}function eee(e){}function Fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fk(n,!0).forEach(function(r){tee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fk(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nee(e,t){if(e==null)return{};var n=ree(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ree(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var iee=5e3;function aee(e,t){var n=e.version!==void 0?e.version:VY;e.debug;var r=e.stateReconciler===void 0?WY:e.stateReconciler,i=e.getStoredState||JY,a=e.timeout!==void 0?e.timeout:iee,o=null,s=!1,l=!0,c=function(h){return h._persist.rehydrated&&o&&!l&&o.update(h),h};return function(d,h){var m=d||{},y=m._persist,v=nee(m,["_persist"]),_=v;if(h.type===ZP){var S=!1,b=function(Q,Y){S||(h.rehydrate(e.key,Q,Y),S=!0)};if(a&&setTimeout(function(){!S&&b(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(e.key,'"')))},a),l=!1,o||(o=QY(e)),y)return lu({},t(_,h),{_persist:y});if(typeof h.rehydrate!="function"||typeof h.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),i(e).then(function(F){var Q=e.migrate||function(Y,U){return Promise.resolve(Y)};Q(F,n).then(function(Y){b(Y)},function(Y){b(void 0,Y)})},function(F){b(void 0,F)}),lu({},t(_,h),{_persist:{version:n,rehydrated:!1}})}else{if(h.type===JP)return s=!0,h.result(YY(e)),lu({},t(_,h),{_persist:y});if(h.type===WP)return h.result(o&&o.flush()),lu({},t(_,h),{_persist:y});if(h.type===QP)l=!0;else if(h.type===Yw){if(s)return lu({},_,{_persist:lu({},y,{rehydrated:!0})});if(h.key===e.key){var x=t(_,h),R=h.payload,P=r!==!1&&R!==void 0?r(R,d,x,e):x,O=lu({},P,{_persist:lu({},y,{rehydrated:!0})});return c(O)}}}if(!y)return t(d,h);var D=t(_,h);return D===_?d:c(lu({},D,{_persist:y}))}}function jk(e){return uee(e)||see(e)||oee()}function oee(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function see(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function uee(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$k(n,!0).forEach(function(r){lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zq={registry:[],bootstrapped:!1},cee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zq,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case XP:return AA({},t,{registry:[].concat(jk(t.registry),[n.key])});case Yw:var r=t.registry.indexOf(n.key),i=jk(t.registry);return i.splice(r,1),AA({},t,{registry:i,bootstrapped:i.length===0});default:return t}};function fee(e,t,n){var r=$P(cee,zq,void 0),i=function(l){r.dispatch({type:XP,key:l})},a=function(l,c,d){var h={type:Yw,payload:c,err:d,key:l};e.dispatch(h),r.dispatch(h)},o=AA({},r,{purge:function(){var l=[];return e.dispatch({type:JP,result:function(d){l.push(d)}}),Promise.all(l)},flush:function(){var l=[];return e.dispatch({type:WP,result:function(d){l.push(d)}}),Promise.all(l)},pause:function(){e.dispatch({type:QP})},persist:function(){e.dispatch({type:ZP,register:i,rehydrate:a})}});return o.persist(),o}var rg={},Xv={},Yv={},Bk;function dee(){if(Bk)return Yv;Bk=1,Yv.__esModule=!0,Yv.default=i;function e(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(s){return typeof s}:e=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},e(a)}function t(){}var n={getItem:t,setItem:t,removeItem:t};function r(a){if((typeof self>"u"?"undefined":e(self))!=="object"||!(a in self))return!1;try{var o=self[a],s="redux-persist ".concat(a," test");o.setItem(s,"test"),o.getItem(s),o.removeItem(s)}catch{return!1}return!0}function i(a){var o="".concat(a,"Storage");return r(o)?self[o]:n}return Yv}var Uk;function hee(){if(Uk)return Xv;Uk=1,Xv.__esModule=!0,Xv.default=n;var e=t(dee());function t(r){return r&&r.__esModule?r:{default:r}}function n(r){var i=(0,e.default)(r);return{getItem:function(o){return new Promise(function(s,l){s(i.getItem(o))})},setItem:function(o,s){return new Promise(function(l,c){l(i.setItem(o,s))})},removeItem:function(o){return new Promise(function(s,l){s(i.removeItem(o))})}}}return Xv}var qk;function pee(){if(qk)return rg;qk=1,rg.__esModule=!0,rg.default=void 0;var e=t(hee());function t(r){return r&&r.__esModule?r:{default:r}}var n=(0,e.default)("local");return rg.default=n,rg}var gee=pee();const mee=Ir(gee),e_=Sq({auth:jY,login:HY,config:UY,ui:fY}),yee=(e,t)=>{if(YX(KP.signout)(t)){let n=e_(void 0,t);const r=e&&Uq(e);r&&(n=e_(n,RA.setConfig(r)));const i=e&&qq(e);return i&&(n=e_(n,dw.setLastSelectedIssuer(i))),n}return e_(e,t)},vee={key:"root",storage:mee,whitelist:["login","config","ui"]},_ee=aee(vee,yee),Hq=QX({reducer:_ee,middleware:e=>e({serializableCheck:{ignoredActions:[WP,Yw,QP,ZP,JP,XP]}})}),wee=fee(Hq),Bh=crypto,YP=e=>e instanceof CryptoKey,Cs=new TextEncoder,xh=new TextDecoder;function Vq(...e){const t=e.reduce((i,{length:a})=>i+a,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}const bee=e=>{let t=e;typeof t=="string"&&(t=Cs.encode(t));const n=32768,r=[];for(let i=0;i<t.length;i+=n)r.push(String.fromCharCode.apply(null,t.subarray(i,i+n)));return btoa(r.join(""))},D0=e=>bee(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),See=e=>{const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},vf=e=>{let t=e;t instanceof Uint8Array&&(t=xh.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return See(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class ji extends Error{constructor(t,n){var r;super(t,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}ji.code="ERR_JOSE_GENERIC";class Uo extends ji{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}Uo.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class PA extends ji{constructor(t,n,r="unspecified",i="unspecified"){super(t,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}PA.code="ERR_JWT_EXPIRED";class Kq extends ji{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}Kq.code="ERR_JOSE_ALG_NOT_ALLOWED";class Aa extends ji{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}Aa.code="ERR_JOSE_NOT_SUPPORTED";class xee extends ji{constructor(t="decryption operation failed",n){super(t,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}xee.code="ERR_JWE_DECRYPTION_FAILED";class Eee extends ji{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}Eee.code="ERR_JWE_INVALID";class Nr extends ji{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}Nr.code="ERR_JWS_INVALID";class eb extends ji{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}eb.code="ERR_JWT_INVALID";class Cee extends ji{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}Cee.code="ERR_JWK_INVALID";class eO extends ji{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}eO.code="ERR_JWKS_INVALID";class tO extends ji{constructor(t="no applicable key found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}tO.code="ERR_JWKS_NO_MATCHING_KEY";class Gq extends ji{constructor(t="multiple matching keys found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}Gq.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class Wq extends ji{constructor(t="request timed out",n){super(t,n),this.code="ERR_JWKS_TIMEOUT"}}Wq.code="ERR_JWKS_TIMEOUT";class Qq extends ji{constructor(t="signature verification failed",n){super(t,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}Qq.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function cu(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function t_(e,t){return e.name===t}function ax(e){return parseInt(e.name.slice(4),10)}function Tee(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Ree(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){const r=t.pop();n+=`one of ${t.join(", ")}, or ${r}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw new TypeError(n)}}function Aee(e,t,...n){switch(t){case"HS256":case"HS384":case"HS512":{if(!t_(e.algorithm,"HMAC"))throw cu("HMAC");const r=parseInt(t.slice(2),10);if(ax(e.algorithm.hash)!==r)throw cu(`SHA-${r}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!t_(e.algorithm,"RSASSA-PKCS1-v1_5"))throw cu("RSASSA-PKCS1-v1_5");const r=parseInt(t.slice(2),10);if(ax(e.algorithm.hash)!==r)throw cu(`SHA-${r}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!t_(e.algorithm,"RSA-PSS"))throw cu("RSA-PSS");const r=parseInt(t.slice(2),10);if(ax(e.algorithm.hash)!==r)throw cu(`SHA-${r}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw cu("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!t_(e.algorithm,"ECDSA"))throw cu("ECDSA");const r=Tee(t);if(e.algorithm.namedCurve!==r)throw cu(r,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Ree(e,n)}function Zq(e,t,...n){var r;if(n=n.filter(Boolean),n.length>2){const i=n.pop();e+=`one of type ${n.join(", ")}, or ${i}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&(r=t.constructor)!=null&&r.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const OA=(e,...t)=>Zq("Key must be ",e,...t);function Jq(e,t,...n){return Zq(`Key for the ${e} algorithm must be `,t,...n)}const Xq=e=>YP(e)?!0:(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",Km=["CryptoKey"],Yq=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let n;for(const r of t){const i=Object.keys(r);if(!n||n.size===0){n=new Set(i);continue}for(const a of i){if(n.has(a))return!1;n.add(a)}}return!0};function Pee(e){return typeof e=="object"&&e!==null}function Pu(e){if(!Pee(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}const e9=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Uh(e){return Pu(e)&&typeof e.kty=="string"}function Oee(e){return e.kty!=="oct"&&typeof e.d=="string"}function Lee(e){return e.kty!=="oct"&&typeof e.d>"u"}function Iee(e){return Uh(e)&&e.kty==="oct"&&typeof e.k=="string"}function Mee(e){let t,n;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Aa('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}const t9=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:n}=Mee(e),r=[t,e.ext??!1,e.key_ops??n],i={...e};return delete i.alg,delete i.use,Bh.subtle.importKey("jwk",i,...r)},n9=e=>vf(e);let Ed,Cd;const r9=e=>(e==null?void 0:e[Symbol.toStringTag])==="KeyObject",hw=async(e,t,n,r,i=!1)=>{let a=e.get(t);if(a!=null&&a[r])return a[r];const o=await t9({...n,alg:r});return i&&Object.freeze(t),a?a[r]=o:e.set(t,{[r]:o}),o},Dee=(e,t)=>{if(r9(e)){let n=e.export({format:"jwk"});return delete n.d,delete n.dp,delete n.dq,delete n.p,delete n.q,delete n.qi,n.k?n9(n.k):(Cd||(Cd=new WeakMap),hw(Cd,e,n,t))}return Uh(e)?e.k?vf(e.k):(Cd||(Cd=new WeakMap),hw(Cd,e,e,t,!0)):e},kee=(e,t)=>{if(r9(e)){let n=e.export({format:"jwk"});return n.k?n9(n.k):(Ed||(Ed=new WeakMap),hw(Ed,e,n,t))}return Uh(e)?e.k?vf(e.k):(Ed||(Ed=new WeakMap),hw(Ed,e,e,t,!0)):e},zk={normalizePublicKey:Dee,normalizePrivateKey:kee};async function i9(e,t){if(!Pu(e))throw new TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return vf(e.k);case"RSA":if(e.oth!==void 0)throw new Aa('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return t9({...e,alg:t});default:throw new Aa('Unsupported "kty" (Key Type) Parameter value')}}const zd=e=>e==null?void 0:e[Symbol.toStringTag],LA=(e,t,n)=>{var r,i;if(t.use!==void 0&&t.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(t.key_ops!==void 0&&((i=(r=t.key_ops).includes)==null?void 0:i.call(r,n))!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${n}`);if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},Nee=(e,t,n,r)=>{if(!(t instanceof Uint8Array)){if(r&&Uh(t)){if(Iee(t)&&LA(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!Xq(t))throw new TypeError(Jq(e,t,...Km,"Uint8Array",r?"JSON Web Key":null));if(t.type!=="secret")throw new TypeError(`${zd(t)} instances for symmetric algorithms must be of type "secret"`)}},Fee=(e,t,n,r)=>{if(r&&Uh(t))switch(n){case"sign":if(Oee(t)&&LA(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(Lee(t)&&LA(e,t,n))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!Xq(t))throw new TypeError(Jq(e,t,...Km,r?"JSON Web Key":null));if(t.type==="secret")throw new TypeError(`${zd(t)} instances for asymmetric algorithms must not be of type "secret"`);if(n==="sign"&&t.type==="public")throw new TypeError(`${zd(t)} instances for asymmetric algorithm signing must be of type "private"`);if(n==="decrypt"&&t.type==="public")throw new TypeError(`${zd(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&n==="verify"&&t.type==="private")throw new TypeError(`${zd(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&n==="encrypt"&&t.type==="private")throw new TypeError(`${zd(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function a9(e,t,n,r){t.startsWith("HS")||t==="dir"||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?Nee(t,n,r,e):Fee(t,n,r,e)}a9.bind(void 0,!1);const IA=a9.bind(void 0,!0);function o9(e,t,n,r,i){if(i.crit!==void 0&&(r==null?void 0:r.crit)===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||r.crit===void 0)return new Set;if(!Array.isArray(r.crit)||r.crit.length===0||r.crit.some(o=>typeof o!="string"||o.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;n!==void 0?a=new Map([...Object.entries(n),...t.entries()]):a=t;for(const o of r.crit){if(!a.has(o))throw new Aa(`Extension Header Parameter "${o}" is not recognized`);if(i[o]===void 0)throw new e(`Extension Header Parameter "${o}" is missing`);if(a.get(o)&&r[o]===void 0)throw new e(`Extension Header Parameter "${o}" MUST be integrity protected`)}return new Set(r.crit)}const jee=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)},$ee=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:D0(e)};if(!YP(e))throw new TypeError(OA(e,...Km,"Uint8Array"));if(!e.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:t,key_ops:n,alg:r,use:i,...a}=await Bh.subtle.exportKey("jwk",e);return a};async function Bee(e){return $ee(e)}function s9(e,t){const n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new Aa(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}async function u9(e,t,n){if(n==="sign"&&(t=await zk.normalizePrivateKey(t,e)),n==="verify"&&(t=await zk.normalizePublicKey(t,e)),YP(t))return Aee(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(OA(t,...Km));return Bh.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw new TypeError(OA(t,...Km,"Uint8Array","JSON Web Key"))}const Uee=async(e,t,n,r)=>{const i=await u9(e,t,"verify");e9(e,i);const a=s9(e,i.algorithm);try{return await Bh.subtle.verify(a,i,n,r)}catch{return!1}};async function qee(e,t,n){if(!Pu(e))throw new Nr("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new Nr('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new Nr("JWS Protected Header incorrect type");if(e.payload===void 0)throw new Nr("JWS Payload missing");if(typeof e.signature!="string")throw new Nr("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Pu(e.header))throw new Nr("JWS Unprotected Header incorrect type");let r={};if(e.protected)try{const _=vf(e.protected);r=JSON.parse(xh.decode(_))}catch{throw new Nr("JWS Protected Header is invalid")}if(!Yq(r,e.header))throw new Nr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const i={...r,...e.header},a=o9(Nr,new Map([["b64",!0]]),n==null?void 0:n.crit,r,i);let o=!0;if(a.has("b64")&&(o=r.b64,typeof o!="boolean"))throw new Nr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=i;if(typeof s!="string"||!s)throw new Nr('JWS "alg" (Algorithm) Header Parameter missing or invalid');const l=jee("algorithms",n.algorithms);if(l&&!l.has(s))throw new Kq('"alg" (Algorithm) Header Parameter value not allowed');if(o){if(typeof e.payload!="string")throw new Nr("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new Nr("JWS Payload must be a string or an Uint8Array instance");let c=!1;typeof t=="function"?(t=await t(r,e),c=!0,IA(s,t,"verify"),Uh(t)&&(t=await i9(t,s))):IA(s,t,"verify");const d=Vq(Cs.encode(e.protected??""),Cs.encode("."),typeof e.payload=="string"?Cs.encode(e.payload):e.payload);let h;try{h=vf(e.signature)}catch{throw new Nr("Failed to base64url decode the signature")}if(!await Uee(s,t,h,d))throw new Qq;let y;if(o)try{y=vf(e.payload)}catch{throw new Nr("Failed to base64url decode the payload")}else typeof e.payload=="string"?y=Cs.encode(e.payload):y=e.payload;const v={payload:y};return e.protected!==void 0&&(v.protectedHeader=r),e.header!==void 0&&(v.unprotectedHeader=e.header),c?{...v,key:t}:v}async function zee(e,t,n){if(e instanceof Uint8Array&&(e=xh.decode(e)),typeof e!="string")throw new Nr("Compact JWS must be a string or Uint8Array");const{0:r,1:i,2:a,length:o}=e.split(".");if(o!==3)throw new Nr("Invalid Compact JWS");const s=await qee({payload:i,protected:r,signature:a},t,n),l={payload:s.payload,protectedHeader:s.protectedHeader};return typeof t=="function"?{...l,key:s.key}:l}const Tl=e=>Math.floor(e.getTime()/1e3),l9=60,c9=l9*60,nO=c9*24,Hee=nO*7,Vee=nO*365.25,Kee=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Im=e=>{const t=Kee.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const n=parseFloat(t[2]),r=t[3].toLowerCase();let i;switch(r){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(n*l9);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(n*c9);break;case"day":case"days":case"d":i=Math.round(n*nO);break;case"week":case"weeks":case"w":i=Math.round(n*Hee);break;default:i=Math.round(n*Vee);break}return t[1]==="-"||t[4]==="ago"?-i:i},Hk=e=>e.toLowerCase().replace(/^application\//,""),Gee=(e,t)=>typeof e=="string"?t.includes(e):Array.isArray(e)?t.some(Set.prototype.has.bind(new Set(e))):!1,Wee=(e,t,n={})=>{let r;try{r=JSON.parse(xh.decode(t))}catch{}if(!Pu(r))throw new eb("JWT Claims Set must be a top-level JSON object");const{typ:i}=n;if(i&&(typeof e.typ!="string"||Hk(e.typ)!==Hk(i)))throw new Uo('unexpected "typ" JWT header value',r,"typ","check_failed");const{requiredClaims:a=[],issuer:o,subject:s,audience:l,maxTokenAge:c}=n,d=[...a];c!==void 0&&d.push("iat"),l!==void 0&&d.push("aud"),s!==void 0&&d.push("sub"),o!==void 0&&d.push("iss");for(const v of new Set(d.reverse()))if(!(v in r))throw new Uo(`missing required "${v}" claim`,r,v,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(r.iss))throw new Uo('unexpected "iss" claim value',r,"iss","check_failed");if(s&&r.sub!==s)throw new Uo('unexpected "sub" claim value',r,"sub","check_failed");if(l&&!Gee(r.aud,typeof l=="string"?[l]:l))throw new Uo('unexpected "aud" claim value',r,"aud","check_failed");let h;switch(typeof n.clockTolerance){case"string":h=Im(n.clockTolerance);break;case"number":h=n.clockTolerance;break;case"undefined":h=0;break;default:throw new TypeError("Invalid clockTolerance option type")}const{currentDate:m}=n,y=Tl(m||new Date);if((r.iat!==void 0||c)&&typeof r.iat!="number")throw new Uo('"iat" claim must be a number',r,"iat","invalid");if(r.nbf!==void 0){if(typeof r.nbf!="number")throw new Uo('"nbf" claim must be a number',r,"nbf","invalid");if(r.nbf>y+h)throw new Uo('"nbf" claim timestamp check failed',r,"nbf","check_failed")}if(r.exp!==void 0){if(typeof r.exp!="number")throw new Uo('"exp" claim must be a number',r,"exp","invalid");if(r.exp<=y-h)throw new PA('"exp" claim timestamp check failed',r,"exp","check_failed")}if(c){const v=y-r.iat,_=typeof c=="number"?c:Im(c);if(v-h>_)throw new PA('"iat" claim timestamp check failed (too far in the past)',r,"iat","check_failed");if(v<0-h)throw new Uo('"iat" claim timestamp check failed (it should be in the past)',r,"iat","check_failed")}return r};async function Qee(e,t,n){var o;const r=await zee(e,t,n);if((o=r.protectedHeader.crit)!=null&&o.includes("b64")&&r.protectedHeader.b64===!1)throw new eb("JWTs MUST NOT use unencoded payload");const a={payload:Wee(r.protectedHeader,r.payload,n),protectedHeader:r.protectedHeader};return typeof t=="function"?{...a,key:r.key}:a}const Zee=async(e,t,n)=>{const r=await u9(e,t,"sign");e9(e,r);const i=await Bh.subtle.sign(s9(e,r.algorithm),r,n);return new Uint8Array(i)};class Jee{constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,n){if(!this._protectedHeader&&!this._unprotectedHeader)throw new Nr("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Yq(this._protectedHeader,this._unprotectedHeader))throw new Nr("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const r={...this._protectedHeader,...this._unprotectedHeader},i=o9(Nr,new Map([["b64",!0]]),n==null?void 0:n.crit,this._protectedHeader,r);let a=!0;if(i.has("b64")&&(a=this._protectedHeader.b64,typeof a!="boolean"))throw new Nr('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:o}=r;if(typeof o!="string"||!o)throw new Nr('JWS "alg" (Algorithm) Header Parameter missing or invalid');IA(o,t,"sign");let s=this._payload;a&&(s=Cs.encode(D0(s)));let l;this._protectedHeader?l=Cs.encode(D0(JSON.stringify(this._protectedHeader))):l=Cs.encode("");const c=Vq(l,Cs.encode("."),s),d=await Zee(o,t,c),h={signature:D0(d),payload:""};return a&&(h.payload=xh.decode(s)),this._unprotectedHeader&&(h.header=this._unprotectedHeader),this._protectedHeader&&(h.protected=xh.decode(l)),h}}class Xee{constructor(t){this._flattened=new Jee(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,n){const r=await this._flattened.sign(t,n);if(r.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${r.protected}.${r.payload}.${r.signature}`}}function Dc(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Yee{constructor(t={}){if(!Pu(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:Dc("setNotBefore",t)}:t instanceof Date?this._payload={...this._payload,nbf:Dc("setNotBefore",Tl(t))}:this._payload={...this._payload,nbf:Tl(new Date)+Im(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:Dc("setExpirationTime",t)}:t instanceof Date?this._payload={...this._payload,exp:Dc("setExpirationTime",Tl(t))}:this._payload={...this._payload,exp:Tl(new Date)+Im(t)},this}setIssuedAt(t){return typeof t>"u"?this._payload={...this._payload,iat:Tl(new Date)}:t instanceof Date?this._payload={...this._payload,iat:Dc("setIssuedAt",Tl(t))}:typeof t=="string"?this._payload={...this._payload,iat:Dc("setIssuedAt",Tl(new Date)+Im(t))}:this._payload={...this._payload,iat:Dc("setIssuedAt",t)},this}}class ete extends Yee{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,n){var i;const r=new Xee(Cs.encode(JSON.stringify(this._payload)));if(r.setProtectedHeader(this._protectedHeader),Array.isArray((i=this._protectedHeader)==null?void 0:i.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new eb("JWTs MUST NOT use unencoded payload");return r.sign(t,n)}}function tte(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new Aa('Unsupported "alg" value for a JSON Web Key Set')}}function nte(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(rte)}function rte(e){return Pu(e)}function f9(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}class ite{constructor(t){if(this._cached=new WeakMap,!nte(t))throw new eO("JSON Web Key Set malformed");this._jwks=f9(t)}async getKey(t,n){const{alg:r,kid:i}={...t,...n==null?void 0:n.header},a=tte(r),o=this._jwks.keys.filter(c=>{let d=a===c.kty;if(d&&typeof i=="string"&&(d=i===c.kid),d&&typeof c.alg=="string"&&(d=r===c.alg),d&&typeof c.use=="string"&&(d=c.use==="sig"),d&&Array.isArray(c.key_ops)&&(d=c.key_ops.includes("verify")),d&&r==="EdDSA"&&(d=c.crv==="Ed25519"||c.crv==="Ed448"),d)switch(r){case"ES256":d=c.crv==="P-256";break;case"ES256K":d=c.crv==="secp256k1";break;case"ES384":d=c.crv==="P-384";break;case"ES512":d=c.crv==="P-521";break}return d}),{0:s,length:l}=o;if(l===0)throw new tO;if(l!==1){const c=new Gq,{_cached:d}=this;throw c[Symbol.asyncIterator]=async function*(){for(const h of o)try{yield await Vk(d,h,r)}catch{}},c}return Vk(this._cached,s,r)}}async function Vk(e,t,n){const r=e.get(t)||e.set(t,{}).get(t);if(r[n]===void 0){const i=await i9({...t,ext:!0},n);if(i instanceof Uint8Array||i.type!=="public")throw new eO("JSON Web Key Set members must be public keys");r[n]=i}return r[n]}function Kk(e){const t=new ite(e),n=async(r,i)=>t.getKey(r,i);return Object.defineProperties(n,{jwks:{value:()=>f9(t._jwks),enumerable:!0,configurable:!1,writable:!1}}),n}const ate=async(e,t,n)=>{let r,i,a=!1;typeof AbortController=="function"&&(r=new AbortController,i=setTimeout(()=>{a=!0,r.abort()},t));const o=await fetch(e.href,{signal:r?r.signal:void 0,redirect:"manual",headers:n.headers}).catch(s=>{throw a?new Wq:s});if(i!==void 0&&clearTimeout(i),o.status!==200)throw new ji("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await o.json()}catch{throw new ji("Failed to parse the JSON Web Key Set HTTP response as JSON")}};function ote(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}let MA;var R0,TU;(typeof navigator>"u"||!((TU=(R0=navigator.userAgent)==null?void 0:R0.startsWith)!=null&&TU.call(R0,"Mozilla/5.0 ")))&&(MA="jose/v5.9.6");const ox=Symbol();function ste(e,t){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=t||!("jwks"in e)||!Pu(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,Pu))}class ute{constructor(t,n){if(!(t instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:n==null?void 0:n.agent,headers:n==null?void 0:n.headers},this._timeoutDuration=typeof(n==null?void 0:n.timeoutDuration)=="number"?n==null?void 0:n.timeoutDuration:5e3,this._cooldownDuration=typeof(n==null?void 0:n.cooldownDuration)=="number"?n==null?void 0:n.cooldownDuration:3e4,this._cacheMaxAge=typeof(n==null?void 0:n.cacheMaxAge)=="number"?n==null?void 0:n.cacheMaxAge:6e5,(n==null?void 0:n[ox])!==void 0&&(this._cache=n==null?void 0:n[ox],ste(n==null?void 0:n[ox],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Kk(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}async getKey(t,n){(!this._local||!this.fresh())&&await this.reload();try{return await this._local(t,n)}catch(r){if(r instanceof tO&&this.coolingDown()===!1)return await this.reload(),this._local(t,n);throw r}}async reload(){this._pendingFetch&&ote()&&(this._pendingFetch=void 0);const t=new Headers(this._options.headers);MA&&!t.has("User-Agent")&&(t.set("User-Agent",MA),this._options.headers=Object.fromEntries(t.entries())),this._pendingFetch||(this._pendingFetch=ate(this._url,this._timeoutDuration,this._options).then(n=>{this._local=Kk(n),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=n),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(n=>{throw this._pendingFetch=void 0,n})),await this._pendingFetch}}function lte(e,t){const n=new ute(e,t),r=async(i,a)=>n.getKey(i,a);return Object.defineProperties(r,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!n._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>{var i;return(i=n._local)==null?void 0:i.jwks()},enumerable:!0,configurable:!1,writable:!1}}),r}function sx(e){const t=(e==null?void 0:e.modulusLength)??2048;if(typeof t!="number"||t<2048)throw new Aa("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return t}async function cte(e,t){let n,r;switch(e){case"PS256":case"PS384":case"PS512":n={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:sx(t)},r=["sign","verify"];break;case"RS256":case"RS384":case"RS512":n={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:sx(t)},r=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":n={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:sx(t)},r=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":n={name:"ECDSA",namedCurve:"P-256"},r=["sign","verify"];break;case"ES384":n={name:"ECDSA",namedCurve:"P-384"},r=["sign","verify"];break;case"ES512":n={name:"ECDSA",namedCurve:"P-521"},r=["sign","verify"];break;case"EdDSA":{r=["sign","verify"];const i="Ed25519";switch(i){case"Ed25519":case"Ed448":n={name:i};break;default:throw new Aa("Invalid or unsupported crv option provided")}break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{r=["deriveKey","deriveBits"];const i="P-256";switch(i){case"P-256":case"P-384":case"P-521":{n={name:"ECDH",namedCurve:i};break}case"X25519":case"X448":n={name:i};break;default:throw new Aa("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new Aa('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return Bh.subtle.generateKey(n,!1,r)}async function fte(e,t){return cte(e,t)}const Li=[];for(let e=0;e<256;++e)Li.push((e+256).toString(16).slice(1));function dte(e,t=0){return(Li[e[t+0]]+Li[e[t+1]]+Li[e[t+2]]+Li[e[t+3]]+"-"+Li[e[t+4]]+Li[e[t+5]]+"-"+Li[e[t+6]]+Li[e[t+7]]+"-"+Li[e[t+8]]+Li[e[t+9]]+"-"+Li[e[t+10]]+Li[e[t+11]]+Li[e[t+12]]+Li[e[t+13]]+Li[e[t+14]]+Li[e[t+15]]).toLowerCase()}let ux;const hte=new Uint8Array(16);function pte(){if(!ux){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ux=crypto.getRandomValues.bind(crypto)}return ux(hte)}const gte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Gk={randomUUID:gte};function d9(e,t,n){if(Gk.randomUUID&&!t&&!e)return Gk.randomUUID();e=e||{};const r=e.random||(e.rng||pte)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,dte(r)}const h9="solidClientAuthn:",pw=["ES256","RS256"],li={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},Wk=5,mte="openid",yte="offline_access",vte="webid",p9=[mte,yte,vte].join(" ");class _te{constructor(t){this.handleables=t,this.handleables=t}async getProperHandler(t){const n=await Promise.all(this.handleables.map(r=>r.canHandle(...t)));for(let r=0;r<n.length;r+=1)if(n[r])return this.handleables[r];return null}async canHandle(...t){return await this.getProperHandler(t)!==null}async handle(...t){const n=await this.getProperHandler(t);if(n)return n.handle(...t);throw new Error(`[${this.constructor.name}] cannot find a suitable handler for: ${t.map(r=>{try{return JSON.stringify(r)}catch{return r.toString()}}).join(", ")}`)}}async function g9(e,t,n,r){let i,a;try{const{payload:o}=await Qee(e,lte(new URL(t)),{issuer:n,audience:r});i=o}catch(o){throw new Error(`Token verification failed: ${o.stack}`)}if(typeof i.azp=="string"&&(a=i.azp),typeof i.webid=="string")return{webId:i.webid,clientId:a};if(typeof i.sub!="string")throw new Error(`The token ${JSON.stringify(i)} is invalid: it has no 'webid' claim and no 'sub' claim.`);try{return new URL(i.sub),{webId:i.sub,clientId:a}}catch(o){throw new Error(`The token has no 'webid' claim, and its 'sub' claim of [${i.sub}] is invalid as a URL - error [${o}].`)}}function m9(e){try{const t=new URL(e),n=!t.searchParams.has("code")&&!t.searchParams.has("state"),r=t.hash==="";return n&&r}catch{return!1}}function y9(e){const t=new URL(e);return t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),t}function wte(e,t){return typeof e=="boolean"?!!e:!!t}class bte{constructor(t,n){this.storageUtility=t,this.redirector=n,this.parametersGuard=r=>r.issuerConfiguration.grantTypesSupported!==void 0&&r.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1&&r.redirectUrl!==void 0,this.storageUtility=t,this.redirector=n}async canHandle(t){return this.parametersGuard(t)}async handleRedirect({oidcLoginOptions:t,state:n,codeVerifier:r,targetUrl:i}){if(!this.parametersGuard(t))throw new Error("The authorization code grant requires a redirectUrl.");await Promise.all([this.storageUtility.setForUser(n,{sessionId:t.sessionId}),this.storageUtility.setForUser(t.sessionId,{codeVerifier:r,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:(!!t.dpop).toString(),keepAlive:wte(t.keepAlive,!0).toString()})]),this.redirector.redirect(i,{handleRedirect:t.handleRedirect})}}class Ste{constructor(t){this.sessionInfoManager=t,this.sessionInfoManager=t}async canHandle(){return!0}async handle(t){await this.sessionInfoManager.clear(t)}}class xte{constructor(t){this.redirector=t,this.redirector=t}async canHandle(t,n){return(n==null?void 0:n.logoutType)==="idp"}async handle(t,n){if((n==null?void 0:n.logoutType)!=="idp")throw new Error("Attempting to call idp logout handler to perform app logout");if(n.toLogoutUrl===void 0)throw new Error("Cannot perform IDP logout. Did you log in using the OIDC authentication flow?");this.redirector.redirect(n.toLogoutUrl(n),{handleRedirect:n.handleRedirect})}}class Ete{constructor(t,n){this.handlers=[new Ste(t),new xte(n)]}async canHandle(){return!0}async handle(t,n){for(const r of this.handlers)await r.canHandle(t,n)&&await r.handle(t,n)}}function v9(){return{isLoggedIn:!1,sessionId:d9(),fetch:(...e)=>fetch(...e)}}async function _9(e,t){await Promise.all([t.deleteAllUserData(e,{secure:!1}),t.deleteAllUserData(e,{secure:!0})])}class Cte{constructor(t){this.storageUtility=t,this.storageUtility=t}update(t,n){throw new Error("Not Implemented")}get(t){throw new Error("Not implemented")}async getAll(){throw new Error("Not implemented")}async clear(t){return _9(t,this.storageUtility)}async register(t){throw new Error("Not implemented")}async getRegisteredSessionIdAll(){throw new Error("Not implemented")}async clearAll(){throw new Error("Not implemented")}}function Tte({endSessionEndpoint:e,idTokenHint:t,postLogoutRedirectUri:n,state:r}){const i=new URL(e);return t!==void 0&&i.searchParams.append("id_token_hint",t),n!==void 0&&(i.searchParams.append("post_logout_redirect_uri",n),r!==void 0&&i.searchParams.append("state",r)),i.toString()}function Rte({endSessionEndpoint:e,idTokenHint:t}){if(e!==void 0)return function({state:r,postLogoutUrl:i}){return Tte({endSessionEndpoint:e,idTokenHint:t,state:r,postLogoutRedirectUri:i})}}function Ate(e){return typeof e=="string"&&["DPoP","Bearer"].includes(e)}function w9(e){try{return new URL(e),!0}catch{return!1}}function Pte(e,t){var n;return(n=t.find(r=>e.includes(r)))!==null&&n!==void 0?n:null}function Ote(e){return e.clientId!==void 0&&!w9(e.clientId)}function Lte(e,t){return t.scopesSupported.includes("webid")&&e.clientId!==void 0&&w9(e.clientId)}function Ite(e){return typeof e=="string"&&["dynamic","static","solid-oidc"].includes(e)}async function Mte(e,t,n,r){let i;if(Lte(e,t))i={clientId:e.clientId,clientName:e.clientName,clientType:"solid-oidc"};else if(Ote(e))i={clientId:e.clientId,clientSecret:e.clientSecret,clientName:e.clientName,clientType:"static"};else return r.getClient({sessionId:e.sessionId,clientName:e.clientName,redirectUrl:e.redirectUrl},t);const a={clientId:i.clientId,clientType:i.clientType};return i.clientType==="static"&&(a.clientSecret=i.clientSecret),i.clientName&&(a.clientName=i.clientName),await n.setForUser(e.sessionId,a),i}const Qk=(e,t)=>fetch(e,t);let Dte=class{constructor(t,n,r,i,a){this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a,this.fetch=Qk,this.logout=async(o,s)=>{await this.logoutHandler.handle(o,(s==null?void 0:s.logoutType)==="idp"?{...s,toLogoutUrl:this.boundLogout}:s),this.fetch=Qk,delete this.boundLogout},this.getSessionInfo=async o=>this.sessionInfoManager.get(o),this.getAllSessionInfo=async()=>this.sessionInfoManager.getAll(),this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=r,this.sessionInfoManager=i,this.issuerConfigFetcher=a}};async function b9(e,t,n){try{const[r,i,a,o,s]=await Promise.all([t.getForUser(e,"issuer",{errorIfNull:!0}),t.getForUser(e,"codeVerifier"),t.getForUser(e,"redirectUrl"),t.getForUser(e,"dpop",{errorIfNull:!0}),t.getForUser(e,"keepAlive")]);await t.deleteForUser(e,"codeVerifier");const l=await n.fetchConfig(r);return{codeVerifier:i,redirectUrl:a,issuerConfig:l,dpop:o==="true",keepAlive:typeof s=="string"?s==="true":!0}}catch(r){throw new Error(`Failed to retrieve OIDC context from storage associated with session [${e}]: ${r}`)}}async function kte(e,t,n,r,i,a,o,s){n!==void 0&&await e.setForUser(t,{webId:n},{secure:o}),r!==void 0&&await e.setForUser(t,{clientId:r},{secure:o}),await e.setForUser(t,{isLoggedIn:i},{secure:o})}class Nte{constructor(t,n){this.secureStorage=t,this.insecureStorage=n,this.secureStorage=t,this.insecureStorage=n}getKey(t){return`solidClientAuthenticationUser:${t}`}async getUserData(t,n){const r=await(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));if(r===void 0)return{};try{return JSON.parse(r)}catch{throw new Error(`Data for user [${t}] in [${n?"secure":"unsecure"}] storage is corrupted - expected valid JSON, but got: ${r}`)}}async setUserData(t,n,r){await(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n))}async get(t,n){const r=await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).get(t);if(r===void 0&&(n!=null&&n.errorIfNull))throw new Error(`[${t}] is not stored`);return r}async set(t,n,r){return(r!=null&&r.secure?this.secureStorage:this.insecureStorage).set(t,n)}async delete(t,n){return(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(t)}async getForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);let a;if((!i||!i[n])&&(a=void 0),a=i[n],a===void 0&&(r!=null&&r.errorIfNull))throw new Error(`Field [${n}] for user [${t}] is not stored`);return a||void 0}async setForUser(t,n,r){let i;try{i=await this.getUserData(t,r==null?void 0:r.secure)}catch{i={}}await this.setUserData(t,{...i,...n},r==null?void 0:r.secure)}async deleteForUser(t,n,r){const i=await this.getUserData(t,r==null?void 0:r.secure);delete i[n],await this.setUserData(t,i,r==null?void 0:r.secure)}async deleteAllUserData(t,n){await(n!=null&&n.secure?this.secureStorage:this.insecureStorage).delete(this.getKey(t))}}class Fte{constructor(){this.map={}}async get(t){return this.map[t]||void 0}async set(t,n){this.map[t]=n}async delete(t){delete this.map[t]}}class DA extends Error{constructor(t){super(t)}}class _m extends Error{constructor(t){super(`Invalid response from OIDC provider: missing fields ${t}`),this.missingFields=t}}class S9 extends Error{constructor(t,n,r){super(t),this.error=n,this.errorDescription=r}}function jte(e){const t=new URL(e);return new URL(t.pathname,t.origin).toString()}async function rO(e,t,n){return new ete({htu:jte(e),htm:t.toUpperCase(),jti:d9()}).setProtectedHeader({alg:pw[0],jwk:n.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(n.privateKey,{})}async function $te(){const{privateKey:e,publicKey:t}=await fte(pw[0]),n={privateKey:e,publicKey:await Bee(t)};return[n.publicKey.alg]=pw,n}const x9=600;function Bte(e){return[401,403].includes(e)}async function Ute(e,t,n,r){var i;const a=new Headers(r==null?void 0:r.headers);return a.set("Authorization",`DPoP ${t}`),a.set("DPoP",await rO(e,(i=r==null?void 0:r.method)!==null&&i!==void 0?i:"get",n)),{...r,headers:a}}async function qte(e,t,n,r){if(n!==void 0)return Ute(e,t,n,r);const i=new Headers(r==null?void 0:r.headers);return i.set("Authorization",`Bearer ${t}`),{...r,headers:i}}async function Zk(e,t,n,r){return fetch(t,await qte(t.toString(),e,r,n))}async function zte(e,t,n){var r;const i=await e.tokenRefresher.refresh(e.sessionId,e.refreshToken,t);return n==null||n.emit(li.SESSION_EXTENDED,(r=i.expiresIn)!==null&&r!==void 0?r:x9),typeof i.refreshToken=="string"&&(n==null||n.emit(li.NEW_REFRESH_TOKEN,i.refreshToken)),{accessToken:i.accessToken,refreshToken:i.refreshToken,expiresIn:i.expiresIn}}const lx=e=>e!==void 0?e-Wk>0?e-Wk:e:x9;async function Hte(e,t){var n;let r=e,i;const a=t==null?void 0:t.refreshOptions;if(a!==void 0){const o=async()=>{var s,l,c,d;try{const{accessToken:h,refreshToken:m,expiresIn:y}=await zte(a,t.dpopKey,t.eventEmitter);r=h,m!==void 0&&(a.refreshToken=m),clearTimeout(i),i=setTimeout(o,lx(y)*1e3),(s=t.eventEmitter)===null||s===void 0||s.emit(li.TIMEOUT_SET,i)}catch(h){h instanceof S9&&((l=t==null?void 0:t.eventEmitter)===null||l===void 0||l.emit(li.ERROR,h.error,h.errorDescription),(c=t==null?void 0:t.eventEmitter)===null||c===void 0||c.emit(li.SESSION_EXPIRED)),h instanceof _m&&h.missingFields.includes("access_token")&&((d=t==null?void 0:t.eventEmitter)===null||d===void 0||d.emit(li.SESSION_EXPIRED))}};i=setTimeout(o,lx(t.expiresIn)*1e3),(n=t.eventEmitter)===null||n===void 0||n.emit(li.TIMEOUT_SET,i)}else if(t!==void 0&&t.eventEmitter!==void 0){const o=setTimeout(()=>{t.eventEmitter.emit(li.SESSION_EXPIRED)},lx(t.expiresIn)*1e3);t.eventEmitter.emit(li.TIMEOUT_SET,o)}return async(o,s)=>{let l=await Zk(r,o,s,t==null?void 0:t.dpopKey);const c=!l.ok&&!Bte(l.status);return l.ok||c||l.url!==o&&(t==null?void 0:t.dpopKey)!==void 0&&(l=await Zk(r,l.url,s,t.dpopKey)),l}}const Ii=[];for(let e=0;e<256;++e)Ii.push((e+256).toString(16).slice(1));function Vte(e,t=0){return(Ii[e[t+0]]+Ii[e[t+1]]+Ii[e[t+2]]+Ii[e[t+3]]+"-"+Ii[e[t+4]]+Ii[e[t+5]]+"-"+Ii[e[t+6]]+Ii[e[t+7]]+"-"+Ii[e[t+8]]+Ii[e[t+9]]+"-"+Ii[e[t+10]]+Ii[e[t+11]]+Ii[e[t+12]]+Ii[e[t+13]]+Ii[e[t+14]]+Ii[e[t+15]]).toLowerCase()}let cx;const Kte=new Uint8Array(16);function Gte(){if(!cx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cx=crypto.getRandomValues.bind(crypto)}return cx(Kte)}const Wte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jk={randomUUID:Wte};function Qte(e,t,n){if(Jk.randomUUID&&!t&&!e)return Jk.randomUUID();e=e||{};const r=e.random||(e.rng||Gte)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Vte(r)}var n_={exports:{}},Xk;function qh(){if(Xk)return n_.exports;Xk=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(O,D,F){return Function.prototype.apply.call(O,D,F)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:n=function(O){return Object.getOwnPropertyNames(O)};function r(P){console&&console.warn&&console.warn(P)}var i=Number.isNaN||function(O){return O!==O};function a(){a.init.call(this)}n_.exports=a,n_.exports.once=b,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(P){if(typeof P!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof P)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(P){if(typeof P!="number"||P<0||i(P))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+P+".");o=P}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(O){if(typeof O!="number"||O<0||i(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this};function l(P){return P._maxListeners===void 0?a.defaultMaxListeners:P._maxListeners}a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(O){for(var D=[],F=1;F<arguments.length;F++)D.push(arguments[F]);var Q=O==="error",Y=this._events;if(Y!==void 0)Q=Q&&Y.error===void 0;else if(!Q)return!1;if(Q){var U;if(D.length>0&&(U=D[0]),U instanceof Error)throw U;var X=new Error("Unhandled error."+(U?" ("+U.message+")":""));throw X.context=U,X}var ce=Y[O];if(ce===void 0)return!1;if(typeof ce=="function")t(ce,this,D);else for(var te=ce.length,se=v(ce,te),F=0;F<te;++F)t(se[F],this,D);return!0};function c(P,O,D,F){var Q,Y,U;if(s(D),Y=P._events,Y===void 0?(Y=P._events=Object.create(null),P._eventsCount=0):(Y.newListener!==void 0&&(P.emit("newListener",O,D.listener?D.listener:D),Y=P._events),U=Y[O]),U===void 0)U=Y[O]=D,++P._eventsCount;else if(typeof U=="function"?U=Y[O]=F?[D,U]:[U,D]:F?U.unshift(D):U.push(D),Q=l(P),Q>0&&U.length>Q&&!U.warned){U.warned=!0;var X=new Error("Possible EventEmitter memory leak detected. "+U.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");X.name="MaxListenersExceededWarning",X.emitter=P,X.type=O,X.count=U.length,r(X)}return P}a.prototype.addListener=function(O,D){return c(this,O,D,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(O,D){return c(this,O,D,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(P,O,D){var F={fired:!1,wrapFn:void 0,target:P,type:O,listener:D},Q=d.bind(F);return Q.listener=D,F.wrapFn=Q,Q}a.prototype.once=function(O,D){return s(D),this.on(O,h(this,O,D)),this},a.prototype.prependOnceListener=function(O,D){return s(D),this.prependListener(O,h(this,O,D)),this},a.prototype.removeListener=function(O,D){var F,Q,Y,U,X;if(s(D),Q=this._events,Q===void 0)return this;if(F=Q[O],F===void 0)return this;if(F===D||F.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete Q[O],Q.removeListener&&this.emit("removeListener",O,F.listener||D));else if(typeof F!="function"){for(Y=-1,U=F.length-1;U>=0;U--)if(F[U]===D||F[U].listener===D){X=F[U].listener,Y=U;break}if(Y<0)return this;Y===0?F.shift():_(F,Y),F.length===1&&(Q[O]=F[0]),Q.removeListener!==void 0&&this.emit("removeListener",O,X||D)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(O){var D,F,Q;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[O]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[O]),this;if(arguments.length===0){var Y=Object.keys(F),U;for(Q=0;Q<Y.length;++Q)U=Y[Q],U!=="removeListener"&&this.removeAllListeners(U);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=F[O],typeof D=="function")this.removeListener(O,D);else if(D!==void 0)for(Q=D.length-1;Q>=0;Q--)this.removeListener(O,D[Q]);return this};function m(P,O,D){var F=P._events;if(F===void 0)return[];var Q=F[O];return Q===void 0?[]:typeof Q=="function"?D?[Q.listener||Q]:[Q]:D?S(Q):v(Q,Q.length)}a.prototype.listeners=function(O){return m(this,O,!0)},a.prototype.rawListeners=function(O){return m(this,O,!1)},a.listenerCount=function(P,O){return typeof P.listenerCount=="function"?P.listenerCount(O):y.call(P,O)},a.prototype.listenerCount=y;function y(P){var O=this._events;if(O!==void 0){var D=O[P];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(P,O){for(var D=new Array(O),F=0;F<O;++F)D[F]=P[F];return D}function _(P,O){for(;O+1<P.length;O++)P[O]=P[O+1];P.pop()}function S(P){for(var O=new Array(P.length),D=0;D<O.length;++D)O[D]=P[D].listener||P[D];return O}function b(P,O){return new Promise(function(D,F){function Q(U){P.removeListener(O,Y),F(U)}function Y(){typeof P.removeListener=="function"&&P.removeListener("error",Q),D([].slice.call(arguments))}R(P,O,Y,{once:!0}),O!=="error"&&x(P,Q,{once:!0})})}function x(P,O,D){typeof P.on=="function"&&R(P,"error",O,D)}function R(P,O,D,F){if(typeof P.on=="function")F.once?P.once(O,D):P.on(O,D);else if(typeof P.addEventListener=="function")P.addEventListener(O,function Q(Y){F.once&&P.removeEventListener(O,Q),D(Y)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof P)}return n_.exports}var Zte=qh();const Jte=Ir(Zte);var k0={exports:{}},Xte=k0.exports,Yk;function Yte(){return Yk||(Yk=1,function(e,t){(function(r,i){e.exports=i()})(Xte,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return n[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{enumerable:!0,get:s})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,o){if(1&o&&(a=i(a)),8&o||4&o&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&o&&typeof a!="string")for(var l in a)i.d(s,l,(function(c){return a[c]}).bind(null,l));return s},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=22)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,m){return h&&c(d.prototype,h),m&&c(d,m),d}}(),o={debug:function(){},info:function(){},warn:function(){},error:function(){}},s=void 0,l=void 0;(r.Log=function(){function c(){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c.reset=function(){l=3,s=o},c.debug=function(){if(l>=4){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.debug.apply(s,Array.from(m))}},c.info=function(){if(l>=3){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.info.apply(s,Array.from(m))}},c.warn=function(){if(l>=2){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.warn.apply(s,Array.from(m))}},c.error=function(){if(l>=1){for(var h=arguments.length,m=Array(h),y=0;y<h;y++)m[y]=arguments[y];s.error.apply(s,Array.from(m))}},a(c,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return l},set:function(h){if(!(0<=h&&h<=4))throw new Error("Invalid log level");l=h}},{key:"logger",get:function(){return s},set:function(h){if(!h.debug&&h.info&&(h.debug=h.info),!(h.debug&&h.info&&h.warn&&h.error))throw new Error("Invalid logger");s=h}}]),c}()).reset()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=function(){function c(d,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,m){return h&&c(d.prototype,h),m&&c(d,m),d}}(),o={setInterval:function(c){function d(h,m){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c,d){return setInterval(c,d)}),clearInterval:function(c){function d(h){return c.apply(this,arguments)}return d.toString=function(){return c.toString()},d}(function(c){return clearInterval(c)})},s=!1,l=null;r.Global=function(){function c(){(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,c)}return c._testing=function(){s=!0},c.setXMLHttpRequest=function(h){l=h},a(c,null,[{key:"location",get:function(){if(!s)return location}},{key:"localStorage",get:function(){if(!s&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!s&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!s&&typeof window<"u")return l||XMLHttpRequest}},{key:"timer",get:function(){if(!s)return o}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.MetadataService=void 0;var a=function(){function d(h,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,y){return m&&d(h.prototype,m),y&&d(h,y),h}}(),o=i(0),s=i(7);function l(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}var c=".well-known/openid-configuration";r.MetadataService=function(){function d(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.JsonService;if(l(this,d),!h)throw o.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=h,this._jsonService=new m(["application/jwk-set+json"])}return d.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},d.prototype.getMetadata=function(){var m=this;return this._settings.metadata?(o.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(o.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(y){o.Log.debug("MetadataService.getMetadata: json received");var v=m._settings.metadataSeed||{};return m._settings.metadata=Object.assign({},v,y),m._settings.metadata})):(o.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},d.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},d.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},d.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},d.prototype.getTokenEndpoint=function(){var m=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this._getMetadataProperty("token_endpoint",m)},d.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},d.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},d.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},d.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},d.prototype._getMetadataProperty=function(m){var y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return o.Log.debug("MetadataService.getMetadataProperty for: "+m),this.getMetadata().then(function(v){if(o.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),v[m]===void 0){if(y===!0)return void o.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+m);throw o.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+m),new Error("Metadata does not contain property "+m)}return v[m]})},d.prototype.getSigningKeys=function(){var m=this;return this._settings.signingKeys?(o.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(y){return o.Log.debug("MetadataService.getSigningKeys: jwks_uri received",y),m._jsonService.getJson(y).then(function(v){if(o.Log.debug("MetadataService.getSigningKeys: key set received",v),!v.keys)throw o.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return m._settings.signingKeys=v.keys,m._settings.signingKeys})})},a(d,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(c)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=c))),this._metadataUrl}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UrlUtility=void 0;var a=i(0),o=i(1);r.UrlUtility=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.addQueryParam=function(c,d,h){return c.indexOf("?")<0&&(c+="?"),c[c.length-1]!=="?"&&(c+="&"),c+=encodeURIComponent(d),c+="=",c+=encodeURIComponent(h)},s.parseUrlFragment=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.Global;typeof c!="string"&&(c=h.location.href);var m=c.lastIndexOf(d);m>=0&&(c=c.substr(m+1)),d==="?"&&(m=c.indexOf("#"))>=0&&(c=c.substr(0,m));for(var y,v={},_=/([^&=]+)=([^&]*)/g,S=0;y=_.exec(c);)if(v[decodeURIComponent(y[1])]=decodeURIComponent(y[2].replace(/\+/g," ")),S++>50)return a.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",c),{error:"Response exceeded expected number of parameters"};for(var b in v)return v;return{}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JoseUtil=void 0;var a=i(26),o=function(l){return l&&l.__esModule?l:{default:l}}(i(33));r.JoseUtil=(0,o.default)({jws:a.jws,KeyUtil:a.KeyUtil,X509:a.X509,crypto:a.crypto,hextob64u:a.hextob64u,b64tohex:a.b64tohex,AllowedSigningAlgs:a.AllowedSigningAlgs})},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClientSettings=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},o=function(){function b(x,R){for(var P=0;P<R.length;P++){var O=R[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(x,O.key,O)}}return function(x,R,P){return R&&b(x.prototype,R),P&&b(x,P),x}}(),s=i(0),l=i(23),c=i(6),d=i(24),h=i(2);function m(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")}var y=".well-known/openid-configuration",v="id_token",_="openid",S="client_secret_post";r.OidcClientSettings=function(){function b(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=x.authority,P=x.metadataUrl,O=x.metadata,D=x.signingKeys,F=x.metadataSeed,Q=x.client_id,Y=x.client_secret,U=x.response_type,X=U===void 0?v:U,ce=x.scope,te=ce===void 0?_:ce,se=x.redirect_uri,pe=x.post_logout_redirect_uri,_e=x.client_authentication,de=_e===void 0?S:_e,ue=x.prompt,Ae=x.display,k=x.max_age,ie=x.ui_locales,me=x.acr_values,K=x.resource,ee=x.response_mode,ge=x.filterProtocolClaims,Re=ge===void 0||ge,Ze=x.loadUserInfo,Pe=Ze===void 0||Ze,Ne=x.staleStateAge,Xe=Ne===void 0?900:Ne,oe=x.clockSkew,H=oe===void 0?300:oe,$=x.clockService,ae=$===void 0?new l.ClockService:$,Z=x.userInfoJwtIssuer,he=Z===void 0?"OP":Z,ye=x.mergeClaims,He=ye!==void 0&&ye,Ee=x.stateStore,Fe=Ee===void 0?new c.WebStorageStateStore:Ee,tt=x.ResponseValidatorCtor,nt=tt===void 0?d.ResponseValidator:tt,gt=x.MetadataServiceCtor,qt=gt===void 0?h.MetadataService:gt,Se=x.extraQueryParams,Ue=Se===void 0?{}:Se,ne=x.extraTokenParams,z=ne===void 0?{}:ne;m(this,b),this._authority=R,this._metadataUrl=P,this._metadata=O,this._metadataSeed=F,this._signingKeys=D,this._client_id=Q,this._client_secret=Y,this._response_type=X,this._scope=te,this._redirect_uri=se,this._post_logout_redirect_uri=pe,this._client_authentication=de,this._prompt=ue,this._display=Ae,this._max_age=k,this._ui_locales=ie,this._acr_values=me,this._resource=K,this._response_mode=ee,this._filterProtocolClaims=!!Re,this._loadUserInfo=!!Pe,this._staleStateAge=Xe,this._clockSkew=H,this._clockService=ae,this._userInfoJwtIssuer=he,this._mergeClaims=!!He,this._stateStore=Fe,this._validator=new nt(this),this._metadataService=new qt(this),this._extraQueryParams=(Ue===void 0?"undefined":a(Ue))==="object"?Ue:{},this._extraTokenParams=(z===void 0?"undefined":a(z))==="object"?z:{}}return b.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},o(b,[{key:"client_id",get:function(){return this._client_id},set:function(R){if(this._client_id)throw s.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=R}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(R){if(this._authority)throw s.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=R}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(y)<0&&(this._metadataUrl[this._metadataUrl.length-1]!=="/"&&(this._metadataUrl+="/"),this._metadataUrl+=y)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(R){this._metadata=R}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(R){this._metadataSeed=R}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(R){this._signingKeys=R}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(R){(R===void 0?"undefined":a(R))==="object"?this._extraQueryParams=R:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(R){(R===void 0?"undefined":a(R))==="object"?this._extraTokenParams=R:this._extraTokenParams={}}}]),b}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.WebStorageStateStore=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.WebStorageStateStore=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.prefix,h=d===void 0?"oidc.":d,m=c.store,y=m===void 0?o.Global.localStorage:m;s(this,l),this._store=y,this._prefix=h}return l.prototype.set=function(d,h){return a.Log.debug("WebStorageStateStore.set",d),d=this._prefix+d,this._store.setItem(d,h),Promise.resolve()},l.prototype.get=function(d){a.Log.debug("WebStorageStateStore.get",d),d=this._prefix+d;var h=this._store.getItem(d);return Promise.resolve(h)},l.prototype.remove=function(d){a.Log.debug("WebStorageStateStore.remove",d),d=this._prefix+d;var h=this._store.getItem(d);return this._store.removeItem(d),Promise.resolve(h)},l.prototype.getAllKeys=function(){a.Log.debug("WebStorageStateStore.getAllKeys");for(var d=[],h=0;h<this._store.length;h++){var m=this._store.key(h);m.indexOf(this._prefix)===0&&d.push(m.substr(this._prefix.length))}return Promise.resolve(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.JsonService=void 0;var a=i(0),o=i(1);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.JsonService=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o.Global.XMLHttpRequest,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;s(this,l),c&&Array.isArray(c)?this._contentTypes=c.slice():this._contentTypes=[],this._contentTypes.push("application/json"),h&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=d,this._jwtHandler=h}return l.prototype.getJson=function(d,h){var m=this;if(!d)throw a.Log.error("JsonService.getJson: No url passed"),new Error("url");return a.Log.debug("JsonService.getJson, url: ",d),new Promise(function(y,v){var _=new m._XMLHttpRequest;_.open("GET",d);var S=m._contentTypes,b=m._jwtHandler;_.onload=function(){if(a.Log.debug("JsonService.getJson: HTTP response received, status",_.status),_.status===200){var x=_.getResponseHeader("Content-Type");if(x){var R=S.find(function(P){if(x.startsWith(P))return!0});if(R=="application/jwt")return void b(_).then(y,v);if(R)try{return void y(JSON.parse(_.responseText))}catch(P){return a.Log.error("JsonService.getJson: Error parsing JSON response",P.message),void v(P)}}v(Error("Invalid response Content-Type: "+x+", from URL: "+d))}else v(Error(_.statusText+" ("+_.status+")"))},_.onerror=function(){a.Log.error("JsonService.getJson: network error"),v(Error("Network Error"))},h&&(a.Log.debug("JsonService.getJson: token passed, setting Authorization header"),_.setRequestHeader("Authorization","Bearer "+h)),_.send()})},l.prototype.postForm=function(d,h,m){var y=this;if(!d)throw a.Log.error("JsonService.postForm: No url passed"),new Error("url");return a.Log.debug("JsonService.postForm, url: ",d),new Promise(function(v,_){var S=new y._XMLHttpRequest;S.open("POST",d);var b=y._contentTypes;S.onload=function(){if(a.Log.debug("JsonService.postForm: HTTP response received, status",S.status),S.status!==200){if(S.status===400&&(D=S.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{var O=JSON.parse(S.responseText);if(O&&O.error)return a.Log.error("JsonService.postForm: Error from server: ",O.error),void _(new Error(O.error))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error(S.statusText+" ("+S.status+")"))}else{var D;if((D=S.getResponseHeader("Content-Type"))&&b.find(function(F){if(D.startsWith(F))return!0}))try{return void v(JSON.parse(S.responseText))}catch(F){return a.Log.error("JsonService.postForm: Error parsing JSON response",F.message),void _(F)}_(Error("Invalid response Content-Type: "+D+", from URL: "+d))}},S.onerror=function(){a.Log.error("JsonService.postForm: network error"),_(Error("Network Error"))};var x="";for(var R in h){var P=h[R];P&&(x.length>0&&(x+="&"),x+=encodeURIComponent(R),x+="=",x+=encodeURIComponent(P))}S.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),m!==void 0&&S.setRequestHeader("Authorization","Basic "+btoa(m)),S.send(x)})},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninRequest=void 0;var a=i(0),o=i(3),s=i(13);r.SigninRequest=function(){function l(c){var d=c.url,h=c.client_id,m=c.redirect_uri,y=c.response_type,v=c.scope,_=c.authority,S=c.data,b=c.prompt,x=c.display,R=c.max_age,P=c.ui_locales,O=c.id_token_hint,D=c.login_hint,F=c.acr_values,Q=c.resource,Y=c.response_mode,U=c.request,X=c.request_uri,ce=c.extraQueryParams,te=c.request_type,se=c.client_secret,pe=c.extraTokenParams,_e=c.skipUserInfo;if(function(K,ee){if(!(K instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!h)throw a.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!m)throw a.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!y)throw a.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!v)throw a.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!_)throw a.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var de=l.isOidc(y),ue=l.isCode(y);Y||(Y=l.isCode(y)?"query":null),this.state=new s.SigninState({nonce:de,data:S,client_id:h,authority:_,redirect_uri:m,code_verifier:ue,request_type:te,response_mode:Y,client_secret:se,scope:v,extraTokenParams:pe,skipUserInfo:_e}),d=o.UrlUtility.addQueryParam(d,"client_id",h),d=o.UrlUtility.addQueryParam(d,"redirect_uri",m),d=o.UrlUtility.addQueryParam(d,"response_type",y),d=o.UrlUtility.addQueryParam(d,"scope",v),d=o.UrlUtility.addQueryParam(d,"state",this.state.id),de&&(d=o.UrlUtility.addQueryParam(d,"nonce",this.state.nonce)),ue&&(d=o.UrlUtility.addQueryParam(d,"code_challenge",this.state.code_challenge),d=o.UrlUtility.addQueryParam(d,"code_challenge_method","S256"));var Ae={prompt:b,display:x,max_age:R,ui_locales:P,id_token_hint:O,login_hint:D,acr_values:F,resource:Q,request:U,request_uri:X,response_mode:Y};for(var k in Ae)Ae[k]&&(d=o.UrlUtility.addQueryParam(d,k,Ae[k]));for(var ie in ce)d=o.UrlUtility.addQueryParam(d,ie,ce[ie]);this.url=d}return l.isOidc=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="id_token"})[0]},l.isOAuth=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="token"})[0]},l.isCode=function(d){return!!d.split(/\s+/g).filter(function(h){return h==="code"})[0]},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.State=void 0;var a=function(){function c(d,h){for(var m=0;m<h.length;m++){var y=h[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(d,y.key,y)}}return function(d,h,m){return h&&c(d.prototype,h),m&&c(d,m),d}}(),o=i(0),s=function(d){return d&&d.__esModule?d:{default:d}}(i(14));function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.State=function(){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.id,m=d.data,y=d.created,v=d.request_type;l(this,c),this._id=h||(0,s.default)(),this._data=m,this._created=typeof y=="number"&&y>0?y:parseInt(Date.now()/1e3),this._request_type=v}return c.prototype.toStorageString=function(){return o.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},c.fromStorageString=function(h){return o.Log.debug("State.fromStorageString"),new c(JSON.parse(h))},c.clearStaleState=function(h,m){var y=Date.now()/1e3-m;return h.getAllKeys().then(function(v){o.Log.debug("State.clearStaleState: got keys",v);for(var _=[],S=function(P){var O=v[P];x=h.get(O).then(function(D){var F=!1;if(D)try{var Q=c.fromStorageString(D);o.Log.debug("State.clearStaleState: got item from key: ",O,Q.created),Q.created<=y&&(F=!0)}catch(Y){o.Log.error("State.clearStaleState: Error parsing state for key",O,Y.message),F=!0}else o.Log.debug("State.clearStaleState: no item in storage for key: ",O),F=!0;if(F)return o.Log.debug("State.clearStaleState: removed item for key: ",O),h.remove(O)}),_.push(x)},b=0;b<v.length;b++){var x;S(b)}return o.Log.debug("State.clearStaleState: waiting on promise count:",_.length),Promise.all(_)})},a(c,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.OidcClient=void 0;var a=function(){function S(b,x){for(var R=0;R<x.length;R++){var P=x[R];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(b,P.key,P)}}return function(b,x,R){return x&&S(b.prototype,x),R&&S(b,R),b}}(),o=i(0),s=i(5),l=i(12),c=i(8),d=i(34),h=i(35),m=i(36),y=i(13),v=i(9);function _(S,b){if(!(S instanceof b))throw new TypeError("Cannot call a class as a function")}r.OidcClient=function(){function S(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_(this,S),b instanceof s.OidcClientSettings?this._settings=b:this._settings=new s.OidcClientSettings(b)}return S.prototype.createSigninRequest=function(){var x=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=R.response_type,O=R.scope,D=R.redirect_uri,F=R.data,Q=R.state,Y=R.prompt,U=R.display,X=R.max_age,ce=R.ui_locales,te=R.id_token_hint,se=R.login_hint,pe=R.acr_values,_e=R.resource,de=R.request,ue=R.request_uri,Ae=R.response_mode,k=R.extraQueryParams,ie=R.extraTokenParams,me=R.request_type,K=R.skipUserInfo,ee=arguments[1];o.Log.debug("OidcClient.createSigninRequest");var ge=this._settings.client_id;P=P||this._settings.response_type,O=O||this._settings.scope,D=D||this._settings.redirect_uri,Y=Y||this._settings.prompt,U=U||this._settings.display,X=X||this._settings.max_age,ce=ce||this._settings.ui_locales,pe=pe||this._settings.acr_values,_e=_e||this._settings.resource,Ae=Ae||this._settings.response_mode,k=k||this._settings.extraQueryParams,ie=ie||this._settings.extraTokenParams;var Re=this._settings.authority;return c.SigninRequest.isCode(P)&&P!=="code"?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(Ze){o.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",Ze);var Pe=new c.SigninRequest({url:Ze,client_id:ge,redirect_uri:D,response_type:P,scope:O,data:F||Q,authority:Re,prompt:Y,display:U,max_age:X,ui_locales:ce,id_token_hint:te,login_hint:se,acr_values:pe,resource:_e,request:de,request_uri:ue,extraQueryParams:k,extraTokenParams:ie,request_type:me,response_mode:Ae,client_secret:x._settings.client_secret,skipUserInfo:K}),Ne=Pe.state;return(ee=ee||x._stateStore).set(Ne.id,Ne.toStorageString()).then(function(){return Pe})})},S.prototype.readSigninResponseState=function(x,R){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSigninResponseState");var O=this._settings.response_mode==="query"||!this._settings.response_mode&&c.SigninRequest.isCode(this._settings.response_type),D=O?"?":"#",F=new d.SigninResponse(x,D);if(!F.state)return o.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));R=R||this._stateStore;var Q=P?R.remove.bind(R):R.get.bind(R);return Q(F.state).then(function(Y){if(!Y)throw o.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:y.SigninState.fromStorageString(Y),response:F}})},S.prototype.processSigninResponse=function(x,R){var P=this;return o.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(x,R,!0).then(function(O){var D=O.state,F=O.response;return o.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),P._validator.validateSigninResponse(D,F)})},S.prototype.createSignoutRequest=function(){var x=this,R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},P=R.id_token_hint,O=R.data,D=R.state,F=R.post_logout_redirect_uri,Q=R.extraQueryParams,Y=R.request_type,U=arguments[1];return o.Log.debug("OidcClient.createSignoutRequest"),F=F||this._settings.post_logout_redirect_uri,Q=Q||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(X){if(!X)throw o.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");o.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",X);var ce=new h.SignoutRequest({url:X,id_token_hint:P,post_logout_redirect_uri:F,data:O||D,extraQueryParams:Q,request_type:Y}),te=ce.state;return te&&(o.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(U=U||x._stateStore).set(te.id,te.toStorageString())),ce})},S.prototype.readSignoutResponseState=function(x,R){var P=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.Log.debug("OidcClient.readSignoutResponseState");var O=new m.SignoutResponse(x);if(!O.state)return o.Log.debug("OidcClient.readSignoutResponseState: No state in response"),O.error?(o.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",O.error),Promise.reject(new l.ErrorResponse(O))):Promise.resolve({state:void 0,response:O});var D=O.state;R=R||this._stateStore;var F=P?R.remove.bind(R):R.get.bind(R);return F(D).then(function(Q){if(!Q)throw o.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:v.State.fromStorageString(Q),response:O}})},S.prototype.processSignoutResponse=function(x,R){var P=this;return o.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(x,R,!0).then(function(O){var D=O.state,F=O.response;return D?(o.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),P._validator.validateSignoutResponse(D,F)):(o.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),F)})},S.prototype.clearStaleState=function(x){return o.Log.debug("OidcClient.clearStaleState"),x=x||this._stateStore,v.State.clearStaleState(x,this.settings.staleStateAge)},a(S,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),S}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenClient=void 0;var a=i(7),o=i(2),s=i(0);function l(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}r.TokenClient=function(){function c(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,c),!d)throw s.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=d,this._jsonService=new h,this._metadataService=new m(this._settings)}return c.prototype.exchangeCode=function(){var h=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"authorization_code",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret,m.redirect_uri=m.redirect_uri||this._settings.redirect_uri;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.code?m.redirect_uri?m.code_verifier?m.client_id?m.client_secret||v!="client_secret_basic"?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeCode: Received token endpoint"),h._jsonService.postForm(_,m,y).then(function(S){return s.Log.debug("TokenClient.exchangeCode: response received"),S})})):(s.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(s.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(s.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(s.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},c.prototype.exchangeRefreshToken=function(){var h=this,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(m=Object.assign({},m)).grant_type=m.grant_type||"refresh_token",m.client_id=m.client_id||this._settings.client_id,m.client_secret=m.client_secret||this._settings.client_secret;var y=void 0,v=m._client_authentication||this._settings._client_authentication;return delete m._client_authentication,m.refresh_token?m.client_id?(v=="client_secret_basic"&&(y=m.client_id+":"+m.client_secret,delete m.client_id,delete m.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(_){return s.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),h._jsonService.postForm(_,m,y).then(function(S){return s.Log.debug("TokenClient.exchangeRefreshToken: response received"),S})})):(s.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(s.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},c}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ErrorResponse=void 0;var a=i(0);function o(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}function s(l,c){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?l:c}r.ErrorResponse=function(l){function c(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=d.error,m=d.error_description,y=d.error_uri,v=d.state,_=d.session_state;if(o(this,c),!h)throw a.Log.error("No error passed to ErrorResponse"),new Error("error");var S=s(this,l.call(this,m||h));return S.name="ErrorResponse",S.error=h,S.error_description=m,S.error_uri=y,S.state=v,S.session_state=_,S}return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}(c,l),c}(Error)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninState=void 0;var a=function(){function m(y,v){for(var _=0;_<v.length;_++){var S=v[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,S.key,S)}}return function(y,v,_){return v&&m(y.prototype,v),_&&m(y,_),y}}(),o=i(0),s=i(9),l=i(4),c=function(y){return y&&y.__esModule?y:{default:y}}(i(14));function d(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function h(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?m:y}r.SigninState=function(m){function y(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=v.nonce,S=v.authority,b=v.client_id,x=v.redirect_uri,R=v.code_verifier,P=v.response_mode,O=v.client_secret,D=v.scope,F=v.extraTokenParams,Q=v.skipUserInfo;d(this,y);var Y=h(this,m.call(this,arguments[0]));if(_===!0?Y._nonce=(0,c.default)():_&&(Y._nonce=_),R===!0?Y._code_verifier=(0,c.default)()+(0,c.default)()+(0,c.default)():R&&(Y._code_verifier=R),Y.code_verifier){var U=l.JoseUtil.hashString(Y.code_verifier,"SHA256");Y._code_challenge=l.JoseUtil.hexToBase64Url(U)}return Y._redirect_uri=x,Y._authority=S,Y._client_id=b,Y._response_mode=P,Y._client_secret=O,Y._scope=D,Y._extraTokenParams=F,Y._skipUserInfo=Q,Y}return function(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}(y,m),y.prototype.toStorageString=function(){return o.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},y.fromStorageString=function(_){return o.Log.debug("SigninState.fromStorageString"),new y(JSON.parse(_))},a(y,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),y}(s.State)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){return(a!="undefined"&&a!==null&&a.getRandomValues!==void 0?o:s)().replace(/-/g,"")};var a=typeof window<"u"?window.crypto||window.msCrypto:null;function o(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^a.getRandomValues(new Uint8Array(1))[0]&15>>l/4).toString(16)})}function s(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,function(l){return(l^16*Math.random()>>l/4).toString(16)})}n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.User=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.User=function(){function s(l){var c=l.id_token,d=l.session_state,h=l.access_token,m=l.refresh_token,y=l.token_type,v=l.scope,_=l.profile,S=l.expires_at,b=l.state;(function(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")})(this,s),this.id_token=c,this.session_state=d,this.access_token=h,this.refresh_token=m,this.token_type=y,this.scope=v,this.profile=_,this.expires_at=S,this.state=b}return s.prototype.toStorageString=function(){return o.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},s.fromStorageString=function(c){return o.Log.debug("User.fromStorageString"),new s(JSON.parse(c))},a(s,[{key:"expires_in",get:function(){if(this.expires_at){var c=parseInt(Date.now()/1e3);return this.expires_at-c}},set:function(c){var d=parseInt(c);if(typeof d=="number"&&d>0){var h=parseInt(Date.now()/1e3);this.expires_at=h+d}}},{key:"expired",get:function(){var c=this.expires_in;if(c!==void 0)return c<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AccessTokenEvents=void 0;var a=i(0),o=i(46);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.AccessTokenEvents=function(){function l(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=c.accessTokenExpiringNotificationTime,h=d===void 0?60:d,m=c.accessTokenExpiringTimer,y=m===void 0?new o.Timer("Access token expiring"):m,v=c.accessTokenExpiredTimer,_=v===void 0?new o.Timer("Access token expired"):v;s(this,l),this._accessTokenExpiringNotificationTime=h,this._accessTokenExpiring=y,this._accessTokenExpired=_}return l.prototype.load=function(d){if(d.access_token&&d.expires_in!==void 0){var h=d.expires_in;if(a.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",h),h>0){var m=h-this._accessTokenExpiringNotificationTime;m<=0&&(m=1),a.Log.debug("AccessTokenEvents.load: registering expiring timer in:",m),this._accessTokenExpiring.init(m)}else a.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var y=h+1;a.Log.debug("AccessTokenEvents.load: registering expired timer in:",y),this._accessTokenExpired.init(y)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.unload=function(){a.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},l.prototype.addAccessTokenExpiring=function(d){this._accessTokenExpiring.addHandler(d)},l.prototype.removeAccessTokenExpiring=function(d){this._accessTokenExpiring.removeHandler(d)},l.prototype.addAccessTokenExpired=function(d){this._accessTokenExpired.addHandler(d)},l.prototype.removeAccessTokenExpired=function(d){this._accessTokenExpired.removeHandler(d)},l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Event=void 0;var a=i(0);r.Event=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._name=s,this._callbacks=[]}return o.prototype.addHandler=function(l){this._callbacks.push(l)},o.prototype.removeHandler=function(l){var c=this._callbacks.findIndex(function(d){return d===l});c>=0&&this._callbacks.splice(c,1)},o.prototype.raise=function(){a.Log.debug("Event: Raising event: "+this._name);for(var l=0;l<this._callbacks.length;l++){var c;(c=this._callbacks)[l].apply(c,arguments)}},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SessionMonitor=void 0;var a=function(){function d(h,m){for(var y=0;y<m.length;y++){var v=m[y];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(h,v.key,v)}}return function(h,m,y){return m&&d(h.prototype,m),y&&d(h,y),h}}(),o=i(0),s=i(19),l=i(1);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.SessionMonitor=function(){function d(h){var m=this,y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.CheckSessionIFrame,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.Global.timer;if(c(this,d),!h)throw o.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=h,this._CheckSessionIFrameCtor=y,this._timer=v,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(_){_?m._start(_):m._settings.monitorAnonymousSession&&m._userManager.querySessionStatus().then(function(S){var b={session_state:S.session_state};S.sub&&S.sid&&(b.profile={sub:S.sub,sid:S.sid}),m._start(b)}).catch(function(S){o.Log.error("SessionMonitor ctor: error from querySessionStatus:",S.message)})}).catch(function(_){o.Log.error("SessionMonitor ctor: error from getUser:",_.message)}))}return d.prototype._start=function(m){var y=this,v=m.session_state;v&&(m.profile?(this._sub=m.profile.sub,this._sid=m.profile.sid,o.Log.debug("SessionMonitor._start: session_state:",v,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,o.Log.debug("SessionMonitor._start: session_state:",v,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(v):this._metadataService.getCheckSessionIframe().then(function(_){if(_){o.Log.debug("SessionMonitor._start: Initializing check session iframe");var S=y._client_id,b=y._checkSessionInterval,x=y._stopCheckSessionOnError;y._checkSessionIFrame=new y._CheckSessionIFrameCtor(y._callback.bind(y),S,_,b,x),y._checkSessionIFrame.load().then(function(){y._checkSessionIFrame.start(v)})}else o.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(_){o.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",_.message)}))},d.prototype._stop=function(){var m=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(o.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var y=this._timer.setInterval(function(){m._timer.clearInterval(y),m._userManager.querySessionStatus().then(function(v){var _={session_state:v.session_state};v.sub&&v.sid&&(_.profile={sub:v.sub,sid:v.sid}),m._start(_)}).catch(function(v){o.Log.error("SessionMonitor: error from querySessionStatus:",v.message)})},1e3)},d.prototype._callback=function(){var m=this;this._userManager.querySessionStatus().then(function(y){var v=!0;y?y.sub===m._sub?(v=!1,m._checkSessionIFrame.start(y.session_state),y.sid===m._sid?o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",y.session_state):(o.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",y.session_state),m._userManager.events._raiseUserSessionChanged())):o.Log.debug("SessionMonitor._callback: Different subject signed into OP:",y.sub):o.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),v&&(m._sub?(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),m._userManager.events._raiseUserSignedOut()):(o.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),m._userManager.events._raiseUserSignedIn()))}).catch(function(y){m._sub&&(o.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",y.message),m._userManager.events._raiseUserSignedOut())})},a(d,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CheckSessionIFrame=void 0;var a=i(0);function o(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}r.CheckSessionIFrame=function(){function s(l,c,d,h){var m=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];o(this,s),this._callback=l,this._client_id=c,this._url=d,this._interval=h||2e3,this._stopOnError=m;var y=d.indexOf("/",d.indexOf("//")+2);this._frame_origin=d.substr(0,y),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=d}return s.prototype.load=function(){var c=this;return new Promise(function(d){c._frame.onload=function(){d()},window.document.body.appendChild(c._frame),c._boundMessageEvent=c._message.bind(c),window.addEventListener("message",c._boundMessageEvent,!1)})},s.prototype._message=function(c){c.origin===this._frame_origin&&c.source===this._frame.contentWindow&&(c.data==="error"?(a.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):c.data==="changed"?(a.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):a.Log.debug("CheckSessionIFrame: "+c.data+" message from check session op iframe"))},s.prototype.start=function(c){var d=this;if(this._session_state!==c){a.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=c;var h=function(){d._frame.contentWindow.postMessage(d._client_id+" "+d._session_state,d._frame_origin)};h(),this._timer=window.setInterval(h,this._interval)}},s.prototype.stop=function(){this._session_state=null,this._timer&&(a.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.TokenRevocationClient=void 0;var a=i(0),o=i(2),s=i(1);function l(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}var c="access_token",d="refresh_token";r.TokenRevocationClient=function(){function h(m){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.XMLHttpRequest,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService;if(l(this,h),!m)throw a.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=m,this._XMLHttpRequestCtor=y,this._metadataService=new v(this._settings)}return h.prototype.revoke=function(y,v){var _=this,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"access_token";if(!y)throw a.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(S!==c&&S!=d)throw a.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(b){if(b){a.Log.debug("TokenRevocationClient.revoke: Revoking "+S);var x=_._settings.client_id,R=_._settings.client_secret;return _._revoke(b,x,R,y,S)}if(v)throw a.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},h.prototype._revoke=function(y,v,_,S,b){var x=this;return new Promise(function(R,P){var O=new x._XMLHttpRequestCtor;O.open("POST",y),O.onload=function(){a.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",O.status),O.status===200?R():P(Error(O.statusText+" ("+O.status+")"))},O.onerror=function(){a.Log.debug("TokenRevocationClient.revoke: Network Error."),P("Network Error")};var D="client_id="+encodeURIComponent(v);_&&(D+="&client_secret="+encodeURIComponent(_)),D+="&token_type_hint="+encodeURIComponent(b),D+="&token="+encodeURIComponent(S),O.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),O.send(D)})},h}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.CordovaPopupWindow=function(){function s(l){var c=this;(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this.features=l.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=l.popupWindowTarget||"_blank",this.redirect_uri=l.startUrl,o.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return s.prototype._isInAppBrowserInstalled=function(c){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(d){return c.hasOwnProperty(d)})},s.prototype.navigate=function(c){if(c&&c.url){if(!window.cordova)return this._error("cordova is undefined");var d=window.cordova.require("cordova/plugin_list").metadata;if(this._isInAppBrowserInstalled(d)===!1)return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(c.url,this.target,this.features),this._popup?(o.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},s.prototype._loadStartCallback=function(c){c.url.indexOf(this.redirect_uri)===0&&this._success({url:c.url})},s.prototype._exitCallback=function(c){this._error(c)},s.prototype._success=function(c){this._cleanup(),o.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._popup&&(o.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},a(s,[{key:"promise",get:function(){return this._promise}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var a=i(0),o=i(10),s=i(5),l=i(6),c=i(37),d=i(38),h=i(16),m=i(2),y=i(48),v=i(49),_=i(19),S=i(20),b=i(18),x=i(1),R=i(15),P=i(50);r.default={Version:P.Version,Log:a.Log,OidcClient:o.OidcClient,OidcClientSettings:s.OidcClientSettings,WebStorageStateStore:l.WebStorageStateStore,InMemoryWebStorage:c.InMemoryWebStorage,UserManager:d.UserManager,AccessTokenEvents:h.AccessTokenEvents,MetadataService:m.MetadataService,CordovaPopupNavigator:y.CordovaPopupNavigator,CordovaIFrameNavigator:v.CordovaIFrameNavigator,CheckSessionIFrame:_.CheckSessionIFrame,TokenRevocationClient:S.TokenRevocationClient,SessionMonitor:b.SessionMonitor,Global:x.Global,User:R.User},n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ClockService=function(){function a(){(function(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")})(this,a)}return a.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},a}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ResponseValidator=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},o=i(0),s=i(2),l=i(25),c=i(11),d=i(12),h=i(4);function m(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")}var y=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];r.ResponseValidator=function(){function v(_){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.MetadataService,b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.UserInfoService,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:h.JoseUtil,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:c.TokenClient;if(m(this,v),!_)throw o.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=_,this._metadataService=new S(this._settings),this._userInfoService=new b(this._settings),this._joseUtil=x,this._tokenClient=new R(this._settings)}return v.prototype.validateSigninResponse=function(S,b){var x=this;return o.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(S,b).then(function(R){return o.Log.debug("ResponseValidator.validateSigninResponse: state processed"),x._validateTokens(S,R).then(function(P){return o.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),x._processClaims(S,P).then(function(O){return o.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),O})})})},v.prototype.validateSignoutResponse=function(S,b){return S.id!==b.state?(o.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(o.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),b.state=S.data,b.error?(o.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",b.error),Promise.reject(new d.ErrorResponse(b))):Promise.resolve(b))},v.prototype._processSigninParams=function(S,b){if(S.id!==b.state)return o.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!S.client_id)return o.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!S.authority)return o.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==S.authority)return o.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=S.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==S.client_id)return o.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=S.client_id;return o.Log.debug("ResponseValidator._processSigninParams: state validated"),b.state=S.data,b.error?(o.Log.warn("ResponseValidator._processSigninParams: Response was error",b.error),Promise.reject(new d.ErrorResponse(b))):S.nonce&&!b.id_token?(o.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!S.nonce&&b.id_token?(o.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):S.code_verifier&&!b.code?(o.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!S.code_verifier&&b.code?(o.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(b.scope||(b.scope=S.scope),Promise.resolve(b))},v.prototype._processClaims=function(S,b){var x=this;if(b.isOpenIdConnect){if(o.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),b.profile=this._filterProtocolClaims(b.profile),S.skipUserInfo!==!0&&this._settings.loadUserInfo&&b.access_token)return o.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(b.access_token).then(function(R){return o.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),R.sub!==b.profile.sub?(o.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(b.profile=x._mergeClaims(b.profile,R),o.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",b.profile),b)});o.Log.debug("ResponseValidator._processClaims: not loading user info")}else o.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(b)},v.prototype._mergeClaims=function(S,b){var x=Object.assign({},S);for(var R in b){var P=b[R];Array.isArray(P)||(P=[P]);for(var O=0;O<P.length;O++){var D=P[O];x[R]?Array.isArray(x[R])?x[R].indexOf(D)<0&&x[R].push(D):x[R]!==D&&((D===void 0?"undefined":a(D))==="object"&&this._settings.mergeClaims?x[R]=this._mergeClaims(x[R],D):x[R]=[x[R],D]):x[R]=D}}return x},v.prototype._filterProtocolClaims=function(S){o.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",S);var b=Object.assign({},S);return this._settings._filterProtocolClaims?(y.forEach(function(x){delete b[x]}),o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",b)):o.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),b},v.prototype._validateTokens=function(S,b){return b.code?(o.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(S,b)):b.id_token?b.access_token?(o.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(S,b)):(o.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(S,b)):(o.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(b))},v.prototype._processCode=function(S,b){var x=this,R={client_id:S.client_id,client_secret:S.client_secret,code:b.code,redirect_uri:S.redirect_uri,code_verifier:S.code_verifier};return S.extraTokenParams&&a(S.extraTokenParams)==="object"&&Object.assign(R,S.extraTokenParams),this._tokenClient.exchangeCode(R).then(function(P){for(var O in P)b[O]=P[O];return b.id_token?(o.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),x._validateIdTokenAttributes(S,b)):(o.Log.debug("ResponseValidator._processCode: token response successful, returning response"),b)})},v.prototype._validateIdTokenAttributes=function(S,b){var x=this;return this._metadataService.getIssuer().then(function(R){var P=S.client_id,O=x._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",O),x._settings.getEpochTime().then(function(D){return x._joseUtil.validateJwtAttributes(b.id_token,R,P,O,D).then(function(F){return S.nonce&&S.nonce!==F.nonce?(o.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):F.sub?(b.profile=F,b):(o.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},v.prototype._validateIdTokenAndAccessToken=function(S,b){var x=this;return this._validateIdToken(S,b).then(function(R){return x._validateAccessToken(R)})},v.prototype._getSigningKeyForJwt=function(S){var b=this;return this._metadataService.getSigningKeys().then(function(x){var R=S.header.kid;if(!x)return o.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var P=void 0;if(R)P=x.filter(function(O){return O.kid===R})[0];else{if((x=b._filterByAlg(x,S.header.alg)).length>1)return o.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));P=x[0]}return Promise.resolve(P)})},v.prototype._getSigningKeyForJwtWithSingleRetry=function(S){var b=this;return this._getSigningKeyForJwt(S).then(function(x){return x?Promise.resolve(x):(b._metadataService.resetSigningKeys(),b._getSigningKeyForJwt(S))})},v.prototype._validateIdToken=function(S,b){var x=this;if(!S.nonce)return o.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var R=this._joseUtil.parseJwt(b.id_token);return R&&R.header&&R.payload?S.nonce!==R.payload.nonce?(o.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(P){return o.Log.debug("ResponseValidator._validateIdToken: Received issuer"),x._getSigningKeyForJwtWithSingleRetry(R).then(function(O){if(!O)return o.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var D=S.client_id,F=x._settings.clockSkew;return o.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",F),x._joseUtil.validateJwt(b.id_token,O,P,D,F).then(function(){return o.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),R.payload.sub?(b.profile=R.payload,b):(o.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(o.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",R),Promise.reject(new Error("Failed to parse id_token")))},v.prototype._filterByAlg=function(S,b){var x=null;if(b.startsWith("RS"))x="RSA";else if(b.startsWith("PS"))x="PS";else{if(!b.startsWith("ES"))return o.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",b),[];x="EC"}return o.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",x),S=S.filter(function(R){return R.kty===x}),o.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",x,S.length),S},v.prototype._validateAccessToken=function(S){if(!S.profile)return o.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!S.profile.at_hash)return o.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!S.id_token)return o.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var b=this._joseUtil.parseJwt(S.id_token);if(!b||!b.header)return o.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",b),Promise.reject(new Error("Failed to parse id_token"));var x=b.header.alg;if(!x||x.length!==5)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x),Promise.reject(new Error("Unsupported alg: "+x));var R=x.substr(2,3);if(!R)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,R),Promise.reject(new Error("Unsupported alg: "+x));if((R=parseInt(R))!==256&&R!==384&&R!==512)return o.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",x,R),Promise.reject(new Error("Unsupported alg: "+x));var P="sha"+R,O=this._joseUtil.hashString(S.access_token,P);if(!O)return o.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",P),Promise.reject(new Error("Failed to validate at_hash"));var D=O.substr(0,O.length/2),F=this._joseUtil.hexToBase64Url(D);return F!==S.profile.at_hash?(o.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",F,S.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(o.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(S))},v}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserInfoService=void 0;var a=i(7),o=i(2),s=i(0),l=i(4);function c(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}r.UserInfoService=function(){function d(h){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.JsonService,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.MetadataService,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:l.JoseUtil;if(c(this,d),!h)throw s.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=h,this._jsonService=new m(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new y(this._settings),this._joseUtil=v}return d.prototype.getClaims=function(m){var y=this;return m?this._metadataService.getUserInfoEndpoint().then(function(v){return s.Log.debug("UserInfoService.getClaims: received userinfo url",v),y._jsonService.getJson(v,m).then(function(_){return s.Log.debug("UserInfoService.getClaims: claims received",_),_})}):(s.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},d.prototype._getClaimsFromJwt=function(m){var y=this;try{var v=this._joseUtil.parseJwt(m.responseText);if(!v||!v.header||!v.payload)return s.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",v),Promise.reject(new Error("Failed to parse id_token"));var _=v.header.kid,S=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":S=this._metadataService.getIssuer();break;case"ANY":S=Promise.resolve(v.payload.iss);break;default:S=Promise.resolve(this._settings.userInfoJwtIssuer)}return S.then(function(b){return s.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+b),y._metadataService.getSigningKeys().then(function(x){if(!x)return s.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));s.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var R=void 0;if(_)R=x.filter(function(D){return D.kid===_})[0];else{if((x=y._filterByAlg(x,v.header.alg)).length>1)return s.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));R=x[0]}if(!R)return s.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var P=y._settings.client_id,O=y._settings.clockSkew;return s.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",O),y._joseUtil.validateJwt(m.responseText,R,b,P,O,void 0,!0).then(function(){return s.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),v.payload})})})}catch(b){return s.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",b.message),void reject(b)}},d.prototype._filterByAlg=function(m,y){var v=null;if(y.startsWith("RS"))v="RSA";else if(y.startsWith("PS"))v="PS";else{if(!y.startsWith("ES"))return s.Log.debug("UserInfoService._filterByAlg: alg not supported: ",y),[];v="EC"}return s.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",v),m=m.filter(function(_){return _.kty===v}),s.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",v,m.length),m},d}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AllowedSigningAlgs=r.b64tohex=r.hextob64u=r.crypto=r.X509=r.KeyUtil=r.jws=void 0;var a=i(27);r.jws=a.jws,r.KeyUtil=a.KEYUTIL,r.X509=a.X509,r.crypto=a.crypto,r.hextob64u=a.hextob64u,r.b64tohex=a.b64tohex,r.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(n,r,i){(function(a){Object.defineProperty(r,"__esModule",{value:!0});var o,s,l,c,d,h,m,y,v,_,S,b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},x={userAgent:!1},R={},P=P||(o=Math,l=(s={}).lib={},c=l.Base=function(){function T(){}return{extend:function(A){T.prototype=this;var N=new T;return A&&N.mixIn(A),N.hasOwnProperty("init")||(N.init=function(){N.$super.init.apply(this,arguments)}),N.init.prototype=N,N.$super=this,N},create:function(){var A=this.extend();return A.init.apply(A,arguments),A},init:function(){},mixIn:function(A){for(var N in A)A.hasOwnProperty(N)&&(this[N]=A[N]);A.hasOwnProperty("toString")&&(this.toString=A.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=l.WordArray=c.extend({init:function(C,A){C=this.words=C||[],this.sigBytes=A??4*C.length},toString:function(C){return(C||m).stringify(this)},concat:function(C){var A=this.words,N=C.words,J=this.sigBytes,le=C.sigBytes;if(this.clamp(),J%4)for(var we=0;we<le;we++){var Ie=N[we>>>2]>>>24-we%4*8&255;A[J+we>>>2]|=Ie<<24-(J+we)%4*8}else for(we=0;we<le;we+=4)A[J+we>>>2]=N[we>>>2];return this.sigBytes+=le,this},clamp:function(){var C=this.words,A=this.sigBytes;C[A>>>2]&=4294967295<<32-A%4*8,C.length=o.ceil(A/4)},clone:function(){var C=c.clone.call(this);return C.words=this.words.slice(0),C},random:function(C){for(var A=[],N=0;N<C;N+=4)A.push(4294967296*o.random()|0);return new d.init(A,C)}}),h=s.enc={},m=h.Hex={stringify:function(C){for(var A=C.words,N=C.sigBytes,J=[],le=0;le<N;le++){var we=A[le>>>2]>>>24-le%4*8&255;J.push((we>>>4).toString(16)),J.push((15&we).toString(16))}return J.join("")},parse:function(C){for(var A=C.length,N=[],J=0;J<A;J+=2)N[J>>>3]|=parseInt(C.substr(J,2),16)<<24-J%8*4;return new d.init(N,A/2)}},y=h.Latin1={stringify:function(C){for(var A=C.words,N=C.sigBytes,J=[],le=0;le<N;le++){var we=A[le>>>2]>>>24-le%4*8&255;J.push(String.fromCharCode(we))}return J.join("")},parse:function(C){for(var A=C.length,N=[],J=0;J<A;J++)N[J>>>2]|=(255&C.charCodeAt(J))<<24-J%4*8;return new d.init(N,A)}},v=h.Utf8={stringify:function(C){try{return decodeURIComponent(escape(y.stringify(C)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(C){return y.parse(unescape(encodeURIComponent(C)))}},_=l.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(C){typeof C=="string"&&(C=v.parse(C)),this._data.concat(C),this._nDataBytes+=C.sigBytes},_process:function(C){var A=this._data,N=A.words,J=A.sigBytes,le=this.blockSize,we=J/(4*le),Ie=(we=C?o.ceil(we):o.max((0|we)-this._minBufferSize,0))*le,xe=o.min(4*Ie,J);if(Ie){for(var Oe=0;Oe<Ie;Oe+=le)this._doProcessBlock(N,Oe);var Me=N.splice(0,Ie);A.sigBytes-=xe}return new d.init(Me,xe)},clone:function(){var C=c.clone.call(this);return C._data=this._data.clone(),C},_minBufferSize:0}),l.Hasher=_.extend({cfg:c.extend(),init:function(C){this.cfg=this.cfg.extend(C),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(C){return this._append(C),this._process(),this},finalize:function(C){return C&&this._append(C),this._doFinalize()},blockSize:16,_createHelper:function(C){return function(A,N){return new C.init(N).finalize(A)}},_createHmacHelper:function(C){return function(A,N){return new S.HMAC.init(C,N).finalize(A)}}}),S=s.algo={},s);(function(T){var C,A=(C=P).lib,N=A.Base,J=A.WordArray;(C=C.x64={}).Word=N.extend({init:function(we,Ie){this.high=we,this.low=Ie}}),C.WordArray=N.extend({init:function(we,Ie){we=this.words=we||[],this.sigBytes=Ie??8*we.length},toX32:function(){for(var we=this.words,Ie=we.length,xe=[],Oe=0;Oe<Ie;Oe++){var Me=we[Oe];xe.push(Me.high),xe.push(Me.low)}return J.create(xe,this.sigBytes)},clone:function(){for(var we=N.clone.call(this),Ie=we.words=this.words.slice(0),xe=Ie.length,Oe=0;Oe<xe;Oe++)Ie[Oe]=Ie[Oe].clone();return we}})})(),function(){var T=P,C=T.lib.WordArray;T.enc.Base64={stringify:function(N){var J=N.words,le=N.sigBytes,we=this._map;N.clamp(),N=[];for(var Ie=0;Ie<le;Ie+=3)for(var xe=(J[Ie>>>2]>>>24-Ie%4*8&255)<<16|(J[Ie+1>>>2]>>>24-(Ie+1)%4*8&255)<<8|J[Ie+2>>>2]>>>24-(Ie+2)%4*8&255,Oe=0;4>Oe&&Ie+.75*Oe<le;Oe++)N.push(we.charAt(xe>>>6*(3-Oe)&63));if(J=we.charAt(64))for(;N.length%4;)N.push(J);return N.join("")},parse:function(N){var J=N.length,le=this._map;(we=le.charAt(64))&&(we=N.indexOf(we))!=-1&&(J=we);for(var we=[],Ie=0,xe=0;xe<J;xe++)if(xe%4){var Oe=le.indexOf(N.charAt(xe-1))<<xe%4*2,Me=le.indexOf(N.charAt(xe))>>>6-xe%4*2;we[Ie>>>2]|=(Oe|Me)<<24-Ie%4*8,Ie++}return C.create(we,Ie)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(T){for(var C=P,A=(J=C.lib).WordArray,N=J.Hasher,J=C.algo,le=[],we=[],Ie=function(dt){return 4294967296*(dt-(0|dt))|0},xe=2,Oe=0;64>Oe;){var Me;e:{Me=xe;for(var $e=T.sqrt(Me),ze=2;ze<=$e;ze++)if(!(Me%ze)){Me=!1;break e}Me=!0}Me&&(8>Oe&&(le[Oe]=Ie(T.pow(xe,.5))),we[Oe]=Ie(T.pow(xe,1/3)),Oe++),xe++}var Ye=[];J=J.SHA256=N.extend({_doReset:function(){this._hash=new A.init(le.slice(0))},_doProcessBlock:function(dt,ut){for(var be=this._hash.words,De=be[0],Be=be[1],Ke=be[2],lt=be[3],mt=be[4],$t=be[5],Tt=be[6],gn=be[7],Ft=0;64>Ft;Ft++){if(16>Ft)Ye[Ft]=0|dt[ut+Ft];else{var Vt=Ye[Ft-15],zn=Ye[Ft-2];Ye[Ft]=((Vt<<25|Vt>>>7)^(Vt<<14|Vt>>>18)^Vt>>>3)+Ye[Ft-7]+((zn<<15|zn>>>17)^(zn<<13|zn>>>19)^zn>>>10)+Ye[Ft-16]}Vt=gn+((mt<<26|mt>>>6)^(mt<<21|mt>>>11)^(mt<<7|mt>>>25))+(mt&$t^~mt&Tt)+we[Ft]+Ye[Ft],zn=((De<<30|De>>>2)^(De<<19|De>>>13)^(De<<10|De>>>22))+(De&Be^De&Ke^Be&Ke),gn=Tt,Tt=$t,$t=mt,mt=lt+Vt|0,lt=Ke,Ke=Be,Be=De,De=Vt+zn|0}be[0]=be[0]+De|0,be[1]=be[1]+Be|0,be[2]=be[2]+Ke|0,be[3]=be[3]+lt|0,be[4]=be[4]+mt|0,be[5]=be[5]+$t|0,be[6]=be[6]+Tt|0,be[7]=be[7]+gn|0},_doFinalize:function(){var dt=this._data,ut=dt.words,be=8*this._nDataBytes,De=8*dt.sigBytes;return ut[De>>>5]|=128<<24-De%32,ut[14+(De+64>>>9<<4)]=T.floor(be/4294967296),ut[15+(De+64>>>9<<4)]=be,dt.sigBytes=4*ut.length,this._process(),this._hash},clone:function(){var dt=N.clone.call(this);return dt._hash=this._hash.clone(),dt}}),C.SHA256=N._createHelper(J),C.HmacSHA256=N._createHmacHelper(J)}(Math),function(){function T(){return N.create.apply(N,arguments)}for(var C=P,A=C.lib.Hasher,N=(le=C.x64).Word,J=le.WordArray,le=C.algo,we=[T(1116352408,3609767458),T(1899447441,602891725),T(3049323471,3964484399),T(3921009573,2173295548),T(961987163,4081628472),T(1508970993,3053834265),T(2453635748,2937671579),T(2870763221,3664609560),T(3624381080,2734883394),T(310598401,1164996542),T(607225278,1323610764),T(1426881987,3590304994),T(1925078388,4068182383),T(2162078206,991336113),T(2614888103,633803317),T(3248222580,3479774868),T(3835390401,2666613458),T(4022224774,944711139),T(264347078,2341262773),T(604807628,2007800933),T(770255983,1495990901),T(1249150122,1856431235),T(1555081692,3175218132),T(1996064986,2198950837),T(2554220882,3999719339),T(2821834349,766784016),T(2952996808,2566594879),T(3210313671,3203337956),T(3336571891,1034457026),T(3584528711,2466948901),T(113926993,3758326383),T(338241895,168717936),T(666307205,1188179964),T(773529912,1546045734),T(1294757372,1522805485),T(1396182291,2643833823),T(1695183700,2343527390),T(1986661051,1014477480),T(2177026350,1206759142),T(2456956037,344077627),T(2730485921,1290863460),T(2820302411,3158454273),T(3259730800,3505952657),T(3345764771,106217008),T(3516065817,3606008344),T(3600352804,1432725776),T(4094571909,1467031594),T(275423344,851169720),T(430227734,3100823752),T(506948616,1363258195),T(659060556,3750685593),T(883997877,3785050280),T(958139571,3318307427),T(1322822218,3812723403),T(1537002063,2003034995),T(1747873779,3602036899),T(1955562222,1575990012),T(2024104815,1125592928),T(2227730452,2716904306),T(2361852424,442776044),T(2428436474,593698344),T(2756734187,3733110249),T(3204031479,2999351573),T(3329325298,3815920427),T(3391569614,3928383900),T(3515267271,566280711),T(3940187606,3454069534),T(4118630271,4000239992),T(116418474,1914138554),T(174292421,2731055270),T(289380356,3203993006),T(460393269,320620315),T(685471733,587496836),T(852142971,1086792851),T(1017036298,365543100),T(1126000580,2618297676),T(1288033470,3409855158),T(1501505948,4234509866),T(1607167915,987167468),T(1816402316,1246189591)],Ie=[],xe=0;80>xe;xe++)Ie[xe]=T();le=le.SHA512=A.extend({_doReset:function(){this._hash=new J.init([new N.init(1779033703,4089235720),new N.init(3144134277,2227873595),new N.init(1013904242,4271175723),new N.init(2773480762,1595750129),new N.init(1359893119,2917565137),new N.init(2600822924,725511199),new N.init(528734635,4215389547),new N.init(1541459225,327033209)])},_doProcessBlock:function(Me,$e){for(var ze=(Be=this._hash.words)[0],Ye=Be[1],ot=Be[2],dt=Be[3],ut=Be[4],be=Be[5],De=Be[6],Be=Be[7],Ke=ze.high,lt=ze.low,mt=Ye.high,$t=Ye.low,Tt=ot.high,gn=ot.low,Ft=dt.high,Vt=dt.low,zn=ut.high,Nn=ut.low,Bn=be.high,Qt=be.low,Gn=De.high,pn=De.low,Xn=Be.high,mr=Be.low,yr=Ke,lr=lt,Ei=mt,Ji=$t,_a=Tt,ir=gn,Ui=Ft,Io=Vt,ar=zn,Br=Nn,oo=Bn,Xi=Qt,Hu=Gn,so=pn,vn=Xn,Ma=mr,cr=0;80>cr;cr++){var qi=Ie[cr];if(16>cr)var wa=qi.high=0|Me[$e+2*cr],fr=qi.low=0|Me[$e+2*cr+1];else{wa=((fr=(wa=Ie[cr-15]).high)>>>1|(Yi=wa.low)<<31)^(fr>>>8|Yi<<24)^fr>>>7;var Yi=(Yi>>>1|fr<<31)^(Yi>>>8|fr<<24)^(Yi>>>7|fr<<25),uo=((fr=(uo=Ie[cr-2]).high)>>>19|(Or=uo.low)<<13)^(fr<<3|Or>>>29)^fr>>>6,Or=(Or>>>19|fr<<13)^(Or<<3|fr>>>29)^(Or>>>6|fr<<26),uc=(fr=Ie[cr-7]).high,Mo=(Da=Ie[cr-16]).high,Da=Da.low;wa=(wa=(wa=wa+uc+((fr=Yi+fr.low)>>>0<Yi>>>0?1:0))+uo+((fr=fr+Or)>>>0<Or>>>0?1:0))+Mo+((fr=fr+Da)>>>0<Da>>>0?1:0),qi.high=wa,qi.low=fr}uc=ar&oo^~ar&Hu,Da=Br&Xi^~Br&so,qi=yr&Ei^yr&_a^Ei&_a;var cp=lr&Ji^lr&ir^Ji&ir,ea=(Yi=(yr>>>28|lr<<4)^(yr<<30|lr>>>2)^(yr<<25|lr>>>7),uo=(lr>>>28|yr<<4)^(lr<<30|yr>>>2)^(lr<<25|yr>>>7),(Or=we[cr]).high),Kf=Or.low;Mo=vn+((ar>>>14|Br<<18)^(ar>>>18|Br<<14)^(ar<<23|Br>>>9))+((Or=Ma+((Br>>>14|ar<<18)^(Br>>>18|ar<<14)^(Br<<23|ar>>>9)))>>>0<Ma>>>0?1:0),vn=Hu,Ma=so,Hu=oo,so=Xi,oo=ar,Xi=Br,ar=Ui+(Mo=(Mo=(Mo=Mo+uc+((Or=Or+Da)>>>0<Da>>>0?1:0))+ea+((Or=Or+Kf)>>>0<Kf>>>0?1:0))+wa+((Or=Or+fr)>>>0<fr>>>0?1:0))+((Br=Io+Or|0)>>>0<Io>>>0?1:0)|0,Ui=_a,Io=ir,_a=Ei,ir=Ji,Ei=yr,Ji=lr,yr=Mo+(qi=Yi+qi+((fr=uo+cp)>>>0<uo>>>0?1:0))+((lr=Or+fr|0)>>>0<Or>>>0?1:0)|0}lt=ze.low=lt+lr,ze.high=Ke+yr+(lt>>>0<lr>>>0?1:0),$t=Ye.low=$t+Ji,Ye.high=mt+Ei+($t>>>0<Ji>>>0?1:0),gn=ot.low=gn+ir,ot.high=Tt+_a+(gn>>>0<ir>>>0?1:0),Vt=dt.low=Vt+Io,dt.high=Ft+Ui+(Vt>>>0<Io>>>0?1:0),Nn=ut.low=Nn+Br,ut.high=zn+ar+(Nn>>>0<Br>>>0?1:0),Qt=be.low=Qt+Xi,be.high=Bn+oo+(Qt>>>0<Xi>>>0?1:0),pn=De.low=pn+so,De.high=Gn+Hu+(pn>>>0<so>>>0?1:0),mr=Be.low=mr+Ma,Be.high=Xn+vn+(mr>>>0<Ma>>>0?1:0)},_doFinalize:function(){var Me=this._data,$e=Me.words,ze=8*this._nDataBytes,Ye=8*Me.sigBytes;return $e[Ye>>>5]|=128<<24-Ye%32,$e[30+(Ye+128>>>10<<5)]=Math.floor(ze/4294967296),$e[31+(Ye+128>>>10<<5)]=ze,Me.sigBytes=4*$e.length,this._process(),this._hash.toX32()},clone:function(){var Me=A.clone.call(this);return Me._hash=this._hash.clone(),Me},blockSize:32}),C.SHA512=A._createHelper(le),C.HmacSHA512=A._createHmacHelper(le)}(),function(){var T=P,C=(J=T.x64).Word,A=J.WordArray,N=(J=T.algo).SHA512,J=J.SHA384=N.extend({_doReset:function(){this._hash=new A.init([new C.init(3418070365,3238371032),new C.init(1654270250,914150663),new C.init(2438529370,812702999),new C.init(355462360,4144912697),new C.init(1731405415,4290775857),new C.init(2394180231,1750603025),new C.init(3675008525,1694076839),new C.init(1203062813,3204075428)])},_doFinalize:function(){var we=N._doFinalize.call(this);return we.sigBytes-=16,we}});T.SHA384=N._createHelper(J),T.HmacSHA384=N._createHmacHelper(J)}();/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */var O,D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function F(T){var C,A,N="";for(C=0;C+3<=T.length;C+=3)A=parseInt(T.substring(C,C+3),16),N+=D.charAt(A>>6)+D.charAt(63&A);for(C+1==T.length?(A=parseInt(T.substring(C,C+1),16),N+=D.charAt(A<<2)):C+2==T.length&&(A=parseInt(T.substring(C,C+2),16),N+=D.charAt(A>>2)+D.charAt((3&A)<<4)),"=";(3&N.length)>0;)N+="=";return N}function Q(T){var C,A,N,J="",le=0;for(C=0;C<T.length&&T.charAt(C)!="=";++C)(N=D.indexOf(T.charAt(C)))<0||(le==0?(J+=pe(N>>2),A=3&N,le=1):le==1?(J+=pe(A<<2|N>>4),A=15&N,le=2):le==2?(J+=pe(A),J+=pe(N>>2),A=3&N,le=3):(J+=pe(A<<2|N>>4),J+=pe(15&N),le=0));return le==1&&(J+=pe(A<<2)),J}function Y(T){var C,A=Q(T),N=new Array;for(C=0;2*C<A.length;++C)N[C]=parseInt(A.substring(2*C,2*C+2),16);return N}function U(T,C,A){T!=null&&(typeof T=="number"?this.fromNumber(T,C,A):C==null&&typeof T!="string"?this.fromString(T,256):this.fromString(T,C))}function X(){return new U(null)}x.appName=="Microsoft Internet Explorer"?(U.prototype.am=function(C,A,N,J,le,we){for(var Ie=32767&A,xe=A>>15;--we>=0;){var Oe=32767&this[C],Me=this[C++]>>15,$e=xe*Oe+Me*Ie;le=((Oe=Ie*Oe+((32767&$e)<<15)+N[J]+(1073741823&le))>>>30)+($e>>>15)+xe*Me+(le>>>30),N[J++]=1073741823&Oe}return le},O=30):x.appName!="Netscape"?(U.prototype.am=function(C,A,N,J,le,we){for(;--we>=0;){var Ie=A*this[C++]+N[J]+le;le=Math.floor(Ie/67108864),N[J++]=67108863&Ie}return le},O=26):(U.prototype.am=function(C,A,N,J,le,we){for(var Ie=16383&A,xe=A>>14;--we>=0;){var Oe=16383&this[C],Me=this[C++]>>14,$e=xe*Oe+Me*Ie;le=((Oe=Ie*Oe+((16383&$e)<<14)+N[J]+le)>>28)+($e>>14)+xe*Me,N[J++]=268435455&Oe}return le},O=28),U.prototype.DB=O,U.prototype.DM=(1<<O)-1,U.prototype.DV=1<<O,U.prototype.FV=Math.pow(2,52),U.prototype.F1=52-O,U.prototype.F2=2*O-52;var ce,te,se=new Array;for(ce=48,te=0;te<=9;++te)se[ce++]=te;for(ce=97,te=10;te<36;++te)se[ce++]=te;for(ce=65,te=10;te<36;++te)se[ce++]=te;function pe(T){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(T)}function _e(T,C){var A=se[T.charCodeAt(C)];return A??-1}function de(T){var C=X();return C.fromInt(T),C}function ue(T){var C,A=1;return(C=T>>>16)!=0&&(T=C,A+=16),(C=T>>8)!=0&&(T=C,A+=8),(C=T>>4)!=0&&(T=C,A+=4),(C=T>>2)!=0&&(T=C,A+=2),(C=T>>1)!=0&&(T=C,A+=1),A}function Ae(T){this.m=T}function k(T){this.m=T,this.mp=T.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<T.DB-15)-1,this.mt2=2*T.t}function ie(T,C){return T&C}function me(T,C){return T|C}function K(T,C){return T^C}function ee(T,C){return T&~C}function ge(T){if(T==0)return-1;var C=0;return!(65535&T)&&(T>>=16,C+=16),!(255&T)&&(T>>=8,C+=8),!(15&T)&&(T>>=4,C+=4),!(3&T)&&(T>>=2,C+=2),!(1&T)&&++C,C}function Re(T){for(var C=0;T!=0;)T&=T-1,++C;return C}function Ze(){}function Pe(T){return T}function Ne(T){this.r2=X(),this.q3=X(),U.ONE.dlShiftTo(2*T.t,this.r2),this.mu=this.r2.divide(T),this.m=T}Ae.prototype.convert=function(C){return C.s<0||C.compareTo(this.m)>=0?C.mod(this.m):C},Ae.prototype.revert=function(C){return C},Ae.prototype.reduce=function(C){C.divRemTo(this.m,null,C)},Ae.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N),this.reduce(N)},Ae.prototype.sqrTo=function(C,A){C.squareTo(A),this.reduce(A)},k.prototype.convert=function(C){var A=X();return C.abs().dlShiftTo(this.m.t,A),A.divRemTo(this.m,null,A),C.s<0&&A.compareTo(U.ZERO)>0&&this.m.subTo(A,A),A},k.prototype.revert=function(C){var A=X();return C.copyTo(A),this.reduce(A),A},k.prototype.reduce=function(C){for(;C.t<=this.mt2;)C[C.t++]=0;for(var A=0;A<this.m.t;++A){var N=32767&C[A],J=N*this.mpl+((N*this.mph+(C[A]>>15)*this.mpl&this.um)<<15)&C.DM;for(C[N=A+this.m.t]+=this.m.am(0,J,C,A,0,this.m.t);C[N]>=C.DV;)C[N]-=C.DV,C[++N]++}C.clamp(),C.drShiftTo(this.m.t,C),C.compareTo(this.m)>=0&&C.subTo(this.m,C)},k.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N),this.reduce(N)},k.prototype.sqrTo=function(C,A){C.squareTo(A),this.reduce(A)},U.prototype.copyTo=function(C){for(var A=this.t-1;A>=0;--A)C[A]=this[A];C.t=this.t,C.s=this.s},U.prototype.fromInt=function(C){this.t=1,this.s=C<0?-1:0,C>0?this[0]=C:C<-1?this[0]=C+this.DV:this.t=0},U.prototype.fromString=function(C,A){var N;if(A==16)N=4;else if(A==8)N=3;else if(A==256)N=8;else if(A==2)N=1;else if(A==32)N=5;else{if(A!=4)return void this.fromRadix(C,A);N=2}this.t=0,this.s=0;for(var J=C.length,le=!1,we=0;--J>=0;){var Ie=N==8?255&C[J]:_e(C,J);Ie<0?C.charAt(J)=="-"&&(le=!0):(le=!1,we==0?this[this.t++]=Ie:we+N>this.DB?(this[this.t-1]|=(Ie&(1<<this.DB-we)-1)<<we,this[this.t++]=Ie>>this.DB-we):this[this.t-1]|=Ie<<we,(we+=N)>=this.DB&&(we-=this.DB))}N==8&&128&C[0]&&(this.s=-1,we>0&&(this[this.t-1]|=(1<<this.DB-we)-1<<we)),this.clamp(),le&&U.ZERO.subTo(this,this)},U.prototype.clamp=function(){for(var C=this.s&this.DM;this.t>0&&this[this.t-1]==C;)--this.t},U.prototype.dlShiftTo=function(C,A){var N;for(N=this.t-1;N>=0;--N)A[N+C]=this[N];for(N=C-1;N>=0;--N)A[N]=0;A.t=this.t+C,A.s=this.s},U.prototype.drShiftTo=function(C,A){for(var N=C;N<this.t;++N)A[N-C]=this[N];A.t=Math.max(this.t-C,0),A.s=this.s},U.prototype.lShiftTo=function(C,A){var N,J=C%this.DB,le=this.DB-J,we=(1<<le)-1,Ie=Math.floor(C/this.DB),xe=this.s<<J&this.DM;for(N=this.t-1;N>=0;--N)A[N+Ie+1]=this[N]>>le|xe,xe=(this[N]&we)<<J;for(N=Ie-1;N>=0;--N)A[N]=0;A[Ie]=xe,A.t=this.t+Ie+1,A.s=this.s,A.clamp()},U.prototype.rShiftTo=function(C,A){A.s=this.s;var N=Math.floor(C/this.DB);if(N>=this.t)A.t=0;else{var J=C%this.DB,le=this.DB-J,we=(1<<J)-1;A[0]=this[N]>>J;for(var Ie=N+1;Ie<this.t;++Ie)A[Ie-N-1]|=(this[Ie]&we)<<le,A[Ie-N]=this[Ie]>>J;J>0&&(A[this.t-N-1]|=(this.s&we)<<le),A.t=this.t-N,A.clamp()}},U.prototype.subTo=function(C,A){for(var N=0,J=0,le=Math.min(C.t,this.t);N<le;)J+=this[N]-C[N],A[N++]=J&this.DM,J>>=this.DB;if(C.t<this.t){for(J-=C.s;N<this.t;)J+=this[N],A[N++]=J&this.DM,J>>=this.DB;J+=this.s}else{for(J+=this.s;N<C.t;)J-=C[N],A[N++]=J&this.DM,J>>=this.DB;J-=C.s}A.s=J<0?-1:0,J<-1?A[N++]=this.DV+J:J>0&&(A[N++]=J),A.t=N,A.clamp()},U.prototype.multiplyTo=function(C,A){var N=this.abs(),J=C.abs(),le=N.t;for(A.t=le+J.t;--le>=0;)A[le]=0;for(le=0;le<J.t;++le)A[le+N.t]=N.am(0,J[le],A,le,0,N.t);A.s=0,A.clamp(),this.s!=C.s&&U.ZERO.subTo(A,A)},U.prototype.squareTo=function(C){for(var A=this.abs(),N=C.t=2*A.t;--N>=0;)C[N]=0;for(N=0;N<A.t-1;++N){var J=A.am(N,A[N],C,2*N,0,1);(C[N+A.t]+=A.am(N+1,2*A[N],C,2*N+1,J,A.t-N-1))>=A.DV&&(C[N+A.t]-=A.DV,C[N+A.t+1]=1)}C.t>0&&(C[C.t-1]+=A.am(N,A[N],C,2*N,0,1)),C.s=0,C.clamp()},U.prototype.divRemTo=function(C,A,N){var J=C.abs();if(!(J.t<=0)){var le=this.abs();if(le.t<J.t)return A!=null&&A.fromInt(0),void(N!=null&&this.copyTo(N));N==null&&(N=X());var we=X(),Ie=this.s,xe=C.s,Oe=this.DB-ue(J[J.t-1]);Oe>0?(J.lShiftTo(Oe,we),le.lShiftTo(Oe,N)):(J.copyTo(we),le.copyTo(N));var Me=we.t,$e=we[Me-1];if($e!=0){var ze=$e*(1<<this.F1)+(Me>1?we[Me-2]>>this.F2:0),Ye=this.FV/ze,ot=(1<<this.F1)/ze,dt=1<<this.F2,ut=N.t,be=ut-Me,De=A??X();for(we.dlShiftTo(be,De),N.compareTo(De)>=0&&(N[N.t++]=1,N.subTo(De,N)),U.ONE.dlShiftTo(Me,De),De.subTo(we,we);we.t<Me;)we[we.t++]=0;for(;--be>=0;){var Be=N[--ut]==$e?this.DM:Math.floor(N[ut]*Ye+(N[ut-1]+dt)*ot);if((N[ut]+=we.am(0,Be,N,be,0,Me))<Be)for(we.dlShiftTo(be,De),N.subTo(De,N);N[ut]<--Be;)N.subTo(De,N)}A!=null&&(N.drShiftTo(Me,A),Ie!=xe&&U.ZERO.subTo(A,A)),N.t=Me,N.clamp(),Oe>0&&N.rShiftTo(Oe,N),Ie<0&&U.ZERO.subTo(N,N)}}},U.prototype.invDigit=function(){if(this.t<1)return 0;var C=this[0];if(!(1&C))return 0;var A=3&C;return(A=(A=(A=(A=A*(2-(15&C)*A)&15)*(2-(255&C)*A)&255)*(2-((65535&C)*A&65535))&65535)*(2-C*A%this.DV)%this.DV)>0?this.DV-A:-A},U.prototype.isEven=function(){return(this.t>0?1&this[0]:this.s)==0},U.prototype.exp=function(C,A){if(C>4294967295||C<1)return U.ONE;var N=X(),J=X(),le=A.convert(this),we=ue(C)-1;for(le.copyTo(N);--we>=0;)if(A.sqrTo(N,J),(C&1<<we)>0)A.mulTo(J,le,N);else{var Ie=N;N=J,J=Ie}return A.revert(N)},U.prototype.toString=function(C){if(this.s<0)return"-"+this.negate().toString(C);var A;if(C==16)A=4;else if(C==8)A=3;else if(C==2)A=1;else if(C==32)A=5;else{if(C!=4)return this.toRadix(C);A=2}var N,J=(1<<A)-1,le=!1,we="",Ie=this.t,xe=this.DB-Ie*this.DB%A;if(Ie-- >0)for(xe<this.DB&&(N=this[Ie]>>xe)>0&&(le=!0,we=pe(N));Ie>=0;)xe<A?(N=(this[Ie]&(1<<xe)-1)<<A-xe,N|=this[--Ie]>>(xe+=this.DB-A)):(N=this[Ie]>>(xe-=A)&J,xe<=0&&(xe+=this.DB,--Ie)),N>0&&(le=!0),le&&(we+=pe(N));return le?we:"0"},U.prototype.negate=function(){var C=X();return U.ZERO.subTo(this,C),C},U.prototype.abs=function(){return this.s<0?this.negate():this},U.prototype.compareTo=function(C){var A=this.s-C.s;if(A!=0)return A;var N=this.t;if((A=N-C.t)!=0)return this.s<0?-A:A;for(;--N>=0;)if((A=this[N]-C[N])!=0)return A;return 0},U.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ue(this[this.t-1]^this.s&this.DM)},U.prototype.mod=function(C){var A=X();return this.abs().divRemTo(C,null,A),this.s<0&&A.compareTo(U.ZERO)>0&&C.subTo(A,A),A},U.prototype.modPowInt=function(C,A){var N;return N=C<256||A.isEven()?new Ae(A):new k(A),this.exp(C,N)},U.ZERO=de(0),U.ONE=de(1),Ze.prototype.convert=Pe,Ze.prototype.revert=Pe,Ze.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N)},Ze.prototype.sqrTo=function(C,A){C.squareTo(A)},Ne.prototype.convert=function(C){if(C.s<0||C.t>2*this.m.t)return C.mod(this.m);if(C.compareTo(this.m)<0)return C;var A=X();return C.copyTo(A),this.reduce(A),A},Ne.prototype.revert=function(C){return C},Ne.prototype.reduce=function(C){for(C.drShiftTo(this.m.t-1,this.r2),C.t>this.m.t+1&&(C.t=this.m.t+1,C.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);C.compareTo(this.r2)<0;)C.dAddOffset(1,this.m.t+1);for(C.subTo(this.r2,C);C.compareTo(this.m)>=0;)C.subTo(this.m,C)},Ne.prototype.mulTo=function(C,A,N){C.multiplyTo(A,N),this.reduce(N)},Ne.prototype.sqrTo=function(C,A){C.squareTo(A),this.reduce(A)};var Xe=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],oe=(1<<26)/Xe[Xe.length-1];/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function H(){this.i=0,this.j=0,this.S=new Array}U.prototype.chunkSize=function(C){return Math.floor(Math.LN2*this.DB/Math.log(C))},U.prototype.toRadix=function(C){if(C==null&&(C=10),this.signum()==0||C<2||C>36)return"0";var A=this.chunkSize(C),N=Math.pow(C,A),J=de(N),le=X(),we=X(),Ie="";for(this.divRemTo(J,le,we);le.signum()>0;)Ie=(N+we.intValue()).toString(C).substr(1)+Ie,le.divRemTo(J,le,we);return we.intValue().toString(C)+Ie},U.prototype.fromRadix=function(C,A){this.fromInt(0),A==null&&(A=10);for(var N=this.chunkSize(A),J=Math.pow(A,N),le=!1,we=0,Ie=0,xe=0;xe<C.length;++xe){var Oe=_e(C,xe);Oe<0?C.charAt(xe)=="-"&&this.signum()==0&&(le=!0):(Ie=A*Ie+Oe,++we>=N&&(this.dMultiply(J),this.dAddOffset(Ie,0),we=0,Ie=0))}we>0&&(this.dMultiply(Math.pow(A,we)),this.dAddOffset(Ie,0)),le&&U.ZERO.subTo(this,this)},U.prototype.fromNumber=function(C,A,N){if(typeof A=="number")if(C<2)this.fromInt(1);else for(this.fromNumber(C,N),this.testBit(C-1)||this.bitwiseTo(U.ONE.shiftLeft(C-1),me,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(A);)this.dAddOffset(2,0),this.bitLength()>C&&this.subTo(U.ONE.shiftLeft(C-1),this);else{var J=new Array,le=7&C;J.length=1+(C>>3),A.nextBytes(J),le>0?J[0]&=(1<<le)-1:J[0]=0,this.fromString(J,256)}},U.prototype.bitwiseTo=function(C,A,N){var J,le,we=Math.min(C.t,this.t);for(J=0;J<we;++J)N[J]=A(this[J],C[J]);if(C.t<this.t){for(le=C.s&this.DM,J=we;J<this.t;++J)N[J]=A(this[J],le);N.t=this.t}else{for(le=this.s&this.DM,J=we;J<C.t;++J)N[J]=A(le,C[J]);N.t=C.t}N.s=A(this.s,C.s),N.clamp()},U.prototype.changeBit=function(C,A){var N=U.ONE.shiftLeft(C);return this.bitwiseTo(N,A,N),N},U.prototype.addTo=function(C,A){for(var N=0,J=0,le=Math.min(C.t,this.t);N<le;)J+=this[N]+C[N],A[N++]=J&this.DM,J>>=this.DB;if(C.t<this.t){for(J+=C.s;N<this.t;)J+=this[N],A[N++]=J&this.DM,J>>=this.DB;J+=this.s}else{for(J+=this.s;N<C.t;)J+=C[N],A[N++]=J&this.DM,J>>=this.DB;J+=C.s}A.s=J<0?-1:0,J>0?A[N++]=J:J<-1&&(A[N++]=this.DV+J),A.t=N,A.clamp()},U.prototype.dMultiply=function(C){this[this.t]=this.am(0,C-1,this,0,0,this.t),++this.t,this.clamp()},U.prototype.dAddOffset=function(C,A){if(C!=0){for(;this.t<=A;)this[this.t++]=0;for(this[A]+=C;this[A]>=this.DV;)this[A]-=this.DV,++A>=this.t&&(this[this.t++]=0),++this[A]}},U.prototype.multiplyLowerTo=function(C,A,N){var J,le=Math.min(this.t+C.t,A);for(N.s=0,N.t=le;le>0;)N[--le]=0;for(J=N.t-this.t;le<J;++le)N[le+this.t]=this.am(0,C[le],N,le,0,this.t);for(J=Math.min(C.t,A);le<J;++le)this.am(0,C[le],N,le,0,A-le);N.clamp()},U.prototype.multiplyUpperTo=function(C,A,N){--A;var J=N.t=this.t+C.t-A;for(N.s=0;--J>=0;)N[J]=0;for(J=Math.max(A-this.t,0);J<C.t;++J)N[this.t+J-A]=this.am(A-J,C[J],N,0,0,this.t+J-A);N.clamp(),N.drShiftTo(1,N)},U.prototype.modInt=function(C){if(C<=0)return 0;var A=this.DV%C,N=this.s<0?C-1:0;if(this.t>0)if(A==0)N=this[0]%C;else for(var J=this.t-1;J>=0;--J)N=(A*N+this[J])%C;return N},U.prototype.millerRabin=function(C){var A=this.subtract(U.ONE),N=A.getLowestSetBit();if(N<=0)return!1;var J=A.shiftRight(N);(C=C+1>>1)>Xe.length&&(C=Xe.length);for(var le=X(),we=0;we<C;++we){le.fromInt(Xe[Math.floor(Math.random()*Xe.length)]);var Ie=le.modPow(J,this);if(Ie.compareTo(U.ONE)!=0&&Ie.compareTo(A)!=0){for(var xe=1;xe++<N&&Ie.compareTo(A)!=0;)if((Ie=Ie.modPowInt(2,this)).compareTo(U.ONE)==0)return!1;if(Ie.compareTo(A)!=0)return!1}}return!0},U.prototype.clone=function(){var C=X();return this.copyTo(C),C},U.prototype.intValue=function(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},U.prototype.byteValue=function(){return this.t==0?this.s:this[0]<<24>>24},U.prototype.shortValue=function(){return this.t==0?this.s:this[0]<<16>>16},U.prototype.signum=function(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1},U.prototype.toByteArray=function(){var C=this.t,A=new Array;A[0]=this.s;var N,J=this.DB-C*this.DB%8,le=0;if(C-- >0)for(J<this.DB&&(N=this[C]>>J)!=(this.s&this.DM)>>J&&(A[le++]=N|this.s<<this.DB-J);C>=0;)J<8?(N=(this[C]&(1<<J)-1)<<8-J,N|=this[--C]>>(J+=this.DB-8)):(N=this[C]>>(J-=8)&255,J<=0&&(J+=this.DB,--C)),128&N&&(N|=-256),le==0&&(128&this.s)!=(128&N)&&++le,(le>0||N!=this.s)&&(A[le++]=N);return A},U.prototype.equals=function(C){return this.compareTo(C)==0},U.prototype.min=function(C){return this.compareTo(C)<0?this:C},U.prototype.max=function(C){return this.compareTo(C)>0?this:C},U.prototype.and=function(C){var A=X();return this.bitwiseTo(C,ie,A),A},U.prototype.or=function(C){var A=X();return this.bitwiseTo(C,me,A),A},U.prototype.xor=function(C){var A=X();return this.bitwiseTo(C,K,A),A},U.prototype.andNot=function(C){var A=X();return this.bitwiseTo(C,ee,A),A},U.prototype.not=function(){for(var C=X(),A=0;A<this.t;++A)C[A]=this.DM&~this[A];return C.t=this.t,C.s=~this.s,C},U.prototype.shiftLeft=function(C){var A=X();return C<0?this.rShiftTo(-C,A):this.lShiftTo(C,A),A},U.prototype.shiftRight=function(C){var A=X();return C<0?this.lShiftTo(-C,A):this.rShiftTo(C,A),A},U.prototype.getLowestSetBit=function(){for(var C=0;C<this.t;++C)if(this[C]!=0)return C*this.DB+ge(this[C]);return this.s<0?this.t*this.DB:-1},U.prototype.bitCount=function(){for(var C=0,A=this.s&this.DM,N=0;N<this.t;++N)C+=Re(this[N]^A);return C},U.prototype.testBit=function(C){var A=Math.floor(C/this.DB);return A>=this.t?this.s!=0:(this[A]&1<<C%this.DB)!=0},U.prototype.setBit=function(C){return this.changeBit(C,me)},U.prototype.clearBit=function(C){return this.changeBit(C,ee)},U.prototype.flipBit=function(C){return this.changeBit(C,K)},U.prototype.add=function(C){var A=X();return this.addTo(C,A),A},U.prototype.subtract=function(C){var A=X();return this.subTo(C,A),A},U.prototype.multiply=function(C){var A=X();return this.multiplyTo(C,A),A},U.prototype.divide=function(C){var A=X();return this.divRemTo(C,A,null),A},U.prototype.remainder=function(C){var A=X();return this.divRemTo(C,null,A),A},U.prototype.divideAndRemainder=function(C){var A=X(),N=X();return this.divRemTo(C,A,N),new Array(A,N)},U.prototype.modPow=function(C,A){var N,J,le=C.bitLength(),we=de(1);if(le<=0)return we;N=le<18?1:le<48?3:le<144?4:le<768?5:6,J=le<8?new Ae(A):A.isEven()?new Ne(A):new k(A);var Ie=new Array,xe=3,Oe=N-1,Me=(1<<N)-1;if(Ie[1]=J.convert(this),N>1){var $e=X();for(J.sqrTo(Ie[1],$e);xe<=Me;)Ie[xe]=X(),J.mulTo($e,Ie[xe-2],Ie[xe]),xe+=2}var ze,Ye,ot=C.t-1,dt=!0,ut=X();for(le=ue(C[ot])-1;ot>=0;){for(le>=Oe?ze=C[ot]>>le-Oe&Me:(ze=(C[ot]&(1<<le+1)-1)<<Oe-le,ot>0&&(ze|=C[ot-1]>>this.DB+le-Oe)),xe=N;!(1&ze);)ze>>=1,--xe;if((le-=xe)<0&&(le+=this.DB,--ot),dt)Ie[ze].copyTo(we),dt=!1;else{for(;xe>1;)J.sqrTo(we,ut),J.sqrTo(ut,we),xe-=2;xe>0?J.sqrTo(we,ut):(Ye=we,we=ut,ut=Ye),J.mulTo(ut,Ie[ze],we)}for(;ot>=0&&!(C[ot]&1<<le);)J.sqrTo(we,ut),Ye=we,we=ut,ut=Ye,--le<0&&(le=this.DB-1,--ot)}return J.revert(we)},U.prototype.modInverse=function(C){var A=C.isEven();if(this.isEven()&&A||C.signum()==0)return U.ZERO;for(var N=C.clone(),J=this.clone(),le=de(1),we=de(0),Ie=de(0),xe=de(1);N.signum()!=0;){for(;N.isEven();)N.rShiftTo(1,N),A?(le.isEven()&&we.isEven()||(le.addTo(this,le),we.subTo(C,we)),le.rShiftTo(1,le)):we.isEven()||we.subTo(C,we),we.rShiftTo(1,we);for(;J.isEven();)J.rShiftTo(1,J),A?(Ie.isEven()&&xe.isEven()||(Ie.addTo(this,Ie),xe.subTo(C,xe)),Ie.rShiftTo(1,Ie)):xe.isEven()||xe.subTo(C,xe),xe.rShiftTo(1,xe);N.compareTo(J)>=0?(N.subTo(J,N),A&&le.subTo(Ie,le),we.subTo(xe,we)):(J.subTo(N,J),A&&Ie.subTo(le,Ie),xe.subTo(we,xe))}return J.compareTo(U.ONE)!=0?U.ZERO:xe.compareTo(C)>=0?xe.subtract(C):xe.signum()<0?(xe.addTo(C,xe),xe.signum()<0?xe.add(C):xe):xe},U.prototype.pow=function(C){return this.exp(C,new Ze)},U.prototype.gcd=function(C){var A=this.s<0?this.negate():this.clone(),N=C.s<0?C.negate():C.clone();if(A.compareTo(N)<0){var J=A;A=N,N=J}var le=A.getLowestSetBit(),we=N.getLowestSetBit();if(we<0)return A;for(le<we&&(we=le),we>0&&(A.rShiftTo(we,A),N.rShiftTo(we,N));A.signum()>0;)(le=A.getLowestSetBit())>0&&A.rShiftTo(le,A),(le=N.getLowestSetBit())>0&&N.rShiftTo(le,N),A.compareTo(N)>=0?(A.subTo(N,A),A.rShiftTo(1,A)):(N.subTo(A,N),N.rShiftTo(1,N));return we>0&&N.lShiftTo(we,N),N},U.prototype.isProbablePrime=function(C){var A,N=this.abs();if(N.t==1&&N[0]<=Xe[Xe.length-1]){for(A=0;A<Xe.length;++A)if(N[0]==Xe[A])return!0;return!1}if(N.isEven())return!1;for(A=1;A<Xe.length;){for(var J=Xe[A],le=A+1;le<Xe.length&&J<oe;)J*=Xe[le++];for(J=N.modInt(J);A<le;)if(J%Xe[A++]==0)return!1}return N.millerRabin(C)},U.prototype.square=function(){var C=X();return this.squareTo(C),C},H.prototype.init=function(C){var A,N,J;for(A=0;A<256;++A)this.S[A]=A;for(N=0,A=0;A<256;++A)N=N+this.S[A]+C[A%C.length]&255,J=this.S[A],this.S[A]=this.S[N],this.S[N]=J;this.i=0,this.j=0},H.prototype.next=function(){var C;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,C=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=C,this.S[C+this.S[this.i]&255]};var $,ae,Z;/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function he(){(function(C){ae[Z++]^=255&C,ae[Z++]^=C>>8&255,ae[Z++]^=C>>16&255,ae[Z++]^=C>>24&255,Z>=256&&(Z-=256)})(new Date().getTime())}if(ae==null){var ye;if(ae=new Array,Z=0,R!==void 0&&(R.crypto!==void 0||R.msCrypto!==void 0)){var He=R.crypto||R.msCrypto;if(He.getRandomValues){var Ee=new Uint8Array(32);for(He.getRandomValues(Ee),ye=0;ye<32;++ye)ae[Z++]=Ee[ye]}else if(x.appName=="Netscape"&&x.appVersion<"5"){var Fe=R.crypto.random(32);for(ye=0;ye<Fe.length;++ye)ae[Z++]=255&Fe.charCodeAt(ye)}}for(;Z<256;)ye=Math.floor(65536*Math.random()),ae[Z++]=ye>>>8,ae[Z++]=255&ye;Z=0,he()}function tt(){if($==null){for(he(),($=function(){return new H}()).init(ae),Z=0;Z<ae.length;++Z)ae[Z]=0;Z=0}return $.next()}function nt(){}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function gt(T,C){return new U(T,C)}function qt(T,C,A){for(var N="",J=0;N.length<C;)N+=A(String.fromCharCode.apply(String,T.concat([(4278190080&J)>>24,(16711680&J)>>16,(65280&J)>>8,255&J]))),J+=1;return N}function Se(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
 */function Ue(T,C){this.x=C,this.q=T}function ne(T,C,A,N){this.curve=T,this.x=C,this.y=A,this.z=N??U.ONE,this.zinv=null}function z(T,C,A){this.q=T,this.a=this.fromBigInteger(C),this.b=this.fromBigInteger(A),this.infinity=new ne(this,null,null)}nt.prototype.nextBytes=function(C){var A;for(A=0;A<C.length;++A)C[A]=tt()},Se.prototype.doPublic=function(C){return C.modPowInt(this.e,this.n)},Se.prototype.setPublic=function(C,A){if(this.isPublic=!0,this.isPrivate=!1,typeof C!="string")this.n=C,this.e=A;else{if(!(C!=null&&A!=null&&C.length>0&&A.length>0))throw"Invalid RSA public key";this.n=gt(C,16),this.e=parseInt(A,16)}},Se.prototype.encrypt=function(C){var A=function(we,Ie){if(Ie<we.length+11)throw"Message too long for RSA";for(var xe=new Array,Oe=we.length-1;Oe>=0&&Ie>0;){var Me=we.charCodeAt(Oe--);Me<128?xe[--Ie]=Me:Me>127&&Me<2048?(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6|192):(xe[--Ie]=63&Me|128,xe[--Ie]=Me>>6&63|128,xe[--Ie]=Me>>12|224)}xe[--Ie]=0;for(var $e=new nt,ze=new Array;Ie>2;){for(ze[0]=0;ze[0]==0;)$e.nextBytes(ze);xe[--Ie]=ze[0]}return xe[--Ie]=2,xe[--Ie]=0,new U(xe)}(C,this.n.bitLength()+7>>3);if(A==null)return null;var N=this.doPublic(A);if(N==null)return null;var J=N.toString(16);return 1&J.length?"0"+J:J},Se.prototype.encryptOAEP=function(C,A,N){var J=function(xe,Oe,Me,$e){var ze=G.crypto.MessageDigest,Ye=G.crypto.Util,ot=null;if(Me||(Me="sha1"),typeof Me=="string"&&(ot=ze.getCanonicalAlgName(Me),$e=ze.getHashLength(ot),Me=function(Tt){return ln(Ye.hashHex(Mn(Tt),ot))}),xe.length+2*$e+2>Oe)throw"Message too long for RSA";var dt,ut="";for(dt=0;dt<Oe-xe.length-2*$e-2;dt+=1)ut+="\0";var be=Me("")+ut+""+xe,De=new Array($e);new nt().nextBytes(De);var Be=qt(De,be.length,Me),Ke=[];for(dt=0;dt<be.length;dt+=1)Ke[dt]=be.charCodeAt(dt)^Be.charCodeAt(dt);var lt=qt(Ke,De.length,Me),mt=[0];for(dt=0;dt<De.length;dt+=1)mt[dt+1]=De[dt]^lt.charCodeAt(dt);return new U(mt.concat(Ke))}(C,this.n.bitLength()+7>>3,A,N);if(J==null)return null;var le=this.doPublic(J);if(le==null)return null;var we=le.toString(16);return 1&we.length?"0"+we:we},Se.prototype.type="RSA",Ue.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.x.equals(C.x)},Ue.prototype.toBigInteger=function(){return this.x},Ue.prototype.negate=function(){return new Ue(this.q,this.x.negate().mod(this.q))},Ue.prototype.add=function(C){return new Ue(this.q,this.x.add(C.toBigInteger()).mod(this.q))},Ue.prototype.subtract=function(C){return new Ue(this.q,this.x.subtract(C.toBigInteger()).mod(this.q))},Ue.prototype.multiply=function(C){return new Ue(this.q,this.x.multiply(C.toBigInteger()).mod(this.q))},Ue.prototype.square=function(){return new Ue(this.q,this.x.square().mod(this.q))},Ue.prototype.divide=function(C){return new Ue(this.q,this.x.multiply(C.toBigInteger().modInverse(this.q)).mod(this.q))},ne.prototype.getX=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ne.prototype.getY=function(){return this.zinv==null&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ne.prototype.equals=function(C){return C==this||(this.isInfinity()?C.isInfinity():C.isInfinity()?this.isInfinity():!!C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO)&&C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q).equals(U.ZERO))},ne.prototype.isInfinity=function(){return this.x==null&&this.y==null||this.z.equals(U.ZERO)&&!this.y.toBigInteger().equals(U.ZERO)},ne.prototype.negate=function(){return new ne(this.curve,this.x,this.y.negate(),this.z)},ne.prototype.add=function(C){if(this.isInfinity())return C;if(C.isInfinity())return this;var A=C.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(C.z)).mod(this.curve.q),N=C.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(C.z)).mod(this.curve.q);if(U.ZERO.equals(N))return U.ZERO.equals(A)?this.twice():this.curve.getInfinity();var J=new U("3"),le=this.x.toBigInteger(),we=this.y.toBigInteger(),Ie=(C.x.toBigInteger(),C.y.toBigInteger(),N.square()),xe=Ie.multiply(N),Oe=le.multiply(Ie),Me=A.square().multiply(this.z),$e=Me.subtract(Oe.shiftLeft(1)).multiply(C.z).subtract(xe).multiply(N).mod(this.curve.q),ze=Oe.multiply(J).multiply(A).subtract(we.multiply(xe)).subtract(Me.multiply(A)).multiply(C.z).add(A.multiply(xe)).mod(this.curve.q),Ye=xe.multiply(this.z).multiply(C.z).mod(this.curve.q);return new ne(this.curve,this.curve.fromBigInteger($e),this.curve.fromBigInteger(ze),Ye)},ne.prototype.twice=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var C=new U("3"),A=this.x.toBigInteger(),N=this.y.toBigInteger(),J=N.multiply(this.z),le=J.multiply(N).mod(this.curve.q),we=this.curve.a.toBigInteger(),Ie=A.square().multiply(C);U.ZERO.equals(we)||(Ie=Ie.add(this.z.square().multiply(we)));var xe=(Ie=Ie.mod(this.curve.q)).square().subtract(A.shiftLeft(3).multiply(le)).shiftLeft(1).multiply(J).mod(this.curve.q),Oe=Ie.multiply(C).multiply(A).subtract(le.shiftLeft(1)).shiftLeft(2).multiply(le).subtract(Ie.square().multiply(Ie)).mod(this.curve.q),Me=J.square().multiply(J).shiftLeft(3).mod(this.curve.q);return new ne(this.curve,this.curve.fromBigInteger(xe),this.curve.fromBigInteger(Oe),Me)},ne.prototype.multiply=function(C){if(this.isInfinity())return this;if(C.signum()==0)return this.curve.getInfinity();var A,N=C,J=N.multiply(new U("3")),le=this.negate(),we=this,Ie=this.curve.q.subtract(C),xe=Ie.multiply(new U("3")),Oe=new ne(this.curve,this.x,this.y),Me=Oe.negate();for(A=J.bitLength()-2;A>0;--A){we=we.twice();var $e=J.testBit(A);$e!=N.testBit(A)&&(we=we.add($e?this:le))}for(A=xe.bitLength()-2;A>0;--A){Oe=Oe.twice();var ze=xe.testBit(A);ze!=Ie.testBit(A)&&(Oe=Oe.add(ze?Oe:Me))}return we},ne.prototype.multiplyTwo=function(C,A,N){var J;J=C.bitLength()>N.bitLength()?C.bitLength()-1:N.bitLength()-1;for(var le=this.curve.getInfinity(),we=this.add(A);J>=0;)le=le.twice(),C.testBit(J)?le=N.testBit(J)?le.add(we):le.add(this):N.testBit(J)&&(le=le.add(A)),--J;return le},z.prototype.getQ=function(){return this.q},z.prototype.getA=function(){return this.a},z.prototype.getB=function(){return this.b},z.prototype.equals=function(C){return C==this||this.q.equals(C.q)&&this.a.equals(C.a)&&this.b.equals(C.b)},z.prototype.getInfinity=function(){return this.infinity},z.prototype.fromBigInteger=function(C){return new Ue(this.q,C)},z.prototype.decodePointHex=function(C){switch(parseInt(C.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var A=(C.length-2)/2,N=C.substr(2,A),J=C.substr(A+2,A);return new ne(this,this.fromBigInteger(new U(N,16)),this.fromBigInteger(new U(J,16)));default:return null}},Ue.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ne.prototype.getEncoded=function(T){var C=function(we,Ie){var xe=we.toByteArrayUnsigned();if(Ie<xe.length)xe=xe.slice(xe.length-Ie);else for(;Ie>xe.length;)xe.unshift(0);return xe},A=this.getX().toBigInteger(),N=this.getY().toBigInteger(),J=C(A,32);return T?N.isEven()?J.unshift(2):J.unshift(3):(J.unshift(4),J=J.concat(C(N,32))),J},ne.decodeFrom=function(T,C){C[0];var A=C.length-1,N=C.slice(1,1+A/2),J=C.slice(1+A/2,1+A);N.unshift(0),J.unshift(0);var le=new U(N),we=new U(J);return new ne(T,T.fromBigInteger(le),T.fromBigInteger(we))},ne.decodeFromHex=function(T,C){C.substr(0,2);var A=C.length-2,N=C.substr(2,A/2),J=C.substr(2+A/2,A/2),le=new U(N,16),we=new U(J,16);return new ne(T,T.fromBigInteger(le),T.fromBigInteger(we))},ne.prototype.add2D=function(T){if(this.isInfinity())return T;if(T.isInfinity())return this;if(this.x.equals(T.x))return this.y.equals(T.y)?this.twice():this.curve.getInfinity();var C=T.x.subtract(this.x),A=T.y.subtract(this.y).divide(C),N=A.square().subtract(this.x).subtract(T.x),J=A.multiply(this.x.subtract(N)).subtract(this.y);return new ne(this.curve,N,J)},ne.prototype.twice2D=function(){if(this.isInfinity())return this;if(this.y.toBigInteger().signum()==0)return this.curve.getInfinity();var T=this.curve.fromBigInteger(U.valueOf(2)),C=this.curve.fromBigInteger(U.valueOf(3)),A=this.x.square().multiply(C).add(this.curve.a).divide(this.y.multiply(T)),N=A.square().subtract(this.x.multiply(T)),J=A.multiply(this.x.subtract(N)).subtract(this.y);return new ne(this.curve,N,J)},ne.prototype.multiply2D=function(T){if(this.isInfinity())return this;if(T.signum()==0)return this.curve.getInfinity();var C,A=T,N=A.multiply(new U("3")),J=this.negate(),le=this;for(C=N.bitLength()-2;C>0;--C){le=le.twice();var we=N.testBit(C);we!=A.testBit(C)&&(le=le.add2D(we?this:J))}return le},ne.prototype.isOnCurve=function(){var T=this.getX().toBigInteger(),C=this.getY().toBigInteger(),A=this.curve.getA().toBigInteger(),N=this.curve.getB().toBigInteger(),J=this.curve.getQ(),le=C.multiply(C).mod(J),we=T.multiply(T).multiply(T).add(A.multiply(T)).add(N).mod(J);return le.equals(we)},ne.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ne.prototype.validate=function(){var T=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var C=this.getX().toBigInteger(),A=this.getY().toBigInteger();if(C.compareTo(U.ONE)<0||C.compareTo(T.subtract(U.ONE))>0)throw new Error("x coordinate out of bounds");if(A.compareTo(U.ONE)<0||A.compareTo(T.subtract(U.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(T).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};/*! Mike Samuel (c) 2009 | code.google.com/p/json-sans-eval
 */var W=function(){var T=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),C=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),A={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function N(we,Ie,xe){return Ie?A[Ie]:String.fromCharCode(parseInt(xe,16))}var J=new String(""),le=Object.hasOwnProperty;return function(we,Ie){var xe,Oe,Me=we.match(T),$e=Me[0],ze=!1;$e==="{"?xe={}:$e==="["?xe=[]:(xe=[],ze=!0);for(var Ye=[xe],ot=1-ze,dt=Me.length;ot<dt;++ot){var ut;switch(($e=Me[ot]).charCodeAt(0)){default:(ut=Ye[0])[Oe||ut.length]=+$e,Oe=void 0;break;case 34:if(($e=$e.substring(1,$e.length-1)).indexOf("\\")!==-1&&($e=$e.replace(C,N)),ut=Ye[0],!Oe){if(!(ut instanceof Array)){Oe=$e||J;break}Oe=ut.length}ut[Oe]=$e,Oe=void 0;break;case 91:ut=Ye[0],Ye.unshift(ut[Oe||ut.length]=[]),Oe=void 0;break;case 93:Ye.shift();break;case 102:(ut=Ye[0])[Oe||ut.length]=!1,Oe=void 0;break;case 110:(ut=Ye[0])[Oe||ut.length]=null,Oe=void 0;break;case 116:(ut=Ye[0])[Oe||ut.length]=!0,Oe=void 0;break;case 123:ut=Ye[0],Ye.unshift(ut[Oe||ut.length]={}),Oe=void 0;break;case 125:Ye.shift()}}if(ze){if(Ye.length!==1)throw new Error;xe=xe[0]}else if(Ye.length)throw new Error;return Ie&&(xe=function be(De,Be){var Ke=De[Be];if(Ke&&(Ke===void 0?"undefined":b(Ke))==="object"){var lt=null;for(var mt in Ke)if(le.call(Ke,mt)&&Ke!==De){var $t=be(Ke,mt);$t!==void 0?Ke[mt]=$t:(lt||(lt=[]),lt.push(mt))}if(lt)for(var Tt=lt.length;--Tt>=0;)delete Ke[lt[Tt]]}return Ie.call(De,Be,Ke)}({"":xe},"")),xe}}();G!==void 0&&G||(r.KJUR=G={}),G.asn1!==void 0&&G.asn1||(G.asn1={}),G.asn1.ASN1Util=new function(){this.integerToByteHex=function(T){var C=T.toString(16);return C.length%2==1&&(C="0"+C),C},this.bigIntToMinTwosComplementsHex=function(T){var C=T.toString(16);if(C.substr(0,1)!="-")C.length%2==1?C="0"+C:C.match(/^[0-7]/)||(C="00"+C);else{var A=C.substr(1).length;A%2==1?A+=1:C.match(/^[0-7]/)||(A+=2);for(var N="",J=0;J<A;J++)N+="f";C=new U(N,16).xor(T).add(U.ONE).toString(16).replace(/^-/,"")}return C},this.getPEMStringFromHex=function(T,C){return bt(T,C)},this.newObject=function(T){var C=G.asn1,A=C.ASN1Object,N=C.DERBoolean,J=C.DERInteger,le=C.DERBitString,we=C.DEROctetString,Ie=C.DERNull,xe=C.DERObjectIdentifier,Oe=C.DEREnumerated,Me=C.DERUTF8String,$e=C.DERNumericString,ze=C.DERPrintableString,Ye=C.DERTeletexString,ot=C.DERIA5String,dt=C.DERUTCTime,ut=C.DERGeneralizedTime,be=C.DERVisibleString,De=C.DERBMPString,Be=C.DERSequence,Ke=C.DERSet,lt=C.DERTaggedObject,mt=C.ASN1Util.newObject;if(T instanceof C.ASN1Object)return T;var $t=Object.keys(T);if($t.length!=1)throw new Error("key of param shall be only one.");var Tt=$t[0];if(":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+Tt+":")==-1)throw new Error("undefined key: "+Tt);if(Tt=="bool")return new N(T[Tt]);if(Tt=="int")return new J(T[Tt]);if(Tt=="bitstr")return new le(T[Tt]);if(Tt=="octstr")return new we(T[Tt]);if(Tt=="null")return new Ie(T[Tt]);if(Tt=="oid")return new xe(T[Tt]);if(Tt=="enum")return new Oe(T[Tt]);if(Tt=="utf8str")return new Me(T[Tt]);if(Tt=="numstr")return new $e(T[Tt]);if(Tt=="prnstr")return new ze(T[Tt]);if(Tt=="telstr")return new Ye(T[Tt]);if(Tt=="ia5str")return new ot(T[Tt]);if(Tt=="utctime")return new dt(T[Tt]);if(Tt=="gentime")return new ut(T[Tt]);if(Tt=="visstr")return new be(T[Tt]);if(Tt=="bmpstr")return new De(T[Tt]);if(Tt=="asn1")return new A(T[Tt]);if(Tt=="seq"){for(var gn=T[Tt],Ft=[],Vt=0;Vt<gn.length;Vt++){var zn=mt(gn[Vt]);Ft.push(zn)}return new Be({array:Ft})}if(Tt=="set"){for(gn=T[Tt],Ft=[],Vt=0;Vt<gn.length;Vt++)zn=mt(gn[Vt]),Ft.push(zn);return new Ke({array:Ft})}if(Tt=="tag"){var Nn=T[Tt];if(Object.prototype.toString.call(Nn)==="[object Array]"&&Nn.length==3){var Bn=mt(Nn[2]);return new lt({tag:Nn[0],explicit:Nn[1],obj:Bn})}return new lt(Nn)}},this.jsonToASN1HEX=function(T){return this.newObject(T).getEncodedHex()}},G.asn1.ASN1Util.oidHexToInt=function(T){for(var C="",A=parseInt(T.substr(0,2),16),N=(C=Math.floor(A/40)+"."+A%40,""),J=2;J<T.length;J+=2){var le=("00000000"+parseInt(T.substr(J,2),16).toString(2)).slice(-8);N+=le.substr(1,7),le.substr(0,1)=="0"&&(C=C+"."+new U(N,2).toString(10),N="")}return C},G.asn1.ASN1Util.oidIntToHex=function(T){var C=function(xe){var Oe=xe.toString(16);return Oe.length==1&&(Oe="0"+Oe),Oe},A=function(xe){var Oe="",Me=new U(xe,10).toString(2),$e=7-Me.length%7;$e==7&&($e=0);for(var ze="",Ye=0;Ye<$e;Ye++)ze+="0";for(Me=ze+Me,Ye=0;Ye<Me.length-1;Ye+=7){var ot=Me.substr(Ye,7);Ye!=Me.length-7&&(ot="1"+ot),Oe+=C(parseInt(ot,2))}return Oe};if(!T.match(/^[0-9.]+$/))throw"malformed oid string: "+T;var N="",J=T.split("."),le=40*parseInt(J[0])+parseInt(J[1]);N+=C(le),J.splice(0,2);for(var we=0;we<J.length;we++)N+=A(J[we]);return N},G.asn1.ASN1Object=function(T){this.params=null,this.getLengthHexFromValue=function(){if(this.hV===void 0||this.hV==null)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var C=this.hV.length/2,A=C.toString(16);if(A.length%2==1&&(A="0"+A),C<128)return A;var N=A.length/2;if(N>15)throw"ASN.1 length too long to represent by 8x: n = "+C.toString(16);return(128+N).toString(16)+A},this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(C){this.params=C},T!=null&&T.tlv!=null&&(this.hTLV=T.tlv,this.isModified=!1)},G.asn1.DERAbstractString=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=gr(this.s).toLowerCase()},this.setStringHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"?this.setString(T):T.str!==void 0?this.setString(T.str):T.hex!==void 0&&this.setStringHex(T.hex))},Ht(G.asn1.DERAbstractString,G.asn1.ASN1Object),G.asn1.DERAbstractTime=function(T){G.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(C){var A=C.getTime()+6e4*C.getTimezoneOffset();return new Date(A)},this.formatDate=function(C,A,N){var J=this.zeroPadding,le=this.localDateToUTC(C),we=String(le.getFullYear());A=="utc"&&(we=we.substr(2,2));var Ie=we+J(String(le.getMonth()+1),2)+J(String(le.getDate()),2)+J(String(le.getHours()),2)+J(String(le.getMinutes()),2)+J(String(le.getSeconds()),2);if(N===!0){var xe=le.getMilliseconds();if(xe!=0){var Oe=J(String(xe),3);Ie=Ie+"."+(Oe=Oe.replace(/[0]+$/,""))}}return Ie+"Z"},this.zeroPadding=function(C,A){return C.length>=A?C:new Array(A-C.length+1).join("0")+C},this.getString=function(){return this.s},this.setString=function(C){this.hTLV=null,this.isModified=!0,this.s=C,this.hV=Ot(C)},this.setByDateValue=function(C,A,N,J,le,we){var Ie=new Date(Date.UTC(C,A-1,N,J,le,we,0));this.setByDate(Ie)},this.getFreshValueHex=function(){return this.hV}},Ht(G.asn1.DERAbstractTime,G.asn1.ASN1Object),G.asn1.DERAbstractStructured=function(T){G.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array=C},this.appendASN1Object=function(C){this.hTLV=null,this.isModified=!0,this.asn1Array.push(C)},this.asn1Array=new Array,T!==void 0&&T.array!==void 0&&(this.asn1Array=T.array)},Ht(G.asn1.DERAbstractStructured,G.asn1.ASN1Object),G.asn1.DERBoolean=function(T){G.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=T==0?"010100":"0101ff"},Ht(G.asn1.DERBoolean,G.asn1.ASN1Object),G.asn1.DERInteger=function(T){G.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var A=new U(String(C),10);this.setByBigInteger(A)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.bigint!==void 0?this.setByBigInteger(T.bigint):T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DERInteger,G.asn1.ASN1Object),G.asn1.DERBitString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex="00"+C.getEncodedHex()}G.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(A){this.hTLV=null,this.isModified=!0,this.hV=A},this.setUnusedBitsAndHexValue=function(A,N){if(A<0||7<A)throw"unused bits shall be from 0 to 7: u = "+A;var J="0"+A;this.hTLV=null,this.isModified=!0,this.hV=J+N},this.setByBinaryString=function(A){var N=8-(A=A.replace(/0+$/,"")).length%8;N==8&&(N=0);for(var J=0;J<=N;J++)A+="0";var le="";for(J=0;J<A.length-1;J+=8){var we=A.substr(J,8),Ie=parseInt(we,2).toString(16);Ie.length==1&&(Ie="0"+Ie),le+=Ie}this.hTLV=null,this.isModified=!0,this.hV="0"+N+le},this.setByBooleanArray=function(A){for(var N="",J=0;J<A.length;J++)A[J]==1?N+="1":N+="0";this.setByBinaryString(N)},this.newFalseArray=function(A){for(var N=new Array(A),J=0;J<A;J++)N[J]=!1;return N},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(typeof T=="string"&&T.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(T):T.hex!==void 0?this.setHexValueIncludingUnusedBits(T.hex):T.bin!==void 0?this.setByBinaryString(T.bin):T.array!==void 0&&this.setByBooleanArray(T.array))},Ht(G.asn1.DERBitString,G.asn1.ASN1Object),G.asn1.DEROctetString=function(T){if(T!==void 0&&T.obj!==void 0){var C=G.asn1.ASN1Util.newObject(T.obj);T.hex=C.getEncodedHex()}G.asn1.DEROctetString.superclass.constructor.call(this,T),this.hT="04"},Ht(G.asn1.DEROctetString,G.asn1.DERAbstractString),G.asn1.DERNull=function(){G.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Ht(G.asn1.DERNull,G.asn1.ASN1Object),G.asn1.DERObjectIdentifier=function(T){G.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(C){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=C},this.setValueOidString=function(C){var A=function(J){var le=function(ze){var Ye=ze.toString(16);return Ye.length==1&&(Ye="0"+Ye),Ye},we=function(ze){var Ye="",ot=parseInt(ze,10).toString(2),dt=7-ot.length%7;dt==7&&(dt=0);for(var ut="",be=0;be<dt;be++)ut+="0";for(ot=ut+ot,be=0;be<ot.length-1;be+=7){var De=ot.substr(be,7);be!=ot.length-7&&(De="1"+De),Ye+=le(parseInt(De,2))}return Ye};try{if(!J.match(/^[0-9.]+$/))return null;var Ie="",xe=J.split("."),Oe=40*parseInt(xe[0],10)+parseInt(xe[1],10);Ie+=le(Oe),xe.splice(0,2);for(var Me=0;Me<xe.length;Me++)Ie+=we(xe[Me]);return Ie}catch{return null}}(C);if(A==null)throw new Error("malformed oid string: "+C);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=A},this.setValueName=function(C){var A=G.asn1.x509.OID.name2oid(C);if(A==="")throw new Error("DERObjectIdentifier oidName undefined: "+C);this.setValueOidString(A)},this.setValueNameOrOid=function(C){C.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(C):this.setValueName(C)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(C){typeof C=="string"?this.setValueNameOrOid(C):C.oid!==void 0?this.setValueNameOrOid(C.oid):C.name!==void 0?this.setValueNameOrOid(C.name):C.hex!==void 0&&this.setValueHex(C.hex)},T!==void 0&&this.setByParam(T)},Ht(G.asn1.DERObjectIdentifier,G.asn1.ASN1Object),G.asn1.DEREnumerated=function(T){G.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(C){this.hTLV=null,this.isModified=!0,this.hV=G.asn1.ASN1Util.bigIntToMinTwosComplementsHex(C)},this.setByInteger=function(C){var A=new U(String(C),10);this.setByBigInteger(A)},this.setValueHex=function(C){this.hV=C},this.getFreshValueHex=function(){return this.hV},T!==void 0&&(T.int!==void 0?this.setByInteger(T.int):typeof T=="number"?this.setByInteger(T):T.hex!==void 0&&this.setValueHex(T.hex))},Ht(G.asn1.DEREnumerated,G.asn1.ASN1Object),G.asn1.DERUTF8String=function(T){G.asn1.DERUTF8String.superclass.constructor.call(this,T),this.hT="0c"},Ht(G.asn1.DERUTF8String,G.asn1.DERAbstractString),G.asn1.DERNumericString=function(T){G.asn1.DERNumericString.superclass.constructor.call(this,T),this.hT="12"},Ht(G.asn1.DERNumericString,G.asn1.DERAbstractString),G.asn1.DERPrintableString=function(T){G.asn1.DERPrintableString.superclass.constructor.call(this,T),this.hT="13"},Ht(G.asn1.DERPrintableString,G.asn1.DERAbstractString),G.asn1.DERTeletexString=function(T){G.asn1.DERTeletexString.superclass.constructor.call(this,T),this.hT="14"},Ht(G.asn1.DERTeletexString,G.asn1.DERAbstractString),G.asn1.DERIA5String=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="16"},Ht(G.asn1.DERIA5String,G.asn1.DERAbstractString),G.asn1.DERVisibleString=function(T){G.asn1.DERIA5String.superclass.constructor.call(this,T),this.hT="1a"},Ht(G.asn1.DERVisibleString,G.asn1.DERAbstractString),G.asn1.DERBMPString=function(T){G.asn1.DERBMPString.superclass.constructor.call(this,T),this.hT="1e"},Ht(G.asn1.DERBMPString,G.asn1.DERAbstractString),G.asn1.DERUTCTime=function(T){G.asn1.DERUTCTime.superclass.constructor.call(this,T),this.hT="17",this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"utc"),this.hV=Ot(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=Ot(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{12}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date))},Ht(G.asn1.DERUTCTime,G.asn1.DERAbstractTime),G.asn1.DERGeneralizedTime=function(T){G.asn1.DERGeneralizedTime.superclass.constructor.call(this,T),this.hT="18",this.withMillis=!1,this.setByDate=function(C){this.hTLV=null,this.isModified=!0,this.date=C,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ot(this.s)},this.getFreshValueHex=function(){return this.date===void 0&&this.s===void 0&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=Ot(this.s)),this.hV},T!==void 0&&(T.str!==void 0?this.setString(T.str):typeof T=="string"&&T.match(/^[0-9]{14}Z$/)?this.setString(T):T.hex!==void 0?this.setStringHex(T.hex):T.date!==void 0&&this.setByDate(T.date),T.millis===!0&&(this.withMillis=!0))},Ht(G.asn1.DERGeneralizedTime,G.asn1.DERAbstractTime),G.asn1.DERSequence=function(T){G.asn1.DERSequence.superclass.constructor.call(this,T),this.hT="30",this.getFreshValueHex=function(){for(var C="",A=0;A<this.asn1Array.length;A++)C+=this.asn1Array[A].getEncodedHex();return this.hV=C,this.hV}},Ht(G.asn1.DERSequence,G.asn1.DERAbstractStructured),G.asn1.DERSet=function(T){G.asn1.DERSet.superclass.constructor.call(this,T),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var C=new Array,A=0;A<this.asn1Array.length;A++){var N=this.asn1Array[A];C.push(N.getEncodedHex())}return this.sortFlag==1&&C.sort(),this.hV=C.join(""),this.hV},T!==void 0&&T.sortflag!==void 0&&T.sortflag==0&&(this.sortFlag=!1)},Ht(G.asn1.DERSet,G.asn1.DERAbstractStructured),G.asn1.DERTaggedObject=function(T){G.asn1.DERTaggedObject.superclass.constructor.call(this);var C=G.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(A,N,J){this.hT=N,this.isExplicit=A,this.asn1Object=J,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=J.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,N),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(A){A.tag!=null&&(this.hT=A.tag),A.explicit!=null&&(this.isExplicit=A.explicit),A.tage!=null&&(this.hT=A.tage,this.isExplicit=!0),A.tagi!=null&&(this.hT=A.tagi,this.isExplicit=!1),A.obj!=null&&(A.obj instanceof C.ASN1Object?(this.asn1Object=A.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):b(A.obj)=="object"&&(this.asn1Object=C.ASN1Util.newObject(A.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},T!=null&&this.setByParam(T)},Ht(G.asn1.DERTaggedObject,G.asn1.ASN1Object);var G,je,Je,ke=new function(){};function At(T){for(var C=new Array,A=0;A<T.length;A++)C[A]=T.charCodeAt(A);return C}function It(T){for(var C="",A=0;A<T.length;A++)C+=String.fromCharCode(T[A]);return C}function Nt(T){for(var C="",A=0;A<T.length;A++){var N=T[A].toString(16);N.length==1&&(N="0"+N),C+=N}return C}function Ot(T){return Nt(At(T))}function zt(T){return T=(T=(T=T.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Ar(T){return T.length%4==2?T+="==":T.length%4==3&&(T+="="),T=(T=T.replace(/-/g,"+")).replace(/_/g,"/")}function dn(T){return T.length%2==1&&(T="0"+T),zt(F(T))}function hn(T){return Q(Ar(T))}function gr(T){return Jn(Ct(T))}function un(T){return decodeURIComponent(We(T))}function ln(T){for(var C="",A=0;A<T.length-1;A+=2)C+=String.fromCharCode(parseInt(T.substr(A,2),16));return C}function Mn(T){for(var C="",A=0;A<T.length;A++)C+=("0"+T.charCodeAt(A).toString(16)).slice(-2);return C}function ur(T){return F(T)}function Le(T){var C=ur(T).replace(/(.{64})/g,`$1\r
`);return C=C.replace(/\r\n$/,"")}function qe(T){return Q(T.replace(/[^0-9A-Za-z\/+=]*/g,""))}function bt(T,C){return"-----BEGIN "+C+`-----\r
`+Le(T)+`\r
-----END `+C+`-----\r
`}function Et(T,C){if(T.indexOf("-----BEGIN ")==-1)throw"can't find PEM header: "+C;return qe(T=C!==void 0?(T=T.replace(new RegExp("^[^]*-----BEGIN "+C+"-----"),"")).replace(new RegExp("-----END "+C+"-----[^]*$"),""):(T=T.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Mt(T){var C,A,N,J,le,we,Ie,xe,Oe,Me,$e;if($e=T.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return xe=$e[1],C=parseInt(xe),xe.length===2&&(50<=C&&C<100?C=1900+C:0<=C&&C<50&&(C=2e3+C)),A=parseInt($e[2])-1,N=parseInt($e[3]),J=parseInt($e[4]),le=parseInt($e[5]),we=parseInt($e[6]),Ie=0,(Oe=$e[7])!==""&&(Me=(Oe.substr(1)+"00").substr(0,3),Ie=parseInt(Me)),Date.UTC(C,A,N,J,le,we,Ie);throw"unsupported zulu format: "+T}function Hn(T){return~~(Mt(T)/1e3)}function Jn(T){return T.replace(/%/g,"")}function We(T){return T.replace(/(..)/g,"%$1")}function Ce(T){var C="malformed IPv6 address";if(!T.match(/^[0-9A-Fa-f:]+$/))throw C;var A=(T=T.toLowerCase()).split(":").length-1;if(A<2)throw C;var N=":".repeat(7-A+2),J=(T=T.replace("::",N)).split(":");if(J.length!=8)throw C;for(var le=0;le<8;le++)J[le]=("0000"+J[le]).slice(-4);return J.join("")}function et(T){if(!T.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var C=(T=T.toLowerCase()).match(/.{1,4}/g),A=0;A<8;A++)C[A]=C[A].replace(/^0+/,""),C[A]==""&&(C[A]="0");var N=(T=":"+C.join(":")+":").match(/:(0:){2,}/g);if(N===null)return T.slice(1,-1);var J="";for(A=0;A<N.length;A++)N[A].length>J.length&&(J=N[A]);return(T=T.replace(J,"::")).slice(1,-1)}function ft(T){var C="malformed hex value";if(!T.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw C;if(T.length!=8)return T.length==32?et(T):T;try{return parseInt(T.substr(0,2),16)+"."+parseInt(T.substr(2,2),16)+"."+parseInt(T.substr(4,2),16)+"."+parseInt(T.substr(6,2),16)}catch{throw C}}function it(T){return T.match(/.{4}/g).map(function(A){var N=parseInt(A.substr(0,2),16),J=parseInt(A.substr(2),16);if(N==0&J<128)return String.fromCharCode(J);if(N<8){var le=128|63&J;return un((192|(7&N)<<3|(192&J)>>6).toString(16)+le.toString(16))}le=128|(15&N)<<2|(192&J)>>6;var we=128|63&J;return un((224|(240&N)>>4).toString(16)+le.toString(16)+we.toString(16))}).join("")}function Ct(T){for(var C=encodeURIComponent(T),A="",N=0;N<C.length;N++)C[N]=="%"?(A+=C.substr(N,3),N+=2):A=A+"%"+Ot(C[N]);return A}function Dt(T){return!(T.length%2!=0||!T.match(/^[0-9a-f]+$/)&&!T.match(/^[0-9A-F]+$/))}function Gt(T){return T.length%2==1?"0"+T:T.substr(0,1)>"7"?"00"+T:T}ke.getLblen=function(T,C){if(T.substr(C+2,1)!="8")return 1;var A=parseInt(T.substr(C+3,1));return A==0?-1:0<A&&A<10?A+1:-2},ke.getL=function(T,C){var A=ke.getLblen(T,C);return A<1?"":T.substr(C+2,2*A)},ke.getVblen=function(T,C){var A;return(A=ke.getL(T,C))==""?-1:(A.substr(0,1)==="8"?new U(A.substr(2),16):new U(A,16)).intValue()},ke.getVidx=function(T,C){var A=ke.getLblen(T,C);return A<0?A:C+2*(A+1)},ke.getV=function(T,C){var A=ke.getVidx(T,C),N=ke.getVblen(T,C);return T.substr(A,2*N)},ke.getTLV=function(T,C){return T.substr(C,2)+ke.getL(T,C)+ke.getV(T,C)},ke.getTLVblen=function(T,C){return 2+2*ke.getLblen(T,C)+2*ke.getVblen(T,C)},ke.getNextSiblingIdx=function(T,C){return ke.getVidx(T,C)+2*ke.getVblen(T,C)},ke.getChildIdx=function(T,C){var A,N,J,le=ke,we=[];A=le.getVidx(T,C),N=2*le.getVblen(T,C),T.substr(C,2)=="03"&&(A+=2,N-=2),J=0;for(var Ie=A;J<=N;){var xe=le.getTLVblen(T,Ie);if((J+=xe)<=N&&we.push(Ie),Ie+=xe,J>=N)break}return we},ke.getNthChildIdx=function(T,C,A){return ke.getChildIdx(T,C)[A]},ke.getIdxbyList=function(T,C,A,N){var J,le,we=ke;return A.length==0?N!==void 0&&T.substr(C,2)!==N?-1:C:(J=A.shift())>=(le=we.getChildIdx(T,C)).length?-1:we.getIdxbyList(T,le[J],A,N)},ke.getIdxbyListEx=function(T,C,A,N){var J,le,we=ke;if(A.length==0)return N!==void 0&&T.substr(C,2)!==N?-1:C;J=A.shift(),le=we.getChildIdx(T,C);for(var Ie=0,xe=0;xe<le.length;xe++){var Oe=T.substr(le[xe],2);if(typeof J=="number"&&!we.isContextTag(Oe)&&Ie==J||typeof J=="string"&&we.isContextTag(Oe,J))return we.getIdxbyListEx(T,le[xe],A,N);we.isContextTag(Oe)||Ie++}return-1},ke.getTLVbyList=function(T,C,A,N){var J=ke,le=J.getIdxbyList(T,C,A,N);return le==-1||le>=T.length?null:J.getTLV(T,le)},ke.getTLVbyListEx=function(T,C,A,N){var J=ke,le=J.getIdxbyListEx(T,C,A,N);return le==-1?null:J.getTLV(T,le)},ke.getVbyList=function(T,C,A,N,J){var le,we,Ie=ke;return(le=Ie.getIdxbyList(T,C,A,N))==-1||le>=T.length?null:(we=Ie.getV(T,le),J===!0&&(we=we.substr(2)),we)},ke.getVbyListEx=function(T,C,A,N,J){var le,we,Ie=ke;return(le=Ie.getIdxbyListEx(T,C,A,N))==-1?null:(we=Ie.getV(T,le),T.substr(le,2)=="03"&&J!==!1&&(we=we.substr(2)),we)},ke.getInt=function(T,C,A){A==null&&(A=-1);try{var N=T.substr(C,2);if(N!="02"&&N!="03")return A;var J=ke.getV(T,C);return N=="02"?parseInt(J,16):function(we){try{var Ie=we.substr(0,2);if(Ie=="00")return parseInt(we.substr(2),16);var xe=parseInt(Ie,16),Oe=we.substr(2),Me=parseInt(Oe,16).toString(2);return Me=="0"&&(Me="00000000"),Me=Me.slice(0,0-xe),parseInt(Me,2)}catch{return-1}}(J)}catch{return A}},ke.getOID=function(T,C,A){A==null&&(A=null);try{return T.substr(C,2)!="06"?A:function(J){if(!Dt(J))return null;try{var le=[],we=J.substr(0,2),Ie=parseInt(we,16);le[0]=new String(Math.floor(Ie/40)),le[1]=new String(Ie%40);for(var xe=J.substr(2),Oe=[],Me=0;Me<xe.length/2;Me++)Oe.push(parseInt(xe.substr(2*Me,2),16));var $e=[],ze="";for(Me=0;Me<Oe.length;Me++)128&Oe[Me]?ze+=Yt((127&Oe[Me]).toString(2),7):(ze+=Yt((127&Oe[Me]).toString(2),7),$e.push(new String(parseInt(ze,2))),ze="");var Ye=le.join(".");return $e.length>0&&(Ye=Ye+"."+$e.join(".")),Ye}catch{return null}}(ke.getV(T,C))}catch{return A}},ke.getOIDName=function(T,C,A){A==null&&(A=null);try{var N=ke.getOID(T,C,A);if(N==A)return A;var J=G.asn1.x509.OID.oid2name(N);return J==""?N:J}catch{return A}},ke.getString=function(T,C,A){A==null&&(A=null);try{return ln(ke.getV(T,C))}catch{return A}},ke.hextooidstr=function(T){var C=function(ze,Ye){return ze.length>=Ye?ze:new Array(Ye-ze.length+1).join("0")+ze},A=[],N=T.substr(0,2),J=parseInt(N,16);A[0]=new String(Math.floor(J/40)),A[1]=new String(J%40);for(var le=T.substr(2),we=[],Ie=0;Ie<le.length/2;Ie++)we.push(parseInt(le.substr(2*Ie,2),16));var xe=[],Oe="";for(Ie=0;Ie<we.length;Ie++)128&we[Ie]?Oe+=C((127&we[Ie]).toString(2),7):(Oe+=C((127&we[Ie]).toString(2),7),xe.push(new String(parseInt(Oe,2))),Oe="");var Me=A.join(".");return xe.length>0&&(Me=Me+"."+xe.join(".")),Me},ke.dump=function(T,C,A,N){var J=ke,le=J.getV,we=J.dump,Ie=J.getChildIdx,xe=T;T instanceof G.asn1.ASN1Object&&(xe=T.getEncodedHex());var Oe=function(Tt,gn){return Tt.length<=2*gn?Tt:Tt.substr(0,gn)+"..(total "+Tt.length/2+"bytes).."+Tt.substr(Tt.length-gn,gn)};C===void 0&&(C={ommit_long_octet:32}),A===void 0&&(A=0),N===void 0&&(N="");var Me,$e=C.ommit_long_octet;if((Me=xe.substr(A,2))=="01")return(ze=le(xe,A))=="00"?N+`BOOLEAN FALSE
`:N+`BOOLEAN TRUE
`;if(Me=="02")return N+"INTEGER "+Oe(ze=le(xe,A),$e)+`
`;if(Me=="03"){var ze=le(xe,A);if(J.isASN1HEX(ze.substr(2))){var Ye=N+`BITSTRING, encapsulates
`;return Ye+=we(ze.substr(2),C,0,N+"  ")}return N+"BITSTRING "+Oe(ze,$e)+`
`}if(Me=="04")return ze=le(xe,A),J.isASN1HEX(ze)?(Ye=N+`OCTETSTRING, encapsulates
`,Ye+=we(ze,C,0,N+"  ")):N+"OCTETSTRING "+Oe(ze,$e)+`
`;if(Me=="05")return N+`NULL
`;if(Me=="06"){var ot=le(xe,A),dt=G.asn1.ASN1Util.oidHexToInt(ot),ut=G.asn1.x509.OID.oid2name(dt),be=dt.replace(/\./g," ");return ut!=""?N+"ObjectIdentifier "+ut+" ("+be+`)
`:N+"ObjectIdentifier ("+be+`)
`}if(Me=="0a")return N+"ENUMERATED "+parseInt(le(xe,A))+`
`;if(Me=="0c")return N+"UTF8String '"+un(le(xe,A))+`'
`;if(Me=="13")return N+"PrintableString '"+un(le(xe,A))+`'
`;if(Me=="14")return N+"TeletexString '"+un(le(xe,A))+`'
`;if(Me=="16")return N+"IA5String '"+un(le(xe,A))+`'
`;if(Me=="17")return N+"UTCTime "+un(le(xe,A))+`
`;if(Me=="18")return N+"GeneralizedTime "+un(le(xe,A))+`
`;if(Me=="1a")return N+"VisualString '"+un(le(xe,A))+`'
`;if(Me=="1e")return N+"BMPString '"+it(le(xe,A))+`'
`;if(Me=="30"){if(xe.substr(A,4)=="3000")return N+`SEQUENCE {}
`;Ye=N+`SEQUENCE
`;var De=C;if(((lt=Ie(xe,A)).length==2||lt.length==3)&&xe.substr(lt[0],2)=="06"&&xe.substr(lt[lt.length-1],2)=="04"){ut=J.oidname(le(xe,lt[0]));var Be=JSON.parse(JSON.stringify(C));Be.x509ExtName=ut,De=Be}for(var Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,De,lt[Ke],N+"  ");return Ye}if(Me=="31"){Ye=N+`SET
`;var lt=Ie(xe,A);for(Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,C,lt[Ke],N+"  ");return Ye}if(128&(Me=parseInt(Me,16))){var mt=31&Me;if(32&Me){for(Ye=N+"["+mt+`]
`,lt=Ie(xe,A),Ke=0;Ke<lt.length;Ke++)Ye+=we(xe,C,lt[Ke],N+"  ");return Ye}if(ze=le(xe,A),ke.isASN1HEX(ze)){var Ye=N+"["+mt+`]
`;return Ye+=we(ze,C,0,N+"  ")}return(ze.substr(0,8)=="68747470"||C.x509ExtName==="subjectAltName"&&mt==2)&&(ze=un(ze)),Ye=N+"["+mt+"] "+ze+`
`}return N+"UNKNOWN("+Me+") "+le(xe,A)+`
`},ke.isContextTag=function(T,C){var A,N;T=T.toLowerCase();try{A=parseInt(T,16)}catch{return-1}if(C===void 0)return(192&A)==128;try{return C.match(/^\[[0-9]+\]$/)!=null&&!((N=parseInt(C.substr(1,C.length-1),10))>31)&&(192&A)==128&&(31&A)==N}catch{return!1}},ke.isASN1HEX=function(T){var C=ke;if(T.length%2==1)return!1;var A=C.getVblen(T,0),N=T.substr(0,2),J=C.getL(T,0);return T.length-N.length-J.length==2*A},ke.checkStrictDER=function(T,C,A,N,J){var le=ke;if(A===void 0){if(typeof T!="string")throw new Error("not hex string");if(T=T.toLowerCase(),!G.lang.String.isHex(T))throw new Error("not hex string");A=T.length,J=(N=T.length/2)<128?1:Math.ceil(N.toString(16))+1}if(le.getL(T,C).length>2*J)throw new Error("L of TLV too long: idx="+C);var we=le.getVblen(T,C);if(we>N)throw new Error("value of L too long than hex: idx="+C);var Ie=le.getTLV(T,C),xe=Ie.length-2-le.getL(T,C).length;if(xe!==2*we)throw new Error("V string length and L's value not the same:"+xe+"/"+2*we);if(C===0&&T.length!=Ie.length)throw new Error("total length and TLV length unmatch:"+T.length+"!="+Ie.length);var Oe=T.substr(C,2);if(Oe==="02"){var Me=le.getVidx(T,C);if(T.substr(Me,2)=="00"&&T.charCodeAt(Me+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(Oe,16)){for(var $e=le.getVblen(T,C),ze=0,Ye=le.getChildIdx(T,C),ot=0;ot<Ye.length;ot++)ze+=le.getTLV(T,Ye[ot]).length,le.checkStrictDER(T,Ye[ot],A,N,J);if(2*$e!=ze)throw new Error("sum of children's TLV length and L unmatch: "+2*$e+"!="+ze)}},ke.oidname=function(T){var C=G.asn1;G.lang.String.isHex(T)&&(T=C.ASN1Util.oidHexToInt(T));var A=C.x509.OID.oid2name(T);return A===""&&(A=T),A},G!==void 0&&G||(r.KJUR=G={}),G.lang!==void 0&&G.lang||(G.lang={}),G.lang.String=function(){},typeof a=="function"?(r.utf8tob64u=je=function(C){return zt(a.from(C,"utf8").toString("base64"))},r.b64utoutf8=Je=function(C){return a.from(Ar(C),"base64").toString("utf8")}):(r.utf8tob64u=je=function(C){return dn(Jn(Ct(C)))},r.b64utoutf8=Je=function(C){return decodeURIComponent(We(hn(C)))}),G.lang.String.isInteger=function(T){return!!T.match(/^[0-9]+$/)||!!T.match(/^-[0-9]+$/)},G.lang.String.isHex=function(T){return Dt(T)},G.lang.String.isBase64=function(T){return!(!(T=T.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||T.length%4!=0)},G.lang.String.isBase64URL=function(T){return!T.match(/[+/=]/)&&(T=Ar(T),G.lang.String.isBase64(T))},G.lang.String.isIntegerArray=function(T){return!!(T=T.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},G.lang.String.isPrintable=function(T){return T.match(/^[0-9A-Za-z '()+,-./:=?]*$/)!==null},G.lang.String.isIA5=function(T){return T.match(/^[\x20-\x21\x23-\x7f]*$/)!==null},G.lang.String.isMail=function(T){return T.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)!==null};var Yt=function(C,A,N){return N==null&&(N="0"),C.length>=A?C:new Array(A-C.length+1).join(N)+C};function Ht(T,C){var A=function(){};A.prototype=C.prototype,T.prototype=new A,T.prototype.constructor=T,T.superclass=C.prototype,C.prototype.constructor==Object.prototype.constructor&&(C.prototype.constructor=C)}G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:P.algo.MD5,sha1:P.algo.SHA1,sha224:P.algo.SHA224,sha256:P.algo.SHA256,sha384:P.algo.SHA384,sha512:P.algo.SHA512,ripemd160:P.algo.RIPEMD160},this.getDigestInfoHex=function(T,C){if(this.DIGESTINFOHEAD[C]===void 0)throw"alg not supported in Util.DIGESTINFOHEAD: "+C;return this.DIGESTINFOHEAD[C]+T},this.getPaddedDigestInfoHex=function(T,C,A){var N=this.getDigestInfoHex(T,C),J=A/4;if(N.length+22>J)throw"key is too short for SigAlg: keylen="+A+","+C;for(var le="0001",we="00"+N,Ie="",xe=J-le.length-we.length,Oe=0;Oe<xe;Oe+=2)Ie+="ff";return le+Ie+we},this.hashString=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestString(T)},this.hashHex=function(T,C){return new G.crypto.MessageDigest({alg:C}).digestHex(T)},this.sha1=function(T){return this.hashString(T,"sha1")},this.sha256=function(T){return this.hashString(T,"sha256")},this.sha256Hex=function(T){return this.hashHex(T,"sha256")},this.sha512=function(T){return this.hashString(T,"sha512")},this.sha512Hex=function(T){return this.hashHex(T,"sha512")},this.isKey=function(T){return T instanceof Se||T instanceof G.crypto.DSA||T instanceof G.crypto.ECDSA}},G.crypto.Util.md5=function(T){return new G.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(T)},G.crypto.Util.ripemd160=function(T){return new G.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(T)},G.crypto.Util.SECURERANDOMGEN=new nt,G.crypto.Util.getRandomHexOfNbytes=function(T){var C=new Array(T);return G.crypto.Util.SECURERANDOMGEN.nextBytes(C),Nt(C)},G.crypto.Util.getRandomBigIntegerOfNbytes=function(T){return new U(G.crypto.Util.getRandomHexOfNbytes(T),16)},G.crypto.Util.getRandomHexOfNbits=function(T){var C=T%8,A=new Array((T-C)/8+1);return G.crypto.Util.SECURERANDOMGEN.nextBytes(A),A[0]=(255<<C&255^255)&A[0],Nt(A)},G.crypto.Util.getRandomBigIntegerOfNbits=function(T){return new U(G.crypto.Util.getRandomHexOfNbits(T),16)},G.crypto.Util.getRandomBigIntegerZeroToMax=function(T){for(var C=T.bitLength();;){var A=G.crypto.Util.getRandomBigIntegerOfNbits(C);if(T.compareTo(A)!=-1)return A}},G.crypto.Util.getRandomBigIntegerMinToMax=function(T,C){var A=T.compareTo(C);if(A==1)throw"biMin is greater than biMax";if(A==0)return T;var N=C.subtract(T);return G.crypto.Util.getRandomBigIntegerZeroToMax(N).add(T)},G.crypto.MessageDigest=function(T){this.setAlgAndProvider=function(C,A){if((C=G.crypto.MessageDigest.getCanonicalAlgName(C))!==null&&A===void 0&&(A=G.crypto.Util.DEFAULTPROVIDER[C]),":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(C)!=-1&&A=="cryptojs"){try{this.md=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[C].create()}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var J=P.enc.Hex.parse(N);this.md.update(J)},this.digest=function(){return this.md.finalize().toString(P.enc.Hex)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}if(":sha256:".indexOf(C)!=-1&&A=="sjcl"){try{this.md=new sjcl.hash.sha256}catch(N){throw"setAlgAndProvider hash alg set fail alg="+C+"/"+N}this.updateString=function(N){this.md.update(N)},this.updateHex=function(N){var J=sjcl.codec.hex.toBits(N);this.md.update(J)},this.digest=function(){var N=this.md.finalize();return sjcl.codec.hex.fromBits(N)},this.digestString=function(N){return this.updateString(N),this.digest()},this.digestHex=function(N){return this.updateHex(N),this.digest()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},T!==void 0&&T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},G.crypto.MessageDigest.getCanonicalAlgName=function(T){return typeof T=="string"&&(T=(T=T.toLowerCase()).replace(/-/,"")),T},G.crypto.MessageDigest.getHashLength=function(T){var C=G.crypto.MessageDigest,A=C.getCanonicalAlgName(T);if(C.HASHLENGTH[A]===void 0)throw"not supported algorithm: "+T;return C.HASHLENGTH[A]},G.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},G.crypto.Mac=function(T){this.setAlgAndProvider=function(C,A){if((C=C.toLowerCase())==null&&(C="hmacsha1"),(C=C.toLowerCase()).substr(0,4)!="hmac")throw"setAlgAndProvider unsupported HMAC alg: "+C;A===void 0&&(A=G.crypto.Util.DEFAULTPROVIDER[C]),this.algProv=C+"/"+A;var N=C.substr(4);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(N)!=-1&&A=="cryptojs"){try{var J=G.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[N];this.mac=P.algo.HMAC.create(J,this.pass)}catch(le){throw"setAlgAndProvider hash alg set fail hashAlg="+N+"/"+le}this.updateString=function(le){this.mac.update(le)},this.updateHex=function(le){var we=P.enc.Hex.parse(le);this.mac.update(we)},this.doFinal=function(){return this.mac.finalize().toString(P.enc.Hex)},this.doFinalString=function(le){return this.updateString(le),this.doFinal()},this.doFinalHex=function(le){return this.updateHex(le),this.doFinal()}}},this.updateString=function(C){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(C){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(C){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(C){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(C){if(typeof C=="string"){var A=C;return C.length%2!=1&&C.match(/^[0-9A-Fa-f]+$/)||(A=Mn(C)),void(this.pass=P.enc.Hex.parse(A))}if((C===void 0?"undefined":b(C))!="object")throw"KJUR.crypto.Mac unsupported password type: "+C;if(A=null,C.hex!==void 0){if(C.hex.length%2!=0||!C.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+C.hex;A=C.hex}if(C.utf8!==void 0&&(A=gr(C.utf8)),C.rstr!==void 0&&(A=Mn(C.rstr)),C.b64!==void 0&&(A=Q(C.b64)),C.b64u!==void 0&&(A=hn(C.b64u)),A==null)throw"KJUR.crypto.Mac unsupported password type: "+C;this.pass=P.enc.Hex.parse(A)},T!==void 0&&(T.pass!==void 0&&this.setPassword(T.pass),T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0&&(this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},G.crypto.Signature=function(T){var C=null;if(this._setAlgNames=function(){var A=this.algName.match(/^(.+)with(.+)$/);A&&(this.mdAlgName=A[1].toLowerCase(),this.pubkeyAlgName=A[2].toLowerCase(),this.pubkeyAlgName=="rsaandmgf1"&&this.mdAlgName=="sha"&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(A,N){for(var J="",le=N/4-A.length,we=0;we<le;we++)J+="0";return J+A},this.setAlgAndProvider=function(A,N){if(this._setAlgNames(),N!="cryptojs/jsrsa")throw new Error("provider not supported: "+N);if(":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)!=-1){try{this.md=new G.crypto.MessageDigest({alg:this.mdAlgName})}catch(J){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+J)}this.init=function(J,le){var we=null;try{we=le===void 0?jt.getKey(J):jt.getKey(J,le)}catch(Ie){throw"init failed:"+Ie}if(we.isPrivate===!0)this.prvKey=we,this.state="SIGN";else{if(we.isPublic!==!0)throw"init failed.:"+we;this.pubKey=we,this.state="VERIFY"}},this.updateString=function(J){this.md.updateString(J)},this.updateHex=function(J){this.md.updateHex(J)},this.sign=function(){if(this.sHashHex=this.md.digest(),this.prvKey===void 0&&this.ecprvhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.prvKey=new G.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof Se&&this.pubkeyAlgName==="rsa")this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof G.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof G.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(J){return this.updateString(J),this.sign()},this.signHex=function(J){return this.updateHex(J),this.sign()},this.verify=function(J){if(this.sHashHex=this.md.digest(),this.pubKey===void 0&&this.ecpubhex!==void 0&&this.eccurvename!==void 0&&G.crypto.ECDSA!==void 0&&(this.pubKey=new G.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof Se&&this.pubkeyAlgName==="rsaandmgf1")return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,J,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof Se&&this.pubkeyAlgName==="rsa")return this.pubKey.verifyWithMessageHash(this.sHashHex,J);if(G.crypto.ECDSA!==void 0&&this.pubKey instanceof G.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,J);if(G.crypto.DSA!==void 0&&this.pubKey instanceof G.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,J);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(A,N){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(A){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(A){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(A){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(A){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(A){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=T,T!==void 0&&(T.alg!==void 0&&(this.algName=T.alg,T.prov===void 0?this.provName=G.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=T.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),T.psssaltlen!==void 0&&(this.pssSaltLen=T.psssaltlen),T.prvkeypem!==void 0)){if(T.prvkeypas!==void 0)throw"both prvkeypem and prvkeypas parameters not supported";try{C=jt.getKey(T.prvkeypem),this.init(C)}catch(A){throw"fatal error to load pem private key: "+A}}},G.crypto.Cipher=function(T){},G.crypto.Cipher.encrypt=function(T,C,A){if(C instanceof Se&&C.isPublic){var N=G.crypto.Cipher.getAlgByKeyAndName(C,A);if(N==="RSA")return C.encrypt(T);if(N==="RSAOAEP")return C.encryptOAEP(T,"sha1");var J=N.match(/^RSAOAEP(\d+)$/);if(J!==null)return C.encryptOAEP(T,"sha"+J[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.encrypt: unsupported key or algorithm"},G.crypto.Cipher.decrypt=function(T,C,A){if(C instanceof Se&&C.isPrivate){var N=G.crypto.Cipher.getAlgByKeyAndName(C,A);if(N==="RSA")return C.decrypt(T);if(N==="RSAOAEP")return C.decryptOAEP(T,"sha1");var J=N.match(/^RSAOAEP(\d+)$/);if(J!==null)return C.decryptOAEP(T,"sha"+J[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+A}throw"Cipher.decrypt: unsupported key or algorithm"},G.crypto.Cipher.getAlgByKeyAndName=function(T,C){if(T instanceof Se){if(":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(C)!=-1)return C;if(C==null)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+C}throw"getAlgByKeyAndName: not supported algorithm name: "+C},G.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECDSA=function(T){var C=Error,A=U,N=ne,J=G.crypto.ECDSA,le=G.crypto.ECParameterDB,we=J.getName,Ie=ke,xe=Ie.getVbyListEx,Oe=Ie.isASN1HEX,Me=new nt;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function($e){return new A($e.bitLength(),Me).mod($e.subtract(A.ONE)).add(A.ONE)},this.setNamedCurve=function($e){this.ecparams=le.getByName($e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=$e},this.setPrivateKeyHex=function($e){this.isPrivate=!0,this.prvKeyHex=$e},this.setPublicKeyHex=function($e){this.isPublic=!0,this.pubKeyHex=$e},this.getPublicKeyXYHex=function(){var $e=this.pubKeyHex;if($e.substr(0,2)!=="04")throw"this method supports uncompressed format(04) only";var ze=this.ecparams.keylen/4;if($e.length!==2+2*ze)throw"malformed public key hex length";var Ye={};return Ye.x=$e.substr(2,ze),Ye.y=$e.substr(2+ze),Ye},this.getShortNISTPCurveName=function(){var $e=this.curveName;return $e==="secp256r1"||$e==="NIST P-256"||$e==="P-256"||$e==="prime256v1"?"P-256":$e==="secp384r1"||$e==="NIST P-384"||$e==="P-384"?"P-384":null},this.generateKeyPairHex=function(){var $e=this.ecparams.n,ze=this.getBigRandom($e),Ye=this.ecparams.G.multiply(ze),ot=Ye.getX().toBigInteger(),dt=Ye.getY().toBigInteger(),ut=this.ecparams.keylen/4,be=("0000000000"+ze.toString(16)).slice(-ut),De="04"+("0000000000"+ot.toString(16)).slice(-ut)+("0000000000"+dt.toString(16)).slice(-ut);return this.setPrivateKeyHex(be),this.setPublicKeyHex(De),{ecprvhex:be,ecpubhex:De}},this.signWithMessageHash=function($e){return this.signHex($e,this.prvKeyHex)},this.signHex=function($e,ze){var Ye=new A(ze,16),ot=this.ecparams.n,dt=new A($e.substring(0,this.ecparams.keylen/4),16);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(A.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Ye.multiply(be))).mod(ot);return J.biRSSigToASN1Sig(be,De)},this.sign=function($e,ze){var Ye=ze,ot=this.ecparams.n,dt=A.fromByteArrayUnsigned($e);do var ut=this.getBigRandom(ot),be=this.ecparams.G.multiply(ut).getX().toBigInteger().mod(ot);while(be.compareTo(U.ZERO)<=0);var De=ut.modInverse(ot).multiply(dt.add(Ye.multiply(be))).mod(ot);return this.serializeSig(be,De)},this.verifyWithMessageHash=function($e,ze){return this.verifyHex($e,ze,this.pubKeyHex)},this.verifyHex=function($e,ze,Ye){try{var ot,dt,ut=J.parseSigHex(ze);ot=ut.r,dt=ut.s;var be=N.decodeFromHex(this.ecparams.curve,Ye),De=new A($e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(De,ot,dt,be)}catch{return!1}},this.verify=function($e,ze,Ye){var ot,dt,ut;if(Bitcoin.Util.isArray(ze)){var be=this.parseSig(ze);ot=be.r,dt=be.s}else{if((ze===void 0?"undefined":b(ze))!=="object"||!ze.r||!ze.s)throw"Invalid value for signature";ot=ze.r,dt=ze.s}if(Ye instanceof ne)ut=Ye;else{if(!Bitcoin.Util.isArray(Ye))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ut=N.decodeFrom(this.ecparams.curve,Ye)}var De=A.fromByteArrayUnsigned($e);return this.verifyRaw(De,ot,dt,ut)},this.verifyRaw=function($e,ze,Ye,ot){var dt=this.ecparams.n,ut=this.ecparams.G;if(ze.compareTo(A.ONE)<0||ze.compareTo(dt)>=0||Ye.compareTo(A.ONE)<0||Ye.compareTo(dt)>=0)return!1;var be=Ye.modInverse(dt),De=$e.multiply(be).mod(dt),Be=ze.multiply(be).mod(dt);return ut.multiply(De).add(ot.multiply(Be)).getX().toBigInteger().mod(dt).equals(ze)},this.serializeSig=function($e,ze){var Ye=$e.toByteArraySigned(),ot=ze.toByteArraySigned(),dt=[];return dt.push(2),dt.push(Ye.length),(dt=dt.concat(Ye)).push(2),dt.push(ot.length),(dt=dt.concat(ot)).unshift(dt.length),dt.unshift(48),dt},this.parseSig=function($e){var ze;if($e[0]!=48)throw new Error("Signature not a valid DERSequence");if($e[ze=2]!=2)throw new Error("First element in signature must be a DERInteger");var Ye=$e.slice(ze+2,ze+2+$e[ze+1]);if($e[ze+=2+$e[ze+1]]!=2)throw new Error("Second element in signature must be a DERInteger");var ot=$e.slice(ze+2,ze+2+$e[ze+1]);return ze+=2+$e[ze+1],{r:A.fromByteArrayUnsigned(Ye),s:A.fromByteArrayUnsigned(ot)}},this.parseSigCompact=function($e){if($e.length!==65)throw"Signature has the wrong length";var ze=$e[0]-27;if(ze<0||ze>7)throw"Invalid signature type";var Ye=this.ecparams.n;return{r:A.fromByteArrayUnsigned($e.slice(1,33)).mod(Ye),s:A.fromByteArrayUnsigned($e.slice(33,65)).mod(Ye),i:ze}},this.readPKCS5PrvKeyHex=function($e){if(Oe($e)===!1)throw new Error("not ASN.1 hex string");var ze,Ye,ot;try{ze=xe($e,0,["[0]",0],"06"),Ye=xe($e,0,[1],"04");try{ot=xe($e,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PrvKeyHex=function($e){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var ze,Ye,ot;try{xe($e,0,[1,0],"06"),ze=xe($e,0,[1,1],"06"),Ye=xe($e,0,[2,0,1],"04");try{ot=xe($e,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new C("malformed PKCS#8 plain ECC private key")}if(this.curveName=we(ze),this.curveName===void 0)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot),this.setPrivateKeyHex(Ye),this.isPublic=!1},this.readPKCS8PubKeyHex=function($e){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var ze,Ye;try{xe($e,0,[0,0],"06"),ze=xe($e,0,[0,1],"06"),Ye=xe($e,0,[1],"03")}catch{throw new C("malformed PKCS#8 ECC public key")}if(this.curveName=we(ze),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(Ye)},this.readCertPubKeyHex=function($e,ze){if(Oe($e)===!1)throw new C("not ASN.1 hex string");var Ye,ot;try{Ye=xe($e,0,[0,5,0,1],"06"),ot=xe($e,0,[0,5,1],"03")}catch{throw new C("malformed X.509 certificate ECC public key")}if(this.curveName=we(Ye),this.curveName===null)throw new C("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ot)},T!==void 0&&T.curve!==void 0&&(this.curveName=T.curve),this.curveName===void 0&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),T!==void 0&&(T.prv!==void 0&&this.setPrivateKeyHex(T.prv),T.pub!==void 0&&this.setPublicKeyHex(T.pub))},G.crypto.ECDSA.parseSigHex=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T);return{r:new U(C.r,16),s:new U(C.s,16)}},G.crypto.ECDSA.parseSigHexInHexRS=function(T){var C=ke,A=C.getChildIdx,N=C.getV;if(C.checkStrictDER(T,0),T.substr(0,2)!="30")throw new Error("signature is not a ASN.1 sequence");var J=A(T,0);if(J.length!=2)throw new Error("signature shall have two elements");var le=J[0],we=J[1];if(T.substr(le,2)!="02")throw new Error("1st item not ASN.1 integer");if(T.substr(we,2)!="02")throw new Error("2nd item not ASN.1 integer");return{r:N(T,le),s:N(T,we)}},G.crypto.ECDSA.asn1SigToConcatSig=function(T){var C=G.crypto.ECDSA.parseSigHexInHexRS(T),A=C.r,N=C.s;if(A.substr(0,2)=="00"&&A.length%32==2&&(A=A.substr(2)),N.substr(0,2)=="00"&&N.length%32==2&&(N=N.substr(2)),A.length%32==30&&(A="00"+A),N.length%32==30&&(N="00"+N),A.length%32!=0)throw"unknown ECDSA sig r length error";if(N.length%32!=0)throw"unknown ECDSA sig s length error";return A+N},G.crypto.ECDSA.concatSigToASN1Sig=function(T){if(T.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var C=T.substr(0,T.length/2),A=T.substr(T.length/2);return G.crypto.ECDSA.hexRSSigToASN1Sig(C,A)},G.crypto.ECDSA.hexRSSigToASN1Sig=function(T,C){var A=new U(T,16),N=new U(C,16);return G.crypto.ECDSA.biRSSigToASN1Sig(A,N)},G.crypto.ECDSA.biRSSigToASN1Sig=function(T,C){var A=G.asn1,N=new A.DERInteger({bigint:T}),J=new A.DERInteger({bigint:C});return new A.DERSequence({array:[N,J]}).getEncodedHex()},G.crypto.ECDSA.getName=function(T){return T==="2b8104001f"?"secp192k1":T==="2a8648ce3d030107"?"secp256r1":T==="2b8104000a"?"secp256k1":T==="2b81040021"?"secp224r1":T==="2b81040022"?"secp384r1":"|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(T)!==-1?"secp256r1":"|secp256k1|".indexOf(T)!==-1?"secp256k1":"|secp224r1|NIST P-224|P-224|".indexOf(T)!==-1?"secp224r1":"|secp384r1|NIST P-384|P-384|".indexOf(T)!==-1?"secp384r1":null},G!==void 0&&G||(r.KJUR=G={}),G.crypto!==void 0&&G.crypto||(G.crypto={}),G.crypto.ECParameterDB=new function(){var T={},C={};function A(N){return new U(N,16)}this.getByName=function(N){var J=N;if(C[J]!==void 0&&(J=C[N]),T[J]!==void 0)return T[J];throw"unregistered EC curve name: "+J},this.regist=function(N,J,le,we,Ie,xe,Oe,Me,$e,ze,Ye,ot){T[N]={};var dt=A(le),ut=A(we),be=A(Ie),De=A(xe),Be=A(Oe),Ke=new z(dt,ut,be),lt=Ke.decodePointHex("04"+Me+$e);T[N].name=N,T[N].keylen=J,T[N].curve=Ke,T[N].G=lt,T[N].n=De,T[N].h=Be,T[N].oid=Ye,T[N].info=ot;for(var mt=0;mt<ze.length;mt++)C[ze[mt]]=N}},G.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),G.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),G.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),G.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),G.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),G.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),G.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),G.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),G.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var jt=function(){var T=function(Oe,Me,$e){return C(P.AES,Oe,Me,$e)},C=function(Oe,Me,$e,ze){var Ye=P.enc.Hex.parse(Me),ot=P.enc.Hex.parse($e),dt=P.enc.Hex.parse(ze),ut={};ut.key=ot,ut.iv=dt,ut.ciphertext=Ye;var be=Oe.decrypt(ut,ot,{iv:dt});return P.enc.Hex.stringify(be)},A=function(Oe,Me,$e){return N(P.AES,Oe,Me,$e)},N=function(Oe,Me,$e,ze){var Ye=P.enc.Hex.parse(Me),ot=P.enc.Hex.parse($e),dt=P.enc.Hex.parse(ze),ut=Oe.encrypt(Ye,ot,{iv:dt}),be=P.enc.Hex.parse(ut.toString());return P.enc.Base64.stringify(be)},J={"AES-256-CBC":{proc:T,eproc:A,keylen:32,ivlen:16},"AES-192-CBC":{proc:T,eproc:A,keylen:24,ivlen:16},"AES-128-CBC":{proc:T,eproc:A,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(Oe,Me,$e){return C(P.TripleDES,Oe,Me,$e)},eproc:function(Oe,Me,$e){return N(P.TripleDES,Oe,Me,$e)},keylen:24,ivlen:8},"DES-CBC":{proc:function(Oe,Me,$e){return C(P.DES,Oe,Me,$e)},eproc:function(Oe,Me,$e){return N(P.DES,Oe,Me,$e)},keylen:8,ivlen:8}},le=function(Oe){var Me={},$e=Oe.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));$e&&(Me.cipher=$e[1],Me.ivsalt=$e[2]);var ze=Oe.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));ze&&(Me.type=ze[1]);var Ye=-1,ot=0;Oe.indexOf(`\r
\r
`)!=-1&&(Ye=Oe.indexOf(`\r
\r
`),ot=2),Oe.indexOf(`

`)!=-1&&(Ye=Oe.indexOf(`

`),ot=1);var dt=Oe.indexOf("-----END");if(Ye!=-1&&dt!=-1){var ut=Oe.substring(Ye+2*ot,dt-ot);ut=ut.replace(/\s+/g,""),Me.data=ut}return Me},we=function(Oe,Me,$e){for(var ze=$e.substring(0,16),Ye=P.enc.Hex.parse(ze),ot=P.enc.Utf8.parse(Me),dt=J[Oe].keylen+J[Oe].ivlen,ut="",be=null;;){var De=P.algo.MD5.create();if(be!=null&&De.update(be),De.update(ot),De.update(Ye),be=De.finalize(),(ut+=P.enc.Hex.stringify(be)).length>=2*dt)break}var Be={};return Be.keyhex=ut.substr(0,2*J[Oe].keylen),Be.ivhex=ut.substr(2*J[Oe].keylen,2*J[Oe].ivlen),Be},Ie=function(Oe,Me,$e,ze){var Ye=P.enc.Base64.parse(Oe),ot=P.enc.Hex.stringify(Ye);return(0,J[Me].proc)(ot,$e,ze)};return{version:"1.0.0",parsePKCS5PEM:function(Oe){return le(Oe)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(Oe,Me,$e){return we(Oe,Me,$e)},decryptKeyB64:function(Oe,Me,$e,ze){return Ie(Oe,Me,$e,ze)},getDecryptedKeyHex:function(Oe,Me){var $e=le(Oe),ze=$e.cipher,Ye=$e.ivsalt,ot=$e.data,dt=we(ze,Me,Ye).keyhex;return Ie(ot,ze,dt,Ye)},getEncryptedPKCS5PEMFromPrvKeyHex:function(Oe,Me,$e,ze,Ye){var ot="";if(ze!==void 0&&ze!=null||(ze="AES-256-CBC"),J[ze]===void 0)throw new Error("KEYUTIL unsupported algorithm: "+ze);Ye!==void 0&&Ye!=null||(Ye=function(be){var De=P.lib.WordArray.random(be);return P.enc.Hex.stringify(De)}(J[ze].ivlen).toUpperCase());var dt=function(be,De,Be,Ke){return(0,J[De].eproc)(be,Be,Ke)}(Me,ze,we(ze,$e,Ye).keyhex,Ye);return ot="-----BEGIN "+Oe+` PRIVATE KEY-----\r
`,ot+=`Proc-Type: 4,ENCRYPTED\r
`,ot+="DEK-Info: "+ze+","+Ye+`\r
`,ot+=`\r
`,ot+=dt.replace(/(.{64})/g,`$1\r
`),ot+=`\r
-----END `+Oe+` PRIVATE KEY-----\r
`},parseHexOfEncryptedPKCS8:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={},ot=$e(Oe,0);if(ot.length!=2)throw new Error("malformed format: SEQUENCE(0).items != 2: "+ot.length);Ye.ciphertext=ze(Oe,ot[1]);var dt=$e(Oe,ot[0]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+dt.length);if(ze(Oe,dt[0])!="2a864886f70d01050d")throw new Error("this only supports pkcs5PBES2");var ut=$e(Oe,dt[1]);if(dt.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+ut.length);var be=$e(Oe,ut[1]);if(be.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+be.length);if(ze(Oe,be[0])!="2a864886f70d0307")throw"this only supports TripleDES";Ye.encryptionSchemeAlg="TripleDES",Ye.encryptionSchemeIV=ze(Oe,be[1]);var De=$e(Oe,ut[0]);if(De.length!=2)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+De.length);if(ze(Oe,De[0])!="2a864886f70d01050c")throw new Error("this only supports pkcs5PBKDF2");var Be=$e(Oe,De[1]);if(Be.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+Be.length);Ye.pbkdf2Salt=ze(Oe,Be[0]);var Ke=ze(Oe,Be[1]);try{Ye.pbkdf2Iter=parseInt(Ke,16)}catch{throw new Error("malformed format pbkdf2Iter: "+Ke)}return Ye},getPBKDF2KeyHexFromParam:function(Oe,Me){var $e=P.enc.Hex.parse(Oe.pbkdf2Salt),ze=Oe.pbkdf2Iter,Ye=P.PBKDF2(Me,$e,{keySize:6,iterations:ze});return P.enc.Hex.stringify(Ye)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(Oe,Me){var $e=Et(Oe,"ENCRYPTED PRIVATE KEY"),ze=this.parseHexOfEncryptedPKCS8($e),Ye=jt.getPBKDF2KeyHexFromParam(ze,Me),ot={};ot.ciphertext=P.enc.Hex.parse(ze.ciphertext);var dt=P.enc.Hex.parse(Ye),ut=P.enc.Hex.parse(ze.encryptionSchemeIV),be=P.TripleDES.decrypt(ot,dt,{iv:ut});return P.enc.Hex.stringify(be)},getKeyFromEncryptedPKCS8PEM:function(Oe,Me){var $e=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(Oe,Me);return this.getKeyFromPlainPrivatePKCS8Hex($e)},parsePlainPrivatePKCS8Hex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null};if(Oe.substr(0,2)!="30")throw new Error("malformed plain PKCS8 private key(code:001)");var ot=$e(Oe,0);if(ot.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if(Oe.substr(ot[1],2)!="30")throw new Error("malformed PKCS8 private key(code:003)");var dt=$e(Oe,ot[1]);if(dt.length!=2)throw new Error("malformed PKCS8 private key(code:004)");if(Oe.substr(dt[0],2)!="06")throw new Error("malformed PKCS8 private key(code:005)");if(Ye.algoid=ze(Oe,dt[0]),Oe.substr(dt[1],2)=="06"&&(Ye.algparam=ze(Oe,dt[1])),Oe.substr(ot[2],2)!="04")throw new Error("malformed PKCS8 private key(code:006)");return Ye.keyidx=Me.getVidx(Oe,ot[2]),Ye},getKeyFromPlainPrivatePKCS8PEM:function(Oe){var Me=Et(Oe,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(Me)},getKeyFromPlainPrivatePKCS8Hex:function(Oe){var Me,$e=this.parsePlainPrivatePKCS8Hex(Oe);if($e.algoid=="2a864886f70d010101")Me=new Se;else if($e.algoid=="2a8648ce380401")Me=new G.crypto.DSA;else{if($e.algoid!="2a8648ce3d0201")throw new Error("unsupported private key algorithm");Me=new G.crypto.ECDSA}return Me.readPKCS8PrvKeyHex(Oe),Me},_getKeyFromPublicPKCS8Hex:function(Oe){var Me,$e=ke.getVbyList(Oe,0,[0,0],"06");if($e==="2a864886f70d010101")Me=new Se;else if($e==="2a8648ce380401")Me=new G.crypto.DSA;else{if($e!=="2a8648ce3d0201")throw new Error("unsupported PKCS#8 public key hex");Me=new G.crypto.ECDSA}return Me.readPKCS8PubKeyHex(Oe),Me},parsePublicRawRSAKeyHex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={};if(Oe.substr(0,2)!="30")throw new Error("malformed RSA key(code:001)");var ot=$e(Oe,0);if(ot.length!=2)throw new Error("malformed RSA key(code:002)");if(Oe.substr(ot[0],2)!="02")throw new Error("malformed RSA key(code:003)");if(Ye.n=ze(Oe,ot[0]),Oe.substr(ot[1],2)!="02")throw new Error("malformed RSA key(code:004)");return Ye.e=ze(Oe,ot[1]),Ye},parsePublicPKCS8Hex:function(Oe){var Me=ke,$e=Me.getChildIdx,ze=Me.getV,Ye={algparam:null},ot=$e(Oe,0);if(ot.length!=2)throw new Error("outer DERSequence shall have 2 elements: "+ot.length);var dt=ot[0];if(Oe.substr(dt,2)!="30")throw new Error("malformed PKCS8 public key(code:001)");var ut=$e(Oe,dt);if(ut.length!=2)throw new Error("malformed PKCS8 public key(code:002)");if(Oe.substr(ut[0],2)!="06")throw new Error("malformed PKCS8 public key(code:003)");if(Ye.algoid=ze(Oe,ut[0]),Oe.substr(ut[1],2)=="06"?Ye.algparam=ze(Oe,ut[1]):Oe.substr(ut[1],2)=="30"&&(Ye.algparam={},Ye.algparam.p=Me.getVbyList(Oe,ut[1],[0],"02"),Ye.algparam.q=Me.getVbyList(Oe,ut[1],[1],"02"),Ye.algparam.g=Me.getVbyList(Oe,ut[1],[2],"02")),Oe.substr(ot[1],2)!="03")throw new Error("malformed PKCS8 public key(code:004)");return Ye.key=ze(Oe,ot[1]).substr(2),Ye}}}();jt.getKey=function(T,C,A){var N=(ut=ke).getChildIdx,J=(ut.getV,ut.getVbyList),le=G.crypto,we=le.ECDSA,Ie=le.DSA,xe=Se,Oe=Et,Me=jt;if(xe!==void 0&&T instanceof xe||we!==void 0&&T instanceof we||Ie!==void 0&&T instanceof Ie)return T;if(T.curve!==void 0&&T.xy!==void 0&&T.d===void 0)return new we({pub:T.xy,curve:T.curve});if(T.curve!==void 0&&T.d!==void 0)return new we({prv:T.d,curve:T.curve});if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new xe).setPublic(T.n,T.e),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.co!==void 0&&T.qi===void 0)return(Vt=new xe).setPrivateEx(T.n,T.e,T.d,T.p,T.q,T.dp,T.dq,T.co),Vt;if(T.kty===void 0&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p===void 0)return(Vt=new xe).setPrivate(T.n,T.e,T.d),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x===void 0)return(Vt=new Ie).setPublic(T.p,T.q,T.g,T.y),Vt;if(T.p!==void 0&&T.q!==void 0&&T.g!==void 0&&T.y!==void 0&&T.x!==void 0)return(Vt=new Ie).setPrivate(T.p,T.q,T.g,T.y,T.x),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d===void 0)return(Vt=new xe).setPublic(hn(T.n),hn(T.e)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0&&T.p!==void 0&&T.q!==void 0&&T.dp!==void 0&&T.dq!==void 0&&T.qi!==void 0)return(Vt=new xe).setPrivateEx(hn(T.n),hn(T.e),hn(T.d),hn(T.p),hn(T.q),hn(T.dp),hn(T.dq),hn(T.qi)),Vt;if(T.kty==="RSA"&&T.n!==void 0&&T.e!==void 0&&T.d!==void 0)return(Vt=new xe).setPrivate(hn(T.n),hn(T.e),hn(T.d)),Vt;if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d===void 0){var $e=(Ft=new we({curve:T.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(T.x)).slice(-$e)+("0000000000"+hn(T.y)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft}if(T.kty==="EC"&&T.crv!==void 0&&T.x!==void 0&&T.y!==void 0&&T.d!==void 0){$e=(Ft=new we({curve:T.crv})).ecparams.keylen/4,ze="04"+("0000000000"+hn(T.x)).slice(-$e)+("0000000000"+hn(T.y)).slice(-$e);var Ye=("0000000000"+hn(T.d)).slice(-$e);return Ft.setPublicKeyHex(ze),Ft.setPrivateKeyHex(Ye),Ft}if(A==="pkcs5prv"){var ot,dt=T,ut=ke;if((ot=N(dt,0)).length===9)(Vt=new xe).readPKCS5PrvKeyHex(dt);else if(ot.length===6)(Vt=new Ie).readPKCS5PrvKeyHex(dt);else{if(!(ot.length>2&&dt.substr(ot[1],2)==="04"))throw new Error("unsupported PKCS#1/5 hexadecimal key");(Vt=new we).readPKCS5PrvKeyHex(dt)}return Vt}if(A==="pkcs8prv")return Vt=Me.getKeyFromPlainPrivatePKCS8Hex(T);if(A==="pkcs8pub")return Me._getKeyFromPublicPKCS8Hex(T);if(A==="x509pub")return Zt.getPublicKeyFromCertHex(T);if(T.indexOf("-END CERTIFICATE-",0)!=-1||T.indexOf("-END X509 CERTIFICATE-",0)!=-1||T.indexOf("-END TRUSTED CERTIFICATE-",0)!=-1)return Zt.getPublicKeyFromCertPEM(T);if(T.indexOf("-END PUBLIC KEY-")!=-1){var be=Et(T,"PUBLIC KEY");return Me._getKeyFromPublicPKCS8Hex(be)}if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var De=Oe(T,"RSA PRIVATE KEY");return Me.getKey(De,null,"pkcs5prv")}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1){var Be=J(Bn=Oe(T,"DSA PRIVATE KEY"),0,[1],"02"),Ke=J(Bn,0,[2],"02"),lt=J(Bn,0,[3],"02"),mt=J(Bn,0,[4],"02"),$t=J(Bn,0,[5],"02");return(Vt=new Ie).setPrivate(new U(Be,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")==-1)return De=Oe(T,"EC PRIVATE KEY"),Me.getKey(De,null,"pkcs5prv");if(T.indexOf("-END PRIVATE KEY-")!=-1)return Me.getKeyFromPlainPrivatePKCS8PEM(T);if(T.indexOf("-END RSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Tt=Me.getDecryptedKeyHex(T,C),gn=new Se;return gn.readPKCS5PrvKeyHex(Tt),gn}if(T.indexOf("-END EC PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Ft,Vt=J(Bn=Me.getDecryptedKeyHex(T,C),0,[1],"04"),zn=J(Bn,0,[2,0],"06"),Nn=J(Bn,0,[3,0],"03").substr(2);if(G.crypto.OID.oidhex2name[zn]===void 0)throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+zn);return(Ft=new we({curve:G.crypto.OID.oidhex2name[zn]})).setPublicKeyHex(Nn),Ft.setPrivateKeyHex(Vt),Ft.isPublic=!1,Ft}if(T.indexOf("-END DSA PRIVATE KEY-")!=-1&&T.indexOf("4,ENCRYPTED")!=-1){var Bn;return Be=J(Bn=Me.getDecryptedKeyHex(T,C),0,[1],"02"),Ke=J(Bn,0,[2],"02"),lt=J(Bn,0,[3],"02"),mt=J(Bn,0,[4],"02"),$t=J(Bn,0,[5],"02"),(Vt=new Ie).setPrivate(new U(Be,16),new U(Ke,16),new U(lt,16),new U(mt,16),new U($t,16)),Vt}if(T.indexOf("-END ENCRYPTED PRIVATE KEY-")!=-1)return Me.getKeyFromEncryptedPKCS8PEM(T,C);throw new Error("not supported argument")},jt.generateKeypair=function(T,C){if(T=="RSA"){var A=C;(we=new Se).generate(A,"10001"),we.isPrivate=!0,we.isPublic=!0;var N=new Se,J=we.n.toString(16),le=we.e.toString(16);return N.setPublic(J,le),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}if(T=="EC"){var we,Ie,xe=C,Oe=new G.crypto.ECDSA({curve:xe}).generateKeyPairHex();return(we=new G.crypto.ECDSA({curve:xe})).setPublicKeyHex(Oe.ecpubhex),we.setPrivateKeyHex(Oe.ecprvhex),we.isPrivate=!0,we.isPublic=!1,(N=new G.crypto.ECDSA({curve:xe})).setPublicKeyHex(Oe.ecpubhex),N.isPrivate=!1,N.isPublic=!0,(Ie={}).prvKeyObj=we,Ie.pubKeyObj=N,Ie}throw new Error("unknown algorithm: "+T)},jt.getPEM=function(T,C,A,N,J,le){var we=G,Ie=we.asn1,xe=Ie.DERObjectIdentifier,Oe=Ie.DERInteger,Me=Ie.ASN1Util.newObject,$e=Ie.x509.SubjectPublicKeyInfo,ze=we.crypto,Ye=ze.DSA,ot=ze.ECDSA,dt=Se;function ut(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.n}},{int:Ft.e},{int:{bigint:Ft.d}},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.dmp1}},{int:{bigint:Ft.dmq1}},{int:{bigint:Ft.coeff}}]})}function be(Ft){return Me({seq:[{int:1},{octstr:{hex:Ft.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ft.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ft.pubKeyHex}}]}]})}function De(Ft){return Me({seq:[{int:0},{int:{bigint:Ft.p}},{int:{bigint:Ft.q}},{int:{bigint:Ft.g}},{int:{bigint:Ft.y}},{int:{bigint:Ft.x}}]})}if((dt!==void 0&&T instanceof dt||Ye!==void 0&&T instanceof Ye||ot!==void 0&&T instanceof ot)&&T.isPublic==1&&(C===void 0||C=="PKCS8PUB"))return bt(mt=new $e(T).getEncodedHex(),"PUBLIC KEY");if(C=="PKCS1PRV"&&dt!==void 0&&T instanceof dt&&(A===void 0||A==null)&&T.isPrivate==1)return bt(mt=ut(T).getEncodedHex(),"RSA PRIVATE KEY");if(C=="PKCS1PRV"&&ot!==void 0&&T instanceof ot&&(A===void 0||A==null)&&T.isPrivate==1){var Be=new xe({name:T.curveName}).getEncodedHex(),Ke=be(T).getEncodedHex(),lt="";return lt+=bt(Be,"EC PARAMETERS"),lt+=bt(Ke,"EC PRIVATE KEY")}if(C=="PKCS1PRV"&&Ye!==void 0&&T instanceof Ye&&(A===void 0||A==null)&&T.isPrivate==1)return bt(mt=De(T).getEncodedHex(),"DSA PRIVATE KEY");if(C=="PKCS5PRV"&&dt!==void 0&&T instanceof dt&&A!==void 0&&A!=null&&T.isPrivate==1){var mt=ut(T).getEncodedHex();return N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",mt,A,N,le)}if(C=="PKCS5PRV"&&ot!==void 0&&T instanceof ot&&A!==void 0&&A!=null&&T.isPrivate==1)return mt=be(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",mt,A,N,le);if(C=="PKCS5PRV"&&Ye!==void 0&&T instanceof Ye&&A!==void 0&&A!=null&&T.isPrivate==1)return mt=De(T).getEncodedHex(),N===void 0&&(N="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",mt,A,N,le);var $t=function(Vt,zn){var Nn=Tt(Vt,zn);return new Me({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Nn.pbkdf2Salt}},{int:Nn.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Nn.encryptionSchemeIV}}]}]}]},{octstr:{hex:Nn.ciphertext}}]}).getEncodedHex()},Tt=function(Vt,zn){var Nn=P.lib.WordArray.random(8),Bn=P.lib.WordArray.random(8),Qt=P.PBKDF2(zn,Nn,{keySize:6,iterations:100}),Gn=P.enc.Hex.parse(Vt),pn=P.TripleDES.encrypt(Gn,Qt,{iv:Bn})+"",Xn={};return Xn.ciphertext=pn,Xn.pbkdf2Salt=P.enc.Hex.stringify(Nn),Xn.pbkdf2Iter=100,Xn.encryptionSchemeAlg="DES-EDE3-CBC",Xn.encryptionSchemeIV=P.enc.Hex.stringify(Bn),Xn};if(C=="PKCS8PRV"&&dt!=null&&T instanceof dt&&T.isPrivate==1){var gn=ut(T).getEncodedHex();return mt=Me({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:gn}}]}).getEncodedHex(),A===void 0||A==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,A),"ENCRYPTED PRIVATE KEY")}if(C=="PKCS8PRV"&&ot!==void 0&&T instanceof ot&&T.isPrivate==1)return gn=new Me({seq:[{int:1},{octstr:{hex:T.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+T.pubKeyHex}}]}]}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:T.curveName}}]},{octstr:{hex:gn}}]}).getEncodedHex(),A===void 0||A==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,A),"ENCRYPTED PRIVATE KEY");if(C=="PKCS8PRV"&&Ye!==void 0&&T instanceof Ye&&T.isPrivate==1)return gn=new Oe({bigint:T.x}).getEncodedHex(),mt=Me({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:T.p}},{int:{bigint:T.q}},{int:{bigint:T.g}}]}]},{octstr:{hex:gn}}]}).getEncodedHex(),A===void 0||A==null?bt(mt,"PRIVATE KEY"):bt(Ke=$t(mt,A),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},jt.getKeyFromCSRPEM=function(T){var C=Et(T,"CERTIFICATE REQUEST");return jt.getKeyFromCSRHex(C)},jt.getKeyFromCSRHex=function(T){var C=jt.parseCSRHex(T);return jt.getKey(C.p8pubkeyhex,null,"pkcs8pub")},jt.parseCSRHex=function(T){var C=ke,A=C.getChildIdx,N=C.getTLV,J={},le=T;if(le.substr(0,2)!="30")throw new Error("malformed CSR(code:001)");var we=A(le,0);if(we.length<1)throw new Error("malformed CSR(code:002)");if(le.substr(we[0],2)!="30")throw new Error("malformed CSR(code:003)");var Ie=A(le,we[0]);if(Ie.length<3)throw new Error("malformed CSR(code:004)");return J.p8pubkeyhex=N(le,Ie[2]),J},jt.getKeyID=function(T){var C=jt,A=ke;typeof T=="string"&&T.indexOf("BEGIN ")!=-1&&(T=C.getKey(T));var N=Et(C.getPEM(T)),J=A.getIdxbyList(N,0,[1]),le=A.getV(N,J).substring(2);return G.crypto.Util.hashHex(le,"sha1")},jt.getJWKFromKey=function(T){var C={};if(T instanceof Se&&T.isPrivate)return C.kty="RSA",C.n=dn(T.n.toString(16)),C.e=dn(T.e.toString(16)),C.d=dn(T.d.toString(16)),C.p=dn(T.p.toString(16)),C.q=dn(T.q.toString(16)),C.dp=dn(T.dmp1.toString(16)),C.dq=dn(T.dmq1.toString(16)),C.qi=dn(T.coeff.toString(16)),C;if(T instanceof Se&&T.isPublic)return C.kty="RSA",C.n=dn(T.n.toString(16)),C.e=dn(T.e.toString(16)),C;if(T instanceof G.crypto.ECDSA&&T.isPrivate){if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);var A=T.getPublicKeyXYHex();return C.kty="EC",C.crv=N,C.x=dn(A.x),C.y=dn(A.y),C.d=dn(T.prvKeyHex),C}if(T instanceof G.crypto.ECDSA&&T.isPublic){var N;if((N=T.getShortNISTPCurveName())!=="P-256"&&N!=="P-384")throw new Error("unsupported curve name for JWT: "+N);return A=T.getPublicKeyXYHex(),C.kty="EC",C.crv=N,C.x=dn(A.x),C.y=dn(A.y),C}throw new Error("not supported key object")},Se.getPosArrayOfChildrenFromHex=function(T){return ke.getChildIdx(T,0)},Se.getHexValueArrayOfChildrenFromHex=function(T){var C,A=ke.getV,N=A(T,(C=Se.getPosArrayOfChildrenFromHex(T))[0]),J=A(T,C[1]),le=A(T,C[2]),we=A(T,C[3]),Ie=A(T,C[4]),xe=A(T,C[5]),Oe=A(T,C[6]),Me=A(T,C[7]),$e=A(T,C[8]);return(C=new Array).push(N,J,le,we,Ie,xe,Oe,Me,$e),C},Se.prototype.readPrivateKeyFromPEMString=function(T){var C=Et(T),A=Se.getHexValueArrayOfChildrenFromHex(C);this.setPrivateEx(A[1],A[2],A[3],A[4],A[5],A[6],A[7],A[8])},Se.prototype.readPKCS5PrvKeyHex=function(T){var C=Se.getHexValueArrayOfChildrenFromHex(T);this.setPrivateEx(C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8])},Se.prototype.readPKCS8PrvKeyHex=function(T){var C,A,N,J,le,we,Ie,xe,Oe=ke,Me=Oe.getVbyListEx;if(Oe.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");try{C=Me(T,0,[2,0,1],"02"),A=Me(T,0,[2,0,2],"02"),N=Me(T,0,[2,0,3],"02"),J=Me(T,0,[2,0,4],"02"),le=Me(T,0,[2,0,5],"02"),we=Me(T,0,[2,0,6],"02"),Ie=Me(T,0,[2,0,7],"02"),xe=Me(T,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(C,A,N,J,le,we,Ie,xe)},Se.prototype.readPKCS5PubKeyHex=function(T){var C=ke,A=C.getV;if(C.isASN1HEX(T)===!1)throw new Error("keyHex is not ASN.1 hex string");var N=C.getChildIdx(T,0);if(N.length!==2||T.substr(N[0],2)!=="02"||T.substr(N[1],2)!=="02")throw new Error("wrong hex for PKCS#5 public key");var J=A(T,N[0]),le=A(T,N[1]);this.setPublic(J,le)},Se.prototype.readPKCS8PubKeyHex=function(T){var C=ke;if(C.isASN1HEX(T)===!1)throw new Error("not ASN.1 hex string");if(C.getTLVbyListEx(T,0,[0,0])!=="06092a864886f70d010101")throw new Error("not PKCS8 RSA public key");var A=C.getTLVbyListEx(T,0,[1,0]);this.readPKCS5PubKeyHex(A)},Se.prototype.readCertPubKeyHex=function(T,C){var A,N;(A=new Zt).readCertHex(T),N=A.getPublicKeyHex(),this.readPKCS8PubKeyHex(N)};function tn(T,C){for(var A="",N=C/4-T.length,J=0;J<N;J++)A+="0";return A+T}function On(T,C,A){for(var N="",J=0;N.length<C;)N+=ln(A(Mn(T+String.fromCharCode.apply(String,[(4278190080&J)>>24,(16711680&J)>>16,(65280&J)>>8,255&J])))),J+=1;return N}function Wt(T){for(var C in G.crypto.Util.DIGESTINFOHEAD){var A=G.crypto.Util.DIGESTINFOHEAD[C],N=A.length;if(T.substring(0,N)==A)return[C,T.substring(N)]}return[]}function Zt(T){var C,A=ke,N=A.getChildIdx,J=A.getV,le=A.getTLV,we=A.getVbyList,Ie=A.getVbyListEx,xe=A.getTLVbyList,Oe=A.getTLVbyListEx,Me=A.getIdxbyList,$e=A.getIdxbyListEx,ze=A.getVidx,Ye=A.getInt,ot=A.oidname,dt=A.hextooidstr,ut=Et;try{C=G.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(this.hex===null||this.version!==0)return this.version;var be=xe(this.hex,0,[0,0]);if(be.substr(0,2)=="a0"){var De=xe(be,0,[0]),Be=Ye(De,0);if(Be<0||2<Be)throw new Error("malformed version field");return this.version=Be+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return Ie(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var be=Oe(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(be)},this.getAlgorithmIdentifierName=function(be){for(var De in C)if(be===C[De])return De;return ot(Ie(be,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return xe(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return xe(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var be=we(this.hex,0,[0,4+this.foffset,0]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getNotAfter=function(){var be=we(this.hex,0,[0,4+this.foffset,1]);return be=be.replace(/(..)/g,"%$1"),be=decodeURIComponent(be)},this.getPublicKeyHex=function(){return A.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return Me(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var be=this.getPublicKeyIdx();return Me(this.hex,be,[1,0],"30")},this.getPublicKey=function(){return jt.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var be=xe(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(be)},this.getSignatureValueHex=function(){return we(this.hex,0,[2],"03",!0)},this.verifySignature=function(be){var De=this.getSignatureAlgorithmField(),Be=this.getSignatureValueHex(),Ke=xe(this.hex,0,[0],"30"),lt=new G.crypto.Signature({alg:De});return lt.init(be),lt.updateHex(Ke),lt.verify(Be)},this.parseExt=function(be){var De,Be,Ke;if(be===void 0){if(Ke=this.hex,this.version!==3)return-1;De=Me(Ke,0,[0,7,0],"30"),Be=N(Ke,De)}else{Ke=Et(be);var lt=Me(Ke,0,[0,3,0,0],"06");if(J(Ke,lt)!="2a864886f70d01090e")return void(this.aExtInfo=new Array);De=Me(Ke,0,[0,3,0,1,0],"30"),Be=N(Ke,De),this.hex=Ke}this.aExtInfo=new Array;for(var mt=0;mt<Be.length;mt++){var $t={critical:!1},Tt=0;N(Ke,Be[mt]).length===3&&($t.critical=!0,Tt=1),$t.oid=A.hextooidstr(we(Ke,Be[mt],[0],"06"));var gn=Me(Ke,Be[mt],[1+Tt]);$t.vidx=ze(Ke,gn),this.aExtInfo.push($t)}},this.getExtInfo=function(be){var De=this.aExtInfo,Be=be;if(be.match(/^[0-9.]+$/)||(Be=G.asn1.x509.OID.name2oid(be)),Be!==""){for(var Ke=0;Ke<De.length;Ke++)if(De[Ke].oid===Be)return De[Ke]}},this.getExtBasicConstraints=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("basicConstraints");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"basicConstraints"};if(De&&(Ke.critical=!0),be==="3000")return Ke;if(be==="30030101ff")return Ke.cA=!0,Ke;if(be.substr(0,12)==="30060101ff02"){var lt=J(be,10),mt=parseInt(lt,16);return Ke.cA=!0,Ke.pathLen=mt,Ke}throw new Error("hExtV parse error: "+be)},this.getExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("keyUsage");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"keyUsage"};return De&&(Ke.critical=!0),Ke.names=this.getExtKeyUsageString(be).split(","),Ke},this.getExtKeyUsageBin=function(be){if(be===void 0){var De=this.getExtInfo("keyUsage");if(De===void 0)return"";be=le(this.hex,De.vidx)}if(be.length!=8&&be.length!=10)throw new Error("malformed key usage value: "+be);var Be="000000000000000"+parseInt(be.substr(6),16).toString(2);return be.length==8&&(Be=Be.slice(-8)),be.length==10&&(Be=Be.slice(-16)),(Be=Be.replace(/0+$/,""))==""&&(Be="0"),Be},this.getExtKeyUsageString=function(be){for(var De=this.getExtKeyUsageBin(be),Be=new Array,Ke=0;Ke<De.length;Ke++)De.substr(Ke,1)=="1"&&Be.push(Zt.KEYUSAGE_NAME[Ke]);return Be.join(",")},this.getExtSubjectKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("subjectKeyIdentifier");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"subjectKeyIdentifier"};De&&(Ke.critical=!0);var lt=J(be,0);return Ke.kid={hex:lt},Ke},this.getExtAuthorityKeyIdentifier=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("authorityKeyIdentifier");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"authorityKeyIdentifier"};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=be.substr(lt[mt],2);if($t==="80"&&(Ke.kid={hex:J(be,lt[mt])}),$t==="a1"){var Tt=le(be,lt[mt]),gn=this.getGeneralNames(Tt);Ke.issuer=gn[0].dn}$t==="82"&&(Ke.sn={hex:J(be,lt[mt])})}return Ke},this.getExtExtKeyUsage=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("extKeyUsage");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"extKeyUsage",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++)Ke.array.push(ot(J(be,lt[mt])));return Ke},this.getExtExtKeyUsageName=function(){var be=this.getExtInfo("extKeyUsage");if(be===void 0)return be;var De=new Array,Be=le(this.hex,be.vidx);if(Be==="")return De;for(var Ke=N(Be,0),lt=0;lt<Ke.length;lt++)De.push(ot(J(Be,Ke[lt])));return De},this.getExtSubjectAltName=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("subjectAltName");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"subjectAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getExtIssuerAltName=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("issuerAltName");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"issuerAltName",array:[]};return De&&(Ke.critical=!0),Ke.array=this.getGeneralNames(be),Ke},this.getGeneralNames=function(be){for(var De=N(be,0),Be=[],Ke=0;Ke<De.length;Ke++){var lt=this.getGeneralName(le(be,De[Ke]));lt!==void 0&&Be.push(lt)}return Be},this.getGeneralName=function(be){var De=be.substr(0,2),Be=J(be,0),Ke=ln(Be);return De=="81"?{rfc822:Ke}:De=="82"?{dns:Ke}:De=="86"?{uri:Ke}:De=="87"?{ip:ft(Be)}:De=="a4"?{dn:this.getX500Name(Be)}:void 0},this.getExtSubjectAltName2=function(){var be,De,Be,Ke=this.getExtInfo("subjectAltName");if(Ke===void 0)return Ke;for(var lt=new Array,mt=le(this.hex,Ke.vidx),$t=N(mt,0),Tt=0;Tt<$t.length;Tt++)Be=mt.substr($t[Tt],2),be=J(mt,$t[Tt]),Be==="81"&&(De=un(be),lt.push(["MAIL",De])),Be==="82"&&(De=un(be),lt.push(["DNS",De])),Be==="84"&&(De=Zt.hex2dn(be,0),lt.push(["DN",De])),Be==="86"&&(De=un(be),lt.push(["URI",De])),Be==="87"&&(De=ft(be),lt.push(["IP",De]));return lt},this.getExtCRLDistributionPoints=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("cRLDistributionPoints");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"cRLDistributionPoints",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]);Ke.array.push(this.getDistributionPoint($t))}return Ke},this.getDistributionPoint=function(be){for(var De={},Be=N(be,0),Ke=0;Ke<Be.length;Ke++){var lt=be.substr(Be[Ke],2),mt=le(be,Be[Ke]);lt=="a0"&&(De.dpname=this.getDistributionPointName(mt))}return De},this.getDistributionPointName=function(be){for(var De={},Be=N(be,0),Ke=0;Ke<Be.length;Ke++){var lt=be.substr(Be[Ke],2),mt=le(be,Be[Ke]);lt=="a0"&&(De.full=this.getGeneralNames(mt))}return De},this.getExtCRLDistributionPointsURI=function(){var be=this.getExtInfo("cRLDistributionPoints");if(be===void 0)return be;for(var De=new Array,Be=N(this.hex,be.vidx),Ke=0;Ke<Be.length;Ke++)try{var lt=un(we(this.hex,Be[Ke],[0,0,0],"86"));De.push(lt)}catch{}return De},this.getExtAIAInfo=function(){var be=this.getExtInfo("authorityInfoAccess");if(be===void 0)return be;for(var De={ocsp:[],caissuer:[]},Be=N(this.hex,be.vidx),Ke=0;Ke<Be.length;Ke++){var lt=we(this.hex,Be[Ke],[0],"06"),mt=we(this.hex,Be[Ke],[1],"86");lt==="2b06010505073001"&&De.ocsp.push(un(mt)),lt==="2b06010505073002"&&De.caissuer.push(un(mt))}return De},this.getExtAuthorityInfoAccess=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("authorityInfoAccess");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"authorityInfoAccess",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=Ie(be,lt[mt],[0],"06"),Tt=un(we(be,lt[mt],[1],"86"));if($t=="2b06010505073001")Ke.array.push({ocsp:Tt});else{if($t!="2b06010505073002")throw new Error("unknown method: "+$t);Ke.array.push({caissuer:Tt})}}return Ke},this.getExtCertificatePolicies=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("certificatePolicies");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"certificatePolicies",array:[]};De&&(Ke.critical=!0);for(var lt=N(be,0),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]),Tt=this.getPolicyInformation($t);Ke.array.push(Tt)}return Ke},this.getPolicyInformation=function(be){var De={},Be=we(be,0,[0],"06");De.policyoid=ot(Be);var Ke=$e(be,0,[1],"30");if(Ke!=-1){De.array=[];for(var lt=N(be,Ke),mt=0;mt<lt.length;mt++){var $t=le(be,lt[mt]),Tt=this.getPolicyQualifierInfo($t);De.array.push(Tt)}}return De},this.getPolicyQualifierInfo=function(be){var De={},Be=we(be,0,[0],"06");if(Be==="2b06010505070201"){var Ke=Ie(be,0,[1],"16");De.cps=ln(Ke)}else if(Be==="2b06010505070202"){var lt=xe(be,0,[1],"30");De.unotice=this.getUserNotice(lt)}return De},this.getUserNotice=function(be){for(var De={},Be=N(be,0),Ke=0;Ke<Be.length;Ke++){var lt=le(be,Be[Ke]);lt.substr(0,2)!="30"&&(De.exptext=this.getDisplayText(lt))}return De},this.getDisplayText=function(be){var De={};return De.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[be.substr(0,2)],De.str=ln(J(be,0)),De},this.getExtCRLNumber=function(be,De){var Be={extname:"cRLNumber"};if(De&&(Be.critical=!0),be.substr(0,2)=="02")return Be.num={hex:J(be,0)},Be;throw new Error("hExtV parse error: "+be)},this.getExtCRLReason=function(be,De){var Be={extname:"cRLReason"};if(De&&(Be.critical=!0),be.substr(0,2)=="0a")return Be.code=parseInt(J(be,0),16),Be;throw new Error("hExtV parse error: "+be)},this.getExtOcspNonce=function(be,De){var Be={extname:"ocspNonce"};De&&(Be.critical=!0);var Ke=J(be,0);return Be.hex=Ke,Be},this.getExtOcspNoCheck=function(be,De){var Be={extname:"ocspNoCheck"};return De&&(Be.critical=!0),Be},this.getExtAdobeTimeStamp=function(be,De){if(be===void 0&&De===void 0){var Be=this.getExtInfo("adobeTimeStamp");if(Be===void 0)return;be=le(this.hex,Be.vidx),De=Be.critical}var Ke={extname:"adobeTimeStamp"};De&&(Ke.critical=!0);var lt=N(be,0);if(lt.length>1){var mt=le(be,lt[1]),$t=this.getGeneralName(mt);$t.uri!=null&&(Ke.uri=$t.uri)}if(lt.length>2){var Tt=le(be,lt[2]);Tt=="0101ff"&&(Ke.reqauth=!0),Tt=="010100"&&(Ke.reqauth=!1)}return Ke},this.getX500NameRule=function(be){for(var De=null,Be=[],Ke=0;Ke<be.length;Ke++)for(var lt=be[Ke],mt=0;mt<lt.length;mt++)Be.push(lt[mt]);for(Ke=0;Ke<Be.length;Ke++){var $t=Be[Ke],Tt=$t.ds,gn=$t.value,Ft=$t.type;if(Tt!="prn"&&Tt!="utf8"&&Tt!="ia5")return"mixed";if(Tt=="ia5"){if(Ft!="CN")return"mixed";if(G.lang.String.isMail(gn))continue;return"mixed"}if(Ft=="C"){if(Tt=="prn")continue;return"mixed"}if(De==null)De=Tt;else if(De!==Tt)return"mixed"}return De??"prn"},this.getX500Name=function(be){var De=this.getX500NameArray(be);return{array:De,str:this.dnarraytostr(De)}},this.getX500NameArray=function(be){for(var De=[],Be=N(be,0),Ke=0;Ke<Be.length;Ke++)De.push(this.getRDN(le(be,Be[Ke])));return De},this.getRDN=function(be){for(var De=[],Be=N(be,0),Ke=0;Ke<Be.length;Ke++)De.push(this.getAttrTypeAndValue(le(be,Be[Ke])));return De},this.getAttrTypeAndValue=function(be){var De={type:null,value:null,ds:null},Be=N(be,0),Ke=we(be,Be[0],[],"06"),lt=we(be,Be[1],[]),mt=G.asn1.ASN1Util.oidHexToInt(Ke);return De.type=G.asn1.x509.OID.oid2atype(mt),De.ds=this.HEX2STAG[be.substr(Be[1],2)],De.ds!="bmp"?De.value=un(lt):De.value=it(lt),De},this.readCertPEM=function(be){this.readCertHex(ut(be))},this.readCertHex=function(be){this.hex=be,this.getVersion();try{Me(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var be={};return be.version=this.getVersion(),be.serial={hex:this.getSerialNumberHex()},be.sigalg=this.getSignatureAlgorithmField(),be.issuer=this.getIssuer(),be.notbefore=this.getNotBefore(),be.notafter=this.getNotAfter(),be.subject=this.getSubject(),be.sbjpubkey=bt(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(be.ext=this.getExtParamArray()),be.sighex=this.getSignatureValueHex(),be},this.getExtParamArray=function(be){be==null&&$e(this.hex,0,[0,"[3]"])!=-1&&(be=Oe(this.hex,0,[0,"[3]",0],"30"));for(var De=[],Be=N(be,0),Ke=0;Ke<Be.length;Ke++){var lt=le(be,Be[Ke]),mt=this.getExtParam(lt);mt!=null&&De.push(mt)}return De},this.getExtParam=function(be){var De=N(be,0).length;if(De!=2&&De!=3)throw new Error("wrong number elements in Extension: "+De+" "+be);var Be=dt(we(be,0,[0],"06")),Ke=!1;De==3&&xe(be,0,[1])=="0101ff"&&(Ke=!0);var lt=xe(be,0,[De-1,0]),mt=void 0;if(Be=="2.5.29.14"?mt=this.getExtSubjectKeyIdentifier(lt,Ke):Be=="2.5.29.15"?mt=this.getExtKeyUsage(lt,Ke):Be=="2.5.29.17"?mt=this.getExtSubjectAltName(lt,Ke):Be=="2.5.29.18"?mt=this.getExtIssuerAltName(lt,Ke):Be=="2.5.29.19"?mt=this.getExtBasicConstraints(lt,Ke):Be=="2.5.29.31"?mt=this.getExtCRLDistributionPoints(lt,Ke):Be=="2.5.29.32"?mt=this.getExtCertificatePolicies(lt,Ke):Be=="2.5.29.35"?mt=this.getExtAuthorityKeyIdentifier(lt,Ke):Be=="2.5.29.37"?mt=this.getExtExtKeyUsage(lt,Ke):Be=="1.3.6.1.5.5.7.1.1"?mt=this.getExtAuthorityInfoAccess(lt,Ke):Be=="2.5.29.20"?mt=this.getExtCRLNumber(lt,Ke):Be=="2.5.29.21"?mt=this.getExtCRLReason(lt,Ke):Be=="1.3.6.1.5.5.7.48.1.2"?mt=this.getExtOcspNonce(lt,Ke):Be=="1.3.6.1.5.5.7.48.1.5"?mt=this.getExtOcspNoCheck(lt,Ke):Be=="1.2.840.113583.1.1.9.1"&&(mt=this.getExtAdobeTimeStamp(lt,Ke)),mt!=null)return mt;var $t={extname:Be,extn:lt};return Ke&&($t.critical=!0),$t},this.findExt=function(be,De){for(var Be=0;Be<be.length;Be++)if(be[Be].extname==De)return be[Be];return null},this.updateExtCDPFullURI=function(be,De){var Be=this.findExt(be,"cRLDistributionPoints");if(Be!=null&&Be.array!=null){for(var Ke=Be.array,lt=0;lt<Ke.length;lt++)if(Ke[lt].dpname!=null&&Ke[lt].dpname.full!=null)for(var mt=Ke[lt].dpname.full,$t=0;$t<mt.length;$t++){var Tt=mt[lt];Tt.uri!=null&&(Tt.uri=De)}}},this.updateExtAIAOCSP=function(be,De){var Be=this.findExt(be,"authorityInfoAccess");if(Be!=null&&Be.array!=null)for(var Ke=Be.array,lt=0;lt<Ke.length;lt++)Ke[lt].ocsp!=null&&(Ke[lt].ocsp=De)},this.updateExtAIACAIssuer=function(be,De){var Be=this.findExt(be,"authorityInfoAccess");if(Be!=null&&Be.array!=null)for(var Ke=Be.array,lt=0;lt<Ke.length;lt++)Ke[lt].caissuer!=null&&(Ke[lt].caissuer=De)},this.dnarraytostr=function(be){return"/"+be.map(function(De){return function(Ke){return Ke.map(function(lt){return function($t){return $t.type+"="+$t.value}(lt).replace(/\+/,"\\+")}).join("+")}(De).replace(/\//,"\\/")}).join("/")},this.getInfo=function(){var be,De,Be,Ke=function(Qt){return JSON.stringify(Qt.array).replace(/[\[\]\{\}\"]/g,"")},lt=function(Qt){for(var Gn="",pn=Qt.array,Xn=0;Xn<pn.length;Xn++){var mr=pn[Xn];if(Gn+="    policy oid: "+mr.policyoid+`
`,mr.array!==void 0)for(var yr=0;yr<mr.array.length;yr++){var lr=mr.array[yr];lr.cps!==void 0&&(Gn+="    cps: "+lr.cps+`
`)}}return Gn},mt=function(Qt){for(var Gn="",pn=Qt.array,Xn=0;Xn<pn.length;Xn++){var mr=pn[Xn];try{mr.dpname.full[0].uri!==void 0&&(Gn+="    "+mr.dpname.full[0].uri+`
`)}catch{}try{mr.dname.full[0].dn.hex!==void 0&&(Gn+="    "+Zt.hex2dn(mr.dpname.full[0].dn.hex)+`
`)}catch{}}return Gn},$t=function(Qt){for(var Gn="",pn=Qt.array,Xn=0;Xn<pn.length;Xn++){var mr=pn[Xn];mr.caissuer!==void 0&&(Gn+="    caissuer: "+mr.caissuer+`
`),mr.ocsp!==void 0&&(Gn+="    ocsp: "+mr.ocsp+`
`)}return Gn};if(be=`Basic Fields
`,be+="  serial number: "+this.getSerialNumberHex()+`
`,be+="  signature algorithm: "+this.getSignatureAlgorithmField()+`
`,be+="  issuer: "+this.getIssuerString()+`
`,be+="  notBefore: "+this.getNotBefore()+`
`,be+="  notAfter: "+this.getNotAfter()+`
`,be+="  subject: "+this.getSubjectString()+`
`,be+=`  subject public key info: 
`,be+="    key algorithm: "+(De=this.getPublicKey()).type+`
`,De.type==="RSA"&&(be+="    n="+Gt(De.n.toString(16)).substr(0,16)+`...
`,be+="    e="+Gt(De.e.toString(16))+`
`),(Be=this.aExtInfo)!=null){be+=`X509v3 Extensions:
`;for(var Tt=0;Tt<Be.length;Tt++){var gn=Be[Tt],Ft=G.asn1.x509.OID.oid2name(gn.oid);Ft===""&&(Ft=gn.oid);var Vt="";if(gn.critical===!0&&(Vt="CRITICAL"),be+="  "+Ft+" "+Vt+`:
`,Ft==="basicConstraints"){var zn=this.getExtBasicConstraints();zn.cA===void 0?be+=`    {}
`:(be+="    cA=true",zn.pathLen!==void 0&&(be+=", pathLen="+zn.pathLen),be+=`
`)}else if(Ft==="keyUsage")be+="    "+this.getExtKeyUsageString()+`
`;else if(Ft==="subjectKeyIdentifier")be+="    "+this.getExtSubjectKeyIdentifier().kid.hex+`
`;else if(Ft==="authorityKeyIdentifier"){var Nn=this.getExtAuthorityKeyIdentifier();Nn.kid!==void 0&&(be+="    kid="+Nn.kid.hex+`
`)}else Ft==="extKeyUsage"?be+="    "+this.getExtExtKeyUsage().array.join(", ")+`
`:Ft==="subjectAltName"?be+="    "+Ke(this.getExtSubjectAltName())+`
`:Ft==="cRLDistributionPoints"?be+=mt(this.getExtCRLDistributionPoints()):Ft==="authorityInfoAccess"?be+=$t(this.getExtAuthorityInfoAccess()):Ft==="certificatePolicies"&&(be+=lt(this.getExtCertificatePolicies()))}}return be+="signature algorithm: "+this.getSignatureAlgorithmName()+`
`,be+="signature: "+this.getSignatureValueHex().substr(0,16)+`...
`},typeof T=="string"&&(T.indexOf("-----BEGIN")!=-1?this.readCertPEM(T):G.lang.String.isHex(T)&&this.readCertHex(T))}Se.prototype.sign=function(T,C){var A=function(J){return G.crypto.Util.hashString(J,C)}(T);return this.signWithMessageHash(A,C)},Se.prototype.signWithMessageHash=function(T,C){var A=gt(G.crypto.Util.getPaddedDigestInfoHex(T,C,this.n.bitLength()),16);return tn(this.doPrivate(A).toString(16),this.n.bitLength())},Se.prototype.signPSS=function(T,C,A){var N=function(le){return G.crypto.Util.hashHex(le,C)}(Mn(T));return A===void 0&&(A=-1),this.signWithMessageHashPSS(N,C,A)},Se.prototype.signWithMessageHashPSS=function(T,C,A){var N,J=ln(T),le=J.length,we=this.n.bitLength()-1,Ie=Math.ceil(we/8),xe=function(be){return G.crypto.Util.hashHex(be,C)};if(A===-1||A===void 0)A=le;else if(A===-2)A=Ie-le-2;else if(A<-2)throw new Error("invalid salt length");if(Ie<le+A+2)throw new Error("data too long");var Oe="";A>0&&(Oe=new Array(A),new nt().nextBytes(Oe),Oe=String.fromCharCode.apply(String,Oe));var Me=ln(xe(Mn("\0\0\0\0\0\0\0\0"+J+Oe))),$e=[];for(N=0;N<Ie-A-le-2;N+=1)$e[N]=0;var ze=String.fromCharCode.apply(String,$e)+""+Oe,Ye=On(Me,ze.length,xe),ot=[];for(N=0;N<ze.length;N+=1)ot[N]=ze.charCodeAt(N)^Ye.charCodeAt(N);var dt=65280>>8*Ie-we&255;for(ot[0]&=~dt,N=0;N<le;N++)ot.push(Me.charCodeAt(N));return ot.push(188),tn(this.doPrivate(new U(ot)).toString(16),this.n.bitLength())},Se.prototype.verify=function(T,C){if((C=C.toLowerCase()).match(/^[0-9a-f]+$/)==null)return!1;var A=gt(C,16),N=this.n.bitLength();if(A.bitLength()>N)return!1;var J=this.doPublic(A).toString(16);if(J.length+3!=N/4)return!1;var le=Wt(J.replace(/^1f+00/,""));if(le.length==0)return!1;var we=le[0];return le[1]==function(xe){return G.crypto.Util.hashString(xe,we)}(T)},Se.prototype.verifyWithMessageHash=function(T,C){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var A=gt(C,16);if(A.bitLength()>this.n.bitLength())return 0;var N=Wt(this.doPublic(A).toString(16).replace(/^1f+00/,""));return N.length==0?!1:(N[0],N[1]==T)},Se.prototype.verifyPSS=function(T,C,A,N){var J=function(we){return G.crypto.Util.hashHex(we,A)}(Mn(T));return N===void 0&&(N=-1),this.verifyWithMessageHashPSS(J,C,A,N)},Se.prototype.verifyWithMessageHashPSS=function(T,C,A,N){if(C.length!=Math.ceil(this.n.bitLength()/4))return!1;var J,le=new U(C,16),we=function(Be){return G.crypto.Util.hashHex(Be,A)},Ie=ln(T),xe=Ie.length,Oe=this.n.bitLength()-1,Me=Math.ceil(Oe/8);if(N===-1||N===void 0)N=xe;else if(N===-2)N=Me-xe-2;else if(N<-2)throw new Error("invalid salt length");if(Me<xe+N+2)throw new Error("data too long");var $e=this.doPublic(le).toByteArray();for(J=0;J<$e.length;J+=1)$e[J]&=255;for(;$e.length<Me;)$e.unshift(0);if($e[Me-1]!==188)throw new Error("encoded message does not end in 0xbc");var ze=($e=String.fromCharCode.apply(String,$e)).substr(0,Me-xe-1),Ye=$e.substr(ze.length,xe),ot=65280>>8*Me-Oe&255;if(ze.charCodeAt(0)&ot)throw new Error("bits beyond keysize not zero");var dt=On(Ye,ze.length,we),ut=[];for(J=0;J<ze.length;J+=1)ut[J]=ze.charCodeAt(J)^dt.charCodeAt(J);ut[0]&=~ot;var be=Me-xe-N-2;for(J=0;J<be;J+=1)if(ut[J]!==0)throw new Error("leftmost octets not zero");if(ut[be]!==1)throw new Error("0x01 marker not found");return Ye===ln(we(Mn("\0\0\0\0\0\0\0\0"+Ie+String.fromCharCode.apply(String,ut.slice(-N)))))},Se.SALT_LEN_HLEN=-1,Se.SALT_LEN_MAX=-2,Se.SALT_LEN_RECOVER=-2,Zt.hex2dn=function(T,C){C===void 0&&(C=0);var A=new Zt;return ke.getTLV(T,C),A.getX500Name(T).str},Zt.hex2rdn=function(T,C){if(C===void 0&&(C=0),T.substr(C,2)!=="31")throw new Error("malformed RDN");for(var A=new Array,N=ke.getChildIdx(T,C),J=0;J<N.length;J++)A.push(Zt.hex2attrTypeValue(T,N[J]));return(A=A.map(function(le){return le.replace("+","\\+")})).join("+")},Zt.hex2attrTypeValue=function(T,C){var A=ke,N=A.getV;if(C===void 0&&(C=0),T.substr(C,2)!=="30")throw new Error("malformed attribute type and value");var J=A.getChildIdx(T,C);J.length!==2||T.substr(J[0],2);var le=N(T,J[0]),we=G.asn1.ASN1Util.oidHexToInt(le);return G.asn1.x509.OID.oid2atype(we)+"="+ln(N(T,J[1]))},Zt.getPublicKeyFromCertHex=function(T){var C=new Zt;return C.readCertHex(T),C.getPublicKey()},Zt.getPublicKeyFromCertPEM=function(T){var C=new Zt;return C.readCertPEM(T),C.getPublicKey()},Zt.getPublicKeyInfoPropOfCertPEM=function(T){var C,A,N=ke.getVbyList,J={};return J.algparam=null,(C=new Zt).readCertPEM(T),A=C.getPublicKeyHex(),J.keyhex=N(A,0,[1],"03").substr(2),J.algoid=N(A,0,[0,0],"06"),J.algoid==="2a8648ce3d0201"&&(J.algparam=N(A,0,[0,1],"06")),J},Zt.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],G!==void 0&&G||(r.KJUR=G={}),G.jws!==void 0&&G.jws||(G.jws={}),G.jws.JWS=function(){var T=G.jws.JWS.isSafeJSONString;this.parseJWS=function(C,A){if(this.parsedJWS===void 0||!A&&this.parsedJWS.sigvalH===void 0){var N=C.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(N==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var J=N[1],le=N[2],we=N[3],Ie=J+"."+le;if(this.parsedJWS={},this.parsedJWS.headB64U=J,this.parsedJWS.payloadB64U=le,this.parsedJWS.sigvalB64U=we,this.parsedJWS.si=Ie,!A){var xe=hn(we),Oe=gt(xe,16);this.parsedJWS.sigvalH=xe,this.parsedJWS.sigvalBI=Oe}var Me=Je(J),$e=Je(le);if(this.parsedJWS.headS=Me,this.parsedJWS.payloadS=$e,!T(Me,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+Me}}},G.jws.JWS.sign=function(T,C,A,N,J){var le,we,Ie,xe=G,Oe=xe.jws.JWS,Me=Oe.readSafeJSONString,$e=Oe.isSafeJSONString,ze=xe.crypto,Ye=(ze.ECDSA,ze.Mac),ot=ze.Signature,dt=JSON;if(typeof C!="string"&&(C===void 0?"undefined":b(C))!="object")throw"spHeader must be JSON string or object: "+C;if((C===void 0?"undefined":b(C))=="object"&&(we=C,le=dt.stringify(we)),typeof C=="string"){if(!$e(le=C))throw"JWS Head is not safe JSON string: "+le;we=Me(le)}if(Ie=A,(A===void 0?"undefined":b(A))=="object"&&(Ie=dt.stringify(A)),T!=""&&T!=null||we.alg===void 0||(T=we.alg),T!=""&&T!=null&&we.alg===void 0&&(we.alg=T,le=dt.stringify(we)),T!==we.alg)throw"alg and sHeader.alg doesn't match: "+T+"!="+we.alg;var ut=null;if(Oe.jwsalg2sigalg[T]===void 0)throw"unsupported alg name: "+T;ut=Oe.jwsalg2sigalg[T];var be=je(le)+"."+je(Ie),De="";if(ut.substr(0,4)=="Hmac"){if(N===void 0)throw"mac key shall be specified for HS* alg";var Be=new Ye({alg:ut,prov:"cryptojs",pass:N});Be.updateString(be),De=Be.doFinal()}else if(ut.indexOf("withECDSA")!=-1){(lt=new ot({alg:ut})).init(N,J),lt.updateString(be);var Ke=lt.sign();De=G.crypto.ECDSA.asn1SigToConcatSig(Ke)}else{var lt;ut!="none"&&((lt=new ot({alg:ut})).init(N,J),lt.updateString(be),De=lt.sign())}return be+"."+dn(De)},G.jws.JWS.verify=function(T,C,A){var N,J=G,le=J.jws.JWS,we=le.readSafeJSONString,Ie=J.crypto,xe=Ie.ECDSA,Oe=Ie.Mac,Me=Ie.Signature;b(Se)!==void 0&&(N=Se);var $e=T.split(".");if($e.length!==3)return!1;var ze=$e[0]+"."+$e[1],Ye=hn($e[2]),ot=we(Je($e[0])),dt=null,ut=null;if(ot.alg===void 0)throw"algorithm not specified in header";if(ut=(dt=ot.alg).substr(0,2),A!=null&&Object.prototype.toString.call(A)==="[object Array]"&&A.length>0&&(":"+A.join(":")+":").indexOf(":"+dt+":")==-1)throw"algorithm '"+dt+"' not accepted in the list";if(dt!="none"&&C===null)throw"key shall be specified to verify.";if(typeof C=="string"&&C.indexOf("-----BEGIN ")!=-1&&(C=jt.getKey(C)),!(ut!="RS"&&ut!="PS"||C instanceof N))throw"key shall be a RSAKey obj for RS* and PS* algs";if(ut=="ES"&&!(C instanceof xe))throw"key shall be a ECDSA obj for ES* algs";var be=null;if(le.jwsalg2sigalg[ot.alg]===void 0)throw"unsupported alg name: "+dt;if((be=le.jwsalg2sigalg[dt])=="none")throw"not supported";if(be.substr(0,4)=="Hmac"){if(C===void 0)throw"hexadecimal key shall be specified for HMAC";var De=new Oe({alg:be,pass:C});return De.updateString(ze),Ye==De.doFinal()}if(be.indexOf("withECDSA")!=-1){var Be,Ke=null;try{Ke=xe.concatSigToASN1Sig(Ye)}catch{return!1}return(Be=new Me({alg:be})).init(C),Be.updateString(ze),Be.verify(Ke)}return(Be=new Me({alg:be})).init(C),Be.updateString(ze),Be.verify(Ye)},G.jws.JWS.parse=function(T){var C,A,N,J=T.split("."),le={};if(J.length!=2&&J.length!=3)throw"malformed sJWS: wrong number of '.' splitted elements";return C=J[0],A=J[1],J.length==3&&(N=J[2]),le.headerObj=G.jws.JWS.readSafeJSONString(Je(C)),le.payloadObj=G.jws.JWS.readSafeJSONString(Je(A)),le.headerPP=JSON.stringify(le.headerObj,null,"  "),le.payloadObj==null?le.payloadPP=Je(A):le.payloadPP=JSON.stringify(le.payloadObj,null,"  "),N!==void 0&&(le.sigHex=hn(N)),le},G.jws.JWS.verifyJWT=function(T,C,A){var N=G.jws,J=N.JWS,le=J.readSafeJSONString,we=J.inArray,Ie=J.includedArray,xe=T.split("."),Oe=xe[0],Me=xe[1],$e=(hn(xe[2]),le(Je(Oe))),ze=le(Je(Me));if($e.alg===void 0)return!1;if(A.alg===void 0)throw"acceptField.alg shall be specified";if(!we($e.alg,A.alg)||ze.iss!==void 0&&b(A.iss)==="object"&&!we(ze.iss,A.iss)||ze.sub!==void 0&&b(A.sub)==="object"&&!we(ze.sub,A.sub))return!1;if(ze.aud!==void 0&&b(A.aud)==="object"){if(typeof ze.aud=="string"){if(!we(ze.aud,A.aud))return!1}else if(b(ze.aud)=="object"&&!Ie(ze.aud,A.aud))return!1}var Ye=N.IntDate.getNow();return A.verifyAt!==void 0&&typeof A.verifyAt=="number"&&(Ye=A.verifyAt),A.gracePeriod!==void 0&&typeof A.gracePeriod=="number"||(A.gracePeriod=0),!(ze.exp!==void 0&&typeof ze.exp=="number"&&ze.exp+A.gracePeriod<Ye)&&!(ze.nbf!==void 0&&typeof ze.nbf=="number"&&Ye<ze.nbf-A.gracePeriod)&&!(ze.iat!==void 0&&typeof ze.iat=="number"&&Ye<ze.iat-A.gracePeriod)&&(ze.jti===void 0||A.jti===void 0||ze.jti===A.jti)&&!!J.verify(T,C,A.alg)},G.jws.JWS.includedArray=function(T,C){var A=G.jws.JWS.inArray;if(T===null||(T===void 0?"undefined":b(T))!=="object"||typeof T.length!="number")return!1;for(var N=0;N<T.length;N++)if(!A(T[N],C))return!1;return!0},G.jws.JWS.inArray=function(T,C){if(C===null||(C===void 0?"undefined":b(C))!=="object"||typeof C.length!="number")return!1;for(var A=0;A<C.length;A++)if(C[A]==T)return!0;return!1},G.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},G.jws.JWS.isSafeJSONString=function(T,C,A){var N=null;try{return((N=W(T))===void 0?"undefined":b(N))!="object"||N.constructor===Array?0:(C&&(C[A]=N),1)}catch{return 0}},G.jws.JWS.readSafeJSONString=function(T){var C=null;try{return((C=W(T))===void 0?"undefined":b(C))!="object"||C.constructor===Array?null:C}catch{return null}},G.jws.JWS.getEncodedSignatureValueFromJWS=function(T){var C=T.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(C==null)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return C[1]},G.jws.JWS.getJWKthumbprint=function(T){if(T.kty!=="RSA"&&T.kty!=="EC"&&T.kty!=="oct")throw"unsupported algorithm for JWK Thumprint";var C="{";if(T.kty==="RSA"){if(typeof T.n!="string"||typeof T.e!="string")throw"wrong n and e value for RSA key";C+='"e":"'+T.e+'",',C+='"kty":"'+T.kty+'",',C+='"n":"'+T.n+'"}'}else if(T.kty==="EC"){if(typeof T.crv!="string"||typeof T.x!="string"||typeof T.y!="string")throw"wrong crv, x and y value for EC key";C+='"crv":"'+T.crv+'",',C+='"kty":"'+T.kty+'",',C+='"x":"'+T.x+'",',C+='"y":"'+T.y+'"}'}else if(T.kty==="oct"){if(typeof T.k!="string")throw"wrong k value for oct(symmetric) key";C+='"kty":"'+T.kty+'",',C+='"k":"'+T.k+'"}'}var A=Mn(C);return dn(G.crypto.Util.hashHex(A,"sha256"))},G.jws.IntDate={},G.jws.IntDate.get=function(T){var C=G.jws.IntDate,A=C.getNow,N=C.getZulu;if(T=="now")return A();if(T=="now + 1hour")return A()+3600;if(T=="now + 1day")return A()+86400;if(T=="now + 1month")return A()+2592e3;if(T=="now + 1year")return A()+31536e3;if(T.match(/Z$/))return N(T);if(T.match(/^[0-9]+$/))return parseInt(T);throw"unsupported format: "+T},G.jws.IntDate.getZulu=function(T){return Hn(T)},G.jws.IntDate.getNow=function(){return~~(new Date/1e3)},G.jws.IntDate.intDate2UTCString=function(T){return new Date(1e3*T).toUTCString()},G.jws.IntDate.intDate2Zulu=function(T){var C=new Date(1e3*T);return("0000"+C.getUTCFullYear()).slice(-4)+("00"+(C.getUTCMonth()+1)).slice(-2)+("00"+C.getUTCDate()).slice(-2)+("00"+C.getUTCHours()).slice(-2)+("00"+C.getUTCMinutes()).slice(-2)+("00"+C.getUTCSeconds()).slice(-2)+"Z"},r.SecureRandom=nt,r.rng_seed_time=he,r.BigInteger=U,r.RSAKey=Se;var En=G.crypto.EDSA;r.EDSA=En;var Cn=G.crypto.DSA;r.DSA=Cn;var qn=G.crypto.Signature;r.Signature=qn;var Pr=G.crypto.MessageDigest;r.MessageDigest=Pr;var Zr=G.crypto.Mac;r.Mac=Zr;var Jr=G.crypto.Cipher;r.Cipher=Jr,r.KEYUTIL=jt,r.ASN1HEX=ke,r.X509=Zt,r.CryptoJS=P,r.b64tohex=Q,r.b64toBA=Y,r.stoBA=At,r.BAtos=It,r.BAtohex=Nt,r.stohex=Ot,r.stob64=function(C){return F(Ot(C))},r.stob64u=function(C){return zt(F(Ot(C)))},r.b64utos=function(C){return It(Y(Ar(C)))},r.b64tob64u=zt,r.b64utob64=Ar,r.hex2b64=F,r.hextob64u=dn,r.b64utohex=hn,r.utf8tob64u=je,r.b64utoutf8=Je,r.utf8tob64=function(C){return F(Jn(Ct(C)))},r.b64toutf8=function(C){return decodeURIComponent(We(Q(C)))},r.utf8tohex=gr,r.hextoutf8=un,r.hextorstr=ln,r.rstrtohex=Mn,r.hextob64=ur,r.hextob64nl=Le,r.b64nltohex=qe,r.hextopem=bt,r.pemtohex=Et,r.hextoArrayBuffer=function(C){if(C.length%2!=0)throw"input is not even length";if(C.match(/^[0-9A-Fa-f]+$/)==null)throw"input is not hexadecimal";for(var A=new ArrayBuffer(C.length/2),N=new DataView(A),J=0;J<C.length/2;J++)N.setUint8(J,parseInt(C.substr(2*J,2),16));return A},r.ArrayBuffertohex=function(C){for(var A="",N=new DataView(C),J=0;J<C.byteLength;J++)A+=("00"+N.getUint8(J).toString(16)).slice(-2);return A},r.zulutomsec=Mt,r.zulutosec=Hn,r.zulutodate=function(C){return new Date(Mt(C))},r.datetozulu=function(C,A,N){var J,le=C.getUTCFullYear();if(A){if(le<1950||2049<le)throw"not proper year for UTCTime: "+le;J=(""+le).slice(-2)}else J=("000"+le).slice(-4);if(J+=("0"+(C.getUTCMonth()+1)).slice(-2),J+=("0"+C.getUTCDate()).slice(-2),J+=("0"+C.getUTCHours()).slice(-2),J+=("0"+C.getUTCMinutes()).slice(-2),J+=("0"+C.getUTCSeconds()).slice(-2),N){var we=C.getUTCMilliseconds();we!==0&&(J+="."+(we=(we=("00"+we).slice(-3)).replace(/0+$/g,"")))}return J+="Z"},r.uricmptohex=Jn,r.hextouricmp=We,r.ipv6tohex=Ce,r.hextoipv6=et,r.hextoip=ft,r.iptohex=function(C){var A="malformed IP address";if(!(C=C.toLowerCase(C)).match(/^[0-9.]+$/)){if(C.match(/^[0-9a-f:]+$/)&&C.indexOf(":")!==-1)return Ce(C);throw A}var N=C.split(".");if(N.length!==4)throw A;var J="";try{for(var le=0;le<4;le++)J+=("0"+parseInt(N[le]).toString(16)).slice(-2);return J}catch{throw A}},r.encodeURIComponentAll=Ct,r.newline_toUnix=function(C){return C=C.replace(/\r\n/gm,`
`)},r.newline_toDos=function(C){return C=(C=C.replace(/\r\n/gm,`
`)).replace(/\n/gm,`\r
`)},r.hextoposhex=Gt,r.intarystrtohex=function(C){C=(C=(C=C.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return C.split(/,/).map(function(A,N,J){var le=parseInt(A);if(le<0||255<le)throw"integer not in range 0-255";return("00"+le.toString(16)).slice(-2)}).join("")}catch(A){throw"malformed integer array string: "+A}},r.strdiffidx=function(C,A){var N=C.length;C.length>A.length&&(N=A.length);for(var J=0;J<N;J++)if(C.charCodeAt(J)!=A.charCodeAt(J))return J;return C.length!=A.length?N:-1},r.KJUR=G;var Mr=G.crypto;r.crypto=Mr;var $n=G.asn1;r.asn1=$n;var ni=G.jws;r.jws=ni;var Zi=G.lang;r.lang=Zi}).call(this,i(28).Buffer)},function(n,r,i){(function(a){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var o=i(30),s=i(31),l=i(32);function c(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function d(oe,H){if(c()<H)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(oe=new Uint8Array(H)).__proto__=h.prototype:(oe===null&&(oe=new h(H)),oe.length=H),oe}function h(oe,H,$){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(oe,H,$);if(typeof oe=="number"){if(typeof H=="string")throw new Error("If encoding is specified then the first argument must be a string");return v(this,oe)}return m(this,oe,H,$)}function m(oe,H,$,ae){if(typeof H=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&H instanceof ArrayBuffer?function(he,ye,He,Ee){if(ye.byteLength,He<0||ye.byteLength<He)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<He+(Ee||0))throw new RangeError("'length' is out of bounds");return ye=He===void 0&&Ee===void 0?new Uint8Array(ye):Ee===void 0?new Uint8Array(ye,He):new Uint8Array(ye,He,Ee),h.TYPED_ARRAY_SUPPORT?(he=ye).__proto__=h.prototype:he=_(he,ye),he}(oe,H,$,ae):typeof H=="string"?function(he,ye,He){if(typeof He=="string"&&He!==""||(He="utf8"),!h.isEncoding(He))throw new TypeError('"encoding" must be a valid string encoding');var Ee=0|b(ye,He),Fe=(he=d(he,Ee)).write(ye,He);return Fe!==Ee&&(he=he.slice(0,Fe)),he}(oe,H,$):function(he,ye){if(h.isBuffer(ye)){var He=0|S(ye.length);return(he=d(he,He)).length===0||ye.copy(he,0,0,He),he}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return typeof ye.length!="number"||function(Fe){return Fe!=Fe}(ye.length)?d(he,0):_(he,ye);if(ye.type==="Buffer"&&l(ye.data))return _(he,ye.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(oe,H)}function y(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be a number');if(oe<0)throw new RangeError('"size" argument must not be negative')}function v(oe,H){if(y(H),oe=d(oe,H<0?0:0|S(H)),!h.TYPED_ARRAY_SUPPORT)for(var $=0;$<H;++$)oe[$]=0;return oe}function _(oe,H){var $=H.length<0?0:0|S(H.length);oe=d(oe,$);for(var ae=0;ae<$;ae+=1)oe[ae]=255&H[ae];return oe}function S(oe){if(oe>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|oe}function b(oe,H){if(h.isBuffer(oe))return oe.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(oe)||oe instanceof ArrayBuffer))return oe.byteLength;typeof oe!="string"&&(oe=""+oe);var $=oe.length;if($===0)return 0;for(var ae=!1;;)switch(H){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":case void 0:return Pe(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*$;case"hex":return $>>>1;case"base64":return Ne(oe).length;default:if(ae)return Pe(oe).length;H=(""+H).toLowerCase(),ae=!0}}function x(oe,H,$){var ae=!1;if((H===void 0||H<0)&&(H=0),H>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0)<=(H>>>=0))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return de(this,H,$);case"utf8":case"utf-8":return te(this,H,$);case"ascii":return pe(this,H,$);case"latin1":case"binary":return _e(this,H,$);case"base64":return ce(this,H,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,H,$);default:if(ae)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),ae=!0}}function R(oe,H,$){var ae=oe[H];oe[H]=oe[$],oe[$]=ae}function P(oe,H,$,ae,Z){if(oe.length===0)return-1;if(typeof $=="string"?(ae=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,isNaN($)&&($=Z?0:oe.length-1),$<0&&($=oe.length+$),$>=oe.length){if(Z)return-1;$=oe.length-1}else if($<0){if(!Z)return-1;$=0}if(typeof H=="string"&&(H=h.from(H,ae)),h.isBuffer(H))return H.length===0?-1:O(oe,H,$,ae,Z);if(typeof H=="number")return H&=255,h.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Z?Uint8Array.prototype.indexOf.call(oe,H,$):Uint8Array.prototype.lastIndexOf.call(oe,H,$):O(oe,[H],$,ae,Z);throw new TypeError("val must be string, number or Buffer")}function O(oe,H,$,ae,Z){var he,ye=1,He=oe.length,Ee=H.length;if(ae!==void 0&&((ae=String(ae).toLowerCase())==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(oe.length<2||H.length<2)return-1;ye=2,He/=2,Ee/=2,$/=2}function Fe(qt,Se){return ye===1?qt[Se]:qt.readUInt16BE(Se*ye)}if(Z){var tt=-1;for(he=$;he<He;he++)if(Fe(oe,he)===Fe(H,tt===-1?0:he-tt)){if(tt===-1&&(tt=he),he-tt+1===Ee)return tt*ye}else tt!==-1&&(he-=he-tt),tt=-1}else for($+Ee>He&&($=He-Ee),he=$;he>=0;he--){for(var nt=!0,gt=0;gt<Ee;gt++)if(Fe(oe,he+gt)!==Fe(H,gt)){nt=!1;break}if(nt)return he}return-1}function D(oe,H,$,ae){$=Number($)||0;var Z=oe.length-$;ae?(ae=Number(ae))>Z&&(ae=Z):ae=Z;var he=H.length;if(he%2!=0)throw new TypeError("Invalid hex string");ae>he/2&&(ae=he/2);for(var ye=0;ye<ae;++ye){var He=parseInt(H.substr(2*ye,2),16);if(isNaN(He))return ye;oe[$+ye]=He}return ye}function F(oe,H,$,ae){return Xe(Pe(H,oe.length-$),oe,$,ae)}function Q(oe,H,$,ae){return Xe(function(he){for(var ye=[],He=0;He<he.length;++He)ye.push(255&he.charCodeAt(He));return ye}(H),oe,$,ae)}function Y(oe,H,$,ae){return Q(oe,H,$,ae)}function U(oe,H,$,ae){return Xe(Ne(H),oe,$,ae)}function X(oe,H,$,ae){return Xe(function(he,ye){for(var He,Ee,Fe,tt=[],nt=0;nt<he.length&&!((ye-=2)<0);++nt)Ee=(He=he.charCodeAt(nt))>>8,Fe=He%256,tt.push(Fe),tt.push(Ee);return tt}(H,oe.length-$),oe,$,ae)}function ce(oe,H,$){return H===0&&$===oe.length?o.fromByteArray(oe):o.fromByteArray(oe.slice(H,$))}function te(oe,H,$){$=Math.min(oe.length,$);for(var ae=[],Z=H;Z<$;){var he,ye,He,Ee,Fe=oe[Z],tt=null,nt=Fe>239?4:Fe>223?3:Fe>191?2:1;if(Z+nt<=$)switch(nt){case 1:Fe<128&&(tt=Fe);break;case 2:(192&(he=oe[Z+1]))==128&&(Ee=(31&Fe)<<6|63&he)>127&&(tt=Ee);break;case 3:he=oe[Z+1],ye=oe[Z+2],(192&he)==128&&(192&ye)==128&&(Ee=(15&Fe)<<12|(63&he)<<6|63&ye)>2047&&(Ee<55296||Ee>57343)&&(tt=Ee);break;case 4:he=oe[Z+1],ye=oe[Z+2],He=oe[Z+3],(192&he)==128&&(192&ye)==128&&(192&He)==128&&(Ee=(15&Fe)<<18|(63&he)<<12|(63&ye)<<6|63&He)>65535&&Ee<1114112&&(tt=Ee)}tt===null?(tt=65533,nt=1):tt>65535&&(tt-=65536,ae.push(tt>>>10&1023|55296),tt=56320|1023&tt),ae.push(tt),Z+=nt}return function(qt){var Se=qt.length;if(Se<=se)return String.fromCharCode.apply(String,qt);for(var Ue="",ne=0;ne<Se;)Ue+=String.fromCharCode.apply(String,qt.slice(ne,ne+=se));return Ue}(ae)}r.Buffer=h,r.SlowBuffer=function(H){return+H!=H&&(H=0),h.alloc(+H)},r.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=a.TYPED_ARRAY_SUPPORT!==void 0?a.TYPED_ARRAY_SUPPORT:function(){try{var H=new Uint8Array(1);return H.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},H.foo()===42&&typeof H.subarray=="function"&&H.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),h.poolSize=8192,h._augment=function(oe){return oe.__proto__=h.prototype,oe},h.from=function(oe,H,$){return m(null,oe,H,$)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(oe,H,$){return function(Z,he,ye,He){return y(he),he<=0?d(Z,he):ye!==void 0?typeof He=="string"?d(Z,he).fill(ye,He):d(Z,he).fill(ye):d(Z,he)}(null,oe,H,$)},h.allocUnsafe=function(oe){return v(null,oe)},h.allocUnsafeSlow=function(oe){return v(null,oe)},h.isBuffer=function(H){return!(H==null||!H._isBuffer)},h.compare=function(H,$){if(!h.isBuffer(H)||!h.isBuffer($))throw new TypeError("Arguments must be Buffers");if(H===$)return 0;for(var ae=H.length,Z=$.length,he=0,ye=Math.min(ae,Z);he<ye;++he)if(H[he]!==$[he]){ae=H[he],Z=$[he];break}return ae<Z?-1:Z<ae?1:0},h.isEncoding=function(H){switch(String(H).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(H,$){if(!l(H))throw new TypeError('"list" argument must be an Array of Buffers');if(H.length===0)return h.alloc(0);var ae;if($===void 0)for($=0,ae=0;ae<H.length;++ae)$+=H[ae].length;var Z=h.allocUnsafe($),he=0;for(ae=0;ae<H.length;++ae){var ye=H[ae];if(!h.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(Z,he),he+=ye.length}return Z},h.byteLength=b,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var H=this.length;if(H%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var $=0;$<H;$+=2)R(this,$,$+1);return this},h.prototype.swap32=function(){var H=this.length;if(H%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var $=0;$<H;$+=4)R(this,$,$+3),R(this,$+1,$+2);return this},h.prototype.swap64=function(){var H=this.length;if(H%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var $=0;$<H;$+=8)R(this,$,$+7),R(this,$+1,$+6),R(this,$+2,$+5),R(this,$+3,$+4);return this},h.prototype.toString=function(){var H=0|this.length;return H===0?"":arguments.length===0?te(this,0,H):x.apply(this,arguments)},h.prototype.equals=function(H){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");return this===H||h.compare(this,H)===0},h.prototype.inspect=function(){var H="",$=r.INSPECT_MAX_BYTES;return this.length>0&&(H=this.toString("hex",0,$).match(/.{2}/g).join(" "),this.length>$&&(H+=" ... ")),"<Buffer "+H+">"},h.prototype.compare=function(H,$,ae,Z,he){if(!h.isBuffer(H))throw new TypeError("Argument must be a Buffer");if($===void 0&&($=0),ae===void 0&&(ae=H?H.length:0),Z===void 0&&(Z=0),he===void 0&&(he=this.length),$<0||ae>H.length||Z<0||he>this.length)throw new RangeError("out of range index");if(Z>=he&&$>=ae)return 0;if(Z>=he)return-1;if($>=ae)return 1;if(this===H)return 0;for(var ye=(he>>>=0)-(Z>>>=0),He=(ae>>>=0)-($>>>=0),Ee=Math.min(ye,He),Fe=this.slice(Z,he),tt=H.slice($,ae),nt=0;nt<Ee;++nt)if(Fe[nt]!==tt[nt]){ye=Fe[nt],He=tt[nt];break}return ye<He?-1:He<ye?1:0},h.prototype.includes=function(H,$,ae){return this.indexOf(H,$,ae)!==-1},h.prototype.indexOf=function(H,$,ae){return P(this,H,$,ae,!0)},h.prototype.lastIndexOf=function(H,$,ae){return P(this,H,$,ae,!1)},h.prototype.write=function(H,$,ae,Z){if($===void 0)Z="utf8",ae=this.length,$=0;else if(ae===void 0&&typeof $=="string")Z=$,ae=this.length,$=0;else{if(!isFinite($))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");$|=0,isFinite(ae)?(ae|=0,Z===void 0&&(Z="utf8")):(Z=ae,ae=void 0)}var he=this.length-$;if((ae===void 0||ae>he)&&(ae=he),H.length>0&&(ae<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(var ye=!1;;)switch(Z){case"hex":return D(this,H,$,ae);case"utf8":case"utf-8":return F(this,H,$,ae);case"ascii":return Q(this,H,$,ae);case"latin1":case"binary":return Y(this,H,$,ae);case"base64":return U(this,H,$,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,H,$,ae);default:if(ye)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),ye=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var se=4096;function pe(oe,H,$){var ae="";$=Math.min(oe.length,$);for(var Z=H;Z<$;++Z)ae+=String.fromCharCode(127&oe[Z]);return ae}function _e(oe,H,$){var ae="";$=Math.min(oe.length,$);for(var Z=H;Z<$;++Z)ae+=String.fromCharCode(oe[Z]);return ae}function de(oe,H,$){var ae=oe.length;(!H||H<0)&&(H=0),(!$||$<0||$>ae)&&($=ae);for(var Z="",he=H;he<$;++he)Z+=Ze(oe[he]);return Z}function ue(oe,H,$){for(var ae=oe.slice(H,$),Z="",he=0;he<ae.length;he+=2)Z+=String.fromCharCode(ae[he]+256*ae[he+1]);return Z}function Ae(oe,H,$){if(oe%1!=0||oe<0)throw new RangeError("offset is not uint");if(oe+H>$)throw new RangeError("Trying to access beyond buffer length")}function k(oe,H,$,ae,Z,he){if(!h.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>Z||H<he)throw new RangeError('"value" argument is out of bounds');if($+ae>oe.length)throw new RangeError("Index out of range")}function ie(oe,H,$,ae){H<0&&(H=65535+H+1);for(var Z=0,he=Math.min(oe.length-$,2);Z<he;++Z)oe[$+Z]=(H&255<<8*(ae?Z:1-Z))>>>8*(ae?Z:1-Z)}function me(oe,H,$,ae){H<0&&(H=4294967295+H+1);for(var Z=0,he=Math.min(oe.length-$,4);Z<he;++Z)oe[$+Z]=H>>>8*(ae?Z:3-Z)&255}function K(oe,H,$,ae,Z,he){if($+ae>oe.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function ee(oe,H,$,ae,Z){return Z||K(oe,0,$,4),s.write(oe,H,$,ae,23,4),$+4}function ge(oe,H,$,ae,Z){return Z||K(oe,0,$,8),s.write(oe,H,$,ae,52,8),$+8}h.prototype.slice=function(H,$){var ae,Z=this.length;if((H=~~H)<0?(H+=Z)<0&&(H=0):H>Z&&(H=Z),($=$===void 0?Z:~~$)<0?($+=Z)<0&&($=0):$>Z&&($=Z),$<H&&($=H),h.TYPED_ARRAY_SUPPORT)(ae=this.subarray(H,$)).__proto__=h.prototype;else{var he=$-H;ae=new h(he,void 0);for(var ye=0;ye<he;++ye)ae[ye]=this[ye+H]}return ae},h.prototype.readUIntLE=function(H,$,ae){H|=0,$|=0,ae||Ae(H,$,this.length);for(var Z=this[H],he=1,ye=0;++ye<$&&(he*=256);)Z+=this[H+ye]*he;return Z},h.prototype.readUIntBE=function(H,$,ae){H|=0,$|=0,ae||Ae(H,$,this.length);for(var Z=this[H+--$],he=1;$>0&&(he*=256);)Z+=this[H+--$]*he;return Z},h.prototype.readUInt8=function(H,$){return $||Ae(H,1,this.length),this[H]},h.prototype.readUInt16LE=function(H,$){return $||Ae(H,2,this.length),this[H]|this[H+1]<<8},h.prototype.readUInt16BE=function(H,$){return $||Ae(H,2,this.length),this[H]<<8|this[H+1]},h.prototype.readUInt32LE=function(H,$){return $||Ae(H,4,this.length),(this[H]|this[H+1]<<8|this[H+2]<<16)+16777216*this[H+3]},h.prototype.readUInt32BE=function(H,$){return $||Ae(H,4,this.length),16777216*this[H]+(this[H+1]<<16|this[H+2]<<8|this[H+3])},h.prototype.readIntLE=function(H,$,ae){H|=0,$|=0,ae||Ae(H,$,this.length);for(var Z=this[H],he=1,ye=0;++ye<$&&(he*=256);)Z+=this[H+ye]*he;return Z>=(he*=128)&&(Z-=Math.pow(2,8*$)),Z},h.prototype.readIntBE=function(H,$,ae){H|=0,$|=0,ae||Ae(H,$,this.length);for(var Z=$,he=1,ye=this[H+--Z];Z>0&&(he*=256);)ye+=this[H+--Z]*he;return ye>=(he*=128)&&(ye-=Math.pow(2,8*$)),ye},h.prototype.readInt8=function(H,$){return $||Ae(H,1,this.length),128&this[H]?-1*(255-this[H]+1):this[H]},h.prototype.readInt16LE=function(H,$){$||Ae(H,2,this.length);var ae=this[H]|this[H+1]<<8;return 32768&ae?4294901760|ae:ae},h.prototype.readInt16BE=function(H,$){$||Ae(H,2,this.length);var ae=this[H+1]|this[H]<<8;return 32768&ae?4294901760|ae:ae},h.prototype.readInt32LE=function(H,$){return $||Ae(H,4,this.length),this[H]|this[H+1]<<8|this[H+2]<<16|this[H+3]<<24},h.prototype.readInt32BE=function(H,$){return $||Ae(H,4,this.length),this[H]<<24|this[H+1]<<16|this[H+2]<<8|this[H+3]},h.prototype.readFloatLE=function(H,$){return $||Ae(H,4,this.length),s.read(this,H,!0,23,4)},h.prototype.readFloatBE=function(H,$){return $||Ae(H,4,this.length),s.read(this,H,!1,23,4)},h.prototype.readDoubleLE=function(H,$){return $||Ae(H,8,this.length),s.read(this,H,!0,52,8)},h.prototype.readDoubleBE=function(H,$){return $||Ae(H,8,this.length),s.read(this,H,!1,52,8)},h.prototype.writeUIntLE=function(H,$,ae,Z){H=+H,$|=0,ae|=0,Z||k(this,H,$,ae,Math.pow(2,8*ae)-1,0);var he=1,ye=0;for(this[$]=255&H;++ye<ae&&(he*=256);)this[$+ye]=H/he&255;return $+ae},h.prototype.writeUIntBE=function(H,$,ae,Z){H=+H,$|=0,ae|=0,Z||k(this,H,$,ae,Math.pow(2,8*ae)-1,0);var he=ae-1,ye=1;for(this[$+he]=255&H;--he>=0&&(ye*=256);)this[$+he]=H/ye&255;return $+ae},h.prototype.writeUInt8=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,1,255,0),h.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),this[$]=255&H,$+1},h.prototype.writeUInt16LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[$]=255&H,this[$+1]=H>>>8):ie(this,H,$,!0),$+2},h.prototype.writeUInt16BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>8,this[$+1]=255&H):ie(this,H,$,!1),$+2},h.prototype.writeUInt32LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[$+3]=H>>>24,this[$+2]=H>>>16,this[$+1]=H>>>8,this[$]=255&H):me(this,H,$,!0),$+4},h.prototype.writeUInt32BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>24,this[$+1]=H>>>16,this[$+2]=H>>>8,this[$+3]=255&H):me(this,H,$,!1),$+4},h.prototype.writeIntLE=function(H,$,ae,Z){if(H=+H,$|=0,!Z){var he=Math.pow(2,8*ae-1);k(this,H,$,ae,he-1,-he)}var ye=0,He=1,Ee=0;for(this[$]=255&H;++ye<ae&&(He*=256);)H<0&&Ee===0&&this[$+ye-1]!==0&&(Ee=1),this[$+ye]=(H/He>>0)-Ee&255;return $+ae},h.prototype.writeIntBE=function(H,$,ae,Z){if(H=+H,$|=0,!Z){var he=Math.pow(2,8*ae-1);k(this,H,$,ae,he-1,-he)}var ye=ae-1,He=1,Ee=0;for(this[$+ye]=255&H;--ye>=0&&(He*=256);)H<0&&Ee===0&&this[$+ye+1]!==0&&(Ee=1),this[$+ye]=(H/He>>0)-Ee&255;return $+ae},h.prototype.writeInt8=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,1,127,-128),h.TYPED_ARRAY_SUPPORT||(H=Math.floor(H)),H<0&&(H=255+H+1),this[$]=255&H,$+1},h.prototype.writeInt16LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[$]=255&H,this[$+1]=H>>>8):ie(this,H,$,!0),$+2},h.prototype.writeInt16BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>8,this[$+1]=255&H):ie(this,H,$,!1),$+2},h.prototype.writeInt32LE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[$]=255&H,this[$+1]=H>>>8,this[$+2]=H>>>16,this[$+3]=H>>>24):me(this,H,$,!0),$+4},h.prototype.writeInt32BE=function(H,$,ae){return H=+H,$|=0,ae||k(this,H,$,4,2147483647,-2147483648),H<0&&(H=4294967295+H+1),h.TYPED_ARRAY_SUPPORT?(this[$]=H>>>24,this[$+1]=H>>>16,this[$+2]=H>>>8,this[$+3]=255&H):me(this,H,$,!1),$+4},h.prototype.writeFloatLE=function(H,$,ae){return ee(this,H,$,!0,ae)},h.prototype.writeFloatBE=function(H,$,ae){return ee(this,H,$,!1,ae)},h.prototype.writeDoubleLE=function(H,$,ae){return ge(this,H,$,!0,ae)},h.prototype.writeDoubleBE=function(H,$,ae){return ge(this,H,$,!1,ae)},h.prototype.copy=function(H,$,ae,Z){if(ae||(ae=0),Z||Z===0||(Z=this.length),$>=H.length&&($=H.length),$||($=0),Z>0&&Z<ae&&(Z=ae),Z===ae||H.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("sourceStart out of bounds");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length),H.length-$<Z-ae&&(Z=H.length-$+ae);var he,ye=Z-ae;if(this===H&&ae<$&&$<Z)for(he=ye-1;he>=0;--he)H[he+$]=this[he+ae];else if(ye<1e3||!h.TYPED_ARRAY_SUPPORT)for(he=0;he<ye;++he)H[he+$]=this[he+ae];else Uint8Array.prototype.set.call(H,this.subarray(ae,ae+ye),$);return ye},h.prototype.fill=function(H,$,ae,Z){if(typeof H=="string"){if(typeof $=="string"?(Z=$,$=0,ae=this.length):typeof ae=="string"&&(Z=ae,ae=this.length),H.length===1){var he=H.charCodeAt(0);he<256&&(H=he)}if(Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!h.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z)}else typeof H=="number"&&(H&=255);if($<0||this.length<$||this.length<ae)throw new RangeError("Out of range index");if(ae<=$)return this;var ye;if($>>>=0,ae=ae===void 0?this.length:ae>>>0,H||(H=0),typeof H=="number")for(ye=$;ye<ae;++ye)this[ye]=H;else{var He=h.isBuffer(H)?H:Pe(new h(H,Z).toString()),Ee=He.length;for(ye=0;ye<ae-$;++ye)this[ye+$]=He[ye%Ee]}return this};var Re=/[^+\/0-9A-Za-z-_]/g;function Ze(oe){return oe<16?"0"+oe.toString(16):oe.toString(16)}function Pe(oe,H){var $;H=H||1/0;for(var ae=oe.length,Z=null,he=[],ye=0;ye<ae;++ye){if(($=oe.charCodeAt(ye))>55295&&$<57344){if(!Z){if($>56319){(H-=3)>-1&&he.push(239,191,189);continue}if(ye+1===ae){(H-=3)>-1&&he.push(239,191,189);continue}Z=$;continue}if($<56320){(H-=3)>-1&&he.push(239,191,189),Z=$;continue}$=65536+(Z-55296<<10|$-56320)}else Z&&(H-=3)>-1&&he.push(239,191,189);if(Z=null,$<128){if((H-=1)<0)break;he.push($)}else if($<2048){if((H-=2)<0)break;he.push($>>6|192,63&$|128)}else if($<65536){if((H-=3)<0)break;he.push($>>12|224,$>>6&63|128,63&$|128)}else{if(!($<1114112))throw new Error("Invalid code point");if((H-=4)<0)break;he.push($>>18|240,$>>12&63|128,$>>6&63|128,63&$|128)}}return he}function Ne(oe){return o.toByteArray(function($){if(($=function(Z){return Z.trim?Z.trim():Z.replace(/^\s+|\s+$/g,"")}($).replace(Re,"")).length<2)return"";for(;$.length%4!=0;)$+="=";return $}(oe))}function Xe(oe,H,$,ae){for(var Z=0;Z<ae&&!(Z+$>=H.length||Z>=oe.length);++Z)H[Z+$]=oe[Z];return Z}}).call(this,i(29))},function(n,r){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}n.exports=i},function(n,r,i){r.byteLength=function(v){var _=h(v),S=_[0],b=_[1];return 3*(S+b)/4-b},r.toByteArray=function(v){var _,S,b=h(v),x=b[0],R=b[1],P=new s(function(Q,Y,U){return 3*(Y+U)/4-U}(0,x,R)),O=0,D=R>0?x-4:x;for(S=0;S<D;S+=4)_=o[v.charCodeAt(S)]<<18|o[v.charCodeAt(S+1)]<<12|o[v.charCodeAt(S+2)]<<6|o[v.charCodeAt(S+3)],P[O++]=_>>16&255,P[O++]=_>>8&255,P[O++]=255&_;return R===2&&(_=o[v.charCodeAt(S)]<<2|o[v.charCodeAt(S+1)]>>4,P[O++]=255&_),R===1&&(_=o[v.charCodeAt(S)]<<10|o[v.charCodeAt(S+1)]<<4|o[v.charCodeAt(S+2)]>>2,P[O++]=_>>8&255,P[O++]=255&_),P},r.fromByteArray=function(v){for(var _,S=v.length,b=S%3,x=[],R=16383,P=0,O=S-b;P<O;P+=R)x.push(m(v,P,P+R>O?O:P+R));return b===1?(_=v[S-1],x.push(a[_>>2]+a[_<<4&63]+"==")):b===2&&(_=(v[S-2]<<8)+v[S-1],x.push(a[_>>10]+a[_>>4&63]+a[_<<2&63]+"=")),x.join("")};for(var a=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,d=l.length;c<d;++c)a[c]=l[c],o[l.charCodeAt(c)]=c;function h(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");return _===-1&&(_=v),[_,_===v?0:4-_%4]}function m(y,v,_){for(var S,b,x=[],R=v;R<_;R+=3)S=(y[R]<<16&16711680)+(y[R+1]<<8&65280)+(255&y[R+2]),x.push(a[(b=S)>>18&63]+a[b>>12&63]+a[b>>6&63]+a[63&b]);return x.join("")}o[45]=62,o[95]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(i,a,o,s,l){var c,d,h=8*l-s-1,m=(1<<h)-1,y=m>>1,v=-7,_=o?l-1:0,S=o?-1:1,b=i[a+_];for(_+=S,c=b&(1<<-v)-1,b>>=-v,v+=h;v>0;c=256*c+i[a+_],_+=S,v-=8);for(d=c&(1<<-v)-1,c>>=-v,v+=s;v>0;d=256*d+i[a+_],_+=S,v-=8);if(c===0)c=1-y;else{if(c===m)return d?NaN:1/0*(b?-1:1);d+=Math.pow(2,s),c-=y}return(b?-1:1)*d*Math.pow(2,c-s)},r.write=function(i,a,o,s,l,c){var d,h,m,y=8*c-l-1,v=(1<<y)-1,_=v>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:c-1,x=s?1:-1,R=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,d=v):(d=Math.floor(Math.log(a)/Math.LN2),a*(m=Math.pow(2,-d))<1&&(d--,m*=2),(a+=d+_>=1?S/m:S*Math.pow(2,1-_))*m>=2&&(d++,m/=2),d+_>=v?(h=0,d=v):d+_>=1?(h=(a*m-1)*Math.pow(2,l),d+=_):(h=a*Math.pow(2,_-1)*Math.pow(2,l),d=0));l>=8;i[o+b]=255&h,b+=x,h/=256,l-=8);for(d=d<<l|h,y+=l;y>0;i[o+b]=255&d,b+=x,d/=256,y-=8);i[o+b-x]|=128*R}},function(n,r){var i={}.toString;n.exports=Array.isArray||function(a){return i.call(a)=="[object Array]"}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(s){var l=s.jws,c=s.KeyUtil,d=s.X509,h=s.crypto,m=s.hextob64u,y=s.b64tohex,v=s.AllowedSigningAlgs;return function(){function _(){(function(b,x){if(!(b instanceof x))throw new TypeError("Cannot call a class as a function")})(this,_)}return _.parseJwt=function(b){a.Log.debug("JoseUtil.parseJwt");try{var x=l.JWS.parse(b);return{header:x.headerObj,payload:x.payloadObj}}catch(R){a.Log.error(R)}},_.validateJwt=function(b,x,R,P,O,D,F){a.Log.debug("JoseUtil.validateJwt");try{if(x.kty==="RSA")if(x.e&&x.n)x=c.getKey(x);else{if(!x.x5c||!x.x5c.length)return a.Log.error("JoseUtil.validateJwt: RSA key missing key material",x),Promise.reject(new Error("RSA key missing key material"));var Q=y(x.x5c[0]);x=d.getPublicKeyFromCertHex(Q)}else{if(x.kty!=="EC")return a.Log.error("JoseUtil.validateJwt: Unsupported key type",x&&x.kty),Promise.reject(new Error(x.kty));if(!(x.crv&&x.x&&x.y))return a.Log.error("JoseUtil.validateJwt: EC key missing key material",x),Promise.reject(new Error("EC key missing key material"));x=c.getKey(x)}return _._validateJwt(b,x,R,P,O,D,F)}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject("JWT validation failed")}},_.validateJwtAttributes=function(b,x,R,P,O,D){P||(P=0),O||(O=parseInt(Date.now()/1e3));var F=_.parseJwt(b).payload;if(!F.iss)return a.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(F.iss!==x)return a.Log.error("JoseUtil._validateJwt: Invalid issuer in token",F.iss),Promise.reject(new Error("Invalid issuer in token: "+F.iss));if(!F.aud)return a.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(F.aud===R||Array.isArray(F.aud)&&F.aud.indexOf(R)>=0))return a.Log.error("JoseUtil._validateJwt: Invalid audience in token",F.aud),Promise.reject(new Error("Invalid audience in token: "+F.aud));if(F.azp&&F.azp!==R)return a.Log.error("JoseUtil._validateJwt: Invalid azp in token",F.azp),Promise.reject(new Error("Invalid azp in token: "+F.azp));if(!D){var Q=O+P,Y=O-P;if(!F.iat)return a.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(Q<F.iat)return a.Log.error("JoseUtil._validateJwt: iat is in the future",F.iat),Promise.reject(new Error("iat is in the future: "+F.iat));if(F.nbf&&Q<F.nbf)return a.Log.error("JoseUtil._validateJwt: nbf is in the future",F.nbf),Promise.reject(new Error("nbf is in the future: "+F.nbf));if(!F.exp)return a.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(F.exp<Y)return a.Log.error("JoseUtil._validateJwt: exp is in the past",F.exp),Promise.reject(new Error("exp is in the past:"+F.exp))}return Promise.resolve(F)},_._validateJwt=function(b,x,R,P,O,D,F){return _.validateJwtAttributes(b,R,P,O,D,F).then(function(Q){try{return l.JWS.verify(b,x,v)?Q:(a.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Y){return a.Log.error(Y&&Y.message||Y),Promise.reject(new Error("signature validation failed"))}})},_.hashString=function(b,x){try{return h.Util.hashString(b,x)}catch(R){a.Log.error(R)}},_.hexToBase64Url=function(b){try{return m(b)}catch(x){a.Log.error(x)}},_}()};var a=i(0);n.exports=r.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SigninResponse=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(3);function s(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")}r.SigninResponse=function(){function l(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"#";s(this,l);var h=o.UrlUtility.parseUrlFragment(c,d);this.error=h.error,this.error_description=h.error_description,this.error_uri=h.error_uri,this.code=h.code,this.state=h.state,this.id_token=h.id_token,this.session_state=h.session_state,this.access_token=h.access_token,this.token_type=h.token_type,this.scope=h.scope,this.profile=void 0,this.expires_in=h.expires_in}return a(l,[{key:"expires_in",get:function(){if(this.expires_at){var d=parseInt(Date.now()/1e3);return this.expires_at-d}},set:function(d){var h=parseInt(d);if(typeof h=="number"&&h>0){var m=parseInt(Date.now()/1e3);this.expires_at=m+h}}},{key:"expired",get:function(){var d=this.expires_in;if(d!==void 0)return d<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutRequest=void 0;var a=i(0),o=i(3),s=i(9);r.SignoutRequest=function l(c){var d=c.url,h=c.id_token_hint,m=c.post_logout_redirect_uri,y=c.data,v=c.extraQueryParams,_=c.request_type;if(function(x,R){if(!(x instanceof R))throw new TypeError("Cannot call a class as a function")}(this,l),!d)throw a.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var S in h&&(d=o.UrlUtility.addQueryParam(d,"id_token_hint",h)),m&&(d=o.UrlUtility.addQueryParam(d,"post_logout_redirect_uri",m),y&&(this.state=new s.State({data:y,request_type:_}),d=o.UrlUtility.addQueryParam(d,"state",this.state.id))),v)d=o.UrlUtility.addQueryParam(d,S,v[S]);this.url=d}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SignoutResponse=void 0;var a=i(3);r.SignoutResponse=function o(s){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,o);var l=a.UrlUtility.parseUrlFragment(s,"?");this.error=l.error,this.error_description=l.error_description,this.error_uri=l.error_uri,this.state=l.state}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.InMemoryWebStorage=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.InMemoryWebStorage=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._data={}}return s.prototype.getItem=function(c){return o.Log.debug("InMemoryWebStorage.getItem",c),this._data[c]},s.prototype.setItem=function(c,d){o.Log.debug("InMemoryWebStorage.setItem",c),this._data[c]=d},s.prototype.removeItem=function(c){o.Log.debug("InMemoryWebStorage.removeItem",c),delete this._data[c]},s.prototype.key=function(c){return Object.getOwnPropertyNames(this._data)[c]},a(s,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManager=void 0;var a=function(){function R(P,O){for(var D=0;D<O.length;D++){var F=O[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,O,D){return O&&R(P.prototype,O),D&&R(P,D),P}}(),o=i(0),s=i(10),l=i(39),c=i(15),d=i(45),h=i(47),m=i(18),y=i(8),v=i(20),_=i(11),S=i(4);function b(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function x(R,P){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?R:P}r.UserManager=function(R){function P(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h.SilentRenewService,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m.SessionMonitor,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:v.TokenRevocationClient,Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:_.TokenClient,U=arguments.length>5&&arguments[5]!==void 0?arguments[5]:S.JoseUtil;b(this,P),O instanceof l.UserManagerSettings||(O=new l.UserManagerSettings(O));var X=x(this,R.call(this,O));return X._events=new d.UserManagerEvents(O),X._silentRenewService=new D(X),X.settings.automaticSilentRenew&&(o.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),X.startSilentRenew()),X.settings.monitorSession&&(o.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),X._sessionMonitor=new F(X)),X._tokenRevocationClient=new Q(X._settings),X._tokenClient=new Y(X._settings),X._joseUtil=U,X}return function(D,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);D.prototype=Object.create(F&&F.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(D,F):D.__proto__=F)}(P,R),P.prototype.getUser=function(){var D=this;return this._loadUser().then(function(F){return F?(o.Log.info("UserManager.getUser: user loaded"),D._events.load(F,!1),F):(o.Log.info("UserManager.getUser: user not found in storage"),null)})},P.prototype.removeUser=function(){var D=this;return this.storeUser(null).then(function(){o.Log.info("UserManager.removeUser: user removed from storage"),D._events.unload()})},P.prototype.signinRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:r";var F={useReplaceToNavigate:D.useReplaceToNavigate};return this._signinStart(D,this._redirectNavigator,F).then(function(){o.Log.info("UserManager.signinRedirect: successful")})},P.prototype.signinRedirectCallback=function(D){return this._signinEnd(D||this._redirectNavigator.url).then(function(F){return F.profile&&F.profile.sub?o.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinRedirectCallback: no sub"),F})},P.prototype.signinPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="si:p";var F=D.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.display="popup",this._signin(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinPopup: no sub")),Q})):(o.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},P.prototype.signinPopupCallback=function(D){return this._signinCallback(D,this._popupNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinPopupCallback: no sub")),F}).catch(function(F){o.Log.error(F.message)})},P.prototype.signinSilent=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return F=Object.assign({},F),this._loadUser().then(function(Q){return Q&&Q.refresh_token?(F.refresh_token=Q.refresh_token,D._useRefreshToken(F)):(F.request_type="si:s",F.id_token_hint=F.id_token_hint||D.settings.includeIdTokenInSilentRenew&&Q&&Q.id_token,Q&&D._settings.validateSubOnSilentRenew&&(o.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",Q.profile.sub),F.current_sub=Q.profile.sub),D._signinSilentIframe(F))})},P.prototype._useRefreshToken=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(F).then(function(Q){return Q?Q.access_token?D._loadUser().then(function(Y){if(Y){var U=Promise.resolve();return Q.id_token&&(U=D._validateIdTokenFromTokenRefreshToken(Y.profile,Q.id_token)),U.then(function(){return o.Log.debug("UserManager._useRefreshToken: refresh token response success"),Y.id_token=Q.id_token||Y.id_token,Y.access_token=Q.access_token,Y.refresh_token=Q.refresh_token||Y.refresh_token,Y.expires_in=Q.expires_in,D.storeUser(Y).then(function(){return D._events.load(Y),Y})})}return null}):(o.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(o.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},P.prototype._validateIdTokenFromTokenRefreshToken=function(D,F){var Q=this;return this._metadataService.getIssuer().then(function(Y){return Q.settings.getEpochTime().then(function(U){return Q._joseUtil.validateJwtAttributes(F,Y,Q._settings.client_id,Q._settings.clockSkew,U).then(function(X){return X?X.sub!==D.sub?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):X.auth_time&&X.auth_time!==D.auth_time?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):X.azp&&X.azp!==D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!X.azp&&D.azp?(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(o.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},P.prototype._signinSilentIframe=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=D.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return F?(D.redirect_uri=F,D.prompt=D.prompt||"none",this._signin(D,this._iframeNavigator,{startUrl:F,silentRequestTimeout:D.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Q){return Q&&(Q.profile&&Q.profile.sub?o.Log.info("UserManager.signinSilent: successful, signed in sub: ",Q.profile.sub):o.Log.info("UserManager.signinSilent: no sub")),Q})):(o.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype.signinSilentCallback=function(D){return this._signinCallback(D,this._iframeNavigator).then(function(F){return F&&(F.profile&&F.profile.sub?o.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",F.profile.sub):o.Log.info("UserManager.signinSilentCallback: no sub")),F})},P.prototype.signinCallback=function(D){var F=this;return this.readSigninResponseState(D).then(function(Q){var Y=Q.state;return Q.response,Y.request_type==="si:r"?F.signinRedirectCallback(D):Y.request_type==="si:p"?F.signinPopupCallback(D):Y.request_type==="si:s"?F.signinSilentCallback(D):Promise.reject(new Error("invalid response_type in state"))})},P.prototype.signoutCallback=function(D,F){var Q=this;return this.readSignoutResponseState(D).then(function(Y){var U=Y.state,X=Y.response;return U?U.request_type==="so:r"?Q.signoutRedirectCallback(D):U.request_type==="so:p"?Q.signoutPopupCallback(D,F):Promise.reject(new Error("invalid response_type in state")):X})},P.prototype.querySessionStatus=function(){var D=this,F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(F=Object.assign({},F)).request_type="si:s";var Q=F.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return Q?(F.redirect_uri=Q,F.prompt="none",F.response_type=F.response_type||this.settings.query_status_response_type,F.scope=F.scope||"openid",F.skipUserInfo=!0,this._signinStart(F,this._iframeNavigator,{startUrl:Q,silentRequestTimeout:F.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Y){return D.processSigninResponse(Y.url).then(function(U){if(o.Log.debug("UserManager.querySessionStatus: got signin response"),U.session_state&&U.profile.sub)return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",U.profile.sub),{session_state:U.session_state,sub:U.profile.sub,sid:U.profile.sid};o.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(U){if(U.session_state&&D.settings.monitorAnonymousSession&&(U.message=="login_required"||U.message=="consent_required"||U.message=="interaction_required"||U.message=="account_selection_required"))return o.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:U.session_state};throw U})})):(o.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},P.prototype._signin=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signinStart(D,F,Y).then(function(U){return Q._signinEnd(U.url,D)})},P.prototype._signinStart=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return F.prepare(Y).then(function(U){return o.Log.debug("UserManager._signinStart: got navigator window handle"),Q.createSigninRequest(D).then(function(X){return o.Log.debug("UserManager._signinStart: got signin request"),Y.url=X.url,Y.id=X.state.id,U.navigate(Y)}).catch(function(X){throw U.close&&(o.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),U.close()),X})})},P.prototype._signinEnd=function(D){var F=this,Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.processSigninResponse(D).then(function(Y){o.Log.debug("UserManager._signinEnd: got signin response");var U=new c.User(Y);if(Q.current_sub){if(Q.current_sub!==U.profile.sub)return o.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",U.profile.sub),Promise.reject(new Error("login_required"));o.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return F.storeUser(U).then(function(){return o.Log.debug("UserManager._signinEnd: user stored"),F._events.load(U),U})})},P.prototype._signinCallback=function(D,F){o.Log.debug("UserManager._signinCallback");var Q=this._settings.response_mode==="query"||!this._settings.response_mode&&y.SigninRequest.isCode(this._settings.response_type)?"?":"#";return F.callback(D,void 0,Q)},P.prototype.signoutRedirect=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:r";var F=D.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;F&&(D.post_logout_redirect_uri=F);var Q={useReplaceToNavigate:D.useReplaceToNavigate};return this._signoutStart(D,this._redirectNavigator,Q).then(function(){o.Log.info("UserManager.signoutRedirect: successful")})},P.prototype.signoutRedirectCallback=function(D){return this._signoutEnd(D||this._redirectNavigator.url).then(function(F){return o.Log.info("UserManager.signoutRedirectCallback: successful"),F})},P.prototype.signoutPopup=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};(D=Object.assign({},D)).request_type="so:p";var F=D.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return D.post_logout_redirect_uri=F,D.display="popup",D.post_logout_redirect_uri&&(D.state=D.state||{}),this._signout(D,this._popupNavigator,{startUrl:F,popupWindowFeatures:D.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:D.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){o.Log.info("UserManager.signoutPopup: successful")})},P.prototype.signoutPopupCallback=function(D,F){return F===void 0&&typeof D=="boolean"&&(F=D,D=null),this._popupNavigator.callback(D,F,"?").then(function(){o.Log.info("UserManager.signoutPopupCallback: successful")})},P.prototype._signout=function(D,F){var Q=this,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._signoutStart(D,F,Y).then(function(U){return Q._signoutEnd(U.url)})},P.prototype._signoutStart=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=this,Q=arguments[1],Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Q.prepare(Y).then(function(U){return o.Log.debug("UserManager._signoutStart: got navigator window handle"),F._loadUser().then(function(X){return o.Log.debug("UserManager._signoutStart: loaded current user from storage"),(F._settings.revokeAccessTokenOnSignout?F._revokeInternal(X):Promise.resolve()).then(function(){var ce=D.id_token_hint||X&&X.id_token;return ce&&(o.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),D.id_token_hint=ce),F.removeUser().then(function(){return o.Log.debug("UserManager._signoutStart: user removed, creating signout request"),F.createSignoutRequest(D).then(function(te){return o.Log.debug("UserManager._signoutStart: got signout request"),Y.url=te.url,te.state&&(Y.id=te.state.id),U.navigate(Y)})})})}).catch(function(X){throw U.close&&(o.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),U.close()),X})})},P.prototype._signoutEnd=function(D){return this.processSignoutResponse(D).then(function(F){return o.Log.debug("UserManager._signoutEnd: got signout response"),F})},P.prototype.revokeAccessToken=function(){var D=this;return this._loadUser().then(function(F){return D._revokeInternal(F,!0).then(function(Q){if(Q)return o.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),F.access_token=null,F.refresh_token=null,F.expires_at=null,F.token_type=null,D.storeUser(F).then(function(){o.Log.debug("UserManager.revokeAccessToken: user stored"),D._events.load(F)})})}).then(function(){o.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},P.prototype._revokeInternal=function(D,F){var Q=this;if(D){var Y=D.access_token,U=D.refresh_token;return this._revokeAccessTokenInternal(Y,F).then(function(X){return Q._revokeRefreshTokenInternal(U,F).then(function(ce){return X||ce||o.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),X||ce})})}return Promise.resolve(!1)},P.prototype._revokeAccessTokenInternal=function(D,F){return!D||D.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(D,F).then(function(){return!0})},P.prototype._revokeRefreshTokenInternal=function(D,F){return D?this._tokenRevocationClient.revoke(D,F,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},P.prototype.startSilentRenew=function(){this._silentRenewService.start()},P.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},P.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(D){return D?(o.Log.debug("UserManager._loadUser: user storageString loaded"),c.User.fromStorageString(D)):(o.Log.debug("UserManager._loadUser: no user storageString"),null)})},P.prototype.storeUser=function(D){if(D){o.Log.debug("UserManager.storeUser: storing user");var F=D.toStorageString();return this._userStore.set(this._userStoreKey,F)}return o.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},a(P,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),P}(s.OidcClient)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerSettings=void 0;var a=function(){function _(S,b){for(var x=0;x<b.length;x++){var R=b[x];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(S,R.key,R)}}return function(S,b,x){return b&&_(S.prototype,b),x&&_(S,x),S}}(),o=(i(0),i(5)),s=i(40),l=i(41),c=i(43),d=i(6),h=i(1),m=i(8);function y(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function v(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?_:S}r.UserManagerSettings=function(_){function S(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=b.popup_redirect_uri,R=b.popup_post_logout_redirect_uri,P=b.popupWindowFeatures,O=b.popupWindowTarget,D=b.silent_redirect_uri,F=b.silentRequestTimeout,Q=b.automaticSilentRenew,Y=Q!==void 0&&Q,U=b.validateSubOnSilentRenew,X=U!==void 0&&U,ce=b.includeIdTokenInSilentRenew,te=ce===void 0||ce,se=b.monitorSession,pe=se===void 0||se,_e=b.monitorAnonymousSession,de=_e!==void 0&&_e,ue=b.checkSessionInterval,Ae=ue===void 0?2e3:ue,k=b.stopCheckSessionOnError,ie=k===void 0||k,me=b.query_status_response_type,K=b.revokeAccessTokenOnSignout,ee=K!==void 0&&K,ge=b.accessTokenExpiringNotificationTime,Re=ge===void 0?60:ge,Ze=b.redirectNavigator,Pe=Ze===void 0?new s.RedirectNavigator:Ze,Ne=b.popupNavigator,Xe=Ne===void 0?new l.PopupNavigator:Ne,oe=b.iframeNavigator,H=oe===void 0?new c.IFrameNavigator:oe,$=b.userStore,ae=$===void 0?new d.WebStorageStateStore({store:h.Global.sessionStorage}):$;y(this,S);var Z=v(this,_.call(this,arguments[0]));return Z._popup_redirect_uri=x,Z._popup_post_logout_redirect_uri=R,Z._popupWindowFeatures=P,Z._popupWindowTarget=O,Z._silent_redirect_uri=D,Z._silentRequestTimeout=F,Z._automaticSilentRenew=Y,Z._validateSubOnSilentRenew=X,Z._includeIdTokenInSilentRenew=te,Z._accessTokenExpiringNotificationTime=Re,Z._monitorSession=pe,Z._monitorAnonymousSession=de,Z._checkSessionInterval=Ae,Z._stopCheckSessionOnError=ie,me?Z._query_status_response_type=me:arguments[0]&&arguments[0].response_type?Z._query_status_response_type=m.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":Z._query_status_response_type="id_token",Z._revokeAccessTokenOnSignout=ee,Z._redirectNavigator=Pe,Z._popupNavigator=Xe,Z._iframeNavigator=H,Z._userStore=ae,Z}return function(x,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);x.prototype=Object.create(R&&R.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(x,R):x.__proto__=R)}(S,_),a(S,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),S}(o.OidcClientSettings)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.RedirectNavigator=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.RedirectNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(){return Promise.resolve(this)},s.prototype.navigate=function(c){return c&&c.url?(c.useReplaceToNavigate?window.location.replace(c.url):window.location=c.url,Promise.resolve()):(o.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},a(s,[{key:"url",get:function(){return window.location.href}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupNavigator=void 0;var a=i(0),o=i(42);r.PopupNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.PopupWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c,d,h){a.Log.debug("PopupNavigator.callback");try{return o.PopupWindow.notifyOpener(c,d,h),Promise.resolve()}catch(m){return Promise.reject(m)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.PopupWindow=void 0;var a=function(){function l(c,d){for(var h=0;h<d.length;h++){var m=d[h];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(c,m.key,m)}}return function(c,d,h){return d&&l(c.prototype,d),h&&l(c,h),c}}(),o=i(0),s=i(3);r.PopupWindow=function(){function l(c){var d=this;(function(v,_){if(!(v instanceof _))throw new TypeError("Cannot call a class as a function")})(this,l),this._promise=new Promise(function(y,v){d._resolve=y,d._reject=v});var h=c.popupWindowTarget||"_blank",m=c.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",h,m),this._popup&&(o.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return l.prototype.navigate=function(d){return this._popup?d&&d.url?(o.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=d.id,this._id&&(window["popupCallback_"+d.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=d.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},l.prototype._success=function(d){o.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(d)},l.prototype._error=function(d){o.Log.error("PopupWindow.error: ",d),this._cleanup(),this._reject(new Error(d))},l.prototype.close=function(){this._cleanup(!1)},l.prototype._cleanup=function(d){o.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!d&&this._popup.close(),this._popup=null},l.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},l.prototype._callback=function(d,h){this._cleanup(h),d?(o.Log.debug("PopupWindow.callback success"),this._success({url:d})):(o.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},l.notifyOpener=function(d,h,m){if(window.opener){if(d=d||window.location.href){var y=s.UrlUtility.parseUrlFragment(d,m);if(y.state){var v="popupCallback_"+y.state,_=window.opener[v];_?(o.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),_(d,h)):o.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else o.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else o.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},a(l,[{key:"promise",get:function(){return this._promise}}]),l}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameNavigator=void 0;var a=i(0),o=i(44);r.IFrameNavigator=function(){function s(){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s)}return s.prototype.prepare=function(c){var d=new o.IFrameWindow(c);return Promise.resolve(d)},s.prototype.callback=function(c){a.Log.debug("IFrameNavigator.callback");try{return o.IFrameWindow.notifyParent(c),Promise.resolve()}catch(d){return Promise.reject(d)}},s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IFrameWindow=void 0;var a=function(){function s(l,c){for(var d=0;d<c.length;d++){var h=c[d];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,h.key,h)}}return function(l,c,d){return c&&s(l.prototype,c),d&&s(l,d),l}}(),o=i(0);r.IFrameWindow=function(){function s(l){var c=this;(function(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._promise=new Promise(function(d,h){c._resolve=d,c._reject=h}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return s.prototype.navigate=function(c){if(c&&c.url){var d=c.silentRequestTimeout||1e4;o.Log.debug("IFrameWindow.navigate: Using timeout of:",d),this._timer=window.setTimeout(this._timeout.bind(this),d),this._frame.src=c.url}else this._error("No url provided");return this.promise},s.prototype._success=function(c){this._cleanup(),o.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(c)},s.prototype._error=function(c){this._cleanup(),o.Log.error(c),this._reject(new Error(c))},s.prototype.close=function(){this._cleanup()},s.prototype._cleanup=function(){this._frame&&(o.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},s.prototype._timeout=function(){o.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},s.prototype._message=function(c){if(o.Log.debug("IFrameWindow.message"),this._timer&&c.origin===this._origin&&c.source===this._frame.contentWindow&&typeof c.data=="string"&&(c.data.startsWith("http://")||c.data.startsWith("https://"))){var d=c.data;d?this._success({url:d}):this._error("Invalid response from frame")}},s.notifyParent=function(c){o.Log.debug("IFrameWindow.notifyParent"),(c=c||window.location.href)&&(o.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(c,location.protocol+"//"+location.host))},a(s,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),s}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.UserManagerEvents=void 0;var a=i(0),o=i(16),s=i(17);r.UserManagerEvents=function(l){function c(d){(function(y,v){if(!(y instanceof v))throw new TypeError("Cannot call a class as a function")})(this,c);var h=function(y,v){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?y:v}(this,l.call(this,d));return h._userLoaded=new s.Event("User loaded"),h._userUnloaded=new s.Event("User unloaded"),h._silentRenewError=new s.Event("Silent renew error"),h._userSignedIn=new s.Event("User signed in"),h._userSignedOut=new s.Event("User signed out"),h._userSessionChanged=new s.Event("User session changed"),h}return function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(h,m):h.__proto__=m)}(c,l),c.prototype.load=function(h){var m=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];a.Log.debug("UserManagerEvents.load"),l.prototype.load.call(this,h),m&&this._userLoaded.raise(h)},c.prototype.unload=function(){a.Log.debug("UserManagerEvents.unload"),l.prototype.unload.call(this),this._userUnloaded.raise()},c.prototype.addUserLoaded=function(h){this._userLoaded.addHandler(h)},c.prototype.removeUserLoaded=function(h){this._userLoaded.removeHandler(h)},c.prototype.addUserUnloaded=function(h){this._userUnloaded.addHandler(h)},c.prototype.removeUserUnloaded=function(h){this._userUnloaded.removeHandler(h)},c.prototype.addSilentRenewError=function(h){this._silentRenewError.addHandler(h)},c.prototype.removeSilentRenewError=function(h){this._silentRenewError.removeHandler(h)},c.prototype._raiseSilentRenewError=function(h){a.Log.debug("UserManagerEvents._raiseSilentRenewError",h.message),this._silentRenewError.raise(h)},c.prototype.addUserSignedIn=function(h){this._userSignedIn.addHandler(h)},c.prototype.removeUserSignedIn=function(h){this._userSignedIn.removeHandler(h)},c.prototype._raiseUserSignedIn=function(){a.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},c.prototype.addUserSignedOut=function(h){this._userSignedOut.addHandler(h)},c.prototype.removeUserSignedOut=function(h){this._userSignedOut.removeHandler(h)},c.prototype._raiseUserSignedOut=function(){a.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},c.prototype.addUserSessionChanged=function(h){this._userSessionChanged.addHandler(h)},c.prototype.removeUserSessionChanged=function(h){this._userSessionChanged.removeHandler(h)},c.prototype._raiseUserSessionChanged=function(){a.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},c}(o.AccessTokenEvents)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Timer=void 0;var a=function(){function h(m,y){for(var v=0;v<y.length;v++){var _=y[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(m,_.key,_)}}return function(m,y,v){return y&&h(m.prototype,y),v&&h(m,v),m}}(),o=i(0),s=i(1),l=i(17);function c(h,m){if(!(h instanceof m))throw new TypeError("Cannot call a class as a function")}function d(h,m){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!m||typeof m!="object"&&typeof m!="function"?h:m}r.Timer=function(h){function m(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.Global.timer,_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;c(this,m);var S=d(this,h.call(this,y));return S._timer=v,S._nowFunc=_||function(){return Date.now()/1e3},S}return function(v,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);v.prototype=Object.create(_&&_.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(v,_):v.__proto__=_)}(m,h),m.prototype.init=function(v){v<=0&&(v=1),v=parseInt(v);var _=this.now+v;if(this.expiration===_&&this._timerHandle)o.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),o.Log.debug("Timer.init timer "+this._name+" for duration:",v),this._expiration=_;var S=5;v<S&&(S=v),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*S)}},m.prototype.cancel=function(){this._timerHandle&&(o.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},m.prototype._callback=function(){var v=this._expiration-this.now;o.Log.debug("Timer.callback; "+this._name+" timer expires in:",v),this._expiration<=this.now&&(this.cancel(),h.prototype.raise.call(this))},a(m,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),m}(l.Event)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SilentRenewService=void 0;var a=i(0);r.SilentRenewService=function(){function o(s){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,o),this._userManager=s}return o.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(l){}).catch(function(l){a.Log.error("SilentRenewService.start: Error from getUser:",l.message)}))},o.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},o.prototype._tokenExpiring=function(){var l=this;this._userManager.signinSilent().then(function(c){a.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(c){a.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",c.message),l._userManager.events._raiseSilentRenewError(c)})},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaPopupNavigator=void 0;var a=i(21);r.CordovaPopupNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.CordovaIFrameNavigator=void 0;var a=i(21);r.CordovaIFrameNavigator=function(){function o(){(function(l,c){if(!(l instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o)}return o.prototype.prepare=function(l){l.popupWindowFeatures="hidden=yes";var c=new a.CordovaPopupWindow(l);return Promise.resolve(c)},o}()},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.Version="1.11.6"}])})}(k0)),k0.exports}var kA=Yte();function ene(e,t){var n,r,i,a;throw e.error==="invalid_redirect_uri"?new Error(`Dynamic client registration failed: the provided redirect uri [${(n=t.redirectUrl)===null||n===void 0?void 0:n.toString()}] is invalid - ${(r=e.error_description)!==null&&r!==void 0?r:""}`):e.error==="invalid_client_metadata"?new Error(`Dynamic client registration failed: the provided client metadata ${JSON.stringify(t)} is invalid - ${(i=e.error_description)!==null&&i!==void 0?i:""}`):new Error(`Dynamic client registration failed: ${e.error} - ${(a=e.error_description)!==null&&a!==void 0?a:""}`)}function tne(e,t){if(e.client_id===void 0)throw new Error(`Dynamic client registration failed: no client_id has been found on ${JSON.stringify(e)}`);if(t.redirectUrl&&(e.redirect_uris===void 0||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error(`Dynamic client registration failed: the returned redirect URIs ${JSON.stringify(e.redirect_uris)} don't match the provided ${JSON.stringify([t.redirectUrl.toString()])}`)}async function nne(e,t){var n;if(!t.registrationEndpoint)throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");if(!Array.isArray(t.idTokenSigningAlgValuesSupported))throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");const r=Pte(t.idTokenSigningAlgValuesSupported,pw),i={client_name:e.clientName,application_type:"web",redirect_uris:[(n=e.redirectUrl)===null||n===void 0?void 0:n.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:r,grant_types:["authorization_code","refresh_token"]},a={"Content-Type":"application/json"},o=await fetch(t.registrationEndpoint.toString(),{method:"POST",headers:a,body:JSON.stringify(i)});if(o.ok){const s=await o.json();return tne(s,e),{clientId:s.client_id,clientSecret:s.client_secret,idTokenSignedResponseAlg:s.id_token_signed_response_alg,clientType:"dynamic"}}throw o.status===400&&ene(await o.json(),e),new Error(`Dynamic client registration failed: the server returned ${o.status} ${o.statusText} - ${await o.text()}`)}function rne(e){return e.error!==void 0&&typeof e.error=="string"}function eN(e){return e.error_description!==void 0&&typeof e.error_description=="string"}function ine(e){return e.error_uri!==void 0&&typeof e.error_uri=="string"}function ane(e){return e.access_token!==void 0&&typeof e.access_token=="string"}function one(e){return e.id_token!==void 0&&typeof e.id_token=="string"}function sne(e){return e.refresh_token!==void 0&&typeof e.refresh_token=="string"}function une(e){return e.token_type!==void 0&&typeof e.token_type=="string"}function lne(e){return e.expires_in===void 0||typeof e.expires_in=="number"}function cne(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error(`The issuer [${e.issuer}] does not support the [${t.grantType}] grant`);if(!e.tokenEndpoint)throw new Error(`This issuer [${e.issuer}] does not have a token endpoint`)}function E9(e,t){if(rne(e))throw new S9(`Token endpoint returned error [${e.error}]${eN(e)?`: ${e.error_description}`:""}${ine(e)?` (see ${e.error_uri})`:""}`,e.error,eN(e)?e.error_description:void 0);if(!ane(e))throw new _m(["access_token"]);if(!one(e))throw new _m(["id_token"]);if(!une(e))throw new _m(["token_type"]);if(!lne(e))throw new _m(["expires_in"]);if(!t&&e.token_type.toLowerCase()!=="bearer")throw new Error(`Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [${e.token_type}].`);return e}async function fne(e,t,n,r){cne(e,n);const i={"content-type":"application/x-www-form-urlencoded"};let a;r&&(a=await $te(),i.DPoP=await rO(e.tokenEndpoint,"POST",a)),t.clientSecret&&(i.Authorization=`Basic ${btoa(`${t.clientId}:${t.clientSecret}`)}`);const o={grant_type:n.grantType,redirect_uri:n.redirectUrl,code:n.code,code_verifier:n.codeVerifier,client_id:t.clientId},s={method:"POST",headers:i,body:new URLSearchParams(o).toString()},c=await(await fetch(e.tokenEndpoint,s)).json(),d=E9(c,r),{webId:h,clientId:m}=await g9(d.id_token,e.jwksUri,e.issuer,t.clientId);return{accessToken:d.access_token,idToken:d.id_token,refreshToken:sne(d)?d.refresh_token:void 0,webId:h,clientId:m,dpopKey:a,expiresIn:d.expires_in}}const dne=e=>{try{return new URL(e),!0}catch{return!1}};async function hne(e,t,n,r){if(n.clientId===void 0)throw new Error("No client ID available when trying to refresh the access token.");const i={grant_type:"refresh_token",refresh_token:e,scope:p9};let a={};r!==void 0&&(a={DPoP:await rO(t.tokenEndpoint,"POST",r)});let o={};n.clientSecret!==void 0?o={Authorization:`Basic ${btoa(`${n.clientId}:${n.clientSecret}`)}`}:dne(n.clientId)&&(i.client_id=n.clientId);const s=await fetch(t.tokenEndpoint,{method:"POST",body:new URLSearchParams(i).toString(),headers:{...a,...o,"Content-Type":"application/x-www-form-urlencoded"}});let l;try{l=await s.json()}catch{throw new Error(`The token endpoint of issuer ${t.issuer} returned a malformed response.`)}const c=E9(l,r!==void 0),{webId:d}=await g9(c.id_token,t.jwksUri,t.issuer,n.clientId);return{accessToken:c.access_token,idToken:c.id_token,refreshToken:typeof c.refresh_token=="string"?c.refresh_token:void 0,webId:d,dpopKey:r,expiresIn:c.expires_in}}function pne(e){const t=y9(e);return t.hash="",e.includes(`${t.origin}/`)?t.href:`${t.origin}${t.href.substring(t.origin.length+1)}`}async function gne(){await new kA.OidcClient({response_mode:"query"}).clearStaleState(new kA.WebStorageStateStore({}));const t=window.localStorage,n=[];for(let r=0;r<=t.length;r+=1){const i=t.key(r);i&&(i.match(/^oidc\..+$/)||i.match(/^solidClientAuthenticationUser:.+$/))&&n.push(i)}n.forEach(r=>t.removeItem(r))}class mne extends Nte{constructor(t,n){super(t,n)}}class yne extends Dte{constructor(){super(...arguments),this.login=async(t,n)=>{var r,i;await this.sessionInfoManager.clear(t.sessionId);const a=(r=t.redirectUrl)!==null&&r!==void 0?r:pne(window.location.href);if(!m9(a))throw new Error(`${a} is not a valid redirect URL, it is either a malformed IRI, includes a hash fragment, or reserved query parameters ('code' or 'state').`);await this.loginHandler.handle({...t,redirectUrl:a,clientName:(i=t.clientName)!==null&&i!==void 0?i:t.clientId,eventEmitter:n})},this.validateCurrentSession=async t=>{const n=await this.sessionInfoManager.get(t);return n===void 0||n.clientAppId===void 0||n.issuer===void 0?null:n},this.handleIncomingRedirect=async(t,n)=>{try{const r=await this.redirectHandler.handle(t,n,void 0);return this.fetch=r.fetch.bind(window),this.boundLogout=r.getLogoutUrl,await this.cleanUrlAfterRedirect(t),{isLoggedIn:r.isLoggedIn,webId:r.webId,sessionId:r.sessionId,expirationDate:r.expirationDate,clientAppId:r.clientAppId}}catch(r){await this.cleanUrlAfterRedirect(t),n.emit(li.ERROR,"redirect",r);return}}}async cleanUrlAfterRedirect(t){const n=y9(t).href;for(window.history.replaceState(null,"",n);window.location.href!==n;)await new Promise(r=>{setTimeout(()=>r(),1)})}}function tN(e){return typeof e.oidcIssuer=="string"}function nN(e){return typeof e.redirectUrl=="string"}class vne{constructor(t,n,r,i){this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}async canHandle(t){return tN(t)&&nN(t)}async handle(t){if(!tN(t))throw new DA(`OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ${JSON.stringify(t)}`);if(!nN(t))throw new DA(`OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ${JSON.stringify(t)}`);const n=await this.issuerConfigFetcher.fetchConfig(t.oidcIssuer),r=await Mte(t,n,this.storageUtility,this.clientRegistrar),i={issuer:n.issuer,dpop:t.tokenType.toLowerCase()==="dpop",...t,issuerConfiguration:n,client:r};return this.oidcHandler.handle(i)}}class _ne extends bte{async handle(t){var n;const r={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl,response_type:"code",scope:p9,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:(n=t.prompt)!==null&&n!==void 0?n:"consent"},i=new kA.OidcClient(r);try{const a=await i.createSigninRequest();return await this.handleRedirect({oidcLoginOptions:t,state:a.state._id,codeVerifier:a.state._code_verifier,targetUrl:a.url.toString()})}catch(a){console.error(a)}}}const wne=".well-known/openid-configuration",rN={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},end_session_endpoint:{toKey:"endSessionEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function bne(e){const t={};return Object.keys(e).forEach(n=>{rN[n]&&(t[rN[n].toKey]=e[n])}),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}class iO{constructor(t){this.storageUtility=t,this.storageUtility=t}static getLocalStorageKey(t){return`issuerConfig:${t}`}async fetchConfig(t){let n;const r=new URL(wne,t.endsWith("/")?t:`${t}/`).href,i=await fetch(r);try{n=bne(await i.json())}catch(a){throw new DA(`[${t.toString()}] has an invalid configuration: ${a.message}`)}return await this.storageUtility.set(iO.getLocalStorageKey(t),JSON.stringify(n)),n}}async function Sne(e,t){await _9(e,t),await gne()}class xne extends Cte{async get(t){const[n,r,i,a,o,s,l,c]=await Promise.all([this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0}),this.storageUtility.getForUser(t,"webId",{secure:!0}),this.storageUtility.getForUser(t,"clientId",{secure:!1}),this.storageUtility.getForUser(t,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t,"redirectUrl",{secure:!1}),this.storageUtility.getForUser(t,"refreshToken",{secure:!0}),this.storageUtility.getForUser(t,"issuer",{secure:!1}),this.storageUtility.getForUser(t,"tokenType",{secure:!1})]);if(typeof o=="string"&&!m9(o)){await Promise.all([this.storageUtility.deleteAllUserData(t,{secure:!1}),this.storageUtility.deleteAllUserData(t,{secure:!0})]);return}if(c!==void 0&&!Ate(c))throw new Error(`Tokens of type [${c}] are not supported.`);if(!(i===void 0&&n===void 0&&r===void 0&&s===void 0))return{sessionId:t,webId:r,isLoggedIn:n==="true",redirectUrl:o,refreshToken:s,issuer:l,clientAppId:i,clientAppSecret:a,tokenType:c??"DPoP"}}async clear(t){return Sne(t,this.storageUtility)}}class Ene{async canHandle(t){try{return new URL(t),!0}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t){return v9()}}class Cne{constructor(t,n,r,i,a){this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a,this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}async canHandle(t){try{const n=new URL(t);return n.searchParams.get("code")!==null&&n.searchParams.get("state")!==null}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(!await this.canHandle(t))throw new Error(`AuthCodeRedirectHandler cannot handle [${t}]: it is missing one of [code, state].`);const r=new URL(t),i=r.searchParams.get("state"),a=await this.storageUtility.getForUser(i,"sessionId",{errorIfNull:!0}),{issuerConfig:o,codeVerifier:s,redirectUrl:l,dpop:c}=await b9(a,this.storageUtility,this.issuerConfigFetcher),d=r.searchParams.get("iss");if(typeof d=="string"&&d!==o.issuer)throw new Error(`The value of the iss parameter (${d}) does not match the issuer identifier of the authorization server (${o.issuer}). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)`);if(s===void 0)throw new Error(`The code verifier for session ${a} is missing from storage.`);if(l===void 0)throw new Error(`The redirect URL for session ${a} is missing from storage.`);const h=await this.clientRegistrar.getClient({sessionId:a},o),m=Date.now(),y=await fne(o,h,{grantType:"authorization_code",code:r.searchParams.get("code"),codeVerifier:s,redirectUrl:l},c);window.localStorage.removeItem(`oidc.${i}`);let v;y.refreshToken!==void 0&&(v={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher});const _=await Hte(y.accessToken,{dpopKey:y.dpopKey,refreshOptions:v,eventEmitter:n,expiresIn:y.expiresIn});await kte(this.storageUtility,a,y.webId,y.clientId,"true",void 0,!0);const S=await this.sessionInfoManager.get(a);if(!S)throw new Error(`Could not retrieve session: [${a}].`);return Object.assign(S,{fetch:_,getLogoutUrl:Rte({idTokenHint:y.idToken,endSessionEndpoint:o.endSessionEndpoint}),expirationDate:typeof y.expiresIn=="number"?m+y.expiresIn*1e3:void 0})}}class Tne extends _te{constructor(t){super(t)}}class Rne{get storage(){return window.localStorage}async get(t){return this.storage.getItem(t)||void 0}async set(t,n){this.storage.setItem(t,n)}async delete(t){this.storage.removeItem(t)}}class Ane{redirect(t,n){n&&n.handleRedirect?n.handleRedirect(t):n&&n.redirectByReplacingState?window.history.replaceState({},"",t):window.location.href=t}}class Pne{constructor(t){this.storageUtility=t,this.storageUtility=t}async getClient(t,n){const[r,i,a,o]=await Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientName",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientType",{secure:!1})]);if(r&&Ite(o))return{clientId:r,clientSecret:i,clientName:a,clientType:o};try{const s=await nne(t,n),l={clientId:s.clientId,clientType:"dynamic"};return s.clientSecret&&(l.clientSecret=s.clientSecret),s.idTokenSignedResponseAlg&&(l.idTokenSignedResponseAlg=s.idTokenSignedResponseAlg),await this.storageUtility.setForUser(t.sessionId,l,{secure:!1}),s}catch(s){throw new Error(`Client registration failed: [${s}]`)}}}class One{async canHandle(t){try{return new URL(t).searchParams.has("error")}catch(n){throw new Error(`[${t}] is not a valid URL, and cannot be used as a redirect URL: ${n}`)}}async handle(t,n){if(n!==void 0){const r=new URL(t),i=r.searchParams.get("error"),a=r.searchParams.get("error_description");n.emit(li.ERROR,i,a)}return v9()}}class Lne{constructor(t,n,r){this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r,this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}async refresh(t,n,r,i){const a=await b9(t,this.storageUtility,this.issuerConfigFetcher),o=await this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);if(n===void 0)throw new Error(`Session [${t}] has no refresh token to allow it to refresh its access token.`);if(a.dpop&&r===void 0)throw new Error(`For session [${t}], the key bound to the DPoP access token must be provided to refresh said access token.`);const s=await hne(n,a.issuerConfig,o,r);return s.refreshToken!==void 0&&(i==null||i.emit(li.NEW_REFRESH_TOKEN,s.refreshToken)),s}}function iN(e){const t=new Fte,n=e.secureStorage||t,r=e.insecureStorage||new Rne,i=new mne(n,r),a=new iO(i),o=new Pne(i),s=new xne(i),l=new Lne(i,a,o),c=new Ane,d=new vne(i,new _ne(i,c),a,o),h=new Tne([new One,new Cne(i,s,a,o,l),new Ene]);return new yne(d,h,new Ete(s,c),s,a)}const fx=`${h9}currentSession`,NA=`${h9}currentUrl`;async function Ine(e,t,n){var r;const i=await t.validateCurrentSession(e);return i!==null?(window.localStorage.setItem(NA,window.location.href),await t.login({sessionId:e,prompt:"none",oidcIssuer:i.issuer,redirectUrl:i.redirectUrl,clientId:i.clientAppId,clientSecret:i.clientAppSecret,tokenType:(r=i.tokenType)!==null&&r!==void 0?r:"DPoP"},n.events),!0):!1}function Mne(e){return!!(e!=null&&e.isLoggedIn)}class Dne{constructor(t={},n=void 0){this.tokenRequestInProgress=!1,this.login=async r=>{var i;return await this.clientAuthentication.login({sessionId:this.info.sessionId,...r,tokenType:(i=r.tokenType)!==null&&i!==void 0?i:"DPoP"},this.events),new Promise(()=>{})},this.fetch=(r,i)=>this.clientAuthentication.fetch(r,i),this.internalLogout=async(r,i)=>{window.localStorage.removeItem(fx),await this.clientAuthentication.logout(this.info.sessionId,i),this.info.isLoggedIn=!1,r&&this.events.emit(li.LOGOUT)},this.logout=async r=>this.internalLogout(!0,r),this.handleIncomingRedirect=async(r={})=>{var i;if(this.info.isLoggedIn)return this.info;if(this.tokenRequestInProgress)return;const a=typeof r=="string"?{url:r}:r,o=(i=a.url)!==null&&i!==void 0?i:window.location.href;this.tokenRequestInProgress=!0;const s=await this.clientAuthentication.handleIncomingRedirect(o,this.events);if(Mne(s)){this.setSessionInfo(s);const l=window.localStorage.getItem(NA);l===null?this.events.emit(li.LOGIN):(window.localStorage.removeItem(NA),this.events.emit(li.SESSION_RESTORED,l))}else if(a.restorePreviousSession===!0){const l=window.localStorage.getItem(fx);if(l!==null&&await Ine(l,this.clientAuthentication,this))return new Promise(()=>{})}return this.tokenRequestInProgress=!1,s},this.events=new Jte,t.clientAuthentication?this.clientAuthentication=t.clientAuthentication:t.secureStorage&&t.insecureStorage?this.clientAuthentication=iN({secureStorage:t.secureStorage,insecureStorage:t.insecureStorage}):this.clientAuthentication=iN({}),t.sessionInfo?this.info={sessionId:t.sessionInfo.sessionId,isLoggedIn:!1,webId:t.sessionInfo.webId,clientAppId:t.sessionInfo.clientAppId}:this.info={sessionId:n??Qte(),isLoggedIn:!1},this.events.on(li.LOGIN,()=>window.localStorage.setItem(fx,this.info.sessionId)),this.events.on(li.SESSION_EXPIRED,()=>this.internalLogout(!1)),this.events.on(li.ERROR,()=>this.internalLogout(!1))}setSessionInfo(t){this.info.isLoggedIn=t.isLoggedIn,this.info.webId=t.webId,this.info.sessionId=t.sessionId,this.info.clientAppId=t.clientAppId,this.info.expirationDate=t.expirationDate,this.events.on(li.SESSION_EXTENDED,n=>{this.info.expirationDate=Date.now()+n*1e3})}}let dx;function _y(){return typeof dx>"u"&&(dx=new Dne),dx}const rr=(...e)=>_y().fetch(...e),kne=(...e)=>_y().login(...e),Nne=(...e)=>_y().logout(...e),Fne=(...e)=>_y().handleIncomingRedirect(...e);var hx,aN;function jne(){if(aN)return hx;aN=1;var e=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,r=/\r?\n[\x20\x09]+/g,i=/[;,"]/,a=/[;,"]|\s/,o=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,s={IDLE:1,URI:2,ATTR:4};function l(v){return v.replace(t,"")}function c(v){return n.test(v)}function d(v,_){for(;c(v[_]);)_++;return _}function h(v){return a.test(v)||!o.test(v)}function m(v,_){return Object.keys(v).length===Object.keys(_).length&&Object.keys(v).every(S=>S in _&&v[S]===_[S])}class y{constructor(_){this.refs=[],_&&this.parse(_)}rel(_){for(var S=[],b=_.toLowerCase(),x=0;x<this.refs.length;x++)typeof this.refs[x].rel=="string"&&this.refs[x].rel.toLowerCase()===b&&S.push(this.refs[x]);return S}get(_,S){_=_.toLowerCase(),S=S.toLowerCase();for(var b=[],x=0;x<this.refs.length;x++)typeof this.refs[x][_]=="string"&&this.refs[x][_].toLowerCase()===S&&b.push(this.refs[x]);return b}set(_){return this.refs.push(_),this}setUnique(_){return this.refs.some(S=>m(S,_))||this.refs.push(_),this}has(_,S){_=_.toLowerCase(),S=S.toLowerCase();for(var b=0;b<this.refs.length;b++)if(typeof this.refs[b][_]=="string"&&this.refs[b][_].toLowerCase()===S)return!0;return!1}parse(_,R){R=R||0,_=R?_.slice(R):_,_=l(_).replace(r,"");for(var b=s.IDLE,x=_.length,R=0,P=null;R<x;)if(b===s.IDLE){if(c(_[R])){R++;continue}else if(_[R]==="<"){P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P));var O=_.indexOf(">",R);if(O===-1)throw new Error("Expected end of URI delimiter at offset "+R);P={uri:_.slice(R+1,O)},R=O,b=s.URI}else throw new Error('Unexpected character "'+_[R]+'" at offset '+R);R++}else if(b===s.URI)if(c(_[R])){R++;continue}else if(_[R]===";")b=s.ATTR,R++;else if(_[R]===",")b=s.IDLE,R++;else throw new Error('Unexpected character "'+_[R]+'" at offset '+R);else if(b===s.ATTR){if(_[R]===";"||c(_[R])){R++;continue}var O=_.indexOf("=",R);O===-1&&(O=_.indexOf(";",R)),O===-1&&(O=_.length);var D=l(_.slice(R,O)).toLowerCase(),F="";if(R=O+1,R=d(_,R),_[R]==='"')for(R++;R<x;){if(_[R]==='"'){R++;break}_[R]==="\\"&&R++,F+=_[R],R++}else{for(var O=R+1;!i.test(_[O])&&O<x;)O++;F=_.slice(R,O),R=O}switch(P[D]&&y.isSingleOccurenceAttr(D)||(D[D.length-1]==="*"?P[D]=y.parseExtendedValue(F):(F=D==="type"?F.toLowerCase():F,P[D]!=null?Array.isArray(P[D])?P[D].push(F):P[D]=[P[D],F]:P[D]=F)),_[R]){case",":b=s.IDLE;break;case";":b=s.ATTR;break}R++}else throw new Error('Unknown parser state "'+b+'"');return P!=null&&(P.rel!=null?this.refs.push(...y.expandRelations(P)):this.refs.push(P)),P=null,this}toString(){for(var _=[],S="",b=null,x=0;x<this.refs.length;x++)b=this.refs[x],S=Object.keys(this.refs[x]).reduce(function(R,P){return P==="uri"?R:R+"; "+y.formatAttribute(P,b[P])},"<"+b.uri+">"),_.push(S);return _.join(", ")}}return y.isCompatibleEncoding=function(v){return e.test(v)},y.parse=function(v,_){return new y().parse(v,_)},y.isSingleOccurenceAttr=function(v){return v==="rel"||v==="type"||v==="media"||v==="title"||v==="title*"},y.isTokenAttr=function(v){return v==="rel"||v==="type"||v==="anchor"},y.escapeQuotes=function(v){return v.replace(/"/g,'\\"')},y.expandRelations=function(v){var _=v.rel.split(" ");return _.map(function(S){var b=Object.assign({},v);return b.rel=S,b})},y.parseExtendedValue=function(v){var _=/([^']+)?(?:'([^']*)')?(.+)/.exec(v);return{language:_[2].toLowerCase(),encoding:y.isCompatibleEncoding(_[1])?null:_[1].toLowerCase(),value:y.isCompatibleEncoding(_[1])?decodeURIComponent(_[3]):_[3]}},y.formatExtendedAttribute=function(v,_){var S=(_.encoding||"utf-8").toUpperCase(),b=_.language||"en",x="";return Buffer.isBuffer(_.value)&&y.isCompatibleEncoding(S)?x=_.value.toString(S):Buffer.isBuffer(_.value)?x=_.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):x=encodeURIComponent(_.value),v+"="+S+"'"+b+"'"+x},y.formatAttribute=function(v,_){return Array.isArray(_)?_.map(S=>y.formatAttribute(v,S)).join("; "):v[v.length-1]==="*"||typeof _!="string"?y.formatExtendedAttribute(v,_):(y.isTokenAttr(v)?_=h(_)?'"'+y.escapeQuotes(_)+'"':y.escapeQuotes(_):h(_)&&(_=encodeURIComponent(_),_=_.replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"),_='"'+_+'"'),v+"="+_)},hx=y,hx}var $ne=jne();const C9=Ir($ne),ig="http://www.w3.org/1999/02/22-rdf-syntax-ns#",ag="http://www.w3.org/2001/XMLSchema#",px="http://www.w3.org/2000/10/swap/",Gi={xsd:{decimal:`${ag}decimal`,boolean:`${ag}boolean`,double:`${ag}double`,integer:`${ag}integer`,string:`${ag}string`},rdf:{type:`${ig}type`,nil:`${ig}nil`,first:`${ig}first`,rest:`${ig}rest`,langString:`${ig}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${px}reify#forSome`,forAll:`${px}reify#forAll`},log:{implies:`${px}log#implies`}};/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var gx,oN;function Bne(){if(oN)return gx;oN=1;let e;return gx=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:pm):t=>(e||(e=Promise.resolve())).then(t).catch(n=>setTimeout(()=>{throw n},0)),gx}var Une=Bne();const T9=Ir(Une),{xsd:r_}=Gi,qne=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,sN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},zne=/[\x00-\x20<>\\"\{\}\|\^\`]/,Hne={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},Vne=/$0^/;let aO=class{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in Hne)&&this[n]instanceof RegExp&&(this[n]=Vne)}else this._n3Mode=t.n3!==!1;this._comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this._comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this._comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",m="",y="",v=null,_=0,S=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||zne.test(m))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,m=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",m=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",m=v[0],y=typeof v[1]=="string"?r_.double:typeof v[2]=="string"?r_.decimal:r_.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",m=v[0],y=r_.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,m="="):(_=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const b=_||v[0].length,x=a(h,m,y,c,b);this.previousToken=x,this._previousMarker=h,r=r.substr(b,r.length)}function a(s,l,c,d,h){const m=r?i-r.length:i,y=m+h,v={type:s,value:l,prefix:c,line:d,start:m,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(qne,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in sN?sN[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")T9(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}};function Kne(e){return!!e&&e.termType==="NamedNode"}function Gne(e){return!!e&&e.termType==="BlankNode"}function Wne(e){return!!e&&e.termType==="Literal"}function Qne(e){return!!e&&e.termType==="Variable"}function Eh(e){return!!e&&e.termType==="DefaultGraph"}function Zne(e){return Eh(e.graph)}function Jne(e,t){return R9({"":e.value||e},t)("")}function R9(e,t){const n=Object.create(null);for(const i in e)r(i,e[i]);t=t||Wl;function r(i,a){if(typeof a=="string"){const o=Object.create(null);n[i]=s=>o[s]||(o[s]=t.namedNode(a+s))}else if(!(i in n))throw new Error(`Unknown prefix: ${i}`);return n[i]}return r}const A9=Object.freeze(Object.defineProperty({__proto__:null,inDefaultGraph:Zne,isBlankNode:Gne,isDefaultGraph:Eh,isLiteral:Wne,isNamedNode:Kne,isVariable:Qne,prefix:Jne,prefixes:R9},Symbol.toStringTag,{value:"Module"})),{rdf:Xne,xsd:nf}=Gi;let wy,Yne=0;const Wl={namedNode:ere,blankNode:tre,variable:rre,literal:nre,defaultGraph:ire,quad:uN,triple:uN};let Ds=class P9{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof P9?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}},ei=class extends Ds{get termType(){return"NamedNode"}},Jd=class O9 extends Ds{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new ei(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?nf.string:Xne.langString}equals(t){return t instanceof O9?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},oO=class extends Ds{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},sO=class extends Ds{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},uO=class extends Ds{constructor(){return super(""),wy||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};wy=new uO;function sf(e,t,n){if(t=t||Wl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Wl)return new Jd(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(sf(e[0],t,!0),sf(e[1],t,!0),sf(e[2],t,!0),e[3]&&sf(e[3],t,!0))}function da(e,t){if(typeof e=="string")return e;if(e instanceof Ds&&e.termType!=="Quad")return e.id;if(!e)return wy.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==nf.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[da(e.subject,!0),da(e.predicate,!0),da(e.object,!0)];return Eh(e.graph)||n.push(da(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let Vo=class extends Ds{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||wy}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function ere(e){return new ei(e)}function tre(e){return new oO(e||`n3-${Yne++}`)}function nre(e,t){if(typeof t=="string")return new Jd(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=nf.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?nf.integer:nf.double:(n=nf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===nf.string?new Jd(`"${e}"`):new Jd(`"${e}"^^${n}`)}function rre(e){return new sO(e)}function ire(){return wy}function uN(e,t,n,r){return new Vo(e,t,n,r)}let lN=0,zh=class{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&L9(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new aO({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){lN=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF* syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=mx}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${lN++}_`,this._prefixCallback=r||mx,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const i=[];let a;if(this._callback=(o,s)=>{o?a=o:s&&i.push(s)},this._lexer.tokenize(t).every(o=>this._readCallback=this._readCallback(o)),a)throw a;return i}this._callback=n,this._lexer.tokenize(t,(i,a)=>{i!==null?(this._callback(i),this._callback=mx):this._readCallback&&(this._readCallback=this._readCallback(a))})}};function mx(){}function L9(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Gi.rdf.first),e.RDF_REST=n(Gi.rdf.rest),e.RDF_NIL=n(Gi.rdf.nil),e.N3_FORALL=n(Gi.r.forAll),e.N3_FORSOME=n(Gi.r.forSome),e.ABBREVIATIONS={a:n(Gi.rdf.type),"=":n(Gi.owl.sameAs),">":n(Gi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}L9(zh.prototype,Wl);const og=Wl.defaultGraph(),{rdf:are,xsd:Td}=Gi,cN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,fN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,ore={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};let sg=class extends Ds{equals(t){return t===this}},tb=class{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=og,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${hN(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return og.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(og.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){return t.map(n=>this.quadToString(n.subject,n.predicate,n.object,n.graph)).join("")}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),cN.test(n)&&(n=n.replace(fN,dN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(cN.test(n)&&(n=n.replace(fN,dN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Td.string)return`"${n}"`}else switch(t.datatype.value){case Td.string:return`"${n}"`;case Td.boolean:if(n==="true"||n==="false")return n;break;case Td.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Td.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Td.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===are.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${Eh(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,og,i):this._writeQuad(t,n,r,i||og,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=hN(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new sg("[]");case 1:if(i=r[0],!(i.object instanceof sg))return new sg(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new sg(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new sg(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}};function dN(e){let t=ore[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function hN(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var yx={exports:{}},vx={exports:{}},_x={},ug={},pN;function sre(){if(pN)return ug;pN=1,ug.byteLength=s,ug.toByteArray=c,ug.fromByteArray=m;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=r.length;i<a;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");_===-1&&(_=v);var S=_===v?0:4-_%4;return[_,S]}function s(y){var v=o(y),_=v[0],S=v[1];return(_+S)*3/4-S}function l(y,v,_){return(v+_)*3/4-_}function c(y){var v,_=o(y),S=_[0],b=_[1],x=new n(l(y,S,b)),R=0,P=b>0?S-4:S,O;for(O=0;O<P;O+=4)v=t[y.charCodeAt(O)]<<18|t[y.charCodeAt(O+1)]<<12|t[y.charCodeAt(O+2)]<<6|t[y.charCodeAt(O+3)],x[R++]=v>>16&255,x[R++]=v>>8&255,x[R++]=v&255;return b===2&&(v=t[y.charCodeAt(O)]<<2|t[y.charCodeAt(O+1)]>>4,x[R++]=v&255),b===1&&(v=t[y.charCodeAt(O)]<<10|t[y.charCodeAt(O+1)]<<4|t[y.charCodeAt(O+2)]>>2,x[R++]=v>>8&255,x[R++]=v&255),x}function d(y){return e[y>>18&63]+e[y>>12&63]+e[y>>6&63]+e[y&63]}function h(y,v,_){for(var S,b=[],x=v;x<_;x+=3)S=(y[x]<<16&16711680)+(y[x+1]<<8&65280)+(y[x+2]&255),b.push(d(S));return b.join("")}function m(y){for(var v,_=y.length,S=_%3,b=[],x=16383,R=0,P=_-S;R<P;R+=x)b.push(h(y,R,R+x>P?P:R+x));return S===1?(v=y[_-1],b.push(e[v>>2]+e[v<<4&63]+"==")):S===2&&(v=(y[_-2]<<8)+y[_-1],b.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),b.join("")}return ug}var i_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var gN;function ure(){return gN||(gN=1,i_.read=function(e,t,n,r,i){var a,o,s=i*8-r-1,l=(1<<s)-1,c=l>>1,d=-7,h=n?i-1:0,m=n?-1:1,y=e[t+h];for(h+=m,a=y&(1<<-d)-1,y>>=-d,d+=s;d>0;a=a*256+e[t+h],h+=m,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=r;d>0;o=o*256+e[t+h],h+=m,d-=8);if(a===0)a=1-c;else{if(a===l)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,r),a=a-c}return(y?-1:1)*o*Math.pow(2,a-r)},i_.write=function(e,t,n,r,i,a){var o,s,l,c=a*8-i-1,d=(1<<c)-1,h=d>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=r?0:a-1,v=r?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=m/l:t+=m*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=d?(s=0,o=d):o+h>=1?(s=(t*l-1)*Math.pow(2,i),o=o+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[n+y]=s&255,y+=v,s/=256,i-=8);for(o=o<<i|s,c+=i;c>0;e[n+y]=o&255,y+=v,o/=256,c-=8);e[n+y-v]|=_*128}),i_}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var mN;function Nu(){return mN||(mN=1,function(e){const t=sre(),n=ure(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=x,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=a(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const ne=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(ne,z),ne.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function o(ne){if(ne>i)throw new RangeError('The value "'+ne+'" is invalid for option "size"');const z=new Uint8Array(ne);return Object.setPrototypeOf(z,s.prototype),z}function s(ne,z,W){if(typeof ne=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(ne)}return l(ne,z,W)}s.poolSize=8192;function l(ne,z,W){if(typeof ne=="string")return m(ne,z);if(ArrayBuffer.isView(ne))return v(ne);if(ne==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne);if(nt(ne,ArrayBuffer)||ne&&nt(ne.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(ne,SharedArrayBuffer)||ne&&nt(ne.buffer,SharedArrayBuffer)))return _(ne,z,W);if(typeof ne=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=ne.valueOf&&ne.valueOf();if(G!=null&&G!==ne)return s.from(G,z,W);const je=S(ne);if(je)return je;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ne[Symbol.toPrimitive]=="function")return s.from(ne[Symbol.toPrimitive]("string"),z,W);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ne)}s.from=function(ne,z,W){return l(ne,z,W)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function c(ne){if(typeof ne!="number")throw new TypeError('"size" argument must be of type number');if(ne<0)throw new RangeError('The value "'+ne+'" is invalid for option "size"')}function d(ne,z,W){return c(ne),ne<=0?o(ne):z!==void 0?typeof W=="string"?o(ne).fill(z,W):o(ne).fill(z):o(ne)}s.alloc=function(ne,z,W){return d(ne,z,W)};function h(ne){return c(ne),o(ne<0?0:b(ne)|0)}s.allocUnsafe=function(ne){return h(ne)},s.allocUnsafeSlow=function(ne){return h(ne)};function m(ne,z){if((typeof z!="string"||z==="")&&(z="utf8"),!s.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const W=R(ne,z)|0;let G=o(W);const je=G.write(ne,z);return je!==W&&(G=G.slice(0,je)),G}function y(ne){const z=ne.length<0?0:b(ne.length)|0,W=o(z);for(let G=0;G<z;G+=1)W[G]=ne[G]&255;return W}function v(ne){if(nt(ne,Uint8Array)){const z=new Uint8Array(ne);return _(z.buffer,z.byteOffset,z.byteLength)}return y(ne)}function _(ne,z,W){if(z<0||ne.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(ne.byteLength<z+(W||0))throw new RangeError('"length" is outside of buffer bounds');let G;return z===void 0&&W===void 0?G=new Uint8Array(ne):W===void 0?G=new Uint8Array(ne,z):G=new Uint8Array(ne,z,W),Object.setPrototypeOf(G,s.prototype),G}function S(ne){if(s.isBuffer(ne)){const z=b(ne.length)|0,W=o(z);return W.length===0||ne.copy(W,0,0,z),W}if(ne.length!==void 0)return typeof ne.length!="number"||gt(ne.length)?o(0):y(ne);if(ne.type==="Buffer"&&Array.isArray(ne.data))return y(ne.data)}function b(ne){if(ne>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return ne|0}function x(ne){return+ne!=ne&&(ne=0),s.alloc(+ne)}s.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==s.prototype},s.compare=function(z,W){if(nt(z,Uint8Array)&&(z=s.from(z,z.offset,z.byteLength)),nt(W,Uint8Array)&&(W=s.from(W,W.offset,W.byteLength)),!s.isBuffer(z)||!s.isBuffer(W))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===W)return 0;let G=z.length,je=W.length;for(let Je=0,ke=Math.min(G,je);Je<ke;++Je)if(z[Je]!==W[Je]){G=z[Je],je=W[Je];break}return G<je?-1:je<G?1:0},s.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(z,W){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return s.alloc(0);let G;if(W===void 0)for(W=0,G=0;G<z.length;++G)W+=z[G].length;const je=s.allocUnsafe(W);let Je=0;for(G=0;G<z.length;++G){let ke=z[G];if(nt(ke,Uint8Array))Je+ke.length>je.length?(s.isBuffer(ke)||(ke=s.from(ke)),ke.copy(je,Je)):Uint8Array.prototype.set.call(je,ke,Je);else if(s.isBuffer(ke))ke.copy(je,Je);else throw new TypeError('"list" argument must be an Array of Buffers');Je+=ke.length}return je};function R(ne,z){if(s.isBuffer(ne))return ne.length;if(ArrayBuffer.isView(ne)||nt(ne,ArrayBuffer))return ne.byteLength;if(typeof ne!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ne);const W=ne.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&W===0)return 0;let je=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return W;case"utf8":case"utf-8":return ye(ne).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W*2;case"hex":return W>>>1;case"base64":return Fe(ne).length;default:if(je)return G?-1:ye(ne).length;z=(""+z).toLowerCase(),je=!0}}s.byteLength=R;function P(ne,z,W){let G=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((W===void 0||W>this.length)&&(W=this.length),W<=0)||(W>>>=0,z>>>=0,W<=z))return"";for(ne||(ne="utf8");;)switch(ne){case"hex":return Ae(this,z,W);case"utf8":case"utf-8":return se(this,z,W);case"ascii":return de(this,z,W);case"latin1":case"binary":return ue(this,z,W);case"base64":return te(this,z,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,z,W);default:if(G)throw new TypeError("Unknown encoding: "+ne);ne=(ne+"").toLowerCase(),G=!0}}s.prototype._isBuffer=!0;function O(ne,z,W){const G=ne[z];ne[z]=ne[W],ne[W]=G}s.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let W=0;W<z;W+=2)O(this,W,W+1);return this},s.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let W=0;W<z;W+=4)O(this,W,W+3),O(this,W+1,W+2);return this},s.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let W=0;W<z;W+=8)O(this,W,W+7),O(this,W+1,W+6),O(this,W+2,W+5),O(this,W+3,W+4);return this},s.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?se(this,0,z):P.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(z){if(!s.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:s.compare(this,z)===0},s.prototype.inspect=function(){let z="";const W=e.INSPECT_MAX_BYTES;return z=this.toString("hex",0,W).replace(/(.{2})/g,"$1 ").trim(),this.length>W&&(z+=" ... "),"<Buffer "+z+">"},r&&(s.prototype[r]=s.prototype.inspect),s.prototype.compare=function(z,W,G,je,Je){if(nt(z,Uint8Array)&&(z=s.from(z,z.offset,z.byteLength)),!s.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(W===void 0&&(W=0),G===void 0&&(G=z?z.length:0),je===void 0&&(je=0),Je===void 0&&(Je=this.length),W<0||G>z.length||je<0||Je>this.length)throw new RangeError("out of range index");if(je>=Je&&W>=G)return 0;if(je>=Je)return-1;if(W>=G)return 1;if(W>>>=0,G>>>=0,je>>>=0,Je>>>=0,this===z)return 0;let ke=Je-je,At=G-W;const It=Math.min(ke,At),Nt=this.slice(je,Je),Ot=z.slice(W,G);for(let zt=0;zt<It;++zt)if(Nt[zt]!==Ot[zt]){ke=Nt[zt],At=Ot[zt];break}return ke<At?-1:At<ke?1:0};function D(ne,z,W,G,je){if(ne.length===0)return-1;if(typeof W=="string"?(G=W,W=0):W>2147483647?W=2147483647:W<-2147483648&&(W=-2147483648),W=+W,gt(W)&&(W=je?0:ne.length-1),W<0&&(W=ne.length+W),W>=ne.length){if(je)return-1;W=ne.length-1}else if(W<0)if(je)W=0;else return-1;if(typeof z=="string"&&(z=s.from(z,G)),s.isBuffer(z))return z.length===0?-1:F(ne,z,W,G,je);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?je?Uint8Array.prototype.indexOf.call(ne,z,W):Uint8Array.prototype.lastIndexOf.call(ne,z,W):F(ne,[z],W,G,je);throw new TypeError("val must be string, number or Buffer")}function F(ne,z,W,G,je){let Je=1,ke=ne.length,At=z.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(ne.length<2||z.length<2)return-1;Je=2,ke/=2,At/=2,W/=2}function It(Ot,zt){return Je===1?Ot[zt]:Ot.readUInt16BE(zt*Je)}let Nt;if(je){let Ot=-1;for(Nt=W;Nt<ke;Nt++)if(It(ne,Nt)===It(z,Ot===-1?0:Nt-Ot)){if(Ot===-1&&(Ot=Nt),Nt-Ot+1===At)return Ot*Je}else Ot!==-1&&(Nt-=Nt-Ot),Ot=-1}else for(W+At>ke&&(W=ke-At),Nt=W;Nt>=0;Nt--){let Ot=!0;for(let zt=0;zt<At;zt++)if(It(ne,Nt+zt)!==It(z,zt)){Ot=!1;break}if(Ot)return Nt}return-1}s.prototype.includes=function(z,W,G){return this.indexOf(z,W,G)!==-1},s.prototype.indexOf=function(z,W,G){return D(this,z,W,G,!0)},s.prototype.lastIndexOf=function(z,W,G){return D(this,z,W,G,!1)};function Q(ne,z,W,G){W=Number(W)||0;const je=ne.length-W;G?(G=Number(G),G>je&&(G=je)):G=je;const Je=z.length;G>Je/2&&(G=Je/2);let ke;for(ke=0;ke<G;++ke){const At=parseInt(z.substr(ke*2,2),16);if(gt(At))return ke;ne[W+ke]=At}return ke}function Y(ne,z,W,G){return tt(ye(z,ne.length-W),ne,W,G)}function U(ne,z,W,G){return tt(He(z),ne,W,G)}function X(ne,z,W,G){return tt(Fe(z),ne,W,G)}function ce(ne,z,W,G){return tt(Ee(z,ne.length-W),ne,W,G)}s.prototype.write=function(z,W,G,je){if(W===void 0)je="utf8",G=this.length,W=0;else if(G===void 0&&typeof W=="string")je=W,G=this.length,W=0;else if(isFinite(W))W=W>>>0,isFinite(G)?(G=G>>>0,je===void 0&&(je="utf8")):(je=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Je=this.length-W;if((G===void 0||G>Je)&&(G=Je),z.length>0&&(G<0||W<0)||W>this.length)throw new RangeError("Attempt to write outside buffer bounds");je||(je="utf8");let ke=!1;for(;;)switch(je){case"hex":return Q(this,z,W,G);case"utf8":case"utf-8":return Y(this,z,W,G);case"ascii":case"latin1":case"binary":return U(this,z,W,G);case"base64":return X(this,z,W,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ce(this,z,W,G);default:if(ke)throw new TypeError("Unknown encoding: "+je);je=(""+je).toLowerCase(),ke=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(ne,z,W){return z===0&&W===ne.length?t.fromByteArray(ne):t.fromByteArray(ne.slice(z,W))}function se(ne,z,W){W=Math.min(ne.length,W);const G=[];let je=z;for(;je<W;){const Je=ne[je];let ke=null,At=Je>239?4:Je>223?3:Je>191?2:1;if(je+At<=W){let It,Nt,Ot,zt;switch(At){case 1:Je<128&&(ke=Je);break;case 2:It=ne[je+1],(It&192)===128&&(zt=(Je&31)<<6|It&63,zt>127&&(ke=zt));break;case 3:It=ne[je+1],Nt=ne[je+2],(It&192)===128&&(Nt&192)===128&&(zt=(Je&15)<<12|(It&63)<<6|Nt&63,zt>2047&&(zt<55296||zt>57343)&&(ke=zt));break;case 4:It=ne[je+1],Nt=ne[je+2],Ot=ne[je+3],(It&192)===128&&(Nt&192)===128&&(Ot&192)===128&&(zt=(Je&15)<<18|(It&63)<<12|(Nt&63)<<6|Ot&63,zt>65535&&zt<1114112&&(ke=zt))}}ke===null?(ke=65533,At=1):ke>65535&&(ke-=65536,G.push(ke>>>10&1023|55296),ke=56320|ke&1023),G.push(ke),je+=At}return _e(G)}const pe=4096;function _e(ne){const z=ne.length;if(z<=pe)return String.fromCharCode.apply(String,ne);let W="",G=0;for(;G<z;)W+=String.fromCharCode.apply(String,ne.slice(G,G+=pe));return W}function de(ne,z,W){let G="";W=Math.min(ne.length,W);for(let je=z;je<W;++je)G+=String.fromCharCode(ne[je]&127);return G}function ue(ne,z,W){let G="";W=Math.min(ne.length,W);for(let je=z;je<W;++je)G+=String.fromCharCode(ne[je]);return G}function Ae(ne,z,W){const G=ne.length;(!z||z<0)&&(z=0),(!W||W<0||W>G)&&(W=G);let je="";for(let Je=z;Je<W;++Je)je+=qt[ne[Je]];return je}function k(ne,z,W){const G=ne.slice(z,W);let je="";for(let Je=0;Je<G.length-1;Je+=2)je+=String.fromCharCode(G[Je]+G[Je+1]*256);return je}s.prototype.slice=function(z,W){const G=this.length;z=~~z,W=W===void 0?G:~~W,z<0?(z+=G,z<0&&(z=0)):z>G&&(z=G),W<0?(W+=G,W<0&&(W=0)):W>G&&(W=G),W<z&&(W=z);const je=this.subarray(z,W);return Object.setPrototypeOf(je,s.prototype),je};function ie(ne,z,W){if(ne%1!==0||ne<0)throw new RangeError("offset is not uint");if(ne+z>W)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=this[z],Je=1,ke=0;for(;++ke<W&&(Je*=256);)je+=this[z+ke]*Je;return je},s.prototype.readUintBE=s.prototype.readUIntBE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=this[z+--W],Je=1;for(;W>0&&(Je*=256);)je+=this[z+--W]*Je;return je},s.prototype.readUint8=s.prototype.readUInt8=function(z,W){return z=z>>>0,W||ie(z,1,this.length),this[z]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(z,W){return z=z>>>0,W||ie(z,2,this.length),this[z]|this[z+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(z,W){return z=z>>>0,W||ie(z,2,this.length),this[z]<<8|this[z+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},s.prototype.readBigUInt64LE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=W+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,Je=this[++z]+this[++z]*2**8+this[++z]*2**16+G*2**24;return BigInt(je)+(BigInt(Je)<<BigInt(32))}),s.prototype.readBigUInt64BE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=W*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],Je=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+G;return(BigInt(je)<<BigInt(32))+BigInt(Je)}),s.prototype.readIntLE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=this[z],Je=1,ke=0;for(;++ke<W&&(Je*=256);)je+=this[z+ke]*Je;return Je*=128,je>=Je&&(je-=Math.pow(2,8*W)),je},s.prototype.readIntBE=function(z,W,G){z=z>>>0,W=W>>>0,G||ie(z,W,this.length);let je=W,Je=1,ke=this[z+--je];for(;je>0&&(Je*=256);)ke+=this[z+--je]*Je;return Je*=128,ke>=Je&&(ke-=Math.pow(2,8*W)),ke},s.prototype.readInt8=function(z,W){return z=z>>>0,W||ie(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},s.prototype.readInt16LE=function(z,W){z=z>>>0,W||ie(z,2,this.length);const G=this[z]|this[z+1]<<8;return G&32768?G|4294901760:G},s.prototype.readInt16BE=function(z,W){z=z>>>0,W||ie(z,2,this.length);const G=this[z+1]|this[z]<<8;return G&32768?G|4294901760:G},s.prototype.readInt32LE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},s.prototype.readInt32BE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},s.prototype.readBigInt64LE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(G<<24);return(BigInt(je)<<BigInt(32))+BigInt(W+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),s.prototype.readBigInt64BE=Se(function(z){z=z>>>0,$(z,"offset");const W=this[z],G=this[z+7];(W===void 0||G===void 0)&&ae(z,this.length-8);const je=(W<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(je)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+G)}),s.prototype.readFloatLE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),n.read(this,z,!0,23,4)},s.prototype.readFloatBE=function(z,W){return z=z>>>0,W||ie(z,4,this.length),n.read(this,z,!1,23,4)},s.prototype.readDoubleLE=function(z,W){return z=z>>>0,W||ie(z,8,this.length),n.read(this,z,!0,52,8)},s.prototype.readDoubleBE=function(z,W){return z=z>>>0,W||ie(z,8,this.length),n.read(this,z,!1,52,8)};function me(ne,z,W,G,je,Je){if(!s.isBuffer(ne))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>je||z<Je)throw new RangeError('"value" argument is out of bounds');if(W+G>ne.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(z,W,G,je){if(z=+z,W=W>>>0,G=G>>>0,!je){const At=Math.pow(2,8*G)-1;me(this,z,W,G,At,0)}let Je=1,ke=0;for(this[W]=z&255;++ke<G&&(Je*=256);)this[W+ke]=z/Je&255;return W+G},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(z,W,G,je){if(z=+z,W=W>>>0,G=G>>>0,!je){const At=Math.pow(2,8*G)-1;me(this,z,W,G,At,0)}let Je=G-1,ke=1;for(this[W+Je]=z&255;--Je>=0&&(ke*=256);)this[W+Je]=z/ke&255;return W+G},s.prototype.writeUint8=s.prototype.writeUInt8=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,1,255,0),this[W]=z&255,W+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,65535,0),this[W]=z&255,this[W+1]=z>>>8,W+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,65535,0),this[W]=z>>>8,this[W+1]=z&255,W+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,4294967295,0),this[W+3]=z>>>24,this[W+2]=z>>>16,this[W+1]=z>>>8,this[W]=z&255,W+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,4294967295,0),this[W]=z>>>24,this[W+1]=z>>>16,this[W+2]=z>>>8,this[W+3]=z&255,W+4};function K(ne,z,W,G,je){H(z,G,je,ne,W,7);let Je=Number(z&BigInt(4294967295));ne[W++]=Je,Je=Je>>8,ne[W++]=Je,Je=Je>>8,ne[W++]=Je,Je=Je>>8,ne[W++]=Je;let ke=Number(z>>BigInt(32)&BigInt(4294967295));return ne[W++]=ke,ke=ke>>8,ne[W++]=ke,ke=ke>>8,ne[W++]=ke,ke=ke>>8,ne[W++]=ke,W}function ee(ne,z,W,G,je){H(z,G,je,ne,W,7);let Je=Number(z&BigInt(4294967295));ne[W+7]=Je,Je=Je>>8,ne[W+6]=Je,Je=Je>>8,ne[W+5]=Je,Je=Je>>8,ne[W+4]=Je;let ke=Number(z>>BigInt(32)&BigInt(4294967295));return ne[W+3]=ke,ke=ke>>8,ne[W+2]=ke,ke=ke>>8,ne[W+1]=ke,ke=ke>>8,ne[W]=ke,W+8}s.prototype.writeBigUInt64LE=Se(function(z,W=0){return K(this,z,W,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Se(function(z,W=0){return ee(this,z,W,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(z,W,G,je){if(z=+z,W=W>>>0,!je){const It=Math.pow(2,8*G-1);me(this,z,W,G,It-1,-It)}let Je=0,ke=1,At=0;for(this[W]=z&255;++Je<G&&(ke*=256);)z<0&&At===0&&this[W+Je-1]!==0&&(At=1),this[W+Je]=(z/ke>>0)-At&255;return W+G},s.prototype.writeIntBE=function(z,W,G,je){if(z=+z,W=W>>>0,!je){const It=Math.pow(2,8*G-1);me(this,z,W,G,It-1,-It)}let Je=G-1,ke=1,At=0;for(this[W+Je]=z&255;--Je>=0&&(ke*=256);)z<0&&At===0&&this[W+Je+1]!==0&&(At=1),this[W+Je]=(z/ke>>0)-At&255;return W+G},s.prototype.writeInt8=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,1,127,-128),z<0&&(z=255+z+1),this[W]=z&255,W+1},s.prototype.writeInt16LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,32767,-32768),this[W]=z&255,this[W+1]=z>>>8,W+2},s.prototype.writeInt16BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,2,32767,-32768),this[W]=z>>>8,this[W+1]=z&255,W+2},s.prototype.writeInt32LE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,2147483647,-2147483648),this[W]=z&255,this[W+1]=z>>>8,this[W+2]=z>>>16,this[W+3]=z>>>24,W+4},s.prototype.writeInt32BE=function(z,W,G){return z=+z,W=W>>>0,G||me(this,z,W,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[W]=z>>>24,this[W+1]=z>>>16,this[W+2]=z>>>8,this[W+3]=z&255,W+4},s.prototype.writeBigInt64LE=Se(function(z,W=0){return K(this,z,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Se(function(z,W=0){return ee(this,z,W,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ge(ne,z,W,G,je,Je){if(W+G>ne.length)throw new RangeError("Index out of range");if(W<0)throw new RangeError("Index out of range")}function Re(ne,z,W,G,je){return z=+z,W=W>>>0,je||ge(ne,z,W,4),n.write(ne,z,W,G,23,4),W+4}s.prototype.writeFloatLE=function(z,W,G){return Re(this,z,W,!0,G)},s.prototype.writeFloatBE=function(z,W,G){return Re(this,z,W,!1,G)};function Ze(ne,z,W,G,je){return z=+z,W=W>>>0,je||ge(ne,z,W,8),n.write(ne,z,W,G,52,8),W+8}s.prototype.writeDoubleLE=function(z,W,G){return Ze(this,z,W,!0,G)},s.prototype.writeDoubleBE=function(z,W,G){return Ze(this,z,W,!1,G)},s.prototype.copy=function(z,W,G,je){if(!s.isBuffer(z))throw new TypeError("argument should be a Buffer");if(G||(G=0),!je&&je!==0&&(je=this.length),W>=z.length&&(W=z.length),W||(W=0),je>0&&je<G&&(je=G),je===G||z.length===0||this.length===0)return 0;if(W<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(je<0)throw new RangeError("sourceEnd out of bounds");je>this.length&&(je=this.length),z.length-W<je-G&&(je=z.length-W+G);const Je=je-G;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(W,G,je):Uint8Array.prototype.set.call(z,this.subarray(G,je),W),Je},s.prototype.fill=function(z,W,G,je){if(typeof z=="string"){if(typeof W=="string"?(je=W,W=0,G=this.length):typeof G=="string"&&(je=G,G=this.length),je!==void 0&&typeof je!="string")throw new TypeError("encoding must be a string");if(typeof je=="string"&&!s.isEncoding(je))throw new TypeError("Unknown encoding: "+je);if(z.length===1){const ke=z.charCodeAt(0);(je==="utf8"&&ke<128||je==="latin1")&&(z=ke)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(W<0||this.length<W||this.length<G)throw new RangeError("Out of range index");if(G<=W)return this;W=W>>>0,G=G===void 0?this.length:G>>>0,z||(z=0);let Je;if(typeof z=="number")for(Je=W;Je<G;++Je)this[Je]=z;else{const ke=s.isBuffer(z)?z:s.from(z,je),At=ke.length;if(At===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(Je=0;Je<G-W;++Je)this[Je+W]=ke[Je%At]}return this};const Pe={};function Ne(ne,z,W){Pe[ne]=class extends W{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ne}]`,this.stack,delete this.name}get code(){return ne}set code(je){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:je,writable:!0})}toString(){return`${this.name} [${ne}]: ${this.message}`}}}Ne("ERR_BUFFER_OUT_OF_BOUNDS",function(ne){return ne?`${ne} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ne("ERR_INVALID_ARG_TYPE",function(ne,z){return`The "${ne}" argument must be of type number. Received type ${typeof z}`},TypeError),Ne("ERR_OUT_OF_RANGE",function(ne,z,W){let G=`The value of "${ne}" is out of range.`,je=W;return Number.isInteger(W)&&Math.abs(W)>2**32?je=Xe(String(W)):typeof W=="bigint"&&(je=String(W),(W>BigInt(2)**BigInt(32)||W<-(BigInt(2)**BigInt(32)))&&(je=Xe(je)),je+="n"),G+=` It must be ${z}. Received ${je}`,G},RangeError);function Xe(ne){let z="",W=ne.length;const G=ne[0]==="-"?1:0;for(;W>=G+4;W-=3)z=`_${ne.slice(W-3,W)}${z}`;return`${ne.slice(0,W)}${z}`}function oe(ne,z,W){$(z,"offset"),(ne[z]===void 0||ne[z+W]===void 0)&&ae(z,ne.length-(W+1))}function H(ne,z,W,G,je,Je){if(ne>W||ne<z){const ke=typeof z=="bigint"?"n":"";let At;throw z===0||z===BigInt(0)?At=`>= 0${ke} and < 2${ke} ** ${(Je+1)*8}${ke}`:At=`>= -(2${ke} ** ${(Je+1)*8-1}${ke}) and < 2 ** ${(Je+1)*8-1}${ke}`,new Pe.ERR_OUT_OF_RANGE("value",At,ne)}oe(G,je,Je)}function $(ne,z){if(typeof ne!="number")throw new Pe.ERR_INVALID_ARG_TYPE(z,"number",ne)}function ae(ne,z,W){throw Math.floor(ne)!==ne?($(ne,W),new Pe.ERR_OUT_OF_RANGE("offset","an integer",ne)):z<0?new Pe.ERR_BUFFER_OUT_OF_BOUNDS:new Pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,ne)}const Z=/[^+/0-9A-Za-z-_]/g;function he(ne){if(ne=ne.split("=")[0],ne=ne.trim().replace(Z,""),ne.length<2)return"";for(;ne.length%4!==0;)ne=ne+"=";return ne}function ye(ne,z){z=z||1/0;let W;const G=ne.length;let je=null;const Je=[];for(let ke=0;ke<G;++ke){if(W=ne.charCodeAt(ke),W>55295&&W<57344){if(!je){if(W>56319){(z-=3)>-1&&Je.push(239,191,189);continue}else if(ke+1===G){(z-=3)>-1&&Je.push(239,191,189);continue}je=W;continue}if(W<56320){(z-=3)>-1&&Je.push(239,191,189),je=W;continue}W=(je-55296<<10|W-56320)+65536}else je&&(z-=3)>-1&&Je.push(239,191,189);if(je=null,W<128){if((z-=1)<0)break;Je.push(W)}else if(W<2048){if((z-=2)<0)break;Je.push(W>>6|192,W&63|128)}else if(W<65536){if((z-=3)<0)break;Je.push(W>>12|224,W>>6&63|128,W&63|128)}else if(W<1114112){if((z-=4)<0)break;Je.push(W>>18|240,W>>12&63|128,W>>6&63|128,W&63|128)}else throw new Error("Invalid code point")}return Je}function He(ne){const z=[];for(let W=0;W<ne.length;++W)z.push(ne.charCodeAt(W)&255);return z}function Ee(ne,z){let W,G,je;const Je=[];for(let ke=0;ke<ne.length&&!((z-=2)<0);++ke)W=ne.charCodeAt(ke),G=W>>8,je=W%256,Je.push(je),Je.push(G);return Je}function Fe(ne){return t.toByteArray(he(ne))}function tt(ne,z,W,G){let je;for(je=0;je<G&&!(je+W>=z.length||je>=ne.length);++je)z[je+W]=ne[je];return je}function nt(ne,z){return ne instanceof z||ne!=null&&ne.constructor!=null&&ne.constructor.name!=null&&ne.constructor.name===z.name}function gt(ne){return ne!==ne}const qt=function(){const ne="0123456789abcdef",z=new Array(256);for(let W=0;W<16;++W){const G=W*16;for(let je=0;je<16;++je)z[G+je]=ne[W]+ne[je]}return z}();function Se(ne){return typeof BigInt>"u"?Ue:ne}function Ue(){throw new Error("BigInt not supported")}}(_x)),_x}var wx,yN;function Kr(){return yN||(yN=1,wx={ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,n){return e.slice(t,n)},Error,FunctionPrototypeCall(e,t,...n){return e.call(t,...n)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,n){return e.then(t,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,n){return e.set(t,n)},Boolean,Uint8Array}),wx}var bx={exports:{}},lg={exports:{}},vN;function Gm(){if(vN)return lg.exports;vN=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return lg.exports=e,lg.exports.AbortSignal=t,lg.exports.default=e,lg.exports}var _N;function ma(){return _N||(_N=1,function(e){const t=Nu(),{kResistStopPropagation:n,SymbolDispose:r}=Kr(),i=globalThis.AbortSignal||Gm().AbortSignal,a=globalThis.AbortController||Gm().AbortController,o=Object.getPrototypeOf(async function(){}).constructor,s=globalThis.Blob||t.Blob,l=typeof s<"u"?function(y){return y instanceof s}:function(y){return!1},c=(m,y)=>{if(m!==void 0&&(m===null||typeof m!="object"||!("aborted"in m)))throw new ERR_INVALID_ARG_TYPE(y,"AbortSignal",m)},d=(m,y)=>{if(typeof m!="function")throw new ERR_INVALID_ARG_TYPE(y,"Function",m)};class h extends Error{constructor(y){if(!Array.isArray(y))throw new TypeError(`Expected input to be an Array, got ${typeof y}`);let v="";for(let _=0;_<y.length;_++)v+=`    ${y[_].stack}
`;super(v),this.name="AggregateError",this.errors=y}}e.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(m){let y=!1;return function(...v){y||(y=!0,m.apply(this,v))}},createDeferredPromise:function(){let m,y;return{promise:new Promise((_,S)=>{m=_,y=S}),resolve:m,reject:y}},promisify(m){return new Promise((y,v)=>{m((_,...S)=>_?v(_):y(...S))})},debuglog(){return function(){}},format(m,...y){return m.replace(/%([sdifj])/g,function(...[v,_]){const S=y.shift();return _==="f"?S.toFixed(6):_==="j"?JSON.stringify(S):_==="s"&&typeof S=="object"?`${S.constructor!==Object?S.constructor.name:""} {}`.trim():S.toString()})},inspect(m){switch(typeof m){case"string":if(m.includes("'"))if(m.includes('"')){if(!m.includes("`")&&!m.includes("${"))return`\`${m}\``}else return`"${m}"`;return`'${m}'`;case"number":return isNaN(m)?"NaN":Object.is(m,-0)?String(m):m;case"bigint":return`${String(m)}n`;case"boolean":case"undefined":return String(m);case"object":return"{}"}},types:{isAsyncFunction(m){return m instanceof o},isArrayBufferView(m){return ArrayBuffer.isView(m)}},isBlob:l,deprecate(m,y){return m},addAbortListener:qh().addAbortListener||function(y,v){if(y===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",y);c(y,"signal"),d(v,"listener");let _;return y.aborted?queueMicrotask(()=>v()):(y.addEventListener("abort",v,{__proto__:null,once:!0,[n]:!0}),_=()=>{y.removeEventListener("abort",v)}),{__proto__:null,[r](){var S;(S=_)===null||S===void 0||S()}}},AbortSignalAny:i.any||function(y){if(y.length===1)return y[0];const v=new a,_=()=>v.abort();return y.forEach(S=>{c(S,"signals"),S.addEventListener("abort",_,{once:!0})}),v.signal.addEventListener("abort",()=>{y.forEach(S=>S.removeEventListener("abort",_))},{once:!0}),v.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(bx)),bx.exports}var a_={},Sx,wN;function Ia(){if(wN)return Sx;wN=1;const{format:e,inspect:t,AggregateError:n}=ma(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],o=/^([A-Z][a-z0-9]*)+$/,s="__node_internal_",l={};function c(S,b){if(!S)throw new l.ERR_INTERNAL_ASSERTION(b)}function d(S){let b="",x=S.length;const R=S[0]==="-"?1:0;for(;x>=R+4;x-=3)b=`_${S.slice(x-3,x)}${b}`;return`${S.slice(0,x)}${b}`}function h(S,b,x){if(typeof b=="function")return c(b.length<=x.length,`Code: ${S}; The provided arguments length (${x.length}) does not match the required ones (${b.length}).`),b(...x);const R=(b.match(/%[dfijoOs]/g)||[]).length;return c(R===x.length,`Code: ${S}; The provided arguments length (${x.length}) does not match the required ones (${R}).`),x.length===0?b:e(b,...x)}function m(S,b,x){x||(x=Error);class R extends x{constructor(...O){super(h(S,b,O))}toString(){return`${this.name} [${S}]: ${this.message}`}}Object.defineProperties(R.prototype,{name:{value:x.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${S}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),R.prototype.code=S,R.prototype[i]=!0,l[S]=R}function y(S){const b=s+S.name;return Object.defineProperty(S,"name",{value:b}),S}function v(S,b){if(S&&b&&S!==b){if(Array.isArray(b.errors))return b.errors.push(S),b;const x=new r([b,S],b.message);return x.code=b.code,x}return S||b}class _ extends Error{constructor(b="The operation was aborted",x=void 0){if(x!==void 0&&typeof x!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",x);super(b,x),this.code="ABORT_ERR",this.name="AbortError"}}return m("ERR_ASSERTION","%s",Error),m("ERR_INVALID_ARG_TYPE",(S,b,x)=>{c(typeof S=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let R="The ";S.endsWith(" argument")?R+=`${S} `:R+=`"${S}" ${S.includes(".")?"property":"argument"} `,R+="must be ";const P=[],O=[],D=[];for(const Q of b)c(typeof Q=="string","All expected entries have to be of type string"),a.includes(Q)?P.push(Q.toLowerCase()):o.test(Q)?O.push(Q):(c(Q!=="object",'The value "object" should be written as "Object"'),D.push(Q));if(O.length>0){const Q=P.indexOf("object");Q!==-1&&(P.splice(P,Q,1),O.push("Object"))}if(P.length>0){switch(P.length){case 1:R+=`of type ${P[0]}`;break;case 2:R+=`one of type ${P[0]} or ${P[1]}`;break;default:{const Q=P.pop();R+=`one of type ${P.join(", ")}, or ${Q}`}}(O.length>0||D.length>0)&&(R+=" or ")}if(O.length>0){switch(O.length){case 1:R+=`an instance of ${O[0]}`;break;case 2:R+=`an instance of ${O[0]} or ${O[1]}`;break;default:{const Q=O.pop();R+=`an instance of ${O.join(", ")}, or ${Q}`}}D.length>0&&(R+=" or ")}switch(D.length){case 0:break;case 1:D[0].toLowerCase()!==D[0]&&(R+="an "),R+=`${D[0]}`;break;case 2:R+=`one of ${D[0]} or ${D[1]}`;break;default:{const Q=D.pop();R+=`one of ${D.join(", ")}, or ${Q}`}}if(x==null)R+=`. Received ${x}`;else if(typeof x=="function"&&x.name)R+=`. Received function ${x.name}`;else if(typeof x=="object"){var F;if((F=x.constructor)!==null&&F!==void 0&&F.name)R+=`. Received an instance of ${x.constructor.name}`;else{const Q=t(x,{depth:-1});R+=`. Received ${Q}`}}else{let Q=t(x,{colors:!1});Q.length>25&&(Q=`${Q.slice(0,25)}...`),R+=`. Received type ${typeof x} (${Q})`}return R},TypeError),m("ERR_INVALID_ARG_VALUE",(S,b,x="is invalid")=>{let R=t(b);return R.length>128&&(R=R.slice(0,128)+"..."),`The ${S.includes(".")?"property":"argument"} '${S}' ${x}. Received ${R}`},TypeError),m("ERR_INVALID_RETURN_VALUE",(S,b,x)=>{var R;const P=x!=null&&(R=x.constructor)!==null&&R!==void 0&&R.name?`instance of ${x.constructor.name}`:`type ${typeof x}`;return`Expected ${S} to be returned from the "${b}" function but got ${P}.`},TypeError),m("ERR_MISSING_ARGS",(...S)=>{c(S.length>0,"At least one arg needs to be specified");let b;const x=S.length;switch(S=(Array.isArray(S)?S:[S]).map(R=>`"${R}"`).join(" or "),x){case 1:b+=`The ${S[0]} argument`;break;case 2:b+=`The ${S[0]} and ${S[1]} arguments`;break;default:{const R=S.pop();b+=`The ${S.join(", ")}, and ${R} arguments`}break}return`${b} must be specified`},TypeError),m("ERR_OUT_OF_RANGE",(S,b,x)=>{c(b,'Missing "range" argument');let R;return Number.isInteger(x)&&Math.abs(x)>2**32?R=d(String(x)):typeof x=="bigint"?(R=String(x),(x>2n**32n||x<-(2n**32n))&&(R=d(R)),R+="n"):R=t(x),`The value of "${S}" is out of range. It must be ${b}. Received ${R}`},RangeError),m("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),m("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),m("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),m("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),m("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),m("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),m("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),m("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),m("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),m("ERR_STREAM_WRITE_AFTER_END","write after end",Error),m("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Sx={AbortError:_,aggregateTwoErrors:y(v),hideStackFrames:y,codes:l},Sx}var xx,bN;function by(){if(bN)return xx;bN=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:o,NumberMIN_SAFE_INTEGER:s,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:d,String:h,StringPrototypeToUpperCase:m,StringPrototypeTrim:y}=Kr(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:S,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:x,ERR_UNKNOWN_SIGNAL:R}}=Ia(),{normalizeEncoding:P}=ma(),{isAsyncFunction:O,isArrayBufferView:D}=ma().types,F={};function Q(Ee){return Ee===(Ee|0)}function Y(Ee){return Ee===Ee>>>0}const U=/^[0-7]+$/,X="must be a 32-bit unsigned integer or an octal string";function ce(Ee,Fe,tt){if(typeof Ee>"u"&&(Ee=tt),typeof Ee=="string"){if(d(U,Ee)===null)throw new b(Fe,Ee,X);Ee=l(Ee,8)}return pe(Ee,Fe),Ee}const te=v((Ee,Fe,tt=s,nt=o)=>{if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(!i(Ee))throw new x(Fe,"an integer",Ee);if(Ee<tt||Ee>nt)throw new x(Fe,`>= ${tt} && <= ${nt}`,Ee)}),se=v((Ee,Fe,tt=-2147483648,nt=2147483647)=>{if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(!i(Ee))throw new x(Fe,"an integer",Ee);if(Ee<tt||Ee>nt)throw new x(Fe,`>= ${tt} && <= ${nt}`,Ee)}),pe=v((Ee,Fe,tt=!1)=>{if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(!i(Ee))throw new x(Fe,"an integer",Ee);const nt=tt?1:0,gt=4294967295;if(Ee<nt||Ee>gt)throw new x(Fe,`>= ${nt} && <= ${gt}`,Ee)});function _e(Ee,Fe){if(typeof Ee!="string")throw new S(Fe,"string",Ee)}function de(Ee,Fe,tt=void 0,nt){if(typeof Ee!="number")throw new S(Fe,"number",Ee);if(tt!=null&&Ee<tt||nt!=null&&Ee>nt||(tt!=null||nt!=null)&&a(Ee))throw new x(Fe,`${tt!=null?`>= ${tt}`:""}${tt!=null&&nt!=null?" && ":""}${nt!=null?`<= ${nt}`:""}`,Ee)}const ue=v((Ee,Fe,tt)=>{if(!t(tt,Ee)){const gt="must be one of: "+n(r(tt,qt=>typeof qt=="string"?`'${qt}'`:h(qt)),", ");throw new b(Fe,Ee,gt)}});function Ae(Ee,Fe){if(typeof Ee!="boolean")throw new S(Fe,"boolean",Ee)}function k(Ee,Fe,tt){return Ee==null||!c(Ee,Fe)?tt:Ee[Fe]}const ie=v((Ee,Fe,tt=null)=>{const nt=k(tt,"allowArray",!1),gt=k(tt,"allowFunction",!1);if(!k(tt,"nullable",!1)&&Ee===null||!nt&&e(Ee)||typeof Ee!="object"&&(!gt||typeof Ee!="function"))throw new S(Fe,"Object",Ee)}),me=v((Ee,Fe)=>{if(Ee!=null&&typeof Ee!="object"&&typeof Ee!="function")throw new S(Fe,"a dictionary",Ee)}),K=v((Ee,Fe,tt=0)=>{if(!e(Ee))throw new S(Fe,"Array",Ee);if(Ee.length<tt){const nt=`must be longer than ${tt}`;throw new b(Fe,Ee,nt)}});function ee(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++)_e(Ee[tt],`${Fe}[${tt}]`)}function ge(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++)Ae(Ee[tt],`${Fe}[${tt}]`)}function Re(Ee,Fe){K(Ee,Fe);for(let tt=0;tt<Ee.length;tt++){const nt=Ee[tt],gt=`${Fe}[${tt}]`;if(nt==null)throw new S(gt,"AbortSignal",nt);oe(nt,gt)}}function Ze(Ee,Fe="signal"){if(_e(Ee,Fe),F[Ee]===void 0)throw F[m(Ee)]!==void 0?new R(Ee+" (signals must use all capital letters)"):new R(Ee)}const Pe=v((Ee,Fe="buffer")=>{if(!D(Ee))throw new S(Fe,["Buffer","TypedArray","DataView"],Ee)});function Ne(Ee,Fe){const tt=P(Fe),nt=Ee.length;if(tt==="hex"&&nt%2!==0)throw new b("encoding",Fe,`is invalid for data of length ${nt}`)}function Xe(Ee,Fe="Port",tt=!0){if(typeof Ee!="number"&&typeof Ee!="string"||typeof Ee=="string"&&y(Ee).length===0||+Ee!==+Ee>>>0||Ee>65535||Ee===0&&!tt)throw new _(Fe,Ee,tt);return Ee|0}const oe=v((Ee,Fe)=>{if(Ee!==void 0&&(Ee===null||typeof Ee!="object"||!("aborted"in Ee)))throw new S(Fe,"AbortSignal",Ee)}),H=v((Ee,Fe)=>{if(typeof Ee!="function")throw new S(Fe,"Function",Ee)}),$=v((Ee,Fe)=>{if(typeof Ee!="function"||O(Ee))throw new S(Fe,"Function",Ee)}),ae=v((Ee,Fe)=>{if(Ee!==void 0)throw new S(Fe,"undefined",Ee)});function Z(Ee,Fe,tt){if(!t(tt,Ee))throw new S(Fe,`('${n(tt,"|")}')`,Ee)}const he=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ye(Ee,Fe){if(typeof Ee>"u"||!d(he,Ee))throw new b(Fe,Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function He(Ee){if(typeof Ee=="string")return ye(Ee,"hints"),Ee;if(e(Ee)){const Fe=Ee.length;let tt="";if(Fe===0)return tt;for(let nt=0;nt<Fe;nt++){const gt=Ee[nt];ye(gt,"hints"),tt+=gt,nt!==Fe-1&&(tt+=", ")}return tt}throw new b("hints",Ee,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return xx={isInt32:Q,isUint32:Y,parseFileMode:ce,validateArray:K,validateStringArray:ee,validateBooleanArray:ge,validateAbortSignalArray:Re,validateBoolean:Ae,validateBuffer:Pe,validateDictionary:me,validateEncoding:Ne,validateFunction:H,validateInt32:se,validateInteger:te,validateNumber:de,validateObject:ie,validateOneOf:ue,validatePlainFunction:$,validatePort:Xe,validateSignalName:Ze,validateString:_e,validateUint32:pe,validateUndefined:ae,validateUnion:Z,validateAbortSignal:oe,validateLinkHeaderValue:He},xx}var o_={exports:{}},Ex={exports:{}},SN;function Nf(){if(SN)return Ex.exports;SN=1;var e=Ex.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch{t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch{n=i}})();function a(_){if(t===setTimeout)return setTimeout(_,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(_,0);try{return t(_,0)}catch{try{return t.call(null,_,0)}catch{return t.call(this,_,0)}}}function o(_){if(n===clearTimeout)return clearTimeout(_);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(_);try{return n(_)}catch{try{return n.call(null,_)}catch{return n.call(this,_)}}}var s=[],l=!1,c,d=-1;function h(){!l||!c||(l=!1,c.length?s=c.concat(s):d=-1,s.length&&m())}function m(){if(!l){var _=a(h);l=!0;for(var S=s.length;S;){for(c=s,s=[];++d<S;)c&&c[d].run();d=-1,S=s.length}c=null,l=!1,o(_)}}e.nextTick=function(_){var S=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)S[b-1]=arguments[b];s.push(new y(_,S)),s.length===1&&!l&&a(m)};function y(_,S){this.fun=_,this.array=S}y.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}return e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(_){return[]},e.binding=function(_){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(_){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},Ex.exports}var Cx,xN;function Fu(){if(xN)return Cx;xN=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=Kr(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),a=n("nodejs.stream.readable"),o=n("nodejs.stream.writable"),s=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function d(k,ie=!1){var me;return!!(k&&typeof k.pipe=="function"&&typeof k.on=="function"&&(!ie||typeof k.pause=="function"&&typeof k.resume=="function")&&(!k._writableState||((me=k._readableState)===null||me===void 0?void 0:me.readable)!==!1)&&(!k._writableState||k._readableState))}function h(k){var ie;return!!(k&&typeof k.write=="function"&&typeof k.on=="function"&&(!k._readableState||((ie=k._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function m(k){return!!(k&&typeof k.pipe=="function"&&k._readableState&&typeof k.on=="function"&&typeof k.write=="function")}function y(k){return k&&(k._readableState||k._writableState||typeof k.write=="function"&&typeof k.on=="function"||typeof k.pipe=="function"&&typeof k.on=="function")}function v(k){return!!(k&&!y(k)&&typeof k.pipeThrough=="function"&&typeof k.getReader=="function"&&typeof k.cancel=="function")}function _(k){return!!(k&&!y(k)&&typeof k.getWriter=="function"&&typeof k.abort=="function")}function S(k){return!!(k&&!y(k)&&typeof k.readable=="object"&&typeof k.writable=="object")}function b(k){return v(k)||_(k)||S(k)}function x(k,ie){return k==null?!1:ie===!0?typeof k[e]=="function":ie===!1?typeof k[t]=="function":typeof k[e]=="function"||typeof k[t]=="function"}function R(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,K=ie||me;return!!(k.destroyed||k[r]||K!=null&&K.destroyed)}function P(k){if(!h(k))return null;if(k.writableEnded===!0)return!0;const ie=k._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function O(k,ie){if(!h(k))return null;if(k.writableFinished===!0)return!0;const me=k._writableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.finished)!="boolean"?null:!!(me.finished||ie===!1&&me.ended===!0&&me.length===0)}function D(k){if(!d(k))return null;if(k.readableEnded===!0)return!0;const ie=k._readableState;return!ie||ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function F(k,ie){if(!d(k))return null;const me=k._readableState;return me!=null&&me.errored?!1:typeof(me==null?void 0:me.endEmitted)!="boolean"?null:!!(me.endEmitted||ie===!1&&me.ended===!0&&me.length===0)}function Q(k){return k&&k[a]!=null?k[a]:typeof(k==null?void 0:k.readable)!="boolean"?null:R(k)?!1:d(k)&&k.readable&&!F(k)}function Y(k){return k&&k[o]!=null?k[o]:typeof(k==null?void 0:k.writable)!="boolean"?null:R(k)?!1:h(k)&&k.writable&&!P(k)}function U(k,ie){return y(k)?R(k)?!0:!((ie==null?void 0:ie.readable)!==!1&&Q(k)||(ie==null?void 0:ie.writable)!==!1&&Y(k)):null}function X(k){var ie,me;return y(k)?k.writableErrored?k.writableErrored:(ie=(me=k._writableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function ce(k){var ie,me;return y(k)?k.readableErrored?k.readableErrored:(ie=(me=k._readableState)===null||me===void 0?void 0:me.errored)!==null&&ie!==void 0?ie:null:null}function te(k){if(!y(k))return null;if(typeof k.closed=="boolean")return k.closed;const ie=k._writableState,me=k._readableState;return typeof(ie==null?void 0:ie.closed)=="boolean"||typeof(me==null?void 0:me.closed)=="boolean"?(ie==null?void 0:ie.closed)||(me==null?void 0:me.closed):typeof k._closed=="boolean"&&se(k)?k._closed:null}function se(k){return typeof k._closed=="boolean"&&typeof k._defaultKeepAlive=="boolean"&&typeof k._removedConnection=="boolean"&&typeof k._removedContLen=="boolean"}function pe(k){return typeof k._sent100=="boolean"&&se(k)}function _e(k){var ie;return typeof k._consuming=="boolean"&&typeof k._dumped=="boolean"&&((ie=k.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function de(k){if(!y(k))return null;const ie=k._writableState,me=k._readableState,K=ie||me;return!K&&pe(k)||!!(K&&K.autoDestroy&&K.emitClose&&K.closed===!1)}function ue(k){var ie;return!!(k&&((ie=k[s])!==null&&ie!==void 0?ie:k.readableDidRead||k.readableAborted))}function Ae(k){var ie,me,K,ee,ge,Re,Ze,Pe,Ne,Xe;return!!(k&&((ie=(me=(K=(ee=(ge=(Re=k[i])!==null&&Re!==void 0?Re:k.readableErrored)!==null&&ge!==void 0?ge:k.writableErrored)!==null&&ee!==void 0?ee:(Ze=k._readableState)===null||Ze===void 0?void 0:Ze.errorEmitted)!==null&&K!==void 0?K:(Pe=k._writableState)===null||Pe===void 0?void 0:Pe.errorEmitted)!==null&&me!==void 0?me:(Ne=k._readableState)===null||Ne===void 0?void 0:Ne.errored)!==null&&ie!==void 0?ie:!((Xe=k._writableState)===null||Xe===void 0)&&Xe.errored))}return Cx={isDestroyed:R,kIsDestroyed:r,isDisturbed:ue,kIsDisturbed:s,isErrored:Ae,kIsErrored:i,isReadable:Q,kIsReadable:a,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:o,isClosed:te,isDuplexNodeStream:m,isFinished:U,isIterable:x,isReadableNodeStream:d,isReadableStream:v,isReadableEnded:D,isReadableFinished:F,isReadableErrored:ce,isNodeStream:y,isWebStream:b,isWritable:Y,isWritableNodeStream:h,isWritableStream:_,isWritableEnded:P,isWritableFinished:O,isWritableErrored:X,isServerRequest:_e,isServerResponse:pe,willEmitClose:de,isTransformStream:S},Cx}var EN;function rc(){if(EN)return o_.exports;EN=1;const e=Nf(),{AbortError:t,codes:n}=Ia(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:a,once:o}=ma(),{validateAbortSignal:s,validateFunction:l,validateObject:c,validateBoolean:d}=by(),{Promise:h,PromisePrototypeThen:m,SymbolDispose:y}=Kr(),{isClosed:v,isReadable:_,isReadableNodeStream:S,isReadableStream:b,isReadableFinished:x,isReadableErrored:R,isWritable:P,isWritableNodeStream:O,isWritableStream:D,isWritableFinished:F,isWritableErrored:Q,isNodeStream:Y,willEmitClose:U,kIsClosedPromise:X}=Fu();let ce;function te(ue){return ue.setHeader&&typeof ue.abort=="function"}const se=()=>{};function pe(ue,Ae,k){var ie,me;if(arguments.length===2?(k=Ae,Ae=a):Ae==null?Ae=a:c(Ae,"options"),l(k,"callback"),s(Ae.signal,"options.signal"),k=o(k),b(ue)||D(ue))return _e(ue,Ae,k);if(!Y(ue))throw new r("stream",["ReadableStream","WritableStream","Stream"],ue);const K=(ie=Ae.readable)!==null&&ie!==void 0?ie:S(ue),ee=(me=Ae.writable)!==null&&me!==void 0?me:O(ue),ge=ue._writableState,Re=ue._readableState,Ze=()=>{ue.writable||Xe()};let Pe=U(ue)&&S(ue)===K&&O(ue)===ee,Ne=F(ue,!1);const Xe=()=>{Ne=!0,ue.destroyed&&(Pe=!1),!(Pe&&(!ue.readable||K))&&(!K||oe)&&k.call(ue)};let oe=x(ue,!1);const H=()=>{oe=!0,ue.destroyed&&(Pe=!1),!(Pe&&(!ue.writable||ee))&&(!ee||Ne)&&k.call(ue)},$=Ee=>{k.call(ue,Ee)};let ae=v(ue);const Z=()=>{ae=!0;const Ee=Q(ue)||R(ue);if(Ee&&typeof Ee!="boolean")return k.call(ue,Ee);if(K&&!oe&&S(ue,!0)&&!x(ue,!1))return k.call(ue,new i);if(ee&&!Ne&&!F(ue,!1))return k.call(ue,new i);k.call(ue)},he=()=>{ae=!0;const Ee=Q(ue)||R(ue);if(Ee&&typeof Ee!="boolean")return k.call(ue,Ee);k.call(ue)},ye=()=>{ue.req.on("finish",Xe)};te(ue)?(ue.on("complete",Xe),Pe||ue.on("abort",Z),ue.req?ye():ue.on("request",ye)):ee&&!ge&&(ue.on("end",Ze),ue.on("close",Ze)),!Pe&&typeof ue.aborted=="boolean"&&ue.on("aborted",Z),ue.on("end",H),ue.on("finish",Xe),Ae.error!==!1&&ue.on("error",$),ue.on("close",Z),ae?e.nextTick(Z):ge!=null&&ge.errorEmitted||Re!=null&&Re.errorEmitted?Pe||e.nextTick(he):(!K&&(!Pe||_(ue))&&(Ne||P(ue)===!1)||!ee&&(!Pe||P(ue))&&(oe||_(ue)===!1)||Re&&ue.req&&ue.aborted)&&e.nextTick(he);const He=()=>{k=se,ue.removeListener("aborted",Z),ue.removeListener("complete",Xe),ue.removeListener("abort",Z),ue.removeListener("request",ye),ue.req&&ue.req.removeListener("finish",Xe),ue.removeListener("end",Ze),ue.removeListener("close",Ze),ue.removeListener("finish",Xe),ue.removeListener("end",H),ue.removeListener("error",$),ue.removeListener("close",Z)};if(Ae.signal&&!ae){const Ee=()=>{const Fe=k;He(),Fe.call(ue,new t(void 0,{cause:Ae.signal.reason}))};if(Ae.signal.aborted)e.nextTick(Ee);else{ce=ce||ma().addAbortListener;const Fe=ce(Ae.signal,Ee),tt=k;k=o((...nt)=>{Fe[y](),tt.apply(ue,nt)})}}return He}function _e(ue,Ae,k){let ie=!1,me=se;if(Ae.signal)if(me=()=>{ie=!0,k.call(ue,new t(void 0,{cause:Ae.signal.reason}))},Ae.signal.aborted)e.nextTick(me);else{ce=ce||ma().addAbortListener;const ee=ce(Ae.signal,me),ge=k;k=o((...Re)=>{ee[y](),ge.apply(ue,Re)})}const K=(...ee)=>{ie||e.nextTick(()=>k.apply(ue,ee))};return m(ue[X].promise,K,K),se}function de(ue,Ae){var k;let ie=!1;return Ae===null&&(Ae=a),(k=Ae)!==null&&k!==void 0&&k.cleanup&&(d(Ae.cleanup,"cleanup"),ie=Ae.cleanup),new h((me,K)=>{const ee=pe(ue,Ae,ge=>{ie&&ee(),ge?K(ge):me()})})}return o_.exports=pe,o_.exports.finished=de,o_.exports}var Tx,CN;function Hh(){if(CN)return Tx;CN=1;const e=Nf(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Ia(),{Symbol:i}=Kr(),{kIsDestroyed:a,isDestroyed:o,isFinished:s,isServerRequest:l}=Fu(),c=i("kDestroy"),d=i("kConstruct");function h(U,X,ce){U&&(U.stack,X&&!X.errored&&(X.errored=U),ce&&!ce.errored&&(ce.errored=U))}function m(U,X){const ce=this._readableState,te=this._writableState,se=te||ce;return te!=null&&te.destroyed||ce!=null&&ce.destroyed?(typeof X=="function"&&X(),this):(h(U,te,ce),te&&(te.destroyed=!0),ce&&(ce.destroyed=!0),se.constructed?y(this,U,X):this.once(c,function(pe){y(this,t(pe,U),X)}),this)}function y(U,X,ce){let te=!1;function se(pe){if(te)return;te=!0;const _e=U._readableState,de=U._writableState;h(pe,de,_e),de&&(de.closed=!0),_e&&(_e.closed=!0),typeof ce=="function"&&ce(pe),pe?e.nextTick(v,U,pe):e.nextTick(_,U)}try{U._destroy(X||null,se)}catch(pe){se(pe)}}function v(U,X){S(U,X),_(U)}function _(U){const X=U._readableState,ce=U._writableState;ce&&(ce.closeEmitted=!0),X&&(X.closeEmitted=!0),(ce!=null&&ce.emitClose||X!=null&&X.emitClose)&&U.emit("close")}function S(U,X){const ce=U._readableState,te=U._writableState;te!=null&&te.errorEmitted||ce!=null&&ce.errorEmitted||(te&&(te.errorEmitted=!0),ce&&(ce.errorEmitted=!0),U.emit("error",X))}function b(){const U=this._readableState,X=this._writableState;U&&(U.constructed=!0,U.closed=!1,U.closeEmitted=!1,U.destroyed=!1,U.errored=null,U.errorEmitted=!1,U.reading=!1,U.ended=U.readable===!1,U.endEmitted=U.readable===!1),X&&(X.constructed=!0,X.destroyed=!1,X.closed=!1,X.closeEmitted=!1,X.errored=null,X.errorEmitted=!1,X.finalCalled=!1,X.prefinished=!1,X.ended=X.writable===!1,X.ending=X.writable===!1,X.finished=X.writable===!1)}function x(U,X,ce){const te=U._readableState,se=U._writableState;if(se!=null&&se.destroyed||te!=null&&te.destroyed)return this;te!=null&&te.autoDestroy||se!=null&&se.autoDestroy?U.destroy(X):X&&(X.stack,se&&!se.errored&&(se.errored=X),te&&!te.errored&&(te.errored=X),ce?e.nextTick(S,U,X):S(U,X))}function R(U,X){if(typeof U._construct!="function")return;const ce=U._readableState,te=U._writableState;ce&&(ce.constructed=!1),te&&(te.constructed=!1),U.once(d,X),!(U.listenerCount(d)>1)&&e.nextTick(P,U)}function P(U){let X=!1;function ce(te){if(X){x(U,te??new n);return}X=!0;const se=U._readableState,pe=U._writableState,_e=pe||se;se&&(se.constructed=!0),pe&&(pe.constructed=!0),_e.destroyed?U.emit(c,te):te?x(U,te,!0):e.nextTick(O,U)}try{U._construct(te=>{e.nextTick(ce,te)})}catch(te){e.nextTick(ce,te)}}function O(U){U.emit(d)}function D(U){return(U==null?void 0:U.setHeader)&&typeof U.abort=="function"}function F(U){U.emit("close")}function Q(U,X){U.emit("error",X),e.nextTick(F,U)}function Y(U,X){!U||o(U)||(!X&&!s(U)&&(X=new r),l(U)?(U.socket=null,U.destroy(X)):D(U)?U.abort():D(U.req)?U.req.abort():typeof U.destroy=="function"?U.destroy(X):typeof U.close=="function"?U.close():X?e.nextTick(Q,U,X):e.nextTick(F,U),U.destroyed||(U[a]=!0))}return Tx={construct:R,destroyer:Y,destroy:m,undestroy:b,errorOrDestroy:x},Tx}var Rx,TN;function lO(){if(TN)return Rx;TN=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=Kr(),{EventEmitter:n}=qh();function r(a){n.call(this,a)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(a,o){const s=this;function l(_){a.writable&&a.write(_)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}a.on("drain",c),!a._isStdio&&(!o||o.end!==!1)&&(s.on("end",h),s.on("close",m));let d=!1;function h(){d||(d=!0,a.end())}function m(){d||(d=!0,typeof a.destroy=="function"&&a.destroy())}function y(_){v(),n.listenerCount(this,"error")===0&&this.emit("error",_)}i(s,"error",y),i(a,"error",y);function v(){s.removeListener("data",l),a.removeListener("drain",c),s.removeListener("end",h),s.removeListener("close",m),s.removeListener("error",y),a.removeListener("error",y),s.removeListener("end",v),s.removeListener("close",v),a.removeListener("close",v)}return s.on("end",v),s.on("close",v),a.on("close",v),a.emit("pipe",s),a};function i(a,o,s){if(typeof a.prependListener=="function")return a.prependListener(o,s);!a._events||!a._events[o]?a.on(o,s):e(a._events[o])?a._events[o].unshift(s):a._events[o]=[s,a._events[o]]}return Rx={Stream:r,prependListener:i},Rx}var Ax={exports:{}},RN;function nb(){return RN||(RN=1,function(e){const{SymbolDispose:t}=Kr(),{AbortError:n,codes:r}=Ia(),{isNodeStream:i,isWebStream:a,kControllerErrorFunction:o}=Fu(),s=rc(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const d=(h,m)=>{if(typeof h!="object"||!("aborted"in h))throw new l(m,"AbortSignal",h)};e.exports.addAbortSignal=function(m,y){if(d(m,"signal"),!i(y)&&!a(y))throw new l("stream",["ReadableStream","WritableStream","Stream"],y);return e.exports.addAbortSignalNoValidate(m,y)},e.exports.addAbortSignalNoValidate=function(h,m){if(typeof h!="object"||!("aborted"in h))return m;const y=i(m)?()=>{m.destroy(new n(void 0,{cause:h.reason}))}:()=>{m[o](new n(void 0,{cause:h.reason}))};if(h.aborted)y();else{c=c||ma().addAbortListener;const v=c(h,y);s(m,v[t])}return m}}(Ax)),Ax.exports}var Px,AN;function lre(){if(AN)return Px;AN=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=Kr(),{Buffer:i}=Nu(),{inspect:a}=ma();return Px=class{constructor(){this.head=null,this.tail=null,this.length=0}push(s){const l={data:s,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(s){const l={data:s,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}clear(){this.head=this.tail=null,this.length=0}join(s){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=s+l.data;return c}concat(s){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(s>>>0);let c=this.head,d=0;for(;c;)n(l,c.data,d),d+=c.data.length,c=c.next;return l}consume(s,l){const c=this.head.data;if(s<c.length){const d=c.slice(0,s);return this.head.data=c.slice(s),d}return s===c.length?this.shift():l?this._getString(s):this._getBuffer(s)}first(){return this.head.data}*[t](){for(let s=this.head;s;s=s.next)yield s.data}_getString(s){let l="",c=this.head,d=0;do{const h=c.data;if(s>h.length)l+=h,s-=h.length;else{s===h.length?(l+=h,++d,c.next?this.head=c.next:this.head=this.tail=null):(l+=e(h,0,s),this.head=c,c.data=e(h,s));break}++d}while((c=c.next)!==null);return this.length-=d,l}_getBuffer(s){const l=i.allocUnsafe(s),c=s;let d=this.head,h=0;do{const m=d.data;if(s>m.length)n(l,m,c-s),s-=m.length;else{s===m.length?(n(l,m,c-s),++h,d.next?this.head=d.next:this.head=this.tail=null):(n(l,new r(m.buffer,m.byteOffset,s),c-s),this.head=d,d.data=m.slice(s));break}++h}while((d=d.next)!==null);return this.length-=h,l}[Symbol.for("nodejs.util.inspect.custom")](s,l){return a(this,{...l,depth:0,customInspect:!1})}},Px}var Ox,PN;function rb(){if(PN)return Ox;PN=1;const{MathFloor:e,NumberIsInteger:t}=Kr(),{validateInteger:n}=by(),{ERR_INVALID_ARG_VALUE:r}=Ia().codes;let i=16*1024,a=16;function o(d,h,m){return d.highWaterMark!=null?d.highWaterMark:h?d[m]:null}function s(d){return d?a:i}function l(d,h){n(h,"value",0),d?a=h:i=h}function c(d,h,m,y){const v=o(h,y,m);if(v!=null){if(!t(v)||v<0){const _=y?`options.${m}`:"options.highWaterMark";throw new r(_,v)}return e(v)}return s(d.objectMode)}return Ox={getHighWaterMark:c,getDefaultHighWaterMark:s,setDefaultHighWaterMark:l},Ox}var Lx={},s_={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ON;function cre(){return ON||(ON=1,function(e,t){var n=Nu(),r=n.Buffer;function i(o,s){for(var l in o)s[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=a);function a(o,s,l){return r(o,s,l)}a.prototype=Object.create(r.prototype),i(r,a),a.from=function(o,s,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,s,l)},a.alloc=function(o,s,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return s!==void 0?typeof l=="string"?c.fill(s,l):c.fill(s):c.fill(0),c},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}}(s_,s_.exports)),s_.exports}var LN;function fre(){if(LN)return Lx;LN=1;var e=cre().Buffer,t=e.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(b){if(!b)return"utf8";for(var x;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(x)return;b=(""+b).toLowerCase(),x=!0}}function r(b){var x=n(b);if(typeof x!="string"&&(e.isEncoding===t||!t(b)))throw new Error("Unknown encoding: "+b);return x||b}Lx.StringDecoder=i;function i(b){this.encoding=r(b);var x;switch(this.encoding){case"utf16le":this.text=h,this.end=m,x=4;break;case"utf8":this.fillLast=l,x=4;break;case"base64":this.text=y,this.end=v,x=3;break;default:this.write=_,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(x)}i.prototype.write=function(b){if(b.length===0)return"";var x,R;if(this.lastNeed){if(x=this.fillLast(b),x===void 0)return"";R=this.lastNeed,this.lastNeed=0}else R=0;return R<b.length?x?x+this.text(b,R):this.text(b,R):x||""},i.prototype.end=d,i.prototype.text=c,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function a(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,x,R){var P=x.length-1;if(P<R)return 0;var O=a(x[P]);return O>=0?(O>0&&(b.lastNeed=O-1),O):--P<R||O===-2?0:(O=a(x[P]),O>=0?(O>0&&(b.lastNeed=O-2),O):--P<R||O===-2?0:(O=a(x[P]),O>=0?(O>0&&(O===2?O=0:b.lastNeed=O-3),O):0))}function s(b,x,R){if((x[0]&192)!==128)return b.lastNeed=0,"�";if(b.lastNeed>1&&x.length>1){if((x[1]&192)!==128)return b.lastNeed=1,"�";if(b.lastNeed>2&&x.length>2&&(x[2]&192)!==128)return b.lastNeed=2,"�"}}function l(b){var x=this.lastTotal-this.lastNeed,R=s(this,b);if(R!==void 0)return R;if(this.lastNeed<=b.length)return b.copy(this.lastChar,x,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,x,0,b.length),this.lastNeed-=b.length}function c(b,x){var R=o(this,b,x);if(!this.lastNeed)return b.toString("utf8",x);this.lastTotal=R;var P=b.length-(R-this.lastNeed);return b.copy(this.lastChar,0,P),b.toString("utf8",x,P)}function d(b){var x=b&&b.length?this.write(b):"";return this.lastNeed?x+"�":x}function h(b,x){if((b.length-x)%2===0){var R=b.toString("utf16le",x);if(R){var P=R.charCodeAt(R.length-1);if(P>=55296&&P<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],R.slice(0,-1)}return R}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",x,b.length-1)}function m(b){var x=b&&b.length?this.write(b):"";if(this.lastNeed){var R=this.lastTotal-this.lastNeed;return x+this.lastChar.toString("utf16le",0,R)}return x}function y(b,x){var R=(b.length-x)%3;return R===0?b.toString("base64",x):(this.lastNeed=3-R,this.lastTotal=3,R===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",x,b.length-R))}function v(b){var x=b&&b.length?this.write(b):"";return this.lastNeed?x+this.lastChar.toString("base64",0,3-this.lastNeed):x}function _(b){return b.toString(this.encoding)}function S(b){return b&&b.length?this.write(b):""}return Lx}var Ix,IN;function I9(){if(IN)return Ix;IN=1;const e=Nf(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=Kr(),{Buffer:i}=Nu(),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:o}=Ia().codes;function s(l,c,d){let h;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...d,read(){this.push(c),this.push(null)}});let m;if(c&&c[n])m=!0,h=c[n]();else if(c&&c[r])m=!1,h=c[r]();else throw new a("iterable",["Iterable"],c);const y=new l({objectMode:!0,highWaterMark:1,...d});let v=!1;y._read=function(){v||(v=!0,S())},y._destroy=function(b,x){t(_(b),()=>e.nextTick(x,b),R=>e.nextTick(x,R||b))};async function _(b){const x=b!=null,R=typeof h.throw=="function";if(x&&R){const{value:P,done:O}=await h.throw(b);if(await P,O)return}if(typeof h.return=="function"){const{value:P}=await h.return();await P}}async function S(){for(;;){try{const{value:b,done:x}=m?await h.next():h.next();if(x)y.push(null);else{const R=b&&typeof b.then=="function"?await b:b;if(R===null)throw v=!1,new o;if(y.push(R))continue;v=!1}}catch(b){y.destroy(b)}break}}return y}return Ix=s,Ix}var Mx,MN;function ib(){if(MN)return Mx;MN=1;const e=Nf(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:a,ObjectKeys:o,ObjectSetPrototypeOf:s,Promise:l,SafeSet:c,SymbolAsyncDispose:d,SymbolAsyncIterator:h,Symbol:m}=Kr();Mx=nt,nt.ReadableState=tt;const{EventEmitter:y}=qh(),{Stream:v,prependListener:_}=lO(),{Buffer:S}=Nu(),{addAbortSignal:b}=nb(),x=rc();let R=ma().debuglog("stream",Le=>{R=Le});const P=lre(),O=Hh(),{getHighWaterMark:D,getDefaultHighWaterMark:F}=rb(),{aggregateTwoErrors:Q,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:U,ERR_OUT_OF_RANGE:X,ERR_STREAM_PUSH_AFTER_EOF:ce,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:te},AbortError:se}=Ia(),{validateObject:pe}=by(),_e=m("kPaused"),{StringDecoder:de}=fre(),ue=I9();s(nt.prototype,v.prototype),s(nt,v);const Ae=()=>{},{errorOrDestroy:k}=O,ie=1,me=2,K=4,ee=8,ge=16,Re=32,Ze=64,Pe=128,Ne=256,Xe=512,oe=1024,H=2048,$=4096,ae=8192,Z=16384,he=32768,ye=65536,He=1<<17,Ee=1<<18;function Fe(Le){return{enumerable:!1,get(){return(this.state&Le)!==0},set(qe){qe?this.state|=Le:this.state&=~Le}}}a(tt.prototype,{objectMode:Fe(ie),ended:Fe(me),endEmitted:Fe(K),reading:Fe(ee),constructed:Fe(ge),sync:Fe(Re),needReadable:Fe(Ze),emittedReadable:Fe(Pe),readableListening:Fe(Ne),resumeScheduled:Fe(Xe),errorEmitted:Fe(oe),emitClose:Fe(H),autoDestroy:Fe($),destroyed:Fe(ae),closed:Fe(Z),closeEmitted:Fe(he),multiAwaitDrain:Fe(ye),readingMore:Fe(He),dataEmitted:Fe(Ee)});function tt(Le,qe,bt){typeof bt!="boolean"&&(bt=qe instanceof Ou()),this.state=H|$|ge|Re,Le&&Le.objectMode&&(this.state|=ie),bt&&Le&&Le.readableObjectMode&&(this.state|=ie),this.highWaterMark=Le?D(this,Le,"readableHighWaterMark",bt):F(!1),this.buffer=new P,this.length=0,this.pipes=[],this.flowing=null,this[_e]=null,Le&&Le.emitClose===!1&&(this.state&=~H),Le&&Le.autoDestroy===!1&&(this.state&=~$),this.errored=null,this.defaultEncoding=Le&&Le.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Le&&Le.encoding&&(this.decoder=new de(Le.encoding),this.encoding=Le.encoding)}function nt(Le){if(!(this instanceof nt))return new nt(Le);const qe=this instanceof Ou();this._readableState=new tt(Le,this,qe),Le&&(typeof Le.read=="function"&&(this._read=Le.read),typeof Le.destroy=="function"&&(this._destroy=Le.destroy),typeof Le.construct=="function"&&(this._construct=Le.construct),Le.signal&&!qe&&b(Le.signal,this)),v.call(this,Le),O.construct(this,()=>{this._readableState.needReadable&&je(this,this._readableState)})}nt.prototype.destroy=O.destroy,nt.prototype._undestroy=O.undestroy,nt.prototype._destroy=function(Le,qe){qe(Le)},nt.prototype[y.captureRejectionSymbol]=function(Le){this.destroy(Le)},nt.prototype[d]=function(){let Le;return this.destroyed||(Le=this.readableEnded?null:new se,this.destroy(Le)),new l((qe,bt)=>x(this,Et=>Et&&Et!==Le?bt(Et):qe(null)))},nt.prototype.push=function(Le,qe){return gt(this,Le,qe,!1)},nt.prototype.unshift=function(Le,qe){return gt(this,Le,qe,!0)};function gt(Le,qe,bt,Et){R("readableAddChunk",qe);const Mt=Le._readableState;let Hn;if(Mt.state&ie||(typeof qe=="string"?(bt=bt||Mt.defaultEncoding,Mt.encoding!==bt&&(Et&&Mt.encoding?qe=S.from(qe,bt).toString(Mt.encoding):(qe=S.from(qe,bt),bt=""))):qe instanceof S?bt="":v._isUint8Array(qe)?(qe=v._uint8ArrayToBuffer(qe),bt=""):qe!=null&&(Hn=new Y("chunk",["string","Buffer","Uint8Array"],qe))),Hn)k(Le,Hn);else if(qe===null)Mt.state&=~ee,z(Le,Mt);else if(Mt.state&ie||qe&&qe.length>0)if(Et)if(Mt.state&K)k(Le,new te);else{if(Mt.destroyed||Mt.errored)return!1;qt(Le,Mt,qe,!0)}else if(Mt.ended)k(Le,new ce);else{if(Mt.destroyed||Mt.errored)return!1;Mt.state&=~ee,Mt.decoder&&!bt?(qe=Mt.decoder.write(qe),Mt.objectMode||qe.length!==0?qt(Le,Mt,qe,!1):je(Le,Mt)):qt(Le,Mt,qe,!1)}else Et||(Mt.state&=~ee,je(Le,Mt));return!Mt.ended&&(Mt.length<Mt.highWaterMark||Mt.length===0)}function qt(Le,qe,bt,Et){qe.flowing&&qe.length===0&&!qe.sync&&Le.listenerCount("data")>0?(qe.state&ye?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null,qe.dataEmitted=!0,Le.emit("data",bt)):(qe.length+=qe.objectMode?1:bt.length,Et?qe.buffer.unshift(bt):qe.buffer.push(bt),qe.state&Ze&&W(Le)),je(Le,qe)}nt.prototype.isPaused=function(){const Le=this._readableState;return Le[_e]===!0||Le.flowing===!1},nt.prototype.setEncoding=function(Le){const qe=new de(Le);this._readableState.decoder=qe,this._readableState.encoding=this._readableState.decoder.encoding;const bt=this._readableState.buffer;let Et="";for(const Mt of bt)Et+=qe.write(Mt);return bt.clear(),Et!==""&&bt.push(Et),this._readableState.length=Et.length,this};const Se=1073741824;function Ue(Le){if(Le>Se)throw new X("size","<= 1GiB",Le);return Le--,Le|=Le>>>1,Le|=Le>>>2,Le|=Le>>>4,Le|=Le>>>8,Le|=Le>>>16,Le++,Le}function ne(Le,qe){return Le<=0||qe.length===0&&qe.ended?0:qe.state&ie?1:r(Le)?qe.flowing&&qe.length?qe.buffer.first().length:qe.length:Le<=qe.length?Le:qe.ended?qe.length:0}nt.prototype.read=function(Le){R("read",Le),Le===void 0?Le=NaN:n(Le)||(Le=i(Le,10));const qe=this._readableState,bt=Le;if(Le>qe.highWaterMark&&(qe.highWaterMark=Ue(Le)),Le!==0&&(qe.state&=~Pe),Le===0&&qe.needReadable&&((qe.highWaterMark!==0?qe.length>=qe.highWaterMark:qe.length>0)||qe.ended))return R("read: emitReadable",qe.length,qe.ended),qe.length===0&&qe.ended?gr(this):W(this),null;if(Le=ne(Le,qe),Le===0&&qe.ended)return qe.length===0&&gr(this),null;let Et=(qe.state&Ze)!==0;if(R("need readable",Et),(qe.length===0||qe.length-Le<qe.highWaterMark)&&(Et=!0,R("length less than watermark",Et)),qe.ended||qe.reading||qe.destroyed||qe.errored||!qe.constructed)Et=!1,R("reading, ended or constructing",Et);else if(Et){R("do read"),qe.state|=ee|Re,qe.length===0&&(qe.state|=Ze);try{this._read(qe.highWaterMark)}catch(Hn){k(this,Hn)}qe.state&=~Re,qe.reading||(Le=ne(bt,qe))}let Mt;return Le>0?Mt=hn(Le,qe):Mt=null,Mt===null?(qe.needReadable=qe.length<=qe.highWaterMark,Le=0):(qe.length-=Le,qe.multiAwaitDrain?qe.awaitDrainWriters.clear():qe.awaitDrainWriters=null),qe.length===0&&(qe.ended||(qe.needReadable=!0),bt!==Le&&qe.ended&&gr(this)),Mt!==null&&!qe.errorEmitted&&!qe.closeEmitted&&(qe.dataEmitted=!0,this.emit("data",Mt)),Mt};function z(Le,qe){if(R("onEofChunk"),!qe.ended){if(qe.decoder){const bt=qe.decoder.end();bt&&bt.length&&(qe.buffer.push(bt),qe.length+=qe.objectMode?1:bt.length)}qe.ended=!0,qe.sync?W(Le):(qe.needReadable=!1,qe.emittedReadable=!0,G(Le))}}function W(Le){const qe=Le._readableState;R("emitReadable",qe.needReadable,qe.emittedReadable),qe.needReadable=!1,qe.emittedReadable||(R("emitReadable",qe.flowing),qe.emittedReadable=!0,e.nextTick(G,Le))}function G(Le){const qe=Le._readableState;R("emitReadable_",qe.destroyed,qe.length,qe.ended),!qe.destroyed&&!qe.errored&&(qe.length||qe.ended)&&(Le.emit("readable"),qe.emittedReadable=!1),qe.needReadable=!qe.flowing&&!qe.ended&&qe.length<=qe.highWaterMark,zt(Le)}function je(Le,qe){!qe.readingMore&&qe.constructed&&(qe.readingMore=!0,e.nextTick(Je,Le,qe))}function Je(Le,qe){for(;!qe.reading&&!qe.ended&&(qe.length<qe.highWaterMark||qe.flowing&&qe.length===0);){const bt=qe.length;if(R("maybeReadMore read 0"),Le.read(0),bt===qe.length)break}qe.readingMore=!1}nt.prototype._read=function(Le){throw new U("_read()")},nt.prototype.pipe=function(Le,qe){const bt=this,Et=this._readableState;Et.pipes.length===1&&(Et.multiAwaitDrain||(Et.multiAwaitDrain=!0,Et.awaitDrainWriters=new c(Et.awaitDrainWriters?[Et.awaitDrainWriters]:[]))),Et.pipes.push(Le),R("pipe count=%d opts=%j",Et.pipes.length,qe);const Hn=(!qe||qe.end!==!1)&&Le!==e.stdout&&Le!==e.stderr?We:Ht;Et.endEmitted?e.nextTick(Hn):bt.once("end",Hn),Le.on("unpipe",Jn);function Jn(jt,tn){R("onunpipe"),jt===bt&&tn&&tn.hasUnpiped===!1&&(tn.hasUnpiped=!0,ft())}function We(){R("onend"),Le.end()}let Ce,et=!1;function ft(){R("cleanup"),Le.removeListener("close",Gt),Le.removeListener("finish",Yt),Ce&&Le.removeListener("drain",Ce),Le.removeListener("error",Dt),Le.removeListener("unpipe",Jn),bt.removeListener("end",We),bt.removeListener("end",Ht),bt.removeListener("data",Ct),et=!0,Ce&&Et.awaitDrainWriters&&(!Le._writableState||Le._writableState.needDrain)&&Ce()}function it(){et||(Et.pipes.length===1&&Et.pipes[0]===Le?(R("false write response, pause",0),Et.awaitDrainWriters=Le,Et.multiAwaitDrain=!1):Et.pipes.length>1&&Et.pipes.includes(Le)&&(R("false write response, pause",Et.awaitDrainWriters.size),Et.awaitDrainWriters.add(Le)),bt.pause()),Ce||(Ce=ke(bt,Le),Le.on("drain",Ce))}bt.on("data",Ct);function Ct(jt){R("ondata");const tn=Le.write(jt);R("dest.write",tn),tn===!1&&it()}function Dt(jt){if(R("onerror",jt),Ht(),Le.removeListener("error",Dt),Le.listenerCount("error")===0){const tn=Le._writableState||Le._readableState;tn&&!tn.errorEmitted?k(Le,jt):Le.emit("error",jt)}}_(Le,"error",Dt);function Gt(){Le.removeListener("finish",Yt),Ht()}Le.once("close",Gt);function Yt(){R("onfinish"),Le.removeListener("close",Gt),Ht()}Le.once("finish",Yt);function Ht(){R("unpipe"),bt.unpipe(Le)}return Le.emit("pipe",bt),Le.writableNeedDrain===!0?it():Et.flowing||(R("pipe resume"),bt.resume()),Le};function ke(Le,qe){return function(){const Et=Le._readableState;Et.awaitDrainWriters===qe?(R("pipeOnDrain",1),Et.awaitDrainWriters=null):Et.multiAwaitDrain&&(R("pipeOnDrain",Et.awaitDrainWriters.size),Et.awaitDrainWriters.delete(qe)),(!Et.awaitDrainWriters||Et.awaitDrainWriters.size===0)&&Le.listenerCount("data")&&Le.resume()}}nt.prototype.unpipe=function(Le){const qe=this._readableState,bt={hasUnpiped:!1};if(qe.pipes.length===0)return this;if(!Le){const Mt=qe.pipes;qe.pipes=[],this.pause();for(let Hn=0;Hn<Mt.length;Hn++)Mt[Hn].emit("unpipe",this,{hasUnpiped:!1});return this}const Et=t(qe.pipes,Le);return Et===-1?this:(qe.pipes.splice(Et,1),qe.pipes.length===0&&this.pause(),Le.emit("unpipe",this,bt),this)},nt.prototype.on=function(Le,qe){const bt=v.prototype.on.call(this,Le,qe),Et=this._readableState;return Le==="data"?(Et.readableListening=this.listenerCount("readable")>0,Et.flowing!==!1&&this.resume()):Le==="readable"&&!Et.endEmitted&&!Et.readableListening&&(Et.readableListening=Et.needReadable=!0,Et.flowing=!1,Et.emittedReadable=!1,R("on readable",Et.length,Et.reading),Et.length?W(this):Et.reading||e.nextTick(It,this)),bt},nt.prototype.addListener=nt.prototype.on,nt.prototype.removeListener=function(Le,qe){const bt=v.prototype.removeListener.call(this,Le,qe);return Le==="readable"&&e.nextTick(At,this),bt},nt.prototype.off=nt.prototype.removeListener,nt.prototype.removeAllListeners=function(Le){const qe=v.prototype.removeAllListeners.apply(this,arguments);return(Le==="readable"||Le===void 0)&&e.nextTick(At,this),qe};function At(Le){const qe=Le._readableState;qe.readableListening=Le.listenerCount("readable")>0,qe.resumeScheduled&&qe[_e]===!1?qe.flowing=!0:Le.listenerCount("data")>0?Le.resume():qe.readableListening||(qe.flowing=null)}function It(Le){R("readable nexttick read 0"),Le.read(0)}nt.prototype.resume=function(){const Le=this._readableState;return Le.flowing||(R("resume"),Le.flowing=!Le.readableListening,Nt(this,Le)),Le[_e]=!1,this};function Nt(Le,qe){qe.resumeScheduled||(qe.resumeScheduled=!0,e.nextTick(Ot,Le,qe))}function Ot(Le,qe){R("resume",qe.reading),qe.reading||Le.read(0),qe.resumeScheduled=!1,Le.emit("resume"),zt(Le),qe.flowing&&!qe.reading&&Le.read(0)}nt.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[_e]=!0,this};function zt(Le){const qe=Le._readableState;for(R("flow",qe.flowing);qe.flowing&&Le.read()!==null;);}nt.prototype.wrap=function(Le){let qe=!1;Le.on("data",Et=>{!this.push(Et)&&Le.pause&&(qe=!0,Le.pause())}),Le.on("end",()=>{this.push(null)}),Le.on("error",Et=>{k(this,Et)}),Le.on("close",()=>{this.destroy()}),Le.on("destroy",()=>{this.destroy()}),this._read=()=>{qe&&Le.resume&&(qe=!1,Le.resume())};const bt=o(Le);for(let Et=1;Et<bt.length;Et++){const Mt=bt[Et];this[Mt]===void 0&&typeof Le[Mt]=="function"&&(this[Mt]=Le[Mt].bind(Le))}return this},nt.prototype[h]=function(){return Ar(this)},nt.prototype.iterator=function(Le){return Le!==void 0&&pe(Le,"options"),Ar(this,Le)};function Ar(Le,qe){typeof Le.read!="function"&&(Le=nt.wrap(Le,{objectMode:!0}));const bt=dn(Le,qe);return bt.stream=Le,bt}async function*dn(Le,qe){let bt=Ae;function Et(Jn){this===Le?(bt(),bt=Ae):bt=Jn}Le.on("readable",Et);let Mt;const Hn=x(Le,{writable:!1},Jn=>{Mt=Jn?Q(Mt,Jn):null,bt(),bt=Ae});try{for(;;){const Jn=Le.destroyed?null:Le.read();if(Jn!==null)yield Jn;else{if(Mt)throw Mt;if(Mt===null)return;await new l(Et)}}}catch(Jn){throw Mt=Q(Mt,Jn),Mt}finally{(Mt||(qe==null?void 0:qe.destroyOnReturn)!==!1)&&(Mt===void 0||Le._readableState.autoDestroy)?O.destroyer(Le,null):(Le.off("readable",Et),Hn())}}a(nt.prototype,{readable:{__proto__:null,get(){const Le=this._readableState;return!!Le&&Le.readable!==!1&&!Le.destroyed&&!Le.errorEmitted&&!Le.endEmitted},set(Le){this._readableState&&(this._readableState.readable=!!Le)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Le){this._readableState&&(this._readableState.flowing=Le)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Le){this._readableState&&(this._readableState.destroyed=Le)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(tt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[_e]!==!1},set(Le){this[_e]=!!Le}}}),nt._fromList=hn;function hn(Le,qe){if(qe.length===0)return null;let bt;return qe.objectMode?bt=qe.buffer.shift():!Le||Le>=qe.length?(qe.decoder?bt=qe.buffer.join(""):qe.buffer.length===1?bt=qe.buffer.first():bt=qe.buffer.concat(qe.length),qe.buffer.clear()):bt=qe.buffer.consume(Le,qe.decoder),bt}function gr(Le){const qe=Le._readableState;R("endReadable",qe.endEmitted),qe.endEmitted||(qe.ended=!0,e.nextTick(un,qe,Le))}function un(Le,qe){if(R("endReadableNT",Le.endEmitted,Le.length),!Le.errored&&!Le.closeEmitted&&!Le.endEmitted&&Le.length===0){if(Le.endEmitted=!0,qe.emit("end"),qe.writable&&qe.allowHalfOpen===!1)e.nextTick(ln,qe);else if(Le.autoDestroy){const bt=qe._writableState;(!bt||bt.autoDestroy&&(bt.finished||bt.writable===!1))&&qe.destroy()}}}function ln(Le){Le.writable&&!Le.writableEnded&&!Le.destroyed&&Le.end()}nt.from=function(Le,qe){return ue(nt,Le,qe)};let Mn;function ur(){return Mn===void 0&&(Mn={}),Mn}return nt.fromWeb=function(Le,qe){return ur().newStreamReadableFromReadableStream(Le,qe)},nt.toWeb=function(Le,qe){return ur().newReadableStreamFromStreamReadable(Le,qe)},nt.wrap=function(Le,qe){var bt,Et;return new nt({objectMode:(bt=(Et=Le.readableObjectMode)!==null&&Et!==void 0?Et:Le.objectMode)!==null&&bt!==void 0?bt:!0,...qe,destroy(Mt,Hn){O.destroyer(Le,Mt),Hn(Mt)}}).wrap(Le)},Mx}var Dx,DN;function cO(){if(DN)return Dx;DN=1;const e=Nf(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:a,ObjectSetPrototypeOf:o,StringPrototypeToLowerCase:s,Symbol:l,SymbolHasInstance:c}=Kr();Dx=pe,pe.WritableState=te;const{EventEmitter:d}=qh(),h=lO().Stream,{Buffer:m}=Nu(),y=Hh(),{addAbortSignal:v}=nb(),{getHighWaterMark:_,getDefaultHighWaterMark:S}=rb(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:x,ERR_MULTIPLE_CALLBACK:R,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:O,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:F,ERR_STREAM_WRITE_AFTER_END:Q,ERR_UNKNOWN_ENCODING:Y}=Ia().codes,{errorOrDestroy:U}=y;o(pe.prototype,h.prototype),o(pe,h);function X(){}const ce=l("kOnFinished");function te($,ae,Z){typeof Z!="boolean"&&(Z=ae instanceof Ou()),this.objectMode=!!($&&$.objectMode),Z&&(this.objectMode=this.objectMode||!!($&&$.writableObjectMode)),this.highWaterMark=$?_(this,$,"writableHighWaterMark",Z):S(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const he=!!($&&$.decodeStrings===!1);this.decodeStrings=!he,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=k.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,se(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!$||$.emitClose!==!1,this.autoDestroy=!$||$.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[ce]=[]}function se($){$.buffered=[],$.bufferedIndex=0,$.allBuffers=!0,$.allNoop=!0}te.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(te.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function pe($){const ae=this instanceof Ou();if(!ae&&!r(pe,this))return new pe($);this._writableState=new te($,this,ae),$&&(typeof $.write=="function"&&(this._write=$.write),typeof $.writev=="function"&&(this._writev=$.writev),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.final=="function"&&(this._final=$.final),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&v($.signal,this)),h.call(this,$),y.construct(this,()=>{const Z=this._writableState;Z.writing||ee(this,Z),Pe(this,Z)})}i(pe,c,{__proto__:null,value:function($){return r(this,$)?!0:this!==pe?!1:$&&$._writableState instanceof te}}),pe.prototype.pipe=function(){U(this,new P)};function _e($,ae,Z,he){const ye=$._writableState;if(typeof Z=="function")he=Z,Z=ye.defaultEncoding;else{if(!Z)Z=ye.defaultEncoding;else if(Z!=="buffer"&&!m.isEncoding(Z))throw new Y(Z);typeof he!="function"&&(he=X)}if(ae===null)throw new F;if(!ye.objectMode)if(typeof ae=="string")ye.decodeStrings!==!1&&(ae=m.from(ae,Z),Z="buffer");else if(ae instanceof m)Z="buffer";else if(h._isUint8Array(ae))ae=h._uint8ArrayToBuffer(ae),Z="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],ae);let He;return ye.ending?He=new Q:ye.destroyed&&(He=new O("write")),He?(e.nextTick(he,He),U($,He,!0),He):(ye.pendingcb++,de($,ye,ae,Z,he))}pe.prototype.write=function($,ae,Z){return _e(this,$,ae,Z)===!0},pe.prototype.cork=function(){this._writableState.corked++},pe.prototype.uncork=function(){const $=this._writableState;$.corked&&($.corked--,$.writing||ee(this,$))},pe.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=s(ae)),!m.isEncoding(ae))throw new Y(ae);return this._writableState.defaultEncoding=ae,this};function de($,ae,Z,he,ye){const He=ae.objectMode?1:Z.length;ae.length+=He;const Ee=ae.length<ae.highWaterMark;return Ee||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:Z,encoding:he,callback:ye}),ae.allBuffers&&he!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&ye!==X&&(ae.allNoop=!1)):(ae.writelen=He,ae.writecb=ye,ae.writing=!0,ae.sync=!0,$._write(Z,he,ae.onwrite),ae.sync=!1),Ee&&!ae.errored&&!ae.destroyed}function ue($,ae,Z,he,ye,He,Ee){ae.writelen=he,ae.writecb=Ee,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new O("write")):Z?$._writev(ye,ae.onwrite):$._write(ye,He,ae.onwrite),ae.sync=!1}function Ae($,ae,Z,he){--ae.pendingcb,he(Z),K(ae),U($,Z)}function k($,ae){const Z=$._writableState,he=Z.sync,ye=Z.writecb;if(typeof ye!="function"){U($,new R);return}Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0,ae?(ae.stack,Z.errored||(Z.errored=ae),$._readableState&&!$._readableState.errored&&($._readableState.errored=ae),he?e.nextTick(Ae,$,Z,ae,ye):Ae($,Z,ae,ye)):(Z.buffered.length>Z.bufferedIndex&&ee($,Z),he?Z.afterWriteTickInfo!==null&&Z.afterWriteTickInfo.cb===ye?Z.afterWriteTickInfo.count++:(Z.afterWriteTickInfo={count:1,cb:ye,stream:$,state:Z},e.nextTick(ie,Z.afterWriteTickInfo)):me($,Z,1,ye))}function ie({stream:$,state:ae,count:Z,cb:he}){return ae.afterWriteTickInfo=null,me($,ae,Z,he)}function me($,ae,Z,he){for(!ae.ending&&!$.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,$.emit("drain"));Z-- >0;)ae.pendingcb--,he();ae.destroyed&&K(ae),Pe($,ae)}function K($){if($.writing)return;for(let ye=$.bufferedIndex;ye<$.buffered.length;++ye){var ae;const{chunk:He,callback:Ee}=$.buffered[ye],Fe=$.objectMode?1:He.length;$.length-=Fe,Ee((ae=$.errored)!==null&&ae!==void 0?ae:new O("write"))}const Z=$[ce].splice(0);for(let ye=0;ye<Z.length;ye++){var he;Z[ye]((he=$.errored)!==null&&he!==void 0?he:new O("end"))}se($)}function ee($,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:Z,bufferedIndex:he,objectMode:ye}=ae,He=Z.length-he;if(!He)return;let Ee=he;if(ae.bufferProcessing=!0,He>1&&$._writev){ae.pendingcb-=He-1;const Fe=ae.allNoop?X:nt=>{for(let gt=Ee;gt<Z.length;++gt)Z[gt].callback(nt)},tt=ae.allNoop&&Ee===0?Z:t(Z,Ee);tt.allBuffers=ae.allBuffers,ue($,ae,!0,ae.length,tt,"",Fe),se(ae)}else{do{const{chunk:Fe,encoding:tt,callback:nt}=Z[Ee];Z[Ee++]=null;const gt=ye?1:Fe.length;ue($,ae,!1,gt,Fe,tt,nt)}while(Ee<Z.length&&!ae.writing);Ee===Z.length?se(ae):Ee>256?(Z.splice(0,Ee),ae.bufferedIndex=0):ae.bufferedIndex=Ee}ae.bufferProcessing=!1}pe.prototype._write=function($,ae,Z){if(this._writev)this._writev([{chunk:$,encoding:ae}],Z);else throw new x("_write()")},pe.prototype._writev=null,pe.prototype.end=function($,ae,Z){const he=this._writableState;typeof $=="function"?(Z=$,$=null,ae=null):typeof ae=="function"&&(Z=ae,ae=null);let ye;if($!=null){const He=_e(this,$,ae);He instanceof n&&(ye=He)}return he.corked&&(he.corked=1,this.uncork()),ye||(!he.errored&&!he.ending?(he.ending=!0,Pe(this,he,!0),he.ended=!0):he.finished?ye=new D("end"):he.destroyed&&(ye=new O("end"))),typeof Z=="function"&&(ye||he.finished?e.nextTick(Z,ye):he[ce].push(Z)),this};function ge($){return $.ending&&!$.destroyed&&$.constructed&&$.length===0&&!$.errored&&$.buffered.length===0&&!$.finished&&!$.writing&&!$.errorEmitted&&!$.closeEmitted}function Re($,ae){let Z=!1;function he(ye){if(Z){U($,ye??R());return}if(Z=!0,ae.pendingcb--,ye){const He=ae[ce].splice(0);for(let Ee=0;Ee<He.length;Ee++)He[Ee](ye);U($,ye,ae.sync)}else ge(ae)&&(ae.prefinished=!0,$.emit("prefinish"),ae.pendingcb++,e.nextTick(Ne,$,ae))}ae.sync=!0,ae.pendingcb++;try{$._final(he)}catch(ye){he(ye)}ae.sync=!1}function Ze($,ae){!ae.prefinished&&!ae.finalCalled&&(typeof $._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,Re($,ae)):(ae.prefinished=!0,$.emit("prefinish")))}function Pe($,ae,Z){ge(ae)&&(Ze($,ae),ae.pendingcb===0&&(Z?(ae.pendingcb++,e.nextTick((he,ye)=>{ge(ye)?Ne(he,ye):ye.pendingcb--},$,ae)):ge(ae)&&(ae.pendingcb++,Ne($,ae))))}function Ne($,ae){ae.pendingcb--,ae.finished=!0;const Z=ae[ce].splice(0);for(let he=0;he<Z.length;he++)Z[he]();if($.emit("finish"),ae.autoDestroy){const he=$._readableState;(!he||he.autoDestroy&&(he.endEmitted||he.readable===!1))&&$.destroy()}}a(pe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set($){this._writableState&&(this._writableState.destroyed=$)}},writable:{__proto__:null,get(){const $=this._writableState;return!!$&&$.writable!==!1&&!$.destroyed&&!$.errored&&!$.ending&&!$.ended},set($){this._writableState&&(this._writableState.writable=!!$)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const $=this._writableState;return $?!$.destroyed&&!$.ending&&$.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Xe=y.destroy;pe.prototype.destroy=function($,ae){const Z=this._writableState;return!Z.destroyed&&(Z.bufferedIndex<Z.buffered.length||Z[ce].length)&&e.nextTick(K,Z),Xe.call(this,$,ae),this},pe.prototype._undestroy=y.undestroy,pe.prototype._destroy=function($,ae){ae($)},pe.prototype[d.captureRejectionSymbol]=function($){this.destroy($)};let oe;function H(){return oe===void 0&&(oe={}),oe}return pe.fromWeb=function($,ae){return H().newStreamWritableFromWritableStream($,ae)},pe.toWeb=function($){return H().newWritableStreamFromStreamWritable($)},Dx}var kx,kN;function dre(){if(kN)return kx;kN=1;const e=Nf(),t=Nu(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:a,isReadableNodeStream:o,isWritableNodeStream:s,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:d}=Fu(),h=rc(),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:y,ERR_INVALID_RETURN_VALUE:v}}=Ia(),{destroyer:_}=Hh(),S=Ou(),b=ib(),x=cO(),{createDeferredPromise:R}=ma(),P=I9(),O=globalThis.Blob||t.Blob,D=typeof O<"u"?function(te){return te instanceof O}:function(te){return!1},F=globalThis.AbortController||Gm().AbortController,{FunctionPrototypeCall:Q}=Kr();class Y extends S{constructor(te){super(te),(te==null?void 0:te.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(te==null?void 0:te.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}kx=function ce(te,se){if(l(te))return te;if(o(te))return X({readable:te});if(s(te))return X({writable:te});if(a(te))return X({writable:!1,readable:!1});if(c(te))return X({readable:b.fromWeb(te)});if(d(te))return X({writable:x.fromWeb(te)});if(typeof te=="function"){const{value:_e,write:de,final:ue,destroy:Ae}=U(te);if(i(_e))return P(Y,_e,{objectMode:!0,write:de,final:ue,destroy:Ae});const k=_e==null?void 0:_e.then;if(typeof k=="function"){let ie;const me=Q(k,_e,K=>{if(K!=null)throw new v("nully","body",K)},K=>{_(ie,K)});return ie=new Y({objectMode:!0,readable:!1,write:de,final(K){ue(async()=>{try{await me,e.nextTick(K,null)}catch(ee){e.nextTick(K,ee)}})},destroy:Ae})}throw new v("Iterable, AsyncIterable or AsyncFunction",se,_e)}if(D(te))return ce(te.arrayBuffer());if(i(te))return P(Y,te,{objectMode:!0,writable:!1});if(c(te==null?void 0:te.readable)&&d(te==null?void 0:te.writable))return Y.fromWeb(te);if(typeof(te==null?void 0:te.writable)=="object"||typeof(te==null?void 0:te.readable)=="object"){const _e=te!=null&&te.readable?o(te==null?void 0:te.readable)?te==null?void 0:te.readable:ce(te.readable):void 0,de=te!=null&&te.writable?s(te==null?void 0:te.writable)?te==null?void 0:te.writable:ce(te.writable):void 0;return X({readable:_e,writable:de})}const pe=te==null?void 0:te.then;if(typeof pe=="function"){let _e;return Q(pe,te,de=>{de!=null&&_e.push(de),_e.push(null)},de=>{_(_e,de)}),_e=new Y({objectMode:!0,writable:!1,read(){}})}throw new y(se,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],te)};function U(ce){let{promise:te,resolve:se}=R();const pe=new F,_e=pe.signal;return{value:ce(async function*(){for(;;){const ue=te;te=null;const{chunk:Ae,done:k,cb:ie}=await ue;if(e.nextTick(ie),k)return;if(_e.aborted)throw new m(void 0,{cause:_e.reason});({promise:te,resolve:se}=R()),yield Ae}}(),{signal:_e}),write(ue,Ae,k){const ie=se;se=null,ie({chunk:ue,done:!1,cb:k})},final(ue){const Ae=se;se=null,Ae({done:!0,cb:ue})},destroy(ue,Ae){pe.abort(),Ae(ue)}}}function X(ce){const te=ce.readable&&typeof ce.readable.read!="function"?b.wrap(ce.readable):ce.readable,se=ce.writable;let pe=!!n(te),_e=!!r(se),de,ue,Ae,k,ie;function me(K){const ee=k;k=null,ee?ee(K):K&&ie.destroy(K)}return ie=new Y({readableObjectMode:!!(te!=null&&te.readableObjectMode),writableObjectMode:!!(se!=null&&se.writableObjectMode),readable:pe,writable:_e}),_e&&(h(se,K=>{_e=!1,K&&_(te,K),me(K)}),ie._write=function(K,ee,ge){se.write(K,ee)?ge():de=ge},ie._final=function(K){se.end(),ue=K},se.on("drain",function(){if(de){const K=de;de=null,K()}}),se.on("finish",function(){if(ue){const K=ue;ue=null,K()}})),pe&&(h(te,K=>{pe=!1,K&&_(te,K),me(K)}),te.on("readable",function(){if(Ae){const K=Ae;Ae=null,K()}}),te.on("end",function(){ie.push(null)}),ie._read=function(){for(;;){const K=te.read();if(K===null){Ae=ie._read;return}if(!ie.push(K))return}}),ie._destroy=function(K,ee){!K&&k!==null&&(K=new m),Ae=null,de=null,ue=null,k===null?ee(K):(k=ee,_(se,K),_(te,K))},ie}return kx}var Nx,NN;function Ou(){if(NN)return Nx;NN=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=Kr();Nx=o;const i=ib(),a=cO();r(o.prototype,i.prototype),r(o,i);{const d=n(a.prototype);for(let h=0;h<d.length;h++){const m=d[h];o.prototype[m]||(o.prototype[m]=a.prototype[m])}}function o(d){if(!(this instanceof o))return new o(d);i.call(this,d),a.call(this,d),d?(this.allowHalfOpen=d.allowHalfOpen!==!1,d.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),d.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(o.prototype,{writable:{__proto__:null,...t(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(a.prototype,"writableLength")},writableFinished:{__proto__:null,...t(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(d){this._readableState&&this._writableState&&(this._readableState.destroyed=d,this._writableState.destroyed=d)}}});let s;function l(){return s===void 0&&(s={}),s}o.fromWeb=function(d,h){return l().newStreamDuplexFromReadableWritablePair(d,h)},o.toWeb=function(d){return l().newReadableWritablePairFromDuplex(d)};let c;return o.from=function(d){return c||(c=dre()),c(d,"body")},Nx}var Fx,FN;function M9(){if(FN)return Fx;FN=1;const{ObjectSetPrototypeOf:e,Symbol:t}=Kr();Fx=o;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Ia().codes,r=Ou(),{getHighWaterMark:i}=rb();e(o.prototype,r.prototype),e(o,r);const a=t("kCallback");function o(c){if(!(this instanceof o))return new o(c);const d=c?i(this,c,"readableHighWaterMark",!0):null;d===0&&(c={...c,highWaterMark:null,readableHighWaterMark:d,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[a]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function s(c){typeof this._flush=="function"&&!this.destroyed?this._flush((d,h)=>{if(d){c?c(d):this.destroy(d);return}h!=null&&this.push(h),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==s&&s.call(this)}return o.prototype._final=s,o.prototype._transform=function(c,d,h){throw new n("_transform()")},o.prototype._write=function(c,d,h){const m=this._readableState,y=this._writableState,v=m.length;this._transform(c,d,(_,S)=>{if(_){h(_);return}S!=null&&this.push(S),y.ended||v===m.length||m.length<m.highWaterMark?h():this[a]=h})},o.prototype._read=function(){if(this[a]){const c=this[a];this[a]=null,c()}},Fx}var jx,jN;function D9(){if(jN)return jx;jN=1;const{ObjectSetPrototypeOf:e}=Kr();jx=n;const t=M9();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,a){a(null,r)},jx}var $x,$N;function fO(){if($N)return $x;$N=1;const e=Nf(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=Kr(),a=rc(),{once:o}=ma(),s=Hh(),l=Ou(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:y,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:_}=Ia(),{validateFunction:S,validateAbortSignal:b}=by(),{isIterable:x,isReadable:R,isReadableNodeStream:P,isNodeStream:O,isTransformStream:D,isWebStream:F,isReadableStream:Q,isReadableFinished:Y}=Fu(),U=globalThis.AbortController||Gm().AbortController;let X,ce,te;function se(K,ee,ge){let Re=!1;K.on("close",()=>{Re=!0});const Ze=a(K,{readable:ee,writable:ge},Pe=>{Re=!Pe});return{destroy:Pe=>{Re||(Re=!0,s.destroyer(K,Pe||new y("pipe")))},cleanup:Ze}}function pe(K){return S(K[K.length-1],"streams[stream.length - 1]"),K.pop()}function _e(K){if(x(K))return K;if(P(K))return de(K);throw new d("val",["Readable","Iterable","AsyncIterable"],K)}async function*de(K){ce||(ce=ib()),yield*ce.prototype[r].call(K)}async function ue(K,ee,ge,{end:Re}){let Ze,Pe=null;const Ne=H=>{if(H&&(Ze=H),Pe){const $=Pe;Pe=null,$()}},Xe=()=>new n((H,$)=>{Ze?$(Ze):Pe=()=>{Ze?$(Ze):H()}});ee.on("drain",Ne);const oe=a(ee,{readable:!1},Ne);try{ee.writableNeedDrain&&await Xe();for await(const H of K)ee.write(H)||await Xe();Re&&(ee.end(),await Xe()),ge()}catch(H){ge(Ze!==H?c(Ze,H):H)}finally{oe(),ee.off("drain",Ne)}}async function Ae(K,ee,ge,{end:Re}){D(ee)&&(ee=ee.writable);const Ze=ee.getWriter();try{for await(const Pe of K)await Ze.ready,Ze.write(Pe).catch(()=>{});await Ze.ready,Re&&await Ze.close(),ge()}catch(Pe){try{await Ze.abort(Pe),ge(Pe)}catch(Ne){ge(Ne)}}}function k(...K){return ie(K,o(pe(K)))}function ie(K,ee,ge){if(K.length===1&&t(K[0])&&(K=K[0]),K.length<2)throw new m("streams");const Re=new U,Ze=Re.signal,Pe=ge==null?void 0:ge.signal,Ne=[];b(Pe,"options.signal");function Xe(){ye(new _)}te=te||ma().addAbortListener;let oe;Pe&&(oe=te(Pe,Xe));let H,$;const ae=[];let Z=0;function he(nt){ye(nt,--Z===0)}function ye(nt,gt){var qt;if(nt&&(!H||H.code==="ERR_STREAM_PREMATURE_CLOSE")&&(H=nt),!(!H&&!gt)){for(;ae.length;)ae.shift()(H);(qt=oe)===null||qt===void 0||qt[i](),Re.abort(),gt&&(H||Ne.forEach(Se=>Se()),e.nextTick(ee,H,$))}}let He;for(let nt=0;nt<K.length;nt++){const gt=K[nt],qt=nt<K.length-1,Se=nt>0,Ue=qt||(ge==null?void 0:ge.end)!==!1,ne=nt===K.length-1;if(O(gt)){let z=function(W){W&&W.name!=="AbortError"&&W.code!=="ERR_STREAM_PREMATURE_CLOSE"&&he(W)};var tt=z;if(Ue){const{destroy:W,cleanup:G}=se(gt,qt,Se);ae.push(W),R(gt)&&ne&&Ne.push(G)}gt.on("error",z),R(gt)&&ne&&Ne.push(()=>{gt.removeListener("error",z)})}if(nt===0)if(typeof gt=="function"){if(He=gt({signal:Ze}),!x(He))throw new h("Iterable, AsyncIterable or Stream","source",He)}else x(gt)||P(gt)||D(gt)?He=gt:He=l.from(gt);else if(typeof gt=="function"){if(D(He)){var Ee;He=_e((Ee=He)===null||Ee===void 0?void 0:Ee.readable)}else He=_e(He);if(He=gt(He,{signal:Ze}),qt){if(!x(He,!0))throw new h("AsyncIterable",`transform[${nt-1}]`,He)}else{var Fe;X||(X=D9());const z=new X({objectMode:!0}),W=(Fe=He)===null||Fe===void 0?void 0:Fe.then;if(typeof W=="function")Z++,W.call(He,Je=>{$=Je,Je!=null&&z.write(Je),Ue&&z.end(),e.nextTick(he)},Je=>{z.destroy(Je),e.nextTick(he,Je)});else if(x(He,!0))Z++,ue(He,z,he,{end:Ue});else if(Q(He)||D(He)){const Je=He.readable||He;Z++,ue(Je,z,he,{end:Ue})}else throw new h("AsyncIterable or Promise","destination",He);He=z;const{destroy:G,cleanup:je}=se(He,!1,!0);ae.push(G),ne&&Ne.push(je)}}else if(O(gt)){if(P(He)){Z+=2;const z=me(He,gt,he,{end:Ue});R(gt)&&ne&&Ne.push(z)}else if(D(He)||Q(He)){const z=He.readable||He;Z++,ue(z,gt,he,{end:Ue})}else if(x(He))Z++,ue(He,gt,he,{end:Ue});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else if(F(gt)){if(P(He))Z++,Ae(_e(He),gt,he,{end:Ue});else if(Q(He)||x(He))Z++,Ae(He,gt,he,{end:Ue});else if(D(He))Z++,Ae(He.readable,gt,he,{end:Ue});else throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],He);He=gt}else He=l.from(gt)}return(Ze!=null&&Ze.aborted||Pe!=null&&Pe.aborted)&&e.nextTick(Xe),He}function me(K,ee,ge,{end:Re}){let Ze=!1;if(ee.on("close",()=>{Ze||ge(new v)}),K.pipe(ee,{end:!1}),Re){let Ne=function(){Ze=!0,ee.end()};var Pe=Ne;Y(K)?e.nextTick(Ne):K.once("end",Ne)}else ge();return a(K,{readable:!0,writable:!1},Ne=>{const Xe=K._readableState;Ne&&Ne.code==="ERR_STREAM_PREMATURE_CLOSE"&&Xe&&Xe.ended&&!Xe.errored&&!Xe.errorEmitted?K.once("end",ge).once("error",ge):ge(Ne)}),a(ee,{readable:!1,writable:!0},ge)}return $x={pipelineImpl:ie,pipeline:k},$x}var Bx,BN;function k9(){if(BN)return Bx;BN=1;const{pipeline:e}=fO(),t=Ou(),{destroyer:n}=Hh(),{isNodeStream:r,isReadable:i,isWritable:a,isWebStream:o,isTransformStream:s,isWritableStream:l,isReadableStream:c}=Fu(),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:m}}=Ia(),y=rc();return Bx=function(..._){if(_.length===0)throw new m("streams");if(_.length===1)return t.from(_[0]);const S=[..._];if(typeof _[0]=="function"&&(_[0]=t.from(_[0])),typeof _[_.length-1]=="function"){const X=_.length-1;_[X]=t.from(_[X])}for(let X=0;X<_.length;++X)if(!(!r(_[X])&&!o(_[X]))){if(X<_.length-1&&!(i(_[X])||c(_[X])||s(_[X])))throw new h(`streams[${X}]`,S[X],"must be readable");if(X>0&&!(a(_[X])||l(_[X])||s(_[X])))throw new h(`streams[${X}]`,S[X],"must be writable")}let b,x,R,P,O;function D(X){const ce=P;P=null,ce?ce(X):X?O.destroy(X):!U&&!Y&&O.destroy()}const F=_[0],Q=e(_,D),Y=!!(a(F)||l(F)||s(F)),U=!!(i(Q)||c(Q)||s(Q));if(O=new t({writableObjectMode:!!(F!=null&&F.writableObjectMode),readableObjectMode:!!(Q!=null&&Q.readableObjectMode),writable:Y,readable:U}),Y){if(r(F))O._write=function(ce,te,se){F.write(ce,te)?se():b=se},O._final=function(ce){F.end(),x=ce},F.on("drain",function(){if(b){const ce=b;b=null,ce()}});else if(o(F)){const te=(s(F)?F.writable:F).getWriter();O._write=async function(se,pe,_e){try{await te.ready,te.write(se).catch(()=>{}),_e()}catch(de){_e(de)}},O._final=async function(se){try{await te.ready,te.close().catch(()=>{}),x=se}catch(pe){se(pe)}}}const X=s(Q)?Q.readable:Q;y(X,()=>{if(x){const ce=x;x=null,ce()}})}if(U){if(r(Q))Q.on("readable",function(){if(R){const X=R;R=null,X()}}),Q.on("end",function(){O.push(null)}),O._read=function(){for(;;){const X=Q.read();if(X===null){R=O._read;return}if(!O.push(X))return}};else if(o(Q)){const ce=(s(Q)?Q.readable:Q).getReader();O._read=async function(){for(;;)try{const{value:te,done:se}=await ce.read();if(!O.push(te))return;if(se){O.push(null);return}}catch{return}}}}return O._destroy=function(X,ce){!X&&P!==null&&(X=new d),R=null,b=null,x=null,P===null?ce(X):(P=ce,r(Q)&&n(Q,X))},O},Bx}var UN;function hre(){if(UN)return a_;UN=1;const e=globalThis.AbortController||Gm().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:a}=Ia(),{validateAbortSignal:o,validateInteger:s,validateObject:l}=by(),c=Kr().Symbol("kWeak"),d=Kr().Symbol("kResistStopPropagation"),{finished:h}=rc(),m=k9(),{addAbortSignalNoValidate:y}=nb(),{isWritable:v,isNodeStream:_}=Fu(),{deprecate:S}=ma(),{ArrayPrototypePush:b,Boolean:x,MathFloor:R,Number:P,NumberIsNaN:O,Promise:D,PromiseReject:F,PromiseResolve:Q,PromisePrototypeThen:Y,Symbol:U}=Kr(),X=U("kEmpty"),ce=U("kEof");function te(Pe,Ne){if(Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),_(Pe)&&!v(Pe))throw new t("stream",Pe,"must be writable");const Xe=m(this,Pe);return Ne!=null&&Ne.signal&&y(Ne.signal,Xe),Xe}function se(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal");let Xe=1;(Ne==null?void 0:Ne.concurrency)!=null&&(Xe=R(Ne.concurrency));let oe=Xe-1;return(Ne==null?void 0:Ne.highWaterMark)!=null&&(oe=R(Ne.highWaterMark)),s(Xe,"options.concurrency",1),s(oe,"options.highWaterMark",0),oe+=Xe,(async function*(){const $=ma().AbortSignalAny([Ne==null?void 0:Ne.signal].filter(x)),ae=this,Z=[],he={signal:$};let ye,He,Ee=!1,Fe=0;function tt(){Ee=!0,nt()}function nt(){Fe-=1,gt()}function gt(){He&&!Ee&&Fe<Xe&&Z.length<oe&&(He(),He=null)}async function qt(){try{for await(let Se of ae){if(Ee)return;if($.aborted)throw new a;try{if(Se=Pe(Se,he),Se===X)continue;Se=Q(Se)}catch(Ue){Se=F(Ue)}Fe+=1,Y(Se,nt,tt),Z.push(Se),ye&&(ye(),ye=null),!Ee&&(Z.length>=oe||Fe>=Xe)&&await new D(Ue=>{He=Ue})}Z.push(ce)}catch(Se){const Ue=F(Se);Y(Ue,nt,tt),Z.push(Ue)}finally{Ee=!0,ye&&(ye(),ye=null)}}qt();try{for(;;){for(;Z.length>0;){const Se=await Z[0];if(Se===ce)return;if($.aborted)throw new a;Se!==X&&(yield Se),Z.shift(),gt()}await new D(Se=>{ye=Se})}}finally{Ee=!0,He&&(He(),He=null)}}).call(this)}function pe(Pe=void 0){return Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&o(Pe.signal,"options.signal"),(async function*(){let Xe=0;for await(const H of this){var oe;if(Pe!=null&&(oe=Pe.signal)!==null&&oe!==void 0&&oe.aborted)throw new a({cause:Pe.signal.reason});yield[Xe++,H]}}).call(this)}async function _e(Pe,Ne=void 0){for await(const Xe of k.call(this,Pe,Ne))return!0;return!1}async function de(Pe,Ne=void 0){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);return!await _e.call(this,async(...Xe)=>!await Pe(...Xe),Ne)}async function ue(Pe,Ne){for await(const Xe of k.call(this,Pe,Ne))return Xe}async function Ae(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Xe(oe,H){return await Pe(oe,H),X}for await(const oe of se.call(this,Xe,Ne));}function k(Pe,Ne){if(typeof Pe!="function")throw new n("fn",["Function","AsyncFunction"],Pe);async function Xe(oe,H){return await Pe(oe,H)?oe:X}return se.call(this,Xe,Ne)}class ie extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function me(Pe,Ne,Xe){var oe;if(typeof Pe!="function")throw new n("reducer",["Function","AsyncFunction"],Pe);Xe!=null&&l(Xe,"options"),(Xe==null?void 0:Xe.signal)!=null&&o(Xe.signal,"options.signal");let H=arguments.length>1;if(Xe!=null&&(oe=Xe.signal)!==null&&oe!==void 0&&oe.aborted){const ye=new a(void 0,{cause:Xe.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(ye)),ye}const $=new e,ae=$.signal;if(Xe!=null&&Xe.signal){const ye={once:!0,[c]:this,[d]:!0};Xe.signal.addEventListener("abort",()=>$.abort(),ye)}let Z=!1;try{for await(const ye of this){var he;if(Z=!0,Xe!=null&&(he=Xe.signal)!==null&&he!==void 0&&he.aborted)throw new a;H?Ne=await Pe(Ne,ye,{signal:ae}):(Ne=ye,H=!0)}if(!Z&&!H)throw new ie}finally{$.abort()}return Ne}async function K(Pe){Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&o(Pe.signal,"options.signal");const Ne=[];for await(const oe of this){var Xe;if(Pe!=null&&(Xe=Pe.signal)!==null&&Xe!==void 0&&Xe.aborted)throw new a(void 0,{cause:Pe.signal.reason});b(Ne,oe)}return Ne}function ee(Pe,Ne){const Xe=se.call(this,Pe,Ne);return(async function*(){for await(const H of Xe)yield*H}).call(this)}function ge(Pe){if(Pe=P(Pe),O(Pe))return 0;if(Pe<0)throw new i("number",">= 0",Pe);return Pe}function Re(Pe,Ne=void 0){return Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),Pe=ge(Pe),(async function*(){var oe;if(Ne!=null&&(oe=Ne.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var H;if(Ne!=null&&(H=Ne.signal)!==null&&H!==void 0&&H.aborted)throw new a;Pe--<=0&&(yield $)}}).call(this)}function Ze(Pe,Ne=void 0){return Ne!=null&&l(Ne,"options"),(Ne==null?void 0:Ne.signal)!=null&&o(Ne.signal,"options.signal"),Pe=ge(Pe),(async function*(){var oe;if(Ne!=null&&(oe=Ne.signal)!==null&&oe!==void 0&&oe.aborted)throw new a;for await(const $ of this){var H;if(Ne!=null&&(H=Ne.signal)!==null&&H!==void 0&&H.aborted)throw new a;if(Pe-- >0&&(yield $),Pe<=0)return}}).call(this)}return a_.streamReturningOperators={asIndexedPairs:S(pe,"readable.asIndexedPairs will be removed in a future version."),drop:Re,filter:k,flatMap:ee,map:se,take:Ze,compose:te},a_.promiseReturningOperators={every:de,forEach:Ae,reduce:me,toArray:K,some:_e,find:ue},a_}var Ux,qN;function N9(){if(qN)return Ux;qN=1;const{ArrayPrototypePop:e,Promise:t}=Kr(),{isIterable:n,isNodeStream:r,isWebStream:i}=Fu(),{pipelineImpl:a}=fO(),{finished:o}=rc();F9();function s(...l){return new t((c,d)=>{let h,m;const y=l[l.length-1];if(y&&typeof y=="object"&&!r(y)&&!n(y)&&!i(y)){const v=e(l);h=v.signal,m=v.end}a(l,(v,_)=>{v?d(v):c(_)},{signal:h,end:m})})}return Ux={finished:o,pipeline:s},Ux}var zN;function F9(){if(zN)return vx.exports;zN=1;const{Buffer:e}=Nu(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=Kr(),{promisify:{custom:i}}=ma(),{streamReturningOperators:a,promiseReturningOperators:o}=hre(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:s}}=Ia(),l=k9(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:d}=rb(),{pipeline:h}=fO(),{destroyer:m}=Hh(),y=rc(),v=N9(),_=Fu(),S=vx.exports=lO().Stream;S.isDestroyed=_.isDestroyed,S.isDisturbed=_.isDisturbed,S.isErrored=_.isErrored,S.isReadable=_.isReadable,S.isWritable=_.isWritable,S.Readable=ib();for(const R of n(a)){let O=function(...D){if(new.target)throw s();return S.Readable.from(r(P,this,D))};var x=O;const P=a[R];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(S.Readable.prototype,R,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}for(const R of n(o)){let O=function(...F){if(new.target)throw s();return r(P,this,F)};var x=O;const P=o[R];t(O,"name",{__proto__:null,value:P.name}),t(O,"length",{__proto__:null,value:P.length}),t(S.Readable.prototype,R,{__proto__:null,value:O,enumerable:!1,configurable:!0,writable:!0})}S.Writable=cO(),S.Duplex=Ou(),S.Transform=M9(),S.PassThrough=D9(),S.pipeline=h;const{addAbortSignal:b}=nb();return S.addAbortSignal=b,S.finished=y,S.destroy=m,S.compose=l,S.setDefaultHighWaterMark=c,S.getDefaultHighWaterMark=d,t(S,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),t(h,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),t(y,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),S.Stream=S,S._isUint8Array=function(P){return P instanceof Uint8Array},S._uint8ArrayToBuffer=function(P){return e.from(P.buffer,P.byteOffset,P.byteLength)},vx.exports}var HN;function j9(){return HN||(HN=1,function(e){const t=F9(),n=N9(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(yx)),yx.exports}var Vh=j9();let Ls=class{constructor(t,n){this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._entities=Object.create(null),this._blankNodeIndex=0,!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Wl,t&&this.addQuads(t)}_termFromId(t,n){if(t[0]==="."){const r=this._entities,i=t.split(".");return this._factory.quad(this._termFromId(r[i[1]]),this._termFromId(r[i[2]]),this._termFromId(r[i[3]]),i[4]&&this._termFromId(r[i[4]]))}return sf(t,n)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&(Eh(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[da(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${Eh(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:da(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const m=this._entities,y=this._termFromId(l,this._factory),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(m[_],this._factory),r&&((c=d,d={})[r]=c[r]);for(const S in d)if(h=d[S]){v[o]=this._termFromId(m[S],this._factory);const b=i?i in h?[i]:[]:Object.keys(h);for(let x=0;x<b.length;x++)v[s]=this._termFromId(m[b[x]],this._factory),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){if(!pre(t))return this._graphs;const n={};return n[t]=this._graphs[t],n}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=da(i);let a=this._graphs[i];a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r);const o=this._addToIndex(a.subjects,t,n,r);return this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,o}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=da(i);const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Vh.Readable({objectMode:!0});return a._read=()=>{for(const o of this.readQuads(t,n,r,i))a.push(o);a.push(null)},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){i=i&&da(i);const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new gre(this,t,n,r,i)}countQuads(t,n,r,i){i=i&&da(i);const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o),!1),n,r,i,a)}every(t,n,r,i,a){let o=!1;const s=!this.some(l=>(o=!0,!t(l)),n,r,i,a);return o&&s}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){i=i&&da(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){i=i&&da(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){i=i&&da(i);const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,a)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Gi.rdf.rest,Gi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const m=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let S,b=null,x=null,R=null;for(let P=0;P<_.length&&!c;P++)S=_[P],S.graph.equals(m)?d?c=i(y,"has non-list arcs out"):S.predicate.value===Gi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):o.push(b=S):S.predicate.value===Gi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):o.push(x=S):v.length?c=i(y,"can't be subject and object"):(d=S,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)S=v[P],d?c=i(y,"can't have coreferences"):S.predicate.value===Gi.rdf.rest?R?c=i(y,"has incoming rdf:rest arcs"):R=S:(d=S,h="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=R&&R.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}*[Symbol.iterator](){yield*this.readQuads()}};function pre(e){return typeof e=="string"||e instanceof String}let gre=class $9 extends Vh.Readable{constructor(t,n,r,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new Ls({factory:t._factory});for(const s of t.readQuads(a,i,r,n))o.addQuad(s)}return this._filtered}get size(){return this.filtered.size}_read(){for(const t of this)this.push(t);this.push(null)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new $9(this.filtered,t,n,r,i)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}};class B9 extends Vh.Transform{constructor(t){super({decodeStrings:!0}),this._readableState.objectMode=!0;const n=new zh(t);let r,i;n.parse({on:(a,o)=>{switch(a){case"data":r=o;break;case"end":i=o;break}}},(a,o)=>{a&&this.emit("error",a)||o&&this.push(o)},(a,o)=>{this.emit("prefix",a,o)}),this._transform=(a,o,s)=>{r(a),s()},this._flush=a=>{i(),a()}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),this}}class U9 extends Vh.Transform{constructor(t){super({encoding:"utf8",writableObjectMode:!0});const n=this._writer=new tb({write:(r,i,a)=>{this.push(r),a&&a()},end:r=>{this.push(null),r&&r()}},t);this._transform=(r,i,a)=>{n.addQuad(r,a)},this._flush=r=>{n.end(r)}}import(t){return t.on("data",n=>{this.write(n)}),t.on("end",()=>{this.end()}),t.on("error",n=>{this.emit("error",n)}),t.on("prefix",(n,r)=>{this._writer.addPrefix(n,r)}),this}}const mre={Lexer:aO,Parser:zh,Writer:tb,Store:Ls,StreamParser:B9,StreamWriter:U9,Util:A9,DataFactory:Wl,Term:Ds,NamedNode:ei,Literal:Jd,BlankNode:oO,Variable:sO,DefaultGraph:uO,Quad:Vo,Triple:Vo,termFromId:sf,termToId:da},yre=Object.freeze(Object.defineProperty({__proto__:null,BlankNode:oO,DataFactory:Wl,DefaultGraph:uO,Lexer:aO,Literal:Jd,NamedNode:ei,Parser:zh,Quad:Vo,Store:Ls,StreamParser:B9,StreamWriter:U9,Term:Ds,Triple:Vo,Util:A9,Variable:sO,Writer:tb,default:mre,termFromId:sf,termToId:da},Symbol.toStringTag,{value:"Module"}));var vre="http://www.w3.org/ns/auth/acl#Access",_re="http://www.w3.org/ns/auth/acl#Append",wre="http://www.w3.org/ns/auth/acl#AuthenticatedAgent",bre="http://www.w3.org/ns/auth/acl#Authorization",Sre="http://www.w3.org/ns/auth/acl#Control",xre="http://www.w3.org/ns/auth/acl#Origin",Ere="http://www.w3.org/ns/auth/acl#Read",Cre="http://www.w3.org/ns/auth/acl#Write",Tre="http://www.w3.org/ns/auth/acl#accessControl",Rre="http://www.w3.org/ns/auth/acl#accessTo",Are="http://www.w3.org/ns/auth/acl#accessToClass",Pre="http://www.w3.org/ns/auth/acl#agent",Ore="http://www.w3.org/ns/auth/acl#agentClass",Lre="http://www.w3.org/ns/auth/acl#agentGroup",Ire="http://www.w3.org/ns/auth/acl#default",Mre="http://www.w3.org/ns/auth/acl#defaultForNew",Dre="http://www.w3.org/ns/auth/acl#delegates",kre="http://www.w3.org/ns/auth/acl#mode",Nre="http://www.w3.org/ns/auth/acl#origin",Fre="http://www.w3.org/ns/auth/acl#owner",jre=Object.freeze({Access:vre,Append:_re,AuthenticatedAgent:wre,Authorization:bre,Control:Sre,Origin:xre,Read:Ere,Write:Cre,accessControl:Tre,accessTo:Rre,accessToClass:Are,agent:Pre,agentClass:Ore,agentGroup:Lre,default__workaround:Ire,defaultForNew:Mre,delegates:Dre,mode:kre,origin:Nre,owner:Fre}),$re="http://www.w3.org/ns/activitystreams#actor",Bre="http://www.w3.org/ns/activitystreams#attributedTo",Ure="http://www.w3.org/ns/activitystreams#attachment",qre="http://www.w3.org/ns/activitystreams#attachments",zre="http://www.w3.org/ns/activitystreams#author",Hre="http://www.w3.org/ns/activitystreams#bcc",Vre="http://www.w3.org/ns/activitystreams#bto",Kre="http://www.w3.org/ns/activitystreams#cc",Gre="http://www.w3.org/ns/activitystreams#context",Wre="http://www.w3.org/ns/activitystreams#generator",Qre="http://www.w3.org/ns/activitystreams#icon",Zre="http://www.w3.org/ns/activitystreams#image",Jre="http://www.w3.org/ns/activitystreams#inReplyTo",Xre="http://www.w3.org/ns/activitystreams#items",Yre="http://www.w3.org/ns/activitystreams#location",eie="http://www.w3.org/ns/activitystreams#object",tie="http://www.w3.org/ns/activitystreams#oneOf",nie="http://www.w3.org/ns/activitystreams#anyOf",rie="http://www.w3.org/ns/activitystreams#preview",iie="http://www.w3.org/ns/activitystreams#provider",aie="http://www.w3.org/ns/activitystreams#replies",oie="http://www.w3.org/ns/activitystreams#result",sie="http://www.w3.org/ns/activitystreams#audience",uie="http://www.w3.org/ns/activitystreams#tag",lie="http://www.w3.org/ns/activitystreams#tags",cie="http://www.w3.org/ns/activitystreams#target",fie="http://www.w3.org/ns/activitystreams#origin",die="http://www.w3.org/ns/activitystreams#instrument",hie="http://www.w3.org/ns/activitystreams#to",pie="http://www.w3.org/ns/activitystreams#url",gie="http://www.w3.org/ns/activitystreams#relationship",mie="http://www.w3.org/ns/activitystreams#describes",yie="http://www.w3.org/ns/activitystreams#formerType",vie="http://www.w3.org/ns/activitystreams#accuracy",_ie="http://www.w3.org/ns/activitystreams#altitude",wie="http://www.w3.org/ns/activitystreams#content",bie="http://www.w3.org/ns/activitystreams#name",Sie="http://www.w3.org/ns/activitystreams#downstreamDuplicates",xie="http://www.w3.org/ns/activitystreams#duration",Eie="http://www.w3.org/ns/activitystreams#endTime",Cie="http://www.w3.org/ns/activitystreams#height",Tie="http://www.w3.org/ns/activitystreams#href",Rie="http://www.w3.org/ns/activitystreams#hreflang",Aie="http://www.w3.org/ns/activitystreams#id",Pie="http://www.w3.org/ns/activitystreams#latitude",Oie="http://www.w3.org/ns/activitystreams#longitude",Lie="http://www.w3.org/ns/activitystreams#mediaType",Iie="http://www.w3.org/ns/activitystreams#objectType",Mie="http://www.w3.org/ns/activitystreams#published",Die="http://www.w3.org/ns/activitystreams#radius",kie="http://www.w3.org/ns/activitystreams#rating",Nie="http://www.w3.org/ns/activitystreams#rel",Fie="http://www.w3.org/ns/activitystreams#startIndex",jie="http://www.w3.org/ns/activitystreams#startTime",$ie="http://www.w3.org/ns/activitystreams#summary",Bie="http://www.w3.org/ns/activitystreams#totalItems",Uie="http://www.w3.org/ns/activitystreams#units",qie="http://www.w3.org/ns/activitystreams#updated",zie="http://www.w3.org/ns/activitystreams#upstreamDuplicates",Hie="http://www.w3.org/ns/activitystreams#verb",Vie="http://www.w3.org/ns/activitystreams#width",Kie="http://www.w3.org/ns/activitystreams#deleted",Gie="http://www.w3.org/ns/activitystreams#Accept",Wie="http://www.w3.org/ns/activitystreams#Activity",Qie="http://www.w3.org/ns/activitystreams#Block",Zie="http://www.w3.org/ns/activitystreams#IntransitiveActivity",Jie="http://www.w3.org/ns/activitystreams#Add",Xie="http://www.w3.org/ns/activitystreams#Announce",Yie="http://www.w3.org/ns/activitystreams#Application",eae="http://www.w3.org/ns/activitystreams#Arrive",tae="http://www.w3.org/ns/activitystreams#Article",nae="http://www.w3.org/ns/activitystreams#Audio",rae="http://www.w3.org/ns/activitystreams#Collection",iae="http://www.w3.org/ns/activitystreams#CollectionPage",aae="http://www.w3.org/ns/activitystreams#OrderedCollectionPage",oae="http://www.w3.org/ns/activitystreams#Relationship",sae="http://www.w3.org/ns/activitystreams#Create",uae="http://www.w3.org/ns/activitystreams#Delete",lae="http://www.w3.org/ns/activitystreams#Dislike",cae="http://www.w3.org/ns/activitystreams#Document",fae="http://www.w3.org/ns/activitystreams#Event",dae="http://www.w3.org/ns/activitystreams#Flag",hae="http://www.w3.org/ns/activitystreams#Follow",pae="http://www.w3.org/ns/activitystreams#Group",gae="http://www.w3.org/ns/activitystreams#Ignore",mae="http://www.w3.org/ns/activitystreams#Image",yae="http://www.w3.org/ns/activitystreams#Invite",vae="http://www.w3.org/ns/activitystreams#Join",_ae="http://www.w3.org/ns/activitystreams#Leave",wae="http://www.w3.org/ns/activitystreams#Like",bae="http://www.w3.org/ns/activitystreams#View",Sae="http://www.w3.org/ns/activitystreams#Listen",xae="http://www.w3.org/ns/activitystreams#Read",Eae="http://www.w3.org/ns/activitystreams#Move",Cae="http://www.w3.org/ns/activitystreams#Travel",Tae="http://www.w3.org/ns/activitystreams#Link",Rae="http://www.w3.org/ns/activitystreams#Mention",Aae="http://www.w3.org/ns/activitystreams#Note",Pae="http://www.w3.org/ns/activitystreams#Object",Oae="http://www.w3.org/ns/activitystreams#Offer",Lae="http://www.w3.org/ns/activitystreams#OrderedCollection",Iae="http://www.w3.org/ns/activitystreams#OrderedItems",Mae="http://www.w3.org/ns/activitystreams#Page",Dae="http://www.w3.org/ns/activitystreams#Person",kae="http://www.w3.org/ns/activitystreams#Organization",Nae="http://www.w3.org/ns/activitystreams#Profile",Fae="http://www.w3.org/ns/activitystreams#Place",jae="http://www.w3.org/ns/activitystreams#Question",$ae="http://www.w3.org/ns/activitystreams#Reject",Bae="http://www.w3.org/ns/activitystreams#Remove",Uae="http://www.w3.org/ns/activitystreams#Service",qae="http://www.w3.org/ns/activitystreams#TentativeAccept",zae="http://www.w3.org/ns/activitystreams#TentativeReject",Hae="http://www.w3.org/ns/activitystreams#Tombstone",Vae="http://www.w3.org/ns/activitystreams#Undo",Kae="http://www.w3.org/ns/activitystreams#Update",Gae="http://www.w3.org/ns/activitystreams#Video",Wae=Object.freeze({actor:$re,attributedTo:Bre,attachment:Ure,attachments:qre,author:zre,bcc:Hre,bto:Vre,cc:Kre,context:Gre,generator:Wre,icon:Qre,image:Zre,inReplyTo:Jre,items:Xre,location:Yre,object:eie,oneOf:tie,anyOf:nie,preview:rie,provider:iie,replies:aie,result:oie,audience:sie,tag:uie,tags:lie,target:cie,origin:fie,instrument:die,to:hie,url:pie,relationship:gie,describes:mie,formerType:yie,accuracy:vie,altitude:_ie,content:wie,name:bie,downstreamDuplicates:Sie,duration:xie,endTime:Eie,height:Cie,href:Tie,hreflang:Rie,id:Aie,latitude:Pie,longitude:Oie,mediaType:Lie,objectType:Iie,published:Mie,radius:Die,rating:kie,rel:Nie,startIndex:Fie,startTime:jie,summary:$ie,totalItems:Bie,units:Uie,updated:qie,upstreamDuplicates:zie,verb:Hie,width:Vie,deleted:Kie,Accept:Gie,Activity:Wie,Block:Qie,IntransitiveActivity:Zie,Add:Jie,Announce:Xie,Application:Yie,Arrive:eae,Article:tae,Audio:nae,Collection:rae,CollectionPage:iae,OrderedCollectionPage:aae,Relationship:oae,Create:sae,Delete:uae,Dislike:lae,Document:cae,Event:fae,Flag:dae,Follow:hae,Group:pae,Ignore:gae,Image:mae,Invite:yae,Join:vae,Leave:_ae,Like:wae,View:bae,Listen:Sae,Read:xae,Move:Eae,Travel:Cae,Link:Tae,Mention:Rae,Note:Aae,Object__workaround:Pae,Offer:Oae,OrderedCollection:Lae,OrderedItems:Iae,Page:Mae,Person:Dae,Organization:kae,Profile:Nae,Place:Fae,Question:jae,Reject:$ae,Remove:Bae,Service:Uae,TentativeAccept:qae,TentativeReject:zae,Tombstone:Hae,Undo:Vae,Update:Kae,Video:Gae}),Qae="http://purl.org/dc/terms/AgentClass",Zae="http://purl.org/dc/terms/BibliographicResource",Jae="http://purl.org/dc/terms/Box",Xae="http://purl.org/dc/terms/FileFormat",Yae="http://purl.org/dc/terms/Frequency",eoe="http://purl.org/dc/terms/ISO3166",toe="http://purl.org/dc/terms/Jurisdiction",noe="http://purl.org/dc/terms/LicenseDocument",roe="http://purl.org/dc/terms/LinguisticSystem",ioe="http://purl.org/dc/terms/Location",aoe="http://purl.org/dc/terms/LocationPeriodOrJurisdiction",ooe="http://purl.org/dc/terms/MediaType",soe="http://purl.org/dc/terms/MediaTypeOrExtent",uoe="http://purl.org/dc/terms/MethodOfAccrual",loe="http://purl.org/dc/terms/MethodOfInstruction",coe="http://purl.org/dc/terms/Period",foe="http://purl.org/dc/terms/PeriodOfTime",doe="http://purl.org/dc/terms/PhysicalMedium",hoe="http://purl.org/dc/terms/PhysicalResource",poe="http://purl.org/dc/terms/Point",goe="http://purl.org/dc/terms/Policy",moe="http://purl.org/dc/terms/ProvenanceStatement",yoe="http://purl.org/dc/terms/RFC1766",voe="http://purl.org/dc/terms/RFC3066",_oe="http://purl.org/dc/terms/RFC4646",woe="http://purl.org/dc/terms/RFC5646",boe="http://purl.org/dc/terms/RightsStatement",Soe="http://purl.org/dc/terms/SizeOrDuration",xoe="http://purl.org/dc/terms/Standard",Eoe="http://purl.org/dc/terms/URI",Coe="http://purl.org/dc/terms/W3CDTF",Toe="http://purl.org/dc/terms/abstract",Roe="http://purl.org/dc/terms/accessRights",Aoe="http://purl.org/dc/terms/accrualMethod",Poe="http://purl.org/dc/terms/accrualPeriodicity",Ooe="http://purl.org/dc/terms/accrualPolicy",Loe="http://purl.org/dc/terms/alternative",Ioe="http://purl.org/dc/terms/audience",Moe="http://purl.org/dc/terms/available",Doe="http://purl.org/dc/terms/bibliographicCitation",koe="http://purl.org/dc/terms/conformsTo",Noe="http://purl.org/dc/terms/contributor",Foe="http://purl.org/dc/terms/coverage",joe="http://purl.org/dc/terms/created",$oe="http://purl.org/dc/terms/creator",Boe="http://purl.org/dc/terms/date",Uoe="http://purl.org/dc/terms/dateAccepted",qoe="http://purl.org/dc/terms/dateCopyrighted",zoe="http://purl.org/dc/terms/dateSubmitted",Hoe="http://purl.org/dc/terms/description",Voe="http://purl.org/dc/terms/educationLevel",Koe="http://purl.org/dc/terms/extent",Goe="http://purl.org/dc/terms/format",Woe="http://purl.org/dc/terms/hasFormat",Qoe="http://purl.org/dc/terms/hasPart",Zoe="http://purl.org/dc/terms/hasVersion",Joe="http://purl.org/dc/terms/identifier",Xoe="http://purl.org/dc/terms/instructionalMethod",Yoe="http://purl.org/dc/terms/isFormatOf",ese="http://purl.org/dc/terms/isPartOf",tse="http://purl.org/dc/terms/isReferencedBy",nse="http://purl.org/dc/terms/isReplacedBy",rse="http://purl.org/dc/terms/isRequiredBy",ise="http://purl.org/dc/terms/isVersionOf",ase="http://purl.org/dc/terms/issued",ose="http://purl.org/dc/terms/language",sse="http://purl.org/dc/terms/license",use="http://purl.org/dc/terms/mediator",lse="http://purl.org/dc/terms/medium",cse="http://purl.org/dc/terms/modified",fse="http://purl.org/dc/terms/provenance",dse="http://purl.org/dc/terms/publisher",hse="http://purl.org/dc/terms/references",pse="http://purl.org/dc/terms/relation",gse="http://purl.org/dc/terms/replaces",mse="http://purl.org/dc/terms/requires",yse="http://purl.org/dc/terms/rights",vse="http://purl.org/dc/terms/rightsHolder",_se="http://purl.org/dc/terms/source",wse="http://purl.org/dc/terms/spatial",bse="http://purl.org/dc/terms/subject",Sse="http://purl.org/dc/terms/tableOfContents",xse="http://purl.org/dc/terms/temporal",Ese="http://purl.org/dc/terms/title",Cse="http://purl.org/dc/terms/type",Tse="http://purl.org/dc/terms/valid",Rse=Object.freeze({AgentClass:Qae,BibliographicResource:Zae,Box:Jae,FileFormat:Xae,Frequency:Yae,ISO3166:eoe,Jurisdiction:toe,LicenseDocument:noe,LinguisticSystem:roe,Location:ioe,LocationPeriodOrJurisdiction:aoe,MediaType:ooe,MediaTypeOrExtent:soe,MethodOfAccrual:uoe,MethodOfInstruction:loe,Period:coe,PeriodOfTime:foe,PhysicalMedium:doe,PhysicalResource:hoe,Point:poe,Policy:goe,ProvenanceStatement:moe,RFC1766:yoe,RFC3066:voe,RFC4646:_oe,RFC5646:woe,RightsStatement:boe,SizeOrDuration:Soe,Standard:xoe,URI:Eoe,W3CDTF:Coe,abstract:Toe,accessRights:Roe,accrualMethod:Aoe,accrualPeriodicity:Poe,accrualPolicy:Ooe,alternative:Loe,audience:Ioe,available:Moe,bibliographicCitation:Doe,conformsTo:koe,contributor:Noe,coverage:Foe,created:joe,creator:$oe,date:Boe,dateAccepted:Uoe,dateCopyrighted:qoe,dateSubmitted:zoe,description:Hoe,educationLevel:Voe,extent:Koe,format:Goe,hasFormat:Woe,hasPart:Qoe,hasVersion:Zoe,identifier:Joe,instructionalMethod:Xoe,isFormatOf:Yoe,isPartOf:ese,isReferencedBy:tse,isReplacedBy:nse,isRequiredBy:rse,isVersionOf:ise,issued:ase,language:ose,license:sse,mediator:use,medium:lse,modified:cse,provenance:fse,publisher:dse,references:hse,relation:pse,replaces:gse,requires:mse,rights:yse,rightsHolder:vse,source:_se,spatial:wse,subject:bse,tableOfContents:Sse,temporal:xse,title:Ese,type:Cse,valid:Tse}),Ase="http://xmlns.com/foaf/0.1/Person",Pse="http://xmlns.com/foaf/0.1/Document",Ose="http://xmlns.com/foaf/0.1/Organization",Lse="http://xmlns.com/foaf/0.1/Group",Ise="http://xmlns.com/foaf/0.1/Agent",Mse="http://xmlns.com/foaf/0.1/Project",Dse="http://xmlns.com/foaf/0.1/Image",kse="http://xmlns.com/foaf/0.1/PersonalProfileDocument",Nse="http://xmlns.com/foaf/0.1/OnlineAccount",Fse="http://xmlns.com/foaf/0.1/OnlineGamingAccount",jse="http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",$se="http://xmlns.com/foaf/0.1/OnlineChatAccount",Bse="http://xmlns.com/foaf/0.1/mbox",Use="http://xmlns.com/foaf/0.1/mbox_sha1sum",qse="http://xmlns.com/foaf/0.1/gender",zse="http://xmlns.com/foaf/0.1/geekcode",Hse="http://xmlns.com/foaf/0.1/dnaChecksum",Vse="http://xmlns.com/foaf/0.1/sha1",Kse="http://xmlns.com/foaf/0.1/based_near",Gse="http://xmlns.com/foaf/0.1/title",Wse="http://xmlns.com/foaf/0.1/nick",Qse="http://xmlns.com/foaf/0.1/jabberID",Zse="http://xmlns.com/foaf/0.1/aimChatID",Jse="http://xmlns.com/foaf/0.1/icqChatID",Xse="http://xmlns.com/foaf/0.1/yahooChatID",Yse="http://xmlns.com/foaf/0.1/msnChatID",eue="http://xmlns.com/foaf/0.1/name",tue="http://xmlns.com/foaf/0.1/firstName",nue="http://xmlns.com/foaf/0.1/givenname",rue="http://xmlns.com/foaf/0.1/surname",iue="http://xmlns.com/foaf/0.1/family_name",aue="http://xmlns.com/foaf/0.1/phone",oue="http://xmlns.com/foaf/0.1/homepage",sue="http://xmlns.com/foaf/0.1/weblog",uue="http://xmlns.com/foaf/0.1/tipjar",lue="http://xmlns.com/foaf/0.1/plan",cue="http://xmlns.com/foaf/0.1/made",fue="http://xmlns.com/foaf/0.1/maker",due="http://xmlns.com/foaf/0.1/img",hue="http://xmlns.com/foaf/0.1/depiction",pue="http://xmlns.com/foaf/0.1/depicts",gue="http://xmlns.com/foaf/0.1/thumbnail",mue="http://xmlns.com/foaf/0.1/myersBriggs",yue="http://xmlns.com/foaf/0.1/workplaceHomepage",vue="http://xmlns.com/foaf/0.1/workInfoHomepage",_ue="http://xmlns.com/foaf/0.1/schoolHomepage",wue="http://xmlns.com/foaf/0.1/knows",bue="http://xmlns.com/foaf/0.1/interest",Sue="http://xmlns.com/foaf/0.1/topic_interest",xue="http://xmlns.com/foaf/0.1/publications",Eue="http://xmlns.com/foaf/0.1/currentProject",Cue="http://xmlns.com/foaf/0.1/pastProject",Tue="http://xmlns.com/foaf/0.1/fundedBy",Rue="http://xmlns.com/foaf/0.1/logo",Aue="http://xmlns.com/foaf/0.1/topic",Pue="http://xmlns.com/foaf/0.1/primaryTopic",Oue="http://xmlns.com/foaf/0.1/page",Lue="http://xmlns.com/foaf/0.1/theme",Iue="http://xmlns.com/foaf/0.1/holdsAccount",Mue="http://xmlns.com/foaf/0.1/accountServiceHomepage",Due="http://xmlns.com/foaf/0.1/accountName",kue="http://xmlns.com/foaf/0.1/member",Nue="http://xmlns.com/foaf/0.1/membershipClass",Fue=Object.freeze({Person:Ase,Document:Pse,Organization:Ose,Group:Lse,Agent:Ise,Project:Mse,Image:Dse,PersonalProfileDocument:kse,OnlineAccount:Nse,OnlineGamingAccount:Fse,OnlineEcommerceAccount:jse,OnlineChatAccount:$se,mbox:Bse,mbox_sha1sum:Use,gender:qse,geekcode:zse,dnaChecksum:Hse,sha1:Vse,based_near:Kse,title:Gse,nick:Wse,jabberID:Qse,aimChatID:Zse,icqChatID:Jse,yahooChatID:Xse,msnChatID:Yse,name:eue,firstName:tue,givenname:nue,surname:rue,family_name:iue,phone:aue,homepage:oue,weblog:sue,tipjar:uue,plan:lue,made:cue,maker:fue,img:due,depiction:hue,depicts:pue,thumbnail:gue,myersBriggs:mue,workplaceHomepage:yue,workInfoHomepage:vue,schoolHomepage:_ue,knows:wue,interest:bue,topic_interest:Sue,publications:xue,currentProject:Eue,pastProject:Cue,fundedBy:Tue,logo:Rue,topic:Aue,primaryTopic:Pue,page:Oue,theme:Lue,holdsAccount:Iue,accountServiceHomepage:Mue,accountName:Due,member:kue,membershipClass:Nue}),jue="http://www.w3.org/ns/ldp#Resource",$ue="http://www.w3.org/ns/ldp#RDFSource",Bue="http://www.w3.org/ns/ldp#NonRDFSource",Uue="http://www.w3.org/ns/ldp#Container",que="http://www.w3.org/ns/ldp#BasicContainer",zue="http://www.w3.org/ns/ldp#DirectContainer",Hue="http://www.w3.org/ns/ldp#IndirectContainer",Vue="http://www.w3.org/ns/ldp#hasMemberRelation",Kue="http://www.w3.org/ns/ldp#isMemberOfRelation",Gue="http://www.w3.org/ns/ldp#membershipResource",Wue="http://www.w3.org/ns/ldp#insertedContentRelation",Que="http://www.w3.org/ns/ldp#member",Zue="http://www.w3.org/ns/ldp#contains",Jue="http://www.w3.org/ns/ldp#constrainedBy",Xue="http://www.w3.org/ns/ldp#pageSortCriteria",Yue="http://www.w3.org/ns/ldp#PageSortCriterion",ele="http://www.w3.org/ns/ldp#pageSortPredicate",tle="http://www.w3.org/ns/ldp#pageSortOrder",nle="http://www.w3.org/ns/ldp#pageSortCollation",rle="http://www.w3.org/ns/ldp#Page",ile="http://www.w3.org/ns/ldp#pageSequence",ale="http://www.w3.org/ns/ldp#inbox",ole=Object.freeze({Resource:jue,RDFSource:$ue,NonRDFSource:Bue,Container:Uue,BasicContainer:que,DirectContainer:zue,IndirectContainer:Hue,hasMemberRelation:Vue,isMemberOfRelation:Kue,membershipResource:Gue,insertedContentRelation:Wue,member:Que,contains:Zue,constrainedBy:Jue,pageSortCriteria:Xue,PageSortCriterion:Yue,pageSortPredicate:ele,pageSortOrder:tle,pageSortCollation:nle,Page:rle,pageSequence:ile,inbox:ale}),sle="http://www.w3.org/ns/pim/meeting#Meeting",ule="http://www.w3.org/ns/pim/meeting#VideoCallPage",lle="http://www.w3.org/ns/pim/meeting#actionItems",cle="http://www.w3.org/ns/pim/meeting#agenda",fle="http://www.w3.org/ns/pim/meeting#attendeeGroup",dle="http://www.w3.org/ns/pim/meeting#chat",hle="http://www.w3.org/ns/pim/meeting#nextMeeting",ple="http://www.w3.org/ns/pim/meeting#previousMeeting",gle="http://www.w3.org/ns/pim/meeting#sharedNotes",mle="http://www.w3.org/ns/pim/meeting#toolList",yle="http://www.w3.org/ns/pim/meeting#trip",vle="http://www.w3.org/ns/pim/meeting#videoCallPage",_le=Object.freeze({Meeting:sle,VideoCallPage:ule,actionItems:lle,agenda:cle,attendeeGroup:fle,chat:dle,nextMeeting:hle,previousMeeting:ple,sharedNotes:gle,toolList:mle,trip:yle,videoCallPage:vle}),wle="http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",ble="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",Sle="http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",xle="http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Ele="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Cle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",Tle="http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",Rle="http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",Ale="http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Ple="http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Ole="http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Lle="http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",Ile="http://www.w3.org/1999/02/22-rdf-syntax-ns#value",Mle="http://www.w3.org/1999/02/22-rdf-syntax-ns#List",Dle="http://www.w3.org/1999/02/22-rdf-syntax-ns#first",kle="http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",Nle="http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",Fle="http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",jle="http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",$le="http://www.w3.org/1999/02/22-rdf-syntax-ns#language",Ble="http://www.w3.org/1999/02/22-rdf-syntax-ns#direction",Ule=Object.freeze({HTML:wle,langString:ble,PlainLiteral:Sle,type:xle,Property:Ele,Statement:Cle,subject:Tle,predicate:Rle,object:Ale,Bag:Ple,Seq:Ole,Alt:Lle,value:Ile,List:Mle,first:Dle,rest:kle,XMLLiteral:Nle,JSON__workaround:Fle,CompoundLiteral:jle,language:$le,direction:Ble}),qle="http://www.w3.org/2000/01/rdf-schema#Resource",zle="http://www.w3.org/2000/01/rdf-schema#Class",Hle="http://www.w3.org/2000/01/rdf-schema#subClassOf",Vle="http://www.w3.org/2000/01/rdf-schema#subPropertyOf",Kle="http://www.w3.org/2000/01/rdf-schema#comment",Gle="http://www.w3.org/2000/01/rdf-schema#label",Wle="http://www.w3.org/2000/01/rdf-schema#domain",Qle="http://www.w3.org/2000/01/rdf-schema#range",Zle="http://www.w3.org/2000/01/rdf-schema#seeAlso",Jle="http://www.w3.org/2000/01/rdf-schema#isDefinedBy",Xle="http://www.w3.org/2000/01/rdf-schema#Literal",Yle="http://www.w3.org/2000/01/rdf-schema#Container",ece="http://www.w3.org/2000/01/rdf-schema#ContainerMembershipProperty",tce="http://www.w3.org/2000/01/rdf-schema#member",nce="http://www.w3.org/2000/01/rdf-schema#Datatype",rce=Object.freeze({Resource:qle,Class:zle,subClassOf:Hle,subPropertyOf:Vle,comment:Kle,label:Gle,domain:Wle,range:Qle,seeAlso:Zle,isDefinedBy:Jle,Literal:Xle,Container:Yle,ContainerMembershipProperty:ece,member:tce,Datatype:nce}),ice="http://rdfs.org/sioc/ns#Community",ace="http://rdfs.org/sioc/ns#Container",oce="http://rdfs.org/sioc/ns#Forum",sce="http://rdfs.org/sioc/ns#Item",uce="http://rdfs.org/sioc/ns#Post",lce="http://rdfs.org/sioc/ns#Role",cce="http://rdfs.org/sioc/ns#Space",fce="http://rdfs.org/sioc/ns#Site",dce="http://rdfs.org/sioc/ns#Thread",hce="http://rdfs.org/sioc/ns#UserAccount",pce="http://rdfs.org/sioc/ns#Usergroup",gce="http://rdfs.org/sioc/ns#about",mce="http://rdfs.org/sioc/ns#account_of",yce="http://rdfs.org/sioc/ns#addressed_to",vce="http://rdfs.org/sioc/ns#administrator_of",_ce="http://rdfs.org/sioc/ns#attachment",wce="http://rdfs.org/sioc/ns#avatar",bce="http://rdfs.org/sioc/ns#container_of",Sce="http://rdfs.org/sioc/ns#content",xce="http://rdfs.org/sioc/ns#creator_of",Ece="http://rdfs.org/sioc/ns#delivered_at",Cce="http://rdfs.org/sioc/ns#discussion_of",Tce="http://rdfs.org/sioc/ns#email",Rce="http://rdfs.org/sioc/ns#email_sha1",Ace="http://rdfs.org/sioc/ns#embeds_knowledge",Pce="http://rdfs.org/sioc/ns#feed",Oce="http://rdfs.org/sioc/ns#follows",Lce="http://rdfs.org/sioc/ns#function_of",Ice="http://rdfs.org/sioc/ns#generator",Mce="http://rdfs.org/sioc/ns#has_administrator",Dce="http://rdfs.org/sioc/ns#has_container",kce="http://rdfs.org/sioc/ns#has_creator",Nce="http://rdfs.org/sioc/ns#has_discussion",Fce="http://rdfs.org/sioc/ns#has_function",jce="http://rdfs.org/sioc/ns#has_host",$ce="http://rdfs.org/sioc/ns#has_member",Bce="http://rdfs.org/sioc/ns#has_moderator",Uce="http://rdfs.org/sioc/ns#has_modifier",qce="http://rdfs.org/sioc/ns#has_owner",zce="http://rdfs.org/sioc/ns#has_parent",Hce="http://rdfs.org/sioc/ns#has_reply",Vce="http://rdfs.org/sioc/ns#has_scope",Kce="http://rdfs.org/sioc/ns#has_space",Gce="http://rdfs.org/sioc/ns#has_subscriber",Wce="http://rdfs.org/sioc/ns#has_usergroup",Qce="http://rdfs.org/sioc/ns#host_of",Zce="http://rdfs.org/sioc/ns#id",Jce="http://rdfs.org/sioc/ns#ip_address",Xce="http://rdfs.org/sioc/ns#last_activity_date",Yce="http://rdfs.org/sioc/ns#last_item_date",efe="http://rdfs.org/sioc/ns#last_reply_date",tfe="http://rdfs.org/sioc/ns#latest_version",nfe="http://rdfs.org/sioc/ns#likes",rfe="http://rdfs.org/sioc/ns#link",ife="http://rdfs.org/sioc/ns#links_to",afe="http://rdfs.org/sioc/ns#member_of",ofe="http://rdfs.org/sioc/ns#mentions",sfe="http://rdfs.org/sioc/ns#moderator_of",ufe="http://rdfs.org/sioc/ns#modifier_of",lfe="http://rdfs.org/sioc/ns#name",cfe="http://rdfs.org/sioc/ns#next_by_date",ffe="http://rdfs.org/sioc/ns#next_version",dfe="http://rdfs.org/sioc/ns#note",hfe="http://rdfs.org/sioc/ns#num_authors",pfe="http://rdfs.org/sioc/ns#num_items",gfe="http://rdfs.org/sioc/ns#num_replies",mfe="http://rdfs.org/sioc/ns#num_threads",yfe="http://rdfs.org/sioc/ns#num_views",vfe="http://rdfs.org/sioc/ns#owner_of",_fe="http://rdfs.org/sioc/ns#parent_of",wfe="http://rdfs.org/sioc/ns#previous_by_date",bfe="http://rdfs.org/sioc/ns#previous_version",Sfe="http://rdfs.org/sioc/ns#read_at",xfe="http://rdfs.org/sioc/ns#related_to",Efe="http://rdfs.org/sioc/ns#reply_of",Cfe="http://rdfs.org/sioc/ns#respond_to",Tfe="http://rdfs.org/sioc/ns#scope_of",Rfe="http://rdfs.org/sioc/ns#shared_by",Afe="http://rdfs.org/sioc/ns#space_of",Pfe="http://rdfs.org/sioc/ns#subscriber_of",Ofe="http://rdfs.org/sioc/ns#topic",Lfe="http://rdfs.org/sioc/ns#usergroup_of",Ife=Object.freeze({Community:ice,Container:ace,Forum:oce,Item:sce,Post:uce,Role:lce,Space:cce,Site:fce,Thread:dce,UserAccount:hce,Usergroup:pce,about:gce,account_of:mce,addressed_to:yce,administrator_of:vce,attachment:_ce,avatar:wce,container_of:bce,content:Sce,creator_of:xce,delivered_at:Ece,discussion_of:Cce,email:Tce,email_sha1:Rce,embeds_knowledge:Ace,feed:Pce,follows:Oce,function_of:Lce,generator:Ice,has_administrator:Mce,has_container:Dce,has_creator:kce,has_discussion:Nce,has_function:Fce,has_host:jce,has_member:$ce,has_moderator:Bce,has_modifier:Uce,has_owner:qce,has_parent:zce,has_reply:Hce,has_scope:Vce,has_space:Kce,has_subscriber:Gce,has_usergroup:Wce,host_of:Qce,id:Zce,ip_address:Jce,last_activity_date:Xce,last_item_date:Yce,last_reply_date:efe,latest_version:tfe,likes:nfe,link:rfe,links_to:ife,member_of:afe,mentions:ofe,moderator_of:sfe,modifier_of:ufe,name:lfe,next_by_date:cfe,next_version:ffe,note:dfe,num_authors:hfe,num_items:pfe,num_replies:gfe,num_threads:mfe,num_views:yfe,owner_of:vfe,parent_of:_fe,previous_by_date:wfe,previous_version:bfe,read_at:Sfe,related_to:xfe,reply_of:Efe,respond_to:Cfe,scope_of:Tfe,shared_by:Rfe,space_of:Afe,subscriber_of:Pfe,topic:Ofe,usergroup_of:Lfe}),Mfe="http://www.w3.org/ns/solid/terms#Account",Dfe="http://www.w3.org/ns/solid/terms#Inbox",kfe="http://www.w3.org/ns/solid/terms#InsertDeletePatch",Nfe="http://www.w3.org/ns/solid/terms#ListedDocument",Ffe="http://www.w3.org/ns/solid/terms#Notification",jfe="http://www.w3.org/ns/solid/terms#Patch",$fe="http://www.w3.org/ns/solid/terms#Timeline",Bfe="http://www.w3.org/ns/solid/terms#TypeIndex",Ufe="http://www.w3.org/ns/solid/terms#TypeRegistration",qfe="http://www.w3.org/ns/solid/terms#UnlistedDocument",zfe="http://www.w3.org/ns/solid/terms#account",Hfe="http://www.w3.org/ns/solid/terms#deletes",Vfe="http://www.w3.org/ns/solid/terms#forClass",Kfe="http://www.w3.org/ns/solid/terms#inbox",Gfe="http://www.w3.org/ns/solid/terms#inserts",Wfe="http://www.w3.org/ns/solid/terms#instance",Qfe="http://www.w3.org/ns/solid/terms#instanceContainer",Zfe="http://www.w3.org/ns/solid/terms#loginEndpoint",Jfe="http://www.w3.org/ns/solid/terms#logoutEndpoint",Xfe="http://www.w3.org/ns/solid/terms#notification",Yfe="http://www.w3.org/ns/solid/terms#oidcIssuer",ede="http://www.w3.org/ns/solid/terms#owner",tde="http://www.w3.org/ns/solid/terms#patches",nde="http://www.w3.org/ns/solid/terms#privateTypeIndex",rde="http://www.w3.org/ns/solid/terms#publicTypeIndex",ide="http://www.w3.org/ns/solid/terms#read",ade="http://www.w3.org/ns/solid/terms#storageQuota",ode="http://www.w3.org/ns/solid/terms#storageUsage",sde="http://www.w3.org/ns/solid/terms#typeIndex",ude="http://www.w3.org/ns/solid/terms#timeline",lde="http://www.w3.org/ns/solid/terms#where",cde=Object.freeze({Account:Mfe,Inbox:Dfe,InsertDeletePatch:kfe,ListedDocument:Nfe,Notification:Ffe,Patch:jfe,Timeline:$fe,TypeIndex:Bfe,TypeRegistration:Ufe,UnlistedDocument:qfe,account:zfe,deletes:Hfe,forClass:Vfe,inbox:Kfe,inserts:Gfe,instance:Wfe,instanceContainer:Qfe,loginEndpoint:Zfe,logoutEndpoint:Jfe,notification:Xfe,oidcIssuer:Yfe,owner:ede,patches:tde,privateTypeIndex:nde,publicTypeIndex:rde,read:ide,storageQuota:ade,storageUsage:ode,typeIndex:sde,timeline:ude,where:lde}),fde="http://www.w3.org/ns/pim/space#ControlledStorage",dde="http://www.w3.org/ns/pim/space#PersonalStorage",hde="http://www.w3.org/ns/pim/space#PublicStorage",pde="http://www.w3.org/ns/pim/space#Storage",gde="http://www.w3.org/ns/pim/space#Workspace",mde="http://www.w3.org/ns/pim/space#masterWorkspace",yde="http://www.w3.org/ns/pim/space#preferencesFile",vde="http://www.w3.org/ns/pim/space#storage",_de="http://www.w3.org/ns/pim/space#uriPrefix",wde="http://www.w3.org/ns/pim/space#workspace",bde=Object.freeze({ControlledStorage:fde,PersonalStorage:dde,PublicStorage:hde,Storage:pde,Workspace:gde,masterWorkspace:mde,preferencesFile:yde,storage:vde,uriPrefix:_de,workspace:wde}),Sde="http://www.w3.org/2006/vcard/ns#Acquaintance",xde="http://www.w3.org/2006/vcard/ns#Agent",Ede="http://www.w3.org/2006/vcard/ns#BBS",Cde="http://www.w3.org/2006/vcard/ns#Car",Tde="http://www.w3.org/2006/vcard/ns#Cell",Rde="http://www.w3.org/2006/vcard/ns#Child",Ade="http://www.w3.org/2006/vcard/ns#Colleague",Pde="http://www.w3.org/2006/vcard/ns#Contact",Ode="http://www.w3.org/2006/vcard/ns#Coresident",Lde="http://www.w3.org/2006/vcard/ns#Coworker",Ide="http://www.w3.org/2006/vcard/ns#Crush",Mde="http://www.w3.org/2006/vcard/ns#Date",Dde="http://www.w3.org/2006/vcard/ns#Dom",kde="http://www.w3.org/2006/vcard/ns#Emergency",Nde="http://www.w3.org/2006/vcard/ns#Fax",Fde="http://www.w3.org/2006/vcard/ns#Female",jde="http://www.w3.org/2006/vcard/ns#Friend",$de="http://www.w3.org/2006/vcard/ns#Home",Bde="http://www.w3.org/2006/vcard/ns#ISDN",Ude="http://www.w3.org/2006/vcard/ns#Internet",qde="http://www.w3.org/2006/vcard/ns#Intl",zde="http://www.w3.org/2006/vcard/ns#Kin",Hde="http://www.w3.org/2006/vcard/ns#Label",Vde="http://www.w3.org/2006/vcard/ns#Male",Kde="http://www.w3.org/2006/vcard/ns#Me",Gde="http://www.w3.org/2006/vcard/ns#Met",Wde="http://www.w3.org/2006/vcard/ns#Modem",Qde="http://www.w3.org/2006/vcard/ns#Msg",Zde="http://www.w3.org/2006/vcard/ns#Muse",Jde="http://www.w3.org/2006/vcard/ns#Neighbor",Xde="http://www.w3.org/2006/vcard/ns#None",Yde="http://www.w3.org/2006/vcard/ns#Other",ehe="http://www.w3.org/2006/vcard/ns#PCS",the="http://www.w3.org/2006/vcard/ns#Pager",nhe="http://www.w3.org/2006/vcard/ns#Parcel",rhe="http://www.w3.org/2006/vcard/ns#Parent",ihe="http://www.w3.org/2006/vcard/ns#Postal",ahe="http://www.w3.org/2006/vcard/ns#Pref",ohe="http://www.w3.org/2006/vcard/ns#Sibling",she="http://www.w3.org/2006/vcard/ns#Spouse",uhe="http://www.w3.org/2006/vcard/ns#Sweetheart",lhe="http://www.w3.org/2006/vcard/ns#Tel",che="http://www.w3.org/2006/vcard/ns#Text",fhe="http://www.w3.org/2006/vcard/ns#TextPhone",dhe="http://www.w3.org/2006/vcard/ns#Unknown",hhe="http://www.w3.org/2006/vcard/ns#Video",phe="http://www.w3.org/2006/vcard/ns#Voice",ghe="http://www.w3.org/2006/vcard/ns#Work",mhe="http://www.w3.org/2006/vcard/ns#X400",yhe="http://www.w3.org/2006/vcard/ns#adr",vhe="http://www.w3.org/2006/vcard/ns#agent",_he="http://www.w3.org/2006/vcard/ns#anniversary",whe="http://www.w3.org/2006/vcard/ns#bday",bhe="http://www.w3.org/2006/vcard/ns#category",She="http://www.w3.org/2006/vcard/ns#class",xhe="http://www.w3.org/2006/vcard/ns#email",Ehe="http://www.w3.org/2006/vcard/ns#geo",Che="http://www.w3.org/2006/vcard/ns#hasAdditionalName",The="http://www.w3.org/2006/vcard/ns#hasCalendarBusy",Rhe="http://www.w3.org/2006/vcard/ns#hasCalendarLink",Ahe="http://www.w3.org/2006/vcard/ns#hasCalendarRequest",Phe="http://www.w3.org/2006/vcard/ns#hasCategory",Ohe="http://www.w3.org/2006/vcard/ns#hasCountryName",Lhe="http://www.w3.org/2006/vcard/ns#hasFN",Ihe="http://www.w3.org/2006/vcard/ns#hasFamilyName",Mhe="http://www.w3.org/2006/vcard/ns#hasGender",Dhe="http://www.w3.org/2006/vcard/ns#hasGivenName",khe="http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",Nhe="http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",Fhe="http://www.w3.org/2006/vcard/ns#hasInstantMessage",jhe="http://www.w3.org/2006/vcard/ns#hasLanguage",$he="http://www.w3.org/2006/vcard/ns#hasLocality",Bhe="http://www.w3.org/2006/vcard/ns#hasNickname",Uhe="http://www.w3.org/2006/vcard/ns#hasNote",qhe="http://www.w3.org/2006/vcard/ns#hasOrganizationName",zhe="http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",Hhe="http://www.w3.org/2006/vcard/ns#hasPostalCode",Vhe="http://www.w3.org/2006/vcard/ns#hasRegion",Khe="http://www.w3.org/2006/vcard/ns#hasRelated",Ghe="http://www.w3.org/2006/vcard/ns#hasRole",Whe="http://www.w3.org/2006/vcard/ns#hasSource",Qhe="http://www.w3.org/2006/vcard/ns#hasStreetAddress",Zhe="http://www.w3.org/2006/vcard/ns#hasTitle",Jhe="http://www.w3.org/2006/vcard/ns#hasUID",Xhe="http://www.w3.org/2006/vcard/ns#hasValue",Yhe="http://www.w3.org/2006/vcard/ns#label",epe="http://www.w3.org/2006/vcard/ns#language",tpe="http://www.w3.org/2006/vcard/ns#latitude",npe="http://www.w3.org/2006/vcard/ns#longitude",rpe="http://www.w3.org/2006/vcard/ns#mailer",ipe="http://www.w3.org/2006/vcard/ns#note",ape="http://www.w3.org/2006/vcard/ns#org",ope="http://www.w3.org/2006/vcard/ns#prodid",spe="http://www.w3.org/2006/vcard/ns#rev",upe="http://www.w3.org/2006/vcard/ns#role",lpe="http://www.w3.org/2006/vcard/ns#title",cpe="http://www.w3.org/2006/vcard/ns#tz",fpe="http://www.w3.org/2006/vcard/ns#value",dpe="http://www.w3.org/2006/vcard/ns#Address",hpe="http://www.w3.org/2006/vcard/ns#Email",ppe="http://www.w3.org/2006/vcard/ns#Group",gpe="http://www.w3.org/2006/vcard/ns#Individual",mpe="http://www.w3.org/2006/vcard/ns#Name",ype="http://www.w3.org/2006/vcard/ns#VCard",vpe="http://www.w3.org/2006/vcard/ns#fn",_pe="http://www.w3.org/2006/vcard/ns#hasAddress",wpe="http://www.w3.org/2006/vcard/ns#hasEmail",bpe="http://www.w3.org/2006/vcard/ns#hasGeo",Spe="http://www.w3.org/2006/vcard/ns#hasKey",xpe="http://www.w3.org/2006/vcard/ns#hasLogo",Epe="http://www.w3.org/2006/vcard/ns#hasName",Cpe="http://www.w3.org/2006/vcard/ns#hasPhoto",Tpe="http://www.w3.org/2006/vcard/ns#hasSound",Rpe="http://www.w3.org/2006/vcard/ns#hasTelephone",Ape="http://www.w3.org/2006/vcard/ns#hasURL",Ppe="http://www.w3.org/2006/vcard/ns#key",Ope="http://www.w3.org/2006/vcard/ns#logo",Lpe="http://www.w3.org/2006/vcard/ns#n",Ipe="http://www.w3.org/2006/vcard/ns#nickname",Mpe="http://www.w3.org/2006/vcard/ns#photo",Dpe="http://www.w3.org/2006/vcard/ns#sound",kpe="http://www.w3.org/2006/vcard/ns#tel",Npe="http://www.w3.org/2006/vcard/ns#url",Fpe="http://www.w3.org/2006/vcard/ns#Location",jpe="http://www.w3.org/2006/vcard/ns#hasMember",$pe="http://www.w3.org/2006/vcard/ns#locality",Bpe="http://www.w3.org/2006/vcard/ns#region",Upe="http://www.w3.org/2006/vcard/ns#Organization",qpe="http://www.w3.org/2006/vcard/ns#Gender",zpe="http://www.w3.org/2006/vcard/ns#Kind",Hpe="http://www.w3.org/2006/vcard/ns#Type",Vpe="http://www.w3.org/2006/vcard/ns#TelephoneType",Kpe="http://www.w3.org/2006/vcard/ns#RelatedType",Gpe=Object.freeze({Acquaintance:Sde,Agent:xde,BBS:Ede,Car:Cde,Cell:Tde,Child:Rde,Colleague:Ade,Contact:Pde,Coresident:Ode,Coworker:Lde,Crush:Ide,Date__workaround:Mde,Dom:Dde,Emergency:kde,Fax:Nde,Female:Fde,Friend:jde,Home:$de,ISDN:Bde,Internet:Ude,Intl__workaround:qde,Kin:zde,Label:Hde,Male:Vde,Me:Kde,Met:Gde,Modem:Wde,Msg:Qde,Muse:Zde,Neighbor:Jde,None:Xde,Other:Yde,PCS:ehe,Pager:the,Parcel:nhe,Parent:rhe,Postal:ihe,Pref:ahe,Sibling:ohe,Spouse:she,Sweetheart:uhe,Tel:lhe,Text:che,TextPhone:fhe,Unknown:dhe,Video:hhe,Voice:phe,Work:ghe,X400:mhe,adr:yhe,agent:vhe,anniversary:_he,bday:whe,category:bhe,class__workaround:She,email:xhe,geo:Ehe,hasAdditionalName:Che,hasCalendarBusy:The,hasCalendarLink:Rhe,hasCalendarRequest:Ahe,hasCategory:Phe,hasCountryName:Ohe,hasFN:Lhe,hasFamilyName:Ihe,hasGender:Mhe,hasGivenName:Dhe,hasHonorificPrefix:khe,hasHonorificSuffix:Nhe,hasInstantMessage:Fhe,hasLanguage:jhe,hasLocality:$he,hasNickname:Bhe,hasNote:Uhe,hasOrganizationName:qhe,hasOrganizationUnit:zhe,hasPostalCode:Hhe,hasRegion:Vhe,hasRelated:Khe,hasRole:Ghe,hasSource:Whe,hasStreetAddress:Qhe,hasTitle:Zhe,hasUID:Jhe,hasValue:Xhe,label:Yhe,language:epe,latitude:tpe,longitude:npe,mailer:rpe,note:ipe,org:ape,prodid:ope,rev:spe,role:upe,title:lpe,tz:cpe,value:fpe,Address:dpe,Email:hpe,Group:ppe,Individual:gpe,Name:mpe,VCard:ype,fn:vpe,hasAddress:_pe,hasEmail:wpe,hasGeo:bpe,hasKey:Spe,hasLogo:xpe,hasName:Epe,hasPhoto:Cpe,hasSound:Tpe,hasTelephone:Rpe,hasURL:Ape,key:Ppe,logo:Ope,n:Lpe,nickname:Ipe,photo:Mpe,sound:Dpe,tel:kpe,url:Npe,Location:Fpe,hasMember:jpe,locality:$pe,region:Bpe,Organization:Upe,Gender:qpe,Kind:zpe,Type:Hpe,TelephoneType:Vpe,RelatedType:Kpe}),Wpe="http://www.w3.org/2005/01/wf/flow#ActionItem",Qpe="http://www.w3.org/2005/01/wf/flow#Change",Zpe="http://www.w3.org/2005/01/wf/flow#Closed",Jpe="http://www.w3.org/2005/01/wf/flow#Creation",Xpe="http://www.w3.org/2005/01/wf/flow#Message",Ype="http://www.w3.org/2005/01/wf/flow#NonTerminalState",ege="http://www.w3.org/2005/01/wf/flow#Open",tge="http://www.w3.org/2005/01/wf/flow#Product",nge="http://www.w3.org/2005/01/wf/flow#Task",rge="http://www.w3.org/2005/01/wf/flow#TerminalState",ige="http://www.w3.org/2005/01/wf/flow#Tracker",age="http://www.w3.org/2005/01/wf/flow#Transition",oge="http://www.w3.org/2005/01/wf/flow#affects",sge="http://www.w3.org/2005/01/wf/flow#allowedTransitions",uge="http://www.w3.org/2005/01/wf/flow#asigneeClass",lge="http://www.w3.org/2005/01/wf/flow#assignee",cge="http://www.w3.org/2005/01/wf/flow#attachment",fge="http://www.w3.org/2005/01/wf/flow#creates",dge="http://www.w3.org/2005/01/wf/flow#dateDue",hge="http://www.w3.org/2005/01/wf/flow#deliverable",pge="http://www.w3.org/2005/01/wf/flow#dependent",gge="http://www.w3.org/2005/01/wf/flow#description",mge="http://www.w3.org/2005/01/wf/flow#final",yge="http://www.w3.org/2005/01/wf/flow#goalDescription",vge="http://www.w3.org/2005/01/wf/flow#initialState",_ge="http://www.w3.org/2005/01/wf/flow#issue",wge="http://www.w3.org/2005/01/wf/flow#issueCategory",bge="http://www.w3.org/2005/01/wf/flow#issueClass",Sge="http://www.w3.org/2005/01/wf/flow#message",xge="http://www.w3.org/2005/01/wf/flow#modifiedBy",Ege="http://www.w3.org/2005/01/wf/flow#recipent",Cge="http://www.w3.org/2005/01/wf/flow#requires",Tge="http://www.w3.org/2005/01/wf/flow#screenShot",Rge="http://www.w3.org/2005/01/wf/flow#sender",Age="http://www.w3.org/2005/01/wf/flow#source",Pge="http://www.w3.org/2005/01/wf/flow#stateStore",Oge="http://www.w3.org/2005/01/wf/flow#subscriber",Lge="http://www.w3.org/2005/01/wf/flow#successCriteria",Ige="http://www.w3.org/2005/01/wf/flow#task",Mge="http://www.w3.org/2005/01/wf/flow#terminalOutput",Dge="http://www.w3.org/2005/01/wf/flow#testData",kge="http://www.w3.org/2005/01/wf/flow#tracker",Nge="http://www.w3.org/2005/01/wf/flow#transactionStore",Fge=Object.freeze({ActionItem:Wpe,Change:Qpe,Closed:Zpe,Creation:Jpe,Message:Xpe,NonTerminalState:Ype,Open:ege,Product:tge,Task:nge,TerminalState:rge,Tracker:ige,Transition:age,affects:oge,allowedTransitions:sge,asigneeClass:uge,assignee:lge,attachment:cge,creates:fge,dateDue:dge,deliverable:hge,dependent:pge,description:gge,final:mge,goalDescription:yge,initialState:vge,issue:_ge,issueCategory:wge,issueClass:bge,message:Sge,modifiedBy:xge,recipent:Ege,requires:Cge,screenShot:Tge,sender:Rge,source:Age,stateStore:Pge,subscriber:Oge,successCriteria:Lge,task:Ige,terminalOutput:Mge,testData:Dge,tracker:kge,transactionStore:Nge}),Tn=jre,FA=Wae,q9=Rse,Ql=Fue,Su=ole,jge=_le,Kh=Ule,dO=rce,Ch=Ife,xn=cde,Ff=bde,z9=Gpe,$ge=Fge,Wa=function(e){return e.Read="Read",e.Write="Write",e.Append="Append",e.Control="Control",e}({}),Gr=function(e){return e.simpleMailerIntegration="simpleMailerIntegration",e.mailerIntegration="mailerIntegration",e.rdfDocument="rdfDocument",e.file="file",e.geoindex="geoindex",e.wikidataSearch="wikidataSearch",e.wikidataEntity="wikidataEntity",e}({});const Bge=async(e,t)=>{const n=await globalThis.fetch(e,{method:"GET"});return await rr(n.url,t)},Uge=async e=>new Promise((t,n)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>{t(r.result)},r.onerror=i=>n(i)}),fi=e=>{const t=new URL(e);if(t.hash="",t.search="",t.pathname.length===0||t.pathname==="/")return t.toString();const n=t.pathname.split("/").slice(0,-1);return n.push(""),t.pathname=n.join("/"),t.toString()},H9=e=>{const t=fi(e);return t===e?V9(t):t},qge=e=>zge(e,H9),V9=e=>{const t=new URL(e);if(t.pathname.length===0||t.pathname==="/")return e;const n=t.pathname.split("/").slice(0,-2);return n.push(""),t.pathname=n.join("/"),t.toString()},Lu=async(e,t)=>{try{return await rr(e,t)}catch{return await Bge(e,t)}},ic=e=>{const t=new URL(e);return t.hash="",t.toString()},VN=e=>{const t=new URL(e);return t.protocol="https",t.toString()},zge=(e,t)=>{const n=new Set;let r=e;for(;!n.has(r);)n.add(r),r=t(r);return n.delete(e),Array.from(n)},jf=async e=>{var a;const n=(await rr(e,{method:"HEAD"})).headers.get("link");if(!n)throw new Error(`Response of ${e} does not have any Link headers`);const i=(a=C9.parse(n).rel("acl")[0])==null?void 0:a.uri;if(!i)throw new Error(`We could not find WAC link for ${e}`);return new URL(i,e).toString()},K9=(e,t)=>{const r=new zh({baseIRI:e}).parse(t),i=new Ls(r),a=i.getSubjects(Kh.type,Tn.Authorization,null),o={[Tn.Read]:Wa.Read,[Tn.Write]:Wa.Write,[Tn.Append]:Wa.Append,[Tn.Control]:Wa.Control};return a.map(s=>{const l=i.getObjects(s,Tn.mode,null).map(y=>o[y.value]).filter(y=>typeof y<"u"),c=i.getObjects(s,Tn.agent,null).map(y=>y.value),d=i.getObjects(s,Tn.agentClass,null).map(y=>y.value),h=i.getObjects(s,Tn.agentGroup,null).map(y=>y.value),m=i.getObjects(s,Tn.default__workaround,null).map(y=>y.value);return{url:s.value,modes:l,agents:c,agentClasses:d,agentGroups:h,defaults:m}})},Hge=(e,...t)=>{const n={};for(const r of t)for(const i of r)n[i[e]]=i;return Object.values(n)},Vge=e=>{const t={};return e&&e.split(",").forEach(r=>{r=r.trim();const i=r.match(/(\w+)\s*=\s*"([^"]*)"/);if(i){const a=i[1],o=i[2].split(/\s+/);t[a]=new Set(o)}}),t};function Hl(e,t){t=fi(t);try{const n=new URL(e).href,r=new URL(t).href;return n.startsWith(r)?n.substring(r.length)||"./":e}catch{return e}}const G9=e=>(t,n)=>{const r=e.indexOf(t),i=e.indexOf(n);return r!==-1&&i!==-1?r-i:r!==-1?-1:i!==-1?1:0},hO=(e="")=>{const t=e&&ic(e),n=V.useMemo(()=>[Gr.file,t],[t]);return my({queryKey:n,queryFn:()=>Kge(t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},Kge=async e=>{const t=await rr(e);if(t.ok)return URL.createObjectURL(await t.blob());if(t.status===404)return"";throw new Error(`Fetching ${e} not successful`)},Gge=async(e,t)=>{const r=(await rr(e,{method:"POST",body:t})).headers.get("location");if(!r)throw new Error("Location not available (this should not happen)");return r},Wge=async e=>{await rr(e,{method:"DELETE"})},Qge=()=>{const e=$i();return ao({mutationFn:async({uri:n,data:r})=>await Gge(n,r),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Gr.file,ic(r.uri)]})}})},Zge=()=>{const e=$i();return ao({mutationFn:async({uri:n})=>await Wge(n),onSuccess:(n,r)=>{e.invalidateQueries({queryKey:[Gr.file,ic(r.uri)]})}})};function W9(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=W9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rr(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=W9(e))&&(r&&(r+=" "),r+=t);return r}var Q9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},KN=Pt.createContext&&Pt.createContext(Q9),Jge=["attr","size","title"];function Xge(e,t){if(e==null)return{};var n=Yge(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yge(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gw.apply(this,arguments)}function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){eme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eme(e,t,n){return t=tme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tme(e){var t=nme(e,"string");return typeof t=="symbol"?t:t+""}function nme(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z9(e){return e&&e.map((t,n)=>Pt.createElement(t.tag,mw({key:n},t.attr),Z9(t.child)))}function Bi(e){return t=>Pt.createElement(rme,gw({attr:mw({},e.attr)},t),Z9(e.child))}function rme(e){var t=n=>{var{attr:r,size:i,title:a}=e,o=Xge(e,Jge),s=i||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),Pt.createElement("svg",gw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:mw(mw({color:e.color||n.color},n.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),a&&Pt.createElement("title",null,a),e.children)};return KN!==void 0?Pt.createElement(KN.Consumer,null,n=>t(n)):t(Q9)}function ime(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(e)}function Sy(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function ame(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 39.056v16.659c0 10.804 7.281 20.159 17.686 23.066C383.204 100.434 440 171.518 440 256c0 101.689-82.295 184-184 184-101.689 0-184-82.295-184-184 0-84.47 56.786-155.564 134.312-177.219C216.719 75.874 224 66.517 224 55.712V39.064c0-15.709-14.834-27.153-30.046-23.234C86.603 43.482 7.394 141.206 8.003 257.332c.72 137.052 111.477 246.956 248.531 246.667C393.255 503.711 504 392.788 504 256c0-115.633-79.14-212.779-186.211-240.236C302.678 11.889 288 23.456 288 39.056z"},child:[]}]})(e)}function ome(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function J9(e){return Bi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 448h-80V113.45C544 86.19 522.47 64 496 64H384v64h96v384h144c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM312.24 1.01l-192 49.74C105.99 54.44 96 67.7 96 82.92V448H16c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16h336V33.18c0-21.58-19.56-37.41-39.76-32.17zM264 288c-13.25 0-24-14.33-24-32s10.75-32 24-32 24 14.33 24 32-10.75 32-24 32z"},child:[]}]})(e)}function WN(e){return Bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function X9(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(e)}function sme(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(e)}function ume(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"},child:[]}]})(e)}function lme(e){return Bi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M0 117.66v346.32c0 11.32 11.43 19.06 21.94 14.86L160 416V32L20.12 87.95A32.006 32.006 0 0 0 0 117.66zM192 416l192 64V96L192 32v384zM554.06 33.16L416 96v384l139.88-55.95A31.996 31.996 0 0 0 576 394.34V48.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(e)}function cme(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"},child:[]}]})(e)}function Y9(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"},child:[]}]})(e)}function fme(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"},child:[]}]})(e)}function yw(e){return Bi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function dme(e){return Bi({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"},child:[]}]})(e)}function hme(e){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},child:[]}]})(e)}const pme="_photo_cmh6k_1",gme="_square_cmh6k_6",qx={photo:pme,square:gme},ab=({photo:e,size:t=1,square:n,className:r})=>{const{data:i}=hO(e);return i?B.jsx("img",{className:Rr(qx.photo,n&&qx.square,r),src:i,alt:"",style:{width:`${t*2}rem`,height:`${t*2}rem`}}):B.jsx(dme,{className:Rr(qx.photo,r),size:t*32})},mme="_button_14nfq_1",yme="_primary_14nfq_15",vme="_secondary_14nfq_24",_me="_tertiary_14nfq_32",wme="_danger_14nfq_37",pa={button:mme,primary:yme,secondary:vme,tertiary:_me,danger:wme},tr=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>B.jsx("button",{className:Rr(i,pa.button,e&&pa.primary,r&&pa.danger,t&&pa.secondary,n&&pa.tertiary),...a}),_f=({primary:e,secondary:t,tertiary:n,danger:r,className:i,...a})=>B.jsx(Ko,{className:Rr(i,pa.button,e&&pa.primary,r&&pa.danger,t&&pa.secondary,n&&pa.tertiary),...a}),ez=({icon:e=X9,...t})=>B.jsx("a",{target:"_blank",rel:"noopener noreferrer",...t,children:B.jsx(e,{})}),bme=({primary:e,secondary:t,tertiary:n,danger:r,className:i,children:a,...o})=>B.jsx("a",{className:Rr(i,pa.button,e&&pa.primary,r&&pa.danger,t&&pa.secondary,n&&pa.tertiary),...o,children:a}),Sme={...EX,communityId:pq,communityContainer:gq,emailNotificationsType:mq,oidcIssuers:bq,geoindexService:yq,tileServer:wq,darkModeLogoStyle:vq,defaultCommunityName:_q},kn=()=>{const e=jr(Uq);return V.useMemo(()=>({...Sme,...e}),[e])},xme=()=>{const e=nc(),t=kn();V.useEffect(()=>{window.updateAppConfig=n=>{e(RA.setConfig(n))},window.resetAppConfig=()=>{e(RA.resetConfig())}},[e]),V.useEffect(()=>{window.appConfig=t},[t])},Eme="_logoContainer_16cvy_1",Cme="_logo_16cvy_1",Tme="_focusedLogo_16cvy_10",Rme="_unfocusedLogo_16cvy_13",Ame="_darkInvert_16cvy_20",kc={logoContainer:Eme,logo:Cme,focusedLogo:Tme,unfocusedLogo:Rme,darkInvert:Ame},tz=({logo:e,focusedLogo:t,name:n,className:r})=>{const{darkModeLogoStyle:i}=kn(),{i18n:a,_:o}=Qr();return!e&&!n?null:B.jsxs("div",{className:kc.logoContainer,children:[e&&B.jsx("img",{src:e,className:Rr(kc.logo,i==="invert"&&kc.darkInvert,t?kc.unfocusedLogo:null,r),alt:n?a._({id:"2ZJVX8",values:{name:n}}):""}),t&&B.jsx("img",{src:t,className:Rr(kc.logo,i&&kc.darkInvert,kc.focusedLogo,r),alt:n?a._({id:"LShGrM",values:{name:n}}):""}),n?B.jsx("span",{children:n}):null]})},Pme={switch:"_switch_1g69w_1"},Ome=()=>{const e=jr(zP),t=nc(),{i18n:n,_:r}=Qr(),i=()=>{t(qP.toggleTheme())};return B.jsx("button",{className:Pme.switch,onClick:i,"aria-label":e==="dark"?n._({id:"e0IFR+"}):n._({id:"yNR1Vx"}),children:e==="dark"?B.jsx(fme,{}):B.jsx(cme,{})})},Lme={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Name of the community. One name per language."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A teaser, tagline, pun for the community"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/logo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:2,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Logo of the community. If two are specified, the second one may be used for highlight of the first one"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/homepage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Ime={type:{"@id":"@type"},Community:{"@id":"http://w3id.org/hospex/ns#Community","@context":{type:{"@id":"@type"},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0}}},Community2:{"@id":"http://rdfs.org/sioc/ns#Community","@context":{type:{"@id":"@type"},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0}}},name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},note:{"@id":"http://rdfs.org/sioc/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},logo:{"@id":"http://xmlns.com/foaf/0.1/logo","@type":"@id","@isCollection":!0},homepage:{"@id":"http://xmlns.com/foaf/0.1/homepage","@type":"@id"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@isCollection":!0},Group:{"@id":"http://www.w3.org/2006/vcard/ns#Group","@context":{type:{"@id":"@type"},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}}},Usergroup:{"@id":"http://rdfs.org/sioc/ns#Usergroup","@context":{type:{"@id":"@type"},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}}},usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@isCollection":!0}},Mme={schema:Lme,shape:"https://example.com/HospexCommunity",context:Ime};var Dme=Nu();const cg="http://www.w3.org/1999/02/22-rdf-syntax-ns#",fg="http://www.w3.org/2001/XMLSchema#",zx="http://www.w3.org/2000/10/swap/",Wi={xsd:{decimal:`${fg}decimal`,boolean:`${fg}boolean`,double:`${fg}double`,integer:`${fg}integer`,string:`${fg}string`},rdf:{type:`${cg}type`,nil:`${cg}nil`,first:`${cg}first`,rest:`${cg}rest`,langString:`${cg}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${zx}reify#forSome`,forAll:`${zx}reify#forAll`},log:{implies:`${zx}log#implies`}},{xsd:u_}=Wi,kme=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,QN={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},Nme=/[\x00-\x20<>\\"\{\}\|\^\`]/,Fme={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},jme=/$0^/;class $me{constructor(t){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode){this._n3Mode=!1;for(const n in this)!(n in Fme)&&this[n]instanceof RegExp&&(this[n]=jme)}else this._n3Mode=t.n3!==!1;this.comments=!!t.comments,this._literalClosingPos=0}_tokenizeToEnd(t,n){let r=this._input,i=r.length;for(;;){let s,l;for(;s=this._newline.exec(r);)this.comments&&(l=this._comment.exec(s[0]))&&a("comment",l[1],"",this._line,s[0].length),r=r.substr(s[0].length,r.length),i=r.length,this._line++;if(!s&&(s=this._whitespace.exec(r))&&(r=r.substr(s[0].length,r.length)),this._endOfFile.test(r))return n&&(this.comments&&(l=this._comment.exec(r))&&a("comment",l[1],"",this._line,r.length),r=null,a("eof","","",this._line,0)),this._input=r;const c=this._line,d=r[0];let h="",m="",y="",v=null,_=0,S=!1;switch(d){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){S=!0;break}}else{this._n3Mode&&(_=1,h="^");break}case"<":if(v=this._unescapedIri.exec(r))h="IRI",m=v[1];else if(v=this._iri.exec(r)){if(m=this._unescape(v[1]),m===null||Nme.test(m))return o(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",_=2):this._n3Mode&&r.length>1&&r[1]==="="&&(h="inverse",_=2,m=">");break;case">":r.length>1&&r[1]===">"&&(h=">>",_=2);break;case"_":((v=this._blank.exec(r))||n&&(v=this._blank.exec(`${r} `)))&&(h="blank",y="_",m=v[1]);break;case'"':if(v=this._simpleQuotedString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(v=this._simpleApostropheString.exec(r))m=v[1];else if({value:m,matchLength:_}=this._parseLiteral(r),m===null)return o(this);(v!==null||_!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(v=this._variable.exec(r))&&(h="var",m=v[0]);break;case"@":this._previousMarker==="literal"&&(v=this._langcode.exec(r))?(h="langcode",m=v[1]):(v=this._keyword.exec(r))&&(h=v[0]);break;case".":if(r.length===1?n:r[1]<"0"||r[1]>"9"){h=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(v=this._number.exec(r)||n&&(v=this._number.exec(`${r} `)))&&(h="literal",m=v[0],y=typeof v[1]=="string"?u_.double:typeof v[2]=="string"?u_.decimal:u_.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(v=this._sparqlKeyword.exec(r))?h=v[0].toUpperCase():S=!0;break;case"f":case"t":(v=this._boolean.exec(r))?(h="literal",m=v[0],y=u_.boolean):S=!0;break;case"a":(v=this._shortPredicates.exec(r))?(h="abbreviation",m="a"):S=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(_=1,m="="):(_=2,m=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(_=1,h=d);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",_=2):(h=d,_=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",_=2);break;default:S=!0}if(S&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(v=this._prefix.exec(r))?(h="prefix",m=v[1]||""):((v=this._prefixed.exec(r))||n&&(v=this._prefixed.exec(`${r} `)))&&(h="prefixed",y=v[1]||"",m=this._unescape(v[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return n||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const b=_||v[0].length,x=a(h,m,y,c,b);this.previousToken=x,this._previousMarker=h,r=r.substr(b,r.length)}function a(s,l,c,d,h){const m=r?i-r.length:i,y=m+h,v={type:s,value:l,prefix:c,line:d,start:m,end:y};return t(null,v),v}function o(s){t(s._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(t){let n=!1;const r=t.replace(kme,(i,a,o,s)=>{if(typeof a=="string")return String.fromCharCode(Number.parseInt(a,16));if(typeof o=="string"){let l=Number.parseInt(o,16);return l<=65535?String.fromCharCode(Number.parseInt(o,16)):String.fromCharCode(55296+((l-=65536)>>10),56320+(l&1023))}return s in QN?QN[s]:(n=!0,"")});return n?null:r}_parseLiteral(t){if(t.length>=3){const n=t.match(/^(?:"""|"|'''|'|)/)[0],r=n.length;let i=Math.max(this._literalClosingPos,r);for(;(i=t.indexOf(n,i))>0;){let a=0;for(;t[i-a-1]==="\\";)a++;if(a%2===0){const o=t.substring(r,i),s=o.split(/\r\n|\r|\n/).length-1,l=i+r;if(r===1&&s!==0||r===3&&this._lineMode)break;return this._line+=s,{value:this._unescape(o),matchLength:l}}i++}this._literalClosingPos=t.length-r+1}return{value:"",matchLength:0}}_syntaxError(t){this._input=null;const n=new Error(`Unexpected "${t}" on line ${this._line}.`);return n.context={token:void 0,line:this._line,previousToken:this.previousToken},n}_readStartingBom(t){return t.startsWith("\uFEFF")?t.substr(1):t}tokenize(t,n){if(this._line=1,typeof t=="string")if(this._input=this._readStartingBom(t),typeof n=="function")T9(()=>this._tokenizeToEnd(n,!0));else{const r=[];let i;if(this._tokenizeToEnd((a,o)=>a?i=a:r.push(o),!0),i)throw i;return r}else this._pendingBuffer=null,typeof t.setEncoding=="function"&&t.setEncoding("utf8"),t.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=Dme.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(n,!1)))}),t.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(n,!0)}),t.on("error",n)}}const{rdf:Bme,xsd:rf}=Wi;let Gh,Ume=0;const Zl={namedNode:rz,blankNode:iz,variable:oz,literal:az,defaultGraph:Vme,quad:jA,triple:jA,fromTerm:bm,fromQuad:sz};class ts{constructor(t){this.id=t}get value(){return this.id}equals(t){return t instanceof ts?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}let bs=class extends ts{get termType(){return"NamedNode"}},N0=class nz extends ts{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const t=this.id;let n=t.lastIndexOf('"')+1;return n<t.length&&t[n++]==="@"?t.substr(n).toLowerCase():""}get datatype(){return new bs(this.datatypeString)}get datatypeString(){const t=this.id,n=t.lastIndexOf('"')+1,r=n<t.length?t[n]:"";return r==="^"?t.substr(n+2):r!=="@"?rf.string:Bme.langString}equals(t){return t instanceof nz?this.id===t.id:!!t&&!!t.datatype&&this.termType===t.termType&&this.value===t.value&&this.language===t.language&&this.datatype.value===t.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}},qme=class extends ts{constructor(t){super(`_:${t}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}},zme=class extends ts{constructor(t){super(`?${t}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}},Hme=class extends ts{constructor(){return super(""),Gh||this}get termType(){return"DefaultGraph"}equals(t){return this===t||!!t&&this.termType===t.termType}};Gh=new Hme;function wm(e,t,n){if(t=t||Zl,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===Zl)return new N0(e);if(e[e.length-1]==='"')return t.literal(e.substr(1,e.length-2));const r=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,r-1),e[r+1]==="@"?e.substr(r+2):t.namedNode(e.substr(r+3)));case"[":e=JSON.parse(e);break;default:if(!n||!Array.isArray(e))return t.namedNode(e)}return t.quad(wm(e[0],t,!0),wm(e[1],t,!0),wm(e[2],t,!0),e[3]&&wm(e[3],t,!0))}function Kd(e,t){if(typeof e=="string")return e;if(e instanceof ts&&e.termType!=="Quad")return e.id;if(!e)return Gh.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return`_:${e.value}`;case"Variable":return`?${e.value}`;case"DefaultGraph":return"";case"Literal":return`"${e.value}"${e.language?`@${e.language}`:e.datatype&&e.datatype.value!==rf.string?`^^${e.datatype.value}`:""}`;case"Quad":const n=[Kd(e.subject,!0),Kd(e.predicate,!0),Kd(e.object,!0)];return e.graph&&e.graph.termType!=="DefaultGraph"&&n.push(Kd(e.graph,!0)),t?n:JSON.stringify(n);default:throw new Error(`Unexpected termType: ${e.termType}`)}}let gs=class extends ts{constructor(t,n,r,i){super(""),this._subject=t,this._predicate=n,this._object=r,this._graph=i||Gh}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(t){return!!t&&this._subject.equals(t.subject)&&this._predicate.equals(t.predicate)&&this._object.equals(t.object)&&this._graph.equals(t.graph)}};function rz(e){return new bs(e)}function iz(e){return new qme(e||`n3-${Ume++}`)}function az(e,t){if(typeof t=="string")return new N0(`"${e}"@${t.toLowerCase()}`);let n=t?t.value:"";return n===""&&(typeof e=="boolean"?n=rf.boolean:typeof e=="number"&&(Number.isFinite(e)?n=Number.isInteger(e)?rf.integer:rf.double:(n=rf.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),n===""||n===rf.string?new N0(`"${e}"`):new N0(`"${e}"^^${n}`)}function oz(e){return new zme(e)}function Vme(){return Gh}function jA(e,t,n,r){return new gs(e,t,n,r)}function bm(e){if(e instanceof ts)return e;switch(e.termType){case"NamedNode":return rz(e.value);case"BlankNode":return iz(e.value);case"Variable":return oz(e.value);case"DefaultGraph":return Gh;case"Literal":return az(e.value,e.language||e.datatype);case"Quad":return sz(e);default:throw new Error(`Unexpected termType: ${e.termType}`)}}function sz(e){if(e instanceof gs)return e;if(e.termType!=="Quad")throw new Error(`Unexpected termType: ${e.termType}`);return jA(bm(e.subject),bm(e.predicate),bm(e.object),bm(e.graph))}let ZN=0;class uz{constructor(t){this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&lz(this,t.factory);const n=typeof t.format=="string"?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(n),i=/trig/.test(n),a=/triple/.test(n),o=/quad/.test(n),s=this._n3Mode=/n3/.test(n),l=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._supportsRDFStar=n===""||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=c=>null),this._blankNodePrefix=typeof t.blankNodePrefix!="string"?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new $me({lineMode:l,n3:s}),this._explicitQuantifiers=!!t.explicitQuantifiers}static _resetBlankNodePrefix(){ZN=0}_setBase(t){if(!t)this._base="",this._basePath="";else{const n=t.indexOf("#");n>=0&&(t=t.substr(0,n)),this._base=t,this._basePath=t.indexOf("/")<0?t:t.replace(/[^\/?]*(?:\?.*)?$/,""),t=t.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=t[0],this._baseScheme=t[1]}}_saveContext(t,n,r,i,a){const o=this._n3Mode;this._contextStack.push({type:t,subject:r,predicate:i,object:a,graph:n,inverse:o?this._inversePredicate:!1,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(t,n){const r=this._contextStack.pop();if(!r||r.type!==t)return this._error(`Unexpected ${n.type}`,n);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(t){switch(t.type){case"eof":return this._graph!==null?this._error("Unclosed graph",t):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(t)}}_readEntity(t,n){let r;switch(t.type){case"IRI":case"typeIRI":const i=this._resolveIRI(t.value);if(i===null)return this._error("Invalid IRI",t);r=this._namedNode(i);break;case"type":case"prefixed":const a=this._prefixes[t.prefix];if(a===void 0)return this._error(`Undefined prefix "${t.prefix}:"`,t);r=this._namedNode(a+t.value);break;case"blank":r=this._blankNode(this._prefixes[t.prefix]+t.value);break;case"var":r=this._variable(t.value.substr(1));break;default:return this._error(`Expected entity but got ${t.type}`,t)}return!n&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(t){switch(this._predicate=null,t.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",t);case"}":return this._readPunctuation(t);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',t);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',t);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",t);if(t.prefix.length===0)return this._literalValue=t.value,this._completeSubjectLiteral;this._subject=this._literal(t.value,this._namedNode(t.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._subject=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(t){const n=t.type;switch(n){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[t.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${n}`,t):(this._subject=null,n==="]"?this._readBlankNodeTail(t):this._readPunctuation(t));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",t);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",t);default:if((this._predicate=this._readEntity(t))===void 0)return}return this._readObject}_readObject(t){switch(t.type){case"literal":if(t.prefix.length===0)return this._literalValue=t.value,this._readDataTypeOrLang;this._object=this._literal(t.value,this._namedNode(t.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",t);default:if((this._object=this._readEntity(t))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(t){return t.type==="{"?this._readGraph(t):this._readPredicate(t)}_readGraph(t){return t.type!=="{"?this._error(`Expected graph but got ${t.type}`,t):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(t){return t.type==="]"?(this._subject=null,this._readBlankNodeTail(t)):(this._predicate=null,this._readPredicate(t))}_readBlankNodeTail(t){if(t.type!=="]")return this._readBlankNodePunctuation(t);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const n=this._predicate===null;return this._restoreContext("blank",t),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:n?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(t){switch(t.type){case".":case"}":return this._subject=null,this._readPunctuation(t);default:return this._readPredicate(t)}}_readListItem(t){let n=null,r=null,i=this._readListItem;const a=this._subject,o=this._contextStack,s=o[o.length-1];switch(t.type){case"[":this._saveContext("blank",this._graph,r=this._blankNode(),this.RDF_FIRST,this._subject=n=this._blankNode()),i=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",t),o.length!==0&&o[o.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(i=this._readPredicate,this._subject===this.RDF_NIL)return i}else if(i=this._getContextEndReader(),this._object===this.RDF_NIL)return i;r=this.RDF_NIL;break;case"literal":t.prefix.length===0?(this._literalValue=t.value,i=this._readListItemDataTypeOrLang):(n=this._literal(t.value,this._namedNode(t.prefix)),i=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",t);default:if((n=this._readEntity(t))===void 0)return}if(r===null&&(this._subject=r=this._blankNode()),a===null?s.predicate===null?s.subject=r:s.object=r:this._emit(a,this.RDF_REST,r,this._graph),n!==null){if(this._n3Mode&&(t.type==="IRI"||t.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,n),this._subject=n,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,n,this._graph)}return i}_readDataTypeOrLang(t){return this._completeObjectLiteral(t,!1)}_readListItemDataTypeOrLang(t){return this._completeObjectLiteral(t,!0)}_completeLiteral(t){let n=this._literal(this._literalValue);switch(t.type){case"type":case"typeIRI":const r=this._readEntity(t);if(r===void 0)return;n=this._literal(this._literalValue,r),t=null;break;case"langcode":n=this._literal(this._literalValue,t.value),t=null;break}return{token:t,literal:n}}_completeSubjectLiteral(t){return this._subject=this._completeLiteral(t).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(t,n){const r=this._completeLiteral(t);if(r)return this._object=r.literal,n&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(t){return t.type!=="}"?this._readPunctuation(t):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",t),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(t){let n,r=this._graph;const i=this._subject,a=this._inversePredicate;switch(t.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",t);if(this._n3Mode)return this._readFormulaTail(t);this._graph=null;case".":this._subject=null,n=this._contextStack.length?this._readSubject:this._readInTopContext,a&&(this._inversePredicate=!1);break;case";":n=this._readPredicate;break;case",":n=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",t);const o=this._predicate,s=this._object;this._subject=this._quad(i,o,s,this.DEFAULTGRAPH),n=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",t);this._subject=null,n=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(t))!==void 0){n=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}if(i!==null){const o=this._predicate,s=this._object;a?this._emit(s,o,i,r):this._emit(i,o,s,r)}return n}_readBlankNodePunctuation(t){let n;switch(t.type){case";":n=this._readPredicate;break;case",":n=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,t)}return this._emit(this._subject,this._predicate,this._object,this._graph),n}_readQuadPunctuation(t){return t.type!=="."?this._error("Expected dot to follow quad",t):this._readInTopContext}_readPrefix(t){return t.type!=="prefix"?this._error("Expected prefix to follow @prefix",t):(this._prefix=t.value,this._readPrefixIRI)}_readPrefixIRI(t){if(t.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,t);const n=this._readEntity(t);return this._prefixes[this._prefix]=n.value,this._prefixCallback(this._prefix,n),this._readDeclarationPunctuation}_readBaseIRI(t){const n=t.type==="IRI"&&this._resolveIRI(t.value);return n?(this._setBase(n),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",t)}_readNamedGraphLabel(t){switch(t.type){case"IRI":case"blank":case"prefixed":return this._readSubject(t),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",t)}}_readNamedGraphBlankLabel(t){return t.type!=="]"?this._error("Invalid graph label",t):(this._subject=this._blankNode(),this._readGraph)}_readDeclarationPunctuation(t){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(t)):t.type!=="."?this._error("Expected declaration to end with a dot",t):this._readInTopContext}_readQuantifierList(t){let n;switch(t.type){case"IRI":case"prefixed":if((n=this._readEntity(t,!0))!==void 0)break;default:return this._error(`Unexpected ${t.type}`,t)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,n,this.QUANTIFIERS_GRAPH)):this._quantified[n.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(t){return t.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(t))}_getPathReader(t){return this._afterPath=t,this._readPath}_readPath(t){switch(t.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const n=this._contextStack,r=n.length&&n[n.length-1];if(r&&r.type==="item"){const i=this._subject;this._restoreContext("item",t),this._emit(this._subject,this.RDF_FIRST,i,this._graph)}return this._afterPath(t)}}_readForwardPath(t){let n,r;const i=this._blankNode();if((r=this._readEntity(t))!==void 0)return this._predicate===null?(n=this._subject,this._subject=i):(n=this._object,this._object=i),this._emit(n,r,i,this._graph),this._readPath}_readBackwardPath(t){const n=this._blankNode();let r,i;if((r=this._readEntity(t))!==void 0)return this._predicate===null?(i=this._subject,this._subject=n):(i=this._object,this._object=n),this._emit(n,r,i,this._graph),this._readPath}_readRDFStarTailOrGraph(t){return t.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(t))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,t):this._readRDFStarTail(t)}_readRDFStarTail(t){if(t.type!==">>")return this._error(`Expected >> but got ${t.type}`,t);const n=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",t),this._subject===null?(this._subject=n,this._readPredicate):(this._object=n,this._getContextEndReader())}_getContextEndReader(){const t=this._contextStack;if(!t.length)return this._readPunctuation;switch(t[t.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(t,n,r,i){this._callback(null,this._quad(t,n,r,i||this.DEFAULTGRAPH))}_error(t,n){const r=new Error(`${t} on line ${n.line}.`);r.context={token:n,line:n.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=l_}_resolveIRI(t){return/^[a-z][a-z0-9+.-]*:/i.test(t)?t:this._resolveRelativeIRI(t)}_resolveRelativeIRI(t){if(!t.length)return this._base;switch(t[0]){case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return/^[^/:]*:/.test(t)?null:this._removeDotSegments(this._basePath+t)}}_removeDotSegments(t){if(!/(^|\/)\.\.?($|[/#?])/.test(t))return t;const n=t.length;let r="",i=-1,a=-1,o=0,s="/";for(;i<n;){switch(s){case":":if(a<0&&t[++i]==="/"&&t[++i]==="/")for(;(a=i+1)<n&&t[a]!=="/";)i=a;break;case"?":case"#":i=n;break;case"/":if(t[i+1]===".")switch(s=t[++i+1],s){case"/":r+=t.substring(o,i-1),o=i+1;break;case void 0:case"?":case"#":return r+t.substring(o,i)+t.substr(i+1);case".":if(s=t[++i+1],s===void 0||s==="/"||s==="?"||s==="#"){if(r+=t.substring(o,i-2),(o=r.lastIndexOf("/"))>=a&&(r=r.substr(0,o)),s!=="/")return`${r}/${t.substr(i+1)}`;o=i+1}}}s=t[++i]}return r+t.substring(o)}parse(t,n,r){let i,a,o;if(n&&(n.onQuad||n.onPrefix||n.onComment)?(i=n.onQuad,a=n.onPrefix,o=n.onComment):(i=n,a=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${ZN++}_`,this._prefixCallback=a||l_,this._inversePredicate=!1,this._quantified=Object.create(null),!i){const l=[];let c;if(this._callback=(d,h)=>{d?c=d:h&&l.push(h)},this._lexer.tokenize(t).every(d=>this._readCallback=this._readCallback(d)),c)throw c;return l}let s=(l,c)=>{l!==null?(this._callback(l),this._callback=l_):this._readCallback&&(this._readCallback=this._readCallback(c))};o&&(this._lexer.comments=!0,s=(l,c)=>{l!==null?(this._callback(l),this._callback=l_):this._readCallback&&(c.type==="comment"?o(c.value):this._readCallback=this._readCallback(c))}),this._callback=i,this._lexer.tokenize(t,s)}}function l_(){}function lz(e,t){const n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(Wi.rdf.first),e.RDF_REST=n(Wi.rdf.rest),e.RDF_NIL=n(Wi.rdf.nil),e.N3_FORALL=n(Wi.r.forAll),e.N3_FORSOME=n(Wi.r.forSome),e.ABBREVIATIONS={a:n(Wi.rdf.type),"=":n(Wi.owl.sameAs),">":n(Wi.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}lz(uz.prototype,Zl);function $A(e){return!!e&&e.termType==="DefaultGraph"}const dg=Zl.defaultGraph(),{rdf:Kme,xsd:Rd}=Wi,JN=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,XN=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Gme={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class hg extends ts{equals(t){return t===this}}class cz{constructor(t,n){if(this._prefixRegex=/$0^/,t&&typeof t.write!="function"&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=n.end===void 0?!0:!!n.end;else{let r="";this._outputStream={write(i,a,o){r+=i,o&&o()},end:i=>{i&&i(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=dg,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp(`^${e3(n.baseIRI)}${n.baseIRI.endsWith("/")?"":"[#?]"}`),this._baseLength=n.baseIRI.length))}get _inDefaultGraph(){return dg.equals(this._graph)}_write(t,n){this._outputStream.write(t,"utf8",n)}_writeQuad(t,n,r,i,a){try{i.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(dg.equals(i)?"":`${this._encodeIriOrBlank(i)} {
`)),this._graph=i,this._subject=null),t.equals(this._subject)?n.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,a):this._write(`;
    ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=t)} ${this._encodePredicate(this._predicate=n)} ${this._encodeObject(r)}`,a)}catch(o){a&&a(o)}}_writeQuadLine(t,n,r,i,a){delete this._prefixMatch,this._write(this.quadToString(t,n,r,i),a)}quadToString(t,n,r,i){return`${this._encodeSubject(t)} ${this._encodeIriOrBlank(n)} ${this._encodeObject(r)}${i&&i.value?` ${this._encodeIriOrBlank(i)} .
`:` .
`}`}quadsToString(t){let n="";for(const r of t)n+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return n}_encodeSubject(t){return t.termType==="Quad"?this._encodeQuad(t):this._encodeIriOrBlank(t)}_encodeIriOrBlank(t){if(t.termType!=="NamedNode")return this._lists&&t.value in this._lists&&(t=this.list(this._lists[t.value])),"id"in t?t.id:`_:${t.value}`;let n=t.value;this._baseMatcher&&this._baseMatcher.test(n)&&(n=n.substr(this._baseLength)),JN.test(n)&&(n=n.replace(XN,YN));const r=this._prefixRegex.exec(n);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:n:`<${n}>`}_encodeLiteral(t){let n=t.value;if(JN.test(n)&&(n=n.replace(XN,YN)),t.language)return`"${n}"@${t.language}`;if(this._lineMode){if(t.datatype.value===Rd.string)return`"${n}"`}else switch(t.datatype.value){case Rd.string:return`"${n}"`;case Rd.boolean:if(n==="true"||n==="false")return n;break;case Rd.integer:if(/^[+-]?\d+$/.test(n))return n;break;case Rd.decimal:if(/^[+-]?\d*\.\d+$/.test(n))return n;break;case Rd.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(n))return n;break}return`"${n}"^^${this._encodeIriOrBlank(t.datatype)}`}_encodePredicate(t){return t.value===Kme.type?"a":this._encodeIriOrBlank(t)}_encodeObject(t){switch(t.termType){case"Quad":return this._encodeQuad(t);case"Literal":return this._encodeLiteral(t);default:return this._encodeIriOrBlank(t)}}_encodeQuad({subject:t,predicate:n,object:r,graph:i}){return`<<${this._encodeSubject(t)} ${this._encodePredicate(n)} ${this._encodeObject(r)}${$A(i)?"":` ${this._encodeIriOrBlank(i)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(t,n,r,i,a){r===void 0?this._writeQuad(t.subject,t.predicate,t.object,t.graph,n):typeof i=="function"?this._writeQuad(t,n,r,dg,i):this._writeQuad(t,n,r,i||dg,a)}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}addPrefix(t,n,r){const i={};i[t]=n,this.addPrefixes(i,r)}addPrefixes(t,n){if(!this._prefixIRIs)return n&&n();let r=!1;for(let i in t){let a=t[i];typeof a!="string"&&(a=a.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[a]=i+=":",this._write(`@prefix ${i} <${a}>.
`)}if(r){let i="",a="";for(const o in this._prefixIRIs)i+=i?`|${o}`:o,a+=(a?"|":"")+this._prefixIRIs[o];i=e3(i),this._prefixRegex=new RegExp(`^(?:${a})[^/]*$|^(${i})([_a-zA-Z][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",n)}blank(t,n){let r=t,i,a;switch(t===void 0?r=[]:t.termType?r=[{predicate:t,object:n}]:"length"in t||(r=[t]),a=r.length){case 0:return new hg("[]");case 1:if(i=r[0],!(i.object instanceof hg))return new hg(`[ ${this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)} ]`);default:let o="[";for(let s=0;s<a;s++)i=r[s],i.predicate.equals(t)?o+=`, ${this._encodeObject(i.object)}`:(o+=`${(s?`;
  `:`
  `)+this._encodePredicate(i.predicate)} ${this._encodeObject(i.object)}`,t=i.predicate);return new hg(`${o}
]`)}}list(t){const n=t&&t.length||0,r=new Array(n);for(let i=0;i<n;i++)r[i]=this._encodeObject(t[i]);return new hg(`(${r.join(" ")})`)}end(t){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let n=t&&((r,i)=>{n=null,t(r,i)});if(this._endStream)try{return this._outputStream.end(n)}catch{}n&&n()}}function YN(e){let t=Gme[e];return t===void 0&&(e.length===1?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function e3(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const Hx=Symbol("iter");function Mm(e,t,n=4){if(n===0)return Object.assign(e,t);for(const r in t)e[r]=Mm(e[r]||Object.create(null),t[r],n-1);return e}function fz(e,t,n=4){let r=!1;for(const i in e)if(i in t){const a=n===0?null:fz(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}function dz(e,t,n=4){let r=!1;for(const i in e)if(!(i in t))r=r||Object.create(null),r[i]=n===0?null:Mm({},e[i],n-1);else if(n!==0){const a=dz(e[i],t[i],n-1);if(a!==!1)r=r||Object.create(null),r[i]=a;else if(n===3)return!1}return r}class Wme{constructor(t={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=t.factory||Zl}_termFromId(t){if(t[0]==="."){const n=this._entities,r=t.split(".");return this._factory.quad(this._termFromId(n[r[1]]),this._termFromId(n[r[2]]),this._termFromId(n[r[3]]),r[4]&&this._termFromId(n[r[4]]))}return wm(t,this._factory)}_termToNumericId(t){if(t.termType==="Quad"){const n=this._termToNumericId(t.subject),r=this._termToNumericId(t.predicate),i=this._termToNumericId(t.object);let a;return n&&r&&i&&($A(t.graph)||(a=this._termToNumericId(t.graph)))&&this._ids[a?`.${n}.${r}.${i}.${a}`:`.${n}.${r}.${i}`]}return this._ids[Kd(t)]}_termToNewNumericId(t){const n=t&&t.termType==="Quad"?`.${this._termToNewNumericId(t.subject)}.${this._termToNewNumericId(t.predicate)}.${this._termToNewNumericId(t.object)}${$A(t.graph)?"":`.${this._termToNewNumericId(t.graph)}`}`:Kd(t);return this._ids[n]||(this._ids[this._entities[++this._id]=n]=this._id)}createBlankNode(t){let n,r;if(t)for(n=t=`_:${t}`,r=1;this._ids[n];)n=t+r++;else do n=`_:b${this._blankNodeIndex++}`;while(this._ids[n]);return this._ids[n]=++this._id,this._entities[this._id]=n,this._factory.blankNode(n.substr(2))}}class Ca{constructor(t,n){this._size=0,this._graphs=Object.create(null),!n&&t&&!t[0]&&(n=t,t=null),n=n||{},this._factory=n.factory||Zl,this._entityIndex=n.entityIndex||new Wme({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),t&&this.addQuads(t)}get size(){let t=this._size;if(t!==null)return t;t=0;const n=this._graphs;let r,i;for(const a in n)for(const o in r=n[a].subjects)for(const s in i=r[o])t+=Object.keys(i[s]).length;return this._size=t}_addToIndex(t,n,r,i){const a=t[n]||(t[n]={}),o=a[r]||(a[r]={}),s=i in o;return s||(o[i]=null),!s}_removeFromIndex(t,n,r,i){const a=t[n],o=a[r];delete o[i];for(const s in o)return;delete a[r];for(const s in a)return;delete t[n]}*_findInIndex(t,n,r,i,a,o,s,l){let c,d,h;const m=this._entities,y=this._termFromId(m[l]),v={subject:null,predicate:null,object:null};n&&((c=t,t={})[n]=c[n]);for(const _ in t)if(d=t[_]){v[a]=this._termFromId(m[_]),r&&((c=d,d={})[r]=c[r]);for(const S in d)if(h=d[S]){v[o]=this._termFromId(m[S]);const b=i?i in h?[i]:[]:Object.keys(h);for(let x=0;x<b.length;x++)v[s]=this._termFromId(m[b[x]]),yield this._factory.quad(v.subject,v.predicate,v.object,y)}}}_loop(t,n){for(const r in t)n(r)}_loopByKey0(t,n,r){let i,a;if(i=t[n])for(a in i)r(a)}_loopByKey1(t,n,r){let i,a;for(i in t)a=t[i],a[n]&&r(i)}_loopBy2Keys(t,n,r,i){let a,o,s;if((a=t[n])&&(o=a[r]))for(s in o)i(s)}_countInIndex(t,n,r,i){let a=0,o,s,l;n&&((o=t,t={})[n]=o[n]);for(const c in t)if(s=t[c]){r&&((o=s,s={})[r]=o[r]);for(const d in s)(l=s[d])&&(i?i in l&&a++:a+=Object.keys(l).length)}return a}_getGraphs(t){return t=t===""?1:t&&(this._termToNumericId(t)||-1),typeof t!="number"?this._graphs:{[t]:this._graphs[t]}}_uniqueEntities(t){const n=Object.create(null);return r=>{r in n||(n[r]=!0,t(this._termFromId(this._entities[r],this._factory)))}}add(t){return this.addQuad(t),this}addQuad(t,n,r,i){n||(i=t.graph,r=t.object,n=t.predicate,t=t.subject),i=i?this._termToNewNumericId(i):1;let a=this._graphs[i];return a||(a=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(a)),t=this._termToNewNumericId(t),n=this._termToNewNumericId(n),r=this._termToNewNumericId(r),this._addToIndex(a.subjects,t,n,r)?(this._addToIndex(a.predicates,n,r,t),this._addToIndex(a.objects,r,t,n),this._size=null,!0):!1}addQuads(t){for(let n=0;n<t.length;n++)this.addQuad(t[n])}delete(t){return this.removeQuad(t),this}has(t,n,r,i){return t&&t.subject&&({subject:t,predicate:n,object:r,graph:i}=t),!this.readQuads(t,n,r,i).next().done}import(t){return t.on("data",n=>{this.addQuad(n)}),t}removeQuad(t,n,r,i){n||({subject:t,predicate:n,object:r,graph:i}=t),i=i?this._termToNumericId(i):1;const a=this._graphs;let o,s,l;if(!(t=t&&this._termToNumericId(t))||!(n=n&&this._termToNumericId(n))||!(r=r&&this._termToNumericId(r))||!(o=a[i])||!(s=o.subjects[t])||!(l=s[n])||!(r in l))return!1;this._removeFromIndex(o.subjects,t,n,r),this._removeFromIndex(o.predicates,n,r,t),this._removeFromIndex(o.objects,r,t,n),this._size!==null&&this._size--;for(t in o.subjects)return!0;return delete a[i],!0}removeQuads(t){for(let n=0;n<t.length;n++)this.removeQuad(t[n])}remove(t){return t.on("data",n=>{this.removeQuad(n)}),t}removeMatches(t,n,r,i){const a=new Vh.Readable({objectMode:!0}),o=this.readQuads(t,n,r,i);return a._read=s=>{for(;--s>=0;){const{done:l,value:c}=o.next();if(l){a.push(null);return}a.push(c)}},this.remove(a)}deleteGraph(t){return this.removeMatches(null,null,null,t)}getQuads(t,n,r,i){return[...this.readQuads(t,n,r,i)]}*readQuads(t,n,r,i){const a=this._getGraphs(i);let o,s,l,c;if(!(t&&!(s=this._termToNumericId(t))||n&&!(l=this._termToNumericId(n))||r&&!(c=this._termToNumericId(r))))for(const d in a)(o=a[d])&&(s?c?yield*this._findInIndex(o.objects,c,s,l,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,s,l,null,"subject","predicate","object",d):l?yield*this._findInIndex(o.predicates,l,c,null,"predicate","object","subject",d):c?yield*this._findInIndex(o.objects,c,null,null,"object","subject","predicate",d):yield*this._findInIndex(o.subjects,null,null,null,"subject","predicate","object",d))}match(t,n,r,i){return new Al(this,t,n,r,i,{entityIndex:this._entityIndex})}countQuads(t,n,r,i){const a=this._getGraphs(i);let o=0,s,l,c,d;if(t&&!(l=this._termToNumericId(t))||n&&!(c=this._termToNumericId(n))||r&&!(d=this._termToNumericId(r)))return 0;for(const h in a)(s=a[h])&&(t?r?o+=this._countInIndex(s.objects,d,l,c):o+=this._countInIndex(s.subjects,l,c,d):n?o+=this._countInIndex(s.predicates,c,d,l):o+=this._countInIndex(s.objects,d,l,c));return o}forEach(t,n,r,i,a){this.some(o=>(t(o,this),!1),n,r,i,a)}every(t,n,r,i,a){return!this.some(o=>!t(o,this),n,r,i,a)}some(t,n,r,i,a){for(const o of this.readQuads(n,r,i,a))if(t(o))return!0;return!1}getSubjects(t,n,r){const i=[];return this.forSubjects(a=>{i.push(a)},t,n,r),i}forSubjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.predicates,s,l,t):this._loopByKey1(o.subjects,s,t):l?this._loopByKey0(o.objects,l,t):this._loop(o.subjects,t))}getPredicates(t,n,r){const i=[];return this.forPredicates(a=>{i.push(a)},t,n,r),i}forPredicates(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.objects,l,s,t):this._loopByKey0(o.subjects,s,t):l?this._loopByKey1(o.predicates,l,t):this._loop(o.predicates,t))}getObjects(t,n,r){const i=[];return this.forObjects(a=>{i.push(a)},t,n,r),i}forObjects(t,n,r,i){const a=this._getGraphs(i);let o,s,l;if(t=this._uniqueEntities(t),!(n&&!(s=this._termToNumericId(n))||r&&!(l=this._termToNumericId(r))))for(i in a)(o=a[i])&&(s?l?this._loopBy2Keys(o.subjects,s,l,t):this._loopByKey1(o.objects,s,t):l?this._loopByKey0(o.predicates,l,t):this._loop(o.objects,t))}getGraphs(t,n,r){const i=[];return this.forGraphs(a=>{i.push(a)},t,n,r),i}forGraphs(t,n,r,i){for(const a in this._graphs)this.some(o=>(t(o.graph),!0),n,r,i,this._termFromId(this._entities[a]))}createBlankNode(t){return this._entityIndex.createBlankNode(t)}extractLists({remove:t=!1,ignoreErrors:n=!1}={}){const r={},i=n?()=>!0:(s,l)=>{throw new Error(`${s.value} ${l}`)},a=this.getQuads(null,Wi.rdf.rest,Wi.rdf.nil,null),o=t?[...a]:[];return a.forEach(s=>{const l=[];let c=!1,d,h;const m=s.graph;let y=s.subject;for(;y&&!c;){const v=this.getQuads(null,null,y,null),_=this.getQuads(y,null,null,null);let S,b=null,x=null,R=null;for(let P=0;P<_.length&&!c;P++)S=_[P],S.graph.equals(m)?d?c=i(y,"has non-list arcs out"):S.predicate.value===Wi.rdf.first?b?c=i(y,"has multiple rdf:first arcs"):o.push(b=S):S.predicate.value===Wi.rdf.rest?x?c=i(y,"has multiple rdf:rest arcs"):o.push(x=S):v.length?c=i(y,"can't be subject and object"):(d=S,h="subject"):c=i(y,"not confined to single graph");for(let P=0;P<v.length&&!c;++P)S=v[P],d?c=i(y,"can't have coreferences"):S.predicate.value===Wi.rdf.rest?R?c=i(y,"has incoming rdf:rest arcs"):R=S:(d=S,h="object");b?l.unshift(b.object):c=i(y,"has no list head"),y=R&&R.subject}c?t=!1:d&&(r[d[h].value]=l)}),t&&this.removeQuads(o),r}addAll(t){if(t instanceof Al&&(t=t.filtered),Array.isArray(t))this.addQuads(t);else if(t instanceof Ca&&t._entityIndex===this._entityIndex)t._size!==0&&(this._graphs=Mm(this._graphs,t._graphs),this._size=null);else for(const n of t)this.add(n);return this}contains(t){if(t instanceof Al&&(t=t.filtered),t===this)return!0;if(!(t instanceof Ca)||this._entityIndex!==t._entityIndex)return t.every(c=>this.has(c));const n=this._graphs,r=t._graphs;let i,a,o,s,l;for(const c in r){if(!(i=n[c]))return!1;i=i.subjects;for(const d in a=r[c].subjects){if(!(o=i[d]))return!1;for(const h in s=a[d]){if(!(l=o[h]))return!1;for(const m in s[h])if(!(m in l))return!1}}}return!0}deleteMatches(t,n,r,i){for(const a of this.match(t,n,r,i))this.removeQuad(a);return this}difference(t){if(t&&t instanceof Al&&(t=t.filtered),t===this)return new Ca({entityIndex:this._entityIndex});if(t instanceof Ca&&t._entityIndex===this._entityIndex){const n=new Ca({entityIndex:this._entityIndex}),r=dz(this._graphs,t._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>!t.has(n))}equals(t){return t instanceof Al&&(t=t.filtered),t===this||this.size===t.size&&this.contains(t)}filter(t){const n=new Ca({entityIndex:this._entityIndex});for(const r of this)t(r,this)&&n.add(r);return n}intersection(t){if(t instanceof Al&&(t=t.filtered),t===this){const n=new Ca({entityIndex:this._entityIndex});return n._graphs=Mm(Object.create(null),this._graphs),n._size=this._size,n}else if(t instanceof Ca&&this._entityIndex===t._entityIndex){const n=new Ca({entityIndex:this._entityIndex}),r=fz(t._graphs,this._graphs);return r&&(n._graphs=r,n._size=null),n}return this.filter(n=>t.has(n))}map(t){const n=new Ca({entityIndex:this._entityIndex});for(const r of this)n.add(t(r,this));return n}reduce(t,n){const r=this.readQuads();let i=n===void 0?r.next().value:n;for(const a of r)i=t(i,a,this);return i}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new cz().quadsToString(this)}union(t){const n=new Ca({entityIndex:this._entityIndex});return n._graphs=Mm(Object.create(null),this._graphs),n._size=this._size,n.addAll(t),n}*[Symbol.iterator](){yield*this.readQuads()}}function ps(e,t,n=0){const r=t[n];if(r&&!(r in e))return!1;let i=!1;for(const a in r?{[r]:e[r]}:e){const o=n===2?null:ps(e[a],t,n+1);o!==!1&&(i=i||Object.create(null),i[a]=o)}return i}class Al extends Vh.Readable{constructor(t,n,r,i,a,o){super({objectMode:!0}),Object.assign(this,{n3Store:t,subject:n,predicate:r,object:i,graph:a,options:o})}get filtered(){if(!this._filtered){const{n3Store:t,graph:n,object:r,predicate:i,subject:a}=this,o=this._filtered=new Ca({factory:t._factory,entityIndex:this.options.entityIndex});let s,l,c;if(a&&!(s=o._termToNumericId(a))||i&&!(l=o._termToNumericId(i))||r&&!(c=o._termToNumericId(r)))return o;const d=t._getGraphs(n);for(const h in d){let m,y,v;!s&&l?(y=ps(d[h].predicates,[l,c,s]))&&(m=ps(d[h].subjects,[s,l,c]),v=ps(d[h].objects,[c,s,l])):c?(v=ps(d[h].objects,[c,s,l]))&&(m=ps(d[h].subjects,[s,l,c]),y=ps(d[h].predicates,[l,c,s])):(m=ps(d[h].subjects,[s,l,c]))&&(y=ps(d[h].predicates,[l,c,s]),v=ps(d[h].objects,[c,s,l])),m&&(o._graphs[h]={subjects:m,predicates:y,objects:v})}o._size=null}return this._filtered}get size(){return this.filtered.size}_read(t){t>0&&!this[Hx]&&(this[Hx]=this[Symbol.iterator]());const n=this[Hx];for(;--t>=0;){const{done:r,value:i}=n.next();if(r){this.push(null);return}this.push(i)}}addAll(t){return this.filtered.addAll(t)}contains(t){return this.filtered.contains(t)}deleteMatches(t,n,r,i){return this.filtered.deleteMatches(t,n,r,i)}difference(t){return this.filtered.difference(t)}equals(t){return this.filtered.equals(t)}every(t,n,r,i,a){return this.filtered.every(t,n,r,i,a)}filter(t){return this.filtered.filter(t)}forEach(t,n,r,i,a){return this.filtered.forEach(t,n,r,i,a)}import(t){return this.filtered.import(t)}intersection(t){return this.filtered.intersection(t)}map(t){return this.filtered.map(t)}some(t,n,r,i,a){return this.filtered.some(t,n,r,i,a)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(t){return this._filtered?this._filtered.union(t):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(t)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(t,n){return this.filtered.reduce(t,n)}toString(){return new cz().quadsToString(this)}add(t){return this.filtered.add(t)}delete(t){return this.filtered.delete(t)}has(t){return this.filtered.has(t)}match(t,n,r,i){return new Al(this.filtered,t,n,r,i,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}function t3(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var pO=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(e,t||[])).next())})};const Qme=e=>(t,n)=>pO(void 0,void 0,void 0,function*(){const r=yield globalThis.fetch(t,{method:"GET"});return yield e(r.url,n)}),Zme=e=>(t,n)=>pO(void 0,void 0,void 0,function*(){try{return yield e(t,n)}catch{return yield Qme(e)(t,n)}}),BA=e=>{const t=new URL(e);return t.hash="",t.toString()},Jme=["text/turtle","application/trig","application/n-triples","application/n-quads","text/n3"],gO=(e,t)=>pO(void 0,void 0,void 0,function*(){var n;let r=[],i="",a=-1,o=!1,s;try{const l=BA(e);return s=yield Zme(t)(l,{headers:{accept:Jme.join(",")}}),o=s.ok,a=s.status,i=yield s.text(),r=Xme(i,{baseIRI:l,format:(n=s.headers.get("content-type"))!==null&&n!==void 0?n:void 0}),{data:r,rawData:i,hash:t3(i),ok:o,statusCode:a,response:s}}catch{return o=!1,{data:r,rawData:i,hash:t3(i),ok:o,statusCode:a,response:s}}}),Xme=(e,t)=>{const n=new uz(t),r=Zl.namedNode(t.baseIRI);return n.parse(e).map(({subject:a,predicate:o,object:s})=>Zl.quad(a,o,s,r))},F0=e=>JSON.stringify(e.toJSON()),Nc=["subject","predicate","object","graph"],hz={meta:"https://ldhop.example/meta",status:"https://ldhop.example/status",missing:"https://ldhop.example/status/missing",added:"https://ldhop.example/status/added",failed:"https://ldhop.example/status/failed",resource:"https://ldhop.example/resource",variable:"https://ldhop.example/variable"};let wl=class extends bs{constructor(t){super(hz.variable+"/"+t),this.variable=t}static getVar(t){return t.value.split("/").pop()}};const Sn=Object.fromEntries(Object.entries(hz).map(([e,t])=>[e,new bs(t)]));class Yme{constructor(){this.list=new Set,this.provides={},this.providersOf={},this.byQuad={},this.print=()=>{let t="";return this.list.forEach(n=>{const r=Object.values(n.from).flatMap(a=>Array.from(a)).map(a=>a.value),i=Object.values(n.to).flatMap(a=>Array.from(a)).map(a=>a.value);t+=r.concat(" ")+" ==> "+i.concat(" ")}),t}}add(t){var n,r,i;this.list.add(t),Object.values(t.from).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.provides)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.provides[o.value].add(t)})}),Object.values(t.to).forEach(a=>{a.forEach(o=>{var s,l,c;(s=(l=this.providersOf)[c=o.value])!==null&&s!==void 0||(l[c]=new Set),this.providersOf[o.value].add(t)})}),t.quad&&((n=(r=this.byQuad)[i=F0(t.quad)])!==null&&n!==void 0||(r[i]=new Set),this.byQuad[F0(t.quad)].add(t))}remove(t){this.list.delete(t),Object.values(t.from).forEach(n=>{n.forEach(r=>{this.provides[r.value].delete(t)})}),Object.values(t.to).forEach(n=>{n.forEach(r=>{this.providersOf[r.value].delete(t)})}),t.quad&&this.byQuad[F0(t.quad)].delete(t)}}class n3{constructor(t,n,r=new Ca){this.moves=new Yme,this.store=r,this.query=t,Object.entries(n).forEach(([i,a])=>{a.forEach(o=>{const s=new bs(o);this.moves.add({from:{},to:{[i]:new Set([s])},step:-1}),this.addVariable(i,s)})})}getMissingResources(){return this.getResources("missing")}removeVariable(t,n){var r;if(this.store.removeQuad(new gs(n,Sn.variable,new wl(t),Sn.meta)),n.termType==="NamedNode"){const o=new bs(BA(n.value));this.store.removeQuad(new gs(n,Sn.resource,o,Sn.meta)),this.store.removeQuads(this.store.getQuads(o,Sn.status,null,Sn.meta)),this.removeResource(o.value)}const i=n.value,a=Array.from((r=this.moves.provides[i])!==null&&r!==void 0?r:[]).filter(o=>{var s;return Array.from((s=o.from[t])!==null&&s!==void 0?s:[]).some(l=>l.equals(n))});for(const o of a){const s=o.to;this.moves.remove(o);for(const l in s)s[l].forEach(c=>{var d;Array.from((d=this.moves.providersOf[c.value])!==null&&d!==void 0?d:new Set).filter(m=>{var y;return Array.from((y=m.to[l])!==null&&y!==void 0?y:[]).some(v=>v.equals(c))}).length===0&&this.removeVariable(l,c)})}}addResource(t,n,r="success"){const i=new bs(t),a=this.store.getQuads(null,null,null,i),[o,s]=eye(n,a);o.forEach(h=>this.addQuad(h)),s.forEach(h=>this.removeQuad(h));const l=new gs(i,Sn.status,Sn.missing,Sn.meta),c=new gs(i,Sn.status,Sn.added,Sn.meta),d=new gs(i,Sn.status,Sn.failed,Sn.meta);this.store.removeQuads([l,c,d]),r==="success"&&this.store.addQuad(c),r==="error"&&this.store.addQuad(d)}addQuad(t){this.store.addQuad(t);const n=Object.fromEntries(Nc.map(a=>[a,this.store.getObjects(t[a],Sn.variable,Sn.meta)])),r=(a,o)=>{const s=a[o],l=t[o];return!!(!s||s.startsWith("?")&&n[o].some(c=>c.equals(new wl(s.slice(1))))||s===l.value)},i=Object.entries(this.query).filter(a=>typeof a[1]!="function"&&a[1].type==="match").filter(([,a])=>Nc.every(o=>r(a,o))).map(([a,o])=>[+a,o]);for(const[a,o]of i){const s={};for(const c of Nc){const d=o[c];d!=null&&d.startsWith("?")&&(s[d.slice(1)]=new Set([t[c]]))}const l={[o.target.slice(1)]:new Set([t[o.pick]])};this.moves.add({step:a,from:s,to:l,quad:t}),this.addVariable(o.target.slice(1),t[o.pick])}}removeResource(t){this.store.getQuads(null,null,null,new bs(t)).forEach(r=>this.removeQuad(r))}removeQuad(t){var n;this.store.removeQuad(t),((n=this.moves.byQuad[F0(t)])!==null&&n!==void 0?n:new Set).forEach(i=>{const a=i.to;this.moves.remove(i);for(const o in a)a[o].forEach(s=>{Array.from(this.moves.providersOf[s.value]).filter(c=>{var d;return Array.from((d=c.to[o])!==null&&d!==void 0?d:[]).some(h=>h.equals(s))}).length===0&&this.removeVariable(o,s)})})}hopFromVariable(t,n){const r=`?${t}`;this.query.map((a,o)=>[a,o]).filter(([a])=>!!(typeof a=="function"||a.type==="match"&&Nc.some(o=>a[o]===r)||a.type==="transform variable"&&a.source===r)).forEach(([a,o])=>{var s;if(typeof a=="function")a(this);else if(a.type==="transform variable"){const l=a.transform(n);l&&(this.moves.add({from:{[a.source.slice(1)]:new Set([n])},to:{[a.target.slice(1)]:new Set([l])},step:o}),this.addVariable(a.target.slice(1),l))}else if(a.type==="match"){const l=(d,h)=>{let m=new Set;const y=d[h];if(!y)m.add(null);else if(!y.startsWith("?"))m.add(new bs(y));else if(y.slice(1)===t)m.add(n);else{const v=this.store.getSubjects(Sn.variable,new wl(y.slice(1)),Sn.meta);m=new Set(v)}return m},c=Object.fromEntries(Nc.map(d=>[d,l(a,d)]));for(const d of c.subject)for(const h of c.predicate)for(const m of c.object)for(const y of c.graph){const v=this.store.getQuads(d,h,m,y);for(const _ of v){const S=a.target.slice(1),b=_[a.pick],x={};for(const P of Nc)!((s=a[P])===null||s===void 0)&&s.startsWith("?")&&(x[a[P].slice(1)]=new Set([_[P]]));const R={[S]:new Set([b])};this.moves.add({from:x,to:R,step:o,quad:_}),this.addVariable(S,b)}}}})}addVariable(t,n){if(this.store.has(new gs(n,Sn.variable,new wl(t),Sn.meta)))return;this.store.addQuads([new gs(n,Sn.variable,new wl(t),Sn.meta)]);let r;n.termType==="NamedNode"&&(r=new bs(BA(n.value)),this.store.addQuads([new gs(n,Sn.resource,r,Sn.meta)]));const i=`?${t}`,a=this.query.some(l=>typeof l!="function"&&l.type==="add resources"&&l.variable===i),o=this.query.some(l=>typeof l!="function"&&l.type==="match"&&Nc.some(c=>l[c]===i));r&&(a||o)&&this.store.match(r,Sn.status,null,Sn.meta).size===0&&this.store.addQuad(r,Sn.status,Sn.missing,Sn.meta),this.hopFromVariable(t,n)}getVariable(t){return this.store.getSubjects(Sn.variable,new wl(t),Sn.meta).map(n=>n.value)}getAllVariables(){return this.store.getQuads(null,Sn.variable,null,Sn.meta).reduce((t,n)=>{var r,i;return(r=t[i=wl.getVar(n.object)])!==null&&r!==void 0||(t[i]=new Set),t[wl.getVar(n.object)].add(n.subject.value),t},{})}getResources(t){if(!t)return this.store.getObjects(null,Sn.resource,Sn.meta).map(r=>r.value);const n=t==="missing"?Sn.missing:t==="failed"?Sn.failed:Sn.added;return this.store.getSubjects(Sn.status,n,Sn.meta).map(r=>r.value)}}const eye=(e,t)=>{if(t.length===0)return[e,[]];if(e.length===0)return[[],t];const n=e.filter(i=>!t.some(a=>i.equals(a))),r=t.filter(i=>!e.some(a=>i.equals(a)));return[n,r]};var Vx,r3;function tye(){if(r3)return Vx;r3=1;function e(){this.__data__=[],this.size=0}return Vx=e,Vx}var Kx,i3;function xy(){if(i3)return Kx;i3=1;function e(t,n){return t===n||t!==t&&n!==n}return Kx=e,Kx}var Gx,a3;function ob(){if(a3)return Gx;a3=1;var e=xy();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return Gx=t,Gx}var Wx,o3;function nye(){if(o3)return Wx;o3=1;var e=ob(),t=Array.prototype,n=t.splice;function r(i){var a=this.__data__,o=e(a,i);if(o<0)return!1;var s=a.length-1;return o==s?a.pop():n.call(a,o,1),--this.size,!0}return Wx=r,Wx}var Qx,s3;function rye(){if(s3)return Qx;s3=1;var e=ob();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return Qx=t,Qx}var Zx,u3;function iye(){if(u3)return Zx;u3=1;var e=ob();function t(n){return e(this.__data__,n)>-1}return Zx=t,Zx}var Jx,l3;function aye(){if(l3)return Jx;l3=1;var e=ob();function t(n,r){var i=this.__data__,a=e(i,n);return a<0?(++this.size,i.push([n,r])):i[a][1]=r,this}return Jx=t,Jx}var Xx,c3;function sb(){if(c3)return Xx;c3=1;var e=tye(),t=nye(),n=rye(),r=iye(),i=aye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,Xx=a,Xx}var Yx,f3;function oye(){if(f3)return Yx;f3=1;var e=sb();function t(){this.__data__=new e,this.size=0}return Yx=t,Yx}var eE,d3;function sye(){if(d3)return eE;d3=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return eE=e,eE}var tE,h3;function uye(){if(h3)return tE;h3=1;function e(t){return this.__data__.get(t)}return tE=e,tE}var nE,p3;function lye(){if(p3)return nE;p3=1;function e(t){return this.__data__.has(t)}return nE=e,nE}var rE,g3;function pz(){if(g3)return rE;g3=1;var e=typeof pm=="object"&&pm&&pm.Object===Object&&pm;return rE=e,rE}var iE,m3;function ns(){if(m3)return iE;m3=1;var e=pz(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return iE=n,iE}var aE,y3;function Wh(){if(y3)return aE;y3=1;var e=ns(),t=e.Symbol;return aE=t,aE}var oE,v3;function cye(){if(v3)return oE;v3=1;var e=Wh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var s=n.call(o,i),l=o[i];try{o[i]=void 0;var c=!0}catch{}var d=r.call(o);return c&&(s?o[i]=l:delete o[i]),d}return oE=a,oE}var sE,_3;function fye(){if(_3)return sE;_3=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return sE=n,sE}var uE,w3;function Qh(){if(w3)return uE;w3=1;var e=Wh(),t=cye(),n=fye(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?i:r:a&&a in Object(s)?t(s):n(s)}return uE=o,uE}var lE,b3;function Po(){if(b3)return lE;b3=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return lE=e,lE}var cE,S3;function mO(){if(S3)return cE;S3=1;var e=Qh(),t=Po(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(s){if(!t(s))return!1;var l=e(s);return l==r||l==i||l==n||l==a}return cE=o,cE}var fE,x3;function dye(){if(x3)return fE;x3=1;var e=ns(),t=e["__core-js_shared__"];return fE=t,fE}var dE,E3;function hye(){if(E3)return dE;E3=1;var e=dye(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return dE=n,dE}var hE,C3;function gz(){if(C3)return hE;C3=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return hE=n,hE}var pE,T3;function pye(){if(T3)return pE;T3=1;var e=mO(),t=hye(),n=Po(),r=gz(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||t(m))return!1;var y=e(m)?d:a;return y.test(r(m))}return pE=h,pE}var gE,R3;function gye(){if(R3)return gE;R3=1;function e(t,n){return t==null?void 0:t[n]}return gE=e,gE}var mE,A3;function $f(){if(A3)return mE;A3=1;var e=pye(),t=gye();function n(r,i){var a=t(r,i);return e(a)?a:void 0}return mE=n,mE}var yE,P3;function yO(){if(P3)return yE;P3=1;var e=$f(),t=ns(),n=e(t,"Map");return yE=n,yE}var vE,O3;function ub(){if(O3)return vE;O3=1;var e=$f(),t=e(Object,"create");return vE=t,vE}var _E,L3;function mye(){if(L3)return _E;L3=1;var e=ub();function t(){this.__data__=e?e(null):{},this.size=0}return _E=t,_E}var wE,I3;function yye(){if(I3)return wE;I3=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return wE=e,wE}var bE,M3;function vye(){if(M3)return bE;M3=1;var e=ub(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(a){var o=this.__data__;if(e){var s=o[a];return s===t?void 0:s}return r.call(o,a)?o[a]:void 0}return bE=i,bE}var SE,D3;function _ye(){if(D3)return SE;D3=1;var e=ub(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var a=this.__data__;return e?a[i]!==void 0:n.call(a,i)}return SE=r,SE}var xE,k3;function wye(){if(k3)return xE;k3=1;var e=ub(),t="__lodash_hash_undefined__";function n(r,i){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&i===void 0?t:i,this}return xE=n,xE}var EE,N3;function bye(){if(N3)return EE;N3=1;var e=mye(),t=yye(),n=vye(),r=_ye(),i=wye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,EE=a,EE}var CE,F3;function Sye(){if(F3)return CE;F3=1;var e=bye(),t=sb(),n=yO();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return CE=r,CE}var TE,j3;function xye(){if(j3)return TE;j3=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return TE=e,TE}var RE,$3;function lb(){if($3)return RE;$3=1;var e=xye();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return RE=t,RE}var AE,B3;function Eye(){if(B3)return AE;B3=1;var e=lb();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return AE=t,AE}var PE,U3;function Cye(){if(U3)return PE;U3=1;var e=lb();function t(n){return e(this,n).get(n)}return PE=t,PE}var OE,q3;function Tye(){if(q3)return OE;q3=1;var e=lb();function t(n){return e(this,n).has(n)}return OE=t,OE}var LE,z3;function Rye(){if(z3)return LE;z3=1;var e=lb();function t(n,r){var i=e(this,n),a=i.size;return i.set(n,r),this.size+=i.size==a?0:1,this}return LE=t,LE}var IE,H3;function vO(){if(H3)return IE;H3=1;var e=Sye(),t=Eye(),n=Cye(),r=Tye(),i=Rye();function a(o){var s=-1,l=o==null?0:o.length;for(this.clear();++s<l;){var c=o[s];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=i,IE=a,IE}var ME,V3;function Aye(){if(V3)return ME;V3=1;var e=sb(),t=yO(),n=vO(),r=200;function i(a,o){var s=this.__data__;if(s instanceof e){var l=s.__data__;if(!t||l.length<r-1)return l.push([a,o]),this.size=++s.size,this;s=this.__data__=new n(l)}return s.set(a,o),this.size=s.size,this}return ME=i,ME}var DE,K3;function cb(){if(K3)return DE;K3=1;var e=sb(),t=oye(),n=sye(),r=uye(),i=lye(),a=Aye();function o(s){var l=this.__data__=new e(s);this.size=l.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=a,DE=o,DE}var kE,G3;function Pye(){if(G3)return kE;G3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return kE=t,kE}var NE,W3;function Oye(){if(W3)return NE;W3=1;function e(t){return this.__data__.has(t)}return NE=e,NE}var FE,Q3;function Lye(){if(Q3)return FE;Q3=1;var e=vO(),t=Pye(),n=Oye();function r(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new e;++a<o;)this.add(i[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,FE=r,FE}var jE,Z3;function Iye(){if(Z3)return jE;Z3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return jE=e,jE}var $E,J3;function Mye(){if(J3)return $E;J3=1;function e(t,n){return t.has(n)}return $E=e,$E}var BE,X3;function mz(){if(X3)return BE;X3=1;var e=Lye(),t=Iye(),n=Mye(),r=1,i=2;function a(o,s,l,c,d,h){var m=l&r,y=o.length,v=s.length;if(y!=v&&!(m&&v>y))return!1;var _=h.get(o),S=h.get(s);if(_&&S)return _==s&&S==o;var b=-1,x=!0,R=l&i?new e:void 0;for(h.set(o,s),h.set(s,o);++b<y;){var P=o[b],O=s[b];if(c)var D=m?c(O,P,b,s,o,h):c(P,O,b,o,s,h);if(D!==void 0){if(D)continue;x=!1;break}if(R){if(!t(s,function(F,Q){if(!n(R,Q)&&(P===F||d(P,F,l,c,h)))return R.push(Q)})){x=!1;break}}else if(!(P===O||d(P,O,l,c,h))){x=!1;break}}return h.delete(o),h.delete(s),x}return BE=a,BE}var UE,Y3;function yz(){if(Y3)return UE;Y3=1;var e=ns(),t=e.Uint8Array;return UE=t,UE}var qE,eF;function Dye(){if(eF)return qE;eF=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,a){r[++n]=[a,i]}),r}return qE=e,qE}var zE,tF;function kye(){if(tF)return zE;tF=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return zE=e,zE}var HE,nF;function Nye(){if(nF)return HE;nF=1;var e=Wh(),t=yz(),n=xy(),r=mz(),i=Dye(),a=kye(),o=1,s=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",_="[object String]",S="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",R=e?e.prototype:void 0,P=R?R.valueOf:void 0;function O(D,F,Q,Y,U,X,ce){switch(Q){case x:if(D.byteLength!=F.byteLength||D.byteOffset!=F.byteOffset)return!1;D=D.buffer,F=F.buffer;case b:return!(D.byteLength!=F.byteLength||!X(new t(D),new t(F)));case l:case c:case m:return n(+D,+F);case d:return D.name==F.name&&D.message==F.message;case y:case _:return D==F+"";case h:var te=i;case v:var se=Y&o;if(te||(te=a),D.size!=F.size&&!se)return!1;var pe=ce.get(D);if(pe)return pe==F;Y|=s,ce.set(D,F);var _e=r(te(D),te(F),Y,U,X,ce);return ce.delete(D),_e;case S:if(P)return P.call(D)==P.call(F)}return!1}return HE=O,HE}var VE,rF;function _O(){if(rF)return VE;rF=1;function e(t,n){for(var r=-1,i=n.length,a=t.length;++r<i;)t[a+r]=n[r];return t}return VE=e,VE}var KE,iF;function rs(){if(iF)return KE;iF=1;var e=Array.isArray;return KE=e,KE}var GE,aF;function vz(){if(aF)return GE;aF=1;var e=_O(),t=rs();function n(r,i,a){var o=i(r);return t(r)?o:e(o,a(r))}return GE=n,GE}var WE,oF;function _z(){if(oF)return WE;oF=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=0,o=[];++r<i;){var s=t[r];n(s,r,t)&&(o[a++]=s)}return o}return WE=e,WE}var QE,sF;function wz(){if(sF)return QE;sF=1;function e(){return[]}return QE=e,QE}var ZE,uF;function wO(){if(uF)return ZE;uF=1;var e=_z(),t=wz(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(s){return r.call(o,s)}))}:t;return ZE=a,ZE}var JE,lF;function bz(){if(lF)return JE;lF=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return JE=e,JE}var XE,cF;function ju(){if(cF)return XE;cF=1;function e(t){return t!=null&&typeof t=="object"}return XE=e,XE}var YE,fF;function Fye(){if(fF)return YE;fF=1;var e=Qh(),t=ju(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return YE=r,YE}var eC,dF;function fb(){if(dF)return eC;dF=1;var e=Fye(),t=ju(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return eC=a,eC}var Sm={exports:{}},tC,hF;function jye(){if(hF)return tC;hF=1;function e(){return!1}return tC=e,tC}Sm.exports;var pF;function db(){return pF||(pF=1,function(e,t){var n=ns(),r=jye(),i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;e.exports=c}(Sm,Sm.exports)),Sm.exports}var nC,gF;function hb(){if(gF)return nC;gF=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var a=typeof r;return i=i??e,!!i&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return nC=n,nC}var rC,mF;function bO(){if(mF)return rC;mF=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return rC=t,rC}var iC,yF;function $ye(){if(yF)return iC;yF=1;var e=Qh(),t=bO(),n=ju(),r="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",s="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",_="[object WeakMap]",S="[object ArrayBuffer]",b="[object DataView]",x="[object Float32Array]",R="[object Float64Array]",P="[object Int8Array]",O="[object Int16Array]",D="[object Int32Array]",F="[object Uint8Array]",Q="[object Uint8ClampedArray]",Y="[object Uint16Array]",U="[object Uint32Array]",X={};X[x]=X[R]=X[P]=X[O]=X[D]=X[F]=X[Q]=X[Y]=X[U]=!0,X[r]=X[i]=X[S]=X[a]=X[b]=X[o]=X[s]=X[l]=X[c]=X[d]=X[h]=X[m]=X[y]=X[v]=X[_]=!1;function ce(te){return n(te)&&t(te.length)&&!!X[e(te)]}return iC=ce,iC}var aC,vF;function SO(){if(vF)return aC;vF=1;function e(t){return function(n){return t(n)}}return aC=e,aC}var xm={exports:{}};xm.exports;var _F;function xO(){return _F||(_F=1,function(e,t){var n=pz(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s}(xm,xm.exports)),xm.exports}var oC,wF;function EO(){if(wF)return oC;wF=1;var e=$ye(),t=SO(),n=xO(),r=n&&n.isTypedArray,i=r?t(r):e;return oC=i,oC}var sC,bF;function Sz(){if(bF)return sC;bF=1;var e=bz(),t=fb(),n=rs(),r=db(),i=hb(),a=EO(),o=Object.prototype,s=o.hasOwnProperty;function l(c,d){var h=n(c),m=!h&&t(c),y=!h&&!m&&r(c),v=!h&&!m&&!y&&a(c),_=h||m||y||v,S=_?e(c.length,String):[],b=S.length;for(var x in c)(d||s.call(c,x))&&!(_&&(x=="length"||y&&(x=="offset"||x=="parent")||v&&(x=="buffer"||x=="byteLength"||x=="byteOffset")||i(x,b)))&&S.push(x);return S}return sC=l,sC}var uC,SF;function CO(){if(SF)return uC;SF=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return uC=t,uC}var lC,xF;function xz(){if(xF)return lC;xF=1;function e(t,n){return function(r){return t(n(r))}}return lC=e,lC}var cC,EF;function Bye(){if(EF)return cC;EF=1;var e=xz(),t=e(Object.keys,Object);return cC=t,cC}var fC,CF;function Uye(){if(CF)return fC;CF=1;var e=CO(),t=Bye(),n=Object.prototype,r=n.hasOwnProperty;function i(a){if(!e(a))return t(a);var o=[];for(var s in Object(a))r.call(a,s)&&s!="constructor"&&o.push(s);return o}return fC=i,fC}var dC,TF;function pb(){if(TF)return dC;TF=1;var e=mO(),t=bO();function n(r){return r!=null&&t(r.length)&&!e(r)}return dC=n,dC}var hC,RF;function Ey(){if(RF)return hC;RF=1;var e=Sz(),t=Uye(),n=pb();function r(i){return n(i)?e(i):t(i)}return hC=r,hC}var pC,AF;function Ez(){if(AF)return pC;AF=1;var e=vz(),t=wO(),n=Ey();function r(i){return e(i,n,t)}return pC=r,pC}var gC,PF;function qye(){if(PF)return gC;PF=1;var e=Ez(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s,l,c,d){var h=s&t,m=e(a),y=m.length,v=e(o),_=v.length;if(y!=_&&!h)return!1;for(var S=y;S--;){var b=m[S];if(!(h?b in o:r.call(o,b)))return!1}var x=d.get(a),R=d.get(o);if(x&&R)return x==o&&R==a;var P=!0;d.set(a,o),d.set(o,a);for(var O=h;++S<y;){b=m[S];var D=a[b],F=o[b];if(l)var Q=h?l(F,D,b,o,a,d):l(D,F,b,a,o,d);if(!(Q===void 0?D===F||c(D,F,s,l,d):Q)){P=!1;break}O||(O=b=="constructor")}if(P&&!O){var Y=a.constructor,U=o.constructor;Y!=U&&"constructor"in a&&"constructor"in o&&!(typeof Y=="function"&&Y instanceof Y&&typeof U=="function"&&U instanceof U)&&(P=!1)}return d.delete(a),d.delete(o),P}return gC=i,gC}var mC,OF;function zye(){if(OF)return mC;OF=1;var e=$f(),t=ns(),n=e(t,"DataView");return mC=n,mC}var yC,LF;function Hye(){if(LF)return yC;LF=1;var e=$f(),t=ns(),n=e(t,"Promise");return yC=n,yC}var vC,IF;function Vye(){if(IF)return vC;IF=1;var e=$f(),t=ns(),n=e(t,"Set");return vC=n,vC}var _C,MF;function Kye(){if(MF)return _C;MF=1;var e=$f(),t=ns(),n=e(t,"WeakMap");return _C=n,_C}var wC,DF;function gb(){if(DF)return wC;DF=1;var e=zye(),t=yO(),n=Hye(),r=Vye(),i=Kye(),a=Qh(),o=gz(),s="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",y=o(e),v=o(t),_=o(n),S=o(r),b=o(i),x=a;return(e&&x(new e(new ArrayBuffer(1)))!=m||t&&x(new t)!=s||n&&x(n.resolve())!=c||r&&x(new r)!=d||i&&x(new i)!=h)&&(x=function(R){var P=a(R),O=P==l?R.constructor:void 0,D=O?o(O):"";if(D)switch(D){case y:return m;case v:return s;case _:return c;case S:return d;case b:return h}return P}),wC=x,wC}var bC,kF;function Gye(){if(kF)return bC;kF=1;var e=cb(),t=mz(),n=Nye(),r=qye(),i=gb(),a=rs(),o=db(),s=EO(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,y=m.hasOwnProperty;function v(_,S,b,x,R,P){var O=a(_),D=a(S),F=O?d:i(_),Q=D?d:i(S);F=F==c?h:F,Q=Q==c?h:Q;var Y=F==h,U=Q==h,X=F==Q;if(X&&o(_)){if(!o(S))return!1;O=!0,Y=!1}if(X&&!Y)return P||(P=new e),O||s(_)?t(_,S,b,x,R,P):n(_,S,F,b,x,R,P);if(!(b&l)){var ce=Y&&y.call(_,"__wrapped__"),te=U&&y.call(S,"__wrapped__");if(ce||te){var se=ce?_.value():_,pe=te?S.value():S;return P||(P=new e),R(se,pe,b,x,P)}}return X?(P||(P=new e),r(_,S,b,x,R,P)):!1}return bC=v,bC}var SC,NF;function TO(){if(NF)return SC;NF=1;var e=Gye(),t=ju();function n(r,i,a,o,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,a,o,n,s)}return SC=n,SC}var xC,FF;function Wye(){if(FF)return xC;FF=1;var e=TO();function t(n,r){return e(n,r)}return xC=t,xC}var Qye=Wye();const Cz=Ir(Qye);var EC,jF;function Tz(){if(jF)return EC;jF=1;var e=$f(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return EC=t,EC}var CC,$F;function mb(){if($F)return CC;$F=1;var e=Tz();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return CC=t,CC}var TC,BF;function Zye(){if(BF)return TC;BF=1;function e(t){return function(n,r,i){for(var a=-1,o=Object(n),s=i(n),l=s.length;l--;){var c=s[t?l:++a];if(r(o[c],c,o)===!1)break}return n}}return TC=e,TC}var RC,UF;function Rz(){if(UF)return RC;UF=1;var e=Zye(),t=e();return RC=t,RC}var AC,qF;function Jye(){if(qF)return AC;qF=1;var e=Rz(),t=Ey();function n(r,i){return r&&e(r,i,t)}return AC=n,AC}var PC,zF;function Xye(){if(zF)return PC;zF=1;var e=cb(),t=TO(),n=1,r=2;function i(a,o,s,l){var c=s.length,d=c,h=!l;if(a==null)return!d;for(a=Object(a);c--;){var m=s[c];if(h&&m[2]?m[1]!==a[m[0]]:!(m[0]in a))return!1}for(;++c<d;){m=s[c];var y=m[0],v=a[y],_=m[1];if(h&&m[2]){if(v===void 0&&!(y in a))return!1}else{var S=new e;if(l)var b=l(v,_,y,a,o,S);if(!(b===void 0?t(_,v,n|r,l,S):b))return!1}}return!0}return PC=i,PC}var OC,HF;function Az(){if(HF)return OC;HF=1;var e=Po();function t(n){return n===n&&!e(n)}return OC=t,OC}var LC,VF;function Yye(){if(VF)return LC;VF=1;var e=Az(),t=Ey();function n(r){for(var i=t(r),a=i.length;a--;){var o=i[a],s=r[o];i[a]=[o,s,e(s)]}return i}return LC=n,LC}var IC,KF;function Pz(){if(KF)return IC;KF=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return IC=e,IC}var MC,GF;function eve(){if(GF)return MC;GF=1;var e=Xye(),t=Yye(),n=Pz();function r(i){var a=t(i);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(o){return o===i||e(o,i,a)}}return MC=r,MC}var DC,WF;function Cy(){if(WF)return DC;WF=1;var e=Qh(),t=ju(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return DC=r,DC}var kC,QF;function RO(){if(QF)return kC;QF=1;var e=rs(),t=Cy(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){if(e(a))return!1;var s=typeof a;return s=="number"||s=="symbol"||s=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||o!=null&&a in Object(o)}return kC=i,kC}var NC,ZF;function tve(){if(ZF)return NC;ZF=1;var e=vO(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var a=function(){var o=arguments,s=i?i.apply(this,o):o[0],l=a.cache;if(l.has(s))return l.get(s);var c=r.apply(this,o);return a.cache=l.set(s,c)||l,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,NC=n,NC}var FC,JF;function nve(){if(JF)return FC;JF=1;var e=tve(),t=500;function n(r){var i=e(r,function(o){return a.size===t&&a.clear(),o}),a=i.cache;return i}return FC=n,FC}var jC,XF;function rve(){if(XF)return jC;XF=1;var e=nve(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(t,function(o,s,l,c){a.push(l?c.replace(n,"$1"):s||o)}),a});return jC=r,jC}var $C,YF;function yb(){if(YF)return $C;YF=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,a=Array(i);++r<i;)a[r]=n(t[r],r,t);return a}return $C=e,$C}var BC,ej;function ive(){if(ej)return BC;ej=1;var e=Wh(),t=yb(),n=rs(),r=Cy(),i=1/0,a=e?e.prototype:void 0,o=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return t(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-i?"-0":c}return BC=s,BC}var UC,tj;function ave(){if(tj)return UC;tj=1;var e=ive();function t(n){return n==null?"":e(n)}return UC=t,UC}var qC,nj;function Zh(){if(nj)return qC;nj=1;var e=rs(),t=RO(),n=rve(),r=ave();function i(a,o){return e(a)?a:t(a,o)?[a]:n(r(a))}return qC=i,qC}var zC,rj;function Jh(){if(rj)return zC;rj=1;var e=Cy(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return zC=n,zC}var HC,ij;function vb(){if(ij)return HC;ij=1;var e=Zh(),t=Jh();function n(r,i){i=e(i,r);for(var a=0,o=i.length;r!=null&&a<o;)r=r[t(i[a++])];return a&&a==o?r:void 0}return HC=n,HC}var VC,aj;function ove(){if(aj)return VC;aj=1;var e=vb();function t(n,r,i){var a=n==null?void 0:e(n,r);return a===void 0?i:a}return VC=t,VC}var KC,oj;function sve(){if(oj)return KC;oj=1;function e(t,n){return t!=null&&n in Object(t)}return KC=e,KC}var GC,sj;function uve(){if(sj)return GC;sj=1;var e=Zh(),t=fb(),n=rs(),r=hb(),i=bO(),a=Jh();function o(s,l,c){l=e(l,s);for(var d=-1,h=l.length,m=!1;++d<h;){var y=a(l[d]);if(!(m=s!=null&&c(s,y)))break;s=s[y]}return m||++d!=h?m:(h=s==null?0:s.length,!!h&&i(h)&&r(y,h)&&(n(s)||t(s)))}return GC=o,GC}var WC,uj;function Oz(){if(uj)return WC;uj=1;var e=sve(),t=uve();function n(r,i){return r!=null&&t(r,i,e)}return WC=n,WC}var QC,lj;function lve(){if(lj)return QC;lj=1;var e=TO(),t=ove(),n=Oz(),r=RO(),i=Az(),a=Pz(),o=Jh(),s=1,l=2;function c(d,h){return r(d)&&i(h)?a(o(d),h):function(m){var y=t(m,d);return y===void 0&&y===h?n(m,d):e(h,y,s|l)}}return QC=c,QC}var ZC,cj;function AO(){if(cj)return ZC;cj=1;function e(t){return t}return ZC=e,ZC}var JC,fj;function Lz(){if(fj)return JC;fj=1;function e(t){return function(n){return n==null?void 0:n[t]}}return JC=e,JC}var XC,dj;function cve(){if(dj)return XC;dj=1;var e=vb();function t(n){return function(r){return e(r,n)}}return XC=t,XC}var YC,hj;function fve(){if(hj)return YC;hj=1;var e=Lz(),t=cve(),n=RO(),r=Jh();function i(a){return n(a)?e(r(a)):t(a)}return YC=i,YC}var e2,pj;function PO(){if(pj)return e2;pj=1;var e=eve(),t=lve(),n=AO(),r=rs(),i=fve();function a(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return e2=a,e2}var t2,gj;function dve(){if(gj)return t2;gj=1;var e=mb(),t=Jye(),n=PO();function r(i,a){var o={};return a=n(a,3),t(i,function(s,l,c){e(o,l,a(s,l,c))}),o}return t2=r,t2}var hve=dve();const mj=Ir(hve);var pve=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const gve=()=>({}),mve=(e,t)=>{if(e.length!==t.length)return!1;const n=new Set(e);return t.every(r=>n.has(r))},ya=({query:e,variables:t,fetch:n,getQueryKey:r=o=>["rdfDocument",o],staleTime:i=1/0,getAdditionalData:a=gve})=>{const o=V.useMemo(()=>mj(t,F=>new Set(F)),[t]),[s,l]=V.useState([]),[c,d]=V.useState({}),[h,m]=V.useState(new Ls),[y,v]=V.useState([]),[_,S]=V.useState(!1),b=V.useCallback(F=>{var Q;return Object.assign(Object.assign({},(Q=a(F))!==null&&Q!==void 0?Q:{}),{data:Object.fromEntries(F.map((Y,U)=>[s[U],Y==null?void 0:Y.data])),pending:F.some(Y=>Y.isPending)})},[a,s]),x=Bm({queries:s.map(F=>({queryKey:r(F),queryFn:()=>gO(F,n),staleTime:i})),combine:b}),R=V.useRef(new n3(e,o)),P=V.useRef(x.data);V.useEffect(()=>{R.current=new n3(e,o);const F=R.current.getMissingResources();l(F),m(R.current.store),P.current={}},[e,o]),V.useEffect(()=>{if(!x)return;for(const U in x.data){const X=x.data[U];if(!X)continue;const ce=P.current[U];(ce==null?void 0:ce.hash)!==X.hash&&R.current.addResource(U,X.data,X.ok?"success":"error")}const F=R.current.getMissingResources();S(F.length>0),l(U=>{const X=[];for(const ce of F)U.includes(ce)||X.push(ce);return X.length===0?U:X.concat(U)});const Q=mj(R.current.getAllVariables(),U=>Array.from(U));d(U=>Cz(Q,U)?U:Q),m(R.current.store);const Y=[...R.current.store];v(U=>mve(U,Y)?U:Y),P.current=x.data},[x]);const O=x,D=pve(O,["data","pending"]);return V.useMemo(()=>Object.assign({store:h,quads:y,variables:c,qas:R.current,isLoading:x==null?void 0:x.pending,isMissing:_},D),[_,y,h,c,D,x==null?void 0:x.pending])};var pg={},gg={},c_={},Fc={},mg={},f_={},yg={},n2={},r2={},Ai={},vg={},_g={},yj;function Iz(){if(yj)return _g;yj=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.BlankNode=void 0;let e=class{constructor(n){this.termType="BlankNode",this.value=n}equals(n){return!!n&&n.termType==="BlankNode"&&n.value===this.value}};return _g.BlankNode=e,_g}var wg={},bg={},vj;function Mz(){if(vj)return bg;vj=1,Object.defineProperty(bg,"__esModule",{value:!0}),bg.DefaultGraph=void 0;let e=class{constructor(){this.termType="DefaultGraph",this.value=""}equals(n){return!!n&&n.termType==="DefaultGraph"}};return bg.DefaultGraph=e,e.INSTANCE=new e,bg}var Sg={},xg={},_j;function OO(){if(_j)return xg;_j=1,Object.defineProperty(xg,"__esModule",{value:!0}),xg.NamedNode=void 0;let e=class{constructor(n){this.termType="NamedNode",this.value=n}equals(n){return!!n&&n.termType==="NamedNode"&&n.value===this.value}};return xg.NamedNode=e,xg}var wj;function Dz(){if(wj)return Sg;wj=1,Object.defineProperty(Sg,"__esModule",{value:!0}),Sg.Literal=void 0;const e=OO();let t=class UA{constructor(r,i){this.termType="Literal",this.value=r,typeof i=="string"?(this.language=i,this.datatype=UA.RDF_LANGUAGE_STRING):i?(this.language="",this.datatype=i):(this.language="",this.datatype=UA.XSD_STRING)}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&this.datatype.equals(r.datatype)}};return Sg.Literal=t,t.RDF_LANGUAGE_STRING=new e.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.XSD_STRING=new e.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Sg}var Eg={},bj;function kz(){if(bj)return Eg;bj=1,Object.defineProperty(Eg,"__esModule",{value:!0}),Eg.Quad=void 0;let e=class{constructor(n,r,i,a){this.termType="Quad",this.value="",this.subject=n,this.predicate=r,this.object=i,this.graph=a}equals(n){return!!n&&(n.termType==="Quad"||!n.termType)&&this.subject.equals(n.subject)&&this.predicate.equals(n.predicate)&&this.object.equals(n.object)&&this.graph.equals(n.graph)}};return Eg.Quad=e,Eg}var Cg={},Sj;function Nz(){if(Sj)return Cg;Sj=1,Object.defineProperty(Cg,"__esModule",{value:!0}),Cg.Variable=void 0;let e=class{constructor(n){this.termType="Variable",this.value=n}equals(n){return!!n&&n.termType==="Variable"&&n.value===this.value}};return Cg.Variable=e,Cg}var xj;function yve(){if(xj)return wg;xj=1,Object.defineProperty(wg,"__esModule",{value:!0}),wg.DataFactory=void 0;const e=Iz(),t=Mz(),n=Dz(),r=OO(),i=kz(),a=Nz();let o=0,s=class{constructor(c){this.blankNodeCounter=0,c=c||{},this.blankNodePrefix=c.blankNodePrefix||`df_${o++}_`}namedNode(c){return new r.NamedNode(c)}blankNode(c){return new e.BlankNode(c||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(c,d){return new n.Literal(c,d)}variable(c){return new a.Variable(c)}defaultGraph(){return t.DefaultGraph.INSTANCE}quad(c,d,h,m){return new i.Quad(c,d,h,m||this.defaultGraph())}fromTerm(c){switch(c.termType){case"NamedNode":return this.namedNode(c.value);case"BlankNode":return this.blankNode(c.value);case"Literal":return c.language?this.literal(c.value,c.language):c.datatype.equals(n.Literal.XSD_STRING)?this.literal(c.value):this.literal(c.value,this.fromTerm(c.datatype));case"Variable":return this.variable(c.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(c.subject),this.fromTerm(c.predicate),this.fromTerm(c.object),this.fromTerm(c.graph))}}fromQuad(c){return this.fromTerm(c)}resetBlankNodeCounter(){this.blankNodeCounter=0}};return wg.DataFactory=s,wg}var Ej;function vve(){return Ej||(Ej=1,function(e){var t=vg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[a]}})}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=vg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Iz(),e),n(yve(),e),n(Mz(),e),n(Dz(),e),n(OO(),e),n(kz(),e),n(Nz(),e)}(vg)),vg}var Cj;function _ve(){if(Cj)return Ai;Cj=1,Object.defineProperty(Ai,"__esModule",{value:!0}),Ai.stringQuadToQuad=Ai.quadToStringQuad=Ai.stringToTerm=Ai.getLiteralLanguage=Ai.getLiteralType=Ai.getLiteralValue=Ai.termToString=void 0;const e=vve(),t=new e.DataFactory;function n(c){if(c)switch(c.termType){case"NamedNode":return c.value;case"BlankNode":return"_:"+c.value;case"Literal":const d=c;return'"'+d.value+'"'+(d.datatype&&d.datatype.value!=="http://www.w3.org/2001/XMLSchema#string"&&d.datatype.value!=="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?"^^"+d.datatype.value:"")+(d.language?"@"+d.language:"");case"Quad":return`<<${n(c.subject)} ${n(c.predicate)} ${n(c.object)}${c.graph.termType==="DefaultGraph"?"":" "+n(c.graph)}>>`;case"Variable":return"?"+c.value;case"DefaultGraph":return c.value}}Ai.termToString=n;function r(c){const d=/^"([^]*)"/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]}Ai.getLiteralValue=r;function i(c){const d=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]||(d[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}Ai.getLiteralType=i;function a(c){const d=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(c);if(!d)throw new Error(c+" is not a literal");return d[1]?d[1].toLowerCase():""}Ai.getLiteralLanguage=a;function o(c,d){if(d=d||t,!c||!c.length)return d.defaultGraph();switch(c[0]){case"_":return d.blankNode(c.substr(2));case"?":if(!d.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return d.variable(c.substr(1));case'"':const h=a(c),m=d.namedNode(i(c));return d.literal(r(c),h||m);case"<":default:if(c[0]==="<"&&c.length>4&&c[1]==="<"&&c[c.length-1]===">"&&c[c.length-2]===">"){const y=c.slice(2,-2).trim();let v=[],_=0,S=0,b=!1;for(let x=0;x<y.length;x++){const R=y[x];if(R==="<"&&_++,R===">"){if(_===0)throw new Error("Found closing tag without opening tag in "+c);_--}if(R==='"'){let P=!1,O=x;for(;O-- >0&&y[O]==="\\";)P=!P;P||(b=!b)}if(R===" "&&!b&&_===0){for(v.push(y.slice(S,x));y[x+1]===" ";)x+=1;S=x+1}}if(_!==0)throw new Error("Found opening tag without closing tag in "+c);if(v.push(y.slice(S,y.length)),v.length!==3&&v.length!==4)throw new Error("Nested quad syntax error "+c);return v=v.map(x=>x.startsWith("<")&&!x.includes(" ")?x.slice(1,-1):x),d.quad(o(v[0]),o(v[1]),o(v[2]),v[3]?o(v[3]):void 0)}return d.namedNode(c)}}Ai.stringToTerm=o;function s(c){return{subject:n(c.subject),predicate:n(c.predicate),object:n(c.object),graph:n(c.graph)}}Ai.quadToStringQuad=s;function l(c,d){return d=d||t,d.quad(o(c.subject,d),o(c.predicate,d),o(c.object,d),o(c.graph,d))}return Ai.stringQuadToQuad=l,Ai}var Tj;function wve(){return Tj||(Tj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.termToString=e.stringToTerm=e.stringQuadToQuad=e.quadToStringQuad=e.getLiteralValue=e.getLiteralType=e.getLiteralLanguage=void 0;const t=_ve();Object.defineProperty(e,"getLiteralLanguage",{enumerable:!0,get:function(){return t.getLiteralLanguage}}),Object.defineProperty(e,"getLiteralType",{enumerable:!0,get:function(){return t.getLiteralType}}),Object.defineProperty(e,"getLiteralValue",{enumerable:!0,get:function(){return t.getLiteralValue}}),Object.defineProperty(e,"quadToStringQuad",{enumerable:!0,get:function(){return t.quadToStringQuad}}),Object.defineProperty(e,"stringQuadToQuad",{enumerable:!0,get:function(){return t.stringQuadToQuad}}),Object.defineProperty(e,"stringToTerm",{enumerable:!0,get:function(){return t.stringToTerm}}),Object.defineProperty(e,"termToString",{enumerable:!0,get:function(){return t.termToString}})}(r2)),r2}var Rj;function bve(){return Rj||(Rj=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.stringToQuadMatch=e.stringToQuad=e.stringToNode=e.stringToGraphNode=e.stringToObjectNode=e.stringToPredicateNode=e.stringToSubjectNode=e.quadMatchToString=e.quadToString=e.nodeToString=e.grpahNodeToString=e.objectNodeToString=e.predicateNodeToString=e.subjectNodeToString=e.AnyTermTypes=e.GraphTermTypes=e.ObjectTermTypes=e.PredicateTermTypes=e.SubjectTermTypes=void 0;const t=wve();e.SubjectTermTypes=new Set(["NamedNode","BlankNode"]),e.PredicateTermTypes=new Set(["NamedNode"]),e.ObjectTermTypes=new Set(["NamedNode","BlankNode","Literal"]),e.GraphTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph"]),e.AnyTermTypes=new Set(["NamedNode","BlankNode","DefaultGraph","Literal"]);function n(S){return o(S)}e.subjectNodeToString=n;function r(S){return o(S)}e.predicateNodeToString=r;function i(S){return o(S)}e.objectNodeToString=i;function a(S){return o(S)}e.grpahNodeToString=a;function o(S){return(0,t.termToString)(S)}e.nodeToString=o;function s(S){return JSON.stringify((0,t.quadToStringQuad)(S))}e.quadToString=s;function l(S){return JSON.stringify({subject:S[0]?n(S[0]):void 0,predicate:S[1]?r(S[1]):void 0,object:S[2]?i(S[2]):void 0,graph:S[3]?a(S[3]):void 0})}e.quadMatchToString=l;function c(S){return y(S,e.SubjectTermTypes)}e.stringToSubjectNode=c;function d(S){return y(S,e.PredicateTermTypes)}e.stringToPredicateNode=d;function h(S){return y(S,e.ObjectTermTypes)}e.stringToObjectNode=h;function m(S){return y(S,e.GraphTermTypes)}e.stringToGraphNode=m;function y(S,b){const x=(0,t.stringToTerm)(S);if(b&&!b.has(x.termType))throw new Error(`Expected term to be one of term type: [${Array.from(b).reduce((R,P)=>`${R}${P}, `,"")}], but got ${x.termType}.`);return x}e.stringToNode=y;function v(S){try{return(0,t.stringQuadToQuad)(JSON.parse(S))}catch{throw new Error("Invalid Quad String")}}e.stringToQuad=v;function _(S){try{const b=JSON.parse(S);return[b.subject!=null?c(b.subject):void 0,b.predicate!=null?d(b.predicate):void 0,b.object!=null?h(b.object):void 0,b.graph!=null?m(b.graph):void 0]}catch{throw new Error("Invalid Quad Match String")}}e.stringToQuadMatch=_}(n2)),n2}var Tg={},i2,Aj;function Sve(){if(Aj)return i2;Aj=1;class e{constructor(n){this.value=n||"b"+ ++e.nextId}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="BlankNode",e.nextId=0,i2=e,i2}var a2,Pj;function Fz(){if(Pj)return a2;Pj=1;class e{equals(n){return!!n&&n.termType===this.termType}}return e.prototype.termType="DefaultGraph",e.prototype.value="",a2=e,a2}var o2,Oj;function xve(){if(Oj)return o2;Oj=1;function e(t){if(!t)return null;if(t.termType==="BlankNode")return this.blankNode(t.value);if(t.termType==="DefaultGraph")return this.defaultGraph();if(t.termType==="Literal")return this.literal(t.value,t.language||this.namedNode(t.datatype.value));if(t.termType==="NamedNode")return this.namedNode(t.value);if(t.termType==="Quad"){const n=this.fromTerm(t.subject),r=this.fromTerm(t.predicate),i=this.fromTerm(t.object),a=this.fromTerm(t.graph);return this.quad(n,r,i,a)}if(t.termType==="Variable")return this.variable(t.value);throw new Error(`unknown termType ${t.termType}`)}return o2=e,o2}var s2,Lj;function jz(){if(Lj)return s2;Lj=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="NamedNode",s2=e,s2}var u2,Ij;function Eve(){if(Ij)return u2;Ij=1;const e=jz();class t{constructor(r,i,a){this.value=r,this.datatype=t.stringDatatype,this.language="",i?(this.language=i,this.datatype=t.langStringDatatype):a&&(this.datatype=a)}equals(r){return!!r&&r.termType===this.termType&&r.value===this.value&&r.language===this.language&&r.datatype.equals(this.datatype)}}return t.prototype.termType="Literal",t.langStringDatatype=new e("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),t.stringDatatype=new e("http://www.w3.org/2001/XMLSchema#string"),u2=t,u2}var l2,Mj;function Cve(){if(Mj)return l2;Mj=1;const e=Fz();class t{constructor(r,i,a,o){this.subject=r,this.predicate=i,this.object=a,o?this.graph=o:this.graph=new e}equals(r){return!!r&&(r.termType==="Quad"||!r.termType)&&r.subject.equals(this.subject)&&r.predicate.equals(this.predicate)&&r.object.equals(this.object)&&r.graph.equals(this.graph)}}return t.prototype.termType="Quad",t.prototype.value="",l2=t,l2}var c2,Dj;function Tve(){if(Dj)return c2;Dj=1;class e{constructor(n){this.value=n}equals(n){return!!n&&n.termType===this.termType&&n.value===this.value}}return e.prototype.termType="Variable",c2=e,c2}var f2,kj;function Rve(){if(kj)return f2;kj=1;const e=Sve(),t=Fz(),n=xve(),r=Eve(),i=jz(),a=Cve(),o=Tve();function s(b){return new i(b)}function l(b){return new e(b)}function c(b,x){return typeof x=="string"?x.indexOf(":")===-1?new r(b,x):new r(b,null,S.namedNode(x)):new r(b,null,x)}function d(b){return new o(b)}function h(){return S.defaultGraphInstance}function m(b,x,R){return S.quad(b,x,R)}function y(b,x,R,P){return new a(b,x,R,P||S.defaultGraphInstance)}function v(b){return n.call(S,b)}function _(b){return n.call(S,b)}const S={namedNode:s,blankNode:l,literal:c,variable:d,defaultGraph:h,triple:m,quad:y,fromTerm:v,fromQuad:_,defaultGraphInstance:new t};return f2=S,f2}var d2,Nj;function Qi(){return Nj||(Nj=1,d2=Rve()),d2}var jc={};const $z=RU(yre);var Fj;function Bz(){if(Fj)return jc;Fj=1,Object.defineProperty(jc,"__esModule",{value:!0}),jc.datasetToJsonLd=jc.datasetToString=void 0;const e=$z;function t(r,i){const a=new e.Writer(i),o=[];for(const s of r)o.push(s);return a.quadsToString(o)}jc.datasetToString=t;async function n(r,i){throw new Error("JSONLD serialization is not omplemented")}return jc.datasetToJsonLd=n,jc}var jj;function Ave(){if(jj)return Tg;jj=1,Object.defineProperty(Tg,"__esModule",{value:!0}),Tg.changesToSparqlUpdate=void 0;const e=Qi(),t=Bz();async function n(r){let i="";if(r.removed){const a=r.removed.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`DELETE DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}if(r.added&&r.removed&&(i+="; "),r.added){const a=r.added.map(o=>(0,e.quad)(o.subject,o.predicate,o.object));i+=`INSERT DATA { ${await(0,t.datasetToString)(a,{format:"N-Triples"})} }`}return i.replaceAll(`
`," ")}return Tg.changesToSparqlUpdate=n,Tg}var Rg={},$j;function Pve(){if($j)return Rg;$j=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.serializedToQuads=void 0;const e=$z;async function t(n,r){if(r&&r.format==="application/ld+json")throw new Error("Not Implemented");return new e.Parser(r).parse(n)}return Rg.serializedToQuads=t,Rg}var Bj;function Ty(){return Bj||(Bj=1,function(e){var t=yg.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var s=Object.getOwnPropertyDescriptor(i,a);(!s||("get"in s?!i.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,s)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=yg.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(bve(),e),n(Ave(),e),n(Bz(),e),n(Pve(),e)}(yg)),yg}var Uj;function Uz(){if(Uj)return f_;Uj=1,Object.defineProperty(f_,"__esModule",{value:!0});const e=Ty(),t=j9();let n=class qA{constructor(i,a){this.dataset=i,this.datasetCoreFactory=a}createBlankDataset(){return new qA(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)}addAll(i){for(const a of i)this.add(a);return this}contains(i){if(i.size>this.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}deleteMatches(i,a,o,s){const l=this.match(i,a,o,s);for(const c of l)this.dataset.delete(c);return this}difference(i){const a=this.createBlankDataset();for(const o of this)i.has(o)||a.add(o);return a}equals(i){if(this.size!==i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}every(i){for(const a of this)if(!i(a,this))return!1;return!0}filter(i){const a=this.createBlankDataset();for(const o of this)i(o,this)&&a.add(o);return a}forEach(i){for(const a of this)i(a,this)}import(i){return new Promise((a,o)=>{i.on("data",s=>{this.add(s)}).on("end",()=>{a(this)}).on("error",s=>o(s))})}intersection(i){const a=this.createBlankDataset(),o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}map(i){const a=this.createBlankDataset();for(const o of this)a.add(i(o,this));return a}reduce(i,a){if(this.size===0&&a==null)throw new Error("Cannot reduce an empty Dataset without an initial value.");const o=this[Symbol.iterator]();let s=o.next(),l=a;for(;!s.done;)l=i(l,s.value,this),s=o.next();return l}some(i){for(const a of this)if(i(a,this))return!0;return!1}toArray(){const i=[];for(const a of this)i.push(a);return i}toCanonical(){throw new Error("Method not implemented.")}toStream(){const i=this[Symbol.iterator]();let a=i.next();return new t.Readable({objectMode:!0,read(){if(a.done||!a.value){this.push(null);return}this.push(a.value),a=i.next()}})}toString(){return(0,e.datasetToString)(this,{format:"N-Triples"})}union(i){const a=this.createBlankDataset();for(const o of this)a.add(o);for(const o of i)a.add(o);return a}match(i,a,o,s){return new qA(this.dataset.match(i,a,o,s),this.datasetCoreFactory)}get size(){return this.dataset.size}add(i){return this.dataset.add(i),this}delete(i){return this.dataset.delete(i),this}has(i){return!!this.dataset.has(i)}[Symbol.iterator](){return this.dataset[Symbol.iterator]()}};return f_.default=n,f_}var qj;function qz(){if(qj)return mg;qj=1;var e=mg.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(mg,"__esModule",{value:!0});const t=e(Uz());let n=class{constructor(i){this.datasetCoreFactory=i}dataset(i){return new t.default(this.datasetCoreFactory.dataset(i),this.datasetCoreFactory)}};return mg.default=n,mg}var h2,zj;function Ove(){if(zj)return h2;zj=1;function e(o){return typeof o=="string"||o instanceof String}const t="http://www.w3.org/2001/XMLSchema#string";function n(o){if(typeof o=="string")return o;if(!o)return"";if(typeof o.id<"u"&&o.termType!=="Quad")return o.id;let s,l,c,d;switch(o.termType){case"NamedNode":return o.value;case"BlankNode":return`_:${o.value}`;case"Variable":return`?${o.value}`;case"DefaultGraph":return"";case"Literal":return o.language?`"${o.value}"@${o.language}`:`"${o.value}"${o.datatype&&o.datatype.value!==t?`^^${o.datatype.value}`:""}`;case"Quad":return s=i(n(o.subject)),l=i(n(o.predicate)),c=i(n(o.object)),d=o.graph.termType==="DefaultGraph"?"":` ${n(o.graph)}`,`<<${s} ${l} ${c}${d}>>`;default:throw new Error(`Unexpected termType: ${o.termType}`)}}const r=/^"(.*".*)(?="[^"]*$)/;function i(o){return o.replace(r,(s,l)=>`"${l.replace(/"/g,'""')}`)}class a{constructor(s){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,s)for(const l of s)this.add(l)}get size(){let s=this._size;if(s!==null)return s;s=0;const l=this._graphs;let c,d;for(const h in l)for(const m in c=l[h].subjects)for(const y in d=c[m])s+=Object.keys(d[y]).length;return this._size=s,this._size}add(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph);let m=this._graphs[h];m||(m=this._graphs[h]={subjects:{},predicates:{},objects:{}},Object.freeze(m));const y=this._ids,v=this._entities;return l=y[l]||(y[v[++this._id]=l]=this._id),c=y[c]||(y[v[++this._id]=c]=this._id),d=y[d]||(y[v[++this._id]=d]=this._id),this._addToIndex(m.subjects,l,c,d),this._addToIndex(m.predicates,c,d,l),this._addToIndex(m.objects,d,l,c),this._setQuad(l,c,d,h,s),this._size=null,this}delete(s){let l=n(s.subject),c=n(s.predicate),d=n(s.object);const h=n(s.graph),m=this._ids,y=this._graphs;let v,_,S;if(!(l=m[l])||!(c=m[c])||!(d=m[d])||!(v=y[h])||!(_=v.subjects[l])||!(S=_[c])||!(d in S))return this;this._removeFromIndex(v.subjects,l,c,d),this._removeFromIndex(v.predicates,c,d,l),this._removeFromIndex(v.objects,d,l,c),this._size!==null&&this._size--,this._deleteQuad(l,c,d,h);for(l in v.subjects)return this;return delete y[h],this}has(s){const l=n(s.subject),c=n(s.predicate),d=n(s.object),h=n(s.graph),m=this._graphs[h];if(!m)return!1;const y=this._ids;let v,_,S;return e(l)&&!(v=y[l])||e(c)&&!(_=y[c])||e(d)&&!(S=y[d])?!1:this._countInIndex(m.objects,S,v,_)===1}match(s,l,c,d){return this._createDataset(this._match(s,l,c,d))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(s,l,c,d){const h=s[l]||(s[l]={}),m=h[c]||(h[c]={}),y=d in m;return y||(m[d]=null),!y}_removeFromIndex(s,l,c,d){const h=s[l],m=h[c];delete m[d];for(const y in m)return;delete h[c];for(const y in h)return;delete s[l]}_findInIndex(s,l,c,d,h,m,y,v,_,S){let b,x,R;l&&((b=s,s={})[l]=b[l]);for(const P in s)if(x=s[P],x){c&&((b=x,x={})[c]=b[c]);for(const O in x)if(R=x[O],R){const D=d?d in R?[d]:[]:Object.keys(R);for(let F=0;F<D.length;F++){const Q={[h]:P,[m]:O,[y]:D[F]},Y=this._getQuad(Q.subject,Q.predicate,Q.object,v);if(S)S.push(Y);else if(_(Y))return!0}}}return S}_countInIndex(s,l,c,d){let h=0,m,y,v;l&&((m=s,s={})[l]=m[l]);for(const _ in s)if(y=s[_],y){c&&((m=y,y={})[c]=m[c]);for(const S in y)v=y[S],v&&(d?d in v&&h++:h+=Object.keys(v).length)}return h}_getGraphs(s){return e(s)?{[s]:this._graphs[s]}:this._graphs}_match(s,l,c,d){s=s&&n(s),l=l&&n(l),c=c&&n(c),d=d&&n(d);const h=[],m=this._getGraphs(d),y=this._ids;let v,_,S,b;if(e(s)&&!(_=y[s])||e(l)&&!(S=y[l])||e(c)&&!(b=y[c]))return h;for(const x in m)v=m[x],v&&(_?b?this._findInIndex(v.objects,b,_,S,"object","subject","predicate",x,null,h):this._findInIndex(v.subjects,_,S,null,"subject","predicate","object",x,null,h):S?this._findInIndex(v.predicates,S,b,null,"predicate","object","subject",x,null,h):b?this._findInIndex(v.objects,b,null,null,"object","subject","predicate",x,null,h):this._findInIndex(v.subjects,null,null,null,"subject","predicate","object",x,null,h));return h}_getQuad(s,l,c,d){return this._quads.get(this._toId(s,l,c,d))}_setQuad(s,l,c,d,h){this._quads.set(this._toId(s,l,c,d),h)}_deleteQuad(s,l,c,d){this._quads.delete(this._toId(s,l,c,d))}_createDataset(s){return new this.constructor(s)}_toId(s,l,c,d){return`${s}:${l}:${c}:${d}`}}return h2=a,h2}var p2,Hj;function Lve(){if(Hj)return p2;Hj=1;const e=Qi(),t=Ove();function n(r){return new t(r)}return p2=Object.assign({dataset:n},e),p2}var Vj;function zz(){if(Vj)return Fc;Vj=1;var e=Fc.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Fc,"__esModule",{value:!0}),Fc.createExtendedDatasetFactory=void 0;const t=e(qz()),n=Lve();function r(){const a={dataset:o=>(0,n.dataset)(Array.isArray(o)?o:o==null?void 0:o.toArray())};return new t.default(a)}Fc.createExtendedDatasetFactory=r;function i(a){return r().dataset(a)}return Fc.default=i,Fc}var d_={},Kj;function Hz(){if(Kj)return d_;Kj=1,Object.defineProperty(d_,"__esModule",{value:!0});const e=Ty();async function t(n,r,i){const a=await(0,e.serializedToQuads)(r,i);return n.dataset(a)}return d_.default=t,d_}var Ag={},Gj;function Ive(){if(Gj)return Ag;Gj=1;var e=Ag.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ag,"__esModule",{value:!0});const t=e(Hz()),n=zz();async function r(i,a){const o=(0,n.createExtendedDatasetFactory)();return(0,t.default)(o,i,a)}return Ag.default=r,Ag}var Wj;function Bf(){return Wj||(Wj=1,function(e){var t=c_.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(e,"__esModule",{value:!0}),e.ExtendedDatasetFactory=e.ExtendedDataset=e.serializedToDataset=e.createDatasetFromSerializedInput=e.createDatasetFactory=e.createDataset=void 0;var n=zz();Object.defineProperty(e,"createDataset",{enumerable:!0,get:function(){return t(n).default}}),Object.defineProperty(e,"createDatasetFactory",{enumerable:!0,get:function(){return n.createExtendedDatasetFactory}});var r=Hz();Object.defineProperty(e,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return t(r).default}});var i=Ive();Object.defineProperty(e,"serializedToDataset",{enumerable:!0,get:function(){return t(i).default}});var a=Uz();Object.defineProperty(e,"ExtendedDataset",{enumerable:!0,get:function(){return t(a).default}});var o=qz();Object.defineProperty(e,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return t(o).default}})}(c_)),c_}var $c={},Pg={},Og={},fu={},Lg={},Ig={},Qj;function LO(){if(Qj)return Ig;Qj=1,Object.defineProperty(Ig,"__esModule",{value:!0}),Ig.SubscribableDataset=void 0;const e=qh(),t=Ty(),n=Bf();let r=class extends n.ExtendedDataset{constructor(a,o,s){super(s||a.dataset(),a),this.listenerHashMap=new Map,this.transactionDatasetFactory=o,this.eventEmitter=new e.EventEmitter,this.datasetFactory=a}superAddAll(a){for(const o of a)super.add(o);return this}addAll(a){return this.superAddAll(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(a)}),this}bulk(a){return a.added&&this.superAddAll(a.added),a.removed&&a.removed.forEach(o=>{super.delete(o)}),this.triggerSubscriptionForQuads(a),this}deleteMatches(a,o,s,l){const c=super.match(a,o,s,l);for(const d of c)super.delete(d);return this.triggerSubscriptionForQuads({removed:c}),this}add(a){return super.add(a),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([a])}),this}delete(a){return super.delete(a),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([a])}),this}triggerSubscriptionForQuads(a){const o={},s=l=>{const c=a[l];c==null||c.forEach(d=>{const h=d;[[null,null,null,null],[h.subject,null,null,null],[h.subject,h.predicate,null,null],[h.subject,null,h.object,null],[null,h.predicate,null,null],[null,h.predicate,h.object,null],[null,null,h.object,null],[h.subject,h.predicate,h.object,null],[null,null,null,h.graph],[h.subject,null,null,h.graph],[h.subject,h.predicate,null,h.graph],[h.subject,null,h.object,h.graph],[null,h.predicate,null,h.graph],[null,h.predicate,h.object,h.graph],[null,null,h.object,h.graph],[h.subject,h.predicate,h.object,h.graph]].forEach(y=>{var _;const v=(0,t.quadMatchToString)(y);this.eventEmitter.listenerCount(v)>0&&(o[v]||(o[v]={}),o[v][l]||(o[v][l]=this.datasetFactory.dataset()),(_=o[v][l])==null||_.add(d))})})};s("added"),s("removed"),Object.entries(o).forEach(([l,c])=>{this.eventEmitter.emit(l,c)})}addListener(a,o){return this.on(a,o)}emit(a,o){return this.eventEmitter.emit((0,t.quadMatchToString)(a),o)}eventNames(){return this.eventEmitter.eventNames().map(a=>(0,t.stringToQuadMatch)(a))}getMaxListeners(){return this.eventEmitter.getMaxListeners()}listenerCount(a){return this.eventEmitter.listenerCount((0,t.quadMatchToString)(a))}listeners(a){return this.eventEmitter.listeners((0,t.quadMatchToString)(a))}off(a,o){this.removeListener(a,o)}on(a,o){var l;const s=(0,t.quadMatchToString)(a);return this.listenerHashMap.has(o)||this.listenerHashMap.set(o,new Set),(l=this.listenerHashMap.get(o))==null||l.add(s),this.eventEmitter.on(s,o),this}once(a,o){return this.eventEmitter.once((0,t.quadMatchToString)(a),o),this}prependListener(a,o){return this.eventEmitter.prependListener((0,t.quadMatchToString)(a),o),this}prependOnceListener(a,o){return this.eventEmitter.prependOnceListener((0,t.quadMatchToString)(a),o),this}removeAllListeners(a){return this.eventEmitter.removeAllListeners((0,t.quadMatchToString)(a)),this}removeListener(a,o){return this.eventEmitter.removeListener((0,t.quadMatchToString)(a),o),this}removeListenerFromAllEvents(a){const o=this.listenerHashMap.get(a);return o&&o.forEach(s=>{this.eventEmitter.off(s,a)}),this}setMaxListeners(a){return this.eventEmitter.setMaxListeners(a),this}rawListeners(a){return this.eventEmitter.rawListeners((0,t.quadMatchToString)(a))}startTransaction(){return this.transactionDatasetFactory.transactionDataset(this)}};return Ig.SubscribableDataset=r,Ig}var Zj;function Vz(){if(Zj)return Lg;Zj=1,Object.defineProperty(Lg,"__esModule",{value:!0}),Lg.SubscribableDatasetFactory=void 0;const e=LO();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i}dataset(r){return new e.SubscribableDataset(this.datasetFactory,this.transactionDatasetFactory,r?this.datasetFactory.dataset(r):void 0)}};return Lg.SubscribableDatasetFactory=t,Lg}var Mg={},Dg={},kg={},Jj;function Kz(){if(Jj)return kg;Jj=1,Object.defineProperty(kg,"__esModule",{value:!0}),kg.mergeDatasetChanges=void 0;function e(t,n){var r,i,a,o;if(n.added){t.added?t.added.addAll(n.added):t.added=n.added;const s=(r=t.removed)==null?void 0:r.intersection(n.added);s&&s.size>0&&(t.removed=(i=t.removed)==null?void 0:i.difference(s))}if(n.removed){t.removed?t.removed.addAll(n.removed):t.removed=n.removed;const s=(a=t.added)==null?void 0:a.intersection(n.removed);s&&s.size>0&&(t.added=(o=t.added)==null?void 0:o.difference(s))}t.added&&t.added.size===0&&(t.added=void 0),t.removed&&t.removed.size===0&&(t.removed=void 0)}return kg.mergeDatasetChanges=e,kg}var Ng={},Xj;function Gz(){if(Xj)return Ng;Xj=1,Object.defineProperty(Ng,"__esModule",{value:!0}),Ng.updateDatasetInBulk=void 0;function e(t,n){t.bulk?t.bulk(n):(n.added&&t.addAll(n.added),n.removed&&n.removed.forEach(r=>{t.delete(r)}))}return Ng.updateDatasetInBulk=e,Ng}var Yj;function Wz(){if(Yj)return Dg;Yj=1,Object.defineProperty(Dg,"__esModule",{value:!0}),Dg.TransactionDataset=void 0;const e=Kz(),t=LO(),n=Gz();let r=class extends t.SubscribableDataset{constructor(a,o,s){super(o,s,o.dataset()),this.parentDataset=a,this.datasetChanges={}}addAll(a){return this.updateDatasetChanges({added:a}),this}bulk(a){return this.updateDatasetChanges(a),this}deleteMatches(a,o,s,l){this.checkIfTransactionCommitted();const c=this.match(a,o,s,l);for(const d of c)this.delete(d);return this}match(a,o,s,l){let c=this.parentDataset.match(a,o,s,l);return this.datasetChanges.removed&&(c=c.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(c=c.union(this.datasetChanges.added.match(a,o,s,l))),c}get size(){var a,o;return this.parentDataset.size+(((a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset).size)||0)-(((o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset).size)||0)}add(a){return this.updateDatasetChanges({added:[a]}),this}delete(a){return this.updateDatasetChanges({removed:[a]}),this}has(a){var o,s;return!((o=this.datasetChanges.removed)!=null&&o.has(a))&&(((s=this.datasetChanges.added)==null?void 0:s.has(a))||this.parentDataset.has(a))}[Symbol.iterator](){const a=(this.datasetChanges.added||[])[Symbol.iterator]();let o=a.next();const s=this.parentDataset[Symbol.iterator]();let l=s.next();return{next:()=>{if(!o||!o.done){const c=o;return o=a.next(),c}for(;!l.done;){const c=l;if(l=s.next(),!(this.datasetChanges.added&&this.datasetChanges.added.has(c.value))&&!(this.datasetChanges.removed&&this.datasetChanges.removed.has(c.value)))return c}return{value:void 0,done:!0}}}}checkIfTransactionCommitted(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")}updateDatasetChanges(a){this.checkIfTransactionCommitted(),(0,e.mergeDatasetChanges)(this.datasetChanges,{added:a.added?this.datasetFactory.dataset(a.added):void 0,removed:a.removed?this.datasetFactory.dataset(a.removed):void 0})}updateParentDataset(a){return(0,n.updateDatasetInBulk)(this.parentDataset,a)}commit(){var a,o;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:(a=this.datasetChanges.added)==null?void 0:a.difference(this.parentDataset),removed:(o=this.datasetChanges.removed)==null?void 0:o.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)}rollback(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0}getChanges(){return this.datasetChanges}};return Dg.TransactionDataset=r,Dg}var e4;function Qz(){if(e4)return Mg;e4=1,Object.defineProperty(Mg,"__esModule",{value:!0}),Mg.TransactionDatasetFactory=void 0;const e=Wz();let t=class{constructor(r,i){this.datasetFactory=r,this.transactionDatasetFactory=i||this}transactionDataset(r){return new e.TransactionDataset(r,this.datasetFactory,this.transactionDatasetFactory)}};return Mg.TransactionDatasetFactory=t,Mg}var t4;function Zz(){if(t4)return fu;t4=1,Object.defineProperty(fu,"__esModule",{value:!0}),fu.createSubscribableDataset=fu.createSubscribableDatasetFactory=fu.createTransactionDatasetFactory=void 0;const e=Bf(),t=Vz(),n=Qz(),r={dataset:s=>(0,e.createDataset)(s)};function i(){return new n.TransactionDatasetFactory(r)}fu.createTransactionDatasetFactory=i;function a(){return new t.SubscribableDatasetFactory(r,i())}fu.createSubscribableDatasetFactory=a;function o(s){return a().dataset(s)}return fu.createSubscribableDataset=o,fu}var Fg={},n4;function Mve(){if(n4)return Fg;n4=1,Object.defineProperty(Fg,"__esModule",{value:!0}),Fg.createWrapperSubscribableDatasetFromSerializedInput=void 0;const e=Bf(),t=Zz();async function n(r,i){const a=(0,t.createSubscribableDatasetFactory)();return(0,e.createDatasetFromSerializedInput)(a,r,i)}return Fg.createWrapperSubscribableDatasetFromSerializedInput=n,Fg}var g2={},r4;function Dve(){return r4||(r4=1,Object.defineProperty(g2,"__esModule",{value:!0})),g2}var i4;function Ry(){return i4||(i4=1,function(e){var t=Og.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=Og.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.serializedToSubscribableDataset=void 0,n(Zz(),e);var r=Mve();Object.defineProperty(e,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return r.createWrapperSubscribableDatasetFromSerializedInput}}),n(Wz(),e),n(Qz(),e),n(LO(),e),n(Vz(),e),n(Dve(),e),n(Kz(),e),n(Gz(),e)}(Og)),Og}var Ad={},jg={},$g={},Bg={},a4;function Jz(){if(a4)return Bg;a4=1,Object.defineProperty(Bg,"__esModule",{value:!0}),Bg.ContextUtil=void 0;const e={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"};let t=class{constructor(r){this.context=r,this.iriToKeyMap={},this.iriToKeyMap=this.createIriToKeyMap(r),this.typeNameToIriToKeyMap={},Object.entries(r).forEach(([i,a])=>{typeof a=="object"&&a!==null&&a["@id"]&&a["@context"]&&(this.typeNameToIriToKeyMap[i]=this.createIriToKeyMap(a["@context"]))})}createIriToKeyMap(r){const i={};return Object.entries(r).forEach(([a,o])=>{if(typeof o=="string")i[this.keyIdToIri(o)]=a;else if(typeof o=="object"&&o!==null&&o["@id"]){const s=this.keyIdToIri(o["@id"]);i[s]=a}}),i}getRelevantContext(r,i){var a,o,s;for(const l of i){const c=this.iriToKey(l.value,[]);if(typeof this.context[c]=="object"&&((a=this.context[c])!=null&&a["@context"])&&((o=this.context[c])!=null&&o["@context"][r]))return(s=this.context[c])==null?void 0:s["@context"]}return this.context}keyIdToIri(r){return e[r]?e[r]:r}keyToIri(r,i){const a=this.getRelevantContext(r,i);if(a[r]){if(typeof a[r]=="string")return this.keyIdToIri(a[r]);if(a[r]&&a[r]["@id"])return this.keyIdToIri(a[r]["@id"])}else return r;return r}iriToKey(r,i){var o;let a=this.iriToKeyMap;for(const s of i){const l=this.iriToKey(s.value,[]);a=(o=this.typeNameToIriToKeyMap[l])!=null&&o[r]?this.typeNameToIriToKeyMap[l]:this.iriToKeyMap}return a[r]?a[r]:r}getDataType(r,i){const a=this.getRelevantContext(r,i);return typeof a[r]=="object"&&a[r]["@type"]?a[r]["@type"]:"http://www.w3.org/2001/XMLSchema#string"}isSet(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&(a[r]["@container"]==="@set"||a[r]["@isCollection"]))}isLangString(r,i){const a=this.getRelevantContext(r,i);return!!(a[r]&&typeof a[r]=="object"&&a[r]["@type"]&&a[r]["@type"]==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString")}};return Bg.ContextUtil=t,Bg}var Ug={},o4;function Xz(){if(o4)return Ug;o4=1,Object.defineProperty(Ug,"__esModule",{value:!0}),Ug.JsonldDatasetProxyBuilder=void 0;const e=Qi();let t=class zA{constructor(r){this.proxyContext=r}write(...r){return new zA(this.proxyContext.duplicate({writeGraphs:r}))}setLanguagePreferences(...r){return new zA(this.proxyContext.duplicate({languageOrdering:r}))}fromSubject(r){return this.proxyContext.createSubjectProxy(r)}matchSubject(r,i,a){return this.proxyContext.createSetProxy([null,r,i,a],!0)}matchObject(r,i,a){return this.proxyContext.createSetProxy([r,i,null,a])}fromJson(r){const i=r["@id"]?(0,e.namedNode)(r["@id"]):(0,e.blankNode)(),a=this.fromSubject(i);return Object.entries(r).forEach(([o,s])=>{a[o]=s}),a}};return Ug.JsonldDatasetProxyBuilder=t,Ug}var qg={},zg={},du={},Bc={},Pi={},s4;function Oo(){return s4||(s4=1,Object.defineProperty(Pi,"__esModule",{value:!0}),Pi._writeGraphs=Pi._proxyContext=Pi._getUnderlyingDataset=Pi._isLangString=Pi._isSubjectOriented=Pi._getUnderlyingMatch=Pi._getUnderlyingNode=void 0,Pi._getUnderlyingNode=Symbol("_getUnderlyingNode"),Pi._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),Pi._isSubjectOriented=Symbol("_isSubjectOriented"),Pi._isLangString=Symbol("_isLangString"),Pi._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),Pi._proxyContext=Symbol("_proxyContext"),Pi._writeGraphs=Symbol("_writeGraphs")),Pi}var u4;function Xh(){if(u4)return Bc;u4=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.getNodeFromRawValue=Bc.getNodeFromRawObject=void 0;const e=Qi(),t=Oo();function n(i,a){return i[t._getUnderlyingNode]?i[t._getUnderlyingNode]:i["@id"]?typeof i["@id"]=="string"?(0,e.namedNode)(a.keyToIri(i["@id"],[])):i["@id"]:(0,e.blankNode)()}Bc.getNodeFromRawObject=n;function r(i,a,o){if(i!=null)return typeof i=="string"||typeof i=="boolean"||typeof i=="number"?o?o==="@id"?(0,e.namedNode)(i.toString()):(0,e.literal)(i.toString(),o):void 0:typeof i.termType=="string"&&(i.termType==="NamedNode"||i.termType==="BlankNode")?i:n(i,a.contextUtil)}return Bc.getNodeFromRawValue=r,Bc}var Uc={},l4;function Yh(){if(l4)return Uc;l4=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.getSubjectProxyFromObject=Uc.isSubjectProxy=void 0;const e=Oo();function t(r){if(!r||typeof r!="object")return!1;const i=r;return!(typeof i[e._writeGraphs]!="object"||typeof i[e._getUnderlyingDataset]!="object"||typeof i[e._getUnderlyingNode]!="object"||typeof i[e._proxyContext]!="object")}Uc.isSubjectProxy=t;function n(r){const i=r;if(!t(i))throw new Error(`${r} is not a Jsonld Dataset Proxy Subject`);return i}return Uc.getSubjectProxyFromObject=n,Uc}var qc={},c4;function IO(){if(c4)return qc;c4=1,Object.defineProperty(qc,"__esModule",{value:!0}),qc.NodeSet=qc.nodeToString=void 0;function e(n){if(n==null)return"null";switch(n.termType){case"NamedNode":return`namedNode(${n.value})`;case"BlankNode":return`blankNode(${n.value})`;case"Literal":return`literal(${n.value},${n.datatype.value})`;case"DefaultGraph":return"defaultGraph()"}}qc.nodeToString=e;let t=class{constructor(){this.set=new Set,this.map={}}add(r){const i=e(r);this.set.add(i),this.map[i]=r}has(r){return this.set.has(e(r))}};return qc.NodeSet=t,qc}var pi={},f4;function ep(){if(f4)return pi;f4=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.literalLanguageToLanguageKey=pi.languageKeyToLiteralLanguage=pi.getLanguageKeyForWriteOperation=pi.filterQuadsByLanguageOrdering=pi.quadsToLanguageQuadMap=pi.isLanguageLiteral=pi.languageDeleteMatch=pi.languageMatch=void 0;const e=Bf();function t(c,d,h,m){const y=s(m);return c.match(d,h).filter(v=>r(v.object)&&v.object.language===y)}pi.languageMatch=t;function n(c,d,h,m){t(c,d,h,m).forEach(v=>{c.delete(v)})}pi.languageDeleteMatch=n;function r(c){return c.termType==="Literal"&&(c.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"||c.datatype.value==="http://www.w3.org/2001/XMLSchema#string")}pi.isLanguageLiteral=r;function i(c){const d={};return c.forEach(h=>{const m=h.object;if(r(m)){const y=l(m.language);d[y]||(d[y]=(0,e.createDataset)()),d[y].add(h)}}),d}pi.quadsToLanguageQuadMap=i;function a(c,d){const h=i(c),m=new Set(d),y=new Set(Object.keys(h));for(const v of d){if(y.has(v))return h[v];if(v==="@other"){for(const _ of y)if(!m.has(_))return h[_]}}return(0,e.createDataset)()}pi.filterQuadsByLanguageOrdering=a;function o(c){return c.find(d=>d!=="@other")}pi.getLanguageKeyForWriteOperation=o;function s(c){return c==="@none"?"":c}pi.languageKeyToLiteralLanguage=s;function l(c){return c===""?"@none":c}return pi.literalLanguageToLanguageKey=l,pi}var Hg={},d4;function _b(){if(d4)return Hg;d4=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.BasicLdSet=void 0;const e=Oo(),t=Qi();let n=class Em{constructor(i){if(this.hashMap=new Map,i)for(const a of i)this.add(a)}hashFn(i){return typeof i!="object"?i.toString():i[e._getUnderlyingNode]?i[e._getUnderlyingNode].value:i["@id"]?typeof i["@id"]=="string"?i["@id"]:i["@id"].value:(0,t.blankNode)().value}add(i){const a=this.hashFn(i);return this.hashMap.has(a)||this.hashMap.set(a,i),this}clear(){this.hashMap.clear()}delete(i){const a=this.hashFn(i);return this.hashMap.delete(a)}has(i){const a=this.hashFn(i);return this.hashMap.has(a)}get size(){return this.hashMap.size}*entries(){for(const[,i]of this.hashMap.entries())yield[i,i]}keys(){return this.hashMap.values()}values(){return this.hashMap.values()}[Symbol.iterator](){return this.hashMap.values()}get[Symbol.toStringTag](){return"BasicLdSet"}every(i,a){for(const o of this)if(!i.call(a,o,this))return!1;return!0}some(i,a){for(const o of this)if(i.call(a,o,this))return!0;return!1}forEach(i,a){for(const o of this)i.call(a,o,o,this)}map(i,a){const o=[];for(const s of this)o.push(i.call(a,s,this));return o}filter(i,a){const o=new Em;for(const s of this)i.call(a,s,this)&&o.add(s);return o}reduce(i,a){const o=this[Symbol.iterator]();let s;if(a===void 0){const c=o.next();if(c.done)throw new TypeError("Reduce of empty collection with no initial value");s=c.value}else s=a;let l=o.next();for(;!l.done;)s=i(s,l.value,this),l=o.next();return s}toArray(){const i=[];return this.forEach(a=>i.push(a)),i}toJSON(){return this.toArray()}difference(i){return this.filter(a=>!i.has(a))}intersection(i){const a=new Em,o=this.size<i.size?this:i,s=this.size<i.size?i:this;for(const l of o)s.has(l)&&a.add(l);return a}isDisjointFrom(i){const a=this.size<i.size?this:i,o=this.size<i.size?i:this;for(const s of a)if(o.has(s))return!1;return!0}isSubsetOf(i){if(this.size>i.size)return!1;for(const a of this)if(!i.has(a))return!1;return!0}isSupersetOf(i){if(this.size<i.size)return!1;for(const a of i)if(!this.has(a))return!1;return!0}symmetricDifference(i){const a=new Em;return this.forEach(o=>a.add(o)),i.forEach(o=>{a.has(o)?a.delete(o):a.add(o)}),a}union(i){const a=new Em;return this.forEach(o=>a.add(o)),i.forEach(o=>a.add(o)),a}};return Hg.BasicLdSet=n,Hg}var h4;function Ay(){if(h4)return du;h4=1,Object.defineProperty(du,"__esModule",{value:!0}),du.addObjectToDataset=du.addRawObjectToDatasetRecursive=du.addRawValueToDatasetRecursive=void 0;const e=Qi(),t=Xh(),n=Yh(),r=IO(),i=ep(),a=_b();function o(c,d,h,m,y,v){const{dataset:_,contextUtil:S}=v,b=v.getRdfType(c),x=(0,e.namedNode)(S.keyToIri(d,b)),R=(0,t.getNodeFromRawValue)(h,v,S.getDataType(d,b));if(R==null)_.deleteMatches(c,x);else if(R.termType==="Literal"){let P=R;if(S.isLangString(d,b)){const O=(0,i.getLanguageKeyForWriteOperation)(v.languageOrdering);if(!O)return;P=(0,e.literal)(R.value,(0,i.languageKeyToLiteralLanguage)(O))}v.writeGraphs.forEach(O=>{v.dataset.add((0,e.quad)(c,x,P,O))})}else if(v.writeGraphs.forEach(P=>{_.add((0,e.quad)(c,x,R,P))}),!(0,n.isSubjectProxy)(h)){const P=typeof h=="object"?{...h,"@id":R}:{"@id":R};s(P,m,y,v)}}du.addRawValueToDatasetRecursive=o;function s(c,d,h,m){const{dataset:y}=m,v=(0,t.getNodeFromRawObject)(c,m.contextUtil),_=m.getRdfType(v);return d.has(v)||(d.add(v),Object.entries(c).forEach(([S,b])=>{if(S==="@id")return;const x=(0,e.namedNode)(m.contextUtil.keyToIri(S,_));if(h)if(m.contextUtil.isLangString(S,_)){const R=(0,i.getLanguageKeyForWriteOperation)(m.languageOrdering);R&&(0,i.languageDeleteMatch)(y,v,x,R)}else y.deleteMatches(v,x);b instanceof a.BasicLdSet?b.forEach(R=>{o(v,S,R,d,!0,m)}):o(v,S,b,d,!0,m)})),m.createSubjectProxy(v)}du.addRawObjectToDatasetRecursive=s;function l(c,d,h){return s(c,new r.NodeSet,d,h)}return du.addObjectToDataset=l,du}var Vg={},p4;function Yz(){if(p4)return Vg;p4=1,Object.defineProperty(Vg,"__esModule",{value:!0}),Vg.deleteValueFromDataset=void 0;const e=Ay();function t(n,r,i){if(r==="@context"||r==="toString"||r===Symbol.toStringTag||typeof r=="symbol")return!0;if(r==="@id"){const a=n["@id"];return i.dataset.deleteMatches(a,void 0,void 0),i.dataset.deleteMatches(void 0,void 0,a),!0}return(0,e.addObjectToDataset)({"@id":n["@id"],[r]:void 0},!0,i),!0}return Vg.deleteValueFromDataset=t,Vg}var Kg={},zc={},g4;function MO(){if(g4)return zc;g4=1,Object.defineProperty(zc,"__esModule",{value:!0}),zc.nodeToJsonldRepresentation=zc.literalToJsonldRepresentation=void 0;function e(n){switch(n.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":return n.value;case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":return n.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#double":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(n.value);case"http://www.w3.org/2001/XMLSchema#boolean":return n.value==="true";case"http://www.w3.org/2001/XMLSchema#hexBinary":return n.value;case"http://www.w3.org/2001/XMLSchema#anyURI":return n.value;case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":return n.value;default:return n.value}}zc.literalToJsonldRepresentation=e;function t(n,r){if(n.termType==="Literal")return e(n);if(n.termType==="NamedNode"||n.termType==="BlankNode")return r.createSubjectProxy(n);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}return zc.nodeToJsonldRepresentation=t,zc}var m4;function eH(){if(m4)return Kg;m4=1,Object.defineProperty(Kg,"__esModule",{value:!0}),Kg.getValueForKey=void 0;const e=Qi(),t=MO(),n=ep();function r(i,a,o){const{contextUtil:s,dataset:l}=o;if(a==="@id")return i["@id"].termType==="BlankNode"?void 0:s.iriToKey(i["@id"].value,[]);if(a==="toString"||a===Symbol.toStringTag)return Reflect.get(i,"toString");if(typeof a=="symbol")return;const c=i["@id"],d=o.getRdfType(c),h=(0,e.namedNode)(s.keyToIri(a,d));if(s.isSet(a,d))return o.createSetProxy([c,h,null,null],!1,s.isLangString(a,d));let m=l.match(c,h);if(s.isLangString(a,d)&&(m=(0,n.filterQuadsByLanguageOrdering)(m,o.languageOrdering)),m.size!==0)return(0,t.nodeToJsonldRepresentation)(m.toArray()[0].object,o)}return Kg.getValueForKey=r,Kg}var y4;function tH(){if(y4)return zg;y4=1,Object.defineProperty(zg,"__esModule",{value:!0}),zg.createSubjectHandler=void 0;const e=Qi(),t=Ay(),n=Yz(),r=Oo(),i=eH();function a(o){let s=o;return{get(l,c){switch(c){case r._getUnderlyingDataset:return s.dataset;case r._getUnderlyingNode:return l["@id"];case r._proxyContext:return s;case r._writeGraphs:return s.writeGraphs;case"@context":return s.contextUtil.context}return(0,i.getValueForKey)(l,c,s)},getOwnPropertyDescriptor(l,c){return{value:(0,i.getValueForKey)(l,c,s),writable:!0,enumerable:!0,configurable:!0}},ownKeys(l){const c=l["@id"],d=s.dataset.match(c),h=new Set(["@id"]);return d.toArray().forEach(m=>{h.add(s.contextUtil.iriToKey(m.predicate.value,s.getRdfType(c)))}),Array.from(h)},set:(l,c,d)=>{if(c===r._proxyContext)return s=d,!0;if(c==="@id"&&(typeof d=="string"||typeof d>"u")){const h=d?(0,e.namedNode)(d):(0,e.blankNode)(),m=s.dataset.match(l["@id"]).toArray(),y=m.map(S=>(0,e.quad)(h,S.predicate,S.object,S.graph));m.forEach(S=>s.dataset.delete(S)),s.dataset.addAll(y);const v=s.dataset.match(void 0,void 0,l["@id"]).toArray(),_=v.map(S=>(0,e.quad)(S.subject,S.predicate,h,S.graph));v.forEach(S=>s.dataset.delete(S)),s.dataset.addAll(_),l["@id"]=h}return(0,t.addObjectToDataset)({"@id":l["@id"],[c]:d},!0,s),!0},deleteProperty(l,c){return(0,n.deleteValueFromDataset)(l,c,s)}}}return zg.createSubjectHandler=a,zg}var Gg={},Wg={},Qg={},Zg={},v4;function wb(){if(v4)return Zg;v4=1,Object.defineProperty(Zg,"__esModule",{value:!0}),Zg.SetProxy=void 0;const e=Oo(),t=MO(),n=_b();let r=class extends n.BasicLdSet{constructor(a,o){super(),this.context=a,this.quadMatch=o}add(a){return console.warn(`You've attempted to call "add" on a wildcard set. You cannot add data to a wildcard set as it is simply a proxy to an underlying dataset`),this}clear(){console.warn(`You've attempted to call "clear" on an abstract set. You cannot clear data from an abstract set as it is simply a proxy to an underlying dataset`)}delete(a){return console.warn(`You've attempted to call "clear" on an abstract set. You cannot delete data from an abstract set as it is simply a proxy to an underlying dataset`),!1}has(a){return this.getQuads(a).size>0}get size(){return this.getQuads().size}entries(){const a=new Set;for(const o of this)a.add([o,o]);return a[Symbol.iterator]()}keys(){return this.values()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){const o=this.getQuads().toArray().map(s=>{const l=this.getNodeOfFocus(s);return(0,t.nodeToJsonldRepresentation)(l,this.context)});return new Set(o)[Symbol.iterator]()}get[Symbol.toStringTag](){return"LdSet"}get[e._getUnderlyingDataset](){return this.context.dataset}get[e._getUnderlyingMatch](){return this.quadMatch}get[e._proxyContext](){return this.context}set[e._proxyContext](a){this.context=a}get[e._writeGraphs](){return this.context.writeGraphs}};return Zg.SetProxy=r,Zg}var _4;function nH(){if(_4)return Qg;_4=1,Object.defineProperty(Qg,"__esModule",{value:!0}),Qg.WildcardObjectSetProxy=void 0;const e=wb(),t=Xh(),n=Oo(),r=ep();let i=class extends e.SetProxy{constructor(o,s,l){super(o,s),this.quadMatch=s,this.isLangStringSet=l??!1}getQuads(o){const{dataset:s}=this.context;let l;const c=this.quadMatch[0]??void 0,d=this.quadMatch[1]??void 0,h=this.quadMatch[3]??void 0;if(o){let m;if(this.quadMatch[0]&&d){const v=this.context.getRdfType(this.quadMatch[0]),_=this.context.contextUtil.iriToKey(d.value,v);m=this.context.contextUtil.getDataType(_,v)}const y=(0,t.getNodeFromRawValue)(o,this.context,m);l=s.match(c,d,y,h),y||(l=l.filter(v=>v.object.termType==="Literal"&&v.object.value===o))}else l=s.match(c,d,void 0,h);return this.isLangStringSet?(0,r.filterQuadsByLanguageOrdering)(l,this.context.languageOrdering):l}getNodeOfFocus(o){return o.object}get[n._isSubjectOriented](){return!1}};return Qg.WildcardObjectSetProxy=i,Qg}var w4;function kve(){if(w4)return Wg;w4=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.ObjectSetProxy=void 0;const e=nH(),t=Ay();let n=class extends e.WildcardObjectSetProxy{constructor(i,a,o){super(i,a,o),this.quadMatch=a}add(i){return(0,t.addObjectToDataset)({"@id":this.quadMatch[0],[this.context.contextUtil.iriToKey(this.quadMatch[1].value,this.context.getRdfType(this.quadMatch[0]))]:i},!1,this.context),this}clear(){for(const i of this)this.delete(i)}delete(i){const{dataset:a}=this.context,o=this.getQuads(i);return o.forEach(s=>a.delete(s)),o.size>0}};return Wg.ObjectSetProxy=n,Wg}var Jg={},Xg={},b4;function rH(){if(b4)return Xg;b4=1,Object.defineProperty(Xg,"__esModule",{value:!0}),Xg.WildcardSubjectSetProxy=void 0;const e=wb(),t=Xh(),n=Oo();let r=class extends e.SetProxy{constructor(a,o){super(a,o),this.quadMatch=o}getQuads(a){const{dataset:o}=this.context,s=this.quadMatch[1],l=this.quadMatch[2],c=this.quadMatch[3];if(a){const d=(0,t.getNodeFromRawObject)(a,this.context.contextUtil);return o.match(d,s,l,c)}return o.match(void 0,s,l,c)}getNodeOfFocus(a){return a.subject}get[n._isSubjectOriented](){return!0}};return Xg.WildcardSubjectSetProxy=r,Xg}var S4;function Nve(){if(S4)return Jg;S4=1,Object.defineProperty(Jg,"__esModule",{value:!0}),Jg.SubjectSetProxy=void 0;const e=Ay(),t=rH(),n=Oo(),r=Qi(),i=Ry(),a=Bf(),o=Xh(),s=IO();let l=class extends t.WildcardSubjectSetProxy{constructor(d,h){super(d,h),this.quadMatch=h}add(d){if(typeof d!="object")throw new Error(`Cannot add a literal "${d}"(${typeof d}) to a subject-oriented collection.`);const h=new i.TransactionDataset(this.context.dataset,(0,a.createDatasetFactory)(),(0,i.createTransactionDatasetFactory)());if((0,e.addObjectToDataset)(d,!1,this.context.duplicate({writeGraphs:[(0,r.defaultGraph)()]})),!(h.match((0,o.getNodeFromRawObject)(d,this.context.contextUtil),this.quadMatch[1],this.quadMatch[2]).size!==0))throw new Error(`Cannot add value to collection. This must contain a quad that matches (${(0,s.nodeToString)(this.quadMatch[0])}, ${(0,s.nodeToString)(this.quadMatch[1])}, ${(0,s.nodeToString)(this.quadMatch[2])}, ${(0,s.nodeToString)(this.quadMatch[3])})`);const v=(0,e.addObjectToDataset)(d,!1,this.context)[n._getUnderlyingNode];return this.context.writeGraphs.forEach(_=>{this.context.dataset.add((0,r.quad)(v,this.quadMatch[1],this.quadMatch[2],_))}),this}};return Jg.SubjectSetProxy=l,Jg}var x4;function iH(){if(x4)return Gg;x4=1,Object.defineProperty(Gg,"__esModule",{value:!0}),Gg.createNewSetProxy=void 0;const e=kve(),t=Nve(),n=nH(),r=rH();function i(a,o,s,l){return o?a[1]&&a[2]?new t.SubjectSetProxy(s,a):new r.WildcardSubjectSetProxy(s,a):a[0]&&a[1]?new e.ObjectSetProxy(s,a,l):new n.WildcardObjectSetProxy(s,a,l)}return Gg.createNewSetProxy=i,Gg}var E4;function oH(){if(E4)return qg;E4=1,Object.defineProperty(qg,"__esModule",{value:!0}),qg.ProxyContext=void 0;const e=tH(),t=Qi(),n=iH(),r=(0,t.namedNode)("http://www.w3.org/1999/02/22-rdf-syntax-ns#type");let i=class aH{constructor(o){this.subjectMap=new Map,this.setMap=new Map,this.dataset=o.dataset,this.contextUtil=o.contextUtil,this.writeGraphs=o.writeGraphs,this.languageOrdering=o.languageOrdering,this.state=o.state||{}}createSubjectProxy(o){if(!this.subjectMap.has(o.value)){const s=this.createNewSubjectProxy(o);this.subjectMap.set(o.value,s)}return this.subjectMap.get(o.value)}createNewSubjectProxy(o){return new Proxy({"@id":o},(0,e.createSubjectHandler)(this))}getSetKey(...o){var s,l,c,d;return`${((s=o[0])==null?void 0:s.value)||"undefined"}|${((l=o[1])==null?void 0:l.value)||"undefined"}|${((c=o[2])==null?void 0:c.value)||"undefined"}|${((d=o[3])==null?void 0:d.value)||"undefined"}`}createSetProxy(o,s,l){const c=this.getSetKey(...o);if(!this.setMap.has(c)){const d=this.createNewSetProxy(o,s,l);this.setMap.set(c,d)}return this.setMap.get(c)}createNewSetProxy(o,s,l){return(0,n.createNewSetProxy)(o,s??!1,this,l)}duplicate(o){const s={dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,...o};return new aH(s)}getRdfType(o){return this.dataset.match(o,r).toArray().map(s=>s.object).filter(s=>s.termType==="NamedNode")}};return qg.ProxyContext=i,qg}var C4;function T4(){if(C4)return $g;C4=1,Object.defineProperty($g,"__esModule",{value:!0}),$g.jsonldDatasetProxy=void 0;const e=Qi(),t=Jz(),n=Xz(),r=oH();function i(a,o){const s=new t.ContextUtil(o),l=new r.ProxyContext({dataset:a,contextUtil:s,writeGraphs:[(0,e.defaultGraph)()],languageOrdering:["none","en","other"]});return new n.JsonldDatasetProxyBuilder(l)}return $g.jsonldDatasetProxy=i,$g}var Yg={},em={},Hc={},tm={},R4;function sH(){if(R4)return tm;R4=1,Object.defineProperty(tm,"__esModule",{value:!0}),tm.isSetProxy=void 0;const e=wb();function t(n){return!n||typeof n!="object"?!1:n instanceof e.SetProxy}return tm.isSetProxy=t,tm}var A4;function uH(){if(A4)return Hc;A4=1,Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.getProxyFromObject=Hc.isProxy=void 0;const e=sH(),t=Yh();function n(i){return(0,t.isSubjectProxy)(i)||(0,e.isSetProxy)(i)}Hc.isProxy=n;function r(i){if(!n(i))throw new Error(`${i} is not a Jsonld Dataset Proxy`);return i}return Hc.getProxyFromObject=r,Hc}var P4;function DO(){if(P4)return em;P4=1,Object.defineProperty(em,"__esModule",{value:!0}),em.createInteractOptions=void 0;const e=Yh(),t=Oo(),n=uH();function r(i,a){return{using(...o){const s=[];return o.forEach(l=>{const c=(0,n.getProxyFromObject)(l),d=c[t._proxyContext];c[t._proxyContext]=c[t._proxyContext].duplicate({[i]:a}),s.push(()=>{c[t._proxyContext]=d})}),function(){s.forEach(c=>c())}},usingCopy(...o){return o.map(s=>{const l=(0,e.getSubjectProxyFromObject)(s);return l[t._proxyContext].duplicate({[i]:a}).createSubjectProxy(l[t._getUnderlyingNode])})}}}return em.createInteractOptions=r,em}var O4;function Fve(){if(O4)return Yg;O4=1,Object.defineProperty(Yg,"__esModule",{value:!0}),Yg.write=void 0;const e=DO();function t(...n){return(0,e.createInteractOptions)("writeGraphs",n)}return Yg.write=t,Yg}var nm={},L4;function jve(){if(L4)return nm;L4=1,Object.defineProperty(nm,"__esModule",{value:!0}),nm.graphOf=void 0;const e=Qi(),t=Yh(),n=Oo(),r=Xh();function i(a,o,s){const l=(0,t.getSubjectProxyFromObject)(a),c=l[n._proxyContext],d=l[n._getUnderlyingNode],h=(0,e.namedNode)(c.contextUtil.keyToIri(o,c.getRdfType(d)));let m;if(s==null)m=null;else{const v=c.contextUtil.getDataType(o,c.getRdfType(d));m=(0,r.getNodeFromRawValue)(s,c,v)}return l[n._getUnderlyingDataset].match(d,h,m).toArray().map(v=>v.graph)}return nm.graphOf=i,nm}var rm={},I4;function $ve(){if(I4)return rm;I4=1,Object.defineProperty(rm,"__esModule",{value:!0}),rm.setLanguagePreferences=void 0;const e=DO();function t(...n){return(0,e.createInteractOptions)("languageOrdering",n)}return rm.setLanguagePreferences=t,rm}var m2={},M4;function Bve(){return M4||(M4=1,Object.defineProperty(m2,"__esModule",{value:!0})),m2}var im={},Pd={},h_={},D4;function lH(){if(D4)return h_;D4=1;var e;Object.defineProperty(h_,"__esModule",{value:!0});const t=Qi(),n=ep();class r{constructor(a,o,s,l){this[e]="LanguageSet",this.subject=a,this.predicate=o,this.languageKey=s,this.proxyContext=l}matchThis(){return(0,n.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}getLiteral(a){return this.languageKey==="@none"?(0,t.literal)(a):(0,t.literal)(a,this.languageKey)}get size(){return this.matchThis().size}add(a){return this.proxyContext.writeGraphs.forEach(o=>{this.proxyContext.dataset.add((0,t.quad)(this.subject,this.predicate,(0,t.literal)(a,this.languageKey),o))}),this}clear(){(0,n.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)}delete(a){const o=this.has(a);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(a)),o}forEach(a,o){this.matchThis().forEach(l=>{a(l.object.value,l.object.value,o||this)})}has(a){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(a)).size>0}*entries(){const a=this.matchThis();for(const o of a)yield[o.object.value,o.object.value]}*keys(){const a=this.matchThis();for(const o of a)yield o.object.value}*values(){const a=this.matchThis();for(const o of a)yield o.object.value}*[Symbol.iterator](){const a=this.matchThis();for(const o of a)yield o.object.value}}return h_.default=r,e=Symbol.toStringTag,h_}var k4;function cH(){if(k4)return Pd;k4=1;var e=Pd.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Pd,"__esModule",{value:!0}),Pd.createLanguageMapProxy=void 0;const t=Qi(),n=ep(),r=e(lH());function i(a,o,s,l){const c={},d=h=>{Object.keys(h).forEach(v=>delete h[v]);const m=s.dataset.match(a,o),y=(0,n.quadsToLanguageQuadMap)(m);Object.entries(y).forEach(([v,_])=>{const S=_.toArray().map(b=>b.object.value);l?h[v]=new Set(S):h[v]=S[0]})};return d(c),new Proxy(c,{get:(h,m)=>(d(h),typeof m!="string"?Reflect.get(h,m):l?new r.default(a,o,m,s):Reflect.get(h,m)),set:(h,m,y)=>{const v=(0,n.languageKeyToLiteralLanguage)(m);return l||(0,n.languageDeleteMatch)(s.dataset,a,o,v),s.writeGraphs.forEach(_=>{s.dataset.add((0,t.quad)(a,o,(0,t.literal)(y,v),_))}),Reflect.set(h,m,y)},deleteProperty:(h,m)=>((0,n.languageDeleteMatch)(s.dataset,a,o,(0,n.languageKeyToLiteralLanguage)(m)),Reflect.deleteProperty(h,m))})}return Pd.createLanguageMapProxy=i,Pd}var N4;function Uve(){if(N4)return im;N4=1,Object.defineProperty(im,"__esModule",{value:!0}),im.languagesOf=void 0;const e=Qi(),t=Yh(),n=Oo(),r=cH();function i(a,o){const s=(0,t.getSubjectProxyFromObject)(a),l=s[n._proxyContext],c=s[n._getUnderlyingNode],d=l.getRdfType(c),h=(0,e.namedNode)(l.contextUtil.keyToIri(o,d));return(0,r.createLanguageMapProxy)(c,h,l,l.contextUtil.isSet(o,d))}return im.languagesOf=i,im}var y2={},F4;function qve(){return F4||(F4=1,Object.defineProperty(y2,"__esModule",{value:!0})),y2}var am={},j4;function zve(){if(j4)return am;j4=1,Object.defineProperty(am,"__esModule",{value:!0}),am.set=void 0;const e=_b();function t(...n){return new e.BasicLdSet(n)}return am.set=t,am}var v2={},$4;function Hve(){return $4||($4=1,Object.defineProperty(v2,"__esModule",{value:!0})),v2}var _2={},B4;function Vve(){return B4||(B4=1,Object.defineProperty(_2,"__esModule",{value:!0})),_2}var w2={},U4;function Kve(){return U4||(U4=1,Object.defineProperty(w2,"__esModule",{value:!0})),w2}var q4;function Cf(){return q4||(q4=1,function(e){var t=jg.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=jg.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0});const r=T4();e.default=r.jsonldDatasetProxy,n(Oo(),e),n(Jz(),e),n(oH(),e),n(Xz(),e),n(T4(),e),n(Fve(),e),n(jve(),e),n($ve(),e),n(Bve(),e),n(Uve(),e),n(cH(),e),n(lH(),e),n(qve(),e),n(ep(),e),n(iH(),e),n(sH(),e),n(wb(),e),n(zve(),e),n(Hve(),e),n(_b(),e),n(tH(),e),n(Vve(),e),n(eH(),e),n(Yz(),e),n(Yh(),e),n(Ay(),e),n(MO(),e),n(Kve(),e),n(Xh(),e),n(IO(),e),n(uH(),e),n(DO(),e)}(jg)),jg}var om={},Ua={},z4;function fH(){if(z4)return Ua;z4=1,Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getTransactionalDatasetFromLdo=Ua.isTransactionalDataset=Ua.canDatasetStartTransaction=Ua.normalizeNodeNames=Ua.normalizeNodeName=void 0;const e=Qi(),t=Cf();function n(s){return typeof s=="string"?(0,e.namedNode)(s):s}Ua.normalizeNodeName=n;function r(s){return s.map(l=>n(l))}Ua.normalizeNodeNames=r;function i(s){return typeof s.startTransaction=="function"}Ua.canDatasetStartTransaction=i;function a(s){return typeof s.commit=="function"}Ua.isTransactionalDataset=a;function o(s){const l=(0,t.getProxyFromObject)(s),c=l[t._getUnderlyingDataset];if(!a(c)||!l[t._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[c,l]}return Ua.getTransactionalDatasetFromLdo=o,Ua}var H4;function kO(){if(H4)return om;H4=1,Object.defineProperty(om,"__esModule",{value:!0}),om.LdoBuilder=void 0;const e=fH();let t=class HA{constructor(r,i){this.jsonldDatasetProxyBuilder=r,this.shapeType=i}fromSubject(r){return this.jsonldDatasetProxyBuilder.fromSubject((0,e.normalizeNodeName)(r))}matchSubject(r,i,a){return this.jsonldDatasetProxyBuilder.matchSubject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}matchObject(r,i,a){return this.jsonldDatasetProxyBuilder.matchObject(r!=null?(0,e.normalizeNodeName)(r):void 0,i!=null?(0,e.normalizeNodeName)(i):void 0,a!=null?(0,e.normalizeNodeName)(a):void 0)}fromJson(r){return this.jsonldDatasetProxyBuilder.fromJson(r)}write(...r){return new HA(this.jsonldDatasetProxyBuilder.write(...(0,e.normalizeNodeNames)(r)),this.shapeType)}setLanguagePreferences(...r){return new HA(this.jsonldDatasetProxyBuilder.setLanguagePreferences(...r),this.shapeType)}};return om.LdoBuilder=t,om}var Od={},V4;function dH(){if(V4)return Od;V4=1;var e=Od.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Od,"__esModule",{value:!0}),Od.LdoTransactionDataset=void 0;const t=Ry(),n=kO(),r=e(Cf());let i=class extends t.TransactionDataset{usingType(o){const s=(0,r.default)(this,o.context);return new n.LdoBuilder(s,o)}};return Od.LdoTransactionDataset=i,Od}var K4;function hH(){if(K4)return Ad;K4=1;var e=Ad.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.LdoDataset=void 0;const t=e(Cf()),n=Ry(),r=kO(),i=dH();let a=class extends n.SubscribableDataset{usingType(s){const l=(0,t.default)(this,s.context);return new r.LdoBuilder(l,s)}startTransaction(){return new i.LdoTransactionDataset(this,this.datasetFactory,this.transactionDatasetFactory)}};return Ad.LdoDataset=a,Ad}var G4;function Gve(){if(G4)return Pg;G4=1,Object.defineProperty(Pg,"__esModule",{value:!0}),Pg.LdoDatasetFactory=void 0;const e=Ry(),t=hH();let n=class extends e.SubscribableDatasetFactory{dataset(i){return new t.LdoDataset(this.datasetFactory,this.transactionDatasetFactory,this.datasetFactory.dataset(i))}};return Pg.LdoDatasetFactory=n,Pg}var W4;function pH(){if(W4)return $c;W4=1,Object.defineProperty($c,"__esModule",{value:!0}),$c.createLdoDataset=$c.createLdoDatasetFactory=void 0;const e=Bf(),t=Gve(),n=Ry();function r(){const a={dataset:o=>(0,e.createDataset)(o)};return new t.LdoDatasetFactory(a,(0,n.createTransactionDatasetFactory)())}$c.createLdoDatasetFactory=r;function i(a){return r().dataset(a)}return $c.createLdoDataset=i,$c}var Q4;function Wve(){if(Q4)return gg;Q4=1,Object.defineProperty(gg,"__esModule",{value:!0}),gg.parseRdf=void 0;const e=Bf(),t=pH();async function n(r,i){const a=(0,t.createLdoDatasetFactory)();return typeof r=="string"?await(0,e.createDatasetFromSerializedInput)(a,r,i):typeof r.add=="function"?(0,t.createLdoDataset)(r):await(0,e.createDatasetFromSerializedInput)(a,JSON.stringify(r),{format:"application/ld+json"})}return gg.parseRdf=n,gg}var b2={},Z4;function Qve(){return Z4||(Z4=1,Object.defineProperty(b2,"__esModule",{value:!0})),b2}var or={},J4;function Zve(){if(J4)return or;J4=1,Object.defineProperty(or,"__esModule",{value:!0}),or.toNTriples=or.toJsonLd=or.toTurtle=or.serialize=or.toSparqlUpdate=or.getDataset=or.transactionChanges=or.commitTransaction=or.startTransaction=or.write=or.setLanguagePreferences=or.languagesOf=or.graphOf=void 0;const e=Cf(),t=Ty(),n=fH(),r=Cf();or.graphOf=r.graphOf,or.languagesOf=r.languagesOf,or.setLanguagePreferences=r.setLanguagePreferences;function i(...v){return(0,e.write)(...(0,n.normalizeNodeNames)(v))}or.write=i;function a(v){const _=(0,e.getProxyFromObject)(v),S=_[e._getUnderlyingDataset];if(!(0,n.canDatasetStartTransaction)(S))throw new Error("Object is not transactable.");_[e._proxyContext]=_[e._proxyContext].duplicate({dataset:S.startTransaction(),state:{parentDataset:S}})}or.startTransaction=a;function o(v){const[_,S]=(0,n.getTransactionalDatasetFromLdo)(v);_.commit(),S[e._proxyContext]=S[e._proxyContext].duplicate({dataset:S[e._proxyContext].state.parentDataset})}or.commitTransaction=o;function s(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v);return _.getChanges()}or.transactionChanges=s;function l(v){return(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset]}or.getDataset=l;async function c(v){const[_]=(0,n.getTransactionalDatasetFromLdo)(v),S=_.getChanges();return(0,t.changesToSparqlUpdate)(S)}or.toSparqlUpdate=c;async function d(v,_){const S=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(S,_)}or.serialize=d;async function h(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{})}or.toTurtle=h;async function m(v){throw new Error("Not Implemented")}or.toJsonLd=m;async function y(v){const _=(0,e.getProxyFromObject)(v)[e._getUnderlyingDataset];return(0,t.datasetToString)(_,{format:"N-Triples"})}return or.toNTriples=y,or}var S2={},X4;function Jve(){return X4||(X4=1,Object.defineProperty(S2,"__esModule",{value:!0})),S2}var Y4;function Xve(){return Y4||(Y4=1,function(e){var t=pg.__createBinding||(Object.create?function(i,a,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(a,o);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[o]}}),Object.defineProperty(i,s,l)}:function(i,a,o,s){s===void 0&&(s=o),i[s]=a[o]}),n=pg.__exportStar||function(i,a){for(var o in i)o!=="default"&&!Object.prototype.hasOwnProperty.call(a,o)&&t(a,i,o)};Object.defineProperty(e,"__esModule",{value:!0}),e.set=void 0,n(Wve(),e),n(Qve(),e),n(Zve(),e),n(hH(),e),n(dH(),e),n(kO(),e),n(pH(),e),n(Jve(),e);var r=Cf();Object.defineProperty(e,"set",{enumerable:!0,get:function(){return r.set}})}(pg)),pg}var Cr=Xve();const Ol={geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",hospex:"http://w3id.org/hospex/ns#",meeting:"http://www.w3.org/ns/pim/meeting#",ui:"http://www.w3.org/ns/ui#",wf:"http://www.w3.org/2005/01/wf/flow#",xsd:"http://www.w3.org/2001/XMLSchema#"},ac={Accommodation:Ol.hospex+"Accommodation",PersonalHospexDocument:Ol.hospex+"PersonalHospexDocument",offers:Ol.hospex+"offers",offeredBy:Ol.hospex+"offeredBy",storage:Ol.hospex+"storage"},Cm={...Object.fromEntries(Object.entries(FA).map(([e,t])=>[e,VN(t)])),subject:VN(FA.object.replace("object","subject"))},Ll={participation:Ol.wf+"participation",participant:Ol.wf+"participant",...$ge},gH={LongChat:Ol.meeting+"LongChat",...jge},mH=[{type:"match",subject:"?community",predicate:Ch.has_usergroup,pick:"object",target:"?group"},{type:"match",subject:"?community",predicate:Su.inbox,pick:"object",target:"?inbox"}],yH=[...mH,{type:"match",subject:"?group",predicate:z9.hasMember,pick:"object",target:"?person"}],bb={type:"match",subject:"?person",predicate:Su.inbox,pick:"object",target:"?inbox"},tp=[{type:"match",subject:"?person",predicate:dO.seeAlso,pick:"object",target:"?profileDocument"},{type:"add resources",variable:"?profileDocument"}],vH=[...tp,{type:"match",subject:"?person",predicate:xn.publicTypeIndex,pick:"object",target:"?publicTypeIndex"}],_H=[...vH,{type:"match",subject:"?person",predicate:Ff.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:xn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},bb],wH=[{type:"match",predicate:Kh.type,object:xn.TypeRegistration,graph:"?publicTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:xn.forClass,object:ac.PersonalHospexDocument,pick:"subject",target:"?typeRegistrationForHospex"},{type:"match",subject:"?typeRegistrationForHospex",predicate:xn.instance,pick:"object",target:"?hospexDocument"},{type:"add resources",variable:"?hospexDocument"},{type:"match",subject:"?person",predicate:Ch.member_of,object:"?community",pick:"graph",target:"?hospexDocumentForCommunity"}],NO=[...vH,...wH],Yve=[..._H,...wH,{type:"match",subject:"?person",predicate:Ff.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexSettings"},bb,{type:"match",subject:"?person",predicate:Ch.member_of,pick:"object",target:"?eachCommunity"},{type:"match",subject:"?eachCommunity",predicate:Ch.name,pick:"object",target:"?communityName"}],e_e=[...NO,{type:"match",subject:"?person",predicate:Ff.preferencesFile,graph:"?hospexDocumentForCommunity",pick:"object",target:"?hospexPreferencesFile"},{type:"match",pick:"object",subject:"?person",predicate:"https://example.com/emailVerificationToken",graph:"?hospexPreferencesFile",target:"?emailVerificationToken"}],bH=[...NO,{type:"match",subject:"?person",predicate:ac.offers,graph:"?hospexDocumentForCommunity",pick:"object",target:"?offer"},{type:"add resources",variable:"?offer"}],t_e=[...yH,...bH],n_e=[{type:"match",subject:"?offer",predicate:ac.offeredBy,pick:"object",target:"?person"}],r_e=[...tp,{type:"match",subject:"?person",predicate:Ql.knows,pick:"object",target:"?otherPerson"},{type:"match",subject:"?otherPerson",predicate:dO.seeAlso,pick:"object",target:"?otherProfileDocument"},{type:"add resources",variable:"?otherProfileDocument"}],i_e=[...tp,bb,{type:"match",subject:"?inbox",predicate:Su.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Kh.type,object:Cm.Invite,pick:"subject",target:"?inviteNotification"}],a_e=[...tp,bb,{type:"match",subject:"?inbox",predicate:Su.contains,pick:"object",target:"?notification"},{type:"match",subject:"?notification",predicate:Kh.type,object:Cm.Add,pick:"subject",target:"?addNotification"},{type:"match",subject:"?addNotification",predicate:Cm.context,object:"https://www.pod-chat.com/LongChatMessage",pick:"subject",target:"?longChatNotification"},{type:"match",subject:"?longChatNotification",predicate:Cm.object,pick:"object",target:"?message"},{type:"add resources",variable:"?message"},{type:"match",subject:"?longChatNotification",predicate:Cm.target,pick:"object",target:"?chat"},{type:"add resources",variable:"?chat"}],SH=[...tp,{type:"match",subject:"?person",predicate:Ff.preferencesFile,pick:"object",target:"?preferencesFile"},{type:"add resources",variable:"?preferencesFile"},{type:"match",subject:"?person",predicate:xn.privateTypeIndex,pick:"object",target:"?privateTypeIndex"},{type:"match",predicate:Kh.type,object:xn.TypeRegistration,graph:"?privateTypeIndex",pick:"subject",target:"?typeRegistration"},{type:"match",subject:"?typeRegistration",predicate:xn.forClass,object:gH.LongChat,pick:"subject",target:"?typeRegistrationForChat"},{type:"match",subject:"?typeRegistrationForChat",predicate:xn.instance,pick:"object",target:"?chat"},{type:"match",subject:"?chat",predicate:Ll.participation,pick:"object",target:"?participation"}],o_e=[...SH,{type:"match",subject:"?participation",predicate:q9.references,pick:"object",target:"?otherChat"}],s_e=[...SH,{type:"match",subject:"?participation",predicate:Ll.participant,pick:"object",target:"?participant"},{type:"match",subject:"?participation",predicate:Ll.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?participation",predicate:Ll.participant,object:"?otherPerson",pick:"subject",target:"?otherPersonParticipation"},{type:"match",subject:"?chat",predicate:Ll.participation,object:"?otherPersonParticipation",pick:"subject",target:"?chatWithOtherPerson"},{type:"match",subject:"?chatWithOtherPerson",predicate:Ll.participation,pick:"object",target:"?chatWithOtherPersonParticipation"},{type:"match",subject:"?chatWithOtherPersonParticipation",predicate:q9.references,pick:"object",target:"?otherChat"}],xH=[{type:"match",subject:"?chatContainer",predicate:Su.contains,pick:"object",target:"?year"},{type:"match",subject:"?year",predicate:Su.contains,pick:"object",target:"?month"},{type:"match",subject:"?month",predicate:Su.contains,pick:"object",target:"?day"},{type:"match",subject:"?day",predicate:Su.contains,pick:"object",target:"?messageDoc"},{type:"add resources",variable:"?messageDoc"},{type:"match",subject:"?chat",predicate:Ll.message,pick:"object",target:"?message"},{type:"match",subject:"?otherChat",predicate:Ll.message,pick:"object",target:"?message"}],vw=e=>e.termType==="NamedNode"?new ei(fi(e.value)):void 0,u_e=[...s_e,{type:"transform variable",source:"?chatWithOtherPerson",target:"?chatContainer",transform:vw},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:vw},...xH],l_e=[...o_e,{type:"transform variable",source:"?chat",target:"?chatContainer",transform:vw},{type:"transform variable",source:"?otherChat",target:"?chatContainer",transform:vw},...xH],c_e=(e,t)=>{const{variables:n,isLoading:r}=ya(V.useMemo(()=>({query:yH,variables:{community:[t]},fetch:rr}),[t]));if(!r)return(n.person??[]).includes(e)},$u=(e,...t)=>{t.length===0&&(t=[...t,jh]);const{store:n,variables:r,isLoading:i}=ya({query:mH,variables:V.useMemo(()=>({community:[e]}),[e]),fetch:rr}),a=V.useMemo(()=>Cr.createLdoDataset(n.getQuads(null,null,null,null)).usingType(Mme).fromSubject(e),[e,n,r]),o=x2(a,"name",...t),s=x2(a,"note",...t),l=x2(a,"about",...t);return V.useMemo(()=>{var c,d;return{community:e,logo:((c=a.logo)==null?void 0:c.map(({"@id":h})=>h))??[],name:o,about:l,pun:s,groups:r.group??[],isLoading:i,inbox:(d=r.inbox)==null?void 0:d[0]}},[l,a.logo,e,i,o,s,r.group,r.inbox])},x2=(e,t,...n)=>{const r=V.useMemo(()=>[...n,"@none"],[n]);return V.useMemo(()=>{const a=Cr.languagesOf(e,t);for(const o of r){const s=a[o];if(typeof s=="string")return s;if((s==null?void 0:s.toString())==="[object LanguageSet]"){const l=[...s][0];if(typeof l=="string")return l}}},[r,t,e])},f_e="_select_103rf_1",d_e={select:f_e},h_e=()=>{const e=jr(Ao),t=nc();return B.jsx("select",{className:d_e.select,value:e,onChange:n=>{t(qP.changeLocale(n.target.value))},children:iw.map(n=>B.jsx("option",{value:n,children:n},n))})},p_e="_header_1hug1_1",g_e="_logoContainer_1hug1_12",m_e="_logo_1hug1_12",y_e="_spacer_1hug1_21",p_={header:p_e,logoContainer:g_e,logo:m_e,spacer:y_e},v_e=()=>{const e=nc(),t=kf(),n=async()=>{await Nne(),e(KP.signout()),t("/")};return B.jsx("button",{onClick:n,children:B.jsx(_t,{id:"ydgdD7"})})},Bu={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Preferences",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/space#ConfigurationFile"]}},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Uu={type:{"@id":"@type"},Person:{"@id":"http://xmlns.com/foaf/0.1/Person","@context":{type:{"@id":"@type"},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@isCollection":!0},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@isCollection":!0},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@isCollection":!0},oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@isCollection":!0},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@isCollection":!0}}},inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:{"@id":"http://www.w3.org/ns/ldp#Container","@context":{type:{"@id":"@type"},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},BasicContainer:{"@id":"http://www.w3.org/ns/ldp#BasicContainer","@context":{type:{"@id":"@type"},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@isCollection":!0},Add:{"@id":"https://www.w3.org/ns/activitystreams#Add","@context":{type:{"@id":"@type"},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"}}},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:{"@id":"http://www.w3.org/ns/pim/meeting#LongChat","@context":{type:{"@id":"@type"},author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@isCollection":!0},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@isCollection":!0}}},author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@isCollection":!0},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@isCollection":!0},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@isCollection":!0},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:{"@id":"https://www.w3.org/ns/activitystreams#Invite","@context":{type:{"@id":"@type"},actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},content:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"}}},content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:{"@id":"https://www.w3.org/ns/activitystreams#Relationship","@context":{type:{"@id":"@type"},subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"}}},subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@isCollection":!0},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@isCollection":!0},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@isCollection":!0},TypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#TypeIndex","@context":{type:{"@id":"@type"}}},UnlistedDocument:{"@id":"http://www.w3.org/ns/solid/terms#UnlistedDocument","@context":{type:{"@id":"@type"}}},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@isCollection":!0},ListedDocument:{"@id":"http://www.w3.org/ns/solid/terms#ListedDocument","@context":{type:{"@id":"@type"}}},oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@isCollection":!0},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@isCollection":!0},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@isCollection":!0},Accommodation:{"@id":"http://w3id.org/hospex/ns#Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},Accommodation2:{"@id":"https://schema.org/Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#Point","@context":{type:{"@id":"@type"},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id","@isCollection":!0},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},ConfigurationFile:"http://www.w3.org/ns/pim/space#ConfigurationFile",TypeRegistration:{"@id":"http://www.w3.org/ns/solid/terms#TypeRegistration","@context":{type:{"@id":"@type"},forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@isCollection":!0},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@isCollection":!0},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@isCollection":!0}}},forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@isCollection":!0},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@isCollection":!0},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@isCollection":!0},Resource:{"@id":"http://www.w3.org/ns/ldp#Resource","@context":{type:{"@id":"@type"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}}},EH={schema:Bu,shape:"https://example.com/SolidProfile",context:Uu},__e={schema:Bu,shape:"https://example.com/FoafProfile",context:Uu},Sb={schema:Bu,shape:"https://example.com/HospexProfile",context:Uu},xb={schema:Bu,shape:"https://example.com/Accommodation",context:Uu},w_e={schema:Bu,shape:"https://example.com/PublicTypeIndex",context:Uu},b_e={schema:Bu,shape:"https://example.com/PrivateTypeIndex",context:Uu},Th={schema:Bu,shape:"https://example.com/ChatShape",context:Uu},CH={schema:Bu,shape:"https://example.com/MessageActivity",context:Uu},TH={schema:Bu,shape:"https://example.com/ContactInvitationActivity",context:Uu};var e6=Ty();const S_e=()=>{const e=new WeakSet;return(t,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}},t6=e=>JSON.parse(JSON.stringify(e,S_e()));async function n6(e){const t=Cr.transactionChanges(e),n=[`_:mutate a <${xn.InsertDeletePatch}>`];if(t.added){const i=await e6.datasetToString(t.added,{format:"N3"});n.push(`<${xn.inserts}> { ${i} }`)}if(t.removed){const i=await e6.datasetToString(t.removed,{format:"N3"});n.push(`<${xn.deletes}> { ${i} }`)}return n.join(`;
`)+"."}const Eb=(e,t)=>{const n=Cr.languagesOf(e,t);return x_e(n)},x_e=e=>{const t={};for(const n in e)t[n]=[...e[n]][0];return t},FO=(e,t,n)=>{const r=Cr.languagesOf(t,n);e&&Object.entries(e).forEach(([i,a])=>{var o,s;(o=r[i])==null||o.clear(),a.trim()&&((s=r[i])==null||s.add(a.trim()))})};var E2,r6;function RH(){if(r6)return E2;r6=1;var e=mb(),t=xy();function n(r,i,a){(a!==void 0&&!t(r[i],a)||a===void 0&&!(i in r))&&e(r,i,a)}return E2=n,E2}var Tm={exports:{}};Tm.exports;var i6;function AH(){return i6||(i6=1,function(e,t){var n=ns(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,m=s?s(h):new c.constructor(h);return c.copy(m),m}e.exports=l}(Tm,Tm.exports)),Tm.exports}var C2,a6;function jO(){if(a6)return C2;a6=1;var e=yz();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return C2=t,C2}var T2,o6;function PH(){if(o6)return T2;o6=1;var e=jO();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.length)}return T2=t,T2}var R2,s6;function OH(){if(s6)return R2;s6=1;function e(t,n){var r=-1,i=t.length;for(n||(n=Array(i));++r<i;)n[r]=t[r];return n}return R2=e,R2}var A2,u6;function E_e(){if(u6)return A2;u6=1;var e=Po(),t=Object.create,n=function(){function r(){}return function(i){if(!e(i))return{};if(t)return t(i);r.prototype=i;var a=new r;return r.prototype=void 0,a}}();return A2=n,A2}var P2,l6;function $O(){if(l6)return P2;l6=1;var e=xz(),t=e(Object.getPrototypeOf,Object);return P2=t,P2}var O2,c6;function LH(){if(c6)return O2;c6=1;var e=E_e(),t=$O(),n=CO();function r(i){return typeof i.constructor=="function"&&!n(i)?e(t(i)):{}}return O2=r,O2}var L2,f6;function IH(){if(f6)return L2;f6=1;var e=pb(),t=ju();function n(r){return t(r)&&e(r)}return L2=n,L2}var I2,d6;function MH(){if(d6)return I2;d6=1;var e=Qh(),t=$O(),n=ju(),r="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,s=a.hasOwnProperty,l=o.call(Object);function c(d){if(!n(d)||e(d)!=r)return!1;var h=t(d);if(h===null)return!0;var m=s.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&o.call(m)==l}return I2=c,I2}var M2,h6;function DH(){if(h6)return M2;h6=1;function e(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}return M2=e,M2}var D2,p6;function BO(){if(p6)return D2;p6=1;var e=mb(),t=xy(),n=Object.prototype,r=n.hasOwnProperty;function i(a,o,s){var l=a[o];(!(r.call(a,o)&&t(l,s))||s===void 0&&!(o in a))&&e(a,o,s)}return D2=i,D2}var k2,g6;function np(){if(g6)return k2;g6=1;var e=BO(),t=mb();function n(r,i,a,o){var s=!a;a||(a={});for(var l=-1,c=i.length;++l<c;){var d=i[l],h=o?o(a[d],r[d],d,a,r):void 0;h===void 0&&(h=r[d]),s?t(a,d,h):e(a,d,h)}return a}return k2=n,k2}var N2,m6;function C_e(){if(m6)return N2;m6=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return N2=e,N2}var F2,y6;function T_e(){if(y6)return F2;y6=1;var e=Po(),t=CO(),n=C_e(),r=Object.prototype,i=r.hasOwnProperty;function a(o){if(!e(o))return n(o);var s=t(o),l=[];for(var c in o)c=="constructor"&&(s||!i.call(o,c))||l.push(c);return l}return F2=a,F2}var j2,v6;function Py(){if(v6)return j2;v6=1;var e=Sz(),t=T_e(),n=pb();function r(i){return n(i)?e(i,!0):t(i)}return j2=r,j2}var $2,_6;function R_e(){if(_6)return $2;_6=1;var e=np(),t=Py();function n(r){return e(r,t(r))}return $2=n,$2}var B2,w6;function A_e(){if(w6)return B2;w6=1;var e=RH(),t=AH(),n=PH(),r=OH(),i=LH(),a=fb(),o=rs(),s=IH(),l=db(),c=mO(),d=Po(),h=MH(),m=EO(),y=DH(),v=R_e();function _(S,b,x,R,P,O,D){var F=y(S,x),Q=y(b,x),Y=D.get(Q);if(Y){e(S,x,Y);return}var U=O?O(F,Q,x+"",S,b,D):void 0,X=U===void 0;if(X){var ce=o(Q),te=!ce&&l(Q),se=!ce&&!te&&m(Q);U=Q,ce||te||se?o(F)?U=F:s(F)?U=r(F):te?(X=!1,U=t(Q,!0)):se?(X=!1,U=n(Q,!0)):U=[]:h(Q)||a(Q)?(U=F,a(F)?U=v(F):(!d(F)||c(F))&&(U=i(Q))):X=!1}X&&(D.set(Q,U),P(U,Q,R,O,D),D.delete(Q)),e(S,x,U)}return B2=_,B2}var U2,b6;function P_e(){if(b6)return U2;b6=1;var e=cb(),t=RH(),n=Rz(),r=A_e(),i=Po(),a=Py(),o=DH();function s(l,c,d,h,m){l!==c&&n(c,function(y,v){if(m||(m=new e),i(y))r(l,c,v,d,s,h,m);else{var _=h?h(o(l,v),y,v+"",l,c,m):void 0;_===void 0&&(_=y),t(l,v,_)}},a)}return U2=s,U2}var q2,S6;function kH(){if(S6)return q2;S6=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return q2=e,q2}var z2,x6;function NH(){if(x6)return z2;x6=1;var e=kH(),t=Math.max;function n(r,i,a){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,s=-1,l=t(o.length-i,0),c=Array(l);++s<l;)c[s]=o[i+s];s=-1;for(var d=Array(i+1);++s<i;)d[s]=o[s];return d[i]=a(c),e(r,this,d)}}return z2=n,z2}var H2,E6;function O_e(){if(E6)return H2;E6=1;function e(t){return function(){return t}}return H2=e,H2}var V2,C6;function L_e(){if(C6)return V2;C6=1;var e=O_e(),t=Tz(),n=AO(),r=t?function(i,a){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return V2=r,V2}var K2,T6;function I_e(){if(T6)return K2;T6=1;var e=800,t=16,n=Date.now;function r(i){var a=0,o=0;return function(){var s=n(),l=t-(s-o);if(o=s,l>0){if(++a>=e)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return K2=r,K2}var G2,R6;function FH(){if(R6)return G2;R6=1;var e=L_e(),t=I_e(),n=t(e);return G2=n,G2}var W2,A6;function jH(){if(A6)return W2;A6=1;var e=AO(),t=NH(),n=FH();function r(i,a){return n(t(i,a,e),i+"")}return W2=r,W2}var Q2,P6;function M_e(){if(P6)return Q2;P6=1;var e=xy(),t=pb(),n=hb(),r=Po();function i(a,o,s){if(!r(s))return!1;var l=typeof o;return(l=="number"?t(s)&&n(o,s.length):l=="string"&&o in s)?e(s[o],a):!1}return Q2=i,Q2}var Z2,O6;function D_e(){if(O6)return Z2;O6=1;var e=jH(),t=M_e();function n(r){return e(function(i,a){var o=-1,s=a.length,l=s>1?a[s-1]:void 0,c=s>2?a[2]:void 0;for(l=r.length>3&&typeof l=="function"?(s--,l):void 0,c&&t(a[0],a[1],c)&&(l=s<3?void 0:l,s=1),i=Object(i);++o<s;){var d=a[o];d&&r(i,d,o,l)}return i})}return Z2=n,Z2}var J2,L6;function k_e(){if(L6)return J2;L6=1;var e=P_e(),t=D_e(),n=t(function(r,i,a){e(r,i,a)});return J2=n,J2}var N_e=k_e();const Tf=Ir(N_e);class To extends Error{constructor(n,r){super(n);jS(this,"status");jS(this,"response");this.name="HttpError",this.status=r.status,this.response=r,Object.setPrototypeOf(this,To.prototype)}}var X2,I6;function $H(){if(I6)return X2;I6=1;var e=Cy();function t(n,r,i){for(var a=-1,o=n.length;++a<o;){var s=n[a],l=r(s);if(l!=null&&(c===void 0?l===l&&!e(l):i(l,c)))var c=l,d=s}return d}return X2=t,X2}var Y2,M6;function F_e(){if(M6)return Y2;M6=1;function e(t,n){return t>n}return Y2=e,Y2}var eT,D6;function j_e(){if(D6)return eT;D6=1;var e=$H(),t=F_e(),n=PO();function r(i,a){return i&&i.length?e(i,n(a,2),t):void 0}return eT=r,eT}var $_e=j_e();const B_e=Ir($_e),U_e=(e,t)=>rr(e,{cache:"no-store",...t}),BH=e=>gO(e,U_e),q_e=e=>{const t=V.useMemo(()=>({queries:e.map(r=>ic(r)).map(r=>({queryKey:[Gr.rdfDocument,r],queryFn:()=>BH(r)}))}),[e]);return Bm(t)},z_e=()=>{const e=$i();return ao({mutationFn:async({uri:n})=>{if(n.slice(-1)!=="/")throw new Error(`Container must end with "/", got ${n}`);return(await Lu(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}})).headers.get("location")},onSuccess:Oy(e)})},Jo=e=>{const t=$i();return ao({mutationFn:async({uri:r,data:i,transform:a,language:o="en",method:s="PUT",throwOnHttpError:l=!1})=>{const c=Cr.createLdoDataset();if(Array.isArray(i))i.forEach(v=>{const _=c.usingType(e).fromSubject(v["@id"]);Cr.setLanguagePreferences(o).using(_),Tf(_,v),a==null||a(_)});else{const v=c.usingType(e).fromSubject(i["@id"]);Cr.setLanguagePreferences(o).using(v),Tf(v,i),a==null||a(v)}const d=await Cr.toTurtle(c.usingType(e).fromSubject("")),h={"content-type":"text/turtle"};s==="PUT"&&(h["If-None-Match"]="*");const m=await Lu(r,{method:s,body:d,headers:h});if(l&&!m.ok)throw new To(m.statusText,m);return m.headers.get("location")},onSuccess:Oy(t)})},to=()=>{const e=$i();return ao({mutationFn:async({uri:n,patch:r})=>{const i=await Lu(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});if(!i.ok)throw i.status===401?new Error("401: You're not authenticated. Please refresh the application and sign in again."):i.status===403?new Error("403: You don't have permissions to do this action."):new Error(i.status+await i.text());return i},onSuccess:Oy(e,n=>n.status===201)})},Uf=e=>{const t=$i();return ao({mutationFn:async({uri:n,subject:r,matchSubject:i,transform:a,language:o="en"})=>{const s=await Lu(n);let l="";s.ok&&(l=await s.text());const d=(await Cr.parseRdf(l,{baseIRI:n})).usingType(e);let h="";if(r){const m=d.fromSubject(r);Cr.setLanguagePreferences(o).using(m),Cr.startTransaction(m),a(m),h=await n6(m)}else if(i){const m=d.matchSubject(i.predicate,i.object,i.graph);Cr.setLanguagePreferences(o).using(m),Cr.startTransaction(m),a(m),h=await n6(m)}return await Lu(n,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}})},onSuccess:Oy(t,n=>n.status===201)})},Cb=()=>{const e=$i();return ao({mutationFn:async({uri:n})=>{await Lu(n,{method:"DELETE"})},onSuccess:Oy(e)})},H_e=(e,t)=>{const n=qge(e),r=t.getQueryCache().getAll().filter(a=>a.queryKey[0]===Gr.rdfDocument&&typeof a.queryKey[1]=="string"&&n.includes(a.queryKey[1])).map(a=>a.queryKey[1]);return B_e(r,a=>a.length)},Oy=(e,t=()=>!0)=>(n,r)=>{const i=ic(r.uri);if(e.invalidateQueries({queryKey:[Gr.rdfDocument,i]}),e.invalidateQueries({queryKey:[Gr.rdfDocument,H9(i)]}),t(n)){const a=H_e(i,e);a&&e.invalidateQueries({queryKey:[Gr.rdfDocument,a]})}},Xo=(e,t)=>{const n=ya(V.useMemo(()=>({query:NO,variables:{person:e?[e]:[],community:[t]},fetch:rr}),[t,e])),{variables:r,isLoading:i}=n,a=ya(V.useMemo(()=>({query:_H,variables:{person:e?[e]:[]},fetch:rr}),[e])),o=V.useMemo(()=>(r.hospexDocumentForCommunity??[]).map(S=>new Ls(n.quads).getQuads(null,null,null,new ei(S))).map(S=>Cr.createLdoDataset(S).usingType(Sb).fromSubject(e)),[n.quads,r.hospexDocumentForCommunity,e]),s=V.useMemo(()=>{const{quads:y}=a;return Cr.createLdoDataset(y).usingType(__e).fromSubject(e)},[a,e]),l=V.useMemo(()=>Tf({},t6(s),...o.map(y=>t6(y))),[s,o]),c=V.useMemo(()=>o[0]?Eb(o[0],"note"):{},[o]),d=V.useMemo(()=>{var y,v;return{id:e,name:l.name??"",photo:(y=l.hasPhoto)==null?void 0:y["@id"],about:c,interests:((v=l.topicInterest)==null?void 0:v.map(_=>_["@id"]))??[]}},[c,l.hasPhoto,l.name,l.topicInterest,e]),h=V.useMemo(()=>{var y,v,_;return o.length>0?{id:e,name:((y=o[0])==null?void 0:y.name)??"",photo:(_=(v=o[0])==null?void 0:v.hasPhoto)==null?void 0:_["@id"],about:c}:void 0},[c,o,e]),m=V.useMemo(()=>new Ls(n.quads).getQuads(new ei(e),new ei(Ql.topic_interest),null,null).map(y=>({id:y.object.id,document:y.graph.id})),[n,e]);return V.useMemo(()=>{var y;return[d,i,(y=r.hospexDocumentForCommunity)==null?void 0:y[0],m,h]},[h,m,i,d,r.hospexDocumentForCommunity])},UH=e=>{const{quads:t,isFetched:n}=ya(V.useMemo(()=>({query:tp,variables:{person:[e]},fetch:rr,getAdditionalData:i=>({isFetched:i.every(a=>a.isFetched)})}),[e]));return V.useMemo(()=>[Cr.createLdoDataset(t).usingType(EH).fromSubject(e),{isFetched:n}],[n,e,t])},V_e=()=>{const e=Uf(Sb);return V.useCallback(async({personId:t,hospexDocument:n,data:r})=>{await e.mutateAsync({uri:n,subject:t,language:"en",transform:i=>{r.name&&(i.name=r.name),r.about&&FO(r.about,i,"note"),r.photo&&(i.hasPhoto={"@id":r.photo})}})},[e])},K_e=()=>{const e=to();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${xn.InsertDeletePatch}>;
        <${xn.inserts}> { <${t}> <${Ql.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])},G_e=()=>{const e=to();return V.useCallback(async({person:t,document:n,interest:r})=>{const i=`_:mutate a <${xn.InsertDeletePatch}>;
        <${xn.deletes}> { <${t}> <${Ql.topic_interest}> <${r}>. } .`;await e.mutateAsync({uri:n,patch:i})},[e])};var tT,k6;function W_e(){if(k6)return tT;k6=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return tT=e,tT}var nT,N6;function Q_e(){if(N6)return nT;N6=1;var e=np(),t=Ey();function n(r,i){return r&&e(i,t(i),r)}return nT=n,nT}var rT,F6;function Z_e(){if(F6)return rT;F6=1;var e=np(),t=Py();function n(r,i){return r&&e(i,t(i),r)}return rT=n,rT}var iT,j6;function J_e(){if(j6)return iT;j6=1;var e=np(),t=wO();function n(r,i){return e(r,t(r),i)}return iT=n,iT}var aT,$6;function qH(){if($6)return aT;$6=1;var e=_O(),t=$O(),n=wO(),r=wz(),i=Object.getOwnPropertySymbols,a=i?function(o){for(var s=[];o;)e(s,n(o)),o=t(o);return s}:r;return aT=a,aT}var oT,B6;function X_e(){if(B6)return oT;B6=1;var e=np(),t=qH();function n(r,i){return e(r,t(r),i)}return oT=n,oT}var sT,U6;function zH(){if(U6)return sT;U6=1;var e=vz(),t=qH(),n=Py();function r(i){return e(i,n,t)}return sT=r,sT}var uT,q6;function Y_e(){if(q6)return uT;q6=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,a=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(a.index=r.index,a.input=r.input),a}return uT=n,uT}var lT,z6;function e0e(){if(z6)return lT;z6=1;var e=jO();function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return lT=t,lT}var cT,H6;function t0e(){if(H6)return cT;H6=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return cT=t,cT}var fT,V6;function n0e(){if(V6)return fT;V6=1;var e=Wh(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return fT=r,fT}var dT,K6;function r0e(){if(K6)return dT;K6=1;var e=jO(),t=e0e(),n=t0e(),r=n0e(),i=PH(),a="[object Boolean]",o="[object Date]",s="[object Map]",l="[object Number]",c="[object RegExp]",d="[object Set]",h="[object String]",m="[object Symbol]",y="[object ArrayBuffer]",v="[object DataView]",_="[object Float32Array]",S="[object Float64Array]",b="[object Int8Array]",x="[object Int16Array]",R="[object Int32Array]",P="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]";function Q(Y,U,X){var ce=Y.constructor;switch(U){case y:return e(Y);case a:case o:return new ce(+Y);case v:return t(Y,X);case _:case S:case b:case x:case R:case P:case O:case D:case F:return i(Y,X);case s:return new ce;case l:case h:return new ce(Y);case c:return n(Y);case d:return new ce;case m:return r(Y)}}return dT=Q,dT}var hT,G6;function i0e(){if(G6)return hT;G6=1;var e=gb(),t=ju(),n="[object Map]";function r(i){return t(i)&&e(i)==n}return hT=r,hT}var pT,W6;function a0e(){if(W6)return pT;W6=1;var e=i0e(),t=SO(),n=xO(),r=n&&n.isMap,i=r?t(r):e;return pT=i,pT}var gT,Q6;function o0e(){if(Q6)return gT;Q6=1;var e=gb(),t=ju(),n="[object Set]";function r(i){return t(i)&&e(i)==n}return gT=r,gT}var mT,Z6;function s0e(){if(Z6)return mT;Z6=1;var e=o0e(),t=SO(),n=xO(),r=n&&n.isSet,i=r?t(r):e;return mT=i,mT}var yT,J6;function HH(){if(J6)return yT;J6=1;var e=cb(),t=W_e(),n=BO(),r=Q_e(),i=Z_e(),a=AH(),o=OH(),s=J_e(),l=X_e(),c=Ez(),d=zH(),h=gb(),m=Y_e(),y=r0e(),v=LH(),_=rs(),S=db(),b=a0e(),x=Po(),R=s0e(),P=Ey(),O=Py(),D=1,F=2,Q=4,Y="[object Arguments]",U="[object Array]",X="[object Boolean]",ce="[object Date]",te="[object Error]",se="[object Function]",pe="[object GeneratorFunction]",_e="[object Map]",de="[object Number]",ue="[object Object]",Ae="[object RegExp]",k="[object Set]",ie="[object String]",me="[object Symbol]",K="[object WeakMap]",ee="[object ArrayBuffer]",ge="[object DataView]",Re="[object Float32Array]",Ze="[object Float64Array]",Pe="[object Int8Array]",Ne="[object Int16Array]",Xe="[object Int32Array]",oe="[object Uint8Array]",H="[object Uint8ClampedArray]",$="[object Uint16Array]",ae="[object Uint32Array]",Z={};Z[Y]=Z[U]=Z[ee]=Z[ge]=Z[X]=Z[ce]=Z[Re]=Z[Ze]=Z[Pe]=Z[Ne]=Z[Xe]=Z[_e]=Z[de]=Z[ue]=Z[Ae]=Z[k]=Z[ie]=Z[me]=Z[oe]=Z[H]=Z[$]=Z[ae]=!0,Z[te]=Z[se]=Z[K]=!1;function he(ye,He,Ee,Fe,tt,nt){var gt,qt=He&D,Se=He&F,Ue=He&Q;if(Ee&&(gt=tt?Ee(ye,Fe,tt,nt):Ee(ye)),gt!==void 0)return gt;if(!x(ye))return ye;var ne=_(ye);if(ne){if(gt=m(ye),!qt)return o(ye,gt)}else{var z=h(ye),W=z==se||z==pe;if(S(ye))return a(ye,qt);if(z==ue||z==Y||W&&!tt){if(gt=Se||W?{}:v(ye),!qt)return Se?l(ye,i(gt,ye)):s(ye,r(gt,ye))}else{if(!Z[z])return tt?ye:{};gt=y(ye,z,qt)}}nt||(nt=new e);var G=nt.get(ye);if(G)return G;nt.set(ye,gt),R(ye)?ye.forEach(function(ke){gt.add(he(ke,He,Ee,ke,ye,nt))}):b(ye)&&ye.forEach(function(ke,At){gt.set(At,he(ke,He,Ee,At,ye,nt))});var je=Ue?Se?d:c:Se?O:P,Je=ne?void 0:je(ye);return t(Je||ye,function(ke,At){Je&&(At=ke,ke=ye[At]),n(gt,At,he(ke,He,Ee,At,ye,nt))}),gt}return yT=he,yT}var vT,X6;function u0e(){if(X6)return vT;X6=1;var e=HH(),t=1,n=4;function r(i){return e(i,t|n)}return vT=r,vT}var l0e=u0e();const c0e=Ir(l0e),f0e=e=>{const{quads:t,variables:n}=ya(V.useMemo(()=>({query:l_e,variables:{person:[e]},staleTime:3e4,fetch:rr}),[e])),r=V.useMemo(()=>{const i=Cr.createLdoDataset(t).usingType(Th);return(n.chat??[]).map(a=>i.fromSubject(a)).map(a=>{var d,h,m;const o=a["@id"],s=((d=a.participation)==null?void 0:d.map(y=>{var v;return((v=y.references)==null?void 0:v.map(_=>_["@id"]??[]).flat().filter(_=>!!_))??[]}).flat())??[],l=((h=a.participation)==null?void 0:h.map(y=>y.participant["@id"]))??[],c=[a,...(((m=a.participation)==null?void 0:m.map(y=>y.references).flat())??[]).filter(y=>!!y).map(y=>[...y]).flat()].flatMap(y=>(y.message??[]).map(v=>({id:v["@id"],message:v.content,createdAt:new Date(v.created).getTime(),from:v.maker["@id"],chat:y["@id"]})).sort((v,_)=>v.createdAt-_.createdAt));return{id:o,related:s,participants:l,messages:c}}).sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)})},[t,n.chat]);return V.useMemo(()=>({data:r}),[r])},Tb=e=>{const{quads:t,variables:n,isLoading:r}=ya(V.useMemo(()=>({query:a_e,variables:{person:e?[e]:[]},fetch:rr,staleTime:3e4}),[e])),i=V.useMemo(()=>(n.longChatNotification??[]).map(a=>{var s,l,c,d;const o=Cr.createLdoDataset(t).usingType(CH).fromSubject(a);return{id:o.object["@id"]??"",message:o.object.content,createdAt:new Date(((s=o.object)==null?void 0:s.created)??o.updated).getTime(),from:((l=o.object.maker)==null?void 0:l["@id"])??((c=o.actor)==null?void 0:c["@id"]),chat:o.target["@id"]??"",otherChats:(d=o.target.participation)==null?void 0:d.map(h=>{var m;return((m=h.references)==null?void 0:m.map(y=>y["@id"]??[]).flat())??[]}).flat(),notification:o["@id"],status:"unread"}}),[t,n.longChatNotification]);return V.useMemo(()=>({isLoading:r,data:i}),[r,i])},d0e=e=>{const{data:t}=f0e(e),{data:n}=Tb(e);return{data:V.useMemo(()=>{const i=c0e(t);n.forEach(a=>{const o=i.find(s=>{var l;return s.related.includes(a.chat)||((l=a.otherChats)==null?void 0:l.includes(s.id))});if(o){o.status="unread";const s=o.messages.findIndex(l=>l.id===a.id);s>-1?o.messages[s]=a:o.messages.push(a)}else i.push({id:a.chat,related:[a.chat],messages:[a],participants:[a.from],status:"new"})});for(const a of i)a.messages.sort((o,s)=>((o==null?void 0:o.createdAt)??0)-((s==null?void 0:s.createdAt)??0));return i.sort((a,o)=>{var s,l;return(((s=[...o.messages].pop())==null?void 0:s.createdAt)??0)-(((l=[...a.messages].pop())==null?void 0:l.createdAt)??0)}),i},[n,t])}};function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}function Rf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _T={exports:{}},wT,Y6;function h0e(){if(Y6)return wT;Y6=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return wT=e,wT}var bT,e$;function p0e(){if(e$)return bT;e$=1;var e=h0e();function t(){}function n(){}return n.resetWarningCache=t,bT=function(){function r(o,s,l,c,d,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},bT}var t$;function VH(){return t$||(t$=1,_T.exports=p0e()()),_T.exports}var Jl=PP();const g0e=Ir(Jl);var KH=function(t){return!!t&&t[0]==="o"},n$=Jl.unstable_batchedUpdates||function(e){return e()},Ld=function(t,n,r){return r===void 0&&(r=1e-4),Math.abs(t-n)<r},Wm=function(t,n){return t===!0||!!(t&&t[n])},Co=function(t,n){return typeof t=="function"?t(n):t},GH="_szhsinMenu",m0e=function(t){return t[GH]},y0e=function(t,n){return Object.defineProperty(n,GH,{value:t})},Rb=function(t,n){return n&&Object.keys(n).forEach(function(r){var i=t[r],a=n[r];typeof a=="function"&&i?t[r]=function(){a.apply(void 0,arguments),i.apply(void 0,arguments)}:t[r]=a}),t},v0e=function(t){if(typeof t!="string")return{top:0,right:0,bottom:0,left:0};var n=t.trim().split(/\s+/,4).map(parseFloat),r=isNaN(n[0])?0:n[0],i=isNaN(n[1])?r:n[1];return{top:r,right:i,bottom:isNaN(n[2])?r:n[2],left:isNaN(n[3])?i:n[3]}},ST=function(t){for(;t;){if(t=t.parentNode,!t||t===document.body)return;var n=getComputedStyle(t),r=n.overflow,i=n.overflowX,a=n.overflowY;if(/auto|scroll|overlay|hidden/.test(r+a+i))return t}};function WH(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function r$(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Rh=function(t){var n=t.block,r=t.element,i=t.modifiers,a=t.className;return V.useMemo(function(){var o=r?n+"__"+r:n,s=o;i&&Object.keys(i).forEach(function(c){var d=i[c];d&&(s+=" "+o+"--"+(d===!0?c:c+"-"+d))});var l=typeof a=="function"?a(i):a;return typeof l=="string"&&(l=l.trim(),l&&(s+=" "+l)),s},[n,r,i,a])},_0e="szh-menu-container",Dm="szh-menu",w0e="szh-menu-button",b0e="arrow",S0e="item",x0e="divider",QH=V.createContext(),ZH=V.createContext({}),i$=V.createContext({}),JH=V.createContext({}),E0e=V.createContext({}),XH=V.createContext({}),YH=V.createContext({}),Wo=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),xi=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Qm=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),km=Object.freeze({FIRST:"first",LAST:"last"}),C0e=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),T0e=["className","isOpen","disabled","children"],R0e=y0e("MenuButton",V.forwardRef(function(t,n){var r=t.className,i=t.isOpen,a=t.disabled,o=t.children,s=Rf(t,T0e),l=V.useMemo(function(){return{open:i}},[i]);return B.jsx("button",ti({"aria-haspopup":!0,"aria-expanded":i,"aria-disabled":a||void 0,type:"button",disabled:a},s,{ref:n,className:Rh({block:w0e,modifiers:l,className:r}),children:o}))})),A0e=function(t){var n=t.className,r=t.containerRef,i=t.containerProps,a=t.children,o=t.isOpen,s=t.skipOpen,l=t.theming,c=t.transition,d=t.onClose,h=Wm(c,"item"),m=function(_){var S=_.key;switch(S){case Wo.ESC:Co(d,{key:S,reason:Qm.CANCEL});break}},y=function(_){o&&!_.currentTarget.contains(_.relatedTarget||document.activeElement)&&(Co(d,{reason:Qm.BLUR}),s&&(s.current=!0,setTimeout(function(){return s.current=!1},300)))};return B.jsx("div",ti({},Rb({onKeyDown:m,onBlur:y},i),{className:Rh({block:_0e,modifiers:V.useMemo(function(){return{theme:l,itemTransition:h}},[l,h]),className:n}),style:ti({position:"absolute"},i==null?void 0:i.style),ref:r,children:a}))},P0e=function(t,n){var r=V.useState(),i=r[0],a=r[1],o=V.useRef({items:[],hoverIndex:-1,sorted:!1}),s=o.current,l=V.useCallback(function(d,h){var m=s.items;if(!d)s.items=[];else if(h)m.push(d);else{var y=m.indexOf(d);y>-1&&(m.splice(y,1),d.contains(document.activeElement)&&(n.current.focus(),a()))}s.hoverIndex=-1,s.sorted=!1},[s,n]),c=V.useCallback(function(d,h,m){var y=s.items,v=s.hoverIndex,_=function(){if(!s.sorted){var R=t.current.querySelectorAll(".szh-menu__item");y.sort(function(P,O){return r$(R,P)-r$(R,O)}),s.sorted=!0}},S=-1,b=void 0;switch(d){case xi.RESET:break;case xi.SET:b=h;break;case xi.UNSET:b=function(R){return R===h?void 0:R};break;case xi.FIRST:_(),S=0,b=y[S];break;case xi.LAST:_(),S=y.length-1,b=y[S];break;case xi.SET_INDEX:_(),S=m,b=y[S];break;case xi.INCREASE:_(),S=v,S<0&&(S=y.indexOf(h)),S++,S>=y.length&&(S=0),b=y[S];break;case xi.DECREASE:_(),S=v,S<0&&(S=y.indexOf(h)),S--,S<0&&(S=y.length-1),b=y[S];break}b||(S=-1),a(b),s.hoverIndex=S},[t,s]);return{hoverItem:i,dispatch:c,updateItems:l}},O0e=function(t,n,r,i){var a=n.current.getBoundingClientRect(),o=t.current.getBoundingClientRect(),s=r===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:r.getBoundingClientRect(),l=v0e(i),c=function(S){return S+o.left-s.left-l.left},d=function(S){return S+o.left+a.width-s.right+l.right},h=function(S){return S+o.top-s.top-l.top},m=function(S){return S+o.top+a.height-s.bottom+l.bottom},y=function(S){var b=c(S);if(b<0)S-=b;else{var x=d(S);x>0&&(S-=x,b=c(S),b<0&&(S-=b))}return S},v=function(S){var b=h(S);if(b<0)S-=b;else{var x=m(S);x>0&&(S-=x,b=h(S),b<0&&(S-=b))}return S};return{menuRect:a,containerRect:o,getLeftOverflow:c,getRightOverflow:d,getTopOverflow:h,getBottomOverflow:m,confineHorizontally:y,confineVertically:v}},L0e=function(t){var n=t.arrowRef,r=t.menuY,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.top-a.top-r+i.height/2,l=n.current.offsetHeight*1.25;return s=Math.max(l,s),s=Math.min(s,o.height-l),s},I0e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeLeftorRightY,o=t.placeLeftX,s=t.placeRightX,l=t.getLeftOverflow,c=t.getRightOverflow,d=t.confineHorizontally,h=t.confineVertically,m=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,S=v,b=a;_!=="initial"&&(b=h(b),_==="anchor"&&(b=Math.min(b,n.bottom-r.top),b=Math.max(b,n.top-r.top-i.height)));var x,R,P;S==="left"?(x=o,_!=="initial"&&(R=l(x),R<0&&(P=c(s),(P<=0||-R>P)&&(x=s,S="right")))):(x=s,_!=="initial"&&(P=c(x),P>0&&(R=l(o),(R>=0||-R<P)&&(x=o,S="left")))),_==="auto"&&(x=d(x));var O=y?L0e({menuY:b,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowY:O,x,y:b,computedDirection:S}},M0e=function(t){var n=t.arrowRef,r=t.menuX,i=t.anchorRect,a=t.containerRect,o=t.menuRect,s=i.left-a.left-r+i.width/2,l=n.current.offsetWidth*1.25;return s=Math.max(l,s),s=Math.min(s,o.width-l),s},D0e=function(t){var n=t.anchorRect,r=t.containerRect,i=t.menuRect,a=t.placeToporBottomX,o=t.placeTopY,s=t.placeBottomY,l=t.getTopOverflow,c=t.getBottomOverflow,d=t.confineHorizontally,h=t.confineVertically,m=t.arrowRef,y=t.arrow,v=t.direction,_=t.position,S=v==="top"?"top":"bottom",b=a;_!=="initial"&&(b=d(b),_==="anchor"&&(b=Math.min(b,n.right-r.left),b=Math.max(b,n.left-r.left-i.width)));var x,R,P;S==="top"?(x=o,_!=="initial"&&(R=l(x),R<0&&(P=c(s),(P<=0||-R>P)&&(x=s,S="bottom")))):(x=s,_!=="initial"&&(P=c(x),P>0&&(R=l(o),(R>=0||-R<P)&&(x=o,S="top")))),_==="auto"&&(x=h(x));var O=y?M0e({menuX:b,arrowRef:m,anchorRect:n,containerRect:r,menuRect:i}):void 0;return{arrowX:O,x:b,y:x,computedDirection:S}},k0e=function(t){var n=t.arrow,r=t.align,i=t.direction,a=t.offsetX,o=t.offsetY,s=t.position,l=t.anchorRect,c=t.arrowRef,d=t.positionHelpers,h=d.menuRect,m=d.containerRect,y=a,v=o;n&&(i==="left"||i==="right"?y+=c.current.offsetWidth:v+=c.current.offsetHeight);var _=l.left-m.left-h.width-y,S=l.right-m.left+y,b=l.top-m.top-h.height-v,x=l.bottom-m.top+v,R,P;r==="end"?(R=l.right-m.left-h.width,P=l.bottom-m.top-h.height):r==="center"?(R=l.left-m.left-(h.width-l.width)/2,P=l.top-m.top-(h.height-l.height)/2):(R=l.left-m.left,P=l.top-m.top),R+=y,P+=v;var O=ti({},d,{anchorRect:l,placeLeftX:_,placeRightX:S,placeLeftorRightY:P,placeTopY:b,placeBottomY:x,placeToporBottomX:R,arrowRef:c,arrow:n,direction:i,position:s});switch(i){case"left":case"right":return I0e(O);case"top":case"bottom":default:return D0e(O)}},j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?V.useLayoutEffect:V.useEffect;function a$(e,t){typeof e=="function"?e(t):e.current=t}var UO=function(t,n){return V.useMemo(function(){return t?n?function(r){a$(t,r),a$(n,r)}:t:n},[t,n])},N0e=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],F0e=function(t){var n=t.ariaLabel,r=t.menuClassName,i=t.menuStyle,a=t.arrowClassName,o=t.arrowStyle,s=t.anchorPoint,l=t.anchorRef,c=t.containerRef,d=t.containerProps,h=t.focusProps,m=t.externalRef,y=t.parentScrollingRef,v=t.arrow,_=t.align,S=_===void 0?"start":_,b=t.direction,x=b===void 0?"bottom":b,R=t.position,P=R===void 0?"auto":R,O=t.overflow,D=O===void 0?"visible":O,F=t.setDownOverflow,Q=t.repositionFlag,Y=t.captureFocus,U=Y===void 0?!0:Y,X=t.state,ce=t.endTransition,te=t.isDisabled,se=t.menuItemFocus,pe=t.offsetX,_e=pe===void 0?0:pe,de=t.offsetY,ue=de===void 0?0:de,Ae=t.children,k=t.onClose,ie=Rf(t,N0e),me=V.useState({x:0,y:0}),K=me[0],ee=me[1],ge=V.useState({}),Re=ge[0],Ze=ge[1],Pe=V.useState(),Ne=Pe[0],Xe=Pe[1],oe=V.useState(x),H=oe[0],$=oe[1],ae=V.useState(0),Z=ae[0],he=ae[1],ye=V.useReducer(function(it){return it+1},1),He=ye[0],Ee=ye[1],Fe=V.useContext(XH),tt=Fe.transition,nt=Fe.boundingBoxRef,gt=Fe.boundingBoxPadding,qt=Fe.rootMenuRef,Se=Fe.rootAnchorRef,Ue=Fe.scrollNodesRef,ne=Fe.reposition,z=Fe.viewScroll,W=V.useContext(i$).reposSubmenu||Q,G=V.useRef(null),je=V.useRef(),Je=V.useRef(),ke=V.useRef(!1),At=V.useRef({width:0,height:0}),It=V.useRef(function(){}),Nt=P0e(G,je),Ot=Nt.hoverItem,zt=Nt.dispatch,Ar=Nt.updateItems,dn=KH(X),hn=Wm(tt,"open"),gr=Wm(tt,"close"),un=Ue.current,ln=function(Ct){switch(Ct.key){case Wo.HOME:zt(xi.FIRST);break;case Wo.END:zt(xi.LAST);break;case Wo.UP:zt(xi.DECREASE,Ot);break;case Wo.DOWN:zt(xi.INCREASE,Ot);break;case Wo.SPACE:Ct.target&&Ct.target.className.indexOf(Dm)!==-1&&Ct.preventDefault();return;default:return}Ct.preventDefault(),Ct.stopPropagation()},Mn=function(){X==="closing"&&Xe(),Co(ce)},ur=V.useCallback(function(it){var Ct,Dt=l?(Ct=l.current)==null?void 0:Ct.getBoundingClientRect():s?{left:s.x,right:s.x,top:s.y,bottom:s.y,width:0,height:0}:null;if(Dt){un.menu||(un.menu=(nt?nt.current:ST(qt.current))||window);var Gt=O0e(c,G,un.menu,gt),Yt=k0e({arrow:v,align:S,direction:x,offsetX:_e,offsetY:ue,position:P,anchorRect:Dt,arrowRef:Je,positionHelpers:Gt}),Ht=Yt.arrowX,jt=Yt.arrowY,tn=Yt.x,On=Yt.y,Wt=Yt.computedDirection,Zt=Gt.menuRect,En=Zt.height;if(!it&&D!=="visible"){var Cn=Gt.getTopOverflow,qn=Gt.getBottomOverflow,Pr,Zr,Jr=At.current.height,Mr=qn(On);if(Mr>0||Ld(Mr,0)&&Ld(En,Jr))Pr=En-Mr,Zr=Mr;else{var $n=Cn(On);($n<0||Ld($n,0)&&Ld(En,Jr))&&(Pr=En+$n,Zr=0-$n,Pr>=0&&(On-=$n))}Pr>=0?(En=Pr,Xe({height:Pr,overflowAmt:Zr})):Xe()}v&&Ze({x:Ht,y:jt}),ee({x:tn,y:On}),$(Wt),At.current={width:Zt.width,height:En}}},[v,S,gt,x,_e,ue,P,D,s,l,c,nt,qt,un]);j0(function(){dn&&(ur(),ke.current&&Ee()),ke.current=dn,It.current=ur},[dn,ur,W]),j0(function(){Ne&&!F&&(G.current.scrollTop=0)},[Ne,F]),j0(function(){return Ar},[Ar]),V.useEffect(function(){var it=un.menu;if(!(!dn||!it)){if(it=it.addEventListener?it:window,!un.anchors){un.anchors=[];for(var Ct=ST(Se&&Se.current);Ct&&Ct!==it;)un.anchors.push(Ct),Ct=ST(Ct)}var Dt=z;if(un.anchors.length&&Dt==="initial"&&(Dt="auto"),Dt!=="initial"){var Gt=function(){Dt==="auto"?n$(function(){return ur(!0)}):Co(k,{reason:Qm.SCROLL})},Yt=un.anchors.concat(z!=="initial"?it:[]);return Yt.forEach(function(Ht){return Ht.addEventListener("scroll",Gt)}),function(){return Yt.forEach(function(Ht){return Ht.removeEventListener("scroll",Gt)})}}}},[Se,un,dn,k,z,ur]);var Le=!!Ne&&Ne.overflowAmt>0;V.useEffect(function(){if(!(Le||!dn||!y)){var it=function(){return n$(ur)},Ct=y.current;return Ct.addEventListener("scroll",it),function(){return Ct.removeEventListener("scroll",it)}}},[dn,Le,y,ur]),V.useEffect(function(){if(!(typeof ResizeObserver!="function"||ne==="initial")){var it=new ResizeObserver(function(Dt){var Gt=Dt[0],Yt=Gt.borderBoxSize,Ht=Gt.target,jt,tn;if(Yt){var On=Yt[0]||Yt,Wt=On.inlineSize,Zt=On.blockSize;jt=Wt,tn=Zt}else{var En=Ht.getBoundingClientRect();jt=En.width,tn=En.height}jt===0||tn===0||Ld(jt,At.current.width,1)&&Ld(tn,At.current.height,1)||Jl.flushSync(function(){It.current(),Ee()})}),Ct=G.current;return it.observe(Ct,{box:"border-box"}),function(){return it.unobserve(Ct)}}},[ne]),V.useEffect(function(){if(!dn){zt(xi.RESET),gr||Xe();return}var it=se||{},Ct=it.position,Dt=it.alwaysUpdate,Gt=function(){Ct===km.FIRST?zt(xi.FIRST):Ct===km.LAST?zt(xi.LAST):Ct>=-1&&zt(xi.SET_INDEX,void 0,Ct)};if(Dt)Gt();else if(U){var Yt=setTimeout(function(){G.current.contains(document.activeElement)||(je.current.focus(),Gt())},hn?170:100);return function(){return clearTimeout(Yt)}}},[dn,hn,gr,U,se,zt]);var qe=Z>0,bt=V.useMemo(function(){return{isParentOpen:dn,isSubmenuOpen:qe,setOpenSubmenuCount:he,dispatch:zt,updateItems:Ar}},[dn,qe,zt,Ar]),Et,Mt;Ne&&(F?Mt=Ne.overflowAmt:Et=Ne.height);var Hn=V.useMemo(function(){return{reposSubmenu:He,overflow:D,overflowAmt:Mt,parentMenuRef:G,parentDir:H}},[He,D,Mt,H]),Jn=Et>=0?{maxHeight:Et,overflow:D}:void 0,We=V.useMemo(function(){return{state:X,dir:H}},[X,H]),Ce=V.useMemo(function(){return{dir:H}},[H]),et=Rh({block:Dm,element:b0e,modifiers:Ce,className:a}),ft=B.jsxs("ul",ti({role:"menu","aria-label":n},WH(te),Rb({onKeyDown:ln,onAnimationEnd:Mn},ie),{ref:UO(m,G),className:Rh({block:Dm,modifiers:We,className:r}),style:ti({},i,Jn,{margin:0,display:X==="closed"?"none":void 0,position:"absolute",left:K.x,top:K.y}),children:[B.jsx("div",ti({tabIndex:-1,style:{position:"absolute",left:0,top:0}},h,{ref:je})),v&&B.jsx("div",{className:et,style:ti({},o,{position:"absolute",left:Re.x,top:Re.y}),ref:Je}),B.jsx(i$.Provider,{value:Hn,children:B.jsx(ZH.Provider,{value:bt,children:B.jsx(QH.Provider,{value:Ot,children:Ae})})})]}));return d?B.jsx(A0e,ti({},d,{isOpen:dn,children:ft})):ft},j0e=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],$0e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.className,a=t.containerProps,o=t.initialMounted,s=t.unmountOnClose,l=t.transition,c=t.transitionTimeout,d=t.boundingBoxRef,h=t.boundingBoxPadding,m=t.reposition,y=m===void 0?"auto":m,v=t.submenuOpenDelay,_=v===void 0?300:v,S=t.submenuCloseDelay,b=S===void 0?150:S,x=t.skipOpen,R=t.viewScroll,P=R===void 0?"initial":R,O=t.portal,D=t.theming,F=t.onItemClick,Q=Rf(t,j0e),Y=V.useRef(null),U=V.useRef({}),X=Q.anchorRef,ce=Q.state,te=Q.onClose,se=V.useMemo(function(){return{initialMounted:o,unmountOnClose:s,transition:l,transitionTimeout:c,boundingBoxRef:d,boundingBoxPadding:h,rootMenuRef:Y,rootAnchorRef:X,scrollNodesRef:U,reposition:y,viewScroll:P}},[o,s,l,c,X,d,h,y,P]),pe=V.useMemo(function(){return{submenuOpenDelay:_,submenuCloseDelay:b}},[_,b]),_e=V.useMemo(function(){return{handleClick:function(Ae,k){Ae.stopPropagation||Co(F,Ae);var ie=Ae.keepOpen;ie===void 0&&(ie=k&&Ae.key===Wo.SPACE),ie||Co(te,{value:Ae.value,key:Ae.key,reason:Qm.CLICK})},handleClose:function(Ae){Co(te,{key:Ae,reason:Qm.CLICK})}}},[F,te]);if(!ce)return null;var de=B.jsx(XH.Provider,{value:se,children:B.jsx(YH.Provider,{value:pe,children:B.jsx(JH.Provider,{value:_e,children:B.jsx(F0e,ti({},Q,{ariaLabel:r||"Menu",externalRef:n,containerRef:Y,containerProps:{className:i,containerRef:Y,containerProps:a,skipOpen:x,theming:D,transition:l,onClose:te}}))})})});return O===!0&&typeof document<"u"?Jl.createPortal(de,document.body):O?O.target?Jl.createPortal(de,O.target):O.stablePosition?null:de:de}),xT=0,ET=1,g_=2,CT=3,TT=4,B0e=5,U0e=6,e7=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],RT=function(t){return t?U0e:B0e},o$=function(t,n,r,i,a){clearTimeout(i.current),n(t),r.current=t,a&&a({state:e7[t]})},q0e=function(t){var n=t===void 0?{}:t,r=n.enter,i=r===void 0?!0:r,a=n.exit,o=a===void 0?!0:a,s=n.preEnter,l=n.preExit,c=n.timeout,d=n.initialEntered,h=n.mountOnEnter,m=n.unmountOnExit,y=n.onChange,v=V.useState(d?g_:RT(h)),_=v[0],S=v[1],b=V.useRef(_),x=V.useRef(),R,P;typeof c=="object"?(R=c.enter,P=c.exit):R=P=c;var O=V.useCallback(function(){var F;switch(b.current){case ET:case xT:F=g_;break;case TT:case CT:F=RT(m);break}F!==void 0&&o$(F,S,b,x,y)},[y,m]),D=V.useCallback(function(F){var Q=function U(X){switch(o$(X,S,b,x,y),X){case ET:R>=0&&(x.current=setTimeout(O,R));break;case TT:P>=0&&(x.current=setTimeout(O,P));break;case xT:case CT:x.current=setTimeout(function(){return U(X+1)},0);break}},Y=b.current<=g_;typeof F!="boolean"&&(F=!Y),F?Y||Q(i?s?xT:ET:g_):Y&&Q(o?l?CT:TT:RT(m))},[O,y,i,o,s,l,R,P,m]);return V.useEffect(function(){return function(){return clearTimeout(x.current)}},[]),[e7[_],D,O]},z0e=function(t){var n=t===void 0?{}:t,r=n.initialOpen,i=n.initialMounted,a=n.unmountOnClose,o=n.transition,s=n.transitionTimeout,l=s===void 0?500:s,c=q0e({initialEntered:r,mountOnEnter:!i,unmountOnExit:a,timeout:l,enter:Wm(o,"open"),exit:Wm(o,"close")}),d=c[0],h=c[1],m=c[2];return[{state:C0e[d],endTransition:m},h]},H0e=function(t){var n=z0e(t),r=n[0],i=n[1],a=V.useState(),o=a[0],s=a[1],l=function(d,h){s({position:d,alwaysUpdate:h}),i(!0)};return[ti({menuItemFocus:o},r),i,l]},V0e=function(t,n){var r=V.useRef(n);V.useEffect(function(){r.current!==n&&Co(t,{open:n}),r.current=n},[t,n])},K0e=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],G0e=V.forwardRef(function(t,n){var r=t["aria-label"],i=t.menuButton,a=t.instanceRef,o=t.onMenuChange,s=Rf(t,K0e),l=H0e(s),c=l[0],d=l[1],h=l[2],m=KH(c.state),y=V.useRef(!1),v=V.useRef(null),_=V.useCallback(function(O){d(!1),O.key&&v.current.focus()},[d]),S=function(D){y.current||h(D.detail===0?km.FIRST:void 0)},b=function(D){switch(D.key){case Wo.UP:h(km.LAST);break;case Wo.DOWN:h(km.FIRST);break;default:return}D.preventDefault()},x=Co(i,{open:m});if(!x||!x.type)throw new Error("Menu requires a menuButton prop.");var R=ti({ref:UO(x.ref,v)},Rb({onClick:S,onKeyDown:b},x.props));m0e(x.type)==="MenuButton"&&(R.isOpen=m);var P=V.cloneElement(x,R);return V0e(o,m),V.useImperativeHandle(a,function(){return{openMenu:h,closeMenu:function(){return d(!1)}}}),B.jsxs(V.Fragment,{children:[P,B.jsx($0e,ti({},s,c,{"aria-label":r||(typeof x.props.children=="string"?x.props.children:"Menu"),anchorRef:v,ref:n,onClose:_,skipOpen:y}))]})}),W0e=function(t,n){var r=V.memo(n),i=V.forwardRef(function(a,o){var s=V.useRef(null);return B.jsx(r,ti({},a,{itemRef:s,externalRef:o,isHovering:V.useContext(QH)===s.current}))});return i.displayName="WithHovering("+t+")",i},Q0e=function(t,n,r){j0(function(){if(!t){var i=n.current;return r(i,!0),function(){r(i)}}},[t,n,r])},Z0e=function(t,n,r,i){var a=V.useContext(YH),o=a.submenuCloseDelay,s=V.useContext(ZH),l=s.isParentOpen,c=s.isSubmenuOpen,d=s.dispatch,h=s.updateItems,m=V.useRef(0),y=function(){!r&&!i&&d(xi.SET,t.current)},v=function(){!i&&d(xi.UNSET,t.current)},_=function(R){r&&!R.currentTarget.contains(R.relatedTarget)&&v()},S=function(){c?m.current||(m.current=setTimeout(function(){m.current=0,y()},o)):y()},b=function(R,P){m.current&&(clearTimeout(m.current),m.current=0),!P&&v()};return Q0e(i,t,h),V.useEffect(function(){return function(){return clearTimeout(m.current)}},[]),V.useEffect(function(){r&&l&&n.current&&n.current.focus()},[n,r,l]),{setHover:y,onBlur:_,onPointerMove:S,onPointerLeave:b}},J0e=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],X0e=["setHover"],Id=W0e("MenuItem",function(t){var n=t.className,r=t.value,i=t.href,a=t.type,o=t.checked,s=t.disabled,l=t.children,c=t.onClick,d=t.isHovering,h=t.itemRef,m=t.externalRef,y=Rf(t,J0e),v=!!s,_=Z0e(h,h,d,v),S=_.setHover,b=Rf(_,X0e),x=V.useContext(JH),R=V.useContext(E0e),P=a==="radio",O=a==="checkbox",D=!!i&&!v&&!P&&!O,F=P?R.value===r:O?!!o:!1,Q=function(se){if(v){se.stopPropagation(),se.preventDefault();return}var pe={value:r,syntheticEvent:se};se.key!==void 0&&(pe.key=se.key),O&&(pe.checked=!F),P&&(pe.name=R.name),Co(c,pe),P&&Co(R.onRadioChange,pe),x.handleClick(pe,O||P)},Y=function(se){if(d)switch(se.key){case Wo.ENTER:case Wo.SPACE:D?h.current.click():Q(se);break}},U=V.useMemo(function(){return{type:a,disabled:v,hover:d,checked:F,anchor:D}},[a,v,d,F,D]),X=Rb(ti({},b,{onPointerDown:S,onKeyDown:Y,onClick:Q}),y),ce=ti({role:P?"menuitemradio":O?"menuitemcheckbox":"menuitem","aria-checked":P||O?F:void 0},WH(v,d),X,{ref:UO(m,h),className:Rh({block:Dm,element:S0e,modifiers:U,className:n}),children:V.useMemo(function(){return Co(l,U)},[l,U])});return D?B.jsx("li",{role:"presentation",children:B.jsx("a",ti({href:i},ce))}):B.jsx("li",ti({},ce))}),Y0e=["className"],ewe=V.memo(V.forwardRef(function(t,n){var r=t.className,i=Rf(t,Y0e);return B.jsx("li",ti({role:"separator"},i,{ref:n,className:Rh({block:Dm,element:x0e,className:r})}))}));const twe=()=>{const{communityId:e}=kn(),t=jr($h),[n]=Xo(t.webId??"",e),{data:r}=Tb(t.webId??""),i=jr(zP),a=r.length;return B.jsxs(G0e,{menuButton:B.jsx(R0e,{"data-cy":"menu-button",children:B.jsx(ab,{photo:n.photo})}),theming:i==="dark"?"dark":void 0,children:[B.jsx(Id,{children:B.jsx(Ko,{to:"profile",children:(n==null?void 0:n.name)||B.jsx(_t,{id:"bbvfbr"})})}),B.jsx(Id,{children:B.jsx(Ko,{to:"profile/edit","data-cy":"menu-item-edit-profile",children:B.jsx(_t,{id:"HecDqj"})})}),B.jsx(Id,{children:B.jsxs(Ko,{to:"messages",children:[B.jsx(_t,{id:"gHFvtg"}),a?B.jsxs(B.Fragment,{children:[" ",B.jsx(_t,{id:"GbJuzd",values:{messageCount:a}})]}):null]})}),B.jsx(Id,{children:B.jsx(Ko,{to:`profile/${encodeURIComponent(t.webId)}/contacts`,children:B.jsx(_t,{id:"2LDW9H"})})}),B.jsx(Id,{children:B.jsx(Ko,{to:"host/offers",children:B.jsx(_t,{id:"BJjAHC"})})}),B.jsx(ewe,{}),B.jsx(Id,{children:B.jsx(v_e,{})})]})},nwe=()=>{const{communityId:e}=kn(),t=jr($h),n=jr(Ao),r=$u(e,n,jh);return B.jsxs("nav",{className:p_.header,children:[B.jsx(Ko,{className:p_.logoContainer,to:"/","data-cy":"header-logo-link",children:B.jsx(tz,{logo:r.logo[0],focusedLogo:r.logo[1],name:r.name||(r.isLoading?"...":"Home"),className:p_.logo})}),B.jsx("div",{className:p_.spacer}),B.jsx(h_e,{}),B.jsx(Ome,{}),t.isLoggedIn===!0&&B.jsx(twe,{}),t.isLoggedIn===void 0&&B.jsx(B.Fragment,{children:"..."})]})},rwe=(e,t="en")=>my({queryKey:[Gr.wikidataSearch,e,t],queryFn:()=>iwe(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),iwe=async(e,t)=>(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${encodeURIComponent(e)}&language=${t}&limit=20&continue=0&format=json&uselang=${t}&type=item&origin=*`)).json()).search.map(({concepturi:i,...a})=>Tf({aliases:[],photos:[]},{...a,uri:i})),awe=(e,t="en")=>my({queryKey:[Gr.wikidataEntity,e,t],queryFn:()=>owe(e,t),enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0}),owe=async(e,t)=>{var v,_,S;const n=((v=e.match(swe))==null?void 0:v[2])??"";if(!n)return{};const r=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${n}&languages=${t}&format=json&origin=*`);if(!r.ok)throw new To("Fetching interest failed",r);const i=await r.json();if(!i||!i.entities)return{};const a=i.entities[n];if(!a)return{};const o=(_=a.labels[t])==null?void 0:_.value,s=(S=a.descriptions[t])==null?void 0:S.value,l=(a.claims.P18??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],c=(a.claims.P154??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],d=l&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(l)}?width=300`,h=c&&`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(c)}?width=300`,m=(a.claims.P856??[]).map(b=>{var x;return(x=b.mainsnak.datavalue)==null?void 0:x.value})[0],y=(a.aliases[t]??[]).map(({value:b})=>b);return{id:n,uri:e,label:o,aliases:y,description:s,officialWebsite:m,image:h||d}},swe=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/;function s$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function t7(...e){return t=>{let n=!1;const r=e.map(i=>{const a=s$(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():s$(e[i],null)}}}}function Oa(...e){return V.useCallback(t7(...e),e)}var Ah=V.forwardRef((e,t)=>{const{children:n,...r}=e,i=V.Children.toArray(n),a=i.find(lwe);if(a){const o=a.props.children,s=i.map(l=>l===a?V.Children.count(o)>1?V.Children.only(null):V.isValidElement(o)?o.props.children:null:l);return B.jsx(VA,{...r,ref:t,children:V.isValidElement(o)?V.cloneElement(o,void 0,s):null})}return B.jsx(VA,{...r,ref:t,children:n})});Ah.displayName="Slot";var VA=V.forwardRef((e,t)=>{const{children:n,...r}=e;if(V.isValidElement(n)){const i=fwe(n),a=cwe(r,n.props);return n.type!==V.Fragment&&(a.ref=t?t7(t,i):i),V.cloneElement(n,a)}return V.Children.count(n)>1?V.Children.only(null):null});VA.displayName="SlotClone";var uwe=({children:e})=>B.jsx(B.Fragment,{children:e});function lwe(e){return V.isValidElement(e)&&e.type===uwe}function cwe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...s)=>{a(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function fwe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var dwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$r=dwe.reduce((e,t)=>{const n=V.forwardRef((r,i)=>{const{asChild:a,...o}=r,s=a?Ah:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(s,{...o,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function hwe(e,t){e&&Jl.flushSync(()=>e.dispatchEvent(t))}function pwe(e,t){const n=V.createContext(t),r=a=>{const{children:o,...s}=a,l=V.useMemo(()=>s,Object.values(s));return B.jsx(n.Provider,{value:l,children:o})};r.displayName=e+"Provider";function i(a){const o=V.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function qf(e,t=[]){let n=[];function r(a,o){const s=V.createContext(o),l=n.length;n=[...n,o];const c=h=>{var b;const{scope:m,children:y,...v}=h,_=((b=m==null?void 0:m[e])==null?void 0:b[l])||s,S=V.useMemo(()=>v,Object.values(v));return B.jsx(_.Provider,{value:S,children:y})};c.displayName=a+"Provider";function d(h,m){var _;const y=((_=m==null?void 0:m[e])==null?void 0:_[l])||s,v=V.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[c,d]}const i=()=>{const a=n.map(o=>V.createContext(o));return function(s){const l=(s==null?void 0:s[e])||a;return V.useMemo(()=>({[`__scope${e}`]:{...s,[e]:l}}),[s,l])}};return i.scopeName=e,[r,gwe(i,...t)]}function gwe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((s,{useScope:l,scopeName:c})=>{const h=l(a)[`__scope${c}`];return{...s,...h}},{});return V.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function mwe(e){const t=e+"CollectionProvider",[n,r]=qf(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:_}=y,S=Pt.useRef(null),b=Pt.useRef(new Map).current;return B.jsx(i,{scope:v,itemMap:b,collectionRef:S,children:_})};o.displayName=t;const s=e+"CollectionSlot",l=Pt.forwardRef((y,v)=>{const{scope:_,children:S}=y,b=a(s,_),x=Oa(v,b.collectionRef);return B.jsx(Ah,{ref:x,children:S})});l.displayName=s;const c=e+"CollectionItemSlot",d="data-radix-collection-item",h=Pt.forwardRef((y,v)=>{const{scope:_,children:S,...b}=y,x=Pt.useRef(null),R=Oa(v,x),P=a(c,_);return Pt.useEffect(()=>(P.itemMap.set(x,{ref:x,...b}),()=>void P.itemMap.delete(x))),B.jsx(Ah,{[d]:"",ref:R,children:S})});h.displayName=c;function m(y){const v=a(e+"CollectionConsumer",y);return Pt.useCallback(()=>{const S=v.collectionRef.current;if(!S)return[];const b=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((P,O)=>b.indexOf(P.ref.current)-b.indexOf(O.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:l,ItemSlot:h},m,r]}function Fr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function Iu(e){const t=V.useRef(e);return V.useEffect(()=>{t.current=e}),V.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function zf({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=ywe({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,s=Iu(n),l=V.useCallback(c=>{if(a){const h=typeof c=="function"?c(e):c;h!==e&&s(h)}else i(c)},[a,e,i,s]);return[o,l]}function ywe({defaultProp:e,onChange:t}){const n=V.useState(e),[r]=n,i=V.useRef(r),a=Iu(t);return V.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var Af=globalThis!=null&&globalThis.document?V.useLayoutEffect:()=>{};function vwe(e,t){return V.useReducer((n,r)=>t[n][r]??n,e)}var Hf=e=>{const{present:t,children:n}=e,r=_we(t),i=typeof n=="function"?n({present:r.isPresent}):V.Children.only(n),a=Oa(r.ref,wwe(i));return typeof n=="function"||r.isPresent?V.cloneElement(i,{ref:a}):null};Hf.displayName="Presence";function _we(e){const[t,n]=V.useState(),r=V.useRef({}),i=V.useRef(e),a=V.useRef("none"),o=e?"mounted":"unmounted",[s,l]=vwe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return V.useEffect(()=>{const c=m_(r.current);a.current=s==="mounted"?c:"none"},[s]),Af(()=>{const c=r.current,d=i.current;if(d!==e){const m=a.current,y=m_(c);e?l("MOUNT"):y==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Af(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=y=>{const _=m_(r.current).includes(y.animationName);if(y.target===t&&_&&(l("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},m=y=>{y.target===t&&(a.current=m_(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:V.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function m_(e){return(e==null?void 0:e.animationName)||"none"}function wwe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var bwe=bh.useId||(()=>{}),Swe=0;function Xd(e){const[t,n]=V.useState(bwe());return Af(()=>{e||n(r=>r??String(Swe++))},[e]),e||(t?`radix-${t}`:"")}var xwe=V.createContext(void 0);function qO(e){const t=V.useContext(xwe);return e||t||"ltr"}function Ewe(e,t=globalThis==null?void 0:globalThis.document){const n=Iu(e);V.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Cwe="DismissableLayer",KA="dismissableLayer.update",Twe="dismissableLayer.pointerDownOutside",Rwe="dismissableLayer.focusOutside",u$,n7=V.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zO=V.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...l}=e,c=V.useContext(n7),[d,h]=V.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=V.useState({}),v=Oa(t,F=>h(F)),_=Array.from(c.layers),[S]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(S),x=d?_.indexOf(d):-1,R=c.layersWithOutsidePointerEventsDisabled.size>0,P=x>=b,O=Owe(F=>{const Q=F.target,Y=[...c.branches].some(U=>U.contains(Q));!P||Y||(i==null||i(F),o==null||o(F),F.defaultPrevented||s==null||s())},m),D=Lwe(F=>{const Q=F.target;[...c.branches].some(U=>U.contains(Q))||(a==null||a(F),o==null||o(F),F.defaultPrevented||s==null||s())},m);return Ewe(F=>{x===c.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&s&&(F.preventDefault(),s()))},m),V.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(u$=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),l$(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=u$)}},[d,m,n,c]),V.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),l$())},[d,c]),V.useEffect(()=>{const F=()=>y({});return document.addEventListener(KA,F),()=>document.removeEventListener(KA,F)},[]),B.jsx($r.div,{...l,ref:v,style:{pointerEvents:R?P?"auto":"none":void 0,...e.style},onFocusCapture:Fr(e.onFocusCapture,D.onFocusCapture),onBlurCapture:Fr(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Fr(e.onPointerDownCapture,O.onPointerDownCapture)})});zO.displayName=Cwe;var Awe="DismissableLayerBranch",Pwe=V.forwardRef((e,t)=>{const n=V.useContext(n7),r=V.useRef(null),i=Oa(t,r);return V.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),B.jsx($r.div,{...e,ref:i})});Pwe.displayName=Awe;function Owe(e,t=globalThis==null?void 0:globalThis.document){const n=Iu(e),r=V.useRef(!1),i=V.useRef(()=>{});return V.useEffect(()=>{const a=s=>{if(s.target&&!r.current){let l=function(){r7(Twe,n,c,{discrete:!0})};const c={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Lwe(e,t=globalThis==null?void 0:globalThis.document){const n=Iu(e),r=V.useRef(!1);return V.useEffect(()=>{const i=a=>{a.target&&!r.current&&r7(Rwe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function l$(){const e=new CustomEvent(KA);document.dispatchEvent(e)}function r7(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?hwe(i,a):i.dispatchEvent(a)}var AT="focusScope.autoFocusOnMount",PT="focusScope.autoFocusOnUnmount",c$={bubbles:!1,cancelable:!0},Iwe="FocusScope",HO=V.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,l]=V.useState(null),c=Iu(i),d=Iu(a),h=V.useRef(null),m=Oa(t,_=>l(_)),y=V.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;V.useEffect(()=>{if(r){let _=function(R){if(y.paused||!s)return;const P=R.target;s.contains(P)?h.current=P:Rl(h.current,{select:!0})},S=function(R){if(y.paused||!s)return;const P=R.relatedTarget;P!==null&&(s.contains(P)||Rl(h.current,{select:!0}))},b=function(R){if(document.activeElement===document.body)for(const O of R)O.removedNodes.length>0&&Rl(s)};document.addEventListener("focusin",_),document.addEventListener("focusout",S);const x=new MutationObserver(b);return s&&x.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",S),x.disconnect()}}},[r,s,y.paused]),V.useEffect(()=>{if(s){d$.add(y);const _=document.activeElement;if(!s.contains(_)){const b=new CustomEvent(AT,c$);s.addEventListener(AT,c),s.dispatchEvent(b),b.defaultPrevented||(Mwe(jwe(i7(s)),{select:!0}),document.activeElement===_&&Rl(s))}return()=>{s.removeEventListener(AT,c),setTimeout(()=>{const b=new CustomEvent(PT,c$);s.addEventListener(PT,d),s.dispatchEvent(b),b.defaultPrevented||Rl(_??document.body,{select:!0}),s.removeEventListener(PT,d),d$.remove(y)},0)}}},[s,c,d,y]);const v=V.useCallback(_=>{if(!n&&!r||y.paused)return;const S=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(S&&b){const x=_.currentTarget,[R,P]=Dwe(x);R&&P?!_.shiftKey&&b===P?(_.preventDefault(),n&&Rl(R,{select:!0})):_.shiftKey&&b===R&&(_.preventDefault(),n&&Rl(P,{select:!0})):b===x&&_.preventDefault()}},[n,r,y.paused]);return B.jsx($r.div,{tabIndex:-1,...o,ref:m,onKeyDown:v})});HO.displayName=Iwe;function Mwe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Rl(r,{select:t}),document.activeElement!==n)return}function Dwe(e){const t=i7(e),n=f$(t,e),r=f$(t.reverse(),e);return[n,r]}function i7(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function f$(e,t){for(const n of e)if(!kwe(n,{upTo:t}))return n}function kwe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Nwe(e){return e instanceof HTMLInputElement&&"select"in e}function Rl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Nwe(e)&&t&&e.select()}}var d$=Fwe();function Fwe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=h$(e,t),e.unshift(t)},remove(t){var n;e=h$(e,t),(n=e[0])==null||n.resume()}}}function h$(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function jwe(e){return e.filter(t=>t.tagName!=="A")}var $we="Portal",VO=V.forwardRef((e,t)=>{var s;const{container:n,...r}=e,[i,a]=V.useState(!1);Af(()=>a(!0),[]);const o=n||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?g0e.createPortal(B.jsx($r.div,{...r,ref:t}),o):null});VO.displayName=$we;var OT=0;function a7(){V.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??p$()),document.body.insertAdjacentElement("beforeend",e[1]??p$()),OT++,()=>{OT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),OT--}},[])}function p$(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Il=function(){return Il=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Il.apply(this,arguments)};function Bwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Uwe(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var $0="right-scroll-bar-position",B0="width-before-scroll-bar",qwe="with-scroll-bars-hidden",zwe="--removed-body-scroll-bar-size";function LT(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hwe(e,t){var n=V.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Vwe=typeof window<"u"?V.useLayoutEffect:V.useEffect,g$=new WeakMap;function Kwe(e,t){var n=Hwe(null,function(r){return e.forEach(function(i){return LT(i,r)})});return Vwe(function(){var r=g$.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(s){a.has(s)||LT(s,null)}),a.forEach(function(s){i.has(s)||LT(s,o)})}g$.set(n,e)},[e]),n}var _w=function(){return _w=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},_w.apply(this,arguments)};function Gwe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Wwe(e){return e}function Qwe(e,t){t===void 0&&(t=Wwe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(s){return a(s)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var s=n;n=[],s.forEach(a),o=n}var l=function(){var d=o;o=[],d.forEach(a)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function Zwe(e){e===void 0&&(e={});var t=Qwe(null);return t.options=_w({async:!0,ssr:!1},e),t}var o7=function(e){var t=e.sideCar,n=Gwe(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return V.createElement(r,_w({},n))};o7.isSideCarExport=!0;function Jwe(e,t){return e.useMedium(t),o7}var s7=Zwe(),IT=function(){},Ab=V.forwardRef(function(e,t){var n=V.useRef(null),r=V.useState({onScrollCapture:IT,onWheelCapture:IT,onTouchMoveCapture:IT}),i=r[0],a=r[1],o=e.forwardProps,s=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,y=e.noIsolation,v=e.inert,_=e.allowPinchZoom,S=e.as,b=S===void 0?"div":S,x=e.gapMode,R=Bwe(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,O=Kwe([n,t]),D=Il(Il({},R),i);return V.createElement(V.Fragment,null,d&&V.createElement(P,{sideCar:s7,removeScrollBar:c,shards:h,noIsolation:y,inert:v,setCallbacks:a,allowPinchZoom:!!_,lockRef:n,gapMode:x}),o?V.cloneElement(V.Children.only(s),Il(Il({},D),{ref:O})):V.createElement(b,Il({},D,{className:l,ref:O}),s))});Ab.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ab.classNames={fullWidth:B0,zeroRight:$0};var Xwe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ywe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xwe();return t&&e.setAttribute("nonce",t),e}function ebe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function tbe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var nbe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Ywe())&&(ebe(t,n),tbe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rbe=function(){var e=nbe();return function(t,n){V.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},u7=function(){var e=rbe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},ibe={left:0,top:0,right:0,gap:0},MT=function(e){return parseInt(e||"",10)||0},abe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[MT(n),MT(r),MT(i)]},obe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ibe;var t=abe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},sbe=u7(),Yd="data-scroll-locked",ube=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,s=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(qwe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(s,"px ").concat(r,`;
  }
  body[`).concat(Yd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(s,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($0,` {
    right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat(B0,` {
    margin-right: `).concat(s,"px ").concat(r,`;
  }
  
  .`).concat($0," .").concat($0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(B0," .").concat(B0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Yd,`] {
    `).concat(zwe,": ").concat(s,`px;
  }
`)},m$=function(){var e=parseInt(document.body.getAttribute(Yd)||"0",10);return isFinite(e)?e:0},lbe=function(){V.useEffect(function(){return document.body.setAttribute(Yd,(m$()+1).toString()),function(){var e=m$()-1;e<=0?document.body.removeAttribute(Yd):document.body.setAttribute(Yd,e.toString())}},[])},cbe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;lbe();var a=V.useMemo(function(){return obe(i)},[i]);return V.createElement(sbe,{styles:ube(a,!t,i,n?"":"!important")})},GA=!1;if(typeof window<"u")try{var y_=Object.defineProperty({},"passive",{get:function(){return GA=!0,!0}});window.addEventListener("test",y_,y_),window.removeEventListener("test",y_,y_)}catch{GA=!1}var Md=GA?{passive:!1}:!1,fbe=function(e){return e.tagName==="TEXTAREA"},l7=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!fbe(e)&&n[t]==="visible")},dbe=function(e){return l7(e,"overflowY")},hbe=function(e){return l7(e,"overflowX")},y$=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=c7(e,r);if(i){var a=f7(e,r),o=a[1],s=a[2];if(o>s)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},pbe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},gbe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},c7=function(e,t){return e==="v"?dbe(t):hbe(t)},f7=function(e,t){return e==="v"?pbe(t):gbe(t)},mbe=function(e,t){return e==="h"&&t==="rtl"?-1:1},ybe=function(e,t,n,r,i){var a=mbe(e,window.getComputedStyle(t).direction),o=a*r,s=n.target,l=t.contains(s),c=!1,d=o>0,h=0,m=0;do{var y=f7(e,s),v=y[0],_=y[1],S=y[2],b=_-S-a*v;(v||b)&&c7(e,s)&&(h+=b,m+=v),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!l&&s!==document.body||l&&(t.contains(s)||t===s));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(m)<1||!i))&&(c=!0),c},v_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},v$=function(e){return[e.deltaX,e.deltaY]},_$=function(e){return e&&"current"in e?e.current:e},vbe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_be=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},wbe=0,Dd=[];function bbe(e){var t=V.useRef([]),n=V.useRef([0,0]),r=V.useRef(),i=V.useState(wbe++)[0],a=V.useState(u7)[0],o=V.useRef(e);V.useEffect(function(){o.current=e},[e]),V.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Uwe([e.lockRef.current],(e.shards||[]).map(_$)).filter(Boolean);return _.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=V.useCallback(function(_,S){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var b=v_(_),x=n.current,R="deltaX"in _?_.deltaX:x[0]-b[0],P="deltaY"in _?_.deltaY:x[1]-b[1],O,D=_.target,F=Math.abs(R)>Math.abs(P)?"h":"v";if("touches"in _&&F==="h"&&D.type==="range")return!1;var Q=y$(F,D);if(!Q)return!0;if(Q?O=F:(O=F==="v"?"h":"v",Q=y$(F,D)),!Q)return!1;if(!r.current&&"changedTouches"in _&&(R||P)&&(r.current=O),!O)return!0;var Y=r.current||O;return ybe(Y,S,_,Y==="h"?R:P,!0)},[]),l=V.useCallback(function(_){var S=_;if(!(!Dd.length||Dd[Dd.length-1]!==a)){var b="deltaY"in S?v$(S):v_(S),x=t.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&vbe(O.delta,b)})[0];if(x&&x.should){S.cancelable&&S.preventDefault();return}if(!x){var R=(o.current.shards||[]).map(_$).filter(Boolean).filter(function(O){return O.contains(S.target)}),P=R.length>0?s(S,R[0]):!o.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),c=V.useCallback(function(_,S,b,x){var R={name:_,delta:S,target:b,should:x,shadowParent:Sbe(b)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(P){return P!==R})},1)},[]),d=V.useCallback(function(_){n.current=v_(_),r.current=void 0},[]),h=V.useCallback(function(_){c(_.type,v$(_),_.target,s(_,e.lockRef.current))},[]),m=V.useCallback(function(_){c(_.type,v_(_),_.target,s(_,e.lockRef.current))},[]);V.useEffect(function(){return Dd.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Md),document.addEventListener("touchmove",l,Md),document.addEventListener("touchstart",d,Md),function(){Dd=Dd.filter(function(_){return _!==a}),document.removeEventListener("wheel",l,Md),document.removeEventListener("touchmove",l,Md),document.removeEventListener("touchstart",d,Md)}},[]);var y=e.removeScrollBar,v=e.inert;return V.createElement(V.Fragment,null,v?V.createElement(a,{styles:_be(i)}):null,y?V.createElement(cbe,{gapMode:e.gapMode}):null)}function Sbe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xbe=Jwe(s7,bbe);var KO=V.forwardRef(function(e,t){return V.createElement(Ab,Il({},e,{ref:t,sideCar:xbe}))});KO.classNames=Ab.classNames;var Ebe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},kd=new WeakMap,__=new WeakMap,w_={},DT=0,d7=function(e){return e&&(e.host||d7(e.parentNode))},Cbe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=d7(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Tbe=function(e,t,n,r){var i=Cbe(t,Array.isArray(e)?e:[e]);w_[n]||(w_[n]=new WeakMap);var a=w_[n],o=[],s=new Set,l=new Set(i),c=function(h){!h||s.has(h)||(s.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(s.has(m))d(m);else try{var y=m.getAttribute(r),v=y!==null&&y!=="false",_=(kd.get(m)||0)+1,S=(a.get(m)||0)+1;kd.set(m,_),a.set(m,S),o.push(m),_===1&&v&&__.set(m,!0),S===1&&m.setAttribute(n,"true"),v||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return d(t),s.clear(),DT++,function(){o.forEach(function(h){var m=kd.get(h)-1,y=a.get(h)-1;kd.set(h,m),a.set(h,y),m||(__.has(h)||h.removeAttribute(r),__.delete(h)),y||h.removeAttribute(n)}),DT--,DT||(kd=new WeakMap,kd=new WeakMap,__=new WeakMap,w_={})}},h7=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Ebe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Tbe(r,i,n,"aria-hidden")):function(){return null}},GO="Dialog",[p7,nFe]=qf(GO),[Rbe,is]=p7(GO),g7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=V.useRef(null),l=V.useRef(null),[c=!1,d]=zf({prop:r,defaultProp:i,onChange:a});return B.jsx(Rbe,{scope:t,triggerRef:s,contentRef:l,contentId:Xd(),titleId:Xd(),descriptionId:Xd(),open:c,onOpenChange:d,onOpenToggle:V.useCallback(()=>d(h=>!h),[d]),modal:o,children:n})};g7.displayName=GO;var m7="DialogTrigger",y7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=is(m7,n),a=Oa(t,i.triggerRef);return B.jsx($r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ZO(i.open),...r,ref:a,onClick:Fr(e.onClick,i.onOpenToggle)})});y7.displayName=m7;var WO="DialogPortal",[Abe,v7]=p7(WO,{forceMount:void 0}),_7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=is(WO,t);return B.jsx(Abe,{scope:t,forceMount:n,children:V.Children.map(r,o=>B.jsx(Hf,{present:n||a.open,children:B.jsx(VO,{asChild:!0,container:i,children:o})}))})};_7.displayName=WO;var ww="DialogOverlay",w7=V.forwardRef((e,t)=>{const n=v7(ww,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=is(ww,e.__scopeDialog);return a.modal?B.jsx(Hf,{present:r||a.open,children:B.jsx(Pbe,{...i,ref:t})}):null});w7.displayName=ww;var Pbe=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=is(ww,n);return B.jsx(KO,{as:Ah,allowPinchZoom:!0,shards:[i.contentRef],children:B.jsx($r.div,{"data-state":ZO(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Pf="DialogContent",b7=V.forwardRef((e,t)=>{const n=v7(Pf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=is(Pf,e.__scopeDialog);return B.jsx(Hf,{present:r||a.open,children:a.modal?B.jsx(Obe,{...i,ref:t}):B.jsx(Lbe,{...i,ref:t})})});b7.displayName=Pf;var Obe=V.forwardRef((e,t)=>{const n=is(Pf,e.__scopeDialog),r=V.useRef(null),i=Oa(t,n.contentRef,r);return V.useEffect(()=>{const a=r.current;if(a)return h7(a)},[]),B.jsx(S7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fr(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Fr(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:Fr(e.onFocusOutside,a=>a.preventDefault())})}),Lbe=V.forwardRef((e,t)=>{const n=is(Pf,e.__scopeDialog),r=V.useRef(!1),i=V.useRef(!1);return B.jsx(S7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),S7=V.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=is(Pf,n),l=V.useRef(null),c=Oa(t,l);return a7(),B.jsxs(B.Fragment,{children:[B.jsx(HO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:B.jsx(zO,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":ZO(s.open),...o,ref:c,onDismiss:()=>s.onOpenChange(!1)})}),B.jsxs(B.Fragment,{children:[B.jsx(Mbe,{titleId:s.titleId}),B.jsx(kbe,{contentRef:l,descriptionId:s.descriptionId})]})]})}),QO="DialogTitle",x7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=is(QO,n);return B.jsx($r.h2,{id:i.titleId,...r,ref:t})});x7.displayName=QO;var E7="DialogDescription",Ibe=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=is(E7,n);return B.jsx($r.p,{id:i.descriptionId,...r,ref:t})});Ibe.displayName=E7;var C7="DialogClose",T7=V.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=is(C7,n);return B.jsx($r.button,{type:"button",...r,ref:t,onClick:Fr(e.onClick,()=>i.onOpenChange(!1))})});T7.displayName=C7;function ZO(e){return e?"open":"closed"}var R7="DialogTitleWarning",[rFe,A7]=pwe(R7,{contentName:Pf,titleName:QO,docsSlug:"dialog"}),Mbe=({titleId:e})=>{const t=A7(R7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return V.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Dbe="DialogDescriptionWarning",kbe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A7(Dbe).contentName}}.`;return V.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Nbe=g7,Fbe=y7,jbe=_7,$be=w7,Bbe=b7,Ube=x7,qbe=T7;function zbe(e){const[t,n]=V.useState(void 0);return Af(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const l=a.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,s=c.blockSize}else o=e.offsetWidth,s=e.offsetHeight;n({width:o,height:s})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const Hbe=["top","right","bottom","left"],Xl=Math.min,Ga=Math.max,bw=Math.round,b_=Math.floor,As=e=>({x:e,y:e}),Vbe={left:"right",right:"left",bottom:"top",top:"bottom"},Kbe={start:"end",end:"start"};function WA(e,t,n){return Ga(e,Xl(t,n))}function Mu(e,t){return typeof e=="function"?e(t):e}function Du(e){return e.split("-")[0]}function rp(e){return e.split("-")[1]}function JO(e){return e==="x"?"y":"x"}function XO(e){return e==="y"?"height":"width"}function Yl(e){return["top","bottom"].includes(Du(e))?"y":"x"}function YO(e){return JO(Yl(e))}function Gbe(e,t,n){n===void 0&&(n=!1);const r=rp(e),i=YO(e),a=XO(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Sw(o)),[o,Sw(o)]}function Wbe(e){const t=Sw(e);return[QA(e),t,QA(t)]}function QA(e){return e.replace(/start|end/g,t=>Kbe[t])}function Qbe(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function Zbe(e,t,n,r){const i=rp(e);let a=Qbe(Du(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(QA)))),a}function Sw(e){return e.replace(/left|right|bottom|top/g,t=>Vbe[t])}function Jbe(e){return{top:0,right:0,bottom:0,left:0,...e}}function P7(e){return typeof e!="number"?Jbe(e):{top:e,right:e,bottom:e,left:e}}function xw(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function w$(e,t,n){let{reference:r,floating:i}=e;const a=Yl(t),o=YO(t),s=XO(o),l=Du(t),c=a==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[s]/2-i[s]/2;let y;switch(l){case"top":y={x:d,y:r.y-i.height};break;case"bottom":y={x:d,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(rp(t)){case"start":y[o]-=m*(n&&c?-1:1);break;case"end":y[o]+=m*(n&&c?-1:1);break}return y}const Xbe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,s=a.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let c=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=w$(c,r,l),m=r,y={},v=0;for(let _=0;_<s.length;_++){const{name:S,fn:b}=s[_],{x,y:R,data:P,reset:O}=await b({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:y,rects:c,platform:o,elements:{reference:e,floating:t}});d=x??d,h=R??h,y={...y,[S]:{...y[S],...P}},O&&v<=50&&(v++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(c=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:d,y:h}=w$(c,m,l)),_=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:y}};async function Zm(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:y=0}=Mu(t,e),v=P7(y),S=s[m?h==="floating"?"reference":"floating":h],b=xw(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(S)))==null||n?S:S.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),P=await(a.isElement==null?void 0:a.isElement(R))?await(a.getScale==null?void 0:a.getScale(R))||{x:1,y:1}:{x:1,y:1},O=xw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:x,offsetParent:R,strategy:l}):x);return{top:(b.top-O.top+v.top)/P.y,bottom:(O.bottom-b.bottom+v.bottom)/P.y,left:(b.left-O.left+v.left)/P.x,right:(O.right-b.right+v.right)/P.x}}const Ybe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:s,middlewareData:l}=t,{element:c,padding:d=0}=Mu(e,t)||{};if(c==null)return{};const h=P7(d),m={x:n,y:r},y=YO(i),v=XO(y),_=await o.getDimensions(c),S=y==="y",b=S?"top":"left",x=S?"bottom":"right",R=S?"clientHeight":"clientWidth",P=a.reference[v]+a.reference[y]-m[y]-a.floating[v],O=m[y]-a.reference[y],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let F=D?D[R]:0;(!F||!await(o.isElement==null?void 0:o.isElement(D)))&&(F=s.floating[R]||a.floating[v]);const Q=P/2-O/2,Y=F/2-_[v]/2-1,U=Xl(h[b],Y),X=Xl(h[x],Y),ce=U,te=F-_[v]-X,se=F/2-_[v]/2+Q,pe=WA(ce,se,te),_e=!l.arrow&&rp(i)!=null&&se!==pe&&a.reference[v]/2-(se<ce?U:X)-_[v]/2<0,de=_e?se<ce?se-ce:se-te:0;return{[y]:m[y]+de,data:{[y]:pe,centerOffset:se-pe-de,..._e&&{alignmentOffset:de}},reset:_e}}}),e1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...S}=Mu(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Du(i),x=Yl(s),R=Du(s)===s,P=await(l.isRTL==null?void 0:l.isRTL(c.floating)),O=m||(R||!_?[Sw(s)]:Wbe(s)),D=v!=="none";!m&&D&&O.push(...Zbe(s,_,v,P));const F=[s,...O],Q=await Zm(t,S),Y=[];let U=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&Y.push(Q[b]),h){const se=Gbe(i,o,P);Y.push(Q[se[0]],Q[se[1]])}if(U=[...U,{placement:i,overflows:Y}],!Y.every(se=>se<=0)){var X,ce;const se=(((X=a.flip)==null?void 0:X.index)||0)+1,pe=F[se];if(pe)return{data:{index:se,overflows:U},reset:{placement:pe}};let _e=(ce=U.filter(de=>de.overflows[0]<=0).sort((de,ue)=>de.overflows[1]-ue.overflows[1])[0])==null?void 0:ce.placement;if(!_e)switch(y){case"bestFit":{var te;const de=(te=U.filter(ue=>{if(D){const Ae=Yl(ue.placement);return Ae===x||Ae==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(Ae=>Ae>0).reduce((Ae,k)=>Ae+k,0)]).sort((ue,Ae)=>ue[1]-Ae[1])[0])==null?void 0:te[0];de&&(_e=de);break}case"initialPlacement":_e=s;break}if(i!==_e)return{reset:{placement:_e}}}return{}}}};function b$(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function S$(e){return Hbe.some(t=>e[t]>=0)}const t1e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Mu(e,t);switch(r){case"referenceHidden":{const a=await Zm(t,{...i,elementContext:"reference"}),o=b$(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:S$(o)}}}case"escaped":{const a=await Zm(t,{...i,altBoundary:!0}),o=b$(a,n.floating);return{data:{escapedOffsets:o,escaped:S$(o)}}}default:return{}}}}};async function n1e(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Du(n),s=rp(n),l=Yl(n)==="y",c=["left","top"].includes(o)?-1:1,d=a&&l?-1:1,h=Mu(t,e);let{mainAxis:m,crossAxis:y,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&typeof v=="number"&&(y=s==="end"?v*-1:v),l?{x:y*d,y:m*c}:{x:m*c,y:y*d}}const r1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:s}=t,l=await n1e(t,e);return o===((n=s.offset)==null?void 0:n.placement)&&(r=s.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:a+l.y,data:{...l,placement:o}}}}},i1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:S=>{let{x:b,y:x}=S;return{x:b,y:x}}},...l}=Mu(e,t),c={x:n,y:r},d=await Zm(t,l),h=Yl(Du(i)),m=JO(h);let y=c[m],v=c[h];if(a){const S=m==="y"?"top":"left",b=m==="y"?"bottom":"right",x=y+d[S],R=y-d[b];y=WA(x,y,R)}if(o){const S=h==="y"?"top":"left",b=h==="y"?"bottom":"right",x=v+d[S],R=v-d[b];v=WA(x,v,R)}const _=s.fn({...t,[m]:y,[h]:v});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:a,[h]:o}}}}}},a1e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=Mu(e,t),d={x:n,y:r},h=Yl(i),m=JO(h);let y=d[m],v=d[h];const _=Mu(s,t),S=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const R=m==="y"?"height":"width",P=a.reference[m]-a.floating[R]+S.mainAxis,O=a.reference[m]+a.reference[R]-S.mainAxis;y<P?y=P:y>O&&(y=O)}if(c){var b,x;const R=m==="y"?"width":"height",P=["top","left"].includes(Du(i)),O=a.reference[h]-a.floating[R]+(P&&((b=o.offset)==null?void 0:b[h])||0)+(P?0:S.crossAxis),D=a.reference[h]+a.reference[R]+(P?0:((x=o.offset)==null?void 0:x[h])||0)-(P?S.crossAxis:0);v<O?v=O:v>D&&(v=D)}return{[m]:y,[h]:v}}}},o1e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:l=()=>{},...c}=Mu(e,t),d=await Zm(t,c),h=Du(i),m=rp(i),y=Yl(i)==="y",{width:v,height:_}=a.floating;let S,b;h==="top"||h==="bottom"?(S=h,b=m===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=h,S=m==="end"?"top":"bottom");const x=_-d.top-d.bottom,R=v-d.left-d.right,P=Xl(_-d[S],x),O=Xl(v-d[b],R),D=!t.middlewareData.shift;let F=P,Q=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(Q=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=x),D&&!m){const U=Ga(d.left,0),X=Ga(d.right,0),ce=Ga(d.top,0),te=Ga(d.bottom,0);y?Q=v-2*(U!==0||X!==0?U+X:Ga(d.left,d.right)):F=_-2*(ce!==0||te!==0?ce+te:Ga(d.top,d.bottom))}await l({...t,availableWidth:Q,availableHeight:F});const Y=await o.getDimensions(s.floating);return v!==Y.width||_!==Y.height?{reset:{rects:!0}}:{}}}};function Pb(){return typeof window<"u"}function ip(e){return O7(e)?(e.nodeName||"").toLowerCase():"#document"}function Ja(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ks(e){var t;return(t=(O7(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function O7(e){return Pb()?e instanceof Node||e instanceof Ja(e).Node:!1}function Yo(e){return Pb()?e instanceof Element||e instanceof Ja(e).Element:!1}function Is(e){return Pb()?e instanceof HTMLElement||e instanceof Ja(e).HTMLElement:!1}function x$(e){return!Pb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ja(e).ShadowRoot}function Ly(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=es(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function s1e(e){return["table","td","th"].includes(ip(e))}function Ob(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function eL(e){const t=tL(),n=Yo(e)?es(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function u1e(e){let t=ec(e);for(;Is(t)&&!Ph(t);){if(eL(t))return t;if(Ob(t))return null;t=ec(t)}return null}function tL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ph(e){return["html","body","#document"].includes(ip(e))}function es(e){return Ja(e).getComputedStyle(e)}function Lb(e){return Yo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ec(e){if(ip(e)==="html")return e;const t=e.assignedSlot||e.parentNode||x$(e)&&e.host||ks(e);return x$(t)?t.host:t}function L7(e){const t=ec(e);return Ph(t)?e.ownerDocument?e.ownerDocument.body:e.body:Is(t)&&Ly(t)?t:L7(t)}function Jm(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=L7(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=Ja(i);if(a){const s=ZA(o);return t.concat(o,o.visualViewport||[],Ly(i)?i:[],s&&n?Jm(s):[])}return t.concat(i,Jm(i,[],n))}function ZA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function I7(e){const t=es(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Is(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=bw(n)!==a||bw(r)!==o;return s&&(n=a,r=o),{width:n,height:r,$:s}}function nL(e){return Yo(e)?e:e.contextElement}function eh(e){const t=nL(e);if(!Is(t))return As(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=I7(t);let o=(a?bw(n.width):n.width)/r,s=(a?bw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const l1e=As(0);function M7(e){const t=Ja(e);return!tL()||!t.visualViewport?l1e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function c1e(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Ja(e)?!1:t}function Of(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=nL(e);let o=As(1);t&&(r?Yo(r)&&(o=eh(r)):o=eh(e));const s=c1e(a,n,r)?M7(a):As(0);let l=(i.left+s.x)/o.x,c=(i.top+s.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(a){const m=Ja(a),y=r&&Yo(r)?Ja(r):r;let v=m,_=ZA(v);for(;_&&r&&y!==v;){const S=eh(_),b=_.getBoundingClientRect(),x=es(_),R=b.left+(_.clientLeft+parseFloat(x.paddingLeft))*S.x,P=b.top+(_.clientTop+parseFloat(x.paddingTop))*S.y;l*=S.x,c*=S.y,d*=S.x,h*=S.y,l+=R,c+=P,v=Ja(_),_=ZA(v)}}return xw({width:d,height:h,x:l,y:c})}function rL(e,t){const n=Lb(e).scrollLeft;return t?t.left+n:Of(ks(e)).left+n}function D7(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:rL(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function f1e(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=ks(r),s=t?Ob(t.floating):!1;if(r===o||s&&a)return n;let l={scrollLeft:0,scrollTop:0},c=As(1);const d=As(0),h=Is(r);if((h||!h&&!a)&&((ip(r)!=="body"||Ly(o))&&(l=Lb(r)),Is(r))){const y=Of(r);c=eh(r),d.x=y.x+r.clientLeft,d.y=y.y+r.clientTop}const m=o&&!h&&!a?D7(o,l,!0):As(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function d1e(e){return Array.from(e.getClientRects())}function h1e(e){const t=ks(e),n=Lb(e),r=e.ownerDocument.body,i=Ga(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Ga(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+rL(e);const s=-n.scrollTop;return es(r).direction==="rtl"&&(o+=Ga(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:s}}function p1e(e,t){const n=Ja(e),r=ks(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,s=0,l=0;if(i){a=i.width,o=i.height;const c=tL();(!c||c&&t==="fixed")&&(s=i.offsetLeft,l=i.offsetTop)}return{width:a,height:o,x:s,y:l}}function g1e(e,t){const n=Of(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Is(e)?eh(e):As(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,l=i*a.x,c=r*a.y;return{width:o,height:s,x:l,y:c}}function E$(e,t,n){let r;if(t==="viewport")r=p1e(e,n);else if(t==="document")r=h1e(ks(e));else if(Yo(t))r=g1e(t,n);else{const i=M7(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return xw(r)}function k7(e,t){const n=ec(e);return n===t||!Yo(n)||Ph(n)?!1:es(n).position==="fixed"||k7(n,t)}function m1e(e,t){const n=t.get(e);if(n)return n;let r=Jm(e,[],!1).filter(s=>Yo(s)&&ip(s)!=="body"),i=null;const a=es(e).position==="fixed";let o=a?ec(e):e;for(;Yo(o)&&!Ph(o);){const s=es(o),l=eL(o);!l&&s.position==="fixed"&&(i=null),(a?!l&&!i:!l&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ly(o)&&!l&&k7(e,o))?r=r.filter(d=>d!==o):i=s,o=ec(o)}return t.set(e,r),r}function y1e(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?Ob(t)?[]:m1e(t,this._c):[].concat(n),r],s=o[0],l=o.reduce((c,d)=>{const h=E$(t,d,i);return c.top=Ga(h.top,c.top),c.right=Xl(h.right,c.right),c.bottom=Xl(h.bottom,c.bottom),c.left=Ga(h.left,c.left),c},E$(t,s,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function v1e(e){const{width:t,height:n}=I7(e);return{width:t,height:n}}function _1e(e,t,n){const r=Is(t),i=ks(t),a=n==="fixed",o=Of(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const l=As(0);if(r||!r&&!a)if((ip(t)!=="body"||Ly(i))&&(s=Lb(t)),r){const m=Of(t,!0,a,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&(l.x=rL(i));const c=i&&!r&&!a?D7(i,s):As(0),d=o.left+s.scrollLeft-l.x-c.x,h=o.top+s.scrollTop-l.y-c.y;return{x:d,y:h,width:o.width,height:o.height}}function kT(e){return es(e).position==="static"}function C$(e,t){if(!Is(e)||es(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ks(e)===n&&(n=n.ownerDocument.body),n}function N7(e,t){const n=Ja(e);if(Ob(e))return n;if(!Is(e)){let i=ec(e);for(;i&&!Ph(i);){if(Yo(i)&&!kT(i))return i;i=ec(i)}return n}let r=C$(e,t);for(;r&&s1e(r)&&kT(r);)r=C$(r,t);return r&&Ph(r)&&kT(r)&&!eL(r)?n:r||u1e(e)||n}const w1e=async function(e){const t=this.getOffsetParent||N7,n=this.getDimensions,r=await n(e.floating);return{reference:_1e(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function b1e(e){return es(e).direction==="rtl"}const S1e={convertOffsetParentRelativeRectToViewportRelativeRect:f1e,getDocumentElement:ks,getClippingRect:y1e,getOffsetParent:N7,getElementRects:w1e,getClientRects:d1e,getDimensions:v1e,getScale:eh,isElement:Yo,isRTL:b1e};function F7(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function x1e(e,t){let n=null,r;const i=ks(e);function a(){var s;clearTimeout(r),(s=n)==null||s.disconnect(),n=null}function o(s,l){s===void 0&&(s=!1),l===void 0&&(l=1),a();const c=e.getBoundingClientRect(),{left:d,top:h,width:m,height:y}=c;if(s||t(),!m||!y)return;const v=b_(h),_=b_(i.clientWidth-(d+m)),S=b_(i.clientHeight-(h+y)),b=b_(d),R={rootMargin:-v+"px "+-_+"px "+-S+"px "+-b+"px",threshold:Ga(0,Xl(1,l))||1};let P=!0;function O(D){const F=D[0].intersectionRatio;if(F!==l){if(!P)return o();F?o(!1,F):r=setTimeout(()=>{o(!1,1e-7)},1e3)}F===1&&!F7(c,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(O,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,R)}n.observe(e)}return o(!0),a}function E1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=nL(e),d=i||a?[...c?Jm(c):[],...Jm(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const h=c&&s?x1e(c,n):null;let m=-1,y=null;o&&(y=new ResizeObserver(b=>{let[x]=b;x&&x.target===c&&y&&(y.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var R;(R=y)==null||R.observe(t)})),n()}),c&&!l&&y.observe(c),y.observe(t));let v,_=l?Of(e):null;l&&S();function S(){const b=Of(e);_&&!F7(_,b)&&n(),_=b,v=requestAnimationFrame(S)}return n(),()=>{var b;d.forEach(x=>{i&&x.removeEventListener("scroll",n),a&&x.removeEventListener("resize",n)}),h==null||h(),(b=y)==null||b.disconnect(),y=null,l&&cancelAnimationFrame(v)}}const C1e=r1e,T1e=i1e,R1e=e1e,A1e=o1e,P1e=t1e,T$=Ybe,O1e=a1e,L1e=(e,t,n)=>{const r=new Map,i={platform:S1e,...n},a={...i.platform,_c:r};return Xbe(e,t,{...i,platform:a})};var U0=typeof document<"u"?V.useLayoutEffect:V.useEffect;function Ew(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ew(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Ew(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function j7(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function R$(e,t){const n=j7(e);return Math.round(t*n)/n}function NT(e){const t=V.useRef(e);return U0(()=>{t.current=e}),t}function I1e(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:l,open:c}=e,[d,h]=V.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,y]=V.useState(r);Ew(m,r)||y(r);const[v,_]=V.useState(null),[S,b]=V.useState(null),x=V.useCallback(ue=>{ue!==D.current&&(D.current=ue,_(ue))},[]),R=V.useCallback(ue=>{ue!==F.current&&(F.current=ue,b(ue))},[]),P=a||v,O=o||S,D=V.useRef(null),F=V.useRef(null),Q=V.useRef(d),Y=l!=null,U=NT(l),X=NT(i),ce=NT(c),te=V.useCallback(()=>{if(!D.current||!F.current)return;const ue={placement:t,strategy:n,middleware:m};X.current&&(ue.platform=X.current),L1e(D.current,F.current,ue).then(Ae=>{const k={...Ae,isPositioned:ce.current!==!1};se.current&&!Ew(Q.current,k)&&(Q.current=k,Jl.flushSync(()=>{h(k)}))})},[m,t,n,X,ce]);U0(()=>{c===!1&&Q.current.isPositioned&&(Q.current.isPositioned=!1,h(ue=>({...ue,isPositioned:!1})))},[c]);const se=V.useRef(!1);U0(()=>(se.current=!0,()=>{se.current=!1}),[]),U0(()=>{if(P&&(D.current=P),O&&(F.current=O),P&&O){if(U.current)return U.current(P,O,te);te()}},[P,O,te,U,Y]);const pe=V.useMemo(()=>({reference:D,floating:F,setReference:x,setFloating:R}),[x,R]),_e=V.useMemo(()=>({reference:P,floating:O}),[P,O]),de=V.useMemo(()=>{const ue={position:n,left:0,top:0};if(!_e.floating)return ue;const Ae=R$(_e.floating,d.x),k=R$(_e.floating,d.y);return s?{...ue,transform:"translate("+Ae+"px, "+k+"px)",...j7(_e.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Ae,top:k}},[n,s,_e.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:te,refs:pe,elements:_e,floatingStyles:de}),[d,te,pe,_e,de])}const M1e=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?T$({element:r.current,padding:i}).fn(n):{}:r?T$({element:r,padding:i}).fn(n):{}}}},D1e=(e,t)=>({...C1e(e),options:[e,t]}),k1e=(e,t)=>({...T1e(e),options:[e,t]}),N1e=(e,t)=>({...O1e(e),options:[e,t]}),F1e=(e,t)=>({...R1e(e),options:[e,t]}),j1e=(e,t)=>({...A1e(e),options:[e,t]}),$1e=(e,t)=>({...P1e(e),options:[e,t]}),B1e=(e,t)=>({...M1e(e),options:[e,t]});var U1e="Arrow",$7=V.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return B.jsx($r.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});$7.displayName=U1e;var q1e=$7,iL="Popper",[B7,U7]=qf(iL),[z1e,q7]=B7(iL),z7=e=>{const{__scopePopper:t,children:n}=e,[r,i]=V.useState(null);return B.jsx(z1e,{scope:t,anchor:r,onAnchorChange:i,children:n})};z7.displayName=iL;var H7="PopperAnchor",V7=V.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=q7(H7,n),o=V.useRef(null),s=Oa(t,o);return V.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:B.jsx($r.div,{...i,ref:s})});V7.displayName=H7;var aL="PopperContent",[H1e,V1e]=B7(aL),K7=V.forwardRef((e,t)=>{var Ze,Pe,Ne,Xe,oe,H;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:y="optimized",onPlaced:v,..._}=e,S=q7(aL,n),[b,x]=V.useState(null),R=Oa(t,$=>x($)),[P,O]=V.useState(null),D=zbe(P),F=(D==null?void 0:D.width)??0,Q=(D==null?void 0:D.height)??0,Y=r+(a!=="center"?"-"+a:""),U=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},X=Array.isArray(c)?c:[c],ce=X.length>0,te={padding:U,boundary:X.filter(G1e),altBoundary:ce},{refs:se,floatingStyles:pe,placement:_e,isPositioned:de,middlewareData:ue}=I1e({strategy:"fixed",placement:Y,whileElementsMounted:(...$)=>E1e(...$,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[D1e({mainAxis:i+Q,alignmentAxis:o}),l&&k1e({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?N1e():void 0,...te}),l&&F1e({...te}),j1e({...te,apply:({elements:$,rects:ae,availableWidth:Z,availableHeight:he})=>{const{width:ye,height:He}=ae.reference,Ee=$.floating.style;Ee.setProperty("--radix-popper-available-width",`${Z}px`),Ee.setProperty("--radix-popper-available-height",`${he}px`),Ee.setProperty("--radix-popper-anchor-width",`${ye}px`),Ee.setProperty("--radix-popper-anchor-height",`${He}px`)}}),P&&B1e({element:P,padding:s}),W1e({arrowWidth:F,arrowHeight:Q}),m&&$1e({strategy:"referenceHidden",...te})]}),[Ae,k]=Q7(_e),ie=Iu(v);Af(()=>{de&&(ie==null||ie())},[de,ie]);const me=(Ze=ue.arrow)==null?void 0:Ze.x,K=(Pe=ue.arrow)==null?void 0:Pe.y,ee=((Ne=ue.arrow)==null?void 0:Ne.centerOffset)!==0,[ge,Re]=V.useState();return Af(()=>{b&&Re(window.getComputedStyle(b).zIndex)},[b]),B.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...pe,transform:de?pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[(Xe=ue.transformOrigin)==null?void 0:Xe.x,(oe=ue.transformOrigin)==null?void 0:oe.y].join(" "),...((H=ue.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:B.jsx(H1e,{scope:n,placedSide:Ae,onArrowChange:O,arrowX:me,arrowY:K,shouldHideArrow:ee,children:B.jsx($r.div,{"data-side":Ae,"data-align":k,..._,ref:R,style:{..._.style,animation:de?void 0:"none"}})})})});K7.displayName=aL;var G7="PopperArrow",K1e={top:"bottom",right:"left",bottom:"top",left:"right"},W7=V.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=V1e(G7,r),o=K1e[a.placedSide];return B.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:B.jsx(q1e,{...i,ref:n,style:{...i.style,display:"block"}})})});W7.displayName=G7;function G1e(e){return e!==null}var W1e=e=>({name:"transformOrigin",options:e,fn(t){var S,b,x;const{placement:n,rects:r,middlewareData:i}=t,o=((S=i.arrow)==null?void 0:S.centerOffset)!==0,s=o?0:e.arrowWidth,l=o?0:e.arrowHeight,[c,d]=Q7(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,y=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",_="";return c==="bottom"?(v=o?h:`${m}px`,_=`${-l}px`):c==="top"?(v=o?h:`${m}px`,_=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,_=o?h:`${y}px`):c==="left"&&(v=`${r.floating.width+l}px`,_=o?h:`${y}px`),{data:{x:v,y:_}}}});function Q7(e){const[t,n="center"]=e.split("-");return[t,n]}var Q1e=z7,Z7=V7,Z1e=K7,J1e=W7,FT="rovingFocusGroup.onEntryFocus",X1e={bubbles:!1,cancelable:!0},Ib="RovingFocusGroup",[JA,J7,Y1e]=mwe(Ib),[eSe,Mb]=qf(Ib,[Y1e]),[tSe,nSe]=eSe(Ib),X7=V.forwardRef((e,t)=>B.jsx(JA.Provider,{scope:e.__scopeRovingFocusGroup,children:B.jsx(JA.Slot,{scope:e.__scopeRovingFocusGroup,children:B.jsx(rSe,{...e,ref:t})})}));X7.displayName=Ib;var rSe=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,m=V.useRef(null),y=Oa(t,m),v=qO(a),[_=null,S]=zf({prop:o,defaultProp:s,onChange:l}),[b,x]=V.useState(!1),R=Iu(c),P=J7(n),O=V.useRef(!1),[D,F]=V.useState(0);return V.useEffect(()=>{const Q=m.current;if(Q)return Q.addEventListener(FT,R),()=>Q.removeEventListener(FT,R)},[R]),B.jsx(tSe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:_,onItemFocus:V.useCallback(Q=>S(Q),[S]),onItemShiftTab:V.useCallback(()=>x(!0),[]),onFocusableItemAdd:V.useCallback(()=>F(Q=>Q+1),[]),onFocusableItemRemove:V.useCallback(()=>F(Q=>Q-1),[]),children:B.jsx($r.div,{tabIndex:b||D===0?-1:0,"data-orientation":r,...h,ref:y,style:{outline:"none",...e.style},onMouseDown:Fr(e.onMouseDown,()=>{O.current=!0}),onFocus:Fr(e.onFocus,Q=>{const Y=!O.current;if(Q.target===Q.currentTarget&&Y&&!b){const U=new CustomEvent(FT,X1e);if(Q.currentTarget.dispatchEvent(U),!U.defaultPrevented){const X=P().filter(_e=>_e.focusable),ce=X.find(_e=>_e.active),te=X.find(_e=>_e.id===_),pe=[ce,te,...X].filter(Boolean).map(_e=>_e.ref.current);tV(pe,d)}}O.current=!1}),onBlur:Fr(e.onBlur,()=>x(!1))})})}),Y7="RovingFocusGroupItem",eV=V.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,s=Xd(),l=a||s,c=nSe(Y7,n),d=c.currentTabStopId===l,h=J7(n),{onFocusableItemAdd:m,onFocusableItemRemove:y}=c;return V.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),B.jsx(JA.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:B.jsx($r.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:t,onMouseDown:Fr(e.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Fr(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:Fr(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const _=oSe(v,c.orientation,c.dir);if(_!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let b=h().filter(x=>x.focusable).map(x=>x.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const x=b.indexOf(v.currentTarget);b=c.loop?sSe(b,x+1):b.slice(x+1)}setTimeout(()=>tV(b))}})})})});eV.displayName=Y7;var iSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function oSe(e,t,n){const r=aSe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iSe[r]}function tV(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function sSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var nV=X7,rV=eV,oL="Popover",[iV,iFe]=qf(oL,[U7]),Iy=U7(),[uSe,oc]=iV(oL),aV=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=Iy(t),l=V.useRef(null),[c,d]=V.useState(!1),[h=!1,m]=zf({prop:r,defaultProp:i,onChange:a});return B.jsx(Q1e,{...s,children:B.jsx(uSe,{scope:t,contentId:Xd(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:V.useCallback(()=>m(y=>!y),[m]),hasCustomAnchor:c,onCustomAnchorAdd:V.useCallback(()=>d(!0),[]),onCustomAnchorRemove:V.useCallback(()=>d(!1),[]),modal:o,children:n})})};aV.displayName=oL;var oV="PopoverAnchor",lSe=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=oc(oV,n),a=Iy(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return V.useEffect(()=>(o(),()=>s()),[o,s]),B.jsx(Z7,{...a,...r,ref:t})});lSe.displayName=oV;var sV="PopoverTrigger",uV=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=oc(sV,n),a=Iy(n),o=Oa(t,i.triggerRef),s=B.jsx($r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gV(i.open),...r,ref:o,onClick:Fr(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:B.jsx(Z7,{asChild:!0,...a,children:s})});uV.displayName=sV;var sL="PopoverPortal",[cSe,fSe]=iV(sL,{forceMount:void 0}),lV=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=oc(sL,t);return B.jsx(cSe,{scope:t,forceMount:n,children:B.jsx(Hf,{present:n||a.open,children:B.jsx(VO,{asChild:!0,container:i,children:r})})})};lV.displayName=sL;var Oh="PopoverContent",cV=V.forwardRef((e,t)=>{const n=fSe(Oh,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=oc(Oh,e.__scopePopover);return B.jsx(Hf,{present:r||a.open,children:a.modal?B.jsx(dSe,{...i,ref:t}):B.jsx(hSe,{...i,ref:t})})});cV.displayName=Oh;var dSe=V.forwardRef((e,t)=>{const n=oc(Oh,e.__scopePopover),r=V.useRef(null),i=Oa(t,r),a=V.useRef(!1);return V.useEffect(()=>{const o=r.current;if(o)return h7(o)},[]),B.jsx(KO,{as:Ah,allowPinchZoom:!0,children:B.jsx(fV,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fr(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Fr(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0,c=s.button===2||l;a.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Fr(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hSe=V.forwardRef((e,t)=>{const n=oc(Oh,e.__scopePopover),r=V.useRef(!1),i=V.useRef(!1);return B.jsx(fV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(s=n.triggerRef.current)==null||s.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),fV=V.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=e,m=oc(Oh,n),y=Iy(n);return a7(),B.jsx(HO,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:B.jsx(zO,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:B.jsx(Z1e,{"data-state":gV(m.open),role:"dialog",id:m.contentId,...y,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dV="PopoverClose",hV=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=oc(dV,n);return B.jsx($r.button,{type:"button",...r,ref:t,onClick:Fr(e.onClick,()=>i.onOpenChange(!1))})});hV.displayName=dV;var pSe="PopoverArrow",pV=V.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Iy(n);return B.jsx(J1e,{...i,...r,ref:t})});pV.displayName=pSe;function gV(e){return e?"open":"closed"}var gSe=aV,mSe=uV,ySe=lV,vSe=cV,_Se=hV,wSe=pV,uL="Tabs",[bSe,aFe]=qf(uL,[Mb]),mV=Mb(),[SSe,lL]=bSe(uL),yV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:l="automatic",...c}=e,d=qO(s),[h,m]=zf({prop:r,onChange:i,defaultProp:a});return B.jsx(SSe,{scope:n,baseId:Xd(),value:h,onValueChange:m,orientation:o,dir:d,activationMode:l,children:B.jsx($r.div,{dir:d,"data-orientation":o,...c,ref:t})})});yV.displayName=uL;var vV="TabsList",_V=V.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=lL(vV,n),o=mV(n);return B.jsx(nV,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:B.jsx($r.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});_V.displayName=vV;var wV="TabsTrigger",bV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=lL(wV,n),s=mV(n),l=EV(o.baseId,r),c=CV(o.baseId,r),d=r===o.value;return B.jsx(rV,{asChild:!0,...s,focusable:!i,active:d,children:B.jsx($r.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...a,ref:t,onMouseDown:Fr(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:Fr(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:Fr(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(r)})})})});bV.displayName=wV;var SV="TabsContent",xV=V.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,s=lL(SV,n),l=EV(s.baseId,r),c=CV(s.baseId,r),d=r===s.value,h=V.useRef(d);return V.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),B.jsx(Hf,{present:i||d,children:({present:m})=>B.jsx($r.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:m&&a})})});xV.displayName=SV;function EV(e,t){return`${e}-trigger-${t}`}function CV(e,t){return`${e}-content-${t}`}var cL=yV,fL=_V,dL=bV,hL=xV,xSe="Toggle",TV=V.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...a}=e,[o=!1,s]=zf({prop:n,onChange:i,defaultProp:r});return B.jsx($r.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:Fr(e.onClick,()=>{e.disabled||s(!o)})})});TV.displayName=xSe;var ap="ToggleGroup",[RV,oFe]=qf(ap,[Mb]),AV=Mb(),pL=Pt.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return B.jsx(ESe,{...i,ref:t})}if(n==="multiple"){const i=r;return B.jsx(CSe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${ap}\``)});pL.displayName=ap;var[PV,OV]=RV(ap),ESe=Pt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,s]=zf({prop:n,defaultProp:r,onChange:i});return B.jsx(PV,{scope:e.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:s,onItemDeactivate:Pt.useCallback(()=>s(""),[s]),children:B.jsx(LV,{...a,ref:t})})}),CSe=Pt.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o=[],s]=zf({prop:n,defaultProp:r,onChange:i}),l=Pt.useCallback(d=>s((h=[])=>[...h,d]),[s]),c=Pt.useCallback(d=>s((h=[])=>h.filter(m=>m!==d)),[s]);return B.jsx(PV,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:B.jsx(LV,{...a,ref:t})})});pL.displayName=ap;var[TSe,RSe]=RV(ap),LV=Pt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:s=!0,...l}=e,c=AV(n),d=qO(o),h={role:"group",dir:d,...l};return B.jsx(TSe,{scope:n,rovingFocus:i,disabled:r,children:i?B.jsx(nV,{asChild:!0,...c,orientation:a,dir:d,loop:s,children:B.jsx($r.div,{...h,ref:t})}):B.jsx($r.div,{...h,ref:t})})}),Cw="ToggleGroupItem",IV=Pt.forwardRef((e,t)=>{const n=OV(Cw,e.__scopeToggleGroup),r=RSe(Cw,e.__scopeToggleGroup),i=AV(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,s={...e,pressed:a,disabled:o},l=Pt.useRef(null);return r.rovingFocus?B.jsx(rV,{asChild:!0,...i,focusable:!o,active:a,ref:l,children:B.jsx(A$,{...s,ref:t})}):B.jsx(A$,{...s,ref:t})});IV.displayName=Cw;var A$=Pt.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=OV(Cw,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},s=a.type==="single"?o:void 0;return B.jsx(TV,{...s,...i,ref:t,onPressedChange:l=>{l?a.onItemActivate(r):a.onItemDeactivate(r)}})}),ASe=pL,PSe=IV;function OSe(e){return Bi({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M0 4.583v14.833h.865V4.583zm1.788 0v14.833h2.653V4.583zm3.518 0v14.832H7.96V4.583zm3.547 0v14.834h.866V4.583zm1.789 0v14.833h.865V4.583zm1.759 0v14.834h2.653V4.583zm3.518 0v14.834h.923V4.583zm1.788 0v14.833h2.653V4.583zm3.64 0v14.834h.865V4.583zm1.788 0v14.834H24V4.583Z"},child:[]}]})(e)}const LSe="_item_12uco_1",ISe="_highlighted_12uco_8",MSe="_popover_12uco_22",DSe="_arrow_12uco_33",kSe="_close_12uco_36",NSe="_detail_12uco_41",FSe="_image_12uco_47",jSe="_headerContainer_12uco_52",$Se="_header_12uco_52",BSe="_website_12uco_62",USe="_aliases_12uco_67",Ka={item:LSe,highlighted:ISe,popover:MSe,arrow:DSe,close:kSe,detail:NSe,image:FSe,headerContainer:jSe,header:$Se,website:BSe,aliases:USe},MV=({uri:e,highlighted:t,onRemove:n,locale:r,className:i,...a})=>{const{i18n:o,_:s}=Qr(),{data:l}=awe(e,r),c={uri:e,label:e.split("/").pop(),description:"",aliases:[]},d=Tf({},c,l);return B.jsxs(gSe,{children:[B.jsxs("span",{...a,className:Rr(Ka.item,t&&Ka.highlighted,i),children:[B.jsx(mSe,{asChild:!0,children:B.jsxs("button",{className:Ka.trigger,title:d.description,children:[d.label," "]})}),n&&B.jsx("button",{className:Ka.remove,onClick:n,children:B.jsx(yw,{})})]}),B.jsx(ySe,{children:B.jsxs(vSe,{sideOffset:5,className:Ka.popover,children:[B.jsx(_Se,{className:Ka.close,"aria-label":o._({id:"yz7wBu"}),children:B.jsx(yw,{})}),B.jsx(qSe,{topic:d}),B.jsx(wSe,{className:Ka.arrow})]})})]})},qSe=({topic:e})=>B.jsxs("div",{className:Ka.detail,children:[e.image&&B.jsx("img",{src:e.image,alt:"",className:Ka.image}),B.jsxs("header",{className:Ka.headerContainer,children:[B.jsxs("h3",{className:Ka.header,children:[e.label,B.jsx(ez,{href:e.uri,icon:e.id?OSe:void 0})]}),e.aliases.length>0&&B.jsx("div",{className:Ka.aliases,children:e.aliases.join(", ")}),e.officialWebsite&&B.jsxs("a",{href:e.officialWebsite,target:"_blank",rel:"noopener noreferrer",className:Ka.website,children:[B.jsx(sme,{}),e.officialWebsite]})]}),B.jsx("section",{children:e.description})]}),zSe="_list_kiy6t_1",HSe="_select_kiy6t_7",VSe="_control_kiy6t_7",KSe="_input_kiy6t_12",GSe="_menu_kiy6t_15",WSe="_separator_kiy6t_20",QSe="_option_kiy6t_24",ZSe="_focused_kiy6t_24",_u={list:zSe,select:HSe,control:VSe,input:KSe,menu:GSe,separator:WSe,option:QSe,focused:ZSe},JSe=({ids:e,highlighted:t})=>{const n=jr(Ao);return e.length===0?null:B.jsx("ul",{className:_u.list,"data-cy":"interests-list",children:e.map(r=>B.jsx("li",{children:B.jsx(MV,{uri:r,highlighted:t&&t.includes(r),locale:n})},r))})},Ro=({children:e})=>B.jsx(B.Fragment,{children:e}),XSe=()=>{const{communityId:e}=kn(),t=jr(Ao),n=$u(e,t,jh),i=YSe()&&n.logo.length>=2?n.logo[0]:n.logo[1];return B.jsxs(B.Fragment,{children:[B.jsx("title",{children:n.name}),i&&B.jsx("link",{rel:"icon",href:i}),B.jsx("meta",{name:"description",content:n.about})]})},YSe=()=>{const[e,t]=V.useState(document.hasFocus());return V.useEffect(()=>{const n=()=>{t(!0)},r=()=>{t(!1)};return window.addEventListener("focus",n),window.addEventListener("blur",r),()=>{window.removeEventListener("focus",n),window.removeEventListener("blur",r)}},[]),e},mi=()=>jr($h),exe=()=>{const e=kf();V.useEffect(()=>{_y().events.on(li.SESSION_RESTORED,n=>{e(new URL(n).pathname,{replace:!0})})},[])},txe=()=>{const e=jr(zP);V.useEffect(()=>{globalThis.document.body.setAttribute("data-theme",e)},[e])},nxe="_box_1g1fk_7",rxe="_row_1g1fk_18",ixe="_header_1g1fk_18",axe="_content_1g1fk_26",oxe="_footer_1g1fk_30",Lh={box:nxe,row:rxe,header:ixe,content:axe,footer:oxe},sxe=({children:e,page:t})=>B.jsx("div",{className:Rr(Lh.box,t&&Lh.page),children:e}),uxe=({children:e})=>B.jsx("div",{className:Rr(Lh.row,Lh.header),children:e}),lxe=({children:e})=>B.jsx("div",{className:Rr(Lh.row,Lh.content),children:e});function DV(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=DV(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Vl(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=DV(e))&&(r&&(r+=" "),r+=t);return r}const Xm=e=>typeof e=="number"&&!isNaN(e),wf=e=>typeof e=="string",Qa=e=>typeof e=="function",q0=e=>wf(e)||Qa(e)?e:null,XA=e=>V.isValidElement(e)||wf(e)||Qa(e)||Xm(e);function cxe(e,t,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)})})}function Db(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:a=300}=e;return function(o){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:h,isIn:m,playToast:y}=o;const v=r?`${t}--${l}`:t,_=r?`${n}--${l}`:n,S=V.useRef(0);return V.useLayoutEffect(()=>{const b=h.current,x=v.split(" "),R=P=>{P.target===h.current&&(y(),b.removeEventListener("animationend",R),b.removeEventListener("animationcancel",R),S.current===0&&P.type!=="animationcancel"&&b.classList.remove(...x))};b.classList.add(...x),b.addEventListener("animationend",R),b.addEventListener("animationcancel",R)},[]),V.useEffect(()=>{const b=h.current,x=()=>{b.removeEventListener("animationend",x),i?cxe(b,d,a):d()};m||(c?x():(S.current=1,b.className+=` ${_}`,b.addEventListener("animationend",x)))},[m]),Pt.createElement(Pt.Fragment,null,s)}}function P$(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ga=new Map;let Ym=[];const YA=new Set,fxe=e=>YA.forEach(t=>t(e)),kV=()=>ga.size>0;function NV(e,t){var n;if(t)return!((n=ga.get(t))==null||!n.isToastActive(e));let r=!1;return ga.forEach(i=>{i.isToastActive(e)&&(r=!0)}),r}function FV(e,t){XA(e)&&(kV()||Ym.push({content:e,options:t}),ga.forEach(n=>{n.buildToast(e,t)}))}function O$(e,t){ga.forEach(n=>{t!=null&&t!=null&&t.containerId?(t==null?void 0:t.containerId)===n.id&&n.toggle(e,t==null?void 0:t.id):n.toggle(e,t==null?void 0:t.id)})}function dxe(e){const{subscribe:t,getSnapshot:n,setProps:r}=V.useRef(function(a){const o=a.containerId||1;return{subscribe(s){const l=function(d,h,m){let y=1,v=0,_=[],S=[],b=[],x=h;const R=new Map,P=new Set,O=()=>{b=Array.from(R.values()),P.forEach(Q=>Q())},D=Q=>{S=Q==null?[]:S.filter(Y=>Y!==Q),O()},F=Q=>{const{toastId:Y,onOpen:U,updateId:X,children:ce}=Q.props,te=X==null;Q.staleId&&R.delete(Q.staleId),R.set(Y,Q),S=[...S,Q.props.toastId].filter(se=>se!==Q.staleId),O(),m(P$(Q,te?"added":"updated")),te&&Qa(U)&&U(V.isValidElement(ce)&&ce.props)};return{id:d,props:x,observe:Q=>(P.add(Q),()=>P.delete(Q)),toggle:(Q,Y)=>{R.forEach(U=>{Y!=null&&Y!==U.props.toastId||Qa(U.toggle)&&U.toggle(Q)})},removeToast:D,toasts:R,clearQueue:()=>{v-=_.length,_=[]},buildToast:(Q,Y)=>{if((me=>{let{containerId:K,toastId:ee,updateId:ge}=me;const Re=K?K!==d:d!==1,Ze=R.has(ee)&&ge==null;return Re||Ze})(Y))return;const{toastId:U,updateId:X,data:ce,staleId:te,delay:se}=Y,pe=()=>{D(U)},_e=X==null;_e&&v++;const de={...x,style:x.toastStyle,key:y++,...Object.fromEntries(Object.entries(Y).filter(me=>{let[K,ee]=me;return ee!=null})),toastId:U,updateId:X,data:ce,closeToast:pe,isIn:!1,className:q0(Y.className||x.toastClassName),bodyClassName:q0(Y.bodyClassName||x.bodyClassName),progressClassName:q0(Y.progressClassName||x.progressClassName),autoClose:!Y.isLoading&&(ue=Y.autoClose,Ae=x.autoClose,ue===!1||Xm(ue)&&ue>0?ue:Ae),deleteToast(){const me=R.get(U),{onClose:K,children:ee}=me.props;Qa(K)&&K(V.isValidElement(ee)&&ee.props),m(P$(me,"removed")),R.delete(U),v--,v<0&&(v=0),_.length>0?F(_.shift()):O()}};var ue,Ae;de.closeButton=x.closeButton,Y.closeButton===!1||XA(Y.closeButton)?de.closeButton=Y.closeButton:Y.closeButton===!0&&(de.closeButton=!XA(x.closeButton)||x.closeButton);let k=Q;V.isValidElement(Q)&&!wf(Q.type)?k=V.cloneElement(Q,{closeToast:pe,toastProps:de,data:ce}):Qa(Q)&&(k=Q({closeToast:pe,toastProps:de,data:ce}));const ie={content:k,props:de,staleId:te};x.limit&&x.limit>0&&v>x.limit&&_e?_.push(ie):Xm(se)?setTimeout(()=>{F(ie)},se):F(ie)},setProps(Q){x=Q},setToggle:(Q,Y)=>{R.get(Q).toggle=Y},isToastActive:Q=>S.some(Y=>Y===Q),getSnapshot:()=>x.newestOnTop?b.reverse():b}}(o,a,fxe);ga.set(o,l);const c=l.observe(s);return Ym.forEach(d=>FV(d.content,d.options)),Ym=[],()=>{c(),ga.delete(o)}},setProps(s){var l;(l=ga.get(o))==null||l.setProps(s)},getSnapshot(){var s;return(s=ga.get(o))==null?void 0:s.getSnapshot()}}}(e)).current;r(e);const i=V.useSyncExternalStore(t,n,n);return{getToastToRender:function(a){if(!i)return[];const o=new Map;return i.forEach(s=>{const{position:l}=s.props;o.has(l)||o.set(l,[]),o.get(l).push(s)}),Array.from(o,s=>a(s[0],s[1]))},isToastActive:NV,count:i==null?void 0:i.length}}function hxe(e){const[t,n]=V.useState(!1),[r,i]=V.useState(!1),a=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:s,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:h}=e;var m,y;function v(){n(!0)}function _(){n(!1)}function S(R){const P=a.current;o.canDrag&&P&&(o.didMove=!0,t&&_(),o.delta=e.draggableDirection==="x"?R.clientX-o.start:R.clientY-o.start,o.start!==R.clientX&&(o.canCloseOnClick=!1),P.style.transform=`translate3d(${e.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function b(){document.removeEventListener("pointermove",S),document.removeEventListener("pointerup",b);const R=a.current;if(o.canDrag&&o.didMove&&R){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),e.closeToast(),void e.collapseAll();R.style.transition="transform 0.2s, opacity 0.2s",R.style.removeProperty("transform"),R.style.removeProperty("opacity")}}(y=ga.get((m={id:e.toastId,containerId:e.containerId,fn:n}).containerId||1))==null||y.setToggle(m.id,m.fn),V.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||_(),window.addEventListener("focus",v),window.addEventListener("blur",_),()=>{window.removeEventListener("focus",v),window.removeEventListener("blur",_)}},[e.pauseOnFocusLoss]);const x={onPointerDown:function(R){if(e.draggable===!0||e.draggable===R.pointerType){o.didMove=!1,document.addEventListener("pointermove",S),document.addEventListener("pointerup",b);const P=a.current;o.canCloseOnClick=!0,o.canDrag=!0,P.style.transition="none",e.draggableDirection==="x"?(o.start=R.clientX,o.removalDistance=P.offsetWidth*(e.draggablePercent/100)):(o.start=R.clientY,o.removalDistance=P.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(R){const{top:P,bottom:O,left:D,right:F}=a.current.getBoundingClientRect();R.nativeEvent.type!=="touchend"&&e.pauseOnHover&&R.clientX>=D&&R.clientX<=F&&R.clientY>=P&&R.clientY<=O?_():v()}};return s&&l&&(x.onMouseEnter=_,e.stacked||(x.onMouseLeave=v)),h&&(x.onClick=R=>{d&&d(R),o.canCloseOnClick&&c()}),{playToast:v,pauseToast:_,isRunning:t,preventExitTransition:r,toastRef:a,eventHandlers:x}}function pxe(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:a,className:o,style:s,controlledProgress:l,progress:c,rtl:d,isIn:h,theme:m}=e;const y=a||l&&c===0,v={...s,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused"};l&&(v.transform=`scaleX(${c})`);const _=Vl("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":d}),S=Qa(o)?o({rtl:d,type:i,defaultClassName:_}):Vl(_,o),b={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{h&&r()}};return Pt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":y},Pt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),Pt.createElement("div",{role:"progressbar","aria-hidden":y?"true":"false","aria-label":"notification timer",className:S,style:v,...b}))}let gxe=1;const jV=()=>""+gxe++;function mxe(e){return e&&(wf(e.toastId)||Xm(e.toastId))?e.toastId:jV()}function Nm(e,t){return FV(e,t),t.toastId}function Tw(e,t){return{...t,type:t&&t.type||e,toastId:mxe(t)}}function S_(e){return(t,n)=>Nm(t,Tw(e,n))}function xr(e,t){return Nm(e,Tw("default",t))}xr.loading=(e,t)=>Nm(e,Tw("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),xr.promise=function(e,t,n){let r,{pending:i,error:a,success:o}=t;i&&(r=wf(i)?xr.loading(i,n):xr.loading(i.render,{...n,...i}));const s={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(d,h,m)=>{if(h==null)return void xr.dismiss(r);const y={type:d,...s,...n,data:m},v=wf(h)?{render:h}:h;return r?xr.update(r,{...y,...v}):xr(v.render,{...y,...v}),m},c=Qa(e)?e():e;return c.then(d=>l("success",o,d)).catch(d=>l("error",a,d)),c},xr.success=S_("success"),xr.info=S_("info"),xr.error=S_("error"),xr.warning=S_("warning"),xr.warn=xr.warning,xr.dark=(e,t)=>Nm(e,Tw("default",{theme:"dark",...t})),xr.dismiss=function(e){(function(t){var n;if(kV()){if(t==null||wf(n=t)||Xm(n))ga.forEach(r=>{r.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){const r=ga.get(t.containerId);r?r.removeToast(t.id):ga.forEach(i=>{i.removeToast(t.id)})}}else Ym=Ym.filter(r=>t!=null&&r.options.toastId!==t)})(e)},xr.clearWaitingQueue=function(e){e===void 0&&(e={}),ga.forEach(t=>{!t.props.limit||e.containerId&&t.id!==e.containerId||t.clearQueue()})},xr.isActive=NV,xr.update=function(e,t){t===void 0&&(t={});const n=((r,i)=>{var a;let{containerId:o}=i;return(a=ga.get(o||1))==null?void 0:a.toasts.get(r)})(e,t);if(n){const{props:r,content:i}=n,a={delay:100,...r,...t,toastId:t.toastId||e,updateId:jV()};a.toastId!==e&&(a.staleId=e);const o=a.render||i;delete a.render,Nm(o,a)}},xr.done=e=>{xr.update(e,{progress:1})},xr.onChange=function(e){return YA.add(e),()=>{YA.delete(e)}},xr.play=e=>O$(!0,e),xr.pause=e=>O$(!1,e);const yxe=typeof window<"u"?V.useLayoutEffect:V.useEffect,x_=e=>{let{theme:t,type:n,isLoading:r,...i}=e;return Pt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},jT={info:function(e){return Pt.createElement(x_,{...e},Pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Pt.createElement(x_,{...e},Pt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Pt.createElement(x_,{...e},Pt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Pt.createElement(x_,{...e},Pt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Pt.createElement("div",{className:"Toastify__spinner"})}},vxe=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:a}=hxe(e),{closeButton:o,children:s,autoClose:l,onClick:c,type:d,hideProgressBar:h,closeToast:m,transition:y,position:v,className:_,style:S,bodyClassName:b,bodyStyle:x,progressClassName:R,progressStyle:P,updateId:O,role:D,progress:F,rtl:Q,toastId:Y,deleteToast:U,isIn:X,isLoading:ce,closeOnClick:te,theme:se}=e,pe=Vl("Toastify__toast",`Toastify__toast-theme--${se}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":Q},{"Toastify__toast--close-on-click":te}),_e=Qa(_)?_({rtl:Q,position:v,type:d,defaultClassName:pe}):Vl(pe,_),de=function(ie){let{theme:me,type:K,isLoading:ee,icon:ge}=ie,Re=null;const Ze={theme:me,type:K};return ge===!1||(Qa(ge)?Re=ge({...Ze,isLoading:ee}):V.isValidElement(ge)?Re=V.cloneElement(ge,Ze):ee?Re=jT.spinner():(Pe=>Pe in jT)(K)&&(Re=jT[K](Ze))),Re}(e),ue=!!F||!l,Ae={closeToast:m,type:d,theme:se};let k=null;return o===!1||(k=Qa(o)?o(Ae):V.isValidElement(o)?V.cloneElement(o,Ae):function(ie){let{closeToast:me,theme:K,ariaLabel:ee="close"}=ie;return Pt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${K}`,type:"button",onClick:ge=>{ge.stopPropagation(),me(ge)},"aria-label":ee},Pt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Pt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(Ae)),Pt.createElement(y,{isIn:X,done:U,position:v,preventExitTransition:n,nodeRef:r,playToast:a},Pt.createElement("div",{id:Y,onClick:c,"data-in":X,className:_e,...i,style:S,ref:r},Pt.createElement("div",{...X&&{role:D},className:Qa(b)?b({type:d}):Vl("Toastify__toast-body",b),style:x},de!=null&&Pt.createElement("div",{className:Vl("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!ce})},de),Pt.createElement("div",null,s)),k,Pt.createElement(pxe,{...O&&!ue?{key:`pb-${O}`}:{},rtl:Q,theme:se,delay:l,isRunning:t,isIn:X,closeToast:m,hide:h,type:d,style:P,className:R,controlledProgress:ue,progress:F||0})))},kb=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},_xe=Db(kb("bounce",!0)),wxe=Db(kb("slide",!0));Db(kb("zoom"));Db(kb("flip"));const bxe={position:"top-right",transition:_xe,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function Sxe(e){let t={...bxe,...e};const n=e.stacked,[r,i]=V.useState(!0),a=V.useRef(null),{getToastToRender:o,isToastActive:s,count:l}=dxe(t),{className:c,style:d,rtl:h,containerId:m}=t;function y(_){const S=Vl("Toastify__toast-container",`Toastify__toast-container--${_}`,{"Toastify__toast-container--rtl":h});return Qa(c)?c({position:_,rtl:h,defaultClassName:S}):Vl(S,q0(c))}function v(){n&&(i(!0),xr.play())}return yxe(()=>{if(n){var _;const S=a.current.querySelectorAll('[data-in="true"]'),b=12,x=(_=t.position)==null?void 0:_.includes("top");let R=0,P=0;Array.from(S).reverse().forEach((O,D)=>{const F=O;F.classList.add("Toastify__toast--stacked"),D>0&&(F.dataset.collapsed=`${r}`),F.dataset.pos||(F.dataset.pos=x?"top":"bot");const Q=R*(r?.2:1)+(r?0:b*D);F.style.setProperty("--y",`${x?Q:-1*Q}px`),F.style.setProperty("--g",`${b}`),F.style.setProperty("--s",""+(1-(r?P:0))),R+=F.offsetHeight,P+=.025})}},[r,l,n]),Pt.createElement("div",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),xr.pause())},onMouseLeave:v},o((_,S)=>{const b=S.length?{...d}:{...d,pointerEvents:"none"};return Pt.createElement("div",{className:y(_),style:b,key:`container-${_}`},S.map(x=>{let{content:R,props:P}=x;return Pt.createElement(vxe,{...P,stacked:n,collapseAll:v,isIn:s(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},R)}))}))}const xxe=()=>{xme(),exe();const e=nc(),t=mi();return txe(),V.useEffect(()=>{(async()=>{const n=await Fne({restorePreviousSession:!0});n&&e(KP.signin(n))})()},[e]),B.jsxs(sxe,{children:[B.jsx(XSe,{}),B.jsx(Sxe,{transition:wxe}),B.jsx(uxe,{children:B.jsx(nwe,{})}),B.jsx(lxe,{children:t.isLoggedIn===void 0?B.jsx(_t,{id:"Z3FXyt"}):B.jsx(Gw,{})})]})};function Exe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Cxe=/[ \t\n\f\r]/g;function Txe(e){return typeof e=="object"?e.type==="text"?L$(e.value):!1:L$(e)}function L$(e){return e.replace(Cxe,"")===""}class My{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}My.prototype.property={};My.prototype.normal={};My.prototype.space=null;function $V(e,t){const n={},r={};let i=-1;for(;++i<e.length;)Object.assign(n,e[i].property),Object.assign(r,e[i].normal);return new My(n,r,t)}function eP(e){return e.toLowerCase()}class Lo{constructor(t,n){this.property=t,this.attribute=n}}Lo.prototype.space=null;Lo.prototype.boolean=!1;Lo.prototype.booleanish=!1;Lo.prototype.overloadedBoolean=!1;Lo.prototype.number=!1;Lo.prototype.commaSeparated=!1;Lo.prototype.spaceSeparated=!1;Lo.prototype.commaOrSpaceSeparated=!1;Lo.prototype.mustUseProperty=!1;Lo.prototype.defined=!1;let Rxe=0;const _n=Vf(),oi=Vf(),BV=Vf(),Lt=Vf(),Er=Vf(),th=Vf(),za=Vf();function Vf(){return 2**++Rxe}const tP=Object.freeze(Object.defineProperty({__proto__:null,boolean:_n,booleanish:oi,commaOrSpaceSeparated:za,commaSeparated:th,number:Lt,overloadedBoolean:BV,spaceSeparated:Er},Symbol.toStringTag,{value:"Module"})),$T=Object.keys(tP);class gL extends Lo{constructor(t,n,r,i){let a=-1;if(super(t,n),I$(this,"space",i),typeof r=="number")for(;++a<$T.length;){const o=$T[a];I$(this,$T[a],(r&tP[o])===tP[o])}}}gL.prototype.defined=!0;function I$(e,t,n){n&&(e[t]=n)}const Axe={}.hasOwnProperty;function op(e){const t={},n={};let r;for(r in e.properties)if(Axe.call(e.properties,r)){const i=e.properties[r],a=new gL(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[eP(r)]=r,n[eP(a.attribute)]=r}return new My(t,n,e.space)}const UV=op({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),qV=op({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function zV(e,t){return t in e?e[t]:t}function HV(e,t){return zV(e,t.toLowerCase())}const VV=op({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:HV,properties:{xmlns:null,xmlnsXLink:null}}),KV=op({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:oi,ariaAutoComplete:null,ariaBusy:oi,ariaChecked:oi,ariaColCount:Lt,ariaColIndex:Lt,ariaColSpan:Lt,ariaControls:Er,ariaCurrent:null,ariaDescribedBy:Er,ariaDetails:null,ariaDisabled:oi,ariaDropEffect:Er,ariaErrorMessage:null,ariaExpanded:oi,ariaFlowTo:Er,ariaGrabbed:oi,ariaHasPopup:null,ariaHidden:oi,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Er,ariaLevel:Lt,ariaLive:null,ariaModal:oi,ariaMultiLine:oi,ariaMultiSelectable:oi,ariaOrientation:null,ariaOwns:Er,ariaPlaceholder:null,ariaPosInSet:Lt,ariaPressed:oi,ariaReadOnly:oi,ariaRelevant:null,ariaRequired:oi,ariaRoleDescription:Er,ariaRowCount:Lt,ariaRowIndex:Lt,ariaRowSpan:Lt,ariaSelected:oi,ariaSetSize:Lt,ariaSort:null,ariaValueMax:Lt,ariaValueMin:Lt,ariaValueNow:Lt,ariaValueText:null,role:null}}),Pxe=op({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:HV,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:th,acceptCharset:Er,accessKey:Er,action:null,allow:null,allowFullScreen:_n,allowPaymentRequest:_n,allowUserMedia:_n,alt:null,as:null,async:_n,autoCapitalize:null,autoComplete:Er,autoFocus:_n,autoPlay:_n,blocking:Er,capture:_n,charSet:null,checked:_n,cite:null,className:Er,cols:Lt,colSpan:null,content:null,contentEditable:oi,controls:_n,controlsList:Er,coords:Lt|th,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_n,defer:_n,dir:null,dirName:null,disabled:_n,download:BV,draggable:oi,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_n,formTarget:null,headers:Er,height:Lt,hidden:_n,high:Lt,href:null,hrefLang:null,htmlFor:Er,httpEquiv:Er,id:null,imageSizes:null,imageSrcSet:null,inert:_n,inputMode:null,integrity:null,is:null,isMap:_n,itemId:null,itemProp:Er,itemRef:Er,itemScope:_n,itemType:Er,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_n,low:Lt,manifest:null,max:null,maxLength:Lt,media:null,method:null,min:null,minLength:Lt,multiple:_n,muted:_n,name:null,nonce:null,noModule:_n,noValidate:_n,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_n,optimum:Lt,pattern:null,ping:Er,placeholder:null,playsInline:_n,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_n,referrerPolicy:null,rel:Er,required:_n,reversed:_n,rows:Lt,rowSpan:Lt,sandbox:Er,scope:null,scoped:_n,seamless:_n,selected:_n,shadowRootDelegatesFocus:_n,shadowRootMode:null,shape:null,size:Lt,sizes:null,slot:null,span:Lt,spellCheck:oi,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Lt,step:null,style:null,tabIndex:Lt,target:null,title:null,translate:null,type:null,typeMustMatch:_n,useMap:null,value:oi,width:Lt,wrap:null,align:null,aLink:null,archive:Er,axis:null,background:null,bgColor:null,border:Lt,borderColor:null,bottomMargin:Lt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_n,declare:_n,event:null,face:null,frame:null,frameBorder:null,hSpace:Lt,leftMargin:Lt,link:null,longDesc:null,lowSrc:null,marginHeight:Lt,marginWidth:Lt,noResize:_n,noHref:_n,noShade:_n,noWrap:_n,object:null,profile:null,prompt:null,rev:null,rightMargin:Lt,rules:null,scheme:null,scrolling:oi,standby:null,summary:null,text:null,topMargin:Lt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Lt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_n,disableRemotePlayback:_n,prefix:null,property:null,results:Lt,security:null,unselectable:null}}),Oxe=op({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:zV,properties:{about:za,accentHeight:Lt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Lt,amplitude:Lt,arabicForm:null,ascent:Lt,attributeName:null,attributeType:null,azimuth:Lt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Lt,by:null,calcMode:null,capHeight:Lt,className:Er,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Lt,diffuseConstant:Lt,direction:null,display:null,dur:null,divisor:Lt,dominantBaseline:null,download:_n,dx:null,dy:null,edgeMode:null,editable:null,elevation:Lt,enableBackground:null,end:null,event:null,exponent:Lt,externalResourcesRequired:null,fill:null,fillOpacity:Lt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:th,g2:th,glyphName:th,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Lt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Lt,horizOriginX:Lt,horizOriginY:Lt,id:null,ideographic:Lt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Lt,k:Lt,k1:Lt,k2:Lt,k3:Lt,k4:Lt,kernelMatrix:za,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Lt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Lt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Lt,overlineThickness:Lt,paintOrder:null,panose1:null,path:null,pathLength:Lt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Er,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Lt,pointsAtY:Lt,pointsAtZ:Lt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:za,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:za,rev:za,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:za,requiredFeatures:za,requiredFonts:za,requiredFormats:za,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Lt,specularExponent:Lt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Lt,strikethroughThickness:Lt,string:null,stroke:null,strokeDashArray:za,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Lt,strokeOpacity:Lt,strokeWidth:null,style:null,surfaceScale:Lt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:za,tabIndex:Lt,tableValues:null,target:null,targetX:Lt,targetY:Lt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:za,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Lt,underlineThickness:Lt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Lt,values:null,vAlphabetic:Lt,vMathematical:Lt,vectorEffect:null,vHanging:Lt,vIdeographic:Lt,version:null,vertAdvY:Lt,vertOriginX:Lt,vertOriginY:Lt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Lt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Lxe=/^data[-\w.:]+$/i,M$=/-[a-z]/g,Ixe=/[A-Z]/g;function Mxe(e,t){const n=eP(t);let r=t,i=Lo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Lxe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(M$,kxe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!M$.test(a)){let o=a.replace(Ixe,Dxe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=gL}return new i(r,t)}function Dxe(e){return"-"+e.toLowerCase()}function kxe(e){return e.charAt(1).toUpperCase()}const Nxe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Fxe=$V([qV,UV,VV,KV,Pxe],"html"),GV=$V([qV,UV,VV,KV,Oxe],"svg");function jxe(e){return e.join(" ").trim()}var E_={exports:{}},BT,D$;function $xe(){if(D$)return BT;D$=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,a=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,s=/^\s+|\s+$/g,l=`
`,c="/",d="*",h="",m="comment",y="declaration";BT=function(_,S){if(typeof _!="string")throw new TypeError("First argument must be a string");if(!_)return[];S=S||{};var b=1,x=1;function R(te){var se=te.match(t);se&&(b+=se.length);var pe=te.lastIndexOf(l);x=~pe?te.length-pe:x+te.length}function P(){var te={line:b,column:x};return function(se){return se.position=new O(te),Q(),se}}function O(te){this.start=te,this.end={line:b,column:x},this.source=S.source}O.prototype.content=_;function D(te){var se=new Error(S.source+":"+b+":"+x+": "+te);if(se.reason=te,se.filename=S.source,se.line=b,se.column=x,se.source=_,!S.silent)throw se}function F(te){var se=te.exec(_);if(se){var pe=se[0];return R(pe),_=_.slice(pe.length),se}}function Q(){F(n)}function Y(te){var se;for(te=te||[];se=U();)se!==!1&&te.push(se);return te}function U(){var te=P();if(!(c!=_.charAt(0)||d!=_.charAt(1))){for(var se=2;h!=_.charAt(se)&&(d!=_.charAt(se)||c!=_.charAt(se+1));)++se;if(se+=2,h===_.charAt(se-1))return D("End of comment missing");var pe=_.slice(2,se-2);return x+=2,R(pe),_=_.slice(se),x+=2,te({type:m,comment:pe})}}function X(){var te=P(),se=F(r);if(se){if(U(),!F(i))return D("property missing ':'");var pe=F(a),_e=te({type:y,property:v(se[0].replace(e,h)),value:pe?v(pe[0].replace(e,h)):h});return F(o),_e}}function ce(){var te=[];Y(te);for(var se;se=X();)se!==!1&&(te.push(se),Y(te));return te}return Q(),ce()};function v(_){return _?_.replace(s,h):h}return BT}var k$;function Bxe(){if(k$)return E_.exports;k$=1;var e=$xe();function t(n,r){var i=null;if(!n||typeof n!="string")return i;for(var a,o=e(n),s=typeof r=="function",l,c,d=0,h=o.length;d<h;d++)a=o[d],l=a.property,c=a.value,s?r(l,c,a):c&&(i||(i={}),i[l]=c);return i}return E_.exports=t,E_.exports.default=t,E_.exports}var Uxe=Bxe();const qxe=Ir(Uxe),WV=QV("end"),mL=QV("start");function QV(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zxe(e){const t=mL(e),n=WV(e);if(t&&n)return{start:t,end:n}}function Fm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?N$(e.position):"start"in e||"end"in e?N$(e):"line"in e||"column"in e?nP(e):""}function nP(e){return F$(e&&e.line)+":"+F$(e&&e.column)}function N$(e){return nP(e&&e.start)+"-"+nP(e&&e.end)}function F$(e){return e&&typeof e=="number"?e:1}class va extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const s=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=s?s.line:void 0,this.name=Fm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual,this.expected,this.note,this.url}}va.prototype.file="";va.prototype.name="";va.prototype.reason="";va.prototype.message="";va.prototype.stack="";va.prototype.column=void 0;va.prototype.line=void 0;va.prototype.ancestors=void 0;va.prototype.cause=void 0;va.prototype.fatal=void 0;va.prototype.place=void 0;va.prototype.ruleId=void 0;va.prototype.source=void 0;const yL={}.hasOwnProperty,Hxe=new Map,Vxe=/[A-Z]/g,Kxe=/-([a-z])/g,Gxe=new Set(["table","tbody","thead","tfoot","tr"]),Wxe=new Set(["td","th"]);function Qxe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Jxe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Zxe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?GV:Fxe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=ZV(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function ZV(e,t,n){if(t.type==="element"||t.type==="root"){const r=e.schema;let i=r;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=GV,e.schema=i),e.ancestors.push(t);let a=Xxe(e,t);const o=Yxe(e,e.ancestors);let s=e.Fragment;if(e.ancestors.pop(),t.type==="element")if(a&&Gxe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!Txe(l):!0})),yL.call(e.components,t.tagName)){const l=t.tagName;s=e.components[l],typeof s!="string"&&s!==e.Fragment&&e.passNode&&(o.node=t)}else s=t.tagName;if(a.length>0){const l=a.length>1?a:a[0];l&&(o.children=l)}return e.schema=r,e.create(t,s,o,n)}if(t.type==="text")return t.value}function Zxe(e,t,n){return r;function r(i,a,o,s){const c=Array.isArray(o.children)?n:t;return s?c(a,o,s):c(a,o)}}function Jxe(e,t){return n;function n(r,i,a,o){const s=Array.isArray(a.children),l=mL(r);return t(i,a,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Xxe(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Hxe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys&&a.type==="element"){const l=i.get(a.tagName)||0;o=a.tagName+"-"+l,i.set(a.tagName,l+1)}const s=ZV(e,a,o);s!==void 0&&n.push(s)}return n}function Yxe(e,t){const n=t[t.length-1],r={};let i;if("properties"in n&&n.properties){let a;for(i in n.properties)if(i!=="children"&&yL.call(n.properties,i)){const o=eEe(e,t,i,n.properties[i]);if(o){const[s,l]=o;e.tableCellAlignToStyle&&s==="align"&&typeof l=="string"&&Wxe.has(n.tagName)?a=l:r[s]=l}}if(a){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}}return r}function eEe(e,t,n,r){const i=Mxe(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=i.commaSeparated?Exe(r):jxe(r)),i.property==="style"){let a=typeof r=="object"?r:tEe(e,t,String(r));return e.stylePropertyNameCase==="css"&&(a=nEe(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&i.space?Nxe[i.property]||i.property:i.attribute,r]}}function tEe(e,t,n){const r={};try{qxe(n,i)}catch(a){if(!e.ignoreInvalidStyle){const o=a,s=new va("Cannot parse `style` attribute",{ancestors:t,cause:o,source:"hast-util-to-jsx-runtime",ruleId:"style"});throw s.file=e.filePath||void 0,s.url="https://github.com/syntax-tree/hast-util-to-jsx-runtime#cannot-parse-style-attribute",s}}return r;function i(a,o){let s=a;s.slice(0,2)!=="--"&&(s.slice(0,4)==="-ms-"&&(s="ms-"+s.slice(4)),s=s.replace(Kxe,iEe)),r[s]=o}}function nEe(e){const t={};let n;for(n in e)yL.call(e,n)&&(t[rEe(n)]=e[n]);return t}function rEe(e){let t=e.replace(Vxe,aEe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function iEe(e,t){return t.toUpperCase()}function aEe(e){return"-"+e.toLowerCase()}const UT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},oEe={};function sEe(e,t){const n=oEe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return JV(e,r,i)}function JV(e,t,n){if(uEe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return j$(e.children,t,n)}return Array.isArray(e)?j$(e,t,n):""}function j$(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=JV(e[i],t,n);return r.join("")}function uEe(e){return!!(e&&typeof e=="object")}const $$=document.createElement("i");function vL(e){const t="&"+e+";";$$.innerHTML=t;const n=$$.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ms(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Eo(e,t){return e.length>0?(Ms(e,e.length,0,t),e):t}const B$={}.hasOwnProperty;function lEe(e){const t={};let n=-1;for(;++n<e.length;)cEe(t,e[n]);return t}function cEe(e,t){let n;for(n in t){const i=(B$.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){B$.call(i,o)||(i[o]=[]);const s=a[o];fEe(i[o],Array.isArray(s)?s:s?[s]:[])}}}function fEe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ms(e,0,0,r)}function XV(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function nh(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const dEe=sc(new RegExp("\\p{P}","u")),Es=sc(/[A-Za-z]/),Za=sc(/[\dA-Za-z]/),hEe=sc(/[#-'*+\--9=?A-Z^-~]/);function rP(e){return e!==null&&(e<32||e===127)}const iP=sc(/\d/),pEe=sc(/[\dA-Fa-f]/),YV=sc(/[!-/:-@[-`{-~]/);function fn(e){return e!==null&&e<-2}function Pa(e){return e!==null&&(e<0||e===32)}function Zn(e){return e===-2||e===-1||e===32}function gEe(e){return YV(e)||dEe(e)}const mEe=sc(/\s/);function sc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function sp(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&Za(e.charCodeAt(n+1))&&Za(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const s=e.charCodeAt(n+1);a<56320&&s>56319&&s<57344?(o=String.fromCharCode(a,s),i=1):o="�"}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Tr(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(l){return Zn(l)?(e.enter(n),s(l)):t(l)}function s(l){return Zn(l)&&a++<i?(e.consume(l),s):(e.exit(n),t(l))}}const yEe={tokenize:vEe};function vEe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Tr(e,t,"linePrefix")}function i(s){return e.enter("paragraph"),a(s)}function a(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return fn(s)?(e.consume(s),e.exit("chunkText"),a):(e.consume(s),o)}}const _Ee={tokenize:wEe},U$={tokenize:bEe};function wEe(e){const t=this,n=[];let r=0,i,a,o;return s;function s(R){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,c)(R)}return c(R)}function l(R){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const P=t.events.length;let O=P,D;for(;O--;)if(t.events[O][0]==="exit"&&t.events[O][1].type==="chunkFlow"){D=t.events[O][1].end;break}b(r);let F=P;for(;F<t.events.length;)t.events[F][1].end=Object.assign({},D),F++;return Ms(t.events,O+1,0,t.events.slice(P)),t.events.length=F,c(R)}return s(R)}function c(R){if(r===n.length){if(!i)return m(R);if(i.currentConstruct&&i.currentConstruct.concrete)return v(R);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(U$,d,h)(R)}function d(R){return i&&x(),b(r),m(R)}function h(R){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,v(R)}function m(R){return t.containerState={},e.attempt(U$,y,v)(R)}function y(R){return r++,n.push([t.currentConstruct,t.containerState]),m(R)}function v(R){if(R===null){i&&x(),b(0),e.consume(R);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:a,_tokenizer:i}),_(R)}function _(R){if(R===null){S(e.exit("chunkFlow"),!0),b(0),e.consume(R);return}return fn(R)?(e.consume(R),S(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(R),_)}function S(R,P){const O=t.sliceStream(R);if(P&&O.push(null),R.previous=a,a&&(a.next=R),a=R,i.defineSkip(R.start),i.write(O),t.parser.lazy[R.start.line]){let D=i.events.length;for(;D--;)if(i.events[D][1].start.offset<o&&(!i.events[D][1].end||i.events[D][1].end.offset>o))return;const F=t.events.length;let Q=F,Y,U;for(;Q--;)if(t.events[Q][0]==="exit"&&t.events[Q][1].type==="chunkFlow"){if(Y){U=t.events[Q][1].end;break}Y=!0}for(b(r),D=F;D<t.events.length;)t.events[D][1].end=Object.assign({},U),D++;Ms(t.events,Q+1,0,t.events.slice(F)),t.events.length=D}}function b(R){let P=n.length;for(;P-- >R;){const O=n[P];t.containerState=O[1],O[0].exit.call(t,e)}n.length=R}function x(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function bEe(e,t,n){return Tr(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function q$(e){if(e===null||Pa(e)||mEe(e))return 1;if(gEe(e))return 2}function _L(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const aP={name:"attention",tokenize:xEe,resolveAll:SEe};function SEe(e,t){let n=-1,r,i,a,o,s,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h=Object.assign({},e[r][1].end),m=Object.assign({},e[n][1].start);z$(h,-l),z$(m,l),o={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},e[r][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[n][1].start),end:m},a={type:l>1?"strongText":"emphasisText",start:Object.assign({},e[r][1].end),end:Object.assign({},e[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},s.end)},e[r][1].end=Object.assign({},o.start),e[n][1].start=Object.assign({},s.end),c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=Eo(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=Eo(c,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),c=Eo(c,_L(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=Eo(c,[["exit",a,t],["enter",s,t],["exit",s,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=Eo(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ms(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function xEe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=q$(r);let a;return o;function o(l){return a=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===a)return e.consume(l),s;const c=e.exit("attentionSequence"),d=q$(l),h=!d||d===2&&i||n.includes(l),m=!i||i===2&&d||n.includes(r);return c._open=!!(a===42?h:h&&(i||!m)),c._close=!!(a===42?m:m&&(d||!h)),t(l)}}function z$(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const EEe={name:"autolink",tokenize:CEe};function CEe(e,t,n){let r=0;return i;function i(y){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(y){return Es(y)?(e.consume(y),o):c(y)}function o(y){return y===43||y===45||y===46||Za(y)?(r=1,s(y)):c(y)}function s(y){return y===58?(e.consume(y),r=0,l):(y===43||y===45||y===46||Za(y))&&r++<32?(e.consume(y),s):(r=0,c(y))}function l(y){return y===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):y===null||y===32||y===60||rP(y)?n(y):(e.consume(y),l)}function c(y){return y===64?(e.consume(y),d):hEe(y)?(e.consume(y),c):n(y)}function d(y){return Za(y)?h(y):n(y)}function h(y){return y===46?(e.consume(y),r=0,d):y===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(y),e.exit("autolinkMarker"),e.exit("autolink"),t):m(y)}function m(y){if((y===45||Za(y))&&r++<63){const v=y===45?m:h;return e.consume(y),v}return n(y)}}const Nb={tokenize:TEe,partial:!0};function TEe(e,t,n){return r;function r(a){return Zn(a)?Tr(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||fn(a)?t(a):n(a)}}const eK={name:"blockQuote",tokenize:REe,continuation:{tokenize:AEe},exit:PEe};function REe(e,t,n){const r=this;return i;function i(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return Zn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function AEe(e,t,n){const r=this;return i;function i(o){return Zn(o)?Tr(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(eK,t,n)(o)}}function PEe(e){e.exit("blockQuote")}const tK={name:"characterEscape",tokenize:OEe};function OEe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return YV(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const nK={name:"characterReference",tokenize:LEe};function LEe(e,t,n){const r=this;let i=0,a,o;return s;function s(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),a=31,o=Za,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=pEe,d):(e.enter("characterReferenceValue"),a=7,o=iP,d(h))}function d(h){if(h===59&&i){const m=e.exit("characterReferenceValue");return o===Za&&!vL(r.sliceSerialize(m))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(h)&&i++<a?(e.consume(h),d):n(h)}}const H$={tokenize:MEe,partial:!0},V$={name:"codeFenced",tokenize:IEe,concrete:!0};function IEe(e,t,n){const r=this,i={tokenize:O,partial:!0};let a=0,o=0,s;return l;function l(D){return c(D)}function c(D){const F=r.events[r.events.length-1];return a=F&&F[1].type==="linePrefix"?F[2].sliceSerialize(F[1],!0).length:0,s=D,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(D)}function d(D){return D===s?(o++,e.consume(D),d):o<3?n(D):(e.exit("codeFencedFenceSequence"),Zn(D)?Tr(e,h,"whitespace")(D):h(D))}function h(D){return D===null||fn(D)?(e.exit("codeFencedFence"),r.interrupt?t(D):e.check(H$,_,P)(D)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(D))}function m(D){return D===null||fn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(D)):Zn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tr(e,y,"whitespace")(D)):D===96&&D===s?n(D):(e.consume(D),m)}function y(D){return D===null||fn(D)?h(D):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(D))}function v(D){return D===null||fn(D)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(D)):D===96&&D===s?n(D):(e.consume(D),v)}function _(D){return e.attempt(i,P,S)(D)}function S(D){return e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),b}function b(D){return a>0&&Zn(D)?Tr(e,x,"linePrefix",a+1)(D):x(D)}function x(D){return D===null||fn(D)?e.check(H$,_,P)(D):(e.enter("codeFlowValue"),R(D))}function R(D){return D===null||fn(D)?(e.exit("codeFlowValue"),x(D)):(e.consume(D),R)}function P(D){return e.exit("codeFenced"),t(D)}function O(D,F,Q){let Y=0;return U;function U(pe){return D.enter("lineEnding"),D.consume(pe),D.exit("lineEnding"),X}function X(pe){return D.enter("codeFencedFence"),Zn(pe)?Tr(D,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(pe):ce(pe)}function ce(pe){return pe===s?(D.enter("codeFencedFenceSequence"),te(pe)):Q(pe)}function te(pe){return pe===s?(Y++,D.consume(pe),te):Y>=o?(D.exit("codeFencedFenceSequence"),Zn(pe)?Tr(D,se,"whitespace")(pe):se(pe)):Q(pe)}function se(pe){return pe===null||fn(pe)?(D.exit("codeFencedFence"),F(pe)):Q(pe)}}}function MEe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const qT={name:"codeIndented",tokenize:kEe},DEe={tokenize:NEe,partial:!0};function kEe(e,t,n){const r=this;return i;function i(c){return e.enter("codeIndented"),Tr(e,a,"linePrefix",5)(c)}function a(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fn(c)?e.attempt(DEe,o,l)(c):(e.enter("codeFlowValue"),s(c))}function s(c){return c===null||fn(c)?(e.exit("codeFlowValue"),o(c)):(e.consume(c),s)}function l(c){return e.exit("codeIndented"),t(c)}}function NEe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):Tr(e,a,"linePrefix",5)(o)}function a(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):fn(o)?i(o):n(o)}}const FEe={name:"codeText",tokenize:BEe,resolve:jEe,previous:$Ee};function jEe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function $Ee(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function BEe(e,t,n){let r=0,i,a;return o;function o(h){return e.enter("codeText"),e.enter("codeTextSequence"),s(h)}function s(h){return h===96?(e.consume(h),r++,s):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(a=e.enter("codeTextSequence"),i=0,d(h)):fn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||fn(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(a.type="codeTextData",c(h))}}function rK(e){const t={};let n=-1,r,i,a,o,s,l,c;for(;++n<e.length;){for(;n in t;)n=t[n];if(r=e[n],n&&r[1].type==="chunkFlow"&&e[n-1][1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,UEe(e,n)),n=t[n],c=!0);else if(r[1]._container){for(a=n,i=void 0;a--&&(o=e[a],o[1].type==="lineEnding"||o[1].type==="lineEndingBlank");)o[0]==="enter"&&(i&&(e[i][1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);i&&(r[1].end=Object.assign({},e[i][1].start),s=e.slice(i,n),s.unshift(r),Ms(e,i,n-i+1,s))}}return!c}function UEe(e,t){const n=e[t][1],r=e[t][2];let i=t-1;const a=[],o=n._tokenizer||r.parser[n.contentType](n.start),s=o.events,l=[],c={};let d,h,m=-1,y=n,v=0,_=0;const S=[_];for(;y;){for(;e[++i][1]!==y;);a.push(i),y._tokenizer||(d=r.sliceStream(y),y.next||d.push(null),h&&o.defineSkip(y.start),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),y._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),h=y,y=y.next}for(y=n;++m<s.length;)s[m][0]==="exit"&&s[m-1][0]==="enter"&&s[m][1].type===s[m-1][1].type&&s[m][1].start.line!==s[m][1].end.line&&(_=m+1,S.push(_),y._tokenizer=void 0,y.previous=void 0,y=y.next);for(o.events=[],y?(y._tokenizer=void 0,y.previous=void 0):S.pop(),m=S.length;m--;){const b=s.slice(S[m],S[m+1]),x=a.pop();l.unshift([x,x+b.length-1]),Ms(e,x,2,b)}for(m=-1;++m<l.length;)c[v+l[m][0]]=v+l[m][1],v+=l[m][1]-l[m][0]-1;return c}const qEe={tokenize:VEe,resolve:HEe},zEe={tokenize:KEe,partial:!0};function HEe(e){return rK(e),e}function VEe(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(s)}function i(s){return s===null?a(s):fn(s)?e.check(zEe,o,a)(s):(e.consume(s),i)}function a(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function KEe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Tr(e,a,"linePrefix")}function a(o){if(o===null||fn(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function iK(e,t,n,r,i,a,o,s,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),m):b===null||b===32||b===41||rP(b)?n(b):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),_(b))}function m(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),y(b))}function y(b){return b===62?(e.exit("chunkString"),e.exit(s),m(b)):b===null||b===60||fn(b)?n(b):(e.consume(b),b===92?v:y)}function v(b){return b===60||b===62||b===92?(e.consume(b),y):y(b)}function _(b){return!d&&(b===null||b===41||Pa(b))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(b)):d<c&&b===40?(e.consume(b),d++,_):b===41?(e.consume(b),d--,_):b===null||b===32||b===40||rP(b)?n(b):(e.consume(b),b===92?S:_)}function S(b){return b===40||b===41||b===92?(e.consume(b),_):_(b)}}function aK(e,t,n,r,i,a){const o=this;let s=0,l;return c;function c(y){return e.enter(r),e.enter(i),e.consume(y),e.exit(i),e.enter(a),d}function d(y){return s>999||y===null||y===91||y===93&&!l||y===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(y):y===93?(e.exit(a),e.enter(i),e.consume(y),e.exit(i),e.exit(r),t):fn(y)?(e.enter("lineEnding"),e.consume(y),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===null||y===91||y===93||fn(y)||s++>999?(e.exit("chunkString"),d(y)):(e.consume(y),l||(l=!Zn(y)),y===92?m:h)}function m(y){return y===91||y===92||y===93?(e.consume(y),s++,h):h(y)}}function oK(e,t,n,r,i,a){let o;return s;function s(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),o=m===40?41:m,l):n(m)}function l(m){return m===o?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(a),c(m))}function c(m){return m===o?(e.exit(a),l(o)):m===null?n(m):fn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Tr(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||fn(m)?(e.exit("chunkString"),c(m)):(e.consume(m),m===92?h:d)}function h(m){return m===o||m===92?(e.consume(m),d):d(m)}}function jm(e,t){let n;return r;function r(i){return fn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Zn(i)?Tr(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const GEe={name:"definition",tokenize:QEe},WEe={tokenize:ZEe,partial:!0};function QEe(e,t,n){const r=this;let i;return a;function a(y){return e.enter("definition"),o(y)}function o(y){return aK.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(y)}function s(y){return i=nh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),l):n(y)}function l(y){return Pa(y)?jm(e,c)(y):c(y)}function c(y){return iK(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(y)}function d(y){return e.attempt(WEe,h,h)(y)}function h(y){return Zn(y)?Tr(e,m,"whitespace")(y):m(y)}function m(y){return y===null||fn(y)?(e.exit("definition"),r.parser.defined.push(i),t(y)):n(y)}}function ZEe(e,t,n){return r;function r(s){return Pa(s)?jm(e,i)(s):n(s)}function i(s){return oK(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function a(s){return Zn(s)?Tr(e,o,"whitespace")(s):o(s)}function o(s){return s===null||fn(s)?t(s):n(s)}}const JEe={name:"hardBreakEscape",tokenize:XEe};function XEe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return fn(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const YEe={name:"headingAtx",tokenize:tCe,resolve:eCe};function eCe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ms(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function tCe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Pa(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||fn(d)?(e.exit("atxHeading"),t(d)):Zn(d)?Tr(e,s,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function c(d){return d===null||d===35||Pa(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),c)}}const nCe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],K$=["pre","script","style","textarea"],rCe={name:"htmlFlow",tokenize:sCe,resolveTo:oCe,concrete:!0},iCe={tokenize:lCe,partial:!0},aCe={tokenize:uCe,partial:!0};function oCe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function sCe(e,t,n){const r=this;let i,a,o,s,l;return c;function c(K){return d(K)}function d(K){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(K),h}function h(K){return K===33?(e.consume(K),m):K===47?(e.consume(K),a=!0,_):K===63?(e.consume(K),i=3,r.interrupt?t:k):Es(K)?(e.consume(K),o=String.fromCharCode(K),S):n(K)}function m(K){return K===45?(e.consume(K),i=2,y):K===91?(e.consume(K),i=5,s=0,v):Es(K)?(e.consume(K),i=4,r.interrupt?t:k):n(K)}function y(K){return K===45?(e.consume(K),r.interrupt?t:k):n(K)}function v(K){const ee="CDATA[";return K===ee.charCodeAt(s++)?(e.consume(K),s===ee.length?r.interrupt?t:ce:v):n(K)}function _(K){return Es(K)?(e.consume(K),o=String.fromCharCode(K),S):n(K)}function S(K){if(K===null||K===47||K===62||Pa(K)){const ee=K===47,ge=o.toLowerCase();return!ee&&!a&&K$.includes(ge)?(i=1,r.interrupt?t(K):ce(K)):nCe.includes(o.toLowerCase())?(i=6,ee?(e.consume(K),b):r.interrupt?t(K):ce(K)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(K):a?x(K):R(K))}return K===45||Za(K)?(e.consume(K),o+=String.fromCharCode(K),S):n(K)}function b(K){return K===62?(e.consume(K),r.interrupt?t:ce):n(K)}function x(K){return Zn(K)?(e.consume(K),x):U(K)}function R(K){return K===47?(e.consume(K),U):K===58||K===95||Es(K)?(e.consume(K),P):Zn(K)?(e.consume(K),R):U(K)}function P(K){return K===45||K===46||K===58||K===95||Za(K)?(e.consume(K),P):O(K)}function O(K){return K===61?(e.consume(K),D):Zn(K)?(e.consume(K),O):R(K)}function D(K){return K===null||K===60||K===61||K===62||K===96?n(K):K===34||K===39?(e.consume(K),l=K,F):Zn(K)?(e.consume(K),D):Q(K)}function F(K){return K===l?(e.consume(K),l=null,Y):K===null||fn(K)?n(K):(e.consume(K),F)}function Q(K){return K===null||K===34||K===39||K===47||K===60||K===61||K===62||K===96||Pa(K)?O(K):(e.consume(K),Q)}function Y(K){return K===47||K===62||Zn(K)?R(K):n(K)}function U(K){return K===62?(e.consume(K),X):n(K)}function X(K){return K===null||fn(K)?ce(K):Zn(K)?(e.consume(K),X):n(K)}function ce(K){return K===45&&i===2?(e.consume(K),_e):K===60&&i===1?(e.consume(K),de):K===62&&i===4?(e.consume(K),ie):K===63&&i===3?(e.consume(K),k):K===93&&i===5?(e.consume(K),Ae):fn(K)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(iCe,me,te)(K)):K===null||fn(K)?(e.exit("htmlFlowData"),te(K)):(e.consume(K),ce)}function te(K){return e.check(aCe,se,me)(K)}function se(K){return e.enter("lineEnding"),e.consume(K),e.exit("lineEnding"),pe}function pe(K){return K===null||fn(K)?te(K):(e.enter("htmlFlowData"),ce(K))}function _e(K){return K===45?(e.consume(K),k):ce(K)}function de(K){return K===47?(e.consume(K),o="",ue):ce(K)}function ue(K){if(K===62){const ee=o.toLowerCase();return K$.includes(ee)?(e.consume(K),ie):ce(K)}return Es(K)&&o.length<8?(e.consume(K),o+=String.fromCharCode(K),ue):ce(K)}function Ae(K){return K===93?(e.consume(K),k):ce(K)}function k(K){return K===62?(e.consume(K),ie):K===45&&i===2?(e.consume(K),k):ce(K)}function ie(K){return K===null||fn(K)?(e.exit("htmlFlowData"),me(K)):(e.consume(K),ie)}function me(K){return e.exit("htmlFlow"),t(K)}}function uCe(e,t,n){const r=this;return i;function i(o){return fn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function lCe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Nb,t,n)}}const cCe={name:"htmlText",tokenize:fCe};function fCe(e,t,n){const r=this;let i,a,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),c):k===47?(e.consume(k),O):k===63?(e.consume(k),R):Es(k)?(e.consume(k),Q):n(k)}function c(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),a=0,v):Es(k)?(e.consume(k),x):n(k)}function d(k){return k===45?(e.consume(k),y):n(k)}function h(k){return k===null?n(k):k===45?(e.consume(k),m):fn(k)?(o=h,de(k)):(e.consume(k),h)}function m(k){return k===45?(e.consume(k),y):h(k)}function y(k){return k===62?_e(k):k===45?m(k):h(k)}function v(k){const ie="CDATA[";return k===ie.charCodeAt(a++)?(e.consume(k),a===ie.length?_:v):n(k)}function _(k){return k===null?n(k):k===93?(e.consume(k),S):fn(k)?(o=_,de(k)):(e.consume(k),_)}function S(k){return k===93?(e.consume(k),b):_(k)}function b(k){return k===62?_e(k):k===93?(e.consume(k),b):_(k)}function x(k){return k===null||k===62?_e(k):fn(k)?(o=x,de(k)):(e.consume(k),x)}function R(k){return k===null?n(k):k===63?(e.consume(k),P):fn(k)?(o=R,de(k)):(e.consume(k),R)}function P(k){return k===62?_e(k):R(k)}function O(k){return Es(k)?(e.consume(k),D):n(k)}function D(k){return k===45||Za(k)?(e.consume(k),D):F(k)}function F(k){return fn(k)?(o=F,de(k)):Zn(k)?(e.consume(k),F):_e(k)}function Q(k){return k===45||Za(k)?(e.consume(k),Q):k===47||k===62||Pa(k)?Y(k):n(k)}function Y(k){return k===47?(e.consume(k),_e):k===58||k===95||Es(k)?(e.consume(k),U):fn(k)?(o=Y,de(k)):Zn(k)?(e.consume(k),Y):_e(k)}function U(k){return k===45||k===46||k===58||k===95||Za(k)?(e.consume(k),U):X(k)}function X(k){return k===61?(e.consume(k),ce):fn(k)?(o=X,de(k)):Zn(k)?(e.consume(k),X):Y(k)}function ce(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),i=k,te):fn(k)?(o=ce,de(k)):Zn(k)?(e.consume(k),ce):(e.consume(k),se)}function te(k){return k===i?(e.consume(k),i=void 0,pe):k===null?n(k):fn(k)?(o=te,de(k)):(e.consume(k),te)}function se(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Pa(k)?Y(k):(e.consume(k),se)}function pe(k){return k===47||k===62||Pa(k)?Y(k):n(k)}function _e(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function de(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),ue}function ue(k){return Zn(k)?Tr(e,Ae,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):Ae(k)}function Ae(k){return e.enter("htmlTextData"),o(k)}}const wL={name:"labelEnd",tokenize:yCe,resolveTo:mCe,resolveAll:gCe},dCe={tokenize:vCe},hCe={tokenize:_Ce},pCe={tokenize:wCe};function gCe(e){let t=-1;for(;++t<e.length;){const n=e[t][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(e.splice(t+1,n.type==="labelImage"?4:2),n.type="data",t++)}return e}function mCe(e,t){let n=e.length,r=0,i,a,o,s;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:Object.assign({},e[a][1].start),end:Object.assign({},e[e.length-1][1].end)},c={type:"label",start:Object.assign({},e[a][1].start),end:Object.assign({},e[o][1].end)},d={type:"labelText",start:Object.assign({},e[a+r+2][1].end),end:Object.assign({},e[o-2][1].start)};return s=[["enter",l,t],["enter",c,t]],s=Eo(s,e.slice(a+1,a+r+3)),s=Eo(s,[["enter",d,t]]),s=Eo(s,_L(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),s=Eo(s,[["exit",d,t],e[o-2],e[o-1],["exit",c,t]]),s=Eo(s,e.slice(o+1)),s=Eo(s,[["exit",l,t]]),Ms(e,a,e.length,s),e}function yCe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return s;function s(m){return a?a._inactive?h(m):(o=r.parser.defined.includes(nh(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),l):n(m)}function l(m){return m===40?e.attempt(dCe,d,o?d:h)(m):m===91?e.attempt(hCe,d,o?c:h)(m):o?d(m):h(m)}function c(m){return e.attempt(pCe,d,h)(m)}function d(m){return t(m)}function h(m){return a._balanced=!0,n(m)}}function vCe(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return Pa(h)?jm(e,a)(h):a(h)}function a(h){return h===41?d(h):iK(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function o(h){return Pa(h)?jm(e,l)(h):d(h)}function s(h){return n(h)}function l(h){return h===34||h===39||h===40?oK(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Pa(h)?jm(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function _Ce(e,t,n){const r=this;return i;function i(s){return aK.call(r,e,a,o,"reference","referenceMarker","referenceString")(s)}function a(s){return r.parser.defined.includes(nh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function wCe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const bCe={name:"labelStartImage",tokenize:SCe,resolveAll:wL.resolveAll};function SCe(e,t,n){const r=this;return i;function i(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),a}function a(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const xCe={name:"labelStartLink",tokenize:ECe,resolveAll:wL.resolveAll};function ECe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const zT={name:"lineEnding",tokenize:CCe};function CCe(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Tr(e,t,"linePrefix")}}const z0={name:"thematicBreak",tokenize:TCe};function TCe(e,t,n){let r=0,i;return a;function a(c){return e.enter("thematicBreak"),o(c)}function o(c){return i=c,s(c)}function s(c){return c===i?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fn(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===i?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Zn(c)?Tr(e,s,"whitespace")(c):s(c))}}const Ea={name:"list",tokenize:PCe,continuation:{tokenize:OCe},exit:ICe},RCe={tokenize:MCe,partial:!0},ACe={tokenize:LCe,partial:!0};function PCe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return s;function s(y){const v=r.containerState.type||(y===42||y===43||y===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||y===r.containerState.marker:iP(y)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),y===42||y===45?e.check(z0,n,c)(y):c(y);if(!r.interrupt||y===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(y)}return n(y)}function l(y){return iP(y)&&++o<10?(e.consume(y),l):(!r.interrupt||o<2)&&(r.containerState.marker?y===r.containerState.marker:y===41||y===46)?(e.exit("listItemValue"),c(y)):n(y)}function c(y){return e.enter("listItemMarker"),e.consume(y),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||y,e.check(Nb,r.interrupt?n:d,e.attempt(RCe,m,h))}function d(y){return r.containerState.initialBlankLine=!0,a++,m(y)}function h(y){return Zn(y)?(e.enter("listItemPrefixWhitespace"),e.consume(y),e.exit("listItemPrefixWhitespace"),m):n(y)}function m(y){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(y)}}function OCe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Nb,i,a);function i(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tr(e,t,"listItemIndent",r.containerState.size+1)(s)}function a(s){return r.containerState.furtherBlankLines||!Zn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(ACe,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tr(e,e.attempt(Ea,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function LCe(e,t,n){const r=this;return Tr(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function ICe(e){e.exit(this.containerState.type)}function MCe(e,t,n){const r=this;return Tr(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!Zn(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const G$={name:"setextUnderline",tokenize:kCe,resolveTo:DCe};function DCe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end=Object.assign({},e[a][1].end)):e[r][1]=o,e.push(["exit",o,t]),e}function kCe(e,t,n){const r=this;let i;return a;function a(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return e.enter("setextHeadingLineSequence"),s(c)}function s(c){return c===i?(e.consume(c),s):(e.exit("setextHeadingLineSequence"),Zn(c)?Tr(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fn(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const NCe={tokenize:FCe};function FCe(e){const t=this,n=e.attempt(Nb,r,e.attempt(this.parser.constructs.flowInitial,i,Tr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(qEe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const jCe={resolveAll:uK()},$Ce=sK("string"),BCe=sK("text");function sK(e){return{tokenize:t,resolveAll:uK(e==="text"?UCe:void 0)};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,s);return o;function o(d){return c(d)?a(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=i[d];let m=-1;if(h)for(;++m<h.length;){const y=h[m];if(!y.previous||y.previous.call(r,r.previous))return!0}return!1}}}function uK(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function UCe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,s=0,l;for(;a--;){const c=i[a];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(c===-2)l=!0,s++;else if(c!==-1){a++;break}}if(s){const c={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-s,offset:r.end.offset-s,_index:r.start._index+a,_bufferIndex:a?o:r.start._bufferIndex+o},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}function qCe(e,t,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},a=[];let o=[],s=[];const l={consume:x,enter:R,exit:P,attempt:F(O),check:F(D),interrupt:F(D,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:y,sliceSerialize:m,now:v,defineSkip:_,write:h};let d=t.tokenize.call(c,l);return t.resolveAll&&a.push(t),c;function h(X){return o=Eo(o,X),S(),o[o.length-1]!==null?[]:(Q(t,0),c.events=_L(a,c.events,c),c.events)}function m(X,ce){return HCe(y(X),ce)}function y(X){return zCe(o,X)}function v(){const{line:X,column:ce,offset:te,_index:se,_bufferIndex:pe}=r;return{line:X,column:ce,offset:te,_index:se,_bufferIndex:pe}}function _(X){i[X.line]=X.column,U()}function S(){let X;for(;r._index<o.length;){const ce=o[r._index];if(typeof ce=="string")for(X=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===X&&r._bufferIndex<ce.length;)b(ce.charCodeAt(r._bufferIndex));else b(ce)}}function b(X){d=d(X)}function x(X){fn(X)?(r.line++,r.column=1,r.offset+=X===-3?2:1,U()):X!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=X}function R(X,ce){const te=ce||{};return te.type=X,te.start=v(),c.events.push(["enter",te,c]),s.push(te),te}function P(X){const ce=s.pop();return ce.end=v(),c.events.push(["exit",ce,c]),ce}function O(X,ce){Q(X,ce.from)}function D(X,ce){ce.restore()}function F(X,ce){return te;function te(se,pe,_e){let de,ue,Ae,k;return Array.isArray(se)?me(se):"tokenize"in se?me([se]):ie(se);function ie(Re){return Ze;function Ze(Pe){const Ne=Pe!==null&&Re[Pe],Xe=Pe!==null&&Re.null,oe=[...Array.isArray(Ne)?Ne:Ne?[Ne]:[],...Array.isArray(Xe)?Xe:Xe?[Xe]:[]];return me(oe)(Pe)}}function me(Re){return de=Re,ue=0,Re.length===0?_e:K(Re[ue])}function K(Re){return Ze;function Ze(Pe){return k=Y(),Ae=Re,Re.partial||(c.currentConstruct=Re),Re.name&&c.parser.constructs.disable.null.includes(Re.name)?ge():Re.tokenize.call(ce?Object.assign(Object.create(c),ce):c,l,ee,ge)(Pe)}}function ee(Re){return X(Ae,k),pe}function ge(Re){return k.restore(),++ue<de.length?K(de[ue]):_e}}}function Q(X,ce){X.resolveAll&&!a.includes(X)&&a.push(X),X.resolve&&Ms(c.events,ce,c.events.length-ce,X.resolve(c.events.slice(ce),c)),X.resolveTo&&(c.events=X.resolveTo(c.events,c))}function Y(){const X=v(),ce=c.previous,te=c.currentConstruct,se=c.events.length,pe=Array.from(s);return{restore:_e,from:se};function _e(){r=X,c.previous=ce,c.currentConstruct=te,c.events.length=se,s=pe,U()}}function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zCe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function HCe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}const VCe={42:Ea,43:Ea,45:Ea,48:Ea,49:Ea,50:Ea,51:Ea,52:Ea,53:Ea,54:Ea,55:Ea,56:Ea,57:Ea,62:eK},KCe={91:GEe},GCe={[-2]:qT,[-1]:qT,32:qT},WCe={35:YEe,42:z0,45:[G$,z0],60:rCe,61:G$,95:z0,96:V$,126:V$},QCe={38:nK,92:tK},ZCe={[-5]:zT,[-4]:zT,[-3]:zT,33:bCe,38:nK,42:aP,60:[EEe,cCe],91:xCe,92:[JEe,tK],93:wL,95:aP,96:FEe},JCe={null:[aP,jCe]},XCe={null:[42,95]},YCe={null:[]},e2e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:XCe,contentInitial:KCe,disable:YCe,document:VCe,flow:WCe,flowInitial:GCe,insideSpan:JCe,string:QCe,text:ZCe},Symbol.toStringTag,{value:"Module"}));function t2e(e){const n=lEe([e2e,...(e||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(yEe),document:i(_Ee),flow:i(NCe),string:i($Ce),text:i(BCe)};return r;function i(a){return o;function o(s){return qCe(r,a,s)}}}function n2e(e){for(;!rK(e););return e}const W$=/[\0\t\n\r]/g;function r2e(){let e=1,t="",n=!0,r;return i;function i(a,o,s){const l=[];let c,d,h,m,y;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),h=0,t="",n&&(a.charCodeAt(0)===65279&&h++,n=void 0);h<a.length;){if(W$.lastIndex=h,c=W$.exec(a),m=c&&c.index!==void 0?c.index:a.length,y=a.charCodeAt(m),!c){t=a.slice(h);break}if(y===10&&h===m&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<m&&(l.push(a.slice(h,m)),e+=m-h),y){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=m+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const i2e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function a2e(e){return e.replace(i2e,o2e)}function o2e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return XV(n.slice(a?2:1),a?16:10)}return vL(n)||e}const lK={}.hasOwnProperty;function s2e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),u2e(n)(n2e(t2e(n).document().write(r2e()(e,t,!0))))}function u2e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(He),autolinkProtocol:Y,autolinkEmail:Y,atxHeading:a(ae),blockQuote:a(Ne),characterEscape:Y,characterReference:Y,codeFenced:a(Xe),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(Xe,o),codeText:a(oe,o),codeTextData:Y,data:Y,codeFlowValue:Y,definition:a(H),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a($),hardBreakEscape:a(Z),hardBreakTrailing:a(Z),htmlFlow:a(he,o),htmlFlowData:Y,htmlText:a(he,o),htmlTextData:Y,image:a(ye),label:o,link:a(He),listItem:a(Fe),listItemValue:m,listOrdered:a(Ee,h),listUnordered:a(Ee),paragraph:a(tt),reference:K,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(ae),strong:a(nt),thematicBreak:a(qt)},exit:{atxHeading:l(),atxHeadingSequence:O,autolink:l(),autolinkEmail:Pe,autolinkProtocol:Ze,blockQuote:l(),characterEscapeValue:U,characterReferenceMarkerHexadecimal:ge,characterReferenceMarkerNumeric:ge,characterReferenceValue:Re,codeFenced:l(S),codeFencedFence:_,codeFencedFenceInfo:y,codeFencedFenceMeta:v,codeFlowValue:U,codeIndented:l(b),codeText:l(pe),codeTextData:U,data:U,definition:l(),definitionDestinationString:P,definitionLabelString:x,definitionTitleString:R,emphasis:l(),hardBreakEscape:l(ce),hardBreakTrailing:l(ce),htmlFlow:l(te),htmlFlowData:U,htmlText:l(se),htmlTextData:U,image:l(de),label:Ae,labelText:ue,lineEnding:X,link:l(_e),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ee,resourceDestinationString:k,resourceTitleString:ie,resource:me,setextHeading:l(Q),setextHeadingLineSequence:F,setextHeadingText:D,strong:l(),thematicBreak:l()}};cK(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let Ue={type:"root",children:[]};const ne={stack:[Ue],tokenStack:[],config:t,enter:s,exit:c,buffer:o,resume:d,data:n},z=[];let W=-1;for(;++W<Se.length;)if(Se[W][1].type==="listOrdered"||Se[W][1].type==="listUnordered")if(Se[W][0]==="enter")z.push(W);else{const G=z.pop();W=i(Se,G,W)}for(W=-1;++W<Se.length;){const G=t[Se[W][0]];lK.call(G,Se[W][1].type)&&G[Se[W][1].type].call(Object.assign({sliceSerialize:Se[W][2].sliceSerialize},ne),Se[W][1])}if(ne.tokenStack.length>0){const G=ne.tokenStack[ne.tokenStack.length-1];(G[1]||Q$).call(ne,void 0,G[0])}for(Ue.position={start:bl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:bl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},W=-1;++W<t.transforms.length;)Ue=t.transforms[W](Ue)||Ue;return Ue}function i(Se,Ue,ne){let z=Ue-1,W=-1,G=!1,je,Je,ke,At;for(;++z<=ne;){const It=Se[z];switch(It[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{It[0]==="enter"?W++:W--,At=void 0;break}case"lineEndingBlank":{It[0]==="enter"&&(je&&!At&&!W&&!ke&&(ke=z),At=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:At=void 0}if(!W&&It[0]==="enter"&&It[1].type==="listItemPrefix"||W===-1&&It[0]==="exit"&&(It[1].type==="listUnordered"||It[1].type==="listOrdered")){if(je){let Nt=z;for(Je=void 0;Nt--;){const Ot=Se[Nt];if(Ot[1].type==="lineEnding"||Ot[1].type==="lineEndingBlank"){if(Ot[0]==="exit")continue;Je&&(Se[Je][1].type="lineEndingBlank",G=!0),Ot[1].type="lineEnding",Je=Nt}else if(!(Ot[1].type==="linePrefix"||Ot[1].type==="blockQuotePrefix"||Ot[1].type==="blockQuotePrefixWhitespace"||Ot[1].type==="blockQuoteMarker"||Ot[1].type==="listItemIndent"))break}ke&&(!Je||ke<Je)&&(je._spread=!0),je.end=Object.assign({},Je?Se[Je][1].start:It[1].end),Se.splice(Je||z,0,["exit",je,It[2]]),z++,ne++}if(It[1].type==="listItemPrefix"){const Nt={type:"listItem",_spread:!1,start:Object.assign({},It[1].start),end:void 0};je=Nt,Se.splice(z,0,["enter",Nt,It[2]]),z++,ne++,ke=void 0,At=!0}}}return Se[Ue][1]._spread=G,ne}function a(Se,Ue){return ne;function ne(z){s.call(this,Se(z),z),Ue&&Ue.call(this,z)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(Se,Ue,ne){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([Ue,ne]),Se.position={start:bl(Ue.start),end:void 0}}function l(Se){return Ue;function Ue(ne){Se&&Se.call(this,ne),c.call(this,ne)}}function c(Se,Ue){const ne=this.stack.pop(),z=this.tokenStack.pop();if(z)z[0].type!==Se.type&&(Ue?Ue.call(this,Se,z[0]):(z[1]||Q$).call(this,Se,z[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Fm({start:Se.start,end:Se.end})+"): it’s not open");ne.position.end=bl(Se.end)}function d(){return sEe(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(Se){if(this.data.expectingFirstListItemValue){const Ue=this.stack[this.stack.length-2];Ue.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function y(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.lang=Se}function v(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.meta=Se}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function S(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=Se.replace(/(\r?\n|\r)$/g,"")}function x(Se){const Ue=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Ue,ne.identifier=nh(this.sliceSerialize(Se)).toLowerCase()}function R(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.title=Se}function P(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.url=Se}function O(Se){const Ue=this.stack[this.stack.length-1];if(!Ue.depth){const ne=this.sliceSerialize(Se).length;Ue.depth=ne}}function D(){this.data.setextHeadingSlurpLineEnding=!0}function F(Se){const Ue=this.stack[this.stack.length-1];Ue.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function Q(){this.data.setextHeadingSlurpLineEnding=void 0}function Y(Se){const ne=this.stack[this.stack.length-1].children;let z=ne[ne.length-1];(!z||z.type!=="text")&&(z=gt(),z.position={start:bl(Se.start),end:void 0},ne.push(z)),this.stack.push(z)}function U(Se){const Ue=this.stack.pop();Ue.value+=this.sliceSerialize(Se),Ue.position.end=bl(Se.end)}function X(Se){const Ue=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=Ue.children[Ue.children.length-1];ne.position.end=bl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Ue.type)&&(Y.call(this,Se),U.call(this,Se))}function ce(){this.data.atHardBreak=!0}function te(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=Se}function se(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=Se}function pe(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.value=Se}function _e(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Ue=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Ue,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function de(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const Ue=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=Ue,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function ue(Se){const Ue=this.sliceSerialize(Se),ne=this.stack[this.stack.length-2];ne.label=a2e(Ue),ne.identifier=nh(Ue).toLowerCase()}function Ae(){const Se=this.stack[this.stack.length-1],Ue=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const z=Se.children;ne.children=z}else ne.alt=Ue}function k(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.url=Se}function ie(){const Se=this.resume(),Ue=this.stack[this.stack.length-1];Ue.title=Se}function me(){this.data.inReference=void 0}function K(){this.data.referenceType="collapsed"}function ee(Se){const Ue=this.resume(),ne=this.stack[this.stack.length-1];ne.label=Ue,ne.identifier=nh(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function ge(Se){this.data.characterReferenceType=Se.type}function Re(Se){const Ue=this.sliceSerialize(Se),ne=this.data.characterReferenceType;let z;ne?(z=XV(Ue,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):z=vL(Ue);const W=this.stack.pop();W.value+=z,W.position.end=bl(Se.end)}function Ze(Se){U.call(this,Se);const Ue=this.stack[this.stack.length-1];Ue.url=this.sliceSerialize(Se)}function Pe(Se){U.call(this,Se);const Ue=this.stack[this.stack.length-1];Ue.url="mailto:"+this.sliceSerialize(Se)}function Ne(){return{type:"blockquote",children:[]}}function Xe(){return{type:"code",lang:null,meta:null,value:""}}function oe(){return{type:"inlineCode",value:""}}function H(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $(){return{type:"emphasis",children:[]}}function ae(){return{type:"heading",depth:0,children:[]}}function Z(){return{type:"break"}}function he(){return{type:"html",value:""}}function ye(){return{type:"image",title:null,url:"",alt:null}}function He(){return{type:"link",title:null,url:"",children:[]}}function Ee(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function Fe(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function tt(){return{type:"paragraph",children:[]}}function nt(){return{type:"strong",children:[]}}function gt(){return{type:"text",value:""}}function qt(){return{type:"thematicBreak"}}}function bl(e){return{line:e.line,column:e.column,offset:e.offset}}function cK(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?cK(e,r):l2e(e,r)}}function l2e(e,t){let n;for(n in t)if(lK.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Q$(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Fm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Fm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Fm({start:t.start,end:t.end})+") is still open")}function c2e(e){const t=this;t.parser=n;function n(r){return s2e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function f2e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function d2e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function h2e(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function p2e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function g2e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function m2e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=sp(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function y2e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function v2e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function fK(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function _2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fK(e,t);const i={src:sp(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function w2e(e,t){const n={src:sp(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function b2e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function S2e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return fK(e,t);const i={href:sp(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function x2e(e,t){const n={href:sp(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function E2e(e,t,n){const r=e.all(t),i=n?C2e(n):dK(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(i||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,c),e.applyData(t,c)}function C2e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=dK(n[r])}return t}function dK(e){const t=e.spread;return t??e.children.length>1}function T2e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function R2e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function A2e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function P2e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function O2e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=mL(t.children[1]),l=WV(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function L2e(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,s=o?o.length:t.children.length;let l=-1;const c=[];for(;++l<s;){const h=t.children[l],m={},y=o?o[l]:void 0;y&&(m.align=y);let v={type:"element",tagName:a,properties:m,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function I2e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const Z$=9,J$=32;function M2e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(X$(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(X$(t.slice(i),i>0,!1)),a.join("")}function X$(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===Z$||a===J$;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===Z$||a===J$;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function D2e(e,t){const n={type:"text",value:M2e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function k2e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const N2e={blockquote:f2e,break:d2e,code:h2e,delete:p2e,emphasis:g2e,footnoteReference:m2e,heading:y2e,html:v2e,imageReference:_2e,image:w2e,inlineCode:b2e,linkReference:S2e,link:x2e,listItem:E2e,list:T2e,paragraph:R2e,root:A2e,strong:P2e,table:O2e,tableCell:I2e,tableRow:L2e,text:D2e,thematicBreak:k2e,toml:C_,yaml:C_,definition:C_,footnoteDefinition:C_};function C_(){}const hK=-1,Fb=0,Rw=1,Aw=2,bL=3,SL=4,xL=5,EL=6,pK=7,gK=8,Y$=typeof self=="object"?self:globalThis,F2e=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case Fb:case hK:return n(o,i);case Rw:{const s=n([],i);for(const l of o)s.push(r(l));return s}case Aw:{const s=n({},i);for(const[l,c]of o)s[r(l)]=r(c);return s}case bL:return n(new Date(o),i);case SL:{const{source:s,flags:l}=o;return n(new RegExp(s,l),i)}case xL:{const s=n(new Map,i);for(const[l,c]of o)s.set(r(l),r(c));return s}case EL:{const s=n(new Set,i);for(const l of o)s.add(r(l));return s}case pK:{const{name:s,message:l}=o;return n(new Y$[s](l),i)}case gK:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i)}return n(new Y$[a](o),i)};return r},e5=e=>F2e(new Map,e)(0),Nd="",{toString:j2e}={},{keys:$2e}=Object,sm=e=>{const t=typeof e;if(t!=="object"||!e)return[Fb,t];const n=j2e.call(e).slice(8,-1);switch(n){case"Array":return[Rw,Nd];case"Object":return[Aw,Nd];case"Date":return[bL,Nd];case"RegExp":return[SL,Nd];case"Map":return[xL,Nd];case"Set":return[EL,Nd]}return n.includes("Array")?[Rw,n]:n.includes("Error")?[pK,n]:[Aw,n]},T_=([e,t])=>e===Fb&&(t==="function"||t==="symbol"),B2e=(e,t,n,r)=>{const i=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},a=o=>{if(n.has(o))return n.get(o);let[s,l]=sm(o);switch(s){case Fb:{let d=o;switch(l){case"bigint":s=gK,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([hK],o)}return i([s,d],o)}case Rw:{if(l)return i([l,[...o]],o);const d=[],h=i([s,d],o);for(const m of o)d.push(a(m));return h}case Aw:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],h=i([s,d],o);for(const m of $2e(o))(e||!T_(sm(o[m])))&&d.push([a(m),a(o[m])]);return h}case bL:return i([s,o.toISOString()],o);case SL:{const{source:d,flags:h}=o;return i([s,{source:d,flags:h}],o)}case xL:{const d=[],h=i([s,d],o);for(const[m,y]of o)(e||!(T_(sm(m))||T_(sm(y))))&&d.push([a(m),a(y)]);return h}case EL:{const d=[],h=i([s,d],o);for(const m of o)(e||!T_(sm(m)))&&d.push(a(m));return h}}const{message:c}=o;return i([s,{name:l,message:c}],o)};return a},t5=(e,{json:t,lossy:n}={})=>{const r=[];return B2e(!(t||n),!!t,new Map,r)(e),r},Pw=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?e5(t5(e,t)):structuredClone(e):(e,t)=>e5(t5(e,t));function U2e(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function q2e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function z2e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||U2e,r=e.options.footnoteBackLabel||q2e,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),m=sp(h.toLowerCase());let y=0;const v=[],_=e.footnoteCounts.get(h);for(;_!==void 0&&++y<=_;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,y);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(y>1?"-"+y:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,y),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const S=d[d.length-1];if(S&&S.type==="element"&&S.tagName==="p"){const x=S.children[S.children.length-1];x&&x.type==="text"?x.value+=" ":S.children.push({type:"text",value:" "}),S.children.push(...v)}else d.push(...v);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(c,b),s.push(b)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Pw(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const mK=function(e){if(e==null)return G2e;if(typeof e=="function")return jb(e);if(typeof e=="object")return Array.isArray(e)?H2e(e):V2e(e);if(typeof e=="string")return K2e(e);throw new Error("Expected function, string, or object as test")};function H2e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=mK(e[n]);return jb(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function V2e(e){const t=e;return jb(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function K2e(e){return jb(t);function t(n){return n&&n.type===e}}function jb(e){return t;function t(n,r,i){return!!(W2e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function G2e(){return!0}function W2e(e){return e!==null&&typeof e=="object"&&"type"in e}const yK=[],Q2e=!0,n5=!1,Z2e="skip";function J2e(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=mK(i),o=r?-1:1;s(e,void 0,[])();function s(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const y=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(l.type+(y?"<"+y+">":""))+")"})}return m;function m(){let y=yK,v,_,S;if((!t||a(l,c,d[d.length-1]||void 0))&&(y=X2e(n(l,d)),y[0]===n5))return y;if("children"in l&&l.children){const b=l;if(b.children&&y[0]!==Z2e)for(_=(r?b.children.length:-1)+o,S=d.concat(b);_>-1&&_<b.children.length;){const x=b.children[_];if(v=s(x,_,S)(),v[0]===n5)return v;_=typeof v[1]=="number"?v[1]:_+o}}return y}}}function X2e(e){return Array.isArray(e)?e:typeof e=="number"?[Q2e,e]:e==null?yK:[e]}function vK(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),J2e(e,a,s,i);function s(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return o(l,h,d)}}const oP={}.hasOwnProperty,Y2e={};function eTe(e,t){const n=t||Y2e,r=new Map,i=new Map,a=new Map,o={...N2e,...n.handlers},s={all:c,applyData:nTe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:l,options:n,patch:tTe,wrap:iTe};return vK(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),s;function l(d,h){const m=d.type,y=s.handlers[m];if(oP.call(s.handlers,m)&&y)return y(s,d,h);if(s.options.passThrough&&s.options.passThrough.includes(m)){if("children"in d){const{children:_,...S}=d,b=Pw(S);return b.children=s.all(d),b}return Pw(d)}return(s.options.unknownHandler||rTe)(s,d,h)}function c(d){const h=[];if("children"in d){const m=d.children;let y=-1;for(;++y<m.length;){const v=s.one(m[y],d);if(v){if(y&&m[y-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=r5(v.value)),!Array.isArray(v)&&v.type==="element")){const _=v.children[0];_&&_.type==="text"&&(_.value=r5(_.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function tTe(e,t){e.position&&(t.position=zxe(e))}function nTe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,Pw(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rTe(e,t){const n=t.data||{},r="value"in t&&!(oP.call(n,"hProperties")||oP.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function iTe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function r5(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function i5(e,t){const n=eTe(e,t),r=n.one(e,void 0),i=z2e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function aTe(e,t){return e&&"run"in e?async function(n,r){const i=i5(n,t);await e.run(i,r)}:function(n){return i5(n,t||e)}}function a5(e){if(e)throw e}var HT,o5;function oTe(){if(o5)return HT;o5=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):t.call(c)==="[object Array]"},a=function(c){if(!c||t.call(c)!=="[object Object]")return!1;var d=e.call(c,"constructor"),h=c.constructor&&c.constructor.prototype&&e.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!h)return!1;var m;for(m in c);return typeof m>"u"||e.call(c,m)},o=function(c,d){n&&d.name==="__proto__"?n(c,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):c[d.name]=d.newValue},s=function(c,d){if(d==="__proto__")if(e.call(c,d)){if(r)return r(c,d).value}else return;return c[d]};return HT=function l(){var c,d,h,m,y,v,_=arguments[0],S=1,b=arguments.length,x=!1;for(typeof _=="boolean"&&(x=_,_=arguments[1]||{},S=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});S<b;++S)if(c=arguments[S],c!=null)for(d in c)h=s(_,d),m=s(c,d),_!==m&&(x&&m&&(a(m)||(y=i(m)))?(y?(y=!1,v=h&&i(h)?h:[]):v=h&&a(h)?h:{},o(_,{name:d,newValue:l(x,v,m)})):typeof m<"u"&&o(_,{name:d,newValue:m}));return _},HT}var sTe=oTe();const VT=Ir(sTe);function sP(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uTe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...i);function s(l,...c){const d=e[++a];let h=-1;if(l){o(l);return}for(;++h<i.length;)(c[h]===null||c[h]===void 0)&&(c[h]=i[h]);i=c,d?lTe(d,s)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function lTe(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(i);try{l=e.apply(this,o)}catch(c){const d=c;if(s&&n)throw d;return i(d)}s||(l instanceof Promise?l.then(a,i):l instanceof Error?i(l):a(l))}function i(o,...s){n||(n=!0,t(o,...s))}function a(o){i(null,o)}}const ms={basename:cTe,dirname:fTe,extname:dTe,join:hTe,sep:"/"};function cTe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Dy(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),s>-1&&(e.codePointAt(i)===t.codePointAt(s--)?s<0&&(r=i):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function fTe(e){if(Dy(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function dTe(e){Dy(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function hTe(...e){let t=-1,n;for(;++t<e.length;)Dy(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":pTe(n)}function pTe(e){Dy(e);const t=e.codePointAt(0)===47;let n=gTe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function gTe(e,t){let n="",r=0,i=-1,a=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else s===46&&a>-1?a++:a=-1}return n}function Dy(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const mTe={cwd:yTe};function yTe(){return"/"}function uP(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vTe(e){if(typeof e=="string")e=new URL(e);else if(!uP(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _Te(e)}function _Te(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const KT=["history","path","basename","stem","extname","dirname"];class _K{constructor(t){let n;t?uP(t)?n={path:t}:typeof t=="string"||wTe(t)?n={value:t}:n=t:n={},this.cwd=mTe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<KT.length;){const a=KT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)KT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?ms.basename(this.path):void 0}set basename(t){WT(t,"basename"),GT(t,"basename"),this.path=ms.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?ms.dirname(this.path):void 0}set dirname(t){s5(this.basename,"dirname"),this.path=ms.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?ms.extname(this.path):void 0}set extname(t){if(GT(t,"extname"),s5(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=ms.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){uP(t)&&(t=vTe(t)),WT(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?ms.basename(this.path,this.extname):void 0}set stem(t){WT(t,"stem"),GT(t,"stem"),this.path=ms.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new va(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function GT(e,t){if(e&&e.includes(ms.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+ms.sep+"`")}function WT(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function s5(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function wTe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bTe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};Object.setPrototypeOf(a,r);const o=Object.getOwnPropertyNames(i);for(const s of o){const l=Object.getOwnPropertyDescriptor(i,s);l&&Object.defineProperty(a,s,l)}return a},STe={}.hasOwnProperty;class CL extends bTe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uTe()}copy(){const t=new CL;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(VT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(JT("data",this.frozen),this.namespace[t]=n,this):STe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(JT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=R_(t),r=this.parser||this.Parser;return QT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),QT("process",this.parser||this.Parser),ZT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const s=R_(t),l=r.parse(s);r.run(l,s,function(d,h,m){if(d||!h||!m)return c(d);const y=h,v=r.stringify(y,m);CTe(v)?m.value=v:m.result=v,c(d,m)});function c(d,h){d||!h?o(d):a?a(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),QT("processSync",this.parser||this.Parser),ZT("processSync",this.compiler||this.Compiler),this.process(t,i),l5("processSync","process",n),r;function i(a,o){n=!0,a5(a),r=o}}run(t,n,r){u5(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,s){const l=R_(n);i.run(t,l,c);function c(d,h,m){const y=h||t;d?s(d):o?o(y):r(void 0,y,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),l5("runSync","run",r),i;function a(o,s){a5(o),i=s,r=!0}}stringify(t,n){this.freeze();const r=R_(n),i=this.compiler||this.Compiler;return ZT("stringify",i),u5(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(JT("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(c.plugins),c.settings&&(i.settings=VT(!0,i.settings,c.settings))}function s(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];a(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,m=-1;for(;++h<r.length;)if(r[h][0]===c){m=h;break}if(m===-1)r.push([c,...d]);else if(d.length>0){let[y,...v]=d;const _=r[m][1];sP(_)&&sP(y)&&(y=VT(!0,_,y)),r[m]=[c,y,...v]}}}}const xTe=new CL().freeze();function QT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ZT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function JT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function u5(e){if(!sP(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function l5(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function R_(e){return ETe(e)?e:new _K(e)}function ETe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function CTe(e){return typeof e=="string"||TTe(e)}function TTe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const RTe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",c5=[],f5={allowDangerousHtml:!0},ATe=/^(https?|ircs?|mailto|xmpp)$/i,PTe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function OTe(e){const t=e.allowedElements,n=e.allowElement,r=e.children||"",i=e.className,a=e.components,o=e.disallowedElements,s=e.rehypePlugins||c5,l=e.remarkPlugins||c5,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...f5}:f5,d=e.skipHtml,h=e.unwrapDisallowed,m=e.urlTransform||LTe,y=xTe().use(c2e).use(l).use(aTe,c).use(s),v=new _K;typeof r=="string"&&(v.value=r);for(const x of PTe)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+RTe+x.id,void 0);const _=y.parse(v);let S=y.runSync(_,v);return i&&(S={type:"element",tagName:"div",properties:{className:i},children:S.type==="root"?S.children:[S]}),vK(S,b),Qxe(S,{Fragment:B.Fragment,components:a,ignoreInvalidStyle:!0,jsx:B.jsx,jsxs:B.jsxs,passKeys:!0,passNode:!0});function b(x,R,P){if(x.type==="raw"&&P&&typeof R=="number")return d?P.children.splice(R,1):P.children[R]={type:"text",value:x.value},R;if(x.type==="element"){let O;for(O in UT)if(Object.hasOwn(UT,O)&&Object.hasOwn(x.properties,O)){const D=x.properties[O],F=UT[O];(F===null||F.includes(x.tagName))&&(x.properties[O]=m(String(D||""),O,x))}}if(x.type==="element"){let O=t?!t.includes(x.tagName):o?o.includes(x.tagName):!1;if(!O&&n&&typeof R=="number"&&(O=!n(x,R,P)),O&&P&&typeof R=="number")return h&&x.children?P.children.splice(R,1,...x.children):P.children.splice(R,1),R}}}function LTe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||n>-1&&t>n||r>-1&&t>r||ATe.test(e.slice(0,t))?e:""}const ITe="_text_e0nft_1",MTe={text:ITe},DTe=`# About

WIP`,kTe=()=>B.jsx(OTe,{className:MTe.text,children:DTe}),NTe=()=>{const e=jr($h),t=kf();V.useEffect(()=>{if(e.isLoggedIn===!1){const n=globalThis.location.href;globalThis.localStorage.setItem("previousUrl",n)}if(e.isLoggedIn===!0){const n=globalThis.localStorage.getItem("previousUrl");if(n){const r=new URL(n);r.hostname===new URL(globalThis.location.href).hostname&&t(r.pathname+r.search+r.hash,{replace:!0})}globalThis.localStorage.removeItem("previousUrl")}},[e.isLoggedIn,t])},FTe="_spin_pafwh_9",jTe={spin:FTe},wK=({className:e,...t})=>B.jsx(ame,{className:Rr(jTe.spin,e),...t}),ey=(e,t)=>{const n=c_e(e,t),r=bK(e,t);return V.useMemo(()=>({isMember:n,...r}),[r,n])},bK=(e,t)=>{const{isLoading:n,variables:r,store:i}=ya({query:Yve,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:rr}),a=r.publicTypeIndex??[],o=r.privateTypeIndex??[],s=r.preferencesFile??[],l=r.inbox??[],c=r.hospexDocumentForCommunity??[],d=V.useMemo(()=>(r.hospexDocument??[]).map(S=>{var R;const b=i.getObjects(e,Ch.member_of,S).map(({value:P})=>{var O;return{uri:P,name:((O=i.getObjects(P,Ch.name,null)[0])==null?void 0:O.value)??""}}),x=i.getObjects(e,ac.storage,S);return{hospexDocument:S,communities:b,storage:(R=x[0])==null?void 0:R.value}}),[i,e,r]),h=c.length>0?!0:n?void 0:!1,m=a.length>0?!0:n?void 0:!1,y=o.length>0?!0:n?void 0:!1,v=s.length>0?!0:n?void 0:!1,_=l.length>0?!0:n?void 0:!1;return{isHospexProfile:h,isPublicTypeIndex:m,isPrivateTypeIndex:y,isPreferencesFile:v,isInbox:_,personalHospexDocuments:c,publicTypeIndexes:a,privateTypeIndexes:o,preferencesFiles:s,inboxes:l,allHospex:d}},$Te=(e,t)=>{const n=V.useCallback(async()=>{if(!t)return"mailer not set up";const o=await rr(`${t}/status`);if(!o.ok)throw new Error("Network response was not ok");return o.json()},[t]),{isLoading:r,data:i}=my({queryKey:[Gr.mailerIntegration],queryFn:n});if(i==="mailer not set up")return"unset";if(r||!i)return;const a=i.integrations.filter(o=>o.object===e);return a.length===0?!1:a.some(o=>o.verified)?!0:"unverified"},BTe=async(e,t)=>{if(!t)return"mailer not set up";const n=await rr(`${t}/status/${encodeURIComponent(e)}`);if(n.status===403)return{emailVerified:!1};if(!n.ok)throw new Error("Network response was not ok");return n.json()},SK=(e,t)=>my({queryKey:[Gr.simpleMailerIntegration],queryFn:()=>BTe(e,t)}),UTe=(e,t)=>{const{isLoading:n,data:r}=SK(e,t);if(r==="mailer not set up")return"unset";if(!(n||!r))return r.emailVerified};var XT,d5;function qTe(){if(d5)return XT;d5=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return XT=e,XT}var YT,h5;function zTe(){if(h5)return YT;h5=1;function e(t,n,r){var i=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(a);++i<a;)o[i]=t[i+n];return o}return YT=e,YT}var eR,p5;function HTe(){if(p5)return eR;p5=1;var e=vb(),t=zTe();function n(r,i){return i.length<2?r:e(r,t(i,0,-1))}return eR=n,eR}var tR,g5;function VTe(){if(g5)return tR;g5=1;var e=Zh(),t=qTe(),n=HTe(),r=Jh();function i(a,o){return o=e(o,a),a=n(a,o),a==null||delete a[r(t(o))]}return tR=i,tR}var nR,m5;function KTe(){if(m5)return nR;m5=1;var e=MH();function t(n){return e(n)?void 0:n}return nR=t,nR}var rR,y5;function GTe(){if(y5)return rR;y5=1;var e=Wh(),t=fb(),n=rs(),r=e?e.isConcatSpreadable:void 0;function i(a){return n(a)||t(a)||!!(r&&a&&a[r])}return rR=i,rR}var iR,v5;function WTe(){if(v5)return iR;v5=1;var e=_O(),t=GTe();function n(r,i,a,o,s){var l=-1,c=r.length;for(a||(a=t),s||(s=[]);++l<c;){var d=r[l];i>0&&a(d)?i>1?n(d,i-1,a,o,s):e(s,d):o||(s[s.length]=d)}return s}return iR=n,iR}var aR,_5;function QTe(){if(_5)return aR;_5=1;var e=WTe();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return aR=t,aR}var oR,w5;function xK(){if(w5)return oR;w5=1;var e=QTe(),t=NH(),n=FH();function r(i){return n(t(i,void 0,e),i+"")}return oR=r,oR}var sR,b5;function ZTe(){if(b5)return sR;b5=1;var e=yb(),t=HH(),n=VTe(),r=Zh(),i=np(),a=KTe(),o=xK(),s=zH(),l=1,c=2,d=4,h=o(function(m,y){var v={};if(m==null)return v;var _=!1;y=e(y,function(b){return b=r(b,m),_||(_=b.length>1),b}),i(m,s(m),v),_&&(v=t(v,l|c|d,a));for(var S=y.length;S--;)n(v,y[S]);return v});return sR=h,sR}var JTe=ZTe();const EK=Ir(JTe);var uR,S5;function XTe(){if(S5)return uR;S5=1;function e(t,n){return t<n}return uR=e,uR}var lR,x5;function YTe(){if(x5)return lR;x5=1;var e=$H(),t=PO(),n=XTe();function r(i,a){return i&&i.length?e(i,t(a,2),n):void 0}return lR=r,lR}var eRe=YTe();const tRe=Ir(eRe),CK=e=>{var a;const[t,n]=UH(e),[r]=nRe(e),i=((a=t==null?void 0:t.storage)==null?void 0:a.map(o=>o["@id"]))??[];if(n.isFetched)return i[0]??r},nRe=e=>{const[t,n]=V.useState([fi(e)]),[r,i]=V.useState(),a=q_e(t),o=V.useMemo(()=>a.map(l=>{var c,d;return(d=(c=l.data)==null?void 0:c.response)==null?void 0:d.headers.get("Link")}),[a]);V.useEffect(()=>{const l=o.findIndex(c=>c==null?void 0:c.includes(Ff.Storage));l>-1?i(t[l]):a.every(c=>c.isSuccess||c.isError)&&n(c=>{const d=tRe(c,h=>h.length);if(d){const h=V9(d);if(!c.includes(h))return[...c,h]}return c})},[o,t,a]);const s=!a.every(l=>l.isSuccess||l.isError)||a.length<t.length;return[r,s]};var cR,E5;function rRe(){if(E5)return cR;E5=1;var e=BO(),t=Zh(),n=hb(),r=Po(),i=Jh();function a(o,s,l,c){if(!r(o))return o;s=t(s,o);for(var d=-1,h=s.length,m=h-1,y=o;y!=null&&++d<h;){var v=i(s[d]),_=l;if(v==="__proto__"||v==="constructor"||v==="prototype")return o;if(d!=m){var S=y[v];_=c?c(S,v,y):void 0,_===void 0&&(_=r(S)?S:n(s[d+1])?[]:{})}e(y,v,_),y=y[v]}return o}return cR=a,cR}var fR,C5;function iRe(){if(C5)return fR;C5=1;var e=vb(),t=rRe(),n=Zh();function r(i,a,o){for(var s=-1,l=a.length,c={};++s<l;){var d=a[s],h=e(i,d);o(h,d)&&t(c,n(d,i),h)}return c}return fR=r,fR}var dR,T5;function aRe(){if(T5)return dR;T5=1;var e=iRe(),t=Oz();function n(r,i){return e(r,i,function(a,o){return t(r,o)})}return dR=n,dR}var hR,R5;function oRe(){if(R5)return hR;R5=1;var e=aRe(),t=xK(),n=t(function(r,i){return r==null?{}:e(r,i)});return hR=n,hR}var sRe=oRe();const uRe=Ir(sRe),lRe="_container_9yuh8_1",cRe="_list_9yuh8_8",fRe="_trigger_9yuh8_13",dRe="_connect_9yuh8_32",hRe="_content_9yuh8_44",pRe="_taskList_9yuh8_54",gRe="_storageOptions_9yuh8_60",mRe="_option_9yuh8_63",Ml={container:lRe,list:cRe,trigger:fRe,connect:dRe,content:hRe,taskList:pRe,storageOptions:gRe,option:mRe},yRe={type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},vRe={type:{"@id":"@type"},Authorization:{"@id":"http://www.w3.org/ns/auth/acl#Authorization","@context":{type:{"@id":"@type"},accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@isCollection":!0},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@isCollection":!0},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@isCollection":!0},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@isCollection":!0},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@isCollection":!0},origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@isCollection":!0}}},accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@isCollection":!0},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@isCollection":!0},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@isCollection":!0},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@isCollection":!0},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@isCollection":!0},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@isCollection":!0}},up={schema:yRe,shape:"https://example.com/Authorization",context:vRe};var pr=Cf();let A_;const _Re=new Uint8Array(16);function wRe(){if(!A_&&(A_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!A_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return A_(_Re)}const Mi=[];for(let e=0;e<256;++e)Mi.push((e+256).toString(16).slice(1));function bRe(e,t=0){return(Mi[e[t+0]]+Mi[e[t+1]]+Mi[e[t+2]]+Mi[e[t+3]]+"-"+Mi[e[t+4]]+Mi[e[t+5]]+"-"+Mi[e[t+6]]+Mi[e[t+7]]+"-"+Mi[e[t+8]]+Mi[e[t+9]]+"-"+Mi[e[t+10]]+Mi[e[t+11]]+Mi[e[t+12]]+Mi[e[t+13]]+Mi[e[t+14]]+Mi[e[t+15]]).toLowerCase()}const SRe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),A5={randomUUID:SRe};function Kl(e,t,n){if(A5.randomUUID&&!t&&!e)return A5.randomUUID();e=e||{};const r=e.random||(e.rng||wRe)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,bRe(r)}const P5=async e=>{e=ic(e);const t=await gO(e,rr);if(!t.ok)throw t.response?new To(t.response.statusText,t.response):new Error("unexpected");return t},xRe=e=>{const t=Bm({queries:e.map(a=>({queryKey:[Gr.rdfDocument,a],queryFn:async()=>P5(a),enabled:!!a}))}),n=t.map(({data:a},o)=>{var _,S;const s=e[o],l=(_=a==null?void 0:a.response)==null?void 0:_.headers,c=l==null?void 0:l.get("link"),d=c?C9.parse(c):void 0,h=(S=d==null?void 0:d.rel("acl")[0])==null?void 0:S.uri,m=h&&s?new URL(h,s).toString():void 0,y=l==null?void 0:l.get("wac-allow"),v=y?Vge(y):void 0;return{resource:s,aclUri:m,effectivePermissions:v}}),r=Bm({queries:n.map(({aclUri:a,effectivePermissions:o})=>{var s;return{queryKey:[Gr.rdfDocument,a],queryFn:async()=>P5(a??""),enabled:!!a&&((s=o==null?void 0:o.user)==null?void 0:s.has("control"))}})}),i=r.map(({data:a,isError:o},s)=>{var c;const l=(c=n[s])==null?void 0:c.aclUri;return l&&typeof(a==null?void 0:a.rawData)=="string"&&!o?K9(l,a.rawData):void 0});return{isLoading:t.some(a=>a.isLoading)||r.some(a=>a.isLoading),results:n.map((a,o)=>({effectivePermissions:a.effectivePermissions,acls:[{uri:a.aclUri,accesses:i[o]}]}))}},$b=()=>{const e=to();return V.useCallback(async(t,n)=>{const r=await jf(t),i=await Lu(r);if(!(i.ok||i.status===404))throw new To("Acl could not be resolved",i);const o=i.status===404?"":await i.text(),s=K9(r,o),l=new tb({format:"N-Triples"});for(const d of n){d.agents??(d.agents=[]),d.agentGroups??(d.agentGroups=[]);const h=s.find(_=>{const S=new Set(d.access),b=new Set(_.modes);return S.size===b.size&&Array.from(S).every(x=>b.has(x))&&d.default?_.defaults.includes(t):_.defaults.length===0}),m=_=>{const S=new URL(_);return S.hash=Kl(),S.toString()},y=(h==null?void 0:h.url)??m(r),v=new ei(y);l.addQuads(d.agentGroups.map(_=>new Vo(v,new ei(Tn.agentGroup),new ei(_)))),l.addQuads(d.agents.map(_=>new Vo(v,new ei(Tn.agent),new ei(_)))),h||(l.addQuads([new Vo(v,new ei(Kh.type),new ei(Tn.Authorization)),new Vo(v,new ei(Tn.accessTo),new ei(t)),...d.access.map(_=>new Vo(v,new ei(Tn.mode),new ei(Tn[_])))]),d.default&&l.addQuads([new Vo(v,new ei(Tn.default__workaround),new ei(t))]))}const c=await new Promise((d,h)=>{l.end((m,y)=>{m?h(m):d(y)})});await e.mutateAsync({uri:r,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            ${c}
          } .`})},[e])},ERe=async({index:e,type:t,location:n})=>{const i=n.endsWith("/")?xn.instanceContainer:xn.instance,a=await Lu(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:update a solid:InsertDeletePatch;
      solid:where {
        ?typeRegistration
          a solid:TypeRegistration;
          solid:forClass <${t}>.
      };
      solid:inserts {
        ?typeRegistration <${i}> <${n}>.
      } .`});if(a.ok)return;if(a.status!==409)throw new To("Updating type registration failed.",a);const o=Kl(),s=await Lu(e,{method:"PATCH",headers:{"content-type":"text/n3"},body:`
    @prefix solid: <http://www.w3.org/ns/solid/terms#>.
    _:add a solid:InsertDeletePatch;
      solid:inserts {
        <#${o}>
          a solid:TypeRegistration;
          solid:forClass <${t}>;
          <${i}> <${n}>.
      } .`});if(!s.ok)throw new To("Saving type registration failed.",s)},TK=()=>{const e=$i();return ao({mutationFn:ERe,onSuccess:(t,{index:n})=>{e.invalidateQueries({queryKey:[Gr.rdfDocument,n]})}}).mutateAsync},CRe=()=>{const e=$b(),t=to(),n=to();return V.useCallback(async({preferencesFile:r,webId:i,privateTypeIndex:a})=>{await t.mutateAsync({uri:r,patch:`
        @prefix pim: <http://www.w3.org/ns/pim/space#> .
        _:mutate a <${xn.InsertDeletePatch}>;
          <${xn.inserts}> {
            <> a pim:ConfigurationFile.
            ${a?`<${i}> <${xn.privateTypeIndex}> <${a}>.`:""}
          }.`});const o=fi(r);await e(o,[{operation:"add",access:[Wa.Read,Wa.Write,Wa.Control],default:!0,agents:[i]}]),await n.mutateAsync({uri:i,patch:`_:mutate a <${xn.InsertDeletePatch}>; <${xn.inserts}> {
          <${i}> <${Ff.preferencesFile}> <${r}>.
        }.`})},[t,e,n])},TRe=()=>{const e=Jo(b_e),t=to();return V.useCallback(async({webId:n,privateTypeIndex:r,preferencesFile:i})=>{await e.mutateAsync({uri:r,data:{"@id":r,type:new pr.BasicLdSet([{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}])}});const a=`_:mutate a <${xn.InsertDeletePatch}>; <${xn.inserts}> { <${n}> <${xn.privateTypeIndex}> <${r}>. }.`;await t.mutateAsync({uri:i,patch:a})},[e,t])},RRe=()=>{const{communityId:e}=kn(),t=Uf(Sb),n=RK(),r=$b(),i=$u(e);return V.useCallback(async({uri:a,webId:o})=>{await t.mutateAsync({uri:a,subject:o,transform:s=>{var l;(l=s.memberOf)==null||l.add({"@id":e}),s.storage2??(s.storage2={"@id":fi(a)}),s["@id"]??(s["@id"]=o)}});try{await n({webId:o,uri:fi(a)},{throwOnHttpError:!0})}catch{await r(fi(a),[{operation:"add",access:[Wa.Read],agentGroups:i.groups,default:!0}])}},[i.groups,e,n,r,t])},RK=()=>{const{communityId:e}=kn(),t=Jo(up),n=$u(e);return V.useCallback(async({uri:r,webId:i},a={})=>{const o=fi(r),s=await jf(o);await t.mutateAsync({uri:s,data:[{"@id":s+"#owner",type:{"@id":"Authorization"},accessTo:new pr.BasicLdSet([{"@id":o}]),default:{"@id":o},agent:new pr.BasicLdSet([{"@id":i}]),mode:new pr.BasicLdSet([{"@id":Tn.Read},{"@id":Tn.Write},{"@id":Tn.Control}])},{"@id":s+"#reader",type:{"@id":"Authorization"},accessTo:new pr.BasicLdSet([{"@id":o}]),default:{"@id":o},agentGroup:new pr.BasicLdSet(n.groups.map(l=>({"@id":l}))),mode:new pr.BasicLdSet([{"@id":Tn.Read}])}],...a})},[n.groups,t])},ARe=()=>{const e=Jo(Sb),t=RK();return V.useCallback(async({uri:n,webId:r,communityId:i})=>{const a=fi(n);await e.mutateAsync({uri:n,data:{"@id":r,memberOf:new pr.BasicLdSet([{"@id":i}]),storage2:{"@id":a}}}),await t({uri:n,webId:r})},[t,e])},PRe=()=>{const e=Jo(w_e),t=Jo(up),n=to();return V.useCallback(async({webId:r,publicTypeIndex:i})=>{await e.mutateAsync({uri:i,method:"PUT",data:{"@id":i,type:new pr.BasicLdSet([{"@id":"TypeIndex"},{"@id":"ListedDocument"}])}});const a=await jf(i);await t.mutateAsync({uri:a,method:"PUT",data:[{"@id":a+"#owner",type:{"@id":"Authorization"},agent:new pr.BasicLdSet([{"@id":r}]),accessTo:new pr.BasicLdSet([{"@id":i}]),mode:new pr.BasicLdSet([{"@id":Tn.Read},{"@id":Tn.Write},{"@id":Tn.Control}])},{"@id":a+"#public",type:{"@id":"Authorization"},agentClass:new pr.BasicLdSet([{"@id":Ql.Agent}]),accessTo:new pr.BasicLdSet([{"@id":i}]),mode:new pr.BasicLdSet([{"@id":Tn.Read}])}]});const o=`_:mutate a <${xn.InsertDeletePatch}>; <${xn.inserts}> { <${r}> <${xn.publicTypeIndex}> <${i}>. }.`;await n.mutateAsync({uri:r,patch:o})},[t,e,n])},ORe=()=>{const e=z_e(),t=Jo(up),n=to();return V.useCallback(async({webId:r,inbox:i})=>{await e.mutateAsync({uri:i});const a=await jf(i);await t.mutateAsync({uri:a,data:[{"@id":a+"#ControlReadWrite",type:{"@id":"Authorization"},agent:new pr.BasicLdSet([{"@id":r}]),accessTo:new pr.BasicLdSet([{"@id":i}]),default:{"@id":i},mode:new pr.BasicLdSet([{"@id":Tn.Read},{"@id":Tn.Write},{"@id":Tn.Control}])},{"@id":a+"#Append",type:{"@id":"Authorization"},agentClass:new pr.BasicLdSet([{"@id":Tn.AuthenticatedAgent}]),accessTo:new pr.BasicLdSet([{"@id":i}]),default:{"@id":i},mode:new pr.BasicLdSet([{"@id":Tn.Append}])}]}),await n.mutateAsync({uri:r,patch:`_:mutate a <${xn.InsertDeletePatch}>; <${xn.inserts}> { <${r}> <${Su.inbox}> <${i}>. }.`})},[t,e,n])},LRe=()=>{const{emailNotificationsService:e,emailNotificationsIdentity:t}=kn(),n=async s=>{if(!(await rr(`${e}/inbox`,{method:"POST",headers:{"content-type":"application/ld+json"},body:JSON.stringify(s)})).ok)throw new Error("not ok!")},r=$i(),{mutate:i}=ao({mutationFn:n,onSuccess:()=>{r.invalidateQueries({queryKey:[Gr.mailerIntegration]})}}),a=V.useCallback(({webId:s,inbox:l,email:c})=>{i({"@context":"https://www.w3.org/ns/activitystreams","@id":"","@type":"Add",actor:s,object:l,target:c})},[i]),o=Uf(up);return V.useCallback(async({email:s,inbox:l,webId:c})=>{const d=await jf(l);await o.mutateAsync({uri:d,subject:d+"#read",transform:h=>{var m,y;h["@id"]=d+"#read",h.type={"@id":"Authorization"},(m=h.agent)==null||m.add({"@id":t}),h.accessTo.add({"@id":l}),h.default={"@id":l},(y=h.mode)==null||y.add({"@id":Tn.Read})}}),a({email:s,inbox:l,webId:c})},[t,a,o])},IRe=()=>{const{emailNotificationsService:e}=kn(),t=async i=>{const a=await rr(`${e}/init`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(i)});if(!a.ok)throw new To("Sending verification email failed",a)},n=$i();return ao({mutationFn:t,onSuccess:()=>{n.invalidateQueries({queryKey:[Gr.simpleMailerIntegration]})}})},MRe=()=>{const{emailNotificationsIdentity:e}=kn(),t=Uf(up),n=to(),r=$b();return V.useCallback(async({hospexDocument:a,webId:o,email:s})=>{const l=fi(a);await r(l,[{operation:"add",access:[Wa.Read],agents:[e],default:!0}]);const c=l+"emailSettings-"+Kl(),d=`_:mutate a <${xn.InsertDeletePatch}>;
        <${xn.inserts}> { <${o}> <${Ql.mbox}> "${s}". } .`;await n.mutateAsync({uri:c,patch:d});const h=await jf(c);await t.mutateAsync({uri:h,subject:h+"#owner",transform:y=>{var v,_;y["@id"]=h+"#owner",y.type={"@id":"Authorization"},(v=y.agent)==null||v.add({"@id":o}),y.accessTo.add({"@id":c}),(_=y.mode)==null||_.add({"@id":Tn.Read}).add({"@id":Tn.Write}).add({"@id":Tn.Control})}}),await t.mutateAsync({uri:h,subject:h+"#readWriteMailer",transform:y=>{var v,_;y["@id"]=h+"#readWriteMailer",y.type={"@id":"Authorization"},(v=y.agent)==null||v.add({"@id":e}),y.accessTo.add({"@id":c}),(_=y.mode)==null||_.add({"@id":Tn.Read}).add({"@id":Tn.Write})}});const m=`_:mutate a <${xn.InsertDeletePatch}>;
        <${xn.inserts}> { <${o}> <${Ff.preferencesFile}> <${c}>. } .`;await n.mutateAsync({uri:a,patch:m})},[e,r,t,n])};var ky=e=>e.type==="checkbox",Gd=e=>e instanceof Date,ha=e=>e==null;const AK=e=>typeof e=="object";var gi=e=>!ha(e)&&!Array.isArray(e)&&AK(e)&&!Gd(e),PK=e=>gi(e)&&e.target?ky(e.target)?e.target.checked:e.target.value:e,DRe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,OK=(e,t)=>e.has(DRe(t)),Ny=e=>Array.isArray(e)?e.filter(Boolean):[],ui=e=>e===void 0,Ut=(e,t,n)=>{if(!t||!gi(e))return n;const r=Ny(t.split(/[,[\].]+?/)).reduce((i,a)=>ha(i)?i:i[a],e);return ui(r)||r===e?ui(e[t])?n:e[t]:r};const Ow={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Qo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},kRe=Pt.createContext(null),TL=()=>Pt.useContext(kRe);var LK=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Qo.all&&(t._proxyFormState[o]=!r||Qo.all),n&&(n[o]=!0),e[o]}});return i},So=e=>gi(e)&&!Object.keys(e).length,IK=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return So(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Qo.all))},H0=e=>Array.isArray(e)?e:[e],MK=(e,t,n)=>n&&t?e===t:!e||!t||e===t||H0(e).some(r=>r&&(r.startsWith(t)||t.startsWith(r)));function RL(e){const t=Pt.useRef(e);t.current=e,Pt.useEffect(()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function NRe(e){const t=TL(),{control:n=t.control,disabled:r,name:i,exact:a}=e,[o,s]=Pt.useState(n._formState),l=Pt.useRef(!0),c=Pt.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=Pt.useRef(i);return d.current=i,RL({disabled:r,next:h=>l.current&&MK(d.current,h.name,a)&&IK(h,c.current,n._updateFormState)&&s({...n._formState,...h}),subject:n._subjects.state}),Pt.useEffect(()=>{l.current=!0;const h=n._proxyFormState.isDirty&&n._getDirty();return h!==n._formState.isDirty&&n._subjects.state.next({isDirty:h}),c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}},[n]),LK(o,n,c.current,!1)}var Ts=e=>typeof e=="string",DK=(e,t,n,r,i)=>Ts(e)?(r&&t.watch.add(e),Ut(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Ut(n,a))):(r&&(t.watchAll=!0),n),FRe=e=>{const t=e.constructor&&e.constructor.prototype;return gi(t)&&t.hasOwnProperty("isPrototypeOf")},AL=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pl(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(AL&&(e instanceof Blob||e instanceof FileList))&&(n||gi(e)))if(t=n?[]:{},!Array.isArray(e)&&!FRe(e))t=e;else for(const r in e)t[r]=Pl(e[r]);else return e;return t}function jRe(e){const t=TL(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e,s=Pt.useRef(r);s.current=r,RL({disabled:a,subject:n._subjects.watch,next:d=>{MK(s.current,d.name,o)&&c(Pl(DK(s.current,n._names,d.values||n._formValues,!1,i)))}});const[l,c]=Pt.useState(n._getWatch(r,i));return Pt.useEffect(()=>n._removeUnmounted()),l}function $Re(e){const t=TL(),{name:n,control:r=t.control,shouldUnregister:i}=e,a=OK(r._names.array,n),o=jRe({control:r,name:n,defaultValue:Ut(r._formValues,n,Ut(r._defaultValues,n,e.defaultValue)),exact:!0}),s=NRe({control:r,name:n}),l=Pt.useRef(r.register(n,{...e.rules,value:o}));return Pt.useEffect(()=>{const c=(d,h)=>{const m=Ut(r._fields,d);m&&(m._f.mount=h)};return c(n,!0),()=>{const d=r._options.shouldUnregister||i;(a?d&&!r._stateFlags.action:d)?r.unregister(n):c(n,!1)}},[n,r,a,i]),{field:{name:n,value:o,onChange:Pt.useCallback(c=>l.current.onChange({target:{value:PK(c),name:n},type:Ow.CHANGE}),[n]),onBlur:Pt.useCallback(()=>l.current.onBlur({target:{value:Ut(r._formValues,n),name:n},type:Ow.BLUR}),[n,r]),ref:c=>{const d=Ut(r._fields,n);d&&c&&(d._f.ref={focus:()=>c.focus(),select:()=>c.select(),setCustomValidity:h=>c.setCustomValidity(h),reportValidity:()=>c.reportValidity()})}},formState:s,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ut(s.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ut(s.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ut(s.touchedFields,n)},error:{enumerable:!0,get:()=>Ut(s.errors,n)}})}}const Lw=e=>e.render($Re(e));var kK=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},PL=e=>/^\w*$/.test(e),NK=e=>Ny(e.replace(/["|']|\]/g,"").split(/\.|\[/));function _r(e,t,n){let r=-1;const i=PL(t)?[t]:NK(t),a=i.length,o=a-1;for(;++r<a;){const s=i[r];let l=n;if(r!==o){const c=e[s];l=gi(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=l,e=e[s]}return e}const lP=(e,t,n)=>{for(const r of n||Object.keys(e)){const i=Ut(e,r);if(i){const{_f:a,...o}=i;if(a&&t(a.name)){if(a.ref.focus){a.ref.focus();break}else if(a.refs&&a.refs[0].focus){a.refs[0].focus();break}}else gi(o)&&lP(o,t)}}};var O5=e=>({isOnSubmit:!e||e===Qo.onSubmit,isOnBlur:e===Qo.onBlur,isOnChange:e===Qo.onChange,isOnAll:e===Qo.all,isOnTouch:e===Qo.onTouched}),L5=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length)))),BRe=(e,t,n)=>{const r=Ny(Ut(e,n));return _r(r,"root",t[n]),_r(e,n,r),e},rh=e=>typeof e=="boolean",OL=e=>e.type==="file",ih=e=>typeof e=="function",Iw=e=>{if(!AL)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},V0=e=>Ts(e)||Pt.isValidElement(e),LL=e=>e.type==="radio",Mw=e=>e instanceof RegExp;const I5={value:!1,isValid:!1},M5={value:!0,isValid:!0};var FK=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ui(e[0].attributes.value)?ui(e[0].value)||e[0].value===""?M5:{value:e[0].value,isValid:!0}:M5:I5}return I5};const D5={isValid:!1,value:null};var jK=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,D5):D5;function k5(e,t,n="validate"){if(V0(e)||Array.isArray(e)&&e.every(V0)||rh(e)&&!e)return{type:n,message:V0(e)?e:"",ref:t}}var Fd=e=>gi(e)&&!Mw(e)?e:{value:e,message:""},N5=async(e,t,n,r,i)=>{const{ref:a,refs:o,required:s,maxLength:l,minLength:c,min:d,max:h,pattern:m,validate:y,name:v,valueAsNumber:_,mount:S,disabled:b}=e._f,x=Ut(t,v);if(!S||b)return{};const R=o?o[0]:a,P=ce=>{r&&R.reportValidity&&(R.setCustomValidity(rh(ce)?"":ce||""),R.reportValidity())},O={},D=LL(a),F=ky(a),Q=D||F,Y=(_||OL(a))&&ui(a.value)&&ui(x)||Iw(a)&&a.value===""||x===""||Array.isArray(x)&&!x.length,U=kK.bind(null,v,n,O),X=(ce,te,se,pe=hu.maxLength,_e=hu.minLength)=>{const de=ce?te:se;O[v]={type:ce?pe:_e,message:de,ref:a,...U(ce?pe:_e,de)}};if(i?!Array.isArray(x)||!x.length:s&&(!Q&&(Y||ha(x))||rh(x)&&!x||F&&!FK(o).isValid||D&&!jK(o).isValid)){const{value:ce,message:te}=V0(s)?{value:!!s,message:s}:Fd(s);if(ce&&(O[v]={type:hu.required,message:te,ref:R,...U(hu.required,te)},!n))return P(te),O}if(!Y&&(!ha(d)||!ha(h))){let ce,te;const se=Fd(h),pe=Fd(d);if(!ha(x)&&!isNaN(x)){const _e=a.valueAsNumber||x&&+x;ha(se.value)||(ce=_e>se.value),ha(pe.value)||(te=_e<pe.value)}else{const _e=a.valueAsDate||new Date(x),de=k=>new Date(new Date().toDateString()+" "+k),ue=a.type=="time",Ae=a.type=="week";Ts(se.value)&&x&&(ce=ue?de(x)>de(se.value):Ae?x>se.value:_e>new Date(se.value)),Ts(pe.value)&&x&&(te=ue?de(x)<de(pe.value):Ae?x<pe.value:_e<new Date(pe.value))}if((ce||te)&&(X(!!ce,se.message,pe.message,hu.max,hu.min),!n))return P(O[v].message),O}if((l||c)&&!Y&&(Ts(x)||i&&Array.isArray(x))){const ce=Fd(l),te=Fd(c),se=!ha(ce.value)&&x.length>ce.value,pe=!ha(te.value)&&x.length<te.value;if((se||pe)&&(X(se,ce.message,te.message),!n))return P(O[v].message),O}if(m&&!Y&&Ts(x)){const{value:ce,message:te}=Fd(m);if(Mw(ce)&&!x.match(ce)&&(O[v]={type:hu.pattern,message:te,ref:a,...U(hu.pattern,te)},!n))return P(te),O}if(y){if(ih(y)){const ce=await y(x,t),te=k5(ce,R);if(te&&(O[v]={...te,...U(hu.validate,te.message)},!n))return P(te.message),O}else if(gi(y)){let ce={};for(const te in y){if(!So(ce)&&!n)break;const se=k5(await y[te](x,t),R,te);se&&(ce={...se,...U(te,se.message)},P(se.message),n&&(O[v]=ce))}if(!So(ce)&&(O[v]={ref:R,...ce},!n))return O}}return P(!0),O};function URe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ui(e)?r++:e[t[r++]];return e}function qRe(e){for(const t in e)if(!ui(e[t]))return!1;return!0}function Di(e,t){const n=Array.isArray(t)?t:PL(t)?[t]:NK(t),r=n.length===1?e:URe(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(gi(r)&&So(r)||Array.isArray(r)&&qRe(r))&&Di(e,n.slice(0,-1)),e}function pR(){let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}}var Dw=e=>ha(e)||!AK(e);function uf(e,t){if(Dw(e)||Dw(t))return e===t;if(Gd(e)&&Gd(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Gd(a)&&Gd(o)||gi(a)&&gi(o)||Array.isArray(a)&&Array.isArray(o)?!uf(a,o):a!==o)return!1}}return!0}var $K=e=>e.type==="select-multiple",zRe=e=>LL(e)||ky(e),gR=e=>Iw(e)&&e.isConnected,BK=e=>{for(const t in e)if(ih(e[t]))return!0;return!1};function kw(e,t={}){const n=Array.isArray(e);if(gi(e)||n)for(const r in e)Array.isArray(e[r])||gi(e[r])&&!BK(e[r])?(t[r]=Array.isArray(e[r])?[]:{},kw(e[r],t[r])):ha(e[r])||(t[r]=!0);return t}function UK(e,t,n){const r=Array.isArray(e);if(gi(e)||r)for(const i in e)Array.isArray(e[i])||gi(e[i])&&!BK(e[i])?ui(t)||Dw(n[i])?n[i]=Array.isArray(e[i])?kw(e[i],[]):{...kw(e[i])}:UK(e[i],ha(t)?{}:t[i],n[i]):uf(e[i],t[i])?delete n[i]:n[i]=!0;return n}var mR=(e,t)=>UK(e,t,kw(t)),qK=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ui(e)?e:t?e===""?NaN:e&&+e:n&&Ts(e)?new Date(e):r?r(e):e;function yR(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return OL(t)?t.files:LL(t)?jK(e.refs).value:$K(t)?[...t.selectedOptions].map(({value:n})=>n):ky(t)?FK(e.refs).value:qK(ui(t.value)?e.ref.value:t.value,e)}var HRe=(e,t,n,r)=>{const i={};for(const a of e){const o=Ut(t,a);o&&_r(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},um=e=>ui(e)?e:Mw(e)?e.source:gi(e)?Mw(e.value)?e.value.source:e.value:e,VRe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function F5(e,t,n){const r=Ut(e,n);if(r||PL(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Ut(t,a),s=Ut(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:n}}var KRe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,GRe=(e,t)=>!Ny(Ut(e,t)).length&&Di(e,t);const WRe={mode:Qo.onSubmit,reValidateMode:Qo.onChange,shouldFocusError:!0};function QRe(e={},t){let n={...WRe,...e};const r=e.resetOptions&&e.resetOptions.keepDirtyValues;let i={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=gi(n.defaultValues)||gi(n.values)?Pl(n.defaultValues||n.values)||{}:{},s=n.shouldUnregister?{}:Pl(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:pR(),array:pR(),state:pR()},v=O5(n.mode),_=O5(n.reValidateMode),S=n.criteriaMode===Qo.all,b=Z=>he=>{clearTimeout(h),h=window.setTimeout(Z,he)},x=async Z=>{if(m.isValid||Z){const he=n.resolver?So((await Y()).errors):await X(a,!0);he!==i.isValid&&y.state.next({isValid:he})}},R=Z=>m.isValidating&&y.state.next({isValidating:Z}),P=(Z,he=[],ye,He,Ee=!0,Fe=!0)=>{if(He&&ye){if(l.action=!0,Fe&&Array.isArray(Ut(a,Z))){const tt=ye(Ut(a,Z),He.argA,He.argB);Ee&&_r(a,Z,tt)}if(Fe&&Array.isArray(Ut(i.errors,Z))){const tt=ye(Ut(i.errors,Z),He.argA,He.argB);Ee&&_r(i.errors,Z,tt),GRe(i.errors,Z)}if(m.touchedFields&&Fe&&Array.isArray(Ut(i.touchedFields,Z))){const tt=ye(Ut(i.touchedFields,Z),He.argA,He.argB);Ee&&_r(i.touchedFields,Z,tt)}m.dirtyFields&&(i.dirtyFields=mR(o,s)),y.state.next({name:Z,isDirty:te(Z,he),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else _r(s,Z,he)},O=(Z,he)=>{_r(i.errors,Z,he),y.state.next({errors:i.errors})},D=(Z,he,ye,He)=>{const Ee=Ut(a,Z);if(Ee){const Fe=Ut(s,Z,ui(ye)?Ut(o,Z):ye);ui(Fe)||He&&He.defaultChecked||he?_r(s,Z,he?Fe:yR(Ee._f)):_e(Z,Fe),l.mount&&x()}},F=(Z,he,ye,He,Ee)=>{let Fe=!1,tt=!1;const nt={name:Z};if(!ye||He){m.isDirty&&(tt=i.isDirty,i.isDirty=nt.isDirty=te(),Fe=tt!==nt.isDirty);const gt=uf(Ut(o,Z),he);tt=Ut(i.dirtyFields,Z),gt?Di(i.dirtyFields,Z):_r(i.dirtyFields,Z,!0),nt.dirtyFields=i.dirtyFields,Fe=Fe||m.dirtyFields&&tt!==!gt}if(ye){const gt=Ut(i.touchedFields,Z);gt||(_r(i.touchedFields,Z,ye),nt.touchedFields=i.touchedFields,Fe=Fe||m.touchedFields&&gt!==ye)}return Fe&&Ee&&y.state.next(nt),Fe?nt:{}},Q=(Z,he,ye,He)=>{const Ee=Ut(i.errors,Z),Fe=m.isValid&&rh(he)&&i.isValid!==he;if(e.delayError&&ye?(d=b(()=>O(Z,ye)),d(e.delayError)):(clearTimeout(h),d=null,ye?_r(i.errors,Z,ye):Di(i.errors,Z)),(ye?!uf(Ee,ye):Ee)||!So(He)||Fe){const tt={...He,...Fe&&rh(he)?{isValid:he}:{},errors:i.errors,name:Z};i={...i,...tt},y.state.next(tt)}R(!1)},Y=async Z=>await n.resolver(s,n.context,HRe(Z||c.mount,a,n.criteriaMode,n.shouldUseNativeValidation)),U=async Z=>{const{errors:he}=await Y();if(Z)for(const ye of Z){const He=Ut(he,ye);He?_r(i.errors,ye,He):Di(i.errors,ye)}else i.errors=he;return he},X=async(Z,he,ye={valid:!0})=>{for(const He in Z){const Ee=Z[He];if(Ee){const{_f:Fe,...tt}=Ee;if(Fe){const nt=c.array.has(Fe.name),gt=await N5(Ee,s,S,n.shouldUseNativeValidation,nt);if(gt[Fe.name]&&(ye.valid=!1,he))break;!he&&(Ut(gt,Fe.name)?nt?BRe(i.errors,gt,Fe.name):_r(i.errors,Fe.name,gt[Fe.name]):Di(i.errors,Fe.name))}tt&&await X(tt,he,ye)}}return ye.valid},ce=()=>{for(const Z of c.unMount){const he=Ut(a,Z);he&&(he._f.refs?he._f.refs.every(ye=>!gR(ye)):!gR(he._f.ref))&&Re(Z)}c.unMount=new Set},te=(Z,he)=>(Z&&he&&_r(s,Z,he),!uf(ie(),o)),se=(Z,he,ye)=>DK(Z,c,{...l.mount?s:ui(he)?o:Ts(Z)?{[Z]:he}:he},ye,he),pe=Z=>Ny(Ut(l.mount?s:o,Z,e.shouldUnregister?Ut(o,Z,[]):[])),_e=(Z,he,ye={})=>{const He=Ut(a,Z);let Ee=he;if(He){const Fe=He._f;Fe&&(!Fe.disabled&&_r(s,Z,qK(he,Fe)),Ee=Iw(Fe.ref)&&ha(he)?"":he,$K(Fe.ref)?[...Fe.ref.options].forEach(tt=>tt.selected=Ee.includes(tt.value)):Fe.refs?ky(Fe.ref)?Fe.refs.length>1?Fe.refs.forEach(tt=>(!tt.defaultChecked||!tt.disabled)&&(tt.checked=Array.isArray(Ee)?!!Ee.find(nt=>nt===tt.value):Ee===tt.value)):Fe.refs[0]&&(Fe.refs[0].checked=!!Ee):Fe.refs.forEach(tt=>tt.checked=tt.value===Ee):OL(Fe.ref)?Fe.ref.value="":(Fe.ref.value=Ee,Fe.ref.type||y.watch.next({name:Z})))}(ye.shouldDirty||ye.shouldTouch)&&F(Z,Ee,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&k(Z)},de=(Z,he,ye)=>{for(const He in he){const Ee=he[He],Fe=`${Z}.${He}`,tt=Ut(a,Fe);(c.array.has(Z)||!Dw(Ee)||tt&&!tt._f)&&!Gd(Ee)?de(Fe,Ee,ye):_e(Fe,Ee,ye)}},ue=(Z,he,ye={})=>{const He=Ut(a,Z),Ee=c.array.has(Z),Fe=Pl(he);_r(s,Z,Fe),Ee?(y.array.next({name:Z,values:s}),(m.isDirty||m.dirtyFields)&&ye.shouldDirty&&y.state.next({name:Z,dirtyFields:mR(o,s),isDirty:te(Z,Fe)})):He&&!He._f&&!ha(Fe)?de(Z,Fe,ye):_e(Z,Fe,ye),L5(Z,c)&&y.state.next({}),y.watch.next({name:Z}),!l.mount&&t()},Ae=async Z=>{const he=Z.target;let ye=he.name;const He=Ut(a,ye),Ee=()=>he.type?yR(He._f):PK(Z);if(He){let Fe,tt;const nt=Ee(),gt=Z.type===Ow.BLUR||Z.type===Ow.FOCUS_OUT,qt=!VRe(He._f)&&!n.resolver&&!Ut(i.errors,ye)&&!He._f.deps||KRe(gt,Ut(i.touchedFields,ye),i.isSubmitted,_,v),Se=L5(ye,c,gt);_r(s,ye,nt),gt?(He._f.onBlur&&He._f.onBlur(Z),d&&d(0)):He._f.onChange&&He._f.onChange(Z);const Ue=F(ye,nt,gt,!1),ne=!So(Ue)||Se;if(!gt&&y.watch.next({name:ye,type:Z.type}),qt)return m.isValid&&x(),ne&&y.state.next({name:ye,...Se?{}:Ue});if(!gt&&Se&&y.state.next({}),R(!0),n.resolver){const{errors:z}=await Y([ye]),W=F5(i.errors,a,ye),G=F5(z,a,W.name||ye);Fe=G.error,ye=G.name,tt=So(z)}else Fe=(await N5(He,s,S,n.shouldUseNativeValidation))[ye],Fe?tt=!1:m.isValid&&(tt=await X(a,!0));He._f.deps&&k(He._f.deps),Q(ye,tt,Fe,Ue)}},k=async(Z,he={})=>{let ye,He;const Ee=H0(Z);if(R(!0),n.resolver){const Fe=await U(ui(Z)?Z:Ee);ye=So(Fe),He=Z?!Ee.some(tt=>Ut(Fe,tt)):ye}else Z?(He=(await Promise.all(Ee.map(async Fe=>{const tt=Ut(a,Fe);return await X(tt&&tt._f?{[Fe]:tt}:tt)}))).every(Boolean),!(!He&&!i.isValid)&&x()):He=ye=await X(a);return y.state.next({...!Ts(Z)||m.isValid&&ye!==i.isValid?{}:{name:Z},...n.resolver||!Z?{isValid:ye}:{},errors:i.errors,isValidating:!1}),he.shouldFocus&&!He&&lP(a,Fe=>Fe&&Ut(i.errors,Fe),Z?Ee:c.mount),He},ie=Z=>{const he={...o,...l.mount?s:{}};return ui(Z)?he:Ts(Z)?Ut(he,Z):Z.map(ye=>Ut(he,ye))},me=(Z,he)=>({invalid:!!Ut((he||i).errors,Z),isDirty:!!Ut((he||i).dirtyFields,Z),isTouched:!!Ut((he||i).touchedFields,Z),error:Ut((he||i).errors,Z)}),K=Z=>{Z&&H0(Z).forEach(he=>Di(i.errors,he)),y.state.next({errors:Z?i.errors:{}})},ee=(Z,he,ye)=>{const He=(Ut(a,Z,{_f:{}})._f||{}).ref;_r(i.errors,Z,{...he,ref:He}),y.state.next({name:Z,errors:i.errors,isValid:!1}),ye&&ye.shouldFocus&&He&&He.focus&&He.focus()},ge=(Z,he)=>ih(Z)?y.watch.subscribe({next:ye=>Z(se(void 0,he),ye)}):se(Z,he,!0),Re=(Z,he={})=>{for(const ye of Z?H0(Z):c.mount)c.mount.delete(ye),c.array.delete(ye),Ut(a,ye)&&(he.keepValue||(Di(a,ye),Di(s,ye)),!he.keepError&&Di(i.errors,ye),!he.keepDirty&&Di(i.dirtyFields,ye),!he.keepTouched&&Di(i.touchedFields,ye),!n.shouldUnregister&&!he.keepDefaultValue&&Di(o,ye));y.watch.next({}),y.state.next({...i,...he.keepDirty?{isDirty:te()}:{}}),!he.keepIsValid&&x()},Ze=(Z,he={})=>{let ye=Ut(a,Z);const He=rh(he.disabled);return _r(a,Z,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:Z}},name:Z,mount:!0,...he}}),c.mount.add(Z),ye?He&&_r(s,Z,he.disabled?void 0:Ut(s,Z,yR(ye._f))):D(Z,!0,he.value),{...He?{disabled:he.disabled}:{},...n.shouldUseNativeValidation?{required:!!he.required,min:um(he.min),max:um(he.max),minLength:um(he.minLength),maxLength:um(he.maxLength),pattern:um(he.pattern)}:{},name:Z,onChange:Ae,onBlur:Ae,ref:Ee=>{if(Ee){Ze(Z,he),ye=Ut(a,Z);const Fe=ui(Ee.value)&&Ee.querySelectorAll&&Ee.querySelectorAll("input,select,textarea")[0]||Ee,tt=zRe(Fe),nt=ye._f.refs||[];if(tt?nt.find(gt=>gt===Fe):Fe===ye._f.ref)return;_r(a,Z,{_f:{...ye._f,...tt?{refs:[...nt.filter(gR),Fe,...Array.isArray(Ut(o,Z))?[{}]:[]],ref:{type:Fe.type,name:Z}}:{ref:Fe}}}),D(Z,!1,void 0,Fe)}else ye=Ut(a,Z,{}),ye._f&&(ye._f.mount=!1),(n.shouldUnregister||he.shouldUnregister)&&!(OK(c.array,Z)&&l.action)&&c.unMount.add(Z)}}},Pe=()=>n.shouldFocusError&&lP(a,Z=>Z&&Ut(i.errors,Z),c.mount),Ne=(Z,he)=>async ye=>{ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist());let He=Pl(s);if(y.state.next({isSubmitting:!0}),n.resolver){const{errors:Ee,values:Fe}=await Y();i.errors=Ee,He=Fe}else await X(a);Di(i.errors,"root"),So(i.errors)?(y.state.next({errors:{}}),await Z(He,ye)):(he&&await he({...i.errors},ye),Pe()),y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:So(i.errors),submitCount:i.submitCount+1,errors:i.errors})},Xe=(Z,he={})=>{Ut(a,Z)&&(ui(he.defaultValue)?ue(Z,Ut(o,Z)):(ue(Z,he.defaultValue),_r(o,Z,he.defaultValue)),he.keepTouched||Di(i.touchedFields,Z),he.keepDirty||(Di(i.dirtyFields,Z),i.isDirty=he.defaultValue?te(Z,Ut(o,Z)):te()),he.keepError||(Di(i.errors,Z),m.isValid&&x()),y.state.next({...i}))},oe=(Z,he={})=>{const ye=Z||o,He=Pl(ye),Ee=Z&&!So(Z)?He:o;if(he.keepDefaultValues||(o=ye),!he.keepValues){if(he.keepDirtyValues||r)for(const Fe of c.mount)Ut(i.dirtyFields,Fe)?_r(Ee,Fe,Ut(s,Fe)):ue(Fe,Ut(Ee,Fe));else{if(AL&&ui(Z))for(const Fe of c.mount){const tt=Ut(a,Fe);if(tt&&tt._f){const nt=Array.isArray(tt._f.refs)?tt._f.refs[0]:tt._f.ref;if(Iw(nt)){const gt=nt.closest("form");if(gt){gt.reset();break}}}}a={}}s=e.shouldUnregister?he.keepDefaultValues?Pl(o):{}:He,y.array.next({values:Ee}),y.watch.next({values:Ee})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&t(),l.mount=!m.isValid||!!he.keepIsValid,l.watch=!!e.shouldUnregister,y.state.next({submitCount:he.keepSubmitCount?i.submitCount:0,isDirty:he.keepDirty||he.keepDirtyValues?i.isDirty:!!(he.keepDefaultValues&&!uf(Z,o)),isSubmitted:he.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:he.keepDirty||he.keepDirtyValues?i.dirtyFields:he.keepDefaultValues&&Z?mR(o,Z):{},touchedFields:he.keepTouched?i.touchedFields:{},errors:he.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},H=(Z,he)=>oe(ih(Z)?Z(s):Z,he),$=(Z,he={})=>{const ye=Ut(a,Z),He=ye&&ye._f;if(He){const Ee=He.refs?He.refs[0]:He.ref;Ee.focus&&(Ee.focus(),he.shouldSelect&&Ee.select())}},ae=Z=>{i={...i,...Z}};return ih(n.defaultValues)&&n.defaultValues().then(Z=>{H(Z,n.resetOptions),y.state.next({isLoading:!1})}),{control:{register:Ze,unregister:Re,getFieldState:me,_executeSchema:Y,_focusError:Pe,_getWatch:se,_getDirty:te,_updateValid:x,_removeUnmounted:ce,_updateFieldArray:P,_getFieldArray:pe,_reset:oe,_updateFormState:ae,_subjects:y,_proxyFormState:m,get _fields(){return a},get _formValues(){return s},get _stateFlags(){return l},set _stateFlags(Z){l=Z},get _defaultValues(){return o},get _names(){return c},set _names(Z){c=Z},get _formState(){return i},set _formState(Z){i=Z},get _options(){return n},set _options(Z){n={...n,...Z}}},trigger:k,register:Ze,handleSubmit:Ne,watch:ge,setValue:ue,getValues:ie,reset:H,resetField:Xe,clearErrors:K,unregister:Re,setError:ee,setFocus:$,getFieldState:me}}function Ns(e={}){const t=Pt.useRef(),[n,r]=Pt.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:ih(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...QRe(e,()=>r(a=>({...a}))),formState:n});const i=t.current.control;return i._options=e,RL({subject:i._subjects.state,next:a=>{IK(a,i._proxyFormState,i._updateFormState,!0)&&r({...i._formState})}}),Pt.useEffect(()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()}),Pt.useEffect(()=>{e.values&&!uf(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)},[e.values,i]),Pt.useEffect(()=>{n.submitCount&&i._focusError()},[i,n.submitCount]),t.current.formState=LK(n,i),t.current}const Wd=({value:e,...t})=>{const[n,r]=V.useState(!1);return n?B.jsxs(B.Fragment,{children:[B.jsx("input",{...t})," ",B.jsx("button",{type:"button",onClick:()=>{r(!1)},children:B.jsx(Sy,{})})]}):B.jsxs(B.Fragment,{children:[e," ",B.jsx("button",{disabled:!0,style:{display:"none"},type:"button",onClick:()=>r(!0),children:B.jsx(Y9,{})})]})},ZRe=({onSuccess:e,isPublicTypeIndex:t,isPrivateTypeIndex:n,isPreferencesFile:r,isInbox:i,preferencesFile:a,privateTypeIndex:o,publicTypeIndex:s,webId:l,storage:c})=>{const{i18n:d,_:h}=Qr(),m=PRe(),y=TRe(),v=ORe(),_=CRe(),S=JRe(c,a,o,s)??new URL("settings/",c).toString(),{watch:b,register:x,handleSubmit:R}=Ns({defaultValues:{preferencesFile:new URL("preferences.ttl",S).toString(),publicTypeIndex:new URL("publicTypeIndex.ttl",S).toString(),privateTypeIndex:new URL("privateTypeIndex.ttl",S).toString(),inbox:new URL("./inbox/",c).toString()}}),P=R(async({publicTypeIndex:O,privateTypeIndex:D,preferencesFile:F,inbox:Q})=>{if(t===void 0||n===void 0||r===void 0||i===void 0)throw new Error(d._({id:"XCH5Qf"}));r||await _({preferencesFile:F,privateTypeIndex:o,webId:l}),t===!1&&await m({publicTypeIndex:O,webId:l}),n===!1&&await y({privateTypeIndex:D,preferencesFile:a||F,webId:l}),i===!1&&await v({inbox:Q,webId:l}),e()});return B.jsxs("form",{onSubmit:P,children:[B.jsx("div",{children:r?B.jsx(_t,{id:"H2Pd5s"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"jevYpv"})," ",B.jsx(Wd,{value:Hl(b("preferencesFile"),c),...x("preferencesFile",{required:!0}),type:"url"})]})}),B.jsx("div",{children:t?B.jsx(_t,{id:"AywWH9"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"/qBoT3"})," ",B.jsx(Wd,{value:Hl(b("publicTypeIndex"),c),...x("publicTypeIndex",{required:!0}),type:"url"})]})}),B.jsx("div",{children:n?B.jsx(_t,{id:"ei1Uj7"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"47l1wN"})," ",B.jsx(Wd,{value:Hl(b("privateTypeIndex"),c),...x("privateTypeIndex",{required:!0}),type:"url"})]})}),B.jsx("div",{children:i?B.jsx(_t,{id:"d/3T+G"}):B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"17JZAf"})," ",B.jsx(Wd,{value:Hl(b("inbox"),c),...x("inbox",{required:!0}),type:"url"})]})}),B.jsx(tr,{type:"submit",primary:!0,"data-cy":"setup-step-0-continue",children:B.jsx(_t,{id:"xGVfLh"})})]})},JRe=(e,...t)=>{if(e)for(const n of t){if(!n)break;const r=fi(n),i=Hl(r,e);if(i&&i!=="/"&&i.includes(e))return r}},XRe=()=>{const e=to();return V.useCallback(async({person:t,group:n})=>{const r=`_:mutate a <${xn.InsertDeletePatch}>;
        <${xn.inserts}> { <${n}> <${z9.hasMember}> <${t}>. } .`;await e.mutateAsync({uri:n,patch:r})},[e])},YRe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Group",id:t}}),eAe=async({inbox:e,...t})=>{const n=await rr(e,{method:"POST",body:JSON.stringify(YRe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new To("Community inbox responded with error",n);const r=n.headers.get("location");return{...t,status:n.status,group:r}},tAe=()=>{const e=$i(),{mutateAsync:t}=ao({mutationFn:eAe,onSuccess:async n=>{n.group&&await e.invalidateQueries({queryKey:[Gr.rdfDocument,ic(n.group)]})}});return t},nAe=({onSuccess:e,isMember:t,isHospexProfile:n,allHospex:r,publicTypeIndex:i})=>{const{communityContainer:a,communityId:o}=kn(),s=mi(),{i18n:l,_:c}=Qr(),d=CK(s.webId??""),h=$u(o),m=XRe(),y=tAe(),v=ARe(),_=RRe(),S=TK(),b=d&&`${d}hospex/${a}/card`,{handleSubmit:x,register:R,watch:P,setValue:O}=Ns({defaultValues:{newHospexDocument:b}});V.useEffect(()=>{d&&O("newHospexDocument",`${d}hospex/${a}/card`)},[a,O,d]);const D=P("newHospexDocument");if(!d||!D)return B.jsx(B.Fragment,{children:"..."});const F=x(async({hospexDocument:Y,newHospexDocument:U})=>{if(!i)throw new Error(l._({id:"MPWsQ5"}));if(n||(r.length===0||Y==="new"?(await v({uri:U,webId:s.webId,communityId:o}),await S({index:i,type:ac.PersonalHospexDocument,location:U})):await _({uri:Y,webId:s.webId})),!t)if(h.inbox)await y({actor:s.webId,object:h.community,type:"Join",inbox:h.inbox});else{if(!h.groups[0])throw new Error(l._({id:"FTXS9n"}));await m({person:s.webId,group:h.groups[0]})}e()}),Q=h.name||o;return B.jsxs("form",{onSubmit:F,children:[t?B.jsx("li",{children:B.jsx(_t,{id:"CDTRqk",values:{communityLabel:Q}})}):B.jsx("li",{children:B.jsx(_t,{id:"kH9S1u",values:{communityLabel:Q}})}),!n&&r.length===0&&B.jsxs("li",{children:[B.jsx(_t,{id:"V7MiWJ"})," ",B.jsx(Wd,{value:Hl(D,d),...R("newHospexDocument",{required:!0})})]}),!n&&r.length>0&&B.jsxs("li",{children:[B.jsx("legend",{children:B.jsx(_t,{id:"kJXPN2"})}),B.jsxs("fieldset",{className:Ml.storageOptions,children:[B.jsx("legend",{children:B.jsx(_t,{id:"kpCcav"})}),B.jsxs("div",{className:Ml.option,children:[B.jsx("input",{type:"radio",id:"new-hospex-document",value:"new",...R("hospexDocument",{required:!0})})," ",B.jsxs("label",{htmlFor:"new-hospex-document",children:[B.jsx(_t,{id:"rX1tOl"}),B.jsx(Wd,{...R("newHospexDocument",{required:!0}),value:Hl(P("newHospexDocument"),d)})]})]}),B.jsxs("div",{children:[B.jsx("legend",{children:B.jsx(_t,{id:"Monbkf",components:{0:B.jsx("i",{})}})}),r.map(({hospexDocument:Y,communities:U},X)=>B.jsxs("div",{className:Ml.option,children:[B.jsx("input",{required:!0,type:"radio",id:`hospexDocument-${X}`,value:Y,...R("hospexDocument")})," ",B.jsxs("label",{htmlFor:`hospexDocument-${X}`,children:[U.map(ce=>ce.name??ce.uri).join(", ")," (",Hl(Y,d),")"]})]},Y))]})]})]}),B.jsx(tr,{type:"submit",primary:!0,"data-cy":"setup-step-1-continue",disabled:!i,children:B.jsx(_t,{id:"xGVfLh"})})]})};var vR,j5;function rAe(){if(j5)return vR;j5=1;var e=_z(),t=yb(),n=Lz(),r=bz(),i=IH(),a=Math.max;function o(s){if(!(s&&s.length))return[];var l=0;return s=e(s,function(c){if(i(c))return l=a(c.length,l),!0}),r(l,function(c){return t(s,n(c))})}return vR=o,vR}var _R,$5;function iAe(){if($5)return _R;$5=1;var e=kH(),t=yb(),n=rAe();function r(i,a){if(!(i&&i.length))return[];var o=n(i);return a==null?o:t(o,function(s){return e(a,void 0,s)})}return _R=r,_R}var wR,B5;function aAe(){if(B5)return wR;B5=1;var e=jH(),t=iAe(),n=e(function(r){var i=r.length,a=i>1?r[i-1]:void 0;return a=typeof a=="function"?(r.pop(),a):void 0,t(r,a)});return wR=n,wR}var oAe=aAe();const sAe=Ir(oAe),uAe=()=>{const e=mi(),{communityId:t}=kn(),{variables:n,isLoading:r}=ya({query:e_e,variables:V.useMemo(()=>({person:e.webId?[e.webId]:void 0,community:[t]}),[e.webId,t]),fetch:rr}),i=n.hospexPreferencesFile,{results:a}=xRe(i??[]);return{results:sAe(i??[],a,(s,l)=>({url:s,permissions:l})),isLoading:r}},lAe=({onSuccess:e,isEmailNotifications:t,isSimpleEmailNotifications:n,hospexDocument:r,inbox:i})=>n!=="unset"?B.jsx(cAe,{onSuccess:e,isEmailNotifications:n,hospexDocument:r}):t!=="unset"?B.jsx(fAe,{onSuccess:e,isEmailNotifications:t,inbox:i}):B.jsx(dAe,{onSuccess:e}),cAe=({onSuccess:e,isEmailNotifications:t,hospexDocument:n})=>{const{handleSubmit:r,register:i}=Ns(),[a,o]=V.useState(!1),[s,l]=V.useState(!1),[c,d]=V.useState(),[h,m]=V.useState(0),y=MRe(),v=IRe(),{webId:_}=mi(),{i18n:S,_:b}=Qr(),{emailNotificationsIdentity:x,emailNotificationsService:R}=kn(),{results:P}=uAe(),O=P.some(U=>{var X,ce;return U.url&&((ce=(X=U.permissions.acls[0])==null?void 0:X.accesses)==null?void 0:ce.some(te=>te.agents.includes(x)&&(te.modes.includes(Wa.Write)||te.modes.includes(Wa.Append))&&te.modes.includes(Wa.Read)))}),D=SK(_,R);V.useEffect(()=>{if(h>0){const U=setTimeout(()=>m(h-1),1e3);return()=>clearTimeout(U)}},[h]);const F=r(async({email:U})=>{l(!0);try{if(!n)throw new Error(S._({id:"35KTBT"}));t||(O||await y({hospexDocument:n,webId:_,email:U}),await v.mutateAsync({email:U}),o(!0),m(60),d(U))}finally{l(!1)}}),Q=$i(),Y=()=>{Q.invalidateQueries({queryKey:[Gr.simpleMailerIntegration]})};return t?B.jsxs("div",{children:[B.jsx(Sy,{}),B.jsx(_t,{id:"VM9oSF"}),B.jsx(tr,{primary:!0,onClick:e,children:B.jsx(_t,{id:"8BwQeU"})})]}):B.jsxs("form",{onSubmit:F,children:[!t&&B.jsxs("div",{children:[B.jsxs("div",{children:[B.jsx(_t,{id:"42aUkb"})," ",B.jsx("input",{required:!0,placeholder:S._({id:"ocwjau"}),...i("email"),type:"email",disabled:a}),B.jsx(tr,{type:"submit",secondary:!0,disabled:s||h>0,children:h>0?B.jsx(_t,{id:"uliB7J",values:{countdown:h}}):B.jsx(_t,{id:"vp9yIB"})})]}),a&&!s&&B.jsx("div",{children:B.jsx(_t,{id:"MYOoIS",values:{sentToEmail:c},components:{0:B.jsx("br",{})}})})]}),B.jsxs(tr,{type:"button",primary:!0,disabled:!a||D.isRefetching,onClick:Y,children:[B.jsx(_t,{id:"8BwQeU"})," ",D.isRefetching&&B.jsx(wK,{})]})]})},fAe=({onSuccess:e,isEmailNotifications:t,inbox:n})=>{const{i18n:r,_:i}=Qr(),a=LRe(),{handleSubmit:o,register:s}=Ns(),{webId:l}=mi(),c=$i(),d=()=>{c.invalidateQueries({queryKey:[Gr.mailerIntegration]})},h=o(({email:m})=>{if(!n)throw new Error(r._({id:"fo1jSY"}));a({email:m,webId:l,inbox:n})});return t===!0?B.jsxs("div",{children:[B.jsx(Sy,{}),B.jsx(_t,{id:"VM9oSF"}),B.jsx(tr,{primary:!0,onClick:e,children:B.jsx(_t,{id:"8BwQeU"})})]}):B.jsxs("form",{onSubmit:h,children:[!t&&B.jsxs("div",{children:[B.jsx(_t,{id:"lYCAyX"})," ",B.jsx("input",{type:"email",placeholder:r._({id:"z8F4/3"}),...s("email"),required:!0}),B.jsx(tr,{type:"submit",primary:!0,children:B.jsx(_t,{id:"vp9yIB"})})]}),t==="unverified"&&B.jsxs("div",{children:[B.jsx(_t,{id:"F132R+"}),B.jsx(tr,{type:"button",primary:!0,onClick:d,children:B.jsx(_t,{id:"8BwQeU"})})]})]})},dAe=({onSuccess:e})=>B.jsxs("div",{children:[B.jsx(Sy,{})," ",B.jsx(_t,{id:"heRuNl"}),B.jsx("div",{children:B.jsx(tr,{primary:!0,onClick:e,children:B.jsx(_t,{id:"8BwQeU"})})})]});var Vc=function(e){return e.isMember="isMember",e.isHospexProfile="isHospexProfile",e.isPublicTypeIndex="isPublicTypeIndex",e.isPrivateTypeIndex="isPrivateTypeIndex",e.isPreferencesFile="isPreferencesFile",e.isInbox="isInbox",e.isSimpleEmailNotifications="isSimpleEmailNotifications",e.isEmailNotifications="isEmailNotifications",e}({});const hAe=[[Vc.isPublicTypeIndex,Vc.isPrivateTypeIndex,Vc.isInbox],[Vc.isMember,Vc.isHospexProfile],[Vc.isEmailNotifications,Vc.isSimpleEmailNotifications]],pAe=e=>{const t=hAe.map(o=>uRe(e,o)).map(o=>Object.values(o).every(s=>s)),n=mi(),r=CK(n.webId),i=kn(),a=V.useMemo(()=>{var o;return[{title:B.jsx(_t,{id:"FQjzSF"}),content:r&&n.webId?B.jsx(ZRe,{onSuccess:()=>e.onStepChange(1),isPublicTypeIndex:e.isPublicTypeIndex,isPrivateTypeIndex:e.isPrivateTypeIndex,isPreferencesFile:e.isPreferencesFile,isInbox:e.isInbox,storage:r,webId:n.webId,preferencesFile:e.preferencesFiles[0],publicTypeIndex:e.preferencesFiles[0],privateTypeIndex:e.privateTypeIndexes[0]}):null},{title:B.jsx(_t,{id:"BLFgtR"}),content:B.jsx(nAe,{onSuccess:()=>e.onStepChange(2),isMember:e.isMember,isHospexProfile:e.isHospexProfile,allHospex:e.allHospex,publicTypeIndex:e.publicTypeIndexes[0]})},{title:B.jsx(_t,{id:"sCXkJv"}),content:B.jsx(lAe,{isEmailNotifications:e.isEmailNotifications,isSimpleEmailNotifications:e.isSimpleEmailNotifications,hospexDocument:(o=e.allHospex.find(s=>s.communities.some(l=>l.uri===i.communityId)))==null?void 0:o.hospexDocument,inbox:e.inboxes[0],onSuccess:()=>{}})}]},[n.webId,i.communityId,e,r]);return r?B.jsxs("div",{className:Ml.container,children:[B.jsx("h1",{children:B.jsx(_t,{id:"RDjuBN"})}),B.jsxs(cL,{value:String(e.step),onValueChange:o=>e.onStepChange(+o),children:[B.jsx(fL,{className:Ml.list,loop:!1,children:a.map((o,s)=>B.jsx(dL,{className:Rr(Ml.trigger,s<a.length-1&&Ml.connect),value:String(s),disabled:!t.slice(0,s).every(l=>!!l),children:s+1},s))}),a.map((o,s)=>B.jsxs(hL,{value:String(s),className:Ml.content,children:[B.jsx("h2",{children:o.title}),o.content]},s))]})]}):B.jsx(B.Fragment,{children:"..."})},gAe="_checkingContainer_ormma_1",U5={checkingContainer:gAe},mAe=()=>{const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=kn(),r=jr($h),[i,a]=V.useState(0),o=ey(r.webId??"",e??""),s=EK(o,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments","allHospexDocuments","preferencesFiles","inboxes","allHospex"]),l=UTe(r.webId,n==="simple"?t:""),c=$Te(o.inboxes[0]??"",n==="solid"?t:"");if(Object.values(o).every(m=>m)&&(c===!0||c==="unset")&&(l===!0||l==="unset"))return B.jsx(Gw,{});const h=Object.entries(s).filter(([,m])=>m===void 0).map(([m])=>m);return l===void 0&&h.push("isSimpleEmailNotifications"),c===void 0&&h.push("isEmailNotifications"),Object.values(o).some(m=>m===void 0)||l===void 0||c===void 0?B.jsx(yAe,{...s,isEmailNotifications:c,isSimpleEmailNotifications:l}):B.jsx(pAe,{...o,isSimpleEmailNotifications:l,isEmailNotifications:c,step:i,onStepChange:a})},yAe=e=>{const t=Object.entries(e).filter(([n,r])=>r!=="unset"&&n.startsWith("is")).map(([n,r])=>({key:n,label:vAe(n),value:r}));return B.jsxs("div",{className:U5.checkingContainer,children:[B.jsx("h2",{children:B.jsx(_t,{id:"ciEJp2"})}),B.jsx("p",{children:B.jsx(_t,{id:"iIICHU"})}),B.jsx("ul",{className:U5.checklist,children:t.map(n=>B.jsxs("li",{children:[n.value===!0?B.jsx(Sy,{}):n.value===!1?B.jsx(yw,{}):n.value==="unverified"?B.jsx(ome,{}):B.jsx(wK,{})," ",n.label]},n.key))})]})},vAe=e=>e.replace(/^is/,"").replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase());var P_={exports:{}},Sl={},O_={exports:{}},_o={},L_={exports:{}},q5;function zK(){return q5||(q5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/^(input|select|textarea|button|object|iframe)$/;function a(h,m){return m.getPropertyValue("overflow")!=="visible"||h.scrollWidth<=0&&h.scrollHeight<=0}function o(h){var m=h.offsetWidth<=0&&h.offsetHeight<=0;if(m&&!h.innerHTML)return!0;try{var y=window.getComputedStyle(h),v=y.getPropertyValue("display");return m?v!==r&&a(h,y):v===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(h){for(var m=h,y=h.getRootNode&&h.getRootNode();m&&m!==document.body;){if(y&&m===y&&(m=y.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function l(h,m){var y=h.nodeName.toLowerCase(),v=i.test(y)&&!h.disabled||y==="a"&&h.href||m;return v&&s(h)}function c(h){var m=h.getAttribute("tabindex");m===null&&(m=void 0);var y=isNaN(m);return(y||m>=0)&&l(h,!y)}function d(h){var m=[].slice.call(h.querySelectorAll("*"),0).reduce(function(y,v){return y.concat(v.shadowRoot?d(v.shadowRoot):[v])},[]);return m.filter(c)}e.exports=t.default}(L_,L_.exports)),L_.exports}var z5;function _Ae(){if(z5)return _o;z5=1,Object.defineProperty(_o,"__esModule",{value:!0}),_o.resetState=o,_o.log=s,_o.handleBlur=l,_o.handleFocus=c,_o.markForFocusLater=d,_o.returnFocus=h,_o.popWithoutFocus=m,_o.setupScopedFocus=y,_o.teardownScopedFocus=v;var e=zK(),t=n(e);function n(_){return _&&_.__esModule?_:{default:_}}var r=[],i=null,a=!1;function o(){r=[]}function s(){}function l(){a=!0}function c(){if(a){if(a=!1,!i)return;setTimeout(function(){if(!i.contains(document.activeElement)){var _=(0,t.default)(i)[0]||i;_.focus()}},0)}}function d(){r.push(document.activeElement)}function h(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,S=null;try{r.length!==0&&(S=r.pop(),S.focus({preventScroll:_}));return}catch{console.warn(["You tried to return focus to",S,"but it is not in the DOM anymore"].join(" "))}}function m(){r.length>0&&r.pop()}function y(_){i=_,window.addEventListener?(window.addEventListener("blur",l,!1),document.addEventListener("focus",c,!0)):(window.attachEvent("onBlur",l),document.attachEvent("onFocus",c))}function v(){i=null,window.addEventListener?(window.removeEventListener("blur",l),document.removeEventListener("focus",c)):(window.detachEvent("onBlur",l),document.detachEvent("onFocus",c))}return _o}var I_={exports:{}},H5;function wAe(){return H5||(H5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=zK(),r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}function a(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return s.activeElement.shadowRoot?a(s.activeElement.shadowRoot):s.activeElement}function o(s,l){var c=(0,r.default)(s);if(!c.length){l.preventDefault();return}var d=void 0,h=l.shiftKey,m=c[0],y=c[c.length-1],v=a();if(s===v){if(!h)return;d=y}if(y===v&&!h&&(d=m),m===v&&h&&(d=y),d){l.preventDefault(),d.focus();return}var _=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=_!=null&&_[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(S){var b=c.indexOf(v);if(b>-1&&(b+=h?-1:1),d=c[b],typeof d>"u"){l.preventDefault(),d=h?y:m,d.focus();return}l.preventDefault(),d.focus()}}e.exports=t.default}(I_,I_.exports)),I_.exports}var $o={},bR,V5;function bAe(){if(V5)return bR;V5=1;var e=function(){};return bR=e,bR}var hs={},SR={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/var K5;function SAe(){return K5||(K5=1,function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()}(SR)),SR.exports}var G5;function IL(){if(G5)return hs;G5=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.canUseDOM=hs.SafeNodeList=hs.SafeHTMLCollection=void 0;var e=SAe(),t=n(e);function n(a){return a&&a.__esModule?a:{default:a}}var r=t.default,i=r.canUseDOM?window.HTMLElement:{};return hs.SafeHTMLCollection=r.canUseDOM?window.HTMLCollection:{},hs.SafeNodeList=r.canUseDOM?window.NodeList:{},hs.canUseDOM=r.canUseDOM,hs.default=i,hs}var W5;function HK(){if(W5)return $o;W5=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.resetState=a,$o.log=o,$o.assertNodeList=s,$o.setElement=l,$o.validateElement=c,$o.hide=d,$o.show=h,$o.documentNotReadyOrSSRTesting=m;var e=bAe(),t=r(e),n=IL();function r(y){return y&&y.__esModule?y:{default:y}}var i=null;function a(){i&&(i.removeAttribute?i.removeAttribute("aria-hidden"):i.length!=null?i.forEach(function(y){return y.removeAttribute("aria-hidden")}):document.querySelectorAll(i).forEach(function(y){return y.removeAttribute("aria-hidden")})),i=null}function o(){}function s(y,v){if(!y||!y.length)throw new Error("react-modal: No elements were found for selector "+v+".")}function l(y){var v=y;if(typeof v=="string"&&n.canUseDOM){var _=document.querySelectorAll(v);s(_,v),v=_}return i=v||i,i}function c(y){var v=y||i;return v?Array.isArray(v)||v instanceof HTMLCollection||v instanceof NodeList?v:[v]:((0,t.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function d(y){var v=!0,_=!1,S=void 0;try{for(var b=c(y)[Symbol.iterator](),x;!(v=(x=b.next()).done);v=!0){var R=x.value;R.setAttribute("aria-hidden","true")}}catch(P){_=!0,S=P}finally{try{!v&&b.return&&b.return()}finally{if(_)throw S}}}function h(y){var v=!0,_=!1,S=void 0;try{for(var b=c(y)[Symbol.iterator](),x;!(v=(x=b.next()).done);v=!0){var R=x.value;R.removeAttribute("aria-hidden")}}catch(P){_=!0,S=P}finally{try{!v&&b.return&&b.return()}finally{if(_)throw S}}}function m(){i=null}return $o}var Kc={},Q5;function xAe(){if(Q5)return Kc;Q5=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.resetState=r,Kc.log=i;var e={},t={};function n(c,d){c.classList.remove(d)}function r(){var c=document.getElementsByTagName("html")[0];for(var d in e)n(c,e[d]);var h=document.body;for(var m in t)n(h,t[m]);e={},t={}}function i(){}var a=function(d,h){return d[h]||(d[h]=0),d[h]+=1,h},o=function(d,h){return d[h]&&(d[h]-=1),h},s=function(d,h,m){m.forEach(function(y){a(h,y),d.add(y)})},l=function(d,h,m){m.forEach(function(y){o(h,y),h[y]===0&&d.remove(y)})};return Kc.add=function(d,h){return s(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Kc.remove=function(d,h){return l(d.classList,d.nodeName.toLowerCase()=="html"?e:t,h.split(" "))},Kc}var jd={},Z5;function VK(){if(Z5)return jd;Z5=1,Object.defineProperty(jd,"__esModule",{value:!0}),jd.log=r,jd.resetState=i;function e(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}var t=function a(){var o=this;e(this,a),this.register=function(s){o.openInstances.indexOf(s)===-1&&(o.openInstances.push(s),o.emit("register"))},this.deregister=function(s){var l=o.openInstances.indexOf(s);l!==-1&&(o.openInstances.splice(l,1),o.emit("deregister"))},this.subscribe=function(s){o.subscribers.push(s)},this.emit=function(s){o.subscribers.forEach(function(l){return l(s,o.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},n=new t;function r(){console.log("portalOpenInstances ----------"),console.log(n.openInstances.length),n.openInstances.forEach(function(a){return console.log(a)}),console.log("end portalOpenInstances ----------")}function i(){n=new t}return jd.default=n,jd}var lm={},J5;function EAe(){if(J5)return lm;J5=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.resetState=o,lm.log=s;var e=VK(),t=n(e);function n(d){return d&&d.__esModule?d:{default:d}}var r=void 0,i=void 0,a=[];function o(){for(var d=[r,i],h=0;h<d.length;h++){var m=d[h];m&&m.parentNode&&m.parentNode.removeChild(m)}r=i=null,a=[]}function s(){console.log("bodyTrap ----------"),console.log(a.length);for(var d=[r,i],h=0;h<d.length;h++){var m=d[h],y=m||{};console.log(y.nodeName,y.className,y.id)}console.log("edn bodyTrap ----------")}function l(){a.length!==0&&a[a.length-1].focusContent()}function c(d,h){!r&&!i&&(r=document.createElement("div"),r.setAttribute("data-react-modal-body-trap",""),r.style.position="absolute",r.style.opacity="0",r.setAttribute("tabindex","0"),r.addEventListener("focus",l),i=r.cloneNode(),i.addEventListener("focus",l)),a=h,a.length>0?(document.body.firstChild!==r&&document.body.insertBefore(r,document.body.firstChild),document.body.lastChild!==i&&document.body.appendChild(i)):(r.parentElement&&r.parentElement.removeChild(r),i.parentElement&&i.parentElement.removeChild(i))}return t.default.subscribe(c),lm}var X5;function CAe(){return X5||(X5=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(se){for(var pe=1;pe<arguments.length;pe++){var _e=arguments[pe];for(var de in _e)Object.prototype.hasOwnProperty.call(_e,de)&&(se[de]=_e[de])}return se},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(se){return typeof se}:function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},i=function(){function se(pe,_e){for(var de=0;de<_e.length;de++){var ue=_e[de];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(pe,ue.key,ue)}}return function(pe,_e,de){return _e&&se(pe.prototype,_e),de&&se(pe,de),pe}}(),a=kh(),o=VH(),s=O(o),l=_Ae(),c=P(l),d=wAe(),h=O(d),m=HK(),y=P(m),v=xAe(),_=P(v),S=IL(),b=O(S),x=VK(),R=O(x);EAe();function P(se){if(se&&se.__esModule)return se;var pe={};if(se!=null)for(var _e in se)Object.prototype.hasOwnProperty.call(se,_e)&&(pe[_e]=se[_e]);return pe.default=se,pe}function O(se){return se&&se.__esModule?se:{default:se}}function D(se,pe){if(!(se instanceof pe))throw new TypeError("Cannot call a class as a function")}function F(se,pe){if(!se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe&&(typeof pe=="object"||typeof pe=="function")?pe:se}function Q(se,pe){if(typeof pe!="function"&&pe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pe);se.prototype=Object.create(pe&&pe.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),pe&&(Object.setPrototypeOf?Object.setPrototypeOf(se,pe):se.__proto__=pe)}var Y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(pe){return pe.code==="Tab"||pe.keyCode===9},X=function(pe){return pe.code==="Escape"||pe.keyCode===27},ce=0,te=function(se){Q(pe,se);function pe(_e){D(this,pe);var de=F(this,(pe.__proto__||Object.getPrototypeOf(pe)).call(this,_e));return de.setOverlayRef=function(ue){de.overlay=ue,de.props.overlayRef&&de.props.overlayRef(ue)},de.setContentRef=function(ue){de.content=ue,de.props.contentRef&&de.props.contentRef(ue)},de.afterClose=function(){var ue=de.props,Ae=ue.appElement,k=ue.ariaHideApp,ie=ue.htmlOpenClassName,me=ue.bodyOpenClassName,K=ue.parentSelector,ee=K&&K().ownerDocument||document;me&&_.remove(ee.body,me),ie&&_.remove(ee.getElementsByTagName("html")[0],ie),k&&ce>0&&(ce-=1,ce===0&&y.show(Ae)),de.props.shouldFocusAfterRender&&(de.props.shouldReturnFocusAfterClose?(c.returnFocus(de.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),de.props.onAfterClose&&de.props.onAfterClose(),R.default.deregister(de)},de.open=function(){de.beforeOpen(),de.state.afterOpen&&de.state.beforeClose?(clearTimeout(de.closeTimer),de.setState({beforeClose:!1})):(de.props.shouldFocusAfterRender&&(c.setupScopedFocus(de.node),c.markForFocusLater()),de.setState({isOpen:!0},function(){de.openAnimationFrame=requestAnimationFrame(function(){de.setState({afterOpen:!0}),de.props.isOpen&&de.props.onAfterOpen&&de.props.onAfterOpen({overlayEl:de.overlay,contentEl:de.content})})}))},de.close=function(){de.props.closeTimeoutMS>0?de.closeWithTimeout():de.closeWithoutTimeout()},de.focusContent=function(){return de.content&&!de.contentHasFocus()&&de.content.focus({preventScroll:!0})},de.closeWithTimeout=function(){var ue=Date.now()+de.props.closeTimeoutMS;de.setState({beforeClose:!0,closesAt:ue},function(){de.closeTimer=setTimeout(de.closeWithoutTimeout,de.state.closesAt-Date.now())})},de.closeWithoutTimeout=function(){de.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},de.afterClose)},de.handleKeyDown=function(ue){U(ue)&&(0,h.default)(de.content,ue),de.props.shouldCloseOnEsc&&X(ue)&&(ue.stopPropagation(),de.requestClose(ue))},de.handleOverlayOnClick=function(ue){de.shouldClose===null&&(de.shouldClose=!0),de.shouldClose&&de.props.shouldCloseOnOverlayClick&&(de.ownerHandlesClose()?de.requestClose(ue):de.focusContent()),de.shouldClose=null},de.handleContentOnMouseUp=function(){de.shouldClose=!1},de.handleOverlayOnMouseDown=function(ue){!de.props.shouldCloseOnOverlayClick&&ue.target==de.overlay&&ue.preventDefault()},de.handleContentOnClick=function(){de.shouldClose=!1},de.handleContentOnMouseDown=function(){de.shouldClose=!1},de.requestClose=function(ue){return de.ownerHandlesClose()&&de.props.onRequestClose(ue)},de.ownerHandlesClose=function(){return de.props.onRequestClose},de.shouldBeClosed=function(){return!de.state.isOpen&&!de.state.beforeClose},de.contentHasFocus=function(){return document.activeElement===de.content||de.content.contains(document.activeElement)},de.buildClassName=function(ue,Ae){var k=(typeof Ae>"u"?"undefined":r(Ae))==="object"?Ae:{base:Y[ue],afterOpen:Y[ue]+"--after-open",beforeClose:Y[ue]+"--before-close"},ie=k.base;return de.state.afterOpen&&(ie=ie+" "+k.afterOpen),de.state.beforeClose&&(ie=ie+" "+k.beforeClose),typeof Ae=="string"&&Ae?ie+" "+Ae:ie},de.attributesFromObject=function(ue,Ae){return Object.keys(Ae).reduce(function(k,ie){return k[ue+"-"+ie]=Ae[ie],k},{})},de.state={afterOpen:!1,beforeClose:!1},de.shouldClose=null,de.moveFromContentToOverlay=null,de}return i(pe,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(de,ue){this.props.isOpen&&!de.isOpen?this.open():!this.props.isOpen&&de.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!ue.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var de=this.props,ue=de.appElement,Ae=de.ariaHideApp,k=de.htmlOpenClassName,ie=de.bodyOpenClassName,me=de.parentSelector,K=me&&me().ownerDocument||document;ie&&_.add(K.body,ie),k&&_.add(K.getElementsByTagName("html")[0],k),Ae&&(ce+=1,y.hide(ue)),R.default.register(this)}},{key:"render",value:function(){var de=this.props,ue=de.id,Ae=de.className,k=de.overlayClassName,ie=de.defaultStyles,me=de.children,K=Ae?{}:ie.content,ee=k?{}:ie.overlay;if(this.shouldBeClosed())return null;var ge={ref:this.setOverlayRef,className:this.buildClassName("overlay",k),style:n({},ee,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Re=n({id:ue,ref:this.setContentRef,style:n({},K,this.props.style.content),className:this.buildClassName("content",Ae),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),Ze=this.props.contentElement(Re,me);return this.props.overlayElement(ge,Ze)}}]),pe}(a.Component);te.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},te.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(b.default),s.default.instanceOf(S.SafeHTMLCollection),s.default.instanceOf(S.SafeNodeList),s.default.arrayOf(s.default.instanceOf(b.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=te,e.exports=t.default}(O_,O_.exports)),O_.exports}function KK(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function GK(e){function t(n){var r=this.constructor.getDerivedStateFromProps(e,n);return r??null}this.setState(t.bind(this))}function WK(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}KK.__suppressDeprecationWarning=!0;GK.__suppressDeprecationWarning=!0;WK.__suppressDeprecationWarning=!0;function TAe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,r=null,i=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?i="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var a=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=KK,t.componentWillReceiveProps=GK),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=WK;var s=t.componentDidUpdate;t.componentDidUpdate=function(c,d,h){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;s.call(this,c,d,m)}}return e}const RAe=Object.freeze(Object.defineProperty({__proto__:null,polyfill:TAe},Symbol.toStringTag,{value:"Module"})),AAe=RU(RAe);var Y5;function PAe(){if(Y5)return Sl;Y5=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.bodyOpenClassName=Sl.portalClassName=void 0;var e=Object.assign||function(X){for(var ce=1;ce<arguments.length;ce++){var te=arguments[ce];for(var se in te)Object.prototype.hasOwnProperty.call(te,se)&&(X[se]=te[se])}return X},t=function(){function X(ce,te){for(var se=0;se<te.length;se++){var pe=te[se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty(ce,pe.key,pe)}}return function(ce,te,se){return te&&X(ce.prototype,te),se&&X(ce,se),ce}}(),n=kh(),r=S(n),i=PP(),a=S(i),o=VH(),s=S(o),l=CAe(),c=S(l),d=HK(),h=_(d),m=IL(),y=S(m),v=AAe;function _(X){if(X&&X.__esModule)return X;var ce={};if(X!=null)for(var te in X)Object.prototype.hasOwnProperty.call(X,te)&&(ce[te]=X[te]);return ce.default=X,ce}function S(X){return X&&X.__esModule?X:{default:X}}function b(X,ce){if(!(X instanceof ce))throw new TypeError("Cannot call a class as a function")}function x(X,ce){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce&&(typeof ce=="object"||typeof ce=="function")?ce:X}function R(X,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ce);X.prototype=Object.create(ce&&ce.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),ce&&(Object.setPrototypeOf?Object.setPrototypeOf(X,ce):X.__proto__=ce)}var P=Sl.portalClassName="ReactModalPortal",O=Sl.bodyOpenClassName="ReactModal__Body--open",D=m.canUseDOM&&a.default.createPortal!==void 0,F=function(ce){return document.createElement(ce)},Q=function(){return D?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer};function Y(X){return X()}var U=function(X){R(ce,X);function ce(){var te,se,pe,_e;b(this,ce);for(var de=arguments.length,ue=Array(de),Ae=0;Ae<de;Ae++)ue[Ae]=arguments[Ae];return _e=(se=(pe=x(this,(te=ce.__proto__||Object.getPrototypeOf(ce)).call.apply(te,[this].concat(ue))),pe),pe.removePortal=function(){!D&&a.default.unmountComponentAtNode(pe.node);var k=Y(pe.props.parentSelector);k&&k.contains(pe.node)?k.removeChild(pe.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},pe.portalRef=function(k){pe.portal=k},pe.renderPortal=function(k){var ie=Q(),me=ie(pe,r.default.createElement(c.default,e({defaultStyles:ce.defaultStyles},k)),pe.node);pe.portalRef(me)},se),x(pe,_e)}return t(ce,[{key:"componentDidMount",value:function(){if(m.canUseDOM){D||(this.node=F("div")),this.node.className=this.props.portalClassName;var se=Y(this.props.parentSelector);se.appendChild(this.node),!D&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(se){var pe=Y(se.parentSelector),_e=Y(this.props.parentSelector);return{prevParent:pe,nextParent:_e}}},{key:"componentDidUpdate",value:function(se,pe,_e){if(m.canUseDOM){var de=this.props,ue=de.isOpen,Ae=de.portalClassName;se.portalClassName!==Ae&&(this.node.className=Ae);var k=_e.prevParent,ie=_e.nextParent;ie!==k&&(k.removeChild(this.node),ie.appendChild(this.node)),!(!se.isOpen&&!ue)&&!D&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!m.canUseDOM||!this.node||!this.portal)){var se=this.portal.state,pe=Date.now(),_e=se.isOpen&&this.props.closeTimeoutMS&&(se.closesAt||pe+this.props.closeTimeoutMS);_e?(se.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,_e-pe)):this.removePortal()}}},{key:"render",value:function(){if(!m.canUseDOM||!D)return null;!this.node&&D&&(this.node=F("div"));var se=Q();return se(r.default.createElement(c.default,e({ref:this.portalRef,defaultStyles:ce.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(se){h.setElement(se)}}]),ce}(n.Component);return U.propTypes={isOpen:s.default.bool.isRequired,style:s.default.shape({content:s.default.object,overlay:s.default.object}),portalClassName:s.default.string,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,className:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),overlayClassName:s.default.oneOfType([s.default.string,s.default.shape({base:s.default.string.isRequired,afterOpen:s.default.string.isRequired,beforeClose:s.default.string.isRequired})]),appElement:s.default.oneOfType([s.default.instanceOf(y.default),s.default.instanceOf(m.SafeHTMLCollection),s.default.instanceOf(m.SafeNodeList),s.default.arrayOf(s.default.instanceOf(y.default))]),onAfterOpen:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,ariaHideApp:s.default.bool,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,parentSelector:s.default.func,aria:s.default.object,data:s.default.object,role:s.default.string,contentLabel:s.default.string,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func},U.defaultProps={isOpen:!1,portalClassName:P,bodyOpenClassName:O,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(ce,te){return r.default.createElement("div",ce,te)},contentElement:function(ce,te){return r.default.createElement("div",ce,te)}},U.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,v.polyfill)(U),Sl.default=U,Sl}var e8;function OAe(){return e8||(e8=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=PAe(),r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}t.default=r.default,e.exports=t.default}(P_,P_.exports)),P_.exports}var LAe=OAe();const QK=Ir(LAe),IAe="_modal_s2w5u_1",MAe="_overlay_s2w5u_14",t8={modal:IAe,overlay:MAe};QK.setAppElement("#root");const Bb=({className:e,overlayClassName:t,...n})=>B.jsx(QK,{className:Rr(t8.modal,e),overlayClassName:Rr(t8.overlay,t),...n}),DAe="_container_1buxd_1",kAe="_content_1buxd_18",NAe="_podOptions_1buxd_18",FAe="_tabs_1buxd_18",jAe="_tabContent_1buxd_38",$Ae="_footer_1buxd_41",BAe="_email_1buxd_41",Gc={container:DAe,content:kAe,podOptions:NAe,tabs:FAe,tabContent:jAe,footer:$Ae,email:BAe},xR=({issuer:e,registration:t,children:n})=>{const r=nc();return B.jsx(bme,{secondary:!0,href:t,target:"_blank",rel:"noopener noreferrer",onClick:()=>{r(dw.setLastSelectedIssuer(e))},"data-cy":"pod-provider-signup-link",children:n??new URL(e).hostname})},UAe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=kn(),{i18n:r,_:i}=Qr(),o=$u(t).name||n;return V.useMemo(()=>[{id:"show-options",label:r._({id:"mOHsO6"}),content:B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"GipwRZ",values:{communityName:o}}),B.jsx("ul",{children:e.filter(l=>l.registration).map(l=>B.jsx("li",{children:B.jsx(xR,{...l})},l.issuer))})]})},{id:"choose-for-me",label:r._({id:"6BXxLh"}),content:B.jsxs(B.Fragment,{children:[B.jsx(xR,{...e.find(l=>l.recommended),children:B.jsx(_t,{id:"kNJ1eb"})}),B.jsx("br",{}),B.jsx(_t,{id:"OSMhQH",components:{0:B.jsx("a",{href:"https://github.com/solid-contrib/pivot",target:"_blank",rel:"noopener noreferrer"})}})]})},{id:"more-control",label:r._({id:"BvOhbj"}),content:B.jsxs(B.Fragment,{children:[B.jsx("p",{children:B.jsx(_t,{id:"CIxMWI",components:{0:B.jsx("b",{}),1:B.jsx("a",{href:"https://github.com/communitysolidserver/communitysolidserver#-running-the-server",target:"_blank",rel:"noopener noreferrer"})}})}),B.jsx("p",{children:B.jsx("i",{children:B.jsx(_t,{id:"vXZPG5",components:{0:B.jsx("a",{href:"https://solidproject.org/self-hosting/css",target:"_blank",rel:"noopener noreferrer"})}})})}),B.jsx("hr",{}),B.jsx("p",{children:B.jsx(_t,{id:"tz2jxv",components:{0:B.jsx("b",{}),1:B.jsx("a",{href:"https://solidproject.org/TR/protocol#webid",target:"_blank",rel:"noopener noreferrer"})}})}),B.jsx("p",{children:B.jsx(_t,{id:"eIoTjd",components:{0:B.jsx("i",{})}})}),B.jsx("ul",{children:e.filter(({server:l,registration:c})=>c&&l==="CSS").map(l=>B.jsx("li",{children:B.jsx(xR,{...l})},l.issuer))}),B.jsx("p",{children:B.jsx(_t,{id:"j9mD48"})}),B.jsx("p",{children:B.jsx(_t,{id:"hve6lN"})})]})}],[o,e,i])},qAe=()=>{var d;const[e,t]=V.useState(!1),[n,r]=V.useState(),{communityId:i,defaultCommunityName:a}=kn(),s=$u(i).name||a,l=h=>{r(h.target.value)},c=UAe();return B.jsxs(B.Fragment,{children:[B.jsx(tr,{primary:!0,onClick:()=>t(!0),children:B.jsx(_t,{id:"0wdd7X"})}),B.jsx(Bb,{isOpen:e,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>t(!1),children:B.jsxs("div",{className:Gc.container,children:[B.jsxs("div",{className:Gc.content,children:[B.jsx(_t,{id:"wDQNDO",values:{communityName:s},components:{0:B.jsx("a",{href:"https://solidproject.org/users/get-a-pod",target:"_blank",rel:"noopener noreferrer"})}}),B.jsxs("div",{className:Gc.podOptions,children:[B.jsx("div",{className:Gc.tabs,children:c.map(h=>B.jsxs(V.Fragment,{children:[B.jsx("input",{type:"radio",id:h.id,value:h.id,checked:n===h.id,onChange:l}),B.jsx("label",{htmlFor:h.id,children:h.label})]},h.id))}),B.jsx("div",{className:Gc.tabContent,children:B.jsx("div",{children:(d=c.find(h=>h.id===n))==null?void 0:d.content})})]})]}),B.jsxs("div",{className:Gc.footer,children:[B.jsx(_t,{id:"CLrwxz"})," ",B.jsx(_t,{id:"PHGSgA",components:{0:B.jsx("a",{href:"https://matrix.to/#/#solidcouch:matrix.org",target:"_blank",rel:"noopener noreferrer"}),1:B.jsx("i",{className:Gc.email})}})]})]})})]})},zAe=async e=>{const{data:t}=await BH(e);return Cr.createLdoDataset(t).usingType(EH).fromSubject(e).oidcIssuer.map(r=>r["@id"]??[]).flat()},HAe=async e=>{try{const t=await zAe(e);if(t[0]===void 0)throw new Error("OIDC issuer not found");return t[0]}catch{return e}},VAe=(e,t)=>{var r;const n=new URL(e);return(r=t.find(i=>i.issuer.includes(n.host)))==null?void 0:r.issuer},ZK=e=>{const t=e.trim();return t.startsWith("http")?t:`https://${t}`},KAe=(e,t)=>{const n=ZK(e);return VAe(n,t)??n},GAe=async(e,t)=>{const n=ZK(e),r=await HAe(n);return KAe(r,t)??r},WAe="_providers_kq9gh_1",QAe="_webIdForm_kq9gh_6",n8={providers:WAe,webIdForm:QAe},ZAe=()=>{const{oidcIssuers:e,communityId:t,defaultCommunityName:n}=kn(),[r,i]=V.useState(!1),[a,o]=V.useState(!1),{i18n:s,_:l}=Qr(),c=jr(qq),d=e.some(b=>b.issuer===c),{register:h,handleSubmit:m}=Ns({defaultValues:{webIdOrIssuer:d?"":c}}),y=nc(),v=$u(t),_=async b=>{const x=c??"";y(dw.setLastSelectedIssuer(b));try{await kne({oidcIssuer:b,redirectUrl:new URL("/",window.location.href).toString(),clientName:v.name||n,clientId:new URL("/clientid.jsonld",window.location.href).toJSON()})}catch(R){if(y(dw.setLastSelectedIssuer(x)),R instanceof TypeError){const P=R.message,O=R.toString();alert(s._({id:"Pygpzd",values:{oidcIssuer:b,message:P,errorString:O}}))}else alert(s._({id:"PS1p9R",values:{e:R}}))}},S=m(async({webIdOrIssuer:b})=>{try{const x=await GAe(b,e);await _(x)}catch(x){alert(s._({id:"PS1p9R",values:{e:x}}))}});return B.jsxs(B.Fragment,{children:[B.jsx(tr,{secondary:!0,onClick:()=>i(!0),children:B.jsx(_t,{id:"5lWFkC"})}),B.jsx(Bb,{isOpen:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:()=>i(!1),children:B.jsxs("div",{className:n8.providers,children:[B.jsx(_t,{id:"4Ddjk6"}),c&&B.jsx(tr,{primary:!0,onClick:()=>_(c),"data-cy":"pod-provider-button",children:c.split("/").slice(2).filter(b=>b).join("/")}),e.filter(b=>b.issuer!==c).filter(b=>b.featured||a).map(({issuer:b})=>B.jsx(tr,{secondary:!0,onClick:()=>_(b),children:new URL(b).hostname},b)),!a&&B.jsx(tr,{tertiary:!0,onClick:()=>o(!0),children:B.jsx(_t,{id:"f8jrkd"})}),B.jsx(_t,{id:"Ud7x+A"}),B.jsxs("form",{className:n8.webIdForm,onSubmit:S,children:[B.jsx("input",{type:"text",placeholder:s._({id:"hwTKH1"}),...h("webIdOrIssuer",{required:"required"})}),B.jsx(tr,{primary:!0,type:"submit",children:B.jsx(_t,{id:"xGVfLh"})})]})]})})]})},JAe="_wrapper_1kkei_1",XAe="_mainDescription_1kkei_10",YAe="_pun_1kkei_16",ePe="_actions_1kkei_20",tPe="_logo_1kkei_30",nPe="_spacer_1kkei_35",rPe="_footer_1kkei_38",iPe="_footerInfo_1kkei_41",aPe="_attribution_1kkei_47",pu={wrapper:JAe,mainDescription:XAe,pun:YAe,actions:ePe,logo:tPe,spacer:nPe,footer:rPe,footerInfo:iPe,attribution:aPe},oPe=()=>{const{communityId:e}=kn(),t=jr(Ao),n=$u(e,t,jh),r=V.useMemo(()=>B.jsx(tz,{className:pu.logo,logo:n.logo[0],focusedLogo:n.logo[1]}),[n.logo]),i=V.useMemo(()=>n.pun?B.jsx("section",{className:pu.pun,children:n.pun}):void 0,[n.pun]),a=V.useMemo(()=>n.about?B.jsx("section",{className:pu.mainDescription,children:n.about}):null,[n.about]),o=i?B.jsxs(B.Fragment,{children:[i,r,a]}):B.jsxs(B.Fragment,{children:[a,r]});return B.jsxs("div",{className:pu.wrapper,children:[o,B.jsxs("section",{className:pu.actions,children:[B.jsx(qAe,{}),B.jsx(ZAe,{})]}),B.jsx("div",{className:pu.spacer}),B.jsxs("footer",{className:pu.footer,children:[B.jsx("div",{className:pu.footerInfo,children:B.jsx(_t,{id:"Bn8bAf"})}),B.jsx("div",{className:pu.attribution,children:B.jsx(_t,{id:"yXo/Y0",values:{version:gX,commitHashShort:mX},components:{0:B.jsx("a",{href:"https://github.com/solidcouch"}),1:B.jsx("a",{href:`https://github.com/solidcouch/solidcouch/commit/${I0}`})}})})]})]})},sPe=()=>{NTe();const e=jr($h);return e.isLoggedIn===void 0?B.jsx(Ro,{children:B.jsx(_t,{id:"2FwEm8"})}):e.isLoggedIn===!1?B.jsx(oPe,{}):B.jsx(mAe,{})},uPe="_container_1ml33_1",lPe={container:uPe},ML=({webId:e,link:t})=>{const{communityId:n}=kn(),[r]=Xo(e,n),i=B.jsxs("div",{className:lPe.container,children:[B.jsx(ab,{photo:r.photo,size:1}),r==null?void 0:r.name]});return t?B.jsx(Ko,{to:`/profile/${encodeURIComponent(e)}`,children:i}):i};var ah=function(e){return e.confirmed="confirmed",e.requestSent="request_sent",e.requestReceived="request_received",e}({});const JK=e=>{const{quads:t,variables:n,isLoading:r}=ya(V.useMemo(()=>({query:r_e,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const s=new Ls(t);return(n.otherPerson??[]).map(l=>{const c=ic(l),d=s.getObjects(l,dO.seeAlso,c),h=s.getQuads(l,Ql.knows,e,c),m=d.flatMap(y=>s.getQuads(l,Ql.knows,e,y));return{webId:l,status:h.length+m.length>0?"confirmed":"request_sent"}})},[e,t,n.otherPerson]),[a,o]=cPe(e);return V.useMemo(()=>[i.concat(a),{isLoading:r},o],[r,i,o,a])},cPe=e=>{const{quads:t,variables:n,isLoading:r}=ya(V.useMemo(()=>({query:i_e,variables:{person:[e]},fetch}),[e])),i=V.useMemo(()=>{const a=n.inviteNotification??[],o=Cr.createLdoDataset(t).usingType(TH);return a.map(s=>o.fromSubject(s)).filter(s=>{var l,c,d,h,m,y,v,_;return((c=(l=s.object)==null?void 0:l.subject)==null?void 0:c["@id"])===((d=s.actor)==null?void 0:d["@id"])&&((m=(h=s.object)==null?void 0:h.object)==null?void 0:m["@id"])===((y=s.target)==null?void 0:y["@id"])&&((_=(v=s.object)==null?void 0:v.relationship)==null?void 0:_["@id"])==="knows"}).map(s=>{var l;return{webId:(l=s.actor)==null?void 0:l["@id"],status:"request_received",notification:s["@id"],invitation:s.content}})},[t,n.inviteNotification]);return V.useMemo(()=>[i,{isLoading:r}],[i,r])},fPe=()=>{const e=XK(),t=YK(),n=dPe();return V.useCallback(async({me:r,other:i,hospexContainer:a,inbox:o,message:s})=>{await e({me:r,other:i}),await n({inbox:o,me:r,other:i,message:s}),await t({person:i,hospexContainer:a})},[e,n,t])},dPe=()=>{const e=Jo(TH);return V.useCallback(async({inbox:t,me:n,other:r,message:i})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:{"@id":"Invite"},content:i,actor:{"@id":n},object:{type:{"@id":"Relationship"},subject:{"@id":n},relationship:{"@id":"knows"},object:{"@id":r}},target:{"@id":r},updated:new Date().toISOString()}})},[e])},hPe=()=>{const e=Cb();return V.useCallback(async({notification:t})=>{await e.mutateAsync({uri:t})},[e])},pPe=()=>{const e=Cb(),t=XK(),n=YK();return V.useCallback(async({me:r,other:i,notification:a,hospexContainer:o})=>{await t({me:r,other:i}),await e.mutateAsync({uri:a}),await n({person:i,hospexContainer:o})},[t,e,n])},XK=()=>{const e=to();return V.useCallback(async({me:t,other:n})=>{await e.mutateAsync({uri:t,patch:`
        @prefix foaf: <http://xmlns.com/foaf/0.1/>.
        @prefix solid: <http://www.w3.org/ns/solid/terms#>.
        _:mutation a solid:InsertDeletePatch;
          solid:inserts {
            <${t}> foaf:knows <${n}>.
          } .`})},[e])},YK=()=>{const e=$b();return V.useCallback(async({person:t,hospexContainer:n})=>{await e(n,[{operation:"add",access:[Wa.Read],default:!0,agents:[t]}])},[e])},gPe="_contact_axrjx_1",mPe="_status_axrjx_10",yPe="_contactList_axrjx_14",Rm={contact:gPe,status:mPe,contactList:yPe},vPe=({webId:e})=>{const t=mi(),[n]=JK(t.webId);if(!n)return B.jsx(Ro,{children:B.jsx(_t,{id:"Z3FXyt"})});const r=n.find(i=>i.webId===e);return r?r.status===ah.confirmed?B.jsx(_t,{id:"dJsK6G"}):r.status===ah.requestSent?B.jsx(_t,{id:"uwiVz0"}):r.status===ah.requestReceived?B.jsx(eG,{contact:r}):null:B.jsx(_Pe,{webId:e})},eG=({contact:e,children:t})=>{const{i18n:n,_:r}=Qr(),{communityId:i}=kn(),[a,o]=V.useState(!1),s=mi(),l=pPe(),c=hPe(),d=ey(s.webId,i),h=async()=>{const y=fi(d.personalHospexDocuments[0]);if(!y)throw new Error(n._({id:"NLJ18A"}));await l({me:s.webId,other:e.webId,notification:e.notification,hospexContainer:y}),o(!1)},m=async()=>{await c({notification:e.notification}),o(!1)};return B.jsxs(B.Fragment,{children:[B.jsx(tr,{primary:!0,onClick:()=>o(!0),children:t??B.jsx(_t,{id:"piu7ZA"})}),B.jsxs(Bb,{isOpen:a,onRequestClose:()=>o(!1),children:[B.jsx("div",{children:e.invitation}),B.jsx(tr,{primary:!0,onClick:h,disabled:d.personalHospexDocuments.length===0,children:B.jsx(_t,{id:"g3UF2V"})}),B.jsx(tr,{secondary:!0,onClick:m,children:B.jsx(_t,{id:"gbbkE7"})})]})]})},_Pe=({webId:e})=>{const{i18n:t,_:n}=Qr(),{communityId:r}=kn(),[i,a]=V.useState(!1),o=mi(),s=fPe(),l=ey(o.webId,r),c=ey(e,r),d=async({invitation:m})=>{const y=fi(l.personalHospexDocuments[0]);if(!y)throw new Error(t._({id:"NLJ18A"}));const v=fi(c.inboxes[0]);if(!v)throw new Error(t._({id:"sRGBFr"}));await s({me:o.webId,other:e,message:m,hospexContainer:y,inbox:v}),a(!1)},h=async()=>{a(!1)};return B.jsxs(B.Fragment,{children:[B.jsx(tr,{secondary:!0,onClick:()=>{a(!0)},disabled:l.personalHospexDocuments.length===0||c.inboxes.length===0,children:B.jsx(_t,{id:"meH4FD"})}),B.jsx(Bb,{isOpen:i,onRequestClose:()=>a(!1),children:B.jsx(wPe,{onSubmit:d,onCancel:h})})]})},wPe=({onSubmit:e,onCancel:t})=>{const{i18n:n,_:r}=Qr(),{register:i,handleSubmit:a}=Ns({defaultValues:{invitation:n._({id:"8kXsjC"})}}),o=a(async s=>{await e(s)});return B.jsxs("div",{children:[B.jsx("h1",{children:B.jsx(_t,{id:"TFYtVq"})}),B.jsx("div",{children:B.jsx(_t,{id:"IYqOgL"})}),B.jsxs("form",{onSubmit:o,onReset:t,children:[B.jsx("textarea",{...i("invitation")}),B.jsx(tr,{primary:!0,type:"submit",children:B.jsx(_t,{id:"BajMQF"})}),B.jsx(tr,{secondary:!0,type:"reset",children:B.jsx(_t,{id:"dEgA5A"})})]})]})},bPe=()=>{const e=DP().id,t=mi(),[n]=JK(e);return t.webId?n?B.jsxs("div",{children:[B.jsx("h1",{children:B.jsx(_t,{id:"/Rg4q2",components:{0:B.jsx(ML,{webId:e,link:!0})}})}),B.jsx("ul",{className:Rm.contactList,"data-cy":"contact-list",children:n.filter(r=>e===t.webId||r.status===ah.confirmed).map(r=>B.jsx("li",{children:B.jsx(SPe,{contact:r})},"notification"in r?r.notification:r.webId))})]}):B.jsx(Ro,{children:B.jsx(_t,{id:"maeAdU"})}):B.jsx(Ro,{children:B.jsx(_t,{id:"qPXQY8"})})},SPe=({contact:e})=>B.jsxs("div",{className:Rm.contact,"data-cy":"contact",children:[B.jsx(ML,{webId:e.webId,link:!0}),B.jsx("span",{className:Rm.spacer}),e.status===ah.requestSent&&B.jsx("span",{className:Rm.status,children:B.jsx(_t,{id:"S48xcO"})}),e.status===ah.requestReceived&&B.jsxs(B.Fragment,{children:[B.jsx(eG,{contact:e,children:B.jsx(_t,{id:"WO3k4H"})}),B.jsx("span",{className:Rm.status,children:B.jsx(_t,{id:"S48xcO"})})]})]});var r8=function(e,t,n){if(e&&"reportValidity"in e){var r=Ut(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},tG=function(e,t){var n=function(i){var a=t.fields[i];a&&a.ref&&"reportValidity"in a.ref?r8(a.ref,i,e):a.refs&&a.refs.forEach(function(o){return r8(o,i,e)})};for(var r in t.fields)n(r)},xPe=function(e,t){t.shouldUseNativeValidation&&tG(e,t);var n={};for(var r in e){var i=Ut(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(EPe(t.names||Object.keys(e),r)){var o=Object.assign({},Ut(n,r));_r(o,"root",a),_r(n,r,o)}else _r(n,r,a)}return n},EPe=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},M_={exports:{}},ER={},gu={},Wc={},CR={},TR={},RR={},i8;function ty(){return i8||(i8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(x){if(super(),!e.IDENTIFIER.test(x))throw new Error("CodeGen: name must be a valid identifier");this.str=x}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class r extends t{constructor(x){super(),this._items=typeof x=="string"?[x]:x}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const x=this._items[0];return x===""||x==='""'}get str(){var x;return(x=this._str)!==null&&x!==void 0?x:this._str=this._items.reduce((R,P)=>`${R}${P}`,"")}get names(){var x;return(x=this._names)!==null&&x!==void 0?x:this._names=this._items.reduce((R,P)=>(P instanceof n&&(R[P.str]=(R[P.str]||0)+1),R),{})}}e._Code=r,e.nil=new r("");function i(b,...x){const R=[b[0]];let P=0;for(;P<x.length;)s(R,x[P]),R.push(b[++P]);return new r(R)}e._=i;const a=new r("+");function o(b,...x){const R=[y(b[0])];let P=0;for(;P<x.length;)R.push(a),s(R,x[P]),R.push(a,y(b[++P]));return l(R),new r(R)}e.str=o;function s(b,x){x instanceof r?b.push(...x._items):x instanceof n?b.push(x):b.push(h(x))}e.addCodeArg=s;function l(b){let x=1;for(;x<b.length-1;){if(b[x]===a){const R=c(b[x-1],b[x+1]);if(R!==void 0){b.splice(x-1,3,R);continue}b[x++]="+"}x++}}function c(b,x){if(x==='""')return b;if(b==='""')return x;if(typeof b=="string")return x instanceof n||b[b.length-1]!=='"'?void 0:typeof x!="string"?`${b.slice(0,-1)}${x}"`:x[0]==='"'?b.slice(0,-1)+x.slice(1):void 0;if(typeof x=="string"&&x[0]==='"'&&!(b instanceof n))return`"${b}${x.slice(1)}`}function d(b,x){return x.emptyStr()?b:b.emptyStr()?x:o`${b}${x}`}e.strConcat=d;function h(b){return typeof b=="number"||typeof b=="boolean"||b===null?b:y(Array.isArray(b)?b.join(","):b)}function m(b){return new r(y(b))}e.stringify=m;function y(b){return JSON.stringify(b).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function v(b){return typeof b=="string"&&e.IDENTIFIER.test(b)?new r(`.${b}`):i`[${b}]`}e.getProperty=v;function _(b){if(typeof b=="string"&&e.IDENTIFIER.test(b))return new r(`${b}`);throw new Error(`CodeGen: invalid export name: ${b}, use explicit $id name mapping`)}e.getEsmExportName=_;function S(b){return new r(b.toString())}e.regexpCode=S}(RR)),RR}var AR={},a8;function o8(){return a8||(a8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=ty();class n extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var r;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(r||(e.UsedValueState=r={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class i{constructor({prefixes:c,parent:d}={}){this._names={},this._prefixes=c,this._parent=d}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const d=this._names[c]||this._nameGroup(c);return`${c}${d.index++}`}_nameGroup(c){var d,h;if(!((h=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=i;class a extends t.Name{constructor(c,d){super(d),this.prefix=c}setValue(c,{property:d,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(d)}[${h}]`}}e.ValueScopeName=a;const o=(0,t._)`\n`;class s extends i{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?o:t.nil}}get(){return this._scope}name(c){return new a(c,this._newName(c))}value(c,d){var h;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(c),{prefix:y}=m,v=(h=d.key)!==null&&h!==void 0?h:d.ref;let _=this._values[y];if(_){const x=_.get(v);if(x)return x}else _=this._values[y]=new Map;_.set(v,m);const S=this._scope[y]||(this._scope[y]=[]),b=S.length;return S[b]=d.ref,m.setValue(d,{property:y,itemIndex:b}),m}getValue(c,d){const h=this._values[c];if(h)return h.get(d)}scopeRefs(c,d=this._values){return this._reduceValues(d,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,d,h){return this._reduceValues(c,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},d,h)}_reduceValues(c,d,h={},m){let y=t.nil;for(const v in c){const _=c[v];if(!_)continue;const S=h[v]=h[v]||new Map;_.forEach(b=>{if(S.has(b))return;S.set(b,r.Started);let x=d(b);if(x){const R=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,t._)`${y}${R} ${b} = ${x};${this.opts._n}`}else if(x=m==null?void 0:m(b))y=(0,t._)`${y}${x}${this.opts._n}`;else throw new n(b);S.set(b,r.Completed)})}return y}}e.ValueScope=s}(AR)),AR}var s8;function In(){return s8||(s8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=ty(),n=o8();var r=ty();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return r.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return r.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return r.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}});var i=o8();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(ee,ge){return this}}class o extends a{constructor(ee,ge,Re){super(),this.varKind=ee,this.name=ge,this.rhs=Re}render({es5:ee,_n:ge}){const Re=ee?n.varKinds.var:this.varKind,Ze=this.rhs===void 0?"":` = ${this.rhs}`;return`${Re} ${this.name}${Ze};`+ge}optimizeNames(ee,ge){if(ee[this.name.str])return this.rhs&&(this.rhs=se(this.rhs,ee,ge)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(ee,ge,Re){super(),this.lhs=ee,this.rhs=ge,this.sideEffects=Re}render({_n:ee}){return`${this.lhs} = ${this.rhs};`+ee}optimizeNames(ee,ge){if(!(this.lhs instanceof t.Name&&!ee[this.lhs.str]&&!this.sideEffects))return this.rhs=se(this.rhs,ee,ge),this}get names(){const ee=this.lhs instanceof t.Name?{}:{...this.lhs.names};return te(ee,this.rhs)}}class l extends s{constructor(ee,ge,Re,Ze){super(ee,Re,Ze),this.op=ge}render({_n:ee}){return`${this.lhs} ${this.op}= ${this.rhs};`+ee}}class c extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`${this.label}:`+ee}}class d extends a{constructor(ee){super(),this.label=ee,this.names={}}render({_n:ee}){return`break${this.label?` ${this.label}`:""};`+ee}}class h extends a{constructor(ee){super(),this.error=ee}render({_n:ee}){return`throw ${this.error};`+ee}get names(){return this.error.names}}class m extends a{constructor(ee){super(),this.code=ee}render({_n:ee}){return`${this.code};`+ee}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(ee,ge){return this.code=se(this.code,ee,ge),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class y extends a{constructor(ee=[]){super(),this.nodes=ee}render(ee){return this.nodes.reduce((ge,Re)=>ge+Re.render(ee),"")}optimizeNodes(){const{nodes:ee}=this;let ge=ee.length;for(;ge--;){const Re=ee[ge].optimizeNodes();Array.isArray(Re)?ee.splice(ge,1,...Re):Re?ee[ge]=Re:ee.splice(ge,1)}return ee.length>0?this:void 0}optimizeNames(ee,ge){const{nodes:Re}=this;let Ze=Re.length;for(;Ze--;){const Pe=Re[Ze];Pe.optimizeNames(ee,ge)||(pe(ee,Pe.names),Re.splice(Ze,1))}return Re.length>0?this:void 0}get names(){return this.nodes.reduce((ee,ge)=>ce(ee,ge.names),{})}}class v extends y{render(ee){return"{"+ee._n+super.render(ee)+"}"+ee._n}}class _ extends y{}class S extends v{}S.kind="else";class b extends v{constructor(ee,ge){super(ge),this.condition=ee}render(ee){let ge=`if(${this.condition})`+super.render(ee);return this.else&&(ge+="else "+this.else.render(ee)),ge}optimizeNodes(){super.optimizeNodes();const ee=this.condition;if(ee===!0)return this.nodes;let ge=this.else;if(ge){const Re=ge.optimizeNodes();ge=this.else=Array.isArray(Re)?new S(Re):Re}if(ge)return ee===!1?ge instanceof b?ge:ge.nodes:this.nodes.length?this:new b(_e(ee),ge instanceof b?[ge]:ge.nodes);if(!(ee===!1||!this.nodes.length))return this}optimizeNames(ee,ge){var Re;if(this.else=(Re=this.else)===null||Re===void 0?void 0:Re.optimizeNames(ee,ge),!!(super.optimizeNames(ee,ge)||this.else))return this.condition=se(this.condition,ee,ge),this}get names(){const ee=super.names;return te(ee,this.condition),this.else&&ce(ee,this.else.names),ee}}b.kind="if";class x extends v{}x.kind="for";class R extends x{constructor(ee){super(),this.iteration=ee}render(ee){return`for(${this.iteration})`+super.render(ee)}optimizeNames(ee,ge){if(super.optimizeNames(ee,ge))return this.iteration=se(this.iteration,ee,ge),this}get names(){return ce(super.names,this.iteration.names)}}class P extends x{constructor(ee,ge,Re,Ze){super(),this.varKind=ee,this.name=ge,this.from=Re,this.to=Ze}render(ee){const ge=ee.es5?n.varKinds.var:this.varKind,{name:Re,from:Ze,to:Pe}=this;return`for(${ge} ${Re}=${Ze}; ${Re}<${Pe}; ${Re}++)`+super.render(ee)}get names(){const ee=te(super.names,this.from);return te(ee,this.to)}}class O extends x{constructor(ee,ge,Re,Ze){super(),this.loop=ee,this.varKind=ge,this.name=Re,this.iterable=Ze}render(ee){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(ee)}optimizeNames(ee,ge){if(super.optimizeNames(ee,ge))return this.iterable=se(this.iterable,ee,ge),this}get names(){return ce(super.names,this.iterable.names)}}class D extends v{constructor(ee,ge,Re){super(),this.name=ee,this.args=ge,this.async=Re}render(ee){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(ee)}}D.kind="func";class F extends y{render(ee){return"return "+super.render(ee)}}F.kind="return";class Q extends v{render(ee){let ge="try"+super.render(ee);return this.catch&&(ge+=this.catch.render(ee)),this.finally&&(ge+=this.finally.render(ee)),ge}optimizeNodes(){var ee,ge;return super.optimizeNodes(),(ee=this.catch)===null||ee===void 0||ee.optimizeNodes(),(ge=this.finally)===null||ge===void 0||ge.optimizeNodes(),this}optimizeNames(ee,ge){var Re,Ze;return super.optimizeNames(ee,ge),(Re=this.catch)===null||Re===void 0||Re.optimizeNames(ee,ge),(Ze=this.finally)===null||Ze===void 0||Ze.optimizeNames(ee,ge),this}get names(){const ee=super.names;return this.catch&&ce(ee,this.catch.names),this.finally&&ce(ee,this.finally.names),ee}}class Y extends v{constructor(ee){super(),this.error=ee}render(ee){return`catch(${this.error})`+super.render(ee)}}Y.kind="catch";class U extends v{render(ee){return"finally"+super.render(ee)}}U.kind="finally";class X{constructor(ee,ge={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...ge,_n:ge.lines?`
`:""},this._extScope=ee,this._scope=new n.Scope({parent:ee}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(ee){return this._scope.name(ee)}scopeName(ee){return this._extScope.name(ee)}scopeValue(ee,ge){const Re=this._extScope.value(ee,ge);return(this._values[Re.prefix]||(this._values[Re.prefix]=new Set)).add(Re),Re}getScopeValue(ee,ge){return this._extScope.getValue(ee,ge)}scopeRefs(ee){return this._extScope.scopeRefs(ee,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(ee,ge,Re,Ze){const Pe=this._scope.toName(ge);return Re!==void 0&&Ze&&(this._constants[Pe.str]=Re),this._leafNode(new o(ee,Pe,Re)),Pe}const(ee,ge,Re){return this._def(n.varKinds.const,ee,ge,Re)}let(ee,ge,Re){return this._def(n.varKinds.let,ee,ge,Re)}var(ee,ge,Re){return this._def(n.varKinds.var,ee,ge,Re)}assign(ee,ge,Re){return this._leafNode(new s(ee,ge,Re))}add(ee,ge){return this._leafNode(new l(ee,e.operators.ADD,ge))}code(ee){return typeof ee=="function"?ee():ee!==t.nil&&this._leafNode(new m(ee)),this}object(...ee){const ge=["{"];for(const[Re,Ze]of ee)ge.length>1&&ge.push(","),ge.push(Re),(Re!==Ze||this.opts.es5)&&(ge.push(":"),(0,t.addCodeArg)(ge,Ze));return ge.push("}"),new t._Code(ge)}if(ee,ge,Re){if(this._blockNode(new b(ee)),ge&&Re)this.code(ge).else().code(Re).endIf();else if(ge)this.code(ge).endIf();else if(Re)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(ee){return this._elseNode(new b(ee))}else(){return this._elseNode(new S)}endIf(){return this._endBlockNode(b,S)}_for(ee,ge){return this._blockNode(ee),ge&&this.code(ge).endFor(),this}for(ee,ge){return this._for(new R(ee),ge)}forRange(ee,ge,Re,Ze,Pe=this.opts.es5?n.varKinds.var:n.varKinds.let){const Ne=this._scope.toName(ee);return this._for(new P(Pe,Ne,ge,Re),()=>Ze(Ne))}forOf(ee,ge,Re,Ze=n.varKinds.const){const Pe=this._scope.toName(ee);if(this.opts.es5){const Ne=ge instanceof t.Name?ge:this.var("_arr",ge);return this.forRange("_i",0,(0,t._)`${Ne}.length`,Xe=>{this.var(Pe,(0,t._)`${Ne}[${Xe}]`),Re(Pe)})}return this._for(new O("of",Ze,Pe,ge),()=>Re(Pe))}forIn(ee,ge,Re,Ze=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(ee,(0,t._)`Object.keys(${ge})`,Re);const Pe=this._scope.toName(ee);return this._for(new O("in",Ze,Pe,ge),()=>Re(Pe))}endFor(){return this._endBlockNode(x)}label(ee){return this._leafNode(new c(ee))}break(ee){return this._leafNode(new d(ee))}return(ee){const ge=new F;if(this._blockNode(ge),this.code(ee),ge.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(F)}try(ee,ge,Re){if(!ge&&!Re)throw new Error('CodeGen: "try" without "catch" and "finally"');const Ze=new Q;if(this._blockNode(Ze),this.code(ee),ge){const Pe=this.name("e");this._currNode=Ze.catch=new Y(Pe),ge(Pe)}return Re&&(this._currNode=Ze.finally=new U,this.code(Re)),this._endBlockNode(Y,U)}throw(ee){return this._leafNode(new h(ee))}block(ee,ge){return this._blockStarts.push(this._nodes.length),ee&&this.code(ee).endBlock(ge),this}endBlock(ee){const ge=this._blockStarts.pop();if(ge===void 0)throw new Error("CodeGen: not in self-balancing block");const Re=this._nodes.length-ge;if(Re<0||ee!==void 0&&Re!==ee)throw new Error(`CodeGen: wrong number of nodes: ${Re} vs ${ee} expected`);return this._nodes.length=ge,this}func(ee,ge=t.nil,Re,Ze){return this._blockNode(new D(ee,ge,Re)),Ze&&this.code(Ze).endFunc(),this}endFunc(){return this._endBlockNode(D)}optimize(ee=1){for(;ee-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(ee){return this._currNode.nodes.push(ee),this}_blockNode(ee){this._currNode.nodes.push(ee),this._nodes.push(ee)}_endBlockNode(ee,ge){const Re=this._currNode;if(Re instanceof ee||ge&&Re instanceof ge)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${ge?`${ee.kind}/${ge.kind}`:ee.kind}"`)}_elseNode(ee){const ge=this._currNode;if(!(ge instanceof b))throw new Error('CodeGen: "else" without "if"');return this._currNode=ge.else=ee,this}get _root(){return this._nodes[0]}get _currNode(){const ee=this._nodes;return ee[ee.length-1]}set _currNode(ee){const ge=this._nodes;ge[ge.length-1]=ee}}e.CodeGen=X;function ce(K,ee){for(const ge in ee)K[ge]=(K[ge]||0)+(ee[ge]||0);return K}function te(K,ee){return ee instanceof t._CodeOrName?ce(K,ee.names):K}function se(K,ee,ge){if(K instanceof t.Name)return Re(K);if(!Ze(K))return K;return new t._Code(K._items.reduce((Pe,Ne)=>(Ne instanceof t.Name&&(Ne=Re(Ne)),Ne instanceof t._Code?Pe.push(...Ne._items):Pe.push(Ne),Pe),[]));function Re(Pe){const Ne=ge[Pe.str];return Ne===void 0||ee[Pe.str]!==1?Pe:(delete ee[Pe.str],Ne)}function Ze(Pe){return Pe instanceof t._Code&&Pe._items.some(Ne=>Ne instanceof t.Name&&ee[Ne.str]===1&&ge[Ne.str]!==void 0)}}function pe(K,ee){for(const ge in ee)K[ge]=(K[ge]||0)-(ee[ge]||0)}function _e(K){return typeof K=="boolean"||typeof K=="number"||K===null?!K:(0,t._)`!${me(K)}`}e.not=_e;const de=ie(e.operators.AND);function ue(...K){return K.reduce(de)}e.and=ue;const Ae=ie(e.operators.OR);function k(...K){return K.reduce(Ae)}e.or=k;function ie(K){return(ee,ge)=>ee===t.nil?ge:ge===t.nil?ee:(0,t._)`${me(ee)} ${K} ${me(ge)}`}function me(K){return K instanceof t.Name?K:(0,t._)`(${K})`}}(TR)),TR}var An={},u8;function Kn(){if(u8)return An;u8=1,Object.defineProperty(An,"__esModule",{value:!0}),An.checkStrictMode=An.getErrorPath=An.Type=An.useFunc=An.setEvaluated=An.evaluatedPropsToName=An.mergeEvaluated=An.eachItem=An.unescapeJsonPointer=An.escapeJsonPointer=An.escapeFragment=An.unescapeFragment=An.schemaRefOrVal=An.schemaHasRulesButRef=An.schemaHasRules=An.checkUnknownRules=An.alwaysValidSchema=An.toHash=void 0;const e=In(),t=ty();function n(O){const D={};for(const F of O)D[F]=!0;return D}An.toHash=n;function r(O,D){return typeof D=="boolean"?D:Object.keys(D).length===0?!0:(i(O,D),!a(D,O.self.RULES.all))}An.alwaysValidSchema=r;function i(O,D=O.schema){const{opts:F,self:Q}=O;if(!F.strictSchema||typeof D=="boolean")return;const Y=Q.RULES.keywords;for(const U in D)Y[U]||P(O,`unknown keyword: "${U}"`)}An.checkUnknownRules=i;function a(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(D[F])return!0;return!1}An.schemaHasRules=a;function o(O,D){if(typeof O=="boolean")return!O;for(const F in O)if(F!=="$ref"&&D.all[F])return!0;return!1}An.schemaHasRulesButRef=o;function s({topSchemaRef:O,schemaPath:D},F,Q,Y){if(!Y){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,e._)`${F}`}return(0,e._)`${O}${D}${(0,e.getProperty)(Q)}`}An.schemaRefOrVal=s;function l(O){return h(decodeURIComponent(O))}An.unescapeFragment=l;function c(O){return encodeURIComponent(d(O))}An.escapeFragment=c;function d(O){return typeof O=="number"?`${O}`:O.replace(/~/g,"~0").replace(/\//g,"~1")}An.escapeJsonPointer=d;function h(O){return O.replace(/~1/g,"/").replace(/~0/g,"~")}An.unescapeJsonPointer=h;function m(O,D){if(Array.isArray(O))for(const F of O)D(F);else D(O)}An.eachItem=m;function y({mergeNames:O,mergeToName:D,mergeValues:F,resultToName:Q}){return(Y,U,X,ce)=>{const te=X===void 0?U:X instanceof e.Name?(U instanceof e.Name?O(Y,U,X):D(Y,U,X),X):U instanceof e.Name?(D(Y,X,U),U):F(U,X);return ce===e.Name&&!(te instanceof e.Name)?Q(Y,te):te}}An.mergeEvaluated={props:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>{O.if((0,e._)`${D} === true`,()=>O.assign(F,!0),()=>O.assign(F,(0,e._)`${F} || {}`).code((0,e._)`Object.assign(${F}, ${D})`))}),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>{D===!0?O.assign(F,!0):(O.assign(F,(0,e._)`${F} || {}`),_(O,F,D))}),mergeValues:(O,D)=>O===!0?!0:{...O,...D},resultToName:v}),items:y({mergeNames:(O,D,F)=>O.if((0,e._)`${F} !== true && ${D} !== undefined`,()=>O.assign(F,(0,e._)`${D} === true ? true : ${F} > ${D} ? ${F} : ${D}`)),mergeToName:(O,D,F)=>O.if((0,e._)`${F} !== true`,()=>O.assign(F,D===!0?!0:(0,e._)`${F} > ${D} ? ${F} : ${D}`)),mergeValues:(O,D)=>O===!0?!0:Math.max(O,D),resultToName:(O,D)=>O.var("items",D)})};function v(O,D){if(D===!0)return O.var("props",!0);const F=O.var("props",(0,e._)`{}`);return D!==void 0&&_(O,F,D),F}An.evaluatedPropsToName=v;function _(O,D,F){Object.keys(F).forEach(Q=>O.assign((0,e._)`${D}${(0,e.getProperty)(Q)}`,!0))}An.setEvaluated=_;const S={};function b(O,D){return O.scopeValue("func",{ref:D,code:S[D.code]||(S[D.code]=new t._Code(D.code))})}An.useFunc=b;var x;(function(O){O[O.Num=0]="Num",O[O.Str=1]="Str"})(x||(An.Type=x={}));function R(O,D,F){if(O instanceof e.Name){const Q=D===x.Num;return F?Q?(0,e._)`"[" + ${O} + "]"`:(0,e._)`"['" + ${O} + "']"`:Q?(0,e._)`"/" + ${O}`:(0,e._)`"/" + ${O}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,e.getProperty)(O).toString():"/"+d(O)}An.getErrorPath=R;function P(O,D,F=O.opts.strictSchema){if(F){if(D=`strict mode: ${D}`,F===!0)throw new Error(D);O.self.logger.warn(D)}}return An.checkStrictMode=P,An}var D_={},l8;function qu(){if(l8)return D_;l8=1,Object.defineProperty(D_,"__esModule",{value:!0});const e=In(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return D_.default=t,D_}var c8;function Fy(){return c8||(c8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=In(),n=Kn(),r=qu();e.keywordError={message:({keyword:S})=>(0,t.str)`must pass "${S}" keyword validation`},e.keyword$DataError={message:({keyword:S,schemaType:b})=>b?(0,t.str)`"${S}" keyword must be ${b} ($data)`:(0,t.str)`"${S}" keyword is invalid ($data)`};function i(S,b=e.keywordError,x,R){const{it:P}=S,{gen:O,compositeRule:D,allErrors:F}=P,Q=h(S,b,x);R??(D||F)?l(O,Q):c(P,(0,t._)`[${Q}]`)}e.reportError=i;function a(S,b=e.keywordError,x){const{it:R}=S,{gen:P,compositeRule:O,allErrors:D}=R,F=h(S,b,x);l(P,F),O||D||c(R,r.default.vErrors)}e.reportExtraError=a;function o(S,b){S.assign(r.default.errors,b),S.if((0,t._)`${r.default.vErrors} !== null`,()=>S.if(b,()=>S.assign((0,t._)`${r.default.vErrors}.length`,b),()=>S.assign(r.default.vErrors,null)))}e.resetErrorsCount=o;function s({gen:S,keyword:b,schemaValue:x,data:R,errsCount:P,it:O}){if(P===void 0)throw new Error("ajv implementation error");const D=S.name("err");S.forRange("i",P,r.default.errors,F=>{S.const(D,(0,t._)`${r.default.vErrors}[${F}]`),S.if((0,t._)`${D}.instancePath === undefined`,()=>S.assign((0,t._)`${D}.instancePath`,(0,t.strConcat)(r.default.instancePath,O.errorPath))),S.assign((0,t._)`${D}.schemaPath`,(0,t.str)`${O.errSchemaPath}/${b}`),O.opts.verbose&&(S.assign((0,t._)`${D}.schema`,x),S.assign((0,t._)`${D}.data`,R))})}e.extendErrors=s;function l(S,b){const x=S.const("err",b);S.if((0,t._)`${r.default.vErrors} === null`,()=>S.assign(r.default.vErrors,(0,t._)`[${x}]`),(0,t._)`${r.default.vErrors}.push(${x})`),S.code((0,t._)`${r.default.errors}++`)}function c(S,b){const{gen:x,validateName:R,schemaEnv:P}=S;P.$async?x.throw((0,t._)`new ${S.ValidationError}(${b})`):(x.assign((0,t._)`${R}.errors`,b),x.return(!1))}const d={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(S,b,x){const{createErrors:R}=S.it;return R===!1?(0,t._)`{}`:m(S,b,x)}function m(S,b,x={}){const{gen:R,it:P}=S,O=[y(P,x),v(S,x)];return _(S,b,O),R.object(...O)}function y({errorPath:S},{instancePath:b}){const x=b?(0,t.str)`${S}${(0,n.getErrorPath)(b,n.Type.Str)}`:S;return[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,x)]}function v({keyword:S,it:{errSchemaPath:b}},{schemaPath:x,parentSchema:R}){let P=R?b:(0,t.str)`${b}/${S}`;return x&&(P=(0,t.str)`${P}${(0,n.getErrorPath)(x,n.Type.Str)}`),[d.schemaPath,P]}function _(S,{params:b,message:x},R){const{keyword:P,data:O,schemaValue:D,it:F}=S,{opts:Q,propertyName:Y,topSchemaRef:U,schemaPath:X}=F;R.push([d.keyword,P],[d.params,typeof b=="function"?b(S):b||(0,t._)`{}`]),Q.messages&&R.push([d.message,typeof x=="function"?x(S):x]),Q.verbose&&R.push([d.schema,D],[d.parentSchema,(0,t._)`${U}${X}`],[r.default.data,O]),Y&&R.push([d.propertyName,Y])}}(CR)),CR}var f8;function CPe(){if(f8)return Wc;f8=1,Object.defineProperty(Wc,"__esModule",{value:!0}),Wc.boolOrEmptySchema=Wc.topBoolOrEmptySchema=void 0;const e=Fy(),t=In(),n=qu(),r={message:"boolean schema is false"};function i(s){const{gen:l,schema:c,validateName:d}=s;c===!1?o(s,!1):typeof c=="object"&&c.$async===!0?l.return(n.default.data):(l.assign((0,t._)`${d}.errors`,null),l.return(!0))}Wc.topBoolOrEmptySchema=i;function a(s,l){const{gen:c,schema:d}=s;d===!1?(c.var(l,!1),o(s)):c.var(l,!0)}Wc.boolOrEmptySchema=a;function o(s,l){const{gen:c,data:d}=s,h={gen:c,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)(h,r,void 0,l)}return Wc}var Oi={},Qc={},d8;function nG(){if(d8)return Qc;d8=1,Object.defineProperty(Qc,"__esModule",{value:!0}),Qc.getRules=Qc.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function n(i){return typeof i=="string"&&t.has(i)}Qc.isJSONType=n;function r(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Qc.getRules=r,Qc}var mu={},h8;function rG(){if(h8)return mu;h8=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.shouldUseRule=mu.shouldUseGroup=mu.schemaHasRulesForType=void 0;function e({schema:r,self:i},a){const o=i.RULES.types[a];return o&&o!==!0&&t(r,o)}mu.schemaHasRulesForType=e;function t(r,i){return i.rules.some(a=>n(r,a))}mu.shouldUseGroup=t;function n(r,i){var a;return r[i.keyword]!==void 0||((a=i.definition.implements)===null||a===void 0?void 0:a.some(o=>r[o]!==void 0))}return mu.shouldUseRule=n,mu}var p8;function Nw(){if(p8)return Oi;p8=1,Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.reportTypeError=Oi.checkDataTypes=Oi.checkDataType=Oi.coerceAndCheckDataType=Oi.getJSONTypes=Oi.getSchemaTypes=Oi.DataType=void 0;const e=nG(),t=rG(),n=Fy(),r=In(),i=Kn();var a;(function(x){x[x.Correct=0]="Correct",x[x.Wrong=1]="Wrong"})(a||(Oi.DataType=a={}));function o(x){const R=s(x.type);if(R.includes("null")){if(x.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!R.length&&x.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');x.nullable===!0&&R.push("null")}return R}Oi.getSchemaTypes=o;function s(x){const R=Array.isArray(x)?x:x?[x]:[];if(R.every(e.isJSONType))return R;throw new Error("type must be JSONType or JSONType[]: "+R.join(","))}Oi.getJSONTypes=s;function l(x,R){const{gen:P,data:O,opts:D}=x,F=d(R,D.coerceTypes),Q=R.length>0&&!(F.length===0&&R.length===1&&(0,t.schemaHasRulesForType)(x,R[0]));if(Q){const Y=v(R,O,D.strictNumbers,a.Wrong);P.if(Y,()=>{F.length?h(x,R,F):S(x)})}return Q}Oi.coerceAndCheckDataType=l;const c=new Set(["string","number","integer","boolean","null"]);function d(x,R){return R?x.filter(P=>c.has(P)||R==="array"&&P==="array"):[]}function h(x,R,P){const{gen:O,data:D,opts:F}=x,Q=O.let("dataType",(0,r._)`typeof ${D}`),Y=O.let("coerced",(0,r._)`undefined`);F.coerceTypes==="array"&&O.if((0,r._)`${Q} == 'object' && Array.isArray(${D}) && ${D}.length == 1`,()=>O.assign(D,(0,r._)`${D}[0]`).assign(Q,(0,r._)`typeof ${D}`).if(v(R,D,F.strictNumbers),()=>O.assign(Y,D))),O.if((0,r._)`${Y} !== undefined`);for(const X of P)(c.has(X)||X==="array"&&F.coerceTypes==="array")&&U(X);O.else(),S(x),O.endIf(),O.if((0,r._)`${Y} !== undefined`,()=>{O.assign(D,Y),m(x,Y)});function U(X){switch(X){case"string":O.elseIf((0,r._)`${Q} == "number" || ${Q} == "boolean"`).assign(Y,(0,r._)`"" + ${D}`).elseIf((0,r._)`${D} === null`).assign(Y,(0,r._)`""`);return;case"number":O.elseIf((0,r._)`${Q} == "boolean" || ${D} === null
              || (${Q} == "string" && ${D} && ${D} == +${D})`).assign(Y,(0,r._)`+${D}`);return;case"integer":O.elseIf((0,r._)`${Q} === "boolean" || ${D} === null
              || (${Q} === "string" && ${D} && ${D} == +${D} && !(${D} % 1))`).assign(Y,(0,r._)`+${D}`);return;case"boolean":O.elseIf((0,r._)`${D} === "false" || ${D} === 0 || ${D} === null`).assign(Y,!1).elseIf((0,r._)`${D} === "true" || ${D} === 1`).assign(Y,!0);return;case"null":O.elseIf((0,r._)`${D} === "" || ${D} === 0 || ${D} === false`),O.assign(Y,null);return;case"array":O.elseIf((0,r._)`${Q} === "string" || ${Q} === "number"
              || ${Q} === "boolean" || ${D} === null`).assign(Y,(0,r._)`[${D}]`)}}}function m({gen:x,parentData:R,parentDataProperty:P},O){x.if((0,r._)`${R} !== undefined`,()=>x.assign((0,r._)`${R}[${P}]`,O))}function y(x,R,P,O=a.Correct){const D=O===a.Correct?r.operators.EQ:r.operators.NEQ;let F;switch(x){case"null":return(0,r._)`${R} ${D} null`;case"array":F=(0,r._)`Array.isArray(${R})`;break;case"object":F=(0,r._)`${R} && typeof ${R} == "object" && !Array.isArray(${R})`;break;case"integer":F=Q((0,r._)`!(${R} % 1) && !isNaN(${R})`);break;case"number":F=Q();break;default:return(0,r._)`typeof ${R} ${D} ${x}`}return O===a.Correct?F:(0,r.not)(F);function Q(Y=r.nil){return(0,r.and)((0,r._)`typeof ${R} == "number"`,Y,P?(0,r._)`isFinite(${R})`:r.nil)}}Oi.checkDataType=y;function v(x,R,P,O){if(x.length===1)return y(x[0],R,P,O);let D;const F=(0,i.toHash)(x);if(F.array&&F.object){const Q=(0,r._)`typeof ${R} != "object"`;D=F.null?Q:(0,r._)`!${R} || ${Q}`,delete F.null,delete F.array,delete F.object}else D=r.nil;F.number&&delete F.integer;for(const Q in F)D=(0,r.and)(D,y(Q,R,P,O));return D}Oi.checkDataTypes=v;const _={message:({schema:x})=>`must be ${x}`,params:({schema:x,schemaValue:R})=>typeof x=="string"?(0,r._)`{type: ${x}}`:(0,r._)`{type: ${R}}`};function S(x){const R=b(x);(0,n.reportError)(R,_)}Oi.reportTypeError=S;function b(x){const{gen:R,data:P,schema:O}=x,D=(0,i.schemaRefOrVal)(x,O,"type");return{gen:R,keyword:"type",data:P,schema:O.type,schemaCode:D,schemaValue:D,parentSchema:O,params:{},it:x}}return Oi}var cm={},g8;function TPe(){if(g8)return cm;g8=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.assignDefaults=void 0;const e=In(),t=Kn();function n(i,a){const{properties:o,items:s}=i.schema;if(a==="object"&&o)for(const l in o)r(i,l,o[l].default);else a==="array"&&Array.isArray(s)&&s.forEach((l,c)=>r(i,c,l.default))}cm.assignDefaults=n;function r(i,a,o){const{gen:s,compositeRule:l,data:c,opts:d}=i;if(o===void 0)return;const h=(0,e._)`${c}${(0,e.getProperty)(a)}`;if(l){(0,t.checkStrictMode)(i,`default is ignored for: ${h}`);return}let m=(0,e._)`${h} === undefined`;d.useDefaults==="empty"&&(m=(0,e._)`${m} || ${h} === null || ${h} === ""`),s.if(m,(0,e._)`${h} = ${(0,e.stringify)(o)}`)}return cm}var Bo={},sr={},m8;function as(){if(m8)return sr;m8=1,Object.defineProperty(sr,"__esModule",{value:!0}),sr.validateUnion=sr.validateArray=sr.usePattern=sr.callValidateCode=sr.schemaProperties=sr.allSchemaProperties=sr.noPropertyInData=sr.propertyInData=sr.isOwnProperty=sr.hasPropFunc=sr.reportMissingProp=sr.checkMissingProp=sr.checkReportMissingProp=void 0;const e=In(),t=Kn(),n=qu(),r=Kn();function i(x,R){const{gen:P,data:O,it:D}=x;P.if(d(P,O,R,D.opts.ownProperties),()=>{x.setParams({missingProperty:(0,e._)`${R}`},!0),x.error()})}sr.checkReportMissingProp=i;function a({gen:x,data:R,it:{opts:P}},O,D){return(0,e.or)(...O.map(F=>(0,e.and)(d(x,R,F,P.ownProperties),(0,e._)`${D} = ${F}`)))}sr.checkMissingProp=a;function o(x,R){x.setParams({missingProperty:R},!0),x.error()}sr.reportMissingProp=o;function s(x){return x.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}sr.hasPropFunc=s;function l(x,R,P){return(0,e._)`${s(x)}.call(${R}, ${P})`}sr.isOwnProperty=l;function c(x,R,P,O){const D=(0,e._)`${R}${(0,e.getProperty)(P)} !== undefined`;return O?(0,e._)`${D} && ${l(x,R,P)}`:D}sr.propertyInData=c;function d(x,R,P,O){const D=(0,e._)`${R}${(0,e.getProperty)(P)} === undefined`;return O?(0,e.or)(D,(0,e.not)(l(x,R,P))):D}sr.noPropertyInData=d;function h(x){return x?Object.keys(x).filter(R=>R!=="__proto__"):[]}sr.allSchemaProperties=h;function m(x,R){return h(R).filter(P=>!(0,t.alwaysValidSchema)(x,R[P]))}sr.schemaProperties=m;function y({schemaCode:x,data:R,it:{gen:P,topSchemaRef:O,schemaPath:D,errorPath:F},it:Q},Y,U,X){const ce=X?(0,e._)`${x}, ${R}, ${O}${D}`:R,te=[[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,F)],[n.default.parentData,Q.parentData],[n.default.parentDataProperty,Q.parentDataProperty],[n.default.rootData,n.default.rootData]];Q.opts.dynamicRef&&te.push([n.default.dynamicAnchors,n.default.dynamicAnchors]);const se=(0,e._)`${ce}, ${P.object(...te)}`;return U!==e.nil?(0,e._)`${Y}.call(${U}, ${se})`:(0,e._)`${Y}(${se})`}sr.callValidateCode=y;const v=(0,e._)`new RegExp`;function _({gen:x,it:{opts:R}},P){const O=R.unicodeRegExp?"u":"",{regExp:D}=R.code,F=D(P,O);return x.scopeValue("pattern",{key:F.toString(),ref:F,code:(0,e._)`${D.code==="new RegExp"?v:(0,r.useFunc)(x,D)}(${P}, ${O})`})}sr.usePattern=_;function S(x){const{gen:R,data:P,keyword:O,it:D}=x,F=R.name("valid");if(D.allErrors){const Y=R.let("valid",!0);return Q(()=>R.assign(Y,!1)),Y}return R.var(F,!0),Q(()=>R.break()),F;function Q(Y){const U=R.const("len",(0,e._)`${P}.length`);R.forRange("i",0,U,X=>{x.subschema({keyword:O,dataProp:X,dataPropType:t.Type.Num},F),R.if((0,e.not)(F),Y)})}}sr.validateArray=S;function b(x){const{gen:R,schema:P,keyword:O,it:D}=x;if(!Array.isArray(P))throw new Error("ajv implementation error");if(P.some(U=>(0,t.alwaysValidSchema)(D,U))&&!D.opts.unevaluated)return;const Q=R.let("valid",!1),Y=R.name("_valid");R.block(()=>P.forEach((U,X)=>{const ce=x.subschema({keyword:O,schemaProp:X,compositeRule:!0},Y);R.assign(Q,(0,e._)`${Q} || ${Y}`),x.mergeValidEvaluated(ce,Y)||R.if((0,e.not)(Q))})),x.result(Q,()=>x.reset(),()=>x.error(!0))}return sr.validateUnion=b,sr}var y8;function RPe(){if(y8)return Bo;y8=1,Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.validateKeywordUsage=Bo.validSchemaType=Bo.funcKeywordCode=Bo.macroKeywordCode=void 0;const e=In(),t=qu(),n=as(),r=Fy();function i(m,y){const{gen:v,keyword:_,schema:S,parentSchema:b,it:x}=m,R=y.macro.call(x.self,S,b,x),P=c(v,_,R);x.opts.validateSchema!==!1&&x.self.validateSchema(R,!0);const O=v.name("valid");m.subschema({schema:R,schemaPath:e.nil,errSchemaPath:`${x.errSchemaPath}/${_}`,topSchemaRef:P,compositeRule:!0},O),m.pass(O,()=>m.error(!0))}Bo.macroKeywordCode=i;function a(m,y){var v;const{gen:_,keyword:S,schema:b,parentSchema:x,$data:R,it:P}=m;l(P,y);const O=!R&&y.compile?y.compile.call(P.self,b,x,P):y.validate,D=c(_,S,O),F=_.let("valid");m.block$data(F,Q),m.ok((v=y.valid)!==null&&v!==void 0?v:F);function Q(){if(y.errors===!1)X(),y.modifying&&o(m),ce(()=>m.error());else{const te=y.async?Y():U();y.modifying&&o(m),ce(()=>s(m,te))}}function Y(){const te=_.let("ruleErrs",null);return _.try(()=>X((0,e._)`await `),se=>_.assign(F,!1).if((0,e._)`${se} instanceof ${P.ValidationError}`,()=>_.assign(te,(0,e._)`${se}.errors`),()=>_.throw(se))),te}function U(){const te=(0,e._)`${D}.errors`;return _.assign(te,null),X(e.nil),te}function X(te=y.async?(0,e._)`await `:e.nil){const se=P.opts.passContext?t.default.this:t.default.self,pe=!("compile"in y&&!R||y.schema===!1);_.assign(F,(0,e._)`${te}${(0,n.callValidateCode)(m,D,se,pe)}`,y.modifying)}function ce(te){var se;_.if((0,e.not)((se=y.valid)!==null&&se!==void 0?se:F),te)}}Bo.funcKeywordCode=a;function o(m){const{gen:y,data:v,it:_}=m;y.if(_.parentData,()=>y.assign(v,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function s(m,y){const{gen:v}=m;v.if((0,e._)`Array.isArray(${y})`,()=>{v.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${y} : ${t.default.vErrors}.concat(${y})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,r.extendErrors)(m)},()=>m.error())}function l({schemaEnv:m},y){if(y.async&&!m.$async)throw new Error("async keyword in sync schema")}function c(m,y,v){if(v===void 0)throw new Error(`keyword "${y}" failed to compile`);return m.scopeValue("keyword",typeof v=="function"?{ref:v}:{ref:v,code:(0,e.stringify)(v)})}function d(m,y,v=!1){return!y.length||y.some(_=>_==="array"?Array.isArray(m):_==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==_||v&&typeof m>"u")}Bo.validSchemaType=d;function h({schema:m,opts:y,self:v,errSchemaPath:_},S,b){if(Array.isArray(S.keyword)?!S.keyword.includes(b):S.keyword!==b)throw new Error("ajv implementation error");const x=S.dependencies;if(x!=null&&x.some(R=>!Object.prototype.hasOwnProperty.call(m,R)))throw new Error(`parent schema must have dependencies of ${b}: ${x.join(",")}`);if(S.validateSchema&&!S.validateSchema(m[b])){const P=`keyword "${b}" value is invalid at path "${_}": `+v.errorsText(S.validateSchema.errors);if(y.validateSchema==="log")v.logger.error(P);else throw new Error(P)}}return Bo.validateKeywordUsage=h,Bo}var yu={},v8;function APe(){if(v8)return yu;v8=1,Object.defineProperty(yu,"__esModule",{value:!0}),yu.extendSubschemaMode=yu.extendSubschemaData=yu.getSubschema=void 0;const e=In(),t=Kn();function n(a,{keyword:o,schemaProp:s,schema:l,schemaPath:c,errSchemaPath:d,topSchemaRef:h}){if(o!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const m=a.schema[o];return s===void 0?{schema:m,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${a.errSchemaPath}/${o}`}:{schema:m[s],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${o}/${(0,t.escapeFragment)(s)}`}}if(l!==void 0){if(c===void 0||d===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:h,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}yu.getSubschema=n;function r(a,o,{dataProp:s,dataPropType:l,data:c,dataTypes:d,propertyName:h}){if(c!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=o;if(s!==void 0){const{errorPath:v,dataPathArr:_,opts:S}=o,b=m.let("data",(0,e._)`${o.data}${(0,e.getProperty)(s)}`,!0);y(b),a.errorPath=(0,e.str)`${v}${(0,t.getErrorPath)(s,l,S.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${s}`,a.dataPathArr=[..._,a.parentDataProperty]}if(c!==void 0){const v=c instanceof e.Name?c:m.let("data",c,!0);y(v),h!==void 0&&(a.propertyName=h)}d&&(a.dataTypes=d);function y(v){a.data=v,a.dataLevel=o.dataLevel+1,a.dataTypes=[],o.definedProperties=new Set,a.parentData=o.data,a.dataNames=[...o.dataNames,v]}}yu.extendSubschemaData=r;function i(a,{jtdDiscriminator:o,jtdMetadata:s,compositeRule:l,createErrors:c,allErrors:d}){l!==void 0&&(a.compositeRule=l),c!==void 0&&(a.createErrors=c),d!==void 0&&(a.allErrors=d),a.jtdDiscriminator=o,a.jtdMetadata=s}return yu.extendSubschemaMode=i,yu}var la={},PR,_8;function iG(){return _8||(_8=1,PR=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n}),PR}var OR={exports:{}},w8;function PPe(){if(w8)return OR.exports;w8=1;var e=OR.exports=function(r,i,a){typeof i=="function"&&(a=i,i={}),a=i.cb||a;var o=typeof a=="function"?a:a.pre||function(){},s=a.post||function(){};t(i,o,s,r,"",r)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(r,i,a,o,s,l,c,d,h,m){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,s,l,c,d,h,m);for(var y in o){var v=o[y];if(Array.isArray(v)){if(y in e.arrayKeywords)for(var _=0;_<v.length;_++)t(r,i,a,v[_],s+"/"+y+"/"+_,l,s,y,o,_)}else if(y in e.propsKeywords){if(v&&typeof v=="object")for(var S in v)t(r,i,a,v[S],s+"/"+y+"/"+n(S),l,s,y,o,S)}else(y in e.keywords||r.allKeys&&!(y in e.skipKeywords))&&t(r,i,a,v,s+"/"+y,l,s,y,o)}a(o,s,l,c,d,h,m)}}function n(r){return r.replace(/~/g,"~0").replace(/\//g,"~1")}return OR.exports}var b8;function Ub(){if(b8)return la;b8=1,Object.defineProperty(la,"__esModule",{value:!0}),la.getSchemaRefs=la.resolveUrl=la.normalizeId=la._getFullPath=la.getFullPath=la.inlineRef=void 0;const e=Kn(),t=iG(),n=PPe(),r=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(_,S=!0){return typeof _=="boolean"?!0:S===!0?!o(_):S?s(_)<=S:!1}la.inlineRef=i;const a=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(_){for(const S in _){if(a.has(S))return!0;const b=_[S];if(Array.isArray(b)&&b.some(o)||typeof b=="object"&&o(b))return!0}return!1}function s(_){let S=0;for(const b in _){if(b==="$ref")return 1/0;if(S++,!r.has(b)&&(typeof _[b]=="object"&&(0,e.eachItem)(_[b],x=>S+=s(x)),S===1/0))return 1/0}return S}function l(_,S="",b){b!==!1&&(S=h(S));const x=_.parse(S);return c(_,x)}la.getFullPath=l;function c(_,S){return _.serialize(S).split("#")[0]+"#"}la._getFullPath=c;const d=/#\/?$/;function h(_){return _?_.replace(d,""):""}la.normalizeId=h;function m(_,S,b){return b=h(b),_.resolve(S,b)}la.resolveUrl=m;const y=/^[a-z_][-a-z0-9._]*$/i;function v(_,S){if(typeof _=="boolean")return{};const{schemaId:b,uriResolver:x}=this.opts,R=h(_[b]||S),P={"":R},O=l(x,R,!1),D={},F=new Set;return n(_,{allKeys:!0},(U,X,ce,te)=>{if(te===void 0)return;const se=O+X;let pe=P[te];typeof U[b]=="string"&&(pe=_e.call(this,U[b])),de.call(this,U.$anchor),de.call(this,U.$dynamicAnchor),P[X]=pe;function _e(ue){const Ae=this.opts.uriResolver.resolve;if(ue=h(pe?Ae(pe,ue):ue),F.has(ue))throw Y(ue);F.add(ue);let k=this.refs[ue];return typeof k=="string"&&(k=this.refs[k]),typeof k=="object"?Q(U,k.schema,ue):ue!==h(se)&&(ue[0]==="#"?(Q(U,D[ue],ue),D[ue]=U):this.refs[ue]=se),ue}function de(ue){if(typeof ue=="string"){if(!y.test(ue))throw new Error(`invalid anchor "${ue}"`);_e.call(this,`#${ue}`)}}}),D;function Q(U,X,ce){if(X!==void 0&&!t(U,X))throw Y(ce)}function Y(U){return new Error(`reference "${U}" resolves to more than one schema`)}}return la.getSchemaRefs=v,la}var S8;function jy(){if(S8)return gu;S8=1,Object.defineProperty(gu,"__esModule",{value:!0}),gu.getData=gu.KeywordCxt=gu.validateFunctionCode=void 0;const e=CPe(),t=Nw(),n=rG(),r=Nw(),i=TPe(),a=RPe(),o=APe(),s=In(),l=qu(),c=Ub(),d=Kn(),h=Fy();function m(oe){if(O(oe)&&(F(oe),P(oe))){S(oe);return}y(oe,()=>(0,e.topBoolOrEmptySchema)(oe))}gu.validateFunctionCode=m;function y({gen:oe,validateName:H,schema:$,schemaEnv:ae,opts:Z},he){Z.code.es5?oe.func(H,(0,s._)`${l.default.data}, ${l.default.valCxt}`,ae.$async,()=>{oe.code((0,s._)`"use strict"; ${x($,Z)}`),_(oe,Z),oe.code(he)}):oe.func(H,(0,s._)`${l.default.data}, ${v(Z)}`,ae.$async,()=>oe.code(x($,Z)).code(he))}function v(oe){return(0,s._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${oe.dynamicRef?(0,s._)`, ${l.default.dynamicAnchors}={}`:s.nil}}={}`}function _(oe,H){oe.if(l.default.valCxt,()=>{oe.var(l.default.instancePath,(0,s._)`${l.default.valCxt}.${l.default.instancePath}`),oe.var(l.default.parentData,(0,s._)`${l.default.valCxt}.${l.default.parentData}`),oe.var(l.default.parentDataProperty,(0,s._)`${l.default.valCxt}.${l.default.parentDataProperty}`),oe.var(l.default.rootData,(0,s._)`${l.default.valCxt}.${l.default.rootData}`),H.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{oe.var(l.default.instancePath,(0,s._)`""`),oe.var(l.default.parentData,(0,s._)`undefined`),oe.var(l.default.parentDataProperty,(0,s._)`undefined`),oe.var(l.default.rootData,l.default.data),H.dynamicRef&&oe.var(l.default.dynamicAnchors,(0,s._)`{}`)})}function S(oe){const{schema:H,opts:$,gen:ae}=oe;y(oe,()=>{$.$comment&&H.$comment&&te(oe),U(oe),ae.let(l.default.vErrors,null),ae.let(l.default.errors,0),$.unevaluated&&b(oe),Q(oe),se(oe)})}function b(oe){const{gen:H,validateName:$}=oe;oe.evaluated=H.const("evaluated",(0,s._)`${$}.evaluated`),H.if((0,s._)`${oe.evaluated}.dynamicProps`,()=>H.assign((0,s._)`${oe.evaluated}.props`,(0,s._)`undefined`)),H.if((0,s._)`${oe.evaluated}.dynamicItems`,()=>H.assign((0,s._)`${oe.evaluated}.items`,(0,s._)`undefined`))}function x(oe,H){const $=typeof oe=="object"&&oe[H.schemaId];return $&&(H.code.source||H.code.process)?(0,s._)`/*# sourceURL=${$} */`:s.nil}function R(oe,H){if(O(oe)&&(F(oe),P(oe))){D(oe,H);return}(0,e.boolOrEmptySchema)(oe,H)}function P({schema:oe,self:H}){if(typeof oe=="boolean")return!oe;for(const $ in oe)if(H.RULES.all[$])return!0;return!1}function O(oe){return typeof oe.schema!="boolean"}function D(oe,H){const{schema:$,gen:ae,opts:Z}=oe;Z.$comment&&$.$comment&&te(oe),X(oe),ce(oe);const he=ae.const("_errs",l.default.errors);Q(oe,he),ae.var(H,(0,s._)`${he} === ${l.default.errors}`)}function F(oe){(0,d.checkUnknownRules)(oe),Y(oe)}function Q(oe,H){if(oe.opts.jtd)return _e(oe,[],!1,H);const $=(0,t.getSchemaTypes)(oe.schema),ae=(0,t.coerceAndCheckDataType)(oe,$);_e(oe,$,!ae,H)}function Y(oe){const{schema:H,errSchemaPath:$,opts:ae,self:Z}=oe;H.$ref&&ae.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(H,Z.RULES)&&Z.logger.warn(`$ref: keywords ignored in schema at path "${$}"`)}function U(oe){const{schema:H,opts:$}=oe;H.default!==void 0&&$.useDefaults&&$.strictSchema&&(0,d.checkStrictMode)(oe,"default is ignored in the schema root")}function X(oe){const H=oe.schema[oe.opts.schemaId];H&&(oe.baseId=(0,c.resolveUrl)(oe.opts.uriResolver,oe.baseId,H))}function ce(oe){if(oe.schema.$async&&!oe.schemaEnv.$async)throw new Error("async schema in sync schema")}function te({gen:oe,schemaEnv:H,schema:$,errSchemaPath:ae,opts:Z}){const he=$.$comment;if(Z.$comment===!0)oe.code((0,s._)`${l.default.self}.logger.log(${he})`);else if(typeof Z.$comment=="function"){const ye=(0,s.str)`${ae}/$comment`,He=oe.scopeValue("root",{ref:H.root});oe.code((0,s._)`${l.default.self}.opts.$comment(${he}, ${ye}, ${He}.schema)`)}}function se(oe){const{gen:H,schemaEnv:$,validateName:ae,ValidationError:Z,opts:he}=oe;$.$async?H.if((0,s._)`${l.default.errors} === 0`,()=>H.return(l.default.data),()=>H.throw((0,s._)`new ${Z}(${l.default.vErrors})`)):(H.assign((0,s._)`${ae}.errors`,l.default.vErrors),he.unevaluated&&pe(oe),H.return((0,s._)`${l.default.errors} === 0`))}function pe({gen:oe,evaluated:H,props:$,items:ae}){$ instanceof s.Name&&oe.assign((0,s._)`${H}.props`,$),ae instanceof s.Name&&oe.assign((0,s._)`${H}.items`,ae)}function _e(oe,H,$,ae){const{gen:Z,schema:he,data:ye,allErrors:He,opts:Ee,self:Fe}=oe,{RULES:tt}=Fe;if(he.$ref&&(Ee.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(he,tt))){Z.block(()=>Ze(oe,"$ref",tt.all.$ref.definition));return}Ee.jtd||ue(oe,H),Z.block(()=>{for(const gt of tt.rules)nt(gt);nt(tt.post)});function nt(gt){(0,n.shouldUseGroup)(he,gt)&&(gt.type?(Z.if((0,r.checkDataType)(gt.type,ye,Ee.strictNumbers)),de(oe,gt),H.length===1&&H[0]===gt.type&&$&&(Z.else(),(0,r.reportTypeError)(oe)),Z.endIf()):de(oe,gt),He||Z.if((0,s._)`${l.default.errors} === ${ae||0}`))}}function de(oe,H){const{gen:$,schema:ae,opts:{useDefaults:Z}}=oe;Z&&(0,i.assignDefaults)(oe,H.type),$.block(()=>{for(const he of H.rules)(0,n.shouldUseRule)(ae,he)&&Ze(oe,he.keyword,he.definition,H.type)})}function ue(oe,H){oe.schemaEnv.meta||!oe.opts.strictTypes||(Ae(oe,H),oe.opts.allowUnionTypes||k(oe,H),ie(oe,oe.dataTypes))}function Ae(oe,H){if(H.length){if(!oe.dataTypes.length){oe.dataTypes=H;return}H.forEach($=>{K(oe.dataTypes,$)||ge(oe,`type "${$}" not allowed by context "${oe.dataTypes.join(",")}"`)}),ee(oe,H)}}function k(oe,H){H.length>1&&!(H.length===2&&H.includes("null"))&&ge(oe,"use allowUnionTypes to allow union type keyword")}function ie(oe,H){const $=oe.self.RULES.all;for(const ae in $){const Z=$[ae];if(typeof Z=="object"&&(0,n.shouldUseRule)(oe.schema,Z)){const{type:he}=Z.definition;he.length&&!he.some(ye=>me(H,ye))&&ge(oe,`missing type "${he.join(",")}" for keyword "${ae}"`)}}}function me(oe,H){return oe.includes(H)||H==="number"&&oe.includes("integer")}function K(oe,H){return oe.includes(H)||H==="integer"&&oe.includes("number")}function ee(oe,H){const $=[];for(const ae of oe.dataTypes)K(H,ae)?$.push(ae):H.includes("integer")&&ae==="number"&&$.push("integer");oe.dataTypes=$}function ge(oe,H){const $=oe.schemaEnv.baseId+oe.errSchemaPath;H+=` at "${$}" (strictTypes)`,(0,d.checkStrictMode)(oe,H,oe.opts.strictTypes)}class Re{constructor(H,$,ae){if((0,a.validateKeywordUsage)(H,$,ae),this.gen=H.gen,this.allErrors=H.allErrors,this.keyword=ae,this.data=H.data,this.schema=H.schema[ae],this.$data=$.$data&&H.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(H,this.schema,ae,this.$data),this.schemaType=$.schemaType,this.parentSchema=H.schema,this.params={},this.it=H,this.def=$,this.$data)this.schemaCode=H.gen.const("vSchema",Xe(this.$data,H));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,$.schemaType,$.allowUndefined))throw new Error(`${ae} value must be ${JSON.stringify($.schemaType)}`);("code"in $?$.trackErrors:$.errors!==!1)&&(this.errsCount=H.gen.const("_errs",l.default.errors))}result(H,$,ae){this.failResult((0,s.not)(H),$,ae)}failResult(H,$,ae){this.gen.if(H),ae?ae():this.error(),$?(this.gen.else(),$(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(H,$){this.failResult((0,s.not)(H),void 0,$)}fail(H){if(H===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(H),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(H){if(!this.$data)return this.fail(H);const{schemaCode:$}=this;this.fail((0,s._)`${$} !== undefined && (${(0,s.or)(this.invalid$data(),H)})`)}error(H,$,ae){if($){this.setParams($),this._error(H,ae),this.setParams({});return}this._error(H,ae)}_error(H,$){(H?h.reportExtraError:h.reportError)(this,this.def.error,$)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(H){this.allErrors||this.gen.if(H)}setParams(H,$){$?Object.assign(this.params,H):this.params=H}block$data(H,$,ae=s.nil){this.gen.block(()=>{this.check$data(H,ae),$()})}check$data(H=s.nil,$=s.nil){if(!this.$data)return;const{gen:ae,schemaCode:Z,schemaType:he,def:ye}=this;ae.if((0,s.or)((0,s._)`${Z} === undefined`,$)),H!==s.nil&&ae.assign(H,!0),(he.length||ye.validateSchema)&&(ae.elseIf(this.invalid$data()),this.$dataError(),H!==s.nil&&ae.assign(H,!1)),ae.else()}invalid$data(){const{gen:H,schemaCode:$,schemaType:ae,def:Z,it:he}=this;return(0,s.or)(ye(),He());function ye(){if(ae.length){if(!($ instanceof s.Name))throw new Error("ajv implementation error");const Ee=Array.isArray(ae)?ae:[ae];return(0,s._)`${(0,r.checkDataTypes)(Ee,$,he.opts.strictNumbers,r.DataType.Wrong)}`}return s.nil}function He(){if(Z.validateSchema){const Ee=H.scopeValue("validate$data",{ref:Z.validateSchema});return(0,s._)`!${Ee}(${$})`}return s.nil}}subschema(H,$){const ae=(0,o.getSubschema)(this.it,H);(0,o.extendSubschemaData)(ae,this.it,H),(0,o.extendSubschemaMode)(ae,H);const Z={...this.it,...ae,items:void 0,props:void 0};return R(Z,$),Z}mergeEvaluated(H,$){const{it:ae,gen:Z}=this;ae.opts.unevaluated&&(ae.props!==!0&&H.props!==void 0&&(ae.props=d.mergeEvaluated.props(Z,H.props,ae.props,$)),ae.items!==!0&&H.items!==void 0&&(ae.items=d.mergeEvaluated.items(Z,H.items,ae.items,$)))}mergeValidEvaluated(H,$){const{it:ae,gen:Z}=this;if(ae.opts.unevaluated&&(ae.props!==!0||ae.items!==!0))return Z.if($,()=>this.mergeEvaluated(H,s.Name)),!0}}gu.KeywordCxt=Re;function Ze(oe,H,$,ae){const Z=new Re(oe,$,H);"code"in $?$.code(Z,ae):Z.$data&&$.validate?(0,a.funcKeywordCode)(Z,$):"macro"in $?(0,a.macroKeywordCode)(Z,$):($.compile||$.validate)&&(0,a.funcKeywordCode)(Z,$)}const Pe=/^\/(?:[^~]|~0|~1)*$/,Ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Xe(oe,{dataLevel:H,dataNames:$,dataPathArr:ae}){let Z,he;if(oe==="")return l.default.rootData;if(oe[0]==="/"){if(!Pe.test(oe))throw new Error(`Invalid JSON-pointer: ${oe}`);Z=oe,he=l.default.rootData}else{const Fe=Ne.exec(oe);if(!Fe)throw new Error(`Invalid JSON-pointer: ${oe}`);const tt=+Fe[1];if(Z=Fe[2],Z==="#"){if(tt>=H)throw new Error(Ee("property/index",tt));return ae[H-tt]}if(tt>H)throw new Error(Ee("data",tt));if(he=$[H-tt],!Z)return he}let ye=he;const He=Z.split("/");for(const Fe of He)Fe&&(he=(0,s._)`${he}${(0,s.getProperty)((0,d.unescapeJsonPointer)(Fe))}`,ye=(0,s._)`${ye} && ${he}`);return ye;function Ee(Fe,tt){return`Cannot access ${Fe} ${tt} levels up, current level is ${H}`}}return gu.getData=Xe,gu}var k_={},x8;function DL(){if(x8)return k_;x8=1,Object.defineProperty(k_,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return k_.default=e,k_}var N_={},E8;function kL(){if(E8)return N_;E8=1,Object.defineProperty(N_,"__esModule",{value:!0});const e=Ub();class t extends Error{constructor(r,i,a,o){super(o||`can't resolve reference ${a} from id ${i}`),this.missingRef=(0,e.resolveUrl)(r,i,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(r,this.missingRef))}}return N_.default=t,N_}var qa={},C8;function NL(){if(C8)return qa;C8=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.resolveSchema=qa.getCompilingSchema=qa.resolveRef=qa.compileSchema=qa.SchemaEnv=void 0;const e=In(),t=DL(),n=qu(),r=Ub(),i=Kn(),a=jy();class o{constructor(b){var x;this.refs={},this.dynamicAnchors={};let R;typeof b.schema=="object"&&(R=b.schema),this.schema=b.schema,this.schemaId=b.schemaId,this.root=b.root||this,this.baseId=(x=b.baseId)!==null&&x!==void 0?x:(0,r.normalizeId)(R==null?void 0:R[b.schemaId||"$id"]),this.schemaPath=b.schemaPath,this.localRefs=b.localRefs,this.meta=b.meta,this.$async=R==null?void 0:R.$async,this.refs={}}}qa.SchemaEnv=o;function s(S){const b=d.call(this,S);if(b)return b;const x=(0,r.getFullPath)(this.opts.uriResolver,S.root.baseId),{es5:R,lines:P}=this.opts.code,{ownProperties:O}=this.opts,D=new e.CodeGen(this.scope,{es5:R,lines:P,ownProperties:O});let F;S.$async&&(F=D.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const Q=D.scopeName("validate");S.validateName=Q;const Y={gen:D,allErrors:this.opts.allErrors,data:n.default.data,parentData:n.default.parentData,parentDataProperty:n.default.parentDataProperty,dataNames:[n.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:D.scopeValue("schema",this.opts.code.source===!0?{ref:S.schema,code:(0,e.stringify)(S.schema)}:{ref:S.schema}),validateName:Q,ValidationError:F,schema:S.schema,schemaEnv:S,rootId:x,baseId:S.baseId||x,schemaPath:e.nil,errSchemaPath:S.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let U;try{this._compilations.add(S),(0,a.validateFunctionCode)(Y),D.optimize(this.opts.code.optimize);const X=D.toString();U=`${D.scopeRefs(n.default.scope)}return ${X}`,this.opts.code.process&&(U=this.opts.code.process(U,S));const te=new Function(`${n.default.self}`,`${n.default.scope}`,U)(this,this.scope.get());if(this.scope.value(Q,{ref:te}),te.errors=null,te.schema=S.schema,te.schemaEnv=S,S.$async&&(te.$async=!0),this.opts.code.source===!0&&(te.source={validateName:Q,validateCode:X,scopeValues:D._values}),this.opts.unevaluated){const{props:se,items:pe}=Y;te.evaluated={props:se instanceof e.Name?void 0:se,items:pe instanceof e.Name?void 0:pe,dynamicProps:se instanceof e.Name,dynamicItems:pe instanceof e.Name},te.source&&(te.source.evaluated=(0,e.stringify)(te.evaluated))}return S.validate=te,S}catch(X){throw delete S.validate,delete S.validateName,U&&this.logger.error("Error compiling schema, function code:",U),X}finally{this._compilations.delete(S)}}qa.compileSchema=s;function l(S,b,x){var R;x=(0,r.resolveUrl)(this.opts.uriResolver,b,x);const P=S.refs[x];if(P)return P;let O=m.call(this,S,x);if(O===void 0){const D=(R=S.localRefs)===null||R===void 0?void 0:R[x],{schemaId:F}=this.opts;D&&(O=new o({schema:D,schemaId:F,root:S,baseId:b}))}if(O!==void 0)return S.refs[x]=c.call(this,O)}qa.resolveRef=l;function c(S){return(0,r.inlineRef)(S.schema,this.opts.inlineRefs)?S.schema:S.validate?S:s.call(this,S)}function d(S){for(const b of this._compilations)if(h(b,S))return b}qa.getCompilingSchema=d;function h(S,b){return S.schema===b.schema&&S.root===b.root&&S.baseId===b.baseId}function m(S,b){let x;for(;typeof(x=this.refs[b])=="string";)b=x;return x||this.schemas[b]||y.call(this,S,b)}function y(S,b){const x=this.opts.uriResolver.parse(b),R=(0,r._getFullPath)(this.opts.uriResolver,x);let P=(0,r.getFullPath)(this.opts.uriResolver,S.baseId,void 0);if(Object.keys(S.schema).length>0&&R===P)return _.call(this,x,S);const O=(0,r.normalizeId)(R),D=this.refs[O]||this.schemas[O];if(typeof D=="string"){const F=y.call(this,S,D);return typeof(F==null?void 0:F.schema)!="object"?void 0:_.call(this,x,F)}if(typeof(D==null?void 0:D.schema)=="object"){if(D.validate||s.call(this,D),O===(0,r.normalizeId)(b)){const{schema:F}=D,{schemaId:Q}=this.opts,Y=F[Q];return Y&&(P=(0,r.resolveUrl)(this.opts.uriResolver,P,Y)),new o({schema:F,schemaId:Q,root:S,baseId:P})}return _.call(this,x,D)}}qa.resolveSchema=y;const v=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(S,{baseId:b,schema:x,root:R}){var P;if(((P=S.fragment)===null||P===void 0?void 0:P[0])!=="/")return;for(const F of S.fragment.slice(1).split("/")){if(typeof x=="boolean")return;const Q=x[(0,i.unescapeFragment)(F)];if(Q===void 0)return;x=Q;const Y=typeof x=="object"&&x[this.opts.schemaId];!v.has(F)&&Y&&(b=(0,r.resolveUrl)(this.opts.uriResolver,b,Y))}let O;if(typeof x!="boolean"&&x.$ref&&!(0,i.schemaHasRulesButRef)(x,this.RULES)){const F=(0,r.resolveUrl)(this.opts.uriResolver,b,x.$ref);O=y.call(this,R,F)}const{schemaId:D}=this.opts;if(O=O||new o({schema:x,schemaId:D,root:R,baseId:b}),O.schema!==O.root.schema)return O}return qa}const OPe="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",LPe="Meta-schema for $data reference (JSON AnySchema extension proposal)",IPe="object",MPe=["$data"],DPe={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},kPe=!1,NPe={$id:OPe,description:LPe,type:IPe,required:MPe,properties:DPe,additionalProperties:kPe};var F_={},Am={exports:{}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */var FPe=Am.exports,T8;function jPe(){return T8||(T8=1,function(e,t){(function(n,r){r(t)})(FPe,function(n){function r(){for(var We=arguments.length,Ce=Array(We),et=0;et<We;et++)Ce[et]=arguments[et];if(Ce.length>1){Ce[0]=Ce[0].slice(0,-1);for(var ft=Ce.length-1,it=1;it<ft;++it)Ce[it]=Ce[it].slice(1,-1);return Ce[ft]=Ce[ft].slice(1),Ce.join("")}else return Ce[0]}function i(We){return"(?:"+We+")"}function a(We){return We===void 0?"undefined":We===null?"null":Object.prototype.toString.call(We).split(" ").pop().split("]").shift().toLowerCase()}function o(We){return We.toUpperCase()}function s(We){return We!=null?We instanceof Array?We:typeof We.length!="number"||We.split||We.setInterval||We.call?[We]:Array.prototype.slice.call(We):[]}function l(We,Ce){var et=We;if(Ce)for(var ft in Ce)et[ft]=Ce[ft];return et}function c(We){var Ce="[A-Za-z]",et="[0-9]",ft=r(et,"[A-Fa-f]"),it=i(i("%[EFef]"+ft+"%"+ft+ft+"%"+ft+ft)+"|"+i("%[89A-Fa-f]"+ft+"%"+ft+ft)+"|"+i("%"+ft+ft)),Ct="[\\:\\/\\?\\#\\[\\]\\@]",Dt="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Gt=r(Ct,Dt),Yt=We?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ht=We?"[\\uE000-\\uF8FF]":"[]",jt=r(Ce,et,"[\\-\\.\\_\\~]",Yt);i(Ce+r(Ce,et,"[\\+\\-\\.]")+"*"),i(i(it+"|"+r(jt,Dt,"[\\:]"))+"*");var tn=i(i("25[0-5]")+"|"+i("2[0-4]"+et)+"|"+i("1"+et+et)+"|"+i("0?[1-9]"+et)+"|0?0?"+et),On=i(tn+"\\."+tn+"\\."+tn+"\\."+tn),Wt=i(ft+"{1,4}"),Zt=i(i(Wt+"\\:"+Wt)+"|"+On),En=i(i(Wt+"\\:")+"{6}"+Zt),Cn=i("\\:\\:"+i(Wt+"\\:")+"{5}"+Zt),qn=i(i(Wt)+"?\\:\\:"+i(Wt+"\\:")+"{4}"+Zt),Pr=i(i(i(Wt+"\\:")+"{0,1}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{3}"+Zt),Zr=i(i(i(Wt+"\\:")+"{0,2}"+Wt)+"?\\:\\:"+i(Wt+"\\:")+"{2}"+Zt),Jr=i(i(i(Wt+"\\:")+"{0,3}"+Wt)+"?\\:\\:"+Wt+"\\:"+Zt),Mr=i(i(i(Wt+"\\:")+"{0,4}"+Wt)+"?\\:\\:"+Zt),$n=i(i(i(Wt+"\\:")+"{0,5}"+Wt)+"?\\:\\:"+Wt),ni=i(i(i(Wt+"\\:")+"{0,6}"+Wt)+"?\\:\\:"),Zi=i([En,Cn,qn,Pr,Zr,Jr,Mr,$n,ni].join("|")),T=i(i(jt+"|"+it)+"+");i("[vV]"+ft+"+\\."+r(jt,Dt,"[\\:]")+"+"),i(i(it+"|"+r(jt,Dt))+"*");var C=i(it+"|"+r(jt,Dt,"[\\:\\@]"));return i(i(it+"|"+r(jt,Dt,"[\\@]"))+"+"),i(i(C+"|"+r("[\\/\\?]",Ht))+"*"),{NOT_SCHEME:new RegExp(r("[^]",Ce,et,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",jt,Dt),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",jt,Dt),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",jt,Dt),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",jt,Dt),"g"),NOT_QUERY:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]",Ht),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",jt,Dt,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",jt,Dt),"g"),UNRESERVED:new RegExp(jt,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",jt,Gt),"g"),PCT_ENCODED:new RegExp(it,"g"),IPV4ADDRESS:new RegExp("^("+On+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Zi+")"+i(i("\\%25|\\%(?!"+ft+"{2})")+"("+T+")")+"?\\]?$")}}var d=c(!1),h=c(!0),m=function(){function We(Ce,et){var ft=[],it=!0,Ct=!1,Dt=void 0;try{for(var Gt=Ce[Symbol.iterator](),Yt;!(it=(Yt=Gt.next()).done)&&(ft.push(Yt.value),!(et&&ft.length===et));it=!0);}catch(Ht){Ct=!0,Dt=Ht}finally{try{!it&&Gt.return&&Gt.return()}finally{if(Ct)throw Dt}}return ft}return function(Ce,et){if(Array.isArray(Ce))return Ce;if(Symbol.iterator in Object(Ce))return We(Ce,et);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(We){if(Array.isArray(We)){for(var Ce=0,et=Array(We.length);Ce<We.length;Ce++)et[Ce]=We[Ce];return et}else return Array.from(We)},v=2147483647,_=36,S=1,b=26,x=38,R=700,P=72,O=128,D="-",F=/^xn--/,Q=/[^\0-\x7E]/,Y=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},X=_-S,ce=Math.floor,te=String.fromCharCode;function se(We){throw new RangeError(U[We])}function pe(We,Ce){for(var et=[],ft=We.length;ft--;)et[ft]=Ce(We[ft]);return et}function _e(We,Ce){var et=We.split("@"),ft="";et.length>1&&(ft=et[0]+"@",We=et[1]),We=We.replace(Y,".");var it=We.split("."),Ct=pe(it,Ce).join(".");return ft+Ct}function de(We){for(var Ce=[],et=0,ft=We.length;et<ft;){var it=We.charCodeAt(et++);if(it>=55296&&it<=56319&&et<ft){var Ct=We.charCodeAt(et++);(Ct&64512)==56320?Ce.push(((it&1023)<<10)+(Ct&1023)+65536):(Ce.push(it),et--)}else Ce.push(it)}return Ce}var ue=function(Ce){return String.fromCodePoint.apply(String,y(Ce))},Ae=function(Ce){return Ce-48<10?Ce-22:Ce-65<26?Ce-65:Ce-97<26?Ce-97:_},k=function(Ce,et){return Ce+22+75*(Ce<26)-((et!=0)<<5)},ie=function(Ce,et,ft){var it=0;for(Ce=ft?ce(Ce/R):Ce>>1,Ce+=ce(Ce/et);Ce>X*b>>1;it+=_)Ce=ce(Ce/X);return ce(it+(X+1)*Ce/(Ce+x))},me=function(Ce){var et=[],ft=Ce.length,it=0,Ct=O,Dt=P,Gt=Ce.lastIndexOf(D);Gt<0&&(Gt=0);for(var Yt=0;Yt<Gt;++Yt)Ce.charCodeAt(Yt)>=128&&se("not-basic"),et.push(Ce.charCodeAt(Yt));for(var Ht=Gt>0?Gt+1:0;Ht<ft;){for(var jt=it,tn=1,On=_;;On+=_){Ht>=ft&&se("invalid-input");var Wt=Ae(Ce.charCodeAt(Ht++));(Wt>=_||Wt>ce((v-it)/tn))&&se("overflow"),it+=Wt*tn;var Zt=On<=Dt?S:On>=Dt+b?b:On-Dt;if(Wt<Zt)break;var En=_-Zt;tn>ce(v/En)&&se("overflow"),tn*=En}var Cn=et.length+1;Dt=ie(it-jt,Cn,jt==0),ce(it/Cn)>v-Ct&&se("overflow"),Ct+=ce(it/Cn),it%=Cn,et.splice(it++,0,Ct)}return String.fromCodePoint.apply(String,et)},K=function(Ce){var et=[];Ce=de(Ce);var ft=Ce.length,it=O,Ct=0,Dt=P,Gt=!0,Yt=!1,Ht=void 0;try{for(var jt=Ce[Symbol.iterator](),tn;!(Gt=(tn=jt.next()).done);Gt=!0){var On=tn.value;On<128&&et.push(te(On))}}catch(Oe){Yt=!0,Ht=Oe}finally{try{!Gt&&jt.return&&jt.return()}finally{if(Yt)throw Ht}}var Wt=et.length,Zt=Wt;for(Wt&&et.push(D);Zt<ft;){var En=v,Cn=!0,qn=!1,Pr=void 0;try{for(var Zr=Ce[Symbol.iterator](),Jr;!(Cn=(Jr=Zr.next()).done);Cn=!0){var Mr=Jr.value;Mr>=it&&Mr<En&&(En=Mr)}}catch(Oe){qn=!0,Pr=Oe}finally{try{!Cn&&Zr.return&&Zr.return()}finally{if(qn)throw Pr}}var $n=Zt+1;En-it>ce((v-Ct)/$n)&&se("overflow"),Ct+=(En-it)*$n,it=En;var ni=!0,Zi=!1,T=void 0;try{for(var C=Ce[Symbol.iterator](),A;!(ni=(A=C.next()).done);ni=!0){var N=A.value;if(N<it&&++Ct>v&&se("overflow"),N==it){for(var J=Ct,le=_;;le+=_){var we=le<=Dt?S:le>=Dt+b?b:le-Dt;if(J<we)break;var Ie=J-we,xe=_-we;et.push(te(k(we+Ie%xe,0))),J=ce(Ie/xe)}et.push(te(k(J,0))),Dt=ie(Ct,$n,Zt==Wt),Ct=0,++Zt}}}catch(Oe){Zi=!0,T=Oe}finally{try{!ni&&C.return&&C.return()}finally{if(Zi)throw T}}++Ct,++it}return et.join("")},ee=function(Ce){return _e(Ce,function(et){return F.test(et)?me(et.slice(4).toLowerCase()):et})},ge=function(Ce){return _e(Ce,function(et){return Q.test(et)?"xn--"+K(et):et})},Re={version:"2.1.0",ucs2:{decode:de,encode:ue},decode:me,encode:K,toASCII:ge,toUnicode:ee},Ze={};function Pe(We){var Ce=We.charCodeAt(0),et=void 0;return Ce<16?et="%0"+Ce.toString(16).toUpperCase():Ce<128?et="%"+Ce.toString(16).toUpperCase():Ce<2048?et="%"+(Ce>>6|192).toString(16).toUpperCase()+"%"+(Ce&63|128).toString(16).toUpperCase():et="%"+(Ce>>12|224).toString(16).toUpperCase()+"%"+(Ce>>6&63|128).toString(16).toUpperCase()+"%"+(Ce&63|128).toString(16).toUpperCase(),et}function Ne(We){for(var Ce="",et=0,ft=We.length;et<ft;){var it=parseInt(We.substr(et+1,2),16);if(it<128)Ce+=String.fromCharCode(it),et+=3;else if(it>=194&&it<224){if(ft-et>=6){var Ct=parseInt(We.substr(et+4,2),16);Ce+=String.fromCharCode((it&31)<<6|Ct&63)}else Ce+=We.substr(et,6);et+=6}else if(it>=224){if(ft-et>=9){var Dt=parseInt(We.substr(et+4,2),16),Gt=parseInt(We.substr(et+7,2),16);Ce+=String.fromCharCode((it&15)<<12|(Dt&63)<<6|Gt&63)}else Ce+=We.substr(et,9);et+=9}else Ce+=We.substr(et,3),et+=3}return Ce}function Xe(We,Ce){function et(ft){var it=Ne(ft);return it.match(Ce.UNRESERVED)?it:ft}return We.scheme&&(We.scheme=String(We.scheme).replace(Ce.PCT_ENCODED,et).toLowerCase().replace(Ce.NOT_SCHEME,"")),We.userinfo!==void 0&&(We.userinfo=String(We.userinfo).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_USERINFO,Pe).replace(Ce.PCT_ENCODED,o)),We.host!==void 0&&(We.host=String(We.host).replace(Ce.PCT_ENCODED,et).toLowerCase().replace(Ce.NOT_HOST,Pe).replace(Ce.PCT_ENCODED,o)),We.path!==void 0&&(We.path=String(We.path).replace(Ce.PCT_ENCODED,et).replace(We.scheme?Ce.NOT_PATH:Ce.NOT_PATH_NOSCHEME,Pe).replace(Ce.PCT_ENCODED,o)),We.query!==void 0&&(We.query=String(We.query).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_QUERY,Pe).replace(Ce.PCT_ENCODED,o)),We.fragment!==void 0&&(We.fragment=String(We.fragment).replace(Ce.PCT_ENCODED,et).replace(Ce.NOT_FRAGMENT,Pe).replace(Ce.PCT_ENCODED,o)),We}function oe(We){return We.replace(/^0*(.*)/,"$1")||"0"}function H(We,Ce){var et=We.match(Ce.IPV4ADDRESS)||[],ft=m(et,2),it=ft[1];return it?it.split(".").map(oe).join("."):We}function $(We,Ce){var et=We.match(Ce.IPV6ADDRESS)||[],ft=m(et,3),it=ft[1],Ct=ft[2];if(it){for(var Dt=it.toLowerCase().split("::").reverse(),Gt=m(Dt,2),Yt=Gt[0],Ht=Gt[1],jt=Ht?Ht.split(":").map(oe):[],tn=Yt.split(":").map(oe),On=Ce.IPV4ADDRESS.test(tn[tn.length-1]),Wt=On?7:8,Zt=tn.length-Wt,En=Array(Wt),Cn=0;Cn<Wt;++Cn)En[Cn]=jt[Cn]||tn[Zt+Cn]||"";On&&(En[Wt-1]=H(En[Wt-1],Ce));var qn=En.reduce(function($n,ni,Zi){if(!ni||ni==="0"){var T=$n[$n.length-1];T&&T.index+T.length===Zi?T.length++:$n.push({index:Zi,length:1})}return $n},[]),Pr=qn.sort(function($n,ni){return ni.length-$n.length})[0],Zr=void 0;if(Pr&&Pr.length>1){var Jr=En.slice(0,Pr.index),Mr=En.slice(Pr.index+Pr.length);Zr=Jr.join(":")+"::"+Mr.join(":")}else Zr=En.join(":");return Ct&&(Zr+="%"+Ct),Zr}else return We}var ae=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Z="".match(/(){0}/)[1]===void 0;function he(We){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et={},ft=Ce.iri!==!1?h:d;Ce.reference==="suffix"&&(We=(Ce.scheme?Ce.scheme+":":"")+"//"+We);var it=We.match(ae);if(it){Z?(et.scheme=it[1],et.userinfo=it[3],et.host=it[4],et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=it[7],et.fragment=it[8],isNaN(et.port)&&(et.port=it[5])):(et.scheme=it[1]||void 0,et.userinfo=We.indexOf("@")!==-1?it[3]:void 0,et.host=We.indexOf("//")!==-1?it[4]:void 0,et.port=parseInt(it[5],10),et.path=it[6]||"",et.query=We.indexOf("?")!==-1?it[7]:void 0,et.fragment=We.indexOf("#")!==-1?it[8]:void 0,isNaN(et.port)&&(et.port=We.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?it[4]:void 0)),et.host&&(et.host=$(H(et.host,ft),ft)),et.scheme===void 0&&et.userinfo===void 0&&et.host===void 0&&et.port===void 0&&!et.path&&et.query===void 0?et.reference="same-document":et.scheme===void 0?et.reference="relative":et.fragment===void 0?et.reference="absolute":et.reference="uri",Ce.reference&&Ce.reference!=="suffix"&&Ce.reference!==et.reference&&(et.error=et.error||"URI is not a "+Ce.reference+" reference.");var Ct=Ze[(Ce.scheme||et.scheme||"").toLowerCase()];if(!Ce.unicodeSupport&&(!Ct||!Ct.unicodeSupport)){if(et.host&&(Ce.domainHost||Ct&&Ct.domainHost))try{et.host=Re.toASCII(et.host.replace(ft.PCT_ENCODED,Ne).toLowerCase())}catch(Dt){et.error=et.error||"Host's domain name can not be converted to ASCII via punycode: "+Dt}Xe(et,d)}else Xe(et,ft);Ct&&Ct.parse&&Ct.parse(et,Ce)}else et.error=et.error||"URI can not be parsed.";return et}function ye(We,Ce){var et=Ce.iri!==!1?h:d,ft=[];return We.userinfo!==void 0&&(ft.push(We.userinfo),ft.push("@")),We.host!==void 0&&ft.push($(H(String(We.host),et),et).replace(et.IPV6ADDRESS,function(it,Ct,Dt){return"["+Ct+(Dt?"%25"+Dt:"")+"]"})),(typeof We.port=="number"||typeof We.port=="string")&&(ft.push(":"),ft.push(String(We.port))),ft.length?ft.join(""):void 0}var He=/^\.\.?\//,Ee=/^\/\.(\/|$)/,Fe=/^\/\.\.(\/|$)/,tt=/^\/?(?:.|\n)*?(?=\/|$)/;function nt(We){for(var Ce=[];We.length;)if(We.match(He))We=We.replace(He,"");else if(We.match(Ee))We=We.replace(Ee,"/");else if(We.match(Fe))We=We.replace(Fe,"/"),Ce.pop();else if(We==="."||We==="..")We="";else{var et=We.match(tt);if(et){var ft=et[0];We=We.slice(ft.length),Ce.push(ft)}else throw new Error("Unexpected dot segment condition")}return Ce.join("")}function gt(We){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},et=Ce.iri?h:d,ft=[],it=Ze[(Ce.scheme||We.scheme||"").toLowerCase()];if(it&&it.serialize&&it.serialize(We,Ce),We.host&&!et.IPV6ADDRESS.test(We.host)){if(Ce.domainHost||it&&it.domainHost)try{We.host=Ce.iri?Re.toUnicode(We.host):Re.toASCII(We.host.replace(et.PCT_ENCODED,Ne).toLowerCase())}catch(Gt){We.error=We.error||"Host's domain name can not be converted to "+(Ce.iri?"Unicode":"ASCII")+" via punycode: "+Gt}}Xe(We,et),Ce.reference!=="suffix"&&We.scheme&&(ft.push(We.scheme),ft.push(":"));var Ct=ye(We,Ce);if(Ct!==void 0&&(Ce.reference!=="suffix"&&ft.push("//"),ft.push(Ct),We.path&&We.path.charAt(0)!=="/"&&ft.push("/")),We.path!==void 0){var Dt=We.path;!Ce.absolutePath&&(!it||!it.absolutePath)&&(Dt=nt(Dt)),Ct===void 0&&(Dt=Dt.replace(/^\/\//,"/%2F")),ft.push(Dt)}return We.query!==void 0&&(ft.push("?"),ft.push(We.query)),We.fragment!==void 0&&(ft.push("#"),ft.push(We.fragment)),ft.join("")}function qt(We,Ce){var et=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments[3],it={};return ft||(We=he(gt(We,et),et),Ce=he(gt(Ce,et),et)),et=et||{},!et.tolerant&&Ce.scheme?(it.scheme=Ce.scheme,it.userinfo=Ce.userinfo,it.host=Ce.host,it.port=Ce.port,it.path=nt(Ce.path||""),it.query=Ce.query):(Ce.userinfo!==void 0||Ce.host!==void 0||Ce.port!==void 0?(it.userinfo=Ce.userinfo,it.host=Ce.host,it.port=Ce.port,it.path=nt(Ce.path||""),it.query=Ce.query):(Ce.path?(Ce.path.charAt(0)==="/"?it.path=nt(Ce.path):((We.userinfo!==void 0||We.host!==void 0||We.port!==void 0)&&!We.path?it.path="/"+Ce.path:We.path?it.path=We.path.slice(0,We.path.lastIndexOf("/")+1)+Ce.path:it.path=Ce.path,it.path=nt(it.path)),it.query=Ce.query):(it.path=We.path,Ce.query!==void 0?it.query=Ce.query:it.query=We.query),it.userinfo=We.userinfo,it.host=We.host,it.port=We.port),it.scheme=We.scheme),it.fragment=Ce.fragment,it}function Se(We,Ce,et){var ft=l({scheme:"null"},et);return gt(qt(he(We,ft),he(Ce,ft),ft,!0),ft)}function Ue(We,Ce){return typeof We=="string"?We=gt(he(We,Ce),Ce):a(We)==="object"&&(We=he(gt(We,Ce),Ce)),We}function ne(We,Ce,et){return typeof We=="string"?We=gt(he(We,et),et):a(We)==="object"&&(We=gt(We,et)),typeof Ce=="string"?Ce=gt(he(Ce,et),et):a(Ce)==="object"&&(Ce=gt(Ce,et)),We===Ce}function z(We,Ce){return We&&We.toString().replace(!Ce||!Ce.iri?d.ESCAPE:h.ESCAPE,Pe)}function W(We,Ce){return We&&We.toString().replace(!Ce||!Ce.iri?d.PCT_ENCODED:h.PCT_ENCODED,Ne)}var G={scheme:"http",domainHost:!0,parse:function(Ce,et){return Ce.host||(Ce.error=Ce.error||"HTTP URIs must have a host."),Ce},serialize:function(Ce,et){var ft=String(Ce.scheme).toLowerCase()==="https";return(Ce.port===(ft?443:80)||Ce.port==="")&&(Ce.port=void 0),Ce.path||(Ce.path="/"),Ce}},je={scheme:"https",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize};function Je(We){return typeof We.secure=="boolean"?We.secure:String(We.scheme).toLowerCase()==="wss"}var ke={scheme:"ws",domainHost:!0,parse:function(Ce,et){var ft=Ce;return ft.secure=Je(ft),ft.resourceName=(ft.path||"/")+(ft.query?"?"+ft.query:""),ft.path=void 0,ft.query=void 0,ft},serialize:function(Ce,et){if((Ce.port===(Je(Ce)?443:80)||Ce.port==="")&&(Ce.port=void 0),typeof Ce.secure=="boolean"&&(Ce.scheme=Ce.secure?"wss":"ws",Ce.secure=void 0),Ce.resourceName){var ft=Ce.resourceName.split("?"),it=m(ft,2),Ct=it[0],Dt=it[1];Ce.path=Ct&&Ct!=="/"?Ct:void 0,Ce.query=Dt,Ce.resourceName=void 0}return Ce.fragment=void 0,Ce}},At={scheme:"wss",domainHost:ke.domainHost,parse:ke.parse,serialize:ke.serialize},It={},Nt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",Ot="[0-9A-Fa-f]",zt=i(i("%[EFef]"+Ot+"%"+Ot+Ot+"%"+Ot+Ot)+"|"+i("%[89A-Fa-f]"+Ot+"%"+Ot+Ot)+"|"+i("%"+Ot+Ot)),Ar="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",dn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",hn=r(dn,'[\\"\\\\]'),gr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",un=new RegExp(Nt,"g"),ln=new RegExp(zt,"g"),Mn=new RegExp(r("[^]",Ar,"[\\.]",'[\\"]',hn),"g"),ur=new RegExp(r("[^]",Nt,gr),"g"),Le=ur;function qe(We){var Ce=Ne(We);return Ce.match(un)?Ce:We}var bt={scheme:"mailto",parse:function(Ce,et){var ft=Ce,it=ft.to=ft.path?ft.path.split(","):[];if(ft.path=void 0,ft.query){for(var Ct=!1,Dt={},Gt=ft.query.split("&"),Yt=0,Ht=Gt.length;Yt<Ht;++Yt){var jt=Gt[Yt].split("=");switch(jt[0]){case"to":for(var tn=jt[1].split(","),On=0,Wt=tn.length;On<Wt;++On)it.push(tn[On]);break;case"subject":ft.subject=W(jt[1],et);break;case"body":ft.body=W(jt[1],et);break;default:Ct=!0,Dt[W(jt[0],et)]=W(jt[1],et);break}}Ct&&(ft.headers=Dt)}ft.query=void 0;for(var Zt=0,En=it.length;Zt<En;++Zt){var Cn=it[Zt].split("@");if(Cn[0]=W(Cn[0]),et.unicodeSupport)Cn[1]=W(Cn[1],et).toLowerCase();else try{Cn[1]=Re.toASCII(W(Cn[1],et).toLowerCase())}catch(qn){ft.error=ft.error||"Email address's domain name can not be converted to ASCII via punycode: "+qn}it[Zt]=Cn.join("@")}return ft},serialize:function(Ce,et){var ft=Ce,it=s(Ce.to);if(it){for(var Ct=0,Dt=it.length;Ct<Dt;++Ct){var Gt=String(it[Ct]),Yt=Gt.lastIndexOf("@"),Ht=Gt.slice(0,Yt).replace(ln,qe).replace(ln,o).replace(Mn,Pe),jt=Gt.slice(Yt+1);try{jt=et.iri?Re.toUnicode(jt):Re.toASCII(W(jt,et).toLowerCase())}catch(Zt){ft.error=ft.error||"Email address's domain name can not be converted to "+(et.iri?"Unicode":"ASCII")+" via punycode: "+Zt}it[Ct]=Ht+"@"+jt}ft.path=it.join(",")}var tn=Ce.headers=Ce.headers||{};Ce.subject&&(tn.subject=Ce.subject),Ce.body&&(tn.body=Ce.body);var On=[];for(var Wt in tn)tn[Wt]!==It[Wt]&&On.push(Wt.replace(ln,qe).replace(ln,o).replace(ur,Pe)+"="+tn[Wt].replace(ln,qe).replace(ln,o).replace(Le,Pe));return On.length&&(ft.query=On.join("&")),ft}},Et=/^([^\:]+)\:(.*)/,Mt={scheme:"urn",parse:function(Ce,et){var ft=Ce.path&&Ce.path.match(Et),it=Ce;if(ft){var Ct=et.scheme||it.scheme||"urn",Dt=ft[1].toLowerCase(),Gt=ft[2],Yt=Ct+":"+(et.nid||Dt),Ht=Ze[Yt];it.nid=Dt,it.nss=Gt,it.path=void 0,Ht&&(it=Ht.parse(it,et))}else it.error=it.error||"URN can not be parsed.";return it},serialize:function(Ce,et){var ft=et.scheme||Ce.scheme||"urn",it=Ce.nid,Ct=ft+":"+(et.nid||it),Dt=Ze[Ct];Dt&&(Ce=Dt.serialize(Ce,et));var Gt=Ce,Yt=Ce.nss;return Gt.path=(it||et.nid)+":"+Yt,Gt}},Hn=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Jn={scheme:"urn:uuid",parse:function(Ce,et){var ft=Ce;return ft.uuid=ft.nss,ft.nss=void 0,!et.tolerant&&(!ft.uuid||!ft.uuid.match(Hn))&&(ft.error=ft.error||"UUID is not valid."),ft},serialize:function(Ce,et){var ft=Ce;return ft.nss=(Ce.uuid||"").toLowerCase(),ft}};Ze[G.scheme]=G,Ze[je.scheme]=je,Ze[ke.scheme]=ke,Ze[At.scheme]=At,Ze[bt.scheme]=bt,Ze[Mt.scheme]=Mt,Ze[Jn.scheme]=Jn,n.SCHEMES=Ze,n.pctEncChar=Pe,n.pctDecChars=Ne,n.parse=he,n.removeDotSegments=nt,n.serialize=gt,n.resolveComponents=qt,n.resolve=Se,n.normalize=Ue,n.equal=ne,n.escapeComponent=z,n.unescapeComponent=W,Object.defineProperty(n,"__esModule",{value:!0})})}(Am,Am.exports)),Am.exports}var R8;function $Pe(){if(R8)return F_;R8=1,Object.defineProperty(F_,"__esModule",{value:!0});const e=jPe();return e.code='require("ajv/dist/runtime/uri").default',F_.default=e,F_}var A8;function BPe(){return A8||(A8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=jy();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=In();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const r=DL(),i=kL(),a=nG(),o=NL(),s=In(),l=Ub(),c=Nw(),d=Kn(),h=NPe,m=$Pe(),y=(k,ie)=>new RegExp(k,ie);y.code="new RegExp";const v=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),S={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},b={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},x=200;function R(k){var ie,me,K,ee,ge,Re,Ze,Pe,Ne,Xe,oe,H,$,ae,Z,he,ye,He,Ee,Fe,tt,nt,gt,qt,Se;const Ue=k.strict,ne=(ie=k.code)===null||ie===void 0?void 0:ie.optimize,z=ne===!0||ne===void 0?1:ne||0,W=(K=(me=k.code)===null||me===void 0?void 0:me.regExp)!==null&&K!==void 0?K:y,G=(ee=k.uriResolver)!==null&&ee!==void 0?ee:m.default;return{strictSchema:(Re=(ge=k.strictSchema)!==null&&ge!==void 0?ge:Ue)!==null&&Re!==void 0?Re:!0,strictNumbers:(Pe=(Ze=k.strictNumbers)!==null&&Ze!==void 0?Ze:Ue)!==null&&Pe!==void 0?Pe:!0,strictTypes:(Xe=(Ne=k.strictTypes)!==null&&Ne!==void 0?Ne:Ue)!==null&&Xe!==void 0?Xe:"log",strictTuples:(H=(oe=k.strictTuples)!==null&&oe!==void 0?oe:Ue)!==null&&H!==void 0?H:"log",strictRequired:(ae=($=k.strictRequired)!==null&&$!==void 0?$:Ue)!==null&&ae!==void 0?ae:!1,code:k.code?{...k.code,optimize:z,regExp:W}:{optimize:z,regExp:W},loopRequired:(Z=k.loopRequired)!==null&&Z!==void 0?Z:x,loopEnum:(he=k.loopEnum)!==null&&he!==void 0?he:x,meta:(ye=k.meta)!==null&&ye!==void 0?ye:!0,messages:(He=k.messages)!==null&&He!==void 0?He:!0,inlineRefs:(Ee=k.inlineRefs)!==null&&Ee!==void 0?Ee:!0,schemaId:(Fe=k.schemaId)!==null&&Fe!==void 0?Fe:"$id",addUsedSchema:(tt=k.addUsedSchema)!==null&&tt!==void 0?tt:!0,validateSchema:(nt=k.validateSchema)!==null&&nt!==void 0?nt:!0,validateFormats:(gt=k.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(qt=k.unicodeRegExp)!==null&&qt!==void 0?qt:!0,int32range:(Se=k.int32range)!==null&&Se!==void 0?Se:!0,uriResolver:G}}class P{constructor(ie={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,ie=this.opts={...ie,...R(ie)};const{es5:me,lines:K}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:_,es5:me,lines:K}),this.logger=ce(ie.logger);const ee=ie.validateFormats;ie.validateFormats=!1,this.RULES=(0,a.getRules)(),O.call(this,S,ie,"NOT SUPPORTED"),O.call(this,b,ie,"DEPRECATED","warn"),this._metaOpts=U.call(this),ie.formats&&Q.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),ie.keywords&&Y.call(this,ie.keywords),typeof ie.meta=="object"&&this.addMetaSchema(ie.meta),F.call(this),ie.validateFormats=ee}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:ie,meta:me,schemaId:K}=this.opts;let ee=h;K==="id"&&(ee={...h},ee.id=ee.$id,delete ee.$id),me&&ie&&this.addMetaSchema(ee,ee[K],!1)}defaultMeta(){const{meta:ie,schemaId:me}=this.opts;return this.opts.defaultMeta=typeof ie=="object"?ie[me]||ie:void 0}validate(ie,me){let K;if(typeof ie=="string"){if(K=this.getSchema(ie),!K)throw new Error(`no schema with key or ref "${ie}"`)}else K=this.compile(ie);const ee=K(me);return"$async"in K||(this.errors=K.errors),ee}compile(ie,me){const K=this._addSchema(ie,me);return K.validate||this._compileSchemaEnv(K)}compileAsync(ie,me){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:K}=this.opts;return ee.call(this,ie,me);async function ee(Xe,oe){await ge.call(this,Xe.$schema);const H=this._addSchema(Xe,oe);return H.validate||Re.call(this,H)}async function ge(Xe){Xe&&!this.getSchema(Xe)&&await ee.call(this,{$ref:Xe},!0)}async function Re(Xe){try{return this._compileSchemaEnv(Xe)}catch(oe){if(!(oe instanceof i.default))throw oe;return Ze.call(this,oe),await Pe.call(this,oe.missingSchema),Re.call(this,Xe)}}function Ze({missingSchema:Xe,missingRef:oe}){if(this.refs[Xe])throw new Error(`AnySchema ${Xe} is loaded but ${oe} cannot be resolved`)}async function Pe(Xe){const oe=await Ne.call(this,Xe);this.refs[Xe]||await ge.call(this,oe.$schema),this.refs[Xe]||this.addSchema(oe,Xe,me)}async function Ne(Xe){const oe=this._loading[Xe];if(oe)return oe;try{return await(this._loading[Xe]=K(Xe))}finally{delete this._loading[Xe]}}}addSchema(ie,me,K,ee=this.opts.validateSchema){if(Array.isArray(ie)){for(const Re of ie)this.addSchema(Re,void 0,K,ee);return this}let ge;if(typeof ie=="object"){const{schemaId:Re}=this.opts;if(ge=ie[Re],ge!==void 0&&typeof ge!="string")throw new Error(`schema ${Re} must be string`)}return me=(0,l.normalizeId)(me||ge),this._checkUnique(me),this.schemas[me]=this._addSchema(ie,K,me,ee,!0),this}addMetaSchema(ie,me,K=this.opts.validateSchema){return this.addSchema(ie,me,!0,K),this}validateSchema(ie,me){if(typeof ie=="boolean")return!0;let K;if(K=ie.$schema,K!==void 0&&typeof K!="string")throw new Error("$schema must be a string");if(K=K||this.opts.defaultMeta||this.defaultMeta(),!K)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const ee=this.validate(K,ie);if(!ee&&me){const ge="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(ge);else throw new Error(ge)}return ee}getSchema(ie){let me;for(;typeof(me=D.call(this,ie))=="string";)ie=me;if(me===void 0){const{schemaId:K}=this.opts,ee=new o.SchemaEnv({schema:{},schemaId:K});if(me=o.resolveSchema.call(this,ee,ie),!me)return;this.refs[ie]=me}return me.validate||this._compileSchemaEnv(me)}removeSchema(ie){if(ie instanceof RegExp)return this._removeAllSchemas(this.schemas,ie),this._removeAllSchemas(this.refs,ie),this;switch(typeof ie){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const me=D.call(this,ie);return typeof me=="object"&&this._cache.delete(me.schema),delete this.schemas[ie],delete this.refs[ie],this}case"object":{const me=ie;this._cache.delete(me);let K=ie[this.opts.schemaId];return K&&(K=(0,l.normalizeId)(K),delete this.schemas[K],delete this.refs[K]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(ie){for(const me of ie)this.addKeyword(me);return this}addKeyword(ie,me){let K;if(typeof ie=="string")K=ie,typeof me=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),me.keyword=K);else if(typeof ie=="object"&&me===void 0){if(me=ie,K=me.keyword,Array.isArray(K)&&!K.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(se.call(this,K,me),!me)return(0,d.eachItem)(K,ge=>pe.call(this,ge)),this;de.call(this,me);const ee={...me,type:(0,c.getJSONTypes)(me.type),schemaType:(0,c.getJSONTypes)(me.schemaType)};return(0,d.eachItem)(K,ee.type.length===0?ge=>pe.call(this,ge,ee):ge=>ee.type.forEach(Re=>pe.call(this,ge,ee,Re))),this}getKeyword(ie){const me=this.RULES.all[ie];return typeof me=="object"?me.definition:!!me}removeKeyword(ie){const{RULES:me}=this;delete me.keywords[ie],delete me.all[ie];for(const K of me.rules){const ee=K.rules.findIndex(ge=>ge.keyword===ie);ee>=0&&K.rules.splice(ee,1)}return this}addFormat(ie,me){return typeof me=="string"&&(me=new RegExp(me)),this.formats[ie]=me,this}errorsText(ie=this.errors,{separator:me=", ",dataVar:K="data"}={}){return!ie||ie.length===0?"No errors":ie.map(ee=>`${K}${ee.instancePath} ${ee.message}`).reduce((ee,ge)=>ee+me+ge)}$dataMetaSchema(ie,me){const K=this.RULES.all;ie=JSON.parse(JSON.stringify(ie));for(const ee of me){const ge=ee.split("/").slice(1);let Re=ie;for(const Ze of ge)Re=Re[Ze];for(const Ze in K){const Pe=K[Ze];if(typeof Pe!="object")continue;const{$data:Ne}=Pe.definition,Xe=Re[Ze];Ne&&Xe&&(Re[Ze]=Ae(Xe))}}return ie}_removeAllSchemas(ie,me){for(const K in ie){const ee=ie[K];(!me||me.test(K))&&(typeof ee=="string"?delete ie[K]:ee&&!ee.meta&&(this._cache.delete(ee.schema),delete ie[K]))}}_addSchema(ie,me,K,ee=this.opts.validateSchema,ge=this.opts.addUsedSchema){let Re;const{schemaId:Ze}=this.opts;if(typeof ie=="object")Re=ie[Ze];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof ie!="boolean")throw new Error("schema must be object or boolean")}let Pe=this._cache.get(ie);if(Pe!==void 0)return Pe;K=(0,l.normalizeId)(Re||K);const Ne=l.getSchemaRefs.call(this,ie,K);return Pe=new o.SchemaEnv({schema:ie,schemaId:Ze,meta:me,baseId:K,localRefs:Ne}),this._cache.set(Pe.schema,Pe),ge&&!K.startsWith("#")&&(K&&this._checkUnique(K),this.refs[K]=Pe),ee&&this.validateSchema(ie,!0),Pe}_checkUnique(ie){if(this.schemas[ie]||this.refs[ie])throw new Error(`schema with key or id "${ie}" already exists`)}_compileSchemaEnv(ie){if(ie.meta?this._compileMetaSchema(ie):o.compileSchema.call(this,ie),!ie.validate)throw new Error("ajv implementation error");return ie.validate}_compileMetaSchema(ie){const me=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,ie)}finally{this.opts=me}}}P.ValidationError=r.default,P.MissingRefError=i.default,e.default=P;function O(k,ie,me,K="error"){for(const ee in k){const ge=ee;ge in ie&&this.logger[K](`${me}: option ${ee}. ${k[ge]}`)}}function D(k){return k=(0,l.normalizeId)(k),this.schemas[k]||this.refs[k]}function F(){const k=this.opts.schemas;if(k)if(Array.isArray(k))this.addSchema(k);else for(const ie in k)this.addSchema(k[ie],ie)}function Q(){for(const k in this.opts.formats){const ie=this.opts.formats[k];ie&&this.addFormat(k,ie)}}function Y(k){if(Array.isArray(k)){this.addVocabulary(k);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const ie in k){const me=k[ie];me.keyword||(me.keyword=ie),this.addKeyword(me)}}function U(){const k={...this.opts};for(const ie of v)delete k[ie];return k}const X={log(){},warn(){},error(){}};function ce(k){if(k===!1)return X;if(k===void 0)return console;if(k.log&&k.warn&&k.error)return k;throw new Error("logger must implement log, warn and error methods")}const te=/^[a-z_$][a-z0-9_$:-]*$/i;function se(k,ie){const{RULES:me}=this;if((0,d.eachItem)(k,K=>{if(me.keywords[K])throw new Error(`Keyword ${K} is already defined`);if(!te.test(K))throw new Error(`Keyword ${K} has invalid name`)}),!!ie&&ie.$data&&!("code"in ie||"validate"in ie))throw new Error('$data keyword must have "code" or "validate" function')}function pe(k,ie,me){var K;const ee=ie==null?void 0:ie.post;if(me&&ee)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:ge}=this;let Re=ee?ge.post:ge.rules.find(({type:Pe})=>Pe===me);if(Re||(Re={type:me,rules:[]},ge.rules.push(Re)),ge.keywords[k]=!0,!ie)return;const Ze={keyword:k,definition:{...ie,type:(0,c.getJSONTypes)(ie.type),schemaType:(0,c.getJSONTypes)(ie.schemaType)}};ie.before?_e.call(this,Re,Ze,ie.before):Re.rules.push(Ze),ge.all[k]=Ze,(K=ie.implements)===null||K===void 0||K.forEach(Pe=>this.addKeyword(Pe))}function _e(k,ie,me){const K=k.rules.findIndex(ee=>ee.keyword===me);K>=0?k.rules.splice(K,0,ie):(k.rules.push(ie),this.logger.warn(`rule ${me} is not defined`))}function de(k){let{metaSchema:ie}=k;ie!==void 0&&(k.$data&&this.opts.$data&&(ie=Ae(ie)),k.validateSchema=this.compile(ie,!0))}const ue={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Ae(k){return{anyOf:[k,ue]}}}(ER)),ER}var j_={},$_={},B_={},P8;function UPe(){if(P8)return B_;P8=1,Object.defineProperty(B_,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return B_.default=e,B_}var xl={},O8;function qPe(){if(O8)return xl;O8=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.callRef=xl.getValidate=void 0;const e=kL(),t=as(),n=In(),r=qu(),i=NL(),a=Kn(),o={keyword:"$ref",schemaType:"string",code(c){const{gen:d,schema:h,it:m}=c,{baseId:y,schemaEnv:v,validateName:_,opts:S,self:b}=m,{root:x}=v;if((h==="#"||h==="#/")&&y===x.baseId)return P();const R=i.resolveRef.call(b,x,y,h);if(R===void 0)throw new e.default(m.opts.uriResolver,y,h);if(R instanceof i.SchemaEnv)return O(R);return D(R);function P(){if(v===x)return l(c,_,v,v.$async);const F=d.scopeValue("root",{ref:x});return l(c,(0,n._)`${F}.validate`,x,x.$async)}function O(F){const Q=s(c,F);l(c,Q,F,F.$async)}function D(F){const Q=d.scopeValue("schema",S.code.source===!0?{ref:F,code:(0,n.stringify)(F)}:{ref:F}),Y=d.name("valid"),U=c.subschema({schema:F,dataTypes:[],schemaPath:n.nil,topSchemaRef:Q,errSchemaPath:h},Y);c.mergeEvaluated(U),c.ok(Y)}}};function s(c,d){const{gen:h}=c;return d.validate?h.scopeValue("validate",{ref:d.validate}):(0,n._)`${h.scopeValue("wrapper",{ref:d})}.validate`}xl.getValidate=s;function l(c,d,h,m){const{gen:y,it:v}=c,{allErrors:_,schemaEnv:S,opts:b}=v,x=b.passContext?r.default.this:n.nil;m?R():P();function R(){if(!S.$async)throw new Error("async schema referenced by sync schema");const F=y.let("valid");y.try(()=>{y.code((0,n._)`await ${(0,t.callValidateCode)(c,d,x)}`),D(d),_||y.assign(F,!0)},Q=>{y.if((0,n._)`!(${Q} instanceof ${v.ValidationError})`,()=>y.throw(Q)),O(Q),_||y.assign(F,!1)}),c.ok(F)}function P(){c.result((0,t.callValidateCode)(c,d,x),()=>D(d),()=>O(d))}function O(F){const Q=(0,n._)`${F}.errors`;y.assign(r.default.vErrors,(0,n._)`${r.default.vErrors} === null ? ${Q} : ${r.default.vErrors}.concat(${Q})`),y.assign(r.default.errors,(0,n._)`${r.default.vErrors}.length`)}function D(F){var Q;if(!v.opts.unevaluated)return;const Y=(Q=h==null?void 0:h.validate)===null||Q===void 0?void 0:Q.evaluated;if(v.props!==!0)if(Y&&!Y.dynamicProps)Y.props!==void 0&&(v.props=a.mergeEvaluated.props(y,Y.props,v.props));else{const U=y.var("props",(0,n._)`${F}.evaluated.props`);v.props=a.mergeEvaluated.props(y,U,v.props,n.Name)}if(v.items!==!0)if(Y&&!Y.dynamicItems)Y.items!==void 0&&(v.items=a.mergeEvaluated.items(y,Y.items,v.items));else{const U=y.var("items",(0,n._)`${F}.evaluated.items`);v.items=a.mergeEvaluated.items(y,U,v.items,n.Name)}}}return xl.callRef=l,xl.default=o,xl}var L8;function zPe(){if(L8)return $_;L8=1,Object.defineProperty($_,"__esModule",{value:!0});const e=UPe(),t=qPe(),n=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return $_.default=n,$_}var U_={},q_={},I8;function HPe(){if(I8)return q_;I8=1,Object.defineProperty(q_,"__esModule",{value:!0});const e=In(),t=e.operators,n={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},r={message:({keyword:a,schemaCode:o})=>(0,e.str)`must be ${n[a].okStr} ${o}`,params:({keyword:a,schemaCode:o})=>(0,e._)`{comparison: ${n[a].okStr}, limit: ${o}}`},i={keyword:Object.keys(n),type:"number",schemaType:"number",$data:!0,error:r,code(a){const{keyword:o,data:s,schemaCode:l}=a;a.fail$data((0,e._)`${s} ${n[o].fail} ${l} || isNaN(${s})`)}};return q_.default=i,q_}var z_={},M8;function VPe(){if(M8)return z_;M8=1,Object.defineProperty(z_,"__esModule",{value:!0});const e=In(),n={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:i,data:a,schemaCode:o,it:s}=r,l=s.opts.multipleOfPrecision,c=i.let("res"),d=l?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${l}`:(0,e._)`${c} !== parseInt(${c})`;r.fail$data((0,e._)`(${o} === 0 || (${c} = ${a}/${o}, ${d}))`)}};return z_.default=n,z_}var H_={},V_={},D8;function KPe(){if(D8)return V_;D8=1,Object.defineProperty(V_,"__esModule",{value:!0});function e(t){const n=t.length;let r=0,i=0,a;for(;i<n;)r++,a=t.charCodeAt(i++),a>=55296&&a<=56319&&i<n&&(a=t.charCodeAt(i),(a&64512)===56320&&i++);return r}return V_.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',V_}var k8;function GPe(){if(k8)return H_;k8=1,Object.defineProperty(H_,"__esModule",{value:!0});const e=In(),t=Kn(),n=KPe(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:o}){const s=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${o} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:o,data:s,schemaCode:l,it:c}=a,d=o==="maxLength"?e.operators.GT:e.operators.LT,h=c.opts.unicode===!1?(0,e._)`${s}.length`:(0,e._)`${(0,t.useFunc)(a.gen,n.default)}(${s})`;a.fail$data((0,e._)`${h} ${d} ${l}`)}};return H_.default=i,H_}var K_={},N8;function WPe(){if(N8)return K_;N8=1,Object.defineProperty(K_,"__esModule",{value:!0});const e=as(),t=In(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,t.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,t._)`{pattern: ${i}}`},code(i){const{data:a,$data:o,schema:s,schemaCode:l,it:c}=i,d=c.opts.unicodeRegExp?"u":"",h=o?(0,t._)`(new RegExp(${l}, ${d}))`:(0,e.usePattern)(i,s);i.fail$data((0,t._)`!${h}.test(${a})`)}};return K_.default=r,K_}var G_={},F8;function QPe(){if(F8)return G_;F8=1,Object.defineProperty(G_,"__esModule",{value:!0});const e=In(),n={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${a}).length ${s} ${o}`)}};return G_.default=n,G_}var W_={},j8;function ZPe(){if(j8)return W_;j8=1,Object.defineProperty(W_,"__esModule",{value:!0});const e=as(),t=In(),n=Kn(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:o,schema:s,schemaCode:l,data:c,$data:d,it:h}=a,{opts:m}=h;if(!d&&s.length===0)return;const y=s.length>=m.loopRequired;if(h.allErrors?v():_(),m.strictRequired){const x=a.parentSchema.properties,{definedProperties:R}=a.it;for(const P of s)if((x==null?void 0:x[P])===void 0&&!R.has(P)){const O=h.schemaEnv.baseId+h.errSchemaPath,D=`required property "${P}" is not defined at "${O}" (strictRequired)`;(0,n.checkStrictMode)(h,D,h.opts.strictRequired)}}function v(){if(y||d)a.block$data(t.nil,S);else for(const x of s)(0,e.checkReportMissingProp)(a,x)}function _(){const x=o.let("missing");if(y||d){const R=o.let("valid",!0);a.block$data(R,()=>b(x,R)),a.ok(R)}else o.if((0,e.checkMissingProp)(a,s,x)),(0,e.reportMissingProp)(a,x),o.else()}function S(){o.forOf("prop",l,x=>{a.setParams({missingProperty:x}),o.if((0,e.noPropertyInData)(o,c,x,m.ownProperties),()=>a.error())})}function b(x,R){a.setParams({missingProperty:x}),o.forOf(x,l,()=>{o.assign(R,(0,e.propertyInData)(o,c,x,m.ownProperties)),o.if((0,t.not)(R),()=>{a.error(),o.break()})},t.nil)}}};return W_.default=i,W_}var Q_={},$8;function JPe(){if($8)return Q_;$8=1,Object.defineProperty(Q_,"__esModule",{value:!0});const e=In(),n={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:i}){const a=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${i} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:i,data:a,schemaCode:o}=r,s=i==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${a}.length ${s} ${o}`)}};return Q_.default=n,Q_}var Z_={},J_={},B8;function FL(){if(B8)return J_;B8=1,Object.defineProperty(J_,"__esModule",{value:!0});const e=iG();return e.code='require("ajv/dist/runtime/equal").default',J_.default=e,J_}var U8;function XPe(){if(U8)return Z_;U8=1,Object.defineProperty(Z_,"__esModule",{value:!0});const e=Nw(),t=In(),n=Kn(),r=FL(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:s}})=>(0,t.str)`must NOT have duplicate items (items ## ${s} and ${o} are identical)`,params:({params:{i:o,j:s}})=>(0,t._)`{i: ${o}, j: ${s}}`},code(o){const{gen:s,data:l,$data:c,schema:d,parentSchema:h,schemaCode:m,it:y}=o;if(!c&&!d)return;const v=s.let("valid"),_=h.items?(0,e.getSchemaTypes)(h.items):[];o.block$data(v,S,(0,t._)`${m} === false`),o.ok(v);function S(){const P=s.let("i",(0,t._)`${l}.length`),O=s.let("j");o.setParams({i:P,j:O}),s.assign(v,!0),s.if((0,t._)`${P} > 1`,()=>(b()?x:R)(P,O))}function b(){return _.length>0&&!_.some(P=>P==="object"||P==="array")}function x(P,O){const D=s.name("item"),F=(0,e.checkDataTypes)(_,D,y.opts.strictNumbers,e.DataType.Wrong),Q=s.const("indices",(0,t._)`{}`);s.for((0,t._)`;${P}--;`,()=>{s.let(D,(0,t._)`${l}[${P}]`),s.if(F,(0,t._)`continue`),_.length>1&&s.if((0,t._)`typeof ${D} == "string"`,(0,t._)`${D} += "_"`),s.if((0,t._)`typeof ${Q}[${D}] == "number"`,()=>{s.assign(O,(0,t._)`${Q}[${D}]`),o.error(),s.assign(v,!1).break()}).code((0,t._)`${Q}[${D}] = ${P}`)})}function R(P,O){const D=(0,n.useFunc)(s,r.default),F=s.name("outer");s.label(F).for((0,t._)`;${P}--;`,()=>s.for((0,t._)`${O} = ${P}; ${O}--;`,()=>s.if((0,t._)`${D}(${l}[${P}], ${l}[${O}])`,()=>{o.error(),s.assign(v,!1).break(F)})))}}};return Z_.default=a,Z_}var X_={},q8;function YPe(){if(q8)return X_;q8=1,Object.defineProperty(X_,"__esModule",{value:!0});const e=In(),t=Kn(),n=FL(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:o,data:s,$data:l,schemaCode:c,schema:d}=a;l||d&&typeof d=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(o,n.default)}(${s}, ${c})`):a.fail((0,e._)`${d} !== ${s}`)}};return X_.default=i,X_}var Y_={},z8;function eOe(){if(z8)return Y_;z8=1,Object.defineProperty(Y_,"__esModule",{value:!0});const e=In(),t=Kn(),n=FL(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:o,data:s,$data:l,schema:c,schemaCode:d,it:h}=a;if(!l&&c.length===0)throw new Error("enum must have non-empty array");const m=c.length>=h.opts.loopEnum;let y;const v=()=>y??(y=(0,t.useFunc)(o,n.default));let _;if(m||l)_=o.let("valid"),a.block$data(_,S);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const x=o.const("vSchema",d);_=(0,e.or)(...c.map((R,P)=>b(x,P)))}a.pass(_);function S(){o.assign(_,!1),o.forOf("v",d,x=>o.if((0,e._)`${v()}(${s}, ${x})`,()=>o.assign(_,!0).break()))}function b(x,R){const P=c[R];return typeof P=="object"&&P!==null?(0,e._)`${v()}(${s}, ${x}[${R}])`:(0,e._)`${s} === ${P}`}}};return Y_.default=i,Y_}var H8;function tOe(){if(H8)return U_;H8=1,Object.defineProperty(U_,"__esModule",{value:!0});const e=HPe(),t=VPe(),n=GPe(),r=WPe(),i=QPe(),a=ZPe(),o=JPe(),s=XPe(),l=YPe(),c=eOe(),d=[e.default,t.default,n.default,r.default,i.default,a.default,o.default,s.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},l.default,c.default];return U_.default=d,U_}var e0={},$d={},V8;function aG(){if(V8)return $d;V8=1,Object.defineProperty($d,"__esModule",{value:!0}),$d.validateAdditionalItems=void 0;const e=In(),t=Kn(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:o,it:s}=a,{items:l}=o;if(!Array.isArray(l)){(0,t.checkStrictMode)(s,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(a,l)}};function i(a,o){const{gen:s,schema:l,data:c,keyword:d,it:h}=a;h.items=!0;const m=s.const("len",(0,e._)`${c}.length`);if(l===!1)a.setParams({len:o.length}),a.pass((0,e._)`${m} <= ${o.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(h,l)){const v=s.var("valid",(0,e._)`${m} <= ${o.length}`);s.if((0,e.not)(v),()=>y(v)),a.ok(v)}function y(v){s.forRange("i",o.length,m,_=>{a.subschema({keyword:d,dataProp:_,dataPropType:t.Type.Num},v),h.allErrors||s.if((0,e.not)(v),()=>s.break())})}}return $d.validateAdditionalItems=i,$d.default=r,$d}var t0={},Bd={},K8;function oG(){if(K8)return Bd;K8=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.validateTuple=void 0;const e=In(),t=Kn(),n=as(),r={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(a){const{schema:o,it:s}=a;if(Array.isArray(o))return i(a,"additionalItems",o);s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&a.ok((0,n.validateArray)(a))}};function i(a,o,s=a.schema){const{gen:l,parentSchema:c,data:d,keyword:h,it:m}=a;_(c),m.opts.unevaluated&&s.length&&m.items!==!0&&(m.items=t.mergeEvaluated.items(l,s.length,m.items));const y=l.name("valid"),v=l.const("len",(0,e._)`${d}.length`);s.forEach((S,b)=>{(0,t.alwaysValidSchema)(m,S)||(l.if((0,e._)`${v} > ${b}`,()=>a.subschema({keyword:h,schemaProp:b,dataProp:b},y)),a.ok(y))});function _(S){const{opts:b,errSchemaPath:x}=m,R=s.length,P=R===S.minItems&&(R===S.maxItems||S[o]===!1);if(b.strictTuples&&!P){const O=`"${h}" is ${R}-tuple, but minItems or maxItems/${o} are not specified or different at path "${x}"`;(0,t.checkStrictMode)(m,O,b.strictTuples)}}}return Bd.validateTuple=i,Bd.default=r,Bd}var G8;function nOe(){if(G8)return t0;G8=1,Object.defineProperty(t0,"__esModule",{value:!0});const e=oG(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:n=>(0,e.validateTuple)(n,"items")};return t0.default=t,t0}var n0={},W8;function rOe(){if(W8)return n0;W8=1,Object.defineProperty(n0,"__esModule",{value:!0});const e=In(),t=Kn(),n=as(),r=aG(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,e.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,e._)`{limit: ${o}}`},code(o){const{schema:s,parentSchema:l,it:c}=o,{prefixItems:d}=l;c.items=!0,!(0,t.alwaysValidSchema)(c,s)&&(d?(0,r.validateAdditionalItems)(o,d):o.ok((0,n.validateArray)(o)))}};return n0.default=a,n0}var r0={},Q8;function iOe(){if(Q8)return r0;Q8=1,Object.defineProperty(r0,"__esModule",{value:!0});const e=In(),t=Kn(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:a}})=>a===void 0?(0,e.str)`must contain at least ${i} valid item(s)`:(0,e.str)`must contain at least ${i} and no more than ${a} valid item(s)`,params:({params:{min:i,max:a}})=>a===void 0?(0,e._)`{minContains: ${i}}`:(0,e._)`{minContains: ${i}, maxContains: ${a}}`},code(i){const{gen:a,schema:o,parentSchema:s,data:l,it:c}=i;let d,h;const{minContains:m,maxContains:y}=s;c.opts.next?(d=m===void 0?1:m,h=y):d=1;const v=a.const("len",(0,e._)`${l}.length`);if(i.setParams({min:d,max:h}),h===void 0&&d===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&d>h){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,t.alwaysValidSchema)(c,o)){let R=(0,e._)`${v} >= ${d}`;h!==void 0&&(R=(0,e._)`${R} && ${v} <= ${h}`),i.pass(R);return}c.items=!0;const _=a.name("valid");h===void 0&&d===1?b(_,()=>a.if(_,()=>a.break())):d===0?(a.let(_,!0),h!==void 0&&a.if((0,e._)`${l}.length > 0`,S)):(a.let(_,!1),S()),i.result(_,()=>i.reset());function S(){const R=a.name("_valid"),P=a.let("count",0);b(R,()=>a.if(R,()=>x(P)))}function b(R,P){a.forRange("i",0,v,O=>{i.subschema({keyword:"contains",dataProp:O,dataPropType:t.Type.Num,compositeRule:!0},R),P()})}function x(R){a.code((0,e._)`${R}++`),h===void 0?a.if((0,e._)`${R} >= ${d}`,()=>a.assign(_,!0).break()):(a.if((0,e._)`${R} > ${h}`,()=>a.assign(_,!1).break()),d===1?a.assign(_,!0):a.if((0,e._)`${R} >= ${d}`,()=>a.assign(_,!0)))}}};return r0.default=r,r0}var LR={},Z8;function aOe(){return Z8||(Z8=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=In(),n=Kn(),r=as();e.error={message:({params:{property:l,depsCount:c,deps:d}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${d} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:d,missingProperty:h}})=>(0,t._)`{property: ${l},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(l){const[c,d]=a(l);o(l,c),s(l,d)}};function a({schema:l}){const c={},d={};for(const h in l){if(h==="__proto__")continue;const m=Array.isArray(l[h])?c:d;m[h]=l[h]}return[c,d]}function o(l,c=l.schema){const{gen:d,data:h,it:m}=l;if(Object.keys(c).length===0)return;const y=d.let("missing");for(const v in c){const _=c[v];if(_.length===0)continue;const S=(0,r.propertyInData)(d,h,v,m.opts.ownProperties);l.setParams({property:v,depsCount:_.length,deps:_.join(", ")}),m.allErrors?d.if(S,()=>{for(const b of _)(0,r.checkReportMissingProp)(l,b)}):(d.if((0,t._)`${S} && (${(0,r.checkMissingProp)(l,_,y)})`),(0,r.reportMissingProp)(l,y),d.else())}}e.validatePropertyDeps=o;function s(l,c=l.schema){const{gen:d,data:h,keyword:m,it:y}=l,v=d.name("valid");for(const _ in c)(0,n.alwaysValidSchema)(y,c[_])||(d.if((0,r.propertyInData)(d,h,_,y.opts.ownProperties),()=>{const S=l.subschema({keyword:m,schemaProp:_},v);l.mergeValidEvaluated(S,v)},()=>d.var(v,!0)),l.ok(v))}e.validateSchemaDeps=s,e.default=i}(LR)),LR}var i0={},J8;function oOe(){if(J8)return i0;J8=1,Object.defineProperty(i0,"__esModule",{value:!0});const e=In(),t=Kn(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,e._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:a,schema:o,data:s,it:l}=i;if((0,t.alwaysValidSchema)(l,o))return;const c=a.name("valid");a.forIn("key",s,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},c),a.if((0,e.not)(c),()=>{i.error(!0),l.allErrors||a.break()})}),i.ok(c)}};return i0.default=r,i0}var a0={},X8;function sG(){if(X8)return a0;X8=1,Object.defineProperty(a0,"__esModule",{value:!0});const e=as(),t=In(),n=qu(),r=Kn(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,t._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:s,schema:l,parentSchema:c,data:d,errsCount:h,it:m}=o;if(!h)throw new Error("ajv implementation error");const{allErrors:y,opts:v}=m;if(m.props=!0,v.removeAdditional!=="all"&&(0,r.alwaysValidSchema)(m,l))return;const _=(0,e.allSchemaProperties)(c.properties),S=(0,e.allSchemaProperties)(c.patternProperties);b(),o.ok((0,t._)`${h} === ${n.default.errors}`);function b(){s.forIn("key",d,D=>{!_.length&&!S.length?P(D):s.if(x(D),()=>P(D))})}function x(D){let F;if(_.length>8){const Q=(0,r.schemaRefOrVal)(m,c.properties,"properties");F=(0,e.isOwnProperty)(s,Q,D)}else _.length?F=(0,t.or)(..._.map(Q=>(0,t._)`${D} === ${Q}`)):F=t.nil;return S.length&&(F=(0,t.or)(F,...S.map(Q=>(0,t._)`${(0,e.usePattern)(o,Q)}.test(${D})`))),(0,t.not)(F)}function R(D){s.code((0,t._)`delete ${d}[${D}]`)}function P(D){if(v.removeAdditional==="all"||v.removeAdditional&&l===!1){R(D);return}if(l===!1){o.setParams({additionalProperty:D}),o.error(),y||s.break();return}if(typeof l=="object"&&!(0,r.alwaysValidSchema)(m,l)){const F=s.name("valid");v.removeAdditional==="failing"?(O(D,F,!1),s.if((0,t.not)(F),()=>{o.reset(),R(D)})):(O(D,F),y||s.if((0,t.not)(F),()=>s.break()))}}function O(D,F,Q){const Y={keyword:"additionalProperties",dataProp:D,dataPropType:r.Type.Str};Q===!1&&Object.assign(Y,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(Y,F)}}};return a0.default=a,a0}var o0={},Y8;function sOe(){if(Y8)return o0;Y8=1,Object.defineProperty(o0,"__esModule",{value:!0});const e=jy(),t=as(),n=Kn(),r=sG(),i={keyword:"properties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,parentSchema:l,data:c,it:d}=a;d.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&r.default.code(new e.KeywordCxt(d,r.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(s);for(const S of h)d.definedProperties.add(S);d.opts.unevaluated&&h.length&&d.props!==!0&&(d.props=n.mergeEvaluated.props(o,(0,n.toHash)(h),d.props));const m=h.filter(S=>!(0,n.alwaysValidSchema)(d,s[S]));if(m.length===0)return;const y=o.name("valid");for(const S of m)v(S)?_(S):(o.if((0,t.propertyInData)(o,c,S,d.opts.ownProperties)),_(S),d.allErrors||o.else().var(y,!0),o.endIf()),a.it.definedProperties.add(S),a.ok(y);function v(S){return d.opts.useDefaults&&!d.compositeRule&&s[S].default!==void 0}function _(S){a.subschema({keyword:"properties",schemaProp:S,dataProp:S},y)}}};return o0.default=i,o0}var s0={},eB;function uOe(){if(eB)return s0;eB=1,Object.defineProperty(s0,"__esModule",{value:!0});const e=as(),t=In(),n=Kn(),r=Kn(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(a){const{gen:o,schema:s,data:l,parentSchema:c,it:d}=a,{opts:h}=d,m=(0,e.allSchemaProperties)(s),y=m.filter(P=>(0,n.alwaysValidSchema)(d,s[P]));if(m.length===0||y.length===m.length&&(!d.opts.unevaluated||d.props===!0))return;const v=h.strictSchema&&!h.allowMatchingProperties&&c.properties,_=o.name("valid");d.props!==!0&&!(d.props instanceof t.Name)&&(d.props=(0,r.evaluatedPropsToName)(o,d.props));const{props:S}=d;b();function b(){for(const P of m)v&&x(P),d.allErrors?R(P):(o.var(_,!0),R(P),o.if(_))}function x(P){for(const O in v)new RegExp(P).test(O)&&(0,n.checkStrictMode)(d,`property ${O} matches pattern ${P} (use allowMatchingProperties)`)}function R(P){o.forIn("key",l,O=>{o.if((0,t._)`${(0,e.usePattern)(a,P)}.test(${O})`,()=>{const D=y.includes(P);D||a.subschema({keyword:"patternProperties",schemaProp:P,dataProp:O,dataPropType:r.Type.Str},_),d.opts.unevaluated&&S!==!0?o.assign((0,t._)`${S}[${O}]`,!0):!D&&!d.allErrors&&o.if((0,t.not)(_),()=>o.break())})})}}};return s0.default=i,s0}var u0={},tB;function lOe(){if(tB)return u0;tB=1,Object.defineProperty(u0,"__esModule",{value:!0});const e=Kn(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(n){const{gen:r,schema:i,it:a}=n;if((0,e.alwaysValidSchema)(a,i)){n.fail();return}const o=r.name("valid");n.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),n.failResult(o,()=>n.reset(),()=>n.error())},error:{message:"must NOT be valid"}};return u0.default=t,u0}var l0={},nB;function cOe(){if(nB)return l0;nB=1,Object.defineProperty(l0,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:as().validateUnion,error:{message:"must match a schema in anyOf"}};return l0.default=t,l0}var c0={},rB;function fOe(){if(rB)return c0;rB=1,Object.defineProperty(c0,"__esModule",{value:!0});const e=In(),t=Kn(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,e._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:a,schema:o,parentSchema:s,it:l}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(l.opts.discriminator&&s.discriminator)return;const c=o,d=a.let("valid",!1),h=a.let("passing",null),m=a.name("_valid");i.setParams({passing:h}),a.block(y),i.result(d,()=>i.reset(),()=>i.error(!0));function y(){c.forEach((v,_)=>{let S;(0,t.alwaysValidSchema)(l,v)?a.var(m,!0):S=i.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},m),_>0&&a.if((0,e._)`${m} && ${d}`).assign(d,!1).assign(h,(0,e._)`[${h}, ${_}]`).else(),a.if(m,()=>{a.assign(d,!0),a.assign(h,_),S&&i.mergeEvaluated(S,e.Name)})})}}};return c0.default=r,c0}var f0={},iB;function dOe(){if(iB)return f0;iB=1,Object.defineProperty(f0,"__esModule",{value:!0});const e=Kn(),t={keyword:"allOf",schemaType:"array",code(n){const{gen:r,schema:i,it:a}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=r.name("valid");i.forEach((s,l)=>{if((0,e.alwaysValidSchema)(a,s))return;const c=n.subschema({keyword:"allOf",schemaProp:l},o);n.ok(o),n.mergeEvaluated(c)})}};return f0.default=t,f0}var d0={},aB;function hOe(){if(aB)return d0;aB=1,Object.defineProperty(d0,"__esModule",{value:!0});const e=In(),t=Kn(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:o,parentSchema:s,it:l}=a;s.then===void 0&&s.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const c=i(l,"then"),d=i(l,"else");if(!c&&!d)return;const h=o.let("valid",!0),m=o.name("_valid");if(y(),a.reset(),c&&d){const _=o.let("ifClause");a.setParams({ifClause:_}),o.if(m,v("then",_),v("else",_))}else c?o.if(m,v("then")):o.if((0,e.not)(m),v("else"));a.pass(h,()=>a.error(!0));function y(){const _=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},m);a.mergeEvaluated(_)}function v(_,S){return()=>{const b=a.subschema({keyword:_},m);o.assign(h,m),a.mergeValidEvaluated(b,h),S?o.assign(S,(0,e._)`${_}`):a.setParams({ifClause:_})}}}};function i(a,o){const s=a.schema[o];return s!==void 0&&!(0,t.alwaysValidSchema)(a,s)}return d0.default=r,d0}var h0={},oB;function pOe(){if(oB)return h0;oB=1,Object.defineProperty(h0,"__esModule",{value:!0});const e=Kn(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:n,parentSchema:r,it:i}){r.if===void 0&&(0,e.checkStrictMode)(i,`"${n}" without "if" is ignored`)}};return h0.default=t,h0}var sB;function gOe(){if(sB)return e0;sB=1,Object.defineProperty(e0,"__esModule",{value:!0});const e=aG(),t=nOe(),n=oG(),r=rOe(),i=iOe(),a=aOe(),o=oOe(),s=sG(),l=sOe(),c=uOe(),d=lOe(),h=cOe(),m=fOe(),y=dOe(),v=hOe(),_=pOe();function S(b=!1){const x=[d.default,h.default,m.default,y.default,v.default,_.default,o.default,s.default,a.default,l.default,c.default];return b?x.push(t.default,r.default):x.push(e.default,n.default),x.push(i.default),x}return e0.default=S,e0}var p0={},g0={},uB;function mOe(){if(uB)return g0;uB=1,Object.defineProperty(g0,"__esModule",{value:!0});const e=In(),n={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,i){const{gen:a,data:o,$data:s,schema:l,schemaCode:c,it:d}=r,{opts:h,errSchemaPath:m,schemaEnv:y,self:v}=d;if(!h.validateFormats)return;s?_():S();function _(){const b=a.scopeValue("formats",{ref:v.formats,code:h.code.formats}),x=a.const("fDef",(0,e._)`${b}[${c}]`),R=a.let("fType"),P=a.let("format");a.if((0,e._)`typeof ${x} == "object" && !(${x} instanceof RegExp)`,()=>a.assign(R,(0,e._)`${x}.type || "string"`).assign(P,(0,e._)`${x}.validate`),()=>a.assign(R,(0,e._)`"string"`).assign(P,x)),r.fail$data((0,e.or)(O(),D()));function O(){return h.strictSchema===!1?e.nil:(0,e._)`${c} && !${P}`}function D(){const F=y.$async?(0,e._)`(${x}.async ? await ${P}(${o}) : ${P}(${o}))`:(0,e._)`${P}(${o})`,Q=(0,e._)`(typeof ${P} == "function" ? ${F} : ${P}.test(${o}))`;return(0,e._)`${P} && ${P} !== true && ${R} === ${i} && !${Q}`}}function S(){const b=v.formats[l];if(!b){O();return}if(b===!0)return;const[x,R,P]=D(b);x===i&&r.pass(F());function O(){if(h.strictSchema===!1){v.logger.warn(Q());return}throw new Error(Q());function Q(){return`unknown format "${l}" ignored in schema at path "${m}"`}}function D(Q){const Y=Q instanceof RegExp?(0,e.regexpCode)(Q):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(l)}`:void 0,U=a.scopeValue("formats",{key:l,ref:Q,code:Y});return typeof Q=="object"&&!(Q instanceof RegExp)?[Q.type||"string",Q.validate,(0,e._)`${U}.validate`]:["string",Q,U]}function F(){if(typeof b=="object"&&!(b instanceof RegExp)&&b.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${P}(${o})`}return typeof R=="function"?(0,e._)`${P}(${o})`:(0,e._)`${P}.test(${o})`}}}};return g0.default=n,g0}var lB;function yOe(){if(lB)return p0;lB=1,Object.defineProperty(p0,"__esModule",{value:!0});const t=[mOe().default];return p0.default=t,p0}var Zc={},cB;function vOe(){return cB||(cB=1,Object.defineProperty(Zc,"__esModule",{value:!0}),Zc.contentVocabulary=Zc.metadataVocabulary=void 0,Zc.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Zc.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Zc}var fB;function _Oe(){if(fB)return j_;fB=1,Object.defineProperty(j_,"__esModule",{value:!0});const e=zPe(),t=tOe(),n=gOe(),r=yOe(),i=vOe(),a=[e.default,t.default,(0,n.default)(),r.default,i.metadataVocabulary,i.contentVocabulary];return j_.default=a,j_}var m0={},fm={},dB;function wOe(){if(dB)return fm;dB=1,Object.defineProperty(fm,"__esModule",{value:!0}),fm.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(fm.DiscrError=e={})),fm}var hB;function bOe(){if(hB)return m0;hB=1,Object.defineProperty(m0,"__esModule",{value:!0});const e=In(),t=wOe(),n=NL(),r=Kn(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:s}})=>o===t.DiscrError.Tag?`tag "${s}" must be string`:`value of tag "${s}" must be in oneOf`,params:({params:{discrError:o,tag:s,tagName:l}})=>(0,e._)`{error: ${o}, tag: ${l}, tagValue: ${s}}`},code(o){const{gen:s,data:l,schema:c,parentSchema:d,it:h}=o,{oneOf:m}=d;if(!h.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=c.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(c.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const v=s.let("valid",!1),_=s.const("tag",(0,e._)`${l}${(0,e.getProperty)(y)}`);s.if((0,e._)`typeof ${_} == "string"`,()=>S(),()=>o.error(!1,{discrError:t.DiscrError.Tag,tag:_,tagName:y})),o.ok(v);function S(){const R=x();s.if(!1);for(const P in R)s.elseIf((0,e._)`${_} === ${P}`),s.assign(v,b(R[P]));s.else(),o.error(!1,{discrError:t.DiscrError.Mapping,tag:_,tagName:y}),s.endIf()}function b(R){const P=s.name("valid"),O=o.subschema({keyword:"oneOf",schemaProp:R},P);return o.mergeEvaluated(O,e.Name),P}function x(){var R;const P={},O=F(d);let D=!0;for(let U=0;U<m.length;U++){let X=m[U];X!=null&&X.$ref&&!(0,r.schemaHasRulesButRef)(X,h.self.RULES)&&(X=n.resolveRef.call(h.self,h.schemaEnv.root,h.baseId,X==null?void 0:X.$ref),X instanceof n.SchemaEnv&&(X=X.schema));const ce=(R=X==null?void 0:X.properties)===null||R===void 0?void 0:R[y];if(typeof ce!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);D=D&&(O||F(X)),Q(ce,U)}if(!D)throw new Error(`discriminator: "${y}" must be required`);return P;function F({required:U}){return Array.isArray(U)&&U.includes(y)}function Q(U,X){if(U.const)Y(U.const,X);else if(U.enum)for(const ce of U.enum)Y(ce,X);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function Y(U,X){if(typeof U!="string"||U in P)throw new Error(`discriminator: "${y}" values must be unique strings`);P[U]=X}}}};return m0.default=a,m0}const SOe="http://json-schema.org/draft-07/schema#",xOe="http://json-schema.org/draft-07/schema#",EOe="Core schema meta-schema",COe={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},TOe=["object","boolean"],ROe={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},AOe={$schema:SOe,$id:xOe,title:EOe,definitions:COe,type:TOe,properties:ROe,default:!0};var pB;function uG(){return pB||(pB=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const n=BPe(),r=_Oe(),i=bOe(),a=AOe,o=["/properties"],s="http://json-schema.org/draft-07/schema";class l extends n.default{_addVocabularies(){super._addVocabularies(),r.default.forEach(v=>this.addVocabulary(v)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const v=this.opts.$data?this.$dataMetaSchema(a,o):a;this.addMetaSchema(v,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}t.Ajv=l,e.exports=t=l,e.exports.Ajv=l,Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var c=jy();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var d=In();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var h=DL();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var m=kL();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}(M_,M_.exports)),M_.exports}var POe=uG();const OOe=Ir(POe);var y0={exports:{}},gB;function LOe(){return gB||(gB=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n=uG(),r=In(),i=ty(),a=jy(),o=Fy(),s=qu(),l="errorMessage",c=new n.Name("emUsed"),d={required:"missingProperty",dependencies:"property",dependentRequired:"property"},h=/\$\{[^}]+\}/,m=/\$\{([^}]+)\}/g,y=/^""\s*\+\s*|\s*\+\s*""$/g;function v(S){return{keyword:l,schemaType:["string","object"],post:!0,code(b){const{gen:x,data:R,schema:P,schemaValue:O,it:D}=b;if(D.createErrors===!1)return;const F=P,Q=r.strConcat(s.default.instancePath,D.errorPath);x.if(n._`${s.default.errors} > 0`,()=>{if(typeof F=="object"){const[K,ee]=U(F);ee&&X(ee),K&&ce(K),te(Y(F))}const me=typeof F=="string"?F:F._;me&&se(me),S.keepErrors||pe()});function Y({properties:me,items:K}){const ee={};if(me){ee.props={};for(const ge in me)ee.props[ge]=[]}if(K){ee.items={};for(let ge=0;ge<K.length;ge++)ee.items[ge]=[]}return ee}function U(me){let K,ee;for(const ge in me){if(ge==="properties"||ge==="items")continue;const Re=me[ge];if(typeof Re=="object"){K||(K={});const Ze=K[ge]={};for(const Pe in Re)Ze[Pe]=[]}else ee||(ee={}),ee[ge]=[]}return[K,ee]}function X(me){const K=x.const("emErrors",n.stringify(me)),ee=x.const("templates",Ae(me,P));x.forOf("err",s.default.vErrors,Pe=>x.if(_e(Pe,K),()=>x.code(n._`${K}[${Pe}.keyword].push(${Pe})`).assign(n._`${Pe}.${c}`,!0)));const{singleError:ge}=S;if(ge){const Pe=x.let("message",n._`""`),Ne=x.let("paramsErrors",n._`[]`);Re(Xe=>{x.if(Pe,()=>x.code(n._`${Pe} += ${typeof ge=="string"?ge:";"}`)),x.code(n._`${Pe} += ${Ze(Xe)}`),x.assign(Ne,n._`${Ne}.concat(${K}[${Xe}])`)}),o.reportError(b,{message:Pe,params:n._`{errors: ${Ne}}`})}else Re(Pe=>o.reportError(b,{message:Ze(Pe),params:n._`{errors: ${K}[${Pe}]}`}));function Re(Pe){x.forIn("key",K,Ne=>x.if(n._`${K}[${Ne}].length`,()=>Pe(Ne)))}function Ze(Pe){return n._`${Pe} in ${ee} ? ${ee}[${Pe}]() : ${O}[${Pe}]`}}function ce(me){const K=x.const("emErrors",n.stringify(me)),ee=[];for(const Ne in me)ee.push([Ne,Ae(me[Ne],P[Ne])]);const ge=x.const("templates",x.object(...ee)),Re=x.scopeValue("obj",{ref:d,code:n.stringify(d)}),Ze=x.let("emPropParams"),Pe=x.let("emParamsErrors");x.forOf("err",s.default.vErrors,Ne=>x.if(_e(Ne,K),()=>{x.assign(Ze,n._`${Re}[${Ne}.keyword]`),x.assign(Pe,n._`${K}[${Ne}.keyword][${Ne}.params[${Ze}]]`),x.if(Pe,()=>x.code(n._`${Pe}.push(${Ne})`).assign(n._`${Ne}.${c}`,!0))})),x.forIn("key",K,Ne=>x.forIn("keyProp",n._`${K}[${Ne}]`,Xe=>{x.assign(Pe,n._`${K}[${Ne}][${Xe}]`),x.if(n._`${Pe}.length`,()=>{const oe=x.const("tmpl",n._`${ge}[${Ne}] && ${ge}[${Ne}][${Xe}]`);o.reportError(b,{message:n._`${oe} ? ${oe}() : ${O}[${Ne}][${Xe}]`,params:n._`{errors: ${Pe}}`})})}))}function te(me){const{props:K,items:ee}=me;if(!K&&!ee)return;const ge=n._`typeof ${R} == "object"`,Re=n._`Array.isArray(${R})`,Ze=x.let("emErrors");let Pe,Ne;const Xe=x.let("templates");K&&ee?(Pe=x.let("emChildKwd"),x.if(ge),x.if(Re,()=>{oe(ee,P.items),x.assign(Pe,n.str`items`)},()=>{oe(K,P.properties),x.assign(Pe,n.str`properties`)}),Ne=n._`[${Pe}]`):ee?(x.if(Re),oe(ee,P.items),Ne=n._`.items`):K&&(x.if(r.and(ge,r.not(Re))),oe(K,P.properties),Ne=n._`.properties`),x.forOf("err",s.default.vErrors,H=>de(H,Ze,$=>x.code(n._`${Ze}[${$}].push(${H})`).assign(n._`${H}.${c}`,!0))),x.forIn("key",Ze,H=>x.if(n._`${Ze}[${H}].length`,()=>{o.reportError(b,{message:n._`${H} in ${Xe} ? ${Xe}[${H}]() : ${O}${Ne}[${H}]`,params:n._`{errors: ${Ze}[${H}]}`}),x.assign(n._`${s.default.vErrors}[${s.default.errors}-1].instancePath`,n._`${Q} + "/" + ${H}.replace(/~/g, "~0").replace(/\\//g, "~1")`)})),x.endIf();function oe(H,$){x.assign(Ze,n.stringify(H)),x.assign(Xe,Ae(H,$))}}function se(me){const K=x.const("emErrs",n._`[]`);x.forOf("err",s.default.vErrors,ee=>x.if(ue(ee),()=>x.code(n._`${K}.push(${ee})`).assign(n._`${ee}.${c}`,!0))),x.if(n._`${K}.length`,()=>o.reportError(b,{message:k(me),params:n._`{errors: ${K}}`}))}function pe(){const me=x.const("emErrs",n._`[]`);x.forOf("err",s.default.vErrors,K=>x.if(n._`!${K}.${c}`,()=>x.code(n._`${me}.push(${K})`))),x.assign(s.default.vErrors,me).assign(s.default.errors,n._`${me}.length`)}function _e(me,K){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath === ${Q}`,n._`${me}.keyword in ${K}`,n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`/^\\/[^\\/]*$/.test(${me}.schemaPath.slice(${D.errSchemaPath.length}))`)}function de(me,K,ee){x.if(r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,n._`${me}.instancePath.indexOf(${Q}) === 0`),()=>{const ge=x.scopeValue("pattern",{ref:/^\/([^/]*)(?:\/|$)/,code:n._`new RegExp("^\\\/([^/]*)(?:\\\/|$)")`}),Re=x.const("emMatches",n._`${ge}.exec(${me}.instancePath.slice(${Q}.length))`),Ze=x.const("emChild",n._`${Re} && ${Re}[1].replace(/~1/g, "/").replace(/~0/g, "~")`);x.if(n._`${Ze} !== undefined && ${Ze} in ${K}`,()=>ee(Ze))})}function ue(me){return r.and(n._`${me}.keyword !== ${l}`,n._`!${me}.${c}`,r.or(n._`${me}.instancePath === ${Q}`,r.and(n._`${me}.instancePath.indexOf(${Q}) === 0`,n._`${me}.instancePath[${Q}.length] === "/"`)),n._`${me}.schemaPath.indexOf(${D.errSchemaPath}) === 0`,n._`${me}.schemaPath[${D.errSchemaPath}.length] === "/"`)}function Ae(me,K){const ee=[];for(const ge in me){const Re=K[ge];h.test(Re)&&ee.push([ge,ie(Re)])}return x.object(...ee)}function k(me){return h.test(me)?new i._Code(i.safeStringify(me).replace(m,(K,ee)=>`" + JSON.stringify(${a.getData(ee,D)}) + "`).replace(y,"")):n.stringify(me)}function ie(me){return n._`function(){return ${k(me)}}`}},metaSchema:{anyOf:[{type:"string"},{type:"object",properties:{properties:{$ref:"#/$defs/stringMap"},items:{$ref:"#/$defs/stringList"},required:{$ref:"#/$defs/stringOrMap"},dependencies:{$ref:"#/$defs/stringOrMap"}},additionalProperties:{type:"string"}}],$defs:{stringMap:{type:"object",additionalProperties:{type:"string"}},stringOrMap:{anyOf:[{type:"string"},{$ref:"#/$defs/stringMap"}]},stringList:{type:"array",items:{type:"string"}}}}}}const _=(S,b={})=>{if(!S.opts.allErrors)throw new Error("ajv-errors: Ajv option allErrors must be true");if(S.opts.jsPropertySyntax)throw new Error("ajv-errors: ajv option jsPropertySyntax is not supported");return S.addKeyword(v(b))};t.default=_,e.exports=_,e.exports.default=_}(y0,y0.exports)),y0.exports}var IOe=LOe();const MOe=Ir(IOe);var DOe=function(e,t){return e.forEach(function(n){n.keyword==="required"&&(n.instancePath+="/"+n.params.missingProperty)}),e.reduce(function(n,r){var i=r.instancePath.substring(1).replace(/\//g,".");if(n[i]||(n[i]={message:r.message,type:r.keyword}),t){var a=n[i].types,o=a&&a[r.keyword];n[i]=kK(i,t,n,r.keyword,o?[].concat(o,r.message||""):r.message)}return n},{})},lG=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{var o=new OOe(Object.assign({},{allErrors:!0,validateSchema:!0},t));MOe(o);var s=o.compile(Object.assign({$async:n&&n.mode==="async"},e)),l=s(r);return a.shouldUseNativeValidation&&tG({},a),Promise.resolve(l?{values:r,errors:{}}:{values:{},errors:xPe(DOe(s.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)})}catch(c){return Promise.reject(c)}}};const kOe="_list_fgw4_1",NOe="_trigger_fgw4_5",FOe="_edited_fgw4_12",jOe="_empty_fgw4_15",af={list:kOe,trigger:NOe,edited:FOe,empty:jOe},$Oe="_input_17zzx_1",BOe="_dialogOverlay_17zzx_5",UOe="_overlayShow_17zzx_1",qOe="_dialogContent_17zzx_12",zOe="_contentShow_17zzx_1",HOe="_localeToggleGroup_17zzx_31",VOe="_item_17zzx_35",KOe="_controls_17zzx_38",ef={input:$Oe,dialogOverlay:BOe,overlayShow:UOe,dialogContent:qOe,contentShow:zOe,localeToggleGroup:HOe,item:VOe,controls:KOe},cG=({name:e,locale:t,value:n,onChange:r,onBlur:i,ref:a,initialData:o,className:s,...l})=>{const c=V.useMemo(()=>[...new Set([...Object.keys(n),t])].sort(G9([t])),[t,n]),[d,h]=V.useState(t);return V.useEffect(()=>{(n==null?void 0:n[d])===void 0&&r({[d]:"",...n})},[r,d,n]),B.jsxs(cL,{value:d,onValueChange:h,children:[B.jsxs(fL,{className:af.list,children:[c.map(m=>B.jsx(dL,{value:m,className:Rr(af.trigger,{[af.edited]:o!=null&&o[m]?n[m]!==o[m]:n[m],[af.empty]:!n[m]}),children:m},m)),B.jsx(WOe,{className:af.trigger,onConfirm:m=>{m&&!c.includes(m)&&r({[m]:"",...n}),m&&h(m)}})]}),c.map(m=>B.jsx(hL,{value:m,children:B.jsx("textarea",{name:`${e}.${m}`,value:n[m],onChange:y=>{r({...n,[m]:y.target.value})},className:Rr(ef.input,s),onBlur:i,ref:a,...l})},m))]})},GOe={type:"object",required:["locale"],properties:{locale:{type:"string",minLength:2,pattern:"^[a-z]{2}(?:-[A-Z]{2})?$"}}},WOe=({onConfirm:e,...t})=>{const{locales:n}=kn(),{i18n:r,_:i}=Qr(),[a,o]=V.useState(!1),{register:s,handleSubmit:l,control:c,watch:d,formState:h}=Ns({resolver:lG(GOe)}),m=l(({locale:v},_)=>(_==null||_.stopPropagation(),e(v),o(!1),!1)),y=d("locale");return B.jsxs(Nbe,{open:a,onOpenChange:o,children:[B.jsx(Fbe,{asChild:!0,children:B.jsx("button",{type:"button",...t,children:"+"})}),B.jsxs(jbe,{children:[B.jsx($be,{className:ef.dialogOverlay}),B.jsxs(Bbe,{className:ef.dialogContent,children:[B.jsx(Ube,{className:ef.dialogTitle,children:B.jsx(_t,{id:"uLvjiZ"})}),B.jsx(Lw,{control:c,name:"locale",render:({field:v})=>B.jsxs(ASe,{type:"single",value:v.value,onValueChange:v.onChange,className:ef.localeToggleGroup,children:[n.map(_=>B.jsx(PSe,{value:_,className:ef.item,children:_},_)),B.jsx("input",{type:"text",size:2,placeholder:r._({id:"1Lxtdt"}),...s("locale")})]})}),B.jsxs("div",{className:ef.controls,children:[B.jsx(qbe,{asChild:!0,children:B.jsx(tr,{tertiary:!0,children:B.jsx(_t,{id:"dEgA5A"})})}),B.jsx(tr,{primary:!0,onClick:m,disabled:!h.isValid,children:B.jsx(_t,{id:"k4QqVn",values:{locale:y}})})]})]})]})]})},Rs=async(e,{success:t,error:n,pending:r},i)=>(xr.promise(e,{success:t,error:n??{render:({data:a})=>B.jsxs(B.Fragment,{children:[B.jsx(_t,{id:"kf83Ld"}),B.jsx("br",{}),a.message]}),autoClose:!1},pending:r},i),await e);var IR,mB;function QOe(){if(mB)return IR;mB=1;var e=ns(),t=function(){return e.Date.now()};return IR=t,IR}var MR,yB;function ZOe(){if(yB)return MR;yB=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return MR=t,MR}var DR,vB;function JOe(){if(vB)return DR;vB=1;var e=ZOe(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return DR=n,DR}var kR,_B;function XOe(){if(_B)return kR;_B=1;var e=JOe(),t=Po(),n=Cy(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=t(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=e(c);var h=a.test(c);return h||o.test(c)?s(c.slice(2),h?2:8):i.test(c)?r:+c}return kR=l,kR}var NR,wB;function YOe(){if(wB)return NR;wB=1;var e=Po(),t=QOe(),n=XOe(),r="Expected a function",i=Math.max,a=Math.min;function o(s,l,c){var d,h,m,y,v,_,S=0,b=!1,x=!1,R=!0;if(typeof s!="function")throw new TypeError(r);l=n(l)||0,e(c)&&(b=!!c.leading,x="maxWait"in c,m=x?i(n(c.maxWait)||0,l):m,R="trailing"in c?!!c.trailing:R);function P(te){var se=d,pe=h;return d=h=void 0,S=te,y=s.apply(pe,se),y}function O(te){return S=te,v=setTimeout(Q,l),b?P(te):y}function D(te){var se=te-_,pe=te-S,_e=l-se;return x?a(_e,m-pe):_e}function F(te){var se=te-_,pe=te-S;return _===void 0||se>=l||se<0||x&&pe>=m}function Q(){var te=t();if(F(te))return Y(te);v=setTimeout(Q,D(te))}function Y(te){return v=void 0,R&&d?P(te):(d=h=void 0,y)}function U(){v!==void 0&&clearTimeout(v),S=0,d=_=h=v=void 0}function X(){return v===void 0?y:Y(t())}function ce(){var te=t(),se=F(te);if(d=arguments,h=this,_=te,se){if(v===void 0)return O(_);if(x)return clearTimeout(v),v=setTimeout(Q,l),P(_)}return v===void 0&&(v=setTimeout(Q,l)),y}return ce.cancel=U,ce.flush=X,ce}return NR=o,NR}var eLe=YOe();const tLe=Ir(eLe);function Lf(e){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lf(e)}function nLe(e,t){if(Lf(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fG(e){var t=nLe(e,"string");return Lf(t)==="symbol"?t:String(t)}function Pm(e,t,n){return t=fG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bB(Object(n),!0).forEach(function(r){Pm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rLe(e){if(Array.isArray(e))return e}function iLe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function cP(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dG(e,t){if(e){if(typeof e=="string")return cP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(e,t)}}function aLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cu(e,t){return rLe(e)||iLe(e,t)||dG(e,t)||aLe()}function oLe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function zu(e,t){if(e==null)return{};var n=oLe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var sLe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function uLe(e){var t=e.defaultInputValue,n=t===void 0?"":t,r=e.defaultMenuIsOpen,i=r===void 0?!1:r,a=e.defaultValue,o=a===void 0?null:a,s=e.inputValue,l=e.menuIsOpen,c=e.onChange,d=e.onInputChange,h=e.onMenuClose,m=e.onMenuOpen,y=e.value,v=zu(e,sLe),_=V.useState(s!==void 0?s:n),S=Cu(_,2),b=S[0],x=S[1],R=V.useState(l!==void 0?l:i),P=Cu(R,2),O=P[0],D=P[1],F=V.useState(y!==void 0?y:o),Q=Cu(F,2),Y=Q[0],U=Q[1],X=V.useCallback(function(ue,Ae){typeof c=="function"&&c(ue,Ae),U(ue)},[c]),ce=V.useCallback(function(ue,Ae){var k;typeof d=="function"&&(k=d(ue,Ae)),x(k!==void 0?k:ue)},[d]),te=V.useCallback(function(){typeof m=="function"&&m(),D(!0)},[m]),se=V.useCallback(function(){typeof h=="function"&&h(),D(!1)},[h]),pe=s!==void 0?s:b,_e=l!==void 0?l:O,de=y!==void 0?y:Y;return an(an({},v),{},{inputValue:pe,menuIsOpen:_e,onChange:X,onInputChange:ce,onMenuClose:se,onMenuOpen:te,value:de})}function sn(){return sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sn.apply(this,arguments)}function lLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fG(r.key),r)}}function cLe(e,t,n){return SB(e.prototype,t),SB(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fP(e,t){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fP(e,t)}function fLe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fP(e,t)}function Fw(e){return Fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fw(e)}function dLe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pLe(e,t){if(t&&(Lf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hLe(e)}function gLe(e){var t=dLe();return function(){var r=Fw(e),i;if(t){var a=Fw(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return pLe(this,i)}}function mLe(e){if(Array.isArray(e))return cP(e)}function yLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jL(e){return mLe(e)||yLe(e)||dG(e)||vLe()}function _Le(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function wLe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var bLe=function(){function e(n){var r=this;this._insertTag=function(i){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,a),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wLe(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var a=_Le(i);try{a.insertRule(r,a.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Vi="-ms-",jw="-moz-",Wn="-webkit-",hG="comm",$L="rule",BL="decl",SLe="@import",pG="@keyframes",xLe=Math.abs,qb=String.fromCharCode,ELe=Object.assign;function CLe(e,t){return Fi(e,0)^45?(((t<<2^Fi(e,0))<<2^Fi(e,1))<<2^Fi(e,2))<<2^Fi(e,3):0}function gG(e){return e.trim()}function TLe(e,t){return(e=t.exec(e))?e[0]:e}function er(e,t,n){return e.replace(t,n)}function dP(e,t){return e.indexOf(t)}function Fi(e,t){return e.charCodeAt(t)|0}function ny(e,t,n){return e.slice(t,n)}function Ss(e){return e.length}function UL(e){return e.length}function v0(e,t){return t.push(e),e}function RLe(e,t){return e.map(t).join("")}var zb=1,Ih=1,mG=0,La=0,ci=0,lp="";function Hb(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:zb,column:Ih,length:o,return:""}}function dm(e,t){return ELe(Hb("",null,null,"",null,null,0),e,{length:-e.length},t)}function ALe(){return ci}function PLe(){return ci=La>0?Fi(lp,--La):0,Ih--,ci===10&&(Ih=1,zb--),ci}function Xa(){return ci=La<mG?Fi(lp,La++):0,Ih++,ci===10&&(Ih=1,zb++),ci}function Ps(){return Fi(lp,La)}function K0(){return La}function $y(e,t){return ny(lp,e,t)}function ry(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yG(e){return zb=Ih=1,mG=Ss(lp=e),La=0,[]}function vG(e){return lp="",e}function G0(e){return gG($y(La-1,hP(e===91?e+2:e===40?e+1:e)))}function OLe(e){for(;(ci=Ps())&&ci<33;)Xa();return ry(e)>2||ry(ci)>3?"":" "}function LLe(e,t){for(;--t&&Xa()&&!(ci<48||ci>102||ci>57&&ci<65||ci>70&&ci<97););return $y(e,K0()+(t<6&&Ps()==32&&Xa()==32))}function hP(e){for(;Xa();)switch(ci){case e:return La;case 34:case 39:e!==34&&e!==39&&hP(ci);break;case 40:e===41&&hP(e);break;case 92:Xa();break}return La}function ILe(e,t){for(;Xa()&&e+ci!==57;)if(e+ci===84&&Ps()===47)break;return"/*"+$y(t,La-1)+"*"+qb(e===47?e:Xa())}function MLe(e){for(;!ry(Ps());)Xa();return $y(e,La)}function DLe(e){return vG(W0("",null,null,null,[""],e=yG(e),0,[0],e))}function W0(e,t,n,r,i,a,o,s,l){for(var c=0,d=0,h=o,m=0,y=0,v=0,_=1,S=1,b=1,x=0,R="",P=i,O=a,D=r,F=R;S;)switch(v=x,x=Xa()){case 40:if(v!=108&&Fi(F,h-1)==58){dP(F+=er(G0(x),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:F+=G0(x);break;case 9:case 10:case 13:case 32:F+=OLe(v);break;case 92:F+=LLe(K0()-1,7);continue;case 47:switch(Ps()){case 42:case 47:v0(kLe(ILe(Xa(),K0()),t,n),l);break;default:F+="/"}break;case 123*_:s[c++]=Ss(F)*b;case 125*_:case 59:case 0:switch(x){case 0:case 125:S=0;case 59+d:y>0&&Ss(F)-h&&v0(y>32?EB(F+";",r,n,h-1):EB(er(F," ","")+";",r,n,h-2),l);break;case 59:F+=";";default:if(v0(D=xB(F,t,n,c,d,i,s,R,P=[],O=[],h),a),x===123)if(d===0)W0(F,t,D,D,P,a,h,s,O);else switch(m===99&&Fi(F,3)===110?100:m){case 100:case 109:case 115:W0(e,D,D,r&&v0(xB(e,D,D,0,0,i,s,R,i,P=[],h),O),i,O,h,s,r?P:O);break;default:W0(F,D,D,D,[""],O,0,s,O)}}c=d=y=0,_=b=1,R=F="",h=o;break;case 58:h=1+Ss(F),y=v;default:if(_<1){if(x==123)--_;else if(x==125&&_++==0&&PLe()==125)continue}switch(F+=qb(x),x*_){case 38:b=d>0?1:(F+="\f",-1);break;case 44:s[c++]=(Ss(F)-1)*b,b=1;break;case 64:Ps()===45&&(F+=G0(Xa())),m=Ps(),d=h=Ss(R=F+=MLe(K0())),x++;break;case 45:v===45&&Ss(F)==2&&(_=0)}}return a}function xB(e,t,n,r,i,a,o,s,l,c,d){for(var h=i-1,m=i===0?a:[""],y=UL(m),v=0,_=0,S=0;v<r;++v)for(var b=0,x=ny(e,h+1,h=xLe(_=o[v])),R=e;b<y;++b)(R=gG(_>0?m[b]+" "+x:er(x,/&\f/g,m[b])))&&(l[S++]=R);return Hb(e,t,n,i===0?$L:s,l,c,d)}function kLe(e,t,n){return Hb(e,t,n,hG,qb(ALe()),ny(e,2,-2),0)}function EB(e,t,n,r){return Hb(e,t,n,BL,ny(e,0,r),ny(e,r+1,-1),r)}function oh(e,t){for(var n="",r=UL(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function NLe(e,t,n,r){switch(e.type){case SLe:case BL:return e.return=e.return||e.value;case hG:return"";case pG:return e.return=e.value+"{"+oh(e.children,r)+"}";case $L:e.value=e.props.join(",")}return Ss(n=oh(e.children,r))?e.return=e.value+"{"+n+"}":""}function FLe(e){var t=UL(e);return function(n,r,i,a){for(var o="",s=0;s<t;s++)o+=e[s](n,r,i,a)||"";return o}}function jLe(e){return function(t){t.root||(t=t.return)&&e(t)}}function $Le(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var BLe=function(t,n,r){for(var i=0,a=0;i=a,a=Ps(),i===38&&a===12&&(n[r]=1),!ry(a);)Xa();return $y(t,La)},ULe=function(t,n){var r=-1,i=44;do switch(ry(i)){case 0:i===38&&Ps()===12&&(n[r]=1),t[r]+=BLe(La-1,n,r);break;case 2:t[r]+=G0(i);break;case 4:if(i===44){t[++r]=Ps()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=qb(i)}while(i=Xa());return t},qLe=function(t,n){return vG(ULe(yG(t),n))},CB=new WeakMap,zLe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!CB.get(r))&&!i){CB.set(t,!0);for(var a=[],o=qLe(n,a),s=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<s.length;d++,c++)t.props[c]=a[l]?o[l].replace(/&\f/g,s[d]):s[d]+" "+o[l]}}},HLe=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function _G(e,t){switch(CLe(e,t)){case 5103:return Wn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Wn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Wn+e+jw+e+Vi+e+e;case 6828:case 4268:return Wn+e+Vi+e+e;case 6165:return Wn+e+Vi+"flex-"+e+e;case 5187:return Wn+e+er(e,/(\w+).+(:[^]+)/,Wn+"box-$1$2"+Vi+"flex-$1$2")+e;case 5443:return Wn+e+Vi+"flex-item-"+er(e,/flex-|-self/,"")+e;case 4675:return Wn+e+Vi+"flex-line-pack"+er(e,/align-content|flex-|-self/,"")+e;case 5548:return Wn+e+Vi+er(e,"shrink","negative")+e;case 5292:return Wn+e+Vi+er(e,"basis","preferred-size")+e;case 6060:return Wn+"box-"+er(e,"-grow","")+Wn+e+Vi+er(e,"grow","positive")+e;case 4554:return Wn+er(e,/([^-])(transform)/g,"$1"+Wn+"$2")+e;case 6187:return er(er(er(e,/(zoom-|grab)/,Wn+"$1"),/(image-set)/,Wn+"$1"),e,"")+e;case 5495:case 3959:return er(e,/(image-set\([^]*)/,Wn+"$1$`$1");case 4968:return er(er(e,/(.+:)(flex-)?(.*)/,Wn+"box-pack:$3"+Vi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Wn+e+e;case 4095:case 3583:case 4068:case 2532:return er(e,/(.+)-inline(.+)/,Wn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ss(e)-1-t>6)switch(Fi(e,t+1)){case 109:if(Fi(e,t+4)!==45)break;case 102:return er(e,/(.+:)(.+)-([^]+)/,"$1"+Wn+"$2-$3$1"+jw+(Fi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~dP(e,"stretch")?_G(er(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Fi(e,t+1)!==115)break;case 6444:switch(Fi(e,Ss(e)-3-(~dP(e,"!important")&&10))){case 107:return er(e,":",":"+Wn)+e;case 101:return er(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Wn+(Fi(e,14)===45?"inline-":"")+"box$3$1"+Wn+"$2$3$1"+Vi+"$2box$3")+e}break;case 5936:switch(Fi(e,t+11)){case 114:return Wn+e+Vi+er(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Wn+e+Vi+er(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Wn+e+Vi+er(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Wn+e+Vi+e+e}return e}var VLe=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case BL:t.return=_G(t.value,t.length);break;case pG:return oh([dm(t,{value:er(t.value,"@","@"+Wn)})],i);case $L:if(t.length)return RLe(t.props,function(a){switch(TLe(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return oh([dm(t,{props:[er(a,/:(read-\w+)/,":"+jw+"$1")]})],i);case"::placeholder":return oh([dm(t,{props:[er(a,/:(plac\w+)/,":"+Wn+"input-$1")]}),dm(t,{props:[er(a,/:(plac\w+)/,":"+jw+"$1")]}),dm(t,{props:[er(a,/:(plac\w+)/,Vi+"input-$1")]})],i)}return""})}},KLe=[VLe],GLe=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var S=_.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=t.stylisPlugins||KLe,a={},o,s=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var S=_.getAttribute("data-emotion").split(" "),b=1;b<S.length;b++)a[S[b]]=!0;s.push(_)});var l,c=[zLe,HLe];{var d,h=[NLe,jLe(function(_){d.insert(_)})],m=FLe(c.concat(i,h)),y=function(S){return oh(DLe(S),m)};l=function(S,b,x,R){d=x,y(S?S+"{"+b.styles+"}":b.styles),R&&(v.inserted[b.name]=!0)}}var v={key:n,sheet:new bLe({key:n,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:l};return v.sheet.hydrate(s),v},FR={exports:{}},Yn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TB;function WLe(){if(TB)return Yn;TB=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,o=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,S=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function R(O){if(typeof O=="object"&&O!==null){var D=O.$$typeof;switch(D){case t:switch(O=O.type,O){case l:case c:case r:case a:case i:case h:return O;default:switch(O=O&&O.$$typeof,O){case s:case d:case v:case y:case o:return O;default:return D}}case n:return D}}}function P(O){return R(O)===c}return Yn.AsyncMode=l,Yn.ConcurrentMode=c,Yn.ContextConsumer=s,Yn.ContextProvider=o,Yn.Element=t,Yn.ForwardRef=d,Yn.Fragment=r,Yn.Lazy=v,Yn.Memo=y,Yn.Portal=n,Yn.Profiler=a,Yn.StrictMode=i,Yn.Suspense=h,Yn.isAsyncMode=function(O){return P(O)||R(O)===l},Yn.isConcurrentMode=P,Yn.isContextConsumer=function(O){return R(O)===s},Yn.isContextProvider=function(O){return R(O)===o},Yn.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===t},Yn.isForwardRef=function(O){return R(O)===d},Yn.isFragment=function(O){return R(O)===r},Yn.isLazy=function(O){return R(O)===v},Yn.isMemo=function(O){return R(O)===y},Yn.isPortal=function(O){return R(O)===n},Yn.isProfiler=function(O){return R(O)===a},Yn.isStrictMode=function(O){return R(O)===i},Yn.isSuspense=function(O){return R(O)===h},Yn.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===c||O===a||O===i||O===h||O===m||typeof O=="object"&&O!==null&&(O.$$typeof===v||O.$$typeof===y||O.$$typeof===o||O.$$typeof===s||O.$$typeof===d||O.$$typeof===S||O.$$typeof===b||O.$$typeof===x||O.$$typeof===_)},Yn.typeOf=R,Yn}var RB;function QLe(){return RB||(RB=1,FR.exports=WLe()),FR.exports}var jR,AB;function ZLe(){if(AB)return jR;AB=1;var e=QLe(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=r,a[e.Memo]=i;function o(v){return e.isMemo(v)?i:a[v.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;function y(v,_,S){if(typeof _!="string"){if(m){var b=h(_);b&&b!==m&&y(v,b,S)}var x=l(_);c&&(x=x.concat(c(_)));for(var R=o(v),P=o(_),O=0;O<x.length;++O){var D=x[O];if(!n[D]&&!(S&&S[D])&&!(P&&P[D])&&!(R&&R[D])){var F=d(_,D);try{s(v,D,F)}catch{}}}}return v}return jR=y,jR}ZLe();var JLe=!0;function XLe(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var wG=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||JLe===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},YLe=function(t,n,r){wG(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+i:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function eIe(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var tIe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nIe=/[A-Z]|^ms/g,rIe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bG=function(t){return t.charCodeAt(1)===45},PB=function(t){return t!=null&&typeof t!="boolean"},$R=$Le(function(e){return bG(e)?e:e.replace(nIe,"-$&").toLowerCase()}),OB=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(rIe,function(r,i,a){return xs={name:i,styles:a,next:xs},i})}return tIe[t]!==1&&!bG(t)&&typeof n=="number"&&n!==0?n+"px":n};function iy(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return xs={name:n.name,styles:n.styles,next:xs},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)xs={name:r.name,styles:r.styles,next:xs},r=r.next;var i=n.styles+";";return i}return iIe(e,t,n)}case"function":{if(e!==void 0){var a=xs,o=n(e);return xs=a,iy(e,t,o)}break}}return n}function iIe(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=iy(e,t,n[i])+";";else for(var a in n){var o=n[a];if(typeof o!="object")PB(o)&&(r+=$R(a)+":"+OB(a,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var s=0;s<o.length;s++)PB(o[s])&&(r+=$R(a)+":"+OB(a,o[s])+";");else{var l=iy(e,t,o);switch(a){case"animation":case"animationName":{r+=$R(a)+":"+l+";";break}default:r+=a+"{"+l+"}"}}}return r}var LB=/label:\s*([^\s;\n{]+)\s*(;|$)/g,xs,SG=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,a="";xs=void 0;var o=t[0];o==null||o.raw===void 0?(i=!1,a+=iy(r,n,o)):a+=o[0];for(var s=1;s<t.length;s++)a+=iy(r,n,t[s]),i&&(a+=o[s]);LB.lastIndex=0;for(var l="",c;(c=LB.exec(a))!==null;)l+="-"+c[1];var d=eIe(a)+l;return{name:d,styles:a,next:xs}},aIe=function(t){return t()},oIe=bh.useInsertionEffect?bh.useInsertionEffect:!1,sIe=oIe||aIe,qL={}.hasOwnProperty,xG=V.createContext(typeof HTMLElement<"u"?GLe({key:"css"}):null);xG.Provider;var uIe=function(t){return V.forwardRef(function(n,r){var i=V.useContext(xG);return t(n,i,r)})},lIe=V.createContext({}),pP="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cIe=function(t,n){var r={};for(var i in n)qL.call(n,i)&&(r[i]=n[i]);return r[pP]=t,r},fIe=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return wG(n,r,i),sIe(function(){return YLe(n,r,i)}),null},dIe=uIe(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[pP],a=[r],o="";typeof e.className=="string"?o=XLe(t.registered,a,e.className):e.className!=null&&(o=e.className+" ");var s=SG(a,void 0,V.useContext(lIe));o+=t.key+"-"+s.name;var l={};for(var c in e)qL.call(e,c)&&c!=="css"&&c!==pP&&(l[c]=e[c]);return l.ref=n,l.className=o,V.createElement(V.Fragment,null,V.createElement(fIe,{cache:t,serialized:s,isStringTag:typeof i=="string"}),V.createElement(i,l))}),nn=function(t,n){var r=arguments;if(n==null||!qL.call(n,"css"))return V.createElement.apply(void 0,r);var i=r.length,a=new Array(i);a[0]=dIe,a[1]=cIe(t,n);for(var o=2;o<i;o++)a[o]=r[o];return V.createElement.apply(null,a)};function zL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return SG(t)}var hIe=function(){var t=zL.apply(void 0,arguments),n="animation-"+t.name;return{name:n,styles:"@keyframes "+n+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function pIe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function gIe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}const mIe=["top","right","bottom","left"];mIe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);function Tu(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function EG(e){return Tu(e).getComputedStyle(e)}function CG(e){return e instanceof Tu(e).Node}function TG(e){return CG(e)?(e.nodeName||"").toLowerCase():""}let _0;function yIe(){if(_0)return _0;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(_0=e.brands.map(t=>t.brand+"/"+t.version).join(" "),_0):navigator.userAgent}function HL(e){return e instanceof Tu(e).HTMLElement}function Q0(e){return e instanceof Tu(e).Element}function IB(e){return typeof ShadowRoot>"u"?!1:e instanceof Tu(e).ShadowRoot||e instanceof ShadowRoot}function RG(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=EG(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function vIe(){return/^((?!chrome|android).)*safari/i.test(yIe())}function _Ie(e){return["html","body","#document"].includes(TG(e))}const $w=Math.round;function wIe(e){const t=EG(e);let n=parseFloat(t.width),r=parseFloat(t.height);const i=HL(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,s=$w(n)!==a||$w(r)!==o;return s&&(n=a,r=o),{width:n,height:r,fallback:s}}function AG(e){return Q0(e)?e:e.contextElement}const PG={x:1,y:1};function MB(e){const t=AG(e);if(!HL(t))return PG;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:a}=wIe(t);let o=(a?$w(n.width):n.width)/r,s=(a?$w(n.height):n.height)/i;return o&&Number.isFinite(o)||(o=1),s&&Number.isFinite(s)||(s=1),{x:o,y:s}}function DB(e,t,n,r){var i,a;t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=AG(e);let l=PG;t&&(l=MB(e));const c=s?Tu(s):window,d=vIe()&&n;let h=(o.left+(d&&((i=c.visualViewport)==null?void 0:i.offsetLeft)||0))/l.x,m=(o.top+(d&&((a=c.visualViewport)==null?void 0:a.offsetTop)||0))/l.y,y=o.width/l.x,v=o.height/l.y;if(s){const _=Tu(s),S=r;let b=_.frameElement;for(;b&&r&&S!==_;){const x=MB(b),R=b.getBoundingClientRect(),P=getComputedStyle(b);R.x+=(b.clientLeft+parseFloat(P.paddingLeft))*x.x,R.y+=(b.clientTop+parseFloat(P.paddingTop))*x.y,h*=x.x,m*=x.y,y*=x.x,v*=x.y,h+=R.x,m+=R.y,b=Tu(b).frameElement}}return gIe({width:y,height:v,x:h,y:m})}function bIe(e){return((CG(e)?e.ownerDocument:e.document)||window.document).documentElement}function SIe(e){if(TG(e)==="html")return e;const t=e.assignedSlot||e.parentNode||IB(e)&&e.host||bIe(e);return IB(t)?t.host:t}function OG(e){const t=SIe(e);return _Ie(t)?t.ownerDocument.body:HL(t)&&RG(t)?t:OG(t)}function Z0(e,t){var n;t===void 0&&(t=[]);const r=OG(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),a=Tu(r);return i?t.concat(a,a.visualViewport||[],RG(r)?r:[]):t.concat(r,Z0(r))}function xIe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=!0,animationFrame:s=!1}=r,l=i&&!s,c=l||a?[...Q0(e)?Z0(e):e.contextElement?Z0(e.contextElement):[],...Z0(t)]:[];c.forEach(y=>{l&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});let d,h=null;o&&(h=new ResizeObserver(()=>{n()}),Q0(e)&&!s&&h.observe(e),Q0(e)||!e.contextElement||s||h.observe(e.contextElement),h.observe(t));let m=s?DB(e):null;return s&&function y(){const v=DB(e);!m||v.x===m.x&&v.y===m.y&&v.width===m.width&&v.height===m.height||n(),m=v,d=requestAnimationFrame(y)}(),n(),()=>{var y;c.forEach(v=>{l&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),(y=h)==null||y.disconnect(),h=null,s&&cancelAnimationFrame(d)}}var gP=V.useLayoutEffect,EIe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Bw=function(){};function CIe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function TIe(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&a.push("".concat(CIe(e,o)));return a.filter(function(s){return s}).map(function(s){return String(s).trim()}).join(" ")}var kB=function(t){return kIe(t)?t.filter(Boolean):Lf(t)==="object"&&t!==null?[t]:[]},LG=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var n=zu(t,EIe);return an({},n)},Wr=function(t,n,r){var i=t.cx,a=t.getStyles,o=t.getClassNames,s=t.className;return{css:a(n,t),className:i(r??{},o(n,t),s)}};function Vb(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function RIe(e){return Vb(e)?window.innerHeight:e.clientHeight}function IG(e){return Vb(e)?window.pageYOffset:e.scrollTop}function Uw(e,t){if(Vb(e)){window.scrollTo(0,t);return}e.scrollTop=t}function AIe(e){var t=getComputedStyle(e),n=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),!(n&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}function PIe(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function w0(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bw,i=IG(e),a=t-i,o=10,s=0;function l(){s+=o;var c=PIe(s,i,a,n);Uw(e,c),s<n?window.requestAnimationFrame(l):r(e)}l()}function NB(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?Uw(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&Uw(e,Math.max(t.offsetTop-i,0))}function OIe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function FB(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function LIe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var MG=!1,IIe={get passive(){return MG=!0}},b0=typeof window<"u"?window:{};b0.addEventListener&&b0.removeEventListener&&(b0.addEventListener("p",Bw,IIe),b0.removeEventListener("p",Bw,!1));var MIe=MG;function DIe(e){return e!=null}function kIe(e){return Array.isArray(e)}function S0(e,t,n){return e?t:n}var NIe=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Object.entries(t).filter(function(o){var s=Cu(o,1),l=s[0];return!r.includes(l)});return a.reduce(function(o,s){var l=Cu(s,2),c=l[0],d=l[1];return o[c]=d,o},{})},FIe=["children","innerProps"],jIe=["children","innerProps"];function $Ie(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,a=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=AIe(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var d=l.getBoundingClientRect(),h=d.height,m=n.getBoundingClientRect(),y=m.bottom,v=m.height,_=m.top,S=n.offsetParent.getBoundingClientRect(),b=S.top,x=o?window.innerHeight:RIe(l),R=IG(l),P=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),D=b-O,F=x-_,Q=D+R,Y=h-R-_,U=y-x+R+P,X=R+_-O,ce=160;switch(i){case"auto":case"bottom":if(F>=v)return{placement:"bottom",maxHeight:t};if(Y>=v&&!o)return a&&w0(l,U,ce),{placement:"bottom",maxHeight:t};if(!o&&Y>=r||o&&F>=r){a&&w0(l,U,ce);var te=o?F-P:Y-P;return{placement:"bottom",maxHeight:te}}if(i==="auto"||o){var se=t,pe=o?D:Q;return pe>=r&&(se=Math.min(pe-P-s,t)),{placement:"top",maxHeight:se}}if(i==="bottom")return a&&Uw(l,U),{placement:"bottom",maxHeight:t};break;case"top":if(D>=v)return{placement:"top",maxHeight:t};if(Q>=v&&!o)return a&&w0(l,X,ce),{placement:"top",maxHeight:t};if(!o&&Q>=r||o&&D>=r){var _e=t;return(!o&&Q>=r||o&&D>=r)&&(_e=o?D-O:Q-O),a&&w0(l,X,ce),{placement:"top",maxHeight:_e}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}function BIe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var DG=function(t){return t==="auto"?"bottom":t},UIe=function(t,n){var r,i=t.placement,a=t.theme,o=a.borderRadius,s=a.spacing,l=a.colors;return an((r={label:"menu"},Pm(r,BIe(i),"100%"),Pm(r,"position","absolute"),Pm(r,"width","100%"),Pm(r,"zIndex",1),r),n?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:s.menuGutter,marginTop:s.menuGutter})},kG=V.createContext(null),qIe=function(t){var n=t.children,r=t.minMenuHeight,i=t.maxMenuHeight,a=t.menuPlacement,o=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=V.useContext(kG)||{},d=c.setPortalPlacement,h=V.useRef(null),m=V.useState(i),y=Cu(m,2),v=y[0],_=y[1],S=V.useState(null),b=Cu(S,2),x=b[0],R=b[1],P=l.spacing.controlHeight;return gP(function(){var O=h.current;if(O){var D=o==="fixed",F=s&&!D,Q=$Ie({maxHeight:i,menuEl:O,minHeight:r,placement:a,shouldScroll:F,isFixedPosition:D,controlHeight:P});_(Q.maxHeight),R(Q.placement),d==null||d(Q.placement)}},[i,a,o,s,r,d,P]),n({ref:h,placerProps:an(an({},t),{},{placement:x||DG(a),maxHeight:v})})},zIe=function(t){var n=t.children,r=t.innerRef,i=t.innerProps;return nn("div",sn({},Wr(t,"menu",{menu:!0}),{ref:r},i),n)},HIe=zIe,VIe=function(t,n){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return an({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},KIe=function(t){var n=t.children,r=t.innerProps,i=t.innerRef,a=t.isMulti;return nn("div",sn({},Wr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:i},r),n)},NG=function(t,n){var r=t.theme,i=r.spacing.baseUnit,a=r.colors;return an({textAlign:"center"},n?{}:{color:a.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},GIe=NG,WIe=NG,QIe=function(t){var n=t.children,r=n===void 0?"No options":n,i=t.innerProps,a=zu(t,FIe);return nn("div",sn({},Wr(an(an({},a),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},ZIe=function(t){var n=t.children,r=n===void 0?"Loading...":n,i=t.innerProps,a=zu(t,jIe);return nn("div",sn({},Wr(an(an({},a),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},JIe=function(t){var n=t.rect,r=t.offset,i=t.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},XIe=function(t){var n=t.appendTo,r=t.children,i=t.controlElement,a=t.innerProps,o=t.menuPlacement,s=t.menuPosition,l=V.useRef(null),c=V.useRef(null),d=V.useState(DG(o)),h=Cu(d,2),m=h[0],y=h[1],v=V.useMemo(function(){return{setPortalPlacement:y}},[]),_=V.useState(null),S=Cu(_,2),b=S[0],x=S[1],R=V.useCallback(function(){if(i){var F=OIe(i),Q=s==="fixed"?0:window.pageYOffset,Y=F[m]+Q;(Y!==(b==null?void 0:b.offset)||F.left!==(b==null?void 0:b.rect.left)||F.width!==(b==null?void 0:b.rect.width))&&x({offset:Y,rect:F})}},[i,s,m,b==null?void 0:b.offset,b==null?void 0:b.rect.left,b==null?void 0:b.rect.width]);gP(function(){R()},[R]);var P=V.useCallback(function(){typeof c.current=="function"&&(c.current(),c.current=null),i&&l.current&&(c.current=xIe(i,l.current,R,{elementResize:"ResizeObserver"in window}))},[i,R]);gP(function(){P()},[P]);var O=V.useCallback(function(F){l.current=F,P()},[P]);if(!n&&s!=="fixed"||!b)return null;var D=nn("div",sn({ref:O},Wr(an(an({},t),{},{offset:b.offset,position:s,rect:b.rect}),"menuPortal",{"menu-portal":!0}),a),r);return nn(kG.Provider,{value:v},n?Jl.createPortal(D,n):D)},YIe=function(t){var n=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},eMe=function(t){var n=t.children,r=t.innerProps,i=t.isDisabled,a=t.isRtl;return nn("div",sn({},Wr(t,"container",{"--is-disabled":i,"--is-rtl":a}),r),n)},tMe=function(t,n){var r=t.theme.spacing,i=t.isMulti,a=t.hasValue,o=t.selectProps.controlShouldRenderValue;return an({alignItems:"center",display:i&&a&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},nMe=function(t){var n=t.children,r=t.innerProps,i=t.isMulti,a=t.hasValue;return nn("div",sn({},Wr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":a}),r),n)},rMe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},iMe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Wr(t,"indicatorsContainer",{indicators:!0}),r),n)},jB,aMe=["size"],oMe=["innerProps","isRtl","size"],sMe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},FG=function(t){var n=t.size,r=zu(t,aMe);return nn("svg",sn({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:sMe},r))},VL=function(t){return nn(FG,sn({size:20},t),nn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},jG=function(t){return nn(FG,sn({size:20},t),nn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},$G=function(t,n){var r=t.isFocused,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return an({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?o.neutral60:o.neutral20,padding:a*2,":hover":{color:r?o.neutral80:o.neutral40}})},uMe=$G,lMe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Wr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||nn(jG,null))},cMe=$G,fMe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Wr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||nn(VL,null))},dMe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing.baseUnit,o=i.colors;return an({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:a*2,marginTop:a*2})},hMe=function(t){var n=t.innerProps;return nn("span",sn({},n,Wr(t,"indicatorSeparator",{"indicator-separator":!0})))},pMe=hIe(jB||(jB=pIe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),gMe=function(t,n){var r=t.isFocused,i=t.size,a=t.theme,o=a.colors,s=a.spacing.baseUnit;return an({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?o.neutral60:o.neutral20,padding:s*2})},BR=function(t){var n=t.delay,r=t.offset;return nn("span",{css:zL({animation:"".concat(pMe," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},mMe=function(t){var n=t.innerProps,r=t.isRtl,i=t.size,a=i===void 0?4:i,o=zu(t,oMe);return nn("div",sn({},Wr(an(an({},o),{},{innerProps:n,isRtl:r,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),nn(BR,{delay:0,offset:r}),nn(BR,{delay:160,offset:!0}),nn(BR,{delay:320,offset:!r}))},yMe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.theme,o=a.colors,s=a.borderRadius,l=a.spacing;return an({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:i?o.primary:o.neutral20,borderRadius:s,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:i?o.primary:o.neutral30}})},vMe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.innerRef,o=t.innerProps,s=t.menuIsOpen;return nn("div",sn({ref:a},Wr(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":s}),o,{"aria-disabled":r||void 0}),n)},_Me=vMe,wMe=["data"],bMe=function(t,n){var r=t.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},SMe=function(t){var n=t.children,r=t.cx,i=t.getStyles,a=t.getClassNames,o=t.Heading,s=t.headingProps,l=t.innerProps,c=t.label,d=t.theme,h=t.selectProps;return nn("div",sn({},Wr(t,"group",{group:!0}),l),nn(o,sn({},s,{selectProps:h,theme:d,getStyles:i,getClassNames:a,cx:r}),c),nn("div",null,n))},xMe=function(t,n){var r=t.theme,i=r.colors,a=r.spacing;return an({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:a.baseUnit*3,paddingRight:a.baseUnit*3,textTransform:"uppercase"})},EMe=function(t){var n=LG(t);n.data;var r=zu(n,wMe);return nn("div",sn({},Wr(t,"groupHeading",{"group-heading":!0}),r))},CMe=SMe,TMe=["innerRef","isDisabled","isHidden","inputClassName"],RMe=function(t,n){var r=t.isDisabled,i=t.value,a=t.theme,o=a.spacing,s=a.colors;return an(an({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},AMe),n?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:s.neutral80})},BG={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},AMe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":an({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},BG)},PMe=function(t){return an({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},BG)},OMe=function(t){var n=t.cx,r=t.value,i=LG(t),a=i.innerRef,o=i.isDisabled,s=i.isHidden,l=i.inputClassName,c=zu(i,TMe);return nn("div",sn({},Wr(t,"input",{"input-container":!0}),{"data-value":r||""}),nn("input",sn({className:n({input:!0},l),ref:a,style:PMe(s),disabled:o},c)))},LMe=OMe,IMe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors;return an({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:o.neutral10,borderRadius:a/2,margin:i.baseUnit/2})},MMe=function(t,n){var r=t.theme,i=r.borderRadius,a=r.colors,o=t.cropWithEllipsis;return an({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},DMe=function(t,n){var r=t.theme,i=r.spacing,a=r.borderRadius,o=r.colors,s=t.isFocused;return an({alignItems:"center",display:"flex"},n?{}:{borderRadius:a/2,backgroundColor:s?o.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},UG=function(t){var n=t.children,r=t.innerProps;return nn("div",r,n)},kMe=UG,NMe=UG;function FMe(e){var t=e.children,n=e.innerProps;return nn("div",sn({role:"button"},n),t||nn(VL,{size:14}))}var jMe=function(t){var n=t.children,r=t.components,i=t.data,a=t.innerProps,o=t.isDisabled,s=t.removeProps,l=t.selectProps,c=r.Container,d=r.Label,h=r.Remove;return nn(c,{data:i,innerProps:an(an({},Wr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),a),selectProps:l},nn(d,{data:i,innerProps:an({},Wr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},n),nn(h,{data:i,innerProps:an(an({},Wr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},s),selectProps:l}))},$Me=jMe,BMe=function(t,n){var r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.theme,s=o.spacing,l=o.colors;return an({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:a?l.primary:i?l.primary25:"transparent",color:r?l.neutral20:a?l.neutral0:"inherit",padding:"".concat(s.baseUnit*2,"px ").concat(s.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:a?l.primary:l.primary50}})},UMe=function(t){var n=t.children,r=t.isDisabled,i=t.isFocused,a=t.isSelected,o=t.innerRef,s=t.innerProps;return nn("div",sn({},Wr(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":a}),{ref:o,"aria-disabled":r},s),n)},qMe=UMe,zMe=function(t,n){var r=t.theme,i=r.spacing,a=r.colors;return an({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:a.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},HMe=function(t){var n=t.children,r=t.innerProps;return nn("div",sn({},Wr(t,"placeholder",{placeholder:!0}),r),n)},VMe=HMe,KMe=function(t,n){var r=t.isDisabled,i=t.theme,a=i.spacing,o=i.colors;return an({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?o.neutral40:o.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},GMe=function(t){var n=t.children,r=t.isDisabled,i=t.innerProps;return nn("div",sn({},Wr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},WMe=GMe,QMe={ClearIndicator:fMe,Control:_Me,DropdownIndicator:lMe,DownChevron:jG,CrossIcon:VL,Group:CMe,GroupHeading:EMe,IndicatorsContainer:iMe,IndicatorSeparator:hMe,Input:LMe,LoadingIndicator:mMe,Menu:HIe,MenuList:KIe,MenuPortal:XIe,LoadingMessage:ZIe,NoOptionsMessage:QIe,MultiValue:$Me,MultiValueContainer:kMe,MultiValueLabel:NMe,MultiValueRemove:FMe,Option:qMe,Placeholder:VMe,SelectContainer:eMe,SingleValue:WMe,ValueContainer:nMe},ZMe=function(t){return an(an({},QMe),t.components)},$B=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function JMe(e,t){return!!(e===t||$B(e)&&$B(t))}function XMe(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!JMe(e[n],t[n]))return!1;return!0}function YMe(e,t){t===void 0&&(t=XMe);var n=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}var eDe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},tDe=function(t){return nn("span",sn({css:eDe},t))},BB=tDe,nDe={guidance:function(t){var n=t.isSearchable,r=t.isMulti,i=t.tabSelectsValue,a=t.context,o=t.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var n=t.action,r=t.label,i=r===void 0?"":r,a=t.labels,o=t.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return o?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(t){var n=t.context,r=t.focused,i=t.options,a=t.label,o=a===void 0?"":a,s=t.selectValue,l=t.isDisabled,c=t.isSelected,d=t.isAppleDevice,h=function(_,S){return _&&_.length?"".concat(_.indexOf(S)+1," of ").concat(_.length):""};if(n==="value"&&s)return"value ".concat(o," focused, ").concat(h(s,r),".");if(n==="menu"&&d){var m=l?" disabled":"",y="".concat(c?" selected":"").concat(m);return"".concat(o).concat(y,", ").concat(h(i,r),".")}return""},onFilter:function(t){var n=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},rDe=function(t){var n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,a=t.focusableOptions,o=t.isFocused,s=t.selectValue,l=t.selectProps,c=t.id,d=t.isAppleDevice,h=l.ariaLiveMessages,m=l.getOptionLabel,y=l.inputValue,v=l.isMulti,_=l.isOptionDisabled,S=l.isSearchable,b=l.menuIsOpen,x=l.options,R=l.screenReaderStatus,P=l.tabSelectsValue,O=l.isLoading,D=l["aria-label"],F=l["aria-live"],Q=V.useMemo(function(){return an(an({},nDe),h||{})},[h]),Y=V.useMemo(function(){var pe="";if(n&&Q.onChange){var _e=n.option,de=n.options,ue=n.removedValue,Ae=n.removedValues,k=n.value,ie=function(Pe){return Array.isArray(Pe)?null:Pe},me=ue||_e||ie(k),K=me?m(me):"",ee=de||Ae||void 0,ge=ee?ee.map(m):[],Re=an({isDisabled:me&&_(me,s),label:K,labels:ge},n);pe=Q.onChange(Re)}return pe},[n,Q,_,s,m]),U=V.useMemo(function(){var pe="",_e=r||i,de=!!(r&&s&&s.includes(r));if(_e&&Q.onFocus){var ue={focused:_e,label:m(_e),isDisabled:_(_e,s),isSelected:de,options:a,context:_e===r?"menu":"value",selectValue:s,isAppleDevice:d};pe=Q.onFocus(ue)}return pe},[r,i,m,_,Q,a,s,d]),X=V.useMemo(function(){var pe="";if(b&&x.length&&!O&&Q.onFilter){var _e=R({count:a.length});pe=Q.onFilter({inputValue:y,resultsMessage:_e})}return pe},[a,y,b,Q,x,R,O]),ce=(n==null?void 0:n.action)==="initial-input-focus",te=V.useMemo(function(){var pe="";if(Q.guidance){var _e=i?"value":b?"menu":"input";pe=Q.guidance({"aria-label":D,context:_e,isDisabled:r&&_(r,s),isMulti:v,isSearchable:S,tabSelectsValue:P,isInitialFocus:ce})}return pe},[D,r,i,v,_,S,b,Q,s,P,ce]),se=nn(V.Fragment,null,nn("span",{id:"aria-selection"},Y),nn("span",{id:"aria-focused"},U),nn("span",{id:"aria-results"},X),nn("span",{id:"aria-guidance"},te));return nn(V.Fragment,null,nn(BB,{id:c},ce&&se),nn(BB,{"aria-live":F,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!ce&&se))},iDe=rDe,mP=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],aDe=new RegExp("["+mP.map(function(e){return e.letters}).join("")+"]","g"),qG={};for(var UR=0;UR<mP.length;UR++)for(var qR=mP[UR],zR=0;zR<qR.letters.length;zR++)qG[qR.letters[zR]]=qR.base;var zG=function(t){return t.replace(aDe,function(n){return qG[n]})},oDe=YMe(zG),UB=function(t){return t.replace(/^\s+|\s+$/g,"")},sDe=function(t){return"".concat(t.label," ").concat(t.value)},uDe=function(t){return function(n,r){if(n.data.__isNew__)return!0;var i=an({ignoreCase:!0,ignoreAccents:!0,stringify:sDe,trim:!0,matchFrom:"any"},t),a=i.ignoreCase,o=i.ignoreAccents,s=i.stringify,l=i.trim,c=i.matchFrom,d=l?UB(r):r,h=l?UB(s(n)):s(n);return a&&(d=d.toLowerCase(),h=h.toLowerCase()),o&&(d=oDe(d),h=zG(h)),c==="start"?h.substr(0,d.length)===d:h.indexOf(d)>-1}},lDe=["innerRef"];function cDe(e){var t=e.innerRef,n=zu(e,lDe),r=NIe(n,"onExited","in","enter","exit","appear");return nn("input",sn({ref:t},r,{css:zL({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var fDe=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function dDe(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,a=e.onTopLeave,o=V.useRef(!1),s=V.useRef(!1),l=V.useRef(0),c=V.useRef(null),d=V.useCallback(function(S,b){if(c.current!==null){var x=c.current,R=x.scrollTop,P=x.scrollHeight,O=x.clientHeight,D=c.current,F=b>0,Q=P-O-R,Y=!1;Q>b&&o.current&&(r&&r(S),o.current=!1),F&&s.current&&(a&&a(S),s.current=!1),F&&b>Q?(n&&!o.current&&n(S),D.scrollTop=P,Y=!0,o.current=!0):!F&&-b>R&&(i&&!s.current&&i(S),D.scrollTop=0,Y=!0,s.current=!0),Y&&fDe(S)}},[n,r,i,a]),h=V.useCallback(function(S){d(S,S.deltaY)},[d]),m=V.useCallback(function(S){l.current=S.changedTouches[0].clientY},[]),y=V.useCallback(function(S){var b=l.current-S.changedTouches[0].clientY;d(S,b)},[d]),v=V.useCallback(function(S){if(S){var b=MIe?{passive:!1}:!1;S.addEventListener("wheel",h,b),S.addEventListener("touchstart",m,b),S.addEventListener("touchmove",y,b)}},[y,m,h]),_=V.useCallback(function(S){S&&(S.removeEventListener("wheel",h,!1),S.removeEventListener("touchstart",m,!1),S.removeEventListener("touchmove",y,!1))},[y,m,h]);return V.useEffect(function(){if(t){var S=c.current;return v(S),function(){_(S)}}},[t,v,_]),function(S){c.current=S}}var qB=["boxSizing","height","overflow","paddingRight","position"],zB={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function HB(e){e.cancelable&&e.preventDefault()}function VB(e){e.stopPropagation()}function KB(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;e===0?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function GB(){return"ontouchstart"in window||navigator.maxTouchPoints}var WB=!!(typeof window<"u"&&window.document&&window.document.createElement),hm=0,Ud={capture:!1,passive:!1};function hDe(e){var t=e.isEnabled,n=e.accountForScrollbars,r=n===void 0?!0:n,i=V.useRef({}),a=V.useRef(null),o=V.useCallback(function(l){if(WB){var c=document.body,d=c&&c.style;if(r&&qB.forEach(function(v){var _=d&&d[v];i.current[v]=_}),r&&hm<1){var h=parseInt(i.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,y=window.innerWidth-m+h||0;Object.keys(zB).forEach(function(v){var _=zB[v];d&&(d[v]=_)}),d&&(d.paddingRight="".concat(y,"px"))}c&&GB()&&(c.addEventListener("touchmove",HB,Ud),l&&(l.addEventListener("touchstart",KB,Ud),l.addEventListener("touchmove",VB,Ud))),hm+=1}},[r]),s=V.useCallback(function(l){if(WB){var c=document.body,d=c&&c.style;hm=Math.max(hm-1,0),r&&hm<1&&qB.forEach(function(h){var m=i.current[h];d&&(d[h]=m)}),c&&GB()&&(c.removeEventListener("touchmove",HB,Ud),l&&(l.removeEventListener("touchstart",KB,Ud),l.removeEventListener("touchmove",VB,Ud)))}},[r]);return V.useEffect(function(){if(t){var l=a.current;return o(l),function(){s(l)}}},[t,o,s]),function(l){a.current=l}}var pDe=function(t){var n=t.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},gDe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function mDe(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=r===void 0?!0:r,a=e.onBottomArrive,o=e.onBottomLeave,s=e.onTopArrive,l=e.onTopLeave,c=dDe({isEnabled:i,onBottomArrive:a,onBottomLeave:o,onTopArrive:s,onTopLeave:l}),d=hDe({isEnabled:n}),h=function(y){c(y),d(y)};return nn(V.Fragment,null,n&&nn("div",{onClick:pDe,css:gDe}),t(h))}var yDe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},vDe=function(t){var n=t.name,r=t.onFocus;return nn("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:yDe,value:"",onChange:function(){}})},_De=vDe;function KL(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function wDe(){return KL(/^iPhone/i)}function HG(){return KL(/^Mac/i)}function bDe(){return KL(/^iPad/i)||HG()&&navigator.maxTouchPoints>1}function SDe(){return wDe()||bDe()}function xDe(){return HG()||SDe()}var EDe=function(t){return t.label},CDe=function(t){return t.label},TDe=function(t){return t.value},RDe=function(t){return!!t.isDisabled},ADe={clearIndicator:cMe,container:YIe,control:yMe,dropdownIndicator:uMe,group:bMe,groupHeading:xMe,indicatorsContainer:rMe,indicatorSeparator:dMe,input:RMe,loadingIndicator:gMe,loadingMessage:WIe,menu:UIe,menuList:VIe,menuPortal:JIe,multiValue:IMe,multiValueLabel:MMe,multiValueRemove:DMe,noOptionsMessage:GIe,option:BMe,placeholder:zMe,singleValue:KMe,valueContainer:tMe},PDe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},ODe=4,VG=4,LDe=38,IDe=VG*2,MDe={baseUnit:VG,controlHeight:LDe,menuGutter:IDe},HR={borderRadius:ODe,colors:PDe,spacing:MDe},DDe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:FB(),captureMenuScroll:!FB(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:uDe(),formatGroupLabel:EDe,getOptionLabel:CDe,getOptionValue:TDe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:RDe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!LIe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var n=t.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function QB(e,t,n,r){var i=WG(e,t,n),a=QG(e,t,n),o=GG(e,t),s=qw(e,t);return{type:"option",data:t,isDisabled:i,isSelected:a,label:o,value:s,index:r}}function J0(e,t){return e.options.map(function(n,r){if("options"in n){var i=n.options.map(function(o,s){return QB(e,o,t,s)}).filter(function(o){return JB(e,o)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var a=QB(e,n,t,r);return JB(e,a)?a:void 0}).filter(DIe)}function KG(e){return e.reduce(function(t,n){return n.type==="group"?t.push.apply(t,jL(n.options.map(function(r){return r.data}))):t.push(n.data),t},[])}function ZB(e,t){return e.reduce(function(n,r){return r.type==="group"?n.push.apply(n,jL(r.options.map(function(i){return{data:i.data,id:"".concat(t,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),n},[])}function kDe(e,t){return KG(J0(e,t))}function JB(e,t){var n=e.inputValue,r=n===void 0?"":n,i=t.data,a=t.isSelected,o=t.label,s=t.value;return(!JG(e)||!a)&&ZG(e,{label:o,value:s,data:i},r)}function NDe(e,t){var n=e.focusedValue,r=e.selectValue,i=r.indexOf(n);if(i>-1){var a=t.indexOf(n);if(a>-1)return n;if(i<t.length)return t[i]}return null}function FDe(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}var VR=function(t,n){var r,i=(r=t.find(function(a){return a.data===n}))===null||r===void 0?void 0:r.id;return i||null},GG=function(t,n){return t.getOptionLabel(n)},qw=function(t,n){return t.getOptionValue(n)};function WG(e,t,n){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,n):!1}function QG(e,t,n){if(n.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,n);var r=qw(e,t);return n.some(function(i){return qw(e,i)===r})}function ZG(e,t,n){return e.filterOption?e.filterOption(t,n):!0}var JG=function(t){var n=t.hideSelectedOptions,r=t.isMulti;return n===void 0?r:n},jDe=1,XG=function(e){fLe(n,e);var t=gLe(n);function n(r){var i;if(lLe(this,n),i=t.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.isAppleDevice=xDe(),i.controlRef=null,i.getControlRef=function(l){i.controlRef=l},i.focusedOptionRef=null,i.getFocusedOptionRef=function(l){i.focusedOptionRef=l},i.menuListRef=null,i.getMenuListRef=function(l){i.menuListRef=l},i.inputRef=null,i.getInputRef=function(l){i.inputRef=l},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(l,c){var d=i.props,h=d.onChange,m=d.name;c.name=m,i.ariaOnChange(l,c),h(l,c)},i.setValue=function(l,c,d){var h=i.props,m=h.closeMenuOnSelect,y=h.isMulti,v=h.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:v}),m&&(i.setState({inputIsHiddenAfterUpdate:!y}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(l,{action:c,option:d})},i.selectOption=function(l){var c=i.props,d=c.blurInputOnSelect,h=c.isMulti,m=c.name,y=i.state.selectValue,v=h&&i.isOptionSelected(l,y),_=i.isOptionDisabled(l,y);if(v){var S=i.getOptionValue(l);i.setValue(y.filter(function(b){return i.getOptionValue(b)!==S}),"deselect-option",l)}else if(!_)h?i.setValue([].concat(jL(y),[l]),"select-option",l):i.setValue(l,"select-option");else{i.ariaOnChange(l,{action:"select-option",option:l,name:m});return}d&&i.blurInput()},i.removeValue=function(l){var c=i.props.isMulti,d=i.state.selectValue,h=i.getOptionValue(l),m=d.filter(function(v){return i.getOptionValue(v)!==h}),y=S0(c,m,m[0]||null);i.onChange(y,{action:"remove-value",removedValue:l}),i.focusInput()},i.clearValue=function(){var l=i.state.selectValue;i.onChange(S0(i.props.isMulti,[],null),{action:"clear",removedValues:l})},i.popValue=function(){var l=i.props.isMulti,c=i.state.selectValue,d=c[c.length-1],h=c.slice(0,c.length-1),m=S0(l,h,h[0]||null);d&&i.onChange(m,{action:"pop-value",removedValue:d})},i.getFocusedOptionId=function(l){return VR(i.state.focusableOptionsWithIds,l)},i.getFocusableOptionsWithIds=function(){return ZB(J0(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];return TIe.apply(void 0,[i.props.classNamePrefix].concat(c))},i.getOptionLabel=function(l){return GG(i.props,l)},i.getOptionValue=function(l){return qw(i.props,l)},i.getStyles=function(l,c){var d=i.props.unstyled,h=ADe[l](c,d);h.boxSizing="border-box";var m=i.props.styles[l];return m?m(h,c):h},i.getClassNames=function(l,c){var d,h;return(d=(h=i.props.classNames)[l])===null||d===void 0?void 0:d.call(h,c)},i.getElementId=function(l){return"".concat(i.state.instancePrefix,"-").concat(l)},i.getComponents=function(){return ZMe(i.props)},i.buildCategorizedOptions=function(){return J0(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return KG(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(l,c){i.setState({ariaSelection:an({value:l},c)})},i.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(l){i.blockOptionHover=!1},i.onControlMouseDown=function(l){if(!l.defaultPrevented){var c=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&i.onMenuClose():c&&i.openMenu("first"):(c&&(i.openAfterFocus=!0),i.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},i.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!i.props.isDisabled){var c=i.props,d=c.isMulti,h=c.menuIsOpen;i.focusInput(),h?(i.setState({inputIsHiddenAfterUpdate:!d}),i.onMenuClose()):i.openMenu("first"),l.preventDefault()}},i.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(i.clearValue(),l.preventDefault(),i.openAfterFocus=!1,l.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(l){typeof i.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Vb(l.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(l)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(l){var c=l.touches,d=c&&c.item(0);d&&(i.initialTouchX=d.clientX,i.initialTouchY=d.clientY,i.userIsDragging=!1)},i.onTouchMove=function(l){var c=l.touches,d=c&&c.item(0);if(d){var h=Math.abs(d.clientX-i.initialTouchX),m=Math.abs(d.clientY-i.initialTouchY),y=5;i.userIsDragging=h>y||m>y}},i.onTouchEnd=function(l){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(l.target)&&i.menuListRef&&!i.menuListRef.contains(l.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(l){i.userIsDragging||i.onControlMouseDown(l)},i.onClearIndicatorTouchEnd=function(l){i.userIsDragging||i.onClearIndicatorMouseDown(l)},i.onDropdownIndicatorTouchEnd=function(l){i.userIsDragging||i.onDropdownIndicatorMouseDown(l)},i.handleInputChange=function(l){var c=i.props.inputValue,d=l.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(d,{action:"input-change",prevInputValue:c}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(l){i.props.onFocus&&i.props.onFocus(l),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(l){var c=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(l),i.onInputChange("",{action:"input-blur",prevInputValue:c}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(l){if(!(i.blockOptionHover||i.state.focusedOption===l)){var c=i.getFocusableOptions(),d=c.indexOf(l);i.setState({focusedOption:l,focusedOptionId:d>-1?i.getFocusedOptionId(l):null})}},i.shouldHideSelectedOptions=function(){return JG(i.props)},i.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),i.focus()},i.onKeyDown=function(l){var c=i.props,d=c.isMulti,h=c.backspaceRemovesValue,m=c.escapeClearsValue,y=c.inputValue,v=c.isClearable,_=c.isDisabled,S=c.menuIsOpen,b=c.onKeyDown,x=c.tabSelectsValue,R=c.openMenuOnFocus,P=i.state,O=P.focusedOption,D=P.focusedValue,F=P.selectValue;if(!_&&!(typeof b=="function"&&(b(l),l.defaultPrevented))){switch(i.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||y)return;i.focusValue("previous");break;case"ArrowRight":if(!d||y)return;i.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(D)i.removeValue(D);else{if(!h)return;d?i.popValue():v&&i.clearValue()}break;case"Tab":if(i.isComposing||l.shiftKey||!S||!x||!O||R&&i.isOptionSelected(O,F))return;i.selectOption(O);break;case"Enter":if(l.keyCode===229)break;if(S){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":S?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:y}),i.onMenuClose()):v&&m&&i.clearValue();break;case" ":if(y)return;if(!S){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":S?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":S?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!S)return;i.focusOption("pageup");break;case"PageDown":if(!S)return;i.focusOption("pagedown");break;case"Home":if(!S)return;i.focusOption("first");break;case"End":if(!S)return;i.focusOption("last");break;default:return}l.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++jDe),i.state.selectValue=kB(r.value),r.menuIsOpen&&i.state.selectValue.length){var a=i.getFocusableOptionsWithIds(),o=i.buildFocusableOptions(),s=o.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=a,i.state.focusedOption=o[s],i.state.focusedOptionId=VR(a,o[s])}return i}return cLe(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&NB(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isDisabled,s=a.menuIsOpen,l=this.state.isFocused;(l&&!o&&i.isDisabled||l&&s&&!i.menuIsOpen)&&this.focusInput(),l&&o&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(NB(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,a){this.props.onInputChange(i,a)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var a=this,o=this.state,s=o.selectValue,l=o.isFocused,c=this.buildFocusableOptions(),d=i==="first"?0:c.length-1;if(!this.props.isMulti){var h=c.indexOf(s[0]);h>-1&&(d=h)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:c[d],focusedOptionId:this.getFocusedOptionId(c[d])},function(){return a.onMenuOpen()})}},{key:"focusValue",value:function(i){var a=this.state,o=a.selectValue,s=a.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(s);s||(l=-1);var c=o.length-1,d=-1;if(o.length){switch(i){case"previous":l===0?d=0:l===-1?d=c:d=l-1;break;case"next":l>-1&&l<c&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",a=this.props.pageSize,o=this.state.focusedOption,s=this.getFocusableOptions();if(s.length){var l=0,c=s.indexOf(o);o||(c=-1),i==="up"?l=c>0?c-1:s.length-1:i==="down"?l=(c+1)%s.length:i==="pageup"?(l=c-a,l<0&&(l=0)):i==="pagedown"?(l=c+a,l>s.length-1&&(l=s.length-1)):i==="last"&&(l=s.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:s[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(s[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(HR):an(an({},HR),this.props.theme):HR}},{key:"getCommonProps",value:function(){var i=this.clearValue,a=this.cx,o=this.getStyles,s=this.getClassNames,l=this.getValue,c=this.selectOption,d=this.setValue,h=this.props,m=h.isMulti,y=h.isRtl,v=h.options,_=this.hasValue();return{clearValue:i,cx:a,getStyles:o,getClassNames:s,getValue:l,hasValue:_,isMulti:m,isRtl:y,options:v,selectOption:c,selectProps:h,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,a=i.isClearable,o=i.isMulti;return a===void 0?o:a}},{key:"isOptionDisabled",value:function(i,a){return WG(this.props,i,a)}},{key:"isOptionSelected",value:function(i,a){return QG(this.props,i,a)}},{key:"filterOption",value:function(i,a){return ZG(this.props,i,a)}},{key:"formatOptionLabel",value:function(i,a){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,s=this.state.selectValue;return this.props.formatOptionLabel(i,{context:a,inputValue:o,selectValue:s})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,a=i.isDisabled,o=i.isSearchable,s=i.inputId,l=i.inputValue,c=i.tabIndex,d=i.form,h=i.menuIsOpen,m=i.required,y=this.getComponents(),v=y.Input,_=this.state,S=_.inputIsHidden,b=_.ariaSelection,x=this.commonProps,R=s||this.getElementId("input"),P=an(an(an({"aria-autocomplete":"list","aria-expanded":h,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},h&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(b==null?void 0:b.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?V.createElement(v,sn({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:R,innerRef:this.getInputRef,isDisabled:a,isHidden:S,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:c,form:d,type:"text",value:l},P)):V.createElement(cDe,sn({id:R,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Bw,onFocus:this.onInputFocus,disabled:a,tabIndex:c,inputMode:"none",form:d,value:""},P))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,a=this.getComponents(),o=a.MultiValue,s=a.MultiValueContainer,l=a.MultiValueLabel,c=a.MultiValueRemove,d=a.SingleValue,h=a.Placeholder,m=this.commonProps,y=this.props,v=y.controlShouldRenderValue,_=y.isDisabled,S=y.isMulti,b=y.inputValue,x=y.placeholder,R=this.state,P=R.selectValue,O=R.focusedValue,D=R.isFocused;if(!this.hasValue()||!v)return b?null:V.createElement(h,sn({},m,{key:"placeholder",isDisabled:_,isFocused:D,innerProps:{id:this.getElementId("placeholder")}}),x);if(S)return P.map(function(Q,Y){var U=Q===O,X="".concat(i.getOptionLabel(Q),"-").concat(i.getOptionValue(Q));return V.createElement(o,sn({},m,{components:{Container:s,Label:l,Remove:c},isFocused:U,isDisabled:_,key:X,index:Y,removeProps:{onClick:function(){return i.removeValue(Q)},onTouchEnd:function(){return i.removeValue(Q)},onMouseDown:function(te){te.preventDefault()}},data:Q}),i.formatOptionLabel(Q,"value"))});if(b)return null;var F=P[0];return V.createElement(d,sn({},m,{data:F,isDisabled:_}),this.formatOptionLabel(F,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),a=i.ClearIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!this.isClearable()||!a||l||!this.hasValue()||c)return null;var h={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:h,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),a=i.LoadingIndicator,o=this.commonProps,s=this.props,l=s.isDisabled,c=s.isLoading,d=this.state.isFocused;if(!a||!c)return null;var h={"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:h,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator,o=i.IndicatorSeparator;if(!a||!o)return null;var s=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused;return V.createElement(o,sn({},s,{isDisabled:l,isFocused:c}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),a=i.DropdownIndicator;if(!a)return null;var o=this.commonProps,s=this.props.isDisabled,l=this.state.isFocused,c={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(a,sn({},o,{innerProps:c,isDisabled:s,isFocused:l}))}},{key:"renderMenu",value:function(){var i=this,a=this.getComponents(),o=a.Group,s=a.GroupHeading,l=a.Menu,c=a.MenuList,d=a.MenuPortal,h=a.LoadingMessage,m=a.NoOptionsMessage,y=a.Option,v=this.commonProps,_=this.state.focusedOption,S=this.props,b=S.captureMenuScroll,x=S.inputValue,R=S.isLoading,P=S.loadingMessage,O=S.minMenuHeight,D=S.maxMenuHeight,F=S.menuIsOpen,Q=S.menuPlacement,Y=S.menuPosition,U=S.menuPortalTarget,X=S.menuShouldBlockScroll,ce=S.menuShouldScrollIntoView,te=S.noOptionsMessage,se=S.onMenuScrollToTop,pe=S.onMenuScrollToBottom;if(!F)return null;var _e=function(K,ee){var ge=K.type,Re=K.data,Ze=K.isDisabled,Pe=K.isSelected,Ne=K.label,Xe=K.value,oe=_===Re,H=Ze?void 0:function(){return i.onOptionHover(Re)},$=Ze?void 0:function(){return i.selectOption(Re)},ae="".concat(i.getElementId("option"),"-").concat(ee),Z={id:ae,onClick:$,onMouseMove:H,onMouseOver:H,tabIndex:-1,role:"option","aria-selected":i.isAppleDevice?void 0:Pe};return V.createElement(y,sn({},v,{innerProps:Z,data:Re,isDisabled:Ze,isSelected:Pe,key:ae,label:Ne,type:ge,value:Xe,isFocused:oe,innerRef:oe?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(K.data,"menu"))},de;if(this.hasOptions())de=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var K=me.data,ee=me.options,ge=me.index,Re="".concat(i.getElementId("group"),"-").concat(ge),Ze="".concat(Re,"-heading");return V.createElement(o,sn({},v,{key:Re,data:K,options:ee,Heading:s,headingProps:{id:Ze,data:me.data},label:i.formatGroupLabel(me.data)}),me.options.map(function(Pe){return _e(Pe,"".concat(ge,"-").concat(Pe.index))}))}else if(me.type==="option")return _e(me,"".concat(me.index))});else if(R){var ue=P({inputValue:x});if(ue===null)return null;de=V.createElement(h,v,ue)}else{var Ae=te({inputValue:x});if(Ae===null)return null;de=V.createElement(m,v,Ae)}var k={minMenuHeight:O,maxMenuHeight:D,menuPlacement:Q,menuPosition:Y,menuShouldScrollIntoView:ce},ie=V.createElement(qIe,sn({},v,k),function(me){var K=me.ref,ee=me.placerProps,ge=ee.placement,Re=ee.maxHeight;return V.createElement(l,sn({},v,k,{innerRef:K,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:R,placement:ge}),V.createElement(mDe,{captureEnabled:b,onTopArrive:se,onBottomArrive:pe,lockEnabled:X},function(Ze){return V.createElement(c,sn({},v,{innerRef:function(Ne){i.getMenuListRef(Ne),Ze(Ne)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:i.getElementId("listbox")},isLoading:R,maxHeight:Re,focusedOption:_}),de)}))});return U||Y==="fixed"?V.createElement(d,sn({},v,{appendTo:U,controlElement:this.controlRef,menuPlacement:Q,menuPosition:Y}),ie):ie}},{key:"renderFormField",value:function(){var i=this,a=this.props,o=a.delimiter,s=a.isDisabled,l=a.isMulti,c=a.name,d=a.required,h=this.state.selectValue;if(d&&!this.hasValue()&&!s)return V.createElement(_De,{name:c,onFocus:this.onValueInputFocus});if(!(!c||s))if(l)if(o){var m=h.map(function(_){return i.getOptionValue(_)}).join(o);return V.createElement("input",{name:c,type:"hidden",value:m})}else{var y=h.length>0?h.map(function(_,S){return V.createElement("input",{key:"i-".concat(S),name:c,type:"hidden",value:i.getOptionValue(_)})}):V.createElement("input",{name:c,type:"hidden",value:""});return V.createElement("div",null,y)}else{var v=h[0]?this.getOptionValue(h[0]):"";return V.createElement("input",{name:c,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,a=this.state,o=a.ariaSelection,s=a.focusedOption,l=a.focusedValue,c=a.isFocused,d=a.selectValue,h=this.getFocusableOptions();return V.createElement(iDe,sn({},i,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:s,focusedValue:l,isFocused:c,selectValue:d,focusableOptions:h,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),a=i.Control,o=i.IndicatorsContainer,s=i.SelectContainer,l=i.ValueContainer,c=this.props,d=c.className,h=c.id,m=c.isDisabled,y=c.menuIsOpen,v=this.state.isFocused,_=this.commonProps=this.getCommonProps();return V.createElement(s,sn({},_,{className:d,innerProps:{id:h,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:v}),this.renderLiveRegion(),V.createElement(a,sn({},_,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:v,menuIsOpen:y}),V.createElement(l,sn({},_,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(o,sn({},_,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,a){var o=a.prevProps,s=a.clearFocusValueOnUpdate,l=a.inputIsHiddenAfterUpdate,c=a.ariaSelection,d=a.isFocused,h=a.prevWasFocused,m=a.instancePrefix,y=i.options,v=i.value,_=i.menuIsOpen,S=i.inputValue,b=i.isMulti,x=kB(v),R={};if(o&&(v!==o.value||y!==o.options||_!==o.menuIsOpen||S!==o.inputValue)){var P=_?kDe(i,x):[],O=_?ZB(J0(i,x),"".concat(m,"-option")):[],D=s?NDe(a,x):null,F=FDe(a,P),Q=VR(O,F);R={selectValue:x,focusedOption:F,focusedOptionId:Q,focusableOptionsWithIds:O,focusedValue:D,clearFocusValueOnUpdate:!1}}var Y=l!=null&&i!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},U=c,X=d&&h;return d&&!X&&(U={value:S0(b,x,x[0]||null),options:x,action:"initial-input-focus"},X=!h),(c==null?void 0:c.action)==="initial-input-focus"&&(U=null),an(an(an({},R),Y),{},{prevProps:i,ariaSelection:U,prevWasFocused:X})}}]),n}(V.Component);XG.defaultProps=DDe;var $De=V.forwardRef(function(e,t){var n=uLe(e);return V.createElement(XG,sn({ref:t},n))}),BDe=$De;const UDe=({webId:e})=>{const{i18n:t,_:n}=Qr(),r=jr(Ao),{communityId:i}=kn(),[,a,,o]=Xo(e,i),[s,l]=V.useState(""),{data:c,...d}=rwe(s,r),h=G_e(),m=K_e(),y=async({id:b,document:x})=>{await Rs(h({interest:b,document:x,person:e}),{pending:t._({id:"S8rY67"}),success:t._({id:"6dc9lc"})})},v=V.useMemo(()=>tLe(l,500),[]),_=V.useCallback(b=>v(b),[v]),S=async b=>{if(b){const x=b.label;await Rs(m({interest:b.uri,person:e,document:e}),{pending:t._({id:"Y8WO6Z",values:{label:x}}),success:t._({id:"jx1+4B",values:{label:x}})})}};return a||a===void 0?B.jsx(Ro,{children:B.jsx(_t,{id:"O75yBm"})}):B.jsxs("div",{children:[B.jsx("ul",{className:_u.list,"data-cy":"interests-list-edit",children:o.map(({id:b,document:x})=>B.jsx("li",{children:B.jsx(MV,{uri:b,onRemove:()=>y({id:b,document:x}),locale:r,"data-cy":"edit-interest"})},b+x))}),B.jsx(BDe,{options:c,filterOption:()=>!0,formatOptionLabel:b=>B.jsxs("div",{title:b.description,children:[b.label,b.aliases.length>0&&` (${b.aliases.join(", ")})`,B.jsx("br",{}),b.description]}),isLoading:d.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:_,onChange:S,className:Rr(_u.select,"cy-select-interests"),classNames:{control:()=>_u.control,input:()=>_u.input,menu:()=>_u.menu,indicatorSeparator:()=>_u.separator,option:({isFocused:b})=>Rr(_u.option,b&&_u.focused)}})]})},qDe="_container_6bk5k_1",zDe="_uploadButton_6bk5k_17",YG={container:qDe,uploadButton:zDe},HDe=()=>{const{communityId:e}=kn(),t=mi(),n=kf(),{i18n:r,_:i}=Qr(),[,,a,,o]=Xo(t.webId,e),s=V_e(),l=Zge(),c=Qge(),d=async h=>{var _;if(!a)throw new Error(r._({id:"vVEMd1"}));const m=(_=h.photo)==null?void 0:_[0];let y;const v=o==null?void 0:o.photo;m&&(y=await c.mutateAsync({uri:fi(a),data:m})),await s({hospexDocument:a,personId:t.webId,data:{...h,photo:y}}),m&&v&&await l.mutateAsync({uri:v}),n("..")};return o?B.jsxs("div",{className:YG.container,children:[B.jsx(VDe,{initialData:o,onSubmit:h=>Rs(d(h),{pending:r._({id:"ER/wp5"}),success:r._({id:"srPuxS"})})}),B.jsx("label",{children:B.jsx(_t,{id:"65VN7K"})}),B.jsx(UDe,{webId:t.webId})]}):B.jsx(Ro,{children:B.jsx(_t,{id:"6Kt8NA"})})},VDe=({initialData:e,onSubmit:t})=>{const{i18n:n,_:r}=Qr(),{register:i,handleSubmit:a,watch:o,setValue:s,getValues:l,control:c}=Ns({defaultValues:EK(e,"photo")}),d=jr(Ao);V.useEffect(()=>{typeof e.name=="string"&&s("name",e.name)},[e.name,s]),V.useEffect(()=>{e.about&&s("about",Tf({},e.about,l("about")))},[l,e.about,d,s]);const{data:h}=hO(e.photo),m=a(async S=>{await t(S)}),[y,v]=V.useState();V.useEffect(()=>{const S=o(async(b,{name:x})=>{var R;if(x==="photo"){const P=(R=b.photo)==null?void 0:R[0];P&&v(await Uge(P))}});return()=>S.unsubscribe()},[o]);const _=y||h;return B.jsxs("form",{onSubmit:m,children:[B.jsx("label",{htmlFor:"name",children:B.jsx(_t,{id:"6YtxFj"})}),B.jsx("input",{id:"name",type:"text",...i("name"),placeholder:n._({id:"6YtxFj"})}),B.jsx("label",{htmlFor:"photo",children:B.jsx(_t,{id:"qa9cy4"})}),B.jsxs("label",{tabIndex:0,htmlFor:"photo",className:YG.uploadButton,style:_?{backgroundImage:`url(${_})`}:void 0,children:[B.jsx(ime,{}),B.jsx("input",{id:"photo",type:"file",...i("photo"),accept:"image/*"})]}),B.jsx("label",{htmlFor:"about",children:B.jsx(_t,{id:"IJbwnu"})}),B.jsx(Lw,{control:c,name:"about",render:({field:S})=>B.jsx(cG,{initialData:e.about,locale:d,rows:5,...S})}),B.jsx(tr,{primary:!0,children:B.jsx(_t,{id:"y3aU20"})})]})},KDe="_container_14k79_1",GDe={container:KDe},WDe=()=>{const e=mi(),{data:t}=Tb(e.webId),n=t.length;return B.jsxs("div",{className:GDe.container,children:[B.jsxs(_f,{to:"travel",secondary:!0,children:[B.jsx(lme,{size:24})," ",B.jsx(_t,{id:"jlqRFZ"})]}),B.jsxs(_f,{to:"host",secondary:!0,children:[B.jsx(J9,{size:24})," ",B.jsx(_t,{id:"tEB6c1"})]}),B.jsxs(_f,{to:"messages",secondary:!0,children:[B.jsx(hme,{size:24})," ",B.jsx(_t,{id:"gHFvtg"}),n?B.jsxs(B.Fragment,{children:[" ",B.jsx(_t,{id:"GbJuzd",values:{messageCount:n}})]}):null]})]})},QDe="_container_u0fgb_1",KR={container:QDe},eW=({tabs:e,children:t})=>B.jsxs("div",{className:KR.container,children:[t,B.jsx("nav",{className:KR.navigation,children:e.map(({link:n,label:r})=>B.jsx(nX,{className:({isActive:i})=>i?KR.active:void 0,to:n,children:r},n))})]}),ZDe=()=>B.jsx(eW,{tabs:[],children:B.jsx(Gw,{})}),JDe=()=>B.jsx(NP,{to:"offers",replace:!0});var X0={exports:{}},XDe=X0.exports,XB;function YDe(){return XB||(XB=1,function(e,t){(function(n,r){e.exports=r()})(XDe,function(){var n=1e3,r=6e4,i=36e5,a="millisecond",o="second",s="minute",l="hour",c="day",d="week",h="month",m="quarter",y="year",v="date",_="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,b=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(te){var se=["th","st","nd","rd"],pe=te%100;return"["+te+(se[(pe-20)%10]||se[pe]||se[0])+"]"}},R=function(te,se,pe){var _e=String(te);return!_e||_e.length>=se?te:""+Array(se+1-_e.length).join(pe)+te},P={s:R,z:function(te){var se=-te.utcOffset(),pe=Math.abs(se),_e=Math.floor(pe/60),de=pe%60;return(se<=0?"+":"-")+R(_e,2,"0")+":"+R(de,2,"0")},m:function te(se,pe){if(se.date()<pe.date())return-te(pe,se);var _e=12*(pe.year()-se.year())+(pe.month()-se.month()),de=se.clone().add(_e,h),ue=pe-de<0,Ae=se.clone().add(_e+(ue?-1:1),h);return+(-(_e+(pe-de)/(ue?de-Ae:Ae-de))||0)},a:function(te){return te<0?Math.ceil(te)||0:Math.floor(te)},p:function(te){return{M:h,y,w:d,d:c,D:v,h:l,m:s,s:o,ms:a,Q:m}[te]||String(te||"").toLowerCase().replace(/s$/,"")},u:function(te){return te===void 0}},O="en",D={};D[O]=x;var F=function(te){return te instanceof X},Q=function te(se,pe,_e){var de;if(!se)return O;if(typeof se=="string"){var ue=se.toLowerCase();D[ue]&&(de=ue),pe&&(D[ue]=pe,de=ue);var Ae=se.split("-");if(!de&&Ae.length>1)return te(Ae[0])}else{var k=se.name;D[k]=se,de=k}return!_e&&de&&(O=de),de||!_e&&O},Y=function(te,se){if(F(te))return te.clone();var pe=typeof se=="object"?se:{};return pe.date=te,pe.args=arguments,new X(pe)},U=P;U.l=Q,U.i=F,U.w=function(te,se){return Y(te,{locale:se.$L,utc:se.$u,x:se.$x,$offset:se.$offset})};var X=function(){function te(pe){this.$L=Q(pe.locale,null,!0),this.parse(pe)}var se=te.prototype;return se.parse=function(pe){this.$d=function(_e){var de=_e.date,ue=_e.utc;if(de===null)return new Date(NaN);if(U.u(de))return new Date;if(de instanceof Date)return new Date(de);if(typeof de=="string"&&!/Z$/i.test(de)){var Ae=de.match(S);if(Ae){var k=Ae[2]-1||0,ie=(Ae[7]||"0").substring(0,3);return ue?new Date(Date.UTC(Ae[1],k,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,ie)):new Date(Ae[1],k,Ae[3]||1,Ae[4]||0,Ae[5]||0,Ae[6]||0,ie)}}return new Date(de)}(pe),this.$x=pe.x||{},this.init()},se.init=function(){var pe=this.$d;this.$y=pe.getFullYear(),this.$M=pe.getMonth(),this.$D=pe.getDate(),this.$W=pe.getDay(),this.$H=pe.getHours(),this.$m=pe.getMinutes(),this.$s=pe.getSeconds(),this.$ms=pe.getMilliseconds()},se.$utils=function(){return U},se.isValid=function(){return this.$d.toString()!==_},se.isSame=function(pe,_e){var de=Y(pe);return this.startOf(_e)<=de&&de<=this.endOf(_e)},se.isAfter=function(pe,_e){return Y(pe)<this.startOf(_e)},se.isBefore=function(pe,_e){return this.endOf(_e)<Y(pe)},se.$g=function(pe,_e,de){return U.u(pe)?this[_e]:this.set(de,pe)},se.unix=function(){return Math.floor(this.valueOf()/1e3)},se.valueOf=function(){return this.$d.getTime()},se.startOf=function(pe,_e){var de=this,ue=!!U.u(_e)||_e,Ae=U.p(pe),k=function(Pe,Ne){var Xe=U.w(de.$u?Date.UTC(de.$y,Ne,Pe):new Date(de.$y,Ne,Pe),de);return ue?Xe:Xe.endOf(c)},ie=function(Pe,Ne){return U.w(de.toDate()[Pe].apply(de.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(Ne)),de)},me=this.$W,K=this.$M,ee=this.$D,ge="set"+(this.$u?"UTC":"");switch(Ae){case y:return ue?k(1,0):k(31,11);case h:return ue?k(1,K):k(0,K+1);case d:var Re=this.$locale().weekStart||0,Ze=(me<Re?me+7:me)-Re;return k(ue?ee-Ze:ee+(6-Ze),K);case c:case v:return ie(ge+"Hours",0);case l:return ie(ge+"Minutes",1);case s:return ie(ge+"Seconds",2);case o:return ie(ge+"Milliseconds",3);default:return this.clone()}},se.endOf=function(pe){return this.startOf(pe,!1)},se.$set=function(pe,_e){var de,ue=U.p(pe),Ae="set"+(this.$u?"UTC":""),k=(de={},de[c]=Ae+"Date",de[v]=Ae+"Date",de[h]=Ae+"Month",de[y]=Ae+"FullYear",de[l]=Ae+"Hours",de[s]=Ae+"Minutes",de[o]=Ae+"Seconds",de[a]=Ae+"Milliseconds",de)[ue],ie=ue===c?this.$D+(_e-this.$W):_e;if(ue===h||ue===y){var me=this.clone().set(v,1);me.$d[k](ie),me.init(),this.$d=me.set(v,Math.min(this.$D,me.daysInMonth())).$d}else k&&this.$d[k](ie);return this.init(),this},se.set=function(pe,_e){return this.clone().$set(pe,_e)},se.get=function(pe){return this[U.p(pe)]()},se.add=function(pe,_e){var de,ue=this;pe=Number(pe);var Ae=U.p(_e),k=function(K){var ee=Y(ue);return U.w(ee.date(ee.date()+Math.round(K*pe)),ue)};if(Ae===h)return this.set(h,this.$M+pe);if(Ae===y)return this.set(y,this.$y+pe);if(Ae===c)return k(1);if(Ae===d)return k(7);var ie=(de={},de[s]=r,de[l]=i,de[o]=n,de)[Ae]||1,me=this.$d.getTime()+pe*ie;return U.w(me,this)},se.subtract=function(pe,_e){return this.add(-1*pe,_e)},se.format=function(pe){var _e=this,de=this.$locale();if(!this.isValid())return de.invalidDate||_;var ue=pe||"YYYY-MM-DDTHH:mm:ssZ",Ae=U.z(this),k=this.$H,ie=this.$m,me=this.$M,K=de.weekdays,ee=de.months,ge=function(Ne,Xe,oe,H){return Ne&&(Ne[Xe]||Ne(_e,ue))||oe[Xe].slice(0,H)},Re=function(Ne){return U.s(k%12||12,Ne,"0")},Ze=de.meridiem||function(Ne,Xe,oe){var H=Ne<12?"AM":"PM";return oe?H.toLowerCase():H},Pe={YY:String(this.$y).slice(-2),YYYY:U.s(this.$y,4,"0"),M:me+1,MM:U.s(me+1,2,"0"),MMM:ge(de.monthsShort,me,ee,3),MMMM:ge(ee,me),D:this.$D,DD:U.s(this.$D,2,"0"),d:String(this.$W),dd:ge(de.weekdaysMin,this.$W,K,2),ddd:ge(de.weekdaysShort,this.$W,K,3),dddd:K[this.$W],H:String(k),HH:U.s(k,2,"0"),h:Re(1),hh:Re(2),a:Ze(k,ie,!0),A:Ze(k,ie,!1),m:String(ie),mm:U.s(ie,2,"0"),s:String(this.$s),ss:U.s(this.$s,2,"0"),SSS:U.s(this.$ms,3,"0"),Z:Ae};return ue.replace(b,function(Ne,Xe){return Xe||Pe[Ne]||Ae.replace(":","")})},se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},se.diff=function(pe,_e,de){var ue,Ae=U.p(_e),k=Y(pe),ie=(k.utcOffset()-this.utcOffset())*r,me=this-k,K=U.m(this,k);return K=(ue={},ue[y]=K/12,ue[h]=K,ue[m]=K/3,ue[d]=(me-ie)/6048e5,ue[c]=(me-ie)/864e5,ue[l]=me/i,ue[s]=me/r,ue[o]=me/n,ue)[Ae]||me,de?K:U.a(K)},se.daysInMonth=function(){return this.endOf(h).$D},se.$locale=function(){return D[this.$L]},se.locale=function(pe,_e){if(!pe)return this.$L;var de=this.clone(),ue=Q(pe,_e,!0);return ue&&(de.$L=ue),de},se.clone=function(){return U.w(this.$d,this)},se.toDate=function(){return new Date(this.valueOf())},se.toJSON=function(){return this.isValid()?this.toISOString():null},se.toISOString=function(){return this.$d.toISOString()},se.toString=function(){return this.$d.toUTCString()},te}(),ce=X.prototype;return Y.prototype=ce,[["$ms",a],["$s",o],["$m",s],["$H",l],["$W",c],["$M",h],["$y",y],["$D",v]].forEach(function(te){ce[te[1]]=function(se){return this.$g(se,te[0],te[1])}}),Y.extend=function(te,se){return te.$i||(te(se,X,Y),te.$i=!0),Y},Y.locale=Q,Y.isDayjs=F,Y.unix=function(te){return Y(1e3*te)},Y.en=D[O],Y.Ls=D,Y.p={},Y})}(X0)),X0.exports}var eke=YDe();const YB=Ir(eke),tke=()=>{const e=Uf(Th);return V.useCallback(async({senderId:t,message:n,chat:r})=>{const a=`${fi(r)}${YB().format("YYYY/MM/DD")}/chat.ttl`,o=`${a}#msg-${Kl()}`,s=new Date().toISOString();return await e.mutateAsync({uri:fi(r)+YB().format("YYYY/MM/DD")+"/chat.ttl",subject:r,transform:l=>{var c;(c=l.message)==null||c.add({"@id":o,created:s,content:n,maker:{"@id":t}})}}),{messageId:o,todayChat:a,createdAt:s}},[e])},nke=()=>{const e=Jo(CH);return V.useCallback(async({inbox:t,senderId:n,messageId:r,chatId:i,updated:a,content:o})=>{await e.mutateAsync({uri:t,method:"POST",data:{"@id":"",type:{"@id":"Add"},actor:{"@id":n},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":r,type:{"@id":FA.Note},created:a,content:o,maker:{"@id":n}},target:{"@id":i},updated:a}})},[e])},rke=()=>{const e=Jo(Th),t=Jo(up),n=TK();return V.useCallback(async({me:r,otherPerson:i,otherChat:a,hospexContainer:o,privateTypeIndex:s})=>{const l=`${o}messages/${Kl()}/`,c=`${l}index.ttl`,d=`${c}#this`,h=new Date().toISOString();await e.mutateAsync({uri:c,data:{"@id":d,type:{"@id":"LongChat"},author:{"@id":r},created:h,title:"Hospex chat channel"},transform:y=>{var v,_;(v=y.participation)==null||v.add({"@id":`${c}#${Kl()}`,dtstart:h,participant:{"@id":r}}).add({"@id":`${c}#${Kl()}`,dtstart:h,participant:{"@id":i}}),a&&((_=y.participation)==null||_.filter(S=>S.participant["@id"]===i).forEach(S=>{var b;return(b=S.references)==null?void 0:b.add({"@id":a})}))}});const m=await jf(l);return await t.mutateAsync({uri:m,data:[{"@id":m+"#ReadWriteControl",type:{"@id":"Authorization"},agent:new pr.BasicLdSet([{"@id":r}]),accessTo:new pr.BasicLdSet([{"@id":l}]),default:{"@id":l},mode:new pr.BasicLdSet([{"@id":Tn.Read},{"@id":Tn.Write},{"@id":Tn.Control}])},{"@id":m+"#Read",type:{"@id":"Authorization"},agent:new pr.BasicLdSet([{"@id":i}]),accessTo:new pr.BasicLdSet([{"@id":l}]),default:{"@id":l},mode:new pr.BasicLdSet([{"@id":Tn.Read}])}]}),await n({index:s,type:gH.LongChat,location:d}),{chatContainer:l,chatFile:c,chatId:d}},[t,e,n])},ike=()=>{const e=Uf(Th),t=Cb();return V.useCallback(async({notificationId:n,chat:r,otherChat:i,otherPerson:a})=>{try{await e.mutateAsync({uri:r,subject:r,transform:o=>{var l,c,d;if(!o.participation)throw new Error("no participation");if(o.participation&&o.participation.size>2)throw new Error("too much participation (only 2 people supported!)");const s=(l=o.participation)==null?void 0:l.toArray().find(h=>{var m;return((m=h.participant)==null?void 0:m["@id"])===a});if(!s)throw new Error("other person's participation not found");if(((c=s.references)==null?void 0:c.size)===1&&s.references.toArray()[0]["@id"]===i)throw new Error("already updated");if(s.references&&s.references.size>0)throw new Error("participation already references some other chat");(d=s.references)==null||d.add({"@id":i})}})}catch(o){if(!(o instanceof Error&&o.message==="already updated"))throw o}await t.mutateAsync({uri:n})},[t,e])},ake=({me:e,userId:t})=>{const{quads:n,variables:r,isLoading:i}=ya(V.useMemo(()=>({query:u_e,variables:{person:[e],otherPerson:[t]},fetch:rr,staleTime:3e4}),[e,t])),a=V.useMemo(()=>{const h=Cr.createLdoDataset(n).usingType(Th);return((r.chatWithOtherPerson??[]).concat(r.otherChat??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.size)&&y.participation.size<=2}).flatMap(y=>{var v;return(v=y==null?void 0:y.message)==null?void 0:v.map(_=>{var S;return{id:_["@id"],message:_.content,createdAt:new Date(_.created).getTime(),from:_.maker["@id"],chat:y["@id"],test:(S=y.participation)==null?void 0:S.map(b=>b.participant["@id"])}}).flat()})??[]).filter(y=>!!y)},[n,r.chatWithOtherPerson,r.otherChat]),o=V.useMemo(()=>{const h=Cr.createLdoDataset(n).usingType(Th);return(r.chatWithOtherPerson??[]).map(y=>h.fromSubject(y)).filter(y=>{var v;return((v=y.participation)==null?void 0:v.size)&&y.participation.size<=2}).flatMap(y=>{var v,_,S,b;return y["@id"]?{myChat:y["@id"],otherChats:(b=(S=(_=(v=y.participation)==null?void 0:v.toArray())==null?void 0:_[0])==null?void 0:S.references)==null?void 0:b.map(x=>x["@id"]??[]).flat()}:[]})},[n,r.chatWithOtherPerson]),{data:s,...l}=Tb(e),c=V.useMemo(()=>s.filter(h=>h.from===t),[s,t]);return[V.useMemo(()=>{const h=[...a];return c.forEach(m=>{const y=a.findIndex(v=>v.id===m.id);y>-1?h[y]=m:h.push(m)}),h.sort((m,y)=>((m==null?void 0:m.createdAt)??0)-((y==null?void 0:y.createdAt)??0))},[a,c]),{isLoading:i},l,o]},oke=({from:e,to:t,messageId:n,message:r})=>({"@context":"https://www.w3.org/ns/activitystreams",type:"Create",actor:{type:"Person",id:e.id,name:e.name},object:{type:"Note",id:n,content:r},target:{type:"Person",id:t.id,name:t.name}}),ske=e=>async({data:t})=>{if(!(await rr(new URL("notification",e),{method:"POST",body:JSON.stringify(oke(t)),headers:{"content-type":"application/ld+json"}})).ok)throw new Error("not ok!")},uke=({from:e,to:t,community:n,type:r})=>{const{communityId:i,emailNotificationsService:a}=kn();n??(n=i);const[o]=Xo(e,n),[s]=Xo(t,n),{mutateAsync:l}=ao({mutationFn:ske(a)});return V.useCallback(async c=>{await l({type:r,data:{...c,from:o,to:s}})},[o,l,s,r])};var tW=Symbol.for("immer-nothing"),eU=Symbol.for("immer-draftable"),no=Symbol.for("immer-state");function Zo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Mh=Object.getPrototypeOf;function Dh(e){return!!e&&!!e[no]}function If(e){var t;return e?nW(e)||Array.isArray(e)||!!e[eU]||!!((t=e.constructor)!=null&&t[eU])||Gb(e)||Wb(e):!1}var lke=Object.prototype.constructor.toString();function nW(e){if(!e||typeof e!="object")return!1;const t=Mh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===lke}function ay(e,t){Kb(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function Kb(e){const t=e[no];return t?t.type_:Array.isArray(e)?1:Gb(e)?2:Wb(e)?3:0}function yP(e,t){return Kb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rW(e,t,n){const r=Kb(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function cke(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Gb(e){return e instanceof Map}function Wb(e){return e instanceof Set}function tf(e){return e.copy_||e.base_}function vP(e,t){if(Gb(e))return new Map(e);if(Wb(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&nW(e))return Mh(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[no];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const a=r[i],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Mh(e),n)}function GL(e,t=!1){return Qb(e)||Dh(e)||!If(e)||(Kb(e)>1&&(e.set=e.add=e.clear=e.delete=fke),Object.freeze(e),t&&ay(e,(n,r)=>GL(r,!0))),e}function fke(){Zo(2)}function Qb(e){return Object.isFrozen(e)}var dke={};function Mf(e){const t=dke[e];return t||Zo(0,e),t}var oy;function iW(){return oy}function hke(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tU(e,t){t&&(Mf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function _P(e){wP(e),e.drafts_.forEach(pke),e.drafts_=null}function wP(e){e===oy&&(oy=e.parent_)}function nU(e){return oy=hke(oy,e)}function pke(e){const t=e[no];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rU(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[no].modified_&&(_P(t),Zo(4)),If(e)&&(e=zw(t,e),t.parent_||Hw(t,e)),t.patches_&&Mf("Patches").generateReplacementPatches_(n[no].base_,e,t.patches_,t.inversePatches_)):e=zw(t,n,[]),_P(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tW?e:void 0}function zw(e,t,n){if(Qb(t))return t;const r=t[no];if(!r)return ay(t,(i,a)=>iU(e,r,t,i,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Hw(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),ay(a,(s,l)=>iU(e,r,i,s,l,n,o)),Hw(e,i,!1),n&&e.patches_&&Mf("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function iU(e,t,n,r,i,a,o){if(Dh(i)){const s=a&&t&&t.type_!==3&&!yP(t.assigned_,r)?a.concat(r):void 0,l=zw(e,i,s);if(rW(n,r,l),Dh(l))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(If(i)&&!Qb(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zw(e,i),(!t||!t.scope_.parent_)&&Hw(e,i)}}function Hw(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GL(t,n)}function gke(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iW(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=WL;n&&(i=[r],a=sy);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return r.draft_=s,r.revoke_=o,s}var WL={get(e,t){if(t===no)return e;const n=tf(e);if(!yP(n,t))return mke(e,n,t);const r=n[t];return e.finalized_||!If(r)?r:r===GR(e.base_,t)?(WR(e),e.copy_[t]=SP(r,e)):r},has(e,t){return t in tf(e)},ownKeys(e){return Reflect.ownKeys(tf(e))},set(e,t,n){const r=aW(tf(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=GR(tf(e),t),a=i==null?void 0:i[no];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(cke(n,i)&&(n!==void 0||yP(e.base_,t)))return!0;WR(e),bP(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return GR(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,WR(e),bP(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=tf(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zo(11)},getPrototypeOf(e){return Mh(e.base_)},setPrototypeOf(){Zo(12)}},sy={};ay(WL,(e,t)=>{sy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});sy.deleteProperty=function(e,t){return sy.set.call(this,e,t,void 0)};sy.set=function(e,t,n){return WL.set.call(this,e[0],t,n,e[0])};function GR(e,t){const n=e[no];return(n?tf(n):e)[t]}function mke(e,t,n){var i;const r=aW(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function aW(e,t){if(!(t in e))return;let n=Mh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Mh(n)}}function bP(e){e.modified_||(e.modified_=!0,e.parent_&&bP(e.parent_))}function WR(e){e.copy_||(e.copy_=vP(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yke=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const o=this;return function(l=a,...c){return o.produce(l,d=>n.call(this,d,...c))}}typeof n!="function"&&Zo(6),r!==void 0&&typeof r!="function"&&Zo(7);let i;if(If(t)){const a=nU(this),o=SP(t,void 0);let s=!0;try{i=n(o),s=!1}finally{s?_P(a):wP(a)}return tU(a,r),rU(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===tW&&(i=void 0),this.autoFreeze_&&GL(i,!0),r){const a=[],o=[];Mf("Patches").generateReplacementPatches_(t,i,a,o),r(a,o)}return i}else Zo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let r,i;return[this.produce(t,n,(o,s)=>{r=o,i=s}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){If(e)||Zo(8),Dh(e)&&(e=vke(e));const t=nU(this),n=SP(e,void 0);return n[no].isManual_=!0,wP(t),n}finishDraft(e,t){const n=e&&e[no];(!n||!n.isManual_)&&Zo(9);const{scope_:r}=n;return tU(r,t),rU(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Mf("Patches").applyPatches_;return Dh(e)?r(e,t):this.produce(e,i=>r(i,t))}};function SP(e,t){const n=Gb(e)?Mf("MapSet").proxyMap_(e,t):Wb(e)?Mf("MapSet").proxySet_(e,t):gke(e,t);return(t?t.scope_:iW()).drafts_.push(n),n}function vke(e){return Dh(e)||Zo(10,e),oW(e)}function oW(e){if(!If(e)||Qb(e))return e;const t=e[no];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=vP(e,t.scope_.immer_.useStrictShallowCopy_)}else n=vP(e,!0);return ay(n,(r,i)=>{rW(n,r,oW(i))}),t&&(t.finalized_=!1),n}var ro=new yke,QR=ro.produce;ro.produceWithPatches.bind(ro);ro.setAutoFreeze.bind(ro);ro.setUseStrictShallowCopy.bind(ro);ro.applyPatches.bind(ro);ro.createDraft.bind(ro);ro.finishDraft.bind(ro);const _ke="_messages_1tp4g_1",wke="_message_1tp4g_1",bke="_fromMe_1tp4g_13",Ske="_unread_1tp4g_18",xke="_time_1tp4g_21",Eke="_messageForm_1tp4g_25",qd={messages:_ke,message:wke,fromMe:bke,unread:Ske,time:xke,messageForm:Eke},Cke=()=>{var _e,de;const{communityId:e,emailNotificationsService:t,emailNotificationsType:n}=kn(),r=DP().id,i=mi(),{i18n:a,_:o}=Qr(),[s,l]=V.useState(!1),[c,d,h,m]=ake({me:i.webId??"",userId:r}),{privateTypeIndexes:y,personalHospexDocuments:v}=ey(i.webId??"",e),[_]=UH(r),S=(_e=_==null?void 0:_.inbox)==null?void 0:_e["@id"],b=tke(),x=nke(),R=rke(),P=uke({from:i.webId,to:r,type:"message"}),O=ike(),[D,F]=V.useState({}),Q=V.useRef(new Set);V.useEffect(()=>{(async()=>{var ue;if(c&&i.webId&&((ue=m[0])!=null&&ue.myChat)){for(const Ae of c)if(Ae.notification&&!(Ae.id in D)&&!Q.current.has(Ae.id)){Q.current.add(Ae.id),F(QR(k=>{k[Ae.id]="processing"}));try{await O({notificationId:Ae.notification,chat:m[0].myChat,otherChat:Ae.chat,otherPerson:r}),F(QR(k=>{k[Ae.id]="processed"}))}catch{F(QR(k=>{k[Ae.id]="errored"}))}}}})()},[i.webId,m,c,D,r,O]);const Y=(de=c.filter(ue=>ue.notification).find(ue=>!!ue.chat))==null?void 0:de.chat,{register:U,handleSubmit:X,reset:ce}=Ns(),te=X(async ue=>{var me,K,ee;if(!i.webId)throw new Error(a._({id:"udP0jg"}));if(l(!0),!S)throw new Error(a._({id:"xAkrnZ"}));let Ae=(me=m[0])==null?void 0:me.myChat;if(!Ae){if(!v[0])throw new Error(a._({id:"CMfhBr"}));if(!y[0])throw new Error(a._({id:"fMnMgg"}));({chatId:Ae}=await R({me:i.webId,otherPerson:r,hospexContainer:fi(v[0]),otherChat:((ee=(K=m[0])==null?void 0:K.otherChats)==null?void 0:ee[0])??Y??void 0,privateTypeIndex:y[0]}))}const{messageId:k,createdAt:ie}=await Rs(b({senderId:i.webId,message:ue.message,chat:Ae}),{pending:a._({id:"M/R9wy"}),success:a._({id:"kH4vZi"})});await Rs(x({inbox:S,senderId:i.webId,messageId:k,chatId:Ae,updated:ie,content:ue.message}),{pending:a._({id:"HZ3V75"}),success:a._({id:"qFkBv/"})}),ce({message:""}),l(!1),t&&n==="simple"&&await Rs(P({messageId:k,message:ue.message}),{pending:a._({id:"PmxYBp"}),success:a._({id:"9K7sK1"})})}),se=s||!S,pe=!d.isLoading&&!h.isLoading&&!m.some(ue=>!!ue.myChat);return B.jsxs("div",{children:[B.jsx("pre",{children:(d.isLoading||h.isLoading)&&B.jsx(_t,{id:"Z3FXyt"})}),B.jsx(_t,{id:"NqP6cw",components:{0:B.jsx(ML,{webId:r,link:!0})}}),B.jsx("div",{className:qd.messages,children:(c==null?void 0:c.map(({id:ue,message:Ae,from:k,createdAt:ie,status:me})=>B.jsxs("div",{className:Rr(qd.message,k===i.webId&&qd.fromMe,me==="unread"&&qd.unread),"data-cy":"message","data-cy-message-from":k===i.webId?"me":"other",children:[Ae," ",B.jsx("span",{className:qd.time,title:new Date(ie).toLocaleString(),children:new Date(ie).toLocaleTimeString()})]},ue)))??B.jsx("div",{children:B.jsx(Ro,{children:B.jsx(_t,{id:"bo2Xks"})})})}),pe&&B.jsx(B.Fragment,{children:B.jsx(_t,{id:"dWGab4"})}),B.jsx("form",{onSubmit:te,className:qd.messageForm,children:B.jsxs("fieldset",{disabled:se,children:[B.jsx("textarea",{...U("message",{required:!0})}),B.jsx(tr,{primary:!0,type:"submit",disabled:se,children:B.jsx(_t,{id:"JlFcis"})})]})})]})};/*!
Copyright (c) 2016 Dominik Moritz

This file is part of the leaflet locate control. It is licensed under the MIT license.
You can find the project at: https://github.com/domoritz/leaflet-locatecontrol
*/const Jc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.add(n)})},Xc=(e,t)=>{t.split(" ").forEach(n=>{e.classList.remove(n)})},sW=Pn.Marker.extend({initialize(e,t){Pn.setOptions(this,t),this._latlng=e,this.createIcon()},createIcon(){const e=this.options;let t="";e.color!==void 0&&(t+=`stroke:${e.color};`),e.weight!==void 0&&(t+=`stroke-width:${e.weight};`),e.fillColor!==void 0&&(t+=`fill:${e.fillColor};`),e.fillOpacity!==void 0&&(t+=`fill-opacity:${e.fillOpacity};`),e.opacity!==void 0&&(t+=`opacity:${e.opacity};`);const n=this._getIconSVG(e,t);this._locationIcon=Pn.divIcon({className:n.className,html:n.svg,iconSize:[n.w,n.h]}),this.setIcon(this._locationIcon)},_getIconSVG(e,t){const n=e.radius,r=e.weight,i=n+r,a=i*2;return{className:"leaflet-control-locate-location",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${a}" version="1.1" viewBox="-${i} -${i} ${a} ${a}"><circle r="`+n+'" style="'+t+'" /></svg>',w:a,h:a}},setStyle(e){Pn.setOptions(this,e),this.createIcon()}}),Tke=sW.extend({initialize(e,t,n){Pn.setOptions(this,n),this._latlng=e,this._heading=t,this.createIcon()},setHeading(e){this._heading=e},_getIconSVG(e,t){const n=e.radius,r=e.width+e.weight,i=(n+e.depth+e.weight)*2,a=`M0,0 l${e.width/2},${e.depth} l-${r},0 z`,o=`transform: rotate(${this._heading}deg)`;return{className:"leaflet-control-locate-heading",svg:`<svg xmlns="http://www.w3.org/2000/svg" width="${r}" height="${i}" version="1.1" viewBox="-${r/2} 0 ${r} ${i}" style="${o}"><path d="`+a+'" style="'+t+'" /></svg>',w:r,h:i}}}),Rke=Pn.Control.extend({options:{position:"topleft",layer:void 0,setView:"untilPanOrZoom",keepCurrentZoomLevel:!1,initialZoomLevel:!1,getLocationBounds(e){return e.bounds},flyTo:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"inView"},returnToPrevBounds:!1,cacheLocation:!0,drawCircle:!0,drawMarker:!0,showCompass:!0,markerClass:sW,compassClass:Tke,circleStyle:{className:"leaflet-control-locate-circle",color:"#136AEC",fillColor:"#136AEC",fillOpacity:.15,weight:0},markerStyle:{className:"leaflet-control-locate-marker",color:"#fff",fillColor:"#2A93EE",fillOpacity:1,weight:3,opacity:1,radius:9},compassStyle:{fillColor:"#2A93EE",fillOpacity:1,weight:0,color:"#fff",opacity:1,radius:9,width:9,depth:6},followCircleStyle:{},followMarkerStyle:{},followCompassStyle:{},icon:"leaflet-control-locate-location-arrow",iconLoading:"leaflet-control-locate-spinner",iconElementTag:"span",textElementTag:"small",circlePadding:[0,0],metric:!0,createButtonCallback(e,t){const n=Pn.DomUtil.create("a","leaflet-bar-part leaflet-bar-part-single",e);n.title=t.strings.title,n.href="#",n.setAttribute("role","button");const r=Pn.DomUtil.create(t.iconElementTag,t.icon,n);if(t.strings.text!==void 0){const i=Pn.DomUtil.create(t.textElementTag,"leaflet-locate-text",n);i.textContent=t.strings.text,n.classList.add("leaflet-locate-text-active"),n.parentNode.style.display="flex",t.icon.length>0&&r.classList.add("leaflet-locate-icon")}return{link:n,icon:r}},onLocationError(e,t){alert(e.message)},onLocationOutsideMapBounds(e){e.stop(),alert(e.options.strings.outsideMapBoundsMsg)},showPopup:!0,strings:{title:"Show me where I am",metersUnit:"meters",feetUnit:"feet",popup:"You are within {distance} {unit} from this point",outsideMapBoundsMsg:"You seem located outside the boundaries of the map"},locateOptions:{maxZoom:1/0,watch:!0,setView:!1}},initialize(e){for(const t in e)typeof this.options[t]=="object"?Pn.extend(this.options[t],e[t]):this.options[t]=e[t];this.options.followMarkerStyle=Pn.extend({},this.options.markerStyle,this.options.followMarkerStyle),this.options.followCircleStyle=Pn.extend({},this.options.circleStyle,this.options.followCircleStyle),this.options.followCompassStyle=Pn.extend({},this.options.compassStyle,this.options.followCompassStyle)},onAdd(e){const t=Pn.DomUtil.create("div","leaflet-control-locate leaflet-bar leaflet-control");this._container=t,this._map=e,this._layer=this.options.layer||new Pn.LayerGroup,this._layer.addTo(e),this._event=void 0,this._compassHeading=null,this._prevBounds=null;const n=this.options.createButtonCallback(t,this.options);return this._link=n.link,this._icon=n.icon,Pn.DomEvent.on(this._link,"click",function(r){Pn.DomEvent.stopPropagation(r),Pn.DomEvent.preventDefault(r),this._onClick()},this).on(this._link,"dblclick",Pn.DomEvent.stopPropagation),this._resetVariables(),this._map.on("unload",this._unload,this),t},_onClick(){this._justClicked=!0;const e=this._isFollowing();if(this._userPanned=!1,this._userZoomed=!1,this._active&&!this._event)this.stop();else if(this._active){const t=this.options.clickBehavior;let n=t.outOfView;switch(this._map.getBounds().contains(this._event.latlng)&&(n=e?t.inView:t.inViewNotFollowing),t[n]&&(n=t[n]),n){case"setView":this.setView();break;case"stop":this.stop(),this.options.returnToPrevBounds&&(this.options.flyTo?this._map.flyToBounds:this._map.fitBounds).bind(this._map)(this._prevBounds);break}}else this.options.returnToPrevBounds&&(this._prevBounds=this._map.getBounds()),this.start();this._updateContainerStyle()},start(){this._activate(),this._event&&(this._drawMarker(this._map),this.options.setView&&this.setView()),this._updateContainerStyle()},stop(){this._deactivate(),this._cleanClasses(),this._resetVariables(),this._removeMarker()},stopFollowing(){this._userPanned=!0,this._updateContainerStyle(),this._drawMarker()},_activate(){if(!(this._active||!this._map)&&(this._map.locate(this.options.locateOptions),this._map.fire("locateactivate",this),this._active=!0,this._map.on("locationfound",this._onLocationFound,this),this._map.on("locationerror",this._onLocationError,this),this._map.on("dragstart",this._onDrag,this),this._map.on("zoomstart",this._onZoom,this),this._map.on("zoomend",this._onZoomEnd,this),this.options.showCompass)){const e="ondeviceorientationabsolute"in window;if(e||"ondeviceorientation"in window){const t=this,n=function(){Pn.DomEvent.on(window,e?"deviceorientationabsolute":"deviceorientation",t._onDeviceOrientation,t)};DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(function(r){r==="granted"&&n()}):n()}}},_deactivate(){!this._active||!this._map||(this._map.stopLocate(),this._map.fire("locatedeactivate",this),this._active=!1,this.options.cacheLocation||(this._event=void 0),this._map.off("locationfound",this._onLocationFound,this),this._map.off("locationerror",this._onLocationError,this),this._map.off("dragstart",this._onDrag,this),this._map.off("zoomstart",this._onZoom,this),this._map.off("zoomend",this._onZoomEnd,this),this.options.showCompass&&(this._compassHeading=null,"ondeviceorientationabsolute"in window?Pn.DomEvent.off(window,"deviceorientationabsolute",this._onDeviceOrientation,this):"ondeviceorientation"in window&&Pn.DomEvent.off(window,"deviceorientation",this._onDeviceOrientation,this)))},setView(){if(this._drawMarker(),this._isOutsideMapBounds())this._event=void 0,this.options.onLocationOutsideMapBounds(this);else if(this._justClicked&&this.options.initialZoomLevel!==!1)(this.options.flyTo?this._map.flyTo:this._map.setView).bind(this._map)([this._event.latitude,this._event.longitude],this.options.initialZoomLevel);else if(this.options.keepCurrentZoomLevel)(this.options.flyTo?this._map.flyTo:this._map.panTo).bind(this._map)([this._event.latitude,this._event.longitude]);else{let e=this.options.flyTo?this._map.flyToBounds:this._map.fitBounds;this._ignoreEvent=!0,e.bind(this._map)(this.options.getLocationBounds(this._event),{padding:this.options.circlePadding,maxZoom:this.options.initialZoomLevel||this.options.locateOptions.maxZoom}),Pn.Util.requestAnimFrame(function(){this._ignoreEvent=!1},this)}},_drawCompass(){if(!this._event)return;const e=this._event.latlng;if(this.options.showCompass&&e&&this._compassHeading!==null){const t=this._isFollowing()?this.options.followCompassStyle:this.options.compassStyle;this._compass?(this._compass.setLatLng(e),this._compass.setHeading(this._compassHeading),this._compass.setStyle&&this._compass.setStyle(t)):this._compass=new this.options.compassClass(e,this._compassHeading,t).addTo(this._layer)}this._compass&&(!this.options.showCompass||this._compassHeading===null)&&(this._compass.removeFrom(this._layer),this._compass=null)},_drawMarker(){this._event.accuracy===void 0&&(this._event.accuracy=0);const e=this._event.accuracy,t=this._event.latlng;if(this.options.drawCircle){const o=this._isFollowing()?this.options.followCircleStyle:this.options.circleStyle;this._circle?this._circle.setLatLng(t).setRadius(e).setStyle(o):this._circle=Pn.circle(t,e,o).addTo(this._layer)}let n,r;if(this.options.metric?(n=e.toFixed(0),r=this.options.strings.metersUnit):(n=(e*3.2808399).toFixed(0),r=this.options.strings.feetUnit),this.options.drawMarker){const o=this._isFollowing()?this.options.followMarkerStyle:this.options.markerStyle;this._marker?(this._marker.setLatLng(t),this._marker.setStyle&&this._marker.setStyle(o)):this._marker=new this.options.markerClass(t,o).addTo(this._layer)}this._drawCompass();const i=this.options.strings.popup;function a(){return typeof i=="string"?Pn.Util.template(i,{distance:n,unit:r}):typeof i=="function"?i({distance:n,unit:r}):i}this.options.showPopup&&i&&this._marker&&this._marker.bindPopup(a())._popup.setLatLng(t),this.options.showPopup&&i&&this._compass&&this._compass.bindPopup(a())._popup.setLatLng(t)},_removeMarker(){this._layer.clearLayers(),this._marker=void 0,this._circle=void 0},_unload(){this.stop(),this._map&&this._map.off("unload",this._unload,this)},_setCompassHeading(e){!isNaN(parseFloat(e))&&isFinite(e)?(e=Math.round(e),this._compassHeading=e,Pn.Util.requestAnimFrame(this._drawCompass,this)):this._compassHeading=null},_onCompassNeedsCalibration(){this._setCompassHeading()},_onDeviceOrientation(e){this._active&&(e.webkitCompassHeading?this._setCompassHeading(e.webkitCompassHeading):e.absolute&&e.alpha&&this._setCompassHeading(360-e.alpha))},_onLocationError(e){e.code==3&&this.options.locateOptions.watch||(this.stop(),this.options.onLocationError(e,this))},_onLocationFound(e){if(!(this._event&&this._event.latlng.lat===e.latlng.lat&&this._event.latlng.lng===e.latlng.lng&&this._event.accuracy===e.accuracy)&&this._active){switch(this._event=e,this._drawMarker(),this._updateContainerStyle(),this.options.setView){case"once":this._justClicked&&this.setView();break;case"untilPan":this._userPanned||this.setView();break;case"untilPanOrZoom":!this._userPanned&&!this._userZoomed&&this.setView();break;case"always":this.setView();break}this._justClicked=!1}},_onDrag(){this._event&&!this._ignoreEvent&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_onZoom(){this._event&&!this._ignoreEvent&&(this._userZoomed=!0,this._updateContainerStyle(),this._drawMarker())},_onZoomEnd(){this._event&&this._drawCompass(),this._event&&!this._ignoreEvent&&this._marker&&!this._map.getBounds().pad(-.3).contains(this._marker.getLatLng())&&(this._userPanned=!0,this._updateContainerStyle(),this._drawMarker())},_isFollowing(){if(!this._active)return!1;if(this.options.setView==="always")return!0;if(this.options.setView==="untilPan")return!this._userPanned;if(this.options.setView==="untilPanOrZoom")return!this._userPanned&&!this._userZoomed},_isOutsideMapBounds(){return this._event===void 0?!1:this._map.options.maxBounds&&!this._map.options.maxBounds.contains(this._event.latlng)},_updateContainerStyle(){this._container&&(this._active&&!this._event?this._setClasses("requesting"):this._isFollowing()?this._setClasses("following"):this._active?this._setClasses("active"):this._cleanClasses())},_setClasses(e){e=="requesting"?(Xc(this._container,"active following"),Jc(this._container,"requesting"),Xc(this._icon,this.options.icon),Jc(this._icon,this.options.iconLoading)):e=="active"?(Xc(this._container,"requesting following"),Jc(this._container,"active"),Xc(this._icon,this.options.iconLoading),Jc(this._icon,this.options.icon)):e=="following"&&(Xc(this._container,"requesting"),Jc(this._container,"active following"),Xc(this._icon,this.options.iconLoading),Jc(this._icon,this.options.icon))},_cleanClasses(){Pn.DomUtil.removeClass(this._container,"requesting"),Pn.DomUtil.removeClass(this._container,"active"),Pn.DomUtil.removeClass(this._container,"following"),Xc(this._icon,this.options.iconLoading),Jc(this._icon,this.options.icon)},_resetVariables(){this._active=!1,this._justClicked=!1,this._userPanned=!1,this._userZoomed=!1}});function Ake(e,t){const n=V.useRef(t);V.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Pke=1;function Oke(e){return Object.freeze({__version:Pke,map:e})}function Lke(e,t){return Object.freeze({...e,...t})}const QL=V.createContext(null);function Zb(){const e=V.use(QL);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function uW(e){function t(n,r){const{instance:i,context:a}=e(n).current;V.useImperativeHandle(r,()=>i);const{children:o}=n;return o==null?null:Pt.createElement(QL,{value:a},o)}return V.forwardRef(t)}function lW(e){function t(n,r){const{instance:i}=e(n).current;return V.useImperativeHandle(r,()=>i),null}return V.forwardRef(t)}function Ike(e){return function(n){const r=Zb(),i=e(n,r),{instance:a}=i.current,o=V.useRef(n.position),{position:s}=n;return V.useEffect(function(){return a.addTo(r.map),function(){a.remove()}},[r.map,a]),V.useEffect(function(){s!=null&&s!==o.current&&(a.setPosition(s),o.current=s)},[a,s]),i}}function cW(e,t){const n=V.useRef(void 0);V.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function ZL(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function JL(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Jb(e,t){return t==null?function(r,i){const a=V.useRef(void 0);return a.current||(a.current=e(r,i)),a}:function(r,i){const a=V.useRef(void 0);a.current||(a.current=e(r,i));const o=V.useRef(r),{instance:s}=a.current;return V.useEffect(function(){o.current!==r&&(t(s,r,o.current),o.current=r)},[s,r,t]),a}}function fW(e,t){V.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function dW(e){return function(n){const r=Zb(),i=e(ZL(n,r),r);return Ake(r.map,n.attribution),cW(i.current,n.eventHandlers),fW(i.current,r),i}}function Mke(e,t){const n=V.useRef(void 0);V.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function Dke(e){return function(n){const r=Zb(),i=e(ZL(n,r),r);return cW(i.current,n.eventHandlers),fW(i.current,r),Mke(i.current,n),i}}function kke(e){function t(i,a){return JL(e(i),a)}const n=Jb(t),r=Ike(n);return lW(r)}function Nke(e,t){const n=Jb(e,t),r=dW(n);return uW(r)}function Fke(e,t){const n=Jb(e,t),r=Dke(n);return uW(r)}function jke(e,t){const n=Jb(e,t),r=dW(n);return lW(r)}function $ke(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}const hW=kke(e=>new Rke(e));function XL(){return Zb().map}function ZR(e,t){const n=XL();return V.useEffect(function(){return n.on(e,t),function(){n.off(e,t)}},[n,e,t]),n}function Bke({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:s,whenReady:l,zoom:c,...d},h){const[m]=V.useState({className:i,id:a,style:s}),[y,v]=V.useState(null),_=V.useRef(void 0);V.useImperativeHandle(h,()=>(y==null?void 0:y.map)??null,[y]);const S=V.useCallback(x=>{if(x!==null&&!_.current){const R=new Pn.Map(x,d);_.current=R,n!=null&&c!=null?R.setView(n,c):e!=null&&R.fitBounds(e,t),l!=null&&R.whenReady(l),v(Oke(R))}},[]);V.useEffect(()=>()=>{y==null||y.map.remove()},[y]);const b=y?Pt.createElement(QL,{value:y},r):o??null;return Pt.createElement("div",{...m,ref:S},b)}const YL=V.forwardRef(Bke),eI=Nke(function({position:t,...n},r){const i=new Pn.Marker(t,n);return JL(i,Lke(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),tI=jke(function({url:t,...n},r){const i=new Pn.TileLayer(t,ZL(n,r));return JL(i,r)},function(t,n,r){$ke(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),Uke="_mapContainer_zpxie_1",qke="_description_zpxie_11",xP={mapContainer:Uke,description:qke},aU=e=>(e%360-180*3)%360+180,x0=e=>{const t=e.getBounds();return{n:t.getNorth(),s:t.getSouth(),e:t.getEast(),w:t.getWest()}},pW=({onChange:e,onUpdate:t})=>{const n=XL(),r=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=x0(n);e==null||e({lat:o,long:s},l)},[n,e]),i=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=aU(s),c={lat:o,long:l};if(Math.abs(l-s)>1){n.setView([o,l],n.getZoom(),{animate:!1});const h=x0(n);e==null||e(c,h)}const d=x0(n);t==null||t(c,d)},[n,e,t]),a=V.useCallback(()=>{const{lat:o,lng:s}=n.getCenter(),l=aU(s),c={lat:o,long:l};Math.abs(l-s)>1&&n.setView([o,l],n.getZoom(),{animate:!1});const d=x0(n);t==null||t(c,d)},[n,t]);return ZR("load",a),ZR("move",r),ZR("moveend",i),V.useEffect(()=>{n&&a()},[a,n]),null},zke=({value:e,onChange:t,isInitial:n})=>{const r=V.useMemo(()=>[e.lat,e.long],[e.lat,e.long]),{tileServer:i}=kn(),{i18n:a,_:o}=Qr();return B.jsxs(YL,{attributionControl:!1,center:r,zoom:n?1:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Rr(xP.mapContainer,"accommodation-map-container-edit"),children:[B.jsx(tI,{url:i}),B.jsx(hW,{strings:{title:a._({id:"sa0+P5"})},showPopup:!1,drawMarker:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),B.jsx(eI,{position:r}),B.jsx(pW,{onChange:t})]})},Hke="_container_1saps_1",Vke="_header_1saps_10",Kke="_accommodation_1saps_17",Gke="_accommodationForm_1saps_27",Wke="_errorMessage_1saps_34",Qke="_inputError_1saps_39",Zke="_actions_1saps_45",Jke="_addAccommodationButton_1saps_54",xo={container:Hke,header:Vke,accommodation:Kke,accommodationForm:Gke,errorMessage:Wke,inputError:Qke,actions:Zke,addAccommodationButton:Jke},Xke={type:"object",required:["location","description"],properties:{location:{type:"object",required:["lat","long"],properties:{lat:{type:"number"},long:{type:"number"}},anyOf:[{not:{properties:{lat:{const:0},long:{const:0}},required:["lat","long"]}}]},description:{type:"object",minProperties:1,patternProperties:{".*":{type:"string"}},additionalProperties:!1,not:{type:"object",minProperties:1,patternProperties:{".*":{type:"string",pattern:"^[\\s]*$"}}},required:[]}}},oU=({initialData:e,onSubmit:t,onCancel:n})=>{const{i18n:r,_:i}=Qr(),a=jr(Ao),{handleSubmit:o,control:s,formState:{errors:l}}=Ns({defaultValues:Tf({location:{lat:0,long:0},description:{[a]:""}},e),resolver:lG(Xke)}),c=o(d=>{t(d)});return B.jsxs("form",{onSubmit:c,onReset:n,className:Rr(xo.accommodationForm,xo.accommodation),"data-cy":"accommodation-form",children:[B.jsxs("label",{children:[B.jsx(_t,{id:"ApEC55",components:{0:B.jsx(ume,{})}}),B.jsx("br",{}),B.jsx(WN,{})," ",B.jsx(_t,{id:"BQTO6T"})," ",B.jsx(WN,{})]}),B.jsx(Lw,{control:s,name:"location",render:({field:d})=>B.jsx("div",{className:Rr(l.location&&xo.inputError),children:B.jsx(zke,{value:d.value,onChange:d.onChange,isInitial:!e})})}),l.location&&B.jsx("div",{className:xo.errorMessage,children:B.jsx(_t,{id:"OjgFFJ"})}),B.jsx("label",{htmlFor:"description",children:B.jsx(_t,{id:"+j94GR"})}),B.jsx(Lw,{control:s,name:"description",render:({field:d})=>B.jsx(cG,{className:Rr(l.description&&xo.inputError),id:"description",placeholder:r._({id:"vJIeDW"}),initialData:e==null?void 0:e.description,locale:a,...d,rows:5})}),l.description&&B.jsx("div",{className:xo.errorMessage,children:B.jsx(_t,{id:"B8AaMI"})}),B.jsxs("div",{className:xo.actions,children:[B.jsx(tr,{type:"reset",secondary:!0,children:B.jsx(_t,{id:"dEgA5A"})}),B.jsx(tr,{type:"submit",primary:!0,children:B.jsx(_t,{id:"tfDRzk"})})]})]})},nI=({text:e,locale:t,as:n="section",...r})=>{const i=V.useMemo(()=>Object.keys(e).filter(s=>typeof e[s]=="string"&&e[s].trim()).sort(G9([t])),[t,e]),[a,o]=V.useState(i[0]??"en");return V.useEffect(()=>{i.includes(t)&&o(t)},[t,i]),B.jsx(cL,{asChild:!0,value:a,onValueChange:o,children:B.jsxs(n,{...r,children:[B.jsx(fL,{className:af.list,children:i.map(s=>B.jsx(dL,{value:s,className:af.trigger,children:s},s))}),i.map(s=>B.jsx(hL,{value:s,children:e[s]},s))]})})},Yke=({location:e})=>{const t=XL();return V.useEffect(()=>{t.flyTo(e)},[e,t]),null},eNe=e=>{const{tileServer:t}=kn(),n=jr(Ao),r=V.useMemo(()=>[e.location.lat,e.location.long],[e.location.lat,e.location.long]);return B.jsxs(B.Fragment,{children:[B.jsxs(YL,{className:xP.mapContainer,attributionControl:!1,zoom:12,center:r,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",dragging:!1,keyboard:!1,children:[B.jsx(tI,{url:t}),B.jsx(eI,{position:r}),B.jsx(Yke,{location:r})]}),B.jsx(nI,{className:xP.description,text:e.description,locale:n,as:"div"}),B.jsx("a",{href:e.id,target:"_blank",rel:"noopener noreferrer",children:B.jsx(X9,{})})]})},tNe=()=>{const e=Jo(xb),t=to();return V.useCallback(async({personId:n,data:r,hospexDocument:i,hospexContainer:a})=>{const o=Kl(),s=a+o,l=`${s}#accommodation`;return await e.mutateAsync({uri:s,data:{"@id":l,type:new pr.BasicLdSet([{"@id":"Accommodation"},{"@id":"Accommodation2"}]),location:{"@id":`${s}#location`,type:{"@id":"Point"},lat:r.location.lat,long:r.location.long},offeredBy:{"@id":n}},transform:c=>{FO(r.description,c,"description")}}),await t.mutateAsync({uri:i,patch:`
          _:mutate a <${xn.InsertDeletePatch}>;
            <${xn.inserts}> { <${n}> <${ac.offers}> <${l}>. }.
        `}),{uri:l}},[e,t])},nNe=()=>{const e=to(),t=Cb();return V.useCallback(async({id:n,personId:r,hospexDocument:i})=>{await e.mutateAsync({uri:i,patch:`
          _:mutate a <${xn.InsertDeletePatch}>;
            <${xn.deletes}> { <${r}> <${ac.offers}> <${n}>. }.
        `}),await t.mutateAsync({uri:n})},[t,e])};var JR,sU;function rNe(){if(sU)return JR;sU=1;for(var e="0123456789bcdefghjkmnpqrstuvwxyz",t={},n=0;n<e.length;n++)t[e.charAt(n)]=n;var r="auto",i=-90,a=90,o=-180,s=180,l=[0,5,7,8,11,12,13,15,16,17,18],c=function(Y,U,X){if(X===r){if(typeof Y=="number"||typeof U=="number")throw new Error("string notation required for auto precision.");var ce=Y.split(".")[1].length,te=U.split(".")[1].length,se=Math.max(ce,te);X=l[se]}else X===void 0&&(X=9);for(var pe=[],_e=0,de=0,ue=0,Ae=a,k=i,ie=s,me=o,K;pe.length<X;)if(de%2===0?(K=(ie+me)/2,U>K?(ue=(ue<<1)+1,me=K):(ue=(ue<<1)+0,ie=K)):(K=(Ae+k)/2,Y>K?(ue=(ue<<1)+1,k=K):(ue=(ue<<1)+0,Ae=K)),_e++,de++,_e===5){var ee=e[ue];pe.push(ee),_e=0,ue=0}return pe.join("")},d=function(Y,U,X){X=X||52;for(var ce=0,te=a,se=i,pe=s,_e=o,de,ue=0;ce<X;)ue*=2,ce%2===0?(de=(pe+_e)/2,U>de?(ue+=1,_e=de):pe=de):(de=(te+se)/2,Y>de?(ue+=1,se=de):te=de),ce++;return ue},h=function(Y){for(var U=!0,X=a,ce=i,te=s,se=o,pe,_e=0,de=0,ue=Y.length;de<ue;de++){var Ae=Y[de].toLowerCase();_e=t[Ae];for(var k=4;k>=0;k--){var ie=_e>>k&1;U?(pe=(te+se)/2,ie===1?se=pe:te=pe):(pe=(X+ce)/2,ie===1?ce=pe:X=pe),U=!U}}return[ce,se,X,te]},m=function(Y,U){U=U||52;for(var X=a,ce=i,te=s,se=o,pe=0,_e=0,de=U/2,ue=0;ue<de;ue++)_e=y(Y,(de-ue)*2-1),pe=y(Y,(de-ue)*2-2),pe===0?X=(X+ce)/2:ce=(X+ce)/2,_e===0?te=(te+se)/2:se=(te+se)/2;return[ce,se,X,te]};function y(Y,U){return Y/Math.pow(2,U)&1}var v=function(Y){var U=h(Y),X=(U[0]+U[2])/2,ce=(U[1]+U[3])/2,te=U[2]-X,se=U[3]-ce;return{latitude:X,longitude:ce,error:{latitude:te,longitude:se}}},_=function(Y,U){var X=m(Y,U),ce=(X[0]+X[2])/2,te=(X[1]+X[3])/2,se=X[2]-ce,pe=X[3]-te;return{latitude:ce,longitude:te,error:{latitude:se,longitude:pe}}},S=function(Y,U){var X=v(Y),ce=X.latitude+U[0]*X.error.latitude*2,te=X.longitude+U[1]*X.error.longitude*2;return te=D(te),ce=F(ce),c(ce,te,Y.length)},b=function(Y,U,X){X=X||52;var ce=_(Y,X),te=ce.latitude+U[0]*ce.error.latitude*2,se=ce.longitude+U[1]*ce.error.longitude*2;return se=D(se),te=F(te),d(te,se,X)},x=function(Y){var U=Y.length,X=v(Y),ce=X.latitude,te=X.longitude,se=X.error.latitude*2,pe=X.error.longitude*2,_e,de,ue=[Ae(1,0),Ae(1,1),Ae(0,1),Ae(-1,1),Ae(-1,0),Ae(-1,-1),Ae(0,-1),Ae(1,-1)];function Ae(k,ie){return _e=ce+k*se,de=te+ie*pe,de=D(de),_e=F(_e),c(_e,de,U)}return ue},R=function(Y,U){U=U||52;var X=_(Y,U),ce=X.latitude,te=X.longitude,se=X.error.latitude*2,pe=X.error.longitude*2,_e,de,ue=[Ae(1,0),Ae(1,1),Ae(0,1),Ae(-1,1),Ae(-1,0),Ae(-1,-1),Ae(0,-1),Ae(1,-1)];function Ae(k,ie){return _e=ce+k*se,de=te+ie*pe,de=D(de),_e=F(_e),d(_e,de,U)}return ue},P=function(Y,U,X,ce,te){te=te||9;for(var se=c(Y,U,te),pe=c(X,ce,te),_e=v(se),de=_e.error.latitude*2,ue=_e.error.longitude*2,Ae=h(se),k=h(pe),ie=Math.round((k[0]-Ae[0])/de),me=Math.round((k[1]-Ae[1])/ue),K=[],ee=0;ee<=ie;ee++)for(var ge=0;ge<=me;ge++)K.push(S(se,[ee,ge]));return K},O=function(Y,U,X,ce,te){te=te||52;for(var se=d(Y,U,te),pe=d(X,ce,te),_e=_(se,te),de=_e.error.latitude*2,ue=_e.error.longitude*2,Ae=m(se,te),k=m(pe,te),ie=Math.round((k[0]-Ae[0])/de),me=Math.round((k[1]-Ae[1])/ue),K=[],ee=0;ee<=ie;ee++)for(var ge=0;ge<=me;ge++)K.push(b(se,[ee,ge],te));return K};function D(Y){return Y>s?o+Y%s:Y<o?s+Y%s:Y}function F(Y){return Y>a?a:Y<i?i:Y}var Q={ENCODE_AUTO:r,encode:c,encode_uint64:d,encode_int:d,decode:v,decode_int:_,decode_uint64:_,decode_bbox:h,decode_bbox_uint64:m,decode_bbox_int:m,neighbor:S,neighbor_int:b,neighbors:x,neighbors_int:R,bboxes:P,bboxes_int:O};return JR=Q,JR}var iNe=rNe();const uy=Ir(iNe),aNe=({actor:e,object:t,type:n})=>({"@context":"https://www.w3.org/ns/activitystreams",type:n,actor:{type:"Person",id:e},object:{type:"Document",id:t}}),oNe=e=>async t=>{const n=await rr(new URL("/inbox",e),{method:"POST",body:JSON.stringify(aNe(t)),headers:{"content-type":"application/ld+json"}});if(!n.ok)throw new To("Geoindex responded with error",n);return{...t,status:n.status}},uU=(e="")=>{const t=[];for(let n=1;n<=e.length;n++)t.push(e.substring(0,n));return t},sNe=()=>{const{geoindexService:e}=kn(),t=$i(),{mutateAsync:n}=ao({mutationFn:oNe(e),onSuccess:async({previousLocation:a,currentLocation:o})=>{const s=[];if(a){const l=uy.encode(a.lat,a.long,10);s.push(...uU(l))}if(o){const l=uy.encode(o.lat,o.long,10);s.push(...uU(l))}await Promise.allSettled(s.map(l=>t.invalidateQueries({queryKey:[Gr.geoindex,l]})))}}),r=!!e,i=V.useCallback(async a=>await n(a),[n]);return V.useMemo(()=>[r,i],[r,i])},uNe=(e,t)=>{const{variables:n,quads:r,isLoading:i}=ya({query:bH,variables:V.useMemo(()=>({person:[e],community:[t]}),[t,e]),fetch:rr});return V.useMemo(()=>{const a=Cr.createLdoDataset(r);return[(n.offer??[]).map(l=>a.usingType(xb).fromSubject(l)).filter(l=>{var c,d;return((c=l==null?void 0:l.location)==null?void 0:c.lat)!==void 0&&((d=l==null?void 0:l.location)==null?void 0:d.long)!==void 0}).map(l=>{var m;const c=Eb(l,"description"),d=[l.location.lat].flat()[0]??0,h=[l.location.long].flat()[0]??0;return{id:l["@id"]??"",description:c,location:{lat:d,long:h},offeredBy:((m=l.offeredBy)==null?void 0:m["@id"])??""}}),i]},[i,r,n.offer])},lNe={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},cNe={type:{"@id":"@type"},Accommodation:{"@id":"http://w3id.org/hospex/ns#Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},Accommodation2:{"@id":"https://schema.org/Accommodation","@context":{type:{"@id":"@type"},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}}},description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@isCollection":!0},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#Point","@context":{type:{"@id":"@type"},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"}}},lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},fNe={schema:lNe,shape:"https://example.com/Accommodation",context:cNe},dNe=()=>{const e=Uf(fNe);return V.useCallback(async({data:{id:t,...n},language:r="en"})=>{await e.mutateAsync({uri:t,subject:t,language:r,transform:i=>{n.description&&FO(n.description,i,"description"),n.location&&(i.location.lat=n.location.lat,i.location.long=n.location.long)}})},[e])},hNe=()=>{const{communityId:e}=kn(),t=mi(),{i18n:n,_:r}=Qr(),[i,a]=V.useState(),{personalHospexDocuments:o}=bK(t.webId??"",e),[s]=uNe(t.webId??"",e),l=tNe(),c=dNe(),d=nNe(),[h,m]=sNe(),y=V.useCallback(async({uri:b,type:x,previousLocation:R,currentLocation:P})=>{h&&t.webId&&await Rs(m({type:x,actor:t.webId,object:b,previousLocation:R,currentLocation:P}),{pending:n._({id:"vTkuq4"}),success:{render:({data:O})=>{switch(O.status){case 201:return n._({id:"vz3tpL"});case 200:return n._({id:"f7fqUX"});case 204:return n._({id:"Z0DAcX"});default:return n._({id:"XQAIBA"})}}}})},[t.webId,h,m,r]);if(typeof t.webId!="string")return null;if(!s)return B.jsx(Ro,{children:B.jsx(_t,{id:"Z3FXyt"})});const v=async b=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));const{uri:x}=await Rs(l({personId:t.webId,data:b,hospexDocument:o[0],hospexContainer:fi(o[0])}),{pending:n._({id:"r60ENi"}),success:n._({id:"QlfR57"})});a(void 0),await y({type:"Create",uri:x,currentLocation:b.location})},_=async(b,x)=>{await Rs(c({data:b}),{pending:n._({id:"xdx7Sc"}),success:n._({id:"PUl3lo"})}),a(void 0),await y({type:"Update",uri:b.id,currentLocation:b.location,previousLocation:x.location})},S=async({id:b,location:x})=>{if(!(t.webId&&(o!=null&&o[0])))throw new Error(n._({id:"bGSJ3R"}));globalThis.confirm(n._({id:"Wixo6f"}))&&(await Rs(d({id:b,personId:t.webId,hospexDocument:o[0]}),{pending:n._({id:"+5HgiN"}),success:n._({id:"t9VobG"})}),await y({type:"Delete",uri:b,previousLocation:x}))};return B.jsxs("div",{className:xo.container,children:[B.jsxs("h1",{className:xo.header,children:[B.jsx(J9,{size:32})," ",B.jsx(_t,{id:"iRVV2L"})]}),B.jsx("ul",{style:{display:"contents"},children:s.map(b=>i===b.id?B.jsx(oU,{onSubmit:x=>_(x,b),onCancel:()=>{a(void 0)},initialData:b},b.id):B.jsxs("li",{className:xo.accommodation,"data-cy":"offer-accommodation-item",children:[B.jsx(eNe,{...b}),B.jsxs("div",{className:xo.actions,children:[B.jsx(tr,{secondary:!0,onClick:()=>{a(b.id)},children:B.jsx(_t,{id:"ePK91l"})}),B.jsx(tr,{danger:!0,onClick:()=>S(b),children:B.jsx(_t,{id:"cnGeoo"})})]})]},b.id))}),i==="new"?B.jsx(oU,{onSubmit:v,onCancel:()=>a(void 0)}):B.jsx(tr,{primary:!0,onClick:()=>a("new"),className:xo.addAccommodationButton,children:B.jsx(_t,{id:"CiQd9C"})})]})},pNe=()=>B.jsx("div",{children:"404"}),gNe=e=>{const{data:t}=hO(e.src);return t?B.jsx("img",{...e,src:t,alt:e.alt??"","data-src":e.src}):null},mNe="_container_eiq8v_1",yNe="_name_eiq8v_7",vNe="_about_eiq8v_14",_Ne="_photo_eiq8v_19",E0={container:mNe,name:yNe,about:vNe,photo:_Ne},wNe=()=>{const{i18n:e,_:t}=Qr(),{communityId:n}=kn(),r=DP().id,i=mi(),a=r&&i.webId?r===i.webId:void 0,o=jr(Ao),[s]=Xo(r,n),[l]=Xo(i.webId,n),c=s.name;return B.jsxs("div",{className:E0.container,children:[B.jsx(gNe,{className:E0.photo,src:s.photo,alt:e._({id:"+Vmqfs",values:{name:c}}),"data-cy":"profile-photo"}),B.jsxs("header",{className:E0.name,"data-cy":"profile-name",children:[s.name," ",B.jsx(ez,{href:r})]}),B.jsx(nI,{text:s.about,locale:o,className:E0.about,"data-cy":"profile-about"}),a&&B.jsxs(_f,{secondary:!0,to:"/profile/edit","data-cy":"edit-profile-link",children:[B.jsx(Y9,{})," ",B.jsx(_t,{id:"HecDqj"})]}),a===!1&&B.jsx(_f,{secondary:!0,to:`/messages/${encodeURIComponent(r)}`,children:B.jsx(_t,{id:"eWlz27"})}),B.jsx(_f,{tertiary:!0,to:"contacts",children:B.jsx(_t,{id:"2LDW9H"})}),a===!1&&B.jsx(vPe,{webId:r}),B.jsx("section",{children:s.interests?B.jsx(JSe,{ids:s.interests,highlighted:a?[]:l.interests??[]}):B.jsx(Ro,{children:B.jsx(_t,{id:"O75yBm"})})})]})},bNe=()=>{const e=mi();return e.webId?B.jsx(NP,{to:encodeURIComponent(e.webId),replace:!0}):B.jsx(Ro,{children:B.jsx(_t,{id:"qPXQY8"})})},SNe="_bar_1x3gh_1",xNe="_animate_1x3gh_17",ENe="_progress_1x3gh_1",lU={bar:SNe,animate:xNe,progress:ENe},CNe=({animate:e=!1})=>B.jsx("div",{className:Rr(lU.bar,e&&lU.animate)}),TNe=async({geohash:e,geoindex:t})=>{const n=new URL(`/query?object=${encodeURIComponent(`"${e}"`)}`,t).toString(),r=await rr(n);if(!r.ok)throw new To("geoindex returned invalid response",r);const i=await r.text(),o=new zh({format:r.headers.get("content-type")??void 0}).parse(i),s=new Ls(o);return s.getSubjects("https://example.com/ns#geohash",`"${e}"`,null).map(c=>{const d=s.getObjects(c,"https://example.com/ns#geohash",null).map(m=>m.value).reduce((m,y)=>m.length>y.length?m:y),h=uy.decode(d);return{uri:c.value,geohash:d,location:h}})},RNe=(e,t)=>{const{geoindexService:n}=kn(),[r,i]=V.useState(0),[a,o]=V.useState(0),s=!n||r>a,l=V.useMemo(()=>t?uy.bboxes(t.s,t.w,t.n,t.e,1):[],[t]),c=V.useMemo(()=>l.map(b=>({queryKey:[Gr.geoindex,b],queryFn:()=>TNe({geohash:b,geoindex:n}),staleTime:1/0,enabled:!!n})),[l,n]),d=Bm({queries:c,combine:b=>({isError:b.some(x=>x.isError),isPending:b.some(x=>x.isPending),isSuccess:b.every(x=>x.isSuccess),errors:b.filter(x=>x.error).map(x=>x.error),data:b.filter(x=>x.data).flatMap(x=>x.data)})});V.useEffect(()=>{d.isError&&i(Date.now())},[d.isError]),V.useEffect(()=>{d.isSuccess&&o(Date.now())},[d.isSuccess]);const h=V.useMemo(()=>s?{query:t_e,variables:{community:[e]},fetch:rr,store:new Ls}:{query:[],variables:{},fetch:rr},[e,s]),{quads:m,isMissing:y}=ya(h),v=V.useMemo(()=>[Cr.createLdoDataset(m).usingType(xb).matchObject(null,ac.offers).filter(R=>R.location).map(R=>{var P,O;return{id:R["@id"],description:Eb(R,"description"),location:{lat:[R.location.lat].flat()[0],long:[R.location.long].flat()[0]},offeredBy:{id:((P=R.offeredBy)==null?void 0:P["@id"])??"",name:((O=R.offeredBy)==null?void 0:O.name)??""}}}).filter(R=>R.location.lat!==void 0&&R.location.long!==void 0&&R.id!==void 0),y],[y,m]),_=V.useMemo(()=>[d.data.map(({uri:b,location:x})=>({id:b,location:{lat:x.latitude,long:x.longitude},offeredBy:{id:"",name:""}})),d.isPending],[d.data,d.isPending]);return V.useMemo(()=>[Hge("id",_[0],v[0]),_[1]||v[1]],[_,v])};var Om={exports:{}},ANe=Om.exports,cU;function PNe(){return cU||(cU=1,function(e,t){(function(n,r){r(t)})(ANe,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(a){L.Util.setOptions(this,a),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var o=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,o?this._withAnimation:this._noAnimation),this._markerCluster=o?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(a){if(a instanceof L.LayerGroup)return this.addLayers([a]);if(!a.getLatLng)return this._nonPointGroup.addLayer(a),this.fire("layeradd",{layer:a}),this;if(!this._map)return this._needsClustering.push(a),this.fire("layeradd",{layer:a}),this;if(this.hasLayer(a))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(a,this._maxZoom),this.fire("layeradd",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var o=a,s=this._zoom;if(a.__parent)for(;o.__parent._zoom>=s;)o=o.__parent;return this._currentShownBounds.contains(o.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(a,o):this._animationAddLayerNonAnimated(a,o)),this},removeLayer:function(a){return a instanceof L.LayerGroup?this.removeLayers([a]):a.getLatLng?this._map?a.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(a)),this._removeLayer(a,!0),this.fire("layerremove",{layer:a}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),a.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(a)&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,a)&&this.hasLayer(a)&&this._needsRemoving.push({layer:a,latlng:a._latlng}),this.fire("layerremove",{layer:a}),this):(this._nonPointGroup.removeLayer(a),this.fire("layerremove",{layer:a}),this)},addLayers:function(a,o){if(!L.Util.isArray(a))return this.addLayer(a);var s=this._featureGroup,l=this._nonPointGroup,c=this.options.chunkedLoading,d=this.options.chunkInterval,h=this.options.chunkProgress,m=a.length,y=0,v=!0,_;if(this._map){var S=new Date().getTime(),b=L.bind(function(){var R=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();y<m;y++){if(c&&y%200===0){var P=new Date().getTime()-R;if(P>d)break}if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),m=a.length;continue}if(!_.getLatLng){l.addLayer(_),o||this.fire("layeradd",{layer:_});continue}if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),o||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var O=_.__parent.getAllChildMarkers(),D=O[0]===_?O[1]:O[0];s.removeLayer(D)}}h&&h(y,m,new Date().getTime()-S),y===m?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(b,this.options.chunkDelay)},this);b()}else for(var x=this._needsClustering;y<m;y++){if(_=a[y],_ instanceof L.LayerGroup){v&&(a=a.slice(),v=!1),this._extractNonGroupLayers(_,a),m=a.length;continue}if(!_.getLatLng){l.addLayer(_);continue}this.hasLayer(_)||x.push(_)}return this},removeLayers:function(a){var o,s,l=a.length,c=this._featureGroup,d=this._nonPointGroup,h=!0;if(!this._map){for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}this._arraySplice(this._needsClustering,s),d.removeLayer(s),this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s})}return this}if(this._unspiderfy){this._unspiderfy();var m=a.slice(),y=l;for(o=0;o<y;o++){if(s=m[o],s instanceof L.LayerGroup){this._extractNonGroupLayers(s,m),y=m.length;continue}this._unspiderfyLayer(s)}}for(o=0;o<l;o++){if(s=a[o],s instanceof L.LayerGroup){h&&(a=a.slice(),h=!1),this._extractNonGroupLayers(s,a),l=a.length;continue}if(!s.__parent){d.removeLayer(s),this.fire("layerremove",{layer:s});continue}this._removeLayer(s,!0,!0),this.fire("layerremove",{layer:s}),c.hasLayer(s)&&(c.removeLayer(s),s.clusterShow&&s.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(a){a.off(this._childMarkerEventHandlers,this),delete a.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var a=new L.LatLngBounds;this._topClusterLevel&&a.extend(this._topClusterLevel._bounds);for(var o=this._needsClustering.length-1;o>=0;o--)a.extend(this._needsClustering[o].getLatLng());return a.extend(this._nonPointGroup.getBounds()),a},eachLayer:function(a,o){var s=this._needsClustering.slice(),l=this._needsRemoving,c,d,h;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(s),d=s.length-1;d>=0;d--){for(c=!0,h=l.length-1;h>=0;h--)if(l[h].layer===s[d]){c=!1;break}c&&a.call(o,s[d])}this._nonPointGroup.eachLayer(a,o)},getLayers:function(){var a=[];return this.eachLayer(function(o){a.push(o)}),a},getLayer:function(a){var o=null;return a=parseInt(a,10),this.eachLayer(function(s){L.stamp(s)===a&&(o=s)}),o},hasLayer:function(a){if(!a)return!1;var o,s=this._needsClustering;for(o=s.length-1;o>=0;o--)if(s[o]===a)return!0;for(s=this._needsRemoving,o=s.length-1;o>=0;o--)if(s[o].layer===a)return!1;return!!(a.__parent&&a.__parent._group===this)||this._nonPointGroup.hasLayer(a)},zoomToShowLayer:function(a,o){var s=this._map;typeof o!="function"&&(o=function(){});var l=function(){(s.hasLayer(a)||s.hasLayer(a.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",l,this),this.off("animationend",l,this),s.hasLayer(a)?o():a.__parent._icon&&(this.once("spiderfied",o,this),a.__parent.spiderfy()))};a._icon&&this._map.getBounds().contains(a.getLatLng())?o():a.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",l,this),this._map.panTo(a.getLatLng())):(this._map.on("moveend",l,this),this.on("animationend",l,this),a.__parent.zoomToBounds())},onAdd:function(a){this._map=a;var o,s,l;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(a),this._nonPointGroup.addTo(a),this._gridClusters||this._generateInitialClusters(),this._maxLat=a.options.crs.projection.MAX_LATITUDE,o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],l.newlatlng=l.layer._latlng,l.layer._latlng=l.latlng;for(o=0,s=this._needsRemoving.length;o<s;o++)l=this._needsRemoving[o],this._removeLayer(l.layer,!0),l.layer._latlng=l.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),s=this._needsClustering,this._needsClustering=[],this.addLayers(s,!0)},onRemove:function(a){a.off("zoomend",this._zoomEnd,this),a.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(a){for(var o=a;o&&!o._icon;)o=o.__parent;return o||null},_arraySplice:function(a,o){for(var s=a.length-1;s>=0;s--)if(a[s]===o)return a.splice(s,1),!0},_removeFromGridUnclustered:function(a,o){for(var s=this._map,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom());o>=c&&l[o].removeObject(a,s.project(a.getLatLng(),o));o--);},_childMarkerDragStart:function(a){a.target.__dragStart=a.target._latlng},_childMarkerMoved:function(a){if(!this._ignoreMove&&!a.target.__dragStart){var o=a.target._popup&&a.target._popup.isOpen();this._moveChild(a.target,a.oldLatLng,a.latlng),o&&a.target.openPopup()}},_moveChild:function(a,o,s){a._latlng=o,this.removeLayer(a),a._latlng=s,this.addLayer(a)},_childMarkerDragEnd:function(a){var o=a.target.__dragStart;delete a.target.__dragStart,o&&this._moveChild(a.target,o,a.target._latlng)},_removeLayer:function(a,o,s){var l=this._gridClusters,c=this._gridUnclustered,d=this._featureGroup,h=this._map,m=Math.floor(this._map.getMinZoom());o&&this._removeFromGridUnclustered(a,this._maxZoom);var y=a.__parent,v=y._markers,_;for(this._arraySplice(v,a);y&&(y._childCount--,y._boundsNeedUpdate=!0,!(y._zoom<m));)o&&y._childCount<=1?(_=y._markers[0]===a?y._markers[1]:y._markers[0],l[y._zoom].removeObject(y,h.project(y._cLatLng,y._zoom)),c[y._zoom].addObject(_,h.project(_.getLatLng(),y._zoom)),this._arraySplice(y.__parent._childClusters,y),y.__parent._markers.push(_),_.__parent=y.__parent,y._icon&&(d.removeLayer(y),s||d.addLayer(_))):y._iconNeedsUpdate=!0,y=y.__parent;delete a.__parent},_isOrIsParent:function(a,o){for(;o;){if(a===o)return!0;o=o.parentNode}return!1},fire:function(a,o,s){if(o&&o.layer instanceof L.MarkerCluster){if(o.originalEvent&&this._isOrIsParent(o.layer._icon,o.originalEvent.relatedTarget))return;a="cluster"+a}L.FeatureGroup.prototype.fire.call(this,a,o,s)},listens:function(a,o){return L.FeatureGroup.prototype.listens.call(this,a,o)||L.FeatureGroup.prototype.listens.call(this,"cluster"+a,o)},_defaultIconCreateFunction:function(a){var o=a.getChildCount(),s=" marker-cluster-";return o<10?s+="small":o<100?s+="medium":s+="large",new L.DivIcon({html:"<div><span>"+o+"</span></div>",className:"marker-cluster"+s,iconSize:new L.Point(40,40)})},_bindEvents:function(){var a=this._map,o=this.options.spiderfyOnMaxZoom,s=this.options.showCoverageOnHover,l=this.options.zoomToBoundsOnClick,c=this.options.spiderfyOnEveryZoom;(o||l||c)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),s&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),a.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(a){var o=a.layer,s=o;if(!(a.type==="clusterkeypress"&&a.originalEvent&&a.originalEvent.keyCode!==13)){for(;s._childClusters.length===1;)s=s._childClusters[0];s._zoom===this._maxZoom&&s._childCount===o._childCount&&this.options.spiderfyOnMaxZoom?o.spiderfy():this.options.zoomToBoundsOnClick&&o.zoomToBounds(),this.options.spiderfyOnEveryZoom&&o.spiderfy(),a.originalEvent&&a.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(a){var o=this._map;this._inZoomAnimation||(this._shownPolygon&&o.removeLayer(this._shownPolygon),a.layer.getChildCount()>2&&a.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(a.layer.getConvexHull(),this.options.polygonOptions),o.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var a=this.options.spiderfyOnMaxZoom,o=this.options.showCoverageOnHover,s=this.options.zoomToBoundsOnClick,l=this.options.spiderfyOnEveryZoom,c=this._map;(a||s||l)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),o&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),c.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var a=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,a),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),a),this._currentShownBounds=a}},_generateInitialClusters:function(){var a=Math.ceil(this._map.getMaxZoom()),o=Math.floor(this._map.getMinZoom()),s=this.options.maxClusterRadius,l=s;typeof s!="function"&&(l=function(){return s}),this.options.disableClusteringAtZoom!==null&&(a=this.options.disableClusteringAtZoom-1),this._maxZoom=a,this._gridClusters={},this._gridUnclustered={};for(var c=a;c>=o;c--)this._gridClusters[c]=new L.DistanceGrid(l(c)),this._gridUnclustered[c]=new L.DistanceGrid(l(c));this._topClusterLevel=new this._markerCluster(this,o-1)},_addLayer:function(a,o){var s=this._gridClusters,l=this._gridUnclustered,c=Math.floor(this._map.getMinZoom()),d,h;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(a),a.on(this._childMarkerEventHandlers,this);o>=c;o--){d=this._map.project(a.getLatLng(),o);var m=s[o].getNearObject(d);if(m){m._addChild(a),a.__parent=m;return}if(m=l[o].getNearObject(d),m){var y=m.__parent;y&&this._removeLayer(m,!1);var v=new this._markerCluster(this,o,m,a);s[o].addObject(v,this._map.project(v._cLatLng,o)),m.__parent=v,a.__parent=v;var _=v;for(h=o-1;h>y._zoom;h--)_=new this._markerCluster(this,h,_),s[h].addObject(_,this._map.project(m.getLatLng(),h));y._addChild(_),this._removeFromGridUnclustered(m,o);return}l[o].addObject(a,d)}this._topClusterLevel._addChild(a),a.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(a){a instanceof L.MarkerCluster&&a._iconNeedsUpdate&&a._updateIcon()})},_enqueue:function(a){this._queue.push(a),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var a=0;a<this._queue.length;a++)this._queue[a].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var a=Math.round(this._map._zoom);this._processQueue(),this._zoom<a&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,a)):this._zoom>a?(this._animationStart(),this._animationZoomOut(this._zoom,a)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(a){var o=this._maxLat;return o!==void 0&&(a.getNorth()>=o&&(a._northEast.lat=1/0),a.getSouth()<=-o&&(a._southWest.lat=-1/0)),a},_animationAddLayerNonAnimated:function(a,o){if(o===a)this._featureGroup.addLayer(a);else if(o._childCount===2){o._addToMap();var s=o.getAllChildMarkers();this._featureGroup.removeLayer(s[0]),this._featureGroup.removeLayer(s[1])}else o._updateIcon()},_extractNonGroupLayers:function(a,o){var s=a.getLayers(),l=0,c;for(o=o||[];l<s.length;l++){if(c=s[l],c instanceof L.LayerGroup){this._extractNonGroupLayers(c,o);continue}o.push(c)}return o},_overrideMarkerIcon:function(a){var o=a.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[a]}});return o}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(a,o){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(a,o){this._animationAddLayerNonAnimated(a,o)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(a,o){var s=this._getExpandedVisibleBounds(),l=this._featureGroup,c=Math.floor(this._map.getMinZoom()),d;this._ignoreMove=!0,this._topClusterLevel._recursively(s,a,c,function(h){var m=h._latlng,y=h._markers,v;for(s.contains(m)||(m=null),h._isSingleParent()&&a+1===o?(l.removeLayer(h),h._recursivelyAddChildrenToMap(null,o,s)):(h.clusterHide(),h._recursivelyAddChildrenToMap(m,o,s)),d=y.length-1;d>=0;d--)v=y[d],s.contains(v._latlng)||l.removeLayer(v)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(s,o),l.eachLayer(function(h){!(h instanceof L.MarkerCluster)&&h._icon&&h.clusterShow()}),this._topClusterLevel._recursively(s,a,o,function(h){h._recursivelyRestoreChildPositions(o)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(s,a,c,function(h){l.removeLayer(h),h.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(a,o){this._animationZoomOutSingle(this._topClusterLevel,a-1,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,o,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),a,this._getExpandedVisibleBounds())},_animationAddLayer:function(a,o){var s=this,l=this._featureGroup;l.addLayer(a),o!==a&&(o._childCount>2?(o._updateIcon(),this._forceLayout(),this._animationStart(),a._setPos(this._map.latLngToLayerPoint(o.getLatLng())),a.clusterHide(),this._enqueue(function(){l.removeLayer(a),a.clusterShow(),s._animationEnd()})):(this._forceLayout(),s._animationStart(),s._animationZoomOutSingle(o,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(a,o,s){var l=this._getExpandedVisibleBounds(),c=Math.floor(this._map.getMinZoom());a._recursivelyAnimateChildrenInAndAddSelfToMap(l,c,o+1,s);var d=this;this._forceLayout(),a._recursivelyBecomeVisible(l,s),this._enqueue(function(){if(a._childCount===1){var h=a._markers[0];this._ignoreMove=!0,h.setLatLng(h.getLatLng()),this._ignoreMove=!1,h.clusterShow&&h.clusterShow()}else a._recursively(l,s,c,function(m){m._recursivelyRemoveChildrenFromMap(l,c,o+1)});d._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(a){return new L.MarkerClusterGroup(a)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(a,o,s,l){L.Marker.prototype.initialize.call(this,s?s._cLatLng||s.getLatLng():new L.LatLng(0,0),{icon:this,pane:a.options.clusterPane}),this._group=a,this._zoom=o,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,s&&this._addChild(s),l&&this._addChild(l)},getAllChildMarkers:function(a,o){a=a||[];for(var s=this._childClusters.length-1;s>=0;s--)this._childClusters[s].getAllChildMarkers(a,o);for(var l=this._markers.length-1;l>=0;l--)o&&this._markers[l].__dragStart||a.push(this._markers[l]);return a},getChildCount:function(){return this._childCount},zoomToBounds:function(a){for(var o=this._childClusters.slice(),s=this._group._map,l=s.getBoundsZoom(this._bounds),c=this._zoom+1,d=s.getZoom(),h;o.length>0&&l>c;){c++;var m=[];for(h=0;h<o.length;h++)m=m.concat(o[h]._childClusters);o=m}l>c?this._group._map.setView(this._latlng,c):l<=d?this._group._map.setView(this._latlng,d+1):this._group._map.fitBounds(this._bounds,a)},getBounds:function(){var a=new L.LatLngBounds;return a.extend(this._bounds),a},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(a,o){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(a),a instanceof L.MarkerCluster?(o||(this._childClusters.push(a),a.__parent=this),this._childCount+=a._childCount):(o||this._markers.push(a),this._childCount++),this.__parent&&this.__parent._addChild(a,!0)},_setClusterCenter:function(a){this._cLatLng||(this._cLatLng=a._cLatLng||a._latlng)},_resetBounds:function(){var a=this._bounds;a._southWest&&(a._southWest.lat=1/0,a._southWest.lng=1/0),a._northEast&&(a._northEast.lat=-1/0,a._northEast.lng=-1/0)},_recalculateBounds:function(){var a=this._markers,o=this._childClusters,s=0,l=0,c=this._childCount,d,h,m,y;if(c!==0){for(this._resetBounds(),d=0;d<a.length;d++)m=a[d]._latlng,this._bounds.extend(m),s+=m.lat,l+=m.lng;for(d=0;d<o.length;d++)h=o[d],h._boundsNeedUpdate&&h._recalculateBounds(),this._bounds.extend(h._bounds),m=h._wLatLng,y=h._childCount,s+=m.lat*y,l+=m.lng*y;this._latlng=this._wLatLng=new L.LatLng(s/c,l/c),this._boundsNeedUpdate=!1}},_addToMap:function(a){a&&(this._backupLatlng=this._latlng,this.setLatLng(a)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(a,o,s){this._recursively(a,this._group._map.getMinZoom(),s-1,function(l){var c=l._markers,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())},function(l){var c=l._childClusters,d,h;for(d=c.length-1;d>=0;d--)h=c[d],h._icon&&(h._setPos(o),h.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(a,o,s,l){this._recursively(a,l,o,function(c){c._recursivelyAnimateChildrenIn(a,c._group._map.latLngToLayerPoint(c.getLatLng()).round(),s),c._isSingleParent()&&s-1===l?(c.clusterShow(),c._recursivelyRemoveChildrenFromMap(a,o,s)):c.clusterHide(),c._addToMap()})},_recursivelyBecomeVisible:function(a,o){this._recursively(a,this._group._map.getMinZoom(),o,null,function(s){s.clusterShow()})},_recursivelyAddChildrenToMap:function(a,o,s){this._recursively(s,this._group._map.getMinZoom()-1,o,function(l){if(o!==l._zoom)for(var c=l._markers.length-1;c>=0;c--){var d=l._markers[c];s.contains(d._latlng)&&(a&&(d._backupLatlng=d.getLatLng(),d.setLatLng(a),d.clusterHide&&d.clusterHide()),l._group._featureGroup.addLayer(d))}},function(l){l._addToMap(a)})},_recursivelyRestoreChildPositions:function(a){for(var o=this._markers.length-1;o>=0;o--){var s=this._markers[o];s._backupLatlng&&(s.setLatLng(s._backupLatlng),delete s._backupLatlng)}if(a-1===this._zoom)for(var l=this._childClusters.length-1;l>=0;l--)this._childClusters[l]._restorePosition();else for(var c=this._childClusters.length-1;c>=0;c--)this._childClusters[c]._recursivelyRestoreChildPositions(a)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(a,o,s,l){var c,d;this._recursively(a,o-1,s-1,function(h){for(d=h._markers.length-1;d>=0;d--)c=h._markers[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())},function(h){for(d=h._childClusters.length-1;d>=0;d--)c=h._childClusters[d],(!l||!l.contains(c._latlng))&&(h._group._featureGroup.removeLayer(c),c.clusterShow&&c.clusterShow())})},_recursively:function(a,o,s,l,c){var d=this._childClusters,h=this._zoom,m,y;if(o<=h&&(l&&l(this),c&&h===s&&c(this)),h<o||h<s)for(m=d.length-1;m>=0;m--)y=d[m],y._boundsNeedUpdate&&y._recalculateBounds(),a.intersects(y._bounds)&&y._recursively(a,o,s,l,c)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var a=this.options.opacity;return this.setOpacity(0),this.options.opacity=a,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(a){this._cellSize=a,this._sqCellSize=a*a,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],m=L.Util.stamp(a);this._objectPoint[m]=o,h.push(a)},updateObject:function(a,o){this.removeObject(a),this.addObject(a,o)},removeObject:function(a,o){var s=this._getCoord(o.x),l=this._getCoord(o.y),c=this._grid,d=c[l]=c[l]||{},h=d[s]=d[s]||[],m,y;for(delete this._objectPoint[L.Util.stamp(a)],m=0,y=h.length;m<y;m++)if(h[m]===a)return h.splice(m,1),y===1&&delete d[s],!0},eachObject:function(a,o){var s,l,c,d,h,m,y,v=this._grid;for(s in v){h=v[s];for(l in h)for(m=h[l],c=0,d=m.length;c<d;c++)y=a.call(o,m[c]),y&&(c--,d--)}},getNearObject:function(a){var o=this._getCoord(a.x),s=this._getCoord(a.y),l,c,d,h,m,y,v,_,S=this._objectPoint,b=this._sqCellSize,x=null;for(l=s-1;l<=s+1;l++)if(h=this._grid[l],h){for(c=o-1;c<=o+1;c++)if(m=h[c],m)for(d=0,y=m.length;d<y;d++)v=m[d],_=this._sqDist(S[L.Util.stamp(v)],a),(_<b||_<=b&&x===null)&&(b=_,x=v)}return x},_getCoord:function(a){var o=Math.floor(a/this._cellSize);return isFinite(o)?o:a},_sqDist:function(a,o){var s=o.x-a.x,l=o.y-a.y;return s*s+l*l}},function(){L.QuickHull={getDistant:function(a,o){var s=o[1].lat-o[0].lat,l=o[0].lng-o[1].lng;return l*(a.lat-o[0].lat)+s*(a.lng-o[0].lng)},findMostDistantPointFromBaseLine:function(a,o){var s=0,l=null,c=[],d,h,m;for(d=o.length-1;d>=0;d--){if(h=o[d],m=this.getDistant(h,a),m>0)c.push(h);else continue;m>s&&(s=m,l=h)}return{maxPoint:l,newPoints:c}},buildConvexHull:function(a,o){var s=[],l=this.findMostDistantPointFromBaseLine(a,o);return l.maxPoint?(s=s.concat(this.buildConvexHull([a[0],l.maxPoint],l.newPoints)),s=s.concat(this.buildConvexHull([l.maxPoint,a[1]],l.newPoints)),s):[a[0]]},getConvexHull:function(a){var o=!1,s=!1,l=!1,c=!1,d=null,h=null,m=null,y=null,v=null,_=null,S;for(S=a.length-1;S>=0;S--){var b=a[S];(o===!1||b.lat>o)&&(d=b,o=b.lat),(s===!1||b.lat<s)&&(h=b,s=b.lat),(l===!1||b.lng>l)&&(m=b,l=b.lng),(c===!1||b.lng<c)&&(y=b,c=b.lng)}s!==o?(_=h,v=d):(_=y,v=m);var x=[].concat(this.buildConvexHull([_,v],a),this.buildConvexHull([v,_],a));return x}}}(),L.MarkerCluster.include({getConvexHull:function(){var a=this.getAllChildMarkers(),o=[],s,l;for(l=a.length-1;l>=0;l--)s=a[l].getLatLng(),o.push(s);return L.QuickHull.getConvexHull(o)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var a=this.getAllChildMarkers(null,!0),o=this._group,s=o._map,l=s.latLngToLayerPoint(this._latlng),c;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?c=this._group.options.spiderfyShapePositions(a.length,l):a.length>=this._circleSpiralSwitchover?c=this._generatePointsSpiral(a.length,l):(l.y+=10,c=this._generatePointsCircle(a.length,l)),this._animationSpiderfy(a,c)}},unspiderfy:function(a){this._group._inZoomAnimation||(this._animationUnspiderfy(a),this._group._spiderfied=null)},_generatePointsCircle:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+a),l=s/this._2PI,c=this._2PI/a,d=[],h,m;for(l=Math.max(l,35),d.length=a,h=0;h<a;h++)m=this._circleStartAngle+h*c,d[h]=new L.Point(o.x+l*Math.cos(m),o.y+l*Math.sin(m))._round();return d},_generatePointsSpiral:function(a,o){var s=this._group.options.spiderfyDistanceMultiplier,l=s*this._spiralLengthStart,c=s*this._spiralFootSeparation,d=s*this._spiralLengthFactor*this._2PI,h=0,m=[],y;for(m.length=a,y=a;y>=0;y--)y<a&&(m[y]=new L.Point(o.x+l*Math.cos(h),o.y+l*Math.sin(h))._round()),h+=c/l+y*5e-4,l+=d/h;return m},_noanimationUnspiderfy:function(){var a=this._group,o=a._map,s=a._featureGroup,l=this.getAllChildMarkers(null,!0),c,d;for(a._ignoreMove=!0,this.setOpacity(1),d=l.length-1;d>=0;d--)c=l[d],s.removeLayer(c),c._preSpiderfyLatlng&&(c.setLatLng(c._preSpiderfyLatlng),delete c._preSpiderfyLatlng),c.setZIndexOffset&&c.setZIndexOffset(0),c._spiderLeg&&(o.removeLayer(c._spiderLeg),delete c._spiderLeg);a.fire("unspiderfied",{cluster:this,markers:l}),a._ignoreMove=!1,a._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(a,o){var s=this._group,l=s._map,c=s._featureGroup,d=this._group.options.spiderLegPolylineOptions,h,m,y,v;for(s._ignoreMove=!0,h=0;h<a.length;h++)v=l.layerPointToLatLng(o[h]),m=a[h],y=new L.Polyline([this._latlng,v],d),l.addLayer(y),m._spiderLeg=y,m._preSpiderfyLatlng=m._latlng,m.setLatLng(v),m.setZIndexOffset&&m.setZIndexOffset(1e6),c.addLayer(m);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:a})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(a,o){var s=this,l=this._group,c=l._map,d=l._featureGroup,h=this._latlng,m=c.latLngToLayerPoint(h),y=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),_=v.opacity,S,b,x,R,P,O;for(_===void 0&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),y?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=_,l._ignoreMove=!0,S=0;S<a.length;S++)b=a[S],O=c.layerPointToLatLng(o[S]),x=new L.Polyline([h,O],v),c.addLayer(x),b._spiderLeg=x,y&&(R=x._path,P=R.getTotalLength()+.1,R.style.strokeDasharray=P,R.style.strokeDashoffset=P),b.setZIndexOffset&&b.setZIndexOffset(1e6),b.clusterHide&&b.clusterHide(),d.addLayer(b),b._setPos&&b._setPos(m);for(l._forceLayout(),l._animationStart(),S=a.length-1;S>=0;S--)O=c.layerPointToLatLng(o[S]),b=a[S],b._preSpiderfyLatlng=b._latlng,b.setLatLng(O),b.clusterShow&&b.clusterShow(),y&&(x=b._spiderLeg,R=x._path,R.style.strokeDashoffset=0,x.setStyle({opacity:_}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout(function(){l._animationEnd(),l.fire("spiderfied",{cluster:s,markers:a})},200)},_animationUnspiderfy:function(a){var o=this,s=this._group,l=s._map,c=s._featureGroup,d=a?l._latLngToNewLayerPoint(this._latlng,a.zoom,a.center):l.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),m=L.Path.SVG,y,v,_,S,b,x;for(s._ignoreMove=!0,s._animationStart(),this.setOpacity(1),v=h.length-1;v>=0;v--)y=h[v],y._preSpiderfyLatlng&&(y.closePopup(),y.setLatLng(y._preSpiderfyLatlng),delete y._preSpiderfyLatlng,x=!0,y._setPos&&(y._setPos(d),x=!1),y.clusterHide&&(y.clusterHide(),x=!1),x&&c.removeLayer(y),m&&(_=y._spiderLeg,S=_._path,b=S.getTotalLength()+.1,S.style.strokeDashoffset=b,_.setStyle({opacity:0})));s._ignoreMove=!1,setTimeout(function(){var R=0;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&R++;for(v=h.length-1;v>=0;v--)y=h[v],y._spiderLeg&&(y.clusterShow&&y.clusterShow(),y.setZIndexOffset&&y.setZIndexOffset(0),R>1&&c.removeLayer(y),l.removeLayer(y._spiderLeg),delete y._spiderLeg);s._animationEnd(),s.fire("unspiderfied",{cluster:o,markers:h})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(a){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(a))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(a){this._spiderfied&&this._spiderfied.unspiderfy(a)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(a){a._spiderLeg&&(this._featureGroup.removeLayer(a),a.clusterShow&&a.clusterShow(),a.setZIndexOffset&&a.setZIndexOffset(0),this._map.removeLayer(a._spiderLeg),delete a._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(a){return a?a instanceof L.MarkerClusterGroup?a=a._topClusterLevel.getAllChildMarkers():a instanceof L.LayerGroup?a=a._layers:a instanceof L.MarkerCluster?a=a.getAllChildMarkers():a instanceof L.Marker&&(a=[a]):a=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(a),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(a),this},_flagParentsIconsNeedUpdate:function(a){var o,s;for(o in a)for(s=a[o].__parent;s;)s._iconNeedsUpdate=!0,s=s.__parent},_refreshSingleMarkerModeMarkers:function(a){var o,s;for(o in a)s=a[o],this.hasLayer(s)&&s.setIcon(this._overrideMarkerIcon(s))}}),L.Marker.include({refreshIconOptions:function(a,o){var s=this.options.icon;return L.setOptions(s,a),this.setIcon(s),o&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=i,Object.defineProperty(n,"__esModule",{value:!0})})}(Om,Om.exports)),Om.exports}PNe();function ly(e){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ly(e)}var ONe=["children"];function fU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(n),!0).forEach(function(r){LNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LNe(e,t,n){return(t=INe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function INe(e){var t=MNe(e,"string");return ly(t)=="symbol"?t:t+""}function MNe(e,t){if(ly(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ly(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hU(e,t){return FNe(e)||NNe(e,t)||kNe(e,t)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kNe(e,t){if(e){if(typeof e=="string")return pU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pU(e,t):void 0}}function pU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function NNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function FNe(e){if(Array.isArray(e))return e}function jNe(e,t){if(e==null)return{};var n,r,i=$Ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Ne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}FP.MarkerClusterGroup.include({_flushLayerBuffer:function(){this.addLayers(this._layerBuffer),this._layerBuffer=[]},addLayer:function(t){this._layerBuffer.length===0&&setTimeout(this._flushLayerBuffer.bind(this),50),this._layerBuffer.push(t)}});FP.MarkerClusterGroup.addInitHook(function(){this._layerBuffer=[]});function BNe(e,t){e.children;var n=jNe(e,ONe),r={},i={};Object.entries(n).forEach(function(o){var s=hU(o,2),l=s[0],c=s[1];return l.startsWith("on")?i[l]=c:r[l]=c});var a=new FP.MarkerClusterGroup(r);return Object.entries(i).forEach(function(o){var s=hU(o,2),l=s[0],c=s[1],d="cluster".concat(l.substring(2).toLowerCase());a.on(d,c)}),{instance:a,context:dU(dU({},t),{},{layerContainer:a})}}var UNe=Fke(BNe);const qNe=({accommodationId:e})=>{var d;const{communityId:t}=kn(),{quads:n,variables:r,isLoading:i}=ya(V.useMemo(()=>({query:n_e,variables:{offer:[e]},fetch:rr}),[e])),[a,,o,,s]=Xo(((d=r.person)==null?void 0:d[0])??"",t),l=V.useMemo(()=>Cr.createLdoDataset(n).usingType(xb).fromSubject(e),[e,n]),c=V.useMemo(()=>{var _,S,b;if(!l)return{};const h=(_=l.location)==null?void 0:_.lat,m=(S=l.location)==null?void 0:S.long;return{accommodation:{id:l["@id"]??"",description:Eb(l,"description"),location:{lat:h,long:m},offeredBy:((b=l.offeredBy)==null?void 0:b["@id"])??""},person:a??s}},[s,l,a]);return V.useMemo(()=>[c,{isLoading:i,isProfileLoading:o}],[c,i,o])},zNe="_container_5yist_1",HNe="_person_5yist_6",VNe="_name_5yist_11",KNe="_accommodation_5yist_14",C0={container:zNe,person:HNe,name:VNe,accommodation:KNe},GNe=({accommodationId:e})=>{const{webId:t}=mi(),n=jr(Ao),[{accommodation:r,person:i}]=qNe({accommodationId:e}),a=t&&(r==null?void 0:r.offeredBy)&&t!==r.offeredBy;return B.jsxs("div",{className:C0.container,children:[r?B.jsxs(B.Fragment,{children:[B.jsx("div",{className:C0.person,children:B.jsxs(Ko,{to:`/profile/${encodeURIComponent(r.offeredBy)}`,style:{display:"contents"},children:[B.jsx(ab,{...i,size:1.5,square:!0}),B.jsx("span",{className:C0.name,"data-cy":"accommodation-info-name",children:i==null?void 0:i.name})]})}),B.jsx(nI,{text:r.description,locale:n,as:"div",className:C0.accommodation,"data-cy":"accommodation-info-description"})]}):B.jsx(Ro,{children:B.jsx(_t,{id:"Z3FXyt"})}),a?B.jsx(_f,{primary:!0,to:`/messages/${encodeURIComponent(r.offeredBy)}`,children:B.jsx(_t,{id:"eWlz27"})}):null]})},WNe="_container_19njf_1",QNe="_offerOverlay_19njf_18",ZNe="_closeButton_19njf_28",JNe="_mapContainer_19njf_34",T0={container:WNe,offerOverlay:QNe,closeButton:ZNe,mapContainer:JNe},XNe=()=>{const{i18n:e,_:t}=Qr(),{communityId:n,tileServer:r}=kn(),[i,a]=iX(),o=i.get("hosting"),[s,l]=V.useState(),[c,d]=RNe(n,s),h=y=>{a({hosting:y})},m=V.useCallback((y,v)=>l(_=>Cz(_,v)?_:v),[]);return B.jsxs(B.Fragment,{children:[d&&B.jsx(CNe,{}),B.jsxs("div",{className:T0.container,children:[o&&B.jsxs("div",{className:T0.offerOverlay,children:[B.jsx("button",{onClick:()=>{a({})},className:T0.closeButton,"aria-label":e._({id:"C++TGh"}),children:B.jsx(yw,{})}),B.jsx(GNe,{accommodationId:o})]}),B.jsxs(YL,{className:T0.mapContainer,attributionControl:!1,zoom:1,center:[0,0],children:[B.jsx(tI,{url:r}),B.jsx(hW,{strings:{title:e._({id:"v5eALp"})},showPopup:!1,clickBehavior:{inView:"stop",outOfView:"setView",inViewNotFollowing:"setView"}}),B.jsx(UNe,{maxClusterRadius:20,children:c?c.map(y=>{var _,S;const v=((_=y.offeredBy)==null?void 0:_.name)||((S=y.offeredBy)==null?void 0:S.id);return B.jsx(eI,{position:[y.location.lat,y.location.long],eventHandlers:{click:()=>{h(y.id)}},icon:y.id===o?SX:xX("geohash-"+uy.encode(y.location.lat,y.location.long,10)),alt:e._({id:"hHo0hg",values:{offeredByIdentifier:v}})},y.id)}):null}),B.jsx(pW,{onUpdate:m})]})]})]})},YNe=({webId:e,className:t})=>{const{communityId:n}=kn(),[r]=Xo(e,n);return B.jsx(ab,{photo:r.photo,square:!0,size:1.25,className:t})},e3e="_threadList_1lsy0_1",t3e="_thread_1lsy0_1",n3e="_unread_1lsy0_14",r3e="_content_1lsy0_14",i3e="_avatar_1lsy0_17",Hd={threadList:e3e,thread:t3e,unread:n3e,content:r3e,avatar:i3e},a3e=()=>{const e=mi(),{data:t}=d0e(e.webId??"");return t?B.jsxs("div",{children:[B.jsx("h1",{children:B.jsx(_t,{id:"EnJuK0"})}),B.jsx("ul",{className:Hd.threadList,children:t.map(n=>{const r=n.participants.find(i=>i!==e.webId);return B.jsx("li",{"data-cy":"thread-list-item",children:B.jsx(Ko,{to:`/messages/${encodeURIComponent(r??"")}`,children:B.jsx(o3e,{thread:n})})},n.id)})})]}):B.jsx(Ro,{children:B.jsx(_t,{id:"Z3FXyt"})})},o3e=({thread:e})=>{const{communityId:t}=kn(),n=mi(),r=e.participants.find(o=>o!==n.webId),[i]=Xo(r??"",t),a=e.messages[e.messages.length-1];return B.jsxs("div",{className:Rr(Hd.thread,e.status&&Hd.unread),"data-cy":e.status&&"thread-unread",children:[B.jsx(YNe,{webId:r??"",className:Hd.avatar}),B.jsxs("div",{children:[B.jsx("div",{className:Hd.name,title:i.id,children:i.name}),B.jsx("div",{className:Hd.content,title:a==null?void 0:a.message,children:a==null?void 0:a.message})]})]})},s3e=()=>B.jsx(eW,{tabs:[],children:B.jsx(Gw,{})}),u3e=()=>B.jsx(NP,{to:"search",replace:!0}),l3e=XJ([{path:"/",element:B.jsx(xxe,{}),children:[{path:"/",element:B.jsx(sPe,{}),children:[{index:!0,element:B.jsx(WDe,{})},{path:"profile",children:[{index:!0,element:B.jsx(bNe,{})},{path:"edit",element:B.jsx(HDe,{})},{path:":id",element:B.jsx(wNe,{})},{path:":id/contacts",element:B.jsx(bPe,{})}]},{path:"messages",children:[{index:!0,element:B.jsx(a3e,{})},{path:":id",element:B.jsx(Cke,{})}]},{path:"host",element:B.jsx(ZDe,{}),children:[{index:!0,element:B.jsx(JDe,{})},{path:"offers",element:B.jsx(hNe,{})}]},{path:"travel",element:B.jsx(s3e,{}),children:[{index:!0,element:B.jsx(u3e,{})},{path:"search",element:B.jsx(XNe,{})}]}]},{path:"about",element:B.jsx(kTe,{})},{path:"*",element:B.jsx(pNe,{})}]}]),c3e=new WQ({defaultOptions:{queries:{retry:1}}}),f3e=cZ.createRoot(document.getElementById("root"));f3e.render(B.jsx(Pt.StrictMode,{children:B.jsx(CZ,{store:Hq,children:B.jsx(hq,{loading:null,persistor:wee,children:B.jsx(tZ,{client:c3e,children:B.jsx(DY,{children:B.jsx(zJ,{router:l3e})})})})})}));
